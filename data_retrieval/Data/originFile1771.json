{"items":[{"tags":["java","heap-memory"],"comments":[{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1303999861,"post_id":5819651,"comment_id":6678789,"body_markdown":"What sort of attack can you get in Java which ASLR would help you with?","body":"What sort of attack can you get in Java which ASLR would help you with?"},{"owner":{"display_name":"user244333"},"score":0,"creation_date":1304000257,"post_id":5819651,"comment_id":6678924,"body_markdown":"I just wanted to know if it is possible to differentiate ASLR and non ASLR predictability using java code","body":"I just wanted to know if it is possible to differentiate ASLR and non ASLR predictability using java code"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1304000771,"creation_date":1303999737,"answer_id":5819955,"question_id":5819651,"body_markdown":"You can&#39;t do this in pure Java.\r\n\r\n  - Machine address (pointers) are not exposed to Java applications.\r\n\r\n  - Even if they did, there&#39;s no Java API that tells you were the heap is.\r\n\r\nI suppose that you could use the values returned by `System.identityHashcode()` as ersatz machine addresses.  If you wrote a simple Java test application that examined identity hashcode of a sample object, then ran it multiple times with ASLR enabled and disabled, you might observe a difference in predictability.\r\n","title":"How to print the location of Heap using java for a process?","body":"<p>You can't do this in pure Java.</p>\n\n<ul>\n<li><p>Machine address (pointers) are not exposed to Java applications.</p></li>\n<li><p>Even if they did, there's no Java API that tells you were the heap is.</p></li>\n</ul>\n\n<p>I suppose that you could use the values returned by <code>System.identityHashcode()</code> as ersatz machine addresses.  If you wrote a simple Java test application that examined identity hashcode of a sample object, then ran it multiple times with ASLR enabled and disabled, you might observe a difference in predictability.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1304000884,"creation_date":1304000563,"answer_id":5820130,"question_id":5819651,"body_markdown":"You can call `Unsafe.allocateMemory(size)` on some JVMs. This returns a memory location.\r\n\r\nI don&#39;t recommend you do that and I don&#39;t recommend you worry about ASLR with Java.","title":"How to print the location of Heap using java for a process?","body":"<p>You can call <code>Unsafe.allocateMemory(size)</code> on some JVMs. This returns a memory location.</p>\n\n<p>I don't recommend you do that and I don't recommend you worry about ASLR with Java.</p>\n"},{"tags":[],"owner":{"account_id":1358,"reputation":13478,"user_id":1813,"accept_rate":83,"display_name":"Jon Bright"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1304000647,"creation_date":1304000647,"answer_id":5820145,"question_id":5819651,"body_markdown":"You should be able to do this with JNI.  Allocate an array of longs the size of your heap or just smaller and call the JNI test method.  \r\n\r\n    package com.example.aslrtest;\r\n    \r\n    public class Test {\r\n        private static native void test(long[] heapa);\r\n    \r\n        public void doTest()\r\n        {\r\n            long[] a=new long[size_of_available_heap/8];\r\n            for (long i=0; i!=a.length; i++)\r\n                a[i]=i;\r\n            test(a);\r\n            System.out.println(a[0]);\r\n        }\r\n    }\r\n\r\nThen with something like this JNI code, you can get the address of that array.\r\n\r\n    JNIEXPORT void JNICALL Java_com_example_aslrtest_Test_test(JNIEnv * env, jclass jc, jlongArray heapa)\r\n    {\r\n      jlong* heapp;\r\n      jboolean jniNoCopy = JNI_FALSE;\r\n      heapp = (*env)-&gt;GetLongArrayElements(env, heapa, &amp;jniNoCopy);\r\n      heapp[0] = (jlong)heapp;\r\n      (*env)-&gt;ReleaseLongArrayElements(env,heapa,heapp,0);\r\n    }\r\n\r\nWhen this code returns, the first element of the array should contain the address of the array.  \r\n\r\nWhether doing this makes sense is another question.  Depends what you&#39;re doing.  I&#39;m guessing probably not, but that&#39;s your call.\r\n\r\n\r\n\r\n","title":"How to print the location of Heap using java for a process?","body":"<p>You should be able to do this with JNI.  Allocate an array of longs the size of your heap or just smaller and call the JNI test method.  </p>\n\n<pre><code>package com.example.aslrtest;\n\npublic class Test {\n    private static native void test(long[] heapa);\n\n    public void doTest()\n    {\n        long[] a=new long[size_of_available_heap/8];\n        for (long i=0; i!=a.length; i++)\n            a[i]=i;\n        test(a);\n        System.out.println(a[0]);\n    }\n}\n</code></pre>\n\n<p>Then with something like this JNI code, you can get the address of that array.</p>\n\n<pre><code>JNIEXPORT void JNICALL Java_com_example_aslrtest_Test_test(JNIEnv * env, jclass jc, jlongArray heapa)\n{\n  jlong* heapp;\n  jboolean jniNoCopy = JNI_FALSE;\n  heapp = (*env)-&gt;GetLongArrayElements(env, heapa, &amp;jniNoCopy);\n  heapp[0] = (jlong)heapp;\n  (*env)-&gt;ReleaseLongArrayElements(env,heapa,heapp,0);\n}\n</code></pre>\n\n<p>When this code returns, the first element of the array should contain the address of the array.  </p>\n\n<p>Whether doing this makes sense is another question.  Depends what you're doing.  I'm guessing probably not, but that's your call.</p>\n"}],"owner":{"display_name":"user244333"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":322,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":5819955,"answer_count":3,"score":0,"last_activity_date":1639252150,"creation_date":1303998494,"question_id":5819651,"body_markdown":"I want to test if ASLR which randomizes the location of a heap for a process actually works.\r\n\r\n","title":"How to print the location of Heap using java for a process?","body":"<p>I want to test if ASLR which randomizes the location of a heap for a process actually works.</p>\n"},{"tags":["java","size","heap-memory"],"comments":[{"owner":{"account_id":318397,"reputation":203598,"user_id":635608,"display_name":"Mat"},"score":3,"creation_date":1305835052,"post_id":6064112,"comment_id":7020729,"body_markdown":"duplicate: http://stackoverflow.com/questions/880855/increase-the-java-heap-size-permanently","body":"duplicate: <a href=\"http://stackoverflow.com/questions/880855/increase-the-java-heap-size-permanently\" title=\"increase the java heap size permanently\">stackoverflow.com/questions/880855/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":28905,"reputation":5257,"user_id":77610,"accept_rate":90,"display_name":"Jon"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1305835040,"creation_date":1305835040,"answer_id":6064158,"question_id":6064112,"body_markdown":"You could try adding this to your shell profile `export _JAVA_OPTIONS=-Xmx16m`\r\n\r\nThis may or may not work depending on what JVM you are running.","title":"how to set default maximum heap size for Java (xmx), for linux (centos)","body":"<p>You could try adding this to your shell profile <code>export _JAVA_OPTIONS=-Xmx16m</code></p>\n\n<p>This may or may not work depending on what JVM you are running.</p>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1305835114,"creation_date":1305835114,"answer_id":6064174,"question_id":6064112,"body_markdown":"Create an environment variable `_JAVA_OPTIONS` and set the new value there. That should work","title":"how to set default maximum heap size for Java (xmx), for linux (centos)","body":"<p>Create an environment variable <code>_JAVA_OPTIONS</code> and set the new value there. That should work</p>\n"}],"owner":{"account_id":116736,"reputation":83,"user_id":306002,"display_name":"Nikos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28196,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":6064158,"answer_count":2,"score":4,"last_activity_date":1639252138,"creation_date":1305834744,"question_id":6064112,"body_markdown":"I have many small java programs running in crons in my server. I have an openvz VPS, and java is very poblematic with memory and openvz.\r\n\r\nThe best solution i have  come up so far is running my programs with:\r\n\r\n    java -Xmx16m class\r\n\r\nThis works ok, but I have many programs running, and i want to set the default maximum heap for all the system, so that i don&#39;t change all the start up scripts, and not have to remember to do that every time i write a new one.\r\n\r\nI tried finding a way to set/change a global default value for my CentOS system, but i had no luck with that!\r\n\r\nI would appreciate if someone could help me.\r\n\r\nThanks.","title":"how to set default maximum heap size for Java (xmx), for linux (centos)","body":"<p>I have many small java programs running in crons in my server. I have an openvz VPS, and java is very poblematic with memory and openvz.</p>\n\n<p>The best solution i have  come up so far is running my programs with:</p>\n\n<pre><code>java -Xmx16m class\n</code></pre>\n\n<p>This works ok, but I have many programs running, and i want to set the default maximum heap for all the system, so that i don't change all the start up scripts, and not have to remember to do that every time i write a new one.</p>\n\n<p>I tried finding a way to set/change a global default value for my CentOS system, but i had no luck with that!</p>\n\n<p>I would appreciate if someone could help me.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","heap-memory"],"comments":[{"owner":{"account_id":26547,"reputation":10270,"user_id":69178,"accept_rate":78,"display_name":"akappa"},"score":0,"creation_date":1306366791,"post_id":6132154,"comment_id":7117031,"body_markdown":"&quot;I ultimately would like to know which objects to drop first before running out of memory.&quot;. Why? Sounds like a terrible idea.","body":"&quot;I ultimately would like to know which objects to drop first before running out of memory.&quot;. Why? Sounds like a terrible idea."},{"owner":{"account_id":295598,"reputation":2479,"user_id":600094,"accept_rate":80,"display_name":"aav"},"score":0,"creation_date":1306368086,"post_id":6132154,"comment_id":7117251,"body_markdown":"maybe you should make some estimation/heuristics. objects you will place to the map will not come from nowhere. so, it should be possible to make some judgments about them.\n\neven if you will know exact size - it will not give too much. because you will get next question - which objects should be discarded? 1 large, or 10 small ones?","body":"maybe you should make some estimation/heuristics. objects you will place to the map will not come from nowhere. so, it should be possible to make some judgments about them.  even if you will know exact size - it will not give too much. because you will get next question - which objects should be discarded? 1 large, or 10 small ones?"},{"owner":{"account_id":26547,"reputation":10270,"user_id":69178,"accept_rate":78,"display_name":"akappa"},"score":1,"creation_date":1306368269,"post_id":6132154,"comment_id":7117278,"body_markdown":"but the very point is: why building software around implementation details which are explicitly undefined? Do you want to build a software which is exposed to implementation choices of the runtime, rather than on language semantics?","body":"but the very point is: why building software around implementation details which are explicitly undefined? Do you want to build a software which is exposed to implementation choices of the runtime, rather than on language semantics?"},{"owner":{"account_id":21591,"reputation":15417,"user_id":52573,"accept_rate":85,"display_name":"nes1983"},"score":0,"creation_date":1338027544,"post_id":6132154,"comment_id":13994737,"body_markdown":"possible duplicate of [In Java, what is the best way to determine the size of an object?](http://stackoverflow.com/questions/52353/in-java-what-is-the-best-way-to-determine-the-size-of-an-object)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/52353/in-java-what-is-the-best-way-to-determine-the-size-of-an-object\">In Java, what is the best way to determine the size of an object?</a>"}],"answers":[{"tags":[],"owner":{"account_id":334652,"reputation":2551,"user_id":661232,"accept_rate":93,"display_name":"chrislovecnm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1306367277,"creation_date":1306367277,"answer_id":6132262,"question_id":6132154,"body_markdown":"If you are in a container you can use Jconsole http://java.sun.com/developer/technicalArticles/J2SE/jconsole.html\r\n\r\nThe jdk since 1.5 comes with heap dump ulits... You in a container or in eclipse?  Also why do you have a List of Objects??","title":"Is it possbile to see how much heap an object is using?","body":"<p>If you are in a container you can use Jconsole <a href=\"http://java.sun.com/developer/technicalArticles/J2SE/jconsole.html\" rel=\"nofollow\">http://java.sun.com/developer/technicalArticles/J2SE/jconsole.html</a></p>\n\n<p>The jdk since 1.5 comes with heap dump ulits... You in a container or in eclipse?  Also why do you have a List of Objects??</p>\n"},{"tags":[],"owner":{"account_id":107062,"reputation":1625,"user_id":284843,"display_name":"bamana"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1306367798,"creation_date":1306367798,"answer_id":6132317,"question_id":6132154,"body_markdown":"Something you could do is make a `Map&lt;Object, Long&gt;` which maps each object to it&#39;s memory size.\r\n\r\nThen to measure the size of a particular object, you have to do it at instantiation of each object - measure the JVM memory use before (calling `Runtime.totalMemory()`) and after building the object (calling `Runtime.totalMemory()`) and take the difference between the two - that is the size of the object in memory. Then add the `Object` and `Long` to your map. From there you should be able to loop through all of the keys in the map and find the object using the largest amount of space.\r\n\r\nI am not sure there is a way to do it per object after you already have your `List&lt;Object&gt;`... I hope this is helpful!","title":"Is it possbile to see how much heap an object is using?","body":"<p>Something you could do is make a <code>Map&lt;Object, Long&gt;</code> which maps each object to it's memory size.</p>\n\n<p>Then to measure the size of a particular object, you have to do it at instantiation of each object - measure the JVM memory use before (calling <code>Runtime.totalMemory()</code>) and after building the object (calling <code>Runtime.totalMemory()</code>) and take the difference between the two - that is the size of the object in memory. Then add the <code>Object</code> and <code>Long</code> to your map. From there you should be able to loop through all of the keys in the map and find the object using the largest amount of space.</p>\n\n<p>I am not sure there is a way to do it per object after you already have your <code>List&lt;Object&gt;</code>... I hope this is helpful!</p>\n"},{"tags":[],"owner":{"account_id":295598,"reputation":2479,"user_id":600094,"accept_rate":80,"display_name":"aav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1306367819,"creation_date":1306367819,"answer_id":6132322,"question_id":6132154,"body_markdown":"There is no clean way to do it. You can create a dummy OutputStream which will do nothing but counting number of bytes written. So, you can make some *estimation* about your object graph size by serializing it to such stream. \r\n\r\nI would not advise to do it in production system. I, personally, did it once for experimenting and making estimations.","title":"Is it possbile to see how much heap an object is using?","body":"<p>There is no clean way to do it. You can create a dummy OutputStream which will do nothing but counting number of bytes written. So, you can make some <em>estimation</em> about your object graph size by serializing it to such stream. </p>\n\n<p>I would not advise to do it in production system. I, personally, did it once for experimenting and making estimations.</p>\n"},{"tags":[],"owner":{"account_id":123612,"reputation":48061,"user_id":318174,"accept_rate":71,"display_name":"Adam Gent"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1306369819,"creation_date":1306369819,"answer_id":6132522,"question_id":6132154,"body_markdown":"Actually another possible tactic is just to make a crap load of instance of the class you want to check (like a million in an array).\r\n\r\nThe sheer number of objects should negate the overhead (as in the overhead of other stuff will be much smaller than your crap load of objects).\r\n\r\nYou will want to run this in isolation of course (ie public static main()).\r\n\r\nI will admit you will need lots of memory for this test. ","title":"Is it possbile to see how much heap an object is using?","body":"<p>Actually another possible tactic is just to make a crap load of instance of the class you want to check (like a million in an array).</p>\n\n<p>The sheer number of objects should negate the overhead (as in the overhead of other stuff will be much smaller than your crap load of objects).</p>\n\n<p>You will want to run this in isolation of course (ie public static main()).</p>\n\n<p>I will admit you will need lots of memory for this test. </p>\n"},{"tags":[],"owner":{"account_id":48334,"reputation":19092,"user_id":143585,"accept_rate":67,"display_name":"Denis Tulskiy"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1306381172,"creation_date":1306381172,"answer_id":6133413,"question_id":6132154,"body_markdown":"[SoftReference][1] looks kinda like what you need. Create a list of soft references to your objects, and if those objects are not referenced anywhere and you run out of memory, JVM will delete some of them. I don&#39;t know how smart the algorithm for choosing what to delete is, but it could as well be removing those that will free most memory.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/lang/ref/SoftReference.html","title":"Is it possbile to see how much heap an object is using?","body":"<p><a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/ref/SoftReference.html\" rel=\"nofollow\">SoftReference</a> looks kinda like what you need. Create a list of soft references to your objects, and if those objects are not referenced anywhere and you run out of memory, JVM will delete some of them. I don't know how smart the algorithm for choosing what to delete is, but it could as well be removing those that will free most memory.</p>\n"}],"owner":{"account_id":42963,"reputation":39768,"user_id":125380,"accept_rate":69,"display_name":"User1"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1639252128,"creation_date":1306366448,"question_id":6132154,"body_markdown":"If I have a `List&lt;Object&gt;`, would it be possible to run some method on each Object to see how much memory each is consuming?  I know nothing about each Object it may be an entire video file loaded onto the heap or just a two-byte string.  I ultimately would like to know which objects to drop first before running out of memory.\r\n\r\nI think `Runtime.totalMemory()` shows the memory currently used by the JVM, but I want to see the memory used by a single object.","title":"Is it possbile to see how much heap an object is using?","body":"<p>If I have a <code>List&lt;Object&gt;</code>, would it be possible to run some method on each Object to see how much memory each is consuming?  I know nothing about each Object it may be an entire video file loaded onto the heap or just a two-byte string.  I ultimately would like to know which objects to drop first before running out of memory.</p>\n\n<p>I think <code>Runtime.totalMemory()</code> shows the memory currently used by the JVM, but I want to see the memory used by a single object.</p>\n"},{"tags":["java","object","caching","hashmap","heap-memory"],"comments":[{"owner":{"account_id":396341,"reputation":683,"user_id":759837,"accept_rate":42,"display_name":"anfy2002us"},"score":0,"creation_date":1306919053,"post_id":6198639,"comment_id":7213416,"body_markdown":"jconsole or some profiling tool","body":"jconsole or some profiling tool"}],"answers":[{"tags":[],"owner":{"account_id":408372,"reputation":8732,"user_id":778990,"display_name":"ignis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1306919349,"creation_date":1306919349,"answer_id":6198752,"question_id":6198639,"body_markdown":"Be aware that invoking\r\n\r\n    System.gc()\r\nor\r\n\r\n    Runtime.getRuntime().gc()\r\nis a bad idea unless you really need to do that. You should leave the VM the task of deciding when to free objects, unless after profiling you found that it&#39;s the only way to make the application go faster on your client&#39;s VM.","title":"How i can know how much memory my cached objects are using?","body":"<p>Be aware that invoking</p>\n\n<pre><code>System.gc()\n</code></pre>\n\n<p>or</p>\n\n<pre><code>Runtime.getRuntime().gc()\n</code></pre>\n\n<p>is a bad idea unless you really need to do that. You should leave the VM the task of deciding when to free objects, unless after profiling you found that it's the only way to make the application go faster on your client's VM.</p>\n"},{"tags":[],"owner":{"account_id":102129,"reputation":7632,"user_id":274344,"accept_rate":82,"display_name":"Simeon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1306920639,"creation_date":1306919838,"answer_id":6198840,"question_id":6198639,"body_markdown":"&gt; how i can find how much memory the list is using\r\n\r\n - [JProfiler][1]\r\n - [VisualVM][2]\r\n\r\n&gt; how i can optimize the refresh list.\r\n\r\nMake sure you&#39;re using the correct collection type for your data.\r\nHave a look [here][3].\r\n\r\nAlso have a look at the [Guava collections][4].\r\n\r\n\r\n----------\r\n\r\nOne last thing, ignis is **very** right by advising you not to use `System.gc()` this might be the very reason you&#39;re having performance problems. [This][5] is why.\r\n\r\n\r\n  [1]: http://www.ej-technologies.com/products/jprofiler/overview.html\r\n  [2]: http://visualvm.java.net/\r\n  [3]: http://www.javapractices.com/topic/TopicAction.do?Id=65\r\n  [4]: http://code.google.com/p/google-collections/\r\n  [5]: https://stackoverflow.com/questions/28949/why-do-you-not-explicitly-call-finalize-or-start-the-garbage-collector","title":"How i can know how much memory my cached objects are using?","body":"<blockquote>\n  <p>how i can find how much memory the list is using</p>\n</blockquote>\n\n<ul>\n<li><a href=\"http://www.ej-technologies.com/products/jprofiler/overview.html\" rel=\"nofollow noreferrer\">JProfiler</a></li>\n<li><a href=\"http://visualvm.java.net/\" rel=\"nofollow noreferrer\">VisualVM</a></li>\n</ul>\n\n<blockquote>\n  <p>how i can optimize the refresh list.</p>\n</blockquote>\n\n<p>Make sure you're using the correct collection type for your data.\nHave a look <a href=\"http://www.javapractices.com/topic/TopicAction.do?Id=65\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Also have a look at the <a href=\"http://code.google.com/p/google-collections/\" rel=\"nofollow noreferrer\">Guava collections</a>.</p>\n\n<hr>\n\n<p>One last thing, ignis is <strong>very</strong> right by advising you not to use <code>System.gc()</code> this might be the very reason you're having performance problems. <a href=\"https://stackoverflow.com/questions/28949/why-do-you-not-explicitly-call-finalize-or-start-the-garbage-collector\">This</a> is why.</p>\n"},{"tags":[],"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1306920470,"creation_date":1306920470,"answer_id":6199000,"question_id":6198639,"body_markdown":"I tend to use [`YourKit`][1] for this sort of thing. It costs money but IMO is worth every penny (no connection other than as a customer).\r\n\r\n\r\n  [1]: http://www.yourkit.com/overview/index.jsp","title":"How i can know how much memory my cached objects are using?","body":"<p>I tend to use <a href=\"http://www.yourkit.com/overview/index.jsp\" rel=\"nofollow\"><code>YourKit</code></a> for this sort of thing. It costs money but IMO is worth every penny (no connection other than as a customer).</p>\n"},{"tags":[],"owner":{"account_id":259521,"reputation":4921,"user_id":542461,"display_name":"Joseph Ottinger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1306920556,"creation_date":1306920556,"answer_id":6199026,"question_id":6198639,"body_markdown":"You have two problems here: discovering how much memory is in use, and managing a cache. I&#39;m not sure that the two are really closely related, although they may be.\r\n\r\nDiscovering how much memory an object uses isn&#39;t extremely difficult: one *excellent* article you can use for reference is &quot;&lt;a href=&quot;http://www.javaworld.com/javaworld/javaqa/2003-12/02-qa-1226-sizeof.html&quot;&gt;Sizeof for Java&lt;/a&gt;&quot; from JavaWorld. It escapes the whole garbage collection fiasco, which has a ton of holes in it (it&#39;s slow, it doesn&#39;t count the object but the heap - meaning that other objects factor into your results that you may not want, etc.)\r\n\r\nManaging the time to initialize the cache is another problem. I work for a company that has a data grid as a product, and thus I&#39;m biased; be aware.\r\n\r\nOne option is not using a cache at all, but using a data grid. I work for &lt;a href=&quot;http://gigaspaces.com&quot;&gt;GigaSpaces Technologies&lt;/a&gt;, and I feel ours is the best; we can load data from a database on startup, and hold your data there as a distributed, transactional data store in memory (so your greatest cost is network access.)  We have a community edition as well as full-featured platforms, depending on your need and budget. (The community edition is free.) We support various protocols, including JDBC, JPA, JMS, Memcached, a Map API (similar to JCache), and a native API.\r\n\r\nOther similar options include Coherence, which is itself a data grid, and Terracotta DSO, which can distribute an object graph on a JVM heap.\r\n\r\nYou can also look at the cache projects themselves: Two include Ehcache and OSCache. (Again: bias. I was one of the people who started OpenSymphony, so I&#39;ve a soft spot for OSCache.) In your case, what would happen is not a preload of cache - note that I don&#39;t know your application, so I&#39;m guessing and might be wrong - but a cache on demand. When you acquire data, you&#39;d check the cache for data first and fetch from the DB only if the data is not in cache, and load the cache on read.\r\n\r\nOf course, you can also look at memcached, although I obviously prefer my employer&#39;s offering here.","title":"How i can know how much memory my cached objects are using?","body":"<p>You have two problems here: discovering how much memory is in use, and managing a cache. I'm not sure that the two are really closely related, although they may be.</p>\n\n<p>Discovering how much memory an object uses isn't extremely difficult: one <em>excellent</em> article you can use for reference is \"<a href=\"http://www.javaworld.com/javaworld/javaqa/2003-12/02-qa-1226-sizeof.html\" rel=\"nofollow\">Sizeof for Java</a>\" from JavaWorld. It escapes the whole garbage collection fiasco, which has a ton of holes in it (it's slow, it doesn't count the object but the heap - meaning that other objects factor into your results that you may not want, etc.)</p>\n\n<p>Managing the time to initialize the cache is another problem. I work for a company that has a data grid as a product, and thus I'm biased; be aware.</p>\n\n<p>One option is not using a cache at all, but using a data grid. I work for <a href=\"http://gigaspaces.com\" rel=\"nofollow\">GigaSpaces Technologies</a>, and I feel ours is the best; we can load data from a database on startup, and hold your data there as a distributed, transactional data store in memory (so your greatest cost is network access.)  We have a community edition as well as full-featured platforms, depending on your need and budget. (The community edition is free.) We support various protocols, including JDBC, JPA, JMS, Memcached, a Map API (similar to JCache), and a native API.</p>\n\n<p>Other similar options include Coherence, which is itself a data grid, and Terracotta DSO, which can distribute an object graph on a JVM heap.</p>\n\n<p>You can also look at the cache projects themselves: Two include Ehcache and OSCache. (Again: bias. I was one of the people who started OpenSymphony, so I've a soft spot for OSCache.) In your case, what would happen is not a preload of cache - note that I don't know your application, so I'm guessing and might be wrong - but a cache on demand. When you acquire data, you'd check the cache for data first and fetch from the DB only if the data is not in cache, and load the cache on read.</p>\n\n<p>Of course, you can also look at memcached, although I obviously prefer my employer's offering here.</p>\n"},{"tags":[],"owner":{"account_id":18182,"reputation":33673,"user_id":41423,"accept_rate":100,"display_name":"Nick Holt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1306921499,"creation_date":1306921499,"answer_id":6199213,"question_id":6198639,"body_markdown":"First, while not wanting to generalize when it comes to performance problems, the issue you&#39;re seeing are unlikely to be purely down to memory use, though if the lists are large this could come into play when they&#39;re refreshed and a large number of objects become eligible for collection. \r\n\r\nTo solve issues relating to garbage collection there&#39;s a few rules of thumb, but it always comes down to breaking out a profiler an tuning the garbage collector - there&#39;s more on that [here][1].\r\n\r\nBut before that any loading of a database is going to involve iteration over a result set, so the biggest optimization you can make will be to reduce the size of the result sets.  There&#39;s a couple of ways to do that:\r\n\r\n 1. if you using a map, try to use keys that don&#39;t require loading and do the load when you get a miss.\r\n 2. once loaded, only refresh the rows that have changed since you last loaded the data, though this obivously doesn&#39;t solve the start-up problem.\r\n\r\nNow all that said, I would not recommend you write your own caching code in the first place.  The reasons I say this are:\r\n\r\n 1. all modern RDBMS cache, so providing your queries are performant getting the actual result set should not be a bottleneck.\r\n 2. Hibernate provides not only ORM but a robust and well understood caching solution.\r\n 3. if you really need to cache massive datasets, use Coherence or similar - the cache can be started in a seperate JVM and your application doesn&#39;t need to take the load hit.\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/gc-tuning-6-140523.html","title":"How i can know how much memory my cached objects are using?","body":"<p>First, while not wanting to generalize when it comes to performance problems, the issue you're seeing are unlikely to be purely down to memory use, though if the lists are large this could come into play when they're refreshed and a large number of objects become eligible for collection. </p>\n\n<p>To solve issues relating to garbage collection there's a few rules of thumb, but it always comes down to breaking out a profiler an tuning the garbage collector - there's more on that <a href=\"http://www.oracle.com/technetwork/java/javase/gc-tuning-6-140523.html\" rel=\"nofollow\">here</a>.</p>\n\n<p>But before that any loading of a database is going to involve iteration over a result set, so the biggest optimization you can make will be to reduce the size of the result sets.  There's a couple of ways to do that:</p>\n\n<ol>\n<li>if you using a map, try to use keys that don't require loading and do the load when you get a miss.</li>\n<li>once loaded, only refresh the rows that have changed since you last loaded the data, though this obivously doesn't solve the start-up problem.</li>\n</ol>\n\n<p>Now all that said, I would not recommend you write your own caching code in the first place.  The reasons I say this are:</p>\n\n<ol>\n<li>all modern RDBMS cache, so providing your queries are performant getting the actual result set should not be a bottleneck.</li>\n<li>Hibernate provides not only ORM but a robust and well understood caching solution.</li>\n<li>if you really need to cache massive datasets, use Coherence or similar - the cache can be started in a seperate JVM and your application doesn't need to take the load hit.</li>\n</ol>\n"}],"owner":{"account_id":759713,"reputation":13,"user_id":777202,"display_name":"harry"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2035,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1639252117,"creation_date":1306918786,"question_id":6198639,"body_markdown":"We are trying to cache the results of database selects (in hash map), so we wouldn’t have to execute them multiple times. and whenever we are changing data base, so for getting the changes in app we have added refresh list functionality.\r\n\r\nNow we have a large no of list to fetch, so it taking too much time to load pick list from the data base.\r\n\r\nSo I have some question regarding this issue:\r\n\r\n 1. How I can find out how much memory the list is using? (I have used the method where we are using garbage collector for collecting the memory and taking the difference but there are many list and so it is taking too much time)\r\n\r\n 2. How I can optimize the refresh list?\r\n\r\nThanks for the help.","title":"How i can know how much memory my cached objects are using?","body":"<p>We are trying to cache the results of database selects (in hash map), so we wouldn’t have to execute them multiple times. and whenever we are changing data base, so for getting the changes in app we have added refresh list functionality.</p>\n\n<p>Now we have a large no of list to fetch, so it taking too much time to load pick list from the data base.</p>\n\n<p>So I have some question regarding this issue:</p>\n\n<ol>\n<li><p>How I can find out how much memory the list is using? (I have used the method where we are using garbage collector for collecting the memory and taking the difference but there are many list and so it is taking too much time)</p></li>\n<li><p>How I can optimize the refresh list?</p></li>\n</ol>\n\n<p>Thanks for the help.</p>\n"},{"tags":["java","arraylist","heap-memory"],"comments":[{"owner":{"account_id":34541,"reputation":33228,"user_id":97688,"accept_rate":76,"display_name":"clamp"},"score":2,"creation_date":1307007751,"post_id":6212796,"comment_id":7233672,"body_markdown":"increase your heap by specifying the -Xmx parameter when launching the virtual machine.","body":"increase your heap by specifying the -Xmx parameter when launching the virtual machine."},{"owner":{"account_id":85022,"reputation":13917,"user_id":237321,"accept_rate":75,"display_name":"x4u"},"score":1,"creation_date":1307008099,"post_id":6212796,"comment_id":7233733,"body_markdown":"possible duplicate of [How to deal with &quot;java.lang.OutOfMemoryError: Java heap space&quot; error (64MB heap size)](http://stackoverflow.com/questions/37335/how-to-deal-with-java-lang-outofmemoryerror-java-heap-space-error-64mb-heap-s)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/37335/how-to-deal-with-java-lang-outofmemoryerror-java-heap-space-error-64mb-heap-s\">How to deal with &quot;java.lang.OutOfMemoryError: Java heap space&quot; error (64MB heap size)</a>"}],"answers":[{"tags":[],"owner":{"account_id":396855,"reputation":15238,"user_id":760656,"display_name":"Ramesh PVK"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1309736316,"creation_date":1307007783,"answer_id":6212821,"question_id":6212796,"body_markdown":"Increase the Java heap size with the `-Xmx` Java system property. For example, give it as \r\n\r\n    java -Xmx1024m Main\r\n","title":"Java heap space error while creating ArrayList of large number of objects?","body":"<p>Increase the Java heap size with the <code>-Xmx</code> Java system property. For example, give it as </p>\n\n<pre><code>java -Xmx1024m Main\n</code></pre>\n"},{"tags":[],"owner":{"account_id":348820,"reputation":4788,"user_id":683739,"display_name":"jberg"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1309736278,"creation_date":1307007856,"answer_id":6212829,"question_id":6212796,"body_markdown":"It seems like you need to pass your program more memory.\r\n\r\nTry running it like this:\r\n\r\n    java -Xmx256M MyApp\r\n\r\n\r\n`-Xmx` sets the maximum heap size for Java.  Putting M afterwards means megabytes, and G afterwards means gigabytes. So you can always do this if you have a bunch of memory:\r\n\r\n    java -Xmx1g MyApp\r\n","title":"Java heap space error while creating ArrayList of large number of objects?","body":"<p>It seems like you need to pass your program more memory.</p>\n\n<p>Try running it like this:</p>\n\n<pre><code>java -Xmx256M MyApp\n</code></pre>\n\n<p><code>-Xmx</code> sets the maximum heap size for Java.  Putting M afterwards means megabytes, and G afterwards means gigabytes. So you can always do this if you have a bunch of memory:</p>\n\n<pre><code>java -Xmx1g MyApp\n</code></pre>\n"}],"owner":{"account_id":304628,"reputation":2336,"user_id":614249,"accept_rate":90,"display_name":"Asghar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2342,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":6212829,"answer_count":2,"score":0,"last_activity_date":1639252106,"creation_date":1307007664,"question_id":6212796,"body_markdown":"I have created an ArrayList (Java) of my custom class objects with a size around 3000.\r\nBut when I run my code it gets the error &quot;Heap space error&quot;.\r\n\r\nI want to keep thousands of objects in an ArrayList at runtime without getting out of heap space.\r\n\r\nHow can the heap space error be avoided?\r\n","title":"Java heap space error while creating ArrayList of large number of objects?","body":"<p>I have created an ArrayList (Java) of my custom class objects with a size around 3000.\nBut when I run my code it gets the error \"Heap space error\".</p>\n\n<p>I want to keep thousands of objects in an ArrayList at runtime without getting out of heap space.</p>\n\n<p>How can the heap space error be avoided?</p>\n"},{"tags":["java","heap-memory"],"answers":[{"tags":[],"owner":{"account_id":96415,"reputation":1902,"user_id":262067,"display_name":"mkro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1308776131,"creation_date":1308776131,"answer_id":6446456,"question_id":6446424,"body_markdown":"have you tried it like this? -XX:+HeapDumpOnCtrlBreak\r\n\r\nmaybe this link is of use to you: http://www.startux.de/index.php/component/content/article/25-java/45-java-heap-dump\r\n\r\nThis link is also interesting:\r\n\r\nhttp://blogs.oracle.com/alanb/entry/heap_dumps_are_back_with","title":"collect heap dump in java 1.4.0 in windows","body":"<p>have you tried it like this? -XX:+HeapDumpOnCtrlBreak</p>\n\n<p>maybe this link is of use to you: <a href=\"http://www.startux.de/index.php/component/content/article/25-java/45-java-heap-dump\" rel=\"nofollow\">http://www.startux.de/index.php/component/content/article/25-java/45-java-heap-dump</a></p>\n\n<p>This link is also interesting:</p>\n\n<p><a href=\"http://blogs.oracle.com/alanb/entry/heap_dumps_are_back_with\" rel=\"nofollow\">http://blogs.oracle.com/alanb/entry/heap_dumps_are_back_with</a></p>\n"}],"owner":{"account_id":428667,"reputation":1,"user_id":811146,"display_name":"praveen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":544,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639252095,"creation_date":1308775981,"question_id":6446424,"body_markdown":"I am trying to collect heap dump for my application. It&#39;s running a java 1.4.0 on Windows platform. The option like -xxheapdump options won&#39;t work. Do v have any tool to achieve this. \r\nHighly appreciate the help.","title":"collect heap dump in java 1.4.0 in windows","body":"<p>I am trying to collect heap dump for my application. It's running a java 1.4.0 on Windows platform. The option like -xxheapdump options won't work. Do v have any tool to achieve this. \nHighly appreciate the help.</p>\n"},{"tags":["java","arrays","heap-memory"],"comments":[{"owner":{"account_id":85862,"reputation":1063,"user_id":239133,"accept_rate":78,"display_name":"Andy Hunt"},"score":0,"creation_date":1313080172,"post_id":7029463,"comment_id":8397871,"body_markdown":"You ARE using 100,000,00 (100 million) ints, are you sure the default heap size will support that?","body":"You ARE using 100,000,00 (100 million) ints, are you sure the default heap size will support that?"}],"answers":[{"tags":[],"owner":{"account_id":131213,"reputation":47334,"user_id":331052,"display_name":"Affe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1313080085,"creation_date":1313080085,"answer_id":7029497,"question_id":7029463,"body_markdown":"10,000 * 10,000 * 4 bytes = 400,000,000\r\n\r\nNo, that 400Million Bytes won&#39;t fit inside the default heap space!","title":"OutOfMemoryError on 10000x10000 int array in eclipse","body":"<p>10,000 * 10,000 * 4 bytes = 400,000,000</p>\n\n<p>No, that 400Million Bytes won't fit inside the default heap space!</p>\n"},{"tags":[],"owner":{"account_id":187974,"reputation":20625,"user_id":426412,"display_name":"Vivien Barousse"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1313080277,"creation_date":1313080099,"answer_id":7029503,"question_id":7029463,"body_markdown":"You are trying to allocate memory for 10 000 arrays of length 10 000. This requires lots of memory (about 400 MiB, by a raw calculation), which are unavailable in your JVM. This causes your ``OutOfMemoryError``.\r\n\r\nTry to augment the amount of memory allocated to your JVM in the execution arguments. You are looking at something like the ``-Xmx`` argument. Try giving it a value greater than 400 MiB. I think you might be able to change this value in the project properties in Eclipse.","title":"OutOfMemoryError on 10000x10000 int array in eclipse","body":"<p>You are trying to allocate memory for 10 000 arrays of length 10 000. This requires lots of memory (about 400 MiB, by a raw calculation), which are unavailable in your JVM. This causes your <code>OutOfMemoryError</code>.</p>\n\n<p>Try to augment the amount of memory allocated to your JVM in the execution arguments. You are looking at something like the <code>-Xmx</code> argument. Try giving it a value greater than 400 MiB. I think you might be able to change this value in the project properties in Eclipse.</p>\n"},{"tags":[],"owner":{"account_id":400766,"reputation":5019,"user_id":766921,"display_name":"mrk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1313080152,"creation_date":1313080152,"answer_id":7029518,"question_id":7029463,"body_markdown":"I think your gut feeling is wrong and that 10000 * 10000 * (size of int) bytes is bigger than your default heap size. \r\n\r\n","title":"OutOfMemoryError on 10000x10000 int array in eclipse","body":"<p>I think your gut feeling is wrong and that 10000 * 10000 * (size of int) bytes is bigger than your default heap size. </p>\n"},{"tags":[],"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1313080165,"creation_date":1313080165,"answer_id":7029526,"question_id":7029463,"body_markdown":"Let&#39;s see...10,000 times 10,000 = 100,000,000. Four bytes per integer gets you to 400,000,000 bytes. Plus some overhead for the 10,000 array elements. You think that allocating half a gigabyte should &quot;run just fine&quot; without doing anything about the heap size?","title":"OutOfMemoryError on 10000x10000 int array in eclipse","body":"<p>Let's see...10,000 times 10,000 = 100,000,000. Four bytes per integer gets you to 400,000,000 bytes. Plus some overhead for the 10,000 array elements. You think that allocating half a gigabyte should \"run just fine\" without doing anything about the heap size?</p>\n"},{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1313080281,"creation_date":1313080281,"answer_id":7029543,"question_id":7029463,"body_markdown":"An int takes 4 bytes.\r\n\r\n10000 * 10000 * 4 bytes = 400000000 bytes ~= 381 MBs. And you have to add the size of the taken by the arrays.\r\n\r\nIf your heap size is less than that, then you need to increase the heap size.","title":"OutOfMemoryError on 10000x10000 int array in eclipse","body":"<p>An int takes 4 bytes.</p>\n\n<p>10000 * 10000 * 4 bytes = 400000000 bytes ~= 381 MBs. And you have to add the size of the taken by the arrays.</p>\n\n<p>If your heap size is less than that, then you need to increase the heap size.</p>\n"}],"owner":{"account_id":478308,"reputation":97,"user_id":890318,"accept_rate":75,"display_name":"zdevex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1744,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":7029503,"answer_count":5,"score":0,"last_activity_date":1639252073,"creation_date":1313079906,"question_id":7029463,"body_markdown":"I was wrote a little scratch program to check the time of looping through a 2 dimensional array by rows or columns, since I remembered that one way was much faster for large data sets, but I couldn&#39;t remember which way.  I ran into an interesting error when I ran my program though.  \r\n\r\n    Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\r\n\tat testing.ForLoopTest.main(ForLoopTest.java:10)\r\n\r\nNow in my test I am using a int[10000][10000] running from in eclipse with the default heap settings.  I know that I can increase the heap size, but my gut tells me that this should run just fine without me needing to do that.  Is this normal?  Is there something silly in my code that I am not seeing? \r\n\r\nHere is my code\r\n\r\n    public static void main(String[] args){\r\n\t\tfinal int arrSize = 10000;\r\n\t\tlong start = 0;\r\n\t\tlong rowFirstTime = 0;\r\n\t\tlong colFirstTime = 0;\r\n\t\tint[][] arr = new int[arrSize][arrSize];\r\n\t\t\r\n\t\tstart = System.currentTimeMillis();\r\n\t\tfor(int x = 0; x &lt; arrSize; x++){\r\n\t\t\tfor(int y = 0; y &lt; arrSize; y++){\r\n\t\t\t\tarr[x][y] = -1;\r\n\t\t\t}\r\n\t\t}\r\n\t\trowFirstTime = System.currentTimeMillis() - start;\r\n\t\tstart = System.currentTimeMillis();\r\n\t\tfor(int y = 0; y &lt; arrSize; y++){\r\n\t\t\tfor(int x = 0; x &lt; arrSize; x++){\r\n\t\t\t\tarr[x][y] = 0;\r\n\t\t\t}\r\n\t\t}\r\n\t\tcolFirstTime = System.currentTimeMillis() - start;\r\n\t\tSystem.out.println(&quot;row time is &quot; + rowFirstTime);\r\n\t\tSystem.out.println(&quot;col time is &quot; + colFirstTime);\r\n\t}\r\n\r\nThe error happens on array initialization, it doesn&#39;t get to the for loops.\r\n\r\nThanks,\r\nzdevex","title":"OutOfMemoryError on 10000x10000 int array in eclipse","body":"<p>I was wrote a little scratch program to check the time of looping through a 2 dimensional array by rows or columns, since I remembered that one way was much faster for large data sets, but I couldn't remember which way.  I ran into an interesting error when I ran my program though.  </p>\n\n<pre><code>Exception in thread \"main\" java.lang.OutOfMemoryError: Java heap space\nat testing.ForLoopTest.main(ForLoopTest.java:10)\n</code></pre>\n\n<p>Now in my test I am using a int[10000][10000] running from in eclipse with the default heap settings.  I know that I can increase the heap size, but my gut tells me that this should run just fine without me needing to do that.  Is this normal?  Is there something silly in my code that I am not seeing? </p>\n\n<p>Here is my code</p>\n\n<pre><code>public static void main(String[] args){\n    final int arrSize = 10000;\n    long start = 0;\n    long rowFirstTime = 0;\n    long colFirstTime = 0;\n    int[][] arr = new int[arrSize][arrSize];\n\n    start = System.currentTimeMillis();\n    for(int x = 0; x &lt; arrSize; x++){\n        for(int y = 0; y &lt; arrSize; y++){\n            arr[x][y] = -1;\n        }\n    }\n    rowFirstTime = System.currentTimeMillis() - start;\n    start = System.currentTimeMillis();\n    for(int y = 0; y &lt; arrSize; y++){\n        for(int x = 0; x &lt; arrSize; x++){\n            arr[x][y] = 0;\n        }\n    }\n    colFirstTime = System.currentTimeMillis() - start;\n    System.out.println(\"row time is \" + rowFirstTime);\n    System.out.println(\"col time is \" + colFirstTime);\n}\n</code></pre>\n\n<p>The error happens on array initialization, it doesn't get to the for loops.</p>\n\n<p>Thanks,\nzdevex</p>\n"},{"tags":["java","heap-memory","visualvm"],"answers":[{"tags":[],"owner":{"account_id":103389,"reputation":6773,"user_id":276950,"display_name":"Tomas Hurka"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1313606323,"creation_date":1313606323,"answer_id":7097746,"question_id":7095805,"body_markdown":"Heap dump is not a core dump. So you have to open your .hprof file as a heap dump in VisualVM.","title":"VisualVM - not a valid core dump","body":"<p>Heap dump is not a core dump. So you have to open your .hprof file as a heap dump in VisualVM.</p>\n"},{"tags":[],"owner":{"account_id":89872,"reputation":2406,"user_id":247684,"display_name":"Guillermo Garcia"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1465825186,"creation_date":1465825186,"answer_id":37791314,"question_id":7095805,"body_markdown":"The file you are trying to open is a *Head Dump* not a *Core Dump*.\r\n\r\nFollow this steps:\r\n\r\n 1. Go to ***File*** &gt; ***Load...*** \r\n 2. Select the *File Format:* as ***Heap Dumps (\\*.hprof, \\*.\\*)***\r\n 3. Choose your file and click on Open.","title":"VisualVM - not a valid core dump","body":"<p>The file you are trying to open is a <em>Head Dump</em> not a <em>Core Dump</em>.</p>\n\n<p>Follow this steps:</p>\n\n<ol>\n<li>Go to <strong><em>File</em></strong> > <strong><em>Load...</em></strong> </li>\n<li>Select the <em>File Format:</em> as <strong><em>Heap Dumps (*.hprof, *.*)</em></strong></li>\n<li>Choose your file and click on Open.</li>\n</ol>\n"}],"owner":{"account_id":809814,"reputation":401,"user_id":898728,"accept_rate":17,"display_name":"Ros"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6891,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":2,"score":14,"last_activity_date":1639252054,"creation_date":1313596452,"question_id":7095805,"body_markdown":"I have .hprof heap dump generated from JVM OutOfMemory (JDK 1.5 version).\r\n\r\nWhen I try to add this file in VisualVM, it tells me file is not a valid core dump. \r\n\r\nHowever from I&#39;m able to run jhat for this dump file without any issue.\r\n\r\nany ideas why ?\r\n\r\n","title":"VisualVM - not a valid core dump","body":"<p>I have .hprof heap dump generated from JVM OutOfMemory (JDK 1.5 version).</p>\n\n<p>When I try to add this file in VisualVM, it tells me file is not a valid core dump. </p>\n\n<p>However from I'm able to run jhat for this dump file without any issue.</p>\n\n<p>any ideas why ?</p>\n"},{"tags":["java","heap-memory","apache-karaf"],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1315513983,"creation_date":1315513983,"answer_id":7354131,"question_id":7353981,"body_markdown":"That what I would do in your situation.\r\n\r\nI have seen people suggest using a service start which allows you define the the command line arguments.\r\n\r\nI liked using the webconsole so I changed it so it read a karaf.vmoptions file for the applications it starts.  This requires patching the code, but it turned out to be very useful.","title":"Setting Java Heap Size under Apache Karaf","body":"<p>That what I would do in your situation.</p>\n\n<p>I have seen people suggest using a service start which allows you define the the command line arguments.</p>\n\n<p>I liked using the webconsole so I changed it so it read a karaf.vmoptions file for the applications it starts.  This requires patching the code, but it turned out to be very useful.</p>\n"},{"tags":[],"owner":{"account_id":180216,"reputation":2473,"user_id":413397,"accept_rate":100,"display_name":"Tony"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1315924192,"creation_date":1315924192,"answer_id":7403551,"question_id":7353981,"body_markdown":"Updating to Karaf 2.2.3 reveals a new bat file.\r\n\r\n    if &quot;%JAVA_MIN_MEM%&quot; == &quot;&quot; (\r\n        set JAVA_MIN_MEM=128M\r\n    )\r\n    \r\n    if &quot;%JAVA_MAX_MEM%&quot; == &quot;&quot; (\r\n        set JAVA_MAX_MEM=512M\r\n    )\r\n    \r\n    if &quot;%JAVA_PERM_MEM%&quot; == &quot;&quot; (\r\n        set JAVA_PERM_MEM=16M\r\n    )\r\n    \r\n    if &quot;%JAVA_MAX_PERM_MEM%&quot; == &quot;&quot; (\r\n        set JAVA_MAX_PERM_MEM=64M\r\n    )\r\n\r\nThis means one can just create a system variable instead of modifying the bat file.","title":"Setting Java Heap Size under Apache Karaf","body":"<p>Updating to Karaf 2.2.3 reveals a new bat file.</p>\n\n<pre><code>if \"%JAVA_MIN_MEM%\" == \"\" (\n    set JAVA_MIN_MEM=128M\n)\n\nif \"%JAVA_MAX_MEM%\" == \"\" (\n    set JAVA_MAX_MEM=512M\n)\n\nif \"%JAVA_PERM_MEM%\" == \"\" (\n    set JAVA_PERM_MEM=16M\n)\n\nif \"%JAVA_MAX_PERM_MEM%\" == \"\" (\n    set JAVA_MAX_PERM_MEM=64M\n)\n</code></pre>\n\n<p>This means one can just create a system variable instead of modifying the bat file.</p>\n"},{"tags":[],"owner":{"account_id":93060,"reputation":967,"user_id":254762,"accept_rate":50,"display_name":"Ford Guo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1340286543,"creation_date":1340286543,"answer_id":11139654,"question_id":7353981,"body_markdown":"in the bin directory ,there is a setenv(.bat) file,\r\nyou can set the max/min mem in there.","title":"Setting Java Heap Size under Apache Karaf","body":"<p>in the bin directory ,there is a setenv(.bat) file,\nyou can set the max/min mem in there.</p>\n"},{"tags":[],"owner":{"account_id":441609,"reputation":5240,"user_id":831797,"accept_rate":100,"display_name":"Jos&#233; Fern&#225;ndez Ramos"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1373982328,"creation_date":1373982328,"answer_id":17678256,"question_id":7353981,"body_markdown":"(At least) in karaf 2.2.10:\r\n\r\n#If running karaf through `bin/start`\r\n\r\nAs Ford Guo pointed out, memory values could be configured in the `bin/setenv` file:\r\n\r\n    export JAVA_MIN_MEM=256M # Minimum memory for the JVM\r\n    export JAVA_MAX_MEM=1024M # Maximum memory for the JVM\r\n    export JAVA_PERM_MEM=128M # Minimum perm memory for the JVM\r\n    export JAVA_MAX_PERM_MEM=256M # Maximum memory for the JVM\r\n\r\n\r\n#If running karaf as a service (`karaf-service`)\r\n\r\nIn this case any exported variable seems to be ignored.\r\n\r\nThe maximum java heap size could be defined in the `etc/karaf-wrapper.conf`:\r\n\r\n    # Maximum Java Heap Size (in MB)\r\n    wrapper.java.maxmemory=1024","title":"Setting Java Heap Size under Apache Karaf","body":"<p>(At least) in karaf 2.2.10:</p>\n\n<h1>If running karaf through <code>bin/start</code></h1>\n\n<p>As Ford Guo pointed out, memory values could be configured in the <code>bin/setenv</code> file:</p>\n\n<pre><code>export JAVA_MIN_MEM=256M # Minimum memory for the JVM\nexport JAVA_MAX_MEM=1024M # Maximum memory for the JVM\nexport JAVA_PERM_MEM=128M # Minimum perm memory for the JVM\nexport JAVA_MAX_PERM_MEM=256M # Maximum memory for the JVM\n</code></pre>\n\n<h1>If running karaf as a service (<code>karaf-service</code>)</h1>\n\n<p>In this case any exported variable seems to be ignored.</p>\n\n<p>The maximum java heap size could be defined in the <code>etc/karaf-wrapper.conf</code>:</p>\n\n<pre><code># Maximum Java Heap Size (in MB)\nwrapper.java.maxmemory=1024\n</code></pre>\n"},{"tags":[],"owner":{"account_id":424976,"reputation":18834,"user_id":805284,"accept_rate":100,"display_name":"sjas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497189496,"creation_date":1497189496,"answer_id":44484677,"question_id":7353981,"body_markdown":"`setenv` wasnt loaded for me (using the karaf wrapper), so I put it into the wrapper config: (`/opt/apache-servicemix-6.1.3/etc/karaf-wrapper.conf` in my case)\r\n\r\n    # JVM Parameters            \r\n    # note that n is the parameter number starting from 1.\r\n    wrapper.java.additional.1=-Dkaraf.home=%KARAF_HOME%\r\n    wrapper.java.additional.2=-Dkaraf.base=%KARAF_BASE%\r\n    wrapper.java.additional.3=-Dkaraf.data=%KARAF_DATA%\r\n    wrapper.java.additional.4=-Dkaraf.etc=%KARAF_ETC%\r\n    wrapper.java.additional.5=-Dcom.sun.management.jmxremote\r\n    wrapper.java.additional.6=-Dkaraf.startLocalConsole=false\r\n    wrapper.java.additional.7=-Dkaraf.startRemoteShell=true\r\n    wrapper.java.additional.8=-Djava.endorsed.dirs=%JAVA_HOME%/jre/lib/endorsed:%JAVA_HOME%/lib/endorsed:%KARAF_HOME%/lib/endorsed\r\n    wrapper.java.additional.9=-Djava.ext.dirs=%JAVA_HOME%/jre/lib/ext:%JAVA_HOME%/lib/ext:%KARAF_HOME%/lib/ext\r\n    \r\n    # added by me\r\n    wrapper.java.additional.10=-XX:PermSize=512m \r\n    wrapper.java.additional.11=-XX:MaxPermSize=512m \r\n\r\nCheck prior to the restart:\r\n\r\n    # get process id of you running instance\r\n    jps -lvm\r\n    # or\r\n    ps aux | grep java\r\n    \r\n    # check memory before and after restarting the service to see wether it changed\r\n    jmap -heap $MY_PID 2&gt;/dev/null | sed -ne &#39;/Heap Configuration/,$p&#39;;","title":"Setting Java Heap Size under Apache Karaf","body":"<p><code>setenv</code> wasnt loaded for me (using the karaf wrapper), so I put it into the wrapper config: (<code>/opt/apache-servicemix-6.1.3/etc/karaf-wrapper.conf</code> in my case)</p>\n\n<pre><code># JVM Parameters            \n# note that n is the parameter number starting from 1.\nwrapper.java.additional.1=-Dkaraf.home=%KARAF_HOME%\nwrapper.java.additional.2=-Dkaraf.base=%KARAF_BASE%\nwrapper.java.additional.3=-Dkaraf.data=%KARAF_DATA%\nwrapper.java.additional.4=-Dkaraf.etc=%KARAF_ETC%\nwrapper.java.additional.5=-Dcom.sun.management.jmxremote\nwrapper.java.additional.6=-Dkaraf.startLocalConsole=false\nwrapper.java.additional.7=-Dkaraf.startRemoteShell=true\nwrapper.java.additional.8=-Djava.endorsed.dirs=%JAVA_HOME%/jre/lib/endorsed:%JAVA_HOME%/lib/endorsed:%KARAF_HOME%/lib/endorsed\nwrapper.java.additional.9=-Djava.ext.dirs=%JAVA_HOME%/jre/lib/ext:%JAVA_HOME%/lib/ext:%KARAF_HOME%/lib/ext\n\n# added by me\nwrapper.java.additional.10=-XX:PermSize=512m \nwrapper.java.additional.11=-XX:MaxPermSize=512m \n</code></pre>\n\n<p>Check prior to the restart:</p>\n\n<pre><code># get process id of you running instance\njps -lvm\n# or\nps aux | grep java\n\n# check memory before and after restarting the service to see wether it changed\njmap -heap $MY_PID 2&gt;/dev/null | sed -ne '/Heap Configuration/,$p';\n</code></pre>\n"}],"owner":{"account_id":180216,"reputation":2473,"user_id":413397,"accept_rate":100,"display_name":"Tony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20478,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":7403551,"answer_count":5,"score":9,"last_activity_date":1639252035,"creation_date":1315513219,"question_id":7353981,"body_markdown":"*I apologize if this is a duplicate, but I can&#39;t seem to find this answered anywhere.*\r\n\r\nWhat is the best way to increase the maximum Java heap size when using Apache Karaf?\r\n\r\nCurrently, I modified the following line in the karaf.bat file: \r\n\r\n`set DEFAULT_JAVA_OPTS=-server -Xmx&lt;NewMaxValue&gt;M `.\r\n\r\nI feel like modifying the bat file is not the best solution. Additionally, none of the config files seem to have a place to put this.\r\n\r\nThanks","title":"Setting Java Heap Size under Apache Karaf","body":"<p><em>I apologize if this is a duplicate, but I can't seem to find this answered anywhere.</em></p>\n\n<p>What is the best way to increase the maximum Java heap size when using Apache Karaf?</p>\n\n<p>Currently, I modified the following line in the karaf.bat file: </p>\n\n<p><code>set DEFAULT_JAVA_OPTS=-server -Xmx&lt;NewMaxValue&gt;M</code>.</p>\n\n<p>I feel like modifying the bat file is not the best solution. Additionally, none of the config files seem to have a place to put this.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","heap-memory","overhead","jhat"],"comments":[{"owner":{"account_id":24075,"reputation":29658,"user_id":60956,"accept_rate":85,"display_name":"Joel"},"score":0,"creation_date":1317851921,"post_id":7667795,"comment_id":9319327,"body_markdown":"Have you tried the Eclipse Memory Analyzer as an alternative to jhat?","body":"Have you tried the Eclipse Memory Analyzer as an alternative to jhat?"},{"owner":{"account_id":932763,"reputation":192,"user_id":962276,"display_name":"DarkByte"},"score":1,"creation_date":1317853355,"post_id":7667795,"comment_id":9319598,"body_markdown":"The Eclipse Memory Analyzer is good. An other alternative to open big heap dumps is [SAP Memory Analyzer](http://www.sdn.sap.com/irj/scn/downloads?rid=/library/uuid/a0f47c83-5ef6-2910-2c89-b75d296edef9) or [YourKit](http://www.yourkit.com/). The last is not free.","body":"The Eclipse Memory Analyzer is good. An other alternative to open big heap dumps is <a href=\"http://www.sdn.sap.com/irj/scn/downloads?rid=/library/uuid/a0f47c83-5ef6-2910-2c89-b75d296edef9\" rel=\"nofollow noreferrer\">SAP Memory Analyzer</a> or <a href=\"http://www.yourkit.com/\" rel=\"nofollow noreferrer\">YourKit</a>. The last is not free."},{"owner":{"account_id":276700,"reputation":993,"user_id":570291,"accept_rate":86,"display_name":"Drizzt321"},"score":0,"creation_date":1317854023,"post_id":7667795,"comment_id":9319742,"body_markdown":"I&#39;ve used the Memory Analyzer, it&#39;s quiet good.","body":"I&#39;ve used the Memory Analyzer, it&#39;s quiet good."},{"owner":{"account_id":475721,"reputation":309,"user_id":886217,"display_name":"Adam Lehenbauer"},"score":0,"creation_date":1317916014,"post_id":7667795,"comment_id":9330827,"body_markdown":"Ok, ok, I will definitely check out Eclipse&#39;s MAT. I am still interested in getting a handle on jhat though. The ability to drop a dump on any machine, fire up jhat and send around a link is very helpful.","body":"Ok, ok, I will definitely check out Eclipse&#39;s MAT. I am still interested in getting a handle on jhat though. The ability to drop a dump on any machine, fire up jhat and send around a link is very helpful."},{"owner":{"account_id":115990,"reputation":5884,"user_id":304330,"accept_rate":56,"display_name":"Big Rich"},"score":0,"creation_date":1351608228,"post_id":7667795,"comment_id":17874098,"body_markdown":"Aren&#39;t Eclipse Memory Analyzer and SAP&#39;s project the same thing?","body":"Aren&#39;t Eclipse Memory Analyzer and SAP&#39;s project the same thing?"}],"owner":{"account_id":475721,"reputation":309,"user_id":886217,"display_name":"Adam Lehenbauer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":899,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1639252016,"creation_date":1317849079,"question_id":7667795,"body_markdown":"jhat is a great tool for analyzing Java heap dumps, but for large heaps its easy to waste a lot of time. Give jhat a runtime heap too small, and it may take 15 minutes to fail and run out of memory.\r\n\r\nWhat I&#39;d like to know is: **is there is a rule of thumb for how much -Xmx heap I should give jhat based on the size of the heapdump file?** Only considering binary heap dumps for now.\r\n\r\nSome very limited experimentation indicates that its *at least 3-4 times the size of the heap dump*. I was able to analyze a three-and-change gigabyte heap file with -J-mx12G.\r\n\r\nDoes anyone else have more conclusive experimental data, or an understanding of how jhat represents heap objects at runtime?\r\n\r\ndata points:\r\n\r\n* [this thread][1] indicates a 5x overhead, but my experimentation on late model jhats (1.6.0_26) indicates its not quite that bad\r\n* [this thread][2] indicates a ~10x overhead\r\n* a colleague backs up the 10x theory: 2.5gb heap file fails with a -J-mx23G\r\n* yet another colleauge got a 6.7 gb dump to work with a 30 gb heap, for a 4.4x overhead.\r\n\r\n  [1]: https://stackoverflow.com/questions/2990609/running-out-of-memory-while-analyzing-a-java-heap-dump/2991376#2991376\r\n  [2]: https://stackoverflow.com/questions/6026959/huge-heap-dump-11gb-jhat-failed-eclipse-mat-needed-help/6072209#6072209","title":"What is the memory overhead for analyzing a heap with jhat?","body":"<p>jhat is a great tool for analyzing Java heap dumps, but for large heaps its easy to waste a lot of time. Give jhat a runtime heap too small, and it may take 15 minutes to fail and run out of memory.</p>\n\n<p>What I'd like to know is: <strong>is there is a rule of thumb for how much -Xmx heap I should give jhat based on the size of the heapdump file?</strong> Only considering binary heap dumps for now.</p>\n\n<p>Some very limited experimentation indicates that its <em>at least 3-4 times the size of the heap dump</em>. I was able to analyze a three-and-change gigabyte heap file with -J-mx12G.</p>\n\n<p>Does anyone else have more conclusive experimental data, or an understanding of how jhat represents heap objects at runtime?</p>\n\n<p>data points:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/2990609/running-out-of-memory-while-analyzing-a-java-heap-dump/2991376#2991376\">this thread</a> indicates a 5x overhead, but my experimentation on late model jhats (1.6.0_26) indicates its not quite that bad</li>\n<li><a href=\"https://stackoverflow.com/questions/6026959/huge-heap-dump-11gb-jhat-failed-eclipse-mat-needed-help/6072209#6072209\">this thread</a> indicates a ~10x overhead</li>\n<li>a colleague backs up the 10x theory: 2.5gb heap file fails with a -J-mx23G</li>\n<li>yet another colleauge got a 6.7 gb dump to work with a 30 gb heap, for a 4.4x overhead.</li>\n</ul>\n"},{"tags":["java","jakarta-ee","glassfish","heap-memory","cluster-computing"],"comments":[{"owner":{"account_id":2785,"reputation":76174,"user_id":3916,"accept_rate":100,"display_name":"Vineet Reynolds"},"score":0,"creation_date":1317970377,"post_id":7683517,"comment_id":9340742,"body_markdown":"[This question and the answers](http://stackoverflow.com/questions/324499/java-still-uses-system-memory-after-deallocation-of-objects-and-garbage-collectio) might prove useful.","body":"<a href=\"http://stackoverflow.com/questions/324499/java-still-uses-system-memory-after-deallocation-of-objects-and-garbage-collectio\">This question and the answers</a> might prove useful."}],"answers":[{"tags":[],"owner":{"account_id":23190,"reputation":3273,"user_id":57907,"accept_rate":70,"display_name":"Preston"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1318018052,"creation_date":1318018052,"answer_id":7692358,"question_id":7683517,"body_markdown":"Presumably you have something referencing the memory. I suggest getting a copy of [MAT][1] and doing a heap dump. From there you can see what&#39;s been allocated and what is referencing it.\r\n\r\n\r\n  [1]: http://www.eclipse.org/mat/","title":"Glassfish V2.1.1 Heap size never decrease after server batch job","body":"<p>Presumably you have something referencing the memory. I suggest getting a copy of <a href=\"http://www.eclipse.org/mat/\" rel=\"nofollow\">MAT</a> and doing a heap dump. From there you can see what's been allocated and what is referencing it.</p>\n"},{"tags":[],"owner":{"account_id":958607,"reputation":25,"user_id":983421,"display_name":"tee4cute"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1318350597,"creation_date":1318350597,"answer_id":7729367,"question_id":7683517,"body_markdown":"This is the final answer (thanks Preston ^^)\r\n\r\nFrom the article :\r\n\r\nhttp://www.ibm.com/developerworks/java/library/j-nativememory-linux/index.html\r\n\r\nI captured these statements to answer my question!\r\n\r\n1 :\r\n\r\n&quot;Runtime environments (JVM) provide capabilities that are driven by some unknown user code; that makes it impossible to predict which resources the runtime environment will require in every situation&quot;\r\n\r\n2 : This is why the node which triggers batch job always consumes the memory at all time.\r\n\r\n&quot;Reserving native memory is not the same as allocating it. When native memory is reserved, it is not backed with physical memory or other storage. Although reserving chunks of the address space will not exhaust physical resources, it does prevent that memory from being used for other purposes&quot;\r\n\r\n3 : And this is why the node which does not trigger batch job has scalable Heap Size behavior.\r\n\r\n&quot;Some garbage collectors minimise the use of physical memory by decommitting (releasing the backing storage for) parts of the heap as the used area of heap shrinks.&quot;","title":"Glassfish V2.1.1 Heap size never decrease after server batch job","body":"<p>This is the final answer (thanks Preston ^^)</p>\n\n<p>From the article :</p>\n\n<p><a href=\"http://www.ibm.com/developerworks/java/library/j-nativememory-linux/index.html\" rel=\"nofollow\">http://www.ibm.com/developerworks/java/library/j-nativememory-linux/index.html</a></p>\n\n<p>I captured these statements to answer my question!</p>\n\n<p>1 :</p>\n\n<p>\"Runtime environments (JVM) provide capabilities that are driven by some unknown user code; that makes it impossible to predict which resources the runtime environment will require in every situation\"</p>\n\n<p>2 : This is why the node which triggers batch job always consumes the memory at all time.</p>\n\n<p>\"Reserving native memory is not the same as allocating it. When native memory is reserved, it is not backed with physical memory or other storage. Although reserving chunks of the address space will not exhaust physical resources, it does prevent that memory from being used for other purposes\"</p>\n\n<p>3 : And this is why the node which does not trigger batch job has scalable Heap Size behavior.</p>\n\n<p>\"Some garbage collectors minimise the use of physical memory by decommitting (releasing the backing storage for) parts of the heap as the used area of heap shrinks.\"</p>\n"}],"owner":{"account_id":958607,"reputation":25,"user_id":983421,"display_name":"tee4cute"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":647,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":7692358,"answer_count":2,"score":0,"last_activity_date":1639251999,"creation_date":1317966829,"question_id":7683517,"body_markdown":"I&#39;ve set up a glassfish cluster with 1 DAS and 2 Node Agents.\r\n\r\nThe system has TimedObjects which are batched once a day. As glassfish architecture, there is only 1 cluster instance allowed to trigger timeout event of each Timer created by TimerService.\r\n\r\nMy problems is about Heap size of a cluster instance which triggers batch job. The VisualVM shows that one instance always has scalable heap size (increase when the server is loaded and decrease after that) but another one always has heap size at the maximum and never decrease.\r\n\r\nIt is acceptable to tell me that the heap size is at the maximum because the batch job is huge. But, the only question I have is why it does not decrease after the job is done???\r\n\r\nVisualVM shows that the &quot;Used Heap Memory&quot; of the instance which triggers timeout event decreases after the batch job. But, why its &quot;Heap Size&quot; is not scaled down accordingly?\r\n\r\nThank you for your advice!!! ^^","title":"Glassfish V2.1.1 Heap size never decrease after server batch job","body":"<p>I've set up a glassfish cluster with 1 DAS and 2 Node Agents.</p>\n\n<p>The system has TimedObjects which are batched once a day. As glassfish architecture, there is only 1 cluster instance allowed to trigger timeout event of each Timer created by TimerService.</p>\n\n<p>My problems is about Heap size of a cluster instance which triggers batch job. The VisualVM shows that one instance always has scalable heap size (increase when the server is loaded and decrease after that) but another one always has heap size at the maximum and never decrease.</p>\n\n<p>It is acceptable to tell me that the heap size is at the maximum because the batch job is huge. But, the only question I have is why it does not decrease after the job is done???</p>\n\n<p>VisualVM shows that the \"Used Heap Memory\" of the instance which triggers timeout event decreases after the batch job. But, why its \"Heap Size\" is not scaled down accordingly?</p>\n\n<p>Thank you for your advice!!! ^^</p>\n"},{"tags":["java","r","heap-memory","jri"],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1320671080,"creation_date":1320671080,"answer_id":8036886,"question_id":8036438,"body_markdown":"actionPerformed is called on the event stack, and you should keep the event handling short. It just *might* help too. Call:\r\n\r\n    SwingUtilities.invokeLater(new Runnable() {\r\n        public void run() { ... your code ... }\r\n    }\r\n\r\nFurthermore one should combine both eval expressions in R, if only the column names are wanted. Maybe just read the first line (by java?).","title":"Evaluating expressions called from Java in R. Out of Memory Error: Java Heap","body":"<p>actionPerformed is called on the event stack, and you should keep the event handling short. It just <em>might</em> help too. Call:</p>\n\n<pre><code>SwingUtilities.invokeLater(new Runnable() {\n    public void run() { ... your code ... }\n}\n</code></pre>\n\n<p>Furthermore one should combine both eval expressions in R, if only the column names are wanted. Maybe just read the first line (by java?).</p>\n"}],"owner":{"account_id":920671,"reputation":139,"user_id":952425,"accept_rate":75,"display_name":"Aran Brady"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1639251964,"creation_date":1320668570,"question_id":8036438,"body_markdown":"I have an issue loading a large dataset into R from Java. The problem is actually with the function I am using: `re.eval()`. I want to load a file into R so that I can analyse/manipulate it in R, however I want to do this from Java (this is in order to build a GUI). \r\n\r\nWhat I want the function to do is parse and evaluate the string I provide, however, the eval function parses, evaluates and returns the result. I get an out of memory error from java regarding the heap size. This is the code I have at the moment:\r\n\r\n    JButton getFile = new JButton(&quot;Load&quot;);\r\n\t\t    getFile.setBounds(316, 10, 151, 23);\r\n\t\t    getFile.addActionListener(new ActionListener() \r\n\t\t    {\r\n\t\t\t    public void actionPerformed(ActionEvent e) \r\n\t\t\t    {\r\n\t\t\t\t\t    REXP x;\r\n\t\t\t\t\t    getFileName();\r\n\t\t\t\t\tif (dataFilePath != null){\r\n\t\t\t\t\tString file = dataFilePath.replace(&quot;\\\\&quot;, &quot;\\\\\\\\\\\\\\\\&quot;);\r\n\t\t\t\t\tre.eval(&quot;data&lt;-read.csv(file=&#39;&quot;+file+&quot;&#39;, head=TRUE, sep=&#39;|&#39;)&quot;);\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tx = re.eval(&quot;names(data)&quot;);\r\n\t\t\t\t\r\n\t\t\t\t\tString[] column_names = x.asStringArray();\r\n\t\t\t\t\toriginalDataLength = column_names.length;\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor (int i = 0; i &lt; column_names.length; i++) {\r\n\t\t\t\t\t    \tcomboBox.insertItemAt(column_names[i], 0);\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\ttextField.setText(&quot;Data Loaded&quot;);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t);\r\n\r\n\r\nThis code worked when I was working with a dataframe that was 13500x220. The new dataframe is 50000x700. I was also wondering what exactly is happening in the code above? Is it created in R and sent back to java (i.e duplicated?).\r\n\r\nAny help/comments would be greatly appreciated. Also I have looked at the Rosuda Rengine class description and the functions available; I was thinking that maybe `rniEval()` might solve the problem but I don&#39;t know how to implement it.","title":"Evaluating expressions called from Java in R. Out of Memory Error: Java Heap","body":"<p>I have an issue loading a large dataset into R from Java. The problem is actually with the function I am using: <code>re.eval()</code>. I want to load a file into R so that I can analyse/manipulate it in R, however I want to do this from Java (this is in order to build a GUI). </p>\n\n<p>What I want the function to do is parse and evaluate the string I provide, however, the eval function parses, evaluates and returns the result. I get an out of memory error from java regarding the heap size. This is the code I have at the moment:</p>\n\n<pre><code>JButton getFile = new JButton(\"Load\");\n        getFile.setBounds(316, 10, 151, 23);\n        getFile.addActionListener(new ActionListener() \n        {\n            public void actionPerformed(ActionEvent e) \n            {\n                    REXP x;\n                    getFileName();\n                if (dataFilePath != null){\n                String file = dataFilePath.replace(\"\\\\\", \"\\\\\\\\\\\\\\\\\");\n                re.eval(\"data&lt;-read.csv(file='\"+file+\"', head=TRUE, sep='|')\");\n\n\n                x = re.eval(\"names(data)\");\n\n                String[] column_names = x.asStringArray();\n                originalDataLength = column_names.length;\n\n                for (int i = 0; i &lt; column_names.length; i++) {\n                        comboBox.insertItemAt(column_names[i], 0);  \n                    }\n\n                textField.setText(\"Data Loaded\");\n                }\n\n        }\n    }\n);\n</code></pre>\n\n<p>This code worked when I was working with a dataframe that was 13500x220. The new dataframe is 50000x700. I was also wondering what exactly is happening in the code above? Is it created in R and sent back to java (i.e duplicated?).</p>\n\n<p>Any help/comments would be greatly appreciated. Also I have looked at the Rosuda Rengine class description and the functions available; I was thinking that maybe <code>rniEval()</code> might solve the problem but I don't know how to implement it.</p>\n"},{"tags":["java","r","heap-memory","rjava","jri"],"answers":[{"tags":[],"owner":{"account_id":10891,"reputation":30989,"user_id":20770,"accept_rate":74,"display_name":"cdeszaq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1322838085,"creation_date":1322838085,"answer_id":8358234,"question_id":8357942,"body_markdown":"One way to do it that would allow you to call R without having anything come back to Java would be to call R as an external process. Since it looks like that is roughly what you are doing anyway, perhaps having the OS execute the call to R, rather than the library inside of Java, would prevent the overflow.","title":"Get R to load in data to a variable from Java, without R sending info back to Java","body":"<p>One way to do it that would allow you to call R without having anything come back to Java would be to call R as an external process. Since it looks like that is roughly what you are doing anyway, perhaps having the OS execute the call to R, rather than the library inside of Java, would prevent the overflow.</p>\n"},{"tags":[],"owner":{"account_id":199804,"reputation":7176,"user_id":445322,"accept_rate":88,"display_name":"Brandon Buck"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1322838723,"creation_date":1322838723,"answer_id":8358396,"question_id":8357942,"body_markdown":"Have you tried adjusting the JVM Heap size by starting the executable with options?\r\n\r\nLike:\r\n\r\n    java -Xmx1024m -Xms1024m myJar\r\n\r\nYou can adjust the memory values, obviously, but the option `-Xmx` sets the maximum heap size for the JVM and `-Xms` sets the initial size.\r\n\r\nThis may help if you are processing a lot of data that you actually need to retrieve, otherwise options (as suggested by cdeszaq) where you don&#39;t get any data back would obviously be best suited for you.","title":"Get R to load in data to a variable from Java, without R sending info back to Java","body":"<p>Have you tried adjusting the JVM Heap size by starting the executable with options?</p>\n\n<p>Like:</p>\n\n<pre><code>java -Xmx1024m -Xms1024m myJar\n</code></pre>\n\n<p>You can adjust the memory values, obviously, but the option <code>-Xmx</code> sets the maximum heap size for the JVM and <code>-Xms</code> sets the initial size.</p>\n\n<p>This may help if you are processing a lot of data that you actually need to retrieve, otherwise options (as suggested by cdeszaq) where you don't get any data back would obviously be best suited for you.</p>\n"}],"owner":{"account_id":920671,"reputation":139,"user_id":952425,"accept_rate":75,"display_name":"Aran Brady"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":668,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1639251952,"creation_date":1322836802,"question_id":8357942,"body_markdown":"I&#39;m loading a very large data set into R from java. I have created a Java program that calls R using rJava&#39;s jri. This program has been wrapped up into an executable jar file and is being called from the terminal (linux). The data is in region of 50 columns by 13.7 million rows. R alone can handle this without a problem. However, when I run it from the Java program, I get a Java OutofMemory Heap error. \r\n\r\nThe thing is when I run it with half the rows it works, yet R should only be sending the names of each variable (50 in total) back to java regardless of how many rows there are. This is the code I&#39;m using:\r\n\r\n    re.eval(&quot;names(data&lt;-read.csv(file=&quot;data.csv&quot;, head=TRUE, sep=&quot;,&quot;));\r\n\r\nMy understanding is that the re.eval function, evaluates an expression in R *and sends the results back to R.* Is there any way for you to evaluate the function and not have the result returned to java?\r\n\r\nI asked a similar question before, here is the link:\r\nhttps://stackoverflow.com/questions/8036438/evaluating-expressions-called-from-java-in-r-out-of-memory-error-java-heap","title":"Get R to load in data to a variable from Java, without R sending info back to Java","body":"<p>I'm loading a very large data set into R from java. I have created a Java program that calls R using rJava's jri. This program has been wrapped up into an executable jar file and is being called from the terminal (linux). The data is in region of 50 columns by 13.7 million rows. R alone can handle this without a problem. However, when I run it from the Java program, I get a Java OutofMemory Heap error. </p>\n\n<p>The thing is when I run it with half the rows it works, yet R should only be sending the names of each variable (50 in total) back to java regardless of how many rows there are. This is the code I'm using:</p>\n\n<pre><code>re.eval(\"names(data&lt;-read.csv(file=\"data.csv\", head=TRUE, sep=\",\"));\n</code></pre>\n\n<p>My understanding is that the re.eval function, evaluates an expression in R <em>and sends the results back to R.</em> Is there any way for you to evaluate the function and not have the result returned to java?</p>\n\n<p>I asked a similar question before, here is the link:\n<a href=\"https://stackoverflow.com/questions/8036438/evaluating-expressions-called-from-java-in-r-out-of-memory-error-java-heap\">Evaluating expressions called from Java in R. Out of Memory Error: Java Heap</a></p>\n"},{"tags":["java","heap-memory","pca","svd"],"comments":[{"owner":{"account_id":991233,"reputation":8691,"user_id":1008481,"accept_rate":91,"display_name":"Roman Byshko"},"score":0,"creation_date":1323128828,"post_id":8393531,"comment_id":10362681,"body_markdown":"Is Java the only language considered, I can imagine this matrix is insanely big......?","body":"Is Java the only language considered, I can imagine this matrix is insanely big......?"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1323129230,"post_id":8393531,"comment_id":10362763,"body_markdown":"I don&#39;t see how switching to another language would change anything.","body":"I don&#39;t see how switching to another language would change anything."}],"answers":[{"tags":[],"owner":{"account_id":31039,"reputation":1836,"user_id":84978,"accept_rate":91,"display_name":"Monkey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1323129014,"creation_date":1323129014,"answer_id":8393569,"question_id":8393531,"body_markdown":"You can compute PCA with Oja&#39;s rule : it&#39;s an iterative algorithm, improving an estimate of the PCA, one vector a time. It&#39;s slower than the usual PCA, but requires you to store only one vector in memory. It&#39;s also very numerically stable\r\n\r\nhttp://en.wikipedia.org/wiki/Oja%27s_rule","title":"Doing PCA in java on large matrix","body":"<p>You can compute PCA with Oja's rule : it's an iterative algorithm, improving an estimate of the PCA, one vector a time. It's slower than the usual PCA, but requires you to store only one vector in memory. It's also very numerically stable</p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Oja%27s_rule\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Oja%27s_rule</a></p>\n"},{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1323133026,"creation_date":1323129087,"answer_id":8393576,"question_id":8393531,"body_markdown":"I&#39;m not sure that changing libraries will help.  You&#39;re going to need doubles (8 bytes per).  I don&#39;t know what the dimension of the covariance matrix would be in this case, but switching libraries won&#39;t change the underlying calculations much.\r\n\r\nWhat is the -Xmx setting when you run?  What about the perm gen size?  Perhaps you can increase them.\r\n\r\nDoes the algorithm halt immediately or does it run for a while?  If it&#39;s the latter, you can attach to the process using Visual VM 1.3.3 (download and install all the plugins).  It&#39;ll let you see what&#39;s happening on the heap, threads, etc.  Could help you ferret out the root cause.\r\n\r\nA [Google search][1] for &quot;Java eigenvalue of large matricies&quot; turned up [this library][2] from Google.  If you scroll down in the comments I wonder of a block Lanczos eigenvalue analysis might help.  It might be enough if you can get a subset of the eigenvalues.\r\n\r\nThese SVM implementations claim to be useful for large datasets:\r\n\r\nhttp://www.support-vector-machines.org/SVM_soft.html\r\n\r\nI don&#39;t think you can ask for more than 2GB for a JVM: \r\n\r\nhttp://www.theserverside.com/discussions/thread.tss?thread_id=26347\r\n\r\nAccording to Oracle, you&#39;ll need a 64-bit JVM running on a 64-bit OS:\r\n\r\nhttp://www.oracle.com/technetwork/java/hotspotfaq-138619.html#gc_heap_32bit\r\n\r\n  [1]: http://www.google.com/search?gcx=c&amp;sourceid=chrome&amp;ie=UTF-8&amp;q=java%20eigenvalues%20of%20large%20matricies\r\n  [2]: http://code.google.com/p/matrix-toolkits-java/wiki/FAQ\r\n","title":"Doing PCA in java on large matrix","body":"<p>I'm not sure that changing libraries will help.  You're going to need doubles (8 bytes per).  I don't know what the dimension of the covariance matrix would be in this case, but switching libraries won't change the underlying calculations much.</p>\n\n<p>What is the -Xmx setting when you run?  What about the perm gen size?  Perhaps you can increase them.</p>\n\n<p>Does the algorithm halt immediately or does it run for a while?  If it's the latter, you can attach to the process using Visual VM 1.3.3 (download and install all the plugins).  It'll let you see what's happening on the heap, threads, etc.  Could help you ferret out the root cause.</p>\n\n<p>A <a href=\"http://www.google.com/search?gcx=c&amp;sourceid=chrome&amp;ie=UTF-8&amp;q=java%20eigenvalues%20of%20large%20matricies\" rel=\"nofollow\">Google search</a> for \"Java eigenvalue of large matricies\" turned up <a href=\"http://code.google.com/p/matrix-toolkits-java/wiki/FAQ\" rel=\"nofollow\">this library</a> from Google.  If you scroll down in the comments I wonder of a block Lanczos eigenvalue analysis might help.  It might be enough if you can get a subset of the eigenvalues.</p>\n\n<p>These SVM implementations claim to be useful for large datasets:</p>\n\n<p><a href=\"http://www.support-vector-machines.org/SVM_soft.html\" rel=\"nofollow\">http://www.support-vector-machines.org/SVM_soft.html</a></p>\n\n<p>I don't think you can ask for more than 2GB for a JVM: </p>\n\n<p><a href=\"http://www.theserverside.com/discussions/thread.tss?thread_id=26347\" rel=\"nofollow\">http://www.theserverside.com/discussions/thread.tss?thread_id=26347</a></p>\n\n<p>According to Oracle, you'll need a 64-bit JVM running on a 64-bit OS:</p>\n\n<p><a href=\"http://www.oracle.com/technetwork/java/hotspotfaq-138619.html#gc_heap_32bit\" rel=\"nofollow\">http://www.oracle.com/technetwork/java/hotspotfaq-138619.html#gc_heap_32bit</a></p>\n"},{"tags":[],"owner":{"account_id":1091454,"reputation":1062,"user_id":1086020,"display_name":"Tim Gee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1323277758,"creation_date":1323277758,"answer_id":8419446,"question_id":8393531,"body_markdown":"I built some sparse, incremental algorithms for just this sort of problem. Conveniently, it&#39;s built on top of Colt.\r\n\r\nSee the HallMarshalMartin class in trickl-cluster library below. You can feed it chunks of rows at a time, so it should solve your memory issues.\r\n\r\nThe code is available under the GPL. I&#39;m afraid I&#39;ve only just released it, so it&#39;s short on documentation, hopefully it&#39;s fairly self explanatory. There are JUnit tests that should help with usage.\r\n\r\nhttp://open.trickl.com/trickl-pca/index.html","title":"Doing PCA in java on large matrix","body":"<p>I built some sparse, incremental algorithms for just this sort of problem. Conveniently, it's built on top of Colt.</p>\n\n<p>See the HallMarshalMartin class in trickl-cluster library below. You can feed it chunks of rows at a time, so it should solve your memory issues.</p>\n\n<p>The code is available under the GPL. I'm afraid I've only just released it, so it's short on documentation, hopefully it's fairly self explanatory. There are JUnit tests that should help with usage.</p>\n\n<p><a href=\"http://open.trickl.com/trickl-pca/index.html\" rel=\"nofollow\">http://open.trickl.com/trickl-pca/index.html</a></p>\n"}],"owner":{"account_id":455495,"reputation":183,"user_id":853682,"accept_rate":22,"display_name":"dacanalr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2161,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1639251933,"creation_date":1323128701,"question_id":8393531,"body_markdown":"I have a very large matrix (about 500000 * 20000) containing the data that I would analyze with pca. To do this I&#39;m using ParallelColt library, but both using singular value decomposition and eigenvalues decomposition in order to get the eigenvectors and eigenvalues of the covariance matrix. But these methods waste the heap and I get &quot;OutOfMemory&quot; errors...\r\n\r\nAlso using SparseDoubleMatrix2D (the data are very sparse) the errors still remain, so I ask you : how can I solve this problem ?\r\n\r\nChange library ?","title":"Doing PCA in java on large matrix","body":"<p>I have a very large matrix (about 500000 * 20000) containing the data that I would analyze with pca. To do this I'm using ParallelColt library, but both using singular value decomposition and eigenvalues decomposition in order to get the eigenvectors and eigenvalues of the covariance matrix. But these methods waste the heap and I get \"OutOfMemory\" errors...</p>\n\n<p>Also using SparseDoubleMatrix2D (the data are very sparse) the errors still remain, so I ask you : how can I solve this problem ?</p>\n\n<p>Change library ?</p>\n"},{"tags":["java","heap-memory"],"comments":[{"owner":{"account_id":390163,"reputation":17713,"user_id":750040,"accept_rate":68,"display_name":"Santosh"},"score":0,"creation_date":1326266108,"post_id":8815489,"comment_id":11001920,"body_markdown":"By Creation, do you mean invoking constructor ?","body":"By Creation, do you mean invoking constructor ?"},{"owner":{"account_id":93911,"reputation":5846,"user_id":256717,"accept_rate":80,"display_name":"Fakrudeen"},"score":0,"creation_date":1326266189,"post_id":8815489,"comment_id":11001937,"body_markdown":"constructor invocation time or after constructor finishes - it doesn&#39;t matter to me.","body":"constructor invocation time or after constructor finishes - it doesn&#39;t matter to me."},{"owner":{"account_id":318397,"reputation":203598,"user_id":635608,"display_name":"Mat"},"score":0,"creation_date":1326266193,"post_id":8815489,"comment_id":11001940,"body_markdown":"Rather than putting dummy text (which will annoy a lot of people), please describe your issue in more detail. Simply telling why you&#39;d need that would have been enough.","body":"Rather than putting dummy text (which will annoy a lot of people), please describe your issue in more detail. Simply telling why you&#39;d need that would have been enough."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1326267080,"post_id":8815489,"comment_id":11002156,"body_markdown":"Perhaps you can describe why you want to know this, because there may be a simpler way to do that.","body":"Perhaps you can describe why you want to know this, because there may be a simpler way to do that."},{"owner":{"account_id":552427,"reputation":11380,"user_id":917548,"display_name":"Roger Lindsj&#246;"},"score":0,"creation_date":1326268029,"post_id":8815489,"comment_id":11002353,"body_markdown":"I&#39;s a bit unclear if you need the creation time on ms / ns level or just &quot;just after start&quot;, &quot;after a while&quot;, &quot;just before the bug is triggered&quot; etc. What is the purpose of the timestamp?","body":"I&#39;s a bit unclear if you need the creation time on ms / ns level or just &quot;just after start&quot;, &quot;after a while&quot;, &quot;just before the bug is triggered&quot; etc. What is the purpose of the timestamp?"},{"owner":{"account_id":93911,"reputation":5846,"user_id":256717,"accept_rate":80,"display_name":"Fakrudeen"},"score":0,"creation_date":1326274266,"post_id":8815489,"comment_id":11003909,"body_markdown":"An accuracy of an hour or so will do.","body":"An accuracy of an hour or so will do."},{"owner":{"account_id":438909,"reputation":23723,"user_id":827480,"accept_rate":61,"display_name":"Eric B."},"score":0,"creation_date":1465224655,"post_id":8815489,"comment_id":62799539,"body_markdown":"@Fakrudeen Did you resolve your issue finally using a custom agent?  Are you able to share your agent?  I&#39;m running into a similar need, where I would love to track the creation times of objects in my Heap Dumps.","body":"@Fakrudeen Did you resolve your issue finally using a custom agent?  Are you able to share your agent?  I&#39;m running into a similar need, where I would love to track the creation times of objects in my Heap Dumps."}],"answers":[{"tags":[],"owner":{"account_id":1138229,"reputation":1491,"user_id":1122834,"accept_rate":100,"display_name":"Lolmewn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1326266204,"creation_date":1326266204,"answer_id":8815531,"question_id":8815489,"body_markdown":"You could use \r\n\r\n    System.currentTimeMillis()\r\n\r\nStore it in a long value, both before you start creating this object and call it again after the object is created.\r\n\r\nThen, substract the two and you&#39;ll have the time it took.\r\n\r\nNOTE: If you want to be more precise, you can also use `System.nanoTime()`, which I mostly use.","title":"object creation time from heap dump","body":"<p>You could use </p>\n\n<pre><code>System.currentTimeMillis()\n</code></pre>\n\n<p>Store it in a long value, both before you start creating this object and call it again after the object is created.</p>\n\n<p>Then, substract the two and you'll have the time it took.</p>\n\n<p>NOTE: If you want to be more precise, you can also use <code>System.nanoTime()</code>, which I mostly use.</p>\n"},{"tags":[],"owner":{"account_id":1163145,"reputation":4252,"user_id":1142253,"display_name":"Kakarot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1326266342,"creation_date":1326266342,"answer_id":8815553,"question_id":8815489,"body_markdown":"You can create a TimerClass which is extended by all the classes in your application. You can place a timer attribute (which is an instance of java.util.Date) in the constructor of the TimerClass, which is initialized when the constructor is invoked. At any course of time whenever you want to know the time when the object was created, you can invoke the timer of that particular object. Since all the Classes in your application will be inheriting from this TimerClass, they will have access to timer attribute.\r\n\r\n    public class TimerClass{\r\n    \tprivate Date timer;\r\n    \tpublic TimerClass(){\r\n    \t\ttimer = new Date();\r\n    \t}\r\n    \t\r\n    \tpublic getTimer(){\r\n    \t\treturn timer;\r\n    \t}\r\n    \r\n    }","title":"object creation time from heap dump","body":"<p>You can create a TimerClass which is extended by all the classes in your application. You can place a timer attribute (which is an instance of java.util.Date) in the constructor of the TimerClass, which is initialized when the constructor is invoked. At any course of time whenever you want to know the time when the object was created, you can invoke the timer of that particular object. Since all the Classes in your application will be inheriting from this TimerClass, they will have access to timer attribute.</p>\n\n<pre><code>public class TimerClass{\n    private Date timer;\n    public TimerClass(){\n        timer = new Date();\n    }\n\n    public getTimer(){\n        return timer;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1163145,"reputation":4252,"user_id":1142253,"display_name":"Kakarot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1326266971,"creation_date":1326266971,"answer_id":8815655,"question_id":8815489,"body_markdown":"Did you try to use &quot;Java Heap Analysis Tool&quot;\r\nHave a look at it and find out whether it meets your requirement.\r\n\r\n&lt;http://docs.oracle.com/javase/6/docs/technotes/tools/share/jhat.html&gt;","title":"object creation time from heap dump","body":"<p>Did you try to use \"Java Heap Analysis Tool\"\nHave a look at it and find out whether it meets your requirement.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/6/docs/technotes/tools/share/jhat.html\" rel=\"nofollow\">http://docs.oracle.com/javase/6/docs/technotes/tools/share/jhat.html</a></p>\n"},{"tags":[],"owner":{"account_id":552427,"reputation":11380,"user_id":917548,"display_name":"Roger Lindsj&#246;"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1326269231,"creation_date":1326269231,"answer_id":8816036,"question_id":8815489,"body_markdown":"I don&#39;t think you can find the timestamp from the given dump, but here are some suggestions if you can make new dumps.\r\n\r\nIf you only need very coarse time resolution such as (after startup, after 5 minutes, before manually triggering a bug, after manually triggering a bug etc), then you can take several dumps and compare them.\r\n\r\nOtherwise, if you are able to add an agent and run the scenario again you can log this yourself. With your JDK in *$JAVA_HOME/demo/jvmti directory* there is a sample agent program *heapTracker* which can track object creation deletion. This could easily be modified to also include timestamp. See [Tools Interface][1]\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/tooldescr-136044.html#gbmls","title":"object creation time from heap dump","body":"<p>I don't think you can find the timestamp from the given dump, but here are some suggestions if you can make new dumps.</p>\n\n<p>If you only need very coarse time resolution such as (after startup, after 5 minutes, before manually triggering a bug, after manually triggering a bug etc), then you can take several dumps and compare them.</p>\n\n<p>Otherwise, if you are able to add an agent and run the scenario again you can log this yourself. With your JDK in *$JAVA_HOME/demo/jvmti directory* there is a sample agent program <em>heapTracker</em> which can track object creation deletion. This could easily be modified to also include timestamp. See <a href=\"http://www.oracle.com/technetwork/java/javase/tooldescr-136044.html#gbmls\" rel=\"nofollow\">Tools Interface</a></p>\n"}],"owner":{"account_id":93911,"reputation":5846,"user_id":256717,"accept_rate":80,"display_name":"Fakrudeen"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2897,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":8816036,"answer_count":4,"score":2,"last_activity_date":1639251908,"creation_date":1326265952,"question_id":8815489,"body_markdown":"Is there a way to figure out (even approximately) the creation time of an object from heap dump of a java process?\r\n\r\nPlease assume I don&#39;t have access to code and I have to work with the given dump. So I can&#39;t go and put timestamp in constructor.\r\n","title":"object creation time from heap dump","body":"<p>Is there a way to figure out (even approximately) the creation time of an object from heap dump of a java process?</p>\n\n<p>Please assume I don't have access to code and I have to work with the given dump. So I can't go and put timestamp in constructor.</p>\n"},{"tags":["java","xslt","heap-memory","xalan"],"answers":[{"tags":[],"owner":{"account_id":429168,"reputation":7139,"user_id":811918,"display_name":"Mathias Schwarz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1327966667,"creation_date":1327966667,"answer_id":9072412,"question_id":9071692,"body_markdown":"The problem with XSLT is that you need to have a DOM representation of the whole source document (as well as the result document) in memory while doing the transformation. For large XML files this is a serious problem.\r\n\r\nYou are interested in a system that allows a streaming transformation where the full documents do not have to recide in memory. Maybe STX is an option:\r\n[http://www.xml.com/pub/a/2003/02/26/stx.html][1]\r\n[http://stx.sourceforge.net/][2]. It is quite similar to XSLT, so if your XSLT stylesheet is applied to the XML in a straight-forward manner, rewriting it to STX could be quite simple.\r\n\r\n\r\n  [1]: http://www.xml.com/pub/a/2003/02/26/stx.html\r\n  [2]: http://stx.sourceforge.net/","title":"Xalan XSLT - Out of Memory Heap Space","body":"<p>The problem with XSLT is that you need to have a DOM representation of the whole source document (as well as the result document) in memory while doing the transformation. For large XML files this is a serious problem.</p>\n\n<p>You are interested in a system that allows a streaming transformation where the full documents do not have to recide in memory. Maybe STX is an option:\n<a href=\"http://www.xml.com/pub/a/2003/02/26/stx.html\" rel=\"nofollow\">http://www.xml.com/pub/a/2003/02/26/stx.html</a>\n<a href=\"http://stx.sourceforge.net/\" rel=\"nofollow\">http://stx.sourceforge.net/</a>. It is quite similar to XSLT, so if your XSLT stylesheet is applied to the XML in a straight-forward manner, rewriting it to STX could be quite simple.</p>\n"},{"tags":[],"owner":{"account_id":230293,"reputation":8818,"user_id":493807,"accept_rate":84,"display_name":"Andy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1328203495,"creation_date":1328203495,"answer_id":9116891,"question_id":9071692,"body_markdown":"We are able to improve this by doing two things.\r\n\r\n1. We take the XML source and destination format and make them files in temp. This keeps the initial creation and storage out of RAM, since the data is coming from a database and being written back to the DB as well. A handle to the data is all that&#39;s necessary.\r\n\r\n2. Use the [Saxonica][1] transformer. This allows for a couple things including SAX-style transformations and the use of XSLT 2.0, which the Xalan parser does not.\r\n\r\n\r\n  [1]: http://saxon.sourceforge.net/#F9.4HE","title":"Xalan XSLT - Out of Memory Heap Space","body":"<p>We are able to improve this by doing two things.</p>\n\n<ol>\n<li><p>We take the XML source and destination format and make them files in temp. This keeps the initial creation and storage out of RAM, since the data is coming from a database and being written back to the DB as well. A handle to the data is all that's necessary.</p></li>\n<li><p>Use the <a href=\"http://saxon.sourceforge.net/#F9.4HE\" rel=\"nofollow\">Saxonica</a> transformer. This allows for a couple things including SAX-style transformations and the use of XSLT 2.0, which the Xalan parser does not.</p></li>\n</ol>\n"}],"owner":{"account_id":230293,"reputation":8818,"user_id":493807,"accept_rate":84,"display_name":"Andy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4180,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":9116891,"answer_count":2,"score":5,"last_activity_date":1639251880,"creation_date":1327962084,"question_id":9071692,"body_markdown":"My project has a reporting module that gathers data from the database in the form of XML and runs an XSLT on it to generate the user&#39;s desired format of report. Options at this point are HTML and CSV.\r\n\r\nWe use Java and Xalan to do all interaction with the data.\r\n\r\nThe bad part is that one of these reports that the user can request is 143MB (about 430,000 records) for just the XML portion. When this is transformed into HTML, I run out of heap space with a maximum of 4096G reserved for heap. This is unacceptable.\r\n\r\nIt seems that the problem is simply too much data, but I can&#39;t help but think there is a better way to deal with this than limiting the customer and not being able to meet functional requirements.\r\n\r\nI am glad to give more information as needed, but I cannot disclose too much about the project as I&#39;m sure most of you understand. Also, the answer is yes; I need all of the data at the same time: I cannot paginate it.\r\n\r\nThanks\r\n\r\n**EDIT**\r\n\r\nAll the transformation classes I am using are in the javax.xml.transform package. The implementation looks like this:\r\n\r\n    final Transformer transformer = \r\n      TransformerFactory.newInstance().newTransformer(\r\n        new StreamSource(new StringReader(xsl)));\r\n    final StringWriter outWriter = new StringWriter();\r\n    transformer.transform(\r\n      new StreamSource(new StringReader(xml)), new StreamResult(outWriter));\r\n    return outWriter.toString();\r\n\r\nIf possible, I would like to leave the XSLT the way it is. The `StreamSource` method of doing things should allow me to GC some of the data as it is processed, but I&#39;m not sure what limitations on XSLT (functions, etc) this might require for it to do proper cleanup. If someone could point me at a resource detailing those limitations, it would be very helpful.","title":"Xalan XSLT - Out of Memory Heap Space","body":"<p>My project has a reporting module that gathers data from the database in the form of XML and runs an XSLT on it to generate the user's desired format of report. Options at this point are HTML and CSV.</p>\n\n<p>We use Java and Xalan to do all interaction with the data.</p>\n\n<p>The bad part is that one of these reports that the user can request is 143MB (about 430,000 records) for just the XML portion. When this is transformed into HTML, I run out of heap space with a maximum of 4096G reserved for heap. This is unacceptable.</p>\n\n<p>It seems that the problem is simply too much data, but I can't help but think there is a better way to deal with this than limiting the customer and not being able to meet functional requirements.</p>\n\n<p>I am glad to give more information as needed, but I cannot disclose too much about the project as I'm sure most of you understand. Also, the answer is yes; I need all of the data at the same time: I cannot paginate it.</p>\n\n<p>Thanks</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>All the transformation classes I am using are in the javax.xml.transform package. The implementation looks like this:</p>\n\n<pre><code>final Transformer transformer = \n  TransformerFactory.newInstance().newTransformer(\n    new StreamSource(new StringReader(xsl)));\nfinal StringWriter outWriter = new StringWriter();\ntransformer.transform(\n  new StreamSource(new StringReader(xml)), new StreamResult(outWriter));\nreturn outWriter.toString();\n</code></pre>\n\n<p>If possible, I would like to leave the XSLT the way it is. The <code>StreamSource</code> method of doing things should allow me to GC some of the data as it is processed, but I'm not sure what limitations on XSLT (functions, etc) this might require for it to do proper cleanup. If someone could point me at a resource detailing those limitations, it would be very helpful.</p>\n"},{"tags":["java","exception","networking","heap-memory"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1328716400,"post_id":9196706,"comment_id":11573926,"body_markdown":"How big is the stream, i.e. what does `stream.readInt()` return? How much memory do you give the JVM? Do you set the max memory at all or leave it the default? Which JVM - Hotspot, JRockit, ...?","body":"How big is the stream, i.e. what does <code>stream.readInt()</code> return? How much memory do you give the JVM? Do you set the max memory at all or leave it the default? Which JVM - Hotspot, JRockit, ...?"}],"answers":[{"tags":[],"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1328716384,"creation_date":1328716384,"answer_id":9196746,"question_id":9196706,"body_markdown":"Chances are that the value you get from `stream.readInt()` isn&#39;t what you expect. I&#39;d recommend printing it out and making sure it&#39;s correct.\r\n\r\nThere could be an [endianness][1] issue, or it could be that the receiving code isn&#39;t 100% in line with the sending code.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Endianness","title":"Java.lang.OutOfMemoryError with networking homework assignment","body":"<p>Chances are that the value you get from <code>stream.readInt()</code> isn't what you expect. I'd recommend printing it out and making sure it's correct.</p>\n\n<p>There could be an <a href=\"http://en.wikipedia.org/wiki/Endianness\" rel=\"nofollow\">endianness</a> issue, or it could be that the receiving code isn't 100% in line with the sending code.</p>\n"},{"tags":[],"owner":{"account_id":237493,"reputation":11836,"user_id":505714,"accept_rate":87,"display_name":"Alexis Dufrenoy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1328717396,"creation_date":1328717396,"answer_id":9197073,"question_id":9196706,"body_markdown":"Why not write\r\n\r\n    byte [] additionalInfoData = new byte[stream.readByte()];\r\n\r\nSome general consideration about memory management which could be useful: the default heap space size is 64 Mb. I8n order to extend it, you need to start your JVM with a Xmx parameter.\r\n\r\n    java -Xmx512M","title":"Java.lang.OutOfMemoryError with networking homework assignment","body":"<p>Why not write</p>\n\n<pre><code>byte [] additionalInfoData = new byte[stream.readByte()];\n</code></pre>\n\n<p>Some general consideration about memory management which could be useful: the default heap space size is 64 Mb. I8n order to extend it, you need to start your JVM with a Xmx parameter.</p>\n\n<pre><code>java -Xmx512M\n</code></pre>\n"}],"owner":{"account_id":1233467,"reputation":153,"user_id":1197576,"accept_rate":86,"display_name":"ChristianB"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":9196746,"answer_count":2,"score":2,"last_activity_date":1639251870,"creation_date":1328716236,"question_id":9196706,"body_markdown":"I am currently writing a networking assignment for one of my college classes and I am running into a bit of a problem. This assignment consists of a setting up a set of nodes that communicate with each other over sockets using a predefined set of messages. These messages must be able to be constructed from byte data that is sent back and fourth of the sockets. \r\n\r\nHere is an example of a method inside of one of the messages that processes data from a byte []:\r\n\r\n    \tpublic void processData(byte [] data) throws IOException \r\n\t{\r\n\t\tDataInputStream stream = new DataInputStream(new ByteArrayInputStream(data));\r\n\t\t//get the status code\r\n\t\tstatusCode = (byte)stream.read();\r\n\t\tSystem.out.println(&quot;Status Code: &quot;+statusCode);\r\n\t\t\r\n\t\t//get the additional info\r\n\t\tbyte [] additionalInfoData = new byte[stream.readInt()];\r\n\t\tstream.read(additionalInfoData, 0, additionalInfoData.length);\r\n\t\tadditionalInfo = new String(additionalInfoData);\r\n\t\tSystem.out.println(&quot;additionalInfo: &quot;+statusCode);\r\n\r\n\t\tstream.close();\r\n\t\t\r\n\t}\r\n\r\nWhen I run the program, and it reaches this point (this is after the first message has been sent), it halts on\r\n\r\n\t\tbyte [] additionalInfoData = new byte[stream.readInt()];\r\n\r\nwith this exception:\r\n\r\n`Exception in thread &quot;Thread-1&quot; java.lang.OutOfMemoryError: Java heap space\r\n\tat cdn.wireformats.RegisterResponse.processData(RegisterResponse.java:58)\r\n\tat cdn.wireformats.RegisterResponse.&lt;init&gt;(RegisterResponse.java:31)\r\n\tat cdn.wireformats.WireFormatFactory.getWireFormatMessage(WireFormatFactory.java:22)\r\n\tat cdn.communications.Link.readMessage(Link.java:62)\r\n\tat cdn.communications.Link.run(Link.java:98)\r\n\tat java.lang.Thread.run(Thread.java:679)\r\n`\r\n\r\nDoes anyone have any idea how to fix this problem? Am I reading data from the byte [] incorrectly?","title":"Java.lang.OutOfMemoryError with networking homework assignment","body":"<p>I am currently writing a networking assignment for one of my college classes and I am running into a bit of a problem. This assignment consists of a setting up a set of nodes that communicate with each other over sockets using a predefined set of messages. These messages must be able to be constructed from byte data that is sent back and fourth of the sockets. </p>\n\n<p>Here is an example of a method inside of one of the messages that processes data from a byte []:</p>\n\n<pre><code>    public void processData(byte [] data) throws IOException \n{\n    DataInputStream stream = new DataInputStream(new ByteArrayInputStream(data));\n    //get the status code\n    statusCode = (byte)stream.read();\n    System.out.println(\"Status Code: \"+statusCode);\n\n    //get the additional info\n    byte [] additionalInfoData = new byte[stream.readInt()];\n    stream.read(additionalInfoData, 0, additionalInfoData.length);\n    additionalInfo = new String(additionalInfoData);\n    System.out.println(\"additionalInfo: \"+statusCode);\n\n    stream.close();\n\n}\n</code></pre>\n\n<p>When I run the program, and it reaches this point (this is after the first message has been sent), it halts on</p>\n\n<pre><code>    byte [] additionalInfoData = new byte[stream.readInt()];\n</code></pre>\n\n<p>with this exception:</p>\n\n<p><code>Exception in thread \"Thread-1\" java.lang.OutOfMemoryError: Java heap space\n    at cdn.wireformats.RegisterResponse.processData(RegisterResponse.java:58)\n    at cdn.wireformats.RegisterResponse.&lt;init&gt;(RegisterResponse.java:31)\n    at cdn.wireformats.WireFormatFactory.getWireFormatMessage(WireFormatFactory.java:22)\n    at cdn.communications.Link.readMessage(Link.java:62)\n    at cdn.communications.Link.run(Link.java:98)\n    at java.lang.Thread.run(Thread.java:679)\n</code></p>\n\n<p>Does anyone have any idea how to fix this problem? Am I reading data from the byte [] incorrectly?</p>\n"},{"tags":["java","select","heap-memory","visualvm","oql"],"comments":[{"owner":{"account_id":471035,"reputation":1022,"user_id":878564,"accept_rate":80,"display_name":"joaerl"},"score":0,"creation_date":1328788175,"post_id":9210261,"comment_id":11593739,"body_markdown":"My reference: http://visualvm.java.net/oqlhelp.html#sort","body":"My reference: <a href=\"http://visualvm.java.net/oqlhelp.html#sort\" rel=\"nofollow noreferrer\">visualvm.java.net/oqlhelp.html#sort</a>"}],"answers":[{"tags":[],"owner":{"account_id":103389,"reputation":6773,"user_id":276950,"display_name":"Tomas Hurka"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1328803190,"creation_date":1328803190,"answer_id":9214266,"question_id":9210261,"body_markdown":"Try this:\r\n\r\n`select map(sort(heap.objects(&#39;se.greger.sven.olof.node.Task&#39;), &#39;lhs.refid - rhs.refid&#39;), &#39;{ ID: it.refid, obj: it }&#39;)`\r\n\r\nI expect that `refid` is long  or int.","title":"Sorting OQL result set by object parameter in VisualVm","body":"<p>Try this:</p>\n\n<p><code>select map(sort(heap.objects('se.greger.sven.olof.node.Task'), 'lhs.refid - rhs.refid'), '{ ID: it.refid, obj: it }')</code></p>\n\n<p>I expect that <code>refid</code> is long  or int.</p>\n"}],"owner":{"account_id":471035,"reputation":1022,"user_id":878564,"accept_rate":80,"display_name":"joaerl"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1049,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1639251853,"creation_date":1328787861,"question_id":9210261,"body_markdown":"Have opened a Java heap dump in VisualVm and I&#39;m trying to formulate an OQL query to return all objects of a specific class (se.greger.sven.olof.node.Task) ordered by one of the objects parameters (refid). Have tried variations of the two queries provided below, but I&#39;ve not succeeded so far.\r\n\r\nTry 1\r\n\r\n    select sort(heap.objects(&#39;se.greger.sven.olof.node.Task&#39;), &#39;it.refid&#39;)\r\n\r\nTry 2\r\n\r\n    select sort(se.greger.sven.olof.node.Task, it.refid)","title":"Sorting OQL result set by object parameter in VisualVm","body":"<p>Have opened a Java heap dump in VisualVm and I'm trying to formulate an OQL query to return all objects of a specific class (se.greger.sven.olof.node.Task) ordered by one of the objects parameters (refid). Have tried variations of the two queries provided below, but I've not succeeded so far.</p>\n\n<p>Try 1</p>\n\n<pre><code>select sort(heap.objects('se.greger.sven.olof.node.Task'), 'it.refid')\n</code></pre>\n\n<p>Try 2</p>\n\n<pre><code>select sort(se.greger.sven.olof.node.Task, it.refid)\n</code></pre>\n"},{"tags":["java","heap-memory","processing-efficiency"],"comments":[{"owner":{"account_id":200733,"reputation":4871,"user_id":446747,"accept_rate":75,"display_name":"josh.trow"},"score":1,"creation_date":1331322681,"post_id":9639950,"comment_id":12237927,"body_markdown":"Honestly I find it hard to believe the JVM will START with only an 8MB heap...","body":"Honestly I find it hard to believe the JVM will START with only an 8MB heap..."}],"answers":[{"tags":[],"owner":{"account_id":1275483,"reputation":2328,"user_id":1230853,"display_name":"Peter Cetinski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1331322834,"creation_date":1331322834,"answer_id":9640117,"question_id":9639950,"body_markdown":"Loading this data into a hashmap is orders of magnitude more efficient than reading from files constantly.  There is no one hard and fast rule on determining how much heap space will be taken up by parsing and loading a given csv file.  It depends on the system architecture, string encodings used, data types, etc.  \r\n\r\nThe simplest and best approach is to run a simple JVM profiler and examine the difference in heap usage from just before and just after you load a particular sized file into a hashmap.","title":"How to understand whether it is going to exceed the Java Heap Size or not?","body":"<p>Loading this data into a hashmap is orders of magnitude more efficient than reading from files constantly.  There is no one hard and fast rule on determining how much heap space will be taken up by parsing and loading a given csv file.  It depends on the system architecture, string encodings used, data types, etc.  </p>\n\n<p>The simplest and best approach is to run a simple JVM profiler and examine the difference in heap usage from just before and just after you load a particular sized file into a hashmap.</p>\n"}],"owner":{"account_id":459573,"reputation":2920,"user_id":860126,"accept_rate":85,"display_name":"CanCeylan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":9640117,"answer_count":1,"score":0,"last_activity_date":1639251829,"creation_date":1331321919,"question_id":9639950,"body_markdown":"I implemented a program about calculating the stock values comparing that value in the given times&#39; values and etc.. \r\nI have a csv file which has all dates and double values. In my program for every single date, I&#39;m openning a file, parsing and searching the value of the  given date. And I may check the date for multiple times. That&#39;s why I want to use these values in the HashMap, if I don&#39;t have the value of the given date as a Key, I would open the csv file and search it.\r\nBut before implementing that program, I want to check that if I store all values in the hashmap, is it fit into the java&#39;s heap which is 8MB.\r\nMy csv file has 1200 lines of date and corresponding double value.\r\nIs there any way to understand it before implementing the code ?\r\nOr do you advise any better ideas to make more efficient program ?\r\n\r\nThanks.","title":"How to understand whether it is going to exceed the Java Heap Size or not?","body":"<p>I implemented a program about calculating the stock values comparing that value in the given times' values and etc.. \nI have a csv file which has all dates and double values. In my program for every single date, I'm openning a file, parsing and searching the value of the  given date. And I may check the date for multiple times. That's why I want to use these values in the HashMap, if I don't have the value of the given date as a Key, I would open the csv file and search it.\nBut before implementing that program, I want to check that if I store all values in the hashmap, is it fit into the java's heap which is 8MB.\nMy csv file has 1200 lines of date and corresponding double value.\nIs there any way to understand it before implementing the code ?\nOr do you advise any better ideas to make more efficient program ?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","optimization"],"comments":[{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1331755157,"post_id":9709288,"comment_id":12341584,"body_markdown":"When you profile your application, what does it spend most of its time doing?","body":"When you profile your application, what does it spend most of its time doing?"},{"owner":{"account_id":994242,"reputation":4273,"user_id":1010609,"accept_rate":83,"display_name":"formatc"},"score":0,"creation_date":1331755211,"post_id":9709288,"comment_id":12341603,"body_markdown":"Why don&#39;t you use Neural Network for this?","body":"Why don&#39;t you use Neural Network for this?"},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":1,"creation_date":1331755348,"post_id":9709288,"comment_id":12341661,"body_markdown":"One thing I notice is that you recreate a new object every single time you&#39;re pulling it from the `ArrayList`.  Moving your declarations of Piece outside of the loop would help reduce memory footprint and help improve runtime somewhat.  Otherwise, you would be better served using a Java code profiler to see how often your code is doing what calls where and why.","body":"One thing I notice is that you recreate a new object every single time you&#39;re pulling it from the <code>ArrayList</code>.  Moving your declarations of Piece outside of the loop would help reduce memory footprint and help improve runtime somewhat.  Otherwise, you would be better served using a Java code profiler to see how often your code is doing what calls where and why."},{"owner":{"account_id":445358,"reputation":5145,"user_id":837765,"accept_rate":91,"display_name":"Pier-Alexandre Bouchard"},"score":0,"creation_date":1331755808,"post_id":9709288,"comment_id":12341843,"body_markdown":"@PeterLawrey I don&#39;t know of to profile my memory. I am using Eclipse, but I do not have any tool for this..","body":"@PeterLawrey I don&#39;t know of to profile my memory. I am using Eclipse, but I do not have any tool for this.."},{"owner":{"account_id":445358,"reputation":5145,"user_id":837765,"accept_rate":91,"display_name":"Pier-Alexandre Bouchard"},"score":0,"creation_date":1331755826,"post_id":9709288,"comment_id":12341852,"body_markdown":"A Neural Network, could help in memory ?","body":"A Neural Network, could help in memory ?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":3,"creation_date":1331765550,"post_id":9709288,"comment_id":12345139,"body_markdown":"@Makoto No. He doesn&#39;t &#39;recreate a new object&#39; every time around the loop. He *declares* a new *variable* every time around the loop. The impact of that at runtime is zero, because the stack slot was already allocated at entry to the method, by the definition of the Java bytecode.","body":"@Makoto No. He doesn&#39;t &#39;recreate a new object&#39; every time around the loop. He <i>declares</i> a new <i>variable</i> every time around the loop. The impact of that at runtime is zero, because the stack slot was already allocated at entry to the method, by the definition of the Java bytecode."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1331800181,"post_id":9709288,"comment_id":12351521,"body_markdown":"In my experience, unless you measure the performance characteristics of your program (You can start with VisualVM, and later try a commercial profiler like YourKit), you will be just guessing.  You can find that what you think are performance improvements, just make your code more complex and can make it slower.  Conversely, minor changes which you wouldn&#39;t think of can make a big difference.  The best place to start is with a profiler and a realistic use case.","body":"In my experience, unless you measure the performance characteristics of your program (You can start with VisualVM, and later try a commercial profiler like YourKit), you will be just guessing.  You can find that what you think are performance improvements, just make your code more complex and can make it slower.  Conversely, minor changes which you wouldn&#39;t think of can make a big difference.  The best place to start is with a profiler and a realistic use case."},{"owner":{"account_id":445358,"reputation":5145,"user_id":837765,"accept_rate":91,"display_name":"Pier-Alexandre Bouchard"},"score":0,"creation_date":1331844856,"post_id":9709288,"comment_id":12369406,"body_markdown":"@PeterLawrey I will try VisualVM, I never used this kind of tool.","body":"@PeterLawrey I will try VisualVM, I never used this kind of tool."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1331888077,"post_id":9709288,"comment_id":12378291,"body_markdown":"You should also try using a commercial profiler like YourKit (You can get a evaluation license for free so you don&#39;t have to pay for it to try it)","body":"You should also try using a commercial profiler like YourKit (You can get a evaluation license for free so you don&#39;t have to pay for it to try it)"}],"answers":[{"tags":[],"owner":{"account_id":990336,"reputation":5641,"user_id":1007845,"accept_rate":82,"display_name":"Adrian"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1331755581,"creation_date":1331755272,"answer_id":9709360,"question_id":9709288,"body_markdown":"You need to use something called [AlphaBeta pruning][1] on your generated [MinMax trees][2] of moves. More on this here: \r\nhttp://en.wikipedia.org/wiki/Alpha-beta_pruning  \r\nhttp://www.progtools.org/games/tutorials/ai_contest/minmax_contest.pdf  \r\n\r\nBasically you do one level of branches and then using pruning you eliminate bad branches early. Then from the non eliminated branches you calculate (for each) another level. You prune again until you reach a desired depth.\r\n\r\nHere are a few more links for you to read up on minmax:  \r\n1. http://en.wikipedia.org/wiki/Minimax  \r\n2. https://stackoverflow.com/questions/8275923/minmax-trees-when-min-can-win-in-two-steps  \r\n\r\nThis one is on optimizing pruning for chess games:  \r\n1. http://en.wikipedia.org/wiki/Alpha-beta_pruning#Heuristic_improvements  \r\n2. http://en.wikipedia.org/wiki/Refutation_table#Related_techniques\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Alpha-beta_pruning\r\n  [2]: http://en.wikipedia.org/wiki/Minimax","title":"How can this Java tree be 1000 x faster?","body":"<p>You need to use something called <a href=\"http://en.wikipedia.org/wiki/Alpha-beta_pruning\" rel=\"nofollow noreferrer\">AlphaBeta pruning</a> on your generated <a href=\"http://en.wikipedia.org/wiki/Minimax\" rel=\"nofollow noreferrer\">MinMax trees</a> of moves. More on this here: \n<a href=\"http://en.wikipedia.org/wiki/Alpha-beta_pruning\" rel=\"nofollow noreferrer\">http://en.wikipedia.org/wiki/Alpha-beta_pruning</a><br>\n<a href=\"http://www.progtools.org/games/tutorials/ai_contest/minmax_contest.pdf\" rel=\"nofollow noreferrer\">http://www.progtools.org/games/tutorials/ai_contest/minmax_contest.pdf</a>  </p>\n\n<p>Basically you do one level of branches and then using pruning you eliminate bad branches early. Then from the non eliminated branches you calculate (for each) another level. You prune again until you reach a desired depth.</p>\n\n<p>Here are a few more links for you to read up on minmax:<br>\n1. <a href=\"http://en.wikipedia.org/wiki/Minimax\" rel=\"nofollow noreferrer\">http://en.wikipedia.org/wiki/Minimax</a><br>\n2. <a href=\"https://stackoverflow.com/questions/8275923/minmax-trees-when-min-can-win-in-two-steps\">MinMax trees - when Min can win in two steps</a>  </p>\n\n<p>This one is on optimizing pruning for chess games:<br>\n1. <a href=\"http://en.wikipedia.org/wiki/Alpha-beta_pruning#Heuristic_improvements\" rel=\"nofollow noreferrer\">http://en.wikipedia.org/wiki/Alpha-beta_pruning#Heuristic_improvements</a><br>\n2. <a href=\"http://en.wikipedia.org/wiki/Refutation_table#Related_techniques\" rel=\"nofollow noreferrer\">http://en.wikipedia.org/wiki/Refutation_table#Related_techniques</a></p>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1331765725,"creation_date":1331765725,"answer_id":9711553,"question_id":9709288,"body_markdown":"I don&#39;t understand why you are using Stacks when you are doing random access to the elements. A a low level you would get an improvement by using a Piece[] array instead.","title":"How can this Java tree be 1000 x faster?","body":"<p>I don't understand why you are using Stacks when you are doing random access to the elements. A a low level you would get an improvement by using a Piece[] array instead.</p>\n"}],"owner":{"account_id":445358,"reputation":5145,"user_id":837765,"accept_rate":91,"display_name":"Pier-Alexandre Bouchard"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":385,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":9709360,"answer_count":2,"score":1,"last_activity_date":1639251817,"creation_date":1331755007,"question_id":9709288,"body_markdown":"I am programming an AI for a chess-like game, based on two types of pieces on a 8 x 8 grid.\r\n\r\nI want to build a kind of minmax tree, which represents each possible move in a game, played by white players in first, and by black players in second.\r\n\r\nI have this generate() method which is call recursively. I need to be able to display about 8 levels of possible moves. Without optimization, this three has 8^8 leafs.\r\n\r\nI implemented a simple system which determinate if a grid has actually ever been calculated and if its the case, system just points a child to the ever-calculated child reference.\r\n\r\nI don&#39;t know if my explanations are clear, I will join a part of code that you should be able to understand.\r\n\r\nThe problem is that actually, I am able to generate about 3 or 4 levels of all possibilities. I am far of 8.\r\n\r\nI would like to be able to calculate it in less than 5 seconds..\r\n\r\nSo guys, do you see a solution for optimize my algorithm ?\r\n\r\nThis is the generate function:\r\nleftDiagonalMove(), rightDiagonalMove() and frontMove() return false if a move is illegal or move the piece in the grid and return true, if the move is legal.\r\n\r\nclone() creates a new instance with the same properties of it&#39;s &quot;parent&quot; and backMove() just step back to last Move.\r\n\r\n\tpublic void generate(Node root, boolean white, int index) {\r\n\t\t\r\n\t\tGrid grid = root.getGrid();\r\n\r\n\t\tStack&lt;Piece&gt; whitePieces = grid.getPiecesByColor(WHITE);\r\n\t\tStack&lt;Piece&gt; blackPieces = grid.getPiecesByColor(BLACK);\r\n\t\tNode node;\r\n\r\n\t\tString serial = &quot;&quot;;\r\n\t\t// white loop\r\n\t\tfor (int i = 0; i &lt; whitePieces.size() &amp;&amp; white; i++) {\r\n\t\t\tPiece wPiece = whitePieces.get(i);\r\n\r\n\t\t\tif (grid.leftDiagonalMove(wPiece)) {\r\n\t\t\t\tserial = grid.getSerial();\r\n\t\t\t\tif(!allGrids.containsKey(serial)){\r\n\t\t\t\t\tnode = new Node(grid.clone());\r\n\t\t\t\t\tnode.setMove(grid.getLastMove());\r\n\t\t\t\t\troot.addChild(node); // add modified grid\r\n\t\t\t\t\tallGrids.put(serial, node);\r\n\t\t\t\t\t//actualGrid.display();\r\n\t\t\t\t\tif (index &lt; 5 &amp;&amp; grid.getPosition(wPiece).x &gt; 0)\r\n\t\t\t\t\t\tgenerate(node, !white, index + 1);\r\n\t\t\t\t\tactualGrid.backMove(); // back step to initial grid\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\troot.addChild(allGrids.get(serial));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (grid.frontMove(wPiece)) {\r\n\t\t\t\t// same code as leftMove\r\n\t\t\t}\r\n\r\n\t\t\tif (grid.rightDiagonalMove(wPiece)) {\r\n\t\t\t\t// same code as leftMove\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// black loop\r\n\t\tfor (int i = 0; i &lt; blackPieces.size() &amp;&amp; !white; i++) {\r\n\t\t\tPiece bPiece = blackPieces.get(i);\r\n\r\n\t\t\tif (grid.leftDiagonalMove(bPiece)) {\r\n\t\t\t\t// same code as white loop and replacing wPiece by bPiece\r\n\t\t\t}\r\n\r\n\t\t\tif (grid.frontMove(bPiece)) {\r\n\t\t\t\t// same code as white loop and replacing wPiece by bPiece\r\n\t\t\t}\r\n\r\n\t\t\tif (grid.rightDiagonalMove(bPiece)) {\r\n\t\t\t\t// same code as white loop and replacing wPiece by bPiece\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}","title":"How can this Java tree be 1000 x faster?","body":"<p>I am programming an AI for a chess-like game, based on two types of pieces on a 8 x 8 grid.</p>\n\n<p>I want to build a kind of minmax tree, which represents each possible move in a game, played by white players in first, and by black players in second.</p>\n\n<p>I have this generate() method which is call recursively. I need to be able to display about 8 levels of possible moves. Without optimization, this three has 8^8 leafs.</p>\n\n<p>I implemented a simple system which determinate if a grid has actually ever been calculated and if its the case, system just points a child to the ever-calculated child reference.</p>\n\n<p>I don't know if my explanations are clear, I will join a part of code that you should be able to understand.</p>\n\n<p>The problem is that actually, I am able to generate about 3 or 4 levels of all possibilities. I am far of 8.</p>\n\n<p>I would like to be able to calculate it in less than 5 seconds..</p>\n\n<p>So guys, do you see a solution for optimize my algorithm ?</p>\n\n<p>This is the generate function:\nleftDiagonalMove(), rightDiagonalMove() and frontMove() return false if a move is illegal or move the piece in the grid and return true, if the move is legal.</p>\n\n<p>clone() creates a new instance with the same properties of it's \"parent\" and backMove() just step back to last Move.</p>\n\n<pre><code>public void generate(Node root, boolean white, int index) {\n\n    Grid grid = root.getGrid();\n\n    Stack&lt;Piece&gt; whitePieces = grid.getPiecesByColor(WHITE);\n    Stack&lt;Piece&gt; blackPieces = grid.getPiecesByColor(BLACK);\n    Node node;\n\n    String serial = \"\";\n    // white loop\n    for (int i = 0; i &lt; whitePieces.size() &amp;&amp; white; i++) {\n        Piece wPiece = whitePieces.get(i);\n\n        if (grid.leftDiagonalMove(wPiece)) {\n            serial = grid.getSerial();\n            if(!allGrids.containsKey(serial)){\n                node = new Node(grid.clone());\n                node.setMove(grid.getLastMove());\n                root.addChild(node); // add modified grid\n                allGrids.put(serial, node);\n                //actualGrid.display();\n                if (index &lt; 5 &amp;&amp; grid.getPosition(wPiece).x &gt; 0)\n                    generate(node, !white, index + 1);\n                actualGrid.backMove(); // back step to initial grid\n            }\n            else{\n                root.addChild(allGrids.get(serial));\n            }\n        }\n\n        if (grid.frontMove(wPiece)) {\n            // same code as leftMove\n        }\n\n        if (grid.rightDiagonalMove(wPiece)) {\n            // same code as leftMove\n        }\n\n    }\n\n    // black loop\n    for (int i = 0; i &lt; blackPieces.size() &amp;&amp; !white; i++) {\n        Piece bPiece = blackPieces.get(i);\n\n        if (grid.leftDiagonalMove(bPiece)) {\n            // same code as white loop and replacing wPiece by bPiece\n        }\n\n        if (grid.frontMove(bPiece)) {\n            // same code as white loop and replacing wPiece by bPiece\n        }\n\n        if (grid.rightDiagonalMove(bPiece)) {\n            // same code as white loop and replacing wPiece by bPiece\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","object"],"comments":[{"owner":{"account_id":19314,"reputation":6654,"user_id":45163,"accept_rate":86,"display_name":"Chris Nava"},"score":2,"creation_date":1334025922,"post_id":10082305,"comment_id":12910210,"body_markdown":"When a Human is born an new Mammal is also created but only one object. ;-)","body":"When a Human is born an new Mammal is also created but only one object. ;-)"}],"answers":[{"tags":[],"owner":{"account_id":1366046,"reputation":2411,"user_id":1302445,"display_name":"Akash Yadav"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1334024322,"creation_date":1334024322,"answer_id":10082321,"question_id":10082305,"body_markdown":"Yes only one object is created","title":"When a subclass is instantiated, is only one object created?","body":"<p>Yes only one object is created</p>\n"},{"tags":[],"owner":{"account_id":1074234,"reputation":7436,"user_id":1072724,"accept_rate":100,"display_name":"Mike McMahon"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1334024328,"creation_date":1334024328,"answer_id":10082323,"question_id":10082305,"body_markdown":"Just one object, even if the super&#39;s constructor is called you are just performing additional instantiation on the one object.  ","title":"When a subclass is instantiated, is only one object created?","body":"<p>Just one object, even if the super's constructor is called you are just performing additional instantiation on the one object.  </p>\n"},{"tags":[],"owner":{"display_name":"user973999"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1334024692,"creation_date":1334024355,"answer_id":10082325,"question_id":10082305,"body_markdown":"Just one object is created in memory.","title":"When a subclass is instantiated, is only one object created?","body":"<p>Just one object is created in memory.</p>\n"},{"tags":[],"owner":{"account_id":141726,"reputation":10745,"user_id":348975,"accept_rate":86,"display_name":"emory"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1334027036,"creation_date":1334027036,"answer_id":10082616,"question_id":10082305,"body_markdown":"\r\nAt least one object is created.  Who knows how many objects are created in the constructor?\r\n\r\n\r\n    class X extends Y\r\n    {\r\n        Object [ ] objects ;\r\n    \r\n        X ( int n )\r\n        {\r\n             super ( ) ;\r\n             objects = new Object [ n ] ;\r\n             for ( int i = 0 ; i &lt; n ; i ++ )\r\n             {\r\n                  objects [ i ] = new Object ( ) ;\r\n             }\r\n        }\r\n    }","title":"When a subclass is instantiated, is only one object created?","body":"<p>At least one object is created.  Who knows how many objects are created in the constructor?</p>\n\n<pre><code>class X extends Y\n{\n    Object [ ] objects ;\n\n    X ( int n )\n    {\n         super ( ) ;\n         objects = new Object [ n ] ;\n         for ( int i = 0 ; i &lt; n ; i ++ )\n         {\n              objects [ i ] = new Object ( ) ;\n         }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1519909,"reputation":15,"user_id":1419863,"display_name":"Polo Talnir"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1338257229,"creation_date":1338254309,"answer_id":10792071,"question_id":10082305,"body_markdown":"Einstein is attributed a saying: explanations should be as simple as possible, but no simpler. The simple answer &#39;only one object&#39; may be perhaps true, but misses a lot of important information.\r\n\r\nAs Nick asked, we can invoke the superclass constructor. So that the superclass constructor is &#39;somewhere&#39;, even though I instantiated only the subclass. Is easy to reason that the instance of the subclass must include all the members of the superclasses (all of them, up to Object). In principle all this pile of variables and methods is the subclass instance. These variables and methods must include also variables not inherited by the subclass. So that the instance is not just what the subclass declares or inherits. I.e. a Cat is-a Mammal, even if Mammal declares some member that Cat doesn&#39;t inherit (a poor Java design decision, IMO).\r\n\r\nFor example, if the superclass has a private variable &#39;priv&#39;, and public accessors getPriv() setPriv(), subclass can invoke the accessors, therefore accessing the variable, modifying state, etc. Yet &#39;priv&#39; itself is not anywhere to be found in the subclass .class file. So that there is more to the instance than &#39;just the class&#39;.\r\n\r\nI leave to some other discussion the rationale behind &#39;subclass doesn&#39;t inherit private members, etc.&#39;. Never made any sense to me (the instance variables are this instance&#39;s; so what access control are you talking about? an object can&#39;t access its own parts?! ... anyways ... that was the designers decision)\r\n\r\nBTW the JVM spec says nothing (and indeed, shouldn&#39;t say anything) about how to implement the inheritance semantics. One possible solution (which may or may not be what any of the JVMs do) would be to create full instances of all the ancestor classes when an instance of the subclass is created. Why not?. It is unlikely anyone will come with an authoritative source declaring that this shall not be done. Certainly the JVM spec doesn&#39;t say that.\r\n\r\nIf someone can contribute a pointer to actual JVM implementation information on this topic, that would be illuminating. I couldn&#39;t find it by google&#39;ing. Neither could find an authoritative confirmation of the &#39;just one object&#39; assertion. May be. I don&#39;t know. Conceptually, as a Java language construct? sure! but with &#39;clarifications&#39;. Implementation-wise, i.e. &#39;in memory&#39;? may be, may be not.\r\n\r\n-Polo\r\n","title":"When a subclass is instantiated, is only one object created?","body":"<p>Einstein is attributed a saying: explanations should be as simple as possible, but no simpler. The simple answer 'only one object' may be perhaps true, but misses a lot of important information.</p>\n\n<p>As Nick asked, we can invoke the superclass constructor. So that the superclass constructor is 'somewhere', even though I instantiated only the subclass. Is easy to reason that the instance of the subclass must include all the members of the superclasses (all of them, up to Object). In principle all this pile of variables and methods is the subclass instance. These variables and methods must include also variables not inherited by the subclass. So that the instance is not just what the subclass declares or inherits. I.e. a Cat is-a Mammal, even if Mammal declares some member that Cat doesn't inherit (a poor Java design decision, IMO).</p>\n\n<p>For example, if the superclass has a private variable 'priv', and public accessors getPriv() setPriv(), subclass can invoke the accessors, therefore accessing the variable, modifying state, etc. Yet 'priv' itself is not anywhere to be found in the subclass .class file. So that there is more to the instance than 'just the class'.</p>\n\n<p>I leave to some other discussion the rationale behind 'subclass doesn't inherit private members, etc.'. Never made any sense to me (the instance variables are this instance's; so what access control are you talking about? an object can't access its own parts?! ... anyways ... that was the designers decision)</p>\n\n<p>BTW the JVM spec says nothing (and indeed, shouldn't say anything) about how to implement the inheritance semantics. One possible solution (which may or may not be what any of the JVMs do) would be to create full instances of all the ancestor classes when an instance of the subclass is created. Why not?. It is unlikely anyone will come with an authoritative source declaring that this shall not be done. Certainly the JVM spec doesn't say that.</p>\n\n<p>If someone can contribute a pointer to actual JVM implementation information on this topic, that would be illuminating. I couldn't find it by google'ing. Neither could find an authoritative confirmation of the 'just one object' assertion. May be. I don't know. Conceptually, as a Java language construct? sure! but with 'clarifications'. Implementation-wise, i.e. 'in memory'? may be, may be not.</p>\n\n<p>-Polo</p>\n"}],"owner":{"account_id":37812,"reputation":25853,"user_id":108207,"accept_rate":96,"display_name":"Niklas Rosencrantz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":650,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":10082323,"answer_count":5,"score":0,"last_activity_date":1639251790,"creation_date":1334024238,"question_id":10082305,"body_markdown":"Since many constructors also call the superclass constructor, it seems like one could think that both the subclass and the superclass are instantiated when a subclass is instantiated; i.e. more than one object is created.\r\n\r\nIs still just one object created?\r\n\r\nThank you","title":"When a subclass is instantiated, is only one object created?","body":"<p>Since many constructors also call the superclass constructor, it seems like one could think that both the subclass and the superclass are instantiated when a subclass is instantiated; i.e. more than one object is created.</p>\n\n<p>Is still just one object created?</p>\n\n<p>Thank you</p>\n"},{"tags":["java","arraylist","linked-list","heap-memory"],"comments":[{"owner":{"account_id":1015001,"reputation":7764,"user_id":1026764,"accept_rate":72,"display_name":"noMAD"},"score":0,"creation_date":1334036541,"post_id":10083590,"comment_id":12912009,"body_markdown":"There is no explicit concept of pointers in Java. Everything are objects.","body":"There is no explicit concept of pointers in Java. Everything are objects."},{"owner":{"account_id":81675,"reputation":4290,"user_id":230188,"accept_rate":80,"display_name":"Wajdy Essam"},"score":0,"creation_date":1334037421,"post_id":10083590,"comment_id":12912228,"body_markdown":"where is the code for Node class ?","body":"where is the code for Node class ?"},{"owner":{"account_id":218120,"reputation":52202,"user_id":474283,"display_name":"Cameron Skinner"},"score":1,"creation_date":1334037527,"post_id":10083590,"comment_id":12912255,"body_markdown":"@noMAD: Yes and no. Variables are all *references* to objects, not objects themselves. References behave similarly (but not identically) to pointers.","body":"@noMAD: Yes and no. Variables are all <i>references</i> to objects, not objects themselves. References behave similarly (but not identically) to pointers."}],"answers":[{"tags":[],"owner":{"account_id":36759,"reputation":38034,"user_id":104950,"accept_rate":93,"display_name":"Amir Afghani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1334037470,"creation_date":1334037115,"answer_id":10083745,"question_id":10083590,"body_markdown":"It&#39;s hard to diagnose the exact cause of your `OOM` without the whole program, but here&#39;s one observation:\r\n\r\n`getNodes()`\r\n\r\nis pretty inefficient.  You `toArray` the `LinkedList` simply to traverse it and look for a particular instance.  Why not just use .`contains()` properly?  No need to copy all of the elements then.  Or just do what you were doing before but do it on the `List` instead of an array copy:\r\n  \r\n     for(NodeImp n : existingNodes){\r\n         if(n.getXPos() == xpos &amp;&amp; n.getYPos() == ypos){\r\n             throw new InvalidLabelException();\r\n         }\r\n     }\r\n\r\nMy guess is that the &#39;old&#39; approach of adding to the end was likely to hit an OOM as well but for some heisenbug reason it hasn&#39;t manifested itself.  Have you run with a profiler?","title":"LinkedList: java.lang.OutOfMemoryError: Java heap space","body":"<p>It's hard to diagnose the exact cause of your <code>OOM</code> without the whole program, but here's one observation:</p>\n\n<p><code>getNodes()</code></p>\n\n<p>is pretty inefficient.  You <code>toArray</code> the <code>LinkedList</code> simply to traverse it and look for a particular instance.  Why not just use .<code>contains()</code> properly?  No need to copy all of the elements then.  Or just do what you were doing before but do it on the <code>List</code> instead of an array copy:</p>\n\n<pre><code> for(NodeImp n : existingNodes){\n     if(n.getXPos() == xpos &amp;&amp; n.getYPos() == ypos){\n         throw new InvalidLabelException();\n     }\n }\n</code></pre>\n\n<p>My guess is that the 'old' approach of adding to the end was likely to hit an OOM as well but for some heisenbug reason it hasn't manifested itself.  Have you run with a profiler?</p>\n"},{"tags":[],"owner":{"account_id":218120,"reputation":52202,"user_id":474283,"display_name":"Cameron Skinner"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1334037453,"creation_date":1334037453,"answer_id":10083794,"question_id":10083590,"body_markdown":"The problem is that you are not exiting your loop after inserting the new node in the middle of the list. Your code will try to insert the same node an infinite number of times, hence the OOM.\r\n\r\nTry this:\r\n\r\n    for(int i = 0;i&lt;nodes.size();i++){\r\n        if(n.compareTo(nodes.get(i))&lt;=0 ){\r\n            nodes.add(i,n);\r\n            added = true;\r\n            break;\r\n        }\r\n    }\r\n\r\nAs an aside, your insertion is pretty inefficient. Since you know the list is already sorted you could use a binary search to find the insertion point rather than an O(n) scan of the list. Your current implementation is O(n^2) to insert n items, but it could be O(n log n).","title":"LinkedList: java.lang.OutOfMemoryError: Java heap space","body":"<p>The problem is that you are not exiting your loop after inserting the new node in the middle of the list. Your code will try to insert the same node an infinite number of times, hence the OOM.</p>\n\n<p>Try this:</p>\n\n<pre><code>for(int i = 0;i&lt;nodes.size();i++){\n    if(n.compareTo(nodes.get(i))&lt;=0 ){\n        nodes.add(i,n);\n        added = true;\n        break;\n    }\n}\n</code></pre>\n\n<p>As an aside, your insertion is pretty inefficient. Since you know the list is already sorted you could use a binary search to find the insertion point rather than an O(n) scan of the list. Your current implementation is O(n^2) to insert n items, but it could be O(n log n).</p>\n"}],"owner":{"account_id":1392819,"reputation":125,"user_id":1323200,"display_name":"Ian"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3419,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":10083794,"answer_count":2,"score":2,"last_activity_date":1639251768,"creation_date":1334036141,"question_id":10083590,"body_markdown":"I&#39;m trying to make a graph implementation for an assignment, which has Graph(GraphImp) objects and Node(NodeImp) objects.\r\n\r\nNode objects contain a reference to their Graph, x &amp; y co-ordinates and a name.\r\n\r\nThe Graph object contains a linked list of its Nodes.\r\n\r\nThe problem occurs when I try to add a Node into the middle of the List of Nodes (Appending to the end works fine). The program runs out of heap space. I&#39;m not sure why this is occurring though, since the complexity of inserting to a LinkedList should be O(1), and Java (I believe) uses pointers, rather that the objects themselves. I&#39;ve also tried an arraylist\r\n\r\nMaking the heap larger is not an option in this instance, and (as far as I understand) should not be the source of the problem.\r\n\r\nThanks in advance.\r\n\r\n\r\nHere is the error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\r\n        at java.util.LinkedList.addBefore(LinkedList.java:795)\r\n        at java.util.LinkedList.add(LinkedList.java:361)\r\n        at pt.graph.GraphImp.addNode(GraphImp.java:79)\r\n        at pt.graph.NodeImp.&lt;init&gt;(NodeImp.java:25)\r\n        at pt.graph.Graphs.newNode(Solution.java:68)\r\n\r\nHere is the Code:\r\n\r\n    class Graphs\r\n    {\r\n    \r\n    \tstatic Node newNode(Graph g, double xpos, double ypos, String name) throws InvalidGraphException,InvalidLabelException\r\n    \t{\r\n    \t\tif(g==null || !(g instanceof GraphImp)){   //Checking validity of inputs\r\n    \t\t\tthrow new InvalidGraphException();\r\n    \t\t}\r\n    \t\tif(name==null){\r\n    \t\t\tthrow new InvalidLabelException();\r\n    \t\t}\r\n    \r\n    \t\tNodeImp[] existNodes = ((GraphImp)g).getNodes(); //Get all Nodes already present in the Graph\r\n    \t\tfor(int i=0;i&lt;existNodes.length;i++){\r\n    \t\t\tif(existNodes[i].getXPos() == xpos &amp;&amp; existNodes[i].getYPos() == ypos){ //If node already present at this position, throw InvalidLabelException()\r\n    \t\t\t\tthrow new InvalidLabelException();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\tNode n = new NodeImp((GraphImp)g, xpos, ypos, name); //If all inputs are valid, create new node\r\n    \t\t\r\n    \t\treturn n;\r\n    \t}\r\n    \r\n    }\r\n    \r\n    class NodeImp extends Node //Node Class\r\n    {\r\n    \t\r\n    \tprivate Object flags = null;\r\n    \tprivate GraphImp g = null;\r\n    \tprivate double xpos = 0.0;\r\n    \tprivate double ypos = 0.0;\r\n    \tprivate String name = &quot;&quot;;\r\n    \t\r\n    \tNodeImp(GraphImp g, double xpos, double ypos, String name){\r\n    \t\tthis.g = g;\r\n    \t\tthis.xpos = xpos;\r\n    \t\tthis.ypos = ypos;\r\n    \t\tthis.name = name;\r\n    \t\tg.addNode(this); // Add Node to the Graph\r\n    \t}\r\n    }\r\n    \r\n    class GraphImp extends Graph\r\n    {\r\n    \tprivate LinkedList&lt;NodeImp&gt; nodes = new LinkedList&lt;NodeImp&gt;(); //LinkedList of all Nodes in the Graph\r\n    \t\r\n    \tGraphImp(){\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tNodeImp[] getNodes(){ //Returns an array of all Nodes\r\n    \t\tNodeImp[] nArr = new NodeImp[nodes.size()];\r\n    \t\treturn nodes.toArray(nArr);\r\n    \t}\r\n    \r\n    \tint countNodes(){ //Returns number of Nodes\r\n    \t\treturn nodes.size();\r\n    \t}\r\n    \r\n    \tvoid addNode(NodeImp n){ //Add a Node to the LinkedList in order\r\n    \t\tboolean added = false;\r\n    \t\tfor(int i = 0;i&lt;nodes.size();i++){\r\n    \t\t\tif(n.compareTo(nodes.get(i))&lt;=0 ){\r\n    \t\t\t\tnodes.add(i,n);\t\t\t//fails here\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tif(!added){\r\n    \t\t\tnodes.add(n);\r\n    \t\t}\r\n    \t\treturn;\r\n    \t}\r\n    \t\r\n    }","title":"LinkedList: java.lang.OutOfMemoryError: Java heap space","body":"<p>I'm trying to make a graph implementation for an assignment, which has Graph(GraphImp) objects and Node(NodeImp) objects.</p>\n\n<p>Node objects contain a reference to their Graph, x &amp; y co-ordinates and a name.</p>\n\n<p>The Graph object contains a linked list of its Nodes.</p>\n\n<p>The problem occurs when I try to add a Node into the middle of the List of Nodes (Appending to the end works fine). The program runs out of heap space. I'm not sure why this is occurring though, since the complexity of inserting to a LinkedList should be O(1), and Java (I believe) uses pointers, rather that the objects themselves. I've also tried an arraylist</p>\n\n<p>Making the heap larger is not an option in this instance, and (as far as I understand) should not be the source of the problem.</p>\n\n<p>Thanks in advance.</p>\n\n<p>Here is the error:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.OutOfMemoryError: Java heap space\n    at java.util.LinkedList.addBefore(LinkedList.java:795)\n    at java.util.LinkedList.add(LinkedList.java:361)\n    at pt.graph.GraphImp.addNode(GraphImp.java:79)\n    at pt.graph.NodeImp.&lt;init&gt;(NodeImp.java:25)\n    at pt.graph.Graphs.newNode(Solution.java:68)\n</code></pre>\n\n<p>Here is the Code:</p>\n\n<pre><code>class Graphs\n{\n\n    static Node newNode(Graph g, double xpos, double ypos, String name) throws InvalidGraphException,InvalidLabelException\n    {\n        if(g==null || !(g instanceof GraphImp)){   //Checking validity of inputs\n            throw new InvalidGraphException();\n        }\n        if(name==null){\n            throw new InvalidLabelException();\n        }\n\n        NodeImp[] existNodes = ((GraphImp)g).getNodes(); //Get all Nodes already present in the Graph\n        for(int i=0;i&lt;existNodes.length;i++){\n            if(existNodes[i].getXPos() == xpos &amp;&amp; existNodes[i].getYPos() == ypos){ //If node already present at this position, throw InvalidLabelException()\n                throw new InvalidLabelException();\n            }\n        }\n\n        Node n = new NodeImp((GraphImp)g, xpos, ypos, name); //If all inputs are valid, create new node\n\n        return n;\n    }\n\n}\n\nclass NodeImp extends Node //Node Class\n{\n\n    private Object flags = null;\n    private GraphImp g = null;\n    private double xpos = 0.0;\n    private double ypos = 0.0;\n    private String name = \"\";\n\n    NodeImp(GraphImp g, double xpos, double ypos, String name){\n        this.g = g;\n        this.xpos = xpos;\n        this.ypos = ypos;\n        this.name = name;\n        g.addNode(this); // Add Node to the Graph\n    }\n}\n\nclass GraphImp extends Graph\n{\n    private LinkedList&lt;NodeImp&gt; nodes = new LinkedList&lt;NodeImp&gt;(); //LinkedList of all Nodes in the Graph\n\n    GraphImp(){\n\n    }\n\n    NodeImp[] getNodes(){ //Returns an array of all Nodes\n        NodeImp[] nArr = new NodeImp[nodes.size()];\n        return nodes.toArray(nArr);\n    }\n\n    int countNodes(){ //Returns number of Nodes\n        return nodes.size();\n    }\n\n    void addNode(NodeImp n){ //Add a Node to the LinkedList in order\n        boolean added = false;\n        for(int i = 0;i&lt;nodes.size();i++){\n            if(n.compareTo(nodes.get(i))&lt;=0 ){\n                nodes.add(i,n);         //fails here\n            }\n        }\n        if(!added){\n            nodes.add(n);\n        }\n        return;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","heap-memory"],"comments":[{"owner":{"account_id":251932,"reputation":37692,"user_id":529630,"accept_rate":86,"display_name":"Dunes"},"score":2,"creation_date":1337353357,"post_id":10654980,"comment_id":13817935,"body_markdown":"@JeremyHeiler That would probably make things worse, the error says its run out of heap space, not stack space.","body":"@JeremyHeiler That would probably make things worse, the error says its run out of heap space, not stack space."},{"owner":{"account_id":102096,"reputation":23160,"user_id":274261,"accept_rate":100,"display_name":"ArjunShankar"},"score":2,"creation_date":1337353363,"post_id":10654980,"comment_id":13817937,"body_markdown":"How exactly are you recursing? The directory structure is a &#39;tree&#39;, so a search is usually a depth-first or breadth-first traversal of the tree.","body":"How exactly are you recursing? The directory structure is a &#39;tree&#39;, so a search is usually a depth-first or breadth-first traversal of the tree."},{"owner":{"account_id":102096,"reputation":23160,"user_id":274261,"accept_rate":100,"display_name":"ArjunShankar"},"score":0,"creation_date":1337353532,"post_id":10654980,"comment_id":13817998,"body_markdown":"If you do it right, a depth-first traversal of a tree 100 levels deep will still only have 100 nodes worth of memory occupied at any point of  time.","body":"If you do it right, a depth-first traversal of a tree 100 levels deep will still only have 100 nodes worth of memory occupied at any point of  time."},{"owner":{"account_id":75323,"reputation":15516,"user_id":216111,"accept_rate":100,"display_name":"josefx"},"score":0,"creation_date":1337353532,"post_id":10654980,"comment_id":13817999,"body_markdown":"Recursion alone does not need any heap space, what objects do you create that need so much memory?","body":"Recursion alone does not need any heap space, what objects do you create that need so much memory?"},{"owner":{"account_id":1405027,"reputation":301,"user_id":1332970,"accept_rate":56,"display_name":"Vasant"},"score":0,"creation_date":1337353918,"post_id":10654980,"comment_id":13818168,"body_markdown":"I&#39;m doing depth search. going till the leaf node directory.","body":"I&#39;m doing depth search. going till the leaf node directory."},{"owner":{"account_id":251932,"reputation":37692,"user_id":529630,"accept_rate":86,"display_name":"Dunes"},"score":0,"creation_date":1337354000,"post_id":10654980,"comment_id":13818197,"body_markdown":"@JeremyHeiler we know enough to know that the problem is not a stack overflow, but an out of heap space error. Meaning that recursion is not the problem, but rather if breadth search or depth search is being used, or if excessive amounts of data are being stored for each node expansion.","body":"@JeremyHeiler we know enough to know that the problem is not a stack overflow, but an out of heap space error. Meaning that recursion is not the problem, but rather if breadth search or depth search is being used, or if excessive amounts of data are being stored for each node expansion."},{"owner":{"account_id":148440,"reputation":54364,"user_id":360211,"accept_rate":76,"display_name":"weston"},"score":0,"creation_date":1337354104,"post_id":10654980,"comment_id":13818239,"body_markdown":"Post some code. What do you do at each node?","body":"Post some code. What do you do at each node?"},{"owner":{"account_id":102096,"reputation":23160,"user_id":274261,"accept_rate":100,"display_name":"ArjunShankar"},"score":0,"creation_date":1337354290,"post_id":10654980,"comment_id":13818333,"body_markdown":"@Vasant - Look at this tree: http://upload.wikimedia.org/wikipedia/commons/1/1f/Depth-first-tree.svg - When you are at node 12, what other nodes are *still* being referenced somewhere? If you did it correctly, only nodes 1, 8, and 12 should be referenced. Others should be &#39;forgotten&#39; so that the GC gets rid of them.","body":"@Vasant - Look at this tree: <a href=\"http://upload.wikimedia.org/wikipedia/commons/1/1f/Depth-first-tree.svg\" rel=\"nofollow noreferrer\">upload.wikimedia.org/wikipedia/commons/1/1f/&hellip;</a> - When you are at node 12, what other nodes are <i>still</i> being referenced somewhere? If you did it correctly, only nodes 1, 8, and 12 should be referenced. Others should be &#39;forgotten&#39; so that the GC gets rid of them."},{"owner":{"account_id":102096,"reputation":23160,"user_id":274261,"accept_rate":100,"display_name":"ArjunShankar"},"score":0,"creation_date":1337355561,"post_id":10654980,"comment_id":13818937,"body_markdown":"@Vasant - based on the code you pasted in the EDIT, I don&#39;t think switching to an &#39;iterative&#39; version will change anything for you.","body":"@Vasant - based on the code you pasted in the EDIT, I don&#39;t think switching to an &#39;iterative&#39; version will change anything for you."}],"answers":[{"tags":[],"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"down_vote_count":2,"up_vote_count":1,"is_accepted":true,"score":-1,"last_activity_date":1337354080,"creation_date":1337353300,"answer_id":10655039,"question_id":10654980,"body_markdown":"There are limitations as to what recursion can do, namely with respect to stack/heap usage.  Remember that whatever you can do recursively, you can do iteratively; rewrite your code to use an iterative solution instead.\r\n\r\nAlternate solution:  There is an interface in `java.nio` that can be used to recursively walk down a filesystem&#39;s structure.  Take a look at [this trail](http://docs.oracle.com/javase/tutorial/essential/io/walk.html), and [`SimpleFileVisitor`](http://docs.oracle.com/javase/7/docs/api/java/nio/file/SimpleFileVisitor.html).","title":"How to manage Heap Space in Java","body":"<p>There are limitations as to what recursion can do, namely with respect to stack/heap usage.  Remember that whatever you can do recursively, you can do iteratively; rewrite your code to use an iterative solution instead.</p>\n\n<p>Alternate solution:  There is an interface in <code>java.nio</code> that can be used to recursively walk down a filesystem's structure.  Take a look at <a href=\"http://docs.oracle.com/javase/tutorial/essential/io/walk.html\" rel=\"nofollow\">this trail</a>, and <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/SimpleFileVisitor.html\" rel=\"nofollow\"><code>SimpleFileVisitor</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1337353405,"creation_date":1337353405,"answer_id":10655067,"question_id":10654980,"body_markdown":"There are two possibilities:\r\n\r\n1. There is infinite recursion in your code (for example, because you&#39;re not processing `.` and/or `..` correctly). If that&#39;s the case, you have to fix the code.\r\n1. Your code genuinely requires more heap space than what&#39;s available. You have two options:\r\n  * reduce you process&#39;s memory requirements (a memory profiler could help you understand what&#39;s using all that heap space);\r\n  * increase the heap size by specifying the `-Xmx` JVM option.","title":"How to manage Heap Space in Java","body":"<p>There are two possibilities:</p>\n\n<ol>\n<li>There is infinite recursion in your code (for example, because you're not processing <code>.</code> and/or <code>..</code> correctly). If that's the case, you have to fix the code.</li>\n<li>Your code genuinely requires more heap space than what's available. You have two options:\n<ul>\n<li>reduce you process's memory requirements (a memory profiler could help you understand what's using all that heap space);</li>\n<li>increase the heap size by specifying the <code>-Xmx</code> JVM option.</li>\n</ul></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":102096,"reputation":23160,"user_id":274261,"accept_rate":100,"display_name":"ArjunShankar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1337355813,"creation_date":1337355464,"answer_id":10655636,"question_id":10654980,"body_markdown":"The culprit, as I see it is this line:\r\n\r\n    fsTree.add(files[id].toString()); // taking list of files\r\n\r\nIt appears that you add *every single file* to a global data structure (`fsTree`), and then search there.\r\n\r\nMy bet is:\r\n\r\nA. It *won&#39;t* go away if you &#39;convert&#39; your recursive function into an iterative one.\r\n\r\nB. It *will* go away if, instead of appending to a global data structure and searching in the end, you do the search/matching locally, and only globally cache the matching hits:\r\n\r\n    void iterateDirectory (String somedir, String search_term) {\r\n\r\n        File dir = new File(somedir);\r\n        File[] files = dir.listFiles();\r\n        if (files != null) {\r\n            for (int id = 0; id &lt; files.length; id++) {\r\n                if (files[id].isDirectory() == false) \r\n                {\r\n                   if (/* files[id].isDirectory() MATCHES search_term */)\r\n                     // add to list of matching files:\r\n                     matching_hits.add(files[id].toString());\r\n                } \r\n                else \r\n                {\r\n                    iterateFilesInDirectory(files[id].getAbsolutePath());\r\n                }\r\n            }\r\n        }\r\n    }","title":"How to manage Heap Space in Java","body":"<p>The culprit, as I see it is this line:</p>\n\n<pre><code>fsTree.add(files[id].toString()); // taking list of files\n</code></pre>\n\n<p>It appears that you add <em>every single file</em> to a global data structure (<code>fsTree</code>), and then search there.</p>\n\n<p>My bet is:</p>\n\n<p>A. It <em>won't</em> go away if you 'convert' your recursive function into an iterative one.</p>\n\n<p>B. It <em>will</em> go away if, instead of appending to a global data structure and searching in the end, you do the search/matching locally, and only globally cache the matching hits:</p>\n\n<pre><code>void iterateDirectory (String somedir, String search_term) {\n\n    File dir = new File(somedir);\n    File[] files = dir.listFiles();\n    if (files != null) {\n        for (int id = 0; id &lt; files.length; id++) {\n            if (files[id].isDirectory() == false) \n            {\n               if (/* files[id].isDirectory() MATCHES search_term */)\n                 // add to list of matching files:\n                 matching_hits.add(files[id].toString());\n            } \n            else \n            {\n                iterateFilesInDirectory(files[id].getAbsolutePath());\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1405027,"reputation":301,"user_id":1332970,"accept_rate":56,"display_name":"Vasant"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":678,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":10655039,"answer_count":3,"score":0,"last_activity_date":1639251738,"creation_date":1337353070,"question_id":10654980,"body_markdown":"I&#39;m trying to recursively traverse through my Drive to search some files.\r\nThe code is working fine when there are limited folders/files but when I target my search to C drive where in I have lots of files it throws Out of Heap memory.\r\n\r\n **Exception in thread &quot;Thread-4&quot; java.lang.OutOfMemoryError: Java heap space**\r\n\r\n 1. Please suggest me some good memory management tricks especially when we do recursive calls.\r\n 2. Or give me better approach to traverse through directories without recursion.\r\n\r\nand I don&#39;t want to increase the maximum allowable heap space as it is just like postponing the issue for time being.\r\n\r\nCode:\r\n\r\n    void iterateDirectory(String somedir) {\r\n           \r\n                  \r\n            File dir = new File(somedir);\r\n            File[] files = dir.listFiles();\r\n            if (files != null) {\r\n                for (int id = 0; id &lt; files.length; id++) {\r\n                    if (files[id].isDirectory() == false) \r\n                    {\r\n                       fsTree.add(files[id].toString()); // taking list of files\r\n                    } \r\n    \t            else \r\n    \t            {\r\n                        iterateFilesInDirectory(files[id].getAbsolutePath());\r\n                    }\r\n                }\r\n            }\r\n        }","title":"How to manage Heap Space in Java","body":"<p>I'm trying to recursively traverse through my Drive to search some files.\nThe code is working fine when there are limited folders/files but when I target my search to C drive where in I have lots of files it throws Out of Heap memory.</p>\n\n<p><strong>Exception in thread \"Thread-4\" java.lang.OutOfMemoryError: Java heap space</strong></p>\n\n<ol>\n<li>Please suggest me some good memory management tricks especially when we do recursive calls.</li>\n<li>Or give me better approach to traverse through directories without recursion.</li>\n</ol>\n\n<p>and I don't want to increase the maximum allowable heap space as it is just like postponing the issue for time being.</p>\n\n<p>Code:</p>\n\n<pre><code>void iterateDirectory(String somedir) {\n\n\n        File dir = new File(somedir);\n        File[] files = dir.listFiles();\n        if (files != null) {\n            for (int id = 0; id &lt; files.length; id++) {\n                if (files[id].isDirectory() == false) \n                {\n                   fsTree.add(files[id].toString()); // taking list of files\n                } \n                else \n                {\n                    iterateFilesInDirectory(files[id].getAbsolutePath());\n                }\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","applet","heap-memory","next-generation-plugin"],"answers":[{"tags":[],"owner":{"account_id":90221,"reputation":80129,"user_id":248432,"accept_rate":85,"display_name":"Peter Knego"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1297929595,"creation_date":1297929595,"answer_id":5026398,"question_id":5026376,"body_markdown":"AFAIK, only user can change JRE heap settings. Applet can not change this settings.\r\n\r\n**Update:**\r\n\r\nIt seems that in the latest versions of JDK this is possible. Look at: https://stackoverflow.com/questions/102003/how-can-i-start-an-java-applet-with-more-memory\r\n\r\n**Update2:**\r\n\r\nMemory settings can only be set for JNLP apps, not for Applets.","title":"Applet: Java heap space","body":"<p>AFAIK, only user can change JRE heap settings. Applet can not change this settings.</p>\n\n<p><strong>Update:</strong></p>\n\n<p>It seems that in the latest versions of JDK this is possible. Look at: <a href=\"https://stackoverflow.com/questions/102003/how-can-i-start-an-java-applet-with-more-memory\">How can I start an Java applet with more memory?</a></p>\n\n<p><strong>Update2:</strong></p>\n\n<p>Memory settings can only be set for JNLP apps, not for Applets.</p>\n"},{"tags":[],"owner":{"account_id":130645,"reputation":81695,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1297929669,"creation_date":1297929669,"answer_id":5026408,"question_id":5026376,"body_markdown":"If it&#39;s not specified on the command line, you have to get it from the JVM settings. So when you deploy your applet to the web, it will be dependent on what memory settings they have on their computer when they run it. Typically it&#39;s set to 60-90Mb by default, so try to keep it under that.\r\n\r\nConsider the ramifications if the applet could change those settings... what else it might be able to change. That&#39;s just asking for a security exploit eventually, and Java aims for security before functionality :)","title":"Applet: Java heap space","body":"<p>If it's not specified on the command line, you have to get it from the JVM settings. So when you deploy your applet to the web, it will be dependent on what memory settings they have on their computer when they run it. Typically it's set to 60-90Mb by default, so try to keep it under that.</p>\n\n<p>Consider the ramifications if the applet could change those settings... what else it might be able to change. That's just asking for a security exploit eventually, and Java aims for security before functionality :)</p>\n"},{"tags":[],"owner":{"account_id":287953,"reputation":3186,"user_id":588077,"accept_rate":86,"display_name":"Eduard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1297929733,"creation_date":1297929733,"answer_id":5026416,"question_id":5026376,"body_markdown":"the JVM may have started long before you Applet. It is too late now to\r\nchange heap size. Try Java Web Start where you can control that, spawning\r\na new JVM for your Applet/application.","title":"Applet: Java heap space","body":"<p>the JVM may have started long before you Applet. It is too late now to\nchange heap size. Try Java Web Start where you can control that, spawning\na new JVM for your Applet/application.</p>\n"},{"tags":[],"owner":{"account_id":181847,"reputation":2865,"user_id":416135,"display_name":"Dubas"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1297932968,"creation_date":1297930025,"answer_id":5026449,"question_id":5026376,"body_markdown":"You can add parameters to the applet tag. But the parameter you are interested on is available only on Java6 u10 or later.\r\n\r\nExample:\r\n\r\n\r\n    &lt;APPLET archive=&quot;my_applet.jar&quot; code=&quot;MyApplet&quot; width=&quot;300&quot; height=&quot;300&quot;&gt;\r\n        &lt;PARAM name=&quot;java_arguments&quot; value=&quot;-Xmx256m&quot;&gt;\r\n    &lt;/APPLET&gt;\r\n\r\n\r\n\r\n\r\nHere more information http://www.oracle.com/technetwork/java/javase/plugin2-142482.html#JAVA_ARGUMENTS","title":"Applet: Java heap space","body":"<p>You can add parameters to the applet tag. But the parameter you are interested on is available only on Java6 u10 or later.</p>\n\n<p>Example:</p>\n\n<pre><code>&lt;APPLET archive=\"my_applet.jar\" code=\"MyApplet\" width=\"300\" height=\"300\"&gt;\n    &lt;PARAM name=\"java_arguments\" value=\"-Xmx256m\"&gt;\n&lt;/APPLET&gt;\n</code></pre>\n\n<p>Here more information <a href=\"http://www.oracle.com/technetwork/java/javase/plugin2-142482.html#JAVA_ARGUMENTS\" rel=\"noreferrer\">http://www.oracle.com/technetwork/java/javase/plugin2-142482.html#JAVA_ARGUMENTS</a></p>\n"}],"owner":{"account_id":196734,"reputation":19254,"user_id":440336,"accept_rate":90,"display_name":"Jason Rogers"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5298,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":5026449,"answer_count":4,"score":7,"last_activity_date":1639251675,"creation_date":1297929430,"question_id":5026376,"body_markdown":"Due to a small implementation mistake I discovered how quickly I could reach a Java heap space issue\r\n\r\nnow the bug is fixed everything is fine but it did get me looking into how to solve this and I foudn multiple solution such as\r\n\r\n&gt; java -Xms5m -Xmx15m MyApp\r\n\r\nthe problem is that this changes the java memory on my computer, but I&#39;m working on a Applet that is going to be used in a webrowser.\r\n\r\nTherefore, is there a way, at RUNTIME in an APPLET to change the heap size ?\r\n\r\n","title":"Applet: Java heap space","body":"<p>Due to a small implementation mistake I discovered how quickly I could reach a Java heap space issue</p>\n\n<p>now the bug is fixed everything is fine but it did get me looking into how to solve this and I foudn multiple solution such as</p>\n\n<blockquote>\n  <p>java -Xms5m -Xmx15m MyApp</p>\n</blockquote>\n\n<p>the problem is that this changes the java memory on my computer, but I'm working on a Applet that is going to be used in a webrowser.</p>\n\n<p>Therefore, is there a way, at RUNTIME in an APPLET to change the heap size ?</p>\n"},{"tags":["java","heap-memory","visualvm","oql"],"owner":{"account_id":19582,"reputation":8170,"user_id":45974,"accept_rate":86,"display_name":"Tom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1433,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1639251663,"creation_date":1298229891,"question_id":5059409,"body_markdown":"I am trying to find the first path found from an object to some indirect referree.\r\n\r\nThe following code is what I came up with:\r\n\r\n    var debug = [];\r\n    \r\n    //set referrer and target\r\n    var referrerObj = heap.findObject(&quot;815262352&quot;);\r\n    var targetObj = heap.findObject(&quot;815441600&quot;);\r\n    \r\n    //prepare refer obj\r\n    var pathToTarget = getShortestReferPath([referrerObj], targetObj, 6);\r\n    [allocTrace(pathToTarget), debug];\r\n    \r\n    //sets the shortest reference path from referrer to target\r\n    function getShortestReferPath(referPath, targetObj, maxDepth, depth) {\r\n    \tdepth = (typeof(depth) != &quot;undefined&quot;) ? depth : 1;\r\n    \r\n    \t//get the last referrer for further processing\r\n    \tvar lastReferrer = referPath[referPath.length-1];\r\n    \r\n    \t//check every referee of the referrer\r\n    \tvar dirReferees = referees(lastReferrer);\r\n    \twhile (dirReferees.hasMoreElements()) {\r\n    \t\tvar dirReferee = dirReferees.nextElement();\r\n    \t\t\r\n    \t\t//if this referee is our target, set the path and return\r\n    \t\tif (identical(dirReferee, targetObj)) {\r\n    \t\t\treferPath.push(dirReferee);\r\n    \t\t\treturn referPath;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t//none of these is our target, so check the next depth if it is not too high\r\n    \tif (depth &lt; maxDepth) {\r\n    \t\tvar dirRefereesTwo = referees(lastReferrer);\r\n    \t\twhile (dirRefereesTwo.hasMoreElements()) {\r\n    \t\t\tvar dirRefereeTwo = dirRefereesTwo.nextElement();\r\n    \r\n    \t\t\t//set this referee as our last item\r\n    \t\t\tvar newReferPath = referPath.slice();\r\n    \t\t\tnewReferPath.push(dirRefereeTwo);\r\n    \t\t\tvar referPathTest = getShortestReferPath(newReferPath, targetObj, maxDepth, depth + 1);\r\n    \t\t\tif (referPathTest != null) return referPathTest;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t//return the current path\r\n    \treturn null;\r\n    }\r\n\r\nI run this bit of Javascript inside VisualVM&#39;s OQL query window.\r\n\r\nIt is supposed to go through all referees of the referrerObj one by one up to a maximum depth, at which it should look to the next referee level if the target has not been found yet.\r\n\r\nFor some reason however, the code seems to stop execution after following the possible paths of the first direct referee of the initial referrer passed.\r\n\r\nIt looks like the second while loop is never completing. I am not getting any error code, but simply that nothing is returned.\r\n\r\nDoes anyone have any clue why this could happen? If someone else could run this in VisualVM and report his/her findings, that&#39;d be great.\r\n\r\nThanks.","title":"Java heap analysis with OQL/VisualVM: find path from indirect referrer to referee?","body":"<p>I am trying to find the first path found from an object to some indirect referree.</p>\n\n<p>The following code is what I came up with:</p>\n\n<pre><code>var debug = [];\n\n//set referrer and target\nvar referrerObj = heap.findObject(\"815262352\");\nvar targetObj = heap.findObject(\"815441600\");\n\n//prepare refer obj\nvar pathToTarget = getShortestReferPath([referrerObj], targetObj, 6);\n[allocTrace(pathToTarget), debug];\n\n//sets the shortest reference path from referrer to target\nfunction getShortestReferPath(referPath, targetObj, maxDepth, depth) {\n    depth = (typeof(depth) != \"undefined\") ? depth : 1;\n\n    //get the last referrer for further processing\n    var lastReferrer = referPath[referPath.length-1];\n\n    //check every referee of the referrer\n    var dirReferees = referees(lastReferrer);\n    while (dirReferees.hasMoreElements()) {\n        var dirReferee = dirReferees.nextElement();\n\n        //if this referee is our target, set the path and return\n        if (identical(dirReferee, targetObj)) {\n            referPath.push(dirReferee);\n            return referPath;\n        }\n    }\n\n    //none of these is our target, so check the next depth if it is not too high\n    if (depth &lt; maxDepth) {\n        var dirRefereesTwo = referees(lastReferrer);\n        while (dirRefereesTwo.hasMoreElements()) {\n            var dirRefereeTwo = dirRefereesTwo.nextElement();\n\n            //set this referee as our last item\n            var newReferPath = referPath.slice();\n            newReferPath.push(dirRefereeTwo);\n            var referPathTest = getShortestReferPath(newReferPath, targetObj, maxDepth, depth + 1);\n            if (referPathTest != null) return referPathTest;\n        }\n    }\n\n    //return the current path\n    return null;\n}\n</code></pre>\n\n<p>I run this bit of Javascript inside VisualVM's OQL query window.</p>\n\n<p>It is supposed to go through all referees of the referrerObj one by one up to a maximum depth, at which it should look to the next referee level if the target has not been found yet.</p>\n\n<p>For some reason however, the code seems to stop execution after following the possible paths of the first direct referee of the initial referrer passed.</p>\n\n<p>It looks like the second while loop is never completing. I am not getting any error code, but simply that nothing is returned.</p>\n\n<p>Does anyone have any clue why this could happen? If someone else could run this in VisualVM and report his/her findings, that'd be great.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","javafx","heap-memory"],"comments":[{"owner":{"account_id":130645,"reputation":81695,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":0,"creation_date":1298612282,"post_id":5113971,"comment_id":5734352,"body_markdown":"Do you have recursive calls in it? Let&#39;s see some of the code.","body":"Do you have recursive calls in it? Let&#39;s see some of the code."},{"owner":{"account_id":172044,"reputation":76013,"user_id":399815,"accept_rate":97,"display_name":"Rafe Kettler"},"score":0,"creation_date":1298612379,"post_id":5113971,"comment_id":5734364,"body_markdown":"Are you freeing the memory used up by the images afterwards? Can Java even do that?","body":"Are you freeing the memory used up by the images afterwards? Can Java even do that?"},{"owner":{"account_id":52942,"reputation":5873,"user_id":158288,"accept_rate":92,"display_name":"Koekiebox"},"score":0,"creation_date":1298612402,"post_id":5113971,"comment_id":5734369,"body_markdown":"What technologies are you using? Frameworks?","body":"What technologies are you using? Frameworks?"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":2,"creation_date":1298616817,"post_id":5113971,"comment_id":5734866,"body_markdown":"do not swallow exceptions!  When they happen, you _NEED_ that information.","body":"do not swallow exceptions!  When they happen, you <i>NEED</i> that information."},{"owner":{"account_id":12478,"reputation":23673,"user_id":24582,"display_name":"extraneon"},"score":0,"creation_date":1302861623,"post_id":5113971,"comment_id":6478107,"body_markdown":"@Rafe Kettler: When the object is not referenced anymore the memory gets freed (or more likely re-used).","body":"@Rafe Kettler: When the object is not referenced anymore the memory gets freed (or more likely re-used)."}],"answers":[{"tags":[],"owner":{"account_id":299330,"reputation":1221,"user_id":605869,"display_name":"Tom"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1298612963,"creation_date":1298612963,"answer_id":5114073,"question_id":5113971,"body_markdown":"As long as you have a reference to these images(in a variable or inside List or something) the Java&#39;s automatic Garbage Collector wont clean it up. You should only load them when you need them, then set the variables to null as soon as you&#39;re finished with each image.\r\n\r\nImages are pretty big, and Java probably unpacks them to bitmaps(like bmp files, huge) so this is not a surprise.\r\n\r\nGarbage collection doesn&#39;t run constantly (it cleans up every so often), so if you want to ask it to run now (you can&#39;t force it) you can call System.gc();. Garbage collection is slow though, so it may slow your processing. \r\n\r\nIf needed you can increase your maximum memory, but its better practice to do the above.\r\n\r\nWith more information i can supply a more detailed answer.","title":"Java heap space (java.lang.OutOfMemoryError)","body":"<p>As long as you have a reference to these images(in a variable or inside List or something) the Java's automatic Garbage Collector wont clean it up. You should only load them when you need them, then set the variables to null as soon as you're finished with each image.</p>\n\n<p>Images are pretty big, and Java probably unpacks them to bitmaps(like bmp files, huge) so this is not a surprise.</p>\n\n<p>Garbage collection doesn't run constantly (it cleans up every so often), so if you want to ask it to run now (you can't force it) you can call System.gc();. Garbage collection is slow though, so it may slow your processing. </p>\n\n<p>If needed you can increase your maximum memory, but its better practice to do the above.</p>\n\n<p>With more information i can supply a more detailed answer.</p>\n"},{"tags":[],"owner":{"account_id":202342,"reputation":13496,"user_id":449355,"accept_rate":91,"display_name":"Umesh K"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1488739219,"creation_date":1298613841,"answer_id":5114167,"question_id":5113971,"body_markdown":"You can try to use memory profilers to see which portion of code/class/method is consuming more memory. You can start with free [JVisualVM][1] or [JConsole][2] which comes with JDK. \r\n\r\nOther well known profilers are:\r\n\r\n-&gt; [Optimize IT][3]\r\n\r\n-&gt; [JProfiler][4]\r\n\r\n\r\n  [1]: https://visualvm.github.io/\r\n  [2]: http://docs.oracle.com/javase/7/docs/technotes/guides/management/jconsole.html\r\n  [3]: http://www.javaperformancetuning.com/tools/optimizeit/index.shtml\r\n  [4]: http://www.ej-technologies.com/products/jprofiler/overview.html?gclid=CL670fTQoqcCFUww3godvjuSBQ","title":"Java heap space (java.lang.OutOfMemoryError)","body":"<p>You can try to use memory profilers to see which portion of code/class/method is consuming more memory. You can start with free <a href=\"https://visualvm.github.io/\" rel=\"nofollow noreferrer\">JVisualVM</a> or <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/management/jconsole.html\" rel=\"nofollow noreferrer\">JConsole</a> which comes with JDK. </p>\n\n<p>Other well known profilers are:</p>\n\n<p>-> <a href=\"http://www.javaperformancetuning.com/tools/optimizeit/index.shtml\" rel=\"nofollow noreferrer\">Optimize IT</a></p>\n\n<p>-> <a href=\"http://www.ej-technologies.com/products/jprofiler/overview.html?gclid=CL670fTQoqcCFUww3godvjuSBQ\" rel=\"nofollow noreferrer\">JProfiler</a></p>\n"}],"owner":{"account_id":296279,"reputation":878,"user_id":601148,"accept_rate":33,"display_name":"laradev"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1878,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":5114167,"answer_count":2,"score":2,"last_activity_date":1639251644,"creation_date":1298611996,"question_id":5113971,"body_markdown":"In my project, I have a module to upload multiple image and create the thumbnails for it at once. For uploading, I am using JavaFX and for creating thumbnails, I am using Java.\r\n\r\nI wrote upload code and call of thumbnail creation function inside a for loop. If the number of uploading images is more than five, I am getting this error: \r\n&lt;pre&gt;Java heap space (java.lang.OutOfMemoryError)\r\n&lt;/pre&gt;\r\n\r\nI think, the code for uploading is fine, and the problem with thumbnail creation code. How can I solve this problem? How should I change the structure of my code ? \r\n\r\nThis is my JavaFX code:\r\n\r\n    fgUrl = fc.getSelectedFiles();\r\n    for(fg in fgUrl) {\r\n        try {\r\n            System.gc();\r\n            fileURL = &quot;file:///{fg.toString()}&quot;;\r\n            fileURL = fileURL.replace(&quot;\\\\&quot;, &quot;/&quot;);\r\n            def dt = DateTime{}.instant;\r\n            var datetime = new SimpleDateFormat(&quot;yyyy-MM-dd hh:mm:ss:SSS&quot;).format(dt);\r\n            pic_url = datetime.replace(&quot;-&quot;, &quot;_&quot;).replace(&quot;:&quot;, &quot;_&quot;).replace(&quot; &quot;, &quot;_&quot;);\r\n            datetime = new SimpleDateFormat(&quot;yyyy-MM-dd hh:mm:ss&quot;).format(dt);\r\n            f = new File(&quot;C:\\\\uploaded\\\\{pic_url}.jpg&quot;);\r\n            uploadFile(fileURL, f,save_index,datetime,pic_url); // This function will save selected image in the working directory of the system.\r\n            var resize_ob = new resizeImage(url.replace(&quot;file:///&quot;, &quot;&quot;),&quot;C:/thumbnails/{pic_url2}.jpg&quot;);// This will call the java thumbnail creation function.\r\n            save_index++;\r\n        }\r\n        catch(e:Exception) { }\r\n    }","title":"Java heap space (java.lang.OutOfMemoryError)","body":"<p>In my project, I have a module to upload multiple image and create the thumbnails for it at once. For uploading, I am using JavaFX and for creating thumbnails, I am using Java.</p>\n\n<p>I wrote upload code and call of thumbnail creation function inside a for loop. If the number of uploading images is more than five, I am getting this error: </p>\n\n<pre>Java heap space (java.lang.OutOfMemoryError)\n</pre>\n\n<p>I think, the code for uploading is fine, and the problem with thumbnail creation code. How can I solve this problem? How should I change the structure of my code ? </p>\n\n<p>This is my JavaFX code:</p>\n\n<pre><code>fgUrl = fc.getSelectedFiles();\nfor(fg in fgUrl) {\n    try {\n        System.gc();\n        fileURL = \"file:///{fg.toString()}\";\n        fileURL = fileURL.replace(\"\\\\\", \"/\");\n        def dt = DateTime{}.instant;\n        var datetime = new SimpleDateFormat(\"yyyy-MM-dd hh:mm:ss:SSS\").format(dt);\n        pic_url = datetime.replace(\"-\", \"_\").replace(\":\", \"_\").replace(\" \", \"_\");\n        datetime = new SimpleDateFormat(\"yyyy-MM-dd hh:mm:ss\").format(dt);\n        f = new File(\"C:\\\\uploaded\\\\{pic_url}.jpg\");\n        uploadFile(fileURL, f,save_index,datetime,pic_url); // This function will save selected image in the working directory of the system.\n        var resize_ob = new resizeImage(url.replace(\"file:///\", \"\"),\"C:/thumbnails/{pic_url2}.jpg\");// This will call the java thumbnail creation function.\n        save_index++;\n    }\n    catch(e:Exception) { }\n}\n</code></pre>\n"},{"tags":["java","object","heap-memory","primitive"],"comments":[{"owner":{"account_id":44195,"reputation":269043,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":3,"creation_date":1375660017,"post_id":18048745,"comment_id":26406647,"body_markdown":"Primitives are not objects, even at the JVM level.","body":"Primitives are not objects, even at the JVM level."}],"answers":[{"tags":[],"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1375659957,"creation_date":1375659957,"answer_id":18048771,"question_id":18048745,"body_markdown":"Java primitives are not &quot;light objects&quot;. They are primitives. They fail as objects in two very significant ways: they cannot go into `Collection` objects and they do not have methods.\r\n\r\nThey also do not go on the heap, except as fields of an actual Java object. You cannot do `new int`. Note also that when you declare a local variable that is of a primitive type, the variable comes into existence. When you declare a local variable of an object type, all you get is a reference to an object, but it is set to `null` and no object of the declared type is allocated by simply declaring the variable.\r\n\r\nNote that [autoboxing][1] blurs the distinction somewhat, but the distinction is definitely there.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/data/autoboxing.html","title":"Can Java primitives be considered light objects","body":"<p>Java primitives are not \"light objects\". They are primitives. They fail as objects in two very significant ways: they cannot go into <code>Collection</code> objects and they do not have methods.</p>\n\n<p>They also do not go on the heap, except as fields of an actual Java object. You cannot do <code>new int</code>. Note also that when you declare a local variable that is of a primitive type, the variable comes into existence. When you declare a local variable of an object type, all you get is a reference to an object, but it is set to <code>null</code> and no object of the declared type is allocated by simply declaring the variable.</p>\n\n<p>Note that <a href=\"http://docs.oracle.com/javase/tutorial/java/data/autoboxing.html\">autoboxing</a> blurs the distinction somewhat, but the distinction is definitely there.</p>\n"},{"tags":[],"owner":{"account_id":2485637,"reputation":17240,"user_id":2164109,"display_name":"morgano"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1375659972,"creation_date":1375659972,"answer_id":18048774,"question_id":18048745,"body_markdown":"There is a bit of confusion here. The question you&#39;re linking to in your question says that primitives __inside__ an object can be in the heap. Primitives can&#39;t be in the heap by themselves.\r\n\r\nYou can&#39;t have an `int` referenced like an object, they are accessed directly without being &quot;dereferenced&quot;.","title":"Can Java primitives be considered light objects","body":"<p>There is a bit of confusion here. The question you're linking to in your question says that primitives <strong>inside</strong> an object can be in the heap. Primitives can't be in the heap by themselves.</p>\n\n<p>You can't have an <code>int</code> referenced like an object, they are accessed directly without being \"dereferenced\".</p>\n"},{"tags":[],"owner":{"account_id":1283501,"reputation":51335,"user_id":1237040,"display_name":"Ravi K Thapliyal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1375660114,"creation_date":1375660114,"answer_id":18048791,"question_id":18048745,"body_markdown":"You&#39;re extrapolating the fact that primitives could go in heap (as part of other objects) to conclude they could be light-weight objects. A set of primitives make up the state of an Object. They&#39;re not objects by themselves.\r\n\r\nPrimitives just have a value. They don&#39;t have a state and behaviour like Objects do. They don&#39;t exhibit inheritance, polymorphism etc. They don&#39;t behave like entities but like their attributes.","title":"Can Java primitives be considered light objects","body":"<p>You're extrapolating the fact that primitives could go in heap (as part of other objects) to conclude they could be light-weight objects. A set of primitives make up the state of an Object. They're not objects by themselves.</p>\n\n<p>Primitives just have a value. They don't have a state and behaviour like Objects do. They don't exhibit inheritance, polymorphism etc. They don't behave like entities but like their attributes.</p>\n"}],"owner":{"account_id":205758,"reputation":16759,"user_id":454671,"accept_rate":83,"display_name":"Victor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1375686008,"accepted_answer_id":18048771,"answer_count":3,"score":1,"last_activity_date":1639251626,"creation_date":1375659666,"question_id":18048745,"body_markdown":"As per this answer [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3646632/does-the-java-primitives-go-on-the-stack-or-the-heap\r\nboth java objects and primitives go on heap. So from the point of view of JVM, are objects and primitives similar except thaty objects take more space on the heap? In essence, are primitives nothing but &#39;light&#39; objects?","title":"Can Java primitives be considered light objects","body":"<p>As per this answer <a href=\"https://stackoverflow.com/questions/3646632/does-the-java-primitives-go-on-the-stack-or-the-heap\">here</a></p>\n\n<p>both java objects and primitives go on heap. So from the point of view of JVM, are objects and primitives similar except thaty objects take more space on the heap? In essence, are primitives nothing but 'light' objects?</p>\n"},{"tags":["java","heap-memory","hashcode","primitive-types","java-bytecode-asm"],"answers":[{"tags":[],"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1298662208,"creation_date":1298661894,"answer_id":5121689,"question_id":5121578,"body_markdown":"Primitives do not have identities.  They are compared by value, not by reference.\r\nThe address in memory of a primitive in a local variable is likely to be in a register or on the stack, and the location of a primitive member of an array or object is related to the heap address of its parent.\r\n\r\nJava does not provide any standardized memory access facilities, and alternatives, like `System.identityHashCode` do not extend to them.\r\n\r\nCalling `System.identityHashCode` with a primitive will cause a spurious boxing to occur which will give nonsensical results.\r\n\r\nIf you really need to know the location of a primitive member, you can write C code with JNI bindings to get a handle to a java object, get a pointer, and convert that to a java integral type of the right width, but your best bet is to probably find some other way to do what you&#39;re trying to do.\r\n\r\nOne other option is to use the existing java debugger hooks : http://download.oracle.com/javase/6/docs/technotes/guides/jpda/architecture.html#jdi","title":"is there hash code / Heap address for primitive types in Java?","body":"<p>Primitives do not have identities.  They are compared by value, not by reference.\nThe address in memory of a primitive in a local variable is likely to be in a register or on the stack, and the location of a primitive member of an array or object is related to the heap address of its parent.</p>\n\n<p>Java does not provide any standardized memory access facilities, and alternatives, like <code>System.identityHashCode</code> do not extend to them.</p>\n\n<p>Calling <code>System.identityHashCode</code> with a primitive will cause a spurious boxing to occur which will give nonsensical results.</p>\n\n<p>If you really need to know the location of a primitive member, you can write C code with JNI bindings to get a handle to a java object, get a pointer, and convert that to a java integral type of the right width, but your best bet is to probably find some other way to do what you're trying to do.</p>\n\n<p>One other option is to use the existing java debugger hooks : <a href=\"http://download.oracle.com/javase/6/docs/technotes/guides/jpda/architecture.html#jdi\" rel=\"nofollow\">http://download.oracle.com/javase/6/docs/technotes/guides/jpda/architecture.html#jdi</a></p>\n"},{"tags":[],"owner":{"account_id":20008,"reputation":3241,"user_id":47402,"display_name":"Rolf Rander"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1298662165,"creation_date":1298662165,"answer_id":5121739,"question_id":5121578,"body_markdown":"I&#39;m not sure I understand the question, you want to know if b.a is infact the same variable as c.a? \r\n \r\nIn your case, b.a will be the same as c.a if b==c.  If you declare a static, it will be shared between all instances of foo.","title":"is there hash code / Heap address for primitive types in Java?","body":"<p>I'm not sure I understand the question, you want to know if b.a is infact the same variable as c.a? </p>\n\n<p>In your case, b.a will be the same as c.a if b==c.  If you declare a static, it will be shared between all instances of foo.</p>\n"},{"tags":[],"owner":{"account_id":10258,"reputation":26460,"user_id":19276,"accept_rate":81,"display_name":"DJClayworth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1298663831,"creation_date":1298662598,"answer_id":5121796,"question_id":5121578,"body_markdown":"When you asked about memory addresses, and got the identityhashCode answer, the key phrase was &quot;some approximation&quot;. There is no guarantee that this value will be the memory address, and even the most aggressive assertion is that it is a **mapping** from the address to an integer. You absolutely cannot reliably determine the address of an object in Java, and shouldn&#39;t even think about trying with primitives. For one thing there is no guarantee that the compiler won&#39;t move them. There isn&#39;t even a guarantee that the variable ever has an address.\r\n\r\nIf you want to determine whether two objects are the same, you can use &quot;==&quot;. The question doesn&#39;t even make sense with primitives, and you shouldn&#39;t be doing it.","title":"is there hash code / Heap address for primitive types in Java?","body":"<p>When you asked about memory addresses, and got the identityhashCode answer, the key phrase was \"some approximation\". There is no guarantee that this value will be the memory address, and even the most aggressive assertion is that it is a <strong>mapping</strong> from the address to an integer. You absolutely cannot reliably determine the address of an object in Java, and shouldn't even think about trying with primitives. For one thing there is no guarantee that the compiler won't move them. There isn't even a guarantee that the variable ever has an address.</p>\n\n<p>If you want to determine whether two objects are the same, you can use \"==\". The question doesn't even make sense with primitives, and you shouldn't be doing it.</p>\n"},{"tags":[],"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1298664788,"creation_date":1298663191,"answer_id":5121883,"question_id":5121578,"body_markdown":"&gt;  What i&#39;ve got is java bytecode . I dont have b or c and I&#39;m not aware of them . I only have the value of a on the stack \r\n\r\nIf you have local variables on the stack, they have variable numbers. These numbers are local to the stack frame, in which the method is executing, and two variables are same if they have the same number.\r\n\r\nIf you have the two primitive values in your evaluation (argument/operand/result) stack, they are same (in a similar sense as for variables) if they exist at the same time at the same stack index.\r\n\r\n\r\n----------\r\n\r\nIn your example, you see that the two `GETFIELD manipulate/Test.c : I` instructions operate each on the current value on the stack (which is put there by `ALOAD 1` or `ALOAD 2`). This current value is the object to which your variable belongs, so you could insert there your counting code for this object (do a DUP first).","title":"is there hash code / Heap address for primitive types in Java?","body":"<blockquote>\n  <p>What i've got is java bytecode . I dont have b or c and I'm not aware of them . I only have the value of a on the stack </p>\n</blockquote>\n\n<p>If you have local variables on the stack, they have variable numbers. These numbers are local to the stack frame, in which the method is executing, and two variables are same if they have the same number.</p>\n\n<p>If you have the two primitive values in your evaluation (argument/operand/result) stack, they are same (in a similar sense as for variables) if they exist at the same time at the same stack index.</p>\n\n<hr>\n\n<p>In your example, you see that the two <code>GETFIELD manipulate/Test.c : I</code> instructions operate each on the current value on the stack (which is put there by <code>ALOAD 1</code> or <code>ALOAD 2</code>). This current value is the object to which your variable belongs, so you could insert there your counting code for this object (do a DUP first).</p>\n"}],"owner":{"account_id":252412,"reputation":1870,"user_id":530439,"accept_rate":72,"display_name":"RanZilber"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1937,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":5121883,"answer_count":4,"score":0,"last_activity_date":1639251608,"creation_date":1298661269,"question_id":5121578,"body_markdown":"I was trying to find some approximization to address on heap , and you guys gave me the function `System.IdentityHashCode(Object)`.\r\n\r\nThe problem is - this function doesn&#39;t fit for primitive types. I&#39;ll explain why.\r\n\r\nI&#39;m given as input Java compiled program - class file. My goal is to plot some graphs that will contain some information about variable access between time. I have no idea of how the code looks in advance , and my tactic is instrumentation of my own bytecode for every LOAD and STORE instruction. I&#39;m using ASM Java Bytecode Instrumentation.\r\n\r\n\r\nTherefore, I can&#39;t do something like:\r\n\r\n    identityHashCode(Integer.valueOf(...))\r\n\r\nbecause I have no indication whether the type is int, double, long, etc.\r\n\r\nI want to be able to determine between different instances of the same class:\r\n\r\nFor example :\r\n\r\n    class foo {\r\n    int a;\r\n    }\r\n    foo b;\r\n    foo c;\r\n    b.a++;\r\n    c.a++;\r\n\r\nBut when it comes to bytecode , there is no relation between the name &quot;b&quot; / &quot;c&quot; and the attribute a. All I &quot;see&quot; is that a is incremented. Both are regarded as a ! if that was `Object a`  I could have used System.identityHashCode() to distinguish between them. But I can&#39;t.\r\n\r\nTo make myself clear, look at the following example:\r\n\r\n    package manipulate;\r\n\r\n    public class Test {\r\n    \t\tint c;\r\n    \t\tpublic static void main(String[] args) {\r\n    \t\t\tTest a=new Test();\r\n    \t\t\tTest b=new Test();\r\n    \t\t\ta.c++;\r\n    \t\t\tb.c++;\r\n    \t\t}\r\n    \t}\r\n\r\nwhich will be translated (main function) to the following bytecode:\r\n\r\n       L0\r\n        LINENUMBER 7 L0\r\n        NEW manipulate/Test\r\n        DUP\r\n        INVOKESPECIAL manipulate/Test.&lt;init&gt;()V\r\n        ASTORE 1\r\n       L1\r\n        LINENUMBER 8 L1\r\n        NEW manipulate/Test\r\n        DUP\r\n        INVOKESPECIAL manipulate/Test.&lt;init&gt;()V\r\n        ASTORE 2\r\n       L2\r\n        LINENUMBER 9 L2\r\n        ALOAD 1\r\n        DUP\r\n        GETFIELD manipulate/Test.c : I\r\n        ICONST_1\r\n        IADD\r\n        PUTFIELD manipulate/Test.c : I\r\n       L3\r\n        LINENUMBER 10 L3\r\n        ALOAD 2\r\n        DUP\r\n        GETFIELD manipulate/Test.c : I\r\n        ICONST_1\r\n        IADD\r\n        PUTFIELD manipulate/Test.c : I\r\n       L4\r\n        LINENUMBER 11 L4\r\n        RETURN\r\n\r\nAnd as you can see, what I&#39;ve got on the stack is just the value of the integer c. Therefore, given that code, I can&#39;t determine between these two c&#39;s!\r\n","title":"is there hash code / Heap address for primitive types in Java?","body":"<p>I was trying to find some approximization to address on heap , and you guys gave me the function <code>System.IdentityHashCode(Object)</code>.</p>\n\n<p>The problem is - this function doesn't fit for primitive types. I'll explain why.</p>\n\n<p>I'm given as input Java compiled program - class file. My goal is to plot some graphs that will contain some information about variable access between time. I have no idea of how the code looks in advance , and my tactic is instrumentation of my own bytecode for every LOAD and STORE instruction. I'm using ASM Java Bytecode Instrumentation.</p>\n\n<p>Therefore, I can't do something like:</p>\n\n<pre><code>identityHashCode(Integer.valueOf(...))\n</code></pre>\n\n<p>because I have no indication whether the type is int, double, long, etc.</p>\n\n<p>I want to be able to determine between different instances of the same class:</p>\n\n<p>For example :</p>\n\n<pre><code>class foo {\nint a;\n}\nfoo b;\nfoo c;\nb.a++;\nc.a++;\n</code></pre>\n\n<p>But when it comes to bytecode , there is no relation between the name \"b\" / \"c\" and the attribute a. All I \"see\" is that a is incremented. Both are regarded as a ! if that was <code>Object a</code>  I could have used System.identityHashCode() to distinguish between them. But I can't.</p>\n\n<p>To make myself clear, look at the following example:</p>\n\n<pre><code>package manipulate;\n\npublic class Test {\n        int c;\n        public static void main(String[] args) {\n            Test a=new Test();\n            Test b=new Test();\n            a.c++;\n            b.c++;\n        }\n    }\n</code></pre>\n\n<p>which will be translated (main function) to the following bytecode:</p>\n\n<pre><code>   L0\n    LINENUMBER 7 L0\n    NEW manipulate/Test\n    DUP\n    INVOKESPECIAL manipulate/Test.&lt;init&gt;()V\n    ASTORE 1\n   L1\n    LINENUMBER 8 L1\n    NEW manipulate/Test\n    DUP\n    INVOKESPECIAL manipulate/Test.&lt;init&gt;()V\n    ASTORE 2\n   L2\n    LINENUMBER 9 L2\n    ALOAD 1\n    DUP\n    GETFIELD manipulate/Test.c : I\n    ICONST_1\n    IADD\n    PUTFIELD manipulate/Test.c : I\n   L3\n    LINENUMBER 10 L3\n    ALOAD 2\n    DUP\n    GETFIELD manipulate/Test.c : I\n    ICONST_1\n    IADD\n    PUTFIELD manipulate/Test.c : I\n   L4\n    LINENUMBER 11 L4\n    RETURN\n</code></pre>\n\n<p>And as you can see, what I've got on the stack is just the value of the integer c. Therefore, given that code, I can't determine between these two c's!</p>\n"},{"tags":["java","timer","ejb","scheduling"],"answers":[{"tags":[],"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639247313,"creation_date":1639247313,"answer_id":70317938,"question_id":70317694,"body_markdown":"I don&#39;t think that&#39;s how `ScheduleExpression` is intended to be used, AND you also have a problem with how you define the expression.\r\n\r\n    ScheduleExpression()\r\n                .hour(18-19)\r\n                .minute(27-47)\r\n                .second(&quot;*&quot;)\r\n\r\nFirst, the specification `.hour(18-19)` evaluates to `.hour(-1)`, and `.minute(27-47)` is equivalent to `.minute(-20)`, neither of which is valid.\r\n\r\nSo I&#39;ll assume you really meant (notice the quotes):\r\n\r\n    ScheduleExpression()\r\n                .hour(&quot;18-19&quot;)\r\n                .minute(&quot;27-47&quot;)\r\n                .second(&quot;*&quot;)\r\n\r\nThe points at which a `Timer` &quot;expires&quot; (i.e. fires) are based on the `ScheduleExpression`.  Your expression means whenever\r\n\r\n* The hour is 18 or 19\r\n* The minute is any value between 27 and 47 inclusive\r\n* Every second\r\n\r\nSo you&#39;ll get timer expirations at\r\n\r\n    18:27:00\r\n    18:27:01\r\n    18:27:02\r\n    ...\r\n    18:47:58\r\n    18:47:59\r\n    then nothing until\r\n    19:27:00\r\n    19:27:01\r\n    ...\r\n    19:47:58\r\n    19:47:59\r\n\r\nYou didn&#39;t provide enough detail to understand your intentions, but I don&#39;t believe this matches what you wanted.\r\n\r\n\r\n    ","title":"ScheduleExpression between exact hours and minutes","body":"<p>I don't think that's how <code>ScheduleExpression</code> is intended to be used, AND you also have a problem with how you define the expression.</p>\n<pre><code>ScheduleExpression()\n            .hour(18-19)\n            .minute(27-47)\n            .second(&quot;*&quot;)\n</code></pre>\n<p>First, the specification <code>.hour(18-19)</code> evaluates to <code>.hour(-1)</code>, and <code>.minute(27-47)</code> is equivalent to <code>.minute(-20)</code>, neither of which is valid.</p>\n<p>So I'll assume you really meant (notice the quotes):</p>\n<pre><code>ScheduleExpression()\n            .hour(&quot;18-19&quot;)\n            .minute(&quot;27-47&quot;)\n            .second(&quot;*&quot;)\n</code></pre>\n<p>The points at which a <code>Timer</code> &quot;expires&quot; (i.e. fires) are based on the <code>ScheduleExpression</code>.  Your expression means whenever</p>\n<ul>\n<li>The hour is 18 or 19</li>\n<li>The minute is any value between 27 and 47 inclusive</li>\n<li>Every second</li>\n</ul>\n<p>So you'll get timer expirations at</p>\n<pre><code>18:27:00\n18:27:01\n18:27:02\n...\n18:47:58\n18:47:59\nthen nothing until\n19:27:00\n19:27:01\n...\n19:47:58\n19:47:59\n</code></pre>\n<p>You didn't provide enough detail to understand your intentions, but I don't believe this matches what you wanted.</p>\n"}],"owner":{"account_id":952954,"reputation":407,"user_id":978757,"accept_rate":25,"display_name":"josh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":368,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639251576,"creation_date":1639245788,"question_id":70317694,"body_markdown":"I&#39;m working with javax.ejb.ScheduleExpression and timers to create daily scheduled jobs. I need to specify the working time with hours and minutes. For example, lets say that I want it to run &quot;**every day between 18:27-19:47**&quot;. How can I write this expression? \r\n\r\nI&#39;ve tried it as follows;\r\n\r\n    ScheduleExpression()\r\n\t\t\t\t.hour(&quot;18&quot;-&quot;19&quot;)\r\n\t\t\t\t.minute(&quot;27&quot;-&quot;47&quot;)\r\n\t\t\t\t.second(&quot;*&quot;)\r\nBut the problem is that, when I run this, it stops at 18:47 and starts again at 19:27. So, how can I make it run every second in between those hours and minutes?\r\n\r\nAlso, I want to be able to stop the timer at any point, which I&#39;m doing with &quot;timer.cancel();&quot; method, and then reschedule it for the same hours again, but this time for the next day. Is it somehow possible to write an expression that will start to run next day and keep running at specified hours until it is canceled again?","title":"ScheduleExpression between exact hours and minutes","body":"<p>I'm working with javax.ejb.ScheduleExpression and timers to create daily scheduled jobs. I need to specify the working time with hours and minutes. For example, lets say that I want it to run &quot;<strong>every day between 18:27-19:47</strong>&quot;. How can I write this expression?</p>\n<p>I've tried it as follows;</p>\n<pre><code>ScheduleExpression()\n            .hour(&quot;18&quot;-&quot;19&quot;)\n            .minute(&quot;27&quot;-&quot;47&quot;)\n            .second(&quot;*&quot;)\n</code></pre>\n<p>But the problem is that, when I run this, it stops at 18:47 and starts again at 19:27. So, how can I make it run every second in between those hours and minutes?</p>\n<p>Also, I want to be able to stop the timer at any point, which I'm doing with &quot;timer.cancel();&quot; method, and then reschedule it for the same hours again, but this time for the next day. Is it somehow possible to write an expression that will start to run next day and keep running at specified hours until it is canceled again?</p>\n"},{"tags":["java","heap-memory","netbeans-8"],"answers":[{"tags":[],"owner":{"account_id":86786,"reputation":2856,"user_id":241097,"display_name":"Drewen"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1262808952,"creation_date":1262808952,"answer_id":2015889,"question_id":2015847,"body_markdown":"This command line give to your Java program a 64Mb initial and 256Mb maximum heap size.\r\n\r\n    java -Xms64m -Xmx256m jdbc_prog\r\n\r\nGood luck!","title":"increasing heap size in netbeans.conf file","body":"<p>This command line give to your Java program a 64Mb initial and 256Mb maximum heap size.</p>\n\n<pre><code>java -Xms64m -Xmx256m jdbc_prog\n</code></pre>\n\n<p>Good luck!</p>\n"},{"tags":[],"owner":{"account_id":3957,"reputation":22144,"user_id":5812,"accept_rate":56,"display_name":"Bob Cross"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1262876164,"creation_date":1262810470,"answer_id":2016068,"question_id":2015847,"body_markdown":"**EDIT: responding to the comment**\r\n\r\nIf your application has a specific need for heap space, you can set the virtual machine parameters that you would like it to use.  For example, I have a default maximum heap size that I use in the default run configuration.  I also have larger maximums for run configurations where I know that I will be processing more data.\r\n\r\nYou can access the run configurations several ways:\r\n\r\n1. Right click the project (under Projects) and select &quot;Properties.&quot;  Click &quot;Run&quot; and notice the &quot;VM options&quot; text field that appears on the right.  If you add &quot;-Xmx1024&quot; to that field, you will allow the heap to grow to a maximum size of 1024 megabytes.\r\n2. You can also customize the run configurations directly from the combo box in the &quot;Run&quot; toolbar.  If you click the combo box, you&#39;ll see that the last choice is &quot;Customize.&quot;  This will bring up the same dialog box.\r\n\r\nIt is important to note that setting the maximum heap size does not immediately allocate that much memory.  With my current work, I prefer to allow the heap to grow up to the maximum if necessary but also, to be a good neighbor with other services on the machine, I allow it to keep a small heap if things fit.  You can, however, specify that heap size should start at the maximum possible size by using the -Xms option.\r\n\r\nFor example, if you set the virtual machine options to &quot;-Xms1024m -Xmx1024m&quot;, the application will grab the entire gig of memory on startup and hold it for the entire run.\r\n\r\n**End EDIT**\r\n\r\nIf you&#39;d like to ensure that Netbeans always has enough heap space, you can do this one of two easy ways.  One is to modify the netbeans.conf file.  In mine, the original line reads like so:\r\n\r\n&gt; netbeans_default_options=&quot;-J-client\r\n&gt; -J-Xverify:none -J-Xss2m -J-Xms32m -J-XX:PermSize=32m -J-XX:MaxPermSize=200m -J-Dapple.laf.useScreenMenuBar=true -J-Dsun.java2d.noddraw=true&quot;\r\n\r\nIf you would like to give Netbeans up to one gig of RAM to play with, you can change the line to read like so:\r\n\r\n&gt; netbeans_default_options=&quot;-J-client\r\n&gt; -J-Xverify:none -J-Xmx1024m -J-Xss2m -J-Xms32m -J-XX:PermSize=32m -J-XX:MaxPermSize=200m -J-Dapple.laf.useScreenMenuBar=true -J-Dsun.java2d.noddraw=true&quot;\r\n\r\nwhere the &quot;-J-Xmx1024m&quot; argument will allow the heap to grow up to a size of 1024 meg.\r\n\r\nHowever, it&#39;s even easier to set the max heap for Netbeans at runtime from a launcher or shortcut.  On my machine, I have a launcher that passes the max heap in directly without changing the configuration file:\r\n\r\n&gt; /usr/local/netbeans-6.8/bin/netbeans\r\n&gt; -J-Xmx1024m\r\n\r\nFeel free to use whichever is most convenient for you.\r\n","title":"increasing heap size in netbeans.conf file","body":"<p><strong>EDIT: responding to the comment</strong></p>\n\n<p>If your application has a specific need for heap space, you can set the virtual machine parameters that you would like it to use.  For example, I have a default maximum heap size that I use in the default run configuration.  I also have larger maximums for run configurations where I know that I will be processing more data.</p>\n\n<p>You can access the run configurations several ways:</p>\n\n<ol>\n<li>Right click the project (under Projects) and select \"Properties.\"  Click \"Run\" and notice the \"VM options\" text field that appears on the right.  If you add \"-Xmx1024\" to that field, you will allow the heap to grow to a maximum size of 1024 megabytes.</li>\n<li>You can also customize the run configurations directly from the combo box in the \"Run\" toolbar.  If you click the combo box, you'll see that the last choice is \"Customize.\"  This will bring up the same dialog box.</li>\n</ol>\n\n<p>It is important to note that setting the maximum heap size does not immediately allocate that much memory.  With my current work, I prefer to allow the heap to grow up to the maximum if necessary but also, to be a good neighbor with other services on the machine, I allow it to keep a small heap if things fit.  You can, however, specify that heap size should start at the maximum possible size by using the -Xms option.</p>\n\n<p>For example, if you set the virtual machine options to \"-Xms1024m -Xmx1024m\", the application will grab the entire gig of memory on startup and hold it for the entire run.</p>\n\n<p><strong>End EDIT</strong></p>\n\n<p>If you'd like to ensure that Netbeans always has enough heap space, you can do this one of two easy ways.  One is to modify the netbeans.conf file.  In mine, the original line reads like so:</p>\n\n<blockquote>\n  <p>netbeans_default_options=\"-J-client\n  -J-Xverify:none -J-Xss2m -J-Xms32m -J-XX:PermSize=32m -J-XX:MaxPermSize=200m -J-Dapple.laf.useScreenMenuBar=true -J-Dsun.java2d.noddraw=true\"</p>\n</blockquote>\n\n<p>If you would like to give Netbeans up to one gig of RAM to play with, you can change the line to read like so:</p>\n\n<blockquote>\n  <p>netbeans_default_options=\"-J-client\n  -J-Xverify:none -J-Xmx1024m -J-Xss2m -J-Xms32m -J-XX:PermSize=32m -J-XX:MaxPermSize=200m -J-Dapple.laf.useScreenMenuBar=true -J-Dsun.java2d.noddraw=true\"</p>\n</blockquote>\n\n<p>where the \"-J-Xmx1024m\" argument will allow the heap to grow up to a size of 1024 meg.</p>\n\n<p>However, it's even easier to set the max heap for Netbeans at runtime from a launcher or shortcut.  On my machine, I have a launcher that passes the max heap in directly without changing the configuration file:</p>\n\n<blockquote>\n  <p>/usr/local/netbeans-6.8/bin/netbeans\n  -J-Xmx1024m</p>\n</blockquote>\n\n<p>Feel free to use whichever is most convenient for you.</p>\n"},{"tags":[],"owner":{"account_id":311131,"reputation":782,"user_id":624533,"accept_rate":100,"display_name":"Sudhakar Krishnan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1389931419,"creation_date":1389931419,"answer_id":21177649,"question_id":2015847,"body_markdown":"The easy way.\r\nGo to \r\n\r\n&gt; /usr/share/applications\r\n\r\nCheck if **netbeans** file exist there, *&quot; if there is no netbeans file - select any other file(ex: termianl)&quot;* and copy netbeans file(if not terminal file) to desktop. {Don&#39;t move - if any error you can change later.}\r\n\r\nOpen this file(netbeans or terminal) in text editor(**gedit**). Replace its content to.\r\n\r\n    [Desktop Entry]\r\n    Encoding=UTF-8\r\n    Name=NetBeans IDE 7.4\r\n    Comment=The Smarter Way to Code\r\n    Exec=/opt/netbeans-7.4/bin/netbeans -J-Xmx1024m\r\n    Icon=/opt/netbeans-7.4/nb/netbeans.png\r\n    Categories=Application;Development;Java;IDE\r\n    Version=1.0\r\n    Type=Application\r\n    Terminal=0\r\n    GenericName[en_IN]=Custom NB Launcher\r\n\r\n**Check** Exec : is it point to correct netbeans location, also Icon : to set the icon.\r\n\r\n**IMPORTANT :** \r\n\r\nDon&#39;t forget to modify Exec : -J-Xmx1024m\r\n\r\nIn this change 1024 according to your ram size.","title":"increasing heap size in netbeans.conf file","body":"<p>The easy way.\nGo to </p>\n\n<blockquote>\n  <p>/usr/share/applications</p>\n</blockquote>\n\n<p>Check if <strong>netbeans</strong> file exist there, <em>\" if there is no netbeans file - select any other file(ex: termianl)\"</em> and copy netbeans file(if not terminal file) to desktop. {Don't move - if any error you can change later.}</p>\n\n<p>Open this file(netbeans or terminal) in text editor(<strong>gedit</strong>). Replace its content to.</p>\n\n<pre><code>[Desktop Entry]\nEncoding=UTF-8\nName=NetBeans IDE 7.4\nComment=The Smarter Way to Code\nExec=/opt/netbeans-7.4/bin/netbeans -J-Xmx1024m\nIcon=/opt/netbeans-7.4/nb/netbeans.png\nCategories=Application;Development;Java;IDE\nVersion=1.0\nType=Application\nTerminal=0\nGenericName[en_IN]=Custom NB Launcher\n</code></pre>\n\n<p><strong>Check</strong> Exec : is it point to correct netbeans location, also Icon : to set the icon.</p>\n\n<p><strong>IMPORTANT :</strong> </p>\n\n<p>Don't forget to modify Exec : -J-Xmx1024m</p>\n\n<p>In this change 1024 according to your ram size.</p>\n"}],"owner":{"account_id":26268,"reputation":100567,"user_id":68183,"accept_rate":54,"display_name":"mrblah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26231,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":2015889,"answer_count":3,"score":4,"last_activity_date":1639251559,"creation_date":1262808528,"question_id":2015847,"body_markdown":"I was reading in netbeans 6, you don&#39;t have to set the maximum heap size, it will just look at your computer for that information.\r\n\r\nMy system has 8 gigs of ram, but my application only has 64mb to play with and it is running out of memory.\r\n\r\nI did a:\r\n\r\n System.out.println(Runtime.getRuntime().maxMemory());\r\n\r\nAnd it is 66 650 112 bytes (63.5625 megabytes).\r\n\r\n\r\nmy netbeans.config:\r\n\r\n    -J-Xss2m -J-Xms32m -J-XX:PermSize=32m -J-XX:MaxPermSize=200m\r\n\r\nI tried to change these numbers, but then netbeans failed to load (JVM error).\r\n\r\nHow can I increase the maximum size to 1 GB?","title":"increasing heap size in netbeans.conf file","body":"<p>I was reading in netbeans 6, you don't have to set the maximum heap size, it will just look at your computer for that information.</p>\n\n<p>My system has 8 gigs of ram, but my application only has 64mb to play with and it is running out of memory.</p>\n\n<p>I did a:</p>\n\n<p>System.out.println(Runtime.getRuntime().maxMemory());</p>\n\n<p>And it is 66 650 112 bytes (63.5625 megabytes).</p>\n\n<p>my netbeans.config:</p>\n\n<pre><code>-J-Xss2m -J-Xms32m -J-XX:PermSize=32m -J-XX:MaxPermSize=200m\n</code></pre>\n\n<p>I tried to change these numbers, but then netbeans failed to load (JVM error).</p>\n\n<p>How can I increase the maximum size to 1 GB?</p>\n"},{"tags":["java","heap-memory","overflow"],"comments":[{"owner":{"account_id":31518,"reputation":36053,"user_id":86604,"accept_rate":80,"display_name":"Ingo"},"score":0,"creation_date":1317999112,"post_id":7688820,"comment_id":9347266,"body_markdown":"`we are getting some heap overflow`--- and our task is apparently to guess at which line? Or could you be so kind to unveil this secret?","body":"<code>we are getting some heap overflow</code>--- and our task is apparently to guess at which line? Or could you be so kind to unveil this secret?"},{"owner":{"account_id":476901,"reputation":2441,"user_id":888059,"accept_rate":88,"display_name":"Reid Mac"},"score":0,"creation_date":1317999772,"post_id":7688820,"comment_id":9347490,"body_markdown":"The thing is it runs on my computer fine. I would love to &quot;unveil this secret&quot;, but I honestly do not know. I was told to write this class for another project. I do believe it has something with the drawImage() method. Also, print is being called multiple times because of the way Java handles the printing. The OS will call print() multiple times because the printer doesn&#39;t have enough memory to hold the whole document. This could be another reason the heap is overflowing...","body":"The thing is it runs on my computer fine. I would love to &quot;unveil this secret&quot;, but I honestly do not know. I was told to write this class for another project. I do believe it has something with the drawImage() method. Also, print is being called multiple times because of the way Java handles the printing. The OS will call print() multiple times because the printer doesn&#39;t have enough memory to hold the whole document. This could be another reason the heap is overflowing..."},{"owner":{"account_id":31518,"reputation":36053,"user_id":86604,"accept_rate":80,"display_name":"Ingo"},"score":0,"creation_date":1318000511,"post_id":7688820,"comment_id":9347714,"body_markdown":"Yes, `could be`. But if we had a stack trace, we would know where it was happening. Please get used to it to post first and foremost a stack strace, along with a skeleton of your code where the line in question is clearly marked. Should we need to see more code, we will tell you so.","body":"Yes, <code>could be</code>. But if we had a stack trace, we would know where it was happening. Please get used to it to post first and foremost a stack strace, along with a skeleton of your code where the line in question is clearly marked. Should we need to see more code, we will tell you so."},{"owner":{"account_id":476901,"reputation":2441,"user_id":888059,"accept_rate":88,"display_name":"Reid Mac"},"score":0,"creation_date":1318003564,"post_id":7688820,"comment_id":9348663,"body_markdown":"I totally would have done that, but I do not have either. I was just wondering if anyone had any ideas out of the top of their head. I was not looking for an exact problem in the code. Because the code works fine.","body":"I totally would have done that, but I do not have either. I was just wondering if anyone had any ideas out of the top of their head. I was not looking for an exact problem in the code. Because the code works fine."}],"answers":[{"tags":[],"owner":{"account_id":199943,"reputation":84060,"user_id":445543,"accept_rate":85,"display_name":"stivlo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1317999997,"creation_date":1317998937,"answer_id":7688915,"question_id":7688820,"body_markdown":"Without going in the specifics of your code, maybe you really need a bigger heap size to do this task. Have you tried increasing it with the flag -Xmx?\r\n\r\n    -Xmx&lt;size&gt;        set maximum Java heap size\r\n\r\nFor instance:\r\n\r\n    java -Xmx360m ...\r\n\r\nsets the heap size to 360 Mb.\r\n\r\nAlternatively, you can **use a profiler** to understand where the memory is used. See this [tutorial for Eclipse][1].\r\n\r\n\r\n  [1]: http://www.eclipse.org/tptp/home/documents/tutorials/profilingtool/profilingexample_32.html","title":"Heap Overflow Issue when implementing and using the Printable interface","body":"<p>Without going in the specifics of your code, maybe you really need a bigger heap size to do this task. Have you tried increasing it with the flag -Xmx?</p>\n\n<pre><code>-Xmx&lt;size&gt;        set maximum Java heap size\n</code></pre>\n\n<p>For instance:</p>\n\n<pre><code>java -Xmx360m ...\n</code></pre>\n\n<p>sets the heap size to 360 Mb.</p>\n\n<p>Alternatively, you can <strong>use a profiler</strong> to understand where the memory is used. See this <a href=\"http://www.eclipse.org/tptp/home/documents/tutorials/profilingtool/profilingexample_32.html\" rel=\"nofollow\">tutorial for Eclipse</a>.</p>\n"}],"owner":{"account_id":476901,"reputation":2441,"user_id":888059,"accept_rate":88,"display_name":"Reid Mac"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":7688915,"answer_count":1,"score":0,"last_activity_date":1639251332,"creation_date":1317998436,"question_id":7688820,"body_markdown":"   So I&#39;ve written the class below, and it works, but we are getting some heap overflow problems when using this. The images are limited to 5 mb each. Anyone have an idea on how to solve overflowing the heap when generating the printout? \r\n\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.Image;\r\n    import java.awt.print.PageFormat;\r\n    import java.awt.print.Printable;\r\n    import java.awt.print.PrinterException;\r\n    import java.awt.print.PrinterJob;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n\r\n    import javax.imageio.ImageIO;\r\n\r\n    public class GeneratePrintout implements Printable {\r\n\r\n\tpublic static void main(String... args) {\r\n\t\tGeneratePrintout print = new GeneratePrintout(&quot;Path to image&quot;, &quot;Description&quot;);\r\n\t\t// print.setPath2(&quot;C:\\\\images\\\\house.jpeg&quot;);\r\n\t\tprint.setDesc1(&quot;&quot;);\r\n\t\tprint.setDesc2(&quot;A random house from the net&quot;);\r\n\t\t// print.setPath3(&quot;C:\\\\images\\\\biltmore.jpg&quot;);\r\n\t\tprint.setDesc3(&quot;The Biltmore Again...&quot;);\r\n\t\t// print.setPath4(&quot;C:\\\\images\\\\house.jpeg&quot;);\r\n\t\tprint.setDesc4(&quot;The random house again.&quot;);\r\n\t\tprint.setType(&quot;JPG&quot;);\r\n\t\tprint.setComments(&quot;These are pictures of two houses and this text is really long because I am trying to wrap the words, and I really hope this works correctly!&quot;);\r\n\t\tprint.setPolNum(&quot;123456789&quot;);\r\n\t\tprint.setContNum(&quot;2564585&quot;);\r\n\t\tprint.setfName(&quot;John&quot;);\r\n\t\tprint.startPrint(print);\r\n\t}\r\n\r\n\tprivate String type;\r\n\tprivate String polNum;\r\n\tprivate String contNum;\r\n\tprivate String fName;\r\n\tprivate String lName;\r\n\tprivate String comments;\r\n\tprivate String path1;\r\n\tprivate String path2;\r\n\tprivate String path3;\r\n\tprivate String path4;\r\n\tprivate String desc1;\r\n\tprivate String desc2;\r\n\tprivate String desc3;\r\n\tprivate String desc4;\r\n\r\n\t/**\r\n\t * Default Constructor.\r\n\t */\r\n\tpublic GeneratePrintout() {\r\n\t\tthis.setType(&quot;&quot;);\r\n\t\tthis.setPolNum(&quot;&quot;);\r\n\t\tthis.setContNum(&quot;&quot;);\r\n\t\tthis.setfName(&quot;&quot;);\r\n\t\tthis.setlName(&quot;&quot;);\r\n\t\tthis.setComments(&quot;&quot;);\r\n\t\tthis.setPath1(&quot;&quot;);\r\n\t\tthis.setPath2(&quot;&quot;);\r\n\t\tthis.setPath3(&quot;&quot;);\r\n\t\tthis.setPath4(&quot;&quot;);\r\n\t\tthis.setDesc1(&quot;&quot;);\r\n\t\tthis.setDesc2(&quot;&quot;);\r\n\t\tthis.setDesc3(&quot;&quot;);\r\n\t\tthis.setDesc4(&quot;&quot;);\r\n\t}\r\n\r\n\t/**\r\n\t * Constructor.\r\n\t * \r\n\t * @param path1\r\n\t *            The file path for the first image.\r\n\t * @param lName\r\n\t *            String last name or business name.\r\n\t */\r\n\tpublic GeneratePrintout(String path1, String lName) {\r\n\t\tthis.setPath1(path1);\r\n\t\tthis.setlName(lName);\r\n\t\tthis.setPath2(&quot;&quot;);\r\n\t\tthis.setPath3(&quot;&quot;);\r\n\t\tthis.setPath4(&quot;&quot;);\r\n\t\tthis.setPolNum(&quot;&quot;);\r\n\t\tthis.setContNum(&quot;&quot;);\r\n\t\tthis.setfName(&quot;&quot;);\r\n\t\tthis.setComments(&quot;&quot;);\r\n\t\tthis.setDesc1(&quot;&quot;);\r\n\t\tthis.setDesc2(&quot;&quot;);\r\n\t\tthis.setDesc3(&quot;&quot;);\r\n\t\tthis.setDesc4(&quot;&quot;);\r\n\t}\r\n\r\n\t/**\r\n\t * Constructor.\r\n\t * \r\n\t * @param type\r\n\t *            image file type\r\n\t * @param polNum\r\n\t *            Policy Number\r\n\t * @param contNum\r\n\t *            Control Number.\r\n\t * @param fName\r\n\t *            First Name\r\n\t * @param lName\r\n\t *            Last Name\r\n\t * @param comments\r\n\t *            Comments\r\n\t * @param path1\r\n\t *            File path to image 1\r\n\t * @param path2\r\n\t *            File path to image 2\r\n\t * @param path3\r\n\t *            File path to image 3\r\n\t * @param path4\r\n\t *            File path to image 4\r\n\t * @param desc1\r\n\t *            Description for image 1\r\n\t * @param desc2\r\n\t *            Description for image 2\r\n\t * @param desc3\r\n\t *            Description for image 3\r\n\t * @param desc4\r\n\t *            Description for image 4\r\n\t */\r\n\tpublic GeneratePrintout(String type, String polNum, String contNum,\r\n\t\t\tString fName, String lName, String comments, String path1, String path2,\r\n\t\t\tString path3, String path4, String desc1, String desc2, String desc3,\r\n\t\t\tString desc4) {\r\n\t\tthis.setType(type);\r\n\t\tthis.setPolNum(polNum);\r\n\t\tthis.setContNum(contNum);\r\n\t\tthis.setfName(fName);\r\n\t\tthis.setlName(lName);\r\n\t\tthis.setComments(comments);\r\n\t\tthis.setPath1(path1);\r\n\t\tthis.setPath2(path2);\r\n\t\tthis.setPath3(path3);\r\n\t\tthis.setPath4(path4);\r\n\t\tthis.setDesc1(desc1);\r\n\t\tthis.setDesc2(desc2);\r\n\t\tthis.setDesc3(desc3);\r\n\t\tthis.setDesc4(desc4);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * This method is used to start the printing process. The print dialog box\r\n\t * pops up where the user can set printer settings and then select print or\r\n\t * cancel.\r\n\t * \r\n\t * @param printOut\r\n\t *            GeneratedPrintout object which contains the locations of the\r\n\t *            images.\r\n\t */\r\n\tpublic void startPrint(GeneratePrintout printOut) {\r\n\t\tPrinterJob job = PrinterJob.getPrinterJob();\r\n\t\tjob.setPrintable(printOut);\r\n\t\t// This pops up the print dialog box, this is not necessary.\r\n\r\n\t\tboolean doPrint = job.printDialog();\r\n\r\n\t\tif(doPrint){\r\n\t\t\ttry{\r\n\t\t\t\tjob.print();\r\n\t\t\t}catch(PrinterException e){\r\n\t\t\t\t/* The job did not successfully complete */\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int print(Graphics g, PageFormat pf, int page) throws PrinterException {\r\n\t\t/* We have only one page, and &#39;page&#39; is zero-based */\r\n\t\tif(page &gt; 0){\r\n\t\t\treturn NO_SUCH_PAGE;\r\n\t\t}\r\n\t\t// Find the printable area of the printer.\r\n\t\t/*\r\n\t\t * (0,0) is typically outside the imageable area, so we must translate\r\n\t\t * by the X and Y values in the PageFormat to avoid clipping\r\n\t\t */\r\n\t\tGraphics2D g2d = (Graphics2D) g;\r\n\t\tg2d.translate(pf.getImageableX(), pf.getImageableY());\r\n\t\t// Get default width, height, x and y values of the page.\r\n\t\tint width = (int) pf.getImageableWidth();\r\n\t\tint height = (int) pf.getImageableHeight();\r\n\t\tint x = (int) pf.getImageableX();\r\n\t\tint y = (int) pf.getImageableY();\r\n\r\n\t\tImage img1 = null;\r\n\t\tImage img2 = null;\r\n\t\tImage img3 = null;\r\n\t\tImage img4 = null;\r\n\r\n\t\t// Try to create the images from the specified filepaths. Image 1 throws\r\n\t\t// a NullPointerException if not found because it is required.\r\n\t\ttry{\r\n\t\t\tif(!&quot;&quot;.equals(path1)){\r\n\t\t\t\tFile src1 = new File(path1);\r\n\t\t\t\timg1 = ImageIO.read(src1);\r\n\t\t\t}else{\r\n\t\t\t\tthrow new NullPointerException(&quot;File path 1 is required.&quot;);\r\n\t\t\t}\r\n\t\t\tif(!&quot;&quot;.equals(path2)){\r\n\t\t\t\tFile src2 = new File(path2);\r\n\t\t\t\timg2 = ImageIO.read(src2);\r\n\t\t\t}\r\n\t\t\tif(!&quot;&quot;.equals(path3)){\r\n\t\t\t\tFile src3 = new File(path3);\r\n\t\t\t\timg3 = ImageIO.read(src3);\r\n\t\t\t}\r\n\t\t\tif(!&quot;&quot;.equals(path4)){\r\n\t\t\t\tFile src4 = new File(path4);\r\n\t\t\t\timg4 = ImageIO.read(src4);\r\n\t\t\t}\r\n\t\t}catch(IOException e){\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\t/* Now we perform our rendering */\r\n\t\t// Note: Image 1 must exist before image 2, and image 2 must exist\r\n\t\t// before image 3 and so on.\r\n\t\t// Image 1 and its description.\r\n\t\tif(img1 != null){\r\n\t\t\timg1 = img1.getScaledInstance(width / 2, height / 4, 0);\r\n\t\t\tg.drawImage(img1, x, y, null);\r\n\t\t\tg.drawString(desc1, x, y + img1.getHeight(null) + 10);\r\n\t\t}\r\n\t\t// Image 2 and its description.\r\n\t\tif(img1 != null &amp;&amp; img2 != null){\r\n\t\t\timg2 = img2.getScaledInstance(width / 2, height / 4, 0);\r\n\t\t\tg.drawImage(img2, x + img1.getWidth(null) + 10, y, null);\r\n\t\t\tg.drawString(desc2, x + (width / 2) + 10, y + img2.getHeight(null) + 10);\r\n\t\t}\r\n\t\t// Image 3 and its description.\r\n\t\tif(img1 != null &amp;&amp; img2 != null &amp;&amp; img3 != null){\r\n\t\t\timg3 = img3.getScaledInstance(width / 2, height / 4, 0);\r\n\t\t\tg.drawImage(img3, x, y + img1.getHeight(null) + 20, null);\r\n\t\t\tg.drawString(desc3, x, y + img1.getHeight(null) + img3.getHeight(null)\r\n\t\t\t\t\t+ 30);\r\n\r\n\t\t}\r\n\t\t// Image 4 and its description.\r\n\t\tif(img1 != null &amp;&amp; img2 != null &amp;&amp; img3 != null &amp;&amp; img4 != null){\r\n\t\t\timg4 = img4.getScaledInstance(width / 2, height / 4, 0);\r\n\t\t\tg.drawImage(img4, x + img3.getWidth(null) + 10, y + img2.getHeight(null)\r\n\t\t\t\t\t+ 20, null);\r\n\t\t\tg.drawString(desc4, x + (width / 2) + 10, y + img1.getHeight(null)\r\n\t\t\t\t\t+ img3.getHeight(null) + 30);\r\n\t\t}\r\n\t\t// This is used to draw the text at the bottom.\r\n\t\tint p1Height = height;\r\n\r\n\t\tif(img1 != null){\r\n\t\t\tp1Height = y + img1.getHeight(null) + 50;\r\n\t\t}\r\n\t\tif(img3 != null){\r\n\t\t\tp1Height = y + img1.getHeight(null) + img3.getHeight(null) + 50;\r\n\t\t}\r\n\r\n\t\t// Left panel\r\n\t\tg.drawString(&quot;Image Type: &quot; + type, x, p1Height);\r\n\r\n\t\t//Wordwrap business name.\r\n\t\tString[] busArray = lName.split(&quot; &quot;);\r\n\t\tint addY = 20;\r\n\t\tint check = 0;\r\n\t\tfor(int i = 0; i &lt; busArray.length;){\r\n\t\t\tString toAdd = &quot;&quot;;\r\n\t\t\tif(addY == 20)\r\n\t\t\t\ttoAdd +=&quot;Last or Business Name: &quot;;\r\n\t\t\t//Only allow a max of 45 characters per line.\r\n\t\t\twhile(toAdd.length() &lt;= 45 &amp;&amp; i &lt; busArray.length){\r\n\t\t\t\ttoAdd += busArray[i] + &quot; &quot;;\r\n\t\t\t\ti++;\r\n\t\t\t}\r\n\t\t\tg.drawString(toAdd, x, p1Height + addY);\r\n\t\t\tcheck = addY;\r\n\t\t\taddY += 13;\r\n\t\t\ttoAdd = &quot;&quot;;\r\n\t\t}\r\n\t\taddY += 13;\r\n\r\n\t\t// Wordwrap the comments section\r\n\t\tString[] commentsArray = comments.split(&quot; &quot;);\r\n\t\tfor(int i = 0; i &lt; commentsArray.length;){\r\n\t\t\tString toAdd = &quot;&quot;;\r\n\t\t\tif((addY - check) == 26)\r\n\t\t\t\ttoAdd += &quot;Comments: &quot;;\r\n\t\t\t// Only allow a max of 45 characters per line.\r\n\t\t\twhile(toAdd.length() &lt;= 45 &amp;&amp; i &lt; commentsArray.length){\r\n\t\t\t\ttoAdd += commentsArray[i] + &quot; &quot;;\r\n\t\t\t\ti++;\r\n\t\t\t}\r\n\r\n\t\t\tg.drawString(toAdd, x, p1Height + addY);\r\n\t\t\t// Add 13 pixels to Y to create a new line.\r\n\t\t\taddY += 13;\r\n\t\t\ttoAdd = &quot;&quot;;\r\n\t\t}\r\n\r\n\t\t// right Panel\r\n\t\tg.drawString(&quot;Policy #: &quot; + polNum, width / 2, p1Height);\r\n\t\tg.drawString(&quot;Control #: &quot; + contNum, width / 2, p1Height + 20);\r\n\t\tg.drawString(&quot;First Name: &quot; + fName, width / 2, p1Height + 40);\r\n\r\n\t\t/* tell the caller that this page is part of the printed document */\r\n\t\treturn PAGE_EXISTS;\r\n\t}\r\n\r\n\t/**\r\n\t * @param type\r\n\t *            the type to set\r\n\t */\r\n\tpublic void setType(String type) {\r\n\t\tthis.type = type;\r\n\t}\r\n\r\n\t/**\r\n\t * @return the type\r\n\t */\r\n\tpublic String getType() {\r\n\t\treturn type;\r\n\t}\r\n\r\n\t/**\r\n\t * @param polNum\r\n\t *            the polNum to set\r\n\t */\r\n\tpublic void setPolNum(String polNum) {\r\n\t\tthis.polNum = polNum;\r\n\t}\r\n\r\n\t/**\r\n\t * @return the polNum\r\n\t */\r\n\tpublic String getPolNum() {\r\n\t\treturn polNum;\r\n\t}\r\n\r\n\t/**\r\n\t * @param contNum\r\n\t *            the contNum to set\r\n\t */\r\n\tpublic void setContNum(String contNum) {\r\n\t\tthis.contNum = contNum;\r\n\t}\r\n\r\n\t/**\r\n\t * @return the contNum\r\n\t */\r\n\tpublic String getContNum() {\r\n\t\treturn contNum;\r\n\t}\r\n\r\n\t/**\r\n\t * @param fName\r\n\t *            the fName to set\r\n\t */\r\n\tpublic void setfName(String fName) {\r\n\t\tthis.fName = fName;\r\n\t}\r\n\r\n\t/**\r\n\t * @return the fName\r\n\t */\r\n\tpublic String getfName() {\r\n\t\treturn fName;\r\n\t}\r\n\r\n\t/**\r\n\t * @param lName\r\n\t *            the lName to set\r\n\t */\r\n\tpublic void setlName(String lName) {\r\n\t\tthis.lName = lName;\r\n\t}\r\n\r\n\t/**\r\n\t * @return the lName\r\n\t */\r\n\tpublic String getlName() {\r\n\t\treturn lName;\r\n\t}\r\n\r\n\t/**\r\n\t * @param comments\r\n\t *            the comments to set\r\n\t */\r\n\tpublic void setComments(String comments) {\r\n\t\tthis.comments = comments;\r\n\t}\r\n\r\n\t/**\r\n\t * @return the comments\r\n\t */\r\n\tpublic String getComments() {\r\n\t\treturn comments;\r\n\t}\r\n\r\n\t/**\r\n\t * @param desc2\r\n\t *            the desc2 to set\r\n\t */\r\n\tpublic void setDesc2(String desc2) {\r\n\t\tthis.desc2 = desc2;\r\n\t}\r\n\r\n\t/**\r\n\t * @return the desc2\r\n\t */\r\n\tpublic String getDesc2() {\r\n\t\treturn desc2;\r\n\t}\r\n\r\n\t/**\r\n\t * @param desc3\r\n\t *            the desc3 to set\r\n\t */\r\n\tpublic void setDesc3(String desc3) {\r\n\t\tthis.desc3 = desc3;\r\n\t}\r\n\r\n\t/**\r\n\t * @return the desc3\r\n\t */\r\n\tpublic String getDesc3() {\r\n\t\treturn desc3;\r\n\t}\r\n\r\n\t/**\r\n\t * @param desc4\r\n\t *            the desc4 to set\r\n\t */\r\n\tpublic void setDesc4(String desc4) {\r\n\t\tthis.desc4 = desc4;\r\n\t}\r\n\r\n\t/**\r\n\t * @return the desc4\r\n\t */\r\n\tpublic String getDesc4() {\r\n\t\treturn desc4;\r\n\t}\r\n\r\n\t/**\r\n\t * @param path1\r\n\t *            the path1 to set\r\n\t */\r\n\tpublic void setPath1(String path1) {\r\n\t\tthis.path1 = path1;\r\n\t}\r\n\r\n\t/**\r\n\t * @return the path1\r\n\t */\r\n\tpublic String getPath1() {\r\n\t\treturn path1;\r\n\t}\r\n\r\n\t/**\r\n\t * @param path2\r\n\t *            the path2 to set\r\n\t */\r\n\tpublic void setPath2(String path2) {\r\n\t\tthis.path2 = path2;\r\n\t}\r\n\r\n\t/**\r\n\t * @return the path2\r\n\t */\r\n\tpublic String getPath2() {\r\n\t\treturn path2;\r\n\t}\r\n\r\n\t/**\r\n\t * @param path3\r\n\t *            the path3 to set\r\n\t */\r\n\tpublic void setPath3(String path3) {\r\n\t\tthis.path3 = path3;\r\n\t}\r\n\r\n\t/**\r\n\t * @return the path3\r\n\t */\r\n\tpublic String getPath3() {\r\n\t\treturn path3;\r\n\t}\r\n\r\n\t/**\r\n\t * @param path4\r\n\t *            the path4 to set\r\n\t */\r\n\tpublic void setPath4(String path4) {\r\n\t\tthis.path4 = path4;\r\n\t}\r\n\r\n\t/**\r\n\t * @return the path4\r\n\t */\r\n\tpublic String getPath4() {\r\n\t\treturn path4;\r\n\t}\r\n\r\n\t/**\r\n\t * @param desc1\r\n\t *            the desc1 to set\r\n\t */\r\n\tpublic void setDesc1(String desc1) {\r\n\t\tthis.desc1 = desc1;\r\n\t}\r\n\r\n\t/**\r\n\t * @return the desc1\r\n\t */\r\n\tpublic String getDesc1() {\r\n\t\treturn desc1;\r\n\t}\r\n}","title":"Heap Overflow Issue when implementing and using the Printable interface","body":"<p>So I've written the class below, and it works, but we are getting some heap overflow problems when using this. The images are limited to 5 mb each. Anyone have an idea on how to solve overflowing the heap when generating the printout? </p>\n\n<pre><code>import java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Image;\nimport java.awt.print.PageFormat;\nimport java.awt.print.Printable;\nimport java.awt.print.PrinterException;\nimport java.awt.print.PrinterJob;\nimport java.io.File;\nimport java.io.IOException;\n\nimport javax.imageio.ImageIO;\n\npublic class GeneratePrintout implements Printable {\n\npublic static void main(String... args) {\n    GeneratePrintout print = new GeneratePrintout(\"Path to image\", \"Description\");\n    // print.setPath2(\"C:\\\\images\\\\house.jpeg\");\n    print.setDesc1(\"\");\n    print.setDesc2(\"A random house from the net\");\n    // print.setPath3(\"C:\\\\images\\\\biltmore.jpg\");\n    print.setDesc3(\"The Biltmore Again...\");\n    // print.setPath4(\"C:\\\\images\\\\house.jpeg\");\n    print.setDesc4(\"The random house again.\");\n    print.setType(\"JPG\");\n    print.setComments(\"These are pictures of two houses and this text is really long because I am trying to wrap the words, and I really hope this works correctly!\");\n    print.setPolNum(\"123456789\");\n    print.setContNum(\"2564585\");\n    print.setfName(\"John\");\n    print.startPrint(print);\n}\n\nprivate String type;\nprivate String polNum;\nprivate String contNum;\nprivate String fName;\nprivate String lName;\nprivate String comments;\nprivate String path1;\nprivate String path2;\nprivate String path3;\nprivate String path4;\nprivate String desc1;\nprivate String desc2;\nprivate String desc3;\nprivate String desc4;\n\n/**\n * Default Constructor.\n */\npublic GeneratePrintout() {\n    this.setType(\"\");\n    this.setPolNum(\"\");\n    this.setContNum(\"\");\n    this.setfName(\"\");\n    this.setlName(\"\");\n    this.setComments(\"\");\n    this.setPath1(\"\");\n    this.setPath2(\"\");\n    this.setPath3(\"\");\n    this.setPath4(\"\");\n    this.setDesc1(\"\");\n    this.setDesc2(\"\");\n    this.setDesc3(\"\");\n    this.setDesc4(\"\");\n}\n\n/**\n * Constructor.\n * \n * @param path1\n *            The file path for the first image.\n * @param lName\n *            String last name or business name.\n */\npublic GeneratePrintout(String path1, String lName) {\n    this.setPath1(path1);\n    this.setlName(lName);\n    this.setPath2(\"\");\n    this.setPath3(\"\");\n    this.setPath4(\"\");\n    this.setPolNum(\"\");\n    this.setContNum(\"\");\n    this.setfName(\"\");\n    this.setComments(\"\");\n    this.setDesc1(\"\");\n    this.setDesc2(\"\");\n    this.setDesc3(\"\");\n    this.setDesc4(\"\");\n}\n\n/**\n * Constructor.\n * \n * @param type\n *            image file type\n * @param polNum\n *            Policy Number\n * @param contNum\n *            Control Number.\n * @param fName\n *            First Name\n * @param lName\n *            Last Name\n * @param comments\n *            Comments\n * @param path1\n *            File path to image 1\n * @param path2\n *            File path to image 2\n * @param path3\n *            File path to image 3\n * @param path4\n *            File path to image 4\n * @param desc1\n *            Description for image 1\n * @param desc2\n *            Description for image 2\n * @param desc3\n *            Description for image 3\n * @param desc4\n *            Description for image 4\n */\npublic GeneratePrintout(String type, String polNum, String contNum,\n        String fName, String lName, String comments, String path1, String path2,\n        String path3, String path4, String desc1, String desc2, String desc3,\n        String desc4) {\n    this.setType(type);\n    this.setPolNum(polNum);\n    this.setContNum(contNum);\n    this.setfName(fName);\n    this.setlName(lName);\n    this.setComments(comments);\n    this.setPath1(path1);\n    this.setPath2(path2);\n    this.setPath3(path3);\n    this.setPath4(path4);\n    this.setDesc1(desc1);\n    this.setDesc2(desc2);\n    this.setDesc3(desc3);\n    this.setDesc4(desc4);\n\n}\n\n/**\n * This method is used to start the printing process. The print dialog box\n * pops up where the user can set printer settings and then select print or\n * cancel.\n * \n * @param printOut\n *            GeneratedPrintout object which contains the locations of the\n *            images.\n */\npublic void startPrint(GeneratePrintout printOut) {\n    PrinterJob job = PrinterJob.getPrinterJob();\n    job.setPrintable(printOut);\n    // This pops up the print dialog box, this is not necessary.\n\n    boolean doPrint = job.printDialog();\n\n    if(doPrint){\n        try{\n            job.print();\n        }catch(PrinterException e){\n            /* The job did not successfully complete */\n        }\n    }\n}\n\n@Override\npublic int print(Graphics g, PageFormat pf, int page) throws PrinterException {\n    /* We have only one page, and 'page' is zero-based */\n    if(page &gt; 0){\n        return NO_SUCH_PAGE;\n    }\n    // Find the printable area of the printer.\n    /*\n     * (0,0) is typically outside the imageable area, so we must translate\n     * by the X and Y values in the PageFormat to avoid clipping\n     */\n    Graphics2D g2d = (Graphics2D) g;\n    g2d.translate(pf.getImageableX(), pf.getImageableY());\n    // Get default width, height, x and y values of the page.\n    int width = (int) pf.getImageableWidth();\n    int height = (int) pf.getImageableHeight();\n    int x = (int) pf.getImageableX();\n    int y = (int) pf.getImageableY();\n\n    Image img1 = null;\n    Image img2 = null;\n    Image img3 = null;\n    Image img4 = null;\n\n    // Try to create the images from the specified filepaths. Image 1 throws\n    // a NullPointerException if not found because it is required.\n    try{\n        if(!\"\".equals(path1)){\n            File src1 = new File(path1);\n            img1 = ImageIO.read(src1);\n        }else{\n            throw new NullPointerException(\"File path 1 is required.\");\n        }\n        if(!\"\".equals(path2)){\n            File src2 = new File(path2);\n            img2 = ImageIO.read(src2);\n        }\n        if(!\"\".equals(path3)){\n            File src3 = new File(path3);\n            img3 = ImageIO.read(src3);\n        }\n        if(!\"\".equals(path4)){\n            File src4 = new File(path4);\n            img4 = ImageIO.read(src4);\n        }\n    }catch(IOException e){\n        e.printStackTrace();\n    }\n\n    /* Now we perform our rendering */\n    // Note: Image 1 must exist before image 2, and image 2 must exist\n    // before image 3 and so on.\n    // Image 1 and its description.\n    if(img1 != null){\n        img1 = img1.getScaledInstance(width / 2, height / 4, 0);\n        g.drawImage(img1, x, y, null);\n        g.drawString(desc1, x, y + img1.getHeight(null) + 10);\n    }\n    // Image 2 and its description.\n    if(img1 != null &amp;&amp; img2 != null){\n        img2 = img2.getScaledInstance(width / 2, height / 4, 0);\n        g.drawImage(img2, x + img1.getWidth(null) + 10, y, null);\n        g.drawString(desc2, x + (width / 2) + 10, y + img2.getHeight(null) + 10);\n    }\n    // Image 3 and its description.\n    if(img1 != null &amp;&amp; img2 != null &amp;&amp; img3 != null){\n        img3 = img3.getScaledInstance(width / 2, height / 4, 0);\n        g.drawImage(img3, x, y + img1.getHeight(null) + 20, null);\n        g.drawString(desc3, x, y + img1.getHeight(null) + img3.getHeight(null)\n                + 30);\n\n    }\n    // Image 4 and its description.\n    if(img1 != null &amp;&amp; img2 != null &amp;&amp; img3 != null &amp;&amp; img4 != null){\n        img4 = img4.getScaledInstance(width / 2, height / 4, 0);\n        g.drawImage(img4, x + img3.getWidth(null) + 10, y + img2.getHeight(null)\n                + 20, null);\n        g.drawString(desc4, x + (width / 2) + 10, y + img1.getHeight(null)\n                + img3.getHeight(null) + 30);\n    }\n    // This is used to draw the text at the bottom.\n    int p1Height = height;\n\n    if(img1 != null){\n        p1Height = y + img1.getHeight(null) + 50;\n    }\n    if(img3 != null){\n        p1Height = y + img1.getHeight(null) + img3.getHeight(null) + 50;\n    }\n\n    // Left panel\n    g.drawString(\"Image Type: \" + type, x, p1Height);\n\n    //Wordwrap business name.\n    String[] busArray = lName.split(\" \");\n    int addY = 20;\n    int check = 0;\n    for(int i = 0; i &lt; busArray.length;){\n        String toAdd = \"\";\n        if(addY == 20)\n            toAdd +=\"Last or Business Name: \";\n        //Only allow a max of 45 characters per line.\n        while(toAdd.length() &lt;= 45 &amp;&amp; i &lt; busArray.length){\n            toAdd += busArray[i] + \" \";\n            i++;\n        }\n        g.drawString(toAdd, x, p1Height + addY);\n        check = addY;\n        addY += 13;\n        toAdd = \"\";\n    }\n    addY += 13;\n\n    // Wordwrap the comments section\n    String[] commentsArray = comments.split(\" \");\n    for(int i = 0; i &lt; commentsArray.length;){\n        String toAdd = \"\";\n        if((addY - check) == 26)\n            toAdd += \"Comments: \";\n        // Only allow a max of 45 characters per line.\n        while(toAdd.length() &lt;= 45 &amp;&amp; i &lt; commentsArray.length){\n            toAdd += commentsArray[i] + \" \";\n            i++;\n        }\n\n        g.drawString(toAdd, x, p1Height + addY);\n        // Add 13 pixels to Y to create a new line.\n        addY += 13;\n        toAdd = \"\";\n    }\n\n    // right Panel\n    g.drawString(\"Policy #: \" + polNum, width / 2, p1Height);\n    g.drawString(\"Control #: \" + contNum, width / 2, p1Height + 20);\n    g.drawString(\"First Name: \" + fName, width / 2, p1Height + 40);\n\n    /* tell the caller that this page is part of the printed document */\n    return PAGE_EXISTS;\n}\n\n/**\n * @param type\n *            the type to set\n */\npublic void setType(String type) {\n    this.type = type;\n}\n\n/**\n * @return the type\n */\npublic String getType() {\n    return type;\n}\n\n/**\n * @param polNum\n *            the polNum to set\n */\npublic void setPolNum(String polNum) {\n    this.polNum = polNum;\n}\n\n/**\n * @return the polNum\n */\npublic String getPolNum() {\n    return polNum;\n}\n\n/**\n * @param contNum\n *            the contNum to set\n */\npublic void setContNum(String contNum) {\n    this.contNum = contNum;\n}\n\n/**\n * @return the contNum\n */\npublic String getContNum() {\n    return contNum;\n}\n\n/**\n * @param fName\n *            the fName to set\n */\npublic void setfName(String fName) {\n    this.fName = fName;\n}\n\n/**\n * @return the fName\n */\npublic String getfName() {\n    return fName;\n}\n\n/**\n * @param lName\n *            the lName to set\n */\npublic void setlName(String lName) {\n    this.lName = lName;\n}\n\n/**\n * @return the lName\n */\npublic String getlName() {\n    return lName;\n}\n\n/**\n * @param comments\n *            the comments to set\n */\npublic void setComments(String comments) {\n    this.comments = comments;\n}\n\n/**\n * @return the comments\n */\npublic String getComments() {\n    return comments;\n}\n\n/**\n * @param desc2\n *            the desc2 to set\n */\npublic void setDesc2(String desc2) {\n    this.desc2 = desc2;\n}\n\n/**\n * @return the desc2\n */\npublic String getDesc2() {\n    return desc2;\n}\n\n/**\n * @param desc3\n *            the desc3 to set\n */\npublic void setDesc3(String desc3) {\n    this.desc3 = desc3;\n}\n\n/**\n * @return the desc3\n */\npublic String getDesc3() {\n    return desc3;\n}\n\n/**\n * @param desc4\n *            the desc4 to set\n */\npublic void setDesc4(String desc4) {\n    this.desc4 = desc4;\n}\n\n/**\n * @return the desc4\n */\npublic String getDesc4() {\n    return desc4;\n}\n\n/**\n * @param path1\n *            the path1 to set\n */\npublic void setPath1(String path1) {\n    this.path1 = path1;\n}\n\n/**\n * @return the path1\n */\npublic String getPath1() {\n    return path1;\n}\n\n/**\n * @param path2\n *            the path2 to set\n */\npublic void setPath2(String path2) {\n    this.path2 = path2;\n}\n\n/**\n * @return the path2\n */\npublic String getPath2() {\n    return path2;\n}\n\n/**\n * @param path3\n *            the path3 to set\n */\npublic void setPath3(String path3) {\n    this.path3 = path3;\n}\n\n/**\n * @return the path3\n */\npublic String getPath3() {\n    return path3;\n}\n\n/**\n * @param path4\n *            the path4 to set\n */\npublic void setPath4(String path4) {\n    this.path4 = path4;\n}\n\n/**\n * @return the path4\n */\npublic String getPath4() {\n    return path4;\n}\n\n/**\n * @param desc1\n *            the desc1 to set\n */\npublic void setDesc1(String desc1) {\n    this.desc1 = desc1;\n}\n\n/**\n * @return the desc1\n */\npublic String getDesc1() {\n    return desc1;\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","heap-memory","overflow","inputstream"],"comments":[{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1429159764,"post_id":29665401,"comment_id":47470125,"body_markdown":"There is no such thing as a &quot;heap overflow&quot; and you don&#39;t appear to be retaining any objects in memory so you shouldn&#39;t be using too much heap.  It is more likely you are not reading the error message correctly.  Can you post it here so wre can see what it is .  Can you include which line it occurs on.","body":"There is no such thing as a &quot;heap overflow&quot; and you don&#39;t appear to be retaining any objects in memory so you shouldn&#39;t be using too much heap.  It is more likely you are not reading the error message correctly.  Can you post it here so wre can see what it is .  Can you include which line it occurs on."},{"owner":{"account_id":3751023,"reputation":167,"user_id":3118524,"accept_rate":62,"display_name":"botch"},"score":0,"creation_date":1429160048,"post_id":29665401,"comment_id":47470216,"body_markdown":"I actually don&#39;t have any error messages, but when my code was condensed, I got the heap notifcation. rather, If I put some sort of print command in the second FOR chunk, it gets stuck indefinitely at the 18th line, where I was previously getting the heap message. Ill see if I cant recreate the message though, one moment.","body":"I actually don&#39;t have any error messages, but when my code was condensed, I got the heap notifcation. rather, If I put some sort of print command in the second FOR chunk, it gets stuck indefinitely at the 18th line, where I was previously getting the heap message. Ill see if I cant recreate the message though, one moment."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1429160116,"post_id":29665401,"comment_id":47470240,"body_markdown":"@user3118524 Is that the `in = new In(synsets);` line after `in.close()`?","body":"@user3118524 Is that the <code>in = new In(synsets);</code> line after <code>in.close()</code>?"},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1429160170,"post_id":29665401,"comment_id":47470261,"body_markdown":"You should be able to read your error messages or writing your program will be very hard as you will be forced to guess what is wrong.  You should also be able to debug your program as this is the quickest way to find errors.","body":"You should be able to read your error messages or writing your program will be very hard as you will be forced to guess what is wrong.  You should also be able to debug your program as this is the quickest way to find errors."},{"owner":{"account_id":3751023,"reputation":167,"user_id":3118524,"accept_rate":62,"display_name":"botch"},"score":0,"creation_date":1429161014,"post_id":29665401,"comment_id":47470524,"body_markdown":"Hahaha i can interpret error messages just fine, I&#39;m literally not getting any when I compile and run this, it just gets &quot;stuck&quot; after line 17. It looks like its processing something, but my machine isn&#39;t slowed down at all. \n\nI don&#39;t think its the re-defining of &quot;in&quot;, as the program did the same thing when I had all the code in one chunk. Im trying to recreate the heap overload message now. I never realized how hard it could be to force an error message.","body":"Hahaha i can interpret error messages just fine, I&#39;m literally not getting any when I compile and run this, it just gets &quot;stuck&quot; after line 17. It looks like its processing something, but my machine isn&#39;t slowed down at all.   I don&#39;t think its the re-defining of &quot;in&quot;, as the program did the same thing when I had all the code in one chunk. Im trying to recreate the heap overload message now. I never realized how hard it could be to force an error message."},{"owner":{"account_id":3751023,"reputation":167,"user_id":3118524,"accept_rate":62,"display_name":"botch"},"score":0,"creation_date":1429162253,"post_id":29665401,"comment_id":47470964,"body_markdown":"It seems I cant edit my previous comment, but I didn&#39;t mean to sound patronizing, Peter. I agree with you totally, and I can assume that you deal with more than your share of people who don&#39;t bother to read error messages, and so I can absolutely understand where you are coming from. Just wanted to let you know that I am thankful that you are at least looking into my plight, and that you are willing to offer advice at all. Thanks again :)","body":"It seems I cant edit my previous comment, but I didn&#39;t mean to sound patronizing, Peter. I agree with you totally, and I can assume that you deal with more than your share of people who don&#39;t bother to read error messages, and so I can absolutely understand where you are coming from. Just wanted to let you know that I am thankful that you are at least looking into my plight, and that you are willing to offer advice at all. Thanks again :)"}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1429159672,"creation_date":1429159672,"answer_id":29665543,"question_id":29665401,"body_markdown":"Change all of your `for` test conditions\r\n\r\n    next!=&#39;,&#39;\r\n\r\nto\r\n\r\n    next != &#39;,&#39; &amp;&amp; i &lt; str.length()\r\n\r\nexcept your last one,\r\n\r\n    for (;next!=&#39;,&#39;&amp;&amp;next!=&#39; &#39;;next=str.charAt(++i))\r\n\r\nwhich should be\r\n\r\n    for (;next!=&#39;,&#39;&amp;&amp;next!=&#39; &#39;&amp;&amp;i+1&lt;str.length();next=str.charAt(++i))\r\n\r\nNext, I would try to [`String.split(String regex)`](http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#split%28java.lang.String%29)\r\n\r\n    String[] words = str.split(&quot;,\\\\s+);\r\n\r\nand you could get the word count with `words.length`. To get a line count, increment a counter when you call `readLine()` like\r\n\r\n    in = new In(synsets);\r\n    // for ( str=in.readLine();str!=null;str=in.readLine() )\r\n    while ((str = in.readLine()) != null) {\r\n        linecount++;\r\n        String[] words = str.split(&quot;,\\\\s+);\r\n        nouncount += words.length;\r\n    }","title":"Heap Overload JVM","body":"<p>Change all of your <code>for</code> test conditions</p>\n\n<pre><code>next!=','\n</code></pre>\n\n<p>to</p>\n\n<pre><code>next != ',' &amp;&amp; i &lt; str.length()\n</code></pre>\n\n<p>except your last one,</p>\n\n<pre><code>for (;next!=','&amp;&amp;next!=' ';next=str.charAt(++i))\n</code></pre>\n\n<p>which should be</p>\n\n<pre><code>for (;next!=','&amp;&amp;next!=' '&amp;&amp;i+1&lt;str.length();next=str.charAt(++i))\n</code></pre>\n\n<p>Next, I would try to <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#split%28java.lang.String%29\" rel=\"nofollow\"><code>String.split(String regex)</code></a></p>\n\n<pre><code>String[] words = str.split(\",\\\\s+);\n</code></pre>\n\n<p>and you could get the word count with <code>words.length</code>. To get a line count, increment a counter when you call <code>readLine()</code> like</p>\n\n<pre><code>in = new In(synsets);\n// for ( str=in.readLine();str!=null;str=in.readLine() )\nwhile ((str = in.readLine()) != null) {\n    linecount++;\n    String[] words = str.split(\",\\\\s+);\n    nouncount += words.length;\n}\n</code></pre>\n"}],"owner":{"account_id":3751023,"reputation":167,"user_id":3118524,"accept_rate":62,"display_name":"botch"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":620,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639251296,"creation_date":1429158928,"question_id":29665401,"body_markdown":"EDIT***: As it stands right now, I have a program that is getting caught in an infinite loop somehow, but im not sure what is causing it. My program reads in data from a text file and essentially &quot;saws off&quot; the first section of data on each line until the first occurrence of a &#39;,&#39; character, and then reads each subsequent string (terminated by a &#39; &#39; in the general case) until the next &#39;,&#39; (special case, indicating that the following data is also junk). From there, it skips down to the next line and repeats. My program was working fine a few weeks ago but I tinkered with it and now it is officially broken. Below this edit are some of the other errors I ran into (that I may still need to address) but at the moment, I am being killed by this loop somewhere. I admittedly have a knack for screwing myself with nested FOR loops, and for using funky iterators and updates, but this one I just can&#39;t crack. Here is the code, with some explanation. This entire snippet is just thrown into the constructor for some arbitrary class taking a string &quot;synsets&quot; and an instance is being created in my main. The rest I have commented as best possible:\r\n\r\n        In in = new In(synsets); // Custom input stream class, courtesy \r\n        // of Princeton U\r\n        Out fout = new Out(&quot;log.txt&quot;); // ostream analogue\r\n        \r\n        int linecount=0; // Marker used to keep track of line # in input file\r\n        int nouncount=0; // Marker for keeping track of the number of \r\n        // &quot;important&quot; data items\r\n\r\n        // Data comes in the format: \r\n        // &quot;junk,important important important,junk\r\n        // junk,important,junk\r\n        // junk,important important,junk&quot; etc.\r\n        \r\n        {\r\n            int i=0;\r\n            for ( String str=in.readLine();str!=null;str=in.readLine() )\r\n            {\r\n                i=0; // reset iterator for a new line\r\n                for ( char next=str.charAt(i); next!=&#39;,&#39;;next=str.charAt(i) )\r\n                    i++; // This FOR loop cuts out the junk at the start of \r\n                         // a line\r\n                i++; // increment to after first comma\r\n                for ( char next=str.charAt(i);next!=&#39;,&#39;;next=str.charAt(i))\r\n                {\r\n                    for (; next!=&#39;,&#39; &amp;&amp; next!=&#39; &#39; ;next=str.charAt(i))\r\n                    {\r\n                        i++;\r\n                        fout.print(next);\r\n                        // count the &quot;nouns&quot; (important data) on a line\r\n                    }\r\n                    nouncount++; \r\n                    // count the last noun on line, and subsequently fall \r\n                    // through loops to skip the rest of the junk at the \r\n                    // current line\r\n                    fout.print(&#39;\\n&#39;);\r\n                }\r\n                    \r\n            }\r\n            fout.print(nouncount);\r\n            in.close();\r\nMy output file is fine, until line 18 of the input, at which point it just begins print new line characters (like its caught on the loop which appends them but cant fall through to the next loop). Here are the input lines in question. It reads 24-karat_gold just fine, but isn&#39;t making it to pure_gold for some reason. Any thoughts? Thanks yall!\r\n\r\n&quot;17,24-karat_gold pure_gold,100 per cent gold  \r\n18,24/7,uptime is 24 hours a day 7 days a week&quot;\r\n\r\nEDIT*: I was coding a program to read in some data from a text file and got a new (to me) error message that I had run out of heap space. I tried tinkering to fix the bug, but only succeeded in getting rid of the error message. The text file I was reading from is about 90K lines, but my program threw the message at line 18. My tinkering did reveal some things, particularly, that my program was at least able to do SOME processing on the file as a whole, and that the issue may have involved some data corruption. The reason I deduced this was because of an array index I was using &quot;j&quot; which was firing off an IndexOutOfBoundsException. The problem, j only scaled by 1 each time it was incremented, and somehow, it was (is) going out of bounds over 150,000 higher than the array&#39;s bounds. Thus, it is my assumption that &quot;j&quot; is somehow being filled with data (possibly because the stack is overwriting into the heap?) which has nothing to do with &quot;j&quot; or the array in question. Below is my original post, though I was admittedly pretty tired, so it may not make a whole lot of sense. THANKS YALL! :)\r\n\r\nEDIT**: I did a check of nouncount, and it is 399850, so I wasn&#39;t experiencing data corruption, as I had suspected. One of my loops is just executing ad infinitum. I&#39;ll try to figure out which one and post back if I can correct the problem. I&#39;ll at least be back to clean up this post a bit for anyone in need in the future.\r\n\r\nIm writing a program that reads in a text file and it has to do some counting (the data in the file is divided up in a very syntactic way) but my code isn&#39;t able to get very far. While the file is pretty substantial (around 90K lines) my code is only getting through 17 before I get heap overflow. \r\n\r\nSome background, the &quot;In&quot; class is just a specialized input stream, and what is actually killing me is not the first FOR loop, where I count the lines (the code executes this portion just fine, reading in every line individually, each once). Rather, it is the second part, but I don&#39;t understand, because I am not using any additional heap space (I thought?) in that portion. I previously had the blocks together, doing the major functions together on a line-by-line basis, but again, the program would stop at line 17. I tried allocating up to a GB of heap space in Dr Java, but to no avail. Is there any section in the lower half in which I could set aside additional heap space?\r\n\r\n            In in = new In(synsets);\r\n        \r\n        StringBuilder nounData = new StringBuilder();\r\n        int linecount=0;\r\n        int nouncount=0;\r\n        \r\n        {\r\n            String str;\r\n            int i=0;\r\n            char next=&#39;\\0&#39;;\r\n            for ( str=in.readLine();str!=null;str=in.readLine() )\r\n            {\r\n                linecount++;\r\n            }\r\n            in.close();\r\n\r\n            in = new In(synsets);\r\n            for ( str=in.readLine();str!=null;str=in.readLine() )\r\n            {\r\n                i=0;\r\n    // The first portion of each line is &quot;trash&quot; until the first comma\r\n                for ( next=str.charAt(i) ; next!=&#39;,&#39; ; next=str.charAt(++i) ){}\r\n                i++;\r\n\r\n    // This actually reads/processes the data until the next comma, then\r\n    // jumps to the next line. &quot;What&quot; i need done is really secondary, I \r\n    // just need to figure out what is eating so much space so I can \r\n    // trim it\r\n                for ( next=str.charAt(i);next!=&#39;,&#39;;next=str.charAt(i))\r\n                    for (;next!=&#39;,&#39;&amp;&amp;next!=&#39; &#39;;next=str.charAt(++i))\r\n                    nouncount++;\r\n            }\r\n        }\r\n\r\nHere is the updated code, wherein I tried to recreate the Heap message from Dr Java. While I couldnt do that, I did get an interesting error message (at line 18 of course) about an array out of bounds. Still stumped though, as I dont see how the variable in question could be more than 17 at the time it gets hit.\r\n\r\nHere is the code:\r\n\r\n    In in = new In(synsets);\r\n        \r\n        StringBuilder nounData = new StringBuilder();\r\n        int linecount=0;\r\n        int nouncount=0;\r\n        \r\n        {\r\n            int i=0;\r\n            for ( String str=in.readLine();str!=null;str=in.readLine() )\r\n            {\r\n                i=0;\r\n                for ( char next=str.charAt(i);next!=&#39;,&#39;;next=str.charAt(i))\r\n                    for (;next!=&#39;,&#39;&amp;&amp;next!=&#39; &#39;;next=str.charAt(++i))\r\n                    nouncount++;\r\n            }\r\n            in.close();\r\n            in=new In(synsets);\r\n            \r\n            String[] nouns = new String[nouncount];\r\n            int j=0;\r\n            for ( String str=in.readLine();str!=null;str=in.readLine() )\r\n            {\r\n                linecount++;\r\n                i=0;\r\n                for ( char next=str.charAt(i) ; next!=&#39;,&#39; ; next=str.charAt(++i) ){}\r\n                i++;\r\n                for ( char next=str.charAt(i);next!=&#39;,&#39;;next=str.charAt(i))\r\n                {\r\n                    for (;next!=&#39;,&#39;&amp;&amp;next!=&#39; &#39;;next=str.charAt(++i))\r\n                        nounData.append(next);\r\n                    nouns[j++]=nounData.toString();\r\n                    nounData.delete(0,nounData.capacity()-1);\r\n                }\r\n                System.out.println(&quot;Current line count is: &quot; + linecount);\r\n            }\r\n        }\r\n        in.close();\r\n        System.out.println(&quot;line count = &quot;+linecount);\r\n        System.out.println(&quot;noun count = &quot;+nouncount);\r\n        String[] nouns = new String[nouncount];\r\n\r\nand here is the error message:\r\n\r\n    Current line count is: 1\r\n    Current line count is: 2\r\n    Current line count is: 3\r\n    Current line count is: 4\r\n    Current line count is: 5\r\n    Current line count is: 6\r\n    Current line count is: 7\r\n    Current line count is: 8\r\n    Current line count is: 9\r\n    Current line count is: 10\r\n    Current line count is: 11\r\n    Current line count is: 12\r\n    Current line count is: 13\r\n    Current line count is: 14\r\n    Current line count is: 15\r\n    Current line count is: 16\r\n    Current line count is: 17\r\n    java.lang.ArrayIndexOutOfBoundsException: 399850\r\n    \tat WordNet.&lt;init&gt;(WordNet.java:39)\r\n    \tat WordNet.main(WordNet.java:212)\r\n\r\nFor the record, line &quot;39&quot; in my code is:\r\n\r\n    nouns[j++]=nounData.toString();\r\n\r\nCharacter count in the file up until line 18 is 917, at line 19 it is 966, so i dont think I misplaced that line.\r\n\r\nEDIT: Furthermore, I did a test, and there are only about 147K &quot;nouns&quot; in the file, so my guess is that &quot;j&quot; is being corrupted somehow, seeing as how it must have had to have &quot;jumped&quot; from something between 0 and 147K to 399K+. Unfortunately, its past my bedtime, so I shan&#39;t be able to continue updating tonight but feel free to post any ideas, Ill be checking via email tomorrow morning :) Thanks everyone!","title":"Heap Overload JVM","body":"<p>EDIT***: As it stands right now, I have a program that is getting caught in an infinite loop somehow, but im not sure what is causing it. My program reads in data from a text file and essentially \"saws off\" the first section of data on each line until the first occurrence of a ',' character, and then reads each subsequent string (terminated by a ' ' in the general case) until the next ',' (special case, indicating that the following data is also junk). From there, it skips down to the next line and repeats. My program was working fine a few weeks ago but I tinkered with it and now it is officially broken. Below this edit are some of the other errors I ran into (that I may still need to address) but at the moment, I am being killed by this loop somewhere. I admittedly have a knack for screwing myself with nested FOR loops, and for using funky iterators and updates, but this one I just can't crack. Here is the code, with some explanation. This entire snippet is just thrown into the constructor for some arbitrary class taking a string \"synsets\" and an instance is being created in my main. The rest I have commented as best possible:</p>\n\n<pre><code>    In in = new In(synsets); // Custom input stream class, courtesy \n    // of Princeton U\n    Out fout = new Out(\"log.txt\"); // ostream analogue\n\n    int linecount=0; // Marker used to keep track of line # in input file\n    int nouncount=0; // Marker for keeping track of the number of \n    // \"important\" data items\n\n    // Data comes in the format: \n    // \"junk,important important important,junk\n    // junk,important,junk\n    // junk,important important,junk\" etc.\n\n    {\n        int i=0;\n        for ( String str=in.readLine();str!=null;str=in.readLine() )\n        {\n            i=0; // reset iterator for a new line\n            for ( char next=str.charAt(i); next!=',';next=str.charAt(i) )\n                i++; // This FOR loop cuts out the junk at the start of \n                     // a line\n            i++; // increment to after first comma\n            for ( char next=str.charAt(i);next!=',';next=str.charAt(i))\n            {\n                for (; next!=',' &amp;&amp; next!=' ' ;next=str.charAt(i))\n                {\n                    i++;\n                    fout.print(next);\n                    // count the \"nouns\" (important data) on a line\n                }\n                nouncount++; \n                // count the last noun on line, and subsequently fall \n                // through loops to skip the rest of the junk at the \n                // current line\n                fout.print('\\n');\n            }\n\n        }\n        fout.print(nouncount);\n        in.close();\n</code></pre>\n\n<p>My output file is fine, until line 18 of the input, at which point it just begins print new line characters (like its caught on the loop which appends them but cant fall through to the next loop). Here are the input lines in question. It reads 24-karat_gold just fine, but isn't making it to pure_gold for some reason. Any thoughts? Thanks yall!</p>\n\n<p>\"17,24-karat_gold pure_gold,100 per cent gold<br>\n18,24/7,uptime is 24 hours a day 7 days a week\"</p>\n\n<p>EDIT*: I was coding a program to read in some data from a text file and got a new (to me) error message that I had run out of heap space. I tried tinkering to fix the bug, but only succeeded in getting rid of the error message. The text file I was reading from is about 90K lines, but my program threw the message at line 18. My tinkering did reveal some things, particularly, that my program was at least able to do SOME processing on the file as a whole, and that the issue may have involved some data corruption. The reason I deduced this was because of an array index I was using \"j\" which was firing off an IndexOutOfBoundsException. The problem, j only scaled by 1 each time it was incremented, and somehow, it was (is) going out of bounds over 150,000 higher than the array's bounds. Thus, it is my assumption that \"j\" is somehow being filled with data (possibly because the stack is overwriting into the heap?) which has nothing to do with \"j\" or the array in question. Below is my original post, though I was admittedly pretty tired, so it may not make a whole lot of sense. THANKS YALL! :)</p>\n\n<p>EDIT**: I did a check of nouncount, and it is 399850, so I wasn't experiencing data corruption, as I had suspected. One of my loops is just executing ad infinitum. I'll try to figure out which one and post back if I can correct the problem. I'll at least be back to clean up this post a bit for anyone in need in the future.</p>\n\n<p>Im writing a program that reads in a text file and it has to do some counting (the data in the file is divided up in a very syntactic way) but my code isn't able to get very far. While the file is pretty substantial (around 90K lines) my code is only getting through 17 before I get heap overflow. </p>\n\n<p>Some background, the \"In\" class is just a specialized input stream, and what is actually killing me is not the first FOR loop, where I count the lines (the code executes this portion just fine, reading in every line individually, each once). Rather, it is the second part, but I don't understand, because I am not using any additional heap space (I thought?) in that portion. I previously had the blocks together, doing the major functions together on a line-by-line basis, but again, the program would stop at line 17. I tried allocating up to a GB of heap space in Dr Java, but to no avail. Is there any section in the lower half in which I could set aside additional heap space?</p>\n\n<pre><code>        In in = new In(synsets);\n\n    StringBuilder nounData = new StringBuilder();\n    int linecount=0;\n    int nouncount=0;\n\n    {\n        String str;\n        int i=0;\n        char next='\\0';\n        for ( str=in.readLine();str!=null;str=in.readLine() )\n        {\n            linecount++;\n        }\n        in.close();\n\n        in = new In(synsets);\n        for ( str=in.readLine();str!=null;str=in.readLine() )\n        {\n            i=0;\n// The first portion of each line is \"trash\" until the first comma\n            for ( next=str.charAt(i) ; next!=',' ; next=str.charAt(++i) ){}\n            i++;\n\n// This actually reads/processes the data until the next comma, then\n// jumps to the next line. \"What\" i need done is really secondary, I \n// just need to figure out what is eating so much space so I can \n// trim it\n            for ( next=str.charAt(i);next!=',';next=str.charAt(i))\n                for (;next!=','&amp;&amp;next!=' ';next=str.charAt(++i))\n                nouncount++;\n        }\n    }\n</code></pre>\n\n<p>Here is the updated code, wherein I tried to recreate the Heap message from Dr Java. While I couldnt do that, I did get an interesting error message (at line 18 of course) about an array out of bounds. Still stumped though, as I dont see how the variable in question could be more than 17 at the time it gets hit.</p>\n\n<p>Here is the code:</p>\n\n<pre><code>In in = new In(synsets);\n\n    StringBuilder nounData = new StringBuilder();\n    int linecount=0;\n    int nouncount=0;\n\n    {\n        int i=0;\n        for ( String str=in.readLine();str!=null;str=in.readLine() )\n        {\n            i=0;\n            for ( char next=str.charAt(i);next!=',';next=str.charAt(i))\n                for (;next!=','&amp;&amp;next!=' ';next=str.charAt(++i))\n                nouncount++;\n        }\n        in.close();\n        in=new In(synsets);\n\n        String[] nouns = new String[nouncount];\n        int j=0;\n        for ( String str=in.readLine();str!=null;str=in.readLine() )\n        {\n            linecount++;\n            i=0;\n            for ( char next=str.charAt(i) ; next!=',' ; next=str.charAt(++i) ){}\n            i++;\n            for ( char next=str.charAt(i);next!=',';next=str.charAt(i))\n            {\n                for (;next!=','&amp;&amp;next!=' ';next=str.charAt(++i))\n                    nounData.append(next);\n                nouns[j++]=nounData.toString();\n                nounData.delete(0,nounData.capacity()-1);\n            }\n            System.out.println(\"Current line count is: \" + linecount);\n        }\n    }\n    in.close();\n    System.out.println(\"line count = \"+linecount);\n    System.out.println(\"noun count = \"+nouncount);\n    String[] nouns = new String[nouncount];\n</code></pre>\n\n<p>and here is the error message:</p>\n\n<pre><code>Current line count is: 1\nCurrent line count is: 2\nCurrent line count is: 3\nCurrent line count is: 4\nCurrent line count is: 5\nCurrent line count is: 6\nCurrent line count is: 7\nCurrent line count is: 8\nCurrent line count is: 9\nCurrent line count is: 10\nCurrent line count is: 11\nCurrent line count is: 12\nCurrent line count is: 13\nCurrent line count is: 14\nCurrent line count is: 15\nCurrent line count is: 16\nCurrent line count is: 17\njava.lang.ArrayIndexOutOfBoundsException: 399850\n    at WordNet.&lt;init&gt;(WordNet.java:39)\n    at WordNet.main(WordNet.java:212)\n</code></pre>\n\n<p>For the record, line \"39\" in my code is:</p>\n\n<pre><code>nouns[j++]=nounData.toString();\n</code></pre>\n\n<p>Character count in the file up until line 18 is 917, at line 19 it is 966, so i dont think I misplaced that line.</p>\n\n<p>EDIT: Furthermore, I did a test, and there are only about 147K \"nouns\" in the file, so my guess is that \"j\" is being corrupted somehow, seeing as how it must have had to have \"jumped\" from something between 0 and 147K to 399K+. Unfortunately, its past my bedtime, so I shan't be able to continue updating tonight but feel free to post any ideas, Ill be checking via email tomorrow morning :) Thanks everyone!</p>\n"},{"tags":["java","android","android-studio","android-emulator"],"answers":[{"tags":[],"owner":{"account_id":17782422,"reputation":357,"user_id":12913325,"display_name":"Jay_Panchal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639250789,"creation_date":1639250789,"answer_id":70318328,"question_id":70317105,"body_markdown":"It might be because of random issue you can wipe the data from the AVD manager and relaunch your application in it. Hope it works fine.","title":"Why my android studio emulator is not working?","body":"<p>It might be because of random issue you can wipe the data from the AVD manager and relaunch your application in it. Hope it works fine.</p>\n"},{"tags":[],"owner":{"account_id":6962023,"reputation":164,"user_id":5341154,"display_name":"Ali Salehi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639251233,"creation_date":1639251233,"answer_id":70318387,"question_id":70317105,"body_markdown":"it&#39;s happening because of several reasons, try to clean project and Rebuild project! then restart Android studio , sometimes it helps","title":"Why my android studio emulator is not working?","body":"<p>it's happening because of several reasons, try to clean project and Rebuild project! then restart Android studio , sometimes it helps</p>\n"}],"owner":{"account_id":21629335,"reputation":1,"user_id":15953165,"display_name":"Tal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1639251233,"creation_date":1639241579,"question_id":70317105,"body_markdown":"[I am trying to run my app on an android studio emulator, it says that it lunch successfully but it does not work anda small window like the image pops][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BUKmy.jpg","title":"Why my android studio emulator is not working?","body":"<p><a href=\"https://i.stack.imgur.com/BUKmy.jpg\" rel=\"nofollow noreferrer\">I am trying to run my app on an android studio emulator, it says that it lunch successfully but it does not work anda small window like the image pops</a></p>\n"},{"tags":["java","sorting","data-structures","heap-memory","ram"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":1,"creation_date":1434915636,"post_id":30968525,"comment_id":49968640,"body_markdown":"Review [this](http://stackoverflow.com/questions/2457514/understanding-max-jvm-heap-size-32bit-vs-64bit) regarding maximum heap size.","body":"Review <a href=\"http://stackoverflow.com/questions/2457514/understanding-max-jvm-heap-size-32bit-vs-64bit\">this</a> regarding maximum heap size."},{"owner":{"account_id":22848,"reputation":131588,"user_id":56778,"accept_rate":93,"display_name":"Jim Mischel"},"score":0,"creation_date":1435067462,"post_id":30968525,"comment_id":50036760,"body_markdown":"possible duplicate of [How do I sort very large files](http://stackoverflow.com/questions/7918060/how-do-i-sort-very-large-files)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/7918060/how-do-i-sort-very-large-files\">How do I sort very large files</a>"}],"answers":[{"tags":[],"owner":{"account_id":3044819,"reputation":8098,"user_id":2580791,"accept_rate":82,"display_name":"Mike Laren"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1435085664,"creation_date":1435024823,"answer_id":30992682,"question_id":30968525,"body_markdown":"You can definitely sort more than 3GB of data in a 32-bits system.\r\n\r\nThe trick is to choose a sort algorithm that doesn&#39;t need to allocate the entire array in memory at the same time. One way to achieve this is by using something like Bucket Sort, External Merge sort, or a divide-and-conquer sort algorithm that doesn&#39;t require loading the whole data set in memory at once.\r\n\r\nIn general, divide-and-conquer algorithms work by splitting the original data (say that you have 40 GB of data) into smaller segments (e.g. 1 GB each), sort each segment individually and then merge these segments until the data is completely sorted.  \r\n\r\nCheck [this post][2] for a links to similar sort algorithms.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Bucket_sort\r\n  [2]: https://stackoverflow.com/questions/7918060/how-do-i-sort-very-large-files","title":"Is it possible to sort 3 GB of java on 32 bit system using JAVA","body":"<p>You can definitely sort more than 3GB of data in a 32-bits system.</p>\n\n<p>The trick is to choose a sort algorithm that doesn't need to allocate the entire array in memory at the same time. One way to achieve this is by using something like Bucket Sort, External Merge sort, or a divide-and-conquer sort algorithm that doesn't require loading the whole data set in memory at once.</p>\n\n<p>In general, divide-and-conquer algorithms work by splitting the original data (say that you have 40 GB of data) into smaller segments (e.g. 1 GB each), sort each segment individually and then merge these segments until the data is completely sorted.  </p>\n\n<p>Check <a href=\"https://stackoverflow.com/questions/7918060/how-do-i-sort-very-large-files\">this post</a> for a links to similar sort algorithms.</p>\n"}],"owner":{"account_id":4434750,"reputation":1949,"user_id":3610891,"accept_rate":62,"display_name":"Onki"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":30992682,"answer_count":1,"score":0,"last_activity_date":1639251222,"creation_date":1434915223,"question_id":30968525,"body_markdown":"I have been learning few basic memory related concepts.\r\n\r\nLet&#39;s say if I have more then 3 GB data to sort, then is it possible to sort it on 32 bit system or 32 bit JVM. \r\n\r\nThis Heap has to completely reside in RAM or it can reside in hard disk as well?\r\n","title":"Is it possible to sort 3 GB of java on 32 bit system using JAVA","body":"<p>I have been learning few basic memory related concepts.</p>\n\n<p>Let's say if I have more then 3 GB data to sort, then is it possible to sort it on 32 bit system or 32 bit JVM. </p>\n\n<p>This Heap has to completely reside in RAM or it can reside in hard disk as well?</p>\n"},{"tags":["java","apache-poi","heap-memory"],"comments":[{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":3,"creation_date":1542951653,"post_id":53441059,"comment_id":93755280,"body_markdown":"Have you tried increasing the heap size with the `-Xmx&lt;size&gt;` option?","body":"Have you tried increasing the heap size with the <code>-Xmx&lt;size&gt;</code> option?"},{"owner":{"account_id":3977767,"reputation":22190,"user_id":3280538,"accept_rate":74,"display_name":"flakes"},"score":0,"creation_date":1542952244,"post_id":53441059,"comment_id":93755424,"body_markdown":"If you have an active application you can run `WMIC path win32_process get Caption,Processid,Commandline` in `cmd` to dump out all active processes and their program arguments. Should be able to see what the `Xmx` memory size is then","body":"If you have an active application you can run <code>WMIC path win32_process get Caption,Processid,Commandline</code> in <code>cmd</code> to dump out all active processes and their program arguments. Should be able to see what the <code>Xmx</code> memory size is then"},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1542952293,"post_id":53441059,"comment_id":93755434,"body_markdown":"Are you running it with 64 bit version of Java? What is `java -version` output?","body":"Are you running it with 64 bit version of Java? What is <code>java -version</code> output?"},{"owner":{"account_id":2605940,"reputation":683,"user_id":2257112,"display_name":"Geoff "},"score":0,"creation_date":1543097706,"post_id":53441059,"comment_id":93797011,"body_markdown":"@talex .. indeed! The Win10 box in question has 32bit Java installed.","body":"@talex .. indeed! The Win10 box in question has 32bit Java installed."},{"owner":{"account_id":2605940,"reputation":683,"user_id":2257112,"display_name":"Geoff "},"score":0,"creation_date":1543097723,"post_id":53441059,"comment_id":93797018,"body_markdown":"and @Henry, increasing the size of the heap does  not solve the issue .. had to install 64bit Java. ...","body":"and @Henry, increasing the size of the heap does  not solve the issue .. had to install 64bit Java. ..."},{"owner":{"account_id":2605940,"reputation":683,"user_id":2257112,"display_name":"Geoff "},"score":0,"creation_date":1543097734,"post_id":53441059,"comment_id":93797022,"body_markdown":"@flakes .. didn&#39;t get to your suggestion, but thanks :)","body":"@flakes .. didn&#39;t get to your suggestion, but thanks :)"}],"owner":{"account_id":2605940,"reputation":683,"user_id":2257112,"display_name":"Geoff "},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":680,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1543136966,"answer_count":0,"score":0,"last_activity_date":1639251119,"creation_date":1542950843,"question_id":53441059,"body_markdown":"There is a desktop application that uses apache.poi to interate a 50,000 line XLSX file and following validation write it to a database for reporting purposes.\r\n\r\nThe application is finalized as all required functionality works. Developed on a box under OpenSuse 43.3, KDE, 4 x i5-2500CPUs, 16gig RAM. Packaging it out to a jar file sees it run without issue on laptop under same linux and Win 10. However, running it on the development box under Win 10 causes the following error when running the validation method on the file.\r\n\r\n    Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.OutOfMemoryError: Java heap space\r\n            at org.apache.xmlbeans.impl.store.Cur$CurLoadContext.attr(Cur.java:3044)\r\n            at org.apache.xmlbeans.impl.store.Locale.loadNode(Locale.java:1440)\r\n            at org.apache.xmlbeans.impl.store.Locale.loadNodeChildren(Locale.java:1403)\r\n            at org.apache.xmlbeans.impl.store.Locale.loadNode(Locale.java:1445)\r\n            at org.apache.xmlbeans.impl.store.Locale.loadNodeChildren(Locale.java:1403)\r\n            at org.apache.xmlbeans.impl.store.Locale.loadNode(Locale.java:1445)\r\n            at org.apache.xmlbeans.impl.store.Locale.loadNodeChildren(Locale.java:1403)\r\n            at org.apache.xmlbeans.impl.store.Locale.loadNode(Locale.java:1445)\r\n            at org.apache.xmlbeans.impl.store.Locale.parseToXmlObject(Locale.java:1385)\r\n            at org.apache.xmlbeans.impl.store.Locale.parseToXmlObject(Locale.java:1370)\r\n            at org.apache.xmlbeans.impl.schema.SchemaTypeLoaderBase.parse(SchemaTypeLoaderBase.java:370)\r\n            at org.apache.poi.POIXMLTypeLoader.parse(POIXMLTypeLoader.java:164)\r\n            at org.openxmlformats.schemas.spreadsheetml.x2006.main.WorksheetDocument$Factory.parse(Unknown Source)\r\n            at org.apache.poi.xssf.usermodel.XSSFSheet.read(XSSFSheet.java:226)\r\n            at org.apache.poi.xssf.usermodel.XSSFSheet.onDocumentRead(XSSFSheet.java:218)\r\n            at org.apache.poi.xssf.usermodel.XSSFWorkbook.parseSheet(XSSFWorkbook.java:443)\r\n            at org.apache.poi.xssf.usermodel.XSSFWorkbook.onDocumentRead(XSSFWorkbook.java:408)\r\n            at org.apache.poi.POIXMLDocument.load(POIXMLDocument.java:169)\r\n            at org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:300)\r\n            at com.zimpics.eds.app_wa01a.VDate.readFile(VDate.java:97)\r\n            at com.zimpics.eds.app_wa01a.VDate.validate(VDate.java:122)\r\n            at com.zimpics.eds.app_wa01a.GUI.Application.validateFile(Application.java:507)\r\n            at com.zimpics.eds.app_wa01a.GUI.Application.access$600(Application.java:43)\r\n            at com.zimpics.eds.app_wa01a.GUI.Application$5.actionPerformed(Application.java:425)\r\n            at javax.swing.AbstractButton.fireActionPerformed(Unknown Source)\r\n            at javax.swing.AbstractButton$Handler.actionPerformed(Unknown Source)\r\n            at javax.swing.DefaultButtonModel.fireActionPerformed(Unknown Source)\r\n            at javax.swing.DefaultButtonModel.setPressed(Unknown Source)\r\n            at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(Unknown Source)\r\n            at java.awt.Component.processMouseEvent(Unknown Source)\r\n            at javax.swing.JComponent.processMouseEvent(Unknown Source)\r\n            at java.awt.Component.processEvent(Unknown Source)\r\n\r\nI have no idea how to address this issue. Can somebody point me in the right direction please?","title":"OutOfMemoryError: Java heap space under Win10","body":"<p>There is a desktop application that uses apache.poi to interate a 50,000 line XLSX file and following validation write it to a database for reporting purposes.</p>\n\n<p>The application is finalized as all required functionality works. Developed on a box under OpenSuse 43.3, KDE, 4 x i5-2500CPUs, 16gig RAM. Packaging it out to a jar file sees it run without issue on laptop under same linux and Win 10. However, running it on the development box under Win 10 causes the following error when running the validation method on the file.</p>\n\n<pre><code>Exception in thread \"AWT-EventQueue-0\" java.lang.OutOfMemoryError: Java heap space\n        at org.apache.xmlbeans.impl.store.Cur$CurLoadContext.attr(Cur.java:3044)\n        at org.apache.xmlbeans.impl.store.Locale.loadNode(Locale.java:1440)\n        at org.apache.xmlbeans.impl.store.Locale.loadNodeChildren(Locale.java:1403)\n        at org.apache.xmlbeans.impl.store.Locale.loadNode(Locale.java:1445)\n        at org.apache.xmlbeans.impl.store.Locale.loadNodeChildren(Locale.java:1403)\n        at org.apache.xmlbeans.impl.store.Locale.loadNode(Locale.java:1445)\n        at org.apache.xmlbeans.impl.store.Locale.loadNodeChildren(Locale.java:1403)\n        at org.apache.xmlbeans.impl.store.Locale.loadNode(Locale.java:1445)\n        at org.apache.xmlbeans.impl.store.Locale.parseToXmlObject(Locale.java:1385)\n        at org.apache.xmlbeans.impl.store.Locale.parseToXmlObject(Locale.java:1370)\n        at org.apache.xmlbeans.impl.schema.SchemaTypeLoaderBase.parse(SchemaTypeLoaderBase.java:370)\n        at org.apache.poi.POIXMLTypeLoader.parse(POIXMLTypeLoader.java:164)\n        at org.openxmlformats.schemas.spreadsheetml.x2006.main.WorksheetDocument$Factory.parse(Unknown Source)\n        at org.apache.poi.xssf.usermodel.XSSFSheet.read(XSSFSheet.java:226)\n        at org.apache.poi.xssf.usermodel.XSSFSheet.onDocumentRead(XSSFSheet.java:218)\n        at org.apache.poi.xssf.usermodel.XSSFWorkbook.parseSheet(XSSFWorkbook.java:443)\n        at org.apache.poi.xssf.usermodel.XSSFWorkbook.onDocumentRead(XSSFWorkbook.java:408)\n        at org.apache.poi.POIXMLDocument.load(POIXMLDocument.java:169)\n        at org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:300)\n        at com.zimpics.eds.app_wa01a.VDate.readFile(VDate.java:97)\n        at com.zimpics.eds.app_wa01a.VDate.validate(VDate.java:122)\n        at com.zimpics.eds.app_wa01a.GUI.Application.validateFile(Application.java:507)\n        at com.zimpics.eds.app_wa01a.GUI.Application.access$600(Application.java:43)\n        at com.zimpics.eds.app_wa01a.GUI.Application$5.actionPerformed(Application.java:425)\n        at javax.swing.AbstractButton.fireActionPerformed(Unknown Source)\n        at javax.swing.AbstractButton$Handler.actionPerformed(Unknown Source)\n        at javax.swing.DefaultButtonModel.fireActionPerformed(Unknown Source)\n        at javax.swing.DefaultButtonModel.setPressed(Unknown Source)\n        at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(Unknown Source)\n        at java.awt.Component.processMouseEvent(Unknown Source)\n        at javax.swing.JComponent.processMouseEvent(Unknown Source)\n        at java.awt.Component.processEvent(Unknown Source)\n</code></pre>\n\n<p>I have no idea how to address this issue. Can somebody point me in the right direction please?</p>\n"},{"tags":["java","server","apache-poi","heap-memory"],"comments":[{"owner":{"account_id":2203408,"reputation":5012,"user_id":1947216,"display_name":"mentallurg"},"score":0,"creation_date":1580598856,"post_id":60021652,"comment_id":106151284,"body_markdown":"How much memory is your application / server using?","body":"How much memory is your application / server using?"},{"owner":{"account_id":16932584,"reputation":41,"user_id":12246437,"display_name":"Gamal Hassan"},"score":0,"creation_date":1580599333,"post_id":60021652,"comment_id":106151373,"body_markdown":"The server has RAM of 1024 MB","body":"The server has RAM of 1024 MB"},{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1580656507,"post_id":60021652,"comment_id":106160695,"body_markdown":"Can you link/upload the excel file having problem? And have you tried to read other excel file (same error exist)?","body":"Can you link/upload the excel file having problem? And have you tried to read other excel file (same error exist)?"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1580723373,"post_id":60021652,"comment_id":106177331,"body_markdown":"Excelsheets can consume a lot of memory when read with POI. You may want to try reading from `File` directly, instead of using an `InputStream`, if that doesn&#39;t work, you will need to look at streaming the excelsheet instead of reading it entirely into memory.","body":"Excelsheets can consume a lot of memory when read with POI. You may want to try reading from <code>File</code> directly, instead of using an <code>InputStream</code>, if that doesn&#39;t work, you will need to look at streaming the excelsheet instead of reading it entirely into memory."}],"answers":[{"tags":[],"owner":{"account_id":2203408,"reputation":5012,"user_id":1947216,"display_name":"mentallurg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580680337,"creation_date":1580599918,"answer_id":60022021,"question_id":60021652,"body_markdown":"It is not important how much memory server has. Important is, how much memory you give your application (how much memory you allow your application to use). Try following command:\r\n```\r\njava -Xmx256M -jar your.jar\r\n```\r\nIt means you allow the application to use 256 MB RAM. If it is not sufficient, use greater value.\r\n\r\n**Update**\r\n\r\nBased on stack trace, processing of a regular expression takes much memory. POI uses regular expressions extensively, e.g. to process cell references. May be your Excel sheet contains a formula with a cell reference that causes POI to consume much memory to process this regular expression. Check the formulas in your Excel sheet.\r\n","title":"Apache POI WorkbookFactory.create causes java.lang.OutOfMemoryError: Java heap space","body":"<p>It is not important how much memory server has. Important is, how much memory you give your application (how much memory you allow your application to use). Try following command:</p>\n\n<pre><code>java -Xmx256M -jar your.jar\n</code></pre>\n\n<p>It means you allow the application to use 256 MB RAM. If it is not sufficient, use greater value.</p>\n\n<p><strong>Update</strong></p>\n\n<p>Based on stack trace, processing of a regular expression takes much memory. POI uses regular expressions extensively, e.g. to process cell references. May be your Excel sheet contains a formula with a cell reference that causes POI to consume much memory to process this regular expression. Check the formulas in your Excel sheet.</p>\n"}],"owner":{"account_id":16932584,"reputation":41,"user_id":12246437,"display_name":"Gamal Hassan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2647,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1580723382,"answer_count":1,"score":1,"last_activity_date":1639251099,"creation_date":1580596527,"question_id":60021652,"body_markdown":"Im trying to launch my .jar File on my Server from Vultr.com but every time I launch it an Error comes up. \r\n\r\n    \r\n        String excelFolder = Main.class.getProtectionDomain().getCodeSource().getLocation().getPath().replace(&quot;heroesBot.jar&quot;, &quot;&quot;);\r\n        DataFormatter dataFormatter = new DataFormatter();\r\n\r\n\r\n        try(InputStream inputStream = new FileInputStream(excelFolder + &quot;Summon.xlsx&quot;)) {\r\n\r\n\r\n            Workbook wb = WorkbookFactory.create(inputStream);\r\n            Sheet sheet = wb.getSheetAt(0);\r\n            wb.close();\r\n\r\nThe Line where I create the Workbook always causes the Error. Anything I can do about it?\r\n\r\nThe file size is 96KB\r\n\r\nHere is the Error:\r\n\r\n    java.io.IOException: Java heap space\r\n        at org.apache.poi.ss.usermodel.WorkbookFactory.createWorkbook(WorkbookFactory.java:353)\r\n        at org.apache.poi.ss.usermodel.WorkbookFactory.createXSSFWorkbook(WorkbookFactory.java:316)\r\n        at org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:234)\r\n        at org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:200)\r\n        at heroes.Section.createKeys(Section.java:33)\r\n        at main.Main.main(Main.java:37)\r\n    Caused by: java.lang.OutOfMemoryError: Java heap space\r\n        at java.base/java.util.regex.Matcher.&lt;init&gt;(Matcher.java:248)\r\n        at java.base/java.util.regex.Pattern.matcher(Pattern.java:1133)\r\n        at org.apache.poi.ss.util.CellReference.separateRefParts(CellReference.java:396)\r\n        at org.apache.poi.ss.util.CellReference.&lt;init&gt;(CellReference.java:113)\r\n        at org.apache.poi.xssf.usermodel.XSSFCell.&lt;init&gt;(XSSFCell.java:119)\r\n        at org.apache.poi.xssf.usermodel.XSSFRow.&lt;init&gt;(XSSFRow.java:77)\r\n        at org.apache.poi.xssf.usermodel.XSSFSheet.initRows(XSSFSheet.java:268)\r\n        at org.apache.poi.xssf.usermodel.XSSFSheet.read(XSSFSheet.java:231)\r\n        at org.apache.poi.xssf.usermodel.XSSFSheet.onDocumentRead(XSSFSheet.java:218)\r\n        at org.apache.poi.xssf.usermodel.XSSFWorkbook.parseSheet(XSSFWorkbook.java:448)\r\n        at org.apache.poi.xssf.usermodel.XSSFWorkbook.onDocumentRead(XSSFWorkbook.java:413)\r\n        at org.apache.poi.ooxml.POIXMLDocument.load(POIXMLDocument.java:184)\r\n        at org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:282)\r\n        at org.apache.poi.xssf.usermodel.XSSFWorkbookFactory.createWorkbook(XSSFWorkbookFactory.java:88)","title":"Apache POI WorkbookFactory.create causes java.lang.OutOfMemoryError: Java heap space","body":"<p>Im trying to launch my .jar File on my Server from Vultr.com but every time I launch it an Error comes up. </p>\n\n<pre><code>    String excelFolder = Main.class.getProtectionDomain().getCodeSource().getLocation().getPath().replace(\"heroesBot.jar\", \"\");\n    DataFormatter dataFormatter = new DataFormatter();\n\n\n    try(InputStream inputStream = new FileInputStream(excelFolder + \"Summon.xlsx\")) {\n\n\n        Workbook wb = WorkbookFactory.create(inputStream);\n        Sheet sheet = wb.getSheetAt(0);\n        wb.close();\n</code></pre>\n\n<p>The Line where I create the Workbook always causes the Error. Anything I can do about it?</p>\n\n<p>The file size is 96KB</p>\n\n<p>Here is the Error:</p>\n\n<pre><code>java.io.IOException: Java heap space\n    at org.apache.poi.ss.usermodel.WorkbookFactory.createWorkbook(WorkbookFactory.java:353)\n    at org.apache.poi.ss.usermodel.WorkbookFactory.createXSSFWorkbook(WorkbookFactory.java:316)\n    at org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:234)\n    at org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:200)\n    at heroes.Section.createKeys(Section.java:33)\n    at main.Main.main(Main.java:37)\nCaused by: java.lang.OutOfMemoryError: Java heap space\n    at java.base/java.util.regex.Matcher.&lt;init&gt;(Matcher.java:248)\n    at java.base/java.util.regex.Pattern.matcher(Pattern.java:1133)\n    at org.apache.poi.ss.util.CellReference.separateRefParts(CellReference.java:396)\n    at org.apache.poi.ss.util.CellReference.&lt;init&gt;(CellReference.java:113)\n    at org.apache.poi.xssf.usermodel.XSSFCell.&lt;init&gt;(XSSFCell.java:119)\n    at org.apache.poi.xssf.usermodel.XSSFRow.&lt;init&gt;(XSSFRow.java:77)\n    at org.apache.poi.xssf.usermodel.XSSFSheet.initRows(XSSFSheet.java:268)\n    at org.apache.poi.xssf.usermodel.XSSFSheet.read(XSSFSheet.java:231)\n    at org.apache.poi.xssf.usermodel.XSSFSheet.onDocumentRead(XSSFSheet.java:218)\n    at org.apache.poi.xssf.usermodel.XSSFWorkbook.parseSheet(XSSFWorkbook.java:448)\n    at org.apache.poi.xssf.usermodel.XSSFWorkbook.onDocumentRead(XSSFWorkbook.java:413)\n    at org.apache.poi.ooxml.POIXMLDocument.load(POIXMLDocument.java:184)\n    at org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:282)\n    at org.apache.poi.xssf.usermodel.XSSFWorkbookFactory.createWorkbook(XSSFWorkbookFactory.java:88)\n</code></pre>\n"},{"tags":["java","server","heap-memory","minecraft","ram"],"comments":[{"owner":{"display_name":"user7655213"},"score":0,"creation_date":1591725573,"post_id":62288466,"comment_id":110163488,"body_markdown":"Have you checked the output of &quot;java -version&quot;, bc this sounds awfully like you are on a 32bit JVM to me.","body":"Have you checked the output of &quot;java -version&quot;, bc this sounds awfully like you are on a 32bit JVM to me."},{"owner":{"account_id":18576768,"reputation":13,"user_id":13537254,"display_name":"L. Larson"},"score":0,"creation_date":1591725908,"post_id":62288466,"comment_id":110163654,"body_markdown":"@Taschi The output I&#39;m getting is:\n```java version &quot;1.8.0_251&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_251-b08)```\n\nWhat does this mean?","body":"@Taschi The output I&#39;m getting is: <code>java version &quot;1.8.0_251&quot; Java(TM) SE Runtime Environment (build 1.8.0_251-b08)</code>  What does this mean?"},{"owner":{"display_name":"user7655213"},"score":0,"creation_date":1591790134,"post_id":62288466,"comment_id":110188409,"body_markdown":"A 64-bit JVM should tell you something akin to this:\n\n    java version &quot;9.0.1&quot;\n    Java(TM) SE Runtime Environment (build 9.0.1+11)\n    Java HotSpot(TM) 64-Bit Server VM (build 9.0.1+11, mixed mode)\n\nSo it seems like yours is 32 bits after all...\n\n(Also, it&#39;s a bit out of date, the most recent version is Java 14: https://adoptopenjdk.net/?variant=openjdk14&amp;jvmVariant=hotspot)","body":"A 64-bit JVM should tell you something akin to this:      java version &quot;9.0.1&quot;     Java(TM) SE Runtime Environment (build 9.0.1+11)     Java HotSpot(TM) 64-Bit Server VM (build 9.0.1+11, mixed mode)  So it seems like yours is 32 bits after all...  (Also, it&#39;s a bit out of date, the most recent version is Java 14: <a href=\"https://adoptopenjdk.net/?variant=openjdk14&amp;jvmVariant=hotspot\" rel=\"nofollow noreferrer\">adoptopenjdk.net/?variant=openjdk14&amp;jvmVariant=hotspot</a>)"}],"owner":{"account_id":18576768,"reputation":13,"user_id":13537254,"display_name":"L. Larson"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1854,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1639251083,"creation_date":1591723704,"question_id":62288466,"body_markdown":"While trying to create a personal Minecraft server, I&#39;m running into the error message below when running the .bat file. I&#39;m positive I have enough free RAM and almost positive I&#39;m running the most up to date version of 64-bit Java. Is there anything else that could be causing this?\r\n\r\n    Invalid maximum heap size: -Xmx8G\r\n    \r\n    The specified size exceeds the maximum representable size.\r\n    \r\n    Error: Could not create the Java Virtual Machine.\r\n    \r\n    Error: A fatal exception has occurred. Program will exit.","title":"Error message when running .bat file to start Minecraft server, invalid maximum heap/could not create Java Virtual Machine","body":"<p>While trying to create a personal Minecraft server, I'm running into the error message below when running the .bat file. I'm positive I have enough free RAM and almost positive I'm running the most up to date version of 64-bit Java. Is there anything else that could be causing this?</p>\n\n<pre><code>Invalid maximum heap size: -Xmx8G\n\nThe specified size exceeds the maximum representable size.\n\nError: Could not create the Java Virtual Machine.\n\nError: A fatal exception has occurred. Program will exit.\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":1281728,"reputation":73126,"user_id":1235698,"accept_rate":100,"display_name":"Marcin Orlowski"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1509020694,"creation_date":1401285790,"answer_id":23913848,"question_id":23913762,"body_markdown":"What you ask about is called [profiling][1], and there&#39;re tools to help you with that on Android as well. See article [Profiling with Traceview and dmtracedump][2] on official developer site.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Profiling_%28computer_programming%29\r\n  [2]: http://developer.android.com/tools/debugging/debugging-tracing.html","title":"Best method to measure execution time in Android?","body":"<p>What you ask about is called <a href=\"http://en.wikipedia.org/wiki/Profiling_%28computer_programming%29\" rel=\"nofollow noreferrer\">profiling</a>, and there're tools to help you with that on Android as well. See article <a href=\"http://developer.android.com/tools/debugging/debugging-tracing.html\" rel=\"nofollow noreferrer\">Profiling with Traceview and dmtracedump</a> on official developer site.</p>\n"},{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1401285919,"creation_date":1401285919,"answer_id":23913900,"question_id":23913762,"body_markdown":"&gt; What would be the best way to measure execution time\r\n\r\n`System.nanoTime()` is probably a good choice. Jake Wharton is using that with [Hugo][1], for example.\r\n\r\n&gt; and get good precision\r\n\r\nThis is not strictly possible, as anything can happen on the device while your method is executing. Those external factors will affect your time measurements, by stealing away CPU time, tying up I/O channels, etc. You need to average your tests across several runs to try to average out those external factors, and accuracy/precision will suffer as a result.\r\n\r\nAnd, as Marcin Orlowski notes, to actually figure out *why* you are consuming certain amounts of time, use Traceview.\r\n\r\n\r\n\r\n  [1]: https://github.com/JakeWharton/hugo","title":"Best method to measure execution time in Android?","body":"<blockquote>\n  <p>What would be the best way to measure execution time</p>\n</blockquote>\n\n<p><code>System.nanoTime()</code> is probably a good choice. Jake Wharton is using that with <a href=\"https://github.com/JakeWharton/hugo\" rel=\"noreferrer\">Hugo</a>, for example.</p>\n\n<blockquote>\n  <p>and get good precision</p>\n</blockquote>\n\n<p>This is not strictly possible, as anything can happen on the device while your method is executing. Those external factors will affect your time measurements, by stealing away CPU time, tying up I/O channels, etc. You need to average your tests across several runs to try to average out those external factors, and accuracy/precision will suffer as a result.</p>\n\n<p>And, as Marcin Orlowski notes, to actually figure out <em>why</em> you are consuming certain amounts of time, use Traceview.</p>\n"},{"tags":[],"owner":{"account_id":1433556,"reputation":5425,"user_id":1355410,"accept_rate":14,"display_name":"MikeL"},"down_vote_count":0,"up_vote_count":99,"is_accepted":false,"score":99,"last_activity_date":1535468308,"creation_date":1456144326,"answer_id":35553778,"question_id":23913762,"body_markdown":"What about **TimingLogger**?\r\n\r\nFrom [TimingLogger][1] documentation:\r\n\r\n    TimingLogger timings = new TimingLogger(YOUR_TAG, &quot;methodA&quot;);\r\n    // ... do some work A ... \r\n    timings.addSplit(&quot;work A&quot;);\r\n    // ... do some work B ... \r\n    timings.addSplit(&quot;work B&quot;);\r\n    // ... do some work C ... \r\n    timings.addSplit(&quot;work C&quot;);\r\n    timings.dumpToLog();\r\n\r\nand the dump will look like:\r\n\r\n         D/TAG     (3459): methodA: begin\r\n         D/TAG     (3459): methodA:      9 ms, work A\r\n         D/TAG     (3459): methodA:      1 ms, work B\r\n         D/TAG     (3459): methodA:      6 ms, work C\r\n         D/TAG     (3459): methodA: end, 16 ms\r\n\r\nDo not forget to enable your tag by running: `adb shell setprop log.tag.YOUR_TAG VERBOSE`\r\n\r\n  [1]: http://developer.android.com/reference/android/util/TimingLogger.html","title":"Best method to measure execution time in Android?","body":"<p>What about <strong>TimingLogger</strong>?</p>\n\n<p>From <a href=\"http://developer.android.com/reference/android/util/TimingLogger.html\" rel=\"noreferrer\">TimingLogger</a> documentation:</p>\n\n<pre><code>TimingLogger timings = new TimingLogger(YOUR_TAG, \"methodA\");\n// ... do some work A ... \ntimings.addSplit(\"work A\");\n// ... do some work B ... \ntimings.addSplit(\"work B\");\n// ... do some work C ... \ntimings.addSplit(\"work C\");\ntimings.dumpToLog();\n</code></pre>\n\n<p>and the dump will look like:</p>\n\n<pre><code>     D/TAG     (3459): methodA: begin\n     D/TAG     (3459): methodA:      9 ms, work A\n     D/TAG     (3459): methodA:      1 ms, work B\n     D/TAG     (3459): methodA:      6 ms, work C\n     D/TAG     (3459): methodA: end, 16 ms\n</code></pre>\n\n<p>Do not forget to enable your tag by running: <code>adb shell setprop log.tag.YOUR_TAG VERBOSE</code></p>\n"},{"tags":[],"owner":{"account_id":2599209,"reputation":42707,"user_id":2252113,"accept_rate":57,"display_name":"Hitesh Sahu"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1586872973,"creation_date":1586872973,"answer_id":61209577,"question_id":23913762,"body_markdown":"  I usually use  `System.nanoTime()` for quick Measurement. \r\n\r\nA simple Setup like this\r\n\r\n       val startTime =   System.nanoTime()\r\n               \r\n        //DO SOMETHING\r\n        \r\n       Log.e(&quot;Measure&quot;, TASK took : &quot; +  ((System.nanoTime()-startTime)/1000000)+ &quot;mS\\n&quot;)","title":"Best method to measure execution time in Android?","body":"<p>I usually use  <code>System.nanoTime()</code> for quick Measurement. </p>\n\n<p>A simple Setup like this</p>\n\n<pre><code>   val startTime =   System.nanoTime()\n\n    //DO SOMETHING\n\n   Log.e(\"Measure\", TASK took : \" +  ((System.nanoTime()-startTime)/1000000)+ \"mS\\n\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7459166,"reputation":8015,"user_id":7682257,"display_name":"Suraj Vaishnav"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1592839434,"creation_date":1592839434,"answer_id":62517890,"question_id":23913762,"body_markdown":"**Kotlin Developers**\r\n\r\nTo get the elapsed time in MilliSeconds:\r\n\r\n    val elapsedTime= measureTimeMillis {\r\n                // call you method from here or add any other statements\r\n    } \r\n\r\nTo get the time in NanoSeconds: \r\n\r\n    val elapsedTime= measureNanoTime {\r\n                // call you method from here or add any other statements\r\n    }","title":"Best method to measure execution time in Android?","body":"<p><strong>Kotlin Developers</strong></p>\n<p>To get the elapsed time in MilliSeconds:</p>\n<pre><code>val elapsedTime= measureTimeMillis {\n            // call you method from here or add any other statements\n} \n</code></pre>\n<p>To get the time in NanoSeconds:</p>\n<pre><code>val elapsedTime= measureNanoTime {\n            // call you method from here or add any other statements\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10697077,"reputation":1555,"user_id":7873768,"display_name":"MDT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632505801,"creation_date":1632505801,"answer_id":69319280,"question_id":23913762,"body_markdown":"Posting answer for folks developing android applications with ***Kotlin***; also this is the only answer that comes up in search as first main result for ***code performance of Kotlin in android***. \r\n\r\nA simple Kotlin answer is already present on this thread for measuring perf in ms and nanosec - \r\n*but my solution will help folks who want to log and execute function inline same time after execution completes, also is a cleaner approach when there is multiple performance measurement involved of different functions*\r\n\r\nCreate functions as such:\r\n\r\n    //the inline performance measurement method\r\n    private inline fun &lt;T&gt; measurePerformanceInMS(\r\n            logger: (Long) -&gt; Unit,\r\n            function: () -&gt; T)\r\n    : T {\r\n        val startTime = System.currentTimeMillis()\r\n        val result: T = function.invoke()\r\n        val endTime = System.currentTimeMillis()\r\n        logger.invoke( endTime - startTime)\r\n        return result\r\n    }\r\n    \r\n    //the logger function\r\n    fun logPerf(time: Long){\r\n        Log.d(&quot;TAG&quot;,&quot;PERFORMANCE IN MS: $time ms &quot;)\r\n    }\r\n    \r\n    //the function whose performance needs to be checked\r\n    fun longRunningFunction() : Int{\r\n        var x = 0\r\n        for (i in 1..20000) x++\r\n        return x\r\n    }\r\n\r\nThis way you can keep logging, performance computation and function execution under a single function call and no code replication needed.\r\n\r\nIf you require nano second measurement then use `System.nanoTime()`\r\n\r\n**USAGE** : \r\n\r\n    val endResult = measurePerformanceInMS({time -&gt; logPerf(time)}){\r\n                longRunningFunction()\r\n            }\r\n\r\n**NOTE** : here the *&#39;endResult&#39;* will carry the result of function whose performance was being measured.\r\n\r\n","title":"Best method to measure execution time in Android?","body":"<p>Posting answer for folks developing android applications with <em><strong>Kotlin</strong></em>; also this is the only answer that comes up in search as first main result for <em><strong>code performance of Kotlin in android</strong></em>.</p>\n<p>A simple Kotlin answer is already present on this thread for measuring perf in ms and nanosec -\n<em>but my solution will help folks who want to log and execute function inline same time after execution completes, also is a cleaner approach when there is multiple performance measurement involved of different functions</em></p>\n<p>Create functions as such:</p>\n<pre><code>//the inline performance measurement method\nprivate inline fun &lt;T&gt; measurePerformanceInMS(\n        logger: (Long) -&gt; Unit,\n        function: () -&gt; T)\n: T {\n    val startTime = System.currentTimeMillis()\n    val result: T = function.invoke()\n    val endTime = System.currentTimeMillis()\n    logger.invoke( endTime - startTime)\n    return result\n}\n\n//the logger function\nfun logPerf(time: Long){\n    Log.d(&quot;TAG&quot;,&quot;PERFORMANCE IN MS: $time ms &quot;)\n}\n\n//the function whose performance needs to be checked\nfun longRunningFunction() : Int{\n    var x = 0\n    for (i in 1..20000) x++\n    return x\n}\n</code></pre>\n<p>This way you can keep logging, performance computation and function execution under a single function call and no code replication needed.</p>\n<p>If you require nano second measurement then use <code>System.nanoTime()</code></p>\n<p><strong>USAGE</strong> :</p>\n<pre><code>val endResult = measurePerformanceInMS({time -&gt; logPerf(time)}){\n            longRunningFunction()\n        }\n</code></pre>\n<p><strong>NOTE</strong> : here the <em>'endResult'</em> will carry the result of function whose performance was being measured.</p>\n"},{"tags":[],"owner":{"account_id":2673198,"reputation":116,"user_id":2310109,"display_name":"vishal_ratna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639250805,"creation_date":1639250475,"answer_id":70318294,"question_id":23913762,"body_markdown":"Adding to the above answers there is a library called Snippet that could be used to measure the execution times. \r\nIt also takes care of logging and putting all the relevant execution on the logs. It also takes care of measuring non contiguous spans of code, that could span across multiple methods and even files. Below is how it deals with contiguous code. We can add splits within a measurement too.\r\n\r\n\r\n    @Override  \r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {  \r\n        // The capture API can be used to measure the code that can be passed as a lambda.  \r\n        // Adding this lambda captures the class, line, thread etc automatically into the logcat.\r\n        // This cannot be use for code that returns a value as the lambda declared for closure is \r\n        // is a non returning lambda. For the case that could return a value and are a little complex // use the log-token based API demonstrated below.  \r\n        \r\n        // Captures the code as a lambda.  \r\n        Snippet.capture(()-&gt; super.onCreate(savedInstanceState)); \r\n    }\r\nThe code will also become no-op in the release builds.\r\n\r\nTo configure it, just add the below code in the application onCreate() as early as possible.\r\n\r\n    if(BuildConfig.DEBUG) {             \r\n    \t    Snippet.install(new Snippet.MeasuredExecutionPath());      \r\n            Snippet.newFilter(&quot;SampleFilter&quot;);      \r\n            Snippet.addFlag(Snippet.FLAG_METADATA_LINE | Snippet.FLAG_METADATA_THREAD_INFO);      \r\n    } \r\n\r\n  https://github.com/microsoft/snippet-timekeeper","title":"Best method to measure execution time in Android?","body":"<p>Adding to the above answers there is a library called Snippet that could be used to measure the execution times.\nIt also takes care of logging and putting all the relevant execution on the logs. It also takes care of measuring non contiguous spans of code, that could span across multiple methods and even files. Below is how it deals with contiguous code. We can add splits within a measurement too.</p>\n<pre><code>@Override  \nprotected void onCreate(@Nullable Bundle savedInstanceState) {  \n    // The capture API can be used to measure the code that can be passed as a lambda.  \n    // Adding this lambda captures the class, line, thread etc automatically into the logcat.\n    // This cannot be use for code that returns a value as the lambda declared for closure is \n    // is a non returning lambda. For the case that could return a value and are a little complex // use the log-token based API demonstrated below.  \n    \n    // Captures the code as a lambda.  \n    Snippet.capture(()-&gt; super.onCreate(savedInstanceState)); \n}\n</code></pre>\n<p>The code will also become no-op in the release builds.</p>\n<p>To configure it, just add the below code in the application onCreate() as early as possible.</p>\n<pre><code>if(BuildConfig.DEBUG) {             \n        Snippet.install(new Snippet.MeasuredExecutionPath());      \n        Snippet.newFilter(&quot;SampleFilter&quot;);      \n        Snippet.addFlag(Snippet.FLAG_METADATA_LINE | Snippet.FLAG_METADATA_THREAD_INFO);      \n} \n</code></pre>\n<p><a href=\"https://github.com/microsoft/snippet-timekeeper\" rel=\"nofollow noreferrer\">https://github.com/microsoft/snippet-timekeeper</a></p>\n"}],"owner":{"account_id":3272373,"reputation":2347,"user_id":2755422,"accept_rate":64,"display_name":"22332112"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41988,"favorite_count":0,"down_vote_count":0,"up_vote_count":51,"answer_count":7,"score":51,"last_activity_date":1639250805,"creation_date":1401285574,"question_id":23913762,"body_markdown":"What is best method to measure execution time of Android code snippet?\r\n\r\nI have a section of code before and after which I want to place timestamps to find out it&#39;s execution time (e.g. one in `onCreate()` and another in `onDestroy()` method of activity).\r\n\r\nI have tried `Time.toMillies(false)`, but it only returns seconds to me (with constant `000` at the end). I also tried two java functions: `System.currentTimeMillis()` and `System.nanoTime()`.\r\nFirst one returns milliseconds of epoch time, second doesn&#39;t.\r\n\r\nWhat would be the best way to measure execution time and get good precision?","title":"Best method to measure execution time in Android?","body":"<p>What is best method to measure execution time of Android code snippet?</p>\n\n<p>I have a section of code before and after which I want to place timestamps to find out it's execution time (e.g. one in <code>onCreate()</code> and another in <code>onDestroy()</code> method of activity).</p>\n\n<p>I have tried <code>Time.toMillies(false)</code>, but it only returns seconds to me (with constant <code>000</code> at the end). I also tried two java functions: <code>System.currentTimeMillis()</code> and <code>System.nanoTime()</code>.\nFirst one returns milliseconds of epoch time, second doesn't.</p>\n\n<p>What would be the best way to measure execution time and get good precision?</p>\n"},{"tags":["java","maven","cucumber"],"answers":[{"tags":[],"owner":{"account_id":22978237,"reputation":486,"user_id":17105581,"display_name":"ferrouskid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639250046,"creation_date":1639067501,"answer_id":70293411,"question_id":70293328,"body_markdown":"Are you writing individual tests for each scenario? If you currently have everything in one big block in a single method, you could break it up into fine-grain, detailed tests, with each test addressing one specific aspect. This way, if something breaks, you can see exactly where it breaks and fix it right away! Additionally, you can run all tests in one go, and you will be able to see which tests fail and for what reason. If that isn&#39;t the case, please provide more info :D\r\n\r\nEDIT: The pom you have provided has multiple dependencies that might be clashing: \r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;5.7.0&lt;/version&gt;\r\n\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;RELEASE&lt;/version&gt;\r\n\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nCould you please provide the error message that results in running the tests? Maybe there could be some useful information that can help guide us further to the root cause. \r\n\r\nPlease also check out this answer: https://stackoverflow.com/a/63845288/17105581 \r\nHere the author of the answer explains that `cucumber-junit-platform-engine` might be needed. \r\n\r\nLet me know if this helps! :D\r\n","title":"When scenario fails in Java Cucumber, tests don&#39;t move to next scenario","body":"<p>Are you writing individual tests for each scenario? If you currently have everything in one big block in a single method, you could break it up into fine-grain, detailed tests, with each test addressing one specific aspect. This way, if something breaks, you can see exactly where it breaks and fix it right away! Additionally, you can run all tests in one go, and you will be able to see which tests fail and for what reason. If that isn't the case, please provide more info :D</p>\n<p>EDIT: The pom you have provided has multiple dependencies that might be clashing:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n    &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n    &lt;version&gt;${cucumber.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n    &lt;version&gt;5.7.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n    &lt;version&gt;RELEASE&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Could you please provide the error message that results in running the tests? Maybe there could be some useful information that can help guide us further to the root cause.</p>\n<p>Please also check out this answer: <a href=\"https://stackoverflow.com/a/63845288/17105581\">https://stackoverflow.com/a/63845288/17105581</a>\nHere the author of the answer explains that <code>cucumber-junit-platform-engine</code> might be needed.</p>\n<p>Let me know if this helps! :D</p>\n"}],"owner":{"account_id":1195896,"reputation":95,"user_id":1167642,"display_name":"user1167642"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":762,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1639250046,"creation_date":1639067140,"question_id":70293328,"body_markdown":"How can I continue running a feature on failure of 1 scenario to next?\r\n\r\nCurrently if two Scenarios fails out of 10 (lets say) next 8 will not execute.\r\n\r\nI am using Cucumber with Java, Junit, Maven on Windows 10.\r\n\r\n\r\n\r\nEdit: Here is my pom, hope it helps:\r\nCould you tell me which of dependencies should I update in your oppinion?\r\n    \r\n        &lt;properties&gt;\r\n    \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t\t&lt;cucumber.version&gt;6.8.0&lt;/cucumber.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.2.10.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.3.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;42.2.11&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${httpclient.version}&lt;/version&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;httpcore&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${httpcore.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.8.6&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- marshalling --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.18.20&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- Test deps --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.141.59&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;htmlunit-driver&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.51.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cucumber-spring&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.7.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-data-redis&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;redis.clients&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jedis&lt;/artifactId&gt;\r\n    \t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.11&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;RELEASE&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.4.7&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;argLine&gt;-Xmx2048m&lt;/argLine&gt;\r\n    \t\t\t\t\t&lt;includes&gt;\r\n    \t\t\t\t\t\t&lt;include&gt;CucumberE2ETest.java&lt;/include&gt;\r\n    \t\t\t\t\t&lt;/includes&gt;\r\n    \t\t\t\t\t&lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;","title":"When scenario fails in Java Cucumber, tests don&#39;t move to next scenario","body":"<p>How can I continue running a feature on failure of 1 scenario to next?</p>\n<p>Currently if two Scenarios fails out of 10 (lets say) next 8 will not execute.</p>\n<p>I am using Cucumber with Java, Junit, Maven on Windows 10.</p>\n<p>Edit: Here is my pom, hope it helps:\nCould you tell me which of dependencies should I update in your oppinion?</p>\n<pre><code>    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;cucumber.version&gt;6.8.0&lt;/cucumber.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n                    &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n                    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.2.10.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;42.2.11&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n            &lt;version&gt;${httpclient.version}&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n                    &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpcore&lt;/artifactId&gt;\n            &lt;version&gt;${httpcore.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.8.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- marshalling --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.20&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Test deps --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;3.141.59&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;htmlunit-driver&lt;/artifactId&gt;\n            &lt;version&gt;2.51.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\n            &lt;version&gt;${cucumber.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n            &lt;version&gt;${cucumber.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-spring&lt;/artifactId&gt;\n            &lt;version&gt;${cucumber.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n            &lt;version&gt;${cucumber.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n            &lt;version&gt;5.7.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-redis&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;redis.clients&lt;/groupId&gt;\n            &lt;artifactId&gt;jedis&lt;/artifactId&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.11&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;RELEASE&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;mail&lt;/artifactId&gt;\n            &lt;version&gt;1.4.7&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M5&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;argLine&gt;-Xmx2048m&lt;/argLine&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;CucumberE2ETest.java&lt;/include&gt;\n                    &lt;/includes&gt;\n                    &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":14722107,"reputation":5143,"user_id":10632369,"display_name":"tomerpacific"},"score":1,"creation_date":1639247284,"post_id":70317902,"comment_id":124301999,"body_markdown":"Your error is stating something completely different than what you are asking. This is the first line in the stacktrace: **java.lang.RuntimeException: Unable to start activity ComponentInfo{com.sinaMoradi.iran.ps/com.sinaMoradi.iran.ps.Help}: java.lang.ClassCastException: androidx.constraintlayout.widget.ConstraintLayout cannot be cast to android.widget.VideoView**. You are trying to cast a ConstraintLayuout to a VideoView. You haven&#39;t provided the code to where this happens, so it is hard to tell what is actually going on.","body":"Your error is stating something completely different than what you are asking. This is the first line in the stacktrace: <b>java.lang.RuntimeException: Unable to start activity ComponentInfo{com.sinaMoradi.iran.ps/com.sinaMoradi.iran.ps.&zwnj;&#8203;Help}: java.lang.ClassCastException: androidx.constraintlayout.widget.ConstraintLayout cannot be cast to android.widget.VideoView</b>. You are trying to cast a ConstraintLayuout to a VideoView. You haven&#39;t provided the code to where this happens, so it is hard to tell what is actually going on."}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639248175,"creation_date":1639248175,"answer_id":70318042,"question_id":70317902,"body_markdown":"In `res/layout/activity_help.xml`, you have a widget named `helpvideo`. This is a `ConstraintLayout`. It is not a `VideoView` (or, perhaps, you have two widgets both named `helpvideo`). Ensure that the only `helpvideo` in the layout is the `VideoView`.","title":"How to play a video from raw folder?","body":"<p>In <code>res/layout/activity_help.xml</code>, you have a widget named <code>helpvideo</code>. This is a <code>ConstraintLayout</code>. It is not a <code>VideoView</code> (or, perhaps, you have two widgets both named <code>helpvideo</code>). Ensure that the only <code>helpvideo</code> in the layout is the <code>VideoView</code>.</p>\n"},{"tags":[],"owner":{"account_id":17782422,"reputation":357,"user_id":12913325,"display_name":"Jay_Panchal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639249988,"creation_date":1639249988,"answer_id":70318236,"question_id":70317902,"body_markdown":"You can create your xml file like this to open video view \r\n\r\n\r\n   \r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n     &lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n       android:layout_width=&quot;fill_parent&quot;\r\n       android:layout_height=&quot;fill_parent&quot;\r\n       android:layout_gravity=&quot;center&quot; &gt;\r\n     \r\n         &lt;VideoView\r\n            android:id=&quot;@+id/video_view&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_gravity=&quot;center&quot;/&gt;\r\n     \r\n      &lt;/FrameLayout&gt;\r\n\r\n\r\nPaste video file to your res/Raw folder of the project.\r\n\r\nSource code for main activity:\r\n\r\n    public class AndroidVideoViewExample extends Activity {\r\n     \r\n        private VideoView myVideoView;\r\n        private int position = 0;\r\n        private ProgressDialog progressDialog;\r\n        private MediaController mediaControls;\r\n     \r\n        @Override\r\n        protected void onCreate(final Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n     \r\n            // set the main layout of the activity\r\n            setContentView(R.layout.activity_main);\r\n     \r\n            //set the media controller buttons\r\n            if (mediaControls == null) {\r\n                mediaControls = new MediaController(AndroidVideoViewExample.this);\r\n            }\r\n     \r\n            //initialize the VideoView\r\n            myVideoView = (VideoView) findViewById(R.id.video_view);\r\n     \r\n            // create a progress bar while the video file is loading\r\n            progressDialog = new ProgressDialog(AndroidVideoViewExample.this);\r\n            // set a title for the progress bar\r\n            progressDialog.setTitle(&quot;JavaCodeGeeks Android Video View Example&quot;);\r\n            // set a message for the progress bar\r\n            progressDialog.setMessage(&quot;Loading...&quot;);\r\n            //set the progress bar not cancelable on users&#39; touch\r\n            progressDialog.setCancelable(false);\r\n            // show the progress bar\r\n            progressDialog.show();\r\n     \r\n            try {\r\n                //set the media controller in the VideoView\r\n                myVideoView.setMediaController(mediaControls);\r\n     \r\n                //set the uri of the video to be played\r\n                myVideoView.setVideoURI(Uri.parse(&quot;android.resource://&quot; + getPackageName() + &quot;/&quot; + R.raw.kitkat));\r\n     \r\n            } catch (Exception e) {\r\n                Log.e(&quot;Error&quot;, e.getMessage());\r\n                e.printStackTrace();\r\n            }\r\n     \r\n            myVideoView.requestFocus();\r\n            //we also set an setOnPreparedListener in order to know when the video file is ready for playback\r\n            myVideoView.setOnPreparedListener(new OnPreparedListener() {\r\n             \r\n                public void onPrepared(MediaPlayer mediaPlayer) {\r\n                    // close the progress bar and play the video\r\n                    progressDialog.dismiss();\r\n                    //if we have a position on savedInstanceState, the video playback should start from here\r\n                    myVideoView.seekTo(position);\r\n                    if (position == 0) {\r\n                        myVideoView.start();\r\n                    } else {\r\n                        //if we come from a resumed activity, video playback will be paused\r\n                        myVideoView.pause();\r\n                    }\r\n                }\r\n            });\r\n     \r\n        }\r\n     \r\n        @Override\r\n        public void onSaveInstanceState(Bundle savedInstanceState) {\r\n            super.onSaveInstanceState(savedInstanceState);\r\n            //we use onSaveInstanceState in order to store the video playback position for orientation change\r\n            savedInstanceState.putInt(&quot;Position&quot;, myVideoView.getCurrentPosition());\r\n            myVideoView.pause();\r\n        }\r\n     \r\n        @Override\r\n        public void onRestoreInstanceState(Bundle savedInstanceState) {\r\n            super.onRestoreInstanceState(savedInstanceState);\r\n            //we use onRestoreInstanceState in order to play the video playback from the stored position \r\n            position = savedInstanceState.getInt(&quot;Position&quot;);\r\n            myVideoView.seekTo(position);\r\n        }\r\n    }\r\n\r\n\r\nthe part where the URI of the video file from raw folder is below:\r\n\r\n     myVideoView.setVideoURI(Uri.parse(&quot;android.resource://&quot; + getPackageName() + &quot;/&quot; + R.raw.kitkat));\r\n\r\nYou can use this code to play video from your raw folder. #HappyCoding","title":"How to play a video from raw folder?","body":"<p>You can create your xml file like this to open video view</p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n &lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n   android:layout_width=&quot;fill_parent&quot;\n   android:layout_height=&quot;fill_parent&quot;\n   android:layout_gravity=&quot;center&quot; &gt;\n \n     &lt;VideoView\n        android:id=&quot;@+id/video_view&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_gravity=&quot;center&quot;/&gt;\n \n  &lt;/FrameLayout&gt;\n</code></pre>\n<p>Paste video file to your res/Raw folder of the project.</p>\n<p>Source code for main activity:</p>\n<pre><code>public class AndroidVideoViewExample extends Activity {\n \n    private VideoView myVideoView;\n    private int position = 0;\n    private ProgressDialog progressDialog;\n    private MediaController mediaControls;\n \n    @Override\n    protected void onCreate(final Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n \n        // set the main layout of the activity\n        setContentView(R.layout.activity_main);\n \n        //set the media controller buttons\n        if (mediaControls == null) {\n            mediaControls = new MediaController(AndroidVideoViewExample.this);\n        }\n \n        //initialize the VideoView\n        myVideoView = (VideoView) findViewById(R.id.video_view);\n \n        // create a progress bar while the video file is loading\n        progressDialog = new ProgressDialog(AndroidVideoViewExample.this);\n        // set a title for the progress bar\n        progressDialog.setTitle(&quot;JavaCodeGeeks Android Video View Example&quot;);\n        // set a message for the progress bar\n        progressDialog.setMessage(&quot;Loading...&quot;);\n        //set the progress bar not cancelable on users' touch\n        progressDialog.setCancelable(false);\n        // show the progress bar\n        progressDialog.show();\n \n        try {\n            //set the media controller in the VideoView\n            myVideoView.setMediaController(mediaControls);\n \n            //set the uri of the video to be played\n            myVideoView.setVideoURI(Uri.parse(&quot;android.resource://&quot; + getPackageName() + &quot;/&quot; + R.raw.kitkat));\n \n        } catch (Exception e) {\n            Log.e(&quot;Error&quot;, e.getMessage());\n            e.printStackTrace();\n        }\n \n        myVideoView.requestFocus();\n        //we also set an setOnPreparedListener in order to know when the video file is ready for playback\n        myVideoView.setOnPreparedListener(new OnPreparedListener() {\n         \n            public void onPrepared(MediaPlayer mediaPlayer) {\n                // close the progress bar and play the video\n                progressDialog.dismiss();\n                //if we have a position on savedInstanceState, the video playback should start from here\n                myVideoView.seekTo(position);\n                if (position == 0) {\n                    myVideoView.start();\n                } else {\n                    //if we come from a resumed activity, video playback will be paused\n                    myVideoView.pause();\n                }\n            }\n        });\n \n    }\n \n    @Override\n    public void onSaveInstanceState(Bundle savedInstanceState) {\n        super.onSaveInstanceState(savedInstanceState);\n        //we use onSaveInstanceState in order to store the video playback position for orientation change\n        savedInstanceState.putInt(&quot;Position&quot;, myVideoView.getCurrentPosition());\n        myVideoView.pause();\n    }\n \n    @Override\n    public void onRestoreInstanceState(Bundle savedInstanceState) {\n        super.onRestoreInstanceState(savedInstanceState);\n        //we use onRestoreInstanceState in order to play the video playback from the stored position \n        position = savedInstanceState.getInt(&quot;Position&quot;);\n        myVideoView.seekTo(position);\n    }\n}\n</code></pre>\n<p>the part where the URI of the video file from raw folder is below:</p>\n<pre><code> myVideoView.setVideoURI(Uri.parse(&quot;android.resource://&quot; + getPackageName() + &quot;/&quot; + R.raw.kitkat));\n</code></pre>\n<p>You can use this code to play video from your raw folder. #HappyCoding</p>\n"}],"owner":{"account_id":22186635,"reputation":59,"user_id":16429443,"display_name":"Sina Moradi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70318042,"answer_count":2,"score":0,"last_activity_date":1639249988,"creation_date":1639247033,"question_id":70317902,"body_markdown":"I want to play a video from raw folder. I tried a java code but I give an error on my Logcat and the app is stops on the phone.\r\n\r\nThis is my code:\r\n\r\n    public class Help extends AppCompatActivity {\r\n    VideoView videoView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_help);\r\n\r\n\r\n        videoView = findViewById(R.id.helpvideo);\r\n\r\n        MediaController mediaController = new MediaController(this);\r\n        videoView.setMediaController(mediaController);\r\n        Uri uri = Uri.parse(&quot;android.resource://&quot; + getPackageName() + &quot;/&quot; + R.raw.video);\r\n        videoView.setVideoURI(uri);\r\n        videoView.start();\r\n\r\n\r\n\r\n      }\r\n    }\r\n\r\n\r\nAnd this is the error:\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.sinaMoradi.iran.ps, PID: 25296\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.sinaMoradi.iran.ps/com.sinaMoradi.iran.ps.Help}: java.lang.ClassCastException: androidx.constraintlayout.widget.ConstraintLayout cannot be cast to android.widget.VideoView\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3827)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4003)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2317)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:246)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8595)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\r\n     Caused by: java.lang.ClassCastException: androidx.constraintlayout.widget.ConstraintLayout cannot be cast to android.widget.VideoView\r\n        at com.sinaMoradi.iran.ps.Help.onCreate(Help.java:24)\r\n        at android.app.Activity.performCreate(Activity.java:8207)\r\n        at android.app.Activity.performCreate(Activity.java:8191)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1309)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3800)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4003)&#160;\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2317)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n        at android.os.Looper.loop(Looper.java:246)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:8595)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)&#160;\r\n    \r\nI&#39;m a novice developer and I don&#39;t what are this errors.\r\nThanks for your help.","title":"How to play a video from raw folder?","body":"<p>I want to play a video from raw folder. I tried a java code but I give an error on my Logcat and the app is stops on the phone.</p>\n<p>This is my code:</p>\n<pre><code>public class Help extends AppCompatActivity {\nVideoView videoView;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_help);\n\n\n    videoView = findViewById(R.id.helpvideo);\n\n    MediaController mediaController = new MediaController(this);\n    videoView.setMediaController(mediaController);\n    Uri uri = Uri.parse(&quot;android.resource://&quot; + getPackageName() + &quot;/&quot; + R.raw.video);\n    videoView.setVideoURI(uri);\n    videoView.start();\n\n\n\n  }\n}\n</code></pre>\n<p>And this is the error:</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.sinaMoradi.iran.ps, PID: 25296\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.sinaMoradi.iran.ps/com.sinaMoradi.iran.ps.Help}: java.lang.ClassCastException: androidx.constraintlayout.widget.ConstraintLayout cannot be cast to android.widget.VideoView\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3827)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4003)\n    at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\n    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2317)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loop(Looper.java:246)\n    at android.app.ActivityThread.main(ActivityThread.java:8595)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\n Caused by: java.lang.ClassCastException: androidx.constraintlayout.widget.ConstraintLayout cannot be cast to android.widget.VideoView\n    at com.sinaMoradi.iran.ps.Help.onCreate(Help.java:24)\n    at android.app.Activity.performCreate(Activity.java:8207)\n    at android.app.Activity.performCreate(Activity.java:8191)\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1309)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3800)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4003) \n    at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85) \n    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135) \n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95) \n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2317) \n    at android.os.Handler.dispatchMessage(Handler.java:106) \n    at android.os.Looper.loop(Looper.java:246) \n    at android.app.ActivityThread.main(ActivityThread.java:8595) \n    at java.lang.reflect.Method.invoke(Native Method) \n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602) \n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130) \n</code></pre>\n<p>I'm a novice developer and I don't what are this errors.\nThanks for your help.</p>\n"},{"tags":["java","processing"],"answers":[{"tags":[],"owner":{"account_id":7322082,"reputation":205321,"user_id":5577765,"display_name":"Rabbid76"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638952729,"creation_date":1638952729,"answer_id":70272069,"question_id":70268617,"body_markdown":"There is a problem in your formula when you calculate the `ypos`:\r\n\r\n&lt;s&gt;`ypos=(a-b)*sin(t)+h*sin(((a-b)/b)*t);`&lt;/s&gt;\r\n```java\r\nypos=(a-b)*sin(t) - h*sin(((a-b)/b)*t);\r\n```\r\n\r\nCalculate the angle `t` as a function of [`frameCount`](https://processing.org/reference/frameCount.html) and draw a [`point`](https://processing.org/reference/point_.html) at each coordinate:\r\n\r\n```java\r\nint centerX, centerY;\r\nfloat a, b, h;\r\n\r\nvoid setup() {\r\n   size(600,600);\r\n   centerX = width/2;\r\n   centerY = height/2;\r\n   a = 100;\r\n   b = 60;\r\n   h = 100;\r\n}\r\n\r\nvoid draw(){  \r\n    float t = frameCount * TWO_PI / 360;\r\n    float x = (a-b)*cos(t) + h*cos((a-b)/b*t) + centerX;\r\n    float y = (a-b)*sin(t) - h*sin((a-b)/b*t) + centerY;\r\n    point(x, y);\r\n}\r\n```\r\n\r\n[![][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lwafz.gif","title":"I need help creating a hypotrochoid in Processing","body":"<p>There is a problem in your formula when you calculate the <code>ypos</code>:</p>\n<p><s><code>ypos=(a-b)*sin(t)+h*sin(((a-b)/b)*t);</code></s></p>\n<pre class=\"lang-java prettyprint-override\"><code>ypos=(a-b)*sin(t) - h*sin(((a-b)/b)*t);\n</code></pre>\n<p>Calculate the angle <code>t</code> as a function of <a href=\"https://processing.org/reference/frameCount.html\" rel=\"nofollow noreferrer\"><code>frameCount</code></a> and draw a <a href=\"https://processing.org/reference/point_.html\" rel=\"nofollow noreferrer\"><code>point</code></a> at each coordinate:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int centerX, centerY;\nfloat a, b, h;\n\nvoid setup() {\n   size(600,600);\n   centerX = width/2;\n   centerY = height/2;\n   a = 100;\n   b = 60;\n   h = 100;\n}\n\nvoid draw(){  \n    float t = frameCount * TWO_PI / 360;\n    float x = (a-b)*cos(t) + h*cos((a-b)/b*t) + centerX;\n    float y = (a-b)*sin(t) - h*sin((a-b)/b*t) + centerY;\n    point(x, y);\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/lwafz.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lwafz.gif\" alt=\"\" /></a></p>\n"}],"owner":{"account_id":23581443,"reputation":31,"user_id":17620399,"display_name":"QuinnK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1639248405,"creation_date":1638923836,"question_id":70268617,"body_markdown":"I need help creating a hypotrochoid. Starting with three values (inner radius, outer radius, and distance), I need to draw a shape by computing a sequence of points, drawing straight lines from point, to point, to point, etc.\r\n\r\nI started a little but I&#39;m now completely lost and don&#39;t really know what I&#39;m doing. Anything will help thank you. \r\n\r\nHypotrochoid: https://en.wikipedia.org/wiki/Hypotrochoid\r\n\r\n ```  \r\nfloat xpos,ypos,r,d,R,t,a,b;\r\nint centerX,centerY,center;\r\n\r\nvoid setup() {\r\n  size(600,600);\r\n  centerX = width/2;\r\n  centerY = height/2;\r\n  ellipse(300, 300, 300, 300);\r\n  t = 25;\r\n  a = 10;\r\n  b = 5;\r\n\r\n}\r\n\r\nvoid draw(){\r\nxpos=(a-b)*cos(t)+h*cos(((a-b)/b)*t);\r\nypos=(a-b)*sin(t)+h*sin(((a-b)/b)*t);\r\n}\r\n```\r\n","title":"I need help creating a hypotrochoid in Processing","body":"<p>I need help creating a hypotrochoid. Starting with three values (inner radius, outer radius, and distance), I need to draw a shape by computing a sequence of points, drawing straight lines from point, to point, to point, etc.</p>\n<p>I started a little but I'm now completely lost and don't really know what I'm doing. Anything will help thank you.</p>\n<p>Hypotrochoid: <a href=\"https://en.wikipedia.org/wiki/Hypotrochoid\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Hypotrochoid</a></p>\n<pre><code>float xpos,ypos,r,d,R,t,a,b;\nint centerX,centerY,center;\n\nvoid setup() {\n size(600,600);\n centerX = width/2;\n centerY = height/2;\n ellipse(300, 300, 300, 300);\n t = 25;\n a = 10;\n b = 5;\n\n}\n\nvoid draw(){\nxpos=(a-b)*cos(t)+h*cos(((a-b)/b)*t);\nypos=(a-b)*sin(t)+h*sin(((a-b)/b)*t);\n}\n</code></pre>\n"},{"tags":["java","android","json","gson","retrofit"],"answers":[{"tags":[],"owner":{"account_id":14184067,"reputation":612,"user_id":10246652,"display_name":"Hritik Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572880239,"creation_date":1572880239,"answer_id":58696165,"question_id":58695919,"body_markdown":"Since the login and avatar_url is under owner object.\r\nYou need to create a separate class for owner object , just like you did for a single item.\r\nAnd don&#39;t forget to mention the object class in your Item class.","title":"How i can parsing json object with retrofit and recyclerView","body":"<p>Since the login and avatar_url is under owner object.\nYou need to create a separate class for owner object , just like you did for a single item.\nAnd don't forget to mention the object class in your Item class.</p>\n"},{"tags":[],"owner":{"account_id":11624524,"reputation":121,"user_id":8514715,"display_name":"Michael Dovoh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1572915481,"creation_date":1572915481,"answer_id":58703040,"question_id":58695919,"body_markdown":"Looking at the JSON response, the Owner object is part of the Item object. meaning it&#39;s nested in the Item object. \r\n\r\n    public class Owner {\r\n    @SerializedName(&quot;avatar_url&quot;)\r\n    @Expose\r\n    private String avatarUrl;\r\n\r\n    @SerializedName(&quot;login&quot;)\r\n    @Expose\r\n     private String login;\r\n\r\n     public Owner(){}\r\n \r\n     public void setAvatarUrl(String avatar_URL){\r\n     this.avatarUrl = avatar_URL;\r\n     }\r\n\r\n     pubic String getAvatarUrl(){\r\n     return avatarUrl;\r\n     }\r\n\r\n     public String getLogin(){\r\n      return login;\r\n     }\r\n \r\n     public void setLogin(String login){\r\n      this.login = login;}\r\n      }\r\n\r\n    public class Item {\r\n        @SerializedName(&quot;name&quot;)\r\n        @Expose\r\n        private String name;\r\n\r\n        @SerializedName(&quot;description&quot;)\r\n        @Expose\r\n        private String description;\r\n\r\n        @SerializedName(&quot;owner&quot;)\r\n        @Expose\r\n        private Owner owner;\r\n\r\n         @SerializedName(&quot;stargazers_count&quot;)\r\n        @Expose\r\n        private int stargazers;\r\n        .........\r\n        }\r\n\r\n","title":"How i can parsing json object with retrofit and recyclerView","body":"<p>Looking at the JSON response, the Owner object is part of the Item object. meaning it's nested in the Item object. </p>\n\n<pre><code>public class Owner {\n@SerializedName(\"avatar_url\")\n@Expose\nprivate String avatarUrl;\n\n@SerializedName(\"login\")\n@Expose\n private String login;\n\n public Owner(){}\n\n public void setAvatarUrl(String avatar_URL){\n this.avatarUrl = avatar_URL;\n }\n\n pubic String getAvatarUrl(){\n return avatarUrl;\n }\n\n public String getLogin(){\n  return login;\n }\n\n public void setLogin(String login){\n  this.login = login;}\n  }\n\npublic class Item {\n    @SerializedName(\"name\")\n    @Expose\n    private String name;\n\n    @SerializedName(\"description\")\n    @Expose\n    private String description;\n\n    @SerializedName(\"owner\")\n    @Expose\n    private Owner owner;\n\n     @SerializedName(\"stargazers_count\")\n    @Expose\n    private int stargazers;\n    .........\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19508563,"reputation":736,"user_id":14272972,"display_name":"RJnr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639246504,"creation_date":1639246504,"answer_id":70317804,"question_id":58695919,"body_markdown":"In my case the stargazer spelling was wrong, just correct the spelling\r\nexample:- from \r\n\r\n&gt; stargazer_count\r\n\r\n to \r\n\r\n&gt; stargazers_count.","title":"How i can parsing json object with retrofit and recyclerView","body":"<p>In my case the stargazer spelling was wrong, just correct the spelling\nexample:- from</p>\n<blockquote>\n<p>stargazer_count</p>\n</blockquote>\n<p>to</p>\n<blockquote>\n<p>stargazers_count.</p>\n</blockquote>\n"}],"owner":{"account_id":16985277,"reputation":13,"user_id":12286196,"display_name":"Amine developer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":330,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58703040,"answer_count":3,"score":1,"last_activity_date":1639246504,"creation_date":1572879367,"question_id":58695919,"body_markdown":"I&#39;m using GitHub API to show in my application the most starred repository and their names and avatar and description in recyclerView but when I lunch the app everything working but the avatar_url and login return Null. \r\n\r\nthis is a JSON from Github API\r\n\r\n&gt; https://api.github.com/search/repositories?q=created:%3E2019-10-01&amp;sort=stars&amp;order=desc\r\n\r\n**I tried this :\r\nclient class:**\r\n\r\n    import retrofit2.Retrofit;\r\n    import retrofit2.converter.gson.GsonConverterFactory;\r\n    \r\n    public class Client {\r\n        public static final String BASE_URL=&quot;https://api.github.com&quot;;\r\n        public static Retrofit retrofit=null;\r\n    \r\n        public static Retrofit getClient()\r\n        {\r\n            if(retrofit==null)\r\n            {\r\n                retrofit=new Retrofit.Builder().baseUrl(BASE_URL).addConverterFactory(GsonConverterFactory.create()).build();\r\n    \r\n            }\r\n            return retrofit;\r\n        }\r\n    }\r\n**Service Class:**\r\n\r\n    package com.example.gethubapi.api;\r\n    \r\n    import com.example.gethubapi.model.ItemResponse;\r\n    \r\n    import retrofit2.Call;\r\n    import retrofit2.http.GET;\r\n    \r\n    public interface Service {\r\n    \r\n        @GET(&quot;/search/repositories?q=created:&gt;2017-10-22&amp;sort=stars&amp;order=desc&amp;page=2&quot;)\r\n        Call&lt;ItemResponse&gt; getItems();\r\n    }\r\n**Item class**\r\n**here is the problem if u checked the jSON file in link above you will find a child object from item called owner and i cant select the name of avatar_url and owner name directly**\r\n   \r\n\r\n     import com.google.gson.annotations.SerializedName;\r\n        \r\n        public class Item {\r\n            @SerializedName(&quot;avatar_url&quot;)\r\n            @Expose\r\n            private String avatarUrl;\r\n        \r\n            @SerializedName(&quot;name&quot;)\r\n            @Expose\r\n            private String name;\r\n        \r\n            @SerializedName(&quot;description&quot;)\r\n            @Expose\r\n            private String description;\r\n        \r\n            @SerializedName(&quot;login&quot;)\r\n            @Expose\r\n            private String owner;\r\n        \r\n            @SerializedName(&quot;stargazers_count&quot;)\r\n            @Expose\r\n            private int stargazers;\r\n        \r\n            public Item(String avatar_url,String name,String description,String owner,int stargazers )\r\n            {\r\n                this.avatarUrl=avatar_url;\r\n                this.name=name;\r\n                this.description=description;\r\n                this.owner=owner;\r\n                this.stargazers=stargazers;\r\n        \r\n            }\r\n            public String getAvatarUrl()\r\n            {\r\n                return avatarUrl;\r\n            }\r\n            public String getName()\r\n            {\r\n                return name;\r\n            }\r\n            public String getDescription()\r\n            {\r\n                return description;\r\n            }\r\n            public String getOwner()\r\n            {\r\n                return owner;\r\n            }\r\n            public int getStargazers()\r\n            {\r\n                return stargazers;\r\n            }\r\n        }\r\n\r\n","title":"How i can parsing json object with retrofit and recyclerView","body":"<p>I'm using GitHub API to show in my application the most starred repository and their names and avatar and description in recyclerView but when I lunch the app everything working but the avatar_url and login return Null. </p>\n\n<p>this is a JSON from Github API</p>\n\n<blockquote>\n  <p><a href=\"https://api.github.com/search/repositories?q=created:%3E2019-10-01&amp;sort=stars&amp;order=desc\" rel=\"nofollow noreferrer\">https://api.github.com/search/repositories?q=created:%3E2019-10-01&amp;sort=stars&amp;order=desc</a></p>\n</blockquote>\n\n<p><strong>I tried this :\nclient class:</strong></p>\n\n<pre><code>import retrofit2.Retrofit;\nimport retrofit2.converter.gson.GsonConverterFactory;\n\npublic class Client {\n    public static final String BASE_URL=\"https://api.github.com\";\n    public static Retrofit retrofit=null;\n\n    public static Retrofit getClient()\n    {\n        if(retrofit==null)\n        {\n            retrofit=new Retrofit.Builder().baseUrl(BASE_URL).addConverterFactory(GsonConverterFactory.create()).build();\n\n        }\n        return retrofit;\n    }\n}\n</code></pre>\n\n<p><strong>Service Class:</strong></p>\n\n<pre><code>package com.example.gethubapi.api;\n\nimport com.example.gethubapi.model.ItemResponse;\n\nimport retrofit2.Call;\nimport retrofit2.http.GET;\n\npublic interface Service {\n\n    @GET(\"/search/repositories?q=created:&gt;2017-10-22&amp;sort=stars&amp;order=desc&amp;page=2\")\n    Call&lt;ItemResponse&gt; getItems();\n}\n</code></pre>\n\n<p><strong>Item class</strong>\n<strong>here is the problem if u checked the jSON file in link above you will find a child object from item called owner and i cant select the name of avatar_url and owner name directly</strong></p>\n\n<pre><code> import com.google.gson.annotations.SerializedName;\n\n    public class Item {\n        @SerializedName(\"avatar_url\")\n        @Expose\n        private String avatarUrl;\n\n        @SerializedName(\"name\")\n        @Expose\n        private String name;\n\n        @SerializedName(\"description\")\n        @Expose\n        private String description;\n\n        @SerializedName(\"login\")\n        @Expose\n        private String owner;\n\n        @SerializedName(\"stargazers_count\")\n        @Expose\n        private int stargazers;\n\n        public Item(String avatar_url,String name,String description,String owner,int stargazers )\n        {\n            this.avatarUrl=avatar_url;\n            this.name=name;\n            this.description=description;\n            this.owner=owner;\n            this.stargazers=stargazers;\n\n        }\n        public String getAvatarUrl()\n        {\n            return avatarUrl;\n        }\n        public String getName()\n        {\n            return name;\n        }\n        public String getDescription()\n        {\n            return description;\n        }\n        public String getOwner()\n        {\n            return owner;\n        }\n        public int getStargazers()\n        {\n            return stargazers;\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring","jdbc"],"answers":[{"tags":[],"owner":{"account_id":8462680,"reputation":90,"user_id":6347831,"display_name":"Yenny Muller"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639245974,"creation_date":1639245974,"answer_id":70317725,"question_id":70307829,"body_markdown":"It is posible:\r\n\r\nfirst create 2 class (bean / dto) such as:\r\n\r\n```\r\npublic class peopleBean {\r\n\tprivate int id;\r\n\tprivate String name;\r\n\tprivate String surname;\r\n\tprivate String date_started;\r\n\tprivate List&lt;schoolBean&gt; school;\r\n\t...\r\n\t\r\n\t}\r\n\t\r\npublic class schoolBean {\r\n\tprivate String school_name;\r\n\tprivate String graduated;\r\n\t...\r\n\t\r\n\t}\r\n```\r\n\r\nthen in the getPeople corret it to use listpeople, people_local and school:\r\n\r\n```\r\n\tpublic List&lt;Person&gt; getPeople() {\r\n        String sql = &quot;my query&quot;;\r\n\t\tList&lt;peobleBean&gt; listpeople = new ArrayList&lt;peopleBean&gt;();\r\n        List&lt;Person&gt; people = jdbcTemplate.query(sql, (result, index) -&gt; {\r\n\t\t\tpeopleBean people_local = new peopleBean();\r\n\t\t\tschoolBean school = new schoolBean();\r\n            return new People(\r\n                    result.getObject(&quot;id&quot;, java.util.UUID.class),\r\n                    result.getString(&quot;name&quot;),\r\n                    result.getString(&quot;surname&quot;),\r\n                    result.getDate(&quot;date_started&quot;),\r\n                    result.getString(&quot;school_name&quot;),\r\n                    result.getBoolean(&quot;graduated&quot;)\r\n            );\r\n        });\r\n        return listpeople;\r\n    }\r\n```","title":"Object inside json response","body":"<p>It is posible:</p>\n<p>first create 2 class (bean / dto) such as:</p>\n<pre><code>public class peopleBean {\n    private int id;\n    private String name;\n    private String surname;\n    private String date_started;\n    private List&lt;schoolBean&gt; school;\n    ...\n    \n    }\n    \npublic class schoolBean {\n    private String school_name;\n    private String graduated;\n    ...\n    \n    }\n</code></pre>\n<p>then in the getPeople corret it to use listpeople, people_local and school:</p>\n<pre><code>    public List&lt;Person&gt; getPeople() {\n        String sql = &quot;my query&quot;;\n        List&lt;peobleBean&gt; listpeople = new ArrayList&lt;peopleBean&gt;();\n        List&lt;Person&gt; people = jdbcTemplate.query(sql, (result, index) -&gt; {\n            peopleBean people_local = new peopleBean();\n            schoolBean school = new schoolBean();\n            return new People(\n                    result.getObject(&quot;id&quot;, java.util.UUID.class),\n                    result.getString(&quot;name&quot;),\n                    result.getString(&quot;surname&quot;),\n                    result.getDate(&quot;date_started&quot;),\n                    result.getString(&quot;school_name&quot;),\n                    result.getBoolean(&quot;graduated&quot;)\n            );\n        });\n        return listpeople;\n    }\n</code></pre>\n"}],"owner":{"account_id":18371181,"reputation":1896,"user_id":13381244,"display_name":"Dave"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639245974,"creation_date":1639154767,"question_id":70307829,"body_markdown":"Whenever I select all my items from db, it is being returned as an array of objects. However I want the object to contain another object with data, instead of displaying everything in one JSON. Is this doable somehow? \r\n\r\nBelow is example which will return\r\n\r\n```json\r\n[\r\n  {\r\n   &quot;id&quot;: &quot;&quot;,\r\n   &quot;name&quot;: &quot;&quot;,\r\n   &quot;surname&quot;: &quot;&quot;,\r\n   &quot;date_started&quot;: &quot;&quot;,\r\n   &quot;school_name&quot;: &quot;&quot;,\r\n   &quot;graduated&quot;: false,\r\n]\r\n```\r\n\r\nWhat I want:\r\n```json\r\n[\r\n  {\r\n   &quot;id&quot;: &quot;&quot;,\r\n   &quot;name&quot;: &quot;&quot;,\r\n   &quot;surname&quot;: &quot;&quot;,\r\n   &quot;date_started&quot;: &quot;&quot;,\r\n   &quot;school&quot;: {\r\n       &quot;school_name&quot;: &quot;&quot;,\r\n       &quot;graduated&quot;: false,\r\n    }\r\n]\r\n```\r\n```java\r\n    public List&lt;Person&gt; getPeople() {\r\n        String sql = &quot;my query&quot;;\r\n        List&lt;Person&gt; people = jdbcTemplate.query(sql, (result, index) -&gt; {\r\n            return new People(\r\n                    result.getObject(&quot;id&quot;, java.util.UUID.class),\r\n                    result.getString(&quot;name&quot;),\r\n                    result.getString(&quot;surname&quot;),\r\n                    result.getDate(&quot;date_started&quot;),\r\n                    result.getString(&quot;school_name&quot;),\r\n                    result.getBoolean(&quot;graduated&quot;)\r\n            );\r\n        });\r\n        return people;\r\n    }\r\n```","title":"Object inside json response","body":"<p>Whenever I select all my items from db, it is being returned as an array of objects. However I want the object to contain another object with data, instead of displaying everything in one JSON. Is this doable somehow?</p>\n<p>Below is example which will return</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n   &quot;id&quot;: &quot;&quot;,\n   &quot;name&quot;: &quot;&quot;,\n   &quot;surname&quot;: &quot;&quot;,\n   &quot;date_started&quot;: &quot;&quot;,\n   &quot;school_name&quot;: &quot;&quot;,\n   &quot;graduated&quot;: false,\n]\n</code></pre>\n<p>What I want:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n   &quot;id&quot;: &quot;&quot;,\n   &quot;name&quot;: &quot;&quot;,\n   &quot;surname&quot;: &quot;&quot;,\n   &quot;date_started&quot;: &quot;&quot;,\n   &quot;school&quot;: {\n       &quot;school_name&quot;: &quot;&quot;,\n       &quot;graduated&quot;: false,\n    }\n]\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>    public List&lt;Person&gt; getPeople() {\n        String sql = &quot;my query&quot;;\n        List&lt;Person&gt; people = jdbcTemplate.query(sql, (result, index) -&gt; {\n            return new People(\n                    result.getObject(&quot;id&quot;, java.util.UUID.class),\n                    result.getString(&quot;name&quot;),\n                    result.getString(&quot;surname&quot;),\n                    result.getDate(&quot;date_started&quot;),\n                    result.getString(&quot;school_name&quot;),\n                    result.getBoolean(&quot;graduated&quot;)\n            );\n        });\n        return people;\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jpa","dao"],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639161169,"creation_date":1639161169,"answer_id":70308985,"question_id":70307550,"body_markdown":"Shouldn&#39;t your `Top10` class look as follows?\r\n```java\r\npublic class Top10 {\r\n    Long id;\r\n    Product name;\r\n    String name;\r\n}\r\n```","title":"Failed to convert from type (Java - Spring boot)","body":"<p>Shouldn't your <code>Top10</code> class look as follows?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Top10 {\n    Long id;\n    Product name;\n    String name;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8462680,"reputation":90,"user_id":6347831,"display_name":"Yenny Muller"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639244616,"creation_date":1639244616,"answer_id":70317534,"question_id":70307550,"body_markdown":"to define a entity (table) do you need to use the spring tags (@Entity)\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;Top10&quot;)\r\npublic class Top10 {\r\n    @Id\r\n    Product id;\r\n    Product name;\r\n    Integer soluong;\r\n    }\r\n```","title":"Failed to convert from type (Java - Spring boot)","body":"<p>to define a entity (table) do you need to use the spring tags (@Entity)</p>\n<pre><code>@Entity\n@Table(name = &quot;Top10&quot;)\npublic class Top10 {\n    @Id\n    Product id;\n    Product name;\n    Integer soluong;\n    }\n</code></pre>\n"}],"owner":{"account_id":21676556,"reputation":31,"user_id":15993426,"display_name":"sunsynd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1322,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1639244616,"creation_date":1639153459,"question_id":70307550,"body_markdown":"I have spring web app (JPA/Hibernate + MySQL). I have three classes.\r\n\r\n**Top10**\r\n``` java\r\n    public class Top10 {\r\n    @Id\r\n    Product id;\r\n    Product name;\r\n    Integer soluong;\r\n    }\r\n``` \r\n\r\n**Product**\r\n``` java\r\n    public class Product implements Serializable{\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    Long id;\r\n    @Column(name = &quot;name&quot;)\r\n    String name;\r\n    @Column(name = &quot;image&quot;)\r\n    String image;\r\n    @Column(name = &quot;count&quot;)\r\n    Integer count;\r\n    @Column(name = &quot;special&quot;)\r\n    Boolean special;\r\n    @Column(name = &quot;price&quot;)\r\n    Double price;\r\n    @Column(name = &quot;description&quot;)\r\n    String description;\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;category_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    Category categoryId;\r\n    @Column(name = &quot;create_date&quot;)\r\n    Date createdate = new Date();\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;product_status_id&quot;)\r\n    ProductStatus productStatus;\r\n    \r\n    @JsonIgnore\r\n    @OneToMany(mappedBy = &quot;product&quot;)\r\n    List&lt;OrderDetail&gt; orderDetails;\r\n    }\r\n``` \r\n**ProductDetail**\r\n``` java\r\n    public class OrderDetail implements Serializable  {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    Long id;\r\n    Double price;\r\n    Integer quantity;\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;Productid&quot;)\r\n    Product product;\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;Orderid&quot;)\r\n    Order order;\r\n    }\r\n``` \r\nAnd I have a ProductDao class for retrieving data from DB:\r\n``` java\r\n    @Repository\r\n    public interface ProductDAO extends JpaRepository&lt;Product, Long&gt; {\r\n    \r\n    @Query(value =&quot;select top(10) od.ProductId,p.name , sum(Quantity) as \r\n    Quantity\\r\\n&quot;\r\n\t\t\t\t+ &quot;from Products p, order_details od\\r\\n&quot;\r\n\t\t\t\t+ &quot;where p.id = od.ProductId\\r\\n&quot;\r\n\t\t\t\t+ &quot;group by p.name, od.ProductId\\r\\n&quot;\r\n\t\t\t\t+ &quot;order by Quantity desc&quot;,nativeQuery =true)\r\n\t\tList&lt;Top10&gt; top10Product();\r\n}\r\n``` \r\nAnd one class interface : \r\n\r\n**ProductInterface**\r\n``` java\r\n      public interface productService {\r\n    \t\r\n    \tList&lt;Top10&gt; top10product();\r\n       }\r\n```\r\n**ProductInterfaceImpl** \r\n``` java\r\n     @Service\r\n       public class productServiceImpl implements productService{\r\n    \t@Autowired\r\n    \tProductDAO dao;\r\n    \r\n    \t@Override\r\n    \tpublic List&lt;Top10&gt; top10product() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn dao.top10Product();\r\n    \t}\r\n\r\n       }\r\n```\r\n[This result like this][1]\r\n\r\n\r\n  \r\n\r\n\r\nNow i want &#39;unbox&#39; data from DB with this method List&lt;Top10&gt; getAll()\r\n\r\nI have a method for this in my spring controller class:\r\n``` java\r\n    @CrossOrigin(&quot;*&quot;)\r\n    @RestController\r\n    @RequestMapping(&quot;/rest/chart&quot;)\r\n    public class chartRestController {\r\n    \t@Autowired\r\n    \tproductService productService;\r\n    \t\r\n    \t@GetMapping()\r\n    \tpublic List&lt;Top10&gt; getAll(){\r\n    \t\treturn productService.top10product();\r\n    \t}\r\n    \t\r\n    }\r\n```\r\n\r\nAnd i have error:\r\n\r\n&gt; There was an unexpected error (type=Internal Server Error,\r\n&gt; status=500). Failed to convert from type [java.lang.Object[]] to type\r\n&gt; [com.gymshop.domain.Top10] for value &#39;{8, ISOJECT Premium EVOGEN -\r\n&gt; Whey Isolate, 6}&#39;; nested exception is\r\n&gt; org.springframework.core.convert.ConverterNotFoundException: No\r\n&gt; converter found capable of converting from type [java.lang.Integer] to\r\n&gt; type [com.gymshop.domain.Top10]\r\n&gt; org.springframework.core.convert.ConversionFailedException: Failed to\r\n&gt; convert from type [java.lang.Object[]] to type\r\n&gt; [com.gymshop.domain.Top10] for value &#39;{8, ISOJECT Premium EVOGEN -\r\n&gt; Whey Isolate, 6}&#39;; nested exception is\r\n&gt; org.springframework.core.convert.ConverterNotFoundException: No\r\n&gt; converter found capable of converting from type [java.lang.Integer] to\r\n&gt; type [com.gymshop.domain.Top10] \tat\r\n&gt; org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:47)\r\n&gt; \tat\r\n&gt; org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:192)\r\n&gt; \tat\r\n&gt; org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:175)\r\n&gt; \tat\r\n&gt; org.springframework.data.repository.query.ResultProcessor$ProjectingConverter.convert(ResultProcessor.java:313)\r\n&gt; \tat\r\n&gt; org.springframework.data.repository.query.ResultProcessor$ChainingConverter.lambda$and$0(ResultProcessor.java:229)\r\n&gt; \tat\r\n&gt; org.springframework.data.repository.query.ResultProcessor$ChainingConverter.convert(ResultProcessor.java:240)\r\n&gt; \tat\r\n&gt; org.springframework.data.repository.query.ResultProcessor.processResult(ResultProcessor.java:156)\r\n&gt; \tat\r\n&gt; org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:158)\r\n&gt; \tat\r\n&gt; org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143)","title":"Failed to convert from type (Java - Spring boot)","body":"<p>I have spring web app (JPA/Hibernate + MySQL). I have three classes.</p>\n<p><strong>Top10</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class Top10 {\n    @Id\n    Product id;\n    Product name;\n    Integer soluong;\n    }\n</code></pre>\n<p><strong>Product</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class Product implements Serializable{\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    Long id;\n    @Column(name = &quot;name&quot;)\n    String name;\n    @Column(name = &quot;image&quot;)\n    String image;\n    @Column(name = &quot;count&quot;)\n    Integer count;\n    @Column(name = &quot;special&quot;)\n    Boolean special;\n    @Column(name = &quot;price&quot;)\n    Double price;\n    @Column(name = &quot;description&quot;)\n    String description;\n    @ManyToOne\n    @JoinColumn(name = &quot;category_id&quot;, referencedColumnName = &quot;id&quot;)\n    Category categoryId;\n    @Column(name = &quot;create_date&quot;)\n    Date createdate = new Date();\n    @ManyToOne\n    @JoinColumn(name = &quot;product_status_id&quot;)\n    ProductStatus productStatus;\n    \n    @JsonIgnore\n    @OneToMany(mappedBy = &quot;product&quot;)\n    List&lt;OrderDetail&gt; orderDetails;\n    }\n</code></pre>\n<p><strong>ProductDetail</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class OrderDetail implements Serializable  {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    Long id;\n    Double price;\n    Integer quantity;\n    @ManyToOne\n    @JoinColumn(name = &quot;Productid&quot;)\n    Product product;\n    @ManyToOne\n    @JoinColumn(name = &quot;Orderid&quot;)\n    Order order;\n    }\n</code></pre>\n<p>And I have a ProductDao class for retrieving data from DB:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Repository\n    public interface ProductDAO extends JpaRepository&lt;Product, Long&gt; {\n    \n    @Query(value =&quot;select top(10) od.ProductId,p.name , sum(Quantity) as \n    Quantity\\r\\n&quot;\n                + &quot;from Products p, order_details od\\r\\n&quot;\n                + &quot;where p.id = od.ProductId\\r\\n&quot;\n                + &quot;group by p.name, od.ProductId\\r\\n&quot;\n                + &quot;order by Quantity desc&quot;,nativeQuery =true)\n        List&lt;Top10&gt; top10Product();\n}\n</code></pre>\n<p>And one class interface :</p>\n<p><strong>ProductInterface</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>      public interface productService {\n        \n        List&lt;Top10&gt; top10product();\n       }\n</code></pre>\n<p><strong>ProductInterfaceImpl</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>     @Service\n       public class productServiceImpl implements productService{\n        @Autowired\n        ProductDAO dao;\n    \n        @Override\n        public List&lt;Top10&gt; top10product() {\n            // TODO Auto-generated method stub\n            return dao.top10Product();\n        }\n\n       }\n</code></pre>\n<p>[This result like this][1]</p>\n<p>Now i want 'unbox' data from DB with this method List getAll()</p>\n<p>I have a method for this in my spring controller class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @CrossOrigin(&quot;*&quot;)\n    @RestController\n    @RequestMapping(&quot;/rest/chart&quot;)\n    public class chartRestController {\n        @Autowired\n        productService productService;\n        \n        @GetMapping()\n        public List&lt;Top10&gt; getAll(){\n            return productService.top10product();\n        }\n        \n    }\n</code></pre>\n<p>And i have error:</p>\n<blockquote>\n<p>There was an unexpected error (type=Internal Server Error,\nstatus=500). Failed to convert from type [java.lang.Object[]] to type\n[com.gymshop.domain.Top10] for value '{8, ISOJECT Premium EVOGEN -\nWhey Isolate, 6}'; nested exception is\norg.springframework.core.convert.ConverterNotFoundException: No\nconverter found capable of converting from type [java.lang.Integer] to\ntype [com.gymshop.domain.Top10]\norg.springframework.core.convert.ConversionFailedException: Failed to\nconvert from type [java.lang.Object[]] to type\n[com.gymshop.domain.Top10] for value '{8, ISOJECT Premium EVOGEN -\nWhey Isolate, 6}'; nested exception is\norg.springframework.core.convert.ConverterNotFoundException: No\nconverter found capable of converting from type [java.lang.Integer] to\ntype [com.gymshop.domain.Top10]   at\norg.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:47)\nat\norg.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:192)\nat\norg.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:175)\nat\norg.springframework.data.repository.query.ResultProcessor$ProjectingConverter.convert(ResultProcessor.java:313)\nat\norg.springframework.data.repository.query.ResultProcessor$ChainingConverter.lambda$and$0(ResultProcessor.java:229)\nat\norg.springframework.data.repository.query.ResultProcessor$ChainingConverter.convert(ResultProcessor.java:240)\nat\norg.springframework.data.repository.query.ResultProcessor.processResult(ResultProcessor.java:156)\nat\norg.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:158)\nat\norg.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143)</p>\n</blockquote>\n"},{"tags":["java","multithreading","threadpool"],"comments":[{"owner":{"account_id":6664,"reputation":85927,"user_id":11296,"display_name":"Bert F"},"score":1,"creation_date":1315102033,"post_id":7296623,"comment_id":8791106,"body_markdown":"Why are you clearing the child thread&#39;s thread local value if you need it later? Is the values needed on the next run from a different parent thread or have they changed in the parent since the child thread was first created?","body":"Why are you clearing the child thread&#39;s thread local value if you need it later? Is the values needed on the next run from a different parent thread or have they changed in the parent since the child thread was first created?"},{"owner":{"account_id":18929,"reputation":5197,"user_id":43864,"accept_rate":62,"display_name":"neesh"},"score":0,"creation_date":1315105453,"post_id":7296623,"comment_id":8791432,"body_markdown":"@Bert - that is precisely the reason. Basically I am storing a request id in the thread local variable which changes across multiple uses of the child thread.","body":"@Bert - that is precisely the reason. Basically I am storing a request id in the thread local variable which changes across multiple uses of the child thread."},{"owner":{"account_id":57402,"reputation":29252,"user_id":171950,"accept_rate":55,"display_name":"Muhammad Hewedy"},"score":0,"creation_date":1521037869,"post_id":7296623,"comment_id":85563293,"body_markdown":"Spring security doing some solution for the similar problem, but I didn&#39;t figure out yet what is it eactly!","body":"Spring security doing some solution for the similar problem, but I didn&#39;t figure out yet what is it eactly!"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1501666696,"creation_date":1315112431,"answer_id":7297494,"question_id":7296623,"body_markdown":"It sounds like this is a poor use-case for the &quot;inheritable&quot; flavour of thread-locals.\r\n\r\nMy advice would be to just use a regular `TheadLocal` and do the initialization explicitly; e.g. passing the initial value from the parent thread to the child thread as a parameter or something.\r\n\r\n(I was going suggest that you force initialization of the thread-local the child thread by having it fetch the value as soon as it starts.  But that risks a race-condition; e.g. if the parent thread is returned to the pool before the child thread starts executing.)\r\n\r\n-------------------\r\n\r\n&gt; I guess what I am asking is if there is a way to access the value of the parent thread&#39;s thread local variable from a child thread.\r\n\r\nThere isn&#39;t a way to do this.\r\n\r\nAnd, judging from your other comments, I doubt that you mean &quot;parent&quot; and &quot;child&quot; in the normal sense ... where the parent thread creates the child thread.\r\n\r\nBut here&#39;s an idea.  Instead of trying to share a variable between threads, share a fixed value (e.g. a request ID), and use that as a key for a shared `Map`.  Use the `Map` entries as the shared variables.","title":"InheritableThreadLocal and thread pools","body":"<p>It sounds like this is a poor use-case for the \"inheritable\" flavour of thread-locals.</p>\n\n<p>My advice would be to just use a regular <code>TheadLocal</code> and do the initialization explicitly; e.g. passing the initial value from the parent thread to the child thread as a parameter or something.</p>\n\n<p>(I was going suggest that you force initialization of the thread-local the child thread by having it fetch the value as soon as it starts.  But that risks a race-condition; e.g. if the parent thread is returned to the pool before the child thread starts executing.)</p>\n\n<hr>\n\n<blockquote>\n  <p>I guess what I am asking is if there is a way to access the value of the parent thread's thread local variable from a child thread.</p>\n</blockquote>\n\n<p>There isn't a way to do this.</p>\n\n<p>And, judging from your other comments, I doubt that you mean \"parent\" and \"child\" in the normal sense ... where the parent thread creates the child thread.</p>\n\n<p>But here's an idea.  Instead of trying to share a variable between threads, share a fixed value (e.g. a request ID), and use that as a key for a shared <code>Map</code>.  Use the <code>Map</code> entries as the shared variables.</p>\n"},{"tags":[],"owner":{"account_id":2488750,"reputation":2947,"user_id":2166690,"accept_rate":39,"display_name":"Gregor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1501692613,"creation_date":1501692613,"answer_id":45466684,"question_id":7296623,"body_markdown":"The constructor of a runnable runs in the thread of the caller, whereas the run method runs in the child thread. You can use this fact to transfer information from the parent to the child thread. See:\r\n\r\n    public class ThreadlocalApplication {\r\n    static public ThreadLocal&lt;String&gt; tenantId = new ThreadLocal&lt;&gt;();\r\n\r\n    public static void main(String[] args) throws ExecutionException, InterruptedException {\r\n        ExecutorService executor = Executors.newCachedThreadPool();\r\n        System.out.println(Thread.currentThread().getName());\r\n        ThreadlocalApplication.tenantId.set(&quot;4711&quot;);\r\n        executor.submit(new AsyncTask()).get();\r\n        executor.shutdown();\r\n    }\r\n\r\n    static class AsyncTask implements Runnable {\r\n        private String _tenantId;\r\n\r\n        public AsyncTask() {\r\n            System.out.println(Thread.currentThread().getName());\r\n            _tenantId = ThreadlocalApplication.tenantId.get();\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            ThreadlocalApplication.tenantId.set(_tenantId);\r\n            System.out.println(Thread.currentThread().getName());\r\n            System.out.println(ThreadlocalApplication.tenantId.get());\r\n        }\r\n    }\r\n    }\r\n\r\nAnd this is the result\r\n\r\n    main\r\n    main\r\n    pool-1-thread-1\r\n    4711","title":"InheritableThreadLocal and thread pools","body":"<p>The constructor of a runnable runs in the thread of the caller, whereas the run method runs in the child thread. You can use this fact to transfer information from the parent to the child thread. See:</p>\n\n<pre><code>public class ThreadlocalApplication {\nstatic public ThreadLocal&lt;String&gt; tenantId = new ThreadLocal&lt;&gt;();\n\npublic static void main(String[] args) throws ExecutionException, InterruptedException {\n    ExecutorService executor = Executors.newCachedThreadPool();\n    System.out.println(Thread.currentThread().getName());\n    ThreadlocalApplication.tenantId.set(\"4711\");\n    executor.submit(new AsyncTask()).get();\n    executor.shutdown();\n}\n\nstatic class AsyncTask implements Runnable {\n    private String _tenantId;\n\n    public AsyncTask() {\n        System.out.println(Thread.currentThread().getName());\n        _tenantId = ThreadlocalApplication.tenantId.get();\n    }\n\n    @Override\n    public void run() {\n        ThreadlocalApplication.tenantId.set(_tenantId);\n        System.out.println(Thread.currentThread().getName());\n        System.out.println(ThreadlocalApplication.tenantId.get());\n    }\n}\n}\n</code></pre>\n\n<p>And this is the result</p>\n\n<pre><code>main\nmain\npool-1-thread-1\n4711\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6606513,"reputation":1158,"user_id":5103183,"accept_rate":50,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639244263,"creation_date":1639243942,"answer_id":70317439,"question_id":7296623,"body_markdown":"I had a similar problem and ended up creating a `ForkListeningExecutorService` which wraps an `ExecutorService` (see [here](https://github.com/gianninia/helper/blob/master/src/main/java/me/giannini/misc/helper/concurrent/ForkListeningExecutorService.java)). The wrapper sends events to a listener whenever a task is submitted to the executor or when it ends. You can then use the listener to pass whatever you want across the threads. This is how the Listener looks like:\r\n\r\n      /**\r\n       * Listener that will receive the events around task submission.\r\n       *\r\n       */\r\n      public interface ExecutorServiceListener {\r\n\r\n        /**\r\n         * Will be called &lt;b&gt;before&lt;/b&gt; any task is submitted to the service. This method will therefore run on the original &quot;parent&quot; thread.\r\n         */\r\n        default void beforeTaskSubmission() {\r\n          // to be overridden by implementations\r\n        }\r\n\r\n        /**\r\n         * Will be called &lt;b&gt;after&lt;/b&gt; a task is submitted to the service and &lt;b&gt;before&lt;/b&gt; the actual execution starts. This method will therefore run on the new &quot;child&quot; thread.\r\n         */\r\n        default void afterTaskSubmission() {\r\n          // to be overridden by implementations\r\n        }\r\n\r\n        /**\r\n         * Will be called &lt;b&gt;before&lt;/b&gt; a submitted task ends no matter if an exception was thrown or not. This method will therefore run on the new &quot;child&quot; thread just before it&#39;s\r\n         * released.\r\n         */\r\n        default void beforeTaskEnds() {\r\n          // to be overridden by implementations\r\n        }\r\n      }\r\n\r\nSo, instead of extending `ThreadPoolExecutor`, you can simply wrap it (or whatever other `ExecutorService` implementation) and pass the state within the listener like this:\r\n\r\n    public class ForkListeningExecutorServiceExample {\r\n\r\n      private static ThreadLocal&lt;String&gt; threadLocal = new ThreadLocal&lt;&gt;();\r\n\r\n      private static void printThreadMessage(final String message) {\r\n        System.out.println(message\r\n            + &quot;, current thread: &quot; + Thread.currentThread().getName()\r\n            + &quot;, value from threadLocal: &quot; + threadLocal.get());\r\n      }\r\n\r\n      public static void main(final String[] args) throws Exception {\r\n\r\n        threadLocal.set(&quot;MY_STATE&quot;);\r\n\r\n        final ExecutorService executorService = new ForkListeningExecutorService(\r\n            Executors.newCachedThreadPool(),\r\n            new ExecutorServiceListener() {\r\n\r\n              private String valueToShare;\r\n\r\n              @Override\r\n              public void beforeTaskSubmission() {\r\n                valueToShare = threadLocal.get();\r\n                printThreadMessage(&quot;The task is about to be submitted&quot;);\r\n              }\r\n\r\n              @Override\r\n              public void afterTaskSubmission() {\r\n                threadLocal.set(valueToShare);\r\n                printThreadMessage(&quot;The task has been submitted and will start now&quot;);\r\n              }\r\n\r\n              @Override\r\n              public void beforeTaskEnds() {\r\n                threadLocal.set(null);\r\n                printThreadMessage(&quot;The task has finished and thread will be released now&quot;);\r\n              }\r\n            });\r\n\r\n        executorService.submit(() -&gt; {\r\n          printThreadMessage(&quot;The task is running now&quot;);\r\n        }).get();\r\n\r\n        printThreadMessage(&quot;We are back on the main thread&quot;);\r\n      }\r\n    }\r\n\r\nThe output looks then like this:\r\n\r\n    The task is about to be submitted, current thread: main, value from threadLocal: MY_STATE\r\n    The task has been submitted and will start now, current thread: pool-1-thread-1, value from threadLocal: MY_STATE\r\n    The task is running now, current thread: pool-1-thread-1, value from threadLocal: MY_STATE\r\n    The task has finished and thread will be released now, current thread: pool-1-thread-1, value from threadLocal: null\r\n    We are back on the main thread, current thread: main, value from threadLocal: MY_STATE\r\n","title":"InheritableThreadLocal and thread pools","body":"<p>I had a similar problem and ended up creating a <code>ForkListeningExecutorService</code> which wraps an <code>ExecutorService</code> (see <a href=\"https://github.com/gianninia/helper/blob/master/src/main/java/me/giannini/misc/helper/concurrent/ForkListeningExecutorService.java\" rel=\"nofollow noreferrer\">here</a>). The wrapper sends events to a listener whenever a task is submitted to the executor or when it ends. You can then use the listener to pass whatever you want across the threads. This is how the Listener looks like:</p>\n<pre><code>  /**\n   * Listener that will receive the events around task submission.\n   *\n   */\n  public interface ExecutorServiceListener {\n\n    /**\n     * Will be called &lt;b&gt;before&lt;/b&gt; any task is submitted to the service. This method will therefore run on the original &quot;parent&quot; thread.\n     */\n    default void beforeTaskSubmission() {\n      // to be overridden by implementations\n    }\n\n    /**\n     * Will be called &lt;b&gt;after&lt;/b&gt; a task is submitted to the service and &lt;b&gt;before&lt;/b&gt; the actual execution starts. This method will therefore run on the new &quot;child&quot; thread.\n     */\n    default void afterTaskSubmission() {\n      // to be overridden by implementations\n    }\n\n    /**\n     * Will be called &lt;b&gt;before&lt;/b&gt; a submitted task ends no matter if an exception was thrown or not. This method will therefore run on the new &quot;child&quot; thread just before it's\n     * released.\n     */\n    default void beforeTaskEnds() {\n      // to be overridden by implementations\n    }\n  }\n</code></pre>\n<p>So, instead of extending <code>ThreadPoolExecutor</code>, you can simply wrap it (or whatever other <code>ExecutorService</code> implementation) and pass the state within the listener like this:</p>\n<pre><code>public class ForkListeningExecutorServiceExample {\n\n  private static ThreadLocal&lt;String&gt; threadLocal = new ThreadLocal&lt;&gt;();\n\n  private static void printThreadMessage(final String message) {\n    System.out.println(message\n        + &quot;, current thread: &quot; + Thread.currentThread().getName()\n        + &quot;, value from threadLocal: &quot; + threadLocal.get());\n  }\n\n  public static void main(final String[] args) throws Exception {\n\n    threadLocal.set(&quot;MY_STATE&quot;);\n\n    final ExecutorService executorService = new ForkListeningExecutorService(\n        Executors.newCachedThreadPool(),\n        new ExecutorServiceListener() {\n\n          private String valueToShare;\n\n          @Override\n          public void beforeTaskSubmission() {\n            valueToShare = threadLocal.get();\n            printThreadMessage(&quot;The task is about to be submitted&quot;);\n          }\n\n          @Override\n          public void afterTaskSubmission() {\n            threadLocal.set(valueToShare);\n            printThreadMessage(&quot;The task has been submitted and will start now&quot;);\n          }\n\n          @Override\n          public void beforeTaskEnds() {\n            threadLocal.set(null);\n            printThreadMessage(&quot;The task has finished and thread will be released now&quot;);\n          }\n        });\n\n    executorService.submit(() -&gt; {\n      printThreadMessage(&quot;The task is running now&quot;);\n    }).get();\n\n    printThreadMessage(&quot;We are back on the main thread&quot;);\n  }\n}\n</code></pre>\n<p>The output looks then like this:</p>\n<pre><code>The task is about to be submitted, current thread: main, value from threadLocal: MY_STATE\nThe task has been submitted and will start now, current thread: pool-1-thread-1, value from threadLocal: MY_STATE\nThe task is running now, current thread: pool-1-thread-1, value from threadLocal: MY_STATE\nThe task has finished and thread will be released now, current thread: pool-1-thread-1, value from threadLocal: null\nWe are back on the main thread, current thread: main, value from threadLocal: MY_STATE\n</code></pre>\n"}],"owner":{"account_id":18929,"reputation":5197,"user_id":43864,"accept_rate":62,"display_name":"neesh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8472,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":3,"score":15,"last_activity_date":1639244263,"creation_date":1315095134,"question_id":7296623,"body_markdown":"I have a problem which I don&#39;t really think has a solution but I&#39;ll try here anyway. My application uses a thread pool and some of the threads in this pool have an inheritable thread local variable. I&#39;ve extended the ThreadPoolExecutor class to essentially clear out the thread local variable (in the afterExecute call back method) when a thread is done executing. \r\n\r\nI understand that when you have an InheritableThreadLocal variable, the childValue() method is called when the thread is initialized to get the ThreadLocal variable&#39;s value from the parent thread. However, in my case the next time the thread is used (after being used once), the value of the InheritableThreadLocal variable is null (because it was previously cleared out in afterExecute). Is there a way to access the parent thread&#39;s thread local variable in beforeExecute so that I can essentially simulate what the childValue method in InheritableThreadLocal does at the time of thread creation.","title":"InheritableThreadLocal and thread pools","body":"<p>I have a problem which I don't really think has a solution but I'll try here anyway. My application uses a thread pool and some of the threads in this pool have an inheritable thread local variable. I've extended the ThreadPoolExecutor class to essentially clear out the thread local variable (in the afterExecute call back method) when a thread is done executing. </p>\n\n<p>I understand that when you have an InheritableThreadLocal variable, the childValue() method is called when the thread is initialized to get the ThreadLocal variable's value from the parent thread. However, in my case the next time the thread is used (after being used once), the value of the InheritableThreadLocal variable is null (because it was previously cleared out in afterExecute). Is there a way to access the parent thread's thread local variable in beforeExecute so that I can essentially simulate what the childValue method in InheritableThreadLocal does at the time of thread creation.</p>\n"},{"tags":["java","generics","java-8","java-11","micronaut"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1638971472,"post_id":70275259,"comment_id":124228684,"body_markdown":"What is `C` in the record declaration? (Records can be generic. Yours is not.)","body":"What is <code>C</code> in the record declaration? (Records can be generic. Yours is not.)"},{"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"score":0,"creation_date":1638971572,"post_id":70275259,"comment_id":124228740,"body_markdown":"C will be either CreateProductCommand or UpdateProductCommand or DeleteCommand","body":"C will be either CreateProductCommand or UpdateProductCommand or DeleteCommand"},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1638972412,"post_id":70275259,"comment_id":124229116,"body_markdown":"In `IServiceBus` is `&lt;C,R&gt; R send(C c)` the same as `Object send(Object o)`?","body":"In <code>IServiceBus</code> is <code>&lt;C,R&gt; R send(C c)</code> the same as <code>Object send(Object o)</code>?"},{"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"score":0,"creation_date":1638972605,"post_id":70275259,"comment_id":124229204,"body_markdown":"@JeffScottBrown The equivalent of &lt;C,R&gt; R send(C c) is  &lt; CreateProductCommand, ResponseCreateProduct&gt; ResponseCreateProduct send (CreateProductCommand createProductCommand)","body":"@JeffScottBrown The equivalent of &lt;C,R&gt; R send(C c) is  &lt; CreateProductCommand, ResponseCreateProduct&gt; ResponseCreateProduct send (CreateProductCommand createProductCommand)"},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":1,"creation_date":1638973413,"post_id":70275259,"comment_id":124229586,"body_markdown":"Given the way your code is written, it isn&#39;t clear to me how the compiler could figure that out.","body":"Given the way your code is written, it isn&#39;t clear to me how the compiler could figure that out."}],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1638979543,"creation_date":1638973185,"answer_id":70276531,"question_id":70275259,"body_markdown":"You incorrectly defined IServiceBus interface:\r\n\r\n```\r\npublic interface IServiceBus {\r\n    &lt;C,R&gt; R send(C c);\r\n}\r\n```\r\n\r\nshould be:\r\n\r\n```\r\npublic interface IServiceBus&lt;C,R&gt; {\r\n    R send(C c);\r\n}\r\n```\r\n\r\nUPD. Very basic example of registry.\r\n\r\n```\r\npublic interface IRequestHandler&lt;C, R&gt; {\r\n\r\n    R handler(C c);\r\n\r\n    Class&lt;C&gt; getCmdType();\r\n    \r\n}\r\n\r\npublic class ServiceBus implements IServiceBus {\r\n\r\n    private final Map&lt;Class&lt;?&gt;, IRequestHandler&lt;?, ?&gt;&gt; handlerMap;\r\n\r\n    public ServiceBus(List&lt;IRequestHandler&lt;?, ?&gt;&gt; handlers) {\r\n        handlerMap = handlers.stream()\r\n                .collect(toMap(\r\n                        IRequestHandler::getCmdType,\r\n                        Function.identity()\r\n                ));\r\n    }\r\n\r\n    @Override\r\n    public &lt;C, R&gt; R send(C c) {\r\n        IRequestHandler&lt;C, R&gt; handler = (IRequestHandler&lt;C, R&gt;) handlerMap.get(c.getClass());\r\n        if (handler == null) {\r\n            throw new UnsupportedOperationException(&quot;Unsupported command: &quot; + c.getClass());\r\n        }\r\n        return handler.handler(c);\r\n    }\r\n\r\n}\r\n```\r\n\r\n","title":"Generic class registry for command and handler in Java with Micronaut","body":"<p>You incorrectly defined IServiceBus interface:</p>\n<pre><code>public interface IServiceBus {\n    &lt;C,R&gt; R send(C c);\n}\n</code></pre>\n<p>should be:</p>\n<pre><code>public interface IServiceBus&lt;C,R&gt; {\n    R send(C c);\n}\n</code></pre>\n<p>UPD. Very basic example of registry.</p>\n<pre><code>public interface IRequestHandler&lt;C, R&gt; {\n\n    R handler(C c);\n\n    Class&lt;C&gt; getCmdType();\n    \n}\n\npublic class ServiceBus implements IServiceBus {\n\n    private final Map&lt;Class&lt;?&gt;, IRequestHandler&lt;?, ?&gt;&gt; handlerMap;\n\n    public ServiceBus(List&lt;IRequestHandler&lt;?, ?&gt;&gt; handlers) {\n        handlerMap = handlers.stream()\n                .collect(toMap(\n                        IRequestHandler::getCmdType,\n                        Function.identity()\n                ));\n    }\n\n    @Override\n    public &lt;C, R&gt; R send(C c) {\n        IRequestHandler&lt;C, R&gt; handler = (IRequestHandler&lt;C, R&gt;) handlerMap.get(c.getClass());\n        if (handler == null) {\n            throw new UnsupportedOperationException(&quot;Unsupported command: &quot; + c.getClass());\n        }\n        return handler.handler(c);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":409,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70276531,"answer_count":1,"score":1,"last_activity_date":1639244055,"creation_date":1638967658,"question_id":70275259,"body_markdown":"Trying to do the dependency injection of java generics class in Micronaut\r\n\r\nInterface\r\n\r\n    public interface IRequestHandler&lt;C, R&gt; {\r\n        R handler(C c);\r\n    }\r\n\r\nDependency Injection\r\n\r\n    @Singleton\r\n    public record ServiceBus(IRequestHandler&lt;C, R&gt; iRequestHandler) implements IServiceBus{\r\n    \r\n        @Override\r\n        public &lt;C, R&gt; R send(C c) {\r\n            return iRequestHandler.handler(c);\r\n        }\r\n    }\r\n\r\nInterface\r\n\r\n    public interface IServiceBus {\r\n        &lt;C,R&gt; R send(C c);\r\n    }\r\n\r\nImplementation\r\n\r\n    public class ProductController {\r\n        public ProductController(IServiceBus iRequestHandler){\r\n            _iserviceBus= iRequestHandler;\r\n        }\r\n         public Mono&lt;?&gt; get(ProductSearchCriteriaCommand searchCriteria) {\r\n                var item = _iserviceBus.&lt;CreateProductCommand,CreateProductCommand&gt;send(new CreateProductCommand());\r\n                return null;\r\n            }\r\n    }\r\n\r\nProblem for me is on ServiceBus class, how can I pass the type for `public record ServiceBus(IRequestHandler&lt;C, R&gt; iRequestHandler)` and `iRequestHandler.handler(c);`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XuLPG.png\r\n\r\n    @Singleton\r\n    public class CreateProductCommandHandler implements IRequestHandler&lt;CreateProductCommand, CreateProductCommand&gt; {\r\n        @Override\r\n        public CreateProductCommand handler(CreateProductCommand createProductCommand) {\r\n            return null;\r\n        }\r\n    }\r\n    \r\n    @Singleton\r\n    public record DeleteProductCommandHandler() implements IRequestHandler&lt;DeleteProductCommand,DeleteProductCommand&gt; {\r\n    \r\n        @Override\r\n        public DeleteProductCommand handler(DeleteProductCommand deleteProductCommand) {\r\n            return null;\r\n        }\r\n    }\r\n\r\nWhen I am calling `_iserviceBus.&lt;CreateProductCommand,CreateProductCommand&gt;send(new CreateProductCommand());` in controller I am trying to invoke `handler` method in `CreateProductCommandHandler` class\r\n\r\nSimilarly if I call `_iserviceBus.&lt;CreateProductCommand,CreateProductCommand&gt;send(new DeleteProductCommand());` the `handler` method of `DeleteProductCommandHandler` class should get invoke","title":"Generic class registry for command and handler in Java with Micronaut","body":"<p>Trying to do the dependency injection of java generics class in Micronaut</p>\n<p>Interface</p>\n<pre><code>public interface IRequestHandler&lt;C, R&gt; {\n    R handler(C c);\n}\n</code></pre>\n<p>Dependency Injection</p>\n<pre><code>@Singleton\npublic record ServiceBus(IRequestHandler&lt;C, R&gt; iRequestHandler) implements IServiceBus{\n\n    @Override\n    public &lt;C, R&gt; R send(C c) {\n        return iRequestHandler.handler(c);\n    }\n}\n</code></pre>\n<p>Interface</p>\n<pre><code>public interface IServiceBus {\n    &lt;C,R&gt; R send(C c);\n}\n</code></pre>\n<p>Implementation</p>\n<pre><code>public class ProductController {\n    public ProductController(IServiceBus iRequestHandler){\n        _iserviceBus= iRequestHandler;\n    }\n     public Mono&lt;?&gt; get(ProductSearchCriteriaCommand searchCriteria) {\n            var item = _iserviceBus.&lt;CreateProductCommand,CreateProductCommand&gt;send(new CreateProductCommand());\n            return null;\n        }\n}\n</code></pre>\n<p>Problem for me is on ServiceBus class, how can I pass the type for <code>public record ServiceBus(IRequestHandler&lt;C, R&gt; iRequestHandler)</code> and <code>iRequestHandler.handler(c);</code></p>\n<p><a href=\"https://i.stack.imgur.com/XuLPG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XuLPG.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>@Singleton\npublic class CreateProductCommandHandler implements IRequestHandler&lt;CreateProductCommand, CreateProductCommand&gt; {\n    @Override\n    public CreateProductCommand handler(CreateProductCommand createProductCommand) {\n        return null;\n    }\n}\n\n@Singleton\npublic record DeleteProductCommandHandler() implements IRequestHandler&lt;DeleteProductCommand,DeleteProductCommand&gt; {\n\n    @Override\n    public DeleteProductCommand handler(DeleteProductCommand deleteProductCommand) {\n        return null;\n    }\n}\n</code></pre>\n<p>When I am calling <code>_iserviceBus.&lt;CreateProductCommand,CreateProductCommand&gt;send(new CreateProductCommand());</code> in controller I am trying to invoke <code>handler</code> method in <code>CreateProductCommandHandler</code> class</p>\n<p>Similarly if I call <code>_iserviceBus.&lt;CreateProductCommand,CreateProductCommand&gt;send(new DeleteProductCommand());</code> the <code>handler</code> method of <code>DeleteProductCommandHandler</code> class should get invoke</p>\n"},{"tags":["java","swing","jframe"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1639244314,"post_id":70317381,"comment_id":124301380,"body_markdown":"[Cannot reproduce](https://i.stack.imgur.com/jdsXe.png) here. Note that the size of that image is 600 x 120 to make it smaller, but the same effect happened at 600 x 60. Having said that, a GUI should be packed, and it should be created and shown on the EDT. BTW - what OS &amp; settings are you using to see a purple frame?","body":"<a href=\"https://i.stack.imgur.com/jdsXe.png\" rel=\"nofollow noreferrer\">Cannot reproduce</a> here. Note that the size of that image is 600 x 120 to make it smaller, but the same effect happened at 600 x 60. Having said that, a GUI should be packed, and it should be created and shown on the EDT. BTW - what OS &amp; settings are you using to see a purple frame?"},{"owner":{"account_id":20641145,"reputation":11,"user_id":15153786,"display_name":"Plamen Tsanev"},"score":0,"creation_date":1639245988,"post_id":70317381,"comment_id":124301744,"body_markdown":"Windows 10 and I am not sure about settings. I noticed the bar disappears when I resize the window though.","body":"Windows 10 and I am not sure about settings. I noticed the bar disappears when I resize the window though."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1639246181,"post_id":70317381,"comment_id":124301793,"body_markdown":"1) *try to set it&#39;s background color to completely black* - then use `Color.BLACK` which is more easily understood than &quot;new Color(0, 0, 0)&quot;. 2) I also don&#39;t have a problem on Wiondows 10.","body":"1) <i>try to set it&#39;s background color to completely black</i> - then use <code>Color.BLACK</code> which is more easily understood than &quot;new Color(0, 0, 0)&quot;. 2) I also don&#39;t have a problem on Wiondows 10."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1639249405,"post_id":70317381,"comment_id":124302485,"body_markdown":"Me: *&quot;same effect happened at 600 x 60&quot;* My bad. It was the same size as set in the original source code. 800 x 600. *&quot;I noticed the bar disappears when I resize the window though.&quot;* `pack()` the frame. I&#39;d predict 90%+ chance that will solve the problem.","body":"Me: <i>&quot;same effect happened at 600 x 60&quot;</i> My bad. It was the same size as set in the original source code. 800 x 600. <i>&quot;I noticed the bar disappears when I resize the window though.&quot;</i> <code>pack()</code> the frame. I&#39;d predict 90%+ chance that will solve the problem."},{"owner":{"account_id":20641145,"reputation":11,"user_id":15153786,"display_name":"Plamen Tsanev"},"score":0,"creation_date":1639324692,"post_id":70317381,"comment_id":124314545,"body_markdown":"I set it to Color.BLACK and packed the frame, but still nothing.","body":"I set it to Color.BLACK and packed the frame, but still nothing."}],"owner":{"account_id":20641145,"reputation":11,"user_id":15153786,"display_name":"Plamen Tsanev"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639243471,"creation_date":1639243471,"question_id":70317381,"body_markdown":"I am goofing around trying to learn Java Swing and whether I create a window and try to set it&#39;s background color to completely black I get this annoying white bar at the bottom.\r\n[Just like this!][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AhyfD.png\r\n\r\n\r\nHere is  my code:\r\n              \r\n          package com.company;\r\n\r\n          import java.awt.*;\r\n          import javax.swing.*;\r\n\r\n          public class Main {\r\n\r\n             public static void main(String[] args) {\r\n\t         JFrame window = new JFrame(&quot;Pong!&quot;);\r\n\r\n             Container backG = window.getContentPane();\r\n             backG.setBackground(new Color(0, 0, 0));\r\n             window.setSize(800, 600);\r\n             window.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n             window.setVisible(true);\r\n            }\r\n          }\r\n","title":"Little annoying white bar at bottom of JFrame","body":"<p>I am goofing around trying to learn Java Swing and whether I create a window and try to set it's background color to completely black I get this annoying white bar at the bottom.\n<a href=\"https://i.stack.imgur.com/AhyfD.png\" rel=\"nofollow noreferrer\">Just like this!</a></p>\n<p>Here is  my code:</p>\n<pre><code>      package com.company;\n\n      import java.awt.*;\n      import javax.swing.*;\n\n      public class Main {\n\n         public static void main(String[] args) {\n         JFrame window = new JFrame(&quot;Pong!&quot;);\n\n         Container backG = window.getContentPane();\n         backG.setBackground(new Color(0, 0, 0));\n         window.setSize(800, 600);\n         window.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n         window.setVisible(true);\n        }\n      }\n</code></pre>\n"},{"tags":["java","eclipse","javasound"],"comments":[{"owner":{"account_id":9852188,"reputation":386,"user_id":7297931,"display_name":"Rajesh Kumar Raj"},"score":0,"creation_date":1639242919,"post_id":70316673,"comment_id":124301072,"body_markdown":"Your code is fine. I can execute your code and play a .wav file in my system successfully. One reason I  think of is the audio device problem. is your audio device enabled? can you able to play the audio directly using a player without using the code?","body":"Your code is fine. I can execute your code and play a .wav file in my system successfully. One reason I  think of is the audio device problem. is your audio device enabled? can you able to play the audio directly using a player without using the code?"},{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1639243264,"post_id":70316673,"comment_id":124301143,"body_markdown":"Looking at the DirectAudioDevice source code it looks like there is probably a problem with your wav file contents leading to the code calculating a negative length.","body":"Looking at the DirectAudioDevice source code it looks like there is probably a problem with your wav file contents leading to the code calculating a negative length."},{"owner":{"account_id":14725244,"reputation":482,"user_id":10634487,"display_name":"Bill Naylor"},"score":0,"creation_date":1639244323,"post_id":70316673,"comment_id":124301383,"body_markdown":"Could you share which java version you are using, there seem substantial differences in the code `com.sun.media.sound.DirectAudioDevice.java` between jdk8, jdk11 etc.","body":"Could you share which java version you are using, there seem substantial differences in the code <code>com.sun.media.sound.DirectAudioDevice.java</code> between jdk8, jdk11 etc."}],"owner":{"account_id":23619332,"reputation":1,"user_id":17652892,"display_name":"Jack Young"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639242651,"creation_date":1639238272,"question_id":70316673,"body_markdown":"Here is my method below to play a sound:\r\n\r\n\r\n\t\r\n\tvoid playMusic(String musicLocation) {\r\n\t\r\n\t\ttry {\r\n\t\t\tFile musicPath = new File(musicLocation);\r\n\t\t\tif(musicPath.exists()) {\r\n\t\t\t\tSystem.out.println(&quot;file found&quot;);\t\t\r\n\t\t\t\tAudioInputStream audioInput = AudioSystem.getAudioInputStream(musicPath);\r\n\t\t\t\tClip clip = AudioSystem.getClip();\r\n\t\t\t\tclip.open(audioInput);\r\n\t\t\t\tclip.start();\r\n\t\t\t\tclip.loop(Clip.LOOP_CONTINUOUSLY);\r\n\t\t\t\tJOptionPane.showMessageDialog(null, &quot;Press ok to stop playing&quot;);\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tSystem.out.println(&quot;Can&#39;t find file&quot;);\r\n\t\t\t\tSystem.out.println(musicLocation);\r\n\t\t\t}\r\n\t\t}catch(Exception ex) {\r\n\t\t\tex.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\nThis method is called from another class with: \r\n```\r\nString filepath = &quot;suss.wav&quot;;\r\nMusic musicObject = new Music();\r\nmusicObject.playMusic(filepath);\r\n\r\n```\r\n\r\nWhen I run it, I first get `file found` and then the error message:\r\n```java.lang.NegativeArraySizeException: -4\r\n\tat java.desktop/com.sun.media.sound.DirectAudioDevice$DirectClip.open(DirectAudioDevice.java:1130)\r\n\tat mod.Music.playMusic(Music.java:26)\r\n\tat mod.Overseer.&lt;init&gt;(Overseer.java:35)\r\n\tat main.Main.main(Main.java:8)\r\n```\r\n    \r\nWhat does this mean and how would I fix it?","title":"When Clip.open() is called, there is a java.lang.NegativeArraySizeException: -4. What does this mean and how do I fix it?","body":"<p>Here is my method below to play a sound:</p>\n<pre><code>void playMusic(String musicLocation) {\n\n    try {\n        File musicPath = new File(musicLocation);\n        if(musicPath.exists()) {\n            System.out.println(&quot;file found&quot;);       \n            AudioInputStream audioInput = AudioSystem.getAudioInputStream(musicPath);\n            Clip clip = AudioSystem.getClip();\n            clip.open(audioInput);\n            clip.start();\n            clip.loop(Clip.LOOP_CONTINUOUSLY);\n            JOptionPane.showMessageDialog(null, &quot;Press ok to stop playing&quot;);\n            \n            \n        }\n        else {\n            System.out.println(&quot;Can't find file&quot;);\n            System.out.println(musicLocation);\n        }\n    }catch(Exception ex) {\n        ex.printStackTrace();\n    }\n}\n</code></pre>\n<p>This method is called from another class with:</p>\n<pre><code>String filepath = &quot;suss.wav&quot;;\nMusic musicObject = new Music();\nmusicObject.playMusic(filepath);\n\n</code></pre>\n<p>When I run it, I first get <code>file found</code> and then the error message:</p>\n<pre><code>    at java.desktop/com.sun.media.sound.DirectAudioDevice$DirectClip.open(DirectAudioDevice.java:1130)\n    at mod.Music.playMusic(Music.java:26)\n    at mod.Overseer.&lt;init&gt;(Overseer.java:35)\n    at main.Main.main(Main.java:8)\n</code></pre>\n<p>What does this mean and how would I fix it?</p>\n"},{"tags":["java","android","android-studio","arraylist","android-recyclerview"],"comments":[{"owner":{"account_id":1238981,"reputation":132436,"user_id":1202025,"accept_rate":80,"display_name":"ρяσѕρєя K"},"score":1,"creation_date":1638856540,"post_id":70255421,"comment_id":124192434,"body_markdown":"Because `book_title` size is less then `book_id` ArrayList","body":"Because <code>book_title</code> size is less then <code>book_id</code> ArrayList"},{"owner":{"account_id":20145264,"reputation":250,"user_id":14773942,"display_name":"ʀᴀʜɪʟ"},"score":0,"creation_date":1638857315,"post_id":70255421,"comment_id":124192588,"body_markdown":"Please add stack trace and add a comment on the line where the exception is thrown.","body":"Please add stack trace and add a comment on the line where the exception is thrown."}],"owner":{"account_id":4679450,"reputation":15,"user_id":3788604,"display_name":"user3788604"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639241582,"creation_date":1638855739,"question_id":70255421,"body_markdown":"I am trying to filter my RecyclerView using SearchView by following this guide: https://www.geeksforgeeks.org/searchview-in-android-with-recyclerview/\r\n\r\nHowever, I am getting an IndexOutOfBoundsException when making one Arraylist equal to another, which I believe is happening at this portion of the code here:\r\n```java\r\npublic void filterList(ArrayList filteredlist) {\r\n    // below line is to add our filtered\r\n    // list in our course array list.\r\n    book_title = filteredlist;\r\n    // below line is to notify our adapter\r\n    // as change in recycler view data.\r\n    notifyDataSetChanged();\r\n}\r\n```\r\n\r\n**Here is the full code for my adapter class:**\r\n\r\n```\r\npackage com.benjamin.kwok.recipertracker;\r\n\r\nimport android.app.Activity;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.os.Build;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.view.animation.Animation;\r\nimport android.view.animation.AnimationUtils;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.RequiresApi;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class CustomAdapter extends RecyclerView.Adapter&lt;CustomAdapter.MyViewHolder&gt; {\r\n\r\n    private Context context;\r\n    private Activity activity;\r\n    private ArrayList book_id, book_title, book_author, book_pages;\r\n\r\n    CustomAdapter(Activity activity, Context context, ArrayList book_id, ArrayList book_title, ArrayList book_author,\r\n                  ArrayList book_pages){\r\n        this.activity = activity;\r\n        this.context = context;\r\n        this.book_id = book_id;\r\n        this.book_title = book_title;\r\n        this.book_author = book_author;\r\n        this.book_pages = book_pages;\r\n    }\r\n\r\n    public void filterList(ArrayList filteredlist) {\r\n        // below line is to add our filtered\r\n        // list in our course array list.\r\n        book_title = filteredlist;\r\n        // below line is to notify our adapter\r\n        // as change in recycler view data.\r\n        notifyDataSetChanged();\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        LayoutInflater inflater = LayoutInflater.from(context);\r\n        View view = inflater.inflate(R.layout.my_row, parent, false);\r\n        return new MyViewHolder(view);\r\n    }\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.M)\r\n    @Override\r\n    public void onBindViewHolder(@NonNull final MyViewHolder holder, final int position) {\r\n\r\n        holder.book_title_txt.setText(String.valueOf(book_title.get(position)));\r\n        holder.book_author_txt.setText(String.valueOf(book_author.get(position)));\r\n        holder.book_pages_txt.setText(String.valueOf(book_pages.get(position)));\r\n        //Recyclerview onClickListener\r\n        holder.mainLayout.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(context, UpdateActivity.class);\r\n                intent.putExtra(&quot;id&quot;, String.valueOf(book_id.get(position)));\r\n                intent.putExtra(&quot;title&quot;, String.valueOf(book_title.get(position)));\r\n                intent.putExtra(&quot;author&quot;, String.valueOf(book_author.get(position)));\r\n                intent.putExtra(&quot;pages&quot;, String.valueOf(book_pages.get(position)));\r\n                activity.startActivityForResult(intent, 1);\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return book_id.size();\r\n    }\r\n\r\n    class MyViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        TextView book_id_txt, book_title_txt, book_author_txt, book_pages_txt;\r\n        LinearLayout mainLayout;\r\n\r\n        MyViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            book_title_txt = itemView.findViewById(R.id.recipe_title_txt);\r\n            book_author_txt = itemView.findViewById(R.id.book_description_txt);\r\n            book_pages_txt = itemView.findViewById(R.id.recipe_pages_txt);\r\n            mainLayout = itemView.findViewById(R.id.mainLayout);\r\n            //Animate Recyclerview\r\n            Animation translate_anim = AnimationUtils.loadAnimation(context, R.anim.translate_anim);\r\n            mainLayout.setAnimation(translate_anim);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\n**And the full code for my MainActivity:**\r\n```\r\npackage com.benjamin.kwok.recipertracker;\r\n\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AlertDialog;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.SearchView;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.core.content.FileProvider;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.Manifest;\r\nimport android.app.Activity;\r\nimport android.content.ContentValues;\r\nimport android.content.DialogInterface;\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.content.pm.PackageManager;\r\nimport android.database.Cursor;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.drawable.BitmapDrawable;\r\nimport android.media.MediaScannerConnection;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.os.Environment;\r\nimport android.preference.PreferenceManager;\r\nimport android.provider.MediaStore;\r\nimport android.view.Menu;\r\nimport android.view.MenuInflater;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\r\n\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.OutputStream;\r\nimport java.text.DateFormat;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.ArrayList;\r\nimport java.util.Date;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    RecyclerView recyclerView;\r\n    FloatingActionButton add_button;\r\n    FloatingActionButton camera_button;\r\n    ImageView empty_imageview;\r\n    ImageView imageView;\r\n    TextView no_data;\r\n    MyDatabaseHelper myDB;\r\n    ArrayList&lt;String&gt; recipe_id, recipe_title, recipe_description, recipe_minutes;\r\n    CustomAdapter customAdapter;\r\n    final static private int NEW_PICTURE = 1;\r\n    private String mCameraFileName;\r\n\r\n    private static final String TAG = &quot;CapturePicture&quot;;\r\n    static final int REQUEST_PICTURE_CAPTURE = 1;\r\n\r\n    private String pictureFilePath;\r\n\r\n    private String deviceIdentifier;\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE},1);\r\n        ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE},1);\r\n\r\n//        SharedPreferences mSharedPreference= PreferenceManager.getDefaultSharedPreferences(this);\r\n//        SharedPreferences.Editor editor = mSharedPreference.edit();\r\n//        String text= mSharedPreference.getString(getString(R.string.name), &quot;&quot;);\r\n////        name_output.setText(text);\r\n\r\n\r\n        recyclerView = findViewById(R.id.recyclerView);\r\n        add_button = findViewById(R.id.add_button);\r\n        camera_button = findViewById(R.id.camera_button);\r\n        empty_imageview = findViewById(R.id.empty_imageview);\r\n        imageView = findViewById(R.id.imageView);\r\n        no_data = findViewById(R.id.no_data);\r\n        add_button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(MainActivity.this, AddActivity.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n        camera_button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n                startActivityForResult(intent, 100);\r\n\r\n            }\r\n        });\r\n\r\n\r\n        myDB = new MyDatabaseHelper(MainActivity.this);\r\n        recipe_id = new ArrayList&lt;&gt;();\r\n        recipe_title = new ArrayList&lt;&gt;(10);\r\n        recipe_description = new ArrayList&lt;&gt;();\r\n        recipe_minutes = new ArrayList&lt;&gt;();\r\n\r\n        storeDataInArrays();\r\n\r\n        customAdapter = new CustomAdapter(MainActivity.this,this, recipe_id, recipe_title, recipe_description,\r\n                recipe_minutes);\r\n        recyclerView.setAdapter(customAdapter);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(MainActivity.this));\r\n\r\n        loadData();\r\n    }\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == 100) {\r\n\r\n            Bundle bundle = data.getExtras();\r\n            Bitmap captureImage = (Bitmap) bundle.get(&quot;data&quot;);\r\n            imageView.setImageBitmap(captureImage);\r\n\r\n            saveToGallery();\r\n\r\n        }\r\n        if(resultCode == RESULT_OK){\r\n            Toast.makeText(this, &quot;Image added to Gallery&quot;, Toast.LENGTH_LONG);\r\n        }\r\n\r\n    }\r\n\r\n    private void saveToGallery(){\r\n\r\n\r\n        BitmapDrawable draw = (BitmapDrawable) imageView.getDrawable();\r\n        Bitmap bitmap = draw.getBitmap();\r\n\r\n        FileOutputStream outStream = null;\r\n        File sdCard = Environment.getExternalStorageDirectory();\r\n        File dir = new File(sdCard.getAbsolutePath() + &quot;/RecipeImages&quot;);\r\n        dir.mkdirs();\r\n        String fileName = String.format(&quot;%d.jpg&quot;, System.currentTimeMillis());\r\n        File outFile = new File(dir, fileName);\r\n        MediaScannerConnection.scanFile(this, new String[] { outFile.getPath() }, new String[] { &quot;image/jpeg&quot; }, null);\r\n\r\n        try {\r\n            outStream = new FileOutputStream(outFile);\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n        bitmap.compress(Bitmap.CompressFormat.JPEG, 100, outStream);\r\n        try {\r\n            outStream.flush();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        try {\r\n            outStream.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    void storeDataInArrays(){\r\n        Cursor cursor = myDB.readAllData();\r\n        if(cursor.getCount() == 0){\r\n            empty_imageview.setVisibility(View.VISIBLE);\r\n            no_data.setVisibility(View.VISIBLE);\r\n        }else{\r\n            while (cursor.moveToNext()){\r\n                recipe_id.add(cursor.getString(0));\r\n                recipe_title.add(cursor.getString(1));\r\n                recipe_description.add(cursor.getString(2));\r\n                recipe_minutes.add(cursor.getString(3));\r\n            }\r\n            empty_imageview.setVisibility(View.GONE);\r\n            no_data.setVisibility(View.GONE);\r\n        }\r\n    }\r\n\r\n    public void loadData() {\r\n        SharedPreferences mPreferences = PreferenceManager.getDefaultSharedPreferences(this);\r\n        String name = mPreferences.getString(&quot;name&quot;,&quot;&quot;);\r\n        setTitle(name+&quot;&#39;s&quot; + &quot; Recipe Tracker&quot;);\r\n\r\n    }\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        MenuInflater inflater = getMenuInflater();\r\n        inflater.inflate(R.menu.my_menu, menu);\r\n//        return super.onCreateOptionsMenu(menu);\r\n        MenuItem searchItem = menu.findItem(R.id.actionSearch);\r\n\r\n        // getting search view of our item.\r\n        SearchView searchView = (SearchView) searchItem.getActionView();\r\n\r\n        // below line is to call set on query text listener method.\r\n        searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n            @Override\r\n            public boolean onQueryTextSubmit(String query) {\r\n                return false;\r\n            }\r\n\r\n            @Override\r\n            public boolean onQueryTextChange(String newText) {\r\n                // inside on query text change method we are\r\n                // calling a method to filter our recycler view.\r\n                filter(newText);\r\n                return false;\r\n            }\r\n        });\r\n        return true;\r\n    }\r\n    private void filter(String text) {\r\n        // creating a new array list to filter our data.\r\n        ArrayList filteredlist = new ArrayList&lt;&gt;();\r\n\r\n        // running a for loop to compare elements.\r\n        for (String item : recipe_title) {\r\n            // checking if the entered string matched with any item of our recycler view.\r\n            if (item.toLowerCase().contains(text.toLowerCase())) {\r\n                // if the item is matched we are\r\n                // adding it to our filtered list.\r\n                filteredlist.add(item);\r\n            }\r\n        }\r\n        if (filteredlist.isEmpty()) {\r\n            // if no item is added in filtered list we are\r\n            // displaying a toast message as no data found.\r\n            Toast.makeText(this, &quot;No Data Found..&quot;, Toast.LENGTH_SHORT).show();\r\n        } else {\r\n            // at last we are passing that filtered\r\n            // list to our adapter class.\r\n            customAdapter.filterList(filteredlist);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        if(item.getItemId() == R.id.delete_all){\r\n            confirmDialog();\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\n    void confirmDialog(){\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n        builder.setTitle(&quot;Delete All?&quot;);\r\n        builder.setMessage(&quot;Are you sure you want to delete all Data?&quot;);\r\n        builder.setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\r\n            @Override\r\n            public void onClick(DialogInterface dialogInterface, int i) {\r\n                MyDatabaseHelper myDB = new MyDatabaseHelper(MainActivity.this);\r\n                myDB.deleteAllData();\r\n                //Refresh Activity\r\n                Intent intent = new Intent(MainActivity.this, MainActivity.class);\r\n                startActivity(intent);\r\n                finish();\r\n            }\r\n        });\r\n        builder.setNegativeButton(&quot;No&quot;, new DialogInterface.OnClickListener() {\r\n            @Override\r\n            public void onClick(DialogInterface dialogInterface, int i) {\r\n\r\n            }\r\n        });\r\n        builder.create().show();\r\n    }\r\n}\r\n```\r\nAs soon as I start typing in a new search query, this error seems to get thrown.","title":"IndexOutOfBoundsException when making one Arraylist equal to another","body":"<p>I am trying to filter my RecyclerView using SearchView by following this guide: <a href=\"https://www.geeksforgeeks.org/searchview-in-android-with-recyclerview/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/searchview-in-android-with-recyclerview/</a></p>\n<p>However, I am getting an IndexOutOfBoundsException when making one Arraylist equal to another, which I believe is happening at this portion of the code here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void filterList(ArrayList filteredlist) {\n    // below line is to add our filtered\n    // list in our course array list.\n    book_title = filteredlist;\n    // below line is to notify our adapter\n    // as change in recycler view data.\n    notifyDataSetChanged();\n}\n</code></pre>\n<p><strong>Here is the full code for my adapter class:</strong></p>\n<pre><code>package com.benjamin.kwok.recipertracker;\n\nimport android.app.Activity;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.os.Build;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.view.animation.Animation;\nimport android.view.animation.AnimationUtils;\nimport android.widget.LinearLayout;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.RequiresApi;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\n\npublic class CustomAdapter extends RecyclerView.Adapter&lt;CustomAdapter.MyViewHolder&gt; {\n\n    private Context context;\n    private Activity activity;\n    private ArrayList book_id, book_title, book_author, book_pages;\n\n    CustomAdapter(Activity activity, Context context, ArrayList book_id, ArrayList book_title, ArrayList book_author,\n                  ArrayList book_pages){\n        this.activity = activity;\n        this.context = context;\n        this.book_id = book_id;\n        this.book_title = book_title;\n        this.book_author = book_author;\n        this.book_pages = book_pages;\n    }\n\n    public void filterList(ArrayList filteredlist) {\n        // below line is to add our filtered\n        // list in our course array list.\n        book_title = filteredlist;\n        // below line is to notify our adapter\n        // as change in recycler view data.\n        notifyDataSetChanged();\n    }\n\n    @NonNull\n    @Override\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        LayoutInflater inflater = LayoutInflater.from(context);\n        View view = inflater.inflate(R.layout.my_row, parent, false);\n        return new MyViewHolder(view);\n    }\n\n    @RequiresApi(api = Build.VERSION_CODES.M)\n    @Override\n    public void onBindViewHolder(@NonNull final MyViewHolder holder, final int position) {\n\n        holder.book_title_txt.setText(String.valueOf(book_title.get(position)));\n        holder.book_author_txt.setText(String.valueOf(book_author.get(position)));\n        holder.book_pages_txt.setText(String.valueOf(book_pages.get(position)));\n        //Recyclerview onClickListener\n        holder.mainLayout.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(context, UpdateActivity.class);\n                intent.putExtra(&quot;id&quot;, String.valueOf(book_id.get(position)));\n                intent.putExtra(&quot;title&quot;, String.valueOf(book_title.get(position)));\n                intent.putExtra(&quot;author&quot;, String.valueOf(book_author.get(position)));\n                intent.putExtra(&quot;pages&quot;, String.valueOf(book_pages.get(position)));\n                activity.startActivityForResult(intent, 1);\n            }\n        });\n\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return book_id.size();\n    }\n\n    class MyViewHolder extends RecyclerView.ViewHolder {\n\n        TextView book_id_txt, book_title_txt, book_author_txt, book_pages_txt;\n        LinearLayout mainLayout;\n\n        MyViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            book_title_txt = itemView.findViewById(R.id.recipe_title_txt);\n            book_author_txt = itemView.findViewById(R.id.book_description_txt);\n            book_pages_txt = itemView.findViewById(R.id.recipe_pages_txt);\n            mainLayout = itemView.findViewById(R.id.mainLayout);\n            //Animate Recyclerview\n            Animation translate_anim = AnimationUtils.loadAnimation(context, R.anim.translate_anim);\n            mainLayout.setAnimation(translate_anim);\n        }\n\n    }\n\n}\n</code></pre>\n<p><strong>And the full code for my MainActivity:</strong></p>\n<pre><code>package com.benjamin.kwok.recipertracker;\n\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AlertDialog;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.appcompat.widget.SearchView;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.FileProvider;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.Manifest;\nimport android.app.Activity;\nimport android.content.ContentValues;\nimport android.content.DialogInterface;\nimport android.content.Intent;\nimport android.content.SharedPreferences;\nimport android.content.pm.PackageManager;\nimport android.database.Cursor;\nimport android.graphics.Bitmap;\nimport android.graphics.drawable.BitmapDrawable;\nimport android.media.MediaScannerConnection;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.os.Environment;\nimport android.preference.PreferenceManager;\nimport android.provider.MediaStore;\nimport android.view.Menu;\nimport android.view.MenuInflater;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.widget.ImageView;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\n\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.OutputStream;\nimport java.text.DateFormat;\nimport java.text.SimpleDateFormat;\nimport java.util.ArrayList;\nimport java.util.Date;\n\npublic class MainActivity extends AppCompatActivity {\n\n    RecyclerView recyclerView;\n    FloatingActionButton add_button;\n    FloatingActionButton camera_button;\n    ImageView empty_imageview;\n    ImageView imageView;\n    TextView no_data;\n    MyDatabaseHelper myDB;\n    ArrayList&lt;String&gt; recipe_id, recipe_title, recipe_description, recipe_minutes;\n    CustomAdapter customAdapter;\n    final static private int NEW_PICTURE = 1;\n    private String mCameraFileName;\n\n    private static final String TAG = &quot;CapturePicture&quot;;\n    static final int REQUEST_PICTURE_CAPTURE = 1;\n\n    private String pictureFilePath;\n\n    private String deviceIdentifier;\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE},1);\n        ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE},1);\n\n//        SharedPreferences mSharedPreference= PreferenceManager.getDefaultSharedPreferences(this);\n//        SharedPreferences.Editor editor = mSharedPreference.edit();\n//        String text= mSharedPreference.getString(getString(R.string.name), &quot;&quot;);\n////        name_output.setText(text);\n\n\n        recyclerView = findViewById(R.id.recyclerView);\n        add_button = findViewById(R.id.add_button);\n        camera_button = findViewById(R.id.camera_button);\n        empty_imageview = findViewById(R.id.empty_imageview);\n        imageView = findViewById(R.id.imageView);\n        no_data = findViewById(R.id.no_data);\n        add_button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(MainActivity.this, AddActivity.class);\n                startActivity(intent);\n            }\n        });\n        camera_button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n                startActivityForResult(intent, 100);\n\n            }\n        });\n\n\n        myDB = new MyDatabaseHelper(MainActivity.this);\n        recipe_id = new ArrayList&lt;&gt;();\n        recipe_title = new ArrayList&lt;&gt;(10);\n        recipe_description = new ArrayList&lt;&gt;();\n        recipe_minutes = new ArrayList&lt;&gt;();\n\n        storeDataInArrays();\n\n        customAdapter = new CustomAdapter(MainActivity.this,this, recipe_id, recipe_title, recipe_description,\n                recipe_minutes);\n        recyclerView.setAdapter(customAdapter);\n        recyclerView.setLayoutManager(new LinearLayoutManager(MainActivity.this));\n\n        loadData();\n    }\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if (requestCode == 100) {\n\n            Bundle bundle = data.getExtras();\n            Bitmap captureImage = (Bitmap) bundle.get(&quot;data&quot;);\n            imageView.setImageBitmap(captureImage);\n\n            saveToGallery();\n\n        }\n        if(resultCode == RESULT_OK){\n            Toast.makeText(this, &quot;Image added to Gallery&quot;, Toast.LENGTH_LONG);\n        }\n\n    }\n\n    private void saveToGallery(){\n\n\n        BitmapDrawable draw = (BitmapDrawable) imageView.getDrawable();\n        Bitmap bitmap = draw.getBitmap();\n\n        FileOutputStream outStream = null;\n        File sdCard = Environment.getExternalStorageDirectory();\n        File dir = new File(sdCard.getAbsolutePath() + &quot;/RecipeImages&quot;);\n        dir.mkdirs();\n        String fileName = String.format(&quot;%d.jpg&quot;, System.currentTimeMillis());\n        File outFile = new File(dir, fileName);\n        MediaScannerConnection.scanFile(this, new String[] { outFile.getPath() }, new String[] { &quot;image/jpeg&quot; }, null);\n\n        try {\n            outStream = new FileOutputStream(outFile);\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n        bitmap.compress(Bitmap.CompressFormat.JPEG, 100, outStream);\n        try {\n            outStream.flush();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        try {\n            outStream.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n    void storeDataInArrays(){\n        Cursor cursor = myDB.readAllData();\n        if(cursor.getCount() == 0){\n            empty_imageview.setVisibility(View.VISIBLE);\n            no_data.setVisibility(View.VISIBLE);\n        }else{\n            while (cursor.moveToNext()){\n                recipe_id.add(cursor.getString(0));\n                recipe_title.add(cursor.getString(1));\n                recipe_description.add(cursor.getString(2));\n                recipe_minutes.add(cursor.getString(3));\n            }\n            empty_imageview.setVisibility(View.GONE);\n            no_data.setVisibility(View.GONE);\n        }\n    }\n\n    public void loadData() {\n        SharedPreferences mPreferences = PreferenceManager.getDefaultSharedPreferences(this);\n        String name = mPreferences.getString(&quot;name&quot;,&quot;&quot;);\n        setTitle(name+&quot;'s&quot; + &quot; Recipe Tracker&quot;);\n\n    }\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        MenuInflater inflater = getMenuInflater();\n        inflater.inflate(R.menu.my_menu, menu);\n//        return super.onCreateOptionsMenu(menu);\n        MenuItem searchItem = menu.findItem(R.id.actionSearch);\n\n        // getting search view of our item.\n        SearchView searchView = (SearchView) searchItem.getActionView();\n\n        // below line is to call set on query text listener method.\n        searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\n            @Override\n            public boolean onQueryTextSubmit(String query) {\n                return false;\n            }\n\n            @Override\n            public boolean onQueryTextChange(String newText) {\n                // inside on query text change method we are\n                // calling a method to filter our recycler view.\n                filter(newText);\n                return false;\n            }\n        });\n        return true;\n    }\n    private void filter(String text) {\n        // creating a new array list to filter our data.\n        ArrayList filteredlist = new ArrayList&lt;&gt;();\n\n        // running a for loop to compare elements.\n        for (String item : recipe_title) {\n            // checking if the entered string matched with any item of our recycler view.\n            if (item.toLowerCase().contains(text.toLowerCase())) {\n                // if the item is matched we are\n                // adding it to our filtered list.\n                filteredlist.add(item);\n            }\n        }\n        if (filteredlist.isEmpty()) {\n            // if no item is added in filtered list we are\n            // displaying a toast message as no data found.\n            Toast.makeText(this, &quot;No Data Found..&quot;, Toast.LENGTH_SHORT).show();\n        } else {\n            // at last we are passing that filtered\n            // list to our adapter class.\n            customAdapter.filterList(filteredlist);\n        }\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        if(item.getItemId() == R.id.delete_all){\n            confirmDialog();\n        }\n        return super.onOptionsItemSelected(item);\n    }\n\n    void confirmDialog(){\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\n        builder.setTitle(&quot;Delete All?&quot;);\n        builder.setMessage(&quot;Are you sure you want to delete all Data?&quot;);\n        builder.setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialogInterface, int i) {\n                MyDatabaseHelper myDB = new MyDatabaseHelper(MainActivity.this);\n                myDB.deleteAllData();\n                //Refresh Activity\n                Intent intent = new Intent(MainActivity.this, MainActivity.class);\n                startActivity(intent);\n                finish();\n            }\n        });\n        builder.setNegativeButton(&quot;No&quot;, new DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialogInterface, int i) {\n\n            }\n        });\n        builder.create().show();\n    }\n}\n</code></pre>\n<p>As soon as I start typing in a new search query, this error seems to get thrown.</p>\n"},{"tags":["java","flying-saucer"],"answers":[{"tags":[],"owner":{"account_id":1779877,"reputation":24967,"user_id":1622894,"accept_rate":100,"display_name":"ollo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1639241424,"creation_date":1358874118,"answer_id":14463977,"question_id":14066964,"body_markdown":"You can use the [`@page`][1] rule. please take a look at following FS documentation:\r\n\r\n - [How do you control page size?][2]\r\n - [How do you control page size on PDF output?][3]\r\n - [How do you control page margins on PDF output?][4]\r\n\r\n\r\n  [1]: http://www.w3.org/TR/css3-page/\r\n  [2]: http://flyingsaucerproject.github.io/flyingsaucer/r8/guide/users-guide-R8.html#xil_34\r\n  [3]: http://flyingsaucerproject.github.io/flyingsaucer/r8/guide/users-guide-R8.html#xil_35\r\n  [4]: http://flyingsaucerproject.github.io/flyingsaucer/r8/guide/users-guide-R8.html#xil_36","title":"How can i make my html page to be fit in the pdf using Flying Saucer","body":"<p>You can use the <a href=\"http://www.w3.org/TR/css3-page/\" rel=\"nofollow noreferrer\"><code>@page</code></a> rule. please take a look at following FS documentation:</p>\n<ul>\n<li><a href=\"http://flyingsaucerproject.github.io/flyingsaucer/r8/guide/users-guide-R8.html#xil_34\" rel=\"nofollow noreferrer\">How do you control page size?</a></li>\n<li><a href=\"http://flyingsaucerproject.github.io/flyingsaucer/r8/guide/users-guide-R8.html#xil_35\" rel=\"nofollow noreferrer\">How do you control page size on PDF output?</a></li>\n<li><a href=\"http://flyingsaucerproject.github.io/flyingsaucer/r8/guide/users-guide-R8.html#xil_36\" rel=\"nofollow noreferrer\">How do you control page margins on PDF output?</a></li>\n</ul>\n"}],"owner":{"account_id":287621,"reputation":1550,"user_id":587556,"accept_rate":73,"display_name":"Muthu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6832,"favorite_count":0,"down_vote_count":2,"up_vote_count":6,"accepted_answer_id":14463977,"answer_count":1,"score":4,"last_activity_date":1639241424,"creation_date":1356684869,"question_id":14066964,"body_markdown":"I am using `Flying Saucer` to convert XHTML page to PDF.\r\n\r\nMy XHTML page width is little longer. When I create the PDF, 10% right portion of the XHTML file is missing in PDF. How can i make my XHTML page to be fit in the PDF?","title":"How can i make my html page to be fit in the pdf using Flying Saucer","body":"<p>I am using <code>Flying Saucer</code> to convert XHTML page to PDF.</p>\n\n<p>My XHTML page width is little longer. When I create the PDF, 10% right portion of the XHTML file is missing in PDF. How can i make my XHTML page to be fit in the PDF?</p>\n"},{"tags":["java","jar","copy","nio"],"comments":[{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1639238021,"post_id":70316028,"comment_id":124299895,"body_markdown":"Are you able to test a later JDK? This isn&#39;t much help for you with JDK8: I&#39;ve cut/paste your folder name to create a directory in Windows and the Files.copy with JDK17 works. Also check you have suitable file.encoding system property so correct String value is compiled into the class.","body":"Are you able to test a later JDK? This isn&#39;t much help for you with JDK8: I&#39;ve cut/paste your folder name to create a directory in Windows and the Files.copy with JDK17 works. Also check you have suitable file.encoding system property so correct String value is compiled into the class."}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639238890,"creation_date":1639238890,"answer_id":70316756,"question_id":70316028,"body_markdown":"You may have used the wrong file encoding when compiling the Java to class file. That problem should be clear if you simply print out the pathname to the file before using the value:\r\n\r\n    System.out.println(&quot;C:/我的/test.xlsx&quot;);\r\n\r\nIf that path is not recognised as Chinese folder name, then try compiling again with `javac -encoding` flag to match the format of your source file.","title":"Use FileChannel or Files.copy to copy file inside jar","body":"<p>You may have used the wrong file encoding when compiling the Java to class file. That problem should be clear if you simply print out the pathname to the file before using the value:</p>\n<pre><code>System.out.println(&quot;C:/我的/test.xlsx&quot;);\n</code></pre>\n<p>If that path is not recognised as Chinese folder name, then try compiling again with <code>javac -encoding</code> flag to match the format of your source file.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639241166,"creation_date":1639241166,"answer_id":70317043,"question_id":70316028,"body_markdown":"You&#39;re barking up the wrong tree. `Files.copy` has nothing whatsoever to do with support (or lack thereof) of chinese characters, and java does support full unicode pathnames. Yes, it&#39;s clear your code isn&#39;t currently working as designed, and it can be fixed, but the problem isn&#39;t `Files.copy`.\r\n\r\n## Sidenote: Your code is broken\r\n\r\n`Main.class.getResourceAsStream` is the correct way to pull resources from your codebase, however, __this is a resource__, and therefore, __you must close it__. Wrap it in a try block, that&#39;s the smart way to do it.\r\n\r\n`Objects.requireNonNull` __should not be used here__ - its purpose is to forcibly throw a NullPointerException. That&#39;s all it does. This code will __already__ throw an NPE if somehow that resource is missing. This means the requireNonNull is completely pointless (it is enforcing a thing that already happens), and if you want clean code, either is inappropriate: You should be rethrowing with an exception that properly conveys the notion that the app is broken.\r\n\r\n__However__, that isn&#39;t a good idea either: We don&#39;t throw exceptions for bugs or broken deployments. If you think you should, then you should wrap every line of code in your entire java project with a try/catch block, after all, evidently we can&#39;t assume anything. We can&#39;t even assume `java.lang.String` is available at run time - clearly this is not a sustainable point of view. In other words, you may safely assume that the resource couldn&#39;t possibly not be there for the purposes of exception flow.\r\n\r\nThus, we get to this much simpler and safer code:\r\n\r\n```\r\ntry (var in = Main.class.getResourceAsStream(&quot;/amres/core/template.xlsx&quot;)) {\r\n  Files.copy(in, Paths.get(&quot;C:/我的/test.xlsx&quot;), StandardCopyOption.REPLACE_EXISTING);\r\n}\r\n```\r\n\r\nNote that in general, catching an exception and handling it with `e.printStackTrace()` is also just bad, in all cases: You&#39;re printing the exception to a place it probably shouldn&#39;t go, tossing useful info such as the causal chain, and then __letting code exception continue__ even though your code&#39;s state is clearly in an unexpected and therefore unknown state. The best general solution is to actually `throws` the exception onwards. If that is not feasible or you just don&#39;t want to care about it right now and thus relying on your IDE&#39;s auto-fixes and not bothering to edit anything, then at least fix your IDE&#39;s auto-fixer to emit non-idiotic code. `throw new RuntimeException(&quot;uncaught&quot;, e)` is the proper &#39;I do not want to care about this right now&#39; fillin. So, __fix your IDE__. It&#39;s generally in the settings, under &#39;template&#39;.\r\n\r\n## What could be causing this\r\n\r\nEvery single time chars turn to bytes or vice versa, charset encoding is involved. Filenames look like characters and certainly when you write code, you&#39;re writing characters, and when you see the text of the NoSuchFileException, that&#39;s characters - but what about all the stuff in between? In addition, names in  file systems themselves are unclear: Some filesystem names are byte-based. For example, Apple&#39;s APFS is entirely bytebased. File names just are bytes, and the idea of rendering these bytes onto the screen (and translating e.g. `touch foobar.txt` on the command line onto the byte sequence value for the file name) are done with UTF-8 merely by convention. In contrast some file systems encode this notion of a set encoding directly into its APIs. Best bet is to UTF_8 all the things, that&#39;s the least chance of things going awry.\r\n\r\nSo, let&#39;s go through the steps:\r\n\r\n1. You write java code in a text editor. You write characters.\r\n2. File _content_ is, universally, byte based, on all file systems. Therefore, when you hit the &#39;save&#39; shortcut in your text editor, your characters are converted into bytes. __Check that your editor is configured in UTF-8 mode. Alternatively, use backslash-u escapes to avoid the issue__.\r\n3. You compile this code. Probably with `javac`, `ecj`, or something based on one of those two. They read in a file (so, bytes), but parse the input as characters, therefore conversion is happening. __Ensure that `javac`/`ecj` is invoked with the `--encoding UTF-8` parameter. If using a build tool such as maven or gradle, ensure this is explicitly configured.__\r\n4. That code is run and prints its error to a console. A console shows it to you. The console is converting bytes (because app output is a byte-based stream) to chars in order to show it to you. Is it configured to do this using UTF-8? __Check the terminal app&#39;s settings.__\r\n\r\nCheck all the bolded items, 95%+ chance you&#39;ll fix your problem by doing this.\r\n","title":"Use FileChannel or Files.copy to copy file inside jar","body":"<p>You're barking up the wrong tree. <code>Files.copy</code> has nothing whatsoever to do with support (or lack thereof) of chinese characters, and java does support full unicode pathnames. Yes, it's clear your code isn't currently working as designed, and it can be fixed, but the problem isn't <code>Files.copy</code>.</p>\n<h2>Sidenote: Your code is broken</h2>\n<p><code>Main.class.getResourceAsStream</code> is the correct way to pull resources from your codebase, however, <strong>this is a resource</strong>, and therefore, <strong>you must close it</strong>. Wrap it in a try block, that's the smart way to do it.</p>\n<p><code>Objects.requireNonNull</code> <strong>should not be used here</strong> - its purpose is to forcibly throw a NullPointerException. That's all it does. This code will <strong>already</strong> throw an NPE if somehow that resource is missing. This means the requireNonNull is completely pointless (it is enforcing a thing that already happens), and if you want clean code, either is inappropriate: You should be rethrowing with an exception that properly conveys the notion that the app is broken.</p>\n<p><strong>However</strong>, that isn't a good idea either: We don't throw exceptions for bugs or broken deployments. If you think you should, then you should wrap every line of code in your entire java project with a try/catch block, after all, evidently we can't assume anything. We can't even assume <code>java.lang.String</code> is available at run time - clearly this is not a sustainable point of view. In other words, you may safely assume that the resource couldn't possibly not be there for the purposes of exception flow.</p>\n<p>Thus, we get to this much simpler and safer code:</p>\n<pre><code>try (var in = Main.class.getResourceAsStream(&quot;/amres/core/template.xlsx&quot;)) {\n  Files.copy(in, Paths.get(&quot;C:/我的/test.xlsx&quot;), StandardCopyOption.REPLACE_EXISTING);\n}\n</code></pre>\n<p>Note that in general, catching an exception and handling it with <code>e.printStackTrace()</code> is also just bad, in all cases: You're printing the exception to a place it probably shouldn't go, tossing useful info such as the causal chain, and then <strong>letting code exception continue</strong> even though your code's state is clearly in an unexpected and therefore unknown state. The best general solution is to actually <code>throws</code> the exception onwards. If that is not feasible or you just don't want to care about it right now and thus relying on your IDE's auto-fixes and not bothering to edit anything, then at least fix your IDE's auto-fixer to emit non-idiotic code. <code>throw new RuntimeException(&quot;uncaught&quot;, e)</code> is the proper 'I do not want to care about this right now' fillin. So, <strong>fix your IDE</strong>. It's generally in the settings, under 'template'.</p>\n<h2>What could be causing this</h2>\n<p>Every single time chars turn to bytes or vice versa, charset encoding is involved. Filenames look like characters and certainly when you write code, you're writing characters, and when you see the text of the NoSuchFileException, that's characters - but what about all the stuff in between? In addition, names in  file systems themselves are unclear: Some filesystem names are byte-based. For example, Apple's APFS is entirely bytebased. File names just are bytes, and the idea of rendering these bytes onto the screen (and translating e.g. <code>touch foobar.txt</code> on the command line onto the byte sequence value for the file name) are done with UTF-8 merely by convention. In contrast some file systems encode this notion of a set encoding directly into its APIs. Best bet is to UTF_8 all the things, that's the least chance of things going awry.</p>\n<p>So, let's go through the steps:</p>\n<ol>\n<li>You write java code in a text editor. You write characters.</li>\n<li>File <em>content</em> is, universally, byte based, on all file systems. Therefore, when you hit the 'save' shortcut in your text editor, your characters are converted into bytes. <strong>Check that your editor is configured in UTF-8 mode. Alternatively, use backslash-u escapes to avoid the issue</strong>.</li>\n<li>You compile this code. Probably with <code>javac</code>, <code>ecj</code>, or something based on one of those two. They read in a file (so, bytes), but parse the input as characters, therefore conversion is happening. <strong>Ensure that <code>javac</code>/<code>ecj</code> is invoked with the <code>--encoding UTF-8</code> parameter. If using a build tool such as maven or gradle, ensure this is explicitly configured.</strong></li>\n<li>That code is run and prints its error to a console. A console shows it to you. The console is converting bytes (because app output is a byte-based stream) to chars in order to show it to you. Is it configured to do this using UTF-8? <strong>Check the terminal app's settings.</strong></li>\n</ol>\n<p>Check all the bolded items, 95%+ chance you'll fix your problem by doing this.</p>\n"}],"owner":{"account_id":20644238,"reputation":15,"user_id":15156151,"display_name":"RocketDev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70317043,"answer_count":2,"score":0,"last_activity_date":1639241166,"creation_date":1639233377,"question_id":70316028,"body_markdown":"Use Java 8.\r\n\r\nTo get the best performance, I tried to copy file with `Files.copy()`, but soon found it\r\ndoes not support Chinese characters. For instance:\r\n```Java\r\ntry {\r\n    Files.copy(\r\n        Objects.requireNonNull(\r\n            Main.class.getResourceAsStream(&quot;/amres/core/template.xlsx&quot;)),\r\n        Paths.get(&quot;C:/我的/test.xlsx&quot;), // &quot;我的&quot; means mine in Chinese\r\n        StandardCopyOption.REPLACE_EXISTING\r\n    );\r\n} catch (IOException e) {\r\n    e.printStackTrace();\r\n}\r\n```\r\nThe code intends to copy a file from jar, but it throws a exception (a &quot;我的&quot; folder has\r\nbeen created ahead of schedule):`java.nio.file.NoSuchFileException: C:\\鎴戠殑\\test.xlsx`  \r\nThe problem is,  &quot;鎴戠殑&quot; even can not be understood by a Chinese, so I&#39;m looking for a\r\nsolution to handle Chinese characters.\r\n\r\nI also tried FileChannel, but failed, realizing it is used for direct file, not for files\r\nin a jar. How should I do?","title":"Use FileChannel or Files.copy to copy file inside jar","body":"<p>Use Java 8.</p>\n<p>To get the best performance, I tried to copy file with <code>Files.copy()</code>, but soon found it\ndoes not support Chinese characters. For instance:</p>\n<pre><code>try {\n    Files.copy(\n        Objects.requireNonNull(\n            Main.class.getResourceAsStream(&quot;/amres/core/template.xlsx&quot;)),\n        Paths.get(&quot;C:/我的/test.xlsx&quot;), // &quot;我的&quot; means mine in Chinese\n        StandardCopyOption.REPLACE_EXISTING\n    );\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>The code intends to copy a file from jar, but it throws a exception (a &quot;我的&quot; folder has\nbeen created ahead of schedule):<code>java.nio.file.NoSuchFileException: C:\\鎴戠殑\\test.xlsx</code><br />\nThe problem is,  &quot;鎴戠殑&quot; even can not be understood by a Chinese, so I'm looking for a\nsolution to handle Chinese characters.</p>\n<p>I also tried FileChannel, but failed, realizing it is used for direct file, not for files\nin a jar. How should I do?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":3,"creation_date":1615742109,"post_id":66627355,"comment_id":117779695,"body_markdown":"You should explain what the code is doing (what result) and then what you want it to do instead (what result you want to see).  &quot;The result I want&quot; isn&#39;t really something we can guess at.","body":"You should explain what the code is doing (what result) and then what you want it to do instead (what result you want to see).  &quot;The result I want&quot; isn&#39;t really something we can guess at."},{"owner":{"account_id":17686731,"reputation":9,"user_id":12839525,"display_name":"1Skillz"},"score":0,"creation_date":1615742319,"post_id":66627355,"comment_id":117779771,"body_markdown":"@dreamcrash can you show me the code","body":"@dreamcrash can you show me the code"},{"owner":{"account_id":1449510,"reputation":48172,"user_id":1366871,"accept_rate":100,"display_name":"dreamcrash"},"score":0,"creation_date":1615742423,"post_id":66627355,"comment_id":117779794,"body_markdown":"@1Skillz never mind that, what do you real expect to happen?","body":"@1Skillz never mind that, what do you real expect to happen?"},{"owner":{"account_id":1531219,"reputation":3127,"user_id":1428369,"display_name":"Curiosa Globunznik"},"score":0,"creation_date":1615742502,"post_id":66627355,"comment_id":117779820,"body_markdown":"Its pretty obvious, enter n numbers, return the average. It looks like the problem is in the UI part rather than in computing the average. For that there&#39;s more info/code needed.","body":"Its pretty obvious, enter n numbers, return the average. It looks like the problem is in the UI part rather than in computing the average. For that there&#39;s more info/code needed."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1615743689,"post_id":66627355,"comment_id":117780183,"body_markdown":"Please see: [Why is “Can someone help me?” not an actual question?](https://meta.stackoverflow.com/q/284236) Use [edit] option to clarify your question.","body":"Please see: <a href=\"https://meta.stackoverflow.com/q/284236\">Why is “Can someone help me?” not an actual question?</a> Use <a href=\"https://stackoverflow.com/posts/66627355/edit\">edit</a> option to clarify your question."},{"owner":{"account_id":15974771,"reputation":1023,"user_id":11527968,"display_name":"Jimmy"},"score":0,"creation_date":1615800122,"post_id":66627355,"comment_id":117793488,"body_markdown":"you have just call the `computeAverage(4)` method and don&#39;t collect the return value and there is no code to display it. the return value and show it in the same way as collection input from user.  `JOptionPane.showMessageDialog(null,&quot;Final Score : &quot; +new ComputeAverage().computeAverage(4))`","body":"you have just call the <code>computeAverage(4)</code> method and don&#39;t collect the return value and there is no code to display it. the return value and show it in the same way as collection input from user.  <code>JOptionPane.showMessageDialog(null,&quot;Final Score : &quot; +new ComputeAverage().computeAverage(4))</code>"}],"answers":[{"tags":[],"owner":{"account_id":13832913,"reputation":844,"user_id":9985283,"display_name":"Mohamed Shabeer kp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615742940,"creation_date":1615742692,"answer_id":66627497,"question_id":66627355,"body_markdown":"You are returning the value back to the main but you are not printing it anywhere. you can use the alert box in swings to show the result.\r\n\r\nIn main function instead of .,\r\n```\r\npublic static void main (String[] args) {\r\n   new ComputeAverage().computeAverage(4);\r\n}\r\n\r\n```\r\ntry :\r\n```\r\npublic static void main (String[] args) {\r\n    JOptionPane.showMessageDialog(null,&quot;Exam score : &quot; + new ComputeAverage().computeAverage(4));\r\n}\r\n```","title":"Can someone help me with this code, it&#39;s not returning the results I want to","body":"<p>You are returning the value back to the main but you are not printing it anywhere. you can use the alert box in swings to show the result.</p>\n<p>In main function instead of .,</p>\n<pre><code>public static void main (String[] args) {\n   new ComputeAverage().computeAverage(4);\n}\n\n</code></pre>\n<p>try :</p>\n<pre><code>public static void main (String[] args) {\n    JOptionPane.showMessageDialog(null,&quot;Exam score : &quot; + new ComputeAverage().computeAverage(4));\n}\n</code></pre>\n"}],"owner":{"account_id":17686731,"reputation":9,"user_id":12839525,"display_name":"1Skillz"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1639241019,"creation_date":1615741933,"question_id":66627355,"body_markdown":"Can anyone compile this code and help me because it&#39;s not returning the results I want. I don&#39;t know if the return is not working or what, please help me, here is the code: \r\n\r\n\r\n\r\n\r\n    public class ComputeAverage {\r\n    public static void main (String[] args) {\r\n    \r\n    new ComputeAverage().computeAverage(4);\r\n    }\r\n    \r\n     \r\n     public double computeAverage(int how_many)\r\n    { double total_points = 0.0;  // the total of all test scores\r\n      int count = 0;  // the quantity of tests read so far\r\n      while ( count != how_many )\r\n            // at each iteration: total_points == exam_1 + exam_2 + ... + exam_count\r\n            { // ask the user for the next exam score:\r\n              String input = JOptionPane.showInputDialog(&quot;Type next exam score:&quot;);\r\n              int score = new Integer(input).intValue();\r\n              if (score &lt; 0) {\r\n             JOptionPane.showMessageDialog(null, &quot;Enter a positive numer&quot;);\r\n             total_points = total_points - score;\r\n              }\r\n               \r\n              // add it to the total:\r\n              total_points = total_points + score;\r\n              count = count + 1;\r\n              // print a summary of the progress:\r\n              System.out.println(&quot;count = &quot; + count + &quot;; total = &quot; + total_points);\r\n             \r\n            }\r\n    \r\n            // at conclusion: total_points == exam_1 + exam_2 + ... + exam_how_many\r\n       return (total_points / how_many);\r\n     \r\n    }\r\n     \r\n    \r\n     }","title":"Can someone help me with this code, it&#39;s not returning the results I want to","body":"<p>Can anyone compile this code and help me because it's not returning the results I want. I don't know if the return is not working or what, please help me, here is the code:</p>\n<pre><code>public class ComputeAverage {\npublic static void main (String[] args) {\n\nnew ComputeAverage().computeAverage(4);\n}\n\n \n public double computeAverage(int how_many)\n{ double total_points = 0.0;  // the total of all test scores\n  int count = 0;  // the quantity of tests read so far\n  while ( count != how_many )\n        // at each iteration: total_points == exam_1 + exam_2 + ... + exam_count\n        { // ask the user for the next exam score:\n          String input = JOptionPane.showInputDialog(&quot;Type next exam score:&quot;);\n          int score = new Integer(input).intValue();\n          if (score &lt; 0) {\n         JOptionPane.showMessageDialog(null, &quot;Enter a positive numer&quot;);\n         total_points = total_points - score;\n          }\n           \n          // add it to the total:\n          total_points = total_points + score;\n          count = count + 1;\n          // print a summary of the progress:\n          System.out.println(&quot;count = &quot; + count + &quot;; total = &quot; + total_points);\n         \n        }\n\n        // at conclusion: total_points == exam_1 + exam_2 + ... + exam_how_many\n   return (total_points / how_many);\n \n}\n \n\n }\n</code></pre>\n"},{"tags":["java","string","compiler-errors","integer"],"comments":[{"owner":{"account_id":20135765,"reputation":1239,"user_id":14766808,"display_name":"Dren"},"score":0,"creation_date":1615995675,"post_id":66676354,"comment_id":117865930,"body_markdown":"Change `String response` to `Integer response`","body":"Change <code>String response</code> to <code>Integer response</code>"},{"owner":{"account_id":15435735,"reputation":3,"user_id":11135885,"display_name":"ArchR0n1n"},"score":1,"creation_date":1615995958,"post_id":66676354,"comment_id":117866097,"body_markdown":"Thank you so much took me 2 hours to figure this out lol","body":"Thank you so much took me 2 hours to figure this out lol"},{"owner":{"account_id":20135765,"reputation":1239,"user_id":14766808,"display_name":"Dren"},"score":0,"creation_date":1615996021,"post_id":66676354,"comment_id":117866121,"body_markdown":"Your program won&#39;t work if the user does not enter any value though.","body":"Your program won&#39;t work if the user does not enter any value though."},{"owner":{"account_id":15435735,"reputation":3,"user_id":11135885,"display_name":"ArchR0n1n"},"score":0,"creation_date":1615996130,"post_id":66676354,"comment_id":117866176,"body_markdown":"Hmmm okay nvm, how do I work around that?","body":"Hmmm okay nvm, how do I work around that?"},{"owner":{"account_id":551833,"reputation":869,"user_id":916804,"accept_rate":50,"display_name":"henriqueor"},"score":0,"creation_date":1615996283,"post_id":66676354,"comment_id":117866278,"body_markdown":"It is always good to add the error&#39;s stacktrace on your questions.","body":"It is always good to add the error&#39;s stacktrace on your questions."}],"answers":[{"tags":[],"owner":{"account_id":20135765,"reputation":1239,"user_id":14766808,"display_name":"Dren"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1615996543,"creation_date":1615996178,"answer_id":66676563,"question_id":66676354,"body_markdown":"I suggest first getting the value from JOptionPane as a `String`\r\n\r\n    String response = JOptionPane.showInputDialog (&quot;Please Enter Your Age:&quot;);\r\nThen checking if the user has entered something then  parse it to `Integer`\r\n\r\n         if (response.length() !=0) {\r\n        responseToInt = Integer.parseInt(response);\r\n\r\nWith try and catch, we can limit that the user should enter only numbers.\r\n\r\n                try {\r\n                    responseToInt = Integer.parseInt(response);\r\n                }catch (NumberFormatException e){\r\n                    System.out.println(&quot;Please enter a number&quot;);\r\n                     response = JOptionPane.showInputDialog (&quot;Please Enter Your Age:&quot;);\r\n                }\r\n\r\n\r\nFULL CODE\r\n\r\n \r\n\r\n  \r\n\r\n     public static void main(String[] args) {\r\n            Integer responseToInt = 0;\r\n           String response = JOptionPane.showInputDialog (&quot;Please Enter Your Age:&quot;);\r\n            if (response.length() !=0) {\r\n                try {\r\n                    responseToInt = Integer.parseInt(response);\r\n                }catch (NumberFormatException e){\r\n                    System.out.println(&quot;Please enter a number&quot;);\r\n                     response = JOptionPane.showInputDialog (&quot;Please Enter Your Age:&quot;);\r\n                }\r\n            }  if (responseToInt &lt;= 3 &amp;&amp; responseToInt &gt;= 1){\r\n                JOptionPane.showMessageDialog(null, &quot;It&#39;s Recommended That You Purchase Our No-Tears Baby Lotion!&quot;);\r\n    \r\n            }else{\r\n                JOptionPane.showMessageDialog(null, &quot;Please Contact a Sales Representative For a Private Consultation&quot;);\r\n            }\r\n    \r\n    \r\n        }\r\n    }","title":"Converting String to Integer JOptionPane","body":"<p>I suggest first getting the value from JOptionPane as a <code>String</code></p>\n<pre><code>String response = JOptionPane.showInputDialog (&quot;Please Enter Your Age:&quot;);\n</code></pre>\n<p>Then checking if the user has entered something then  parse it to <code>Integer</code></p>\n<pre><code>     if (response.length() !=0) {\n    responseToInt = Integer.parseInt(response);\n</code></pre>\n<p>With try and catch, we can limit that the user should enter only numbers.</p>\n<pre><code>            try {\n                responseToInt = Integer.parseInt(response);\n            }catch (NumberFormatException e){\n                System.out.println(&quot;Please enter a number&quot;);\n                 response = JOptionPane.showInputDialog (&quot;Please Enter Your Age:&quot;);\n            }\n</code></pre>\n<p>FULL CODE</p>\n<pre><code> public static void main(String[] args) {\n        Integer responseToInt = 0;\n       String response = JOptionPane.showInputDialog (&quot;Please Enter Your Age:&quot;);\n        if (response.length() !=0) {\n            try {\n                responseToInt = Integer.parseInt(response);\n            }catch (NumberFormatException e){\n                System.out.println(&quot;Please enter a number&quot;);\n                 response = JOptionPane.showInputDialog (&quot;Please Enter Your Age:&quot;);\n            }\n        }  if (responseToInt &lt;= 3 &amp;&amp; responseToInt &gt;= 1){\n            JOptionPane.showMessageDialog(null, &quot;It's Recommended That You Purchase Our No-Tears Baby Lotion!&quot;);\n\n        }else{\n            JOptionPane.showMessageDialog(null, &quot;Please Contact a Sales Representative For a Private Consultation&quot;);\n        }\n\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15435735,"reputation":3,"user_id":11135885,"display_name":"ArchR0n1n"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":66676563,"answer_count":1,"score":0,"last_activity_date":1639240932,"creation_date":1615995492,"question_id":66676354,"body_markdown":"Am trying to get an input from user as an integer (age). But I keep getting &quot;String cannot be converted to string&quot; and &quot;bad operand types for binary operator &#39;&lt;=&#39;and &#39;&gt;=&#39;. Any help will be much appreciated\r\n```\r\nimport javax.swing.JOptionPane;\r\nclass LotionFinder {\r\n\tpublic static void main(String[] args) {\r\n\t\tString response;\r\n\t\tresponse = Integer.parseInt(JOptionPane.showInputDialog (&quot;Please Enter Your Age:&quot;));\r\n\t\tif (response == null) {\r\n\t\t\tJOptionPane.showMessageDialog(null, &quot;Please Contact a Sales Representative For a Private Consultation&quot;);\r\n\t\t} else if (response.equals(&quot;&quot;)) {\r\n\t\t\tJOptionPane.showMessageDialog(null, &quot;Please Contact a Sales Representative For a Private Consultation&quot;);\r\n\t\t} else if (response &lt;= 3 &amp;&amp; response &gt;= 1){\r\n\t\t\tJOptionPane.showMessageDialog(null, &quot;It&#39;s Recommended That You Purchase Our No-Tears Baby Lotion!&quot;);\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\r\n\t\tSystem.exit (0);\r\n\t}\r\n}\r\n```","title":"Converting String to Integer JOptionPane","body":"<p>Am trying to get an input from user as an integer (age). But I keep getting &quot;String cannot be converted to string&quot; and &quot;bad operand types for binary operator '&lt;='and '&gt;='. Any help will be much appreciated</p>\n<pre><code>import javax.swing.JOptionPane;\nclass LotionFinder {\n    public static void main(String[] args) {\n        String response;\n        response = Integer.parseInt(JOptionPane.showInputDialog (&quot;Please Enter Your Age:&quot;));\n        if (response == null) {\n            JOptionPane.showMessageDialog(null, &quot;Please Contact a Sales Representative For a Private Consultation&quot;);\n        } else if (response.equals(&quot;&quot;)) {\n            JOptionPane.showMessageDialog(null, &quot;Please Contact a Sales Representative For a Private Consultation&quot;);\n        } else if (response &lt;= 3 &amp;&amp; response &gt;= 1){\n            JOptionPane.showMessageDialog(null, &quot;It's Recommended That You Purchase Our No-Tears Baby Lotion!&quot;);\n            \n        }\n        \n\n        System.exit (0);\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","for-loop","multidimensional-array","pixel"],"comments":[{"owner":{"account_id":22982031,"reputation":425,"user_id":17108793,"display_name":"Enrico"},"score":0,"creation_date":1639157202,"post_id":70308247,"comment_id":124285042,"body_markdown":"&quot;*my for loops aren&#39;t right*&quot; post your code so we can help you","body":"&quot;<i>my for loops aren&#39;t right</i>&quot; post your code so we can help you"},{"owner":{"account_id":20361298,"reputation":21,"user_id":14935554,"display_name":"Doha Ramadan"},"score":0,"creation_date":1639157278,"post_id":70308247,"comment_id":124285067,"body_markdown":"I tried but all my loops were so wrong so they were deleted.","body":"I tried but all my loops were so wrong so they were deleted."}],"answers":[{"tags":[],"owner":{"account_id":22982031,"reputation":425,"user_id":17108793,"display_name":"Enrico"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1639240787,"creation_date":1639158835,"answer_id":70308581,"question_id":70308247,"body_markdown":"In your case it&#39;s helpful to write down what you want:\r\n\r\n```\r\n         [0][0] [0][1] [1][0] [1][1]\r\n         [0][2] [0][3] [1][2] [1][3]\r\n         [0][4] [0][5] [1][4] [1][5]\r\n\r\n         [2][0] [2][1] [3][0] [3][1]\r\n         [2][2] [2][3] [3][2] [3][3]\r\n         [2][4] [2][5] [3][4] [3][5]\r\n\r\n         [4][0] [4][1] [5][0] [5][1]\r\n         [4][2] [4][3] [5][2] [5][3]\r\n         [4][4] [4][5] [5][4] [5][5]\r\n```\r\nMaybe you can already see a pattern here.\r\nFirst, I created the inner loop for the first three lines:\r\n\r\n```\r\nfor (int i = 0; i &lt; 3; i++) {\r\n    int[][] array = new int[][]{\r\n            {pixels[0][i * 2], pixels[0][(i * 2) + 1]},\r\n            {pixels[1][i * 2], pixels[1][(i * 2) + 1]}\r\n    };\r\n    System.out.println(Arrays.deepToString(array));\r\n}\r\n```\r\nAs you see, it&#39;s always the zeroth and first row for the first three lines.\r\nAnd in the next three lines, it&#39;s always the second and thrird row.\r\nAnd the rule for all columns is that it&#39;s always zero, two, four and one, three, five.\r\n\r\nSo it comes to the nested loop:\r\n\r\n```\r\nfor (int j = 0; j &lt; 3; j++) {\r\n    for (int i = 0; i &lt; 3; i++) {\r\n        int[][] array = new int[][]{\r\n            {pixels[j * 2][i * 2], pixels[j * 2][(i * 2) + 1]},\r\n            {pixels[(j * 2) + 1][i * 2], pixels[(j * 2) + 1][(i * 2) + 1]}};\r\n        System.out.println(Arrays.deepToString(array));\r\n    }\r\n}\r\n```\r\nNow you can store the created arrays for example in a list.\r\n\r\n**EDIT**\r\n\r\n\r\nSorry, I think I made a mistake. This should do what you want:\r\ncreate 6400 4x4 arrays. So you have to loop until the square root of the number of arrays you want(in this case 6400).\r\nDo you have a possibility to check if the arrays are correct now?\r\nTry this:\r\n\r\n```\r\nint vectorHeight = 4, vectorWidth = 4;\r\nint numofVectors1 = (pixels.length * pixels.length) / (vectorHeight * vectorWidth);\r\nArrayList&lt;int[][]&gt; vectors = new ArrayList&lt;&gt;(numofVectors1);\r\nint numberOfArrays = 6400;\r\n        for (int j = 0; j &lt; Math.sqrt(numberOfArrays); j++) {\r\n            for (int i = 0; i &lt; Math.sqrt(numberOfArrays); i++) {\r\n                int[][] array = new int[][]{\r\n                        {\r\n                                pixels[j * vectorHeight][i * vectorHeight],\r\n                                pixels[j * vectorHeight][(i * vectorHeight) + 1],\r\n                                pixels[j * vectorHeight][(i * vectorHeight) + 2],\r\n                                pixels[j * vectorHeight][(i * vectorHeight) + 3]\r\n                        },\r\n                        {\r\n                                pixels[(j * vectorHeight) + 1][i * vectorHeight],\r\n                                pixels[(j * vectorHeight) + 1][(i * vectorHeight) + 1],\r\n                                pixels[(j * vectorHeight) + 1][(i * vectorHeight) + 2],\r\n                                pixels[(j * vectorHeight) + 1][(i * vectorHeight) + 3]\r\n                        },\r\n                        {\r\n                                pixels[(j * vectorHeight) + 2][i * vectorHeight],\r\n                                pixels[(j * vectorHeight) + 2][(i * vectorHeight) + 1],\r\n                                pixels[(j * vectorHeight) + 2][(i * vectorHeight) + 2],\r\n                                pixels[(j * vectorHeight) + 2][(i * vectorHeight) + 3]\r\n                        },\r\n                        {\r\n                                pixels[(j * vectorHeight) + 3][i * vectorHeight],\r\n                                pixels[(j * vectorHeight) + 3][(i * vectorHeight) + 1],\r\n                                pixels[(j * vectorHeight) + 3][(i * vectorHeight) + 2],\r\n                                pixels[(j * vectorHeight) + 3][(i * vectorHeight) + 3]\r\n                        },\r\n                };\r\n                vectors.add(array);\r\n            }\r\n        }\r\n\r\n```\r\n","title":"how to split a 2d array into multiple 2d arrays of different sized in java","body":"<p>In your case it's helpful to write down what you want:</p>\n<pre><code>         [0][0] [0][1] [1][0] [1][1]\n         [0][2] [0][3] [1][2] [1][3]\n         [0][4] [0][5] [1][4] [1][5]\n\n         [2][0] [2][1] [3][0] [3][1]\n         [2][2] [2][3] [3][2] [3][3]\n         [2][4] [2][5] [3][4] [3][5]\n\n         [4][0] [4][1] [5][0] [5][1]\n         [4][2] [4][3] [5][2] [5][3]\n         [4][4] [4][5] [5][4] [5][5]\n</code></pre>\n<p>Maybe you can already see a pattern here.\nFirst, I created the inner loop for the first three lines:</p>\n<pre><code>for (int i = 0; i &lt; 3; i++) {\n    int[][] array = new int[][]{\n            {pixels[0][i * 2], pixels[0][(i * 2) + 1]},\n            {pixels[1][i * 2], pixels[1][(i * 2) + 1]}\n    };\n    System.out.println(Arrays.deepToString(array));\n}\n</code></pre>\n<p>As you see, it's always the zeroth and first row for the first three lines.\nAnd in the next three lines, it's always the second and thrird row.\nAnd the rule for all columns is that it's always zero, two, four and one, three, five.</p>\n<p>So it comes to the nested loop:</p>\n<pre><code>for (int j = 0; j &lt; 3; j++) {\n    for (int i = 0; i &lt; 3; i++) {\n        int[][] array = new int[][]{\n            {pixels[j * 2][i * 2], pixels[j * 2][(i * 2) + 1]},\n            {pixels[(j * 2) + 1][i * 2], pixels[(j * 2) + 1][(i * 2) + 1]}};\n        System.out.println(Arrays.deepToString(array));\n    }\n}\n</code></pre>\n<p>Now you can store the created arrays for example in a list.</p>\n<p><strong>EDIT</strong></p>\n<p>Sorry, I think I made a mistake. This should do what you want:\ncreate 6400 4x4 arrays. So you have to loop until the square root of the number of arrays you want(in this case 6400).\nDo you have a possibility to check if the arrays are correct now?\nTry this:</p>\n<pre><code>int vectorHeight = 4, vectorWidth = 4;\nint numofVectors1 = (pixels.length * pixels.length) / (vectorHeight * vectorWidth);\nArrayList&lt;int[][]&gt; vectors = new ArrayList&lt;&gt;(numofVectors1);\nint numberOfArrays = 6400;\n        for (int j = 0; j &lt; Math.sqrt(numberOfArrays); j++) {\n            for (int i = 0; i &lt; Math.sqrt(numberOfArrays); i++) {\n                int[][] array = new int[][]{\n                        {\n                                pixels[j * vectorHeight][i * vectorHeight],\n                                pixels[j * vectorHeight][(i * vectorHeight) + 1],\n                                pixels[j * vectorHeight][(i * vectorHeight) + 2],\n                                pixels[j * vectorHeight][(i * vectorHeight) + 3]\n                        },\n                        {\n                                pixels[(j * vectorHeight) + 1][i * vectorHeight],\n                                pixels[(j * vectorHeight) + 1][(i * vectorHeight) + 1],\n                                pixels[(j * vectorHeight) + 1][(i * vectorHeight) + 2],\n                                pixels[(j * vectorHeight) + 1][(i * vectorHeight) + 3]\n                        },\n                        {\n                                pixels[(j * vectorHeight) + 2][i * vectorHeight],\n                                pixels[(j * vectorHeight) + 2][(i * vectorHeight) + 1],\n                                pixels[(j * vectorHeight) + 2][(i * vectorHeight) + 2],\n                                pixels[(j * vectorHeight) + 2][(i * vectorHeight) + 3]\n                        },\n                        {\n                                pixels[(j * vectorHeight) + 3][i * vectorHeight],\n                                pixels[(j * vectorHeight) + 3][(i * vectorHeight) + 1],\n                                pixels[(j * vectorHeight) + 3][(i * vectorHeight) + 2],\n                                pixels[(j * vectorHeight) + 3][(i * vectorHeight) + 3]\n                        },\n                };\n                vectors.add(array);\n            }\n        }\n\n</code></pre>\n"}],"owner":{"account_id":20361298,"reputation":21,"user_id":14935554,"display_name":"Doha Ramadan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":330,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":70308581,"answer_count":1,"score":0,"last_activity_date":1639240787,"creation_date":1639156928,"question_id":70308247,"body_markdown":"I have a 6*6 2d array called pixels\r\n\r\n      int [][] pixels = { {1,2,7,9,4,11},\r\n                        {3,4,6,6,12,12},\r\n                        {4,9,15,14,9,9},\r\n                        {10,10,20,18,8,8},\r\n                        {4,3,17,16,1,4},\r\n                        {4,5,18,18,5,6}\r\n                };\r\n\r\nand I want to store its data into 9 2d arrays of size 2*2 like this\r\n\r\n\r\n     int [][] array1 = {{1,2},\r\n                {3,4}\r\n        };\r\n    \r\n        int [][] array2 = {{7,9},\r\n                {6,6}\r\n        };\r\n    \r\n        int [][] array3 = {{4,11},\r\n                {12,12}\r\n        };\r\n\r\nand like this, I have another 2d array of size 320 * 320 which I want to store its data in 6400 2d arrays of size 4*4 and I don&#39;t know what is the dynamic to do. my for loops aren&#39;t right. Can anyone help?\r\nedit: I tried this code and it gives me the right result regrading the first array of the 2d array but I&#39;m not sure about the second one.\r\nvectorHeight is 4. the big 2d array size is 320* 320 and the smaller ones size is 4 * 4 \r\n\r\n    for(int j=0; j &lt; 320  ; j++){\r\n                for(int i=0; i&lt; 320 ; i++){\r\n                    int[][] array = new int[][]{\r\n                            {pixels2[j * vectorHeight][i * vectorHeight], pixels2[j * vectorHeight][(i * vectorHeight) + 1],pixels2[j * vectorHeight][(i * vectorHeight) + 2],pixels2[j * vectorHeight][(i * vectorHeight) + 3]},\r\n                            {pixels2[(j * vectorHeight) + 1][i * vectorHeight], pixels2[(j * vectorHeight) + 1][(i * vectorHeight) + 1],pixels2[(j * vectorHeight) + 2][(i * vectorHeight) + 2],pixels2[(j * vectorHeight) + 3][(i * vectorHeight) + 3]},\r\n                    };\r\n                             System.out.println(Arrays.deepToString(array));\r\n                    }\r\n                }\r\nedit2: the 320 * 320 2d array is a result of a function that takes an image and return the pixels vector so this is the code for reading an image:\r\n \r\n\r\n    public static int[][] readImage(String filePath) {\r\n            File file = new File(filePath);\r\n            BufferedImage image = null;\r\n            try {\r\n                image = ImageIO.read(file);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                return null;\r\n            }\r\n            int width = image.getWidth();\r\n            int height = image.getHeight();\r\n            int[][] pixels = new int[height][width];\r\n            for (int x = 0; x &lt; width; x++) {\r\n                for (int y = 0; y &lt; height; y++) {\r\n                    int p = image.getRGB(x, y);\r\n                    int a = (p &gt;&gt; 24) &amp; 0xff;\r\n                    int r = (p &gt;&gt; 16) &amp; 0xff;\r\n                    int g = (p &gt;&gt; 8) &amp; 0xff;\r\n                    int b = p &amp; 0xff;\r\n    \r\n                    pixels[y][x] = r;\r\n    \r\n                    p = (a &lt;&lt; 24) | (r &lt;&lt; 16) | (g &lt;&lt; 8) | b;\r\n                    image.setRGB(x, y, p);\r\n                }\r\n    \r\n            }\r\n    \r\n            return pixels;\r\n        }\r\n\r\nand the image that I am currently working on is this one https://www.researchgate.net/profile/Ayman-Al-Dmour/publication/304496637/figure/fig1/AS:377628822392833@1467045135613/Test-images_Q320.jpg \r\nthe rest of the code is a function that takes an image, a vector size - height and weight- and eventually its suppose to compress it using vector quantization\r\n\r\n    int [][] pixels = readImage(filePath);\r\n    int numofVectors1 = (pixels.length * pixels.length) / (vectorHeight * vectorWidth);\r\n            ArrayList&lt;int[][]&gt; vectors = new ArrayList&lt;&gt;(numofVectors1);\r\n             for (int j = 0; j &lt; pixels.length; j++) {\r\n                    for (int i = 0; i &lt; pixels.length; i++) {\r\n                        int[][] array = new int[][]{\r\n                                {pixels[j * vectorHeight][i * vectorHeight], pixels[j * vectorHeight][(i * vectorHeight) + 1], pixels[j * vectorHeight][(i * vectorHeight) + 2], pixels[j * vectorHeight][(i * vectorHeight) + 3]},\r\n                                {pixels[(j * vectorHeight) + 1][i * vectorHeight], pixels[(j * vectorHeight) + 1][(i * vectorHeight) + 1], pixels[(j * vectorHeight) + 1][(i * vectorHeight) + 2], pixels[(j * vectorHeight) + 1][(i * vectorHeight) + 3]},\r\n                        };\r\n                        vectors.add(array);\r\n                    }\r\n    \r\n            }\r\n\r\n","title":"how to split a 2d array into multiple 2d arrays of different sized in java","body":"<p>I have a 6*6 2d array called pixels</p>\n<pre><code>  int [][] pixels = { {1,2,7,9,4,11},\n                    {3,4,6,6,12,12},\n                    {4,9,15,14,9,9},\n                    {10,10,20,18,8,8},\n                    {4,3,17,16,1,4},\n                    {4,5,18,18,5,6}\n            };\n</code></pre>\n<p>and I want to store its data into 9 2d arrays of size 2*2 like this</p>\n<pre><code> int [][] array1 = {{1,2},\n            {3,4}\n    };\n\n    int [][] array2 = {{7,9},\n            {6,6}\n    };\n\n    int [][] array3 = {{4,11},\n            {12,12}\n    };\n</code></pre>\n<p>and like this, I have another 2d array of size 320 * 320 which I want to store its data in 6400 2d arrays of size 4<em>4 and I don't know what is the dynamic to do. my for loops aren't right. Can anyone help?\nedit: I tried this code and it gives me the right result regrading the first array of the 2d array but I'm not sure about the second one.\nvectorHeight is 4. the big 2d array size is 320</em> 320 and the smaller ones size is 4 * 4</p>\n<pre><code>for(int j=0; j &lt; 320  ; j++){\n            for(int i=0; i&lt; 320 ; i++){\n                int[][] array = new int[][]{\n                        {pixels2[j * vectorHeight][i * vectorHeight], pixels2[j * vectorHeight][(i * vectorHeight) + 1],pixels2[j * vectorHeight][(i * vectorHeight) + 2],pixels2[j * vectorHeight][(i * vectorHeight) + 3]},\n                        {pixels2[(j * vectorHeight) + 1][i * vectorHeight], pixels2[(j * vectorHeight) + 1][(i * vectorHeight) + 1],pixels2[(j * vectorHeight) + 2][(i * vectorHeight) + 2],pixels2[(j * vectorHeight) + 3][(i * vectorHeight) + 3]},\n                };\n                         System.out.println(Arrays.deepToString(array));\n                }\n            }\n</code></pre>\n<p>edit2: the 320 * 320 2d array is a result of a function that takes an image and return the pixels vector so this is the code for reading an image:</p>\n<pre><code>public static int[][] readImage(String filePath) {\n        File file = new File(filePath);\n        BufferedImage image = null;\n        try {\n            image = ImageIO.read(file);\n        } catch (IOException e) {\n            e.printStackTrace();\n            return null;\n        }\n        int width = image.getWidth();\n        int height = image.getHeight();\n        int[][] pixels = new int[height][width];\n        for (int x = 0; x &lt; width; x++) {\n            for (int y = 0; y &lt; height; y++) {\n                int p = image.getRGB(x, y);\n                int a = (p &gt;&gt; 24) &amp; 0xff;\n                int r = (p &gt;&gt; 16) &amp; 0xff;\n                int g = (p &gt;&gt; 8) &amp; 0xff;\n                int b = p &amp; 0xff;\n\n                pixels[y][x] = r;\n\n                p = (a &lt;&lt; 24) | (r &lt;&lt; 16) | (g &lt;&lt; 8) | b;\n                image.setRGB(x, y, p);\n            }\n\n        }\n\n        return pixels;\n    }\n</code></pre>\n<p>and the image that I am currently working on is this one <a href=\"https://www.researchgate.net/profile/Ayman-Al-Dmour/publication/304496637/figure/fig1/AS:377628822392833@1467045135613/Test-images_Q320.jpg\" rel=\"nofollow noreferrer\">https://www.researchgate.net/profile/Ayman-Al-Dmour/publication/304496637/figure/fig1/AS:377628822392833@1467045135613/Test-images_Q320.jpg</a>\nthe rest of the code is a function that takes an image, a vector size - height and weight- and eventually its suppose to compress it using vector quantization</p>\n<pre><code>int [][] pixels = readImage(filePath);\nint numofVectors1 = (pixels.length * pixels.length) / (vectorHeight * vectorWidth);\n        ArrayList&lt;int[][]&gt; vectors = new ArrayList&lt;&gt;(numofVectors1);\n         for (int j = 0; j &lt; pixels.length; j++) {\n                for (int i = 0; i &lt; pixels.length; i++) {\n                    int[][] array = new int[][]{\n                            {pixels[j * vectorHeight][i * vectorHeight], pixels[j * vectorHeight][(i * vectorHeight) + 1], pixels[j * vectorHeight][(i * vectorHeight) + 2], pixels[j * vectorHeight][(i * vectorHeight) + 3]},\n                            {pixels[(j * vectorHeight) + 1][i * vectorHeight], pixels[(j * vectorHeight) + 1][(i * vectorHeight) + 1], pixels[(j * vectorHeight) + 1][(i * vectorHeight) + 2], pixels[(j * vectorHeight) + 1][(i * vectorHeight) + 3]},\n                    };\n                    vectors.add(array);\n                }\n\n        }\n</code></pre>\n"},{"tags":["java","swing","position","joptionpane","jdialog"],"comments":[{"owner":{"account_id":15971945,"reputation":1,"user_id":11525792,"display_name":"William Brandley"},"score":0,"creation_date":1637353988,"post_id":70039575,"comment_id":123813027,"body_markdown":"I got what I wanted by changing\n   optionDialog.setLocation(x, y);\nto\n   optionDialog.setLocation(x + parent.getX(), y + parent.getY());\n\nStill, it seems to me that if I use event.get/Y and provide the parent JFrame, the positioning would have been relative to the JFrame rather that the screen.","body":"I got what I wanted by changing    optionDialog.setLocation(x, y); to    optionDialog.setLocation(x + parent.getX(), y + parent.getY());  Still, it seems to me that if I use event.get/Y and provide the parent JFrame, the positioning would have been relative to the JFrame rather that the screen."},{"owner":{"account_id":15971945,"reputation":1,"user_id":11525792,"display_name":"William Brandley"},"score":0,"creation_date":1637371285,"post_id":70039575,"comment_id":123816590,"body_markdown":"I finally identified my misconception.  When I converted the JScrollPane into a JDialog, I attributed the characteristics of a JScrollPane to the JDialog, specifically, that the dialog was constrained to the surface of the parent.  I realized that this was not true and that the JDialog could be located anywhere on the screen.","body":"I finally identified my misconception.  When I converted the JScrollPane into a JDialog, I attributed the characteristics of a JScrollPane to the JDialog, specifically, that the dialog was constrained to the surface of the parent.  I realized that this was not true and that the JDialog could be located anywhere on the screen."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1639240757,"post_id":70039575,"comment_id":124300489,"body_markdown":"*&quot;the JDialog could be located anywhere on the screen&quot;* So can a `JOptionPane`. It&#39;s just a little more tricky because (by default) they are modal.","body":"<i>&quot;the JDialog could be located anywhere on the screen&quot;</i> So can a <code>JOptionPane</code>. It&#39;s just a little more tricky because (by default) they are modal."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1639240836,"post_id":70039575,"comment_id":124300511,"body_markdown":"BTW - be sure to add the language and GUI toolkit tags in future. Doing so would typically lead to more views than one every three days and thus result in better help faster.","body":"BTW - be sure to add the language and GUI toolkit tags in future. Doing so would typically lead to more views than one every three days and thus result in better help faster."}],"owner":{"account_id":15971945,"reputation":1,"user_id":11525792,"display_name":"William Brandley"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639240687,"creation_date":1637347661,"question_id":70039575,"body_markdown":"I want to display some user info relative to a mouse click.  I converted a JOptionPane into a JDialog to accomplishment this.  However, when invoking the message display, I have to pass evt.get?OnScreen() X/Y locations to get proper positioning.  I expected evt.get?() to provide the proper JFrame relative coordinates.  Obviously, there is something I am not grasping on JDialog positioning.  Enlightenment would appreciated.  Thanks ...\r\n\r\nI have provided sample Netbeans code that demonstrates the problem.\r\n\r\n    import java.awt.Component;\r\n    import javax.swing.JDialog;\r\n    import javax.swing.JOptionPane;\r\n\r\n    public class NewJFrame extends javax.swing.JFrame\r\n    {\r\n       public NewJFrame()\r\n       {\r\n          initComponents();\r\n       }\r\n\r\n       @SuppressWarnings(&quot;unchecked&quot;)\r\n       // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \r\n       private void initComponents()\r\n       {\r\n          setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\r\n          addMouseListener(new java.awt.event.MouseAdapter()\r\n          {\r\n             public void mouseClicked(java.awt.event.MouseEvent evt)\r\n             {\r\n                formMouseClicked(evt);\r\n             }\r\n          });\r\n\r\n          javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\r\n          getContentPane().setLayout(layout);\r\n          layout.setHorizontalGroup(\r\n             layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n             .addGap(0, 400, Short.MAX_VALUE)\r\n          );\r\n          layout.setVerticalGroup(\r\n             layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n             .addGap(0, 300, Short.MAX_VALUE)\r\n          );\r\n\r\n          pack();\r\n       }// &lt;/editor-fold&gt;                        \r\n\r\n       private static int showUserMessage(\r\n               Component parent,\r\n               String title,\r\n               String text,\r\n               int type,\r\n               int options,\r\n               int x,\r\n               int y\r\n       )\r\n       {\r\n          JOptionPane optionPane = new JOptionPane(text, type, options);\r\n\r\n          JDialog optionDialog = optionPane.createDialog(parent, title);\r\n          optionDialog.setLocationRelativeTo(parent);\r\n          optionDialog.setLocation(x, y);\r\n          optionDialog.setVisible(true);\r\n\r\n          if (optionPane.getValue() == null)\r\n          {\r\n             return JOptionPane.CANCEL_OPTION;\r\n          }\r\n\r\n          return (int) optionPane.getValue();\r\n       }\r\n\r\n       private void formMouseClicked(java.awt.event.MouseEvent evt)                                  \r\n       {                                      \r\n          int rsp = showUserMessage(\r\n                  this,\r\n                  &quot;TITLE&quot;,\r\n                  &quot;MESSAGE&quot;,\r\n                  JOptionPane.WARNING_MESSAGE,\r\n                  JOptionPane.YES_NO_CANCEL_OPTION,\r\n                  //evt.getXOnScreen(), // Positions correctly\r\n                  //evt.getYOnScreen()  // Positions correctly\r\n                  evt.getX(),\r\n                  evt.getY()\r\n          );\r\n          System.out.println(&quot;rsp=&quot; + rsp);\r\n       }                                 \r\n\r\n       /**\r\n        * @param args the command line arguments\r\n        */\r\n       public static void main(String args[])\r\n       {\r\n          /* Set the Nimbus look and feel */\r\n          //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\r\n          /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\r\n           * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \r\n           */\r\n          try\r\n          {\r\n             for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels())\r\n             {\r\n                if (&quot;Nimbus&quot;.equals(info.getName()))\r\n                {\r\n                   javax.swing.UIManager.setLookAndFeel(info.getClassName());\r\n                   break;\r\n                }\r\n             }\r\n          } catch (ClassNotFoundException ex)\r\n          {\r\n             java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n          } catch (InstantiationException ex)\r\n          {\r\n             java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n          } catch (IllegalAccessException ex)\r\n          {\r\n             java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n          } catch (javax.swing.UnsupportedLookAndFeelException ex)\r\n          {\r\n             java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n          }\r\n          //&lt;/editor-fold&gt;\r\n\r\n          /* Create and display the form */\r\n          java.awt.EventQueue.invokeLater(new Runnable()\r\n          {\r\n             public void run()\r\n             {\r\n                new NewJFrame().setVisible(true);\r\n             }\r\n          });\r\n       }\r\n\r\n       // Variables declaration - do not modify                     \r\n       // End of variables declaration                   \r\n    }\r\n\r\n\r\n","title":"Dialog X/Y positioning","body":"<p>I want to display some user info relative to a mouse click.  I converted a JOptionPane into a JDialog to accomplishment this.  However, when invoking the message display, I have to pass evt.get?OnScreen() X/Y locations to get proper positioning.  I expected evt.get?() to provide the proper JFrame relative coordinates.  Obviously, there is something I am not grasping on JDialog positioning.  Enlightenment would appreciated.  Thanks ...</p>\n<p>I have provided sample Netbeans code that demonstrates the problem.</p>\n<pre><code>import java.awt.Component;\nimport javax.swing.JDialog;\nimport javax.swing.JOptionPane;\n\npublic class NewJFrame extends javax.swing.JFrame\n{\n   public NewJFrame()\n   {\n      initComponents();\n   }\n\n   @SuppressWarnings(&quot;unchecked&quot;)\n   // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \n   private void initComponents()\n   {\n      setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n      addMouseListener(new java.awt.event.MouseAdapter()\n      {\n         public void mouseClicked(java.awt.event.MouseEvent evt)\n         {\n            formMouseClicked(evt);\n         }\n      });\n\n      javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\n      getContentPane().setLayout(layout);\n      layout.setHorizontalGroup(\n         layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n         .addGap(0, 400, Short.MAX_VALUE)\n      );\n      layout.setVerticalGroup(\n         layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n         .addGap(0, 300, Short.MAX_VALUE)\n      );\n\n      pack();\n   }// &lt;/editor-fold&gt;                        \n\n   private static int showUserMessage(\n           Component parent,\n           String title,\n           String text,\n           int type,\n           int options,\n           int x,\n           int y\n   )\n   {\n      JOptionPane optionPane = new JOptionPane(text, type, options);\n\n      JDialog optionDialog = optionPane.createDialog(parent, title);\n      optionDialog.setLocationRelativeTo(parent);\n      optionDialog.setLocation(x, y);\n      optionDialog.setVisible(true);\n\n      if (optionPane.getValue() == null)\n      {\n         return JOptionPane.CANCEL_OPTION;\n      }\n\n      return (int) optionPane.getValue();\n   }\n\n   private void formMouseClicked(java.awt.event.MouseEvent evt)                                  \n   {                                      \n      int rsp = showUserMessage(\n              this,\n              &quot;TITLE&quot;,\n              &quot;MESSAGE&quot;,\n              JOptionPane.WARNING_MESSAGE,\n              JOptionPane.YES_NO_CANCEL_OPTION,\n              //evt.getXOnScreen(), // Positions correctly\n              //evt.getYOnScreen()  // Positions correctly\n              evt.getX(),\n              evt.getY()\n      );\n      System.out.println(&quot;rsp=&quot; + rsp);\n   }                                 \n\n   /**\n    * @param args the command line arguments\n    */\n   public static void main(String args[])\n   {\n      /* Set the Nimbus look and feel */\n      //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\n      /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\n       * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \n       */\n      try\n      {\n         for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels())\n         {\n            if (&quot;Nimbus&quot;.equals(info.getName()))\n            {\n               javax.swing.UIManager.setLookAndFeel(info.getClassName());\n               break;\n            }\n         }\n      } catch (ClassNotFoundException ex)\n      {\n         java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n      } catch (InstantiationException ex)\n      {\n         java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n      } catch (IllegalAccessException ex)\n      {\n         java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n      } catch (javax.swing.UnsupportedLookAndFeelException ex)\n      {\n         java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n      }\n      //&lt;/editor-fold&gt;\n\n      /* Create and display the form */\n      java.awt.EventQueue.invokeLater(new Runnable()\n      {\n         public void run()\n         {\n            new NewJFrame().setVisible(true);\n         }\n      });\n   }\n\n   // Variables declaration - do not modify                     \n   // End of variables declaration                   \n}\n</code></pre>\n"},{"tags":["java","swing","joptionpane"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1637373966,"post_id":70042693,"comment_id":123816946,"body_markdown":"It is not clear what “button one stored as 2” means.  Edit your question and show the portion of your code which makes use of JOptionPane.","body":"It is not clear what “button one stored as 2” means.  Edit your question and show the portion of your code which makes use of JOptionPane."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1637377516,"post_id":70042693,"comment_id":123817311,"body_markdown":"1) No you can&#39;t control the int value that is returned from the JOptionPane. 2) It doesn&#39;t matter anyway if you use a case statement, You just check for sequential values.","body":"1) No you can&#39;t control the int value that is returned from the JOptionPane. 2) It doesn&#39;t matter anyway if you use a case statement, You just check for sequential values."}],"owner":{"account_id":23397717,"reputation":1,"user_id":17461409,"display_name":"Kas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639240658,"creation_date":1637373241,"question_id":70042693,"body_markdown":"So I want to make a program in Java using JOptionPane that’s essentially a choose your own adventure type thing. I was hoping that I could make it simple and use only case and switch. However, that would mean that I need buttons that would be stored as non consecutive values. So that the first button can be stored as the integer 2 and the second button can be stored as the integer 7. I know that it’s possible to make the integers start at a different number other than 0, but do they have to be consecutive? Otherwise, can you do the `if (option == JOptionPane.NO_OPTION)` with custom options and/or case and switch?\r\n \r\nHere’s an example\r\n\r\n```\r\noption = JOptionPane.showOptionDialog (“asks a question”);\r\nwhile (playThis == 1){\r\n&gt;switch (option){\r\n&gt;&gt;case 1:\r\n&gt;&gt;&gt;option = JOptionPane.showOptionDialog (“result of questions and asks a question”);\\\\want this to have the options equal to let’s say 1 or 5\r\n&gt;&gt;&gt;break;\r\n&gt;&gt;case 2:\r\n&gt;&gt;&gt;option = JOptionPane.showOptionDialog (“ result of questions and asks a question”);\\\\want this to have the options equal to let’s say 2, 3, or 4\r\n&gt;&gt;&gt;break;\r\n\\\\so on and so forth}}\r\n ```","title":"Is there a way for JOptionPane buttons to have non consecutive numbers?","body":"<p>So I want to make a program in Java using JOptionPane that’s essentially a choose your own adventure type thing. I was hoping that I could make it simple and use only case and switch. However, that would mean that I need buttons that would be stored as non consecutive values. So that the first button can be stored as the integer 2 and the second button can be stored as the integer 7. I know that it’s possible to make the integers start at a different number other than 0, but do they have to be consecutive? Otherwise, can you do the <code>if (option == JOptionPane.NO_OPTION)</code> with custom options and/or case and switch?</p>\n<p>Here’s an example</p>\n<pre><code>option = JOptionPane.showOptionDialog (“asks a question”);\nwhile (playThis == 1){\n&gt;switch (option){\n&gt;&gt;case 1:\n&gt;&gt;&gt;option = JOptionPane.showOptionDialog (“result of questions and asks a question”);\\\\want this to have the options equal to let’s say 1 or 5\n&gt;&gt;&gt;break;\n&gt;&gt;case 2:\n&gt;&gt;&gt;option = JOptionPane.showOptionDialog (“ result of questions and asks a question”);\\\\want this to have the options equal to let’s say 2, 3, or 4\n&gt;&gt;&gt;break;\n\\\\so on and so forth}}\n</code></pre>\n"},{"tags":["java","arrays","multidimensional-array"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1638076536,"post_id":70140795,"comment_id":123988855,"body_markdown":"Is this line of your code throwing `java.lang.NumberFormatException`? `arr[i][j] = Integer.parseInt(JOptionPane.showInputDialog(&quot;Please enter 12 numbers: &quot;));`","body":"Is this line of your code throwing <code>java.lang.NumberFormatException</code>? <code>arr[i][j] = Integer.parseInt(JOptionPane.showInputDialog(&quot;Please enter 12 numbers: &quot;));</code>"},{"owner":{"account_id":19991342,"reputation":556,"user_id":16998523,"display_name":"charlie-map"},"score":0,"creation_date":1638079316,"post_id":70140795,"comment_id":123989095,"body_markdown":"Is there a reason for using a multidimensional array? It may be easier to consider using a single dimensional array like `int[] arr = new int[12];`","body":"Is there a reason for using a multidimensional array? It may be easier to consider using a single dimensional array like <code>int[] arr = new int[12];</code>"},{"owner":{"account_id":23135671,"reputation":3,"user_id":17239945,"display_name":"EC1"},"score":0,"creation_date":1638079360,"post_id":70140795,"comment_id":123989099,"body_markdown":"Yes that is what is showing","body":"Yes that is what is showing"},{"owner":{"account_id":23135671,"reputation":3,"user_id":17239945,"display_name":"EC1"},"score":0,"creation_date":1638079374,"post_id":70140795,"comment_id":123989100,"body_markdown":"That is one of the requirements","body":"That is one of the requirements"}],"answers":[{"tags":[],"owner":{"account_id":23467055,"reputation":371,"user_id":17521045,"display_name":"api_nest"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638076906,"creation_date":1638076906,"answer_id":70140864,"question_id":70140795,"body_markdown":"The error is mainly in the initialization part where you have assumed the element in the first row and first column to be either the minimum or maximum element in the array. \r\n\r\nYou have to initialize the minimum value of the array with a value that is sure to be higher than all the values in the array, why? because only then will there be an update to the actual minimum value of the array, so for example if you set minimum to be 1000 then if the actual minimum of the array is 300, it would get updated. But if you set your minimum to be for example 30 then 300 which is the actual minimum wont get logged and there would be an error.\r\n\r\nThe absolute opposite applies to the initialization of the largest value of the array. While initializing, safe ball park estimates usually work so carry out the initializations accordingly. ","title":"How can I find the lowest and highest number in 2d array?","body":"<p>The error is mainly in the initialization part where you have assumed the element in the first row and first column to be either the minimum or maximum element in the array.</p>\n<p>You have to initialize the minimum value of the array with a value that is sure to be higher than all the values in the array, why? because only then will there be an update to the actual minimum value of the array, so for example if you set minimum to be 1000 then if the actual minimum of the array is 300, it would get updated. But if you set your minimum to be for example 30 then 300 which is the actual minimum wont get logged and there would be an error.</p>\n<p>The absolute opposite applies to the initialization of the largest value of the array. While initializing, safe ball park estimates usually work so carry out the initializations accordingly.</p>\n"},{"tags":[],"owner":{"account_id":19923129,"reputation":112,"user_id":14598473,"display_name":"KhushThakor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638078340,"creation_date":1638077690,"answer_id":70140925,"question_id":70140795,"body_markdown":"You do not have a loop to take in your array and therefore are receiving an error. To take in the input of the Array use this\r\n\r\n    for (int i = 0;i&lt;3;i++)\r\n\t    for (int j = 0;j&lt;4;j++)\r\n            arr[i][j] = Integer.parseInt(JOptionPane.showInputDialog(&quot;Please enter 12 numbers: &quot;)); \r\n\r\nTherefore you will have the box outputted 12 times for the user to input 12 Integers and then once you have the Array just run a simple sort to get the smallest and the largest.\r\n\r\n    int smallest  = arr[0][0];\r\n    int largest = arr[0][0];\r\n\r\n    for (int i = 0;i&lt;3;i++)\r\n\t    for (int j = 0;j&lt;4;j++) {\r\n\t        if (arr[i][j]&lt;smallest)\r\n\t\t        smallest = arr[i][j];\r\n\t        else if(arr[i][j]&gt;largest)\r\n\t\t        largest = arr[i][j];\r\n\t    }\r\n    }\r\n\r\nFinal Code being\r\n\r\n    public class Solution {\r\n        public static void main (String[]args) {\r\n            int [][] arr= new int[3][4];\r\n\r\n            for (int i = 0;i&lt;3;i++)\r\n\t            for (int j = 0;j&lt;4;j++)\r\n                    arr[i][j] = Integer.parseInt(JOptionPane.showInputDialog(&quot;Please enter 12 numbers: &quot;)); \r\n\r\n            int smallest  = arr[0][0];\r\n            int largest = arr[0][0];\r\n\r\n            for (int i = 0;i&lt;3;i++)\r\n\t            for (int j = 0;j&lt;4;j++) {\r\n\t                if (arr[i][j]&lt;smallest)\r\n\t\t                smallest = arr[i][j];\r\n\t                else if(arr[i][j]&gt;largest)\r\n\t\t                largest = arr[i][j];\r\n\t            }\r\n            }\r\n\r\n            JOptionPane.showMessageDialog(null, &quot;The smallest value in the Array is:&quot; + smallest);\r\n            JOptionPane.showMessageDialog(null, &quot;The largest value in the Array is:&quot; + largest);        \r\n        }\r\n\r\n    }\r\n\r\n ","title":"How can I find the lowest and highest number in 2d array?","body":"<p>You do not have a loop to take in your array and therefore are receiving an error. To take in the input of the Array use this</p>\n<pre><code>for (int i = 0;i&lt;3;i++)\n    for (int j = 0;j&lt;4;j++)\n        arr[i][j] = Integer.parseInt(JOptionPane.showInputDialog(&quot;Please enter 12 numbers: &quot;)); \n</code></pre>\n<p>Therefore you will have the box outputted 12 times for the user to input 12 Integers and then once you have the Array just run a simple sort to get the smallest and the largest.</p>\n<pre><code>int smallest  = arr[0][0];\nint largest = arr[0][0];\n\nfor (int i = 0;i&lt;3;i++)\n    for (int j = 0;j&lt;4;j++) {\n        if (arr[i][j]&lt;smallest)\n            smallest = arr[i][j];\n        else if(arr[i][j]&gt;largest)\n            largest = arr[i][j];\n    }\n}\n</code></pre>\n<p>Final Code being</p>\n<pre><code>public class Solution {\n    public static void main (String[]args) {\n        int [][] arr= new int[3][4];\n\n        for (int i = 0;i&lt;3;i++)\n            for (int j = 0;j&lt;4;j++)\n                arr[i][j] = Integer.parseInt(JOptionPane.showInputDialog(&quot;Please enter 12 numbers: &quot;)); \n\n        int smallest  = arr[0][0];\n        int largest = arr[0][0];\n\n        for (int i = 0;i&lt;3;i++)\n            for (int j = 0;j&lt;4;j++) {\n                if (arr[i][j]&lt;smallest)\n                    smallest = arr[i][j];\n                else if(arr[i][j]&gt;largest)\n                    largest = arr[i][j];\n            }\n        }\n\n        JOptionPane.showMessageDialog(null, &quot;The smallest value in the Array is:&quot; + smallest);\n        JOptionPane.showMessageDialog(null, &quot;The largest value in the Array is:&quot; + largest);        \n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638080450,"creation_date":1638078915,"answer_id":70141019,"question_id":70140795,"body_markdown":"Personally, I don&#39;t think you should use `JOptionPane` to get data from the user and to display data to the user in a Java console application such as yours. I prefer to use [Scanner][1].\r\n\r\n(Below code demonstrates. Notes after the code.)\r\n\r\nNote that calling a method of `JOptionPane` will launch the [Event Dispatch Thread][2] (EDT) which means that your application will not terminate &amp;ndash; unless you add `System.exit(0);`.\r\n```java\r\npackage HighLow;\r\n\r\npublic class HighLow {\r\n    public static void main(String[] args) {\r\n        Scanner stdin = new Scanner(System.in);\r\n        System.out.print(&quot;Please enter 12 numbers: &quot;);\r\n        String line = stdin.nextLine();\r\n        String[] numbers = line.split(&quot; &quot;);\r\n        int k = 0;\r\n        int[][] arr = new int[3][4];\r\n        int smallest = Integer.MAX_VALUE;\r\n        int largest = Integer.MIN_VALUE;\r\n        for (int i = 0; i &lt; 3; i++) {\r\n            for (int j = 0; j &lt; 4; j++) {\r\n                arr[i][j] = Integer.parseInt(numbers[k++]);\r\n                if (arr[i][j] &lt; smallest) {\r\n                    smallest = arr[i][j];\r\n                }\r\n                if (arr[i][j] &gt; largest) {\r\n                    largest = arr[i][j];\r\n                }\r\n            }\r\n        }\r\n        System.out.println(&quot;The smallest value in the Array is: &quot; + smallest);\r\n        System.out.println(&quot;The largest value in the Array is: &quot; + largest);\r\n    }\r\n}\r\n```\r\n1. I assume that the user enters twelve numbers separated by a space in a single line.\r\n2. Method `split` returns an array of size twelve where every element is one of the entered numbers.\r\n3. I initialize `smallest` to the largest `int` which guarantees that the first `int` that I compare it to is guaranteed to be smaller.\r\n4. Similarly for `largest`. I initialize it to the smallest possible `int`.\r\n5. You need a loop in order to populate all the elements of `arr`.\r\n\r\nHere is output from a sample run of the above code.\r\n```none\r\nPlease enter 12 numbers: 1 2 3 4 5 6 7 8 9 0 -1 -2\r\nThe smallest value in the Array is: -2\r\nThe largest value in the Array is: 9\r\n```\r\nEDIT\r\n----\r\nSince you claim that `JOptionPane` is required, below code uses `JOptionPane`.\r\n```java\r\nString line = JOptionPane.showInputDialog(&quot;Please enter 12 numbers: &quot;);\r\nString[] numbers = line.split(&quot; &quot;);\r\nint k = 0;\r\nint[][] arr = new int[3][4];\r\nint smallest = Integer.MAX_VALUE;\r\nint largest = Integer.MIN_VALUE;\r\nfor (int i = 0; i &lt; 3; i++) {\r\n    for (int j = 0; j &lt; 4; j++) {\r\n        arr[i][j] = Integer.parseInt(numbers[k++]);\r\n        if (arr[i][j] &lt; smallest) {\r\n            smallest = arr[i][j];\r\n        }\r\n        if (arr[i][j] &gt; largest) {\r\n            largest = arr[i][j];\r\n        }\r\n    }\r\n}\r\nJOptionPane.showMessageDialog(null, &quot;The smallest value in the Array is:&quot; + smallest);\r\nJOptionPane.showMessageDialog(null, &quot;The largest value in the Array is:&quot; + largest);\r\nSystem.exit(0);\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/io/scanning.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html","title":"How can I find the lowest and highest number in 2d array?","body":"<p>Personally, I don't think you should use <code>JOptionPane</code> to get data from the user and to display data to the user in a Java console application such as yours. I prefer to use <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/scanning.html\" rel=\"nofollow noreferrer\">Scanner</a>.</p>\n<p>(Below code demonstrates. Notes after the code.)</p>\n<p>Note that calling a method of <code>JOptionPane</code> will launch the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\" rel=\"nofollow noreferrer\">Event Dispatch Thread</a> (EDT) which means that your application will not terminate – unless you add <code>System.exit(0);</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package HighLow;\n\npublic class HighLow {\n    public static void main(String[] args) {\n        Scanner stdin = new Scanner(System.in);\n        System.out.print(&quot;Please enter 12 numbers: &quot;);\n        String line = stdin.nextLine();\n        String[] numbers = line.split(&quot; &quot;);\n        int k = 0;\n        int[][] arr = new int[3][4];\n        int smallest = Integer.MAX_VALUE;\n        int largest = Integer.MIN_VALUE;\n        for (int i = 0; i &lt; 3; i++) {\n            for (int j = 0; j &lt; 4; j++) {\n                arr[i][j] = Integer.parseInt(numbers[k++]);\n                if (arr[i][j] &lt; smallest) {\n                    smallest = arr[i][j];\n                }\n                if (arr[i][j] &gt; largest) {\n                    largest = arr[i][j];\n                }\n            }\n        }\n        System.out.println(&quot;The smallest value in the Array is: &quot; + smallest);\n        System.out.println(&quot;The largest value in the Array is: &quot; + largest);\n    }\n}\n</code></pre>\n<ol>\n<li>I assume that the user enters twelve numbers separated by a space in a single line.</li>\n<li>Method <code>split</code> returns an array of size twelve where every element is one of the entered numbers.</li>\n<li>I initialize <code>smallest</code> to the largest <code>int</code> which guarantees that the first <code>int</code> that I compare it to is guaranteed to be smaller.</li>\n<li>Similarly for <code>largest</code>. I initialize it to the smallest possible <code>int</code>.</li>\n<li>You need a loop in order to populate all the elements of <code>arr</code>.</li>\n</ol>\n<p>Here is output from a sample run of the above code.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Please enter 12 numbers: 1 2 3 4 5 6 7 8 9 0 -1 -2\nThe smallest value in the Array is: -2\nThe largest value in the Array is: 9\n</code></pre>\n<h2>EDIT</h2>\n<p>Since you claim that <code>JOptionPane</code> is required, below code uses <code>JOptionPane</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String line = JOptionPane.showInputDialog(&quot;Please enter 12 numbers: &quot;);\nString[] numbers = line.split(&quot; &quot;);\nint k = 0;\nint[][] arr = new int[3][4];\nint smallest = Integer.MAX_VALUE;\nint largest = Integer.MIN_VALUE;\nfor (int i = 0; i &lt; 3; i++) {\n    for (int j = 0; j &lt; 4; j++) {\n        arr[i][j] = Integer.parseInt(numbers[k++]);\n        if (arr[i][j] &lt; smallest) {\n            smallest = arr[i][j];\n        }\n        if (arr[i][j] &gt; largest) {\n            largest = arr[i][j];\n        }\n    }\n}\nJOptionPane.showMessageDialog(null, &quot;The smallest value in the Array is:&quot; + smallest);\nJOptionPane.showMessageDialog(null, &quot;The largest value in the Array is:&quot; + largest);\nSystem.exit(0);\n</code></pre>\n"}],"owner":{"account_id":23135671,"reputation":3,"user_id":17239945,"display_name":"EC1"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":774,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1639240582,"creation_date":1638075862,"question_id":70140795,"body_markdown":"    package HighLow;\r\n\r\n    import javax.swing.JOptionPane;\r\n\r\n    public class HighLow {\r\n    public static void main (String[]args) {\r\n    int [][] arr= new int[3][4];\r\n    int smallest=arr[0][0];\r\n    int largest= arr[0][0];\r\n    int i = 0;\r\n    int j = 0;\r\n    {\r\n    arr[i][j] = Integer.parseInt(JOptionPane.showInputDialog(&quot;Please enter 12 numbers: &quot;)); \r\n    {\r\n    if (arr[i][j] &lt; smallest) {\r\n    smallest = arr[i][j];\r\n    }\r\n    if (arr[0][0] &gt; largest) {\r\n    largest = arr[i][j];\r\n    }\r\n    {\r\n    JOptionPane.showMessageDialog(null, &quot;The smallest value in the Array is:&quot; + smallest);\r\n    JOptionPane.showMessageDialog(null, &quot;The largest value in the Array is:&quot; + largest);\t\t\r\n    }\r\n\r\n    }\r\n\t\r\n    }}}\r\n\r\n\r\n\r\nHow can I find the lowest and highest number in 2d array?\r\nI&#39;m getting an error with my code? what seems to be wrong?\r\nI just need to find the highest and lowest among the 12 numbers user will input. here is what I have so far.\r\n\r\nHow can I find the lowest and highest number in 2d array?\r\nI&#39;m getting an error with my code? what seems to be wrong?\r\nI just need to find the highest and lowest among the 12 numbers user will input. here is what I have so far.","title":"How can I find the lowest and highest number in 2d array?","body":"<pre><code>package HighLow;\n\nimport javax.swing.JOptionPane;\n\npublic class HighLow {\npublic static void main (String[]args) {\nint [][] arr= new int[3][4];\nint smallest=arr[0][0];\nint largest= arr[0][0];\nint i = 0;\nint j = 0;\n{\narr[i][j] = Integer.parseInt(JOptionPane.showInputDialog(&quot;Please enter 12 numbers: &quot;)); \n{\nif (arr[i][j] &lt; smallest) {\nsmallest = arr[i][j];\n}\nif (arr[0][0] &gt; largest) {\nlargest = arr[i][j];\n}\n{\nJOptionPane.showMessageDialog(null, &quot;The smallest value in the Array is:&quot; + smallest);\nJOptionPane.showMessageDialog(null, &quot;The largest value in the Array is:&quot; + largest);        \n}\n\n}\n\n}}}\n</code></pre>\n<p>How can I find the lowest and highest number in 2d array?\nI'm getting an error with my code? what seems to be wrong?\nI just need to find the highest and lowest among the 12 numbers user will input. here is what I have so far.</p>\n<p>How can I find the lowest and highest number in 2d array?\nI'm getting an error with my code? what seems to be wrong?\nI just need to find the highest and lowest among the 12 numbers user will input. here is what I have so far.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":6322747,"reputation":1995,"user_id":4910154,"accept_rate":72,"display_name":"Farzad"},"score":0,"creation_date":1608215907,"post_id":62076876,"comment_id":115519720,"body_markdown":"can you find solution?","body":"can you find solution?"},{"owner":{"account_id":9527,"reputation":4337,"user_id":17648,"accept_rate":98,"display_name":"Bruno"},"score":1,"creation_date":1610199504,"post_id":62076876,"comment_id":116059603,"body_markdown":"https://issuetracker.google.com/issues/147619577","body":"<a href=\"https://issuetracker.google.com/issues/147619577\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/147619577</a>"}],"answers":[{"tags":[],"owner":{"account_id":19591461,"reputation":1,"user_id":14338387,"display_name":"DS Origin"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1639240095,"creation_date":1639224856,"answer_id":70315050,"question_id":62076876,"body_markdown":"you can use  `playListUri.getpath()` and solve it.\r\n","title":"Adding songs to a playlist in Android Q (API29) and above throws a SecurityException","body":"<p>you can use  <code>playListUri.getpath()</code> and solve it.</p>\n"}],"owner":{"account_id":12365223,"reputation":1526,"user_id":9017620,"accept_rate":55,"display_name":"Vince VD"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":580,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1639240095,"creation_date":1590713265,"question_id":62076876,"body_markdown":"Because of the **Android Privacy Changes in Android Q (API29)** it&#39;s not possible to add songs to a Playlist and it throws this error message when adding a track.\r\n\r\n    java.lang.SecurityException: com.mp3player.mp3player has no access to content://media/external_primary/audio/media/117\r\n\r\nI know that we can this catch this as a `RecoverableSecurityException` and grant permission for each file individually.\r\n\r\nBut this is really a hassle and i&#39;m wondering if there is another way.\r\n\r\nI already found a [post][1] from User @Theo with the same exact problem but without any answers.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/57398381/api-29-mediastore-access\r\n\r\n\r\n**Code for adding songs to a playlist**\r\n\r\n\r\n    public void addToPlayList(Context c, long songID, long playListID, String playlistName) {\r\n\r\n        Uri playListUri = MediaStore.Audio.Playlists.Members.getContentUri(&quot;external&quot;, playListID);\r\n\r\n        String[] columns = {\r\n                MediaStore.Audio.Playlists.Members.AUDIO_ID,\r\n                MediaStore.Audio.Playlists.Members.PLAY_ORDER,\r\n        };\r\n\r\n        ContentResolver resolver = c.getContentResolver();\r\n\r\n        Cursor cursor = resolver.query(playListUri, columns, null, null, null);\r\n\r\n        int playOrder = 0;\r\n        if (cursor != null) {\r\n            cursor.moveToFirst();\r\n            while (!cursor.isAfterLast()) {\r\n                playOrder = cursor.getInt(0) + 1;\r\n            }\r\n            cursor.close();\r\n\r\n            ContentValues contentValues = new ContentValues();\r\n\r\n            contentValues.put(MediaStore.Audio.Playlists.Members.AUDIO_ID, songID);\r\n            contentValues.put(MediaStore.Audio.Playlists.Members.PLAY_ORDER, playOrder);\r\n\r\n            resolver.insert(playListUri, contentValues);\r\n            resolver.notifyChange(Uri.parse(&quot;content://media&quot;), null);\r\n    }\r\n\r\n\r\n**EDIT**\r\n\r\nLooks like the thrown **Exception** is not an instance of `RecoverableSecurityException` so how do we get access to that content?\r\n","title":"Adding songs to a playlist in Android Q (API29) and above throws a SecurityException","body":"<p>Because of the <strong>Android Privacy Changes in Android Q (API29)</strong> it's not possible to add songs to a Playlist and it throws this error message when adding a track.</p>\n\n<pre><code>java.lang.SecurityException: com.mp3player.mp3player has no access to content://media/external_primary/audio/media/117\n</code></pre>\n\n<p>I know that we can this catch this as a <code>RecoverableSecurityException</code> and grant permission for each file individually.</p>\n\n<p>But this is really a hassle and i'm wondering if there is another way.</p>\n\n<p>I already found a <a href=\"https://stackoverflow.com/questions/57398381/api-29-mediastore-access\">post</a> from User @Theo with the same exact problem but without any answers.</p>\n\n<p><strong>Code for adding songs to a playlist</strong></p>\n\n<pre><code>public void addToPlayList(Context c, long songID, long playListID, String playlistName) {\n\n    Uri playListUri = MediaStore.Audio.Playlists.Members.getContentUri(\"external\", playListID);\n\n    String[] columns = {\n            MediaStore.Audio.Playlists.Members.AUDIO_ID,\n            MediaStore.Audio.Playlists.Members.PLAY_ORDER,\n    };\n\n    ContentResolver resolver = c.getContentResolver();\n\n    Cursor cursor = resolver.query(playListUri, columns, null, null, null);\n\n    int playOrder = 0;\n    if (cursor != null) {\n        cursor.moveToFirst();\n        while (!cursor.isAfterLast()) {\n            playOrder = cursor.getInt(0) + 1;\n        }\n        cursor.close();\n\n        ContentValues contentValues = new ContentValues();\n\n        contentValues.put(MediaStore.Audio.Playlists.Members.AUDIO_ID, songID);\n        contentValues.put(MediaStore.Audio.Playlists.Members.PLAY_ORDER, playOrder);\n\n        resolver.insert(playListUri, contentValues);\n        resolver.notifyChange(Uri.parse(\"content://media\"), null);\n}\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>Looks like the thrown <strong>Exception</strong> is not an instance of <code>RecoverableSecurityException</code> so how do we get access to that content?</p>\n"},{"tags":["java","javafx"],"answers":[{"tags":[],"owner":{"account_id":5552861,"reputation":994,"user_id":4405343,"display_name":"ttarczynski"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1431086788,"creation_date":1431086788,"answer_id":30123450,"question_id":25892481,"body_markdown":"I know it&#39;s a late answer, but maybe someone will find it usefull. I&#39;ve stumbled upon this problem just today. I&#39;m working on an app which is going to be a simple storehouse manager for a small shop. The main part will be a TableView component which can be dynamically updated by adding, removing or filtering items.\r\n\r\nIn fact, you can&#39;t add od remove items to or from the FilteredList as it will throw an UnsupportedOperationException even when for the operation itself you will wrap it with a basic ObservableList. What one can do is to keep separate  ObservableList and FilteredList of TableView items, and if an update is required update only the first one, than wrap it in the FilteredList and only then use it as a source for TableView.setItems() method.\r\n\r\nDemonstration code:\r\n\r\n    public class DynamicFilteredList {\r\n      @FXML\r\n      private TableView tableView;\r\n      @FXML\r\n      private TextField searchField;\r\n      private ObservableList tableItems;\r\n      private FilteredList filteredTableItems;\r\n    \r\n      private void wrapListAndAddFiltering() {\r\n            //Wrap ObservableList into FilteredList\r\n            filteredTableItems = new FilteredList&lt;&gt;(tableItems, p -&gt; true);\r\n    \r\n            //Add change listener to searchField component to filter the table view\r\n            searchField.textProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n                filteredTableItems.setPredicate(item -&gt; {\r\n                    if (newValue == null || newValue.isEmpty()) {\r\n                        return true;\r\n                    }\r\n                    String query = newValue.toLowerCase();\r\n                    if (item.getName().toLowerCase().contains(query)) {\r\n                        return true;\r\n                    }\r\n                    return false;\r\n                });\r\n            });\r\n        }\r\n\r\n        private void add(Item item) {\r\n            tableItems.add(item);\r\n            wrapListAndAddFiltering();\r\n            tableView.setItems(filteredTableItems);\r\n        }\r\n\r\n        private void remove(Item item) {\r\n            tableItems.remove(item);\r\n            wrapListAndAddFiltering();\r\n            tableView.setItems(filteredTableItems);\r\n        }\r\n \r\n\r\n    }\r\n\r\nThe major drawback I see in this approach is that, in the case of very large lists, it can be resource (especially memory) consuming and may have negative inpact on the overall performance of the app.","title":"How to remove items from FilteredList?","body":"<p>I know it's a late answer, but maybe someone will find it usefull. I've stumbled upon this problem just today. I'm working on an app which is going to be a simple storehouse manager for a small shop. The main part will be a TableView component which can be dynamically updated by adding, removing or filtering items.</p>\n\n<p>In fact, you can't add od remove items to or from the FilteredList as it will throw an UnsupportedOperationException even when for the operation itself you will wrap it with a basic ObservableList. What one can do is to keep separate  ObservableList and FilteredList of TableView items, and if an update is required update only the first one, than wrap it in the FilteredList and only then use it as a source for TableView.setItems() method.</p>\n\n<p>Demonstration code:</p>\n\n<pre><code>public class DynamicFilteredList {\n  @FXML\n  private TableView tableView;\n  @FXML\n  private TextField searchField;\n  private ObservableList tableItems;\n  private FilteredList filteredTableItems;\n\n  private void wrapListAndAddFiltering() {\n        //Wrap ObservableList into FilteredList\n        filteredTableItems = new FilteredList&lt;&gt;(tableItems, p -&gt; true);\n\n        //Add change listener to searchField component to filter the table view\n        searchField.textProperty().addListener((observable, oldValue, newValue) -&gt; {\n            filteredTableItems.setPredicate(item -&gt; {\n                if (newValue == null || newValue.isEmpty()) {\n                    return true;\n                }\n                String query = newValue.toLowerCase();\n                if (item.getName().toLowerCase().contains(query)) {\n                    return true;\n                }\n                return false;\n            });\n        });\n    }\n\n    private void add(Item item) {\n        tableItems.add(item);\n        wrapListAndAddFiltering();\n        tableView.setItems(filteredTableItems);\n    }\n\n    private void remove(Item item) {\n        tableItems.remove(item);\n        wrapListAndAddFiltering();\n        tableView.setItems(filteredTableItems);\n    }\n\n\n}\n</code></pre>\n\n<p>The major drawback I see in this approach is that, in the case of very large lists, it can be resource (especially memory) consuming and may have negative inpact on the overall performance of the app.</p>\n"},{"tags":[],"owner":{"account_id":14318904,"reputation":385,"user_id":10342912,"display_name":"eckad158"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1558422088,"creation_date":1558422088,"answer_id":56232786,"question_id":25892481,"body_markdown":"I had the same problem and i figured out, that you can access the underlying List with \r\n\r\n    myFilteredList.getSource() \r\n\r\nIn my case i was using an ObservableList and was able to remove items from the Source List using \r\n\r\n    myFilteredList.getSource().remove(itemReference);\r\n\r\nI hope this might help.","title":"How to remove items from FilteredList?","body":"<p>I had the same problem and i figured out, that you can access the underlying List with </p>\n\n<pre><code>myFilteredList.getSource() \n</code></pre>\n\n<p>In my case i was using an ObservableList and was able to remove items from the Source List using </p>\n\n<pre><code>myFilteredList.getSource().remove(itemReference);\n</code></pre>\n\n<p>I hope this might help.</p>\n"},{"tags":[],"owner":{"account_id":16532789,"reputation":294,"user_id":11945573,"display_name":"Leonis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639240062,"creation_date":1639225219,"answer_id":70315092,"question_id":25892481,"body_markdown":"I solved this question even easier. First I declared the following fields:\r\n\r\n```\r\nObservableList&lt;SomeData&gt; observableList = FXCollections.observableArrayList();\r\nFilteredList&lt;SomeData&gt; filteredList = new FilteredList&lt;&gt;(observableList);\r\n\r\n...\r\nfilteredList.setPredicate(t -&gt; !t.isGreen() || showGreenCheckBox.isSelected());\r\ntableView.setItems(filteredList);\r\n```\r\n\r\nI perform all operations on the contents of the `tableView` on the `observableList`, for example: \r\n\r\n`observableList.remove(someData);`\r\n\r\nOr\r\n\r\n`observableList.add(someData);`\r\n","title":"How to remove items from FilteredList?","body":"<p>I solved this question even easier. First I declared the following fields:</p>\n<pre><code>ObservableList&lt;SomeData&gt; observableList = FXCollections.observableArrayList();\nFilteredList&lt;SomeData&gt; filteredList = new FilteredList&lt;&gt;(observableList);\n\n...\nfilteredList.setPredicate(t -&gt; !t.isGreen() || showGreenCheckBox.isSelected());\ntableView.setItems(filteredList);\n</code></pre>\n<p>I perform all operations on the contents of the <code>tableView</code> on the <code>observableList</code>, for example:</p>\n<p><code>observableList.remove(someData);</code></p>\n<p>Or</p>\n<p><code>observableList.add(someData);</code></p>\n"}],"owner":{"account_id":1482151,"reputation":1072,"user_id":1391278,"accept_rate":33,"display_name":"BilalDja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3309,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1639240062,"creation_date":1410961836,"question_id":25892481,"body_markdown":"I&#39;m using JavaFX 8. I try to filter a TableView and I did that, but I have also some other functionalities like modifying and deleting an item from the Table. After the addition of the filtering the modification work properly but the deleting is Unsupported!!\r\nThis is what I implement:\r\n\r\n    public void setMainApp(MainApp mainApp) {\r\n\t\tthis.mainApp = mainApp;\r\n\t\trefreshCategories();\r\n\r\n\t\tFilteredList&lt;Product&gt; filteredProducts = new FilteredList&lt;&gt;(mainApp.getProductData(), p -&gt; true);\r\n\r\n\t\tcategoryCombo.getSelectionModel().selectedItemProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n\t\t\tfilteredProducts.setPredicate(product -&gt; {\r\n\r\n\t\t\t\tif (newValue == null || newValue.isEmpty() || newValue.equals(&quot;None&quot;))\r\n\t\t\t\t\treturn true;\r\n\t\t\t\tString lowerCaseFilter = newValue.toLowerCase();\r\n\t\t\t\tif (product.getCategory().toLowerCase().indexOf(lowerCaseFilter) == -1) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\t\r\n\t\tproductTable.setItems(filteredProducts);\r\n\r\n\t}\r\n\r\nAnd this is the deleting implementation:\r\n\r\n    @FXML\r\n\tprivate void handleDelete() {\r\n\t\tint selectedIndex = productTable.getSelectionModel().getSelectedIndex();\r\n\t\tif (selectedIndex &gt;= 0) {\r\n\t\t\tAction responce = Dialogs.create().title(&quot;Supprission&quot;).masthead(&quot;Supprission definitive&quot;)\r\n\t\t\t\t\t.message(&quot;&#202;tes-vous s&#251;re de vouloir supprimer ce produit?&quot;).actions(Dialog.Actions.OK, Dialog.Actions.CANCEL).showConfirm();\r\n\t\t\tif (responce == Dialog.Actions.OK) {\r\n\t\t\t\tProduct product = productTable.getSelectionModel().getSelectedItem();\r\n\t\t\t\tdao.removeProductByEntity(product);\r\n\t\t\t\tproductTable.getItems().remove(selectedIndex);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tDialogs.create().title(&quot;Pas de selection&quot;).masthead(&quot;Pas de produit Selectionn&#233;&quot;).message(&quot;S&#39;il vous plait, selectionn&#233; un produit dans la liste.&quot;)\r\n\t\t\t\t\t.showWarning();\r\n\t\t}\r\n\t}\r\n\r\nthis is the line that cause the Exception:\r\n\r\n    productTable.getItems().remove(selectedIndex);\r\n\r\nAnd finally this is the Exception message:\r\n\r\n    Exception in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\r\n    \tat javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1762)\r\n    \tat javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1645)\r\n    \tat com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n    \tat com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\r\n    \tat com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n    \tat com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n    \tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n    \tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n    \tat com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\r\n    \tat javafx.event.Event.fireEvent(Event.java:198)\r\n    \tat javafx.scene.Node.fireEvent(Node.java:8216)\r\n    \tat javafx.scene.control.Button.fire(Button.java:185)\r\n    \tat com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:182)\r\n    \tat com.sun.javafx.scene.control.skin.BehaviorSkinBase$1.handle(BehaviorSkinBase.java:96)\r\n    \tat com.sun.javafx.scene.control.skin.BehaviorSkinBase$1.handle(BehaviorSkinBase.java:89)\r\n    \tat com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:218)\r\n    \tat com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n    \tat com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\r\n    \tat com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n    \tat com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n    \tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n    \tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n    \tat com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n    \tat javafx.event.Event.fireEvent(Event.java:198)\r\n    \tat javafx.scene.Scene$MouseHandler.process(Scene.java:3724)\r\n    \tat javafx.scene.Scene$MouseHandler.access$1500(Scene.java:3452)\r\n    \tat javafx.scene.Scene.impl_processMouseEvent(Scene.java:1728)\r\n    \tat javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2461)\r\n    \tat com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:348)\r\n    \tat com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:273)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:382)\r\n    \tat com.sun.glass.ui.View.handleMouseEvent(View.java:553)\r\n    \tat com.sun.glass.ui.View.notifyMouse(View.java:925)\r\n    \tat com.sun.glass.ui.gtk.GtkApplication._runLoop(Native Method)\r\n    \tat com.sun.glass.ui.gtk.GtkApplication.lambda$null$45(GtkApplication.java:126)\r\n    \tat com.sun.glass.ui.gtk.GtkApplication$$Lambda$42/584634336.run(Unknown Source)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:483)\r\n    \tat sun.reflect.misc.Trampoline.invoke(MethodUtil.java:71)\r\n    \tat sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:483)\r\n    \tat sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:275)\r\n    \tat javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1759)\r\n    \t... 51 more\r\n    Caused by: java.lang.UnsupportedOperationException\r\n    \tat java.util.AbstractList.remove(AbstractList.java:161)\r\n    \tat dz.bilaldjago.homekode.controller.ProductOverviewController.handleDelete(ProductOverviewController.java:103)\r\n    \t... 61 more\r\n\r\nMy main question is: Is it possible that a ReadOnly list accept modification but not deletion!\r\nI hope this is clean and clear to understand.","title":"How to remove items from FilteredList?","body":"<p>I'm using JavaFX 8. I try to filter a TableView and I did that, but I have also some other functionalities like modifying and deleting an item from the Table. After the addition of the filtering the modification work properly but the deleting is Unsupported!!\nThis is what I implement:</p>\n\n<pre><code>public void setMainApp(MainApp mainApp) {\n    this.mainApp = mainApp;\n    refreshCategories();\n\n    FilteredList&lt;Product&gt; filteredProducts = new FilteredList&lt;&gt;(mainApp.getProductData(), p -&gt; true);\n\n    categoryCombo.getSelectionModel().selectedItemProperty().addListener((observable, oldValue, newValue) -&gt; {\n        filteredProducts.setPredicate(product -&gt; {\n\n            if (newValue == null || newValue.isEmpty() || newValue.equals(\"None\"))\n                return true;\n            String lowerCaseFilter = newValue.toLowerCase();\n            if (product.getCategory().toLowerCase().indexOf(lowerCaseFilter) == -1) {\n                return false;\n            }\n            return true;\n        });\n    });\n\n\n    productTable.setItems(filteredProducts);\n\n}\n</code></pre>\n\n<p>And this is the deleting implementation:</p>\n\n<pre><code>@FXML\nprivate void handleDelete() {\n    int selectedIndex = productTable.getSelectionModel().getSelectedIndex();\n    if (selectedIndex &gt;= 0) {\n        Action responce = Dialogs.create().title(\"Supprission\").masthead(\"Supprission definitive\")\n                .message(\"Êtes-vous sûre de vouloir supprimer ce produit?\").actions(Dialog.Actions.OK, Dialog.Actions.CANCEL).showConfirm();\n        if (responce == Dialog.Actions.OK) {\n            Product product = productTable.getSelectionModel().getSelectedItem();\n            dao.removeProductByEntity(product);\n            productTable.getItems().remove(selectedIndex);\n        }\n    } else {\n        Dialogs.create().title(\"Pas de selection\").masthead(\"Pas de produit Selectionné\").message(\"S'il vous plait, selectionné un produit dans la liste.\")\n                .showWarning();\n    }\n}\n</code></pre>\n\n<p>this is the line that cause the Exception:</p>\n\n<pre><code>productTable.getItems().remove(selectedIndex);\n</code></pre>\n\n<p>And finally this is the Exception message:</p>\n\n<pre><code>Exception in thread \"JavaFX Application Thread\" java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\n    at javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1762)\n    at javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1645)\n    at com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\n    at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\n    at javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.scene.Node.fireEvent(Node.java:8216)\n    at javafx.scene.control.Button.fire(Button.java:185)\n    at com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:182)\n    at com.sun.javafx.scene.control.skin.BehaviorSkinBase$1.handle(BehaviorSkinBase.java:96)\n    at com.sun.javafx.scene.control.skin.BehaviorSkinBase$1.handle(BehaviorSkinBase.java:89)\n    at com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:218)\n    at com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\n    at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\n    at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n    at javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.scene.Scene$MouseHandler.process(Scene.java:3724)\n    at javafx.scene.Scene$MouseHandler.access$1500(Scene.java:3452)\n    at javafx.scene.Scene.impl_processMouseEvent(Scene.java:1728)\n    at javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2461)\n    at com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:348)\n    at com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:273)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:382)\n    at com.sun.glass.ui.View.handleMouseEvent(View.java:553)\n    at com.sun.glass.ui.View.notifyMouse(View.java:925)\n    at com.sun.glass.ui.gtk.GtkApplication._runLoop(Native Method)\n    at com.sun.glass.ui.gtk.GtkApplication.lambda$null$45(GtkApplication.java:126)\n    at com.sun.glass.ui.gtk.GtkApplication$$Lambda$42/584634336.run(Unknown Source)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: java.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:483)\n    at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:71)\n    at sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:483)\n    at sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:275)\n    at javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1759)\n    ... 51 more\nCaused by: java.lang.UnsupportedOperationException\n    at java.util.AbstractList.remove(AbstractList.java:161)\n    at dz.bilaldjago.homekode.controller.ProductOverviewController.handleDelete(ProductOverviewController.java:103)\n    ... 61 more\n</code></pre>\n\n<p>My main question is: Is it possible that a ReadOnly list accept modification but not deletion!\nI hope this is clean and clear to understand.</p>\n"},{"tags":["java","spring","spring-boot","api","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639239815,"creation_date":1639239815,"answer_id":70316859,"question_id":70316800,"body_markdown":"Assuming you are using Jackson to deserialize your JSON, you can fix this by including setters in your DTO:\r\n```java\r\npublic class YourDto {\r\n    private String code;\r\n    private String content;\r\n    private Integer ordering;\r\n    private HashMap&lt;String,String&gt; options;\r\n    private String correct;\r\n    private String explaination;\r\n\r\n    public void setCode(String code) {\r\n        this.code = code;\r\n    }\r\n\r\n    public void setContent(String content) {\r\n        this.content = content;\r\n    }\r\n\r\n    public void setOrdering(Integer ordering) {\r\n        this.ordering = ordering;\r\n    }\r\n\r\n    public void setOptions(HashMap&lt;String, String&gt; options) {\r\n        this.options = options;\r\n    }\r\n\r\n    public void setCorrect(String correct) {\r\n        this.correct = correct;\r\n    }\r\n\r\n    public void setExplaination(String explaination) {\r\n        this.explaination = explaination;\r\n    }\r\n}\r\n```","title":"how do i make DTO to process the following response in springboot","body":"<p>Assuming you are using Jackson to deserialize your JSON, you can fix this by including setters in your DTO:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class YourDto {\n    private String code;\n    private String content;\n    private Integer ordering;\n    private HashMap&lt;String,String&gt; options;\n    private String correct;\n    private String explaination;\n\n    public void setCode(String code) {\n        this.code = code;\n    }\n\n    public void setContent(String content) {\n        this.content = content;\n    }\n\n    public void setOrdering(Integer ordering) {\n        this.ordering = ordering;\n    }\n\n    public void setOptions(HashMap&lt;String, String&gt; options) {\n        this.options = options;\n    }\n\n    public void setCorrect(String correct) {\n        this.correct = correct;\n    }\n\n    public void setExplaination(String explaination) {\n        this.explaination = explaination;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6078702,"reputation":1668,"user_id":4745154,"accept_rate":36,"display_name":"Kumaresh Babu N S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639239838,"creation_date":1639239838,"answer_id":70316861,"question_id":70316800,"body_markdown":"Use like this.\r\n\r\n    public class ResponseDTO {\r\n        \r\n        @JsonProperty(&quot;code&quot;)\r\n        private String code;\r\n        \r\n        @JsonProperty(&quot;content&quot;)\r\n        private String content;\r\n    \r\n        @JsonProperty(&quot;ordering&quot;)\r\n        private Integer ordering;\r\n    \r\n        @JsonProperty(&quot;options&quot;)\r\n        private HashMap&lt;String,String&gt; options;\r\n    \r\n        @JsonProperty(&quot;correct&quot;)\r\n        private String correct;\r\n    \r\n        @JsonProperty(&quot;explaination&quot;)\r\n        private String explaination;\r\n    }","title":"how do i make DTO to process the following response in springboot","body":"<p>Use like this.</p>\n<pre><code>public class ResponseDTO {\n    \n    @JsonProperty(&quot;code&quot;)\n    private String code;\n    \n    @JsonProperty(&quot;content&quot;)\n    private String content;\n\n    @JsonProperty(&quot;ordering&quot;)\n    private Integer ordering;\n\n    @JsonProperty(&quot;options&quot;)\n    private HashMap&lt;String,String&gt; options;\n\n    @JsonProperty(&quot;correct&quot;)\n    private String correct;\n\n    @JsonProperty(&quot;explaination&quot;)\n    private String explaination;\n}\n</code></pre>\n"}],"owner":{"account_id":21938528,"reputation":59,"user_id":16219386,"display_name":"Adarsh Awasthi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":553,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1639239877,"creation_date":1639239306,"question_id":70316800,"body_markdown":"```json\r\n{\r\n    &quot;code&quot;: &quot;ascending-order-pq-4&quot;,\r\n    &quot;content&quot;: &quot;Arrange the following decimal numbers in ascending order.\\n4.3, 1.24, 2.4, 1.2&quot;,\r\n    &quot;ordering&quot;: 4,\r\n    &quot;options&quot;: {\r\n        &quot;answer_b&quot;: &quot;4.3 &lt; 2.4 &lt; 1.24 &lt; 1.2&quot;,\r\n        &quot;answer_a&quot;: &quot;1.2 &lt; 2.4 &lt; 4.3 &lt; 1.24&quot;,\r\n        &quot;answer_d&quot;: &quot;1.2 &lt; 1.24 &lt; 2.4 &lt; 4.3&quot;,\r\n        &quot;answer_c&quot;: &quot;1.24 &lt; 1.2 &lt; 2.4 &lt; 4.3&quot;\r\n    },\r\n    &quot;correct&quot;: &quot;answer_d&quot;,\r\n    &quot;explaination&quot;: &quot;Decimals are compared the same way as multi-digit numbers by keeping the number of digits the same with the help of trailing zeroes.&quot;\r\n}\r\n```\r\n\r\nCurrently I am having DTO like that:\r\n\r\n    private String code;\r\n    private String content;\r\n    private Integer ordering;\r\n    private HashMap&lt;String,String&gt; options;\r\n \r\n    private String correct;\r\n    private String explaination;\r\n\r\nBut it is throwing an exception as\r\n\r\n&gt; Resolved\r\n&gt; [org.springframework.http.converter.HttpMessageNotReadableException:\r\n&gt; JSON parse error: Cannot construct instance of `java.util.HashMap`\r\n&gt; (although at least one Creator exists): no String-argument\r\n&gt; constructor/factory method to deserialize from String value\r\n&gt; (&#39;{:answer_a=&gt;&quot;1.2 &lt; 2.4 &lt; 4.3 &lt; 1.24&quot;, :answer_b=&gt;&quot;4.3 &lt; 2.4 &lt; 1.24 &lt;\r\n&gt; 1.2&quot;, :answer_c=&gt;&quot;1.24 &lt; 1.2 &lt; 2.4 &lt; 4.3&quot;, :answer_d=&gt;&quot;1.2 &lt; 1.24 &lt; 2.4 &lt; 4.3&quot;}&#39;); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot\r\n&gt; construct instance of `java.util.HashMap` (although at least one\r\n&gt; Creator exists): no String-argument constructor/factory method to\r\n&gt; deserialize from String value (&#39;{:answer_a=&gt;&quot;1.2 &lt; 2.4 &lt; 4.3 &lt; 1.24&quot;,\r\n&gt; :answer_b=&gt;&quot;4.3 &lt; 2.4 &lt; 1.24 &lt; 1.2&quot;, :answer_c=&gt;&quot;1.24 &lt; 1.2 &lt; 2.4 &lt;\r\n&gt; 4.3&quot;, :answer_d=&gt;&quot;1.2 &lt; 1.24 &lt; 2.4 &lt; 4.3&quot;}&#39;)\r\n\r\nHow should I make the DTO process the data coming?","title":"how do i make DTO to process the following response in springboot","body":"<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;code&quot;: &quot;ascending-order-pq-4&quot;,\n    &quot;content&quot;: &quot;Arrange the following decimal numbers in ascending order.\\n4.3, 1.24, 2.4, 1.2&quot;,\n    &quot;ordering&quot;: 4,\n    &quot;options&quot;: {\n        &quot;answer_b&quot;: &quot;4.3 &lt; 2.4 &lt; 1.24 &lt; 1.2&quot;,\n        &quot;answer_a&quot;: &quot;1.2 &lt; 2.4 &lt; 4.3 &lt; 1.24&quot;,\n        &quot;answer_d&quot;: &quot;1.2 &lt; 1.24 &lt; 2.4 &lt; 4.3&quot;,\n        &quot;answer_c&quot;: &quot;1.24 &lt; 1.2 &lt; 2.4 &lt; 4.3&quot;\n    },\n    &quot;correct&quot;: &quot;answer_d&quot;,\n    &quot;explaination&quot;: &quot;Decimals are compared the same way as multi-digit numbers by keeping the number of digits the same with the help of trailing zeroes.&quot;\n}\n</code></pre>\n<p>Currently I am having DTO like that:</p>\n<pre><code>private String code;\nprivate String content;\nprivate Integer ordering;\nprivate HashMap&lt;String,String&gt; options;\n\nprivate String correct;\nprivate String explaination;\n</code></pre>\n<p>But it is throwing an exception as</p>\n<blockquote>\n<p>Resolved\n[org.springframework.http.converter.HttpMessageNotReadableException:\nJSON parse error: Cannot construct instance of <code>java.util.HashMap</code>\n(although at least one Creator exists): no String-argument\nconstructor/factory method to deserialize from String value\n('{:answer_a=&gt;&quot;1.2 &lt; 2.4 &lt; 4.3 &lt; 1.24&quot;, :answer_b=&gt;&quot;4.3 &lt; 2.4 &lt; 1.24 &lt;\n1.2&quot;, :answer_c=&gt;&quot;1.24 &lt; 1.2 &lt; 2.4 &lt; 4.3&quot;, :answer_d=&gt;&quot;1.2 &lt; 1.24 &lt; 2.4 &lt; 4.3&quot;}'); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot\nconstruct instance of <code>java.util.HashMap</code> (although at least one\nCreator exists): no String-argument constructor/factory method to\ndeserialize from String value ('{:answer_a=&gt;&quot;1.2 &lt; 2.4 &lt; 4.3 &lt; 1.24&quot;,\n:answer_b=&gt;&quot;4.3 &lt; 2.4 &lt; 1.24 &lt; 1.2&quot;, :answer_c=&gt;&quot;1.24 &lt; 1.2 &lt; 2.4 &lt;\n4.3&quot;, :answer_d=&gt;&quot;1.2 &lt; 1.24 &lt; 2.4 &lt; 4.3&quot;}')</p>\n</blockquote>\n<p>How should I make the DTO process the data coming?</p>\n"},{"tags":["java","eclipse","templates","try-with-resources"],"answers":[{"tags":[],"owner":{"account_id":29270,"reputation":4126,"user_id":78973,"accept_rate":100,"display_name":"Arend v. Reinersdorff"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1443989254,"creation_date":1443989254,"answer_id":32937848,"question_id":23698534,"body_markdown":"There&#39;s no &quot;try-with-resource&quot; template included in Eclipse.\r\n\r\nThere is an open issue for it: [Bug 351864 - [1.7][templates] Add &#39;try-with-resource&#39; template](https://bugs.eclipse.org/bugs/show_bug.cgi?id=351864)","title":"eclipse try-with-resource template?","body":"<p>There's no \"try-with-resource\" template included in Eclipse.</p>\n\n<p>There is an open issue for it: <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=351864\" rel=\"nofollow\">Bug 351864 - [1.7][templates] Add 'try-with-resource' template</a></p>\n"},{"tags":[],"owner":{"account_id":4243,"reputation":1301840,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639239604,"creation_date":1639239129,"answer_id":70316779,"question_id":23698534,"body_markdown":"Eclipse 4.22 (Q4 2021, 7 years later) might offer that feature:\r\n\r\n&gt; ## [Surround with try-with-resources quickfix][1]\r\n&gt;\r\n&gt; A new quickfix has been created to offer Surround with `try-with-resources` for resource leaks and potential resource leaks when the resource in question implements AutoCloseable.\r\n&gt;\r\n&gt;Examples of quickfix:\r\n&gt;\r\n&gt;[![Unclosed Resource -- https://www.eclipse.org/eclipse/news/4.22/images/unclosed-closeable.png][2]][2]\r\n&gt;\r\n&gt; [![Potentially Unclosed Resource][3]][3]\r\n\r\n\r\n  [1]: https://www.eclipse.org/eclipse/news/4.22/jdt.php#surround-with-try-with-resources-quickfix\r\n  [2]: https://i.stack.imgur.com/8aV4P.png\r\n  [3]: https://i.stack.imgur.com/1SxiR.png","title":"eclipse try-with-resource template?","body":"<p>Eclipse 4.22 (Q4 2021, 7 years later) might offer that feature:</p>\n<blockquote>\n<h2><a href=\"https://www.eclipse.org/eclipse/news/4.22/jdt.php#surround-with-try-with-resources-quickfix\" rel=\"nofollow noreferrer\">Surround with try-with-resources quickfix</a></h2>\n<p>A new quickfix has been created to offer Surround with <code>try-with-resources</code> for resource leaks and potential resource leaks when the resource in question implements AutoCloseable.</p>\n<p>Examples of quickfix:</p>\n<p><a href=\"https://i.stack.imgur.com/8aV4P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8aV4P.png\" alt=\"Unclosed Resource -- https://www.eclipse.org/eclipse/news/4.22/images/unclosed-closeable.png\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/1SxiR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1SxiR.png\" alt=\"Potentially Unclosed Resource\" /></a></p>\n</blockquote>\n"}],"owner":{"account_id":429043,"reputation":413,"user_id":811729,"accept_rate":80,"display_name":"finejustice"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":706,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":32937848,"answer_count":2,"score":5,"last_activity_date":1639239604,"creation_date":1400252481,"question_id":23698534,"body_markdown":"Eclipse supports try-with-resource, somewhat like this:\r\n\r\n    try(Outputstream resource = new FileOutputStream(file)){\r\n    // do something...\r\n    }\r\n\r\nIt has been years since this featured added to eclipse, but there is no template &quot;try-with-reousource&quot;. only exists one is &quot;try-catch&quot;.\r\n\r\nI tried to make template, like `try($type{} ${localVar} = new $type{}){ {$cursor{} }`, but was useless. (non-AutoClosable types were also suggested)\r\n\r\nIs there any useful try-with-resource template?","title":"eclipse try-with-resource template?","body":"<p>Eclipse supports try-with-resource, somewhat like this:</p>\n\n<pre><code>try(Outputstream resource = new FileOutputStream(file)){\n// do something...\n}\n</code></pre>\n\n<p>It has been years since this featured added to eclipse, but there is no template \"try-with-reousource\". only exists one is \"try-catch\".</p>\n\n<p>I tried to make template, like <code>try($type{} ${localVar} = new $type{}){ {$cursor{} }</code>, but was useless. (non-AutoClosable types were also suggested)</p>\n\n<p>Is there any useful try-with-resource template?</p>\n"},{"tags":["java","eclipse","java-17"],"comments":[{"owner":{"display_name":"user16411474"},"score":0,"creation_date":1632107271,"post_id":69248698,"comment_id":122395081,"body_markdown":"1 vote for having the same problem.","body":"1 vote for having the same problem."},{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":3,"creation_date":1632119601,"post_id":69248698,"comment_id":122397210,"body_markdown":"No, it isn&#39;t possible without installing anything - Java 17 support is in the patch. Eclipse 2021-12 will have full Java 17 support included.","body":"No, it isn&#39;t possible without installing anything - Java 17 support is in the patch. Eclipse 2021-12 will have full Java 17 support included."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":3,"creation_date":1632120216,"post_id":69248698,"comment_id":122397402,"body_markdown":"Generally, don&#39;t expect tooling support for something a day after it has been released.","body":"Generally, don&#39;t expect tooling support for something a day after it has been released."},{"owner":{"account_id":22880973,"reputation":698,"user_id":17022570,"display_name":"Arsh Coder"},"score":1,"creation_date":1634793940,"post_id":69248698,"comment_id":123122240,"body_markdown":"Does this answer your question? [Eclipse 2021-09 code completion not showing all methods and classes](https://stackoverflow.com/questions/69357171/eclipse-2021-09-code-completion-not-showing-all-methods-and-classes)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/69357171/eclipse-2021-09-code-completion-not-showing-all-methods-and-classes\">Eclipse 2021-09 code completion not showing all methods and classes</a>"}],"answers":[{"tags":[],"owner":{"account_id":1432415,"reputation":10687,"user_id":1354537,"accept_rate":83,"display_name":"Marged"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1632116984,"creation_date":1632112617,"answer_id":69249149,"question_id":69248698,"body_markdown":"The release notes state this:\r\n\r\n&gt; Supports Java 17, including Pattern Matching for Switch (Preview),\r\n&gt; Sealed Classes, and more **via Eclipse Marketplace**\r\n\r\nThat means currently you have to install the plugin, later support will be included.\r\nYou might also want to read this: https://www.eclipse.org/eclipse/news/4.21/jdt.php","title":"Eclipse not recognising Java-17","body":"<p>The release notes state this:</p>\n<blockquote>\n<p>Supports Java 17, including Pattern Matching for Switch (Preview),\nSealed Classes, and more <strong>via Eclipse Marketplace</strong></p>\n</blockquote>\n<p>That means currently you have to install the plugin, later support will be included.\nYou might also want to read this: <a href=\"https://www.eclipse.org/eclipse/news/4.21/jdt.php\" rel=\"noreferrer\">https://www.eclipse.org/eclipse/news/4.21/jdt.php</a></p>\n"},{"tags":[],"owner":{"account_id":22880973,"reputation":698,"user_id":17022570,"display_name":"Arsh Coder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633240961,"creation_date":1633240961,"answer_id":69422453,"question_id":69248698,"body_markdown":"Install java 17 plugin from [this][1] link.  Then your likely to have a [content assist error][2]. Fix it by [this][3] answer.\r\n\r\n\r\n  [1]: https://marketplace.eclipse.org/content/java-17-support-eclipse-2021-09-421\r\n  [2]: https://stackoverflow.com/questions/69357171/eclipse-2021-09-code-completion-not-showing-all-methods-and-classes\r\n  [3]: https://stackoverflow.com/a/69381206/17022570","title":"Eclipse not recognising Java-17","body":"<p>Install java 17 plugin from <a href=\"https://marketplace.eclipse.org/content/java-17-support-eclipse-2021-09-421\" rel=\"nofollow noreferrer\">this</a> link.  Then your likely to have a <a href=\"https://stackoverflow.com/questions/69357171/eclipse-2021-09-code-completion-not-showing-all-methods-and-classes\">content assist error</a>. Fix it by <a href=\"https://stackoverflow.com/a/69381206/17022570\">this</a> answer.</p>\n"},{"tags":[],"owner":{"account_id":4243,"reputation":1301840,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639239585,"creation_date":1639238411,"answer_id":70316691,"question_id":69248698,"body_markdown":"The support should be official with Eclipse 4.22 (Q4 2021)\r\n\r\n&gt; ## [Java 17][1]\r\n&gt;\r\n&gt; Java 17 is out and Eclipse JDT supports Java 17 in 4.22.\r\n&gt;\r\n&gt; The release notably includes the following Java 17 features:\r\n&gt;\r\n&gt; - [JEP 306][2]: Restore Always-Strict Floating-Point Semantics.\r\n&gt; - [JEP 406][3]: Pattern Matching for switch (Preview).\r\n&gt; - [JEP 409][4]: Sealed Classes (Final).\r\n&gt;\r\n&gt; Please note that preview option should be on for preview language features.   &gt;For an informal introduction of the support, please refer to J**[ava 17 Examples wiki][5]**.\r\n\r\n\r\n  [1]: https://www.eclipse.org/eclipse/news/4.22/jdt.php#Java_17\r\n  [2]: https://openjdk.java.net/jeps/306\r\n  [3]: https://openjdk.java.net/jeps/406\r\n  [4]: https://openjdk.java.net/jeps/409\r\n  [5]: https://wiki.eclipse.org/Java17/Examples","title":"Eclipse not recognising Java-17","body":"<p>The support should be official with Eclipse 4.22 (Q4 2021)</p>\n<blockquote>\n<h2><a href=\"https://www.eclipse.org/eclipse/news/4.22/jdt.php#Java_17\" rel=\"nofollow noreferrer\">Java 17</a></h2>\n<p>Java 17 is out and Eclipse JDT supports Java 17 in 4.22.</p>\n<p>The release notably includes the following Java 17 features:</p>\n<ul>\n<li><a href=\"https://openjdk.java.net/jeps/306\" rel=\"nofollow noreferrer\">JEP 306</a>: Restore Always-Strict Floating-Point Semantics.</li>\n<li><a href=\"https://openjdk.java.net/jeps/406\" rel=\"nofollow noreferrer\">JEP 406</a>: Pattern Matching for switch (Preview).</li>\n<li><a href=\"https://openjdk.java.net/jeps/409\" rel=\"nofollow noreferrer\">JEP 409</a>: Sealed Classes (Final).</li>\n</ul>\n<p>Please note that preview option should be on for preview language features.   &gt;For an informal introduction of the support, please refer to J**<a href=\"https://wiki.eclipse.org/Java17/Examples\" rel=\"nofollow noreferrer\">ava 17 Examples wiki</a>**.</p>\n</blockquote>\n"}],"owner":{"account_id":21133905,"reputation":99,"user_id":16436946,"display_name":"user16436946"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18693,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"answer_count":3,"score":7,"last_activity_date":1639239585,"creation_date":1632107229,"question_id":69248698,"body_markdown":"Hi today I installed java 17 and eclipse(with latest version- 2021‑09). But after all configuration it is showing JavaSE-16 as jdk version. I ignored it and started writing a program with sealed classes. Then it is showing an error. I managed to solve the problem by installing the Java-17 support plugin from eclipse marketplace. Is it possible in eclipse without installing anything.","title":"Eclipse not recognising Java-17","body":"<p>Hi today I installed java 17 and eclipse(with latest version- 2021‑09). But after all configuration it is showing JavaSE-16 as jdk version. I ignored it and started writing a program with sealed classes. Then it is showing an error. I managed to solve the problem by installing the Java-17 support plugin from eclipse marketplace. Is it possible in eclipse without installing anything.</p>\n"},{"tags":["java","swt"],"comments":[{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1639242558,"post_id":70316818,"comment_id":124300973,"body_markdown":"SWT.DEFAULT has a value of -1, the values to setMinSize need to be actual positive numbers from something like Composite.computeSize. There are far too many things that might be wrong to guess from a description. We need to see something closer to a [mre]","body":"SWT.DEFAULT has a value of -1, the values to setMinSize need to be actual positive numbers from something like Composite.computeSize. There are far too many things that might be wrong to guess from a description. We need to see something closer to a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":18058886,"reputation":1,"user_id":13126493,"display_name":"georgek"},"score":0,"creation_date":1639335496,"post_id":70316818,"comment_id":124317095,"body_markdown":"Hi Greg, thanks for the info..I was able to resolve this issue. Had to set the scrolled form parent’s layout to true (scrolledform.getParent().layout(true)) and now the editor opens in the right resolution.","body":"Hi Greg, thanks for the info..I was able to resolve this issue. Had to set the scrolled form parent’s layout to true (scrolledform.getParent().layout(true)) and now the editor opens in the right resolution."}],"owner":{"account_id":18058886,"reputation":1,"user_id":13126493,"display_name":"georgek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639239577,"creation_date":1639239464,"question_id":70316818,"body_markdown":"I have an editor opened on a component A and when I switch to another component B, the editor gets shrunk to a small box on the left corner of the editor screen. I can only see a part of the editor. Other parts are cropped out. This cropped part will remain as it is when I switch back to component A as well. It only happens when I switch to Component B. I’m new to SWT development and correct me if I’m wrong, I think why it shrinks is because of the scrolled form. If I double click on the screen, the editor goes back to normal screen size.\r\n\r\nI tried: \r\nI set both `expandHorizontal` and `expandVertical` to `true` and also `setMinSize(SWT.default, Swt.default)` but still didn’t work. ","title":"Scrolled composite is getting cropped out but after refresh it expands to normal","body":"<p>I have an editor opened on a component A and when I switch to another component B, the editor gets shrunk to a small box on the left corner of the editor screen. I can only see a part of the editor. Other parts are cropped out. This cropped part will remain as it is when I switch back to component A as well. It only happens when I switch to Component B. I’m new to SWT development and correct me if I’m wrong, I think why it shrinks is because of the scrolled form. If I double click on the screen, the editor goes back to normal screen size.</p>\n<p>I tried:\nI set both <code>expandHorizontal</code> and <code>expandVertical</code> to <code>true</code> and also <code>setMinSize(SWT.default, Swt.default)</code> but still didn’t work.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1639249974,"post_id":70316817,"comment_id":124302609,"body_markdown":"Not enough details.  What are the values returned by `getWidth()` and `getHeight()`?","body":"Not enough details.  What are the values returned by <code>getWidth()</code> and <code>getHeight()</code>?"},{"owner":{"account_id":23619481,"reputation":9,"user_id":17653012,"display_name":"Benjamin Anthamatten"},"score":0,"creation_date":1639384350,"post_id":70316817,"comment_id":124325736,"body_markdown":"both 500 pixels","body":"both 500 pixels"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1639416177,"post_id":70316817,"comment_id":124337681,"body_markdown":"Well, if you specify 500x500 for your buffered image, that’s what you will get. What is the pixel size of the frame? What do you mean by “high resolution”?","body":"Well, if you specify 500x500 for your buffered image, that’s what you will get. What is the pixel size of the frame? What do you mean by “high resolution”?"},{"owner":{"account_id":23619481,"reputation":9,"user_id":17653012,"display_name":"Benjamin Anthamatten"},"score":0,"creation_date":1639430044,"post_id":70316817,"comment_id":124342131,"body_markdown":"Oww, I see the problem. so if I want to make 1920 x 1080 i have to set the pixels to 1920 x 1080?","body":"Oww, I see the problem. so if I want to make 1920 x 1080 i have to set the pixels to 1920 x 1080?"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1639506776,"post_id":70316817,"comment_id":124364518,"body_markdown":"Did you try it?","body":"Did you try it?"}],"owner":{"account_id":23619481,"reputation":9,"user_id":17653012,"display_name":"Benjamin Anthamatten"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1639239451,"creation_date":1639239451,"question_id":70316817,"body_markdown":"I created a Jframe and now I want to export this. But it is alway in low resolution.\r\n\r\nExport:\r\n```\r\n\r\npublic void exportImageVersion1(JFrame frame) {\r\n        try\r\n        {\r\n            BufferedImage image = new BufferedImage(getWidth(), getHeight(), BufferedImage.TYPE_INT_RGB);\r\n            Graphics2D graphics2D = image.createGraphics();\r\n            frame.paint(graphics2D);\r\n            ImageIO.write(image,&quot;tiff&quot;,new File(&quot;test12.tiff&quot;));\r\n          \r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }","title":"How to export JFrame in High resolution?","body":"<p>I created a Jframe and now I want to export this. But it is alway in low resolution.</p>\n<p>Export:</p>\n<pre><code>\npublic void exportImageVersion1(JFrame frame) {\n        try\n        {\n            BufferedImage image = new BufferedImage(getWidth(), getHeight(), BufferedImage.TYPE_INT_RGB);\n            Graphics2D graphics2D = image.createGraphics();\n            frame.paint(graphics2D);\n            ImageIO.write(image,&quot;tiff&quot;,new File(&quot;test12.tiff&quot;));\n          \n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n"},{"tags":["java","hibernate","set","equals","hashcode"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1639228494,"post_id":70315186,"comment_id":124297795,"body_markdown":"Field `testChildCollection` in `TestClassChild` class  is used in equals() method, it seems you need `@EqualsAndHashCode(onlyExplicitlyIncluded = true, callSuper = true)` instead of `@EqualsAndHashCode(callSuper = true)`. BTW I do believe it is not a good idea to override equals/hashCode methods in this way, think about following: technically JPA record represents DB row, do equal records must point to the same row or not?","body":"Field <code>testChildCollection</code> in <code>TestClassChild</code> class  is used in equals() method, it seems you need <code>@EqualsAndHashCode(onlyExplicitlyIncluded = true, callSuper = true)</code> instead of <code>@EqualsAndHashCode(callSuper = true)</code>. BTW I do believe it is not a good idea to override equals/hashCode methods in this way, think about following: technically JPA record represents DB row, do equal records must point to the same row or not?"}],"answers":[{"tags":[],"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639231022,"creation_date":1639230698,"answer_id":70315725,"question_id":70315186,"body_markdown":" `testClassRepository.findById(1L).get();` returns an object with `testChildCollection`. When you generate a new `TestClassChild` you set id and email, but not the collection, but in your example Lombok also uses the `testChildCollection` to calculate equals/hashCode. \r\n\r\nWhen using inheritance I usually try to avoid using `@Data`, because it&#39;s easy to loose track of how the equals/hashCode are actually generated. \r\n\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    @ToString(callSuper = true) // Only if you really need a toString implementation that also prints your collection.\r\n    public class TestClassChild extends TestClassParent\r\n\r\nWill do the same just without the hashCode/equals generation.","title":"Why entity objects are not equal if I get one of that object with another fetched object that has collection elements although they should be?","body":"<p><code>testClassRepository.findById(1L).get();</code> returns an object with <code>testChildCollection</code>. When you generate a new <code>TestClassChild</code> you set id and email, but not the collection, but in your example Lombok also uses the <code>testChildCollection</code> to calculate equals/hashCode.</p>\n<p>When using inheritance I usually try to avoid using <code>@Data</code>, because it's easy to loose track of how the equals/hashCode are actually generated.</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@ToString(callSuper = true) // Only if you really need a toString implementation that also prints your collection.\npublic class TestClassChild extends TestClassParent\n</code></pre>\n<p>Will do the same just without the hashCode/equals generation.</p>\n"},{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639238939,"creation_date":1639238939,"answer_id":70316761,"question_id":70315186,"body_markdown":"The problem is that your `TestClassChild` `equals()` method also include a check for its `testChildCollection` property. The variable `testClassChild` has such property as not null, but `testClass1` has it as null. Hence the call `testClass1.equals(testClassChild)` will always be `false`.\r\n\r\nIf you only want to rely on the superclass `equals()` implementation, then you will have to exclude `testClassChild` as follows:\r\n```java\r\n@Entity\r\n@Data\r\n@EqualsAndHashCode(callSuper = true)\r\npublic class TestClassChild extends TestClassParent{\r\n\r\n    @EqualsAndHashCode.Exclude\r\n    @ManyToOne(fetch = FetchType.EAGER)\r\n    @JoinColumn(name = &quot;test_collection_id&quot;)\r\n    private TestChildCollection testChildCollection;\r\n}\r\n```","title":"Why entity objects are not equal if I get one of that object with another fetched object that has collection elements although they should be?","body":"<p>The problem is that your <code>TestClassChild</code> <code>equals()</code> method also include a check for its <code>testChildCollection</code> property. The variable <code>testClassChild</code> has such property as not null, but <code>testClass1</code> has it as null. Hence the call <code>testClass1.equals(testClassChild)</code> will always be <code>false</code>.</p>\n<p>If you only want to rely on the superclass <code>equals()</code> implementation, then you will have to exclude <code>testClassChild</code> as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Data\n@EqualsAndHashCode(callSuper = true)\npublic class TestClassChild extends TestClassParent{\n\n    @EqualsAndHashCode.Exclude\n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;test_collection_id&quot;)\n    private TestChildCollection testChildCollection;\n}\n</code></pre>\n"}],"owner":{"account_id":21788763,"reputation":189,"user_id":16089345,"display_name":"DozezQuest"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1639238939,"creation_date":1639226096,"question_id":70315186,"body_markdown":"I have 3 entity clasess that have relationships on each others\r\n\r\nTestClassParent :\r\n\r\n    @Entity\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @EqualsAndHashCode(of = &quot;email&quot;)\r\n    @Inheritance(strategy = InheritanceType.JOINED)\r\n    public class TestClassParent {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        private String email;\r\n    }\r\n\r\nTestClassChild :\r\n\r\n    @Entity\r\n    @Data\r\n    @EqualsAndHashCode(callSuper = true)\r\n    public class TestClassChild extends TestClassParent{\r\n    \r\n        @ManyToOne(fetch = FetchType.EAGER)\r\n        @JoinColumn(name = &quot;test_collection_id&quot;)\r\n        private TestChildCollection testChildCollection;\r\n    }\r\n\r\nTestChildCollection :\r\n\r\n    @Entity\r\n    @Data\r\n    @EqualsAndHashCode(of =&quot;id&quot;)\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class TestChildCollection {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        @OneToMany(mappedBy = &quot;testChildCollection&quot;,cascade = CascadeType.ALL,fetch = FetchType.EAGER)\r\n        private Set&lt;TestClassChild&gt; testClassChildSet;\r\n    }\r\n\r\nCurrently my database look like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\nRelationships : \r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\nEqualitiy of objects is done by comparing their email\r\n\r\nI have code for testing this case:\r\n\r\n    @SpringBootApplication\r\n    @AllArgsConstructor\r\n    public class DemoApplication {\r\n        private final TestClassChildRepository testClassRepository;\r\n        private final TestChildCollectionRepository testChildCollectionRepository;\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(DemoApplication.class, args);\r\n        }\r\n        @Bean\r\n        public ApplicationRunner applicationRunner() {\r\n            return args -&gt; {\r\n                TestClassChild testClassChild = testClassRepository.findById(1L).get();\r\n                TestClassChild testClass1 = new TestClassChild();\r\n                testClass1.setId(testClassChild.getId());\r\n                testClass1.setEmail(new String(&quot;newTestEmail2&quot;));\r\n                System.out.println(testClass1.equals(testClassChild));\r\n            };\r\n        }\r\n    \r\n    }\r\nAnd I get false for comparing these objects\r\n\r\nResult is : [![enter image description here][7]][7]\r\n\r\nI looked for debug and saw that, first instance has hashcode in email, and another one doesn&#39;t\r\nFirst one:\r\n\r\n[![enter image description here][5]][5]\r\n\r\nSecond one:\r\n\r\n[![enter image description here][6]][6]\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/W2wNn.png\r\n  [2]: https://i.stack.imgur.com/PflDc.png\r\n  [3]: https://i.stack.imgur.com/BjFCJ.png\r\n  [4]: https://i.stack.imgur.com/h8qJ4.png\r\n  [5]: https://i.stack.imgur.com/NSgoy.png\r\n  [6]: https://i.stack.imgur.com/9ymm0.png\r\n  [7]: https://i.stack.imgur.com/8VWjE.png","title":"Why entity objects are not equal if I get one of that object with another fetched object that has collection elements although they should be?","body":"<p>I have 3 entity clasess that have relationships on each others</p>\n<p>TestClassParent :</p>\n<pre><code>@Entity\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@EqualsAndHashCode(of = &quot;email&quot;)\n@Inheritance(strategy = InheritanceType.JOINED)\npublic class TestClassParent {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String email;\n}\n</code></pre>\n<p>TestClassChild :</p>\n<pre><code>@Entity\n@Data\n@EqualsAndHashCode(callSuper = true)\npublic class TestClassChild extends TestClassParent{\n\n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;test_collection_id&quot;)\n    private TestChildCollection testChildCollection;\n}\n</code></pre>\n<p>TestChildCollection :</p>\n<pre><code>@Entity\n@Data\n@EqualsAndHashCode(of =&quot;id&quot;)\n@AllArgsConstructor\n@NoArgsConstructor\npublic class TestChildCollection {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    @OneToMany(mappedBy = &quot;testChildCollection&quot;,cascade = CascadeType.ALL,fetch = FetchType.EAGER)\n    private Set&lt;TestClassChild&gt; testClassChildSet;\n}\n</code></pre>\n<p>Currently my database look like this:</p>\n<p><a href=\"https://i.stack.imgur.com/W2wNn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W2wNn.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/PflDc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PflDc.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/BjFCJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BjFCJ.png\" alt=\"enter image description here\" /></a></p>\n<p>Relationships :</p>\n<p><a href=\"https://i.stack.imgur.com/h8qJ4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h8qJ4.png\" alt=\"enter image description here\" /></a></p>\n<p>Equalitiy of objects is done by comparing their email</p>\n<p>I have code for testing this case:</p>\n<pre><code>@SpringBootApplication\n@AllArgsConstructor\npublic class DemoApplication {\n    private final TestClassChildRepository testClassRepository;\n    private final TestChildCollectionRepository testChildCollectionRepository;\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n    @Bean\n    public ApplicationRunner applicationRunner() {\n        return args -&gt; {\n            TestClassChild testClassChild = testClassRepository.findById(1L).get();\n            TestClassChild testClass1 = new TestClassChild();\n            testClass1.setId(testClassChild.getId());\n            testClass1.setEmail(new String(&quot;newTestEmail2&quot;));\n            System.out.println(testClass1.equals(testClassChild));\n        };\n    }\n\n}\n</code></pre>\n<p>And I get false for comparing these objects</p>\n<p>Result is : <a href=\"https://i.stack.imgur.com/8VWjE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8VWjE.png\" alt=\"enter image description here\" /></a></p>\n<p>I looked for debug and saw that, first instance has hashcode in email, and another one doesn't\nFirst one:</p>\n<p><a href=\"https://i.stack.imgur.com/NSgoy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NSgoy.png\" alt=\"enter image description here\" /></a></p>\n<p>Second one:</p>\n<p><a href=\"https://i.stack.imgur.com/9ymm0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9ymm0.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","tablelayout"],"answers":[{"tags":[],"owner":{"account_id":5148856,"reputation":250,"user_id":4123990,"display_name":"Nh&#226;n Khuất Văn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639238835,"creation_date":1639238835,"answer_id":70316748,"question_id":70316506,"body_markdown":"You have the following errors:\r\n\r\n1: The layout above the **mainLayout** layout is letting the height be **match_parent**. Make **mainLayout** not displayable.\r\n\r\n2: The layout **mainLayout** is also setting the height to **match_parent** which is also wrong. I wonder do you understand what **match_parent** means?\r\n\r\n3: The first time you add successfully, but because you are setting the height to **match_parent**, it makes it not visible, in fact it successfully added the **table**. The second click because it has been added to the **table**, it will crash.\r\n\r\nThe code below I have fixed for you, let&#39;s try it.\r\n\r\n\r\n**XML:** \r\n\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:id=&quot;@+id/linLayout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot; &gt;\r\n    \r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/txtRow&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:hint=&quot;Enter row number&quot;\r\n            android:inputType=&quot;textCapWords&quot;\r\n            android:textSize=&quot;18sp&quot;\r\n            android:text=&quot;3&quot;/&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/txtColumn&quot;\r\n            android:text=&quot;2&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:hint=&quot;Enter column number&quot;\r\n            android:inputType=&quot;textCapWords&quot;\r\n            android:textSize=&quot;18sp&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/txtResult&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:hint=&quot;Result&quot;\r\n            android:background=&quot;#E91E63&quot;\r\n            android:textSize=&quot;18sp&quot;\r\n            /&gt;\r\n    \r\n        &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n            android:layout_width=&quot;fill_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;horizontal&quot; &gt;\r\n    \r\n            &lt;Button\r\n                android:id=&quot;@+id/btnCreate&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;CREATE&quot;/&gt;\r\n    \r\n            &lt;Button\r\n                android:id=&quot;@+id/btnCalculate&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;CALCULATE&quot; /&gt;\r\n    \r\n            &lt;Button\r\n                android:id=&quot;@+id/btnReset&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;RESET&quot; /&gt;\r\n            &lt;Button\r\n                android:id=&quot;@+id/btnExit&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;EXIT&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/mainLayout&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n    \r\n        &lt;/LinearLayout&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\n**JAVA:**\r\n    \r\n    public class MainAct extends AppCompatActivity {\r\n    \r\n        private Button btnCreate, btnCalculate, btnReset, btnExit;\r\n        private EditText txtColumn, txtRow;\r\n        private LinearLayout linLayout, mainLayout;\r\n        private TextView txtResult;\r\n        private Random random;\r\n        TableLayout table;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            btnCreate = (Button) findViewById(R.id.btnCreate);\r\n            btnCalculate = (Button) findViewById(R.id.btnCalculate);\r\n            btnReset = (Button) findViewById(R.id.btnReset);\r\n            btnExit = (Button) findViewById(R.id.btnExit);\r\n    \r\n            txtColumn = (EditText) findViewById(R.id.txtColumn);\r\n            txtRow = (EditText) findViewById(R.id.txtRow);\r\n            txtResult = (TextView) findViewById(R.id.txtResult);\r\n            txtColumn.requestFocus();\r\n    \r\n            random = new Random();\r\n    \r\n            LinearLayout mainLayout = findViewById(R.id.mainLayout);\r\n    \r\n    \r\n            btnCalculate.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                }\r\n            });\r\n    \r\n            btnCreate.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    if (table != null) {\r\n                        mainLayout.removeView(table);\r\n                    }\r\n                    table = new TableLayout(getBaseContext());\r\n    \r\n                    table.setLayoutParams(new TableLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT));\r\n                    table.setShrinkAllColumns(true);\r\n                    table.setStretchAllColumns(true);\r\n                    int columnNumber = Integer.parseInt(txtColumn.getText().toString());\r\n                    int rowNumber = Integer.parseInt(txtRow.getText().toString());\r\n    \r\n                    for (int i=0; i &lt; rowNumber; i++) {\r\n                        TableRow row = new TableRow(MainAct.this);\r\n                        for (int j=0; j &lt; columnNumber; j++) {\r\n                            int value = random.nextInt(100) + 1;\r\n                            TextView tv = new TextView(MainAct.this);\r\n                            tv.setText(String.valueOf(value));\r\n                            row.addView(tv);\r\n                        }\r\n                        table.addView(row);\r\n                    }\r\n                    if (table != null) {\r\n                        mainLayout.addView(table);\r\n                    }\r\n                }\r\n            });\r\n    \r\n    \r\n            btnExit.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    System.exit(0);\r\n                }\r\n            });\r\n            btnReset.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    txtColumn.setText(null);\r\n                    txtRow.setText(null);\r\n                    txtResult.setText(null);\r\n                }\r\n            });\r\n        }\r\n    }","title":"Have a problem on creating table Android Studio","body":"<p>You have the following errors:</p>\n<p>1: The layout above the <strong>mainLayout</strong> layout is letting the height be <strong>match_parent</strong>. Make <strong>mainLayout</strong> not displayable.</p>\n<p>2: The layout <strong>mainLayout</strong> is also setting the height to <strong>match_parent</strong> which is also wrong. I wonder do you understand what <strong>match_parent</strong> means?</p>\n<p>3: The first time you add successfully, but because you are setting the height to <strong>match_parent</strong>, it makes it not visible, in fact it successfully added the <strong>table</strong>. The second click because it has been added to the <strong>table</strong>, it will crash.</p>\n<p>The code below I have fixed for you, let's try it.</p>\n<p><strong>XML:</strong></p>\n<pre><code>&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:id=&quot;@+id/linLayout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot; &gt;\n\n\n    &lt;EditText\n        android:id=&quot;@+id/txtRow&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;Enter row number&quot;\n        android:inputType=&quot;textCapWords&quot;\n        android:textSize=&quot;18sp&quot;\n        android:text=&quot;3&quot;/&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/txtColumn&quot;\n        android:text=&quot;2&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;Enter column number&quot;\n        android:inputType=&quot;textCapWords&quot;\n        android:textSize=&quot;18sp&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/txtResult&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;Result&quot;\n        android:background=&quot;#E91E63&quot;\n        android:textSize=&quot;18sp&quot;\n        /&gt;\n\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n        android:layout_width=&quot;fill_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;horizontal&quot; &gt;\n\n        &lt;Button\n            android:id=&quot;@+id/btnCreate&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;CREATE&quot;/&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/btnCalculate&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;CALCULATE&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/btnReset&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;RESET&quot; /&gt;\n        &lt;Button\n            android:id=&quot;@+id/btnExit&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;EXIT&quot; /&gt;\n    &lt;/LinearLayout&gt;\n\n    &lt;LinearLayout\n        android:id=&quot;@+id/mainLayout&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n\n\n    &lt;/LinearLayout&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p><strong>JAVA:</strong></p>\n<pre><code>public class MainAct extends AppCompatActivity {\n\n    private Button btnCreate, btnCalculate, btnReset, btnExit;\n    private EditText txtColumn, txtRow;\n    private LinearLayout linLayout, mainLayout;\n    private TextView txtResult;\n    private Random random;\n    TableLayout table;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        btnCreate = (Button) findViewById(R.id.btnCreate);\n        btnCalculate = (Button) findViewById(R.id.btnCalculate);\n        btnReset = (Button) findViewById(R.id.btnReset);\n        btnExit = (Button) findViewById(R.id.btnExit);\n\n        txtColumn = (EditText) findViewById(R.id.txtColumn);\n        txtRow = (EditText) findViewById(R.id.txtRow);\n        txtResult = (TextView) findViewById(R.id.txtResult);\n        txtColumn.requestFocus();\n\n        random = new Random();\n\n        LinearLayout mainLayout = findViewById(R.id.mainLayout);\n\n\n        btnCalculate.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n            }\n        });\n\n        btnCreate.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if (table != null) {\n                    mainLayout.removeView(table);\n                }\n                table = new TableLayout(getBaseContext());\n\n                table.setLayoutParams(new TableLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT));\n                table.setShrinkAllColumns(true);\n                table.setStretchAllColumns(true);\n                int columnNumber = Integer.parseInt(txtColumn.getText().toString());\n                int rowNumber = Integer.parseInt(txtRow.getText().toString());\n\n                for (int i=0; i &lt; rowNumber; i++) {\n                    TableRow row = new TableRow(MainAct.this);\n                    for (int j=0; j &lt; columnNumber; j++) {\n                        int value = random.nextInt(100) + 1;\n                        TextView tv = new TextView(MainAct.this);\n                        tv.setText(String.valueOf(value));\n                        row.addView(tv);\n                    }\n                    table.addView(row);\n                }\n                if (table != null) {\n                    mainLayout.addView(table);\n                }\n            }\n        });\n\n\n        btnExit.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                System.exit(0);\n            }\n        });\n        btnReset.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                txtColumn.setText(null);\n                txtRow.setText(null);\n                txtResult.setText(null);\n            }\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17304545,"reputation":3,"user_id":12533566,"display_name":"beginner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70316748,"answer_count":1,"score":0,"last_activity_date":1639238835,"creation_date":1639236879,"question_id":70316506,"body_markdown":"I am trying to make a simple app. The program should create a table with given row and column numbers. I&#39;m adding my Java and xml files below:\r\n\r\n\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        private Button btnCreate, btnCalculate, btnReset, btnExit;\r\n        private EditText txtColumn, txtRow;\r\n        private LinearLayout linLayout, mainLayout;\r\n        private TextView txtResult;\r\n        private Random random;\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            btnCreate = (Button) findViewById(R.id.btnCreate);\r\n            btnCalculate = (Button) findViewById(R.id.btnCalculate);\r\n            btnReset = (Button) findViewById(R.id.btnReset);\r\n            btnExit = (Button) findViewById(R.id.btnExit);\r\n    \r\n            txtColumn = (EditText) findViewById(R.id.txtColumn);\r\n            txtRow = (EditText) findViewById(R.id.txtRow);\r\n            txtResult = (TextView) findViewById(R.id.txtResult);\r\n            txtColumn.requestFocus();\r\n    \r\n            random = new Random();\r\n    \r\n            LinearLayout mainLayout = findViewById(R.id.mainLayout);\r\n            TableLayout table = new TableLayout(this);\r\n    \r\n            btnCalculate.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                }\r\n            });\r\n    \r\n            btnCreate.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    table.setLayoutParams(new TableLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT));\r\n                    table.setShrinkAllColumns(true);\r\n                    table.setStretchAllColumns(true);\r\n                    int columnNumber = Integer.parseInt(txtColumn.getText().toString());\r\n                    int rowNumber = Integer.parseInt(txtRow.getText().toString());\r\n    \r\n                    for (int i=0; i &lt; rowNumber; i++) {\r\n                        TableRow row = new TableRow(MainActivity.this);\r\n                        for (int j=0; j &lt; columnNumber; j++) {\r\n                            int value = random.nextInt(100) + 1;\r\n                            TextView tv = new TextView(MainActivity.this);\r\n                            tv.setText(String.valueOf(value));\r\n                            row.addView(tv);\r\n                        }\r\n                        table.addView(row);\r\n                    }\r\n    \r\n                    mainLayout.addView(table);\r\n    \r\n                }\r\n            });\r\n    \r\n    \r\n            btnExit.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    System.exit(0);\r\n                }\r\n            });\r\n            btnReset.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    txtColumn.setText(null);\r\n                    txtRow.setText(null);\r\n                    txtResult.setText(null);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    \r\n    \r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:id=&quot;@+id/linLayout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot; &gt;\r\n    \r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/txtRow&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:hint=&quot;Enter row number&quot;\r\n            android:inputType=&quot;textCapWords&quot;\r\n            android:textSize=&quot;18sp&quot; /&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/txtColumn&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:hint=&quot;Enter column number&quot;\r\n            android:inputType=&quot;textCapWords&quot;\r\n            android:textSize=&quot;18sp&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/txtResult&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:hint=&quot;Result&quot;\r\n            android:background=&quot;#E91E63&quot;\r\n            android:textSize=&quot;18sp&quot;\r\n            /&gt;\r\n    \r\n        &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n            android:layout_width=&quot;fill_parent&quot;\r\n            android:layout_height=&quot;fill_parent&quot;\r\n            android:orientation=&quot;horizontal&quot; &gt;\r\n    \r\n            &lt;Button\r\n                android:id=&quot;@+id/btnCreate&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;CREATE&quot;/&gt;\r\n    \r\n            &lt;Button\r\n                android:id=&quot;@+id/btnCalculate&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;CALCULATE&quot; /&gt;\r\n    \r\n            &lt;Button\r\n                android:id=&quot;@+id/btnReset&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;RESET&quot; /&gt;\r\n            &lt;Button\r\n                android:id=&quot;@+id/btnExit&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;EXIT&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/mainLayout&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n    \r\n        &lt;/LinearLayout&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\nThis is the error message that I got:\r\n```\r\nThe specified child already has a parent. You must call removeView() on the child&#39;s parent first.\r\n```\r\n\r\nTherefore, whenever I tried to add `mainLayout.removeView(table);` to the code nothing happens when I click the button create. Thank you all. I will be appreciated for any kinds of comments.","title":"Have a problem on creating table Android Studio","body":"<p>I am trying to make a simple app. The program should create a table with given row and column numbers. I'm adding my Java and xml files below:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private Button btnCreate, btnCalculate, btnReset, btnExit;\n    private EditText txtColumn, txtRow;\n    private LinearLayout linLayout, mainLayout;\n    private TextView txtResult;\n    private Random random;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        btnCreate = (Button) findViewById(R.id.btnCreate);\n        btnCalculate = (Button) findViewById(R.id.btnCalculate);\n        btnReset = (Button) findViewById(R.id.btnReset);\n        btnExit = (Button) findViewById(R.id.btnExit);\n\n        txtColumn = (EditText) findViewById(R.id.txtColumn);\n        txtRow = (EditText) findViewById(R.id.txtRow);\n        txtResult = (TextView) findViewById(R.id.txtResult);\n        txtColumn.requestFocus();\n\n        random = new Random();\n\n        LinearLayout mainLayout = findViewById(R.id.mainLayout);\n        TableLayout table = new TableLayout(this);\n\n        btnCalculate.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n            }\n        });\n\n        btnCreate.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                table.setLayoutParams(new TableLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT));\n                table.setShrinkAllColumns(true);\n                table.setStretchAllColumns(true);\n                int columnNumber = Integer.parseInt(txtColumn.getText().toString());\n                int rowNumber = Integer.parseInt(txtRow.getText().toString());\n\n                for (int i=0; i &lt; rowNumber; i++) {\n                    TableRow row = new TableRow(MainActivity.this);\n                    for (int j=0; j &lt; columnNumber; j++) {\n                        int value = random.nextInt(100) + 1;\n                        TextView tv = new TextView(MainActivity.this);\n                        tv.setText(String.valueOf(value));\n                        row.addView(tv);\n                    }\n                    table.addView(row);\n                }\n\n                mainLayout.addView(table);\n\n            }\n        });\n\n\n        btnExit.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                System.exit(0);\n            }\n        });\n        btnReset.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                txtColumn.setText(null);\n                txtRow.setText(null);\n                txtResult.setText(null);\n            }\n        });\n    }\n}\n\n\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:id=&quot;@+id/linLayout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot; &gt;\n\n\n    &lt;EditText\n        android:id=&quot;@+id/txtRow&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;Enter row number&quot;\n        android:inputType=&quot;textCapWords&quot;\n        android:textSize=&quot;18sp&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/txtColumn&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;Enter column number&quot;\n        android:inputType=&quot;textCapWords&quot;\n        android:textSize=&quot;18sp&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/txtResult&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;Result&quot;\n        android:background=&quot;#E91E63&quot;\n        android:textSize=&quot;18sp&quot;\n        /&gt;\n\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n        android:layout_width=&quot;fill_parent&quot;\n        android:layout_height=&quot;fill_parent&quot;\n        android:orientation=&quot;horizontal&quot; &gt;\n\n        &lt;Button\n            android:id=&quot;@+id/btnCreate&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;CREATE&quot;/&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/btnCalculate&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;CALCULATE&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/btnReset&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;RESET&quot; /&gt;\n        &lt;Button\n            android:id=&quot;@+id/btnExit&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;EXIT&quot; /&gt;\n    &lt;/LinearLayout&gt;\n\n    &lt;LinearLayout\n        android:id=&quot;@+id/mainLayout&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n\n\n    &lt;/LinearLayout&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>This is the error message that I got:</p>\n<pre><code>The specified child already has a parent. You must call removeView() on the child's parent first.\n</code></pre>\n<p>Therefore, whenever I tried to add <code>mainLayout.removeView(table);</code> to the code nothing happens when I click the button create. Thank you all. I will be appreciated for any kinds of comments.</p>\n"},{"tags":["java","android","google-cloud-firestore","android-recyclerview","firebaseui"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1639298702,"post_id":70316630,"comment_id":124309379,"body_markdown":"What does `System.out.println(&quot;IMAGEN&quot; + camiseta.getImagen());` print?","body":"What does <code>System.out.println(&quot;IMAGEN&quot; + camiseta.getImagen());</code> print?"},{"owner":{"account_id":23618930,"reputation":1,"user_id":17652547,"display_name":"Adrian Iba&#241;ez"},"score":0,"creation_date":1639409438,"post_id":70316630,"comment_id":124334985,"body_markdown":"The image Url from Firestore","body":"The image Url from Firestore"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1639426694,"post_id":70316630,"comment_id":124341161,"body_markdown":"If you add that URL into a browser is it working?","body":"If you add that URL into a browser is it working?"},{"owner":{"account_id":23618930,"reputation":1,"user_id":17652547,"display_name":"Adrian Iba&#241;ez"},"score":0,"creation_date":1639499921,"post_id":70316630,"comment_id":124361896,"body_markdown":"Yeah, and the url works but I think it has to be with Glide","body":"Yeah, and the url works but I think it has to be with Glide"},{"owner":{"account_id":23618930,"reputation":1,"user_id":17652547,"display_name":"Adrian Iba&#241;ez"},"score":0,"creation_date":1639592486,"post_id":70316630,"comment_id":124390547,"body_markdown":"I finally solved it. I was missing this line: .dontAnimate() in Glide script.","body":"I finally solved it. I was missing this line: .dontAnimate() in Glide script."},{"owner":{"account_id":23618930,"reputation":1,"user_id":17652547,"display_name":"Adrian Iba&#241;ez"},"score":0,"creation_date":1639592547,"post_id":70316630,"comment_id":124390563,"body_markdown":"The animation had some kind of bug in the ImageViews. So I just removed it.","body":"The animation had some kind of bug in the ImageViews. So I just removed it."}],"owner":{"account_id":23618930,"reputation":1,"user_id":17652547,"display_name":"Adrian Iba&#241;ez"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639238595,"creation_date":1639237930,"question_id":70316630,"body_markdown":"I&#39;m having troubles when trying to load images with Glide or Picasso in a RecyclerView with FirestoreRecyclerAdapter. I make a query and I get the data I want but when loading my RecyclerView every data is loaded correctly except images.\r\nFirebaseFirestoreUI library I am using:\r\n`implementation &#39;com.firebaseui:firebase-ui-firestore:8.0.0&#39;\r\n`\r\n\r\nI&#39;ve been looking for several days now, and I have no idea what to do.\r\nThanks in advance.\r\n\r\nMy database:\r\n[FIRESTORE DATABASE][1]\r\n\r\nHere is my code:\r\n\r\nAdCamisetas.java(Adapter)\r\n\r\n    public class AdCamisetas extends FirestoreRecyclerAdapter&lt;Camiseta,AdCamisetas.CamisetaHolder&gt; {\r\n    \r\n        CamisetaHolder holder;\r\n    \r\n        public AdCamisetas(@NonNull FirestoreRecyclerOptions&lt;Camiseta&gt; options) {\r\n            super(options);\r\n        }\r\n    \r\n        @Override\r\n        protected void onBindViewHolder(@NonNull CamisetaHolder holder, int position, @NonNull Camiseta camiseta) {\r\n    \r\n            this.holder = holder;\r\n            //Glide.with(holder.itemImg.getContext()).asBitmap().load(R.drawable.noimage).into(holder.itemImg);\r\n            System.out.println(&quot;IMAGEN&quot; + camiseta.getImagen());\r\n            Picasso.get().load(camiseta.toString()).into(holder.itemImg);\r\n            holder.itemNomimg.setText(camiseta.getImagen());\r\n            holder.itemColimg.setText(camiseta.getColor());\r\n            holder.itemTallaimg.setText(camiseta.getTalla());\r\n            holder.itemEstiloimg.setText(camiseta.getEstilo());\r\n    \r\n            holder.itemImg.setOnClickListener(view -&gt; Toast.makeText(view.getContext(), &quot;IMAGEN---&quot; + camiseta.getImagen(), Toast.LENGTH_SHORT).show()); //HERE I GET THE URL       //FROM FIRESTORE\r\n            //holder.img.setOnLongClickListener(view -&gt; false);\r\n            //holder.itemView.setBackgroundColor(color);\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public CamisetaHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n    \r\n            View view = LayoutInflater.from(parent.getContext())\r\n                    .inflate(R.layout.itemps, parent, false);\r\n            return new CamisetaHolder(view);\r\n        }\r\n    \r\n        @Override\r\n        public void onDataChanged() {\r\n            if(getItemCount() == 0)\r\n            {\r\n            }\r\n        }\r\n    \r\n        public class CamisetaHolder extends RecyclerView.ViewHolder {\r\n    \r\n            ImageView itemImg;\r\n            TextView itemNomimg;\r\n            TextView itemColimg;\r\n            TextView itemTallaimg;\r\n            TextView itemEstiloimg;\r\n    \r\n            public CamisetaHolder(@NonNull View itemView) {\r\n                super(itemView);\r\n                itemImg = itemView.findViewById(R.id.itemImg);\r\n                itemNomimg = itemView.findViewById(R.id.itemNomimg);\r\n                itemColimg = itemView.findViewById(R.id.itemColimg);\r\n                itemTallaimg = itemView.findViewById(R.id.itemTallaimg);\r\n                itemEstiloimg = itemView.findViewById(R.id.itemEstiloimg);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nCamiseta.java(POJO/OBJECT CLASS)\r\n\r\n    public class Camiseta{\r\n        private String imagen;\r\n        private String nombre;\r\n        private String color;\r\n        private String estilo;\r\n        private String talla;\r\n    \r\n    \r\n        public Camiseta() {\r\n    \r\n        }\r\n    \r\n        public Camiseta(String imagen, String nombre, String color, String estilo,String talla) {\r\n            this.imagen = imagen;\r\n            this.nombre = nombre;\r\n            this.color = color;\r\n            this.estilo = estilo;\r\n            this.talla = talla;\r\n        }\r\n    \r\n        public String getImagen() {\r\n            return imagen;\r\n        }\r\n    \r\n        public String getNombre() {\r\n            return nombre;\r\n        }\r\n    \r\n        public String getColor() {\r\n            return color;\r\n        }\r\n    \r\n        public String getEstilo() {\r\n            return estilo;\r\n        }\r\n    \r\n        public String getTalla() {\r\n            return talla;\r\n        }\r\n    \r\n    }\r\n\r\nHomeFragment.java(FRAGMENT WHERE IS LOADED THE DATA with several recycler views)\r\n    \r\n    public class HomeFragment extends Fragment {\r\n    \r\n        View v;\r\n    \r\n        private FirebaseAuth mAuth;\r\n        DocumentReference userRef;\r\n        private FirebaseFirestore db;\r\n    \r\n        private static final int COD_SOLICITADO = 1;\r\n        private TextView txtGeneral;\r\n        private Button btnCompartir;\r\n        LoadingDialog cargando;\r\n    \r\n        RecyclerView recyclerPantalones, recyclerCalzado;\r\n        AdCamisetas adCamisetas;\r\n        AdPantalones adPantalones;\r\n        AdCalzado adCalzado;\r\n    \r\n        //ArrayList&lt;Camiseta&gt; listaCamisetas;\r\n        //ArrayList&lt;Pantalon&gt; listaPantalones;\r\n        //ArrayList&lt;Calzado&gt; listaCalzado;\r\n    \r\n        private String nombreUsuario;\r\n    \r\n        public HomeFragment() {\r\n            // Required empty public constructor\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n    \r\n            cargando = new LoadingDialog(getActivity());\r\n            cargando.startLoadingDialog();\r\n            v = inflater.inflate(R.layout.home, container, false);\r\n    \r\n            Window window = getActivity().getWindow();\r\n            window.setStatusBarColor(Color.parseColor(&quot;#6774BC&quot;));\r\n    \r\n            btnCompartir = v.findViewById(R.id.btnCompartir);\r\n            txtGeneral = v.findViewById(R.id.txtGeneral);\r\n    \r\n            mAuth = FirebaseAuth.getInstance();\r\n            db = FirebaseFirestore.getInstance();\r\n    \r\n            userRef = db.collection(&quot;users&quot;).document(mAuth.getCurrentUser().getUid());\r\n    \r\n            rellenaRecyclerCamisetas();\r\n            rellenaRecyclerPantalones();\r\n            rellenaRecyclerCalzado();\r\n    \r\n            setNombreUsuario();\r\n    \r\n            verificarPermisos();\r\n    \r\n            btnCompartir.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    Toast.makeText(getActivity(), &quot;Esto NO Funciona&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n    \r\n            return v;\r\n        }\r\n    \r\n        @Override\r\n        public void onStart() {\r\n            super.onStart();\r\n            adCamisetas.startListening();\r\n            adPantalones.startListening();\r\n            adCalzado.startListening();\r\n        }\r\n    \r\n        @Override\r\n        public void onStop() {\r\n            super.onStop();\r\n            adCamisetas.stopListening();\r\n            adPantalones.stopListening();\r\n            adCalzado.stopListening();\r\n    \r\n        }\r\n    \r\n        private void rellenaRecyclerCamisetas() {\r\n    \r\n            Query q = db.collection(&quot;users&quot;).document(mAuth.getCurrentUser().getUid())\r\n                    .collection(&quot;camisetas&quot;).orderBy(&quot;nombre&quot;);\r\n    \r\n            q.get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n                    if(task.isSuccessful()){\r\n                        for (QueryDocumentSnapshot document : task.getResult()) {\r\n                            Log.d(&quot;AQUI------------&quot;, &quot;DOC &quot; + document.getData());\r\n    //HERE I SEE DATA IS RETREIVED CORRECTLY FROM DATABASE\r\n\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n    \r\n    \r\n    \r\n            FirestoreRecyclerOptions&lt;Camiseta&gt; options = new FirestoreRecyclerOptions.Builder&lt;Camiseta&gt;()\r\n                    .setQuery(q, Camiseta.class)\r\n                    .build();\r\n    \r\n            adCamisetas = new AdCamisetas(options);\r\n    \r\n            RecyclerView recyclerCamisetas = v.findViewById(R.id.rCamisetas);\r\n            recyclerCamisetas.setLayoutManager(new LinearLayoutManager(getActivity(), LinearLayoutManager.HORIZONTAL, false));\r\n            recyclerCamisetas.setAdapter(adCamisetas);\r\n            cargando.dismissDialog();\r\n    \r\n    \r\n    \r\n    \r\n            /*\r\n            Query q1 = userRef.collection(&quot;camisetas&quot;);\r\n    \r\n            List&lt;String&gt; documentList = new ArrayList&lt;&gt;();\r\n            userRef.collection(&quot;camisetas&quot;)\r\n                    .get().addOnCompleteListener(task -&gt; {\r\n                if (task.isSuccessful()) {\r\n                    for (QueryDocumentSnapshot document : task.getResult()) {\r\n                        documentList.add(document.getId());\r\n                        cargando.dismissDialog();\r\n                    }\r\n    \r\n                    for (String doc : documentList) {\r\n                        userRef.collection(&quot;camisetas&quot;)\r\n                                .document(doc)\r\n                                .get().addOnCompleteListener(task2 -&gt; {\r\n                            if (task2.isSuccessful() &amp;&amp; task2.getResult() != null) {\r\n    \r\n                                String id = task2.getResult().getString(&quot;id&quot;);\r\n                                String img = task2.getResult().getString(&quot;img&quot;);\r\n                                String nombre = task2.getResult().getString(&quot;nombre&quot;);\r\n                                String color = task2.getResult().getString(&quot;color&quot;);\r\n                                String talla = task2.getResult().getString(&quot;talla&quot;);\r\n                                String estilo = task2.getResult().getString(&quot;estilo&quot;);\r\n    \r\n                                //listaImgsPs.add(img);\r\n                                //listaNomImgsPs.add(nombre);\r\n                                Camiseta camiseta = new Camiseta(img, nombre, color, talla, estilo);\r\n                                System.out.println(&quot;CAMISETA --&gt; &quot; + camiseta.toString());\r\n                                //listaCamisetas.add(camiseta);\r\n                                //ParteSuperior obPs = new ParteSuperior(color,talla,estilo);\r\n    \r\n    \r\n                                cargando.dismissDialog();\r\n                            } else {\r\n                                //alertarErrorCarga();\r\n                                cargando.dismissDialog();\r\n                            }\r\n                        });\r\n                    }\r\n                } else {\r\n                    //alertar\r\n                    cargando.dismissDialog();\r\n                }\r\n                cargando.dismissDialog();\r\n            });\r\n    \r\n            adapterCamisetas = new AdapterCamisetas(getActivity(), listaCamisetas);\r\n            recyclerCamisetas.setAdapter(adapterCamisetas);\r\n            */\r\n        }\r\n    \r\n        private void rellenaRecyclerPantalones() {\r\n    \r\n    \r\n            Query q = db.collection(&quot;users&quot;).document(mAuth.getCurrentUser().getUid())\r\n                    .collection(&quot;pantalones&quot;).orderBy(&quot;nombre&quot;);\r\n    \r\n            FirestoreRecyclerOptions&lt;Pantalon&gt; options = new FirestoreRecyclerOptions.Builder&lt;Pantalon&gt;()\r\n                    .setQuery(q, Pantalon.class)\r\n                    .build();\r\n    \r\n            adPantalones = new AdPantalones(options);\r\n    \r\n            RecyclerView rPantalones = v.findViewById(R.id.rPantalones);\r\n            rPantalones.setLayoutManager(new LinearLayoutManager(getActivity(), LinearLayoutManager.HORIZONTAL, false));\r\n            rPantalones.setAdapter(adPantalones);\r\n            cargando.dismissDialog();\r\n    \r\n            /*\r\n            List&lt;String&gt; documentList = new ArrayList&lt;&gt;();\r\n            userRef.collection(&quot;pantalones&quot;)\r\n                    .get().addOnCompleteListener(task -&gt; {\r\n                if (task.isSuccessful()) {\r\n                    for (QueryDocumentSnapshot document : task.getResult()) {\r\n                        documentList.add(document.getId());\r\n                        cargando.dismissDialog();\r\n                    }\r\n    \r\n                    for (String doc : documentList) {\r\n                        userRef.collection(&quot;pantalones&quot;)\r\n                                .document(doc)\r\n                                .get().addOnCompleteListener(task2 -&gt; {\r\n                            if (task2.isSuccessful() &amp;&amp; task2.getResult() != null) {\r\n    \r\n                                String id = task2.getResult().getString(&quot;id&quot;);\r\n                                String img = task2.getResult().getString(&quot;img&quot;);\r\n                                String nombre = task2.getResult().getString(&quot;nombre&quot;);\r\n                                String color = task2.getResult().getString(&quot;color&quot;);\r\n                                String talla = task2.getResult().getString(&quot;talla&quot;);\r\n                                String estilo = task2.getResult().getString(&quot;estilo&quot;);\r\n    \r\n                                //listaImgsPs.add(img);\r\n                                //listaNomImgsPs.add(nombre);\r\n                                Pantalon pantalon = new Pantalon(img, nombre, color, talla, estilo);\r\n                                listaPantalones.add(pantalon);\r\n                                //ParteSuperior obPs = new ParteSuperior(color,talla,estilo);\r\n    \r\n                                adapterPantalones = new AdapterPantalones(getActivity(), listaPantalones);\r\n                                recyclerPantalones.setAdapter(adapterPantalones);\r\n                                cargando.dismissDialog();\r\n                            } else {\r\n                                //alertarErrorCarga();\r\n                                cargando.dismissDialog();\r\n                            }\r\n                        });\r\n                    }\r\n                } else {\r\n                    //alertar\r\n                    cargando.dismissDialog();\r\n                }\r\n            });\r\n    \r\n            */\r\n        }\r\n    \r\n        private void rellenaRecyclerCalzado() {\r\n    \r\n            Query q = db.collection(&quot;users&quot;).document(mAuth.getCurrentUser().getUid())\r\n                    .collection(&quot;calzado&quot;).orderBy(&quot;nombre&quot;);\r\n    \r\n            FirestoreRecyclerOptions&lt;Calzado&gt; options = new FirestoreRecyclerOptions.Builder&lt;Calzado&gt;()\r\n                    .setQuery(q, Calzado.class)\r\n                    .build();\r\n    \r\n            adCalzado = new AdCalzado(options);\r\n    \r\n            RecyclerView rCalzado = v.findViewById(R.id.rCalzado);\r\n            rCalzado.setLayoutManager(new LinearLayoutManager(getActivity(), LinearLayoutManager.HORIZONTAL, false));\r\n            rCalzado.setAdapter(adCalzado);\r\n            cargando.dismissDialog();\r\n    \r\n    /*\r\n            List&lt;String&gt; documentList = new ArrayList&lt;&gt;();\r\n            userRef.collection(&quot;calzado&quot;)\r\n                    .get().addOnCompleteListener(task -&gt; {\r\n                if (task.isSuccessful()) {\r\n                    for (QueryDocumentSnapshot document : task.getResult()) {\r\n                        documentList.add(document.getId());\r\n                        cargando.dismissDialog();\r\n                    }\r\n    \r\n                    for (String doc : documentList) {\r\n                        userRef.collection(&quot;calzado&quot;)\r\n                                .document(doc)\r\n                                .get().addOnCompleteListener(task2 -&gt; {\r\n                            if (task2.isSuccessful() &amp;&amp; task2.getResult() != null) {\r\n    \r\n                                String id = task2.getResult().getString(&quot;id&quot;);\r\n                                String img = task2.getResult().getString(&quot;img&quot;);\r\n                                String nombre = task2.getResult().getString(&quot;nombre&quot;);\r\n                                String color = task2.getResult().getString(&quot;color&quot;);\r\n                                String talla = task2.getResult().getString(&quot;talla&quot;);\r\n                                String estilo = task2.getResult().getString(&quot;estilo&quot;);\r\n    \r\n                                //listaImgsPs.add(img);\r\n                                //listaNomImgsPs.add(nombre);\r\n                                Calzado calzado = new Calzado(img, nombre, color, talla, estilo);\r\n                                listaCalzado.add(calzado);\r\n                                //ParteSuperior obPs = new ParteSuperior(color,talla,estilo);\r\n    \r\n                                adapterCalzado = new AdapterCalzado(getActivity(), listaCalzado);\r\n                                recyclerCalzado.setAdapter(adapterCalzado);\r\n                                cargando.dismissDialog();\r\n                            } else {\r\n                                //alertarErrorCarga();\r\n                                cargando.dismissDialog();\r\n                            }\r\n                        });\r\n                    }\r\n                } else {\r\n                    //alertar\r\n                    cargando.dismissDialog();\r\n                }\r\n            });\r\n    \r\n            */\r\n        }\r\n    \r\n        private void setNombreUsuario() {\r\n            userRef.get().addOnCompleteListener(task -&gt; {\r\n                if (task.isSuccessful() &amp;&amp; task.getResult() != null) {\r\n                    String name = task.getResult().getString(&quot;name&quot;);\r\n                    txtGeneral.setText(&quot;BIENVENIDO A TU ARMARIO, &quot; + name);\r\n                } else {\r\n                    txtGeneral.setText(&quot;BIENVENIDO A TU ARMARIO, USUARIO&quot;);\r\n                }\r\n            });\r\n        }\r\n    \r\n        private void verificarPermisos() {\r\n            String[] permisos = {Manifest.permission.READ_EXTERNAL_STORAGE,\r\n                    Manifest.permission.WRITE_EXTERNAL_STORAGE,\r\n                    Manifest.permission.CAMERA};\r\n    \r\n            if (ContextCompat.checkSelfPermission(getActivity(),\r\n                    permisos[0]) == PackageManager.PERMISSION_GRANTED\r\n                    &amp;&amp; ContextCompat.checkSelfPermission(getActivity(),\r\n                    permisos[1]) == PackageManager.PERMISSION_GRANTED\r\n                    &amp;&amp; ContextCompat.checkSelfPermission(getActivity(),\r\n                    permisos[2]) == PackageManager.PERMISSION_GRANTED) {\r\n                //Toast.makeText(getActivity(),&quot;PERMISOS VERIFICADOS&quot;,Toast.LENGTH_LONG).show();\r\n            } else {\r\n                ActivityCompat.requestPermissions(getActivity(), permisos, COD_SOLICITADO);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n            super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n            verificarPermisos();\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nThe result I get:\r\n[EMULATOR VIEW WITH EMPTY IMAGE][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Sg4KZ.jpg\r\n  [2]: https://i.stack.imgur.com/vkvZE.png\r\n\r\n&#237;tems.xml(Layout for RecyclerView items)\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_margin=&quot;1dp&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n        &lt;androidx.cardview.widget.CardView\r\n            android:id=&quot;@+id/cardView&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;180dp&quot;\r\n            android:layout_marginLeft=&quot;10dp&quot;\r\n            android:layout_marginTop=&quot;10dp&quot;\r\n            android:layout_marginRight=&quot;10dp&quot;\r\n            app:cardCornerRadius=&quot;14dp&quot;\r\n            app:cardElevation=&quot;1dp&quot;\r\n            app:cardMaxElevation=&quot;2dp&quot;&gt;\r\n    \r\n            &lt;ImageView\r\n                android:id=&quot;@+id/itemImg&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_centerHorizontal=&quot;true&quot;\r\n                android:layout_centerVertical=&quot;true&quot;\r\n                android:layout_gravity=&quot;center_vertical&quot;\r\n                android:scaleType=&quot;centerCrop&quot;\r\n                android:src=&quot;@drawable/ic_launcher_background&quot; /&gt;\r\n    \r\n    \r\n        &lt;/androidx.cardview.widget.CardView&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/itemNomimg&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;5dp&quot;\r\n            android:autoSizeTextType=&quot;uniform&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:textSize=&quot;15sp&quot;\r\n            android:textColor=&quot;@color/negro&quot;\r\n            android:fontFamily=&quot;@font/antic&quot;\r\n            tools:text=&quot;Nombre del item&quot; /&gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/itemColimg&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:autoSizeTextType=&quot;uniform&quot;\r\n                android:textSize=&quot;15sp&quot;\r\n                android:textColor=&quot;@color/negro&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:fontFamily=&quot;@font/antic&quot;\r\n                android:text=&quot;Color&quot; /&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/itemTallaimg&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:autoSizeTextType=&quot;uniform&quot;\r\n                android:textSize=&quot;15sp&quot;\r\n                android:textColor=&quot;@color/negro&quot;\r\n                android:layout_weight=&quot;0.1&quot;\r\n                android:fontFamily=&quot;@font/antic&quot;\r\n                android:text=&quot;Talla&quot; /&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/itemEstiloimg&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:autoSizeTextType=&quot;uniform&quot;\r\n                android:textSize=&quot;15sp&quot;\r\n                android:textColor=&quot;@color/negro&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:fontFamily=&quot;@font/antic&quot;\r\n                android:text=&quot;Estilo&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\n\r\n","title":"FirebaseUI for Cloud Firestore: Images are not being displayed in RecyclerView","body":"<p>I'm having troubles when trying to load images with Glide or Picasso in a RecyclerView with FirestoreRecyclerAdapter. I make a query and I get the data I want but when loading my RecyclerView every data is loaded correctly except images.\nFirebaseFirestoreUI library I am using:\n<code>implementation 'com.firebaseui:firebase-ui-firestore:8.0.0' </code></p>\n<p>I've been looking for several days now, and I have no idea what to do.\nThanks in advance.</p>\n<p>My database:\n<a href=\"https://i.stack.imgur.com/Sg4KZ.jpg\" rel=\"nofollow noreferrer\">FIRESTORE DATABASE</a></p>\n<p>Here is my code:</p>\n<p>AdCamisetas.java(Adapter)</p>\n<pre><code>public class AdCamisetas extends FirestoreRecyclerAdapter&lt;Camiseta,AdCamisetas.CamisetaHolder&gt; {\n\n    CamisetaHolder holder;\n\n    public AdCamisetas(@NonNull FirestoreRecyclerOptions&lt;Camiseta&gt; options) {\n        super(options);\n    }\n\n    @Override\n    protected void onBindViewHolder(@NonNull CamisetaHolder holder, int position, @NonNull Camiseta camiseta) {\n\n        this.holder = holder;\n        //Glide.with(holder.itemImg.getContext()).asBitmap().load(R.drawable.noimage).into(holder.itemImg);\n        System.out.println(&quot;IMAGEN&quot; + camiseta.getImagen());\n        Picasso.get().load(camiseta.toString()).into(holder.itemImg);\n        holder.itemNomimg.setText(camiseta.getImagen());\n        holder.itemColimg.setText(camiseta.getColor());\n        holder.itemTallaimg.setText(camiseta.getTalla());\n        holder.itemEstiloimg.setText(camiseta.getEstilo());\n\n        holder.itemImg.setOnClickListener(view -&gt; Toast.makeText(view.getContext(), &quot;IMAGEN---&quot; + camiseta.getImagen(), Toast.LENGTH_SHORT).show()); //HERE I GET THE URL       //FROM FIRESTORE\n        //holder.img.setOnLongClickListener(view -&gt; false);\n        //holder.itemView.setBackgroundColor(color);\n    }\n\n    @NonNull\n    @Override\n    public CamisetaHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n\n        View view = LayoutInflater.from(parent.getContext())\n                .inflate(R.layout.itemps, parent, false);\n        return new CamisetaHolder(view);\n    }\n\n    @Override\n    public void onDataChanged() {\n        if(getItemCount() == 0)\n        {\n        }\n    }\n\n    public class CamisetaHolder extends RecyclerView.ViewHolder {\n\n        ImageView itemImg;\n        TextView itemNomimg;\n        TextView itemColimg;\n        TextView itemTallaimg;\n        TextView itemEstiloimg;\n\n        public CamisetaHolder(@NonNull View itemView) {\n            super(itemView);\n            itemImg = itemView.findViewById(R.id.itemImg);\n            itemNomimg = itemView.findViewById(R.id.itemNomimg);\n            itemColimg = itemView.findViewById(R.id.itemColimg);\n            itemTallaimg = itemView.findViewById(R.id.itemTallaimg);\n            itemEstiloimg = itemView.findViewById(R.id.itemEstiloimg);\n        }\n    }\n}\n</code></pre>\n<p>Camiseta.java(POJO/OBJECT CLASS)</p>\n<pre><code>public class Camiseta{\n    private String imagen;\n    private String nombre;\n    private String color;\n    private String estilo;\n    private String talla;\n\n\n    public Camiseta() {\n\n    }\n\n    public Camiseta(String imagen, String nombre, String color, String estilo,String talla) {\n        this.imagen = imagen;\n        this.nombre = nombre;\n        this.color = color;\n        this.estilo = estilo;\n        this.talla = talla;\n    }\n\n    public String getImagen() {\n        return imagen;\n    }\n\n    public String getNombre() {\n        return nombre;\n    }\n\n    public String getColor() {\n        return color;\n    }\n\n    public String getEstilo() {\n        return estilo;\n    }\n\n    public String getTalla() {\n        return talla;\n    }\n\n}\n</code></pre>\n<p>HomeFragment.java(FRAGMENT WHERE IS LOADED THE DATA with several recycler views)</p>\n<pre><code>public class HomeFragment extends Fragment {\n\n    View v;\n\n    private FirebaseAuth mAuth;\n    DocumentReference userRef;\n    private FirebaseFirestore db;\n\n    private static final int COD_SOLICITADO = 1;\n    private TextView txtGeneral;\n    private Button btnCompartir;\n    LoadingDialog cargando;\n\n    RecyclerView recyclerPantalones, recyclerCalzado;\n    AdCamisetas adCamisetas;\n    AdPantalones adPantalones;\n    AdCalzado adCalzado;\n\n    //ArrayList&lt;Camiseta&gt; listaCamisetas;\n    //ArrayList&lt;Pantalon&gt; listaPantalones;\n    //ArrayList&lt;Calzado&gt; listaCalzado;\n\n    private String nombreUsuario;\n\n    public HomeFragment() {\n        // Required empty public constructor\n    }\n\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n\n        cargando = new LoadingDialog(getActivity());\n        cargando.startLoadingDialog();\n        v = inflater.inflate(R.layout.home, container, false);\n\n        Window window = getActivity().getWindow();\n        window.setStatusBarColor(Color.parseColor(&quot;#6774BC&quot;));\n\n        btnCompartir = v.findViewById(R.id.btnCompartir);\n        txtGeneral = v.findViewById(R.id.txtGeneral);\n\n        mAuth = FirebaseAuth.getInstance();\n        db = FirebaseFirestore.getInstance();\n\n        userRef = db.collection(&quot;users&quot;).document(mAuth.getCurrentUser().getUid());\n\n        rellenaRecyclerCamisetas();\n        rellenaRecyclerPantalones();\n        rellenaRecyclerCalzado();\n\n        setNombreUsuario();\n\n        verificarPermisos();\n\n        btnCompartir.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Toast.makeText(getActivity(), &quot;Esto NO Funciona&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n\n        return v;\n    }\n\n    @Override\n    public void onStart() {\n        super.onStart();\n        adCamisetas.startListening();\n        adPantalones.startListening();\n        adCalzado.startListening();\n    }\n\n    @Override\n    public void onStop() {\n        super.onStop();\n        adCamisetas.stopListening();\n        adPantalones.stopListening();\n        adCalzado.stopListening();\n\n    }\n\n    private void rellenaRecyclerCamisetas() {\n\n        Query q = db.collection(&quot;users&quot;).document(mAuth.getCurrentUser().getUid())\n                .collection(&quot;camisetas&quot;).orderBy(&quot;nombre&quot;);\n\n        q.get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n                if(task.isSuccessful()){\n                    for (QueryDocumentSnapshot document : task.getResult()) {\n                        Log.d(&quot;AQUI------------&quot;, &quot;DOC &quot; + document.getData());\n//HERE I SEE DATA IS RETREIVED CORRECTLY FROM DATABASE\n\n                    }\n                }\n            }\n        });\n\n\n\n        FirestoreRecyclerOptions&lt;Camiseta&gt; options = new FirestoreRecyclerOptions.Builder&lt;Camiseta&gt;()\n                .setQuery(q, Camiseta.class)\n                .build();\n\n        adCamisetas = new AdCamisetas(options);\n\n        RecyclerView recyclerCamisetas = v.findViewById(R.id.rCamisetas);\n        recyclerCamisetas.setLayoutManager(new LinearLayoutManager(getActivity(), LinearLayoutManager.HORIZONTAL, false));\n        recyclerCamisetas.setAdapter(adCamisetas);\n        cargando.dismissDialog();\n\n\n\n\n        /*\n        Query q1 = userRef.collection(&quot;camisetas&quot;);\n\n        List&lt;String&gt; documentList = new ArrayList&lt;&gt;();\n        userRef.collection(&quot;camisetas&quot;)\n                .get().addOnCompleteListener(task -&gt; {\n            if (task.isSuccessful()) {\n                for (QueryDocumentSnapshot document : task.getResult()) {\n                    documentList.add(document.getId());\n                    cargando.dismissDialog();\n                }\n\n                for (String doc : documentList) {\n                    userRef.collection(&quot;camisetas&quot;)\n                            .document(doc)\n                            .get().addOnCompleteListener(task2 -&gt; {\n                        if (task2.isSuccessful() &amp;&amp; task2.getResult() != null) {\n\n                            String id = task2.getResult().getString(&quot;id&quot;);\n                            String img = task2.getResult().getString(&quot;img&quot;);\n                            String nombre = task2.getResult().getString(&quot;nombre&quot;);\n                            String color = task2.getResult().getString(&quot;color&quot;);\n                            String talla = task2.getResult().getString(&quot;talla&quot;);\n                            String estilo = task2.getResult().getString(&quot;estilo&quot;);\n\n                            //listaImgsPs.add(img);\n                            //listaNomImgsPs.add(nombre);\n                            Camiseta camiseta = new Camiseta(img, nombre, color, talla, estilo);\n                            System.out.println(&quot;CAMISETA --&gt; &quot; + camiseta.toString());\n                            //listaCamisetas.add(camiseta);\n                            //ParteSuperior obPs = new ParteSuperior(color,talla,estilo);\n\n\n                            cargando.dismissDialog();\n                        } else {\n                            //alertarErrorCarga();\n                            cargando.dismissDialog();\n                        }\n                    });\n                }\n            } else {\n                //alertar\n                cargando.dismissDialog();\n            }\n            cargando.dismissDialog();\n        });\n\n        adapterCamisetas = new AdapterCamisetas(getActivity(), listaCamisetas);\n        recyclerCamisetas.setAdapter(adapterCamisetas);\n        */\n    }\n\n    private void rellenaRecyclerPantalones() {\n\n\n        Query q = db.collection(&quot;users&quot;).document(mAuth.getCurrentUser().getUid())\n                .collection(&quot;pantalones&quot;).orderBy(&quot;nombre&quot;);\n\n        FirestoreRecyclerOptions&lt;Pantalon&gt; options = new FirestoreRecyclerOptions.Builder&lt;Pantalon&gt;()\n                .setQuery(q, Pantalon.class)\n                .build();\n\n        adPantalones = new AdPantalones(options);\n\n        RecyclerView rPantalones = v.findViewById(R.id.rPantalones);\n        rPantalones.setLayoutManager(new LinearLayoutManager(getActivity(), LinearLayoutManager.HORIZONTAL, false));\n        rPantalones.setAdapter(adPantalones);\n        cargando.dismissDialog();\n\n        /*\n        List&lt;String&gt; documentList = new ArrayList&lt;&gt;();\n        userRef.collection(&quot;pantalones&quot;)\n                .get().addOnCompleteListener(task -&gt; {\n            if (task.isSuccessful()) {\n                for (QueryDocumentSnapshot document : task.getResult()) {\n                    documentList.add(document.getId());\n                    cargando.dismissDialog();\n                }\n\n                for (String doc : documentList) {\n                    userRef.collection(&quot;pantalones&quot;)\n                            .document(doc)\n                            .get().addOnCompleteListener(task2 -&gt; {\n                        if (task2.isSuccessful() &amp;&amp; task2.getResult() != null) {\n\n                            String id = task2.getResult().getString(&quot;id&quot;);\n                            String img = task2.getResult().getString(&quot;img&quot;);\n                            String nombre = task2.getResult().getString(&quot;nombre&quot;);\n                            String color = task2.getResult().getString(&quot;color&quot;);\n                            String talla = task2.getResult().getString(&quot;talla&quot;);\n                            String estilo = task2.getResult().getString(&quot;estilo&quot;);\n\n                            //listaImgsPs.add(img);\n                            //listaNomImgsPs.add(nombre);\n                            Pantalon pantalon = new Pantalon(img, nombre, color, talla, estilo);\n                            listaPantalones.add(pantalon);\n                            //ParteSuperior obPs = new ParteSuperior(color,talla,estilo);\n\n                            adapterPantalones = new AdapterPantalones(getActivity(), listaPantalones);\n                            recyclerPantalones.setAdapter(adapterPantalones);\n                            cargando.dismissDialog();\n                        } else {\n                            //alertarErrorCarga();\n                            cargando.dismissDialog();\n                        }\n                    });\n                }\n            } else {\n                //alertar\n                cargando.dismissDialog();\n            }\n        });\n\n        */\n    }\n\n    private void rellenaRecyclerCalzado() {\n\n        Query q = db.collection(&quot;users&quot;).document(mAuth.getCurrentUser().getUid())\n                .collection(&quot;calzado&quot;).orderBy(&quot;nombre&quot;);\n\n        FirestoreRecyclerOptions&lt;Calzado&gt; options = new FirestoreRecyclerOptions.Builder&lt;Calzado&gt;()\n                .setQuery(q, Calzado.class)\n                .build();\n\n        adCalzado = new AdCalzado(options);\n\n        RecyclerView rCalzado = v.findViewById(R.id.rCalzado);\n        rCalzado.setLayoutManager(new LinearLayoutManager(getActivity(), LinearLayoutManager.HORIZONTAL, false));\n        rCalzado.setAdapter(adCalzado);\n        cargando.dismissDialog();\n\n/*\n        List&lt;String&gt; documentList = new ArrayList&lt;&gt;();\n        userRef.collection(&quot;calzado&quot;)\n                .get().addOnCompleteListener(task -&gt; {\n            if (task.isSuccessful()) {\n                for (QueryDocumentSnapshot document : task.getResult()) {\n                    documentList.add(document.getId());\n                    cargando.dismissDialog();\n                }\n\n                for (String doc : documentList) {\n                    userRef.collection(&quot;calzado&quot;)\n                            .document(doc)\n                            .get().addOnCompleteListener(task2 -&gt; {\n                        if (task2.isSuccessful() &amp;&amp; task2.getResult() != null) {\n\n                            String id = task2.getResult().getString(&quot;id&quot;);\n                            String img = task2.getResult().getString(&quot;img&quot;);\n                            String nombre = task2.getResult().getString(&quot;nombre&quot;);\n                            String color = task2.getResult().getString(&quot;color&quot;);\n                            String talla = task2.getResult().getString(&quot;talla&quot;);\n                            String estilo = task2.getResult().getString(&quot;estilo&quot;);\n\n                            //listaImgsPs.add(img);\n                            //listaNomImgsPs.add(nombre);\n                            Calzado calzado = new Calzado(img, nombre, color, talla, estilo);\n                            listaCalzado.add(calzado);\n                            //ParteSuperior obPs = new ParteSuperior(color,talla,estilo);\n\n                            adapterCalzado = new AdapterCalzado(getActivity(), listaCalzado);\n                            recyclerCalzado.setAdapter(adapterCalzado);\n                            cargando.dismissDialog();\n                        } else {\n                            //alertarErrorCarga();\n                            cargando.dismissDialog();\n                        }\n                    });\n                }\n            } else {\n                //alertar\n                cargando.dismissDialog();\n            }\n        });\n\n        */\n    }\n\n    private void setNombreUsuario() {\n        userRef.get().addOnCompleteListener(task -&gt; {\n            if (task.isSuccessful() &amp;&amp; task.getResult() != null) {\n                String name = task.getResult().getString(&quot;name&quot;);\n                txtGeneral.setText(&quot;BIENVENIDO A TU ARMARIO, &quot; + name);\n            } else {\n                txtGeneral.setText(&quot;BIENVENIDO A TU ARMARIO, USUARIO&quot;);\n            }\n        });\n    }\n\n    private void verificarPermisos() {\n        String[] permisos = {Manifest.permission.READ_EXTERNAL_STORAGE,\n                Manifest.permission.WRITE_EXTERNAL_STORAGE,\n                Manifest.permission.CAMERA};\n\n        if (ContextCompat.checkSelfPermission(getActivity(),\n                permisos[0]) == PackageManager.PERMISSION_GRANTED\n                &amp;&amp; ContextCompat.checkSelfPermission(getActivity(),\n                permisos[1]) == PackageManager.PERMISSION_GRANTED\n                &amp;&amp; ContextCompat.checkSelfPermission(getActivity(),\n                permisos[2]) == PackageManager.PERMISSION_GRANTED) {\n            //Toast.makeText(getActivity(),&quot;PERMISOS VERIFICADOS&quot;,Toast.LENGTH_LONG).show();\n        } else {\n            ActivityCompat.requestPermissions(getActivity(), permisos, COD_SOLICITADO);\n        }\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        verificarPermisos();\n    }\n\n\n}\n</code></pre>\n<p>The result I get:\n<a href=\"https://i.stack.imgur.com/vkvZE.png\" rel=\"nofollow noreferrer\">EMULATOR VIEW WITH EMPTY IMAGE</a></p>\n<p>ítems.xml(Layout for RecyclerView items)</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_margin=&quot;1dp&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:id=&quot;@+id/cardView&quot;\n        android:layout_width=&quot;180dp&quot;\n        android:layout_height=&quot;180dp&quot;\n        android:layout_marginLeft=&quot;10dp&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:layout_marginRight=&quot;10dp&quot;\n        app:cardCornerRadius=&quot;14dp&quot;\n        app:cardElevation=&quot;1dp&quot;\n        app:cardMaxElevation=&quot;2dp&quot;&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/itemImg&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_centerHorizontal=&quot;true&quot;\n            android:layout_centerVertical=&quot;true&quot;\n            android:layout_gravity=&quot;center_vertical&quot;\n            android:scaleType=&quot;centerCrop&quot;\n            android:src=&quot;@drawable/ic_launcher_background&quot; /&gt;\n\n\n    &lt;/androidx.cardview.widget.CardView&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/itemNomimg&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;5dp&quot;\n        android:autoSizeTextType=&quot;uniform&quot;\n        android:gravity=&quot;center&quot;\n        android:textSize=&quot;15sp&quot;\n        android:textColor=&quot;@color/negro&quot;\n        android:fontFamily=&quot;@font/antic&quot;\n        tools:text=&quot;Nombre del item&quot; /&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/itemColimg&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:autoSizeTextType=&quot;uniform&quot;\n            android:textSize=&quot;15sp&quot;\n            android:textColor=&quot;@color/negro&quot;\n            android:layout_weight=&quot;1&quot;\n            android:fontFamily=&quot;@font/antic&quot;\n            android:text=&quot;Color&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/itemTallaimg&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:autoSizeTextType=&quot;uniform&quot;\n            android:textSize=&quot;15sp&quot;\n            android:textColor=&quot;@color/negro&quot;\n            android:layout_weight=&quot;0.1&quot;\n            android:fontFamily=&quot;@font/antic&quot;\n            android:text=&quot;Talla&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/itemEstiloimg&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:autoSizeTextType=&quot;uniform&quot;\n            android:textSize=&quot;15sp&quot;\n            android:textColor=&quot;@color/negro&quot;\n            android:layout_weight=&quot;1&quot;\n            android:fontFamily=&quot;@font/antic&quot;\n            android:text=&quot;Estilo&quot; /&gt;\n    &lt;/LinearLayout&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database","inner-classes"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639237316,"creation_date":1639237316,"answer_id":70316542,"question_id":70314886,"body_markdown":"The problem is not *where* you access the data from the database, but *when* you access it.\r\n\r\nData is loaded from Firebase (and most cloud APIs) asynchronously, since it may take some time to get it. While the data is being loaded, you main code/thread continues to execute. And then when the code is available, the `onDataChange` on your listener is called with that data.\r\n\r\nThis means that any code on the main thread (such as `Toast.makeText(application, &quot;OUT LISTENER: &quot; + user.hashCode() + user.getDepartment(), Toast.LENGTH_SHORT).show()`) will run before the `onDataChange` has been called and has done its `mainRepository.setUser(snapshot.getValue(User.class))`. The easiest way to verify this is by setting breakpoints on these lines and running the code in a debugger, or by logging some output and checking the order of its output in logcat.\r\n\r\nThe solution for this is always the same: **any code that needs the data from the database needs to be inside `onDataChange`, be called from there, or be otherwise synchronized.**\r\n\r\nFor a good example of this problem, and using these approaches, see:\r\n\r\n* https://stackoverflow.com/questions/50434836/getcontactsfromfirebase-method-return-an-empty-list/50435519#50435519\r\n* https://stackoverflow.com/questions/33203379/setting-singleton-property-value-in-firebase-listener\r\n* https://stackoverflow.com/questions/47729957/android-firebase-getting-null?rq=1","title":"How to modify objects of outer class from an inner class so as to retrieve class object from firebase","body":"<p>The problem is not <em>where</em> you access the data from the database, but <em>when</em> you access it.</p>\n<p>Data is loaded from Firebase (and most cloud APIs) asynchronously, since it may take some time to get it. While the data is being loaded, you main code/thread continues to execute. And then when the code is available, the <code>onDataChange</code> on your listener is called with that data.</p>\n<p>This means that any code on the main thread (such as <code>Toast.makeText(application, &quot;OUT LISTENER: &quot; + user.hashCode() + user.getDepartment(), Toast.LENGTH_SHORT).show()</code>) will run before the <code>onDataChange</code> has been called and has done its <code>mainRepository.setUser(snapshot.getValue(User.class))</code>. The easiest way to verify this is by setting breakpoints on these lines and running the code in a debugger, or by logging some output and checking the order of its output in logcat.</p>\n<p>The solution for this is always the same: <strong>any code that needs the data from the database needs to be inside <code>onDataChange</code>, be called from there, or be otherwise synchronized.</strong></p>\n<p>For a good example of this problem, and using these approaches, see:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/50434836/getcontactsfromfirebase-method-return-an-empty-list/50435519#50435519\">getContactsFromFirebase() method return an empty list</a></li>\n<li><a href=\"https://stackoverflow.com/questions/33203379/setting-singleton-property-value-in-firebase-listener\">Setting Singleton property value in Firebase Listener</a></li>\n<li><a href=\"https://stackoverflow.com/questions/47729957/android-firebase-getting-null?rq=1\">Android firebase getting null</a></li>\n</ul>\n"}],"owner":{"account_id":5599265,"reputation":19,"user_id":4435978,"display_name":"Innsolit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70316542,"answer_count":1,"score":0,"last_activity_date":1639237316,"creation_date":1639223486,"question_id":70314886,"body_markdown":"I am currently working on an Android project with Firebase integration however I am struggling with retrieving a class object from Firebase Realtime database because of Firebase listeners.\r\n\r\nLet me elaborate on my project so that you can get the main idea of it. I use MVVM architecture and I have 2 Activities which one of them is for authentication while other is for main usage.\r\n\r\nFirst activity contains Register, Login, Password Reset fragments\r\nSecond activity contains 4 Fragments which are for main functions of the program\r\n\r\nFragments in the first activity use a shared viewmodel &quot;AuthViewModel&quot; which contains methods invoking AuthRepository object&#39;s methods and LiveData variables providing data to Fragments\r\n\r\nAnd all of my Firebase Auth operations are handled in this AuthRepository&#39;s methods, For instance this is the register method in AuthRepository, which use FireBase Auth methods to register a user meanwhile adding User into realtime database by creating a User object.\r\n\r\n        public void register(String email , String pass, String username, String department){\r\n        auth.createUserWithEmailAndPassword(email , pass).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull  Task&lt;AuthResult&gt; task) {\r\n                if (task.isSuccessful()){\r\n                    firebaseUserMutableLiveData.postValue(auth.getCurrentUser());\r\n\r\n                    // Add user to realtime database\r\n                    FirebaseUser user = auth.getCurrentUser();\r\n\r\n                    dbRef.child(&quot;Users&quot;).child(user.getUid()).setValue(new User(email, username, department));\r\n                }\r\n                else{\r\n                    Toast.makeText(application, task.getException().getMessage(), Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\nSince you got the main idea, let&#39;s move on to my problem. Just like the AuthRepository, I have a MainRepository to be added as a variable in MainViewModel which is the ViewModel responsible for 4 fragments in the second activity.\r\n\r\nWhatever I have tried, I could not retrieve the User object of the corresponding user and assign this object to the user variable in MainRepository class.\r\n\r\nThe problem is not about retrieving the data because **&quot;IN LISTENER: &quot;** Toast displays the correct User object in the Realtime database\r\n\r\nHowever **&quot;OUT LISTENER: &quot;** and **&quot;FINAL: &quot;** Toast show the User object initialized out of the listener. I don&#39;t know why but the user object in the listener seems to be a copy of the user object in the class even though they share the same hashcode if I don&#39;t assign user object with the user object in firebase.\r\n\r\nDespite of a long search I couldn&#39;t access the &quot;real&quot; object **&quot;not the copy&quot;** of outer class from inner class. Even I seem to be accessing and invoking methods of the outer object they do not persist out of the listener.\r\n\r\nWhat is the problem here, what can I do to solve it? And if it is not possible to solve, what should I do instead? \r\n\r\n**Different Output**\r\n\r\nToast.makeText(application, &quot;IN LISTENER: &quot;+ user.hashCode() + user.getDepartment(), Toast.LENGTH_SHORT).show();\r\n\r\n**Same Output**\r\n\r\nToast.makeText(application, &quot;OUT LISTENER: &quot;+ user.hashCode() + user.getDepartment(), Toast.LENGTH_SHORT).show();\r\n\r\nToast.makeText(application, &quot;FINAL: &quot;+ user.hashCode() + user.getDepartment(), Toast.LENGTH_SHORT).show();\r\n\r\n    public class MainRepository {\r\n    private Application application;\r\n    private FirebaseAuth auth;\r\n    private DatabaseReference dbRef;\r\n    private MutableLiveData&lt;User&gt; userMutableLiveData;\r\n    private User user;\r\n\r\n    public MainRepository(Application application) {\r\n        this.application = application;\r\n        auth = FirebaseAuth.getInstance();\r\n        dbRef = FirebaseDatabase.getInstance().getReference();\r\n        getUser();\r\n        Toast.makeText(application, &quot;FINAL: &quot; + user.hashCode() + user.getDepartment(), Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n    class ListenerInner implements ValueEventListener {\r\n        MainRepository mainRepository;\r\n\r\n        ListenerInner(MainRepository mainRepository) {\r\n            this.mainRepository = mainRepository;\r\n        }\r\n        @Override\r\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n            mainRepository.setUser(snapshot.getValue(User.class));\r\n            Toast.makeText(application, &quot;IN LISTENER: &quot;+ user.hashCode() + user.getDepartment(), Toast.LENGTH_SHORT).show();\r\n        }\r\n\r\n        @Override\r\n        public void onCancelled(@NonNull DatabaseError error) {\r\n            Toast.makeText(application, &quot;Error: &quot; + error.getMessage(), Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n    public void getUser() {\r\n        setUser(new User(&quot;aaa&quot;, &quot;bbb&quot;, &quot;ccc&quot;));\r\n        dbRef.child(&quot;Users&quot;).child(auth.getCurrentUser().getUid()).addListenerForSingleValueEvent(new ListenerInner(this));\r\n\r\n        Toast.makeText(application, &quot;OUT LISTENER: &quot; + user.hashCode() + user.getDepartment(), Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n    private void setUser(User user) {\r\n        this.user = user;\r\n    }\r\n}","title":"How to modify objects of outer class from an inner class so as to retrieve class object from firebase","body":"<p>I am currently working on an Android project with Firebase integration however I am struggling with retrieving a class object from Firebase Realtime database because of Firebase listeners.</p>\n<p>Let me elaborate on my project so that you can get the main idea of it. I use MVVM architecture and I have 2 Activities which one of them is for authentication while other is for main usage.</p>\n<p>First activity contains Register, Login, Password Reset fragments\nSecond activity contains 4 Fragments which are for main functions of the program</p>\n<p>Fragments in the first activity use a shared viewmodel &quot;AuthViewModel&quot; which contains methods invoking AuthRepository object's methods and LiveData variables providing data to Fragments</p>\n<p>And all of my Firebase Auth operations are handled in this AuthRepository's methods, For instance this is the register method in AuthRepository, which use FireBase Auth methods to register a user meanwhile adding User into realtime database by creating a User object.</p>\n<pre><code>    public void register(String email , String pass, String username, String department){\n    auth.createUserWithEmailAndPassword(email , pass).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n        @Override\n        public void onComplete(@NonNull  Task&lt;AuthResult&gt; task) {\n            if (task.isSuccessful()){\n                firebaseUserMutableLiveData.postValue(auth.getCurrentUser());\n\n                // Add user to realtime database\n                FirebaseUser user = auth.getCurrentUser();\n\n                dbRef.child(&quot;Users&quot;).child(user.getUid()).setValue(new User(email, username, department));\n            }\n            else{\n                Toast.makeText(application, task.getException().getMessage(), Toast.LENGTH_SHORT).show();\n            }\n        }\n    });\n}\n</code></pre>\n<p>Since you got the main idea, let's move on to my problem. Just like the AuthRepository, I have a MainRepository to be added as a variable in MainViewModel which is the ViewModel responsible for 4 fragments in the second activity.</p>\n<p>Whatever I have tried, I could not retrieve the User object of the corresponding user and assign this object to the user variable in MainRepository class.</p>\n<p>The problem is not about retrieving the data because <strong>&quot;IN LISTENER: &quot;</strong> Toast displays the correct User object in the Realtime database</p>\n<p>However <strong>&quot;OUT LISTENER: &quot;</strong> and <strong>&quot;FINAL: &quot;</strong> Toast show the User object initialized out of the listener. I don't know why but the user object in the listener seems to be a copy of the user object in the class even though they share the same hashcode if I don't assign user object with the user object in firebase.</p>\n<p>Despite of a long search I couldn't access the &quot;real&quot; object <strong>&quot;not the copy&quot;</strong> of outer class from inner class. Even I seem to be accessing and invoking methods of the outer object they do not persist out of the listener.</p>\n<p>What is the problem here, what can I do to solve it? And if it is not possible to solve, what should I do instead?</p>\n<p><strong>Different Output</strong></p>\n<p>Toast.makeText(application, &quot;IN LISTENER: &quot;+ user.hashCode() + user.getDepartment(), Toast.LENGTH_SHORT).show();</p>\n<p><strong>Same Output</strong></p>\n<p>Toast.makeText(application, &quot;OUT LISTENER: &quot;+ user.hashCode() + user.getDepartment(), Toast.LENGTH_SHORT).show();</p>\n<p>Toast.makeText(application, &quot;FINAL: &quot;+ user.hashCode() + user.getDepartment(), Toast.LENGTH_SHORT).show();</p>\n<pre><code>public class MainRepository {\nprivate Application application;\nprivate FirebaseAuth auth;\nprivate DatabaseReference dbRef;\nprivate MutableLiveData&lt;User&gt; userMutableLiveData;\nprivate User user;\n\npublic MainRepository(Application application) {\n    this.application = application;\n    auth = FirebaseAuth.getInstance();\n    dbRef = FirebaseDatabase.getInstance().getReference();\n    getUser();\n    Toast.makeText(application, &quot;FINAL: &quot; + user.hashCode() + user.getDepartment(), Toast.LENGTH_SHORT).show();\n}\n\nclass ListenerInner implements ValueEventListener {\n    MainRepository mainRepository;\n\n    ListenerInner(MainRepository mainRepository) {\n        this.mainRepository = mainRepository;\n    }\n    @Override\n    public void onDataChange(@NonNull DataSnapshot snapshot) {\n        mainRepository.setUser(snapshot.getValue(User.class));\n        Toast.makeText(application, &quot;IN LISTENER: &quot;+ user.hashCode() + user.getDepartment(), Toast.LENGTH_SHORT).show();\n    }\n\n    @Override\n    public void onCancelled(@NonNull DatabaseError error) {\n        Toast.makeText(application, &quot;Error: &quot; + error.getMessage(), Toast.LENGTH_SHORT).show();\n    }\n}\npublic void getUser() {\n    setUser(new User(&quot;aaa&quot;, &quot;bbb&quot;, &quot;ccc&quot;));\n    dbRef.child(&quot;Users&quot;).child(auth.getCurrentUser().getUid()).addListenerForSingleValueEvent(new ListenerInner(this));\n\n    Toast.makeText(application, &quot;OUT LISTENER: &quot; + user.hashCode() + user.getDepartment(), Toast.LENGTH_SHORT).show();\n}\n\nprivate void setUser(User user) {\n    this.user = user;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","java-8","duration"],"comments":[{"owner":{"account_id":83010,"reputation":27402,"user_id":233014,"display_name":"Christoffer Hammarstr&#246;m"},"score":2,"creation_date":1430147559,"post_id":29899299,"comment_id":47921680,"body_markdown":"possible duplicate of [Getting Duration using the new dateTime API](http://stackoverflow.com/questions/26454129/getting-duration-using-the-new-datetime-api)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/26454129/getting-duration-using-the-new-datetime-api\">Getting Duration using the new dateTime API</a>"}],"answers":[{"tags":[],"owner":{"account_id":83010,"reputation":27402,"user_id":233014,"display_name":"Christoffer Hammarstr&#246;m"},"down_vote_count":0,"up_vote_count":49,"is_accepted":true,"score":49,"last_activity_date":1639236396,"creation_date":1430147625,"answer_id":29899551,"question_id":29899299,"body_markdown":"As per the response in https://stackoverflow.com/questions/26454129/getting-duration-using-the-new-datetime-api you should be using\r\n\r\n    Period p = Period.ofYears(1);\r\n\r\nIt&#39;s important to understand the difference between `Duration` (exact number of nanoseconds &lt; 1 day) and `Period` (variable &gt; 1 day).\r\n\r\n`Duration` won&#39;t account for leap days, daylight savings time or leap seconds, for example, and is intended for durations of less than a day, at most a few days.\r\n\r\nSo you should use `Period` instead.\r\n\r\nBecause different years have different number of days, if you want to find the number of days in a year, you need to specify which year you&#39;re talking about.\r\n\r\nIf you want the number of days in a specific year, you can use \r\n\r\n    Year.of(year).length()\r\n\r\nIf you want the date one year from now, you can use\r\n\r\n    LocalDate.now().plusYears(1)\r\n\r\nor\r\n\r\n    LocalDate.now().plus(Period.ofYears(1))\r\n\r\nIf you need the number of days between two dates, you can use\r\n\r\n    ChronoUnit.DAYS.between(start, end)\r\n\r\nSo to find the number of days to the date a year from now, you can use\r\n\r\n    LocalDate today = LocalDate.now();\r\n    long days = ChronoUnit.DAYS.between(today, today.plusYears(1));\r\n\r\nIf you want to see whether a membership of one year is still valid, you can use\r\n\r\n    Period membershipLength = Period.ofYears(1);\r\n    LocalDate membershipStart = ...;\r\n    LocalDate membershipEnd = membershipStart.plus(membershipLength);\r\n\r\n    LocalDate today = LocalDate.now();\r\n    boolean memberShipEnded = today.isAfter(membershipEnd);\r\n    boolean membershipValid = !membershipEnded;\r\n","title":"Is there a way to have a Java8 duration of one year that accounts for leap years?","body":"<p>As per the response in <a href=\"https://stackoverflow.com/questions/26454129/getting-duration-using-the-new-datetime-api\">Getting Duration using the new dateTime API</a> you should be using</p>\n<pre><code>Period p = Period.ofYears(1);\n</code></pre>\n<p>It's important to understand the difference between <code>Duration</code> (exact number of nanoseconds &lt; 1 day) and <code>Period</code> (variable &gt; 1 day).</p>\n<p><code>Duration</code> won't account for leap days, daylight savings time or leap seconds, for example, and is intended for durations of less than a day, at most a few days.</p>\n<p>So you should use <code>Period</code> instead.</p>\n<p>Because different years have different number of days, if you want to find the number of days in a year, you need to specify which year you're talking about.</p>\n<p>If you want the number of days in a specific year, you can use</p>\n<pre><code>Year.of(year).length()\n</code></pre>\n<p>If you want the date one year from now, you can use</p>\n<pre><code>LocalDate.now().plusYears(1)\n</code></pre>\n<p>or</p>\n<pre><code>LocalDate.now().plus(Period.ofYears(1))\n</code></pre>\n<p>If you need the number of days between two dates, you can use</p>\n<pre><code>ChronoUnit.DAYS.between(start, end)\n</code></pre>\n<p>So to find the number of days to the date a year from now, you can use</p>\n<pre><code>LocalDate today = LocalDate.now();\nlong days = ChronoUnit.DAYS.between(today, today.plusYears(1));\n</code></pre>\n<p>If you want to see whether a membership of one year is still valid, you can use</p>\n<pre><code>Period membershipLength = Period.ofYears(1);\nLocalDate membershipStart = ...;\nLocalDate membershipEnd = membershipStart.plus(membershipLength);\n\nLocalDate today = LocalDate.now();\nboolean memberShipEnded = today.isAfter(membershipEnd);\nboolean membershipValid = !membershipEnded;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":2,"up_vote_count":11,"is_accepted":false,"score":9,"last_activity_date":1430151496,"creation_date":1430147667,"answer_id":29899565,"question_id":29899299,"body_markdown":"It seems clear you do not want a duration (= between two dates), but the year length of a specific date.\r\n\r\n    LocalDate dateLeap = LocalDate.of(2004, Month.MARCH, 1);\r\n    System.out.println(&quot;leap year of &quot; + dateLeap\r\n        + &quot; has days: &quot; + dateLeap.lengthOfYear());\r\n\r\n&gt; leap year of 2004-03-01 has days: 366\r\n\r\nJava 8 Date &amp; Time is astonishing complete.\r\n\r\n---------------------------\r\n\r\nIf you mean, in January 5th 2004 to January 5th 2005 = **366** and March 2nd 2004 to March 2rd 2005 = **365**:\r\n\r\n    int lengthOfYear(LocalDate date) {\r\n        return date.getMonthValue() &lt;= 2\r\n            ? date.lengthOfYear()               // Count Feb in this year\r\n            : date.plusYears(1).lengthOfYear(); // Count Feb in next year\r\n    }\r\n\r\nExplanation: basically the length is 365. But if date is &gt;= March, the February in the next year is counted, otherwise this year&#39;s February.\r\n\r\nMind that `plusYears(1)` will not change DAY or MONTH.\r\n\r\nAlso neither leap second nor hour/minuts on February, 29th are considered.","title":"Is there a way to have a Java8 duration of one year that accounts for leap years?","body":"<p>It seems clear you do not want a duration (= between two dates), but the year length of a specific date.</p>\n\n<pre><code>LocalDate dateLeap = LocalDate.of(2004, Month.MARCH, 1);\nSystem.out.println(\"leap year of \" + dateLeap\n    + \" has days: \" + dateLeap.lengthOfYear());\n</code></pre>\n\n<blockquote>\n  <p>leap year of 2004-03-01 has days: 366</p>\n</blockquote>\n\n<p>Java 8 Date &amp; Time is astonishing complete.</p>\n\n<hr>\n\n<p>If you mean, in January 5th 2004 to January 5th 2005 = <strong>366</strong> and March 2nd 2004 to March 2rd 2005 = <strong>365</strong>:</p>\n\n<pre><code>int lengthOfYear(LocalDate date) {\n    return date.getMonthValue() &lt;= 2\n        ? date.lengthOfYear()               // Count Feb in this year\n        : date.plusYears(1).lengthOfYear(); // Count Feb in next year\n}\n</code></pre>\n\n<p>Explanation: basically the length is 365. But if date is >= March, the February in the next year is counted, otherwise this year's February.</p>\n\n<p>Mind that <code>plusYears(1)</code> will not change DAY or MONTH.</p>\n\n<p>Also neither leap second nor hour/minuts on February, 29th are considered.</p>\n"}],"owner":{"account_id":2624876,"reputation":995,"user_id":2272115,"accept_rate":75,"display_name":"Andrew Bocz Jr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12993,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":29899551,"answer_count":2,"score":39,"last_activity_date":1639236396,"creation_date":1430147002,"question_id":29899299,"body_markdown":"I need the number of days in a year and I wanted to use Java8&#39;s new time api. \r\n\r\nHowever, I can&#39;t do `Duration.ofDays(365)` because it doesn&#39;t account for leap years.  And `Duration.of(1, ChronoUnit.YEARS)` doesn&#39;t fly because of `java.time.temporal.UnsupportedTemporalTypeException: Unit must not have an estimated duration`\r\n\r\nI looked into Period, but it doesn&#39;t appear useful for going from years to days.\r\n\r\nI feel like I&#39;m missing something here?  I could write something to add a day if the year is a leap year, but it seems like I should be able to handle this out of the box.","title":"Is there a way to have a Java8 duration of one year that accounts for leap years?","body":"<p>I need the number of days in a year and I wanted to use Java8's new time api. </p>\n\n<p>However, I can't do <code>Duration.ofDays(365)</code> because it doesn't account for leap years.  And <code>Duration.of(1, ChronoUnit.YEARS)</code> doesn't fly because of <code>java.time.temporal.UnsupportedTemporalTypeException: Unit must not have an estimated duration</code></p>\n\n<p>I looked into Period, but it doesn't appear useful for going from years to days.</p>\n\n<p>I feel like I'm missing something here?  I could write something to add a day if the year is a leap year, but it seems like I should be able to handle this out of the box.</p>\n"},{"tags":["java","java-8","java-11","java-17"],"comments":[{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1639161207,"post_id":70308396,"comment_id":124286455,"body_markdown":"It looks like you are passing an instance of `CreateProductCommand` to the `send` method which will look in the `handlerMap` for an entry that is associated with `CreateProductCommand.class` as a key.  I don&#39;t see anything in your code that would create an entry in `handlerMap` that would use `CreateProductCommand.class` as the key so I would expect `handlerMap.get(c.getClass())` to evaluate to `null`.","body":"It looks like you are passing an instance of <code>CreateProductCommand</code> to the <code>send</code> method which will look in the <code>handlerMap</code> for an entry that is associated with <code>CreateProductCommand.class</code> as a key.  I don&#39;t see anything in your code that would create an entry in <code>handlerMap</code> that would use <code>CreateProductCommand.class</code> as the key so I would expect <code>handlerMap.get(c.getClass())</code> to evaluate to <code>null</code>."},{"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"score":0,"creation_date":1639207153,"post_id":70308396,"comment_id":124294055,"body_markdown":"@JeffScottBrown Yes, it is looking for an instance of CreateProductCommand.class as a key. Quite not sure how can I do.","body":"@JeffScottBrown Yes, it is looking for an instance of CreateProductCommand.class as a key. Quite not sure how can I do."},{"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"score":0,"creation_date":1639208111,"post_id":70308396,"comment_id":124294180,"body_markdown":"Can you please let me know what should be the code here default Class&lt;C&gt; getCmdType(){\n        return (Class&lt;C&gt;) this.getClass();\n    };","body":"Can you please let me know what should be the code here default Class&lt;C&gt; getCmdType(){         return (Class&lt;C&gt;) this.getClass();     };"}],"answers":[{"tags":[],"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1639236346,"creation_date":1639235740,"answer_id":70316361,"question_id":70308396,"body_markdown":"There are several things about your design that can&#39;t work and I am not sure what the real requirements are given what is in the question but the project at [github.com/jeffbrown/sanjaisyinterfaces][1] should help.\r\n\r\n[src/main/java/sanjaisyinterfaces/SomeReturnType.java][2]\r\n\r\n    package sanjaisyinterfaces;\r\n    \r\n    public class SomeReturnType {\r\n    }\r\n\r\n\r\n[src/main/java/sanjaisyinterfaces/SomeOtherReturnType.java][3]\r\n\r\n    package sanjaisyinterfaces;\r\n    \r\n    public class SomeOtherReturnType {\r\n    }\r\n\r\n\r\n[src/main/java/sanjaisyinterfaces/CommandType.java][4]\r\n\r\n    package sanjaisyinterfaces;\r\n    \r\n    public interface CommandType {\r\n    }\r\n\r\n\r\n[src/main/java/sanjaisyinterfaces/SomeCommandType.java][5]\r\n\r\n    package sanjaisyinterfaces;\r\n    \r\n    public class SomeCommandType implements CommandType {\r\n    }\r\n\r\n\r\n[src/main/java/sanjaisyinterfaces/SomeOtherCommandType.java][6]\r\n\r\n    package sanjaisyinterfaces;\r\n    \r\n    public class SomeOtherCommandType implements CommandType {\r\n    }\r\n\r\n[src/main/java/sanjaisyinterfaces/IRequestHandler.java][7]\r\n\r\npackage sanjaisyinterfaces;\r\n\r\n    public interface IRequestHandler&lt;C extends CommandType, R&gt; {\r\n        R handler(C c);\r\n        Class&lt;C&gt; getCmdType();\r\n    }\r\n\r\n[src/main/java/sanjaisyinterfaces/SomeRequestHandler.java][8]\r\n\r\n    package sanjaisyinterfaces;\r\n    \r\n    import jakarta.inject.Singleton;\r\n    \r\n    @Singleton\r\n    public class SomeRequestHandler implements IRequestHandler&lt;SomeCommandType, SomeReturnType&gt; {\r\n    \r\n        @Override\r\n        public SomeReturnType handler(SomeCommandType someCommandType) {\r\n            System.out.println(&quot;SomeRequestHandler is handling a request for SomeCommandType&quot;);\r\n            // do whatever needs to be done here\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public Class getCmdType() {\r\n            return SomeCommandType.class;\r\n        }\r\n    }\r\n\r\n\r\n[src/main/java/sanjaisyinterfaces/SomeOtherRequestHandler.java][9]\r\n\r\n    package sanjaisyinterfaces;\r\n    \r\n    import jakarta.inject.Singleton;\r\n    \r\n    @Singleton\r\n    public class SomeOtherRequestHandler implements IRequestHandler&lt;SomeOtherCommandType, SomeOtherReturnType&gt; {\r\n    \r\n        @Override\r\n        public SomeOtherReturnType handler(SomeOtherCommandType someCommandType) {\r\n            System.out.println(&quot;SomeOtherRequestHandler is handling a request for SomeOtherCommandType&quot;);\r\n            // do whatever needs to be done here\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public Class getCmdType() {\r\n            return SomeOtherCommandType.class;\r\n        }\r\n    }\r\n\r\n\r\n[src/main/java/sanjaisyinterfaces/IServiceBus.java][10]\r\n\r\n    package sanjaisyinterfaces;\r\n    \r\n    public interface IServiceBus {\r\n        Object send(CommandType c);\r\n    }\r\n\r\n\r\n[src/main/java/sanjaisyinterfaces/ServiceBus.java][11]\r\n\r\n    package sanjaisyinterfaces;\r\n    \r\n    import jakarta.inject.Singleton;\r\n    \r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.function.Function;\r\n    \r\n    import static java.util.stream.Collectors.toMap;\r\n    \r\n    @Singleton\r\n    public class ServiceBus implements IServiceBus {\r\n    \r\n        private final Map&lt;Class&lt;?&gt;, IRequestHandler&lt;?, ?&gt;&gt; handlerMap;\r\n    \r\n        public ServiceBus(List&lt;IRequestHandler&lt;?, ?&gt;&gt; handlers) {\r\n            handlerMap = handlers.stream()\r\n                    .collect(toMap(\r\n                            IRequestHandler::getCmdType,\r\n                            Function.identity()\r\n                    ));\r\n        }\r\n    \r\n        @Override\r\n        public Object send(CommandType c) {\r\n            IRequestHandler handler = handlerMap.get(c.getClass());\r\n            if (handler == null)\r\n                throw new UnsupportedOperationException(&quot;Unsupported command: &quot; + c.getClass());\r\n            return handler.handler(c);\r\n        }\r\n    }\r\n\r\n[src/main/java/sanjaisyinterfaces/SanjaisyinterfacesCommand.java][12]\r\n\r\n    package sanjaisyinterfaces;\r\n    \r\n    import io.micronaut.configuration.picocli.PicocliRunner;\r\n    import io.micronaut.context.ApplicationContext;\r\n    \r\n    import jakarta.inject.Inject;\r\n    import picocli.CommandLine;\r\n    import picocli.CommandLine.Command;\r\n    import picocli.CommandLine.Option;\r\n    import picocli.CommandLine.Parameters;\r\n    \r\n    @Command(name = &quot;sanjaisyinterfaces&quot;, description = &quot;...&quot;,\r\n            mixinStandardHelpOptions = true)\r\n    public class SanjaisyinterfacesCommand implements Runnable {\r\n    \r\n        @Inject\r\n        ServiceBus serviceBus;\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            PicocliRunner.run(SanjaisyinterfacesCommand.class, args);\r\n        }\r\n    \r\n        public void run() {\r\n            CommandType firstCommand = new SomeCommandType();\r\n            CommandType secondCommand = new SomeOtherCommandType();\r\n            serviceBus.send(firstCommand);\r\n            serviceBus.send(secondCommand);\r\n        }\r\n    }\r\n\r\nRunning that project indicates that the relationships are being recognized as intended:\r\n\r\n    ~ $ mkdir example\r\n    ~ $ cd example\r\n    example $ git clone git@github.com:jeffbrown/sanjaisyinterfaces.git\r\n    Cloning into &#39;sanjaisyinterfaces&#39;...\r\n    remote: Enumerating objects: 47, done.\r\n    remote: Counting objects: 100% (47/47), done.\r\n    remote: Compressing objects: 100% (35/35), done.\r\n    remote: Total 47 (delta 8), reused 44 (delta 5), pack-reused 0\r\n    Receiving objects: 100% (47/47), 63.88 KiB | 838.00 KiB/s, done.\r\n    Resolving deltas: 100% (8/8), done.\r\n    example $ \r\n    example $ cd sanjaisyinterfaces \r\n    sanjaisyinterfaces (main)$ ./gradlew run\r\n    \r\n    &gt; Task :run\r\n    09:10:39.377 [main] INFO  i.m.context.env.DefaultEnvironment - Established active environments: [cli]\r\n    SomeRequestHandler is handling a request for SomeCommandType\r\n    SomeOtherRequestHandler is handling a request for SomeOtherCommandType\r\n    \r\n    sanjaisyinterfaces (main)$ \r\n\r\n\r\n  [1]: https://github.com/jeffbrown/sanjaisyinterfaces\r\n  [2]: https://github.com/jeffbrown/sanjaisyinterfaces/blob/f7a6688cf3c86c1a4a41819ee611981bdc112f87/src/main/java/sanjaisyinterfaces/SomeReturnType.java\r\n  [3]: https://github.com/jeffbrown/sanjaisyinterfaces/blob/f7a6688cf3c86c1a4a41819ee611981bdc112f87/src/main/java/sanjaisyinterfaces/SomeOtherReturnType.java\r\n  [4]: https://github.com/jeffbrown/sanjaisyinterfaces/blob/f7a6688cf3c86c1a4a41819ee611981bdc112f87/src/main/java/sanjaisyinterfaces/CommandType.java\r\n  [5]: https://github.com/jeffbrown/sanjaisyinterfaces/blob/f7a6688cf3c86c1a4a41819ee611981bdc112f87/src/main/java/sanjaisyinterfaces/SomeCommandType.java\r\n  [6]: https://github.com/jeffbrown/sanjaisyinterfaces/blob/f7a6688cf3c86c1a4a41819ee611981bdc112f87/src/main/java/sanjaisyinterfaces/SomeOtherCommandType.java\r\n  [7]: https://github.com/jeffbrown/sanjaisyinterfaces/blob/f7a6688cf3c86c1a4a41819ee611981bdc112f87/src/main/java/sanjaisyinterfaces/IRequestHandler.java\r\n  [8]: https://github.com/jeffbrown/sanjaisyinterfaces/blob/f7a6688cf3c86c1a4a41819ee611981bdc112f87/src/main/java/sanjaisyinterfaces/SomeRequestHandler.java\r\n  [9]: https://github.com/jeffbrown/sanjaisyinterfaces/blob/f7a6688cf3c86c1a4a41819ee611981bdc112f87/src/main/java/sanjaisyinterfaces/SomeOtherRequestHandler.java\r\n  [10]: https://github.com/jeffbrown/sanjaisyinterfaces/blob/f7a6688cf3c86c1a4a41819ee611981bdc112f87/src/main/java/sanjaisyinterfaces/IServiceBus.java\r\n  [11]: https://github.com/jeffbrown/sanjaisyinterfaces/blob/f7a6688cf3c86c1a4a41819ee611981bdc112f87/src/main/java/sanjaisyinterfaces/ServiceBus.java\r\n  [12]: https://github.com/jeffbrown/sanjaisyinterfaces/blob/f7a6688cf3c86c1a4a41819ee611981bdc112f87/src/main/java/sanjaisyinterfaces/SanjaisyinterfacesCommand.java","title":"Class registry in Java with Micronaut","body":"<p>There are several things about your design that can't work and I am not sure what the real requirements are given what is in the question but the project at <a href=\"https://github.com/jeffbrown/sanjaisyinterfaces\" rel=\"nofollow noreferrer\">github.com/jeffbrown/sanjaisyinterfaces</a> should help.</p>\n<p><a href=\"https://github.com/jeffbrown/sanjaisyinterfaces/blob/f7a6688cf3c86c1a4a41819ee611981bdc112f87/src/main/java/sanjaisyinterfaces/SomeReturnType.java\" rel=\"nofollow noreferrer\">src/main/java/sanjaisyinterfaces/SomeReturnType.java</a></p>\n<pre><code>package sanjaisyinterfaces;\n\npublic class SomeReturnType {\n}\n</code></pre>\n<p><a href=\"https://github.com/jeffbrown/sanjaisyinterfaces/blob/f7a6688cf3c86c1a4a41819ee611981bdc112f87/src/main/java/sanjaisyinterfaces/SomeOtherReturnType.java\" rel=\"nofollow noreferrer\">src/main/java/sanjaisyinterfaces/SomeOtherReturnType.java</a></p>\n<pre><code>package sanjaisyinterfaces;\n\npublic class SomeOtherReturnType {\n}\n</code></pre>\n<p><a href=\"https://github.com/jeffbrown/sanjaisyinterfaces/blob/f7a6688cf3c86c1a4a41819ee611981bdc112f87/src/main/java/sanjaisyinterfaces/CommandType.java\" rel=\"nofollow noreferrer\">src/main/java/sanjaisyinterfaces/CommandType.java</a></p>\n<pre><code>package sanjaisyinterfaces;\n\npublic interface CommandType {\n}\n</code></pre>\n<p><a href=\"https://github.com/jeffbrown/sanjaisyinterfaces/blob/f7a6688cf3c86c1a4a41819ee611981bdc112f87/src/main/java/sanjaisyinterfaces/SomeCommandType.java\" rel=\"nofollow noreferrer\">src/main/java/sanjaisyinterfaces/SomeCommandType.java</a></p>\n<pre><code>package sanjaisyinterfaces;\n\npublic class SomeCommandType implements CommandType {\n}\n</code></pre>\n<p><a href=\"https://github.com/jeffbrown/sanjaisyinterfaces/blob/f7a6688cf3c86c1a4a41819ee611981bdc112f87/src/main/java/sanjaisyinterfaces/SomeOtherCommandType.java\" rel=\"nofollow noreferrer\">src/main/java/sanjaisyinterfaces/SomeOtherCommandType.java</a></p>\n<pre><code>package sanjaisyinterfaces;\n\npublic class SomeOtherCommandType implements CommandType {\n}\n</code></pre>\n<p><a href=\"https://github.com/jeffbrown/sanjaisyinterfaces/blob/f7a6688cf3c86c1a4a41819ee611981bdc112f87/src/main/java/sanjaisyinterfaces/IRequestHandler.java\" rel=\"nofollow noreferrer\">src/main/java/sanjaisyinterfaces/IRequestHandler.java</a></p>\n<p>package sanjaisyinterfaces;</p>\n<pre><code>public interface IRequestHandler&lt;C extends CommandType, R&gt; {\n    R handler(C c);\n    Class&lt;C&gt; getCmdType();\n}\n</code></pre>\n<p><a href=\"https://github.com/jeffbrown/sanjaisyinterfaces/blob/f7a6688cf3c86c1a4a41819ee611981bdc112f87/src/main/java/sanjaisyinterfaces/SomeRequestHandler.java\" rel=\"nofollow noreferrer\">src/main/java/sanjaisyinterfaces/SomeRequestHandler.java</a></p>\n<pre><code>package sanjaisyinterfaces;\n\nimport jakarta.inject.Singleton;\n\n@Singleton\npublic class SomeRequestHandler implements IRequestHandler&lt;SomeCommandType, SomeReturnType&gt; {\n\n    @Override\n    public SomeReturnType handler(SomeCommandType someCommandType) {\n        System.out.println(&quot;SomeRequestHandler is handling a request for SomeCommandType&quot;);\n        // do whatever needs to be done here\n        return null;\n    }\n\n    @Override\n    public Class getCmdType() {\n        return SomeCommandType.class;\n    }\n}\n</code></pre>\n<p><a href=\"https://github.com/jeffbrown/sanjaisyinterfaces/blob/f7a6688cf3c86c1a4a41819ee611981bdc112f87/src/main/java/sanjaisyinterfaces/SomeOtherRequestHandler.java\" rel=\"nofollow noreferrer\">src/main/java/sanjaisyinterfaces/SomeOtherRequestHandler.java</a></p>\n<pre><code>package sanjaisyinterfaces;\n\nimport jakarta.inject.Singleton;\n\n@Singleton\npublic class SomeOtherRequestHandler implements IRequestHandler&lt;SomeOtherCommandType, SomeOtherReturnType&gt; {\n\n    @Override\n    public SomeOtherReturnType handler(SomeOtherCommandType someCommandType) {\n        System.out.println(&quot;SomeOtherRequestHandler is handling a request for SomeOtherCommandType&quot;);\n        // do whatever needs to be done here\n        return null;\n    }\n\n    @Override\n    public Class getCmdType() {\n        return SomeOtherCommandType.class;\n    }\n}\n</code></pre>\n<p><a href=\"https://github.com/jeffbrown/sanjaisyinterfaces/blob/f7a6688cf3c86c1a4a41819ee611981bdc112f87/src/main/java/sanjaisyinterfaces/IServiceBus.java\" rel=\"nofollow noreferrer\">src/main/java/sanjaisyinterfaces/IServiceBus.java</a></p>\n<pre><code>package sanjaisyinterfaces;\n\npublic interface IServiceBus {\n    Object send(CommandType c);\n}\n</code></pre>\n<p><a href=\"https://github.com/jeffbrown/sanjaisyinterfaces/blob/f7a6688cf3c86c1a4a41819ee611981bdc112f87/src/main/java/sanjaisyinterfaces/ServiceBus.java\" rel=\"nofollow noreferrer\">src/main/java/sanjaisyinterfaces/ServiceBus.java</a></p>\n<pre><code>package sanjaisyinterfaces;\n\nimport jakarta.inject.Singleton;\n\nimport java.util.List;\nimport java.util.Map;\nimport java.util.function.Function;\n\nimport static java.util.stream.Collectors.toMap;\n\n@Singleton\npublic class ServiceBus implements IServiceBus {\n\n    private final Map&lt;Class&lt;?&gt;, IRequestHandler&lt;?, ?&gt;&gt; handlerMap;\n\n    public ServiceBus(List&lt;IRequestHandler&lt;?, ?&gt;&gt; handlers) {\n        handlerMap = handlers.stream()\n                .collect(toMap(\n                        IRequestHandler::getCmdType,\n                        Function.identity()\n                ));\n    }\n\n    @Override\n    public Object send(CommandType c) {\n        IRequestHandler handler = handlerMap.get(c.getClass());\n        if (handler == null)\n            throw new UnsupportedOperationException(&quot;Unsupported command: &quot; + c.getClass());\n        return handler.handler(c);\n    }\n}\n</code></pre>\n<p><a href=\"https://github.com/jeffbrown/sanjaisyinterfaces/blob/f7a6688cf3c86c1a4a41819ee611981bdc112f87/src/main/java/sanjaisyinterfaces/SanjaisyinterfacesCommand.java\" rel=\"nofollow noreferrer\">src/main/java/sanjaisyinterfaces/SanjaisyinterfacesCommand.java</a></p>\n<pre><code>package sanjaisyinterfaces;\n\nimport io.micronaut.configuration.picocli.PicocliRunner;\nimport io.micronaut.context.ApplicationContext;\n\nimport jakarta.inject.Inject;\nimport picocli.CommandLine;\nimport picocli.CommandLine.Command;\nimport picocli.CommandLine.Option;\nimport picocli.CommandLine.Parameters;\n\n@Command(name = &quot;sanjaisyinterfaces&quot;, description = &quot;...&quot;,\n        mixinStandardHelpOptions = true)\npublic class SanjaisyinterfacesCommand implements Runnable {\n\n    @Inject\n    ServiceBus serviceBus;\n\n    public static void main(String[] args) throws Exception {\n        PicocliRunner.run(SanjaisyinterfacesCommand.class, args);\n    }\n\n    public void run() {\n        CommandType firstCommand = new SomeCommandType();\n        CommandType secondCommand = new SomeOtherCommandType();\n        serviceBus.send(firstCommand);\n        serviceBus.send(secondCommand);\n    }\n}\n</code></pre>\n<p>Running that project indicates that the relationships are being recognized as intended:</p>\n<pre><code>~ $ mkdir example\n~ $ cd example\nexample $ git clone git@github.com:jeffbrown/sanjaisyinterfaces.git\nCloning into 'sanjaisyinterfaces'...\nremote: Enumerating objects: 47, done.\nremote: Counting objects: 100% (47/47), done.\nremote: Compressing objects: 100% (35/35), done.\nremote: Total 47 (delta 8), reused 44 (delta 5), pack-reused 0\nReceiving objects: 100% (47/47), 63.88 KiB | 838.00 KiB/s, done.\nResolving deltas: 100% (8/8), done.\nexample $ \nexample $ cd sanjaisyinterfaces \nsanjaisyinterfaces (main)$ ./gradlew run\n\n&gt; Task :run\n09:10:39.377 [main] INFO  i.m.context.env.DefaultEnvironment - Established active environments: [cli]\nSomeRequestHandler is handling a request for SomeCommandType\nSomeOtherRequestHandler is handling a request for SomeOtherCommandType\n\nsanjaisyinterfaces (main)$ \n</code></pre>\n"}],"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70316361,"answer_count":1,"score":0,"last_activity_date":1639236346,"creation_date":1639157764,"question_id":70308396,"body_markdown":"I am trying to do the class registry in java using the below code\r\n\r\n    public interface IServiceBus {\r\n         &lt;C,R&gt; R send(C c);\r\n    }\r\n\r\n    public interface IRequestHandler&lt;C , R&gt; {\r\n        R handler(C c);\r\n        default Class&lt;C&gt; getCmdType(){\r\n            return (Class&lt;C&gt;) this.getClass();\r\n        };\r\n    \r\n    }\r\n\r\n    @Singleton\r\n    public class ServiceBus implements IServiceBus {\r\n    \r\n        private final Map&lt;Class&lt;?&gt;, IRequestHandler&lt;?, ?&gt;&gt; handlerMap;\r\n    \r\n        public ServiceBus(List&lt;IRequestHandler&lt;?, ?&gt;&gt; handlers) {\r\n            handlerMap = handlers.stream()\r\n                    .collect(toMap(\r\n                            IRequestHandler::getCmdType,\r\n                            Function.identity()\r\n                    ));\r\n        }\r\n    \r\n        @Override\r\n        public &lt;C, R&gt; R send(C c) {\r\n            IRequestHandler&lt;C, R&gt; handler = (IRequestHandler&lt;C, R&gt;) handlerMap.get(c.getClass());\r\n            if (handler == null)\r\n                throw new UnsupportedOperationException(&quot;Unsupported command: &quot; + c.getClass());\r\n            return handler.handler(c);\r\n        }\r\n    }\r\n\r\n**controller**\r\n\r\n    public Mono&lt;MutableHttpResponse&lt;?&gt;&gt; getById(@NotBlank String id) {\r\n            var item = _iserviceBus.&lt;CreateProductCommand, CreateProductCommand&gt;send(new CreateProductCommand());\r\n            return null;\r\n        }\r\nOn  \r\n\r\n    handlerMap = handlers.stream()\r\n                    .collect(toMap(\r\n                            IRequestHandler::getCmdType,\r\n                            Function.identity()\r\n                    ));\r\n\r\nThe return of `getCmdType` is not correct and not sure about `Function.identity()`. Threfore `IRequestHandler&lt;C, R&gt; handler = (IRequestHandler&lt;C, R&gt;) handlerMap.get(c.getClass());` is always null \r\n\r\nWhat is the best way to get the command and register with the handler","title":"Class registry in Java with Micronaut","body":"<p>I am trying to do the class registry in java using the below code</p>\n<pre><code>public interface IServiceBus {\n     &lt;C,R&gt; R send(C c);\n}\n\npublic interface IRequestHandler&lt;C , R&gt; {\n    R handler(C c);\n    default Class&lt;C&gt; getCmdType(){\n        return (Class&lt;C&gt;) this.getClass();\n    };\n\n}\n\n@Singleton\npublic class ServiceBus implements IServiceBus {\n\n    private final Map&lt;Class&lt;?&gt;, IRequestHandler&lt;?, ?&gt;&gt; handlerMap;\n\n    public ServiceBus(List&lt;IRequestHandler&lt;?, ?&gt;&gt; handlers) {\n        handlerMap = handlers.stream()\n                .collect(toMap(\n                        IRequestHandler::getCmdType,\n                        Function.identity()\n                ));\n    }\n\n    @Override\n    public &lt;C, R&gt; R send(C c) {\n        IRequestHandler&lt;C, R&gt; handler = (IRequestHandler&lt;C, R&gt;) handlerMap.get(c.getClass());\n        if (handler == null)\n            throw new UnsupportedOperationException(&quot;Unsupported command: &quot; + c.getClass());\n        return handler.handler(c);\n    }\n}\n</code></pre>\n<p><strong>controller</strong></p>\n<pre><code>public Mono&lt;MutableHttpResponse&lt;?&gt;&gt; getById(@NotBlank String id) {\n        var item = _iserviceBus.&lt;CreateProductCommand, CreateProductCommand&gt;send(new CreateProductCommand());\n        return null;\n    }\n</code></pre>\n<p>On</p>\n<pre><code>handlerMap = handlers.stream()\n                .collect(toMap(\n                        IRequestHandler::getCmdType,\n                        Function.identity()\n                ));\n</code></pre>\n<p>The return of <code>getCmdType</code> is not correct and not sure about <code>Function.identity()</code>. Threfore <code>IRequestHandler&lt;C, R&gt; handler = (IRequestHandler&lt;C, R&gt;) handlerMap.get(c.getClass());</code> is always null</p>\n<p>What is the best way to get the command and register with the handler</p>\n"},{"tags":["java","rsa","x509","pkcs#1"],"comments":[{"owner":{"account_id":188261,"reputation":746,"user_id":426911,"accept_rate":64,"display_name":"rhololkeolke"},"score":0,"creation_date":1317391425,"post_id":7611383,"comment_id":9237203,"body_markdown":"Can you give a snippet of the code you are currently using to generate the keys?","body":"Can you give a snippet of the code you are currently using to generate the keys?"},{"owner":{"account_id":945925,"reputation":399,"user_id":973188,"accept_rate":67,"display_name":"Anthony"},"score":0,"creation_date":1317391834,"post_id":7611383,"comment_id":9237319,"body_markdown":"Ok, I added a snippet.  Thanks.","body":"Ok, I added a snippet.  Thanks."}],"answers":[{"tags":[],"owner":{"account_id":400977,"reputation":6762,"user_id":767272,"display_name":"klaustopher"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1317392100,"creation_date":1317392100,"answer_id":7611666,"question_id":7611383,"body_markdown":"The BouncyCastle framework has a PKCS1 Encoder to solve this: http://www.bouncycastle.org/docs/docs1.6/index.html","title":"Generating RSA keys in PKCS#1 format in Java","body":"<p>The BouncyCastle framework has a PKCS1 Encoder to solve this: <a href=\"http://www.bouncycastle.org/docs/docs1.6/index.html\" rel=\"nofollow\">http://www.bouncycastle.org/docs/docs1.6/index.html</a></p>\n"},{"tags":[],"owner":{"account_id":300304,"reputation":1234,"user_id":607361,"display_name":"Maciej Łopaciński"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1325590792,"creation_date":1325590792,"answer_id":8711746,"question_id":7611383,"body_markdown":"I was trying to generate OpenSSL-friendly RSA public keys in DER format using BountyCastle J2ME library ported to BlackBerry, my code:\r\n\r\n    public void testMe() throws Exception {\r\n      RSAKeyPairGenerator generator = new RSAKeyPairGenerator();\r\n      generator.init(new RSAKeyGenerationParameters(BigInteger.valueOf(0x10001),\r\n                     new SecureRandom(), 512, 80));\r\n      AsymmetricCipherKeyPair keyPair = generator.generateKeyPair();\r\n      \r\n      RSAKeyParameters params =  (RSAKeyParameters) keyPair.getPublic();\r\n      RSAPublicKeyStructure struct = new RSAPublicKeyStructure(params.getModulus(), \r\n                                                               params.getExponent());\r\n      \r\n      SubjectPublicKeyInfo info = \r\n        new SubjectPublicKeyInfo(new AlgorithmIdentifier(&quot;1.2.840.113549.1.1.1&quot;), \r\n                                 struct);\r\n      \r\n      byte[] bytes = info.getDEREncoded();\r\n      \r\n      FileOutputStream out = new FileOutputStream(&quot;/tmp/test.der&quot;);\r\n      \r\n      out.write(bytes);\r\n      out.flush();\r\n      out.close();\r\n    }\r\n\r\nKey was still incorrect:\r\n\r\n    $ openssl asn1parse -in test.der -inform DER -i\r\n    0:d=0  hl=2 l=  90 cons: SEQUENCE          \r\n    2:d=1  hl=2 l=  11 cons:  SEQUENCE          \r\n    4:d=2  hl=2 l=   9 prim:   OBJECT            :rsaEncryption\r\n    15:d=1  hl=2 l=  75 prim:  BIT STRING     \r\n\r\nI changed org.bouncycastle.asn1.x509.AlgorithmIdentifier\r\n\r\n\r\n    public AlgorithmIdentifier(\r\n        String     objectId)\r\n    {\r\n        this.objectId = new DERObjectIdentifier(objectId);\r\n        // This line has been added\r\n        this.parametersDefined = true;\r\n    }\r\n\r\nAnd now have nice key:\r\n\r\n    $ openssl asn1parse -in test.der -inform DER -i\r\n    0:d=0  hl=2 l=  92 cons: SEQUENCE          \r\n    2:d=1  hl=2 l=  13 cons:  SEQUENCE          \r\n    4:d=2  hl=2 l=   9 prim:   OBJECT            :rsaEncryption\r\n    15:d=2  hl=2 l=   0 prim:   NULL              \r\n    17:d=1  hl=2 l=  75 prim:  BIT STRING \r\n\r\nWhich can be used to encrypt:\r\n\r\n    $ echo &quot;123&quot; | openssl rsautl -pubin  -inkey test.der -encrypt -keyform DER -out y\r\n    $ wc -c y\r\n    64 y\r\n\r\n","title":"Generating RSA keys in PKCS#1 format in Java","body":"<p>I was trying to generate OpenSSL-friendly RSA public keys in DER format using BountyCastle J2ME library ported to BlackBerry, my code:</p>\n\n<pre><code>public void testMe() throws Exception {\n  RSAKeyPairGenerator generator = new RSAKeyPairGenerator();\n  generator.init(new RSAKeyGenerationParameters(BigInteger.valueOf(0x10001),\n                 new SecureRandom(), 512, 80));\n  AsymmetricCipherKeyPair keyPair = generator.generateKeyPair();\n\n  RSAKeyParameters params =  (RSAKeyParameters) keyPair.getPublic();\n  RSAPublicKeyStructure struct = new RSAPublicKeyStructure(params.getModulus(), \n                                                           params.getExponent());\n\n  SubjectPublicKeyInfo info = \n    new SubjectPublicKeyInfo(new AlgorithmIdentifier(\"1.2.840.113549.1.1.1\"), \n                             struct);\n\n  byte[] bytes = info.getDEREncoded();\n\n  FileOutputStream out = new FileOutputStream(\"/tmp/test.der\");\n\n  out.write(bytes);\n  out.flush();\n  out.close();\n}\n</code></pre>\n\n<p>Key was still incorrect:</p>\n\n<pre><code>$ openssl asn1parse -in test.der -inform DER -i\n0:d=0  hl=2 l=  90 cons: SEQUENCE          \n2:d=1  hl=2 l=  11 cons:  SEQUENCE          \n4:d=2  hl=2 l=   9 prim:   OBJECT            :rsaEncryption\n15:d=1  hl=2 l=  75 prim:  BIT STRING     \n</code></pre>\n\n<p>I changed org.bouncycastle.asn1.x509.AlgorithmIdentifier</p>\n\n<pre><code>public AlgorithmIdentifier(\n    String     objectId)\n{\n    this.objectId = new DERObjectIdentifier(objectId);\n    // This line has been added\n    this.parametersDefined = true;\n}\n</code></pre>\n\n<p>And now have nice key:</p>\n\n<pre><code>$ openssl asn1parse -in test.der -inform DER -i\n0:d=0  hl=2 l=  92 cons: SEQUENCE          \n2:d=1  hl=2 l=  13 cons:  SEQUENCE          \n4:d=2  hl=2 l=   9 prim:   OBJECT            :rsaEncryption\n15:d=2  hl=2 l=   0 prim:   NULL              \n17:d=1  hl=2 l=  75 prim:  BIT STRING \n</code></pre>\n\n<p>Which can be used to encrypt:</p>\n\n<pre><code>$ echo \"123\" | openssl rsautl -pubin  -inkey test.der -encrypt -keyform DER -out y\n$ wc -c y\n64 y\n</code></pre>\n"},{"tags":[],"owner":{"account_id":73525,"reputation":21116,"user_id":211674,"display_name":"SimonJ"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1325599948,"creation_date":1325599948,"answer_id":8713518,"question_id":7611383,"body_markdown":"From [RFC5208][1], the PKCS#8 unencrypted format consists of a `PrivateKeyInfo` structure:\r\n\r\n&lt;pre&gt;\r\nPrivateKeyInfo ::= SEQUENCE {\r\n  version                   Version,\r\n  privateKeyAlgorithm       PrivateKeyAlgorithmIdentifier,\r\n  privateKey                PrivateKey,\r\n  attributes           [0]  IMPLICIT Attributes OPTIONAL }\r\n&lt;/pre&gt;\r\n\r\nwhere `privateKey` is:\r\n\r\n&gt; &quot;...an octet string whose contents are the value of the private key.  The interpretation of the contents is defined in the registration of the private-key algorithm.  For an RSA private key, for example, the contents are a BER encoding of a value of type RSAPrivateKey.&quot;\r\n\r\nThis `RSAPrivateKey` structure is just the PKCS#1 encoding of the key, which we can extract using BouncyCastle:\r\n\r\n    // pkcs8Bytes contains PKCS#8 DER-encoded key as a byte[]\r\n    PrivateKeyInfo pki = PrivateKeyInfo.getInstance(pkcs8Bytes);\r\n    RSAPrivateKeyStructure pkcs1Key = RSAPrivateKeyStructure.getInstance(\r\n            pki.getPrivateKey());\r\n    byte[] pkcs1Bytes = pkcs1Key.getEncoded(); // etc.\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc5208","title":"Generating RSA keys in PKCS#1 format in Java","body":"<p>From <a href=\"https://www.rfc-editor.org/rfc/rfc5208\" rel=\"nofollow noreferrer\">RFC5208</a>, the PKCS#8 unencrypted format consists of a <code>PrivateKeyInfo</code> structure:</p>\n<pre>\nPrivateKeyInfo ::= SEQUENCE {\n  version                   Version,\n  privateKeyAlgorithm       PrivateKeyAlgorithmIdentifier,\n  privateKey                PrivateKey,\n  attributes           [0]  IMPLICIT Attributes OPTIONAL }\n</pre>\n<p>where <code>privateKey</code> is:</p>\n<blockquote>\n<p>&quot;...an octet string whose contents are the value of the private key.  The interpretation of the contents is defined in the registration of the private-key algorithm.  For an RSA private key, for example, the contents are a BER encoding of a value of type RSAPrivateKey.&quot;</p>\n</blockquote>\n<p>This <code>RSAPrivateKey</code> structure is just the PKCS#1 encoding of the key, which we can extract using BouncyCastle:</p>\n<pre><code>// pkcs8Bytes contains PKCS#8 DER-encoded key as a byte[]\nPrivateKeyInfo pki = PrivateKeyInfo.getInstance(pkcs8Bytes);\nRSAPrivateKeyStructure pkcs1Key = RSAPrivateKeyStructure.getInstance(\n        pki.getPrivateKey());\nbyte[] pkcs1Bytes = pkcs1Key.getEncoded(); // etc.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1046391,"reputation":9,"user_id":1051287,"display_name":"larry"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1430135675,"creation_date":1359430529,"answer_id":14575246,"question_id":7611383,"body_markdown":"I wrote a C programme to convert pkcs8 private key to pkcs1. It works!\r\n\r\n    /*****************************************\r\n        convert pkcs8 private key file to pkcs1\r\n\r\n        2013-1-25   Larry Wu     created\r\n     ****************************************/\r\n\r\n    #include &lt;unistd.h&gt;\r\n    #include &lt;sys/types.h&gt;\r\n    #include &lt;sys/socket.h&gt;\r\n    #include &lt;netinet/in.h&gt;\r\n    #include &lt;netdb.h&gt;\r\n    #include &lt;arpa/inet.h&gt;\r\n\r\n    #include &lt;openssl/rsa.h&gt;\r\n    #include &lt;openssl/bio.h&gt; \r\n    #include &lt;openssl/err.h&gt; \r\n    #include &lt;openssl/pem.h&gt;\r\n    #include &lt;openssl/engine.h&gt;\r\n\r\n    #include &lt;stdio.h&gt;\r\n    #include &lt;string.h&gt;\r\n    #include &lt;stdlib.h&gt;\r\n    #include &lt;time.h&gt;\r\n    #include &lt;assert.h&gt;\r\n    #include &lt;stdarg.h&gt;\r\n\r\n    #include &lt;fstream&gt;\r\n    #include &lt;sstream&gt;\r\n    #include &lt;iostream&gt;\r\n    #include &lt;map&gt;\r\n    #include &lt;set&gt;\r\n    #include &lt;list&gt;\r\n    #include &lt;vector&gt;\r\n\r\n    using namespace std;\r\n\r\n\r\n    #define MY_TRACE_ERROR printf\r\n\r\n\r\n    /*\r\n        gcc -Wall -o pkcs_8to1 pkcs_8to1.cpp -g -lstdc++ -lcrypto -lssl\r\n    */\r\n    int main(int argc, char **argv)\r\n    {\r\n        EVP_PKEY * pkey = NULL;\r\n        string kin_fname;\r\n        FILE *kin_file = NULL;\r\n        string kout_fname;\r\n        FILE *kout_file = NULL;\r\n\r\n        // param\r\n        if(argc != 3)\r\n        {\r\n            printf(&quot;Usage: %s &lt;pkcs8_key_file&gt; &lt;pkcs1_key_file&gt;\\n&quot;, argv[0]);\r\n            return 1;\r\n        }\r\n\r\n        kin_fname = argv[1];\r\n        kout_fname = argv[2];\r\n        \r\n\r\n        // init\r\n        OpenSSL_add_all_digests();\r\n        ERR_load_crypto_strings();\r\n\r\n        // read key\r\n        if((kin_file = fopen(kin_fname.c_str(), &quot;r&quot;)) == NULL)\r\n        {\r\n            MY_TRACE_ERROR(&quot;kin_fname open fail:%s\\n&quot;, kin_fname.c_str());\r\n            return 1;\r\n        }\r\n\r\n        if ((pkey = PEM_read_PrivateKey(kin_file, NULL, NULL, NULL)) == NULL) \r\n        {\r\n            ERR_print_errors_fp(stderr);\r\n            MY_TRACE_ERROR(&quot;PEM_read_PrivateKey fail\\n&quot;);\r\n            fclose(kin_file);\r\n            return 2;\r\n        }\r\n\r\n        // write key\r\n        if((kout_file = fopen(kout_fname.c_str(), &quot;w&quot;)) == NULL)\r\n        {\r\n            MY_TRACE_ERROR(&quot;kout_fname open fail:%s\\n&quot;, kout_fname.c_str());\r\n            return 1;\r\n        }\r\n        \r\n        if (!PEM_write_PrivateKey(kout_file, pkey, NULL, NULL, 0, NULL, NULL)) \r\n        {\r\n            ERR_print_errors_fp(stderr);\r\n            MY_TRACE_ERROR(&quot;PEM_read_PrivateKey fail\\n&quot;);\r\n            fclose(kout_file);\r\n            return 2;\r\n        }\r\n\r\n        // clean\r\n        fclose(kin_file);\r\n        fclose(kout_file);\r\n        EVP_PKEY_free(pkey);\r\n\r\n        return 0;\r\n    }\r\n","title":"Generating RSA keys in PKCS#1 format in Java","body":"<p>I wrote a C programme to convert pkcs8 private key to pkcs1. It works!</p>\n\n<pre><code>/*****************************************\n    convert pkcs8 private key file to pkcs1\n\n    2013-1-25   Larry Wu     created\n ****************************************/\n\n#include &lt;unistd.h&gt;\n#include &lt;sys/types.h&gt;\n#include &lt;sys/socket.h&gt;\n#include &lt;netinet/in.h&gt;\n#include &lt;netdb.h&gt;\n#include &lt;arpa/inet.h&gt;\n\n#include &lt;openssl/rsa.h&gt;\n#include &lt;openssl/bio.h&gt; \n#include &lt;openssl/err.h&gt; \n#include &lt;openssl/pem.h&gt;\n#include &lt;openssl/engine.h&gt;\n\n#include &lt;stdio.h&gt;\n#include &lt;string.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;time.h&gt;\n#include &lt;assert.h&gt;\n#include &lt;stdarg.h&gt;\n\n#include &lt;fstream&gt;\n#include &lt;sstream&gt;\n#include &lt;iostream&gt;\n#include &lt;map&gt;\n#include &lt;set&gt;\n#include &lt;list&gt;\n#include &lt;vector&gt;\n\nusing namespace std;\n\n\n#define MY_TRACE_ERROR printf\n\n\n/*\n    gcc -Wall -o pkcs_8to1 pkcs_8to1.cpp -g -lstdc++ -lcrypto -lssl\n*/\nint main(int argc, char **argv)\n{\n    EVP_PKEY * pkey = NULL;\n    string kin_fname;\n    FILE *kin_file = NULL;\n    string kout_fname;\n    FILE *kout_file = NULL;\n\n    // param\n    if(argc != 3)\n    {\n        printf(\"Usage: %s &lt;pkcs8_key_file&gt; &lt;pkcs1_key_file&gt;\\n\", argv[0]);\n        return 1;\n    }\n\n    kin_fname = argv[1];\n    kout_fname = argv[2];\n\n\n    // init\n    OpenSSL_add_all_digests();\n    ERR_load_crypto_strings();\n\n    // read key\n    if((kin_file = fopen(kin_fname.c_str(), \"r\")) == NULL)\n    {\n        MY_TRACE_ERROR(\"kin_fname open fail:%s\\n\", kin_fname.c_str());\n        return 1;\n    }\n\n    if ((pkey = PEM_read_PrivateKey(kin_file, NULL, NULL, NULL)) == NULL) \n    {\n        ERR_print_errors_fp(stderr);\n        MY_TRACE_ERROR(\"PEM_read_PrivateKey fail\\n\");\n        fclose(kin_file);\n        return 2;\n    }\n\n    // write key\n    if((kout_file = fopen(kout_fname.c_str(), \"w\")) == NULL)\n    {\n        MY_TRACE_ERROR(\"kout_fname open fail:%s\\n\", kout_fname.c_str());\n        return 1;\n    }\n\n    if (!PEM_write_PrivateKey(kout_file, pkey, NULL, NULL, 0, NULL, NULL)) \n    {\n        ERR_print_errors_fp(stderr);\n        MY_TRACE_ERROR(\"PEM_read_PrivateKey fail\\n\");\n        fclose(kout_file);\n        return 2;\n    }\n\n    // clean\n    fclose(kin_file);\n    fclose(kout_file);\n    EVP_PKEY_free(pkey);\n\n    return 0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":136441,"reputation":1056,"user_id":339926,"accept_rate":40,"display_name":"aminhotob"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1418832617,"creation_date":1418832617,"answer_id":27529863,"question_id":7611383,"body_markdown":"I know this is old post. but I spent two days to solve this problem and finally find BouncyCastle can do that \r\n\r\n&gt; ASN1Encodable\r\n\r\n  http://www.bouncycastle.org/docs/docs1.5on/org/bouncycastle/asn1/ASN1Encodable.html","title":"Generating RSA keys in PKCS#1 format in Java","body":"<p>I know this is old post. but I spent two days to solve this problem and finally find BouncyCastle can do that </p>\n\n<blockquote>\n  <p>ASN1Encodable</p>\n</blockquote>\n\n<p><a href=\"http://www.bouncycastle.org/docs/docs1.5on/org/bouncycastle/asn1/ASN1Encodable.html\" rel=\"nofollow\">http://www.bouncycastle.org/docs/docs1.5on/org/bouncycastle/asn1/ASN1Encodable.html</a></p>\n"},{"tags":[],"owner":{"account_id":1001906,"reputation":2166,"user_id":1016580,"display_name":"Alexei Khlebnikov"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1639235712,"creation_date":1430128409,"answer_id":29892431,"question_id":7611383,"body_markdown":"You will need BouncyCastle:\r\n\r\n\timport org.bouncycastle.asn1.ASN1Encodable;\r\n\timport org.bouncycastle.asn1.ASN1Primitive;\r\n\timport org.bouncycastle.asn1.pkcs.PrivateKeyInfo;\r\n\timport org.bouncycastle.asn1.x509.SubjectPublicKeyInfo;\r\n\timport org.bouncycastle.util.io.pem.PemObject;\r\n\timport org.bouncycastle.util.io.pem.PemWriter;\r\n\r\nThe code snippets below have been checked and found working with Bouncy Castle 1.52.\r\n\r\n&lt;h2&gt;Private key&lt;/h2&gt;\r\n\r\nConvert private key from PKCS8 to PKCS1:\r\n\r\n\tPrivateKey priv = pair.getPrivate();\r\n\tbyte[] privBytes = priv.getEncoded();\r\n\t\r\n\tPrivateKeyInfo pkInfo = PrivateKeyInfo.getInstance(privBytes);\r\n\tASN1Encodable encodable = pkInfo.parsePrivateKey();\r\n\tASN1Primitive primitive = encodable.toASN1Primitive();\r\n\tbyte[] privateKeyPKCS1 = primitive.getEncoded();\r\n\r\nConvert private key in PKCS1 to PEM:\r\n\r\n\tPemObject pemObject = new PemObject(&quot;RSA PRIVATE KEY&quot;, privateKeyPKCS1);\r\n\tStringWriter stringWriter = new StringWriter();\r\n\tPemWriter pemWriter = new PemWriter(stringWriter);\r\n\tpemWriter.writeObject(pemObject);\r\n\tpemWriter.close();\r\n\tString pemString = stringWriter.toString();\r\n\r\nCheck with command line OpenSSL that the key format is as expected:\r\n\r\n    openssl rsa -in rsa_private_key.pem -noout -text\r\n\r\n&lt;h2&gt;Public key&lt;/h2&gt;\r\n\r\nConvert public key from X.509 SubjectPublicKeyInfo to PKCS1:\r\n\r\n\tPublicKey pub = pair.getPublic();\r\n\tbyte[] pubBytes = pub.getEncoded();\r\n\t\r\n\tSubjectPublicKeyInfo spkInfo = SubjectPublicKeyInfo.getInstance(pubBytes);\r\n\tASN1Primitive primitive = spkInfo.parsePublicKey();\r\n\tbyte[] publicKeyPKCS1 = primitive.getEncoded();\r\n\r\nConvert public key in PKCS1 to PEM:\r\n\r\n\tPemObject pemObject = new PemObject(&quot;RSA PUBLIC KEY&quot;, publicKeyPKCS1);\r\n\tStringWriter stringWriter = new StringWriter();\r\n\tPemWriter pemWriter = new PemWriter(stringWriter);\r\n\tpemWriter.writeObject(pemObject);\r\n\tpemWriter.close();\r\n\tString pemString = stringWriter.toString();\r\n\r\nCheck with command line OpenSSL that the key format is as expected:\r\n\r\n    openssl rsa -in rsa_public_key.pem -RSAPublicKey_in -noout -text\r\n\r\n&lt;h2&gt;Thanks&lt;/h2&gt;\r\n\r\nMany thanks to the authors of the following posts:\r\n\r\n - https://stackoverflow.com/a/8713518/1016580\r\n - https://stackoverflow.com/a/14052651/1016580\r\n - https://stackoverflow.com/a/14068057/1016580\r\n\r\nThose posts contained useful, but incomplete and sometimes outdated info (i.e. for older versions of BouncyCastle), that helped me to construct this post.\r\n","title":"Generating RSA keys in PKCS#1 format in Java","body":"<p>You will need BouncyCastle:</p>\n<pre><code>import org.bouncycastle.asn1.ASN1Encodable;\nimport org.bouncycastle.asn1.ASN1Primitive;\nimport org.bouncycastle.asn1.pkcs.PrivateKeyInfo;\nimport org.bouncycastle.asn1.x509.SubjectPublicKeyInfo;\nimport org.bouncycastle.util.io.pem.PemObject;\nimport org.bouncycastle.util.io.pem.PemWriter;\n</code></pre>\n<p>The code snippets below have been checked and found working with Bouncy Castle 1.52.</p>\n<h2>Private key</h2>\n<p>Convert private key from PKCS8 to PKCS1:</p>\n<pre><code>PrivateKey priv = pair.getPrivate();\nbyte[] privBytes = priv.getEncoded();\n\nPrivateKeyInfo pkInfo = PrivateKeyInfo.getInstance(privBytes);\nASN1Encodable encodable = pkInfo.parsePrivateKey();\nASN1Primitive primitive = encodable.toASN1Primitive();\nbyte[] privateKeyPKCS1 = primitive.getEncoded();\n</code></pre>\n<p>Convert private key in PKCS1 to PEM:</p>\n<pre><code>PemObject pemObject = new PemObject(&quot;RSA PRIVATE KEY&quot;, privateKeyPKCS1);\nStringWriter stringWriter = new StringWriter();\nPemWriter pemWriter = new PemWriter(stringWriter);\npemWriter.writeObject(pemObject);\npemWriter.close();\nString pemString = stringWriter.toString();\n</code></pre>\n<p>Check with command line OpenSSL that the key format is as expected:</p>\n<pre><code>openssl rsa -in rsa_private_key.pem -noout -text\n</code></pre>\n<h2>Public key</h2>\n<p>Convert public key from X.509 SubjectPublicKeyInfo to PKCS1:</p>\n<pre><code>PublicKey pub = pair.getPublic();\nbyte[] pubBytes = pub.getEncoded();\n\nSubjectPublicKeyInfo spkInfo = SubjectPublicKeyInfo.getInstance(pubBytes);\nASN1Primitive primitive = spkInfo.parsePublicKey();\nbyte[] publicKeyPKCS1 = primitive.getEncoded();\n</code></pre>\n<p>Convert public key in PKCS1 to PEM:</p>\n<pre><code>PemObject pemObject = new PemObject(&quot;RSA PUBLIC KEY&quot;, publicKeyPKCS1);\nStringWriter stringWriter = new StringWriter();\nPemWriter pemWriter = new PemWriter(stringWriter);\npemWriter.writeObject(pemObject);\npemWriter.close();\nString pemString = stringWriter.toString();\n</code></pre>\n<p>Check with command line OpenSSL that the key format is as expected:</p>\n<pre><code>openssl rsa -in rsa_public_key.pem -RSAPublicKey_in -noout -text\n</code></pre>\n<h2>Thanks</h2>\n<p>Many thanks to the authors of the following posts:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/8713518/1016580\">https://stackoverflow.com/a/8713518/1016580</a></li>\n<li><a href=\"https://stackoverflow.com/a/14052651/1016580\">https://stackoverflow.com/a/14052651/1016580</a></li>\n<li><a href=\"https://stackoverflow.com/a/14068057/1016580\">https://stackoverflow.com/a/14068057/1016580</a></li>\n</ul>\n<p>Those posts contained useful, but incomplete and sometimes outdated info (i.e. for older versions of BouncyCastle), that helped me to construct this post.</p>\n"}],"owner":{"account_id":945925,"reputation":399,"user_id":973188,"accept_rate":67,"display_name":"Anthony"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33756,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"answer_count":6,"score":27,"last_activity_date":1639235712,"creation_date":1317390692,"question_id":7611383,"body_markdown":"When I generate an RSA key pair using the Java API, the public key is encoded in the X.509 format and the private key is encoded in the PKCS#8 format.  I&#39;m looking to encode both as PKCS#1.  Is this possible?  I&#39;ve spent a considerable amount of time going through the Java docs but haven&#39;t found a solution.  The result is the same when I use the Java and the Bouncy Castle providers.    \r\n\r\nHere is a snippet of the code:\r\n\r\n    KeyPairGenerator keygen = KeyPairGenerator.getInstance(&quot;RSA&quot;,&quot;BC&quot;);\r\n    keygen.initialize(1024);\r\n    KeyPair pair = keygen.generateKeyPair();\r\n    PrivateKey priv = pair.getPrivate();\r\n    PublicKey pub = pair.getPublic();\r\n    byte[] privBytes = priv.getEncoded();\r\n    byte[] pubBytes = pub.getEncoded();\r\n    \r\nThe two resulting byte arrays are formatted as X.509 (public) and PKCS#8 (private).\r\n\r\n\r\nAny help would be much appreciated.  There are some similar posts but none really answer my question.  \r\n\r\nThank You","title":"Generating RSA keys in PKCS#1 format in Java","body":"<p>When I generate an RSA key pair using the Java API, the public key is encoded in the X.509 format and the private key is encoded in the PKCS#8 format.  I'm looking to encode both as PKCS#1.  Is this possible?  I've spent a considerable amount of time going through the Java docs but haven't found a solution.  The result is the same when I use the Java and the Bouncy Castle providers.    </p>\n\n<p>Here is a snippet of the code:</p>\n\n<pre><code>KeyPairGenerator keygen = KeyPairGenerator.getInstance(\"RSA\",\"BC\");\nkeygen.initialize(1024);\nKeyPair pair = keygen.generateKeyPair();\nPrivateKey priv = pair.getPrivate();\nPublicKey pub = pair.getPublic();\nbyte[] privBytes = priv.getEncoded();\nbyte[] pubBytes = pub.getEncoded();\n</code></pre>\n\n<p>The two resulting byte arrays are formatted as X.509 (public) and PKCS#8 (private).</p>\n\n<p>Any help would be much appreciated.  There are some similar posts but none really answer my question.  </p>\n\n<p>Thank You</p>\n"},{"tags":["java","android","sql","sqlite"],"comments":[{"owner":{"account_id":226925,"reputation":48751,"user_id":488241,"accept_rate":93,"display_name":"Squonk"},"score":0,"creation_date":1344183513,"post_id":11817866,"comment_id":15708715,"body_markdown":"After you modify your &#39;create&#39; string, you will need to do one of two things. Either increment `DATABASE_VERSION` to force  `onUpgrade(...)` to be called or go to Manage Applications and Clear Data to delete the current DB to force `onCreate(...)` to be called again.","body":"After you modify your &#39;create&#39; string, you will need to do one of two things. Either increment <code>DATABASE_VERSION</code> to force  <code>onUpgrade(...)</code> to be called or go to Manage Applications and Clear Data to delete the current DB to force <code>onCreate(...)</code> to be called again."},{"owner":{"account_id":1720830,"reputation":29,"user_id":1576752,"accept_rate":50,"display_name":"user1576752"},"score":0,"creation_date":1344183890,"post_id":11817866,"comment_id":15708787,"body_markdown":"Thanks so much that worked! However I&#39;m getting more errors but at least its a start.","body":"Thanks so much that worked! However I&#39;m getting more errors but at least its a start."},{"owner":{"account_id":1279170,"reputation":699,"user_id":1233702,"display_name":"Taras Feschuk"},"score":0,"creation_date":1344270053,"post_id":11817866,"comment_id":15731618,"body_markdown":"Please, look at my updated answer. It looks like You did not add the SQUAT_LABEL field to the db.query() method&#39;s parameter.","body":"Please, look at my updated answer. It looks like You did not add the SQUAT_LABEL field to the db.query() method&#39;s parameter."}],"answers":[{"tags":[],"owner":{"account_id":1525734,"reputation":4411,"user_id":1424229,"display_name":"Rob Wagner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1344182973,"creation_date":1344182973,"answer_id":11817935,"question_id":11817866,"body_markdown":"Look at your create statement:\r\n\r\n    private static final String DATABASE_CREATE =\r\n            &quot;create table notes (_id integer primary key autoincrement , &quot;\r\n            + &quot;title text,&quot; +\r\n            &quot; squatLabel text );&quot;;\r\n\r\nYou don&#39;t have `workoutState` included. Simply add the column into the create statement.","title":"Android sqlite database error SQLiteException no such column","body":"<p>Look at your create statement:</p>\n\n<pre><code>private static final String DATABASE_CREATE =\n        \"create table notes (_id integer primary key autoincrement , \"\n        + \"title text,\" +\n        \" squatLabel text );\";\n</code></pre>\n\n<p>You don't have <code>workoutState</code> included. Simply add the column into the create statement.</p>\n"},{"tags":[],"owner":{"account_id":1279170,"reputation":699,"user_id":1233702,"display_name":"Taras Feschuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1344199356,"creation_date":1344187185,"answer_id":11818467,"question_id":11817866,"body_markdown":"It seams that your updated Create DB statement is correct.\r\n\r\nAs regards to the next error: it seams that You never close your database and cursor.\r\nI usually use the next template when work with DB:\r\n\r\n    openReadableDatabase(); // or openWritableDatabase();\r\n    \r\n    // do some work with DB\r\n\r\n    closeDatabase();\r\n\r\nAforementioned methods may look like:\r\n\r\n    private void closeDatabase() {\r\n        if (_db != null &amp;&amp; _db.isOpen()) {\r\n            _db.close();\r\n        }\r\n    }\r\n\r\n    private void openReadableDatabase() {\r\n        _db = getReadableDatabase();\r\n    }\r\n\t\r\n    private void openWritableDatabase() {\r\n        _db = getWritableDatabase();\r\n    }\r\n\r\nThe same You can apply to the cursor object:\r\n\r\n    Cursor cursor = _db.query(TABLE_NAME, FROM, null, null, null, null, null);\r\n\r\n    // do some work with cursor\r\n\r\n    cursor.close();\r\n\r\nFROM is a array of column names. Notice: the comma after the last column name is not a typo.\r\n\r\n    private static final String[] FROM = { COLUMN1_NAME, COLUMN2_NAME, };\r\n\r\n&lt;b&gt;Updated:&lt;/b&gt;&lt;br/&gt;\r\nYou should add a SquatLabel column to the data retrieving parameter in the db.query() method (and the same for the fetchNote method):\r\n\r\n    public Cursor fetchAllNotes() {\r\n        return mDb.query(DATABASE_TABLE, new String[] {KEY_ROWID, KEY_TITLE,\r\n            SQUAT_LABEL, WORKOUT_STATE}, null, null, null, null, null);\r\n    }","title":"Android sqlite database error SQLiteException no such column","body":"<p>It seams that your updated Create DB statement is correct.</p>\n\n<p>As regards to the next error: it seams that You never close your database and cursor.\nI usually use the next template when work with DB:</p>\n\n<pre><code>openReadableDatabase(); // or openWritableDatabase();\n\n// do some work with DB\n\ncloseDatabase();\n</code></pre>\n\n<p>Aforementioned methods may look like:</p>\n\n<pre><code>private void closeDatabase() {\n    if (_db != null &amp;&amp; _db.isOpen()) {\n        _db.close();\n    }\n}\n\nprivate void openReadableDatabase() {\n    _db = getReadableDatabase();\n}\n\nprivate void openWritableDatabase() {\n    _db = getWritableDatabase();\n}\n</code></pre>\n\n<p>The same You can apply to the cursor object:</p>\n\n<pre><code>Cursor cursor = _db.query(TABLE_NAME, FROM, null, null, null, null, null);\n\n// do some work with cursor\n\ncursor.close();\n</code></pre>\n\n<p>FROM is a array of column names. Notice: the comma after the last column name is not a typo.</p>\n\n<pre><code>private static final String[] FROM = { COLUMN1_NAME, COLUMN2_NAME, };\n</code></pre>\n\n<p><b>Updated:</b><br/>\nYou should add a SquatLabel column to the data retrieving parameter in the db.query() method (and the same for the fetchNote method):</p>\n\n<pre><code>public Cursor fetchAllNotes() {\n    return mDb.query(DATABASE_TABLE, new String[] {KEY_ROWID, KEY_TITLE,\n        SQUAT_LABEL, WORKOUT_STATE}, null, null, null, null, null);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1116098,"reputation":16308,"user_id":1105376,"accept_rate":90,"display_name":"Barak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1344188248,"creation_date":1344188248,"answer_id":11818583,"question_id":11817866,"body_markdown":"As others have said, you don&#39;t have that column defined in your DB.\r\n\r\nWhat they&#39;ve neglected to tell you is that you must do one of two things **after** you add the column to your db schema in the app.\r\n\r\n1) Delete and re-install your app, so the new schema for the DB gets used when the DB is created\r\n\r\nor \r\n\r\n2) Increment the version of your database so that the onUpgrade method gets called and updates your DB to the new schema ","title":"Android sqlite database error SQLiteException no such column","body":"<p>As others have said, you don't have that column defined in your DB.</p>\n\n<p>What they've neglected to tell you is that you must do one of two things <strong>after</strong> you add the column to your db schema in the app.</p>\n\n<p>1) Delete and re-install your app, so the new schema for the DB gets used when the DB is created</p>\n\n<p>or </p>\n\n<p>2) Increment the version of your database so that the onUpgrade method gets called and updates your DB to the new schema </p>\n"},{"tags":[],"owner":{"account_id":19308521,"reputation":75,"user_id":14114819,"display_name":"Atheer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639235673,"creation_date":1639235325,"answer_id":70316298,"question_id":11817866,"body_markdown":"If anyone is still facing the same error, if you&#39;re querying a string make sure you add quotations. \r\n\r\nExample, I had in error when I wrote like this:\r\n\r\n            Cursor cursor = this.database.query(\r\n                SQLiteHelper.TABLE_NAME,\r\n                new String[]{ID, FNAME},\r\n                &quot;fname&quot;+&quot; = &quot;+name,   ......\r\n\r\nI solved it by: \r\n\r\n            Cursor cursor = this.database.query(\r\n                SQLiteHelper.TABLE_NAME,\r\n                new String[]{ID, FNAME},\r\n                &quot;fname&quot;+&quot; = &quot;+&quot;&#39;&quot;+name+&quot;&#39;&quot;, .....","title":"Android sqlite database error SQLiteException no such column","body":"<p>If anyone is still facing the same error, if you're querying a string make sure you add quotations.</p>\n<p>Example, I had in error when I wrote like this:</p>\n<pre><code>        Cursor cursor = this.database.query(\n            SQLiteHelper.TABLE_NAME,\n            new String[]{ID, FNAME},\n            &quot;fname&quot;+&quot; = &quot;+name,   ......\n</code></pre>\n<p>I solved it by:</p>\n<pre><code>        Cursor cursor = this.database.query(\n            SQLiteHelper.TABLE_NAME,\n            new String[]{ID, FNAME},\n            &quot;fname&quot;+&quot; = &quot;+&quot;'&quot;+name+&quot;'&quot;, .....\n</code></pre>\n"}],"owner":{"account_id":1720830,"reputation":29,"user_id":1576752,"accept_rate":50,"display_name":"user1576752"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11687,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":11818467,"answer_count":4,"score":1,"last_activity_date":1639235673,"creation_date":1344182343,"question_id":11817866,"body_markdown":"When opening my activity where my database is being created, it immediately crashes with the error SQLiteException: no such column. I&#39;m stumped on what to do as SQLite is still very much a mystery to me.\r\n\r\n****New error, this time I can create the workout note, but once I click to edit it, I get another no such column exists, this time squatLabel. But it does exist....****\r\n\r\nEdit: The only error I am getting at this point is the no such column exists: squatLabel\r\n\r\n    import android.app.ListActivity;\r\n    import android.content.Intent;\r\n    import android.database.Cursor;\r\n    import android.os.Bundle;\r\n    import android.view.ContextMenu;\r\n    import android.view.Menu;\r\n    import android.view.MenuItem;\r\n    import android.view.View;\r\n    import android.view.ContextMenu.ContextMenuInfo;\r\n    import android.widget.ListView;\r\n    import android.widget.SimpleCursorAdapter;\r\n    import android.widget.AdapterView.AdapterContextMenuInfo;\r\n    \r\n    public class WorkoutList extends ListActivity {\r\n        private static final int ACTIVITY_CREATE=0;\r\n        private static final int ACTIVITY_EDIT=1;\r\n    \r\n        private static final int INSERT_ID = Menu.FIRST;\r\n        private static final int DELETE_ID = Menu.FIRST + 1;\r\n    \r\n        private StrongDbAdapter mDbHelper;\r\n        \r\n    \r\n        /** Called when the 5x5 button is pressed in first activity */\r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.workout_list);\r\n            mDbHelper = new StrongDbAdapter(this);\r\n            mDbHelper.open();\r\n            fillData();\r\n            registerForContextMenu(getListView());\r\n        }\r\n    \r\n        private void fillData() {\r\n            Cursor NotesCursor = mDbHelper.fetchAllNotes();\r\n        \t\r\n        \t// Get all of the rows from the database and create the item list\r\n            NotesCursor = mDbHelper.fetchAllNotes();\r\n            startManagingCursor(NotesCursor);\r\n    \r\n            // Create an array to specify the fields we want to display in the list (only TITLE)\r\n            String[] from = new String[]{StrongDbAdapter.KEY_TITLE,};\r\n    \r\n            // and an array of the fields we want to bind those fields to (in this case just text1)\r\n            int[] to = new int[]{R.id.workout_row };\r\n    \r\n            // Now create a simple cursor adapter and set it to display\r\n            SimpleCursorAdapter notes = \r\n                new SimpleCursorAdapter(this, R.layout.workout_row, NotesCursor, from, to);\r\n            setListAdapter(notes);\r\n        }\r\n    \r\n        @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            super.onCreateOptionsMenu(menu);\r\n            menu.add(0, INSERT_ID, 0, R.string.menu_insert);\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean onMenuItemSelected(int featureId, MenuItem item) {\r\n            switch(item.getItemId()) {\r\n                case INSERT_ID:\r\n                    createNote();\r\n                    return true;\r\n            }\r\n    \r\n            return super.onMenuItemSelected(featureId, item);\r\n        }\r\n    \r\n        @Override\r\n        public void onCreateContextMenu(ContextMenu menu, View v,\r\n                ContextMenuInfo menuInfo) {\r\n            super.onCreateContextMenu(menu, v, menuInfo);\r\n            menu.add(0, DELETE_ID, 0, R.string.menu_delete);\r\n        }\r\n    \r\n        @Override\r\n        public boolean onContextItemSelected(MenuItem item) {\r\n            switch(item.getItemId()) {\r\n                case DELETE_ID:\r\n                    AdapterContextMenuInfo info = (AdapterContextMenuInfo) item.getMenuInfo();\r\n                    mDbHelper.deleteNote(info.id);\r\n                    fillData();\r\n                    return true;\r\n            }\r\n            return super.onContextItemSelected(item);\r\n        }\r\n    \r\n        private void createNote() {\r\n            Intent i = new Intent(this, WorkoutEdit.class);\r\n            startActivityForResult(i, ACTIVITY_CREATE);\r\n        }\r\n    \r\n        @Override\r\n        protected void onListItemClick(ListView l, View v, int position, long id) {\r\n            super.onListItemClick(l, v, position, id);\r\n            \r\n            Intent i = new Intent(this, WorkoutEdit.class);\r\n            i.putExtra(StrongDbAdapter.KEY_ROWID, id);\r\n            \r\n            startActivityForResult(i, ACTIVITY_EDIT);\r\n        }\r\n    \r\n        @Override\r\n        protected void onActivityResult(int requestCode, int resultCode, Intent intent) {\r\n            super.onActivityResult(requestCode, resultCode, intent);\r\n            fillData();\r\n        }\r\n    }\r\n\r\nHere is some of my WorkoutEdit class where problems seem to be happening.\r\n\r\n\r\n    import android.app.Activity;\r\n    import android.app.AlertDialog;\r\n    import android.content.Context;\r\n    import android.content.DialogInterface;\r\n    import android.database.Cursor;\r\n    import android.os.Bundle;\r\n    import android.text.InputType;\r\n    import android.view.View;\r\n    import android.view.WindowManager;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.RadioGroup;\r\n    import android.widget.RadioGroup.OnCheckedChangeListener;\r\n    import android.widget.TextView;\r\n    import android.widget.ViewFlipper;\r\n    \r\n    public class WorkoutEdit extends Activity {\r\n    \r\n        public TextView mTitleText;\r\n        //private EditText mBodyText;\r\n        private Long mRowId;\r\n        private StrongDbAdapter mDbHelper;\r\n        private ViewFlipper viewFlipper;\r\n        public TextView squats;\r\n        public boolean workoutA;\r\n        public String workoutState;\r\n        //private double rowId = mRowId;\r\n        public String squatLabel;\r\n        public Button confirmButton;\r\n        private Long prevId ;\r\n        \r\n        \r\n    \r\n    \r\n        \r\n        private void populateFields() {\r\n            if (mRowId != null) {\r\n                Cursor note = mDbHelper.fetchNote(mRowId);\r\n                startManagingCursor(note);\r\n                //mTitleText.setText(note.getString(\r\n        \t            //note.getColumnIndexOrThrow(StrongDbAdapter.KEY_TITLE)));\r\n                workoutState=(note.getString(\r\n                        note.getColumnIndexOrThrow(StrongDbAdapter.KEY_TITLE)));\r\n                squats.setText(note.getString(note.getColumnIndexOrThrow(StrongDbAdapter.SQUAT_LABEL)));\r\n            }\r\n        }\r\n        \r\n        \r\n        \r\n        @Override\r\n        protected void onSaveInstanceState(Bundle outState) {\r\n            super.onSaveInstanceState(outState);\r\n            saveState();\r\n            outState.putSerializable(StrongDbAdapter.KEY_ROWID, mRowId);\r\n        }\r\n        \r\n        @Override\r\n        protected void onPause() {\r\n            super.onPause();\r\n            saveState();\r\n        }\r\n        \r\n        @Override\r\n        protected void onResume() {\r\n            super.onResume();\r\n            populateFields();\r\n        }\r\n        \r\n        \r\n        \r\n        //Saves all the data to the database\r\n        private void saveState() {\r\n            String title = workoutState;\r\n            String squatLabel = squats.getText().toString();\r\n            \r\n    \r\n            if (mRowId == null) {\r\n                long id = mDbHelper.createNote(title, squatLabel);\r\n                if (id &gt; 0) {\r\n                    mRowId = id;\r\n                }\r\n            } else {\r\n                mDbHelper.updateNote(mRowId, title);\r\n            }\r\n        }    \t\r\n    \r\n        }\r\n        @Override\r\n        protected void onDestroy() {\r\n            super.onDestroy();\r\n            if (mDbHelper != null) {\r\n                mDbHelper.close();\r\n            }\r\n            \r\n        }\r\n        \r\n        \r\n        \r\n    }\r\n\r\n\r\n\r\nAnd here is my DbAdapter\r\n\r\n\r\n****Updated Create Statement****\r\n\r\n    import android.content.ContentValues;\r\n    import android.content.Context;\r\n    import android.database.Cursor;\r\n    import android.database.SQLException;\r\n    import android.database.sqlite.SQLiteDatabase;\r\n    import android.database.sqlite.SQLiteOpenHelper;\r\n    import android.util.Log;\r\n    \r\n    \r\n    public class StrongDbAdapter {\r\n    \r\n        public static final String KEY_TITLE = &quot;title&quot;;\r\n        public static final String KEY_BODY = &quot;body&quot;;\r\n        public static final String KEY_ROWID = &quot;_id&quot;;\r\n        \r\n        \r\n        public static final String WORKOUT_STATE = &quot;workoutState&quot;;\r\n        \r\n        public static final String SQUAT_LABEL = &quot;squatLabel&quot;;\r\n    \r\n        private static final String TAG = &quot;StrongDbAdapter&quot;;\r\n        private DatabaseHelper mDbHelper;\r\n        private SQLiteDatabase mDb;\r\n        \r\n        \r\n        private static final String DATABASE_NAME = &quot;data&quot;;\r\n        private static final String DATABASE_TABLE = &quot;notes&quot;;\r\n        private static final int DATABASE_VERSION = 2;\r\n        \r\n        \r\n    \r\n        /**\r\n         * Database creation sql statement\r\n         */\r\n        private static final String DATABASE_CREATE =\r\n            &quot;create table notes (_id integer primary key autoincrement , &quot;\r\n            + &quot;title text,&quot; +\r\n            &quot; squatLabel text, workoutState text );&quot;;\r\n        \r\n    \r\n        private final Context mCtx;\r\n    \r\n        private static class DatabaseHelper extends SQLiteOpenHelper {\r\n    \r\n            DatabaseHelper(Context context) {\r\n                super(context, DATABASE_NAME, null, DATABASE_VERSION);\r\n            }\r\n    \r\n            @Override\r\n            public void onCreate(SQLiteDatabase db) {\r\n    \r\n                db.execSQL(DATABASE_CREATE);\r\n            }\r\n    \r\n            @Override\r\n            public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n                Log.w(TAG, &quot;Upgrading database from version &quot; + oldVersion + &quot; to &quot;\r\n                        + newVersion + &quot;, which will destroy all old data&quot;);\r\n                db.execSQL(&quot;DROP TABLE IF EXISTS notes&quot;);\r\n                onCreate(db);\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Constructor - takes the context to allow the database to be\r\n         * opened/created\r\n         * \r\n         * @param ctx the Context within which to work\r\n         */\r\n        public StrongDbAdapter(Context ctx) {\r\n            this.mCtx = ctx;\r\n        }\r\n    \r\n        /**\r\n         * Open the notes database. If it cannot be opened, try to create a new\r\n         * instance of the database. If it cannot be created, throw an exception to\r\n         * signal the failure\r\n         * \r\n         * @return this (self reference, allowing this to be chained in an\r\n         *         initialization call)\r\n         * @throws SQLException if the database could be neither opened or created\r\n         */\r\n        public StrongDbAdapter open() throws SQLException {\r\n            mDbHelper = new DatabaseHelper(mCtx);\r\n            mDb = mDbHelper.getWritableDatabase();\r\n            return this;\r\n        }\r\n    \r\n        public void close() {\r\n            mDbHelper.close();\r\n        }\r\n    \r\n    \r\n        \r\n        public long createNote(String title, String squatLabel) {\r\n        \t\r\n        \t\r\n        \tContentValues initialValues = new ContentValues();\r\n            initialValues.put(KEY_TITLE, title);\r\n            //initialValues.put(WORKOUT_STATE, workoutState);\r\n            initialValues.put(SQUAT_LABEL, squatLabel);\r\n    \r\n            return mDb.insert(DATABASE_TABLE, null, initialValues);\r\n        }\r\n    \r\n        /**\r\n         * Delete the note with the given rowId\r\n         * \r\n         * @param rowId id of note to delete\r\n         * @return true if deleted, false otherwise\r\n         */\r\n        public boolean deleteNote(long rowId) {\r\n    \r\n            return mDb.delete(DATABASE_TABLE, KEY_ROWID + &quot;=&quot; + rowId, null) &gt; 0;\r\n        }\r\n    \r\n        /**\r\n         * Return a Cursor over the list of all notes in the database\r\n         * \r\n         * @return Cursor over all notes\r\n         */\r\n        public Cursor fetchAllNotes() {\r\n    \r\n            return mDb.query(DATABASE_TABLE, new String[] {KEY_ROWID, KEY_TITLE,\r\n                    WORKOUT_STATE}, null, null, null, null, null);\r\n        }\r\n    \r\n        /**\r\n         * Return a Cursor positioned at the note that matches the given rowId\r\n         * \r\n         * @param rowId id of note to retrieve\r\n         * @return Cursor positioned to matching note, if found\r\n         * @throws SQLException if note could not be found/retrieved\r\n         */\r\n        public Cursor fetchNote(long rowId) throws SQLException {\r\n    \r\n            Cursor mCursor =\r\n    \r\n                mDb.query(true, DATABASE_TABLE, new String[] {KEY_ROWID,\r\n                        KEY_TITLE, WORKOUT_STATE}, KEY_ROWID + &quot;=&#39;&quot; + rowId+&quot;&#39;&quot;, null,\r\n                        null, null, null, null);\r\n            if (mCursor != null) {\r\n                mCursor.moveToFirst();\r\n            }\r\n            return mCursor;\r\n    \r\n        }\r\n    \r\n        /**\r\n         * Update the note using the details provided. The note to be updated is\r\n         * specified using the rowId, and it is altered to use the title and body\r\n         * values passed in\r\n         * @return true if the note was successfully updated, false otherwise\r\n         */\r\n        public boolean updateNote(long rowId, String title) {\r\n            ContentValues args = new ContentValues();\r\n            args.put(KEY_TITLE, title);\r\n            //args.put(WORKOUT_STATE, workoutState);\r\n    \r\n            return mDb.update(DATABASE_TABLE, args, KEY_ROWID + &quot;=&quot; + rowId, null) &gt; 0;\r\n        }\r\n    }\r\n\r\nAnd finally my LogCat:\r\n\r\n****With new create statement, this time no such column squatLabel.****\r\n\r\n    08-05 18:57:05.336: E/AndroidRuntime(1131): FATAL EXCEPTION: main\r\n    08-05 18:57:05.336: E/AndroidRuntime(1131): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.anapoleon.android.stronglifts/com.anapoleon.android.stronglifts.WorkoutEdit}: java.lang.IllegalArgumentException: column &#39;squatLabel&#39; does not exist\r\n    08-05 18:57:05.336: E/AndroidRuntime(1131): \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1955)\r\n    08-05 18:57:05.336: E/AndroidRuntime(1131): \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1980)\r\n    08-05 18:57:05.336: E/AndroidRuntime(1131): \tat android.app.ActivityThread.access$600(ActivityThread.java:122)\r\n    08-05 18:57:05.336: E/AndroidRuntime(1131): \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1146)\r\n    08-05 18:57:05.336: E/AndroidRuntime(1131): \tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n    08-05 18:57:05.336: E/AndroidRuntime(1131): \tat android.os.Looper.loop(Looper.java:137)\r\n    08-05 18:57:05.336: E/AndroidRuntime(1131): \tat android.app.ActivityThread.main(ActivityThread.java:4340)\r\n    08-05 18:57:05.336: E/AndroidRuntime(1131): \tat java.lang.reflect.Method.invokeNative(Native Method)\r\n    08-05 18:57:05.336: E/AndroidRuntime(1131): \tat java.lang.reflect.Method.invoke(Method.java:511)\r\n    08-05 18:57:05.336: E/AndroidRuntime(1131): \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)\r\n    08-05 18:57:05.336: E/AndroidRuntime(1131): \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)\r\n    08-05 18:57:05.336: E/AndroidRuntime(1131): \tat dalvik.system.NativeStart.main(Native Method)\r\n    08-05 18:57:05.336: E/AndroidRuntime(1131): Caused by: java.lang.IllegalArgumentException: column &#39;squatLabel&#39; does not exist\r\n    08-05 18:57:05.336: E/AndroidRuntime(1131): \tat android.database.AbstractCursor.getColumnIndexOrThrow(AbstractCursor.java:301)\r\n    08-05 18:57:05.336: E/AndroidRuntime(1131): \tat com.anapoleon.android.stronglifts.WorkoutEdit.populateFields(WorkoutEdit.java:199)\r\n    08-05 18:57:05.336: E/AndroidRuntime(1131): \tat com.anapoleon.android.stronglifts.WorkoutEdit.onCreate(WorkoutEdit.java:82)\r\n    08-05 18:57:05.336: E/AndroidRuntime(1131): \tat android.app.Activity.performCreate(Activity.java:4465)\r\n    08-05 18:57:05.336: E/AndroidRuntime(1131): \tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1049)\r\n    08-05 18:57:05.336: E/AndroidRuntime(1131): \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1919)\r\n    08-05 18:57:05.336: E/AndroidRuntime(1131): \t... 11 more\r\n\r\n\r\n\r\nThanks in advance! :)","title":"Android sqlite database error SQLiteException no such column","body":"<p>When opening my activity where my database is being created, it immediately crashes with the error SQLiteException: no such column. I'm stumped on what to do as SQLite is still very much a mystery to me.</p>\n\n<p>*<strong><em>New error, this time I can create the workout note, but once I click to edit it, I get another no such column exists, this time squatLabel. But it does exist....</em>*</strong></p>\n\n<p>Edit: The only error I am getting at this point is the no such column exists: squatLabel</p>\n\n<pre><code>import android.app.ListActivity;\nimport android.content.Intent;\nimport android.database.Cursor;\nimport android.os.Bundle;\nimport android.view.ContextMenu;\nimport android.view.Menu;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.view.ContextMenu.ContextMenuInfo;\nimport android.widget.ListView;\nimport android.widget.SimpleCursorAdapter;\nimport android.widget.AdapterView.AdapterContextMenuInfo;\n\npublic class WorkoutList extends ListActivity {\n    private static final int ACTIVITY_CREATE=0;\n    private static final int ACTIVITY_EDIT=1;\n\n    private static final int INSERT_ID = Menu.FIRST;\n    private static final int DELETE_ID = Menu.FIRST + 1;\n\n    private StrongDbAdapter mDbHelper;\n\n\n    /** Called when the 5x5 button is pressed in first activity */\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.workout_list);\n        mDbHelper = new StrongDbAdapter(this);\n        mDbHelper.open();\n        fillData();\n        registerForContextMenu(getListView());\n    }\n\n    private void fillData() {\n        Cursor NotesCursor = mDbHelper.fetchAllNotes();\n\n        // Get all of the rows from the database and create the item list\n        NotesCursor = mDbHelper.fetchAllNotes();\n        startManagingCursor(NotesCursor);\n\n        // Create an array to specify the fields we want to display in the list (only TITLE)\n        String[] from = new String[]{StrongDbAdapter.KEY_TITLE,};\n\n        // and an array of the fields we want to bind those fields to (in this case just text1)\n        int[] to = new int[]{R.id.workout_row };\n\n        // Now create a simple cursor adapter and set it to display\n        SimpleCursorAdapter notes = \n            new SimpleCursorAdapter(this, R.layout.workout_row, NotesCursor, from, to);\n        setListAdapter(notes);\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        super.onCreateOptionsMenu(menu);\n        menu.add(0, INSERT_ID, 0, R.string.menu_insert);\n        return true;\n    }\n\n    @Override\n    public boolean onMenuItemSelected(int featureId, MenuItem item) {\n        switch(item.getItemId()) {\n            case INSERT_ID:\n                createNote();\n                return true;\n        }\n\n        return super.onMenuItemSelected(featureId, item);\n    }\n\n    @Override\n    public void onCreateContextMenu(ContextMenu menu, View v,\n            ContextMenuInfo menuInfo) {\n        super.onCreateContextMenu(menu, v, menuInfo);\n        menu.add(0, DELETE_ID, 0, R.string.menu_delete);\n    }\n\n    @Override\n    public boolean onContextItemSelected(MenuItem item) {\n        switch(item.getItemId()) {\n            case DELETE_ID:\n                AdapterContextMenuInfo info = (AdapterContextMenuInfo) item.getMenuInfo();\n                mDbHelper.deleteNote(info.id);\n                fillData();\n                return true;\n        }\n        return super.onContextItemSelected(item);\n    }\n\n    private void createNote() {\n        Intent i = new Intent(this, WorkoutEdit.class);\n        startActivityForResult(i, ACTIVITY_CREATE);\n    }\n\n    @Override\n    protected void onListItemClick(ListView l, View v, int position, long id) {\n        super.onListItemClick(l, v, position, id);\n\n        Intent i = new Intent(this, WorkoutEdit.class);\n        i.putExtra(StrongDbAdapter.KEY_ROWID, id);\n\n        startActivityForResult(i, ACTIVITY_EDIT);\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent intent) {\n        super.onActivityResult(requestCode, resultCode, intent);\n        fillData();\n    }\n}\n</code></pre>\n\n<p>Here is some of my WorkoutEdit class where problems seem to be happening.</p>\n\n<pre><code>import android.app.Activity;\nimport android.app.AlertDialog;\nimport android.content.Context;\nimport android.content.DialogInterface;\nimport android.database.Cursor;\nimport android.os.Bundle;\nimport android.text.InputType;\nimport android.view.View;\nimport android.view.WindowManager;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.RadioGroup;\nimport android.widget.RadioGroup.OnCheckedChangeListener;\nimport android.widget.TextView;\nimport android.widget.ViewFlipper;\n\npublic class WorkoutEdit extends Activity {\n\n    public TextView mTitleText;\n    //private EditText mBodyText;\n    private Long mRowId;\n    private StrongDbAdapter mDbHelper;\n    private ViewFlipper viewFlipper;\n    public TextView squats;\n    public boolean workoutA;\n    public String workoutState;\n    //private double rowId = mRowId;\n    public String squatLabel;\n    public Button confirmButton;\n    private Long prevId ;\n\n\n\n\n\n    private void populateFields() {\n        if (mRowId != null) {\n            Cursor note = mDbHelper.fetchNote(mRowId);\n            startManagingCursor(note);\n            //mTitleText.setText(note.getString(\n                    //note.getColumnIndexOrThrow(StrongDbAdapter.KEY_TITLE)));\n            workoutState=(note.getString(\n                    note.getColumnIndexOrThrow(StrongDbAdapter.KEY_TITLE)));\n            squats.setText(note.getString(note.getColumnIndexOrThrow(StrongDbAdapter.SQUAT_LABEL)));\n        }\n    }\n\n\n\n    @Override\n    protected void onSaveInstanceState(Bundle outState) {\n        super.onSaveInstanceState(outState);\n        saveState();\n        outState.putSerializable(StrongDbAdapter.KEY_ROWID, mRowId);\n    }\n\n    @Override\n    protected void onPause() {\n        super.onPause();\n        saveState();\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n        populateFields();\n    }\n\n\n\n    //Saves all the data to the database\n    private void saveState() {\n        String title = workoutState;\n        String squatLabel = squats.getText().toString();\n\n\n        if (mRowId == null) {\n            long id = mDbHelper.createNote(title, squatLabel);\n            if (id &gt; 0) {\n                mRowId = id;\n            }\n        } else {\n            mDbHelper.updateNote(mRowId, title);\n        }\n    }       \n\n    }\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        if (mDbHelper != null) {\n            mDbHelper.close();\n        }\n\n    }\n\n\n\n}\n</code></pre>\n\n<p>And here is my DbAdapter</p>\n\n<p>*<strong><em>Updated Create Statement</em>*</strong></p>\n\n<pre><code>import android.content.ContentValues;\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.database.SQLException;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteOpenHelper;\nimport android.util.Log;\n\n\npublic class StrongDbAdapter {\n\n    public static final String KEY_TITLE = \"title\";\n    public static final String KEY_BODY = \"body\";\n    public static final String KEY_ROWID = \"_id\";\n\n\n    public static final String WORKOUT_STATE = \"workoutState\";\n\n    public static final String SQUAT_LABEL = \"squatLabel\";\n\n    private static final String TAG = \"StrongDbAdapter\";\n    private DatabaseHelper mDbHelper;\n    private SQLiteDatabase mDb;\n\n\n    private static final String DATABASE_NAME = \"data\";\n    private static final String DATABASE_TABLE = \"notes\";\n    private static final int DATABASE_VERSION = 2;\n\n\n\n    /**\n     * Database creation sql statement\n     */\n    private static final String DATABASE_CREATE =\n        \"create table notes (_id integer primary key autoincrement , \"\n        + \"title text,\" +\n        \" squatLabel text, workoutState text );\";\n\n\n    private final Context mCtx;\n\n    private static class DatabaseHelper extends SQLiteOpenHelper {\n\n        DatabaseHelper(Context context) {\n            super(context, DATABASE_NAME, null, DATABASE_VERSION);\n        }\n\n        @Override\n        public void onCreate(SQLiteDatabase db) {\n\n            db.execSQL(DATABASE_CREATE);\n        }\n\n        @Override\n        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n            Log.w(TAG, \"Upgrading database from version \" + oldVersion + \" to \"\n                    + newVersion + \", which will destroy all old data\");\n            db.execSQL(\"DROP TABLE IF EXISTS notes\");\n            onCreate(db);\n        }\n    }\n\n    /**\n     * Constructor - takes the context to allow the database to be\n     * opened/created\n     * \n     * @param ctx the Context within which to work\n     */\n    public StrongDbAdapter(Context ctx) {\n        this.mCtx = ctx;\n    }\n\n    /**\n     * Open the notes database. If it cannot be opened, try to create a new\n     * instance of the database. If it cannot be created, throw an exception to\n     * signal the failure\n     * \n     * @return this (self reference, allowing this to be chained in an\n     *         initialization call)\n     * @throws SQLException if the database could be neither opened or created\n     */\n    public StrongDbAdapter open() throws SQLException {\n        mDbHelper = new DatabaseHelper(mCtx);\n        mDb = mDbHelper.getWritableDatabase();\n        return this;\n    }\n\n    public void close() {\n        mDbHelper.close();\n    }\n\n\n\n    public long createNote(String title, String squatLabel) {\n\n\n        ContentValues initialValues = new ContentValues();\n        initialValues.put(KEY_TITLE, title);\n        //initialValues.put(WORKOUT_STATE, workoutState);\n        initialValues.put(SQUAT_LABEL, squatLabel);\n\n        return mDb.insert(DATABASE_TABLE, null, initialValues);\n    }\n\n    /**\n     * Delete the note with the given rowId\n     * \n     * @param rowId id of note to delete\n     * @return true if deleted, false otherwise\n     */\n    public boolean deleteNote(long rowId) {\n\n        return mDb.delete(DATABASE_TABLE, KEY_ROWID + \"=\" + rowId, null) &gt; 0;\n    }\n\n    /**\n     * Return a Cursor over the list of all notes in the database\n     * \n     * @return Cursor over all notes\n     */\n    public Cursor fetchAllNotes() {\n\n        return mDb.query(DATABASE_TABLE, new String[] {KEY_ROWID, KEY_TITLE,\n                WORKOUT_STATE}, null, null, null, null, null);\n    }\n\n    /**\n     * Return a Cursor positioned at the note that matches the given rowId\n     * \n     * @param rowId id of note to retrieve\n     * @return Cursor positioned to matching note, if found\n     * @throws SQLException if note could not be found/retrieved\n     */\n    public Cursor fetchNote(long rowId) throws SQLException {\n\n        Cursor mCursor =\n\n            mDb.query(true, DATABASE_TABLE, new String[] {KEY_ROWID,\n                    KEY_TITLE, WORKOUT_STATE}, KEY_ROWID + \"='\" + rowId+\"'\", null,\n                    null, null, null, null);\n        if (mCursor != null) {\n            mCursor.moveToFirst();\n        }\n        return mCursor;\n\n    }\n\n    /**\n     * Update the note using the details provided. The note to be updated is\n     * specified using the rowId, and it is altered to use the title and body\n     * values passed in\n     * @return true if the note was successfully updated, false otherwise\n     */\n    public boolean updateNote(long rowId, String title) {\n        ContentValues args = new ContentValues();\n        args.put(KEY_TITLE, title);\n        //args.put(WORKOUT_STATE, workoutState);\n\n        return mDb.update(DATABASE_TABLE, args, KEY_ROWID + \"=\" + rowId, null) &gt; 0;\n    }\n}\n</code></pre>\n\n<p>And finally my LogCat:</p>\n\n<p>*<strong><em>With new create statement, this time no such column squatLabel.</em>*</strong></p>\n\n<pre><code>08-05 18:57:05.336: E/AndroidRuntime(1131): FATAL EXCEPTION: main\n08-05 18:57:05.336: E/AndroidRuntime(1131): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.anapoleon.android.stronglifts/com.anapoleon.android.stronglifts.WorkoutEdit}: java.lang.IllegalArgumentException: column 'squatLabel' does not exist\n08-05 18:57:05.336: E/AndroidRuntime(1131):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1955)\n08-05 18:57:05.336: E/AndroidRuntime(1131):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1980)\n08-05 18:57:05.336: E/AndroidRuntime(1131):     at android.app.ActivityThread.access$600(ActivityThread.java:122)\n08-05 18:57:05.336: E/AndroidRuntime(1131):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1146)\n08-05 18:57:05.336: E/AndroidRuntime(1131):     at android.os.Handler.dispatchMessage(Handler.java:99)\n08-05 18:57:05.336: E/AndroidRuntime(1131):     at android.os.Looper.loop(Looper.java:137)\n08-05 18:57:05.336: E/AndroidRuntime(1131):     at android.app.ActivityThread.main(ActivityThread.java:4340)\n08-05 18:57:05.336: E/AndroidRuntime(1131):     at java.lang.reflect.Method.invokeNative(Native Method)\n08-05 18:57:05.336: E/AndroidRuntime(1131):     at java.lang.reflect.Method.invoke(Method.java:511)\n08-05 18:57:05.336: E/AndroidRuntime(1131):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)\n08-05 18:57:05.336: E/AndroidRuntime(1131):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)\n08-05 18:57:05.336: E/AndroidRuntime(1131):     at dalvik.system.NativeStart.main(Native Method)\n08-05 18:57:05.336: E/AndroidRuntime(1131): Caused by: java.lang.IllegalArgumentException: column 'squatLabel' does not exist\n08-05 18:57:05.336: E/AndroidRuntime(1131):     at android.database.AbstractCursor.getColumnIndexOrThrow(AbstractCursor.java:301)\n08-05 18:57:05.336: E/AndroidRuntime(1131):     at com.anapoleon.android.stronglifts.WorkoutEdit.populateFields(WorkoutEdit.java:199)\n08-05 18:57:05.336: E/AndroidRuntime(1131):     at com.anapoleon.android.stronglifts.WorkoutEdit.onCreate(WorkoutEdit.java:82)\n08-05 18:57:05.336: E/AndroidRuntime(1131):     at android.app.Activity.performCreate(Activity.java:4465)\n08-05 18:57:05.336: E/AndroidRuntime(1131):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1049)\n08-05 18:57:05.336: E/AndroidRuntime(1131):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1919)\n08-05 18:57:05.336: E/AndroidRuntime(1131):     ... 11 more\n</code></pre>\n\n<p>Thanks in advance! :)</p>\n"},{"tags":["java","sockets","networking"],"answers":[{"tags":[],"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639234992,"creation_date":1639234992,"answer_id":70316243,"question_id":70314410,"body_markdown":"You can only listen on interfaces (=IP addresses) that are present on the machine your code is running on.\r\n\r\nIf you&#39;ve got a NAT router in between you and the world, then you need (1) your code to listen on a local address, and (2) the router to forward messages from its public interface to your computer.  This is a router configuration issue. Setting it up manually is easiest.\r\n\r\n(Your error handling is deficient as well; if you fail in the socket setup, you just print a stack trace and then carry on running - carrying on after failing to get a socket is not a good idea)\r\n","title":"Java can&#39;t assign my own public ip to SocketServer","body":"<p>You can only listen on interfaces (=IP addresses) that are present on the machine your code is running on.</p>\n<p>If you've got a NAT router in between you and the world, then you need (1) your code to listen on a local address, and (2) the router to forward messages from its public interface to your computer.  This is a router configuration issue. Setting it up manually is easiest.</p>\n<p>(Your error handling is deficient as well; if you fail in the socket setup, you just print a stack trace and then carry on running - carrying on after failing to get a socket is not a good idea)</p>\n"}],"owner":{"account_id":13338965,"reputation":275,"user_id":9627798,"display_name":"gloria00"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639234992,"creation_date":1639219064,"question_id":70314410,"body_markdown":"I am implementing a simple client server app in java.\r\nI want to make the server available on my public ip but when I create the soccer server I get the following:\r\n```java.net.BindException: Can&#39;t assign requested address\r\n        at java.base/sun.nio.ch.Net.bind0(Native Method)\r\n        at java.base/sun.nio.ch.Net.bind(Net.java:555)\r\n        at java.base/sun.nio.ch.Net.bind(Net.java:544)\r\n        at java.base/sun.nio.ch.NioSocketImpl.bind(NioSocketImpl.java:643)\r\n        at java.base/java.net.ServerSocket.bind(ServerSocket.java:388)\r\n        at java.base/java.net.ServerSocket.&lt;init&gt;(ServerSocket.java:274)\r\n        at Server.Server.run(Server.java:33)\r\n        at java.base/java.lang.Thread.run(Thread.java:833)\r\nException in thread &quot;Thread-0&quot; java.lang.NullPointerException: Cannot invoke &quot;java.net.ServerSocket.accept()&quot; because &quot;this.serverSocket&quot; is null\r\n        at Server.Server.run(Server.java:41)\r\n        at java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\nBelow you can find the Server class that creates the server. \r\n```package Server;\r\n\r\nimport java.io.IOException;\r\nimport java.net.InetAddress;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\n\r\npublic class Server implements Runnable {\r\n    private int port;\r\n    private String ip;\r\n    private int backlog;\r\n    private ServerSocket serverSocket;\r\n    private boolean running=false;\r\n    private InetAddress address;\r\n\r\n    public Server(int port, String ip, int backlog) {\r\n        this.port=port;\r\n        this.ip=ip;\r\n        this.backlog=backlog;\r\n    }\r\n    public void start(){\r\n        System.out.println(&quot;Server started&quot;);\r\n        new Thread(this).start();\r\n\r\n    }\r\n    @Override\r\n    public void run() {\r\n        running=true;\r\n        ExecutorService executor= Executors.newCachedThreadPool();\r\n        try{\r\n            serverSocket=new ServerSocket(port, backlog,InetAddress.getByName(ip));\r\n            address=serverSocket.getInetAddress();\r\n            System.out.println(&quot;ServerSocket created at: &quot;+address.getHostAddress()+&quot;:&quot;+port);\r\n        }catch (IOException e){\r\n            e.printStackTrace();\r\n        }\r\n        while (running){\r\n            try{\r\n                Socket socket=serverSocket.accept();\r\n                executor.submit(new EchoServerClientHandler(socket));\r\n                System.out.println(&quot;Client connected&quot;);\r\n\r\n            }catch (IOException e){\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        shutdown(executor);\r\n    }\r\n\r\n    public void shutdown(ExecutorService executor){\r\n        running=false;\r\n        try{\r\n            executor.shutdown();\r\n            serverSocket.close();\r\n        }catch (IOException e){\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\nWhen I use localhost the server works fine, but I want to make it accessible from the outside.\r\nHow do I fix this? And also, how do I make my server accessible from the outside?","title":"Java can&#39;t assign my own public ip to SocketServer","body":"<p>I am implementing a simple client server app in java.\nI want to make the server available on my public ip but when I create the soccer server I get the following:</p>\n<pre><code>        at java.base/sun.nio.ch.Net.bind0(Native Method)\n        at java.base/sun.nio.ch.Net.bind(Net.java:555)\n        at java.base/sun.nio.ch.Net.bind(Net.java:544)\n        at java.base/sun.nio.ch.NioSocketImpl.bind(NioSocketImpl.java:643)\n        at java.base/java.net.ServerSocket.bind(ServerSocket.java:388)\n        at java.base/java.net.ServerSocket.&lt;init&gt;(ServerSocket.java:274)\n        at Server.Server.run(Server.java:33)\n        at java.base/java.lang.Thread.run(Thread.java:833)\nException in thread &quot;Thread-0&quot; java.lang.NullPointerException: Cannot invoke &quot;java.net.ServerSocket.accept()&quot; because &quot;this.serverSocket&quot; is null\n        at Server.Server.run(Server.java:41)\n        at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>Below you can find the Server class that creates the server.</p>\n<pre><code>\nimport java.io.IOException;\nimport java.net.InetAddress;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\npublic class Server implements Runnable {\n    private int port;\n    private String ip;\n    private int backlog;\n    private ServerSocket serverSocket;\n    private boolean running=false;\n    private InetAddress address;\n\n    public Server(int port, String ip, int backlog) {\n        this.port=port;\n        this.ip=ip;\n        this.backlog=backlog;\n    }\n    public void start(){\n        System.out.println(&quot;Server started&quot;);\n        new Thread(this).start();\n\n    }\n    @Override\n    public void run() {\n        running=true;\n        ExecutorService executor= Executors.newCachedThreadPool();\n        try{\n            serverSocket=new ServerSocket(port, backlog,InetAddress.getByName(ip));\n            address=serverSocket.getInetAddress();\n            System.out.println(&quot;ServerSocket created at: &quot;+address.getHostAddress()+&quot;:&quot;+port);\n        }catch (IOException e){\n            e.printStackTrace();\n        }\n        while (running){\n            try{\n                Socket socket=serverSocket.accept();\n                executor.submit(new EchoServerClientHandler(socket));\n                System.out.println(&quot;Client connected&quot;);\n\n            }catch (IOException e){\n                e.printStackTrace();\n            }\n        }\n        shutdown(executor);\n    }\n\n    public void shutdown(ExecutorService executor){\n        running=false;\n        try{\n            executor.shutdown();\n            serverSocket.close();\n        }catch (IOException e){\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>When I use localhost the server works fine, but I want to make it accessible from the outside.\nHow do I fix this? And also, how do I make my server accessible from the outside?</p>\n"},{"tags":["java","odata","sap-cloud-sdk"],"answers":[{"tags":[],"owner":{"account_id":6846681,"reputation":399,"user_id":5265265,"display_name":"Artyom Kovalyov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639234992,"creation_date":1639153494,"answer_id":70307559,"question_id":70306631,"body_markdown":"You&#39;re referring to correct documentation but the version number is your pom is incorrect.\r\n\r\nIn the documentation, it says 3.x.x, which as of 10.12.2022 would be [3.59.0][1].\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;com.sap.cloud.sdk.datamodel&lt;/groupId&gt;\r\n    &lt;artifactId&gt;odata-generator-maven-plugin&lt;/artifactId&gt;\r\n    &lt;!-- Please use the latest version here--&gt;\r\n    &lt;version&gt;3.XX.X&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;generate-consumption&lt;/id&gt;\r\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;generate&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;inputDirectory&gt;${project.basedir}/edmx&lt;/inputDirectory&gt;\r\n                &lt;outputDirectory&gt;${project.build.directory}/vdm&lt;/outputDirectory&gt;\r\n                &lt;deleteOutputDirectory&gt;true&lt;/deleteOutputDirectory&gt;\r\n                &lt;packageName&gt;com.mycompany.vdm&lt;/packageName&gt;\r\n                &lt;defaultBasePath&gt;odata/v2/&lt;/defaultBasePath&gt;\r\n                &lt;compileScope&gt;COMPILE&lt;/compileScope&gt;\r\n                &lt;serviceMethodsPerEntitySet&gt;true&lt;/serviceMethodsPerEntitySet&gt;\r\n                &lt;!-- (Optional) You can add a custom copyright header:\r\n                &lt;copyrightHeader&gt;Copyright (c) this year, my company&lt;/copyrightHeader&gt;\r\n\r\n                Or use the SAP copyright header:\r\n                &lt;sapCopyrightHeader&gt;true&lt;/sapCopyrightHeader&gt;\r\n                --&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nIt feels like you&#39;re using an existing project based on an outdated and deprecated SDK version. Could you try generating a new project and use the maven plugin from there?\r\n\r\nYou can also check out if the service you&#39;re going to use has a pregenrated client library on the SAP API Business Hub. Check this one for example https://api.sap.com/api/API_COSTCENTERACTIVITYTYPE_SRV/cloud-sdk/Java\r\n\r\n\r\n  [1]: https://sap.github.io/cloud-sdk/docs/java/release-notes-sap-cloud-sdk-for-java#3590---december-02-2021","title":"Generate a Typed OData Client With the OData Generator: Autogenerated code does not compile with SAP library","body":"<p>You're referring to correct documentation but the version number is your pom is incorrect.</p>\n<p>In the documentation, it says 3.x.x, which as of 10.12.2022 would be <a href=\"https://sap.github.io/cloud-sdk/docs/java/release-notes-sap-cloud-sdk-for-java#3590---december-02-2021\" rel=\"nofollow noreferrer\">3.59.0</a>.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;com.sap.cloud.sdk.datamodel&lt;/groupId&gt;\n    &lt;artifactId&gt;odata-generator-maven-plugin&lt;/artifactId&gt;\n    &lt;!-- Please use the latest version here--&gt;\n    &lt;version&gt;3.XX.X&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;generate-consumption&lt;/id&gt;\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;generate&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;inputDirectory&gt;${project.basedir}/edmx&lt;/inputDirectory&gt;\n                &lt;outputDirectory&gt;${project.build.directory}/vdm&lt;/outputDirectory&gt;\n                &lt;deleteOutputDirectory&gt;true&lt;/deleteOutputDirectory&gt;\n                &lt;packageName&gt;com.mycompany.vdm&lt;/packageName&gt;\n                &lt;defaultBasePath&gt;odata/v2/&lt;/defaultBasePath&gt;\n                &lt;compileScope&gt;COMPILE&lt;/compileScope&gt;\n                &lt;serviceMethodsPerEntitySet&gt;true&lt;/serviceMethodsPerEntitySet&gt;\n                &lt;!-- (Optional) You can add a custom copyright header:\n                &lt;copyrightHeader&gt;Copyright (c) this year, my company&lt;/copyrightHeader&gt;\n\n                Or use the SAP copyright header:\n                &lt;sapCopyrightHeader&gt;true&lt;/sapCopyrightHeader&gt;\n                --&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>It feels like you're using an existing project based on an outdated and deprecated SDK version. Could you try generating a new project and use the maven plugin from there?</p>\n<p>You can also check out if the service you're going to use has a pregenrated client library on the SAP API Business Hub. Check this one for example <a href=\"https://api.sap.com/api/API_COSTCENTERACTIVITYTYPE_SRV/cloud-sdk/Java\" rel=\"nofollow noreferrer\">https://api.sap.com/api/API_COSTCENTERACTIVITYTYPE_SRV/cloud-sdk/Java</a></p>\n"}],"owner":{"account_id":23610848,"reputation":3,"user_id":17645894,"display_name":"Alan Varghese"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":516,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70307559,"answer_count":1,"score":0,"last_activity_date":1639234992,"creation_date":1639149359,"question_id":70306631,"body_markdown":"I generated the code using a maven plugin and the code does not compile.\r\nhttps://sap.github.io/cloud-sdk/docs/java/features/odata/generate-typed-odata-v2-and-v4-client-for-java\r\nI am using the odata V2 Plugin\r\n\r\nI am not sure how to resolve this compilation issue:\r\n\r\n**The method getHttpClient(String) in the type HttpClientAccessor is not applicable for the arguments (HttpDestinationProperties)**\r\n\r\nHere is my pom file.\r\n\r\n&gt; \t\t\t&lt;dependency&gt;\r\n&gt; \t\t\t\t&lt;groupId&gt;com.sap.cloud.s4hana.datamodel&lt;/groupId&gt;\r\n&gt; \t\t\t\t&lt;artifactId&gt;odata-core&lt;/artifactId&gt;\r\n&gt; \t\t\t\t&lt;version&gt;2.28.0&lt;/version&gt; \t\t\t&lt;/dependency&gt;\r\n&gt; \t\r\n&gt; \t\r\n&gt; \t \t\t\t&lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt; \t\t\t&lt;dependency&gt;\r\n&gt; \t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n&gt; \t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n&gt; \t\t\t\t&lt;version&gt;1.18.22&lt;/version&gt; \t\t\t&lt;/dependency&gt;\r\n&gt; \t \t\t\t&lt;!-- https://mvnrepository.com/artifact/javax.inject/javax.inject --&gt; \t\t\t&lt;dependency&gt;\r\n&gt; \t\t\t\t&lt;groupId&gt;javax.inject&lt;/groupId&gt;\r\n&gt; \t\t\t\t&lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\r\n&gt; \t\t\t\t&lt;version&gt;1&lt;/version&gt; \t\t\t&lt;/dependency&gt;\r\n&gt; \r\n&gt; \t&lt;dependency&gt;\r\n&gt; \t    &lt;groupId&gt;com.sap.cloud.sdk.datamodel&lt;/groupId&gt;\r\n&gt; \t    &lt;artifactId&gt;odata-generator-maven-plugin&lt;/artifactId&gt;\r\n&gt; \t    &lt;version&gt;3.59.0&lt;/version&gt; \t&lt;/dependency&gt;","title":"Generate a Typed OData Client With the OData Generator: Autogenerated code does not compile with SAP library","body":"<p>I generated the code using a maven plugin and the code does not compile.\n<a href=\"https://sap.github.io/cloud-sdk/docs/java/features/odata/generate-typed-odata-v2-and-v4-client-for-java\" rel=\"nofollow noreferrer\">https://sap.github.io/cloud-sdk/docs/java/features/odata/generate-typed-odata-v2-and-v4-client-for-java</a>\nI am using the odata V2 Plugin</p>\n<p>I am not sure how to resolve this compilation issue:</p>\n<p><strong>The method getHttpClient(String) in the type HttpClientAccessor is not applicable for the arguments (HttpDestinationProperties)</strong></p>\n<p>Here is my pom file.</p>\n<blockquote>\n<pre><code>      &lt;dependency&gt;\n          &lt;groupId&gt;com.sap.cloud.s4hana.datamodel&lt;/groupId&gt;\n          &lt;artifactId&gt;odata-core&lt;/artifactId&gt;\n          &lt;version&gt;2.28.0&lt;/version&gt;           &lt;/dependency&gt;\n\n\n          &lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;            &lt;dependency&gt;\n          &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n          &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n          &lt;version&gt;1.18.22&lt;/version&gt;          &lt;/dependency&gt;\n          &lt;!-- https://mvnrepository.com/artifact/javax.inject/javax.inject --&gt;           &lt;dependency&gt;\n          &lt;groupId&gt;javax.inject&lt;/groupId&gt;\n          &lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\n          &lt;version&gt;1&lt;/version&gt;            &lt;/dependency&gt;\n</code></pre>\n  \n      com.sap.cloud.sdk.datamodel\n      odata-generator-maven-plugin\n      3.59.0   \n</blockquote>\n"},{"tags":["java","operating-system"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1331271545,"creation_date":1331216594,"answer_id":9619132,"question_id":9619038,"body_markdown":"The simple answer is No.  There is no standard way to do this, and I&#39;m not aware of any 3rd-party libraries that do this.\r\n\r\n---------\r\n\r\nThe more detailed answer is that you could *in theory* write your own code to do this, but the code would be non-portable and unreliable.  \r\n\r\n  - On Windows, you&#39;d need to interogate the Registry.\r\n  - On Linux, you&#39;d need to check the *obvious* places that the software might be installed, and hope that the admin / user hadn&#39;t decided to do it differently.\r\n\r\n---------\r\n\r\nAnd even if you can accurately determine what software (of relevance to you) is installed, you&#39;ve got more problems.\r\n\r\n  - What if there are two database products installed?  What if none?\r\n  - What if the user wants to use a non-local RDBMS?\r\n  - What about the other database-related configuration?  Database account/password?   Connection URLs?  Logical database and table names?\r\n  - Etcetera.\r\n\r\nIn short, I&#39;m doubtful that you&#39;ll be able to design an automatic installation strategy that works well enough for a large percentage of your users.\r\n\r\n  \r\n\r\n","title":"can we list the software installed in the OS using JAVA","body":"<p>The simple answer is No.  There is no standard way to do this, and I'm not aware of any 3rd-party libraries that do this.</p>\n\n<hr>\n\n<p>The more detailed answer is that you could <em>in theory</em> write your own code to do this, but the code would be non-portable and unreliable.  </p>\n\n<ul>\n<li>On Windows, you'd need to interogate the Registry.</li>\n<li>On Linux, you'd need to check the <em>obvious</em> places that the software might be installed, and hope that the admin / user hadn't decided to do it differently.</li>\n</ul>\n\n<hr>\n\n<p>And even if you can accurately determine what software (of relevance to you) is installed, you've got more problems.</p>\n\n<ul>\n<li>What if there are two database products installed?  What if none?</li>\n<li>What if the user wants to use a non-local RDBMS?</li>\n<li>What about the other database-related configuration?  Database account/password?   Connection URLs?  Logical database and table names?</li>\n<li>Etcetera.</li>\n</ul>\n\n<p>In short, I'm doubtful that you'll be able to design an automatic installation strategy that works well enough for a large percentage of your users.</p>\n"},{"tags":[],"owner":{"account_id":320617,"reputation":3671,"user_id":638994,"accept_rate":89,"display_name":"lucian.pantelimon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639233774,"creation_date":1331218151,"answer_id":9619493,"question_id":9619038,"body_markdown":"You can try probing for the application required: identify the operating system then crawl through the directories where you expect the application to be installed (%WINDRIVE%/Program Files, /Applications, /usr/share etc). \r\n\r\nWhen searching for it, it may be helpful to use regex, in case of different versions, so you don&#39;t have to add every application version by hand).\r\n\r\nIn Linux/Unix you could issue a **which** command to determine if the application is installed but I&#39;m not sure how reliable it would be (i.e. the application binary is not reachable through the PATH variable).\r\n\r\nAnother (better) way would be to have a better knowledge about the OS programming and the OS&#39;s API and do a few system calls through JNI. \r\n\r\n\r\nEDIT: Another approach might be to find the default program for the associated file&#39;s extension and check if it is the program you require (i.e. the user does not have ... say VLC Player associated with .mdf files). If you can get a list of all the programs associated with a file type, then you can just crawl through that list. Note that this might be less reliable than the previous solution as the program you need might not have the file type associated with it.","title":"can we list the software installed in the OS using JAVA","body":"<p>You can try probing for the application required: identify the operating system then crawl through the directories where you expect the application to be installed (%WINDRIVE%/Program Files, /Applications, /usr/share etc).</p>\n<p>When searching for it, it may be helpful to use regex, in case of different versions, so you don't have to add every application version by hand).</p>\n<p>In Linux/Unix you could issue a <strong>which</strong> command to determine if the application is installed but I'm not sure how reliable it would be (i.e. the application binary is not reachable through the PATH variable).</p>\n<p>Another (better) way would be to have a better knowledge about the OS programming and the OS's API and do a few system calls through JNI.</p>\n<p>EDIT: Another approach might be to find the default program for the associated file's extension and check if it is the program you require (i.e. the user does not have ... say VLC Player associated with .mdf files). If you can get a list of all the programs associated with a file type, then you can just crawl through that list. Note that this might be less reliable than the previous solution as the program you need might not have the file type associated with it.</p>\n"},{"tags":[],"owner":{"account_id":120028,"reputation":35734,"user_id":312172,"accept_rate":86,"display_name":"user unknown"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1331218959,"creation_date":1331218959,"answer_id":9619712,"question_id":9619038,"body_markdown":"You could check the PATH to find installed programs. Then you could search there for known programs. \r\n\r\nIf multiple programs are found or none, you could prompt the user. Prompting the user might be a good idea in general: Maybe the user has a 3rd solution and is able to connect to your program, or your search finds only one program xy while the search didn&#39;t yield yx, which is yx64 or yx2012 on his system.\r\n\r\n","title":"can we list the software installed in the OS using JAVA","body":"<p>You could check the PATH to find installed programs. Then you could search there for known programs. </p>\n\n<p>If multiple programs are found or none, you could prompt the user. Prompting the user might be a good idea in general: Maybe the user has a 3rd solution and is able to connect to your program, or your search finds only one program xy while the search didn't yield yx, which is yx64 or yx2012 on his system.</p>\n"}],"owner":{"account_id":1279320,"reputation":9,"user_id":1233812,"display_name":"HDK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":585,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1639233774,"creation_date":1331216268,"question_id":9619038,"body_markdown":"I want to develop an application in which I want to change the database as per the system.\r\n \r\nFor ex: I would to connect the Java code to .mdf file if MS-Office is installed or using `orathin` if Oracle is installed.\r\nThis will help me not to specify the database and decrease my dependencies.\r\n\r\n","title":"can we list the software installed in the OS using JAVA","body":"<p>I want to develop an application in which I want to change the database as per the system.</p>\n\n<p>For ex: I would to connect the Java code to .mdf file if MS-Office is installed or using <code>orathin</code> if Oracle is installed.\nThis will help me not to specify the database and decrease my dependencies.</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":13042702,"reputation":503,"user_id":9425556,"display_name":"jamesngyz"},"score":0,"creation_date":1639233168,"post_id":70315707,"comment_id":124298743,"body_markdown":"Hi, may we know which is the method that returns all subjects assigned to his field of study, and which is the method at returns the subjects already assigned to the student?","body":"Hi, may we know which is the method that returns all subjects assigned to his field of study, and which is the method at returns the subjects already assigned to the student?"}],"answers":[{"tags":[],"owner":{"account_id":13042702,"reputation":503,"user_id":9425556,"display_name":"jamesngyz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639233433,"creation_date":1639232835,"answer_id":70315969,"question_id":70315707,"body_markdown":"There are two possible solutions, I recommend the second one as it is computationally more efficient.\r\n\r\nPre-requisite:\r\n\r\nFor both solutions, you will need to first [override the `equals()` and `hashCode()` methods.][1]\r\n\r\nSolution 1 (shorter code):\r\n\r\n        for (Predmet vPredmet : this.loggedStudent.getOdbor().getPredmety()) {\r\n                if (!this.loggedStudent.getPredmety().contains(vPredmet)) {\r\n                    dostupnePredmety.add(vPredmet);\r\n                }\r\n        }\r\n\r\n\r\nSolution 2 (Most computationally efficient):\r\n\r\n        Set&lt;Predmet&gt; set = new HashSet&lt;&gt;();\r\n        for (Predmet predmety: this.loggedStudent.getPredmety()) {\r\n            set.add(predmety);\r\n        }\r\n        for (Predmet vPredmet : this.loggedStudent.getOdbor().getPredmety()) {\r\n                if (!set.contains(vPredmet)) {\r\n                    dostupnePredmety.add(vPredmet);\r\n                }\r\n        }\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-equals-hashcode-contracts","title":"Comparing of two arraylists with object of the same type.How to get all elements of first list except for the ones contained in second list?","body":"<p>There are two possible solutions, I recommend the second one as it is computationally more efficient.</p>\n<p>Pre-requisite:</p>\n<p>For both solutions, you will need to first <a href=\"https://www.baeldung.com/java-equals-hashcode-contracts\" rel=\"nofollow noreferrer\">override the <code>equals()</code> and <code>hashCode()</code> methods.</a></p>\n<p>Solution 1 (shorter code):</p>\n<pre><code>    for (Predmet vPredmet : this.loggedStudent.getOdbor().getPredmety()) {\n            if (!this.loggedStudent.getPredmety().contains(vPredmet)) {\n                dostupnePredmety.add(vPredmet);\n            }\n    }\n</code></pre>\n<p>Solution 2 (Most computationally efficient):</p>\n<pre><code>    Set&lt;Predmet&gt; set = new HashSet&lt;&gt;();\n    for (Predmet predmety: this.loggedStudent.getPredmety()) {\n        set.add(predmety);\n    }\n    for (Predmet vPredmet : this.loggedStudent.getOdbor().getPredmety()) {\n            if (!set.contains(vPredmet)) {\n                dostupnePredmety.add(vPredmet);\n            }\n    }\n</code></pre>\n"}],"owner":{"account_id":23366394,"reputation":15,"user_id":17437984,"display_name":"marek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70315969,"answer_count":1,"score":0,"last_activity_date":1639233433,"creation_date":1639230530,"question_id":70315707,"body_markdown":"I&#39;m working on basic students system.Student has field of his sudy. Each field of Study has some subjects assigned. Each student gets 2 of theese subjects assigned. Now I need to get and print all the other subjects assigned to his field of study that are not assigned to him yet.\r\nHere is what I tried \r\n\r\n            ArrayList&lt;Predmet&gt; dostupnePredmety = new ArrayList&lt;Predmet&gt;();\r\n            for (Predmet vPredmet : this.loggedStudent.getOdbor().getPredmety()) {\r\n                for ( Predmet sPredmet : this.loggedStudent.getPredmety()) {\r\n                    if (vPredmet != sPredmet) {\r\n                        dostupnePredmety.add(vPredmet);\r\n                    }\r\n                }\r\n            }\r\n            int i = 0;\r\n            for (Predmet dPredmet : dostupnePredmety) {\r\n                System.out.println(&quot;[&quot; + i + &quot;]&quot; + dPredmet.getNazov() + &quot; &quot; + dPredmet.getPocetStudentov() + &quot;/&quot; + dPredmet.getCapacity());\r\n                i++;\r\n            }\r\n\r\nIt didn&#39;t work because the second for loop I used compares element of first list with every single one of the second list so it adds all the elements.Even those I don&#39;t want. It&#39;s pretty obvious because the object from first list would need to be the same as all the elements of second list for this to work. I couldn&#39;t figure out the right solution. ","title":"Comparing of two arraylists with object of the same type.How to get all elements of first list except for the ones contained in second list?","body":"<p>I'm working on basic students system.Student has field of his sudy. Each field of Study has some subjects assigned. Each student gets 2 of theese subjects assigned. Now I need to get and print all the other subjects assigned to his field of study that are not assigned to him yet.\nHere is what I tried</p>\n<pre><code>        ArrayList&lt;Predmet&gt; dostupnePredmety = new ArrayList&lt;Predmet&gt;();\n        for (Predmet vPredmet : this.loggedStudent.getOdbor().getPredmety()) {\n            for ( Predmet sPredmet : this.loggedStudent.getPredmety()) {\n                if (vPredmet != sPredmet) {\n                    dostupnePredmety.add(vPredmet);\n                }\n            }\n        }\n        int i = 0;\n        for (Predmet dPredmet : dostupnePredmety) {\n            System.out.println(&quot;[&quot; + i + &quot;]&quot; + dPredmet.getNazov() + &quot; &quot; + dPredmet.getPocetStudentov() + &quot;/&quot; + dPredmet.getCapacity());\n            i++;\n        }\n</code></pre>\n<p>It didn't work because the second for loop I used compares element of first list with every single one of the second list so it adds all the elements.Even those I don't want. It's pretty obvious because the object from first list would need to be the same as all the elements of second list for this to work. I couldn't figure out the right solution.</p>\n"},{"tags":["java","xml","spring","xsd"],"comments":[{"owner":{"account_id":165546,"reputation":18964,"user_id":389099,"accept_rate":88,"display_name":"guido"},"score":2,"creation_date":1452731070,"post_id":34779551,"comment_id":57304188,"body_markdown":"sounds like an eclipse issue","body":"sounds like an eclipse issue"},{"owner":{"account_id":109492,"reputation":107225,"user_id":290085,"display_name":"kjhughes"},"score":0,"creation_date":1452731632,"post_id":34779551,"comment_id":57304343,"body_markdown":"This would happen if you cannot access the mentioned [spring-tx.xsd](http://www.springframework.org/schema/tx/spring-tx.xsd).  Test your access by bringing it up in a web browser.  I can access that XSD, and your XML does validate successfully for me.","body":"This would happen if you cannot access the mentioned <a href=\"http://www.springframework.org/schema/tx/spring-tx.xsd\" rel=\"nofollow noreferrer\">spring-tx.xsd</a>.  Test your access by bringing it up in a web browser.  I can access that XSD, and your XML does validate successfully for me."},{"owner":{"account_id":109492,"reputation":107225,"user_id":290085,"display_name":"kjhughes"},"score":0,"creation_date":1452737140,"post_id":34779551,"comment_id":57306036,"body_markdown":"If that&#39;s not it, note also that there have been [cases where conflicting versions of Spring jars have resulted in errors resembling XSD access errors](http://stackoverflow.com/a/29472455/290085).","body":"If that&#39;s not it, note also that there have been <a href=\"http://stackoverflow.com/a/29472455/290085\">cases where conflicting versions of Spring jars have resulted in errors resembling XSD access errors</a>."},{"owner":{"account_id":375036,"reputation":3318,"user_id":725619,"accept_rate":53,"display_name":"RKodakandla"},"score":0,"creation_date":1452778815,"post_id":34779551,"comment_id":57325266,"body_markdown":"@kjhughes.. thanks. I tried your suggestion but it didn&#39;t help. I&#39;m able to access the XSDs also. I finally gave up and just turned off XML validation.","body":"@kjhughes.. thanks. I tried your suggestion but it didn&#39;t help. I&#39;m able to access the XSDs also. I finally gave up and just turned off XML validation."}],"answers":[{"tags":[],"owner":{"account_id":162901,"reputation":10387,"user_id":384674,"accept_rate":69,"display_name":"Betlista"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1452774071,"creation_date":1452772987,"answer_id":34789179,"question_id":34779551,"body_markdown":"I prefer STS over Eclipse and this is how one can reproduce the problem...\r\n\r\nI have a Maven project with a Spring context dependency:\r\n\r\n**pom.xml**\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n\t&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t\t&lt;groupId&gt;betlista&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;tests.so.q34779551&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;name&gt;SO-q34779551&lt;/name&gt;\r\n\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;4.2.4.RELEASE&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\r\n\t&lt;/project&gt;\r\n\r\nWhen I now create `spring.xml` in `src/main/resources` same as yours I have same problems:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n\tschema_reference.4: Failed to read schema document &#39;http://www.springframework.org/schema/beans/spring-beans.xsd&#39;, because 1) could not find the document; 2) the document could not be read; 3) the root element of the document is not &lt;xsd:schema&gt;.\r\n\tschema_reference.4: Failed to read schema document &#39;http://www.springframework.org/schema/context/spring-context.xsd&#39;, because 1) could not find the document; 2) the document could not be read; 3) the root element of the document is not &lt;xsd:schema&gt;.\r\n\tschema_reference.4: Failed to read schema document &#39;http://www.springframework.org/schema/context/spring-context.xsd&#39;, because 1) could not find the document; 2) the document could not be read; 3) the root element of the document is not &lt;xsd:schema&gt;.\r\n\tschema_reference.4: Failed to read schema document &#39;http://www.springframework.org/schema/tx/spring-tx.xsd&#39;, because 1) could not find the document; 2) the document could not be read; 3) the root element of the document is not &lt;xsd:schema&gt;.\r\n\r\n\r\nThe problem is, that `spring-tx` and `spring-context` is not in dependencies - when added, error is fixed.\r\n\r\nMore details in [this answer](https://stackoverflow.com/a/34789439/384674).","title":"The matching wildcard is strict, but no declaration can be found for element &#39;tx:annotation-driven&#39; &#39;context:component-scan&#39;","body":"<p>I prefer STS over Eclipse and this is how one can reproduce the problem...</p>\n\n<p>I have a Maven project with a Spring context dependency:</p>\n\n<p><strong>pom.xml</strong></p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;betlista&lt;/groupId&gt;\n    &lt;artifactId&gt;tests.so.q34779551&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;SO-q34779551&lt;/name&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;4.2.4.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>When I now create <code>spring.xml</code> in <code>src/main/resources</code> same as yours I have same problems:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>schema_reference.4: Failed to read schema document 'http://www.springframework.org/schema/beans/spring-beans.xsd', because 1) could not find the document; 2) the document could not be read; 3) the root element of the document is not &lt;xsd:schema&gt;.\nschema_reference.4: Failed to read schema document 'http://www.springframework.org/schema/context/spring-context.xsd', because 1) could not find the document; 2) the document could not be read; 3) the root element of the document is not &lt;xsd:schema&gt;.\nschema_reference.4: Failed to read schema document 'http://www.springframework.org/schema/context/spring-context.xsd', because 1) could not find the document; 2) the document could not be read; 3) the root element of the document is not &lt;xsd:schema&gt;.\nschema_reference.4: Failed to read schema document 'http://www.springframework.org/schema/tx/spring-tx.xsd', because 1) could not find the document; 2) the document could not be read; 3) the root element of the document is not &lt;xsd:schema&gt;.\n</code></pre>\n\n<p>The problem is, that <code>spring-tx</code> and <code>spring-context</code> is not in dependencies - when added, error is fixed.</p>\n\n<p>More details in <a href=\"https://stackoverflow.com/a/34789439/384674\">this answer</a>.</p>\n"},{"tags":[],"owner":{"account_id":4138262,"reputation":21,"user_id":3394370,"display_name":"Ratnesh K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639233421,"creation_date":1639233421,"answer_id":70316031,"question_id":34779551,"body_markdown":"I was getting the same error when I created Spring MVC project using Maven which automatically adds core dependencies but sometime build doesn&#39;t get successful, in that case if you will enable Annotated component scan it will give the above error.\r\n\r\nSolution : Just update Spring Core Dependencies in Pom.xml by adding \r\nbelow tag according to  your Spring version.\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.4.RELEASE&lt;/version&gt;\r\n &lt;/dependency&gt;\r\n \r\n\r\n","title":"The matching wildcard is strict, but no declaration can be found for element &#39;tx:annotation-driven&#39; &#39;context:component-scan&#39;","body":"<p>I was getting the same error when I created Spring MVC project using Maven which automatically adds core dependencies but sometime build doesn't get successful, in that case if you will enable Annotated component scan it will give the above error.</p>\n<p>Solution : Just update Spring Core Dependencies in Pom.xml by adding\nbelow tag according to  your Spring version.</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n        &lt;version&gt;5.2.4.RELEASE&lt;/version&gt;\n</code></pre>\n \n \n"}],"owner":{"account_id":375036,"reputation":3318,"user_id":725619,"accept_rate":53,"display_name":"RKodakandla"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5701,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1639233421,"creation_date":1452730784,"question_id":34779551,"body_markdown":"Can anyone identify what is wrong with the namespace declaration below? I&#39;ve mentioned all the namespaces and gave references to the schema files. Not sure what else is missing.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n    \txmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\r\n    \txmlns:tx=&quot;http://www.springframework.org/schema/tx&quot; \r\n    \txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    \txsi:schemaLocation=&quot;    \r\n              http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd    \r\n              http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd    \r\n              http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd    \r\n              http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\r\n    \r\n    \t&lt;context:component-scan base-package=&quot;com.mypackage&quot; /&gt;\r\n    \t&lt;context:annotation-config /&gt;\r\n    \t&lt;tx:annotation-driven /&gt;\r\n\r\n    &lt;/beans&gt;\r\n\r\nError message:\r\n\r\n&gt; Multiple annotations found at this line:\r\n&gt; \t- cvc-complex-type.2.4.c: The matching wildcard is strict, but no declaration can be found for element &#39;tx:annotation-driven&#39;.\r\n&gt; \t- schema_reference.4: Failed to read schema document &#39;http://www.springframework.org/schema/tx/spring-tx.xsd&#39;, because 1)\r\n&gt; could not find the document; 2) the  \t document could not be read; 3)\r\n&gt; the root element of the document is not `&lt;xsd:schema&gt;`.","title":"The matching wildcard is strict, but no declaration can be found for element &#39;tx:annotation-driven&#39; &#39;context:component-scan&#39;","body":"<p>Can anyone identify what is wrong with the namespace declaration below? I've mentioned all the namespaces and gave references to the schema files. Not sure what else is missing.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \n    xmlns:aop=\"http://www.springframework.org/schema/aop\"\n    xmlns:tx=\"http://www.springframework.org/schema/tx\" \n    xmlns:context=\"http://www.springframework.org/schema/context\"\n    xsi:schemaLocation=\"    \n          http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd    \n          http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd    \n          http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd    \n          http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\"&gt;\n\n    &lt;context:component-scan base-package=\"com.mypackage\" /&gt;\n    &lt;context:annotation-config /&gt;\n    &lt;tx:annotation-driven /&gt;\n\n&lt;/beans&gt;\n</code></pre>\n\n<p>Error message:</p>\n\n<blockquote>\n  <p>Multiple annotations found at this line:\n    - cvc-complex-type.2.4.c: The matching wildcard is strict, but no declaration can be found for element 'tx:annotation-driven'.\n    - schema_reference.4: Failed to read schema document '<a href=\"http://www.springframework.org/schema/tx/spring-tx.xsd\" rel=\"nofollow\">http://www.springframework.org/schema/tx/spring-tx.xsd</a>', because 1)\n  could not find the document; 2) the    document could not be read; 3)\n  the root element of the document is not <code>&lt;xsd:schema&gt;</code>.</p>\n</blockquote>\n"},{"tags":["java","graph","directed-acyclic-graphs"],"answers":[{"tags":[],"owner":{"account_id":23463796,"reputation":83,"user_id":17518317,"display_name":"Jo."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639155711,"creation_date":1639155711,"answer_id":70308013,"question_id":70307782,"body_markdown":"&gt; How would I go about modifying that code to work for an unweighted graph so I could just find the integer value of the length of the longest path?\r\n\r\nYou can think of your graph as a weighted DAG, where each edge has a weight of 1 unit.","title":"Topological sort for longest path in DAG?","body":"<blockquote>\n<p>How would I go about modifying that code to work for an unweighted graph so I could just find the integer value of the length of the longest path?</p>\n</blockquote>\n<p>You can think of your graph as a weighted DAG, where each edge has a weight of 1 unit.</p>\n"},{"tags":[],"owner":{"account_id":9061,"reputation":19427,"user_id":16582,"accept_rate":67,"display_name":"ravenspoint"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639164183,"creation_date":1639164183,"answer_id":70309477,"question_id":70307782,"body_markdown":"Chanege this line\r\n\r\n    int getWeight() { return weight; }\r\n\r\nto\r\n\r\n    int getWeight() { return 1; }","title":"Topological sort for longest path in DAG?","body":"<p>Chanege this line</p>\n<pre><code>int getWeight() { return weight; }\n</code></pre>\n<p>to</p>\n<pre><code>int getWeight() { return 1; }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12822707,"reputation":677,"user_id":9276996,"display_name":"Turtle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639233401,"creation_date":1639208267,"answer_id":70313406,"question_id":70307782,"body_markdown":"If you are only concerned about the longest path ***from*** a `src` node to any node in the graph and not ***to***, a `dfs` would suffice. But if you want to know the longest path ***from*** a `src` node ***to*** every other node (Here we care about the `dest` node which made the longest path), then we need to use the topological ordering of the graph.\r\n\r\nIn this case, since we only need to find the longest directed path in a graph, we can start a `dfs` from each node to find the longest path from that node. One optimization we can do is since can be many paths that can pass through node `X`. We only calculate the longest path from `X` once and then memoize the value, so that the next time we visit the node `X` we return the already computed value. In this way, we compute subproblems only once.\r\n\r\nThe optimal substructure property is like this. Let&#39;s assume `dp[src]` is longest directed path ***from*** `src` node then\r\n\r\n    for each neighbor of src node :\r\n        dp[src] = Math.max(dp[src], weight(src-&gt;neighbor) + dp[neighbor])\r\n\r\nFor an unweighted graph, we can assume, weight to be `1`. Once we found the longest path from all nodes, the maximum of them will be the answer. Below is the implementation using `DFS` and `memoization`. The Graph is built based on your property that given an input array of length `n`, there exists a directed `edge` from `arr[i]` to `arr[j]` such that `arr[i] &lt; arr[j]` and `i &lt; j` and `0 &lt;= i, j &lt; n`. `getLongestPathOfGraph()` returns the longest directed path of the graph\r\n\r\n\r\n    class Graph {\r\n        Map&lt;Integer, List&lt;int[]&gt;&gt; adjList;\r\n        HashMap&lt;Integer, Integer&gt; longestPaths;\r\n        int longestPath;\r\n    \r\n        public Graph(int[] nodes) {\r\n            adjList = new HashMap&lt;&gt;();\r\n            for (int i = 0; i &lt; nodes.length; i++) {\r\n                adjList.put(nodes[i], new ArrayList&lt;&gt;());\r\n                for (int j = i + 1; j &lt; nodes.length; j++) {\r\n                    if (nodes[i] &lt; nodes[j]) {\r\n                        addEdge(nodes[i], nodes[j], 1);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        private void addEdge(int src, int dst, int weight) {\r\n            adjList.get(src).add(new int[]{dst, weight});\r\n        }\r\n    \r\n        public int getMaxLength(int src) {\r\n            // Checking if the longest Path is computed from src node, if yes returning the already computed result.\r\n            if (longestPaths.get(src) != 0) return longestPaths.get(src);\r\n            int len = 0;\r\n            for (int[] neighbor : adjList.get(src)) {\r\n                len = Math.max(len, neighbor[1] + getMaxLength(neighbor[0]));\r\n            }\r\n            longestPaths.put(src, len);\r\n            return len;\r\n        }\r\n    \r\n        public void getLongestPathOfGraph() {\r\n            longestPath = Integer.MIN_VALUE;\r\n            longestPaths = new HashMap&lt;&gt;();\r\n            for (int key : adjList.keySet()) longestPaths.put(key, 0);\r\n            for (int src : adjList.keySet()) {\r\n                if (longestPaths.get(src) == 0)\r\n                    longestPaths.put(src, getMaxLength(src));\r\n                longestPath = Math.max(longestPath, longestPaths.get(src));\r\n            }\r\n            System.out.println(&quot;Longest Path = &quot; + longestPath);\r\n        }\r\n    }","title":"Topological sort for longest path in DAG?","body":"<p>If you are only concerned about the longest path <em><strong>from</strong></em> a <code>src</code> node to any node in the graph and not <em><strong>to</strong></em>, a <code>dfs</code> would suffice. But if you want to know the longest path <em><strong>from</strong></em> a <code>src</code> node <em><strong>to</strong></em> every other node (Here we care about the <code>dest</code> node which made the longest path), then we need to use the topological ordering of the graph.</p>\n<p>In this case, since we only need to find the longest directed path in a graph, we can start a <code>dfs</code> from each node to find the longest path from that node. One optimization we can do is since can be many paths that can pass through node <code>X</code>. We only calculate the longest path from <code>X</code> once and then memoize the value, so that the next time we visit the node <code>X</code> we return the already computed value. In this way, we compute subproblems only once.</p>\n<p>The optimal substructure property is like this. Let's assume <code>dp[src]</code> is longest directed path <em><strong>from</strong></em> <code>src</code> node then</p>\n<pre><code>for each neighbor of src node :\n    dp[src] = Math.max(dp[src], weight(src-&gt;neighbor) + dp[neighbor])\n</code></pre>\n<p>For an unweighted graph, we can assume, weight to be <code>1</code>. Once we found the longest path from all nodes, the maximum of them will be the answer. Below is the implementation using <code>DFS</code> and <code>memoization</code>. The Graph is built based on your property that given an input array of length <code>n</code>, there exists a directed <code>edge</code> from <code>arr[i]</code> to <code>arr[j]</code> such that <code>arr[i] &lt; arr[j]</code> and <code>i &lt; j</code> and <code>0 &lt;= i, j &lt; n</code>. <code>getLongestPathOfGraph()</code> returns the longest directed path of the graph</p>\n<pre><code>class Graph {\n    Map&lt;Integer, List&lt;int[]&gt;&gt; adjList;\n    HashMap&lt;Integer, Integer&gt; longestPaths;\n    int longestPath;\n\n    public Graph(int[] nodes) {\n        adjList = new HashMap&lt;&gt;();\n        for (int i = 0; i &lt; nodes.length; i++) {\n            adjList.put(nodes[i], new ArrayList&lt;&gt;());\n            for (int j = i + 1; j &lt; nodes.length; j++) {\n                if (nodes[i] &lt; nodes[j]) {\n                    addEdge(nodes[i], nodes[j], 1);\n                }\n            }\n        }\n    }\n\n    private void addEdge(int src, int dst, int weight) {\n        adjList.get(src).add(new int[]{dst, weight});\n    }\n\n    public int getMaxLength(int src) {\n        // Checking if the longest Path is computed from src node, if yes returning the already computed result.\n        if (longestPaths.get(src) != 0) return longestPaths.get(src);\n        int len = 0;\n        for (int[] neighbor : adjList.get(src)) {\n            len = Math.max(len, neighbor[1] + getMaxLength(neighbor[0]));\n        }\n        longestPaths.put(src, len);\n        return len;\n    }\n\n    public void getLongestPathOfGraph() {\n        longestPath = Integer.MIN_VALUE;\n        longestPaths = new HashMap&lt;&gt;();\n        for (int key : adjList.keySet()) longestPaths.put(key, 0);\n        for (int src : adjList.keySet()) {\n            if (longestPaths.get(src) == 0)\n                longestPaths.put(src, getMaxLength(src));\n            longestPath = Math.max(longestPath, longestPaths.get(src));\n        }\n        System.out.println(&quot;Longest Path = &quot; + longestPath);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16474516,"reputation":55,"user_id":14336933,"display_name":"potroast12"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1639233401,"creation_date":1639154528,"question_id":70307782,"body_markdown":"I have an unweighted DAG, and I am trying to find the length of the longest path from any vertex in my graph. I found this: https://www.geeksforgeeks.org/find-longest-path-directed-acyclic-graph/\r\n\r\nBut it seems to be more focused on a weighted graph. How would I go about modifying that code to work for an unweighted graph so I could just find the integer value of the length of the longest path?","title":"Topological sort for longest path in DAG?","body":"<p>I have an unweighted DAG, and I am trying to find the length of the longest path from any vertex in my graph. I found this: <a href=\"https://www.geeksforgeeks.org/find-longest-path-directed-acyclic-graph/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/find-longest-path-directed-acyclic-graph/</a></p>\n<p>But it seems to be more focused on a weighted graph. How would I go about modifying that code to work for an unweighted graph so I could just find the integer value of the length of the longest path?</p>\n"},{"tags":["java","inheritance","parent-child","multiple-inheritance"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1639080314,"post_id":70293896,"comment_id":124264069,"body_markdown":"It sounds to me like inheritance isn&#39;t the right design here, but it&#39;s too vague a description for an informed judgement.","body":"It sounds to me like inheritance isn&#39;t the right design here, but it&#39;s too vague a description for an informed judgement."},{"owner":{"account_id":21845709,"reputation":13,"user_id":16138582,"display_name":"Shish"},"score":0,"creation_date":1639177597,"post_id":70293896,"comment_id":124290739,"body_markdown":"@daniu I did think about a simple boolean flag, but there are too many differences among the methods of the two children... What do you suggest instead?","body":"@daniu I did think about a simple boolean flag, but there are too many differences among the methods of the two children... What do you suggest instead?"}],"answers":[{"tags":[],"owner":{"account_id":22978237,"reputation":486,"user_id":17105581,"display_name":"ferrouskid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639070076,"creation_date":1639070076,"answer_id":70294002,"question_id":70293896,"body_markdown":"Maybe a factory method would be useful for this scenario: https://refactoring.guru/design-patterns/factory-method\r\n\r\n","title":"Creating child class based on class content","body":"<p>Maybe a factory method would be useful for this scenario: <a href=\"https://refactoring.guru/design-patterns/factory-method\" rel=\"nofollow noreferrer\">https://refactoring.guru/design-patterns/factory-method</a></p>\n"},{"tags":[],"owner":{"account_id":4382227,"reputation":2318,"user_id":3573553,"display_name":"Mark"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639079992,"creation_date":1639079992,"answer_id":70295991,"question_id":70293896,"body_markdown":"Can you add a `convertWithContext(SomeClassRepresentingContext ctx)` method to `LineOut` that will return a new `LineOut` that will be the correct subclass of LineOut?\r\n\r\nAnother approach would be to use a Factory method and supply it the line content and the context. Something like\r\n\r\n```java\r\nLineOutFactory.instance().constructLineOut(String line, SomeClassRepresentingContext ctx);\r\n```\r\n\r\nIn Java you cannot change the type of a class once it is created you can only build a new class based on the content of the existing class and possibly external context.","title":"Creating child class based on class content","body":"<p>Can you add a <code>convertWithContext(SomeClassRepresentingContext ctx)</code> method to <code>LineOut</code> that will return a new <code>LineOut</code> that will be the correct subclass of LineOut?</p>\n<p>Another approach would be to use a Factory method and supply it the line content and the context. Something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>LineOutFactory.instance().constructLineOut(String line, SomeClassRepresentingContext ctx);\n</code></pre>\n<p>In Java you cannot change the type of a class once it is created you can only build a new class based on the content of the existing class and possibly external context.</p>\n"},{"tags":[],"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639232624,"creation_date":1639232624,"answer_id":70315937,"question_id":70293896,"body_markdown":"Favor composition over inheritance, so instead of\r\n\r\n```\r\nabstract class LineOut {\r\n  public void consume(Line l) {\r\n    // ...\r\n    subclassConsume(l);\r\n    // ...\r\n  }\r\n  protected abstract void subclassConsume(Line l);\r\n}\r\n// and\r\nclass LineOutTransfers extends LineOut {\r\n  protected abstract void subclassConsume(Line l) { ... }\r\n}\r\nclass LineOutSells extends LineOut {\r\n  protected abstract void subclassConsume(Line l) { ... }\r\n}\r\n```\r\nyou should do this\r\n```\r\nabstract class LineOut {\r\n  private TransferLineHandler transferHandler;\r\n  private SellsLineHandler sellsHandler;\r\n  public void consume(Line l) {\r\n    // ...\r\n    if (isTransfer(l)) {\r\n      transferHandler.consume(l);\r\n    } else {\r\n      sellsHandler.consume(l);\r\n    }\r\n    // ...\r\n  }\r\n  protected abstract void subclassConsume(Line l);\r\n}\r\n// with\r\nclass TransferLineHandler {\r\n  public consume(l) { // stuff from LineOutTransfers }\r\n}\r\nclass SellsLineHandler {\r\n  public consume(l) { // stuff from LineOutSells }\r\n}\r\n```\r\n\r\nThis removes the &quot;dynamic subclassing&quot; issue altogether and makes the code more testable.","title":"Creating child class based on class content","body":"<p>Favor composition over inheritance, so instead of</p>\n<pre><code>abstract class LineOut {\n  public void consume(Line l) {\n    // ...\n    subclassConsume(l);\n    // ...\n  }\n  protected abstract void subclassConsume(Line l);\n}\n// and\nclass LineOutTransfers extends LineOut {\n  protected abstract void subclassConsume(Line l) { ... }\n}\nclass LineOutSells extends LineOut {\n  protected abstract void subclassConsume(Line l) { ... }\n}\n</code></pre>\n<p>you should do this</p>\n<pre><code>abstract class LineOut {\n  private TransferLineHandler transferHandler;\n  private SellsLineHandler sellsHandler;\n  public void consume(Line l) {\n    // ...\n    if (isTransfer(l)) {\n      transferHandler.consume(l);\n    } else {\n      sellsHandler.consume(l);\n    }\n    // ...\n  }\n  protected abstract void subclassConsume(Line l);\n}\n// with\nclass TransferLineHandler {\n  public consume(l) { // stuff from LineOutTransfers }\n}\nclass SellsLineHandler {\n  public consume(l) { // stuff from LineOutSells }\n}\n</code></pre>\n<p>This removes the &quot;dynamic subclassing&quot; issue altogether and makes the code more testable.</p>\n"}],"owner":{"account_id":21845709,"reputation":13,"user_id":16138582,"display_name":"Shish"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70315937,"answer_count":3,"score":0,"last_activity_date":1639232624,"creation_date":1639069570,"question_id":70293896,"body_markdown":"I have a class structure like this:\r\n\r\n                            LineTemplate (abstract)\r\n                            /                    \\\r\n                    LineOut (abstract)        LineIn (final)\r\n                    /                \\\r\n    LineOutTransfers (final)     LineOutSells (final)\r\n\r\nBoth *LineOut* and *LineIn* should read a line from a file, check its content against a database and run multiple queries.\r\n\r\n*LineOut*, however, contains two slightly different variations, which depend on the contents of the line. Due to the fact that *LineOutTransfers* and *LineOutSells* perform different actions when their methods are called, I decided to inherit and treat them as subclasses.\r\n\r\nI created a **public static LineTemplate __init()** method within *LineTemplate* to determine whether it is a *LineOut* or *LineIn* class and return the correct type based on external conditions, and I wanted to implement a similar method to determine the correct type of *LineOut* subclass.\r\n\r\nSince the *LineOut* child depends on the line content, however, I&#39;m stuck at this point. The class should read the line, then convert itself to the correct child and then perform the checks. But this is impossible as I cannot cast a parent class into a child, if it is not already of that type (*polymorphism*).\r\n\r\nI also thought about reading all the line inside *LineOut*&#39;s **__init()** method, and then passing the variables as arguments to its child constructor, but since there are a bunch of variables to be read and since it is done differently inside *LineIn*, it seemed to me like a bad practice.\r\n\r\nAny ideas? Thanks in advance.","title":"Creating child class based on class content","body":"<p>I have a class structure like this:</p>\n<pre><code>                        LineTemplate (abstract)\n                        /                    \\\n                LineOut (abstract)        LineIn (final)\n                /                \\\nLineOutTransfers (final)     LineOutSells (final)\n</code></pre>\n<p>Both <em>LineOut</em> and <em>LineIn</em> should read a line from a file, check its content against a database and run multiple queries.</p>\n<p><em>LineOut</em>, however, contains two slightly different variations, which depend on the contents of the line. Due to the fact that <em>LineOutTransfers</em> and <em>LineOutSells</em> perform different actions when their methods are called, I decided to inherit and treat them as subclasses.</p>\n<p>I created a <strong>public static LineTemplate __init()</strong> method within <em>LineTemplate</em> to determine whether it is a <em>LineOut</em> or <em>LineIn</em> class and return the correct type based on external conditions, and I wanted to implement a similar method to determine the correct type of <em>LineOut</em> subclass.</p>\n<p>Since the <em>LineOut</em> child depends on the line content, however, I'm stuck at this point. The class should read the line, then convert itself to the correct child and then perform the checks. But this is impossible as I cannot cast a parent class into a child, if it is not already of that type (<em>polymorphism</em>).</p>\n<p>I also thought about reading all the line inside <em>LineOut</em>'s <strong>__init()</strong> method, and then passing the variables as arguments to its child constructor, but since there are a bunch of variables to be read and since it is done differently inside <em>LineIn</em>, it seemed to me like a bad practice.</p>\n<p>Any ideas? Thanks in advance.</p>\n"},{"tags":["java","spring","aop"],"answers":[{"tags":[],"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639232564,"creation_date":1639232564,"answer_id":70315927,"question_id":70314922,"body_markdown":"From my viewpoint, \r\n\r\n&quot;handler methods (**usually** a {@link org.springframework.aop.ThrowsAdvice} implementation)\r\n\r\n**Usually**, but not **required** or not **always** ...\r\n\r\nThat mean Object throwsAdvice is not required to have Type ThrowsAdvice but it often is ThrowsAdvice.\r\n\r\nThe type of target can be any like ThrowsAdvice, Object...\r\n\r\nThrowsAdviceInterceptor only validate if your target class have at least one handler which method name start with &quot;afterThrowing&quot; and few parameters ...\r\n\r\n    public class MyThrowsAdvice(){\r\n        public void afterThrowing(Exception ex){...}\r\n    }\r\n\r\n    ThrowsAdviceInterceptor t = new ThrowsAdviceInterceptor(new MyThrowsAdvice());\r\n\r\nAbove example is not implemented ThrowsAdvice, but it still valid for ThrowsAdviceInterceptor.\r\n\r\nWhy spring team don&#39;t choose ThrowAdvice instead of Object.\r\n\r\nI think it will limit the usage of ThrowsAdviceInterceptor with above choice. ( just my opinion).\r\n\r\nhttps://github.com/joshlong/spring-framework-1/blob/master/spring-aop/src/main/java/org/springframework/aop/framework/adapter/ThrowsAdviceInterceptor.java\r\n\r\n","title":"In spring,Why is throw in ThrowsAdviceInterceptor of type object","body":"<p>From my viewpoint,</p>\n<p>&quot;handler methods (<strong>usually</strong> a {@link org.springframework.aop.ThrowsAdvice} implementation)</p>\n<p><strong>Usually</strong>, but not <strong>required</strong> or not <strong>always</strong> ...</p>\n<p>That mean Object throwsAdvice is not required to have Type ThrowsAdvice but it often is ThrowsAdvice.</p>\n<p>The type of target can be any like ThrowsAdvice, Object...</p>\n<p>ThrowsAdviceInterceptor only validate if your target class have at least one handler which method name start with &quot;afterThrowing&quot; and few parameters ...</p>\n<pre><code>public class MyThrowsAdvice(){\n    public void afterThrowing(Exception ex){...}\n}\n\nThrowsAdviceInterceptor t = new ThrowsAdviceInterceptor(new MyThrowsAdvice());\n</code></pre>\n<p>Above example is not implemented ThrowsAdvice, but it still valid for ThrowsAdviceInterceptor.</p>\n<p>Why spring team don't choose ThrowAdvice instead of Object.</p>\n<p>I think it will limit the usage of ThrowsAdviceInterceptor with above choice. ( just my opinion).</p>\n<p><a href=\"https://github.com/joshlong/spring-framework-1/blob/master/spring-aop/src/main/java/org/springframework/aop/framework/adapter/ThrowsAdviceInterceptor.java\" rel=\"nofollow noreferrer\">https://github.com/joshlong/spring-framework-1/blob/master/spring-aop/src/main/java/org/springframework/aop/framework/adapter/ThrowsAdviceInterceptor.java</a></p>\n"}],"owner":{"account_id":23617795,"reputation":11,"user_id":17651596,"display_name":"aoyvx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1639232564,"creation_date":1639223733,"question_id":70314922,"body_markdown":"Why is the type of throwsAdvice object instead of throwsAdvice? The author&#39;s comments reveal that this seems to be an intentional design . \r\nI don&#39;t know what&#39;s the use of this strange looking design, and whether I&#39;ve ignored any details.\r\n\r\n```\r\npublic class ThrowsAdviceInterceptor implements MethodInterceptor, AfterAdvice {\r\n\r\n\tprivate final Object throwsAdvice;\r\n\r\n\t/**\r\n\t * Create a new ThrowsAdviceInterceptor for the given ThrowsAdvice.\r\n\t * @param throwsAdvice the advice object that defines the exception handler methods\r\n\t * (usually a {@link org.springframework.aop.ThrowsAdvice} implementation)\r\n\t */\r\n\tpublic ThrowsAdviceInterceptor(Object throwsAdvice) {\r\n\t\tAssert.notNull(throwsAdvice, &quot;Advice must not be null&quot;);\r\n\t\tthis.throwsAdvice = throwsAdvice;\r\n        //...\r\n\t}\r\n}\r\n```","title":"In spring,Why is throw in ThrowsAdviceInterceptor of type object","body":"<p>Why is the type of throwsAdvice object instead of throwsAdvice? The author's comments reveal that this seems to be an intentional design .\nI don't know what's the use of this strange looking design, and whether I've ignored any details.</p>\n<pre><code>public class ThrowsAdviceInterceptor implements MethodInterceptor, AfterAdvice {\n\n    private final Object throwsAdvice;\n\n    /**\n     * Create a new ThrowsAdviceInterceptor for the given ThrowsAdvice.\n     * @param throwsAdvice the advice object that defines the exception handler methods\n     * (usually a {@link org.springframework.aop.ThrowsAdvice} implementation)\n     */\n    public ThrowsAdviceInterceptor(Object throwsAdvice) {\n        Assert.notNull(throwsAdvice, &quot;Advice must not be null&quot;);\n        this.throwsAdvice = throwsAdvice;\n        //...\n    }\n}\n</code></pre>\n"},{"tags":["java","android","splash-screen"],"comments":[{"owner":{"account_id":5346091,"reputation":3706,"user_id":4261613,"accept_rate":74,"display_name":"Mikhail"},"score":2,"creation_date":1437128548,"post_id":31473557,"comment_id":50912402,"body_markdown":"One workaround may be to use only `MainActivity`, initially displaying splash screen layout, later hiding/removing it (via the `Handler.postDelayed()`, for example) to show the actual Activity layout.","body":"One workaround may be to use only <code>MainActivity</code>, initially displaying splash screen layout, later hiding/removing it (via the <code>Handler.postDelayed()</code>, for example) to show the actual Activity layout."},{"owner":{"account_id":73701,"reputation":17468,"user_id":212107,"accept_rate":100,"display_name":"Gerald Schneider"},"score":0,"creation_date":1437128623,"post_id":31473557,"comment_id":50912437,"body_markdown":"This new tip from the Android Developers might be helpful: https://plus.google.com/+AndroidDevelopers/posts/Z1Wwainpjhd","body":"This new tip from the Android Developers might be helpful: <a href=\"https://plus.google.com/+AndroidDevelopers/posts/Z1Wwainpjhd\" rel=\"nofollow noreferrer\">plus.google.com/+AndroidDevelopers/posts/Z1Wwainpjhd</a>"},{"owner":{"account_id":4926376,"reputation":4397,"user_id":3967525,"accept_rate":70,"display_name":"Soham"},"score":0,"creation_date":1437129393,"post_id":31473557,"comment_id":50912895,"body_markdown":"Have you googled yet?There are tons of example for you.Check this  http://www.androidhive.info/2013/07/how-to-implement-android-splash-screen-2/","body":"Have you googled yet?There are tons of example for you.Check this  <a href=\"http://www.androidhive.info/2013/07/how-to-implement-android-splash-screen-2/\" rel=\"nofollow noreferrer\">androidhive.info/2013/07/&hellip;</a>"},{"owner":{"account_id":6641444,"reputation":243,"user_id":5127026,"display_name":"HorstB"},"score":1,"creation_date":1437138496,"post_id":31473557,"comment_id":50918231,"body_markdown":"Thanks for the comments! @Soham: My sample code is from exactly the same source like your link... So YES I have googled it. My problem however was solved **here** by TmKVU","body":"Thanks for the comments! @Soham: My sample code is from exactly the same source like your link... So YES I have googled it. My problem however was solved <b>here</b> by TmKVU"}],"answers":[{"tags":[],"owner":{"account_id":2965644,"reputation":306,"user_id":2518826,"display_name":"Puneet Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1437128968,"creation_date":1437128968,"answer_id":31473770,"question_id":31473557,"body_markdown":"your splash screen code works fine but when you call next activity then in onCreate() use Asynctask for your heavy tasks... ","title":"Android display Splash-Screen while loading","body":"<p>your splash screen code works fine but when you call next activity then in onCreate() use Asynctask for your heavy tasks... </p>\n"},{"tags":[],"owner":{"account_id":1882802,"reputation":2910,"user_id":1702602,"accept_rate":50,"display_name":"TmKVU"},"down_vote_count":1,"up_vote_count":18,"is_accepted":true,"score":17,"last_activity_date":1437129266,"creation_date":1437129266,"answer_id":31473860,"question_id":31473557,"body_markdown":"If there are no specific constraints about the time the splash screen should be shown, you could use the `AsyncTask` in the following way:\r\n\r\n    public class SplashScreen extends Activity {\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_startup);\r\n            startHeavyProcessing();\r\n        \r\n        }\r\n    \r\n        private void startHeavyProcessing(){\r\n           new LongOperation().execute(&quot;&quot;);\r\n        }\r\n    \r\n        private class LongOperation extends AsyncTask&lt;String, Void, String&gt; {\r\n    \r\n            @Override\r\n            protected String doInBackground(String... params) {\r\n                //some heavy processing resulting in a Data String\r\n                for (int i = 0; i &lt; 5; i++) {\r\n                    try {\r\n                        Thread.sleep(1000);\r\n                    } catch (InterruptedException e) {\r\n                        Thread.interrupted();\r\n                    }\r\n                }\r\n                return &quot;whatever result you have&quot;;\r\n            }\r\n    \r\n            @Override\r\n            protected void onPostExecute(String result) {\r\n                Intent i = new Intent(SplashScreen.this, MainActivity.class);\r\n                i.putExtra(&quot;data&quot;, result);\r\n                startActivity(i);\r\n                finish();\r\n            }\r\n    \r\n            @Override\r\n            protected void onPreExecute() {}\r\n    \r\n            @Override\r\n            protected void onProgressUpdate(Void... values) {}\r\n        }\r\n    }\r\n\r\nIf the resulting data if of another nature than a String you could put a `Parcelable` Object as an extra to your activity. In `onCreate` you can retrieve the data with:\r\n\r\n`getIntent().getExtras.getString(&#39;data&#39;);`","title":"Android display Splash-Screen while loading","body":"<p>If there are no specific constraints about the time the splash screen should be shown, you could use the <code>AsyncTask</code> in the following way:</p>\n\n<pre><code>public class SplashScreen extends Activity {\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_startup);\n        startHeavyProcessing();\n\n    }\n\n    private void startHeavyProcessing(){\n       new LongOperation().execute(\"\");\n    }\n\n    private class LongOperation extends AsyncTask&lt;String, Void, String&gt; {\n\n        @Override\n        protected String doInBackground(String... params) {\n            //some heavy processing resulting in a Data String\n            for (int i = 0; i &lt; 5; i++) {\n                try {\n                    Thread.sleep(1000);\n                } catch (InterruptedException e) {\n                    Thread.interrupted();\n                }\n            }\n            return \"whatever result you have\";\n        }\n\n        @Override\n        protected void onPostExecute(String result) {\n            Intent i = new Intent(SplashScreen.this, MainActivity.class);\n            i.putExtra(\"data\", result);\n            startActivity(i);\n            finish();\n        }\n\n        @Override\n        protected void onPreExecute() {}\n\n        @Override\n        protected void onProgressUpdate(Void... values) {}\n    }\n}\n</code></pre>\n\n<p>If the resulting data if of another nature than a String you could put a <code>Parcelable</code> Object as an extra to your activity. In <code>onCreate</code> you can retrieve the data with:</p>\n\n<p><code>getIntent().getExtras.getString('data');</code></p>\n"},{"tags":[],"owner":{"account_id":6615724,"reputation":1019,"user_id":5109026,"display_name":"Theo Lassonder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1437129960,"creation_date":1437129960,"answer_id":31474047,"question_id":31473557,"body_markdown":"How about, in the interest of simplicity, you combine your splash activity with your main activity? That way you get the best of both worlds, namely a splash screen while your data is preparing the first time, and a quick startup when it&#39;s been prepared previously. Making the user wait for nothing is not really good form...\r\n\r\nSomething like:\r\n\r\n    public class MainActivity extends Activity implements OnClickListener, MediaController.MediaPlayerControl {\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            \r\n            // Initially shows splash screen, the main UI is not visible\r\n            setContentView(R.layout.activity_main);  \r\n\r\n            // Start an async task to prepare the data. When it finishes, in\r\n            // onPostExecute() get it to call back dataReady()\r\n            new PrepareDataAsyncTask(this).execute();\r\n\r\n        }\r\n\r\n        public void dataReady() {\r\n            // Hide splash screen\r\n            // Show real UI\r\n        }\r\n\r\n    }","title":"Android display Splash-Screen while loading","body":"<p>How about, in the interest of simplicity, you combine your splash activity with your main activity? That way you get the best of both worlds, namely a splash screen while your data is preparing the first time, and a quick startup when it's been prepared previously. Making the user wait for nothing is not really good form...</p>\n\n<p>Something like:</p>\n\n<pre><code>public class MainActivity extends Activity implements OnClickListener, MediaController.MediaPlayerControl {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        // Initially shows splash screen, the main UI is not visible\n        setContentView(R.layout.activity_main);  \n\n        // Start an async task to prepare the data. When it finishes, in\n        // onPostExecute() get it to call back dataReady()\n        new PrepareDataAsyncTask(this).execute();\n\n    }\n\n    public void dataReady() {\n        // Hide splash screen\n        // Show real UI\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6625604,"reputation":14876,"user_id":5115932,"accept_rate":72,"display_name":"Bryan"},"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1522761883,"creation_date":1464295890,"answer_id":37470745,"question_id":31473557,"body_markdown":"You should not be creating a new thread on startup, instead you should create a view that does not have to wait for your resources to load, as detailed in this article: [Splash Screens the Right Way][1].\r\n\r\nAs stated in the article, you should create a `layer-list` drawable instead of a `layout` XML file:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n\r\n        &lt;!-- Fill the background with a solid color --&gt;\r\n        &lt;item android:drawable=&quot;@color/gray&quot;/&gt;\r\n\r\n        &lt;!-- Place your bitmap in the center --&gt;\r\n        &lt;item&gt;\r\n            &lt;bitmap\r\n                android:gravity=&quot;center&quot;\r\n                android:src=&quot;@mipmap/ic_launcher&quot;/&gt;\r\n        &lt;/item&gt;\r\n\r\n    &lt;/layer-list&gt;\r\n\r\nThen create a theme using the drawable file as a background. I use the `background` attribute instead of the `windowBackground` attribute as suggested in the article, because `background` takes the status and navigation bars into account, centering the drawable better. I also set `windowAnimationStyle` to `null` so that the splash screen does not animate the transition to the `MainActivity`:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;resources&gt;\r\n\r\n        &lt;!-- Base application theme --&gt;\r\n        &lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.AppCompat.Light.DarkActionBar&quot;&gt;\r\n            &lt;!-- Customize your theme here. --&gt;\r\n        &lt;/style&gt;\r\n\r\n        &lt;!-- Splash Screen theme --&gt;\r\n        &lt;style name=&quot;SplashTheme&quot; parent=&quot;Theme.AppCompat.NoActionBar&quot;&gt;\r\n            &lt;item name=&quot;android:background&quot;&gt;@drawable/background_splash&lt;/item&gt;\r\n            &lt;item name=&quot;android:windowAnimationStyle&quot;&gt;@null&lt;/item&gt;\r\n        &lt;/style&gt;\r\n\r\n    &lt;/resources&gt;\r\n\r\nThen declare your theme in the manifest for your `SplashActivity`:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;activity android:name=&quot;.SplashActivity&quot;\r\n        android:theme=&quot;@style/SplashTheme&quot;&gt;\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/activity&gt;\r\n\r\nAnd finally all you have to do in your `SplashActivity` is start your `MainActivity`, and the splash screen will only show for as long as it takes for your app to configure:\r\n\r\n    public class SplashActivity extends AppCompatActivity {\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n\r\n            Intent intent = new Intent(this, MainActivity.class);\r\n            startActivity(intent);\r\n            finish();\r\n        }\r\n    }\r\n\r\n  [1]: https://www.bignerdranch.com/blog/splash-screens-the-right-way/","title":"Android display Splash-Screen while loading","body":"<p>You should not be creating a new thread on startup, instead you should create a view that does not have to wait for your resources to load, as detailed in this article: <a href=\"https://www.bignerdranch.com/blog/splash-screens-the-right-way/\" rel=\"noreferrer\">Splash Screens the Right Way</a>.</p>\n\n<p>As stated in the article, you should create a <code>layer-list</code> drawable instead of a <code>layout</code> XML file:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;layer-list xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n\n    &lt;!-- Fill the background with a solid color --&gt;\n    &lt;item android:drawable=\"@color/gray\"/&gt;\n\n    &lt;!-- Place your bitmap in the center --&gt;\n    &lt;item&gt;\n        &lt;bitmap\n            android:gravity=\"center\"\n            android:src=\"@mipmap/ic_launcher\"/&gt;\n    &lt;/item&gt;\n\n&lt;/layer-list&gt;\n</code></pre>\n\n<p>Then create a theme using the drawable file as a background. I use the <code>background</code> attribute instead of the <code>windowBackground</code> attribute as suggested in the article, because <code>background</code> takes the status and navigation bars into account, centering the drawable better. I also set <code>windowAnimationStyle</code> to <code>null</code> so that the splash screen does not animate the transition to the <code>MainActivity</code>:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;resources&gt;\n\n    &lt;!-- Base application theme --&gt;\n    &lt;style name=\"AppTheme\" parent=\"Theme.AppCompat.Light.DarkActionBar\"&gt;\n        &lt;!-- Customize your theme here. --&gt;\n    &lt;/style&gt;\n\n    &lt;!-- Splash Screen theme --&gt;\n    &lt;style name=\"SplashTheme\" parent=\"Theme.AppCompat.NoActionBar\"&gt;\n        &lt;item name=\"android:background\"&gt;@drawable/background_splash&lt;/item&gt;\n        &lt;item name=\"android:windowAnimationStyle\"&gt;@null&lt;/item&gt;\n    &lt;/style&gt;\n\n&lt;/resources&gt;\n</code></pre>\n\n<p>Then declare your theme in the manifest for your <code>SplashActivity</code>:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;activity android:name=\".SplashActivity\"\n    android:theme=\"@style/SplashTheme\"&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n        &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n    &lt;/intent-filter&gt;\n&lt;/activity&gt;\n</code></pre>\n\n<p>And finally all you have to do in your <code>SplashActivity</code> is start your <code>MainActivity</code>, and the splash screen will only show for as long as it takes for your app to configure:</p>\n\n<pre><code>public class SplashActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        Intent intent = new Intent(this, MainActivity.class);\n        startActivity(intent);\n        finish();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1756356,"reputation":2251,"user_id":1604309,"accept_rate":64,"display_name":"Mateusz Kaflowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526052021,"creation_date":1526052021,"answer_id":50295465,"question_id":31473557,"body_markdown":"I have had similar problem. There was a blank loading screen (not even toolbar). Mu culprit was in the manifest in the MainActivity:\r\n\r\n     android:launchMode=&quot;singleInstance&quot;","title":"Android display Splash-Screen while loading","body":"<p>I have had similar problem. There was a blank loading screen (not even toolbar). Mu culprit was in the manifest in the MainActivity:</p>\n\n<pre><code> android:launchMode=\"singleInstance\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5270006,"reputation":1227,"user_id":4208582,"display_name":"Michel Fernandes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639232326,"creation_date":1599420834,"answer_id":63768164,"question_id":31473557,"body_markdown":"Just do like in [this article][1]: \r\n\r\n1 - create a XML layout like this for the splash screen. I called it &quot;background_splash.xml&quot;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    \r\n        &lt;item\r\n            android:drawable=&quot;@color/cardview_light_background&quot;/&gt;\r\n    \r\n        &lt;item&gt;\r\n            &lt;bitmap\r\n                android:gravity=&quot;center&quot;\r\n                android:src=&quot;@drawable/kiss_com_sub_logo&quot;/&gt;\r\n        &lt;/item&gt;\r\n    \r\n    &lt;/layer-list&gt;\r\n\r\n2 - Then, go to the styles.xml and write a style like this:\r\n\r\n    &lt;style name=&quot;SplashTheme&quot; parent=&quot;Theme.AppCompat.NoActionBar&quot;&gt;\r\n            &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/background_splash&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n3 - Write an activity to your splash. I called it SplashActivity.kt \r\n    \r\n    class SplashActivity : AppCompatActivity() {\r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            val intent = Intent(this, MainActivity::class.java)\r\n            startActivity(intent)\r\n            finish()\r\n        }\r\n    }\r\n\r\n\r\n4 - Finally, go to you AndroidManifest.xml and add your activity splash: (Note: don&#39;t remove anything in the AndroidManifest, just add this before the Main activity).\r\n\r\n\r\n    &lt;activity\r\n           android:name=&quot;.SplashActivity&quot;\r\n           android:label=&quot;Kiss&quot;\r\n           android:theme=&quot;@style/SplashTheme&quot;&gt;\r\n           &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\r\n           &lt;/intent-filter&gt;\r\n    &lt;/activity&gt;\r\n\r\n\r\nThis is done. You don&#39;t need to worry about the time that your application will demand to start, the splash will be there just for enough time. When your MainActivity is ready, it will be showed.\r\n\r\n\r\n  [1]: https://www.bignerdranch.com/blog/splash-screens-the-right-way/","title":"Android display Splash-Screen while loading","body":"<p>Just do like in <a href=\"https://www.bignerdranch.com/blog/splash-screens-the-right-way/\" rel=\"nofollow noreferrer\">this article</a>:</p>\n<p>1 - create a XML layout like this for the splash screen. I called it &quot;background_splash.xml&quot;</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n\n    &lt;item\n        android:drawable=&quot;@color/cardview_light_background&quot;/&gt;\n\n    &lt;item&gt;\n        &lt;bitmap\n            android:gravity=&quot;center&quot;\n            android:src=&quot;@drawable/kiss_com_sub_logo&quot;/&gt;\n    &lt;/item&gt;\n\n&lt;/layer-list&gt;\n</code></pre>\n<p>2 - Then, go to the styles.xml and write a style like this:</p>\n<pre><code>&lt;style name=&quot;SplashTheme&quot; parent=&quot;Theme.AppCompat.NoActionBar&quot;&gt;\n        &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/background_splash&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n<p>3 - Write an activity to your splash. I called it SplashActivity.kt</p>\n<pre><code>class SplashActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        val intent = Intent(this, MainActivity::class.java)\n        startActivity(intent)\n        finish()\n    }\n}\n</code></pre>\n<p>4 - Finally, go to you AndroidManifest.xml and add your activity splash: (Note: don't remove anything in the AndroidManifest, just add this before the Main activity).</p>\n<pre><code>&lt;activity\n       android:name=&quot;.SplashActivity&quot;\n       android:label=&quot;Kiss&quot;\n       android:theme=&quot;@style/SplashTheme&quot;&gt;\n       &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\n       &lt;/intent-filter&gt;\n&lt;/activity&gt;\n</code></pre>\n<p>This is done. You don't need to worry about the time that your application will demand to start, the splash will be there just for enough time. When your MainActivity is ready, it will be showed.</p>\n"}],"owner":{"account_id":6641444,"reputation":243,"user_id":5127026,"display_name":"HorstB"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44750,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":31473860,"answer_count":6,"score":21,"last_activity_date":1639232326,"creation_date":1437128282,"question_id":31473557,"body_markdown":"I have an Android App, which shows a &quot;Splash Screen&quot; for 3 seconds. After that, the MainActivity gets loaded.\r\n\r\nUnfortunately the MainActivity takes additional ~4 seconds to load. On first startup even longer. However when the App is loaded, everything runs smooth.\r\n\r\nNow how can I achieve it, that the MainActivity gets loaded, during the display of the Splash Screen? It just should display an image until the whole thing loaded completely.\r\nI have read about Async-Task, but I&#39;m not sure where to put it and how to use it properly. Can someone help me please?\r\n\r\n\r\n\r\n**SplashScreen.java**\r\n\r\n\tpublic class SplashScreen extends Activity {\r\n\t    private static int SPLASH_TIME_OUT = 3000;\r\n\t    @Override\r\n\t    protected void onCreate(Bundle savedInstanceState) {\r\n\t        super.onCreate(savedInstanceState);\r\n\t        setContentView(R.layout.activity_startup);\r\n\r\n\t        new Handler().postDelayed(new Runnable() {\r\n\t            @Override\r\n\t            public void run() {\r\n\t                Intent i = new Intent(SplashScreen.this, MainActivity.class);\r\n\t                startActivity(i);\r\n\t                finish();\r\n\t            }\r\n\t        }, SPLASH_TIME_OUT);\r\n\t    }\r\n\t}\r\n\r\n\r\n**MainActivity.java**\r\n\r\n\tpublic class MainActivity extends Activity implements OnClickListener, MediaController.MediaPlayerControl {\r\n\r\n\t    @Override\r\n\t    protected void onCreate(Bundle savedInstanceState) {\r\n\t        super.onCreate(savedInstanceState);\r\n\t        setContentView(R.layout.activity_main);\r\n\r\n\t        //Some heavy processing\r\n\t        //starting services\r\n\t        //starting Google Text to Speech\r\n\t        //and so on...\r\n\r\n\t    }\r\n\r\n\t}","title":"Android display Splash-Screen while loading","body":"<p>I have an Android App, which shows a \"Splash Screen\" for 3 seconds. After that, the MainActivity gets loaded.</p>\n\n<p>Unfortunately the MainActivity takes additional ~4 seconds to load. On first startup even longer. However when the App is loaded, everything runs smooth.</p>\n\n<p>Now how can I achieve it, that the MainActivity gets loaded, during the display of the Splash Screen? It just should display an image until the whole thing loaded completely.\nI have read about Async-Task, but I'm not sure where to put it and how to use it properly. Can someone help me please?</p>\n\n<p><strong>SplashScreen.java</strong></p>\n\n<pre><code>public class SplashScreen extends Activity {\n    private static int SPLASH_TIME_OUT = 3000;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_startup);\n\n        new Handler().postDelayed(new Runnable() {\n            @Override\n            public void run() {\n                Intent i = new Intent(SplashScreen.this, MainActivity.class);\n                startActivity(i);\n                finish();\n            }\n        }, SPLASH_TIME_OUT);\n    }\n}\n</code></pre>\n\n<p><strong>MainActivity.java</strong></p>\n\n<pre><code>public class MainActivity extends Activity implements OnClickListener, MediaController.MediaPlayerControl {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        //Some heavy processing\n        //starting services\n        //starting Google Text to Speech\n        //and so on...\n\n    }\n\n}\n</code></pre>\n"},{"tags":["python","java","c++","sockets"],"comments":[{"owner":{"account_id":963516,"reputation":10188,"user_id":987358,"accept_rate":40,"display_name":"Michael Butscher"},"score":0,"creation_date":1639230409,"post_id":70315666,"comment_id":124298173,"body_markdown":"Show error messages as properly formatted text in the question, not as image or external link.","body":"Show error messages as properly formatted text in the question, not as image or external link."},{"owner":{"account_id":12657715,"reputation":1,"user_id":9199706,"display_name":"Lorand Csiki"},"score":0,"creation_date":1639230772,"post_id":70315666,"comment_id":124298260,"body_markdown":"Python error: &quot;D:\\Python stuff\\SimpleChatClient\\Scripts\\python.exe&quot; &quot;D:/Python stuff/SimpleChatClient/main.py&quot;\nTraceback (most recent call last):\n  File &quot;D:\\Python stuff\\SimpleChatClient\\main.py&quot;, line 9, in &lt;module&gt;\n    msg = msg.decode(&#39;utf-8&#39;)\nUnicodeDecodeError: &#39;utf-8&#39; codec can&#39;t decode byte 0xe1 in position 3: invalid continuation byte\nb&#39;abc\\xe1\\x00\\xfe\\xfe\\xfe\\xfe\\xfe\\xfe\\xfe\\xfe\\xfe\\xfe\\xfe\\xfe\\xfe\\xfe\\xfe&#39;\n\nProcess finished with exit code 1","body":"Python error: &quot;D:\\Python stuff\\SimpleChatClient\\Scripts\\python.exe&quot; &quot;D:/Python stuff/SimpleChatClient/main.py&quot; Traceback (most recent call last):   File &quot;D:\\Python stuff\\SimpleChatClient\\main.py&quot;, line 9, in &lt;module&gt;     msg = msg.decode(&#39;utf-8&#39;) UnicodeDecodeError: &#39;utf-8&#39; codec can&#39;t decode byte 0xe1 in position 3: invalid continuation byte b&#39;abc\\xe1\\x00\\xfe\\xfe\\xfe\\xfe\\xfe\\xfe\\xfe\\xfe\\xfe\\xfe\\xfe\\xf&zwnj;&#8203;e\\xfe\\xfe\\xfe&#39;  Process finished with exit code 1"},{"owner":{"account_id":1078944,"reputation":12043,"user_id":1076479,"accept_rate":20,"display_name":"Gil Hamilton"},"score":0,"creation_date":1639430100,"post_id":70315666,"comment_id":124342151,"body_markdown":"Just adding a note. The proximate cause here is that your C++ code is using the traditional Windows default encoding seen here: https://en.wikipedia.org/wiki/Windows-1252.  That encoding is probably built into the C++ compiler itself. You&#39;ll note that the `&#225;` character in that encoding is the single byte hex `e1` (`\\xe1`) which matches what your python error message is showing. But `e1` is not part of a valid UTF-8 character. Everything in @user16632363&#39;s answer below is correct: when dealing with non-ascii characters in particular, you must be explicit about the encoding.","body":"Just adding a note. The proximate cause here is that your C++ code is using the traditional Windows default encoding seen here: <a href=\"https://en.wikipedia.org/wiki/Windows-1252\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Windows-1252</a>.  That encoding is probably built into the C++ compiler itself. You&#39;ll note that the <code>&#225;</code> character in that encoding is the single byte hex <code>e1</code> (<code>\\xe1</code>) which matches what your python error message is showing. But <code>e1</code> is not part of a valid UTF-8 character. Everything in @user16632363&#39;s answer below is correct: when dealing with non-ascii characters in particular, you must be explicit about the encoding."}],"answers":[{"tags":[],"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639232005,"creation_date":1639231281,"answer_id":70315784,"question_id":70315666,"body_markdown":"TCP sockets carry byte streams without interpretation.  There are no &quot;special characters&quot;.  \r\n\r\nYour C++ code is apparently dealing in bytes; your Python and Java code is expecting those bytes to represent &quot;characters&quot; encoded as UTF-8.  This is a design mismatch.\r\n\r\nThe C++ code should explicitly convert to/from UTF-8 if your intent is that communication use UTF-8.\r\n\r\n---\r\nAdditionally, there are no &quot;messages&quot; in TCP. It&#39;s a byte streaam protocol. You need a convention so that each end can determine whether it has received what your application wants to consider as a message. \r\n\r\nIf one side sends &quot;xyz&quot; (and does not immediately close the connection), how does the other side know that &quot;z&quot; is the final character?\r\n\r\nSince you&#39;re dealing in characters, one way would be to make sure everything is terminated by a newline &quot;\\n&quot;.  The you can use line-oriented methods.\r\n","title":"Socket programming, encode/ decode data/ text, more specific special characters send and receive through sockets","body":"<p>TCP sockets carry byte streams without interpretation.  There are no &quot;special characters&quot;.</p>\n<p>Your C++ code is apparently dealing in bytes; your Python and Java code is expecting those bytes to represent &quot;characters&quot; encoded as UTF-8.  This is a design mismatch.</p>\n<p>The C++ code should explicitly convert to/from UTF-8 if your intent is that communication use UTF-8.</p>\n<hr />\n<p>Additionally, there are no &quot;messages&quot; in TCP. It's a byte streaam protocol. You need a convention so that each end can determine whether it has received what your application wants to consider as a message.</p>\n<p>If one side sends &quot;xyz&quot; (and does not immediately close the connection), how does the other side know that &quot;z&quot; is the final character?</p>\n<p>Since you're dealing in characters, one way would be to make sure everything is terminated by a newline &quot;\\n&quot;.  The you can use line-oriented methods.</p>\n"}],"owner":{"account_id":12657715,"reputation":1,"user_id":9199706,"display_name":"Lorand Csiki"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":625,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639232005,"creation_date":1639230214,"question_id":70315666,"body_markdown":"Win 10 64 bit\r\nServer in C++:\r\n```\r\nconst int BufLen = 1024;\r\nchar RecvBuf[BufLen];\r\nint result;\r\nchar SendBuf[BufLen] ;\r\n\r\nconst int PORT = 27015;\r\nconst char* HOST = &quot;127.0.0.1&quot;;\r\n\r\nint main()\r\n{\r\n    //SetConsoleOutputCP(65001);\r\n    std::cout &lt;&lt; &quot;Hello World!\\n&quot;;\r\n    //std::cout &lt;&lt; &quot;&#225;&quot; &lt;&lt; std::endl;\r\n    WSADATA wsaData; \r\n    int iResult = WSAStartup(MAKEWORD(2, 2), &amp;wsaData);   if (iResult != NO_ERROR) {\r\n        printf(&quot;Error at WSAStartup()\\n&quot;);     \r\n        return 1;\r\n    }\r\n    // Create a SOCKET for listening for   // incoming connection requests. \r\n    SOCKET ListenSocket;\r\n    ListenSocket = socket(AF_INET, SOCK_STREAM, IPPROTO_TCP);\r\n\r\n    if (ListenSocket == INVALID_SOCKET) {\r\n        printf(&quot;Error at socket(): %ld\\n&quot;, WSAGetLastError());    \r\n        WSACleanup();  \r\n        return 1;\r\n    \r\n    }\r\n    // The sockaddr_in structure specifies the address family,\r\n    // IP address, and port for the socket that is being bound.\r\n\r\n    sockaddr_in service;\r\n\r\n    service.sin_family = AF_INET;\r\n    //service.sin_addr.s_addr = inet_addr(&quot;127.0.0.1&quot;);\r\n    inet_pton(AF_INET, HOST, &amp;service.sin_addr);\r\n    service.sin_port = htons(PORT);\r\n\r\n    if (bind(ListenSocket, (SOCKADDR*)&amp;service, sizeof(service)) == SOCKET_ERROR) { \r\n        printf(&quot;bind() failed.\\n&quot;); \r\n        closesocket(ListenSocket); \r\n        WSACleanup(); \r\n        return 1;\r\n    }\r\n    // Listen for incoming connection requests.\r\n    // on the created socket\r\n    if (listen(ListenSocket, 1) == SOCKET_ERROR) { \r\n        printf(&quot;Error listening on socket.\\n&quot;);\r\n        closesocket(ListenSocket); WSACleanup();\r\n        return 1; \r\n    }\r\n\r\n    // Create a SOCKET for accepting incoming requests. SOCKET AcceptSocket; printf(&quot;Waiting for client to connect...\\n&quot;);\r\n    SOCKET AcceptSocket;\r\n    printf(&quot;Waiting for client to connect...\\n&quot;);\r\n\r\n    // Accept the connection.\r\n    AcceptSocket = accept( ListenSocket, NULL, NULL );\r\n    if (AcceptSocket == INVALID_SOCKET) {\r\n        printf(&quot;accept failed: %d\\n&quot;, WSAGetLastError()); \r\n        closesocket(ListenSocket);\r\n        WSACleanup(); \r\n        return 1;\r\n    }\r\n    else printf(&quot;Client connected.\\n&quot;);\r\n    // Call the recvfrom function to receive datagrams \r\n    // on the bound socket.\r\n    \r\n    printf(&quot;Receiving datagrams...\\n&quot;);\r\n    result = recv(AcceptSocket, RecvBuf, BufLen, 0);\r\n   \r\n    printf(&quot;%d\\n&quot;, result);\r\n    std::cout &lt;&lt; &quot;Received:&quot; &lt;&lt; RecvBuf &lt;&lt; std::endl;\r\n    printf(&quot;%d&quot;, sizeof(RecvBuf));\r\n    //strcpy_s(SendBuf, &quot;Hello&#233;&#225;ő&#250;&#243;&#252;&quot;);\r\n    printf(&quot;\\n\\n\\n\\n&quot;);\r\n    strcpy_s(SendBuf, &quot;abc&#225;&quot;);\r\n    std::cout &lt;&lt; SendBuf &lt;&lt; std::endl;\r\n    result = send(AcceptSocket, SendBuf, BufLen, 0);\r\n    printf(&quot;\\nAfter sending: %d\\n&quot;, result);\r\n    std::cout &lt;&lt; SendBuf;\r\n```\r\nthe Java client:\r\n```\r\n var socket = new Socket(&quot;127.0.0.1&quot;, 27015);\r\n        //sending to the server\r\n        var out = new PrintWriter(socket.getOutputStream(), true);\r\n        out.println(&quot;Hello&#225;&quot;);\r\n        //receive from server\r\n        var in = new InputStreamReader(socket.getInputStream());\r\n        BufferedReader br = new BufferedReader(in);\r\n        char[] buffer = new char[1024];\r\n        int count = br.read(buffer, 0, 20);\r\n        String reply = new String(buffer, 0, count);\r\n        System.out.println(reply);\r\n```\r\nPython client:\r\n```\r\nHOST = &quot;127.0.0.1&quot;\r\nPORT =  27015\r\nclientSocket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\r\nclientSocket.connect((HOST, PORT))\r\nclientSocket.send(&quot;JAASFSKF&quot;.encode(&#39;utf-8&#39;))\r\nmsg = clientSocket.recv(1024)\r\nprint(msg)\r\nmsg = msg.decode(&#39;utf-8&#39;)\r\nprint(msg)\r\nclientSocket.close()\r\n```\r\nRan some experiments with special characters but neither the clients or server can handle it.\r\n\r\nThe java client result:\r\n[encoding done with utf-8][1]\r\nThe python app throws and exception because it can not decode the data received from socket:\r\n[Python 3.9.5][2]\r\nI tried to save the server in different encoding but i think this is not the case, possibly some changes needed on the socket declaration.\r\nClients are the same machine as server.\r\n**This is my actual question, to overcome this problem**\r\n\r\n  [1]: https://i.stack.imgur.com/f0mtb.png\r\n  [2]: https://i.stack.imgur.com/bDr2t.png","title":"Socket programming, encode/ decode data/ text, more specific special characters send and receive through sockets","body":"<p>Win 10 64 bit\nServer in C++:</p>\n<pre><code>const int BufLen = 1024;\nchar RecvBuf[BufLen];\nint result;\nchar SendBuf[BufLen] ;\n\nconst int PORT = 27015;\nconst char* HOST = &quot;127.0.0.1&quot;;\n\nint main()\n{\n    //SetConsoleOutputCP(65001);\n    std::cout &lt;&lt; &quot;Hello World!\\n&quot;;\n    //std::cout &lt;&lt; &quot;á&quot; &lt;&lt; std::endl;\n    WSADATA wsaData; \n    int iResult = WSAStartup(MAKEWORD(2, 2), &amp;wsaData);   if (iResult != NO_ERROR) {\n        printf(&quot;Error at WSAStartup()\\n&quot;);     \n        return 1;\n    }\n    // Create a SOCKET for listening for   // incoming connection requests. \n    SOCKET ListenSocket;\n    ListenSocket = socket(AF_INET, SOCK_STREAM, IPPROTO_TCP);\n\n    if (ListenSocket == INVALID_SOCKET) {\n        printf(&quot;Error at socket(): %ld\\n&quot;, WSAGetLastError());    \n        WSACleanup();  \n        return 1;\n    \n    }\n    // The sockaddr_in structure specifies the address family,\n    // IP address, and port for the socket that is being bound.\n\n    sockaddr_in service;\n\n    service.sin_family = AF_INET;\n    //service.sin_addr.s_addr = inet_addr(&quot;127.0.0.1&quot;);\n    inet_pton(AF_INET, HOST, &amp;service.sin_addr);\n    service.sin_port = htons(PORT);\n\n    if (bind(ListenSocket, (SOCKADDR*)&amp;service, sizeof(service)) == SOCKET_ERROR) { \n        printf(&quot;bind() failed.\\n&quot;); \n        closesocket(ListenSocket); \n        WSACleanup(); \n        return 1;\n    }\n    // Listen for incoming connection requests.\n    // on the created socket\n    if (listen(ListenSocket, 1) == SOCKET_ERROR) { \n        printf(&quot;Error listening on socket.\\n&quot;);\n        closesocket(ListenSocket); WSACleanup();\n        return 1; \n    }\n\n    // Create a SOCKET for accepting incoming requests. SOCKET AcceptSocket; printf(&quot;Waiting for client to connect...\\n&quot;);\n    SOCKET AcceptSocket;\n    printf(&quot;Waiting for client to connect...\\n&quot;);\n\n    // Accept the connection.\n    AcceptSocket = accept( ListenSocket, NULL, NULL );\n    if (AcceptSocket == INVALID_SOCKET) {\n        printf(&quot;accept failed: %d\\n&quot;, WSAGetLastError()); \n        closesocket(ListenSocket);\n        WSACleanup(); \n        return 1;\n    }\n    else printf(&quot;Client connected.\\n&quot;);\n    // Call the recvfrom function to receive datagrams \n    // on the bound socket.\n    \n    printf(&quot;Receiving datagrams...\\n&quot;);\n    result = recv(AcceptSocket, RecvBuf, BufLen, 0);\n   \n    printf(&quot;%d\\n&quot;, result);\n    std::cout &lt;&lt; &quot;Received:&quot; &lt;&lt; RecvBuf &lt;&lt; std::endl;\n    printf(&quot;%d&quot;, sizeof(RecvBuf));\n    //strcpy_s(SendBuf, &quot;Helloéáőúóü&quot;);\n    printf(&quot;\\n\\n\\n\\n&quot;);\n    strcpy_s(SendBuf, &quot;abcá&quot;);\n    std::cout &lt;&lt; SendBuf &lt;&lt; std::endl;\n    result = send(AcceptSocket, SendBuf, BufLen, 0);\n    printf(&quot;\\nAfter sending: %d\\n&quot;, result);\n    std::cout &lt;&lt; SendBuf;\n</code></pre>\n<p>the Java client:</p>\n<pre><code> var socket = new Socket(&quot;127.0.0.1&quot;, 27015);\n        //sending to the server\n        var out = new PrintWriter(socket.getOutputStream(), true);\n        out.println(&quot;Helloá&quot;);\n        //receive from server\n        var in = new InputStreamReader(socket.getInputStream());\n        BufferedReader br = new BufferedReader(in);\n        char[] buffer = new char[1024];\n        int count = br.read(buffer, 0, 20);\n        String reply = new String(buffer, 0, count);\n        System.out.println(reply);\n</code></pre>\n<p>Python client:</p>\n<pre><code>HOST = &quot;127.0.0.1&quot;\nPORT =  27015\nclientSocket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\nclientSocket.connect((HOST, PORT))\nclientSocket.send(&quot;JAASFSKF&quot;.encode('utf-8'))\nmsg = clientSocket.recv(1024)\nprint(msg)\nmsg = msg.decode('utf-8')\nprint(msg)\nclientSocket.close()\n</code></pre>\n<p>Ran some experiments with special characters but neither the clients or server can handle it.</p>\n<p>The java client result:\n<a href=\"https://i.stack.imgur.com/f0mtb.png\" rel=\"nofollow noreferrer\">encoding done with utf-8</a>\nThe python app throws and exception because it can not decode the data received from socket:\n<a href=\"https://i.stack.imgur.com/bDr2t.png\" rel=\"nofollow noreferrer\">Python 3.9.5</a>\nI tried to save the server in different encoding but i think this is not the case, possibly some changes needed on the socket declaration.\nClients are the same machine as server.\n<strong>This is my actual question, to overcome this problem</strong></p>\n"},{"tags":["java","c","native","jna","alpine-linux"],"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1639231894,"creation_date":1639231458,"question_id":70315802,"body_markdown":"My Java application uses some c code with the use of JNA library. Application runs inside the ARM based Alpine container. When the application runs for long time the container memory consumption is keep on increasing. JVM memory allocation is constant and it&#39;s under that, but looks like native memory is keep on increasing.\r\n\r\nFor GNU bases Linux OS we jemallac works good for Java native memory analysis, but I can&#39;t find jemalloc support for MUSL based Linux like Alpine.\r\n\r\nHow I can do the Java native memory analysis in Alpine?\r\n\r\nI initially though of using `-XX:NativeMemoryTracking`, but it&#39;s not of mush use in this case.","title":"java native memory analysis in alpine","body":"<p>My Java application uses some c code with the use of JNA library. Application runs inside the ARM based Alpine container. When the application runs for long time the container memory consumption is keep on increasing. JVM memory allocation is constant and it's under that, but looks like native memory is keep on increasing.</p>\n<p>For GNU bases Linux OS we jemallac works good for Java native memory analysis, but I can't find jemalloc support for MUSL based Linux like Alpine.</p>\n<p>How I can do the Java native memory analysis in Alpine?</p>\n<p>I initially though of using <code>-XX:NativeMemoryTracking</code>, but it's not of mush use in this case.</p>\n"},{"tags":["java","html","eclipse","web"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1639233511,"post_id":70315829,"comment_id":124298811,"body_markdown":"What are &quot;all the ways&quot;? Which Marketplace offering where you trying, and did it give you the *same* error? Have you tried using https://download.eclipse.org/releases/latest ?","body":"What are &quot;all the ways&quot;? Which Marketplace offering where you trying, and did it give you the <i>same</i> error? Have you tried using <a href=\"https://download.eclipse.org/releases/latest\" rel=\"nofollow noreferrer\">download.eclipse.org/releases/latest</a> ?"},{"owner":{"account_id":21598705,"reputation":1,"user_id":15927235,"display_name":"Subbu"},"score":0,"creation_date":1639234217,"post_id":70315829,"comment_id":124298954,"body_markdown":"I tried by changing the network configuration and also tried  by start eclipse with this argument\n-vmargs -Djava.net.preferIPv4Stack=true\n\nfor market place below error getting: \n\nMarketplaceDiscoveryStrategy failed with an error\nCannot complete request to https://marketplace.eclipse.org/api/p?\nHave you tried using download.eclipse.org/releases/latest ?-------Yes I tried with this.","body":"I tried by changing the network configuration and also tried  by start eclipse with this argument -vmargs -Djava.net.preferIPv4Stack=true  for market place below error getting:   MarketplaceDiscoveryStrategy failed with an error Cannot complete request to <a href=\"https://marketplace.eclipse.org/api/p\" rel=\"nofollow noreferrer\">marketplace.eclipse.org/api/p</a>? Have you tried using download.eclipse.org/releases/latest ?-------Yes I tried with this."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1639235380,"post_id":70315829,"comment_id":124299242,"body_markdown":"Are you sure your Eclipse is up to date and that you are not behind a proxy? It works for me and eclipse.org had no outages in the last days: https://www.eclipsestatus.io/","body":"Are you sure your Eclipse is up to date and that you are not behind a proxy? It works for me and eclipse.org had no outages in the last days: <a href=\"https://www.eclipsestatus.io/\" rel=\"nofollow noreferrer\">eclipsestatus.io</a>"},{"owner":{"account_id":21598705,"reputation":1,"user_id":15927235,"display_name":"Subbu"},"score":0,"creation_date":1639238073,"post_id":70315829,"comment_id":124299909,"body_markdown":"Yes it is in up to date.","body":"Yes it is in up to date."},{"owner":{"account_id":21598705,"reputation":1,"user_id":15927235,"display_name":"Subbu"},"score":0,"creation_date":1639275561,"post_id":70315829,"comment_id":124306783,"body_markdown":"Is there any possibility to import the html editor to eclipse by installing externally..","body":"Is there any possibility to import the html editor to eclipse by installing externally.."}],"owner":{"account_id":21598705,"reputation":1,"user_id":15927235,"display_name":"Subbu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639231683,"creation_date":1639231683,"question_id":70315829,"body_markdown":"Web tools is not available in my eclipse so tried to install new software from help menu but it&#39;s getting &quot;unable to read repository at https://download.eclipse.org/releases/2021-06/content.xml&quot; error. I tried all the ways to resolve this but still it was not resolved. I tried from eclipse marketplace too but there also getting error. So kindly help me to import the html editor manually to eclipse.","title":"How to install html editor manually from browser and import it to eclipse","body":"<p>Web tools is not available in my eclipse so tried to install new software from help menu but it's getting &quot;unable to read repository at <a href=\"https://download.eclipse.org/releases/2021-06/content.xml%22\" rel=\"nofollow noreferrer\">https://download.eclipse.org/releases/2021-06/content.xml&quot;</a> error. I tried all the ways to resolve this but still it was not resolved. I tried from eclipse marketplace too but there also getting error. So kindly help me to import the html editor manually to eclipse.</p>\n"},{"tags":["java","jwt","quarkus"],"answers":[{"tags":[],"owner":{"account_id":4135436,"reputation":11,"user_id":3392204,"display_name":"Jan Kunzmann"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639230622,"creation_date":1639230622,"answer_id":70315721,"question_id":70297653,"body_markdown":"It&#39;s for sure your key path. Double check you have the pk file at the right location and that there are no trailing white chars in your application.properties.","title":"Unable to generate token using smalrye jwt","body":"<p>It's for sure your key path. Double check you have the pk file at the right location and that there are no trailing white chars in your application.properties.</p>\n"},{"tags":[],"owner":{"account_id":460797,"reputation":748,"user_id":862119,"display_name":"gastaldi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1639231591,"creation_date":1639231591,"answer_id":70315816,"question_id":70297653,"body_markdown":"There is a trailing space in this line of your application.properties: \r\n\r\n```\r\nsmallrye.jwt.sign.key.location=privateKey.pem \r\n```\r\n\r\nRemove the space and it should work. See https://github.com/quarkusio/quarkus-quickstarts/blob/main/security-jwt-quickstart/src/main/resources/application.properties","title":"Unable to generate token using smalrye jwt","body":"<p>There is a trailing space in this line of your application.properties:</p>\n<pre><code>smallrye.jwt.sign.key.location=privateKey.pem \n</code></pre>\n<p>Remove the space and it should work. See <a href=\"https://github.com/quarkusio/quarkus-quickstarts/blob/main/security-jwt-quickstart/src/main/resources/application.properties\" rel=\"nofollow noreferrer\">https://github.com/quarkusio/quarkus-quickstarts/blob/main/security-jwt-quickstart/src/main/resources/application.properties</a></p>\n"}],"owner":{"account_id":15007276,"reputation":51,"user_id":10832923,"display_name":"Deehaz05"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1504,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1639231591,"creation_date":1639089790,"question_id":70297653,"body_markdown":"I&#39;m new to using Quarkus. So I wanted to generate a token using smalrye jwt in my demo app but it keeps failing when i try to make a GET request to this endpoint to get a token `http://localhost:8080/generate-token` with this error message:\r\n\r\n```\r\norg.jboss.resteasy.spi.UnhandledException: io.smallrye.jwt.build.JwtSignatureException: SRJWT05009: \r\n        at org.jboss.resteasy.core.ExceptionHandler.handleApplicationException(ExceptionHandler.java:105)\r\n        at org.jboss.resteasy.core.ExceptionHandler.handleException(ExceptionHandler.java:359)\r\n        at org.jboss.resteasy.core.SynchronousDispatcher.writeException(SynchronousDispatcher.java:218)\r\n        at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:519)\r\n        at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:261)\r\n        at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:161)\r\n        at org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\r\n        at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:164)\r\n        at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:247)\r\n        at io.quarkus.resteasy.runtime.standalone.RequestDispatcher.service(RequestDispatcher.java:73)\r\n        at io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.dispatch(VertxRequestHandler.java:135)\r\n        at io.quarkus.resteasy.runtime.standalone.VertxRequestHandler$1.run(VertxRequestHandler.java:90)\r\n        at io.quarkus.vertx.core.runtime.VertxCoreRecorder$13.runWith(VertxCoreRecorder.java:543)\r\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n        at org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\r\n        at org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\r\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n        at java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: io.smallrye.jwt.build.JwtSignatureException: SRJWT05009: \r\n        at io.smallrye.jwt.build.impl.JwtSignatureImpl.sign(JwtSignatureImpl.java:76)\r\n        at com.beita.TokenService.generateToken(TokenService.java:24)\r\n        at com.beita.TokenService_Subclass.generateToken$$superforward1(Unknown Source)\r\n        at com.beita.TokenService_Subclass$$function$$2.apply(Unknown Source)\r\n        at io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:54)\r\n        at io.quarkus.arc.runtime.devconsole.InvocationInterceptor.proceed(InvocationInterceptor.java:62)\r\n        at io.quarkus.arc.runtime.devconsole.InvocationInterceptor.monitor(InvocationInterceptor.java:49)\r\n        at io.quarkus.arc.runtime.devconsole.InvocationInterceptor_Bean.intercept(Unknown Source)\r\n        at io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:41)\r\n        at io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:41)\r\n        at io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:32)\r\n        at com.beita.TokenService_Subclass.generateToken(Unknown Source)\r\n        at com.beita.TokenService_ClientProxy.generateToken(Unknown Source)\r\n        at com.beita.LoginResource.login(LoginResource.java:23)\r\n        at com.beita.LoginResource_Subclass.login$$superforward1(Unknown Source)\r\n        at com.beita.LoginResource_Subclass$$function$$2.apply(Unknown Source)\r\n        at io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:54)\r\n        at io.quarkus.arc.runtime.devconsole.InvocationInterceptor.proceed(InvocationInterceptor.java:62)\r\n        at io.quarkus.arc.runtime.devconsole.InvocationInterceptor.monitor(InvocationInterceptor.java:49)\r\n        at io.quarkus.arc.runtime.devconsole.InvocationInterceptor_Bean.intercept(Unknown Source)\r\n        at io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:41)\r\n        at io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:41)\r\n        at io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:32)\r\n        at com.beita.LoginResource_Subclass.login(Unknown Source)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:170)\r\n        at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:130)\r\n        at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:660)\r\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:524)\r\n        at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$2(ResourceMethodInvoker.java:474)\r\n        at org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\r\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:476)\r\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:434)\r\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:408)\r\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:69)\r\n        at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:492)\r\n        ... 15 more\r\nCaused by: java.lang.IllegalArgumentException: SRJWT05020: Signing key can not be loaded from: privateKey.pem \r\n        at io.smallrye.jwt.build.impl.JwtSignatureImpl.getSigningKeyFromKeyLocation(JwtSignatureImpl.java:241)\r\n        at io.smallrye.jwt.build.impl.JwtSignatureImpl.sign(JwtSignatureImpl.java:71)\r\n```\r\nThis is what I&#39;m doing.\r\n\r\n### application.properties ###\r\n```\r\nmp.jwt.verify.publickey.location=publicKey.pem\r\nsmallrye.jwt.sign.key.location=privateKey.pem \r\nmp.jwt.verify.issuer=https://example.com/issuer\r\n```\r\n### TokenService.java ###\r\n```\r\n@RequestScoped\r\npublic class TokenService {\r\n    public String generateToken(){\r\n        return Jwt.issuer(&quot;https://example.com/issuer&quot;) \r\n            .upn(&quot;johndoe@gmail.com&quot;)\r\n            .groups(new HashSet&lt;&gt;(Arrays.asList(&quot;User&quot;, &quot;Admin&quot;))) \r\n            .expiresIn(300L)\r\n            .claim(Claims.birthdate.name(), &quot;2001-07-13&quot;) \r\n        .sign();\r\n    }\r\n}\r\n```\r\n### TokenResource.java ###\r\n```\r\n@Path(&quot;generate-token&quot;)\r\n@Produces(MediaType.APPLICATION_JSON)\r\n@Consumes(MediaType.APPLICATION_JSON)\r\npublic class TokenResource {\r\n\r\n    @Inject\r\n    TokenService tokenService;\r\n\r\n    @GET\r\n    public Response getToken(){\r\n        String token = tokenService.generateToken();\r\n        return Response.ok(token).build();\r\n    }\r\n}\r\n```\r\n### LoginResource ###\r\n```\r\n@Path(&quot;/auth&quot;)\r\npublic class LoginResource {\r\n    \r\n    @GET\r\n    @Path(&quot;permit-all&quot;)\r\n    @PermitAll\r\n    @javax.ws.rs.Produces(MediaType.TEXT_PLAIN)\r\n    public String hello() {\r\n        return &quot;hello&quot;;\r\n    }\r\n\r\n    @Path(&quot;roles-allowed&quot;) \r\n    @RolesAllowed({ &quot;User&quot;, &quot;Admin&quot; })\r\n    public String helloSecured() {\r\n        return &quot;hello admin or user&quot;;\r\n    }\r\n}\r\n```\r\nI have quarkus-smallrye-jwt dependency in pom.xml\r\n \r\n### POM.xml ###\r\n```\r\n&lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-smallrye-jwt&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nI have both my privateKey.pem and publicKey.pem in **resources** directory.\r\n\r\n### publicKey.pem ###\r\n```\r\n-----BEGIN PUBLIC KEY-----\r\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlivFI8qB4D0y2jy0CfEq\r\nFyy46R0o7S8TKpsx5xbHKoU1VWg6QkQm+ntyIv1p4kE1sPEQO73+HY8+Bzs75XwR\r\nTYL1BmR1w8J5hmjVWjc6R2BTBGAYRPFRhor3kpM6ni2SPmNNhurEAHw7TaqszP5e\r\nUF/F9+KEBWkwVta+PZ37bwqSE4sCb1soZFrVz/UT/LF4tYpuVYt3YbqToZ3pZOZ9\r\nAX2o1GCG3xwOjkc4x0W7ezbQZdC9iftPxVHR8irOijJRRjcPDtA6vPKpzLl6CyYn\r\nsIYPd99ltwxTHjr3npfv/3Lw50bAkbT4HeLFxTx4flEoZLKO/g0bAoV2uqBhkA9x\r\nnQIDAQAB\r\n-----END PUBLIC KEY-----\r\n```\r\n### privateKey.pem ###\r\n```\r\n-----BEGIN PRIVATE KEY-----\r\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQCWK8UjyoHgPTLa\r\nPLQJ8SoXLLjpHSjtLxMqmzHnFscqhTVVaDpCRCb6e3Ii/WniQTWw8RA7vf4djz4H\r\nOzvlfBFNgvUGZHXDwnmGaNVaNzpHYFMEYBhE8VGGiveSkzqeLZI+Y02G6sQAfDtN\r\nqqzM/l5QX8X34oQFaTBW1r49nftvCpITiwJvWyhkWtXP9RP8sXi1im5Vi3dhupOh\r\nnelk5n0BfajUYIbfHA6ORzjHRbt7NtBl0L2J+0/FUdHyKs6KMlFGNw8O0Dq88qnM\r\nuXoLJiewhg9332W3DFMeOveel+//cvDnRsCRtPgd4sXFPHh+UShkso7+DRsChXa6\r\noGGQD3GdAgMBAAECggEAAjfTSZwMHwvIXIDZB+yP+pemg4ryt84iMlbofclQV8hv\r\n6TsI4UGwcbKxFOM5VSYxbNOisb80qasb929gixsyBjsQ8284bhPJR7r0q8h1C+jY\r\nURA6S4pk8d/LmFakXwG9Tz6YPo3pJziuh48lzkFTk0xW2Dp4SLwtAptZY/+ZXyJ6\r\n96QXDrZKSSM99Jh9s7a0ST66WoxSS0UC51ak+Keb0KJ1jz4bIJ2C3r4rYlSu4hHB\r\nY73GfkWORtQuyUDa9yDOem0/z0nr6pp+pBSXPLHADsqvZiIhxD/O0Xk5I6/zVHB3\r\nzuoQqLERk0WvA8FXz2o8AYwcQRY2g30eX9kU4uDQAQKBgQDmf7KGImUGitsEPepF\r\nKH5yLWYWqghHx6wfV+fdbBxoqn9WlwcQ7JbynIiVx8MX8/1lLCCe8v41ypu/eLtP\r\niY1ev2IKdrUStvYRSsFigRkuPHUo1ajsGHQd+ucTDf58mn7kRLW1JGMeGxo/t32B\r\nm96Af6AiPWPEJuVfgGV0iwg+HQKBgQCmyPzL9M2rhYZn1AozRUguvlpmJHU2DpqS\r\n34Q+7x2Ghf7MgBUhqE0t3FAOxEC7IYBwHmeYOvFR8ZkVRKNF4gbnF9RtLdz0DMEG\r\n5qsMnvJUSQbNB1yVjUCnDAtElqiFRlQ/k0LgYkjKDY7LfciZl9uJRl0OSYeX/qG2\r\ntRW09tOpgQKBgBSGkpM3RN/MRayfBtmZvYjVWh3yjkI2GbHA1jj1g6IebLB9SnfL\r\nWbXJErCj1U+wvoPf5hfBc7m+jRgD3Eo86YXibQyZfY5pFIh9q7Ll5CQl5hj4zc4Y\r\nb16sFR+xQ1Q9Pcd+BuBWmSz5JOE/qcF869dthgkGhnfVLt/OQzqZluZRAoGAXQ09\r\nnT0TkmKIvlza5Af/YbTqEpq8mlBDhTYXPlWCD4+qvMWpBII1rSSBtftgcgca9XLB\r\nMXmRMbqtQeRtg4u7dishZVh1MeP7vbHsNLppUQT9Ol6lFPsd2xUpJDc6BkFat62d\r\nXjr3iWNPC9E9nhPPdCNBv7reX7q81obpeXFMXgECgYEAmk2Qlus3OV0tfoNRqNpe\r\nMb0teduf2+h3xaI1XDIzPVtZF35ELY/RkAHlmWRT4PCdR0zXDidE67L6XdJyecSt\r\nFdOUH8z5qUraVVebRFvJqf/oGsXc4+ex1ZKUTbY0wqY1y9E39yvB3MaTmZFuuqk8\r\nf3cg+fr8aou7pr9SHhJlZCU=\r\n-----END PRIVATE KEY-----\r\n```","title":"Unable to generate token using smalrye jwt","body":"<p>I'm new to using Quarkus. So I wanted to generate a token using smalrye jwt in my demo app but it keeps failing when i try to make a GET request to this endpoint to get a token <code>http://localhost:8080/generate-token</code> with this error message:</p>\n<pre><code>org.jboss.resteasy.spi.UnhandledException: io.smallrye.jwt.build.JwtSignatureException: SRJWT05009: \n        at org.jboss.resteasy.core.ExceptionHandler.handleApplicationException(ExceptionHandler.java:105)\n        at org.jboss.resteasy.core.ExceptionHandler.handleException(ExceptionHandler.java:359)\n        at org.jboss.resteasy.core.SynchronousDispatcher.writeException(SynchronousDispatcher.java:218)\n        at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:519)\n        at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:261)\n        at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:161)\n        at org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\n        at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:164)\n        at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:247)\n        at io.quarkus.resteasy.runtime.standalone.RequestDispatcher.service(RequestDispatcher.java:73)\n        at io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.dispatch(VertxRequestHandler.java:135)\n        at io.quarkus.resteasy.runtime.standalone.VertxRequestHandler$1.run(VertxRequestHandler.java:90)\n        at io.quarkus.vertx.core.runtime.VertxCoreRecorder$13.runWith(VertxCoreRecorder.java:543)\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\n        at org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\n        at org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n        at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: io.smallrye.jwt.build.JwtSignatureException: SRJWT05009: \n        at io.smallrye.jwt.build.impl.JwtSignatureImpl.sign(JwtSignatureImpl.java:76)\n        at com.beita.TokenService.generateToken(TokenService.java:24)\n        at com.beita.TokenService_Subclass.generateToken$$superforward1(Unknown Source)\n        at com.beita.TokenService_Subclass$$function$$2.apply(Unknown Source)\n        at io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:54)\n        at io.quarkus.arc.runtime.devconsole.InvocationInterceptor.proceed(InvocationInterceptor.java:62)\n        at io.quarkus.arc.runtime.devconsole.InvocationInterceptor.monitor(InvocationInterceptor.java:49)\n        at io.quarkus.arc.runtime.devconsole.InvocationInterceptor_Bean.intercept(Unknown Source)\n        at io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:41)\n        at io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:41)\n        at io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:32)\n        at com.beita.TokenService_Subclass.generateToken(Unknown Source)\n        at com.beita.TokenService_ClientProxy.generateToken(Unknown Source)\n        at com.beita.LoginResource.login(LoginResource.java:23)\n        at com.beita.LoginResource_Subclass.login$$superforward1(Unknown Source)\n        at com.beita.LoginResource_Subclass$$function$$2.apply(Unknown Source)\n        at io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:54)\n        at io.quarkus.arc.runtime.devconsole.InvocationInterceptor.proceed(InvocationInterceptor.java:62)\n        at io.quarkus.arc.runtime.devconsole.InvocationInterceptor.monitor(InvocationInterceptor.java:49)\n        at io.quarkus.arc.runtime.devconsole.InvocationInterceptor_Bean.intercept(Unknown Source)\n        at io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:41)\n        at io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:41)\n        at io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:32)\n        at com.beita.LoginResource_Subclass.login(Unknown Source)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:170)\n        at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:130)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:660)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:524)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$2(ResourceMethodInvoker.java:474)\n        at org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:476)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:434)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:408)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:69)\n        at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:492)\n        ... 15 more\nCaused by: java.lang.IllegalArgumentException: SRJWT05020: Signing key can not be loaded from: privateKey.pem \n        at io.smallrye.jwt.build.impl.JwtSignatureImpl.getSigningKeyFromKeyLocation(JwtSignatureImpl.java:241)\n        at io.smallrye.jwt.build.impl.JwtSignatureImpl.sign(JwtSignatureImpl.java:71)\n</code></pre>\n<p>This is what I'm doing.</p>\n<h3>application.properties</h3>\n<pre><code>mp.jwt.verify.publickey.location=publicKey.pem\nsmallrye.jwt.sign.key.location=privateKey.pem \nmp.jwt.verify.issuer=https://example.com/issuer\n</code></pre>\n<h3>TokenService.java</h3>\n<pre><code>@RequestScoped\npublic class TokenService {\n    public String generateToken(){\n        return Jwt.issuer(&quot;https://example.com/issuer&quot;) \n            .upn(&quot;johndoe@gmail.com&quot;)\n            .groups(new HashSet&lt;&gt;(Arrays.asList(&quot;User&quot;, &quot;Admin&quot;))) \n            .expiresIn(300L)\n            .claim(Claims.birthdate.name(), &quot;2001-07-13&quot;) \n        .sign();\n    }\n}\n</code></pre>\n<h3>TokenResource.java</h3>\n<pre><code>@Path(&quot;generate-token&quot;)\n@Produces(MediaType.APPLICATION_JSON)\n@Consumes(MediaType.APPLICATION_JSON)\npublic class TokenResource {\n\n    @Inject\n    TokenService tokenService;\n\n    @GET\n    public Response getToken(){\n        String token = tokenService.generateToken();\n        return Response.ok(token).build();\n    }\n}\n</code></pre>\n<h3>LoginResource</h3>\n<pre><code>@Path(&quot;/auth&quot;)\npublic class LoginResource {\n    \n    @GET\n    @Path(&quot;permit-all&quot;)\n    @PermitAll\n    @javax.ws.rs.Produces(MediaType.TEXT_PLAIN)\n    public String hello() {\n        return &quot;hello&quot;;\n    }\n\n    @Path(&quot;roles-allowed&quot;) \n    @RolesAllowed({ &quot;User&quot;, &quot;Admin&quot; })\n    public String helloSecured() {\n        return &quot;hello admin or user&quot;;\n    }\n}\n</code></pre>\n<p>I have quarkus-smallrye-jwt dependency in pom.xml</p>\n<h3>POM.xml</h3>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-smallrye-jwt&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I have both my privateKey.pem and publicKey.pem in <strong>resources</strong> directory.</p>\n<h3>publicKey.pem</h3>\n<pre><code>-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlivFI8qB4D0y2jy0CfEq\nFyy46R0o7S8TKpsx5xbHKoU1VWg6QkQm+ntyIv1p4kE1sPEQO73+HY8+Bzs75XwR\nTYL1BmR1w8J5hmjVWjc6R2BTBGAYRPFRhor3kpM6ni2SPmNNhurEAHw7TaqszP5e\nUF/F9+KEBWkwVta+PZ37bwqSE4sCb1soZFrVz/UT/LF4tYpuVYt3YbqToZ3pZOZ9\nAX2o1GCG3xwOjkc4x0W7ezbQZdC9iftPxVHR8irOijJRRjcPDtA6vPKpzLl6CyYn\nsIYPd99ltwxTHjr3npfv/3Lw50bAkbT4HeLFxTx4flEoZLKO/g0bAoV2uqBhkA9x\nnQIDAQAB\n-----END PUBLIC KEY-----\n</code></pre>\n<h3>privateKey.pem</h3>\n<pre><code>-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQCWK8UjyoHgPTLa\nPLQJ8SoXLLjpHSjtLxMqmzHnFscqhTVVaDpCRCb6e3Ii/WniQTWw8RA7vf4djz4H\nOzvlfBFNgvUGZHXDwnmGaNVaNzpHYFMEYBhE8VGGiveSkzqeLZI+Y02G6sQAfDtN\nqqzM/l5QX8X34oQFaTBW1r49nftvCpITiwJvWyhkWtXP9RP8sXi1im5Vi3dhupOh\nnelk5n0BfajUYIbfHA6ORzjHRbt7NtBl0L2J+0/FUdHyKs6KMlFGNw8O0Dq88qnM\nuXoLJiewhg9332W3DFMeOveel+//cvDnRsCRtPgd4sXFPHh+UShkso7+DRsChXa6\noGGQD3GdAgMBAAECggEAAjfTSZwMHwvIXIDZB+yP+pemg4ryt84iMlbofclQV8hv\n6TsI4UGwcbKxFOM5VSYxbNOisb80qasb929gixsyBjsQ8284bhPJR7r0q8h1C+jY\nURA6S4pk8d/LmFakXwG9Tz6YPo3pJziuh48lzkFTk0xW2Dp4SLwtAptZY/+ZXyJ6\n96QXDrZKSSM99Jh9s7a0ST66WoxSS0UC51ak+Keb0KJ1jz4bIJ2C3r4rYlSu4hHB\nY73GfkWORtQuyUDa9yDOem0/z0nr6pp+pBSXPLHADsqvZiIhxD/O0Xk5I6/zVHB3\nzuoQqLERk0WvA8FXz2o8AYwcQRY2g30eX9kU4uDQAQKBgQDmf7KGImUGitsEPepF\nKH5yLWYWqghHx6wfV+fdbBxoqn9WlwcQ7JbynIiVx8MX8/1lLCCe8v41ypu/eLtP\niY1ev2IKdrUStvYRSsFigRkuPHUo1ajsGHQd+ucTDf58mn7kRLW1JGMeGxo/t32B\nm96Af6AiPWPEJuVfgGV0iwg+HQKBgQCmyPzL9M2rhYZn1AozRUguvlpmJHU2DpqS\n34Q+7x2Ghf7MgBUhqE0t3FAOxEC7IYBwHmeYOvFR8ZkVRKNF4gbnF9RtLdz0DMEG\n5qsMnvJUSQbNB1yVjUCnDAtElqiFRlQ/k0LgYkjKDY7LfciZl9uJRl0OSYeX/qG2\ntRW09tOpgQKBgBSGkpM3RN/MRayfBtmZvYjVWh3yjkI2GbHA1jj1g6IebLB9SnfL\nWbXJErCj1U+wvoPf5hfBc7m+jRgD3Eo86YXibQyZfY5pFIh9q7Ll5CQl5hj4zc4Y\nb16sFR+xQ1Q9Pcd+BuBWmSz5JOE/qcF869dthgkGhnfVLt/OQzqZluZRAoGAXQ09\nnT0TkmKIvlza5Af/YbTqEpq8mlBDhTYXPlWCD4+qvMWpBII1rSSBtftgcgca9XLB\nMXmRMbqtQeRtg4u7dishZVh1MeP7vbHsNLppUQT9Ol6lFPsd2xUpJDc6BkFat62d\nXjr3iWNPC9E9nhPPdCNBv7reX7q81obpeXFMXgECgYEAmk2Qlus3OV0tfoNRqNpe\nMb0teduf2+h3xaI1XDIzPVtZF35ELY/RkAHlmWRT4PCdR0zXDidE67L6XdJyecSt\nFdOUH8z5qUraVVebRFvJqf/oGsXc4+ex1ZKUTbY0wqY1y9E39yvB3MaTmZFuuqk8\nf3cg+fr8aou7pr9SHhJlZCU=\n-----END PRIVATE KEY-----\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1639231585,"post_id":70315701,"comment_id":124298442,"body_markdown":"[mcve] please .. btw: static scope of methods is nearly always the wrong tool - instead learn how to pass parameters across your application/controllers.","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .. btw: static scope of methods is nearly always the wrong tool - instead learn how to pass parameters across your application/controllers."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1639231948,"post_id":70315701,"comment_id":124298509,"body_markdown":"I often find that it is simpler to just have different implementations for add versus update (and especially for a non-editable view), they seem similar and have the same fields, but the logic is usually a bit different.","body":"I often find that it is simpler to just have different implementations for add versus update (and especially for a non-editable view), they seem similar and have the same fields, but the logic is usually a bit different."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1639237844,"post_id":70315701,"comment_id":124299851,"body_markdown":"Another option would be to reuse the FXML, but define two different controller classes (one for update and one for add). Remove the `fx:controller` attribute from the FXML, and call `setController(…)` on the FXML loader, passing in whichever kind of controller you need.","body":"Another option would be to reuse the FXML, but define two different controller classes (one for update and one for add). Remove the <code>fx:controller</code> attribute from the FXML, and call <code>setController(…)</code> on the FXML loader, passing in whichever kind of controller you need."},{"owner":{"account_id":12092932,"reputation":55,"user_id":8838185,"display_name":"Stijn Klijn"},"score":0,"creation_date":1639240629,"post_id":70315701,"comment_id":124300461,"body_markdown":"I think I found a solution with which I can reuse both the FXML and the controller. Apparently, in the main controller, you can get an instance of the controller with `fxmlloader.getController`. You can then call a method in that controller which you have defined, e.g. `setupAsUpdater`, which sets up the internal variables and FXML to make it represent an updater object. I have found this to have saved me a lot of duplicate code","body":"I think I found a solution with which I can reuse both the FXML and the controller. Apparently, in the main controller, you can get an instance of the controller with <code>fxmlloader.getController</code>. You can then call a method in that controller which you have defined, e.g. <code>setupAsUpdater</code>, which sets up the internal variables and FXML to make it represent an updater object. I have found this to have saved me a lot of duplicate code"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1639262490,"post_id":70315701,"comment_id":124304987,"body_markdown":"Yes Stijin that is the method recommended in the passing params link.","body":"Yes Stijin that is the method recommended in the passing params link."}],"owner":{"account_id":12092932,"reputation":55,"user_id":8838185,"display_name":"Stijn Klijn"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1639280196,"answer_count":0,"score":0,"last_activity_date":1639230496,"creation_date":1639230496,"question_id":70315701,"body_markdown":"I want to reuse my JavaFX code of an *add* window for an *update* window, since they are very similar. But how can I let the view and the controller know whether it should act as an *add* or an *update* window?\r\n\r\nThis is the code from the main controller, which receives a string telling it what kind of window to set. It adjusts the title of the window accordingly:\r\n\r\n```\r\n    public static void showAddUpdateStage(int selectedTab, String addUpdate) throws IOException {\r\n        Stage stage = new Stage();\r\n        String[] entities = {&quot;klant&quot;, &quot;motorboot&quot;};\r\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(String.format(&quot;add-update-%s-view.fxml&quot;, entities[selectedTab])));\r\n        Scene scene = new Scene(fxmlLoader.load(), 400, 200);\r\n        String title = addUpdate.equals(&quot;add&quot;) ?\r\n                String.format(String.format(&quot;Voeg %s toe&quot;, entities[selectedTab])) : String.format(&quot;Wijzig %s&quot;, entities[selectedTab]);\r\n        stage.setTitle(title);\r\n        stage.setScene(scene);\r\n        stage.initModality(Modality.APPLICATION_MODAL);\r\n        stage.show();\r\n    }\r\n```\r\n\r\nThis is the code for the add/update view:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.control.*?&gt;\r\n&lt;?import javafx.scene.layout.*?&gt;\r\n\r\n&lt;?import javafx.geometry.Insets?&gt;\r\n&lt;VBox xmlns=&quot;http://javafx.com/javafx&quot;\r\n      xmlns:fx=&quot;http://javafx.com/fxml&quot;\r\n      fx:controller=&quot;nl.stijnklijn.botenverhuurjavafx.AddUpdateKlantController&quot;\r\n      prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot;&gt;\r\n    &lt;padding&gt;\r\n        &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot; /&gt;\r\n    &lt;/padding&gt;\r\n    &lt;GridPane alignment=&quot;CENTER&quot; hgap=&quot;10&quot; vgap=&quot;10&quot;&gt;\r\n        &lt;Label GridPane.columnIndex=&quot;0&quot; GridPane.rowIndex=&quot;0&quot; text=&quot;Naam: &quot;/&gt;\r\n        &lt;TextField GridPane.columnIndex=&quot;1&quot; GridPane.rowIndex=&quot;0&quot; fx:id=&quot;tfNaam&quot;/&gt;\r\n        &lt;Label GridPane.columnIndex=&quot;0&quot; GridPane.rowIndex=&quot;1&quot; text=&quot;E-mail: &quot;/&gt;\r\n        &lt;TextField GridPane.columnIndex=&quot;1&quot; GridPane.rowIndex=&quot;1&quot; fx:id=&quot;tfEmail&quot;/&gt;\r\n        &lt;Label GridPane.columnIndex=&quot;0&quot; GridPane.rowIndex=&quot;2&quot; text=&quot;Vaarvaardig: &quot;/&gt;\r\n        &lt;CheckBox GridPane.columnIndex=&quot;1&quot; GridPane.rowIndex=&quot;2&quot; fx:id=&quot;chkVaarvaardig&quot; /&gt;\r\n    &lt;/GridPane&gt;\r\n    &lt;HBox alignment=&quot;CENTER&quot; spacing=&quot;20&quot;&gt;\r\n        &lt;padding&gt;\r\n            &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot; /&gt;\r\n        &lt;/padding&gt;\r\n        &lt;Button fx:id=&quot;btAdd&quot; text=&quot;Toevoegen&quot; onAction=&quot;#add&quot;/&gt;\r\n        &lt;Button fx:id=&quot;btCancel&quot; text=&quot;Annuleren&quot; onAction=&quot;#cancel&quot;/&gt;\r\n    &lt;/HBox&gt;\r\n&lt;/VBox&gt;\r\n```\r\n\r\nAnd this is the code so far for the add/update controller:\r\n\r\n```\r\npackage nl.stijnklijn.botenverhuurjavafx;\r\n\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.CheckBox;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.stage.Stage;\r\nimport nl.stijnklijn.botenverhuurjavafx.database.DBaccess;\r\nimport nl.stijnklijn.botenverhuurjavafx.database.KlantDAO;\r\nimport nl.stijnklijn.botenverhuurjavafx.model.Klant;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class AddUpdateKlantController {\r\n\r\n    private DBaccess dBaccess;\r\n\r\n    @FXML\r\n    TextField tfNaam;\r\n\r\n    @FXML\r\n    TextField tfEmail;\r\n\r\n    @FXML\r\n    CheckBox chkVaarvaardig;\r\n\r\n    @FXML\r\n    Button btAdd;\r\n\r\n    @FXML\r\n    Button btCancel;\r\n\r\n    public AddUpdateKlantController() {\r\n        dBaccess = HelloApplication.getDBaccess();\r\n    }\r\n\r\n    public void add() throws IOException {\r\n        KlantDAO klantDAO = new KlantDAO(dBaccess);\r\n        String naam = tfNaam.getText();\r\n        String email = tfEmail.getText();\r\n        boolean vaarvaardig = chkVaarvaardig.isSelected();\r\n        klantDAO.storeKlant(new Klant(naam, email, vaarvaardig));\r\n        cancel();\r\n        HelloApplication.showMainStage();\r\n    }\r\n\r\n    public void cancel() {\r\n        Stage stage = (Stage) btCancel.getScene().getWindow();\r\n        stage.close();\r\n    }\r\n}\r\n```\r\n\r\nFrom this controller I tried to figure out the title of the window by calling `(Stage) btAdd.getScene().getWindow()` in the constructor, but that doesn&#39;t work since no nodes have been initialized at that point. But I do have to set the name of the button appropriately at that point in time.\r\n\r\nHow can I do this? Thanks in advance!","title":"JavaFX: can I reuse my code when creating add and update windows?","body":"<p>I want to reuse my JavaFX code of an <em>add</em> window for an <em>update</em> window, since they are very similar. But how can I let the view and the controller know whether it should act as an <em>add</em> or an <em>update</em> window?</p>\n<p>This is the code from the main controller, which receives a string telling it what kind of window to set. It adjusts the title of the window accordingly:</p>\n<pre><code>    public static void showAddUpdateStage(int selectedTab, String addUpdate) throws IOException {\n        Stage stage = new Stage();\n        String[] entities = {&quot;klant&quot;, &quot;motorboot&quot;};\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(String.format(&quot;add-update-%s-view.fxml&quot;, entities[selectedTab])));\n        Scene scene = new Scene(fxmlLoader.load(), 400, 200);\n        String title = addUpdate.equals(&quot;add&quot;) ?\n                String.format(String.format(&quot;Voeg %s toe&quot;, entities[selectedTab])) : String.format(&quot;Wijzig %s&quot;, entities[selectedTab]);\n        stage.setTitle(title);\n        stage.setScene(scene);\n        stage.initModality(Modality.APPLICATION_MODAL);\n        stage.show();\n    }\n</code></pre>\n<p>This is the code for the add/update view:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;VBox xmlns=&quot;http://javafx.com/javafx&quot;\n      xmlns:fx=&quot;http://javafx.com/fxml&quot;\n      fx:controller=&quot;nl.stijnklijn.botenverhuurjavafx.AddUpdateKlantController&quot;\n      prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot;&gt;\n    &lt;padding&gt;\n        &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot; /&gt;\n    &lt;/padding&gt;\n    &lt;GridPane alignment=&quot;CENTER&quot; hgap=&quot;10&quot; vgap=&quot;10&quot;&gt;\n        &lt;Label GridPane.columnIndex=&quot;0&quot; GridPane.rowIndex=&quot;0&quot; text=&quot;Naam: &quot;/&gt;\n        &lt;TextField GridPane.columnIndex=&quot;1&quot; GridPane.rowIndex=&quot;0&quot; fx:id=&quot;tfNaam&quot;/&gt;\n        &lt;Label GridPane.columnIndex=&quot;0&quot; GridPane.rowIndex=&quot;1&quot; text=&quot;E-mail: &quot;/&gt;\n        &lt;TextField GridPane.columnIndex=&quot;1&quot; GridPane.rowIndex=&quot;1&quot; fx:id=&quot;tfEmail&quot;/&gt;\n        &lt;Label GridPane.columnIndex=&quot;0&quot; GridPane.rowIndex=&quot;2&quot; text=&quot;Vaarvaardig: &quot;/&gt;\n        &lt;CheckBox GridPane.columnIndex=&quot;1&quot; GridPane.rowIndex=&quot;2&quot; fx:id=&quot;chkVaarvaardig&quot; /&gt;\n    &lt;/GridPane&gt;\n    &lt;HBox alignment=&quot;CENTER&quot; spacing=&quot;20&quot;&gt;\n        &lt;padding&gt;\n            &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot; /&gt;\n        &lt;/padding&gt;\n        &lt;Button fx:id=&quot;btAdd&quot; text=&quot;Toevoegen&quot; onAction=&quot;#add&quot;/&gt;\n        &lt;Button fx:id=&quot;btCancel&quot; text=&quot;Annuleren&quot; onAction=&quot;#cancel&quot;/&gt;\n    &lt;/HBox&gt;\n&lt;/VBox&gt;\n</code></pre>\n<p>And this is the code so far for the add/update controller:</p>\n<pre><code>package nl.stijnklijn.botenverhuurjavafx;\n\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.CheckBox;\nimport javafx.scene.control.TextField;\nimport javafx.stage.Stage;\nimport nl.stijnklijn.botenverhuurjavafx.database.DBaccess;\nimport nl.stijnklijn.botenverhuurjavafx.database.KlantDAO;\nimport nl.stijnklijn.botenverhuurjavafx.model.Klant;\n\nimport java.io.IOException;\n\npublic class AddUpdateKlantController {\n\n    private DBaccess dBaccess;\n\n    @FXML\n    TextField tfNaam;\n\n    @FXML\n    TextField tfEmail;\n\n    @FXML\n    CheckBox chkVaarvaardig;\n\n    @FXML\n    Button btAdd;\n\n    @FXML\n    Button btCancel;\n\n    public AddUpdateKlantController() {\n        dBaccess = HelloApplication.getDBaccess();\n    }\n\n    public void add() throws IOException {\n        KlantDAO klantDAO = new KlantDAO(dBaccess);\n        String naam = tfNaam.getText();\n        String email = tfEmail.getText();\n        boolean vaarvaardig = chkVaarvaardig.isSelected();\n        klantDAO.storeKlant(new Klant(naam, email, vaarvaardig));\n        cancel();\n        HelloApplication.showMainStage();\n    }\n\n    public void cancel() {\n        Stage stage = (Stage) btCancel.getScene().getWindow();\n        stage.close();\n    }\n}\n</code></pre>\n<p>From this controller I tried to figure out the title of the window by calling <code>(Stage) btAdd.getScene().getWindow()</code> in the constructor, but that doesn't work since no nodes have been initialized at that point. But I do have to set the name of the button appropriately at that point in time.</p>\n<p>How can I do this? Thanks in advance!</p>\n"},{"tags":["java","arrays","string","split","whitespace"],"comments":[{"owner":{"account_id":22982031,"reputation":425,"user_id":17108793,"display_name":"Enrico"},"score":0,"creation_date":1639165944,"post_id":70309612,"comment_id":124287921,"body_markdown":"Can you give an example why you need this? I don&#39;t know what this is supposed to be good for... or at least I think that&#39;s not the way to go","body":"Can you give an example why you need this? I don&#39;t know what this is supposed to be good for... or at least I think that&#39;s not the way to go"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1639166371,"post_id":70309612,"comment_id":124288055,"body_markdown":"You can split on word boundary `&quot;\\\\b&quot; `, though the sentence either starts with a word, or white space. Then you could use regex look-ahead/behind to the same effect.","body":"You can split on word boundary <code>&quot;\\\\b&quot; </code>, though the sentence either starts with a word, or white space. Then you could use regex look-ahead/behind to the same effect."}],"answers":[{"tags":[],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639165700,"creation_date":1639165700,"answer_id":70309693,"question_id":70309612,"body_markdown":"Add space to every element except of the last one\r\n\r\n    String token=&quot; &quot;;\r\n    strArray = str.split(token);\r\n    \r\n    for(int i=0;i&lt;strArray.length - 2 ;i++){\r\n      strArray[i]=strArray[i]+token\r\n    }","title":"Preserving white space when using .split?","body":"<p>Add space to every element except of the last one</p>\n<pre><code>String token=&quot; &quot;;\nstrArray = str.split(token);\n\nfor(int i=0;i&lt;strArray.length - 2 ;i++){\n  strArray[i]=strArray[i]+token\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1888690,"reputation":3005,"user_id":1707353,"accept_rate":91,"display_name":"Jeff Holt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639167379,"creation_date":1639165875,"answer_id":70309714,"question_id":70309612,"body_markdown":"Look at [StringTokenizer][1]. \r\n\r\nThe constructor [StringTokenizer(String str, String delim, boolean returnDelim)][2] is handy for this.\r\n\r\n    import java.util.*;\r\n    public class Test {\r\n    \tpublic static void main (String[] args) {\r\n    \t\tStringTokenizer st = new StringTokenizer(args[1], args[0], true);\r\n    \t\tArrayList&lt;String&gt; sa = new ArrayList&lt;String&gt;();\r\n    \t\twhile (st.hasMoreTokens())\r\n    \t\t\tsa.add(st.nextToken());\r\n    \t\tString[] array = sa.toArray(new String[sa.size()]);\r\n    \t\tfor (int i=0; i&lt;array.length; i++)\r\n    \t\t\tSystem.out.println(String.format(&quot;array[%d] = &#39;%s&#39;&quot;, i, array[i]));\r\n    \t}\r\n    }\r\n\r\n    $ java Test &quot; &quot; &quot;a test&quot;\r\n    array[0] = &#39;a&#39;\r\n    array[1] = &#39; &#39;\r\n    array[2] = &#39;test&#39;\r\n    \r\n    $ java Test &quot; &quot; &quot;a  test&quot;\r\n    array[0] = &#39;a&#39;\r\n    array[1] = &#39; &#39;\r\n    array[2] = &#39; &#39;\r\n    array[3] = &#39;test&#39;\r\n\r\nWhat you would do, probably, is test each element of the array to determine if it is or is not a delimiter, which is not difficult considering the knowledge of the delimiter argument to the constructor.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/StringTokenizer.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/StringTokenizer.html#StringTokenizer(java.lang.String,%20java.lang.String,%20boolean)","title":"Preserving white space when using .split?","body":"<p>Look at <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/StringTokenizer.html\" rel=\"nofollow noreferrer\">StringTokenizer</a>.</p>\n<p>The constructor <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/StringTokenizer.html#StringTokenizer(java.lang.String,%20java.lang.String,%20boolean)\" rel=\"nofollow noreferrer\">StringTokenizer(String str, String delim, boolean returnDelim)</a> is handy for this.</p>\n<pre><code>import java.util.*;\npublic class Test {\n    public static void main (String[] args) {\n        StringTokenizer st = new StringTokenizer(args[1], args[0], true);\n        ArrayList&lt;String&gt; sa = new ArrayList&lt;String&gt;();\n        while (st.hasMoreTokens())\n            sa.add(st.nextToken());\n        String[] array = sa.toArray(new String[sa.size()]);\n        for (int i=0; i&lt;array.length; i++)\n            System.out.println(String.format(&quot;array[%d] = '%s'&quot;, i, array[i]));\n    }\n}\n\n$ java Test &quot; &quot; &quot;a test&quot;\narray[0] = 'a'\narray[1] = ' '\narray[2] = 'test'\n\n$ java Test &quot; &quot; &quot;a  test&quot;\narray[0] = 'a'\narray[1] = ' '\narray[2] = ' '\narray[3] = 'test'\n</code></pre>\n<p>What you would do, probably, is test each element of the array to determine if it is or is not a delimiter, which is not difficult considering the knowledge of the delimiter argument to the constructor.</p>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639168262,"creation_date":1639168262,"answer_id":70310062,"question_id":70309612,"body_markdown":"You can also always split the string yourself. \r\n    \r\n    \r\n    import java.util.*;\r\n    \r\n    class Split {\r\n        public static void main(String... args) {\r\n            var s = new Split();\r\n            System.out.println(s.split(args[0]));\r\n        }\r\n    \r\n        private List&lt;String&gt; split(String word) {\r\n            // TODO: validate empty string\r\n            var list = new ArrayList&lt;String&gt;();\r\n            var sb = new StringBuilder();\r\n            var inSpace = word.charAt(0) == &#39; &#39;;\r\n    \r\n            for (char c : word.toCharArray()) {\r\n    \r\n                if (c == &#39; &#39; &amp;&amp; inSpace || c != &#39; &#39; &amp;&amp; !inSpace) {\r\n                    sb.append(c);\r\n                }\r\n                if (c == &#39; &#39; &amp;&amp; !inSpace || c != &#39; &#39; &amp;&amp; inSpace) {\r\n                    list.add(sb.toString());\r\n                    sb = new StringBuilder();\r\n                    sb.append(c);\r\n                    inSpace = !inSpace;\r\n                }\r\n            }\r\n    \r\n            list.add(sb.toString());\r\n            return list;\r\n        }\r\n    }\r\n\r\nOutput: \r\n\r\n    ~/$ java Split &quot;hello world&quot; \r\n    [hello,  , world]\r\n    ~/$ java Split &quot;hello         world&quot;\r\n    [hello,          , world]\r\n\r\n","title":"Preserving white space when using .split?","body":"<p>You can also always split the string yourself.</p>\n<pre><code>import java.util.*;\n\nclass Split {\n    public static void main(String... args) {\n        var s = new Split();\n        System.out.println(s.split(args[0]));\n    }\n\n    private List&lt;String&gt; split(String word) {\n        // TODO: validate empty string\n        var list = new ArrayList&lt;String&gt;();\n        var sb = new StringBuilder();\n        var inSpace = word.charAt(0) == ' ';\n\n        for (char c : word.toCharArray()) {\n\n            if (c == ' ' &amp;&amp; inSpace || c != ' ' &amp;&amp; !inSpace) {\n                sb.append(c);\n            }\n            if (c == ' ' &amp;&amp; !inSpace || c != ' ' &amp;&amp; inSpace) {\n                list.add(sb.toString());\n                sb = new StringBuilder();\n                sb.append(c);\n                inSpace = !inSpace;\n            }\n        }\n\n        list.add(sb.toString());\n        return list;\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>~/$ java Split &quot;hello world&quot; \n[hello,  , world]\n~/$ java Split &quot;hello         world&quot;\n[hello,          , world]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639228624,"creation_date":1639228624,"answer_id":70315476,"question_id":70309612,"body_markdown":"In order to split the string and keep the delimiters using regular expressions, lookahead and lookbehind may be needed: [`(?=\\W)|(?&lt;=\\W)`](https://regex101.com/r/rlmMlF/1/), that is, the split is done by an empty string following to or followed by a non-word character:\r\n```java\r\nString str = &quot;Hello    World!&quot;;\r\n\r\nArrays.stream(str.split(&quot;(?=\\\\W)|(?&lt;=\\\\W)&quot;))\r\n      .forEach(s -&gt; System.out.println(&quot;&#39;&quot; + s + &quot;&#39;&quot;));\r\n```\r\nOutput:\r\n```java\r\n&#39;Hello&#39;\r\n&#39; &#39;\r\n&#39; &#39;\r\n&#39; &#39;\r\n&#39; &#39;\r\n&#39;World&#39;\r\n&#39;!&#39;\r\n```\r\n----\r\nSimpler version would be to split by word border `\\b` as suggested in the comment, then all delimiters are joined:\r\n```java\r\nString str = &quot;Hello    World!&quot;;\r\nArrays.stream(str.split(&quot;\\\\b&quot;))\r\n      .forEach(s -&gt; System.out.println(&quot;&#39;&quot; + s + &quot;&#39;&quot;));\r\n```\r\nOutput:\r\n```\r\n&#39;Hello&#39;\r\n&#39;    &#39;\r\n&#39;World&#39;\r\n&#39;!&#39;\r\n```","title":"Preserving white space when using .split?","body":"<p>In order to split the string and keep the delimiters using regular expressions, lookahead and lookbehind may be needed: <a href=\"https://regex101.com/r/rlmMlF/1/\" rel=\"nofollow noreferrer\"><code>(?=\\W)|(?&lt;=\\W)</code></a>, that is, the split is done by an empty string following to or followed by a non-word character:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String str = &quot;Hello    World!&quot;;\n\nArrays.stream(str.split(&quot;(?=\\\\W)|(?&lt;=\\\\W)&quot;))\n      .forEach(s -&gt; System.out.println(&quot;'&quot; + s + &quot;'&quot;));\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-java prettyprint-override\"><code>'Hello'\n' '\n' '\n' '\n' '\n'World'\n'!'\n</code></pre>\n<hr />\n<p>Simpler version would be to split by word border <code>\\b</code> as suggested in the comment, then all delimiters are joined:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String str = &quot;Hello    World!&quot;;\nArrays.stream(str.split(&quot;\\\\b&quot;))\n      .forEach(s -&gt; System.out.println(&quot;'&quot; + s + &quot;'&quot;));\n</code></pre>\n<p>Output:</p>\n<pre><code>'Hello'\n'    '\n'World'\n'!'\n</code></pre>\n"}],"owner":{"account_id":22959769,"reputation":1,"user_id":17089832,"display_name":"caitrionamccaffrey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":643,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1639228624,"creation_date":1639165148,"question_id":70309612,"body_markdown":"I am trying to split a string and store this in an array, such that each word is stored at a separate index. I also want the white space and any punctuation to be stored.\r\n\r\neg. &quot;Hello world!&quot; \r\n\r\nwould be stored as: \r\n\r\n    array[0]: &quot;hello&quot;\r\n    array[1]: &quot; &quot;\r\n    array[2]: &quot;world!&quot;\r\n\r\nI am currently using .split but can&#39;t figure out how to split the string so that it splits at the end of the word **and** stores the white space.\r\n\r\n    strArray = str.split(&quot; &quot;);\r\n\r\n","title":"Preserving white space when using .split?","body":"<p>I am trying to split a string and store this in an array, such that each word is stored at a separate index. I also want the white space and any punctuation to be stored.</p>\n<p>eg. &quot;Hello world!&quot;</p>\n<p>would be stored as:</p>\n<pre><code>array[0]: &quot;hello&quot;\narray[1]: &quot; &quot;\narray[2]: &quot;world!&quot;\n</code></pre>\n<p>I am currently using .split but can't figure out how to split the string so that it splits at the end of the word <strong>and</strong> stores the white space.</p>\n<pre><code>strArray = str.split(&quot; &quot;);\n</code></pre>\n"},{"tags":["java","eclipse","autocomplete","java-9"],"answers":[{"tags":[],"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639228510,"creation_date":1639228510,"answer_id":70315461,"question_id":70315409,"body_markdown":"jdk methods are filtered out by default.\r\n\r\nThe filters are set in &#39;Java &gt; Appearance &gt; Type Filters&#39; in the Preferences. Turn off the `jdk.*` filter.\r\n","title":"How to make Eclipse autocomplete JShell methods?","body":"<p>jdk methods are filtered out by default.</p>\n<p>The filters are set in 'Java &gt; Appearance &gt; Type Filters' in the Preferences. Turn off the <code>jdk.*</code> filter.</p>\n"}],"owner":{"account_id":1078172,"reputation":2599,"user_id":1075874,"display_name":"Michał Grzejszczak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70315461,"answer_count":1,"score":0,"last_activity_date":1639228510,"creation_date":1639228104,"question_id":70315409,"body_markdown":"I am trying to write a snippet of code using JShell programmatically in Eclipse, but Eclipse filters all members of `jdk.jshell.JShell` class in autocomplete. I see only members inherited from Object class. I suppose this is because that class is located in `jdk` package, but it seems like this package is exported and should be treated as public.","title":"How to make Eclipse autocomplete JShell methods?","body":"<p>I am trying to write a snippet of code using JShell programmatically in Eclipse, but Eclipse filters all members of <code>jdk.jshell.JShell</code> class in autocomplete. I see only members inherited from Object class. I suppose this is because that class is located in <code>jdk</code> package, but it seems like this package is exported and should be treated as public.</p>\n"},{"tags":["java","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":2258060,"reputation":3689,"user_id":1988798,"accept_rate":83,"display_name":"Gaurav"},"score":5,"creation_date":1639120129,"post_id":70300749,"comment_id":124272258,"body_markdown":"Is it annotated with `Controller` or `RestController` annotation ? Please try once with `Controller` annotation.","body":"Is it annotated with <code>Controller</code> or <code>RestController</code> annotation ? Please try once with <code>Controller</code> annotation."}],"answers":[{"tags":[],"owner":{"account_id":19170174,"reputation":312,"user_id":14004073,"display_name":"Pavel Polyakoff"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639227318,"creation_date":1639227318,"answer_id":70315329,"question_id":70300749,"body_markdown":"Like Paras has mentioned, the main issue is probably the incorrect annotation on top of your controller class.\r\n\r\n```@RestController``` and ```@Controller``` behave differently when it comes to template processing. \r\n\r\n```@RestController``` just returns basically your object (in this case the one that is produced by the ```Mono.just(...)```) that is typically converted into JSON or plain text (depending on the settings). \r\n\r\nThe ```@Controller``` annotation generally means that the return of your controller method should be treated as the path from the template root to an ```HTML``` template. In this case you don&#39;t really need the ```Mono.just()``` construction (which iirc creates flux for reactive development) - simply return a ```String``` like this:\r\n```\r\n@Controller\r\npublic class MyController {\r\n    private ImageService imageService;\r\n\r\n    @RequestMapping( &quot;/&quot; ) // could also be @GetMapping( &quot;/&quot; )\r\n    public String index( Model model ) {\r\n        model.addAttribute(&quot;images&quot;, imageService.findAllImages());\r\n        return &quot;index&quot;;\r\n    }\r\n\r\n    @Autowired\r\n    public void setImageService( ImageService imageService ) {\r\n        this.imageService = imageService;\r\n    }\r\n}\r\n```\r\n\r\nAlso I couldn&#39;t really understand why exactly you tried to use Rest Controller to display a page. If you wanted to load page contents asynchronously you could just define a simple controller and call the specified URL as an ```ajax get```. But note that at this approach you would get a full page (with ```&lt;html&gt;```, ```&lt;head&gt;``` and etc.) inside your page again. To prevent that wrap your content in your ```index.html``` like this:\r\n```\r\n&lt;!-- head, meta etc --&gt;\r\n&lt;body&gt;\r\n    &lt;th:block th:fragment=&quot;content&quot;&gt;\r\n        &lt;!-- page content goes here --&gt;\r\n    &lt;/th:block&gt;\r\n&lt;/body&gt;\r\n```\r\nand in your ```index( Model model )``` method in controller change your return string to ```&quot;index :: content&quot;```.\r\n\r\nIf this doesn&#39;t help please provide your thymeleaf bean definition.","title":"The text &quot;index&quot; is getting displayed instead of the contents of my index.html file","body":"<p>Like Paras has mentioned, the main issue is probably the incorrect annotation on top of your controller class.</p>\n<p><code>@RestController</code> and <code>@Controller</code> behave differently when it comes to template processing.</p>\n<p><code>@RestController</code> just returns basically your object (in this case the one that is produced by the <code>Mono.just(...)</code>) that is typically converted into JSON or plain text (depending on the settings).</p>\n<p>The <code>@Controller</code> annotation generally means that the return of your controller method should be treated as the path from the template root to an <code>HTML</code> template. In this case you don't really need the <code>Mono.just()</code> construction (which iirc creates flux for reactive development) - simply return a <code>String</code> like this:</p>\n<pre><code>@Controller\npublic class MyController {\n    private ImageService imageService;\n\n    @RequestMapping( &quot;/&quot; ) // could also be @GetMapping( &quot;/&quot; )\n    public String index( Model model ) {\n        model.addAttribute(&quot;images&quot;, imageService.findAllImages());\n        return &quot;index&quot;;\n    }\n\n    @Autowired\n    public void setImageService( ImageService imageService ) {\n        this.imageService = imageService;\n    }\n}\n</code></pre>\n<p>Also I couldn't really understand why exactly you tried to use Rest Controller to display a page. If you wanted to load page contents asynchronously you could just define a simple controller and call the specified URL as an <code>ajax get</code>. But note that at this approach you would get a full page (with <code>&lt;html&gt;</code>, <code>&lt;head&gt;</code> and etc.) inside your page again. To prevent that wrap your content in your <code>index.html</code> like this:</p>\n<pre><code>&lt;!-- head, meta etc --&gt;\n&lt;body&gt;\n    &lt;th:block th:fragment=&quot;content&quot;&gt;\n        &lt;!-- page content goes here --&gt;\n    &lt;/th:block&gt;\n&lt;/body&gt;\n</code></pre>\n<p>and in your <code>index( Model model )</code> method in controller change your return string to <code>&quot;index :: content&quot;</code>.</p>\n<p>If this doesn't help please provide your thymeleaf bean definition.</p>\n"}],"owner":{"account_id":10642398,"reputation":6164,"user_id":7836976,"accept_rate":95,"display_name":"runnerpaul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":428,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1639227318,"creation_date":1639119241,"question_id":70300749,"body_markdown":"I have this method in my RestController:\r\n\r\n```Java\r\n@GetMapping(&quot;/&quot;)\r\npublic Mono&lt;String&gt; index(Model model) {\r\n    model.addAttribute(&quot;images&quot;, imageService.findAllImages());\r\n    return Mono.just(&quot;index&quot;);\r\n}\r\n```\r\n\r\nWhen I run my applicaiton I get a page with nothing but the text `index` in the top left corner. If I update `return Mono.just(&quot;index&quot;);` to `return Mono.just(&quot;foo&quot;);` then `foo` is displayed in the top left corner.\r\n\r\nI had expected the file `resources/templates/index.html` to display in the browser. How do I fix this?","title":"The text &quot;index&quot; is getting displayed instead of the contents of my index.html file","body":"<p>I have this method in my RestController:</p>\n<pre><code>@GetMapping(&quot;/&quot;)\npublic Mono&lt;String&gt; index(Model model) {\n    model.addAttribute(&quot;images&quot;, imageService.findAllImages());\n    return Mono.just(&quot;index&quot;);\n}\n</code></pre>\n<p>When I run my applicaiton I get a page with nothing but the text <code>index</code> in the top left corner. If I update <code>return Mono.just(&quot;index&quot;);</code> to <code>return Mono.just(&quot;foo&quot;);</code> then <code>foo</code> is displayed in the top left corner.</p>\n<p>I had expected the file <code>resources/templates/index.html</code> to display in the browser. How do I fix this?</p>\n"},{"tags":["java","junit","jboss-arquillian"],"answers":[{"tags":[],"owner":{"account_id":10253500,"reputation":1005,"user_id":7566942,"accept_rate":67,"display_name":"hemanik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516687746,"creation_date":1516687746,"answer_id":48395259,"question_id":48182475,"body_markdown":"You can try having a look at [this][1] using JUnit Rules for Parameterized Tests.\r\n\r\n\r\n  [1]: http://www.poolik.com/2014/02/how-to-run-parameterized-junit-arquillian-tests/","title":"Is it possible to parameterized test with arquillian ressources?","body":"<p>You can try having a look at <a href=\"http://www.poolik.com/2014/02/how-to-run-parameterized-junit-arquillian-tests/\" rel=\"nofollow noreferrer\">this</a> using JUnit Rules for Parameterized Tests.</p>\n"}],"owner":{"account_id":3160922,"reputation":11,"user_id":2672065,"display_name":"Grynczel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":785,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1639227250,"creation_date":1515570119,"question_id":48182475,"body_markdown":"I&#39;m writing integration tests and I would like to know if it&#39;s possible to use Arquillian with parameterized test.\r\n\r\nIn `JUnit4` I have to specify `@RunWith(parameterized.class)` to run parameterized tests but in this case `baseURL` and `browser` are not initialized.\r\n\r\n    @RunWith(Parameterized.class)\r\n    public class Junit4IT {\r\n    \t@Parameters\r\n    \tpublic static List&lt;String&gt; data() {\r\n    \t\treturn Arrays.asList(&quot;URL1&quot;, &quot;URL2&quot;, &quot;URL3&quot;);\r\n    \t}\r\n    \r\n    \t@ArquillianResource\r\n    \tprivate URL baseURL;\r\n    \r\n    \t@Drone\r\n    \tprivate WebDriver browser;\r\n    \r\n    \tprivate String url;\r\n    \r\n    \tpublic Junit4IT(String url) {\r\n    \t\tthis.url = url;\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void test() {\r\n    \t\tbrowser.get(baseURL + &quot;login.xhtml&quot;);\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void parameterizedTest() {\r\n    \t\tbrowser.get(baseURL + url);\r\n    \t}\r\n    }\r\n\r\n\r\nIn `JUnit5` when I run a test with an annotation `@Test` everything is OK.\r\n\r\nThe variables are well initialized but when I use them with `@ParameterizedTest` they are NULL.\r\n\r\n    @RunWith(Arquillian.class)\r\n    public class Junit5IT {\r\n    \t@ArquillianResource\r\n    \tprivate URL baseURL;\r\n    \r\n    \t@Drone\r\n    \tprivate WebDriver browser;\r\n    \r\n    \t@Test\r\n    \tpublic void test() {\r\n    \t\tbrowser.get(baseURL + &quot;login.xhtml&quot;);\r\n    \t}\r\n    \r\n    \t@ParameterizedTest\r\n    \t@ValueSource(strings = { &quot;URL1&quot;, &quot;URL2&quot;, &quot;URL3&quot; })\r\n    \tpublic void parameterizedTest(String url) {\r\n    \t\tbrowser.get(baseURL + url);\r\n    \t}\r\n    }\r\n\r\nIt is possible to manually initialize the variables with the configuration that comes from my `arquillian.xml` file without using `@RunWith (Arquillian.class)`?","title":"Is it possible to parameterized test with arquillian ressources?","body":"<p>I'm writing integration tests and I would like to know if it's possible to use Arquillian with parameterized test.</p>\n\n<p>In <code>JUnit4</code> I have to specify <code>@RunWith(parameterized.class)</code> to run parameterized tests but in this case <code>baseURL</code> and <code>browser</code> are not initialized.</p>\n\n<pre><code>@RunWith(Parameterized.class)\npublic class Junit4IT {\n    @Parameters\n    public static List&lt;String&gt; data() {\n        return Arrays.asList(\"URL1\", \"URL2\", \"URL3\");\n    }\n\n    @ArquillianResource\n    private URL baseURL;\n\n    @Drone\n    private WebDriver browser;\n\n    private String url;\n\n    public Junit4IT(String url) {\n        this.url = url;\n    }\n\n    @Test\n    public void test() {\n        browser.get(baseURL + \"login.xhtml\");\n    }\n\n    @Test\n    public void parameterizedTest() {\n        browser.get(baseURL + url);\n    }\n}\n</code></pre>\n\n<p>In <code>JUnit5</code> when I run a test with an annotation <code>@Test</code> everything is OK.</p>\n\n<p>The variables are well initialized but when I use them with <code>@ParameterizedTest</code> they are NULL.</p>\n\n<pre><code>@RunWith(Arquillian.class)\npublic class Junit5IT {\n    @ArquillianResource\n    private URL baseURL;\n\n    @Drone\n    private WebDriver browser;\n\n    @Test\n    public void test() {\n        browser.get(baseURL + \"login.xhtml\");\n    }\n\n    @ParameterizedTest\n    @ValueSource(strings = { \"URL1\", \"URL2\", \"URL3\" })\n    public void parameterizedTest(String url) {\n        browser.get(baseURL + url);\n    }\n}\n</code></pre>\n\n<p>It is possible to manually initialize the variables with the configuration that comes from my <code>arquillian.xml</code> file without using <code>@RunWith (Arquillian.class)</code>?</p>\n"},{"tags":["java","static"],"comments":[{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":1,"creation_date":1639225321,"post_id":70314652,"comment_id":124297114,"body_markdown":"I would suggest you to extract the `Node` class to another file and make it a public class instead of an inner class.","body":"I would suggest you to extract the <code>Node</code> class to another file and make it a public class instead of an inner class."}],"answers":[{"tags":[],"owner":{"account_id":12100105,"reputation":197,"user_id":8841727,"display_name":"Mustafa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639225882,"creation_date":1639225882,"answer_id":70315161,"question_id":70314652,"body_markdown":"As the error says; you can&#39;t access non-static members (Node) from statics context (the main method). Put the Node class out of tryBSTNode class and it works.","title":"Java problem: cannot be referenced from static context ( in constract algorithm binary search tree )","body":"<p>As the error says; you can't access non-static members (Node) from statics context (the main method). Put the Node class out of tryBSTNode class and it works.</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639226905,"creation_date":1639226905,"answer_id":70315280,"question_id":70314652,"body_markdown":"`Node` is an inner class, having a `tryBSTNode.this` besides `this`, with which it can access members - fields or methods - of a `tryBSTNode` object.\r\n\r\nAs that binding of Node is not intended, make it static:\r\n\r\n    private static class Node {\r\n\r\nOr move the class outside tryBSTNode; you are allowed to have additional non-public classes in one source.\r\n\r\nOr make a separate source.\r\n\r\n----------\r\nYou should have named your main class `TryBSTNode`. It also looks a bit like a unit test, Test Driven Development. You might look into that, eventually. ","title":"Java problem: cannot be referenced from static context ( in constract algorithm binary search tree )","body":"<p><code>Node</code> is an inner class, having a <code>tryBSTNode.this</code> besides <code>this</code>, with which it can access members - fields or methods - of a <code>tryBSTNode</code> object.</p>\n<p>As that binding of Node is not intended, make it static:</p>\n<pre><code>private static class Node {\n</code></pre>\n<p>Or move the class outside tryBSTNode; you are allowed to have additional non-public classes in one source.</p>\n<p>Or make a separate source.</p>\n<hr />\n<p>You should have named your main class <code>TryBSTNode</code>. It also looks a bit like a unit test, Test Driven Development. You might look into that, eventually.</p>\n"}],"owner":{"account_id":11136281,"reputation":45,"user_id":16369817,"display_name":"acfun"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70315280,"answer_count":2,"score":-1,"last_activity_date":1639226905,"creation_date":1639221165,"question_id":70314652,"body_markdown":"When I assign new value to my binary search tree the same way my input method function do, program report error say cannot be referenced from static context. (this line ```a.root.left = new Node(&quot;dd&quot;,22)``` say Node is not static [![enter image description here][1]][1]\r\n\r\nthis is my program:\r\n```\r\npackage trylang;\r\n\r\nimport java.util.Arrays;\r\n\r\npublic class tryBSTnode&lt;Key extends Comparable&lt;Key&gt;, Value&gt; {\r\n    private Node root;\r\n    private class Node{\r\n        private Key key;\r\n        private Value value;\r\n        private Node left, right;\r\n        public Node(Key key, Value val){\r\n            this.key = key;\r\n            this.value = val;\r\n        }\r\n    }\r\n    public tryBSTnode(){\r\n\r\n    }\r\n\r\n    public void put(Key key, Value val){\r\n        root = put(root,key,val);\r\n    }\r\n\r\n    public Node put(Node nd, Key key, Value val){\r\n        if (nd == null) return new Node(key, val);\r\n        int cmp = key.compareTo(nd.key);\r\n        if (cmp&gt;0) nd.right = put(nd.right,key,val);\r\n        else if (cmp&lt;0) nd.left = put(nd.left, key, val);\r\n        else nd.value = val;\r\n        return nd;\r\n    }\r\n    public static void main(String[] args) {\r\n        tryBSTnode&lt;String, Integer&gt; a = new tryBSTnode&lt;String, Integer&gt;();\r\n        a.put(&quot;aa&quot;,20);\r\n        a.put(&quot;bb&quot;,67);\r\n        a.put(&quot;cc&quot;,67);\r\n        a.root.left = new Node(&quot;dd&quot;,22); //this line got problem\r\n    }\r\n}\r\n```\r\n\r\n\r\nThe put method logic is that when node is null, we can assign a new node to it.\r\n```\r\n public Node put(Node nd, Key key, Value val){\r\n        if (nd == null) return new Node(key, val);\r\n        int cmp = key.compareTo(nd.key);\r\n        if (cmp&gt;0) nd.right = put(nd.right,key,val);\r\n        else if (cmp&lt;0) nd.left = put(nd.left, key, val);\r\n        else nd.value = val;\r\n        return nd;\r\n    }\r\n```\r\nThe tree structure would be like root(aa,20)-&gt;right(bb,67)-&gt;right(cc,67), and run the put method do not meet any error. The left side of root is null. However, when I want to assign a new node to left side of tree, itellij say this line  ```a.root.left = new Node(&quot;dd&quot;,22)```    cannot be referenced from static context. Why this line can work in put method, but have error in the main method?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2OPzW.png","title":"Java problem: cannot be referenced from static context ( in constract algorithm binary search tree )","body":"<p>When I assign new value to my binary search tree the same way my input method function do, program report error say cannot be referenced from static context. (this line <code>a.root.left = new Node(&quot;dd&quot;,22)</code> say Node is not static <a href=\"https://i.stack.imgur.com/2OPzW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2OPzW.png\" alt=\"enter image description here\" /></a></p>\n<p>this is my program:</p>\n<pre><code>package trylang;\n\nimport java.util.Arrays;\n\npublic class tryBSTnode&lt;Key extends Comparable&lt;Key&gt;, Value&gt; {\n    private Node root;\n    private class Node{\n        private Key key;\n        private Value value;\n        private Node left, right;\n        public Node(Key key, Value val){\n            this.key = key;\n            this.value = val;\n        }\n    }\n    public tryBSTnode(){\n\n    }\n\n    public void put(Key key, Value val){\n        root = put(root,key,val);\n    }\n\n    public Node put(Node nd, Key key, Value val){\n        if (nd == null) return new Node(key, val);\n        int cmp = key.compareTo(nd.key);\n        if (cmp&gt;0) nd.right = put(nd.right,key,val);\n        else if (cmp&lt;0) nd.left = put(nd.left, key, val);\n        else nd.value = val;\n        return nd;\n    }\n    public static void main(String[] args) {\n        tryBSTnode&lt;String, Integer&gt; a = new tryBSTnode&lt;String, Integer&gt;();\n        a.put(&quot;aa&quot;,20);\n        a.put(&quot;bb&quot;,67);\n        a.put(&quot;cc&quot;,67);\n        a.root.left = new Node(&quot;dd&quot;,22); //this line got problem\n    }\n}\n</code></pre>\n<p>The put method logic is that when node is null, we can assign a new node to it.</p>\n<pre><code> public Node put(Node nd, Key key, Value val){\n        if (nd == null) return new Node(key, val);\n        int cmp = key.compareTo(nd.key);\n        if (cmp&gt;0) nd.right = put(nd.right,key,val);\n        else if (cmp&lt;0) nd.left = put(nd.left, key, val);\n        else nd.value = val;\n        return nd;\n    }\n</code></pre>\n<p>The tree structure would be like root(aa,20)-&gt;right(bb,67)-&gt;right(cc,67), and run the put method do not meet any error. The left side of root is null. However, when I want to assign a new node to left side of tree, itellij say this line  <code>a.root.left = new Node(&quot;dd&quot;,22)</code>    cannot be referenced from static context. Why this line can work in put method, but have error in the main method?</p>\n"},{"tags":["java","spring","spring-boot","file","multipart"],"comments":[{"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"score":0,"creation_date":1639228726,"post_id":70315168,"comment_id":124297840,"body_markdown":"As message point out &quot;there is no suitable constructor File(java.lang.String,java.lang.String,byte[])&quot;","body":"As message point out &quot;there is no suitable constructor File(java.lang.String,java.lang.String,byte[])&quot;"},{"owner":{"account_id":11567291,"reputation":61,"user_id":15132662,"display_name":"Mohamad J Alanbaki"},"score":0,"creation_date":1639230471,"post_id":70315168,"comment_id":124298184,"body_markdown":"you mean I have to change it ??","body":"you mean I have to change it ??"},{"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"score":0,"creation_date":1639230565,"post_id":70315168,"comment_id":124298204,"body_markdown":"File dbFile = new File(fileName, file.getContentType(), file.getBytes()); // how can code get compiled at this line when you have no suitable constructor","body":"File dbFile = new File(fileName, file.getContentType(), file.getBytes()); // how can code get compiled at this line when you have no suitable constructor"},{"owner":{"account_id":11567291,"reputation":61,"user_id":15132662,"display_name":"Mohamad J Alanbaki"},"score":0,"creation_date":1639230881,"post_id":70315168,"comment_id":124298279,"body_markdown":"Ohhhhhh I see thanks a lot","body":"Ohhhhhh I see thanks a lot"}],"owner":{"account_id":11567291,"reputation":61,"user_id":15132662,"display_name":"Mohamad J Alanbaki"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":465,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639226567,"creation_date":1639225919,"question_id":70315168,"body_markdown":"I have this issue with my file upload/download rest api and this is the code below:\r\nthis is the service implementation\\\r\n\r\n```\r\npackage app.gym.v1.Utility.Impl;\r\n\r\nimport app.gym.v1.DAO.FileRepo;\r\nimport app.gym.v1.DAO.UserRepo;\r\nimport app.gym.v1.Model.File;\r\nimport app.gym.v1.Service.FileService;\r\nimport app.gym.v1.Utility.Exception.Domain.FileNotFoundException;\r\nimport app.gym.v1.Utility.Exception.Domain.FileStorageException;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.util.StringUtils;\r\nimport org.springframework.web.multipart.MultipartFile;\r\n\r\nimport javax.transaction.Transactional;\r\nimport java.io.IOException;\r\n\r\n@Service\r\n@Transactional\r\npublic class FileServiceImpl implements FileService {\r\n\r\n//    private Logger LOGGER = LoggerFactory.getLogger(getClass());\r\n    private FileRepo fileRepo;\r\n    private UserRepo userRepo;\r\n\r\n    @Autowired\r\n    public FileServiceImpl(FileRepo fileRepo, UserRepo userRepo) {\r\n        this.fileRepo = fileRepo;\r\n        this.userRepo = userRepo;\r\n    }\r\n\r\n    public File storeFile(MultipartFile file) {\r\n        // Normalize file name\r\n        String fileName = StringUtils.cleanPath(file.getOriginalFilename());\r\n\r\n        try {\r\n            // Check if the file&#39;s name contains invalid characters\r\n            if (fileName.contains(&quot;..&quot;)) {\r\n                throw new FileStorageException(&quot;Sorry! Filename contains invalid path sequence &quot; + fileName);\r\n            }\r\n\r\n            File dbFile = new File(fileName, file.getContentType(), file.getBytes());\r\n\r\n            return fileRepo.save(dbFile);\r\n        } catch (IOException ex) {\r\n            throw new FileStorageException(&quot;Could not store file &quot; + fileName + &quot;. Please try again!&quot;, ex);\r\n        }\r\n    }\r\n\r\n    public File getFile(Long id) {\r\n        return fileRepo.findById(id)\r\n                .orElseThrow(()-&gt; new FileNotFoundException(&quot;File not found with id &quot; + id));\r\n    }\r\n}\r\n\r\n```\r\n\r\nthis is the service file\\\r\n```\r\npackage app.gym.v1.Service;\r\n\r\nimport app.gym.v1.Model.File;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.web.multipart.MultipartFile;\r\n\r\n@Service\r\npublic interface FileService {\r\n\r\n    File storeFile(MultipartFile file);\r\n    File getFile(Long id);\r\n}\r\n\r\n```\r\nand this is the model entity\\\r\n```\r\npackage app.gym.v1.Model;\r\n\r\nimport app.gym.v1.Model.Domain.Gym;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\nimport javax.persistence.*;\r\nimport java.io.Serializable;\r\n\r\n@Entity\r\n@Table(name = &quot;files&quot;)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Data\r\npublic class File implements Serializable {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(nullable = false, updatable = false)\r\n    @JsonProperty(access = JsonProperty.Access.WRITE_ONLY)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;file_name&quot;)\r\n    private String fileName;\r\n\r\n    @Column(name = &quot;file_type&quot;)\r\n    private String fileType;\r\n\r\n    @Lob\r\n    @Column(name = &quot;data&quot;)\r\n    private Byte[] data;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name=&quot;user_id&quot;, nullable=false)\r\n    private User user;\r\n}\r\n\r\n```\r\n\r\nthese are the errors:\r\n```\r\n/Users/mj/Documents/Deploy/Heroku/Gym/src/main/java/app/gym/v1/Utility/Impl/FileServiceImpl.java:41:27\r\njava: no suitable constructor found for File(java.lang.String,java.lang.String,byte[])\r\n    constructor app.gym.v1.Model.File.File() is not applicable\r\n      (actual and formal argument lists differ in length)\r\n    constructor app.gym.v1.Model.File.File(java.lang.Long,java.lang.String,java.lang.String,java.lang.Byte[],app.gym.v1.Model.User) is not applicable\r\n      (actual and formal argument lists differ in length)\r\n```\r\n\r\nas you can see all the problems with the service implementation and I tried to change the entity content but the same problem\r\n","title":"Uploading files with spring issue","body":"<p>I have this issue with my file upload/download rest api and this is the code below:\nthis is the service implementation\\</p>\n<pre><code>package app.gym.v1.Utility.Impl;\n\nimport app.gym.v1.DAO.FileRepo;\nimport app.gym.v1.DAO.UserRepo;\nimport app.gym.v1.Model.File;\nimport app.gym.v1.Service.FileService;\nimport app.gym.v1.Utility.Exception.Domain.FileNotFoundException;\nimport app.gym.v1.Utility.Exception.Domain.FileStorageException;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport org.springframework.util.StringUtils;\nimport org.springframework.web.multipart.MultipartFile;\n\nimport javax.transaction.Transactional;\nimport java.io.IOException;\n\n@Service\n@Transactional\npublic class FileServiceImpl implements FileService {\n\n//    private Logger LOGGER = LoggerFactory.getLogger(getClass());\n    private FileRepo fileRepo;\n    private UserRepo userRepo;\n\n    @Autowired\n    public FileServiceImpl(FileRepo fileRepo, UserRepo userRepo) {\n        this.fileRepo = fileRepo;\n        this.userRepo = userRepo;\n    }\n\n    public File storeFile(MultipartFile file) {\n        // Normalize file name\n        String fileName = StringUtils.cleanPath(file.getOriginalFilename());\n\n        try {\n            // Check if the file's name contains invalid characters\n            if (fileName.contains(&quot;..&quot;)) {\n                throw new FileStorageException(&quot;Sorry! Filename contains invalid path sequence &quot; + fileName);\n            }\n\n            File dbFile = new File(fileName, file.getContentType(), file.getBytes());\n\n            return fileRepo.save(dbFile);\n        } catch (IOException ex) {\n            throw new FileStorageException(&quot;Could not store file &quot; + fileName + &quot;. Please try again!&quot;, ex);\n        }\n    }\n\n    public File getFile(Long id) {\n        return fileRepo.findById(id)\n                .orElseThrow(()-&gt; new FileNotFoundException(&quot;File not found with id &quot; + id));\n    }\n}\n\n</code></pre>\n<p>this is the service file\\</p>\n<pre><code>package app.gym.v1.Service;\n\nimport app.gym.v1.Model.File;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.multipart.MultipartFile;\n\n@Service\npublic interface FileService {\n\n    File storeFile(MultipartFile file);\n    File getFile(Long id);\n}\n\n</code></pre>\n<p>and this is the model entity\\</p>\n<pre><code>package app.gym.v1.Model;\n\nimport app.gym.v1.Model.Domain.Gym;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport javax.persistence.*;\nimport java.io.Serializable;\n\n@Entity\n@Table(name = &quot;files&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\n@Data\npublic class File implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(nullable = false, updatable = false)\n    @JsonProperty(access = JsonProperty.Access.WRITE_ONLY)\n    private Long id;\n\n    @Column(name = &quot;file_name&quot;)\n    private String fileName;\n\n    @Column(name = &quot;file_type&quot;)\n    private String fileType;\n\n    @Lob\n    @Column(name = &quot;data&quot;)\n    private Byte[] data;\n\n    @ManyToOne\n    @JoinColumn(name=&quot;user_id&quot;, nullable=false)\n    private User user;\n}\n\n</code></pre>\n<p>these are the errors:</p>\n<pre><code>/Users/mj/Documents/Deploy/Heroku/Gym/src/main/java/app/gym/v1/Utility/Impl/FileServiceImpl.java:41:27\njava: no suitable constructor found for File(java.lang.String,java.lang.String,byte[])\n    constructor app.gym.v1.Model.File.File() is not applicable\n      (actual and formal argument lists differ in length)\n    constructor app.gym.v1.Model.File.File(java.lang.Long,java.lang.String,java.lang.String,java.lang.Byte[],app.gym.v1.Model.User) is not applicable\n      (actual and formal argument lists differ in length)\n</code></pre>\n<p>as you can see all the problems with the service implementation and I tried to change the entity content but the same problem</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":2,"creation_date":1639216524,"post_id":70314100,"comment_id":124295491,"body_markdown":"Remove `public` in front of your `int[] array`. Variables declared inside methods cannot have *access modifiers* (like `public` or `private`).","body":"Remove <code>public</code> in front of your <code>int[] array</code>. Variables declared inside methods cannot have <i>access modifiers</i> (like <code>public</code> or <code>private</code>)."},{"owner":{"account_id":23617134,"reputation":35,"user_id":17651050,"display_name":"Nadine Mostafa"},"score":0,"creation_date":1639216824,"post_id":70314100,"comment_id":124295556,"body_markdown":"@MCEmperor yes i want to make the array public to use it in other classes","body":"@MCEmperor yes i want to make the array public to use it in other classes"},{"owner":{"account_id":11833808,"reputation":1152,"user_id":8659747,"display_name":"Kitswas"},"score":0,"creation_date":1639216950,"post_id":70314100,"comment_id":124295577,"body_markdown":"Insert the line `public static int[] array;` in the class body. Change `public int[] array = new int[size];` to `array = new int[size];` in `main()`.","body":"Insert the line <code>public static int[] array;</code> in the class body. Change <code>public int[] array = new int[size];</code> to <code>array = new int[size];</code> in <code>main()</code>."}],"answers":[{"tags":[],"owner":{"account_id":23178316,"reputation":157,"user_id":17276486,"display_name":"Lson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639224833,"creation_date":1639216628,"answer_id":70314150,"question_id":70314100,"body_markdown":"Some modifier type are not allowed in method body: `public`, `private`, `protect`","title":"How to make a variable created in a method public?","body":"<p>Some modifier type are not allowed in method body: <code>public</code>, <code>private</code>, <code>protect</code></p>\n"},{"tags":[],"owner":{"account_id":23009306,"reputation":99,"user_id":17132041,"display_name":"Joe"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1639216927,"creation_date":1639216927,"answer_id":70314182,"question_id":70314100,"body_markdown":"Access Modifiers:\r\n-----------------\r\n\r\nIf you move the whole line outside of your main function it will work. Access Modifiers such as: &quot;Public, Private, etc.&quot; are only allowed outside of functions/methods.\r\n\r\nYou could also remove the public tag instead of taking the variable out of the function but that would limit your scope.\r\n\r\nScope:\r\n------\r\n\r\nIf you want to learn about scope I&#39;d give this a go:\r\n\r\nhttps://www.codecademy.com/learn/introduction-to-javascript/modules/learn-javascript-scope\r\n\r\nIt&#39;s in javascript but don&#39;t let that scare you away, the concepts are the same and JS is easy.","title":"How to make a variable created in a method public?","body":"<h2>Access Modifiers:</h2>\n<p>If you move the whole line outside of your main function it will work. Access Modifiers such as: &quot;Public, Private, etc.&quot; are only allowed outside of functions/methods.</p>\n<p>You could also remove the public tag instead of taking the variable out of the function but that would limit your scope.</p>\n<h2>Scope:</h2>\n<p>If you want to learn about scope I'd give this a go:</p>\n<p><a href=\"https://www.codecademy.com/learn/introduction-to-javascript/modules/learn-javascript-scope\" rel=\"nofollow noreferrer\">https://www.codecademy.com/learn/introduction-to-javascript/modules/learn-javascript-scope</a></p>\n<p>It's in javascript but don't let that scare you away, the concepts are the same and JS is easy.</p>\n"},{"tags":[],"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639217734,"creation_date":1639217734,"answer_id":70314286,"question_id":70314100,"body_markdown":"If you want to use array outside any class or package then declare array globally with public access modifier.\r\n\r\n```\r\nimport java.util.*;\r\npublic class Main\r\n{\r\n    public static int[] array; // declare globally\r\n    \r\n\tpublic static void main(String[] args) {\r\n        Scanner in= new Scanner(System.in);\r\n        System.out.print(&quot;Enter array size! &quot;);\r\n        int size= in.nextInt();\r\n        array = new int[size];\r\n        for (int i=0;i&lt;size;i++)\r\n        {\r\n            System.out.println(&quot;Enter numbers &quot; + (i + 1) + &quot;: &quot;);\r\n            Scanner input= new Scanner(System.in);\r\n            array[i]=input.nextInt();\r\n        }\r\n\t}\r\n}\r\n```","title":"How to make a variable created in a method public?","body":"<p>If you want to use array outside any class or package then declare array globally with public access modifier.</p>\n<pre><code>import java.util.*;\npublic class Main\n{\n    public static int[] array; // declare globally\n    \n    public static void main(String[] args) {\n        Scanner in= new Scanner(System.in);\n        System.out.print(&quot;Enter array size! &quot;);\n        int size= in.nextInt();\n        array = new int[size];\n        for (int i=0;i&lt;size;i++)\n        {\n            System.out.println(&quot;Enter numbers &quot; + (i + 1) + &quot;: &quot;);\n            Scanner input= new Scanner(System.in);\n            array[i]=input.nextInt();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23617134,"reputation":35,"user_id":17651050,"display_name":"Nadine Mostafa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":932,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1639226258,"creation_date":1639216226,"question_id":70314100,"body_markdown":"heyy, i&#39;m a student so dont attack me please i just dont understand whats wrong with this code why is it giving me an error when i make the array public? it says illegal start which doesnt make sense\r\n```\r\npackage assignment;\r\n\r\nimport java.util.Scanner;\r\n\r\n\r\npublic class Assignment {\r\n\r\n \r\n    public static void main(String[] args) {\r\n        \r\n        Scanner in= new Scanner(System.in);\r\n        System.out.print(&quot;Enter array size! &quot;);\r\n        int size= in.nextInt();\r\n        public int[] array= new int[size]; // error\r\n        for (int i=0;i&lt;size;i++)\r\n        {\r\n        System.out.println(&quot;Enter numbers: &quot;);\r\n        Scanner input= new Scanner(System.in);\r\n        array[i]=input.nextInt();\r\n        }\r\n&#39;&#39;&#39;\r\n\r\nany headsup?","title":"How to make a variable created in a method public?","body":"<p>heyy, i'm a student so dont attack me please i just dont understand whats wrong with this code why is it giving me an error when i make the array public? it says illegal start which doesnt make sense</p>\n<pre><code>package assignment;\n\nimport java.util.Scanner;\n\n\npublic class Assignment {\n\n \n    public static void main(String[] args) {\n        \n        Scanner in= new Scanner(System.in);\n        System.out.print(&quot;Enter array size! &quot;);\n        int size= in.nextInt();\n        public int[] array= new int[size]; // error\n        for (int i=0;i&lt;size;i++)\n        {\n        System.out.println(&quot;Enter numbers: &quot;);\n        Scanner input= new Scanner(System.in);\n        array[i]=input.nextInt();\n        }\n'''\n\nany headsup?\n</code></pre>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":166892,"reputation":4102,"user_id":391338,"display_name":"Sentry"},"score":0,"creation_date":1638546958,"post_id":70205227,"comment_id":124125534,"body_markdown":"I find it hard to understand what the actual problem is. Can you give us a precise and concise description of the problem? Like: What is the input, what is the expected output and what is the actual output?","body":"I find it hard to understand what the actual problem is. Can you give us a precise and concise description of the problem? Like: What is the input, what is the expected output and what is the actual output?"},{"owner":{"account_id":166892,"reputation":4102,"user_id":391338,"display_name":"Sentry"},"score":0,"creation_date":1638548335,"post_id":70205227,"comment_id":124126131,"body_markdown":"Your first while-loop is an infinite loop: `while(S.size()&gt;0); {` the semicolon ends the loop-body, so you&#39;ll forever repeat an empty loop. Remove it: `while(S.size()&gt;0) {`","body":"Your first while-loop is an infinite loop: <code>while(S.size()&gt;0); {</code> the semicolon ends the loop-body, so you&#39;ll forever repeat an empty loop. Remove it: <code>while(S.size()&gt;0) {</code>"}],"answers":[{"tags":[],"owner":{"account_id":166892,"reputation":4102,"user_id":391338,"display_name":"Sentry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638549591,"creation_date":1638549591,"answer_id":70217802,"question_id":70205227,"body_markdown":"I&#39;m not quire sure what you&#39;re asking. Please state a clear example of expected and observed behavior with the relevant input.\r\n\r\nBut I can see a few possible errors in your code:\r\n\r\n* You have an empty while-loop here:\r\n\r\n        while(S.size() &gt; 0); {\r\n\r\n   Get rid of the &#39;;&#39;\r\n\r\n        while(S.size() &gt; 0) {\r\n\r\n* None of your if statements use brackets, so the then-part will only be the next line:\r\n\r\n        while( S.size() &gt; 0 )\r\n        {\r\n            Vertex u = S.pop();\r\n            if(!u.getVisited())\r\n                u.setVisited(true);\r\n            visited.add(u);\r\n            for(Vertex w: getAdjacentVertices(u)) {\r\n                if(!w.getVisited())\r\n                    S.push(w);\r\n                predecessor.put(w,u);\r\n            }\r\n        }\r\n        GraphAdjacencyList T = new GraphAdjacencyList(listOfVertices);\r\n        for(Vertex v : visited) {\r\n            Vertex u = null;\r\n            if(predecessor.containsKey(v)) \r\n                u = predecessor.get(v);\r\n            T.addDirectedEdge(u,v,1);\r\n        }\r\n        return T;\r\n    }\r\n\r\n    Is that what you want? Or should it be this:\r\n\r\n        while( S.size() &gt; 0 ) {\r\n            Vertex u = S.pop();\r\n            if( !u.getVisited() ) {                   // &lt;-----\r\n                u.setVisited(true);\r\n                visited.add(u);\r\n                for( Vertex w : getAdjacentVertices(u) ) {\r\n                    if( !w.getVisited() ) {           // &lt;-----\r\n                        S.push(w);\r\n                        predecessor.put(w, u);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        GraphAdjacencyList T = new GraphAdjacencyList(listOfVertices);\r\n        for( Vertex v : visited ) {\r\n            Vertex u = null;\r\n            if( predecessor.containsKey(v) ) {        // &lt;-----\r\n                u = predecessor.get(v);\r\n                T.addDirectedEdge(u, v, 1);\r\n            }\r\n        }\r\n        return T;\r\n","title":"Trouble Declaring Vertex u within DFS","body":"<p>I'm not quire sure what you're asking. Please state a clear example of expected and observed behavior with the relevant input.</p>\n<p>But I can see a few possible errors in your code:</p>\n<ul>\n<li><p>You have an empty while-loop here:</p>\n<pre><code>  while(S.size() &gt; 0); {\n</code></pre>\n<p>Get rid of the ';'</p>\n<pre><code>  while(S.size() &gt; 0) {\n</code></pre>\n</li>\n<li><p>None of your if statements use brackets, so the then-part will only be the next line:</p>\n<pre><code>  while( S.size() &gt; 0 )\n  {\n      Vertex u = S.pop();\n      if(!u.getVisited())\n          u.setVisited(true);\n      visited.add(u);\n      for(Vertex w: getAdjacentVertices(u)) {\n          if(!w.getVisited())\n              S.push(w);\n          predecessor.put(w,u);\n      }\n  }\n  GraphAdjacencyList T = new GraphAdjacencyList(listOfVertices);\n  for(Vertex v : visited) {\n      Vertex u = null;\n      if(predecessor.containsKey(v)) \n          u = predecessor.get(v);\n      T.addDirectedEdge(u,v,1);\n  }\n  return T;\n</code></pre>\n<p>}</p>\n<p>Is that what you want? Or should it be this:</p>\n<pre><code>  while( S.size() &gt; 0 ) {\n      Vertex u = S.pop();\n      if( !u.getVisited() ) {                   // &lt;-----\n          u.setVisited(true);\n          visited.add(u);\n          for( Vertex w : getAdjacentVertices(u) ) {\n              if( !w.getVisited() ) {           // &lt;-----\n                  S.push(w);\n                  predecessor.put(w, u);\n              }\n          }\n      }\n  }\n  GraphAdjacencyList T = new GraphAdjacencyList(listOfVertices);\n  for( Vertex v : visited ) {\n      Vertex u = null;\n      if( predecessor.containsKey(v) ) {        // &lt;-----\n          u = predecessor.get(v);\n          T.addDirectedEdge(u, v, 1);\n      }\n  }\n  return T;\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":23204618,"reputation":1,"user_id":17299003,"display_name":"Mr. Zalgo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639225978,"creation_date":1638472363,"question_id":70205227,"body_markdown":"I&#39;ve been trying to solve this depthFirstSearch Algorithm and while I have followed the pseudocode properly, I&#39;ve been having severe trouble trying to declare a vertex within the algorithm.\r\n\r\nHere&#39;s the Algorithm:\r\n\r\n\t\tpublic GraphAdjacencyList depthFirstSearch(Vertex start) {\r\n\t\t\tStack&lt;Vertex&gt;S = new Stack&lt;Vertex&gt;();\r\n\t\t\tArrayList&lt;Vertex&gt;visited = new ArrayList&lt;Vertex&gt;();\r\n\t\t\tHashMap&lt;Vertex,Vertex&gt;predecessor = new HashMap&lt;Vertex,Vertex&gt;();\r\n\t\t\tfor(int i = 0;i&lt;listOfVertices.size();i++) {\r\n\t\t\t\tlistOfVertices.get(i).setVisited(false);\r\n\t\t\t}\r\n\t\t\tS.push(start);\r\n\t\t\twhile(S.size()&gt;0); {\r\n\t\t\t\tVertex u = S.pop();\r\n\t\t\t\tif(!u.getVisited())\r\n\t\t\t\t\tu.setVisited(true);\r\n\t\t\t\t\tvisited.add(u);\r\n\t\t\t\t\tfor(Vertex w: getAdjacentVertices(u)) {\r\n\t\t\t\t\t\tif(!w.getVisited())\r\n\t\t\t\t\t\t\tS.push(w);\r\n\t\t\t\t\t\t\tpredecessor.put(w,u);\r\n\t\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t**GraphAdjacencyList T = new GraphAdjacencyList(listOfVertices);\r\n\t\t\tfor(Vertex v:visited) {\r\n\t\t\t\tVertex u = null;\r\n\t\t\t\tif(predecessor.containsKey(v)) \r\n\t\t\t\t\tu = predecessor.get(v);\r\n\t\t\t\t\tT.addDirectedEdge(u,v,1);\r\n\t\t\t}\r\n\t\t\treturn T;**\r\n\t\t}\r\n\r\nAnd here&#39;s the Driver/testing code to check if it works:\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.LinkedList;\r\n\r\npublic class GraphSearchingAndDijkstraDriverAndGrader {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tArrayList&lt;Vertex&gt; vertices = new ArrayList&lt;Vertex&gt;();\r\n\t\t\r\n\t\tVertex A = new Vertex(&quot;A&quot;);\r\n\t\tVertex B = new Vertex(&quot;B&quot;);\r\n\t\tVertex C = new Vertex(&quot;C&quot;);\r\n\t\tVertex D = new Vertex(&quot;D&quot;);\r\n\t\tvertices.add(A);\r\n\t\tvertices.add(B);\r\n\t\tvertices.add(C);\r\n\t\tvertices.add(D);\r\n\t\t\r\n\t\t//Create graph1 for testing\r\n\t\tGraphAdjacencyList graph1 = new GraphAdjacencyList(vertices);\t\t\t\r\n\t\tgraph1.addUndirectedEdge(A, B, 1);\r\n\t\tgraph1.addUndirectedEdge(A, C, 3);\r\n\t\tgraph1.addUndirectedEdge(B, C, 1);\r\n\t\tgraph1.addUndirectedEdge(C, D, 2);\r\n\t\t\r\n\t\tint points = 0;\r\n\t\t\r\n\t\tpoints+=5; //constructed graph1\r\n\t\t//Output graph1 to match provided formatting\r\n\t\tSystem.out.println(&quot;Graph for testing:\\n\\n&quot;+graph1); //test toString\r\n\t\tArrayList&lt;Vertex&gt; adjacentToA = graph1.getAdjacentVertices(A);\r\n\t\tif(adjacentToA != null &amp;&amp; adjacentToA.size() ==2)\r\n\t\t\tpoints+=5; //toString print of graph1\r\n\t\telse\r\n\t\t\tSystem.out.println(&quot;Either failed to add edges to A. Fix Add UndirectedEdge. Or, getAdjacentVertices is not correctly implemented.&quot;);\r\n\t\t\r\n\t\tSystem.out.println(&quot;You have &quot;+points+&quot; initial points from creating and printing graph1&quot;);\t\r\n\t\tSystem.out.println(&quot;Earned &quot;+points+&quot; of 10 points&quot;);\r\n\r\n//*************Test the implementation**************************************\r\n\t\t\t\t\r\n//breadthFirstSearch testing\r\n\r\n\t\r\n\t\tGraphAdjacencyList bfs = graph1.breadthFirstSearch(A);\r\n\t\tSystem.out.println(&quot;breadthFirstSearch(A) results: \\n&quot; + bfs); //test toString\t\t\r\n\t\tArrayList&lt;Vertex&gt; bfsAdjacentA, bfsTestA;\r\n\t\tbfsTestA = new ArrayList&lt;Vertex&gt;();\r\n\t\tbfsTestA.add(B); bfsTestA.add(C);\r\n\t\tbfsAdjacentA = bfs.getAdjacentVertices(A);\r\n\t\t\r\n\t\tif(bfsAdjacentA != null &amp;&amp; bfsAdjacentA.containsAll(bfsTestA)&amp;&amp; !bfsAdjacentA.contains(D))\r\n\t\t\tpoints+=4;\r\n\t\telse\r\n\t\t\tSystem.out.println(&quot;breadthFirstSearch failed to reach both B and C&quot;);\r\n\t\t\r\n\t\t\r\n\t\tif(bfs.getAdjacentVertices(B) != null &amp;&amp; bfs.getAdjacentVertices(B).size() ==0 )// &amp;&amp; adjacentD.contains(C))\r\n\t\t\tpoints+=3;\r\n\t\telse\r\n\t\t\tSystem.out.println(&quot;BFS Adjacent B should not have any adjacent vertices&quot;);\r\n\t\t\r\n\t\t\r\n\t\tif(bfs.getAdjacentVertices(C) != null &amp;&amp; bfs.getAdjacentVertices(C).size() == 1 &amp;&amp; bfs.getAdjacentVertices(C).contains(D))// &amp;&amp; adjacentD.contains(C))\r\n\t\t\tpoints+=3;\r\n\t\telse\r\n\t\t\tSystem.out.println(&quot;BFS Adjacent C should have one adjacent vertice D&quot;);\r\n\t\r\n\t\tSystem.out.println(&quot;Earned &quot;+points+&quot; of 20 total points past breadthFirstSearch testing&quot;);\r\n\r\n\t \r\n\t\t\r\n//test depthFirstSearch\ton new clean graph1\t\r\n\t\t\r\n\t\r\n\t\tgraph1 = new GraphAdjacencyList(vertices);\t\t\t\r\n\t\tgraph1.addUndirectedEdge(A, B, 1);\r\n\t\tgraph1.addUndirectedEdge(A, C, 3);\r\n\t\tgraph1.addUndirectedEdge(B, C, 1);\r\n\t\tgraph1.addUndirectedEdge(C, D, 2);\r\n\t\t\r\n\t\tGraphAdjacencyList dfs = graph1.depthFirstSearch(A);\r\n\t\tSystem.out.println(&quot;depthFirstSearch(A) results: \\n&quot; + dfs); //test toString\t\t\r\n\t\tArrayList&lt;Vertex&gt; dfsAdjacentA;\r\n\t\t\r\n\t\tdfsAdjacentA = dfs.getAdjacentVertices(A);\r\n\t\t\r\n\t\tif(dfsAdjacentA != null &amp;&amp; (dfsAdjacentA.contains(B)||dfsAdjacentA.contains(C) ) &amp;&amp; !dfsAdjacentA.contains(D))\r\n\t\t\tpoints+=6;\r\n\t\telse\r\n\t\t\tSystem.out.println(&quot;depthFirstSearch should reach either B or C but not both&quot;);\r\n\t\t\r\n\t\t\r\n\t\tif(dfs.getAdjacentVertices(D) != null &amp;&amp; dfs.getAdjacentVertices(D).size() ==0 )\r\n\t\t\tpoints+=4;\r\n\t\telse\r\n\t\t\tSystem.out.println(&quot;DFS Adjacent D should not have any adjacent vertices&quot;);\r\n\t\t\r\n\t\t\t\r\n\t\tSystem.out.println(&quot;Earned &quot;+points+&quot; of 30 points past depthFirstSearch&quot;);\r\n\t\r\n\t\t\r\n//test BFS and DFS on larger graph2\r\n\t\r\n\t\r\n\t\t//Second Graph to test\r\n\t\tArrayList&lt;Vertex&gt; vertices2 = new ArrayList&lt;Vertex&gt;();\r\n\t\t\r\n\t\tVertex a = new Vertex(&quot;a&quot;);\r\n\t\tVertex b = new Vertex(&quot;b&quot;);\r\n\t\tVertex c = new Vertex(&quot;c&quot;);\r\n\t\tVertex d = new Vertex(&quot;d&quot;);\r\n\t\tVertex e = new Vertex(&quot;e&quot;);\r\n\t\tVertex f = new Vertex(&quot;f&quot;);\r\n\t\t\t\t\r\n\t\tvertices2.add(a);\r\n\t\tvertices2.add(b);\r\n\t\tvertices2.add(c);\r\n\t\tvertices2.add(d);\r\n\t\tvertices2.add(e);\r\n\t\tvertices2.add(f);\r\n\t\t\r\n\t\t\r\n\t\tGraphAdjacencyList graph2 = new GraphAdjacencyList(vertices2);\r\n\t\t\t\t\r\n\t\tgraph2.addUndirectedEdge(a, c, 1);\r\n\t\tgraph2.addUndirectedEdge(a, d, 1);\r\n\t\tgraph2.addUndirectedEdge(c, e, 1 );\r\n\t\tgraph2.addUndirectedEdge(c, b, 1);\r\n\t\tgraph2.addUndirectedEdge(d, e, 1);\r\n\t\tgraph2.addUndirectedEdge(e, f, 1);\r\n\t\tgraph2.addUndirectedEdge(b, f, 1);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Graph2:\\n&quot;+graph2);\r\n\t\t\r\n\t\tGraphAdjacencyList bfs2 = graph2.breadthFirstSearch(a);\r\n\t\tif(bfs2.getAdjacentVertices(a) != null &amp;&amp; bfs2.getAdjacentVertices(a).size() ==2 )\r\n\t\t\tpoints+=2;\r\n\t\telse\r\n\t\t\tSystem.out.println(&quot;BFS Adjacent a should have two adjacent vertices&quot;);\r\n\t\t\r\n\t\tGraphAdjacencyList dfsTree2 = graph2.depthFirstSearch(a);\r\n\t\tif(dfsTree2.getAdjacentVertices(a) != null &amp;&amp; dfsTree2.getAdjacentVertices(a).size() ==1 )\r\n\t\t\tpoints+=2;\r\n\t\telse\r\n\t\t\tSystem.out.println(&quot;DFS Adjacent a should have one adjacent vertices&quot;);\r\n\t\t\r\n\t\t//BFS and DFS from Vertex c\r\n\t\tGraphAdjacencyList bfsTree2c = graph2.breadthFirstSearch(c);\r\n\t\tif(bfsTree2c.getAdjacentVertices(c) != null &amp;&amp; bfsTree2c.getAdjacentVertices(c).size() ==3 )\r\n\t\t\tpoints+=3;\r\n\t\telse\r\n\t\t\tSystem.out.println(&quot;BFS Adjacent c should have three adjacent vertices&quot;);\r\n\t\t\r\n\t\tGraphAdjacencyList dfsTree2c = graph2.depthFirstSearch(c);\r\n\t\tif(dfsTree2c.getAdjacentVertices(c) != null &amp;&amp; dfsTree2c.getAdjacentVertices(c).size() ==1 )\r\n\t\t\tpoints+=3;\r\n\t\telse\r\n\t\t\tSystem.out.println(&quot;DFS Adjacent c should have one adjacent vertex&quot;);\r\n\r\n\t\tSystem.out.println(&quot;Earned &quot;+points+&quot; of 40 total points past second graph with bfs and dfs\\n\\n&quot;);\r\n\t\r\n\t\t\r\n//test Dijkstras in ArrayList on new clean graph1\t\r\n\t\t\r\n\t/*\r\n\t\tSystem.out.println(&quot;Starting testing of Dijkstra&#39;s Algorithm:&quot;);\r\n\t\tgraph1 = new GraphAdjacencyList(vertices);\t\t\t\r\n\t\tgraph1.addUndirectedEdge(A, B, 1);\r\n\t\tgraph1.addUndirectedEdge(A, C, 3);\r\n\t\tgraph1.addUndirectedEdge(B, C, 1);\r\n\t\tgraph1.addUndirectedEdge(C, D, 2);\r\n\t\t\r\n\t\tgraph1.Dijkstra(A);\r\n\t\t\r\n\t\tif(A.getDistance() == 0 )\r\n\t\t\tpoints+=2;\r\n\t\telse\r\n\t\t\tSystem.out.println(&quot;Distance should be 0 in start Vertex A&quot;);\r\n\t\t\r\n\t\tif(B.getDistance() == 1 )\r\n\t\t\tpoints+=2;\r\n\t\telse\r\n\t\t\tSystem.out.println(&quot;Distance should be 1 in Vertex B&quot;);\r\n\t\t\r\n\t\tif(C.getDistance() == 2 )\r\n\t\t\tpoints+=3;\r\n\t\telse\r\n\t\t\tSystem.out.println(&quot;Distance should be 2 in Vertex C (not 3)&quot;);\r\n\t\t\r\n\t\tif(D.getDistance() == 4 )\r\n\t\t\tpoints+=3;\r\n\t\telse\r\n\t\t\tSystem.out.println(&quot;Distance should be 4 in Vertex D&quot;);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Earned &quot;+points+&quot; of 50 total points past Dijkstras&quot;);\r\n\t\t\r\n\t */\r\n\r\n\t\tSystem.out.println(&quot;\\nFinal points: &quot;+points+&quot; of 50 total points &quot;);\r\n\t\t\r\n\t}\r\n}\r\n```\r\nI already completed the BreadthFirstSearch algorithm and the Dijkstra&#39;s algorithm, I just need to figure out the problem I&#39;ve been having with DepthFirstSearch.\r\n\r\nI believe the problem lies in trying to declare Vertex u within the last for loop, but I have tried many ways to declare it and the output still displays nothing for the algorithm. (The double asterisk line within the DFS algorithm)\r\n\r\nI have already completed the standard Vertex code, the Graphable interface, and the CompareByDistance. All I want to know is how do I declare u within the DFS algorithm?","title":"Trouble Declaring Vertex u within DFS","body":"<p>I've been trying to solve this depthFirstSearch Algorithm and while I have followed the pseudocode properly, I've been having severe trouble trying to declare a vertex within the algorithm.</p>\n<p>Here's the Algorithm:</p>\n<pre><code>    public GraphAdjacencyList depthFirstSearch(Vertex start) {\n        Stack&lt;Vertex&gt;S = new Stack&lt;Vertex&gt;();\n        ArrayList&lt;Vertex&gt;visited = new ArrayList&lt;Vertex&gt;();\n        HashMap&lt;Vertex,Vertex&gt;predecessor = new HashMap&lt;Vertex,Vertex&gt;();\n        for(int i = 0;i&lt;listOfVertices.size();i++) {\n            listOfVertices.get(i).setVisited(false);\n        }\n        S.push(start);\n        while(S.size()&gt;0); {\n            Vertex u = S.pop();\n            if(!u.getVisited())\n                u.setVisited(true);\n                visited.add(u);\n                for(Vertex w: getAdjacentVertices(u)) {\n                    if(!w.getVisited())\n                        S.push(w);\n                        predecessor.put(w,u);\n                }\n        }\n        **GraphAdjacencyList T = new GraphAdjacencyList(listOfVertices);\n        for(Vertex v:visited) {\n            Vertex u = null;\n            if(predecessor.containsKey(v)) \n                u = predecessor.get(v);\n                T.addDirectedEdge(u,v,1);\n        }\n        return T;**\n    }\n</code></pre>\n<p>And here's the Driver/testing code to check if it works:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.LinkedList;\n\npublic class GraphSearchingAndDijkstraDriverAndGrader {\n\n    public static void main(String[] args) {\n        \n        ArrayList&lt;Vertex&gt; vertices = new ArrayList&lt;Vertex&gt;();\n        \n        Vertex A = new Vertex(&quot;A&quot;);\n        Vertex B = new Vertex(&quot;B&quot;);\n        Vertex C = new Vertex(&quot;C&quot;);\n        Vertex D = new Vertex(&quot;D&quot;);\n        vertices.add(A);\n        vertices.add(B);\n        vertices.add(C);\n        vertices.add(D);\n        \n        //Create graph1 for testing\n        GraphAdjacencyList graph1 = new GraphAdjacencyList(vertices);           \n        graph1.addUndirectedEdge(A, B, 1);\n        graph1.addUndirectedEdge(A, C, 3);\n        graph1.addUndirectedEdge(B, C, 1);\n        graph1.addUndirectedEdge(C, D, 2);\n        \n        int points = 0;\n        \n        points+=5; //constructed graph1\n        //Output graph1 to match provided formatting\n        System.out.println(&quot;Graph for testing:\\n\\n&quot;+graph1); //test toString\n        ArrayList&lt;Vertex&gt; adjacentToA = graph1.getAdjacentVertices(A);\n        if(adjacentToA != null &amp;&amp; adjacentToA.size() ==2)\n            points+=5; //toString print of graph1\n        else\n            System.out.println(&quot;Either failed to add edges to A. Fix Add UndirectedEdge. Or, getAdjacentVertices is not correctly implemented.&quot;);\n        \n        System.out.println(&quot;You have &quot;+points+&quot; initial points from creating and printing graph1&quot;); \n        System.out.println(&quot;Earned &quot;+points+&quot; of 10 points&quot;);\n\n//*************Test the implementation**************************************\n                \n//breadthFirstSearch testing\n\n    \n        GraphAdjacencyList bfs = graph1.breadthFirstSearch(A);\n        System.out.println(&quot;breadthFirstSearch(A) results: \\n&quot; + bfs); //test toString      \n        ArrayList&lt;Vertex&gt; bfsAdjacentA, bfsTestA;\n        bfsTestA = new ArrayList&lt;Vertex&gt;();\n        bfsTestA.add(B); bfsTestA.add(C);\n        bfsAdjacentA = bfs.getAdjacentVertices(A);\n        \n        if(bfsAdjacentA != null &amp;&amp; bfsAdjacentA.containsAll(bfsTestA)&amp;&amp; !bfsAdjacentA.contains(D))\n            points+=4;\n        else\n            System.out.println(&quot;breadthFirstSearch failed to reach both B and C&quot;);\n        \n        \n        if(bfs.getAdjacentVertices(B) != null &amp;&amp; bfs.getAdjacentVertices(B).size() ==0 )// &amp;&amp; adjacentD.contains(C))\n            points+=3;\n        else\n            System.out.println(&quot;BFS Adjacent B should not have any adjacent vertices&quot;);\n        \n        \n        if(bfs.getAdjacentVertices(C) != null &amp;&amp; bfs.getAdjacentVertices(C).size() == 1 &amp;&amp; bfs.getAdjacentVertices(C).contains(D))// &amp;&amp; adjacentD.contains(C))\n            points+=3;\n        else\n            System.out.println(&quot;BFS Adjacent C should have one adjacent vertice D&quot;);\n    \n        System.out.println(&quot;Earned &quot;+points+&quot; of 20 total points past breadthFirstSearch testing&quot;);\n\n     \n        \n//test depthFirstSearch on new clean graph1 \n        \n    \n        graph1 = new GraphAdjacencyList(vertices);          \n        graph1.addUndirectedEdge(A, B, 1);\n        graph1.addUndirectedEdge(A, C, 3);\n        graph1.addUndirectedEdge(B, C, 1);\n        graph1.addUndirectedEdge(C, D, 2);\n        \n        GraphAdjacencyList dfs = graph1.depthFirstSearch(A);\n        System.out.println(&quot;depthFirstSearch(A) results: \\n&quot; + dfs); //test toString        \n        ArrayList&lt;Vertex&gt; dfsAdjacentA;\n        \n        dfsAdjacentA = dfs.getAdjacentVertices(A);\n        \n        if(dfsAdjacentA != null &amp;&amp; (dfsAdjacentA.contains(B)||dfsAdjacentA.contains(C) ) &amp;&amp; !dfsAdjacentA.contains(D))\n            points+=6;\n        else\n            System.out.println(&quot;depthFirstSearch should reach either B or C but not both&quot;);\n        \n        \n        if(dfs.getAdjacentVertices(D) != null &amp;&amp; dfs.getAdjacentVertices(D).size() ==0 )\n            points+=4;\n        else\n            System.out.println(&quot;DFS Adjacent D should not have any adjacent vertices&quot;);\n        \n            \n        System.out.println(&quot;Earned &quot;+points+&quot; of 30 points past depthFirstSearch&quot;);\n    \n        \n//test BFS and DFS on larger graph2\n    \n    \n        //Second Graph to test\n        ArrayList&lt;Vertex&gt; vertices2 = new ArrayList&lt;Vertex&gt;();\n        \n        Vertex a = new Vertex(&quot;a&quot;);\n        Vertex b = new Vertex(&quot;b&quot;);\n        Vertex c = new Vertex(&quot;c&quot;);\n        Vertex d = new Vertex(&quot;d&quot;);\n        Vertex e = new Vertex(&quot;e&quot;);\n        Vertex f = new Vertex(&quot;f&quot;);\n                \n        vertices2.add(a);\n        vertices2.add(b);\n        vertices2.add(c);\n        vertices2.add(d);\n        vertices2.add(e);\n        vertices2.add(f);\n        \n        \n        GraphAdjacencyList graph2 = new GraphAdjacencyList(vertices2);\n                \n        graph2.addUndirectedEdge(a, c, 1);\n        graph2.addUndirectedEdge(a, d, 1);\n        graph2.addUndirectedEdge(c, e, 1 );\n        graph2.addUndirectedEdge(c, b, 1);\n        graph2.addUndirectedEdge(d, e, 1);\n        graph2.addUndirectedEdge(e, f, 1);\n        graph2.addUndirectedEdge(b, f, 1);\n        \n        System.out.println(&quot;Graph2:\\n&quot;+graph2);\n        \n        GraphAdjacencyList bfs2 = graph2.breadthFirstSearch(a);\n        if(bfs2.getAdjacentVertices(a) != null &amp;&amp; bfs2.getAdjacentVertices(a).size() ==2 )\n            points+=2;\n        else\n            System.out.println(&quot;BFS Adjacent a should have two adjacent vertices&quot;);\n        \n        GraphAdjacencyList dfsTree2 = graph2.depthFirstSearch(a);\n        if(dfsTree2.getAdjacentVertices(a) != null &amp;&amp; dfsTree2.getAdjacentVertices(a).size() ==1 )\n            points+=2;\n        else\n            System.out.println(&quot;DFS Adjacent a should have one adjacent vertices&quot;);\n        \n        //BFS and DFS from Vertex c\n        GraphAdjacencyList bfsTree2c = graph2.breadthFirstSearch(c);\n        if(bfsTree2c.getAdjacentVertices(c) != null &amp;&amp; bfsTree2c.getAdjacentVertices(c).size() ==3 )\n            points+=3;\n        else\n            System.out.println(&quot;BFS Adjacent c should have three adjacent vertices&quot;);\n        \n        GraphAdjacencyList dfsTree2c = graph2.depthFirstSearch(c);\n        if(dfsTree2c.getAdjacentVertices(c) != null &amp;&amp; dfsTree2c.getAdjacentVertices(c).size() ==1 )\n            points+=3;\n        else\n            System.out.println(&quot;DFS Adjacent c should have one adjacent vertex&quot;);\n\n        System.out.println(&quot;Earned &quot;+points+&quot; of 40 total points past second graph with bfs and dfs\\n\\n&quot;);\n    \n        \n//test Dijkstras in ArrayList on new clean graph1   \n        \n    /*\n        System.out.println(&quot;Starting testing of Dijkstra's Algorithm:&quot;);\n        graph1 = new GraphAdjacencyList(vertices);          \n        graph1.addUndirectedEdge(A, B, 1);\n        graph1.addUndirectedEdge(A, C, 3);\n        graph1.addUndirectedEdge(B, C, 1);\n        graph1.addUndirectedEdge(C, D, 2);\n        \n        graph1.Dijkstra(A);\n        \n        if(A.getDistance() == 0 )\n            points+=2;\n        else\n            System.out.println(&quot;Distance should be 0 in start Vertex A&quot;);\n        \n        if(B.getDistance() == 1 )\n            points+=2;\n        else\n            System.out.println(&quot;Distance should be 1 in Vertex B&quot;);\n        \n        if(C.getDistance() == 2 )\n            points+=3;\n        else\n            System.out.println(&quot;Distance should be 2 in Vertex C (not 3)&quot;);\n        \n        if(D.getDistance() == 4 )\n            points+=3;\n        else\n            System.out.println(&quot;Distance should be 4 in Vertex D&quot;);\n        \n        System.out.println(&quot;Earned &quot;+points+&quot; of 50 total points past Dijkstras&quot;);\n        \n     */\n\n        System.out.println(&quot;\\nFinal points: &quot;+points+&quot; of 50 total points &quot;);\n        \n    }\n}\n</code></pre>\n<p>I already completed the BreadthFirstSearch algorithm and the Dijkstra's algorithm, I just need to figure out the problem I've been having with DepthFirstSearch.</p>\n<p>I believe the problem lies in trying to declare Vertex u within the last for loop, but I have tried many ways to declare it and the output still displays nothing for the algorithm. (The double asterisk line within the DFS algorithm)</p>\n<p>I have already completed the standard Vertex code, the Graphable interface, and the CompareByDistance. All I want to know is how do I declare u within the DFS algorithm?</p>\n"},{"tags":["java","package"],"comments":[{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1639222089,"post_id":70314707,"comment_id":124296500,"body_markdown":"Would it make sense in your case for classes `A` and `B` to inherit from class `C`?","body":"Would it make sense in your case for classes <code>A</code> and <code>B</code> to inherit from class <code>C</code>?"},{"owner":{"display_name":"user10569150"},"score":0,"creation_date":1639223360,"post_id":70314707,"comment_id":124296720,"body_markdown":"No, there a only &#39;stupid&#39; classes in there (Mapper, and so on)","body":"No, there a only &#39;stupid&#39; classes in there (Mapper, and so on)"},{"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"score":0,"creation_date":1639223790,"post_id":70314707,"comment_id":124296820,"body_markdown":"How is &quot;mapper&quot; a stupid class? Sounds like a class that is perfectly fine to use with inheritance.","body":"How is &quot;mapper&quot; a stupid class? Sounds like a class that is perfectly fine to use with inheritance."},{"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"score":0,"creation_date":1639223906,"post_id":70314707,"comment_id":124296840,"body_markdown":"It&#39;s not perfect, but you can make `doSomething` of class `C` public and write in the JavaDoc, that it isn&#39;t part of the public API and shouldn&#39;t be used.","body":"It&#39;s not perfect, but you can make <code>doSomething</code> of class <code>C</code> public and write in the JavaDoc, that it isn&#39;t part of the public API and shouldn&#39;t be used."},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1639224019,"post_id":70314707,"comment_id":124296855,"body_markdown":"And then people will still ignore the JavaDoc and use it. I don&#39;t know what `Mapper` has to do with what I asked, though. Is there a reason why classes `A` and `B` can not extend class `C`? Because from what OP has told us, I don&#39;t see one, and inheritance would solve the problem with none of the drawbacks of the other possibilities.","body":"And then people will still ignore the JavaDoc and use it. I don&#39;t know what <code>Mapper</code> has to do with what I asked, though. Is there a reason why classes <code>A</code> and <code>B</code> can not extend class <code>C</code>? Because from what OP has told us, I don&#39;t see one, and inheritance would solve the problem with none of the drawbacks of the other possibilities."},{"owner":{"display_name":"user10569150"},"score":0,"creation_date":1639225477,"post_id":70314707,"comment_id":124297140,"body_markdown":"Ok than assume there is a Mapper class and a Converter class. You cant extend both. Moreover I dont want to overcomplicate things, so Im a friend of composition over inheritance","body":"Ok than assume there is a Mapper class and a Converter class. You cant extend both. Moreover I dont want to overcomplicate things, so Im a friend of composition over inheritance"},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1639225649,"post_id":70314707,"comment_id":124297175,"body_markdown":"But why would you need to extend both, and how are those classes related to classes `A`, `B` and `C` in your example? `doSomething()` is only one method in one class, if all you want to do is use that method in other classes that are in a different package, just inherit from the class that has it. That said, if you prefer to compose insted of inheriting, you can probably implement a Composite pattern that solves your problem, it will just be more work than a simple `extends`.","body":"But why would you need to extend both, and how are those classes related to classes <code>A</code>, <code>B</code> and <code>C</code> in your example? <code>doSomething()</code> is only one method in one class, if all you want to do is use that method in other classes that are in a different package, just inherit from the class that has it. That said, if you prefer to compose insted of inheriting, you can probably implement a Composite pattern that solves your problem, it will just be more work than a simple <code>extends</code>."}],"answers":[{"tags":[],"owner":{"account_id":14667240,"reputation":1,"user_id":10592808,"display_name":"GinGin3203"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639225946,"creation_date":1639225946,"answer_id":70315175,"question_id":70314707,"body_markdown":"(Sorry if I&#39;m not understanding your problem correctly, but I&#39;ll try to propose a solution)\r\n\r\nYou can make an abstract class which both `A` and `B` (let&#39;s call it `AbstractSomething`) inherit the method `doSomething()` from, and then the class `C` in another package can have a method which accepts `AbstractSomething` and calls `doSomething()` inside of it.","title":"How to access util class by classes in different packages in java?","body":"<p>(Sorry if I'm not understanding your problem correctly, but I'll try to propose a solution)</p>\n<p>You can make an abstract class which both <code>A</code> and <code>B</code> (let's call it <code>AbstractSomething</code>) inherit the method <code>doSomething()</code> from, and then the class <code>C</code> in another package can have a method which accepts <code>AbstractSomething</code> and calls <code>doSomething()</code> inside of it.</p>\n"}],"owner":{"display_name":"user10569150"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639225946,"creation_date":1639221704,"question_id":70314707,"body_markdown":"Consider the following packages in the same component (multi layer application)\r\n\r\n - com.app.feature1\r\n - com.app.feature2\r\n\r\nBoth contain classes. Let&#39;s say `com.app.feature1` contains class `A` and `com.app.feature2` contains class `B`. Both need the same code for their tasks. Let&#39;s call it `doSomething()` and put it in a class called `C`. \r\nIf I put class `C` in a new package `com.app.util` and make it public, `A` and `B` can use `doSomething()`, but classes of higher components can use `C`&#39;s `doSomething()` and I don&#39;t want that. The next modifier is package-private. `A` and `B` are not in the same package as `C`. So they cannot use `C`&#39;s `doSomething()`.\r\n\r\nHow to solve this?","title":"How to access util class by classes in different packages in java?","body":"<p>Consider the following packages in the same component (multi layer application)</p>\n<ul>\n<li>com.app.feature1</li>\n<li>com.app.feature2</li>\n</ul>\n<p>Both contain classes. Let's say <code>com.app.feature1</code> contains class <code>A</code> and <code>com.app.feature2</code> contains class <code>B</code>. Both need the same code for their tasks. Let's call it <code>doSomething()</code> and put it in a class called <code>C</code>.\nIf I put class <code>C</code> in a new package <code>com.app.util</code> and make it public, <code>A</code> and <code>B</code> can use <code>doSomething()</code>, but classes of higher components can use <code>C</code>'s <code>doSomething()</code> and I don't want that. The next modifier is package-private. <code>A</code> and <code>B</code> are not in the same package as <code>C</code>. So they cannot use <code>C</code>'s <code>doSomething()</code>.</p>\n<p>How to solve this?</p>\n"},{"tags":["java","swing","user-interface"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1639210952,"post_id":70313568,"comment_id":124294585,"body_markdown":"1) *&quot;want to count words .. in real-time&quot;* Add a `DocumentListener`. The action will be fired on each and every change to the text area. 2) `setLayout(null);//using no layout manager` Use. Layouts. 3) When using layouts, change `ta=new JTextArea();` to `ta=new JTextArea(rows, columns);` to suggest a size.","body":"1) <i>&quot;want to count words .. in real-time&quot;</i> Add a <code>DocumentListener</code>. The action will be fired on each and every change to the text area. 2) <code>setLayout(null);&#47;&#47;using no layout manager</code> Use. Layouts. 3) When using layouts, change <code>ta=new JTextArea();</code> to <code>ta=new JTextArea(rows, columns);</code> to suggest a size."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1639212485,"post_id":70313568,"comment_id":124294840,"body_markdown":"I believe there is no need for multi-threading for that (unless word counting is too slow). BTW not the best example: extending a `JFrame`, or any other Swing component, but not changing or extending its functionality, only to use it, is bad practice IMHO","body":"I believe there is no need for multi-threading for that (unless word counting is too slow). BTW not the best example: extending a <code>JFrame</code>, or any other Swing component, but not changing or extending its functionality, only to use it, is bad practice IMHO"}],"answers":[{"tags":[],"owner":{"account_id":15857049,"reputation":68,"user_id":11441183,"display_name":"Sabadon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1639225704,"creation_date":1639214333,"answer_id":70313935,"question_id":70313568,"body_markdown":"You need to use a `DocumentListener` on the `JTextArea` instead of an `ActionListener` on a `JButton`.\r\n```java\r\nvoid test() {\r\n   JTextArea textArea = new JTextArea();\r\n\r\n   textArea.getDocument().addDocumentListener(new DocumentListener() {\r\n       @Override\r\n       public void insertUpdate(DocumentEvent e) {\r\n           recalculateWords();;\r\n       }\r\n\r\n       @Override\r\n       public void removeUpdate(DocumentEvent e) {\r\n           recalculateWords();\r\n       }\r\n\r\n       @Override\r\n       public void changedUpdate(DocumentEvent e) {\r\n           recalculateWords();\r\n       }\r\n   });\r\n}\r\n\r\nvoid recalculateWords() {\r\n    //Use your code from actionPerfomed here.\r\n}\r\n```","title":"Java GUI Real Time Word Counter","body":"<p>You need to use a <code>DocumentListener</code> on the <code>JTextArea</code> instead of an <code>ActionListener</code> on a <code>JButton</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>void test() {\n   JTextArea textArea = new JTextArea();\n\n   textArea.getDocument().addDocumentListener(new DocumentListener() {\n       @Override\n       public void insertUpdate(DocumentEvent e) {\n           recalculateWords();;\n       }\n\n       @Override\n       public void removeUpdate(DocumentEvent e) {\n           recalculateWords();\n       }\n\n       @Override\n       public void changedUpdate(DocumentEvent e) {\n           recalculateWords();\n       }\n   });\n}\n\nvoid recalculateWords() {\n    //Use your code from actionPerfomed here.\n}\n</code></pre>\n"}],"owner":{"account_id":10932645,"reputation":156,"user_id":12705800,"display_name":"Xia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":555,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70313935,"answer_count":1,"score":0,"last_activity_date":1639225704,"creation_date":1639210292,"question_id":70313568,"body_markdown":"I was checking out the example projects that people do when starting to learn Java and GUI, I was faced with a bunch of word/letter count programs such as:\r\n\r\n```\r\nimport java.awt.*;\r\nimport javax.swing.*;\r\nimport java.awt.event.*;\r\npublic class Counter extends JFrame implements ActionListener{\r\n    JLabel lb1,lb2;\r\n    JTextArea ta;\r\n    JButton b;\r\n    JButton pad,text;\r\n    Counter(){\r\n        super(&quot;Char Word Count Tool - JTP&quot;);\r\n        lb1=new JLabel(&quot;Characters: &quot;);\r\n        lb1.setBounds(50,50,100,20);\r\n        lb2=new JLabel(&quot;Words: &quot;);\r\n        lb2.setBounds(50,80,100,20);\r\n\r\n        ta=new JTextArea();\r\n        ta.setBounds(50,110,300,200);\r\n\r\n        b=new JButton(&quot;Count&quot;);\r\n        b.setBounds(50,320, 80,30);//x,y,w,h  \r\n        b.addActionListener(this);\r\n\r\n        add(lb1);add(lb2);add(ta);add(b);\r\n\r\n        setSize(400,400);\r\n        setLayout(null);//using no layout manager  \r\n        setVisible(true);\r\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n    }\r\n    public void actionPerformed(ActionEvent e){\r\n        if(e.getSource()==b){\r\n            String text=ta.getText();\r\n            lb1.setText(&quot;Characters: &quot;+text.length());\r\n            String words[]=text.split(&quot;\\\\s&quot;);\r\n            lb2.setText(&quot;Words: &quot;+words.length);}\r\n    }\r\n    public static void main(String[] args) {\r\n        new Counter();\r\n    }}\r\n```\r\nBut I don&#39;t want to count words whenever I click the button but in real-time so the values update each frame. Do I need to use multi-threading for this or it can be achieved without it?","title":"Java GUI Real Time Word Counter","body":"<p>I was checking out the example projects that people do when starting to learn Java and GUI, I was faced with a bunch of word/letter count programs such as:</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nimport java.awt.event.*;\npublic class Counter extends JFrame implements ActionListener{\n    JLabel lb1,lb2;\n    JTextArea ta;\n    JButton b;\n    JButton pad,text;\n    Counter(){\n        super(&quot;Char Word Count Tool - JTP&quot;);\n        lb1=new JLabel(&quot;Characters: &quot;);\n        lb1.setBounds(50,50,100,20);\n        lb2=new JLabel(&quot;Words: &quot;);\n        lb2.setBounds(50,80,100,20);\n\n        ta=new JTextArea();\n        ta.setBounds(50,110,300,200);\n\n        b=new JButton(&quot;Count&quot;);\n        b.setBounds(50,320, 80,30);//x,y,w,h  \n        b.addActionListener(this);\n\n        add(lb1);add(lb2);add(ta);add(b);\n\n        setSize(400,400);\n        setLayout(null);//using no layout manager  \n        setVisible(true);\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n    }\n    public void actionPerformed(ActionEvent e){\n        if(e.getSource()==b){\n            String text=ta.getText();\n            lb1.setText(&quot;Characters: &quot;+text.length());\n            String words[]=text.split(&quot;\\\\s&quot;);\n            lb2.setText(&quot;Words: &quot;+words.length);}\n    }\n    public static void main(String[] args) {\n        new Counter();\n    }}\n</code></pre>\n<p>But I don't want to count words whenever I click the button but in real-time so the values update each frame. Do I need to use multi-threading for this or it can be achieved without it?</p>\n"},{"tags":["java","rest","flutterwave"],"answers":[{"tags":[],"owner":{"account_id":6740041,"reputation":11,"user_id":5193560,"display_name":"Dave Njoroge"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639225316,"creation_date":1639225316,"answer_id":70315102,"question_id":70199098,"body_markdown":"I think that you may need to encrypt your card details before you send them.\r\n\r\nhttps://developer.flutterwave.com/v3.0/docs/encryption\r\n\r\nAlso important is to send the request as JSON, by adding this header to your request:\r\n\r\n`&#39;Content-Type&#39;:&#39;application/json&#39;`","title":"Flutterwave card payment shows &#39;Payload needs 3DES-24 Encryption&#39; message. I am sending customer credit card details for payment","body":"<p>I think that you may need to encrypt your card details before you send them.</p>\n<p><a href=\"https://developer.flutterwave.com/v3.0/docs/encryption\" rel=\"nofollow noreferrer\">https://developer.flutterwave.com/v3.0/docs/encryption</a></p>\n<p>Also important is to send the request as JSON, by adding this header to your request:</p>\n<p><code>'Content-Type':'application/json'</code></p>\n"}],"owner":{"account_id":23524322,"reputation":11,"user_id":17571059,"display_name":"Vishal Suri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":492,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1639225316,"creation_date":1638446564,"question_id":70199098,"body_markdown":"I am using flutterwave payment gateway for payment using card. I am sending card details to flutterwave and getting following message:\r\n\r\n    &quot;Payload needs 3DES-24 Encryption&quot;\r\n\r\nWhat should I do? How can encrypt card data using 3DES-24 encryption?\r\n\r\n","title":"Flutterwave card payment shows &#39;Payload needs 3DES-24 Encryption&#39; message. I am sending customer credit card details for payment","body":"<p>I am using flutterwave payment gateway for payment using card. I am sending card details to flutterwave and getting following message:</p>\n<pre><code>&quot;Payload needs 3DES-24 Encryption&quot;\n</code></pre>\n<p>What should I do? How can encrypt card data using 3DES-24 encryption?</p>\n"},{"tags":["java","spring-boot","maven","log4j2"],"answers":[{"tags":[],"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639224911,"creation_date":1639224911,"answer_id":70315055,"question_id":70314455,"body_markdown":"So first if a app is using log4j-api in version 2.7 this has even not being upgrade for 5 years apart from that I suppose that the api has not being changed (which the api part implies) so you should or could only replace the implementation (log4j-core) and use the more recent version. You can exclude dependencies via the exclusions like this.\r\n\r\n&lt;!-- language: language-xml --&gt;\r\n\r\n    &lt;project&gt;\r\n      ...\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n          &lt;version&gt;2.15.0&lt;/version&gt;\r\n          &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n              &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n              &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n          &lt;/exclusions&gt; \r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nThis can also being done in `dependencyManagement` which is even better...In such I would not exclude the api here...","title":"Is it a standard practice to explicitly exclude dependencies?","body":"<p>So first if a app is using log4j-api in version 2.7 this has even not being upgrade for 5 years apart from that I suppose that the api has not being changed (which the api part implies) so you should or could only replace the implementation (log4j-core) and use the more recent version. You can exclude dependencies via the exclusions like this.</p>\n<pre><code>&lt;project&gt;\n  ...\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n      &lt;version&gt;2.15.0&lt;/version&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n          &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt; \n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>This can also being done in <code>dependencyManagement</code> which is even better...In such I would not exclude the api here...</p>\n"}],"owner":{"account_id":407163,"reputation":1366,"user_id":777085,"accept_rate":68,"display_name":"xcoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":580,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1639224911,"creation_date":1639219428,"question_id":70314455,"body_markdown":"for example, in my `pom.xml`\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.15.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.15.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nfor some reasons, the dependencies graph is like:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSo, there is a conflicting `log4j-api` (2.7 vs 2.15).\r\n\r\nTo fix this, I can explicitly exclude `log4j-api` in the `log4j-core` dependency. However, is this actually a standard practice since the `log4j-api 2.15.0` will always be used anyway due to dependency management.\r\n\r\n  [1]: https://i.stack.imgur.com/Mwpr7.png","title":"Is it a standard practice to explicitly exclude dependencies?","body":"<p>for example, in my <code>pom.xml</code></p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n        &lt;version&gt;2.15.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n        &lt;version&gt;2.15.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>for some reasons, the dependencies graph is like:</p>\n<p><a href=\"https://i.stack.imgur.com/Mwpr7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Mwpr7.png\" alt=\"enter image description here\" /></a></p>\n<p>So, there is a conflicting <code>log4j-api</code> (2.7 vs 2.15).</p>\n<p>To fix this, I can explicitly exclude <code>log4j-api</code> in the <code>log4j-core</code> dependency. However, is this actually a standard practice since the <code>log4j-api 2.15.0</code> will always be used anyway due to dependency management.</p>\n"},{"tags":["java","android","android-recyclerview","android-adapter"],"comments":[{"owner":{"account_id":20150877,"reputation":73,"user_id":14778218,"display_name":"Raj"},"score":0,"creation_date":1639212207,"post_id":70313671,"comment_id":124294792,"body_markdown":"have you assigned View to your recyclerview?","body":"have you assigned View to your recyclerview?"},{"owner":{"account_id":20150877,"reputation":73,"user_id":14778218,"display_name":"Raj"},"score":5,"creation_date":1639212283,"post_id":70313671,"comment_id":124294804,"body_markdown":"private RecyclerView recyclerView = findViewById(R.id.your_recyclerview_id);","body":"private RecyclerView recyclerView = findViewById(R.id.your_recyclerview_id);"}],"answers":[{"tags":[],"owner":{"account_id":20616997,"reputation":119,"user_id":15134833,"display_name":"M Modi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639224529,"creation_date":1639224529,"answer_id":70315007,"question_id":70313671,"body_markdown":"You have to initialize your recycler view  by findViewById method befor setting adapter in onCreate.\r\nLike,\r\n```\r\nrecyclerView = findViewById(R.id.recView) //id of Recycler View which you given in your xml\r\n```","title":"null obejct reference error on setAdapter","body":"<p>You have to initialize your recycler view  by findViewById method befor setting adapter in onCreate.\nLike,</p>\n<pre><code>recyclerView = findViewById(R.id.recView) //id of Recycler View which you given in your xml\n</code></pre>\n"}],"owner":{"account_id":19547554,"reputation":45,"user_id":14303929,"display_name":"nithin_sikinam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70315007,"answer_count":1,"score":0,"last_activity_date":1639224529,"creation_date":1639211365,"question_id":70313671,"body_markdown":"I have Tried to set an adapter for my recycler view and it throws me the following error\r\nAttempt to invoke virtual method &#39;void androidx.recyclerview.widget.RecyclerView.setAdapter(androidx.recyclerview.widget.RecyclerView$Adapter)&#39; on a null object reference\r\n\r\n**this is  the code for current activty**\r\n```\r\npackage com.example.myapplication;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.os.Bundle;\r\nimport android.widget.TextView;\r\n\r\npublic class resourcetab extends AppCompatActivity {\r\nprivate TextView txt;\r\n private DataModel2 data =new DataModel2();\r\n\r\n    private RecyclerView recyclerView;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_resourcetab);\r\n\r\n data =getIntent().getParcelableExtra(&quot;object&quot;);\r\n       resourceadapter adapter = new resourceadapter(data);\r\n\r\n       recyclerView.setAdapter(adapter);\r\n\r\n    }\r\n}\r\n```\r\n**the code for recycler view adapter**\r\n```\r\npackage com.example.myapplication;\r\n\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.RelativeLayout;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class resourceadapter extends RecyclerView.Adapter&lt;resourceadapter.ViewHolder&gt; {\r\n    private List&lt;String&gt; URL= new ArrayList&lt;&gt;();\r\n\r\n    private List&lt;String&gt; type=new ArrayList&lt;&gt;();\r\n    private List&lt;String&gt; Giver=new ArrayList&lt;&gt;();\r\n    public resourceadapter(DataModel2 data){\r\n        this.URL=data.URL;\r\n        this.type=data.type;\r\n        this.Giver=data.Giver;\r\n    }\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view  = LayoutInflater.from(parent.getContext()).inflate(R.layout.each_resource , parent , false);\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n    URL.get(position);\r\n    holder.type1.setText(type.get(position));\r\n    holder.name1.setText(Giver.get(position));\r\n    holder.liner.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View v) {\r\n\r\n        }\r\n    });\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return Giver.size();\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder{\r\n        private LinearLayout liner ;\r\n        private TextView type1;\r\n        private TextView name1;\r\n\r\n\r\n\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            liner = itemView.findViewById(R.id.liner);\r\n            name1 = itemView.findViewById(R.id.textView6);\r\n            type1 = itemView.findViewById(R.id.textView7);\r\n\r\n\r\n        }\r\n    }\r\n}\r\n```","title":"null obejct reference error on setAdapter","body":"<p>I have Tried to set an adapter for my recycler view and it throws me the following error\nAttempt to invoke virtual method 'void androidx.recyclerview.widget.RecyclerView.setAdapter(androidx.recyclerview.widget.RecyclerView$Adapter)' on a null object reference</p>\n<p><strong>this is  the code for current activty</strong></p>\n<pre><code>package com.example.myapplication;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.os.Bundle;\nimport android.widget.TextView;\n\npublic class resourcetab extends AppCompatActivity {\nprivate TextView txt;\n private DataModel2 data =new DataModel2();\n\n    private RecyclerView recyclerView;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_resourcetab);\n\n data =getIntent().getParcelableExtra(&quot;object&quot;);\n       resourceadapter adapter = new resourceadapter(data);\n\n       recyclerView.setAdapter(adapter);\n\n    }\n}\n</code></pre>\n<p><strong>the code for recycler view adapter</strong></p>\n<pre><code>package com.example.myapplication;\n\nimport android.content.Context;\nimport android.content.Intent;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.LinearLayout;\nimport android.widget.RelativeLayout;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class resourceadapter extends RecyclerView.Adapter&lt;resourceadapter.ViewHolder&gt; {\n    private List&lt;String&gt; URL= new ArrayList&lt;&gt;();\n\n    private List&lt;String&gt; type=new ArrayList&lt;&gt;();\n    private List&lt;String&gt; Giver=new ArrayList&lt;&gt;();\n    public resourceadapter(DataModel2 data){\n        this.URL=data.URL;\n        this.type=data.type;\n        this.Giver=data.Giver;\n    }\n\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view  = LayoutInflater.from(parent.getContext()).inflate(R.layout.each_resource , parent , false);\n        return new ViewHolder(view);\n    }\n\n\n\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n    URL.get(position);\n    holder.type1.setText(type.get(position));\n    holder.name1.setText(Giver.get(position));\n    holder.liner.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n\n        }\n    });\n    }\n\n    @Override\n    public int getItemCount() {\n        return Giver.size();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder{\n        private LinearLayout liner ;\n        private TextView type1;\n        private TextView name1;\n\n\n\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            liner = itemView.findViewById(R.id.liner);\n            name1 = itemView.findViewById(R.id.textView6);\n            type1 = itemView.findViewById(R.id.textView7);\n\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639224169,"creation_date":1639224169,"answer_id":70314968,"question_id":70314397,"body_markdown":"Yes, it is possible, but you don&#39;t actually need `mappedBy` property, otherwise you are telling JPA to search for a `address` property in the other side of the relationship (that you actually want to be unidirectional):\r\n```java\r\n@Entity(name = &quot;User&quot;)\r\n@Table(name = &quot;User&quot;)\r\n@EntityListeners(AuditingEntityListener.class)\r\npublic class User {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private Long id;\r\n    \r\n    @Column(name = &quot;username&quot;)\r\n    private String userName;\r\n    \r\n    @OneToOne(\r\n            orphanRemoval = true,\r\n            cascade = { CascadeType.PERSIST, CascadeType.REMOVE }\r\n    )\r\n    private Address billingAddress;\r\n\r\n    public User() {\r\n\r\n    }\r\n}\r\n```\r\n\r\nYou can read more about this in the following online resources:\r\n - https://docs.oracle.com/javaee/6/api/javax/persistence/OneToOne.html\r\n - https://www.baeldung.com/jpa-one-to-one\r\n - https://javabydeveloper.com/one-one-unidirectional-association/","title":"Address Entity in multiple Entities without specifying it","body":"<p>Yes, it is possible, but you don't actually need <code>mappedBy</code> property, otherwise you are telling JPA to search for a <code>address</code> property in the other side of the relationship (that you actually want to be unidirectional):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity(name = &quot;User&quot;)\n@Table(name = &quot;User&quot;)\n@EntityListeners(AuditingEntityListener.class)\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n    \n    @Column(name = &quot;username&quot;)\n    private String userName;\n    \n    @OneToOne(\n            orphanRemoval = true,\n            cascade = { CascadeType.PERSIST, CascadeType.REMOVE }\n    )\n    private Address billingAddress;\n\n    public User() {\n\n    }\n}\n</code></pre>\n<p>You can read more about this in the following online resources:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javaee/6/api/javax/persistence/OneToOne.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javaee/6/api/javax/persistence/OneToOne.html</a></li>\n<li><a href=\"https://www.baeldung.com/jpa-one-to-one\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jpa-one-to-one</a></li>\n<li><a href=\"https://javabydeveloper.com/one-one-unidirectional-association/\" rel=\"nofollow noreferrer\">https://javabydeveloper.com/one-one-unidirectional-association/</a></li>\n</ul>\n"}],"owner":{"account_id":14964362,"reputation":87,"user_id":11719726,"display_name":"Simagdo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70314968,"answer_count":1,"score":1,"last_activity_date":1639224169,"creation_date":1639218895,"question_id":70314397,"body_markdown":"i am currently building an Application with Spring and i have a Question there:\r\n\r\nI want to have an Entity Address which looks like this:\r\n\r\n    @Entity(name = &quot;Address&quot;)\r\n    @Table(name = &quot;address&quot;)\r\n    @EntityListeners(AuditingEntityListener.class)\r\n    public class Address {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;)\r\n        private Long id;\r\n        @Column(name = &quot;city&quot;)\r\n        private String city;\r\n        @Column(name = &quot;country&quot;)\r\n        private String country;\r\n        @Column(name = &quot;postalcode&quot;)\r\n        private String postalCode;\r\n        @Column(name = &quot;state&quot;)\r\n        private String state;\r\n        @Column(name = &quot;street&quot;)\r\n        private String street;\r\n    \r\n        public Address() {\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nI want to use this Address Entity in multiple Entities, for example in the User or Order Entity. Later, i will like to have many Entities which need an Address. But i don&#39;t want to specify each Relation in the Address Entity, otherwise it will get to complex. Is it possible to have a Link from the User to the Address with only specifying this Link in the User Entity?\r\n\r\nMy User Entity looks something like this:\r\n\r\n    @Entity(name = &quot;User&quot;)\r\n    @Table(name = &quot;User&quot;)\r\n    @EntityListeners(AuditingEntityListener.class)\r\n    public class User {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;)\r\n        private Long id;\r\n        @Column(name = &quot;username&quot;)\r\n        private String userName;\r\n        @OneToOne(\r\n                mappedBy = &quot;address&quot;,\r\n                orphanRemoval = true,\r\n                cascade = {\r\n                        CascadeType.PERSIST,\r\n                        CascadeType.REMOVE\r\n                }\r\n        )\r\n        private Address billingAddress;\r\n    \r\n        public User() {\r\n    \r\n        }\r\n    \r\n    }","title":"Address Entity in multiple Entities without specifying it","body":"<p>i am currently building an Application with Spring and i have a Question there:</p>\n<p>I want to have an Entity Address which looks like this:</p>\n<pre><code>@Entity(name = &quot;Address&quot;)\n@Table(name = &quot;address&quot;)\n@EntityListeners(AuditingEntityListener.class)\npublic class Address {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n    @Column(name = &quot;city&quot;)\n    private String city;\n    @Column(name = &quot;country&quot;)\n    private String country;\n    @Column(name = &quot;postalcode&quot;)\n    private String postalCode;\n    @Column(name = &quot;state&quot;)\n    private String state;\n    @Column(name = &quot;street&quot;)\n    private String street;\n\n    public Address() {\n\n    }\n\n}\n</code></pre>\n<p>I want to use this Address Entity in multiple Entities, for example in the User or Order Entity. Later, i will like to have many Entities which need an Address. But i don't want to specify each Relation in the Address Entity, otherwise it will get to complex. Is it possible to have a Link from the User to the Address with only specifying this Link in the User Entity?</p>\n<p>My User Entity looks something like this:</p>\n<pre><code>@Entity(name = &quot;User&quot;)\n@Table(name = &quot;User&quot;)\n@EntityListeners(AuditingEntityListener.class)\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n    @Column(name = &quot;username&quot;)\n    private String userName;\n    @OneToOne(\n            mappedBy = &quot;address&quot;,\n            orphanRemoval = true,\n            cascade = {\n                    CascadeType.PERSIST,\n                    CascadeType.REMOVE\n            }\n    )\n    private Address billingAddress;\n\n    public User() {\n\n    }\n\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8221,"page":1771,"page_size":100}
