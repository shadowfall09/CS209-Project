{"items":[{"tags":["java","spring-boot","spring-security","remember-me"],"answers":[{"tags":[],"owner":{"account_id":21488921,"reputation":4730,"user_id":15835039,"display_name":"Steve Riesenberg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648591154,"creation_date":1648591154,"answer_id":71669240,"question_id":71667778,"body_markdown":"To use Form Login (`DaoAuthenticationProvider` under the hood), you are required to provide or implement the `UserDetailsService` interface. It is quite easy to implement as it only has a single method. For exploring and learning, you can provide an `InMemoryUserDetailsManager` as an `@Bean`, like this:\r\n\r\n```java\r\n\t@Bean\r\n\tpublic UserDetailsService userDetailsService() {\r\n\t\tUserDetails user = User.withDefaultPasswordEncoder()\r\n\t\t\t\t.username(&quot;user&quot;)\r\n\t\t\t\t.password(&quot;password&quot;)\r\n\t\t\t\t.roles(&quot;USER&quot;)\r\n\t\t\t\t.build();\r\n\t\tUserDetails admin = User.withDefaultPasswordEncoder()\r\n\t\t\t\t.username(&quot;admin&quot;)\r\n\t\t\t\t.password(&quot;password&quot;)\r\n\t\t\t\t.roles(&quot;ADMIN&quot;, &quot;USER&quot;)\r\n\t\t\t\t.build();\r\n\t\treturn new InMemoryUserDetailsManager(user, admin);\r\n\t}\r\n```\r\n\r\nYou can learn more about [In-Memory Authentication](https://docs.spring.io/spring-security/reference/servlet/authentication/passwords/in-memory.html) in the reference docs. You can also obviously replace the above example with a completely custom class that implements the interface, or even return a Java lambda expression.\r\n\r\nAlso, take a look at the announcement of [deprecating the WebSecurityConfigurerAdapter](https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter) for examples of the latest suggestions for configuring Spring Security.","title":"java.lang.IllegalStateException: UserDetailsService is required","body":"<p>To use Form Login (<code>DaoAuthenticationProvider</code> under the hood), you are required to provide or implement the <code>UserDetailsService</code> interface. It is quite easy to implement as it only has a single method. For exploring and learning, you can provide an <code>InMemoryUserDetailsManager</code> as an <code>@Bean</code>, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    public UserDetailsService userDetailsService() {\n        UserDetails user = User.withDefaultPasswordEncoder()\n                .username(&quot;user&quot;)\n                .password(&quot;password&quot;)\n                .roles(&quot;USER&quot;)\n                .build();\n        UserDetails admin = User.withDefaultPasswordEncoder()\n                .username(&quot;admin&quot;)\n                .password(&quot;password&quot;)\n                .roles(&quot;ADMIN&quot;, &quot;USER&quot;)\n                .build();\n        return new InMemoryUserDetailsManager(user, admin);\n    }\n</code></pre>\n<p>You can learn more about <a href=\"https://docs.spring.io/spring-security/reference/servlet/authentication/passwords/in-memory.html\" rel=\"nofollow noreferrer\">In-Memory Authentication</a> in the reference docs. You can also obviously replace the above example with a completely custom class that implements the interface, or even return a Java lambda expression.</p>\n<p>Also, take a look at the announcement of <a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">deprecating the WebSecurityConfigurerAdapter</a> for examples of the latest suggestions for configuring Spring Security.</p>\n"}],"owner":{"account_id":22079865,"reputation":1,"user_id":16339594,"display_name":"V&#224; Thi Thi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":723,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1678413868,"creation_date":1648581992,"question_id":71667778,"body_markdown":"I been learning about spring boot lately, pretty much newbie. I go though some tutorial and been working for Spring Security for my project spring boot.\r\nAnd i watching this tutorial using remember-me `https://www.youtube.com/watch?v=P_eL5QQmiV0`\r\nbut seem like i stuck with this error\r\n\r\nThe error i find that i stuck the whole day but can&#39;t find the solution\r\n\r\n```\r\njava.lang.IllegalStateException: UserDetailsService is required.\r\n\torg.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$UserDetailsServiceDelegator.loadUserByUsername(WebSecurityConfigurerAdapter.java:470)\r\n\torg.springframework.security.web.authentication.rememberme.PersistentTokenBasedRememberMeServices.processAutoLoginCookie(PersistentTokenBasedRememberMeServices.java:134)\r\n\torg.springframework.security.web.authentication.rememberme.AbstractRememberMeServices.autoLogin(AbstractRememberMeServices.java:136)\r\n\torg.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:105)\r\n\torg.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:93)\r\n\torg.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\torg.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\r\n\torg.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\torg.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n\torg.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\torg.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:219)\r\n\torg.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:213)\r\n\torg.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\torg.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\r\n\torg.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\r\n\torg.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\torg.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)\r\n\torg.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\torg.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\torg.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\r\n\torg.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\r\n\torg.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\torg.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\torg.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\r\n\torg.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\r\n\torg.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\torg.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\r\n\torg.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\torg.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\torg.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\r\n\torg.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\r\n\torg.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)\r\n\torg.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\r\n\torg.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\torg.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\torg.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\torg.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\torg.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\torg.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n```\r\n\r\nmy config\r\n\r\n```\r\n@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\t\r\n\t\thttp.authorizeRequests()\r\n\t\t\t.antMatchers(&quot;/admin&quot;).authenticated()\r\n\t\t\t.anyRequest().permitAll()\r\n\t\t\t.and()\r\n\t\t\t.formLogin()\r\n\t\t\t\t.loginPage(&quot;/dang-nhap&quot;)\r\n\t\t\t\t.usernameParameter(&quot;emailLogin&quot;)\r\n\t\t\t\t.passwordParameter(&quot;passwordLogin&quot;)\r\n\t\t\t\t.failureForwardUrl(&quot;/login_fail_handler&quot;)\r\n\t\t\t\t.successForwardUrl(&quot;/login_success_handler&quot;)\r\n\t\t\t.and()\r\n\t\t\t.rememberMe()\r\n\t\t\t\t.tokenRepository(persistentTokenRepository())\r\n\t\t\t\t.rememberMeCookieName(&quot;token-remember-me&quot;)\r\n\t\t\t\t.tokenValiditySeconds(24*60*60)\r\n\t\t\t.and()\r\n\t\t\t.logout()\r\n\t\t\t\t.logoutSuccessUrl(&quot;/&quot;).permitAll()\r\n\r\n\t\t\t;\r\n\t\t\t\t\r\n\t}\r\n```\r\n\r\nThe database did save the token but after re-run project it delete the token and show error `UserDetailsService is required`\r\n\r\nI been looking all stackoverflow about this error but seem like all those method don&#39;t work for me...  \r\nHope you guy have a nice day, and if you free believe help me...","title":"java.lang.IllegalStateException: UserDetailsService is required","body":"<p>I been learning about spring boot lately, pretty much newbie. I go though some tutorial and been working for Spring Security for my project spring boot.\nAnd i watching this tutorial using remember-me <code>https://www.youtube.com/watch?v=P_eL5QQmiV0</code>\nbut seem like i stuck with this error</p>\n<p>The error i find that i stuck the whole day but can't find the solution</p>\n<pre><code>java.lang.IllegalStateException: UserDetailsService is required.\n    org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$UserDetailsServiceDelegator.loadUserByUsername(WebSecurityConfigurerAdapter.java:470)\n    org.springframework.security.web.authentication.rememberme.PersistentTokenBasedRememberMeServices.processAutoLoginCookie(PersistentTokenBasedRememberMeServices.java:134)\n    org.springframework.security.web.authentication.rememberme.AbstractRememberMeServices.autoLogin(AbstractRememberMeServices.java:136)\n    org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:105)\n    org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:93)\n    org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\n    org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:219)\n    org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:213)\n    org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\n    org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\n    org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)\n    org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n    org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n    org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\n    org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\n    org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\n    org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\n    org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\n    org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)\n    org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\n    org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n</code></pre>\n<p>my config</p>\n<pre><code>@Override\n    protected void configure(HttpSecurity http) throws Exception {\n        \n        http.authorizeRequests()\n            .antMatchers(&quot;/admin&quot;).authenticated()\n            .anyRequest().permitAll()\n            .and()\n            .formLogin()\n                .loginPage(&quot;/dang-nhap&quot;)\n                .usernameParameter(&quot;emailLogin&quot;)\n                .passwordParameter(&quot;passwordLogin&quot;)\n                .failureForwardUrl(&quot;/login_fail_handler&quot;)\n                .successForwardUrl(&quot;/login_success_handler&quot;)\n            .and()\n            .rememberMe()\n                .tokenRepository(persistentTokenRepository())\n                .rememberMeCookieName(&quot;token-remember-me&quot;)\n                .tokenValiditySeconds(24*60*60)\n            .and()\n            .logout()\n                .logoutSuccessUrl(&quot;/&quot;).permitAll()\n\n            ;\n                \n    }\n</code></pre>\n<p>The database did save the token but after re-run project it delete the token and show error <code>UserDetailsService is required</code></p>\n<p>I been looking all stackoverflow about this error but seem like all those method don't work for me...<br />\nHope you guy have a nice day, and if you free believe help me...</p>\n"},{"tags":["java","linux"],"comments":[{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":0,"creation_date":1678411545,"post_id":75691305,"comment_id":133531943,"body_markdown":"You could change the title to: resource file is not found in tomcat server or something like that, because this is not related to spring","body":"You could change the title to: resource file is not found in tomcat server or something like that, because this is not related to spring"}],"answers":[{"tags":[],"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678411421,"creation_date":1678409612,"answer_id":75691362,"question_id":75691305,"body_markdown":"# Quick answer\r\n\r\nSince your app is packaged as jar or war, the **resources** folder don&#39;t exist. resources folder only exist at the development stage (eclipse / intellij)\r\n\r\n# Solution\r\n\r\nCheck if the war is being packaged with the excel files inside of it:\r\n\r\n- Just compile it `mvn clean package` and unzip the /target/foo.war\r\n- Or deploy it to your tomcat and check the webapps/foo to see if your excel is somewhere\r\n\r\nIf the content of resources folder is not being packaged inside of the war, search a maven configuration to do that. By default is enabled that behavior.\r\n\r\nIf file exist inside of war, load it using the **Classloader**, not directly using java.io.File\r\n\r\n\r\n- With pure spring\r\n```\r\ntry {\r\n    File file = \r\n    ResourceUtils.getFile(&quot;classpath:upload/ctgryItem.xlsx&quot;)\r\n    byte[] fileBytes = Files.readAllBytes(file.toPath());\r\n} catch (IOException e) {\r\n    e.printStackTrace();\r\n}\r\n```\r\n\r\n- With pure Java\r\n\r\n```\r\nInputStream ioStream = Foo.getClass()\r\n.getClassLoader()\r\n.getResourceAsStream(&quot;upload/ctgryItem.xlsx&quot;);\r\n```\r\n\r\nIf no one works but the required file exist in the webapps folder, you could load the file using\r\n\r\n- `new File(&quot;.&quot;).getAbsolutePath()`\r\n- this will return: **/john/doe/tomcat/bin**\r\n- use a simple algorithm to create the expected file location from the previous location:\r\n- **/john/doe/tomcat/webapps/foo/bar/ctgryItem.xlsx**\r\n\r\n# Explanation\r\n\r\nThe maven folder structure is just a help for developers:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe real internal structure of **jar** file is:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nuncompressed sample jar: https://mvnrepository.com/artifact/org.springframework/spring-core/6.0.6\r\n\r\nand this for **war**\r\n\r\n[![enter image description here][3]][3]\r\n\r\nsample war: https://tomcat.apache.org/tomcat-7.0-doc/appdev/sample/\r\n\r\n  [1]: https://i.stack.imgur.com/zRS0v.png\r\n  [2]: https://i.stack.imgur.com/WuOeK.png\r\n  [3]: https://i.stack.imgur.com/xzAX4.png","title":"Spring file download only locally and not on the server","body":"<h1>Quick answer</h1>\n<p>Since your app is packaged as jar or war, the <strong>resources</strong> folder don't exist. resources folder only exist at the development stage (eclipse / intellij)</p>\n<h1>Solution</h1>\n<p>Check if the war is being packaged with the excel files inside of it:</p>\n<ul>\n<li>Just compile it <code>mvn clean package</code> and unzip the /target/foo.war</li>\n<li>Or deploy it to your tomcat and check the webapps/foo to see if your excel is somewhere</li>\n</ul>\n<p>If the content of resources folder is not being packaged inside of the war, search a maven configuration to do that. By default is enabled that behavior.</p>\n<p>If file exist inside of war, load it using the <strong>Classloader</strong>, not directly using java.io.File</p>\n<ul>\n<li>With pure spring</li>\n</ul>\n<pre><code>try {\n    File file = \n    ResourceUtils.getFile(&quot;classpath:upload/ctgryItem.xlsx&quot;)\n    byte[] fileBytes = Files.readAllBytes(file.toPath());\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<ul>\n<li>With pure Java</li>\n</ul>\n<pre><code>InputStream ioStream = Foo.getClass()\n.getClassLoader()\n.getResourceAsStream(&quot;upload/ctgryItem.xlsx&quot;);\n</code></pre>\n<p>If no one works but the required file exist in the webapps folder, you could load the file using</p>\n<ul>\n<li><code>new File(&quot;.&quot;).getAbsolutePath()</code></li>\n<li>this will return: <strong>/john/doe/tomcat/bin</strong></li>\n<li>use a simple algorithm to create the expected file location from the previous location:</li>\n<li><strong>/john/doe/tomcat/webapps/foo/bar/ctgryItem.xlsx</strong></li>\n</ul>\n<h1>Explanation</h1>\n<p>The maven folder structure is just a help for developers:</p>\n<p><a href=\"https://i.stack.imgur.com/zRS0v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zRS0v.png\" alt=\"enter image description here\" /></a></p>\n<p>The real internal structure of <strong>jar</strong> file is:</p>\n<p><a href=\"https://i.stack.imgur.com/WuOeK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WuOeK.png\" alt=\"enter image description here\" /></a></p>\n<p>uncompressed sample jar: <a href=\"https://mvnrepository.com/artifact/org.springframework/spring-core/6.0.6\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.springframework/spring-core/6.0.6</a></p>\n<p>and this for <strong>war</strong></p>\n<p><a href=\"https://i.stack.imgur.com/xzAX4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xzAX4.png\" alt=\"enter image description here\" /></a></p>\n<p>sample war: <a href=\"https://tomcat.apache.org/tomcat-7.0-doc/appdev/sample/\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-7.0-doc/appdev/sample/</a></p>\n"},{"tags":[],"owner":{"account_id":7154253,"reputation":11,"user_id":5467275,"display_name":"huang kangda"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678412117,"creation_date":1678412117,"answer_id":75691550,"question_id":75691305,"body_markdown":" you can try it :\r\n\r\n   \r\n\r\n    InputStream inputStream= new ClassPathResource(&quot;static/resource/upload/ctgryItem.xlsx&quot;).getInputStream()\r\n    XSSFWorkbook workbook = new XSSFWorkbook(inputStream);\r\n    String outputFileName = new String(file.getName().getBytes(&quot;KSC5601&quot;), &quot;8859_1&quot;);\r\n    response.setHeader(&quot;Set-Cookie&quot;, &quot;fileDownload=true; path=/&quot;);\r\n    response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;&quot; + outputFileName + &quot;\\&quot;&quot;);\r\n            workbook.write(response.getOutputStream());\r\n\r\n\r\n","title":"Spring file download only locally and not on the server","body":"<p>you can try it :</p>\n<pre><code>InputStream inputStream= new ClassPathResource(&quot;static/resource/upload/ctgryItem.xlsx&quot;).getInputStream()\nXSSFWorkbook workbook = new XSSFWorkbook(inputStream);\nString outputFileName = new String(file.getName().getBytes(&quot;KSC5601&quot;), &quot;8859_1&quot;);\nresponse.setHeader(&quot;Set-Cookie&quot;, &quot;fileDownload=true; path=/&quot;);\nresponse.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;&quot; + outputFileName + &quot;\\&quot;&quot;);\n        workbook.write(response.getOutputStream());\n</code></pre>\n"}],"owner":{"account_id":26351906,"reputation":13,"user_id":20009399,"display_name":"curious"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75691362,"answer_count":2,"score":0,"last_activity_date":1678412117,"creation_date":1678408905,"question_id":75691305,"body_markdown":"I was implementing the file download function with Spring, and there was a problem that I couldn&#39;t find the file on the server.\r\n\r\nTwo paths are used below, but the first path works locally, but the file cannot be found on the server. There seems to be a problem with the route, how should I set the route?\r\n\r\n```\r\n /* &quot;src/main/resources/static/resource/upload/ctgryItem.xlsx&quot; */\r\n /*  resource/upload/ctgryItem.xlsx */\r\n\r\nFile file = new File(path);\r\nFileInputStream inputStream = new FileInputStream(file);\r\nXSSFWorkbook workbook = new XSSFWorkbook(inputStream);\r\nString outputFileName = new String(file.getName().getBytes(&quot;KSC5601&quot;), &quot;8859_1&quot;);\r\nresponse.setHeader(&quot;Set-Cookie&quot;, &quot;fileDownload=true; path=/&quot;);\r\nresponse.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;&quot; + outputFileName + &quot;\\&quot;&quot;);\r\n        workbook.write(response.getOutputStream());\r\n\r\n```\r\nEnable Linux server tomcat\r\n\r\nTwo paths are used below, but the first path works locally, but the file cannot be found on the server. There seems to be a problem with the route, how should I set the route?","title":"Spring file download only locally and not on the server","body":"<p>I was implementing the file download function with Spring, and there was a problem that I couldn't find the file on the server.</p>\n<p>Two paths are used below, but the first path works locally, but the file cannot be found on the server. There seems to be a problem with the route, how should I set the route?</p>\n<pre><code> /* &quot;src/main/resources/static/resource/upload/ctgryItem.xlsx&quot; */\n /*  resource/upload/ctgryItem.xlsx */\n\nFile file = new File(path);\nFileInputStream inputStream = new FileInputStream(file);\nXSSFWorkbook workbook = new XSSFWorkbook(inputStream);\nString outputFileName = new String(file.getName().getBytes(&quot;KSC5601&quot;), &quot;8859_1&quot;);\nresponse.setHeader(&quot;Set-Cookie&quot;, &quot;fileDownload=true; path=/&quot;);\nresponse.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;&quot; + outputFileName + &quot;\\&quot;&quot;);\n        workbook.write(response.getOutputStream());\n\n</code></pre>\n<p>Enable Linux server tomcat</p>\n<p>Two paths are used below, but the first path works locally, but the file cannot be found on the server. There seems to be a problem with the route, how should I set the route?</p>\n"},{"tags":["java","shell","jenkins","jenkins-scriptler"],"comments":[{"owner":{"account_id":22194,"reputation":18092,"user_id":54506,"accept_rate":78,"display_name":"Jayan"},"score":0,"creation_date":1449158259,"post_id":34056920,"comment_id":55894081,"body_markdown":"Please edit your question to clarify what have you tried; and exact messages.","body":"Please edit your question to clarify what have you tried; and exact messages."}],"answers":[{"comments":[{"owner":{"account_id":7325592,"reputation":181,"user_id":5580072,"accept_rate":42,"display_name":"chanukhya bachina"},"score":0,"creation_date":1449112246,"post_id":34057155,"comment_id":55868318,"body_markdown":"Thanks for the reply Jayan. \nOption 1 is not feasible because my java program/app contains references to other java programs/dependencies. Option 2: Already tried and din&#39;t help. Option 3 definitely works but can&#39;t do it because of space limitations.","body":"Thanks for the reply Jayan.  Option 1 is not feasible because my java program/app contains references to other java programs/dependencies. Option 2: Already tried and din&#39;t help. Option 3 definitely works but can&#39;t do it because of space limitations."},{"owner":{"account_id":7325592,"reputation":181,"user_id":5580072,"accept_rate":42,"display_name":"chanukhya bachina"},"score":0,"creation_date":1449173938,"post_id":34057155,"comment_id":55903937,"body_markdown":"I have settled with Option 3.","body":"I have settled with Option 3."}],"tags":[],"owner":{"account_id":22194,"reputation":18092,"user_id":54506,"accept_rate":78,"display_name":"Jayan"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1449112048,"creation_date":1449112048,"answer_id":34057155,"question_id":34056920,"body_markdown":"Effective value PATH variable in that script does not have java.  There are many ways to solve it.\r\n\r\n### Option 1\r\nUser absolute path to your java. You already have JAVA_HOME defined. So refer to java as $JAVA_HOME/bin/java ...\r\n\r\n### Option 2\r\nVariant of above. Add $JAVA_HOME/bin to PATH. Like below\r\n     \r\n      export PATH=$JAVA_HOME/bin:$PATH\r\n\r\n### Option 3\r\nFurther variation on above. Allow Jenkins to [install JDK][1] and set environment variable [pointing to installation][2]. Use this environment variable in your script.\r\n\r\n\r\n\r\n  [1]: https://wiki.jenkins-ci.org/display/JENKINS/Tool+Auto-Installation\r\n  [2]: https://wiki.jenkins-ci.org/display/JENKINS/Tool+Environment+Plugin","title":"Java not recognized when running a shell script from Jenkins","body":"<p>Effective value PATH variable in that script does not have java.  There are many ways to solve it.</p>\n\n<h3>Option 1</h3>\n\n<p>User absolute path to your java. You already have JAVA_HOME defined. So refer to java as $JAVA_HOME/bin/java ...</p>\n\n<h3>Option 2</h3>\n\n<p>Variant of above. Add $JAVA_HOME/bin to PATH. Like below</p>\n\n<pre><code>  export PATH=$JAVA_HOME/bin:$PATH\n</code></pre>\n\n<h3>Option 3</h3>\n\n<p>Further variation on above. Allow Jenkins to <a href=\"https://wiki.jenkins-ci.org/display/JENKINS/Tool+Auto-Installation\" rel=\"nofollow\">install JDK</a> and set environment variable <a href=\"https://wiki.jenkins-ci.org/display/JENKINS/Tool+Environment+Plugin\" rel=\"nofollow\">pointing to installation</a>. Use this environment variable in your script.</p>\n"},{"tags":[],"owner":{"account_id":16768135,"reputation":177,"user_id":12121297,"display_name":"vinodhraj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678411858,"creation_date":1678411858,"answer_id":75691532,"question_id":34056920,"body_markdown":"I specified the absolute value of Java path in Environment variables in Node Properties like below\r\n\r\nJAVA_HOME\r\n\r\nC:\\Program Files\\Java\\jdk-17\r\n\r\nAnd it worked","title":"Java not recognized when running a shell script from Jenkins","body":"<p>I specified the absolute value of Java path in Environment variables in Node Properties like below</p>\n<p>JAVA_HOME</p>\n<p>C:\\Program Files\\Java\\jdk-17</p>\n<p>And it worked</p>\n"}],"owner":{"account_id":7325592,"reputation":181,"user_id":5580072,"accept_rate":42,"display_name":"chanukhya bachina"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":34057155,"answer_count":2,"score":0,"last_activity_date":1678411858,"creation_date":1449110466,"question_id":34056920,"body_markdown":"I am trying to run/invoke a java program on a Jenkins slave using Jenkins. I am getting the error Javac is not recognized. But when i invoke the same program from the jenkins slave host directly, the java program perfectly works fine. I tried setting the java home by export $java_home on the shell script itself but it doesn&#39;t seem to do any help. Checked the versions of java and all looked okay. Any thoughts/ideas??","title":"Java not recognized when running a shell script from Jenkins","body":"<p>I am trying to run/invoke a java program on a Jenkins slave using Jenkins. I am getting the error Javac is not recognized. But when i invoke the same program from the jenkins slave host directly, the java program perfectly works fine. I tried setting the java home by export $java_home on the shell script itself but it doesn't seem to do any help. Checked the versions of java and all looked okay. Any thoughts/ideas??</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1678322069,"post_id":75679393,"comment_id":133511992,"body_markdown":"Unless Equipment and Product share the same set of methods you will have to use code to differentiate them.","body":"Unless Equipment and Product share the same set of methods you will have to use code to differentiate them."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1678322466,"post_id":75679393,"comment_id":133512040,"body_markdown":"Perhaps you could show a [Minimal Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"Perhaps you could show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Minimal Reproducible Example</a>"},{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":1,"creation_date":1678322985,"post_id":75679393,"comment_id":133512096,"body_markdown":"sounds like a design problem.  What is the relationship between Product and Equipment?","body":"sounds like a design problem.  What is the relationship between Product and Equipment?"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1678323584,"post_id":75679393,"comment_id":133512165,"body_markdown":"As an aside, in commercial programming you hardly ever use inheritance. Things are not usually similar enough to warrant baking inheritance into them, and usually not even via interfaces. The classic example of Vehicle with subclasses Car, Truck, Motorcycle etc doesn&#39;t actually occur in real life DMVs (I&#39;ve worked at two in different countries btw). Stuff is just different from other stuff, and any similarities are not worth the trouble worrying about.","body":"As an aside, in commercial programming you hardly ever use inheritance. Things are not usually similar enough to warrant baking inheritance into them, and usually not even via interfaces. The classic example of Vehicle with subclasses Car, Truck, Motorcycle etc doesn&#39;t actually occur in real life DMVs (I&#39;ve worked at two in different countries btw). Stuff is just different from other stuff, and any similarities are not worth the trouble worrying about."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1678344856,"post_id":75679393,"comment_id":133514898,"body_markdown":"@Bohemian I cannot follow your claim that inheritance is hardly ever used. Even on my entity classes I have inheritance, allowing me to model generic fields like created/lastmodified time stamps once for all. It may be your practice though.","body":"@Bohemian I cannot follow your claim that inheritance is hardly ever used. Even on my entity classes I have inheritance, allowing me to model generic fields like created/lastmodified time stamps once for all. It may be your practice though."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1678357180,"post_id":75679393,"comment_id":133518071,"body_markdown":"@Queeg if you read my comment carefully, you&#39;ll see it contains the phrase &quot;in commercial programming&quot;. ie it real-life coding jobs, you rarely see inheritance. In academic contexts, such as this question, you see it *over* used (to illustrate a language feature that a professional coder will rarely use).","body":"@Queeg if you read my comment carefully, you&#39;ll see it contains the phrase &quot;in commercial programming&quot;. ie it real-life coding jobs, you rarely see inheritance. In academic contexts, such as this question, you see it <i>over</i> used (to illustrate a language feature that a professional coder will rarely use)."}],"answers":[{"comments":[{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1678378295,"post_id":75679502,"comment_id":133524708,"body_markdown":"A very good advice!","body":"A very good advice!"}],"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1678411568,"creation_date":1678323170,"answer_id":75679502,"question_id":75679393,"body_markdown":"You would need to cast to call a method from the `Equipment` class. Alternatively, you can use pattern matching for `instanceof`. Note, however, that this may likely be a symptom of improper design.\r\n\r\n```java\r\nif (i instanceof Equipment e) {\r\n\te.getEquipmentVin();\r\n} else if (i instanceof Product p) {\r\n    p.someProductMethod();\r\n}\r\n```","title":"Java. How to access methods of a class when it has been placed in a list of generic objects","body":"<p>You would need to cast to call a method from the <code>Equipment</code> class. Alternatively, you can use pattern matching for <code>instanceof</code>. Note, however, that this may likely be a symptom of improper design.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (i instanceof Equipment e) {\n    e.getEquipmentVin();\n} else if (i instanceof Product p) {\n    p.someProductMethod();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1678391856,"post_id":75681275,"comment_id":133528352,"body_markdown":"Or you could do `((Equipment)item).getEquipmentVin()`","body":"Or you could do <code>((Equipment)item).getEquipmentVin()</code>"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1678392308,"post_id":75681275,"comment_id":133528472,"body_markdown":"You are 100% right. In essence my example is no different from the other answer - I just wanted to make it plain explicit rather than short.","body":"You are 100% right. In essence my example is no different from the other answer - I just wanted to make it plain explicit rather than short."}],"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678391590,"creation_date":1678344646,"answer_id":75681275,"question_id":75679393,"body_markdown":"If you have a list of Items (or some Item), you can only call Item methods on it. But you can cast it to Equipment (or Product) and then call the respective methods. Just be aware that casting an Item to Equipment while at runtime it is a Product (or something else) will give you a ClassCastException.\r\n\r\nTo work around that, first identify what you have before you cast:\r\n\r\n    if (item instanceof Equipment) {\r\n        Equipment e = (Equipment)item;\r\n        e.getEquipmentVin();\r\n    } else if (item instanceof Product) {\r\n        Product p = (Product)item;\r\n        p.someProductMethod();\r\n    }","title":"Java. How to access methods of a class when it has been placed in a list of generic objects","body":"<p>If you have a list of Items (or some Item), you can only call Item methods on it. But you can cast it to Equipment (or Product) and then call the respective methods. Just be aware that casting an Item to Equipment while at runtime it is a Product (or something else) will give you a ClassCastException.</p>\n<p>To work around that, first identify what you have before you cast:</p>\n<pre><code>if (item instanceof Equipment) {\n    Equipment e = (Equipment)item;\n    e.getEquipmentVin();\n} else if (item instanceof Product) {\n    Product p = (Product)item;\n    p.someProductMethod();\n}\n</code></pre>\n"}],"owner":{"account_id":27969699,"reputation":3,"user_id":21359675,"display_name":"JC Howell"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75681275,"answer_count":2,"score":-1,"last_activity_date":1678411568,"creation_date":1678321603,"question_id":75679393,"body_markdown":"I have some classes called `Equipment` and `Product` that are children of a class `Item`. I am storing imported equipment and products in `ArrayList&lt;Item&gt;`. I need to access the unique methods of `Equipment` and `Product` iteratively from that list.\r\n\r\nI&#39;m aware using `instanceOf` is generally bad practice, but this is a simplified version of what I&#39;ve tried.\r\n\r\n```\r\nfor(Item i: listOfItems){\r\n   if(i.itemType instanceOf Equipment){\r\n      i.getEquipmentVin();\r\n   }\r\n}\r\n```","title":"Java. How to access methods of a class when it has been placed in a list of generic objects","body":"<p>I have some classes called <code>Equipment</code> and <code>Product</code> that are children of a class <code>Item</code>. I am storing imported equipment and products in <code>ArrayList&lt;Item&gt;</code>. I need to access the unique methods of <code>Equipment</code> and <code>Product</code> iteratively from that list.</p>\n<p>I'm aware using <code>instanceOf</code> is generally bad practice, but this is a simplified version of what I've tried.</p>\n<pre><code>for(Item i: listOfItems){\n   if(i.itemType instanceOf Equipment){\n      i.getEquipmentVin();\n   }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":13038047,"reputation":476,"user_id":9422268,"display_name":"Joonseo Lee"},"score":0,"creation_date":1678414207,"post_id":75691447,"comment_id":133532277,"body_markdown":"you should write some queries with jpql.  I meant not `FROM task` `FROM Task` is correct","body":"you should write some queries with jpql.  I meant not <code>FROM task</code> <code>FROM Task</code> is correct"}],"owner":{"account_id":26712509,"reputation":1,"user_id":20317607,"display_name":"Nikola Stankov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678410916,"creation_date":1678410916,"question_id":75691447,"body_markdown":"EmployeeController -\\&gt; Here I only provdied this part of controller rest is fine \r\n\r\n    GetMapping(&quot;/findByTop&quot;)\r\n    public String findByTop(Model model) {\r\n        List&lt;Employee&gt; employees = employeeService.findByTop();\r\n        model.addAttribute(&quot;employees&quot;, employees);\r\n        return &quot;topAssigneesWithTaskCount&quot;;\r\n    }\r\n\r\n    @Repository\r\n    \r\n    public class EmployeeDao implements IEmployeeDao{\r\n    @Autowired\r\n    private EntityManager entityManager;\r\n    \r\n    @Override\r\n    public List&lt;Employee&gt; findByTop() {\r\n        Session session = entityManager.unwrap(Session.class);\r\n    \r\n        Query&lt;Employee&gt; theQuery = session.createQuery(&quot;SELECT employee.full_name, COUNT(*) as tasksCount \\n&quot; +\r\n                &quot;FROM task LEFT JOIN employee on (employee.id = task.assignee_id)\\n&quot; +\r\n                &quot;WHERE due_date BETWEEN (CURRENT_DATE() - INTERVAL 1 MONTH) AND CURRENT_DATE()\\n&quot; +\r\n                &quot;GROUP BY task.assignee_id\\n&quot; +\r\n                &quot;ORDER BY tasksCount DESC\\n&quot; +\r\n                &quot;LIMIT 5&quot;, Employee.class);\r\n        List&lt;Employee&gt; employee = null;\r\n        try {\r\n            employee = theQuery.getResultList();\r\n        }catch (Exception e){\r\n            employee = null;\r\n        }\r\n        return employee;\r\n        }\r\n    } \r\n\r\nJust says no message when I try to load page...\r\n\r\nI have tried also intruducing custom query here\r\n\r\n    @Repository public interface EmployeeRepository extends JpaRepository&lt;Employee, Integer&gt; {\r\n    List&lt;Employee&gt; findByFullNameContainsOrEmailContainsAllIgnoreCase(String name, String lName);\r\n    \r\n    @Query(&quot;SELECT employee.full_name, COUNT(*) as tasksCount FROM task LEFT JOIN employee on (employee.id = task.assignee_id) WHERE due_date BETWEEN (CURRENT_DATE() - INTERVAL 1 MONTH) AND CURRENT_DATE() GROUP BY task.assignee_id ORDER BY tasksCount DESC LIMIT 5&quot;,nativeQuery = true) List&lt;Object[]&gt; findTopAssigneesWithTaskCount(); }\r\n\r\nThrows error: missing template..\r\n\r\nAlso HTML:\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n  &lt;title&gt;Top Assignees With Task Count&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;h1&gt;Top Assignees With Task Count&lt;/h1&gt;\r\n&lt;table&gt;\r\n  &lt;thead&gt;\r\n  &lt;tr&gt;\r\n    &lt;th&gt;Employee&lt;/th&gt;\r\n    &lt;th&gt;Task Count&lt;/th&gt;\r\n  &lt;/tr&gt;\r\n  &lt;/thead&gt;\r\n  &lt;tbody&gt;\r\n  &lt;tr th:each=&quot;assignee : ${employees}&quot;&gt;\r\n    &lt;td th:text=&quot;${employees.fullName}&quot;&gt;&lt;/td&gt;\r\n  &lt;/tr&gt;\r\n  &lt;/tbody&gt;\r\n&lt;/table&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n     HTML 2: for List\\&lt;Object\\[\\]\\&gt;..\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;title&gt;Top Assignees With Task Count&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;h1&gt;Top Assignees With Task Count&lt;/h1&gt;\r\n    &lt;table&gt;\r\n        &lt;thead&gt;\r\n            &lt;tr&gt;\r\n                &lt;th&gt;Employee&lt;/th&gt;\r\n                &lt;th&gt;Task Count&lt;/th&gt;\r\n            &lt;/tr&gt;\r\n        &lt;/thead&gt;\r\n        &lt;tbody&gt;\r\n            &lt;tr th:each=&quot;assignee : ${topAssigneesWithTaskCount}&quot;&gt;\r\n                &lt;td th:text=&quot;${assignee[0]}&quot;&gt;&lt;/td&gt;\r\n                &lt;td th:text=&quot;${assignee[1]}&quot;&gt;&lt;/td&gt;\r\n            &lt;/tr&gt;\r\n        &lt;/tbody&gt;\r\n    &lt;/table&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nI have tried also couple of similar methods none seems to work.....       \r\n\r\nP.S I am reading data from DB\\`","title":"Unable To Create Custom Query Spring Data JPA","body":"<p>EmployeeController -&gt; Here I only provdied this part of controller rest is fine</p>\n<pre><code>GetMapping(&quot;/findByTop&quot;)\npublic String findByTop(Model model) {\n    List&lt;Employee&gt; employees = employeeService.findByTop();\n    model.addAttribute(&quot;employees&quot;, employees);\n    return &quot;topAssigneesWithTaskCount&quot;;\n}\n\n@Repository\n\npublic class EmployeeDao implements IEmployeeDao{\n@Autowired\nprivate EntityManager entityManager;\n\n@Override\npublic List&lt;Employee&gt; findByTop() {\n    Session session = entityManager.unwrap(Session.class);\n\n    Query&lt;Employee&gt; theQuery = session.createQuery(&quot;SELECT employee.full_name, COUNT(*) as tasksCount \\n&quot; +\n            &quot;FROM task LEFT JOIN employee on (employee.id = task.assignee_id)\\n&quot; +\n            &quot;WHERE due_date BETWEEN (CURRENT_DATE() - INTERVAL 1 MONTH) AND CURRENT_DATE()\\n&quot; +\n            &quot;GROUP BY task.assignee_id\\n&quot; +\n            &quot;ORDER BY tasksCount DESC\\n&quot; +\n            &quot;LIMIT 5&quot;, Employee.class);\n    List&lt;Employee&gt; employee = null;\n    try {\n        employee = theQuery.getResultList();\n    }catch (Exception e){\n        employee = null;\n    }\n    return employee;\n    }\n} \n</code></pre>\n<p>Just says no message when I try to load page...</p>\n<p>I have tried also intruducing custom query here</p>\n<pre><code>@Repository public interface EmployeeRepository extends JpaRepository&lt;Employee, Integer&gt; {\nList&lt;Employee&gt; findByFullNameContainsOrEmailContainsAllIgnoreCase(String name, String lName);\n\n@Query(&quot;SELECT employee.full_name, COUNT(*) as tasksCount FROM task LEFT JOIN employee on (employee.id = task.assignee_id) WHERE due_date BETWEEN (CURRENT_DATE() - INTERVAL 1 MONTH) AND CURRENT_DATE() GROUP BY task.assignee_id ORDER BY tasksCount DESC LIMIT 5&quot;,nativeQuery = true) List&lt;Object[]&gt; findTopAssigneesWithTaskCount(); }\n</code></pre>\n<p>Throws error: missing template..</p>\n<p>Also HTML:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n  &lt;title&gt;Top Assignees With Task Count&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt;Top Assignees With Task Count&lt;/h1&gt;\n&lt;table&gt;\n  &lt;thead&gt;\n  &lt;tr&gt;\n    &lt;th&gt;Employee&lt;/th&gt;\n    &lt;th&gt;Task Count&lt;/th&gt;\n  &lt;/tr&gt;\n  &lt;/thead&gt;\n  &lt;tbody&gt;\n  &lt;tr th:each=&quot;assignee : ${employees}&quot;&gt;\n    &lt;td th:text=&quot;${employees.fullName}&quot;&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;/tbody&gt;\n&lt;/table&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<pre><code> HTML 2: for List\\&lt;Object\\[\\]\\&gt;..\n</code></pre>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;title&gt;Top Assignees With Task Count&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;Top Assignees With Task Count&lt;/h1&gt;\n    &lt;table&gt;\n        &lt;thead&gt;\n            &lt;tr&gt;\n                &lt;th&gt;Employee&lt;/th&gt;\n                &lt;th&gt;Task Count&lt;/th&gt;\n            &lt;/tr&gt;\n        &lt;/thead&gt;\n        &lt;tbody&gt;\n            &lt;tr th:each=&quot;assignee : ${topAssigneesWithTaskCount}&quot;&gt;\n                &lt;td th:text=&quot;${assignee[0]}&quot;&gt;&lt;/td&gt;\n                &lt;td th:text=&quot;${assignee[1]}&quot;&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/tbody&gt;\n    &lt;/table&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>I have tried also couple of similar methods none seems to work.....</p>\n<p>P.S I am reading data from DB`</p>\n"},{"tags":["java","json","mvel"],"comments":[{"owner":{"account_id":9804449,"reputation":1172,"user_id":7264739,"display_name":"Destroy666"},"score":0,"creation_date":1678375358,"post_id":75685436,"comment_id":133523671,"body_markdown":"This isn&#39;t related to regexes. Also, wh not just use json parsing library?","body":"This isn&#39;t related to regexes. Also, wh not just use json parsing library?"}],"owner":{"account_id":26037703,"reputation":305,"user_id":19742955,"display_name":"Jai Prakash"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678410643,"creation_date":1678369486,"question_id":75685436,"body_markdown":"Sample Json Object data:\r\n\r\n```\r\n{\r\n\t&quot;data&quot;: [\r\n\t\t{\r\n\t\t\t&quot;Id&quot;: &quot;132&quot;,\r\n\t\t\t&quot;item&quot;: 4,\r\n\t\t\t&quot;code&quot;: &quot;R-03-05-C13&quot;,\r\n\t\t\t&quot;zone&quot;: &quot;Z01&quot;,\r\n\t\t\t&quot;type&quot;: &quot;wms&quot;,\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;Id&quot;: &quot;132&quot;,\r\n\t\t\t&quot;item&quot;: 4,\r\n\t\t\t&quot;code&quot;: &quot;R-03-05-C13&quot;,\r\n\t\t\t&quot;zone&quot;: &quot;Z01&quot;,\r\n\t\t\t&quot;type&quot;: &quot;wcs&quot;,\r\n\t\t}\r\n\t]\r\n}\r\n```\r\n\r\n\r\nI have tried below code:\r\n\r\nin this case mvlExp: **data[0].type==&#39;wcs&#39;**\r\n\r\n    \r\n```\r\npublic static void main(String[] args) {\r\n\t\tString mvlExp = &quot;data[0].type==&#39;wcs&#39;&quot;;\r\n\t\tString body = &quot;{\\r\\n&quot;\r\n\t\t\t\t+ &quot;\t\\&quot;data\\&quot;: [\\r\\n&quot;\r\n\t\t\t\t+ &quot;\t\t{\\r\\n&quot;\r\n\t\t\t\t+ &quot;\t\t\t\\&quot;Id\\&quot;: \\&quot;132\\&quot;,\\r\\n&quot;\r\n\t\t\t\t+ &quot;\t\t\t\\&quot;item\\&quot;: 4,\\r\\n&quot;\r\n\t\t\t\t+ &quot;\t\t\t\\&quot;code\\&quot;: \\&quot;R-03-05-C13\\&quot;,\\r\\n&quot;\r\n\t\t\t\t+ &quot;\t\t\t\\&quot;zone\\&quot;: \\&quot;Z01\\&quot;,\\r\\n&quot;\r\n\t\t\t\t+ &quot;\t\t\t\\&quot;type\\&quot;: \\&quot;wms\\&quot;,\\r\\n&quot;\r\n\t\t\t\t+ &quot;\t\t},\\r\\n&quot;\r\n\t\t\t\t+ &quot;\t\t{\\r\\n&quot;\r\n\t\t\t\t+ &quot;\t\t\t\\&quot;Id\\&quot;: \\&quot;132\\&quot;,\\r\\n&quot;\r\n\t\t\t\t+ &quot;\t\t\t\\&quot;item\\&quot;: 4,\\r\\n&quot;\r\n\t\t\t\t+ &quot;\t\t\t\\&quot;code\\&quot;: \\&quot;R-03-05-C13\\&quot;,\\r\\n&quot;\r\n\t\t\t\t+ &quot;\t\t\t\\&quot;zone\\&quot;: \\&quot;Z01\\&quot;,\\r\\n&quot;\r\n\t\t\t\t+ &quot;\t\t\t\\&quot;type\\&quot;: \\&quot;wcs\\&quot;,\\r\\n&quot;\r\n\t\t\t\t+ &quot;\t\t}\\r\\n&quot;\r\n\t\t\t\t+ &quot;\t]\\r\\n&quot;\r\n\t\t\t\t+ &quot;}&quot;;\r\n\t\ttry {\r\n\t\t\tCompiledExpression expression = new ExpressionCompiler(mvlExp.trim()).compile();\r\n\t\t\tboolean evaluateMVELForCriteriaMatch = (boolean) MVEL.executeExpression(expression,\r\n\t\t\t\t\tnew JSONObject(body).toMap());\r\n\t\t\tSystem.out.println(evaluateMVELForCriteriaMatch);\r\n\t\t} catch (JSONException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n```\r\n\r\nCurrent Result is:\r\n\r\n```\r\nfalse\r\n```\r\n\r\nbut I want to Iterate one by one and check the MVEL exprestion.\r\n\r\nI have also tried MVEL Expresstion **data[*].type==&#39;wcs&#39;** but it&#39;s not working.\r\n\r\nExpected Result:\r\n\r\n```\r\nfalse\r\ntrue\r\n```\r\n\r\nPlease help for how to solve with MVEL Expression.","title":"How to Iterate JSONArray to get the key from JSONObject using MVEL expresstion","body":"<p>Sample Json Object data:</p>\n<pre><code>{\n    &quot;data&quot;: [\n        {\n            &quot;Id&quot;: &quot;132&quot;,\n            &quot;item&quot;: 4,\n            &quot;code&quot;: &quot;R-03-05-C13&quot;,\n            &quot;zone&quot;: &quot;Z01&quot;,\n            &quot;type&quot;: &quot;wms&quot;,\n        },\n        {\n            &quot;Id&quot;: &quot;132&quot;,\n            &quot;item&quot;: 4,\n            &quot;code&quot;: &quot;R-03-05-C13&quot;,\n            &quot;zone&quot;: &quot;Z01&quot;,\n            &quot;type&quot;: &quot;wcs&quot;,\n        }\n    ]\n}\n</code></pre>\n<p>I have tried below code:</p>\n<p>in this case mvlExp: <strong>data[0].type=='wcs'</strong></p>\n<pre><code>public static void main(String[] args) {\n        String mvlExp = &quot;data[0].type=='wcs'&quot;;\n        String body = &quot;{\\r\\n&quot;\n                + &quot; \\&quot;data\\&quot;: [\\r\\n&quot;\n                + &quot;     {\\r\\n&quot;\n                + &quot;         \\&quot;Id\\&quot;: \\&quot;132\\&quot;,\\r\\n&quot;\n                + &quot;         \\&quot;item\\&quot;: 4,\\r\\n&quot;\n                + &quot;         \\&quot;code\\&quot;: \\&quot;R-03-05-C13\\&quot;,\\r\\n&quot;\n                + &quot;         \\&quot;zone\\&quot;: \\&quot;Z01\\&quot;,\\r\\n&quot;\n                + &quot;         \\&quot;type\\&quot;: \\&quot;wms\\&quot;,\\r\\n&quot;\n                + &quot;     },\\r\\n&quot;\n                + &quot;     {\\r\\n&quot;\n                + &quot;         \\&quot;Id\\&quot;: \\&quot;132\\&quot;,\\r\\n&quot;\n                + &quot;         \\&quot;item\\&quot;: 4,\\r\\n&quot;\n                + &quot;         \\&quot;code\\&quot;: \\&quot;R-03-05-C13\\&quot;,\\r\\n&quot;\n                + &quot;         \\&quot;zone\\&quot;: \\&quot;Z01\\&quot;,\\r\\n&quot;\n                + &quot;         \\&quot;type\\&quot;: \\&quot;wcs\\&quot;,\\r\\n&quot;\n                + &quot;     }\\r\\n&quot;\n                + &quot; ]\\r\\n&quot;\n                + &quot;}&quot;;\n        try {\n            CompiledExpression expression = new ExpressionCompiler(mvlExp.trim()).compile();\n            boolean evaluateMVELForCriteriaMatch = (boolean) MVEL.executeExpression(expression,\n                    new JSONObject(body).toMap());\n            System.out.println(evaluateMVELForCriteriaMatch);\n        } catch (JSONException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>Current Result is:</p>\n<pre><code>false\n</code></pre>\n<p>but I want to Iterate one by one and check the MVEL exprestion.</p>\n<p>I have also tried MVEL Expresstion <strong>data[*].type=='wcs'</strong> but it's not working.</p>\n<p>Expected Result:</p>\n<pre><code>false\ntrue\n</code></pre>\n<p>Please help for how to solve with MVEL Expression.</p>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":3595277,"reputation":44036,"user_id":3000206,"accept_rate":98,"display_name":"Carcigenicate"},"score":2,"creation_date":1506510679,"post_id":46446394,"comment_id":79848380,"body_markdown":"Don&#39;t post code as a picture. Post it as text in the question directly.","body":"Don&#39;t post code as a picture. Post it as text in the question directly."},{"owner":{"account_id":3595277,"reputation":44036,"user_id":3000206,"accept_rate":98,"display_name":"Carcigenicate"},"score":0,"creation_date":1506510710,"post_id":46446394,"comment_id":79848404,"body_markdown":"Also &quot;But with infinte loop i can not do it.&quot; is a little vague. What specifically do you need help with?","body":"Also &quot;But with infinte loop i can not do it.&quot; is a little vague. What specifically do you need help with?"},{"owner":{"account_id":3417238,"reputation":2089,"user_id":2865757,"display_name":"Zefick"},"score":0,"creation_date":1506510847,"post_id":46446394,"comment_id":79848511,"body_markdown":"One more problem of your code is that it asks for user input.","body":"One more problem of your code is that it asks for user input."},{"owner":{"account_id":129540,"reputation":210839,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":0,"creation_date":1506511122,"post_id":46446394,"comment_id":79848691,"body_markdown":"Then now is the time to refactor your code into dependency-injectable and unit-testable components.  Currently it is not.","body":"Then now is the time to refactor your code into dependency-injectable and unit-testable components.  Currently it is not."},{"owner":{"account_id":11791732,"reputation":322,"user_id":8627656,"accept_rate":80,"display_name":"IsharaD"},"score":1,"creation_date":1506511259,"post_id":46446394,"comment_id":79848776,"body_markdown":"I have added my code in my question","body":"I have added my code in my question"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1506511690,"post_id":46446394,"comment_id":79849074,"body_markdown":"You missed that **minimal** part. Putting up so much code wont cut it either. And as said: your production code contains a bug - you **do NOT** want to loop infinite. And yes - you can&#39;t test code that would loop forever. But then you look into my answer and re-think what you are doing.","body":"You missed that <b>minimal</b> part. Putting up so much code wont cut it either. And as said: your production code contains a bug - you <b>do NOT</b> want to loop infinite. And yes - you can&#39;t test code that would loop forever. But then you look into my answer and re-think what you are doing."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1506511738,"post_id":46446394,"comment_id":79849103,"body_markdown":"So in case your question gets deleted on you, and you decide to try again: focus on what **you** think your code should be doing. What it is doing right now is not making much sense.","body":"So in case your question gets deleted on you, and you decide to try again: focus on what <b>you</b> think your code should be doing. What it is doing right now is not making much sense."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1506511920,"post_id":46446394,"comment_id":79849226,"body_markdown":"And finally: your problem is first of all that you created *hard to test* code. It would take **hours** of reviewing it. There are zillions of things I would do differently. In case you are interested in talking about this, drop me a comment tomorrow or so.","body":"And finally: your problem is first of all that you created <i>hard to test</i> code. It would take <b>hours</b> of reviewing it. There are zillions of things I would do differently. In case you are interested in talking about this, drop me a comment tomorrow or so."},{"owner":{"account_id":11791732,"reputation":322,"user_id":8627656,"accept_rate":80,"display_name":"IsharaD"},"score":0,"creation_date":1506512054,"post_id":46446394,"comment_id":79849297,"body_markdown":"it would be nice if you give me an idea of how to test run method.","body":"it would be nice if you give me an idea of how to test run method."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1507902321,"post_id":46446394,"comment_id":80408899,"body_markdown":"For the record: changing the accept is fine ... but just in case: consider upvoting content you find helpful. Now that you reached that level ;-)","body":"For the record: changing the accept is fine ... but just in case: consider upvoting content you find helpful. Now that you reached that level ;-)"}],"answers":[{"comments":[{"owner":{"account_id":11791732,"reputation":322,"user_id":8627656,"accept_rate":80,"display_name":"IsharaD"},"score":0,"creation_date":1506511760,"post_id":46446477,"comment_id":79849113,"body_markdown":"I posted all my code and having problem with while loop.","body":"I posted all my code and having problem with while loop."}],"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1506510835,"creation_date":1506510835,"answer_id":46446477,"question_id":46446394,"body_markdown":"Obviously you can&#39;t test if a loop is really &quot;infinite&quot;.\r\n\r\nBut then you can still step back and look at **all** the details this method is doing, like:\r\n\r\n - opening a reader from which it will read\r\n - having that special condition that ensures that &quot;something&quot; happens only once\r\n\r\nIn other words: as usually with unit tests, you carefully think about the different paths that your code can take (think: &quot;white box testing&quot;). That can tell you about test cases required to hit corner cases. On the other hand, you should also look at the *public contract* of your method (black box testing) - what are the things that you expect this method to do, without knowing about its implementation. That is how you think about your code, in order to then come up with reasonable tests.\r\n\r\nAnd beyond that: your example is bogus. There shouldn&#39;t be an infinite loop here - at some point all lines will be read, and `read()` will not return anything else but null.","title":"Unit Test For Infinite Loop","body":"<p>Obviously you can't test if a loop is really \"infinite\".</p>\n\n<p>But then you can still step back and look at <strong>all</strong> the details this method is doing, like:</p>\n\n<ul>\n<li>opening a reader from which it will read</li>\n<li>having that special condition that ensures that \"something\" happens only once</li>\n</ul>\n\n<p>In other words: as usually with unit tests, you carefully think about the different paths that your code can take (think: \"white box testing\"). That can tell you about test cases required to hit corner cases. On the other hand, you should also look at the <em>public contract</em> of your method (black box testing) - what are the things that you expect this method to do, without knowing about its implementation. That is how you think about your code, in order to then come up with reasonable tests.</p>\n\n<p>And beyond that: your example is bogus. There shouldn't be an infinite loop here - at some point all lines will be read, and <code>read()</code> will not return anything else but null.</p>\n"},{"tags":[],"owner":{"account_id":2764833,"reputation":232392,"user_id":2380830,"accept_rate":89,"display_name":"Bathsheba"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1506510835,"creation_date":1506510835,"answer_id":46446478,"question_id":46446394,"body_markdown":"You need to replace the code inside the infinite loop with a function.\r\n\r\nYou then write a unit test for that function.\r\n","title":"Unit Test For Infinite Loop","body":"<p>You need to replace the code inside the infinite loop with a function.</p>\n\n<p>You then write a unit test for that function.</p>\n"},{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678410335,"creation_date":1678410335,"answer_id":75691399,"question_id":46446394,"body_markdown":"[Late Answer] @IsharaD the answer of @GhostCat is good. I also faced this issue and the best way to resolve it, is to separate the execution of your logic from the thread execution. The `Runnable` class is like a wrapper where you delegate the execution of your own method. Also, it will help you make your test very easy.\r\n\r\nYou should have something like this:\r\n\r\nYour class:\r\n\r\n    public class YourClass {\r\n    \r\n        public void execute() {\r\n            ...\r\n        }\r\n    }\r\n\r\nYour runnable:\r\n\r\n    public class YourClassTask implements Runnable {\r\n    \r\n        private YourClass yourClass;\r\n    \r\n        public YourClassTask(YourClass yourClass) {\r\n            this.yourClass = yourClass;\r\n        } \r\n    \r\n        @Override\r\n        public void run() {\r\n            yourClass.execute();\r\n        }\r\n    }","title":"Unit Test For Infinite Loop","body":"<p>[Late Answer] @IsharaD the answer of @GhostCat is good. I also faced this issue and the best way to resolve it, is to separate the execution of your logic from the thread execution. The <code>Runnable</code> class is like a wrapper where you delegate the execution of your own method. Also, it will help you make your test very easy.</p>\n<p>You should have something like this:</p>\n<p>Your class:</p>\n<pre><code>public class YourClass {\n\n    public void execute() {\n        ...\n    }\n}\n</code></pre>\n<p>Your runnable:</p>\n<pre><code>public class YourClassTask implements Runnable {\n\n    private YourClass yourClass;\n\n    public YourClassTask(YourClass yourClass) {\n        this.yourClass = yourClass;\n    } \n\n    @Override\n    public void run() {\n        yourClass.execute();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11791732,"reputation":322,"user_id":8627656,"accept_rate":80,"display_name":"IsharaD"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18393,"favorite_count":0,"down_vote_count":5,"up_vote_count":8,"accepted_answer_id":46446478,"answer_count":3,"score":3,"last_activity_date":1678410335,"creation_date":1506510590,"question_id":46446394,"body_markdown":"This is my java thread run method and i want to write unit test for this method. But with infinte loop i can not do it. It would be nice anyone can help me with this.\r\n\r\n     public void run() {\r\n            BufferedReader in = new BufferedReader(new InputStreamReader(System.in));\r\n            String line = null;\r\n            boolean oneTime = true;\r\n            loadDescription();\r\n            while (true) {\r\n    \r\n                try {\r\n                    if (oneTime) {\r\n                        System.out.println(&quot;press enter to get the console...............&quot;);\r\n                        oneTime = false;\r\n                    }\r\n                    line = in.readLine();\r\n                    if (line != null) {\r\n                        processInput(line);\r\n                    }\r\n    \r\n                } catch (Exception e) {\r\n                    logger.error(&quot;Error occurred while processing console&quot;);\r\n                    logger.error(e.getMessage(), e);\r\n                }\r\n            }\r\n        }\r\n\r\nthis is loadDescription() method\r\n\r\n    private void loadDescription() {\r\n            BufferedReader in = null;\r\n            StringBuffer stringBuffer = null;\r\n            String str = null;\r\n            try {\r\n                stringBuffer = new StringBuffer();\r\n                in = new BufferedReader(new FileReader(IConstants.MANUAL_FILE));\r\n                str = in.readLine();\r\n                while (str != null) {\r\n                    stringBuffer.append(str + &quot;\\n&quot;);\r\n                    str = in.readLine();\r\n                }\r\n                dfixDescription = stringBuffer.toString();\r\n            } catch (Exception e) {\r\n                logger.error(e.getMessage(), e);  //To change body of catch statement use File | Settings | File Templates.\r\n            } finally {\r\n                try {\r\n                    if (in != null) {\r\n                        in.close();\r\n                    }\r\n                } catch (IOException e) {\r\n                    logger.error(e.getMessage(), e);  //To change body of catch statement use File | Settings | File Templates.\r\n                }\r\n            }\r\n        }\r\n\r\nand \r\n\r\n    private void processInput(String line) {\r\n            line = line.trim();\r\n            logger.info(&quot;Admin Message received: &quot; + line);\r\n            if (&quot;?&quot;.equalsIgnoreCase(line) || &quot;&quot;.equals(line)) {\r\n                  printDescription();\r\n            } else if (line.toUpperCase().startsWith(AdminCommands.RELOAD)) {\r\n                loadDescription();\r\n                printDescription();\r\n            } else if (line.toUpperCase().startsWith(AdminCommands.EXIT)) {\r\n                adminManager.stopDFIXRouter();\r\n                logger.debug(&quot;Closing Application.....&quot;);\r\n                logger.debug(&quot;Closed.&quot;);\r\n                System.exit(0);\r\n            } else if (line.toUpperCase().startsWith(AdminCommands.RESET_OUT_SEQUENCE)) {\r\n                try {\r\n                    String sessionIdentifier = line.split(&quot;,&quot;)[1].trim();\r\n                    int seqNo = Integer.parseInt((line.split(&quot;,&quot;)[2]).trim());\r\n                    adminManager.resetOutSequence(sessionIdentifier, seqNo);\r\n                } catch (Exception e) {\r\n                    logger.error(e.getMessage(), e);  //To change body of catch statement use File | Settings | File Templates.\r\n                }\r\n            } else if (line.toUpperCase().startsWith(AdminCommands.RESET_IN_SEQUENCE)) {\r\n                try {\r\n                    String sessionIdentifier = line.split(&quot;,&quot;)[1].trim();\r\n                    int seqNo = Integer.parseInt((line.split(&quot;,&quot;)[2]).trim());\r\n                    adminManager.resetInSequence(sessionIdentifier, seqNo);\r\n                } catch (Exception e) {\r\n                    logger.error(e.getMessage(), e);  //To change body of catch statement use File | Settings | File Templates.\r\n                }\r\n            } else if (line.toUpperCase().startsWith(AdminCommands.CONNECT)) {\r\n                String sessionIdentifier = line.split(&quot;,&quot;)[1].trim();\r\n                adminManager.connectSession(sessionIdentifier);\r\n            } else if (line.toUpperCase().startsWith(AdminCommands.DISCONNECT)) {\r\n                String sessionIdentifier = line.split(&quot;,&quot;)[1].trim();\r\n                adminManager.disconnectSession(sessionIdentifier);\r\n            } else if (line.toUpperCase().startsWith(AdminCommands.ACTIVATE)) {\r\n                adminManager.startDFIXRouter();\r\n            } else if (line.toUpperCase().startsWith(AdminCommands.PASSIVATE)) {\r\n                adminManager.stopDFIXRouter();\r\n            } else if (line.toUpperCase().startsWith(AdminCommands.RUN_EOD)) {\r\n                try {\r\n                    String sessionIdentifier = line.split(&quot;,&quot;)[1].trim();\r\n                    adminManager.runEod(sessionIdentifier);\r\n                } catch (Exception e) {\r\n                    logger.error(e.getMessage(), e);  //To change body of catch statement use File | Settings | File Templates.\r\n                }\r\n            } else if (line.toUpperCase().startsWith(AdminCommands.SHOW_STATUS)) {\r\n                adminManager.showStatus();\r\n            } else {\r\n                System.out.println(&quot;Usage: type ? for help&quot;);\r\n            }\r\n            System.out.print(&quot;&gt;&quot;);\r\n        }\r\n\r\nand these are related methods for run method. following is my test method\r\n\r\n \r\n\r\n     @Test\r\n        public void run_activate() throws Exception{\r\n    \r\n            String data = &quot;activate&quot;;\r\n            InputStream in = new ByteArrayInputStream(data.getBytes());\r\n            System.setIn(in);\r\n            PowerMockito.mockStatic(AdminManager.class);\r\n            PowerMockito.when(AdminManager.getInstance()).thenReturn(adminManagerTest);\r\n            Mockito.doNothing().when(adminManagerTest).startDFIXRouter();\r\n            dfixrtrAdminTest.run();\r\n            Mockito.verify(adminManagerTest, Mockito.times(1)).startDFIXRouter();\r\n    \r\n        }\r\n\r\nwhat is wrong with this. When i run test method it will not stop and i can not verify that needed methods are invoked how to handle this.\r\n\r\n","title":"Unit Test For Infinite Loop","body":"<p>This is my java thread run method and i want to write unit test for this method. But with infinte loop i can not do it. It would be nice anyone can help me with this.</p>\n\n<pre><code> public void run() {\n        BufferedReader in = new BufferedReader(new InputStreamReader(System.in));\n        String line = null;\n        boolean oneTime = true;\n        loadDescription();\n        while (true) {\n\n            try {\n                if (oneTime) {\n                    System.out.println(\"press enter to get the console...............\");\n                    oneTime = false;\n                }\n                line = in.readLine();\n                if (line != null) {\n                    processInput(line);\n                }\n\n            } catch (Exception e) {\n                logger.error(\"Error occurred while processing console\");\n                logger.error(e.getMessage(), e);\n            }\n        }\n    }\n</code></pre>\n\n<p>this is loadDescription() method</p>\n\n<pre><code>private void loadDescription() {\n        BufferedReader in = null;\n        StringBuffer stringBuffer = null;\n        String str = null;\n        try {\n            stringBuffer = new StringBuffer();\n            in = new BufferedReader(new FileReader(IConstants.MANUAL_FILE));\n            str = in.readLine();\n            while (str != null) {\n                stringBuffer.append(str + \"\\n\");\n                str = in.readLine();\n            }\n            dfixDescription = stringBuffer.toString();\n        } catch (Exception e) {\n            logger.error(e.getMessage(), e);  //To change body of catch statement use File | Settings | File Templates.\n        } finally {\n            try {\n                if (in != null) {\n                    in.close();\n                }\n            } catch (IOException e) {\n                logger.error(e.getMessage(), e);  //To change body of catch statement use File | Settings | File Templates.\n            }\n        }\n    }\n</code></pre>\n\n<p>and </p>\n\n<pre><code>private void processInput(String line) {\n        line = line.trim();\n        logger.info(\"Admin Message received: \" + line);\n        if (\"?\".equalsIgnoreCase(line) || \"\".equals(line)) {\n              printDescription();\n        } else if (line.toUpperCase().startsWith(AdminCommands.RELOAD)) {\n            loadDescription();\n            printDescription();\n        } else if (line.toUpperCase().startsWith(AdminCommands.EXIT)) {\n            adminManager.stopDFIXRouter();\n            logger.debug(\"Closing Application.....\");\n            logger.debug(\"Closed.\");\n            System.exit(0);\n        } else if (line.toUpperCase().startsWith(AdminCommands.RESET_OUT_SEQUENCE)) {\n            try {\n                String sessionIdentifier = line.split(\",\")[1].trim();\n                int seqNo = Integer.parseInt((line.split(\",\")[2]).trim());\n                adminManager.resetOutSequence(sessionIdentifier, seqNo);\n            } catch (Exception e) {\n                logger.error(e.getMessage(), e);  //To change body of catch statement use File | Settings | File Templates.\n            }\n        } else if (line.toUpperCase().startsWith(AdminCommands.RESET_IN_SEQUENCE)) {\n            try {\n                String sessionIdentifier = line.split(\",\")[1].trim();\n                int seqNo = Integer.parseInt((line.split(\",\")[2]).trim());\n                adminManager.resetInSequence(sessionIdentifier, seqNo);\n            } catch (Exception e) {\n                logger.error(e.getMessage(), e);  //To change body of catch statement use File | Settings | File Templates.\n            }\n        } else if (line.toUpperCase().startsWith(AdminCommands.CONNECT)) {\n            String sessionIdentifier = line.split(\",\")[1].trim();\n            adminManager.connectSession(sessionIdentifier);\n        } else if (line.toUpperCase().startsWith(AdminCommands.DISCONNECT)) {\n            String sessionIdentifier = line.split(\",\")[1].trim();\n            adminManager.disconnectSession(sessionIdentifier);\n        } else if (line.toUpperCase().startsWith(AdminCommands.ACTIVATE)) {\n            adminManager.startDFIXRouter();\n        } else if (line.toUpperCase().startsWith(AdminCommands.PASSIVATE)) {\n            adminManager.stopDFIXRouter();\n        } else if (line.toUpperCase().startsWith(AdminCommands.RUN_EOD)) {\n            try {\n                String sessionIdentifier = line.split(\",\")[1].trim();\n                adminManager.runEod(sessionIdentifier);\n            } catch (Exception e) {\n                logger.error(e.getMessage(), e);  //To change body of catch statement use File | Settings | File Templates.\n            }\n        } else if (line.toUpperCase().startsWith(AdminCommands.SHOW_STATUS)) {\n            adminManager.showStatus();\n        } else {\n            System.out.println(\"Usage: type ? for help\");\n        }\n        System.out.print(\"&gt;\");\n    }\n</code></pre>\n\n<p>and these are related methods for run method. following is my test method</p>\n\n<pre><code> @Test\n    public void run_activate() throws Exception{\n\n        String data = \"activate\";\n        InputStream in = new ByteArrayInputStream(data.getBytes());\n        System.setIn(in);\n        PowerMockito.mockStatic(AdminManager.class);\n        PowerMockito.when(AdminManager.getInstance()).thenReturn(adminManagerTest);\n        Mockito.doNothing().when(adminManagerTest).startDFIXRouter();\n        dfixrtrAdminTest.run();\n        Mockito.verify(adminManagerTest, Mockito.times(1)).startDFIXRouter();\n\n    }\n</code></pre>\n\n<p>what is wrong with this. When i run test method it will not stop and i can not verify that needed methods are invoked how to handle this.</p>\n"},{"tags":["java","android","performance"],"comments":[{"owner":{"account_id":18542382,"reputation":3683,"user_id":13510562,"display_name":"rmunge"},"score":0,"creation_date":1624198270,"post_id":64855253,"comment_id":120287428,"body_markdown":"please share also your application manifest.","body":"please share also your application manifest."},{"owner":{"account_id":5602739,"reputation":1545,"user_id":4438470,"display_name":"Vitor Hugo Schwaab"},"score":0,"creation_date":1624285047,"post_id":64855253,"comment_id":120309939,"body_markdown":"How did you measure the Activity opening delay? Perhaps adding logs would be more precise.","body":"How did you measure the Activity opening delay? Perhaps adding logs would be more precise."},{"owner":{"account_id":5602739,"reputation":1545,"user_id":4438470,"display_name":"Vitor Hugo Schwaab"},"score":0,"creation_date":1624285142,"post_id":64855253,"comment_id":120309986,"body_markdown":"One other thing I would suggest is to go to Developer Options and check the `Window animation scale` and `Transition animation scale` under the `Drawing` section. Maybe turning them off would speed things up a bit. Some of the delays are a side-effect of having animated UI with transitions.","body":"One other thing I would suggest is to go to Developer Options and check the <code>Window animation scale</code> and <code>Transition animation scale</code> under the <code>Drawing</code> section. Maybe turning them off would speed things up a bit. Some of the delays are a side-effect of having animated UI with transitions."},{"owner":{"account_id":14562608,"reputation":198,"user_id":10518289,"display_name":"janithcooray"},"score":0,"creation_date":1624302312,"post_id":64855253,"comment_id":120316853,"body_markdown":"Tried setting it to 1.0, 0.5 and off. doesn&#39;t make a difference. turning it off makes it look worse for the average user.","body":"Tried setting it to 1.0, 0.5 and off. doesn&#39;t make a difference. turning it off makes it look worse for the average user."},{"owner":{"account_id":7458238,"reputation":6066,"user_id":5670752,"display_name":"Taslim Oseni"},"score":0,"creation_date":1624704427,"post_id":64855253,"comment_id":120434008,"body_markdown":"Have you tried experimenting with other Views? Is it different if you use a TextView instead of a Button? Are you sure it has nothing to do with **Button** specifically?","body":"Have you tried experimenting with other Views? Is it different if you use a TextView instead of a Button? Are you sure it has nothing to do with <b>Button</b> specifically?"},{"owner":{"account_id":1106010,"reputation":5058,"user_id":1097384,"display_name":"vitalyster"},"score":0,"creation_date":1624706944,"post_id":64855253,"comment_id":120434563,"body_markdown":"Try using single activity and multiple fragments? Fragments should be replaced faster than creating new activity","body":"Try using single activity and multiple fragments? Fragments should be replaced faster than creating new activity"},{"owner":{"account_id":5834974,"reputation":318,"user_id":4598342,"display_name":"Pwn"},"score":0,"creation_date":1624713942,"post_id":64855253,"comment_id":120436165,"body_markdown":"can you share you manifest file","body":"can you share you manifest file"}],"answers":[{"comments":[{"owner":{"account_id":14562608,"reputation":198,"user_id":10518289,"display_name":"janithcooray"},"score":0,"creation_date":1624342813,"post_id":68077250,"comment_id":120325203,"body_markdown":"i usually restart the device before debugging. i made sure the device is in its fastest state possible. However, other System Apps seem to be more responsive. even though they are system apps they are still an apk written in java &amp; kotlin. I&#39;m only looking for a method to make it more resposive.","body":"i usually restart the device before debugging. i made sure the device is in its fastest state possible. However, other System Apps seem to be more responsive. even though they are system apps they are still an apk written in java &amp; kotlin. I&#39;m only looking for a method to make it more resposive."}],"tags":[],"owner":{"account_id":2100546,"reputation":111,"user_id":9958822,"display_name":"rahu1613"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1624333423,"creation_date":1624333423,"answer_id":68077250,"question_id":64855253,"body_markdown":"You can try the [android profiler][1] to trace/investigate this more.\r\nBut from an overall perspective, there should not be any delay for launching an activity with a simple layout. \r\nOther things that could impact the delay is the device resource availability. \r\nSo, if your code is the same as you mentioned in your question, it must be device performance which is creating the delay.\r\n\r\n\r\n  [1]: https://developer.android.com/studio/profile/android-profiler","title":"How to reduce or remove the delay on starting an Android activity from button click","body":"<p>You can try the <a href=\"https://developer.android.com/studio/profile/android-profiler\" rel=\"nofollow noreferrer\">android profiler</a> to trace/investigate this more.\nBut from an overall perspective, there should not be any delay for launching an activity with a simple layout.\nOther things that could impact the delay is the device resource availability.\nSo, if your code is the same as you mentioned in your question, it must be device performance which is creating the delay.</p>\n"},{"tags":[],"owner":{"account_id":14562608,"reputation":198,"user_id":10518289,"display_name":"janithcooray"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678410187,"creation_date":1675715994,"answer_id":75366355,"question_id":64855253,"body_markdown":"After Much research , i conclude my answer for my own question as follows\r\n\r\nthe cause of this is not due to any dependency or code optimisation.\r\nthe reason that it works faster on higher-ed phones can be assumed that this is due to the obvious higher performance of the device itself. but this is not a satisfying answer as this is code posted above is as minimalistic as possible for an android app. it just opens an empty activity.\r\n\r\n`\r\nThe reason behind this is that most apps (i&#39;d like to say all) on the Android operating system run on a Java virtual machine. \r\n`\r\n\r\nand you know what that means. it means is not giving native level performance and causes a lot of overhead entropy. this is how Java is and why it is cross platform, also one of the main reason it became popular. \r\n\r\nThere is NO Solution to this. its not within our control.\r\n\r\nid like to see android moving a way from Java if thats even possibility. also one of the reason why android phones nowadays require more RAM. and iOS needing less ram and to keep apps background.\r\n\r\nLet me know you thoughts on this","title":"How to reduce or remove the delay on starting an Android activity from button click","body":"<p>After Much research , i conclude my answer for my own question as follows</p>\n<p>the cause of this is not due to any dependency or code optimisation.\nthe reason that it works faster on higher-ed phones can be assumed that this is due to the obvious higher performance of the device itself. but this is not a satisfying answer as this is code posted above is as minimalistic as possible for an android app. it just opens an empty activity.</p>\n<p><code>The reason behind this is that most apps (i'd like to say all) on the Android operating system run on a Java virtual machine. </code></p>\n<p>and you know what that means. it means is not giving native level performance and causes a lot of overhead entropy. this is how Java is and why it is cross platform, also one of the main reason it became popular.</p>\n<p>There is NO Solution to this. its not within our control.</p>\n<p>id like to see android moving a way from Java if thats even possibility. also one of the reason why android phones nowadays require more RAM. and iOS needing less ram and to keep apps background.</p>\n<p>Let me know you thoughts on this</p>\n"}],"owner":{"account_id":14562608,"reputation":198,"user_id":10518289,"display_name":"janithcooray"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1499,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":75366355,"answer_count":2,"score":5,"last_activity_date":1678410187,"creation_date":1605518021,"question_id":64855253,"body_markdown":"I&#39;ve noticed this issue for a long time. When I open an activity through a button, I can feel a small delay before the activity &quot;STARTS&quot; to launch, like 1 second, even though both activities are empty, as if it&#39;s delaying on purpose.\r\n\r\nEvery other StackOverflow thread I checked regarding this has some kind of load which slows it down. But, this is plain empty, no load or background tasks.\r\n\r\nWhat I mean by delay: when I click the button the app does nothing for like a second then starts the transition on launching the next activity. The user might think the app is unresponsive.\r\n\r\nIs the testing device slow? I don&#39;t think that&#39;s the case.\r\n\r\n 1. I&#39;ve tested in Android 10 VM (1 Second delay), \r\n    \r\n 2. Android 9, 8, 7, 6, 5.1, 5 VM (1 Second delay),\r\n\r\n 3. Nokia 1 Plus (Slow) With Android 10 and 9 (1/2 Second delay),\r\n    \r\n 4. Nokia 5.1 With Android 9 (1/4 Second delay),\r\n\r\n 5. Galaxy s6 Edge with Lineage 16 (Android 9) and Android 7.0 stock No\r\n    Delay,\r\n\r\n 6. Galaxy s5 Lineage 15 (Android 8), Lineage 14 (Android 7), Stock 6.0\r\n    (1/8 Second delay),\r\n\r\n 7. Galaxy m31 and m21 and A51 with Android 9 One UI1? (1/2 Second\r\n    delay),\r\n\r\nI do see a pattern where faster phones have less delay, regardless of the result, other apps work more responsively in the same phones. Google apps on the same devices work much more responsively.  \r\n\r\nAndroid Studio 4.0\r\n\r\nAny idea of the cause?\r\n\r\n**MainActivity Code:**\r\n\r\n```java\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    }\r\n    \r\n    public void Onclick(View view){\r\n        startActivity(new Intent(this,MainActivity2.class));\r\n    }\r\n}\r\n```\r\n\r\n**MainActivity activity_main:**\r\n\r\n```xml          \r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button1&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:onClick=&quot;Onclick&quot;\r\n        android:text=&quot;Open Activity 2&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n**MainActivity2**\r\n\r\n```java\r\npublic class MainActivity2 extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main2);\r\n    }\r\n}\r\n```\r\n\r\n**MainActivity2 activity_main2:**\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity2&quot;&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```","title":"How to reduce or remove the delay on starting an Android activity from button click","body":"<p>I've noticed this issue for a long time. When I open an activity through a button, I can feel a small delay before the activity &quot;STARTS&quot; to launch, like 1 second, even though both activities are empty, as if it's delaying on purpose.</p>\n<p>Every other StackOverflow thread I checked regarding this has some kind of load which slows it down. But, this is plain empty, no load or background tasks.</p>\n<p>What I mean by delay: when I click the button the app does nothing for like a second then starts the transition on launching the next activity. The user might think the app is unresponsive.</p>\n<p>Is the testing device slow? I don't think that's the case.</p>\n<ol>\n<li><p>I've tested in Android 10 VM (1 Second delay),</p>\n</li>\n<li><p>Android 9, 8, 7, 6, 5.1, 5 VM (1 Second delay),</p>\n</li>\n<li><p>Nokia 1 Plus (Slow) With Android 10 and 9 (1/2 Second delay),</p>\n</li>\n<li><p>Nokia 5.1 With Android 9 (1/4 Second delay),</p>\n</li>\n<li><p>Galaxy s6 Edge with Lineage 16 (Android 9) and Android 7.0 stock No\nDelay,</p>\n</li>\n<li><p>Galaxy s5 Lineage 15 (Android 8), Lineage 14 (Android 7), Stock 6.0\n(1/8 Second delay),</p>\n</li>\n<li><p>Galaxy m31 and m21 and A51 with Android 9 One UI1? (1/2 Second\ndelay),</p>\n</li>\n</ol>\n<p>I do see a pattern where faster phones have less delay, regardless of the result, other apps work more responsively in the same phones. Google apps on the same devices work much more responsively.</p>\n<p>Android Studio 4.0</p>\n<p>Any idea of the cause?</p>\n<p><strong>MainActivity Code:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n    \n    public void Onclick(View view){\n        startActivity(new Intent(this,MainActivity2.class));\n    }\n}\n</code></pre>\n<p><strong>MainActivity activity_main:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button1&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:onClick=&quot;Onclick&quot;\n        android:text=&quot;Open Activity 2&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p><strong>MainActivity2</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MainActivity2 extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main2);\n    }\n}\n</code></pre>\n<p><strong>MainActivity2 activity_main2:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity2&quot;&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":3,"creation_date":1631248499,"post_id":69127110,"comment_id":122176155,"body_markdown":"This is not an error. As the message says ist is a WARNING.","body":"This is not an error. As the message says ist is a WARNING."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1631777934,"post_id":69127110,"comment_id":122314848,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631270817,"creation_date":1631270817,"answer_id":69131067,"question_id":69127110,"body_markdown":"There is a bug report for this: https://issues.redhat.com/browse/WFLY-10031\r\n\r\nIt appears to be a problem with running WildFly 12 on Java 9 or later.  The bug report is closed, saying that it is fixed in WildFly 13.\r\n\r\nPossible Solutions:\r\n\r\n1.  Upgrade to WildFly 13.\r\n2.  Ignore the warning.  (It is only a warning.)\r\n3.  Downgrade to Java 8.","title":"WARNING: Illegal reflective access by org.jboss.logmanager.LogManager$2","body":"<p>There is a bug report for this: <a href=\"https://issues.redhat.com/browse/WFLY-10031\" rel=\"nofollow noreferrer\">https://issues.redhat.com/browse/WFLY-10031</a></p>\n<p>It appears to be a problem with running WildFly 12 on Java 9 or later.  The bug report is closed, saying that it is fixed in WildFly 13.</p>\n<p>Possible Solutions:</p>\n<ol>\n<li>Upgrade to WildFly 13.</li>\n<li>Ignore the warning.  (It is only a warning.)</li>\n<li>Downgrade to Java 8.</li>\n</ol>\n"}],"owner":{"account_id":21200423,"reputation":1,"user_id":15591192,"display_name":"prakash kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":831,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1678409841,"creation_date":1631246487,"question_id":69127110,"body_markdown":"```\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by org.jboss.logmanager.LogManager$2\r\n(jar:file:/E:/Project/Project/SBFC/wildfly-12.0.0.Final/modules/system/layers/base/org/jboss/logmanager/main/jboss-logmanager-2.0.9.Final.jar!/)\r\nto constructor java.util.logging.Level$KnownLevel(java.util.logging.Level)\r\n```\r\n\r\nI&#39;m getting this error ,can u please help me out...","title":"WARNING: Illegal reflective access by org.jboss.logmanager.LogManager$2","body":"<pre><code>WARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by org.jboss.logmanager.LogManager$2\n(jar:file:/E:/Project/Project/SBFC/wildfly-12.0.0.Final/modules/system/layers/base/org/jboss/logmanager/main/jboss-logmanager-2.0.9.Final.jar!/)\nto constructor java.util.logging.Level$KnownLevel(java.util.logging.Level)\n</code></pre>\n<p>I'm getting this error ,can u please help me out...</p>\n"},{"tags":["java","swagger","openapi","swagger-codegen"],"owner":{"account_id":1410679,"reputation":3385,"user_id":1337338,"accept_rate":38,"display_name":"voidMainReturn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678408800,"creation_date":1678408800,"question_id":75691298,"body_markdown":"I am using openapi 3.0.3 to write a yaml spec along with swagger-template and gradle swaggercodegen to generate rest API controller.\r\n&lt;br&gt;I want to generate a controller of following format :\r\n\r\n    public HttpEntity&lt;MyResponse&gt; fetchEntity(\r\n          HttpEntity&lt;byte[]&gt; requestEntity, @RequestPart(&quot;message&quot;) final byte[] messageContent)\r\n          throws ParsingException {}\r\nI am not able to find anywhere how to specify `requestBody` content and schema for this. Specifically `HttpEntity` is a framework class `org.springframework.http.HttpEntity;` and not a custom object. But it seems like swagger [Schema object][1] doesn&#39;t support this ? Can somebody help ?\r\n\r\n\r\n  [1]: https://swagger.io/specification/#schema-object","title":"Generate swagger spec with HttpEntity in request body","body":"<p>I am using openapi 3.0.3 to write a yaml spec along with swagger-template and gradle swaggercodegen to generate rest API controller.\n<br>I want to generate a controller of following format :</p>\n<pre><code>public HttpEntity&lt;MyResponse&gt; fetchEntity(\n      HttpEntity&lt;byte[]&gt; requestEntity, @RequestPart(&quot;message&quot;) final byte[] messageContent)\n      throws ParsingException {}\n</code></pre>\n<p>I am not able to find anywhere how to specify <code>requestBody</code> content and schema for this. Specifically <code>HttpEntity</code> is a framework class <code>org.springframework.http.HttpEntity;</code> and not a custom object. But it seems like swagger <a href=\"https://swagger.io/specification/#schema-object\" rel=\"nofollow noreferrer\">Schema object</a> doesn't support this ? Can somebody help ?</p>\n"},{"tags":["java","jenkins","groovy","hudson","jenkins-groovy"],"answers":[{"tags":[],"owner":{"account_id":15577647,"reputation":150,"user_id":11238363,"display_name":"Remy"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678408115,"creation_date":1553636850,"answer_id":55366682,"question_id":55360677,"body_markdown":"If you&#39;re looking to execute a stage on a Gitlab trigger:\r\n\r\n```\r\nstage(&#39;stage&#39;) {\r\n    when {\r\n        triggeredBy &quot;GitLabWebHookCause&quot;\r\n    }\r\n}\r\n```\r\n\r\nTo get the data of the Gitlab cause you have the following syntax:\r\n```\r\ncurrentBuild.rawBuild.getCause(com.dabsquared.gitlabjenkins.cause.GitLabWebHookCause).getData()\r\n```\r\n\r\nExample: get last commit\r\n```\r\ncommit = currentBuild.rawBuild.getCause(com.dabsquared.gitlabjenkins.cause.GitLabWebHookCause).getData().getLastCommit()\r\n```\r\n\r\nDocumentation of the GitlabWebHookCause:\r\nhttps://javadoc.jenkins.io/plugin/gitlab-plugin/com/dabsquared/gitlabjenkins/cause/GitLabWebHookCause.html","title":"How to capture jenkins build cause? triggered by GitLab","body":"<p>If you're looking to execute a stage on a Gitlab trigger:</p>\n<pre><code>stage('stage') {\n    when {\n        triggeredBy &quot;GitLabWebHookCause&quot;\n    }\n}\n</code></pre>\n<p>To get the data of the Gitlab cause you have the following syntax:</p>\n<pre><code>currentBuild.rawBuild.getCause(com.dabsquared.gitlabjenkins.cause.GitLabWebHookCause).getData()\n</code></pre>\n<p>Example: get last commit</p>\n<pre><code>commit = currentBuild.rawBuild.getCause(com.dabsquared.gitlabjenkins.cause.GitLabWebHookCause).getData().getLastCommit()\n</code></pre>\n<p>Documentation of the GitlabWebHookCause:\n<a href=\"https://javadoc.jenkins.io/plugin/gitlab-plugin/com/dabsquared/gitlabjenkins/cause/GitLabWebHookCause.html\" rel=\"nofollow noreferrer\">https://javadoc.jenkins.io/plugin/gitlab-plugin/com/dabsquared/gitlabjenkins/cause/GitLabWebHookCause.html</a></p>\n"}],"owner":{"account_id":4032106,"reputation":16084,"user_id":3317808,"accept_rate":54,"display_name":"overexchange"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2793,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1678408115,"creation_date":1553613604,"question_id":55360677,"body_markdown":"In Jenkins file(groovy syntax), manual build action(if any) cause is grabbed using `hudson.model.Cause$UserIdCause` in  `currentBuild.getBuildCauses(&#39;hudson.model.Cause$UserIdCause&#39;)`\r\n\r\n--------------\r\n\r\n`hudson.triggers.SCMTrigger.SCMTriggerCause` looks deprecated in Jenkins CI [code](https://github.com/jenkinsci/jenkins/blob/master/core/src/main/java/hudson/triggers/SCMTrigger.java#L123).\r\n\r\n        @Deprecated\r\n        public SCMTrigger(String scmpoll_spec, boolean ignorePostCommitHooks) throws ANTLRException {\r\n            super(scmpoll_spec);\r\n            this.ignorePostCommitHooks = ignorePostCommitHooks;\r\n        }\r\n\r\n----------------------------------\r\n\r\nOn push event or merge event from GitLab, How do Jenkinsfile read the build cause?\r\n\r\n\r\n\r\n","title":"How to capture jenkins build cause? triggered by GitLab","body":"<p>In Jenkins file(groovy syntax), manual build action(if any) cause is grabbed using <code>hudson.model.Cause$UserIdCause</code> in  <code>currentBuild.getBuildCauses('hudson.model.Cause$UserIdCause')</code></p>\n\n<hr>\n\n<p><code>hudson.triggers.SCMTrigger.SCMTriggerCause</code> looks deprecated in Jenkins CI <a href=\"https://github.com/jenkinsci/jenkins/blob/master/core/src/main/java/hudson/triggers/SCMTrigger.java#L123\" rel=\"nofollow noreferrer\">code</a>.</p>\n\n<pre><code>    @Deprecated\n    public SCMTrigger(String scmpoll_spec, boolean ignorePostCommitHooks) throws ANTLRException {\n        super(scmpoll_spec);\n        this.ignorePostCommitHooks = ignorePostCommitHooks;\n    }\n</code></pre>\n\n<hr>\n\n<p>On push event or merge event from GitLab, How do Jenkinsfile read the build cause?</p>\n"},{"tags":["java","spring","security","jwt"],"comments":[{"owner":{"account_id":15217785,"reputation":469,"user_id":10980611,"display_name":"code_kbd"},"score":0,"creation_date":1595800113,"post_id":62460038,"comment_id":111592217,"body_markdown":"anyone who could help on this ? :( isn&#39;t this question clear enough? or is this something that i should not do in a production setup?","body":"anyone who could help on this ? :( isn&#39;t this question clear enough? or is this something that i should not do in a production setup?"},{"owner":{"account_id":9104891,"reputation":934,"user_id":6775742,"accept_rate":60,"display_name":"T Anna"},"score":1,"creation_date":1595801896,"post_id":62460038,"comment_id":111592663,"body_markdown":"In our current project setup, the FE passes the login request to the openid connect provider and gets a JWT. The FE then calls the BE passing the JWT as a bearer token in the Authorization header. In our case , all the BE calls go via our api gateway which validates the JWT using the JWKS.","body":"In our current project setup, the FE passes the login request to the openid connect provider and gets a JWT. The FE then calls the BE passing the JWT as a bearer token in the Authorization header. In our case , all the BE calls go via our api gateway which validates the JWT using the JWKS."},{"owner":{"account_id":15217785,"reputation":469,"user_id":10980611,"display_name":"code_kbd"},"score":0,"creation_date":1595919235,"post_id":62460038,"comment_id":111632172,"body_markdown":"thanks a lot for answering - however this means that the API gateway will quite over loaded with all the internal requests going thru as well ? I thought about this as well - but skeptical about it since it goes back to the API gateway while we actually have all the details on the jwt to authorize.","body":"thanks a lot for answering - however this means that the API gateway will quite over loaded with all the internal requests going thru as well ? I thought about this as well - but skeptical about it since it goes back to the API gateway while we actually have all the details on the jwt to authorize."},{"owner":{"account_id":9104891,"reputation":934,"user_id":6775742,"accept_rate":60,"display_name":"T Anna"},"score":0,"creation_date":1595926832,"post_id":62460038,"comment_id":111635546,"body_markdown":"Ok I think I get what you are saying. Yes, even for us, internal calls between apis don&#39;t go via the gateway. But even if thats the case and if you have to pass the JWT between apis, why not use the standard Authorization header and send it as a bearer token when calling the rest endpoint of the second api.","body":"Ok I think I get what you are saying. Yes, even for us, internal calls between apis don&#39;t go via the gateway. But even if thats the case and if you have to pass the JWT between apis, why not use the standard Authorization header and send it as a bearer token when calling the rest endpoint of the second api."},{"owner":{"account_id":15217785,"reputation":469,"user_id":10980611,"display_name":"code_kbd"},"score":0,"creation_date":1595952279,"post_id":62460038,"comment_id":111649400,"body_markdown":"hi anna. I do that now. As i have mentioned, I actually use thread locals to do it and save the JWT on the thread local and then i pass it to other apis. however, is it the acceptable way of doing is my question? It becomes cumbersome since i have a service that calls 8-10 others services as well. thanks again for your comment.","body":"hi anna. I do that now. As i have mentioned, I actually use thread locals to do it and save the JWT on the thread local and then i pass it to other apis. however, is it the acceptable way of doing is my question? It becomes cumbersome since i have a service that calls 8-10 others services as well. thanks again for your comment."}],"answers":[{"comments":[{"owner":{"account_id":15217785,"reputation":469,"user_id":10980611,"display_name":"code_kbd"},"score":0,"creation_date":1671687687,"post_id":68645739,"comment_id":132153209,"body_markdown":"My question is more on how to pass the token within the code base as well. ur answer is correct when considering the portion of passing the &quot;token&quot; from api-1 to api-2 - but how does it keep the token in the session on api-1 before passing it to api-2 (thread locals?)","body":"My question is more on how to pass the token within the code base as well. ur answer is correct when considering the portion of passing the &quot;token&quot; from api-1 to api-2 - but how does it keep the token in the session on api-1 before passing it to api-2 (thread locals?)"},{"owner":{"account_id":15217785,"reputation":469,"user_id":10980611,"display_name":"code_kbd"},"score":0,"creation_date":1671687730,"post_id":68645739,"comment_id":132153222,"body_markdown":"apologies for not being clear on the original question","body":"apologies for not being clear on the original question"}],"tags":[],"owner":{"account_id":1809323,"reputation":11348,"user_id":1645712,"accept_rate":73,"display_name":"gusto2"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1628054195,"creation_date":1628054195,"answer_id":68645739,"question_id":62460038,"body_markdown":"&gt; My question is what is the recommended way for the API-1 to get the token in the request headers and pass it to the API-2\r\n\r\n\r\nYou can specify the request header as the service method parameter  \r\n\r\n[example](https://www.baeldung.com/spring-rest-http-headers) \r\n\r\n    @GetMapping(&quot;/greeting&quot;)\r\n    public ResponseEntity&lt;String&gt; greeting(\r\n      @RequestHeader(&quot;Authorization&quot;) String authnHeader) {\r\n\r\nand you can use a [RequestTemplate](https://springframework.guru/using-resttemplate-in-spring/)  to pass the Authorization header value to the backend calls.\r\n\r\n\r\nPOST [example2](https://stackoverflow.com/questions/21723183/spring-resttemplate-to-post-request-with-custom-headers-and-a-request-object) \r\n\r\n\r\n    MultiValueMap&lt;String, String&gt; headers = new \r\n    LinkedMultiValueMap&lt;String, String&gt;();\r\n    headers.add(&quot;Authorization&quot;, authnHeader);\r\n    headers.add(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n    \r\n    RestTemplate restTemplate = new RestTemplate();\r\n    \r\n    HttpEntity&lt;ObjectToPass&gt; request = new \r\n    HttpEntity&lt;ObjectToPass&gt;(objectToPassInstance, headers);\r\n    \r\n    restTemplate.postForObject(urlPost, request, Boolean.class);\r\n","title":"Best way to PASS JWT tokens from one SPRING API to another","body":"<blockquote>\n<p>My question is what is the recommended way for the API-1 to get the token in the request headers and pass it to the API-2</p>\n</blockquote>\n<p>You can specify the request header as the service method parameter</p>\n<p><a href=\"https://www.baeldung.com/spring-rest-http-headers\" rel=\"nofollow noreferrer\">example</a></p>\n<pre><code>@GetMapping(&quot;/greeting&quot;)\npublic ResponseEntity&lt;String&gt; greeting(\n  @RequestHeader(&quot;Authorization&quot;) String authnHeader) {\n</code></pre>\n<p>and you can use a <a href=\"https://springframework.guru/using-resttemplate-in-spring/\" rel=\"nofollow noreferrer\">RequestTemplate</a>  to pass the Authorization header value to the backend calls.</p>\n<p>POST <a href=\"https://stackoverflow.com/questions/21723183/spring-resttemplate-to-post-request-with-custom-headers-and-a-request-object\">example2</a></p>\n<pre><code>MultiValueMap&lt;String, String&gt; headers = new \nLinkedMultiValueMap&lt;String, String&gt;();\nheaders.add(&quot;Authorization&quot;, authnHeader);\nheaders.add(&quot;Content-Type&quot;, &quot;application/json&quot;);\n\nRestTemplate restTemplate = new RestTemplate();\n\nHttpEntity&lt;ObjectToPass&gt; request = new \nHttpEntity&lt;ObjectToPass&gt;(objectToPassInstance, headers);\n\nrestTemplate.postForObject(urlPost, request, Boolean.class);\n</code></pre>\n"}],"owner":{"account_id":15217785,"reputation":469,"user_id":10980611,"display_name":"code_kbd"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2610,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1678406973,"creation_date":1592517490,"question_id":62460038,"body_markdown":"I like to get suggestions of SO users to find the best way to solve this problem.\r\n\r\nI use an Identity manager (that supports openid-connect), a frontend client (alias FE), a BFF (alias BFF) and two backend APIs written in spring and spring boot re. My requirement is this;\r\n\r\n 1. FE redirects to IDM - gets a JWT token after successful\r\n    authentication. The JWT has correct claims as well, and the\r\n    discovery URL has the public key to verify the JWT token as well. FE\r\n    calls an API via its BFF\r\n 2. BFF calls API-1 which in turn calls API-2.\r\n 3. API-2 should validate the logged-in user to ensure that the &quot;Manager&quot; grant is associated to the JWT token\r\n\r\n[![enter image description here][1]][1]\r\nThe API-1 and API-2 above are two spring APIs and I am assuming for this question that BFF passes the jwt token to the API-1 and API-1 follows the recommended process to validate the token as well.\r\n\r\nMy question is what is the recommended way for the API-1 to get the token in the request headers and pass it to the API-2 using spring features.\r\n\r\n(Currently, I use thread-locals to facilitate this i.e in the request filter I add the received header to a thread-local, then it carries out its logics and at the point of invoking API-2 I fetch the header on the thread-local space and pass it to API-2. I highly doubt that this is the recommended way of doing it...)\r\n\r\n  [1]: https://i.stack.imgur.com/f9NCN.png","title":"Best way to PASS JWT tokens from one SPRING API to another","body":"<p>I like to get suggestions of SO users to find the best way to solve this problem.</p>\n<p>I use an Identity manager (that supports openid-connect), a frontend client (alias FE), a BFF (alias BFF) and two backend APIs written in spring and spring boot re. My requirement is this;</p>\n<ol>\n<li>FE redirects to IDM - gets a JWT token after successful\nauthentication. The JWT has correct claims as well, and the\ndiscovery URL has the public key to verify the JWT token as well. FE\ncalls an API via its BFF</li>\n<li>BFF calls API-1 which in turn calls API-2.</li>\n<li>API-2 should validate the logged-in user to ensure that the &quot;Manager&quot; grant is associated to the JWT token</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/f9NCN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f9NCN.png\" alt=\"enter image description here\" /></a>\nThe API-1 and API-2 above are two spring APIs and I am assuming for this question that BFF passes the jwt token to the API-1 and API-1 follows the recommended process to validate the token as well.</p>\n<p>My question is what is the recommended way for the API-1 to get the token in the request headers and pass it to the API-2 using spring features.</p>\n<p>(Currently, I use thread-locals to facilitate this i.e in the request filter I add the received header to a thread-local, then it carries out its logics and at the point of invoking API-2 I fetch the header on the thread-local space and pass it to API-2. I highly doubt that this is the recommended way of doing it...)</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":3877963,"reputation":546,"user_id":5204909,"accept_rate":71,"display_name":"R Dhaval"},"score":0,"creation_date":1499242215,"post_id":44920201,"comment_id":76816708,"body_markdown":"try increasing timeout. make it 100 seconds and see what happens.","body":"try increasing timeout. make it 100 seconds and see what happens."},{"owner":{"account_id":3634866,"reputation":51,"user_id":3030202,"display_name":"user3030202"},"score":0,"creation_date":1499243599,"post_id":44920201,"comment_id":76817598,"body_markdown":"Getting this now:\n\nException in thread &quot;main&quot; org.openqa.selenium.TimeoutException: Expected condition failed: waiting for visibility of element located by By.xpath: //a[@data-val=&#39;ma_signin&#39;] (tried for 100 second(s) with 500 MILLISECONDS interval)","body":"Getting this now:  Exception in thread &quot;main&quot; org.openqa.selenium.TimeoutException: Expected condition failed: waiting for visibility of element located by By.xpath: //a[@data-val=&#39;ma_signin&#39;] (tried for 100 second(s) with 500 MILLISECONDS interval)"},{"owner":{"account_id":3877963,"reputation":546,"user_id":5204909,"accept_rate":71,"display_name":"R Dhaval"},"score":2,"creation_date":1499244239,"post_id":44920201,"comment_id":76818021,"body_markdown":"This usually happens when you have a *loadng* overlay placed while page is loading. In such cases selenium cannot find elements after *loading* disappears. Do you have any such overlay in place?","body":"This usually happens when you have a <i>loadng</i> overlay placed while page is loading. In such cases selenium cannot find elements after <i>loading</i> disappears. Do you have any such overlay in place?"},{"owner":{"account_id":3634866,"reputation":51,"user_id":3030202,"display_name":"user3030202"},"score":0,"creation_date":1499244680,"post_id":44920201,"comment_id":76818332,"body_markdown":"Yes , an overlay also opens when user mouse hover on SIgn in link. But clicking on sign in will redirect the user to sign in page.\n\nSo what to do in this case?","body":"Yes , an overlay also opens when user mouse hover on SIgn in link. But clicking on sign in will redirect the user to sign in page.  So what to do in this case?"},{"owner":{"account_id":3877963,"reputation":546,"user_id":5204909,"accept_rate":71,"display_name":"R Dhaval"},"score":0,"creation_date":1499246049,"post_id":44920201,"comment_id":76819325,"body_markdown":"wait for the invisibility of the overlay :)","body":"wait for the invisibility of the overlay :)"}],"answers":[{"tags":[],"owner":{"account_id":3309995,"reputation":633,"user_id":2783746,"display_name":"Sudha Velan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1499851478,"creation_date":1499245641,"answer_id":44921708,"question_id":44920201,"body_markdown":"Please try this following:\r\n\r\n    package PageObjects;\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.support.ui.ExpectedConditions;\r\n    import org.openqa.selenium.support.ui.WebDriverWait;\r\n    \r\n    public class SignIn {\r\n    \r\n        private static WebElement element = null;\r\n        public static WebElement SignIn_click(WebDriver driver) throws InterruptedException {\r\n        element = driver.findElement(By.xpath(&quot;id(&#39;J_SC_header&#39;)/header/div[2]//span[1]/a[@data-val=&#39;ma_signin&#39;]&quot;));\r\n        \r\n        while (!isDisplayed(element)) \r\n        {\r\n            Thread.sleep(3000);\r\n            System.out.println(&quot;Element is not visible yet&quot;);\r\n        }\r\n        return element;\r\n        \r\n        }\r\n        public static boolean isDisplayed(WebElement element) {\r\n            try {\r\n                if(element.isDisplayed())\r\n                    return element.isDisplayed();\r\n                }catch (NoSuchElementException ex) {\r\n                return false;\r\n            }\r\n            return false;\r\n        }\r\n    }\r\n\r\n\r\n","title":"Expected condition failed: waiting for visibility of element located by By.xpath","body":"<p>Please try this following:</p>\n\n<pre><code>package PageObjects;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.WebDriverWait;\n\npublic class SignIn {\n\n    private static WebElement element = null;\n    public static WebElement SignIn_click(WebDriver driver) throws InterruptedException {\n    element = driver.findElement(By.xpath(\"id('J_SC_header')/header/div[2]//span[1]/a[@data-val='ma_signin']\"));\n\n    while (!isDisplayed(element)) \n    {\n        Thread.sleep(3000);\n        System.out.println(\"Element is not visible yet\");\n    }\n    return element;\n\n    }\n    public static boolean isDisplayed(WebElement element) {\n        try {\n            if(element.isDisplayed())\n                return element.isDisplayed();\n            }catch (NoSuchElementException ex) {\n            return false;\n        }\n        return false;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3634866,"reputation":51,"user_id":3030202,"display_name":"user3030202"},"score":0,"creation_date":1499249669,"post_id":44922930,"comment_id":76822125,"body_markdown":"I always get issues regarding element not found or element not present and this is most likely due to xpath issues. How can i get expert in finding the xpath? Though i am using the same xpath in firepath while inspecting the element in firebug and element is getting inspect.","body":"I always get issues regarding element not found or element not present and this is most likely due to xpath issues. How can i get expert in finding the xpath? Though i am using the same xpath in firepath while inspecting the element in firebug and element is getting inspect."},{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1499249901,"post_id":44922930,"comment_id":76822304,"body_markdown":"@user3030202 Good Question :) `xpath` provided by `firepath` is `absolute xpath` and is your reference to construct a unique `logical xpath`. Thanks","body":"@user3030202 Good Question :) <code>xpath</code> provided by <code>firepath</code> is <code>absolute xpath</code> and is your reference to construct a unique <code>logical xpath</code>. Thanks"},{"owner":{"account_id":3634866,"reputation":51,"user_id":3030202,"display_name":"user3030202"},"score":0,"creation_date":1499250112,"post_id":44922930,"comment_id":76822455,"body_markdown":"E.g. i am now on this form \n\nhttps://login.alibaba.com/?spm=a2700.8293689.0.0.NdeZUw&amp;tracelog=hd_signin\n\n\nand trying to access the Email field to enter email using this xpath , but again getting element not found.\n\n\nxpath(&quot;.//*[@id=&#39;fm-login-id&#39;]&quot;)\n\nalso tried this as well but no luck\n\nxpath(&quot;//input[@name=&#39;loginId&#39;]&quot;)","body":"E.g. i am now on this form   <a href=\"https://login.alibaba.com/?spm=a2700.8293689.0.0.NdeZUw&amp;tracelog=hd_signin\" rel=\"nofollow noreferrer\">login.alibaba.com/&hellip;</a>   and trying to access the Email field to enter email using this xpath , but again getting element not found.   xpath(&quot;.//*[@id=&#39;fm-login-id&#39;]&quot;)  also tried this as well but no luck  xpath(&quot;//input[@name=&#39;loginId&#39;]&quot;)"}],"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499248689,"creation_date":1499248689,"answer_id":44922930,"question_id":44920201,"body_markdown":"Here is the Answer to your Question:\r\n\r\nThe `xpath` you have constructed `//a[@data-val=&#39;ma_signin&#39;]` is not unique. The `xpath` matches with 3 nodes. If you want to click on **`Sign In`** button you can consider using this unique `xpath`:\r\n\r\n    //div[@id=&#39;J_SC_header&#39;]//div[@class=&#39;sc-hd-row sc-hd-main&#39;]//a[@rel=&#39;nofollow&#39;][@data-val=&#39;ma_signin&#39;]","title":"Expected condition failed: waiting for visibility of element located by By.xpath","body":"<p>Here is the Answer to your Question:</p>\n\n<p>The <code>xpath</code> you have constructed <code>//a[@data-val='ma_signin']</code> is not unique. The <code>xpath</code> matches with 3 nodes. If you want to click on <strong><code>Sign In</code></strong> button you can consider using this unique <code>xpath</code>:</p>\n\n<pre><code>//div[@id='J_SC_header']//div[@class='sc-hd-row sc-hd-main']//a[@rel='nofollow'][@data-val='ma_signin']\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8227700,"reputation":188,"user_id":10796644,"display_name":"Bhavesh Soni"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1544941781,"creation_date":1544941781,"answer_id":53799953,"question_id":44920201,"body_markdown":"    public static void waitVisibilityOfElementLocated(WebDriver driver, String locator) {\r\n    \t\tString key = &quot;&quot;;\r\n    \t\tWebElement element = null;\r\n    \t\ttry {\r\n    \t\t\tkey = Utility.fetchLocatorKey(locator);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tSystem.out.println(&quot;Exception in getText method, &quot; + e.getMessage());\r\n    \t\t}\r\n    \r\n    \t\tif (key.endsWith(&quot;id&quot;)) {\r\n    \t\t\tWebDriverWait wait = new WebDriverWait(driver, 60);\r\n    \t\t\telement = wait.until(ExpectedConditions.visibilityOfElementLocated(By.id(locator)));\r\n    \t\t} else if (key.endsWith(&quot;cssselector&quot;)) {\r\n    \t\t\tWebDriverWait wait = new WebDriverWait(driver, 60);\r\n    \t\t\telement = wait.until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(locator)));\r\n    \t\t} else if (key.endsWith(&quot;linktext&quot;)) {\r\n    \t\t\tWebDriverWait wait = new WebDriverWait(driver, 60);\r\n    \t\t\telement = wait.until(ExpectedConditions.visibilityOfElementLocated(By.linkText(locator)));\r\n    \t\t} else if (key.endsWith(&quot;xpath&quot;)) {\r\n    \t\t\tWebDriverWait wait = new WebDriverWait(driver, 60);\r\n    \t\t\telement = wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(locator)));\r\n    \t\t}\r\n    \r\n    \t}","title":"Expected condition failed: waiting for visibility of element located by By.xpath","body":"<pre><code>public static void waitVisibilityOfElementLocated(WebDriver driver, String locator) {\n        String key = \"\";\n        WebElement element = null;\n        try {\n            key = Utility.fetchLocatorKey(locator);\n        } catch (Exception e) {\n            System.out.println(\"Exception in getText method, \" + e.getMessage());\n        }\n\n        if (key.endsWith(\"id\")) {\n            WebDriverWait wait = new WebDriverWait(driver, 60);\n            element = wait.until(ExpectedConditions.visibilityOfElementLocated(By.id(locator)));\n        } else if (key.endsWith(\"cssselector\")) {\n            WebDriverWait wait = new WebDriverWait(driver, 60);\n            element = wait.until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(locator)));\n        } else if (key.endsWith(\"linktext\")) {\n            WebDriverWait wait = new WebDriverWait(driver, 60);\n            element = wait.until(ExpectedConditions.visibilityOfElementLocated(By.linkText(locator)));\n        } else if (key.endsWith(\"xpath\")) {\n            WebDriverWait wait = new WebDriverWait(driver, 60);\n            element = wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(locator)));\n        }\n\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1648151258,"post_id":71604725,"comment_id":126558682,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/71604725/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":24675274,"reputation":1,"user_id":18569759,"display_name":"Rustem Kvk"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648133699,"creation_date":1648133699,"answer_id":71604725,"question_id":44920201,"body_markdown":"I lived same issue in my local, and then I realized made screen size 125% in display settings. After changed to 100% the element could be located.\r\n&quot;TimeoutException: Expected condition failed: waiting for visibility of [[RemoteWebDriver: chrome on WINDOWS (8ec6c...)] -&gt; xpath: //span[@class = &#39;v-button ...] (tried for 30 second(s) with 1000 milliseconds interval)","title":"Expected condition failed: waiting for visibility of element located by By.xpath","body":"<p>I lived same issue in my local, and then I realized made screen size 125% in display settings. After changed to 100% the element could be located.\n&quot;TimeoutException: Expected condition failed: waiting for visibility of [[RemoteWebDriver: chrome on WINDOWS (8ec6c...)] -&gt; xpath: //span[@class = 'v-button ...] (tried for 30 second(s) with 1000 milliseconds interval)</p>\n"}],"owner":{"account_id":3634866,"reputation":51,"user_id":3030202,"display_name":"user3030202"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70276,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":44921708,"answer_count":4,"score":5,"last_activity_date":1678405980,"creation_date":1499241351,"question_id":44920201,"body_markdown":"I am trying to click on Sign in link on site alibaba.com\r\n\r\nThis is my test case:\r\n\r\n    public class TestCase {\r\n    \r\n    \tpublic static void main(String[] args) throws InterruptedException {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t\tString URL = &quot;http://www.alibaba.com/&quot;;\r\n    \t\tWebDriver driver;\r\n    \t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,\r\n    \t\t\t\t&quot;D:\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\r\n    \t\tdriver = new ChromeDriver();\r\n    \t\tdriver.get(URL);\r\n    \t\tThread.sleep(2000);\r\n    \t\tSignIn.SignIn_click(driver).click();\r\n    \t}\r\n    \r\n    }\r\n\r\nThis is object class where in am locating the web element\r\n\r\n    package PageObjects;\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.support.ui.ExpectedConditions;\r\n    import org.openqa.selenium.support.ui.WebDriverWait;\r\n    \r\n    public class SignIn {\r\n    \r\n    \t\r\n    \tprivate static WebElement element = null;\r\n    \r\n    \tpublic static WebElement SignIn_click(WebDriver driver) {\r\n    \t\telement = (new WebDriverWait(driver, 10)).until(ExpectedConditions\r\n    \t\t\t\t.visibilityOfElementLocated(By\r\n    \t\t\t\t\t\t.xpath(&quot;//a[@data-val=&#39;ma_signin&#39;]&quot;)));\r\n    \t\telement = driver.findElement(By\r\n    \t\t\t\t.xpath(&quot;//a[@data-val=&#39;ma_signin&#39;]&quot;));\r\n    \t\treturn element;\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nBut when I run this code , I&#39;m always getting this exception:\r\n\r\n    Exception in thread &quot;main&quot; org.openqa.selenium.TimeoutException: Expected condition failed: waiting for visibility of element located by By.xpath: //a[@data-val=&#39;ma_signin&#39;] (tried for 10 second(s) with 500 MILLISECONDS interval)\r\n        Build info: version: &#39;unknown&#39;, revision: &#39;86a5d70&#39;, time: &#39;2017-02-16 07:47:51 -0800&#39;\r\n        System info: host: &#39;ANUM-PC&#39;, ip: &#39;172.16.11.162&#39;, os.name: &#39;Windows 7&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;6.1&#39;, java.version: &#39;1.8.0_121&#39;\r\n        Driver info: org.openqa.selenium.chrome.ChromeDriver\r\n        Capabilities [{applicationCacheEnabled=false, rotatable=false, mobileEmulationEnabled=false, networkConnectionEnabled=false, chrome={chromedriverVersion=2.30.477700 (0057494ad8732195794a7b32078424f92a5fce41), userDataDir=C:\\Users\\Anum\\AppData\\Local\\Temp\\scoped_dir1716_14873}, takesHeapSnapshot=true, pageLoadStrategy=normal, databaseEnabled=false, handlesAlerts=true, hasTouchScreen=false, version=59.0.3071.115, platform=XP, browserConnectionEnabled=false, nativeEvents=true, acceptSslCerts=true, locationContextEnabled=true, webStorageEnabled=true, browserName=chrome, takesScreenshot=true, javascriptEnabled=true, cssSelectorsEnabled=true, unexpectedAlertBehaviour=}]\r\n        Session ID: d0c1083c113270bd4ded08846544878e\r\n        \tat org.openqa.selenium.support.ui.WebDriverWait.timeoutException(WebDriverWait.java:80)\r\n        \tat org.openqa.selenium.support.ui.FluentWait.until(FluentWait.java:257)\r\n        \tat PageObjects.SignIn.SignIn_click(SignIn.java:15)\r\n        \tat AutomationFramework.TestCase.main(TestCase.java:24)\r\n\r\n\r\nPlease help me on this.","title":"Expected condition failed: waiting for visibility of element located by By.xpath","body":"<p>I am trying to click on Sign in link on site alibaba.com</p>\n\n<p>This is my test case:</p>\n\n<pre><code>public class TestCase {\n\n    public static void main(String[] args) throws InterruptedException {\n        // TODO Auto-generated method stub\n\n        String URL = \"http://www.alibaba.com/\";\n        WebDriver driver;\n        System.setProperty(\"webdriver.chrome.driver\",\n                \"D:\\\\chromedriver_win32\\\\chromedriver.exe\");\n        driver = new ChromeDriver();\n        driver.get(URL);\n        Thread.sleep(2000);\n        SignIn.SignIn_click(driver).click();\n    }\n\n}\n</code></pre>\n\n<p>This is object class where in am locating the web element</p>\n\n<pre><code>package PageObjects;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.WebDriverWait;\n\npublic class SignIn {\n\n\n    private static WebElement element = null;\n\n    public static WebElement SignIn_click(WebDriver driver) {\n        element = (new WebDriverWait(driver, 10)).until(ExpectedConditions\n                .visibilityOfElementLocated(By\n                        .xpath(\"//a[@data-val='ma_signin']\")));\n        element = driver.findElement(By\n                .xpath(\"//a[@data-val='ma_signin']\"));\n        return element;\n\n    }\n\n}\n</code></pre>\n\n<p>But when I run this code , I'm always getting this exception:</p>\n\n<pre><code>Exception in thread \"main\" org.openqa.selenium.TimeoutException: Expected condition failed: waiting for visibility of element located by By.xpath: //a[@data-val='ma_signin'] (tried for 10 second(s) with 500 MILLISECONDS interval)\n    Build info: version: 'unknown', revision: '86a5d70', time: '2017-02-16 07:47:51 -0800'\n    System info: host: 'ANUM-PC', ip: '172.16.11.162', os.name: 'Windows 7', os.arch: 'amd64', os.version: '6.1', java.version: '1.8.0_121'\n    Driver info: org.openqa.selenium.chrome.ChromeDriver\n    Capabilities [{applicationCacheEnabled=false, rotatable=false, mobileEmulationEnabled=false, networkConnectionEnabled=false, chrome={chromedriverVersion=2.30.477700 (0057494ad8732195794a7b32078424f92a5fce41), userDataDir=C:\\Users\\Anum\\AppData\\Local\\Temp\\scoped_dir1716_14873}, takesHeapSnapshot=true, pageLoadStrategy=normal, databaseEnabled=false, handlesAlerts=true, hasTouchScreen=false, version=59.0.3071.115, platform=XP, browserConnectionEnabled=false, nativeEvents=true, acceptSslCerts=true, locationContextEnabled=true, webStorageEnabled=true, browserName=chrome, takesScreenshot=true, javascriptEnabled=true, cssSelectorsEnabled=true, unexpectedAlertBehaviour=}]\n    Session ID: d0c1083c113270bd4ded08846544878e\n        at org.openqa.selenium.support.ui.WebDriverWait.timeoutException(WebDriverWait.java:80)\n        at org.openqa.selenium.support.ui.FluentWait.until(FluentWait.java:257)\n        at PageObjects.SignIn.SignIn_click(SignIn.java:15)\n        at AutomationFramework.TestCase.main(TestCase.java:24)\n</code></pre>\n\n<p>Please help me on this.</p>\n"},{"tags":["java","annotations","inject"],"comments":[{"owner":{"account_id":347037,"reputation":79658,"user_id":680925,"display_name":"Perception"},"score":4,"creation_date":1363818331,"post_id":15535955,"comment_id":22010058,"body_markdown":"That class belongs to the [Guice](https://code.google.com/p/google-guice/) library. Which is itself an [Inversion of Control](http://en.wikipedia.org/wiki/Inversion_of_control) framework.","body":"That class belongs to the <a href=\"https://code.google.com/p/google-guice/\" rel=\"nofollow noreferrer\">Guice</a> library. Which is itself an <a href=\"http://en.wikipedia.org/wiki/Inversion_of_control\" rel=\"nofollow noreferrer\">Inversion of Control</a> framework."}],"answers":[{"comments":[{"owner":{"account_id":1355087,"reputation":22615,"user_id":1293653,"accept_rate":60,"display_name":"One Two Three"},"score":0,"creation_date":1363818858,"post_id":15536046,"comment_id":22010281,"body_markdown":"So if I change the constructor&#39;s formal parameter, where else would I need to change to make sure it is called properly? (Where would you suggest I look to update the &#39;call&#39; to the constructor?)","body":"So if I change the constructor&#39;s formal parameter, where else would I need to change to make sure it is called properly? (Where would you suggest I look to update the &#39;call&#39; to the constructor?)"},{"owner":{"account_id":286681,"reputation":36020,"user_id":586086,"accept_rate":49,"display_name":"Andrew Mao"},"score":0,"creation_date":1363818912,"post_id":15536046,"comment_id":22010294,"body_markdown":"If you run the application with Guice, you will get errors if something can&#39;t be injected. That&#39;s the best way to check. :) Also, unit testing with mock objects constructed manually.","body":"If you run the application with Guice, you will get errors if something can&#39;t be injected. That&#39;s the best way to check. :) Also, unit testing with mock objects constructed manually."},{"owner":{"account_id":1355087,"reputation":22615,"user_id":1293653,"accept_rate":60,"display_name":"One Two Three"},"score":0,"creation_date":1363819395,"post_id":15536046,"comment_id":22010504,"body_markdown":"Do you mind briefly explaining how an object could be constructed without its constructor being called? Is there some config file or something where one lists a bunch of constructor&#39;s parameters? (Sorry, I&#39;m a newbie and I really have a hard time understanding this)","body":"Do you mind briefly explaining how an object could be constructed without its constructor being called? Is there some config file or something where one lists a bunch of constructor&#39;s parameters? (Sorry, I&#39;m a newbie and I really have a hard time understanding this)"},{"owner":{"account_id":286681,"reputation":36020,"user_id":586086,"accept_rate":49,"display_name":"Andrew Mao"},"score":0,"creation_date":1363820039,"post_id":15536046,"comment_id":22010759,"body_markdown":"Yes, I expanded a bit. To answer specifically, Guice calls the constructors using reflection. But you should really read the docs to get an idea of how it&#39;s used. Dependency injection is very powerful and worth learning, as it can save you a lot of work and refactoring.","body":"Yes, I expanded a bit. To answer specifically, Guice calls the constructors using reflection. But you should really read the docs to get an idea of how it&#39;s used. Dependency injection is very powerful and worth learning, as it can save you a lot of work and refactoring."},{"owner":{"account_id":1355087,"reputation":22615,"user_id":1293653,"accept_rate":60,"display_name":"One Two Three"},"score":0,"creation_date":1363966933,"post_id":15536046,"comment_id":22077262,"body_markdown":"I think I understand it a bit better now. Thank you.","body":"I think I understand it a bit better now. Thank you."}],"tags":[],"owner":{"account_id":286681,"reputation":36020,"user_id":586086,"accept_rate":49,"display_name":"Andrew Mao"},"comment_count":5,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1363819994,"creation_date":1363818633,"answer_id":15536046,"question_id":15535955,"body_markdown":"Google [Guice][1] is a dependency injection library that allows you to construct objects simply by declaring relationships between them. Objects are constructed as they are demanded to construct other objects. You can also implement abstract classes or interfaces with different implementations by configuring Guice, which makes it very useful for running or testing your code.\r\n\r\n`@Inject` annotates constructors and methods that determine what an object needs to be initialized. There are also a lot of other annotations that determine how Guice works. But simply annotating objects isn&#39;t enough; you also have to configure them with [Guice bindings][2].\r\n\r\nHere&#39;s a really simple example (from one of my applications). I have a `MySQLDataTracker` that requires a `MysqlConnectionPoolDataSource`:\r\n\r\n    public class MySQLDataTracker extends ExperimentDataTracker {\r\n        @Inject\r\n        public MySQLDataTracker(MysqlConnectionPoolDataSource ds) {\r\n            ....\r\n        }\r\n    }\r\n\r\nNote that `MySQLDataTracker` extends `ExperimentDataTracker`, an abstract class that can be implemented several ways. In my Guice bindings I declare that\r\n\r\n    bind(ExperimentDataTracker.class).to(MySQLDataTracker.class);\r\n\r\nThis declares that whenever I want an `ExperimentDataTracker`, a `MySQLDataTracker` will be constructed. I also need to make sure that the requisite object for constructing this is available, so I declare a provider:\r\n\r\n\t@Provides @Singleton \r\n\tMysqlConnectionPoolDataSource getMysqlCPDS() {\r\n\t\treturn (some thingy I construct...);\t\t\t\r\n\t}\r\n\r\nThis says that there should only be a single connection pool data source. It also means that when I try to get an instance of `ExperimentDataTracker`, Guice has everything it needs to construct it. If I didn&#39;t have the above, it would throw an error.\r\n\r\n    ExperimentDataTracker tracker = injector.getInstance(ExperimentDataTracker.class);\r\n\r\nHowever, it doesn&#39;t stop here. Other things depend on the `ExperimentDataTracker`, so it&#39;s used in turn to inject other objects. At the top level of my code there is actually only one call to `getInstance`, which makes Guice construct pretty much everything. I don&#39;t have to write the `new` statement anywhere.\r\n\r\nI&#39;m a big fan of Guice after seeing how it reduced the need for me to initialize a bunch of objects in order to initialize other objects. Basically I just ask for the object I want, and poof! it appears.\r\n\r\n\r\n  [1]: http://code.google.com/p/google-guice/\r\n  [2]: http://code.google.com/p/google-guice/wiki/Bindings","title":"Can someone explain what com.google.inject does?","body":"<p>Google <a href=\"http://code.google.com/p/google-guice/\" rel=\"noreferrer\">Guice</a> is a dependency injection library that allows you to construct objects simply by declaring relationships between them. Objects are constructed as they are demanded to construct other objects. You can also implement abstract classes or interfaces with different implementations by configuring Guice, which makes it very useful for running or testing your code.</p>\n\n<p><code>@Inject</code> annotates constructors and methods that determine what an object needs to be initialized. There are also a lot of other annotations that determine how Guice works. But simply annotating objects isn't enough; you also have to configure them with <a href=\"http://code.google.com/p/google-guice/wiki/Bindings\" rel=\"noreferrer\">Guice bindings</a>.</p>\n\n<p>Here's a really simple example (from one of my applications). I have a <code>MySQLDataTracker</code> that requires a <code>MysqlConnectionPoolDataSource</code>:</p>\n\n<pre><code>public class MySQLDataTracker extends ExperimentDataTracker {\n    @Inject\n    public MySQLDataTracker(MysqlConnectionPoolDataSource ds) {\n        ....\n    }\n}\n</code></pre>\n\n<p>Note that <code>MySQLDataTracker</code> extends <code>ExperimentDataTracker</code>, an abstract class that can be implemented several ways. In my Guice bindings I declare that</p>\n\n<pre><code>bind(ExperimentDataTracker.class).to(MySQLDataTracker.class);\n</code></pre>\n\n<p>This declares that whenever I want an <code>ExperimentDataTracker</code>, a <code>MySQLDataTracker</code> will be constructed. I also need to make sure that the requisite object for constructing this is available, so I declare a provider:</p>\n\n<pre><code>@Provides @Singleton \nMysqlConnectionPoolDataSource getMysqlCPDS() {\n    return (some thingy I construct...);            \n}\n</code></pre>\n\n<p>This says that there should only be a single connection pool data source. It also means that when I try to get an instance of <code>ExperimentDataTracker</code>, Guice has everything it needs to construct it. If I didn't have the above, it would throw an error.</p>\n\n<pre><code>ExperimentDataTracker tracker = injector.getInstance(ExperimentDataTracker.class);\n</code></pre>\n\n<p>However, it doesn't stop here. Other things depend on the <code>ExperimentDataTracker</code>, so it's used in turn to inject other objects. At the top level of my code there is actually only one call to <code>getInstance</code>, which makes Guice construct pretty much everything. I don't have to write the <code>new</code> statement anywhere.</p>\n\n<p>I'm a big fan of Guice after seeing how it reduced the need for me to initialize a bunch of objects in order to initialize other objects. Basically I just ask for the object I want, and poof! it appears.</p>\n"}],"owner":{"account_id":1355087,"reputation":22615,"user_id":1293653,"accept_rate":60,"display_name":"One Two Three"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10301,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":15536046,"answer_count":1,"score":11,"last_activity_date":1678405907,"creation_date":1363818177,"question_id":15535955,"body_markdown":"I&#39;ve seen a class declared with its only constructor being annotated with `@Inject`.\r\nAnd I don&#39;t see the one constructor being called anywhere in the entire project.\r\n\r\nSo two questions:\r\n\r\n 1. What does `@Inject` mean? (What does it do? Why is the constructor being annotated with it?)\r\n 2. As mentioned, the constructor never gets called directly, does that have anything to do with the fact that it is annotated with `@Inject`?\r\n","title":"Can someone explain what com.google.inject does?","body":"<p>I've seen a class declared with its only constructor being annotated with <code>@Inject</code>.\nAnd I don't see the one constructor being called anywhere in the entire project.</p>\n<p>So two questions:</p>\n<ol>\n<li>What does <code>@Inject</code> mean? (What does it do? Why is the constructor being annotated with it?)</li>\n<li>As mentioned, the constructor never gets called directly, does that have anything to do with the fact that it is annotated with <code>@Inject</code>?</li>\n</ol>\n"},{"tags":["java","maven-2","maven-3","maven-plugin","maven-shade-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1678822743,"post_id":75691047,"comment_id":133607292,"body_markdown":"First without a full pom file it&#39;s even impossible to make an educated guess.....furthermore using very old version of Maven 3.5.X or 3.6.X ...","body":"First without a full pom file it&#39;s even impossible to make an educated guess.....furthermore using very old version of Maven 3.5.X or 3.6.X ..."}],"owner":{"account_id":27978792,"reputation":1,"user_id":21366953,"display_name":"Nathan Buczkowski"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678405452,"creation_date":1678405452,"question_id":75691047,"body_markdown":"I am running into an issue where when building a java project at work where despite the build showing using a specific dependency version of a package. For this project I am setting up a gRPC client in an existing Java project built with Maven. Since our project was a bit older and didn&#39;t need any new Guava versions we were still at version 18.0, which would build fine but upon trying to start a gRPC client I was getting missing method and class errors. After doing some research it seemed the fix was to update to a newer version of Guava. Now at work we have an approved list of artifacts we can use in a locally housed repository, but luckily there were newer versions already available and I upgraded my version in my pom to 29.0-android which I confirmed had what I needed and some of my other packages already had that version as a dependency too, easy! After successfully building though I was getting the same errors, and I was very confused by it. After spending **a lot** of time trying to figure out what was happening I finally dove into the final shaded jar and pulled out the class in question (com.google.common.base.Preconditions.class) and used the javap decompile command to look at the version and the methods. Turns out this was the same version as the 18.0 Guava which didn&#39;t have what I needed. When I decompiled the Guava jar in my m2 repository that class was the correct version. So why wasn&#39;t this class (or any other from this jar) making it into my shaded jar? Looking through the build logs there is a line:\r\n```\r\n[INFO] Including com.google.guava:guava:jar:29.0-android in the shaded jar\r\n```\r\nOkay, so why isn&#39;t it there then? I did an additional test where I changed the version of the Guava dependency in my pom to version 900, which isn&#39;t real, and doesn&#39;t exist in our artifact repository, upon build I get:\r\n```\r\n[INFO] Including com.google.guava:guava:jar:900 in the shaded jar\r\n```\r\nWhat? That doesn&#39;t make any sense. So if I switch the version back and build with verbose option on when I look through it I find something interesting.\r\n```\r\n[DEBUG] com.google.guava:guava:jar:29.0-android =&gt; null, provided by rh-maven35-guava (18.0)\r\n```\r\nSo under the hood it doesn&#39;t really care about the version I am setting, it is defaulting to a Guava.jar file in my opt/rh/rh-maven35 directory. I also noticed that it is not using the new version of the maven-dependency-plugin I set in my pom either, it is defaulting to version (3.0.0).\r\n\r\nSo the kicker to this whole situation is this, at some point in the past someone not with the company anymore made the decision to use xmvn to build with, which to my knowledge is enhanced-maven. I can&#39;t find a lot of information about what this actually does different than building with just the mvn command. I do know though if I try to build with just mvn and I set the version to something outrageous like 900 I get a build failed with the error of not being able to find that version (which doesn&#39;t exist). The problem is that I am on a team with many other people and we all use xmvn to build, but we really need to know what is actually going into our final production jars. If we set a dependency version it is for a reason and I don&#39;t want a bunch of unknowns going in. I would prefer a build failure rather than Maven just picking its favorite version of a package regardless of its availability.\r\n\r\nIf you have any information on what xmvn is doing and why it is doing that I would greatly appreciate it. My Maven version is 3.5.0 (Red Hat 3.5.0-4.3)\r\n\r\nI did update my Maven to a newer version, I believe it was 3.6.x (I don&#39;t remember the exact version) and it did fix my missing class and method issues, but looking at the verbose build log I saw that once again it chose a version in its rh/rh-maven36 directory instead of the one that I chose, it just happened to be a newer version of Guava that had the functionality I needed.\r\n\r\nI think unless there is something I am missing (which I sincerely hope there is) switching to mvn build instead is going to be the best option for making sure we are getting our specified versions. xmvn seems to already have its transitive dependencies locally though so I would have to get several of the mvn dependencies approved to be put in our local repos.","title":"Maven Shade Plugin ignoring explicitly declared dependency versions","body":"<p>I am running into an issue where when building a java project at work where despite the build showing using a specific dependency version of a package. For this project I am setting up a gRPC client in an existing Java project built with Maven. Since our project was a bit older and didn't need any new Guava versions we were still at version 18.0, which would build fine but upon trying to start a gRPC client I was getting missing method and class errors. After doing some research it seemed the fix was to update to a newer version of Guava. Now at work we have an approved list of artifacts we can use in a locally housed repository, but luckily there were newer versions already available and I upgraded my version in my pom to 29.0-android which I confirmed had what I needed and some of my other packages already had that version as a dependency too, easy! After successfully building though I was getting the same errors, and I was very confused by it. After spending <strong>a lot</strong> of time trying to figure out what was happening I finally dove into the final shaded jar and pulled out the class in question (com.google.common.base.Preconditions.class) and used the javap decompile command to look at the version and the methods. Turns out this was the same version as the 18.0 Guava which didn't have what I needed. When I decompiled the Guava jar in my m2 repository that class was the correct version. So why wasn't this class (or any other from this jar) making it into my shaded jar? Looking through the build logs there is a line:</p>\n<pre><code>[INFO] Including com.google.guava:guava:jar:29.0-android in the shaded jar\n</code></pre>\n<p>Okay, so why isn't it there then? I did an additional test where I changed the version of the Guava dependency in my pom to version 900, which isn't real, and doesn't exist in our artifact repository, upon build I get:</p>\n<pre><code>[INFO] Including com.google.guava:guava:jar:900 in the shaded jar\n</code></pre>\n<p>What? That doesn't make any sense. So if I switch the version back and build with verbose option on when I look through it I find something interesting.</p>\n<pre><code>[DEBUG] com.google.guava:guava:jar:29.0-android =&gt; null, provided by rh-maven35-guava (18.0)\n</code></pre>\n<p>So under the hood it doesn't really care about the version I am setting, it is defaulting to a Guava.jar file in my opt/rh/rh-maven35 directory. I also noticed that it is not using the new version of the maven-dependency-plugin I set in my pom either, it is defaulting to version (3.0.0).</p>\n<p>So the kicker to this whole situation is this, at some point in the past someone not with the company anymore made the decision to use xmvn to build with, which to my knowledge is enhanced-maven. I can't find a lot of information about what this actually does different than building with just the mvn command. I do know though if I try to build with just mvn and I set the version to something outrageous like 900 I get a build failed with the error of not being able to find that version (which doesn't exist). The problem is that I am on a team with many other people and we all use xmvn to build, but we really need to know what is actually going into our final production jars. If we set a dependency version it is for a reason and I don't want a bunch of unknowns going in. I would prefer a build failure rather than Maven just picking its favorite version of a package regardless of its availability.</p>\n<p>If you have any information on what xmvn is doing and why it is doing that I would greatly appreciate it. My Maven version is 3.5.0 (Red Hat 3.5.0-4.3)</p>\n<p>I did update my Maven to a newer version, I believe it was 3.6.x (I don't remember the exact version) and it did fix my missing class and method issues, but looking at the verbose build log I saw that once again it chose a version in its rh/rh-maven36 directory instead of the one that I chose, it just happened to be a newer version of Guava that had the functionality I needed.</p>\n<p>I think unless there is something I am missing (which I sincerely hope there is) switching to mvn build instead is going to be the best option for making sure we are getting our specified versions. xmvn seems to already have its transitive dependencies locally though so I would have to get several of the mvn dependencies approved to be put in our local repos.</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1678403832,"post_id":75690908,"comment_id":133530891,"body_markdown":"Are you using Ultimate or Community Edition?","body":"Are you using Ultimate or Community Edition?"},{"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"score":0,"creation_date":1678403993,"post_id":75690908,"comment_id":133530913,"body_markdown":"Ultimate version @Makoto","body":"Ultimate version @Makoto"}],"answers":[{"tags":[],"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678404711,"creation_date":1678404119,"answer_id":75690950,"question_id":75690908,"body_markdown":"For anything `@Autowired`, they appear in the code gutter which is off to the left of your screen.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n(I don&#39;t autowire fields; I autowire constructors instead.)\r\n\r\nFrom there you can click on the bean and it&#39;ll take you to the definition.\r\n\r\nIf something here isn&#39;t showing up as `@Autowired`, validate your Spring wiring and ensure that the component you&#39;re wiring into is being picked up properly.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PwU8S.png","title":"Java IntelliJ, find the reference bean setup for Autowired","body":"<p>For anything <code>@Autowired</code>, they appear in the code gutter which is off to the left of your screen.</p>\n<p><a href=\"https://i.stack.imgur.com/PwU8S.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PwU8S.png\" alt=\"enter image description here\" /></a></p>\n<p>(I don't autowire fields; I autowire constructors instead.)</p>\n<p>From there you can click on the bean and it'll take you to the definition.</p>\n<p>If something here isn't showing up as <code>@Autowired</code>, validate your Spring wiring and ensure that the component you're wiring into is being picked up properly.</p>\n"}],"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75690950,"answer_count":1,"score":0,"last_activity_date":1678404711,"creation_date":1678403703,"question_id":75690908,"body_markdown":"In IntelliJ, how do I find the reference Bean setup reference file for Autowired? I don&#39;t see the option.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n---\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/az3LZ.png\r\n  [2]: https://i.stack.imgur.com/eIR9y.png","title":"Java IntelliJ, find the reference bean setup for Autowired","body":"<p>In IntelliJ, how do I find the reference Bean setup reference file for Autowired? I don't see the option.</p>\n<p><a href=\"https://i.stack.imgur.com/az3LZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/az3LZ.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p><a href=\"https://i.stack.imgur.com/eIR9y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eIR9y.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","mysql","maven","download","connector"],"comments":[{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1534792182,"post_id":51937048,"comment_id":90824162,"body_markdown":"The message you posted has two suggestions already.","body":"The message you posted has two suggestions already."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1534835053,"post_id":51937048,"comment_id":90836074,"body_markdown":"The first thing is this: `Received fatal alert: protocol_version` which implies you are using JDK 7 and you should read this: https://central.sonatype.org/articles/2018/May/04/discontinued-support-for-tlsv11-and-below/","body":"The first thing is this: <code>Received fatal alert: protocol_version</code> which implies you are using JDK 7 and you should read this: <a href=\"https://central.sonatype.org/articles/2018/May/04/discontinued-support-for-tlsv11-and-below/\" rel=\"nofollow noreferrer\">central.sonatype.org/articles/2018/May/04/&hellip;</a>"},{"owner":{"account_id":11785540,"reputation":19,"user_id":8623438,"display_name":"Krish"},"score":0,"creation_date":1536046926,"post_id":51937048,"comment_id":91271944,"body_markdown":"Thanks..@khmarbaise I have changed to JDK-1.8.","body":"Thanks..@khmarbaise I have changed to JDK-1.8."}],"answers":[{"tags":[],"owner":{"account_id":5438980,"reputation":1,"user_id":4327551,"display_name":"rahul kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535991458,"creation_date":1535991458,"answer_id":52153360,"question_id":51937048,"body_markdown":"Use this way in maven : \r\n \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        &lt;version&gt;8.0.12&lt;/version&gt; \r\n    &lt;/dependency&gt;\r\n\r\n","title":"maven not able to download mysql connector 8.0.12 from central","body":"<p>Use this way in maven : </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;8.0.12&lt;/version&gt; \n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14067842,"reputation":418,"user_id":10162178,"display_name":"Pallav Kabra"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1535995518,"creation_date":1535993454,"answer_id":52153748,"question_id":51937048,"body_markdown":"`Solution 1:` Try `mvn clean install` in console.\n\n`Solution 2:` It might happen because of the firewall on your computer. Turn off the firewall and try it again.&#160;\n\n`Solution 3:` Check if your `pom.xml` has similar dependency.\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;8.0.12&lt;/version&gt;\n    &lt;/dependency&gt;\n\n","title":"maven not able to download mysql connector 8.0.12 from central","body":"<p><code>Solution 1:</code> Try <code>mvn clean install</code> in console.</p>\n\n<p><code>Solution 2:</code> It might happen because of the firewall on your computer. Turn off the firewall and try it again. </p>\n\n<p><code>Solution 3:</code> Check if your <code>pom.xml</code> has similar dependency.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;8.0.12&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3017894,"reputation":51,"user_id":2559534,"display_name":"Helias Karagozidis"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621329325,"creation_date":1621329325,"answer_id":67583307,"question_id":51937048,"body_markdown":"If you are using intelliJ idea there is also an other option:\r\n\r\nIn the Maven tool window, click The Toggle Offline Mode button.\r\n\r\nThis will append the --offline option to all Maven commands that IntelliJ IDEA runs. It will also report any items that cannot be found in the local repository.\r\n\r\nOr in Maven settings.xml:\r\n\r\n    &lt;offline&gt;false&lt;/offline&gt;\r\n\r\n[![enter image description here][1]][1] \r\n\r\n  [1]: https://i.stack.imgur.com/4uXrB.jpg","title":"maven not able to download mysql connector 8.0.12 from central","body":"<p>If you are using intelliJ idea there is also an other option:</p>\n<p>In the Maven tool window, click The Toggle Offline Mode button.</p>\n<p>This will append the --offline option to all Maven commands that IntelliJ IDEA runs. It will also report any items that cannot be found in the local repository.</p>\n<p>Or in Maven settings.xml:</p>\n<pre><code>&lt;offline&gt;false&lt;/offline&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/4uXrB.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4uXrB.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":219747,"reputation":2950,"user_id":476817,"accept_rate":85,"display_name":"DagR"},"score":0,"creation_date":1678386518,"post_id":75683015,"comment_id":133527098,"body_markdown":"Please improve this answer by adding some context. How does this dependency differ from the one in the accepted answer? What version is it?","body":"Please improve this answer by adding some context. How does this dependency differ from the one in the accepted answer? What version is it?"},{"owner":{"account_id":2627295,"reputation":76,"user_id":2274199,"display_name":"John Paul Moore"},"score":0,"creation_date":1694696979,"post_id":75683015,"comment_id":135927420,"body_markdown":"The artifact has moved the question has mysql:mysql-connector-java. This answer is the new naming / repo com.mysql:mysql-connector-j","body":"The artifact has moved the question has mysql:mysql-connector-java. This answer is the new naming / repo com.mysql:mysql-connector-j"}],"tags":[],"owner":{"account_id":2197877,"reputation":521,"user_id":1943098,"accept_rate":33,"display_name":"Sobinscott"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678404647,"creation_date":1678356046,"answer_id":75683015,"question_id":51937048,"body_markdown":"```js\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n  &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n  &lt;scope&gt;runtime&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n````","title":"maven not able to download mysql connector 8.0.12 from central","body":"<pre class=\"lang-js prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n  &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n  &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":11785540,"reputation":19,"user_id":8623438,"display_name":"Krish"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22934,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":52153748,"answer_count":4,"score":1,"last_activity_date":1678404647,"creation_date":1534791999,"question_id":51937048,"body_markdown":"Maven is not able to download mysql connector 8.0.12 from central, showing the below error:\r\n\r\n-----------------------------------\r\n\r\n    Downloading: https://repo.maven.apache.org/maven2/mysql/mysql-connector- \r\n    java/8.0.12/mysql-connector-java-8.0.12.pom\r\n    [INFO] ---------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ---------------------------------------------------------------------\r\n    [INFO] Total time: 3.642 s\r\n    [INFO] Finished at: 2018-08-21T00:22:03+05:30\r\n    [INFO] Final Memory: 10M/113M\r\n    [INFO] ---------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal on project OneSolution: Could not resolve \r\n    dependencies for project OneSolution:OneSolution:jar:1.1.1: Failed to \r\n    collect dependencies at mysql:mysql-connector-java:jar:8.0.12: Failed to \r\n    read artifact descriptor for mysql:mysql-connector-java:jar:8.0.12: Could \r\n    not transfer artifact mysql:mysql-connector-java:pom:8.0.12 from/to central \r\n    (https://repo.maven.apache.org/maven2): Received fatal alert: \r\n    protocol_version -&gt; [Help 1]\r\n    [ERROR]\r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e \r\n    switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n\r\n---------------------------------\r\n\r\n\r\nany help is appreciated, not getting enough suggestion online, trying here.","title":"maven not able to download mysql connector 8.0.12 from central","body":"<p>Maven is not able to download mysql connector 8.0.12 from central, showing the below error:</p>\n\n<hr>\n\n<pre><code>Downloading: https://repo.maven.apache.org/maven2/mysql/mysql-connector- \njava/8.0.12/mysql-connector-java-8.0.12.pom\n[INFO] ---------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ---------------------------------------------------------------------\n[INFO] Total time: 3.642 s\n[INFO] Finished at: 2018-08-21T00:22:03+05:30\n[INFO] Final Memory: 10M/113M\n[INFO] ---------------------------------------------------------------------\n[ERROR] Failed to execute goal on project OneSolution: Could not resolve \ndependencies for project OneSolution:OneSolution:jar:1.1.1: Failed to \ncollect dependencies at mysql:mysql-connector-java:jar:8.0.12: Failed to \nread artifact descriptor for mysql:mysql-connector-java:jar:8.0.12: Could \nnot transfer artifact mysql:mysql-connector-java:pom:8.0.12 from/to central \n(https://repo.maven.apache.org/maven2): Received fatal alert: \nprotocol_version -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e \nswitch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n</code></pre>\n\n<hr>\n\n<p>any help is appreciated, not getting enough suggestion online, trying here.</p>\n"},{"tags":["java","list","deep-copy"],"answers":[{"comments":[{"owner":{"account_id":15175772,"reputation":183,"user_id":10950559,"display_name":"momodjib"},"score":0,"creation_date":1678402151,"post_id":75688175,"comment_id":133530644,"body_markdown":"Thanks a lot. I&#39;m having trouble understanding in detail what the splitAllTrades method does. I tried running in debug to have better understanding but I have an error saying cannot resolve methd toList in Stream. Do you mind rewriting that part without the lambda expression please ?","body":"Thanks a lot. I&#39;m having trouble understanding in detail what the splitAllTrades method does. I tried running in debug to have better understanding but I have an error saying cannot resolve methd toList in Stream. Do you mind rewriting that part without the lambda expression please ?"},{"owner":{"account_id":191798,"reputation":13419,"user_id":432589,"accept_rate":50,"display_name":"Jcs"},"score":0,"creation_date":1678403491,"post_id":75688175,"comment_id":133530852,"body_markdown":"@momodjib Stream.toList is Java 16 and upper. I added a version without the lambda syntax, with a plain old for loop","body":"@momodjib Stream.toList is Java 16 and upper. I added a version without the lambda syntax, with a plain old for loop"},{"owner":{"account_id":15175772,"reputation":183,"user_id":10950559,"display_name":"momodjib"},"score":0,"creation_date":1678406446,"post_id":75688175,"comment_id":133531276,"body_markdown":"Ah that&#39;s why, I&#39;m required to use java 8 for this task so I couldn&#39;t change for a newer version. Awesome thank you very much. It&#39;s 100% clear ! I&#39;ll try implementing this tonight.","body":"Ah that&#39;s why, I&#39;m required to use java 8 for this task so I couldn&#39;t change for a newer version. Awesome thank you very much. It&#39;s 100% clear ! I&#39;ll try implementing this tonight."}],"tags":[],"owner":{"account_id":191798,"reputation":13419,"user_id":432589,"accept_rate":50,"display_name":"Jcs"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678403443,"creation_date":1678383419,"answer_id":75688175,"question_id":75687798,"body_markdown":"in OOP it is recommended to keep objects immutable because immutable objects are inherently thread-safe, easier to debug (you can share the object reference without worrying about unexpected or unauthorized changes), etc.\r\n\r\nIn your case I would create a function `splitTrade` that would take a trade of any `amount` and return a list of trade where each `amount` is less than `maxAmount`.\r\n\r\nHere is some pseudo java code:\r\n\r\n```java\r\nprivate List&lt;Trade&gt; splitTrade(Trade trade, List&lt;Trade&gt; acc) {\r\n  if (trade.getAmount() &gt; Trade.MAX_AMOUNT) {\r\n    Trade trade1 = new Trade(Trade.MAX_AMOUNT, trade.getDescription(), trade.getDate());\r\n    Trade trade2 = new Trade(trade.getAmount() - Trade.MAX_AMOUNT, trade.getDescription(), trade.getDate());\r\n    acc.add(trade1);\r\n    return splitTrade(trade2, acc);\r\n  } else {\r\n    acc.add(trade);\r\n    return acc;\r\n  }\r\n}\r\n\r\npublic List&lt;Trade&gt; splitAllTrades(List&lt;Trade&gt; listToSend) {\r\n  return listToSend.stream().flatMap((t) -&gt; splitTrade(t, new ArrayList&lt;Trade&gt;()).stream().toList();\r\n}\r\n```\r\n\r\nwithout the lambda syntax:\r\n\r\n```java\r\npublic List&lt;Trade&gt; splitAllTrades(List&lt;Trade&gt; listToSend) {\r\n  List&lt;Trade&gt; validTrades = new ArrayList&lt;&gt;();\r\n  for (Trade trade: listToSend) {    \r\n    validTrades.addAll(splitTrade(trade, new ArrayList&lt;Trade&gt;()));\r\n  }\r\n  return validTrades;\r\n}\r\n```","title":"Deep Copy of List element and recursion - java","body":"<p>in OOP it is recommended to keep objects immutable because immutable objects are inherently thread-safe, easier to debug (you can share the object reference without worrying about unexpected or unauthorized changes), etc.</p>\n<p>In your case I would create a function <code>splitTrade</code> that would take a trade of any <code>amount</code> and return a list of trade where each <code>amount</code> is less than <code>maxAmount</code>.</p>\n<p>Here is some pseudo java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private List&lt;Trade&gt; splitTrade(Trade trade, List&lt;Trade&gt; acc) {\n  if (trade.getAmount() &gt; Trade.MAX_AMOUNT) {\n    Trade trade1 = new Trade(Trade.MAX_AMOUNT, trade.getDescription(), trade.getDate());\n    Trade trade2 = new Trade(trade.getAmount() - Trade.MAX_AMOUNT, trade.getDescription(), trade.getDate());\n    acc.add(trade1);\n    return splitTrade(trade2, acc);\n  } else {\n    acc.add(trade);\n    return acc;\n  }\n}\n\npublic List&lt;Trade&gt; splitAllTrades(List&lt;Trade&gt; listToSend) {\n  return listToSend.stream().flatMap((t) -&gt; splitTrade(t, new ArrayList&lt;Trade&gt;()).stream().toList();\n}\n</code></pre>\n<p>without the lambda syntax:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;Trade&gt; splitAllTrades(List&lt;Trade&gt; listToSend) {\n  List&lt;Trade&gt; validTrades = new ArrayList&lt;&gt;();\n  for (Trade trade: listToSend) {    \n    validTrades.addAll(splitTrade(trade, new ArrayList&lt;Trade&gt;()));\n  }\n  return validTrades;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678404185,"creation_date":1678404185,"answer_id":75690952,"question_id":75687798,"body_markdown":"A potential solution would be to have a method inside `Trade` that generates a stream of trades that satisfy the criteria:\r\n\r\n    public class Trade {\r\n        ...\r\n        public Stream&lt;Trade&gt; streamLegalTrades() {\r\n            if (amount &lt; maxAmount)\r\n                return Stream.of(this);\r\n\r\n            Trade halfTrade = new Trade(amount / 2, ...);\r\n            return Stream.of(halfTrade, halfTrade)\r\n                .flatMap(Trade::streamLegalTrades);\r\n        }\r\n    }\r\n\r\nIf you&#39;re not familiar with streams then that statement might be a bit confusing. But it essentially produces 2 new trades and then produces a stream of legal trades for each of those.\r\n\r\nThis then makes it trivial to convert your list of trades:\r\n\r\n    tradeList.stream().flatMap(Trade::streamLegalTrades).toList();\r\n\r\n","title":"Deep Copy of List element and recursion - java","body":"<p>A potential solution would be to have a method inside <code>Trade</code> that generates a stream of trades that satisfy the criteria:</p>\n<pre><code>public class Trade {\n    ...\n    public Stream&lt;Trade&gt; streamLegalTrades() {\n        if (amount &lt; maxAmount)\n            return Stream.of(this);\n\n        Trade halfTrade = new Trade(amount / 2, ...);\n        return Stream.of(halfTrade, halfTrade)\n            .flatMap(Trade::streamLegalTrades);\n    }\n}\n</code></pre>\n<p>If you're not familiar with streams then that statement might be a bit confusing. But it essentially produces 2 new trades and then produces a stream of legal trades for each of those.</p>\n<p>This then makes it trivial to convert your list of trades:</p>\n<pre><code>tradeList.stream().flatMap(Trade::streamLegalTrades).toList();\n</code></pre>\n"}],"owner":{"account_id":15175772,"reputation":183,"user_id":10950559,"display_name":"momodjib"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75688175,"answer_count":2,"score":0,"last_activity_date":1678404185,"creation_date":1678381449,"question_id":75687798,"body_markdown":"I have a `Trade` class with 3 parameters (`amount`, `description`, `date`). The `amount` of each trade cannot be greater than `maxAmount`.\r\n\r\nI have many trades saved in a `ListToSend`, and some of the amounts exceed the `maxAmount` limit, so I need to split those trades into multiple trades before sending the list.\r\n\r\nI thought about working with two lists, my original `ListToSend` and a `tradesToSplit` list. \r\nBasically I want to: \r\n\r\n1. Move each `splitableTrade` from `ListToSend` to `tradesToSplit`. \r\n2. Then I want to loop over `tradesToSplit` and for every trade in there :\r\n      * I call a `recursiveMethod` that is going to divide the amount by 2 and:\r\n        * if `amount/2` is not greater than `maxAmount` :\r\n          * Then I create a `newTrade`, which is essentially a deep copy of the initial trade, and I set the `newTrade` amount to be `originalAmount/2`.\r\n          * if not, I keep dividing the amount by calling `recursiveMethod` \r\n\r\nBut I&#39;m stuck here as I have no idea how to edit the original trade after many iteration of `recursiveMethod`.\r\n\r\n\r\nIs there a better way to achieve what I&#39;m trying to do ? ","title":"Deep Copy of List element and recursion - java","body":"<p>I have a <code>Trade</code> class with 3 parameters (<code>amount</code>, <code>description</code>, <code>date</code>). The <code>amount</code> of each trade cannot be greater than <code>maxAmount</code>.</p>\n<p>I have many trades saved in a <code>ListToSend</code>, and some of the amounts exceed the <code>maxAmount</code> limit, so I need to split those trades into multiple trades before sending the list.</p>\n<p>I thought about working with two lists, my original <code>ListToSend</code> and a <code>tradesToSplit</code> list.\nBasically I want to:</p>\n<ol>\n<li>Move each <code>splitableTrade</code> from <code>ListToSend</code> to <code>tradesToSplit</code>.</li>\n<li>Then I want to loop over <code>tradesToSplit</code> and for every trade in there :\n<ul>\n<li>I call a <code>recursiveMethod</code> that is going to divide the amount by 2 and:\n<ul>\n<li>if <code>amount/2</code> is not greater than <code>maxAmount</code> :\n<ul>\n<li>Then I create a <code>newTrade</code>, which is essentially a deep copy of the initial trade, and I set the <code>newTrade</code> amount to be <code>originalAmount/2</code>.</li>\n<li>if not, I keep dividing the amount by calling <code>recursiveMethod</code></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ol>\n<p>But I'm stuck here as I have no idea how to edit the original trade after many iteration of <code>recursiveMethod</code>.</p>\n<p>Is there a better way to achieve what I'm trying to do ?</p>\n"},{"tags":["java","minecraft","minecraft-forge"],"comments":[{"owner":{"account_id":20782878,"reputation":893,"user_id":15982771,"display_name":"Blue Robin"},"score":0,"creation_date":1678312325,"post_id":75678326,"comment_id":133510476,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":27864418,"reputation":15,"user_id":21276226,"display_name":"Intermaker"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678403242,"creation_date":1678313631,"answer_id":75678718,"question_id":75678326,"body_markdown":"So you are trying to render a transparent block. the problem might be in the json file.\r\n\r\nI use mcreator for my mods and i found this in this directory: models/block/artifact_block.json:\r\n\r\n    {\r\n       &quot;parent&quot;: &quot;cosmicages:block/artifact_block&quot;,\r\n       &quot;textures&quot;: {\r\n           &quot;all&quot;: &quot;cosmicages:block/artifact_block&quot;,\r\n           &quot;particle&quot;: &quot;cosmicages:block/artifact_block&quot;\r\n       },\r\n       &quot;render_type&quot;: &quot;solid&quot;\r\n    }\r\n\r\ni found something called render type. I went in the transparency type and here are all the possible options:\r\n\r\n - &quot;solid&quot; - Instead of transparency it&#39;s black in the transparent spots\r\n - &quot;cutout&quot; - normal non opaque rendering with alpha check\r\n - &quot;cutout_mipped&quot; - the same thing as cutout + a minimap is generated \r\n for better graphic on big distances\r\n - &quot;translucent&quot; - fully transparent\r\n\r\nall of those options was according to my research on the internet and don&#39;t know if it&#39;s accurate","title":"java minecraft texture with modded block not working","body":"<p>So you are trying to render a transparent block. the problem might be in the json file.</p>\n<p>I use mcreator for my mods and i found this in this directory: models/block/artifact_block.json:</p>\n<pre><code>{\n   &quot;parent&quot;: &quot;cosmicages:block/artifact_block&quot;,\n   &quot;textures&quot;: {\n       &quot;all&quot;: &quot;cosmicages:block/artifact_block&quot;,\n       &quot;particle&quot;: &quot;cosmicages:block/artifact_block&quot;\n   },\n   &quot;render_type&quot;: &quot;solid&quot;\n}\n</code></pre>\n<p>i found something called render type. I went in the transparency type and here are all the possible options:</p>\n<ul>\n<li>&quot;solid&quot; - Instead of transparency it's black in the transparent spots</li>\n<li>&quot;cutout&quot; - normal non opaque rendering with alpha check</li>\n<li>&quot;cutout_mipped&quot; - the same thing as cutout + a minimap is generated\nfor better graphic on big distances</li>\n<li>&quot;translucent&quot; - fully transparent</li>\n</ul>\n<p>all of those options was according to my research on the internet and don't know if it's accurate</p>\n"}],"owner":{"account_id":27546773,"reputation":1,"user_id":21022580,"display_name":"Q Zijlstra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":329,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678403242,"creation_date":1678310296,"question_id":75678326,"body_markdown":"I decided to start learning java and make a minecraft mod. I tried to make an modded block with holes and extensions  but when I try to start minecraft it says that there is something wrong with the texture.\r\n\r\nterminal error:\r\nCowardly refusing to send event net.minecraftforge.client.event.TextureStitchEvent$Post to a broken mod state java\r\n\r\nMinecraft error:\r\nmods.toml missing metadata for modid forge\r\n\r\n\r\nthis is my code from my core &quot;Cosmicages.java&quot;:\r\n```\r\npackage quintoniusvlint.cosmicages;\r\n\r\nimport com.mojang.logging.LogUtils;\r\nimport net.minecraft.world.level.block.Block;\r\nimport net.minecraft.world.level.block.Blocks;\r\nimport net.minecraftforge.common.MinecraftForge;\r\nimport net.minecraftforge.event.RegistryEvent;\r\nimport net.minecraftforge.eventbus.api.IEventBus;\r\nimport net.minecraftforge.eventbus.api.SubscribeEvent;\r\nimport net.minecraftforge.fml.InterModComms;\r\nimport net.minecraftforge.fml.common.Mod;\r\nimport net.minecraftforge.fml.event.lifecycle.FMLCommonSetupEvent;\r\nimport net.minecraftforge.fml.event.lifecycle.InterModEnqueueEvent;\r\nimport net.minecraftforge.fml.event.lifecycle.InterModProcessEvent;\r\nimport net.minecraftforge.event.server.ServerStartingEvent;\r\nimport net.minecraftforge.fml.javafmlmod.FMLJavaModLoadingContext;\r\nimport org.slf4j.Logger;\r\nimport quintoniusvlint.cosmicages.core.ModBlocks;\r\nimport quintoniusvlint.cosmicages.core.ModItems;\r\n\r\nimport java.util.stream.Collectors;\r\n\r\nimport static net.minecraftforge.versions.forge.ForgeVersion.MOD_ID;\r\n\r\n// The value here should match an entry in the META-INF/mods.toml file\r\n@Mod(MOD_ID)\r\npublic class Cosmicages {\r\n\r\n    // Directly reference a slf4j logger\r\n    public static final String MOD_ID = &quot;cosmicages&quot;;\r\n    private static final Logger LOGGER = LogUtils.getLogger();\r\n\r\n    public Cosmicages() {\r\n        IEventBus bus = FMLJavaModLoadingContext.get().getModEventBus();\r\n        bus.addListener(this::setup);\r\n        bus.addListener(this::enqueueIMC);\r\n        bus.addListener(this::processIMC);\r\n        ModBlocks.BLOCKS.register(bus);\r\n        ModItems.ITEMS.register(bus);\r\n        MinecraftForge.EVENT_BUS.register(this);\r\n    }\r\n\r\n    private void setup(final FMLCommonSetupEvent event) {\r\n        // Some preinit code\r\n        LOGGER.info(&quot;HELLO FROM PREINIT&quot;);\r\n        LOGGER.info(&quot;DIRT BLOCK &gt;&gt; {}&quot;, Blocks.DIRT.getRegistryName());\r\n    }\r\n\r\n    private void enqueueIMC(final InterModEnqueueEvent event) {\r\n        // Some example code to dispatch IMC to another mod\r\n        InterModComms.sendTo(&quot;cosmicages&quot;, &quot;helloworld&quot;, () -&gt; {\r\n            LOGGER.info(&quot;Hello world from the MDK&quot;);\r\n            return &quot;Hello world&quot;;\r\n        });\r\n    }\r\n\r\n    private void processIMC(final InterModProcessEvent event) {\r\n        // Some example code to receive and process InterModComms from other mods\r\n        LOGGER.info(&quot;Got IMC {}&quot;, event.getIMCStream().\r\n                map(m -&gt; m.messageSupplier().get()).\r\n                collect(Collectors.toList()));\r\n    }\r\n\r\n    // You can use SubscribeEvent and let the Event Bus discover methods to call\r\n    @SubscribeEvent\r\n    public void onServerStarting(ServerStartingEvent event) {\r\n        // Do something when the server starts\r\n        LOGGER.info(&quot;HELLO from server starting&quot;);\r\n    }\r\n\r\n    // You can use EventBusSubscriber to automatically subscribe events on the contained class (this is subscribing to the MOD\r\n    // Event bus for receiving Registry Events)\r\n    @Mod.EventBusSubscriber(bus = Mod.EventBusSubscriber.Bus.MOD)\r\n    public static class RegistryEvents {\r\n        @SubscribeEvent\r\n        public static void onBlocksRegistry(final RegistryEvent.Register&lt;Block&gt; blockRegistryEvent) {\r\n            // Register a new block here\r\n            LOGGER.info(&quot;HELLO from Register Block&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nthis is my code from my core &quot;ModBlocks&quot;:\r\n```\r\npackage quintoniusvlint.cosmicages.core;\r\n\r\nimport net.minecraft.world.level.block.Block;\r\nimport net.minecraft.world.level.block.state.BlockBehaviour;\r\nimport net.minecraft.world.level.material.Material;\r\nimport net.minecraftforge.registries.DeferredRegister;\r\nimport net.minecraftforge.registries.ForgeRegistries;\r\nimport net.minecraftforge.registries.RegistryObject;\r\nimport quintoniusvlint.cosmicages.Cosmicages;\r\n\r\npublic class ModBlocks {\r\n\r\n    public static final DeferredRegister&lt;Block&gt; BLOCKS = DeferredRegister.create(ForgeRegistries.BLOCKS, Cosmicages.MOD_ID);\r\n\r\n    public static final RegistryObject&lt;Block&gt; ARTIFACT_BLOCK = BLOCKS.register(&quot;artifact_block&quot;, () -&gt; new Block(BlockBehaviour.Properties.of(Material.STONE)));\r\n}\r\n\r\n```\r\nthis is my code from my core &quot;ModItems&quot;:\r\n```\r\npackage quintoniusvlint.cosmicages.core;\r\n\r\nimport net.minecraft.world.item.BlockItem;\r\nimport net.minecraft.world.item.CreativeModeTab;\r\nimport net.minecraft.world.item.Item;\r\nimport net.minecraftforge.registries.DeferredRegister;\r\nimport net.minecraftforge.registries.ForgeRegistries;\r\nimport net.minecraftforge.registries.RegistryObject;\r\nimport quintoniusvlint.cosmicages.Cosmicages;\r\n\r\npublic class ModItems {\r\n    public static final DeferredRegister&lt;Item&gt; ITEMS = DeferredRegister.create(ForgeRegistries.ITEMS, Cosmicages.MOD_ID);\r\n\r\n    public static final RegistryObject&lt;Item&gt; ARTIFACT_BLOCK = ITEMS.register(&quot;ARTIFACT_BLOCK&quot;, () -&gt; new BlockItem(ModBlocks.ARTIFACT_BLOCK.get(), new Item.Properties().tab(CreativeModeTab.TAB_BUILDING_BLOCKS)));\r\n}\r\n\r\n```\r\nthis is my code from my &quot;blockstates/artifact_block.json&quot;:\r\n```\r\n{\r\n\t&quot;variants&quot;: {\r\n\t\t&quot;&quot;: {&quot;model&quot;: &quot;cosmicages:block/artifact_block&quot;}\r\n\t},\r\n\t&quot;credit&quot;: &quot;Made with Blockbench&quot;,\r\n\t&quot;parent&quot;: &quot;ArtifactActivationBlock&quot;,\r\n\t&quot;texture_size&quot;: [128, 128],\r\n\t&quot;textures&quot;: {\r\n\t\t&quot;0&quot;: &quot;block/ texture&quot;\r\n\t},\r\n\t&quot;elements&quot;: [\r\n\t\t{\r\n{\r\n\t&quot;variants&quot;: {\r\n\t\t&quot;&quot;: {&quot;model&quot;: &quot;cosmicages:block/artifact_block&quot;}\r\n\t},\r\n\t&quot;credit&quot;: &quot;Made with Blockbench&quot;,\r\n\t&quot;parent&quot;: &quot;ArtifactActivationBlock&quot;,\r\n\t&quot;texture_size&quot;: [128, 128],\r\n\t&quot;textures&quot;: {\r\n\t\t&quot;0&quot;: &quot;block/ texture&quot;\r\n\t},\r\n\t&quot;elements&quot;: [\r\n\t\t{\r\n\t\t\t//and then we have the position of the block etc\r\n```\r\nthis is my code from my &quot;models/block/artifact_block.json&quot;:\r\n\r\n```\r\n{\r\n\t&quot;credit&quot;: &quot;Made with Blockbench&quot;,\r\n\t&quot;parent&quot;: &quot;block/cube_all&quot;,\r\n\t&quot;texture_size&quot;: [128, 128],\r\n\t&quot;textures&quot;: {\r\n\t\t&quot;all&quot;: &quot;cosmicages:block/artifact_block&quot;\r\n\t},\r\n\t&quot;elements&quot;: [\r\n\t\t{\r\n\t\t\t//and then we have the position of the block etc\r\n```\r\nthis is my code from my &quot;models/item/artifact_block.json&quot;:\r\n\r\n```\r\n{\r\n\t&quot;credit&quot;: &quot;Made with Blockbench&quot;,\r\n\t&quot;parent&quot;: &quot;cosmicages:block/artifact_block&quot;,\r\n\t&quot;texture_size&quot;: [128, 128],\r\n\t&quot;textures&quot;: {\r\n\t\t&quot;0&quot;: &quot;block/texture&quot;\r\n\t},\r\n\t&quot;elements&quot;: [\r\n\t\t{\r\n\t\t\t//and then we have the position of the block etc\r\n```\r\n","title":"java minecraft texture with modded block not working","body":"<p>I decided to start learning java and make a minecraft mod. I tried to make an modded block with holes and extensions  but when I try to start minecraft it says that there is something wrong with the texture.</p>\n<p>terminal error:\nCowardly refusing to send event net.minecraftforge.client.event.TextureStitchEvent$Post to a broken mod state java</p>\n<p>Minecraft error:\nmods.toml missing metadata for modid forge</p>\n<p>this is my code from my core &quot;Cosmicages.java&quot;:</p>\n<pre><code>package quintoniusvlint.cosmicages;\n\nimport com.mojang.logging.LogUtils;\nimport net.minecraft.world.level.block.Block;\nimport net.minecraft.world.level.block.Blocks;\nimport net.minecraftforge.common.MinecraftForge;\nimport net.minecraftforge.event.RegistryEvent;\nimport net.minecraftforge.eventbus.api.IEventBus;\nimport net.minecraftforge.eventbus.api.SubscribeEvent;\nimport net.minecraftforge.fml.InterModComms;\nimport net.minecraftforge.fml.common.Mod;\nimport net.minecraftforge.fml.event.lifecycle.FMLCommonSetupEvent;\nimport net.minecraftforge.fml.event.lifecycle.InterModEnqueueEvent;\nimport net.minecraftforge.fml.event.lifecycle.InterModProcessEvent;\nimport net.minecraftforge.event.server.ServerStartingEvent;\nimport net.minecraftforge.fml.javafmlmod.FMLJavaModLoadingContext;\nimport org.slf4j.Logger;\nimport quintoniusvlint.cosmicages.core.ModBlocks;\nimport quintoniusvlint.cosmicages.core.ModItems;\n\nimport java.util.stream.Collectors;\n\nimport static net.minecraftforge.versions.forge.ForgeVersion.MOD_ID;\n\n// The value here should match an entry in the META-INF/mods.toml file\n@Mod(MOD_ID)\npublic class Cosmicages {\n\n    // Directly reference a slf4j logger\n    public static final String MOD_ID = &quot;cosmicages&quot;;\n    private static final Logger LOGGER = LogUtils.getLogger();\n\n    public Cosmicages() {\n        IEventBus bus = FMLJavaModLoadingContext.get().getModEventBus();\n        bus.addListener(this::setup);\n        bus.addListener(this::enqueueIMC);\n        bus.addListener(this::processIMC);\n        ModBlocks.BLOCKS.register(bus);\n        ModItems.ITEMS.register(bus);\n        MinecraftForge.EVENT_BUS.register(this);\n    }\n\n    private void setup(final FMLCommonSetupEvent event) {\n        // Some preinit code\n        LOGGER.info(&quot;HELLO FROM PREINIT&quot;);\n        LOGGER.info(&quot;DIRT BLOCK &gt;&gt; {}&quot;, Blocks.DIRT.getRegistryName());\n    }\n\n    private void enqueueIMC(final InterModEnqueueEvent event) {\n        // Some example code to dispatch IMC to another mod\n        InterModComms.sendTo(&quot;cosmicages&quot;, &quot;helloworld&quot;, () -&gt; {\n            LOGGER.info(&quot;Hello world from the MDK&quot;);\n            return &quot;Hello world&quot;;\n        });\n    }\n\n    private void processIMC(final InterModProcessEvent event) {\n        // Some example code to receive and process InterModComms from other mods\n        LOGGER.info(&quot;Got IMC {}&quot;, event.getIMCStream().\n                map(m -&gt; m.messageSupplier().get()).\n                collect(Collectors.toList()));\n    }\n\n    // You can use SubscribeEvent and let the Event Bus discover methods to call\n    @SubscribeEvent\n    public void onServerStarting(ServerStartingEvent event) {\n        // Do something when the server starts\n        LOGGER.info(&quot;HELLO from server starting&quot;);\n    }\n\n    // You can use EventBusSubscriber to automatically subscribe events on the contained class (this is subscribing to the MOD\n    // Event bus for receiving Registry Events)\n    @Mod.EventBusSubscriber(bus = Mod.EventBusSubscriber.Bus.MOD)\n    public static class RegistryEvents {\n        @SubscribeEvent\n        public static void onBlocksRegistry(final RegistryEvent.Register&lt;Block&gt; blockRegistryEvent) {\n            // Register a new block here\n            LOGGER.info(&quot;HELLO from Register Block&quot;);\n        }\n    }\n}\n</code></pre>\n<p>this is my code from my core &quot;ModBlocks&quot;:</p>\n<pre><code>package quintoniusvlint.cosmicages.core;\n\nimport net.minecraft.world.level.block.Block;\nimport net.minecraft.world.level.block.state.BlockBehaviour;\nimport net.minecraft.world.level.material.Material;\nimport net.minecraftforge.registries.DeferredRegister;\nimport net.minecraftforge.registries.ForgeRegistries;\nimport net.minecraftforge.registries.RegistryObject;\nimport quintoniusvlint.cosmicages.Cosmicages;\n\npublic class ModBlocks {\n\n    public static final DeferredRegister&lt;Block&gt; BLOCKS = DeferredRegister.create(ForgeRegistries.BLOCKS, Cosmicages.MOD_ID);\n\n    public static final RegistryObject&lt;Block&gt; ARTIFACT_BLOCK = BLOCKS.register(&quot;artifact_block&quot;, () -&gt; new Block(BlockBehaviour.Properties.of(Material.STONE)));\n}\n\n</code></pre>\n<p>this is my code from my core &quot;ModItems&quot;:</p>\n<pre><code>package quintoniusvlint.cosmicages.core;\n\nimport net.minecraft.world.item.BlockItem;\nimport net.minecraft.world.item.CreativeModeTab;\nimport net.minecraft.world.item.Item;\nimport net.minecraftforge.registries.DeferredRegister;\nimport net.minecraftforge.registries.ForgeRegistries;\nimport net.minecraftforge.registries.RegistryObject;\nimport quintoniusvlint.cosmicages.Cosmicages;\n\npublic class ModItems {\n    public static final DeferredRegister&lt;Item&gt; ITEMS = DeferredRegister.create(ForgeRegistries.ITEMS, Cosmicages.MOD_ID);\n\n    public static final RegistryObject&lt;Item&gt; ARTIFACT_BLOCK = ITEMS.register(&quot;ARTIFACT_BLOCK&quot;, () -&gt; new BlockItem(ModBlocks.ARTIFACT_BLOCK.get(), new Item.Properties().tab(CreativeModeTab.TAB_BUILDING_BLOCKS)));\n}\n\n</code></pre>\n<p>this is my code from my &quot;blockstates/artifact_block.json&quot;:</p>\n<pre><code>{\n    &quot;variants&quot;: {\n        &quot;&quot;: {&quot;model&quot;: &quot;cosmicages:block/artifact_block&quot;}\n    },\n    &quot;credit&quot;: &quot;Made with Blockbench&quot;,\n    &quot;parent&quot;: &quot;ArtifactActivationBlock&quot;,\n    &quot;texture_size&quot;: [128, 128],\n    &quot;textures&quot;: {\n        &quot;0&quot;: &quot;block/ texture&quot;\n    },\n    &quot;elements&quot;: [\n        {\n{\n    &quot;variants&quot;: {\n        &quot;&quot;: {&quot;model&quot;: &quot;cosmicages:block/artifact_block&quot;}\n    },\n    &quot;credit&quot;: &quot;Made with Blockbench&quot;,\n    &quot;parent&quot;: &quot;ArtifactActivationBlock&quot;,\n    &quot;texture_size&quot;: [128, 128],\n    &quot;textures&quot;: {\n        &quot;0&quot;: &quot;block/ texture&quot;\n    },\n    &quot;elements&quot;: [\n        {\n            //and then we have the position of the block etc\n</code></pre>\n<p>this is my code from my &quot;models/block/artifact_block.json&quot;:</p>\n<pre><code>{\n    &quot;credit&quot;: &quot;Made with Blockbench&quot;,\n    &quot;parent&quot;: &quot;block/cube_all&quot;,\n    &quot;texture_size&quot;: [128, 128],\n    &quot;textures&quot;: {\n        &quot;all&quot;: &quot;cosmicages:block/artifact_block&quot;\n    },\n    &quot;elements&quot;: [\n        {\n            //and then we have the position of the block etc\n</code></pre>\n<p>this is my code from my &quot;models/item/artifact_block.json&quot;:</p>\n<pre><code>{\n    &quot;credit&quot;: &quot;Made with Blockbench&quot;,\n    &quot;parent&quot;: &quot;cosmicages:block/artifact_block&quot;,\n    &quot;texture_size&quot;: [128, 128],\n    &quot;textures&quot;: {\n        &quot;0&quot;: &quot;block/texture&quot;\n    },\n    &quot;elements&quot;: [\n        {\n            //and then we have the position of the block etc\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":20673744,"reputation":25,"user_id":15178872,"display_name":"chimitaed"},"score":0,"creation_date":1678420636,"post_id":75690764,"comment_id":133533014,"body_markdown":"Hi @notAppp what do you mean tp pass the arguments in the correct order am lost?","body":"Hi @notAppp what do you mean tp pass the arguments in the correct order am lost?"}],"tags":[],"owner":{"account_id":18559672,"reputation":300,"user_id":13523946,"display_name":"notAPPP"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678402198,"creation_date":1678402198,"answer_id":75690764,"question_id":75689607,"body_markdown":"Projections works a little bit different. If you want to create PromisePojo for each row you need to create your obj manually in query:\r\n\r\n    select new com.burn.promise_to_pay.pojo.PromisePojo(t.amount,transactiondate,p.paidbyaccountno,t.paidbyname) &lt;rest query&gt;\r\n\r\nyour error description talk about it:\r\nNo converter found capable of converting from type [org.springframework.data.jpa.repository.query.AbstractJpaQuery$TupleConverter$TupleBackedMap] to type [com.burn.promise_to_pay.pojo.PromisePojo\r\n\r\nremember to pass the arguments in the correct order","title":"No converter found capable of converting from type [org.springframework.data.jpa.repository.query] to type","body":"<p>Projections works a little bit different. If you want to create PromisePojo for each row you need to create your obj manually in query:</p>\n<pre><code>select new com.burn.promise_to_pay.pojo.PromisePojo(t.amount,transactiondate,p.paidbyaccountno,t.paidbyname) &lt;rest query&gt;\n</code></pre>\n<p>your error description talk about it:\nNo converter found capable of converting from type [org.springframework.data.jpa.repository.query.AbstractJpaQuery$TupleConverter$TupleBackedMap] to type [com.burn.promise_to_pay.pojo.PromisePojo</p>\n<p>remember to pass the arguments in the correct order</p>\n"}],"owner":{"account_id":20673744,"reputation":25,"user_id":15178872,"display_name":"chimitaed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":627,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75690764,"answer_count":1,"score":0,"last_activity_date":1678402198,"creation_date":1678392844,"question_id":75689607,"body_markdown":"I am trying to query a two tables by using a join and passing a date value to the Data I want from Postman, but every time I end up getting the error\r\n\r\n&gt; No converter found capable of converting from type [org.springframework.data.jpa.repository.query.AbstractJpaQuery$TupleConverter$TupleBackedMap] to type [com.burn.promise_to_pay.pojo.PromisePojo]\r\n&gt; \tat org.springframework.core.convert.support.GenericConversionService.handleConverterNotFound(GenericConversionService.java:322) ~[spring-core-6.0.4.jar:6.0.4]\r\n\r\n\r\nthis is my first table\r\n\r\n```\r\n@Entity\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Table(name = &quot;promiseto_pay&quot;)\r\npublic class PromiseData {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private long id;\r\n\r\n    @Column(name=&quot;account_name&quot;)\r\n    private String accName;\r\n\r\n    @Column(nullable=false)\r\n    private  String paidbyaccountno;\r\n\r\n    @Column (name= &quot;mobile_number&quot;)\r\n    private String mobileNumber;\r\n\r\n    @Column(name=&quot;promised_date&quot;)\r\n    private LocalDate promisedDate;\r\n\r\n    @Column(name=&quot;promised_amount&quot;)\r\n    private double promisedAmt;\r\n    \r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;paid_by_account_no&quot;)\r\n    private TransactionData transactionData;\r\n    \r\n}\r\n```\r\n\r\nthis is my other table\r\n\r\n```\r\n@Entity\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Table(name = &quot;transactions&quot;)\r\npublic class TransactionData {\r\n\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n\r\n        @Column (name= &quot;id&quot;)\r\n        private int id;\r\n\r\n        @Column (name= &quot;amount&quot;)\r\n        private double amount;\r\n\r\n        @Column (name= &quot;bill_reference_number&quot;)\r\n        private String billreferencenumber;\r\n\r\n        @Column (name= &quot;env&quot;)\r\n        private String env;\r\n\r\n        @Column(name= &quot;paid_by_account_no&quot;)\r\n        private  String paidbyaccountno;\r\n\r\n        @Column (name= &quot;paid_by_channel&quot;)\r\n        private String paidbychannel;\r\n\r\n        @Column (name= &quot;paid_by_name&quot;)\r\n        private String paidbyname;\r\n\r\n        @Column (name= &quot;raw_payment_request&quot;)\r\n        private String rawpaymentrequest;\r\n\r\n        @Column (name= &quot;state&quot;)\r\n        private String state;\r\n\r\n        @Column (name= &quot;transaction_date&quot;)\r\n        private LocalDate transactiondate;\r\n\r\n        @Column (name= &quot;transaction_id&quot;)\r\n        private String transactionid;\r\n\r\n        @Column (name= &quot;transaction_type&quot;)\r\n        private String transactiontype;\r\n\r\n        @Column (name= &quot;created_on&quot;)\r\n        private LocalDateTime createdon;\r\n\r\n        @Column (name= &quot;updated_on&quot;)\r\n        private LocalDateTime updatedon;\r\n\r\n        @Column (name= &quot;office_id&quot;)\r\n        private double officeid;\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nthis is my Pojo class\r\n\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class PromisePojo {\r\n\r\n    private double amount;\r\n    private String transactionDate;\r\n    private String paidbyaccountno;\r\n    private String paidbyname;\r\n}\r\n\r\n```\r\n\r\nthis is my repository code \r\n\r\n```\r\n  @Query(&quot;select t.amount, t.transactiondate,p.paidbyaccountno,&quot; +\r\n            &quot;t.paidbyname FROM TransactionData t INNER JOIN PromiseData p ON p.paidbyaccountno = t.paidbyaccountno &quot; +\r\n            &quot;where p.promisedDate =? 1&quot;)\r\n    List&lt;PromisePojo&gt; fetchByPromisedDate(@Param(&quot;promisedDate&quot;) LocalDate promisedDate);\r\n```\r\n\r\nand this is my controller\r\n\r\n```\r\n @GetMapping(&quot;/getbylastdate/{promisedDate}&quot;)\r\n    public ResponseEntity&lt;List&lt;PromisePojo&gt;&gt; getByPaymentsDate(@PathVariable(&quot;promisedDate&quot;) LocalDate promisedDate ) {\r\n        try {\r\n            List&lt;PromisePojo&gt; promiseData = promiseDataRepository.fetchByPromisedDate(promisedDate);\r\n            if (promiseData.isEmpty()) {\r\n                return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\r\n            }\r\n            return new ResponseEntity&lt;&gt;(promiseData, HttpStatus.OK);\r\n        } catch (Exception e) {\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.INTERNAL_SERVER_ERROR);\r\n        }\r\n    }\r\n```\r\n\r\n\r\nWhat could I be doing wrong as I have my mapped the output pojo class that should be used to render the data to the end user?","title":"No converter found capable of converting from type [org.springframework.data.jpa.repository.query] to type","body":"<p>I am trying to query a two tables by using a join and passing a date value to the Data I want from Postman, but every time I end up getting the error</p>\n<blockquote>\n<p>No converter found capable of converting from type [org.springframework.data.jpa.repository.query.AbstractJpaQuery$TupleConverter$TupleBackedMap] to type [com.burn.promise_to_pay.pojo.PromisePojo]\nat org.springframework.core.convert.support.GenericConversionService.handleConverterNotFound(GenericConversionService.java:322) ~[spring-core-6.0.4.jar:6.0.4]</p>\n</blockquote>\n<p>this is my first table</p>\n<pre><code>@Entity\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Table(name = &quot;promiseto_pay&quot;)\npublic class PromiseData {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private long id;\n\n    @Column(name=&quot;account_name&quot;)\n    private String accName;\n\n    @Column(nullable=false)\n    private  String paidbyaccountno;\n\n    @Column (name= &quot;mobile_number&quot;)\n    private String mobileNumber;\n\n    @Column(name=&quot;promised_date&quot;)\n    private LocalDate promisedDate;\n\n    @Column(name=&quot;promised_amount&quot;)\n    private double promisedAmt;\n    \n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;paid_by_account_no&quot;)\n    private TransactionData transactionData;\n    \n}\n</code></pre>\n<p>this is my other table</p>\n<pre><code>@Entity\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Table(name = &quot;transactions&quot;)\npublic class TransactionData {\n\n        @Id\n        @GeneratedValue(strategy = GenerationType.AUTO)\n\n        @Column (name= &quot;id&quot;)\n        private int id;\n\n        @Column (name= &quot;amount&quot;)\n        private double amount;\n\n        @Column (name= &quot;bill_reference_number&quot;)\n        private String billreferencenumber;\n\n        @Column (name= &quot;env&quot;)\n        private String env;\n\n        @Column(name= &quot;paid_by_account_no&quot;)\n        private  String paidbyaccountno;\n\n        @Column (name= &quot;paid_by_channel&quot;)\n        private String paidbychannel;\n\n        @Column (name= &quot;paid_by_name&quot;)\n        private String paidbyname;\n\n        @Column (name= &quot;raw_payment_request&quot;)\n        private String rawpaymentrequest;\n\n        @Column (name= &quot;state&quot;)\n        private String state;\n\n        @Column (name= &quot;transaction_date&quot;)\n        private LocalDate transactiondate;\n\n        @Column (name= &quot;transaction_id&quot;)\n        private String transactionid;\n\n        @Column (name= &quot;transaction_type&quot;)\n        private String transactiontype;\n\n        @Column (name= &quot;created_on&quot;)\n        private LocalDateTime createdon;\n\n        @Column (name= &quot;updated_on&quot;)\n        private LocalDateTime updatedon;\n\n        @Column (name= &quot;office_id&quot;)\n        private double officeid;\n\n\n}\n\n</code></pre>\n<p>this is my Pojo class</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class PromisePojo {\n\n    private double amount;\n    private String transactionDate;\n    private String paidbyaccountno;\n    private String paidbyname;\n}\n\n</code></pre>\n<p>this is my repository code</p>\n<pre><code>  @Query(&quot;select t.amount, t.transactiondate,p.paidbyaccountno,&quot; +\n            &quot;t.paidbyname FROM TransactionData t INNER JOIN PromiseData p ON p.paidbyaccountno = t.paidbyaccountno &quot; +\n            &quot;where p.promisedDate =? 1&quot;)\n    List&lt;PromisePojo&gt; fetchByPromisedDate(@Param(&quot;promisedDate&quot;) LocalDate promisedDate);\n</code></pre>\n<p>and this is my controller</p>\n<pre><code> @GetMapping(&quot;/getbylastdate/{promisedDate}&quot;)\n    public ResponseEntity&lt;List&lt;PromisePojo&gt;&gt; getByPaymentsDate(@PathVariable(&quot;promisedDate&quot;) LocalDate promisedDate ) {\n        try {\n            List&lt;PromisePojo&gt; promiseData = promiseDataRepository.fetchByPromisedDate(promisedDate);\n            if (promiseData.isEmpty()) {\n                return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\n            }\n            return new ResponseEntity&lt;&gt;(promiseData, HttpStatus.OK);\n        } catch (Exception e) {\n            return new ResponseEntity&lt;&gt;(HttpStatus.INTERNAL_SERVER_ERROR);\n        }\n    }\n</code></pre>\n<p>What could I be doing wrong as I have my mapped the output pojo class that should be used to render the data to the end user?</p>\n"},{"tags":["java","polymorphism","primes"],"owner":{"account_id":21654740,"reputation":17,"user_id":15974760,"display_name":"Caleb Board"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678401011,"creation_date":1678401011,"question_id":75690634,"body_markdown":"I&#39;m trying to write a program that can find the list of prime numbers and the list of happy numbers in between a start and end element. It seems to work for the most part, but there are 2 specific test cases where it won&#39;t pass for some reason, despite passing all the others. I included the code below.\r\n\r\nIt works by taking one number, which it makes a startElement, and then another number, an endElement. It then proceeds to return 2 strings, one containing a list of all prime numbers in between those two numbers, if there are any, and one containing a list of all happy numbers in between these two numbers, if there are any.\r\n\r\nA happy number is when the sum of the squares of each digit in a number eventually comes down to 1. For example 28.\r\n\r\n    2^2 + 8^2 = 68\r\n    6^2 + 8^2 = 100\r\n    1^2 + 0 + 0 = 1\r\n\r\nIf this process makes the number equal 4 eventually, it isn&#39;t a happy number.\r\n\r\n    ```\r\n    import java.io.*;\r\n    import java.util.*;\r\n    import java.text.*;\r\n    import java.math.*;\r\n    import java.util.regex.*;\r\n    \r\n    public class Solution {\r\n        \r\n        \r\n        public static void main(String args[] ) throws Exception {\r\n            /* Enter your code here. Read input from STDIN. Print output to STDOUT */\r\n            \r\n            int a, b;\r\n            \r\n            Scanner scanner = new Scanner(System.in);\r\n            a = Integer.parseInt(scanner.nextLine());\r\n            b = Integer.parseInt(scanner.nextLine());\r\n            \r\n            ChildOne childOne = new ChildOne(a, b);\r\n            ChildTwo childTwo = new ChildTwo(a, b);\r\n            \r\n            //System.out.println(a);\r\n            //System.out.println(b);\r\n            System.out.println(childOne.filter());\r\n            System.out.println(childTwo.filter());\r\n        }\r\n    }\r\n    \r\n    class Parent{\r\n        public int startElement;\r\n        public int endElement;\r\n        \r\n        String filter(){\r\n            return null;\r\n        }\r\n    }\r\n    \r\n    class ChildOne extends Parent{\r\n        \r\n        ChildOne(int a, int b){\r\n            this.startElement = a;\r\n            this.endElement = b;\r\n        }\r\n        \r\n        public boolean isPrime(int num){\r\n            \r\n            if(num == 1)\r\n                return false;\r\n                \r\n            for(int i = 2; i &lt;= num / 2; i++){\r\n                if(num % i == 0){\r\n                    return false;\r\n                }\r\n            }\r\n            \r\n            return true;\r\n        }\r\n        \r\n        @Override\r\n        String filter(){\r\n            String result = &quot;&quot;;\r\n            \r\n            for(int i = startElement; i &lt;= endElement; i++){\r\n                if(isPrime(i)){\r\n                    result += (&quot; &quot; + i);\r\n                }\r\n            }\r\n            \r\n            if(result.isEmpty()){\r\n                return result;\r\n            }\r\n            \r\n            return result.substring(1);\r\n        }\r\n    }\r\n    \r\n    class ChildTwo extends Parent{\r\n        \r\n        ChildTwo(int a, int b){\r\n            this.startElement = a;\r\n            this.endElement = b;\r\n        }\r\n        \r\n        public boolean isHappy(int num){\r\n            int check = squareSum(num);\r\n            \r\n            while(true){\r\n                check = squareSum(check);\r\n                \r\n                //System.out.println(check);\r\n                \r\n                if(check == 1)\r\n                    return true;\r\n                else if(check == 4)\r\n                    return false;\r\n            }\r\n        }\r\n        \r\n        public int squareSum(int num){\r\n            // Gets the individual digits of the number\r\n            char[] digits = String.valueOf(num).toCharArray();\r\n            \r\n            int result = 0;\r\n            \r\n            for(int i = 0; i &lt; digits.length; i++){\r\n                result += (Character.getNumericValue(digits[i]) * Character.getNumericValue((int)digits[i]));\r\n            }\r\n            \r\n            return result;\r\n        }\r\n        \r\n        @Override\r\n        String filter(){\r\n            String result = &quot;&quot;;\r\n            \r\n            for(int i = startElement; i &lt; endElement; i++){\r\n                if(isHappy(i)){\r\n                    result += (&quot; &quot; + i);\r\n                }\r\n            }\r\n            \r\n            if(result.isEmpty()){\r\n                return result;\r\n            }\r\n            \r\n            return result.substring(1);\r\n        }\r\n    }\r\n    ```\r\n\r\nThe 2 test cases where it fails are the following sets of startElement and endElement\r\n\r\n    1, 5555\r\n    and\r\n    623, 3456\r\n\r\nFor the record, the program does run just fine with these two test cases, as far as I can tell, but the site still says it failed, and I have no idea why, as it won&#39;t tell me what the output is supposed to be.\r\n\r\nAnybody have any idea why these two test cases are failing while all others seem to pass?","title":"Java Polymorphism Test on Hackerrank failing for specific test cases, works fine for all others","body":"<p>I'm trying to write a program that can find the list of prime numbers and the list of happy numbers in between a start and end element. It seems to work for the most part, but there are 2 specific test cases where it won't pass for some reason, despite passing all the others. I included the code below.</p>\n<p>It works by taking one number, which it makes a startElement, and then another number, an endElement. It then proceeds to return 2 strings, one containing a list of all prime numbers in between those two numbers, if there are any, and one containing a list of all happy numbers in between these two numbers, if there are any.</p>\n<p>A happy number is when the sum of the squares of each digit in a number eventually comes down to 1. For example 28.</p>\n<pre><code>2^2 + 8^2 = 68\n6^2 + 8^2 = 100\n1^2 + 0 + 0 = 1\n</code></pre>\n<p>If this process makes the number equal 4 eventually, it isn't a happy number.</p>\n<pre><code>```\nimport java.io.*;\nimport java.util.*;\nimport java.text.*;\nimport java.math.*;\nimport java.util.regex.*;\n\npublic class Solution {\n    \n    \n    public static void main(String args[] ) throws Exception {\n        /* Enter your code here. Read input from STDIN. Print output to STDOUT */\n        \n        int a, b;\n        \n        Scanner scanner = new Scanner(System.in);\n        a = Integer.parseInt(scanner.nextLine());\n        b = Integer.parseInt(scanner.nextLine());\n        \n        ChildOne childOne = new ChildOne(a, b);\n        ChildTwo childTwo = new ChildTwo(a, b);\n        \n        //System.out.println(a);\n        //System.out.println(b);\n        System.out.println(childOne.filter());\n        System.out.println(childTwo.filter());\n    }\n}\n\nclass Parent{\n    public int startElement;\n    public int endElement;\n    \n    String filter(){\n        return null;\n    }\n}\n\nclass ChildOne extends Parent{\n    \n    ChildOne(int a, int b){\n        this.startElement = a;\n        this.endElement = b;\n    }\n    \n    public boolean isPrime(int num){\n        \n        if(num == 1)\n            return false;\n            \n        for(int i = 2; i &lt;= num / 2; i++){\n            if(num % i == 0){\n                return false;\n            }\n        }\n        \n        return true;\n    }\n    \n    @Override\n    String filter(){\n        String result = &quot;&quot;;\n        \n        for(int i = startElement; i &lt;= endElement; i++){\n            if(isPrime(i)){\n                result += (&quot; &quot; + i);\n            }\n        }\n        \n        if(result.isEmpty()){\n            return result;\n        }\n        \n        return result.substring(1);\n    }\n}\n\nclass ChildTwo extends Parent{\n    \n    ChildTwo(int a, int b){\n        this.startElement = a;\n        this.endElement = b;\n    }\n    \n    public boolean isHappy(int num){\n        int check = squareSum(num);\n        \n        while(true){\n            check = squareSum(check);\n            \n            //System.out.println(check);\n            \n            if(check == 1)\n                return true;\n            else if(check == 4)\n                return false;\n        }\n    }\n    \n    public int squareSum(int num){\n        // Gets the individual digits of the number\n        char[] digits = String.valueOf(num).toCharArray();\n        \n        int result = 0;\n        \n        for(int i = 0; i &lt; digits.length; i++){\n            result += (Character.getNumericValue(digits[i]) * Character.getNumericValue((int)digits[i]));\n        }\n        \n        return result;\n    }\n    \n    @Override\n    String filter(){\n        String result = &quot;&quot;;\n        \n        for(int i = startElement; i &lt; endElement; i++){\n            if(isHappy(i)){\n                result += (&quot; &quot; + i);\n            }\n        }\n        \n        if(result.isEmpty()){\n            return result;\n        }\n        \n        return result.substring(1);\n    }\n}\n```\n</code></pre>\n<p>The 2 test cases where it fails are the following sets of startElement and endElement</p>\n<pre><code>1, 5555\nand\n623, 3456\n</code></pre>\n<p>For the record, the program does run just fine with these two test cases, as far as I can tell, but the site still says it failed, and I have no idea why, as it won't tell me what the output is supposed to be.</p>\n<p>Anybody have any idea why these two test cases are failing while all others seem to pass?</p>\n"},{"tags":["python","java","pyspark","parquet"],"comments":[{"owner":{"account_id":27902797,"reputation":66,"user_id":21306705,"display_name":"johnnylarner"},"score":0,"creation_date":1678624624,"post_id":75690620,"comment_id":133565981,"body_markdown":"Does your directory actually contain the correct files? I just manually downloaded one of the files and put it in a directory called `sourceId=eva` and your code worked fine.","body":"Does your directory actually contain the correct files? I just manually downloaded one of the files and put it in a directory called <code>sourceId=eva</code> and your code worked fine."}],"owner":{"account_id":26194760,"reputation":11,"user_id":19876008,"display_name":"insomniac"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678400798,"creation_date":1678400798,"question_id":75690620,"body_markdown":"I am trying to reproduce the codes offered by (https://platform-docs.opentargets.org/data-access/datasets) to read the parquet file downloaded on their website by using spark.read.parquet() \r\n\r\nhere are their codes:\r\n\r\n```\r\nfrom pyspark import SparkConf\r\nfrom pyspark.sql import SparkSession\r\nimport pyspark.sql.functions as F\r\n\r\n# path to ClinVar (EVA) evidence dataset \r\n# directory stored on your local machine\r\nevidencePath = &quot;local directory path - e.g. /User/downloads/sourceId=eva&quot;\r\n\r\n# establish spark connection\r\nspark = (\r\n    SparkSession.builder\r\n    .master(&#39;local[*]&#39;)\r\n    .getOrCreate()\r\n)\r\n\r\n# read evidence dataset\r\nevd = spark.read.parquet(evidencePath)\r\n\r\n# Browse the evidence schema\r\nevd.printSchema()\r\n\r\n# select fields of interest\r\nevdSelect = (evd\r\n .select(&quot;targetId&quot;,\r\n         &quot;diseaseId&quot;,\r\n         &quot;variantRsId&quot;,\r\n         &quot;studyId&quot;,\r\n         F.explode(&quot;clinicalSignificances&quot;).alias(&quot;cs&quot;),\r\n         &quot;confidence&quot;)\r\n )\r\n evdSelect.show()\r\n\r\n# +---------------+--------------+-----------+------------+--------------------+--------------------+\r\n# |       targetId|     diseaseId|variantRsId|     studyId|                  cs|          confidence|\r\n# +---------------+--------------+-----------+------------+--------------------+--------------------+\r\n# |ENSG00000153201|Orphanet_88619|rs773278648|RCV001042548|uncertain signifi...|criteria provided...|\r\n# |ENSG00000115718|  Orphanet_745|       null|RCV001134697|uncertain signifi...|criteria provided...|\r\n# |ENSG00000107147|    HP_0001250|rs539139475|RCV000720408|       likely benign|criteria provided...|\r\n# |ENSG00000175426|Orphanet_71528|rs142567487|RCV000292648|uncertain signifi...|criteria provided...|\r\n# |ENSG00000169174|   EFO_0004911|rs563024336|RCV000375546|uncertain signifi...|criteria provided...|\r\n# |ENSG00000140521|  Orphanet_298|rs376306906|RCV000763992|uncertain signifi...|criteria provided...|\r\n# |ENSG00000134982|   EFO_0005842| rs74627407|RCV000073743|               other|no assertion crit...|\r\n# |ENSG00000187498| MONDO_0008289|rs146288748|RCV001111533|uncertain signifi...|criteria provided...|\r\n# |ENSG00000116688|Orphanet_64749|rs119103265|RCV000857104|uncertain signifi...|no assertion crit...|\r\n# |ENSG00000133812|Orphanet_99956|rs562275980|RCV000367609|uncertain signifi...|criteria provided...|\r\n# +---------------+--------------+-----------+------------+--------------------+--------------------+\r\n# only showing top 10 rows\r\n\r\n# Convert to a Pandas Dataframe\r\nevdSelect.toPandas()\r\n```\r\n\r\nAnd here is my codes and the errors:\r\n\r\n\r\n```\r\nfrom pyspark import SparkConf\r\nfrom pyspark.sql import SparkSession\r\nimport pyspark.sql.functions as F\r\n\r\n\r\n# path to ClinVar (EVA) evidence dataset \r\n# directory stored on your local machine\r\nevidencePath = &quot;/Users/xxxxx/Desktop/sourceId=eva&quot;\r\n\r\n\r\n# establish spark connection\r\nspark = (\r\n    SparkSession.builder\r\n    .master(&#39;local[*]&#39;)\r\n    .getOrCreate()\r\n)\r\n\r\n# read evidence dataset\r\nevd = spark.read.parquet(evidencePath)\r\n\r\n# Browse the evidence schema\r\nevd.printSchema()\r\n\r\n# select fields of interest\r\nevdSelect = (evd\r\n .select(&quot;targetId&quot;,\r\n         &quot;diseaseId&quot;,\r\n         &quot;variantRsId&quot;,\r\n         &quot;studyId&quot;,\r\n         F.explode(&quot;clinicalSignificances&quot;).alias(&quot;cs&quot;),\r\n         &quot;confidence&quot;)\r\n )\r\nevdSelect.show()\r\nevdSelect.toPandas()\r\n```\r\n\r\n\r\n```\r\n23/03/09 16:46:04 ERROR Executor: Exception in task 0.0 in stage 15.0 (TID 15)\r\norg.apache.spark.SparkException: Exception thrown in awaitResult: \r\n\tat org.apache.spark.util.ThreadUtils$.awaitResult(ThreadUtils.scala:301)\r\n\tat org.apache.spark.util.ThreadUtils$.parmap(ThreadUtils.scala:375)\r\n\tat org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat$.readParquetFootersInParallel(ParquetFileFormat.scala:508)\r\n\tat org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat$.$anonfun$mergeSchemasInParallel$1(ParquetFileFormat.scala:556)\r\n\tat org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat$.$anonfun$mergeSchemasInParallel$1$adapted(ParquetFileFormat.scala:549)\r\n\tat org.apache.spark.sql.execution.datasources.SchemaMergeUtils$.$anonfun$mergeSchemasInParallel$2(SchemaMergeUtils.scala:76)\r\n\tat org.apache.spark.rdd.RDD.$anonfun$mapPartitions$2(RDD.scala:855)\r\n\tat org.apache.spark.rdd.RDD.$anonfun$mapPartitions$2$adapted(RDD.scala:855)\r\n\tat org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n\tat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\r\n\tat org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\r\n\tat org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\r\n\tat org.apache.spark.scheduler.Task.run(Task.scala:136)\r\n\tat org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:548)\r\n\tat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1504)\r\n\tat org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:551)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:750)\r\nCaused by: java.io.IOException: Could not read footer for file: FileStatus{path=file:/Users/xxxxx/Desktop/sourceId=eva; isDirectory=false; length=63887; replication=0; blocksize=0; modification_time=0; access_time=0; owner=; group=; permission=rw-rw-rw-; isSymlink=false; hasAcl=false; isEncrypted=false; isErasureCoded=false}\r\n\tat org.apache.spark.sql.errors.QueryExecutionErrors$.cannotReadFooterForFileError(QueryExecutionErrors.scala:882)\r\n\tat org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat$.$anonfun$readParquetFootersInParallel$1(ParquetFileFormat.scala:521)\r\n\tat org.apache.spark.util.ThreadUtils$.$anonfun$parmap$2(ThreadUtils.scala:372)\r\n\tat scala.concurrent.Future$.$anonfun$apply$1(Future.scala:659)\r\n\tat scala.util.Success.$anonfun$map$1(Try.scala:255)\r\n\tat scala.util.Success.map(Try.scala:213)\r\n\tat scala.concurrent.Future.$anonfun$map$1(Future.scala:292)\r\n\tat scala.concurrent.impl.Promise.liftedTree1$1(Promise.scala:33)\r\n\tat scala.concurrent.impl.Promise.$anonfun$transform$1(Promise.scala:33)\r\n\tat scala.concurrent.impl.CallbackRunnable.run(Promise.scala:64)\r\n\tat java.util.concurrent.ForkJoinTask$RunnableExecuteAction.exec(ForkJoinTask.java:1402)\r\n\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\r\n\tat java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1067)\r\n\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1703)\r\n\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:172)\r\nCaused by: java.lang.RuntimeException: file:/Users/xxxxx/Desktop/sourceId=eva is not a Parquet file. Expected magic number at tail, but found [109, 108, 62, 10]\r\n\tat org.apache.parquet.hadoop.ParquetFileReader.readFooter(ParquetFileReader.java:556)\r\n\tat org.apache.parquet.hadoop.ParquetFileReader.&lt;init&gt;(ParquetFileReader.java:776)\r\n\tat org.apache.parquet.hadoop.ParquetFileReader.open(ParquetFileReader.java:657)\r\n\tat org.apache.spark.sql.execution.datasources.parquet.ParquetFooterReader.readFooter(ParquetFooterReader.java:53)\r\n\tat org.apache.spark.sql.execution.datasources.parquet.ParquetFooterReader.readFooter(ParquetFooterReader.java:44)\r\n\tat org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat$.$anonfun$readParquetFootersInParallel$1(ParquetFileFormat.scala:515)\r\n\t... 13 more\r\n23/03/09 16:46:04 WARN TaskSetManager: Lost task 0.0 in stage 15.0 (TID 15) (10.110.94.153 executor driver): org.apache.spark.SparkException: Exception thrown in awaitResult: \r\n\tat org.apache.spark.util.ThreadUtils$.awaitResult(ThreadUtils.scala:301)\r\n\tat org.apache.spark.util.ThreadUtils$.parmap(ThreadUtils.scala:375)\r\n\tat org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat$.readParquetFootersInParallel(ParquetFileFormat.scala:508)\r\n\tat org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat$.$anonfun$mergeSchemasInParallel$1(ParquetFileFormat.scala:556)\r\n\tat org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat$.$anonfun$mergeSchemasInParallel$1$adapted(ParquetFileFormat.scala:549)\r\n\tat org.apache.spark.sql.execution.datasources.SchemaMergeUtils$.$anonfun$mergeSchemasInParallel$2(SchemaMergeUtils.scala:76)\r\n\tat org.apache.spark.rdd.RDD.$anonfun$mapPartitions$2(RDD.scala:855)\r\n\tat org.apache.spark.rdd.RDD.$anonfun$mapPartitions$2$adapted(RDD.scala:855)\r\n\tat org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n\tat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\r\n\tat org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\r\n\tat org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\r\n\tat org.apache.spark.scheduler.Task.run(Task.scala:136)\r\n\tat org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:548)\r\n\tat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1504)\r\n\tat org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:551)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:750)\r\nCaused by: java.io.IOException: Could not read footer for file: FileStatus{path=file:/Users/xxxxx/Desktop/sourceId=eva; isDirectory=false; length=63887; replication=0; blocksize=0; modification_time=0; access_time=0; owner=; group=; permission=rw-rw-rw-; isSymlink=false; hasAcl=false; isEncrypted=false; isErasureCoded=false}\r\n\tat org.apache.spark.sql.errors.QueryExecutionErrors$.cannotReadFooterForFileError(QueryExecutionErrors.scala:882)\r\n\tat org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat$.$anonfun$readParquetFootersInParallel$1(ParquetFileFormat.scala:521)\r\n\tat org.apache.spark.util.ThreadUtils$.$anonfun$parmap$2(ThreadUtils.scala:372)\r\n\tat scala.concurrent.Future$.$anonfun$apply$1(Future.scala:659)\r\n\tat scala.util.Success.$anonfun$map$1(Try.scala:255)\r\n\tat scala.util.Success.map(Try.scala:213)\r\n\tat scala.concurrent.Future.$anonfun$map$1(Future.scala:292)\r\n\tat scala.concurrent.impl.Promise.liftedTree1$1(Promise.scala:33)\r\n\tat scala.concurrent.impl.Promise.$anonfun$transform$1(Promise.scala:33)\r\n\tat scala.concurrent.impl.CallbackRunnable.run(Promise.scala:64)\r\n\tat java.util.concurrent.ForkJoinTask$RunnableExecuteAction.exec(ForkJoinTask.java:1402)\r\n\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\r\n\tat java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1067)\r\n\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1703)\r\n\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:172)\r\nCaused by: java.lang.RuntimeException: file:/Users/xxxxx/Desktop/sourceId=eva is not a Parquet file. Expected magic number at tail, but found [109, 108, 62, 10]\r\n\tat org.apache.parquet.hadoop.ParquetFileReader.readFooter(ParquetFileReader.java:556)\r\n\tat org.apache.parquet.hadoop.ParquetFileReader.&lt;init&gt;(ParquetFileReader.java:776)\r\n\tat org.apache.parquet.hadoop.ParquetFileReader.open(ParquetFileReader.java:657)\r\n\tat org.apache.spark.sql.execution.datasources.parquet.ParquetFooterReader.readFooter(ParquetFooterReader.java:53)\r\n\tat org.apache.spark.sql.execution.datasources.parquet.ParquetFooterReader.readFooter(ParquetFooterReader.java:44)\r\n\tat org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat$.$anonfun$readParquetFootersInParallel$1(ParquetFileFormat.scala:515)\r\n\t... 13 more\r\n\r\n23/03/09 16:46:04 ERROR TaskSetManager: Task 0 in stage 15.0 failed 1 times; aborting job\r\n---------------------------------------------------------------------------\r\nPy4JJavaError                             Traceback (most recent call last)\r\n/var/folders/sg/84_1tjdd0z96ls5mpw9jp4hc0000gn/T/ipykernel_13805/4006875420.py in &lt;module&gt;\r\n     17 \r\n     18 # read evidence dataset\r\n---&gt; 19 evd = spark.read.parquet(evidencePath)\r\n     20 \r\n     21 # Browse the evidence schema\r\n\r\n~/opt/anaconda3/lib/python3.9/site-packages/pyspark/sql/readwriter.py in parquet(self, *paths, **options)\r\n\r\n~/opt/anaconda3/lib/python3.9/site-packages/py4j/java_gateway.py in __call__(self, *args)\r\n   1319 \r\n   1320         answer = self.gateway_client.send_command(command)\r\n-&gt; 1321         return_value = get_return_value(\r\n   1322             answer, self.gateway_client, self.target_id, self.name)\r\n   1323 \r\n\r\n~/opt/anaconda3/lib/python3.9/site-packages/pyspark/sql/utils.py in deco(*a, **kw)\r\n\r\n~/opt/anaconda3/lib/python3.9/site-packages/py4j/protocol.py in get_return_value(answer, gateway_client, target_id, name)\r\n    324             value = OUTPUT_CONVERTER[type](answer[2:], gateway_client)\r\n    325             if answer[1] == REFERENCE_TYPE:\r\n--&gt; 326                 raise Py4JJavaError(\r\n    327                     &quot;An error occurred while calling {0}{1}{2}.\\n&quot;.\r\n    328                     format(target_id, &quot;.&quot;, name), value)\r\n\r\nPy4JJavaError: An error occurred while calling o214.parquet.\r\n: org.apache.spark.SparkException: Job aborted due to stage failure: Task 0 in stage 15.0 failed 1 times, most recent failure: Lost task 0.0 in stage 15.0 (TID 15) (10.110.94.153 executor driver): org.apache.spark.SparkException: Exception thrown in awaitResult: \r\n\tat org.apache.spark.util.ThreadUtils$.awaitResult(ThreadUtils.scala:301)\r\n\tat org.apache.spark.util.ThreadUtils$.parmap(ThreadUtils.scala:375)\r\n\tat org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat$.readParquetFootersInParallel(ParquetFileFormat.scala:508)\r\n\tat org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat$.$anonfun$mergeSchemasInParallel$1(ParquetFileFormat.scala:556)\r\n\tat org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat$.$anonfun$mergeSchemasInParallel$1$adapted(ParquetFileFormat.scala:549)\r\n\tat org.apache.spark.sql.execution.datasources.SchemaMergeUtils$.$anonfun$mergeSchemasInParallel$2(SchemaMergeUtils.scala:76)\r\n\tat org.apache.spark.rdd.RDD.$anonfun$mapPartitions$2(RDD.scala:855)\r\n\tat org.apache.spark.rdd.RDD.$anonfun$mapPartitions$2$adapted(RDD.scala:855)\r\n\tat org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n\tat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\r\n\tat org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\r\n\tat org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\r\n\tat org.apache.spark.scheduler.Task.run(Task.scala:136)\r\n\tat org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:548)\r\n\tat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1504)\r\n\tat org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:551)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:750)\r\nCaused by: java.io.IOException: Could not read footer for file: FileStatus{path=file:/Users/xxxxx/Desktop/sourceId=eva; isDirectory=false; length=63887; replication=0; blocksize=0; modification_time=0; access_time=0; owner=; group=; permission=rw-rw-rw-; isSymlink=false; hasAcl=false; isEncrypted=false; isErasureCoded=false}\r\n\tat org.apache.spark.sql.errors.QueryExecutionErrors$.cannotReadFooterForFileError(QueryExecutionErrors.scala:882)\r\n\tat org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat$.$anonfun$readParquetFootersInParallel$1(ParquetFileFormat.scala:521)\r\n\tat org.apache.spark.util.ThreadUtils$.$anonfun$parmap$2(ThreadUtils.scala:372)\r\n\tat scala.concurrent.Future$.$anonfun$apply$1(Future.scala:659)\r\n\tat scala.util.Success.$anonfun$map$1(Try.scala:255)\r\n\tat scala.util.Success.map(Try.scala:213)\r\n\tat scala.concurrent.Future.$anonfun$map$1(Future.scala:292)\r\n\tat scala.concurrent.impl.Promise.liftedTree1$1(Promise.scala:33)\r\n\tat scala.concurrent.impl.Promise.$anonfun$transform$1(Promise.scala:33)\r\n\tat scala.concurrent.impl.CallbackRunnable.run(Promise.scala:64)\r\n\tat java.util.concurrent.ForkJoinTask$RunnableExecuteAction.exec(ForkJoinTask.java:1402)\r\n\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\r\n\tat java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1067)\r\n\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1703)\r\n\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:172)\r\nCaused by: java.lang.RuntimeException: file:/Users/xxxxx/Desktop/sourceId=eva is not a Parquet file. Expected magic number at tail, but found [109, 108, 62, 10]\r\n\tat org.apache.parquet.hadoop.ParquetFileReader.readFooter(ParquetFileReader.java:556)\r\n\tat org.apache.parquet.hadoop.ParquetFileReader.&lt;init&gt;(ParquetFileReader.java:776)\r\n\tat org.apache.parquet.hadoop.ParquetFileReader.open(ParquetFileReader.java:657)\r\n\tat org.apache.spark.sql.execution.datasources.parquet.ParquetFooterReader.readFooter(ParquetFooterReader.java:53)\r\n\tat org.apache.spark.sql.execution.datasources.parquet.ParquetFooterReader.readFooter(ParquetFooterReader.java:44)\r\n\tat org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat$.$anonfun$readParquetFootersInParallel$1(ParquetFileFormat.scala:515)\r\n\t... 13 more\r\n\r\nDriver stacktrace:\r\n\tat org.apache.spark.scheduler.DAGScheduler.failJobAndIndependentStages(DAGScheduler.scala:2672)\r\n\tat org.apache.spark.scheduler.DAGScheduler.$anonfun$abortStage$2(DAGScheduler.scala:2608)\r\n\tat org.apache.spark.scheduler.DAGScheduler.$anonfun$abortStage$2$adapted(DAGScheduler.scala:2607)\r\n\tat scala.collection.mutable.ResizableArray.foreach(ResizableArray.scala:62)\r\n\tat scala.collection.mutable.ResizableArray.foreach$(ResizableArray.scala:55)\r\n\tat scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:49)\r\n\tat org.apache.spark.scheduler.DAGScheduler.abortStage(DAGScheduler.scala:2607)\r\n\tat org.apache.spark.scheduler.DAGScheduler.$anonfun$handleTaskSetFailed$1(DAGScheduler.scala:1182)\r\n\tat org.apache.spark.scheduler.DAGScheduler.$anonfun$handleTaskSetFailed$1$adapted(DAGScheduler.scala:1182)\r\n\tat scala.Option.foreach(Option.scala:407)\r\n\tat org.apache.spark.scheduler.DAGScheduler.handleTaskSetFailed(DAGScheduler.scala:1182)\r\n\tat org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.doOnReceive(DAGScheduler.scala:2860)\r\n\tat org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:2802)\r\n\tat org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:2791)\r\n\tat org.apache.spark.util.EventLoop$$anon$1.run(EventLoop.scala:49)\r\n\tat org.apache.spark.scheduler.DAGScheduler.runJob(DAGScheduler.scala:952)\r\n\tat org.apache.spark.SparkContext.runJob(SparkContext.scala:2238)\r\n\tat org.apache.spark.SparkContext.runJob(SparkContext.scala:2259)\r\n\tat org.apache.spark.SparkContext.runJob(SparkContext.scala:2278)\r\n\tat org.apache.spark.SparkContext.runJob(SparkContext.scala:2303)\r\n\tat org.apache.spark.rdd.RDD.$anonfun$collect$1(RDD.scala:1021)\r\n\tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n\tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:112)\r\n\tat org.apache.spark.rdd.RDD.withScope(RDD.scala:406)\r\n\tat org.apache.spark.rdd.RDD.collect(RDD.scala:1020)\r\n\tat org.apache.spark.sql.execution.datasources.SchemaMergeUtils$.mergeSchemasInParallel(SchemaMergeUtils.scala:70)\r\n\tat org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat$.mergeSchemasInParallel(ParquetFileFormat.scala:560)\r\n\tat org.apache.spark.sql.execution.datasources.parquet.ParquetUtils$.inferSchema(ParquetUtils.scala:125)\r\n\tat org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat.inferSchema(ParquetFileFormat.scala:171)\r\n\tat org.apache.spark.sql.execution.datasources.DataSource.$anonfun$getOrInferFileFormatSchema$11(DataSource.scala:210)\r\n\tat scala.Option.orElse(Option.scala:447)\r\n\tat org.apache.spark.sql.execution.datasources.DataSource.getOrInferFileFormatSchema(DataSource.scala:207)\r\n\tat org.apache.spark.sql.execution.datasources.DataSource.resolveRelation(DataSource.scala:411)\r\n\tat org.apache.spark.sql.DataFrameReader.loadV1Source(DataFrameReader.scala:228)\r\n\tat org.apache.spark.sql.DataFrameReader.$anonfun$load$2(DataFrameReader.scala:210)\r\n\tat scala.Option.getOrElse(Option.scala:189)\r\n\tat org.apache.spark.sql.DataFrameReader.load(DataFrameReader.scala:210)\r\n\tat org.apache.spark.sql.DataFrameReader.parquet(DataFrameReader.scala:562)\r\n\tat sun.reflect.GeneratedMethodAccessor43.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:244)\r\n\tat py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\r\n\tat py4j.Gateway.invoke(Gateway.java:282)\r\n\tat py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\r\n\tat py4j.commands.CallCommand.execute(CallCommand.java:79)\r\n\tat py4j.ClientServerConnection.waitForCommands(ClientServerConnection.java:182)\r\n\tat py4j.ClientServerConnection.run(ClientServerConnection.java:106)\r\n\tat java.lang.Thread.run(Thread.java:750)\r\nCaused by: org.apache.spark.SparkException: Exception thrown in awaitResult: \r\n\tat org.apache.spark.util.ThreadUtils$.awaitResult(ThreadUtils.scala:301)\r\n\tat org.apache.spark.util.ThreadUtils$.parmap(ThreadUtils.scala:375)\r\n\tat org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat$.readParquetFootersInParallel(ParquetFileFormat.scala:508)\r\n\tat org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat$.$anonfun$mergeSchemasInParallel$1(ParquetFileFormat.scala:556)\r\n\tat org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat$.$anonfun$mergeSchemasInParallel$1$adapted(ParquetFileFormat.scala:549)\r\n\tat org.apache.spark.sql.execution.datasources.SchemaMergeUtils$.$anonfun$mergeSchemasInParallel$2(SchemaMergeUtils.scala:76)\r\n\tat org.apache.spark.rdd.RDD.$anonfun$mapPartitions$2(RDD.scala:855)\r\n\tat org.apache.spark.rdd.RDD.$anonfun$mapPartitions$2$adapted(RDD.scala:855)\r\n\tat org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n\tat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\r\n\tat org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\r\n\tat org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\r\n\tat org.apache.spark.scheduler.Task.run(Task.scala:136)\r\n\tat org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:548)\r\n\tat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1504)\r\n\tat org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:551)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\t... 1 more\r\nCaused by: java.io.IOException: Could not read footer for file: FileStatus{path=file:/Users/xxxxx/Desktop/sourceId=eva; isDirectory=false; length=63887; replication=0; blocksize=0; modification_time=0; access_time=0; owner=; group=; permission=rw-rw-rw-; isSymlink=false; hasAcl=false; isEncrypted=false; isErasureCoded=false}\r\n\tat org.apache.spark.sql.errors.QueryExecutionErrors$.cannotReadFooterForFileError(QueryExecutionErrors.scala:882)\r\n\tat org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat$.$anonfun$readParquetFootersInParallel$1(ParquetFileFormat.scala:521)\r\n\tat org.apache.spark.util.ThreadUtils$.$anonfun$parmap$2(ThreadUtils.scala:372)\r\n\tat scala.concurrent.Future$.$anonfun$apply$1(Future.scala:659)\r\n\tat scala.util.Success.$anonfun$map$1(Try.scala:255)\r\n\tat scala.util.Success.map(Try.scala:213)\r\n\tat scala.concurrent.Future.$anonfun$map$1(Future.scala:292)\r\n\tat scala.concurrent.impl.Promise.liftedTree1$1(Promise.scala:33)\r\n\tat scala.concurrent.impl.Promise.$anonfun$transform$1(Promise.scala:33)\r\n\tat scala.concurrent.impl.CallbackRunnable.run(Promise.scala:64)\r\n\tat java.util.concurrent.ForkJoinTask$RunnableExecuteAction.exec(ForkJoinTask.java:1402)\r\n\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\r\n\tat java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1067)\r\n\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1703)\r\n\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:172)\r\nCaused by: java.lang.RuntimeException: file:/Users/xxxxx/Desktop/sourceId=eva is not a Parquet file. Expected magic number at tail, but found [109, 108, 62, 10]\r\n\tat org.apache.parquet.hadoop.ParquetFileReader.readFooter(ParquetFileReader.java:556)\r\n\tat org.apache.parquet.hadoop.ParquetFileReader.&lt;init&gt;(ParquetFileReader.java:776)\r\n\tat org.apache.parquet.hadoop.ParquetFileReader.open(ParquetFileReader.java:657)\r\n\tat org.apache.spark.sql.execution.datasources.parquet.ParquetFooterReader.readFooter(ParquetFooterReader.java:53)\r\n\tat org.apache.spark.sql.execution.datasources.parquet.ParquetFooterReader.readFooter(ParquetFooterReader.java:44)\r\n\tat org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat$.$anonfun$readParquetFootersInParallel$1(ParquetFileFormat.scala:515)\r\n\t... 13 more\r\n```\r\nCould anyone tell me what is going wrong here?\r\n\r\n\r\nhere is the file I downloaded:\r\n\r\nwget --recursive --no-parent --no-host-directories --cut-dirs 8 \\\r\nhttps://ftp.ebi.ac.uk/pub/databases/opentargets/platform/21.04/output/etl/parquet/evidence/sourceId=eva","title":"Py4JJavaError occurs when reading a parquet file","body":"<p>I am trying to reproduce the codes offered by (<a href=\"https://platform-docs.opentargets.org/data-access/datasets\" rel=\"nofollow noreferrer\">https://platform-docs.opentargets.org/data-access/datasets</a>) to read the parquet file downloaded on their website by using spark.read.parquet()</p>\n<p>here are their codes:</p>\n<pre><code>from pyspark import SparkConf\nfrom pyspark.sql import SparkSession\nimport pyspark.sql.functions as F\n\n# path to ClinVar (EVA) evidence dataset \n# directory stored on your local machine\nevidencePath = &quot;local directory path - e.g. /User/downloads/sourceId=eva&quot;\n\n# establish spark connection\nspark = (\n    SparkSession.builder\n    .master('local[*]')\n    .getOrCreate()\n)\n\n# read evidence dataset\nevd = spark.read.parquet(evidencePath)\n\n# Browse the evidence schema\nevd.printSchema()\n\n# select fields of interest\nevdSelect = (evd\n .select(&quot;targetId&quot;,\n         &quot;diseaseId&quot;,\n         &quot;variantRsId&quot;,\n         &quot;studyId&quot;,\n         F.explode(&quot;clinicalSignificances&quot;).alias(&quot;cs&quot;),\n         &quot;confidence&quot;)\n )\n evdSelect.show()\n\n# +---------------+--------------+-----------+------------+--------------------+--------------------+\n# |       targetId|     diseaseId|variantRsId|     studyId|                  cs|          confidence|\n# +---------------+--------------+-----------+------------+--------------------+--------------------+\n# |ENSG00000153201|Orphanet_88619|rs773278648|RCV001042548|uncertain signifi...|criteria provided...|\n# |ENSG00000115718|  Orphanet_745|       null|RCV001134697|uncertain signifi...|criteria provided...|\n# |ENSG00000107147|    HP_0001250|rs539139475|RCV000720408|       likely benign|criteria provided...|\n# |ENSG00000175426|Orphanet_71528|rs142567487|RCV000292648|uncertain signifi...|criteria provided...|\n# |ENSG00000169174|   EFO_0004911|rs563024336|RCV000375546|uncertain signifi...|criteria provided...|\n# |ENSG00000140521|  Orphanet_298|rs376306906|RCV000763992|uncertain signifi...|criteria provided...|\n# |ENSG00000134982|   EFO_0005842| rs74627407|RCV000073743|               other|no assertion crit...|\n# |ENSG00000187498| MONDO_0008289|rs146288748|RCV001111533|uncertain signifi...|criteria provided...|\n# |ENSG00000116688|Orphanet_64749|rs119103265|RCV000857104|uncertain signifi...|no assertion crit...|\n# |ENSG00000133812|Orphanet_99956|rs562275980|RCV000367609|uncertain signifi...|criteria provided...|\n# +---------------+--------------+-----------+------------+--------------------+--------------------+\n# only showing top 10 rows\n\n# Convert to a Pandas Dataframe\nevdSelect.toPandas()\n</code></pre>\n<p>And here is my codes and the errors:</p>\n<pre><code>from pyspark import SparkConf\nfrom pyspark.sql import SparkSession\nimport pyspark.sql.functions as F\n\n\n# path to ClinVar (EVA) evidence dataset \n# directory stored on your local machine\nevidencePath = &quot;/Users/xxxxx/Desktop/sourceId=eva&quot;\n\n\n# establish spark connection\nspark = (\n    SparkSession.builder\n    .master('local[*]')\n    .getOrCreate()\n)\n\n# read evidence dataset\nevd = spark.read.parquet(evidencePath)\n\n# Browse the evidence schema\nevd.printSchema()\n\n# select fields of interest\nevdSelect = (evd\n .select(&quot;targetId&quot;,\n         &quot;diseaseId&quot;,\n         &quot;variantRsId&quot;,\n         &quot;studyId&quot;,\n         F.explode(&quot;clinicalSignificances&quot;).alias(&quot;cs&quot;),\n         &quot;confidence&quot;)\n )\nevdSelect.show()\nevdSelect.toPandas()\n</code></pre>\n<pre><code>23/03/09 16:46:04 ERROR Executor: Exception in task 0.0 in stage 15.0 (TID 15)\norg.apache.spark.SparkException: Exception thrown in awaitResult: \n    at org.apache.spark.util.ThreadUtils$.awaitResult(ThreadUtils.scala:301)\n    at org.apache.spark.util.ThreadUtils$.parmap(ThreadUtils.scala:375)\n    at org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat$.readParquetFootersInParallel(ParquetFileFormat.scala:508)\n    at org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat$.$anonfun$mergeSchemasInParallel$1(ParquetFileFormat.scala:556)\n    at org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat$.$anonfun$mergeSchemasInParallel$1$adapted(ParquetFileFormat.scala:549)\n    at org.apache.spark.sql.execution.datasources.SchemaMergeUtils$.$anonfun$mergeSchemasInParallel$2(SchemaMergeUtils.scala:76)\n    at org.apache.spark.rdd.RDD.$anonfun$mapPartitions$2(RDD.scala:855)\n    at org.apache.spark.rdd.RDD.$anonfun$mapPartitions$2$adapted(RDD.scala:855)\n    at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\n    at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\n    at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\n    at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\n    at org.apache.spark.scheduler.Task.run(Task.scala:136)\n    at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:548)\n    at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1504)\n    at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:551)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:750)\nCaused by: java.io.IOException: Could not read footer for file: FileStatus{path=file:/Users/xxxxx/Desktop/sourceId=eva; isDirectory=false; length=63887; replication=0; blocksize=0; modification_time=0; access_time=0; owner=; group=; permission=rw-rw-rw-; isSymlink=false; hasAcl=false; isEncrypted=false; isErasureCoded=false}\n    at org.apache.spark.sql.errors.QueryExecutionErrors$.cannotReadFooterForFileError(QueryExecutionErrors.scala:882)\n    at org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat$.$anonfun$readParquetFootersInParallel$1(ParquetFileFormat.scala:521)\n    at org.apache.spark.util.ThreadUtils$.$anonfun$parmap$2(ThreadUtils.scala:372)\n    at scala.concurrent.Future$.$anonfun$apply$1(Future.scala:659)\n    at scala.util.Success.$anonfun$map$1(Try.scala:255)\n    at scala.util.Success.map(Try.scala:213)\n    at scala.concurrent.Future.$anonfun$map$1(Future.scala:292)\n    at scala.concurrent.impl.Promise.liftedTree1$1(Promise.scala:33)\n    at scala.concurrent.impl.Promise.$anonfun$transform$1(Promise.scala:33)\n    at scala.concurrent.impl.CallbackRunnable.run(Promise.scala:64)\n    at java.util.concurrent.ForkJoinTask$RunnableExecuteAction.exec(ForkJoinTask.java:1402)\n    at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\n    at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1067)\n    at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1703)\n    at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:172)\nCaused by: java.lang.RuntimeException: file:/Users/xxxxx/Desktop/sourceId=eva is not a Parquet file. Expected magic number at tail, but found [109, 108, 62, 10]\n    at org.apache.parquet.hadoop.ParquetFileReader.readFooter(ParquetFileReader.java:556)\n    at org.apache.parquet.hadoop.ParquetFileReader.&lt;init&gt;(ParquetFileReader.java:776)\n    at org.apache.parquet.hadoop.ParquetFileReader.open(ParquetFileReader.java:657)\n    at org.apache.spark.sql.execution.datasources.parquet.ParquetFooterReader.readFooter(ParquetFooterReader.java:53)\n    at org.apache.spark.sql.execution.datasources.parquet.ParquetFooterReader.readFooter(ParquetFooterReader.java:44)\n    at org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat$.$anonfun$readParquetFootersInParallel$1(ParquetFileFormat.scala:515)\n    ... 13 more\n23/03/09 16:46:04 WARN TaskSetManager: Lost task 0.0 in stage 15.0 (TID 15) (10.110.94.153 executor driver): org.apache.spark.SparkException: Exception thrown in awaitResult: \n    at org.apache.spark.util.ThreadUtils$.awaitResult(ThreadUtils.scala:301)\n    at org.apache.spark.util.ThreadUtils$.parmap(ThreadUtils.scala:375)\n    at org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat$.readParquetFootersInParallel(ParquetFileFormat.scala:508)\n    at org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat$.$anonfun$mergeSchemasInParallel$1(ParquetFileFormat.scala:556)\n    at org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat$.$anonfun$mergeSchemasInParallel$1$adapted(ParquetFileFormat.scala:549)\n    at org.apache.spark.sql.execution.datasources.SchemaMergeUtils$.$anonfun$mergeSchemasInParallel$2(SchemaMergeUtils.scala:76)\n    at org.apache.spark.rdd.RDD.$anonfun$mapPartitions$2(RDD.scala:855)\n    at org.apache.spark.rdd.RDD.$anonfun$mapPartitions$2$adapted(RDD.scala:855)\n    at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\n    at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\n    at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\n    at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\n    at org.apache.spark.scheduler.Task.run(Task.scala:136)\n    at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:548)\n    at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1504)\n    at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:551)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:750)\nCaused by: java.io.IOException: Could not read footer for file: FileStatus{path=file:/Users/xxxxx/Desktop/sourceId=eva; isDirectory=false; length=63887; replication=0; blocksize=0; modification_time=0; access_time=0; owner=; group=; permission=rw-rw-rw-; isSymlink=false; hasAcl=false; isEncrypted=false; isErasureCoded=false}\n    at org.apache.spark.sql.errors.QueryExecutionErrors$.cannotReadFooterForFileError(QueryExecutionErrors.scala:882)\n    at org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat$.$anonfun$readParquetFootersInParallel$1(ParquetFileFormat.scala:521)\n    at org.apache.spark.util.ThreadUtils$.$anonfun$parmap$2(ThreadUtils.scala:372)\n    at scala.concurrent.Future$.$anonfun$apply$1(Future.scala:659)\n    at scala.util.Success.$anonfun$map$1(Try.scala:255)\n    at scala.util.Success.map(Try.scala:213)\n    at scala.concurrent.Future.$anonfun$map$1(Future.scala:292)\n    at scala.concurrent.impl.Promise.liftedTree1$1(Promise.scala:33)\n    at scala.concurrent.impl.Promise.$anonfun$transform$1(Promise.scala:33)\n    at scala.concurrent.impl.CallbackRunnable.run(Promise.scala:64)\n    at java.util.concurrent.ForkJoinTask$RunnableExecuteAction.exec(ForkJoinTask.java:1402)\n    at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\n    at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1067)\n    at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1703)\n    at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:172)\nCaused by: java.lang.RuntimeException: file:/Users/xxxxx/Desktop/sourceId=eva is not a Parquet file. Expected magic number at tail, but found [109, 108, 62, 10]\n    at org.apache.parquet.hadoop.ParquetFileReader.readFooter(ParquetFileReader.java:556)\n    at org.apache.parquet.hadoop.ParquetFileReader.&lt;init&gt;(ParquetFileReader.java:776)\n    at org.apache.parquet.hadoop.ParquetFileReader.open(ParquetFileReader.java:657)\n    at org.apache.spark.sql.execution.datasources.parquet.ParquetFooterReader.readFooter(ParquetFooterReader.java:53)\n    at org.apache.spark.sql.execution.datasources.parquet.ParquetFooterReader.readFooter(ParquetFooterReader.java:44)\n    at org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat$.$anonfun$readParquetFootersInParallel$1(ParquetFileFormat.scala:515)\n    ... 13 more\n\n23/03/09 16:46:04 ERROR TaskSetManager: Task 0 in stage 15.0 failed 1 times; aborting job\n---------------------------------------------------------------------------\nPy4JJavaError                             Traceback (most recent call last)\n/var/folders/sg/84_1tjdd0z96ls5mpw9jp4hc0000gn/T/ipykernel_13805/4006875420.py in &lt;module&gt;\n     17 \n     18 # read evidence dataset\n---&gt; 19 evd = spark.read.parquet(evidencePath)\n     20 \n     21 # Browse the evidence schema\n\n~/opt/anaconda3/lib/python3.9/site-packages/pyspark/sql/readwriter.py in parquet(self, *paths, **options)\n\n~/opt/anaconda3/lib/python3.9/site-packages/py4j/java_gateway.py in __call__(self, *args)\n   1319 \n   1320         answer = self.gateway_client.send_command(command)\n-&gt; 1321         return_value = get_return_value(\n   1322             answer, self.gateway_client, self.target_id, self.name)\n   1323 \n\n~/opt/anaconda3/lib/python3.9/site-packages/pyspark/sql/utils.py in deco(*a, **kw)\n\n~/opt/anaconda3/lib/python3.9/site-packages/py4j/protocol.py in get_return_value(answer, gateway_client, target_id, name)\n    324             value = OUTPUT_CONVERTER[type](answer[2:], gateway_client)\n    325             if answer[1] == REFERENCE_TYPE:\n--&gt; 326                 raise Py4JJavaError(\n    327                     &quot;An error occurred while calling {0}{1}{2}.\\n&quot;.\n    328                     format(target_id, &quot;.&quot;, name), value)\n\nPy4JJavaError: An error occurred while calling o214.parquet.\n: org.apache.spark.SparkException: Job aborted due to stage failure: Task 0 in stage 15.0 failed 1 times, most recent failure: Lost task 0.0 in stage 15.0 (TID 15) (10.110.94.153 executor driver): org.apache.spark.SparkException: Exception thrown in awaitResult: \n    at org.apache.spark.util.ThreadUtils$.awaitResult(ThreadUtils.scala:301)\n    at org.apache.spark.util.ThreadUtils$.parmap(ThreadUtils.scala:375)\n    at org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat$.readParquetFootersInParallel(ParquetFileFormat.scala:508)\n    at org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat$.$anonfun$mergeSchemasInParallel$1(ParquetFileFormat.scala:556)\n    at org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat$.$anonfun$mergeSchemasInParallel$1$adapted(ParquetFileFormat.scala:549)\n    at org.apache.spark.sql.execution.datasources.SchemaMergeUtils$.$anonfun$mergeSchemasInParallel$2(SchemaMergeUtils.scala:76)\n    at org.apache.spark.rdd.RDD.$anonfun$mapPartitions$2(RDD.scala:855)\n    at org.apache.spark.rdd.RDD.$anonfun$mapPartitions$2$adapted(RDD.scala:855)\n    at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\n    at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\n    at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\n    at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\n    at org.apache.spark.scheduler.Task.run(Task.scala:136)\n    at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:548)\n    at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1504)\n    at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:551)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:750)\nCaused by: java.io.IOException: Could not read footer for file: FileStatus{path=file:/Users/xxxxx/Desktop/sourceId=eva; isDirectory=false; length=63887; replication=0; blocksize=0; modification_time=0; access_time=0; owner=; group=; permission=rw-rw-rw-; isSymlink=false; hasAcl=false; isEncrypted=false; isErasureCoded=false}\n    at org.apache.spark.sql.errors.QueryExecutionErrors$.cannotReadFooterForFileError(QueryExecutionErrors.scala:882)\n    at org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat$.$anonfun$readParquetFootersInParallel$1(ParquetFileFormat.scala:521)\n    at org.apache.spark.util.ThreadUtils$.$anonfun$parmap$2(ThreadUtils.scala:372)\n    at scala.concurrent.Future$.$anonfun$apply$1(Future.scala:659)\n    at scala.util.Success.$anonfun$map$1(Try.scala:255)\n    at scala.util.Success.map(Try.scala:213)\n    at scala.concurrent.Future.$anonfun$map$1(Future.scala:292)\n    at scala.concurrent.impl.Promise.liftedTree1$1(Promise.scala:33)\n    at scala.concurrent.impl.Promise.$anonfun$transform$1(Promise.scala:33)\n    at scala.concurrent.impl.CallbackRunnable.run(Promise.scala:64)\n    at java.util.concurrent.ForkJoinTask$RunnableExecuteAction.exec(ForkJoinTask.java:1402)\n    at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\n    at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1067)\n    at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1703)\n    at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:172)\nCaused by: java.lang.RuntimeException: file:/Users/xxxxx/Desktop/sourceId=eva is not a Parquet file. Expected magic number at tail, but found [109, 108, 62, 10]\n    at org.apache.parquet.hadoop.ParquetFileReader.readFooter(ParquetFileReader.java:556)\n    at org.apache.parquet.hadoop.ParquetFileReader.&lt;init&gt;(ParquetFileReader.java:776)\n    at org.apache.parquet.hadoop.ParquetFileReader.open(ParquetFileReader.java:657)\n    at org.apache.spark.sql.execution.datasources.parquet.ParquetFooterReader.readFooter(ParquetFooterReader.java:53)\n    at org.apache.spark.sql.execution.datasources.parquet.ParquetFooterReader.readFooter(ParquetFooterReader.java:44)\n    at org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat$.$anonfun$readParquetFootersInParallel$1(ParquetFileFormat.scala:515)\n    ... 13 more\n\nDriver stacktrace:\n    at org.apache.spark.scheduler.DAGScheduler.failJobAndIndependentStages(DAGScheduler.scala:2672)\n    at org.apache.spark.scheduler.DAGScheduler.$anonfun$abortStage$2(DAGScheduler.scala:2608)\n    at org.apache.spark.scheduler.DAGScheduler.$anonfun$abortStage$2$adapted(DAGScheduler.scala:2607)\n    at scala.collection.mutable.ResizableArray.foreach(ResizableArray.scala:62)\n    at scala.collection.mutable.ResizableArray.foreach$(ResizableArray.scala:55)\n    at scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:49)\n    at org.apache.spark.scheduler.DAGScheduler.abortStage(DAGScheduler.scala:2607)\n    at org.apache.spark.scheduler.DAGScheduler.$anonfun$handleTaskSetFailed$1(DAGScheduler.scala:1182)\n    at org.apache.spark.scheduler.DAGScheduler.$anonfun$handleTaskSetFailed$1$adapted(DAGScheduler.scala:1182)\n    at scala.Option.foreach(Option.scala:407)\n    at org.apache.spark.scheduler.DAGScheduler.handleTaskSetFailed(DAGScheduler.scala:1182)\n    at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.doOnReceive(DAGScheduler.scala:2860)\n    at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:2802)\n    at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:2791)\n    at org.apache.spark.util.EventLoop$$anon$1.run(EventLoop.scala:49)\n    at org.apache.spark.scheduler.DAGScheduler.runJob(DAGScheduler.scala:952)\n    at org.apache.spark.SparkContext.runJob(SparkContext.scala:2238)\n    at org.apache.spark.SparkContext.runJob(SparkContext.scala:2259)\n    at org.apache.spark.SparkContext.runJob(SparkContext.scala:2278)\n    at org.apache.spark.SparkContext.runJob(SparkContext.scala:2303)\n    at org.apache.spark.rdd.RDD.$anonfun$collect$1(RDD.scala:1021)\n    at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\n    at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:112)\n    at org.apache.spark.rdd.RDD.withScope(RDD.scala:406)\n    at org.apache.spark.rdd.RDD.collect(RDD.scala:1020)\n    at org.apache.spark.sql.execution.datasources.SchemaMergeUtils$.mergeSchemasInParallel(SchemaMergeUtils.scala:70)\n    at org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat$.mergeSchemasInParallel(ParquetFileFormat.scala:560)\n    at org.apache.spark.sql.execution.datasources.parquet.ParquetUtils$.inferSchema(ParquetUtils.scala:125)\n    at org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat.inferSchema(ParquetFileFormat.scala:171)\n    at org.apache.spark.sql.execution.datasources.DataSource.$anonfun$getOrInferFileFormatSchema$11(DataSource.scala:210)\n    at scala.Option.orElse(Option.scala:447)\n    at org.apache.spark.sql.execution.datasources.DataSource.getOrInferFileFormatSchema(DataSource.scala:207)\n    at org.apache.spark.sql.execution.datasources.DataSource.resolveRelation(DataSource.scala:411)\n    at org.apache.spark.sql.DataFrameReader.loadV1Source(DataFrameReader.scala:228)\n    at org.apache.spark.sql.DataFrameReader.$anonfun$load$2(DataFrameReader.scala:210)\n    at scala.Option.getOrElse(Option.scala:189)\n    at org.apache.spark.sql.DataFrameReader.load(DataFrameReader.scala:210)\n    at org.apache.spark.sql.DataFrameReader.parquet(DataFrameReader.scala:562)\n    at sun.reflect.GeneratedMethodAccessor43.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:244)\n    at py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\n    at py4j.Gateway.invoke(Gateway.java:282)\n    at py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\n    at py4j.commands.CallCommand.execute(CallCommand.java:79)\n    at py4j.ClientServerConnection.waitForCommands(ClientServerConnection.java:182)\n    at py4j.ClientServerConnection.run(ClientServerConnection.java:106)\n    at java.lang.Thread.run(Thread.java:750)\nCaused by: org.apache.spark.SparkException: Exception thrown in awaitResult: \n    at org.apache.spark.util.ThreadUtils$.awaitResult(ThreadUtils.scala:301)\n    at org.apache.spark.util.ThreadUtils$.parmap(ThreadUtils.scala:375)\n    at org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat$.readParquetFootersInParallel(ParquetFileFormat.scala:508)\n    at org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat$.$anonfun$mergeSchemasInParallel$1(ParquetFileFormat.scala:556)\n    at org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat$.$anonfun$mergeSchemasInParallel$1$adapted(ParquetFileFormat.scala:549)\n    at org.apache.spark.sql.execution.datasources.SchemaMergeUtils$.$anonfun$mergeSchemasInParallel$2(SchemaMergeUtils.scala:76)\n    at org.apache.spark.rdd.RDD.$anonfun$mapPartitions$2(RDD.scala:855)\n    at org.apache.spark.rdd.RDD.$anonfun$mapPartitions$2$adapted(RDD.scala:855)\n    at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\n    at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\n    at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\n    at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\n    at org.apache.spark.scheduler.Task.run(Task.scala:136)\n    at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:548)\n    at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1504)\n    at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:551)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    ... 1 more\nCaused by: java.io.IOException: Could not read footer for file: FileStatus{path=file:/Users/xxxxx/Desktop/sourceId=eva; isDirectory=false; length=63887; replication=0; blocksize=0; modification_time=0; access_time=0; owner=; group=; permission=rw-rw-rw-; isSymlink=false; hasAcl=false; isEncrypted=false; isErasureCoded=false}\n    at org.apache.spark.sql.errors.QueryExecutionErrors$.cannotReadFooterForFileError(QueryExecutionErrors.scala:882)\n    at org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat$.$anonfun$readParquetFootersInParallel$1(ParquetFileFormat.scala:521)\n    at org.apache.spark.util.ThreadUtils$.$anonfun$parmap$2(ThreadUtils.scala:372)\n    at scala.concurrent.Future$.$anonfun$apply$1(Future.scala:659)\n    at scala.util.Success.$anonfun$map$1(Try.scala:255)\n    at scala.util.Success.map(Try.scala:213)\n    at scala.concurrent.Future.$anonfun$map$1(Future.scala:292)\n    at scala.concurrent.impl.Promise.liftedTree1$1(Promise.scala:33)\n    at scala.concurrent.impl.Promise.$anonfun$transform$1(Promise.scala:33)\n    at scala.concurrent.impl.CallbackRunnable.run(Promise.scala:64)\n    at java.util.concurrent.ForkJoinTask$RunnableExecuteAction.exec(ForkJoinTask.java:1402)\n    at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\n    at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1067)\n    at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1703)\n    at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:172)\nCaused by: java.lang.RuntimeException: file:/Users/xxxxx/Desktop/sourceId=eva is not a Parquet file. Expected magic number at tail, but found [109, 108, 62, 10]\n    at org.apache.parquet.hadoop.ParquetFileReader.readFooter(ParquetFileReader.java:556)\n    at org.apache.parquet.hadoop.ParquetFileReader.&lt;init&gt;(ParquetFileReader.java:776)\n    at org.apache.parquet.hadoop.ParquetFileReader.open(ParquetFileReader.java:657)\n    at org.apache.spark.sql.execution.datasources.parquet.ParquetFooterReader.readFooter(ParquetFooterReader.java:53)\n    at org.apache.spark.sql.execution.datasources.parquet.ParquetFooterReader.readFooter(ParquetFooterReader.java:44)\n    at org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat$.$anonfun$readParquetFootersInParallel$1(ParquetFileFormat.scala:515)\n    ... 13 more\n</code></pre>\n<p>Could anyone tell me what is going wrong here?</p>\n<p>here is the file I downloaded:</p>\n<p>wget --recursive --no-parent --no-host-directories --cut-dirs 8 <br />\n<a href=\"https://ftp.ebi.ac.uk/pub/databases/opentargets/platform/21.04/output/etl/parquet/evidence/sourceId=eva\" rel=\"nofollow noreferrer\">https://ftp.ebi.ac.uk/pub/databases/opentargets/platform/21.04/output/etl/parquet/evidence/sourceId=eva</a></p>\n"},{"tags":["java","spring","spring-mvc","soa"],"answers":[{"tags":[],"owner":{"account_id":56319,"reputation":32862,"user_id":168703,"accept_rate":89,"display_name":"JonH"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1335906694,"creation_date":1335906694,"answer_id":10404431,"question_id":10404407,"body_markdown":"Ask yourself what other options do you have, sometimes exceptions are necessary.  The only other thing you could do is return a status of failure or success and handle appropriately.","title":"Should Service layer throw an exception?","body":"<p>Ask yourself what other options do you have, sometimes exceptions are necessary.  The only other thing you could do is return a status of failure or success and handle appropriately.</p>\n"},{"comments":[{"owner":{"account_id":3345023,"reputation":3060,"user_id":2810349,"accept_rate":89,"display_name":"sky91"},"score":1,"creation_date":1620027858,"post_id":10404497,"comment_id":119070615,"body_markdown":"the link is broken now","body":"the link is broken now"},{"owner":{"account_id":14611,"reputation":64769,"user_id":30225,"accept_rate":77,"display_name":"Preet Sangha"},"score":0,"creation_date":1620089284,"post_id":10404497,"comment_id":119092624,"body_markdown":"Removed as that article has been purged","body":"Removed as that article has been purged"},{"owner":{"account_id":14611,"reputation":64769,"user_id":30225,"accept_rate":77,"display_name":"Preet Sangha"},"score":0,"creation_date":1678400312,"post_id":10404497,"comment_id":133530287,"body_markdown":"found an updated version of the link","body":"found an updated version of the link"}],"tags":[],"owner":{"account_id":14611,"reputation":64769,"user_id":30225,"accept_rate":77,"display_name":"Preet Sangha"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1678400297,"creation_date":1335907075,"answer_id":10404497,"question_id":10404407,"body_markdown":"Depends on what you mean by service and exception, but in the context you&#39;ve got, I&#39;ll assume a java exception from an HTTP endpoint.\r\n\r\nThe answer is no. Services should expose errors in a general way. In the case of Restful service, errors should be propagated as HTTP status with error codes. The service shouldn&#39;t leak implementation details to consumers. It&#39;s a natural boundary.\r\n\r\nThe Consumer should handle those error situations and decide the most appropriate what to communicate. It may well choose to generate an exception.  But these exceptions are disjoint from the original issue/exception that caused the service to return an error code.\r\n\r\nGoing further I would say @yahir is right in what he says also. HTTP service would expose HTTP errors, and it may well just be using another service underneath that returns another kind of error, but its job will be to handle or map them appropriately.\r\n\r\n\r\nHere is a good article that explains this in more detail: https://learn.microsoft.com/en-us/archive/blogs/rjacobs/restful-services-and-business-exceptions\r\n  ","title":"Should Service layer throw an exception?","body":"<p>Depends on what you mean by service and exception, but in the context you've got, I'll assume a java exception from an HTTP endpoint.</p>\n<p>The answer is no. Services should expose errors in a general way. In the case of Restful service, errors should be propagated as HTTP status with error codes. The service shouldn't leak implementation details to consumers. It's a natural boundary.</p>\n<p>The Consumer should handle those error situations and decide the most appropriate what to communicate. It may well choose to generate an exception.  But these exceptions are disjoint from the original issue/exception that caused the service to return an error code.</p>\n<p>Going further I would say @yahir is right in what he says also. HTTP service would expose HTTP errors, and it may well just be using another service underneath that returns another kind of error, but its job will be to handle or map them appropriately.</p>\n<p>Here is a good article that explains this in more detail: <a href=\"https://learn.microsoft.com/en-us/archive/blogs/rjacobs/restful-services-and-business-exceptions\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/archive/blogs/rjacobs/restful-services-and-business-exceptions</a></p>\n"},{"tags":[],"owner":{"account_id":952653,"reputation":9035,"user_id":978502,"accept_rate":67,"display_name":"yair"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1335907550,"creation_date":1335907550,"answer_id":10404600,"question_id":10404407,"body_markdown":"I&#39;d say the service layer should behave just like any other method exposed to client code. After all, that&#39;s exactly what it is.\r\n\r\nClients that will use it through RPC, will expect exactly this behavior.\r\n\r\nOther cilents, such as REST, should anyway access the services layer through some other wrapping layer (e.g. `Controller` layer). One of this wrapping layer duties is transforming the response to be client-consumable.","title":"Should Service layer throw an exception?","body":"<p>I'd say the service layer should behave just like any other method exposed to client code. After all, that's exactly what it is.</p>\n\n<p>Clients that will use it through RPC, will expect exactly this behavior.</p>\n\n<p>Other cilents, such as REST, should anyway access the services layer through some other wrapping layer (e.g. <code>Controller</code> layer). One of this wrapping layer duties is transforming the response to be client-consumable.</p>\n"}],"owner":{"account_id":1441202,"reputation":14395,"user_id":1361315,"accept_rate":38,"display_name":"loyalflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10270,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1678400297,"creation_date":1335906579,"question_id":10404407,"body_markdown":"I don&#39;t like throwing exceptions for some reason, maybe because of the performance hit I don&#39;t know, wondering if I should re-think this issue.\r\n\r\nShould my service layer (uses Dao&#39;s + business logic etc.) be throwing exceptions?\r\n\r\n    public ModelAndView createProduct(@Valid ProductForm productForm, ..) {\r\n      ModelAndView mav = new ModelAndView(...);\r\n      \r\n      if(bindingResult.hasErrors()) {\r\n         return mav;\r\n      }\r\n    \r\n      // throw exception if user doesn&#39;t have permissions??\r\n      productService.create(product, userPermissions);\r\n      \r\n    }\r\n\r\n\r\nSo my options in the create method of the ProductService:\r\n\r\n1. if the user doesn&#39;t have permissions, throw an exception\r\n2. return some sort of a Response object that will have the new product Id if it was a success, along with a success/failure flag and a error collection.\r\n\r\n\r\n\r\nThings to keep in mind:\r\n\r\n**I may re-use this service layer in a non-web app, also in a restful web service.**\r\n\r\nWhat is considered best practice?\r\n","title":"Should Service layer throw an exception?","body":"<p>I don't like throwing exceptions for some reason, maybe because of the performance hit I don't know, wondering if I should re-think this issue.</p>\n\n<p>Should my service layer (uses Dao's + business logic etc.) be throwing exceptions?</p>\n\n<pre><code>public ModelAndView createProduct(@Valid ProductForm productForm, ..) {\n  ModelAndView mav = new ModelAndView(...);\n\n  if(bindingResult.hasErrors()) {\n     return mav;\n  }\n\n  // throw exception if user doesn't have permissions??\n  productService.create(product, userPermissions);\n\n}\n</code></pre>\n\n<p>So my options in the create method of the ProductService:</p>\n\n<ol>\n<li>if the user doesn't have permissions, throw an exception</li>\n<li>return some sort of a Response object that will have the new product Id if it was a success, along with a success/failure flag and a error collection.</li>\n</ol>\n\n<p>Things to keep in mind:</p>\n\n<p><strong>I may re-use this service layer in a non-web app, also in a restful web service.</strong></p>\n\n<p>What is considered best practice?</p>\n"},{"tags":["java","spring","spring-webflux","reactive-programming","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678400148,"creation_date":1678400148,"answer_id":75690553,"question_id":75689998,"body_markdown":"You need this operator from `Mono`:\r\n\r\n\r\n\t/**\r\n\t * Let this {@link Mono} complete then play another Mono.\r\n\t * &lt;p&gt;\r\n\t * In other words ignore element from this {@link Mono} and transform its completion signal into the\r\n\t * emission and completion signal of a provided {@code Mono&lt;V&gt;}. Error signal is\r\n\t * replayed in the resulting {@code Mono&lt;V&gt;}.\r\n\t *\r\n\t * &lt;p&gt;\r\n\t * &lt;img class=&quot;marble&quot; src=&quot;doc-files/marbles/thenWithMonoForMono.svg&quot; alt=&quot;&quot;&gt;\r\n\t *\r\n\t * &lt;p&gt;&lt;strong&gt;Discard Support:&lt;/strong&gt; This operator discards the element from the source.\r\n\t *\r\n\t * @param other a {@link Mono} to emit from after termination\r\n\t * @param &lt;V&gt; the element type of the supplied Mono\r\n\t *\r\n\t * @return a new {@link Mono} that emits from the supplied {@link Mono}\r\n\t */\r\n\tpublic final &lt;V&gt; Mono&lt;V&gt; then(Mono&lt;V&gt; other) {\r\n\r\nSo, in your code it probably could be like this:\r\n\r\n     return spi.messageEvent(message)\r\n         .then(spi.getPersonById(evt.getVictimId()))\r\n         .map(repository::save);\r\n\r\nAnd yes: don&#39;t use `block()` in a Reactor Http thread.","title":"execute 2 Mono sequentialy not supporte blocking","body":"<p>You need this operator from <code>Mono</code>:</p>\n<pre><code>/**\n * Let this {@link Mono} complete then play another Mono.\n * &lt;p&gt;\n * In other words ignore element from this {@link Mono} and transform its completion signal into the\n * emission and completion signal of a provided {@code Mono&lt;V&gt;}. Error signal is\n * replayed in the resulting {@code Mono&lt;V&gt;}.\n *\n * &lt;p&gt;\n * &lt;img class=&quot;marble&quot; src=&quot;doc-files/marbles/thenWithMonoForMono.svg&quot; alt=&quot;&quot;&gt;\n *\n * &lt;p&gt;&lt;strong&gt;Discard Support:&lt;/strong&gt; This operator discards the element from the source.\n *\n * @param other a {@link Mono} to emit from after termination\n * @param &lt;V&gt; the element type of the supplied Mono\n *\n * @return a new {@link Mono} that emits from the supplied {@link Mono}\n */\npublic final &lt;V&gt; Mono&lt;V&gt; then(Mono&lt;V&gt; other) {\n</code></pre>\n<p>So, in your code it probably could be like this:</p>\n<pre><code> return spi.messageEvent(message)\n     .then(spi.getPersonById(evt.getVictimId()))\n     .map(repository::save);\n</code></pre>\n<p>And yes: don't use <code>block()</code> in a Reactor Http thread.</p>\n"}],"owner":{"account_id":6070104,"reputation":1839,"user_id":4739210,"accept_rate":0,"display_name":"Aymen Kanzari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75690553,"answer_count":1,"score":-1,"last_activity_date":1678400148,"creation_date":1678395629,"question_id":75689998,"body_markdown":"i have the two bellow functions\r\n\r\n    Mono&lt;Void&gt; messageEvent(MessageEvent messageEvent);\r\n    Mono&lt;Victim&gt; getPersonById(String personId);\r\n\r\ni want when the function `messageEvent` is executed successfully i executethe `getPersonById ` function, and the return of the `getPersonById ` function is saved in the database\r\n\r\ni tried like below\r\n\r\n        spi.messageEvent(message).doOnSuccess(it -&gt; {\r\n            spi.getPersonById(evt.getVictimId()).doOnSuccess(victim -&gt; {\r\n                repository.save(victim);\r\n            }).block();\r\n        }).block();\r\n\r\nbut i have this error\r\n\r\n&gt; 2023-03-09 21:56:20.191 ERROR 21080 --- [nister-group]-0]\r\n&gt; c.s.e.v.s.q.i : Exception in on() with\r\n&gt; cause = &#39;NULL&#39; and exception = &#39;block()/blockFirst()/blockLast() are\r\n&gt; blocking, which is not supported in thread reactor-http-nio-2&#39;\r\n&gt; java.lang.IllegalStateException: block()/blockFirst()/blockLast() are\r\n&gt; blocking, which is not supported in thread reactor-http-nio-2 \tat\r\n&gt; reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:83\r\n\r\n)","title":"execute 2 Mono sequentialy not supporte blocking","body":"<p>i have the two bellow functions</p>\n<pre><code>Mono&lt;Void&gt; messageEvent(MessageEvent messageEvent);\nMono&lt;Victim&gt; getPersonById(String personId);\n</code></pre>\n<p>i want when the function <code>messageEvent</code> is executed successfully i executethe <code>getPersonById </code> function, and the return of the <code>getPersonById </code> function is saved in the database</p>\n<p>i tried like below</p>\n<pre><code>    spi.messageEvent(message).doOnSuccess(it -&gt; {\n        spi.getPersonById(evt.getVictimId()).doOnSuccess(victim -&gt; {\n            repository.save(victim);\n        }).block();\n    }).block();\n</code></pre>\n<p>but i have this error</p>\n<blockquote>\n<p>2023-03-09 21:56:20.191 ERROR 21080 --- [nister-group]-0]\nc.s.e.v.s.q.i : Exception in on() with\ncause = 'NULL' and exception = 'block()/blockFirst()/blockLast() are\nblocking, which is not supported in thread reactor-http-nio-2'\njava.lang.IllegalStateException: block()/blockFirst()/blockLast() are\nblocking, which is not supported in thread reactor-http-nio-2     at\nreactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:83</p>\n</blockquote>\n<p>)</p>\n"},{"tags":["java","maven","swagger","swagger-codegen"],"answers":[{"tags":[],"owner":{"account_id":1106960,"reputation":689,"user_id":1098180,"accept_rate":75,"display_name":"Jarmex"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1496391646,"creation_date":1496391646,"answer_id":44324100,"question_id":43773946,"body_markdown":"It&#39;s not particularly well documented, but it appears you are able to override the artifactId, groupId etc from within the configOptions:\r\n\r\n\r\n    &lt;configOptions&gt;\r\n        &lt;groupId&gt;com.your.group.id&lt;/groupId&gt;\r\n        &lt;artifactId&gt;your-artifact-id&lt;/artifactId&gt;\r\n        &lt;artifactVersion&gt;0.0.1-SNAPSHOT&lt;/artifactVersion&gt;\r\n    &lt;/configOptions&gt;\r\n\r\nMany of the properties inside [CodegenConstants.java][1] can be set in the same way.\r\n\r\n\r\n  [1]: https://github.com/swagger-api/swagger-codegen/blob/master/modules/swagger-codegen/src/main/java/io/swagger/codegen/CodegenConstants.java","title":"How can I generate a maven repository-ready library with swagger-codegen-maven-plugin?","body":"<p>It's not particularly well documented, but it appears you are able to override the artifactId, groupId etc from within the configOptions:</p>\n\n<pre><code>&lt;configOptions&gt;\n    &lt;groupId&gt;com.your.group.id&lt;/groupId&gt;\n    &lt;artifactId&gt;your-artifact-id&lt;/artifactId&gt;\n    &lt;artifactVersion&gt;0.0.1-SNAPSHOT&lt;/artifactVersion&gt;\n&lt;/configOptions&gt;\n</code></pre>\n\n<p>Many of the properties inside <a href=\"https://github.com/swagger-api/swagger-codegen/blob/master/modules/swagger-codegen/src/main/java/io/swagger/codegen/CodegenConstants.java\" rel=\"nofollow noreferrer\">CodegenConstants.java</a> can be set in the same way.</p>\n"},{"tags":[],"owner":{"account_id":15889013,"reputation":21,"user_id":11464692,"display_name":"ashu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678399388,"creation_date":1675626130,"answer_id":75355020,"question_id":43773946,"body_markdown":"I updated it using below config Properties (gradle)\r\n\r\n&#39;groupId&#39;         : &#39;your-group-id&#39;,\r\n\r\n&#39;artifactId&#39;      : &#39;your-artifact-id&#39;\r\n     \r\nyou can also go through document which is helpful for reference of the properties.\r\nhttps://openapi-generator.tech/docs/generators/kotlin/\r\n","title":"How can I generate a maven repository-ready library with swagger-codegen-maven-plugin?","body":"<p>I updated it using below config Properties (gradle)</p>\n<p>'groupId'         : 'your-group-id',</p>\n<p>'artifactId'      : 'your-artifact-id'</p>\n<p>you can also go through document which is helpful for reference of the properties.\n<a href=\"https://openapi-generator.tech/docs/generators/kotlin/\" rel=\"nofollow noreferrer\">https://openapi-generator.tech/docs/generators/kotlin/</a></p>\n"}],"owner":{"account_id":427496,"reputation":853,"user_id":809289,"accept_rate":79,"display_name":"k-den"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2987,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":44324100,"answer_count":2,"score":1,"last_activity_date":1678399388,"creation_date":1493872398,"question_id":43773946,"body_markdown":"\r\nI&#39;m using the Maven plugin `swagger-codegen-maven-plugin` to generate a Java client jar.  I put my `swagger.json` in the `src/main/resources` folder and ran `mvn clean install`.  Here is my pom.xml.\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;my-java-client&lt;/artifactId&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;my-java-client&lt;/name&gt;\r\n    \t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t\t&lt;swagger.version&gt;1.5.13&lt;/swagger.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.8.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.squareup.okhttp&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;okhttp&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.7.5&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.squareup.okhttp&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;logging-interceptor&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.7.5&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.swagger&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;swagger-codegen&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.2.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.squareup.okio&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;okio&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.12.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;io.swagger&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;swagger-codegen-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.2.2&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;inputSpec&gt;src/main/resources/swagger.json&lt;/inputSpec&gt;\r\n    \t\t\t\t\t\t\t&lt;modelPackage&gt;mypackage.model&lt;/modelPackage&gt;\r\n    \t\t\t\t\t\t\t&lt;apiPackage&gt;mypackage&lt;/apiPackage&gt;\r\n    \t\t\t\t\t\t\t&lt;invokerPackage&gt;mypackage.invoker&lt;/invokerPackage&gt;\r\n    \t\t\t\t\t\t\t&lt;language&gt;java&lt;/language&gt;\r\n    \t\t\t\t\t\t\t&lt;configOptions&gt;\r\n    \t\t\t\t\t\t\t\t&lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\r\n    \t\t\t\t\t\t\t\t&lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\r\n    \t\t\t\t\t\t\t\t&lt;java8&gt;true&lt;/java8&gt;\r\n    \t\t\t\t\t\t\t&lt;/configOptions&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nWhen I run `mvn clean install`, a jar file `my-java-client-1.0-SNAPSHOT.jar` is made in the target folder.  It has source code in it, but no pom.xml file.  There is a `pom.xml` file in the `target/generated-sources/swagger` folder but it has the `groupId` and `artifactId`:\r\n\r\n      &lt;groupId&gt;io.swagger&lt;/groupId&gt;\r\n      &lt;artifactId&gt;swagger-java-client&lt;/artifactId&gt;\r\n\r\nThe README.md file in the `target/generated-sources/swagger`says to include the following in your `pom.xml` to use the generated jar:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.swagger&lt;/groupId&gt;\r\n        &lt;artifactId&gt;swagger-java-client&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.0&lt;/version&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI&#39;m guessing these are just defaults because if I generated multiple swagger clients they would conflict over the name, and I can see in the swagger-codegen source code that these fields are generated from placeholders like `{{artifactId}}`.  I haven&#39;t been able to find where I can set these  placeholders.\r\n\r\nHow can I get the jar to include a `pom.xml` with an `artifactId` and `groupId` of my choosing, so I can upload it to a Maven repository like Artifactory, and use it in my Maven dependencies?  \r\n","title":"How can I generate a maven repository-ready library with swagger-codegen-maven-plugin?","body":"<p>I'm using the Maven plugin <code>swagger-codegen-maven-plugin</code> to generate a Java client jar.  I put my <code>swagger.json</code> in the <code>src/main/resources</code> folder and ran <code>mvn clean install</code>.  Here is my pom.xml.</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;my-java-client&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;my-java-client&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;swagger.version&gt;1.5.13&lt;/swagger.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.8.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.squareup.okhttp&lt;/groupId&gt;\n            &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\n            &lt;version&gt;2.7.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.squareup.okhttp&lt;/groupId&gt;\n            &lt;artifactId&gt;logging-interceptor&lt;/artifactId&gt;\n            &lt;version&gt;2.7.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.swagger&lt;/groupId&gt;\n            &lt;artifactId&gt;swagger-codegen&lt;/artifactId&gt;\n            &lt;version&gt;2.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.squareup.okio&lt;/groupId&gt;\n            &lt;artifactId&gt;okio&lt;/artifactId&gt;\n            &lt;version&gt;1.12.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;io.swagger&lt;/groupId&gt;\n                &lt;artifactId&gt;swagger-codegen-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.2.2&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;inputSpec&gt;src/main/resources/swagger.json&lt;/inputSpec&gt;\n                            &lt;modelPackage&gt;mypackage.model&lt;/modelPackage&gt;\n                            &lt;apiPackage&gt;mypackage&lt;/apiPackage&gt;\n                            &lt;invokerPackage&gt;mypackage.invoker&lt;/invokerPackage&gt;\n                            &lt;language&gt;java&lt;/language&gt;\n                            &lt;configOptions&gt;\n                                &lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\n                                &lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\n                                &lt;java8&gt;true&lt;/java8&gt;\n                            &lt;/configOptions&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>When I run <code>mvn clean install</code>, a jar file <code>my-java-client-1.0-SNAPSHOT.jar</code> is made in the target folder.  It has source code in it, but no pom.xml file.  There is a <code>pom.xml</code> file in the <code>target/generated-sources/swagger</code> folder but it has the <code>groupId</code> and <code>artifactId</code>:</p>\n\n<pre><code>  &lt;groupId&gt;io.swagger&lt;/groupId&gt;\n  &lt;artifactId&gt;swagger-java-client&lt;/artifactId&gt;\n</code></pre>\n\n<p>The README.md file in the <code>target/generated-sources/swagger</code>says to include the following in your <code>pom.xml</code> to use the generated jar:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.swagger&lt;/groupId&gt;\n    &lt;artifactId&gt;swagger-java-client&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>I'm guessing these are just defaults because if I generated multiple swagger clients they would conflict over the name, and I can see in the swagger-codegen source code that these fields are generated from placeholders like <code>{{artifactId}}</code>.  I haven't been able to find where I can set these  placeholders.</p>\n\n<p>How can I get the jar to include a <code>pom.xml</code> with an <code>artifactId</code> and <code>groupId</code> of my choosing, so I can upload it to a Maven repository like Artifactory, and use it in my Maven dependencies?  </p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":20436985,"reputation":31,"user_id":14994609,"display_name":"Oscar Oliveira"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678398589,"creation_date":1678398589,"answer_id":75690376,"question_id":75690307,"body_markdown":"Good Evening Friend, have you tried using the following snippet:\r\n\r\n    @Value(&quot;${spring.profiles.active}&quot;)\r\n\tprivate String activeProfiles;","title":"Read and write value from active profile in spring boot","body":"<p>Good Evening Friend, have you tried using the following snippet:</p>\n<pre><code>@Value(&quot;${spring.profiles.active}&quot;)\nprivate String activeProfiles;\n</code></pre>\n"}],"owner":{"account_id":27812518,"reputation":3,"user_id":21234637,"display_name":"user21234637"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75690376,"answer_count":1,"score":0,"last_activity_date":1678398589,"creation_date":1678398073,"question_id":75690307,"body_markdown":"I have some values in application-dev and application-qa properties. Now based on my active profile I would like to change the \r\n\r\n\r\n\r\n     Properties props = new Properties();\r\n     InputStream input = null;\r\n     OutputStream output = null;\r\n     \r\n     try\r\n    \t\t{\r\n    \r\n    \r\n    input = new FileInputStream(&quot;src\\\\main\\\\resources\\\\application-dev.properties&quot;);\r\n     props.load(input);\r\n     props.setProperty(key, value);\r\n     output = new FileOutputStream(&quot;src\\\\main\\\\resources\\\\application-dev.properties&quot;);\r\n     props.store(output, null);\r\n     \t\t}\r\n     catch(IOException ex)\r\n    \t\t{\r\n     ex.printStackTrace();\r\n     \t\t}\r\n   \r\n\r\n\r\n\r\nI know that @Profile gives me my active profile but I am not very successful in fetching that value?","title":"Read and write value from active profile in spring boot","body":"<p>I have some values in application-dev and application-qa properties. Now based on my active profile I would like to change the</p>\n<pre><code> Properties props = new Properties();\n InputStream input = null;\n OutputStream output = null;\n \n try\n        {\n\n\ninput = new FileInputStream(&quot;src\\\\main\\\\resources\\\\application-dev.properties&quot;);\n props.load(input);\n props.setProperty(key, value);\n output = new FileOutputStream(&quot;src\\\\main\\\\resources\\\\application-dev.properties&quot;);\n props.store(output, null);\n        }\n catch(IOException ex)\n        {\n ex.printStackTrace();\n        }\n</code></pre>\n<p>I know that @Profile gives me my active profile but I am not very successful in fetching that value?</p>\n"},{"tags":["java","binary-tree","tree-traversal","preorder"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1678398078,"post_id":75690272,"comment_id":133529783,"body_markdown":"In your version, you call `preorderTraversal(root.left, answer)`, but you never define a version of `preorderTraversal` that accepts a list.","body":"In your version, you call <code>preorderTraversal(root.left, answer)</code>, but you never define a version of <code>preorderTraversal</code> that accepts a list."}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678398423,"creation_date":1678398423,"answer_id":75690358,"question_id":75690272,"body_markdown":"Your attempt calls the function recursively with 2 arguments, but there is no function with that signature.\r\n\r\nNote also that your base case `return` is not valid, as your function is supposed to return an ArrayList, so do `return answer;`.\r\n\r\nIt is however possible to do it without helper function. You should then capture the returned ArrayList from the recursive calls, and add those contents to your current ArrayList:\r\n\r\n```\r\n    public List&lt;Integer&gt; preorderTraversal(TreeNode root) {\r\n        List&lt;Integer&gt; answer = new ArrayList&lt;&gt;();\r\n        if (root == null) return answer;\r\n        answer.add(root.val);                  \r\n        answer.addAll(preorderTraversal(root.left));   \r\n        answer.addAll(preorderTraversal(root.right));  \r\n        return answer;\r\n    }\r\n```\r\n\r\nBut this is not so memory efficient as the version with the helper function, which only needs *one* ArrayList and no values need to be copied from one ArrayList to another.\r\n ","title":"Why Do Binary Tree Traversals need a helper function?","body":"<p>Your attempt calls the function recursively with 2 arguments, but there is no function with that signature.</p>\n<p>Note also that your base case <code>return</code> is not valid, as your function is supposed to return an ArrayList, so do <code>return answer;</code>.</p>\n<p>It is however possible to do it without helper function. You should then capture the returned ArrayList from the recursive calls, and add those contents to your current ArrayList:</p>\n<pre><code>    public List&lt;Integer&gt; preorderTraversal(TreeNode root) {\n        List&lt;Integer&gt; answer = new ArrayList&lt;&gt;();\n        if (root == null) return answer;\n        answer.add(root.val);                  \n        answer.addAll(preorderTraversal(root.left));   \n        answer.addAll(preorderTraversal(root.right));  \n        return answer;\n    }\n</code></pre>\n<p>But this is not so memory efficient as the version with the helper function, which only needs <em>one</em> ArrayList and no values need to be copied from one ArrayList to another.</p>\n"}],"owner":{"account_id":16918934,"reputation":11,"user_id":12236193,"display_name":"K E"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678398423,"creation_date":1678397757,"question_id":75690272,"body_markdown":"\r\n```\r\nclass Solution {\r\n    private void preorderTraversal(TreeNode root, List&lt;Integer&gt; answer) {\r\n        if (root == null) {\r\n            return;\r\n        }\r\n        answer.add(root.val);                   \r\n        preorderTraversal(root.left, answer);   \r\n        preorderTraversal(root.right, answer);  \r\n    }\r\n    public List&lt;Integer&gt; preorderTraversal(TreeNode root) {\r\n        List&lt;Integer&gt; answer = new ArrayList&lt;&gt;();\r\n        preorderTraversal(root, answer);\r\n        return answer;\r\n    }\r\n}\r\n```\r\nWhy do i need a helper function?\r\n\r\nI tried implementing the traversal using only one function.I expected this to work without any additional helper function.\r\n\r\n```\r\nclass Solution {\r\n    public List&lt;Integer&gt; preorderTraversal(TreeNode root) {\r\n        List&lt;Integer&gt; answer = new ArrayList&lt;&gt;();\r\n\r\n        if (root == null) {\r\n            return;\r\n        }\r\n        answer.add(root.val);                   \r\n        preorderTraversal(root.left, answer);   \r\n        preorderTraversal(root.right, answer);  \r\n        return answer;\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n","title":"Why Do Binary Tree Traversals need a helper function?","body":"<pre><code>class Solution {\n    private void preorderTraversal(TreeNode root, List&lt;Integer&gt; answer) {\n        if (root == null) {\n            return;\n        }\n        answer.add(root.val);                   \n        preorderTraversal(root.left, answer);   \n        preorderTraversal(root.right, answer);  \n    }\n    public List&lt;Integer&gt; preorderTraversal(TreeNode root) {\n        List&lt;Integer&gt; answer = new ArrayList&lt;&gt;();\n        preorderTraversal(root, answer);\n        return answer;\n    }\n}\n</code></pre>\n<p>Why do i need a helper function?</p>\n<p>I tried implementing the traversal using only one function.I expected this to work without any additional helper function.</p>\n<pre><code>class Solution {\n    public List&lt;Integer&gt; preorderTraversal(TreeNode root) {\n        List&lt;Integer&gt; answer = new ArrayList&lt;&gt;();\n\n        if (root == null) {\n            return;\n        }\n        answer.add(root.val);                   \n        preorderTraversal(root.left, answer);   \n        preorderTraversal(root.right, answer);  \n        return answer;\n\n}\n\n</code></pre>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1678397502,"post_id":75690080,"comment_id":133529656,"body_markdown":"In the JSON, does the property name `&quot;name1&quot;` vary, as in it&#39;s not known ahead of time?","body":"In the JSON, does the property name <code>&quot;name1&quot;</code> vary, as in it&#39;s not known ahead of time?"}],"answers":[{"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":1,"creation_date":1678398522,"post_id":75690173,"comment_id":133529875,"body_markdown":"Perhaps the question just needs some clarification; I posted an alternative answer that&#39;s more &quot;dynamic&quot; if that&#39;s the need.","body":"Perhaps the question just needs some clarification; I posted an alternative answer that&#39;s more &quot;dynamic&quot; if that&#39;s the need."}],"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678397019,"creation_date":1678397019,"answer_id":75690173,"question_id":75690080,"body_markdown":"I&#39;m not sure why you think you need the `String name`, this produces the JSON you want:\r\n```java\r\npublic class Example {\r\n\r\n\t@JsonProperty(&quot;name1&quot;)\r\n    private Map&lt;String,String&gt; properties = new HashMap&lt;&gt;();\r\n\r\n\r\n    public void add(String attr1, String val1) {\r\n        properties.put(attr1, val1);\r\n    }\r\n\r\n    public static void main(String[] args) throws JsonProcessingException {\r\n        Example bean = new Example();\r\n        bean.add(&quot;key1&quot;, &quot;value1&quot;);\r\n        bean.add(&quot;key2&quot;, &quot;value2&quot;);\r\n\r\n        String result = new ObjectMapper().writerWithDefaultPrettyPrinter().writeValueAsString(bean);\r\n        System.out.println(result);\r\n    }\r\n}\r\n```","title":"Using json key as a field in java object","body":"<p>I'm not sure why you think you need the <code>String name</code>, this produces the JSON you want:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Example {\n\n    @JsonProperty(&quot;name1&quot;)\n    private Map&lt;String,String&gt; properties = new HashMap&lt;&gt;();\n\n\n    public void add(String attr1, String val1) {\n        properties.put(attr1, val1);\n    }\n\n    public static void main(String[] args) throws JsonProcessingException {\n        Example bean = new Example();\n        bean.add(&quot;key1&quot;, &quot;value1&quot;);\n        bean.add(&quot;key2&quot;, &quot;value2&quot;);\n\n        String result = new ObjectMapper().writerWithDefaultPrettyPrinter().writeValueAsString(bean);\n        System.out.println(result);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678398389,"creation_date":1678398389,"answer_id":75690350,"question_id":75690080,"body_markdown":"If the JSON property `&quot;name1&quot;` is just an example and can vary (not known ahead of time), this might be what you&#39;re looking for:\r\n```java\r\n@ToString\r\npublic class Example {\r\n\r\n\t@JsonIgnore\r\n\tprivate String name;\r\n\r\n\t@JsonIgnore\r\n    private Map&lt;String, Map&lt;String,String&gt;&gt; properties;\r\n\r\n\tpublic Example() {\r\n\t\tproperties = new HashMap&lt;&gt;();\r\n\t}\r\n\r\n    public Example(String name) {\r\n    \tthis();\r\n    \tthis.name = name;\r\n        properties.put(name, new HashMap&lt;&gt;());\r\n    }\r\n\r\n    public void add(String attr1, String val1) {\r\n        properties.get(name).put(attr1, val1);\r\n    }\r\n\r\n    @JsonAnyGetter\r\n    public Map&lt;String, Map&lt;String, String&gt;&gt; getProperties() {\r\n    \treturn properties;\r\n    }\r\n\r\n    @JsonAnySetter\r\n    public void setProperties(String name, Map&lt;String,String&gt; props) {\r\n    \tthis.name = name;\r\n    \tthis.properties.put(name, props);\r\n    }\r\n\r\n    public static void main(String[] args) throws JsonProcessingException {\r\n        Example bean = new Example(&quot;name1&quot;);\r\n        bean.add(&quot;key1&quot;, &quot;value1&quot;);\r\n        bean.add(&quot;key2&quot;, &quot;value2&quot;);\r\n\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n\t\tString result = objectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(bean);\r\n        System.out.println(result);\r\n\r\n        Example parsed = objectMapper.readValue(result, Example.class);\r\n        System.out.println(parsed);\r\n    }\r\n}\r\n```\r\n\r\nThe output of that is:\r\n```\r\n{\r\n  &quot;name1&quot; : {\r\n    &quot;key1&quot; : &quot;value1&quot;,\r\n    &quot;key2&quot; : &quot;value2&quot;\r\n  }\r\n}\r\n\r\nExample(name=name1, properties={name1={key1=value1, key2=value2}})\r\n```\r\n\r\nThe keys to this working are `@JsonAnyGetter` and `@JsonAnySetter` which are generally for serializing/deserializing arbitrary properties that don&#39;t have dedicated, named fields or getters.\r\n\r\nBy using `@JsonIgnore` on the fields themselves, this allows the &quot;dynamic&quot; properties to shine through instead of the internal representation of the Java object.","title":"Using json key as a field in java object","body":"<p>If the JSON property <code>&quot;name1&quot;</code> is just an example and can vary (not known ahead of time), this might be what you're looking for:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ToString\npublic class Example {\n\n    @JsonIgnore\n    private String name;\n\n    @JsonIgnore\n    private Map&lt;String, Map&lt;String,String&gt;&gt; properties;\n\n    public Example() {\n        properties = new HashMap&lt;&gt;();\n    }\n\n    public Example(String name) {\n        this();\n        this.name = name;\n        properties.put(name, new HashMap&lt;&gt;());\n    }\n\n    public void add(String attr1, String val1) {\n        properties.get(name).put(attr1, val1);\n    }\n\n    @JsonAnyGetter\n    public Map&lt;String, Map&lt;String, String&gt;&gt; getProperties() {\n        return properties;\n    }\n\n    @JsonAnySetter\n    public void setProperties(String name, Map&lt;String,String&gt; props) {\n        this.name = name;\n        this.properties.put(name, props);\n    }\n\n    public static void main(String[] args) throws JsonProcessingException {\n        Example bean = new Example(&quot;name1&quot;);\n        bean.add(&quot;key1&quot;, &quot;value1&quot;);\n        bean.add(&quot;key2&quot;, &quot;value2&quot;);\n\n        ObjectMapper objectMapper = new ObjectMapper();\n        String result = objectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(bean);\n        System.out.println(result);\n\n        Example parsed = objectMapper.readValue(result, Example.class);\n        System.out.println(parsed);\n    }\n}\n</code></pre>\n<p>The output of that is:</p>\n<pre><code>{\n  &quot;name1&quot; : {\n    &quot;key1&quot; : &quot;value1&quot;,\n    &quot;key2&quot; : &quot;value2&quot;\n  }\n}\n\nExample(name=name1, properties={name1={key1=value1, key2=value2}})\n</code></pre>\n<p>The keys to this working are <code>@JsonAnyGetter</code> and <code>@JsonAnySetter</code> which are generally for serializing/deserializing arbitrary properties that don't have dedicated, named fields or getters.</p>\n<p>By using <code>@JsonIgnore</code> on the fields themselves, this allows the &quot;dynamic&quot; properties to shine through instead of the internal representation of the Java object.</p>\n"}],"owner":{"account_id":11239210,"reputation":779,"user_id":8244162,"display_name":"J&#243;n&#225;s Bal&#225;zs"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75690350,"answer_count":2,"score":0,"last_activity_date":1678398389,"creation_date":1678396281,"question_id":75690080,"body_markdown":"I have the following json that I want to serialize and deserialize.\r\n```\r\n{\r\n  &quot;name1&quot;: {\r\n    &quot;key1&quot;: &quot;value1&quot;,\r\n    &quot;key2&quot;: &quot;value2&quot;\r\n  }\r\n}\r\n```\r\n\r\nIs it possible to use a key (eg. &quot;name1&quot; instead of &quot;properites&quot;) as the name property in the java object either with annotation or with custom (de)serializer?\r\n\r\n```java\r\n@lombok.Data\r\npublic class Example {\r\n\r\n    private String name;\r\n\r\n    private Map&lt;String,String&gt; properties = new HashMap&lt;&gt;();\r\n\r\n    public Example(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public void add(String attr1, String val1) {\r\n        properties.put(attr1, val1);\r\n    }\r\n\r\n    public static void main(String[] args) throws JsonProcessingException {\r\n        Example bean = new Example(&quot;name1&quot;);\r\n        bean.add(&quot;key1&quot;, &quot;value1&quot;);\r\n        bean.add(&quot;key2&quot;, &quot;value2&quot;);\r\n\r\n        String result = new ObjectMapper().writerWithDefaultPrettyPrinter().writeValueAsString(bean);\r\n        System.out.println(result);\r\n    }\r\n}\r\n```\r\n\r\n\r\nThe result without any config is the following:\r\n```\r\n{\r\n  &quot;name&quot; : &quot;name1&quot;,\r\n  &quot;properties&quot; : {\r\n    &quot;key1&quot; : &quot;value1&quot;,\r\n    &quot;key2&quot; : &quot;value2&quot;\r\n  }\r\n}\r\n```","title":"Using json key as a field in java object","body":"<p>I have the following json that I want to serialize and deserialize.</p>\n<pre><code>{\n  &quot;name1&quot;: {\n    &quot;key1&quot;: &quot;value1&quot;,\n    &quot;key2&quot;: &quot;value2&quot;\n  }\n}\n</code></pre>\n<p>Is it possible to use a key (eg. &quot;name1&quot; instead of &quot;properites&quot;) as the name property in the java object either with annotation or with custom (de)serializer?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@lombok.Data\npublic class Example {\n\n    private String name;\n\n    private Map&lt;String,String&gt; properties = new HashMap&lt;&gt;();\n\n    public Example(String name) {\n        this.name = name;\n    }\n\n    public void add(String attr1, String val1) {\n        properties.put(attr1, val1);\n    }\n\n    public static void main(String[] args) throws JsonProcessingException {\n        Example bean = new Example(&quot;name1&quot;);\n        bean.add(&quot;key1&quot;, &quot;value1&quot;);\n        bean.add(&quot;key2&quot;, &quot;value2&quot;);\n\n        String result = new ObjectMapper().writerWithDefaultPrettyPrinter().writeValueAsString(bean);\n        System.out.println(result);\n    }\n}\n</code></pre>\n<p>The result without any config is the following:</p>\n<pre><code>{\n  &quot;name&quot; : &quot;name1&quot;,\n  &quot;properties&quot; : {\n    &quot;key1&quot; : &quot;value1&quot;,\n    &quot;key2&quot; : &quot;value2&quot;\n  }\n}\n</code></pre>\n"},{"tags":["java","gson"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1678396471,"post_id":75689994,"comment_id":133529452,"body_markdown":"Looking at [this Q&amp;A](https://stackoverflow.com/q/22310143/6395627), it appears you need to register a &quot;type adapter&quot;. This [other Q&amp;A](https://stackoverflow.com/q/23072733/6395627) links to [a library](https://github.com/gkopff/gson-javatime-serialisers) that may already provide what you need.","body":"Looking at <a href=\"https://stackoverflow.com/q/22310143/6395627\">this Q&amp;A</a>, it appears you need to register a &quot;type adapter&quot;. This <a href=\"https://stackoverflow.com/q/23072733/6395627\">other Q&amp;A</a> links to <a href=\"https://github.com/gkopff/gson-javatime-serialisers\" rel=\"nofollow noreferrer\">a library</a> that may already provide what you need."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1678397141,"post_id":75689994,"comment_id":133529582,"body_markdown":"[gson decode instant](https://www.google.com/search?q=gson+decode+instant&amp;rlz=1C5GCEM_enAU1020AU1020&amp;oq=gson+decode+instant&amp;aqs=chrome..69i57.4523j0j7&amp;sourceid=chrome&amp;ie=UTF-8)","body":"<a href=\"https://www.google.com/search?q=gson+decode+instant&amp;rlz=1C5GCEM_enAU1020AU1020&amp;oq=gson+decode+instant&amp;aqs=chrome..69i57.4523j0j7&amp;sourceid=chrome&amp;ie=UTF-8\" rel=\"nofollow noreferrer\">gson decode instant</a>"}],"answers":[{"comments":[{"owner":{"account_id":19144297,"reputation":637,"user_id":13983643,"display_name":"newLearner"},"score":1,"creation_date":1678399088,"post_id":75690313,"comment_id":133530003,"body_markdown":"You sir, are a life saver ! Can&#39;t thank you enough. I have be struggling with from last 4 hours. Thank you so much :)","body":"You sir, are a life saver ! Can&#39;t thank you enough. I have be struggling with from last 4 hours. Thank you so much :)"},{"owner":{"account_id":19144297,"reputation":637,"user_id":13983643,"display_name":"newLearner"},"score":0,"creation_date":1678399109,"post_id":75690313,"comment_id":133530010,"body_markdown":"Also, thanks for taking the time to explain it so perfectly.","body":"Also, thanks for taking the time to explain it so perfectly."}],"tags":[],"owner":{"account_id":3642026,"reputation":571,"user_id":3035905,"display_name":"Laurent"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1678398113,"creation_date":1678398113,"answer_id":75690313,"question_id":75689994,"body_markdown":"The exception you&#39;re getting is because the &quot;expireAt&quot; field in the JSON is a string, but in the Details class it&#39;s declared as an Instant type. You need to tell Gson how to convert the string to an Instant.\r\n\r\nYou can create a custom Gson deserializer for the Instant type, like this:\r\n\r\n    public class InstantDeserializer implements JsonDeserializer&lt;Instant&gt; {\r\n      @Override\r\n      public Instant deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException {\r\n        return Instant.parse(json.getAsString());\r\n      }\r\n    }\r\n\r\nThen, you can register this deserializer with Gson before parsing the JSON string:\r\n\r\n    Gson gson = new GsonBuilder()\r\n                .registerTypeAdapter(Instant.class, new InstantDeserializer())\r\n                .create();\r\n    MyResponse response = gson.fromJson(string, MyResponse.class);","title":"How to deserialize String to java Instant","body":"<p>The exception you're getting is because the &quot;expireAt&quot; field in the JSON is a string, but in the Details class it's declared as an Instant type. You need to tell Gson how to convert the string to an Instant.</p>\n<p>You can create a custom Gson deserializer for the Instant type, like this:</p>\n<pre><code>public class InstantDeserializer implements JsonDeserializer&lt;Instant&gt; {\n  @Override\n  public Instant deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException {\n    return Instant.parse(json.getAsString());\n  }\n}\n</code></pre>\n<p>Then, you can register this deserializer with Gson before parsing the JSON string:</p>\n<pre><code>Gson gson = new GsonBuilder()\n            .registerTypeAdapter(Instant.class, new InstantDeserializer())\n            .create();\nMyResponse response = gson.fromJson(string, MyResponse.class);\n</code></pre>\n"}],"owner":{"account_id":19144297,"reputation":637,"user_id":13983643,"display_name":"newLearner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1224,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75690313,"answer_count":1,"score":3,"last_activity_date":1678398113,"creation_date":1678395617,"question_id":75689994,"body_markdown":"I have a a JSON string as : \r\n\r\n```\r\n{\r\n    &quot;personId&quot;: &quot;person1&quot;,\r\n    &quot;userId&quot;: &quot;user1&quot;\r\n    &quot;details&quot;: [\r\n        {\r\n            &quot;homeId&quot;: &quot;home1&quot;,\r\n            &quot;expireAt&quot;: &quot;2023-03-08T15:17:04.506Z&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\n\r\nAnd \r\n\r\n```\r\n@Data\r\n@Builder\r\npublic class MyResponse {\r\n    private String personId;\r\n    private String userId;\r\n    private List&lt;Details&gt; details;\r\n}\r\n```\r\n\r\n```\r\n@Data\r\n@Builder\r\npublic class Details {\r\n    private String homeId;\r\n    private Instant expireAt;\r\n}\r\n```\r\n\r\nI am trying to deserialize the JSON `String` to `MyResponse` as : \r\n```\r\nGson().fromJson(string, MyResponse.class)\r\n```\r\n\r\nbut getting the below expcetion for `expireAt` field:\r\n\r\n`Expected BEGIN_OBJECT but was STRING at line 1 column 24 path $.details[0].expireAt`\r\n\r\nHow can I resolve this ?","title":"How to deserialize String to java Instant","body":"<p>I have a a JSON string as :</p>\n<pre><code>{\n    &quot;personId&quot;: &quot;person1&quot;,\n    &quot;userId&quot;: &quot;user1&quot;\n    &quot;details&quot;: [\n        {\n            &quot;homeId&quot;: &quot;home1&quot;,\n            &quot;expireAt&quot;: &quot;2023-03-08T15:17:04.506Z&quot;\n        }\n    ]\n}\n</code></pre>\n<p>And</p>\n<pre><code>@Data\n@Builder\npublic class MyResponse {\n    private String personId;\n    private String userId;\n    private List&lt;Details&gt; details;\n}\n</code></pre>\n<pre><code>@Data\n@Builder\npublic class Details {\n    private String homeId;\n    private Instant expireAt;\n}\n</code></pre>\n<p>I am trying to deserialize the JSON <code>String</code> to <code>MyResponse</code> as :</p>\n<pre><code>Gson().fromJson(string, MyResponse.class)\n</code></pre>\n<p>but getting the below expcetion for <code>expireAt</code> field:</p>\n<p><code>Expected BEGIN_OBJECT but was STRING at line 1 column 24 path $.details[0].expireAt</code></p>\n<p>How can I resolve this ?</p>\n"},{"tags":["java","try-catch","try-with-resources"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1678398118,"post_id":75690281,"comment_id":133529794,"body_markdown":"Pass it as an argument to your methods.","body":"Pass it as an argument to your methods."}],"answers":[{"tags":[],"owner":{"account_id":95716,"reputation":6589,"user_id":260516,"accept_rate":63,"display_name":"Jesse Barnum"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678398080,"creation_date":1678398080,"answer_id":75690310,"question_id":75690281,"body_markdown":"Pass api as a parameter to compute(), and then have compute pass it as a parameter to secondMethod().","title":"Unable to use the instance created in the try block from Main method in other static methods","body":"<p>Pass api as a parameter to compute(), and then have compute pass it as a parameter to secondMethod().</p>\n"}],"owner":{"account_id":27978220,"reputation":3,"user_id":21366502,"display_name":"learner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75690310,"answer_count":1,"score":-1,"last_activity_date":1678398080,"creation_date":1678397818,"question_id":75690281,"body_markdown":"I have a main method which consists of try-with-resource statement as follows -\r\n\r\n```\r\npublic static void main(String[] args) throws Exception {\r\n   try (final MaxApi api = new MaxApi(new CachedCurl(sw))) {\r\n\r\n   final List&lt;Values&gt; finalValues = compute(); // Calls method outside of main method for compute\r\n   final ValueClass value = new ValueClass(api);  // Instance api is used here\r\n   ....\r\n   ....\r\n }\r\n}\r\n```\r\n```\r\nprivate static List&lt;Values&gt; compute() {\r\nfinal String request = &quot;sample Request&quot;;\r\n...\r\n...\r\n...\r\nreturn secondMethod();    //calls second method for fetching values\r\n```\r\n\r\n```\r\n\r\nprivate static List&lt;Values&gt; secondMethod() {\r\n\r\n  return api.fetchResults();   //**Problem** I want to use the above created api instance here. But unable to use it. \r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nHow can I use the above created instance of MaxApi in the method  - &quot;secondMethod&quot; ?","title":"Unable to use the instance created in the try block from Main method in other static methods","body":"<p>I have a main method which consists of try-with-resource statement as follows -</p>\n<pre><code>public static void main(String[] args) throws Exception {\n   try (final MaxApi api = new MaxApi(new CachedCurl(sw))) {\n\n   final List&lt;Values&gt; finalValues = compute(); // Calls method outside of main method for compute\n   final ValueClass value = new ValueClass(api);  // Instance api is used here\n   ....\n   ....\n }\n}\n</code></pre>\n<pre><code>private static List&lt;Values&gt; compute() {\nfinal String request = &quot;sample Request&quot;;\n...\n...\n...\nreturn secondMethod();    //calls second method for fetching values\n</code></pre>\n<pre><code>\nprivate static List&lt;Values&gt; secondMethod() {\n\n  return api.fetchResults();   //**Problem** I want to use the above created api instance here. But unable to use it. \n\n}\n</code></pre>\n<p>How can I use the above created instance of MaxApi in the method  - &quot;secondMethod&quot; ?</p>\n"},{"tags":["java","spring","rest","request-mapping"],"comments":[{"owner":{"account_id":7639,"reputation":23810,"user_id":13317,"accept_rate":85,"display_name":"Kenster"},"score":0,"creation_date":1541356212,"post_id":53144009,"comment_id":93179511,"body_markdown":"You could have two different methods, one for POST and one for GET.","body":"You could have two different methods, one for POST and one for GET."}],"answers":[{"tags":[],"owner":{"account_id":5342445,"reputation":4817,"user_id":4259032,"accept_rate":56,"display_name":"Alain Cruz"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1541417443,"creation_date":1541356273,"answer_id":53144050,"question_id":53144009,"body_markdown":"Just add two different methods with different names, one for the post and another for the get. Also, just leave the desired request method.\r\n\r\n**GET** \r\n   \r\n    @RequestMapping(\r\n            value=&quot;/users&quot;,\r\n            method= RequestMethod.GET,\r\n            headers= {&quot;content-type=application/json&quot;}\r\n            )\r\n    public ResponseEntity&lt;List&lt;User&gt;&gt; getUsers() {\r\n        System.out.println(&quot;This is a GET request response.&quot;);\r\n    }\r\n\r\n**POST**\r\n\r\n    @RequestMapping(\r\n            value=&quot;/users&quot;,\r\n            method= RequestMethod.POST,\r\n            headers= {&quot;content-type=application/json&quot;}\r\n            )\r\n    public ResponseEntity&lt;List&lt;User&gt;&gt; postUsers() {\r\n        System.out.println(&quot;This is a POST request response.&quot;);\r\n    }\r\n    \r\nThis way you don&#39;t add additional overhead and the code looks more clean.","title":"RequestMapping: How to access the &quot;method&quot; value used for a rest endpoint","body":"<p>Just add two different methods with different names, one for the post and another for the get. Also, just leave the desired request method.</p>\n\n<p><strong>GET</strong> </p>\n\n<pre><code>@RequestMapping(\n        value=\"/users\",\n        method= RequestMethod.GET,\n        headers= {\"content-type=application/json\"}\n        )\npublic ResponseEntity&lt;List&lt;User&gt;&gt; getUsers() {\n    System.out.println(\"This is a GET request response.\");\n}\n</code></pre>\n\n<p><strong>POST</strong></p>\n\n<pre><code>@RequestMapping(\n        value=\"/users\",\n        method= RequestMethod.POST,\n        headers= {\"content-type=application/json\"}\n        )\npublic ResponseEntity&lt;List&lt;User&gt;&gt; postUsers() {\n    System.out.println(\"This is a POST request response.\");\n}\n</code></pre>\n\n<p>This way you don't add additional overhead and the code looks more clean.</p>\n"},{"tags":[],"owner":{"account_id":4103855,"reputation":2505,"user_id":3368558,"display_name":"Markoorn"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1541404748,"creation_date":1541404748,"answer_id":53150380,"question_id":53144009,"body_markdown":"The correct approach would be to rather map two separate GET and POST methods, but if you&#39;re set on doing this approach you can get the HTTP verb of the request by accessing the HttpServletRequest as follows:\r\n\r\n    @RequestMapping(\r\n        value=&quot;/users&quot;,\r\n        method= {RequestMethod.GET, RequestMethod.POST},\r\n        headers= {&quot;content-type=application/json&quot;}\r\n        )\r\n    public ResponseEntity&lt;List&lt;User&gt;&gt; getUsers(final HttpServletRequest request) {\r\n        if(request.getMethod().equals(&quot;GET&quot;)) {\r\n            System.out.println(&quot;This is a GET request response.&quot;);\r\n        } else if(request.getMethod().equals(&quot;POST&quot;)) {\r\n            System.out.println(&quot;This is a POST request response.&quot;);\r\n        }\r\n    }\r\n\r\nYou won&#39;t need to change your calling code, as the HttpServletRequest is automatically passed through\r\n","title":"RequestMapping: How to access the &quot;method&quot; value used for a rest endpoint","body":"<p>The correct approach would be to rather map two separate GET and POST methods, but if you're set on doing this approach you can get the HTTP verb of the request by accessing the HttpServletRequest as follows:</p>\n\n<pre><code>@RequestMapping(\n    value=\"/users\",\n    method= {RequestMethod.GET, RequestMethod.POST},\n    headers= {\"content-type=application/json\"}\n    )\npublic ResponseEntity&lt;List&lt;User&gt;&gt; getUsers(final HttpServletRequest request) {\n    if(request.getMethod().equals(\"GET\")) {\n        System.out.println(\"This is a GET request response.\");\n    } else if(request.getMethod().equals(\"POST\")) {\n        System.out.println(\"This is a POST request response.\");\n    }\n}\n</code></pre>\n\n<p>You won't need to change your calling code, as the HttpServletRequest is automatically passed through</p>\n"},{"tags":[],"owner":{"account_id":23672702,"reputation":154,"user_id":17699256,"display_name":"Mert &#220;lkg&#252;n"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678397537,"creation_date":1678397537,"answer_id":75690251,"question_id":53144009,"body_markdown":"You can use RequestContextHolder#currentRequestAttributes to acquire the current request.\r\n\r\n```\r\n((ServletRequestAttributes) RequestContextHolder.currentRequestAttributes()).getRequest().getMethod()\r\n```\r\n","title":"RequestMapping: How to access the &quot;method&quot; value used for a rest endpoint","body":"<p>You can use RequestContextHolder#currentRequestAttributes to acquire the current request.</p>\n<pre><code>((ServletRequestAttributes) RequestContextHolder.currentRequestAttributes()).getRequest().getMethod()\n</code></pre>\n"}],"owner":{"account_id":14523769,"reputation":43,"user_id":10490728,"display_name":"Vismark Juarez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1936,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":53150380,"answer_count":3,"score":4,"last_activity_date":1678397537,"creation_date":1541355996,"question_id":53144009,"body_markdown":"I have a Spring Boot REST controller endpoint that accepts both GET and POST requests:\r\n\r\n\t@RequestMapping(\r\n\t\t\tvalue=&quot;/users&quot;,\r\n\t\t\tmethod= {RequestMethod.GET, RequestMethod.POST},\r\n\t\t\theaders= {&quot;content-type=application/json&quot;}\r\n\t\t\t)\r\n\tpublic ResponseEntity&lt;List&lt;User&gt;&gt; getUsers() {\r\n\t\tif(/*Method is GET*/) {\r\n\t\t\tSystem.out.println(&quot;This is a GET request response.&quot;);\r\n\t\t} else if( /*Method is POST*/) {\r\n\t\t\tSystem.out.println(&quot;This is a POST request response.&quot;);\r\n\t\t}\r\n\t}\r\n\r\nIf this endpoint is hit with a GET request, I&#39;d like for the controller to execute something in the appropriate if statement.  whereas, if the endpoint is hit with a POST request, I&#39;d like for the controller to take another course of action. \r\n\r\nHow does one extract this information from a rest controller? I&#39;d rather not have to split this shared endpoint into two different methods. It&#39;s seems simple enough, I just can&#39;t find any docs on it.","title":"RequestMapping: How to access the &quot;method&quot; value used for a rest endpoint","body":"<p>I have a Spring Boot REST controller endpoint that accepts both GET and POST requests:</p>\n\n<pre><code>@RequestMapping(\n        value=\"/users\",\n        method= {RequestMethod.GET, RequestMethod.POST},\n        headers= {\"content-type=application/json\"}\n        )\npublic ResponseEntity&lt;List&lt;User&gt;&gt; getUsers() {\n    if(/*Method is GET*/) {\n        System.out.println(\"This is a GET request response.\");\n    } else if( /*Method is POST*/) {\n        System.out.println(\"This is a POST request response.\");\n    }\n}\n</code></pre>\n\n<p>If this endpoint is hit with a GET request, I'd like for the controller to execute something in the appropriate if statement.  whereas, if the endpoint is hit with a POST request, I'd like for the controller to take another course of action. </p>\n\n<p>How does one extract this information from a rest controller? I'd rather not have to split this shared endpoint into two different methods. It's seems simple enough, I just can't find any docs on it.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","maven"],"answers":[{"tags":[],"owner":{"account_id":16092544,"reputation":822,"user_id":11615575,"display_name":"Andrei Manolache"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1669674841,"creation_date":1669674841,"answer_id":74607176,"question_id":74607094,"body_markdown":"In the newest version of Spring Boot, `javax` library is replaced by `jakarta` (see more details here https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0.0-M1-Release-Notes) and here https://spring.io/blog/2022/01/20/spring-boot-3-0-0-m1-is-now-available, so it&#39;s ok that you can only find `jakarta`. You may go ahead and use it.","title":"can&#39;t import @Entity annotation from javax.persistence using Spring Data JPA","body":"<p>In the newest version of Spring Boot, <code>javax</code> library is replaced by <code>jakarta</code> (see more details here <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0.0-M1-Release-Notes\" rel=\"noreferrer\">https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0.0-M1-Release-Notes</a>) and here <a href=\"https://spring.io/blog/2022/01/20/spring-boot-3-0-0-m1-is-now-available\" rel=\"noreferrer\">https://spring.io/blog/2022/01/20/spring-boot-3-0-0-m1-is-now-available</a>, so it's ok that you can only find <code>jakarta</code>. You may go ahead and use it.</p>\n"},{"tags":[],"owner":{"account_id":27978315,"reputation":11,"user_id":21366575,"display_name":"Mahesh N Swami"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678397269,"creation_date":1678397269,"answer_id":75690209,"question_id":74607094,"body_markdown":"javax is replaced by jakarta in letest springboot version.\r\nActually, the Eclipse Foundation legally had to rename Java EE. That&#39;s because Oracle has the rights over the Java brand. So to choose the new name, the community voted and picked: Jakarta EE","title":"can&#39;t import @Entity annotation from javax.persistence using Spring Data JPA","body":"<p>javax is replaced by jakarta in letest springboot version.\nActually, the Eclipse Foundation legally had to rename Java EE. That's because Oracle has the rights over the Java brand. So to choose the new name, the community voted and picked: Jakarta EE</p>\n"}],"owner":{"account_id":19541156,"reputation":327,"user_id":15285210,"display_name":"varo111"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5504,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1678397269,"creation_date":1669674192,"question_id":74607094,"body_markdown":"So I&#39;m trying to solve this problem for hours and it&#39;s really annoying.\r\nI used Spring Initializr to generate a spring boot project: java 19, spring 3.0.0, maven, with mariadb driver, spring web, spring data jpa dependencies.\r\nThe problem is that after I create a model class, Student, I can&#39;t import @Entity annotation from javax.persistence. All the tutorials and videos I watched, they imported from javax.persistence but I got only jakarta.persistence. Why?\r\nI tried to add myself dependency for javax.persistency but after I create the model with all annotation (@Entity, @Table, @column) the table is not created.\r\n\r\nHere Are my files:\r\n\r\npom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;19&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nStudent.class\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.Id;\r\n\r\n\r\n@Entity(name = &quot;student&quot;) // CAN&#39;T GET FROM JAVAX.PERSISTENCE, SAME FOR ANNOTATIONS BELOW\r\npublic class Student {\r\n    @Id\r\n    @Column(name=&quot;id&quot;)\r\n    private int id;\r\n    @Column(name=&quot;name&quot;)\r\n    private String name;\r\n}\r\n```\r\napplication.properties locates in src/main/resources\r\n```\r\nspring.datasource.url=jdbc:mariadb://localhost:3307/db1\r\nspring.datasource.username=root\r\nspring.datasource.password=root\r\nspring.datasource.driver-class-name=org.mariadb.jdbc.Driver\r\nspring.jpa.hibernate.ddl-auto=create-drop\r\n```\r\nThe entry point\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class DemoApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nWhat am I Doing wrong??","title":"can&#39;t import @Entity annotation from javax.persistence using Spring Data JPA","body":"<p>So I'm trying to solve this problem for hours and it's really annoying.\nI used Spring Initializr to generate a spring boot project: java 19, spring 3.0.0, maven, with mariadb driver, spring web, spring data jpa dependencies.\nThe problem is that after I create a model class, Student, I can't import @Entity annotation from javax.persistence. All the tutorials and videos I watched, they imported from javax.persistence but I got only jakarta.persistence. Why?\nI tried to add myself dependency for javax.persistency but after I create the model with all annotation (@Entity, @Table, @column) the table is not created.</p>\n<p>Here Are my files:</p>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;19&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\n            &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Student.class</p>\n<pre><code>package com.example.demo;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.Id;\n\n\n@Entity(name = &quot;student&quot;) // CAN'T GET FROM JAVAX.PERSISTENCE, SAME FOR ANNOTATIONS BELOW\npublic class Student {\n    @Id\n    @Column(name=&quot;id&quot;)\n    private int id;\n    @Column(name=&quot;name&quot;)\n    private String name;\n}\n</code></pre>\n<p>application.properties locates in src/main/resources</p>\n<pre><code>spring.datasource.url=jdbc:mariadb://localhost:3307/db1\nspring.datasource.username=root\nspring.datasource.password=root\nspring.datasource.driver-class-name=org.mariadb.jdbc.Driver\nspring.jpa.hibernate.ddl-auto=create-drop\n</code></pre>\n<p>The entry point</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>What am I Doing wrong??</p>\n"},{"tags":["java","for-loop","temp"],"comments":[{"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"score":1,"creation_date":1678364841,"post_id":75684311,"comment_id":133520226,"body_markdown":"So you don&#39;t have to repeat the expression `um.userList[identifier]`. If you give it a better name, it even serves as documentation what the variable does.","body":"So you don&#39;t have to repeat the expression <code>um.userList[identifier]</code>. If you give it a better name, it even serves as documentation what the variable does."}],"answers":[{"tags":[],"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678397130,"creation_date":1678397130,"answer_id":75690186,"question_id":75684311,"body_markdown":"The variable can be there so you don&#39;t have to repeat the expression `um.userList[identifier]` all over the method. This is helpful if you ever need to change the way this value is retrieved (e.g. `userList` is changed to be a `List` instead of an array)\r\n\r\nIf you give it a better name than `temp`, e.g. `user` or `accountHolder`, it even serves as documentation what the variable does.","title":"Why create a temp here?","body":"<p>The variable can be there so you don't have to repeat the expression <code>um.userList[identifier]</code> all over the method. This is helpful if you ever need to change the way this value is retrieved (e.g. <code>userList</code> is changed to be a <code>List</code> instead of an array)</p>\n<p>If you give it a better name than <code>temp</code>, e.g. <code>user</code> or <code>accountHolder</code>, it even serves as documentation what the variable does.</p>\n"}],"owner":{"account_id":27924820,"reputation":11,"user_id":21324143,"display_name":"jvh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678397138,"creation_date":1678363186,"question_id":75684311,"body_markdown":"what is the purpose of creating a temp here?\r\n\r\n```\r\nvoid printAcc(int identifier) {\r\n\t\t\r\n\t\tUser2 temp = um.userList[identifier];\r\n\t\tSystem.out.println(&quot;=====================&quot;);\r\n\t\tSystem.out.println(&quot;ID : &quot; + temp.id);\r\n\t\tSystem.out.println(&quot;=====================&quot;);\r\n\t\tfor (int i = 0; i &lt; temp.accCnt; i++) {\r\n\t\t\tSystem.out.println(&quot;accNumber: &quot; + temp.acc[i].accNumber + &quot;/ money: &quot; + temp.acc[i].money);\r\n\t\t}\r\n\t\tSystem.out.println(&quot;=================================\\n&quot;);\r\n\t}\r\n```","title":"Why create a temp here?","body":"<p>what is the purpose of creating a temp here?</p>\n<pre><code>void printAcc(int identifier) {\n        \n        User2 temp = um.userList[identifier];\n        System.out.println(&quot;=====================&quot;);\n        System.out.println(&quot;ID : &quot; + temp.id);\n        System.out.println(&quot;=====================&quot;);\n        for (int i = 0; i &lt; temp.accCnt; i++) {\n            System.out.println(&quot;accNumber: &quot; + temp.acc[i].accNumber + &quot;/ money: &quot; + temp.acc[i].money);\n        }\n        System.out.println(&quot;=================================\\n&quot;);\n    }\n</code></pre>\n"},{"tags":["java","hashmap","mapping","mapstruct","linkedhashmap"],"comments":[{"owner":{"account_id":3155089,"reputation":170,"user_id":2667662,"display_name":"Stijn Hooft"},"score":0,"creation_date":1680784380,"post_id":75690144,"comment_id":133958553,"body_markdown":"In addition to this question: I see the same behaviour when it creates a LinkedHashSet. I wonder why it does want to create a set that has specifically 1/3 space left, and is no smaller than 16?","body":"In addition to this question: I see the same behaviour when it creates a LinkedHashSet. I wonder why it does want to create a set that has specifically 1/3 space left, and is no smaller than 16?"}],"owner":{"account_id":11906823,"reputation":405,"user_id":8713172,"display_name":"AntoCode"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678397106,"creation_date":1678396743,"question_id":75690144,"body_markdown":"I have days trying to find a solution with a mapping but I&#39;m at a point that I no longer know what to do, it seems that assigns a space to the maps at the time of mapping and this generates problems later .... \r\n\r\nIs it possible to define not to instantiate a default size in the maps with Mapstruct ?\r\n\r\nI have my mapper:\r\n\r\n    @Mapper(config = BaseMappingConfig.class)\r\n    public interface CarMapper  extends convertCarToAnother {\r\n    \r\n      @Override\r\n      Car fromCarToBus(Car car);\r\n    }\r\n\r\nWhen compiling I can see in the implementation that I have several LinkedHashMap and everything so far OK, but here I see something strange:\r\n\r\n    public class CarMapperImpl  implement CarMapper {\r\n    \r\n        \r\n        public Car fromCarToBus(Car car) {\r\n           \r\n            Car car1 = Car.builder();\r\n    \r\n            if ( car != null ) {\r\n                car1.setObjectOne( car.getObjectOne() );\r\n                car1.setObjectTwo( stringObjectTwoToStringObjectTwo( car.getObjectTwo() ) );\r\n                Map&lt;String, Object&gt; map = car.getMyMap();\r\n                if ( map != null ) {\r\n                    car1.setMyMap( new LinkedHashMap&lt;String, Object&gt;( map ) );\r\n                }\r\n            }\r\n            return car1.build();\r\n        }\r\n    \r\n      }\r\n    \r\n    \r\n    \r\n    protected Map&lt;String, ObjectTwo&gt; stringObjectTwoToStringObjectTwo(Map&lt;String, ObjectTwo&gt; map) {\r\n            if (map == null) {\r\n                return null;\r\n            } else {\r\n                Map&lt;String, ObjectTwo&gt; map1 = new LinkedHashMap(Math.max((int)((float)map.size() / 0.75F) + 1, 16));\r\n                Iterator var1 = map.entrySet().iterator();\r\n               //More code for add info in map1...\r\n                return map1;\r\n            }\r\n        }\r\n\r\nMy problem is in the **stringMethodTwoToStringMethodTwo** method. Why it creates the LinkedHashMap with a space? **Map&lt;String, ObjectTwo&gt; map1 = new LinkedHashMap(Math.max((int)((float)map.size() / 0.75F) + 1, 16));**??? \r\nBecause in **car1.setMyMap( new LinkedHashMap&lt;String, Object&gt;( map ) );** yes it does it right and in the **stringObjectTwoToStringObjectTwo** method it creates a LinkedHashMap instance with a particular size? this may not look like a problem, but \r\nwhen I use then Pdx to serialize/deserialize I have problems, if I test removing by creating a new instance without the ObjectTwo, I get no error from Pdx. \r\n\r\nI&#39;m using 1.5.3.Final version\r\n\r\n","title":"Mapstruct define a size in some maps","body":"<p>I have days trying to find a solution with a mapping but I'm at a point that I no longer know what to do, it seems that assigns a space to the maps at the time of mapping and this generates problems later ....</p>\n<p>Is it possible to define not to instantiate a default size in the maps with Mapstruct ?</p>\n<p>I have my mapper:</p>\n<pre><code>@Mapper(config = BaseMappingConfig.class)\npublic interface CarMapper  extends convertCarToAnother {\n\n  @Override\n  Car fromCarToBus(Car car);\n}\n</code></pre>\n<p>When compiling I can see in the implementation that I have several LinkedHashMap and everything so far OK, but here I see something strange:</p>\n<pre><code>public class CarMapperImpl  implement CarMapper {\n\n    \n    public Car fromCarToBus(Car car) {\n       \n        Car car1 = Car.builder();\n\n        if ( car != null ) {\n            car1.setObjectOne( car.getObjectOne() );\n            car1.setObjectTwo( stringObjectTwoToStringObjectTwo( car.getObjectTwo() ) );\n            Map&lt;String, Object&gt; map = car.getMyMap();\n            if ( map != null ) {\n                car1.setMyMap( new LinkedHashMap&lt;String, Object&gt;( map ) );\n            }\n        }\n        return car1.build();\n    }\n\n  }\n\n\n\nprotected Map&lt;String, ObjectTwo&gt; stringObjectTwoToStringObjectTwo(Map&lt;String, ObjectTwo&gt; map) {\n        if (map == null) {\n            return null;\n        } else {\n            Map&lt;String, ObjectTwo&gt; map1 = new LinkedHashMap(Math.max((int)((float)map.size() / 0.75F) + 1, 16));\n            Iterator var1 = map.entrySet().iterator();\n           //More code for add info in map1...\n            return map1;\n        }\n    }\n</code></pre>\n<p>My problem is in the <strong>stringMethodTwoToStringMethodTwo</strong> method. Why it creates the LinkedHashMap with a space? <strong>Map&lt;String, ObjectTwo&gt; map1 = new LinkedHashMap(Math.max((int)((float)map.size() / 0.75F) + 1, 16));</strong>???\nBecause in <strong>car1.setMyMap( new LinkedHashMap&lt;String, Object&gt;( map ) );</strong> yes it does it right and in the <strong>stringObjectTwoToStringObjectTwo</strong> method it creates a LinkedHashMap instance with a particular size? this may not look like a problem, but\nwhen I use then Pdx to serialize/deserialize I have problems, if I test removing by creating a new instance without the ObjectTwo, I get no error from Pdx.</p>\n<p>I'm using 1.5.3.Final version</p>\n"},{"tags":["java","android","google-apps-script","google-play-services","google-play-console"],"comments":[{"owner":{"account_id":19211594,"reputation":1477,"user_id":14037302,"display_name":"sweak"},"score":0,"creation_date":1678397342,"post_id":75690054,"comment_id":133529630,"body_markdown":"If you are using third-party libraries thne its Manifest is merged into yours. It is possible for that library to contain such illegal component without `exported` in its AndroidManifest. If you are using open-source libraries, you can check its code for that and clone it to build the library by yourself with the updated Manifest file.","body":"If you are using third-party libraries thne its Manifest is merged into yours. It is possible for that library to contain such illegal component without <code>exported</code> in its AndroidManifest. If you are using open-source libraries, you can check its code for that and clone it to build the library by yourself with the updated Manifest file."}],"owner":{"account_id":27568419,"reputation":1,"user_id":21040096,"display_name":"Anonymus Music Pro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678397021,"creation_date":1678396081,"question_id":75690054,"body_markdown":"I&#39;m having an issue when I&#39;m uploading an app bundle to the play console that:\r\n\r\nYou uploaded an APK or Android App Bundle which has an activity, activity alias, service or broadcast receiver with intent filter, but without &#39;android:exported&#39; property set. This file can&#39;t be installed on Android 12 or higher.\r\n\r\nBut my manifest file includes the property.\r\n\r\nManifest file\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    package=&quot;com.we3d.scratchandwin&quot;&gt;\r\n\r\n    &lt;supports-screens\r\n        android:anyDensity=&quot;true&quot;\r\n        android:largeScreens=&quot;true&quot;\r\n        android:normalScreens=&quot;true&quot;\r\n        android:smallScreens=&quot;true&quot; /&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot; /&gt;\r\n    &lt;uses-permission\r\n        android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot;\r\n        tools:node=&quot;remove&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;\r\n\r\n\r\n    &lt;application\r\n        android:name=&quot;com.we3d.scratchandwin.App&quot;\r\n        android:hardwareAccelerated=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;\r\n        android:usesCleartextTraffic=&quot;true&quot;&gt;\r\n\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.android.gms.ads.APPLICATION_ID&quot;\r\n            android:value=&quot;@string/admob_app_id&quot; /&gt;\r\n\r\n        &lt;provider\r\n            android:name=&quot;com.startapp.sdk.adsbase.StartAppInitProvider&quot;\r\n            android:authorities=&quot;${applicationId}.startappinitprovider&quot;\r\n            tools:node=&quot;remove&quot; /&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;com.we3d.scratchandwin.activity.RedeemActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            android:theme=&quot;@style/NoActionBar&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.we3d.scratchandwin.activity.PrivacyActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            android:theme=&quot;@style/NoActionBar&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.we3d.scratchandwin.activity.ReferAndEarn&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            android:theme=&quot;@style/NoActionBar&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.we3d.scratchandwin.activity.ProfileActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            android:theme=&quot;@style/NoActionBar&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.we3d.scratchandwin.activity.SpinActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            android:theme=&quot;@style/NoActionBar&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.we3d.scratchandwin.activity.ScratchActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            android:theme=&quot;@style/NoActionBar&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.we3d.scratchandwin.activity.LoginActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            android:theme=&quot;@style/NoActionBar&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.we3d.scratchandwin.activity.SplashActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            android:theme=&quot;@style/NoActionBar&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\r\n\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.we3d.scratchandwin.activity.MainActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            android:theme=&quot;@style/NoActionBar&quot;/&gt;\r\n\r\n        &lt;meta-data\r\n            android:name=&quot;preloaded_fonts&quot;\r\n            android:resource=&quot;@array/preloaded_fonts&quot; /&gt;\r\n\r\n        &lt;service\r\n            android:name=&quot;com.we3d.scratchandwin.services.PointsService&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;service\r\n            android:name=&quot;com.we3d.scratchandwin.services.SoundService&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n\r\n        &lt;service\r\n            android:name=&quot;com.we3d.scratchandwin.services.MyFirebaseMessagingService&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot;/&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/service&gt;\r\n\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.firebase.messaging.default_notification_icon&quot;\r\n            android:resource=&quot;@mipmap/ic_launcher_round&quot; /&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.firebase.messaging.default_notification_color&quot;\r\n            android:resource=&quot;@color/colorPrimaryDark&quot; /&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\n\r\n\r\nI&#39;m having an issue when I&#39;m uploading an app bundle to the play console that:\r\n\r\nYou uploaded an APK or Android App Bundle which has an activity, activity alias, service or broadcast receiver with intent filter, but without &#39;android:exported&#39; property set. This file can&#39;t be installed on Android 12 or higher.\r\n\r\nBut my manifest file includes the property.","title":"APK or App Bundle which has an activity, activity alias, service or broadcast receiver with intent filter, but without &#39;android:exported&#39; property set","body":"<p>I'm having an issue when I'm uploading an app bundle to the play console that:</p>\n<p>You uploaded an APK or Android App Bundle which has an activity, activity alias, service or broadcast receiver with intent filter, but without 'android:exported' property set. This file can't be installed on Android 12 or higher.</p>\n<p>But my manifest file includes the property.</p>\n<p>Manifest file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    package=&quot;com.we3d.scratchandwin&quot;&gt;\n\n    &lt;supports-screens\n        android:anyDensity=&quot;true&quot;\n        android:largeScreens=&quot;true&quot;\n        android:normalScreens=&quot;true&quot;\n        android:smallScreens=&quot;true&quot; /&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot; /&gt;\n    &lt;uses-permission\n        android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot;\n        tools:node=&quot;remove&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;\n\n\n    &lt;application\n        android:name=&quot;com.we3d.scratchandwin.App&quot;\n        android:hardwareAccelerated=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme&quot;\n        android:usesCleartextTraffic=&quot;true&quot;&gt;\n\n        &lt;meta-data\n            android:name=&quot;com.google.android.gms.ads.APPLICATION_ID&quot;\n            android:value=&quot;@string/admob_app_id&quot; /&gt;\n\n        &lt;provider\n            android:name=&quot;com.startapp.sdk.adsbase.StartAppInitProvider&quot;\n            android:authorities=&quot;${applicationId}.startappinitprovider&quot;\n            tools:node=&quot;remove&quot; /&gt;\n\n        &lt;activity\n            android:name=&quot;com.we3d.scratchandwin.activity.RedeemActivity&quot;\n            android:screenOrientation=&quot;portrait&quot;\n            android:theme=&quot;@style/NoActionBar&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.we3d.scratchandwin.activity.PrivacyActivity&quot;\n            android:screenOrientation=&quot;portrait&quot;\n            android:theme=&quot;@style/NoActionBar&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.we3d.scratchandwin.activity.ReferAndEarn&quot;\n            android:screenOrientation=&quot;portrait&quot;\n            android:theme=&quot;@style/NoActionBar&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.we3d.scratchandwin.activity.ProfileActivity&quot;\n            android:screenOrientation=&quot;portrait&quot;\n            android:theme=&quot;@style/NoActionBar&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.we3d.scratchandwin.activity.SpinActivity&quot;\n            android:screenOrientation=&quot;portrait&quot;\n            android:theme=&quot;@style/NoActionBar&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.we3d.scratchandwin.activity.ScratchActivity&quot;\n            android:screenOrientation=&quot;portrait&quot;\n            android:theme=&quot;@style/NoActionBar&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.we3d.scratchandwin.activity.LoginActivity&quot;\n            android:screenOrientation=&quot;portrait&quot;\n            android:theme=&quot;@style/NoActionBar&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.we3d.scratchandwin.activity.SplashActivity&quot;\n            android:screenOrientation=&quot;portrait&quot;\n            android:theme=&quot;@style/NoActionBar&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\n\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=&quot;com.we3d.scratchandwin.activity.MainActivity&quot;\n            android:screenOrientation=&quot;portrait&quot;\n            android:theme=&quot;@style/NoActionBar&quot;/&gt;\n\n        &lt;meta-data\n            android:name=&quot;preloaded_fonts&quot;\n            android:resource=&quot;@array/preloaded_fonts&quot; /&gt;\n\n        &lt;service\n            android:name=&quot;com.we3d.scratchandwin.services.PointsService&quot;\n            android:enabled=&quot;true&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;service\n            android:name=&quot;com.we3d.scratchandwin.services.SoundService&quot;\n            android:enabled=&quot;true&quot;\n            android:exported=&quot;false&quot; /&gt;\n\n        &lt;service\n            android:name=&quot;com.we3d.scratchandwin.services.MyFirebaseMessagingService&quot;\n            android:enabled=&quot;true&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot;/&gt;\n            &lt;/intent-filter&gt;\n        &lt;/service&gt;\n\n        &lt;meta-data\n            android:name=&quot;com.google.firebase.messaging.default_notification_icon&quot;\n            android:resource=&quot;@mipmap/ic_launcher_round&quot; /&gt;\n        &lt;meta-data\n            android:name=&quot;com.google.firebase.messaging.default_notification_color&quot;\n            android:resource=&quot;@color/colorPrimaryDark&quot; /&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>I'm having an issue when I'm uploading an app bundle to the play console that:</p>\n<p>You uploaded an APK or Android App Bundle which has an activity, activity alias, service or broadcast receiver with intent filter, but without 'android:exported' property set. This file can't be installed on Android 12 or higher.</p>\n<p>But my manifest file includes the property.</p>\n"},{"tags":["java","spring","spring-kafka","spring-cloud-stream","spring-cloud-function"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657547377,"creation_date":1657547377,"answer_id":72939649,"question_id":72939189,"body_markdown":"You are probably using Boot&#39;s auto-configured `KafkaTemplate`.\r\n\r\nUse `spring.kafka.bootstrap-servers` instead - the binder will use that if there is no `spring.cloud.stream.kafka.binder.brokers`; that way both the binder and template will connect to the same broker.\r\n\r\nYou have to throw a `BatchListenerFailedException` to indicate which record in the batch failed.","title":"How to configure DeadLetterPublisherRecoverer to send error messages to a DLQ in Spring Cloud Stream batch mode","body":"<p>You are probably using Boot's auto-configured <code>KafkaTemplate</code>.</p>\n<p>Use <code>spring.kafka.bootstrap-servers</code> instead - the binder will use that if there is no <code>spring.cloud.stream.kafka.binder.brokers</code>; that way both the binder and template will connect to the same broker.</p>\n<p>You have to throw a <code>BatchListenerFailedException</code> to indicate which record in the batch failed.</p>\n"},{"tags":[],"owner":{"account_id":540110,"reputation":957,"user_id":268764,"display_name":"Makatun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678396695,"creation_date":1678396695,"answer_id":75690139,"question_id":72939189,"body_markdown":"DefaultErrorHandler returns messages to original topic. You want to override that.\r\n\r\n    DeadLetterPublishingRecoverer dltRecoverer = new DeadLetterPublishingRecoverer(dltTopicTemplate);\r\n\r\n        return new DefaultErrorHandler(){\r\n            @Override\r\n            public void handleRemaining(Exception thrownException, List&lt;ConsumerRecord&lt;?, ?&gt;&gt; records, Consumer&lt;?, ?&gt; consumer, MessageListenerContainer container) {\r\n                dltRecoverer.accept(records.get(0), thrownException);\r\n            }\r\n        };","title":"How to configure DeadLetterPublisherRecoverer to send error messages to a DLQ in Spring Cloud Stream batch mode","body":"<p>DefaultErrorHandler returns messages to original topic. You want to override that.</p>\n<pre><code>DeadLetterPublishingRecoverer dltRecoverer = new DeadLetterPublishingRecoverer(dltTopicTemplate);\n\n    return new DefaultErrorHandler(){\n        @Override\n        public void handleRemaining(Exception thrownException, List&lt;ConsumerRecord&lt;?, ?&gt;&gt; records, Consumer&lt;?, ?&gt; consumer, MessageListenerContainer container) {\n            dltRecoverer.accept(records.get(0), thrownException);\n        }\n    };\n</code></pre>\n"}],"owner":{"account_id":10582978,"reputation":17,"user_id":7796182,"display_name":"Gourab27"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":806,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678396695,"creation_date":1657545319,"question_id":72939189,"body_markdown":"I have created a Kafka Consumer using Spring Cloud Stream and Spring Cloud Function for consuming messages in batch mode from a Kafka topic. Now, I want to send the error batches to a Dead Letter Queue for further debugging of the error. \r\n\r\nI am handling retries inside my consumer method with Spring retry. But for non retry-able Exceptions I am looking to send the entire batch to a DLQ. \r\n\r\nThis is how my consumer looks like:\r\n\r\n```\r\n@Bean\r\npublic Consumer&lt;List&lt;GenericRecord&gt;&gt; consume() {\r\n    return (message) -&gt; {\r\n        processMessage(message);  \r\n    }\r\n}\r\n```\r\n\r\nThis is how the error handling Configuration looks like:\r\n```\r\n@Autowired\r\nprivate DefaultErrorHandler errorHandler;\r\n\r\nListenerContainerCustomizer&lt;AbstractMessageListenerContainer&gt; c = new ListenerContainerCustomizer&lt;AbstractMessageListenerContainer&gt;() {\r\n      @Override\r\n      public void configure(AbstractMessageListenerContainer container, String destinationName, String group) {\r\n        container.setCommonErrorHandler(errorHandler);\r\n      }\r\n}\r\n\r\n```\r\n\r\nThe Error Handler is enabled with a DeadRecordPublishinRecoverer to send the failed messages to a DLQ:\r\n\r\n```\r\n@Bean\r\npublic DefaultErrorHandler errorHandler(KafkaOperations&lt;String, Details&gt; template) {\r\n    return new DefaultErrorHandler(new DeadLetterPublishingRecoverer(template,\r\n        (cr, e) -&gt; new TopicPartition(&quot;error.topic.name&quot;, 0)),\r\n        new FixedBackOff(0, 0));\r\n}\r\n```\r\n\r\nBut this is not sending any message to the error.topic, And from the error logs I can see that it&#39;s trying to connect to localhost:9092 instead of the broker I have mentioned in `spring.cloud.stream.kafka.binder.brokers`.\r\n\r\nHow do I configure the DLQ provider to read the Kafka metadata from `application.properties` ? \r\n\r\nAlso is there a way to configure a `Supplier` function to create the DLQ provider?","title":"How to configure DeadLetterPublisherRecoverer to send error messages to a DLQ in Spring Cloud Stream batch mode","body":"<p>I have created a Kafka Consumer using Spring Cloud Stream and Spring Cloud Function for consuming messages in batch mode from a Kafka topic. Now, I want to send the error batches to a Dead Letter Queue for further debugging of the error.</p>\n<p>I am handling retries inside my consumer method with Spring retry. But for non retry-able Exceptions I am looking to send the entire batch to a DLQ.</p>\n<p>This is how my consumer looks like:</p>\n<pre><code>@Bean\npublic Consumer&lt;List&lt;GenericRecord&gt;&gt; consume() {\n    return (message) -&gt; {\n        processMessage(message);  \n    }\n}\n</code></pre>\n<p>This is how the error handling Configuration looks like:</p>\n<pre><code>@Autowired\nprivate DefaultErrorHandler errorHandler;\n\nListenerContainerCustomizer&lt;AbstractMessageListenerContainer&gt; c = new ListenerContainerCustomizer&lt;AbstractMessageListenerContainer&gt;() {\n      @Override\n      public void configure(AbstractMessageListenerContainer container, String destinationName, String group) {\n        container.setCommonErrorHandler(errorHandler);\n      }\n}\n\n</code></pre>\n<p>The Error Handler is enabled with a DeadRecordPublishinRecoverer to send the failed messages to a DLQ:</p>\n<pre><code>@Bean\npublic DefaultErrorHandler errorHandler(KafkaOperations&lt;String, Details&gt; template) {\n    return new DefaultErrorHandler(new DeadLetterPublishingRecoverer(template,\n        (cr, e) -&gt; new TopicPartition(&quot;error.topic.name&quot;, 0)),\n        new FixedBackOff(0, 0));\n}\n</code></pre>\n<p>But this is not sending any message to the error.topic, And from the error logs I can see that it's trying to connect to localhost:9092 instead of the broker I have mentioned in <code>spring.cloud.stream.kafka.binder.brokers</code>.</p>\n<p>How do I configure the DLQ provider to read the Kafka metadata from <code>application.properties</code> ?</p>\n<p>Also is there a way to configure a <code>Supplier</code> function to create the DLQ provider?</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":7378264,"reputation":4782,"user_id":5709159,"accept_rate":58,"display_name":"Sirop4ik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678396627,"creation_date":1678396627,"answer_id":75690129,"question_id":75689162,"body_markdown":"So, finally I am good with this approach - https://stackoverflow.com/a/71569624/5709159\r\n\r\n```\r\n/**\r\n * A builder for creating an encrypted shared preference class.\r\n */\r\nprivate const val KEYSTORE_PROVIDER = &quot;AndroidKeyStore&quot;\r\nprivate const val SHARED_PREFS_FILENAME = &quot;TVPrefs&quot;\r\n\r\n@KoinApiExtension\r\nclass EncryptedSharedPreferenceBuilder(var context: Context) : KoinComponent {\r\n    private val reporter: Reporter by inject()\r\n\r\n    private val masterKeyAlias =\r\n        MasterKey.Builder(context).setKeyScheme(MasterKey.KeyScheme.AES256_GCM).build()\r\n\r\n    fun build(): SharedPreferences {\r\n        return try {\r\n            createSharedPreferences()\r\n        } catch (gsException: GeneralSecurityException) {\r\n            reporter.logException(gsException)\r\n            Timber.d(&quot;EncryptedSharedPref: Error occurred while create shared pref=$gsException&quot;)\r\n            // There&#39;s not much point in keeping data you can&#39;t decrypt anymore,\r\n            // delete &amp; re-create; user has to start from scratch\r\n            deleteSharedPreferences()\r\n            createSharedPreferences()\r\n        }\r\n    }\r\n\r\n    private fun createSharedPreferences() = EncryptedSharedPreferences.create(\r\n        context,\r\n        SHARED_PREFS_FILENAME,\r\n        masterKeyAlias,\r\n        EncryptedSharedPreferences.PrefKeyEncryptionScheme.AES256_SIV,\r\n        EncryptedSharedPreferences.PrefValueEncryptionScheme.AES256_GCM\r\n    )\r\n\r\n    // Clearing getSharedPreferences using default Preference wrapper.\r\n    // This is to work around any key-mismatches that may happen.\r\n    fun clearSharedPreference() {\r\n        context.getSharedPreferences(SHARED_PREFS_FILENAME, Context.MODE_PRIVATE).edit().clear()\r\n            .apply()\r\n    }\r\n\r\n    // Workaround [https://github.com/google/tink/issues/535#issuecomment-912170221]\r\n    // Issue Tracker - https://issuetracker.google.com/issues/176215143?pli=1\r\n    private fun deleteSharedPreferences() {\r\n        try {\r\n            val sharedPrefsFile =\r\n                File(&quot;${context.filesDir.parent}/shared_prefs/$SHARED_PREFS_FILENAME.xml&quot;)\r\n\r\n            // Clear the encrypted prefs\r\n            clearSharedPreference()\r\n\r\n            // Delete the encrypted prefs file\r\n            if (sharedPrefsFile.exists()) {\r\n                val deleted = sharedPrefsFile.delete()\r\n                Timber.d(&quot;EncryptedSharedPref: Shared pref file deleted=$deleted; path=${sharedPrefsFile.absolutePath}&quot;)\r\n            } else {\r\n                Timber.d(&quot;EncryptedSharedPref: Shared pref file non-existent; path=${sharedPrefsFile.absolutePath}&quot;)\r\n            }\r\n\r\n            // Delete the master key\r\n            val keyStore = KeyStore.getInstance(KEYSTORE_PROVIDER)\r\n            keyStore.load(null)\r\n            keyStore.deleteEntry(MasterKey.DEFAULT_MASTER_KEY_ALIAS)\r\n        } catch (e: Exception) {\r\n            Timber.d(&quot;EncryptedSharedPref:  Error occurred while trying to reset shared pref=$e&quot;)\r\n        }\r\n    }\r\n}\r\n```","title":"What is a possible issue in MasterKeys.getOrCreate(...)?","body":"<p>So, finally I am good with this approach - <a href=\"https://stackoverflow.com/a/71569624/5709159\">https://stackoverflow.com/a/71569624/5709159</a></p>\n<pre><code>/**\n * A builder for creating an encrypted shared preference class.\n */\nprivate const val KEYSTORE_PROVIDER = &quot;AndroidKeyStore&quot;\nprivate const val SHARED_PREFS_FILENAME = &quot;TVPrefs&quot;\n\n@KoinApiExtension\nclass EncryptedSharedPreferenceBuilder(var context: Context) : KoinComponent {\n    private val reporter: Reporter by inject()\n\n    private val masterKeyAlias =\n        MasterKey.Builder(context).setKeyScheme(MasterKey.KeyScheme.AES256_GCM).build()\n\n    fun build(): SharedPreferences {\n        return try {\n            createSharedPreferences()\n        } catch (gsException: GeneralSecurityException) {\n            reporter.logException(gsException)\n            Timber.d(&quot;EncryptedSharedPref: Error occurred while create shared pref=$gsException&quot;)\n            // There's not much point in keeping data you can't decrypt anymore,\n            // delete &amp; re-create; user has to start from scratch\n            deleteSharedPreferences()\n            createSharedPreferences()\n        }\n    }\n\n    private fun createSharedPreferences() = EncryptedSharedPreferences.create(\n        context,\n        SHARED_PREFS_FILENAME,\n        masterKeyAlias,\n        EncryptedSharedPreferences.PrefKeyEncryptionScheme.AES256_SIV,\n        EncryptedSharedPreferences.PrefValueEncryptionScheme.AES256_GCM\n    )\n\n    // Clearing getSharedPreferences using default Preference wrapper.\n    // This is to work around any key-mismatches that may happen.\n    fun clearSharedPreference() {\n        context.getSharedPreferences(SHARED_PREFS_FILENAME, Context.MODE_PRIVATE).edit().clear()\n            .apply()\n    }\n\n    // Workaround [https://github.com/google/tink/issues/535#issuecomment-912170221]\n    // Issue Tracker - https://issuetracker.google.com/issues/176215143?pli=1\n    private fun deleteSharedPreferences() {\n        try {\n            val sharedPrefsFile =\n                File(&quot;${context.filesDir.parent}/shared_prefs/$SHARED_PREFS_FILENAME.xml&quot;)\n\n            // Clear the encrypted prefs\n            clearSharedPreference()\n\n            // Delete the encrypted prefs file\n            if (sharedPrefsFile.exists()) {\n                val deleted = sharedPrefsFile.delete()\n                Timber.d(&quot;EncryptedSharedPref: Shared pref file deleted=$deleted; path=${sharedPrefsFile.absolutePath}&quot;)\n            } else {\n                Timber.d(&quot;EncryptedSharedPref: Shared pref file non-existent; path=${sharedPrefsFile.absolutePath}&quot;)\n            }\n\n            // Delete the master key\n            val keyStore = KeyStore.getInstance(KEYSTORE_PROVIDER)\n            keyStore.load(null)\n            keyStore.deleteEntry(MasterKey.DEFAULT_MASTER_KEY_ALIAS)\n        } catch (e: Exception) {\n            Timber.d(&quot;EncryptedSharedPref:  Error occurred while trying to reset shared pref=$e&quot;)\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7378264,"reputation":4782,"user_id":5709159,"accept_rate":58,"display_name":"Sirop4ik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678396627,"creation_date":1678389803,"question_id":75689162,"body_markdown":"I have such an implementation of `EncryptedSharedPreferences`:\r\n\r\n\r\n```\r\nclass MyEnqPrefs(ctx: Context) {\r\n\r\ninit {\r\n...\r\nval sharedPref = EncryptedSharedPreferences.create(\r\n            PREF_NAME,\r\n            MasterKeys.getOrCreate(MasterKeys.AES256_GCM_SPEC),\r\n            ctx,\r\n            EncryptedSharedPreferences.PrefKeyEncryptionScheme.AES256_SIV,\r\n            EncryptedSharedPreferences.PrefValueEncryptionScheme.AES256_GCM\r\n        )\r\n...\r\n}\r\n```\r\n\r\nand in the crash report, I see such a log (a few times I got such crash report):\r\n\r\n```\r\n...\r\nandroid.security.KeyStoreException: Unknown error\r\n\tat android.security.KeyStore.getKeyStoreException()(KeyStore.java:1301)\r\n\tat android.security.keystore.AndroidKeyStoreKeyGeneratorSpi.engineGenerateKey()(AndroidKeyStoreKeyGeneratorSpi.java:331)\r\n\tat javax.crypto.KeyGenerator.generateKey()(KeyGenerator.java:612)\r\n\tat androidx.security.crypto.MasterKeys.generateKey()(MasterKeys.java:130)\r\n\tat androidx.security.crypto.MasterKeys.getOrCreate()(MasterKeys.java:88)\r\n\tat application.prefs.MyEnqPrefs.&lt;init&gt;()(MyEnqPrefs.kt:24)\r\n\tat application.MyApplication.onCreate()(MyApplication.java:453)\r\n\tat android.app.Instrumentation.callApplicationOnCreate()(Instrumentation.java:1192)\r\n\tat android.app.ActivityThread.handleBindApplication()(ActivityThread.java:6715)\r\n\tat android.app.ActivityThread.access$1300()(ActivityThread.java:237)\r\n\tat android.app.ActivityThread$H.handleMessage()(ActivityThread.java:1913)\r\n\tat android.os.Handler.dispatchMessage()(Handler.java:106)\r\n\tat android.os.Looper.loop()(Looper.java:223)\r\n\tat android.app.ActivityThread.main()(ActivityThread.java:7660)\r\n\tat java.lang.reflect.Method.invoke()(Method.java:-2)\r\n\tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run()(RuntimeInit.java:592)\r\n\tat com.android.internal.os.ZygoteInit.main()(ZygoteInit.java:947)\r\n...\r\n```\r\n\r\nso as far as I see the closest issue description from the log is:\r\n\r\n```\r\n...\r\n    at androidx.security.crypto.MasterKeys.generateKey()(MasterKeys.java:130)\r\n\tat androidx.security.crypto.MasterKeys.getOrCreate()(MasterKeys.java:88)\r\n\tat application.prefs.MyEnqPrefs.&lt;init&gt;()(MyEnqPrefs.kt:24)\r\n\tat application.MyApplication.onCreate()(MyApplication.java:453)\r\n...\r\n```\r\n\r\nAccording to the log looks like `MyApplication` creates, then it creates `MyEnqPrefs` then it tries to create `MasterKeys` and crash happens.\r\n\r\nSo, the question is - what is a possible problem with the approach I use to create master key alias - `MasterKeys.getOrCreate(MasterKeys.AES256_GCM_SPEC)`?\r\n\r\n","title":"What is a possible issue in MasterKeys.getOrCreate(...)?","body":"<p>I have such an implementation of <code>EncryptedSharedPreferences</code>:</p>\n<pre><code>class MyEnqPrefs(ctx: Context) {\n\ninit {\n...\nval sharedPref = EncryptedSharedPreferences.create(\n            PREF_NAME,\n            MasterKeys.getOrCreate(MasterKeys.AES256_GCM_SPEC),\n            ctx,\n            EncryptedSharedPreferences.PrefKeyEncryptionScheme.AES256_SIV,\n            EncryptedSharedPreferences.PrefValueEncryptionScheme.AES256_GCM\n        )\n...\n}\n</code></pre>\n<p>and in the crash report, I see such a log (a few times I got such crash report):</p>\n<pre><code>...\nandroid.security.KeyStoreException: Unknown error\n    at android.security.KeyStore.getKeyStoreException()(KeyStore.java:1301)\n    at android.security.keystore.AndroidKeyStoreKeyGeneratorSpi.engineGenerateKey()(AndroidKeyStoreKeyGeneratorSpi.java:331)\n    at javax.crypto.KeyGenerator.generateKey()(KeyGenerator.java:612)\n    at androidx.security.crypto.MasterKeys.generateKey()(MasterKeys.java:130)\n    at androidx.security.crypto.MasterKeys.getOrCreate()(MasterKeys.java:88)\n    at application.prefs.MyEnqPrefs.&lt;init&gt;()(MyEnqPrefs.kt:24)\n    at application.MyApplication.onCreate()(MyApplication.java:453)\n    at android.app.Instrumentation.callApplicationOnCreate()(Instrumentation.java:1192)\n    at android.app.ActivityThread.handleBindApplication()(ActivityThread.java:6715)\n    at android.app.ActivityThread.access$1300()(ActivityThread.java:237)\n    at android.app.ActivityThread$H.handleMessage()(ActivityThread.java:1913)\n    at android.os.Handler.dispatchMessage()(Handler.java:106)\n    at android.os.Looper.loop()(Looper.java:223)\n    at android.app.ActivityThread.main()(ActivityThread.java:7660)\n    at java.lang.reflect.Method.invoke()(Method.java:-2)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run()(RuntimeInit.java:592)\n    at com.android.internal.os.ZygoteInit.main()(ZygoteInit.java:947)\n...\n</code></pre>\n<p>so as far as I see the closest issue description from the log is:</p>\n<pre><code>...\n    at androidx.security.crypto.MasterKeys.generateKey()(MasterKeys.java:130)\n    at androidx.security.crypto.MasterKeys.getOrCreate()(MasterKeys.java:88)\n    at application.prefs.MyEnqPrefs.&lt;init&gt;()(MyEnqPrefs.kt:24)\n    at application.MyApplication.onCreate()(MyApplication.java:453)\n...\n</code></pre>\n<p>According to the log looks like <code>MyApplication</code> creates, then it creates <code>MyEnqPrefs</code> then it tries to create <code>MasterKeys</code> and crash happens.</p>\n<p>So, the question is - what is a possible problem with the approach I use to create master key alias - <code>MasterKeys.getOrCreate(MasterKeys.AES256_GCM_SPEC)</code>?</p>\n"},{"tags":["java","servlets"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1678415202,"post_id":75690086,"comment_id":133532411,"body_markdown":"That&#39;s a lot of code for unpaid volunteers to study. Perhaps you could cut it down to bare minimum in a highly focused question?","body":"That&#39;s a lot of code for unpaid volunteers to study. Perhaps you could cut it down to bare minimum in a highly focused question?"}],"owner":{"account_id":9327108,"reputation":17,"user_id":6923990,"display_name":"Jesse Barrass"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678396323,"creation_date":1678396323,"question_id":75690086,"body_markdown":"Hey Guys (Full code at the bottom)\r\n\r\nI have a java servlet that calls the below getNewData()\r\n\r\n    public String[][] getNewData() throws IOException\r\n    {\r\n        String contextPath = getServletContext().getRealPath(&quot;/&quot;);\r\n        File file = new File(contextPath, &quot;data/data.txt&quot;);\r\n\r\n        String[][] arr = new String[52][175];\r\n        String[] info = new String[4];\r\n\r\n        int infoCount = 0;\r\n        int weekCount = 0;\r\n        int cellCount = 0;\r\n\r\n        if (file.length() != 0) \r\n        {\r\n\r\n            BufferedReader br = new BufferedReader(new FileReader(file));\r\n            String line;\r\n\r\n\r\n            while((line = br.readLine()) != null) {\r\n\r\n                System.out.println(line);\r\n\r\n                // This removes the start and end brackets\r\n                // line.trim();\r\n                line = line.replaceFirst(&quot;\\\\[&quot;, &quot;&quot;);\r\n                line = line.substring(0, line.length() - 1);\r\n\r\n                String[] week = line.split(&quot;,&quot;);\r\n\r\n                boolean inWeek = false;\r\n                boolean inData = false;\r\n\r\n                for (int i = 0; i &lt; week.length; i++)\r\n                {\r\n\r\n                    week[i] = week[i].trim();\r\n\r\n                    if (week[i].charAt(0) == &#39;[&#39; &amp;&amp; inWeek == false)\r\n                    {\r\n                        \r\n                        week[i] = week[i].replaceFirst(&quot;\\\\[&quot;, &quot;&quot;);\r\n                        inWeek = true;\r\n                        cellCount = -1;\r\n\r\n                    }\r\n\r\n                    if (week[i].charAt(0) == &#39;[&#39;)\r\n                    {\r\n                        week[i] = week[i].replaceFirst(&quot;\\\\[&quot;, &quot;&quot;);\r\n                        // infoCount = 0;\r\n                        inData = true;\r\n                    }\r\n\r\n\r\n                    if (inData)\r\n                    {\r\n                        String temp = week[i].trim();\r\n\r\n                        temp.replaceAll(&quot;\\\\[&quot;, &quot;&quot;);\r\n                        // TODO FIX THIS\r\n\r\n                        if (temp.charAt(temp.length() - 1) == &#39;]&#39;)\r\n                            temp = temp.substring(0, temp.length() - 1);\r\n\r\n                        info[infoCount] = temp;\r\n\r\n                        System.out.println(temp);\r\n\r\n                        infoCount++;\r\n                        cellCount--;\r\n\r\n                    }\r\n\r\n                    System.out.println(week[i]);\r\n                    \r\n                    if (infoCount == 4)\r\n                    {\r\n\r\n                        cellCount = cellCount + 2;\r\n\r\n                        System.out.println(weekCount + &quot; &quot; + cellCount);\r\n\r\n                        arr[weekCount][cellCount] = Arrays.toString(info);\r\n\r\n                        infoCount = 0;\r\n                    }\r\n                    else\r\n                    {\r\n                        if (cellCount &lt; 0)\r\n                        {\r\n                            arr[weekCount][0] = null;\r\n                            \r\n                            cellCount++;\r\n                        }\r\n                            \r\n                        else\r\n                        {\r\n                            cellCount++;\r\n\r\n                            arr[weekCount][cellCount] = null;\r\n                        }\r\n                        System.out.println(weekCount + &quot; &quot; + cellCount);\r\n                    }\r\n\r\n\r\n                    if (week[i].charAt(week[i].length() - 1) == &#39;]&#39;)\r\n                    {\r\n\r\n                        if (inData)\r\n                        {\r\n                            week[i] = week[i].substring(0, week[i].length() - 1);\r\n                            inData = false;\r\n                        }\r\n\r\n                        if (inWeek &amp;&amp; week[i].charAt(week[i].length() - 1) == &#39;]&#39;)\r\n                        {\r\n                            week[i] = week[i].substring(0, week[i].length() - 1);\r\n                            inWeek = false;\r\n                            weekCount++;\r\n\r\n                        }\r\n\r\n                    }\r\n\r\n                }\r\n\r\n            }\r\n\r\n            br.close();\r\n\r\n        }\r\n        else \r\n        {\r\n            for (int i = 0; i &lt; 52; i++) {\r\n                for (int j = 0; j &lt;= 174; j++) {\r\n                    arr[i][j] = null;\r\n                }\r\n            }\r\n        }\r\n\r\n        setData(arr);\r\n\r\n        return arr;\r\n\r\n    }\r\n\r\nIt works perfectly when i press on any other, except for the first and last array item.\r\n\r\n    public void doGet(HttpServletRequest request, HttpServletResponse response)\r\n            throws ServletException, IOException {\r\n\r\n        PrintWriter out = response.getWriter();\r\n        RequestDispatcher rd = request.getRequestDispatcher(&quot;/WEB-INF/html/index.html&quot;);\r\n\r\n        rd.include(request, response);\r\n        \r\n        createFile();\r\n\r\n        arr = getNewData();\r\n\r\n        for (int i = 0; i &lt;= 174; i++) {\r\n\r\n            // System.out.println(arr[weekNo - 1][i]);\r\n\r\n                if (arr[weekNo - 1][i] != null) {\r\n\r\n                    out.println(&quot;&lt;form class=\\&quot;timeSelector\\&quot; data-taken=\\&quot;true\\&quot;&gt;&quot;);\r\n                } else {\r\n                    out.println(&quot;&lt;form class=\\&quot;timeSelector\\&quot; data-taken=\\&quot;false\\&quot; action=&#39;BookingsServlet&#39; method=&#39;get&#39; onclick=\\&quot;javascript:submitForm(&quot; + i + &quot;,&quot; + (weekNo - 1) + &quot;)\\&quot;&gt;&quot;);\r\n                }\r\n\r\n            out.println(&quot;&lt;input type=\\&quot;hidden\\&quot; name=\\&quot;cell\\&quot; value=\\&quot;&quot; + i + &quot;\\&quot;&gt;&quot;);\r\n            out.println(&quot;&lt;input type=\\&quot;hidden\\&quot; name=\\&quot;week\\&quot; value=\\&quot;&quot; + weekNo + &quot;\\&quot;&gt;&quot;);\r\n            out.println(&quot;&lt;div class=\\&quot;timeSlot\\&quot;&gt;&quot;);\r\n            out.println(&quot;&lt;span class=\\&quot;timeSlotText\\&quot;&gt;&lt;/span&gt;&quot;);\r\n            out.println(&quot;&lt;/div&gt;&quot;);\r\n            out.println(&quot;&lt;/form&gt;&quot;);\r\n\r\n\r\n        }\r\n\r\n        out.println(&quot;&lt;/div&gt;&quot;);\r\n\r\n        System.out.println(&quot;Created Cells&quot;);\r\n\r\n        out.println(&quot;&lt;form type=\\&quot;hidden\\&quot; action=&#39;MainServlet&#39; method=&#39;post&#39;&gt;&quot;);\r\n        out.println(&quot;&lt;div class=\\&quot;buttonDiv\\&quot;&gt;&quot;);\r\n        out.println(&quot;&lt;div class=\\&quot;prevWeekWrapper\\&quot;&gt;&quot;);\r\n        out.println(&quot;&lt;button type=&#39;submit&#39; name=&#39;changeWeek&#39; value=&#39;back&#39;&gt;Previous Week&lt;/button&gt;&quot;);\r\n        out.println(&quot;&lt;/div&gt;&quot;);\r\n        out.println(&quot;&lt;span id=\\&quot;currentWeek\\&quot;&gt;&quot; + weekNo + &quot;&lt;/span&gt;&quot;);\r\n        out.println(&quot;&lt;div class=\\&quot;nextWeekWrapper\\&quot;&gt;&quot;);\r\n        out.println(&quot;&lt;button type=&#39;submit&#39; name=&#39;changeWeek&#39; value=&#39;forward&#39;&gt;Next Week&lt;/button&gt;&quot;);\r\n        out.println(&quot;&lt;/div&gt;&quot;);\r\n        out.println(&quot;&lt;/div&gt;&quot;);\r\n        out.println(&quot;&lt;/form&gt;&quot;);\r\n\r\n\r\n        out.println(&quot;&lt;/body&gt;&quot;);\r\n        out.println(&quot;&lt;/html&gt;&quot;);\r\n\r\n        out.close();\r\n\r\n        System.out.println(&quot;Created Buttons&quot;);\r\n    }\r\nMy data looks like the follow. Which is essentially a 3D array. One is the outher array, one is for the weeks, and one is for the internal data, although its worth noting im only reading the data into a 2D array.\r\n\r\n    [[[Name, 0412345678, Address, Email], null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, [Name, 0412345678, Address, Email], null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null], [null, ....]]\r\n\r\nWhat could be causing this? It seems when i press on a cell when an the item is in position 0 it calls doGet. But when pos 0 is null it works fine and the form is redirected to the booking page\r\n\r\nHere is the full code\r\n\r\n\r\n```\r\nimport javax.servlet.RequestDispatcher;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.annotation.WebServlet;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport java.io.*;\r\nimport java.util.Arrays;\r\n\r\n@WebServlet(urlPatterns = {&quot;/MainServlet&quot;})\r\npublic class MainServlet extends HttpServlet {\r\n\r\n    private String[][] arr;\r\n\r\n    static int weekNo = 1;\r\n\r\n    public void doGet(HttpServletRequest request, HttpServletResponse response)\r\n            throws ServletException, IOException {\r\n\r\n        PrintWriter out = response.getWriter();\r\n        RequestDispatcher rd = request.getRequestDispatcher(&quot;/WEB-INF/html/index.html&quot;);\r\n\r\n        rd.include(request, response);\r\n        \r\n        createFile();\r\n\r\n        arr = getNewData();\r\n\r\n        for (int i = 0; i &lt;= 174; i++) {\r\n\r\n            // System.out.println(arr[weekNo - 1][i]);\r\n\r\n                if (arr[weekNo - 1][i] != null) {\r\n\r\n                    out.println(&quot;&lt;form class=\\&quot;timeSelector\\&quot; data-taken=\\&quot;true\\&quot;&gt;&quot;);\r\n                } else {\r\n                    out.println(&quot;&lt;form class=\\&quot;timeSelector\\&quot; data-taken=\\&quot;false\\&quot; action=&#39;BookingsServlet&#39; method=&#39;get&#39; onclick=\\&quot;javascript:submitForm(&quot; + i + &quot;,&quot; + (weekNo - 1) + &quot;)\\&quot;&gt;&quot;);\r\n                }\r\n\r\n            out.println(&quot;&lt;input type=\\&quot;hidden\\&quot; name=\\&quot;cell\\&quot; value=\\&quot;&quot; + i + &quot;\\&quot;&gt;&quot;);\r\n            out.println(&quot;&lt;input type=\\&quot;hidden\\&quot; name=\\&quot;week\\&quot; value=\\&quot;&quot; + weekNo + &quot;\\&quot;&gt;&quot;);\r\n            out.println(&quot;&lt;div class=\\&quot;timeSlot\\&quot;&gt;&quot;);\r\n            out.println(&quot;&lt;span class=\\&quot;timeSlotText\\&quot;&gt;&lt;/span&gt;&quot;);\r\n            out.println(&quot;&lt;/div&gt;&quot;);\r\n            out.println(&quot;&lt;/form&gt;&quot;);\r\n\r\n\r\n        }\r\n\r\n        out.println(&quot;&lt;/div&gt;&quot;);\r\n\r\n        System.out.println(&quot;Created Cells&quot;);\r\n\r\n        out.println(&quot;&lt;form type=\\&quot;hidden\\&quot; action=&#39;MainServlet&#39; method=&#39;post&#39;&gt;&quot;);\r\n        out.println(&quot;&lt;div class=\\&quot;buttonDiv\\&quot;&gt;&quot;);\r\n        out.println(&quot;&lt;div class=\\&quot;prevWeekWrapper\\&quot;&gt;&quot;);\r\n        out.println(&quot;&lt;button type=&#39;submit&#39; name=&#39;changeWeek&#39; value=&#39;back&#39;&gt;Previous Week&lt;/button&gt;&quot;);\r\n        out.println(&quot;&lt;/div&gt;&quot;);\r\n        out.println(&quot;&lt;span id=\\&quot;currentWeek\\&quot;&gt;&quot; + weekNo + &quot;&lt;/span&gt;&quot;);\r\n        out.println(&quot;&lt;div class=\\&quot;nextWeekWrapper\\&quot;&gt;&quot;);\r\n        out.println(&quot;&lt;button type=&#39;submit&#39; name=&#39;changeWeek&#39; value=&#39;forward&#39;&gt;Next Week&lt;/button&gt;&quot;);\r\n        out.println(&quot;&lt;/div&gt;&quot;);\r\n        out.println(&quot;&lt;/div&gt;&quot;);\r\n        out.println(&quot;&lt;/form&gt;&quot;);\r\n\r\n\r\n        out.println(&quot;&lt;/body&gt;&quot;);\r\n        out.println(&quot;&lt;/html&gt;&quot;);\r\n\r\n        out.close();\r\n\r\n        System.out.println(&quot;Created Buttons&quot;);\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    \r\n    public void doPost(HttpServletRequest request, HttpServletResponse response)\r\n            throws ServletException, IOException {\r\n\r\n\r\n            if (request.getParameter(&quot;cell&quot;) != null &amp;&amp; request.getParameter(&quot;name&quot;) != null) {\r\n\r\n                System.out.println(&quot;Called Post&quot;);\r\n\r\n                String[] r = new String[4];\r\n\r\n                r[0] = request.getParameter(&quot;name&quot;);\r\n                r[1] = request.getParameter(&quot;phone&quot;);\r\n                r[2] = request.getParameter(&quot;address&quot;);\r\n                r[3] = request.getParameter(&quot;email&quot;);\r\n\r\n                int cell = Integer.parseInt(request.getParameter(&quot;cell&quot;));\r\n\r\n                // String test[][] = getNewData();\r\n\r\n                String[][] arr = getNewData();\r\n\r\n                StringBuilder sb = new StringBuilder();\r\n                sb.append(&quot;[&quot;);\r\n                for (String s : r) {\r\n                    System.out.println(s);\r\n                    sb.append(s);\r\n                    sb.append(&quot;, &quot;);\r\n                }\r\n\r\n                String result = sb.toString().substring(0, sb.length() - 2) + &quot;]&quot;;\r\n\r\n                System.out.println(sb);\r\n\r\n                arr[weekNo - 1][cell] = result;\r\n                \r\n                String contextPath = getServletContext().getRealPath(&quot;/&quot;);\r\n                \r\n                BufferedWriter writer = new BufferedWriter(new FileWriter(contextPath + &quot;data/data.txt&quot;));\r\n                writer.write(Arrays.deepToString(arr));\r\n\r\n                writer.close();\r\n            // }\r\n            // System.out.println(&quot;Successfully wrote to the file.&quot;);\r\n            }\r\n\r\n\r\n        if (&quot;forward&quot;.equals(request.getParameter(&quot;changeWeek&quot;))) {\r\n            System.out.println(&quot;Forward&quot;);\r\n            weekNo++;\r\n        } else if (&quot;back&quot;.equals(request.getParameter(&quot;changeWeek&quot;))) {\r\n            if (weekNo == 1)\r\n            {\r\n\r\n            }\r\n            else\r\n            {                \r\n                weekNo--;\r\n            }\r\n        }\r\n\r\n        doGet(request, response);\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    public void setData(String[][] arr) throws IOException\r\n    {\r\n        String contextPath = getServletContext().getRealPath(&quot;/&quot;);\r\n        BufferedWriter writer = new BufferedWriter(new FileWriter(contextPath + &quot;data/data.txt&quot;));\r\n        writer.write(Arrays.deepToString(arr));\r\n\r\n        writer.close();\r\n        // System.out.println(&quot;Successfully wrote to the file.&quot;);\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    public String[][] getNewData() throws IOException\r\n    {\r\n        String contextPath = getServletContext().getRealPath(&quot;/&quot;);\r\n        File file = new File(contextPath, &quot;data/data.txt&quot;);\r\n\r\n        String[][] arr = new String[52][175];\r\n        String[] info = new String[4];\r\n\r\n        int infoCount = 0;\r\n        int weekCount = 0;\r\n        int cellCount = 0;\r\n\r\n        if (file.length() != 0) \r\n        {\r\n\r\n            BufferedReader br = new BufferedReader(new FileReader(file));\r\n            String line;\r\n\r\n\r\n            while((line = br.readLine()) != null) {\r\n\r\n                System.out.println(line);\r\n\r\n                // This removes the start and end brackets\r\n                // line.trim();\r\n                line = line.replaceFirst(&quot;\\\\[&quot;, &quot;&quot;);\r\n                line = line.substring(0, line.length() - 1);\r\n\r\n                String[] week = line.split(&quot;,&quot;);\r\n\r\n                boolean inWeek = false;\r\n                boolean inData = false;\r\n\r\n                for (int i = 0; i &lt; week.length; i++)\r\n                {\r\n\r\n                    week[i] = week[i].trim();\r\n\r\n                    if (week[i].charAt(0) == &#39;[&#39; &amp;&amp; inWeek == false)\r\n                    {\r\n                        \r\n                        week[i] = week[i].replaceFirst(&quot;\\\\[&quot;, &quot;&quot;);\r\n                        inWeek = true;\r\n                        cellCount = -1;\r\n\r\n                    }\r\n\r\n                    if (week[i].charAt(0) == &#39;[&#39;)\r\n                    {\r\n                        week[i] = week[i].replaceFirst(&quot;\\\\[&quot;, &quot;&quot;);\r\n                        // infoCount = 0;\r\n                        inData = true;\r\n                    }\r\n\r\n\r\n                    if (inData)\r\n                    {\r\n                        String temp = week[i].trim();\r\n\r\n                        temp.replaceAll(&quot;\\\\[&quot;, &quot;&quot;);\r\n                        // TODO FIX THIS\r\n\r\n                        if (temp.charAt(temp.length() - 1) == &#39;]&#39;)\r\n                            temp = temp.substring(0, temp.length() - 1);\r\n\r\n                        info[infoCount] = temp;\r\n\r\n                        System.out.println(temp);\r\n\r\n                        infoCount++;\r\n                        cellCount--;\r\n\r\n                    }\r\n\r\n                    System.out.println(week[i]);\r\n                    \r\n                    if (infoCount == 4)\r\n                    {\r\n\r\n                        cellCount = cellCount + 2;\r\n\r\n                        System.out.println(weekCount + &quot; &quot; + cellCount);\r\n\r\n                        arr[weekCount][cellCount] = Arrays.toString(info);\r\n\r\n                        infoCount = 0;\r\n                    }\r\n                    else\r\n                    {\r\n                        if (cellCount &lt; 0)\r\n                        {\r\n                            arr[weekCount][0] = null;\r\n                            \r\n                            cellCount++;\r\n                        }\r\n                            \r\n                        else\r\n                        {\r\n                            cellCount++;\r\n\r\n                            arr[weekCount][cellCount] = null;\r\n                        }\r\n                        System.out.println(weekCount + &quot; &quot; + cellCount);\r\n                    }\r\n\r\n\r\n                    if (week[i].charAt(week[i].length() - 1) == &#39;]&#39;)\r\n                    {\r\n\r\n                        if (inData)\r\n                        {\r\n                            week[i] = week[i].substring(0, week[i].length() - 1);\r\n                            inData = false;\r\n                        }\r\n\r\n                        if (inWeek &amp;&amp; week[i].charAt(week[i].length() - 1) == &#39;]&#39;)\r\n                        {\r\n                            week[i] = week[i].substring(0, week[i].length() - 1);\r\n                            inWeek = false;\r\n                            weekCount++;\r\n\r\n                        }\r\n\r\n                    }\r\n\r\n                }\r\n\r\n            }\r\n\r\n            br.close();\r\n\r\n        }\r\n        else \r\n        {\r\n            for (int i = 0; i &lt; 52; i++) {\r\n                for (int j = 0; j &lt;= 174; j++) {\r\n                    arr[i][j] = null;\r\n                }\r\n            }\r\n        }\r\n\r\n        setData(arr);\r\n\r\n        return arr;\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    public String[][] getData() throws IOException\r\n    {\r\n        System.out.println(&quot;Called getData Internal&quot;);\r\n\r\n        String contextPath = getServletContext().getRealPath(&quot;/&quot;);\r\n        File file = new File(contextPath, &quot;data/data.txt&quot;);\r\n\r\n        String[][] arr = new String[52][175];\r\n\r\n        if (file.length() != 0) {\r\n\r\n            String[] info = new String[4];\r\n            int infoCount = 0;\r\n            int weekCount = 0;\r\n            int cellCount = 0;\r\n\r\n            BufferedReader br = new BufferedReader(new FileReader(file));\r\n            String line;\r\n            \r\n            boolean inWeek = false;\r\n            boolean inData = false;\r\n\r\n            while((line = br.readLine()) != null) {\r\n\r\n\r\n                if (line.charAt(0) == &#39;[&#39; &amp;&amp; line.charAt(1) == &#39;[&#39; &amp;&amp; line.charAt(2) == &#39;[&#39;) {\r\n                    System.out.println(&quot;In Data FIRST&quot;);\r\n                    inWeek = true;\r\n                    if (weekNo == 0)\r\n                    {\r\n                        line = line.replaceFirst(&quot;\\\\[&quot;, &quot;&quot;);\r\n                    }\r\n                    \r\n                    line = line.replaceFirst(&quot;\\\\[&quot;, &quot;&quot;);\r\n                }\r\n                else\r\n                {\r\n                    System.out.println(&quot;Out Data&quot;);\r\n                    line = line.replaceFirst(&quot;\\\\[&quot;, &quot;&quot;);\r\n                }\r\n\r\n\r\n                \r\n                String[] row = line.split(&quot;,&quot;);\r\n\r\n\r\n\r\n                for (int i = 0; i &lt; row.length; i++) {\r\n\r\n                    if ((row[i].charAt(0) == &#39;[&#39; || row[i].charAt(1) == &#39;[&#39;) &amp;&amp; inWeek == false) {\r\n                        // System.out.println(&quot;in week&quot; + weekCount);\r\n\r\n                        inWeek = true;\r\n\r\n                        row[i] = row[i].replaceAll(&quot;\\\\[&quot;, &quot;&quot;);\r\n\r\n                        // System.out.println(row[i]);\r\n                    } \r\n                    else if (row[i].charAt(row[i].length() - 1) == &#39;]&#39; &amp;&amp; inData == false) {\r\n                        // System.out.println(&quot;out of week&quot; + row[i] + &quot; &quot; + i);\r\n\r\n                        inWeek = false;\r\n\r\n                        weekCount++;\r\n                        cellCount=0;\r\n                    \r\n                    }\r\n\r\n                    if (inWeek) {\r\n                                                \r\n                        if (row[i].charAt(1) == &#39;[&#39; || row[i].charAt(0) == &#39;[&#39;) {\r\n                            // System.out.println(&quot;in data&quot; + row[i] + &quot; &quot; + i);\r\n\r\n                            inData = true;\r\n                        }\r\n\r\n                        \r\n                        if (inData) {\r\n                            System.out.println(&quot;in data&quot; + row[i] + &quot; &quot; + cellCount);\r\n    \r\n\r\n                            if (infoCount &lt;= 3) {\r\n                                // System.out.println(&quot;in data&quot;);\r\n    \r\n                                info[infoCount] = row[i];\r\n                                info[infoCount] = info[infoCount].replaceAll(&quot;\\\\[&quot;, &quot;&quot;);\r\n                                info[infoCount] = info[infoCount].replaceAll(&quot;\\\\]&quot;, &quot;&quot;);\r\n                                info[infoCount] = info[infoCount].trim();\r\n                                cellCount--;\r\n                                \r\n\r\n                                // System.out.println(info[infoCount]);\r\n                            } \r\n                            if (infoCount == 3) {\r\n                                \r\n                                if (weekCount == 0)\r\n                                {\r\n                                    cellCount++;\r\n\r\n                                    arr[weekCount][cellCount] = Arrays.toString(info);\r\n                                }\r\n                                else{\r\n\r\n                                    arr[weekCount][cellCount] = Arrays.toString(info);\r\n\r\n                                    cellCount++;\r\n\r\n                                }\r\n                                \r\n                                infoCount = -1;\r\n                                \r\n                            }\r\n    \r\n                            infoCount++;\r\n    \r\n                        }\r\n                        else {\r\n                            // System.out.println(&quot;OUT data&quot; + weekCount + &quot; &quot; + cellCount);\r\n    \r\n                            arr[weekCount][cellCount] = null;\r\n\r\n                            // System.out.println(arr[weekCount][cellCount]);\r\n                        }\r\n    \r\n\r\n                        if (row[i].charAt(row[i].length() - 1) == &#39;]&#39;) {\r\n\r\n                            inData = false;\r\n                        }\r\n\r\n                    }\r\n\r\n                    cellCount++;\r\n                }\r\n            }\r\n            br.close();\r\n        }\r\n\r\n        else {\r\n            for (int i = 0; i &lt; 52; i++) {\r\n                for (int j = 0; j &lt;= 174; j++) {\r\n                    arr[i][j] = null;\r\n                }\r\n            }\r\n        }\r\n\r\n        System.out.println(&quot;Successfully read from the file.&quot;);\r\n\r\n        BufferedWriter writer = new BufferedWriter(new FileWriter(contextPath + &quot;data/data.txt&quot;));\r\n        writer.write(Arrays.deepToString(arr));\r\n        // writer.write(Arrays.deepToString(arr).replaceAll(&quot;\\\\[\\\\[&quot;, &quot;[&quot;).replaceAll(&quot;\\\\]\\\\]&quot;, &quot;]&quot;));\r\n\r\n        writer.close();\r\n\r\n        return arr;\r\n\r\n    }\r\n\r\n    public void createFile() throws IOException {\r\n        System.out.println(&quot;Reading data&quot;);\r\n        String contextPath = getServletContext().getRealPath(&quot;/&quot;);\r\n        File file = new File(contextPath, &quot;data/data.txt&quot;);\r\n        if (!file.exists()) {\r\n            if (file.createNewFile()) {\r\n                System.out.println(&quot;File created: &quot; + file.getName());\r\n            }\r\n        } else {\r\n            System.out.println(&quot;File already exists.&quot;);\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"I have a Java servlet that creates a booking Calendar - When i click on a cell it takes me to a booking page, but not when the array is in position 1","body":"<p>Hey Guys (Full code at the bottom)</p>\n<p>I have a java servlet that calls the below getNewData()</p>\n<pre><code>public String[][] getNewData() throws IOException\n{\n    String contextPath = getServletContext().getRealPath(&quot;/&quot;);\n    File file = new File(contextPath, &quot;data/data.txt&quot;);\n\n    String[][] arr = new String[52][175];\n    String[] info = new String[4];\n\n    int infoCount = 0;\n    int weekCount = 0;\n    int cellCount = 0;\n\n    if (file.length() != 0) \n    {\n\n        BufferedReader br = new BufferedReader(new FileReader(file));\n        String line;\n\n\n        while((line = br.readLine()) != null) {\n\n            System.out.println(line);\n\n            // This removes the start and end brackets\n            // line.trim();\n            line = line.replaceFirst(&quot;\\\\[&quot;, &quot;&quot;);\n            line = line.substring(0, line.length() - 1);\n\n            String[] week = line.split(&quot;,&quot;);\n\n            boolean inWeek = false;\n            boolean inData = false;\n\n            for (int i = 0; i &lt; week.length; i++)\n            {\n\n                week[i] = week[i].trim();\n\n                if (week[i].charAt(0) == '[' &amp;&amp; inWeek == false)\n                {\n                    \n                    week[i] = week[i].replaceFirst(&quot;\\\\[&quot;, &quot;&quot;);\n                    inWeek = true;\n                    cellCount = -1;\n\n                }\n\n                if (week[i].charAt(0) == '[')\n                {\n                    week[i] = week[i].replaceFirst(&quot;\\\\[&quot;, &quot;&quot;);\n                    // infoCount = 0;\n                    inData = true;\n                }\n\n\n                if (inData)\n                {\n                    String temp = week[i].trim();\n\n                    temp.replaceAll(&quot;\\\\[&quot;, &quot;&quot;);\n                    // TODO FIX THIS\n\n                    if (temp.charAt(temp.length() - 1) == ']')\n                        temp = temp.substring(0, temp.length() - 1);\n\n                    info[infoCount] = temp;\n\n                    System.out.println(temp);\n\n                    infoCount++;\n                    cellCount--;\n\n                }\n\n                System.out.println(week[i]);\n                \n                if (infoCount == 4)\n                {\n\n                    cellCount = cellCount + 2;\n\n                    System.out.println(weekCount + &quot; &quot; + cellCount);\n\n                    arr[weekCount][cellCount] = Arrays.toString(info);\n\n                    infoCount = 0;\n                }\n                else\n                {\n                    if (cellCount &lt; 0)\n                    {\n                        arr[weekCount][0] = null;\n                        \n                        cellCount++;\n                    }\n                        \n                    else\n                    {\n                        cellCount++;\n\n                        arr[weekCount][cellCount] = null;\n                    }\n                    System.out.println(weekCount + &quot; &quot; + cellCount);\n                }\n\n\n                if (week[i].charAt(week[i].length() - 1) == ']')\n                {\n\n                    if (inData)\n                    {\n                        week[i] = week[i].substring(0, week[i].length() - 1);\n                        inData = false;\n                    }\n\n                    if (inWeek &amp;&amp; week[i].charAt(week[i].length() - 1) == ']')\n                    {\n                        week[i] = week[i].substring(0, week[i].length() - 1);\n                        inWeek = false;\n                        weekCount++;\n\n                    }\n\n                }\n\n            }\n\n        }\n\n        br.close();\n\n    }\n    else \n    {\n        for (int i = 0; i &lt; 52; i++) {\n            for (int j = 0; j &lt;= 174; j++) {\n                arr[i][j] = null;\n            }\n        }\n    }\n\n    setData(arr);\n\n    return arr;\n\n}\n</code></pre>\n<p>It works perfectly when i press on any other, except for the first and last array item.</p>\n<pre><code>public void doGet(HttpServletRequest request, HttpServletResponse response)\n        throws ServletException, IOException {\n\n    PrintWriter out = response.getWriter();\n    RequestDispatcher rd = request.getRequestDispatcher(&quot;/WEB-INF/html/index.html&quot;);\n\n    rd.include(request, response);\n    \n    createFile();\n\n    arr = getNewData();\n\n    for (int i = 0; i &lt;= 174; i++) {\n\n        // System.out.println(arr[weekNo - 1][i]);\n\n            if (arr[weekNo - 1][i] != null) {\n\n                out.println(&quot;&lt;form class=\\&quot;timeSelector\\&quot; data-taken=\\&quot;true\\&quot;&gt;&quot;);\n            } else {\n                out.println(&quot;&lt;form class=\\&quot;timeSelector\\&quot; data-taken=\\&quot;false\\&quot; action='BookingsServlet' method='get' onclick=\\&quot;javascript:submitForm(&quot; + i + &quot;,&quot; + (weekNo - 1) + &quot;)\\&quot;&gt;&quot;);\n            }\n\n        out.println(&quot;&lt;input type=\\&quot;hidden\\&quot; name=\\&quot;cell\\&quot; value=\\&quot;&quot; + i + &quot;\\&quot;&gt;&quot;);\n        out.println(&quot;&lt;input type=\\&quot;hidden\\&quot; name=\\&quot;week\\&quot; value=\\&quot;&quot; + weekNo + &quot;\\&quot;&gt;&quot;);\n        out.println(&quot;&lt;div class=\\&quot;timeSlot\\&quot;&gt;&quot;);\n        out.println(&quot;&lt;span class=\\&quot;timeSlotText\\&quot;&gt;&lt;/span&gt;&quot;);\n        out.println(&quot;&lt;/div&gt;&quot;);\n        out.println(&quot;&lt;/form&gt;&quot;);\n\n\n    }\n\n    out.println(&quot;&lt;/div&gt;&quot;);\n\n    System.out.println(&quot;Created Cells&quot;);\n\n    out.println(&quot;&lt;form type=\\&quot;hidden\\&quot; action='MainServlet' method='post'&gt;&quot;);\n    out.println(&quot;&lt;div class=\\&quot;buttonDiv\\&quot;&gt;&quot;);\n    out.println(&quot;&lt;div class=\\&quot;prevWeekWrapper\\&quot;&gt;&quot;);\n    out.println(&quot;&lt;button type='submit' name='changeWeek' value='back'&gt;Previous Week&lt;/button&gt;&quot;);\n    out.println(&quot;&lt;/div&gt;&quot;);\n    out.println(&quot;&lt;span id=\\&quot;currentWeek\\&quot;&gt;&quot; + weekNo + &quot;&lt;/span&gt;&quot;);\n    out.println(&quot;&lt;div class=\\&quot;nextWeekWrapper\\&quot;&gt;&quot;);\n    out.println(&quot;&lt;button type='submit' name='changeWeek' value='forward'&gt;Next Week&lt;/button&gt;&quot;);\n    out.println(&quot;&lt;/div&gt;&quot;);\n    out.println(&quot;&lt;/div&gt;&quot;);\n    out.println(&quot;&lt;/form&gt;&quot;);\n\n\n    out.println(&quot;&lt;/body&gt;&quot;);\n    out.println(&quot;&lt;/html&gt;&quot;);\n\n    out.close();\n\n    System.out.println(&quot;Created Buttons&quot;);\n}\n</code></pre>\n<p>My data looks like the follow. Which is essentially a 3D array. One is the outher array, one is for the weeks, and one is for the internal data, although its worth noting im only reading the data into a 2D array.</p>\n<pre><code>[[[Name, 0412345678, Address, Email], null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, [Name, 0412345678, Address, Email], null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null], [null, ....]]\n</code></pre>\n<p>What could be causing this? It seems when i press on a cell when an the item is in position 0 it calls doGet. But when pos 0 is null it works fine and the form is redirected to the booking page</p>\n<p>Here is the full code</p>\n<pre><code>import javax.servlet.RequestDispatcher;\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.*;\nimport java.util.Arrays;\n\n@WebServlet(urlPatterns = {&quot;/MainServlet&quot;})\npublic class MainServlet extends HttpServlet {\n\n    private String[][] arr;\n\n    static int weekNo = 1;\n\n    public void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n\n        PrintWriter out = response.getWriter();\n        RequestDispatcher rd = request.getRequestDispatcher(&quot;/WEB-INF/html/index.html&quot;);\n\n        rd.include(request, response);\n        \n        createFile();\n\n        arr = getNewData();\n\n        for (int i = 0; i &lt;= 174; i++) {\n\n            // System.out.println(arr[weekNo - 1][i]);\n\n                if (arr[weekNo - 1][i] != null) {\n\n                    out.println(&quot;&lt;form class=\\&quot;timeSelector\\&quot; data-taken=\\&quot;true\\&quot;&gt;&quot;);\n                } else {\n                    out.println(&quot;&lt;form class=\\&quot;timeSelector\\&quot; data-taken=\\&quot;false\\&quot; action='BookingsServlet' method='get' onclick=\\&quot;javascript:submitForm(&quot; + i + &quot;,&quot; + (weekNo - 1) + &quot;)\\&quot;&gt;&quot;);\n                }\n\n            out.println(&quot;&lt;input type=\\&quot;hidden\\&quot; name=\\&quot;cell\\&quot; value=\\&quot;&quot; + i + &quot;\\&quot;&gt;&quot;);\n            out.println(&quot;&lt;input type=\\&quot;hidden\\&quot; name=\\&quot;week\\&quot; value=\\&quot;&quot; + weekNo + &quot;\\&quot;&gt;&quot;);\n            out.println(&quot;&lt;div class=\\&quot;timeSlot\\&quot;&gt;&quot;);\n            out.println(&quot;&lt;span class=\\&quot;timeSlotText\\&quot;&gt;&lt;/span&gt;&quot;);\n            out.println(&quot;&lt;/div&gt;&quot;);\n            out.println(&quot;&lt;/form&gt;&quot;);\n\n\n        }\n\n        out.println(&quot;&lt;/div&gt;&quot;);\n\n        System.out.println(&quot;Created Cells&quot;);\n\n        out.println(&quot;&lt;form type=\\&quot;hidden\\&quot; action='MainServlet' method='post'&gt;&quot;);\n        out.println(&quot;&lt;div class=\\&quot;buttonDiv\\&quot;&gt;&quot;);\n        out.println(&quot;&lt;div class=\\&quot;prevWeekWrapper\\&quot;&gt;&quot;);\n        out.println(&quot;&lt;button type='submit' name='changeWeek' value='back'&gt;Previous Week&lt;/button&gt;&quot;);\n        out.println(&quot;&lt;/div&gt;&quot;);\n        out.println(&quot;&lt;span id=\\&quot;currentWeek\\&quot;&gt;&quot; + weekNo + &quot;&lt;/span&gt;&quot;);\n        out.println(&quot;&lt;div class=\\&quot;nextWeekWrapper\\&quot;&gt;&quot;);\n        out.println(&quot;&lt;button type='submit' name='changeWeek' value='forward'&gt;Next Week&lt;/button&gt;&quot;);\n        out.println(&quot;&lt;/div&gt;&quot;);\n        out.println(&quot;&lt;/div&gt;&quot;);\n        out.println(&quot;&lt;/form&gt;&quot;);\n\n\n        out.println(&quot;&lt;/body&gt;&quot;);\n        out.println(&quot;&lt;/html&gt;&quot;);\n\n        out.close();\n\n        System.out.println(&quot;Created Buttons&quot;);\n    }\n\n\n\n\n\n\n    \n    public void doPost(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n\n\n            if (request.getParameter(&quot;cell&quot;) != null &amp;&amp; request.getParameter(&quot;name&quot;) != null) {\n\n                System.out.println(&quot;Called Post&quot;);\n\n                String[] r = new String[4];\n\n                r[0] = request.getParameter(&quot;name&quot;);\n                r[1] = request.getParameter(&quot;phone&quot;);\n                r[2] = request.getParameter(&quot;address&quot;);\n                r[3] = request.getParameter(&quot;email&quot;);\n\n                int cell = Integer.parseInt(request.getParameter(&quot;cell&quot;));\n\n                // String test[][] = getNewData();\n\n                String[][] arr = getNewData();\n\n                StringBuilder sb = new StringBuilder();\n                sb.append(&quot;[&quot;);\n                for (String s : r) {\n                    System.out.println(s);\n                    sb.append(s);\n                    sb.append(&quot;, &quot;);\n                }\n\n                String result = sb.toString().substring(0, sb.length() - 2) + &quot;]&quot;;\n\n                System.out.println(sb);\n\n                arr[weekNo - 1][cell] = result;\n                \n                String contextPath = getServletContext().getRealPath(&quot;/&quot;);\n                \n                BufferedWriter writer = new BufferedWriter(new FileWriter(contextPath + &quot;data/data.txt&quot;));\n                writer.write(Arrays.deepToString(arr));\n\n                writer.close();\n            // }\n            // System.out.println(&quot;Successfully wrote to the file.&quot;);\n            }\n\n\n        if (&quot;forward&quot;.equals(request.getParameter(&quot;changeWeek&quot;))) {\n            System.out.println(&quot;Forward&quot;);\n            weekNo++;\n        } else if (&quot;back&quot;.equals(request.getParameter(&quot;changeWeek&quot;))) {\n            if (weekNo == 1)\n            {\n\n            }\n            else\n            {                \n                weekNo--;\n            }\n        }\n\n        doGet(request, response);\n\n    }\n\n\n\n\n    public void setData(String[][] arr) throws IOException\n    {\n        String contextPath = getServletContext().getRealPath(&quot;/&quot;);\n        BufferedWriter writer = new BufferedWriter(new FileWriter(contextPath + &quot;data/data.txt&quot;));\n        writer.write(Arrays.deepToString(arr));\n\n        writer.close();\n        // System.out.println(&quot;Successfully wrote to the file.&quot;);\n    }\n\n\n\n\n\n    public String[][] getNewData() throws IOException\n    {\n        String contextPath = getServletContext().getRealPath(&quot;/&quot;);\n        File file = new File(contextPath, &quot;data/data.txt&quot;);\n\n        String[][] arr = new String[52][175];\n        String[] info = new String[4];\n\n        int infoCount = 0;\n        int weekCount = 0;\n        int cellCount = 0;\n\n        if (file.length() != 0) \n        {\n\n            BufferedReader br = new BufferedReader(new FileReader(file));\n            String line;\n\n\n            while((line = br.readLine()) != null) {\n\n                System.out.println(line);\n\n                // This removes the start and end brackets\n                // line.trim();\n                line = line.replaceFirst(&quot;\\\\[&quot;, &quot;&quot;);\n                line = line.substring(0, line.length() - 1);\n\n                String[] week = line.split(&quot;,&quot;);\n\n                boolean inWeek = false;\n                boolean inData = false;\n\n                for (int i = 0; i &lt; week.length; i++)\n                {\n\n                    week[i] = week[i].trim();\n\n                    if (week[i].charAt(0) == '[' &amp;&amp; inWeek == false)\n                    {\n                        \n                        week[i] = week[i].replaceFirst(&quot;\\\\[&quot;, &quot;&quot;);\n                        inWeek = true;\n                        cellCount = -1;\n\n                    }\n\n                    if (week[i].charAt(0) == '[')\n                    {\n                        week[i] = week[i].replaceFirst(&quot;\\\\[&quot;, &quot;&quot;);\n                        // infoCount = 0;\n                        inData = true;\n                    }\n\n\n                    if (inData)\n                    {\n                        String temp = week[i].trim();\n\n                        temp.replaceAll(&quot;\\\\[&quot;, &quot;&quot;);\n                        // TODO FIX THIS\n\n                        if (temp.charAt(temp.length() - 1) == ']')\n                            temp = temp.substring(0, temp.length() - 1);\n\n                        info[infoCount] = temp;\n\n                        System.out.println(temp);\n\n                        infoCount++;\n                        cellCount--;\n\n                    }\n\n                    System.out.println(week[i]);\n                    \n                    if (infoCount == 4)\n                    {\n\n                        cellCount = cellCount + 2;\n\n                        System.out.println(weekCount + &quot; &quot; + cellCount);\n\n                        arr[weekCount][cellCount] = Arrays.toString(info);\n\n                        infoCount = 0;\n                    }\n                    else\n                    {\n                        if (cellCount &lt; 0)\n                        {\n                            arr[weekCount][0] = null;\n                            \n                            cellCount++;\n                        }\n                            \n                        else\n                        {\n                            cellCount++;\n\n                            arr[weekCount][cellCount] = null;\n                        }\n                        System.out.println(weekCount + &quot; &quot; + cellCount);\n                    }\n\n\n                    if (week[i].charAt(week[i].length() - 1) == ']')\n                    {\n\n                        if (inData)\n                        {\n                            week[i] = week[i].substring(0, week[i].length() - 1);\n                            inData = false;\n                        }\n\n                        if (inWeek &amp;&amp; week[i].charAt(week[i].length() - 1) == ']')\n                        {\n                            week[i] = week[i].substring(0, week[i].length() - 1);\n                            inWeek = false;\n                            weekCount++;\n\n                        }\n\n                    }\n\n                }\n\n            }\n\n            br.close();\n\n        }\n        else \n        {\n            for (int i = 0; i &lt; 52; i++) {\n                for (int j = 0; j &lt;= 174; j++) {\n                    arr[i][j] = null;\n                }\n            }\n        }\n\n        setData(arr);\n\n        return arr;\n\n    }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n    public String[][] getData() throws IOException\n    {\n        System.out.println(&quot;Called getData Internal&quot;);\n\n        String contextPath = getServletContext().getRealPath(&quot;/&quot;);\n        File file = new File(contextPath, &quot;data/data.txt&quot;);\n\n        String[][] arr = new String[52][175];\n\n        if (file.length() != 0) {\n\n            String[] info = new String[4];\n            int infoCount = 0;\n            int weekCount = 0;\n            int cellCount = 0;\n\n            BufferedReader br = new BufferedReader(new FileReader(file));\n            String line;\n            \n            boolean inWeek = false;\n            boolean inData = false;\n\n            while((line = br.readLine()) != null) {\n\n\n                if (line.charAt(0) == '[' &amp;&amp; line.charAt(1) == '[' &amp;&amp; line.charAt(2) == '[') {\n                    System.out.println(&quot;In Data FIRST&quot;);\n                    inWeek = true;\n                    if (weekNo == 0)\n                    {\n                        line = line.replaceFirst(&quot;\\\\[&quot;, &quot;&quot;);\n                    }\n                    \n                    line = line.replaceFirst(&quot;\\\\[&quot;, &quot;&quot;);\n                }\n                else\n                {\n                    System.out.println(&quot;Out Data&quot;);\n                    line = line.replaceFirst(&quot;\\\\[&quot;, &quot;&quot;);\n                }\n\n\n                \n                String[] row = line.split(&quot;,&quot;);\n\n\n\n                for (int i = 0; i &lt; row.length; i++) {\n\n                    if ((row[i].charAt(0) == '[' || row[i].charAt(1) == '[') &amp;&amp; inWeek == false) {\n                        // System.out.println(&quot;in week&quot; + weekCount);\n\n                        inWeek = true;\n\n                        row[i] = row[i].replaceAll(&quot;\\\\[&quot;, &quot;&quot;);\n\n                        // System.out.println(row[i]);\n                    } \n                    else if (row[i].charAt(row[i].length() - 1) == ']' &amp;&amp; inData == false) {\n                        // System.out.println(&quot;out of week&quot; + row[i] + &quot; &quot; + i);\n\n                        inWeek = false;\n\n                        weekCount++;\n                        cellCount=0;\n                    \n                    }\n\n                    if (inWeek) {\n                                                \n                        if (row[i].charAt(1) == '[' || row[i].charAt(0) == '[') {\n                            // System.out.println(&quot;in data&quot; + row[i] + &quot; &quot; + i);\n\n                            inData = true;\n                        }\n\n                        \n                        if (inData) {\n                            System.out.println(&quot;in data&quot; + row[i] + &quot; &quot; + cellCount);\n    \n\n                            if (infoCount &lt;= 3) {\n                                // System.out.println(&quot;in data&quot;);\n    \n                                info[infoCount] = row[i];\n                                info[infoCount] = info[infoCount].replaceAll(&quot;\\\\[&quot;, &quot;&quot;);\n                                info[infoCount] = info[infoCount].replaceAll(&quot;\\\\]&quot;, &quot;&quot;);\n                                info[infoCount] = info[infoCount].trim();\n                                cellCount--;\n                                \n\n                                // System.out.println(info[infoCount]);\n                            } \n                            if (infoCount == 3) {\n                                \n                                if (weekCount == 0)\n                                {\n                                    cellCount++;\n\n                                    arr[weekCount][cellCount] = Arrays.toString(info);\n                                }\n                                else{\n\n                                    arr[weekCount][cellCount] = Arrays.toString(info);\n\n                                    cellCount++;\n\n                                }\n                                \n                                infoCount = -1;\n                                \n                            }\n    \n                            infoCount++;\n    \n                        }\n                        else {\n                            // System.out.println(&quot;OUT data&quot; + weekCount + &quot; &quot; + cellCount);\n    \n                            arr[weekCount][cellCount] = null;\n\n                            // System.out.println(arr[weekCount][cellCount]);\n                        }\n    \n\n                        if (row[i].charAt(row[i].length() - 1) == ']') {\n\n                            inData = false;\n                        }\n\n                    }\n\n                    cellCount++;\n                }\n            }\n            br.close();\n        }\n\n        else {\n            for (int i = 0; i &lt; 52; i++) {\n                for (int j = 0; j &lt;= 174; j++) {\n                    arr[i][j] = null;\n                }\n            }\n        }\n\n        System.out.println(&quot;Successfully read from the file.&quot;);\n\n        BufferedWriter writer = new BufferedWriter(new FileWriter(contextPath + &quot;data/data.txt&quot;));\n        writer.write(Arrays.deepToString(arr));\n        // writer.write(Arrays.deepToString(arr).replaceAll(&quot;\\\\[\\\\[&quot;, &quot;[&quot;).replaceAll(&quot;\\\\]\\\\]&quot;, &quot;]&quot;));\n\n        writer.close();\n\n        return arr;\n\n    }\n\n    public void createFile() throws IOException {\n        System.out.println(&quot;Reading data&quot;);\n        String contextPath = getServletContext().getRealPath(&quot;/&quot;);\n        File file = new File(contextPath, &quot;data/data.txt&quot;);\n        if (!file.exists()) {\n            if (file.createNewFile()) {\n                System.out.println(&quot;File created: &quot; + file.getName());\n            }\n        } else {\n            System.out.println(&quot;File already exists.&quot;);\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","amazon-web-services","spring-boot","go","redirect"],"answers":[{"comments":[{"owner":{"account_id":1695351,"reputation":3510,"user_id":1556820,"accept_rate":50,"display_name":"mangusta"},"score":0,"creation_date":1678399190,"post_id":75690050,"comment_id":133530027,"body_markdown":"but `/endpoint` does not do any redirection, it returns HTTP 200 with `image/gif` in response","body":"but <code>&#47;endpoint</code> does not do any redirection, it returns HTTP 200 with <code>image&#47;gif</code> in response"},{"owner":{"account_id":1695351,"reputation":3510,"user_id":1556820,"accept_rate":50,"display_name":"mangusta"},"score":0,"creation_date":1678399265,"post_id":75690050,"comment_id":133530043,"body_markdown":"and even if it would be doing redirection, that would produce 10 duplicates, not just 2 or 3","body":"and even if it would be doing redirection, that would produce 10 duplicates, not just 2 or 3"},{"owner":{"account_id":1695351,"reputation":3510,"user_id":1556820,"accept_rate":50,"display_name":"mangusta"},"score":0,"creation_date":1678399476,"post_id":75690050,"comment_id":133530089,"body_markdown":"(by the way, when i open &quot;developer tools&quot; in Chrome, click &quot;Network&quot; and initiate the requests, it shows exactly 5 redirects from go to spring, and exactly 5 redirects from spring back to go, as expected. there are no duplicate requests)","body":"(by the way, when i open &quot;developer tools&quot; in Chrome, click &quot;Network&quot; and initiate the requests, it shows exactly 5 redirects from go to spring, and exactly 5 redirects from spring back to go, as expected. there are no duplicate requests)"},{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1678432063,"post_id":75690050,"comment_id":133534610,"body_markdown":"if you share a reproducer for SB and go we can test too.","body":"if you share a reproducer for SB and go we can test too."}],"tags":[],"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678396050,"creation_date":1678396050,"answer_id":75690050,"question_id":75647163,"body_markdown":"Looks like **/endpoint** at GO side is redirecting back to spring app. Because as mentioned [here](https://stackoverflow.com/a/32303438/175554) Go http client has 10 redirect limit. \r\n\r\nSo basically you are redirecting in between GO&lt;-&gt;SB and after 10 GO is stopping.\r\n\r\n```java\r\nhttpServletResponse.setHeader(&quot;Location&quot;, &quot;https://mygolang.app/endpoint?param=&quot; + param);\r\nhttpServletResponse.setStatus(302);\r\n```\r\n[Those 2 lines](https://stackoverflow.com/a/8756734/175554) means redirect the request to GO with 302 status. When you delete this side you are not redirecting back to &quot;GO&quot; so you break  the loop.","title":"Spring Boot controller gets redirected request from Golang app twice","body":"<p>Looks like <strong>/endpoint</strong> at GO side is redirecting back to spring app. Because as mentioned <a href=\"https://stackoverflow.com/a/32303438/175554\">here</a> Go http client has 10 redirect limit.</p>\n<p>So basically you are redirecting in between GO&lt;-&gt;SB and after 10 GO is stopping.</p>\n<pre class=\"lang-java prettyprint-override\"><code>httpServletResponse.setHeader(&quot;Location&quot;, &quot;https://mygolang.app/endpoint?param=&quot; + param);\nhttpServletResponse.setStatus(302);\n</code></pre>\n<p><a href=\"https://stackoverflow.com/a/8756734/175554\">Those 2 lines</a> means redirect the request to GO with 302 status. When you delete this side you are not redirecting back to &quot;GO&quot; so you break  the loop.</p>\n"}],"owner":{"account_id":1695351,"reputation":3510,"user_id":1556820,"accept_rate":50,"display_name":"mangusta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678396050,"creation_date":1678078412,"question_id":75647163,"body_markdown":"Encountered a strange issue,\r\n\r\nI&#39;m trying to send redirect from my Golang app to Spring Boot controller, and back from Spring Boot controller to Golang app&#39;s endpoint.\r\n\r\nHere&#39;s my Golang code for redirection:\r\n\r\n    u.counter++ // initially 0, incremented prior to each redirect\r\n    \r\n    u.logger.Printf(&quot;sending redirect number: &quot;+strconv.Itoa(u.counter))\r\n    \r\n    http.Redirect(w, r, &quot;http://myspringboot.app/api/mycontroller?param=&quot; + param + &quot;&amp;counter=&quot; + strconv.Itoa(u.counter), 302)\r\n\r\nand this is Spring Boot controller serving `/api/mycontroller` endpoint:\r\n\r\n    @GetMapping(&quot;/mycontroller&quot;)\r\n    public void getRedirect(\r\n            HttpServletResponse httpServletResponse,\r\n            @RequestParam(&quot;param&quot;) String param,\r\n            @RequestParam(&quot;counter&quot;) String counter\r\n    ) {\r\n        System.out.println(&quot;param: &quot; + param + &quot; counter: &quot; + counter);\r\n        httpServletResponse.setHeader(&quot;Location&quot;, &quot;https://mygolang.app/endpoint?param=&quot; + param);\r\n        httpServletResponse.setStatus(302);\r\n    }\r\n\r\n\r\nI send 5 redirects from Golang app, hence I see exactly 5 logs as below, on Golang side:\r\n\r\n    sending redirect number: 1\r\n    sending redirect number: 2\r\n    sending redirect number: 3\r\n    sending redirect number: 4\r\n    sending redirect number: 5\r\n\r\nand on Spring Boot side, I see 10 logs as below:\r\n\r\n    param: somevalue counter: 1\r\n    param: somevalue counter: 2\r\n    param: somevalue counter: 1\r\n    param: somevalue counter: 2\r\n    param: somevalue counter: 3\r\n    param: somevalue counter: 3\r\n    param: somevalue counter: 4\r\n    param: somevalue counter: 4\r\n    param: somevalue counter: 5\r\n    param: somevalue counter: 5\r\n\r\nAnd interestingly, if I remove these two lines from Spring Boot controller:\r\n\r\n    httpServletResponse.setHeader(&quot;Location&quot;, &quot;https://mygolang.app/endpoint?param=&quot; + param);\r\n    httpServletResponse.setStatus(302);\r\n\r\nthen controller receives exactly 5 redirect requests as expected (not 10).\r\nAnyone has seen this issue before?\r\n\r\n`/endpoint` on Golang app is completely different from http handler in which I&#39;m doing redirection to Spring Boot.\r\n\r\nBoth apps run on AWS ECS with one task allocated for each app.\r\nGolang app is on `https` and Spring Boot is on `http`. Going to add ACM certificate for Spring Boot app to check if that&#39;s the reason. Any other ideas are appreciated.  \r\nUPD. Added ACM certificate to Spring Boot, the issue is still there  \r\nUPD2. So far was testing on Chrome. On Microsoft Edge it repeats sometimes 2 and sometimes 3 times\r\n\r\n","title":"Spring Boot controller gets redirected request from Golang app twice","body":"<p>Encountered a strange issue,</p>\n<p>I'm trying to send redirect from my Golang app to Spring Boot controller, and back from Spring Boot controller to Golang app's endpoint.</p>\n<p>Here's my Golang code for redirection:</p>\n<pre><code>u.counter++ // initially 0, incremented prior to each redirect\n\nu.logger.Printf(&quot;sending redirect number: &quot;+strconv.Itoa(u.counter))\n\nhttp.Redirect(w, r, &quot;http://myspringboot.app/api/mycontroller?param=&quot; + param + &quot;&amp;counter=&quot; + strconv.Itoa(u.counter), 302)\n</code></pre>\n<p>and this is Spring Boot controller serving <code>/api/mycontroller</code> endpoint:</p>\n<pre><code>@GetMapping(&quot;/mycontroller&quot;)\npublic void getRedirect(\n        HttpServletResponse httpServletResponse,\n        @RequestParam(&quot;param&quot;) String param,\n        @RequestParam(&quot;counter&quot;) String counter\n) {\n    System.out.println(&quot;param: &quot; + param + &quot; counter: &quot; + counter);\n    httpServletResponse.setHeader(&quot;Location&quot;, &quot;https://mygolang.app/endpoint?param=&quot; + param);\n    httpServletResponse.setStatus(302);\n}\n</code></pre>\n<p>I send 5 redirects from Golang app, hence I see exactly 5 logs as below, on Golang side:</p>\n<pre><code>sending redirect number: 1\nsending redirect number: 2\nsending redirect number: 3\nsending redirect number: 4\nsending redirect number: 5\n</code></pre>\n<p>and on Spring Boot side, I see 10 logs as below:</p>\n<pre><code>param: somevalue counter: 1\nparam: somevalue counter: 2\nparam: somevalue counter: 1\nparam: somevalue counter: 2\nparam: somevalue counter: 3\nparam: somevalue counter: 3\nparam: somevalue counter: 4\nparam: somevalue counter: 4\nparam: somevalue counter: 5\nparam: somevalue counter: 5\n</code></pre>\n<p>And interestingly, if I remove these two lines from Spring Boot controller:</p>\n<pre><code>httpServletResponse.setHeader(&quot;Location&quot;, &quot;https://mygolang.app/endpoint?param=&quot; + param);\nhttpServletResponse.setStatus(302);\n</code></pre>\n<p>then controller receives exactly 5 redirect requests as expected (not 10).\nAnyone has seen this issue before?</p>\n<p><code>/endpoint</code> on Golang app is completely different from http handler in which I'm doing redirection to Spring Boot.</p>\n<p>Both apps run on AWS ECS with one task allocated for each app.\nGolang app is on <code>https</code> and Spring Boot is on <code>http</code>. Going to add ACM certificate for Spring Boot app to check if that's the reason. Any other ideas are appreciated.<br />\nUPD. Added ACM certificate to Spring Boot, the issue is still there<br />\nUPD2. So far was testing on Chrome. On Microsoft Edge it repeats sometimes 2 and sometimes 3 times</p>\n"},{"tags":["java","serialization","deserialization"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1678320973,"post_id":75679318,"comment_id":133511858,"body_markdown":"`static` variables are not included in a serialization of an instance.  So if you are serializing a `ServletState` instance or something that refers to a `ServletState` instance, then the serialization won&#39;t include your `servletState` map.   If this doesn&#39;t answer your question, you need to tell us precisely what you are serializing and show us the code that does it or triggers it.","body":"<code>static</code> variables are not included in a serialization of an instance.  So if you are serializing a <code>ServletState</code> instance or something that refers to a <code>ServletState</code> instance, then the serialization won&#39;t include your <code>servletState</code> map.   If this doesn&#39;t answer your question, you need to tell us precisely what you are serializing and show us the code that does it or triggers it."}],"answers":[{"tags":[],"owner":{"account_id":26681786,"reputation":1,"user_id":20291626,"display_name":"John kerich"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678395947,"creation_date":1678395947,"answer_id":75690038,"question_id":75679318,"body_markdown":"You are correct, all the static variables are really not being serialized out.  I am now just serializing out the static container directly and do try to serialize out the class since that&#39;s all I wanted saved.  If I wanted everything in the class, I would have to make a custom serialization function and write out each static variable one at a time to the ser file.","title":"ConcurrentHashMap is empty after serialization","body":"<p>You are correct, all the static variables are really not being serialized out.  I am now just serializing out the static container directly and do try to serialize out the class since that's all I wanted saved.  If I wanted everything in the class, I would have to make a custom serialization function and write out each static variable one at a time to the ser file.</p>\n"}],"owner":{"account_id":26681786,"reputation":1,"user_id":20291626,"display_name":"John kerich"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678395947,"creation_date":1678320482,"question_id":75679318,"body_markdown":"I am trying to serialize the ServletState which has a private static ConcurrentHashMap variable with 10 items added.  When I serialize out and then read in again, I can see all the other variables are ok, except for ConcurrentHashMap which is now empty.  Looking at the ser file I can&#39;t see anything for ConcurrentHashMap, so I assume the setup for serialize is missing something and it fails without any exception.\r\n\r\n    public class ServletState implements java.io.Serializable\r\n    {\r\n    @Serial\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    private static final String serialFileName = &quot;ServletState.ser&quot;;\r\n\r\n    private static File servletDataPath = new File(YamlReader.getConfig().getApp().getServletDataPath() + serialFileName);\r\n\r\n    private static boolean initializeClass = false;\r\n\r\n    /**\r\n     * This hold the status of each activity you can do\r\n     */\r\n    private static ConcurrentHashMap&lt;ToolType, ExecuteStatus&gt; servletState = new ConcurrentHashMap&lt;&gt;();\r\n    public ServletState()\r\n        {\r\n        }\r\n        }\r\n    \r\n    ToolType is a enum class:  \r\n    public enum ToolType\r\n    {\r\n        @JsonProperty(&quot;deploy&quot;)\r\n        DEPLOY_SERVICES(&quot;deployServices&quot;),\r\n    ect.\r\n    }\r\n    \r\nStatus class\r\n\r\n    /**\r\n     * This class holds the status states.\r\n     */\r\n    public enum Status\r\n    {\r\n        /**\r\n         * The activity setup has been completed\r\n         */\r\n        @JsonProperty(&quot;Configured&quot;)\r\n        CONFIGURED,\r\n         etc.\r\n\r\nExecuteStatus is a class setup for seriation and uses 2 more enum classes ToolType and Status:\r\n\r\n    \r\n    import java.io.Serializable;\r\n    public class ExecuteStatus implements Serializable\r\n    {\r\n    @Serial\r\n    private static final long serialVersionUID = 1L;  \r\n\r\n  \r\n        /**\r\n         * What you did\r\n         */\r\n        private final ToolType toolType;\r\n    \r\n        /**\r\n         * Date when you did it. Format MM-dd-yyyy hh:mm:ss or N/A\r\n         */\r\n        private final String lastExecuted;\r\n    \r\n        /**\r\n         * Did it work or not?\r\n         */\r\n        private final Status status;\r\n    \r\n        public ExecuteStatus(ToolType toolType, Date lastExecuted, Status status) {\r\n        }\r\n    }\r\n\r\nThere are no other classes being used in these 3 classes beyond String, so it should serialize without any problems.  No exceptions are being thrown on the write out to file or reading in from file.  So why is the structure failing to serialize this container?\r\n\r\n","title":"ConcurrentHashMap is empty after serialization","body":"<p>I am trying to serialize the ServletState which has a private static ConcurrentHashMap variable with 10 items added.  When I serialize out and then read in again, I can see all the other variables are ok, except for ConcurrentHashMap which is now empty.  Looking at the ser file I can't see anything for ConcurrentHashMap, so I assume the setup for serialize is missing something and it fails without any exception.</p>\n<pre><code>public class ServletState implements java.io.Serializable\n{\n@Serial\nprivate static final long serialVersionUID = 1L;\n\nprivate static final String serialFileName = &quot;ServletState.ser&quot;;\n\nprivate static File servletDataPath = new File(YamlReader.getConfig().getApp().getServletDataPath() + serialFileName);\n\nprivate static boolean initializeClass = false;\n\n/**\n * This hold the status of each activity you can do\n */\nprivate static ConcurrentHashMap&lt;ToolType, ExecuteStatus&gt; servletState = new ConcurrentHashMap&lt;&gt;();\npublic ServletState()\n    {\n    }\n    }\n\nToolType is a enum class:  \npublic enum ToolType\n{\n    @JsonProperty(&quot;deploy&quot;)\n    DEPLOY_SERVICES(&quot;deployServices&quot;),\nect.\n}\n</code></pre>\n<p>Status class</p>\n<pre><code>/**\n * This class holds the status states.\n */\npublic enum Status\n{\n    /**\n     * The activity setup has been completed\n     */\n    @JsonProperty(&quot;Configured&quot;)\n    CONFIGURED,\n     etc.\n</code></pre>\n<p>ExecuteStatus is a class setup for seriation and uses 2 more enum classes ToolType and Status:</p>\n<pre><code>import java.io.Serializable;\npublic class ExecuteStatus implements Serializable\n{\n@Serial\nprivate static final long serialVersionUID = 1L;  \n\n\n    /**\n     * What you did\n     */\n    private final ToolType toolType;\n\n    /**\n     * Date when you did it. Format MM-dd-yyyy hh:mm:ss or N/A\n     */\n    private final String lastExecuted;\n\n    /**\n     * Did it work or not?\n     */\n    private final Status status;\n\n    public ExecuteStatus(ToolType toolType, Date lastExecuted, Status status) {\n    }\n}\n</code></pre>\n<p>There are no other classes being used in these 3 classes beyond String, so it should serialize without any problems.  No exceptions are being thrown on the write out to file or reading in from file.  So why is the structure failing to serialize this container?</p>\n"},{"tags":["java","playframework","playframework-2.0","playframework-2.5"],"comments":[{"owner":{"account_id":1084469,"reputation":7470,"user_id":1080523,"display_name":"rethab"},"score":0,"creation_date":1488440205,"post_id":42542548,"comment_id":72233840,"body_markdown":"Why does it complain about `Messages` when you are trying to inject `MessagesApi`?","body":"Why does it complain about <code>Messages</code> when you are trying to inject <code>MessagesApi</code>?"}],"answers":[{"tags":[],"owner":{"account_id":1132714,"reputation":8153,"user_id":1118419,"accept_rate":67,"display_name":"Andriy Kuba"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1678395736,"creation_date":1488455517,"answer_id":42554758,"question_id":42542548,"body_markdown":"The reason of such &quot;non-elegancy&quot; is that language (and `Messages`) depends on the request. \r\n\r\nThe Default behavior is that Messages detect current language on the base of cookie, available languages and default language. \r\n\r\nSomeware under the hood: `Messages messages = messagesApi.preferred(request());`\r\n\r\n&gt;  * Will select a language from the request, based on the languages\r\n&gt; available, and fallback to the default language if none of the\r\n&gt; candidates are available.\r\n\r\nFortunately, [there is a special method][1] that you can use to initialize `Messages` with the language you want:\r\n\r\n    import play.i18n.MessagesApi;\r\n    import play.i18n.Messages;\r\n    import play.i18n.Lang;\r\n\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.Locale;\r\n\r\n    ...\r\n\r\n\tLocale englishLocale = new Locale(&quot;en&quot;);\r\n\tLang englishLang = new Lang(englishLocale);\r\n\tList&lt;Lang&gt; preferredLangs = Arrays.asList(englishLang);\r\n\t\t\r\n\tMessages messagesCustom = messagesApi.preferred(preferredLangs);\r\n\r\n    // the time for elegancy \r\n\tmessages.at(&quot;ticket.form.title&quot;);\r\n\r\n\r\nI advise you to create tiny `MessagesApiCustom` service, that will do this few strings of code in the initialization time and then will proxy the `at` method to the `messages.at`, so it will look like:\r\n\r\n\tpublic class SampleServiceImpl implements SampleService {\r\n\t  private MessagesApiCustom messages;\r\n\r\n\t  @Inject\r\n\t  public SampleServiceImpl(MessagesApiCustom messages){\r\n\t     this.messages = messages;\r\n\t  }\r\n\r\n\t  private void doSomeStuff(){\r\n\t  \tStrign message = messages.at(&quot;message.key&quot;)\r\n\t  }\r\n\t}\r\n\r\nYou can go further, and implement language selection based on annotation:\r\n\r\n     @Named(&quot;FR&quot;)\r\n     private MessagesApiCustom messages;\r\n    \r\nOf course, if you need the dynamic language selection, then just use the method that is already present in Play.  \r\n    \r\n  [1]: https://github.com/playframework/playframework/blob/master/framework/src/play/src/main/java/play/i18n/MessagesApi.java#L117","title":"How to inject MessagesApi outside a controller?","body":"<p>The reason of such &quot;non-elegancy&quot; is that language (and <code>Messages</code>) depends on the request.</p>\n<p>The Default behavior is that Messages detect current language on the base of cookie, available languages and default language.</p>\n<p>Someware under the hood: <code>Messages messages = messagesApi.preferred(request());</code></p>\n<blockquote>\n<ul>\n<li>Will select a language from the request, based on the languages\navailable, and fallback to the default language if none of the\ncandidates are available.</li>\n</ul>\n</blockquote>\n<p>Fortunately, <a href=\"https://github.com/playframework/playframework/blob/master/framework/src/play/src/main/java/play/i18n/MessagesApi.java#L117\" rel=\"nofollow noreferrer\">there is a special method</a> that you can use to initialize <code>Messages</code> with the language you want:</p>\n<pre><code>import play.i18n.MessagesApi;\nimport play.i18n.Messages;\nimport play.i18n.Lang;\n\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.Locale;\n\n...\n\nLocale englishLocale = new Locale(&quot;en&quot;);\nLang englishLang = new Lang(englishLocale);\nList&lt;Lang&gt; preferredLangs = Arrays.asList(englishLang);\n    \nMessages messagesCustom = messagesApi.preferred(preferredLangs);\n\n// the time for elegancy \nmessages.at(&quot;ticket.form.title&quot;);\n</code></pre>\n<p>I advise you to create tiny <code>MessagesApiCustom</code> service, that will do this few strings of code in the initialization time and then will proxy the <code>at</code> method to the <code>messages.at</code>, so it will look like:</p>\n<pre><code>public class SampleServiceImpl implements SampleService {\n  private MessagesApiCustom messages;\n\n  @Inject\n  public SampleServiceImpl(MessagesApiCustom messages){\n     this.messages = messages;\n  }\n\n  private void doSomeStuff(){\n    Strign message = messages.at(&quot;message.key&quot;)\n  }\n}\n</code></pre>\n<p>You can go further, and implement language selection based on annotation:</p>\n<pre><code> @Named(&quot;FR&quot;)\n private MessagesApiCustom messages;\n</code></pre>\n<p>Of course, if you need the dynamic language selection, then just use the method that is already present in Play.</p>\n"}],"owner":{"account_id":4330757,"reputation":404,"user_id":3536362,"accept_rate":100,"display_name":"pedroct92"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":544,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":42554758,"answer_count":1,"score":1,"last_activity_date":1678395736,"creation_date":1488404261,"question_id":42542548,"body_markdown":"I have a simple class service and it is being injected beautifully on my application. However, I am trying to inject the `messages api` to read a few keys on my message files but I am getting the same error:\r\n\r\n&gt; 1) Could not find a suitable constructor in play.i18n.Messages.\r\n&gt; Classes must have either one (and only one) constructor annotated with\r\n&gt; @Inject or a zero-argument constructor that is not private. at\r\n&gt; play.i18n.Messages.class(Messages.java:61)\r\n\r\n    public class SampleServiceImpl implements SampleService {\r\n      private MessagesApi messages;\r\n\r\n      @Inject\r\n      public SampleServiceImpl(MessagesApi messages){\r\n         this.messages = messages;\r\n      }\r\n    }\r\n\r\n    @ImplementedBy(SampleServiceImpl.class)\r\n        public interface SampleService {\r\n    }\r\n\r\nIs the a way to do that by DI? \r\n\r\n### Edit:\r\n\r\nI was able to get the value by doing this but it does not look elegant, any options ?\r\n\r\n    messages.get(new Lang(new Locale(&quot;en&quot;)), &quot;ticket.form.title&quot;)\r\n\r\n","title":"How to inject MessagesApi outside a controller?","body":"<p>I have a simple class service and it is being injected beautifully on my application. However, I am trying to inject the <code>messages api</code> to read a few keys on my message files but I am getting the same error:</p>\n\n<blockquote>\n  <p>1) Could not find a suitable constructor in play.i18n.Messages.\n  Classes must have either one (and only one) constructor annotated with\n  @Inject or a zero-argument constructor that is not private. at\n  play.i18n.Messages.class(Messages.java:61)</p>\n</blockquote>\n\n<pre><code>public class SampleServiceImpl implements SampleService {\n  private MessagesApi messages;\n\n  @Inject\n  public SampleServiceImpl(MessagesApi messages){\n     this.messages = messages;\n  }\n}\n\n@ImplementedBy(SampleServiceImpl.class)\n    public interface SampleService {\n}\n</code></pre>\n\n<p>Is the a way to do that by DI? </p>\n\n<h3>Edit:</h3>\n\n<p>I was able to get the value by doing this but it does not look elegant, any options ?</p>\n\n<pre><code>messages.get(new Lang(new Locale(\"en\")), \"ticket.form.title\")\n</code></pre>\n"},{"tags":["java","android","android-layout","android-studio","android-activity"],"comments":[{"owner":{"account_id":9759522,"reputation":6345,"user_id":7235049,"display_name":"tahsinRupam"},"score":1,"creation_date":1488881922,"post_id":42645528,"comment_id":72417761,"body_markdown":"Why do you want to load setContentView(R.layout.activity_main) onClick?are you trying to load another activity","body":"Why do you want to load setContentView(R.layout.activity_main) onClick?are you trying to load another activity"},{"owner":{"account_id":2852351,"reputation":7166,"user_id":2449276,"accept_rate":77,"display_name":"Sony"},"score":0,"creation_date":1488881943,"post_id":42645528,"comment_id":72417777,"body_markdown":"Post your stack trace","body":"Post your stack trace"},{"owner":{"account_id":7938329,"reputation":4773,"user_id":5993410,"accept_rate":88,"display_name":"Atef Hares"},"score":0,"creation_date":1488882021,"post_id":42645528,"comment_id":72417834,"body_markdown":"if your app crashed =&gt; you must get an error log!","body":"if your app crashed =&gt; you must get an error log!"},{"owner":{"account_id":9244077,"reputation":21,"user_id":6866521,"accept_rate":80,"display_name":"Programmer"},"score":0,"creation_date":1488882126,"post_id":42645528,"comment_id":72417904,"body_markdown":"no , i want to show a welcome message when the app starts (layout of activity_welcom)then when user click on the Button ,then load the main activity.","body":"no , i want to show a welcome message when the app starts (layout of activity_welcom)then when user click on the Button ,then load the main activity."},{"owner":{"account_id":2852351,"reputation":7166,"user_id":2449276,"accept_rate":77,"display_name":"Sony"},"score":0,"creation_date":1488882274,"post_id":42645528,"comment_id":72417989,"body_markdown":"if you want to display a welcome screen and then show another screen you can either create splash screen with your welcome screen and then after sometime you can show the activity using [Handler](https://developer.android.com/reference/android/os/Handler.html#postDelayed(java.lang.Runnable, long)) or you can use a [ViewStub](https://developer.android.com/training/improving-layouts/loading-ondemand.html)","body":"if you want to display a welcome screen and then show another screen you can either create splash screen with your welcome screen and then after sometime you can show the activity using [Handler](<a href=\"https://developer.android.com/reference/android/os/Handler.html#postDelayed(java.lang.Runnable\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/os/&hellip;</a>, long)) or you can use a <a href=\"https://developer.android.com/training/improving-layouts/loading-ondemand.html\" rel=\"nofollow noreferrer\">ViewStub</a>"},{"owner":{"account_id":9759522,"reputation":6345,"user_id":7235049,"display_name":"tahsinRupam"},"score":0,"creation_date":1488882445,"post_id":42645528,"comment_id":72418092,"body_markdown":"@Programmer, check my answer.","body":"@Programmer, check my answer."},{"owner":{"account_id":9244077,"reputation":21,"user_id":6866521,"accept_rate":80,"display_name":"Programmer"},"score":0,"creation_date":1488885926,"post_id":42645528,"comment_id":72420375,"body_markdown":"android.content.ActivityNotFoundException: Unable to find explicit activity class {com.blog.software.app/com.blog.software.app.WelcomeClass}; have you declared this activity in your AndroidManifest.xml?\n                                                                                       at android.app.Instrumentation.checkStartActivityResult(Instrumentation.java:1794) ............................................ so this error is what i get in the log","body":"android.content.ActivityNotFoundException: Unable to find explicit activity class {com.blog.software.app/com.blog.software.app.WelcomeClass}; have you declared this activity in your AndroidManifest.xml?                                                                                        at android.app.Instrumentation.checkStartActivityResult(Instrum&zwnj;&#8203;entation.java:1794) ............................................ so this error is what i get in the log"}],"answers":[{"comments":[{"owner":{"account_id":9244077,"reputation":21,"user_id":6866521,"accept_rate":80,"display_name":"Programmer"},"score":0,"creation_date":1488882320,"post_id":42645633,"comment_id":72418019,"body_markdown":"Can you show me an example? i just start with java and android.","body":"Can you show me an example? i just start with java and android."},{"owner":{"account_id":4129207,"reputation":75209,"user_id":3395198,"accept_rate":54,"display_name":"IntelliJ Amiya"},"score":0,"creation_date":1488882389,"post_id":42645633,"comment_id":72418054,"body_markdown":"@Programmer http://stackoverflow.com/questions/13194081/how-to-open-a-second-activity-on-click-of-button-in-android-app","body":"@Programmer <a href=\"http://stackoverflow.com/questions/13194081/how-to-open-a-second-activity-on-click-of-button-in-android-app\" title=\"how to open a second activity on click of button in android app\">stackoverflow.com/questions/13194081/&hellip;</a>"}],"tags":[],"owner":{"display_name":"user7325049"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1488882803,"creation_date":1488882110,"answer_id":42645633,"question_id":42645528,"body_markdown":"You should use Intent rather than using setContentView(R.layout.activity_main) on Click\r\n\r\n \r\n\r\n   \r\n\r\n     button.setOnClickListener(new View.OnClickListener() {\r\n        \r\n                    @Override\r\n                    public void onClick(View arg0) {\r\n                 Intent k = new Intent(Welcomactivity.this, MainActivity.class);\r\n                 startActivity(k);\r\n                        \r\n                    }\r\n        \r\n                });","title":"why my app crash when i change its layout?","body":"<p>You should use Intent rather than using setContentView(R.layout.activity_main) on Click</p>\n\n<pre><code> button.setOnClickListener(new View.OnClickListener() {\n\n                @Override\n                public void onClick(View arg0) {\n             Intent k = new Intent(Welcomactivity.this, MainActivity.class);\n             startActivity(k);\n\n                }\n\n            });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8596024,"reputation":2291,"user_id":6439023,"accept_rate":60,"display_name":"Luca Nicoletti"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1488882305,"creation_date":1488882305,"answer_id":42645713,"question_id":42645528,"body_markdown":"I suggest you to use Fragments: Your activity starts, show the first fragment with the welcome message and the button, the user clicks the button and then you replace the first fragment(without adding it to the backstack so you won&#39;t go back to it when `back` is tapped) with the second one! have a look [here](https://www.raywenderlich.com/149112/android-fragments-tutorial-introduction)","title":"why my app crash when i change its layout?","body":"<p>I suggest you to use Fragments: Your activity starts, show the first fragment with the welcome message and the button, the user clicks the button and then you replace the first fragment(without adding it to the backstack so you won't go back to it when <code>back</code> is tapped) with the second one! have a look <a href=\"https://www.raywenderlich.com/149112/android-fragments-tutorial-introduction\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":1063710,"reputation":416,"user_id":1474831,"display_name":"Marcos Holgado Molina"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488882353,"creation_date":1488882353,"answer_id":42645734,"question_id":42645528,"body_markdown":"That&#39;s just not the way it works. You can either show a dialog with your welcome message or use a ViewSwitcher and switch the layout onClick. Another option would be start a new activity onClick with the main layout, whatever you do, don&#39;t setContentView more than one time in this case.\r\n\r\n ","title":"why my app crash when i change its layout?","body":"<p>That's just not the way it works. You can either show a dialog with your welcome message or use a ViewSwitcher and switch the layout onClick. Another option would be start a new activity onClick with the main layout, whatever you do, don't setContentView more than one time in this case.</p>\n"},{"tags":[],"owner":{"account_id":9759522,"reputation":6345,"user_id":7235049,"display_name":"tahsinRupam"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1488882368,"creation_date":1488882368,"answer_id":42645744,"question_id":42645528,"body_markdown":"Use this to load MainActivity:\r\n\r\n    View.OnClickListener welcomeListener = new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(YourCurrentActivity.this, MainActivity.class);\r\n                startActivity(intent);\r\n            }\r\n        };\r\n        btn.setOnClickListener(welcomeListener);\r\n      }","title":"why my app crash when i change its layout?","body":"<p>Use this to load MainActivity:</p>\n\n<pre><code>View.OnClickListener welcomeListener = new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            Intent intent = new Intent(YourCurrentActivity.this, MainActivity.class);\n            startActivity(intent);\n        }\n    };\n    btn.setOnClickListener(welcomeListener);\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3550868,"reputation":821,"user_id":2965785,"display_name":"sashk0"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488882596,"creation_date":1488882596,"answer_id":42645820,"question_id":42645528,"body_markdown":"As mentioned before, it&#39;s better to use Intent for switching between screens.\r\nStart with your Welcome activity, and then run next one onClick:\r\n\r\n    Intent intent = new Intent(this, MainActivity.class);\r\n    startActivity(intent);\r\n\r\nAlso, you can try use **Fragments** for this purpose. But better practice – is just put your splash screen over your main activity layout in a `FrameLayout` and make it `setVisibility(Visibility.GONE)` onClick.","title":"why my app crash when i change its layout?","body":"<p>As mentioned before, it's better to use Intent for switching between screens.\nStart with your Welcome activity, and then run next one onClick:</p>\n\n<pre><code>Intent intent = new Intent(this, MainActivity.class);\nstartActivity(intent);\n</code></pre>\n\n<p>Also, you can try use <strong>Fragments</strong> for this purpose. But better practice – is just put your splash screen over your main activity layout in a <code>FrameLayout</code> and make it <code>setVisibility(Visibility.GONE)</code> onClick.</p>\n"},{"tags":[],"owner":{"account_id":5852118,"reputation":2815,"user_id":4610512,"accept_rate":56,"display_name":"Shoeb Siddique"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1488883009,"creation_date":1488883009,"answer_id":42645976,"question_id":42645528,"body_markdown":"Try this - \r\n\r\n      @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            if (getIntent()!=null){\r\n                if (getIntent().getBooleanExtra(&quot;REFRESH&quot;,false)){\r\n                    setContentView(R.layout.activity_main);\r\n                } else{\r\n                    setContentView(R.layout.activity_welcom);\r\n                }\r\n            }else{\r\n                setContentView(R.layout.activity_welcom);\r\n            }\r\n    \r\n            Button btn = (Button) findViewById(R.id.button);\r\n            View.OnClickListener welcomeListener = new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Intent mIntent = new Intent(this,CurrentClass.class);\r\n                    mIntent.putExtra(&quot;REFRESH&quot;,true);\r\n                    startActivity(mIntent);\r\n                }\r\n            };\r\n            btn.setOnClickListener(welcomeListener);\r\n        }","title":"why my app crash when i change its layout?","body":"<p>Try this - </p>\n\n<pre><code>  @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        if (getIntent()!=null){\n            if (getIntent().getBooleanExtra(\"REFRESH\",false)){\n                setContentView(R.layout.activity_main);\n            } else{\n                setContentView(R.layout.activity_welcom);\n            }\n        }else{\n            setContentView(R.layout.activity_welcom);\n        }\n\n        Button btn = (Button) findViewById(R.id.button);\n        View.OnClickListener welcomeListener = new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Intent mIntent = new Intent(this,CurrentClass.class);\n                mIntent.putExtra(\"REFRESH\",true);\n                startActivity(mIntent);\n            }\n        };\n        btn.setOnClickListener(welcomeListener);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9244077,"reputation":21,"user_id":6866521,"accept_rate":80,"display_name":"Programmer"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1488894504,"creation_date":1488888492,"answer_id":42647915,"question_id":42645528,"body_markdown":"We did it.if any one else have the same problem use this steps:\r\ni edited my code to some thing like this:\r\n\r\n`\r\n\r\n     View.OnClickListener welcomeListener = new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View v) {\r\n      Intent intent = newIntent(YourCurrentActivity.this,MainActivity.class);\r\n            startActivity(intent);\r\n        }\r\n    };\r\n    btn.setOnClickListener(welcomeListener);\r\n    }\r\n\r\n`\r\nthen i go to android manifest and add my Welcome class there.\r\nwhy? because in android studio log there was an error that you didn&#39;t add the class to android manifest.xml\r\n\r\n`\r\n\r\n    &lt;activity android:name=&quot;.WelcomeClass&quot;&gt;\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;com.blog.software.app.WelcomeClass&quot;\r\n            android:resource=&quot;@layout/activity_welcom&quot;/&gt;\r\n    &lt;/activity&gt;\r\n\r\n`\r\nall of your answers was useful and with them i solved it .so thanks to every one ","title":"why my app crash when i change its layout?","body":"<p>We did it.if any one else have the same problem use this steps:\ni edited my code to some thing like this:</p>\n\n<p>`</p>\n\n<pre><code> View.OnClickListener welcomeListener = new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n  Intent intent = newIntent(YourCurrentActivity.this,MainActivity.class);\n        startActivity(intent);\n    }\n};\nbtn.setOnClickListener(welcomeListener);\n}\n</code></pre>\n\n<p>`\nthen i go to android manifest and add my Welcome class there.\nwhy? because in android studio log there was an error that you didn't add the class to android manifest.xml</p>\n\n<p>`</p>\n\n<pre><code>&lt;activity android:name=\".WelcomeClass\"&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n        &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n    &lt;/intent-filter&gt;\n    &lt;meta-data\n        android:name=\"com.blog.software.app.WelcomeClass\"\n        android:resource=\"@layout/activity_welcom\"/&gt;\n&lt;/activity&gt;\n</code></pre>\n\n<p>`\nall of your answers was useful and with them i solved it .so thanks to every one </p>\n"},{"tags":[],"owner":{"account_id":7935008,"reputation":55,"user_id":5991376,"accept_rate":25,"display_name":"Kamal Oli"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678395621,"creation_date":1488889861,"answer_id":42648388,"question_id":42645528,"body_markdown":"Best option to add multiple layout in one activity is to use fragments in your activity which gives better performance. setContentView is not a preferred way and it should be used only inside your Activity once. \r\n\r\nRead this docs you will get better knowledge about everything you need to do: [enter link description here][1]\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/app/Activity.html","title":"why my app crash when i change its layout?","body":"<p>Best option to add multiple layout in one activity is to use fragments in your activity which gives better performance. setContentView is not a preferred way and it should be used only inside your Activity once.</p>\n<p>Read this docs you will get better knowledge about everything you need to do: <a href=\"https://developer.android.com/reference/android/app/Activity.html\" rel=\"nofollow noreferrer\">enter link description here</a></p>\n"}],"owner":{"account_id":9244077,"reputation":21,"user_id":6866521,"accept_rate":80,"display_name":"Programmer"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":767,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":42647915,"answer_count":8,"score":-1,"last_activity_date":1678395621,"creation_date":1488881782,"question_id":42645528,"body_markdown":"i want to use set content view on android studio to show a welcome message on screen before show the real main activity.\r\n\r\nI just copy the part of code that i think it responsible for the crash of my app because if i remove the part of welcome activity ,i will get no error.\r\n\r\nRemember android studio dose not show error just when you run it, program will crash.\r\nis there a way to make it not crash? \r\n\r\n(any suggestion for make it better for bigger change of layouts because i will going to add more layout later with their activitys )\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_welcom);\r\n        Button btn = (Button) findViewById(R.id.button);\r\n        View.OnClickListener welcomeListener = new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                setContentView(R.layout.activity_main);\r\n            }\r\n        };\r\n        btn.setOnClickListener(welcomeListener);\r\n      }","title":"why my app crash when i change its layout?","body":"<p>i want to use set content view on android studio to show a welcome message on screen before show the real main activity.</p>\n\n<p>I just copy the part of code that i think it responsible for the crash of my app because if i remove the part of welcome activity ,i will get no error.</p>\n\n<p>Remember android studio dose not show error just when you run it, program will crash.\nis there a way to make it not crash? </p>\n\n<p>(any suggestion for make it better for bigger change of layouts because i will going to add more layout later with their activitys )</p>\n\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_welcom);\n    Button btn = (Button) findViewById(R.id.button);\n    View.OnClickListener welcomeListener = new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            setContentView(R.layout.activity_main);\n        }\n    };\n    btn.setOnClickListener(welcomeListener);\n  }\n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":3,"creation_date":1678392103,"post_id":75689397,"comment_id":133528413,"body_markdown":"I don&#39;t understand your goal: both maps use a teamId as key. You want to manipulate only the `issuesMap` and set what exactly based on what? Can you add a short example to your question please? (What do both maps contain before and after the searched algorithm?). And maybe you also could provide the code how you would do it in &quot;traditional for loops&quot;.","body":"I don&#39;t understand your goal: both maps use a teamId as key. You want to manipulate only the <code>issuesMap</code> and set what exactly based on what? Can you add a short example to your question please? (What do both maps contain before and after the searched algorithm?). And maybe you also could provide the code how you would do it in &quot;traditional for loops&quot;."},{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":2,"creation_date":1678392133,"post_id":75689397,"comment_id":133528432,"body_markdown":"Well for one, your properties are all private and you&#39;re trying to access them directly with `is.teamId=teamId`. Also I&#39;m not fully comprehending the relationships here... you&#39;re saying that `teamId` is the key for both maps, correct? If so, shouldn&#39;t `teamId` already be set on each of the entries?","body":"Well for one, your properties are all private and you&#39;re trying to access them directly with <code>is.teamId=teamId</code>. Also I&#39;m not fully comprehending the relationships here... you&#39;re saying that <code>teamId</code> is the key for both maps, correct? If so, shouldn&#39;t <code>teamId</code> already be set on each of the entries?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1678392245,"post_id":75689397,"comment_id":133528456,"body_markdown":"Why isn’t “TConfig” named simply “Team” as its fields seem to describe each team? And more importantly, why not use objects of that class as keys to a single map (`Map&lt; Team , List&lt; Issue &gt; &gt;`) rather than extracting strings as keys? I suspect you are mentally focused on string manipulations rather than using the features of the type system afforded by object-oriented programming.","body":"Why isn’t “TConfig” named simply “Team” as its fields seem to describe each team? And more importantly, why not use objects of that class as keys to a single map (<code>Map&lt; Team , List&lt; Issue &gt; &gt;</code>) rather than extracting strings as keys? I suspect you are mentally focused on string manipulations rather than using the features of the type system afforded by object-oriented programming."}],"answers":[{"tags":[],"owner":{"account_id":7547772,"reputation":8593,"user_id":5730279,"display_name":"hc_dev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678395360,"creation_date":1678394987,"answer_id":75689898,"question_id":75689397,"body_markdown":"### Mapping each team to their issues\r\nYou can use objects as keys, as [Basil suggested][1]. \r\n\r\nThen `Map&lt;String, TConfig&gt; configMaps= new HashMap&lt;&gt;();` is maybe not needed at all.\r\n```\r\n@Data\r\npublic class Team {  // renamed from TConfig\r\n  private String teamId;\r\n  private String teamName;\r\n}\r\n\r\n// given\r\nMap&lt;Team, List&lt;Issue&gt;&gt; issuesByTeam = new HashMap&lt;&gt;();\r\n```\r\n\r\nNow I see two use-cases to change the values of this map:\r\n1. the issue-list is not mapped correctly to the team, some issues belong to foreign teams\r\n2. the issue-list was somehow distributed to teams, so that the issues inside the list (value) need to be updated with the related team (key) \r\n\r\n### (1) Suppose your issue-list is not yet mapped correctly\r\nThat map&#39;s values are each a list of issues. However, those `List&lt;Issues&gt;` may contain foreign issues - foreign because not all issues belong to the respective team from respective key. Then you can filter out the foreign issues, to get only team-related ones:\r\n```\r\nfor (final Team team : issuesByTeam.keySet()) {  // team must be final to use in lambda later\r\n    List&lt;Issue&gt; unmappedIssues = issuesByTeam.get(team);  // suppose they are not correctly mapped yet\r\n\r\n    // filtering\r\n    List&lt;Issue&gt; issuesForTeam = unmappedIssues.stream()\r\n        .filter(issue -&gt; team.equals(issue.getTeamId()))  // only issues matching the team\r\n        .collect(Collectors.toList());\r\n\r\n    issuesByTeam.put(team, issuesForTeam);\r\n}\r\n```\r\nYou could also iterate over each entry using:\r\n```\r\nfor (Map.Entry&lt;Team, List&lt;Issue&gt;&gt; entry : issuesForTeam.entrySet()) {\r\n    final Team team = entry.getKey();\r\n    List&lt;Issue&gt; unmappedIssues = entry.getValue();\r\n    // filter like above\r\n    entry.setValue(issuesForTeam);\r\n}\r\n```\r\n### (2) assign the team from key to each issue in value&#39;s list\r\n```\r\nfor (Map.Entry&lt;Team, List&lt;Issue&gt;&gt; entry : issuesForTeam.entrySet()) {\r\n    final Team team = entry.getKey();\r\n    List&lt;Issue&gt; unassignedIssues = entry.getValue();\r\n    // assign the team to each issue\r\n    unassignedIssues.forEach(\r\n        issue -&gt; issue.setTeamId(team.getTeamId())\r\n    );\r\n}\r\n```\r\nHere you don&#39;t need a stream, `List` implements [`forEach` method of interface Iterable](https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html#forEach-java.util.function.Consumer-) directly.  \r\n\r\n### See also\r\nFollowing tutorials from Baeldung may help:\r\n* [Working With Maps Using Streams](https://www.baeldung.com/java-maps-streams)\r\n* [Using the Map.Entry Java Class](https://www.baeldung.com/java-map-entry)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/75689397/how-to-change-the-list-of-objects-inside-the-map-using-streams#comment133528456_75689397","title":"How to change the list of objects inside the map using streams?","body":"<h3>Mapping each team to their issues</h3>\n<p>You can use objects as keys, as <a href=\"https://stackoverflow.com/questions/75689397/how-to-change-the-list-of-objects-inside-the-map-using-streams#comment133528456_75689397\">Basil suggested</a>.</p>\n<p>Then <code>Map&lt;String, TConfig&gt; configMaps= new HashMap&lt;&gt;();</code> is maybe not needed at all.</p>\n<pre><code>@Data\npublic class Team {  // renamed from TConfig\n  private String teamId;\n  private String teamName;\n}\n\n// given\nMap&lt;Team, List&lt;Issue&gt;&gt; issuesByTeam = new HashMap&lt;&gt;();\n</code></pre>\n<p>Now I see two use-cases to change the values of this map:</p>\n<ol>\n<li>the issue-list is not mapped correctly to the team, some issues belong to foreign teams</li>\n<li>the issue-list was somehow distributed to teams, so that the issues inside the list (value) need to be updated with the related team (key)</li>\n</ol>\n<h3>(1) Suppose your issue-list is not yet mapped correctly</h3>\n<p>That map's values are each a list of issues. However, those <code>List&lt;Issues&gt;</code> may contain foreign issues - foreign because not all issues belong to the respective team from respective key. Then you can filter out the foreign issues, to get only team-related ones:</p>\n<pre><code>for (final Team team : issuesByTeam.keySet()) {  // team must be final to use in lambda later\n    List&lt;Issue&gt; unmappedIssues = issuesByTeam.get(team);  // suppose they are not correctly mapped yet\n\n    // filtering\n    List&lt;Issue&gt; issuesForTeam = unmappedIssues.stream()\n        .filter(issue -&gt; team.equals(issue.getTeamId()))  // only issues matching the team\n        .collect(Collectors.toList());\n\n    issuesByTeam.put(team, issuesForTeam);\n}\n</code></pre>\n<p>You could also iterate over each entry using:</p>\n<pre><code>for (Map.Entry&lt;Team, List&lt;Issue&gt;&gt; entry : issuesForTeam.entrySet()) {\n    final Team team = entry.getKey();\n    List&lt;Issue&gt; unmappedIssues = entry.getValue();\n    // filter like above\n    entry.setValue(issuesForTeam);\n}\n</code></pre>\n<h3>(2) assign the team from key to each issue in value's list</h3>\n<pre><code>for (Map.Entry&lt;Team, List&lt;Issue&gt;&gt; entry : issuesForTeam.entrySet()) {\n    final Team team = entry.getKey();\n    List&lt;Issue&gt; unassignedIssues = entry.getValue();\n    // assign the team to each issue\n    unassignedIssues.forEach(\n        issue -&gt; issue.setTeamId(team.getTeamId())\n    );\n}\n</code></pre>\n<p>Here you don't need a stream, <code>List</code> implements <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html#forEach-java.util.function.Consumer-\" rel=\"nofollow noreferrer\"><code>forEach</code> method of interface Iterable</a> directly.</p>\n<h3>See also</h3>\n<p>Following tutorials from Baeldung may help:</p>\n<ul>\n<li><a href=\"https://www.baeldung.com/java-maps-streams\" rel=\"nofollow noreferrer\">Working With Maps Using Streams</a></li>\n<li><a href=\"https://www.baeldung.com/java-map-entry\" rel=\"nofollow noreferrer\">Using the Map.Entry Java Class</a></li>\n</ul>\n"}],"owner":{"account_id":3146957,"reputation":462,"user_id":2661251,"accept_rate":25,"display_name":"gcpdev-guy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75689898,"answer_count":1,"score":0,"last_activity_date":1678395360,"creation_date":1678391527,"question_id":75689397,"body_markdown":"Got two maps\r\n\r\n    Map&lt;String, TConfig&gt; configMaps= new HashMap&lt;&gt;();\r\n    Map&lt;String, List&lt;Issue&gt;&gt; issuesMap= new HashMap&lt;&gt;();\r\n    \r\n    @Data\r\n    public class TConfig {\r\n      private String teamId;\r\n      private String teamName;\r\n    }\r\n    \r\n    @Data\r\n    public class Issue {\r\n      private String issueId;\r\n      private String teamId;\r\n    }\r\n\r\nBoth the maps using `teamId` as the key. \r\n\r\n### Wanted\r\nI would like to set the `teamId` property inside the list of `Issue` objects present in the second map `issuesMap` from the `teamId` present as key in the first map `configsMap`.\r\n\r\n### Tried\t\t\r\nI tried it but not failing.\r\n\r\n    configMaps.keySet().stream()\r\n      .forEach(teamId -&gt; issuesMap.values().stream()\r\n           .filter(tid -&gt; teamId.equals(tid))\r\n           .forEach(is-&gt; is.teamId=teamId)\r\n       );\r\n\r\n### Questions\r\n1. How do I set it using the streams API instead of  traditional for loops?  \r\n2. Can someone tell me what is wrong here?\r\n","title":"How to change the list of objects inside the map using streams?","body":"<p>Got two maps</p>\n<pre><code>Map&lt;String, TConfig&gt; configMaps= new HashMap&lt;&gt;();\nMap&lt;String, List&lt;Issue&gt;&gt; issuesMap= new HashMap&lt;&gt;();\n\n@Data\npublic class TConfig {\n  private String teamId;\n  private String teamName;\n}\n\n@Data\npublic class Issue {\n  private String issueId;\n  private String teamId;\n}\n</code></pre>\n<p>Both the maps using <code>teamId</code> as the key.</p>\n<h3>Wanted</h3>\n<p>I would like to set the <code>teamId</code> property inside the list of <code>Issue</code> objects present in the second map <code>issuesMap</code> from the <code>teamId</code> present as key in the first map <code>configsMap</code>.</p>\n<h3>Tried</h3>\n<p>I tried it but not failing.</p>\n<pre><code>configMaps.keySet().stream()\n  .forEach(teamId -&gt; issuesMap.values().stream()\n       .filter(tid -&gt; teamId.equals(tid))\n       .forEach(is-&gt; is.teamId=teamId)\n   );\n</code></pre>\n<h3>Questions</h3>\n<ol>\n<li>How do I set it using the streams API instead of  traditional for loops?</li>\n<li>Can someone tell me what is wrong here?</li>\n</ol>\n"},{"tags":["java","tomcat","deployment","vaadin23"],"comments":[{"owner":{"account_id":2007857,"reputation":172,"user_id":1797199,"display_name":"Eliahu"},"score":1,"creation_date":1678389996,"post_id":75689080,"comment_id":133527960,"body_markdown":"Can you please provide some technical details. How did you deploy vaadin? Did you put the war file in the webapps directory of tomcat? Or created a directory in tomcat&#39;s webspps dir? What is the name of the war-archive or directory?","body":"Can you please provide some technical details. How did you deploy vaadin? Did you put the war file in the webapps directory of tomcat? Or created a directory in tomcat&#39;s webspps dir? What is the name of the war-archive or directory?"},{"owner":{"account_id":2683594,"reputation":490,"user_id":2318409,"accept_rate":80,"display_name":"Gary Greenberg"},"score":0,"creation_date":1678391848,"post_id":75689080,"comment_id":133528350,"body_markdown":"I dropped my war file into the tomcat&#39;s  webapps directory. It was unpacked by the tomcat and directory with the name of my war file was created..","body":"I dropped my war file into the tomcat&#39;s  webapps directory. It was unpacked by the tomcat and directory with the name of my war file was created.."},{"owner":{"account_id":2007857,"reputation":172,"user_id":1797199,"display_name":"Eliahu"},"score":2,"creation_date":1678392481,"post_id":75689080,"comment_id":133528516,"body_markdown":"Try: http://localhost:8080/directory_with_the_name_of_war/","body":"Try: <a href=\"http://localhost:8080/directory_with_the_name_of_war/\" rel=\"nofollow noreferrer\">localhost:8080/directory_with_the_name_of_war</a>"},{"owner":{"account_id":2683594,"reputation":490,"user_id":2318409,"accept_rate":80,"display_name":"Gary Greenberg"},"score":1,"creation_date":1678393375,"post_id":75689080,"comment_id":133528697,"body_markdown":"Thank you, It is working now. Put your comment as answer, so I can mark it as completed.","body":"Thank you, It is working now. Put your comment as answer, so I can mark it as completed."}],"answers":[{"tags":[],"owner":{"account_id":2007857,"reputation":172,"user_id":1797199,"display_name":"Eliahu"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678395099,"creation_date":1678394477,"answer_id":75689826,"question_id":75689080,"body_markdown":"Deploying a web applications in Tomcat is done by copying the application&#39;s war-archive to the `webapps` directory of tomcat or copying the directory containing the application to the `webapps` directory of tomcat.\r\n\r\nLet&#39;s say the directory with your application is called `vaadin`. Or maybe you have an archive named `vaadin.war`. In both cases Tomcat deploys the application to the following address:\r\n```\r\nhttp://hostname:port/vaadin\r\n```\r\nIn this example, `/vaadin` is called the context path in tomcat terminology.\r\n\r\nSee more information [in tomcat manual][1]\r\n\r\nOn how to change the default behavior see the following [question/answer][2]\r\n\r\n\r\n  [1]: https://tomcat.apache.org/tomcat-9.0-doc/config/context.html\r\n  [2]: https://stackoverflow.com/questions/7276989/how-to-set-the-context-path-of-a-web-application-in-tomcat-7-0","title":"Vaadin application isn&#39;t working on the Tomcat","body":"<p>Deploying a web applications in Tomcat is done by copying the application's war-archive to the <code>webapps</code> directory of tomcat or copying the directory containing the application to the <code>webapps</code> directory of tomcat.</p>\n<p>Let's say the directory with your application is called <code>vaadin</code>. Or maybe you have an archive named <code>vaadin.war</code>. In both cases Tomcat deploys the application to the following address:</p>\n<pre><code>http://hostname:port/vaadin\n</code></pre>\n<p>In this example, <code>/vaadin</code> is called the context path in tomcat terminology.</p>\n<p>See more information <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/config/context.html\" rel=\"nofollow noreferrer\">in tomcat manual</a></p>\n<p>On how to change the default behavior see the following <a href=\"https://stackoverflow.com/questions/7276989/how-to-set-the-context-path-of-a-web-application-in-tomcat-7-0\">question/answer</a></p>\n"}],"owner":{"account_id":2683594,"reputation":490,"user_id":2318409,"accept_rate":80,"display_name":"Gary Greenberg"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75689826,"answer_count":1,"score":0,"last_activity_date":1678395099,"creation_date":1678389265,"question_id":75689080,"body_markdown":"I finally was able to deploy my Vaadin application to the Tomcat 9 without any errors.\r\nThe Tomcat status shows status as running and log has no errors. The tail of it looks like this:\r\n\r\n&gt; 2023-03-08 21:35:22.487  INFO 64412 --- [alina-utility-2]\r\n&gt; o.g.e.EncyclopediaApplication            : Started\r\n&gt; EncyclopediaApplication in 9.009 seconds (JVM running for 2059.387)\r\n&gt; 2023-03-08 21:35:22.517  INFO 64412 --- [alina-utility-2]\r\n&gt; c.v.flow.server.startup.ServletDeployer  : Skipping automatic servlet\r\n&gt; registration because there is already a Vaadin servlet with the name\r\n&gt; springServlet 2023-03-08 21:35:22.517  WARN 64412 ---\r\n&gt; [alina-utility-2] c.v.f.s.c.JSR356WebsocketInitializer     :\r\n&gt; Atmosphere already initialized 2023-03-08 21:35:22.575  INFO 64412 ---\r\n&gt; [alina-utility-2] c.v.f.s.VaadinServletContextInitializer  : Search\r\n&gt; for VaadinAppShell took 57 ms 2023-03-08 21:35:22.708  INFO 64412 ---\r\n&gt; [alina-utility-2] c.v.f.s.DefaultDeploymentConfiguration   : Vaadin is\r\n&gt; running in production mode.\r\n&gt; \r\n&gt; The following EXPERIMENTAL features are enabled:\r\n&gt; - Use Webpack for front-end builds (Deprecated)\r\n\r\nNevertheless, I can&#39;t see my web page. \r\nI have in my main view \r\n\r\n    @Route(value = &quot;&quot;)\r\n    @PreserveOnRefresh\r\n    public class EncyclopediaMainLayout extends VerticalLayout {\r\nbut I can&#39;t see my web page in the browser. I see only this:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jcffC.jpg\r\nI did try to change the @Route value and redeploy my app. In this case I am getting 404 code.\r\nSo, what is going on? Where is my application? Please help","title":"Vaadin application isn&#39;t working on the Tomcat","body":"<p>I finally was able to deploy my Vaadin application to the Tomcat 9 without any errors.\nThe Tomcat status shows status as running and log has no errors. The tail of it looks like this:</p>\n<blockquote>\n<p>2023-03-08 21:35:22.487  INFO 64412 --- [alina-utility-2]\no.g.e.EncyclopediaApplication            : Started\nEncyclopediaApplication in 9.009 seconds (JVM running for 2059.387)\n2023-03-08 21:35:22.517  INFO 64412 --- [alina-utility-2]\nc.v.flow.server.startup.ServletDeployer  : Skipping automatic servlet\nregistration because there is already a Vaadin servlet with the name\nspringServlet 2023-03-08 21:35:22.517  WARN 64412 ---\n[alina-utility-2] c.v.f.s.c.JSR356WebsocketInitializer     :\nAtmosphere already initialized 2023-03-08 21:35:22.575  INFO 64412 ---\n[alina-utility-2] c.v.f.s.VaadinServletContextInitializer  : Search\nfor VaadinAppShell took 57 ms 2023-03-08 21:35:22.708  INFO 64412 ---\n[alina-utility-2] c.v.f.s.DefaultDeploymentConfiguration   : Vaadin is\nrunning in production mode.</p>\n<p>The following EXPERIMENTAL features are enabled:</p>\n<ul>\n<li>Use Webpack for front-end builds (Deprecated)</li>\n</ul>\n</blockquote>\n<p>Nevertheless, I can't see my web page.\nI have in my main view</p>\n<pre><code>@Route(value = &quot;&quot;)\n@PreserveOnRefresh\npublic class EncyclopediaMainLayout extends VerticalLayout {\n</code></pre>\n<p>but I can't see my web page in the browser. I see only this:\n<a href=\"https://i.stack.imgur.com/jcffC.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jcffC.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I did try to change the @Route value and redeploy my app. In this case I am getting 404 code.\nSo, what is going on? Where is my application? Please help</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1678396098,"post_id":75689862,"comment_id":133529366,"body_markdown":"Why do you want to use the `java.util.Properties` class? Why do you not want to use a different library or your own class?","body":"Why do you want to use the <code>java.util.Properties</code> class? Why do you not want to use a different library or your own class?"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1678396176,"post_id":75689862,"comment_id":133529389,"body_markdown":"Does this answer your question? [How to read the property file when duplicate key-value pair exist in the file?](https://stackoverflow.com/questions/20511865/how-to-read-the-property-file-when-duplicate-key-value-pair-exist-in-the-file)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/20511865/how-to-read-the-property-file-when-duplicate-key-value-pair-exist-in-the-file\">How to read the property file when duplicate key-value pair exist in the file?</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1678398571,"post_id":75689862,"comment_id":133529885,"body_markdown":"You can simply append an index to each duplicated key and then retrieve them all sequentially until you get a null","body":"You can simply append an index to each duplicated key and then retrieve them all sequentially until you get a null"}],"owner":{"account_id":15783990,"reputation":3,"user_id":11389405,"display_name":"Fozil Elbekov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678394704,"creation_date":1678394704,"question_id":75689862,"body_markdown":"I am trying to get source system from properties file below into source_system_1 array. How to accomplish this without using `org.ini4j.Ini` library and instead using `java.util.Properties`?\r\n\r\nThis is my `fileProcessing.ini`:\r\n```ini\r\nsourceSystem=ABC\r\nsourceSystem=XYZ\r\nsourceSystem=FGH\r\nsourceSystem=RTY\r\n```\r\n\r\nThis is my code\r\n\r\n```java\r\nProperties fileProp = new Properties();\r\nfileProp.load(new FileInputStream(&quot;fileProcessing.ini&quot;));\r\n\r\nString[] source_system_1 = {&quot;ABC&quot;, &quot;XYZ&quot;, &quot;FGH&quot;, &quot;RTY&quot;};\r\n\r\nString source_system_string = fileProp.getProperty(&quot;sourceSystemMUB&quot;);\r\nString[] source_system_array = source_system_string.split(&quot;\\\\s+&quot;);\r\nList&lt;String&gt; source_system_list = new ArrayList&lt;&gt;(Arrays.asList(source_system_array));\r\nsource_system_list.removeAll(Collections.singleton(&quot;&quot;));\r\nString[] source_system_1 = source_system_list.toArray(new String[0]);\r\n```\r\n\r\nI am not getting in the expected array `{&quot;ABC&quot;, &quot;XYZ&quot;, &quot;FGH&quot;, &quot;RTY&quot;}` with all values of `sourceSystem`.","title":"How to get source system from properties file?","body":"<p>I am trying to get source system from properties file below into source_system_1 array. How to accomplish this without using <code>org.ini4j.Ini</code> library and instead using <code>java.util.Properties</code>?</p>\n<p>This is my <code>fileProcessing.ini</code>:</p>\n<pre class=\"lang-ini prettyprint-override\"><code>sourceSystem=ABC\nsourceSystem=XYZ\nsourceSystem=FGH\nsourceSystem=RTY\n</code></pre>\n<p>This is my code</p>\n<pre class=\"lang-java prettyprint-override\"><code>Properties fileProp = new Properties();\nfileProp.load(new FileInputStream(&quot;fileProcessing.ini&quot;));\n\nString[] source_system_1 = {&quot;ABC&quot;, &quot;XYZ&quot;, &quot;FGH&quot;, &quot;RTY&quot;};\n\nString source_system_string = fileProp.getProperty(&quot;sourceSystemMUB&quot;);\nString[] source_system_array = source_system_string.split(&quot;\\\\s+&quot;);\nList&lt;String&gt; source_system_list = new ArrayList&lt;&gt;(Arrays.asList(source_system_array));\nsource_system_list.removeAll(Collections.singleton(&quot;&quot;));\nString[] source_system_1 = source_system_list.toArray(new String[0]);\n</code></pre>\n<p>I am not getting in the expected array <code>{&quot;ABC&quot;, &quot;XYZ&quot;, &quot;FGH&quot;, &quot;RTY&quot;}</code> with all values of <code>sourceSystem</code>.</p>\n"},{"tags":["java","sql","stored-procedures","db2","db2-luw"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1678326571,"post_id":75679730,"comment_id":133512544,"body_markdown":"&quot;No suitable driver&quot; suggests to me that the URL you use to connect to the database is not correct.  Do something simple: Write a Java function that connects to the database.  You can&#39;t progress on the stored procedure until you can do that.","body":"&quot;No suitable driver&quot; suggests to me that the URL you use to connect to the database is not correct.  Do something simple: Write a Java function that connects to the database.  You can&#39;t progress on the stored procedure until you can do that."},{"owner":{"account_id":10630080,"reputation":1,"user_id":7828551,"display_name":"Easy"},"score":0,"creation_date":1678327307,"post_id":75679730,"comment_id":133512647,"body_markdown":"@duffymo thanks a lot for the quick response! yeah, I tried to write a java class and try to connect to my db2 db, it worked fine. In my java test class, I was using a explicit URL like `jdbc:db2://localhost:50000/testdb` to connect to a real db. In the java routine, I tried both `jdbc:default:connection` and `jdbc:db2:connection` as URL, which suppose to obtain/inherit the nest connection(correct??) when they are called as stored procedure. but it gives me  &quot;No suitable driver found&quot; error. It&#39;s inside the same machine/envrionment.","body":"@duffymo thanks a lot for the quick response! yeah, I tried to write a java class and try to connect to my db2 db, it worked fine. In my java test class, I was using a explicit URL like <code>jdbc:db2:&#47;&#47;localhost:50000&#47;testdb</code> to connect to a real db. In the java routine, I tried both <code>jdbc:default:connection</code> and <code>jdbc:db2:connection</code> as URL, which suppose to obtain/inherit the nest connection(correct??) when they are called as stored procedure. but it gives me  &quot;No suitable driver found&quot; error. It&#39;s inside the same machine/envrionment."},{"owner":{"account_id":4408873,"reputation":6996,"user_id":3592396,"display_name":"Lennart - Slava Ukraini"},"score":0,"creation_date":1678345294,"post_id":75679730,"comment_id":133514996,"body_markdown":"Why are you writing a stored procedure in java that connects to the database?","body":"Why are you writing a stored procedure in java that connects to the database?"},{"owner":{"account_id":10630080,"reputation":1,"user_id":7828551,"display_name":"Easy"},"score":0,"creation_date":1678346302,"post_id":75679730,"comment_id":133515216,"body_markdown":"@Lennart-SlavaUkraini Hi, Lennart, I am writing a java routine similar to this sample java routine https://github.com/IBM/db2-samples/blob/master/java/jdbc/SpServer.java#L822. \nThat java routine can be called inside a stored procedure like this https://github.com/IBM/db2-samples/blob/master/java/jdbc/SpCreate.db2#L139. Then, the stored procedure can be exposed and used directly with command like `db2 &quot;call sp_1()&quot;`,. let me know if that makes sense to you.","body":"@Lennart-SlavaUkraini Hi, Lennart, I am writing a java routine similar to this sample java routine <a href=\"https://github.com/IBM/db2-samples/blob/master/java/jdbc/SpServer.java#L822\" rel=\"nofollow noreferrer\">github.com/IBM/db2-samples/blob/master/java/jdbc/&hellip;</a>.  That java routine can be called inside a stored procedure like this <a href=\"https://github.com/IBM/db2-samples/blob/master/java/jdbc/SpCreate.db2#L139\" rel=\"nofollow noreferrer\">github.com/IBM/db2-samples/blob/master/java/jdbc/&hellip;</a>. Then, the stored procedure can be exposed and used directly with command like <code>db2 &quot;call sp_1()&quot;</code>,. let me know if that makes sense to you."},{"owner":{"account_id":10630080,"reputation":1,"user_id":7828551,"display_name":"Easy"},"score":0,"creation_date":1678347846,"post_id":75679730,"comment_id":133515568,"body_markdown":"@Lennart-SlavaUkraini BTW, Lennart, in my first approach, I used MockResultSet to wrap my actual data as ResultSet and return that to the stored procedure to display. That&#39;s actually my preferred approach as my java routine supposes to read some local files and fetch data. But somehow, on the stored procedure, it keeps return empty result... That&#39;s why I switched to the second approach where I insert my data into database, then select it and return to stored procedure, with the hope that it can return a real ResultSet to stored procedure. but now i am hitting by that weird driver issue...","body":"@Lennart-SlavaUkraini BTW, Lennart, in my first approach, I used MockResultSet to wrap my actual data as ResultSet and return that to the stored procedure to display. That&#39;s actually my preferred approach as my java routine supposes to read some local files and fetch data. But somehow, on the stored procedure, it keeps return empty result... That&#39;s why I switched to the second approach where I insert my data into database, then select it and return to stored procedure, with the hope that it can return a real ResultSet to stored procedure. but now i am hitting by that weird driver issue..."},{"owner":{"account_id":4408873,"reputation":6996,"user_id":3592396,"display_name":"Lennart - Slava Ukraini"},"score":0,"creation_date":1678355605,"post_id":75679730,"comment_id":133517625,"body_markdown":"I was thinking, why not write the procedure in SQL? Just curios since I don&#39;t know what your procedure is doing","body":"I was thinking, why not write the procedure in SQL? Just curios since I don&#39;t know what your procedure is doing"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1678359836,"post_id":75679730,"comment_id":133518811,"body_markdown":"&quot;which suppose to obtain/inherit the nest connection(correct??) when they are called as stored procedure&quot; - no, not correct.  You should not be creating a new connection every time you want to talk to a database.  They are expensive and slow to create.  The better solution is to create a pool of connections when you start your application and give it to the function when you call it.  I have no idea where you found that &quot;jdbc:default:connection&quot; string.  I don&#39;t think that&#39;s correct.","body":"&quot;which suppose to obtain/inherit the nest connection(correct??) when they are called as stored procedure&quot; - no, not correct.  You should not be creating a new connection every time you want to talk to a database.  They are expensive and slow to create.  The better solution is to create a pool of connections when you start your application and give it to the function when you call it.  I have no idea where you found that &quot;jdbc:default:connection&quot; string.  I don&#39;t think that&#39;s correct."}],"answers":[{"comments":[{"owner":{"account_id":4408873,"reputation":6996,"user_id":3592396,"display_name":"Lennart - Slava Ukraini"},"score":0,"creation_date":1678427081,"post_id":75689852,"comment_id":133533759,"body_markdown":"For fences routines CALL SQLJ.REFRESH_CLASSES() should be sufficient","body":"For fences routines CALL SQLJ.REFRESH_CLASSES() should be sufficient"}],"tags":[],"owner":{"account_id":10630080,"reputation":1,"user_id":7828551,"display_name":"Easy"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678394636,"creation_date":1678394636,"answer_id":75689852,"question_id":75679730,"body_markdown":"Just some quick update on my thread. The `&quot;No suitable driver found` error is gone now after I restart db2 engine. So looks like after reinstall the java routine jar, we will need to restart the db2, so that `CLASSPATH`, jar, etc can be loaded and updated correctly. ","title":"Db2 stored procedure returns either empty result set or show &quot;No suitable driver found&quot; error","body":"<p>Just some quick update on my thread. The <code>&quot;No suitable driver found</code> error is gone now after I restart db2 engine. So looks like after reinstall the java routine jar, we will need to restart the db2, so that <code>CLASSPATH</code>, jar, etc can be loaded and updated correctly.</p>\n"}],"owner":{"account_id":10630080,"reputation":1,"user_id":7828551,"display_name":"Easy"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678394636,"creation_date":1678326378,"question_id":75679730,"body_markdown":"I am totally got stuck on this DB2 stored procedure &amp; java routine thing and would like to ask and see if anybody see some similar and get a solution for it. Basically, I am trying to write some java routines, package them into a jar and copy it into a DB2 instance. Then on the DB2 side, I defined some stored procedures to call to my java routines, so that I can trigger them with db2 commands like `db2 &quot;call sp_1(param1, param2)&quot;`. \r\n\r\nSo for those java routines that don&#39;t return anything or just return primitive data type, i.e., sting, the associated stored procedures work totally fine. The problem is with java routines that return a **ResultSet**. To simply test java routine returns ResultSet, I wrote a dummy java routine like below (my real java routine will be reading some local files and generate/return real data as ResultSet to the stored procedure), using MockResultSet from [Mockrunner](https://github.com/mockrunner/mockrunner) package to return some dummy ResultSet .  \r\n\r\n```\r\npublic static synchronized void listUsers(ResultSet[] result) {\r\n    MockResultSet rs = new MockResultSet(&quot;UserGroups&quot;, &quot;cursor&quot;);\r\n    rs.addColumn(&quot;User&quot;, new String[] { &quot;user1&quot;, &quot;user2&quot; });\r\n    rs.addColumn(&quot;Team&quot;, new String[] { &quot;team1&quot;, &quot;team2&quot; });\r\n    result[0] = rs;\r\n}\r\n```\r\non the stored procedure side, I defined a procedure like this (added `java.sql.ResultSet[]` in the parameter list according to this [IBM doc](https://www.ibm.com/docs/en/db2-for-zos/11?topic=db2-definition-java-routine) regarding java routines. \r\n\r\n```\r\nCREATE PROCEDURE LIST_USER ()\r\nSPECIFIC JDBC_ONE_RES_SET\r\nDYNAMIC RESULT SETS 1\r\nNOT DETERMINISTIC\r\nLANGUAGE JAVA \r\nPARAMETER STYLE JAVA\r\nNO DBINFO\r\nFENCED\r\nTHREADSAFE\r\nREADS SQL DATA\r\nPROGRAM TYPE SUB\r\nEXTERNAL NAME &#39;MYJAR:test.listUsers(java.sql.ResultSet[])&#39;\r\n```\r\nWith this, when I tried to do `db2 &quot;call LIST_USER()` on the db2 instance after connect to db, I am getting this. It returns 0 which seems indicate that the stored procedure executed successfully, but seems like no result set is returned....\r\n\r\n```\r\n[20:55:06][test][~]$ db2 &quot;call LIST_USER()&quot;\r\n\r\n  Return Status = 0\r\n```\r\nI also tried to return real data through SQL queries in my java routine by following some db2 sample java routines like [this](https://github.com/IBM/db2-samples/blob/master/java/jdbc/SpServer.java#L822), but when I call the procedure, it throws the error below.  \r\n\r\n```\r\n[01:07:51][test] $ db2 &quot;call LIST_USERS()&quot;\r\nSQL4302N  Procedure or user-defined function &quot;LIST_USERS&quot;, specific name\r\n&quot;LIST_USERS&quot; aborted with an exception &quot;No suitable driver found for\r\njdbc:default:&quot;.  SQLSTATE=08001\r\n```\r\n\r\nlooking at the error, I think it failed at [getConnection](https://github.com/IBM/db2-samples/blob/master/java/jdbc/SpServer.java#L833) (tried both `jdbc:default:connection` and `jdbc:db2:connection`)as if the db2 jdbc driver is not present. But that&#39;s not true, as I have db2 jdbc driver copied over and when I `echo $CLASSPATH`, I see driver **`db2jcc4.jar`** is there. \r\n\r\nSo if anybody know why my MockResultSet is not returned in the first approach, or why stored procedure is throwing  &quot;No suitable driver found&quot; error in my second approach, please chime in and I will deeply appreciate your input here!! Thanks in advance!","title":"Db2 stored procedure returns either empty result set or show &quot;No suitable driver found&quot; error","body":"<p>I am totally got stuck on this DB2 stored procedure &amp; java routine thing and would like to ask and see if anybody see some similar and get a solution for it. Basically, I am trying to write some java routines, package them into a jar and copy it into a DB2 instance. Then on the DB2 side, I defined some stored procedures to call to my java routines, so that I can trigger them with db2 commands like <code>db2 &quot;call sp_1(param1, param2)&quot;</code>.</p>\n<p>So for those java routines that don't return anything or just return primitive data type, i.e., sting, the associated stored procedures work totally fine. The problem is with java routines that return a <strong>ResultSet</strong>. To simply test java routine returns ResultSet, I wrote a dummy java routine like below (my real java routine will be reading some local files and generate/return real data as ResultSet to the stored procedure), using MockResultSet from <a href=\"https://github.com/mockrunner/mockrunner\" rel=\"nofollow noreferrer\">Mockrunner</a> package to return some dummy ResultSet .</p>\n<pre><code>public static synchronized void listUsers(ResultSet[] result) {\n    MockResultSet rs = new MockResultSet(&quot;UserGroups&quot;, &quot;cursor&quot;);\n    rs.addColumn(&quot;User&quot;, new String[] { &quot;user1&quot;, &quot;user2&quot; });\n    rs.addColumn(&quot;Team&quot;, new String[] { &quot;team1&quot;, &quot;team2&quot; });\n    result[0] = rs;\n}\n</code></pre>\n<p>on the stored procedure side, I defined a procedure like this (added <code>java.sql.ResultSet[]</code> in the parameter list according to this <a href=\"https://www.ibm.com/docs/en/db2-for-zos/11?topic=db2-definition-java-routine\" rel=\"nofollow noreferrer\">IBM doc</a> regarding java routines.</p>\n<pre><code>CREATE PROCEDURE LIST_USER ()\nSPECIFIC JDBC_ONE_RES_SET\nDYNAMIC RESULT SETS 1\nNOT DETERMINISTIC\nLANGUAGE JAVA \nPARAMETER STYLE JAVA\nNO DBINFO\nFENCED\nTHREADSAFE\nREADS SQL DATA\nPROGRAM TYPE SUB\nEXTERNAL NAME 'MYJAR:test.listUsers(java.sql.ResultSet[])'\n</code></pre>\n<p>With this, when I tried to do <code>db2 &quot;call LIST_USER()</code> on the db2 instance after connect to db, I am getting this. It returns 0 which seems indicate that the stored procedure executed successfully, but seems like no result set is returned....</p>\n<pre><code>[20:55:06][test][~]$ db2 &quot;call LIST_USER()&quot;\n\n  Return Status = 0\n</code></pre>\n<p>I also tried to return real data through SQL queries in my java routine by following some db2 sample java routines like <a href=\"https://github.com/IBM/db2-samples/blob/master/java/jdbc/SpServer.java#L822\" rel=\"nofollow noreferrer\">this</a>, but when I call the procedure, it throws the error below.</p>\n<pre><code>[01:07:51][test] $ db2 &quot;call LIST_USERS()&quot;\nSQL4302N  Procedure or user-defined function &quot;LIST_USERS&quot;, specific name\n&quot;LIST_USERS&quot; aborted with an exception &quot;No suitable driver found for\njdbc:default:&quot;.  SQLSTATE=08001\n</code></pre>\n<p>looking at the error, I think it failed at <a href=\"https://github.com/IBM/db2-samples/blob/master/java/jdbc/SpServer.java#L833\" rel=\"nofollow noreferrer\">getConnection</a> (tried both <code>jdbc:default:connection</code> and <code>jdbc:db2:connection</code>)as if the db2 jdbc driver is not present. But that's not true, as I have db2 jdbc driver copied over and when I <code>echo $CLASSPATH</code>, I see driver <strong><code>db2jcc4.jar</code></strong> is there.</p>\n<p>So if anybody know why my MockResultSet is not returned in the first approach, or why stored procedure is throwing  &quot;No suitable driver found&quot; error in my second approach, please chime in and I will deeply appreciate your input here!! Thanks in advance!</p>\n"},{"tags":["java","ibm-mq"],"answers":[{"tags":[],"owner":{"account_id":4675222,"reputation":956,"user_id":3785793,"display_name":"Tim McCormick"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1500469481,"creation_date":1500469481,"answer_id":45191510,"question_id":45188348,"body_markdown":"1) It depends on the version, but from V8 onwards com.ibm.mq.allclient is the easiest one to use.\r\n\r\n2) All versions of MQ client are forward and backward compatible with all versions of MQ queue manager. 7.0 went out of support (and so no longer receives security fixes) back in 2015. 7.5 is the oldest in support version, but I&#39;d recommend going to MQ 9 LTS for your client.\r\n\r\n3) The MQC support pack is the easiest way:&lt;br /&gt;\r\nMQC75 (7.5) http://www-01.ibm.com/support/docview.wss?uid=swg24032744&lt;br /&gt;\r\nMQC8 (8.0) http://www-01.ibm.com/support/docview.wss?uid=swg24037500&lt;br /&gt;\r\nMQC9 (9.0) http://www-01.ibm.com/support/docview.wss?uid=swg24042176\r\n\r\nBe prepared for this not to &#39;just work&#39; based on your experience with ActiveMQ. ActiveMQ is a totally different JMS implementation to IBM MQ, and unfortunately the JMS specification is loose enough that migration between providers isn&#39;t always seamless.","title":"Java, IBM MQ, getting correct client JARs?","body":"<p>1) It depends on the version, but from V8 onwards com.ibm.mq.allclient is the easiest one to use.</p>\n\n<p>2) All versions of MQ client are forward and backward compatible with all versions of MQ queue manager. 7.0 went out of support (and so no longer receives security fixes) back in 2015. 7.5 is the oldest in support version, but I'd recommend going to MQ 9 LTS for your client.</p>\n\n<p>3) The MQC support pack is the easiest way:<br />\nMQC75 (7.5) <a href=\"http://www-01.ibm.com/support/docview.wss?uid=swg24032744\" rel=\"nofollow noreferrer\">http://www-01.ibm.com/support/docview.wss?uid=swg24032744</a><br />\nMQC8 (8.0) <a href=\"http://www-01.ibm.com/support/docview.wss?uid=swg24037500\" rel=\"nofollow noreferrer\">http://www-01.ibm.com/support/docview.wss?uid=swg24037500</a><br />\nMQC9 (9.0) <a href=\"http://www-01.ibm.com/support/docview.wss?uid=swg24042176\" rel=\"nofollow noreferrer\">http://www-01.ibm.com/support/docview.wss?uid=swg24042176</a></p>\n\n<p>Be prepared for this not to 'just work' based on your experience with ActiveMQ. ActiveMQ is a totally different JMS implementation to IBM MQ, and unfortunately the JMS specification is loose enough that migration between providers isn't always seamless.</p>\n"},{"comments":[{"owner":{"account_id":146653,"reputation":888,"user_id":357226,"accept_rate":75,"display_name":"Lawrence Tierney"},"score":0,"creation_date":1500473227,"post_id":45191597,"comment_id":77353352,"body_markdown":"I&#39;m afraid I&#39;ve accepted the answer from @tim-mccormick . I&#39;ve given you an upvote though","body":"I&#39;m afraid I&#39;ve accepted the answer from @tim-mccormick . I&#39;ve given you an upvote though"}],"tags":[],"owner":{"account_id":1927174,"reputation":816,"user_id":1737328,"display_name":"a_cornish_pasty"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1500469694,"creation_date":1500469694,"answer_id":45191597,"question_id":45188348,"body_markdown":"**Answer 1:**\r\nSee the following page in the Knowledge Center that describes how to configure the Java classpath for applications that use the MQ classes for JMS:\r\n\r\nhttps://www.ibm.com/support/knowledgecenter/SSFKSJ_9.0.0/com.ibm.mq.dev.doc/q031560_.htm\r\n\r\nThe com.ibm.mqjms.jar will pull in the other required from the MQ client installation.  So don&#39;t copy the jars file around, just reference the one from the installation as documented.  If you must copy and/or embed the MQ Java client into an application bundle, use the &quot;MQ Redistributable Client&quot; only.  Linked from the client download page (see Answer 3).\r\n\r\nAs an alternative to the com.ibm.mqjms.jar file, you can use the com.ibm.mq.allclient.jar which includes both the MQ classes for JMS and MQ classes for Java clients. \r\n\r\n**Answer 2:**\r\nLater versioned clients can connect to back-level queue managers. So you can use the latest MQ V9 client to connect to your MQ V7.0.1 queue managers.  Be aware MQ v7.0.1.2 was released in May 2010 and is very, very old.  You should have a plan in place to migrate to a later (and supported) version of MQ. \r\n\r\n**Answer 3:**\r\nhttps://www-01.ibm.com/software/integration/wmq/clients/\r\n\r\nMQ V9 client, page here: http://www-01.ibm.com/support/docview.wss?uid=swg24042176 ","title":"Java, IBM MQ, getting correct client JARs?","body":"<p><strong>Answer 1:</strong>\nSee the following page in the Knowledge Center that describes how to configure the Java classpath for applications that use the MQ classes for JMS:</p>\n\n<p><a href=\"https://www.ibm.com/support/knowledgecenter/SSFKSJ_9.0.0/com.ibm.mq.dev.doc/q031560_.htm\" rel=\"nofollow noreferrer\">https://www.ibm.com/support/knowledgecenter/SSFKSJ_9.0.0/com.ibm.mq.dev.doc/q031560_.htm</a></p>\n\n<p>The com.ibm.mqjms.jar will pull in the other required from the MQ client installation.  So don't copy the jars file around, just reference the one from the installation as documented.  If you must copy and/or embed the MQ Java client into an application bundle, use the \"MQ Redistributable Client\" only.  Linked from the client download page (see Answer 3).</p>\n\n<p>As an alternative to the com.ibm.mqjms.jar file, you can use the com.ibm.mq.allclient.jar which includes both the MQ classes for JMS and MQ classes for Java clients. </p>\n\n<p><strong>Answer 2:</strong>\nLater versioned clients can connect to back-level queue managers. So you can use the latest MQ V9 client to connect to your MQ V7.0.1 queue managers.  Be aware MQ v7.0.1.2 was released in May 2010 and is very, very old.  You should have a plan in place to migrate to a later (and supported) version of MQ. </p>\n\n<p><strong>Answer 3:</strong>\n<a href=\"https://www-01.ibm.com/software/integration/wmq/clients/\" rel=\"nofollow noreferrer\">https://www-01.ibm.com/software/integration/wmq/clients/</a></p>\n\n<p>MQ V9 client, page here: <a href=\"http://www-01.ibm.com/support/docview.wss?uid=swg24042176\" rel=\"nofollow noreferrer\">http://www-01.ibm.com/support/docview.wss?uid=swg24042176</a> </p>\n"},{"tags":[],"owner":{"account_id":170035,"reputation":6390,"user_id":396483,"accept_rate":68,"display_name":"john k"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678394300,"creation_date":1678394300,"answer_id":75689807,"question_id":45188348,"body_markdown":"According to here:\r\nhttps://www.ibm.com/support/pages/supported-way-install-websphere-mq-java-jar-files-jms-jar-files-or-cc-libraries  \r\n\r\nFor MQ7:\r\n\r\n&gt; The only supported way to get the MQ jar files or the MQ C/C++\r\n&gt; library files onto a system is to install either:\r\n&gt; - the WebSphere MQ product or\r\n&gt; - the WebSphere MQ Client SupportPacs.\r\n\r\nSo you cannot download the .jar files.\r\n\r\nAllclient.jar is only for MQ8 and later.","title":"Java, IBM MQ, getting correct client JARs?","body":"<p>According to here:\n<a href=\"https://www.ibm.com/support/pages/supported-way-install-websphere-mq-java-jar-files-jms-jar-files-or-cc-libraries\" rel=\"nofollow noreferrer\">https://www.ibm.com/support/pages/supported-way-install-websphere-mq-java-jar-files-jms-jar-files-or-cc-libraries</a></p>\n<p>For MQ7:</p>\n<blockquote>\n<p>The only supported way to get the MQ jar files or the MQ C/C++\nlibrary files onto a system is to install either:</p>\n<ul>\n<li>the WebSphere MQ product or</li>\n<li>the WebSphere MQ Client SupportPacs.</li>\n</ul>\n</blockquote>\n<p>So you cannot download the .jar files.</p>\n<p>Allclient.jar is only for MQ8 and later.</p>\n"}],"owner":{"account_id":146653,"reputation":888,"user_id":357226,"accept_rate":75,"display_name":"Lawrence Tierney"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6472,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":45191510,"answer_count":3,"score":3,"last_activity_date":1678394300,"creation_date":1500461399,"question_id":45188348,"body_markdown":"I have a Spring Boot app (1.5.2) that I need to act as a (JMS) client to an IBM MQ (**7.0.1.2**) instance; in order to read messages from Queues.\r\n\r\nI am struggling to determine which JARs I need and where I can source them from.\r\n\r\nI have reviewed the IBM website and various other sources but have found them somewhat contradictory.\r\n\r\n*Questions*:\r\n\r\n 1. What JARs do I need? \r\n 2. com.ibm.mq.allclient? Does this work with version 7.0?\r\n 3. Where and how do I get the JARs?\r\n\r\nNote: I have JMS up and running &quot;locally&quot; with no problems using ActiveMQ.\r\n\r\nThanks in advance","title":"Java, IBM MQ, getting correct client JARs?","body":"<p>I have a Spring Boot app (1.5.2) that I need to act as a (JMS) client to an IBM MQ (<strong>7.0.1.2</strong>) instance; in order to read messages from Queues.</p>\n\n<p>I am struggling to determine which JARs I need and where I can source them from.</p>\n\n<p>I have reviewed the IBM website and various other sources but have found them somewhat contradictory.</p>\n\n<p><em>Questions</em>:</p>\n\n<ol>\n<li>What JARs do I need? </li>\n<li>com.ibm.mq.allclient? Does this work with version 7.0?</li>\n<li>Where and how do I get the JARs?</li>\n</ol>\n\n<p>Note: I have JMS up and running \"locally\" with no problems using ActiveMQ.</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","recursion","binary-tree"],"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1678383164,"post_id":75686912,"comment_id":133526175,"body_markdown":"This might be considerably easier if you would print it top down rather than  left to right.   If you are familiar with painting in Java,  painting to a `BufferedImage` and then printing that image would, imo, also be easier.  In that case you can keep objects that contain their coordinate location and then draw lines between the objects.","body":"This might be considerably easier if you would print it top down rather than  left to right.   If you are familiar with painting in Java,  painting to a <code>BufferedImage</code> and then printing that image would, imo, also be easier.  In that case you can keep objects that contain their coordinate location and then draw lines between the objects."},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1678386557,"post_id":75686912,"comment_id":133527108,"body_markdown":"It might be easier to create a two-dimensional character array, fill it in with spaces, fill it with nodes, and print the array as a block.","body":"It might be easier to create a two-dimensional character array, fill it in with spaces, fill it with nodes, and print the array as a block."}],"answers":[{"comments":[{"owner":{"account_id":27860192,"reputation":13,"user_id":21272914,"display_name":"Михаил Буркацкий"},"score":1,"creation_date":1678446234,"post_id":75689614,"comment_id":133538217,"body_markdown":"Thank you very much! It works, I still don&#39;t fully understand all the details of the code, but it&#39;s exciting. And thanks for the tip about StringBuilder. You&#39;re awesome!","body":"Thank you very much! It works, I still don&#39;t fully understand all the details of the code, but it&#39;s exciting. And thanks for the tip about StringBuilder. You&#39;re awesome!"}],"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678393607,"creation_date":1678392869,"answer_id":75689614,"question_id":75686912,"body_markdown":"You could use a second StringBuilder to maintain what should appear on *one* line only, so you can keep track of vertical lines that should be drawn higher up (more left) in the tree.\r\n\r\nThen extend the main StringBuilder with copies from that.\r\n\r\nNB: I wouldn&#39;t use an instance variable for maintaining that StringBuilder. It seems better practice to use a local variable for that, passing it on as argument.\r\n\r\nHere are the functions you could define:\r\n\r\n```\r\n    public void prettyPrint() {\r\n        System.out.println(prettyString());\r\n    }\r\n\r\n    public String prettyString() {\r\n        StringBuilder treeSB = new StringBuilder();\r\n        prettyString(root, new StringBuilder(&quot;\\n&quot;), treeSB);\r\n        return treeSB.substring(1); // Omit initial &#39;\\n&#39;\r\n    }\r\n\r\n    private void prettyString(Node node, StringBuilder lineSB, StringBuilder treeSB)\r\n    {\r\n        if (node == null) return;\r\n\r\n        int dataSize = node.getSize(); // Integer.toString(node.data).length();\r\n        int depth = lineSB.length();\r\n        int i = &quot;\\n │&quot;.indexOf(lineSB.charAt(depth - 1));\r\n        int j = (node.left != null ? 2 : 0) + (node.right != null ? 1 : 0);\r\n        \r\n        lineSB.append(&quot; &quot;.repeat(dataSize + 1));\r\n        prettyString(node.left, lineSB, treeSB);\r\n        lineSB.setLength(depth - 1);\r\n        \r\n        treeSB.append(lineSB);\r\n        treeSB.append(&quot;\\n┌└&quot;.charAt(i));\r\n        treeSB.append(node.data);\r\n        treeSB.append(&quot; ┐┘┤&quot;.charAt(j));\r\n\r\n        lineSB.append(&quot;\\n│ &quot;.charAt(i));\r\n        lineSB.append(&quot; &quot;.repeat(dataSize));\r\n        lineSB.append(&quot; │ │&quot;.charAt(j));\r\n        prettyString(node.right, lineSB, treeSB);\r\n    }\r\n```","title":"Pretty Print Binary Tree","body":"<p>You could use a second StringBuilder to maintain what should appear on <em>one</em> line only, so you can keep track of vertical lines that should be drawn higher up (more left) in the tree.</p>\n<p>Then extend the main StringBuilder with copies from that.</p>\n<p>NB: I wouldn't use an instance variable for maintaining that StringBuilder. It seems better practice to use a local variable for that, passing it on as argument.</p>\n<p>Here are the functions you could define:</p>\n<pre><code>    public void prettyPrint() {\n        System.out.println(prettyString());\n    }\n\n    public String prettyString() {\n        StringBuilder treeSB = new StringBuilder();\n        prettyString(root, new StringBuilder(&quot;\\n&quot;), treeSB);\n        return treeSB.substring(1); // Omit initial '\\n'\n    }\n\n    private void prettyString(Node node, StringBuilder lineSB, StringBuilder treeSB)\n    {\n        if (node == null) return;\n\n        int dataSize = node.getSize(); // Integer.toString(node.data).length();\n        int depth = lineSB.length();\n        int i = &quot;\\n │&quot;.indexOf(lineSB.charAt(depth - 1));\n        int j = (node.left != null ? 2 : 0) + (node.right != null ? 1 : 0);\n        \n        lineSB.append(&quot; &quot;.repeat(dataSize + 1));\n        prettyString(node.left, lineSB, treeSB);\n        lineSB.setLength(depth - 1);\n        \n        treeSB.append(lineSB);\n        treeSB.append(&quot;\\n┌└&quot;.charAt(i));\n        treeSB.append(node.data);\n        treeSB.append(&quot; ┐┘┤&quot;.charAt(j));\n\n        lineSB.append(&quot;\\n│ &quot;.charAt(i));\n        lineSB.append(&quot; &quot;.repeat(dataSize));\n        lineSB.append(&quot; │ │&quot;.charAt(j));\n        prettyString(node.right, lineSB, treeSB);\n    }\n</code></pre>\n"}],"owner":{"account_id":27860192,"reputation":13,"user_id":21272914,"display_name":"Михаил Буркацкий"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":388,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75689614,"answer_count":1,"score":1,"last_activity_date":1678394228,"creation_date":1678376615,"question_id":75686912,"body_markdown":"I am working on the following code challenge:\r\n\r\n&gt; `PrintableTree` is a simple Binary Search Tree with no balancing.\r\nIt may contain int values that are added via the `add` method.\r\nThe main challenge is to pretty print the tree via the `prettyPrint` method. This means that the whole tree should be converted to a String representing its inner structure from the smaller values to the greater ones. Also, you must use box-drawing characters to show node connections.\r\n&gt; \r\n&gt; ### Example:\r\n&gt; \r\n&gt; Elements: 123 11 200 1 100 150 2000\r\n&gt; \r\n&gt; Pretty printed tree:\r\n&gt; \r\n&gt; ```\r\n&gt;       ┌1\r\n&gt;    ┌11┤\r\n&gt;    │  └100\r\n&gt; 123┤\r\n&gt;    │   ┌150\r\n&gt;    └200┤\r\n&gt;        └2000\r\n&gt; ```\r\n&gt; \r\n&gt; Another example (of not so balanced tree):\r\n&gt; \r\n&gt; Elements: 931 39 196 385 388 207 185 955 957 542 904 498 394\r\n&gt; \r\n&gt; Pretty printed tree:\r\n&gt; \r\n&gt; ```\r\n&gt;    ┌39┐\r\n&gt;    │  │   ┌185\r\n&gt;    │  └196┤\r\n&gt;    │      │   ┌207\r\n&gt;    │      └385┤\r\n&gt;    │          └388┐\r\n&gt;    │              │       ┌394\r\n&gt;    │              │   ┌498┘\r\n&gt;    │              └542┤\r\n&gt;    │                  └904\r\n&gt; 931┤\r\n&gt;    └955┐\r\n&gt;        └957\r\n&gt; ```\r\n&gt; \r\n&gt; Your class should implement this interface\r\n&gt;\r\n&gt; ```\r\n&gt; public interface PrintableTree {\r\n&gt; \r\n&gt;     void add(int i);\r\n&gt;     String prettyPrint();\r\n&gt; \r\n&gt;     static PrintableTree getInstance() {\r\n&gt;         return new PrettyPrintableTree();\r\n&gt;     }\r\n&gt; }\r\n&gt; ```\r\n\r\nI wrote this implementation: \r\n\r\n\r\n```\r\npublic class PrettyPrintableTree implements PrintableTree {\r\n\r\n    private static class Node {\r\n        private final int data;\r\n        private Node left = null;\r\n        private Node right = null;\r\n\r\n        public Node(int data) {\r\n            this.data = data;\r\n        }\r\n\r\n        public int getSize() {\r\n            return Integer.toString(data).length();\r\n        }\r\n\r\n    }\r\n\r\n    private Node root = null;\r\n    private StringBuilder mainSB = new StringBuilder();\r\n\r\n    @Override\r\n    public void add(int i) {\r\n        root = add(root, i);\r\n    }\r\n\r\n    private Node add(Node node, int value) {\r\n        if (node == null) {\r\n            return new Node(value);\r\n        } else if (value &lt; node.data) {\r\n            node.left = add(node.left, value);\r\n        } else {\r\n            node.right = add(node.right, value);\r\n        }\r\n        return node;\r\n    }\r\n\r\n    private void printSimple(Node node) {\r\n        if (node != null) {\r\n            printSimple(node.left);\r\n            System.out.println(node.data);\r\n            printSimple(node.right);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public String prettyPrint() {\r\n        printTree(root,0, false);\r\n        System.out.println(mainSB);\r\n        return mainSB.toString();\r\n    }\r\n\r\n    private void printTree(Node node, int space, boolean isRight)\r\n    {\r\n\r\n        if (node == null) return;\r\n\r\n        space += node.getSize() + 1;\r\n        printTree(node.left, space, false);\r\n\r\n        if (node == root) {\r\n            space = space - root.getSize() - 1;\r\n        }\r\n        if (node == root.left) {\r\n            space = root.getSize();\r\n        }\r\n        if (node == root.right) {\r\n            space = root.getSize();\r\n        }\r\n\r\n        mainSB.append(&quot; &quot;.repeat(Math.max(0, space)));\r\n        if (node.right == null &amp;&amp; node.left == null) {\r\n            if (node == root)\r\n                mainSB.append(node.data).append(&quot;\\n&quot;);\r\n            else\r\n                mainSB.append(isRight ? &quot;└&quot; : &quot;┌&quot;).append(node.data).append(&quot;\\n&quot;);\r\n        }\r\n        else if (node.right != null &amp;&amp; node.left != null) {\r\n            if (node == root)\r\n                mainSB.append(node.data).append(&quot;┤&quot;).append(&quot;\\n&quot;);\r\n            else\r\n                mainSB.append(isRight ? &quot;└&quot; : &quot;┌&quot;).append(node.data).append(&quot;┤&quot;).append(&quot;\\n&quot;);\r\n        }\r\n        else if (node.right == null) {\r\n            if (node == root)\r\n                mainSB.append(node.data).append(&quot;┘&quot;).append(&quot;\\n&quot;);\r\n            else\r\n                mainSB.append(isRight ? &quot;└&quot; : &quot;┌&quot;).append(node.data).append(&quot;┘&quot;).append(&quot;\\n&quot;);\r\n        }\r\n        else {\r\n            if (node == root)\r\n                mainSB.append(node.data).append(&quot;┐&quot;).append(&quot;\\n&quot;);\r\n            else\r\n                mainSB.append(isRight ? &quot;└&quot; : &quot;┌&quot;).append(node.data).append(&quot;┐&quot;).append(&quot;\\n&quot;);\r\n        }\r\n\r\n        printTree(node.right, space, true);\r\n\r\n    }\r\n}\r\n```\r\n\r\nBut I have some problems: \r\n\r\nI can&#39;t figure out how to add the &quot;|&quot; character so to connect nodes that are far apart in their vertical distance. There are some problems with the horizontal spacing as well. \r\n\r\nYou can see these problems in the following outputs produced by the above code:\r\n\r\nElements: 123 11 200 1 100 150 2000\r\n\r\n```\r\n         ┌1\r\n   ┌11┤\r\n       └100\r\n123┤\r\n        ┌150\r\n   └200┤\r\n        └2000\r\n```\r\n\r\nelements: 931 39 196 385 388 207 185 955 957 542 904 498 394\r\n\r\n```\r\n   ┌39┐\r\n           ┌185\r\n       └196┤\r\n               ┌207\r\n           └385┤\r\n               └388┐\r\n                           ┌394\r\n                       ┌498┘\r\n                   └542┤\r\n                       └904\r\n931┤\r\n   └955┐\r\n       └957\r\n```\r\n","title":"Pretty Print Binary Tree","body":"<p>I am working on the following code challenge:</p>\n<blockquote>\n<p><code>PrintableTree</code> is a simple Binary Search Tree with no balancing.\nIt may contain int values that are added via the <code>add</code> method.\nThe main challenge is to pretty print the tree via the <code>prettyPrint</code> method. This means that the whole tree should be converted to a String representing its inner structure from the smaller values to the greater ones. Also, you must use box-drawing characters to show node connections.</p>\n<h3>Example:</h3>\n<p>Elements: 123 11 200 1 100 150 2000</p>\n<p>Pretty printed tree:</p>\n<pre><code>      ┌1\n   ┌11┤\n   │  └100\n123┤\n   │   ┌150\n   └200┤\n       └2000\n</code></pre>\n<p>Another example (of not so balanced tree):</p>\n<p>Elements: 931 39 196 385 388 207 185 955 957 542 904 498 394</p>\n<p>Pretty printed tree:</p>\n<pre><code>   ┌39┐\n   │  │   ┌185\n   │  └196┤\n   │      │   ┌207\n   │      └385┤\n   │          └388┐\n   │              │       ┌394\n   │              │   ┌498┘\n   │              └542┤\n   │                  └904\n931┤\n   └955┐\n       └957\n</code></pre>\n<p>Your class should implement this interface</p>\n<pre><code>public interface PrintableTree {\n\n    void add(int i);\n    String prettyPrint();\n\n    static PrintableTree getInstance() {\n        return new PrettyPrintableTree();\n    }\n}\n</code></pre>\n</blockquote>\n<p>I wrote this implementation:</p>\n<pre><code>public class PrettyPrintableTree implements PrintableTree {\n\n    private static class Node {\n        private final int data;\n        private Node left = null;\n        private Node right = null;\n\n        public Node(int data) {\n            this.data = data;\n        }\n\n        public int getSize() {\n            return Integer.toString(data).length();\n        }\n\n    }\n\n    private Node root = null;\n    private StringBuilder mainSB = new StringBuilder();\n\n    @Override\n    public void add(int i) {\n        root = add(root, i);\n    }\n\n    private Node add(Node node, int value) {\n        if (node == null) {\n            return new Node(value);\n        } else if (value &lt; node.data) {\n            node.left = add(node.left, value);\n        } else {\n            node.right = add(node.right, value);\n        }\n        return node;\n    }\n\n    private void printSimple(Node node) {\n        if (node != null) {\n            printSimple(node.left);\n            System.out.println(node.data);\n            printSimple(node.right);\n        }\n    }\n\n    @Override\n    public String prettyPrint() {\n        printTree(root,0, false);\n        System.out.println(mainSB);\n        return mainSB.toString();\n    }\n\n    private void printTree(Node node, int space, boolean isRight)\n    {\n\n        if (node == null) return;\n\n        space += node.getSize() + 1;\n        printTree(node.left, space, false);\n\n        if (node == root) {\n            space = space - root.getSize() - 1;\n        }\n        if (node == root.left) {\n            space = root.getSize();\n        }\n        if (node == root.right) {\n            space = root.getSize();\n        }\n\n        mainSB.append(&quot; &quot;.repeat(Math.max(0, space)));\n        if (node.right == null &amp;&amp; node.left == null) {\n            if (node == root)\n                mainSB.append(node.data).append(&quot;\\n&quot;);\n            else\n                mainSB.append(isRight ? &quot;└&quot; : &quot;┌&quot;).append(node.data).append(&quot;\\n&quot;);\n        }\n        else if (node.right != null &amp;&amp; node.left != null) {\n            if (node == root)\n                mainSB.append(node.data).append(&quot;┤&quot;).append(&quot;\\n&quot;);\n            else\n                mainSB.append(isRight ? &quot;└&quot; : &quot;┌&quot;).append(node.data).append(&quot;┤&quot;).append(&quot;\\n&quot;);\n        }\n        else if (node.right == null) {\n            if (node == root)\n                mainSB.append(node.data).append(&quot;┘&quot;).append(&quot;\\n&quot;);\n            else\n                mainSB.append(isRight ? &quot;└&quot; : &quot;┌&quot;).append(node.data).append(&quot;┘&quot;).append(&quot;\\n&quot;);\n        }\n        else {\n            if (node == root)\n                mainSB.append(node.data).append(&quot;┐&quot;).append(&quot;\\n&quot;);\n            else\n                mainSB.append(isRight ? &quot;└&quot; : &quot;┌&quot;).append(node.data).append(&quot;┐&quot;).append(&quot;\\n&quot;);\n        }\n\n        printTree(node.right, space, true);\n\n    }\n}\n</code></pre>\n<p>But I have some problems:</p>\n<p>I can't figure out how to add the &quot;|&quot; character so to connect nodes that are far apart in their vertical distance. There are some problems with the horizontal spacing as well.</p>\n<p>You can see these problems in the following outputs produced by the above code:</p>\n<p>Elements: 123 11 200 1 100 150 2000</p>\n<pre><code>         ┌1\n   ┌11┤\n       └100\n123┤\n        ┌150\n   └200┤\n        └2000\n</code></pre>\n<p>elements: 931 39 196 385 388 207 185 955 957 542 904 498 394</p>\n<pre><code>   ┌39┐\n           ┌185\n       └196┤\n               ┌207\n           └385┤\n               └388┐\n                           ┌394\n                       ┌498┘\n                   └542┤\n                       └904\n931┤\n   └955┐\n       └957\n</code></pre>\n"},{"tags":["java","spring","postgresql","hibernate"],"comments":[{"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"score":0,"creation_date":1678331404,"post_id":75679797,"comment_id":133513188,"body_markdown":"It would be really nice if you could read the [formatting guide](https://stackoverflow.com/editing-help) and then fix your use of a single backtick, new line, triple backticks around code blocks. Code blocks are triple backtick, new line, lines of code, new line, triple backtick. No single backticks involved. Thanks.","body":"It would be really nice if you could read the <a href=\"https://stackoverflow.com/editing-help\">formatting guide</a> and then fix your use of a single backtick, new line, triple backticks around code blocks. Code blocks are triple backtick, new line, lines of code, new line, triple backtick. No single backticks involved. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":11624440,"reputation":21,"user_id":8514653,"display_name":"Dean Pinlac"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678329201,"creation_date":1678329201,"answer_id":75679945,"question_id":75679797,"body_markdown":"I created a snippet to replicate how you used the ENUM and it worked.\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Testing enum!&quot;);\r\n\r\n        String input = &quot;ADMIN&quot;;\r\n        Role parsedRole = Role.valueOf(input.toUpperCase().trim());\r\n        System.out.println(parsedRole.getRoleText());\r\n    }\r\n\r\nHere is my output.\r\n\r\n&gt; Testing enum!\r\n\r\n&gt; admin\r\n\r\nMy guess is that the &quot;Role&quot; you imported in your Controller is different from the ENUM &quot;Role&quot; you created. Check if the Role you have is imported from other packages.","title":"please help me fix No enum constant","body":"<p>I created a snippet to replicate how you used the ENUM and it worked.</p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(&quot;Testing enum!&quot;);\n\n    String input = &quot;ADMIN&quot;;\n    Role parsedRole = Role.valueOf(input.toUpperCase().trim());\n    System.out.println(parsedRole.getRoleText());\n}\n</code></pre>\n<p>Here is my output.</p>\n<blockquote>\n<p>Testing enum!</p>\n</blockquote>\n<blockquote>\n<p>admin</p>\n</blockquote>\n<p>My guess is that the &quot;Role&quot; you imported in your Controller is different from the ENUM &quot;Role&quot; you created. Check if the Role you have is imported from other packages.</p>\n"}],"owner":{"account_id":25255496,"reputation":1,"user_id":19087288,"display_name":"merxi beaucoup"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":317,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678393582,"creation_date":1678327219,"question_id":75679797,"body_markdown":"**Enum class**\r\n\r\n```java\r\n@Getter\r\npublic enum Role {\r\n\tUSER(&quot;user&quot;), ADMIN(&quot;admin&quot;);\r\n\r\n\tString roleText;\r\n\r\n\tRole(String roleText) {\r\n\t\tthis.roleText = roleText;\r\n\t}\r\n\r\n\tpublic String getRoleText() {\r\n\t\treturn this.roleText;\r\n\t}\r\n\r\n\r\n}\r\n````\r\n\r\n**Query to update DB**\r\n\r\n```java\r\n@Transactional\r\n@Modifying(clearAutomatically = true)\r\n@Query(&quot;update User user set user.role = :userRole where user.id = :id&quot;)\r\nvoid assignRole(@Param(&quot;id&quot;) long id, @Param(&quot;userRole&quot;) Role userRole);\r\n```\r\n\r\n\r\n**Service for query**\r\n\r\n```java\r\npublic void assignRole(long id, Role role) throws Exception {\r\n\r\n\t\tif (isExists(id)) {\r\n\r\n\t\t\tUser user = repository.findById(id)\r\n\t\t\t\t\t.orElseThrow(() -&gt; new UserDoesntExistException(&quot;user doesnt exist id ::&quot; + id));\r\n\r\n\t\t\tif (user.getRole() == Role.ADMIN) {\r\n\t\t\t\tthrow new UserIsAdminException(&quot; user is an admin , their roles cant be changed&quot;);\r\n\t\t\t}\t\t\t\r\n\t\t\trepository.assignRole(id, role);\r\n\t\t}\r\n\r\n\t\telse\r\n\t\t\tthrow new  UserDoesntExistException(&quot;user doesnt exist id ::&quot; + id);\r\n\t}\r\n```\r\n\r\n\r\n**Controller for service**\r\n\r\n/** Admin can assign roles to other users **/\r\n\t\r\n```java\r\n@PostMapping(path = &quot;/user/{id}/role&quot;)\r\n\tpublic ResponseEntity&lt;?&gt; updateUserRole(@PathVariable Long id, @RequestBody String role) {\r\n\r\n\t\ttry {\r\n\r\n\t\t\tRole parsedRole = Role.valueOf(role.toUpperCase().trim());\r\n\t\t\tuserService.assignRole(id, parsedRole);\t\t\t\r\n\t\t\tSystem.out.println(parsedRole);\r\n\r\n\t\t\treturn new ResponseEntity&lt;&gt;(parsedRole,HttpStatus.ACCEPTED);\r\n\t\t} catch (Exception e) {\r\n\t\t\treturn new ResponseEntity&lt;&gt;(e.getMessage().toString(), HttpStatus.BAD_REQUEST);\r\n\t\t}\r\n\r\n\t}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\ntried to assign new roles to users ... only admin can do that assignment\r\n\r\nI updated a user role to admin to do request my self in the terminal ... which works because the other admin only requests work except for updating user role enums \r\n\r\n**Postman Requests**\r\n\r\ntried --&gt; &quot;ADMIN&quot;\r\ntried ---&gt; {\r\n   &quot;role&quot;: &quot;ADMIN&quot;\r\n}\r\n\r\nboth give ---&gt;. No enum constant com.edd.bookrental.models.user.Role.&quot;ADMIN&quot;\r\n","title":"please help me fix No enum constant","body":"<p><strong>Enum class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\npublic enum Role {\n    USER(&quot;user&quot;), ADMIN(&quot;admin&quot;);\n\n    String roleText;\n\n    Role(String roleText) {\n        this.roleText = roleText;\n    }\n\n    public String getRoleText() {\n        return this.roleText;\n    }\n\n\n}\n</code></pre>\n<p><strong>Query to update DB</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional\n@Modifying(clearAutomatically = true)\n@Query(&quot;update User user set user.role = :userRole where user.id = :id&quot;)\nvoid assignRole(@Param(&quot;id&quot;) long id, @Param(&quot;userRole&quot;) Role userRole);\n</code></pre>\n<p><strong>Service for query</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public void assignRole(long id, Role role) throws Exception {\n\n        if (isExists(id)) {\n\n            User user = repository.findById(id)\n                    .orElseThrow(() -&gt; new UserDoesntExistException(&quot;user doesnt exist id ::&quot; + id));\n\n            if (user.getRole() == Role.ADMIN) {\n                throw new UserIsAdminException(&quot; user is an admin , their roles cant be changed&quot;);\n            }           \n            repository.assignRole(id, role);\n        }\n\n        else\n            throw new  UserDoesntExistException(&quot;user doesnt exist id ::&quot; + id);\n    }\n</code></pre>\n<p><strong>Controller for service</strong></p>\n<p>/** Admin can assign roles to other users **/</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(path = &quot;/user/{id}/role&quot;)\n    public ResponseEntity&lt;?&gt; updateUserRole(@PathVariable Long id, @RequestBody String role) {\n\n        try {\n\n            Role parsedRole = Role.valueOf(role.toUpperCase().trim());\n            userService.assignRole(id, parsedRole);         \n            System.out.println(parsedRole);\n\n            return new ResponseEntity&lt;&gt;(parsedRole,HttpStatus.ACCEPTED);\n        } catch (Exception e) {\n            return new ResponseEntity&lt;&gt;(e.getMessage().toString(), HttpStatus.BAD_REQUEST);\n        }\n\n    }\n\n</code></pre>\n<p>tried to assign new roles to users ... only admin can do that assignment</p>\n<p>I updated a user role to admin to do request my self in the terminal ... which works because the other admin only requests work except for updating user role enums</p>\n<p><strong>Postman Requests</strong></p>\n<p>tried --&gt; &quot;ADMIN&quot;\ntried ---&gt; {\n&quot;role&quot;: &quot;ADMIN&quot;\n}</p>\n<p>both give ---&gt;. No enum constant com.edd.bookrental.models.user.Role.&quot;ADMIN&quot;</p>\n"},{"tags":["java","json","spring","spring-boot","amazon-sqs"],"answers":[{"comments":[{"owner":{"account_id":9111071,"reputation":175,"user_id":6779807,"display_name":"riteshmaurya"},"score":0,"creation_date":1698727153,"post_id":65188949,"comment_id":136438711,"body_markdown":"I have similar scenario and doesnt work for me. exceptionHandler never gets executed.\n\n MessageExceptionHandler({ConstraintViolationException.class, MessageConversionException.class})\n  public void handleRuntimeException(RuntimeException ex) {\n    log.error(&quot;Error receiving sqs message:{}&quot;, ex.getMessage());\n    throw ex;\n  }\n\nSqsListener(&quot;${sqs.queue}&quot;)\n  public void onMessage(Valid Payload PayloadClass payload,\n                        Headers Map&lt;String, String&gt; headersMap) {\n\nspringboot version: 3.1.1\nspring cloud :3.0.1","body":"I have similar scenario and doesnt work for me. exceptionHandler never gets executed.   MessageExceptionHandler({ConstraintViolationException.class, MessageConversionException.class})   public void handleRuntimeException(RuntimeException ex) {     log.error(&quot;Error receiving sqs message:{}&quot;, ex.getMessage());     throw ex;   }  SqsListener(&quot;${sqs.queue}&quot;)   public void onMessage(Valid Payload PayloadClass payload,                         Headers Map&lt;String, String&gt; headersMap) {  springboot version: 3.1.1 spring cloud :3.0.1"}],"tags":[],"owner":{"account_id":5514370,"reputation":109,"user_id":4379668,"display_name":"Bernardo Rivas"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1607373186,"creation_date":1607373186,"answer_id":65188949,"question_id":65187542,"body_markdown":"Nevermind, seems like all I need to do is add a @MessageExceptionHandler annotation to my custom handler:\r\n\r\n```\r\n  @MessageExceptionHandler(MessageConversionException.class)\r\n  public void exceptionHandler(MessageConversionException e) {\r\n    LOG.info(&quot;Failed to deserialize that pollo&quot;, e);\r\n  }\r\n\r\n```","title":"Is there a way to add a ErrorHandler or ExceptionHandler to SqsListener?","body":"<p>Nevermind, seems like all I need to do is add a @MessageExceptionHandler annotation to my custom handler:</p>\n<pre><code>  @MessageExceptionHandler(MessageConversionException.class)\n  public void exceptionHandler(MessageConversionException e) {\n    LOG.info(&quot;Failed to deserialize that pollo&quot;, e);\n  }\n\n</code></pre>\n"}],"owner":{"account_id":5514370,"reputation":109,"user_id":4379668,"display_name":"Bernardo Rivas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3102,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":65188949,"answer_count":1,"score":4,"last_activity_date":1678393395,"creation_date":1607366564,"question_id":65187542,"body_markdown":"I have an SqsListener using a custom QueueMessageHandlerFactory with a message converter to go from JSON to POJO and back. If for whatever reason the listener method can&#39;t parse the JSON body in a message, it will throw a org.springframework.messaging.converter.MessageConversionException. I want to catch this exception and log it properly. I know that JMS listeners allow you to add a custom ErrorHandler as part of the Factory definition. \r\n\r\nIs there a similar way to define a custom ErrorHandler to catch this exception using Spring&#39;s SqsListener and log it?\r\n\r\nThanks!\r\n\r\n```\r\n  @Bean\r\n  public QueueMessageHandlerFactory queueMessageHandlerFactory(MessageConverter messageConverter) {\r\n    QueueMessageHandlerFactory factory = new QueueMessageHandlerFactory();\r\n    AcknowledgmentHandlerMethodArgumentResolver acknowledgmentResolver =\r\n        new AcknowledgmentHandlerMethodArgumentResolver(\r\n            ACKNOWLEDGMENT_HEADER_NAME);\r\n    PayloadArgumentResolver payloadArgumentResolver = new PayloadArgumentResolver(messageConverter);\r\n    factory.setArgumentResolvers(Arrays.asList(acknowledgmentResolver, payloadArgumentResolver));\r\n    return factory;\r\n  }\r\n\r\n  @Bean\r\n  protected MessageConverter messageConverter(ObjectMapper objectMapper) {\r\n    MappingJackson2MessageConverter converter = new MappingJackson2MessageConverter();\r\n    converter.setObjectMapper(objectMapper);\r\n    converter.setStrictContentTypeMatch(false);\r\n    return converter;\r\n  }\r\n\r\n```\r\n\r\nListener:\r\n\r\n```\r\n\r\n @SqsListener(value = &quot;${aws.sqs.queueName}&quot;, deletionPolicy = SqsMessageDeletionPolicy.NEVER)\r\n  public void receiveMessage(MyCustomPOJO pollo, Acknowledgment acknowledgment) {\r\n    LOG.info(&quot;Message Received using SQS Listener &quot; + pollo);\r\n    try {\r\n      acknowledgment.acknowledge().get();\r\n    } catch (InterruptedException | ExecutionException e) {\r\n      LOG.error(&quot;Error acknowledging message: &quot; + pollo);\r\n    }\r\n  }\r\n\r\n```\r\n\r\nException triggered by sending &quot;Test Message&quot; instead of a deserialized POJO.\r\n\r\n```\r\norg.springframework.messaging.converter.MessageConversionException: Could not read JSON: Unrecognized token &#39;Test&#39;: was expecting (&#39;true&#39;, &#39;false&#39; or &#39;null&#39;)\r\n at [Source: Test Message!; line: 1, column: 5]; nested exception is com.fasterxml.jackson.core.JsonParseException: Unrecognized token &#39;Test&#39;: was expecting (&#39;true&#39;, &#39;false&#39; or &#39;null&#39;)\r\n at [Source: Test Message!; line: 1, column: 5]\r\n\tat org.springframework.messaging.converter.MappingJackson2MessageConverter.convertFromInternal(MappingJackson2MessageConverter.java:224) ~[spring-messaging-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n\tat org.springframework.messaging.converter.AbstractMessageConverter.fromMessage(AbstractMessageConverter.java:175) ~[spring-messaging-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n\tat org.springframework.messaging.handler.annotation.support.PayloadArgumentResolver.resolveArgument(PayloadArgumentResolver.java:135) ~[spring-messaging-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n\tat org.springframework.messaging.handler.invocation.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:112) ~[spring-messaging-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:135) ~[spring-messaging-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:107) ~[spring-messaging-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n\tat org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:502) [spring-messaging-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n\tat org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessageInternal(AbstractMethodMessageHandler.java:461) [spring-messaging-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n\tat org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:399) [spring-messaging-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n\tat org.springframework.cloud.aws.messaging.listener.SimpleMessageListenerContainer.executeMessage(SimpleMessageListenerContainer.java:228) [spring-cloud-aws-messaging-2.2.4.RELEASE.jar:2.2.4.RELEASE]\r\n\tat org.springframework.cloud.aws.messaging.listener.SimpleMessageListenerContainer$MessageExecutor.run(SimpleMessageListenerContainer.java:418) [spring-cloud-aws-messaging-2.2.4.RELEASE.jar:2.2.4.RELEASE]\r\n\tat org.springframework.cloud.aws.messaging.listener.SimpleMessageListenerContainer$SignalExecutingRunnable.run(SimpleMessageListenerContainer.java:310) [spring-cloud-aws-messaging-2.2.4.RELEASE.jar:2.2.4.RELEASE]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_251]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_251]\r\n\tat java.lang.Thread.run(Thread.java:748) [?:1.8.0_251]\r\nCaused by: com.fasterxml.jackson.core.JsonParseException: Unrecognized token &#39;Test&#39;: was expecting (&#39;true&#39;, &#39;false&#39; or &#39;null&#39;)\r\n at [Source: Test Message!; line: 1, column: 5]\r\n\tat com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:1702) ~[jackson-core-2.8.7.jar:2.8.7]\r\n\tat com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:558) ~[jackson-core-2.8.7.jar:2.8.7]\r\n\tat com.fasterxml.jackson.core.json.ReaderBasedJsonParser._reportInvalidToken(ReaderBasedJsonParser.java:2839) ~[jackson-core-2.8.7.jar:2.8.7]\r\n\tat com.fasterxml.jackson.core.json.ReaderBasedJsonParser._handleOddValue(ReaderBasedJsonParser.java:1903) ~[jackson-core-2.8.7.jar:2.8.7]\r\n\tat com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextToken(ReaderBasedJsonParser.java:749) ~[jackson-core-2.8.7.jar:2.8.7]\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._initForReading(ObjectMapper.java:3834) ~[jackson-databind-2.8.7.jar:2.8.7]\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:3783) ~[jackson-databind-2.8.7.jar:2.8.7]\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2880) ~[jackson-databind-2.8.7.jar:2.8.7]\r\n\tat org.springframework.messaging.converter.MappingJackson2MessageConverter.convertFromInternal(MappingJackson2MessageConverter.java:219) ~[spring-messaging-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n\t... 14 more\r\n```\r\n\r\n","title":"Is there a way to add a ErrorHandler or ExceptionHandler to SqsListener?","body":"<p>I have an SqsListener using a custom QueueMessageHandlerFactory with a message converter to go from JSON to POJO and back. If for whatever reason the listener method can't parse the JSON body in a message, it will throw a org.springframework.messaging.converter.MessageConversionException. I want to catch this exception and log it properly. I know that JMS listeners allow you to add a custom ErrorHandler as part of the Factory definition.</p>\n<p>Is there a similar way to define a custom ErrorHandler to catch this exception using Spring's SqsListener and log it?</p>\n<p>Thanks!</p>\n<pre><code>  @Bean\n  public QueueMessageHandlerFactory queueMessageHandlerFactory(MessageConverter messageConverter) {\n    QueueMessageHandlerFactory factory = new QueueMessageHandlerFactory();\n    AcknowledgmentHandlerMethodArgumentResolver acknowledgmentResolver =\n        new AcknowledgmentHandlerMethodArgumentResolver(\n            ACKNOWLEDGMENT_HEADER_NAME);\n    PayloadArgumentResolver payloadArgumentResolver = new PayloadArgumentResolver(messageConverter);\n    factory.setArgumentResolvers(Arrays.asList(acknowledgmentResolver, payloadArgumentResolver));\n    return factory;\n  }\n\n  @Bean\n  protected MessageConverter messageConverter(ObjectMapper objectMapper) {\n    MappingJackson2MessageConverter converter = new MappingJackson2MessageConverter();\n    converter.setObjectMapper(objectMapper);\n    converter.setStrictContentTypeMatch(false);\n    return converter;\n  }\n\n</code></pre>\n<p>Listener:</p>\n<pre><code>\n @SqsListener(value = &quot;${aws.sqs.queueName}&quot;, deletionPolicy = SqsMessageDeletionPolicy.NEVER)\n  public void receiveMessage(MyCustomPOJO pollo, Acknowledgment acknowledgment) {\n    LOG.info(&quot;Message Received using SQS Listener &quot; + pollo);\n    try {\n      acknowledgment.acknowledge().get();\n    } catch (InterruptedException | ExecutionException e) {\n      LOG.error(&quot;Error acknowledging message: &quot; + pollo);\n    }\n  }\n\n</code></pre>\n<p>Exception triggered by sending &quot;Test Message&quot; instead of a deserialized POJO.</p>\n<pre><code>org.springframework.messaging.converter.MessageConversionException: Could not read JSON: Unrecognized token 'Test': was expecting ('true', 'false' or 'null')\n at [Source: Test Message!; line: 1, column: 5]; nested exception is com.fasterxml.jackson.core.JsonParseException: Unrecognized token 'Test': was expecting ('true', 'false' or 'null')\n at [Source: Test Message!; line: 1, column: 5]\n    at org.springframework.messaging.converter.MappingJackson2MessageConverter.convertFromInternal(MappingJackson2MessageConverter.java:224) ~[spring-messaging-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.messaging.converter.AbstractMessageConverter.fromMessage(AbstractMessageConverter.java:175) ~[spring-messaging-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.messaging.handler.annotation.support.PayloadArgumentResolver.resolveArgument(PayloadArgumentResolver.java:135) ~[spring-messaging-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.messaging.handler.invocation.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:112) ~[spring-messaging-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:135) ~[spring-messaging-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:107) ~[spring-messaging-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:502) [spring-messaging-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessageInternal(AbstractMethodMessageHandler.java:461) [spring-messaging-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:399) [spring-messaging-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.cloud.aws.messaging.listener.SimpleMessageListenerContainer.executeMessage(SimpleMessageListenerContainer.java:228) [spring-cloud-aws-messaging-2.2.4.RELEASE.jar:2.2.4.RELEASE]\n    at org.springframework.cloud.aws.messaging.listener.SimpleMessageListenerContainer$MessageExecutor.run(SimpleMessageListenerContainer.java:418) [spring-cloud-aws-messaging-2.2.4.RELEASE.jar:2.2.4.RELEASE]\n    at org.springframework.cloud.aws.messaging.listener.SimpleMessageListenerContainer$SignalExecutingRunnable.run(SimpleMessageListenerContainer.java:310) [spring-cloud-aws-messaging-2.2.4.RELEASE.jar:2.2.4.RELEASE]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_251]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_251]\n    at java.lang.Thread.run(Thread.java:748) [?:1.8.0_251]\nCaused by: com.fasterxml.jackson.core.JsonParseException: Unrecognized token 'Test': was expecting ('true', 'false' or 'null')\n at [Source: Test Message!; line: 1, column: 5]\n    at com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:1702) ~[jackson-core-2.8.7.jar:2.8.7]\n    at com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:558) ~[jackson-core-2.8.7.jar:2.8.7]\n    at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._reportInvalidToken(ReaderBasedJsonParser.java:2839) ~[jackson-core-2.8.7.jar:2.8.7]\n    at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._handleOddValue(ReaderBasedJsonParser.java:1903) ~[jackson-core-2.8.7.jar:2.8.7]\n    at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextToken(ReaderBasedJsonParser.java:749) ~[jackson-core-2.8.7.jar:2.8.7]\n    at com.fasterxml.jackson.databind.ObjectMapper._initForReading(ObjectMapper.java:3834) ~[jackson-databind-2.8.7.jar:2.8.7]\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:3783) ~[jackson-databind-2.8.7.jar:2.8.7]\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2880) ~[jackson-databind-2.8.7.jar:2.8.7]\n    at org.springframework.messaging.converter.MappingJackson2MessageConverter.convertFromInternal(MappingJackson2MessageConverter.java:219) ~[spring-messaging-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    ... 14 more\n</code></pre>\n"},{"tags":["java","onedrive","microsoft-graph-sdks"],"answers":[{"tags":[],"owner":{"account_id":367805,"reputation":143,"user_id":714212,"display_name":"rread"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678393027,"creation_date":1678393027,"answer_id":75689627,"question_id":75686495,"body_markdown":"I was able to create it, here is the method\r\n\r\n\tpublic String createShortCut(String fileUrl,String fileName, String destinationPath) {\r\n\t\ttry {\r\n\t\t\tlong timeStart = System.currentTimeMillis();\r\n\t\t\tGraphServiceClient graphClient = GraphServiceClient.builder().authenticationProvider(authTokenProvider).buildClient();\r\n\r\n\t\t\tDriveRequestBuilder driverReq = graphClient.sites(SharePointCopierConfig.SITE_ID).drive();\r\n\t\t\tDriveItemRequestBuilder driverRootReq = driverReq.root();\r\n\r\n\t\t\tDriveItemRequestBuilder destination = driverRootReq.itemWithPath(destinationPath);\r\n\r\n\t\t\tItemReference destinationReference = new ItemReference();\r\n\t\t\tdestinationReference.driveId = driverReq.buildRequest().get().id;\r\n\t\t\tdestinationReference.id = destination.buildRequest().get().id;\r\n\r\n\t\t\tDriveItem newItem = new DriveItem();\r\n\t\t\tnewItem.name = fileName.replaceFirst(&quot;[.][^.]+$&quot;, &quot;&quot;) + &quot;.url&quot;;\r\n\t\t\tnewItem.file = new com.microsoft.graph.models.File();\r\n\t\t\tnewItem.file.mimeType = &quot;text/plain&quot;;\r\n\r\n\t\t\tString urlContent = &quot;[InternetShortcut]\\nURL=&quot; + fileUrl;\r\n\t\t\tbyte[] stream = urlContent.getBytes();\r\n\r\n\t\t\tDriveItem createdDriveItem = destination.children().buildRequest().post(newItem);\r\n\r\n\t\t\tdriverReq.items(createdDriveItem.id)\r\n\t\t\t\t\t.content()\r\n\t\t\t\t\t.buildRequest()\r\n\t\t\t\t\t.put(stream);\r\n\r\n\t\t\tlong timeEnd = System.currentTimeMillis();\r\n\r\n\t\t\tlong timeSeconds = (timeEnd-timeStart);\r\n\t\t\treturn fileName + &quot; Shortcut Created Successful in &quot;+timeSeconds+&quot; ms&quot;;\r\n\r\n\t\t}catch (GraphServiceException exception) {\r\n\t\t\tlogger.error(exception.getServiceError().code + &quot; &quot; + exception.getMessage());\r\n\t\t\treturn &quot;Error Creating url &quot; + exception.getMessage();\r\n\t\t}\r\n\t}\r\n","title":"Creating internetShortcut in oneDrive with MicrosoftGraph","body":"<p>I was able to create it, here is the method</p>\n<pre><code>public String createShortCut(String fileUrl,String fileName, String destinationPath) {\n    try {\n        long timeStart = System.currentTimeMillis();\n        GraphServiceClient graphClient = GraphServiceClient.builder().authenticationProvider(authTokenProvider).buildClient();\n\n        DriveRequestBuilder driverReq = graphClient.sites(SharePointCopierConfig.SITE_ID).drive();\n        DriveItemRequestBuilder driverRootReq = driverReq.root();\n\n        DriveItemRequestBuilder destination = driverRootReq.itemWithPath(destinationPath);\n\n        ItemReference destinationReference = new ItemReference();\n        destinationReference.driveId = driverReq.buildRequest().get().id;\n        destinationReference.id = destination.buildRequest().get().id;\n\n        DriveItem newItem = new DriveItem();\n        newItem.name = fileName.replaceFirst(&quot;[.][^.]+$&quot;, &quot;&quot;) + &quot;.url&quot;;\n        newItem.file = new com.microsoft.graph.models.File();\n        newItem.file.mimeType = &quot;text/plain&quot;;\n\n        String urlContent = &quot;[InternetShortcut]\\nURL=&quot; + fileUrl;\n        byte[] stream = urlContent.getBytes();\n\n        DriveItem createdDriveItem = destination.children().buildRequest().post(newItem);\n\n        driverReq.items(createdDriveItem.id)\n                .content()\n                .buildRequest()\n                .put(stream);\n\n        long timeEnd = System.currentTimeMillis();\n\n        long timeSeconds = (timeEnd-timeStart);\n        return fileName + &quot; Shortcut Created Successful in &quot;+timeSeconds+&quot; ms&quot;;\n\n    }catch (GraphServiceException exception) {\n        logger.error(exception.getServiceError().code + &quot; &quot; + exception.getMessage());\n        return &quot;Error Creating url &quot; + exception.getMessage();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":367805,"reputation":143,"user_id":714212,"display_name":"rread"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678393027,"creation_date":1678374678,"question_id":75686495,"body_markdown":"I am trying to create a internetshortcut in a onedrive folder using microsoft graph, and my code does not seem to be working.\r\n\r\nI can create the item, but i am not able to add the content to the item\r\n\r\n    \tprivate static void createShortCut(String fileUrl,String fileName, String destinationPath){\r\n\t\tGraphServiceClient graphClient = GraphServiceClient.builder().authenticationProvider(authTokenProvider).buildClient();\r\n\r\n\t\tDriveRequestBuilder driverReq = graphClient.sites(SharePointCopierConfig.SITE_ID).drive();\r\n\t\tDriveItemRequestBuilder driverRootReq = driverReq.root();\r\n\r\n\t\tDriveItemRequestBuilder destination = driverRootReq.itemWithPath(destinationPath);\r\n\r\n\t\tItemReference destinationReference = new ItemReference();\r\n\t\tdestinationReference.driveId = driverReq.buildRequest().get().id;\r\n\t\tdestinationReference.id = destination.buildRequest().get().id;\r\n\r\n\t\tString contents = &quot;[InternetShortcut]\\nURL=&quot; + fileUrl;\r\n\t\tbyte[] bytes = contents.getBytes();\r\n\r\n\t\t//ByteArrayInputStream stream = new ByteArrayInputStream(bytes);\r\n\r\n\t\tDriveItem newItem = new DriveItem();\r\n\t\tnewItem.name = fileName+&quot;.url&quot;;\r\n\t\tnewItem.file = new File();\r\n\t\tnewItem.file.mimeType = &quot;text/plain&quot;;\r\n\r\n\t\tgraphClient.drives(destinationReference.driveId)\r\n\t\t\t\t.items(destinationReference.id)\r\n\t\t\t\t.children()\r\n\t\t\t\t.buildRequest()\r\n\t\t\t\t.post(newItem);\r\n\r\n\t\tgraphClient.me().drive().items(newItem.id).content().buildRequest().put(bytes);\r\n\r\n\t}\r\n\r\nIf anyone can help me find out where i am failing or has a better way i would appreciate it.","title":"Creating internetShortcut in oneDrive with MicrosoftGraph","body":"<p>I am trying to create a internetshortcut in a onedrive folder using microsoft graph, and my code does not seem to be working.</p>\n<p>I can create the item, but i am not able to add the content to the item</p>\n<pre><code>    private static void createShortCut(String fileUrl,String fileName, String destinationPath){\n    GraphServiceClient graphClient = GraphServiceClient.builder().authenticationProvider(authTokenProvider).buildClient();\n\n    DriveRequestBuilder driverReq = graphClient.sites(SharePointCopierConfig.SITE_ID).drive();\n    DriveItemRequestBuilder driverRootReq = driverReq.root();\n\n    DriveItemRequestBuilder destination = driverRootReq.itemWithPath(destinationPath);\n\n    ItemReference destinationReference = new ItemReference();\n    destinationReference.driveId = driverReq.buildRequest().get().id;\n    destinationReference.id = destination.buildRequest().get().id;\n\n    String contents = &quot;[InternetShortcut]\\nURL=&quot; + fileUrl;\n    byte[] bytes = contents.getBytes();\n\n    //ByteArrayInputStream stream = new ByteArrayInputStream(bytes);\n\n    DriveItem newItem = new DriveItem();\n    newItem.name = fileName+&quot;.url&quot;;\n    newItem.file = new File();\n    newItem.file.mimeType = &quot;text/plain&quot;;\n\n    graphClient.drives(destinationReference.driveId)\n            .items(destinationReference.id)\n            .children()\n            .buildRequest()\n            .post(newItem);\n\n    graphClient.me().drive().items(newItem.id).content().buildRequest().put(bytes);\n\n}\n</code></pre>\n<p>If anyone can help me find out where i am failing or has a better way i would appreciate it.</p>\n"},{"tags":["java","maven","heroku","jar","or-tools"],"owner":{"account_id":20673767,"reputation":95,"user_id":15178887,"display_name":"Matt102065"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678392853,"creation_date":1678160724,"question_id":75657871,"body_markdown":"I am trying to use the jar file for google OR tools as a dependency in order for it to run on heroku, because on heroku I get this error\r\n\r\n    \r\n     $ ./mvnw -DskipTests clean dependency:list install\r\n       [INFO] Scanning for projects...\r\n       [WARNING] The POM for org.apache.maven.plugins:ortools-java:jar:9.5.2237 is missing, no dependency information available\r\n       [WARNING] Failed to retrieve plugin descriptor for org.apache.maven.plugins:ortools-java:9.5.2237: Plugin org.apache.maven.plugins:ortools-java:9.5.2237 or one of its dependencies could not be resolved: org.apache.maven.plugins:ortools-java:jar:9.5.2237 was not found in https://repo.maven.apache.org/maven2 during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced\r\n       [INFO] \r\n       [INFO] -------------------------&lt; com.grdfs:backend &gt;--------------------------\r\n       [INFO] Building backend 0.0.1-SNAPSHOT\r\n       [INFO] --------------------------------[ jar ]---------------------------------\r\n       [WARNING] The POM for org.apache.maven.plugins:ortools-java:jar:9.5.2237 is missing, no dependency information available\r\n       [WARNING] Failed to retrieve plugin descriptor for org.apache.maven.plugins:ortools-java:9.5.2237: Plugin org.apache.maven.plugins:ortools-java:9.5.2237 or one of its dependencies could not be resolved: org.apache.maven.plugins:ortools-java:jar:9.5.2237 was not found in https://repo.maven.apache.org/maven2 during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced\r\n       [INFO] \r\n       [INFO] --- maven-clean-plugin:3.2.0:clean (default-clean) @ backend ---\r\n       [INFO] \r\n       [INFO] --- maven-dependency-plugin:3.3.0:list (default-cli) @ backend ---\r\n       [INFO] Can&#39;t extract module name from ortools-linux-x86-64-9.5.2237.jar: ortools.linux.x86.64: Invalid module name: &#39;64&#39; is not a Java identifier\r\n       [INFO] Can&#39;t extract module name from ortools-darwin-x86-64-9.5.2237.jar: ortools.darwin.x86.64: Invalid module name: &#39;64&#39; is not a Java identifier\r\n       [INFO] Can&#39;t extract module name from ortools-win32-x86-64-9.5.2237.jar: ortools.win32.x86.64: Invalid module name: &#39;64&#39; is not a Java identifier\r\n\r\nI decided the solution would be solved using this process :\r\nhttps://devcenter.heroku.com/articles/local-maven-dependencies\r\n\r\nI followed it step by step and yet the local maven dependency isnt showing up when I try to import it\r\n[![Broken import][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7XAS7.png\r\n\r\nThis is whats in the pom.xml\r\n\r\n     &lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;ortools&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t\r\n\t&lt;repositories&gt;\r\n\t\t&lt;!--other repositories if any--&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;project.local&lt;/id&gt;\r\n\t\t\t&lt;name&gt;project&lt;/name&gt;\r\n\t\t\t&lt;url&gt;file:${project.basedir}/repo&lt;/url&gt;\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/repositories&gt;\r\n\r\n\r\nI added another change in order to try to draw the .dylib file directly but that still didnt work, I replaced\r\n\r\n    Loader.loadNativeLibraries();\r\n\r\nfor the ortools with \r\n\r\n    String filePath = new File(&quot;&quot;).getAbsolutePath();\r\n            filePath = new File(filePath+&quot;/ortools/ortools-darwin-x86-64/libjniortools.dylib&quot;).getAbsolutePath();\r\n            System.load(filePath);\r\n\r\nAnd while this works locally, I get this error on heroku\r\n\r\n    java.lang.UnsatisfiedLinkError: /app/ortools/ortools-darwin-x86-64/libjniortools.dylib: /app/ortools/ortools-darwin-x86-64/libjniortools.dylib: invalid ELF header\r\n\r\n\r\nI still have yet to find a different solution to get OR-tools onto heroku\r\n","title":"Maven deployment onto heroku issue for ORtools + Import for local maven dependency not appearing","body":"<p>I am trying to use the jar file for google OR tools as a dependency in order for it to run on heroku, because on heroku I get this error</p>\n<pre><code> $ ./mvnw -DskipTests clean dependency:list install\n   [INFO] Scanning for projects...\n   [WARNING] The POM for org.apache.maven.plugins:ortools-java:jar:9.5.2237 is missing, no dependency information available\n   [WARNING] Failed to retrieve plugin descriptor for org.apache.maven.plugins:ortools-java:9.5.2237: Plugin org.apache.maven.plugins:ortools-java:9.5.2237 or one of its dependencies could not be resolved: org.apache.maven.plugins:ortools-java:jar:9.5.2237 was not found in https://repo.maven.apache.org/maven2 during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced\n   [INFO] \n   [INFO] -------------------------&lt; com.grdfs:backend &gt;--------------------------\n   [INFO] Building backend 0.0.1-SNAPSHOT\n   [INFO] --------------------------------[ jar ]---------------------------------\n   [WARNING] The POM for org.apache.maven.plugins:ortools-java:jar:9.5.2237 is missing, no dependency information available\n   [WARNING] Failed to retrieve plugin descriptor for org.apache.maven.plugins:ortools-java:9.5.2237: Plugin org.apache.maven.plugins:ortools-java:9.5.2237 or one of its dependencies could not be resolved: org.apache.maven.plugins:ortools-java:jar:9.5.2237 was not found in https://repo.maven.apache.org/maven2 during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced\n   [INFO] \n   [INFO] --- maven-clean-plugin:3.2.0:clean (default-clean) @ backend ---\n   [INFO] \n   [INFO] --- maven-dependency-plugin:3.3.0:list (default-cli) @ backend ---\n   [INFO] Can't extract module name from ortools-linux-x86-64-9.5.2237.jar: ortools.linux.x86.64: Invalid module name: '64' is not a Java identifier\n   [INFO] Can't extract module name from ortools-darwin-x86-64-9.5.2237.jar: ortools.darwin.x86.64: Invalid module name: '64' is not a Java identifier\n   [INFO] Can't extract module name from ortools-win32-x86-64-9.5.2237.jar: ortools.win32.x86.64: Invalid module name: '64' is not a Java identifier\n</code></pre>\n<p>I decided the solution would be solved using this process :\n<a href=\"https://devcenter.heroku.com/articles/local-maven-dependencies\" rel=\"nofollow noreferrer\">https://devcenter.heroku.com/articles/local-maven-dependencies</a></p>\n<p>I followed it step by step and yet the local maven dependency isnt showing up when I try to import it\n<a href=\"https://i.stack.imgur.com/7XAS7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7XAS7.png\" alt=\"Broken import\" /></a></p>\n<p>This is whats in the pom.xml</p>\n<pre><code> &lt;dependency&gt;\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\n        &lt;artifactId&gt;ortools&lt;/artifactId&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n\n\n&lt;repositories&gt;\n    &lt;!--other repositories if any--&gt;\n    &lt;repository&gt;\n        &lt;id&gt;project.local&lt;/id&gt;\n        &lt;name&gt;project&lt;/name&gt;\n        &lt;url&gt;file:${project.basedir}/repo&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n<p>I added another change in order to try to draw the .dylib file directly but that still didnt work, I replaced</p>\n<pre><code>Loader.loadNativeLibraries();\n</code></pre>\n<p>for the ortools with</p>\n<pre><code>String filePath = new File(&quot;&quot;).getAbsolutePath();\n        filePath = new File(filePath+&quot;/ortools/ortools-darwin-x86-64/libjniortools.dylib&quot;).getAbsolutePath();\n        System.load(filePath);\n</code></pre>\n<p>And while this works locally, I get this error on heroku</p>\n<pre><code>java.lang.UnsatisfiedLinkError: /app/ortools/ortools-darwin-x86-64/libjniortools.dylib: /app/ortools/ortools-darwin-x86-64/libjniortools.dylib: invalid ELF header\n</code></pre>\n<p>I still have yet to find a different solution to get OR-tools onto heroku</p>\n"},{"tags":["java","hibernate-validator"],"comments":[{"owner":{"account_id":6366204,"reputation":2197,"user_id":4940126,"display_name":"mark_o"},"score":0,"creation_date":1678434859,"post_id":75689078,"comment_id":133535109,"body_markdown":"Hey Marcus, if you find this behaviour incorrect, could you please report it here https://hibernate.atlassian.net/jira/software/c/projects/HV/issues and ideally provide a link to the validation rules? Thanks!","body":"Hey Marcus, if you find this behaviour incorrect, could you please report it here <a href=\"https://hibernate.atlassian.net/jira/software/c/projects/HV/issues\" rel=\"nofollow noreferrer\">hibernate.atlassian.net/jira/software/c/projects/HV/issues</a> and ideally provide a link to the validation rules? Thanks!"}],"owner":{"account_id":5256191,"reputation":433,"user_id":4279074,"display_name":"Marcus Voltolim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678391566,"creation_date":1678389263,"question_id":75689078,"body_markdown":"Why the org.hibernate.validator.constraints.br.CNPJ does not invalidate the all digits zero, scenario like @CPF does?\r\n\r\nMissing: `@Pattern(regexp = &quot;^(?:(?!00\\\\.?000\\\\.?000/?0000-?00).)*$&quot;)`\r\n\r\n**@CPF**\r\n[![@CPF](https://i.stack.imgur.com/onzYn.jpg)](https://i.stack.imgur.com/onzYn.jpg)\r\n\r\n**@CNPJ**\r\n[![@CNPJ](https://i.stack.imgur.com/RTGoD.jpg)](https://i.stack.imgur.com/RTGoD.jpg)","title":"Why org.hibernate.validator.constraints.br.CNPJ does not invalidate the all digits zero","body":"<p>Why the org.hibernate.validator.constraints.br.CNPJ does not invalidate the all digits zero, scenario like @CPF does?</p>\n<p>Missing: <code>@Pattern(regexp = &quot;^(?:(?!00\\\\.?000\\\\.?000/?0000-?00).)*$&quot;)</code></p>\n<p><strong>@CPF</strong>\n<a href=\"https://i.stack.imgur.com/onzYn.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/onzYn.jpg\" alt=\"@CPF\" /></a></p>\n<p><strong>@CNPJ</strong>\n<a href=\"https://i.stack.imgur.com/RTGoD.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RTGoD.jpg\" alt=\"@CNPJ\" /></a></p>\n"},{"tags":["java","hibernate","jpa","metamodel"],"comments":[{"owner":{"account_id":418189,"reputation":1882,"user_id":794606,"accept_rate":80,"display_name":"Jacek Cz"},"score":0,"creation_date":1505150209,"post_id":46156600,"comment_id":79284176,"body_markdown":"Because of strong Java concept &#39;property&#39;, which is implemented by MANY libraries (compare: C# has properties at syntax level), libraries tries to convert case in different way - recomend not use keywords in uppercase too","body":"Because of strong Java concept &#39;property&#39;, which is implemented by MANY libraries (compare: C# has properties at syntax level), libraries tries to convert case in different way - recomend not use keywords in uppercase too"}],"answers":[{"tags":[],"owner":{"account_id":1086765,"reputation":9377,"user_id":1082300,"accept_rate":50,"display_name":"Steve Ebersole"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678391455,"creation_date":1678391455,"answer_id":75689382,"question_id":46156600,"body_markdown":"You are going to have to change it.\r\n\r\nHibernate and JPA defer to Java Beans with regard to naming conventions.  Here you are creating a Java Bean property named &quot;private&quot;; nothing wrong with that per-se.  I&#39;m not sure what, if anything, Java Beans specifically says about such situations but its an anti-best practice at best. ","title":"JPA - Static metamodel and reserved keywords","body":"<p>You are going to have to change it.</p>\n<p>Hibernate and JPA defer to Java Beans with regard to naming conventions.  Here you are creating a Java Bean property named &quot;private&quot;; nothing wrong with that per-se.  I'm not sure what, if anything, Java Beans specifically says about such situations but its an anti-best practice at best.</p>\n"}],"owner":{"account_id":1952581,"reputation":1706,"user_id":1756361,"accept_rate":83,"display_name":"Maciek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":496,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1678391455,"creation_date":1505135566,"question_id":46156600,"body_markdown":"My entities have properties that translate to Java keywords. For example there is a `Game` entity and it has property `private`:\r\n\r\n    @Entity\r\n    public class Game\r\n    {\r\n        //....\r\n\r\n        private Boolean PRIVATE; //capitalized to avoid naming issues\r\n\r\n        //no need for escaping or renaming, as &quot;private&quot; is not a database, JPA or SQL reserved identifier\r\n        @Column\r\n        public Boolean getPrivate() { return PRIVATE; } \r\n\r\n        //...\r\n    }\r\n\r\nSo far so good, until I generate a static metamodel for my entity and it is generated incorrectly:\r\n\r\n    @Generated(value = &quot;org.hibernate.jpamodelgen.JPAMetaModelEntityProcessor&quot;)\r\n    @StaticMetamodel(Game.class)\r\n    public abstract class Game_ extends AbstractEntity_ {\r\n\t\r\n\t    public static volatile SingularAttribute&lt;Game, Boolean&gt; private; // &lt;== compilation error\r\n\r\n        //....\r\n    }\r\n\r\nI use Hibernate metamodel generator, and I have no idea how to force it to rename problematic attributes. Is there a way to avoid naming problems in generated metamodel classes other than renaming attribute in question?","title":"JPA - Static metamodel and reserved keywords","body":"<p>My entities have properties that translate to Java keywords. For example there is a <code>Game</code> entity and it has property <code>private</code>:</p>\n\n<pre><code>@Entity\npublic class Game\n{\n    //....\n\n    private Boolean PRIVATE; //capitalized to avoid naming issues\n\n    //no need for escaping or renaming, as \"private\" is not a database, JPA or SQL reserved identifier\n    @Column\n    public Boolean getPrivate() { return PRIVATE; } \n\n    //...\n}\n</code></pre>\n\n<p>So far so good, until I generate a static metamodel for my entity and it is generated incorrectly:</p>\n\n<pre><code>@Generated(value = \"org.hibernate.jpamodelgen.JPAMetaModelEntityProcessor\")\n@StaticMetamodel(Game.class)\npublic abstract class Game_ extends AbstractEntity_ {\n\n    public static volatile SingularAttribute&lt;Game, Boolean&gt; private; // &lt;== compilation error\n\n    //....\n}\n</code></pre>\n\n<p>I use Hibernate metamodel generator, and I have no idea how to force it to rename problematic attributes. Is there a way to avoid naming problems in generated metamodel classes other than renaming attribute in question?</p>\n"},{"tags":["java","android-fragments","android-intent","android-activity"],"owner":{"account_id":25311834,"reputation":73,"user_id":19134480,"display_name":"Patrick Renaud"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678391368,"creation_date":1678391368,"question_id":75689368,"body_markdown":"i am implementing an android app and i&#39;m calling an activity from a fragment using an intent.Firstly , after clicking button2 , i send a sms and the waiting for the broadcast to make the redirection in the broadcast receiver . the problem is the activity  is created several times and i have to click the button boutonFermer close several times to close the activity , how could i solve it  ? here is the code i have implemented :\r\n\r\n\r\n\r\n\r\n   \r\n\r\n     public class MenuSuivi extends Fragment {\r\n        \r\n        \r\n        private FragmentMenuSuiviBinding binding;\r\n        \r\n            public MenuSuivi() {\r\n                // Required empty public constructor\r\n            }\r\n        \r\n        \r\n        \r\n        \r\n            @Override\r\n            public void onCreate(Bundle savedInstanceState) {\r\n                super.onCreate(savedInstanceState);\r\n        \r\n            }\r\n        \r\n            @Override\r\n            public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container,\r\n                                     Bundle savedInstanceState) {\r\n                LocalBroadcastManager.getInstance(requireContext()).registerReceiver(mReceiver, new IntentFilter(&quot;displayList&quot;));\r\n                binding=FragmentMenuSuiviBinding.inflate(getLayoutInflater(),container,false);\r\n                binding.button2.setOnClickListener(v-&gt;{\r\n                    ( (SuiviActivity) requireActivity()).sendMessage();\r\n                });\r\n                // Inflate the layout for this fragment\r\n                return binding.getRoot();\r\n            }\r\n        \r\n        \r\n        // Here i receive a broadcast after  sending a message by clicking button 2\r\n            private final BroadcastReceiver mReceiver = new BroadcastReceiver() {\r\n                @Override\r\n                public void onReceive(Context context, Intent intent) {\r\n                    if(!intent.getAction().equals(&quot;displayList&quot;)){\r\n                        Log.d(&quot;TAG&quot;, &quot;onReceive: &quot;+&quot;there is no list to display&quot;);\r\n                    }else{\r\n                            Intent i = new Intent(requireActivity(), ListActiviteRelai.class);\r\n                            startActivity(i);\r\n                    }\r\n                }\r\n            };\r\n        \r\n            @Override\r\n            public void onAttach(@NonNull Context context) {\r\n                super.onAttach(context);\r\n                Log.d(&quot;TAG&quot;, &quot;onAttach: the fragment is attached to its activity&quot;);\r\n            }\r\n        \r\n            @Override\r\n            public void onDestroy() {\r\n                super.onDestroy();\r\n                Log.d(&quot;TAG&quot;, &quot; onDestroy: the activity fragment is destroyed&quot;);\r\n        \r\n            }\r\n        }\r\n        \r\n        //And here is the activity class :\r\n        \r\n        \r\n        public class ListActiviteRelai extends BaseView {\r\n        \r\n            AppDatabase instance;\r\n            ListActiviteRelaiAdapter adapter;\r\n            private ActivityListActivteRelaiBinding binding;\r\n            @Override\r\n            protected void onCreate(Bundle savedInstanceState) {\r\n                super.onCreate(savedInstanceState);\r\n                Log.d(&quot;TAG&quot;, &quot;onCreate: listActivityRelai &quot;);\r\n                binding=ActivityListActivteRelaiBinding.inflate(getLayoutInflater());\r\n                setContentView(binding.getRoot());\r\n                instance = AppDatabase.getDbIntance(this);\r\n                setRecyclerView();\r\n        //Here i have to click the button several times to close my activity\r\n                binding.boutonFermer.setOnClickListener(v-&gt;{\r\n                    this.finish();\r\n                });\r\n            }\r\n        \r\n            private void setRecyclerView(){\r\n                binding.scrollView.setHasFixedSize(true);\r\n                binding.scrollView.setLayoutManager(new LinearLayoutManager(this));\r\n                adapter= new ListActiviteRelaiAdapter(this,getList());\r\n                binding.scrollView.setAdapter(adapter);\r\n        \r\n            }\r\n        \r\n            public List&lt;SuiviInfo&gt; getList(){\r\n                return  instance.suiviInfoDao().getAll();\r\n            }\r\n        \r\n        }\r\n\r\n\r\n\r\n\r\n","title":"My activity is created several times when calling it from a fragment","body":"<p>i am implementing an android app and i'm calling an activity from a fragment using an intent.Firstly , after clicking button2 , i send a sms and the waiting for the broadcast to make the redirection in the broadcast receiver . the problem is the activity  is created several times and i have to click the button boutonFermer close several times to close the activity , how could i solve it  ? here is the code i have implemented :</p>\n<pre><code> public class MenuSuivi extends Fragment {\n    \n    \n    private FragmentMenuSuiviBinding binding;\n    \n        public MenuSuivi() {\n            // Required empty public constructor\n        }\n    \n    \n    \n    \n        @Override\n        public void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n    \n        }\n    \n        @Override\n        public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container,\n                                 Bundle savedInstanceState) {\n            LocalBroadcastManager.getInstance(requireContext()).registerReceiver(mReceiver, new IntentFilter(&quot;displayList&quot;));\n            binding=FragmentMenuSuiviBinding.inflate(getLayoutInflater(),container,false);\n            binding.button2.setOnClickListener(v-&gt;{\n                ( (SuiviActivity) requireActivity()).sendMessage();\n            });\n            // Inflate the layout for this fragment\n            return binding.getRoot();\n        }\n    \n    \n    // Here i receive a broadcast after  sending a message by clicking button 2\n        private final BroadcastReceiver mReceiver = new BroadcastReceiver() {\n            @Override\n            public void onReceive(Context context, Intent intent) {\n                if(!intent.getAction().equals(&quot;displayList&quot;)){\n                    Log.d(&quot;TAG&quot;, &quot;onReceive: &quot;+&quot;there is no list to display&quot;);\n                }else{\n                        Intent i = new Intent(requireActivity(), ListActiviteRelai.class);\n                        startActivity(i);\n                }\n            }\n        };\n    \n        @Override\n        public void onAttach(@NonNull Context context) {\n            super.onAttach(context);\n            Log.d(&quot;TAG&quot;, &quot;onAttach: the fragment is attached to its activity&quot;);\n        }\n    \n        @Override\n        public void onDestroy() {\n            super.onDestroy();\n            Log.d(&quot;TAG&quot;, &quot; onDestroy: the activity fragment is destroyed&quot;);\n    \n        }\n    }\n    \n    //And here is the activity class :\n    \n    \n    public class ListActiviteRelai extends BaseView {\n    \n        AppDatabase instance;\n        ListActiviteRelaiAdapter adapter;\n        private ActivityListActivteRelaiBinding binding;\n        @Override\n        protected void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            Log.d(&quot;TAG&quot;, &quot;onCreate: listActivityRelai &quot;);\n            binding=ActivityListActivteRelaiBinding.inflate(getLayoutInflater());\n            setContentView(binding.getRoot());\n            instance = AppDatabase.getDbIntance(this);\n            setRecyclerView();\n    //Here i have to click the button several times to close my activity\n            binding.boutonFermer.setOnClickListener(v-&gt;{\n                this.finish();\n            });\n        }\n    \n        private void setRecyclerView(){\n            binding.scrollView.setHasFixedSize(true);\n            binding.scrollView.setLayoutManager(new LinearLayoutManager(this));\n            adapter= new ListActiviteRelaiAdapter(this,getList());\n            binding.scrollView.setAdapter(adapter);\n    \n        }\n    \n        public List&lt;SuiviInfo&gt; getList(){\n            return  instance.suiviInfoDao().getAll();\n        }\n    \n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":18891758,"reputation":144,"user_id":13781909,"display_name":"Danny Briskin"},"score":0,"creation_date":1678330130,"post_id":75679963,"comment_id":133513039,"body_markdown":"There is a EnumUtils.isValidEnum among answers in the SO question you mentioned. Pretty short validation.","body":"There is a EnumUtils.isValidEnum among answers in the SO question you mentioned. Pretty short validation."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1678331472,"post_id":75679963,"comment_id":133513199,"body_markdown":"Most alternatives would be pretty similar to what you’ve done.  One thing you can do to speed it up is keep a static Set of the valid names:  `private static final Set&lt;String&gt; VALID_PROTOCOL_NAMES = EnumSet.allOf(Protocol.class).stream().map(Enum::name).collect(Collectors.toUnmodifiableSet());`  Then your check is simply `List&lt;String&gt; invalid = new ArrayList&lt;&gt;(foo); invalid.removeAll(VALID_PROTOCOL_NAMES);`","body":"Most alternatives would be pretty similar to what you’ve done.  One thing you can do to speed it up is keep a static Set of the valid names:  <code>private static final Set&lt;String&gt; VALID_PROTOCOL_NAMES = EnumSet.allOf(Protocol.class).stream().map(Enum::name).colle&zwnj;&#8203;ct(Collectors.toUnmo&zwnj;&#8203;difiableSet());</code>  Then your check is simply <code>List&lt;String&gt; invalid = new ArrayList&lt;&gt;(foo); invalid.removeAll(VALID_PROTOCOL_NAMES);</code>"}],"answers":[{"comments":[{"owner":{"account_id":1276558,"reputation":1700,"user_id":1231693,"accept_rate":69,"display_name":"mellow-yellow"},"score":0,"creation_date":1678368156,"post_id":75680191,"comment_id":133521274,"body_markdown":"I like the approach of treating both lists like mathematical sets and removing the good items from the bad to make a possible joint set disjoint. I hadn&#39;t thought of that.  Thanks!","body":"I like the approach of treating both lists like mathematical sets and removing the good items from the bad to make a possible joint set disjoint. I hadn&#39;t thought of that.  Thanks!"},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1678378437,"post_id":75680191,"comment_id":133524756,"body_markdown":"Very useful for learners!","body":"Very useful for learners!"}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678391270,"creation_date":1678332635,"answer_id":75680191,"question_id":75679963,"body_markdown":"# tl;dr\r\n\r\nFor:\r\n\r\n    enum Animal { DOG , CAT }\r\n\r\n… we can filter out matches from list of possible enum names:\r\n\r\n```java\r\nList &lt; String &gt; names = Arrays.stream( Animal.values() ).map( Animal :: name ).toList() ;\r\nList &lt; String &gt; possibleNames = List.of( &quot;DOG&quot; , &quot;CAT&quot; , &quot;BIRD&quot; );\r\n\r\nList &lt; String &gt; invalid = new ArrayList &lt;&gt;( possibleNames );\r\ninvalid.removeAll( names );\r\n```\r\n\r\nWhen run:\r\n\r\n```none\r\nnames.toString() = [DOG, CAT]\r\npossibleNames.toString() = [DOG, CAT, BIRD]\r\ninvalid.toString() = [BIRD]\r\n```\r\n\r\n# Details\r\n\r\nYour code looks good enough. But I suppose we could make the code briefer, and optimize a bit.  \r\n\r\nLet&#39;s use `enum Animal { DOG , CAT }` as an example.\r\n\r\n## Keep enum names for repeated use\r\n\r\nGet a list of the enum names, a list of strings.\r\n\r\nKeep this list of names around if you will be doing multiple match attempts. \r\n\r\nWe sort for (a) perusing by humans, and (b) possible optimization discussed below.\r\n\r\n    List &lt; String &gt; names = Arrays.stream( Animal.values() ).map( Animal :: name ).sorted().toList() ;\r\n\r\nNow search for matches. \r\n\r\n    boolean hit = names.contains( someName ) ;\r\n    boolean isInvalid = ( ! names.contains( someName ) ) ;\r\n\r\n## Optimizing for performance\r\n\r\nIf you had a very long list, and made many searches, you could optimize with a binary search. This would require the names to be in sorted order, thus our `.sorted()` call in code above. \r\n\r\nIn milder situations, I would not bother with the binary search. Likely a premature optimization.\r\n\r\n    boolean hit = ( Collections.binarySearch( names , someName ) &gt;= 0 ) ;\r\n    boolean isInvalid = ( Collections.binarySearch( names , someName ) &lt; 0 ) ;\r\n\r\n## Multiple matches\r\n\r\nFor a list of names to be matched, use [`List :: removeAll`][1]. \r\n\r\nFirst, make a copy of the possible names. Then, from that copy remove the known names. Any remaining are invalid. \r\n\r\n```java\r\nList &lt; String &gt; invalid = new ArrayList &lt;&gt;( possibleNames );\r\ninvalid.removeAll( names );\r\n```\r\n\r\n\r\n# *Apache Commons Lang*\r\n\r\nThe *Apache Commons Lang* library offers two methods:\r\n\r\n    \r\n - [`isValidEnum`][2]\r\n - [`isValidEnumIgnoreCase`][3]\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/List.html#removeAll(java.util.Collection)\r\n  [2]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/EnumUtils.html#isValidEnum-java.lang.Class-java.lang.String-\r\n  [3]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/EnumUtils.html#isValidEnumIgnoreCase-java.lang.Class-java.lang.String-","title":"Check if enum value does NOT exist in Java","body":"<h1>tl;dr</h1>\n<p>For:</p>\n<pre><code>enum Animal { DOG , CAT }\n</code></pre>\n<p>… we can filter out matches from list of possible enum names:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; String &gt; names = Arrays.stream( Animal.values() ).map( Animal :: name ).toList() ;\nList &lt; String &gt; possibleNames = List.of( &quot;DOG&quot; , &quot;CAT&quot; , &quot;BIRD&quot; );\n\nList &lt; String &gt; invalid = new ArrayList &lt;&gt;( possibleNames );\ninvalid.removeAll( names );\n</code></pre>\n<p>When run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>names.toString() = [DOG, CAT]\npossibleNames.toString() = [DOG, CAT, BIRD]\ninvalid.toString() = [BIRD]\n</code></pre>\n<h1>Details</h1>\n<p>Your code looks good enough. But I suppose we could make the code briefer, and optimize a bit.</p>\n<p>Let's use <code>enum Animal { DOG , CAT }</code> as an example.</p>\n<h2>Keep enum names for repeated use</h2>\n<p>Get a list of the enum names, a list of strings.</p>\n<p>Keep this list of names around if you will be doing multiple match attempts.</p>\n<p>We sort for (a) perusing by humans, and (b) possible optimization discussed below.</p>\n<pre><code>List &lt; String &gt; names = Arrays.stream( Animal.values() ).map( Animal :: name ).sorted().toList() ;\n</code></pre>\n<p>Now search for matches.</p>\n<pre><code>boolean hit = names.contains( someName ) ;\nboolean isInvalid = ( ! names.contains( someName ) ) ;\n</code></pre>\n<h2>Optimizing for performance</h2>\n<p>If you had a very long list, and made many searches, you could optimize with a binary search. This would require the names to be in sorted order, thus our <code>.sorted()</code> call in code above.</p>\n<p>In milder situations, I would not bother with the binary search. Likely a premature optimization.</p>\n<pre><code>boolean hit = ( Collections.binarySearch( names , someName ) &gt;= 0 ) ;\nboolean isInvalid = ( Collections.binarySearch( names , someName ) &lt; 0 ) ;\n</code></pre>\n<h2>Multiple matches</h2>\n<p>For a list of names to be matched, use <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/List.html#removeAll(java.util.Collection)\" rel=\"nofollow noreferrer\"><code>List :: removeAll</code></a>.</p>\n<p>First, make a copy of the possible names. Then, from that copy remove the known names. Any remaining are invalid.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; String &gt; invalid = new ArrayList &lt;&gt;( possibleNames );\ninvalid.removeAll( names );\n</code></pre>\n<h1><em>Apache Commons Lang</em></h1>\n<p>The <em>Apache Commons Lang</em> library offers two methods:</p>\n<ul>\n<li><a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/EnumUtils.html#isValidEnum-java.lang.Class-java.lang.String-\" rel=\"nofollow noreferrer\"><code>isValidEnum</code></a></li>\n<li><a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/EnumUtils.html#isValidEnumIgnoreCase-java.lang.Class-java.lang.String-\" rel=\"nofollow noreferrer\"><code>isValidEnumIgnoreCase</code></a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678334278,"creation_date":1678334278,"answer_id":75680308,"question_id":75679963,"body_markdown":"Since your use case is presenting a small selection of data to a user, who won&#39;t notice the fraction of a millisecond one solution takes over another, you won&#39;t find anything materially better than what you&#39;ve shown.  If it works, and it&#39;s easy for the next developer to understand what you did, then you did it right.\r\n\r\nIf you have a significant volume of comparisons to the same enum, you could convert it to a Set for O(1) comparisons and filter by whatever&#39;s not in the set.\r\n\r\n    static Set&lt;String&gt; cachedDOW=new HashSet&lt;&gt;();\r\n    Arrays.stream(DayOfWeek.values()).forEach(v-&gt;dow.add(v.toString()));\r\n\r\n    List&lt;String&gt; foo = Arrays.asList(&quot;SUNDAY&quot;, &quot;HUMPDAY&quot;, &quot;SATURDAY&quot;);\r\n    System.out.println(foo.stream().filter(a-&gt;!cachedDOW.contains(a)).collect(Collectors.toList()));\r\n","title":"Check if enum value does NOT exist in Java","body":"<p>Since your use case is presenting a small selection of data to a user, who won't notice the fraction of a millisecond one solution takes over another, you won't find anything materially better than what you've shown.  If it works, and it's easy for the next developer to understand what you did, then you did it right.</p>\n<p>If you have a significant volume of comparisons to the same enum, you could convert it to a Set for O(1) comparisons and filter by whatever's not in the set.</p>\n<pre><code>static Set&lt;String&gt; cachedDOW=new HashSet&lt;&gt;();\nArrays.stream(DayOfWeek.values()).forEach(v-&gt;dow.add(v.toString()));\n\nList&lt;String&gt; foo = Arrays.asList(&quot;SUNDAY&quot;, &quot;HUMPDAY&quot;, &quot;SATURDAY&quot;);\nSystem.out.println(foo.stream().filter(a-&gt;!cachedDOW.contains(a)).collect(Collectors.toList()));\n</code></pre>\n"}],"owner":{"account_id":1276558,"reputation":1700,"user_id":1231693,"accept_rate":69,"display_name":"mellow-yellow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75680191,"answer_count":2,"score":0,"last_activity_date":1678391270,"creation_date":1678329447,"question_id":75679963,"body_markdown":"I need to check a list of Strings to see if they exist in an enum. I&#39;m aware of [this SO question][1], but here I need to record the discrepancies, to show them to the user. The following works, but is there a better way?\r\n\r\n```java\r\nimport okhttp3.Protocol;  // the enum\r\n\r\n        List&lt;String&gt; foo = List.of(&quot;HTTP_1_0&quot;, &quot;NOT_HTTP_1_1&quot;, &quot;BOGUS&quot;);\r\n        List&lt;String&gt; invalid = new ArrayList&lt;&gt;(List.of());\r\n        foo.forEach(f -&gt; {\r\n            if (!Stream.of(Protocol.values()).anyMatch(v -&gt; v.name().equals(f))) {\r\n                invalid.add(f);\r\n            }});\r\n        System.out.println(invalid); // [NOT_HTTP_1_1, BOGUS]\r\n\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1167982/check-if-enum-exists-in-java","title":"Check if enum value does NOT exist in Java","body":"<p>I need to check a list of Strings to see if they exist in an enum. I'm aware of <a href=\"https://stackoverflow.com/questions/1167982/check-if-enum-exists-in-java\">this SO question</a>, but here I need to record the discrepancies, to show them to the user. The following works, but is there a better way?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import okhttp3.Protocol;  // the enum\n\n        List&lt;String&gt; foo = List.of(&quot;HTTP_1_0&quot;, &quot;NOT_HTTP_1_1&quot;, &quot;BOGUS&quot;);\n        List&lt;String&gt; invalid = new ArrayList&lt;&gt;(List.of());\n        foo.forEach(f -&gt; {\n            if (!Stream.of(Protocol.values()).anyMatch(v -&gt; v.name().equals(f))) {\n                invalid.add(f);\n            }});\n        System.out.println(invalid); // [NOT_HTTP_1_1, BOGUS]\n\n</code></pre>\n"},{"tags":["java","spring-kafka"],"answers":[{"comments":[{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1678126171,"post_id":75652962,"comment_id":133469319,"body_markdown":"No; all commits by the container are disabled if we detect that the consumer factory has the `enable.auto.commit` property explicitly set to true. See `ListenerConsumer.autoCommit`.","body":"No; all commits by the container are disabled if we detect that the consumer factory has the <code>enable.auto.commit</code> property explicitly set to true. See <code>ListenerConsumer.autoCommit</code>."},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1678128269,"post_id":75652962,"comment_id":133469885,"body_markdown":"One more time; when `enable.auto.commit` is true, the container has no bearing on the commit logic; it is all done by the `KafkaConsumer` internally, based on the `auto.commit.interval.ms`. When disabled, the container commits the offset in a much more deterministic fashion.","body":"One more time; when <code>enable.auto.commit</code> is true, the container has no bearing on the commit logic; it is all done by the <code>KafkaConsumer</code> internally, based on the <code>auto.commit.interval.ms</code>. When disabled, the container commits the offset in a much more deterministic fashion."},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1678131954,"post_id":75652962,"comment_id":133470778,"body_markdown":"I think you have some misunderstandings about how Kafka works. It maintains 2 pointers the committed offset and the current position. They have no relation to each other, except that the current position is set to the committed offset when a consumer first consumes. Not committing an offset in an active consumer will have no impact on the current position. The `DefaultErrorHandler` performs seek operations in order to reprocess the unprocessed records on the next commit. The `KafkaBackoffAwareMessageListenerAdapter` is not intended for user use; it is part of the non-blocking retry logic.","body":"I think you have some misunderstandings about how Kafka works. It maintains 2 pointers the committed offset and the current position. They have no relation to each other, except that the current position is set to the committed offset when a consumer first consumes. Not committing an offset in an active consumer will have no impact on the current position. The <code>DefaultErrorHandler</code> performs seek operations in order to reprocess the unprocessed records on the next commit. The <code>KafkaBackoffAwareMessageListenerAdapter</code> is not intended for user use; it is part of the non-blocking retry logic."},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1678134871,"post_id":75652962,"comment_id":133471540,"body_markdown":"Using auto commit is simply not compatible with the default error handler, because the client might commit the offset after the error handler has performed the seeks. Just turn it off and let the container completely manage the offsets.","body":"Using auto commit is simply not compatible with the default error handler, because the client might commit the offset after the error handler has performed the seeks. Just turn it off and let the container completely manage the offsets."},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1678136109,"post_id":75652962,"comment_id":133471798,"body_markdown":"`&gt;I am doing this throw...` the error handler should always throw an exception, unless the record is recovered by sending it to the recoverer after retries are exhausted. That is how it is designed.","body":"<code>&gt;I am doing this throw...</code> the error handler should always throw an exception, unless the record is recovered by sending it to the recoverer after retries are exhausted. That is how it is designed."}],"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678117791,"creation_date":1678117791,"answer_id":75652962,"question_id":75652638,"body_markdown":"I don&#39;t know how you can possibly use the framework without Spring - you will lose all kinds of features (e.g. event publishing). \r\n\r\nWhen `enable.auto.commit` is true; the container has nothing to do with committing offsets, it is handled internally by the `kafka-clients`.","title":"Spring Kafka committing offset after BackoffException","body":"<p>I don't know how you can possibly use the framework without Spring - you will lose all kinds of features (e.g. event publishing).</p>\n<p>When <code>enable.auto.commit</code> is true; the container has nothing to do with committing offsets, it is handled internally by the <code>kafka-clients</code>.</p>\n"}],"owner":{"display_name":"anon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":322,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1678391106,"creation_date":1678116084,"question_id":75652638,"body_markdown":"I have to use Spring kafka(without spring!Crazy? but its true :) ) and I have the following scenario:\r\nConsumer with auto commit configured and is a record listener(not batch);\r\nThe listener can throw 2 types of exception: BackoffException and GeneralSystemException.\r\nOn BackoffException, the error handler should seek partitions,pause the partition and NOT commit the record;\r\nOn GeneralSystemException it should send to another delay topic and COMMIT the offset.\r\n\r\nThe problem is even for BackoffException, my offset is being commited because isAckAfterHandling is true. If I set it to false, I ll have problem with the another exception.\r\n\r\nOne workaroud I found it is: create a custom common error handler, keep isAckAfterHandling = true, do the seeks and pause, and return a Exception in case of BackoffException;\r\n\r\nBut I am wonder how spring automatically leads with that scenario if, for example, you have a consumer using KafkaBackoffAwareMessageListenerAdapter and DefaultErrorHandler as the error handler and auto commit = true. looking into the code, looks like the handler will seeks correctly but will commit the offset that cause the BackoffException. In case on rebalance that message would be lost.\r\n\r\n\r\nLike I said, If I use a custom error handler and, in case of BackoffException, throw a error to the container(after doing seeks and pause) that solves my problem but looks like a workaround.\r\n\r\nI believe if spring had a isAckAfterHandle(Exception ex), should solve this kind of problem tho.\r\n\r\n\r\nIt turns out that is by design we should always return exceptions for a non recovered record, so my solution ended up not being a workaround like I said.\r\n","title":"Spring Kafka committing offset after BackoffException","body":"<p>I have to use Spring kafka(without spring!Crazy? but its true :) ) and I have the following scenario:\nConsumer with auto commit configured and is a record listener(not batch);\nThe listener can throw 2 types of exception: BackoffException and GeneralSystemException.\nOn BackoffException, the error handler should seek partitions,pause the partition and NOT commit the record;\nOn GeneralSystemException it should send to another delay topic and COMMIT the offset.</p>\n<p>The problem is even for BackoffException, my offset is being commited because isAckAfterHandling is true. If I set it to false, I ll have problem with the another exception.</p>\n<p>One workaroud I found it is: create a custom common error handler, keep isAckAfterHandling = true, do the seeks and pause, and return a Exception in case of BackoffException;</p>\n<p>But I am wonder how spring automatically leads with that scenario if, for example, you have a consumer using KafkaBackoffAwareMessageListenerAdapter and DefaultErrorHandler as the error handler and auto commit = true. looking into the code, looks like the handler will seeks correctly but will commit the offset that cause the BackoffException. In case on rebalance that message would be lost.</p>\n<p>Like I said, If I use a custom error handler and, in case of BackoffException, throw a error to the container(after doing seeks and pause) that solves my problem but looks like a workaround.</p>\n<p>I believe if spring had a isAckAfterHandle(Exception ex), should solve this kind of problem tho.</p>\n<p>It turns out that is by design we should always return exceptions for a non recovered record, so my solution ended up not being a workaround like I said.</p>\n"},{"tags":["java","android","imageuri"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1678095376,"post_id":75648848,"comment_id":133460299,"body_markdown":"`my image is not being saved in storage after done with removing background` What kind of image? Where does it suddenly come from? What does it have to do with removing a backgroud? A background of what?","body":"<code>my image is not being saved in storage after done with removing background</code> What kind of image? Where does it suddenly come from? What does it have to do with removing a backgroud? A background of what?"},{"owner":{"account_id":3789945,"reputation":503,"user_id":3146806,"display_name":"Reyhane Farshbaf"},"score":0,"creation_date":1678097877,"post_id":75648848,"comment_id":133460990,"body_markdown":"You can create a file object from your uri and save it in storage. File temp = new File(uri), save and read this file again, after you only need to knowledge working with storage in android.","body":"You can create a file object from your uri and save it in storage. File temp = new File(uri), save and read this file again, after you only need to knowledge working with storage in android."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1678106750,"post_id":75648848,"comment_id":133463381,"body_markdown":"Please do not repost your problem within three hours. And certainly not without even answering questions.","body":"Please do not repost your problem within three hours. And certainly not without even answering questions."}],"answers":[{"tags":[],"owner":{"account_id":8496190,"reputation":1,"user_id":6370718,"display_name":"Vivek Aghera"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678102597,"creation_date":1678102597,"answer_id":75650392,"question_id":75648848,"body_markdown":"You have to get the byte array from URI and convert the byte array to a file using output and input stream.\r\n\r\nGet Bytearray from URI\r\n\r\n    result?.data?.data?.let {\r\n                    val byteArray = contentResolver.openInputStream(it)?.readBytes() }\r\n\r\nGet the file information from URI\r\n\r\n        /*\r\n     * Get the file&#39;s content URI from the incoming Intent,\r\n     * then query the server app to get the file&#39;s display name\r\n     * and size.\r\n     */\r\n    returnIntent.data?.let { returnUri -&gt;\r\n        contentResolver.query(returnUri, null, null, null, null)\r\n    }?.use { cursor -&gt;\r\n        /*\r\n         * Get the column indexes of the data in the Cursor,\r\n         * move to the first row in the Cursor, get the data,\r\n         * and display it.\r\n         */\r\n        val nameIndex = cursor.getColumnIndex(OpenableColumns.DISPLAY_NAME)\r\n        val sizeIndex = cursor.getColumnIndex(OpenableColumns.SIZE)\r\n        cursor.moveToFirst()\r\n        val fileName = cursor.getString(nameIndex)\r\n        val fileSize = cursor.getLong(sizeIndex).toString()\r\n    }\r\n\r\nWrite file from byte array\r\n\r\n    if (!file.exists()) {\r\n        file.createNewFile();\r\n    }\r\n    FileOutputStream fos = new FileOutputStream(file);\r\n    fos.write(byteArray);\r\n    fos.close();\r\n\r\n\r\n","title":"How to save image using return Uri?","body":"<p>You have to get the byte array from URI and convert the byte array to a file using output and input stream.</p>\n<p>Get Bytearray from URI</p>\n<pre><code>result?.data?.data?.let {\n                val byteArray = contentResolver.openInputStream(it)?.readBytes() }\n</code></pre>\n<p>Get the file information from URI</p>\n<pre><code>    /*\n * Get the file's content URI from the incoming Intent,\n * then query the server app to get the file's display name\n * and size.\n */\nreturnIntent.data?.let { returnUri -&gt;\n    contentResolver.query(returnUri, null, null, null, null)\n}?.use { cursor -&gt;\n    /*\n     * Get the column indexes of the data in the Cursor,\n     * move to the first row in the Cursor, get the data,\n     * and display it.\n     */\n    val nameIndex = cursor.getColumnIndex(OpenableColumns.DISPLAY_NAME)\n    val sizeIndex = cursor.getColumnIndex(OpenableColumns.SIZE)\n    cursor.moveToFirst()\n    val fileName = cursor.getString(nameIndex)\n    val fileSize = cursor.getLong(sizeIndex).toString()\n}\n</code></pre>\n<p>Write file from byte array</p>\n<pre><code>if (!file.exists()) {\n    file.createNewFile();\n}\nFileOutputStream fos = new FileOutputStream(file);\nfos.write(byteArray);\nfos.close();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":27945912,"reputation":21,"user_id":21340908,"display_name":"Fawad"},"score":0,"creation_date":1678108603,"post_id":75651027,"comment_id":133463873,"body_markdown":"thanks so much for your answer means a lot but just elaborate a little where i have to use displayName???","body":"thanks so much for your answer means a lot but just elaborate a little where i have to use displayName???"},{"owner":{"account_id":27945912,"reputation":21,"user_id":21340908,"display_name":"Fawad"},"score":0,"creation_date":1678108663,"post_id":75651027,"comment_id":133463886,"body_markdown":"and what about onActivityResult method idk kindly help me","body":"and what about onActivityResult method idk kindly help me"},{"owner":{"account_id":27945912,"reputation":21,"user_id":21340908,"display_name":"Fawad"},"score":0,"creation_date":1678109447,"post_id":75651027,"comment_id":133464156,"body_markdown":"this did not give me any error but still image is not saved","body":"this did not give me any error but still image is not saved"},{"owner":{"account_id":27726764,"reputation":231,"user_id":21166142,"display_name":"EL Amine Bechorfa"},"score":0,"creation_date":1678113729,"post_id":75651027,"comment_id":133465526,"body_markdown":"`DisplayName` variable is storing just the name of the file as a String, you can use it to make an URI to specify where to save the image. check the code i updated it ;)","body":"<code>DisplayName</code> variable is storing just the name of the file as a String, you can use it to make an URI to specify where to save the image. check the code i updated it ;)"},{"owner":{"account_id":27726764,"reputation":231,"user_id":21166142,"display_name":"EL Amine Bechorfa"},"score":0,"creation_date":1678114008,"post_id":75651027,"comment_id":133465610,"body_markdown":"`CutOut` library saves the image file in the application&#39;s cache directory, You can use `getCacheDir()` method to get the path to the cache directory. You can also specify a custom directory to save the file. For example, you can save the file in the external storage directory by using `getExternalFilesDir()` method. You can find more details on the official documentation","body":"<code>CutOut</code> library saves the image file in the application&#39;s cache directory, You can use <code>getCacheDir()</code> method to get the path to the cache directory. You can also specify a custom directory to save the file. For example, you can save the file in the external storage directory by using <code>getExternalFilesDir()</code> method. You can find more details on the official documentation"},{"owner":{"account_id":27945912,"reputation":21,"user_id":21340908,"display_name":"Fawad"},"score":0,"creation_date":1678118619,"post_id":75651027,"comment_id":133467107,"body_markdown":"Thank you so much its working now..... keep on helping new programmers","body":"Thank you so much its working now..... keep on helping new programmers"},{"owner":{"account_id":27945912,"reputation":21,"user_id":21340908,"display_name":"Fawad"},"score":0,"creation_date":1678118962,"post_id":75651027,"comment_id":133467205,"body_markdown":"only 1 confusion yes its saving image now but with blackish background in folder its showing white but when i oepn that image saved afyer removing background showing black background ???","body":"only 1 confusion yes its saving image now but with blackish background in folder its showing white but when i oepn that image saved afyer removing background showing black background ???"},{"owner":{"account_id":27726764,"reputation":231,"user_id":21166142,"display_name":"EL Amine Bechorfa"},"score":0,"creation_date":1678119770,"post_id":75651027,"comment_id":133467433,"body_markdown":"Maybe you have a PNG image without a background so thats why you have different colors it depends with which program your reading the picture, it is not a  problem","body":"Maybe you have a PNG image without a background so thats why you have different colors it depends with which program your reading the picture, it is not a  problem"}],"tags":[],"owner":{"account_id":27726764,"reputation":231,"user_id":21166142,"display_name":"EL Amine Bechorfa"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678113774,"creation_date":1678106767,"answer_id":75651027,"question_id":75648848,"body_markdown":"A practical way to save an image by URI is by writing the code below : \r\n\r\n1 - Get the Uri of the image using `CutOut.getUri(data)`.\r\n\r\n2- `MediaStore.Images.Media.getBitmap` to get a Bitmap object\r\n\r\n3- `getContentResolver().openOutputStream(imageUri)` to get an `OutputStream` object to write the image data to the Uri.\r\n\r\n4 - `bitmap.compress` to compress the image data and write it to the OutputStream.\r\n\r\n5 - case `Activity.RESULT_OK:` (block of your) `onActivityResult` method.\r\n\r\n        Uri imageUri = CutOut.getUri(data);\r\n    try {\r\n        Bitmap bitmap = MediaStore.Images.Media.getBitmap(this.getContentResolver(), imageUri);\r\n        String displayName = &quot;my_image.png&quot;; // Set the name of the image file here\r\n        OutputStream fos = getContentResolver().openOutputStream(Uri.parse(&quot;file://&quot; + Environment.getExternalStorageDirectory() + &quot;/&quot; + displayName));\r\n        bitmap.compress(Bitmap.CompressFormat.PNG, 100, fos);\r\n        fos.flush();\r\n        fos.close();\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n","title":"How to save image using return Uri?","body":"<p>A practical way to save an image by URI is by writing the code below :</p>\n<p>1 - Get the Uri of the image using <code>CutOut.getUri(data)</code>.</p>\n<p>2- <code>MediaStore.Images.Media.getBitmap</code> to get a Bitmap object</p>\n<p>3- <code>getContentResolver().openOutputStream(imageUri)</code> to get an <code>OutputStream</code> object to write the image data to the Uri.</p>\n<p>4 - <code>bitmap.compress</code> to compress the image data and write it to the OutputStream.</p>\n<p>5 - case <code>Activity.RESULT_OK:</code> (block of your) <code>onActivityResult</code> method.</p>\n<pre><code>    Uri imageUri = CutOut.getUri(data);\ntry {\n    Bitmap bitmap = MediaStore.Images.Media.getBitmap(this.getContentResolver(), imageUri);\n    String displayName = &quot;my_image.png&quot;; // Set the name of the image file here\n    OutputStream fos = getContentResolver().openOutputStream(Uri.parse(&quot;file://&quot; + Environment.getExternalStorageDirectory() + &quot;/&quot; + displayName));\n    bitmap.compress(Bitmap.CompressFormat.PNG, 100, fos);\n    fos.flush();\n    fos.close();\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":27945912,"reputation":21,"user_id":21340908,"display_name":"Fawad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":420,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678390917,"creation_date":1678093340,"question_id":75648848,"body_markdown":"I am using an image background remover library from GitHub. \r\nMy image is not being saved in storage after done with removing background.\r\n\r\n```java\r\n@Override\r\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n    super.onActivityResult(requestCode, resultCode, data);\r\n    if (requestCode == CutOut.CUTOUT_ACTIVITY_REQUEST_CODE) {\r\n        switch (resultCode) {\r\n            case Activity.RESULT_OK:\r\n                Uri imageUri = CutOut.getUri(data);\r\n                // Save the image using the returned Uri here\r\n                //what code to add here so i can save my image\r\n                how to save image using Retun Uri\r\n                Intent intent1=new Intent(BackgroundRemover.this,MainActivity.class);\r\n                startActivity(intent1);\r\n                break;\r\n            case CutOut.CUTOUT_ACTIVITY_RESULT_ERROR_CODE:\r\n                Exception ex = CutOut.getError(data);\r\n                break;\r\n            default:\r\n                System.out.print(&quot;User cancelled the CutOut screen&quot;);\r\n                Intent intent2=new Intent(BackgroundRemover.this,AdvanceFeatures.class);\r\n                startActivity(intent2);\r\n        }\r\n    }\r\n}\r\n```\r\nHow to save image using return Uri?","title":"How to save image using return Uri?","body":"<p>I am using an image background remover library from GitHub.\nMy image is not being saved in storage after done with removing background.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    if (requestCode == CutOut.CUTOUT_ACTIVITY_REQUEST_CODE) {\n        switch (resultCode) {\n            case Activity.RESULT_OK:\n                Uri imageUri = CutOut.getUri(data);\n                // Save the image using the returned Uri here\n                //what code to add here so i can save my image\n                how to save image using Retun Uri\n                Intent intent1=new Intent(BackgroundRemover.this,MainActivity.class);\n                startActivity(intent1);\n                break;\n            case CutOut.CUTOUT_ACTIVITY_RESULT_ERROR_CODE:\n                Exception ex = CutOut.getError(data);\n                break;\n            default:\n                System.out.print(&quot;User cancelled the CutOut screen&quot;);\n                Intent intent2=new Intent(BackgroundRemover.this,AdvanceFeatures.class);\n                startActivity(intent2);\n        }\n    }\n}\n</code></pre>\n<p>How to save image using return Uri?</p>\n"},{"tags":["java","junit","cmd"],"comments":[{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":0,"creation_date":1673887520,"post_id":75136857,"comment_id":132592478,"body_markdown":"There is no need to ever invoke `java` or `javac` when working with Maven (`mvn test`should do)","body":"There is no need to ever invoke <code>java</code> or <code>javac</code> when working with Maven (<code>mvn test</code>should do)"}],"answers":[{"tags":[],"owner":{"account_id":4329690,"reputation":11412,"user_id":3535537,"accept_rate":78,"display_name":"St&#233;phane GRILLON"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678390482,"creation_date":1678390482,"answer_id":75689251,"question_id":75136857,"body_markdown":"Your JUNIT is in `&lt;scope&gt;test&lt;/scope&gt;` So is visible only by `mvn test ...` If you need use `java -jar ...` delete `&lt;scope&gt;test&lt;/scope&gt;` in your Maven pom file.","title":"package org.junit does not exist using Terminal","body":"<p>Your JUNIT is in <code>&lt;scope&gt;test&lt;/scope&gt;</code> So is visible only by <code>mvn test ...</code> If you need use <code>java -jar ...</code> delete <code>&lt;scope&gt;test&lt;/scope&gt;</code> in your Maven pom file.</p>\n"}],"owner":{"account_id":20539655,"reputation":5,"user_id":15074825,"display_name":"Claudia Martins"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678390482,"creation_date":1673885524,"question_id":75136857,"body_markdown":"I am trying to run a JUnit test file in the Terminal with the following command : \r\n\r\n    C:\\work\\apps\\jdk1.8.0_131-x64\\bin\\java -jar C:\\work\\apps\\jdk1.8.0_131-x64\\bin\\junit-4.13.2.jar \r\n    C:\\Users\\silvacl1\\Desktop\\actimizemse-batch- \r\n    java\\src\\main\\java\\com\\natixis\\tests\\junit\\JunitTests\r\n\r\n\r\nbut I receive the following error: \r\nno main manifest attribute, in C:\\work\\apps\\jdk1.8.0_131-x64\\bin\\junit-4.13.2.jar\r\n\r\nIf I attempt to compile this file first with the command :\r\n\r\n    C:/work/apps/jdk1.8.0_131-x64/bin/javac -cp     \r\n    C:/Users/silvacl1/.m2/repository/com/github/noraui/ojdbc8/12.2.0.1/ojdbc8- \r\n    12.2.0.1.jar;C:/Users/silvacl1/.m2/repository/com/sun/mail/javax.mail/1.6.2/javax.mail- \r\n    1.6.2.jar;C:/Users/silvacl1/.m2/repository/commons-lang/commons-lang/2.6/commons-lang- \r\n    2.6.jar;C:/Users/silvacl1/.m2/repository/org/apache/httpcomponents/httpcore/4.4/httpcore- \r\n    4.4.jar;C:/Users/silvacl1/.m2/repository/org/junit.jar;. -d out -sourcepath . \r\n    src/main/java/com/natixis/tests/main/TestsMain.java src/main/java/com/natixis/ws/util/*.java \r\n    src/main/java/com/natixis/tests/junit/*.java \r\n    src/main/java/com/natixis/tests/junit/JunitTests.java             \r\n    src\\main\\java\\com\\natixis\\tests\\junit\\JunitTests.java\r\n\r\nI get the error :\r\npackage org.junit does not exist\r\n\r\nI tried to edit the pom.xml file :\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.13&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nBut both errors persist.\r\nCan someone help ?\r\nThank you very much!\r\n\r\n\r\n","title":"package org.junit does not exist using Terminal","body":"<p>I am trying to run a JUnit test file in the Terminal with the following command :</p>\n<pre><code>C:\\work\\apps\\jdk1.8.0_131-x64\\bin\\java -jar C:\\work\\apps\\jdk1.8.0_131-x64\\bin\\junit-4.13.2.jar \nC:\\Users\\silvacl1\\Desktop\\actimizemse-batch- \njava\\src\\main\\java\\com\\natixis\\tests\\junit\\JunitTests\n</code></pre>\n<p>but I receive the following error:\nno main manifest attribute, in C:\\work\\apps\\jdk1.8.0_131-x64\\bin\\junit-4.13.2.jar</p>\n<p>If I attempt to compile this file first with the command :</p>\n<pre><code>C:/work/apps/jdk1.8.0_131-x64/bin/javac -cp     \nC:/Users/silvacl1/.m2/repository/com/github/noraui/ojdbc8/12.2.0.1/ojdbc8- \n12.2.0.1.jar;C:/Users/silvacl1/.m2/repository/com/sun/mail/javax.mail/1.6.2/javax.mail- \n1.6.2.jar;C:/Users/silvacl1/.m2/repository/commons-lang/commons-lang/2.6/commons-lang- \n2.6.jar;C:/Users/silvacl1/.m2/repository/org/apache/httpcomponents/httpcore/4.4/httpcore- \n4.4.jar;C:/Users/silvacl1/.m2/repository/org/junit.jar;. -d out -sourcepath . \nsrc/main/java/com/natixis/tests/main/TestsMain.java src/main/java/com/natixis/ws/util/*.java \nsrc/main/java/com/natixis/tests/junit/*.java \nsrc/main/java/com/natixis/tests/junit/JunitTests.java             \nsrc\\main\\java\\com\\natixis\\tests\\junit\\JunitTests.java\n</code></pre>\n<p>I get the error :\npackage org.junit does not exist</p>\n<p>I tried to edit the pom.xml file :</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;junit&lt;/groupId&gt;\n  &lt;artifactId&gt;junit&lt;/artifactId&gt;\n  &lt;version&gt;4.13&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>But both errors persist.\nCan someone help ?\nThank you very much!</p>\n"},{"tags":["java","groovy","jenkins-pipeline","jenkins-groovy","jenkins-shared-libraries"],"comments":[{"owner":{"account_id":2335086,"reputation":6501,"user_id":2047614,"display_name":"MaratC"},"score":2,"creation_date":1651137546,"post_id":72029408,"comment_id":127293598,"body_markdown":"`env` only exists in Node context. One does not simply wrap some code with `pipeline {` and expects it to work.","body":"<code>env</code> only exists in Node context. One does not simply wrap some code with <code>pipeline {</code> and expects it to work."},{"owner":{"account_id":7512062,"reputation":178,"user_id":5706691,"display_name":"SURU"},"score":0,"creation_date":1651148565,"post_id":72029408,"comment_id":127297612,"body_markdown":"To prevent NPE you can try using safe navigation operator `?.` like `env?.BRANCH_NAME?.startsWith(&#39;hotfix-&#39;)`","body":"To prevent NPE you can try using safe navigation operator <code>?.</code> like <code>env?.BRANCH_NAME?.startsWith(&#39;hotfix-&#39;)</code>"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651067802,"creation_date":1651067802,"answer_id":72030073,"question_id":72029408,"body_markdown":"The only startsWith() in the code you posted is in\r\n\r\n    env.BRANCH_NAME.startsWith(&#39;hotfix-&#39;)\r\n\r\nand you are being told that there is a null object. It means that\r\n\r\n    env.BRANCH_NAME\r\n\r\nis null. You will need to think why or how to handle that situation. One way might be to use\r\n\r\n    String.valueOf(env.BRANCH_NAME).startsWith(&#39;hotfix-&#39;)","title":"How to resolve &quot;java.lang.NullPointerException: Cannot invoke method startsWith()&quot;?","body":"<p>The only startsWith() in the code you posted is in</p>\n<pre><code>env.BRANCH_NAME.startsWith('hotfix-')\n</code></pre>\n<p>and you are being told that there is a null object. It means that</p>\n<pre><code>env.BRANCH_NAME\n</code></pre>\n<p>is null. You will need to think why or how to handle that situation. One way might be to use</p>\n<pre><code>String.valueOf(env.BRANCH_NAME).startsWith('hotfix-')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5435519,"reputation":131,"user_id":4325119,"display_name":"Juliano Pezzini"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678390000,"creation_date":1678390000,"answer_id":75689196,"question_id":72029408,"body_markdown":"You are probably trying to use a multibranch pipeline syntax on a &quot;non-multibranch pipeline&quot;...\r\n\r\nThis variable is available only for multibranch pipelines.\r\n","title":"How to resolve &quot;java.lang.NullPointerException: Cannot invoke method startsWith()&quot;?","body":"<p>You are probably trying to use a multibranch pipeline syntax on a &quot;non-multibranch pipeline&quot;...</p>\n<p>This variable is available only for multibranch pipelines.</p>\n"}],"owner":{"account_id":4715918,"reputation":678,"user_id":3815050,"accept_rate":25,"display_name":"Pritish"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5526,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1678390000,"creation_date":1651065168,"question_id":72029408,"body_markdown":"I am new to groovy. I am writing a shared library for Jenkins pipeline. I am facing this `java.lang.NullPointerException` exception. Below is my code:\r\n\r\n    def call(Map config = [:], env) {\r\n        \r\n                pipeline {\r\n                    defaults = [\r\n                            &#39;pipelineStrategy&#39;          : &#39;deployOnly&#39;,\r\n                            &#39;buildSystem&#39;               : &#39;maven&#39;\r\n                    ] + config\r\n            \r\n                    environment {\r\n                        BRANCH_NAME = &quot;${GIT_BRANCH.split(&quot;/&quot;)[1]}&quot;\r\n                    }\r\n                    boolean autoDeploy = false;\r\n                    if (env.BRANCH_NAME.equals(&#39;master&#39;) || env.BRANCH_NAME.startsWith(&#39;hotfix-&#39;)){\r\n                        autoDeploy = true;\r\n                    }\r\n            }\r\n    }\r\n\r\nBelow are my Jenkins build logs:\r\n\r\n    java.lang.NullPointerException: Cannot invoke method startsWith() on null object\r\n    \tat org.codehaus.groovy.runtime.NullObject.invokeMethod(NullObject.java:91)\r\n    \tat org.codehaus.groovy.runtime.callsite.PogoMetaClassSite.call(PogoMetaClassSite.java:48)\r\n    \tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:48)\r\n    \tat org.codehaus.groovy.runtime.callsite.NullCallSite.call(NullCallSite.java:35)\r\n    \tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:48)\r\n    \tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:113)\r\n    \tat com.cloudbees.groovy.cps.sandbox.DefaultInvoker.methodCall(DefaultInvoker.java:20)\r\n    \tat pipelineStrategy.call(pipelineStrategy.groovy:21)\r\n","title":"How to resolve &quot;java.lang.NullPointerException: Cannot invoke method startsWith()&quot;?","body":"<p>I am new to groovy. I am writing a shared library for Jenkins pipeline. I am facing this <code>java.lang.NullPointerException</code> exception. Below is my code:</p>\n<pre><code>def call(Map config = [:], env) {\n    \n            pipeline {\n                defaults = [\n                        'pipelineStrategy'          : 'deployOnly',\n                        'buildSystem'               : 'maven'\n                ] + config\n        \n                environment {\n                    BRANCH_NAME = &quot;${GIT_BRANCH.split(&quot;/&quot;)[1]}&quot;\n                }\n                boolean autoDeploy = false;\n                if (env.BRANCH_NAME.equals('master') || env.BRANCH_NAME.startsWith('hotfix-')){\n                    autoDeploy = true;\n                }\n        }\n}\n</code></pre>\n<p>Below are my Jenkins build logs:</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke method startsWith() on null object\n    at org.codehaus.groovy.runtime.NullObject.invokeMethod(NullObject.java:91)\n    at org.codehaus.groovy.runtime.callsite.PogoMetaClassSite.call(PogoMetaClassSite.java:48)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:48)\n    at org.codehaus.groovy.runtime.callsite.NullCallSite.call(NullCallSite.java:35)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:48)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:113)\n    at com.cloudbees.groovy.cps.sandbox.DefaultInvoker.methodCall(DefaultInvoker.java:20)\n    at pipelineStrategy.call(pipelineStrategy.groovy:21)\n</code></pre>\n"},{"tags":["java","intellij-idea","java-stream"],"comments":[{"owner":{"account_id":1888343,"reputation":176617,"user_id":1707091,"display_name":"rgettman"},"score":1,"creation_date":1678389196,"post_id":75689038,"comment_id":133527755,"body_markdown":"If this is your code, you have a couple compiler errors to fix first.  You can&#39;t have a primitive type as a type argument, so `Stream&lt;int&gt;` doesn&#39;t compile.  In addition, `Integer::sum` doesn&#39;t match the `Stream&lt;String&gt;` parameter of `parseIntStream`, which causes an error in calling that method also.","body":"If this is your code, you have a couple compiler errors to fix first.  You can&#39;t have a primitive type as a type argument, so <code>Stream&lt;int&gt;</code> doesn&#39;t compile.  In addition, <code>Integer::sum</code> doesn&#39;t match the <code>Stream&lt;String&gt;</code> parameter of <code>parseIntStream</code>, which causes an error in calling that method also."},{"owner":{"account_id":2185983,"reputation":2728,"user_id":1934402,"accept_rate":92,"display_name":"yaserso"},"score":0,"creation_date":1678389318,"post_id":75689038,"comment_id":133527787,"body_markdown":"Let me fix it. It&#39;s just placeholder code I wrote to simulate my use case.","body":"Let me fix it. It&#39;s just placeholder code I wrote to simulate my use case."},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1678389342,"post_id":75689038,"comment_id":133527790,"body_markdown":"You can always disable that annoying warning. Code readability is more important than making Intellij happy.","body":"You can always disable that annoying warning. Code readability is more important than making Intellij happy."},{"owner":{"account_id":2185983,"reputation":2728,"user_id":1934402,"accept_rate":92,"display_name":"yaserso"},"score":0,"creation_date":1678389797,"post_id":75689038,"comment_id":133527903,"body_markdown":"Of course I don&#39;t mind disabling that warning, but I couldn&#39;t Google whether or not what I was doing was correct and the warning is unnecessary. Also, the fact that it disappears when I remove the assignment confused me.","body":"Of course I don&#39;t mind disabling that warning, but I couldn&#39;t Google whether or not what I was doing was correct and the warning is unnecessary. Also, the fact that it disappears when I remove the assignment confused me."}],"answers":[{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678389830,"creation_date":1678389830,"answer_id":75689172,"question_id":75689038,"body_markdown":"You have some type mismatches which javac and the IDE are trying to accommodate.  Use `mapToInt` rather than `map` to produce an `IntStream`.  The `IntStream` has its own `sum` method so you don&#39;t have to write one.\r\n\r\n    int sum = Stream.of(&quot;a&quot;,&quot;b&quot;,&quot;c&quot;).mapToInt( &lt;your-map-function&gt; ).sum();","title":"&quot;Refactor code so that stream pipeline is used&quot; when assigning stream to a variable before passing to method","body":"<p>You have some type mismatches which javac and the IDE are trying to accommodate.  Use <code>mapToInt</code> rather than <code>map</code> to produce an <code>IntStream</code>.  The <code>IntStream</code> has its own <code>sum</code> method so you don't have to write one.</p>\n<pre><code>int sum = Stream.of(&quot;a&quot;,&quot;b&quot;,&quot;c&quot;).mapToInt( &lt;your-map-function&gt; ).sum();\n</code></pre>\n"}],"owner":{"account_id":2185983,"reputation":2728,"user_id":1934402,"accept_rate":92,"display_name":"yaserso"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75689172,"answer_count":1,"score":0,"last_activity_date":1678389830,"creation_date":1678388890,"question_id":75689038,"body_markdown":"I have the following method:\r\n```java\r\npublic int parseIntStream(Stream&lt;Integer&gt; stream) {\r\n    return stream.reduce(0, Integer::sum);\r\n}\r\n```\r\nWhen I try to pass a stream like so, IntelliJ gives me the warning `Refactor code so that stream pipeline is used`:\r\n```java\r\nStream&lt;int&gt; intStream = Stream.of(&quot;a&quot;,&quot;b&quot;,&quot;c&quot;).map(letter -&gt; letter.equals(&quot;a&quot;) ? 1 : (letter.equals(&quot;b&quot;) ? 2 : (letter.equals(&quot;c&quot;) ? 3 : 0)));\r\nint x = parseIntStream(intStream);\r\n```\r\n\r\nHowever, if I don&#39;t assign the first stream to a variable, the warning goes away:\r\n```java\r\nint x = parseIntStream(Stream.of(&quot;a&quot;,&quot;b&quot;,&quot;c&quot;).map(letter -&gt; letter.equals(&quot;a&quot;) ? 1 : (letter.equals(&quot;b&quot;) ? 2 : (letter.equals(&quot;c&quot;) ? 3 : 0))));\r\n```\r\n\r\nI know `map` is an intermediate operation, but I&#39;m not trying to terminate the stream until I pass it to the method. I&#39;m not even using the stream until then. I am only assigning it at the beginning for the sake of readability.\r\n","title":"&quot;Refactor code so that stream pipeline is used&quot; when assigning stream to a variable before passing to method","body":"<p>I have the following method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int parseIntStream(Stream&lt;Integer&gt; stream) {\n    return stream.reduce(0, Integer::sum);\n}\n</code></pre>\n<p>When I try to pass a stream like so, IntelliJ gives me the warning <code>Refactor code so that stream pipeline is used</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Stream&lt;int&gt; intStream = Stream.of(&quot;a&quot;,&quot;b&quot;,&quot;c&quot;).map(letter -&gt; letter.equals(&quot;a&quot;) ? 1 : (letter.equals(&quot;b&quot;) ? 2 : (letter.equals(&quot;c&quot;) ? 3 : 0)));\nint x = parseIntStream(intStream);\n</code></pre>\n<p>However, if I don't assign the first stream to a variable, the warning goes away:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int x = parseIntStream(Stream.of(&quot;a&quot;,&quot;b&quot;,&quot;c&quot;).map(letter -&gt; letter.equals(&quot;a&quot;) ? 1 : (letter.equals(&quot;b&quot;) ? 2 : (letter.equals(&quot;c&quot;) ? 3 : 0))));\n</code></pre>\n<p>I know <code>map</code> is an intermediate operation, but I'm not trying to terminate the stream until I pass it to the method. I'm not even using the stream until then. I am only assigning it at the beginning for the sake of readability.</p>\n"},{"tags":["java","spring","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":3878647,"reputation":1476,"user_id":3211872,"display_name":"earandap"},"score":0,"creation_date":1678488795,"post_id":75687029,"comment_id":133548947,"body_markdown":"Can you enable the debug level for the sprint security?","body":"Can you enable the debug level for the sprint security?"}],"owner":{"account_id":27864305,"reputation":21,"user_id":21276139,"display_name":"JosePepeDev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678389358,"creation_date":1678377252,"question_id":75687029,"body_markdown":"I&#39;m trying to configure a simple java web server on Spring, using Spring Security, Spring MVC and Thymeleaf. Versions are: Spring Boot 3.0.4, Spring +6.\r\n\r\nI&#39;ve created a global project config, here:\r\n\r\n```\r\n*imports and package*\r\n\r\n// bean &quot;Servlet&quot; encargado de gestionar la seguridad en peticiones web\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class WebSecurityConfig {\r\n\r\n        // declaramos que una forma de autentificar un usuario ser&#225; con usuario y contrase&#241;a.\r\n        @Bean\r\n        public UserDetailsService userDetailsService() throws Exception {\r\n            User.UserBuilder users = User.withDefaultPasswordEncoder(); //desaconsejado\r\n            InMemoryUserDetailsManager manager = new InMemoryUserDetailsManager();\r\n            manager.createUser(users.username(&quot;user&quot;).password(&quot;password&quot;).roles(&quot;USER&quot;).build()); //mock\r\n            manager.createUser(users.username(&quot;admin&quot;).password(&quot;password&quot;).roles(&quot;USER&quot;, &quot;ADMIN&quot;).build());\r\n            return manager;\r\n        }\r\n        @Bean\r\n        protected SecurityFilterChain configure(HttpSecurity http) throws Exception {\r\n            http.authorizeRequests().requestMatchers(&quot;/static/**&quot;, &quot;/css/**&quot;, &quot;/js/**&quot;, &quot;/registration&quot;).permitAll()\r\n                    .requestMatchers(&quot;/admin/**&quot;).access(&quot;hasRole(&#39;ROLE_ADMIN&#39;)&quot;)\r\n                    .anyRequest().authenticated().and().formLogin();\r\n            return http.build();\r\n        }\r\n    }\r\n```\r\n\r\nalso &#39;ve created a multiply security config class, for supporting multiple auth methods, right here:\r\n\r\n```\r\n\r\n\r\n*imports and package*\r\n\r\nimport static org.springframework.security.config.Customizer.withDefaults;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class MultipleHttpSecurityConfig {\r\n\r\n    @Autowired\r\n    private UserDetailsService userDetailsService;\r\n\r\n    @Bean\r\n    public BCryptPasswordEncoder bCryptPasswordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    @Order(2)\r\n    public SecurityFilterChain apiFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .securityMatcher(&quot;/api/**&quot;)\r\n                .authorizeHttpRequests(authorize -&gt; authorize\r\n                        .anyRequest().hasRole(&quot;ADMIN&quot;) // se autoriza a un usuario admin a ingresar a la api\r\n                )\r\n                .httpBasic(withDefaults());\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    @Order(1)\r\n    public SecurityFilterChain formLoginFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeHttpRequests(authorize -&gt; {\r\n                            try {\r\n                                authorize\r\n                                            .anyRequest().authenticated()\r\n                                        .and().formLogin().loginPage(&quot;/ourlogin&quot;)\r\n                                            .defaultSuccessUrl(&quot;/home&quot;,true).permitAll().\r\n                                        and()\r\n                                            .logout()\r\n                                            .logoutUrl(&quot;/logout&quot;)\r\n                                            .logoutSuccessUrl(&quot;/loginhere?logout=true&quot;)\r\n                                            .permitAll()\r\n                                        .and()\r\n                                            .csrf().disable();;\r\n                            } catch (Exception e) {\r\n                                throw new RuntimeException(e);\r\n                            }\r\n                        }\r\n                )\r\n                .formLogin(withDefaults());\r\n        return http.build();\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n}\r\n```\r\n\r\nand got simple controllers, like:\r\n\r\n```\r\n*imports and package*\r\n\r\n@RestController(&quot;/&quot;)\r\nclass LoginController {\r\n\r\n    @GetMapping(&quot;ourlogin&quot;)\r\n    public ModelAndView login(Model model, @RequestParam(value = &quot;error&quot;, required = false) String error,\r\n                              @RequestParam(value = &quot;logout&quot;, required = false) String logout) {\r\n        ModelAndView modelAndView = new ModelAndView();\r\n        if (error != null) {\r\n            modelAndView.addObject(&quot;error&quot;, &quot;Invalid username and/or password&quot;);\r\n        }\r\n        if (logout != null) {\r\n            modelAndView.addObject(&quot;msg&quot;, &quot;logged out successfully.&quot;);\r\n        }\r\n        modelAndView.setViewName(&quot;loginpage&quot;);\r\n        return modelAndView;\r\n    }\r\n\r\n\r\n    @GetMapping(&quot;error&quot;)\r\n    String error() {\r\n        return &quot;index&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;home&quot;)\r\n    String home() {\r\n        return &quot;home&quot;;\r\n    }\r\n\r\n}\r\n```\r\n\r\nFinally, there is the Thymeleaf HTML doc of login:\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;title&gt;Login&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;h2&gt;Login&lt;/h2&gt;\r\n&lt;form th:action=&quot;@{/login}&quot; method=&quot;post&quot;&gt;\r\n    &lt;div&gt;\r\n        &lt;label&gt;Username:&lt;/label&gt;\r\n        &lt;input type=&quot;text&quot; name=&quot;username&quot; th:value=&quot;${username}&quot; /&gt;\r\n    &lt;/div&gt;\r\n    &lt;div&gt;\r\n        &lt;label&gt;Password:&lt;/label&gt;\r\n        &lt;input type=&quot;password&quot; name=&quot;password&quot; th:value=&quot;${password}&quot; /&gt;\r\n    &lt;/div&gt;\r\n    &lt;div&gt;\r\n        &lt;input type=&quot;submit&quot; value=&quot;Login&quot; /&gt;\r\n    &lt;/div&gt;\r\n&lt;/form&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nWhen i run the jar and go to /login (actually &quot;ourlogin&quot; for this project) i get &quot;this page doesn&#39;t work, this page redirect u too many times ERR_TOO_MANY_REDIRECTS&quot; from the browser...\r\n\r\nI&#39;ve to say that i used to use a older version of Spring, for example, using securiy filter chains for declare auth ways is a new thing for me.\r\n\r\nWhat i got from terminal it is:\r\n\r\n```\r\n2023-03-09T12:48:06.151-03:00  INFO 48478 --- [           main] c.j.b.BoilerspringsecApplication         : Started BoilerspringsecApplication in 1.553 seconds (process running for 1.869)\r\n2023-03-09T12:48:06.152-03:00 DEBUG 48478 --- [           main] o.s.b.a.ApplicationAvailabilityBean      : Application availability state LivenessState changed to CORRECT\r\n2023-03-09T12:48:06.153-03:00 DEBUG 48478 --- [           main] o.s.b.a.ApplicationAvailabilityBean      : Application availability state ReadinessState changed to ACCEPTING_TRAFFIC\r\n2023-03-09T12:49:35.277-03:00  INFO 48478 --- [nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n2023-03-09T12:49:35.278-03:00  INFO 48478 --- [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n2023-03-09T12:49:35.278-03:00 DEBUG 48478 --- [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver\r\n2023-03-09T12:49:35.278-03:00 DEBUG 48478 --- [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver\r\n2023-03-09T12:49:35.278-03:00 DEBUG 48478 --- [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver\r\n2023-03-09T12:49:35.279-03:00 DEBUG 48478 --- [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@4017b19c\r\n2023-03-09T12:49:35.279-03:00 DEBUG 48478 --- [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@4e314419\r\n2023-03-09T12:49:35.279-03:00 DEBUG 48478 --- [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails=&#39;false&#39;: request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data\r\n2023-03-09T12:49:35.279-03:00  INFO 48478 --- [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\r\n2023-03-09T12:49:35.288-03:00 DEBUG 48478 --- [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET &quot;/ourlogin&quot;, parameters={}\r\n2023-03-09T12:49:35.295-03:00 DEBUG 48478 --- [nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.josepepe.boilerspringsec.controllers.LoginController#login(Model, String, String)\r\n2023-03-09T12:49:35.313-03:00 DEBUG 48478 --- [nio-8081-exec-1] o.s.w.s.v.ContentNegotiatingViewResolver : Selected &#39;text/html&#39; given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]\r\n2023-03-09T12:49:35.313-03:00 DEBUG 48478 --- [nio-8081-exec-1] o.s.w.servlet.view.InternalResourceView  : View name &#39;loginpage&#39;, model {}\r\n2023-03-09T12:49:35.315-03:00 DEBUG 48478 --- [nio-8081-exec-1] o.s.w.servlet.view.InternalResourceView  : Forwarding to [loginpage]\r\n2023-03-09T12:49:35.330-03:00 DEBUG 48478 --- [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\r\n2023-03-09T12:49:35.335-03:00 DEBUG 48478 --- [nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET &quot;/ourlogin&quot;, parameters={}\r\n2023-03-09T12:49:35.335-03:00 DEBUG 48478 --- [nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.josepepe.boilerspringsec.controllers.LoginController#login(Model, String, String)\r\n2023-03-09T12:49:35.336-03:00 DEBUG 48478 --- [nio-8081-exec-2] o.s.w.s.v.ContentNegotiatingViewResolver : Selected &#39;text/html&#39; given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]\r\n2023-03-09T12:49:35.336-03:00 DEBUG 48478 --- [nio-8081-exec-2] o.s.w.servlet.view.InternalResourceView  : View name &#39;loginpage&#39;, model {}\r\n2023-03-09T12:49:35.336-03:00 DEBUG 48478 --- [nio-8081-exec-2] o.s.w.servlet.view.InternalResourceView  : Forwarding to [loginpage]\r\n2023-03-09T12:49:35.337-03:00 DEBUG 48478 --- [nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\r\n2023-03-09T12:49:35.340-03:00 DEBUG 48478 --- [nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET &quot;/ourlogin&quot;, parameters={}\r\n2023-03-09T12:49:35.340-03:00 DEBUG 48478 --- [nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.josepepe.boilerspringsec.controllers.LoginController#login(Model, String, String)\r\n2023-03-09T12:49:35.341-03:00 DEBUG 48478 --- [nio-8081-exec-3] o.s.w.s.v.ContentNegotiatingViewResolver : Selected &#39;text/html&#39; given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]\r\n2023-03-09T12:49:35.341-03:00 DEBUG 48478 --- [nio-8081-exec-3] o.s.w.servlet.view.InternalResourceView  : View name &#39;loginpage&#39;, model {}\r\n2023-03-09T12:49:35.341-03:00 DEBUG 48478 --- [nio-8081-exec-3] o.s.w.servlet.view.InternalResourceView  : Forwarding to [loginpage]\r\n2023-03-09T12:49:35.342-03:00 DEBUG 48478 --- [nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\r\n2023-03-09T12:49:35.345-03:00 DEBUG 48478 --- [nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET &quot;/ourlogin&quot;, parameters={}\r\n2023-03-09T12:49:35.346-03:00 DEBUG 48478 --- [nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.josepepe.boilerspringsec.controllers.LoginController#login(Model, String, String)\r\n2023-03-09T12:49:35.347-03:00 DEBUG 48478 --- [nio-8081-exec-4] o.s.w.s.v.ContentNegotiatingViewResolver : Selected &#39;text/html&#39; given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]\r\n2023-03-09T12:49:35.347-03:00 DEBUG 48478 --- [nio-8081-exec-4] o.s.w.servlet.view.InternalResourceView  : View name &#39;loginpage&#39;, model {}\r\n2023-03-09T12:49:35.347-03:00 DEBUG 48478 --- [nio-8081-exec-4] o.s.w.servlet.view.InternalResourceView  : Forwarding to [loginpage]\r\n2023-03-09T12:49:35.348-03:00 DEBUG 48478 --- [nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\r\n2023-03-09T12:49:35.351-03:00 DEBUG 48478 --- [nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET &quot;/ourlogin&quot;, parameters={}\r\n2023-03-09T12:49:35.351-03:00 DEBUG 48478 --- [nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.josepepe.boilerspringsec.controllers.LoginController#login(Model, String, String)\r\n2023-03-09T12:49:35.352-03:00 DEBUG 48478 --- [nio-8081-exec-5] o.s.w.s.v.ContentNegotiatingViewResolver : Selected &#39;text/html&#39; given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]\r\n2023-03-09T12:49:35.352-03:00 DEBUG 48478 --- [nio-8081-exec-5] o.s.w.servlet.view.InternalResourceView  : View name &#39;loginpage&#39;, model {}\r\n2023-03-09T12:49:35.352-03:00 DEBUG 48478 --- [nio-8081-exec-5] o.s.w.servlet.view.InternalResourceView  : Forwarding to [loginpage]\r\n2023-03-09T12:49:35.354-03:00 DEBUG 48478 --- [nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\r\n2023-03-09T12:49:35.356-03:00 DEBUG 48478 --- [nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET &quot;/ourlogin&quot;, parameters={}\r\n2023-03-09T12:49:35.357-03:00 DEBUG 48478 --- [nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.josepepe.boilerspringsec.controllers.LoginController#login(Model, String, String)\r\n2023-03-09T12:49:35.357-03:00 DEBUG 48478 --- [nio-8081-exec-6] o.s.w.s.v.ContentNegotiatingViewResolver : Selected &#39;text/html&#39; given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]\r\n2023-03-09T12:49:35.357-03:00 DEBUG 48478 --- [nio-8081-exec-6] o.s.w.servlet.view.InternalResourceView  : View name &#39;loginpage&#39;, model {}\r\n2023-03-09T12:49:35.357-03:00 DEBUG 48478 --- [nio-8081-exec-6] o.s.w.servlet.view.InternalResourceView  : Forwarding to [loginpage]\r\n2023-03-09T12:49:35.359-03:00 DEBUG 48478 --- [nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\r\n2023-03-09T12:49:35.362-03:00 DEBUG 48478 --- [nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET &quot;/ourlogin&quot;, parameters={}\r\n2023-03-09T12:49:35.362-03:00 DEBUG 48478 --- [nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.josepepe.boilerspringsec.controllers.LoginController#login(Model, String, String)\r\n2023-03-09T12:49:35.363-03:00 DEBUG 48478 --- [nio-8081-exec-7] o.s.w.s.v.ContentNegotiatingViewResolver : Selected &#39;text/html&#39; given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]\r\n2023-03-09T12:49:35.363-03:00 DEBUG 48478 --- [nio-8081-exec-7] o.s.w.servlet.view.InternalResourceView  : View name &#39;loginpage&#39;, model {}\r\n2023-03-09T12:49:35.363-03:00 DEBUG 48478 --- [nio-8081-exec-7] o.s.w.servlet.view.InternalResourceView  : Forwarding to [loginpage]\r\n2023-03-09T12:49:35.364-03:00 DEBUG 48478 --- [nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\r\n2023-03-09T12:49:35.367-03:00 DEBUG 48478 --- [nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET &quot;/ourlogin&quot;, parameters={}\r\n2023-03-09T12:49:35.367-03:00 DEBUG 48478 --- [nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.josepepe.boilerspringsec.controllers.LoginController#login(Model, String, String)\r\n2023-03-09T12:49:35.367-03:00 DEBUG 48478 --- [nio-8081-exec-8] o.s.w.s.v.ContentNegotiatingViewResolver : Selected &#39;text/html&#39; given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]\r\n2023-03-09T12:49:35.368-03:00 DEBUG 48478 --- [nio-8081-exec-8] o.s.w.servlet.view.InternalResourceView  : View name &#39;loginpage&#39;, model {}\r\n2023-03-09T12:49:35.368-03:00 DEBUG 48478 --- [nio-8081-exec-8] o.s.w.servlet.view.InternalResourceView  : Forwarding to [loginpage]\r\n2023-03-09T12:49:35.369-03:00 DEBUG 48478 --- [nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\r\n2023-03-09T12:49:35.371-03:00 DEBUG 48478 --- [nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET &quot;/ourlogin&quot;, parameters={}\r\n2023-03-09T12:49:35.372-03:00 DEBUG 48478 --- [nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.josepepe.boilerspringsec.controllers.LoginController#login(Model, String, String)\r\n2023-03-09T12:49:35.372-03:00 DEBUG 48478 --- [nio-8081-exec-9] o.s.w.s.v.ContentNegotiatingViewResolver : Selected &#39;text/html&#39; given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]\r\n2023-03-09T12:49:35.372-03:00 DEBUG 48478 --- [nio-8081-exec-9] o.s.w.servlet.view.InternalResourceView  : View name &#39;loginpage&#39;, model {}\r\n2023-03-09T12:49:35.372-03:00 DEBUG 48478 --- [nio-8081-exec-9] o.s.w.servlet.view.InternalResourceView  : Forwarding to [loginpage]\r\n2023-03-09T12:49:35.373-03:00 DEBUG 48478 --- [nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\r\n2023-03-09T12:49:35.376-03:00 DEBUG 48478 --- [io-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET &quot;/ourlogin&quot;, parameters={}\r\n2023-03-09T12:49:35.377-03:00 DEBUG 48478 --- [io-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.josepepe.boilerspringsec.controllers.LoginController#login(Model, String, String)\r\n2023-03-09T12:49:35.378-03:00 DEBUG 48478 --- [io-8081-exec-10] o.s.w.s.v.ContentNegotiatingViewResolver : Selected &#39;text/html&#39; given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]\r\n2023-03-09T12:49:35.378-03:00 DEBUG 48478 --- [io-8081-exec-10] o.s.w.servlet.view.InternalResourceView  : View name &#39;loginpage&#39;, model {}\r\n2023-03-09T12:49:35.378-03:00 DEBUG 48478 --- [io-8081-exec-10] o.s.w.servlet.view.InternalResourceView  : Forwarding to [loginpage]\r\n2023-03-09T12:49:35.379-03:00 DEBUG 48478 --- [io-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\r\n2023-03-09T12:49:35.382-03:00 DEBUG 48478 --- [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET &quot;/ourlogin&quot;, parameters={}\r\n2023-03-09T12:49:35.382-03:00 DEBUG 48478 --- [nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.josepepe.boilerspringsec.controllers.LoginController#login(Model, String, String)\r\n2023-03-09T12:49:35.382-03:00 DEBUG 48478 --- [nio-8081-exec-1] o.s.w.s.v.ContentNegotiatingViewResolver : Selected &#39;text/html&#39; given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]\r\n2023-03-09T12:49:35.382-03:00 DEBUG 48478 --- [nio-8081-exec-1] o.s.w.servlet.view.InternalResourceView  : View name &#39;loginpage&#39;, model {}\r\n2023-03-09T12:49:35.382-03:00 DEBUG 48478 --- [nio-8081-exec-1] o.s.w.servlet.view.InternalResourceView  : Forwarding to [loginpage]\r\n2023-03-09T12:49:35.383-03:00 DEBUG 48478 --- [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\r\n2023-03-09T12:49:35.386-03:00 DEBUG 48478 --- [nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET &quot;/ourlogin&quot;, parameters={}\r\n2023-03-09T12:49:35.386-03:00 DEBUG 48478 --- [nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.josepepe.boilerspringsec.controllers.LoginController#login(Model, String, String)\r\n2023-03-09T12:49:35.387-03:00 DEBUG 48478 --- [nio-8081-exec-2] o.s.w.s.v.ContentNegotiatingViewResolver : Selected &#39;text/html&#39; given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]\r\n2023-03-09T12:49:35.387-03:00 DEBUG 48478 --- [nio-8081-exec-2] o.s.w.servlet.view.InternalResourceView  : View name &#39;loginpage&#39;, model {}\r\n2023-03-09T12:49:35.387-03:00 DEBUG 48478 --- [nio-8081-exec-2] o.s.w.servlet.view.InternalResourceView  : Forwarding to [loginpage]\r\n2023-03-09T12:49:35.388-03:00 DEBUG 48478 --- [nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\r\n2023-03-09T12:49:35.390-03:00 DEBUG 48478 --- [nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET &quot;/ourlogin&quot;, parameters={}\r\n2023-03-09T12:49:35.391-03:00 DEBUG 48478 --- [nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.josepepe.boilerspringsec.controllers.LoginController#login(Model, String, String)\r\n2023-03-09T12:49:35.391-03:00 DEBUG 48478 --- [nio-8081-exec-3] o.s.w.s.v.ContentNegotiatingViewResolver : Selected &#39;text/html&#39; given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]\r\n2023-03-09T12:49:35.391-03:00 DEBUG 48478 --- [nio-8081-exec-3] o.s.w.servlet.view.InternalResourceView  : View name &#39;loginpage&#39;, model {}\r\n2023-03-09T12:49:35.391-03:00 DEBUG 48478 --- [nio-8081-exec-3] o.s.w.servlet.view.InternalResourceView  : Forwarding to [loginpage]\r\n2023-03-09T12:49:35.392-03:00 DEBUG 48478 --- [nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\r\n2023-03-09T12:49:35.395-03:00 DEBUG 48478 --- [nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET &quot;/ourlogin&quot;, parameters={}\r\n2023-03-09T12:49:35.396-03:00 DEBUG 48478 --- [nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.josepepe.boilerspringsec.controllers.LoginController#login(Model, String, String)\r\n2023-03-09T12:49:35.397-03:00 DEBUG 48478 --- [nio-8081-exec-4] o.s.w.s.v.ContentNegotiatingViewResolver : Selected &#39;text/html&#39; given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]\r\n2023-03-09T12:49:35.397-03:00 DEBUG 48478 --- [nio-8081-exec-4] o.s.w.servlet.view.InternalResourceView  : View name &#39;loginpage&#39;, model {}\r\n2023-03-09T12:49:35.397-03:00 DEBUG 48478 --- [nio-8081-exec-4] o.s.w.servlet.view.InternalResourceView  : Forwarding to [loginpage]\r\n2023-03-09T12:49:35.398-03:00 DEBUG 48478 --- [nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\r\n2023-03-09T12:49:35.401-03:00 DEBUG 48478 --- [nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET &quot;/ourlogin&quot;, parameters={}\r\n2023-03-09T12:49:35.401-03:00 DEBUG 48478 --- [nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.josepepe.boilerspringsec.controllers.LoginController#login(Model, String, String)\r\n2023-03-09T12:49:35.401-03:00 DEBUG 48478 --- [nio-8081-exec-5] o.s.w.s.v.ContentNegotiatingViewResolver : Selected &#39;text/html&#39; given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]\r\n2023-03-09T12:49:35.401-03:00 DEBUG 48478 --- [nio-8081-exec-5] o.s.w.servlet.view.InternalResourceView  : View name &#39;loginpage&#39;, model {}\r\n2023-03-09T12:49:35.402-03:00 DEBUG 48478 --- [nio-8081-exec-5] o.s.w.servlet.view.InternalResourceView  : Forwarding to [loginpage]\r\n2023-03-09T12:49:35.403-03:00 DEBUG 48478 --- [nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\r\n2023-03-09T12:49:35.405-03:00 DEBUG 48478 --- [nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET &quot;/ourlogin&quot;, parameters={}\r\n2023-03-09T12:49:35.406-03:00 DEBUG 48478 --- [nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.josepepe.boilerspringsec.controllers.LoginController#login(Model, String, String)\r\n2023-03-09T12:49:35.406-03:00 DEBUG 48478 --- [nio-8081-exec-6] o.s.w.s.v.ContentNegotiatingViewResolver : Selected &#39;text/html&#39; given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]\r\n2023-03-09T12:49:35.406-03:00 DEBUG 48478 --- [nio-8081-exec-6] o.s.w.servlet.view.InternalResourceView  : View name &#39;loginpage&#39;, model {}\r\n2023-03-09T12:49:35.406-03:00 DEBUG 48478 --- [nio-8081-exec-6] o.s.w.servlet.view.InternalResourceView  : Forwarding to [loginpage]\r\n2023-03-09T12:49:35.407-03:00 DEBUG 48478 --- [nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\r\n2023-03-09T12:49:35.410-03:00 DEBUG 48478 --- [nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET &quot;/ourlogin&quot;, parameters={}\r\n2023-03-09T12:49:35.410-03:00 DEBUG 48478 --- [nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.josepepe.boilerspringsec.controllers.LoginController#login(Model, String, String)\r\n2023-03-09T12:49:35.411-03:00 DEBUG 48478 --- [nio-8081-exec-7] o.s.w.s.v.ContentNegotiatingViewResolver : Selected &#39;text/html&#39; given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]\r\n2023-03-09T12:49:35.411-03:00 DEBUG 48478 --- [nio-8081-exec-7] o.s.w.servlet.view.InternalResourceView  : View name &#39;loginpage&#39;, model {}\r\n2023-03-09T12:49:35.411-03:00 DEBUG 48478 --- [nio-8081-exec-7] o.s.w.servlet.view.InternalResourceView  : Forwarding to [loginpage]\r\n2023-03-09T12:49:35.412-03:00 DEBUG 48478 --- [nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\r\n2023-03-09T12:49:35.414-03:00 DEBUG 48478 --- [nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET &quot;/ourlogin&quot;, parameters={}\r\n2023-03-09T12:49:35.415-03:00 DEBUG 48478 --- [nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.josepepe.boilerspringsec.controllers.LoginController#login(Model, String, String)\r\n2023-03-09T12:49:35.415-03:00 DEBUG 48478 --- [nio-8081-exec-8] o.s.w.s.v.ContentNegotiatingViewResolver : Selected &#39;text/html&#39; given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]\r\n2023-03-09T12:49:35.415-03:00 DEBUG 48478 --- [nio-8081-exec-8] o.s.w.servlet.view.InternalResourceView  : View name &#39;loginpage&#39;, model {}\r\n2023-03-09T12:49:35.415-03:00 DEBUG 48478 --- [nio-8081-exec-8] o.s.w.servlet.view.InternalResourceView  : Forwarding to [loginpage]\r\n2023-03-09T12:49:35.417-03:00 DEBUG 48478 --- [nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\r\n2023-03-09T12:49:35.419-03:00 DEBUG 48478 --- [nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET &quot;/ourlogin&quot;, parameters={}\r\n2023-03-09T12:49:35.419-03:00 DEBUG 48478 --- [nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.josepepe.boilerspringsec.controllers.LoginController#login(Model, String, String)\r\n2023-03-09T12:49:35.420-03:00 DEBUG 48478 --- [nio-8081-exec-9] o.s.w.s.v.ContentNegotiatingViewResolver : Selected &#39;text/html&#39; given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]\r\n2023-03-09T12:49:35.420-03:00 DEBUG 48478 --- [nio-8081-exec-9] o.s.w.servlet.view.InternalResourceView  : View name &#39;loginpage&#39;, model {}\r\n2023-03-09T12:49:35.420-03:00 DEBUG 48478 --- [nio-8081-exec-9] o.s.w.servlet.view.InternalResourceView  : Forwarding to [loginpage]\r\n2023-03-09T12:49:35.421-03:00 DEBUG 48478 --- [nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\r\n2023-03-09T12:49:35.424-03:00 DEBUG 48478 --- [io-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET &quot;/ourlogin&quot;, parameters={}\r\n2023-03-09T12:49:35.424-03:00 DEBUG 48478 --- [io-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.josepepe.boilerspringsec.controllers.LoginController#login(Model, String, String)\r\n2023-03-09T12:49:35.424-03:00 DEBUG 48478 --- [io-8081-exec-10] o.s.w.s.v.ContentNegotiatingViewResolver : Selected &#39;text/html&#39; given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]\r\n2023-03-09T12:49:35.425-03:00 DEBUG 48478 --- [io-8081-exec-10] o.s.w.servlet.view.InternalResourceView  : View name &#39;loginpage&#39;, model {}\r\n2023-03-09T12:49:35.425-03:00 DEBUG 48478 --- [io-8081-exec-10] o.s.w.servlet.view.InternalResourceView  : Forwarding to [loginpage]\r\n2023-03-09T12:49:35.426-03:00 DEBUG 48478 --- [io-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\r\n```\r\n\r\nWhat i can see, there is a loop in my config, but i&#39;ve not idea what i&#39;m doing wrong here, and i would love if you could correct me.","title":"Spring redirects too many times while i&#39;m trying to setup personalized login page","body":"<p>I'm trying to configure a simple java web server on Spring, using Spring Security, Spring MVC and Thymeleaf. Versions are: Spring Boot 3.0.4, Spring +6.</p>\n<p>I've created a global project config, here:</p>\n<pre><code>*imports and package*\n\n// bean &quot;Servlet&quot; encargado de gestionar la seguridad en peticiones web\n    @Configuration\n    @EnableWebSecurity\n    public class WebSecurityConfig {\n\n        // declaramos que una forma de autentificar un usuario será con usuario y contraseña.\n        @Bean\n        public UserDetailsService userDetailsService() throws Exception {\n            User.UserBuilder users = User.withDefaultPasswordEncoder(); //desaconsejado\n            InMemoryUserDetailsManager manager = new InMemoryUserDetailsManager();\n            manager.createUser(users.username(&quot;user&quot;).password(&quot;password&quot;).roles(&quot;USER&quot;).build()); //mock\n            manager.createUser(users.username(&quot;admin&quot;).password(&quot;password&quot;).roles(&quot;USER&quot;, &quot;ADMIN&quot;).build());\n            return manager;\n        }\n        @Bean\n        protected SecurityFilterChain configure(HttpSecurity http) throws Exception {\n            http.authorizeRequests().requestMatchers(&quot;/static/**&quot;, &quot;/css/**&quot;, &quot;/js/**&quot;, &quot;/registration&quot;).permitAll()\n                    .requestMatchers(&quot;/admin/**&quot;).access(&quot;hasRole('ROLE_ADMIN')&quot;)\n                    .anyRequest().authenticated().and().formLogin();\n            return http.build();\n        }\n    }\n</code></pre>\n<p>also 've created a multiply security config class, for supporting multiple auth methods, right here:</p>\n<pre><code>\n\n*imports and package*\n\nimport static org.springframework.security.config.Customizer.withDefaults;\n\n@Configuration\n@EnableWebSecurity\npublic class MultipleHttpSecurityConfig {\n\n    @Autowired\n    private UserDetailsService userDetailsService;\n\n    @Bean\n    public BCryptPasswordEncoder bCryptPasswordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    @Order(2)\n    public SecurityFilterChain apiFilterChain(HttpSecurity http) throws Exception {\n        http\n                .securityMatcher(&quot;/api/**&quot;)\n                .authorizeHttpRequests(authorize -&gt; authorize\n                        .anyRequest().hasRole(&quot;ADMIN&quot;) // se autoriza a un usuario admin a ingresar a la api\n                )\n                .httpBasic(withDefaults());\n        return http.build();\n    }\n\n    @Bean\n    @Order(1)\n    public SecurityFilterChain formLoginFilterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeHttpRequests(authorize -&gt; {\n                            try {\n                                authorize\n                                            .anyRequest().authenticated()\n                                        .and().formLogin().loginPage(&quot;/ourlogin&quot;)\n                                            .defaultSuccessUrl(&quot;/home&quot;,true).permitAll().\n                                        and()\n                                            .logout()\n                                            .logoutUrl(&quot;/logout&quot;)\n                                            .logoutSuccessUrl(&quot;/loginhere?logout=true&quot;)\n                                            .permitAll()\n                                        .and()\n                                            .csrf().disable();;\n                            } catch (Exception e) {\n                                throw new RuntimeException(e);\n                            }\n                        }\n                )\n                .formLogin(withDefaults());\n        return http.build();\n    }\n\n\n\n\n\n}\n</code></pre>\n<p>and got simple controllers, like:</p>\n<pre><code>*imports and package*\n\n@RestController(&quot;/&quot;)\nclass LoginController {\n\n    @GetMapping(&quot;ourlogin&quot;)\n    public ModelAndView login(Model model, @RequestParam(value = &quot;error&quot;, required = false) String error,\n                              @RequestParam(value = &quot;logout&quot;, required = false) String logout) {\n        ModelAndView modelAndView = new ModelAndView();\n        if (error != null) {\n            modelAndView.addObject(&quot;error&quot;, &quot;Invalid username and/or password&quot;);\n        }\n        if (logout != null) {\n            modelAndView.addObject(&quot;msg&quot;, &quot;logged out successfully.&quot;);\n        }\n        modelAndView.setViewName(&quot;loginpage&quot;);\n        return modelAndView;\n    }\n\n\n    @GetMapping(&quot;error&quot;)\n    String error() {\n        return &quot;index&quot;;\n    }\n\n    @GetMapping(&quot;home&quot;)\n    String home() {\n        return &quot;home&quot;;\n    }\n\n}\n</code></pre>\n<p>Finally, there is the Thymeleaf HTML doc of login:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;title&gt;Login&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h2&gt;Login&lt;/h2&gt;\n&lt;form th:action=&quot;@{/login}&quot; method=&quot;post&quot;&gt;\n    &lt;div&gt;\n        &lt;label&gt;Username:&lt;/label&gt;\n        &lt;input type=&quot;text&quot; name=&quot;username&quot; th:value=&quot;${username}&quot; /&gt;\n    &lt;/div&gt;\n    &lt;div&gt;\n        &lt;label&gt;Password:&lt;/label&gt;\n        &lt;input type=&quot;password&quot; name=&quot;password&quot; th:value=&quot;${password}&quot; /&gt;\n    &lt;/div&gt;\n    &lt;div&gt;\n        &lt;input type=&quot;submit&quot; value=&quot;Login&quot; /&gt;\n    &lt;/div&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>When i run the jar and go to /login (actually &quot;ourlogin&quot; for this project) i get &quot;this page doesn't work, this page redirect u too many times ERR_TOO_MANY_REDIRECTS&quot; from the browser...</p>\n<p>I've to say that i used to use a older version of Spring, for example, using securiy filter chains for declare auth ways is a new thing for me.</p>\n<p>What i got from terminal it is:</p>\n<pre><code>2023-03-09T12:48:06.151-03:00  INFO 48478 --- [           main] c.j.b.BoilerspringsecApplication         : Started BoilerspringsecApplication in 1.553 seconds (process running for 1.869)\n2023-03-09T12:48:06.152-03:00 DEBUG 48478 --- [           main] o.s.b.a.ApplicationAvailabilityBean      : Application availability state LivenessState changed to CORRECT\n2023-03-09T12:48:06.153-03:00 DEBUG 48478 --- [           main] o.s.b.a.ApplicationAvailabilityBean      : Application availability state ReadinessState changed to ACCEPTING_TRAFFIC\n2023-03-09T12:49:35.277-03:00  INFO 48478 --- [nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2023-03-09T12:49:35.278-03:00  INFO 48478 --- [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2023-03-09T12:49:35.278-03:00 DEBUG 48478 --- [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver\n2023-03-09T12:49:35.278-03:00 DEBUG 48478 --- [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver\n2023-03-09T12:49:35.278-03:00 DEBUG 48478 --- [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver\n2023-03-09T12:49:35.279-03:00 DEBUG 48478 --- [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@4017b19c\n2023-03-09T12:49:35.279-03:00 DEBUG 48478 --- [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@4e314419\n2023-03-09T12:49:35.279-03:00 DEBUG 48478 --- [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data\n2023-03-09T12:49:35.279-03:00  INFO 48478 --- [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\n2023-03-09T12:49:35.288-03:00 DEBUG 48478 --- [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET &quot;/ourlogin&quot;, parameters={}\n2023-03-09T12:49:35.295-03:00 DEBUG 48478 --- [nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.josepepe.boilerspringsec.controllers.LoginController#login(Model, String, String)\n2023-03-09T12:49:35.313-03:00 DEBUG 48478 --- [nio-8081-exec-1] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]\n2023-03-09T12:49:35.313-03:00 DEBUG 48478 --- [nio-8081-exec-1] o.s.w.servlet.view.InternalResourceView  : View name 'loginpage', model {}\n2023-03-09T12:49:35.315-03:00 DEBUG 48478 --- [nio-8081-exec-1] o.s.w.servlet.view.InternalResourceView  : Forwarding to [loginpage]\n2023-03-09T12:49:35.330-03:00 DEBUG 48478 --- [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\n2023-03-09T12:49:35.335-03:00 DEBUG 48478 --- [nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET &quot;/ourlogin&quot;, parameters={}\n2023-03-09T12:49:35.335-03:00 DEBUG 48478 --- [nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.josepepe.boilerspringsec.controllers.LoginController#login(Model, String, String)\n2023-03-09T12:49:35.336-03:00 DEBUG 48478 --- [nio-8081-exec-2] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]\n2023-03-09T12:49:35.336-03:00 DEBUG 48478 --- [nio-8081-exec-2] o.s.w.servlet.view.InternalResourceView  : View name 'loginpage', model {}\n2023-03-09T12:49:35.336-03:00 DEBUG 48478 --- [nio-8081-exec-2] o.s.w.servlet.view.InternalResourceView  : Forwarding to [loginpage]\n2023-03-09T12:49:35.337-03:00 DEBUG 48478 --- [nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\n2023-03-09T12:49:35.340-03:00 DEBUG 48478 --- [nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET &quot;/ourlogin&quot;, parameters={}\n2023-03-09T12:49:35.340-03:00 DEBUG 48478 --- [nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.josepepe.boilerspringsec.controllers.LoginController#login(Model, String, String)\n2023-03-09T12:49:35.341-03:00 DEBUG 48478 --- [nio-8081-exec-3] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]\n2023-03-09T12:49:35.341-03:00 DEBUG 48478 --- [nio-8081-exec-3] o.s.w.servlet.view.InternalResourceView  : View name 'loginpage', model {}\n2023-03-09T12:49:35.341-03:00 DEBUG 48478 --- [nio-8081-exec-3] o.s.w.servlet.view.InternalResourceView  : Forwarding to [loginpage]\n2023-03-09T12:49:35.342-03:00 DEBUG 48478 --- [nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\n2023-03-09T12:49:35.345-03:00 DEBUG 48478 --- [nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET &quot;/ourlogin&quot;, parameters={}\n2023-03-09T12:49:35.346-03:00 DEBUG 48478 --- [nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.josepepe.boilerspringsec.controllers.LoginController#login(Model, String, String)\n2023-03-09T12:49:35.347-03:00 DEBUG 48478 --- [nio-8081-exec-4] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]\n2023-03-09T12:49:35.347-03:00 DEBUG 48478 --- [nio-8081-exec-4] o.s.w.servlet.view.InternalResourceView  : View name 'loginpage', model {}\n2023-03-09T12:49:35.347-03:00 DEBUG 48478 --- [nio-8081-exec-4] o.s.w.servlet.view.InternalResourceView  : Forwarding to [loginpage]\n2023-03-09T12:49:35.348-03:00 DEBUG 48478 --- [nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\n2023-03-09T12:49:35.351-03:00 DEBUG 48478 --- [nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET &quot;/ourlogin&quot;, parameters={}\n2023-03-09T12:49:35.351-03:00 DEBUG 48478 --- [nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.josepepe.boilerspringsec.controllers.LoginController#login(Model, String, String)\n2023-03-09T12:49:35.352-03:00 DEBUG 48478 --- [nio-8081-exec-5] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]\n2023-03-09T12:49:35.352-03:00 DEBUG 48478 --- [nio-8081-exec-5] o.s.w.servlet.view.InternalResourceView  : View name 'loginpage', model {}\n2023-03-09T12:49:35.352-03:00 DEBUG 48478 --- [nio-8081-exec-5] o.s.w.servlet.view.InternalResourceView  : Forwarding to [loginpage]\n2023-03-09T12:49:35.354-03:00 DEBUG 48478 --- [nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\n2023-03-09T12:49:35.356-03:00 DEBUG 48478 --- [nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET &quot;/ourlogin&quot;, parameters={}\n2023-03-09T12:49:35.357-03:00 DEBUG 48478 --- [nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.josepepe.boilerspringsec.controllers.LoginController#login(Model, String, String)\n2023-03-09T12:49:35.357-03:00 DEBUG 48478 --- [nio-8081-exec-6] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]\n2023-03-09T12:49:35.357-03:00 DEBUG 48478 --- [nio-8081-exec-6] o.s.w.servlet.view.InternalResourceView  : View name 'loginpage', model {}\n2023-03-09T12:49:35.357-03:00 DEBUG 48478 --- [nio-8081-exec-6] o.s.w.servlet.view.InternalResourceView  : Forwarding to [loginpage]\n2023-03-09T12:49:35.359-03:00 DEBUG 48478 --- [nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\n2023-03-09T12:49:35.362-03:00 DEBUG 48478 --- [nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET &quot;/ourlogin&quot;, parameters={}\n2023-03-09T12:49:35.362-03:00 DEBUG 48478 --- [nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.josepepe.boilerspringsec.controllers.LoginController#login(Model, String, String)\n2023-03-09T12:49:35.363-03:00 DEBUG 48478 --- [nio-8081-exec-7] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]\n2023-03-09T12:49:35.363-03:00 DEBUG 48478 --- [nio-8081-exec-7] o.s.w.servlet.view.InternalResourceView  : View name 'loginpage', model {}\n2023-03-09T12:49:35.363-03:00 DEBUG 48478 --- [nio-8081-exec-7] o.s.w.servlet.view.InternalResourceView  : Forwarding to [loginpage]\n2023-03-09T12:49:35.364-03:00 DEBUG 48478 --- [nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\n2023-03-09T12:49:35.367-03:00 DEBUG 48478 --- [nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET &quot;/ourlogin&quot;, parameters={}\n2023-03-09T12:49:35.367-03:00 DEBUG 48478 --- [nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.josepepe.boilerspringsec.controllers.LoginController#login(Model, String, String)\n2023-03-09T12:49:35.367-03:00 DEBUG 48478 --- [nio-8081-exec-8] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]\n2023-03-09T12:49:35.368-03:00 DEBUG 48478 --- [nio-8081-exec-8] o.s.w.servlet.view.InternalResourceView  : View name 'loginpage', model {}\n2023-03-09T12:49:35.368-03:00 DEBUG 48478 --- [nio-8081-exec-8] o.s.w.servlet.view.InternalResourceView  : Forwarding to [loginpage]\n2023-03-09T12:49:35.369-03:00 DEBUG 48478 --- [nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\n2023-03-09T12:49:35.371-03:00 DEBUG 48478 --- [nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET &quot;/ourlogin&quot;, parameters={}\n2023-03-09T12:49:35.372-03:00 DEBUG 48478 --- [nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.josepepe.boilerspringsec.controllers.LoginController#login(Model, String, String)\n2023-03-09T12:49:35.372-03:00 DEBUG 48478 --- [nio-8081-exec-9] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]\n2023-03-09T12:49:35.372-03:00 DEBUG 48478 --- [nio-8081-exec-9] o.s.w.servlet.view.InternalResourceView  : View name 'loginpage', model {}\n2023-03-09T12:49:35.372-03:00 DEBUG 48478 --- [nio-8081-exec-9] o.s.w.servlet.view.InternalResourceView  : Forwarding to [loginpage]\n2023-03-09T12:49:35.373-03:00 DEBUG 48478 --- [nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\n2023-03-09T12:49:35.376-03:00 DEBUG 48478 --- [io-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET &quot;/ourlogin&quot;, parameters={}\n2023-03-09T12:49:35.377-03:00 DEBUG 48478 --- [io-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.josepepe.boilerspringsec.controllers.LoginController#login(Model, String, String)\n2023-03-09T12:49:35.378-03:00 DEBUG 48478 --- [io-8081-exec-10] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]\n2023-03-09T12:49:35.378-03:00 DEBUG 48478 --- [io-8081-exec-10] o.s.w.servlet.view.InternalResourceView  : View name 'loginpage', model {}\n2023-03-09T12:49:35.378-03:00 DEBUG 48478 --- [io-8081-exec-10] o.s.w.servlet.view.InternalResourceView  : Forwarding to [loginpage]\n2023-03-09T12:49:35.379-03:00 DEBUG 48478 --- [io-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\n2023-03-09T12:49:35.382-03:00 DEBUG 48478 --- [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET &quot;/ourlogin&quot;, parameters={}\n2023-03-09T12:49:35.382-03:00 DEBUG 48478 --- [nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.josepepe.boilerspringsec.controllers.LoginController#login(Model, String, String)\n2023-03-09T12:49:35.382-03:00 DEBUG 48478 --- [nio-8081-exec-1] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]\n2023-03-09T12:49:35.382-03:00 DEBUG 48478 --- [nio-8081-exec-1] o.s.w.servlet.view.InternalResourceView  : View name 'loginpage', model {}\n2023-03-09T12:49:35.382-03:00 DEBUG 48478 --- [nio-8081-exec-1] o.s.w.servlet.view.InternalResourceView  : Forwarding to [loginpage]\n2023-03-09T12:49:35.383-03:00 DEBUG 48478 --- [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\n2023-03-09T12:49:35.386-03:00 DEBUG 48478 --- [nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET &quot;/ourlogin&quot;, parameters={}\n2023-03-09T12:49:35.386-03:00 DEBUG 48478 --- [nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.josepepe.boilerspringsec.controllers.LoginController#login(Model, String, String)\n2023-03-09T12:49:35.387-03:00 DEBUG 48478 --- [nio-8081-exec-2] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]\n2023-03-09T12:49:35.387-03:00 DEBUG 48478 --- [nio-8081-exec-2] o.s.w.servlet.view.InternalResourceView  : View name 'loginpage', model {}\n2023-03-09T12:49:35.387-03:00 DEBUG 48478 --- [nio-8081-exec-2] o.s.w.servlet.view.InternalResourceView  : Forwarding to [loginpage]\n2023-03-09T12:49:35.388-03:00 DEBUG 48478 --- [nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\n2023-03-09T12:49:35.390-03:00 DEBUG 48478 --- [nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET &quot;/ourlogin&quot;, parameters={}\n2023-03-09T12:49:35.391-03:00 DEBUG 48478 --- [nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.josepepe.boilerspringsec.controllers.LoginController#login(Model, String, String)\n2023-03-09T12:49:35.391-03:00 DEBUG 48478 --- [nio-8081-exec-3] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]\n2023-03-09T12:49:35.391-03:00 DEBUG 48478 --- [nio-8081-exec-3] o.s.w.servlet.view.InternalResourceView  : View name 'loginpage', model {}\n2023-03-09T12:49:35.391-03:00 DEBUG 48478 --- [nio-8081-exec-3] o.s.w.servlet.view.InternalResourceView  : Forwarding to [loginpage]\n2023-03-09T12:49:35.392-03:00 DEBUG 48478 --- [nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\n2023-03-09T12:49:35.395-03:00 DEBUG 48478 --- [nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET &quot;/ourlogin&quot;, parameters={}\n2023-03-09T12:49:35.396-03:00 DEBUG 48478 --- [nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.josepepe.boilerspringsec.controllers.LoginController#login(Model, String, String)\n2023-03-09T12:49:35.397-03:00 DEBUG 48478 --- [nio-8081-exec-4] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]\n2023-03-09T12:49:35.397-03:00 DEBUG 48478 --- [nio-8081-exec-4] o.s.w.servlet.view.InternalResourceView  : View name 'loginpage', model {}\n2023-03-09T12:49:35.397-03:00 DEBUG 48478 --- [nio-8081-exec-4] o.s.w.servlet.view.InternalResourceView  : Forwarding to [loginpage]\n2023-03-09T12:49:35.398-03:00 DEBUG 48478 --- [nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\n2023-03-09T12:49:35.401-03:00 DEBUG 48478 --- [nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET &quot;/ourlogin&quot;, parameters={}\n2023-03-09T12:49:35.401-03:00 DEBUG 48478 --- [nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.josepepe.boilerspringsec.controllers.LoginController#login(Model, String, String)\n2023-03-09T12:49:35.401-03:00 DEBUG 48478 --- [nio-8081-exec-5] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]\n2023-03-09T12:49:35.401-03:00 DEBUG 48478 --- [nio-8081-exec-5] o.s.w.servlet.view.InternalResourceView  : View name 'loginpage', model {}\n2023-03-09T12:49:35.402-03:00 DEBUG 48478 --- [nio-8081-exec-5] o.s.w.servlet.view.InternalResourceView  : Forwarding to [loginpage]\n2023-03-09T12:49:35.403-03:00 DEBUG 48478 --- [nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\n2023-03-09T12:49:35.405-03:00 DEBUG 48478 --- [nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET &quot;/ourlogin&quot;, parameters={}\n2023-03-09T12:49:35.406-03:00 DEBUG 48478 --- [nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.josepepe.boilerspringsec.controllers.LoginController#login(Model, String, String)\n2023-03-09T12:49:35.406-03:00 DEBUG 48478 --- [nio-8081-exec-6] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]\n2023-03-09T12:49:35.406-03:00 DEBUG 48478 --- [nio-8081-exec-6] o.s.w.servlet.view.InternalResourceView  : View name 'loginpage', model {}\n2023-03-09T12:49:35.406-03:00 DEBUG 48478 --- [nio-8081-exec-6] o.s.w.servlet.view.InternalResourceView  : Forwarding to [loginpage]\n2023-03-09T12:49:35.407-03:00 DEBUG 48478 --- [nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\n2023-03-09T12:49:35.410-03:00 DEBUG 48478 --- [nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET &quot;/ourlogin&quot;, parameters={}\n2023-03-09T12:49:35.410-03:00 DEBUG 48478 --- [nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.josepepe.boilerspringsec.controllers.LoginController#login(Model, String, String)\n2023-03-09T12:49:35.411-03:00 DEBUG 48478 --- [nio-8081-exec-7] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]\n2023-03-09T12:49:35.411-03:00 DEBUG 48478 --- [nio-8081-exec-7] o.s.w.servlet.view.InternalResourceView  : View name 'loginpage', model {}\n2023-03-09T12:49:35.411-03:00 DEBUG 48478 --- [nio-8081-exec-7] o.s.w.servlet.view.InternalResourceView  : Forwarding to [loginpage]\n2023-03-09T12:49:35.412-03:00 DEBUG 48478 --- [nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\n2023-03-09T12:49:35.414-03:00 DEBUG 48478 --- [nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET &quot;/ourlogin&quot;, parameters={}\n2023-03-09T12:49:35.415-03:00 DEBUG 48478 --- [nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.josepepe.boilerspringsec.controllers.LoginController#login(Model, String, String)\n2023-03-09T12:49:35.415-03:00 DEBUG 48478 --- [nio-8081-exec-8] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]\n2023-03-09T12:49:35.415-03:00 DEBUG 48478 --- [nio-8081-exec-8] o.s.w.servlet.view.InternalResourceView  : View name 'loginpage', model {}\n2023-03-09T12:49:35.415-03:00 DEBUG 48478 --- [nio-8081-exec-8] o.s.w.servlet.view.InternalResourceView  : Forwarding to [loginpage]\n2023-03-09T12:49:35.417-03:00 DEBUG 48478 --- [nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\n2023-03-09T12:49:35.419-03:00 DEBUG 48478 --- [nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET &quot;/ourlogin&quot;, parameters={}\n2023-03-09T12:49:35.419-03:00 DEBUG 48478 --- [nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.josepepe.boilerspringsec.controllers.LoginController#login(Model, String, String)\n2023-03-09T12:49:35.420-03:00 DEBUG 48478 --- [nio-8081-exec-9] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]\n2023-03-09T12:49:35.420-03:00 DEBUG 48478 --- [nio-8081-exec-9] o.s.w.servlet.view.InternalResourceView  : View name 'loginpage', model {}\n2023-03-09T12:49:35.420-03:00 DEBUG 48478 --- [nio-8081-exec-9] o.s.w.servlet.view.InternalResourceView  : Forwarding to [loginpage]\n2023-03-09T12:49:35.421-03:00 DEBUG 48478 --- [nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\n2023-03-09T12:49:35.424-03:00 DEBUG 48478 --- [io-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET &quot;/ourlogin&quot;, parameters={}\n2023-03-09T12:49:35.424-03:00 DEBUG 48478 --- [io-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.josepepe.boilerspringsec.controllers.LoginController#login(Model, String, String)\n2023-03-09T12:49:35.424-03:00 DEBUG 48478 --- [io-8081-exec-10] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]\n2023-03-09T12:49:35.425-03:00 DEBUG 48478 --- [io-8081-exec-10] o.s.w.servlet.view.InternalResourceView  : View name 'loginpage', model {}\n2023-03-09T12:49:35.425-03:00 DEBUG 48478 --- [io-8081-exec-10] o.s.w.servlet.view.InternalResourceView  : Forwarding to [loginpage]\n2023-03-09T12:49:35.426-03:00 DEBUG 48478 --- [io-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\n</code></pre>\n<p>What i can see, there is a loop in my config, but i've not idea what i'm doing wrong here, and i would love if you could correct me.</p>\n"},{"tags":["java","spring","mariadb"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1646051887,"post_id":71295143,"comment_id":126021522,"body_markdown":"`java.lang.OutOfMemoryError: Java heap space`.","body":"<code>java.lang.OutOfMemoryError: Java heap space</code>."},{"owner":{"account_id":16506849,"reputation":153,"user_id":11926676,"display_name":"DILIP DHANKECHA"},"score":0,"creation_date":1646051973,"post_id":71295143,"comment_id":126021542,"body_markdown":"@Kayaman we are increase memory from 512MB to 1024MB but issue is still there.","body":"@Kayaman we are increase memory from 512MB to 1024MB but issue is still there."},{"owner":{"account_id":16506849,"reputation":153,"user_id":11926676,"display_name":"DILIP DHANKECHA"},"score":0,"creation_date":1646052588,"post_id":71295143,"comment_id":126021776,"body_markdown":"@Kayaman Not sure but how to resolve it and how to make code workable?","body":"@Kayaman Not sure but how to resolve it and how to make code workable?"}],"answers":[{"tags":[],"owner":{"account_id":16497505,"reputation":33,"user_id":11919663,"display_name":"Raghed Kahil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678389316,"creation_date":1678389316,"answer_id":75689088,"question_id":71295143,"body_markdown":"increase max_allowed_packet in config files","title":"Long transaction in Mariadb with Spring boot [Socket Exception]","body":"<p>increase max_allowed_packet in config files</p>\n"}],"owner":{"account_id":16506849,"reputation":153,"user_id":11926676,"display_name":"DILIP DHANKECHA"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":709,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678389316,"creation_date":1646051771,"question_id":71295143,"body_markdown":"we have a large number of data in database and we want to retrieve those data but while we query in mariadb then it takes very large amount of time.\r\n\r\nWe have Blob type for one of the column of table that is approximate 1.6 MB json data in each row and we try to get those data from table with join query and select query.\r\n\r\n\r\nso we got below mentioned error..\r\n\r\n```\r\n28-02-2022 10:38:28.034 [pool-3-thread-1] WARN  c.zaxxer.hikari.pool.ProxyConnection.checkException - HikariPool-1 - Connection org.mariadb.jdbc.MariaDbConnection@3bab7992 marked as broken because of SQLSTATE(08), ErrorCode(0)\r\njava.sql.SQLNonTransientConnectionException: (conn=12937) Connection reset\r\n\tat org.mariadb.jdbc.internal.util.exceptions.ExceptionMapper.get(ExceptionMapper.java:175)\r\n\tat org.mariadb.jdbc.internal.util.exceptions.ExceptionMapper.getException(ExceptionMapper.java:110)\r\n\tat org.mariadb.jdbc.MariaDbStatement.executeExceptionEpilogue(MariaDbStatement.java:228)\r\n\tat org.mariadb.jdbc.MariaDbStatement.executeInternal(MariaDbStatement.java:334)\r\n\tat org.mariadb.jdbc.MariaDbStatement.execute(MariaDbStatement.java:386)\r\n\tat org.mariadb.jdbc.MariaDbConnection.rollback(MariaDbConnection.java:729)\r\n\tat com.zaxxer.hikari.pool.ProxyConnection.rollback(ProxyConnection.java:377)\r\n\tat com.zaxxer.hikari.pool.HikariProxyConnection.rollback(HikariProxyConnection.java)\r\n\tat org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.rollback(AbstractLogicalConnectionImplementor.java:116)\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.rollback(JdbcResourceLocalTransactionCoordinatorImpl.java:251)\r\n\tat org.hibernate.engine.transaction.internal.TransactionImpl.rollback(TransactionImpl.java:100)\r\n\tat org.springframework.orm.jpa.JpaTransactionManager.doRollback(JpaTransactionManager.java:563)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:838)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(AbstractPlatformTransactionManager.java:812)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.completeTransactionAfterThrowing(TransactionAspectSupport.java:550)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:298)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\r\n\tat com.smartproof.cert.service.CertificateImageService$$EnhancerBySpringCGLIB$$3dbeebd3.scheduleCertificateImageGeneration(&lt;generated&gt;)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)\r\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.sql.SQLException: Connection reset\r\nQuery is: ROLLBACK\r\n\tat org.mariadb.jdbc.internal.util.LogQueryTool.exceptionWithQuery(LogQueryTool.java:119)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.executeQuery(AbstractQueryProtocol.java:200)\r\n\tat org.mariadb.jdbc.MariaDbStatement.executeInternal(MariaDbStatement.java:328)\r\n\t... 29 common frames omitted\r\nCaused by: java.net.SocketException: Connection reset\r\n\tat java.net.SocketInputStream.read(SocketInputStream.java:210)\r\n\tat java.net.SocketInputStream.read(SocketInputStream.java:141)\r\n\tat java.io.BufferedInputStream.read1(BufferedInputStream.java:284)\r\n\tat java.io.BufferedInputStream.read(BufferedInputStream.java:345)\r\n\tat org.mariadb.jdbc.internal.io.input.StandardPacketInputStream.getPacketArray(StandardPacketInputStream.java:260)\r\n\tat org.mariadb.jdbc.internal.io.input.StandardPacketInputStream.getPacket(StandardPacketInputStream.java:207)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.readResultSet(AbstractQueryProtocol.java:1601)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.readPacket(AbstractQueryProtocol.java:1373)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.getResult(AbstractQueryProtocol.java:1323)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.executeQuery(AbstractQueryProtocol.java:197)\r\n\t... 30 common frames omitted\r\n28-02-2022 10:38:28.041 [pool-3-thread-1] ERROR o.s.t.i.TransactionInterceptor.completeTransactionAfterThrowing - Application exception overridden by rollback exception\r\njava.lang.OutOfMemoryError: Java heap space\r\n\tat org.mariadb.jdbc.internal.io.input.StandardPacketInputStream.getPacketArray(StandardPacketInputStream.java:301)\r\n\tat org.mariadb.jdbc.internal.com.read.resultset.SelectResultSet.readNextValue(SelectResultSet.java:390)\r\n\tat org.mariadb.jdbc.internal.com.read.resultset.SelectResultSet.fetchAllResults(SelectResultSet.java:310)\r\n\tat org.mariadb.jdbc.internal.com.read.resultset.SelectResultSet.&lt;init&gt;(SelectResultSet.java:177)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.readResultSet(AbstractQueryProtocol.java:1625)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.readPacket(AbstractQueryProtocol.java:1373)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.getResult(AbstractQueryProtocol.java:1323)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.executeQuery(AbstractQueryProtocol.java:252)\r\n\tat org.mariadb.jdbc.MariaDbPreparedStatementClient.executeInternal(MariaDbPreparedStatementClient.java:209)\r\n\tat org.mariadb.jdbc.MariaDbPreparedStatementClient.execute(MariaDbPreparedStatementClient.java:150)\r\n\tat org.mariadb.jdbc.MariaDbPreparedStatementClient.executeQuery(MariaDbPreparedStatementClient.java:164)\r\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\r\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:60)\r\n\tat org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.getResultSet(AbstractLoadPlanBasedLoader.java:419)\r\n\tat org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeQueryStatement(AbstractLoadPlanBasedLoader.java:191)\r\n\tat org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:121)\r\n\tat org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:86)\r\n\tat org.hibernate.loader.entity.plan.AbstractLoadPlanBasedEntityLoader.load(AbstractLoadPlanBasedEntityLoader.java:167)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:4121)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:508)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:478)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:219)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:278)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:121)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:89)\r\n\tat org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1240)\r\n\tat org.hibernate.internal.SessionImpl.internalLoad(SessionImpl.java:1123)\r\n\tat org.hibernate.type.EntityType.resolveIdentifier(EntityType.java:682)\r\n\tat org.hibernate.type.EntityType.resolve(EntityType.java:464)\r\n\tat org.hibernate.type.ManyToOneType.resolve(ManyToOneType.java:239)\r\n\tat org.hibernate.engine.internal.TwoPhaseLoad.doInitializeEntity(TwoPhaseLoad.java:171)\r\n28-02-2022 10:38:28.043 [pool-3-thread-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler.handleError - Unexpected error occurred in scheduled task.\r\norg.springframework.transaction.TransactionSystemException: Could not roll back JPA transaction; nested exception is org.hibernate.TransactionException: Unable to rollback against JDBC Connection\r\n\tat org.springframework.orm.jpa.JpaTransactionManager.doRollback(JpaTransactionManager.java:567)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:838)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(AbstractPlatformTransactionManager.java:812)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.completeTransactionAfterThrowing(TransactionAspectSupport.java:550)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:298)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\r\n\tat com.smartproof.cert.service.CertificateImageService$$EnhancerBySpringCGLIB$$3dbeebd3.scheduleCertificateImageGeneration(&lt;generated&gt;)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)\r\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: org.hibernate.TransactionException: Unable to rollback against JDBC Connection\r\n\tat org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.rollback(AbstractLogicalConnectionImplementor.java:122)\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.rollback(JdbcResourceLocalTransactionCoordinatorImpl.java:251)\r\n\tat org.hibernate.engine.transaction.internal.TransactionImpl.rollback(TransactionImpl.java:100)\r\n\tat org.springframework.orm.jpa.JpaTransactionManager.doRollback(JpaTransactionManager.java:563)\r\n\t... 21 common frames omitted\r\nCaused by: java.sql.SQLNonTransientConnectionException: (conn=12937) Connection reset\r\n\tat org.mariadb.jdbc.internal.util.exceptions.ExceptionMapper.get(ExceptionMapper.java:175)\r\n\tat org.mariadb.jdbc.internal.util.exceptions.ExceptionMapper.getException(ExceptionMapper.java:110)\r\n\tat org.mariadb.jdbc.MariaDbStatement.executeExceptionEpilogue(MariaDbStatement.java:228)\r\n\tat org.mariadb.jdbc.MariaDbStatement.executeInternal(MariaDbStatement.java:334)\r\n\tat org.mariadb.jdbc.MariaDbStatement.execute(MariaDbStatement.java:386)\r\n\tat org.mariadb.jdbc.MariaDbConnection.rollback(MariaDbConnection.java:729)\r\n\tat com.zaxxer.hikari.pool.ProxyConnection.rollback(ProxyConnection.java:377)\r\n\tat com.zaxxer.hikari.pool.HikariProxyConnection.rollback(HikariProxyConnection.java)\r\n\tat org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.rollback(AbstractLogicalConnectionImplementor.java:116)\r\n\t... 24 common frames omitted\r\nCaused by: java.sql.SQLException: Connection reset\r\nQuery is: ROLLBACK\r\n\tat org.mariadb.jdbc.internal.util.LogQueryTool.exceptionWithQuery(LogQueryTool.java:119)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.executeQuery(AbstractQueryProtocol.java:200)\r\n\tat org.mariadb.jdbc.MariaDbStatement.executeInternal(MariaDbStatement.java:328)\r\n\t... 29 common frames omitted\r\nCaused by: java.net.SocketException: Connection reset\r\n\tat java.net.SocketInputStream.read(SocketInputStream.java:210)\r\n\tat java.net.SocketInputStream.read(SocketInputStream.java:141)\r\n\tat java.io.BufferedInputStream.read1(BufferedInputStream.java:284)\r\n\tat java.io.BufferedInputStream.read(BufferedInputStream.java:345)\r\n\tat org.mariadb.jdbc.internal.io.input.StandardPacketInputStream.getPacketArray(StandardPacketInputStream.java:260)\r\n\tat org.mariadb.jdbc.internal.io.input.StandardPacketInputStream.getPacket(StandardPacketInputStream.java:207)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.readResultSet(AbstractQueryProtocol.java:1601)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.readPacket(AbstractQueryProtocol.java:1373)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.getResult(AbstractQueryProtocol.java:1323)\r\n\tat org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.executeQuery(AbstractQueryProtocol.java:197)\r\n\t... 30 common frames omitted\r\n\r\n```\r\nis anyone any idea about it?","title":"Long transaction in Mariadb with Spring boot [Socket Exception]","body":"<p>we have a large number of data in database and we want to retrieve those data but while we query in mariadb then it takes very large amount of time.</p>\n<p>We have Blob type for one of the column of table that is approximate 1.6 MB json data in each row and we try to get those data from table with join query and select query.</p>\n<p>so we got below mentioned error..</p>\n<pre><code>28-02-2022 10:38:28.034 [pool-3-thread-1] WARN  c.zaxxer.hikari.pool.ProxyConnection.checkException - HikariPool-1 - Connection org.mariadb.jdbc.MariaDbConnection@3bab7992 marked as broken because of SQLSTATE(08), ErrorCode(0)\njava.sql.SQLNonTransientConnectionException: (conn=12937) Connection reset\n    at org.mariadb.jdbc.internal.util.exceptions.ExceptionMapper.get(ExceptionMapper.java:175)\n    at org.mariadb.jdbc.internal.util.exceptions.ExceptionMapper.getException(ExceptionMapper.java:110)\n    at org.mariadb.jdbc.MariaDbStatement.executeExceptionEpilogue(MariaDbStatement.java:228)\n    at org.mariadb.jdbc.MariaDbStatement.executeInternal(MariaDbStatement.java:334)\n    at org.mariadb.jdbc.MariaDbStatement.execute(MariaDbStatement.java:386)\n    at org.mariadb.jdbc.MariaDbConnection.rollback(MariaDbConnection.java:729)\n    at com.zaxxer.hikari.pool.ProxyConnection.rollback(ProxyConnection.java:377)\n    at com.zaxxer.hikari.pool.HikariProxyConnection.rollback(HikariProxyConnection.java)\n    at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.rollback(AbstractLogicalConnectionImplementor.java:116)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.rollback(JdbcResourceLocalTransactionCoordinatorImpl.java:251)\n    at org.hibernate.engine.transaction.internal.TransactionImpl.rollback(TransactionImpl.java:100)\n    at org.springframework.orm.jpa.JpaTransactionManager.doRollback(JpaTransactionManager.java:563)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:838)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(AbstractPlatformTransactionManager.java:812)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.completeTransactionAfterThrowing(TransactionAspectSupport.java:550)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:298)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n    at com.smartproof.cert.service.CertificateImageService$$EnhancerBySpringCGLIB$$3dbeebd3.scheduleCertificateImageGeneration(&lt;generated&gt;)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)\n    at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.sql.SQLException: Connection reset\nQuery is: ROLLBACK\n    at org.mariadb.jdbc.internal.util.LogQueryTool.exceptionWithQuery(LogQueryTool.java:119)\n    at org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.executeQuery(AbstractQueryProtocol.java:200)\n    at org.mariadb.jdbc.MariaDbStatement.executeInternal(MariaDbStatement.java:328)\n    ... 29 common frames omitted\nCaused by: java.net.SocketException: Connection reset\n    at java.net.SocketInputStream.read(SocketInputStream.java:210)\n    at java.net.SocketInputStream.read(SocketInputStream.java:141)\n    at java.io.BufferedInputStream.read1(BufferedInputStream.java:284)\n    at java.io.BufferedInputStream.read(BufferedInputStream.java:345)\n    at org.mariadb.jdbc.internal.io.input.StandardPacketInputStream.getPacketArray(StandardPacketInputStream.java:260)\n    at org.mariadb.jdbc.internal.io.input.StandardPacketInputStream.getPacket(StandardPacketInputStream.java:207)\n    at org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.readResultSet(AbstractQueryProtocol.java:1601)\n    at org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.readPacket(AbstractQueryProtocol.java:1373)\n    at org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.getResult(AbstractQueryProtocol.java:1323)\n    at org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.executeQuery(AbstractQueryProtocol.java:197)\n    ... 30 common frames omitted\n28-02-2022 10:38:28.041 [pool-3-thread-1] ERROR o.s.t.i.TransactionInterceptor.completeTransactionAfterThrowing - Application exception overridden by rollback exception\njava.lang.OutOfMemoryError: Java heap space\n    at org.mariadb.jdbc.internal.io.input.StandardPacketInputStream.getPacketArray(StandardPacketInputStream.java:301)\n    at org.mariadb.jdbc.internal.com.read.resultset.SelectResultSet.readNextValue(SelectResultSet.java:390)\n    at org.mariadb.jdbc.internal.com.read.resultset.SelectResultSet.fetchAllResults(SelectResultSet.java:310)\n    at org.mariadb.jdbc.internal.com.read.resultset.SelectResultSet.&lt;init&gt;(SelectResultSet.java:177)\n    at org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.readResultSet(AbstractQueryProtocol.java:1625)\n    at org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.readPacket(AbstractQueryProtocol.java:1373)\n    at org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.getResult(AbstractQueryProtocol.java:1323)\n    at org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.executeQuery(AbstractQueryProtocol.java:252)\n    at org.mariadb.jdbc.MariaDbPreparedStatementClient.executeInternal(MariaDbPreparedStatementClient.java:209)\n    at org.mariadb.jdbc.MariaDbPreparedStatementClient.execute(MariaDbPreparedStatementClient.java:150)\n    at org.mariadb.jdbc.MariaDbPreparedStatementClient.executeQuery(MariaDbPreparedStatementClient.java:164)\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:60)\n    at org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.getResultSet(AbstractLoadPlanBasedLoader.java:419)\n    at org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeQueryStatement(AbstractLoadPlanBasedLoader.java:191)\n    at org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:121)\n    at org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:86)\n    at org.hibernate.loader.entity.plan.AbstractLoadPlanBasedEntityLoader.load(AbstractLoadPlanBasedEntityLoader.java:167)\n    at org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:4121)\n    at org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:508)\n    at org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:478)\n    at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:219)\n    at org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:278)\n    at org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:121)\n    at org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:89)\n    at org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1240)\n    at org.hibernate.internal.SessionImpl.internalLoad(SessionImpl.java:1123)\n    at org.hibernate.type.EntityType.resolveIdentifier(EntityType.java:682)\n    at org.hibernate.type.EntityType.resolve(EntityType.java:464)\n    at org.hibernate.type.ManyToOneType.resolve(ManyToOneType.java:239)\n    at org.hibernate.engine.internal.TwoPhaseLoad.doInitializeEntity(TwoPhaseLoad.java:171)\n28-02-2022 10:38:28.043 [pool-3-thread-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler.handleError - Unexpected error occurred in scheduled task.\norg.springframework.transaction.TransactionSystemException: Could not roll back JPA transaction; nested exception is org.hibernate.TransactionException: Unable to rollback against JDBC Connection\n    at org.springframework.orm.jpa.JpaTransactionManager.doRollback(JpaTransactionManager.java:567)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:838)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(AbstractPlatformTransactionManager.java:812)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.completeTransactionAfterThrowing(TransactionAspectSupport.java:550)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:298)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n    at com.smartproof.cert.service.CertificateImageService$$EnhancerBySpringCGLIB$$3dbeebd3.scheduleCertificateImageGeneration(&lt;generated&gt;)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)\n    at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: org.hibernate.TransactionException: Unable to rollback against JDBC Connection\n    at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.rollback(AbstractLogicalConnectionImplementor.java:122)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.rollback(JdbcResourceLocalTransactionCoordinatorImpl.java:251)\n    at org.hibernate.engine.transaction.internal.TransactionImpl.rollback(TransactionImpl.java:100)\n    at org.springframework.orm.jpa.JpaTransactionManager.doRollback(JpaTransactionManager.java:563)\n    ... 21 common frames omitted\nCaused by: java.sql.SQLNonTransientConnectionException: (conn=12937) Connection reset\n    at org.mariadb.jdbc.internal.util.exceptions.ExceptionMapper.get(ExceptionMapper.java:175)\n    at org.mariadb.jdbc.internal.util.exceptions.ExceptionMapper.getException(ExceptionMapper.java:110)\n    at org.mariadb.jdbc.MariaDbStatement.executeExceptionEpilogue(MariaDbStatement.java:228)\n    at org.mariadb.jdbc.MariaDbStatement.executeInternal(MariaDbStatement.java:334)\n    at org.mariadb.jdbc.MariaDbStatement.execute(MariaDbStatement.java:386)\n    at org.mariadb.jdbc.MariaDbConnection.rollback(MariaDbConnection.java:729)\n    at com.zaxxer.hikari.pool.ProxyConnection.rollback(ProxyConnection.java:377)\n    at com.zaxxer.hikari.pool.HikariProxyConnection.rollback(HikariProxyConnection.java)\n    at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.rollback(AbstractLogicalConnectionImplementor.java:116)\n    ... 24 common frames omitted\nCaused by: java.sql.SQLException: Connection reset\nQuery is: ROLLBACK\n    at org.mariadb.jdbc.internal.util.LogQueryTool.exceptionWithQuery(LogQueryTool.java:119)\n    at org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.executeQuery(AbstractQueryProtocol.java:200)\n    at org.mariadb.jdbc.MariaDbStatement.executeInternal(MariaDbStatement.java:328)\n    ... 29 common frames omitted\nCaused by: java.net.SocketException: Connection reset\n    at java.net.SocketInputStream.read(SocketInputStream.java:210)\n    at java.net.SocketInputStream.read(SocketInputStream.java:141)\n    at java.io.BufferedInputStream.read1(BufferedInputStream.java:284)\n    at java.io.BufferedInputStream.read(BufferedInputStream.java:345)\n    at org.mariadb.jdbc.internal.io.input.StandardPacketInputStream.getPacketArray(StandardPacketInputStream.java:260)\n    at org.mariadb.jdbc.internal.io.input.StandardPacketInputStream.getPacket(StandardPacketInputStream.java:207)\n    at org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.readResultSet(AbstractQueryProtocol.java:1601)\n    at org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.readPacket(AbstractQueryProtocol.java:1373)\n    at org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.getResult(AbstractQueryProtocol.java:1323)\n    at org.mariadb.jdbc.internal.protocol.AbstractQueryProtocol.executeQuery(AbstractQueryProtocol.java:197)\n    ... 30 common frames omitted\n\n</code></pre>\n<p>is anyone any idea about it?</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":10621254,"reputation":2629,"user_id":7822301,"accept_rate":56,"display_name":"Zakaria Shahed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677744655,"creation_date":1677744655,"answer_id":75612769,"question_id":75611883,"body_markdown":"On the latest version of Selenium introduced selenium manager where you no longer need to define chrome driver path on your code\r\n\r\n     driver = new ChromeDriver(options);\r\n\r\nJust simply call chromedriver is enough to open browser.\r\n\r\nReference# https://www.selenium.dev/blog/2022/introducing-selenium-manager/","title":"Chrome 110 Webdriver 110: Cannot start session : DevTools client failed to connect:","body":"<p>On the latest version of Selenium introduced selenium manager where you no longer need to define chrome driver path on your code</p>\n<pre><code> driver = new ChromeDriver(options);\n</code></pre>\n<p>Just simply call chromedriver is enough to open browser.</p>\n<p>Reference# <a href=\"https://www.selenium.dev/blog/2022/introducing-selenium-manager/\" rel=\"nofollow noreferrer\">https://www.selenium.dev/blog/2022/introducing-selenium-manager/</a></p>\n"},{"tags":[],"owner":{"account_id":27977419,"reputation":1,"user_id":21365890,"display_name":"ng1417"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678388570,"creation_date":1678388570,"answer_id":75688987,"question_id":75611883,"body_markdown":"This solution from Titus Fortner worked for me. The selenium manager didn&#39;t.\r\n\r\n&gt; &quot;If people are using Java 11+ can you try using the new http client\r\n&gt; and see if that fixes the issue without needing to update the options?\r\n&gt; \r\n&gt; https://www.selenium.dev/blog/2022/using-java11-httpclient/ &quot;","title":"Chrome 110 Webdriver 110: Cannot start session : DevTools client failed to connect:","body":"<p>This solution from Titus Fortner worked for me. The selenium manager didn't.</p>\n<blockquote>\n<p>&quot;If people are using Java 11+ can you try using the new http client\nand see if that fixes the issue without needing to update the options?</p>\n<p><a href=\"https://www.selenium.dev/blog/2022/using-java11-httpclient/\" rel=\"nofollow noreferrer\">https://www.selenium.dev/blog/2022/using-java11-httpclient/</a> &quot;</p>\n</blockquote>\n"}],"owner":{"account_id":12798838,"reputation":11,"user_id":9260791,"display_name":"Adam YourBuddy Bethlehem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1037,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678388570,"creation_date":1677737634,"question_id":75611883,"body_markdown":"Chrome Version: Version 110.0.5481.177 (Official Build) (x86_64)\r\nChrome Driver Version: 110.0.5481.77\r\nJava Version 17\r\nSelenium version:4.8.1\r\nmacOS 13.2.1\r\n\r\n```\r\nAfter updating to Chrome 110 and downloading the relevant support driver I can no longer start a session. The error being produced is:\r\n    Starting ChromeDriver 110.0.5481.77 (65ed616c6e8ee3fe0ad64fe83796c020644d42af-refs/branch-heads/5481@{#839}) on port 6304\r\nOnly local connections are allowed.\r\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\nChromeDriver was started successfully.\r\n[1677671505.261][WARNING]: Browser-wide DevTools client failed to connect: disconnected: unable to connect to renderer\r\norg.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: disconnected: not connected to DevTools\r\n  (failed to check if window was closed: disconnected: not connected to DevTools)\r\n  (Session info: chrome=110.0.5481.177) \r\nHost info: host: &#39;Adam.local&#39;, ip: &#39;fe80:0:0:0:6c:2c11:1a77:e83c%en0&#39;\r\nBuild info: version: &#39;4.6.0&#39;, revision: &#39;79f1c02ae20&#39;\r\nSystem info: os.name: &#39;Mac OS X&#39;, os.arch: &#39;x86_64&#39;, os.version: &#39;13.2.1&#39;, java.version: &#39;17.0.6&#39;\r\nDriver info: org.openqa.selenium.chrome.ChromeDriver\r\n```\r\n\r\nDriver setup code:\r\n\r\n```\r\nSystem.out.println(&quot;LOOKING FOR DRIVER&quot;);\r\nSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;./chromedriver&quot;);\r\nSystem.out.println(&quot;DRIVER FOUND&quot;);\r\nChromeOptions options = new ChromeOptions();\r\noptions.addArguments(&quot;--headless&quot;);\r\noptions.addArguments(&quot;user-agent=GetMyBoat/Test&quot;);\r\nsetupDriver = new ChromeDriver(options)\r\n```\r\n\r\nI have also tried with out the  headless argument\r\n\r\nMost of the information online points to mismatch in version between the driver and chrome, however this is not the case here as I have the same version running\r\n\r\nI have tried running it with headless mode\r\n\r\nCompletely uninstalling Chrome and relevant data then reinstalling\r\n\r\nThis only started happening once i updated to Chrome 110","title":"Chrome 110 Webdriver 110: Cannot start session : DevTools client failed to connect:","body":"<p>Chrome Version: Version 110.0.5481.177 (Official Build) (x86_64)\nChrome Driver Version: 110.0.5481.77\nJava Version 17\nSelenium version:4.8.1\nmacOS 13.2.1</p>\n<pre><code>After updating to Chrome 110 and downloading the relevant support driver I can no longer start a session. The error being produced is:\n    Starting ChromeDriver 110.0.5481.77 (65ed616c6e8ee3fe0ad64fe83796c020644d42af-refs/branch-heads/5481@{#839}) on port 6304\nOnly local connections are allowed.\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\nChromeDriver was started successfully.\n[1677671505.261][WARNING]: Browser-wide DevTools client failed to connect: disconnected: unable to connect to renderer\norg.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: disconnected: not connected to DevTools\n  (failed to check if window was closed: disconnected: not connected to DevTools)\n  (Session info: chrome=110.0.5481.177) \nHost info: host: 'Adam.local', ip: 'fe80:0:0:0:6c:2c11:1a77:e83c%en0'\nBuild info: version: '4.6.0', revision: '79f1c02ae20'\nSystem info: os.name: 'Mac OS X', os.arch: 'x86_64', os.version: '13.2.1', java.version: '17.0.6'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\n</code></pre>\n<p>Driver setup code:</p>\n<pre><code>System.out.println(&quot;LOOKING FOR DRIVER&quot;);\nSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;./chromedriver&quot;);\nSystem.out.println(&quot;DRIVER FOUND&quot;);\nChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;--headless&quot;);\noptions.addArguments(&quot;user-agent=GetMyBoat/Test&quot;);\nsetupDriver = new ChromeDriver(options)\n</code></pre>\n<p>I have also tried with out the  headless argument</p>\n<p>Most of the information online points to mismatch in version between the driver and chrome, however this is not the case here as I have the same version running</p>\n<p>I have tried running it with headless mode</p>\n<p>Completely uninstalling Chrome and relevant data then reinstalling</p>\n<p>This only started happening once i updated to Chrome 110</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":2345937,"reputation":3332,"user_id":2056201,"accept_rate":23,"display_name":"Mich"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678388397,"creation_date":1678388397,"answer_id":75688958,"question_id":75688734,"body_markdown":"it was missing \r\n\r\n\r\n        noteOut.setId(3);\r\n\r\nHowever, this displays as an error in Android Studio, eventhough it compiles \r\n\r\n`expected Resource of Type ID`","title":"RelativeLayout.BELOW does not work correctly, android java","body":"<p>it was missing</p>\n<pre><code>    noteOut.setId(3);\n</code></pre>\n<p>However, this displays as an error in Android Studio, eventhough it compiles</p>\n<p><code>expected Resource of Type ID</code></p>\n"}],"owner":{"account_id":2345937,"reputation":3332,"user_id":2056201,"accept_rate":23,"display_name":"Mich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1678388397,"creation_date":1678386911,"question_id":75688734,"body_markdown":"The following snippet of code places `test_above` and `test_below` at the top of the screen, not above and below the `test` element as needed\r\n\r\nHow can I fix the alignment in `addRule(RelativeLayout.BELOW, noteOut.getId());`\r\nand `addRule(RelativeLayout.ABOVE, noteOut.getId());` ?\r\n\r\n\r\n\r\n        //Add the frequency display\r\n        noteOut = new TextView(this);\r\n        freqOut = new TextView(this);\r\n        tuneOut = new TextView(this);\r\n        noteOut.setText(&quot;test&quot;);\r\n        freqOut.setText(&quot;test_below&quot;);\r\n        tuneOut.setText(&quot;test_above&quot;);\r\n        RelativeLayout.LayoutParams noteOutDetails = new RelativeLayout.LayoutParams(\r\n                RelativeLayout.LayoutParams.WRAP_CONTENT,\r\n                RelativeLayout.LayoutParams.WRAP_CONTENT\r\n        );\r\n        noteOutDetails.addRule(RelativeLayout.CENTER_HORIZONTAL);\r\n        noteOutDetails.addRule(RelativeLayout.CENTER_VERTICAL);\r\n        gameLayout.addView(noteOut, noteOutDetails);\r\n        RelativeLayout.LayoutParams tuneOutDetails = new RelativeLayout.LayoutParams(\r\n                RelativeLayout.LayoutParams.WRAP_CONTENT,\r\n                RelativeLayout.LayoutParams.WRAP_CONTENT\r\n        );\r\n        tuneOutDetails.addRule(RelativeLayout.CENTER_HORIZONTAL);\r\n        tuneOutDetails.addRule(RelativeLayout.ABOVE, noteOut.getId());\r\n        gameLayout.addView(tuneOut, tuneOutDetails);\r\n        RelativeLayout.LayoutParams freqOutDetails = new RelativeLayout.LayoutParams(\r\n                RelativeLayout.LayoutParams.WRAP_CONTENT,\r\n                RelativeLayout.LayoutParams.WRAP_CONTENT\r\n        );\r\n        freqOutDetails.addRule(RelativeLayout.CENTER_HORIZONTAL);\r\n        freqOutDetails.addRule(RelativeLayout.BELOW, noteOut.getId());\r\n        gameLayout.addView(freqOut, freqOutDetails);\r\n\r\n\r\nOutput of the emualator shown below\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/T0eNv.png","title":"RelativeLayout.BELOW does not work correctly, android java","body":"<p>The following snippet of code places <code>test_above</code> and <code>test_below</code> at the top of the screen, not above and below the <code>test</code> element as needed</p>\n<p>How can I fix the alignment in <code>addRule(RelativeLayout.BELOW, noteOut.getId());</code>\nand <code>addRule(RelativeLayout.ABOVE, noteOut.getId());</code> ?</p>\n<pre><code>    //Add the frequency display\n    noteOut = new TextView(this);\n    freqOut = new TextView(this);\n    tuneOut = new TextView(this);\n    noteOut.setText(&quot;test&quot;);\n    freqOut.setText(&quot;test_below&quot;);\n    tuneOut.setText(&quot;test_above&quot;);\n    RelativeLayout.LayoutParams noteOutDetails = new RelativeLayout.LayoutParams(\n            RelativeLayout.LayoutParams.WRAP_CONTENT,\n            RelativeLayout.LayoutParams.WRAP_CONTENT\n    );\n    noteOutDetails.addRule(RelativeLayout.CENTER_HORIZONTAL);\n    noteOutDetails.addRule(RelativeLayout.CENTER_VERTICAL);\n    gameLayout.addView(noteOut, noteOutDetails);\n    RelativeLayout.LayoutParams tuneOutDetails = new RelativeLayout.LayoutParams(\n            RelativeLayout.LayoutParams.WRAP_CONTENT,\n            RelativeLayout.LayoutParams.WRAP_CONTENT\n    );\n    tuneOutDetails.addRule(RelativeLayout.CENTER_HORIZONTAL);\n    tuneOutDetails.addRule(RelativeLayout.ABOVE, noteOut.getId());\n    gameLayout.addView(tuneOut, tuneOutDetails);\n    RelativeLayout.LayoutParams freqOutDetails = new RelativeLayout.LayoutParams(\n            RelativeLayout.LayoutParams.WRAP_CONTENT,\n            RelativeLayout.LayoutParams.WRAP_CONTENT\n    );\n    freqOutDetails.addRule(RelativeLayout.CENTER_HORIZONTAL);\n    freqOutDetails.addRule(RelativeLayout.BELOW, noteOut.getId());\n    gameLayout.addView(freqOut, freqOutDetails);\n</code></pre>\n<p>Output of the emualator shown below\n<a href=\"https://i.stack.imgur.com/T0eNv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T0eNv.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","solr","lucene","elasticsearch-synonym"],"comments":[{"owner":{"account_id":26271720,"reputation":466,"user_id":19941536,"display_name":"Seasers"},"score":0,"creation_date":1678704775,"post_id":75688476,"comment_id":133578937,"body_markdown":"From Lucene 7.4.0 the BoostedQuery has been deprecated as you can see here: https://lucene.apache.org/core/7_4_0/queries/deprecated-list.html\nDo you have any custom plugin using boostedQueries? Can you please share also the solrconfig and schema?","body":"From Lucene 7.4.0 the BoostedQuery has been deprecated as you can see here: <a href=\"https://lucene.apache.org/core/7_4_0/queries/deprecated-list.html\" rel=\"nofollow noreferrer\">lucene.apache.org/core/7_4_0/queries/deprecated-list.html</a> Do you have any custom plugin using boostedQueries? Can you please share also the solrconfig and schema?"},{"owner":{"account_id":2804779,"reputation":1310,"user_id":2412237,"accept_rate":23,"display_name":"Nitu Dhaka"},"score":0,"creation_date":1678705612,"post_id":75688476,"comment_id":133579163,"body_markdown":"yes @Seasers, Iam using custom plugin with this. As of now I have taken the source code of hon-lucene-synonyms  plugin remove the boosted Query code and replaced it with FunctionScoreQuery and made the jar then I am using it. I want your idea on this. can we replace hon-lucene-synonyms with any other plugin?","body":"yes @Seasers, Iam using custom plugin with this. As of now I have taken the source code of hon-lucene-synonyms  plugin remove the boosted Query code and replaced it with FunctionScoreQuery and made the jar then I am using it. I want your idea on this. can we replace hon-lucene-synonyms with any other plugin?"},{"owner":{"account_id":26271720,"reputation":466,"user_id":19941536,"display_name":"Seasers"},"score":0,"creation_date":1678708869,"post_id":75688476,"comment_id":133580053,"body_markdown":"Do you really need this plugin for synonym expansion in Solr? Why don&#39;t you use the default `SynonymGraphFilterFactory` available in Lucene 8.11?","body":"Do you really need this plugin for synonym expansion in Solr? Why don&#39;t you use the default <code>SynonymGraphFilterFactory</code> available in Lucene 8.11?"}],"owner":{"account_id":2804779,"reputation":1310,"user_id":2412237,"accept_rate":23,"display_name":"Nitu Dhaka"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678388131,"creation_date":1678385237,"question_id":75688476,"body_markdown":"I am upgrading my solr version in existing application from solr 7.3.1 to 8.11.2. After upgrade my lucene synonyms stopped working and getting error \r\n\r\n    &lt;html&gt;\r\n    \r\n    &lt;head&gt;\r\n    \t&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html;charset=ISO-8859-1&quot; /&gt;\r\n    \t&lt;title&gt;Error 500 java.lang.NoClassDefFoundError: org/apache/lucene/queries/function/BoostedQuery&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    \r\n    &lt;body&gt;\r\n    \t&lt;h2&gt;HTTP ERROR 500 java.lang.NoClassDefFoundError: org/apache/lucene/queries/function/BoostedQuery&lt;/h2&gt;\r\n    \t&lt;table&gt;\r\n    \t\t&lt;tr&gt;\r\n    \t\t\t&lt;th&gt;URI:&lt;/th&gt;\r\n    \t\t\t&lt;td&gt;/solr/emt/search&lt;/td&gt;\r\n    \t\t&lt;/tr&gt;\r\n    \t\t&lt;tr&gt;\r\n    \t\t\t&lt;th&gt;STATUS:&lt;/th&gt;\r\n    \t\t\t&lt;td&gt;500&lt;/td&gt;\r\n    \t\t&lt;/tr&gt;\r\n    \t\t&lt;tr&gt;\r\n    \t\t\t&lt;th&gt;MESSAGE:&lt;/th&gt;\r\n    \t\t\t&lt;td&gt;java.lang.NoClassDefFoundError: org/apache/lucene/queries/function/BoostedQuery&lt;/td&gt;\r\n    \t\t&lt;/tr&gt;\r\n    \t\t&lt;tr&gt;\r\n    \t\t\t&lt;th&gt;SERVLET:&lt;/th&gt;\r\n    \t\t\t&lt;td&gt;default&lt;/td&gt;\r\n    \t\t&lt;/tr&gt;\r\n    \t\t&lt;tr&gt;\r\n    \t\t\t&lt;th&gt;CAUSED BY:&lt;/th&gt;\r\n    \t\t\t&lt;td&gt;java.lang.NoClassDefFoundError: org/apache/lucene/queries/function/BoostedQuery&lt;/td&gt;\r\n    \t\t&lt;/tr&gt;\r\n    \t&lt;/table&gt;\r\n    \t&lt;h3&gt;Caused by:&lt;/h3&gt;\r\n    \t&lt;pre&gt;java.lang.NoClassDefFoundError: org/apache/lucene/queries/function/BoostedQuery\r\n    \tat com.github.healthonnet.search.SynonymExpandingExtendedDismaxQParser.applySynonymQueries(SynonymExpandingExtendedDismaxQParserPlugin.java:409)\r\n    \tat com.github.healthonnet.search.SynonymExpandingExtendedDismaxQParser.attemptToApplySynonymsToQuery(SynonymExpandingExtendedDismaxQParserPlugin.java:393)\r\n    \tat com.github.healthonnet.search.SynonymExpandingExtendedDismaxQParser.parse(SynonymExpandingExtendedDismaxQParserPlugin.java:365)\r\n    \tat org.apache.solr.search.QParser.getQuery(QParser.java:174)\r\n    \tat org.apache.solr.handler.component.QueryComponent.prepare(QueryComponent.java:162)\r\n    \tat org.apache.solr.handler.component.SearchHandler.handleRequestBody(SearchHandler.java:334)\r\n    \tat org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:216)\r\n    \tat dinom.solr.CustomSearchHandler.handleJsonRequest(CustomSearchHandler.java:172)\r\n    \tat dinom.solr.CustomSearchHandler.handleRequest(CustomSearchHandler.java:103)\r\n    \tat org.apache.solr.core.SolrCore.execute(SolrCore.java:2637)\r\n    \tat org.apache.solr.servlet.HttpSolrCall.execute(HttpSolrCall.java:791)\r\n    \tat org.apache.solr.servlet.HttpSolrCall.call(HttpSolrCall.java:564)\r\n    \tat org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:427)\r\n    \tat org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:357)\r\n    \tat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:201)\r\n    \tat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1601)\r\n    \tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:548)\r\n    \tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\r\n    \tat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:600)\r\n    \tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\r\n    \tat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)\r\n    \tat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1624)\r\n    \tat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)\r\n    \tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1434)\r\n    \tat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)\r\n    \tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:501)\r\n    \tat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1594)\r\n    \tat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)\r\n    \tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1349)\r\n    \tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\r\n    \tat org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:191)\r\n    \tat org.eclipse.jetty.server.handler.InetAccessHandler.handle(InetAccessHandler.java:177)\r\n    \tat org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:146)\r\n    \tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\r\n    \tat org.eclipse.jetty.rewrite.handler.RewriteHandler.handle(RewriteHandler.java:322)\r\n    \tat org.eclipse.jetty.server.handler.gzip.GzipHandler.handle(GzipHandler.java:763)\r\n    \tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\r\n    \tat org.eclipse.jetty.server.Server.handle(Server.java:516)\r\n    \tat org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:400)\r\n    \tat org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:645)\r\n    \tat org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:392)\r\n    \tat org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:277)\r\n    \tat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\r\n    \tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\r\n    \tat org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\r\n    \tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:338)\r\n    \tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:315)\r\n    \tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:173)\r\n    \tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:131)\r\n    \tat org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:409)\r\n    \tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:883)\r\n    \tat org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1034)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n    &lt;/pre&gt;\r\n    \r\n    &lt;/body&gt;\r\n\r\n&lt;/html&gt;\r\n\r\nFollowing is my postman request body\r\n\r\n    {\r\n      &quot;path&quot; : [ &quot;/content/nitu&quot;, &quot;https://blogs.nitu.com&quot;, &quot;https://www.nitu.com/smarterwithnitu&quot;, &quot;https://blogsqa.nitu.com&quot;, &quot;/content/nitu-events&quot; ],\r\n      &quot;swg&quot; : &quot;0&quot;,\r\n      &quot;dedupe&quot; : &quot;true&quot;,\r\n      &quot;query&quot; : &quot;4G&quot;,\r\n      &quot;client&quot; : &quot;user-search&quot;,\r\n      &quot;rows&quot; : 20,\r\n      &quot;lang&quot; : [ &quot;*&quot; ]\r\n    }\r\n\r\nI am hitting http://localhost:8983/solr/nitu/search on postman.\r\n\r\nI am a newbie to solr.","title":"Error 500 java.lang.NoClassDefFoundError: org/apache/lucene/queries/function/BoostedQuery","body":"<p>I am upgrading my solr version in existing application from solr 7.3.1 to 8.11.2. After upgrade my lucene synonyms stopped working and getting error</p>\n<pre><code>&lt;html&gt;\n\n&lt;head&gt;\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html;charset=ISO-8859-1&quot; /&gt;\n    &lt;title&gt;Error 500 java.lang.NoClassDefFoundError: org/apache/lucene/queries/function/BoostedQuery&lt;/title&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;h2&gt;HTTP ERROR 500 java.lang.NoClassDefFoundError: org/apache/lucene/queries/function/BoostedQuery&lt;/h2&gt;\n    &lt;table&gt;\n        &lt;tr&gt;\n            &lt;th&gt;URI:&lt;/th&gt;\n            &lt;td&gt;/solr/emt/search&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;th&gt;STATUS:&lt;/th&gt;\n            &lt;td&gt;500&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;th&gt;MESSAGE:&lt;/th&gt;\n            &lt;td&gt;java.lang.NoClassDefFoundError: org/apache/lucene/queries/function/BoostedQuery&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;th&gt;SERVLET:&lt;/th&gt;\n            &lt;td&gt;default&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;th&gt;CAUSED BY:&lt;/th&gt;\n            &lt;td&gt;java.lang.NoClassDefFoundError: org/apache/lucene/queries/function/BoostedQuery&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/table&gt;\n    &lt;h3&gt;Caused by:&lt;/h3&gt;\n    &lt;pre&gt;java.lang.NoClassDefFoundError: org/apache/lucene/queries/function/BoostedQuery\n    at com.github.healthonnet.search.SynonymExpandingExtendedDismaxQParser.applySynonymQueries(SynonymExpandingExtendedDismaxQParserPlugin.java:409)\n    at com.github.healthonnet.search.SynonymExpandingExtendedDismaxQParser.attemptToApplySynonymsToQuery(SynonymExpandingExtendedDismaxQParserPlugin.java:393)\n    at com.github.healthonnet.search.SynonymExpandingExtendedDismaxQParser.parse(SynonymExpandingExtendedDismaxQParserPlugin.java:365)\n    at org.apache.solr.search.QParser.getQuery(QParser.java:174)\n    at org.apache.solr.handler.component.QueryComponent.prepare(QueryComponent.java:162)\n    at org.apache.solr.handler.component.SearchHandler.handleRequestBody(SearchHandler.java:334)\n    at org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:216)\n    at dinom.solr.CustomSearchHandler.handleJsonRequest(CustomSearchHandler.java:172)\n    at dinom.solr.CustomSearchHandler.handleRequest(CustomSearchHandler.java:103)\n    at org.apache.solr.core.SolrCore.execute(SolrCore.java:2637)\n    at org.apache.solr.servlet.HttpSolrCall.execute(HttpSolrCall.java:791)\n    at org.apache.solr.servlet.HttpSolrCall.call(HttpSolrCall.java:564)\n    at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:427)\n    at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:357)\n    at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:201)\n    at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1601)\n    at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:548)\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\n    at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:600)\n    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\n    at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)\n    at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1624)\n    at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)\n    at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1434)\n    at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)\n    at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:501)\n    at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1594)\n    at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)\n    at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1349)\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\n    at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:191)\n    at org.eclipse.jetty.server.handler.InetAccessHandler.handle(InetAccessHandler.java:177)\n    at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:146)\n    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\n    at org.eclipse.jetty.rewrite.handler.RewriteHandler.handle(RewriteHandler.java:322)\n    at org.eclipse.jetty.server.handler.gzip.GzipHandler.handle(GzipHandler.java:763)\n    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\n    at org.eclipse.jetty.server.Server.handle(Server.java:516)\n    at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:400)\n    at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:645)\n    at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:392)\n    at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:277)\n    at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\n    at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\n    at org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\n    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:338)\n    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:315)\n    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:173)\n    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:131)\n    at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:409)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:883)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1034)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n&lt;/pre&gt;\n\n&lt;/body&gt;\n</code></pre>\n\n<p>Following is my postman request body</p>\n<pre><code>{\n  &quot;path&quot; : [ &quot;/content/nitu&quot;, &quot;https://blogs.nitu.com&quot;, &quot;https://www.nitu.com/smarterwithnitu&quot;, &quot;https://blogsqa.nitu.com&quot;, &quot;/content/nitu-events&quot; ],\n  &quot;swg&quot; : &quot;0&quot;,\n  &quot;dedupe&quot; : &quot;true&quot;,\n  &quot;query&quot; : &quot;4G&quot;,\n  &quot;client&quot; : &quot;user-search&quot;,\n  &quot;rows&quot; : 20,\n  &quot;lang&quot; : [ &quot;*&quot; ]\n}\n</code></pre>\n<p>I am hitting http://localhost:8983/solr/nitu/search on postman.</p>\n<p>I am a newbie to solr.</p>\n"},{"tags":["java","rest","dependency-injection","quarkus","inject"],"comments":[{"owner":{"account_id":385127,"reputation":6294,"user_id":742081,"display_name":"Ladicek"},"score":1,"creation_date":1651136951,"post_id":72040636,"comment_id":127293343,"body_markdown":"You can use qualifiers to distinguish them: https://quarkus.io/guides/cdi#you-talked-about-some-qualifiers","body":"You can use qualifiers to distinguish them: <a href=\"https://quarkus.io/guides/cdi#you-talked-about-some-qualifiers\" rel=\"nofollow noreferrer\">quarkus.io/guides/cdi#you-talked-about-some-qualifiers</a>"},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1651222722,"post_id":72040636,"comment_id":127317720,"body_markdown":"@Ladicek please add that as answer for the benefit of future readers","body":"@Ladicek please add that as answer for the benefit of future readers"}],"answers":[{"tags":[],"owner":{"account_id":3524514,"reputation":1032,"user_id":2946008,"display_name":"Allenaz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678388124,"creation_date":1678388124,"answer_id":75688922,"question_id":72040636,"body_markdown":"Based on the OP&#39;s code, as to not be overly long.\r\n\r\nJava: \r\n\r\n    @Qualifier // Create Qualifier annotation\r\n    @Retention(RUNTIME)\r\n    @Target({METHOD, FIELD, PARAMETER, TYPE})\r\n    public @interface Blah {}\r\n    \r\n    ...\r\n   \r\n    @Produces\r\n    @Blah // Add it\r\n    public String firstMethod() {\r\n\r\n    ...\r\n\r\n    @Inject\r\n    @Blah // Qualify it\r\n    String one;\r\n\r\nKotlin:\r\n\r\n    @Qualifier // Create Qualifier annotation\r\n    @Retention\r\n    @Target(AnnotationTarget.PROPERTY, AnnotationTarget.FUNCTION, AnnotationTarget.FIELD, AnnotationTarget.CLASS, AnnotationTarget.VALUE_PARAMETER) // Not all are needed\r\n    annotation class Blah\r\n\r\n    ...\r\n    \r\n    @Produces\r\n    @Blah // Add it\r\n    fun firstMethod(): String {\r\n\r\n    ...\r\n    \r\n    // As a constructor parameter\r\n    class RestAPI(@Blah private val one: String) {\r\n\r\n    // OR as a field\r\n    @Inject\r\n    @field:Blah\r\n    lateinit var one: String\r\n    \r\n\r\n\r\n","title":"Java/Quarkus: How to Inject different instances which return the same data type","body":"<p>Based on the OP's code, as to not be overly long.</p>\n<p>Java:</p>\n<pre><code>@Qualifier // Create Qualifier annotation\n@Retention(RUNTIME)\n@Target({METHOD, FIELD, PARAMETER, TYPE})\npublic @interface Blah {}\n\n...\n\n@Produces\n@Blah // Add it\npublic String firstMethod() {\n\n...\n\n@Inject\n@Blah // Qualify it\nString one;\n</code></pre>\n<p>Kotlin:</p>\n<pre><code>@Qualifier // Create Qualifier annotation\n@Retention\n@Target(AnnotationTarget.PROPERTY, AnnotationTarget.FUNCTION, AnnotationTarget.FIELD, AnnotationTarget.CLASS, AnnotationTarget.VALUE_PARAMETER) // Not all are needed\nannotation class Blah\n\n...\n\n@Produces\n@Blah // Add it\nfun firstMethod(): String {\n\n...\n\n// As a constructor parameter\nclass RestAPI(@Blah private val one: String) {\n\n// OR as a field\n@Inject\n@field:Blah\nlateinit var one: String\n</code></pre>\n"}],"owner":{"account_id":10278040,"reputation":2879,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":806,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678388124,"creation_date":1651135555,"question_id":72040636,"body_markdown":"I am in a bit tricky situation where I have 2 methods in my Quarkus `RESTApplication` both of which return the same data type. However, I would like to inject them into 2 different variables.\r\n\r\nIf there is only one method with one variable then everything works fine but since there are 2 methods and both of which return the same type the Quarkus is unable to identify which to inject and runs into the error: \r\n```\r\nAmbiguous dependencies for type String and qualifiers [@Default]\r\n```\r\n\r\nFollowing is my code:\r\nRestApplication.class, this has the @Produces which will provide the required dependency:\r\n```\r\n@ApplicationPath(&quot;/&quot;)\r\npublic class RESTApplication extends Application {\r\n\r\n    @Produces\r\n    public String firstMethod() {\r\n        System.out.println(&quot;firstMethod : returns Hello One&quot;);\r\n        return &quot;HELLO ONE&quot;;\r\n    }\r\n\r\n    @Produces\r\n    public String secondMethod() {\r\n        System.out.println(&quot;secondMethod : returns Hello TWO&quot;);\r\n        return &quot;HELLO TWO&quot;;\r\n    }\r\n}\r\n```\r\n\r\nFollowing is the class where I am injecting the returned value:\r\n```\r\n@Path(&quot;/api&quot;)\r\npublic class RestAPI {\r\n\r\n    @Inject\r\n    String one;\r\n\r\n    @Inject\r\n    String two;\r\n\r\n    @Path(&quot;/one&quot;)\r\n    @POST\r\n    @Consumes(MediaType.TEXT_PLAIN)\r\n    @Produces(MediaType.TEXT_PLAIN)\r\n    public String myMethodOne(final String input) {\r\n        System.out.println(&quot;One : &quot; + one)\r\n        return one;\r\n    }\r\n\r\n    @Path(&quot;/two&quot;)\r\n    @POST\r\n    @Consumes(MediaType.TEXT_PLAIN)\r\n    @Produces(MediaType.TEXT_PLAIN)\r\n    public String myMethodOne(final String input) {\r\n        System.out.println(&quot;Two : &quot; + two)\r\n        return two;\r\n    }\r\n}\r\n```\r\n\r\nAs you can see both methods are returning the same type so Quarkus cannot understand which one to inject. Is there a way to differentiate this?\r\n\r\nIf I remove the second method in `RestApplication` then everything works perfectly. In my project, I need to return different values of the same type based on some calculation so I need to use something like this.","title":"Java/Quarkus: How to Inject different instances which return the same data type","body":"<p>I am in a bit tricky situation where I have 2 methods in my Quarkus <code>RESTApplication</code> both of which return the same data type. However, I would like to inject them into 2 different variables.</p>\n<p>If there is only one method with one variable then everything works fine but since there are 2 methods and both of which return the same type the Quarkus is unable to identify which to inject and runs into the error:</p>\n<pre><code>Ambiguous dependencies for type String and qualifiers [@Default]\n</code></pre>\n<p>Following is my code:\nRestApplication.class, this has the @Produces which will provide the required dependency:</p>\n<pre><code>@ApplicationPath(&quot;/&quot;)\npublic class RESTApplication extends Application {\n\n    @Produces\n    public String firstMethod() {\n        System.out.println(&quot;firstMethod : returns Hello One&quot;);\n        return &quot;HELLO ONE&quot;;\n    }\n\n    @Produces\n    public String secondMethod() {\n        System.out.println(&quot;secondMethod : returns Hello TWO&quot;);\n        return &quot;HELLO TWO&quot;;\n    }\n}\n</code></pre>\n<p>Following is the class where I am injecting the returned value:</p>\n<pre><code>@Path(&quot;/api&quot;)\npublic class RestAPI {\n\n    @Inject\n    String one;\n\n    @Inject\n    String two;\n\n    @Path(&quot;/one&quot;)\n    @POST\n    @Consumes(MediaType.TEXT_PLAIN)\n    @Produces(MediaType.TEXT_PLAIN)\n    public String myMethodOne(final String input) {\n        System.out.println(&quot;One : &quot; + one)\n        return one;\n    }\n\n    @Path(&quot;/two&quot;)\n    @POST\n    @Consumes(MediaType.TEXT_PLAIN)\n    @Produces(MediaType.TEXT_PLAIN)\n    public String myMethodOne(final String input) {\n        System.out.println(&quot;Two : &quot; + two)\n        return two;\n    }\n}\n</code></pre>\n<p>As you can see both methods are returning the same type so Quarkus cannot understand which one to inject. Is there a way to differentiate this?</p>\n<p>If I remove the second method in <code>RestApplication</code> then everything works perfectly. In my project, I need to return different values of the same type based on some calculation so I need to use something like this.</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"comments":[{"owner":{"account_id":25345006,"reputation":1,"user_id":21358752,"display_name":"Muthana Rabab&#39;ah"},"score":0,"creation_date":1678363790,"post_id":75680415,"comment_id":133519904,"body_markdown":"In the second question , I want to get the phone number while phone is ringing .","body":"In the second question , I want to get the phone number while phone is ringing ."},{"owner":{"account_id":17258715,"reputation":96,"user_id":21301929,"display_name":"vinoth raj"},"score":0,"creation_date":1678364186,"post_id":75680415,"comment_id":133520028,"body_markdown":"Sorry, man I am not completely sure about it.","body":"Sorry, man I am not completely sure about it."}],"tags":[],"owner":{"account_id":17258715,"reputation":96,"user_id":21301929,"display_name":"vinoth raj"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678335811,"creation_date":1678335811,"answer_id":75680415,"question_id":75679611,"body_markdown":"For, your first question to reject the incoming call you can use the `InCallService`.\r\n\r\n    public class CallService extends InCallService{\r\n        @Override\r\n        public void onCallAdded(Call call){\r\n           super.onCallAdded(call);\r\n           call.disconnect();\r\n        }\r\n    }\r\n\r\nFor, your second qustion you can use the method called `registerTelephonyCallback()` To register the `TelephonyCallback` and then override the `onCallStateChanged()` method. For this you need to target API level 31 or above.\r\n\r\n","title":"How to reject incoming calls using InCallService","body":"<p>For, your first question to reject the incoming call you can use the <code>InCallService</code>.</p>\n<pre><code>public class CallService extends InCallService{\n    @Override\n    public void onCallAdded(Call call){\n       super.onCallAdded(call);\n       call.disconnect();\n    }\n}\n</code></pre>\n<p>For, your second qustion you can use the method called <code>registerTelephonyCallback()</code> To register the <code>TelephonyCallback</code> and then override the <code>onCallStateChanged()</code> method. For this you need to target API level 31 or above.</p>\n"}],"owner":{"account_id":25345006,"reputation":1,"user_id":21358752,"display_name":"Muthana Rabab&#39;ah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678387746,"creation_date":1678324859,"question_id":75679611,"body_markdown":"I have a question :\r\n\r\nHow i can to **reject** incoming call using **InCallService** .\r\n\r\n\r\n\r\nIn the documentation it asks me to use **InCallService** instead of **EXTRA_INCOMING_NUMBER** in **TelephonyManager**\r\nand instead of **endCall()** in **TelecomManager** because are deprecated \r\nbut i don&#39;t know about how to use it\r\n\r\n\r\nThis means that the solution to the two questions is from **InCallService**\r\n\r\njust, I need to use **reject** call phone in my app , not create default call phone app.\r\n\r\n**AndroidManifest.xml**\r\n\r\n\r\n```\r\n&lt;receiver android:name=&quot;.CallerNumberReceiver&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.intent.action.PHONE_STATE&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt; \r\n\r\n```\r\n\r\n\r\n**Class CallerNumberReceiver**\r\n\r\n\r\n```\r\npackage com.example.myapplication1;\r\n\r\nimport android.content.BroadcastReceiver;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.os.Build;\r\nimport android.telephony.PhoneStateListener;\r\nimport android.telephony.TelephonyCallback;\r\nimport android.telephony.TelephonyManager;\r\n\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.RequiresApi;\r\n\r\npublic class CallerNumberReceiver extends BroadcastReceiver {\r\n\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n\r\n        TelephonyManager telephonyManager = (TelephonyManager) context.getSystemService(Context.TELEPHONY_SERVICE);\r\n\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\r\n\r\n            telephonyManager.registerTelephonyCallback(context.getMainExecutor(), new CallStateListener() {\r\n                @Override\r\n                public void onCallStateChanged(int state) {\r\n                    if(state == TelephonyManager.CALL_STATE_RINGING){\r\n                        // WHERE IS PHONE NUMBER?\r\n                    }\r\n                }\r\n            });\r\n        } else {\r\n            telephonyManager.listen(new PhoneStateListener() {\r\n                @Override\r\n                public void onCallStateChanged(int state, String phoneNumber) {\r\n                    super.onCallStateChanged(state, phoneNumber);\r\n                    if (state == TelephonyManager.CALL_STATE_RINGING) {\r\n                        Toast.makeText(context, &quot;number : &quot; + phoneNumber, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n            }, PhoneStateListener.LISTEN_CALL_STATE);\r\n        }\r\n    }\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.S)\r\n    abstract static class CallStateListener extends TelephonyCallback implements TelephonyCallback.CallStateListener {\r\n        @Override\r\n        public void onCallStateChanged(int state) {\r\n\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n","title":"How to reject incoming calls using InCallService","body":"<p>I have a question :</p>\n<p>How i can to <strong>reject</strong> incoming call using <strong>InCallService</strong> .</p>\n<p>In the documentation it asks me to use <strong>InCallService</strong> instead of <strong>EXTRA_INCOMING_NUMBER</strong> in <strong>TelephonyManager</strong>\nand instead of <strong>endCall()</strong> in <strong>TelecomManager</strong> because are deprecated\nbut i don't know about how to use it</p>\n<p>This means that the solution to the two questions is from <strong>InCallService</strong></p>\n<p>just, I need to use <strong>reject</strong> call phone in my app , not create default call phone app.</p>\n<p><strong>AndroidManifest.xml</strong></p>\n<pre><code>&lt;receiver android:name=&quot;.CallerNumberReceiver&quot;\n            android:enabled=&quot;true&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.PHONE_STATE&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt; \n\n</code></pre>\n<p><strong>Class CallerNumberReceiver</strong></p>\n<pre><code>package com.example.myapplication1;\n\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.os.Build;\nimport android.telephony.PhoneStateListener;\nimport android.telephony.TelephonyCallback;\nimport android.telephony.TelephonyManager;\n\nimport android.widget.Toast;\n\nimport androidx.annotation.RequiresApi;\n\npublic class CallerNumberReceiver extends BroadcastReceiver {\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n\n        TelephonyManager telephonyManager = (TelephonyManager) context.getSystemService(Context.TELEPHONY_SERVICE);\n\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\n\n            telephonyManager.registerTelephonyCallback(context.getMainExecutor(), new CallStateListener() {\n                @Override\n                public void onCallStateChanged(int state) {\n                    if(state == TelephonyManager.CALL_STATE_RINGING){\n                        // WHERE IS PHONE NUMBER?\n                    }\n                }\n            });\n        } else {\n            telephonyManager.listen(new PhoneStateListener() {\n                @Override\n                public void onCallStateChanged(int state, String phoneNumber) {\n                    super.onCallStateChanged(state, phoneNumber);\n                    if (state == TelephonyManager.CALL_STATE_RINGING) {\n                        Toast.makeText(context, &quot;number : &quot; + phoneNumber, Toast.LENGTH_SHORT).show();\n                    }\n                }\n            }, PhoneStateListener.LISTEN_CALL_STATE);\n        }\n    }\n\n    @RequiresApi(api = Build.VERSION_CODES.S)\n    abstract static class CallStateListener extends TelephonyCallback implements TelephonyCallback.CallStateListener {\n        @Override\n        public void onCallStateChanged(int state) {\n\n        }\n\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","docker","microservices","netflix-eureka"],"answers":[{"comments":[{"owner":{"account_id":9829832,"reputation":125,"user_id":7281806,"display_name":"Artem Vlasenko"},"score":0,"creation_date":1553517503,"post_id":55337385,"comment_id":97401082,"body_markdown":"I applied settings that you wrote. After that i should be able to see eureka dashboard at http://eurekaserver:8761/ ? In browser a cannot see it. And my config server is not able to register with Eureka.  In fact eureka is available at http://localhost:8761/","body":"I applied settings that you wrote. After that i should be able to see eureka dashboard at <a href=\"http://eurekaserver:8761/\" rel=\"nofollow noreferrer\">eurekaserver:8761</a> ? In browser a cannot see it. And my config server is not able to register with Eureka.  In fact eureka is available at <a href=\"http://localhost:8761/\" rel=\"nofollow noreferrer\">localhost:8761</a>"},{"owner":{"account_id":11253283,"reputation":1764,"user_id":8253837,"display_name":"Daria Pydorenko"},"score":2,"creation_date":1553517718,"post_id":55337385,"comment_id":97401214,"body_markdown":"For you, it is available at localhost. But for other docker containers, it should be available with its name.","body":"For you, it is available at localhost. But for other docker containers, it should be available with its name."},{"owner":{"account_id":9829832,"reputation":125,"user_id":7281806,"display_name":"Artem Vlasenko"},"score":1,"creation_date":1553518949,"post_id":55337385,"comment_id":97401974,"body_markdown":"Now i got: com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server. For my config server. Don&#39;t understand, why config server cannot see the eureka url. My repo https://github.com/Artuwok/artbook","body":"Now i got: com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server. For my config server. Don&#39;t understand, why config server cannot see the eureka url. My repo <a href=\"https://github.com/Artuwok/artbook\" rel=\"nofollow noreferrer\">github.com/Artuwok/artbook</a>"}],"tags":[],"owner":{"account_id":11253283,"reputation":1764,"user_id":8253837,"display_name":"Daria Pydorenko"},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1553515397,"creation_date":1553515397,"answer_id":55337385,"question_id":55336558,"body_markdown":"You config server and Eureka server both run in Docker. So they can connect with each other using their names in Docker, not `localhost`.\r\n\r\nSo Eureka service URL should be: `http://eurekaserver:8761/`.\r\n\r\nAnd you should add the code below to your `configserver` configuration in `docker-compose.yml`:\r\n\r\n    links:\r\n        - eurekaserver","title":"Cloud config got Request execution error. endpoint=DefaultEndpoint{ serviceUrl=&#39;http://localhost:8761/} from Eureka server","body":"<p>You config server and Eureka server both run in Docker. So they can connect with each other using their names in Docker, not <code>localhost</code>.</p>\n\n<p>So Eureka service URL should be: <code>http://eurekaserver:8761/</code>.</p>\n\n<p>And you should add the code below to your <code>configserver</code> configuration in <code>docker-compose.yml</code>:</p>\n\n<pre><code>links:\n    - eurekaserver\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10814042,"reputation":96,"user_id":7953716,"display_name":"Sampaguita"},"score":0,"creation_date":1644501603,"post_id":67441943,"comment_id":125627500,"body_markdown":"His right, if not using docker, you need to add the server.port to 8761.","body":"His right, if not using docker, you need to add the server.port to 8761."}],"tags":[],"owner":{"account_id":2888920,"reputation":51,"user_id":2478151,"display_name":"Aviral"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1620423777,"creation_date":1620423420,"answer_id":67441943,"question_id":55336558,"body_markdown":"add following in your application,properties file:&lt;br/&gt;\r\neureka.client.register-with-eureka=false\r\neureka.client.fetch-registry=false\r\n&lt;br/&gt;\r\n\r\nThis makes your eureka server up on default port 8080, also these properties helps you to not register eurekaServer to itself.&lt;br/&gt; (EurekaServer is itself a client too.)\r\n\r\nIf you want to run this server on port 8761, add following in your application.properties file:&lt;br/&gt;\r\nserver.port=8761\r\n\r\nPS- It helps when you are not using docker.","title":"Cloud config got Request execution error. endpoint=DefaultEndpoint{ serviceUrl=&#39;http://localhost:8761/} from Eureka server","body":"<p>add following in your application,properties file:<br/>\neureka.client.register-with-eureka=false\neureka.client.fetch-registry=false\n<br/></p>\n<p>This makes your eureka server up on default port 8080, also these properties helps you to not register eurekaServer to itself.<br/> (EurekaServer is itself a client too.)</p>\n<p>If you want to run this server on port 8761, add following in your application.properties file:<br/>\nserver.port=8761</p>\n<p>PS- It helps when you are not using docker.</p>\n"},{"tags":[],"owner":{"account_id":7674726,"reputation":11,"user_id":5815953,"display_name":"Kshitij Patidar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665302254,"creation_date":1665302254,"answer_id":74003025,"question_id":55336558,"body_markdown":"I was not using **docker**, but I was getting the same error, I searched a lot throughout the web but didn&#39;t find anything.\r\n\r\nThen I just stop the server and **updated** my maven dependencies once and then tried to start it service discovery. It worked!! \r\n\r\nI hope this will help someone, who is not using and docker and getting the same.\r\n\r\nP.S.- Also make sure to have these configurations in **application.properties** or **application.yml**\r\n\r\n    server.port=8761\r\n    spring.application.name=eureka-discovery\r\n    eureka.instance.hostname=localhost\r\n    eureka.client.register-with-eureka=false \r\n    eureka.client.fetch-registry=false\r\n    eureka.client.service-url.defaultZone: http://localhost:8761/eureka\r\n\r\n\r\n","title":"Cloud config got Request execution error. endpoint=DefaultEndpoint{ serviceUrl=&#39;http://localhost:8761/} from Eureka server","body":"<p>I was not using <strong>docker</strong>, but I was getting the same error, I searched a lot throughout the web but didn't find anything.</p>\n<p>Then I just stop the server and <strong>updated</strong> my maven dependencies once and then tried to start it service discovery. It worked!!</p>\n<p>I hope this will help someone, who is not using and docker and getting the same.</p>\n<p>P.S.- Also make sure to have these configurations in <strong>application.properties</strong> or <strong>application.yml</strong></p>\n<pre><code>server.port=8761\nspring.application.name=eureka-discovery\neureka.instance.hostname=localhost\neureka.client.register-with-eureka=false \neureka.client.fetch-registry=false\neureka.client.service-url.defaultZone: http://localhost:8761/eureka\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1388800,"reputation":237,"user_id":1320145,"display_name":"Prabhakar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678387469,"creation_date":1678387469,"answer_id":75688836,"question_id":55336558,"body_markdown":"In my case devtool is the culprit, please remove the dependency and do maven clean and install. I hope it will resolve the issue provided all the properties mentioned above are in properties or yml file.","title":"Cloud config got Request execution error. endpoint=DefaultEndpoint{ serviceUrl=&#39;http://localhost:8761/} from Eureka server","body":"<p>In my case devtool is the culprit, please remove the dependency and do maven clean and install. I hope it will resolve the issue provided all the properties mentioned above are in properties or yml file.</p>\n"}],"owner":{"account_id":9829832,"reputation":125,"user_id":7281806,"display_name":"Artem Vlasenko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31340,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":55337385,"answer_count":4,"score":7,"last_activity_date":1678387469,"creation_date":1553512518,"question_id":55336558,"body_markdown":"I&#39;m trying to implement Discovery First Bootstrap way for my 4 micro-services. First is a config server that takes config from git, and second is an Eureka server. When i&#39;m running docker-compose up my config server is not able to register with eureka. I&#39;ve got:\r\n\r\n*Request execution error. endpoint=DefaultEndpoint{ serviceUrl=&#39;http://localhost:8761/}  Connection refused*    \r\n\r\nMy config server\r\n\r\n     @EnableConfigServer\r\n        @EnableEurekaClient\r\n        @SpringBootApplication\r\n        public class ConfigServerApplication {\r\n            public static void main(String[] args) {\r\n                SpringApplication.run(ConfigServerApplication.class, args);\r\n            }\r\n\r\napplication.yml\r\n\r\n       server:\r\n      port: 8888\r\n    spring:\r\n      cloud:\r\n        config:\r\n          server:\r\n            encrypt.enabled: false\r\n            git:\r\n              uri: https://github.com/Artuwok/artbook-config-repo/\r\n              searchPaths: userservice\r\n              username: Artuwok\r\n              password: Civilization1986\r\n              timeout: 10\r\n              force-pull: true\r\n\r\nbootstrap.yml\r\n\r\n    spring:\r\n      application:\r\n        name: configserver\r\n      cloud:\r\n        config:\r\n          fail-fast: true\r\n          discovery.enabled: true\r\n    \r\n    eureka:\r\n      client:\r\n        registerWithEureka: true\r\n        fetchRegistry: true\r\n        serviceUrl.defaultZone: http://localhost:8761/eureka/\r\n\r\n\r\nEureca class\r\n\r\n    @SpringBootApplication\r\n    @EnableEurekaServer\r\n    public class EurekaServerApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(EurekaServerApplication.class, args);\r\n        }\r\n\r\nEureka bootstrap.yml\r\n\r\n    server:\r\n      port: 8761\r\n    eureka:\r\n      client:\r\n        registerWithEureka: false\r\n        fetchRegistry: false\r\n\r\ndocker-compose.yml with full config\r\n\r\n    version: &#39;3&#39;\r\n    \r\n    services:\r\n    \r\n      configserver:\r\n        image: configserver:1.0\r\n        ports:\r\n          - &quot;8888:8888&quot;\r\n        depends_on:\r\n          - eurekaserver\r\n        restart: on-failure\r\n    \r\n      eurekaserver:\r\n        image: eurekasvr:1.0\r\n        ports:\r\n          - &quot;8761:8761&quot;\r\n    \r\n    \r\n      users_db:\r\n        image: mysql:5.7\r\n        container_name: users_db\r\n        restart: always\r\n        environment:\r\n          - MYSQL_DATABASE=artbook\r\n          - MYSQL_ROOT_PASSWORD=password\r\n          - MYSQL_USER=user\r\n          - MYSQL_PASSWORD=password\r\n        volumes:\r\n          - users_db:/var/lib/mysql\r\n        ports:\r\n          - &quot;3306:3306&quot;\r\n        depends_on:\r\n          - eurekaserver\r\n    \r\n      user-service:\r\n        image: userservice:1.0\r\n        ports:\r\n          - &quot;8080:8080&quot;\r\n        depends_on:\r\n          - eurekaserver\r\n          - configserver\r\n        restart: on-failure\r\n    volumes:\r\n      users_db:\r\n\r\nSo in the end i was able to start-up the services. Pay huge attention to URL on which you are discovering service. **If you are using docker images you must use service name, not localhost in uri and urls&#39;s.** My working config\r\n\r\n    spring:\r\n      application:\r\n        name: configserver\r\n      cloud:\r\n        config:\r\n          fail-fast: false\r\n          discovery.enabled: false\r\n          uri: http://configserver:8888\r\n    \r\n    eureka:\r\n      client:\r\n        registerWithEureka: true\r\n        fetchRegistry: true\r\n        serviceUrl.defaultZone: http://eurekaserver:8761/eureka","title":"Cloud config got Request execution error. endpoint=DefaultEndpoint{ serviceUrl=&#39;http://localhost:8761/} from Eureka server","body":"<p>I'm trying to implement Discovery First Bootstrap way for my 4 micro-services. First is a config server that takes config from git, and second is an Eureka server. When i'm running docker-compose up my config server is not able to register with eureka. I've got:</p>\n\n<p><em>Request execution error. endpoint=DefaultEndpoint{ serviceUrl='<a href=\"http://localhost:8761/\" rel=\"noreferrer\">http://localhost:8761/</a>}  Connection refused</em>    </p>\n\n<p>My config server</p>\n\n<pre><code> @EnableConfigServer\n    @EnableEurekaClient\n    @SpringBootApplication\n    public class ConfigServerApplication {\n        public static void main(String[] args) {\n            SpringApplication.run(ConfigServerApplication.class, args);\n        }\n</code></pre>\n\n<p>application.yml</p>\n\n<pre><code>   server:\n  port: 8888\nspring:\n  cloud:\n    config:\n      server:\n        encrypt.enabled: false\n        git:\n          uri: https://github.com/Artuwok/artbook-config-repo/\n          searchPaths: userservice\n          username: Artuwok\n          password: Civilization1986\n          timeout: 10\n          force-pull: true\n</code></pre>\n\n<p>bootstrap.yml</p>\n\n<pre><code>spring:\n  application:\n    name: configserver\n  cloud:\n    config:\n      fail-fast: true\n      discovery.enabled: true\n\neureka:\n  client:\n    registerWithEureka: true\n    fetchRegistry: true\n    serviceUrl.defaultZone: http://localhost:8761/eureka/\n</code></pre>\n\n<p>Eureca class</p>\n\n<pre><code>@SpringBootApplication\n@EnableEurekaServer\npublic class EurekaServerApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(EurekaServerApplication.class, args);\n    }\n</code></pre>\n\n<p>Eureka bootstrap.yml</p>\n\n<pre><code>server:\n  port: 8761\neureka:\n  client:\n    registerWithEureka: false\n    fetchRegistry: false\n</code></pre>\n\n<p>docker-compose.yml with full config</p>\n\n<pre><code>version: '3'\n\nservices:\n\n  configserver:\n    image: configserver:1.0\n    ports:\n      - \"8888:8888\"\n    depends_on:\n      - eurekaserver\n    restart: on-failure\n\n  eurekaserver:\n    image: eurekasvr:1.0\n    ports:\n      - \"8761:8761\"\n\n\n  users_db:\n    image: mysql:5.7\n    container_name: users_db\n    restart: always\n    environment:\n      - MYSQL_DATABASE=artbook\n      - MYSQL_ROOT_PASSWORD=password\n      - MYSQL_USER=user\n      - MYSQL_PASSWORD=password\n    volumes:\n      - users_db:/var/lib/mysql\n    ports:\n      - \"3306:3306\"\n    depends_on:\n      - eurekaserver\n\n  user-service:\n    image: userservice:1.0\n    ports:\n      - \"8080:8080\"\n    depends_on:\n      - eurekaserver\n      - configserver\n    restart: on-failure\nvolumes:\n  users_db:\n</code></pre>\n\n<p>So in the end i was able to start-up the services. Pay huge attention to URL on which you are discovering service. <strong>If you are using docker images you must use service name, not localhost in uri and urls's.</strong> My working config</p>\n\n<pre><code>spring:\n  application:\n    name: configserver\n  cloud:\n    config:\n      fail-fast: false\n      discovery.enabled: false\n      uri: http://configserver:8888\n\neureka:\n  client:\n    registerWithEureka: true\n    fetchRegistry: true\n    serviceUrl.defaultZone: http://eurekaserver:8761/eureka\n</code></pre>\n"},{"tags":["java","weblogic","remote-debugging","jdwp"],"owner":{"account_id":11315,"reputation":41450,"user_id":21755,"accept_rate":85,"display_name":"The Archetypal Paul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678387006,"creation_date":1678383667,"question_id":75688220,"body_markdown":"We have Weblogic12c. I configure the Java startup args to enable remote debugging.\r\n\r\n    jdb -attach &lt;address&gt;:&lt;port&gt;\r\n\r\nworks locally (and connects quickly)\r\n\r\n    jdb -attach &lt;address&gt;:&lt;port&gt; \r\n\r\nfrom another machine hangs indefinitely.\r\n\r\n     telnet &lt;address&gt; &lt;port&gt;\r\n\r\nconnects, so it&#39;s not a basic connectivity issue.\r\n\r\nTunneling the port with ssh does work remotely, so it really looks like non-local connections are the issue.\r\n\r\nIs there an ACL or something saying where connections will be accepted from?\r\n\r\nAny other ideas what the problem could be?","title":"Weblogic remote debugging works locally, but not from remote client","body":"<p>We have Weblogic12c. I configure the Java startup args to enable remote debugging.</p>\n<pre><code>jdb -attach &lt;address&gt;:&lt;port&gt;\n</code></pre>\n<p>works locally (and connects quickly)</p>\n<pre><code>jdb -attach &lt;address&gt;:&lt;port&gt; \n</code></pre>\n<p>from another machine hangs indefinitely.</p>\n<pre><code> telnet &lt;address&gt; &lt;port&gt;\n</code></pre>\n<p>connects, so it's not a basic connectivity issue.</p>\n<p>Tunneling the port with ssh does work remotely, so it really looks like non-local connections are the issue.</p>\n<p>Is there an ACL or something saying where connections will be accepted from?</p>\n<p>Any other ideas what the problem could be?</p>\n"},{"tags":["java","json","spring","rest","spring-boot"],"comments":[{"owner":{"account_id":688414,"reputation":82638,"user_id":542270,"accept_rate":86,"display_name":"Opal"},"score":0,"creation_date":1434697336,"post_id":30917782,"comment_id":49899153,"body_markdown":"Markus, does my answer solve the problem? If so, please accept it.","body":"Markus, does my answer solve the problem? If so, please accept it."}],"answers":[{"comments":[{"owner":{"account_id":6490084,"reputation":951,"user_id":5024424,"display_name":"Markus"},"score":0,"creation_date":1434960106,"post_id":30919916,"comment_id":49980573,"body_markdown":"True, but in this case I&#39;m interested in the 401 and 404 cases in order to be able to have one common error response for all errors to the clients. I don&#39;t want to have different structures of error response and as well never respond with anything other than for example JSON.","body":"True, but in this case I&#39;m interested in the 401 and 404 cases in order to be able to have one common error response for all errors to the clients. I don&#39;t want to have different structures of error response and as well never respond with anything other than for example JSON."},{"owner":{"account_id":688414,"reputation":82638,"user_id":542270,"accept_rate":86,"display_name":"Opal"},"score":1,"creation_date":1434960254,"post_id":30919916,"comment_id":49980649,"body_markdown":"The structure I presented is the default JSON error response structure. If you need only 401 or 404 just add appropriate exceptions instead of `MethodArgumentNotValidException` and change the method body.","body":"The structure I presented is the default JSON error response structure. If you need only 401 or 404 just add appropriate exceptions instead of <code>MethodArgumentNotValidException</code> and change the method body."}],"tags":[],"owner":{"account_id":688414,"reputation":82638,"user_id":542270,"accept_rate":86,"display_name":"Opal"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1434642041,"creation_date":1434642041,"answer_id":30919916,"question_id":30917782,"body_markdown":"It seems that you need to introduce an appropriately annotated method, e.g. for unsupported media type (415) it will be:\r\n\r\n      @ExceptionHandler(MethodArgumentNotValidException)\r\n      public ResponseEntity handleMethodArgumentNotValidException(HttpServletRequest req, MethodArgumentNotValidException e) {\r\n        logger.error(&#39;Caught exception&#39;, e)\r\n        def response = new ExceptionResponse(\r\n                error: &#39;Validation error&#39;,\r\n                exception: e.class.name,\r\n                message: e.bindingResult.fieldErrors.collect { &quot;&#39;$it.field&#39; $it.defaultMessage&quot; }.join(&#39;, &#39;),\r\n                path: req.servletPath,\r\n                status: BAD_REQUEST.value(),\r\n                timestamp: currentTimeMillis()\r\n        )\r\n        new ResponseEntity&lt;&gt;(response, BAD_REQUEST)\r\n      }\r\n\r\nHowever it may not be possible since 401 and 404 may be thrown before they reach `DispatcherServlet` - in this case `ControllerAdvice` will not work.","title":"Spring boot 404 error custom error response ReST","body":"<p>It seems that you need to introduce an appropriately annotated method, e.g. for unsupported media type (415) it will be:</p>\n\n<pre><code>  @ExceptionHandler(MethodArgumentNotValidException)\n  public ResponseEntity handleMethodArgumentNotValidException(HttpServletRequest req, MethodArgumentNotValidException e) {\n    logger.error('Caught exception', e)\n    def response = new ExceptionResponse(\n            error: 'Validation error',\n            exception: e.class.name,\n            message: e.bindingResult.fieldErrors.collect { \"'$it.field' $it.defaultMessage\" }.join(', '),\n            path: req.servletPath,\n            status: BAD_REQUEST.value(),\n            timestamp: currentTimeMillis()\n    )\n    new ResponseEntity&lt;&gt;(response, BAD_REQUEST)\n  }\n</code></pre>\n\n<p>However it may not be possible since 401 and 404 may be thrown before they reach <code>DispatcherServlet</code> - in this case <code>ControllerAdvice</code> will not work.</p>\n"},{"comments":[{"owner":{"account_id":6490084,"reputation":951,"user_id":5024424,"display_name":"Markus"},"score":0,"creation_date":1434960172,"post_id":30924373,"comment_id":49980608,"body_markdown":"Yes, but in this case a html error is not suitable due to only rest clients are used.","body":"Yes, but in this case a html error is not suitable due to only rest clients are used."}],"tags":[],"owner":{"account_id":931709,"reputation":4835,"user_id":961480,"display_name":"hyness"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1434986540,"creation_date":1434656589,"answer_id":30924373,"question_id":30917782,"body_markdown":"You can add custom **ErrorPage** objects which correlate to the error-page definition in web.xml.  [Spring Boot provides an example][1]...\r\n\r\n\t@Bean\r\n\tpublic EmbeddedServletContainerCustomizer containerCustomizer(){\r\n\t    return new MyCustomizer();\r\n\t}\r\n\t\r\n\t// ...\r\n\t\r\n\tprivate static class MyCustomizer implements EmbeddedServletContainerCustomizer {\r\n\t\r\n\t    @Override\r\n\t    public void customize(ConfigurableEmbeddedServletContainer container) {\r\n\t        container.addErrorPages(new ErrorPage(HttpStatus.UNAUTHORIZED, &quot;/unauthorized.html&quot;));\r\n\t        container.addErrorPages(new ErrorPage(HttpStatus.NOT_FOUND, &quot;/not-found.html&quot;));\r\n\t    }\r\n\t\r\n\t}\r\n\r\n**EDIT:**  While I think the method above will work if you make the error pages rest controllers, an even easier way would be to include a custom **ErrorController** like the one below...\r\n\r\n    @Bean\r\n    public ErrorController errorController(ErrorAttributes errorAttributes) {\r\n    \treturn new CustomErrorController(errorAttributes);\r\n    }\r\n\t\r\n\t// ...\r\n\t\r\n\tpublic class CustomErrorController extends BasicErrorController {\r\n\t\r\n\t\tpublic CustomErrorController(ErrorAttributes errorAttributes) {\r\n\t\t\tsuper(errorAttributes);\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\t@RequestMapping(value = &quot;${error.path:/error}&quot;)\r\n\t\t@ResponseBody\r\n\t\tpublic ResponseEntity&lt;Map&lt;String, Object&gt;&gt; error(HttpServletRequest request) {\r\n\t\t\tResponseEntity&lt;Map&lt;String, Object&gt;&gt; error = super.error(request);\r\n\t\t\tHttpStatus statusCode = error.getStatusCode();\r\n\t\r\n\t\t\tswitch (statusCode) {\r\n\t\t\tcase NOT_FOUND:\r\n\t\t\t\treturn getMyCustomNotFoundResponseEntity(request);\r\n\t\t\tcase UNAUTHORIZED:\r\n\t\t\t\treturn getMyCustomUnauthorizedResponseEntity(request);\r\n\t\t\tdefault:\r\n\t\t\t\treturn error;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-error-handling","title":"Spring boot 404 error custom error response ReST","body":"<p>You can add custom <strong>ErrorPage</strong> objects which correlate to the error-page definition in web.xml.  <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-error-handling\" rel=\"nofollow\">Spring Boot provides an example</a>...</p>\n\n<pre><code>@Bean\npublic EmbeddedServletContainerCustomizer containerCustomizer(){\n    return new MyCustomizer();\n}\n\n// ...\n\nprivate static class MyCustomizer implements EmbeddedServletContainerCustomizer {\n\n    @Override\n    public void customize(ConfigurableEmbeddedServletContainer container) {\n        container.addErrorPages(new ErrorPage(HttpStatus.UNAUTHORIZED, \"/unauthorized.html\"));\n        container.addErrorPages(new ErrorPage(HttpStatus.NOT_FOUND, \"/not-found.html\"));\n    }\n\n}\n</code></pre>\n\n<p><strong>EDIT:</strong>  While I think the method above will work if you make the error pages rest controllers, an even easier way would be to include a custom <strong>ErrorController</strong> like the one below...</p>\n\n<pre><code>@Bean\npublic ErrorController errorController(ErrorAttributes errorAttributes) {\n    return new CustomErrorController(errorAttributes);\n}\n\n// ...\n\npublic class CustomErrorController extends BasicErrorController {\n\n    public CustomErrorController(ErrorAttributes errorAttributes) {\n        super(errorAttributes);\n    }\n\n    @Override\n    @RequestMapping(value = \"${error.path:/error}\")\n    @ResponseBody\n    public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; error(HttpServletRequest request) {\n        ResponseEntity&lt;Map&lt;String, Object&gt;&gt; error = super.error(request);\n        HttpStatus statusCode = error.getStatusCode();\n\n        switch (statusCode) {\n        case NOT_FOUND:\n            return getMyCustomNotFoundResponseEntity(request);\n        case UNAUTHORIZED:\n            return getMyCustomUnauthorizedResponseEntity(request);\n        default:\n            return error;\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":149896,"reputation":1052,"user_id":362721,"accept_rate":74,"display_name":"zbstof"},"score":5,"creation_date":1495782326,"post_id":34880272,"comment_id":75404462,"body_markdown":"Or use spring.mvc.throw-exception-if-no-handler-found=true property instead of a custom DispatcherServlet bean","body":"Or use spring.mvc.throw-exception-if-no-handler-found=true property instead of a custom DispatcherServlet bean"},{"owner":{"account_id":4655099,"reputation":587,"user_id":3770885,"accept_rate":75,"display_name":"Reema"},"score":3,"creation_date":1509556427,"post_id":34880272,"comment_id":81067930,"body_markdown":"Is there any way to do this without using the annotation `@EnableWebMvc` I dont want to enable Web MVC","body":"Is there any way to do this without using the annotation <code>@EnableWebMvc</code> I dont want to enable Web MVC"},{"owner":{"account_id":285794,"reputation":8226,"user_id":584670,"accept_rate":69,"display_name":"Steve"},"score":0,"creation_date":1563395399,"post_id":34880272,"comment_id":100690400,"body_markdown":"Doesn&#39;t work. `java.lang.IllegalStateException: Ambiguous @ExceptionHandler method mapped for [class org.springframework.web.servlet.NoHandlerFoundException]`","body":"Doesn&#39;t work. <code>java.lang.IllegalStateException: Ambiguous @ExceptionHandler method mapped for [class org.springframework.web.servlet.NoHandlerFoundException]</code>"}],"tags":[],"owner":{"account_id":7621170,"reputation":78,"user_id":5779156,"display_name":"maxie"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1453216205,"creation_date":1453216205,"answer_id":34880272,"question_id":30917782,"body_markdown":"404 error is handled by DispatcherServlet. there is a property throwExceptionIfNoHandlerFound, which you can override.\r\n\r\nIn Application class you can create a new bean:\r\n\r\n    @Bean\r\n    DispatcherServlet dispatcherServlet () {\r\n        DispatcherServlet ds = new DispatcherServlet();\r\n        ds.setThrowExceptionIfNoHandlerFound(true);\r\n        return ds;\r\n    }\r\n\r\n...and then catch the NoHandlerFoundException exception in \r\n\r\n    @EnableWebMvc\r\n    @ControllerAdvice\r\n    public class GlobalControllerExceptionHandler {\r\n        @ExceptionHandler\r\n        @ResponseStatus(value=HttpStatus.NOT_FOUND)\r\n        @ResponseBody\r\n        public ErrorMessageResponse requestHandlingNoHandlerFound(final NoHandlerFoundException ex) {\r\n            doSomething(LOG.debug(&quot;text to log&quot;));\r\n        }\r\n    }","title":"Spring boot 404 error custom error response ReST","body":"<p>404 error is handled by DispatcherServlet. there is a property throwExceptionIfNoHandlerFound, which you can override.</p>\n\n<p>In Application class you can create a new bean:</p>\n\n<pre><code>@Bean\nDispatcherServlet dispatcherServlet () {\n    DispatcherServlet ds = new DispatcherServlet();\n    ds.setThrowExceptionIfNoHandlerFound(true);\n    return ds;\n}\n</code></pre>\n\n<p>...and then catch the NoHandlerFoundException exception in </p>\n\n<pre><code>@EnableWebMvc\n@ControllerAdvice\npublic class GlobalControllerExceptionHandler {\n    @ExceptionHandler\n    @ResponseStatus(value=HttpStatus.NOT_FOUND)\n    @ResponseBody\n    public ErrorMessageResponse requestHandlingNoHandlerFound(final NoHandlerFoundException ex) {\n        doSomething(LOG.debug(\"text to log\"));\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4655099,"reputation":587,"user_id":3770885,"accept_rate":75,"display_name":"Reema"},"score":2,"creation_date":1509556533,"post_id":36734251,"comment_id":81068010,"body_markdown":"Is there any way to do this without using the annotation `@EnableWebMvc` I dont want to enable Web MVC","body":"Is there any way to do this without using the annotation <code>@EnableWebMvc</code> I dont want to enable Web MVC"},{"owner":{"account_id":1396288,"reputation":403,"user_id":1325973,"accept_rate":100,"display_name":"Ace Eusebio"},"score":2,"creation_date":1519359528,"post_id":36734251,"comment_id":84889020,"body_markdown":"Hi @Reema! Were you able to do it without `@EnableWebMvc`? I would want to do it without it as well.","body":"Hi @Reema! Were you able to do it without <code>@EnableWebMvc</code>? I would want to do it without it as well."},{"owner":{"account_id":4655099,"reputation":587,"user_id":3770885,"accept_rate":75,"display_name":"Reema"},"score":0,"creation_date":1519562879,"post_id":36734251,"comment_id":84952017,"body_markdown":"No, I haven’t got any solution for this yet!","body":"No, I haven’t got any solution for this yet!"}],"tags":[],"owner":{"account_id":3130131,"reputation":4109,"user_id":2648110,"display_name":"Ilya Ovesnov"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1461128614,"creation_date":1461128614,"answer_id":36734251,"question_id":30917782,"body_markdown":"I&#39;ve provided the sample solution on how to override response for 404 case. The solution is pretty much simple and I am posting sample code but you can find more details on the original thread: https://stackoverflow.com/questions/36733254/spring-boot-rest-how-to-configure-404-resource-not-found/36734193#36734193\r\n\r\n**First**: define Controller that will process error cases and override response:\r\n\r\n    @ControllerAdvice\r\n    public class ExceptionHandlerController {\r\n    \r\n        @ExceptionHandler(NoHandlerFoundException.class)\r\n        @ResponseStatus(value= HttpStatus.NOT_FOUND)\r\n        @ResponseBody\r\n        public ErrorResponse requestHandlingNoHandlerFound() {\r\n            return new ErrorResponse(&quot;custom_404&quot;, &quot;message for 404 error code&quot;);\r\n        }\r\n    }\r\n\r\n**Second**: you need to tell Spring to throw exception in case of 404 (could not resolve handler):\r\n\r\n    @SpringBootApplication\r\n    @EnableWebMvc\r\n    public class Application {\r\n    \r\n        public static void main(String[] args) {\r\n            ApplicationContext ctx = SpringApplication.run(Application.class, args);\r\n    \r\n            DispatcherServlet dispatcherServlet = (DispatcherServlet)ctx.getBean(&quot;dispatcherServlet&quot;);\r\n            dispatcherServlet.setThrowExceptionIfNoHandlerFound(true);\r\n        }\r\n    }\r\n","title":"Spring boot 404 error custom error response ReST","body":"<p>I've provided the sample solution on how to override response for 404 case. The solution is pretty much simple and I am posting sample code but you can find more details on the original thread: <a href=\"https://stackoverflow.com/questions/36733254/spring-boot-rest-how-to-configure-404-resource-not-found/36734193#36734193\">Spring Boot Rest - How to configure 404 - resource not found</a></p>\n\n<p><strong>First</strong>: define Controller that will process error cases and override response:</p>\n\n<pre><code>@ControllerAdvice\npublic class ExceptionHandlerController {\n\n    @ExceptionHandler(NoHandlerFoundException.class)\n    @ResponseStatus(value= HttpStatus.NOT_FOUND)\n    @ResponseBody\n    public ErrorResponse requestHandlingNoHandlerFound() {\n        return new ErrorResponse(\"custom_404\", \"message for 404 error code\");\n    }\n}\n</code></pre>\n\n<p><strong>Second</strong>: you need to tell Spring to throw exception in case of 404 (could not resolve handler):</p>\n\n<pre><code>@SpringBootApplication\n@EnableWebMvc\npublic class Application {\n\n    public static void main(String[] args) {\n        ApplicationContext ctx = SpringApplication.run(Application.class, args);\n\n        DispatcherServlet dispatcherServlet = (DispatcherServlet)ctx.getBean(\"dispatcherServlet\");\n        dispatcherServlet.setThrowExceptionIfNoHandlerFound(true);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":210903,"reputation":3971,"user_id":462771,"accept_rate":73,"display_name":"ogradyjd"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461241975,"creation_date":1461241975,"answer_id":36769776,"question_id":30917782,"body_markdown":"Please see [Spring Boot REST service exception handling](https://stackoverflow.com/questions/28902374/spring-boot-rest-service-exception-handling/30193013).  It shows how to tell the dispatcherservlet to emit exceptions for &quot;no route found&quot; and then how to catch those exceptions.  We (the place I work) are using this in production for our REST services right now.","title":"Spring boot 404 error custom error response ReST","body":"<p>Please see <a href=\"https://stackoverflow.com/questions/28902374/spring-boot-rest-service-exception-handling/30193013\">Spring Boot REST service exception handling</a>.  It shows how to tell the dispatcherservlet to emit exceptions for \"no route found\" and then how to catch those exceptions.  We (the place I work) are using this in production for our REST services right now.</p>\n"},{"tags":[],"owner":{"account_id":4567927,"reputation":5819,"user_id":3708462,"accept_rate":57,"display_name":"Emdadul Sawon"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1646658949,"creation_date":1546410163,"answer_id":54002078,"question_id":30917782,"body_markdown":"**Summing up all answers and comment, I think the best way to do this is-**\r\n\r\nFirst, tell spring boot to throw exception in case of no handler found in ```application.properties```\r\n\r\n    spring.mvc.throw-exception-if-no-handler-found=true\r\n\r\nThen handle ```NoHandlerFoundException``` in your application. I handle this by following way\r\n\r\n    @ControllerAdvice\r\n    public class GlobalExceptionHandler {\r\n        @ExceptionHandler(NoHandlerFoundException.class)\r\n        public void handleNotFoundError(HttpServletResponse response, NoHandlerFoundException ex) {\r\n            ErrorDto errorDto = Errors.URL_NOT_FOUND.getErrorDto();\r\n            logger.error(&quot;URL not found exception: &quot; + ex.getRequestURL());\r\n            prepareErrorResponse(response, HttpStatus.NOT_FOUND, errorDto);\r\n        }\r\n    }\r\n\r\nIf you are using **Swagger** then you can view my [other answer][1] to exclude swagger URL from this exception handler \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/55222174/3708462","title":"Spring boot 404 error custom error response ReST","body":"<p><strong>Summing up all answers and comment, I think the best way to do this is-</strong></p>\n<p>First, tell spring boot to throw exception in case of no handler found in <code>application.properties</code></p>\n<pre><code>spring.mvc.throw-exception-if-no-handler-found=true\n</code></pre>\n<p>Then handle <code>NoHandlerFoundException</code> in your application. I handle this by following way</p>\n<pre><code>@ControllerAdvice\npublic class GlobalExceptionHandler {\n    @ExceptionHandler(NoHandlerFoundException.class)\n    public void handleNotFoundError(HttpServletResponse response, NoHandlerFoundException ex) {\n        ErrorDto errorDto = Errors.URL_NOT_FOUND.getErrorDto();\n        logger.error(&quot;URL not found exception: &quot; + ex.getRequestURL());\n        prepareErrorResponse(response, HttpStatus.NOT_FOUND, errorDto);\n    }\n}\n</code></pre>\n<p>If you are using <strong>Swagger</strong> then you can view my <a href=\"https://stackoverflow.com/a/55222174/3708462\">other answer</a> to exclude swagger URL from this exception handler</p>\n"},{"tags":[],"owner":{"account_id":8978785,"reputation":51,"user_id":6694666,"display_name":"Adewagold"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1568962036,"creation_date":1549537443,"answer_id":54571885,"question_id":30917782,"body_markdown":"I was having the same issue but fixed it using a different method.\r\nTo return **404**, **401** and other status in a custom response, you can now add the response status to the custom exception class and call it from your exception handler.\r\n\r\nWith spring utility class **AnnotationUtils**, you can get the status of any of the defined custom exceptions with the findAnnotation method and it will return the appropriate status using whatever annotation you defined for the exceptions including not found.\r\n\r\n**Here&#39;s my @RestControllerAdvice**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    @RestControllerAdvice\r\n    public class MainExceptionHandler extends Throwable{\r\n\r\n     @ExceptionHandler(BaseException.class)\r\n     ResponseEntity&lt;ExceptionErrorResponse&gt; exceptionHandler(GeneralMainException  e)\r\n     {\r\n      ResponseStatus status = AnnotationUtils.findAnnotation(e.getClass(),ResponseStatus.class);\r\n      if(status != null)\r\n      {\r\n        return new ResponseEntity&lt;&gt;(new ExceptionErrorResponse(e.getCode(),e.getMessage()),status.code());\r\n      }\r\n     }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n**CustomParamsException to return Bad request status**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    @ResponseStatus(value= HttpStatus.BAD_REQUEST)\r\n    public class CustomParamsException extends BaseException {\r\n        private static final String CODE = &quot;400&quot;;\r\n        public CustomParamsException(String message) {\r\n            super(CODE, message);\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n**Details not found to return Not Found Status**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    @ResponseStatus(value= HttpStatus.NOT_FOUND)\r\n    public class DetailsNotException extends BaseException {\r\n        private static final String CODE = &quot;400&quot;;\r\n        public DetailsNotException(String message) {\r\n            super(CODE, message);\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n**A GeneralMainException to extend Excetion**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    public class GeneralMainException extends Exception {\r\n    private String code;\r\n    private String message;\r\n\r\n    public GeneralMainException (String message) {\r\n        super(message);\r\n    }\r\n\r\n    public GeneralMainException (String code, String message) {\r\n        this.code = code;\r\n        this.message = message;\r\n    }\r\n\r\n    public String getCode() {\r\n        return code;\r\n    }\r\n\r\n    @Override\r\n    public String getMessage() {\r\n        return message;\r\n    }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nYou can decide to handle other system exceptions by including it to the controller advice.\r\n\r\n    @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\r\n     @ExceptionHandler(Exception.class)\r\n     ExceptionErrorResponse sysError(Exception e)\r\n     {\r\n      return new ExceptionErrorResponse(&quot;&quot;1002&quot;, e.getMessage());\r\n     }\r\n\r\n","title":"Spring boot 404 error custom error response ReST","body":"<p>I was having the same issue but fixed it using a different method.\nTo return <strong>404</strong>, <strong>401</strong> and other status in a custom response, you can now add the response status to the custom exception class and call it from your exception handler.</p>\n\n<p>With spring utility class <strong>AnnotationUtils</strong>, you can get the status of any of the defined custom exceptions with the findAnnotation method and it will return the appropriate status using whatever annotation you defined for the exceptions including not found.</p>\n\n<p><strong>Here's my @RestControllerAdvice</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>@RestControllerAdvice\r\npublic class MainExceptionHandler extends Throwable{\r\n\r\n @ExceptionHandler(BaseException.class)\r\n ResponseEntity&lt;ExceptionErrorResponse&gt; exceptionHandler(GeneralMainException  e)\r\n {\r\n  ResponseStatus status = AnnotationUtils.findAnnotation(e.getClass(),ResponseStatus.class);\r\n  if(status != null)\r\n  {\r\n    return new ResponseEntity&lt;&gt;(new ExceptionErrorResponse(e.getCode(),e.getMessage()),status.code());\r\n  }\r\n }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>CustomParamsException to return Bad request status</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>@ResponseStatus(value= HttpStatus.BAD_REQUEST)\r\npublic class CustomParamsException extends BaseException {\r\n    private static final String CODE = \"400\";\r\n    public CustomParamsException(String message) {\r\n        super(CODE, message);\r\n    }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>Details not found to return Not Found Status</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>@ResponseStatus(value= HttpStatus.NOT_FOUND)\r\npublic class DetailsNotException extends BaseException {\r\n    private static final String CODE = \"400\";\r\n    public DetailsNotException(String message) {\r\n        super(CODE, message);\r\n    }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>A GeneralMainException to extend Excetion</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>public class GeneralMainException extends Exception {\r\nprivate String code;\r\nprivate String message;\r\n\r\npublic GeneralMainException (String message) {\r\n    super(message);\r\n}\r\n\r\npublic GeneralMainException (String code, String message) {\r\n    this.code = code;\r\n    this.message = message;\r\n}\r\n\r\npublic String getCode() {\r\n    return code;\r\n}\r\n\r\n@Override\r\npublic String getMessage() {\r\n    return message;\r\n}\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>You can decide to handle other system exceptions by including it to the controller advice.</p>\n\n<pre><code>@ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\n @ExceptionHandler(Exception.class)\n ExceptionErrorResponse sysError(Exception e)\n {\n  return new ExceptionErrorResponse(\"\"1002\", e.getMessage());\n }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12031344,"reputation":403,"user_id":8801473,"display_name":"ptrckdev"},"score":0,"creation_date":1586355255,"post_id":58185109,"comment_id":108098348,"body_markdown":"What are reason to not use @EnableWebMvc ?","body":"What are reason to not use @EnableWebMvc ?"},{"owner":{"account_id":4523413,"reputation":996,"user_id":3675955,"display_name":"fightlight"},"score":1,"creation_date":1586358871,"post_id":58185109,"comment_id":108100604,"body_markdown":"@ptrckdev Adding `@EnableWebMvc` disables autoconfiguration. See [here](https://dzone.com/articles/spring-boot-enablewebmvc-and-common-use-cases) and [here](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-switch-off-default-mvc-configuration)","body":"@ptrckdev Adding <code>@EnableWebMvc</code> disables autoconfiguration. See <a href=\"https://dzone.com/articles/spring-boot-enablewebmvc-and-common-use-cases\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-switch-off-default-mvc-configuration\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":13430029,"reputation":945,"user_id":9690114,"display_name":"RomanMitasov"},"score":3,"creation_date":1606383119,"post_id":58185109,"comment_id":114949339,"body_markdown":"`spring.resources.add-mappings=false` disabled swagger-ui in my service. Is there some workarounds for that?","body":"<code>spring.resources.add-mappings=false</code> disabled swagger-ui in my service. Is there some workarounds for that?"}],"tags":[],"owner":{"account_id":4523413,"reputation":996,"user_id":3675955,"display_name":"fightlight"},"comment_count":3,"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1569934130,"creation_date":1569934130,"answer_id":58185109,"question_id":30917782,"body_markdown":"For those Spring Boot 2 users who don&#39;t wanna use `@EnableWebMvc`\n\napplication.properties\n```\nserver.error.whitelabel.enabled=false\nspring.mvc.throw-exception-if-no-handler-found=true\nspring.resources.add-mappings=false\n```\n\nControllerAdvice\n```\n@RestControllerAdvice\npublic class ExceptionResolver {\n\n    @ExceptionHandler(NoHandlerFoundException.class)\n    @ResponseStatus(HttpStatus.NOT_FOUND)\n    public HashMap&lt;String, String&gt; handleNoHandlerFound(NoHandlerFoundException e, WebRequest request) {\n        HashMap&lt;String, String&gt; response = new HashMap&lt;&gt;();\n        response.put(&quot;status&quot;, &quot;fail&quot;);\n        response.put(&quot;message&quot;, e.getLocalizedMessage());\n        return response;\n    }\n}\n```\n\n[Source][1]\n\n[1]: https://skryvets.com/blog/2018/12/27/enhance-exception-handling-when-building-restful-api-with-spring-boot","title":"Spring boot 404 error custom error response ReST","body":"<p>For those Spring Boot 2 users who don't wanna use <code>@EnableWebMvc</code></p>\n<p>application.properties</p>\n<pre><code>server.error.whitelabel.enabled=false\nspring.mvc.throw-exception-if-no-handler-found=true\nspring.resources.add-mappings=false\n</code></pre>\n<p>ControllerAdvice</p>\n<pre><code>@RestControllerAdvice\npublic class ExceptionResolver {\n\n    @ExceptionHandler(NoHandlerFoundException.class)\n    @ResponseStatus(HttpStatus.NOT_FOUND)\n    public HashMap&lt;String, String&gt; handleNoHandlerFound(NoHandlerFoundException e, WebRequest request) {\n        HashMap&lt;String, String&gt; response = new HashMap&lt;&gt;();\n        response.put(&quot;status&quot;, &quot;fail&quot;);\n        response.put(&quot;message&quot;, e.getLocalizedMessage());\n        return response;\n    }\n}\n</code></pre>\n<p><a href=\"https://skryvets.com/blog/2018/12/27/enhance-exception-handling-when-building-restful-api-with-spring-boot\" rel=\"noreferrer\">Source</a></p>\n"},{"tags":[],"owner":{"account_id":6371690,"reputation":91,"user_id":4943925,"display_name":"R J"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577361556,"creation_date":1577361556,"answer_id":59488164,"question_id":30917782,"body_markdown":"Starting with Spring version 5 can use class ResponseStatusException:\r\n\r\n    @GetMapping(&quot;example&quot;)\r\n    public ResponseEntity example() {\r\n        try {\r\n            throw new MyException();\r\n        } catch (MyException e) {\r\n            throw new ResponseStatusException(HttpStatus.INTERNAL_SERVER_ERROR, &quot;My Exception&quot;, e);\r\n        }\r\n    }","title":"Spring boot 404 error custom error response ReST","body":"<p>Starting with Spring version 5 can use class ResponseStatusException:</p>\n\n<pre><code>@GetMapping(\"example\")\npublic ResponseEntity example() {\n    try {\n        throw new MyException();\n    } catch (MyException e) {\n        throw new ResponseStatusException(HttpStatus.INTERNAL_SERVER_ERROR, \"My Exception\", e);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2470100,"reputation":205,"user_id":2152207,"display_name":"Luk&#225;š Gemela"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1611396086,"creation_date":1599145781,"answer_id":63726514,"question_id":30917782,"body_markdown":"I wanted to have the same error format (json) structure across all possible error scenarios, so I just registered my own ErrorController reusing the code from AbstractErrorController:\r\n\r\n    @Controller\r\n\t@RequestMapping(path = &quot;/error&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n\t@ResponseBody\r\n\tpublic class ErrorController extends AbstractErrorController {\r\n\r\n\t\tpublic ErrorController(ErrorAttributes errorAttributes, ObjectProvider&lt;ErrorViewResolver&gt; errorViewResolvers) {\r\n\t\t\tsuper(errorAttributes, errorViewResolvers.orderedStream().collect(Collectors.toUnmodifiableList()));\r\n\t\t}\r\n\r\n\t\t@RequestMapping\r\n\t\tpublic ResponseEntity&lt;Map&lt;String, Object&gt;&gt; error(HttpServletRequest request) {\r\n\t\t\tfinal var status = getStatus(request);\r\n\t\t\tif (status == HttpStatus.NO_CONTENT) {\r\n\t\t\t\treturn new ResponseEntity&lt;&gt;(status);\r\n\t\t\t}\r\n\t\t\treturn new ResponseEntity&lt;&gt;(getErrorAttributes(request, ErrorAttributeOptions.defaults()), status);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic String getErrorPath() {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\nwith this you dont need any controller advice, all errors go to error method by default","title":"Spring boot 404 error custom error response ReST","body":"<p>I wanted to have the same error format (json) structure across all possible error scenarios, so I just registered my own ErrorController reusing the code from AbstractErrorController:</p>\n<pre><code>@Controller\n@RequestMapping(path = &quot;/error&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n@ResponseBody\npublic class ErrorController extends AbstractErrorController {\n\n    public ErrorController(ErrorAttributes errorAttributes, ObjectProvider&lt;ErrorViewResolver&gt; errorViewResolvers) {\n        super(errorAttributes, errorViewResolvers.orderedStream().collect(Collectors.toUnmodifiableList()));\n    }\n\n    @RequestMapping\n    public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; error(HttpServletRequest request) {\n        final var status = getStatus(request);\n        if (status == HttpStatus.NO_CONTENT) {\n            return new ResponseEntity&lt;&gt;(status);\n        }\n        return new ResponseEntity&lt;&gt;(getErrorAttributes(request, ErrorAttributeOptions.defaults()), status);\n    }\n\n    @Override\n    public String getErrorPath() {\n        return null;\n    }\n}\n</code></pre>\n<p>with this you dont need any controller advice, all errors go to error method by default</p>\n"},{"tags":[],"owner":{"account_id":1139113,"reputation":18996,"user_id":1123501,"accept_rate":89,"display_name":"Georgios Syngouroglou"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1611317326,"creation_date":1611317326,"answer_id":65844919,"question_id":30917782,"body_markdown":"You may extend the `ResponseEntityExceptionHandler` class, which include a lot of common exceptions in a Spring Boot Project. For example, if you wish to use a custom handler for binding exceptions, you may use the following,\r\n  \r\n    @ControllerAdvice\r\n    public class MyApiExceptionHandler extends ResponseEntityExceptionHandler {\r\n\r\n        @Override\r\n        public ResponseEntity&lt;Object&gt; handleBindException(BindException ex, HttpHeaders headers, HttpStatus status, WebRequest request) {\r\n            String responseBody = &quot;{\\&quot;key\\&quot;:\\&quot;value\\&quot;}&quot;;\r\n            headers.add(&quot;Content-Type&quot;, &quot;application/json;charset=utf-8&quot;);\r\n            return handleExceptionInternal(ex, responseBody, headers, HttpStatus.NOT_ACCEPTABLE, request);\r\n        }\r\n    }\r\n  \r\nAn other example for the http status **404-Not Found**,\r\n  \r\n    @ControllerAdvice\r\n    public class MyApiExceptionHandler extends ResponseEntityExceptionHandler {\r\n\r\n        @Override\r\n        public ResponseEntity&lt;Object&gt; handleNoHandlerFoundException(NoHandlerFoundException ex, HttpHeaders headers, HttpStatus status, WebRequest request) {\r\n            String responseBody = &quot;{\\&quot;errormessage\\&quot;:\\&quot;WHATEVER YOU LIKE\\&quot;}&quot;;\r\n            headers.add(&quot;Content-Type&quot;, &quot;application/json;charset=utf-8&quot;);\r\n            return handleExceptionInternal(ex, responseBody, headers, HttpStatus.NOT_FOUND, request);\r\n        }\r\n    }\r\n  \r\nRegarding the 404 not found exception you should configure the DispatcherServlet to throw and exception if it doesn&#39;t find any handlers, instead of the default behavior. For issues with 404, you may also read [this](https://stackoverflow.com/questions/30329543/spring-boot-taking-control-of-404-not-found) question.","title":"Spring boot 404 error custom error response ReST","body":"<p>You may extend the <code>ResponseEntityExceptionHandler</code> class, which include a lot of common exceptions in a Spring Boot Project. For example, if you wish to use a custom handler for binding exceptions, you may use the following,</p>\n<pre><code>@ControllerAdvice\npublic class MyApiExceptionHandler extends ResponseEntityExceptionHandler {\n\n    @Override\n    public ResponseEntity&lt;Object&gt; handleBindException(BindException ex, HttpHeaders headers, HttpStatus status, WebRequest request) {\n        String responseBody = &quot;{\\&quot;key\\&quot;:\\&quot;value\\&quot;}&quot;;\n        headers.add(&quot;Content-Type&quot;, &quot;application/json;charset=utf-8&quot;);\n        return handleExceptionInternal(ex, responseBody, headers, HttpStatus.NOT_ACCEPTABLE, request);\n    }\n}\n</code></pre>\n<p>An other example for the http status <strong>404-Not Found</strong>,</p>\n<pre><code>@ControllerAdvice\npublic class MyApiExceptionHandler extends ResponseEntityExceptionHandler {\n\n    @Override\n    public ResponseEntity&lt;Object&gt; handleNoHandlerFoundException(NoHandlerFoundException ex, HttpHeaders headers, HttpStatus status, WebRequest request) {\n        String responseBody = &quot;{\\&quot;errormessage\\&quot;:\\&quot;WHATEVER YOU LIKE\\&quot;}&quot;;\n        headers.add(&quot;Content-Type&quot;, &quot;application/json;charset=utf-8&quot;);\n        return handleExceptionInternal(ex, responseBody, headers, HttpStatus.NOT_FOUND, request);\n    }\n}\n</code></pre>\n<p>Regarding the 404 not found exception you should configure the DispatcherServlet to throw and exception if it doesn't find any handlers, instead of the default behavior. For issues with 404, you may also read <a href=\"https://stackoverflow.com/questions/30329543/spring-boot-taking-control-of-404-not-found\">this</a> question.</p>\n"},{"comments":[{"owner":{"account_id":5129456,"reputation":954,"user_id":4110190,"display_name":"Jonas Pedersen"},"score":1,"creation_date":1648493418,"post_id":66611916,"comment_id":126632911,"body_markdown":"Properties needed in Spring 2.6.x is:\n`spring.mvc.throw-exception-if-no-handler-found=true\nspring.web.resources.add-mappings=false`","body":"Properties needed in Spring 2.6.x is: <code>spring.mvc.throw-exception-if-no-handler-found=true spring.web.resources.add-mappings=false</code>"}],"tags":[],"owner":{"account_id":5692208,"reputation":810,"user_id":4499918,"display_name":"Mahadev Mane"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1615627820,"creation_date":1615627820,"answer_id":66611916,"question_id":30917782,"body_markdown":"It is worked for me in case of @RestControllerAdvice with spring boot\r\n\r\n    spring.mvc.throw-exception-if-no-handler-found=true\r\n    server.error.whitelabel.enabled=false\r\n    spring.resources.add-mappings=false\r\n\r\n    @RestControllerAdvice\r\n    public class ErrorHandlerController {\r\n\r\n\t@ExceptionHandler(NoHandlerFoundException.class)\r\n\t@ResponseStatus(value = HttpStatus.NOT_FOUND )\r\n\tpublic String handleNotFoundError(NoHandlerFoundException ex) {\r\n\t\treturn &quot;path does not exists&quot;;\r\n\t}\r\n    }","title":"Spring boot 404 error custom error response ReST","body":"<p>It is worked for me in case of @RestControllerAdvice with spring boot</p>\n<pre><code>spring.mvc.throw-exception-if-no-handler-found=true\nserver.error.whitelabel.enabled=false\nspring.resources.add-mappings=false\n\n@RestControllerAdvice\npublic class ErrorHandlerController {\n\n@ExceptionHandler(NoHandlerFoundException.class)\n@ResponseStatus(value = HttpStatus.NOT_FOUND )\npublic String handleNotFoundError(NoHandlerFoundException ex) {\n    return &quot;path does not exists&quot;;\n}\n}\n</code></pre>\n"}],"owner":{"account_id":6490084,"reputation":951,"user_id":5024424,"display_name":"Markus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75681,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"answer_count":12,"score":35,"last_activity_date":1678386783,"creation_date":1434636707,"question_id":30917782,"body_markdown":"I&#39;m using Spring boot for hosting a REST API. Instead of having the standard error response I would like to always send a JSON response even if a browser is accessing the URL and as well a custom data structure. \r\n\r\nI can do this with @ControllerAdvice and @ExceptionHandler for custom exceptions. But I can&#39;t find any good ways of doing this for standard and handled errors like 404 and 401.\r\n\r\nAre there any good patterns of how to do this?","title":"Spring boot 404 error custom error response ReST","body":"<p>I'm using Spring boot for hosting a REST API. Instead of having the standard error response I would like to always send a JSON response even if a browser is accessing the URL and as well a custom data structure. </p>\n\n<p>I can do this with @ControllerAdvice and @ExceptionHandler for custom exceptions. But I can't find any good ways of doing this for standard and handled errors like 404 and 401.</p>\n\n<p>Are there any good patterns of how to do this?</p>\n"},{"tags":["java","spring","maven","spring-mvc","endpoint"],"comments":[{"owner":{"account_id":248632,"reputation":3391,"user_id":524124,"display_name":"markwatsonatx"},"score":0,"creation_date":1461473766,"post_id":36819277,"comment_id":61211036,"body_markdown":"Just to be clear - you are seeing the whitelabel error page when you go to http://localhost:8080/greeting or just http://localhost:8080? I see the same when I go to http://localhost:8080, but it works just fine when I go to /greeting.","body":"Just to be clear - you are seeing the whitelabel error page when you go to <a href=\"http://localhost:8080/greeting\" rel=\"nofollow noreferrer\">localhost:8080/greeting</a> or just <a href=\"http://localhost:8080\" rel=\"nofollow noreferrer\">localhost:8080</a>? I see the same when I go to <a href=\"http://localhost:8080\" rel=\"nofollow noreferrer\">localhost:8080</a>, but it works just fine when I go to /greeting."},{"owner":{"account_id":7670857,"reputation":1306,"user_id":5813151,"accept_rate":90,"display_name":"moonboy"},"score":0,"creation_date":1461473899,"post_id":36819277,"comment_id":61211054,"body_markdown":"good question, I should have been more clear. Yes, the GET is made towards the endpoint itself, localhost:8080/greeting\n\nI updated the question to reflect that now :)","body":"good question, I should have been more clear. Yes, the GET is made towards the endpoint itself, localhost:8080/greeting  I updated the question to reflect that now :)"}],"answers":[{"comments":[{"owner":{"account_id":2900036,"reputation":423,"user_id":2486966,"display_name":"Ryan J McCall"},"score":0,"creation_date":1539909187,"post_id":36819544,"comment_id":92681863,"body_markdown":"Had to additionally add:     `import org.springframework.context.annotation.ComponentScan;`   \n          `import main.java.hello.GreetingController;`","body":"Had to additionally add:     <code>import org.springframework.context.annotation.ComponentScan;</code>              <code>import main.java.hello.GreetingController;</code>"},{"owner":{"account_id":1448682,"reputation":355,"user_id":1366329,"display_name":"Winter MC"},"score":1,"creation_date":1582446624,"post_id":36819544,"comment_id":106775276,"body_markdown":"Sometimes this error will also appear if your request mapping is not handled by any controller.","body":"Sometimes this error will also appear if your request mapping is not handled by any controller."},{"owner":{"account_id":3401058,"reputation":341,"user_id":2853182,"accept_rate":80,"display_name":"Harry Xiong"},"score":1,"creation_date":1588202339,"post_id":36819544,"comment_id":108813279,"body_markdown":"Thanks, this is really helpful!","body":"Thanks, this is really helpful!"}],"tags":[],"owner":{"account_id":248632,"reputation":3391,"user_id":524124,"display_name":"markwatsonatx"},"comment_count":3,"down_vote_count":1,"up_vote_count":107,"is_accepted":true,"score":106,"last_activity_date":1527705489,"creation_date":1461474984,"answer_id":36819544,"question_id":36819277,"body_markdown":"I believe your issue is related to packages. Your application is defined in `com.organization_name.webservices.application`. I am guessing your other classes are in a different package that is not a child of `com.organization_name.webservices.application`. Spring will automatically load controllers that are in the same package or sub-packages, for example:\r\n\r\n    com.organization_name.webservices.application\r\n    com.organization_name.webservices.application.controllers\r\n    \r\nBut not packages like this:\r\n\r\n    com.organization_name.webservices.controllers\r\n\r\nYou can fix this by either moving your controller (or application), or adding `ComponentScan` to your Application:\r\n\r\n    @SpringBootApplication\r\n    @ComponentScan(basePackageClasses=GreetingController.class)\r\n    public class Application {\r\n\r\nYou should be seeing this in your log:\r\n\r\n     Mapped &quot;{[/greeting]}&quot; onto public com.organization_name.webservices.xxx.Greeting com.organization_name.webservices.xxx.GreetingController.greeting(java.lang.String)\r\n","title":"Issue With Spring: There was an unexpected error (type=Not Found, status=404)","body":"<p>I believe your issue is related to packages. Your application is defined in <code>com.organization_name.webservices.application</code>. I am guessing your other classes are in a different package that is not a child of <code>com.organization_name.webservices.application</code>. Spring will automatically load controllers that are in the same package or sub-packages, for example:</p>\n\n<pre><code>com.organization_name.webservices.application\ncom.organization_name.webservices.application.controllers\n</code></pre>\n\n<p>But not packages like this:</p>\n\n<pre><code>com.organization_name.webservices.controllers\n</code></pre>\n\n<p>You can fix this by either moving your controller (or application), or adding <code>ComponentScan</code> to your Application:</p>\n\n<pre><code>@SpringBootApplication\n@ComponentScan(basePackageClasses=GreetingController.class)\npublic class Application {\n</code></pre>\n\n<p>You should be seeing this in your log:</p>\n\n<pre><code> Mapped \"{[/greeting]}\" onto public com.organization_name.webservices.xxx.Greeting com.organization_name.webservices.xxx.GreetingController.greeting(java.lang.String)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9098180,"reputation":107,"user_id":6771378,"display_name":"SAN"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1494526979,"creation_date":1494526979,"answer_id":43922987,"question_id":36819277,"body_markdown":"in pom.xml add the following dependency\r\n\r\n\r\n         &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;","title":"Issue With Spring: There was an unexpected error (type=Not Found, status=404)","body":"<p>in pom.xml add the following dependency</p>\n\n<pre><code>     &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6813160,"reputation":335,"user_id":5242684,"display_name":"huyhoang-vn"},"score":1,"creation_date":1629271953,"post_id":58646387,"comment_id":121639539,"body_markdown":"Exactlly. Thanks","body":"Exactlly. Thanks"}],"tags":[],"owner":{"account_id":3702400,"reputation":8849,"user_id":3081714,"accept_rate":39,"display_name":"bula"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1578619555,"creation_date":1572534711,"answer_id":58646387,"question_id":36819277,"body_markdown":"seems like you are missing thymleaf dependency. Put this inside your pom.xml dependencies  \r\n\r\n \r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;","title":"Issue With Spring: There was an unexpected error (type=Not Found, status=404)","body":"<p>seems like you are missing thymleaf dependency. Put this inside your pom.xml dependencies  </p>\n\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8035703,"reputation":551,"user_id":6058900,"display_name":"Vikram S"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636961942,"creation_date":1636961942,"answer_id":69970826,"question_id":36819277,"body_markdown":"\t\tAdding these dependencies helped me :\r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.6.1&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.6.1&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\n\r\n    @EnableSwagger2\r\n    @Configuration\r\n    public class swagger {\r\n        public Docket productApi() {\r\n            return new Docket(DocumentationType.SWAGGER_2)\r\n                    .select()\r\n                    .apis(RequestHandlerSelectors.basePackage(&quot;com.example.Mongo&quot;))\r\n                    .paths(regex(&quot;/mongo.*&quot;))\r\n                    .build();\r\n        }\r\n    }","title":"Issue With Spring: There was an unexpected error (type=Not Found, status=404)","body":"<pre><code>    Adding these dependencies helped me :\n\n&lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;2.6.1&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.6.1&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n@EnableSwagger2\n@Configuration\npublic class swagger {\n    public Docket productApi() {\n        return new Docket(DocumentationType.SWAGGER_2)\n                .select()\n                .apis(RequestHandlerSelectors.basePackage(&quot;com.example.Mongo&quot;))\n                .paths(regex(&quot;/mongo.*&quot;))\n                .build();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26371527,"reputation":11,"user_id":20026137,"display_name":"HAFIDA FAOUZI"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669056606,"creation_date":1669056606,"answer_id":74523601,"question_id":36819277,"body_markdown":"i had same issue but when i added to my pom.xml this dependency and it works well for me \r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;","title":"Issue With Spring: There was an unexpected error (type=Not Found, status=404)","body":"<p>i had same issue but when i added to my pom.xml this dependency and it works well for me</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4281907,"reputation":307,"user_id":3501003,"display_name":"Umesh Bhutada"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673978734,"creation_date":1673978734,"answer_id":75150484,"question_id":36819277,"body_markdown":"Keep your controller inside the main class package:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JsAWf.png\r\n  [2]: https://i.stack.imgur.com/AXtFs.png","title":"Issue With Spring: There was an unexpected error (type=Not Found, status=404)","body":"<p>Keep your controller inside the main class package:</p>\n<p><a href=\"https://i.stack.imgur.com/JsAWf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JsAWf.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/AXtFs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AXtFs.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":7670857,"reputation":1306,"user_id":5813151,"accept_rate":90,"display_name":"moonboy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157973,"favorite_count":0,"down_vote_count":1,"up_vote_count":62,"accepted_answer_id":36819544,"answer_count":6,"score":61,"last_activity_date":1678386320,"creation_date":1461471928,"question_id":36819277,"body_markdown":"I am going through this book on restful web services with spring. I decided to move away from what they were doing and use java configuration files. For some reason, after switching over to the Java configuration, the service would run (in the console window) correctly but when I actually go to the endpoint on localhost i get this:\r\n\r\n&gt; White label Error Page\r\n&gt; \r\n&gt; This application has no explicit mapping for /error, so you are seeing\r\n&gt; this as a fallback.\r\n&gt; \r\n&gt; Sat Apr 23 20:48:25 PDT 2016 There was an unexpected error (type=Not\r\n&gt; Found, status=404). No message available\r\n\r\nAnd this is the response from the GET request:\r\n\r\n    {\r\n        &quot;timestamp&quot;: 1461470029110,\r\n        &quot;status&quot;: 404,\r\n        &quot;error&quot;: &quot;Not Found&quot;,\r\n        &quot;message&quot;: &quot;No message available&quot;,\r\n        &quot;path&quot;: &quot;/greeting&quot;\r\n    }\r\n\r\nThe next chapter of this story begins with me going to the getting started page on the Spring website http://spring.io/guides/gs/rest-service/ I decided to start a small project recreating their basic tutorial. I will post the code I wrote below for you to see. The problem is, I am having the exact same issue. The service runs but I can&#39;t hit the endpoints. I am not sure what is going on and I have seen others with similar issues, but the answers have not applied/helped with mine. I am sure it is something obvious that I am doing wrong and any help would be greatly appreciated. One last piece of information, if at all relevant, I am using IntelliJ IDEA 15 CE as my IDE.  \r\n\r\nThe endpoint being hit:\r\n\r\nhttp://localhost:8080/greeting \r\n\r\nMy controller \r\n\r\n   \r\n\r\n    @RestController\r\n    public class GreetingController {\r\n        private static final String template = &quot;Hello, %s!&quot;;\r\n        private final AtomicLong counter = new AtomicLong();\r\n        \r\n        @RequestMapping(&quot;/greeting&quot;)\r\n        public Greeting greeting(@RequestParam(value = &quot;name&quot;, defaultValue = &quot;World&quot;)String name) {\r\n            return new Greeting(counter.incrementAndGet(), String.format(template, name));\r\n        }\r\n    }\r\n\r\nMy Resource Representation class\r\n\r\n   \r\n\r\n    public class Greeting {\r\n        private final long id;\r\n        private final String content;\r\n        \r\n        public Greeting(long id, String content) {\r\n            this.id = id;\r\n            this.content = content;\r\n        }\r\n        \r\n        public long getId() {\r\n            return id;\r\n        }\r\n        \r\n        public String getContent() {\r\n            return content;\r\n        }\r\n    }\r\n\r\nMy Main\r\n\r\n    @SpringBootApplication\r\n    public class Application\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n    }\r\n\r\nMy POM file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.organization_name.webservices&lt;/groupId&gt;\r\n    &lt;artifactId&gt;helloworld&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;1.3.3.RELEASE&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    \r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;spring-releases&lt;/id&gt;\r\n            &lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n    &lt;pluginRepositories&gt;\r\n        &lt;pluginRepository&gt;\r\n            &lt;id&gt;spring-releases&lt;/id&gt;\r\n            &lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\r\n        &lt;/pluginRepository&gt;\r\n    &lt;/pluginRepositories&gt;\r\n&lt;/project&gt;\r\n\r\nCommand line to run\r\n\r\n    mvn spring-boot:run   \r\n\r\nMy complete log from the console\r\n\r\n     .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::        (v1.3.3.RELEASE)\r\n    \r\n    2016-04-23 20:47:53.153  INFO 7898 --- [           main] c.t.webservices.application.Application  : Starting Application on Macintosh.local with PID 7898 (/Users/&lt;my_user&gt;/Downloads/B04788_Code/HelloWorld/target/classes started by &lt;my_user&gt; in /Users/&lt;my_user&gt;/Downloads/B04788_Code/HelloWorld)\r\n    2016-04-23 20:47:53.156  INFO 7898 --- [           main] c.t.webservices.application.Application  : No active profile set, falling back to default profiles: default\r\n    2016-04-23 20:47:53.242  INFO 7898 --- [           main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@68ceda24: startup date [Sat Apr 23 20:47:53 PDT 2016]; root of context hierarchy\r\n    2016-04-23 20:47:54.084  INFO 7898 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean &#39;beanNameViewResolver&#39; with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.web.ErrorMvcAutoConfiguration$WhitelabelErrorViewConfiguration; factoryMethodName=beanNameViewResolver; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/web/ErrorMvcAutoConfiguration$WhitelabelErrorViewConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.web.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter; factoryMethodName=beanNameViewResolver; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/web/WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter.class]]\r\n    2016-04-23 20:47:54.811  INFO 7898 --- [           main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)\r\n    2016-04-23 20:47:54.840  INFO 7898 --- [           main] o.apache.catalina.core.StandardService   : Starting service Tomcat\r\n    2016-04-23 20:47:54.841  INFO 7898 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.0.32\r\n    2016-04-23 20:47:54.960  INFO 7898 --- [ost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2016-04-23 20:47:54.960  INFO 7898 --- [ost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1736 ms\r\n    2016-04-23 20:47:55.214  INFO 7898 --- [ost-startStop-1] o.s.b.c.e.ServletRegistrationBean        : Mapping servlet: &#39;dispatcherServlet&#39; to [/]\r\n    2016-04-23 20:47:55.218  INFO 7898 --- [ost-startStop-1] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: &#39;characterEncodingFilter&#39; to: [/*]\r\n    2016-04-23 20:47:55.219  INFO 7898 --- [ost-startStop-1] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: &#39;hiddenHttpMethodFilter&#39; to: [/*]\r\n    2016-04-23 20:47:55.219  INFO 7898 --- [ost-startStop-1] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: &#39;httpPutFormContentFilter&#39; to: [/*]\r\n    2016-04-23 20:47:55.219  INFO 7898 --- [ost-startStop-1] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: &#39;requestContextFilter&#39; to: [/*]\r\n    2016-04-23 20:47:55.545  INFO 7898 --- [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@68ceda24: startup date [Sat Apr 23 20:47:53 PDT 2016]; root of context hierarchy\r\n    2016-04-23 20:47:55.605  INFO 7898 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped &quot;{[/error]}&quot; onto public org.springframework.http.ResponseEntity&lt;java.util.Map&lt;java.lang.String, java.lang.Object&gt;&gt; org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)\r\n    2016-04-23 20:47:55.606  INFO 7898 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped &quot;{[/error],produces=[text/html]}&quot; onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)\r\n    2016-04-23 20:47:55.628  INFO 7898 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]\r\n    2016-04-23 20:47:55.628  INFO 7898 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]\r\n    2016-04-23 20:47:55.657  INFO 7898 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]\r\n    2016-04-23 20:47:55.776  INFO 7898 --- [           main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup\r\n    2016-04-23 20:47:55.848  INFO 7898 --- [           main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)\r\n    2016-04-23 20:47:55.853  INFO 7898 --- [           main] c.t.webservices.application.Application  : Started Application in 3.531 seconds (JVM running for 4.702)\r\n    2016-04-23 20:48:19.521  INFO 7898 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet &#39;dispatcherServlet&#39;\r\n    2016-04-23 20:48:19.521  INFO 7898 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet &#39;dispatcherServlet&#39;: initialization started\r\n    2016-04-23 20:48:19.533  INFO 7898 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet &#39;dispatcherServlet&#39;: initialization completed in 12 ms\r\n    \r\n\r\nConsole update after GET request\r\n\r\n    2016-04-23 20:48:19.521  INFO 7898 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet &#39;dispatcherServlet&#39;: initialization started\r\n    2016-04-23 20:48:19.533  INFO 7898 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet &#39;dispatcherServlet&#39;: initialization completed in 12 ms\r\n\r\n\r\nConsole after stopping\r\n\r\n\r\n    2016-04-23 20:53:24.494  INFO 7898 --- [       Thread-2] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@68ceda24: startup date [Sat Apr 23 20:47:53 PDT 2016]; root of context hierarchy\r\n    2016-04-23 20:53:24.495  INFO 7898 --- [       Thread-2] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown\r\n    \r\n    Process finished with exit code 130\r\n\r\n\r\n\r\nThanks again for any help you can offer. I will keep everyone posted with updates!","title":"Issue With Spring: There was an unexpected error (type=Not Found, status=404)","body":"<p>I am going through this book on restful web services with spring. I decided to move away from what they were doing and use java configuration files. For some reason, after switching over to the Java configuration, the service would run (in the console window) correctly but when I actually go to the endpoint on localhost i get this:</p>\n\n<blockquote>\n  <p>White label Error Page</p>\n  \n  <p>This application has no explicit mapping for /error, so you are seeing\n  this as a fallback.</p>\n  \n  <p>Sat Apr 23 20:48:25 PDT 2016 There was an unexpected error (type=Not\n  Found, status=404). No message available</p>\n</blockquote>\n\n<p>And this is the response from the GET request:</p>\n\n<pre><code>{\n    \"timestamp\": 1461470029110,\n    \"status\": 404,\n    \"error\": \"Not Found\",\n    \"message\": \"No message available\",\n    \"path\": \"/greeting\"\n}\n</code></pre>\n\n<p>The next chapter of this story begins with me going to the getting started page on the Spring website <a href=\"http://spring.io/guides/gs/rest-service/\" rel=\"noreferrer\">http://spring.io/guides/gs/rest-service/</a> I decided to start a small project recreating their basic tutorial. I will post the code I wrote below for you to see. The problem is, I am having the exact same issue. The service runs but I can't hit the endpoints. I am not sure what is going on and I have seen others with similar issues, but the answers have not applied/helped with mine. I am sure it is something obvious that I am doing wrong and any help would be greatly appreciated. One last piece of information, if at all relevant, I am using IntelliJ IDEA 15 CE as my IDE.  </p>\n\n<p>The endpoint being hit:</p>\n\n<p><a href=\"http://localhost:8080/greeting\" rel=\"noreferrer\">http://localhost:8080/greeting</a> </p>\n\n<p>My controller </p>\n\n<pre><code>@RestController\npublic class GreetingController {\n    private static final String template = \"Hello, %s!\";\n    private final AtomicLong counter = new AtomicLong();\n\n    @RequestMapping(\"/greeting\")\n    public Greeting greeting(@RequestParam(value = \"name\", defaultValue = \"World\")String name) {\n        return new Greeting(counter.incrementAndGet(), String.format(template, name));\n    }\n}\n</code></pre>\n\n<p>My Resource Representation class</p>\n\n<pre><code>public class Greeting {\n    private final long id;\n    private final String content;\n\n    public Greeting(long id, String content) {\n        this.id = id;\n        this.content = content;\n    }\n\n    public long getId() {\n        return id;\n    }\n\n    public String getContent() {\n        return content;\n    }\n}\n</code></pre>\n\n<p>My Main</p>\n\n<pre><code>@SpringBootApplication\npublic class Application\n{\n    public static void main(String[] args)\n    {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n\n<p>My POM file</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n     xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n     xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;com.organization_name.webservices&lt;/groupId&gt;\n&lt;artifactId&gt;helloworld&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.3.3.RELEASE&lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;spring-releases&lt;/id&gt;\n        &lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n&lt;pluginRepositories&gt;\n    &lt;pluginRepository&gt;\n        &lt;id&gt;spring-releases&lt;/id&gt;\n        &lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\n    &lt;/pluginRepository&gt;\n&lt;/pluginRepositories&gt;\n</code></pre>\n\n<p></p>\n\n<p>Command line to run</p>\n\n<pre><code>mvn spring-boot:run   \n</code></pre>\n\n<p>My complete log from the console</p>\n\n<pre><code> .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::        (v1.3.3.RELEASE)\n\n2016-04-23 20:47:53.153  INFO 7898 --- [           main] c.t.webservices.application.Application  : Starting Application on Macintosh.local with PID 7898 (/Users/&lt;my_user&gt;/Downloads/B04788_Code/HelloWorld/target/classes started by &lt;my_user&gt; in /Users/&lt;my_user&gt;/Downloads/B04788_Code/HelloWorld)\n2016-04-23 20:47:53.156  INFO 7898 --- [           main] c.t.webservices.application.Application  : No active profile set, falling back to default profiles: default\n2016-04-23 20:47:53.242  INFO 7898 --- [           main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@68ceda24: startup date [Sat Apr 23 20:47:53 PDT 2016]; root of context hierarchy\n2016-04-23 20:47:54.084  INFO 7898 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'beanNameViewResolver' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.web.ErrorMvcAutoConfiguration$WhitelabelErrorViewConfiguration; factoryMethodName=beanNameViewResolver; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/web/ErrorMvcAutoConfiguration$WhitelabelErrorViewConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.web.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter; factoryMethodName=beanNameViewResolver; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/web/WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter.class]]\n2016-04-23 20:47:54.811  INFO 7898 --- [           main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)\n2016-04-23 20:47:54.840  INFO 7898 --- [           main] o.apache.catalina.core.StandardService   : Starting service Tomcat\n2016-04-23 20:47:54.841  INFO 7898 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.0.32\n2016-04-23 20:47:54.960  INFO 7898 --- [ost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2016-04-23 20:47:54.960  INFO 7898 --- [ost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1736 ms\n2016-04-23 20:47:55.214  INFO 7898 --- [ost-startStop-1] o.s.b.c.e.ServletRegistrationBean        : Mapping servlet: 'dispatcherServlet' to [/]\n2016-04-23 20:47:55.218  INFO 7898 --- [ost-startStop-1] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: 'characterEncodingFilter' to: [/*]\n2016-04-23 20:47:55.219  INFO 7898 --- [ost-startStop-1] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]\n2016-04-23 20:47:55.219  INFO 7898 --- [ost-startStop-1] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: 'httpPutFormContentFilter' to: [/*]\n2016-04-23 20:47:55.219  INFO 7898 --- [ost-startStop-1] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: 'requestContextFilter' to: [/*]\n2016-04-23 20:47:55.545  INFO 7898 --- [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@68ceda24: startup date [Sat Apr 23 20:47:53 PDT 2016]; root of context hierarchy\n2016-04-23 20:47:55.605  INFO 7898 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped \"{[/error]}\" onto public org.springframework.http.ResponseEntity&lt;java.util.Map&lt;java.lang.String, java.lang.Object&gt;&gt; org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)\n2016-04-23 20:47:55.606  INFO 7898 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped \"{[/error],produces=[text/html]}\" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)\n2016-04-23 20:47:55.628  INFO 7898 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]\n2016-04-23 20:47:55.628  INFO 7898 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]\n2016-04-23 20:47:55.657  INFO 7898 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]\n2016-04-23 20:47:55.776  INFO 7898 --- [           main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup\n2016-04-23 20:47:55.848  INFO 7898 --- [           main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)\n2016-04-23 20:47:55.853  INFO 7898 --- [           main] c.t.webservices.application.Application  : Started Application in 3.531 seconds (JVM running for 4.702)\n2016-04-23 20:48:19.521  INFO 7898 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'\n2016-04-23 20:48:19.521  INFO 7898 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started\n2016-04-23 20:48:19.533  INFO 7898 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 12 ms\n</code></pre>\n\n<p>Console update after GET request</p>\n\n<pre><code>2016-04-23 20:48:19.521  INFO 7898 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started\n2016-04-23 20:48:19.533  INFO 7898 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 12 ms\n</code></pre>\n\n<p>Console after stopping</p>\n\n<pre><code>2016-04-23 20:53:24.494  INFO 7898 --- [       Thread-2] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@68ceda24: startup date [Sat Apr 23 20:47:53 PDT 2016]; root of context hierarchy\n2016-04-23 20:53:24.495  INFO 7898 --- [       Thread-2] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown\n\nProcess finished with exit code 130\n</code></pre>\n\n<p>Thanks again for any help you can offer. I will keep everyone posted with updates!</p>\n"},{"tags":["java","spring","amazon-web-services","amazon-dynamodb","dynamodb-queries"],"comments":[{"owner":{"account_id":100740,"reputation":73227,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":1,"creation_date":1678377493,"post_id":75686879,"comment_id":133524435,"body_markdown":"You&#39;re trying to query the item with the most recent punch time for a given student number? Your query should simply be for equality on the partition key value (of student number) with ScanIndexForward=false and Limit=1.","body":"You&#39;re trying to query the item with the most recent punch time for a given student number? Your query should simply be for equality on the partition key value (of student number) with ScanIndexForward=false and Limit=1."}],"answers":[{"tags":[],"owner":{"account_id":8806448,"reputation":1279,"user_id":6580933,"display_name":"Terblanche Daniel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678386003,"creation_date":1678386003,"answer_id":75688596,"question_id":75686879,"body_markdown":"Someone in the comments pointed out the answer. You dont need to have the SortKey involved in this case. Simply search by Partition key and reverse scanIndex limmitting to 1, because DDB already sorts your data is should be in correct order. It also cut the query time down from 6 seconds to 60ms.\r\n\r\n```java\r\n  @Override\r\n    public AttendanceTracking findFirstByStudentNrOrderByPunchTimeDesc(String studentNr) {\r\n        DynamoDbTable&lt;AttendanceTracking&gt; attendanceTable = getTable();\r\n        //Only get last db entry sorted by punchTime\r\n        String today = LocalDateTime.now().toString();\r\n        QueryConditional queryConditional = QueryConditional\r\n            .keyEqualTo(Key.builder().partitionValue(studentNr).build());\r\n        Iterable&lt;Page&lt;AttendanceTracking&gt;&gt; results =\r\n                attendanceTable.query(QueryEnhancedRequest.builder()\r\n                        .queryConditional(queryConditional)\r\n                        .scanIndexForward(false)\r\n                        .limit(1)\r\n                        .build());\r\n        List&lt;AttendanceTracking&gt; entries = new ArrayList&lt;&gt;();\r\n        results.forEach(page -&gt; entries.addAll(page.items()));\r\n        if (entries.size() &gt; 0) {\r\n            return entries.get(0);\r\n        }\r\n        return null;\r\n    }\r\n```","title":"Get last value in DynamoDB Partition","body":"<p>Someone in the comments pointed out the answer. You dont need to have the SortKey involved in this case. Simply search by Partition key and reverse scanIndex limmitting to 1, because DDB already sorts your data is should be in correct order. It also cut the query time down from 6 seconds to 60ms.</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Override\n    public AttendanceTracking findFirstByStudentNrOrderByPunchTimeDesc(String studentNr) {\n        DynamoDbTable&lt;AttendanceTracking&gt; attendanceTable = getTable();\n        //Only get last db entry sorted by punchTime\n        String today = LocalDateTime.now().toString();\n        QueryConditional queryConditional = QueryConditional\n            .keyEqualTo(Key.builder().partitionValue(studentNr).build());\n        Iterable&lt;Page&lt;AttendanceTracking&gt;&gt; results =\n                attendanceTable.query(QueryEnhancedRequest.builder()\n                        .queryConditional(queryConditional)\n                        .scanIndexForward(false)\n                        .limit(1)\n                        .build());\n        List&lt;AttendanceTracking&gt; entries = new ArrayList&lt;&gt;();\n        results.forEach(page -&gt; entries.addAll(page.items()));\n        if (entries.size() &gt; 0) {\n            return entries.get(0);\n        }\n        return null;\n    }\n</code></pre>\n"}],"owner":{"account_id":8806448,"reputation":1279,"user_id":6580933,"display_name":"Terblanche Daniel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75688596,"answer_count":1,"score":0,"last_activity_date":1678386003,"creation_date":1678376472,"question_id":75686879,"body_markdown":"I want to get only the last value in the DDB partition sorted by the sort key of\r\ncourse.\r\n\r\nMy Table minified looks as follows:\r\n\r\n===============================\r\n\r\nstudentNr | punchTime | classId | locationName\r\n\r\n===============================\r\n\r\nPartition Key = StudentNr\r\n\r\n\r\nSortyKey = PunchTime\r\n\r\nI am using the AWS Enhanced client for java and I got this query that is working, but the problem is I am getting throttled, (not very high capacity provisioned but still should not get throttled for just this query).\r\n\r\nThe code looks as follows:\r\n\r\n```[JAVA]\r\n    @Override\r\n    public AttendanceTracking findFirstByStudentNrOrderByPunchTimeDesc(String studentNr) {\r\n        DynamoDbTable&lt;AttendanceTracking&gt; attendanceTable = getTable();\r\n        //Only get last db entry sorted by punchTime\r\n        String today = LocalDateTime.now().toString();\r\n        Key fromKey = Key.builder().partitionValue(studentNr).sortValue(today).build();\r\n        QueryConditional queryConditional = QueryConditional\r\n                .sortLessThan(fromKey);\r\n        Iterable&lt;Page&lt;AttendanceTracking&gt;&gt; results =\r\n                attendanceTable.query(QueryEnhancedRequest.builder()\r\n                        .queryConditional(queryConditional)\r\n                        .scanIndexForward(false)\r\n                        .limit(1)\r\n                        .build());\r\n        List&lt;AttendanceTracking&gt; entries = new ArrayList&lt;&gt;();\r\n        results.forEach(page -&gt; entries.addAll(page.items()));\r\n        if (entries.size() &gt; 0) {\r\n            return entries.get(0);\r\n        }\r\n        return null;\r\n    }\r\n```\r\n\r\nAlso, this query takes  6 seconds avg to execute? Yet there should only be a few 100 entries in this specific parition. Not sure if this is because of throttling and the client has automatic retries build in I dont know.\r\n\r\nI am thinking its because I do a sortLess than, but I can&#39;t imagine it should scan all values in the partition?\r\n\r\nPlease help\r\n","title":"Get last value in DynamoDB Partition","body":"<p>I want to get only the last value in the DDB partition sorted by the sort key of\ncourse.</p>\n<p>My Table minified looks as follows:</p>\n<p>===============================</p>\n<p>studentNr | punchTime | classId | locationName</p>\n<p>===============================</p>\n<p>Partition Key = StudentNr</p>\n<p>SortyKey = PunchTime</p>\n<p>I am using the AWS Enhanced client for java and I got this query that is working, but the problem is I am getting throttled, (not very high capacity provisioned but still should not get throttled for just this query).</p>\n<p>The code looks as follows:</p>\n<pre><code>    @Override\n    public AttendanceTracking findFirstByStudentNrOrderByPunchTimeDesc(String studentNr) {\n        DynamoDbTable&lt;AttendanceTracking&gt; attendanceTable = getTable();\n        //Only get last db entry sorted by punchTime\n        String today = LocalDateTime.now().toString();\n        Key fromKey = Key.builder().partitionValue(studentNr).sortValue(today).build();\n        QueryConditional queryConditional = QueryConditional\n                .sortLessThan(fromKey);\n        Iterable&lt;Page&lt;AttendanceTracking&gt;&gt; results =\n                attendanceTable.query(QueryEnhancedRequest.builder()\n                        .queryConditional(queryConditional)\n                        .scanIndexForward(false)\n                        .limit(1)\n                        .build());\n        List&lt;AttendanceTracking&gt; entries = new ArrayList&lt;&gt;();\n        results.forEach(page -&gt; entries.addAll(page.items()));\n        if (entries.size() &gt; 0) {\n            return entries.get(0);\n        }\n        return null;\n    }\n</code></pre>\n<p>Also, this query takes  6 seconds avg to execute? Yet there should only be a few 100 entries in this specific parition. Not sure if this is because of throttling and the client has automatic retries build in I dont know.</p>\n<p>I am thinking its because I do a sortLess than, but I can't imagine it should scan all values in the partition?</p>\n<p>Please help</p>\n"},{"tags":["java","jsf","glassfish","ejb","shiro"],"comments":[{"owner":{"account_id":383130,"reputation":2081,"user_id":6415199,"display_name":"Brian Demers"},"score":0,"creation_date":1522938354,"post_id":49656711,"comment_id":86360475,"body_markdown":"I&#39;m guessing it is a Glassfish config issue. How are your instances configured?","body":"I&#39;m guessing it is a Glassfish config issue. How are your instances configured?"},{"owner":{"account_id":2762811,"reputation":117,"user_id":2379344,"accept_rate":83,"display_name":"Bruno A"},"score":0,"creation_date":1522941377,"post_id":49656711,"comment_id":86362852,"body_markdown":"I don&#39;t know if it&#39;s a Glassfish configuration issue, because all the instances have the same configuration. It happens when I try to access the EJB from another glassfish instance. For example: I&#39;m running a local application with Shiro Security and then try to access the remote EJB (in another glassfish instance), it gives me the error. However, if I run in the same instance, i don&#39;t get the error/warn.","body":"I don&#39;t know if it&#39;s a Glassfish configuration issue, because all the instances have the same configuration. It happens when I try to access the EJB from another glassfish instance. For example: I&#39;m running a local application with Shiro Security and then try to access the remote EJB (in another glassfish instance), it gives me the error. However, if I run in the same instance, i don&#39;t get the error/warn."}],"answers":[{"comments":[{"owner":{"account_id":2762811,"reputation":117,"user_id":2379344,"accept_rate":83,"display_name":"Bruno A"},"score":0,"creation_date":1522946053,"post_id":49677145,"comment_id":86365869,"body_markdown":"But why when I don&#39;t use Shiro I don&#39;t get this warning? I was using this application without a problem before implementing Shiro (but it didn&#39;t have security at all).","body":"But why when I don&#39;t use Shiro I don&#39;t get this warning? I was using this application without a problem before implementing Shiro (but it didn&#39;t have security at all)."},{"owner":{"account_id":2138679,"reputation":18996,"user_id":1897870,"display_name":"Steve C"},"score":0,"creation_date":1522987607,"post_id":49677145,"comment_id":86381550,"body_markdown":"Perhaps Shiro has hacked* in it&#39;s own version of [java.security.Principal](https://docs.oracle.com/javase/8/docs/api/java/security/Principal.html), which has subsequently surprised GlassFish?  *I mean this in a nice way!","body":"Perhaps Shiro has hacked* in it&#39;s own version of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/security/Principal.html\" rel=\"nofollow noreferrer\">java.security.Principal</a>, which has subsequently surprised GlassFish?  *I mean this in a nice way!"},{"owner":{"account_id":2762811,"reputation":117,"user_id":2379344,"accept_rate":83,"display_name":"Bruno A"},"score":0,"creation_date":1523023842,"post_id":49677145,"comment_id":86401988,"body_markdown":"Maybe... but I have no idea how to check this. I&#39;m reading the docs.","body":"Maybe... but I have no idea how to check this. I&#39;m reading the docs."}],"tags":[],"owner":{"account_id":2138679,"reputation":18996,"user_id":1897870,"display_name":"Steve C"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522945334,"creation_date":1522945334,"answer_id":49677145,"question_id":49656711,"body_markdown":"Apache Shiro is an application layer security solution. As far as I can tell it is not integrated with your application server in any way.\r\n\r\nA Java EE server normally expects to be in charge of authentication, authorisation, etc. Consequently it is then in a position to be able to propagate credentials correctly when making both local and remote EJB calls. This is how features like [javax.annotation.security.RolesAllowed](https://docs.oracle.com/javaee/7/api/javax/annotation/security/RolesAllowed.html) are implemented.\r\n","title":"IIOP1002: Principal propagation: Cannot find principal information in subject - Apache Shiro + EJB","body":"<p>Apache Shiro is an application layer security solution. As far as I can tell it is not integrated with your application server in any way.</p>\n\n<p>A Java EE server normally expects to be in charge of authentication, authorisation, etc. Consequently it is then in a position to be able to propagate credentials correctly when making both local and remote EJB calls. This is how features like <a href=\"https://docs.oracle.com/javaee/7/api/javax/annotation/security/RolesAllowed.html\" rel=\"nofollow noreferrer\">javax.annotation.security.RolesAllowed</a> are implemented.</p>\n"},{"comments":[{"owner":{"account_id":23088,"reputation":22410,"user_id":57601,"accept_rate":100,"display_name":"Kosi2801"},"score":0,"creation_date":1678284584,"post_id":75392960,"comment_id":133502709,"body_markdown":"The link to https://github.com/flowlogix/flowlogix/tree/main/jakarta-ee/shiro-ee is broken at the moment. Do you maybe have a new link?","body":"The link to <a href=\"https://github.com/flowlogix/flowlogix/tree/main/jakarta-ee/shiro-ee\" rel=\"nofollow noreferrer\">github.com/flowlogix/flowlogix/tree/main/jakarta-ee/shiro-ee</a> is broken at the moment. Do you maybe have a new link?"},{"owner":{"account_id":3531830,"reputation":1,"user_id":2951134,"display_name":"Lenny Primak"},"score":0,"creation_date":1678380296,"post_id":75392960,"comment_id":133525394,"body_markdown":"Jakarta EE module has now been integrated into Shiro itself. See https://shiro.apache.org/jakarta-ee.html","body":"Jakarta EE module has now been integrated into Shiro itself. See <a href=\"https://shiro.apache.org/jakarta-ee.html\" rel=\"nofollow noreferrer\">shiro.apache.org/jakarta-ee.html</a>"},{"owner":{"account_id":3531830,"reputation":1,"user_id":2951134,"display_name":"Lenny Primak"},"score":1,"creation_date":1678385933,"post_id":75392960,"comment_id":133526957,"body_markdown":"I have fixed the link to point to the older 5.x version of flowlogix library so it still works as well","body":"I have fixed the link to point to the older 5.x version of flowlogix library so it still works as well"}],"tags":[],"owner":{"account_id":3531830,"reputation":1,"user_id":2951134,"display_name":"Lenny Primak"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678385859,"creation_date":1675901325,"answer_id":75392960,"question_id":49656711,"body_markdown":"Shiro propagates its principal to javax.security.Principal, which remote EJBs don&#39;t understand. The Java principal has to be nulled out.\r\nThis is done in [Shiro EE integration module][1] which will be integrated into Shiro with version 2.0+\r\n\r\n\r\n  [1]: https://github.com/flowlogix/flowlogix/tree/5.x/jakarta-ee/shiro-ee","title":"IIOP1002: Principal propagation: Cannot find principal information in subject - Apache Shiro + EJB","body":"<p>Shiro propagates its principal to javax.security.Principal, which remote EJBs don't understand. The Java principal has to be nulled out.\nThis is done in <a href=\"https://github.com/flowlogix/flowlogix/tree/5.x/jakarta-ee/shiro-ee\" rel=\"nofollow noreferrer\">Shiro EE integration module</a> which will be integrated into Shiro with version 2.0+</p>\n"}],"owner":{"account_id":2762811,"reputation":117,"user_id":2379344,"accept_rate":83,"display_name":"Bruno A"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1678385859,"creation_date":1522861803,"question_id":49656711,"body_markdown":"I am using Shiro Security to secure a JSF project.\r\n\r\nIt is working as expected, including calls to a remote EJB (that is unsecured). However, when a call to the unsecure EJB is made, i have the following warn, but the method is executed without a problem:\r\n\r\n    IIOP1002: Principal propagation: Cannot find principal information in subject\r\n\r\n\r\nWhat does this exactly mean? What should I do to fix this? I need to execute the method in a remote EJB from a secured application and this warning is getting dumped to the log everytime a call to the EJB is made (this occurs multiple times).\r\n\r\n**Edit:**\r\n\r\nThe warn doesn&#39;t occur when I deploy the project in the same Glassfish server as the EJB.\r\n\r\n**Edit 2:**\r\n\r\nI thought about inserting the principal information in the InitialContext, before doing the call to the EJB, like this:\r\n\r\n    Hashtable env = new Hashtable();\r\n    env.put(Context.SECURITY_PRINCIPAL, SecurityUtils.getSubject().getPrincipal());\r\n    ctx = new InitialContext(env);\r\n\r\nStill no luck.\r\n\r\nSecurityUtils is from `org.apache.shiro.SecurityUtils` library. \r\n\r\n","title":"IIOP1002: Principal propagation: Cannot find principal information in subject - Apache Shiro + EJB","body":"<p>I am using Shiro Security to secure a JSF project.</p>\n\n<p>It is working as expected, including calls to a remote EJB (that is unsecured). However, when a call to the unsecure EJB is made, i have the following warn, but the method is executed without a problem:</p>\n\n<pre><code>IIOP1002: Principal propagation: Cannot find principal information in subject\n</code></pre>\n\n<p>What does this exactly mean? What should I do to fix this? I need to execute the method in a remote EJB from a secured application and this warning is getting dumped to the log everytime a call to the EJB is made (this occurs multiple times).</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>The warn doesn't occur when I deploy the project in the same Glassfish server as the EJB.</p>\n\n<p><strong>Edit 2:</strong></p>\n\n<p>I thought about inserting the principal information in the InitialContext, before doing the call to the EJB, like this:</p>\n\n<pre><code>Hashtable env = new Hashtable();\nenv.put(Context.SECURITY_PRINCIPAL, SecurityUtils.getSubject().getPrincipal());\nctx = new InitialContext(env);\n</code></pre>\n\n<p>Still no luck.</p>\n\n<p>SecurityUtils is from <code>org.apache.shiro.SecurityUtils</code> library. </p>\n"},{"tags":["java","itext"],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678385477,"creation_date":1678385477,"answer_id":75688522,"question_id":75685893,"body_markdown":"You add to the *UnderContent*:\r\n\r\n    PdfContentByte under = stamp.getUnderContent(pageOfPDF);\r\n    under.addImage(images.get(feuilletCpt &lt; feuilletTot ? &quot;NL&quot; + seq : &quot;L&quot; + seq), true);\r\n\r\nThus, the addition can only be seen where there is no previous content. In case of scanned documents there usually is a page-covering image, so your addition underneath is not visible. Some PDF generators first add a page covering white rectangle. In case of such documents, your addition underneath also is not visible.\r\n\r\nUse the *Overcontent* instead: `stamp.getOverContent(pageOfPDF)`\r\n\r\n----\r\n\r\nAnother possible issue: The code you show does not take the coordinate system of the page into account. You may have to add the lower left corner of the page crop box to your coordinates.","title":"Cannot add image to scanned Pdf or Pdf converted from Html","body":"<p>You add to the <em>UnderContent</em>:</p>\n<pre><code>PdfContentByte under = stamp.getUnderContent(pageOfPDF);\nunder.addImage(images.get(feuilletCpt &lt; feuilletTot ? &quot;NL&quot; + seq : &quot;L&quot; + seq), true);\n</code></pre>\n<p>Thus, the addition can only be seen where there is no previous content. In case of scanned documents there usually is a page-covering image, so your addition underneath is not visible. Some PDF generators first add a page covering white rectangle. In case of such documents, your addition underneath also is not visible.</p>\n<p>Use the <em>Overcontent</em> instead: <code>stamp.getOverContent(pageOfPDF)</code></p>\n<hr />\n<p>Another possible issue: The code you show does not take the coordinate system of the page into account. You may have to add the lower left corner of the page crop box to your coordinates.</p>\n"}],"owner":{"account_id":24062572,"reputation":13,"user_id":18039597,"display_name":"Be&#225;ta Z&#225;dori"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75688522,"answer_count":1,"score":1,"last_activity_date":1678385834,"creation_date":1678371919,"question_id":75685893,"body_markdown":"Using iText (com.lowagie.itext.2.1.7), I have this code that adds a little image to a Pdf. I works with simple Pdf files, but not when I create the Pdf from Html or when the Pdf is a scanned document.\r\n\r\n```\r\nprivate final Map&lt;String, Image&gt; images = new HashMap&lt;String, Image&gt;();\r\n\r\nimages.put(&quot;NL&quot; + i, getBlackAndWhiteBarCode(&quot;/img/NotLast0&quot; + i + &quot;.png&quot;, posX, posY));\r\nimages.put(&quot;L&quot; + i, getBlackAndWhiteBarCode(&quot;/img/Last0&quot; + i + &quot;.png&quot;, posX, posY));\r\n\r\npublic Image getBlackAndWhiteBarCode(String filename, float posX, float posY) throws IOException, DocumentException {\r\n\tImage im = Image.getInstance(this.getClass().getResource(filename));\r\n\tim.setOriginalType(Image.ORIGINAL_PNG);\r\n\tim.setAbsolutePosition(posX, posY);\r\n\tim.scalePercent(25);\r\n\treturn im;\r\n}\r\n\r\n...\r\n\r\nPdfContentByte under = stamp.getUnderContent(pageOfPDF);\r\nunder.addImage(images.get(feuilletCpt &lt; feuilletTot ? &quot;NL&quot; + seq : &quot;L&quot; + seq), true);\r\n```\r\n\r\nExample image : [enter image description here](https://i.stack.imgur.com/Giqjb.png)\r\nExample Pdf : a simple html converted to Pdf by https://html2pdf.com/\r\n\r\n\r\nIt works with every kind of Pdf files, generated, downloaded, but not when I convert an Html to Pdf or when a document is Scanned to Pdf.\r\n\r\nThank you for your help","title":"Cannot add image to scanned Pdf or Pdf converted from Html","body":"<p>Using iText (com.lowagie.itext.2.1.7), I have this code that adds a little image to a Pdf. I works with simple Pdf files, but not when I create the Pdf from Html or when the Pdf is a scanned document.</p>\n<pre><code>private final Map&lt;String, Image&gt; images = new HashMap&lt;String, Image&gt;();\n\nimages.put(&quot;NL&quot; + i, getBlackAndWhiteBarCode(&quot;/img/NotLast0&quot; + i + &quot;.png&quot;, posX, posY));\nimages.put(&quot;L&quot; + i, getBlackAndWhiteBarCode(&quot;/img/Last0&quot; + i + &quot;.png&quot;, posX, posY));\n\npublic Image getBlackAndWhiteBarCode(String filename, float posX, float posY) throws IOException, DocumentException {\n    Image im = Image.getInstance(this.getClass().getResource(filename));\n    im.setOriginalType(Image.ORIGINAL_PNG);\n    im.setAbsolutePosition(posX, posY);\n    im.scalePercent(25);\n    return im;\n}\n\n...\n\nPdfContentByte under = stamp.getUnderContent(pageOfPDF);\nunder.addImage(images.get(feuilletCpt &lt; feuilletTot ? &quot;NL&quot; + seq : &quot;L&quot; + seq), true);\n</code></pre>\n<p>Example image : <a href=\"https://i.stack.imgur.com/Giqjb.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nExample Pdf : a simple html converted to Pdf by <a href=\"https://html2pdf.com/\" rel=\"nofollow noreferrer\">https://html2pdf.com/</a></p>\n<p>It works with every kind of Pdf files, generated, downloaded, but not when I convert an Html to Pdf or when a document is Scanned to Pdf.</p>\n<p>Thank you for your help</p>\n"},{"tags":["java","rest-assured","builder","testng-dataprovider"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1678344963,"post_id":75677147,"comment_id":133514922,"body_markdown":"Your test method accepts `Dataprovider2` argument. On which step of your builder chain you suppose to return the object of `Dataprovider2` class?","body":"Your test method accepts <code>Dataprovider2</code> argument. On which step of your builder chain you suppose to return the object of <code>Dataprovider2</code> class?"}],"answers":[{"comments":[{"owner":{"account_id":27967990,"reputation":13,"user_id":21358395,"display_name":"Krato"},"score":0,"creation_date":1678396479,"post_id":75688560,"comment_id":133529454,"body_markdown":"It worked, thank you! I totally forgot I haven&#39;t built whole object.","body":"It worked, thank you! I totally forgot I haven&#39;t built whole object."}],"tags":[],"owner":{"account_id":3411393,"reputation":306,"user_id":2861219,"accept_rate":100,"display_name":"Harish"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678385736,"creation_date":1678385736,"answer_id":75688560,"question_id":75677147,"body_markdown":"Your data provider method dataproviderTest is returning an array of arrays, where each inner array contains a single object of type Dataprovider2TestData. But, the test method msgCenterCase expects a single argument of type Dataprovider2.\r\n\r\nYou need to change the data provider method to return an array of Dataprovider2 objects. Modify the data provider method as below :\r\n\r\n```\r\n@DataProvider(name = &quot;dataproviderTest&quot;)\r\npublic static Object[][] headerVersions() {\r\n    return new Object[][]{\r\n            {\r\n                    Dataprovider2.builder()\r\n                            .createHeader(&quot;String&quot;)\r\n                            .updateHeader(&quot;String&quot;)\r\n                            .createDP(\r\n                                    DataProviderObject.builder()\r\n                                            .field1(&quot;field&quot;)\r\n                                            .field2(&quot;field&quot;)\r\n                                            .field3(&quot;field&quot;)\r\n                                            .field4(&quot;field&quot;)\r\n                                            .build())\r\n                            .build()\r\n            }\r\n    };\r\n}\r\n```","title":"DataProvider in TestNG with Builder pattern returns Data provider mismatch (Rest Assured)","body":"<p>Your data provider method dataproviderTest is returning an array of arrays, where each inner array contains a single object of type Dataprovider2TestData. But, the test method msgCenterCase expects a single argument of type Dataprovider2.</p>\n<p>You need to change the data provider method to return an array of Dataprovider2 objects. Modify the data provider method as below :</p>\n<pre><code>@DataProvider(name = &quot;dataproviderTest&quot;)\npublic static Object[][] headerVersions() {\n    return new Object[][]{\n            {\n                    Dataprovider2.builder()\n                            .createHeader(&quot;String&quot;)\n                            .updateHeader(&quot;String&quot;)\n                            .createDP(\n                                    DataProviderObject.builder()\n                                            .field1(&quot;field&quot;)\n                                            .field2(&quot;field&quot;)\n                                            .field3(&quot;field&quot;)\n                                            .field4(&quot;field&quot;)\n                                            .build())\n                            .build()\n            }\n    };\n}\n</code></pre>\n"}],"owner":{"account_id":27967990,"reputation":13,"user_id":21358395,"display_name":"Krato"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75688560,"answer_count":1,"score":0,"last_activity_date":1678385736,"creation_date":1678301836,"question_id":75677147,"body_markdown":"I tried to implement builder pattern into my code and I&#39;m stuck with DataProvider. When I&#39;m tring launch test I get an error:\r\n\r\n```\r\norg.testng.internal.reflect.MethodMatcherException: \r\n[public void api.tests.DpTests.msgCenterCase(testdata.dataprovider.Dataprovider2)] has no parameters defined but was found to be using a data provider (either explicitly specified or inherited from class level annotation).\r\nData provider mismatch\r\nMethod: msgCenterCase([testdata.dataprovider.Dataprovider2 arg0])\r\nArguments: [(testdata.Dataprovider2TestData$Dataprovider2TestDataBuilder) Dataprovider2TestData.Dataprovider2TestDataBuilder(createHeader=String, updateHeader=String, createDP=DataProviderObject(field1=field, field2=field, field3=field, field4=field), updateDP=null)]\r\n\r\n\tat org.testng.internal.reflect.DataProviderMethodMatcher.getConformingArguments(DataProviderMethodMatcher.java:46)\r\n\tat org.testng.internal.Parameters.injectParameters(Parameters.java:909)\r\n\tat org.testng.internal.invokers.MethodRunner.runInSequence(MethodRunner.java:37)\r\n\tat org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:969)\r\n\tat org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:194)\r\n\tat org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:148)\r\n\tat org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.testng.TestRunner.privateRun(TestRunner.java:829)\r\n\tat org.testng.TestRunner.run(TestRunner.java:602)\r\n\tat org.testng.SuiteRunner.runTest(SuiteRunner.java:437)\r\n\tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:431)\r\n\tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:391)\r\n\tat org.testng.SuiteRunner.run(SuiteRunner.java:330)\r\n\tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n\tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\r\n\tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1256)\r\n\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1176)\r\n\tat org.testng.TestNG.runSuites(TestNG.java:1099)\r\n\tat org.testng.TestNG.run(TestNG.java:1067)\r\n\tat com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\r\n\tat com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:109)\r\n\r\n\r\nTest ignored.\r\n```\r\n\r\nI can&#39;t see what&#39;s the problem because in builder class I am building whole object and pass it to method as argument.\r\n\r\nTest class:\r\n\r\n```\r\npackage api.tests;\r\n\r\nimport client.ApiRequestModel;\r\nimport org.testng.annotations.Test;\r\nimport testdata.Dataprovider2TestData;\r\nimport testdata.dataprovider.Dataprovider2;\r\n\r\npublic class DpTests {\r\n    private Dataprovider2TestData createDP;\r\n\r\n\r\n    @Test(dataProvider = &quot;dataproviderTest&quot;, dataProviderClass = Dataprovider2.class)\r\n    public void msgCenterCase(Dataprovider2 dataprovider) {\r\n\r\n        ApiRequestModel DPRequest = ApiRequestModel.builder()\r\n                .endpoint(&quot;/DPEndpoint&quot;)\r\n                .body(createDP.getCreateDP())\r\n                .build();\r\n\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nDataProvider class\r\n\r\n```\r\npackage testdata.dataprovider;\r\n\r\nimport model.fulfillment.DataProviderObject;\r\nimport org.testng.annotations.DataProvider;\r\nimport testdata.Dataprovider2TestData;\r\n\r\npublic class Dataprovider2 {\r\n\r\n    @DataProvider(name = &quot;dataproviderTest&quot;)\r\n    public static Object[][] headerVersions() {\r\n        return new Object[][]{\r\n                {\r\n                        Dataprovider2TestData.builder()\r\n                                .createHeader(&quot;String&quot;)\r\n                                .updateHeader(&quot;String&quot;)\r\n                                .createDP(\r\n                                DataProviderObject.builder()\r\n                                        .field1(&quot;field&quot;)\r\n                                        .field2(&quot;field&quot;)\r\n                                        .field3(&quot;field&quot;)\r\n                                        .field4(&quot;field&quot;)\r\n                                        .build())\r\n\r\n                }\r\n        };\r\n    }\r\n};\r\n```\r\n\r\nData provider Test Data class\r\n\r\n```\r\npackage testdata;\r\n\r\n\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\nimport model.fulfillment.DataProviderObject;\r\n\r\n@Data\r\n@Builder\r\npublic class Dataprovider2TestData {\r\n\r\n    private String createHeader;\r\n    private String updateHeader;\r\n    private DataProviderObject createDP;\r\n    private DataProviderObject updateDP;\r\n\r\n}\r\n```\r\n\r\nData Provider object class\r\n\r\n```\r\npackage model.dp\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\n\r\n@Data\r\n@Builder\r\npublic class DataProviderObject {\r\n        private String field1;\r\n        private String field2;\r\n        private String field3;\r\n        private String field4;\r\n\r\n    }\r\n\r\n```\r\n\r\n\r\n\r\n\r\nI was trying make data provider as non-static and some combination with data. Everything works fine when I use simple Strings in DataProvider but with object it doesn&#39;t.","title":"DataProvider in TestNG with Builder pattern returns Data provider mismatch (Rest Assured)","body":"<p>I tried to implement builder pattern into my code and I'm stuck with DataProvider. When I'm tring launch test I get an error:</p>\n<pre><code>org.testng.internal.reflect.MethodMatcherException: \n[public void api.tests.DpTests.msgCenterCase(testdata.dataprovider.Dataprovider2)] has no parameters defined but was found to be using a data provider (either explicitly specified or inherited from class level annotation).\nData provider mismatch\nMethod: msgCenterCase([testdata.dataprovider.Dataprovider2 arg0])\nArguments: [(testdata.Dataprovider2TestData$Dataprovider2TestDataBuilder) Dataprovider2TestData.Dataprovider2TestDataBuilder(createHeader=String, updateHeader=String, createDP=DataProviderObject(field1=field, field2=field, field3=field, field4=field), updateDP=null)]\n\n    at org.testng.internal.reflect.DataProviderMethodMatcher.getConformingArguments(DataProviderMethodMatcher.java:46)\n    at org.testng.internal.Parameters.injectParameters(Parameters.java:909)\n    at org.testng.internal.invokers.MethodRunner.runInSequence(MethodRunner.java:37)\n    at org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:969)\n    at org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:194)\n    at org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:148)\n    at org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.testng.TestRunner.privateRun(TestRunner.java:829)\n    at org.testng.TestRunner.run(TestRunner.java:602)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:437)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:431)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:391)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:330)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1256)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1176)\n    at org.testng.TestNG.runSuites(TestNG.java:1099)\n    at org.testng.TestNG.run(TestNG.java:1067)\n    at com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\n    at com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:109)\n\n\nTest ignored.\n</code></pre>\n<p>I can't see what's the problem because in builder class I am building whole object and pass it to method as argument.</p>\n<p>Test class:</p>\n<pre><code>package api.tests;\n\nimport client.ApiRequestModel;\nimport org.testng.annotations.Test;\nimport testdata.Dataprovider2TestData;\nimport testdata.dataprovider.Dataprovider2;\n\npublic class DpTests {\n    private Dataprovider2TestData createDP;\n\n\n    @Test(dataProvider = &quot;dataproviderTest&quot;, dataProviderClass = Dataprovider2.class)\n    public void msgCenterCase(Dataprovider2 dataprovider) {\n\n        ApiRequestModel DPRequest = ApiRequestModel.builder()\n                .endpoint(&quot;/DPEndpoint&quot;)\n                .body(createDP.getCreateDP())\n                .build();\n\n\n    }\n\n}\n</code></pre>\n<p>DataProvider class</p>\n<pre><code>package testdata.dataprovider;\n\nimport model.fulfillment.DataProviderObject;\nimport org.testng.annotations.DataProvider;\nimport testdata.Dataprovider2TestData;\n\npublic class Dataprovider2 {\n\n    @DataProvider(name = &quot;dataproviderTest&quot;)\n    public static Object[][] headerVersions() {\n        return new Object[][]{\n                {\n                        Dataprovider2TestData.builder()\n                                .createHeader(&quot;String&quot;)\n                                .updateHeader(&quot;String&quot;)\n                                .createDP(\n                                DataProviderObject.builder()\n                                        .field1(&quot;field&quot;)\n                                        .field2(&quot;field&quot;)\n                                        .field3(&quot;field&quot;)\n                                        .field4(&quot;field&quot;)\n                                        .build())\n\n                }\n        };\n    }\n};\n</code></pre>\n<p>Data provider Test Data class</p>\n<pre><code>package testdata;\n\n\nimport lombok.Builder;\nimport lombok.Data;\nimport model.fulfillment.DataProviderObject;\n\n@Data\n@Builder\npublic class Dataprovider2TestData {\n\n    private String createHeader;\n    private String updateHeader;\n    private DataProviderObject createDP;\n    private DataProviderObject updateDP;\n\n}\n</code></pre>\n<p>Data Provider object class</p>\n<pre><code>package model.dp\nimport lombok.Builder;\nimport lombok.Data;\n\n@Data\n@Builder\npublic class DataProviderObject {\n        private String field1;\n        private String field2;\n        private String field3;\n        private String field4;\n\n    }\n\n</code></pre>\n<p>I was trying make data provider as non-static and some combination with data. Everything works fine when I use simple Strings in DataProvider but with object it doesn't.</p>\n"},{"tags":["java","project-reactor"],"answers":[{"comments":[{"owner":{"account_id":98341,"reputation":6023,"user_id":266261,"accept_rate":63,"display_name":"chama"},"score":0,"creation_date":1678385343,"post_id":75663883,"comment_id":133526807,"body_markdown":"I don&#39;t understand how this works. When I use the then method, it ends up skipping the rest of the code. I&#39;ll update the question with more details","body":"I don&#39;t understand how this works. When I use the then method, it ends up skipping the rest of the code. I&#39;ll update the question with more details"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":1,"creation_date":1678387710,"post_id":75663883,"comment_id":133527378,"body_markdown":"I didn&#39;t suggest to use a `then()` exactly which is essentially a `Mono&lt;Void&gt;` without any possible action afterward since there is just no data in the `Mono&lt;Void&gt;`. I suggested to use a `then(Mono&lt;V&gt; other)` where you can create a new `Mono` to return based on some data you have so far.","body":"I didn&#39;t suggest to use a <code>then()</code> exactly which is essentially a <code>Mono&lt;Void&gt;</code> without any possible action afterward since there is just no data in the <code>Mono&lt;Void&gt;</code>. I suggested to use a <code>then(Mono&lt;V&gt; other)</code> where you can create a new <code>Mono</code> to return based on some data you have so far."},{"owner":{"account_id":98341,"reputation":6023,"user_id":266261,"accept_rate":63,"display_name":"chama"},"score":0,"creation_date":1678397809,"post_id":75663883,"comment_id":133529719,"body_markdown":"Oh, I couldn&#39;t figure out how to use that. I got it working with the other answer, though. Thank you for your help!","body":"Oh, I couldn&#39;t figure out how to use that. I got it working with the other answer, though. Thank you for your help!"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1678399849,"post_id":75663883,"comment_id":133530169,"body_markdown":"Sure! But you didn&#39;t say in your question that you really need the whole data from that `Flux`. Sorry, if I misunderstood you from the beginning.","body":"Sure! But you didn&#39;t say in your question that you really need the whole data from that <code>Flux</code>. Sorry, if I misunderstood you from the beginning."}],"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678202597,"creation_date":1678202597,"answer_id":75663883,"question_id":75656675,"body_markdown":"Sounds like you need `then(Mono&lt;V&gt; other)` operator of the `Flux`: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#then-reactor.core.publisher.Mono-\r\n\r\n\t/**\r\n\t * Let this {@link Flux} complete then play signals from a provided {@link Mono}.\r\n\t * &lt;p&gt;\r\n\t * In other words ignore element from this {@link Flux} and transform its completion signal into the\r\n\t * emission and completion signal of a provided {@code Mono&lt;V&gt;}. Error signal is\r\n\t * replayed in the resulting {@code Mono&lt;V&gt;}.\r\n\t *\r\n\t * &lt;p&gt;\r\n\t * &lt;img class=&quot;marble&quot; src=&quot;doc-files/marbles/thenWithMonoForFlux.svg&quot; alt=&quot;&quot;&gt;\r\n\t *\r\n\t * &lt;p&gt;&lt;strong&gt;Discard Support:&lt;/strong&gt; This operator discards elements from the source.\r\n\t *\r\n\t * @param other a {@link Mono} to emit from after termination\r\n\t * @param &lt;V&gt; the element type of the supplied Mono\r\n\t *\r\n\t * @return a new {@link Flux} that wait for source completion then emits from the supplied {@link Mono}\r\n\t */\r\n\tpublic final &lt;V&gt; Mono&lt;V&gt; then(Mono&lt;V&gt; other) {","title":"Connecting a Flux to a Mono","body":"<p>Sounds like you need <code>then(Mono&lt;V&gt; other)</code> operator of the <code>Flux</code>: <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#then-reactor.core.publisher.Mono-\" rel=\"nofollow noreferrer\">https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#then-reactor.core.publisher.Mono-</a></p>\n<pre><code>/**\n * Let this {@link Flux} complete then play signals from a provided {@link Mono}.\n * &lt;p&gt;\n * In other words ignore element from this {@link Flux} and transform its completion signal into the\n * emission and completion signal of a provided {@code Mono&lt;V&gt;}. Error signal is\n * replayed in the resulting {@code Mono&lt;V&gt;}.\n *\n * &lt;p&gt;\n * &lt;img class=&quot;marble&quot; src=&quot;doc-files/marbles/thenWithMonoForFlux.svg&quot; alt=&quot;&quot;&gt;\n *\n * &lt;p&gt;&lt;strong&gt;Discard Support:&lt;/strong&gt; This operator discards elements from the source.\n *\n * @param other a {@link Mono} to emit from after termination\n * @param &lt;V&gt; the element type of the supplied Mono\n *\n * @return a new {@link Flux} that wait for source completion then emits from the supplied {@link Mono}\n */\npublic final &lt;V&gt; Mono&lt;V&gt; then(Mono&lt;V&gt; other) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27965824,"reputation":83,"user_id":21356702,"display_name":"Juan Sebastian Forero Noguera"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678290534,"creation_date":1678290534,"answer_id":75675228,"question_id":75656675,"body_markdown":"If you want a list of all the elements that your flux had, you can use collect \r\nhttps://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#collect-java.util.stream.Collector-\r\n\r\nexample: \r\n\r\n    .collect(Collectors.toList())\r\n   \r\n\r\nAnd after that you can use a map or flatmap or any Mono operator.","title":"Connecting a Flux to a Mono","body":"<p>If you want a list of all the elements that your flux had, you can use collect\n<a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#collect-java.util.stream.Collector-\" rel=\"nofollow noreferrer\">https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#collect-java.util.stream.Collector-</a></p>\n<p>example:</p>\n<pre><code>.collect(Collectors.toList())\n</code></pre>\n<p>And after that you can use a map or flatmap or any Mono operator.</p>\n"}],"owner":{"account_id":98341,"reputation":6023,"user_id":266261,"accept_rate":63,"display_name":"chama"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75675228,"answer_count":2,"score":0,"last_activity_date":1678385616,"creation_date":1678144450,"question_id":75656675,"body_markdown":"I have a ``Flux&lt;T&gt;`` that returns multiple ``T``s. I need to wait until all the items are emitted from my Flux before continuing on to the Mono. When I was doing similarly with just Monos, I was able to zip them together (using ``zipWhen()``) to achieve this effect. For now I&#39;m setting up and doing the second set of actions in the Flux&#39;s ``doOnComplete()``, but it doesn&#39;t seem like the best solution.\r\n\r\nNote that I&#39;m fairly new to Flux and Mono\r\n```\r\n    getFlux()\r\n        .doOnComplete(\r\n            () -&gt; {\r\n              // 1a. Retrieve ids from results of the flux\r\n              @NotNull List&lt;String&gt; ids = extractIds(dto.objects); // objects is populated by the Flux\r\n              Mono&lt;?&gt; myOtherMono =\r\n                    getMono1(ids)\r\n                      .zipWhen(\r\n                          // create second mono\r\n                          });\r\n              \r\n              Flux&lt;List&lt;?&gt;&gt; otherFlux =\r\n                  getOtherFlux(ids);\r\n              myOtherMono .and(otherFlux).block();\r\n            })\r\n        .blockLast();\r\n```\r\n\r\nEdited to add more detail:\r\nOne of the answers suggested using the ``then`` method to essentially turn it into a Mono. I did so, but now it seems to be ignoring the code in the ``zipWhen``. See below:\r\n\r\n```\r\n    getFlux()\r\n        .then()\r\n        .zipWhen( // should continue here when the other mono completes, but it&#39;s never getting in here\r\n            (x) -&gt; {\r\n              // 1a. Retrieve ids from results of the flux\r\n              @NotNull List&lt;String&gt; ids = extractIds(dto.objects); // objects is populated by the Flux\r\n              Mono&lt;?&gt; myOtherMono =\r\n                    getMono1(ids)\r\n                      .zipWhen(\r\n                          // create second mono\r\n                          });\r\n              \r\n              Flux&lt;List&lt;?&gt;&gt; otherFlux =\r\n                  getOtherFlux(ids);\r\n              Mono&lt;?&gt; otherFluxAsMono = otherFlux.then()\r\n              return myOtherMono.zipWith(otherFluxAsMono);\r\n            })\r\n        .block();\r\n```","title":"Connecting a Flux to a Mono","body":"<p>I have a <code>Flux&lt;T&gt;</code> that returns multiple <code>T</code>s. I need to wait until all the items are emitted from my Flux before continuing on to the Mono. When I was doing similarly with just Monos, I was able to zip them together (using <code>zipWhen()</code>) to achieve this effect. For now I'm setting up and doing the second set of actions in the Flux's <code>doOnComplete()</code>, but it doesn't seem like the best solution.</p>\n<p>Note that I'm fairly new to Flux and Mono</p>\n<pre><code>    getFlux()\n        .doOnComplete(\n            () -&gt; {\n              // 1a. Retrieve ids from results of the flux\n              @NotNull List&lt;String&gt; ids = extractIds(dto.objects); // objects is populated by the Flux\n              Mono&lt;?&gt; myOtherMono =\n                    getMono1(ids)\n                      .zipWhen(\n                          // create second mono\n                          });\n              \n              Flux&lt;List&lt;?&gt;&gt; otherFlux =\n                  getOtherFlux(ids);\n              myOtherMono .and(otherFlux).block();\n            })\n        .blockLast();\n</code></pre>\n<p>Edited to add more detail:\nOne of the answers suggested using the <code>then</code> method to essentially turn it into a Mono. I did so, but now it seems to be ignoring the code in the <code>zipWhen</code>. See below:</p>\n<pre><code>    getFlux()\n        .then()\n        .zipWhen( // should continue here when the other mono completes, but it's never getting in here\n            (x) -&gt; {\n              // 1a. Retrieve ids from results of the flux\n              @NotNull List&lt;String&gt; ids = extractIds(dto.objects); // objects is populated by the Flux\n              Mono&lt;?&gt; myOtherMono =\n                    getMono1(ids)\n                      .zipWhen(\n                          // create second mono\n                          });\n              \n              Flux&lt;List&lt;?&gt;&gt; otherFlux =\n                  getOtherFlux(ids);\n              Mono&lt;?&gt; otherFluxAsMono = otherFlux.then()\n              return myOtherMono.zipWith(otherFluxAsMono);\n            })\n        .block();\n</code></pre>\n"},{"tags":["java","dll"],"comments":[{"owner":{"account_id":10896085,"reputation":144,"user_id":8010021,"display_name":"AbhiAbzs"},"score":0,"creation_date":1690271153,"post_id":75687869,"comment_id":135326092,"body_markdown":"were you able to find a work around for installing your specific product on win 11?\n\nPlease let me know if you were able to resolve the issue","body":"were you able to find a work around for installing your specific product on win 11?  Please let me know if you were able to resolve the issue"}],"owner":{"account_id":27976579,"reputation":1,"user_id":21365245,"display_name":"AugustoCHR"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":769,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678385480,"creation_date":1678381780,"question_id":75687869,"body_markdown":"I&#39;m trying to install a specific product, however before the installation launcher start the configuration. a pop up shows an error with a DLL. This occurs on Windows 11.\r\n\r\nThe error shows as follows:\r\n\r\n```none\r\nFlexeraaxd$aaa: Windows DLL failed to load at Flexeraaxd.af(Unknown Source) \r\n    at Flexeraaxd.aa(Unknown Source) \r\n    at com.zerog.ia.installer.LifeCycleManager.init(Unknown Source) \r\n    at com.zerog.ia.installer.LifeCycleManager.executeApplication(Unknown Source) at com.zerog.ia.installer.Main.main(Unknown Source) \r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) \r\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) \r\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) \r\n    at com.zerog.lax.LAX.launch(Unknown Source) \r\n    at com.zerog.lax.LAX.main(Unknown Source)\r\n```\r\n\r\nI have already JRE 1.8.0 installed, jdk-11.0.11. I have tried set the variable JAVA_TOOL_OPTIONS=&quot;-Dos.name=Windows 7&quot;, but it did not work.\r\nI have tried to run the installer on compatibility mode (W8 / W7) without success.","title":"Trouble with Windows 11 DLL during launching a installer","body":"<p>I'm trying to install a specific product, however before the installation launcher start the configuration. a pop up shows an error with a DLL. This occurs on Windows 11.</p>\n<p>The error shows as follows:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Flexeraaxd$aaa: Windows DLL failed to load at Flexeraaxd.af(Unknown Source) \n    at Flexeraaxd.aa(Unknown Source) \n    at com.zerog.ia.installer.LifeCycleManager.init(Unknown Source) \n    at com.zerog.ia.installer.LifeCycleManager.executeApplication(Unknown Source) at com.zerog.ia.installer.Main.main(Unknown Source) \n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) \n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) \n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) \n    at com.zerog.lax.LAX.launch(Unknown Source) \n    at com.zerog.lax.LAX.main(Unknown Source)\n</code></pre>\n<p>I have already JRE 1.8.0 installed, jdk-11.0.11. I have tried set the variable JAVA_TOOL_OPTIONS=&quot;-Dos.name=Windows 7&quot;, but it did not work.\nI have tried to run the installer on compatibility mode (W8 / W7) without success.</p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1678385030,"post_id":75688418,"comment_id":133526729,"body_markdown":"If there is already a value (in this case a list) for that key in the map, it is returned, and you add an element to it.","body":"If there is already a value (in this case a list) for that key in the map, it is returned, and you add an element to it."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1678385087,"post_id":75688418,"comment_id":133526746,"body_markdown":"The value corresponding to &quot;key1&quot; is an ArrayList.  Adding to that ArrayList doesn’t change the Map in any way:  &quot;key1&quot; still points to the same ArrayList object.","body":"The value corresponding to &quot;key1&quot; is an ArrayList.  Adding to that ArrayList doesn’t change the Map in any way:  &quot;key1&quot; still points to the same ArrayList object."},{"owner":{"account_id":15165827,"reputation":3,"user_id":10943358,"display_name":"Travis Zhang"},"score":0,"creation_date":1678386611,"post_id":75688418,"comment_id":133527120,"body_markdown":"Ah I was not very careful, misread the parathesis and thought .add is part of the mapping function :(.  It is clear to me now.","body":"Ah I was not very careful, misread the parathesis and thought .add is part of the mapping function :(.  It is clear to me now."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1678387050,"post_id":75688418,"comment_id":133527229,"body_markdown":"@khlewood *If there is already a value (in this case a list) for that key in the map, it is returned..*  Which includes the value just added.  So it `always` returns a value.","body":"@khlewood <i>If there is already a value (in this case a list) for that key in the map, it is returned..</i>  Which includes the value just added.  So it <code>always</code> returns a value."}],"owner":{"account_id":15165827,"reputation":3,"user_id":10943358,"display_name":"Travis Zhang"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678385176,"creation_date":1678384882,"question_id":75688418,"body_markdown":"From this [guide][1], \r\ncomputeIfAbsent is used to create and update the value list, but how is it achieved? \r\n\r\n\r\nHere for \r\n\r\n    map.computeIfAbsent(&quot;key1&quot;, k -&gt; new ArrayList&lt;&gt;()).add(&quot;value2&quot;);\r\n\r\nI was expecting no updates since key1 exist, however it ends up adding &quot;value2&quot; to the value list\r\n\r\n```\r\nMap&lt;String, List&lt;String&gt;&gt; map = new HashMap&lt;&gt;();\r\nmap.computeIfAbsent(&quot;key1&quot;, k -&gt; new ArrayList&lt;&gt;()).add(&quot;value1&quot;);\r\nmap.computeIfAbsent(&quot;key1&quot;, k -&gt; new ArrayList&lt;&gt;()).add(&quot;value2&quot;);\r\n\r\nassertThat(map.get(&quot;key1&quot;).get(0)).isEqualTo(&quot;value1&quot;);\r\nassertThat(map.get(&quot;key1&quot;).get(1)).isEqualTo(&quot;value2&quot;);\r\n\r\n```\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-map-duplicate-keys","title":"Puzzling about how computeIfAbsent works to update duplicate key-&gt;list value pair","body":"<p>From this <a href=\"https://www.baeldung.com/java-map-duplicate-keys\" rel=\"nofollow noreferrer\">guide</a>,\ncomputeIfAbsent is used to create and update the value list, but how is it achieved?</p>\n<p>Here for</p>\n<pre><code>map.computeIfAbsent(&quot;key1&quot;, k -&gt; new ArrayList&lt;&gt;()).add(&quot;value2&quot;);\n</code></pre>\n<p>I was expecting no updates since key1 exist, however it ends up adding &quot;value2&quot; to the value list</p>\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; map = new HashMap&lt;&gt;();\nmap.computeIfAbsent(&quot;key1&quot;, k -&gt; new ArrayList&lt;&gt;()).add(&quot;value1&quot;);\nmap.computeIfAbsent(&quot;key1&quot;, k -&gt; new ArrayList&lt;&gt;()).add(&quot;value2&quot;);\n\nassertThat(map.get(&quot;key1&quot;).get(0)).isEqualTo(&quot;value1&quot;);\nassertThat(map.get(&quot;key1&quot;).get(1)).isEqualTo(&quot;value2&quot;);\n\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1678383141,"post_id":75688092,"comment_id":133526167,"body_markdown":"Please provide a complete exeample that demonstrates your problem. The code you posted contains references to a lot of methods you didn&#39;t include and are therefor unknown to us and I don&#39;t even see any code that fills or prints any Array. So the code really doesn&#39;t do much to illustrate and clarify what problem it is you are exaclty having.","body":"Please provide a complete exeample that demonstrates your problem. The code you posted contains references to a lot of methods you didn&#39;t include and are therefor unknown to us and I don&#39;t even see any code that fills or prints any Array. So the code really doesn&#39;t do much to illustrate and clarify what problem it is you are exaclty having."},{"owner":{"account_id":5508017,"reputation":5986,"user_id":4375327,"accept_rate":76,"display_name":"Amessihel"},"score":2,"creation_date":1678383148,"post_id":75688092,"comment_id":133526171,"body_markdown":"Hello, please provice a [mcve].","body":"Hello, please provice a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1678383290,"post_id":75688092,"comment_id":133526211,"body_markdown":"Please see the [How to Ask](https://stackoverflow.com/help/how-to-ask) page--it&#39;s not at all clear how anybody could help with the information provided.","body":"Please see the <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask</a> page--it&#39;s not at all clear how anybody could help with the information provided."},{"owner":{"account_id":24563647,"reputation":15,"user_id":18471056,"display_name":"hinrich."},"score":2,"creation_date":1678383412,"post_id":75688092,"comment_id":133526242,"body_markdown":"Please excuse me, I am revising my question. Thanks for the suggestions on this.","body":"Please excuse me, I am revising my question. Thanks for the suggestions on this."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1678386545,"post_id":75688092,"comment_id":133527103,"body_markdown":"It&#39;s still not at all clear what&#39;s going on. One thing to be cautious of is what you get with an array `clone`, though; it is a shallow copy.","body":"It&#39;s still not at all clear what&#39;s going on. One thing to be cautious of is what you get with an array <code>clone</code>, though; it is a shallow copy."},{"owner":{"account_id":24563647,"reputation":15,"user_id":18471056,"display_name":"hinrich."},"score":0,"creation_date":1678390673,"post_id":75688092,"comment_id":133528102,"body_markdown":"There was a connection between the local array bestRation and the class array ration. A change of the class array resulted in the change of the local array. I have solved it now by recreating the class array each pass.","body":"There was a connection between the local array bestRation and the class array ration. A change of the class array resulted in the change of the local array. I have solved it now by recreating the class array each pass."}],"owner":{"account_id":24563647,"reputation":15,"user_id":18471056,"display_name":"hinrich."},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678384721,"creation_date":1678382950,"question_id":75688092,"body_markdown":"I have written a method that creates an array by trial and error, then evaluates it to finally output the &quot;best&quot; array. When I read the array contents from the copied array at the if (rating &lt; bestRating) query via System.out.println(), I get the increasingly &quot;better&quot; arrays. But when I then read out the arrays after the while loop, the second dimension is empty. Why does the array content change away from the query?\r\n\r\nThis are the arrays:\r\n```\r\nprivate double[][] ration //ration[0].length is always 2\r\n\r\n```\r\n\r\n\r\nThis is how the method starts:\r\n```\r\n\tprivate void suggestRation() {\r\n\t\t// time counter\r\n\t\tStopwatch suggestionWatch = new Stopwatch();\r\n\t\tsuggestionWatch.startO();\r\n\r\n\t\t// get rating reference\r\n\t\tint mode = loadUserRation();\r\n\t\tdouble[][] bestRation = ration.clone();\r\n\t\tdouble bestRating = submit();\r\n\r\n\t\t// max component items\r\n\t\tint max = MainClass.getRation().getComponentList().getSize();\r\n\t\tint lines = MainClass.getRation().getRationGrid().length(true);\r\n\t\tif (max &gt; lines) {\r\n\t\t\tmax = lines;\r\n\t\t}\r\n\r\n\t\tint loops = 0;\r\n\t\tlong lapseEnd = System.nanoTime() + (long) (duration * 1.0E9);\r\n\t\tlong lapseMin = System.nanoTime() + (long) (duration * 1.0E8);\r\n```\r\n\r\nHere the method works different than expected: \r\n```\r\n\t\twhile (System.nanoTime() &lt; lapseEnd) {\r\n\r\n\t\t\tswitch (mode) {\r\n\t\t\tcase NEW:\r\n\t\t\t\tint components = (new Random()).nextInt(max);\r\n\t\t\t\tgenerateNewRation(components);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase REFINE:\r\n\t\t\t\tgenerateNewAmounts();\r\n\t\t\t\tbreak;\r\n\t\t\tcase EXTEND:\r\n\t\t\t\texpandRation();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tdouble rating = submit();\r\n\r\n\t\t\tif (rating &lt; bestRating) {\r\n\t\t\t\tbestRation = ration.clone();\r\n\t\t\t\tbestRating = rating;\r\n\t\t\t\t\r\n\t\t\t\t//Array is transferred correctly. \r\n\t\t\t\tfor (int i = 0; i &lt; bestRation.length; i++) {\r\n\t\t\t\t\tSystem.out.println(bestRation[i][0] + &quot; &quot; +bestRation[i][1]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tloops++;\r\n\r\n\t\t\tif (bestRating &lt; 5 &amp;&amp; System.nanoTime() &gt; lapseMin) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t//Second column is 0 - independent of the last output of the above if-query\r\n\t\tfor (int i = 0; i &lt; bestRation.length; i++) {\r\n\t\t\tSystem.out.println(bestRation[i][0] + &quot; &quot; + bestRation[i][1]);\r\n\t\t}\r\n\r\n\t\tration = bestRation.clone();\r\n```\r\nMy testing - array.length() == 1.\r\nFirst for-query: (Every line is an array.\r\n```\r\n0.0 37.0\r\n0.0 51.0\r\n0.0 50.0\r\n0.0 44.0\r\n0.0 45.0\r\n```\r\n\r\nSecond for-query:\r\n```\r\n0.0 0.0\r\n```\r\n\r\nHere should have been:\r\n```\r\n0.0 45.0\r\n```\r\n\r\nIn this case the switch-case fires:\r\n```\r\n\tprivate void generateNewAmounts() {\r\n\r\n\t\tdouble max_amount = Constants.FM_MAX;\r\n\r\n\t\tfor (int i = 0; i &lt; ration.length; i++) {\r\n\t\t\tif (ration[i][0] != -1) {\r\n\t\t\t\tration[i][1] = (new Random().nextInt((int) (max_amount - 1)) + 1);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n```","title":"Undexplained Array changes","body":"<p>I have written a method that creates an array by trial and error, then evaluates it to finally output the &quot;best&quot; array. When I read the array contents from the copied array at the if (rating &lt; bestRating) query via System.out.println(), I get the increasingly &quot;better&quot; arrays. But when I then read out the arrays after the while loop, the second dimension is empty. Why does the array content change away from the query?</p>\n<p>This are the arrays:</p>\n<pre><code>private double[][] ration //ration[0].length is always 2\n\n</code></pre>\n<p>This is how the method starts:</p>\n<pre><code>    private void suggestRation() {\n        // time counter\n        Stopwatch suggestionWatch = new Stopwatch();\n        suggestionWatch.startO();\n\n        // get rating reference\n        int mode = loadUserRation();\n        double[][] bestRation = ration.clone();\n        double bestRating = submit();\n\n        // max component items\n        int max = MainClass.getRation().getComponentList().getSize();\n        int lines = MainClass.getRation().getRationGrid().length(true);\n        if (max &gt; lines) {\n            max = lines;\n        }\n\n        int loops = 0;\n        long lapseEnd = System.nanoTime() + (long) (duration * 1.0E9);\n        long lapseMin = System.nanoTime() + (long) (duration * 1.0E8);\n</code></pre>\n<p>Here the method works different than expected:</p>\n<pre><code>        while (System.nanoTime() &lt; lapseEnd) {\n\n            switch (mode) {\n            case NEW:\n                int components = (new Random()).nextInt(max);\n                generateNewRation(components);\n                break;\n\n            case REFINE:\n                generateNewAmounts();\n                break;\n            case EXTEND:\n                expandRation();\n                break;\n            }\n\n            double rating = submit();\n\n            if (rating &lt; bestRating) {\n                bestRation = ration.clone();\n                bestRating = rating;\n                \n                //Array is transferred correctly. \n                for (int i = 0; i &lt; bestRation.length; i++) {\n                    System.out.println(bestRation[i][0] + &quot; &quot; +bestRation[i][1]);\n                }\n            }\n            loops++;\n\n            if (bestRating &lt; 5 &amp;&amp; System.nanoTime() &gt; lapseMin) {\n                break;\n            }\n        }\n        \n        //Second column is 0 - independent of the last output of the above if-query\n        for (int i = 0; i &lt; bestRation.length; i++) {\n            System.out.println(bestRation[i][0] + &quot; &quot; + bestRation[i][1]);\n        }\n\n        ration = bestRation.clone();\n</code></pre>\n<p>My testing - array.length() == 1.\nFirst for-query: (Every line is an array.</p>\n<pre><code>0.0 37.0\n0.0 51.0\n0.0 50.0\n0.0 44.0\n0.0 45.0\n</code></pre>\n<p>Second for-query:</p>\n<pre><code>0.0 0.0\n</code></pre>\n<p>Here should have been:</p>\n<pre><code>0.0 45.0\n</code></pre>\n<p>In this case the switch-case fires:</p>\n<pre><code>    private void generateNewAmounts() {\n\n        double max_amount = Constants.FM_MAX;\n\n        for (int i = 0; i &lt; ration.length; i++) {\n            if (ration[i][0] != -1) {\n                ration[i][1] = (new Random().nextInt((int) (max_amount - 1)) + 1);\n            }\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot","apache-camel"],"owner":{"account_id":14709412,"reputation":53,"user_id":10623162,"display_name":"fra96"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678384703,"creation_date":1678380626,"question_id":75687656,"body_markdown":"Does the Camel MongoDB connector support collection timeseries?\r\n\r\nI am trying to insert a Java object formed by fields:\r\n```\r\npublic class Telemetry {\r\n    private Instant timestamp;\r\n    private Float value;\r\n    ...\r\n```\r\ninto the MongoDB connector:\r\n```\r\nfrom(SEDA_MEASURE_STORE_QUEUE)\r\n    .doTry()\r\n        .to(&quot;mongodb:myDb?database=db&amp;collection=telemetry&amp;operation=insert&quot;)\r\n```\r\n\r\nBut I keep getting the following error:\r\n***Exception MongoDB operation = insert, Body is not conversible to type Document nor List&lt;Document&gt;***\r\n\r\nI tried inserting this flag before submission:\r\n```\r\nfrom(SEDA_MEASURE_STORE_QUEUE)\r\n    .doTry()\r\n        .convertBodyTo(DBObject.class)\r\n        .to(&quot;mongodb:myDb?database=db&amp;collection=telemetry&amp;operation=insert&quot;)\r\n```\r\nBut I get a new error: ***java.lang.IllegalArgumentException: Java 8 date/time type `java.time.Instant` not supported by default: add Module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to enable handling***\r\n\r\nI have tried other types of timestamp data but the error does not change.\r\nIf I use a normal collection (not timeseries) the save works normally.\r\n","title":"Camel MongoDB integration with collection Timeseries","body":"<p>Does the Camel MongoDB connector support collection timeseries?</p>\n<p>I am trying to insert a Java object formed by fields:</p>\n<pre><code>public class Telemetry {\n    private Instant timestamp;\n    private Float value;\n    ...\n</code></pre>\n<p>into the MongoDB connector:</p>\n<pre><code>from(SEDA_MEASURE_STORE_QUEUE)\n    .doTry()\n        .to(&quot;mongodb:myDb?database=db&amp;collection=telemetry&amp;operation=insert&quot;)\n</code></pre>\n<p>But I keep getting the following error:\n<em><strong>Exception MongoDB operation = insert, Body is not conversible to type Document nor List</strong></em></p>\n<p>I tried inserting this flag before submission:</p>\n<pre><code>from(SEDA_MEASURE_STORE_QUEUE)\n    .doTry()\n        .convertBodyTo(DBObject.class)\n        .to(&quot;mongodb:myDb?database=db&amp;collection=telemetry&amp;operation=insert&quot;)\n</code></pre>\n<p>But I get a new error: <em><strong>java.lang.IllegalArgumentException: Java 8 date/time type <code>java.time.Instant</code> not supported by default: add Module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to enable handling</strong></em></p>\n<p>I have tried other types of timestamp data but the error does not change.\nIf I use a normal collection (not timeseries) the save works normally.</p>\n"},{"tags":["java","htmlunit"],"answers":[{"comments":[{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1678384859,"post_id":75620762,"comment_id":133526684,"body_markdown":"This does not quite answer the implied *How do I assign to an `HtmlDivision` what&#39;s in a raw HTML &quot;div string&quot;?*","body":"This does not quite answer the implied <i>How do I assign to an <code>HtmlDivision</code> what&#39;s in a raw HTML &quot;div string&quot;?</i>"}],"tags":[],"owner":{"account_id":4546904,"reputation":152,"user_id":3693223,"display_name":"Lucho82"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677790774,"creation_date":1677790774,"answer_id":75620762,"question_id":75619165,"body_markdown":"I swap to [jsoup][1] because have a good parser for raw strings.\r\n\r\n  [1]: https://jsoup.org/","title":"Parse raw string HTML to HtmlDivision instance (HtmlUnit)","body":"<p>I swap to <a href=\"https://jsoup.org/\" rel=\"nofollow noreferrer\">jsoup</a> because have a good parser for raw strings.</p>\n"},{"comments":[{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1678384950,"post_id":75624512,"comment_id":133526703,"body_markdown":"Remember *please add context around the link so your fellow users will have some idea what it is and why it’s there. Always quote the most relevant part of an important link*?","body":"Remember <i>please add context around the link so your fellow users will have some idea what it is and why it’s there. Always quote the most relevant part of an important link</i>?"}],"tags":[],"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677830332,"creation_date":1677830332,"answer_id":75624512,"question_id":75619165,"body_markdown":"There is a sample in the FAQ - see https://htmlunit.sourceforge.io/faq.html#HowToParseHtmlString","title":"Parse raw string HTML to HtmlDivision instance (HtmlUnit)","body":"<p>There is a sample in the FAQ - see <a href=\"https://htmlunit.sourceforge.io/faq.html#HowToParseHtmlString\" rel=\"nofollow noreferrer\">https://htmlunit.sourceforge.io/faq.html#HowToParseHtmlString</a></p>\n"}],"owner":{"account_id":4546904,"reputation":152,"user_id":3693223,"display_name":"Lucho82"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678384677,"creation_date":1677779635,"question_id":75619165,"body_markdown":"I&#39;m trying to cast a simple raw HTML string (coming from an AJAX call) to HtmlDivision instance using [HtmlUnit][1] library\r\n\r\n    String div = &quot;&lt;div ... /div&gt;&quot;\r\n\r\n    HtmlDivision div = (HtmlDivision) div;\r\n\r\nI tried a default cast in Java and also looked in official documentation but until now no success.\r\n\r\n\r\n  [1]: https://htmlunit.sourceforge.io/","title":"Parse raw string HTML to HtmlDivision instance (HtmlUnit)","body":"<p>I'm trying to cast a simple raw HTML string (coming from an AJAX call) to HtmlDivision instance using <a href=\"https://htmlunit.sourceforge.io/\" rel=\"nofollow noreferrer\">HtmlUnit</a> library</p>\n<pre><code>String div = &quot;&lt;div ... /div&gt;&quot;\n\nHtmlDivision div = (HtmlDivision) div;\n</code></pre>\n<p>I tried a default cast in Java and also looked in official documentation but until now no success.</p>\n"},{"tags":["java","oauth-2.0","surveymonkey"],"comments":[{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1467987900,"post_id":38268175,"comment_id":63957578,"body_markdown":"I don&#39;t know if it is of any help, but for google auth I get my redirect url by :    \tVerificationCodeReceiver  receiver = new LocalServerReceiver();\n        receiver = Preconditions.checkNotNull(receiver);\n       String  redirectUri = receiver.getRedirectUri();","body":"I don&#39;t know if it is of any help, but for google auth I get my redirect url by :    \tVerificationCodeReceiver  receiver = new LocalServerReceiver();         receiver = Preconditions.checkNotNull(receiver);        String  redirectUri = receiver.getRedirectUri();"}],"answers":[{"comments":[{"owner":{"account_id":95965,"reputation":2833,"user_id":261098,"accept_rate":93,"display_name":"Tovi7"},"score":0,"creation_date":1468147033,"post_id":38273260,"comment_id":63999424,"body_markdown":"Your last suggestion, regarding the settings panel: I&#39;ve been trying this as well as a workaround, but it doesn&#39;t seem to work. Is it correct for me to assume that the &quot;access token&quot; in the &quot;my apps&quot; section is the bearer token I can use for a private app?","body":"Your last suggestion, regarding the settings panel: I&#39;ve been trying this as well as a workaround, but it doesn&#39;t seem to work. Is it correct for me to assume that the &quot;access token&quot; in the &quot;my apps&quot; section is the bearer token I can use for a private app?"},{"owner":{"account_id":543874,"reputation":2225,"user_id":913139,"display_name":"General Kandalaft"},"score":1,"creation_date":1468177620,"post_id":38273260,"comment_id":64007926,"body_markdown":"@Tovi7 yes, you can use that in the bearer to access the same account of the owner of the app. That can always be used to access the account of the app owner regardless of which status the app is in (aside from disabled).","body":"@Tovi7 yes, you can use that in the bearer to access the same account of the owner of the app. That can always be used to access the account of the app owner regardless of which status the app is in (aside from disabled)."},{"owner":{"account_id":543874,"reputation":2225,"user_id":913139,"display_name":"General Kandalaft"},"score":0,"creation_date":1468177840,"post_id":38273260,"comment_id":64007985,"body_markdown":"Also, just in case you&#39;re interested, there will likely be a method to get access tokens for users in your group (case: private app), or your own account (client_credentials grant_type). You can watch the docs at: https://github.com/SurveyMonkey/public_api_docs if you&#39;re interested in being notified of changes.","body":"Also, just in case you&#39;re interested, there will likely be a method to get access tokens for users in your group (case: private app), or your own account (client_credentials grant_type). You can watch the docs at: <a href=\"https://github.com/SurveyMonkey/public_api_docs\" rel=\"nofollow noreferrer\">github.com/SurveyMonkey/public_api_docs</a> if you&#39;re interested in being notified of changes."},{"owner":{"account_id":6411860,"reputation":917,"user_id":5012866,"accept_rate":65,"display_name":"zookastos"},"score":0,"creation_date":1525373822,"post_id":38273260,"comment_id":87342060,"body_markdown":"Thanks for this answer. Spent 2 days on this, and finally figured out the redirect uri problem. Thanks a lot !","body":"Thanks for this answer. Spent 2 days on this, and finally figured out the redirect uri problem. Thanks a lot !"},{"owner":{"account_id":337124,"reputation":1927,"user_id":665199,"accept_rate":89,"display_name":"carpii"},"score":0,"creation_date":1525380715,"post_id":38273260,"comment_id":87345342,"body_markdown":"@Nalin, did you end up using a redirect server?","body":"@Nalin, did you end up using a redirect server?"},{"owner":{"account_id":6411860,"reputation":917,"user_id":5012866,"accept_rate":65,"display_name":"zookastos"},"score":0,"creation_date":1525380995,"post_id":38273260,"comment_id":87345455,"body_markdown":"No. Notice - redirect_uri=&lt;same_redirect_uri_as_before&gt;. &quot;same_redirect_uri_as_before&quot; is the key here. I used javascript first, it opend a new window and asks user to login. In that new window url - you will have a key - redirecturl. Use that value everywhere. However my problem was specific to Google oAuth2 api, but the concept remained the same.\nRedirect URI was not used, but was required to validate the request to google server.","body":"No. Notice - redirect_uri=&lt;same_redirect_uri_as_before&gt;. &quot;same_redirect_uri_as_before&quot; is the key here. I used javascript first, it opend a new window and asks user to login. In that new window url - you will have a key - redirecturl. Use that value everywhere. However my problem was specific to Google oAuth2 api, but the concept remained the same. Redirect URI was not used, but was required to validate the request to google server."},{"owner":{"account_id":260365,"reputation":9128,"user_id":543873,"accept_rate":72,"display_name":"Michael"},"score":0,"creation_date":1580518127,"post_id":38273260,"comment_id":106136078,"body_markdown":"I don&#39;t even *see* an &quot;access token&quot; in my apps section... exactly where am I supposed to be looking?","body":"I don&#39;t even <i>see</i> an &quot;access token&quot; in my apps section... exactly where am I supposed to be looking?"}],"tags":[],"owner":{"account_id":543874,"reputation":2225,"user_id":913139,"display_name":"General Kandalaft"},"comment_count":7,"down_vote_count":3,"up_vote_count":25,"is_accepted":true,"score":22,"last_activity_date":1468002602,"creation_date":1468002602,"answer_id":38273260,"question_id":38268175,"body_markdown":"Not exactly, the whole point of the OAuth flow is that the user (the client you&#39;re accessing the data on behalf of) needs to give you permission to access their data.\r\n\r\nSee the [authentication instructions][1]. You need to send the user to the OAuth authorize page:\r\n\r\n    https://api.surveymonkey.net/oauth/authorize?api_key&lt;your_key&gt;&amp;client_id=&lt;your_client_id&gt;&amp;response_type=code&amp;redirect_uri=&lt;your_redirect_uri&gt;\r\n\r\nThis will show a page to the user telling them which parts of their account you are requesting access to (ex. see their surveys, see their responses, etc). Once the user approves that by clicking &quot;Authorize&quot; on that page, SurveyMonkey will automatically go to whatever you set as your redirect URI (make sure the one from the url above matches with what you set in the settings for your app) with the code.\r\n\r\nSo if your redirect URL was `https://example.com/surveymonkey/oauth`, SurveyMonkey will redirect the user to that URL with a code:\r\n\r\n`https://example.com/surveymonkey/oauth?code=&lt;auth_code&gt;`\r\n\r\nYou need to take that code and then exchange it for an access token by doing a POST request to `https://api.surveymonkey.net/oauth/token?api_key=&lt;your_api_key&gt;` with the following post params:\r\n\r\n    client_secret=&lt;your_secret&gt;\r\n    code=&lt;auth_code_you_just_got&gt;\r\n    redirect_uri=&lt;same_redirect_uri_as_before&gt;\r\n    grant_type=authorization_code\r\n\r\nThis will return an access token, you can then use that access token to access data on the user&#39;s account. You don&#39;t give the access token to the user it&#39;s for you to use to access the user&#39;s account. No need for polling or anything.\r\n\r\nIf you&#39;re just accessing your own account, you can use the access token provided in the settings page of your app. Otherwise there&#39;s no way to get an access token for a user without setting up your own redirect server (unless all the users are in the same group as you, i.e. multiple users under the same account; but I won&#39;t get into that). SurveyMonkey needs a place to send you the code once the user authorizes, you can&#39;t just request one.\r\n\r\n  [1]: https://developer.surveymonkey.com/api/v3/#authentication","title":"Is it possible to use OAuth 2.0 without a redirect server?","body":"<p>Not exactly, the whole point of the OAuth flow is that the user (the client you're accessing the data on behalf of) needs to give you permission to access their data.</p>\n\n<p>See the <a href=\"https://developer.surveymonkey.com/api/v3/#authentication\" rel=\"noreferrer\">authentication instructions</a>. You need to send the user to the OAuth authorize page:</p>\n\n<pre><code>https://api.surveymonkey.net/oauth/authorize?api_key&lt;your_key&gt;&amp;client_id=&lt;your_client_id&gt;&amp;response_type=code&amp;redirect_uri=&lt;your_redirect_uri&gt;\n</code></pre>\n\n<p>This will show a page to the user telling them which parts of their account you are requesting access to (ex. see their surveys, see their responses, etc). Once the user approves that by clicking \"Authorize\" on that page, SurveyMonkey will automatically go to whatever you set as your redirect URI (make sure the one from the url above matches with what you set in the settings for your app) with the code.</p>\n\n<p>So if your redirect URL was <code>https://example.com/surveymonkey/oauth</code>, SurveyMonkey will redirect the user to that URL with a code:</p>\n\n<p><code>https://example.com/surveymonkey/oauth?code=&lt;auth_code&gt;</code></p>\n\n<p>You need to take that code and then exchange it for an access token by doing a POST request to <code>https://api.surveymonkey.net/oauth/token?api_key=&lt;your_api_key&gt;</code> with the following post params:</p>\n\n<pre><code>client_secret=&lt;your_secret&gt;\ncode=&lt;auth_code_you_just_got&gt;\nredirect_uri=&lt;same_redirect_uri_as_before&gt;\ngrant_type=authorization_code\n</code></pre>\n\n<p>This will return an access token, you can then use that access token to access data on the user's account. You don't give the access token to the user it's for you to use to access the user's account. No need for polling or anything.</p>\n\n<p>If you're just accessing your own account, you can use the access token provided in the settings page of your app. Otherwise there's no way to get an access token for a user without setting up your own redirect server (unless all the users are in the same group as you, i.e. multiple users under the same account; but I won't get into that). SurveyMonkey needs a place to send you the code once the user authorizes, you can't just request one.</p>\n"},{"comments":[{"owner":{"account_id":246040,"reputation":155,"user_id":519917,"display_name":"Alex"},"score":1,"creation_date":1678311321,"post_id":38475737,"comment_id":133510299,"body_markdown":"Worth noting that Resource Owner Password Credentials grant type was removed from OAuth 2.1 spec.","body":"Worth noting that Resource Owner Password Credentials grant type was removed from OAuth 2.1 spec."},{"owner":{"account_id":2477504,"reputation":15766,"user_id":2157818,"accept_rate":86,"display_name":"Spomky-Labs"},"score":1,"creation_date":1678384571,"post_id":38475737,"comment_id":133526597,"body_markdown":"Hi Alex, thank you for mentioning OAuth2.1. I updated the answer to reflect that point. Also, I added the Kerberos Grant Type and the OIDC response mode parameter. Regards.","body":"Hi Alex, thank you for mentioning OAuth2.1. I updated the answer to reflect that point. Also, I added the Kerberos Grant Type and the OIDC response mode parameter. Regards."}],"tags":[],"owner":{"account_id":2477504,"reputation":15766,"user_id":2157818,"accept_rate":86,"display_name":"Spomky-Labs"},"comment_count":2,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1678384489,"creation_date":1469002018,"answer_id":38475737,"question_id":38268175,"body_markdown":"Yes, it is possible to use OAuth2 without a callback URL.\r\nThe [RFC6749](https://www.rfc-editor.org/rfc/rfc6749) introduces several flows. The [Implicit](https://www.rfc-editor.org/rfc/rfc6749#section-4.2) (*now deprecated*&lt;sup&gt;[1]&lt;/sup&gt;) and [Authorization Code](https://www.rfc-editor.org/rfc/rfc6749#section-4.1) grant types require a redirect URI. However the [Resource Owner Password Credentials](https://www.rfc-editor.org/rfc/rfc6749#section-4.3) (*deprecated as well*&lt;sup&gt;[1]&lt;/sup&gt;) grant type does not.\r\n\r\nSince RFC6749, other specifications have been issued that **do not** require any redirect URI:\r\n\r\n- [RFC7522](https://www.rfc-editor.org/rfc/rfc7522): Security Assertion Markup Language (SAML) 2.0 Profile for OAuth 2.0 Client Authentication and Authorization Grants\r\n- [RFC7523](https://www.rfc-editor.org/rfc/rfc7523): JSON Web Token (JWT) Profile for OAuth 2.0 Client Authentication and Authorization Grants\r\n- [RFC8628](https://datatracker.ietf.org/doc/html/rfc8628):  OAuth 2.0 Device Authorization Grant\r\n- Kerberos Grant Type: see https://is.docs.wso2.com/en/5.9.0/learn/kerberos-grant/\r\n\r\nAlso, with OpenID Connect, the response mode is not necessarily a redirection to the `redirect_uri` parameter, but can be a POST request to that endpoint. See the [OAuth 2.0 Form Post Response Mode](https://openid.net/specs/oauth-v2-form-post-response-mode-1_0.html) specification for more details.\r\n\r\n\r\nIn any case, if the grant types above do not fit on your needs, nothing prevent you from creating a [custom grant type](https://www.rfc-editor.org/rfc/rfc6749#section-4.5).\r\n\r\n&lt;hr/&gt;\r\n\r\n[1]: [OAuth 2.1 specification (draft 07)](https://datatracker.ietf.org/doc/html/draft-ietf-oauth-v2-1-07)","title":"Is it possible to use OAuth 2.0 without a redirect server?","body":"<p>Yes, it is possible to use OAuth2 without a callback URL.\nThe <a href=\"https://www.rfc-editor.org/rfc/rfc6749\" rel=\"nofollow noreferrer\">RFC6749</a> introduces several flows. The <a href=\"https://www.rfc-editor.org/rfc/rfc6749#section-4.2\" rel=\"nofollow noreferrer\">Implicit</a> (<em>now deprecated</em><sup>[1]</sup>) and <a href=\"https://www.rfc-editor.org/rfc/rfc6749#section-4.1\" rel=\"nofollow noreferrer\">Authorization Code</a> grant types require a redirect URI. However the <a href=\"https://www.rfc-editor.org/rfc/rfc6749#section-4.3\" rel=\"nofollow noreferrer\">Resource Owner Password Credentials</a> (<em>deprecated as well</em><sup>[1]</sup>) grant type does not.</p>\n<p>Since RFC6749, other specifications have been issued that <strong>do not</strong> require any redirect URI:</p>\n<ul>\n<li><a href=\"https://www.rfc-editor.org/rfc/rfc7522\" rel=\"nofollow noreferrer\">RFC7522</a>: Security Assertion Markup Language (SAML) 2.0 Profile for OAuth 2.0 Client Authentication and Authorization Grants</li>\n<li><a href=\"https://www.rfc-editor.org/rfc/rfc7523\" rel=\"nofollow noreferrer\">RFC7523</a>: JSON Web Token (JWT) Profile for OAuth 2.0 Client Authentication and Authorization Grants</li>\n<li><a href=\"https://datatracker.ietf.org/doc/html/rfc8628\" rel=\"nofollow noreferrer\">RFC8628</a>:  OAuth 2.0 Device Authorization Grant</li>\n<li>Kerberos Grant Type: see <a href=\"https://is.docs.wso2.com/en/5.9.0/learn/kerberos-grant/\" rel=\"nofollow noreferrer\">https://is.docs.wso2.com/en/5.9.0/learn/kerberos-grant/</a></li>\n</ul>\n<p>Also, with OpenID Connect, the response mode is not necessarily a redirection to the <code>redirect_uri</code> parameter, but can be a POST request to that endpoint. See the <a href=\"https://openid.net/specs/oauth-v2-form-post-response-mode-1_0.html\" rel=\"nofollow noreferrer\">OAuth 2.0 Form Post Response Mode</a> specification for more details.</p>\n<p>In any case, if the grant types above do not fit on your needs, nothing prevent you from creating a <a href=\"https://www.rfc-editor.org/rfc/rfc6749#section-4.5\" rel=\"nofollow noreferrer\">custom grant type</a>.</p>\n<hr/>\n<p>[1]: <a href=\"https://datatracker.ietf.org/doc/html/draft-ietf-oauth-v2-1-07\" rel=\"nofollow noreferrer\">OAuth 2.1 specification (draft 07)</a></p>\n"},{"comments":[{"owner":{"account_id":3427078,"reputation":845,"user_id":2872579,"accept_rate":69,"display_name":"Potion"},"score":0,"creation_date":1553711360,"post_id":39253876,"comment_id":97490338,"body_markdown":"Im new to socket programming and working on a simple mac desktop application. Is there an example of oauth listening to a localhost in swift?","body":"Im new to socket programming and working on a simple mac desktop application. Is there an example of oauth listening to a localhost in swift?"},{"owner":{"account_id":322729,"reputation":887,"user_id":642311,"display_name":"Cameron Stone"},"score":0,"creation_date":1607043799,"post_id":39253876,"comment_id":115156008,"body_markdown":"Found this: https://alexw.me/2013/03/save-url-to-pocket-with-alfred-workflow-using-oauth/ (better a late answer than never)","body":"Found this: <a href=\"https://alexw.me/2013/03/save-url-to-pocket-with-alfred-workflow-using-oauth/\" rel=\"nofollow noreferrer\">alexw.me/2013/03/&hellip;</a> (better a late answer than never)"}],"tags":[],"owner":{"account_id":4212032,"reputation":61,"user_id":3449448,"display_name":"manos"},"comment_count":2,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1472658215,"creation_date":1472658215,"answer_id":39253876,"question_id":38268175,"body_markdown":"You **do** need to implement something that will act as the redirect_uri, which does not necessarily need to be hosted somewhere else than your client (as you say, in some cloud).\r\n\r\nI am not very familiar with Java and Servelets, but if I assume correctly, it would be something that could handle http://localhost:some_port. In that case, the flow that you describe is correct.\r\n\r\nI implemented the same flow successfully in C#. Here is the class that implements that flow. I hope it helps.\r\n\r\n    class OAuth2Negotiator\r\n    {\r\n        private HttpListener _listener = null;\r\n        private string _accessToken = null;\r\n        private string _errorResult = null;\r\n        private string _apiKey = null;\r\n        private string _clientSecret = null;\r\n        private string _redirectUri = null;\r\n\r\n        public OAuth2Negotiator(string apiKey, string address, string clientSecret)\r\n        {\r\n            _apiKey = apiKey;\r\n            _redirectUri = address.TrimEnd(&#39;/&#39;);\r\n            _clientSecret = clientSecret;\r\n\r\n            _listener = new HttpListener();\r\n            _listener.Prefixes.Add(address + &quot;/&quot;);\r\n            _listener.AuthenticationSchemes = AuthenticationSchemes.Anonymous;\r\n        }\r\n\r\n        public string GetToken()\r\n        {\r\n            var url = string.Format(@&quot;https://api.surveymonkey.net/oauth/authorize?redirect_uri={0}&amp;client_id=sm_sunsoftdemo&amp;response_type=code&amp;api_key=svtx8maxmjmqavpavdd5sg5p&quot;,\r\n                    HttpUtility.UrlEncode(@&quot;http://localhost:60403&quot;));\r\n            System.Diagnostics.Process.Start(url);\r\n\r\n            _listener.Start();\r\n            AsyncContext.Run(() =&gt; ListenLoop(_listener));\r\n            _listener.Stop();\r\n\r\n            if (!string.IsNullOrEmpty(_errorResult))\r\n                throw new Exception(_errorResult);\r\n            return _accessToken;\r\n        }\r\n\r\n        private async void ListenLoop(HttpListener listener)\r\n        {\r\n            while (true)\r\n            {\r\n                var context = await listener.GetContextAsync();\r\n                var query = context.Request.QueryString;\r\n                if (context.Request.Url.ToString().EndsWith(&quot;favicon.ico&quot;))\r\n                {\r\n                    context.Response.StatusCode = (int)HttpStatusCode.NotFound;\r\n                    context.Response.Close();\r\n                }\r\n                else if (query != null &amp;&amp; query.Count &gt; 0)\r\n                {\r\n                    if (!string.IsNullOrEmpty(query[&quot;code&quot;]))\r\n                    {\r\n                        _accessToken = await SendCodeAsync(query[&quot;code&quot;]);\r\n                        break;\r\n                    }\r\n                    else if (!string.IsNullOrEmpty(query[&quot;error&quot;]))\r\n                    {\r\n                        _errorResult = string.Format(&quot;{0}: {1}&quot;, query[&quot;error&quot;], query[&quot;error_description&quot;]);\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        private async Task&lt;string&gt; SendCodeAsync(string code)\r\n        {\r\n            var GrantType = &quot;authorization_code&quot;;\r\n            //client_secret, code, redirect_uri and grant_type. The grant type must be set to “authorization_code”\r\n            var client = new HttpClient();\r\n            client.BaseAddress = new Uri(&quot;https://api.surveymonkey.net&quot;);\r\n            var request = new HttpRequestMessage(HttpMethod.Post, string.Format(&quot;/oauth/token?api_key={0}&quot;, _apiKey));\r\n\r\n            var formData = new List&lt;KeyValuePair&lt;string, string&gt;&gt;();\r\n            formData.Add(new KeyValuePair&lt;string, string&gt;(&quot;client_secret&quot;, _clientSecret));\r\n            formData.Add(new KeyValuePair&lt;string, string&gt;(&quot;code&quot;, code));\r\n            formData.Add(new KeyValuePair&lt;string, string&gt;(&quot;redirect_uri&quot;, _redirectUri));\r\n            formData.Add(new KeyValuePair&lt;string, string&gt;(&quot;grant_type&quot;, GrantType));\r\n            formData.Add(new KeyValuePair&lt;string, string&gt;(&quot;client_id&quot;, &quot;sm_sunsoftdemo&quot;));\r\n\r\n            request.Content = new FormUrlEncodedContent(formData);\r\n            var response = await client.SendAsync(request);\r\n            if (!response.IsSuccessStatusCode)\r\n            {\r\n                _errorResult = string.Format(&quot;Status {0}: {1}&quot;, response.StatusCode.ToString(), response.ReasonPhrase.ToString());\r\n                return null;\r\n            }\r\n\r\n            var data = await response.Content.ReadAsStringAsync();\r\n            if (data == null)\r\n                return null;\r\n            Dictionary&lt;string, string&gt; tokenInfo = JsonConvert.DeserializeObject&lt;Dictionary&lt;string, string&gt;&gt;(data);\r\n            return(tokenInfo[&quot;access_token&quot;]);\r\n        }\r\n    }\r\n","title":"Is it possible to use OAuth 2.0 without a redirect server?","body":"<p>You <strong>do</strong> need to implement something that will act as the redirect_uri, which does not necessarily need to be hosted somewhere else than your client (as you say, in some cloud).</p>\n\n<p>I am not very familiar with Java and Servelets, but if I assume correctly, it would be something that could handle <a href=\"http://localhost:some_port\" rel=\"nofollow\">http://localhost:some_port</a>. In that case, the flow that you describe is correct.</p>\n\n<p>I implemented the same flow successfully in C#. Here is the class that implements that flow. I hope it helps.</p>\n\n<pre><code>class OAuth2Negotiator\n{\n    private HttpListener _listener = null;\n    private string _accessToken = null;\n    private string _errorResult = null;\n    private string _apiKey = null;\n    private string _clientSecret = null;\n    private string _redirectUri = null;\n\n    public OAuth2Negotiator(string apiKey, string address, string clientSecret)\n    {\n        _apiKey = apiKey;\n        _redirectUri = address.TrimEnd('/');\n        _clientSecret = clientSecret;\n\n        _listener = new HttpListener();\n        _listener.Prefixes.Add(address + \"/\");\n        _listener.AuthenticationSchemes = AuthenticationSchemes.Anonymous;\n    }\n\n    public string GetToken()\n    {\n        var url = string.Format(@\"https://api.surveymonkey.net/oauth/authorize?redirect_uri={0}&amp;client_id=sm_sunsoftdemo&amp;response_type=code&amp;api_key=svtx8maxmjmqavpavdd5sg5p\",\n                HttpUtility.UrlEncode(@\"http://localhost:60403\"));\n        System.Diagnostics.Process.Start(url);\n\n        _listener.Start();\n        AsyncContext.Run(() =&gt; ListenLoop(_listener));\n        _listener.Stop();\n\n        if (!string.IsNullOrEmpty(_errorResult))\n            throw new Exception(_errorResult);\n        return _accessToken;\n    }\n\n    private async void ListenLoop(HttpListener listener)\n    {\n        while (true)\n        {\n            var context = await listener.GetContextAsync();\n            var query = context.Request.QueryString;\n            if (context.Request.Url.ToString().EndsWith(\"favicon.ico\"))\n            {\n                context.Response.StatusCode = (int)HttpStatusCode.NotFound;\n                context.Response.Close();\n            }\n            else if (query != null &amp;&amp; query.Count &gt; 0)\n            {\n                if (!string.IsNullOrEmpty(query[\"code\"]))\n                {\n                    _accessToken = await SendCodeAsync(query[\"code\"]);\n                    break;\n                }\n                else if (!string.IsNullOrEmpty(query[\"error\"]))\n                {\n                    _errorResult = string.Format(\"{0}: {1}\", query[\"error\"], query[\"error_description\"]);\n                    break;\n                }\n            }\n        }\n    }\n\n    private async Task&lt;string&gt; SendCodeAsync(string code)\n    {\n        var GrantType = \"authorization_code\";\n        //client_secret, code, redirect_uri and grant_type. The grant type must be set to “authorization_code”\n        var client = new HttpClient();\n        client.BaseAddress = new Uri(\"https://api.surveymonkey.net\");\n        var request = new HttpRequestMessage(HttpMethod.Post, string.Format(\"/oauth/token?api_key={0}\", _apiKey));\n\n        var formData = new List&lt;KeyValuePair&lt;string, string&gt;&gt;();\n        formData.Add(new KeyValuePair&lt;string, string&gt;(\"client_secret\", _clientSecret));\n        formData.Add(new KeyValuePair&lt;string, string&gt;(\"code\", code));\n        formData.Add(new KeyValuePair&lt;string, string&gt;(\"redirect_uri\", _redirectUri));\n        formData.Add(new KeyValuePair&lt;string, string&gt;(\"grant_type\", GrantType));\n        formData.Add(new KeyValuePair&lt;string, string&gt;(\"client_id\", \"sm_sunsoftdemo\"));\n\n        request.Content = new FormUrlEncodedContent(formData);\n        var response = await client.SendAsync(request);\n        if (!response.IsSuccessStatusCode)\n        {\n            _errorResult = string.Format(\"Status {0}: {1}\", response.StatusCode.ToString(), response.ReasonPhrase.ToString());\n            return null;\n        }\n\n        var data = await response.Content.ReadAsStringAsync();\n        if (data == null)\n            return null;\n        Dictionary&lt;string, string&gt; tokenInfo = JsonConvert.DeserializeObject&lt;Dictionary&lt;string, string&gt;&gt;(data);\n        return(tokenInfo[\"access_token\"]);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":95965,"reputation":2833,"user_id":261098,"accept_rate":93,"display_name":"Tovi7"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51026,"favorite_count":0,"down_vote_count":0,"up_vote_count":48,"accepted_answer_id":38273260,"answer_count":3,"score":48,"last_activity_date":1678384489,"creation_date":1467985275,"question_id":38268175,"body_markdown":"I&#39;m trying to create a local Java-based client that interacts with the SurveyMonkey API.\r\n\r\nSurveyMonkey requires a long-lived access token using OAuth 2.0, which I&#39;m not very familiar with.\r\n\r\nI&#39;ve been googling this for hours, and I think the answer is no, but I just want to be sure:\r\n\r\nIs it possible for me to write a simple Java client that interacts with the SurveyMonkey, **without setting up my own redirect server in some cloud**?\r\n\r\nI feel like having my own online service is mandatory to be able to receive the bearer tokens generated by OAuth 2.0. Is it possible that I can&#39;t have SurveyMonkey send bearer tokens directly to my client?\r\n\r\nAnd if I were to set up my own custom Servlet somewhere, and use it as a redirect_uri, then the correct flow would be as follows:\r\n\r\n 1. Java-client request bearer token from SurveyMonkey, with\r\n    redirect_uri being my own custom servlet URL. \r\n 2. SurveyMonkey sends token to my custom servlet URL. \r\n 3. Java-client polls custom servlet URL until a token is available?\r\n\r\nIs this correct?","title":"Is it possible to use OAuth 2.0 without a redirect server?","body":"<p>I'm trying to create a local Java-based client that interacts with the SurveyMonkey API.</p>\n\n<p>SurveyMonkey requires a long-lived access token using OAuth 2.0, which I'm not very familiar with.</p>\n\n<p>I've been googling this for hours, and I think the answer is no, but I just want to be sure:</p>\n\n<p>Is it possible for me to write a simple Java client that interacts with the SurveyMonkey, <strong>without setting up my own redirect server in some cloud</strong>?</p>\n\n<p>I feel like having my own online service is mandatory to be able to receive the bearer tokens generated by OAuth 2.0. Is it possible that I can't have SurveyMonkey send bearer tokens directly to my client?</p>\n\n<p>And if I were to set up my own custom Servlet somewhere, and use it as a redirect_uri, then the correct flow would be as follows:</p>\n\n<ol>\n<li>Java-client request bearer token from SurveyMonkey, with\nredirect_uri being my own custom servlet URL. </li>\n<li>SurveyMonkey sends token to my custom servlet URL. </li>\n<li>Java-client polls custom servlet URL until a token is available?</li>\n</ol>\n\n<p>Is this correct?</p>\n"},{"tags":["java","elasticsearch","query-builder"],"owner":{"account_id":24513159,"reputation":1,"user_id":18427239,"display_name":"John Doe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678384419,"creation_date":1678384419,"question_id":75688340,"body_markdown":"I have a problem with searching usernames. \r\n\r\n\r\n```\r\n    private static QueryBuilder createSearchFilter(String query) {\r\n        BoolQueryBuilder queryBuilder = new BoolQueryBuilder();\r\n        String[] queriesList = query.split(&quot;\\\\|&quot;);\r\n        for (String q : queriesList) {\r\n            if (q.contains(&quot; &quot;)) {\r\n                queryBuilder.should(QueryBuilders.matchQuery(USERNAME, q).operator(Operator.AND).fuzziness(2));\r\n            } else {\r\n                queryBuilder.should(QueryBuilders.matchQuery(USERNAME, q).fuzziness(2));\r\n            }\r\n        }\r\n        return queryBuilder;\r\n    }\r\n```\r\n\r\nThis works correctly, but is it correct to create a list of incoming requests or should they be one after the other? Usernames are different, for example A.Smith, HelenaW, John Doe etc. I need to search for accounts separated by a dot and consisting of two or more words, but at the same time I should not get a result if the query is A.Smith + John Doe, but separately they should give a result.","title":"Elasticsearch Java QueryBuilder - Find username with different syntax","body":"<p>I have a problem with searching usernames.</p>\n<pre><code>    private static QueryBuilder createSearchFilter(String query) {\n        BoolQueryBuilder queryBuilder = new BoolQueryBuilder();\n        String[] queriesList = query.split(&quot;\\\\|&quot;);\n        for (String q : queriesList) {\n            if (q.contains(&quot; &quot;)) {\n                queryBuilder.should(QueryBuilders.matchQuery(USERNAME, q).operator(Operator.AND).fuzziness(2));\n            } else {\n                queryBuilder.should(QueryBuilders.matchQuery(USERNAME, q).fuzziness(2));\n            }\n        }\n        return queryBuilder;\n    }\n</code></pre>\n<p>This works correctly, but is it correct to create a list of incoming requests or should they be one after the other? Usernames are different, for example A.Smith, HelenaW, John Doe etc. I need to search for accounts separated by a dot and consisting of two or more words, but at the same time I should not get a result if the query is A.Smith + John Doe, but separately they should give a result.</p>\n"},{"tags":["java","android","kotlin"],"owner":{"account_id":18893246,"reputation":29,"user_id":15470701,"display_name":"Jay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678384027,"creation_date":1677881284,"question_id":75632268,"body_markdown":"I have 2 apps, A (server app) and B (client app) both are signed by the same signing key.\r\n\r\nI don&#39;t want to update app A (server app), which has no custom permission, content/file provider, exported activity, etc.\r\n\r\nI am developing app B (client app) where I want to read the data from app A (server app) internal storage. For example, I want to read the &quot;shared_prefs&quot; file of app A from my new app B (both apps are signed with the same signing key)\r\n\r\nIs this something possible to achieve?\r\n\r\nNote:\r\nhttps://developer.android.com/training/secure-file-sharing\r\nhttps://developer.android.com/guide/topics/providers/content-providers\r\n\r\nrequire changes in app A (server app) which I don&#39;t want to do because of various reasons.\r\n\r\nAndroid version: 10 and above","title":"Android - Read app-specific files (internal storage) where both apps have same app signing key/certificate","body":"<p>I have 2 apps, A (server app) and B (client app) both are signed by the same signing key.</p>\n<p>I don't want to update app A (server app), which has no custom permission, content/file provider, exported activity, etc.</p>\n<p>I am developing app B (client app) where I want to read the data from app A (server app) internal storage. For example, I want to read the &quot;shared_prefs&quot; file of app A from my new app B (both apps are signed with the same signing key)</p>\n<p>Is this something possible to achieve?</p>\n<p>Note:\n<a href=\"https://developer.android.com/training/secure-file-sharing\" rel=\"nofollow noreferrer\">https://developer.android.com/training/secure-file-sharing</a>\n<a href=\"https://developer.android.com/guide/topics/providers/content-providers\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/providers/content-providers</a></p>\n<p>require changes in app A (server app) which I don't want to do because of various reasons.</p>\n<p>Android version: 10 and above</p>\n"},{"tags":["java","thymeleaf"],"comments":[{"owner":{"account_id":2714938,"reputation":6041,"user_id":2342529,"accept_rate":98,"display_name":"Alexandru Severin"},"score":0,"creation_date":1605626957,"post_id":64878101,"comment_id":114704999,"body_markdown":"Do you need a pure html+tymeleaf solution or is javascript acceptable?","body":"Do you need a pure html+tymeleaf solution or is javascript acceptable?"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1605627327,"post_id":64878101,"comment_id":114705173,"body_markdown":"I would prefer a solution pure thymeleaf, no js.","body":"I would prefer a solution pure thymeleaf, no js."}],"answers":[{"comments":[{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":1,"creation_date":1605628089,"post_id":64878476,"comment_id":114705628,"body_markdown":"Could you give an alternative example using js? Probably that would involve jquery? But if the above is the only solution, I&#39;d rather go for a js solution. I would want to show maybe 100 rows per page, so I cannot go for generating 100 hidden modal dialogs then.","body":"Could you give an alternative example using js? Probably that would involve jquery? But if the above is the only solution, I&#39;d rather go for a js solution. I would want to show maybe 100 rows per page, so I cannot go for generating 100 hidden modal dialogs then."},{"owner":{"account_id":2714938,"reputation":6041,"user_id":2342529,"accept_rate":98,"display_name":"Alexandru Severin"},"score":1,"creation_date":1605629271,"post_id":64878476,"comment_id":114706298,"body_markdown":"@membersound I added an example with jQuery","body":"@membersound I added an example with jQuery"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":2,"creation_date":1605631662,"post_id":64878476,"comment_id":114707565,"body_markdown":"Okay I see. But there is no way I could simply pass the full object to the modal dialog and access is using dot notation? Like `&lt;div data-toggle=&quot;modal&quot; data-target=&quot;#deleteModal&quot; th:data-row=&quot;${row}&quot;&gt;`, and then accessing it inside the modal dialog with `th:text=&quot;{row.firstname}&quot;`?","body":"Okay I see. But there is no way I could simply pass the full object to the modal dialog and access is using dot notation? Like <code>&lt;div data-toggle=&quot;modal&quot; data-target=&quot;#deleteModal&quot; th:data-row=&quot;${row}&quot;&gt;</code>, and then accessing it inside the modal dialog with <code>th:text=&quot;{row.firstname}&quot;</code>?"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":1,"creation_date":1605632121,"post_id":64878476,"comment_id":114707801,"body_markdown":"Because I think it&#39;s really boilerplate I have to repeat all person attributes explicit for the delete button, like `data-id=, data-firstname=, data-lastname=...`. I hoped I could just pass the full `th:data-row=&quot;{row}` object and then extract the fields in the `jquery` function?","body":"Because I think it&#39;s really boilerplate I have to repeat all person attributes explicit for the delete button, like <code>data-id=, data-firstname=, data-lastname=...</code>. I hoped I could just pass the full <code>th:data-row=&quot;{row}</code> object and then extract the fields in the <code>jquery</code> function?"},{"owner":{"account_id":2714938,"reputation":6041,"user_id":2342529,"accept_rate":98,"display_name":"Alexandru Severin"},"score":1,"creation_date":1605683589,"post_id":64878476,"comment_id":114723154,"body_markdown":"You can&#39;t store the full object as a html attribute, but you can store it as a javascript variable `var allRows = [[${rows}]];`. This way, you only have to store id of row in html, and in jQuery you can fetch rest of data from `allRows` variable","body":"You can&#39;t store the full object as a html attribute, but you can store it as a javascript variable <code>var allRows = [[${rows}]];</code>. This way, you only have to store id of row in html, and in jQuery you can fetch rest of data from <code>allRows</code> variable"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1605692527,"post_id":64878476,"comment_id":114726709,"body_markdown":"Is there any downside of converting all `rows` to a `js` variable? I mean, would the serialization process of large lists have a negative impact?","body":"Is there any downside of converting all <code>rows</code> to a <code>js</code> variable? I mean, would the serialization process of large lists have a negative impact?"},{"owner":{"account_id":2714938,"reputation":6041,"user_id":2342529,"accept_rate":98,"display_name":"Alexandru Severin"},"score":0,"creation_date":1605771500,"post_id":64878476,"comment_id":114755306,"body_markdown":"Its much less impact than converting all `rows` to a `html block`","body":"Its much less impact than converting all <code>rows</code> to a <code>html block</code>"}],"tags":[],"owner":{"account_id":2714938,"reputation":6041,"user_id":2342529,"accept_rate":98,"display_name":"Alexandru Severin"},"comment_count":7,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1605629195,"creation_date":1605627806,"answer_id":64878476,"question_id":64878101,"body_markdown":"**Pure thymeleaf**\r\n\r\nTo do it in pure thymeleaf, you would need to create a dialog for every row in the table with a unique id, and open the dialog associated to the row being deleted.\r\n\r\nExample modals:\r\n```\r\n&lt;div th:each=&quot;row : ${rows}&quot; th:attr=&quot;id=${&#39;editModal&#39; + row.id}&quot;&gt;\r\n  &lt;div class=&quot;modal-body&quot;&gt;\r\n    &lt;div class=&quot;modal-body&quot;&gt;\r\n       You are about to delete: &lt;div th:text=&quot;${row.firstname}&quot;/&gt; &lt;div th:text=&quot;${row.lastname}&quot;/&gt;\r\n\r\n       &lt;form action=&quot;#&quot; th:action=&quot;@{/delete/{id}&quot; th:object=&quot;${row}&quot; method=&quot;delete&quot;&gt;\r\n          &lt;input type=&quot;text&quot; hidden=&quot;true&quot; th:field=&quot;${row.id}&quot;&gt;\r\n       &lt;/form&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;div class=&quot;modal-footer&quot;&gt;\r\n        &lt;button type=&quot;button&quot; class=&quot;btn btn-secondary&quot; data-dismiss=&quot;modal&quot;&gt;Cancel&lt;/button&gt;\r\n        &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot; th:href=&quot;@{/delete/{id}(id=${row.id})}&quot; th:method=&quot;delete&quot;&gt;Remove&lt;/button&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;\r\n```\r\n\r\nAnd the button which opens the dialog becomes:\r\n```\r\n&lt;button data-toggle=&quot;modal&quot; th:attr=&quot;data-target=${&#39;#editModal&#39;+row.id}&quot; data-row=&quot;${row}&quot;&gt;DEL&lt;/button&gt;\r\n```\r\n\r\n-----\r\n\r\n**With javascript**\r\n\r\nIf you can use javascript, I would recommend creating only a template of the modal dialog using thymeleaf, then clone it and and populate it dynamically.\r\n\r\nExample modal:\r\n```\r\n&lt;div class id=&quot;editModalTemplate&quot;&gt;\r\n  &lt;div class=&quot;modal-body&quot;&gt;\r\n    &lt;div class=&quot;modal-body&quot;&gt;\r\n       You are about to delete: &lt;div data-value=&quot;firstname&quot;/&gt; &lt;div data-value=&quot;lastname&quot;/&gt;\r\n\r\n       &lt;form action=&quot;#&quot; th:action=&quot;@{/delete/_id_}&quot; method=&quot;delete&quot;&gt;\r\n          &lt;input type=&quot;text&quot; hidden=&quot;true&quot; name=&quot;id&quot;&gt;\r\n       &lt;/form&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;div class=&quot;modal-footer&quot;&gt;\r\n        &lt;button type=&quot;button&quot; class=&quot;btn btn-secondary&quot; data-dismiss=&quot;modal&quot;&gt;Cancel&lt;/button&gt;\r\n        &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot; th:href=&quot;@{/delete/{id}(id=&#39;_id_&#39;)}&quot; th:method=&quot;delete&quot;&gt;Remove&lt;/button&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;\r\n```\r\nThe delete button:\r\n```\r\n&lt;button class=&quot;btn-delete&quot; data-id=${row.id} data-firstname=&quot;${row.firstname}&quot; data-lastname=&quot;${row.lastname}&quot;&gt;DEL&lt;/button&gt;\r\n```\r\n\r\nJavascript (using jQuery implementation as example):\r\n```\r\n$(&#39;.btn-delete&#39;).click(function(){\r\n    //clone dialog and remove ids to ensure uniqueness\r\n    var $modal = $(&#39;#editModalTemplate&#39;).clone().removeAttr(&#39;id&#39;);\r\n\r\n    //apply custom values where needed\r\n    var $btn = $(this);\r\n    var rowId = $btn.attr(&#39;data-id&#39;);\r\n    var firstname = $btn.attr(&#39;data-firstname&#39;);\r\n    var lastname = $btn.attr(&#39;data-lastname&#39;);\r\n\r\n    $modal.find(&#39;[data-value=&quot;firstname&quot;]&#39;).text(firstname );\r\n    $modal.find(&#39;[data-value=&quot;lastname&quot;]&#39;).text(lastname );\r\n    $modal.find(&#39;[name=&quot;id&quot;]&#39;).val($btn.attr(&#39;data-id&#39;));\r\n    $modal.find(&#39;form&#39;).attr(&#39;action&#39;).replace(&#39;_id_&#39;, rowId);     \r\n    $modal.find(&#39;button[type=&quot;submit&quot;]&#39;).attr(&#39;href&#39;, $modal.find(&#39;button[type=&quot;submit&quot;]&#39;).attr(&#39;href&#39;).replace(&#39;_id_&#39;, rowId);\r\n\r\n    //show dialog\r\n    $modal.modal();\r\n});\r\n```","title":"How to pass object to modal dialog in Thymeleaf?","body":"<p><strong>Pure thymeleaf</strong></p>\n<p>To do it in pure thymeleaf, you would need to create a dialog for every row in the table with a unique id, and open the dialog associated to the row being deleted.</p>\n<p>Example modals:</p>\n<pre><code>&lt;div th:each=&quot;row : ${rows}&quot; th:attr=&quot;id=${'editModal' + row.id}&quot;&gt;\n  &lt;div class=&quot;modal-body&quot;&gt;\n    &lt;div class=&quot;modal-body&quot;&gt;\n       You are about to delete: &lt;div th:text=&quot;${row.firstname}&quot;/&gt; &lt;div th:text=&quot;${row.lastname}&quot;/&gt;\n\n       &lt;form action=&quot;#&quot; th:action=&quot;@{/delete/{id}&quot; th:object=&quot;${row}&quot; method=&quot;delete&quot;&gt;\n          &lt;input type=&quot;text&quot; hidden=&quot;true&quot; th:field=&quot;${row.id}&quot;&gt;\n       &lt;/form&gt;\n    &lt;/div&gt;\n\n    &lt;div class=&quot;modal-footer&quot;&gt;\n        &lt;button type=&quot;button&quot; class=&quot;btn btn-secondary&quot; data-dismiss=&quot;modal&quot;&gt;Cancel&lt;/button&gt;\n        &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot; th:href=&quot;@{/delete/{id}(id=${row.id})}&quot; th:method=&quot;delete&quot;&gt;Remove&lt;/button&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p>And the button which opens the dialog becomes:</p>\n<pre><code>&lt;button data-toggle=&quot;modal&quot; th:attr=&quot;data-target=${'#editModal'+row.id}&quot; data-row=&quot;${row}&quot;&gt;DEL&lt;/button&gt;\n</code></pre>\n<hr />\n<p><strong>With javascript</strong></p>\n<p>If you can use javascript, I would recommend creating only a template of the modal dialog using thymeleaf, then clone it and and populate it dynamically.</p>\n<p>Example modal:</p>\n<pre><code>&lt;div class id=&quot;editModalTemplate&quot;&gt;\n  &lt;div class=&quot;modal-body&quot;&gt;\n    &lt;div class=&quot;modal-body&quot;&gt;\n       You are about to delete: &lt;div data-value=&quot;firstname&quot;/&gt; &lt;div data-value=&quot;lastname&quot;/&gt;\n\n       &lt;form action=&quot;#&quot; th:action=&quot;@{/delete/_id_}&quot; method=&quot;delete&quot;&gt;\n          &lt;input type=&quot;text&quot; hidden=&quot;true&quot; name=&quot;id&quot;&gt;\n       &lt;/form&gt;\n    &lt;/div&gt;\n\n    &lt;div class=&quot;modal-footer&quot;&gt;\n        &lt;button type=&quot;button&quot; class=&quot;btn btn-secondary&quot; data-dismiss=&quot;modal&quot;&gt;Cancel&lt;/button&gt;\n        &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot; th:href=&quot;@{/delete/{id}(id='_id_')}&quot; th:method=&quot;delete&quot;&gt;Remove&lt;/button&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p>The delete button:</p>\n<pre><code>&lt;button class=&quot;btn-delete&quot; data-id=${row.id} data-firstname=&quot;${row.firstname}&quot; data-lastname=&quot;${row.lastname}&quot;&gt;DEL&lt;/button&gt;\n</code></pre>\n<p>Javascript (using jQuery implementation as example):</p>\n<pre><code>$('.btn-delete').click(function(){\n    //clone dialog and remove ids to ensure uniqueness\n    var $modal = $('#editModalTemplate').clone().removeAttr('id');\n\n    //apply custom values where needed\n    var $btn = $(this);\n    var rowId = $btn.attr('data-id');\n    var firstname = $btn.attr('data-firstname');\n    var lastname = $btn.attr('data-lastname');\n\n    $modal.find('[data-value=&quot;firstname&quot;]').text(firstname );\n    $modal.find('[data-value=&quot;lastname&quot;]').text(lastname );\n    $modal.find('[name=&quot;id&quot;]').val($btn.attr('data-id'));\n    $modal.find('form').attr('action').replace('_id_', rowId);     \n    $modal.find('button[type=&quot;submit&quot;]').attr('href', $modal.find('button[type=&quot;submit&quot;]').attr('href').replace('_id_', rowId);\n\n    //show dialog\n    $modal.modal();\n});\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3277565,"reputation":2207,"user_id":2759097,"accept_rate":73,"display_name":"DaFois"},"score":0,"creation_date":1637844374,"post_id":70107647,"comment_id":123937482,"body_markdown":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - [From Review](/review/low-quality-posts/30430606)","body":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - <a href=\"/review/low-quality-posts/30430606\">From Review</a>"},{"owner":{"account_id":355585,"reputation":785,"user_id":694610,"accept_rate":93,"display_name":"Gustavo"},"score":1,"creation_date":1637854148,"post_id":70107647,"comment_id":123941495,"body_markdown":"You are right, I update my answer","body":"You are right, I update my answer"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1638183650,"post_id":70107647,"comment_id":124011406,"body_markdown":"So actually you&#39;re creating N versions of the modal dialog? I think if you have like 100+ rows to display, this might be inefficient, even though the modals are hidden by default.","body":"So actually you&#39;re creating N versions of the modal dialog? I think if you have like 100+ rows to display, this might be inefficient, even though the modals are hidden by default."},{"owner":{"account_id":355585,"reputation":785,"user_id":694610,"accept_rate":93,"display_name":"Gustavo"},"score":0,"creation_date":1638201656,"post_id":70107647,"comment_id":124019175,"body_markdown":"Actually no, in my case, first because the view is paginated and in other hand I&#39;m only creating the modal if certain criteria match with &quot;th:if&quot; command.","body":"Actually no, in my case, first because the view is paginated and in other hand I&#39;m only creating the modal if certain criteria match with &quot;th:if&quot; command."}],"tags":[],"owner":{"account_id":355585,"reputation":785,"user_id":694610,"accept_rate":93,"display_name":"Gustavo"},"comment_count":4,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1637854121,"creation_date":1637827543,"answer_id":70107647,"question_id":64878101,"body_markdown":"The ease solution I found, hope it helps with who is struggling, the trick is to put the modal inside the same loop of the table or div, and creating and dynamic &quot;id&quot; with the attribute sentence of thymeleaf, like is explained in this [page][1] for an older version:\r\n\r\n        &lt;tr th:each=&quot;user: ${users}&quot;&gt;\r\n        \t&lt;td &gt;&lt;a data-bs-toggle=&quot;modal&quot; data-row=&quot;${user}&quot;\r\n        \t\t\tth:attr=&quot;data-bs-target=&#39;#modal-warning&#39;+${user.id }&quot;&gt;Inactivate&lt;/a&gt; \r\n        \r\n        &lt;!--  MODAL --&gt;\r\n      &lt;div th:fragment=&quot;modal&quot; class=&quot;modal fade&quot; th:id=&quot;modal-warning+${user.id }&quot; tabindex=&quot;-1&quot;\r\n\r\nYou could also check my original post [here][2]\r\n\r\n\r\n  [1]: https://blog.nazrulkabir.com/2018/04/dynamic-modal-with-spring-boot-and-thymeleaf/\r\n  [2]: https://stackoverflow.com/questions/70100248/get-data-from-thymeleaf-to-a-modal-bootstrap-jquery/70107604#70107604","title":"How to pass object to modal dialog in Thymeleaf?","body":"<p>The ease solution I found, hope it helps with who is struggling, the trick is to put the modal inside the same loop of the table or div, and creating and dynamic &quot;id&quot; with the attribute sentence of thymeleaf, like is explained in this <a href=\"https://blog.nazrulkabir.com/2018/04/dynamic-modal-with-spring-boot-and-thymeleaf/\" rel=\"nofollow noreferrer\">page</a> for an older version:</p>\n<pre><code>    &lt;tr th:each=&quot;user: ${users}&quot;&gt;\n        &lt;td &gt;&lt;a data-bs-toggle=&quot;modal&quot; data-row=&quot;${user}&quot;\n                th:attr=&quot;data-bs-target='#modal-warning'+${user.id }&quot;&gt;Inactivate&lt;/a&gt; \n    \n    &lt;!--  MODAL --&gt;\n  &lt;div th:fragment=&quot;modal&quot; class=&quot;modal fade&quot; th:id=&quot;modal-warning+${user.id }&quot; tabindex=&quot;-1&quot;\n</code></pre>\n<p>You could also check my original post <a href=\"https://stackoverflow.com/questions/70100248/get-data-from-thymeleaf-to-a-modal-bootstrap-jquery/70107604#70107604\">here</a></p>\n"},{"tags":[],"owner":{"account_id":11930904,"reputation":136,"user_id":8730798,"display_name":"Serg Zenyuk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678384020,"creation_date":1678384020,"answer_id":75688279,"question_id":64878101,"body_markdown":"In Gustav&#39;s answer, single quotes are missing in the example for the modal window code, because of the bulky Thymeleaf code, this is important. I&#39;ve been looking for a long time since there is no debugging on the HTML page.\r\n\r\n    &lt;div th:fragment=&quot;modal&quot; class=&quot;modal fade&quot; th:id=&quot;&#39;modalWarning&#39;+${material.id}&quot;  tabindex=&quot;-1&quot;&gt;","title":"How to pass object to modal dialog in Thymeleaf?","body":"<p>In Gustav's answer, single quotes are missing in the example for the modal window code, because of the bulky Thymeleaf code, this is important. I've been looking for a long time since there is no debugging on the HTML page.</p>\n<pre><code>&lt;div th:fragment=&quot;modal&quot; class=&quot;modal fade&quot; th:id=&quot;'modalWarning'+${material.id}&quot;  tabindex=&quot;-1&quot;&gt;\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11800,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":64878476,"answer_count":3,"score":5,"last_activity_date":1678384020,"creation_date":1605626479,"question_id":64878101,"body_markdown":"I have a `thymeleaf` page that shows database content (persons) in a table.\r\n\r\n    &lt;tr id=&quot;tableBody&quot;&gt;\r\n    \t&lt;td th:text=&quot;${row.id}&quot;/&gt;\r\n    \t&lt;td th:text=&quot;${row.firstname}&quot;/&gt;\r\n    \t&lt;td th:text=&quot;${row.lastname}&quot;/&gt;\r\n    \t&lt;td&gt;\r\n    \t\t&lt;button data-toggle=&quot;modal&quot; data-target=&quot;#editModal&quot; th:data-row=&quot;${row}&quot;&gt;DEL&lt;/button&gt;\r\n    \t&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n\r\nThe last column should be a button that deletes the row. But prior, show a modal dialog with the data being deleted.\r\n\r\nQuestion: how can I pass the the full row person object to a modal dialog?\r\n\r\nI started as follows, but I&#39;m missing how I could actually pass the person object from the clicked row *into* the modal dialog as an object (so that I can show the person fields in the modal dialog again).\r\n\r\nThe following is kind of pseudo code:\r\n\r\n    &lt;div class id=&quot;editModal&quot; ...&gt;\r\n      &lt;div class=&quot;modal-body&quot;&gt;\r\n        &lt;div class=&quot;modal-body&quot;&gt;\r\n           You are about to delete: &lt;div th:text=&quot;${row.firstname}&quot;/&gt; &lt;div th:text=&quot;${row.lastname}&quot;/&gt;\r\n    \r\n           &lt;form action=&quot;#&quot; th:action=&quot;@{/delete/{id}&quot; th:object=&quot;${row}&quot; method=&quot;delete&quot;&gt;\r\n              &lt;input type=&quot;text&quot; hidden=&quot;true&quot; th:field=&quot;${row.id}&quot;&gt;\r\n           &lt;/form&gt;\r\n        &lt;/div&gt;\r\n    \r\n        &lt;div class=&quot;modal-footer&quot;&gt;\r\n            &lt;button type=&quot;button&quot; class=&quot;btn btn-secondary&quot; data-dismiss=&quot;modal&quot;&gt;Cancel&lt;/button&gt;\r\n            &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot; th:href=&quot;@{/delete/{id}(id=${row.id})}&quot; th:method=&quot;delete&quot;&gt;Remove&lt;/button&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\n","title":"How to pass object to modal dialog in Thymeleaf?","body":"<p>I have a <code>thymeleaf</code> page that shows database content (persons) in a table.</p>\n<pre><code>&lt;tr id=&quot;tableBody&quot;&gt;\n    &lt;td th:text=&quot;${row.id}&quot;/&gt;\n    &lt;td th:text=&quot;${row.firstname}&quot;/&gt;\n    &lt;td th:text=&quot;${row.lastname}&quot;/&gt;\n    &lt;td&gt;\n        &lt;button data-toggle=&quot;modal&quot; data-target=&quot;#editModal&quot; th:data-row=&quot;${row}&quot;&gt;DEL&lt;/button&gt;\n    &lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n<p>The last column should be a button that deletes the row. But prior, show a modal dialog with the data being deleted.</p>\n<p>Question: how can I pass the the full row person object to a modal dialog?</p>\n<p>I started as follows, but I'm missing how I could actually pass the person object from the clicked row <em>into</em> the modal dialog as an object (so that I can show the person fields in the modal dialog again).</p>\n<p>The following is kind of pseudo code:</p>\n<pre><code>&lt;div class id=&quot;editModal&quot; ...&gt;\n  &lt;div class=&quot;modal-body&quot;&gt;\n    &lt;div class=&quot;modal-body&quot;&gt;\n       You are about to delete: &lt;div th:text=&quot;${row.firstname}&quot;/&gt; &lt;div th:text=&quot;${row.lastname}&quot;/&gt;\n\n       &lt;form action=&quot;#&quot; th:action=&quot;@{/delete/{id}&quot; th:object=&quot;${row}&quot; method=&quot;delete&quot;&gt;\n          &lt;input type=&quot;text&quot; hidden=&quot;true&quot; th:field=&quot;${row.id}&quot;&gt;\n       &lt;/form&gt;\n    &lt;/div&gt;\n\n    &lt;div class=&quot;modal-footer&quot;&gt;\n        &lt;button type=&quot;button&quot; class=&quot;btn btn-secondary&quot; data-dismiss=&quot;modal&quot;&gt;Cancel&lt;/button&gt;\n        &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot; th:href=&quot;@{/delete/{id}(id=${row.id})}&quot; th:method=&quot;delete&quot;&gt;Remove&lt;/button&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","amazon-s3","aws-java-sdk-2.x"],"comments":[{"owner":{"account_id":14618815,"reputation":1094,"user_id":10558160,"display_name":"Chuong Nguyen"},"score":0,"creation_date":1672994760,"post_id":75028638,"comment_id":132402573,"body_markdown":"404 in s3 usually means that you are finding a object that is not exist. \n\nCan you check if you are finding the right object&#39;s key","body":"404 in s3 usually means that you are finding a object that is not exist.   Can you check if you are finding the right object&#39;s key"},{"owner":{"account_id":4487116,"reputation":429,"user_id":3649352,"accept_rate":67,"display_name":"Kunal Varpe"},"score":0,"creation_date":1672995112,"post_id":75028638,"comment_id":132402654,"body_markdown":"Yes the object is present on the localstack when I querying it using the AWS CLI I can see the test.txt preset there. Also when I am using `s3AsyncClient.utilities().getUrl(&quot;test&quot;, &quot;test.txt&quot;)` it is returning me the URL as ```http://test.localhost:4566/test.txt```","body":"Yes the object is present on the localstack when I querying it using the AWS CLI I can see the test.txt preset there. Also when I am using <code>s3AsyncClient.utilities().getUrl(&quot;test&quot;, &quot;test.txt&quot;)</code> it is returning me the URL as <code>http:&#47;&#47;test.localhost:4566&#47;test.txt</code>"}],"owner":{"account_id":4487116,"reputation":429,"user_id":3649352,"accept_rate":67,"display_name":"Kunal Varpe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":409,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678383658,"creation_date":1672994199,"question_id":75028638,"body_markdown":"I am using the `S3TransferManager` with `S3AsyncClient` in my service code. I am testing this code with localstack docker S3 service. I have the local stack S3 service and created the bucket `test` and uploaded one file `test.txt` on docker service startup.\r\n\r\nS3Config.java\r\n```java\r\n@Configuration\r\npublic class S3Configuration {\r\n  @Value(&quot;${aws.access-key}&quot;)\r\n  private String accessKey;\r\n  @Value(&quot;${aws.secret-key}&quot;)\r\n  private String secretKey;\r\n  @Value(&quot;${aws.region}&quot;)\r\n  private String region;\r\n  @Value(&quot;${aws.endpoint:#{null}}&quot;)\r\n  private String endpoint;\r\n\r\n  @Bean\r\n  public S3AsyncClient s3AsyncClient(AwsCredentialsProvider awsCredentialsProvider) {\r\n    S3CrtAsyncClientBuilder s3CrtAsyncClientBuilder = S3AsyncClient.crtBuilder()\r\n      .region(Region.of(region))\r\n      .credentialsProvider(awsCredentialsProvider)\r\n      .targetThroughputInGbps(20.0)\r\n      .minimumPartSizeInBytes(8 * MB);\r\n    if (StringUtils.hasText(endpoint)) {\r\n      s3CrtAsyncClientBuilder.endpointOverride(URI.create(endpoint));\r\n    }\r\n    return s3CrtAsyncClientBuilder.build();\r\n  }\r\n  @Bean\r\n  AwsCredentialsProvider awsCredentialsProvider() {\r\n    return () -&gt; AwsBasicCredentials.create(accessKey, secretKey);\r\n  }\r\n}\r\n```\r\nS3StorageServiceImpl:\r\n```java\r\n@Service\r\n@Primary\r\npublic class S3StorageServiceImpl implements S3StorageService {\r\n\r\n  public static final String ERROR_MSG_FORMAT = &quot;Error performing S3 client operation&quot;;\r\n  private static final Logger LOG = LoggerFactory.getLogger(S3StorageServiceImpl.class);\r\n  private final S3AsyncClient s3AsyncClient;\r\n\r\n  public S3StorageServiceImpl(S3AsyncClient s3AsyncClient) {\r\n    this.s3AsyncClient = s3AsyncClient;\r\n  }\r\n\r\n  @Override\r\n  public byte[] downloadAsByteArray(String bucketName, String keyName) {\r\n    try (S3TransferManager transferManager = S3TransferManager.builder().s3Client(s3AsyncClient).build()) {\r\n      DownloadRequest &lt; ResponseBytes &lt; GetObjectResponse &gt;&gt; downloadFileRequest =\r\n        DownloadRequest.builder()\r\n        .getObjectRequest(req -&gt; req.bucket(bucketName).key(keyName))\r\n        .responseTransformer(AsyncResponseTransformer.toBytes())\r\n        .addTransferListener(LoggingTransferListener.create())\r\n        .build();\r\n\r\n      // Wait for the transfer to complete\r\n      return transferManager.download(downloadFileRequest).completionFuture()\r\n        .thenApply(CompletedDownload::result)\r\n        .thenApply(BytesWrapper::asByteArray)\r\n        .join();\r\n    } catch (CompletionException e) {\r\n      LOG.error(ERROR_MSG_FORMAT, e);\r\n      return new byte[0];\r\n    }\r\n  }\r\n}\r\n```\r\ndocker compose for localstack service:\r\n```yaml\r\nversion: &#39;3.4&#39;\r\n  localstack:\r\n    container_name: &quot;localstack_main&quot;\r\n    image: localstack/localstack\r\n    ports:\r\n      - &quot;4566-4599:4566-4599&quot;\r\n    environment:\r\n      - SERVICES=s3\r\n      - AWS_DEFAULT_REGION=us-east-1\r\n    volumes:\r\n      - ./docker/files/test.txt:/home/docker/data/test.txt\r\n      - ./docker/files/init-s3-bucket.sh:/docker-entrypoint-initaws.d/init-s3-bucket.sh\r\n```\r\nAbove `/docker/files/` is local directory from project. And init-s3-bucket.sh contains the AWS cli code to create the test bucket and upload the test.txt file.\r\n\r\nSpring Boot test :\r\n```java\r\n@SpringBootTest(classes = {\r\n  S3StorageServiceImpl.class,\r\n  S3Configuration.class\r\n})\r\nclass S3StorageServiceImplTest {\r\n\r\n  @Autowired\r\n  private S3StorageService s3StorageService;\r\n\r\n  @Test\r\n  void downloadAsByteArray() {\r\n    byte[] byteArray = s3StorageService.downloadAsByteArray(&quot;test&quot;, &quot;test.txt&quot;);\r\n    assertThat(byteArray).isNotEmpty();\r\n  }\r\n}\r\n```\r\n\r\n`applicaton-test.yml` has `aws.endpoint=http://localhost:4566` so that it can connect localstack container.\r\n\r\nWhen I am running the test getting below error\r\n\r\n```code\r\njava.util.concurrent.CompletionException: software.amazon.awssdk.services.s3.model.S3Exception: null (Service: S3, Status Code: 404, Request ID: 98gby23UsHdBcGi4dwT3T4BNjeMa3hyFMS0coOqQMmD1Y3TL4sVu, Extended Request ID: MzRISOwyjmnup7C0E0AFC7D5516C77/JypPGXLh0OVFGcJaaO3KW/hRAqKOpIEEp)\r\n\tat software.amazon.awssdk.utils.CompletableFutureUtils.errorAsCompletionException(CompletableFutureUtils.java:65)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.AsyncExecutionFailureExceptionReportingStage.lambda$execute$0(AsyncExecutionFailureExceptionReportingStage.java:51)\r\n\tat java.base/java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:934)\r\n\tat java.base/java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:911)\r\n\tat java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\r\n\tat java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2162)\r\n\tat software.amazon.awssdk.utils.CompletableFutureUtils.lambda$forwardExceptionTo$0(CompletableFutureUtils.java:79)\r\n\tat java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863)\r\n\tat java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:841)\r\n\tat java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\r\n\tat java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2162)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.AsyncRetryableStage$RetryingExecutor.maybeAttemptExecute(AsyncRetryableStage.java:103)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.AsyncRetryableStage$RetryingExecutor.maybeRetryExecute(AsyncRetryableStage.java:184)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.AsyncRetryableStage$RetryingExecutor.lambda$attemptExecute$1(AsyncRetryableStage.java:170)\r\n\tat java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863)\r\n\tat java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:841)\r\n\tat java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\r\n\tat java.base/java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2147)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.MakeAsyncHttpRequestStage.lambda$null$0(MakeAsyncHttpRequestStage.java:105)\r\n\tat java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863)\r\n\tat java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:841)\r\n\tat java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\r\n\tat java.base/java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2147)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.MakeAsyncHttpRequestStage.lambda$executeHttpRequest$3(MakeAsyncHttpRequestStage.java:163)\r\n\tat java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863)\r\n\tat java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:841)\r\n\tat java.base/java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:482)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: software.amazon.awssdk.services.s3.model.S3Exception: null (Service: S3, Status Code: 404, Request ID: 98gby23UsHdBcGi4dwT3T4BNjeMa3hyFMS0coOqQMmD1Y3TL4sVu, Extended Request ID: MzRISOwyjmnup7C0E0AFC7D5516C77/JypPGXLh0OVFGcJaaO3KW/hRAqKOpIEEp)\r\n\tat software.amazon.awssdk.services.s3.model.S3Exception$BuilderImpl.build(S3Exception.java:104)\r\n\tat software.amazon.awssdk.services.s3.model.S3Exception$BuilderImpl.build(S3Exception.java:58)\r\n\tat software.amazon.awssdk.protocols.query.internal.unmarshall.AwsXmlErrorUnmarshaller.unmarshall(AwsXmlErrorUnmarshaller.java:99)\r\n\tat software.amazon.awssdk.protocols.query.unmarshall.AwsXmlErrorProtocolUnmarshaller.handle(AwsXmlErrorProtocolUnmarshaller.java:102)\r\n\tat software.amazon.awssdk.protocols.query.unmarshall.AwsXmlErrorProtocolUnmarshaller.handle(AwsXmlErrorProtocolUnmarshaller.java:82)\r\n\tat software.amazon.awssdk.core.http.MetricCollectingHttpResponseHandler.lambda$handle$0(MetricCollectingHttpResponseHandler.java:52)\r\n\tat software.amazon.awssdk.core.internal.util.MetricUtils.measureDurationUnsafe(MetricUtils.java:63)\r\n\tat software.amazon.awssdk.core.http.MetricCollectingHttpResponseHandler.handle(MetricCollectingHttpResponseHandler.java:52)\r\n\tat software.amazon.awssdk.core.internal.http.async.AsyncResponseHandler.lambda$prepare$0(AsyncResponseHandler.java:89)\r\n\tat java.base/java.util.concurrent.CompletableFuture$UniCompose.tryFire(CompletableFuture.java:1150)\r\n\tat java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\r\n\tat java.base/java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2147)\r\n\tat software.amazon.awssdk.core.internal.http.async.AsyncResponseHandler$BaosSubscriber.onComplete(AsyncResponseHandler.java:132)\r\n\tat software.amazon.awssdk.utils.async.SimplePublisher.doProcessQueue(SimplePublisher.java:275)\r\n\tat software.amazon.awssdk.utils.async.SimplePublisher.processEventQueue(SimplePublisher.java:224)\r\n\tat software.amazon.awssdk.utils.async.SimplePublisher.complete(SimplePublisher.java:157)\r\n\tat java.base/java.util.concurrent.CompletableFuture.uniRunNow(CompletableFuture.java:819)\r\n\tat java.base/java.util.concurrent.CompletableFuture.uniRunStage(CompletableFuture.java:803)\r\n\tat java.base/java.util.concurrent.CompletableFuture.thenRun(CompletableFuture.java:2195)\r\n\tat software.amazon.awssdk.services.s3.internal.crt.S3CrtResponseHandlerAdapter.onErrorResponseComplete(S3CrtResponseHandlerAdapter.java:135)\r\n\tat software.amazon.awssdk.services.s3.internal.crt.S3CrtResponseHandlerAdapter.handleError(S3CrtResponseHandlerAdapter.java:124)\r\n\tat software.amazon.awssdk.services.s3.internal.crt.S3CrtResponseHandlerAdapter.onFinished(S3CrtResponseHandlerAdapter.java:93)\r\n\tat software.amazon.awssdk.crt.s3.S3MetaRequestResponseHandlerNativeAdapter.onFinished(S3MetaRequestResponseHandlerNativeAdapter.java:24)\r\n\r\n\r\njava.lang.AssertionError: \r\nExpecting actual not to be empty\r\n```\t\r\n\r\nI have created repo with miniman reproducible example. Please find it [here](https://github.com/kunalvarpe/aws-demo.git)","title":"Getting `S3Exception` when executing download operation with `S3TransferManager` AWS SDK 2.19","body":"<p>I am using the <code>S3TransferManager</code> with <code>S3AsyncClient</code> in my service code. I am testing this code with localstack docker S3 service. I have the local stack S3 service and created the bucket <code>test</code> and uploaded one file <code>test.txt</code> on docker service startup.</p>\n<p>S3Config.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class S3Configuration {\n  @Value(&quot;${aws.access-key}&quot;)\n  private String accessKey;\n  @Value(&quot;${aws.secret-key}&quot;)\n  private String secretKey;\n  @Value(&quot;${aws.region}&quot;)\n  private String region;\n  @Value(&quot;${aws.endpoint:#{null}}&quot;)\n  private String endpoint;\n\n  @Bean\n  public S3AsyncClient s3AsyncClient(AwsCredentialsProvider awsCredentialsProvider) {\n    S3CrtAsyncClientBuilder s3CrtAsyncClientBuilder = S3AsyncClient.crtBuilder()\n      .region(Region.of(region))\n      .credentialsProvider(awsCredentialsProvider)\n      .targetThroughputInGbps(20.0)\n      .minimumPartSizeInBytes(8 * MB);\n    if (StringUtils.hasText(endpoint)) {\n      s3CrtAsyncClientBuilder.endpointOverride(URI.create(endpoint));\n    }\n    return s3CrtAsyncClientBuilder.build();\n  }\n  @Bean\n  AwsCredentialsProvider awsCredentialsProvider() {\n    return () -&gt; AwsBasicCredentials.create(accessKey, secretKey);\n  }\n}\n</code></pre>\n<p>S3StorageServiceImpl:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@Primary\npublic class S3StorageServiceImpl implements S3StorageService {\n\n  public static final String ERROR_MSG_FORMAT = &quot;Error performing S3 client operation&quot;;\n  private static final Logger LOG = LoggerFactory.getLogger(S3StorageServiceImpl.class);\n  private final S3AsyncClient s3AsyncClient;\n\n  public S3StorageServiceImpl(S3AsyncClient s3AsyncClient) {\n    this.s3AsyncClient = s3AsyncClient;\n  }\n\n  @Override\n  public byte[] downloadAsByteArray(String bucketName, String keyName) {\n    try (S3TransferManager transferManager = S3TransferManager.builder().s3Client(s3AsyncClient).build()) {\n      DownloadRequest &lt; ResponseBytes &lt; GetObjectResponse &gt;&gt; downloadFileRequest =\n        DownloadRequest.builder()\n        .getObjectRequest(req -&gt; req.bucket(bucketName).key(keyName))\n        .responseTransformer(AsyncResponseTransformer.toBytes())\n        .addTransferListener(LoggingTransferListener.create())\n        .build();\n\n      // Wait for the transfer to complete\n      return transferManager.download(downloadFileRequest).completionFuture()\n        .thenApply(CompletedDownload::result)\n        .thenApply(BytesWrapper::asByteArray)\n        .join();\n    } catch (CompletionException e) {\n      LOG.error(ERROR_MSG_FORMAT, e);\n      return new byte[0];\n    }\n  }\n}\n</code></pre>\n<p>docker compose for localstack service:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>version: '3.4'\n  localstack:\n    container_name: &quot;localstack_main&quot;\n    image: localstack/localstack\n    ports:\n      - &quot;4566-4599:4566-4599&quot;\n    environment:\n      - SERVICES=s3\n      - AWS_DEFAULT_REGION=us-east-1\n    volumes:\n      - ./docker/files/test.txt:/home/docker/data/test.txt\n      - ./docker/files/init-s3-bucket.sh:/docker-entrypoint-initaws.d/init-s3-bucket.sh\n</code></pre>\n<p>Above <code>/docker/files/</code> is local directory from project. And init-s3-bucket.sh contains the AWS cli code to create the test bucket and upload the test.txt file.</p>\n<p>Spring Boot test :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(classes = {\n  S3StorageServiceImpl.class,\n  S3Configuration.class\n})\nclass S3StorageServiceImplTest {\n\n  @Autowired\n  private S3StorageService s3StorageService;\n\n  @Test\n  void downloadAsByteArray() {\n    byte[] byteArray = s3StorageService.downloadAsByteArray(&quot;test&quot;, &quot;test.txt&quot;);\n    assertThat(byteArray).isNotEmpty();\n  }\n}\n</code></pre>\n<p><code>applicaton-test.yml</code> has <code>aws.endpoint=http://localhost:4566</code> so that it can connect localstack container.</p>\n<p>When I am running the test getting below error</p>\n<pre><code>java.util.concurrent.CompletionException: software.amazon.awssdk.services.s3.model.S3Exception: null (Service: S3, Status Code: 404, Request ID: 98gby23UsHdBcGi4dwT3T4BNjeMa3hyFMS0coOqQMmD1Y3TL4sVu, Extended Request ID: MzRISOwyjmnup7C0E0AFC7D5516C77/JypPGXLh0OVFGcJaaO3KW/hRAqKOpIEEp)\n    at software.amazon.awssdk.utils.CompletableFutureUtils.errorAsCompletionException(CompletableFutureUtils.java:65)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.AsyncExecutionFailureExceptionReportingStage.lambda$execute$0(AsyncExecutionFailureExceptionReportingStage.java:51)\n    at java.base/java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:934)\n    at java.base/java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:911)\n    at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\n    at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2162)\n    at software.amazon.awssdk.utils.CompletableFutureUtils.lambda$forwardExceptionTo$0(CompletableFutureUtils.java:79)\n    at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863)\n    at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:841)\n    at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\n    at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2162)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.AsyncRetryableStage$RetryingExecutor.maybeAttemptExecute(AsyncRetryableStage.java:103)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.AsyncRetryableStage$RetryingExecutor.maybeRetryExecute(AsyncRetryableStage.java:184)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.AsyncRetryableStage$RetryingExecutor.lambda$attemptExecute$1(AsyncRetryableStage.java:170)\n    at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863)\n    at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:841)\n    at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\n    at java.base/java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2147)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.MakeAsyncHttpRequestStage.lambda$null$0(MakeAsyncHttpRequestStage.java:105)\n    at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863)\n    at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:841)\n    at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\n    at java.base/java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2147)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.MakeAsyncHttpRequestStage.lambda$executeHttpRequest$3(MakeAsyncHttpRequestStage.java:163)\n    at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863)\n    at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:841)\n    at java.base/java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:482)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: software.amazon.awssdk.services.s3.model.S3Exception: null (Service: S3, Status Code: 404, Request ID: 98gby23UsHdBcGi4dwT3T4BNjeMa3hyFMS0coOqQMmD1Y3TL4sVu, Extended Request ID: MzRISOwyjmnup7C0E0AFC7D5516C77/JypPGXLh0OVFGcJaaO3KW/hRAqKOpIEEp)\n    at software.amazon.awssdk.services.s3.model.S3Exception$BuilderImpl.build(S3Exception.java:104)\n    at software.amazon.awssdk.services.s3.model.S3Exception$BuilderImpl.build(S3Exception.java:58)\n    at software.amazon.awssdk.protocols.query.internal.unmarshall.AwsXmlErrorUnmarshaller.unmarshall(AwsXmlErrorUnmarshaller.java:99)\n    at software.amazon.awssdk.protocols.query.unmarshall.AwsXmlErrorProtocolUnmarshaller.handle(AwsXmlErrorProtocolUnmarshaller.java:102)\n    at software.amazon.awssdk.protocols.query.unmarshall.AwsXmlErrorProtocolUnmarshaller.handle(AwsXmlErrorProtocolUnmarshaller.java:82)\n    at software.amazon.awssdk.core.http.MetricCollectingHttpResponseHandler.lambda$handle$0(MetricCollectingHttpResponseHandler.java:52)\n    at software.amazon.awssdk.core.internal.util.MetricUtils.measureDurationUnsafe(MetricUtils.java:63)\n    at software.amazon.awssdk.core.http.MetricCollectingHttpResponseHandler.handle(MetricCollectingHttpResponseHandler.java:52)\n    at software.amazon.awssdk.core.internal.http.async.AsyncResponseHandler.lambda$prepare$0(AsyncResponseHandler.java:89)\n    at java.base/java.util.concurrent.CompletableFuture$UniCompose.tryFire(CompletableFuture.java:1150)\n    at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\n    at java.base/java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2147)\n    at software.amazon.awssdk.core.internal.http.async.AsyncResponseHandler$BaosSubscriber.onComplete(AsyncResponseHandler.java:132)\n    at software.amazon.awssdk.utils.async.SimplePublisher.doProcessQueue(SimplePublisher.java:275)\n    at software.amazon.awssdk.utils.async.SimplePublisher.processEventQueue(SimplePublisher.java:224)\n    at software.amazon.awssdk.utils.async.SimplePublisher.complete(SimplePublisher.java:157)\n    at java.base/java.util.concurrent.CompletableFuture.uniRunNow(CompletableFuture.java:819)\n    at java.base/java.util.concurrent.CompletableFuture.uniRunStage(CompletableFuture.java:803)\n    at java.base/java.util.concurrent.CompletableFuture.thenRun(CompletableFuture.java:2195)\n    at software.amazon.awssdk.services.s3.internal.crt.S3CrtResponseHandlerAdapter.onErrorResponseComplete(S3CrtResponseHandlerAdapter.java:135)\n    at software.amazon.awssdk.services.s3.internal.crt.S3CrtResponseHandlerAdapter.handleError(S3CrtResponseHandlerAdapter.java:124)\n    at software.amazon.awssdk.services.s3.internal.crt.S3CrtResponseHandlerAdapter.onFinished(S3CrtResponseHandlerAdapter.java:93)\n    at software.amazon.awssdk.crt.s3.S3MetaRequestResponseHandlerNativeAdapter.onFinished(S3MetaRequestResponseHandlerNativeAdapter.java:24)\n\n\njava.lang.AssertionError: \nExpecting actual not to be empty\n</code></pre>\n<p>I have created repo with miniman reproducible example. Please find it <a href=\"https://github.com/kunalvarpe/aws-demo.git\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":["java","image","base64","jakarta-mail"],"answers":[{"tags":[],"owner":{"account_id":1032936,"reputation":29649,"user_id":1040885,"display_name":"Bill Shannon"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1392187796,"creation_date":1392187796,"answer_id":21720675,"question_id":21703817,"body_markdown":"Since the image isn&#39;t in a separate body part, PreencodedMimeBodyPart won&#39;t help you.\r\n\r\nHow are you base64 encoding the image?\r\n\r\nAn alternative is to use a multipart/related message, with the image in a separate part, referenced using a cid: URL.","title":"How to embed base64 image to an email using javamail","body":"<p>Since the image isn't in a separate body part, PreencodedMimeBodyPart won't help you.</p>\n\n<p>How are you base64 encoding the image?</p>\n\n<p>An alternative is to use a multipart/related message, with the image in a separate part, referenced using a cid: URL.</p>\n"},{"comments":[{"owner":{"account_id":391137,"reputation":3154,"user_id":751634,"accept_rate":84,"display_name":"Jensen Ching"},"score":2,"creation_date":1396592437,"post_id":21722221,"comment_id":34866613,"body_markdown":"Using `pmp.setContent( pairs.getValue(), &#39;image/png&#39; );` is better than `pmp.setText( pairs.getValue() );`.","body":"Using <code>pmp.setContent( pairs.getValue(), &#39;image&#47;png&#39; );</code> is better than <code>pmp.setText( pairs.getValue() );</code>."}],"tags":[],"owner":{"account_id":1086503,"reputation":258,"user_id":1082087,"display_name":"mbagiella"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1392193037,"creation_date":1392193037,"answer_id":21722221,"question_id":21703817,"body_markdown":"Ok guys I found my answers, I don&#39;t know if I&#39;m doing right, but is working.\r\n\r\nHere my code :\r\n\r\n    private static final Pattern imgRegExp  = Pattern.compile( &quot;&lt;img[^&gt;]+src\\\\s*=\\\\s*[&#39;\\&quot;]([^&#39;\\&quot;]+)[&#39;\\&quot;][^&gt;]*&gt;&quot; );\r\n    public send(email) throws Exception{\r\n\r\n       Map&lt;String, String&gt; inlineImage = new HashMap&lt;String, String&gt;();\r\n       String body = email.getBody();\r\n       final Matcher matcher = imgRegExp.matcher( body );\r\n       int i = 0;\r\n       while ( matcher.find() ) {\r\n          String src = matcher.group();\r\n          if ( body.indexOf( src ) != -1 ) {\r\n             String srcToken = &quot;src=\\&quot;&quot;;\r\n             int x = src.indexOf( srcToken );\r\n             int y = src.indexOf( &quot;\\&quot;&quot;, x + srcToken.length() );\r\n             String srcText = src.substring( x + srcToken.length(), y );\r\n             String cid = &quot;image&quot; + i;\r\n             String newSrc = src.replace( srcText, &quot;cid:&quot; + cid );\r\n             inlineImage.put( cid, srcText.split( &quot;,&quot; )[1] );\r\n             body = body.replace( src, newSrc );\r\n             i++;\r\n          }\r\n       }\r\n       Transport transport = mailSession.getTransport();\r\n       MimeMessage message = new MimeMessage( mailSession );\r\n       message.setSubject( email.getObjet() );\r\n       message.setSender( new InternetAddress( email.getSender() ) );\r\n       message.setFrom( new InternetAddress( email.getFrom()) );\r\n       BodyPart bp = new MimeBodyPart();\r\n       bp.setContent( body, &quot;text/html&quot; );\r\n       MimeMultipart mmp = new MimeMultipart();\r\n       mmp.addBodyPart( bp );\r\n       Iterator&lt;Entry&lt;String, String&gt;&gt; it = inlineImage.entrySet().iterator();\r\n       while ( it.hasNext() ) {\r\n          Entry&lt;String, String&gt; pairs = it.next();\r\n          PreencodedMimeBodyPart pmp = new PreencodedMimeBodyPart( &quot;base64&quot; );\r\n          pmp.setHeader( &quot;Content-ID&quot;, &quot;&lt;&quot; + pairs.getKey() + &quot;&gt;&quot; );\r\n          pmp.setDisposition( MimeBodyPart.INLINE );\r\n          pmp.setText( pairs.getValue() );\r\n          mmp.addBodyPart( pmp );\r\n       }\r\n       message.setContent( mmp );\r\n       message.addRecipient( Message.RecipientType.TO, new InternetAddress( email.getTo() ) );\r\n       transport.connect();\r\n       transport.sendMessage( message, message.getAllRecipients() );\r\n       transport.close();\r\n    }\r\n\r\nThanks to help me to improve if it need to be improved :)","title":"How to embed base64 image to an email using javamail","body":"<p>Ok guys I found my answers, I don't know if I'm doing right, but is working.</p>\n\n<p>Here my code :</p>\n\n<pre><code>private static final Pattern imgRegExp  = Pattern.compile( \"&lt;img[^&gt;]+src\\\\s*=\\\\s*['\\\"]([^'\\\"]+)['\\\"][^&gt;]*&gt;\" );\npublic send(email) throws Exception{\n\n   Map&lt;String, String&gt; inlineImage = new HashMap&lt;String, String&gt;();\n   String body = email.getBody();\n   final Matcher matcher = imgRegExp.matcher( body );\n   int i = 0;\n   while ( matcher.find() ) {\n      String src = matcher.group();\n      if ( body.indexOf( src ) != -1 ) {\n         String srcToken = \"src=\\\"\";\n         int x = src.indexOf( srcToken );\n         int y = src.indexOf( \"\\\"\", x + srcToken.length() );\n         String srcText = src.substring( x + srcToken.length(), y );\n         String cid = \"image\" + i;\n         String newSrc = src.replace( srcText, \"cid:\" + cid );\n         inlineImage.put( cid, srcText.split( \",\" )[1] );\n         body = body.replace( src, newSrc );\n         i++;\n      }\n   }\n   Transport transport = mailSession.getTransport();\n   MimeMessage message = new MimeMessage( mailSession );\n   message.setSubject( email.getObjet() );\n   message.setSender( new InternetAddress( email.getSender() ) );\n   message.setFrom( new InternetAddress( email.getFrom()) );\n   BodyPart bp = new MimeBodyPart();\n   bp.setContent( body, \"text/html\" );\n   MimeMultipart mmp = new MimeMultipart();\n   mmp.addBodyPart( bp );\n   Iterator&lt;Entry&lt;String, String&gt;&gt; it = inlineImage.entrySet().iterator();\n   while ( it.hasNext() ) {\n      Entry&lt;String, String&gt; pairs = it.next();\n      PreencodedMimeBodyPart pmp = new PreencodedMimeBodyPart( \"base64\" );\n      pmp.setHeader( \"Content-ID\", \"&lt;\" + pairs.getKey() + \"&gt;\" );\n      pmp.setDisposition( MimeBodyPart.INLINE );\n      pmp.setText( pairs.getValue() );\n      mmp.addBodyPart( pmp );\n   }\n   message.setContent( mmp );\n   message.addRecipient( Message.RecipientType.TO, new InternetAddress( email.getTo() ) );\n   transport.connect();\n   transport.sendMessage( message, message.getAllRecipients() );\n   transport.close();\n}\n</code></pre>\n\n<p>Thanks to help me to improve if it need to be improved :)</p>\n"},{"tags":[],"owner":{"account_id":1464103,"reputation":2882,"user_id":1377498,"accept_rate":88,"display_name":"Muhammad Suleman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678383398,"creation_date":1678382468,"answer_id":75688004,"question_id":21703817,"body_markdown":"Try Below!\r\n\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.Properties;\r\n    import java.util.stream.Collectors;\r\n    \r\n    import javax.imageio.ImageIO;\r\n    import javax.mail.Authenticator;\r\n    import javax.mail.Message;\r\n    import javax.mail.Message.RecipientType;\r\n    import javax.mail.MessagingException;\r\n    import javax.mail.PasswordAuthentication;\r\n    import javax.mail.Session;\r\n    import javax.mail.Transport;\r\n    import javax.mail.internet.AddressException;\r\n    import javax.mail.internet.InternetAddress;\r\n    import javax.mail.internet.MimeBodyPart;\r\n    import javax.mail.internet.MimeMultipart;\r\n\r\n    private File getImgFile(String data, String cid) throws IOException {\r\n\t\tString base64Image = data.split(&quot;,&quot;)[1];\r\n\t\tbyte[] imageBytes = javax.xml.bind.DatatypeConverter.parseBase64Binary(base64Image);\r\n\r\n\t\tBufferedImage img = ImageIO.read(new ByteArrayInputStream(imageBytes));\r\n\r\n\t\tFile outputfile = new File(cid);\r\n\t\tImageIO.write(img, &quot;jpg&quot;, outputfile);\r\n\t\treturn outputfile;\r\n\t}\r\n\r\n\tpublic Message buildMessageWithEmbeddedImage(Session session) throws MessagingException, IOException {\r\n\t\tSMTPMessage m = new SMTPMessage(session);\r\n\t\tMimeMultipart content = new MimeMultipart(&quot;related&quot;);\r\n\r\n\t\tMimeBodyPart textPart = new MimeBodyPart();\r\n\t\t\r\n\t\tString html = &quot;HTML&quot;; //Your HTML having Base64 Encoded Images\r\n\t\tString[] parts = html.split(&quot;src=\\&quot;&quot;);\r\n\t\t\r\n\t\tMap&lt;String, File&gt; map = new HashMap&lt;&gt;();\r\n\t\tString revisedHTML = parts[0];\r\n\t\tfor(int i=1; i&lt;parts.length; i++) {\r\n\t\t\tString img = parts[i].substring(0, parts[i].indexOf(&quot;\\&quot;&quot;));\r\n\t\t\tString cid = ContentIdGenerator.getContentId();\r\n\t\t\tFile f = getImgFile(img, cid);\r\n\t\t\tmap.put(cid, f);\r\n\t\t\trevisedHTML+= &quot;src=\\&quot;cid:&quot;+cid+&quot;\\&quot; &quot;+parts[i].substring(parts[i].indexOf(&quot;\\&quot;&quot;), parts[i].length());\r\n\t\t}\r\n\t\ttextPart.setText(revisedHTML, &quot;US-ASCII&quot;, &quot;html&quot;);\r\n\t\tcontent.addBodyPart(textPart);\r\n\t\t\r\n\t\tfor (String k : map.keySet()) {\r\n\t\t\t// Image part\r\n\t\t\tMimeBodyPart imagePart = new MimeBodyPart();\r\n\t\t\timagePart.attachFile(map.get(k));\r\n\t\t\timagePart.setContentID(&quot;&lt;&quot; + k + &quot;&gt;&quot;);\r\n\t\t\timagePart.setDisposition(MimeBodyPart.INLINE);\r\n\t\t\tcontent.addBodyPart(imagePart);\r\n\t\t}\r\n\r\n\t\tm.setContent(content);\r\n\t\tm.setSubject(&quot;Your Email Subject&quot;);\r\n\t\treturn m;\r\n\t}\r\n\r\n**Note:** Image files will be created on your project root folder you can delete if you want to delete after sending email. But make sure delete after email sent.","title":"How to embed base64 image to an email using javamail","body":"<p>Try Below!</p>\n<pre><code>import java.awt.image.BufferedImage;\nimport java.io.ByteArrayInputStream;\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Properties;\nimport java.util.stream.Collectors;\n\nimport javax.imageio.ImageIO;\nimport javax.mail.Authenticator;\nimport javax.mail.Message;\nimport javax.mail.Message.RecipientType;\nimport javax.mail.MessagingException;\nimport javax.mail.PasswordAuthentication;\nimport javax.mail.Session;\nimport javax.mail.Transport;\nimport javax.mail.internet.AddressException;\nimport javax.mail.internet.InternetAddress;\nimport javax.mail.internet.MimeBodyPart;\nimport javax.mail.internet.MimeMultipart;\n\nprivate File getImgFile(String data, String cid) throws IOException {\n    String base64Image = data.split(&quot;,&quot;)[1];\n    byte[] imageBytes = javax.xml.bind.DatatypeConverter.parseBase64Binary(base64Image);\n\n    BufferedImage img = ImageIO.read(new ByteArrayInputStream(imageBytes));\n\n    File outputfile = new File(cid);\n    ImageIO.write(img, &quot;jpg&quot;, outputfile);\n    return outputfile;\n}\n\npublic Message buildMessageWithEmbeddedImage(Session session) throws MessagingException, IOException {\n    SMTPMessage m = new SMTPMessage(session);\n    MimeMultipart content = new MimeMultipart(&quot;related&quot;);\n\n    MimeBodyPart textPart = new MimeBodyPart();\n    \n    String html = &quot;HTML&quot;; //Your HTML having Base64 Encoded Images\n    String[] parts = html.split(&quot;src=\\&quot;&quot;);\n    \n    Map&lt;String, File&gt; map = new HashMap&lt;&gt;();\n    String revisedHTML = parts[0];\n    for(int i=1; i&lt;parts.length; i++) {\n        String img = parts[i].substring(0, parts[i].indexOf(&quot;\\&quot;&quot;));\n        String cid = ContentIdGenerator.getContentId();\n        File f = getImgFile(img, cid);\n        map.put(cid, f);\n        revisedHTML+= &quot;src=\\&quot;cid:&quot;+cid+&quot;\\&quot; &quot;+parts[i].substring(parts[i].indexOf(&quot;\\&quot;&quot;), parts[i].length());\n    }\n    textPart.setText(revisedHTML, &quot;US-ASCII&quot;, &quot;html&quot;);\n    content.addBodyPart(textPart);\n    \n    for (String k : map.keySet()) {\n        // Image part\n        MimeBodyPart imagePart = new MimeBodyPart();\n        imagePart.attachFile(map.get(k));\n        imagePart.setContentID(&quot;&lt;&quot; + k + &quot;&gt;&quot;);\n        imagePart.setDisposition(MimeBodyPart.INLINE);\n        content.addBodyPart(imagePart);\n    }\n\n    m.setContent(content);\n    m.setSubject(&quot;Your Email Subject&quot;);\n    return m;\n}\n</code></pre>\n<p><strong>Note:</strong> Image files will be created on your project root folder you can delete if you want to delete after sending email. But make sure delete after email sent.</p>\n"}],"owner":{"account_id":1086503,"reputation":258,"user_id":1082087,"display_name":"mbagiella"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8102,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":21722221,"answer_count":3,"score":6,"last_activity_date":1678383398,"creation_date":1392126888,"question_id":21703817,"body_markdown":"I&#39;m trying to send email from javamail with embeded base64 image (img alt=&#39;image PNG&#39; src=&#39;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgA...AElFTkSuQmCC&#39;&quot;)\r\n\r\nIt&#39;s working with small image but when images are bigger the image doesnt show in lotus note.\r\n\r\nHere a part of the code\r\n\r\n    Transport transport = mailSession.getTransport();\r\n    MimeMessage message = new MimeMessage( mailSession );\r\n    message.setSubject( subject );\r\n    message.setFrom( new InternetAddress( me) );\r\n    message.setContent( bodyWithEmbeddedBase64Image, &quot;text/html&quot; );\r\n    transport.connect();\r\n    transport.sendMessage( message, message.getAllRecipients() );\r\n    transport.close();`\r\n\r\nI would like to use PreencodedMimeBodyPart to test it but I don&#39;t know how to use it\r\nCan someone help me please :) ?\r\n\r\n","title":"How to embed base64 image to an email using javamail","body":"<p>I'm trying to send email from javamail with embeded base64 image (img alt='image PNG' src='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgA...AElFTkSuQmCC'\")</p>\n\n<p>It's working with small image but when images are bigger the image doesnt show in lotus note.</p>\n\n<p>Here a part of the code</p>\n\n<pre><code>Transport transport = mailSession.getTransport();\nMimeMessage message = new MimeMessage( mailSession );\nmessage.setSubject( subject );\nmessage.setFrom( new InternetAddress( me) );\nmessage.setContent( bodyWithEmbeddedBase64Image, \"text/html\" );\ntransport.connect();\ntransport.sendMessage( message, message.getAllRecipients() );\ntransport.close();`\n</code></pre>\n\n<p>I would like to use PreencodedMimeBodyPart to test it but I don't know how to use it\nCan someone help me please :) ?</p>\n"},{"tags":["java","maven","repository","pom.xml","workfusion"],"answers":[{"tags":[],"owner":{"account_id":455917,"reputation":6566,"user_id":854386,"accept_rate":86,"display_name":"Andrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678382865,"creation_date":1678382865,"answer_id":75688079,"question_id":75255865,"body_markdown":"It looks like you have different urls for the same repository id configured in different places (between `pom.xml` and `.m2/settings.xml`).\r\n\r\nMake sure that repository url is identical and always references `groups/dependencies`:\r\n\r\n```\r\n&lt;repository&gt;\r\n    &lt;id&gt;wf-dependencies&lt;/id&gt;\r\n    &lt;url&gt;https://repository.workfusion.com/content/groups/dependencies/&lt;/url&gt;\r\n&lt;/repository&gt;\r\n```","title":"Getting build success in local but not able to resolve dependencies through jenkins ci/cd pipeline","body":"<p>It looks like you have different urls for the same repository id configured in different places (between <code>pom.xml</code> and <code>.m2/settings.xml</code>).</p>\n<p>Make sure that repository url is identical and always references <code>groups/dependencies</code>:</p>\n<pre><code>&lt;repository&gt;\n    &lt;id&gt;wf-dependencies&lt;/id&gt;\n    &lt;url&gt;https://repository.workfusion.com/content/groups/dependencies/&lt;/url&gt;\n&lt;/repository&gt;\n</code></pre>\n"}],"owner":{"account_id":6911888,"reputation":161,"user_id":5307407,"accept_rate":70,"display_name":"Nitin Rathod"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678382865,"creation_date":1674809789,"question_id":75255865,"body_markdown":"Below is the Main POM file of my project\r\n\r\n    &lt;repositories&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;wf-dependencies&lt;/id&gt;\r\n\t\t\t&lt;name&gt;WorkFusion Nexus Repository - dependencies&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repository.workfusion.com/content/groups/dependencies/&lt;/url&gt;\r\n\t\t\t&lt;releases&gt;\r\n\t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n\t\t\t\t&lt;updatePolicy&gt;daily&lt;/updatePolicy&gt;\r\n\t\t\t&lt;/releases&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n\t\t\t\t&lt;updatePolicy&gt;always&lt;/updatePolicy&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/repositories&gt;\r\n\r\n\t&lt;pluginRepositories&gt;\r\n\t\t&lt;pluginRepository&gt;\r\n\t\t\t&lt;id&gt;wf-dependencies&lt;/id&gt;\r\n\t\t\t&lt;url&gt;https://repository.workfusion.com/content/repositories/wf-dependencies&lt;/url&gt;\r\n\t\t&lt;/pluginRepository&gt;\r\n\t&lt;/pluginRepositories&gt;\r\n\r\nWhen I do clean install on my local machine I get build success. But when This code goes through jenkins pipeline it gives us below error\r\n\r\n    Failed to execute goal on project pfs-eagle-bcb: Could not resolve dependencies for project \r\n    com.hpe.automation:pfs-eagle-bcb:jar:1.0.0: The following artifacts could not be resolved: \r\n    com.workfusion.automation.rpa:rpa-custom-elements:jar:1.4, com.workfusion.idp:idp- \r\n    commons:jar:2.0.6: Could not find artifact com.workfusion.automation.rpa:rpa-custom- \r\n    elements:jar:1.4 in wf-dependencies \r\n    (https://repository.workfusion.com/content/repositories/wf-dependencies/) -&gt; [Help 1]\r\n\r\nabove two dependencies exist in **content/groups** but not in **content/repositories**. So I have configured both the repositories in my main pom.xml file still some how through jenkins it only checks in maven central repository and this repository- **https://repository.workfusion.com/content/repositories/wf-dependencies/** not in **content/groups**\r\n\r\nAlso I have checked settings.xml file for jenkins, Only **content/repositories** - this dependency url is used and not **content/groups**","title":"Getting build success in local but not able to resolve dependencies through jenkins ci/cd pipeline","body":"<p>Below is the Main POM file of my project</p>\n<pre><code>&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;wf-dependencies&lt;/id&gt;\n        &lt;name&gt;WorkFusion Nexus Repository - dependencies&lt;/name&gt;\n        &lt;url&gt;https://repository.workfusion.com/content/groups/dependencies/&lt;/url&gt;\n        &lt;releases&gt;\n            &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;updatePolicy&gt;daily&lt;/updatePolicy&gt;\n        &lt;/releases&gt;\n        &lt;snapshots&gt;\n            &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;updatePolicy&gt;always&lt;/updatePolicy&gt;\n        &lt;/snapshots&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n\n&lt;pluginRepositories&gt;\n    &lt;pluginRepository&gt;\n        &lt;id&gt;wf-dependencies&lt;/id&gt;\n        &lt;url&gt;https://repository.workfusion.com/content/repositories/wf-dependencies&lt;/url&gt;\n    &lt;/pluginRepository&gt;\n&lt;/pluginRepositories&gt;\n</code></pre>\n<p>When I do clean install on my local machine I get build success. But when This code goes through jenkins pipeline it gives us below error</p>\n<pre><code>Failed to execute goal on project pfs-eagle-bcb: Could not resolve dependencies for project \ncom.hpe.automation:pfs-eagle-bcb:jar:1.0.0: The following artifacts could not be resolved: \ncom.workfusion.automation.rpa:rpa-custom-elements:jar:1.4, com.workfusion.idp:idp- \ncommons:jar:2.0.6: Could not find artifact com.workfusion.automation.rpa:rpa-custom- \nelements:jar:1.4 in wf-dependencies \n(https://repository.workfusion.com/content/repositories/wf-dependencies/) -&gt; [Help 1]\n</code></pre>\n<p>above two dependencies exist in <strong>content/groups</strong> but not in <strong>content/repositories</strong>. So I have configured both the repositories in my main pom.xml file still some how through jenkins it only checks in maven central repository and this repository- <strong><a href=\"https://repository.workfusion.com/content/repositories/wf-dependencies/\" rel=\"nofollow noreferrer\">https://repository.workfusion.com/content/repositories/wf-dependencies/</a></strong> not in <strong>content/groups</strong></p>\n<p>Also I have checked settings.xml file for jenkins, Only <strong>content/repositories</strong> - this dependency url is used and not <strong>content/groups</strong></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":323211,"reputation":43672,"user_id":643085,"accept_rate":100,"display_name":"Fede"},"score":4,"creation_date":1387902170,"post_id":20763857,"comment_id":31118830,"body_markdown":"that is a bad encoding (probably HTML or XML-related). It should be `&amp;&amp;`.","body":"that is a bad encoding (probably HTML or XML-related). It should be <code>&amp;&amp;</code>."}],"answers":[{"comments":[{"owner":{"account_id":3697360,"reputation":173,"user_id":3078305,"accept_rate":94,"display_name":"user202051"},"score":0,"creation_date":1387902388,"post_id":20763880,"comment_id":31118934,"body_markdown":"Yes. The two ampersands seem to represent &amp;&amp;. You are correct I am unsure of why they have changed for this piece of code I found. Thank you, Ciaran","body":"Yes. The two ampersands seem to represent &amp;&amp;. You are correct I am unsure of why they have changed for this piece of code I found. Thank you, Ciaran"}],"tags":[],"owner":{"account_id":297720,"reputation":9132,"user_id":603369,"display_name":"Palpatim"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1387902172,"creation_date":1387902172,"answer_id":20763880,"question_id":20763857,"body_markdown":"That looks like a mis-encoding of a Java file. I&#39;m only aware of the `&amp;&amp;` operator, which is logical AND.","title":"What does &amp;amp do in Java?","body":"<p>That looks like a mis-encoding of a Java file. I'm only aware of the <code>&amp;&amp;</code> operator, which is logical AND.</p>\n"},{"tags":[],"owner":{"account_id":51914,"reputation":67911,"user_id":155137,"accept_rate":91,"display_name":"Martijn Courteaux"},"comment_count":0,"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1678382863,"creation_date":1387902204,"answer_id":20763890,"question_id":20763857,"body_markdown":"You are copy pasting code from a badly encoded website. This `&amp;amp;` should be replaced with an ampersand (`&amp;`).\r\n\r\nIn HTML, you cannot simply write `&amp;`, because that is an escape character. So, in history, they invented the [escape sequence][1] for ampersands, which is: `&amp;amp;`. That is what the website is showing you unfortunately.\r\n\r\nSo, to answer the question: `&amp;amp;&amp;amp;` should be: `&amp;&amp;`. That is the logical AND operator.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Escape_sequence","title":"What does &amp;amp do in Java?","body":"<p>You are copy pasting code from a badly encoded website. This <code>&amp;amp;</code> should be replaced with an ampersand (<code>&amp;</code>).</p>\n<p>In HTML, you cannot simply write <code>&amp;</code>, because that is an escape character. So, in history, they invented the <a href=\"https://en.wikipedia.org/wiki/Escape_sequence\" rel=\"nofollow noreferrer\">escape sequence</a> for ampersands, which is: <code>&amp;amp;</code>. That is what the website is showing you unfortunately.</p>\n<p>So, to answer the question: <code>&amp;amp;&amp;amp;</code> should be: <code>&amp;&amp;</code>. That is the logical AND operator.</p>\n"},{"tags":[],"owner":{"account_id":1816200,"reputation":18958,"user_id":1651233,"accept_rate":67,"display_name":"BobTheBuilder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1387902216,"creation_date":1387902216,"answer_id":20763893,"question_id":20763857,"body_markdown":"`&amp;amp;` is the HTML escaped version of `&amp;`.\r\n\r\nYou should replace all `&amp;amp;` with `&amp;`","title":"What does &amp;amp do in Java?","body":"<p><code>&amp;amp;</code> is the HTML escaped version of <code>&amp;</code>.</p>\n\n<p>You should replace all <code>&amp;amp;</code> with <code>&amp;</code></p>\n"},{"tags":[],"owner":{"account_id":2203118,"reputation":21177,"user_id":1947008,"display_name":"Anton Kovalenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1387902227,"creation_date":1387902227,"answer_id":20763896,"question_id":20763857,"body_markdown":"There is no &amp;amp;amp; in java, it&#39;s obviously a result of copy-paste from an HTML page. Replace &amp;amp;amp; with &amp;amp; to fix it.","title":"What does &amp;amp do in Java?","body":"<p>There is no &amp;amp; in java, it's obviously a result of copy-paste from an HTML page. Replace &amp;amp; with &amp; to fix it.</p>\n"},{"tags":[],"owner":{"account_id":32264,"reputation":7769,"user_id":89339,"accept_rate":100,"display_name":"bn."},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1387902246,"creation_date":1387902246,"answer_id":20763900,"question_id":20763857,"body_markdown":"This looks like an encoding problem with the source file.  \r\n\r\n`&amp;amp;` is the ampersand character from the **ISO-8859-1** character set.","title":"What does &amp;amp do in Java?","body":"<p>This looks like an encoding problem with the source file.  </p>\n\n<p><code>&amp;amp;</code> is the ampersand character from the <strong>ISO-8859-1</strong> character set.</p>\n"},{"tags":[],"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1387902307,"creation_date":1387902307,"answer_id":20763917,"question_id":20763857,"body_markdown":"In Java you have:\r\n\r\n - boolean AND --&gt; `&amp;&amp;`\r\n - bitwise AND --&gt; `&amp;`\r\n\r\nYour issue is that your code contains XML entities that haven&#39;t been successfully decoded, so `&amp;amp;` means `&amp;`, just as `&amp;gt;` would mean `&gt;`.","title":"What does &amp;amp do in Java?","body":"<p>In Java you have:</p>\n\n<ul>\n<li>boolean AND --> <code>&amp;&amp;</code></li>\n<li>bitwise AND --> <code>&amp;</code></li>\n</ul>\n\n<p>Your issue is that your code contains XML entities that haven't been successfully decoded, so <code>&amp;amp;</code> means <code>&amp;</code>, just as <code>&amp;gt;</code> would mean <code>&gt;</code>.</p>\n"}],"owner":{"account_id":3697360,"reputation":173,"user_id":3078305,"accept_rate":94,"display_name":"user202051"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21397,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":20763890,"answer_count":6,"score":2,"last_activity_date":1678382863,"creation_date":1387902067,"question_id":20763857,"body_markdown":"Im looking over a piece of Java code I didn&#39;t write and noticed that it included &amp;amp in it in a few places. Its a piece of code from a infix to postfix notation converter.\r\n\r\nIf I put this piece of code in Eclipse it dosn&#39;t like these &amp;amps and creates errors for them, the error being `&amp;amp cannot be resolved as a variable`.\r\n\r\nHeres the code\r\n\r\n    public static String[] infixToRPN(String[] inputTokens) {\r\n    \tArrayList&lt;String&gt; out = new ArrayList&lt;String&gt;();\r\n    \tStack&lt;String&gt; stack = new Stack&lt;String&gt;();\r\n    \t// For all the input tokens [S1] read the next token [S2]\r\n    \tfor (String token : inputTokens) {\r\n    \t\tif (isOperator(token)) {\r\n    \t\t\t// If token is an operator (x) [S3]\r\n    \t\t\twhile (!stack.empty() &amp;amp;&amp;amp; isOperator(stack.peek())) {\r\n    \t\t\t\t// [S4]\r\n    \t\t\t\tif ((isAssociative(token, LEFT_ASSOC) &amp;amp;&amp;amp; cmpPrecedence(\r\n    \t\t\t\t\t\ttoken, stack.peek()) &lt;= 0)\r\n    \t\t\t\t\t\t|| (isAssociative(token, RIGHT_ASSOC) &amp;amp;&amp;amp; cmpPrecedence(\r\n    \t\t\t\t\t\t\t\ttoken, stack.peek()) &lt; 0)) {\r\n    \t\t\t\t\tout.add(stack.pop()); \t// [S5] [S6]\r\n    \t\t\t\t\tcontinue;\r\n    \t\t\t\t}\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t\t// Push the new operator on the stack [S7]\r\n    \t\t\tstack.push(token);\r\n    \t\t} else if (token.equals(&quot;(&quot;)) {\r\n    \t\t\tstack.push(token); \t// [S8]\r\n    \t\t} else if (token.equals(&quot;)&quot;)) {\r\n    \t\t\t// [S9]\r\n    \t\t\twhile (!stack.empty() &amp;amp;&amp;amp; !stack.peek().equals(&quot;(&quot;)) {\r\n    \t\t\t\tout.add(stack.pop()); // [S10]\r\n    \t\t\t}\r\n    \t\t\tstack.pop(); // [S11]\r\n    \t\t} else {\r\n    \t\t\tout.add(token); // [S12]\r\n    \t\t}\r\n    \t}\r\n    \twhile (!stack.empty()) {\r\n    \t\tout.add(stack.pop()); // [S13]\r\n    \t}\r\n    \tString[] output = new String[out.size()];\r\n    \treturn out.toArray(output);\r\n    }","title":"What does &amp;amp do in Java?","body":"<p>Im looking over a piece of Java code I didn't write and noticed that it included &amp;amp in it in a few places. Its a piece of code from a infix to postfix notation converter.</p>\n\n<p>If I put this piece of code in Eclipse it dosn't like these &amp;amps and creates errors for them, the error being <code>&amp;amp cannot be resolved as a variable</code>.</p>\n\n<p>Heres the code</p>\n\n<pre><code>public static String[] infixToRPN(String[] inputTokens) {\n    ArrayList&lt;String&gt; out = new ArrayList&lt;String&gt;();\n    Stack&lt;String&gt; stack = new Stack&lt;String&gt;();\n    // For all the input tokens [S1] read the next token [S2]\n    for (String token : inputTokens) {\n        if (isOperator(token)) {\n            // If token is an operator (x) [S3]\n            while (!stack.empty() &amp;amp;&amp;amp; isOperator(stack.peek())) {\n                // [S4]\n                if ((isAssociative(token, LEFT_ASSOC) &amp;amp;&amp;amp; cmpPrecedence(\n                        token, stack.peek()) &lt;= 0)\n                        || (isAssociative(token, RIGHT_ASSOC) &amp;amp;&amp;amp; cmpPrecedence(\n                                token, stack.peek()) &lt; 0)) {\n                    out.add(stack.pop());   // [S5] [S6]\n                    continue;\n                }\n                break;\n            }\n            // Push the new operator on the stack [S7]\n            stack.push(token);\n        } else if (token.equals(\"(\")) {\n            stack.push(token);  // [S8]\n        } else if (token.equals(\")\")) {\n            // [S9]\n            while (!stack.empty() &amp;amp;&amp;amp; !stack.peek().equals(\"(\")) {\n                out.add(stack.pop()); // [S10]\n            }\n            stack.pop(); // [S11]\n        } else {\n            out.add(token); // [S12]\n        }\n    }\n    while (!stack.empty()) {\n        out.add(stack.pop()); // [S13]\n    }\n    String[] output = new String[out.size()];\n    return out.toArray(output);\n}\n</code></pre>\n"},{"tags":["java","spring-boot","audio","file-conversion"],"comments":[{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1678384959,"post_id":75688074,"comment_id":133526709,"body_markdown":"Which version of JAVE are you using? Judging by the line numbers in the stack trace it appears to be quite old. 3.0.1 contains [this change](https://github.com/a-schild/jave2/pull/117) which may fix your problem.","body":"Which version of JAVE are you using? Judging by the line numbers in the stack trace it appears to be quite old. 3.0.1 contains <a href=\"https://github.com/a-schild/jave2/pull/117\" rel=\"nofollow noreferrer\">this change</a> which may fix your problem."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1678390640,"post_id":75688074,"comment_id":133528093,"body_markdown":"Parameter `wavByte` is not used in the code you posted...","body":"Parameter <code>wavByte</code> is not used in the code you posted..."},{"owner":{"account_id":12437064,"reputation":141,"user_id":9057026,"display_name":"Luigi105"},"score":0,"creation_date":1678452596,"post_id":75688074,"comment_id":133539877,"body_markdown":"It&#39;s a typo, it&#39;s wavData.\n\n@AndyWilkinson thanks for the suggest, actually I&#39;m using JAVE 2, I&#39;ll try with JAVE 3.0.1","body":"It&#39;s a typo, it&#39;s wavData.  @AndyWilkinson thanks for the suggest, actually I&#39;m using JAVE 2, I&#39;ll try with JAVE 3.0.1"}],"owner":{"account_id":12437064,"reputation":141,"user_id":9057026,"display_name":"Luigi105"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678382851,"creation_date":1678382851,"question_id":75688074,"body_markdown":"I&#39;ve a byte[] in Java Spring Boot that represents a .wav file.\r\nI would like to convert it in a .MP3 file. I tried with JAVE, but it doesnt work. This is my code.\r\n\r\n\r\n    public byte[] convertToMP3(byte[] wavByte) {\r\n \r\n        File wavFile = File.createTempFile(&quot;temp&quot;, &quot;.wav&quot;);\r\n        Files.write(wavFile.toPath(), wavData, StandardOpenOption.CREATE);\r\n\r\n        File outputFile = File.createTempFile(&quot;output&quot;, &quot;.mp3&quot;);\r\n        \r\n\r\n        \r\n        AudioAttributes audio = new AudioAttributes();\r\n        audio.setCodec(&quot;libmp3lame&quot;);\r\n        audio.setBitRate(new Integer(128000));\r\n        audio.setChannels(new Integer(2));\r\n        audio.setSamplingRate(new Integer(44100));\r\n        EncodingAttributes attrs = new EncodingAttributes();\r\n        attrs.setFormat(&quot;mp3&quot;);\r\n        attrs.setAudioAttributes(audio);\r\n\r\n        \r\n        Encoder encoder = new Encoder();\r\n        MultimediaObject multimediaObject = new MultimediaObject(wavFile);\r\n        encoder.encode(multimediaObject, outputFile, attrs);\r\n\r\n        \r\n        byte[] mp3Bytes = Files.readAllBytes(outputFile.toPath());\r\n        return mp3Bytes;\r\n    }\r\n\r\n\r\nI&#39;ve this error\r\n\r\n    unhandled exception: \r\n    java.lang.NullPointerException: null\r\n            at java.base/java.util.Objects.requireNonNull(Objects.java:208)\r\n            at java.base/java.nio.file.Files.copy(Files.java:3112)\r\n            at ws.schild.jave.DefaultFFMPEGLocator.copy(DefaultFFMPEGLocator.java:124)\r\n            at ws.schild.jave.DefaultFFMPEGLocator.copyFile(DefaultFFMPEGLocator.java:109)\r\n            at ws.schild.jave.DefaultFFMPEGLocator.&lt;init&gt;(DefaultFFMPEGLocator.java:73)\r\n            at ws.schild.jave.Encoder.&lt;init&gt;(Encoder.java:77)\r\n\r\n\r\nis there any way to do it in Spring Boot? What&#39;s the problem here?","title":"Convert wav in mp3 in Java Spring Boot","body":"<p>I've a byte[] in Java Spring Boot that represents a .wav file.\nI would like to convert it in a .MP3 file. I tried with JAVE, but it doesnt work. This is my code.</p>\n<pre><code>public byte[] convertToMP3(byte[] wavByte) {\n\n    File wavFile = File.createTempFile(&quot;temp&quot;, &quot;.wav&quot;);\n    Files.write(wavFile.toPath(), wavData, StandardOpenOption.CREATE);\n\n    File outputFile = File.createTempFile(&quot;output&quot;, &quot;.mp3&quot;);\n    \n\n    \n    AudioAttributes audio = new AudioAttributes();\n    audio.setCodec(&quot;libmp3lame&quot;);\n    audio.setBitRate(new Integer(128000));\n    audio.setChannels(new Integer(2));\n    audio.setSamplingRate(new Integer(44100));\n    EncodingAttributes attrs = new EncodingAttributes();\n    attrs.setFormat(&quot;mp3&quot;);\n    attrs.setAudioAttributes(audio);\n\n    \n    Encoder encoder = new Encoder();\n    MultimediaObject multimediaObject = new MultimediaObject(wavFile);\n    encoder.encode(multimediaObject, outputFile, attrs);\n\n    \n    byte[] mp3Bytes = Files.readAllBytes(outputFile.toPath());\n    return mp3Bytes;\n}\n</code></pre>\n<p>I've this error</p>\n<pre><code>unhandled exception: \njava.lang.NullPointerException: null\n        at java.base/java.util.Objects.requireNonNull(Objects.java:208)\n        at java.base/java.nio.file.Files.copy(Files.java:3112)\n        at ws.schild.jave.DefaultFFMPEGLocator.copy(DefaultFFMPEGLocator.java:124)\n        at ws.schild.jave.DefaultFFMPEGLocator.copyFile(DefaultFFMPEGLocator.java:109)\n        at ws.schild.jave.DefaultFFMPEGLocator.&lt;init&gt;(DefaultFFMPEGLocator.java:73)\n        at ws.schild.jave.Encoder.&lt;init&gt;(Encoder.java:77)\n</code></pre>\n<p>is there any way to do it in Spring Boot? What's the problem here?</p>\n"},{"tags":["java","android","mockito"],"owner":{"account_id":3579384,"reputation":10125,"user_id":2987953,"accept_rate":49,"display_name":"lannyf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678382430,"creation_date":1678382430,"question_id":75687995,"body_markdown":"It needs to test a function is called after timer delay.\r\n\r\nWith mockito \r\n```\r\n    testImplementation &quot;org.mockito:mockito-inline:4.8.1&quot;\r\n```\r\nthe class to be tested\r\n```\r\npublic class SimplifiedClass {\r\n    private Timer mTimer;\r\n\r\n    public SimplifiedClass() {\r\n        mTimer = new Timer();\r\n    }\r\n\r\n    public void setTimer (final Timer timer) {\r\n        mTimer = timer;\r\n    }\r\n\r\n    public void delayExecute(final Runnable task, int interval) {\r\n        mTimer.schedule(new TimerTask() {\r\n            @Override\r\n            public void run() {\r\n                task.run();\r\n            }\r\n        }, interval);\r\n    }\r\n    ......\r\n}\r\n```\r\nthe test\r\n```\r\n@RunWith(RobolectricTestRunner.class)\r\npublic class TheTest {\r\n\r\n    private Timer mMockTimer;\r\n    private SimplifiedClass mScheduleTask;\r\n\r\n    private static final int sINTERNAL = 1000;\r\n\r\n    // for verify\r\n    private long mDelay;\r\n\r\n    @Before\r\n    public void setUp() {\r\n        mScheduleTask = new SimplifiedClass();\r\n        mMockTimer = spy(new Timer()); //mock(Timer.class);\r\n        // stubs a void method with custom code\r\n        doAnswer(new Answer() {\r\n            @Override\r\n            public Object answer(InvocationOnMock invocation) throws Throwable {// not called???\r\n                Object[] args = invocation.getArguments();\r\n                TimerTask task = (TimerTask)args[0];\r\n\r\n                System.out.println(&quot;+++ in mock timer.answer(), call task.run(); task:&quot;+task+&quot;; args[1]:&quot;+args[1]);\r\n\r\n                task.run();\r\n                mDelay = (long)args[1];\r\n                return null;\r\n            }\r\n        }).when(mMockTimer).schedule(any(), anyInt());\r\n        mScheduleTask.setTimer(mMockTimer); // set the mocked Timer\r\n    }\r\n\r\n    @Test\r\n    public void test_ScheduleTask() {\r\n\r\n        CountDownLatch latch = new CountDownLatch(1);\r\n        mScheduleTask.delayExecute(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n\r\n                System.out.println(&quot;+++ @@@ mScheduleTask.delayExecute.Runnable.run(); this:&quot;+this);\r\n                /// do something\r\n                latch.countDown();\r\n            }\r\n        }, sINTERNAL);\r\n\r\n\r\n        boolean b = false;\r\n        try {\r\n            b = latch.await(50, TimeUnit.SECONDS);\r\n        } catch (InterruptedException e) {}\r\n\r\n        assertEquals(sINTERNAL, mDelay);\r\n\r\n    }\r\n}\r\n```\r\nthe \r\n```\r\ndoAnswer(new Answer() {\r\n            @Override\r\n            public Object answer(InvocationOnMock invocation) throws Throwable {\r\n                ... ...}\r\n        }).when(mMockTimer).schedule(any(), anyInt());\r\n```\r\nis not called. anything might be missing?\r\n","title":"mockito, stub Timer.schedule() does not work","body":"<p>It needs to test a function is called after timer delay.</p>\n<p>With mockito</p>\n<pre><code>    testImplementation &quot;org.mockito:mockito-inline:4.8.1&quot;\n</code></pre>\n<p>the class to be tested</p>\n<pre><code>public class SimplifiedClass {\n    private Timer mTimer;\n\n    public SimplifiedClass() {\n        mTimer = new Timer();\n    }\n\n    public void setTimer (final Timer timer) {\n        mTimer = timer;\n    }\n\n    public void delayExecute(final Runnable task, int interval) {\n        mTimer.schedule(new TimerTask() {\n            @Override\n            public void run() {\n                task.run();\n            }\n        }, interval);\n    }\n    ......\n}\n</code></pre>\n<p>the test</p>\n<pre><code>@RunWith(RobolectricTestRunner.class)\npublic class TheTest {\n\n    private Timer mMockTimer;\n    private SimplifiedClass mScheduleTask;\n\n    private static final int sINTERNAL = 1000;\n\n    // for verify\n    private long mDelay;\n\n    @Before\n    public void setUp() {\n        mScheduleTask = new SimplifiedClass();\n        mMockTimer = spy(new Timer()); //mock(Timer.class);\n        // stubs a void method with custom code\n        doAnswer(new Answer() {\n            @Override\n            public Object answer(InvocationOnMock invocation) throws Throwable {// not called???\n                Object[] args = invocation.getArguments();\n                TimerTask task = (TimerTask)args[0];\n\n                System.out.println(&quot;+++ in mock timer.answer(), call task.run(); task:&quot;+task+&quot;; args[1]:&quot;+args[1]);\n\n                task.run();\n                mDelay = (long)args[1];\n                return null;\n            }\n        }).when(mMockTimer).schedule(any(), anyInt());\n        mScheduleTask.setTimer(mMockTimer); // set the mocked Timer\n    }\n\n    @Test\n    public void test_ScheduleTask() {\n\n        CountDownLatch latch = new CountDownLatch(1);\n        mScheduleTask.delayExecute(new Runnable() {\n            @Override\n            public void run() {\n\n                System.out.println(&quot;+++ @@@ mScheduleTask.delayExecute.Runnable.run(); this:&quot;+this);\n                /// do something\n                latch.countDown();\n            }\n        }, sINTERNAL);\n\n\n        boolean b = false;\n        try {\n            b = latch.await(50, TimeUnit.SECONDS);\n        } catch (InterruptedException e) {}\n\n        assertEquals(sINTERNAL, mDelay);\n\n    }\n}\n</code></pre>\n<p>the</p>\n<pre><code>doAnswer(new Answer() {\n            @Override\n            public Object answer(InvocationOnMock invocation) throws Throwable {\n                ... ...}\n        }).when(mMockTimer).schedule(any(), anyInt());\n</code></pre>\n<p>is not called. anything might be missing?</p>\n"},{"tags":["java","vaadin","vaadin-flow"],"comments":[{"owner":{"account_id":1831742,"reputation":1989,"user_id":1662997,"display_name":"Knoobie"},"score":1,"creation_date":1678295407,"post_id":75676030,"comment_id":133506302,"body_markdown":"If you change your logic to have a List&lt;String&gt; as options and use RadioButtonGroup you have a similar behavior you desire, where you can check the options later on (present in list = true, missing = false)","body":"If you change your logic to have a List&lt;String&gt; as options and use RadioButtonGroup you have a similar behavior you desire, where you can check the options later on (present in list = true, missing = false)"}],"answers":[{"comments":[{"owner":{"account_id":16978019,"reputation":11,"user_id":12280777,"display_name":"Brickscrap"},"score":0,"creation_date":1678800701,"post_id":75687993,"comment_id":133600676,"body_markdown":"This is more or less how I ended up doing it - I use an `EnumSet` and a switch statement, so anything in the `EnumSet` calls the necessary setter method. Then do the inverse with `EnumSet.complementOf()`\nI&#39;ll mark this one as the accepted answer","body":"This is more or less how I ended up doing it - I use an <code>EnumSet</code> and a switch statement, so anything in the <code>EnumSet</code> calls the necessary setter method. Then do the inverse with <code>EnumSet.complementOf()</code> I&#39;ll mark this one as the accepted answer"}],"tags":[],"owner":{"account_id":3837378,"reputation":35488,"user_id":3181392,"display_name":"cfrick"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678382421,"creation_date":1678382421,"answer_id":75687993,"question_id":75676030,"body_markdown":"I think there is no one-liner shortcut.  The reason it&#39;s not &quot;easy&quot; is\r\nbecause this looks like you are pushing something beyond a boundary,\r\nthat should have better stayed on the other side.  If I&#39;d had to guess,\r\nI&#39;d say your are dealing with a database row and you want to edit \r\ndirectly in the GUI, but the modelling of the data in the table does not\r\nmatch up, what the actual domain or even the GUI representation of it\r\nis.\r\n\r\nSo the proper way to handle this would be to use a model for the GUI\r\nthat at least hides the implementation detail, that is giving you\r\na headache.  Hide the db-implementation details from the GUI.\r\n\r\nIf you absolutely have to use that class for whatever reason: consider\r\nadding a synthetic getter/setter for a `Set&lt;SomeEnum&gt;` that represents\r\nthe group of booleans you want to represent in the GUI.  Then you put an\r\nenum for every set boolean in the set and vice versa.  Then use the\r\n`CheckboxGroup&lt;Set&lt;SomeEnum&gt;&gt;` in your GUI.\r\n\r\nIf even that is out of the question, then you could put this\r\ngetter/setter in when binding the form (e.g. instead of binding via\r\nproperty name); basically the same as above, but without changing the\r\noriginal class.\r\n","title":"How can I create a CheckboxGroup linking each checkbox to boolean values of an object?","body":"<p>I think there is no one-liner shortcut.  The reason it's not &quot;easy&quot; is\nbecause this looks like you are pushing something beyond a boundary,\nthat should have better stayed on the other side.  If I'd had to guess,\nI'd say your are dealing with a database row and you want to edit\ndirectly in the GUI, but the modelling of the data in the table does not\nmatch up, what the actual domain or even the GUI representation of it\nis.</p>\n<p>So the proper way to handle this would be to use a model for the GUI\nthat at least hides the implementation detail, that is giving you\na headache.  Hide the db-implementation details from the GUI.</p>\n<p>If you absolutely have to use that class for whatever reason: consider\nadding a synthetic getter/setter for a <code>Set&lt;SomeEnum&gt;</code> that represents\nthe group of booleans you want to represent in the GUI.  Then you put an\nenum for every set boolean in the set and vice versa.  Then use the\n<code>CheckboxGroup&lt;Set&lt;SomeEnum&gt;&gt;</code> in your GUI.</p>\n<p>If even that is out of the question, then you could put this\ngetter/setter in when binding the form (e.g. instead of binding via\nproperty name); basically the same as above, but without changing the\noriginal class.</p>\n"}],"owner":{"account_id":16978019,"reputation":11,"user_id":12280777,"display_name":"Brickscrap"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75687993,"answer_count":1,"score":0,"last_activity_date":1678382421,"creation_date":1678294802,"question_id":75676030,"body_markdown":"I have an object with a bunch of boolean fields as below:\r\n``` JAVA\r\npublic class ContainsBooleans {\r\n    private boolean aBoolean = true;\r\n    private boolean anotherBoolean = false;\r\n...\r\n}\r\n```\r\n\r\nWith getters and setters as usual. I&#39;m trying to create a CheckboxGroup which contains a Checkbox for each boolean field in the object, binding to the respective fields.\r\n\r\nI&#39;ve tried creating a Checkbox individually for each field, but I can&#39;t figure out how to add them to the CheckboxGroup (and also can&#39;t figure out which type the CheckboxGroup&lt;T&gt; should be), as if I have CheckboxGroup&lt;String&gt;, I obviously can&#39;t add Checkboxes to the CheckboxGroup, and I can&#39;t figure out how the mapping from each Checkbox to the boolean is done.\r\n\r\nBasically my POJO class has a number of booleans which can be enabled/disabled, and I want the interface to have a checkbox representing each.\r\n\r\nI don&#39;t have much more code to show at all really, there doesn&#39;t seem to be any documentation on CheckboxGroup&lt;T&gt;, so I&#39;m not even sure where to start","title":"How can I create a CheckboxGroup linking each checkbox to boolean values of an object?","body":"<p>I have an object with a bunch of boolean fields as below:</p>\n<pre><code>public class ContainsBooleans {\n    private boolean aBoolean = true;\n    private boolean anotherBoolean = false;\n...\n}\n</code></pre>\n<p>With getters and setters as usual. I'm trying to create a CheckboxGroup which contains a Checkbox for each boolean field in the object, binding to the respective fields.</p>\n<p>I've tried creating a Checkbox individually for each field, but I can't figure out how to add them to the CheckboxGroup (and also can't figure out which type the CheckboxGroup should be), as if I have CheckboxGroup, I obviously can't add Checkboxes to the CheckboxGroup, and I can't figure out how the mapping from each Checkbox to the boolean is done.</p>\n<p>Basically my POJO class has a number of booleans which can be enabled/disabled, and I want the interface to have a checkbox representing each.</p>\n<p>I don't have much more code to show at all really, there doesn't seem to be any documentation on CheckboxGroup, so I'm not even sure where to start</p>\n"},{"tags":["java","java-11","ktor","dokku"],"answers":[{"tags":[],"owner":{"account_id":47535,"reputation":2101,"user_id":1515875,"display_name":"Jose Diaz-Gonzalez"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678381353,"creation_date":1678381353,"answer_id":75687786,"question_id":75683928,"body_markdown":"If deploying via the official heroku buildpack for java, you can specify a `java.runtime.version` in your `system.properties` as documented [here](https://devcenter.heroku.com/articles/java-support#specifying-a-java-version).\r\n\r\nexample:\r\n\r\n```\r\njava.runtime.version=11\r\n```","title":"How to properly change Java Runtime on Dokku app container?","body":"<p>If deploying via the official heroku buildpack for java, you can specify a <code>java.runtime.version</code> in your <code>system.properties</code> as documented <a href=\"https://devcenter.heroku.com/articles/java-support#specifying-a-java-version\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>example:</p>\n<pre><code>java.runtime.version=11\n</code></pre>\n"}],"owner":{"account_id":179653,"reputation":1561,"user_id":412466,"display_name":"Aleksandar Ilic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75687786,"answer_count":1,"score":0,"last_activity_date":1678381353,"creation_date":1678360955,"question_id":75683928,"body_markdown":"I&#39;m running a Ktor backend app inside of a Dokku container on a server. It seems that by default Java8 is used. How can I properly change Java Runtime on dokku container to be Java 11?\r\n\r\nI&#39;m not sure if I should enter the dokku app container and update the Java, or is there some configuration available that I can use either on the dokku or my Ktor project side, or something else.","title":"How to properly change Java Runtime on Dokku app container?","body":"<p>I'm running a Ktor backend app inside of a Dokku container on a server. It seems that by default Java8 is used. How can I properly change Java Runtime on dokku container to be Java 11?</p>\n<p>I'm not sure if I should enter the dokku app container and update the Java, or is there some configuration available that I can use either on the dokku or my Ktor project side, or something else.</p>\n"},{"tags":["java","lambda","functional-programming","java-stream"],"answers":[{"comments":[{"owner":{"display_name":"user21348253"},"score":0,"creation_date":1678353197,"post_id":75681803,"comment_id":133516901,"body_markdown":"Thanks a lot, voted up. I concluded `.filter(pet -&gt; types.getIds().isEmpty() ? true : types.getIds().contains(pet.getType().getId()))` that seems a little bit cleaner.","body":"Thanks a lot, voted up. I concluded <code>.filter(pet -&gt; types.getIds().isEmpty() ? true : types.getIds().contains(pet.getType().getId()))</code> that seems a little bit cleaner."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1678355377,"post_id":75681803,"comment_id":133517555,"body_markdown":"@ferry Ternary expressions should never use boolean literals. You should use Thomas&#39; `||` formulation.","body":"@ferry Ternary expressions should never use boolean literals. You should use Thomas&#39; <code>||</code> formulation."},{"owner":{"display_name":"user21348253"},"score":0,"creation_date":1678360548,"post_id":75681803,"comment_id":133518997,"body_markdown":"Hmmm, then I switch to that solution, thanks a lot.","body":"Hmmm, then I switch to that solution, thanks a lot."}],"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678348587,"creation_date":1678348587,"answer_id":75681803,"question_id":75681774,"body_markdown":"How about\r\n\r\n    return petRepository.findAll().stream()\r\n                .filter(x -&gt; types.getIds().isEmpty() ||\r\n                             types.getIds().contains(x.getType().getId()))\r\n                .collect(Collectors.groupingBy(x -&gt; x.getType().getName(), Collectors.counting()));","title":"Java Stream : How to filter conditionally?","body":"<p>How about</p>\n<pre><code>return petRepository.findAll().stream()\n            .filter(x -&gt; types.getIds().isEmpty() ||\n                         types.getIds().contains(x.getType().getId()))\n            .collect(Collectors.groupingBy(x -&gt; x.getType().getName(), Collectors.counting()));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1678351167,"post_id":75681878,"comment_id":133516302,"body_markdown":"Yes: It sounds like the most efficient solution","body":"Yes: It sounds like the most efficient solution"},{"owner":{"display_name":"user21348253"},"score":0,"creation_date":1678353227,"post_id":75681878,"comment_id":133516915,"body_markdown":"Thanks a lot, voted up. I concluded `.filter(pet -&gt; types.getIds().isEmpty() ? true : types.getIds().contains(pet.getType().getId()))` that seems a little bit cleaner.","body":"Thanks a lot, voted up. I concluded <code>.filter(pet -&gt; types.getIds().isEmpty() ? true : types.getIds().contains(pet.getType().getId()))</code> that seems a little bit cleaner."}],"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1678373250,"creation_date":1678349198,"answer_id":75681878,"question_id":75681774,"body_markdown":"If you don&#39;t want to check for empty on every `x`, you can put the whole lambda in a ternary expression:\r\n\r\n    return petRepository.findAll().stream()\r\n                .filter(types.getIds().isEmpty() ? x -&gt; true \r\n                        : x -&gt; types.getIds().contains(x.getType().getId()))\r\n                .collect(Collectors.groupingBy(x -&gt; x.getType().getName(), Collectors.counting()));\r\n\r\nOr pop the stream in a temporary variable and apply the entire `filter()` conditionally:\r\n\r\n    Stream&lt;X&gt; stream = petRepository.findAll().stream();\r\n    if (!types.getIds().isEmpty()) {\r\n        stream = stream.filter(x -&gt; types.getIds().contains(x.getType().getId()));\r\n    }\r\n    return stream.collect(Collectors.groupingBy(x -&gt; x.getType().getName(), Collectors.counting()));","title":"Java Stream : How to filter conditionally?","body":"<p>If you don't want to check for empty on every <code>x</code>, you can put the whole lambda in a ternary expression:</p>\n<pre><code>return petRepository.findAll().stream()\n            .filter(types.getIds().isEmpty() ? x -&gt; true \n                    : x -&gt; types.getIds().contains(x.getType().getId()))\n            .collect(Collectors.groupingBy(x -&gt; x.getType().getName(), Collectors.counting()));\n</code></pre>\n<p>Or pop the stream in a temporary variable and apply the entire <code>filter()</code> conditionally:</p>\n<pre><code>Stream&lt;X&gt; stream = petRepository.findAll().stream();\nif (!types.getIds().isEmpty()) {\n    stream = stream.filter(x -&gt; types.getIds().contains(x.getType().getId()));\n}\nreturn stream.collect(Collectors.groupingBy(x -&gt; x.getType().getName(), Collectors.counting()));\n</code></pre>\n"},{"comments":[{"owner":{"display_name":"user21348253"},"score":0,"creation_date":1678353161,"post_id":75681881,"comment_id":133516887,"body_markdown":"Thanks a lot, voted up. I concluded `.filter(pet -&gt; types.getIds().isEmpty() ? true : types.getIds().contains(pet.getType().getId()))` that seems a little bit cleaner.","body":"Thanks a lot, voted up. I concluded <code>.filter(pet -&gt; types.getIds().isEmpty() ? true : types.getIds().contains(pet.getType().getId()))</code> that seems a little bit cleaner."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1678354867,"post_id":75681881,"comment_id":133517387,"body_markdown":"@ferry a ternary expression with `true` or `false` in either value expression can be simplified using `||` and `&amp;&amp;`. In this case: `types.getIds().isEmpty() || types.getIds().contains(...)`","body":"@ferry a ternary expression with <code>true</code> or <code>false</code> in either value expression can be simplified using <code>||</code> and <code>&amp;&amp;</code>. In this case: <code>types.getIds().isEmpty() || types.getIds().contains(...)</code>"}],"tags":[],"owner":{"account_id":7582437,"reputation":5222,"user_id":5752737,"accept_rate":100,"display_name":"geco17"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678381265,"creation_date":1678349220,"answer_id":75681881,"question_id":75681774,"body_markdown":"You just need to remember that the predicate in the `filter` has to return true whenever you want a result to be included. So in your case the filter condition must be such that, if the ids are NOT empty, filter will only return true for the condition you want. If the ids are empty, then filter must always return true.\r\n\r\nYou can play with this by writing a minimal test example (or better yet, mocking your petRepository with junit or another testing framework).\r\n\r\nConsider:\r\n\r\n    Set&lt;Integer&gt; ids = Set.of(2);\r\n    List&lt;Integer&gt; elements = List.of(1, 2, 3);\r\n    List&lt;Integer&gt; list = elements.stream()\r\n            .filter(u -&gt; ids.size() &gt; 0 ? ids.contains(u) : true)\r\n            .toList();\r\n    System.out.println(list);\r\n\r\n    // output here will be [2]\r\n    // but if ids is empty it will be [1, 2, 3]\r\n\r\nLook at what&#39;s inside `filter`: `ids.size() &gt; 0 ? ids.contains(u) : true`\r\n\r\nIf there are ids to check, see if the streamed element of `elements` is contained in them. If there are no ids to check, return true regardless (keep everything in the elements stream for the next step in the pipeline).\r\n\r\nThe ternary expression in this case could be further simplified to `u -&gt; ids.size() &lt;= 0 || ids.contains(u)`.\r\n\r\n","title":"Java Stream : How to filter conditionally?","body":"<p>You just need to remember that the predicate in the <code>filter</code> has to return true whenever you want a result to be included. So in your case the filter condition must be such that, if the ids are NOT empty, filter will only return true for the condition you want. If the ids are empty, then filter must always return true.</p>\n<p>You can play with this by writing a minimal test example (or better yet, mocking your petRepository with junit or another testing framework).</p>\n<p>Consider:</p>\n<pre><code>Set&lt;Integer&gt; ids = Set.of(2);\nList&lt;Integer&gt; elements = List.of(1, 2, 3);\nList&lt;Integer&gt; list = elements.stream()\n        .filter(u -&gt; ids.size() &gt; 0 ? ids.contains(u) : true)\n        .toList();\nSystem.out.println(list);\n\n// output here will be [2]\n// but if ids is empty it will be [1, 2, 3]\n</code></pre>\n<p>Look at what's inside <code>filter</code>: <code>ids.size() &gt; 0 ? ids.contains(u) : true</code></p>\n<p>If there are ids to check, see if the streamed element of <code>elements</code> is contained in them. If there are no ids to check, return true regardless (keep everything in the elements stream for the next step in the pipeline).</p>\n<p>The ternary expression in this case could be further simplified to <code>u -&gt; ids.size() &lt;= 0 || ids.contains(u)</code>.</p>\n"}],"owner":{"display_name":"user21348253"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":547,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":75681803,"answer_count":3,"score":6,"last_activity_date":1678381265,"creation_date":1678348380,"question_id":75681774,"body_markdown":"I have the following stream statement with Java Stream and I filter records based on the typeId values as  `types.getIds().contains(x.getType().getId())`:\r\n\r\n```\r\nreturn petRepository.findAll().stream()\r\n                .filter(x -&gt; types.getIds().contains(x.getType().getId()))\r\n                .collect(Collectors.groupingBy(x -&gt; x.getType().getName(), Collectors.counting()));\r\n```\r\n\r\nHowever, I want to fetch all values when `types.getIds().size() == 0` and tried something as shpon below:\r\n\r\n```\r\n.filter(types.getIds().size() &gt; 0 ? x -&gt; types.getIds().contains(x.getType().getId()) : &lt;NO FILTERING&gt;)\r\n```\r\n\r\nSo, how can I skip filtering when `types.getIds().size() == 0` ?","title":"Java Stream : How to filter conditionally?","body":"<p>I have the following stream statement with Java Stream and I filter records based on the typeId values as  <code>types.getIds().contains(x.getType().getId())</code>:</p>\n<pre><code>return petRepository.findAll().stream()\n                .filter(x -&gt; types.getIds().contains(x.getType().getId()))\n                .collect(Collectors.groupingBy(x -&gt; x.getType().getName(), Collectors.counting()));\n</code></pre>\n<p>However, I want to fetch all values when <code>types.getIds().size() == 0</code> and tried something as shpon below:</p>\n<pre><code>.filter(types.getIds().size() &gt; 0 ? x -&gt; types.getIds().contains(x.getType().getId()) : &lt;NO FILTERING&gt;)\n</code></pre>\n<p>So, how can I skip filtering when <code>types.getIds().size() == 0</code> ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1678381047,"post_id":75687665,"comment_id":133525589,"body_markdown":"*in.close();* Even with that in it does it give you the message? Incidentally, you don&#39;t close `System.in` - it&#39;s essentially stdin and lasts as long as the process","body":"<i>in.close();</i> Even with that in it does it give you the message? Incidentally, you don&#39;t close <code>System.in</code> - it&#39;s essentially stdin and lasts as long as the process"},{"owner":{"account_id":248321,"reputation":62668,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":1,"creation_date":1678381084,"post_id":75687665,"comment_id":133525598,"body_markdown":"Does this answer your question? [What is the reason for this finally clause containing close() calls](https://stackoverflow.com/questions/22609779/what-is-the-reason-for-this-finally-clause-containing-close-calls)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/22609779/what-is-the-reason-for-this-finally-clause-containing-close-calls\">What is the reason for this finally clause containing close() calls</a>"},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1678381218,"post_id":75687665,"comment_id":133525633,"body_markdown":"@user16320675 There&#39;s the same warning even if `nextInt` is not called.","body":"@user16320675 There&#39;s the same warning even if <code>nextInt</code> is not called."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1678381286,"post_id":75687665,"comment_id":133525653,"body_markdown":"You can ignore it - it&#39;s wrong for the reason I mentioned. It would be different were it a file","body":"You can ignore it - it&#39;s wrong for the reason I mentioned. It would be different were it a file"}],"owner":{"account_id":27976447,"reputation":1,"user_id":21365139,"display_name":"Nurmeirasari"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678381125,"creation_date":1678380689,"question_id":75687665,"body_markdown":"\r\nWhy does Eclipse give me the warming &quot;Resource leak: &#39;in&#39; is never closed&quot; in the following code?\r\n\r\n\r\n\r\n```\r\nimport java.util.*;\r\n \r\npublic class EvenNumberSum{\r\n    public static void main(String args[]) {\r\n        int N, i, sum = 0;\r\n \r\n        Scanner in = new Scanner(System.in);\r\n        System.out.println(&quot;Enter a number&quot;);\r\n        N = in.nextInt();\r\n \r\n        for(i = 0; i &lt;= N; i++){\r\n            if((i%2) == 1){\r\n                sum += i;\r\n            }\r\n        }\r\n     \r\n        System.out.print (&quot;Sum of all odd numbers between 0 to &quot; + N + &quot; = &quot; + sum);\r\n        \r\n\r\n        in.close();\r\n    }\r\n}\r\n\r\n```\r\n\r\n","title":"Resouce leak: &#39;in&#39; is never closed","body":"<p>Why does Eclipse give me the warming &quot;Resource leak: 'in' is never closed&quot; in the following code?</p>\n<pre><code>import java.util.*;\n \npublic class EvenNumberSum{\n    public static void main(String args[]) {\n        int N, i, sum = 0;\n \n        Scanner in = new Scanner(System.in);\n        System.out.println(&quot;Enter a number&quot;);\n        N = in.nextInt();\n \n        for(i = 0; i &lt;= N; i++){\n            if((i%2) == 1){\n                sum += i;\n            }\n        }\n     \n        System.out.print (&quot;Sum of all odd numbers between 0 to &quot; + N + &quot; = &quot; + sum);\n        \n\n        in.close();\n    }\n}\n\n</code></pre>\n"},{"tags":["java","kotlin","enums"],"answers":[{"comments":[{"owner":{"account_id":1276558,"reputation":1700,"user_id":1231693,"accept_rate":69,"display_name":"mellow-yellow"},"score":0,"creation_date":1678409984,"post_id":75687724,"comment_id":133531770,"body_markdown":"geez. it&#39;s so easy when explained so nicely. thank you!","body":"geez. it&#39;s so easy when explained so nicely. thank you!"}],"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678381022,"creation_date":1678381022,"answer_id":75687724,"question_id":75687669,"body_markdown":"In the [source code of Protocol][1], you can see that they overrode `toString()`:\r\n\r\n    override fun toString(): String = protocol\r\n\r\nYou can do this in Java enums as well:\r\n\r\n```java\r\nenum Animal {\r\n    DOG(&quot;woof&quot;), CAT(&quot;meow&quot;);\r\n    public String sound;\r\n\r\n    Animal(String sound) {\r\n      this.sound = sound;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return sound;\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://github.com/square/okhttp/blob/master/okhttp/src/commonMain/kotlin/okhttp3/Protocol.kt#L104","title":"Why does a Java enum refer to itself as its &quot;name&quot; not its &quot;value&quot; like in Kotlin?","body":"<p>In the <a href=\"https://github.com/square/okhttp/blob/master/okhttp/src/commonMain/kotlin/okhttp3/Protocol.kt#L104\" rel=\"nofollow noreferrer\">source code of Protocol</a>, you can see that they overrode <code>toString()</code>:</p>\n<pre><code>override fun toString(): String = protocol\n</code></pre>\n<p>You can do this in Java enums as well:</p>\n<pre class=\"lang-java prettyprint-override\"><code>enum Animal {\n    DOG(&quot;woof&quot;), CAT(&quot;meow&quot;);\n    public String sound;\n\n    Animal(String sound) {\n      this.sound = sound;\n    }\n\n    @Override\n    public String toString() {\n        return sound;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1276558,"reputation":1700,"user_id":1231693,"accept_rate":69,"display_name":"mellow-yellow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1678382464,"accepted_answer_id":75687724,"answer_count":1,"score":-1,"last_activity_date":1678381022,"creation_date":1678380733,"question_id":75687669,"body_markdown":"Disclaimer: I&#39;m new to Java and Kotlin enums.\r\n\r\nIn Java 9+, if I do this:\r\n\r\n```java\r\nenum Animal {\r\n    DOG(&quot;woof&quot;), CAT(&quot;meow&quot;);\r\n    public String sound;\r\n\r\n    Animal(String sound) {\r\n      this.sound = sound;\r\n    }\r\n}\r\n\r\nclass Foo {\r\n    public static void main(String[] args) {\r\n        List&lt;Animal&gt; foo = List.of(Animal.DOG, Animal.CAT);\r\n        System.out.println(Animal.values());\r\n}\r\n```\r\n\r\n...and then set a breakpoint on the `println()`, my IntelliJ IDEA debugger shows that each enum element calls itself (e.g., `{Animal@448}`) by its &quot;name&quot; not its &quot;value&quot; (sound).\r\n\r\n```\r\nfoo = {ImmutableCollections$List12@444} size =2\r\n  0 = {Animal@448} &quot;DOG&quot;\r\n     sound = &quot;woof&quot;\r\n     name = &quot;DOG&quot;\r\n     ordinal = 0\r\n  1 = {Animal@449} &quot;CAT&quot;\r\n     sound = &quot;meow&quot;\r\n     name = &quot;CAT&quot;\r\n     ordinal = 1\r\n```\r\n\r\nBut when I try similar code using okhttp.Protocol (an enum written in Kotlin), I see the opposite happen: each element refers to itself (e.g., `Protocol@566`) using the &quot;value&quot; (protocol) instead of the &quot;name&quot;:\r\n```java\r\nimport okhttp3.Protocol;\r\n\r\nclass Foo {\r\n    public static void main(String[] args) {\r\n        List&lt;Protocol&gt; foo = List.of(Protocol.HTTP_1_0, Protocol.HTTP_1_1);\r\n        System.out.println(Animal.values());\r\n}\r\n```\r\n\r\n...which you can see as follows:\r\n```\r\nfoo = {ImmutableCollections$List12@562} size =2\r\n  0 = {Protocol@566} http/1.0\r\n    protocol = &quot;http/1.0&quot;\r\n    name = &quot;HTTP_1_0&quot;\r\n    ordinal = 0\r\n  1 = {Protocol@567} http/1.1\r\n    protocol = &quot;http/1.1&quot;\r\n    name = &quot;HTTP_1_1&quot;\r\n    ordinal = 1\r\n}\r\n```\r\n\r\nHow can I make Java use the &quot;value&quot; like in Kotlin? For reference, here&#39;s the relevant Kotlin &quot;primary constructor&quot;:\r\n```kotlin\r\nenum class Protocol(private val protocol: String) {\r\n  /**\r\n   * An obsolete plaintext framing that does not use persistent sockets by default.\r\n   */\r\n  HTTP_1_0(&quot;http/1.0&quot;),\r\n```","title":"Why does a Java enum refer to itself as its &quot;name&quot; not its &quot;value&quot; like in Kotlin?","body":"<p>Disclaimer: I'm new to Java and Kotlin enums.</p>\n<p>In Java 9+, if I do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>enum Animal {\n    DOG(&quot;woof&quot;), CAT(&quot;meow&quot;);\n    public String sound;\n\n    Animal(String sound) {\n      this.sound = sound;\n    }\n}\n\nclass Foo {\n    public static void main(String[] args) {\n        List&lt;Animal&gt; foo = List.of(Animal.DOG, Animal.CAT);\n        System.out.println(Animal.values());\n}\n</code></pre>\n<p>...and then set a breakpoint on the <code>println()</code>, my IntelliJ IDEA debugger shows that each enum element calls itself (e.g., <code>{Animal@448}</code>) by its &quot;name&quot; not its &quot;value&quot; (sound).</p>\n<pre><code>foo = {ImmutableCollections$List12@444} size =2\n  0 = {Animal@448} &quot;DOG&quot;\n     sound = &quot;woof&quot;\n     name = &quot;DOG&quot;\n     ordinal = 0\n  1 = {Animal@449} &quot;CAT&quot;\n     sound = &quot;meow&quot;\n     name = &quot;CAT&quot;\n     ordinal = 1\n</code></pre>\n<p>But when I try similar code using okhttp.Protocol (an enum written in Kotlin), I see the opposite happen: each element refers to itself (e.g., <code>Protocol@566</code>) using the &quot;value&quot; (protocol) instead of the &quot;name&quot;:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import okhttp3.Protocol;\n\nclass Foo {\n    public static void main(String[] args) {\n        List&lt;Protocol&gt; foo = List.of(Protocol.HTTP_1_0, Protocol.HTTP_1_1);\n        System.out.println(Animal.values());\n}\n</code></pre>\n<p>...which you can see as follows:</p>\n<pre><code>foo = {ImmutableCollections$List12@562} size =2\n  0 = {Protocol@566} http/1.0\n    protocol = &quot;http/1.0&quot;\n    name = &quot;HTTP_1_0&quot;\n    ordinal = 0\n  1 = {Protocol@567} http/1.1\n    protocol = &quot;http/1.1&quot;\n    name = &quot;HTTP_1_1&quot;\n    ordinal = 1\n}\n</code></pre>\n<p>How can I make Java use the &quot;value&quot; like in Kotlin? For reference, here's the relevant Kotlin &quot;primary constructor&quot;:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>enum class Protocol(private val protocol: String) {\n  /**\n   * An obsolete plaintext framing that does not use persistent sockets by default.\n   */\n  HTTP_1_0(&quot;http/1.0&quot;),\n</code></pre>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":4338431,"reputation":1014,"user_id":3542351,"display_name":"terpinmd"},"score":0,"creation_date":1678374425,"post_id":75686411,"comment_id":133523383,"body_markdown":"Look into Stream with .map.  that will allow you to take list of one kind of object and map it (turn it) into a list of another type of object","body":"Look into Stream with .map.  that will allow you to take list of one kind of object and map it (turn it) into a list of another type of object"},{"owner":{"account_id":9189354,"reputation":17,"user_id":6830437,"display_name":"Sujata Kattimani"},"score":0,"creation_date":1678378470,"post_id":75686411,"comment_id":133524772,"body_markdown":"public static class Entitlement {\npublic String id;\npublic String name;\npublic String serviceEntitlementNumber;\npublic String serviceType;\npublic String alphaId;\npublic String modifiedTime;\n}\n\npublic static class Card {\npublic String id;\npublic String name;\n}\nList &lt;MerchantGatewayEntitlement&gt; entitlements = getEntitlements(merchantId);\nList &lt;Card&gt; cards = new ArrayList &lt;&gt;();","body":"public static class Entitlement { public String id; public String name; public String serviceEntitlementNumber; public String serviceType; public String alphaId; public String modifiedTime; }  public static class Card { public String id; public String name; } List &lt;MerchantGatewayEntitlement&gt; entitlements = getEntitlements(merchantId); List &lt;Card&gt; cards = new ArrayList &lt;&gt;();"}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678374531,"creation_date":1678374531,"answer_id":75686464,"question_id":75686411,"body_markdown":"To create a `List` of `Card` objects from the other `List`, you can use `Stream#map`.\r\n\r\n```java\r\nList&lt;Card&gt; cards = entitlements.stream().map(e -&gt; new Card(e.getId(), e.getName())).toList();\r\n```\r\n\r\nIf you want to add to an existing `List`, an enhanced `for` loop or `List#forEach` would be appropriate.","title":"How to iterate List of one object array and set to another object list in java 8?","body":"<p>To create a <code>List</code> of <code>Card</code> objects from the other <code>List</code>, you can use <code>Stream#map</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Card&gt; cards = entitlements.stream().map(e -&gt; new Card(e.getId(), e.getName())).toList();\n</code></pre>\n<p>If you want to add to an existing <code>List</code>, an enhanced <code>for</code> loop or <code>List#forEach</code> would be appropriate.</p>\n"},{"comments":[{"owner":{"account_id":9189354,"reputation":17,"user_id":6830437,"display_name":"Sujata Kattimani"},"score":0,"creation_date":1678379678,"post_id":75686684,"comment_id":133525192,"body_markdown":"public static class Entitlement { public String id; public String name; public String serviceEntitlementNumber; public String serviceType; public String alphaId; public String modifiedTime; } //Entitlement obj","body":"public static class Entitlement { public String id; public String name; public String serviceEntitlementNumber; public String serviceType; public String alphaId; public String modifiedTime; } //Entitlement obj"},{"owner":{"account_id":9189354,"reputation":17,"user_id":6830437,"display_name":"Sujata Kattimani"},"score":0,"creation_date":1678379697,"post_id":75686684,"comment_id":133525197,"body_markdown":"public static class Card { public String id; public String name; } List &lt;MerchantGatewayEntitlement&gt; entitlements = getEntitlements(merchantId); List &lt;Card&gt; cards = new ArrayList &lt;&gt;(); // card obj","body":"public static class Card { public String id; public String name; } List &lt;MerchantGatewayEntitlement&gt; entitlements = getEntitlements(merchantId); List &lt;Card&gt; cards = new ArrayList &lt;&gt;(); // card obj"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1678381002,"post_id":75686684,"comment_id":133525576,"body_markdown":"@SujataKattimani I added your classes to the question so you can delete your comments.","body":"@SujataKattimani I added your classes to the question so you can delete your comments."}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678376633,"creation_date":1678375451,"answer_id":75686684,"question_id":75686411,"body_markdown":"Why use streams?  It has its advantages but it also has quite a bit of overhead. Nothing wrong with using a loop.  And don&#39;t worry about `&quot;improving&quot;` existing `working code` using Java 8 features.\r\n\r\nI don&#39;t know what your `Card` class looks like but there is nothing wrong with the following:\r\n```\r\nList&lt;Card&gt; cardList = new ArrayList&lt;&gt;();\r\nfor (MerchantGatewayEntitlement entitlement : entitlements) {\r\n   cardList.add(new Card(entitlement.getCard(), entitlement.getSomethingElse()));\r\n}\r\n```\r\nor other Java 8 options.\r\n```\r\nentitlements.forEach(ent-&gt; {\r\n    cardList.add(new Card(ent.getCard(), ent.getSomethingElse()));\r\n});\r\n```\r\nBut if you insist on using a stream solution and you need to be able to `modify` the returned list, then do it like this.\r\n```\r\nList&lt;Card&gt; cardList = entitlements.stream()\r\n     .map(ent -&gt; new \r\n         Card(ent.getCard(),ent.getSomethingElse()))\r\n     .collect(Collectors.toCollection(ArrayList::new));\r\n\r\n","title":"How to iterate List of one object array and set to another object list in java 8?","body":"<p>Why use streams?  It has its advantages but it also has quite a bit of overhead. Nothing wrong with using a loop.  And don't worry about <code>&quot;improving&quot;</code> existing <code>working code</code> using Java 8 features.</p>\n<p>I don't know what your <code>Card</code> class looks like but there is nothing wrong with the following:</p>\n<pre><code>List&lt;Card&gt; cardList = new ArrayList&lt;&gt;();\nfor (MerchantGatewayEntitlement entitlement : entitlements) {\n   cardList.add(new Card(entitlement.getCard(), entitlement.getSomethingElse()));\n}\n</code></pre>\n<p>or other Java 8 options.</p>\n<pre><code>entitlements.forEach(ent-&gt; {\n    cardList.add(new Card(ent.getCard(), ent.getSomethingElse()));\n});\n</code></pre>\n<p>But if you insist on using a stream solution and you need to be able to <code>modify</code> the returned list, then do it like this.</p>\n<pre><code>List&lt;Card&gt; cardList = entitlements.stream()\n     .map(ent -&gt; new \n         Card(ent.getCard(),ent.getSomethingElse()))\n     .collect(Collectors.toCollection(ArrayList::new));\n\n</code></pre>\n"}],"owner":{"account_id":9189354,"reputation":17,"user_id":6830437,"display_name":"Sujata Kattimani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75686684,"answer_count":2,"score":0,"last_activity_date":1678380939,"creation_date":1678374285,"question_id":75686411,"body_markdown":"Currently I have list of object(Entitlement) array, from that array I have to Iterate and add to the list of Card object, any way to do this. Please let me know.\r\n\r\nNow I don&#39;t want entire data from entitlements list, need only id and name and want this to be store into Card object.\r\nHow i can achieve this, using stream?\r\n```\r\npublic static class Entitlement {\r\n   public String id;\r\n   public String name;\r\n   public String serviceEntitlementNumber;\r\n   public String serviceType;\r\n   public String alphaId;\r\n   public String modifiedTime;\r\n} //Entitlement obj – \r\n\r\n\r\npublic static class Card { \r\n   public String id;\r\n   public String name;\r\n} // card obj\r\n\r\nList &lt;MerchantGatewayEntitlement&gt; entitlements = \r\n       getEntitlements(merchantId);\r\n\r\nList &lt;Card&gt; cards = new ArrayList &lt;&gt;();\r\n \r\nfor (MerchantGatewayEntitlement entitlement : entitlements) {\r\n     how to add this list to card list.\r\n}\r\n```","title":"How to iterate List of one object array and set to another object list in java 8?","body":"<p>Currently I have list of object(Entitlement) array, from that array I have to Iterate and add to the list of Card object, any way to do this. Please let me know.</p>\n<p>Now I don't want entire data from entitlements list, need only id and name and want this to be store into Card object.\nHow i can achieve this, using stream?</p>\n<pre><code>public static class Entitlement {\n   public String id;\n   public String name;\n   public String serviceEntitlementNumber;\n   public String serviceType;\n   public String alphaId;\n   public String modifiedTime;\n} //Entitlement obj – \n\n\npublic static class Card { \n   public String id;\n   public String name;\n} // card obj\n\nList &lt;MerchantGatewayEntitlement&gt; entitlements = \n       getEntitlements(merchantId);\n\nList &lt;Card&gt; cards = new ArrayList &lt;&gt;();\n \nfor (MerchantGatewayEntitlement entitlement : entitlements) {\n     how to add this list to card list.\n}\n</code></pre>\n"},{"tags":["java","android","nosuchelementexception","butterknife","android-viewbinding"],"answers":[{"tags":[],"owner":{"account_id":91888,"reputation":6445,"user_id":252080,"accept_rate":60,"display_name":"Sterling"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678380866,"creation_date":1678376160,"answer_id":75686805,"question_id":74574613,"body_markdown":"I assume the OP has got past this issue by now, but I&#39;ve recently run into it while migrating some legacy code from Butterknife to View Bindings, so I thought I&#39;d drop the solution here for anyone else who may need it.\r\n\r\nApparently Butterknife caches its field bindings, and will throw this error when those fields no longer exist. I found that the following steps were required to clear it:\r\n - In Android Studio\r\n   - _Build &gt; Clean Project_\r\n   - _File &gt; Invalidate caches_, and clear both the file system and VCS Log caches\r\n - On-device, clear the app&#39;s cache (or uninstall+reinstall if that&#39;s easier for you) ","title":"Error replacing ButterKnife annotation with native ViewBinding","body":"<p>I assume the OP has got past this issue by now, but I've recently run into it while migrating some legacy code from Butterknife to View Bindings, so I thought I'd drop the solution here for anyone else who may need it.</p>\n<p>Apparently Butterknife caches its field bindings, and will throw this error when those fields no longer exist. I found that the following steps were required to clear it:</p>\n<ul>\n<li>In Android Studio\n<ul>\n<li><em>Build &gt; Clean Project</em></li>\n<li><em>File &gt; Invalidate caches</em>, and clear both the file system and VCS Log caches</li>\n</ul>\n</li>\n<li>On-device, clear the app's cache (or uninstall+reinstall if that's easier for you)</li>\n</ul>\n"}],"owner":{"account_id":4527653,"reputation":67,"user_id":3679027,"accept_rate":50,"display_name":"Lubron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678380866,"creation_date":1669388436,"question_id":74574613,"body_markdown":"I&#39;m refactoring a lot my app activities and layouts (e.g. ButterKnife annotation -&gt; viewBinding, *Layout --&gt; ConstraintLayout). For a lot of them there were no problem, but at the moment I&#39;m stuck in this situation of my Activity:\r\n\r\nOriginal code:\r\n```\r\n\r\n    ...\r\n\r\n    @BindView(R.id.logged_user)\r\n    TextView mUserLoggedView;\r\n\r\n    @BindView(R.id.patient_code)\r\n    EditText mPatientCodeView;\r\n\r\n    @BindView(R.id.search_form)\r\n    ScrollView mFormView;\r\n\r\n    @BindView(R.id.search_progress_layout)\r\n    LinearLayout mProgressLayout;\r\n\r\n    @BindView(R.id.search_progress_text)\r\n    TextView mProgressTextView;\r\n\r\n    App application;\r\n\r\n    SearchActivityMapper mapper;\r\n\r\n    CompositeDisposable mCompositeDisposable;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstance) {\r\n        super.onCreate(savedInstance);\r\n\r\n        setContentView(R.layout.activity_search_patient);\r\n        \r\n        ButterKnife.bind(this);\r\n        application = (App) getApplication();\r\n        application.getAppComponent().inject(this);\r\n\r\n        ...\r\n\r\n```\r\n\r\nCode after review:\r\n\r\n```\r\n    ...\r\n\r\n    App application;\r\n\r\n    SearchActivityMapper mapper;\r\n\r\n    CompositeDisposable mCompositeDisposable;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstance) {\r\n        super.onCreate(savedInstance);\r\n\r\n        viewBinding = ActivitySearchPatientBinding.inflate(getLayoutInflater());\r\n        setContentView(viewBinding.getRoot());\r\n        \r\n        ButterKnife.bind(this);\r\n        application = (App) getApplication();\r\n        application.getAppComponent().inject(this);             \r\n\r\n        ...\r\n\r\n```\r\n\r\nI did the same in all the previous Activity and everything went well; when the latter Activity is launched I got this error\r\n\r\n```\r\njava.lang.NoSuchFieldError: No field mUserLoggedView of type Landroid/widget/TextView; in class Lit/company/etmhome/activities/search/SearchActivity; or its superclasses (declaration of &#39;it.company.etmhome.activities.search.SearchActivity&#39; appears in /data/data/it.company.etmhome.debug/code_cache/.overlay/base.apk/classes27.dex)\r\n```\r\n\r\nI can&#39;t understand why it can&#39;t find that field that I removed and it&#39;s not present in the whole project.\r\n\r\nAm I missing something???\r\n\r\nThanks in advance\r\n\r\n ","title":"Error replacing ButterKnife annotation with native ViewBinding","body":"<p>I'm refactoring a lot my app activities and layouts (e.g. ButterKnife annotation -&gt; viewBinding, *Layout --&gt; ConstraintLayout). For a lot of them there were no problem, but at the moment I'm stuck in this situation of my Activity:</p>\n<p>Original code:</p>\n<pre><code>\n    ...\n\n    @BindView(R.id.logged_user)\n    TextView mUserLoggedView;\n\n    @BindView(R.id.patient_code)\n    EditText mPatientCodeView;\n\n    @BindView(R.id.search_form)\n    ScrollView mFormView;\n\n    @BindView(R.id.search_progress_layout)\n    LinearLayout mProgressLayout;\n\n    @BindView(R.id.search_progress_text)\n    TextView mProgressTextView;\n\n    App application;\n\n    SearchActivityMapper mapper;\n\n    CompositeDisposable mCompositeDisposable;\n\n    @Override\n    protected void onCreate(Bundle savedInstance) {\n        super.onCreate(savedInstance);\n\n        setContentView(R.layout.activity_search_patient);\n        \n        ButterKnife.bind(this);\n        application = (App) getApplication();\n        application.getAppComponent().inject(this);\n\n        ...\n\n</code></pre>\n<p>Code after review:</p>\n<pre><code>    ...\n\n    App application;\n\n    SearchActivityMapper mapper;\n\n    CompositeDisposable mCompositeDisposable;\n\n    @Override\n    protected void onCreate(Bundle savedInstance) {\n        super.onCreate(savedInstance);\n\n        viewBinding = ActivitySearchPatientBinding.inflate(getLayoutInflater());\n        setContentView(viewBinding.getRoot());\n        \n        ButterKnife.bind(this);\n        application = (App) getApplication();\n        application.getAppComponent().inject(this);             \n\n        ...\n\n</code></pre>\n<p>I did the same in all the previous Activity and everything went well; when the latter Activity is launched I got this error</p>\n<pre><code>java.lang.NoSuchFieldError: No field mUserLoggedView of type Landroid/widget/TextView; in class Lit/company/etmhome/activities/search/SearchActivity; or its superclasses (declaration of 'it.company.etmhome.activities.search.SearchActivity' appears in /data/data/it.company.etmhome.debug/code_cache/.overlay/base.apk/classes27.dex)\n</code></pre>\n<p>I can't understand why it can't find that field that I removed and it's not present in the whole project.</p>\n<p>Am I missing something???</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","r","netlogo","rnetlogo"],"owner":{"account_id":27959070,"reputation":1,"user_id":21351300,"display_name":"Kate"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678380630,"creation_date":1678313849,"question_id":75678743,"body_markdown":"When I try running RNetlogo on my Mac, I keep getting the following error when I try running the NLStart command.\r\n\r\n&gt; Error in .jcall(preobj, &quot;S&quot;, &quot;cpsettings&quot;, .jnew(&quot;java/lang/String&quot;, nl.path),  :\r\n&gt; java.awt.HeadlessException\r\n\r\nHere is the code that I run when I get that error:\r\n\r\n```\r\nlibrary(&quot;RNetLogo&quot;)\r\nver = &quot;6.3.0&quot; # type in Netlogo version\r\nnl.path = &quot;/Applications/NetLogo 6.3.0&quot;\r\nSys.setenv(JAVA_HOME = file.path(&quot;Applications/jdk-11.0.17.jdk&quot;))\r\nNLStart(nl.path, nl.jarname = paste0(&quot;netlogo-&quot;,ver,&quot;.jar&quot;)) \r\n```\r\n\r\nGiven that the error mentions &quot;headless&quot;, I tried modifying the NLStart command so that `gui = FALSE` because I don&#39;t need the graphical interface. That said it would be nice to have the graphical netlogo interface to pop up so I can experiment controlling it through R as I learn how to use RNetlogo.\r\n\r\nBut after running the modified line below, I got the same exact error as above.\r\n\r\n```\r\nNLStart(nl.path, gui = FALSE, nl.jarname = paste0(&quot;netlogo-&quot;,ver,&quot;.jar&quot;)) \r\n```","title":"What does java.awt.HeadlessException error mean?","body":"<p>When I try running RNetlogo on my Mac, I keep getting the following error when I try running the NLStart command.</p>\n<blockquote>\n<p>Error in .jcall(preobj, &quot;S&quot;, &quot;cpsettings&quot;, .jnew(&quot;java/lang/String&quot;, nl.path),  :\njava.awt.HeadlessException</p>\n</blockquote>\n<p>Here is the code that I run when I get that error:</p>\n<pre><code>library(&quot;RNetLogo&quot;)\nver = &quot;6.3.0&quot; # type in Netlogo version\nnl.path = &quot;/Applications/NetLogo 6.3.0&quot;\nSys.setenv(JAVA_HOME = file.path(&quot;Applications/jdk-11.0.17.jdk&quot;))\nNLStart(nl.path, nl.jarname = paste0(&quot;netlogo-&quot;,ver,&quot;.jar&quot;)) \n</code></pre>\n<p>Given that the error mentions &quot;headless&quot;, I tried modifying the NLStart command so that <code>gui = FALSE</code> because I don't need the graphical interface. That said it would be nice to have the graphical netlogo interface to pop up so I can experiment controlling it through R as I learn how to use RNetlogo.</p>\n<p>But after running the modified line below, I got the same exact error as above.</p>\n<pre><code>NLStart(nl.path, gui = FALSE, nl.jarname = paste0(&quot;netlogo-&quot;,ver,&quot;.jar&quot;)) \n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9636,"page":589,"page_size":100}
