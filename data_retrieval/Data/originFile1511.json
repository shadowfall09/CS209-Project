{"items":[{"tags":["java","android-room","instrumented-test"],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647470816,"creation_date":1647470474,"answer_id":71505063,"question_id":71504782,"body_markdown":"The project id will be 0 as it hasn&#39;t been set according to the inserted value when you use `long projectId = project.getId();`. \r\n\r\nThus the ForeignKey conflict when inserting the Task as the id column of the project will have been generated by SQLite and WILL not be 0 (it will be 1 or greater).\r\n\r\nChange \r\n\r\n    @Insert(onConflict = OnConflictStrategy.IGNORE)\r\n    void insert(Project project);\r\n\r\nto (to get the actual generated id)\r\n\r\n    @Insert(onConflict = OnConflictStrategy.IGNORE)\r\n    long insert(Project project); // will return the id that has been generated \r\n\r\n\r\nand then use :-\r\n\r\n        Project project = new Project(&quot;toto&quot;, 0xFFB4CDBA);\r\n        long projectId = this.projectDao.insert(project); //&lt;&lt;&lt;&lt;&lt; returns the actual id\r\n        project.setId(projectId); // sets project id according to the inserted id BUT only if inserted and not ignored when returned value will be -1\r\n        // You should really check for -1 and handle accordingly\r\n       \r\n        assertThat(projectId, equalTo(project.getId())); // not really of any use\r\n\r\n        Task task = new Task(projectId, &quot;t&#226;che 1&quot;, new Date().getTime());\r\n        this.taskDao.insert(task);\r\n\r\n    \r\n- Note, the above is in-principle code, it has not been compiled or run/tested. It may therefore contain some errors.\r\n\r\n\r\n\r\n","title":"Why instrumented room test get error FOREIGN KEY constraint failed","body":"<p>The project id will be 0 as it hasn't been set according to the inserted value when you use <code>long projectId = project.getId();</code>.</p>\n<p>Thus the ForeignKey conflict when inserting the Task as the id column of the project will have been generated by SQLite and WILL not be 0 (it will be 1 or greater).</p>\n<p>Change</p>\n<pre><code>@Insert(onConflict = OnConflictStrategy.IGNORE)\nvoid insert(Project project);\n</code></pre>\n<p>to (to get the actual generated id)</p>\n<pre><code>@Insert(onConflict = OnConflictStrategy.IGNORE)\nlong insert(Project project); // will return the id that has been generated \n</code></pre>\n<p>and then use :-</p>\n<pre><code>    Project project = new Project(&quot;toto&quot;, 0xFFB4CDBA);\n    long projectId = this.projectDao.insert(project); //&lt;&lt;&lt;&lt;&lt; returns the actual id\n    project.setId(projectId); // sets project id according to the inserted id BUT only if inserted and not ignored when returned value will be -1\n    // You should really check for -1 and handle accordingly\n   \n    assertThat(projectId, equalTo(project.getId())); // not really of any use\n\n    Task task = new Task(projectId, &quot;tâche 1&quot;, new Date().getTime());\n    this.taskDao.insert(task);\n</code></pre>\n<ul>\n<li>Note, the above is in-principle code, it has not been compiled or run/tested. It may therefore contain some errors.</li>\n</ul>\n"}],"owner":{"account_id":12177739,"reputation":83,"user_id":8890268,"display_name":"mabdelouahad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71505063,"answer_count":1,"score":2,"last_activity_date":1647470816,"creation_date":1647468459,"question_id":71504782,"body_markdown":"I don&#39;t understand this error, I have two entities Task and Project, one task is assign to one project (see code below).\r\n\r\nBut when I want test to add a task, I have this error: \r\n***android.database.sqlite.SQLiteConstraintException: FOREIGN KEY constraint failed (code 787 SQLITE_CONSTRAINT_FOREIGNKEY)***\r\n\r\nI try to add `onDelete = CASCADE`  to FOREIGNKEY but my test does not work :/ \r\n\r\nTask Class\r\n```\r\n@Entity(tableName = &quot;task_table&quot;,\r\n        foreignKeys = @ForeignKey(entity = Project.class,\r\n        parentColumns = &quot;id&quot;,\r\n        childColumns = &quot;projectId&quot;))\r\n\r\npublic class Task {\r\n    /**\r\n     * The unique identifier of the task\r\n     */\r\n    @PrimaryKey(autoGenerate = true)\r\n    public long id;\r\n\r\n    private long projectId;\r\n\r\n    \r\n    @SuppressWarnings(&quot;NullableProblems&quot;)\r\n    @NonNull\r\n    private String name.\r\n\r\n    private long creationTimestamp;\r\n\r\n    public Task(long projectId, @NonNull String name, long creationTimestamp) {\r\n        this.setProjectId(projectId);\r\n        this.setName(name);\r\n        this.setCreationTimestamp(creationTimestamp);\r\n    }\r\n...\r\n```\r\n\r\nTaskDao\r\n```\r\n@Dao\r\npublic interface TaskDao {\r\n\r\n    @Insert(onConflict = OnConflictStrategy.REPLACE)\r\n    void insert(Task task);\r\n\r\n\r\n    @Query(&quot;DELETE  FROM task_table WHERE id = :id&quot;)\r\n    void delete(long id);\r\n\r\n    @Query(&quot;SELECT * FROM task_table ORDER BY id ASC&quot;)\r\n    LiveData&lt;List&lt;Task&gt;&gt; getAllTasks();\r\n\r\n    @Query(&quot;SELECT * FROM task_table WHERE id = :id&quot;)\r\n    LiveData&lt;Task&gt; getTaskById(long id);\r\n}\r\n```\r\n\r\nProject Class\r\n```\r\n@Entity(tableName = &quot;project_table&quot;)\r\npublic class Project {\r\n    /**\r\n     * The unique identifier of the project\r\n     */\r\n    @PrimaryKey(autoGenerate = true)\r\n    public long id;\r\n\r\n    @NonNull\r\n    private  String name;\r\n\r\n    @ColorInt\r\n    private  int color;\r\n\r\n    public Project(@NonNull String name, @ColorInt int color) {\r\n        this.name = name;\r\n        this.color = color;\r\n    }\r\n```\r\n\r\nProjectDao\r\n```\r\n@Dao\r\npublic interface ProjectDao {\r\n\r\n\r\n    @Insert(onConflict = OnConflictStrategy.IGNORE)\r\n    void insert(Project project);\r\n\r\n    @Insert(onConflict = OnConflictStrategy.REPLACE)\r\n    void insertAll(List&lt;Project&gt; projects);\r\n\r\n\r\n    @Query(&quot;SELECT * FROM project_table&quot;)\r\n    LiveData&lt;List&lt;Project&gt;&gt; getAllProjects();\r\n\r\n\r\n    @Query(&quot;SELECT * FROM project_table WHERE id = :id&quot;)\r\n    LiveData&lt;Project&gt; getProjectById(long id);\r\n\r\n}\r\n```\r\n\r\n\r\nTestInstrumented:\r\n```\r\n @Before\r\n    public void createDb() {\r\n        this.database = Room.inMemoryDatabaseBuilder(ApplicationProvider.getApplicationContext(),\r\n                AppDatabase.class)\r\n                .allowMainThreadQueries()\r\n                .build();\r\n\r\n        taskDao = database.taskDao();\r\n        projectDao = database.projectDao();\r\n    }\r\n\r\n    @After\r\n    public void closeDb() {\r\n        database.close();\r\n    }\r\n@Test\r\n    public void addTask() {\r\n\r\n        Project project = new Project(&quot;toto&quot;, 0xFFB4CDBA);\r\n        this.projectDao.insert(project);\r\n        long projectId = project.getId();\r\n\r\n        assertThat(projectId, equalTo(project.getId()));\r\n\r\n        Task task = new Task(projectId, &quot;t&#226;che 1&quot;, new Date().getTime());\r\n\r\n        this.taskDao.insert(task);\r\n}\r\n```\r\n\r\nIf someone can help it&#39;ll be very kind, I don&#39;t know how I can resolve this.\r\n\r\nThanks very much for your help\r\n\r\n\r\n\r\n\r\n","title":"Why instrumented room test get error FOREIGN KEY constraint failed","body":"<p>I don't understand this error, I have two entities Task and Project, one task is assign to one project (see code below).</p>\n<p>But when I want test to add a task, I have this error:\n<em><strong>android.database.sqlite.SQLiteConstraintException: FOREIGN KEY constraint failed (code 787 SQLITE_CONSTRAINT_FOREIGNKEY)</strong></em></p>\n<p>I try to add <code>onDelete = CASCADE</code>  to FOREIGNKEY but my test does not work :/</p>\n<p>Task Class</p>\n<pre><code>@Entity(tableName = &quot;task_table&quot;,\n        foreignKeys = @ForeignKey(entity = Project.class,\n        parentColumns = &quot;id&quot;,\n        childColumns = &quot;projectId&quot;))\n\npublic class Task {\n    /**\n     * The unique identifier of the task\n     */\n    @PrimaryKey(autoGenerate = true)\n    public long id;\n\n    private long projectId;\n\n    \n    @SuppressWarnings(&quot;NullableProblems&quot;)\n    @NonNull\n    private String name.\n\n    private long creationTimestamp;\n\n    public Task(long projectId, @NonNull String name, long creationTimestamp) {\n        this.setProjectId(projectId);\n        this.setName(name);\n        this.setCreationTimestamp(creationTimestamp);\n    }\n...\n</code></pre>\n<p>TaskDao</p>\n<pre><code>@Dao\npublic interface TaskDao {\n\n    @Insert(onConflict = OnConflictStrategy.REPLACE)\n    void insert(Task task);\n\n\n    @Query(&quot;DELETE  FROM task_table WHERE id = :id&quot;)\n    void delete(long id);\n\n    @Query(&quot;SELECT * FROM task_table ORDER BY id ASC&quot;)\n    LiveData&lt;List&lt;Task&gt;&gt; getAllTasks();\n\n    @Query(&quot;SELECT * FROM task_table WHERE id = :id&quot;)\n    LiveData&lt;Task&gt; getTaskById(long id);\n}\n</code></pre>\n<p>Project Class</p>\n<pre><code>@Entity(tableName = &quot;project_table&quot;)\npublic class Project {\n    /**\n     * The unique identifier of the project\n     */\n    @PrimaryKey(autoGenerate = true)\n    public long id;\n\n    @NonNull\n    private  String name;\n\n    @ColorInt\n    private  int color;\n\n    public Project(@NonNull String name, @ColorInt int color) {\n        this.name = name;\n        this.color = color;\n    }\n</code></pre>\n<p>ProjectDao</p>\n<pre><code>@Dao\npublic interface ProjectDao {\n\n\n    @Insert(onConflict = OnConflictStrategy.IGNORE)\n    void insert(Project project);\n\n    @Insert(onConflict = OnConflictStrategy.REPLACE)\n    void insertAll(List&lt;Project&gt; projects);\n\n\n    @Query(&quot;SELECT * FROM project_table&quot;)\n    LiveData&lt;List&lt;Project&gt;&gt; getAllProjects();\n\n\n    @Query(&quot;SELECT * FROM project_table WHERE id = :id&quot;)\n    LiveData&lt;Project&gt; getProjectById(long id);\n\n}\n</code></pre>\n<p>TestInstrumented:</p>\n<pre><code> @Before\n    public void createDb() {\n        this.database = Room.inMemoryDatabaseBuilder(ApplicationProvider.getApplicationContext(),\n                AppDatabase.class)\n                .allowMainThreadQueries()\n                .build();\n\n        taskDao = database.taskDao();\n        projectDao = database.projectDao();\n    }\n\n    @After\n    public void closeDb() {\n        database.close();\n    }\n@Test\n    public void addTask() {\n\n        Project project = new Project(&quot;toto&quot;, 0xFFB4CDBA);\n        this.projectDao.insert(project);\n        long projectId = project.getId();\n\n        assertThat(projectId, equalTo(project.getId()));\n\n        Task task = new Task(projectId, &quot;tâche 1&quot;, new Date().getTime());\n\n        this.taskDao.insert(task);\n}\n</code></pre>\n<p>If someone can help it'll be very kind, I don't know how I can resolve this.</p>\n<p>Thanks very much for your help</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1647470132,"creation_date":1647470132,"answer_id":71505012,"question_id":71504955,"body_markdown":"Your activities are not exported. They cannot be accessed from other apps. Change `android:exported` to be `true` if you want other apps accessing your activities.","title":"no apps can perform this action android studio","body":"<p>Your activities are not exported. They cannot be accessed from other apps. Change <code>android:exported</code> to be <code>true</code> if you want other apps accessing your activities.</p>\n"}],"owner":{"account_id":20165780,"reputation":39,"user_id":14789763,"display_name":"gosple"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2169,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1647470132,"creation_date":1647469726,"question_id":71504955,"body_markdown":"Im new to this area, I have a mission, I have build up an application that register some data that I have insert.\r\nlets call this app &quot;A&quot;, now i copy the same app and called it &quot;B&quot;.\r\nIn app &quot;A&quot; and &quot;B&quot; in the manifest file I write this:\r\n\r\n    &lt;activity\r\n                android:name=&quot;.Register&quot;\r\n                android:exported=&quot;false&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;com.action.ex3.register&quot; /&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n\r\nNow in app &quot;C&quot; I want to use what app &quot;A&quot; or &quot;B&quot; doing, in order to to that in the app &quot;C&quot; I write this:\r\n\r\n    public void registerBtnClicked(View view) {\r\n            Intent intent = new Intent(); //implicit activity.\r\n            intent.setAction(&quot;com.action.ex3.register&quot;);\r\n            startActivityForResult(intent, REGISTER_ID);\r\n        }\r\n\r\nwhat I expected that will happen it that when I press in my app &quot;C&quot; on the regiser button a pop out with a &quot;chooser dialog&quot; with option to choose &quot;A&quot; or &quot;B&quot;, but instead of that I got  &quot;chooser dialog&quot; with &quot;no apps can perform this action android studio&quot;\r\n\r\nwhat im doing wrong?\r\nhere a picture of the problem\r\n\r\n[App C &quot;no apps can perform this action android studio&quot;][1]\r\n\r\n**Im using pixel emulator in android studio IDE.**\r\n\r\n  [1]: https://i.stack.imgur.com/43fZJ.png","title":"no apps can perform this action android studio","body":"<p>Im new to this area, I have a mission, I have build up an application that register some data that I have insert.\nlets call this app &quot;A&quot;, now i copy the same app and called it &quot;B&quot;.\nIn app &quot;A&quot; and &quot;B&quot; in the manifest file I write this:</p>\n<pre><code>&lt;activity\n            android:name=&quot;.Register&quot;\n            android:exported=&quot;false&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;com.action.ex3.register&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n</code></pre>\n<p>Now in app &quot;C&quot; I want to use what app &quot;A&quot; or &quot;B&quot; doing, in order to to that in the app &quot;C&quot; I write this:</p>\n<pre><code>public void registerBtnClicked(View view) {\n        Intent intent = new Intent(); //implicit activity.\n        intent.setAction(&quot;com.action.ex3.register&quot;);\n        startActivityForResult(intent, REGISTER_ID);\n    }\n</code></pre>\n<p>what I expected that will happen it that when I press in my app &quot;C&quot; on the regiser button a pop out with a &quot;chooser dialog&quot; with option to choose &quot;A&quot; or &quot;B&quot;, but instead of that I got  &quot;chooser dialog&quot; with &quot;no apps can perform this action android studio&quot;</p>\n<p>what im doing wrong?\nhere a picture of the problem</p>\n<p><a href=\"https://i.stack.imgur.com/43fZJ.png\" rel=\"nofollow noreferrer\">App C &quot;no apps can perform this action android studio&quot;</a></p>\n<p><strong>Im using pixel emulator in android studio IDE.</strong></p>\n"},{"tags":["java","mysql","hibernate","spring-data-jpa","spring-data"],"owner":{"account_id":3007443,"reputation":97,"user_id":2551664,"accept_rate":50,"display_name":"Alok Shukla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":504,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1647469745,"creation_date":1647468521,"question_id":71504791,"body_markdown":"I am using Java 11, Spring boot version 2.4.3 \r\nI am trying to batch insert some entities concurrently by using \r\n\r\n    orderRepository.saveAll(orders)\r\n\r\nI am making parallel request of batch of 20 orders. And each order contains a list of Items. When number of items are higher say more than 30 I am getting Deadlock.   \r\nMy entities looks like this. \r\n\r\nOrder: \r\n\r\n        public class Order {\r\n    \r\n      @Id\r\n      @Column(name = &quot;Id&quot;, updatable = false, nullable = false, columnDefinition = &quot;uniqueidentifier&quot;)\r\n      @GeneratedValue(generator = &quot;UUID&quot;)\r\n      @GenericGenerator(\r\n              name = &quot;UUID&quot;,\r\n              strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\r\n      @Exclude\r\n      private String id;\r\n    \r\n    \r\n      @OneToMany(cascade = {CascadeType.ALL}, orphanRemoval = true, mappedBy = &quot;order&quot;)\r\n      @Exclude\r\n      @BatchSize(size = 4096)\r\n      @Setter(AccessLevel.NONE)\r\n      private List&lt;Item&gt; items;\r\n\r\n  \r\nItem:\r\n\r\n        public class Item {\r\n    \r\n      @Id\r\n      @Column(name = &quot;Id&quot;, updatable = false, nullable = false, columnDefinition = &quot;uniqueidentifier&quot;)\r\n      @GeneratedValue(generator = &quot;UUID&quot;)\r\n      @GenericGenerator(\r\n        name = &quot;UUID&quot;,\r\n        strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\r\n      @Exclude\r\n      private String id;\r\n        \r\n      @ManyToOne\r\n      @JoinColumn(name = &quot;OrderId&quot;, foreignKey = @ForeignKey(name = &quot;FK_Item_Order&quot;), nullable = false)\r\n      @ToString.Exclude\r\n      @Exclude\r\n      private Order order;\r\n    \r\n      @OneToOne(cascade = {CascadeType.ALL}, orphanRemoval = true)\r\n      @JoinColumn(name = &quot;SupplierId&quot;, foreignKey = @ForeignKey(name = &quot;FK_Item_Supplier&quot;))\r\n      private Supplier supplier;\r\n\r\n\r\nSupplier: \r\n\r\n    public class Supplier {\r\n    \r\n      @Id\r\n      @Column(name = &quot;Id&quot;, updatable = false, nullable = false, columnDefinition = &quot;uniqueidentifier&quot;)\r\n      @GeneratedValue(generator = &quot;UUID&quot;)\r\n      @GenericGenerator(\r\n        name = &quot;UUID&quot;,\r\n        strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\r\n      @Exclude\r\n      private String id;\r\n    \r\n    \r\n      @OneToOne(cascade = {CascadeType.ALL}, fetch = FetchType.EAGER, orphanRemoval = true)\r\n      @JoinColumn(name = &quot;AddressId&quot;, foreignKey = @ForeignKey(name = &quot;FK_Supplier_Address&quot;))\r\n      private Address address;\r\n    \r\n      @Column(name = &quot;CreatedAt&quot;, insertable = false, updatable = false)\r\n      @Exclude\r\n      private OffsetDateTime createdAt;\r\n    }\r\n\r\n\r\nAnd the error I am getting : \r\n\r\n\r\n\r\n        Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.CannotAcquireLockException:\r\n    \r\n     could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.LockAcquisitionException: \r\n    \r\n    could not execute statement] with root causecom.microsoft.sqlserver.jdbc.SQLServerException: Transaction (Process ID 529) was deadlocked on lock resources with another process and has been chosen as the deadlock victim. Rerun the transaction.\r\n\r\nLooking at the Database analyser I can see something deadlock is between `Order` and `Supplier`  and sometimes its between `Order` and `Item` .\r\n\r\n\r\n\r\nI am yet to try manual Id generation strategy.\r\n","title":"Concurrent batch request causing DeadLock in database using Spring JPA","body":"<p>I am using Java 11, Spring boot version 2.4.3\nI am trying to batch insert some entities concurrently by using</p>\n<pre><code>orderRepository.saveAll(orders)\n</code></pre>\n<p>I am making parallel request of batch of 20 orders. And each order contains a list of Items. When number of items are higher say more than 30 I am getting Deadlock.<br />\nMy entities looks like this.</p>\n<p>Order:</p>\n<pre><code>    public class Order {\n\n  @Id\n  @Column(name = &quot;Id&quot;, updatable = false, nullable = false, columnDefinition = &quot;uniqueidentifier&quot;)\n  @GeneratedValue(generator = &quot;UUID&quot;)\n  @GenericGenerator(\n          name = &quot;UUID&quot;,\n          strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\n  @Exclude\n  private String id;\n\n\n  @OneToMany(cascade = {CascadeType.ALL}, orphanRemoval = true, mappedBy = &quot;order&quot;)\n  @Exclude\n  @BatchSize(size = 4096)\n  @Setter(AccessLevel.NONE)\n  private List&lt;Item&gt; items;\n</code></pre>\n<p>Item:</p>\n<pre><code>    public class Item {\n\n  @Id\n  @Column(name = &quot;Id&quot;, updatable = false, nullable = false, columnDefinition = &quot;uniqueidentifier&quot;)\n  @GeneratedValue(generator = &quot;UUID&quot;)\n  @GenericGenerator(\n    name = &quot;UUID&quot;,\n    strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\n  @Exclude\n  private String id;\n    \n  @ManyToOne\n  @JoinColumn(name = &quot;OrderId&quot;, foreignKey = @ForeignKey(name = &quot;FK_Item_Order&quot;), nullable = false)\n  @ToString.Exclude\n  @Exclude\n  private Order order;\n\n  @OneToOne(cascade = {CascadeType.ALL}, orphanRemoval = true)\n  @JoinColumn(name = &quot;SupplierId&quot;, foreignKey = @ForeignKey(name = &quot;FK_Item_Supplier&quot;))\n  private Supplier supplier;\n</code></pre>\n<p>Supplier:</p>\n<pre><code>public class Supplier {\n\n  @Id\n  @Column(name = &quot;Id&quot;, updatable = false, nullable = false, columnDefinition = &quot;uniqueidentifier&quot;)\n  @GeneratedValue(generator = &quot;UUID&quot;)\n  @GenericGenerator(\n    name = &quot;UUID&quot;,\n    strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\n  @Exclude\n  private String id;\n\n\n  @OneToOne(cascade = {CascadeType.ALL}, fetch = FetchType.EAGER, orphanRemoval = true)\n  @JoinColumn(name = &quot;AddressId&quot;, foreignKey = @ForeignKey(name = &quot;FK_Supplier_Address&quot;))\n  private Address address;\n\n  @Column(name = &quot;CreatedAt&quot;, insertable = false, updatable = false)\n  @Exclude\n  private OffsetDateTime createdAt;\n}\n</code></pre>\n<p>And the error I am getting :</p>\n<pre><code>    Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.CannotAcquireLockException:\n\n could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.LockAcquisitionException: \n\ncould not execute statement] with root causecom.microsoft.sqlserver.jdbc.SQLServerException: Transaction (Process ID 529) was deadlocked on lock resources with another process and has been chosen as the deadlock victim. Rerun the transaction.\n</code></pre>\n<p>Looking at the Database analyser I can see something deadlock is between <code>Order</code> and <code>Supplier</code>  and sometimes its between <code>Order</code> and <code>Item</code> .</p>\n<p>I am yet to try manual Id generation strategy.</p>\n"},{"tags":["java","maven","junit","junit5"],"comments":[{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":0,"creation_date":1647470066,"post_id":71504947,"comment_id":126382735,"body_markdown":"Hey David, I voted to close as this can be done now with tags. You can also check the junit [documentation](https://junit.org/junit5/docs/current/user-guide/#running-tests-tags) - in particular if you&#39;ll have multiple component tests.","body":"Hey David, I voted to close as this can be done now with tags. You can also check the junit <a href=\"https://junit.org/junit5/docs/current/user-guide/#running-tests-tags\" rel=\"nofollow noreferrer\">documentation</a> - in particular if you&#39;ll have multiple component tests."},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1647471065,"post_id":71504947,"comment_id":126382936,"body_markdown":"I&#39;ll just have to post a new question asking how to get tags working, because it&#39;s not.","body":"I&#39;ll just have to post a new question asking how to get tags working, because it&#39;s not."},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1647839693,"post_id":71504947,"comment_id":126463238,"body_markdown":"And by the way, this should never have been closed. The Surefire maintainers determined that not being able to execute a testsuite from the command line was a bug. They have already created a PR to fix the problem, which will be in the next release.","body":"And by the way, this should never have been closed. The Surefire maintainers determined that not being able to execute a testsuite from the command line was a bug. They have already created a PR to fix the problem, which will be in the next release."}],"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1647470009,"answer_count":0,"score":0,"last_activity_date":1647469665,"creation_date":1647469665,"question_id":71504947,"body_markdown":"We are upgrading our services to a relatively recent SpringBoot version, along with JUnit 5.  We normally run our builds with just &quot;mvn package&quot;, which runs all of our unit tests by default.\r\n\r\nWe also have &quot;component tests&quot;, which are run from a separate command line, and which are all specified in a single test suite with a specific name.  Before JUnit 5, we would run this with something like:\r\n\r\n    mvn -Dtest=ComponentTestSuite test\r\n\r\nThis was working fine with JUnit 4.\r\n\r\nThe class looks like this:\r\n\r\n    @Suite\r\n    @SelectClasses(&lt;testclassname&gt;.class)\r\n    public class ComponentTestSuite {\r\n    }\r\n\r\nWith JUnit 5, this ends up saying &quot;No tests found&quot;.\r\n\r\nWe are using v2.3.12 of Spring-Boot, which by default includes a somewhat older version of JUnit 5.  I am overriding those defaults and including v1.8.2 of the junit-platform components and v5.8.2 of the jupiter components.\r\n\r\nFor the service that I&#39;m testing this with, the test suite only has a single component test (which is unusual).  I WAS able to simply replace &quot;ComponentTestSuite&quot; with the name of the component test class, and that would run that single component test.\r\n\r\nI noticed this thread: https://stackoverflow.com/questions/70299502/junit5-test-suites-with-suite-annotation-doesnt-execute-tests-with-mvn-test-co .\r\n\r\nUnfortunately, what I found was that changing &quot;-Dtest&quot; to &quot;-Dinclude&quot; simply ran all my default unit tests and ignored the test suite.","title":"Maven JUnit 5: Run all unit tests by default or run only a specific test suite from the command line","body":"<p>We are upgrading our services to a relatively recent SpringBoot version, along with JUnit 5.  We normally run our builds with just &quot;mvn package&quot;, which runs all of our unit tests by default.</p>\n<p>We also have &quot;component tests&quot;, which are run from a separate command line, and which are all specified in a single test suite with a specific name.  Before JUnit 5, we would run this with something like:</p>\n<pre><code>mvn -Dtest=ComponentTestSuite test\n</code></pre>\n<p>This was working fine with JUnit 4.</p>\n<p>The class looks like this:</p>\n<pre><code>@Suite\n@SelectClasses(&lt;testclassname&gt;.class)\npublic class ComponentTestSuite {\n}\n</code></pre>\n<p>With JUnit 5, this ends up saying &quot;No tests found&quot;.</p>\n<p>We are using v2.3.12 of Spring-Boot, which by default includes a somewhat older version of JUnit 5.  I am overriding those defaults and including v1.8.2 of the junit-platform components and v5.8.2 of the jupiter components.</p>\n<p>For the service that I'm testing this with, the test suite only has a single component test (which is unusual).  I WAS able to simply replace &quot;ComponentTestSuite&quot; with the name of the component test class, and that would run that single component test.</p>\n<p>I noticed this thread: <a href=\"https://stackoverflow.com/questions/70299502/junit5-test-suites-with-suite-annotation-doesnt-execute-tests-with-mvn-test-co\">Junit5 test suites with @Suite annotation doesn&#39;t execute tests with mvn test command</a> .</p>\n<p>Unfortunately, what I found was that changing &quot;-Dtest&quot; to &quot;-Dinclude&quot; simply ran all my default unit tests and ignored the test suite.</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":1,"creation_date":1647463231,"post_id":71503964,"comment_id":126380848,"body_markdown":"You should look into using multi module projects","body":"You should look into using multi module projects"}],"answers":[{"tags":[],"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647469045,"creation_date":1647469045,"answer_id":71504865,"question_id":71503964,"body_markdown":"I think you need to use Multi module projects.\r\nhere is a simple example.\r\n\r\n`Project A` (main) and includes `Project B` and `Project C`.\r\n\r\n`Project A` setting.gradle\r\n```\r\nrootProject.name = &#39;A&#39;\r\ninclude &#39;:B&#39;, &#39;:C&#39;\r\n```\r\n\r\nAnd `Project A` build.gradle dependency section\r\n```\r\nimplementation project(&#39;:B&#39;)\r\nimplementation project(&#39;:C&#39;)\r\n```\r\n`Project B` and `Project C` are the same with no extra information and here is an example\r\n\r\nProject B setting.gradle\r\n```\r\nrootProject.name = &#39;B&#39;\r\n```\r\nAnd defualt build.gradle with no extra information required.\r\n\r\nThe structure should be look something like the following\r\n\r\n```\r\n\r\nA\r\n--&gt; build.gradle\r\n--&gt; setting.gradle\r\n--&gt; src\r\n------&gt;main\r\n-----------&gt;java\r\n---------------&gt;MainJavaClass.java\r\n--&gt;B\r\n--&gt; build.gradle (for B)\r\n--&gt; setting.gradle (for B)\r\n--&gt; src\r\n------&gt;main\r\n-----------&gt;java\r\n---------------&gt;MainJavaClass.java (for B)\r\n--&gt;C\r\n--&gt; build.gradle (for C)\r\n--&gt; setting.gradle (for C)\r\n--&gt; src\r\n------&gt;main\r\n-----------&gt;java\r\n---------------&gt;MainJavaClass.java (for C)\r\n```\r\nThis way you can use the dependencies and once you build `A project` both `B` and `C` would be build as included dependency.\r\n","title":"How to include inner project with gradle builder","body":"<p>I think you need to use Multi module projects.\nhere is a simple example.</p>\n<p><code>Project A</code> (main) and includes <code>Project B</code> and <code>Project C</code>.</p>\n<p><code>Project A</code> setting.gradle</p>\n<pre><code>rootProject.name = 'A'\ninclude ':B', ':C'\n</code></pre>\n<p>And <code>Project A</code> build.gradle dependency section</p>\n<pre><code>implementation project(':B')\nimplementation project(':C')\n</code></pre>\n<p><code>Project B</code> and <code>Project C</code> are the same with no extra information and here is an example</p>\n<p>Project B setting.gradle</p>\n<pre><code>rootProject.name = 'B'\n</code></pre>\n<p>And defualt build.gradle with no extra information required.</p>\n<p>The structure should be look something like the following</p>\n<pre><code>\nA\n--&gt; build.gradle\n--&gt; setting.gradle\n--&gt; src\n------&gt;main\n-----------&gt;java\n---------------&gt;MainJavaClass.java\n--&gt;B\n--&gt; build.gradle (for B)\n--&gt; setting.gradle (for B)\n--&gt; src\n------&gt;main\n-----------&gt;java\n---------------&gt;MainJavaClass.java (for B)\n--&gt;C\n--&gt; build.gradle (for C)\n--&gt; setting.gradle (for C)\n--&gt; src\n------&gt;main\n-----------&gt;java\n---------------&gt;MainJavaClass.java (for C)\n</code></pre>\n<p>This way you can use the dependencies and once you build <code>A project</code> both <code>B</code> and <code>C</code> would be build as included dependency.</p>\n"}],"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647469045,"creation_date":1647463051,"question_id":71503964,"body_markdown":"I try to follow some tutorial and create my own Gradle task and I need to create the inner project for it. I created a new directory in my main folder with the same structure:\r\n\r\n```\r\nmainproject\r\n--&gt; src\r\n------&gt;build.gradle\r\n------&gt;main\r\n-----------&gt;java\r\n---------------&gt;MainJavaClass.java\r\n-----&gt;innerproject\r\n---------&gt; src\r\n-------------&gt; build.gradle\r\n-------------&gt;main\r\n-----------------&gt;java\r\n--------------------&gt;InnerJavaClass.java\r\n```\r\n\r\nBut in this case I can&#39;t use any dependencies in `innerproject` and `InnerJavaClass.java`, and even can&#39;t execute `psvm` method from the `InnerJavaClass`.\r\nThe error:\r\n\r\n- Could not find or load main class `InnerJavaClass.java`\r\n\r\nHow to correctly include the inner project?\r\n   ","title":"How to include inner project with gradle builder","body":"<p>I try to follow some tutorial and create my own Gradle task and I need to create the inner project for it. I created a new directory in my main folder with the same structure:</p>\n<pre><code>mainproject\n--&gt; src\n------&gt;build.gradle\n------&gt;main\n-----------&gt;java\n---------------&gt;MainJavaClass.java\n-----&gt;innerproject\n---------&gt; src\n-------------&gt; build.gradle\n-------------&gt;main\n-----------------&gt;java\n--------------------&gt;InnerJavaClass.java\n</code></pre>\n<p>But in this case I can't use any dependencies in <code>innerproject</code> and <code>InnerJavaClass.java</code>, and even can't execute <code>psvm</code> method from the <code>InnerJavaClass</code>.\nThe error:</p>\n<ul>\n<li>Could not find or load main class <code>InnerJavaClass.java</code></li>\n</ul>\n<p>How to correctly include the inner project?</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1646617654,"post_id":71374657,"comment_id":126160799,"body_markdown":"please enable debug logs and post them in full here","body":"please enable debug logs and post them in full here"}],"answers":[{"tags":[],"owner":{"account_id":22649232,"reputation":1287,"user_id":16824146,"display_name":"mr.Penguin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647468757,"creation_date":1647468757,"answer_id":71504826,"question_id":71374657,"body_markdown":"Since you are using MongoRepository, you don&#39;t have to specify the @Query annotation, leave it for complex queries. Also you don&#39;t have to specify @Field(&quot;_id&quot;) for the id since you already added the @Id to the attribute, so it will do the same. \r\n\r\nCould you now try to correct your repository like that and tell me if it works: \r\n\r\n        @Repository\r\n        public interface UserRepository extends MongoRepository&lt;User, String&gt; {\r\n        \r\n           Optional&lt;User&gt; findByName(String name);\r\n        }\r\n\r\n\r\n","title":"Mongo Spring Boot not finding user with indexed name","body":"<p>Since you are using MongoRepository, you don't have to specify the @Query annotation, leave it for complex queries. Also you don't have to specify @Field(&quot;_id&quot;) for the id since you already added the @Id to the attribute, so it will do the same.</p>\n<p>Could you now try to correct your repository like that and tell me if it works:</p>\n<pre><code>    @Repository\n    public interface UserRepository extends MongoRepository&lt;User, String&gt; {\n    \n       Optional&lt;User&gt; findByName(String name);\n    }\n</code></pre>\n"}],"owner":{"account_id":19094220,"reputation":590,"user_id":13943867,"display_name":"Lightning Gaming"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647468757,"creation_date":1646605273,"question_id":71374657,"body_markdown":"This is my user document\r\n```java\r\n@Document(&quot;user&quot;)\r\npublic class User {\r\n\r\n    @Id\r\n    @Field(&quot;_id&quot;)\r\n    private String id;\r\n    \r\n    @Indexed\r\n    private String name;\r\n    private String password;\r\n    \r\n    User() {\r\n    }\r\n\r\n    public User(String name, String password) {\r\n\tthis.name = name;\r\n\tthis.password = password;\r\n    }\r\n\r\n    public String getId() {\r\n\treturn id;\r\n    }\r\n\r\n    public String getName() {\r\n\treturn name;\r\n    }\r\n\r\n    public String getPassword() {\r\n\treturn password;\r\n    }\r\n}\r\n```\r\nThis is what it looks like in mongodb\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/R7ijw.png\r\n\r\nBut for some reason when I use this code\r\n```java\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String username) {\r\n\tSystem.out.println(&quot;Searching for user: &quot; + username);\r\n\r\n\tUser user = userRepository.findByName(username);\r\n\t//Does not reach code below this point\r\n\tSystem.out.println(&quot;Search finished&quot;);\r\n\t\r\n\tif (user == null) {\r\n\t    System.out.println(&quot;Aborted. User not found&quot;);\r\n\t    throw new UsernameNotFoundException(username);\r\n\t}\r\n\r\n\tSystem.out.println(&quot;User found. Password: &quot; + user.getPassword());\r\n\r\n\treturn new org.springframework.security.core.userdetails.User(user.getEmail(), user.getPassword(),\r\n\t\tgrantedAuthorities);\r\n    }\r\n```\r\nIt prints out &quot;Searching for user: Name&quot; but does not print out &quot;search finished&quot; or &quot;user found&quot;. My user repository looks like this\r\n```java\r\n@Repository\r\npublic interface UserRepository extends MongoRepository&lt;User, String&gt; {\r\n\r\n    @Query(&quot;{&#39;name&#39;: ?0}&quot;)\r\n    User findByName(String name);\r\n}\r\n```\r\n\r\nSo my question is: Why is it getting stuck on userRepository and how do I fix it. No errors are printed to the console or anything, it just doesn&#39;t work.","title":"Mongo Spring Boot not finding user with indexed name","body":"<p>This is my user document</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Document(&quot;user&quot;)\npublic class User {\n\n    @Id\n    @Field(&quot;_id&quot;)\n    private String id;\n    \n    @Indexed\n    private String name;\n    private String password;\n    \n    User() {\n    }\n\n    public User(String name, String password) {\n    this.name = name;\n    this.password = password;\n    }\n\n    public String getId() {\n    return id;\n    }\n\n    public String getName() {\n    return name;\n    }\n\n    public String getPassword() {\n    return password;\n    }\n}\n</code></pre>\n<p>This is what it looks like in mongodb\n<a href=\"https://i.stack.imgur.com/R7ijw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R7ijw.png\" alt=\"enter image description here\" /></a></p>\n<p>But for some reason when I use this code</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Autowired\n    private UserRepository userRepository;\n\n    @Override\n    public UserDetails loadUserByUsername(String username) {\n    System.out.println(&quot;Searching for user: &quot; + username);\n\n    User user = userRepository.findByName(username);\n    //Does not reach code below this point\n    System.out.println(&quot;Search finished&quot;);\n    \n    if (user == null) {\n        System.out.println(&quot;Aborted. User not found&quot;);\n        throw new UsernameNotFoundException(username);\n    }\n\n    System.out.println(&quot;User found. Password: &quot; + user.getPassword());\n\n    return new org.springframework.security.core.userdetails.User(user.getEmail(), user.getPassword(),\n        grantedAuthorities);\n    }\n</code></pre>\n<p>It prints out &quot;Searching for user: Name&quot; but does not print out &quot;search finished&quot; or &quot;user found&quot;. My user repository looks like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface UserRepository extends MongoRepository&lt;User, String&gt; {\n\n    @Query(&quot;{'name': ?0}&quot;)\n    User findByName(String name);\n}\n</code></pre>\n<p>So my question is: Why is it getting stuck on userRepository and how do I fix it. No errors are printed to the console or anything, it just doesn't work.</p>\n"},{"tags":["java","android","multithreading"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1647473787,"post_id":71503832,"comment_id":126383439,"body_markdown":"On the command1B you set an onTouchListener, not an onClickListener.  An touch event is sent every time you touch the view, release the view, or move so much as a pixel.  You could be sending 100s of 1s with this code.  Instead, you want to filter the motion events and listen only to the ones you want to react to.  And using the motion of the touch to send a continuous stream of 1s is a bad idea-  there will be no cadence to it, the timing would be totally random.  Especially since motion events can be combined.  If you want to send a stream of 1s, use a timer or thread.","body":"On the command1B you set an onTouchListener, not an onClickListener.  An touch event is sent every time you touch the view, release the view, or move so much as a pixel.  You could be sending 100s of 1s with this code.  Instead, you want to filter the motion events and listen only to the ones you want to react to.  And using the motion of the touch to send a continuous stream of 1s is a bad idea-  there will be no cadence to it, the timing would be totally random.  Especially since motion events can be combined.  If you want to send a stream of 1s, use a timer or thread."},{"owner":{"account_id":24581445,"reputation":5,"user_id":18486505,"display_name":"Dzh121"},"score":0,"creation_date":1647478714,"post_id":71503832,"comment_id":126384252,"body_markdown":"I want it to send 1s while I&#39;m touching the button. The 1s are sent to Bluetooth and to my Arduino so I want it to send a lot. But I&#39;m having a problem detecting when I release the button","body":"I want it to send 1s while I&#39;m touching the button. The 1s are sent to Bluetooth and to my Arduino so I want it to send a lot. But I&#39;m having a problem detecting when I release the button"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1647483595,"post_id":71503832,"comment_id":126385037,"body_markdown":"Releasing the button would be an  ACTION_UP event in the motion event.  But that is NOT a good way of sending continuous ones.  You really ought to do a timer sending a 1 at a fixed interval.  This way you could send a 1 every 10ms, or 100ms, or 20s and you won&#39;t know.","body":"Releasing the button would be an  ACTION_UP event in the motion event.  But that is NOT a good way of sending continuous ones.  You really ought to do a timer sending a 1 at a fixed interval.  This way you could send a 1 every 10ms, or 100ms, or 20s and you won&#39;t know."},{"owner":{"account_id":24581445,"reputation":5,"user_id":18486505,"display_name":"Dzh121"},"score":0,"creation_date":1647512162,"post_id":71503832,"comment_id":126391827,"body_markdown":"At the end I didn&#39;t use the service found another better way thanks for the help","body":"At the end I didn&#39;t use the service found another better way thanks for the help"}],"answers":[{"tags":[],"owner":{"account_id":15769823,"reputation":145,"user_id":11379189,"display_name":"Michele Verriello"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1647468529,"creation_date":1647468529,"answer_id":71504792,"question_id":71503832,"body_markdown":"To run background services you need to use Service class or/and Background Threads.\r\n\r\nService documentation: https://developer.android.com/guide/components/services\r\n\r\nBackGround Threads: https://developer.android.com/guide/background/threading","title":"How to run app in backgorund amdroid studio/java","body":"<p>To run background services you need to use Service class or/and Background Threads.</p>\n<p>Service documentation: <a href=\"https://developer.android.com/guide/components/services\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/components/services</a></p>\n<p>BackGround Threads: <a href=\"https://developer.android.com/guide/background/threading\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/background/threading</a></p>\n"}],"owner":{"account_id":24581445,"reputation":5,"user_id":18486505,"display_name":"Dzh121"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647468529,"creation_date":1647462305,"question_id":71503832,"body_markdown":"I want my app to write to my bluetooth receiver commend until i hold a button, then the commend will change and continue when i release. (it will send 0 always until i will hold, and then it will send 1 and when i release 0 again).\r\nI tried to make a thread it will send the 0 that is working but when i hold the button it sends 1(as intened) but when i release it doesnt sends 0 again.\r\n\r\n    package com.example.bluetooth;\r\n    import static android.text.TextUtils.concat;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import android.annotation.SuppressLint;\r\n    import android.bluetooth.BluetoothAdapter;\r\n    import android.bluetooth.BluetoothDevice;\r\n    import android.bluetooth.BluetoothSocket;\r\n    import android.graphics.Bitmap;\r\n    import android.os.AsyncTask;\r\n    import android.os.Bundle;\r\n    import android.os.Handler;\r\n    import android.os.Message;\r\n    import android.os.ParcelUuid;\r\n    import android.util.Log;\r\n    import android.view.MotionEvent;\r\n    import android.view.View;\r\n    import android.widget.AdapterView;\r\n    import android.widget.ArrayAdapter;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.Spinner;\r\n    import java.io.BufferedOutputStream;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.DataOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    import java.net.UnknownHostException;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.Set;\r\n    public class MainActivity extends AppCompatActivity {\r\n        private OutputStream outputStream;\r\n        Spinner spinner;\r\n        ArrayList&lt;String&gt; deviceName = new ArrayList&lt;String&gt;();\r\n        Map&lt;String, String&gt; devicesDict = new HashMap&lt;String, String&gt;();\r\n        Object[] devices;\r\n        EditText InputTI;\r\n        Button sendB;\r\n        Button commend1B;\r\n        String message;\r\n        Boolean connected = false;\r\n        Boolean sending = false;\r\n        @SuppressLint(&quot;ClickableViewAccessibility&quot;)\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            BluetoothAdapter blueAdapter = BluetoothAdapter.getDefaultAdapter();\r\n            if (blueAdapter != null) {\r\n                if (blueAdapter.isEnabled()) {\r\n                    Set&lt;BluetoothDevice&gt; bondedDevices = blueAdapter.getBondedDevices();\r\n    \r\n                    if(bondedDevices.size() &gt; 0) {\r\n    \r\n                        devices = (Object []) bondedDevices.toArray();\r\n                        Log.i(&quot;devices:&quot;,&quot;devices[0]&quot;+devices[0]);\r\n                        Log.i(&quot;devices:&quot;,&quot;devices[1]&quot;+devices[1]);\r\n                        Log.i(&quot;devices:&quot;,&quot;devices[2]&quot;+devices[2]);\r\n                        BluetoothDevice result = null;\r\n                        for (BluetoothDevice device : bondedDevices) {\r\n                            devicesDict.put(&quot;&quot;+device.getName(), &quot;&quot;+device);\r\n                        }\r\n                        Log.i(&quot;dict&quot;,&quot;dict&quot;+devicesDict);\r\n    \r\n                        deviceName.add(&quot;Select:&quot;);\r\n                        for(Map.Entry&lt;String,String&gt; entry : devicesDict.entrySet()){\r\n                            deviceName.add(entry.getKey()+&quot;;&quot;+entry.getValue());\r\n                        }\r\n    \r\n                        spinner = (Spinner) findViewById(R.id.ListSp);\r\n                        ArrayAdapter&lt;CharSequence&gt; adapter = new ArrayAdapter(this, android.R.layout.simple_spinner_dropdown_item, deviceName);\r\n                        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n                        spinner.setAdapter(adapter);\r\n    \r\n                    }\r\n    \r\n                    Log.e(&quot;error&quot;, &quot;No appropriate paired devices.&quot;);\r\n                } else {\r\n                    Log.e(&quot;error&quot;, &quot;Bluetooth is disabled.&quot;);\r\n                }\r\n            }\r\n    \r\n            InputTI = findViewById(R.id.InputTI);\r\n            sendB = findViewById(R.id.sendB);\r\n            commend1B = findViewById(R.id.commend1B);\r\n            Thread thread = new Thread(runnable);\r\n            commend1B.setOnTouchListener(new View.OnTouchListener() {\r\n                @Override\r\n                public boolean onTouch(View view, MotionEvent motionEvent) {\r\n                    sending = true;\r\n                    try {\r\n                        Log.i(&quot;sending&quot;,&quot;sending 1&quot;);\r\n                        write(&quot;1#&quot;);\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    sending = false;\r\n                    return false;\r\n                }\r\n    \r\n            });\r\n    \r\n    \r\n    \r\n    \r\n            sendB.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    Log.i(&quot;sendState&quot;,&quot;state&quot;+sending);\r\n                    message = InputTI.getText().toString()+&quot;#&quot;;\r\n                    try {\r\n                        write(message);\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            });\r\n            spinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n                @Override\r\n                public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n                    String[] splitted;\r\n                    splitted = adapterView.getSelectedItem().toString().split(&quot;;&quot;);\r\n                    if (blueAdapter != null) {\r\n                        if (blueAdapter.isEnabled()) {\r\n                            if (!adapterView.getSelectedItem().toString().equals(&quot;Select:&quot;)) {\r\n                                for (Object o : devices) {\r\n                                    if (o.toString().equals(splitted[1])) {\r\n                                        connected = true;\r\n                                        BluetoothDevice device = (BluetoothDevice) o;\r\n                                        ParcelUuid[] uuids = device.getUuids();\r\n    \r\n                                        BluetoothSocket socket = null;\r\n                                        try {\r\n                                            socket = device.createRfcommSocketToServiceRecord(uuids[0].getUuid());\r\n    \r\n                                        } catch (IOException e) {\r\n                                            e.printStackTrace();\r\n                                        }\r\n                                        try {\r\n    \r\n                                            socket.connect();\r\n                                        } catch (IOException e) {\r\n                                            Log.e(&quot;ConnectFail&quot;, &quot;Socket.connect() Failed&quot;, e);\r\n                                            //e.printStackTrace();\r\n    \r\n                                            break;\r\n                                        }\r\n                                        try {\r\n                                            outputStream = socket.getOutputStream();\r\n                                        } catch (IOException e) {\r\n                                            e.printStackTrace();\r\n                                        }\r\n                                        if (connected &amp;&amp; !sending) {\r\n                                            Log.i(&quot;sending&quot;, &quot;sending 021&quot;);\r\n                                            thread.start();\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }else{\r\n                                connected = false;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\r\n    \r\n                }\r\n            });\r\n            }\r\n        Runnable runnable = new Runnable(){\r\n            public void run() {\r\n                while (connected &amp;&amp; !sending) {\r\n                        try {\r\n    \r\n                            Log.i(&quot;sending&quot;, &quot;sending 0&quot;);\r\n                            write(&quot;0#&quot;);\r\n                        } catch (IOException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                }\r\n            }\r\n        };\r\n    \r\n    \r\n    \r\n    \r\n        public void write(String s) throws IOException {\r\n            outputStream.write(s.getBytes());\r\n        }\r\n\r\n","title":"How to run app in backgorund amdroid studio/java","body":"<p>I want my app to write to my bluetooth receiver commend until i hold a button, then the commend will change and continue when i release. (it will send 0 always until i will hold, and then it will send 1 and when i release 0 again).\nI tried to make a thread it will send the 0 that is working but when i hold the button it sends 1(as intened) but when i release it doesnt sends 0 again.</p>\n<pre><code>package com.example.bluetooth;\nimport static android.text.TextUtils.concat;\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.annotation.SuppressLint;\nimport android.bluetooth.BluetoothAdapter;\nimport android.bluetooth.BluetoothDevice;\nimport android.bluetooth.BluetoothSocket;\nimport android.graphics.Bitmap;\nimport android.os.AsyncTask;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.os.Message;\nimport android.os.ParcelUuid;\nimport android.util.Log;\nimport android.view.MotionEvent;\nimport android.view.View;\nimport android.widget.AdapterView;\nimport android.widget.ArrayAdapter;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Spinner;\nimport java.io.BufferedOutputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.DataOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.net.UnknownHostException;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Set;\npublic class MainActivity extends AppCompatActivity {\n    private OutputStream outputStream;\n    Spinner spinner;\n    ArrayList&lt;String&gt; deviceName = new ArrayList&lt;String&gt;();\n    Map&lt;String, String&gt; devicesDict = new HashMap&lt;String, String&gt;();\n    Object[] devices;\n    EditText InputTI;\n    Button sendB;\n    Button commend1B;\n    String message;\n    Boolean connected = false;\n    Boolean sending = false;\n    @SuppressLint(&quot;ClickableViewAccessibility&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        BluetoothAdapter blueAdapter = BluetoothAdapter.getDefaultAdapter();\n        if (blueAdapter != null) {\n            if (blueAdapter.isEnabled()) {\n                Set&lt;BluetoothDevice&gt; bondedDevices = blueAdapter.getBondedDevices();\n\n                if(bondedDevices.size() &gt; 0) {\n\n                    devices = (Object []) bondedDevices.toArray();\n                    Log.i(&quot;devices:&quot;,&quot;devices[0]&quot;+devices[0]);\n                    Log.i(&quot;devices:&quot;,&quot;devices[1]&quot;+devices[1]);\n                    Log.i(&quot;devices:&quot;,&quot;devices[2]&quot;+devices[2]);\n                    BluetoothDevice result = null;\n                    for (BluetoothDevice device : bondedDevices) {\n                        devicesDict.put(&quot;&quot;+device.getName(), &quot;&quot;+device);\n                    }\n                    Log.i(&quot;dict&quot;,&quot;dict&quot;+devicesDict);\n\n                    deviceName.add(&quot;Select:&quot;);\n                    for(Map.Entry&lt;String,String&gt; entry : devicesDict.entrySet()){\n                        deviceName.add(entry.getKey()+&quot;;&quot;+entry.getValue());\n                    }\n\n                    spinner = (Spinner) findViewById(R.id.ListSp);\n                    ArrayAdapter&lt;CharSequence&gt; adapter = new ArrayAdapter(this, android.R.layout.simple_spinner_dropdown_item, deviceName);\n                    adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n                    spinner.setAdapter(adapter);\n\n                }\n\n                Log.e(&quot;error&quot;, &quot;No appropriate paired devices.&quot;);\n            } else {\n                Log.e(&quot;error&quot;, &quot;Bluetooth is disabled.&quot;);\n            }\n        }\n\n        InputTI = findViewById(R.id.InputTI);\n        sendB = findViewById(R.id.sendB);\n        commend1B = findViewById(R.id.commend1B);\n        Thread thread = new Thread(runnable);\n        commend1B.setOnTouchListener(new View.OnTouchListener() {\n            @Override\n            public boolean onTouch(View view, MotionEvent motionEvent) {\n                sending = true;\n                try {\n                    Log.i(&quot;sending&quot;,&quot;sending 1&quot;);\n                    write(&quot;1#&quot;);\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n                sending = false;\n                return false;\n            }\n\n        });\n\n\n\n\n        sendB.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Log.i(&quot;sendState&quot;,&quot;state&quot;+sending);\n                message = InputTI.getText().toString()+&quot;#&quot;;\n                try {\n                    write(message);\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n        spinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\n            @Override\n            public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n                String[] splitted;\n                splitted = adapterView.getSelectedItem().toString().split(&quot;;&quot;);\n                if (blueAdapter != null) {\n                    if (blueAdapter.isEnabled()) {\n                        if (!adapterView.getSelectedItem().toString().equals(&quot;Select:&quot;)) {\n                            for (Object o : devices) {\n                                if (o.toString().equals(splitted[1])) {\n                                    connected = true;\n                                    BluetoothDevice device = (BluetoothDevice) o;\n                                    ParcelUuid[] uuids = device.getUuids();\n\n                                    BluetoothSocket socket = null;\n                                    try {\n                                        socket = device.createRfcommSocketToServiceRecord(uuids[0].getUuid());\n\n                                    } catch (IOException e) {\n                                        e.printStackTrace();\n                                    }\n                                    try {\n\n                                        socket.connect();\n                                    } catch (IOException e) {\n                                        Log.e(&quot;ConnectFail&quot;, &quot;Socket.connect() Failed&quot;, e);\n                                        //e.printStackTrace();\n\n                                        break;\n                                    }\n                                    try {\n                                        outputStream = socket.getOutputStream();\n                                    } catch (IOException e) {\n                                        e.printStackTrace();\n                                    }\n                                    if (connected &amp;&amp; !sending) {\n                                        Log.i(&quot;sending&quot;, &quot;sending 021&quot;);\n                                        thread.start();\n                                    }\n                                }\n                            }\n                        }else{\n                            connected = false;\n                        }\n                    }\n                }\n            }\n\n            @Override\n            public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\n\n            }\n        });\n        }\n    Runnable runnable = new Runnable(){\n        public void run() {\n            while (connected &amp;&amp; !sending) {\n                    try {\n\n                        Log.i(&quot;sending&quot;, &quot;sending 0&quot;);\n                        write(&quot;0#&quot;);\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n            }\n        }\n    };\n\n\n\n\n    public void write(String s) throws IOException {\n        outputStream.write(s.getBytes());\n    }\n</code></pre>\n"},{"tags":["java","sql","ms-access","ucanaccess"],"comments":[{"owner":{"account_id":9850721,"reputation":31858,"user_id":7296893,"accept_rate":100,"display_name":"Erik A"},"score":0,"creation_date":1647457768,"post_id":71495991,"comment_id":126379155,"body_markdown":"Hard to know without the schema, but this might be because you&#39;re trying to put `&#39;null&#39;` , a string containing the text null, into a non-text field. Nulls shouldn&#39;t be quoted. It&#39;s certainly beter, however, to use parameters and avoid errors like this altogether","body":"Hard to know without the schema, but this might be because you&#39;re trying to put <code>&#39;null&#39;</code> , a string containing the text null, into a non-text field. Nulls shouldn&#39;t be quoted. It&#39;s certainly beter, however, to use parameters and avoid errors like this altogether"}],"answers":[{"tags":[],"owner":{"account_id":11055074,"reputation":1,"user_id":8118117,"display_name":"Ben Burt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647468397,"creation_date":1647468397,"answer_id":71504775,"question_id":71495991,"body_markdown":"Using Erik A&#39;s suggestion I used a Prepared Statement. This did not fix my issue, however it pointed me to use .executeUpdate() instead of .executeQuery(). This fixed the error. This was because executeQuery() expected a result, as its typing is ResultSet.\r\n\r\nInstead of creating the statement in another class I chose to create a function in the DatabaseControllerClass to handle it: \r\n```\r\npublic static void saveToDatabase(String equipCode, String equipType, String equipDesc, Boolean critEquip, String brand, String type, String serialNum, String otherChar, String obs, String lastEquipCode) {\r\n\t\ttry {\r\n\t\t\tClass.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\r\n\t\t\tConnection c = DriverManager.getConnection(databaseURL);\r\n\t\t\tPreparedStatement st = c.prepareStatement(&quot;UPDATE Equipamentos SET &quot;\r\n\t\t\t\t\t+ &quot;CodigoEquipamento = ?, &quot;\r\n\t\t\t\t\t+ &quot;CodigoPrincipal = ?, &quot;\r\n\t\t\t\t\t+ &quot;Equipamento = ?, &quot;\r\n\t\t\t\t\t+ &quot;EquipamentoCritico = ?, &quot;\r\n\t\t\t\t\t+ &quot;Marca = ?, &quot;\r\n\t\t\t\t\t+ &quot;Tipo = ?, &quot;\r\n\t\t\t\t\t+ &quot;NumeroSerie = ?, &quot;\r\n\t\t\t\t\t+ &quot;OutrasCaracteristicas = ?, &quot;\r\n\t\t\t\t\t+ &quot;Observacoes = ? &quot;\r\n\t\t\t\t\t+ &quot;WHERE CodigoEquipamento = ?&quot;);\r\n\t\t\tst.setString(1, equipCode);\r\n\t\t\tst.setString(2, equipType);\r\n\t\t\tst.setString(3, equipDesc);\r\n\t\t\tst.setBoolean(4, critEquip);\r\n\t\t\tst.setString(5, brand);\r\n\t\t\tst.setString(6,  type);\r\n\t\t\tst.setString(7, serialNum);\r\n\t\t\tst.setString(8, otherChar);\r\n\t\t\tst.setString(9, obs);\r\n\t\t\tst.setString(10, lastEquipCode);\r\n\t\t\tst.executeUpdate();\r\n\t\t}\r\n\t\tcatch(Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n```","title":"UCanAccess Cannot Write To Database, Although it can Read","body":"<p>Using Erik A's suggestion I used a Prepared Statement. This did not fix my issue, however it pointed me to use .executeUpdate() instead of .executeQuery(). This fixed the error. This was because executeQuery() expected a result, as its typing is ResultSet.</p>\n<p>Instead of creating the statement in another class I chose to create a function in the DatabaseControllerClass to handle it:</p>\n<pre><code>public static void saveToDatabase(String equipCode, String equipType, String equipDesc, Boolean critEquip, String brand, String type, String serialNum, String otherChar, String obs, String lastEquipCode) {\n        try {\n            Class.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\n            Connection c = DriverManager.getConnection(databaseURL);\n            PreparedStatement st = c.prepareStatement(&quot;UPDATE Equipamentos SET &quot;\n                    + &quot;CodigoEquipamento = ?, &quot;\n                    + &quot;CodigoPrincipal = ?, &quot;\n                    + &quot;Equipamento = ?, &quot;\n                    + &quot;EquipamentoCritico = ?, &quot;\n                    + &quot;Marca = ?, &quot;\n                    + &quot;Tipo = ?, &quot;\n                    + &quot;NumeroSerie = ?, &quot;\n                    + &quot;OutrasCaracteristicas = ?, &quot;\n                    + &quot;Observacoes = ? &quot;\n                    + &quot;WHERE CodigoEquipamento = ?&quot;);\n            st.setString(1, equipCode);\n            st.setString(2, equipType);\n            st.setString(3, equipDesc);\n            st.setBoolean(4, critEquip);\n            st.setString(5, brand);\n            st.setString(6,  type);\n            st.setString(7, serialNum);\n            st.setString(8, otherChar);\n            st.setString(9, obs);\n            st.setString(10, lastEquipCode);\n            st.executeUpdate();\n        }\n        catch(Exception e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":11055074,"reputation":1,"user_id":8118117,"display_name":"Ben Burt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647468397,"creation_date":1647428755,"question_id":71495991,"body_markdown":"When I attempt to read data from the access database there is no issue, e.g.  \r\n`ResultSet equipmentData = DatabaseController.RunOperation(&quot;SELECT * FROM Equipamentos&quot;);`\r\n\r\nCode for DatabaseController:\r\n```\r\npackage application;\r\n\r\nimport java.sql.*;\r\n\r\n\r\npublic class DatabaseController {\r\n\tprivate static String databaseURL;\r\n\t\r\n\tpublic static void setURL(String url) {\r\n\t\ttry {\r\n\t\t\tdatabaseURL = &quot;jdbc:ucanaccess://&quot; + url + &quot;;readonly=false&quot;;\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static ResultSet RunOperation(String input){\r\n\t\tResultSet rs = null;\r\n\t\ttry {\r\n\t\t\tClass.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\r\n\t\t   Connection c = DriverManager.getConnection(databaseURL);\r\n\t\t   Statement st = c.createStatement();\r\n\t\t   rs = st.executeQuery(input);\r\n\t\t   \r\n\t\t}\r\n\t\tcatch(Exception e){\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t   \r\n\t\t   return rs;\r\n\t}\r\n\t\r\n}\r\n\r\n```\r\n\r\nHowever, when I try to do any operation which writes to the database it does not function. Specifically, I try to update a row with:\r\n```\r\nString operation = &quot;UPDATE Equipamentos SET &quot;\r\n\t\t\t\t+ &quot;CodigoEquipamento = &#39;&quot;+equipmentCode.getText()+&quot;&#39;,  &quot;\r\n\t\t\t\t+ &quot;CodigoPrincipal = &#39;&quot;+equipType+&quot;&#39;, &quot;\r\n\t\t\t\t+ &quot;Equipamento = &#39;&quot;+equipmentDescription.getText()+&quot;&#39;, &quot;\r\n\t\t\t\t+ &quot;EquipamentoCritico = &quot;+ criticalEquipment.isSelected() +&quot;, &quot;\r\n\t\t\t\t+ &quot;Marca = &#39;&quot;+brand.getText()+&quot;&#39;, &quot;\r\n\t\t\t\t+ &quot;Tipo = &#39;&quot;+type.getText()+&quot;&#39;, &quot;\r\n\t\t\t\t+ &quot;NumeroSerie = &#39;&quot;+serialNumber.getText()+&quot;&#39;, &quot;\r\n\t\t\t\t+ &quot;OutrasCaracteristicas = &#39;&quot;+otherCharacteristics.getText()+&quot;&#39;, &quot;\r\n\t\t\t\t+ &quot;Observacoes = &#39;&quot;+observations.getText()+&quot;&#39; &quot;\r\n\t\t\t\t+ &quot;WHERE CodigoEquipamento = &#39;&quot;+this.lastEquipmentCode+&quot;&#39;&quot;;\r\n\t\tDatabaseController.RunOperation(operation);\r\n```\r\n\r\nwhich, when testing, results in the query \r\n```\r\nUPDATE Equipamentos SET CodigoEquipamento = &#39;R100.00&#39;,  CodigoPrincipal = &#39;R100&#39;, Equipamento = &#39;Equipamento provisoriamente sem c&#243;digo&#39;, EquipamentoCritico = true, Marca = &#39;C&#243;digo tempor&#225;rio&#39;, Tipo = &#39;null&#39;, NumeroSerie = &#39;null&#39;, OutrasCaracteristicas = &#39;Todas as Fichas de Trabalho feitas com este C&#243;digo dever&#227;o ser enviadas de imediato para a DPA a fim de se atribuir um c&#243;digo&#39;, Observacoes = &#39;All Job Cards with this code must be sent to the DPA at once in order to attribute a new code&#39; WHERE CodigoEquipamento = &#39;R100.00&#39;\r\n```\r\nI&#39;ve used this query(copy paste) in the access database, and it runs perfectly.\r\n\r\nI have also tried deleting the row and inserting a new one with the edited values, but that also does not work. \r\n\r\nThe error that UCanAccess gives me is UCAExc:::5.0.1 General error.\r\n\r\nThank you for any help you can provide.","title":"UCanAccess Cannot Write To Database, Although it can Read","body":"<p>When I attempt to read data from the access database there is no issue, e.g.<br />\n<code>ResultSet equipmentData = DatabaseController.RunOperation(&quot;SELECT * FROM Equipamentos&quot;);</code></p>\n<p>Code for DatabaseController:</p>\n<pre><code>package application;\n\nimport java.sql.*;\n\n\npublic class DatabaseController {\n    private static String databaseURL;\n    \n    public static void setURL(String url) {\n        try {\n            databaseURL = &quot;jdbc:ucanaccess://&quot; + url + &quot;;readonly=false&quot;;\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n    \n    public static ResultSet RunOperation(String input){\n        ResultSet rs = null;\n        try {\n            Class.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\n           Connection c = DriverManager.getConnection(databaseURL);\n           Statement st = c.createStatement();\n           rs = st.executeQuery(input);\n           \n        }\n        catch(Exception e){\n            e.printStackTrace();\n        }\n           \n           return rs;\n    }\n    \n}\n\n</code></pre>\n<p>However, when I try to do any operation which writes to the database it does not function. Specifically, I try to update a row with:</p>\n<pre><code>String operation = &quot;UPDATE Equipamentos SET &quot;\n                + &quot;CodigoEquipamento = '&quot;+equipmentCode.getText()+&quot;',  &quot;\n                + &quot;CodigoPrincipal = '&quot;+equipType+&quot;', &quot;\n                + &quot;Equipamento = '&quot;+equipmentDescription.getText()+&quot;', &quot;\n                + &quot;EquipamentoCritico = &quot;+ criticalEquipment.isSelected() +&quot;, &quot;\n                + &quot;Marca = '&quot;+brand.getText()+&quot;', &quot;\n                + &quot;Tipo = '&quot;+type.getText()+&quot;', &quot;\n                + &quot;NumeroSerie = '&quot;+serialNumber.getText()+&quot;', &quot;\n                + &quot;OutrasCaracteristicas = '&quot;+otherCharacteristics.getText()+&quot;', &quot;\n                + &quot;Observacoes = '&quot;+observations.getText()+&quot;' &quot;\n                + &quot;WHERE CodigoEquipamento = '&quot;+this.lastEquipmentCode+&quot;'&quot;;\n        DatabaseController.RunOperation(operation);\n</code></pre>\n<p>which, when testing, results in the query</p>\n<pre><code>UPDATE Equipamentos SET CodigoEquipamento = 'R100.00',  CodigoPrincipal = 'R100', Equipamento = 'Equipamento provisoriamente sem código', EquipamentoCritico = true, Marca = 'Código temporário', Tipo = 'null', NumeroSerie = 'null', OutrasCaracteristicas = 'Todas as Fichas de Trabalho feitas com este Código deverão ser enviadas de imediato para a DPA a fim de se atribuir um código', Observacoes = 'All Job Cards with this code must be sent to the DPA at once in order to attribute a new code' WHERE CodigoEquipamento = 'R100.00'\n</code></pre>\n<p>I've used this query(copy paste) in the access database, and it runs perfectly.</p>\n<p>I have also tried deleting the row and inserting a new one with the edited values, but that also does not work.</p>\n<p>The error that UCanAccess gives me is UCAExc:::5.0.1 General error.</p>\n<p>Thank you for any help you can provide.</p>\n"},{"tags":["java","spring-boot","api","rest","microservices"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1647468636,"post_id":71504729,"comment_id":126382421,"body_markdown":"Have you tried html parsers like [Jsoup](https://jsoup.org/) or [HtmlUnit](https://htmlunit.sourceforge.io/)?","body":"Have you tried html parsers like <a href=\"https://jsoup.org/\" rel=\"nofollow noreferrer\">Jsoup</a> or <a href=\"https://htmlunit.sourceforge.io/\" rel=\"nofollow noreferrer\">HtmlUnit</a>?"},{"owner":{"account_id":18035205,"reputation":9,"user_id":13108781,"display_name":"Azad"},"score":0,"creation_date":1647536047,"post_id":71504729,"comment_id":126401349,"body_markdown":"@Eritrean Not yet, but I wonder if it is possible to use the time-series data from a website as API?","body":"@Eritrean Not yet, but I wonder if it is possible to use the time-series data from a website as API?"},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1647538248,"post_id":71504729,"comment_id":126402124,"body_markdown":"Without knowing about which site you are talking and how the data you desire is presented on that site, hard to tell.","body":"Without knowing about which site you are talking and how the data you desire is presented on that site, hard to tell."},{"owner":{"account_id":18035205,"reputation":9,"user_id":13108781,"display_name":"Azad"},"score":0,"creation_date":1647538551,"post_id":71504729,"comment_id":126402243,"body_markdown":"This is the website I&#39;m trying to get the currency exchange rates ==&gt; https://www.bundesbank.de/dynamic/action/en/statistics/time-series-databases/time-series-databases/759784/759784?statisticType=BBK_ITS&amp;listId=www_sdks_b01012_3&amp;treeAnchor=WECHSELKURSE","body":"This is the website I&#39;m trying to get the currency exchange rates ==&gt; <a href=\"https://www.bundesbank.de/dynamic/action/en/statistics/time-series-databases/time-series-databases/759784/759784?statisticType=BBK_ITS&amp;listId=www_sdks_b01012_3&amp;treeAnchor=WECHSELKURSE\" rel=\"nofollow noreferrer\">bundesbank.de/dynamic/action/en/statistics/&hellip;</a>"},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1647540021,"post_id":71504729,"comment_id":126402749,"body_markdown":"They have a well documented REST-API interface!! You can find the web service discription here: [web-service](https://www.bundesbank.de/en/statistics/time-series-databases/help-for-sdmx-web-service) and you can try it out here [Bundesbank SDMX](https://api.statistiken.bundesbank.de/doc/index.html?urls.primaryName=Deutsche%20REST%20API%20Dokumentation). You could also use htmlUnit to automatically download the csv-files but I would not recomend it.","body":"They have a well documented REST-API interface!! You can find the web service discription here: <a href=\"https://www.bundesbank.de/en/statistics/time-series-databases/help-for-sdmx-web-service\" rel=\"nofollow noreferrer\">web-service</a> and you can try it out here <a href=\"https://api.statistiken.bundesbank.de/doc/index.html?urls.primaryName=Deutsche%20REST%20API%20Dokumentation\" rel=\"nofollow noreferrer\">Bundesbank SDMX</a>. You could also use htmlUnit to automatically download the csv-files but I would not recomend it."},{"owner":{"account_id":18035205,"reputation":9,"user_id":13108781,"display_name":"Azad"},"score":1,"creation_date":1647541192,"post_id":71504729,"comment_id":126403132,"body_markdown":"@Eritrean, I am really grateful for your help. To be honest, this is my first time working with APIs , so I don&#39;t know even why I have missed this page in their websites :D\nBut anyway thank you for your help :)","body":"@Eritrean, I am really grateful for your help. To be honest, this is my first time working with APIs , so I don&#39;t know even why I have missed this page in their websites :D But anyway thank you for your help :)"}],"owner":{"account_id":18035205,"reputation":9,"user_id":13108781,"display_name":"Azad"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647468083,"creation_date":1647468083,"question_id":71504729,"body_markdown":"I am trying to build a REST API project with spring boot which is getting the available currencies and USD-FX exchange rates and etc. But the problem is that the currency exchange rate-related websites just provide an API only for the Exchange currency rate or the ones with more options don&#39;t give it for free. So there is a website that does not provide an API but it presents the data with time series. So is there any way to use time series instead of API in the project?","title":"How to fetch data from a website without using API?","body":"<p>I am trying to build a REST API project with spring boot which is getting the available currencies and USD-FX exchange rates and etc. But the problem is that the currency exchange rate-related websites just provide an API only for the Exchange currency rate or the ones with more options don't give it for free. So there is a website that does not provide an API but it presents the data with time series. So is there any way to use time series instead of API in the project?</p>\n"},{"tags":["java","swing","drag-and-drop","jlabel","jinternalframe"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1647461954,"post_id":71503700,"comment_id":126380454,"body_markdown":"1) Start with changing `((JLabel) component).setIcon(icon);` to `la.setIcon(icon);` 2) Note that a `JInternalFrame` needs to be added to a `JDesktopPane.","body":"1) Start with changing <code>((JLabel) component).setIcon(icon);</code> to <code>la.setIcon(icon);</code> 2) Note that a <code>JInternalFrame</code> needs to be added to a `JDesktopPane."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1647462349,"post_id":71503700,"comment_id":126380578,"body_markdown":".. 3) `public class Test` The class would be better called `TestDropImageToInternalFrame`. Yes, it&#39;s more typing, but it has a variety of advantages, including descriptive clarity and lowering the chance of a name clash in the single package that people might use for testing SO code.","body":".. 3) <code>public class Test</code> The class would be better called <code>TestDropImageToInternalFrame</code>. Yes, it&#39;s more typing, but it has a variety of advantages, including descriptive clarity and lowering the chance of a name clash in the single package that people might use for testing SO code."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1647463683,"post_id":71503700,"comment_id":126380997,"body_markdown":"Ask yourself the question, &quot;what&#39;s the difference between dropping a image on a label and dropping an image on an internal frame?&quot; - this will help identify the areas of the code which need to change","body":"Ask yourself the question, &quot;what&#39;s the difference between dropping a image on a label and dropping an image on an internal frame?&quot; - this will help identify the areas of the code which need to change"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647467333,"creation_date":1647467333,"answer_id":71504636,"question_id":71503700,"body_markdown":"Drop and image on a frame, panel, label, internal frame, is all effectively the same thing.  For me, I&#39;d focus on common denominator to make things easier, for me, this means a `JPanel`.\r\n\r\nA `JPanel` can be added to a frame, internal frame another panel/container and can make decisions about how to present the drop, in this case, it can use a `JLabel` to present an image.\r\n\r\nSo, based on https://stackoverflow.com/questions/13597233/how-to-drag-and-drop-files-from-a-directory-in-java/13597635#13597635 and https://stackoverflow.com/questions/15080244/java-drag-n-drop-files-of-specific-extension-on-jframe/15080654#15080654\r\n\r\nYou could do something like...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Image;\r\n    import java.awt.Point;\r\n    import java.awt.Rectangle;\r\n    import java.awt.datatransfer.DataFlavor;\r\n    import java.awt.datatransfer.Transferable;\r\n    import java.awt.datatransfer.UnsupportedFlavorException;\r\n    import java.awt.dnd.DnDConstants;\r\n    import java.awt.dnd.DropTarget;\r\n    import java.awt.dnd.DropTargetDragEvent;\r\n    import java.awt.dnd.DropTargetDropEvent;\r\n    import java.awt.dnd.DropTargetEvent;\r\n    import java.awt.dnd.DropTargetListener;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.util.List;\r\n    import java.util.TooManyListenersException;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.JDesktopPane;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JInternalFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingUtilities;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JInternalFrame littleFrame = new JInternalFrame(&quot;Hello&quot;, true, true, true, true);\r\n                    littleFrame.add(new DropPane());\r\n                    littleFrame.pack();\r\n                    littleFrame.setVisible(true);\r\n\r\n                    JDesktopPane desktopPane = new JDesktopPane();\r\n                    desktopPane.add(littleFrame);\r\n                    desktopPane.setPreferredSize(new Dimension(400, 400));\r\n\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(desktopPane);\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class DropPane extends JPanel {\r\n\r\n            private DropTarget dropTarget;\r\n            private DropTargetHandler dropTargetHandler;\r\n            private Point dragPoint;\r\n            private boolean dragAccepted;\r\n\r\n            private boolean dragOver = false;\r\n            private JLabel message;\r\n\r\n            public DropPane() {\r\n                setLayout(new GridBagLayout());\r\n                message = new JLabel();\r\n                add(message);\r\n\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(200, 200);\r\n            }\r\n\r\n            protected DropTarget getMyDropTarget() {\r\n                if (dropTarget == null) {\r\n                    dropTarget = new DropTarget(this, DnDConstants.ACTION_COPY_OR_MOVE, null);\r\n                }\r\n                return dropTarget;\r\n            }\r\n\r\n            protected DropTargetHandler getDropTargetHandler() {\r\n                if (dropTargetHandler == null) {\r\n                    dropTargetHandler = new DropTargetHandler();\r\n                }\r\n                return dropTargetHandler;\r\n            }\r\n\r\n            @Override\r\n            public void addNotify() {\r\n                super.addNotify();\r\n                try {\r\n                    getMyDropTarget().addDropTargetListener(getDropTargetHandler());\r\n                } catch (TooManyListenersException ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void removeNotify() {\r\n                super.removeNotify();\r\n                getMyDropTarget().removeDropTargetListener(getDropTargetHandler());\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                if (dragOver) {\r\n                    Graphics2D g2d = (Graphics2D) g.create();\r\n                    if (dragAccepted) {\r\n                        g2d.setColor(new Color(0, 255, 0, 64));\r\n                    } else {\r\n                        g2d.setColor(new Color(255, 0, 0, 64));\r\n                    }\r\n                    g2d.fill(new Rectangle(getWidth(), getHeight()));\r\n                    if (dragPoint != null) {\r\n                        int x = dragPoint.x - 25;\r\n                        int y = dragPoint.y - 25;\r\n                        g2d.setColor(Color.BLACK);\r\n                        g2d.drawRect(x, y, 50, 50);\r\n                    }\r\n                    g2d.dispose();\r\n                }\r\n            }\r\n\r\n            protected void importedImage(final Image image) {\r\n                Runnable run = new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        if (image == null) {\r\n                            message.setIcon(null);\r\n                        } else {\r\n                            message.setIcon(new ImageIcon(image));\r\n                        }\r\n                    }\r\n                };\r\n                SwingUtilities.invokeLater(run);\r\n            }\r\n\r\n            protected void importFailed(final String message) {\r\n                SwingUtilities.invokeLater(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        JOptionPane.showMessageDialog(DropPane.this, message, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n                    }\r\n                });\r\n            }\r\n\r\n            protected class DropTargetHandler implements DropTargetListener {\r\n\r\n                private String[] validExtenions = new String[]{\r\n                    &quot;.png&quot;, &quot;.jpeg&quot;, &quot;.jpeg&quot;, &quot;bmp&quot;, &quot;gif&quot;\r\n                };\r\n\r\n                protected boolean canAcceptFile(File file) {\r\n                    String name = file.getName().toLowerCase();\r\n                    for (String ext : validExtenions) {\r\n                        if (name.endsWith(ext)) {\r\n                            return true;\r\n                        }\r\n                    }\r\n                    return false;\r\n                }\r\n\r\n                protected File acceptableFileFrom(Transferable transferable) throws UnsupportedFlavorException, IOException {\r\n                    Object transferData = transferable.getTransferData(DataFlavor.javaFileListFlavor);\r\n                    if (transferData == null) {\r\n                        return null;\r\n                    }\r\n                    List fileList = (List) transferData;\r\n                    if (fileList.size() &gt; 1) {\r\n                        return null;\r\n                    }\r\n                    File file = (File) fileList.get(0);\r\n                    if (canAcceptFile(file)) {\r\n                        return file;\r\n                    }\r\n                    return null;\r\n                }\r\n\r\n                protected boolean canAcceptDrag(Transferable transferable) {\r\n                    if (transferable == null) {\r\n                        return true;\r\n                    }\r\n                    try {\r\n                        File file = acceptableFileFrom(transferable);\r\n                        if (file == null) {\r\n                            return true;\r\n                        }\r\n                    } catch (UnsupportedFlavorException | IOException ex) {\r\n                        Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n                        return false;\r\n                    }\r\n                    return false;\r\n                }\r\n\r\n                protected boolean acceptsDrag(DropTargetDragEvent dtde) {\r\n                    if (dtde.isDataFlavorSupported(DataFlavor.javaFileListFlavor)) {\r\n                        Transferable transferable = dtde.getTransferable();\r\n                        if (DropTargetHandler.this.canAcceptDrag(transferable)) {\r\n                            dtde.acceptDrag(DnDConstants.ACTION_COPY);\r\n                            return true;\r\n                        } else {\r\n                            dtde.rejectDrag();\r\n                            return false;\r\n                        }\r\n                    } else {\r\n                        dtde.rejectDrag();\r\n                        return false;\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void dragEnter(DropTargetDragEvent dtde) {\r\n                    boolean accepted = acceptsDrag(dtde);\r\n                    SwingUtilities.invokeLater(new DragUpdate(true, dtde.getLocation(), accepted));\r\n                    repaint();\r\n                }\r\n\r\n                @Override\r\n                public void dragOver(DropTargetDragEvent dtde) {\r\n                    boolean accepted = acceptsDrag(dtde);\r\n                    SwingUtilities.invokeLater(new DragUpdate(true, dtde.getLocation(), accepted));\r\n                    repaint();\r\n                }\r\n\r\n                @Override\r\n                public void dropActionChanged(DropTargetDragEvent dtde) {\r\n                }\r\n\r\n                @Override\r\n                public void dragExit(DropTargetEvent dte) {\r\n                    SwingUtilities.invokeLater(new DragUpdate(false, null, false));\r\n                    repaint();\r\n                }\r\n\r\n                @Override\r\n                public void drop(DropTargetDropEvent dtde) {\r\n                    SwingUtilities.invokeLater(new DragUpdate(false, null, false));\r\n                    importedImage(null);\r\n                    if (dtde.isDataFlavorSupported(DataFlavor.javaFileListFlavor)) {\r\n                        dtde.acceptDrop(dtde.getDropAction());\r\n\r\n                        try {\r\n                            Transferable transferable = dtde.getTransferable();\r\n                            File file = acceptableFileFrom(transferable);\r\n                            if (file == null) {\r\n                                importFailed(&quot;Not a supported image file&quot;);\r\n                                dtde.dropComplete(false);\r\n                            } else {\r\n                                BufferedImage image = ImageIO.read(file);\r\n                                dtde.dropComplete(true);\r\n                                importedImage(image);\r\n                            }\r\n                        } catch (Exception ex) {\r\n                            ex.printStackTrace();\r\n                            dtde.dropComplete(false);\r\n                            importFailed(&quot;Not a supported image format&quot;);\r\n                        }\r\n                    } else {\r\n                        dtde.rejectDrop();\r\n                    }\r\n                }\r\n            }\r\n\r\n            public class DragUpdate implements Runnable {\r\n\r\n                private boolean dragOver;\r\n                private Point dragPoint;\r\n                private boolean accepted;\r\n\r\n                public DragUpdate(boolean dragOver, Point dragPoint, boolean accepted) {\r\n                    this.dragOver = dragOver;\r\n                    this.dragPoint = dragPoint;\r\n                    this.accepted = accepted;\r\n                }\r\n\r\n                @Override\r\n                public void run() {\r\n                    DropPane.this.dragOver = dragOver;\r\n                    DropPane.this.dragPoint = dragPoint;\r\n                    DropPane.this.dragAccepted = accepted;\r\n                    DropPane.this.repaint();\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/byPXz.gif\r\n\r\n*nb:* On MacOS, you can&#39;t pre-process the `Transferable` data.  It did work on Windows way back when I was using Windows 7, I can&#39;t verify if it still works.","title":"How to drop images into a JInternalFrame?","body":"<p>Drop and image on a frame, panel, label, internal frame, is all effectively the same thing.  For me, I'd focus on common denominator to make things easier, for me, this means a <code>JPanel</code>.</p>\n<p>A <code>JPanel</code> can be added to a frame, internal frame another panel/container and can make decisions about how to present the drop, in this case, it can use a <code>JLabel</code> to present an image.</p>\n<p>So, based on <a href=\"https://stackoverflow.com/questions/13597233/how-to-drag-and-drop-files-from-a-directory-in-java/13597635#13597635\">how to drag and drop files from a directory in java</a> and <a href=\"https://stackoverflow.com/questions/15080244/java-drag-n-drop-files-of-specific-extension-on-jframe/15080654#15080654\">Java Drag-n-Drop files of specific extension on JFrame</a></p>\n<p>You could do something like...</p>\n<p><a href=\"https://i.stack.imgur.com/byPXz.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/byPXz.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.GridBagLayout;\nimport java.awt.Image;\nimport java.awt.Point;\nimport java.awt.Rectangle;\nimport java.awt.datatransfer.DataFlavor;\nimport java.awt.datatransfer.Transferable;\nimport java.awt.datatransfer.UnsupportedFlavorException;\nimport java.awt.dnd.DnDConstants;\nimport java.awt.dnd.DropTarget;\nimport java.awt.dnd.DropTargetDragEvent;\nimport java.awt.dnd.DropTargetDropEvent;\nimport java.awt.dnd.DropTargetEvent;\nimport java.awt.dnd.DropTargetListener;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.List;\nimport java.util.TooManyListenersException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.imageio.ImageIO;\nimport javax.swing.ImageIcon;\nimport javax.swing.JDesktopPane;\nimport javax.swing.JFrame;\nimport javax.swing.JInternalFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JInternalFrame littleFrame = new JInternalFrame(&quot;Hello&quot;, true, true, true, true);\n                littleFrame.add(new DropPane());\n                littleFrame.pack();\n                littleFrame.setVisible(true);\n\n                JDesktopPane desktopPane = new JDesktopPane();\n                desktopPane.add(littleFrame);\n                desktopPane.setPreferredSize(new Dimension(400, 400));\n\n                JFrame frame = new JFrame();\n                frame.add(desktopPane);\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class DropPane extends JPanel {\n\n        private DropTarget dropTarget;\n        private DropTargetHandler dropTargetHandler;\n        private Point dragPoint;\n        private boolean dragAccepted;\n\n        private boolean dragOver = false;\n        private JLabel message;\n\n        public DropPane() {\n            setLayout(new GridBagLayout());\n            message = new JLabel();\n            add(message);\n\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(200, 200);\n        }\n\n        protected DropTarget getMyDropTarget() {\n            if (dropTarget == null) {\n                dropTarget = new DropTarget(this, DnDConstants.ACTION_COPY_OR_MOVE, null);\n            }\n            return dropTarget;\n        }\n\n        protected DropTargetHandler getDropTargetHandler() {\n            if (dropTargetHandler == null) {\n                dropTargetHandler = new DropTargetHandler();\n            }\n            return dropTargetHandler;\n        }\n\n        @Override\n        public void addNotify() {\n            super.addNotify();\n            try {\n                getMyDropTarget().addDropTargetListener(getDropTargetHandler());\n            } catch (TooManyListenersException ex) {\n                ex.printStackTrace();\n            }\n        }\n\n        @Override\n        public void removeNotify() {\n            super.removeNotify();\n            getMyDropTarget().removeDropTargetListener(getDropTargetHandler());\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            if (dragOver) {\n                Graphics2D g2d = (Graphics2D) g.create();\n                if (dragAccepted) {\n                    g2d.setColor(new Color(0, 255, 0, 64));\n                } else {\n                    g2d.setColor(new Color(255, 0, 0, 64));\n                }\n                g2d.fill(new Rectangle(getWidth(), getHeight()));\n                if (dragPoint != null) {\n                    int x = dragPoint.x - 25;\n                    int y = dragPoint.y - 25;\n                    g2d.setColor(Color.BLACK);\n                    g2d.drawRect(x, y, 50, 50);\n                }\n                g2d.dispose();\n            }\n        }\n\n        protected void importedImage(final Image image) {\n            Runnable run = new Runnable() {\n                @Override\n                public void run() {\n                    if (image == null) {\n                        message.setIcon(null);\n                    } else {\n                        message.setIcon(new ImageIcon(image));\n                    }\n                }\n            };\n            SwingUtilities.invokeLater(run);\n        }\n\n        protected void importFailed(final String message) {\n            SwingUtilities.invokeLater(new Runnable() {\n                @Override\n                public void run() {\n                    JOptionPane.showMessageDialog(DropPane.this, message, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n                }\n            });\n        }\n\n        protected class DropTargetHandler implements DropTargetListener {\n\n            private String[] validExtenions = new String[]{\n                &quot;.png&quot;, &quot;.jpeg&quot;, &quot;.jpeg&quot;, &quot;bmp&quot;, &quot;gif&quot;\n            };\n\n            protected boolean canAcceptFile(File file) {\n                String name = file.getName().toLowerCase();\n                for (String ext : validExtenions) {\n                    if (name.endsWith(ext)) {\n                        return true;\n                    }\n                }\n                return false;\n            }\n\n            protected File acceptableFileFrom(Transferable transferable) throws UnsupportedFlavorException, IOException {\n                Object transferData = transferable.getTransferData(DataFlavor.javaFileListFlavor);\n                if (transferData == null) {\n                    return null;\n                }\n                List fileList = (List) transferData;\n                if (fileList.size() &gt; 1) {\n                    return null;\n                }\n                File file = (File) fileList.get(0);\n                if (canAcceptFile(file)) {\n                    return file;\n                }\n                return null;\n            }\n\n            protected boolean canAcceptDrag(Transferable transferable) {\n                if (transferable == null) {\n                    return true;\n                }\n                try {\n                    File file = acceptableFileFrom(transferable);\n                    if (file == null) {\n                        return true;\n                    }\n                } catch (UnsupportedFlavorException | IOException ex) {\n                    Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n                    return false;\n                }\n                return false;\n            }\n\n            protected boolean acceptsDrag(DropTargetDragEvent dtde) {\n                if (dtde.isDataFlavorSupported(DataFlavor.javaFileListFlavor)) {\n                    Transferable transferable = dtde.getTransferable();\n                    if (DropTargetHandler.this.canAcceptDrag(transferable)) {\n                        dtde.acceptDrag(DnDConstants.ACTION_COPY);\n                        return true;\n                    } else {\n                        dtde.rejectDrag();\n                        return false;\n                    }\n                } else {\n                    dtde.rejectDrag();\n                    return false;\n                }\n            }\n\n            @Override\n            public void dragEnter(DropTargetDragEvent dtde) {\n                boolean accepted = acceptsDrag(dtde);\n                SwingUtilities.invokeLater(new DragUpdate(true, dtde.getLocation(), accepted));\n                repaint();\n            }\n\n            @Override\n            public void dragOver(DropTargetDragEvent dtde) {\n                boolean accepted = acceptsDrag(dtde);\n                SwingUtilities.invokeLater(new DragUpdate(true, dtde.getLocation(), accepted));\n                repaint();\n            }\n\n            @Override\n            public void dropActionChanged(DropTargetDragEvent dtde) {\n            }\n\n            @Override\n            public void dragExit(DropTargetEvent dte) {\n                SwingUtilities.invokeLater(new DragUpdate(false, null, false));\n                repaint();\n            }\n\n            @Override\n            public void drop(DropTargetDropEvent dtde) {\n                SwingUtilities.invokeLater(new DragUpdate(false, null, false));\n                importedImage(null);\n                if (dtde.isDataFlavorSupported(DataFlavor.javaFileListFlavor)) {\n                    dtde.acceptDrop(dtde.getDropAction());\n\n                    try {\n                        Transferable transferable = dtde.getTransferable();\n                        File file = acceptableFileFrom(transferable);\n                        if (file == null) {\n                            importFailed(&quot;Not a supported image file&quot;);\n                            dtde.dropComplete(false);\n                        } else {\n                            BufferedImage image = ImageIO.read(file);\n                            dtde.dropComplete(true);\n                            importedImage(image);\n                        }\n                    } catch (Exception ex) {\n                        ex.printStackTrace();\n                        dtde.dropComplete(false);\n                        importFailed(&quot;Not a supported image format&quot;);\n                    }\n                } else {\n                    dtde.rejectDrop();\n                }\n            }\n        }\n\n        public class DragUpdate implements Runnable {\n\n            private boolean dragOver;\n            private Point dragPoint;\n            private boolean accepted;\n\n            public DragUpdate(boolean dragOver, Point dragPoint, boolean accepted) {\n                this.dragOver = dragOver;\n                this.dragPoint = dragPoint;\n                this.accepted = accepted;\n            }\n\n            @Override\n            public void run() {\n                DropPane.this.dragOver = dragOver;\n                DropPane.this.dragPoint = dragPoint;\n                DropPane.this.dragAccepted = accepted;\n                DropPane.this.repaint();\n            }\n        }\n\n    }\n}\n</code></pre>\n<p><em>nb:</em> On MacOS, you can't pre-process the <code>Transferable</code> data.  It did work on Windows way back when I was using Windows 7, I can't verify if it still works.</p>\n"}],"owner":{"account_id":23923601,"reputation":1,"user_id":17919017,"display_name":"ash"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647467333,"creation_date":1647461628,"question_id":71503700,"body_markdown":"I have created a Swing application that can import images into a label, but what I want to do is to put the imported image into an internal frame that will be created after the image is dropped.\r\n\r\n1. Drop an image into the Java app\r\n2. Create a `JInternalFrame`\r\n3. Make the image appear in the internal frame instead of the label in the `JFrame`\r\n\r\n\r\n```\r\npublic class Test{\r\n\tpublic static void main(String[] args) {               \r\n                JFrame f = new JFrame(&quot;Testing&quot;);\r\n                JLabel l = new JLabel(&quot;Drop here&quot;);\r\n                f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                f.setSize(600, 600);\r\n                f.setLocationRelativeTo(null);\r\n                f.setVisible(true);\r\n                f.add(l);\r\n                l.setHorizontalAlignment(JLabel.CENTER);\r\n                \r\n           l.setTransferHandler(new TransferHandler() {     \t\r\n\t\t\tprivate static final long serialVersionUID = 1L;\r\n\t\tpublic static final DataFlavor[] SUPPORTED_DATA_FLAVORS = new DataFlavor[]{\r\n            DataFlavor.javaFileListFlavor,\r\n            DataFlavor.imageFlavor\r\n        };\r\n        @Override\r\n        public boolean canImport(TransferHandler.TransferSupport support) {\r\n        \tSystem.out.println(&quot;1&quot;);\r\n            for (DataFlavor flavor : SUPPORTED_DATA_FLAVORS) {\r\n                if (!support.isDataFlavorSupported(flavor)) {\r\n                  return  true;\r\n                    \r\n                }\r\n            }\r\n            return true;\r\n        }\r\n        @Override\r\n        public boolean importData(TransferHandler.TransferSupport support) {\r\n          \tSystem.out.println(&quot;2&quot;);\r\n        \tnew Test();\r\n    \t\tJInternalFrame \tmb = new JInternalFrame(&quot;Frame title4&quot;, true, true, true);\r\n    \t\tJLabel la = new JLabel(&quot;here&quot;);\r\n \t       \tmb.setSize(400, 300);\r\n \t  \t\tl.add(mb);\r\n \t  \t\tla.setHorizontalAlignment(JLabel.CENTER);\r\n \t  \t\tmb.add(la);\r\n \t  \t\tmb.setVisible(true);  \r\n      \r\n                if (canImport(support)) {\r\n                    try {\r\n                        Transferable t = support.getTransferable();\r\n                        Component component = support.getComponent();\r\n                        if (component instanceof JLabel) {\r\n                            Image image = null;\r\n                            if (support.isDataFlavorSupported(DataFlavor.imageFlavor)) {\r\n                                image = (Image) t.getTransferData(DataFlavor.imageFlavor);\r\n                            } else if (support.isDataFlavorSupported(DataFlavor.javaFileListFlavor)) {\r\n                                @SuppressWarnings(&quot;rawtypes&quot;)\r\n\t\t\t\t\t\t\t\tList files = (List) t.getTransferData(DataFlavor.javaFileListFlavor);\r\n                                if (files.size() &gt; 0) {\r\n                                    image = ImageIO.read((File) files.get(0));\r\n                                }\r\n                            }\r\n                            ImageIcon icon = null;\r\n                            if (image != null) {\r\n                                icon = new ImageIcon(image);\r\n                            }\r\n                            ((JLabel) component).setIcon(icon);\r\n                            return true;\r\n                        }\r\n                    } catch (Exception exp) {\r\n                        exp.printStackTrace();\r\n                    }\r\n                }\r\n                return true;\r\n            }\r\n        });\r\n}}\r\n\r\n\r\n```\r\n","title":"How to drop images into a JInternalFrame?","body":"<p>I have created a Swing application that can import images into a label, but what I want to do is to put the imported image into an internal frame that will be created after the image is dropped.</p>\n<ol>\n<li>Drop an image into the Java app</li>\n<li>Create a <code>JInternalFrame</code></li>\n<li>Make the image appear in the internal frame instead of the label in the <code>JFrame</code></li>\n</ol>\n<pre><code>public class Test{\n    public static void main(String[] args) {               \n                JFrame f = new JFrame(&quot;Testing&quot;);\n                JLabel l = new JLabel(&quot;Drop here&quot;);\n                f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                f.setSize(600, 600);\n                f.setLocationRelativeTo(null);\n                f.setVisible(true);\n                f.add(l);\n                l.setHorizontalAlignment(JLabel.CENTER);\n                \n           l.setTransferHandler(new TransferHandler() {         \n            private static final long serialVersionUID = 1L;\n        public static final DataFlavor[] SUPPORTED_DATA_FLAVORS = new DataFlavor[]{\n            DataFlavor.javaFileListFlavor,\n            DataFlavor.imageFlavor\n        };\n        @Override\n        public boolean canImport(TransferHandler.TransferSupport support) {\n            System.out.println(&quot;1&quot;);\n            for (DataFlavor flavor : SUPPORTED_DATA_FLAVORS) {\n                if (!support.isDataFlavorSupported(flavor)) {\n                  return  true;\n                    \n                }\n            }\n            return true;\n        }\n        @Override\n        public boolean importData(TransferHandler.TransferSupport support) {\n            System.out.println(&quot;2&quot;);\n            new Test();\n            JInternalFrame  mb = new JInternalFrame(&quot;Frame title4&quot;, true, true, true);\n            JLabel la = new JLabel(&quot;here&quot;);\n            mb.setSize(400, 300);\n            l.add(mb);\n            la.setHorizontalAlignment(JLabel.CENTER);\n            mb.add(la);\n            mb.setVisible(true);  \n      \n                if (canImport(support)) {\n                    try {\n                        Transferable t = support.getTransferable();\n                        Component component = support.getComponent();\n                        if (component instanceof JLabel) {\n                            Image image = null;\n                            if (support.isDataFlavorSupported(DataFlavor.imageFlavor)) {\n                                image = (Image) t.getTransferData(DataFlavor.imageFlavor);\n                            } else if (support.isDataFlavorSupported(DataFlavor.javaFileListFlavor)) {\n                                @SuppressWarnings(&quot;rawtypes&quot;)\n                                List files = (List) t.getTransferData(DataFlavor.javaFileListFlavor);\n                                if (files.size() &gt; 0) {\n                                    image = ImageIO.read((File) files.get(0));\n                                }\n                            }\n                            ImageIcon icon = null;\n                            if (image != null) {\n                                icon = new ImageIcon(image);\n                            }\n                            ((JLabel) component).setIcon(icon);\n                            return true;\n                        }\n                    } catch (Exception exp) {\n                        exp.printStackTrace();\n                    }\n                }\n                return true;\n            }\n        });\n}}\n\n\n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1647466375,"post_id":71504477,"comment_id":126381851,"body_markdown":"Does `getUrls()` return an `Entry`?","body":"Does <code>getUrls()</code> return an <code>Entry</code>?"},{"owner":{"account_id":19340242,"reputation":1122,"user_id":14139968,"display_name":"Ryan"},"score":0,"creation_date":1647466688,"post_id":71504477,"comment_id":126381954,"body_markdown":"Map&lt;String, String&gt;, sorry should&#39;ve clarified that.","body":"Map&lt;String, String&gt;, sorry should&#39;ve clarified that."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1647466737,"post_id":71504477,"comment_id":126381971,"body_markdown":"Then how do you expect to call `Entry::getKey` on it?","body":"Then how do you expect to call <code>Entry::getKey</code> on it?"},{"owner":{"account_id":19340242,"reputation":1122,"user_id":14139968,"display_name":"Ryan"},"score":0,"creation_date":1647466950,"post_id":71504477,"comment_id":126382030,"body_markdown":"I don&#39;t anymore...","body":"I don&#39;t anymore..."}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1647467276,"creation_date":1647467276,"answer_id":71504628,"question_id":71504477,"body_markdown":"If `getUrls()` returns a `Map`, you can&#39;t collect it as an `Entry`. If the idea is to combine all the maps, you can use `flatMap()` to merge their entries into one stream:\r\n\r\n\tMap&lt;String, String&gt; preFilteredKafkaRecords = kafkaRecordMap.entrySet().stream()\r\n        .map(item -&gt; getUrls(item.getKey(), item.getValue()))\r\n        .map(Map::entrySet)\r\n        .flatMap(Set::stream)\r\n        .filter(THING_1)\r\n        .filter(THING_2)\r\n        .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\r\n\r\nAlternatively, you can use a custom collector to fold each result into a single map:\r\n\r\n\tMap&lt;String, String&gt; preFilteredKafkaRecords = kafkaRecordMap.entrySet().stream()\r\n        .map(item -&gt; getUrls(item.getKey(), item.getValue()))\r\n        .filter(THING_1)\r\n        .filter(THING_2)\r\n        .collect(HashMap::new, Map::putAll, Map::putAll);","title":"Collecting a basic map in Java 8 streams API","body":"<p>If <code>getUrls()</code> returns a <code>Map</code>, you can't collect it as an <code>Entry</code>. If the idea is to combine all the maps, you can use <code>flatMap()</code> to merge their entries into one stream:</p>\n<pre><code>Map&lt;String, String&gt; preFilteredKafkaRecords = kafkaRecordMap.entrySet().stream()\n    .map(item -&gt; getUrls(item.getKey(), item.getValue()))\n    .map(Map::entrySet)\n    .flatMap(Set::stream)\n    .filter(THING_1)\n    .filter(THING_2)\n    .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\n</code></pre>\n<p>Alternatively, you can use a custom collector to fold each result into a single map:</p>\n<pre><code>Map&lt;String, String&gt; preFilteredKafkaRecords = kafkaRecordMap.entrySet().stream()\n    .map(item -&gt; getUrls(item.getKey(), item.getValue()))\n    .filter(THING_1)\n    .filter(THING_2)\n    .collect(HashMap::new, Map::putAll, Map::putAll);\n</code></pre>\n"}],"owner":{"account_id":19340242,"reputation":1122,"user_id":14139968,"display_name":"Ryan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647467276,"creation_date":1647466320,"question_id":71504477,"body_markdown":"```\r\n    Map&lt;String, String&gt; preFilteredKafkaRecords = kafkaRecordMap.entrySet().stream()\r\n            .map(item -&gt; getUrls(item.getKey(), item.getValue()))\r\n            .filter(THING_1)\r\n            .filter(THING_2)\r\n            .collect(Collectors.toMap(\r\n                    Map.Entry&lt;String, String&gt;::getKey, Map.Entry&lt;String, String&gt;::getValue));\r\n```\r\n\r\n`getUrls` - returns `Map&lt;String, String&gt;`\r\n\r\nhow can I collect this to a `Map&lt;String, String&gt;`? The first map returns a `Map&lt;String, String&gt;` but I can&#39;t get the compiler to stop complaining. ","title":"Collecting a basic map in Java 8 streams API","body":"<pre><code>    Map&lt;String, String&gt; preFilteredKafkaRecords = kafkaRecordMap.entrySet().stream()\n            .map(item -&gt; getUrls(item.getKey(), item.getValue()))\n            .filter(THING_1)\n            .filter(THING_2)\n            .collect(Collectors.toMap(\n                    Map.Entry&lt;String, String&gt;::getKey, Map.Entry&lt;String, String&gt;::getValue));\n</code></pre>\n<p><code>getUrls</code> - returns <code>Map&lt;String, String&gt;</code></p>\n<p>how can I collect this to a <code>Map&lt;String, String&gt;</code>? The first map returns a <code>Map&lt;String, String&gt;</code> but I can't get the compiler to stop complaining.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5418581,"reputation":347,"user_id":4313009,"display_name":"Alfredo Tost&#243;n"},"score":0,"creation_date":1647466246,"post_id":71504338,"comment_id":126381817,"body_markdown":"Adding a `i--;` line inside the catchs doesn&#39;t do the trick?","body":"Adding a <code>i--;</code> line inside the catchs doesn&#39;t do the trick?"},{"owner":{"account_id":19382678,"reputation":774,"user_id":14173556,"display_name":"paladin"},"score":1,"creation_date":1647466954,"post_id":71504338,"comment_id":126382032,"body_markdown":"I would only add this to the `catch(InputMismatchException e)`. Or better, just remote `i++` from the for-loop and add an unconditional `i++` at the end of the for-loop, after the catches. I would also remove `catch(Exception e)` as it&#39;s bad practices to do this (this might even create an infinity loop in this case here).","body":"I would only add this to the <code>catch(InputMismatchException e)</code>. Or better, just remote <code>i++</code> from the for-loop and add an unconditional <code>i++</code> at the end of the for-loop, after the catches. I would also remove <code>catch(Exception e)</code> as it&#39;s bad practices to do this (this might even create an infinity loop in this case here)."}],"answers":[{"tags":[],"owner":{"account_id":2609703,"reputation":1305,"user_id":2260040,"accept_rate":57,"display_name":"user2260040"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647465985,"creation_date":1647465985,"answer_id":71504419,"question_id":71504338,"body_markdown":"    class fivePositiveNumbers{\r\n        public static void main(String[] args){\r\n            Scanner keyboard = new Scanner(System.in);\r\n            int userNumber;\r\n            int sum = 0;\r\n            System.out.println(&quot;This program will give the sum and average of 5 positive integers,&quot;);\r\n    \r\n            int ctr = 0;\r\n    \r\n            for(;;){\r\n                System.out.println(&quot;Enter number &quot; + (ctr+1) + &quot;: &quot;);\r\n                try{\r\n                    userNumber = keyboard.nextInt();\r\n                    if(userNumber &lt;= 0){\r\n                        throw new Exception(&quot;The integer must be positive.&quot;);\r\n                    }\r\n                    sum = sum + userNumber;\r\n    \r\n                    ctr++;\r\n                } catch(InputMismatchException e){\r\n                    System.out.println(&quot;This data type is incorrect.&quot;);\r\n                    keyboard.nextLine();\r\n                } catch(Exception e){\r\n                    System.out.println(e.getMessage());\r\n                    keyboard.nextLine();\r\n                }\r\n    \r\n                if (ctr == 5) break;\r\n            }\r\n    \r\n            System.out.println(&quot;The sum is &quot; + sum + &quot; and the average of your 5 numbers is &quot; + sum / 5 + &quot;.&quot;);\r\n        }\r\n    }","title":"How do I make a for loop ask a user for the same input again after an Exception?","body":"<pre><code>class fivePositiveNumbers{\n    public static void main(String[] args){\n        Scanner keyboard = new Scanner(System.in);\n        int userNumber;\n        int sum = 0;\n        System.out.println(&quot;This program will give the sum and average of 5 positive integers,&quot;);\n\n        int ctr = 0;\n\n        for(;;){\n            System.out.println(&quot;Enter number &quot; + (ctr+1) + &quot;: &quot;);\n            try{\n                userNumber = keyboard.nextInt();\n                if(userNumber &lt;= 0){\n                    throw new Exception(&quot;The integer must be positive.&quot;);\n                }\n                sum = sum + userNumber;\n\n                ctr++;\n            } catch(InputMismatchException e){\n                System.out.println(&quot;This data type is incorrect.&quot;);\n                keyboard.nextLine();\n            } catch(Exception e){\n                System.out.println(e.getMessage());\n                keyboard.nextLine();\n            }\n\n            if (ctr == 5) break;\n        }\n\n        System.out.println(&quot;The sum is &quot; + sum + &quot; and the average of your 5 numbers is &quot; + sum / 5 + &quot;.&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647467073,"creation_date":1647466565,"answer_id":71504525,"question_id":71504338,"body_markdown":"Use a `while` or a `for` loop that will increment the loop count ONLY IF a valid input is provided. Your solution increments the loop counter automatically regardless of the validity of the input.\r\n\r\n```\r\nint i = 1;\r\n\r\nwhile (i &lt;= 5) {\r\n\r\n    System.out.println(&quot;Enter number &quot; + i + &quot;: &quot;);\r\n        try{\r\n            userNumber = keyboard.nextInt();\r\n            if(userNumber &lt;= 0){\r\n                throw new Exception(&quot;The integer must be positive.&quot;);\r\n            }\r\n            sum = sum + userNumber; // this belongs after the negative check\r\n            i++; // increment the count after all validations are successfully completed\r\n        } catch(InputMismatchException e){\r\n            System.out.println(&quot;This data type is incorrect.&quot;);\r\n            keyboard.nextLine();\r\n        } catch(Exception e){\r\n            System.out.println(e.getMessage());\r\n            keyboard.nextLine();\r\n        }\r\n    }\r\n}\r\n```\r\nIf you choose to use a `for` loop, remove the counter increment out of the loop declaration\r\n```\r\n\r\nfor (int i = 1; i &lt;= 5;) {\r\n    // your logic and exception handling here\r\n    i++; // as in the while, increment only after all validations are successfully completed\r\n}\r\n```\r\n\r\nAnother point... I don&#39;t think it is necessary to throw an exception if the number is negative. I think it is better to simply execute a `continue` to avoid incrementing the loop counter. This is the result of this:\r\n\r\n```\r\nThis program will give the sum and average of 5 positive integers,\r\nEnter number 1: \r\n-5\r\nThe integer must be positive.\r\nEnter number 1: \r\n-2\r\nThe integer must be positive.\r\nEnter number 1: \r\n-3\r\nThe integer must be positive.\r\nEnter number 1: \r\n-4\r\nThe integer must be positive.\r\nEnter number 1: \r\n-5\r\nThe integer must be positive.\r\nEnter number 1: \r\n1\r\nEnter number 2: \r\n2\r\nEnter number 3: \r\n3\r\nEnter number 4: \r\n5\r\nEnter number 5: \r\n4\r\nThe sum is 15 and the average of your 5 numbers is 3.\r\n```\r\nAs you can see, I entered several negative numbers and the program continued to run without incrementing the loop counter.  The complete solution with `continue`:\r\n```\r\npublic static void main(String[] args) {\r\n      Scanner keyboard = new Scanner(System.in);\r\n      int userNumber;\r\n      int sum = 0;\r\n      System.out.println(&quot;This program will give the sum and average of 5 positive integers,&quot;);\r\n\t      \r\n      for(int i = 1; i &lt;= 5; ){\r\n         System.out.println(&quot;Enter number &quot; + i + &quot;: &quot;);\r\n         try{\r\n            userNumber = keyboard.nextInt();\r\n            if(userNumber &lt;= 0){\r\n               System.err.println(&quot;The integer must be positive.&quot;);\r\n               continue;\r\n            }\r\n            sum = sum + userNumber;\r\n            i++;\r\n         } catch(InputMismatchException e){\r\n               System.out.println(&quot;This data type is incorrect.&quot;);\r\n               keyboard.nextLine();\r\n         } catch(Exception e){\r\n               System.out.println(e.getMessage());\r\n               keyboard.nextLine();\r\n         }\r\n      }\r\n      System.out.println(&quot;The sum is &quot; + sum + &quot; and the average of your 5 numbers is &quot; + sum / 5 + &quot;.&quot;);\r\n}\r\n```","title":"How do I make a for loop ask a user for the same input again after an Exception?","body":"<p>Use a <code>while</code> or a <code>for</code> loop that will increment the loop count ONLY IF a valid input is provided. Your solution increments the loop counter automatically regardless of the validity of the input.</p>\n<pre><code>int i = 1;\n\nwhile (i &lt;= 5) {\n\n    System.out.println(&quot;Enter number &quot; + i + &quot;: &quot;);\n        try{\n            userNumber = keyboard.nextInt();\n            if(userNumber &lt;= 0){\n                throw new Exception(&quot;The integer must be positive.&quot;);\n            }\n            sum = sum + userNumber; // this belongs after the negative check\n            i++; // increment the count after all validations are successfully completed\n        } catch(InputMismatchException e){\n            System.out.println(&quot;This data type is incorrect.&quot;);\n            keyboard.nextLine();\n        } catch(Exception e){\n            System.out.println(e.getMessage());\n            keyboard.nextLine();\n        }\n    }\n}\n</code></pre>\n<p>If you choose to use a <code>for</code> loop, remove the counter increment out of the loop declaration</p>\n<pre><code>\nfor (int i = 1; i &lt;= 5;) {\n    // your logic and exception handling here\n    i++; // as in the while, increment only after all validations are successfully completed\n}\n</code></pre>\n<p>Another point... I don't think it is necessary to throw an exception if the number is negative. I think it is better to simply execute a <code>continue</code> to avoid incrementing the loop counter. This is the result of this:</p>\n<pre><code>This program will give the sum and average of 5 positive integers,\nEnter number 1: \n-5\nThe integer must be positive.\nEnter number 1: \n-2\nThe integer must be positive.\nEnter number 1: \n-3\nThe integer must be positive.\nEnter number 1: \n-4\nThe integer must be positive.\nEnter number 1: \n-5\nThe integer must be positive.\nEnter number 1: \n1\nEnter number 2: \n2\nEnter number 3: \n3\nEnter number 4: \n5\nEnter number 5: \n4\nThe sum is 15 and the average of your 5 numbers is 3.\n</code></pre>\n<p>As you can see, I entered several negative numbers and the program continued to run without incrementing the loop counter.  The complete solution with <code>continue</code>:</p>\n<pre><code>public static void main(String[] args) {\n      Scanner keyboard = new Scanner(System.in);\n      int userNumber;\n      int sum = 0;\n      System.out.println(&quot;This program will give the sum and average of 5 positive integers,&quot;);\n          \n      for(int i = 1; i &lt;= 5; ){\n         System.out.println(&quot;Enter number &quot; + i + &quot;: &quot;);\n         try{\n            userNumber = keyboard.nextInt();\n            if(userNumber &lt;= 0){\n               System.err.println(&quot;The integer must be positive.&quot;);\n               continue;\n            }\n            sum = sum + userNumber;\n            i++;\n         } catch(InputMismatchException e){\n               System.out.println(&quot;This data type is incorrect.&quot;);\n               keyboard.nextLine();\n         } catch(Exception e){\n               System.out.println(e.getMessage());\n               keyboard.nextLine();\n         }\n      }\n      System.out.println(&quot;The sum is &quot; + sum + &quot; and the average of your 5 numbers is &quot; + sum / 5 + &quot;.&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":24582094,"reputation":3,"user_id":18487061,"display_name":"Bamron Tasty"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71504525,"answer_count":2,"score":0,"last_activity_date":1647467073,"creation_date":1647465404,"question_id":71504338,"body_markdown":"So to clarify, when the program asks the user for number 1: if the user were to input a letter, I need the program to tell the user that there was an input mismatch, then ask the user for number 1 again. This needs to be achieved using only one single for loop, and there can be no negative numbers that affect the sum or the average. Here&#39;s what I have so far:\r\n\r\n```\r\nimport java.util.*;\r\nimport java.text.*;\r\n\r\nclass fivePositiveNumbers{\r\n   public static void main(String[] args){\r\n      Scanner keyboard = new Scanner(System.in);\r\n      int userNumber;\r\n      int sum = 0;\r\n      System.out.println(&quot;This program will give the sum and average of 5 positive integers,&quot;);\r\n      \r\n      for(int i = 1; i &lt;= 5; i++){\r\n         System.out.println(&quot;Enter number &quot; + i + &quot;: &quot;);\r\n         try{\r\n            userNumber = keyboard.nextInt();\r\n            sum = sum + userNumber;\r\n            if(userNumber &lt;= 0){\r\n               throw new Exception(&quot;The integer must be positive.&quot;);\r\n            }\r\n         } catch(InputMismatchException e){\r\n               System.out.println(&quot;This data type is incorrect.&quot;);\r\n               keyboard.nextLine();\r\n         } catch(Exception e){\r\n               System.out.println(e.getMessage());\r\n               keyboard.nextLine();\r\n         }\r\n      }\r\n      System.out.println(&quot;The sum is &quot; + sum + &quot; and the average of your 5 numbers is &quot; + sum / 5 + &quot;.&quot;);\r\n   }\r\n}","title":"How do I make a for loop ask a user for the same input again after an Exception?","body":"<p>So to clarify, when the program asks the user for number 1: if the user were to input a letter, I need the program to tell the user that there was an input mismatch, then ask the user for number 1 again. This needs to be achieved using only one single for loop, and there can be no negative numbers that affect the sum or the average. Here's what I have so far:</p>\n<pre><code>import java.util.*;\nimport java.text.*;\n\nclass fivePositiveNumbers{\n   public static void main(String[] args){\n      Scanner keyboard = new Scanner(System.in);\n      int userNumber;\n      int sum = 0;\n      System.out.println(&quot;This program will give the sum and average of 5 positive integers,&quot;);\n      \n      for(int i = 1; i &lt;= 5; i++){\n         System.out.println(&quot;Enter number &quot; + i + &quot;: &quot;);\n         try{\n            userNumber = keyboard.nextInt();\n            sum = sum + userNumber;\n            if(userNumber &lt;= 0){\n               throw new Exception(&quot;The integer must be positive.&quot;);\n            }\n         } catch(InputMismatchException e){\n               System.out.println(&quot;This data type is incorrect.&quot;);\n               keyboard.nextLine();\n         } catch(Exception e){\n               System.out.println(e.getMessage());\n               keyboard.nextLine();\n         }\n      }\n      System.out.println(&quot;The sum is &quot; + sum + &quot; and the average of your 5 numbers is &quot; + sum / 5 + &quot;.&quot;);\n   }\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":1194436,"reputation":5099,"user_id":1166447,"display_name":"Jhanvi"},"down_vote_count":0,"up_vote_count":100,"is_accepted":true,"score":100,"last_activity_date":1383368174,"creation_date":1383367839,"answer_id":19739056,"question_id":19739026,"body_markdown":"You have to include one more jar. \r\n\r\n    xmlbeans-2.3.0.jar\r\n\r\nAdd this and try.\r\n\r\n**Note:** It is required for the files with .xlsx formats only, not for just .xls formats.","title":"java.lang.ClassNotFoundException: org.apache.xmlbeans.XmlObject Error","body":"<p>You have to include one more jar. </p>\n\n<pre><code>xmlbeans-2.3.0.jar\n</code></pre>\n\n<p>Add this and try.</p>\n\n<p><strong>Note:</strong> It is required for the files with .xlsx formats only, not for just .xls formats.</p>\n"},{"tags":[],"owner":{"account_id":3205495,"reputation":3179,"user_id":2706605,"accept_rate":89,"display_name":"Mengjun"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1407408644,"creation_date":1383367937,"answer_id":19739071,"question_id":19739026,"body_markdown":"When trying to translate Excel file with .xlsx suffix, you need to add additional jar, xmlbeansxxx.jar. *xxxx*  is version, such as `xmlbeans-2.3.0.jar`","title":"java.lang.ClassNotFoundException: org.apache.xmlbeans.XmlObject Error","body":"<p>When trying to translate Excel file with .xlsx suffix, you need to add additional jar, xmlbeansxxx.jar. <em>xxxx</em>  is version, such as <code>xmlbeans-2.3.0.jar</code></p>\n"},{"tags":[],"owner":{"account_id":2971663,"reputation":856,"user_id":2523595,"accept_rate":57,"display_name":"emreturka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1423129904,"creation_date":1423129904,"answer_id":28340822,"question_id":19739026,"body_markdown":"For all that you add xmlbeans-2.3.0.jar and it is not working,you must use HSSFWorkbook instead of XSSFWorkbook after add jar.For instance;\r\n\r\n        Workbook workbook = new HSSFWorkbook();\r\n\t\tSheet listSheet = workbook.createSheet(&quot;Kişi Listesi&quot;);\r\n\r\n\t\tint rowIndex = 0;\r\n\t\tfor (KayitParam kp : kayitList) {\r\n\t\t\tRow row = listSheet.createRow(rowIndex++);\r\n\t\t\tint cellIndex = 0;\r\n\t\t\trow.createCell(cellIndex++).setCellValue(kp.getAd());\r\n\t\t\trow.createCell(cellIndex++).setCellValue(kp.getSoyad());\r\n\t\t\trow.createCell(cellIndex++).setCellValue(kp.getEposta());\r\n\t\t\trow.createCell(cellIndex++).setCellValue(kp.getCinsiyet());\r\n\t\t\trow.createCell(cellIndex++).setCellValue(kp.getDogumtarihi());\r\n\t\t\trow.createCell(cellIndex++).setCellValue(kp.getTahsil());\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\t\t\tworkbook.write(baos);\r\n\t\t\tAMedia amedia = new AMedia(&quot;Kisiler.xls&quot;, &quot;xls&quot;,\r\n\t\t\t\t\t&quot;application/file&quot;, baos.toByteArray());\r\n\t\t\tFiledownload.save(amedia);\r\n\t\t\tbaos.close();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n","title":"java.lang.ClassNotFoundException: org.apache.xmlbeans.XmlObject Error","body":"<p>For all that you add xmlbeans-2.3.0.jar and it is not working,you must use HSSFWorkbook instead of XSSFWorkbook after add jar.For instance;</p>\n\n<pre><code>    Workbook workbook = new HSSFWorkbook();\n    Sheet listSheet = workbook.createSheet(\"Kişi Listesi\");\n\n    int rowIndex = 0;\n    for (KayitParam kp : kayitList) {\n        Row row = listSheet.createRow(rowIndex++);\n        int cellIndex = 0;\n        row.createCell(cellIndex++).setCellValue(kp.getAd());\n        row.createCell(cellIndex++).setCellValue(kp.getSoyad());\n        row.createCell(cellIndex++).setCellValue(kp.getEposta());\n        row.createCell(cellIndex++).setCellValue(kp.getCinsiyet());\n        row.createCell(cellIndex++).setCellValue(kp.getDogumtarihi());\n        row.createCell(cellIndex++).setCellValue(kp.getTahsil());\n    }\n\n    try {\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        workbook.write(baos);\n        AMedia amedia = new AMedia(\"Kisiler.xls\", \"xls\",\n                \"application/file\", baos.toByteArray());\n        Filedownload.save(amedia);\n        baos.close();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1927963,"reputation":4604,"user_id":1737989,"accept_rate":50,"display_name":"Amit Baderia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1430304477,"creation_date":1430304477,"answer_id":29941477,"question_id":19739026,"body_markdown":"You need to include xmlbeans-xxx.jar and if you have downloaded the POI binary zip, you will get the xmlbeans-xxx.jar in ooxml-lib folder (eg: \\poi-3.11\\ooxml-lib)\r\n\r\nThis jar is used for XML binding which is applicable for .xlsx files.","title":"java.lang.ClassNotFoundException: org.apache.xmlbeans.XmlObject Error","body":"<p>You need to include xmlbeans-xxx.jar and if you have downloaded the POI binary zip, you will get the xmlbeans-xxx.jar in ooxml-lib folder (eg: \\poi-3.11\\ooxml-lib)</p>\n\n<p>This jar is used for XML binding which is applicable for .xlsx files.</p>\n"},{"tags":[],"owner":{"account_id":4837594,"reputation":41,"user_id":3903681,"display_name":"Arslan Ahmad"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1436084718,"creation_date":1436084718,"answer_id":31228476,"question_id":19739026,"body_markdown":"you have to include two more jar files.\r\n\r\nxmlbeans-2.3.0.jar and dom4j-1.6.1.jar \r\nAdd try it will work.\r\n\r\nNote: It is required for the files with .xlsx formats only, not for just .xlt formats.","title":"java.lang.ClassNotFoundException: org.apache.xmlbeans.XmlObject Error","body":"<p>you have to include two more jar files.</p>\n\n<p>xmlbeans-2.3.0.jar and dom4j-1.6.1.jar \nAdd try it will work.</p>\n\n<p>Note: It is required for the files with .xlsx formats only, not for just .xlt formats.</p>\n"},{"tags":[],"owner":{"account_id":14064842,"reputation":11,"user_id":10159980,"display_name":"Rashmi A"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1533035885,"creation_date":1533032065,"answer_id":51610958,"question_id":19739026,"body_markdown":"I faced a similar situation, so i replaced all the external jar files(`poi-bin-3.17-20170915`) and make sure you add other `jar` files present in lib and `ooxml-lib` folders. \r\n\r\nHope this helps!!!:)","title":"java.lang.ClassNotFoundException: org.apache.xmlbeans.XmlObject Error","body":"<p>I faced a similar situation, so i replaced all the external jar files(<code>poi-bin-3.17-20170915</code>) and make sure you add other <code>jar</code> files present in lib and <code>ooxml-lib</code> folders. </p>\n\n<p>Hope this helps!!!:)</p>\n"},{"tags":[],"owner":{"account_id":8170109,"reputation":484,"user_id":6150881,"display_name":"Rabhi salim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614261082,"creation_date":1614261082,"answer_id":66369853,"question_id":19739026,"body_markdown":"I was working with talend V7.3.1 and I had poi version &quot;4.1.0&quot; and including xml-beans from the list of dependencies didnt fix my problem (i.e: 2.3.0 and 2.6.0).\r\n\r\n    It was fixed by downloading the jar &quot;xmlbeans-3.0.1.jar&quot; and adding it to the project\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/10FNW.png","title":"java.lang.ClassNotFoundException: org.apache.xmlbeans.XmlObject Error","body":"<p>I was working with talend V7.3.1 and I had poi version &quot;4.1.0&quot; and including xml-beans from the list of dependencies didnt fix my problem (i.e: 2.3.0 and 2.6.0).</p>\n<pre><code>It was fixed by downloading the jar &quot;xmlbeans-3.0.1.jar&quot; and adding it to the project\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/10FNW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/10FNW.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":16830963,"reputation":313,"user_id":12168947,"display_name":"king.reflex"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1616987776,"creation_date":1616830945,"answer_id":66829099,"question_id":19739026,"body_markdown":"ClassNotFoundException is thrown when the class is not found in the classpath.\r\nAdding the following jar(contains the definition of the XmlObject interface) will solve the problem\r\n\r\n    xmlbeans-x.y.z.jar\r\n\r\nYou can download the latest xmlbeans jar file at the following link\r\nhttps://xmlbeans.apache.org/download/index.html\r\n\r\nIf you are working with the apache poi library make sure you add jars in the lib and ooxml-lib folders.","title":"java.lang.ClassNotFoundException: org.apache.xmlbeans.XmlObject Error","body":"<p>ClassNotFoundException is thrown when the class is not found in the classpath.\nAdding the following jar(contains the definition of the XmlObject interface) will solve the problem</p>\n<pre><code>xmlbeans-x.y.z.jar\n</code></pre>\n<p>You can download the latest xmlbeans jar file at the following link\n<a href=\"https://xmlbeans.apache.org/download/index.html\" rel=\"nofollow noreferrer\">https://xmlbeans.apache.org/download/index.html</a></p>\n<p>If you are working with the apache poi library make sure you add jars in the lib and ooxml-lib folders.</p>\n"},{"tags":[],"owner":{"account_id":19953558,"reputation":1,"user_id":14622688,"display_name":"Дмитрий Ковальчук"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647465341,"creation_date":1647277207,"answer_id":71471523,"question_id":19739026,"body_markdown":"If to do this right way, you need to create a maven project and put all depenencies into `pom.xml` file, dependencies for maven you can google, for example:\r\n&lt;https://mvnrepository.com/artifact/org.apache.poi/poi/5.0.0&gt;?\r\n\r\nIf to do this hardcore way, download POI library binary files and add all the `.jar` files from all of the folders (for POI 5.0.0) this is (auxiliary, ooxml-lib, lib) folders and root catalog. In my case it works, if you don&#39;t want to figure out what library relate for what.\r\n\r\nSomething like that:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mzjQt.png","title":"java.lang.ClassNotFoundException: org.apache.xmlbeans.XmlObject Error","body":"<p>If to do this right way, you need to create a maven project and put all depenencies into <code>pom.xml</code> file, dependencies for maven you can google, for example:\n<a href=\"https://mvnrepository.com/artifact/org.apache.poi/poi/5.0.0\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.apache.poi/poi/5.0.0</a>?</p>\n<p>If to do this hardcore way, download POI library binary files and add all the <code>.jar</code> files from all of the folders (for POI 5.0.0) this is (auxiliary, ooxml-lib, lib) folders and root catalog. In my case it works, if you don't want to figure out what library relate for what.</p>\n<p>Something like that:</p>\n<p><a href=\"https://i.stack.imgur.com/mzjQt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mzjQt.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":3519590,"reputation":1033,"user_id":2942227,"accept_rate":50,"display_name":"user2942227"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168030,"favorite_count":0,"down_vote_count":0,"up_vote_count":48,"accepted_answer_id":19739056,"answer_count":9,"score":48,"last_activity_date":1647465341,"creation_date":1383367542,"question_id":19739026,"body_markdown":"I am getting following error  \r\n&gt;Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/xmlbeans/XmlObject\r\n\tat OrderBook.WriteToExcelSheet.CreateOutPutFile(WriteToExcelSheet.java:20)\r\n\tat OrderBook.MainMethod.main(MainMethod.java:71)\r\n\r\nI looked for the reasons for this error online but couldn&#39;t find why I am getting it.\r\n\r\nI have included the following jar files\r\n\r\n    poi-3.9-20121203.jar, \r\n    poi-excelant-3.9-20121203.jar,\r\n    poi-examples-3.9-20121203.jar,\r\n    poi-ooxml-3.9-20121203.jar,\r\n    poi-ooxml-schemas-3.9-20121203.jar,\r\n    poi-scratchpad-3.9-20121203.jar\r\n\r\n Code: \r\n\r\n    public class WriteToExcelSheet {\r\n    \tpublic static Map &lt; Integer, Object[] &gt; data = new TreeMap &lt; Integer, Object[] &gt; ();\r\n    \tpublic static void CreateOutPutFile() {\r\n    \t\tXSSFWorkbook workbook = new XSSFWorkbook();\r\n    \t\tXSSFSheet sheet = workbook.createSheet(&quot;Orderbook Stats&quot;);\r\n    \t\t//This data needs to be written (Object[])\r\n    \t\t//Iterate over data and write to sheet\r\n    \t\tSet &lt; Integer &gt; keyset = data.keySet()\r\n    \t\tint rownum = 0;\r\n    \t\tfor (Integer key: keyset) {\r\n    \t\t\tRow row = sheet.createRow(rownum++);\r\n    \t\t\tObject[] objArr = data.get(key);\r\n    \t\t\tint cellnum = 0;\r\n    \t\t\tfor (Object obj: objArr) {\r\n    \t\t\t\tCell cell = row.createCell(cellnum++);\r\n    \t\t\t\tif (obj instanceof String) cell.setCellValue((String) obj);\r\n    \t\t\t\telse if (obj instanceof Integer) cell.setCellValue((Integer) obj);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\ttry {\r\n    \t\t\t//Write the workbook in file system\r\n    \t\t\tSystem.out.println(&quot;OutPutStats.xlsx writing..............................&quot;);\r\n    \t\t\tFileOutputStream out = new FileOutputStream(new File(&quot;FileLocation/o.xlxs&quot;));\r\n    \t\t\tworkbook.write(out);\r\n    \t\t\tout.close();\r\n    \t\t\tSystem.out.println(&quot;OutPutStats.xlsx written successfully on disk.&quot;);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }    \r\n\r\n   \r\n    \r\n","title":"java.lang.ClassNotFoundException: org.apache.xmlbeans.XmlObject Error","body":"<p>I am getting following error  </p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.lang.NoClassDefFoundError: org/apache/xmlbeans/XmlObject\n      at OrderBook.WriteToExcelSheet.CreateOutPutFile(WriteToExcelSheet.java:20)\n      at OrderBook.MainMethod.main(MainMethod.java:71)</p>\n</blockquote>\n\n<p>I looked for the reasons for this error online but couldn't find why I am getting it.</p>\n\n<p>I have included the following jar files</p>\n\n<pre><code>poi-3.9-20121203.jar, \npoi-excelant-3.9-20121203.jar,\npoi-examples-3.9-20121203.jar,\npoi-ooxml-3.9-20121203.jar,\npoi-ooxml-schemas-3.9-20121203.jar,\npoi-scratchpad-3.9-20121203.jar\n</code></pre>\n\n<p>Code: </p>\n\n<pre><code>public class WriteToExcelSheet {\n    public static Map &lt; Integer, Object[] &gt; data = new TreeMap &lt; Integer, Object[] &gt; ();\n    public static void CreateOutPutFile() {\n        XSSFWorkbook workbook = new XSSFWorkbook();\n        XSSFSheet sheet = workbook.createSheet(\"Orderbook Stats\");\n        //This data needs to be written (Object[])\n        //Iterate over data and write to sheet\n        Set &lt; Integer &gt; keyset = data.keySet()\n        int rownum = 0;\n        for (Integer key: keyset) {\n            Row row = sheet.createRow(rownum++);\n            Object[] objArr = data.get(key);\n            int cellnum = 0;\n            for (Object obj: objArr) {\n                Cell cell = row.createCell(cellnum++);\n                if (obj instanceof String) cell.setCellValue((String) obj);\n                else if (obj instanceof Integer) cell.setCellValue((Integer) obj);\n            }\n        }\n        try {\n            //Write the workbook in file system\n            System.out.println(\"OutPutStats.xlsx writing..............................\");\n            FileOutputStream out = new FileOutputStream(new File(\"FileLocation/o.xlxs\"));\n            workbook.write(out);\n            out.close();\n            System.out.println(\"OutPutStats.xlsx written successfully on disk.\");\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}    \n</code></pre>\n"},{"tags":["java","ibm-cloud","watson-assistant"],"answers":[{"tags":[],"owner":{"account_id":6342170,"reputation":16858,"user_id":4923755,"accept_rate":100,"display_name":"data_henrik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647448899,"creation_date":1647448899,"answer_id":71501011,"question_id":71499736,"body_markdown":"You probably have seen this [example for Watson Assistant][1] that comes with the Java SDK for the IBM Watson services.\r\n\r\nTo work with a service, you initialize the IAM Authenticator with the API key. Thereafter, you create the service client with the IAM Authenticator instance. Then, you reuse that service client for all calls. The access token is kept fresh by the authenticator. There should be no need by you / your code to manage it.\r\n\r\n  [1]: https://github.com/watson-developer-cloud/java-sdk/blob/master/examples/src/main/java/com/ibm/watson/assistant/v1/AssistantExample.java","title":"How to retrieve token with IamAuthenticator IBM watson assistant v1","body":"<p>You probably have seen this <a href=\"https://github.com/watson-developer-cloud/java-sdk/blob/master/examples/src/main/java/com/ibm/watson/assistant/v1/AssistantExample.java\" rel=\"nofollow noreferrer\">example for Watson Assistant</a> that comes with the Java SDK for the IBM Watson services.</p>\n<p>To work with a service, you initialize the IAM Authenticator with the API key. Thereafter, you create the service client with the IAM Authenticator instance. Then, you reuse that service client for all calls. The access token is kept fresh by the authenticator. There should be no need by you / your code to manage it.</p>\n"}],"owner":{"account_id":24578827,"reputation":1,"user_id":18484282,"display_name":"liban11"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647465279,"creation_date":1647444129,"question_id":71499736,"body_markdown":"I try to connect to my assistant with iamAuthenticator method, it works fine\r\nbut how can i get a token back back to store and reuse for another call to add new Intent or Entity\r\n\r\nin a single methode it&#39;s fine \r\ni can can authenticate with iamAuthenticator and add Intent\r\nbut i like to do that in to methods one for connecting and grab token\r\nthe other one to add intent using the tocken i had back in the connect method\r\nhere is code i tried and i works fine in the same method:\r\n\r\n\r\n@PostMapping(&quot;/addIntent&quot;)\r\n        // public ResponseEntity&lt;?&gt;\r\n    void  addIntent(@Valid @RequestBody IBMCredentials credentials ) throws IOException {\r\n\r\n        Map&lt;String, String&gt; headers = new HashMap&lt;String, String&gt;();\r\n        headers.put(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n\r\n        Authenticator authenticator = new IamAuthenticator.Builder()\r\n                .apikey(credentials.getApiKey())\r\n               .url(&quot;https://iam.cloud.ibm.com/identity/token&quot;)\r\n                .disableSSLVerification(true)\r\n                .headers(headers)\r\n                .build();\r\n\r\n        Assistant assistant = new Assistant(LocalDate.now().toString(), authenticator);\r\n        assistant.setServiceUrl(credentials.getServiceUri());\r\n\r\n\r\n\r\n\r\n\r\n        CreateIntentOptions options = new CreateIntentOptions.Builder(credentials.getWorkspaceId(), &quot;my intent test&quot;)\r\n                //.examples(examples)\r\n                .build();\r\n       \r\n        assistant.createIntent(options).execute().getResult();\r\n        \r\n       \r\n\r\n       \r\n\r\n\r\n","title":"How to retrieve token with IamAuthenticator IBM watson assistant v1","body":"<p>I try to connect to my assistant with iamAuthenticator method, it works fine\nbut how can i get a token back back to store and reuse for another call to add new Intent or Entity</p>\n<p>in a single methode it's fine\ni can can authenticate with iamAuthenticator and add Intent\nbut i like to do that in to methods one for connecting and grab token\nthe other one to add intent using the tocken i had back in the connect method\nhere is code i tried and i works fine in the same method:</p>\n<p>@PostMapping(&quot;/addIntent&quot;)\n// public ResponseEntity&lt;?&gt;\nvoid  addIntent(@Valid @RequestBody IBMCredentials credentials ) throws IOException {</p>\n<pre><code>    Map&lt;String, String&gt; headers = new HashMap&lt;String, String&gt;();\n    headers.put(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\n\n    Authenticator authenticator = new IamAuthenticator.Builder()\n            .apikey(credentials.getApiKey())\n           .url(&quot;https://iam.cloud.ibm.com/identity/token&quot;)\n            .disableSSLVerification(true)\n            .headers(headers)\n            .build();\n\n    Assistant assistant = new Assistant(LocalDate.now().toString(), authenticator);\n    assistant.setServiceUrl(credentials.getServiceUri());\n\n\n\n\n\n    CreateIntentOptions options = new CreateIntentOptions.Builder(credentials.getWorkspaceId(), &quot;my intent test&quot;)\n            //.examples(examples)\n            .build();\n   \n    assistant.createIntent(options).execute().getResult();\n    \n   \n\n   \n</code></pre>\n"},{"tags":["javascript","java","node.js","encryption","aes"],"comments":[{"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"score":1,"creation_date":1647467820,"post_id":71504300,"comment_id":126382257,"body_markdown":"Both key and IV on Java side are in **hex encoding ** so you need to do the same in Node.js, that way the IV e.g. gets the correct length of 16 bytes.","body":"Both key and IV on Java side are in **hex encoding ** so you need to do the same in Node.js, that way the IV e.g. gets the correct length of 16 bytes."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1647503474,"post_id":71504300,"comment_id":126388766,"body_markdown":"I.e. use the Hex encoder of CryptoJS instead of the Latin1 encoder for key and IV. Why do you generate the SHA256 hash of plaintext and ciphertext in the NodeJS code?  This doesn&#39;t happen in the Java code. Also, there are other vulnerabilities/bugs in both codes, e.g. unnecessarily used libraries, unreliable functions and inconsistent data.","body":"I.e. use the Hex encoder of CryptoJS instead of the Latin1 encoder for key and IV. Why do you generate the SHA256 hash of plaintext and ciphertext in the NodeJS code?  This doesn&#39;t happen in the Java code. Also, there are other vulnerabilities/bugs in both codes, e.g. unnecessarily used libraries, unreliable functions and inconsistent data."},{"owner":{"account_id":24580252,"reputation":1,"user_id":18485496,"display_name":"sacl"},"score":0,"creation_date":1647521384,"post_id":71504300,"comment_id":126394928,"body_markdown":"Thank you both for responding. I&#39;m new to js so I used CryptoJS.enc.Utf8.parse() to convert a hexa to binary but I see I&#39;m getting a 32 bit one. Regarding Java, I did not include in the code that the data may or may not be a SHA-256. I will try the recommendations. Again thank you very much for the help.","body":"Thank you both for responding. I&#39;m new to js so I used CryptoJS.enc.Utf8.parse() to convert a hexa to binary but I see I&#39;m getting a 32 bit one. Regarding Java, I did not include in the code that the data may or may not be a SHA-256. I will try the recommendations. Again thank you very much for the help."}],"owner":{"account_id":24580252,"reputation":1,"user_id":18485496,"display_name":"sacl"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":387,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647465234,"creation_date":1647465234,"question_id":71504300,"body_markdown":"I have been reading several similar questions and based on that for my initial code. Unfortunately, I still can&#39;t get it to work.\r\n\r\n    key=&quot;fb52042ada308dd1d4dfd8a3870d5ab5&quot;\r\n    iv = &quot;bb8e0b158f57f63dfeea86e24af1abfc&quot;\r\n    data = {&quot;MerchantId&quot;:&quot;0000000000000001&quot;}\r\n\r\nGet SHA256 from &quot;data&quot; (dataSha256)\r\n\r\nGet encryption from Encrypt dataSha256 + iv + key\r\n\r\nResult of Hexa encryption, similar to:\r\n**fd72fcc16b66d04cf0f4dd2265a59eb675103482bae806b405bb85595056f5770b3202b42d42a87b767892591a333eb6b5c9ad3ef34f4d415f8d3bbc3d0f389e2e5b6f7cd915520c7b2c19225680728b**\r\n\r\nWhen migrating the code from Java to Node.js, I don&#39;t get similar result. The first problem is that the &quot;iv&quot; should be 16 bytes, however in the code it is 32.\r\n\r\nJAVA EXTRACT (original)\r\n\r\n``` lang-java\r\n        public class AesEncryption implements SymmetricEncryptionComponent {\r\n        Map&lt;String, String&gt; initParams;\r\n        String key, iv;\r\n        String mode, encoding;\r\n        String keyFile;\r\n        String ENCODING = &quot;ISO-8859-1&quot;;\r\n    \r\n        public AesEncryption() {\r\n        Security.addProvider(new BouncyCastleProvider());\r\n        }\r\n    \r\n        // PARAMETERS INITIALITATION\r\n        public void setInitParams()\r\n        {\r\n        initParams=params;\r\n        key=” 1ea9a91b0ba908b44f598d2822499441”;\r\n        iv= &quot;f20946931dd6e8594dc6f469b5e583ab&quot;;\r\n        mode= &quot;AES/CBC/PKCS7Padding&quot;;\r\n        encoding= &quot;HEX&quot;;\r\n        if(encoding.equalsIgnoreCase(&quot;BASE64&quot;)&amp;&amp;encoding.equalsIgnoreCase(&quot;HEX&quot;))\r\n        throw new IllegalArgumentException(&quot;AES.ENCODING can only be &#39;HEX&#39; of &#39;BASE64&#39;&quot;)\r\n        }\r\n    \r\n        // INFORMATION CIPHERING return encodeBase24\r\n        public String encrypt(String data) {\r\n        byte[] output = null;\r\n        try {\r\n        byte[] keyBytes = decode(key);\r\n        byte[] input = data.getBytes(ENCODING);\r\n        AlgorithmParameterSpec ivSpec = new \r\n        IvParameterSpec(Hex.decodeHex(iv.toCharArray()));\r\n        SecretKeySpec keySpec = null;\r\n        keySpec = new SecretKeySpec(keyBytes, &quot;AES&quot;);\r\n        Cipher cipher = Cipher.getInstance(mode);\r\n        cipher.init(Cipher.ENCRYPT_MODE, keySpec, ivSpec);\r\n        output = cipher.doFinal(input);\r\n        } catch (Exception e) {\r\n        throw new EncryptionException(&quot;Error&quot;, e);\r\n        }\r\n        return encode(output);\r\n        }\r\n    \r\n        // INFORMATION ENCODE\r\n        private String encode(byte[] output) {\r\n        if (mode.equalsIgnoreCase(&quot;BASE64&quot;))\r\n        return Base64.encodeBase64String(output);\r\n        else\r\n        return new String(Hex.encodeHex(output));\r\n        }\r\n    \r\n        // INFORMATION DECODE\r\n        private byte[] decode(String data) throws DecoderException {\r\n        if (data.indexOf(&quot;=&quot;) &gt; 0 || data.indexOf(&quot;+&quot;) &gt; 0)\r\n        return Base64.decodeBase64(data);\r\n        else\r\n        return Hex.decodeHex(data.toCharArray());\r\n        }\r\n        }\r\n```\r\n\r\nNODE EXTRACT (using crypto-js)\r\n\r\n``` lang-js\r\n        const cryptojs = require(&quot;crypto-js&quot;);\r\n        const crypto = require(&quot;crypto&quot;);\r\n    \r\n        let jsonData = {&quot;MerchantId&quot;:&quot;0000000000000001&quot;};\r\n        let key = &#39;fb52042ada308dd1d4dfd8a3870d5ab5&#39;;\r\n        let iv = &#39;bb8e0b158f57f63dfeea86e24af1abfc&#39;;\r\n        const jsonDataSha256 = \r\n        crypto.createHash(&#39;sha256&#39;).update(JSON.stringify(jsonData)).digest(&#39;hex&#39;);\r\n    \r\n        key = cryptojs.enc.Latin1.parse(key); //Convierte hex string -&gt; word array\r\n        iv = cryptojs.enc.Latin1.parse(iv);\r\n        jsonDataSha256Bin = cryptojs.enc.Latin1.parse(jsonDataSha256);   //Convert hex \r\n        string -&gt; word array\r\n    \r\n        console.log(key);\r\n        console.log(iv);\r\n        console.log(jsonDataSha256);\r\n    \r\n        let encrypted = cryptojs.AES.encrypt(jsonDataSha256Bin, key, {\r\n        iv: iv,\r\n        mode: cryptojs.mode.CBC,\r\n        padding: cryptojs.pad.Pkcs7,\r\n        });\r\n    \r\n        encrypted = encrypted.toString();\r\n        const salida = crypto.createHash(&#39;sha256&#39;).update(encrypted).digest(&#39;hex&#39;);\r\n    \r\n        console.log(`${salida}`);\r\n        //Equals to ce994c4d2b1f398ff0bed22c4b48e1f2170dbf26baf2eaacec96ea6b31667cd6\r\n        //No match to Java output.\r\n```\r\n\r\nWhat will I be doing wrong? Any help is appreciated!\r\n\r\n\r\n","title":"JAVA encrypted AES 256 CBC To NODE.JS - Problems to migrate code","body":"<p>I have been reading several similar questions and based on that for my initial code. Unfortunately, I still can't get it to work.</p>\n<pre><code>key=&quot;fb52042ada308dd1d4dfd8a3870d5ab5&quot;\niv = &quot;bb8e0b158f57f63dfeea86e24af1abfc&quot;\ndata = {&quot;MerchantId&quot;:&quot;0000000000000001&quot;}\n</code></pre>\n<p>Get SHA256 from &quot;data&quot; (dataSha256)</p>\n<p>Get encryption from Encrypt dataSha256 + iv + key</p>\n<p>Result of Hexa encryption, similar to:\n<strong>fd72fcc16b66d04cf0f4dd2265a59eb675103482bae806b405bb85595056f5770b3202b42d42a87b767892591a333eb6b5c9ad3ef34f4d415f8d3bbc3d0f389e2e5b6f7cd915520c7b2c19225680728b</strong></p>\n<p>When migrating the code from Java to Node.js, I don't get similar result. The first problem is that the &quot;iv&quot; should be 16 bytes, however in the code it is 32.</p>\n<p>JAVA EXTRACT (original)</p>\n<pre class=\"lang-java prettyprint-override\"><code>        public class AesEncryption implements SymmetricEncryptionComponent {\n        Map&lt;String, String&gt; initParams;\n        String key, iv;\n        String mode, encoding;\n        String keyFile;\n        String ENCODING = &quot;ISO-8859-1&quot;;\n    \n        public AesEncryption() {\n        Security.addProvider(new BouncyCastleProvider());\n        }\n    \n        // PARAMETERS INITIALITATION\n        public void setInitParams()\n        {\n        initParams=params;\n        key=” 1ea9a91b0ba908b44f598d2822499441”;\n        iv= &quot;f20946931dd6e8594dc6f469b5e583ab&quot;;\n        mode= &quot;AES/CBC/PKCS7Padding&quot;;\n        encoding= &quot;HEX&quot;;\n        if(encoding.equalsIgnoreCase(&quot;BASE64&quot;)&amp;&amp;encoding.equalsIgnoreCase(&quot;HEX&quot;))\n        throw new IllegalArgumentException(&quot;AES.ENCODING can only be 'HEX' of 'BASE64'&quot;)\n        }\n    \n        // INFORMATION CIPHERING return encodeBase24\n        public String encrypt(String data) {\n        byte[] output = null;\n        try {\n        byte[] keyBytes = decode(key);\n        byte[] input = data.getBytes(ENCODING);\n        AlgorithmParameterSpec ivSpec = new \n        IvParameterSpec(Hex.decodeHex(iv.toCharArray()));\n        SecretKeySpec keySpec = null;\n        keySpec = new SecretKeySpec(keyBytes, &quot;AES&quot;);\n        Cipher cipher = Cipher.getInstance(mode);\n        cipher.init(Cipher.ENCRYPT_MODE, keySpec, ivSpec);\n        output = cipher.doFinal(input);\n        } catch (Exception e) {\n        throw new EncryptionException(&quot;Error&quot;, e);\n        }\n        return encode(output);\n        }\n    \n        // INFORMATION ENCODE\n        private String encode(byte[] output) {\n        if (mode.equalsIgnoreCase(&quot;BASE64&quot;))\n        return Base64.encodeBase64String(output);\n        else\n        return new String(Hex.encodeHex(output));\n        }\n    \n        // INFORMATION DECODE\n        private byte[] decode(String data) throws DecoderException {\n        if (data.indexOf(&quot;=&quot;) &gt; 0 || data.indexOf(&quot;+&quot;) &gt; 0)\n        return Base64.decodeBase64(data);\n        else\n        return Hex.decodeHex(data.toCharArray());\n        }\n        }\n</code></pre>\n<p>NODE EXTRACT (using crypto-js)</p>\n<pre class=\"lang-js prettyprint-override\"><code>        const cryptojs = require(&quot;crypto-js&quot;);\n        const crypto = require(&quot;crypto&quot;);\n    \n        let jsonData = {&quot;MerchantId&quot;:&quot;0000000000000001&quot;};\n        let key = 'fb52042ada308dd1d4dfd8a3870d5ab5';\n        let iv = 'bb8e0b158f57f63dfeea86e24af1abfc';\n        const jsonDataSha256 = \n        crypto.createHash('sha256').update(JSON.stringify(jsonData)).digest('hex');\n    \n        key = cryptojs.enc.Latin1.parse(key); //Convierte hex string -&gt; word array\n        iv = cryptojs.enc.Latin1.parse(iv);\n        jsonDataSha256Bin = cryptojs.enc.Latin1.parse(jsonDataSha256);   //Convert hex \n        string -&gt; word array\n    \n        console.log(key);\n        console.log(iv);\n        console.log(jsonDataSha256);\n    \n        let encrypted = cryptojs.AES.encrypt(jsonDataSha256Bin, key, {\n        iv: iv,\n        mode: cryptojs.mode.CBC,\n        padding: cryptojs.pad.Pkcs7,\n        });\n    \n        encrypted = encrypted.toString();\n        const salida = crypto.createHash('sha256').update(encrypted).digest('hex');\n    \n        console.log(`${salida}`);\n        //Equals to ce994c4d2b1f398ff0bed22c4b48e1f2170dbf26baf2eaacec96ea6b31667cd6\n        //No match to Java output.\n</code></pre>\n<p>What will I be doing wrong? Any help is appreciated!</p>\n"},{"tags":["java","nodes"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":1,"creation_date":1647461762,"post_id":71503678,"comment_id":126380407,"body_markdown":"shows a [mcve] please.  Nobody here has a clue without some context.  There is no standard definition of a Node.","body":"shows a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please.  Nobody here has a clue without some context.  There is no standard definition of a Node."},{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1647461782,"post_id":71503678,"comment_id":126380414,"body_markdown":"Did you heard about &quot;classes&quot; ? There is not only primivites in java, there is also objects : List, Map,, ... and a thousand other","body":"Did you heard about &quot;classes&quot; ? There is not only primivites in java, there is also objects : List, Map,, ... and a thousand other"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":1,"creation_date":1647461979,"post_id":71503678,"comment_id":126380462,"body_markdown":"`Node` isn&#39;t a standard thing. Most likely `Node` is a class that is defined in the code you are talking about. So to answer your question, you will have to look at that code to understand what `Node` is. You will need to read more about classes in general and how the store data in fields to understand what is &quot;under the hood&quot;.","body":"<code>Node</code> isn&#39;t a standard thing. Most likely <code>Node</code> is a class that is defined in the code you are talking about. So to answer your question, you will have to look at that code to understand what <code>Node</code> is. You will need to read more about classes in general and how the store data in fields to understand what is &quot;under the hood&quot;."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647464994,"creation_date":1647464994,"answer_id":71504268,"question_id":71503678,"body_markdown":"&gt; For me everything can contain only {text(string), numbers, charaters},\r\n&gt; so when I&#39;ve seen Node node; i ve been confused,which type it stores?\r\n\r\nIt seems you have not yet arrived in object oriented programming.\r\n\r\nWhatever object you create, it can store text, number characters and code (method pointers). And it can store references to other objects, which again have text, number, characters and code of their own.\r\n\r\nThe good news is that Java is strongly typed. So for each variable you can lookup the type in your code and rest assured at runtime it will be that type either. Over time you will learn which types are part of the Java runtime, which of them come from libraries or which of them are from your code.\r\n\r\nSo spend some time being puzzled but do not give up. It&#39;s worth it. :-)","title":"what type of variable type has Node in java?","body":"<blockquote>\n<p>For me everything can contain only {text(string), numbers, charaters},\nso when I've seen Node node; i ve been confused,which type it stores?</p>\n</blockquote>\n<p>It seems you have not yet arrived in object oriented programming.</p>\n<p>Whatever object you create, it can store text, number characters and code (method pointers). And it can store references to other objects, which again have text, number, characters and code of their own.</p>\n<p>The good news is that Java is strongly typed. So for each variable you can lookup the type in your code and rest assured at runtime it will be that type either. Over time you will learn which types are part of the Java runtime, which of them come from libraries or which of them are from your code.</p>\n<p>So spend some time being puzzled but do not give up. It's worth it. :-)</p>\n"}],"owner":{"account_id":19047752,"reputation":1,"user_id":15806982,"display_name":"Sultan Suleimenov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647464994,"creation_date":1647461545,"question_id":71503678,"body_markdown":" I&#39;m learning java,and i&#39;ve seen NODE in some java codes. like in binary tree and etc..\r\nFor me everything can contain only `{text(string), numbers, charaters}`, so when I&#39;ve seen `Node node;` i ve been confused,which type it stores?its string or what else?\r\nso please help me, i am understanding that its object,and object can be null or not null, but i think object also has string or mb int  types (under hood). i&#39;m just newbie, and cant understand it. Thank you)","title":"what type of variable type has Node in java?","body":"<p>I'm learning java,and i've seen NODE in some java codes. like in binary tree and etc..\nFor me everything can contain only <code>{text(string), numbers, charaters}</code>, so when I've seen <code>Node node;</code> i ve been confused,which type it stores?its string or what else?\nso please help me, i am understanding that its object,and object can be null or not null, but i think object also has string or mb int  types (under hood). i'm just newbie, and cant understand it. Thank you)</p>\n"},{"tags":["java","spring","mqtt","mosquitto","hivemq"],"comments":[{"owner":{"account_id":16352957,"reputation":15616,"user_id":11810946,"display_name":"Brits"},"score":1,"creation_date":1647459412,"post_id":71495372,"comment_id":126379701,"body_markdown":"How are you authenticating to the broker? (cannot see any auth in the code you provided - suspect [this](https://github.com/hivemq/hivemq-mqtt-client/issues/315#issuecomment-515758734) may be your issue)","body":"How are you authenticating to the broker? (cannot see any auth in the code you provided - suspect <a href=\"https://github.com/hivemq/hivemq-mqtt-client/issues/315#issuecomment-515758734\" rel=\"nofollow noreferrer\">this</a> may be your issue)"},{"owner":{"account_id":104307,"reputation":5969,"user_id":278949,"accept_rate":97,"display_name":"Frank"},"score":0,"creation_date":1647464281,"post_id":71495372,"comment_id":126381194,"body_markdown":"Thanks a lot @Brits for your tip. I added the connect method to the code extract in the question and you are absolutely right, looks indeed like the linked issue! Will try out. If you add this tip as an answer, I can accept it.","body":"Thanks a lot @Brits for your tip. I added the connect method to the code extract in the question and you are absolutely right, looks indeed like the linked issue! Will try out. If you add this tip as an answer, I can accept it."}],"answers":[{"tags":[],"owner":{"account_id":16352957,"reputation":15616,"user_id":11810946,"display_name":"Brits"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647464986,"creation_date":1647464986,"answer_id":71504266,"question_id":71495372,"body_markdown":"It appears that your question is answered in [this issue](https://github.com/hivemq/hivemq-mqtt-client/issues/315#issuecomment-515758734):\r\n\r\n&gt;If you set the username and password on the connect call, they will not be stored and reused when the client reconnects (for security reasons).\r\n\r\nThe following code (from the issue linked above) demonstrates the approach:\r\n\r\n```\r\nMqtt3Client.builder()\r\n   .identifier(&quot;ePCR mobile-&quot; + currentTimeMillis())\r\n   .serverHost(config.getHost())\r\n   .serverPort(config.getPort())\r\n   .automaticReconnectWithDefaultConfig()\r\n   .simpleAuth()\r\n       .username(config.getUsername())\r\n       .password(config.getPassword())\r\n       .applySimpleAuth()\r\n   .buildRx();\r\n```","title":"HiveMQ Java library fails to automatically reconnect to broker","body":"<p>It appears that your question is answered in <a href=\"https://github.com/hivemq/hivemq-mqtt-client/issues/315#issuecomment-515758734\" rel=\"nofollow noreferrer\">this issue</a>:</p>\n<blockquote>\n<p>If you set the username and password on the connect call, they will not be stored and reused when the client reconnects (for security reasons).</p>\n</blockquote>\n<p>The following code (from the issue linked above) demonstrates the approach:</p>\n<pre><code>Mqtt3Client.builder()\n   .identifier(&quot;ePCR mobile-&quot; + currentTimeMillis())\n   .serverHost(config.getHost())\n   .serverPort(config.getPort())\n   .automaticReconnectWithDefaultConfig()\n   .simpleAuth()\n       .username(config.getUsername())\n       .password(config.getPassword())\n       .applySimpleAuth()\n   .buildRx();\n</code></pre>\n"}],"owner":{"account_id":104307,"reputation":5969,"user_id":278949,"accept_rate":97,"display_name":"Frank"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":952,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71504266,"answer_count":1,"score":0,"last_activity_date":1647464986,"creation_date":1647426290,"question_id":71495372,"body_markdown":"I&#39;m using the HiveMQ library in my Java Spring application to connect to a Mosquitto instance as I find it more user-friendly compared to the Paho client. But something is going wrong with the automatic reconnection. From time to time the connection is lost and the application doesn&#39;t succeed in reconnecting (see logs 1). This can also be triggered by restarting the Mosquitto broker itself (see logs 2).\r\n\r\nThis is my client builder code with additional logging in the disconnect to check if the credentials are still correct:\r\n\r\n```\r\n        client = MqttClient.builder()\r\n                .useMqttVersion5()\r\n                .identifier(identifier)\r\n                .serverHost(host)\r\n                .serverPort(port)\r\n                .sslWithDefaultConfig()\r\n                // https://www.hivemq.com/blog/hivemq-mqtt-client-features/reconnect-handling/\r\n                .automaticReconnectWithDefaultConfig()\r\n                .addDisconnectedListener(context -&gt; logger.error(&quot;MQTT user {} with identifier {} on {}:{} has disconnected reason: {}&quot;,\r\n                        username, identifier, host, port, context.getCause().getMessage()))\r\n                .buildAsync();\r\n\r\n\r\n        client.connectWith()\r\n                .simpleAuth()\r\n                .username(username)\r\n                .password(password.getBytes())\r\n                .applySimpleAuth()\r\n                .cleanStart(false)\r\n                .keepAlive(60)\r\n                .send();\r\n```\r\n\r\n1/ This is shown in my logs after the connection has been lost by the application itself:\r\n\r\n```\r\n2022-03-16 02:10:33.502 ERROR 1 --- [client.mqtt-1-2] MqttConfig : MQTT user *** with identifier SERVICE on ***:8883 has disconnected reason: Timeout while waiting for PINGRESP\r\n2022-03-16 02:11:25.090 ERROR 1 --- [client.mqtt-1-2] MqttConfig : MQTT user *** with identifier SERVICE on ***:8883 has disconnected reason: CONNECT failed as CONNACK contained an Error Code: NOT_AUTHORIZED.\r\n2022-03-16 02:12:27.200 ERROR 1 --- [client.mqtt-1-2] MqttConfig : MQTT user *** with identifier SERVICE on ***:8883 has disconnected reason: Timeout while waiting for CONNACK\r\n```\r\n\r\n2/ This is the logs after the broker has been restarted, some expected time-outs, but also in the end &quot;not authorized&quot;:\r\n\r\n```\r\n2022-03-16 10:17:37.178 ERROR 1 --- [client.mqtt-1-2] MqttConfig     : MQTT user *** with identifier SERVICE on ***:8883 has disconnected reason: Server closed connection without DISCONNECT.\r\n2022-03-16 10:17:48.441 ERROR 1 --- [client.mqtt-1-2] MqttConfig     : MQTT user *** with identifier SERVICE on ***:8883 has disconnected reason: io.netty.channel.ConnectTimeoutException: connection timed out: ***/***:8883\r\n2022-03-16 10:18:00.747 ERROR 1 --- [client.mqtt-1-2] MqttConfig     : MQTT user *** with identifier SERVICE on ***:8883 has disconnected reason: io.netty.channel.ConnectTimeoutException: connection timed out: ***/***:8883\r\n2022-03-16 10:18:10.625 ERROR 1 --- [client.mqtt-1-2] MqttConfig     : MQTT user *** with identifier SERVICE on ***:8883 has disconnected reason: io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: No route to host: ***/***:8883\r\n2022-03-16 10:18:26.845 ERROR 1 --- [client.mqtt-1-2] MqttConfig     : MQTT user *** with identifier SERVICE on ***:8883 has disconnected reason: io.netty.channel.ConnectTimeoutException: connection timed out: ***/***:8883\r\n2022-03-16 10:18:42.584 ERROR 1 --- [client.mqtt-1-2] MqttConfig     : MQTT user *** with identifier SERVICE on ***:8883 has disconnected reason: CONNECT failed as CONNACK contained an Error Code: NOT_AUTHORIZED.\r\n```\r\n\r\nIn both cases, the connection is back to normal with an application restart.\r\n\r\nany ideas?","title":"HiveMQ Java library fails to automatically reconnect to broker","body":"<p>I'm using the HiveMQ library in my Java Spring application to connect to a Mosquitto instance as I find it more user-friendly compared to the Paho client. But something is going wrong with the automatic reconnection. From time to time the connection is lost and the application doesn't succeed in reconnecting (see logs 1). This can also be triggered by restarting the Mosquitto broker itself (see logs 2).</p>\n<p>This is my client builder code with additional logging in the disconnect to check if the credentials are still correct:</p>\n<pre><code>        client = MqttClient.builder()\n                .useMqttVersion5()\n                .identifier(identifier)\n                .serverHost(host)\n                .serverPort(port)\n                .sslWithDefaultConfig()\n                // https://www.hivemq.com/blog/hivemq-mqtt-client-features/reconnect-handling/\n                .automaticReconnectWithDefaultConfig()\n                .addDisconnectedListener(context -&gt; logger.error(&quot;MQTT user {} with identifier {} on {}:{} has disconnected reason: {}&quot;,\n                        username, identifier, host, port, context.getCause().getMessage()))\n                .buildAsync();\n\n\n        client.connectWith()\n                .simpleAuth()\n                .username(username)\n                .password(password.getBytes())\n                .applySimpleAuth()\n                .cleanStart(false)\n                .keepAlive(60)\n                .send();\n</code></pre>\n<p>1/ This is shown in my logs after the connection has been lost by the application itself:</p>\n<pre><code>2022-03-16 02:10:33.502 ERROR 1 --- [client.mqtt-1-2] MqttConfig : MQTT user *** with identifier SERVICE on ***:8883 has disconnected reason: Timeout while waiting for PINGRESP\n2022-03-16 02:11:25.090 ERROR 1 --- [client.mqtt-1-2] MqttConfig : MQTT user *** with identifier SERVICE on ***:8883 has disconnected reason: CONNECT failed as CONNACK contained an Error Code: NOT_AUTHORIZED.\n2022-03-16 02:12:27.200 ERROR 1 --- [client.mqtt-1-2] MqttConfig : MQTT user *** with identifier SERVICE on ***:8883 has disconnected reason: Timeout while waiting for CONNACK\n</code></pre>\n<p>2/ This is the logs after the broker has been restarted, some expected time-outs, but also in the end &quot;not authorized&quot;:</p>\n<pre><code>2022-03-16 10:17:37.178 ERROR 1 --- [client.mqtt-1-2] MqttConfig     : MQTT user *** with identifier SERVICE on ***:8883 has disconnected reason: Server closed connection without DISCONNECT.\n2022-03-16 10:17:48.441 ERROR 1 --- [client.mqtt-1-2] MqttConfig     : MQTT user *** with identifier SERVICE on ***:8883 has disconnected reason: io.netty.channel.ConnectTimeoutException: connection timed out: ***/***:8883\n2022-03-16 10:18:00.747 ERROR 1 --- [client.mqtt-1-2] MqttConfig     : MQTT user *** with identifier SERVICE on ***:8883 has disconnected reason: io.netty.channel.ConnectTimeoutException: connection timed out: ***/***:8883\n2022-03-16 10:18:10.625 ERROR 1 --- [client.mqtt-1-2] MqttConfig     : MQTT user *** with identifier SERVICE on ***:8883 has disconnected reason: io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: No route to host: ***/***:8883\n2022-03-16 10:18:26.845 ERROR 1 --- [client.mqtt-1-2] MqttConfig     : MQTT user *** with identifier SERVICE on ***:8883 has disconnected reason: io.netty.channel.ConnectTimeoutException: connection timed out: ***/***:8883\n2022-03-16 10:18:42.584 ERROR 1 --- [client.mqtt-1-2] MqttConfig     : MQTT user *** with identifier SERVICE on ***:8883 has disconnected reason: CONNECT failed as CONNACK contained an Error Code: NOT_AUTHORIZED.\n</code></pre>\n<p>In both cases, the connection is back to normal with an application restart.</p>\n<p>any ideas?</p>\n"},{"tags":["python","java","jvm","homebrew","sutime"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1647507725,"post_id":71504214,"comment_id":126390209,"body_markdown":"The term “DLL” is normally used for Windows libraries. Besides that, when the message says that the **JVM** DLL was not found, why do you think, it searched for lib named “JLI”?","body":"The term “DLL” is normally used for Windows libraries. Besides that, when the message says that the <b>JVM</b> DLL was not found, why do you think, it searched for lib named “JLI”?"},{"owner":{"account_id":1467006,"reputation":862,"user_id":1379830,"display_name":"Adrian Keister"},"score":0,"creation_date":1674770676,"post_id":71504214,"comment_id":132790256,"body_markdown":"I&#39;m having the same issue. I don&#39;t know why it search for a lib named JLI, but I am using the zulu jre, and it&#39;s looking for the same file: `libjli.dylib`. No ideas, anyone?","body":"I&#39;m having the same issue. I don&#39;t know why it search for a lib named JLI, but I am using the zulu jre, and it&#39;s looking for the same file: <code>libjli.dylib</code>. No ideas, anyone?"}],"owner":{"account_id":13948067,"reputation":121,"user_id":10072311,"display_name":"solitaria"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1634,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647464629,"creation_date":1647464629,"question_id":71504214,"body_markdown":"I installed openjdk with Homebrew on my Mac but then I run a python library (`sutime`) that uses Java, I run into this error: \r\n\r\n```\r\nFileNotFoundError: [Errno 2] JVM DLL not found: /opt/homebrew/Cellar/openjdk/17.0.2/libexec/openjdk.jdk/Contents/Home/lib/libjli.dylib\r\n```\r\n\r\nHowever, when I run \r\n\r\n```ls /opt/homebrew/Cellar/openjdk/17.0.2/libexec/openjdk.jdk/Contents/Home/lib```   \r\n\r\nI can see my dlls here including the one it seemingly couldn&#39;t find **libjli.dylib**. I&#39;m pretty lost on why my dll isn&#39;t being detected even though it is in the correct filepath. \r\n  ","title":"JVM DLL not found but I can clearly see the file","body":"<p>I installed openjdk with Homebrew on my Mac but then I run a python library (<code>sutime</code>) that uses Java, I run into this error:</p>\n<pre><code>FileNotFoundError: [Errno 2] JVM DLL not found: /opt/homebrew/Cellar/openjdk/17.0.2/libexec/openjdk.jdk/Contents/Home/lib/libjli.dylib\n</code></pre>\n<p>However, when I run</p>\n<p><code>ls /opt/homebrew/Cellar/openjdk/17.0.2/libexec/openjdk.jdk/Contents/Home/lib</code></p>\n<p>I can see my dlls here including the one it seemingly couldn't find <strong>libjli.dylib</strong>. I'm pretty lost on why my dll isn't being detected even though it is in the correct filepath.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":18787661,"reputation":149,"user_id":13700916,"display_name":"Seng Phrakonkham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647458215,"creation_date":1647458215,"answer_id":71503101,"question_id":71502768,"body_markdown":"Why do you want to create a TextView programmatically?\r\nYou can hide and show the TextView with visibility.\r\n\r\nIf you want add new TextViews based on a user event, you can use ListView or RecyclerView","title":"Why won&#39;t my programmatically created textview work?","body":"<p>Why do you want to create a TextView programmatically?\nYou can hide and show the TextView with visibility.</p>\n<p>If you want add new TextViews based on a user event, you can use ListView or RecyclerView</p>\n"},{"tags":[],"owner":{"account_id":18787661,"reputation":149,"user_id":13700916,"display_name":"Seng Phrakonkham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647458727,"creation_date":1647458727,"answer_id":71503179,"question_id":71502768,"body_markdown":"ListView sample\r\n\r\nxml:\r\n\r\n       &lt;ListView\r\n        android:id=&quot;@+id/listView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot; /&gt;\r\n\r\nJava code:\r\n\r\n        ListView listView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        listView = findViewById(R.id.listView);\r\n        test();\r\n    }\r\n\r\n    private void test() {\r\n        ArrayList arrayList = new ArrayList();\r\n        arrayList.add(&quot;abcd&quot;);\r\n        arrayList.add(&quot;1234&quot;);\r\n\r\n        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_list_item_1, arrayList);\r\n        listView.setAdapter(adapter);\r\n\r\n    }","title":"Why won&#39;t my programmatically created textview work?","body":"<p>ListView sample</p>\n<p>xml:</p>\n<pre><code>   &lt;ListView\n    android:id=&quot;@+id/listView&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot; /&gt;\n</code></pre>\n<p>Java code:</p>\n<pre><code>    ListView listView;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    listView = findViewById(R.id.listView);\n    test();\n}\n\nprivate void test() {\n    ArrayList arrayList = new ArrayList();\n    arrayList.add(&quot;abcd&quot;);\n    arrayList.add(&quot;1234&quot;);\n\n    ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_list_item_1, arrayList);\n    listView.setAdapter(adapter);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18787661,"reputation":149,"user_id":13700916,"display_name":"Seng Phrakonkham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647464366,"creation_date":1647463815,"answer_id":71504104,"question_id":71502768,"body_markdown":"First of all you need an xml (name: my_list.xml) for your listView\r\n\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/textView&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;@id/checkBox&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toStartOf=&quot;@id/checkBox&quot;\r\n            android:layout_marginStart=&quot;8dp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;@id/checkBox&quot;\r\n            android:text=&quot;TextView&quot; /&gt;\r\n    \r\n        &lt;CheckBox\r\n            android:id=&quot;@+id/checkBox&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;8dp&quot;\r\n            android:layout_marginEnd=&quot;8dp&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\nThen you should create a data class (name MyData.java)\r\n\r\n    public class MyData {\r\n        String myText;\r\n        boolean myBool;\r\n    \r\n        public MyData(String myText, boolean myBool) {\r\n            this.myText = myText;\r\n            this.myBool = myBool;\r\n        }\r\n    \r\n        public String getMyText() {\r\n            return myText;\r\n        }\r\n    \r\n        public void setMyText(String myText) {\r\n            this.myText = myText;\r\n        }\r\n    \r\n        public boolean isMyBool() {\r\n            return myBool;\r\n        }\r\n    \r\n        public void setMyBool(boolean myBool) {\r\n            this.myBool = myBool;\r\n        }\r\n    }\r\n\r\nThen you have to create an adapter (name MyAdapter.java)\r\n\r\n    public class MyAdapter extends ArrayAdapter&lt;MyData&gt; {\r\n        private ArrayList&lt;MyData&gt; dataSet;\r\n        private  Context context;\r\n        private  int resource;\r\n    \r\n    \r\n        public MyAdapter(@NonNull Context context, int resource, @NonNull ArrayList&lt;MyData&gt; dataSet) {\r\n            super(context, resource, dataSet);\r\n    \r\n            this.context = context;\r\n            this.resource = resource;\r\n            this.dataSet = dataSet;\r\n        }\r\n    \r\n        public View getView(final int position, View view, ViewGroup parent) {\r\n            LayoutInflater inflater = LayoutInflater.from(context);\r\n            View rowView = inflater.inflate(resource, parent, false);\r\n    \r\n            TextView textView = rowView.findViewById(R.id.textView);\r\n            CheckBox checkBox = rowView.findViewById(R.id.checkBox);\r\n    \r\n            textView.setText(dataSet.get(position).myText);\r\n            checkBox.setChecked(dataSet.get(position).myBool);\r\n    \r\n            checkBox.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n                @Override\r\n                public void onCheckedChanged(CompoundButton compoundButton, boolean b) {\r\n                    // do something here\r\n                }\r\n            });\r\n    \r\n            return rowView;\r\n        }\r\n    }\r\n\r\nAnd finally you can use your data :) (I mad it in the MainActivity)\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        ListView listView;\r\n        MyAdapter adapter;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            listView = findViewById(R.id.listView);\r\n            test();\r\n        }\r\n    \r\n        private void test() {\r\n    \r\n            ArrayList&lt;MyData&gt; myList = new ArrayList&lt;&gt;();\r\n            MyData data1 = new MyData(&quot;Text1&quot;, true);\r\n            MyData data2 = new MyData(&quot;Text2&quot;, false);\r\n    \r\n            myList.add(data1);\r\n            myList.add(data2);\r\n    \r\n            adapter = new MyAdapter(getBaseContext(), R.layout.my_list, myList);\r\n            listView.setAdapter(adapter);\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n\r\n","title":"Why won&#39;t my programmatically created textview work?","body":"<p>First of all you need an xml (name: my_list.xml) for your listView</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintTop_toTopOf=&quot;@id/checkBox&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintEnd_toStartOf=&quot;@id/checkBox&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;@id/checkBox&quot;\n        android:text=&quot;TextView&quot; /&gt;\n\n    &lt;CheckBox\n        android:id=&quot;@+id/checkBox&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        android:layout_marginEnd=&quot;8dp&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>Then you should create a data class (name MyData.java)</p>\n<pre><code>public class MyData {\n    String myText;\n    boolean myBool;\n\n    public MyData(String myText, boolean myBool) {\n        this.myText = myText;\n        this.myBool = myBool;\n    }\n\n    public String getMyText() {\n        return myText;\n    }\n\n    public void setMyText(String myText) {\n        this.myText = myText;\n    }\n\n    public boolean isMyBool() {\n        return myBool;\n    }\n\n    public void setMyBool(boolean myBool) {\n        this.myBool = myBool;\n    }\n}\n</code></pre>\n<p>Then you have to create an adapter (name MyAdapter.java)</p>\n<pre><code>public class MyAdapter extends ArrayAdapter&lt;MyData&gt; {\n    private ArrayList&lt;MyData&gt; dataSet;\n    private  Context context;\n    private  int resource;\n\n\n    public MyAdapter(@NonNull Context context, int resource, @NonNull ArrayList&lt;MyData&gt; dataSet) {\n        super(context, resource, dataSet);\n\n        this.context = context;\n        this.resource = resource;\n        this.dataSet = dataSet;\n    }\n\n    public View getView(final int position, View view, ViewGroup parent) {\n        LayoutInflater inflater = LayoutInflater.from(context);\n        View rowView = inflater.inflate(resource, parent, false);\n\n        TextView textView = rowView.findViewById(R.id.textView);\n        CheckBox checkBox = rowView.findViewById(R.id.checkBox);\n\n        textView.setText(dataSet.get(position).myText);\n        checkBox.setChecked(dataSet.get(position).myBool);\n\n        checkBox.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n            @Override\n            public void onCheckedChanged(CompoundButton compoundButton, boolean b) {\n                // do something here\n            }\n        });\n\n        return rowView;\n    }\n}\n</code></pre>\n<p>And finally you can use your data :) (I mad it in the MainActivity)</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    ListView listView;\n    MyAdapter adapter;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        listView = findViewById(R.id.listView);\n        test();\n    }\n\n    private void test() {\n\n        ArrayList&lt;MyData&gt; myList = new ArrayList&lt;&gt;();\n        MyData data1 = new MyData(&quot;Text1&quot;, true);\n        MyData data2 = new MyData(&quot;Text2&quot;, false);\n\n        myList.add(data1);\n        myList.add(data2);\n\n        adapter = new MyAdapter(getBaseContext(), R.layout.my_list, myList);\n        listView.setAdapter(adapter);\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":24580931,"reputation":35,"user_id":18486066,"display_name":"Colin Wolff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71504104,"answer_count":3,"score":1,"last_activity_date":1647464366,"creation_date":1647456383,"question_id":71502768,"body_markdown":"&#39;&#39;&#39;    \r\n\r\n    package com.example.pillappreal;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.view.Gravity;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.CheckBox;\r\n    import android.widget.LinearLayout;\r\n    import android.widget.TextView;\r\n    \r\n    import java.sql.Array;\r\n    import java.util.ArrayList;\r\n    \r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        public ArrayList&lt;Drug&gt; list = new ArrayList&lt;&gt;();\r\n        public ArrayList&lt;String&gt; testList = new ArrayList&lt;&gt;();\r\n        public static final String EXTRA_MESSAGE = &quot;com.example.myfirstapp.MESSAGE&quot;;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n    \r\n        }\r\n    \r\n        public void addNewDrug(View view) {\r\n            Intent intent = new Intent(this, AddNewDrugActivity.class);\r\n            startActivity(intent);\r\n        }\r\n    \r\n        public void testMethod(View view) {\r\n            Intent intent = new Intent(this, MainActivity.class);\r\n        }\r\n    \r\n        public void addNewDrug(Drug drug) {\r\n            list.add(drug);\r\n            if (list.size() &gt; 0) {\r\n                Log.d(&quot;actually works ffs&quot;, list.get(0).name);\r\n                for (int i = 0; i &lt; 5; i++) {\r\n                    LinearLayout linearLayout = findViewById(R.id.rootLayout);\r\n    \r\n                    // Create TextView programmatically.\r\n                    TextView textView = new TextView(this);\r\n                    textView.setLayoutParams(new LinearLayout.LayoutParams(ViewGroup.LayoutParams.WRAP_CONTENT, ViewGroup.LayoutParams.WRAP_CONTENT));\r\n                    textView.setGravity(Gravity.CENTER);\r\n                    textView.setText(list.get(i).name);\r\n    \r\n                    // Add TextView to LinearLayout\r\n                    if (linearLayout != null) {\r\n                        linearLayout.addView(textView);\r\n                    }\r\n    \r\n                }\r\n                Log.d(&quot;Mainlist&quot;, list.get(0).name);\r\n            }\r\n        }\r\n    }\r\n\r\n&#39;&#39;&#39;\r\n\r\nThe textview won&#39;t actually be created in the app. I know the textview code works because when I use it to print out &quot;test&quot; in the onCreate method, it works. I know the list arraylist gets its objects from the helper class because Log.d shows the values in the addNewDrug method. For some reason the textView code is not working, even when I use a string instead of value from the arraylist, and i have no clue why.\r\n","title":"Why won&#39;t my programmatically created textview work?","body":"<p>'''</p>\n<pre><code>package com.example.pillappreal;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.Gravity;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.CheckBox;\nimport android.widget.LinearLayout;\nimport android.widget.TextView;\n\nimport java.sql.Array;\nimport java.util.ArrayList;\n\n\npublic class MainActivity extends AppCompatActivity {\n\n    public ArrayList&lt;Drug&gt; list = new ArrayList&lt;&gt;();\n    public ArrayList&lt;String&gt; testList = new ArrayList&lt;&gt;();\n    public static final String EXTRA_MESSAGE = &quot;com.example.myfirstapp.MESSAGE&quot;;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n\n    }\n\n    public void addNewDrug(View view) {\n        Intent intent = new Intent(this, AddNewDrugActivity.class);\n        startActivity(intent);\n    }\n\n    public void testMethod(View view) {\n        Intent intent = new Intent(this, MainActivity.class);\n    }\n\n    public void addNewDrug(Drug drug) {\n        list.add(drug);\n        if (list.size() &gt; 0) {\n            Log.d(&quot;actually works ffs&quot;, list.get(0).name);\n            for (int i = 0; i &lt; 5; i++) {\n                LinearLayout linearLayout = findViewById(R.id.rootLayout);\n\n                // Create TextView programmatically.\n                TextView textView = new TextView(this);\n                textView.setLayoutParams(new LinearLayout.LayoutParams(ViewGroup.LayoutParams.WRAP_CONTENT, ViewGroup.LayoutParams.WRAP_CONTENT));\n                textView.setGravity(Gravity.CENTER);\n                textView.setText(list.get(i).name);\n\n                // Add TextView to LinearLayout\n                if (linearLayout != null) {\n                    linearLayout.addView(textView);\n                }\n\n            }\n            Log.d(&quot;Mainlist&quot;, list.get(0).name);\n        }\n    }\n}\n</code></pre>\n<p>'''</p>\n<p>The textview won't actually be created in the app. I know the textview code works because when I use it to print out &quot;test&quot; in the onCreate method, it works. I know the list arraylist gets its objects from the helper class because Log.d shows the values in the addNewDrug method. For some reason the textView code is not working, even when I use a string instead of value from the arraylist, and i have no clue why.</p>\n"},{"tags":["java","spring","spring-boot","timeout","camunda"],"answers":[{"tags":[],"owner":{"account_id":15111339,"reputation":66,"user_id":10905332,"display_name":"Japjappedulap"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647464286,"creation_date":1647464286,"answer_id":71504164,"question_id":71471699,"body_markdown":"I achieved something similar using spring session, when using spring boot 2.x.x.\r\n\r\nMy `pom.xml` has these dependencies:\r\n\r\n```\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-session-jdbc&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-session-core&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\nUsing these, Camunda will rely on spring session for session management so you can control session using standard options provided by spring session. However, keep in mind this will use you persistence layer (postgres/h2/etc).\r\n\r\nThere&#39;s a [spring.session.timeout](https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.web.spring.session.timeout) available, try setting that one to `120m` in `application.properties` / `application.yaml`.\r\n\r\nI have these in my `application.yaml` config file\r\n\r\n```\r\nspring:\r\n  session:\r\n    store-type: jdbc\r\n    jdbc.initialize-schema: always\r\n```","title":"How to set timeout in camunda in Spring Boot?","body":"<p>I achieved something similar using spring session, when using spring boot 2.x.x.</p>\n<p>My <code>pom.xml</code> has these dependencies:</p>\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-session-jdbc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-session-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Using these, Camunda will rely on spring session for session management so you can control session using standard options provided by spring session. However, keep in mind this will use you persistence layer (postgres/h2/etc).</p>\n<p>There's a <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.web.spring.session.timeout\" rel=\"nofollow noreferrer\">spring.session.timeout</a> available, try setting that one to <code>120m</code> in <code>application.properties</code> / <code>application.yaml</code>.</p>\n<p>I have these in my <code>application.yaml</code> config file</p>\n<pre><code>spring:\n  session:\n    store-type: jdbc\n    jdbc.initialize-schema: always\n</code></pre>\n"}],"owner":{"account_id":7146292,"reputation":325,"user_id":5461890,"accept_rate":56,"display_name":"Mahmoud"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647464286,"creation_date":1647278077,"question_id":71471699,"body_markdown":"I want to set a timeout for 120 minutes in the session of Camunda. \r\nThis is the configuration in my pom.xml :\r\n\r\n```\r\n...\r\n...\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.camunda.bpm.springboot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;camunda-bpm-spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.camunda.bpm.springboot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;camunda-bpm-spring-boot-starter-webapp&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.camunda.bpm.springboot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;camunda-bpm-spring-boot-starter-rest&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.camunda.bpm&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;camunda-engine-rest-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;7.8.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n...\r\n...\r\n```\r\nI tried a lot of tracks, two of which are the most proposed on the forums, one to use if spring boot version is &lt; 1 and the other if spring boot is &gt; 2 : \r\n```\r\nserver.connection-timeout=...\r\nserver.servlet.session.timeout=...\r\n```\r\n\r\nFor the version of dependecies :\r\n```&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n&lt;springboot.version&gt;2.3.0&lt;/springboot.version&gt;\r\n&lt;version.camunda&gt;7.8.0&lt;/version.camunda&gt;\r\n```\r\n\r\nAre there other possibilities to set the timeout session ?","title":"How to set timeout in camunda in Spring Boot?","body":"<p>I want to set a timeout for 120 minutes in the session of Camunda.\nThis is the configuration in my pom.xml :</p>\n<pre><code>...\n...\n&lt;dependency&gt;\n            &lt;groupId&gt;org.camunda.bpm.springboot&lt;/groupId&gt;\n            &lt;artifactId&gt;camunda-bpm-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.camunda.bpm.springboot&lt;/groupId&gt;\n            &lt;artifactId&gt;camunda-bpm-spring-boot-starter-webapp&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.camunda.bpm.springboot&lt;/groupId&gt;\n            &lt;artifactId&gt;camunda-bpm-spring-boot-starter-rest&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.camunda.bpm&lt;/groupId&gt;\n            &lt;artifactId&gt;camunda-engine-rest-core&lt;/artifactId&gt;\n            &lt;version&gt;7.8.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n...\n...\n</code></pre>\n<p>I tried a lot of tracks, two of which are the most proposed on the forums, one to use if spring boot version is &lt; 1 and the other if spring boot is &gt; 2 :</p>\n<pre><code>server.connection-timeout=...\nserver.servlet.session.timeout=...\n</code></pre>\n<p>For the version of dependecies :</p>\n<pre><code>&lt;springboot.version&gt;2.3.0&lt;/springboot.version&gt;\n&lt;version.camunda&gt;7.8.0&lt;/version.camunda&gt;\n</code></pre>\n<p>Are there other possibilities to set the timeout session ?</p>\n"},{"tags":["java","list","object"],"comments":[{"owner":{"account_id":36759,"reputation":38034,"user_id":104950,"accept_rate":93,"display_name":"Amir Afghani"},"score":0,"creation_date":1647449824,"post_id":71501161,"comment_id":126376200,"body_markdown":"What&#39;s preventing you from calling toString() and parsing out the values?","body":"What&#39;s preventing you from calling toString() and parsing out the values?"},{"owner":{"account_id":5967181,"reputation":542,"user_id":4690672,"display_name":"Nayanish Damania"},"score":0,"creation_date":1648125227,"post_id":71501161,"comment_id":126547996,"body_markdown":"HI @vb381, Can you please mark the answer as accepted if you satisfied my answer.","body":"HI @vb381, Can you please mark the answer as accepted if you satisfied my answer."}],"answers":[{"tags":[],"owner":{"account_id":5967181,"reputation":542,"user_id":4690672,"display_name":"Nayanish Damania"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647464226,"creation_date":1647462622,"answer_id":71503892,"question_id":71501161,"body_markdown":"**MyClass.java**\r\n```java\r\npublic class MyClass {\r\n    private String text1;\r\n    private String text2;\r\n\r\n    public MyClass() {\r\n    }\r\n\r\n    public MyClass(String text1, String text2) {\r\n        this.text1 = text1;\r\n        this.text2 = text2;\r\n    }\r\n\r\n    public String getText1() {\r\n        return this.text1;\r\n    }\r\n\r\n    public void setText1(String text1) {\r\n        this.text1 = text1;\r\n    }\r\n\r\n    public String getText2() {\r\n        return this.text2;\r\n    }\r\n\r\n    public void setText1(String text2) {\r\n        this.text2 = text2;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nObjectMapper mapper = new ObjectMapper();\r\n\r\nString jsonInput = response.getBody();\r\nList&lt;MyClass&gt; myObjects = mapper.readValue(jsonInput, new TypeReference&lt;List&lt;MyClass&gt;&gt;(){});\r\n```\r\n\r\n**Explanation of How ObjectMapper works:**\r\n\r\nThe Jackson ObjectMapper class is the simplest way to parse JSON with Jackson. The Jackson Object mapper can parse JSON into objects of classes developed by you, or into objects of the built-in JSON tree model.\r\nThe reason it is called ObjectMapper is that it maps JSON into Java Objects (deserialization), or Java Objects into JSON (serialization). \r\n","title":"JAVA - How to convert object to list","body":"<p><strong>MyClass.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyClass {\n    private String text1;\n    private String text2;\n\n    public MyClass() {\n    }\n\n    public MyClass(String text1, String text2) {\n        this.text1 = text1;\n        this.text2 = text2;\n    }\n\n    public String getText1() {\n        return this.text1;\n    }\n\n    public void setText1(String text1) {\n        this.text1 = text1;\n    }\n\n    public String getText2() {\n        return this.text2;\n    }\n\n    public void setText1(String text2) {\n        this.text2 = text2;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.databind.ObjectMapper;\nObjectMapper mapper = new ObjectMapper();\n\nString jsonInput = response.getBody();\nList&lt;MyClass&gt; myObjects = mapper.readValue(jsonInput, new TypeReference&lt;List&lt;MyClass&gt;&gt;(){});\n</code></pre>\n<p><strong>Explanation of How ObjectMapper works:</strong></p>\n<p>The Jackson ObjectMapper class is the simplest way to parse JSON with Jackson. The Jackson Object mapper can parse JSON into objects of classes developed by you, or into objects of the built-in JSON tree model.\nThe reason it is called ObjectMapper is that it maps JSON into Java Objects (deserialization), or Java Objects into JSON (serialization).</p>\n"}],"owner":{"account_id":9323999,"reputation":181,"user_id":6921924,"accept_rate":38,"display_name":"vb381"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1575,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647464226,"creation_date":1647449490,"question_id":71501161,"body_markdown":"I have method that is setting variable as an object\r\n\r\n`Object value = response.getBody().jsonPath.get(variable)`\r\n\r\nreturned object is in the following format\r\n\r\n`[{text1=value1, text2=value2, text3=value3}, {text1=value4, text2=value5, text3=value6}]`\r\n\r\nI need somehow to itter over this end verify all values (value1-6). How can I do that?\r\n\r\n","title":"JAVA - How to convert object to list","body":"<p>I have method that is setting variable as an object</p>\n<p><code>Object value = response.getBody().jsonPath.get(variable)</code></p>\n<p>returned object is in the following format</p>\n<p><code>[{text1=value1, text2=value2, text3=value3}, {text1=value4, text2=value5, text3=value6}]</code></p>\n<p>I need somehow to itter over this end verify all values (value1-6). How can I do that?</p>\n"},{"tags":["java","android","xml","android-preferences","preferencescreen"],"answers":[{"tags":[],"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647463216,"creation_date":1647463216,"answer_id":71503990,"question_id":71503813,"body_markdown":"&gt;`androidx.preference.SwitchPreferenceCompat cannot be cast to\r\n&gt; androidx.preference.PreferenceGroup`\r\n\r\n\r\nThe snippet `setPreferencesFromResource(R.xml.preferences, rootKey)` is what raises that as it expects a `PreferenceGroup` instead of a preference view. Where `SwitchPreferenceCompat` is not `PreferenceGroup`.\r\n\r\nThat is because you used a `SwitchPreferenceCompat` as the root element of settings screen. Instead you need to use the `PreferenceScreen` which extends from `PreferenceGroup`.\r\n\r\nSo to fix this you need to make sure that the root element of your preference layout is `PreferenceScreen`","title":"androidx.preference.SwitchPreferenceCompat cannot be cast to androidx.preference.PreferenceGroup","body":"<blockquote>\n<p><code>androidx.preference.SwitchPreferenceCompat cannot be cast to androidx.preference.PreferenceGroup</code></p>\n</blockquote>\n<p>The snippet <code>setPreferencesFromResource(R.xml.preferences, rootKey)</code> is what raises that as it expects a <code>PreferenceGroup</code> instead of a preference view. Where <code>SwitchPreferenceCompat</code> is not <code>PreferenceGroup</code>.</p>\n<p>That is because you used a <code>SwitchPreferenceCompat</code> as the root element of settings screen. Instead you need to use the <code>PreferenceScreen</code> which extends from <code>PreferenceGroup</code>.</p>\n<p>So to fix this you need to make sure that the root element of your preference layout is <code>PreferenceScreen</code></p>\n"}],"owner":{"account_id":19003541,"reputation":39,"user_id":13870638,"display_name":"luca.04"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":277,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71503990,"answer_count":1,"score":1,"last_activity_date":1647463242,"creation_date":1647462204,"question_id":71503813,"body_markdown":"So I&#39;m trying to make an options menu in my android app but when I click on it in the emulator the app crashes and I get the following error:\r\n\r\n    androidx.preference.SwitchPreferenceCompat cannot be cast to androidx.preference.PreferenceGroup\r\n\r\nI don&#39;t really know what I am doing wrong here, I hope somebody knows.\r\n\r\nThe settings activity:\r\n```\r\npublic class SettingsActivity extends AppCompatActivity {\r\n    public static final String KEY_PREF_EXAMPLE_SWITCH = &quot;example_switch&quot;;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        getSupportFragmentManager().beginTransaction()\r\n                .replace(android.R.id.content,\r\n                        new SettingsFragment()).commit();\r\n    }\r\n}\r\n```\r\n\r\n\r\nThe fragment class\r\n```\r\npublic class SettingsFragment extends PreferenceFragmentCompat {\r\n\r\n    @Override\r\n    public void onCreatePreferences(Bundle savedInstanceState,\r\n                                    String rootKey) {\r\n        setPreferencesFromResource(R.xml.preferences, rootKey);\r\n    }\r\n\r\n}\r\n```\r\nmethods in my MainActivity:\r\n```\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        getMenuInflater().inflate(R.menu.menu_main, menu);\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n\r\n        int id = item.getItemId();\r\n\r\n        // Launch SettingsActivity\r\n        if (id == R.id.action_settings) {\r\n            Intent intent = new Intent(this, SettingsActivity.class);\r\n            startActivity(intent);\r\n            return true;\r\n        }\r\n\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n```\r\n\r\nEDIT\r\nHere is also my layout file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;SwitchPreferenceCompat xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n\r\n    &lt;SwitchPreference\r\n        android:defaultValue=&quot;false&quot;\r\n        android:key=&quot;vega_preference&quot;\r\n        android:summaryOff=&quot;@string/vega_off_string&quot;\r\n        android:summaryOn=&quot;@string/vega_on_string&quot;\r\n        android:title=&quot;@string/vega_switch_title&quot; /&gt;\r\n    &lt;SwitchPreference\r\n        android:defaultValue=&quot;false&quot;\r\n        android:key=&quot;vegan_preference&quot;\r\n        android:summaryOff=&quot;@string/vegan_off_string&quot;\r\n        android:summaryOn=&quot;@string/vegan_on_string&quot;\r\n        android:title=&quot;@string/vegan_switch_title&quot; /&gt;\r\n&lt;/SwitchPreferenceCompat&gt;\r\n```","title":"androidx.preference.SwitchPreferenceCompat cannot be cast to androidx.preference.PreferenceGroup","body":"<p>So I'm trying to make an options menu in my android app but when I click on it in the emulator the app crashes and I get the following error:</p>\n<pre><code>androidx.preference.SwitchPreferenceCompat cannot be cast to androidx.preference.PreferenceGroup\n</code></pre>\n<p>I don't really know what I am doing wrong here, I hope somebody knows.</p>\n<p>The settings activity:</p>\n<pre><code>public class SettingsActivity extends AppCompatActivity {\n    public static final String KEY_PREF_EXAMPLE_SWITCH = &quot;example_switch&quot;;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        getSupportFragmentManager().beginTransaction()\n                .replace(android.R.id.content,\n                        new SettingsFragment()).commit();\n    }\n}\n</code></pre>\n<p>The fragment class</p>\n<pre><code>public class SettingsFragment extends PreferenceFragmentCompat {\n\n    @Override\n    public void onCreatePreferences(Bundle savedInstanceState,\n                                    String rootKey) {\n        setPreferencesFromResource(R.xml.preferences, rootKey);\n    }\n\n}\n</code></pre>\n<p>methods in my MainActivity:</p>\n<pre><code>    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        getMenuInflater().inflate(R.menu.menu_main, menu);\n        return true;\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n\n        int id = item.getItemId();\n\n        // Launch SettingsActivity\n        if (id == R.id.action_settings) {\n            Intent intent = new Intent(this, SettingsActivity.class);\n            startActivity(intent);\n            return true;\n        }\n\n        return super.onOptionsItemSelected(item);\n    }\n</code></pre>\n<p>EDIT\nHere is also my layout file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;SwitchPreferenceCompat xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n\n    &lt;SwitchPreference\n        android:defaultValue=&quot;false&quot;\n        android:key=&quot;vega_preference&quot;\n        android:summaryOff=&quot;@string/vega_off_string&quot;\n        android:summaryOn=&quot;@string/vega_on_string&quot;\n        android:title=&quot;@string/vega_switch_title&quot; /&gt;\n    &lt;SwitchPreference\n        android:defaultValue=&quot;false&quot;\n        android:key=&quot;vegan_preference&quot;\n        android:summaryOff=&quot;@string/vegan_off_string&quot;\n        android:summaryOn=&quot;@string/vegan_on_string&quot;\n        android:title=&quot;@string/vegan_switch_title&quot; /&gt;\n&lt;/SwitchPreferenceCompat&gt;\n</code></pre>\n"},{"tags":["java","sql-server","spring","hibernate"],"comments":[{"owner":{"account_id":24165,"reputation":274971,"user_id":61305,"display_name":"Aaron Bertrand"},"score":0,"creation_date":1647463156,"post_id":71503635,"comment_id":126380830,"body_markdown":"I suppose your ORM doesn&#39;t let you see what SQL it actually generates and sends to SQL Server. Which is what some people love about ORMs, but what we should all hate about them.","body":"I suppose your ORM doesn&#39;t let you see what SQL it actually generates and sends to SQL Server. Which is what some people love about ORMs, but what we should all hate about them."},{"owner":{"account_id":22129395,"reputation":11,"user_id":16381159,"display_name":"Milan Bhatt"},"score":0,"creation_date":1647463389,"post_id":71503635,"comment_id":126380903,"body_markdown":"@AaronBertrand Sorry sir, I did not get you. Can you elaborate more on what you&#39;ve said And what should I do here in this case?","body":"@AaronBertrand Sorry sir, I did not get you. Can you elaborate more on what you&#39;ve said And what should I do here in this case?"},{"owner":{"account_id":24165,"reputation":274971,"user_id":61305,"display_name":"Aaron Bertrand"},"score":0,"creation_date":1647463461,"post_id":71503635,"comment_id":126380930,"body_markdown":"I mean that your ORM is generating a query that includes a reference to a column named `purchase_purchaseID` but isn&#39;t showing you the actual query it&#39;s sending (or how it came about to think such a column existed). ORMs work great until they don&#39;t.","body":"I mean that your ORM is generating a query that includes a reference to a column named <code>purchase_purchaseID</code> but isn&#39;t showing you the actual query it&#39;s sending (or how it came about to think such a column existed). ORMs work great until they don&#39;t."},{"owner":{"account_id":24165,"reputation":274971,"user_id":61305,"display_name":"Aaron Bertrand"},"score":0,"creation_date":1647463806,"post_id":71503635,"comment_id":126381034,"body_markdown":"[Relevant tweet from last month](https://twitter.com/AaronBertrand/status/1494725734153216003)","body":"<a href=\"https://twitter.com/AaronBertrand/status/1494725734153216003\" rel=\"nofollow noreferrer\">Relevant tweet from last month</a>"},{"owner":{"account_id":22129395,"reputation":11,"user_id":16381159,"display_name":"Milan Bhatt"},"score":0,"creation_date":1647490192,"post_id":71503635,"comment_id":126386008,"body_markdown":"@AaronBertrand haha. I understood your point based on later explanation. Thank you","body":"@AaronBertrand haha. I understood your point based on later explanation. Thank you"}],"owner":{"account_id":22129395,"reputation":11,"user_id":16381159,"display_name":"Milan Bhatt"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647461339,"creation_date":1647461339,"question_id":71503635,"body_markdown":"I&#39;m making one web application for online shoes, using spring boot framework and I&#39;m trying to build a relation between Product and Purchase table. In that I assume that in a one purchase we can have multiple products. So I&#39;ve done some code according to this relation and in that, I&#39;m getting an exception like **InvalidDataAccessResourceUsageException** and the subsequent exception is **com.microsoft.sqlserver.jdbc.SQLServerException: Invalid column name &#39;purchase_purchaseID&#39;**.\r\n\r\nMay be my relation is wrong or invalid. So please help me in this issue.\r\n\r\nYou can find more details as below:\r\n\r\nMy first entity class **Product**\r\n\r\n```\r\n@Entity\r\npublic class Product {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;productID&quot;, unique = true, nullable = false)\r\n\tprivate int productID;\r\n\t\r\n\t@Column(name = &quot;subCatID&quot;, nullable = false)\r\n\tprivate int subCatID;\r\n\t\r\n\t@Column(name = &quot;productName&quot;, nullable = false)\r\n\tprivate String productName;\r\n\t\r\n\t@ManyToOne(targetEntity = Purchase.class)\r\n\tprivate Purchase purchase;\r\n\t\r\n\tpublic int getSubCatID() {\r\n\t\treturn subCatID;\r\n\t}\r\n\r\n\tpublic void setSubCatID(int subCatID) {\r\n\t\tthis.subCatID = subCatID;\r\n\t}\r\n\r\n\tpublic int getProductID() {\r\n\t\treturn productID;\r\n\t}\r\n\r\n\tpublic void setProductID(int productID) {\r\n\t\tthis.productID = productID;\r\n\t}\r\n\r\n\tpublic String getProductName() {\r\n\t\treturn productName;\r\n\t}\r\n\r\n\tpublic void setProductName(String procutName) {\r\n\t\tthis.productName = procutName;\r\n\t}\r\n\r\n\tpublic Purchase getPurchase() {\r\n\t\treturn purchase;\r\n\t}\r\n\r\n\tpublic void setPurchase(Purchase purchase) {\r\n\t\tthis.purchase = purchase;\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nMy second entity class is **Purchase**\r\n\r\n```\r\n@Entity\r\npublic class Purchase {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;purchaseID&quot;, unique = true, nullable = false)\r\n\tprivate int purchaseID;\r\n\t\r\n\t@OneToMany\r\n\t@JoinColumn(name = &quot;productID&quot;)\r\n\tprivate Set&lt;Product&gt; product;\r\n\t\r\n\t@ManyToOne(targetEntity = User.class)\r\n\t@JoinColumn(name = &quot;userID&quot;)\r\n\tprivate User user;\r\n\t\r\n\t@Column(name = &quot;createdDate&quot;)\r\n\tprivate Date createdDate;\r\n\r\n\tpublic int getPurchaseID() {\r\n\t\treturn purchaseID;\r\n\t}\r\n\r\n\tpublic void setPurchaseID(int purchaseID) {\r\n\t\tthis.purchaseID = purchaseID;\r\n\t}\r\n\r\n\tpublic Set&lt;Product&gt; getProduct() {\r\n\t\treturn product;\r\n\t}\r\n\r\n\tpublic void setProduct(Set&lt;Product&gt; product) {\r\n\t\tthis.product = product;\r\n\t}\r\n\r\n\tpublic User getUser() {\r\n\t\treturn user;\r\n\t}\r\n\r\n\tpublic void setUser(User user) {\r\n\t\tthis.user = user;\r\n\t}\r\n\r\n\tpublic Date getCreatedDate() {\r\n\t\treturn createdDate;\r\n\t}\r\n\r\n\tpublic void setCreatedDate(Date createdDate) {\r\n\t\tthis.createdDate = createdDate;\r\n\t}\r\n```\r\nAnd then I&#39;m trying to access to particular URL action like **/products** at that time this exception gets thrown. You can also find out this code from the controller side.\r\n```\r\n@RequestMapping(method = RequestMethod.GET, value = &quot;/products&quot;)\r\n\tpublic ModelAndView getProducts(HttpServletRequest req) {\r\n\t\tsession = req.getSession(false);\r\n\t\tModelAndView mav = null;\r\n\t\tif(session != null) {\r\n\t\t\tList&lt;Product&gt; productList = productService.getAllProducts();\r\n\t\t\tmav = new ModelAndView(&quot;Product&quot;);\r\n\t\t\tmav.addObject(productList);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tmav = new ModelAndView(&quot;Login&quot;);\r\n\t\t}\r\n\t\treturn mav;\r\n\t}\r\n```\r\n\r\nException:\r\n```\r\norg.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:259) ~[spring-orm-5.3.15.jar:5.3.15]\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233) ~[spring-orm-5.3.15.jar:5.3.15]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.15.jar:5.3.15]\r\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.15.jar:5.3.15]\r\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.15.jar:5.3.15]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.15.jar:5.3.15]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.6.1.jar:2.6.1]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.15.jar:5.3.15]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]\r\n\r\nCaused by: org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:103) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:67) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n\tat org.hibernate.loader.Loader.getResultSet(Loader.java:2322) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2075) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n\r\nCaused by: com.microsoft.sqlserver.jdbc.SQLServerException: Invalid column name &#39;purchase_purchaseID&#39;.\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:265) ~[mssql-jdbc-9.4.1.jre8.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1662) ~[mssql-jdbc-9.4.1.jre8.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:615) ~[mssql-jdbc-9.4.1.jre8.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement$PrepStmtExecCmd.doExecute(SQLServerPreparedStatement.java:537) ~[mssql-jdbc-9.4.1.jre8.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7417) ~[mssql-jdbc-9.4.1.jre8.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:3488) ~[mssql-jdbc-9.4.1.jre8.jar:na]\r\n\r\ncom.microsoft.sqlserver.jdbc.SQLServerException: Invalid column name &#39;purchase_purchaseID&#39;.\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:265) ~[mssql-jdbc-9.4.1.jre8.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1662) ~[mssql-jdbc-9.4.1.jre8.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:615) ~[mssql-jdbc-9.4.1.jre8.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement$PrepStmtExecCmd.doExecute(SQLServerPreparedStatement.java:537) ~[mssql-jdbc-9.4.1.jre8.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7417) ~[mssql-jdbc-9.4.1.jre8.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:3488) ~[mssql-jdbc-9.4.1.jre8.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:262) ~[mssql-jdbc-9.4.1.jre8.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:237) ~[mssql-jdbc-9.4.1.jre8.jar:na]\r\n```","title":"Getting an exception like InvalidDataAccessResourceUsageException","body":"<p>I'm making one web application for online shoes, using spring boot framework and I'm trying to build a relation between Product and Purchase table. In that I assume that in a one purchase we can have multiple products. So I've done some code according to this relation and in that, I'm getting an exception like <strong>InvalidDataAccessResourceUsageException</strong> and the subsequent exception is <strong>com.microsoft.sqlserver.jdbc.SQLServerException: Invalid column name 'purchase_purchaseID'</strong>.</p>\n<p>May be my relation is wrong or invalid. So please help me in this issue.</p>\n<p>You can find more details as below:</p>\n<p>My first entity class <strong>Product</strong></p>\n<pre><code>@Entity\npublic class Product {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;productID&quot;, unique = true, nullable = false)\n    private int productID;\n    \n    @Column(name = &quot;subCatID&quot;, nullable = false)\n    private int subCatID;\n    \n    @Column(name = &quot;productName&quot;, nullable = false)\n    private String productName;\n    \n    @ManyToOne(targetEntity = Purchase.class)\n    private Purchase purchase;\n    \n    public int getSubCatID() {\n        return subCatID;\n    }\n\n    public void setSubCatID(int subCatID) {\n        this.subCatID = subCatID;\n    }\n\n    public int getProductID() {\n        return productID;\n    }\n\n    public void setProductID(int productID) {\n        this.productID = productID;\n    }\n\n    public String getProductName() {\n        return productName;\n    }\n\n    public void setProductName(String procutName) {\n        this.productName = procutName;\n    }\n\n    public Purchase getPurchase() {\n        return purchase;\n    }\n\n    public void setPurchase(Purchase purchase) {\n        this.purchase = purchase;\n    }\n    \n}\n</code></pre>\n<p>My second entity class is <strong>Purchase</strong></p>\n<pre><code>@Entity\npublic class Purchase {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;purchaseID&quot;, unique = true, nullable = false)\n    private int purchaseID;\n    \n    @OneToMany\n    @JoinColumn(name = &quot;productID&quot;)\n    private Set&lt;Product&gt; product;\n    \n    @ManyToOne(targetEntity = User.class)\n    @JoinColumn(name = &quot;userID&quot;)\n    private User user;\n    \n    @Column(name = &quot;createdDate&quot;)\n    private Date createdDate;\n\n    public int getPurchaseID() {\n        return purchaseID;\n    }\n\n    public void setPurchaseID(int purchaseID) {\n        this.purchaseID = purchaseID;\n    }\n\n    public Set&lt;Product&gt; getProduct() {\n        return product;\n    }\n\n    public void setProduct(Set&lt;Product&gt; product) {\n        this.product = product;\n    }\n\n    public User getUser() {\n        return user;\n    }\n\n    public void setUser(User user) {\n        this.user = user;\n    }\n\n    public Date getCreatedDate() {\n        return createdDate;\n    }\n\n    public void setCreatedDate(Date createdDate) {\n        this.createdDate = createdDate;\n    }\n</code></pre>\n<p>And then I'm trying to access to particular URL action like <strong>/products</strong> at that time this exception gets thrown. You can also find out this code from the controller side.</p>\n<pre><code>@RequestMapping(method = RequestMethod.GET, value = &quot;/products&quot;)\n    public ModelAndView getProducts(HttpServletRequest req) {\n        session = req.getSession(false);\n        ModelAndView mav = null;\n        if(session != null) {\n            List&lt;Product&gt; productList = productService.getAllProducts();\n            mav = new ModelAndView(&quot;Product&quot;);\n            mav.addObject(productList);\n        }\n        else {\n            mav = new ModelAndView(&quot;Login&quot;);\n        }\n        return mav;\n    }\n</code></pre>\n<p>Exception:</p>\n<pre><code>org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:259) ~[spring-orm-5.3.15.jar:5.3.15]\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233) ~[spring-orm-5.3.15.jar:5.3.15]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.15.jar:5.3.15]\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.15.jar:5.3.15]\n    at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.15.jar:5.3.15]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.15.jar:5.3.15]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.6.1.jar:2.6.1]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.15.jar:5.3.15]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]\n\nCaused by: org.hibernate.exception.SQLGrammarException: could not extract ResultSet\n    at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:103) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:67) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n    at org.hibernate.loader.Loader.getResultSet(Loader.java:2322) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2075) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n\nCaused by: com.microsoft.sqlserver.jdbc.SQLServerException: Invalid column name 'purchase_purchaseID'.\n    at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:265) ~[mssql-jdbc-9.4.1.jre8.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1662) ~[mssql-jdbc-9.4.1.jre8.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:615) ~[mssql-jdbc-9.4.1.jre8.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement$PrepStmtExecCmd.doExecute(SQLServerPreparedStatement.java:537) ~[mssql-jdbc-9.4.1.jre8.jar:na]\n    at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7417) ~[mssql-jdbc-9.4.1.jre8.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:3488) ~[mssql-jdbc-9.4.1.jre8.jar:na]\n\ncom.microsoft.sqlserver.jdbc.SQLServerException: Invalid column name 'purchase_purchaseID'.\n    at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:265) ~[mssql-jdbc-9.4.1.jre8.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1662) ~[mssql-jdbc-9.4.1.jre8.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:615) ~[mssql-jdbc-9.4.1.jre8.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement$PrepStmtExecCmd.doExecute(SQLServerPreparedStatement.java:537) ~[mssql-jdbc-9.4.1.jre8.jar:na]\n    at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7417) ~[mssql-jdbc-9.4.1.jre8.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:3488) ~[mssql-jdbc-9.4.1.jre8.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:262) ~[mssql-jdbc-9.4.1.jre8.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:237) ~[mssql-jdbc-9.4.1.jre8.jar:na]\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":6894157,"reputation":1612,"user_id":5296683,"accept_rate":83,"display_name":"Med Elgarnaoui"},"score":0,"creation_date":1647460121,"post_id":71503347,"comment_id":126379922,"body_markdown":"Does this answer your question? [How to make multiple authentication with resttemplate behind the proxy](https://stackoverflow.com/questions/58813824/how-to-make-multiple-authentication-with-resttemplate-behind-the-proxy)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/58813824/how-to-make-multiple-authentication-with-resttemplate-behind-the-proxy\">How to make multiple authentication with resttemplate behind the proxy</a>"},{"owner":{"account_id":23951579,"reputation":17,"user_id":17943074,"display_name":"stackoverflow"},"score":0,"creation_date":1647460312,"post_id":71503347,"comment_id":126379977,"body_markdown":"Sorry I am not looking for behind the proxy and the link is using the BasicAuthenticationInterceptor only which I wanted to avoid because of the issue mentioned in the post.","body":"Sorry I am not looking for behind the proxy and the link is using the BasicAuthenticationInterceptor only which I wanted to avoid because of the issue mentioned in the post."}],"owner":{"account_id":23951579,"reputation":17,"user_id":17943074,"display_name":"stackoverflow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":815,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647460956,"creation_date":1647459701,"question_id":71503347,"body_markdown":"I have the following common configuration in my Spring Boot application:\r\n\r\n```java\r\n    private RestTemplate getRestTemplate(String username, String pwd){\r\n        RestTemplate restTemplate = new RestTemplate(new HttpComponentsClientHttpRequestFactory());\r\n        restTemplate.getInterceptors().add(new BasicAuthenticationInterceptor(username, pwd));\r\n        return restTemplate;\r\n    }\r\n```\r\n\r\nRight now I am using BasicAuthenticationInterceptor to add basic auth credentials to the Http &#39;Authorization&#39; headers.\r\n\r\nMy new requirement asks to add another Http &#39;Authorization&#39; header with a OAuth/JWT token. So I added something like this below:\r\n\r\n```java\r\nheaders.set(HttpHeaders.AUTHORIZATION, escape(token));\r\n```\r\n\r\nBut as I was using Spring&#39;s BasicAuthenticationInterceptor when I add token as &quot;Authorization&quot; header because of the if condition in the spring BasicAuthenticationInterceptor class it is not adding the basic auth credentials. Please find below if condition for more info:\r\n\r\n```java\r\npublic class BasicAuthenticationInterceptor implements ClientHttpRequestInterceptor {\r\n    private final String encodedCredentials;\r\n\r\n    public BasicAuthenticationInterceptor(String username, String password) {\r\n        this(username, password, (Charset)null);\r\n    }\r\n\r\n    public BasicAuthenticationInterceptor(String username, String password, @Nullable Charset charset) {\r\n        this.encodedCredentials = HttpHeaders.encodeBasicAuth(username, password, charset);\r\n    }\r\n\r\n    public ClientHttpResponse intercept(HttpRequest request, byte[] body, ClientHttpRequestExecution execution) throws IOException {\r\n        HttpHeaders headers = request.getHeaders();\r\n        if (!headers.containsKey(&quot;Authorization&quot;)) { /* here it will not add if I already have an Authorization header*/\r\n            headers.setBasicAuth(this.encodedCredentials);\r\n        }\r\n\r\n        return execution.execute(request, body);\r\n    }\r\n}\r\n```\r\n\r\nSo I was thinking may be I need to write my own custom Interceptor but before doing so I wanted to see if there is already a existing Interceptor that can fulfill my request. BTW, I was hoping to use BasicAuthorizationInterceptor but is deprecated in 5.3.9(my current spring version).\r\n\r\nAnd in a sidenote, if I am going to write a new interceptor (if that is what you suggest.) then I also wanted to add the token auth header in that custom interceptor.\r\n\r\n Any input or suggestion is appreciated.","title":"How to add multiple authorization headers in spring boot resttemplate","body":"<p>I have the following common configuration in my Spring Boot application:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private RestTemplate getRestTemplate(String username, String pwd){\n        RestTemplate restTemplate = new RestTemplate(new HttpComponentsClientHttpRequestFactory());\n        restTemplate.getInterceptors().add(new BasicAuthenticationInterceptor(username, pwd));\n        return restTemplate;\n    }\n</code></pre>\n<p>Right now I am using BasicAuthenticationInterceptor to add basic auth credentials to the Http 'Authorization' headers.</p>\n<p>My new requirement asks to add another Http 'Authorization' header with a OAuth/JWT token. So I added something like this below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>headers.set(HttpHeaders.AUTHORIZATION, escape(token));\n</code></pre>\n<p>But as I was using Spring's BasicAuthenticationInterceptor when I add token as &quot;Authorization&quot; header because of the if condition in the spring BasicAuthenticationInterceptor class it is not adding the basic auth credentials. Please find below if condition for more info:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BasicAuthenticationInterceptor implements ClientHttpRequestInterceptor {\n    private final String encodedCredentials;\n\n    public BasicAuthenticationInterceptor(String username, String password) {\n        this(username, password, (Charset)null);\n    }\n\n    public BasicAuthenticationInterceptor(String username, String password, @Nullable Charset charset) {\n        this.encodedCredentials = HttpHeaders.encodeBasicAuth(username, password, charset);\n    }\n\n    public ClientHttpResponse intercept(HttpRequest request, byte[] body, ClientHttpRequestExecution execution) throws IOException {\n        HttpHeaders headers = request.getHeaders();\n        if (!headers.containsKey(&quot;Authorization&quot;)) { /* here it will not add if I already have an Authorization header*/\n            headers.setBasicAuth(this.encodedCredentials);\n        }\n\n        return execution.execute(request, body);\n    }\n}\n</code></pre>\n<p>So I was thinking may be I need to write my own custom Interceptor but before doing so I wanted to see if there is already a existing Interceptor that can fulfill my request. BTW, I was hoping to use BasicAuthorizationInterceptor but is deprecated in 5.3.9(my current spring version).</p>\n<p>And in a sidenote, if I am going to write a new interceptor (if that is what you suggest.) then I also wanted to add the token auth header in that custom interceptor.</p>\n<p>Any input or suggestion is appreciated.</p>\n"},{"tags":["java","sql","spring-boot","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":7473996,"reputation":310,"user_id":5680977,"display_name":"Dhiraj Surve"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647460778,"creation_date":1647460778,"answer_id":71503545,"question_id":71503137,"body_markdown":" You can use native query like below in jpa however this is not safe way to do it .As this code is vulnerable to risk .\r\n\r\n    @Query(\r\n      value = &quot;select &quot;+listOfColumnNames+&quot;from table where val= &quot;+input+&quot;, \r\n      nativeQuery = true)\r\n    Collection&lt;User&gt; findData();","title":"Is there a way to dynamically set columns to retrieve in query using spring JPA?","body":"<p>You can use native query like below in jpa however this is not safe way to do it .As this code is vulnerable to risk .</p>\n<pre><code>@Query(\n  value = &quot;select &quot;+listOfColumnNames+&quot;from table where val= &quot;+input+&quot;, \n  nativeQuery = true)\nCollection&lt;User&gt; findData();\n</code></pre>\n"}],"owner":{"account_id":16395317,"reputation":205,"user_id":11843048,"display_name":"Froshiga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":377,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647460778,"creation_date":1647458420,"question_id":71503137,"body_markdown":"I&#39;m using spring boot and I have some queries in a separate properties file that I want to modify to allow a user to select which data columns to return from the db. \r\n\r\nRight now the queries look like this:\r\n\r\n```\r\nselect * from table where val=(:val);\r\n```\r\n\r\nBut I want something like this:\r\n\r\n```\r\nselect (:listOfColumnNames) from table where val=(:val);\r\n```\r\n\r\nI want to keep using JPA so is there any workaround to do this/get a similar functionality?","title":"Is there a way to dynamically set columns to retrieve in query using spring JPA?","body":"<p>I'm using spring boot and I have some queries in a separate properties file that I want to modify to allow a user to select which data columns to return from the db.</p>\n<p>Right now the queries look like this:</p>\n<pre><code>select * from table where val=(:val);\n</code></pre>\n<p>But I want something like this:</p>\n<pre><code>select (:listOfColumnNames) from table where val=(:val);\n</code></pre>\n<p>I want to keep using JPA so is there any workaround to do this/get a similar functionality?</p>\n"},{"tags":["java","spring","hibernate","many-to-many","stack-overflow"],"comments":[{"owner":{"account_id":20525751,"reputation":949,"user_id":15064224,"display_name":"Issa Khodadadi"},"score":0,"creation_date":1647066721,"post_id":71447478,"comment_id":126284652,"body_markdown":"first save user, then save appointment.","body":"first save user, then save appointment."},{"owner":{"account_id":4752752,"reputation":569,"user_id":3842355,"accept_rate":17,"display_name":"skm"},"score":0,"creation_date":1647067418,"post_id":71447478,"comment_id":126284748,"body_markdown":"Same error occurs.","body":"Same error occurs."},{"owner":{"account_id":10153177,"reputation":5292,"user_id":7499069,"display_name":"tuhin47"},"score":0,"creation_date":1647073121,"post_id":71447478,"comment_id":126285667,"body_markdown":"provide more code for here `user.setSubscribedAppointments(appointment); //sheikh fuad\nappointment.setSubscribers(user);\n        \nappointmentRepository.save(appointment);\nuserRepository.save(user);`","body":"provide more code for here <code>user.setSubscribedAppointments(appointment); &#47;&#47;sheikh fuad appointment.setSubscribers(user);          appointmentRepository.save(appointment); userRepository.save(user);</code>"},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1647099332,"post_id":71447478,"comment_id":126290624,"body_markdown":"Looks like you do have few more entities `com.taqwaapps.entity.District.hashCode(District.java:21)`  &amp; `com.taqwaapps.entity.City.hashCode(City.java:25) `  which might be having some issues. can you check on these 2 entities.","body":"Looks like you do have few more entities <code>com.taqwaapps.entity.District.hashCode(District.java:21)</code>  &amp; <code>com.taqwaapps.entity.City.hashCode(City.java:25) </code>  which might be having some issues. can you check on these 2 entities."},{"owner":{"account_id":4752752,"reputation":569,"user_id":3842355,"accept_rate":17,"display_name":"skm"},"score":0,"creation_date":1647160861,"post_id":71447478,"comment_id":126297211,"body_markdown":"The Error occurs when line user.setSubscribedAppointments(appointment);  is executed.","body":"The Error occurs when line user.setSubscribedAppointments(appointment);  is executed."},{"owner":{"account_id":4752752,"reputation":569,"user_id":3842355,"accept_rate":17,"display_name":"skm"},"score":0,"creation_date":1647163596,"post_id":71447478,"comment_id":126297695,"body_markdown":"Kindly see my edited Question (End).","body":"Kindly see my edited Question (End)."},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1647264739,"post_id":71447478,"comment_id":126320473,"body_markdown":"Do you implement equals and hashcode in your entities? If yes, the update your question with them.","body":"Do you implement equals and hashcode in your entities? If yes, the update your question with them."},{"owner":{"account_id":4752752,"reputation":569,"user_id":3842355,"accept_rate":17,"display_name":"skm"},"score":0,"creation_date":1647356418,"post_id":71447478,"comment_id":126347519,"body_markdown":"I don&#180;t do...should I ? I&#180;m using Lombok which generates these for me. @pringi","body":"I don&#180;t do...should I ? I&#180;m using Lombok which generates these for me. @pringi"}],"answers":[{"tags":[],"owner":{"account_id":24533059,"reputation":11,"user_id":18444553,"display_name":"Sai Teja Polisetty"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647258035,"creation_date":1647258035,"answer_id":71467166,"question_id":71447478,"body_markdown":"Try it in this order..it might help you save the record.\r\n\r\n    appointment.setSubscribers(user);\r\n    appointmentRepository.save(appointment);\r\n    user.setSubscribedAppointments(appointment); //sheikh fuad\r\n    userRepository.save(user);\r\n","title":"StackOverflowError when trying to fill join table in Spring?","body":"<p>Try it in this order..it might help you save the record.</p>\n<pre><code>appointment.setSubscribers(user);\nappointmentRepository.save(appointment);\nuser.setSubscribedAppointments(appointment); //sheikh fuad\nuserRepository.save(user);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647358708,"creation_date":1647358325,"answer_id":71484882,"question_id":71447478,"body_markdown":"From the comments, you are using *Lombok*&#39;s annotation `@EqualsAndHashCode`.\r\n\r\nIf you check the generated code, you will see that *User* is calling the `Set`of Appointments (probably backed by `HashSet`) hashcode. The same is true for *Appointment* that is calling *Set* of Users hashcode.\r\n\r\nLombok generates something like this:\r\n\r\n      public int hashCode() {\r\n        final int PRIME = 59;\r\n        int result = 1;\r\n        final Object $set = this.getSet();\r\n        result = result * PRIME + ($set == null ? 43 : $set.hashCode());\r\n        return result;\r\n      }\r\n\r\nIf you see the JDK source code for HashSet hashcode:\r\n\r\n    public int hashCode() {\r\n        int h = 0;\r\n        Iterator&lt;E&gt; i = iterator();\r\n        while (i.hasNext()) {\r\n            E obj = i.next();\r\n            if (obj != null)\r\n                h += obj.hashCode();\r\n        }\r\n        return h;\r\n    }\r\n\r\nThe set is being iterated for calculating each member hashcode.\r\n\r\nSince you are doing this:\r\n\r\n    user.setSubscribedAppointments(appointment); //sheikh fuad\r\n    appointment.setSubscribers(user);\r\n\r\nA call to hashcode is triggered in both setXXX. \r\n\r\nThe stackoverflow is probably occurring in the second line, since user as appointment and appointment has the same user. When calculating the hashcode, one calls the other over and over again.\r\n\r\nYou need to break this dependency in hashcode calculation (probably the same occurs in equals method). You need to remove, or configure the @EqualsAndHashCode, so it does break at some point the calculation. If you implement hashcode by yourself, then the easier solution is to calculate using only the primary key (if the entity is persisted) for example. If the entity is not persisted, then you can use some other fields, but taking into attention the circularity that can occur in the calculation (you have to avoid/break it).\r\n","title":"StackOverflowError when trying to fill join table in Spring?","body":"<p>From the comments, you are using <em>Lombok</em>'s annotation <code>@EqualsAndHashCode</code>.</p>\n<p>If you check the generated code, you will see that <em>User</em> is calling the <code>Set</code>of Appointments (probably backed by <code>HashSet</code>) hashcode. The same is true for <em>Appointment</em> that is calling <em>Set</em> of Users hashcode.</p>\n<p>Lombok generates something like this:</p>\n<pre><code>  public int hashCode() {\n    final int PRIME = 59;\n    int result = 1;\n    final Object $set = this.getSet();\n    result = result * PRIME + ($set == null ? 43 : $set.hashCode());\n    return result;\n  }\n</code></pre>\n<p>If you see the JDK source code for HashSet hashcode:</p>\n<pre><code>public int hashCode() {\n    int h = 0;\n    Iterator&lt;E&gt; i = iterator();\n    while (i.hasNext()) {\n        E obj = i.next();\n        if (obj != null)\n            h += obj.hashCode();\n    }\n    return h;\n}\n</code></pre>\n<p>The set is being iterated for calculating each member hashcode.</p>\n<p>Since you are doing this:</p>\n<pre><code>user.setSubscribedAppointments(appointment); //sheikh fuad\nappointment.setSubscribers(user);\n</code></pre>\n<p>A call to hashcode is triggered in both setXXX.</p>\n<p>The stackoverflow is probably occurring in the second line, since user as appointment and appointment has the same user. When calculating the hashcode, one calls the other over and over again.</p>\n<p>You need to break this dependency in hashcode calculation (probably the same occurs in equals method). You need to remove, or configure the @EqualsAndHashCode, so it does break at some point the calculation. If you implement hashcode by yourself, then the easier solution is to calculate using only the primary key (if the entity is persisted) for example. If the entity is not persisted, then you can use some other fields, but taking into attention the circularity that can occur in the calculation (you have to avoid/break it).</p>\n"},{"tags":[],"owner":{"account_id":23617210,"reputation":256,"user_id":17651108,"display_name":"Azadi Yazdani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647460748,"creation_date":1647460748,"answer_id":71503539,"question_id":71447478,"body_markdown":"The Entity Appointment is dependent on user_id, which is null when you are going to save appointment. So first save user without setting appointment in it. Then set user for appointment and save it. Finally, set appointment for user and save it again. which means you must have the following lines:\r\n\r\n    userRepository.save(user);\r\n    appointment.setSubscribers(user);\r\n    appointmentRepository.save(appointment);\r\n    user.setSubscribedAppointments(appointment); \r\n    userRepository.save(user);\r\n","title":"StackOverflowError when trying to fill join table in Spring?","body":"<p>The Entity Appointment is dependent on user_id, which is null when you are going to save appointment. So first save user without setting appointment in it. Then set user for appointment and save it. Finally, set appointment for user and save it again. which means you must have the following lines:</p>\n<pre><code>userRepository.save(user);\nappointment.setSubscribers(user);\nappointmentRepository.save(appointment);\nuser.setSubscribedAppointments(appointment); \nuserRepository.save(user);\n</code></pre>\n"}],"owner":{"account_id":4752752,"reputation":569,"user_id":3842355,"accept_rate":17,"display_name":"skm"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":813,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71484882,"answer_count":3,"score":1,"last_activity_date":1647460748,"creation_date":1647066620,"question_id":71447478,"body_markdown":"I get StackOverflowError when tyring to fill join table...see Code below.\r\n\r\nI have two Entites:\r\n\r\n    @Entity\r\n    public class User {\r\n    \t\r\n    \t@Id\r\n    \t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    \tprivate Long userId;\r\n    \t\r\n    \t\r\n    \t@ManyToMany\r\n    \t@JoinTable(\r\n    \t  name = &quot;user_appointment&quot;, \r\n    \t  joinColumns = @JoinColumn(name = &quot;user_id&quot;), \r\n    \t  inverseJoinColumns = @JoinColumn(name = &quot;appointment_id&quot;))\r\n    \tSet&lt;Appointment&gt; subscribedAppointments;\r\n    \t\r\n    }\r\n\r\n\r\n-----\r\n\r\n    @Entity\r\n    public class Appointment {\r\n    \t\r\n    \t@Id\r\n    \t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    \tprivate Long appointmentId;\r\n    \t    \t\r\n    \t@JsonIgnore\r\n    \t@ManyToMany(mappedBy = &quot;subscribedAppointments&quot;)\r\n    \tSet&lt;User&gt; subscribers; //users who added this appointment to their calendar\r\n    }\r\n\r\n\r\nWhen I try to fill the join table as following:\r\n\r\n    user.setSubscribedAppointments(appointment); //sheikh fuad\r\n    appointment.setSubscribers(user);\r\n    \t\t\r\n    appointmentRepository.save(appointment);\r\n    userRepository.save(user);\r\n\r\nI get StackoverflowError:\r\n\r\n    java.lang.StackOverflowError: null\r\n    \tat java.base/java.lang.Exception.&lt;init&gt;(Exception.java:102) ~[na:na]\r\n    \tat java.base/java.lang.ReflectiveOperationException.&lt;init&gt;(ReflectiveOperationException.java:89) ~[na:na]\r\n    \tat java.base/java.lang.reflect.InvocationTargetException.&lt;init&gt;(InvocationTargetException.java:73) ~[na:na]\r\n    \tat jdk.internal.reflect.GeneratedMethodAccessor60.invoke(Unknown Source) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n    \tat org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor.intercept(ByteBuddyInterceptor.java:56) ~[hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \tat org.hibernate.proxy.ProxyConfiguration$InterceptorDispatcher.intercept(ProxyConfiguration.java:95) ~[hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \tat com.taqwaapps.entity.Country$HibernateProxy$pGwXHWph.hashCode(Unknown Source) ~[classes/:na]\r\n    \tat com.taqwaapps.entity.City.hashCode(City.java:25) ~[classes/:na]\r\n    \tat jdk.internal.reflect.GeneratedMethodAccessor59.invoke(Unknown Source) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n    \tat org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor.intercept(ByteBuddyInterceptor.java:56) ~[hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \tat org.hibernate.proxy.ProxyConfiguration$InterceptorDispatcher.intercept(ProxyConfiguration.java:95) ~[hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \tat com.taqwaapps.entity.City$HibernateProxy$9IT2B41W.hashCode(Unknown Source) ~[classes/:na]\r\n    \tat com.taqwaapps.entity.District.hashCode(District.java:21) ~[classes/:na]\r\n    \tat com.taqwaapps.entity.Appointment.hashCode(Appointment.java:31) ~[classes/:na]\r\n    \tat java.base/java.util.ImmutableCollections$Set12.hashCode(ImmutableCollections.java:520) ~[na:na]\r\n    \tat com.taqwaapps.entity.User.hashCode(User.java:29) ~[classes/:na]\r\n    \tat com.taqwaapps.entity.Appointment.hashCode(Appointment.java:31) ~[classes/:na]\r\n    \tat java.base/java.util.ImmutableCollections$Set12.hashCode(ImmutableCollections.java:520) ~[na:na]\r\n    ...\r\n\r\nThen these three lines are repeated many many times:\r\n\r\n\tat com.taqwaapps.entity.User.hashCode(User.java:29) ~[classes/:na]\r\n\tat com.taqwaapps.entity.Appointment.hashCode(Appointment.java:31) ~[classes/:na]\r\n\tat java.base/java.util.ImmutableCollections$Set12.hashCode(ImmutableCollections.java:520) ~[na:na]\r\n\r\nIs it correct to set the appointments for the user and vice versa? Or how to fill the join table which was generated by spring?\r\n","title":"StackOverflowError when trying to fill join table in Spring?","body":"<p>I get StackOverflowError when tyring to fill join table...see Code below.</p>\n<p>I have two Entites:</p>\n<pre><code>@Entity\npublic class User {\n    \n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private Long userId;\n    \n    \n    @ManyToMany\n    @JoinTable(\n      name = &quot;user_appointment&quot;, \n      joinColumns = @JoinColumn(name = &quot;user_id&quot;), \n      inverseJoinColumns = @JoinColumn(name = &quot;appointment_id&quot;))\n    Set&lt;Appointment&gt; subscribedAppointments;\n    \n}\n</code></pre>\n<hr />\n<pre><code>@Entity\npublic class Appointment {\n    \n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private Long appointmentId;\n            \n    @JsonIgnore\n    @ManyToMany(mappedBy = &quot;subscribedAppointments&quot;)\n    Set&lt;User&gt; subscribers; //users who added this appointment to their calendar\n}\n</code></pre>\n<p>When I try to fill the join table as following:</p>\n<pre><code>user.setSubscribedAppointments(appointment); //sheikh fuad\nappointment.setSubscribers(user);\n        \nappointmentRepository.save(appointment);\nuserRepository.save(user);\n</code></pre>\n<p>I get StackoverflowError:</p>\n<pre><code>java.lang.StackOverflowError: null\n    at java.base/java.lang.Exception.&lt;init&gt;(Exception.java:102) ~[na:na]\n    at java.base/java.lang.ReflectiveOperationException.&lt;init&gt;(ReflectiveOperationException.java:89) ~[na:na]\n    at java.base/java.lang.reflect.InvocationTargetException.&lt;init&gt;(InvocationTargetException.java:73) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor60.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor.intercept(ByteBuddyInterceptor.java:56) ~[hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    at org.hibernate.proxy.ProxyConfiguration$InterceptorDispatcher.intercept(ProxyConfiguration.java:95) ~[hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    at com.taqwaapps.entity.Country$HibernateProxy$pGwXHWph.hashCode(Unknown Source) ~[classes/:na]\n    at com.taqwaapps.entity.City.hashCode(City.java:25) ~[classes/:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor59.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor.intercept(ByteBuddyInterceptor.java:56) ~[hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    at org.hibernate.proxy.ProxyConfiguration$InterceptorDispatcher.intercept(ProxyConfiguration.java:95) ~[hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    at com.taqwaapps.entity.City$HibernateProxy$9IT2B41W.hashCode(Unknown Source) ~[classes/:na]\n    at com.taqwaapps.entity.District.hashCode(District.java:21) ~[classes/:na]\n    at com.taqwaapps.entity.Appointment.hashCode(Appointment.java:31) ~[classes/:na]\n    at java.base/java.util.ImmutableCollections$Set12.hashCode(ImmutableCollections.java:520) ~[na:na]\n    at com.taqwaapps.entity.User.hashCode(User.java:29) ~[classes/:na]\n    at com.taqwaapps.entity.Appointment.hashCode(Appointment.java:31) ~[classes/:na]\n    at java.base/java.util.ImmutableCollections$Set12.hashCode(ImmutableCollections.java:520) ~[na:na]\n...\n</code></pre>\n<p>Then these three lines are repeated many many times:</p>\n<pre><code>at com.taqwaapps.entity.User.hashCode(User.java:29) ~[classes/:na]\nat com.taqwaapps.entity.Appointment.hashCode(Appointment.java:31) ~[classes/:na]\nat java.base/java.util.ImmutableCollections$Set12.hashCode(ImmutableCollections.java:520) ~[na:na]\n</code></pre>\n<p>Is it correct to set the appointments for the user and vice versa? Or how to fill the join table which was generated by spring?</p>\n"},{"tags":["java","rest","tomcat","jersey","dropwizard"],"answers":[{"tags":[],"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647460675,"creation_date":1647460675,"answer_id":71503527,"question_id":71497739,"body_markdown":"When Jersey starts up, it will introspect registered resource classes and build a model of all the resources. This model includes the resource classes, the resources methods, and the paths and content-types that map to those resources/resource methods.\r\n\r\nJersey itself runs as a [Servlet][servlet] inside a Servlet container (e.g. Tomcat, Grizzly). The entry point Servlet is the Jersey [`ServletContainer`][servletcontainer]. So when a request comes in, if the requested URI matches the configured servlet-mapping, the Servlet container will forward the request to the Jersey Servlet. Based on the requested URI and [content negotiation][conneg], Jersey will go into the model mapping and determine which resource class and method should be called, and then call that method.\r\n\r\n[servlet]: https://jakarta.ee/specifications/servlet/5.0/jakarta-servlet-spec-5.0.html#what-is-a-servlet\r\n\r\n[servletcontainer]: https://github.com/eclipse-ee4j/jersey/blob/master/containers/jersey-servlet-core/src/main/java/org/glassfish/jersey/servlet/ServletContainer.java\r\n\r\n[conneg]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Content_negotiation","title":"How does a request reaches Resource class in Jersey RESTful API?","body":"<p>When Jersey starts up, it will introspect registered resource classes and build a model of all the resources. This model includes the resource classes, the resources methods, and the paths and content-types that map to those resources/resource methods.</p>\n<p>Jersey itself runs as a <a href=\"https://jakarta.ee/specifications/servlet/5.0/jakarta-servlet-spec-5.0.html#what-is-a-servlet\" rel=\"nofollow noreferrer\">Servlet</a> inside a Servlet container (e.g. Tomcat, Grizzly). The entry point Servlet is the Jersey <a href=\"https://github.com/eclipse-ee4j/jersey/blob/master/containers/jersey-servlet-core/src/main/java/org/glassfish/jersey/servlet/ServletContainer.java\" rel=\"nofollow noreferrer\"><code>ServletContainer</code></a>. So when a request comes in, if the requested URI matches the configured servlet-mapping, the Servlet container will forward the request to the Jersey Servlet. Based on the requested URI and <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Content_negotiation\" rel=\"nofollow noreferrer\">content negotiation</a>, Jersey will go into the model mapping and determine which resource class and method should be called, and then call that method.</p>\n"}],"owner":{"account_id":7856545,"reputation":1696,"user_id":5938195,"accept_rate":73,"display_name":"Kuldeep Yadav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":327,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1647460675,"creation_date":1647436451,"question_id":71497739,"body_markdown":"I have been using Jersey, Tomcat, and Dropwizard for quite some time. But I am still not able to get what all actions happen from the point a request reaches port 8080 of a server to the point when it hits one of the methods annotated with `@Path`.\r\n\r\nIt will be really helpful if someone can help me with all(or a few important) layers in the whole architecture of restful API. For simplicity assume I have an application built with glassfish-jersey and deployed as the fat war using Tomcat.","title":"How does a request reaches Resource class in Jersey RESTful API?","body":"<p>I have been using Jersey, Tomcat, and Dropwizard for quite some time. But I am still not able to get what all actions happen from the point a request reaches port 8080 of a server to the point when it hits one of the methods annotated with <code>@Path</code>.</p>\n<p>It will be really helpful if someone can help me with all(or a few important) layers in the whole architecture of restful API. For simplicity assume I have an application built with glassfish-jersey and deployed as the fat war using Tomcat.</p>\n"},{"tags":["java","generics","casting","type-safety"],"comments":[{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":0,"creation_date":1378784767,"post_id":18705482,"comment_id":27568459,"body_markdown":"Note that having the method generic doesn&#39;t buy anything - it might as well be `public List&lt;byte[]&gt; getData(Object data)`.","body":"Note that having the method generic doesn&#39;t buy anything - it might as well be <code>public List&lt;byte[]&gt; getData(Object data)</code>."}],"answers":[{"tags":[],"owner":{"account_id":291949,"reputation":4846,"user_id":594406,"accept_rate":29,"display_name":"Katona"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1378756530,"creation_date":1378756530,"answer_id":18705938,"question_id":18705482,"body_markdown":"You get the warning because the cast `(List&lt;ScanResult&gt;) data` is not safe. Due to [type erasure](http://docs.oracle.com/javase/tutorial/java/generics/erasure.html), `List&lt;ScanResult&gt;` will be `List` during runtime, so there will be no real type check regarding the element type of the list. That is, that cast will succeed even if you get `List&lt;String&gt;` as a parameter and later you will get a `ClassCastException` when you try to access the list:\r\n\r\n    ScanResult result = data.get(0); // ClassCastException: String\r\n\r\nOne way to avoid it is making the interface generic:\r\n\r\n    public interface DataProvider&lt;T&gt; {\r\n        public List&lt;byte[]&gt; getData(T data);\r\n    }\r\n\r\nAnd then define the specific type argument at implementations:\r\n\r\n    public class DataProviderFromLocation implements DataProvider&lt;Location&gt; {\r\n        public List&lt;byte[]&gt; getData(Location data) {\r\n        }\r\n    }\r\n\r\n    public class DataProviderFromScanResultList implements DataProvider&lt;List&lt;ScanResult&gt;&gt; {\r\n        public List&lt;byte[]&gt; getData(List&lt;ScanResult&gt; data) {\r\n        }\r\n    }\r\n\r\nI don&#39;t know if it is suitable for your needs.","title":"Casting to List&lt;SomeType&gt; issues an unchecked cast warning while casting to SomeType does not","body":"<p>You get the warning because the cast <code>(List&lt;ScanResult&gt;) data</code> is not safe. Due to <a href=\"http://docs.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"noreferrer\">type erasure</a>, <code>List&lt;ScanResult&gt;</code> will be <code>List</code> during runtime, so there will be no real type check regarding the element type of the list. That is, that cast will succeed even if you get <code>List&lt;String&gt;</code> as a parameter and later you will get a <code>ClassCastException</code> when you try to access the list:</p>\n\n<pre><code>ScanResult result = data.get(0); // ClassCastException: String\n</code></pre>\n\n<p>One way to avoid it is making the interface generic:</p>\n\n<pre><code>public interface DataProvider&lt;T&gt; {\n    public List&lt;byte[]&gt; getData(T data);\n}\n</code></pre>\n\n<p>And then define the specific type argument at implementations:</p>\n\n<pre><code>public class DataProviderFromLocation implements DataProvider&lt;Location&gt; {\n    public List&lt;byte[]&gt; getData(Location data) {\n    }\n}\n\npublic class DataProviderFromScanResultList implements DataProvider&lt;List&lt;ScanResult&gt;&gt; {\n    public List&lt;byte[]&gt; getData(List&lt;ScanResult&gt; data) {\n    }\n}\n</code></pre>\n\n<p>I don't know if it is suitable for your needs.</p>\n"},{"tags":[],"owner":{"account_id":105525,"reputation":32628,"user_id":281545,"accept_rate":85,"display_name":"Mr_and_Mrs_D"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1380363470,"creation_date":1378831736,"answer_id":18724660,"question_id":18705482,"body_markdown":"From Angelika Langer&#39;s [Java Generics FAQs][1]\r\n\r\n&gt; We are prepared to cope with ClassCastException s when there is a cast\r\n&gt; expression in the source code, but we do not expect ClassCastException\r\n&gt; s when we extract an element from a list of strings.  This sort of\r\n&gt; unexpected ClassCastException is considered a violation of the\r\n&gt; type-safety principle.  In order to draw attention to the potentially\r\n&gt; unsafe cast the compiler issues an &quot;unchecked&quot; warning when it\r\n&gt; translates the dubious cast expression.\r\n\r\nSo the answer to my first question is that the cast to `SomeType` will fail there and then if the classes are not compatible - while the `List&lt;ScanResult&gt; scanRes = (List&lt;ScanResult&gt;) data;` which at run time is just `List scanRes = (List) data;` won&#39;t fail if `data` is _any_ List implementation - but might result in a CCE in a remote and completely unrelated part of the codebase - hence it will be real difficult to debug - hence the warning.\r\n\r\nAnother way to put it (by @erickson [here][2]) :\r\n\r\n&gt; By doing your own cast up front, you&#39;re &quot;complying with the warranty terms&quot; of Java generics: if a `ClassCastException` is raised, it will be associated with a cast in the source code, not an invisible cast inserted by the compiler.\r\n\r\n\r\n  [1]: http://www.angelikalanger.com/GenericsFAQ/FAQSections/ParameterizedTypes.html\r\n  [2]: https://stackoverflow.com/a/367673/281545%5C","title":"Casting to List&lt;SomeType&gt; issues an unchecked cast warning while casting to SomeType does not","body":"<p>From Angelika Langer's <a href=\"http://www.angelikalanger.com/GenericsFAQ/FAQSections/ParameterizedTypes.html\" rel=\"nofollow noreferrer\">Java Generics FAQs</a></p>\n\n<blockquote>\n  <p>We are prepared to cope with ClassCastException s when there is a cast\n  expression in the source code, but we do not expect ClassCastException\n  s when we extract an element from a list of strings.  This sort of\n  unexpected ClassCastException is considered a violation of the\n  type-safety principle.  In order to draw attention to the potentially\n  unsafe cast the compiler issues an \"unchecked\" warning when it\n  translates the dubious cast expression.</p>\n</blockquote>\n\n<p>So the answer to my first question is that the cast to <code>SomeType</code> will fail there and then if the classes are not compatible - while the <code>List&lt;ScanResult&gt; scanRes = (List&lt;ScanResult&gt;) data;</code> which at run time is just <code>List scanRes = (List) data;</code> won't fail if <code>data</code> is <em>any</em> List implementation - but might result in a CCE in a remote and completely unrelated part of the codebase - hence it will be real difficult to debug - hence the warning.</p>\n\n<p>Another way to put it (by @erickson <a href=\"https://stackoverflow.com/a/367673/281545%5C\">here</a>) :</p>\n\n<blockquote>\n  <p>By doing your own cast up front, you're \"complying with the warranty terms\" of Java generics: if a <code>ClassCastException</code> is raised, it will be associated with a cast in the source code, not an invisible cast inserted by the compiler.</p>\n</blockquote>\n"}],"owner":{"account_id":105525,"reputation":32628,"user_id":281545,"accept_rate":85,"display_name":"Mr_and_Mrs_D"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10617,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":18705938,"answer_count":2,"score":5,"last_activity_date":1647460482,"creation_date":1378754809,"question_id":18705482,"body_markdown":"Why does this:\r\n\r\n\tpublic &lt;T&gt; List&lt;byte[]&gt; getData(T data) {\r\n\t\tLocation loc = (Location) data;\r\n\t\t// ...\r\n\t}\r\n\r\nnot generate any warnings, while this:\r\n\r\n\tpublic &lt;T&gt; List&lt;byte[]&gt; getData(T data) {\r\n\t\tList&lt;ScanResult&gt; scanRes = (List&lt;ScanResult&gt;) data;\r\n\t\t// ...\r\n\t}\r\n\r\ngenerates `Type safety: Unchecked cast from T to List&lt;ScanResult&gt;`?\r\n\r\nHow can I resolve the warning?  \r\nAs a design is this kind of method declaration a smell?\r\n\r\n    public &lt;T&gt; List&lt;byte[]&gt; getData(T data)\r\n\r\nis an interface method implemented in different classes with different data types - the first line of all implementations is such a cast\r\n","title":"Casting to List&lt;SomeType&gt; issues an unchecked cast warning while casting to SomeType does not","body":"<p>Why does this:</p>\n<pre><code>public &lt;T&gt; List&lt;byte[]&gt; getData(T data) {\n    Location loc = (Location) data;\n    // ...\n}\n</code></pre>\n<p>not generate any warnings, while this:</p>\n<pre><code>public &lt;T&gt; List&lt;byte[]&gt; getData(T data) {\n    List&lt;ScanResult&gt; scanRes = (List&lt;ScanResult&gt;) data;\n    // ...\n}\n</code></pre>\n<p>generates <code>Type safety: Unchecked cast from T to List&lt;ScanResult&gt;</code>?</p>\n<p>How can I resolve the warning?<br />\nAs a design is this kind of method declaration a smell?</p>\n<pre><code>public &lt;T&gt; List&lt;byte[]&gt; getData(T data)\n</code></pre>\n<p>is an interface method implemented in different classes with different data types - the first line of all implementations is such a cast</p>\n"},{"tags":["java","swing","invokelater","swingutilities"],"comments":[{"owner":{"account_id":1766006,"reputation":1705,"user_id":1611881,"display_name":"Alexey Odintsov"},"score":1,"creation_date":1380118403,"post_id":19007290,"comment_id":28081143,"body_markdown":"It is an anonymous class that implements Runnable interface.","body":"It is an anonymous class that implements Runnable interface."}],"answers":[{"tags":[],"owner":{"account_id":1625546,"reputation":616,"user_id":1501182,"accept_rate":76,"display_name":"Matteo Gatto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1380118659,"creation_date":1380118659,"answer_id":19007466,"question_id":19007290,"body_markdown":"Runnable is an interface that contain the method run.\r\nThe invokeLater need this implementation of runnable to invoke the passed run method from the swing thread.\r\n\t\t\r\nSee this link to have better information\r\nhttp://en.wikibooks.org/wiki/Java_Programming/Threads_and_Runnables","title":"The SwingUtilities.invokeLater() method in a Java Swing program","body":"<p>Runnable is an interface that contain the method run.\nThe invokeLater need this implementation of runnable to invoke the passed run method from the swing thread.</p>\n\n<p>See this link to have better information\n<a href=\"http://en.wikibooks.org/wiki/Java_Programming/Threads_and_Runnables\" rel=\"nofollow\">http://en.wikibooks.org/wiki/Java_Programming/Threads_and_Runnables</a></p>\n"},{"tags":[],"owner":{"account_id":1766006,"reputation":1705,"user_id":1611881,"display_name":"Alexey Odintsov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1380119569,"creation_date":1380118771,"answer_id":19007500,"question_id":19007290,"body_markdown":"It is an [anonymous class][1] that implements [Runnable interface][2].\r\n\r\nYou can use it without anonymous class like:\r\n\r\n\tclass SimpleExample extends JFrame {\r\n\r\n\t\tpublic SimpleExample() {\r\n\t\t\tsetTitle(&quot;Simple example&quot;);\r\n\t\t\tsetSize(300, 200);\r\n\t\t\tsetLocationRelativeTo(null);                \r\n\t\t\tsetDefaultCloseOperation(EXIT_ON_CLOSE);\r\n\t\t}\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tSwingUtilities.invokeLater(new App());\r\n\t\t}\r\n\t}\r\n\r\n\tclass App implements Runnable {\r\n\r\n\t\tpublic void run() {\r\n\t\t\tSimpleExample ex = new SimpleExample();\r\n\t\t\tex.setVisible(true);\r\n\t\t}\r\n\t}\r\n\r\nBut anonymous class is more convenient.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/javaOO/anonymousclasses.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/lang/Runnable.html","title":"The SwingUtilities.invokeLater() method in a Java Swing program","body":"<p>It is an <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/anonymousclasses.html\" rel=\"nofollow\">anonymous class</a> that implements <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Runnable.html\" rel=\"nofollow\">Runnable interface</a>.</p>\n\n<p>You can use it without anonymous class like:</p>\n\n<pre><code>class SimpleExample extends JFrame {\n\n    public SimpleExample() {\n        setTitle(\"Simple example\");\n        setSize(300, 200);\n        setLocationRelativeTo(null);                \n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new App());\n    }\n}\n\nclass App implements Runnable {\n\n    public void run() {\n        SimpleExample ex = new SimpleExample();\n        ex.setVisible(true);\n    }\n}\n</code></pre>\n\n<p>But anonymous class is more convenient.</p>\n"},{"tags":[],"owner":{"account_id":465863,"reputation":41382,"user_id":870248,"accept_rate":100,"display_name":"Paul Vargas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1380118984,"creation_date":1380118984,"answer_id":19007578,"question_id":19007290,"body_markdown":"[`javax.swing.SwingUtilities#invokeLater(Runnable doRun)`][1], schedules a [`java.lang.Runnable`][2] for execution\r\non the event thread (callable from any thread);\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/javax/swing/SwingUtilities.html#invokeLater%28java.lang.Runnable%29\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/lang/Runnable.html","title":"The SwingUtilities.invokeLater() method in a Java Swing program","body":"<p><a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/SwingUtilities.html#invokeLater%28java.lang.Runnable%29\" rel=\"nofollow\"><code>javax.swing.SwingUtilities#invokeLater(Runnable doRun)</code></a>, schedules a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Runnable.html\" rel=\"nofollow\"><code>java.lang.Runnable</code></a> for execution\non the event thread (callable from any thread);</p>\n"}],"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":19007500,"answer_count":3,"score":0,"last_activity_date":1647460414,"creation_date":1380118181,"question_id":19007290,"body_markdown":"I am studying Java Swing and I have some questions related to this simple code tutorial that I am reading:\r\n\r\n    package com.andrea.execute;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    /* An istance of a SimpleExample class is a JFrame object: a top level container */\r\n    public class SimpleExample extends JFrame {\r\n    \r\n    \t/* Create a new SimpleExample object (that is a JFrame object) and set some property */\r\n    \tpublic SimpleExample() {\r\n    \t\tsetTitle(&quot;Simple example&quot;);\r\n    \t\tsetSize(300, 200);\r\n    \t\tsetLocationRelativeTo(null);\t\t\t\t// Center the window on the screen. \r\n    \t\tsetDefaultCloseOperation(EXIT_ON_CLOSE);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tSwingUtilities.invokeLater(new Runnable() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\tSimpleExample ex = new SimpleExample();\r\n    \t\t\t\tex.setVisible(true);\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    }\r\n\r\n\r\nThe logic is pretty simple: I have a **SimpleExample** class that inherits from **JFrame** Swing class. So a **SimpleExample** will be a toplevel container.\r\n\r\nThis class contain also the **main()** method and now I have 2 doubts:\r\n\r\n**1) Why in the main() method is execute this code:**\r\n\t\t\r\n    SwingUtilities.invokeLater(new Runnable() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\tSimpleExample ex = new SimpleExample();\r\n    \t\t\t\tex.setVisible(true);\r\n    \t\t\t}\r\n    \t\t});\r\n\r\nIt call the **invokeLater()** method on the SwingUtilities class and pass to it a new Runnable oject.\r\n\r\nReading the documentation I know that is a way to places the application on the Swing Event Queue. It is used to ensure that all UI updates are concurrency-safe.\r\n\r\nThe thing that I have some problem to understand is how it is implemented.\r\n\r\nInside the **input parameter** of **invokeLater()** method it pass this &quot;stuff&quot;:\r\n\r\n    new Runnable() {\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\tSimpleExample ex = new SimpleExample();\r\n\t\t\t\tex.setVisible(true);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\r\nWhat is it this stuff? What does it represent? and How does it work?\r\n","title":"The SwingUtilities.invokeLater() method in a Java Swing program","body":"<p>I am studying Java Swing and I have some questions related to this simple code tutorial that I am reading:</p>\n<pre><code>package com.andrea.execute;\n\nimport javax.swing.JFrame;\nimport javax.swing.SwingUtilities;\n\n/* An istance of a SimpleExample class is a JFrame object: a top level container */\npublic class SimpleExample extends JFrame {\n\n    /* Create a new SimpleExample object (that is a JFrame object) and set some property */\n    public SimpleExample() {\n        setTitle(&quot;Simple example&quot;);\n        setSize(300, 200);\n        setLocationRelativeTo(null);                // Center the window on the screen. \n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n    }\n\n    public static void main(String[] args) {\n\n        SwingUtilities.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                SimpleExample ex = new SimpleExample();\n                ex.setVisible(true);\n            }\n        });\n    }\n}\n</code></pre>\n<p>The logic is pretty simple: I have a <strong>SimpleExample</strong> class that inherits from <strong>JFrame</strong> Swing class. So a <strong>SimpleExample</strong> will be a toplevel container.</p>\n<p>This class contain also the <strong>main()</strong> method and now I have 2 doubts:</p>\n<p><strong>1) Why in the main() method is execute this code:</strong></p>\n<pre><code>SwingUtilities.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                SimpleExample ex = new SimpleExample();\n                ex.setVisible(true);\n            }\n        });\n</code></pre>\n<p>It call the <strong>invokeLater()</strong> method on the SwingUtilities class and pass to it a new Runnable oject.</p>\n<p>Reading the documentation I know that is a way to places the application on the Swing Event Queue. It is used to ensure that all UI updates are concurrency-safe.</p>\n<p>The thing that I have some problem to understand is how it is implemented.</p>\n<p>Inside the <strong>input parameter</strong> of <strong>invokeLater()</strong> method it pass this &quot;stuff&quot;:</p>\n<pre><code>new Runnable() {\n        @Override\n        public void run() {\n            SimpleExample ex = new SimpleExample();\n            ex.setVisible(true);\n        }\n    });\n</code></pre>\n<p>What is it this stuff? What does it represent? and How does it work?</p>\n"},{"tags":["java","file"],"comments":[{"owner":{"account_id":1083854,"reputation":13775,"user_id":1080064,"accept_rate":43,"display_name":"tkausl"},"score":1,"creation_date":1647460649,"post_id":71503473,"comment_id":126380073,"body_markdown":"[Your `PrintWriter` truncates the file](https://docs.oracle.com/javase/7/docs/api/java/io/PrintWriter.html#PrintWriter(java.io.File))","body":"<a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/PrintWriter.html#PrintWriter(java.io.File)\" rel=\"nofollow noreferrer\">Your <code>PrintWriter</code> truncates the file</a>"},{"owner":{"account_id":24581454,"reputation":11,"user_id":18486515,"display_name":"Kifo"},"score":0,"creation_date":1647461086,"post_id":71503473,"comment_id":126380200,"body_markdown":"Thanks for your answer! Do you know a way to prevent this?","body":"Thanks for your answer! Do you know a way to prevent this?"},{"owner":{"account_id":1083854,"reputation":13775,"user_id":1080064,"accept_rate":43,"display_name":"tkausl"},"score":2,"creation_date":1647461137,"post_id":71503473,"comment_id":126380221,"body_markdown":"Don&#39;t write to the same file you&#39;re reading from.","body":"Don&#39;t write to the same file you&#39;re reading from."},{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1647461286,"post_id":71503473,"comment_id":126380256,"body_markdown":"You could take a look at https://docs.oracle.com/javase/7/docs/api/java/io/RandomAccessFile.html","body":"You could take a look at <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/RandomAccessFile.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/io/RandomAccessFile.h&zwnj;&#8203;tml</a>"}],"owner":{"account_id":24581454,"reputation":11,"user_id":18486515,"display_name":"Kifo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647460390,"creation_date":1647460390,"question_id":71503473,"body_markdown":"I tried to scan a text file and rewrite it with one change. However, the scanner does not have a new line, although there is already something in the text file. What could be the reason?\r\n\r\n    public class ThemeStatus {\r\n\r\n\tpublic void statusChanger(String subject, String name) {\r\n\t\t\r\n\t\tPrintWriter fileWriter = null;\r\n\t\tFile themeFile = new File(&quot;F&#252;Folder/Themen&#252;bersicht/&quot; + subject + &quot;/Settings.txt&quot;);\r\n\t\tScanner fileScanner = null;\r\n\t\t\r\n\t\ttry {\r\n\t\t\tfileWriter = new PrintWriter(themeFile);\t\t\r\n\t\t} catch (FileNotFoundException e1) {\r\n\t\t\te1.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\ttry {\r\n\t\t\tfileScanner = new Scanner(themeFile);\r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(fileScanner.hasNextLine());\r\n\t\tif(fileScanner.hasNextLine()) {\r\n\t\t\twhile(fileScanner.hasNextLine()) {\r\n\t\t\t\tString line = fileScanner.nextLine();\r\n\t\t\t\tif(line.contains(&quot;CurrentTheme&quot;)) {\r\n\t\t\t\t\tfileWriter.println(&quot;CurrentTheme = &quot; + name);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tfileWriter.println(line);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tfileWriter.println(&quot;CurrentTheme = &quot; + name);\r\n\t\t}\t\r\n\t\tfileWriter.close();\r\n\t}\r\n","title":"Scanner has no next line although there is something in the file","body":"<p>I tried to scan a text file and rewrite it with one change. However, the scanner does not have a new line, although there is already something in the text file. What could be the reason?</p>\n<pre><code>public class ThemeStatus {\n\npublic void statusChanger(String subject, String name) {\n    \n    PrintWriter fileWriter = null;\n    File themeFile = new File(&quot;FüFolder/Themenübersicht/&quot; + subject + &quot;/Settings.txt&quot;);\n    Scanner fileScanner = null;\n    \n    try {\n        fileWriter = new PrintWriter(themeFile);        \n    } catch (FileNotFoundException e1) {\n        e1.printStackTrace();\n    }\n    \n    try {\n        fileScanner = new Scanner(themeFile);\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    }\n    \n    System.out.println(fileScanner.hasNextLine());\n    if(fileScanner.hasNextLine()) {\n        while(fileScanner.hasNextLine()) {\n            String line = fileScanner.nextLine();\n            if(line.contains(&quot;CurrentTheme&quot;)) {\n                fileWriter.println(&quot;CurrentTheme = &quot; + name);\n            }\n            else {\n                fileWriter.println(line);\n            }\n        }\n    }\n    else {\n        fileWriter.println(&quot;CurrentTheme = &quot; + name);\n    }   \n    fileWriter.close();\n}\n</code></pre>\n"},{"tags":["java","swing","user-interface","constructor"],"comments":[{"owner":{"account_id":22086,"reputation":14236,"user_id":54200,"accept_rate":83,"display_name":"KevinDTimm"},"score":0,"creation_date":1380202353,"post_id":19029699,"comment_id":28118995,"body_markdown":"`However, my IDE complains about the super statement` - though the answer has already been posted, in the future it would be nice to have the nature of the complaint.  Do you drop your car at the mechanic and say `it doesn&#39;t work`?","body":"<code>However, my IDE complains about the super statement</code> - though the answer has already been posted, in the future it would be nice to have the nature of the complaint.  Do you drop your car at the mechanic and say <code>it doesn&#39;t work</code>?"},{"owner":{"account_id":18250,"reputation":39302,"user_id":41655,"accept_rate":76,"display_name":"millimoose"},"score":2,"creation_date":1380203280,"post_id":19029699,"comment_id":28119638,"body_markdown":"My eyes complain about the massive unindented code dump. Format your code samples, and craft them specifically for the purpose of your question so they demonstrate your problem *and nothing else*.","body":"My eyes complain about the massive unindented code dump. Format your code samples, and craft them specifically for the purpose of your question so they demonstrate your problem <i>and nothing else</i>."}],"answers":[{"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1380204079,"creation_date":1380202219,"answer_id":19029730,"question_id":19029699,"body_markdown":"Constructors dont use the `void` keyword. This is for methods only. Also match the constructor name with the declared type\r\n\r\n    public RpsNuke() {\r\n    \tsuper(&quot;Rock, Paper, Scissors, Nuke&quot;);\r\n        ...\r\n    }\r\n\r\nThe reason that you&#39;re seeing errors for the variable `msg` is that they are not visible in the scope of all the `if` statement blocks. To fix, you need to create one `String` rather when building one _piece-meal_ by appending to it. Also don&#39;t use `TimeUnit.SECONDS.sleep` in Swing, this just prevents the `EDT` from updating the application. Use a [Swing Timer][1] Instead.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html","title":"Swing Rock Paper Scissors Nuke Super Error","body":"<p>Constructors dont use the <code>void</code> keyword. This is for methods only. Also match the constructor name with the declared type</p>\n\n<pre><code>public RpsNuke() {\n    super(\"Rock, Paper, Scissors, Nuke\");\n    ...\n}\n</code></pre>\n\n<p>The reason that you're seeing errors for the variable <code>msg</code> is that they are not visible in the scope of all the <code>if</code> statement blocks. To fix, you need to create one <code>String</code> rather when building one <em>piece-meal</em> by appending to it. Also don't use <code>TimeUnit.SECONDS.sleep</code> in Swing, this just prevents the <code>EDT</code> from updating the application. Use a <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow\">Swing Timer</a> Instead.</p>\n"},{"tags":[],"owner":{"account_id":1773932,"reputation":11088,"user_id":1618135,"accept_rate":78,"display_name":"blackpanther"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1380202390,"creation_date":1380202390,"answer_id":19029785,"question_id":19029699,"body_markdown":"Remove the keyword `void` as that would mean that you are calling a method with the same name as your class. Rather, you are calling the constructor; not a method.\r\n\r\n    public void RpsNuke() { ... }\r\n\r\nto \r\n\r\n    public RpsNuke() { ... }","title":"Swing Rock Paper Scissors Nuke Super Error","body":"<p>Remove the keyword <code>void</code> as that would mean that you are calling a method with the same name as your class. Rather, you are calling the constructor; not a method.</p>\n\n<pre><code>public void RpsNuke() { ... }\n</code></pre>\n\n<p>to </p>\n\n<pre><code>public RpsNuke() { ... }\n</code></pre>\n"}],"owner":{"account_id":3315261,"reputation":55,"user_id":2787797,"accept_rate":15,"display_name":"Showman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":337,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1647460389,"creation_date":1380202148,"question_id":19029699,"body_markdown":"I&#39;m trying to add a &quot;nuke&quot; function to this Rock Paper Scissors GUI application. However, my IDE complains about the `super` statement, it also complains that it cannot find symbol message. This was working perfectly before I added the nuke function. What could I add to get it to work?\r\n\r\n    import java.util.concurrent.TimeUnit;\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import javax.swing.*;\r\n\r\n    public class RpsNuke extends JFrame\r\n       implements ActionListener\r\n    {\r\n    private final char moves[] = {&#39;R&#39;, &#39;P&#39;, &#39;S&#39;, &#39;N&#39;};\r\n    private JRadioButton rock, paper, scissors, nuke;\r\n    private JTextField display;\r\n\r\n    public void Rps()\r\n    {\r\n    super(&quot;Rock, Paper, Scissors, Nuke&quot;);\r\n\r\n    rock = new JRadioButton(&quot;   Rock   &quot;, true);\r\n    paper = new JRadioButton(&quot;   Paper  &quot;);\r\n    scissors = new JRadioButton(&quot; Scissors &quot;);\r\n\tnuke = new JRadioButton(&quot; Nuke &quot;);\r\n    ButtonGroup rpsButtons = new ButtonGroup();\r\n    rpsButtons.add(rock);\r\n    rpsButtons.add(paper);\r\n    rpsButtons.add(scissors);\r\n    rpsButtons.add(nuke);\r\n\r\n    JButton go = new JButton(&quot;         Go         &quot;);\r\n    go.addActionListener(this);\r\n\r\n    display = new JTextField(25);\r\n    display.setEditable(false);\r\n    display.setBackground(Color.yellow);\r\n\r\n    Container c = getContentPane();\r\n    c.setLayout(new FlowLayout());\r\n    c.add(rock);\r\n    c.add(paper);\r\n    c.add(scissors);\r\n    c.add(go);\r\n    c.add(nuke);\r\n    c.add(display);\r\n    if (nuke.isSelected()){\r\n    display.setText(&quot;Don&#39;t do it man&quot;);}\r\n    else {\r\n    display.setText(&quot;&quot;);}\r\n    }\r\n\r\n    /**\r\n     *  returns -1 if the player wins,\r\n     *  0 if it&#39;s a tie, and 1 if the computer wins\r\n     */\r\n    private int nextPlay(char computerMove, char playerMove)\r\n    {\r\n\tif ((computerMove == &#39;R&#39;&amp;&amp;playerMove == &#39;S&#39;)||(computerMove == &#39;S&#39;&amp;&amp;playerMove==&#39;P&#39;)||(computerMove==&#39;P&#39;&amp;&amp;playerMove==&#39;R&#39;)){\r\n\t return 1;}\r\n\telse if ((computerMove == &#39;R&#39;&amp;&amp;playerMove == &#39;R&#39;)||(computerMove==&#39;S&#39;&amp;&amp;playerMove==&#39;S&#39;)||(computerMove==&#39;P&#39;&amp;&amp;playerMove==&#39;P&#39;)){\r\n\t return 0;}\r\n\telse if (playerMove == &#39;N&#39;){\r\n\t return 2;}\r\n\treturn -1;\t\r\n\r\n    }\r\n\r\n    public void actionPerformed(ActionEvent e)\r\n    {\r\n     char playerMove, computerMove;\r\n     playerMove = 0;\r\n     if (rock.isSelected()){\r\n       playerMove = &#39;R&#39;;}\r\n     else if (paper.isSelected()){\r\n       playerMove = &#39;P&#39;;}\r\n    else if (scissors.isSelected()){\r\n      playerMove = &#39;S&#39;;}\r\n\telse if (nuke.isSelected()){\r\n\t  playerMove = &#39;N&#39;;}\r\n    int k = (int)(Math.random() * 3);\r\n    computerMove = moves[k];\r\n    int result = nextPlay(computerMove, playerMove);\r\n\r\n    if (result != 2)\r\n    {String msg = &quot;  You said &quot; + makeWord(playerMove) + &quot;, I said &quot; +\r\n                 makeWord(computerMove);\r\n    }\r\n    else if (result == 2)\r\n    {String msg = &quot;It&#39;s too late, we&#39;re all dead!&quot;;\r\n     TimeUnit.SECONDS.sleep(1);\r\n     msg = &quot;...&quot;;\r\n     TimeUnit.SECONDS.sleep(1);\r\n     msg = &quot;Look at what you did, there&#39;s nothing left.&quot;;\r\n     TimeUnit.SECONDS.sleep(1);\r\n     msg = &quot;Looks like we have to start over again...&quot;;\r\n     main(null);\t\t\t\t\t\t\r\n    }             \r\n    else if (result &lt; 0)\r\n      msg += &quot; -- you win.&quot;;\r\n    else if (result == 0)\r\n      msg += &quot; -- tie.&quot;;\r\n    else if (result &gt; 0)\r\n      msg += &quot; -- I win.&quot;;\r\n    display.setText(msg);\r\n    }\r\n\r\n    private String makeWord(char move)\r\n    {\r\n    String word = &quot;&quot;;\r\n\r\n    switch (move)\r\n    {\r\n      case &#39;R&#39;: word = &quot;rock&quot;; break;\r\n      case &#39;P&#39;: word = &quot;paper&quot;; break;\r\n      case &#39;S&#39;: word = &quot;scissors&quot;; break;\r\n\t  case &#39;N&#39;: word = &quot;nuke&quot;; break;\r\n    }\r\n    return word;\r\n    }\r\n\r\n    public static void main(String[] args)\r\n    {\r\n      Rps window = new Rps();\r\n      window.setBounds(300, 300, 300, 140);\r\n      window.setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n      window.setVisible(true);\r\n    }\r\n    }\r\n\r\n\r\n----------\r\n","title":"Swing Rock Paper Scissors Nuke Super Error","body":"<p>I'm trying to add a &quot;nuke&quot; function to this Rock Paper Scissors GUI application. However, my IDE complains about the <code>super</code> statement, it also complains that it cannot find symbol message. This was working perfectly before I added the nuke function. What could I add to get it to work?</p>\n<pre><code>import java.util.concurrent.TimeUnit;\nimport java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\n\npublic class RpsNuke extends JFrame\n   implements ActionListener\n{\nprivate final char moves[] = {'R', 'P', 'S', 'N'};\nprivate JRadioButton rock, paper, scissors, nuke;\nprivate JTextField display;\n\npublic void Rps()\n{\nsuper(&quot;Rock, Paper, Scissors, Nuke&quot;);\n\nrock = new JRadioButton(&quot;   Rock   &quot;, true);\npaper = new JRadioButton(&quot;   Paper  &quot;);\nscissors = new JRadioButton(&quot; Scissors &quot;);\nnuke = new JRadioButton(&quot; Nuke &quot;);\nButtonGroup rpsButtons = new ButtonGroup();\nrpsButtons.add(rock);\nrpsButtons.add(paper);\nrpsButtons.add(scissors);\nrpsButtons.add(nuke);\n\nJButton go = new JButton(&quot;         Go         &quot;);\ngo.addActionListener(this);\n\ndisplay = new JTextField(25);\ndisplay.setEditable(false);\ndisplay.setBackground(Color.yellow);\n\nContainer c = getContentPane();\nc.setLayout(new FlowLayout());\nc.add(rock);\nc.add(paper);\nc.add(scissors);\nc.add(go);\nc.add(nuke);\nc.add(display);\nif (nuke.isSelected()){\ndisplay.setText(&quot;Don't do it man&quot;);}\nelse {\ndisplay.setText(&quot;&quot;);}\n}\n\n/**\n *  returns -1 if the player wins,\n *  0 if it's a tie, and 1 if the computer wins\n */\nprivate int nextPlay(char computerMove, char playerMove)\n{\nif ((computerMove == 'R'&amp;&amp;playerMove == 'S')||(computerMove == 'S'&amp;&amp;playerMove=='P')||(computerMove=='P'&amp;&amp;playerMove=='R')){\n return 1;}\nelse if ((computerMove == 'R'&amp;&amp;playerMove == 'R')||(computerMove=='S'&amp;&amp;playerMove=='S')||(computerMove=='P'&amp;&amp;playerMove=='P')){\n return 0;}\nelse if (playerMove == 'N'){\n return 2;}\nreturn -1;  \n\n}\n\npublic void actionPerformed(ActionEvent e)\n{\n char playerMove, computerMove;\n playerMove = 0;\n if (rock.isSelected()){\n   playerMove = 'R';}\n else if (paper.isSelected()){\n   playerMove = 'P';}\nelse if (scissors.isSelected()){\n  playerMove = 'S';}\nelse if (nuke.isSelected()){\n  playerMove = 'N';}\nint k = (int)(Math.random() * 3);\ncomputerMove = moves[k];\nint result = nextPlay(computerMove, playerMove);\n\nif (result != 2)\n{String msg = &quot;  You said &quot; + makeWord(playerMove) + &quot;, I said &quot; +\n             makeWord(computerMove);\n}\nelse if (result == 2)\n{String msg = &quot;It's too late, we're all dead!&quot;;\n TimeUnit.SECONDS.sleep(1);\n msg = &quot;...&quot;;\n TimeUnit.SECONDS.sleep(1);\n msg = &quot;Look at what you did, there's nothing left.&quot;;\n TimeUnit.SECONDS.sleep(1);\n msg = &quot;Looks like we have to start over again...&quot;;\n main(null);                        \n}             \nelse if (result &lt; 0)\n  msg += &quot; -- you win.&quot;;\nelse if (result == 0)\n  msg += &quot; -- tie.&quot;;\nelse if (result &gt; 0)\n  msg += &quot; -- I win.&quot;;\ndisplay.setText(msg);\n}\n\nprivate String makeWord(char move)\n{\nString word = &quot;&quot;;\n\nswitch (move)\n{\n  case 'R': word = &quot;rock&quot;; break;\n  case 'P': word = &quot;paper&quot;; break;\n  case 'S': word = &quot;scissors&quot;; break;\n  case 'N': word = &quot;nuke&quot;; break;\n}\nreturn word;\n}\n\npublic static void main(String[] args)\n{\n  Rps window = new Rps();\n  window.setBounds(300, 300, 300, 140);\n  window.setDefaultCloseOperation(EXIT_ON_CLOSE);\n  window.setVisible(true);\n}\n}\n</code></pre>\n<hr />\n"},{"tags":["java","docker","jython","alpine-linux","adoptopenjdk"],"comments":[{"owner":{"account_id":1646676,"reputation":4100,"user_id":1518100,"accept_rate":96,"display_name":"Lei Yang"},"score":0,"creation_date":1647331209,"post_id":71477812,"comment_id":126337819,"body_markdown":"check contents of `jython.sh`, is it possible that the first line contains something like `!/bin/sh`?","body":"check contents of <code>jython.sh</code>, is it possible that the first line contains something like <code>!&#47;bin&#47;sh</code>?"},{"owner":{"account_id":18892423,"reputation":41,"user_id":13782418,"display_name":"PoornimaCR"},"score":0,"creation_date":1647331609,"post_id":71477812,"comment_id":126337942,"body_markdown":"It has #!/usr/bin/env bash","body":"It has #!/usr/bin/env bash"},{"owner":{"account_id":1646676,"reputation":4100,"user_id":1518100,"accept_rate":96,"display_name":"Lei Yang"},"score":0,"creation_date":1647331844,"post_id":71477812,"comment_id":126338024,"body_markdown":"i&#39;m not familiar with jython but seems it is trying to run `sh` command, can you confirm `sh` command exists, and if not, try change that line to `#!/usr/bin/bash`?","body":"i&#39;m not familiar with jython but seems it is trying to run <code>sh</code> command, can you confirm <code>sh</code> command exists, and if not, try change that line to <code>#!&#47;usr&#47;bin&#47;bash</code>?"},{"owner":{"account_id":18892423,"reputation":41,"user_id":13782418,"display_name":"PoornimaCR"},"score":0,"creation_date":1647332172,"post_id":71477812,"comment_id":126338138,"body_markdown":"yes `sh` command exists.                                                                                               \nbash-5.1# ./jython.sh\nbash: ./jython.sh: /usr/bin/bash: bad interpreter: No such file or directory","body":"yes <code>sh</code> command exists.                                                                                                bash-5.1# ./jython.sh bash: ./jython.sh: /usr/bin/bash: bad interpreter: No such file or directory"},{"owner":{"account_id":1646676,"reputation":4100,"user_id":1518100,"accept_rate":96,"display_name":"Lei Yang"},"score":0,"creation_date":1647332704,"post_id":71477812,"comment_id":126338301,"body_markdown":"what about `#!/bin/bash`?","body":"what about <code>#!&#47;bin&#47;bash</code>?"},{"owner":{"account_id":18892423,"reputation":41,"user_id":13782418,"display_name":"PoornimaCR"},"score":0,"creation_date":1647332936,"post_id":71477812,"comment_id":126338398,"body_markdown":"`#!/bin/bash` throws the same exception as above. It looks it can&#39;t find the SHELL.","body":"<code>#!&#47;bin&#47;bash</code> throws the same exception as above. It looks it can&#39;t find the SHELL."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1647334132,"post_id":71477812,"comment_id":126338843,"body_markdown":"Try running `bash -x ./jython.sh`, this should give you a better idea what it&#39;s actually executing.","body":"Try running <code>bash -x .&#47;jython.sh</code>, this should give you a better idea what it&#39;s actually executing."},{"owner":{"account_id":18892423,"reputation":41,"user_id":13782418,"display_name":"PoornimaCR"},"score":0,"creation_date":1647335106,"post_id":71477812,"comment_id":126339244,"body_markdown":"The only difference I see after running `bash -x ./jython.sh` is the working environment has alpine with openjdk8. The non-working environment has alpine by using the JDK in the project zip file. Seems the error is related to the OS and the java installation.","body":"The only difference I see after running <code>bash -x .&#47;jython.sh</code> is the working environment has alpine with openjdk8. The non-working environment has alpine by using the JDK in the project zip file. Seems the error is related to the OS and the java installation."},{"owner":{"account_id":2998939,"reputation":2194,"user_id":2544810,"accept_rate":33,"display_name":"Senthil"},"score":0,"creation_date":1647338875,"post_id":71477812,"comment_id":126340589,"body_markdown":"Then change the JAVA_HOME and PATH variable to point to openjdk8 in your docker file adjust and print the path variable or java -v","body":"Then change the JAVA_HOME and PATH variable to point to openjdk8 in your docker file adjust and print the path variable or java -v"},{"owner":{"account_id":18892423,"reputation":41,"user_id":13782418,"display_name":"PoornimaCR"},"score":0,"creation_date":1647341013,"post_id":71477812,"comment_id":126341333,"body_markdown":"That&#39;s the pain I&#39;m enduring - not supposed to use openjdk8 instead use the JDK which is bundled in the project application zip file.","body":"That&#39;s the pain I&#39;m enduring - not supposed to use openjdk8 instead use the JDK which is bundled in the project application zip file."},{"owner":{"account_id":2433008,"reputation":35417,"user_id":2123530,"display_name":"β.εηοιτ.βε"},"score":0,"creation_date":1647456585,"post_id":71477812,"comment_id":126378756,"body_markdown":"Could you add, in an [edit] of your question, the result of `docker run &lt;image_name&gt; ls -la $(which sh)` for both the working and non-working image?","body":"Could you add, in an <a href=\"https://stackoverflow.com/posts/71477812/edit\">edit</a> of your question, the result of <code>docker run &lt;image_name&gt; ls -la $(which sh)</code> for both the working and non-working image?"}],"answers":[{"tags":[],"owner":{"account_id":2433008,"reputation":35417,"user_id":2123530,"display_name":"β.εηοιτ.βε"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1647459574,"creation_date":1647374978,"answer_id":71488416,"question_id":71477812,"body_markdown":"The Alpine distribution does not come with bash, but a lightweight shell called `ash`.\r\n\r\nFrom there on, you have two possibilities, either your script is simple enough to be executed by `ash`, and you can adapt your shebang and usage accordingly, or, you install bash in your Alpine container.\r\n\r\nSo, either, in your script:\r\n\r\n```shell\r\n#!/usr/bin/env ash\r\n\r\necho &#39;I work&#39;\r\n```\r\n\r\nOr, in your _Dockerfile_\r\n\r\n```sh\r\nFROM alpine:latest\r\n\r\nRUN apk add --no-cache bash\r\n\r\n# the rest of your container comes here\r\n```\r\n\r\nIf your script does confuse `sh` for `bash`, what you could also do is to change the shell where _/bin/sh_ points, which is, per default _/bin/busybox_ by changing the symlink of _/bin/sh_, this way:\r\n\r\n```sh\r\nFROM alpine:latest\r\n\r\nRUN apk add --no-cache bash \\\r\n    &amp;&amp; ln -sf /bin/bash /bin/sh\r\n\r\n# the rest of your container comes here\r\n```\r\n\r\n---\r\n\r\nAnd that is actually what you are doing already in the other container that you said is working\r\n```sh\r\nFROM alpine:latest\r\nRUN apk update &amp;&amp; apk add --no-cache openjdk8 \\\r\n  &amp;&amp; apk add --no-cache bash\r\n###                      ^--- Here you are installing bash\r\n```\r\n\r\n&lt;sup&gt;Extra note: `apk update` is not needed when installing packages with the `--no-cache` flag.  \r\nWorth reading: https://stackoverflow.com/questions/49118579/alpine-dockerfile-advantages-of-no-cache-vs-rm-var-cache-apk&lt;/sup&gt;","title":"How to make shell visible to java in docker container","body":"<p>The Alpine distribution does not come with bash, but a lightweight shell called <code>ash</code>.</p>\n<p>From there on, you have two possibilities, either your script is simple enough to be executed by <code>ash</code>, and you can adapt your shebang and usage accordingly, or, you install bash in your Alpine container.</p>\n<p>So, either, in your script:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>#!/usr/bin/env ash\n\necho 'I work'\n</code></pre>\n<p>Or, in your <em>Dockerfile</em></p>\n<pre class=\"lang-sh prettyprint-override\"><code>FROM alpine:latest\n\nRUN apk add --no-cache bash\n\n# the rest of your container comes here\n</code></pre>\n<p>If your script does confuse <code>sh</code> for <code>bash</code>, what you could also do is to change the shell where <em>/bin/sh</em> points, which is, per default <em>/bin/busybox</em> by changing the symlink of <em>/bin/sh</em>, this way:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>FROM alpine:latest\n\nRUN apk add --no-cache bash \\\n    &amp;&amp; ln -sf /bin/bash /bin/sh\n\n# the rest of your container comes here\n</code></pre>\n<hr />\n<p>And that is actually what you are doing already in the other container that you said is working</p>\n<pre class=\"lang-sh prettyprint-override\"><code>FROM alpine:latest\nRUN apk update &amp;&amp; apk add --no-cache openjdk8 \\\n  &amp;&amp; apk add --no-cache bash\n###                      ^--- Here you are installing bash\n</code></pre>\n<p><sup>Extra note: <code>apk update</code> is not needed when installing packages with the <code>--no-cache</code> flag.<br />\nWorth reading: <a href=\"https://stackoverflow.com/questions/49118579/alpine-dockerfile-advantages-of-no-cache-vs-rm-var-cache-apk\">Alpine Dockerfile Advantages of --no-cache Vs. rm /var/cache/apk/*</a></sup></p>\n"}],"owner":{"account_id":18892423,"reputation":41,"user_id":13782418,"display_name":"PoornimaCR"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1441,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1647459574,"creation_date":1647325336,"question_id":71477812,"body_markdown":"I am trying to run _jython.sh_ from my Docker container and below are the Jython and Java versions.  \r\nWe really need to suppress this error, this is very misleading and looks messy. This error is displayed before the execution of every call to Jython and looks like it cannot find the shell.  \r\nIs there a way I can fix the error/exception thrown below?  \r\nHow to make shell visible to java in docker?\r\n\r\nCommands used:\r\n```shell\r\ndocker run -d &lt;image_name&gt;\r\ndocker exec -it &lt;container_name&gt; bash\r\n```\r\n\r\n_Dockerfile_\r\n\r\n```shell\r\nFROM alpine:latest\r\n\r\nARG IMAGE_NAME\r\n\r\nENV PATH=$PATH:/bin:/opt/user/jre/bin\r\nENV LIBRARY_PATH=$LIBRARY_PATH:/opt/user/jre/lib/amd64/server:/opt/user/jre/lib/amd64/jli:/opt/user/jre/lib/amd64\r\n\r\nUSER user\r\n\r\nVOLUME /opt/user/etc/\r\nVOLUME /var/log/user\r\n\r\nEXPOSE 6800\r\n\r\nENTRYPOINT [&quot;/bin/bash&quot;, &quot;/opt/user/bin/startup.sh&quot;, &quot;user&quot;]\r\n#startup.sh script contains some container specific initialization\r\n```\r\n\r\nSystem requirements\r\n\r\n```\r\nJython 2.7.1 (default:0df7adb1b397, Jun 30 2017, 19:02:43)\r\n[OpenJDK 64-Bit Server VM (AdoptOpenJDK)] on java1.8.0_292\r\nType &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.\r\n```\r\n\r\nActual result\r\n```\r\n$ ./jython.sh\r\n[ERROR] Failed to construct terminal; falling back to unsupported\r\njava.io.IOException: Cannot run program &quot;sh&quot;: error=2, No such file or directory\r\n        at java.lang.ProcessBuilder.start(ProcessBuilder.java:1048)\r\n        at org.python.jline.internal.TerminalLineSettings.exec(TerminalLineSettings.java:308)\r\n        at org.python.jline.internal.TerminalLineSettings.stty(TerminalLineSettings.java:282)\r\n        at org.python.jline.internal.TerminalLineSettings.get(TerminalLineSettings.java:143)\r\n        at org.python.jline.internal.TerminalLineSettings.&lt;init&gt;(TerminalLineSettings.java:108)\r\n        at org.python.jline.internal.TerminalLineSettings.getSettings(TerminalLineSettings.java:123)\r\n        at org.python.jline.UnixTerminal.&lt;init&gt;(UnixTerminal.java:60)\r\n        at org.python.jline.UnixTerminal.&lt;init&gt;(UnixTerminal.java:50)\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n        at java.lang.Class.newInstance(Class.java:442)\r\n        at org.python.jline.TerminalFactory.getFlavor(TerminalFactory.java:211)\r\n        at org.python.jline.TerminalFactory.create(TerminalFactory.java:102)\r\n        at org.python.jline.TerminalFactory.get(TerminalFactory.java:186)\r\n        at org.python.jline.TerminalFactory.get(TerminalFactory.java:192)\r\n        at org.python.jline.console.ConsoleReader.&lt;init&gt;(ConsoleReader.java:243)\r\n        at org.python.util.JLineConsole.install(JLineConsole.java:107)\r\n        at org.python.core.Py.installConsole(Py.java:1744)\r\n        at org.python.core.PySystemState.initConsole(PySystemState.java:1269)\r\n        at org.python.core.PySystemState.doInitialize(PySystemState.java:1119)\r\n        at org.python.core.PySystemState.initialize(PySystemState.java:1033)\r\n        at org.python.core.PySystemState.initialize(PySystemState.java:989)\r\n        at org.python.core.PySystemState.initialize(PySystemState.java:984)\r\n        at org.python.util.jython.run(jython.java:263)\r\n        at org.python.util.jython.main(jython.java:142)\r\nCaused by: java.io.IOException: error=2, No such file or directory\r\n        at java.lang.UNIXProcess.forkAndExec(Native Method)\r\n        at java.lang.UNIXProcess.&lt;init&gt;(UNIXProcess.java:247)\r\n        at java.lang.ProcessImpl.start(ProcessImpl.java:134)\r\n        at java.lang.ProcessBuilder.start(ProcessBuilder.java:1029)\r\n        ... 26 more\r\n\r\nJython 2.7.1 (default:0df7adb1b397, Jun 30 2017, 19:02:43)\r\n[OpenJDK 64-Bit Server VM (AdoptOpenJDK)] on java1.8.0_292\r\nType &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.\r\n&gt;&gt;&gt;\r\n```\r\n\r\nExpected result\r\n```\r\n$ ./jython.sh\r\nJython 2.7.1 (default:0df7adb1b397, Jun 30 2017, 19:02:43)\r\n[OpenJDK 64-Bit Server VM (AdoptOpenJDK)] on java1.8.0_292\r\nType &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.\r\n&gt;&gt;&gt; \r\n```\r\n\r\nWorking environment\r\n\r\nHowever, I&#39;m able to run Jython without any error/exception with Alpine image &amp; OpenJDK8\r\n\r\n_Dockerfile_\r\n```\r\nFROM alpine:latest\r\nRUN apk update &amp;&amp; apk add --no-cache openjdk8 \\\r\n  &amp;&amp; apk add --no-cache bash \\\r\n```\r\n\r\n\r\n```\r\nbash-5.1$ ./jython.sh\r\nJython 2.7.1 (default:0df7adb1b397, Jun 30 2017, 19:02:43)\r\n[OpenJDK 64-Bit Server VM (IcedTea)] on java1.8.0_302\r\nType &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.\r\n&gt;&gt;&gt;\r\n```","title":"How to make shell visible to java in docker container","body":"<p>I am trying to run <em>jython.sh</em> from my Docker container and below are the Jython and Java versions.<br />\nWe really need to suppress this error, this is very misleading and looks messy. This error is displayed before the execution of every call to Jython and looks like it cannot find the shell.<br />\nIs there a way I can fix the error/exception thrown below?<br />\nHow to make shell visible to java in docker?</p>\n<p>Commands used:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>docker run -d &lt;image_name&gt;\ndocker exec -it &lt;container_name&gt; bash\n</code></pre>\n<p><em>Dockerfile</em></p>\n<pre class=\"lang-sh prettyprint-override\"><code>FROM alpine:latest\n\nARG IMAGE_NAME\n\nENV PATH=$PATH:/bin:/opt/user/jre/bin\nENV LIBRARY_PATH=$LIBRARY_PATH:/opt/user/jre/lib/amd64/server:/opt/user/jre/lib/amd64/jli:/opt/user/jre/lib/amd64\n\nUSER user\n\nVOLUME /opt/user/etc/\nVOLUME /var/log/user\n\nEXPOSE 6800\n\nENTRYPOINT [&quot;/bin/bash&quot;, &quot;/opt/user/bin/startup.sh&quot;, &quot;user&quot;]\n#startup.sh script contains some container specific initialization\n</code></pre>\n<p>System requirements</p>\n<pre><code>Jython 2.7.1 (default:0df7adb1b397, Jun 30 2017, 19:02:43)\n[OpenJDK 64-Bit Server VM (AdoptOpenJDK)] on java1.8.0_292\nType &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.\n</code></pre>\n<p>Actual result</p>\n<pre><code>$ ./jython.sh\n[ERROR] Failed to construct terminal; falling back to unsupported\njava.io.IOException: Cannot run program &quot;sh&quot;: error=2, No such file or directory\n        at java.lang.ProcessBuilder.start(ProcessBuilder.java:1048)\n        at org.python.jline.internal.TerminalLineSettings.exec(TerminalLineSettings.java:308)\n        at org.python.jline.internal.TerminalLineSettings.stty(TerminalLineSettings.java:282)\n        at org.python.jline.internal.TerminalLineSettings.get(TerminalLineSettings.java:143)\n        at org.python.jline.internal.TerminalLineSettings.&lt;init&gt;(TerminalLineSettings.java:108)\n        at org.python.jline.internal.TerminalLineSettings.getSettings(TerminalLineSettings.java:123)\n        at org.python.jline.UnixTerminal.&lt;init&gt;(UnixTerminal.java:60)\n        at org.python.jline.UnixTerminal.&lt;init&gt;(UnixTerminal.java:50)\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n        at java.lang.Class.newInstance(Class.java:442)\n        at org.python.jline.TerminalFactory.getFlavor(TerminalFactory.java:211)\n        at org.python.jline.TerminalFactory.create(TerminalFactory.java:102)\n        at org.python.jline.TerminalFactory.get(TerminalFactory.java:186)\n        at org.python.jline.TerminalFactory.get(TerminalFactory.java:192)\n        at org.python.jline.console.ConsoleReader.&lt;init&gt;(ConsoleReader.java:243)\n        at org.python.util.JLineConsole.install(JLineConsole.java:107)\n        at org.python.core.Py.installConsole(Py.java:1744)\n        at org.python.core.PySystemState.initConsole(PySystemState.java:1269)\n        at org.python.core.PySystemState.doInitialize(PySystemState.java:1119)\n        at org.python.core.PySystemState.initialize(PySystemState.java:1033)\n        at org.python.core.PySystemState.initialize(PySystemState.java:989)\n        at org.python.core.PySystemState.initialize(PySystemState.java:984)\n        at org.python.util.jython.run(jython.java:263)\n        at org.python.util.jython.main(jython.java:142)\nCaused by: java.io.IOException: error=2, No such file or directory\n        at java.lang.UNIXProcess.forkAndExec(Native Method)\n        at java.lang.UNIXProcess.&lt;init&gt;(UNIXProcess.java:247)\n        at java.lang.ProcessImpl.start(ProcessImpl.java:134)\n        at java.lang.ProcessBuilder.start(ProcessBuilder.java:1029)\n        ... 26 more\n\nJython 2.7.1 (default:0df7adb1b397, Jun 30 2017, 19:02:43)\n[OpenJDK 64-Bit Server VM (AdoptOpenJDK)] on java1.8.0_292\nType &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.\n&gt;&gt;&gt;\n</code></pre>\n<p>Expected result</p>\n<pre><code>$ ./jython.sh\nJython 2.7.1 (default:0df7adb1b397, Jun 30 2017, 19:02:43)\n[OpenJDK 64-Bit Server VM (AdoptOpenJDK)] on java1.8.0_292\nType &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.\n&gt;&gt;&gt; \n</code></pre>\n<p>Working environment</p>\n<p>However, I'm able to run Jython without any error/exception with Alpine image &amp; OpenJDK8</p>\n<p><em>Dockerfile</em></p>\n<pre><code>FROM alpine:latest\nRUN apk update &amp;&amp; apk add --no-cache openjdk8 \\\n  &amp;&amp; apk add --no-cache bash \\\n</code></pre>\n<pre><code>bash-5.1$ ./jython.sh\nJython 2.7.1 (default:0df7adb1b397, Jun 30 2017, 19:02:43)\n[OpenJDK 64-Bit Server VM (IcedTea)] on java1.8.0_302\nType &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.\n&gt;&gt;&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":24580756,"reputation":11,"user_id":18485922,"display_name":"swaubby"},"score":0,"creation_date":1647456087,"post_id":71502704,"comment_id":126378561,"body_markdown":"The above code is what I have already but I&#39;m stumped on how to finish the program.","body":"The above code is what I have already but I&#39;m stumped on how to finish the program."},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1647456423,"post_id":71502704,"comment_id":126378694,"body_markdown":"The first loop should iterate `Math.max(array1.length, array2.length)` times. Then add second loop that copies any extra strings (if required).","body":"The first loop should iterate <code>Math.max(array1.length, array2.length)</code> times. Then add second loop that copies any extra strings (if required)."}],"answers":[{"tags":[],"owner":{"account_id":6894157,"reputation":1612,"user_id":5296683,"accept_rate":83,"display_name":"Med Elgarnaoui"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647459452,"creation_date":1647458399,"answer_id":71503133,"question_id":71502704,"body_markdown":"Take a look at my solution ( *you will find the explication of the solution as comment in the code* ) :\r\n\r\n         public static void main(String[] args) {\r\n    \t\tScanner sc = new Scanner(System.in);\r\n    \t\tSystem.out.println(&quot;Please enter the first word list: &quot;);\r\n    \t\tString input1 = sc.nextLine();\r\n    \t\tSystem.out.println(&quot;Please enter the second word list: &quot;);\r\n    \t\tString input2 = sc.nextLine();\r\n    \r\n    \t\tString[] array1 = input1.split(&quot; &quot;);\r\n    \t\tString[] array2 = input2.split(&quot; &quot;);//you have to use input2 instead of input1\r\n    \t\t//convert array to list\r\n    \t\tList&lt;String&gt; list1 = new ArrayList&lt;&gt;(Arrays.asList(array1));\r\n    \t\tList&lt;String&gt; list2 = new ArrayList&lt;&gt;(Arrays.asList(array2));\r\n    \t\tArrayList&lt;String&gt; mixedArray = new ArrayList&lt;&gt;();\r\n    \t\t\r\n    \t\t\r\n    \t\t//the of the small array to avoid indexOutofboundException\r\n    \t\tint length = array1.length - array2.length &lt;= 0 ? array1.length : array2.length; \r\n    \t\tfor (int i = 0; i &lt; length; i++) {\r\n    \t\t\tmixedArray.add(array1[i]);\r\n    \t\t\tmixedArray.add(array2[i]);\r\n    \t\t\t\r\n    \t\t\t//every element added to the array will be removed from the list\r\n    \t\t\tlist1.remove(0);\r\n    \t\t\tlist2.remove(0);\r\n    \t\t}\r\n    \t\t\r\n    \t\t// add the the rest of element from the list that contains more than the others\r\n    \t\tmixedArray.addAll(list1);\r\n    \t\tmixedArray.addAll(list2);\r\n    \t\t\r\n    \t\tSystem.out.println(mixedArray.toString());\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n\r\n**Output:**\r\n\r\n    **Example 1:**\r\n    Please enter the first word list: \r\n    one two three four\r\n    Please enter the second word list: \r\n    five six seven\r\n    [one, five, two, six, three, seven, four]\r\n\r\n    \r\n    **Example 2:**\r\n    Please enter the first word list: \r\n    dog cat fish\r\n    Please enter the second word list: \r\n    bear cow hog chicken goat\r\n    [dog, bear, cat, cow, fish, hog, chicken, goat]\r\n\r\n    \r\n    **Example 3:**\r\n    Please enter the first word list: \r\n    apple banana pear peach\r\n    Please enter the second word list: \r\n    orange grape kiwi cherry\r\n    [apple, orange, banana, grape, pear, kiwi, peach, cherry]\r\n\r\n    **and so on ...**\r\n\r\n","title":"Java ArrayMixer Program","body":"<p>Take a look at my solution ( <em>you will find the explication of the solution as comment in the code</em> ) :</p>\n<pre><code>     public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Please enter the first word list: &quot;);\n        String input1 = sc.nextLine();\n        System.out.println(&quot;Please enter the second word list: &quot;);\n        String input2 = sc.nextLine();\n\n        String[] array1 = input1.split(&quot; &quot;);\n        String[] array2 = input2.split(&quot; &quot;);//you have to use input2 instead of input1\n        //convert array to list\n        List&lt;String&gt; list1 = new ArrayList&lt;&gt;(Arrays.asList(array1));\n        List&lt;String&gt; list2 = new ArrayList&lt;&gt;(Arrays.asList(array2));\n        ArrayList&lt;String&gt; mixedArray = new ArrayList&lt;&gt;();\n        \n        \n        //the of the small array to avoid indexOutofboundException\n        int length = array1.length - array2.length &lt;= 0 ? array1.length : array2.length; \n        for (int i = 0; i &lt; length; i++) {\n            mixedArray.add(array1[i]);\n            mixedArray.add(array2[i]);\n            \n            //every element added to the array will be removed from the list\n            list1.remove(0);\n            list2.remove(0);\n        }\n        \n        // add the the rest of element from the list that contains more than the others\n        mixedArray.addAll(list1);\n        mixedArray.addAll(list2);\n        \n        System.out.println(mixedArray.toString());\n        \n        \n    }\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>**Example 1:**\nPlease enter the first word list: \none two three four\nPlease enter the second word list: \nfive six seven\n[one, five, two, six, three, seven, four]\n\n\n**Example 2:**\nPlease enter the first word list: \ndog cat fish\nPlease enter the second word list: \nbear cow hog chicken goat\n[dog, bear, cat, cow, fish, hog, chicken, goat]\n\n\n**Example 3:**\nPlease enter the first word list: \napple banana pear peach\nPlease enter the second word list: \norange grape kiwi cherry\n[apple, orange, banana, grape, pear, kiwi, peach, cherry]\n\n**and so on ...**\n</code></pre>\n"}],"owner":{"account_id":24580756,"reputation":11,"user_id":18485922,"display_name":"swaubby"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":311,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1647459452,"creation_date":1647456050,"question_id":71502704,"body_markdown":"The program prompts the user for two word list, each word is separated by a white space. The program when mixes these two list (one word from list one and then one word from list two and next word from list one, and so on) and form a longer list. If one list is shorter than the other, add all remaining words from the longer list after all the words from the shorter list have been mixed in.  The program then output the long list.\r\n\r\nBelow are some sample runs.\r\n\r\n    Example 1 (first list is longer than second list):\r\n    Please enter the first word list: \r\n    one two three four\r\n    Please enter the second word list: \r\n    five six seven\r\n    one five two six three seven four \r\n\r\n    Example 2 (first list is shorter than second list):\r\n    Please enter the first word list: \r\n    dog cat fish\r\n    Please enter the second word list: \r\n    bear cow hog chicken goat \r\n    dog bear cat cow fish hog chicken goat \r\n\r\n    Example 3 (lists are the same length)\r\n    Please enter the first word list: \r\n    apple banana pear peach\r\n    Please enter the second word list: \r\n    orange grape kiwi cherry\r\n    apple orange banana grape pear kiwi peach cherry \r\n\r\n\r\n**Requirements\r\nThe result (mixed word list) must be stored in an ArrayList.**\r\n\r\n**Below is what I have so far.**\r\n\r\n    import java.util.Scanner;\r\n    import java.util.ArrayList;\r\n\r\n    public class ArrayMixer {\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.println(&quot;Please enter the first word list: &quot;);\r\n        String input1 = sc.nextLine();\r\n        System.out.println(&quot;Please enter the second word list: &quot;);\r\n        String input2 = sc.nextLine();\r\n\r\n        String[] array1 = input1.split(&quot; &quot;);\r\n        String[] array2 = input1.split(&quot; &quot;);\r\n\r\n        ArrayList&lt;String&gt; mixedArray = new ArrayList&lt;&gt;();\r\n\r\n        for (int i=0; i&lt;array1.length; i++) {\r\n           mixedArray.add(array1[i]);\r\n           mixedArray.add(array2[i]);\r\n\r\n        }\r\n      }\r\n    }","title":"Java ArrayMixer Program","body":"<p>The program prompts the user for two word list, each word is separated by a white space. The program when mixes these two list (one word from list one and then one word from list two and next word from list one, and so on) and form a longer list. If one list is shorter than the other, add all remaining words from the longer list after all the words from the shorter list have been mixed in.  The program then output the long list.</p>\n<p>Below are some sample runs.</p>\n<pre><code>Example 1 (first list is longer than second list):\nPlease enter the first word list: \none two three four\nPlease enter the second word list: \nfive six seven\none five two six three seven four \n\nExample 2 (first list is shorter than second list):\nPlease enter the first word list: \ndog cat fish\nPlease enter the second word list: \nbear cow hog chicken goat \ndog bear cat cow fish hog chicken goat \n\nExample 3 (lists are the same length)\nPlease enter the first word list: \napple banana pear peach\nPlease enter the second word list: \norange grape kiwi cherry\napple orange banana grape pear kiwi peach cherry \n</code></pre>\n<p><strong>Requirements\nThe result (mixed word list) must be stored in an ArrayList.</strong></p>\n<p><strong>Below is what I have so far.</strong></p>\n<pre><code>import java.util.Scanner;\nimport java.util.ArrayList;\n\npublic class ArrayMixer {\npublic static void main(String[] args) {\n    Scanner sc = new Scanner(System.in);\n    System.out.println(&quot;Please enter the first word list: &quot;);\n    String input1 = sc.nextLine();\n    System.out.println(&quot;Please enter the second word list: &quot;);\n    String input2 = sc.nextLine();\n\n    String[] array1 = input1.split(&quot; &quot;);\n    String[] array2 = input1.split(&quot; &quot;);\n\n    ArrayList&lt;String&gt; mixedArray = new ArrayList&lt;&gt;();\n\n    for (int i=0; i&lt;array1.length; i++) {\n       mixedArray.add(array1[i]);\n       mixedArray.add(array2[i]);\n\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1647455553,"post_id":71502412,"comment_id":126378386,"body_markdown":"How do you compile and execute the regex? Can you show the code, not only the regex? Also, please define &quot;not working&quot;. Is it matching nothing at all, is it matching the wrong parts of the string, is it matching some parts, but not others?","body":"How do you compile and execute the regex? Can you show the code, not only the regex? Also, please define &quot;not working&quot;. Is it matching nothing at all, is it matching the wrong parts of the string, is it matching some parts, but not others?"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":2,"creation_date":1647457865,"post_id":71502412,"comment_id":126379184,"body_markdown":"It looks like you are trying to parse JSON using regular expressions. You should use a JSON library like Jackson or GSON. Also, in using regex, if you want to match up to a delimiter, you can use a reluctant quantifier like `(.*?)` but the regex engine may have to backtrack multiple times to satisfy the expression. It is much better to say &quot;all characters that are not the closing delimiter&quot; i.e. `([^&quot;]*)`. I see this mistake made by a *lot* of developers.","body":"It looks like you are trying to parse JSON using regular expressions. You should use a JSON library like Jackson or GSON. Also, in using regex, if you want to match up to a delimiter, you can use a reluctant quantifier like <code>(.*?)</code> but the regex engine may have to backtrack multiple times to satisfy the expression. It is much better to say &quot;all characters that are not the closing delimiter&quot; i.e. <code>([^&quot;]*)</code>. I see this mistake made by a <i>lot</i> of developers."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1647458015,"post_id":71502412,"comment_id":126379234,"body_markdown":"Of course, neither of those would work on `{ &quot;name&quot; : &quot;John \\&quot;Big Guy\\&quot; Smith&quot; }`, which is why you should use a library to parse JSON.","body":"Of course, neither of those would work on <code>{ &quot;name&quot; : &quot;John \\&quot;Big Guy\\&quot; Smith&quot; }</code>, which is why you should use a library to parse JSON."}],"answers":[{"tags":[],"owner":{"account_id":1706574,"reputation":13314,"user_id":1565512,"display_name":"MikeM"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1647459378,"creation_date":1647459378,"answer_id":71503282,"question_id":71502412,"body_markdown":"As a `String`:\r\n\r\n```java\r\n&quot;\\&quot;test(Address1|City|State)\\&quot;\\\\s*:\\\\s*\\&quot;[^\\&quot;]*\\&quot;&quot;\r\n```\r\n\r\nUse `find`.\r\n\r\nAny questions?","title":"Finding all the matches from a string using regex","body":"<p>As a <code>String</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>&quot;\\&quot;test(Address1|City|State)\\&quot;\\\\s*:\\\\s*\\&quot;[^\\&quot;]*\\&quot;&quot;\n</code></pre>\n<p>Use <code>find</code>.</p>\n<p>Any questions?</p>\n"}],"owner":{"account_id":21931294,"reputation":49,"user_id":16213193,"display_name":"user"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1647459378,"creation_date":1647454636,"question_id":71502412,"body_markdown":"I&#39;ve a string and I would like to find all the matches followed by a text. for ex:\r\n\r\nfollowing is my string.\r\n\r\n    {&quot;testAcc&quot;:&quot;90808023&quot;, &quot;testAddress1&quot;:&quot;1 mst&quot;,&quot;testCity&quot;:&quot;acbd&quot;,&quot;testState&quot;:&quot;TE&quot;,&quot;name&quot;:&quot;John&quot;}\r\n\r\nI&#39;m trying to match all the values that starts with &quot;test&quot; and ends with either Address1, City or State. Following is what I tried, But it is not working.\r\n\r\n    \\&quot;test(Address1|City|State|)\\&quot;\\s*:\\s*\\&quot;(.*?)\\&quot;\r\n\r\nCan anyone help me? Thanks","title":"Finding all the matches from a string using regex","body":"<p>I've a string and I would like to find all the matches followed by a text. for ex:</p>\n<p>following is my string.</p>\n<pre><code>{&quot;testAcc&quot;:&quot;90808023&quot;, &quot;testAddress1&quot;:&quot;1 mst&quot;,&quot;testCity&quot;:&quot;acbd&quot;,&quot;testState&quot;:&quot;TE&quot;,&quot;name&quot;:&quot;John&quot;}\n</code></pre>\n<p>I'm trying to match all the values that starts with &quot;test&quot; and ends with either Address1, City or State. Following is what I tried, But it is not working.</p>\n<pre><code>\\&quot;test(Address1|City|State|)\\&quot;\\s*:\\s*\\&quot;(.*?)\\&quot;\n</code></pre>\n<p>Can anyone help me? Thanks</p>\n"},{"tags":["java","opencv","lg","midp-2.0"],"answers":[{"tags":[],"owner":{"account_id":72546,"reputation":13553,"user_id":209427,"accept_rate":76,"display_name":"Matyas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1306829528,"creation_date":1306829223,"answer_id":6184657,"question_id":6140801,"body_markdown":"It is **not** possible. First of all because JavaCV is just a **wrapper**, that means that openCV must be installed on the system so that JavaCV can provide an interface through which you can access the methods in openCV.\r\n\r\nSince you can not run opencv on these older phones, you will not be able to use JavaCV\r\n\r\nMoreover, JavaCV requires Java SE 1.6, and the phones only support what is included in the  MIDP specification. \r\n\r\nMobile apps based on MIDP can not use the whole set of functions/classes found in Java 1.6(eg. you cannot use generics like `List&lt;?&gt;`, `Map&lt;?&gt;` etc.)\r\n","title":"Opencv for Java mobile phones midp2.0 mid1.0","body":"<p>It is <strong>not</strong> possible. First of all because JavaCV is just a <strong>wrapper</strong>, that means that openCV must be installed on the system so that JavaCV can provide an interface through which you can access the methods in openCV.</p>\n\n<p>Since you can not run opencv on these older phones, you will not be able to use JavaCV</p>\n\n<p>Moreover, JavaCV requires Java SE 1.6, and the phones only support what is included in the  MIDP specification. </p>\n\n<p>Mobile apps based on MIDP can not use the whole set of functions/classes found in Java 1.6(eg. you cannot use generics like <code>List&lt;?&gt;</code>, <code>Map&lt;?&gt;</code> etc.)</p>\n"}],"owner":{"account_id":403665,"reputation":3,"user_id":771552,"display_name":"nerdherd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":498,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":6184657,"answer_count":1,"score":0,"last_activity_date":1647459343,"creation_date":1306422403,"question_id":6140801,"body_markdown":"I have recently completed my project in OpenCV 2.0 c++\r\nThis project is aimed for Visually Impaired persons. Basically Image is take through cam and then it is processed to guide the blind/ visually impaired person.\r\n\r\nNow I want to test this project on a mobile device in different real scenarios. I have two mobile phones(sony erricsson w810i and LG KS360) which support JAVA apps. And I also read that OpenCV wrapper functions for java are available with the name JAVACV.\r\n\r\nCan someone guide me if it is possible to write an app for testing my implementation? is JAVACV compatible with these old JAVA phones?","title":"Opencv for Java mobile phones midp2.0 mid1.0","body":"<p>I have recently completed my project in OpenCV 2.0 c++\nThis project is aimed for Visually Impaired persons. Basically Image is take through cam and then it is processed to guide the blind/ visually impaired person.</p>\n\n<p>Now I want to test this project on a mobile device in different real scenarios. I have two mobile phones(sony erricsson w810i and LG KS360) which support JAVA apps. And I also read that OpenCV wrapper functions for java are available with the name JAVACV.</p>\n\n<p>Can someone guide me if it is possible to write an app for testing my implementation? is JAVACV compatible with these old JAVA phones?</p>\n"},{"tags":["java","azure","selenium","web-scraping","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647459280,"creation_date":1647459280,"answer_id":71503267,"question_id":71501495,"body_markdown":"As your _OS is Windows and the app service is Linux based_, keeping both chromedriver.exe (for windows) and chromedriver (for linux) in the resources folder isn&#39;t a recommended practice.\r\n\r\nTests should be either [tag:windows] based or [tag:linux] based. So only the optimum resources should only be shared within the _`resources`_ directory.\r\n\r\nThe bottom line is, if _chromedriver.exe_ is not a part of your tests, you should totally remove it from the _`resources`_ directory and execute your tests with the recommended executables/libraries.","title":"How to install ChromeDriver on Azure app serveice (Linux)","body":"<p>As your <em>OS is Windows and the app service is Linux based</em>, keeping both chromedriver.exe (for windows) and chromedriver (for linux) in the resources folder isn't a recommended practice.</p>\n<p>Tests should be either <a href=\"/questions/tagged/windows\" class=\"post-tag\" title=\"show questions tagged &#39;windows&#39;\" rel=\"tag\">windows</a> based or <a href=\"/questions/tagged/linux\" class=\"post-tag\" title=\"show questions tagged &#39;linux&#39;\" rel=\"tag\">linux</a> based. So only the optimum resources should only be shared within the <em><code>resources</code></em> directory.</p>\n<p>The bottom line is, if <em>chromedriver.exe</em> is not a part of your tests, you should totally remove it from the <em><code>resources</code></em> directory and execute your tests with the recommended executables/libraries.</p>\n"}],"owner":{"account_id":6089760,"reputation":330,"user_id":4752486,"accept_rate":100,"display_name":"Wooopsa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647459280,"creation_date":1647450860,"question_id":71501495,"body_markdown":"I implemented Java code to scrape data using chromedriver. My OS is Windows and the app service that I have is Linux. I put both chromedriver.exe (for windows) and chromedriver (for linux) in the resources folder.\r\nI am able to run the code on Windows locally and it works but when I try to run the scraper on app service, it gives me an error as:\r\n\r\n    lang.IllegalStateException: The driver executable does not exist: /src\\main\\resources\\chromedriver\r\n\r\nCode trials:\r\n\r\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;src\\\\main\\\\resources\\\\chromedriver&quot;);\r\n    WebDriver driver = new ChromeDriver();\r\n    JavascriptExecutor js = (JavascriptExecutor) driver;\r\nIs there a way that I can install/move the driver to a place in linux that I be able to run my code in Azure?\r\n\r\n","title":"How to install ChromeDriver on Azure app serveice (Linux)","body":"<p>I implemented Java code to scrape data using chromedriver. My OS is Windows and the app service that I have is Linux. I put both chromedriver.exe (for windows) and chromedriver (for linux) in the resources folder.\nI am able to run the code on Windows locally and it works but when I try to run the scraper on app service, it gives me an error as:</p>\n<pre><code>lang.IllegalStateException: The driver executable does not exist: /src\\main\\resources\\chromedriver\n</code></pre>\n<p>Code trials:</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;src\\\\main\\\\resources\\\\chromedriver&quot;);\nWebDriver driver = new ChromeDriver();\nJavascriptExecutor js = (JavascriptExecutor) driver;\n</code></pre>\n<p>Is there a way that I can install/move the driver to a place in linux that I be able to run my code in Azure?</p>\n"},{"tags":["java","spring-boot","spring-jms"],"comments":[{"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1647459910,"post_id":71503166,"comment_id":126379867,"body_markdown":"The `RestTemplate` doesn&#39;t care where it is called from; I suggest you turn on DEBUG logging to see if it provides any clues. Perhaps `inMessage` is not compatible with whatever converters you have configured in the `RestTemplate`. It&#39;s unusual to try to send an unconverted JMS `Message` over HTTP.","body":"The <code>RestTemplate</code> doesn&#39;t care where it is called from; I suggest you turn on DEBUG logging to see if it provides any clues. Perhaps <code>inMessage</code> is not compatible with whatever converters you have configured in the <code>RestTemplate</code>. It&#39;s unusual to try to send an unconverted JMS <code>Message</code> over HTTP."},{"owner":{"account_id":24581176,"reputation":1,"user_id":18486278,"display_name":"JavaGuyUSA"},"score":0,"creation_date":1647603889,"post_id":71503166,"comment_id":126418089,"body_markdown":"I got it working. changed Service to Component suggested by a colleague.  thanks for the response.","body":"I got it working. changed Service to Component suggested by a colleague.  thanks for the response."}],"owner":{"account_id":24581176,"reputation":1,"user_id":18486278,"display_name":"JavaGuyUSA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647459018,"creation_date":1647458620,"question_id":71503166,"body_markdown":"I have Spring and ActiveMQ, and I&#39;m using JMS to send/receive messages. Sending (`JMSTemplate`) and receiving  (`@JMSListener`) messages is ok. I have one consumer that needs to make a POST request to a webservice with the JMS message as the payload. When the message is received by the consumer it seems the POST does not execute. There are no errors thrown and no response 200, 40X, 50X, etc. I can use the same POST code in other classes with success so I am missing something about the consumer behavior. Any tips would be greatly appreciated.\r\n\r\n```java\r\n@Bean \r\npublic JmsListenerContainerFactory&lt;?&gt; factoryeventQueue(ConnectionFactory connectionFactory, DefaultJmsListenerContainerFactoryConfigurer configurer) {\r\n    DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory(); \r\n    configurer.configure(factory, connectionFactory);\r\n    factory.setSessionTransacted(true);\r\n    factory.setAutoStartup(true);\r\n    factory.setMaxMessagesPerTask(1);\r\n  \r\n    return factory; \r\n}\r\n```\r\n\r\n```\r\n@Service\r\npublic class JmsReceiveAndPost {\r\n\r\n\tprivate static final org.apache.logging.log4j.Logger logger = LogManager.getLogger(&quot;myLogger&quot;);\r\n\tprivate ResponseEntity&lt;String&gt; result;\r\n\r\n\t@JmsListener(destination = &quot;eventQueue&quot;, containerFactory = &quot;factoryeventQueue&quot;)\r\n\tpublic void onMessage(String message, Message inMessage, Session session) {\r\n\r\n\t\tlogger.debug(&quot;eventQueue  Incoming message &quot;);\r\n\t\ttry {\r\n\r\n\t\t\tURI uri = new URI(&quot;http://127.9.0.1:8443/data&quot;);\r\n\t\t\tRestTemplate restTemplate = new RestTemplate();\r\n\r\n\t\t\tresult = restTemplate.postForEntity(uri, inMessage, String.class);\r\n\t\t\tlogger.debug(&quot;POST response: &quot; + result.getStatusCode());\r\n\r\n\t\t} catch (RestClientException e) {\r\n\t\t\t logger.error(&quot;Error &quot; + e);\r\n\t\t} catch (URISyntaxException e) {\r\n\t\t\tlogger.error(&quot;Error &quot; + e);\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"POST request not executing inside @JMSListener","body":"<p>I have Spring and ActiveMQ, and I'm using JMS to send/receive messages. Sending (<code>JMSTemplate</code>) and receiving  (<code>@JMSListener</code>) messages is ok. I have one consumer that needs to make a POST request to a webservice with the JMS message as the payload. When the message is received by the consumer it seems the POST does not execute. There are no errors thrown and no response 200, 40X, 50X, etc. I can use the same POST code in other classes with success so I am missing something about the consumer behavior. Any tips would be greatly appreciated.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean \npublic JmsListenerContainerFactory&lt;?&gt; factoryeventQueue(ConnectionFactory connectionFactory, DefaultJmsListenerContainerFactoryConfigurer configurer) {\n    DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory(); \n    configurer.configure(factory, connectionFactory);\n    factory.setSessionTransacted(true);\n    factory.setAutoStartup(true);\n    factory.setMaxMessagesPerTask(1);\n  \n    return factory; \n}\n</code></pre>\n<pre><code>@Service\npublic class JmsReceiveAndPost {\n\n    private static final org.apache.logging.log4j.Logger logger = LogManager.getLogger(&quot;myLogger&quot;);\n    private ResponseEntity&lt;String&gt; result;\n\n    @JmsListener(destination = &quot;eventQueue&quot;, containerFactory = &quot;factoryeventQueue&quot;)\n    public void onMessage(String message, Message inMessage, Session session) {\n\n        logger.debug(&quot;eventQueue  Incoming message &quot;);\n        try {\n\n            URI uri = new URI(&quot;http://127.9.0.1:8443/data&quot;);\n            RestTemplate restTemplate = new RestTemplate();\n\n            result = restTemplate.postForEntity(uri, inMessage, String.class);\n            logger.debug(&quot;POST response: &quot; + result.getStatusCode());\n\n        } catch (RestClientException e) {\n             logger.error(&quot;Error &quot; + e);\n        } catch (URISyntaxException e) {\n            logger.error(&quot;Error &quot; + e);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","eclipse-jee"],"answers":[{"tags":[],"owner":{"display_name":"user14687465"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647458657,"creation_date":1647458314,"answer_id":71503123,"question_id":71501192,"body_markdown":"Try this:\r\n   \r\n\r\n     File path = new File(&quot;YOUR PATH HERE&quot;) ;\r\n                try (FileOutputStream fos = new FileOutputStream(path)) {\r\n                    fos.write(decodedFile);\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n\r\nYou should also consider reading these links:\r\n\r\nhttps://medium.com/javarevisited/how-to-upload-files-to-local-directory-in-spring-boot-c8c33f8239d3\r\n\r\nhttps://spring.io/guides/gs/uploading-files/\r\n\r\n\r\n**EDIT**\r\n\r\nIf String name is original File name, you could also do this:\r\n\r\n    File path = new File(&quot;C:\\\\YOUR_PATH\\\\images\\\\&quot; + name);\r\n\r\n","title":"How can I change saving file directory?","body":"<p>Try this:</p>\n<pre><code> File path = new File(&quot;YOUR PATH HERE&quot;) ;\n            try (FileOutputStream fos = new FileOutputStream(path)) {\n                fos.write(decodedFile);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n</code></pre>\n<p>You should also consider reading these links:</p>\n<p><a href=\"https://medium.com/javarevisited/how-to-upload-files-to-local-directory-in-spring-boot-c8c33f8239d3\" rel=\"nofollow noreferrer\">https://medium.com/javarevisited/how-to-upload-files-to-local-directory-in-spring-boot-c8c33f8239d3</a></p>\n<p><a href=\"https://spring.io/guides/gs/uploading-files/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/uploading-files/</a></p>\n<p><strong>EDIT</strong></p>\n<p>If String name is original File name, you could also do this:</p>\n<pre><code>File path = new File(&quot;C:\\\\YOUR_PATH\\\\images\\\\&quot; + name);\n</code></pre>\n"}],"owner":{"account_id":24565949,"reputation":23,"user_id":18473103,"display_name":"dareen_04"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71503123,"answer_count":1,"score":-1,"last_activity_date":1647458657,"creation_date":1647449603,"question_id":71501192,"body_markdown":"I want to change saving file directory.\r\nHere is it my code: \r\n\r\n    @RequestMapping(value = &quot;/UploadFile&quot;)\r\n    public String uploadFile(HttpServletResponse response String base64, String name, String size) throws Exception {\r\n        byte[] decodedFile = Base64.getDecoder().decode(base64.getBytes(StandardCharsets.UTF_8));\r\n        response.setContentType(&quot;application/octet-stream&quot;);\r\n        response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + name);\r\n        response.setHeader(&quot;Pragma&quot;, &quot;no-cache&quot;);\r\n        response.setHeader(&quot;Cache-Control&quot;, &quot;no-cache&quot;);\r\n    \r\n        InputStream is = new ByteArrayInputStream(decodedFile);\r\n        IOUtils.copy(is, response.getOutputStream());\r\n        response.flushBuffer();\r\n        return &quot;true&quot;;\r\n    }","title":"How can I change saving file directory?","body":"<p>I want to change saving file directory.\nHere is it my code:</p>\n<pre><code>@RequestMapping(value = &quot;/UploadFile&quot;)\npublic String uploadFile(HttpServletResponse response String base64, String name, String size) throws Exception {\n    byte[] decodedFile = Base64.getDecoder().decode(base64.getBytes(StandardCharsets.UTF_8));\n    response.setContentType(&quot;application/octet-stream&quot;);\n    response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + name);\n    response.setHeader(&quot;Pragma&quot;, &quot;no-cache&quot;);\n    response.setHeader(&quot;Cache-Control&quot;, &quot;no-cache&quot;);\n\n    InputStream is = new ByteArrayInputStream(decodedFile);\n    IOUtils.copy(is, response.getOutputStream());\n    response.flushBuffer();\n    return &quot;true&quot;;\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","animation","android-animation"],"answers":[{"tags":[],"owner":{"account_id":21511170,"reputation":136,"user_id":15853851,"display_name":"marco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647456307,"creation_date":1647456307,"answer_id":71502750,"question_id":71502526,"body_markdown":"I&#39;m not sure I understand the question correctly. \r\nBut I think that you need just to add a module. When the animation ends, the object still exist, so you can connect an action with an intent-filter.\r\nHope to be of help","title":"How can I implement another action after the animation has ended? - Java","body":"<p>I'm not sure I understand the question correctly.\nBut I think that you need just to add a module. When the animation ends, the object still exist, so you can connect an action with an intent-filter.\nHope to be of help</p>\n"},{"tags":[],"owner":{"account_id":24552559,"reputation":79,"user_id":18461575,"display_name":"Biron1gg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647458452,"creation_date":1647458043,"answer_id":71503073,"question_id":71502526,"body_markdown":"I made it so that when the animation started, exactly as many seconds elapsed as the animation lasted, after that another action will begin (C help of the Handler method).\r\n\r\n```\r\nprivate void zoomAnimation() {\r\n        zoom = AnimationUtils.loadAnimation(this,R.anim.fast_zoomin);\r\n        zoom_out = AnimationUtils.loadAnimation(this,R.anim.fast_zoomout);\r\n        avatar.startAnimation(zoom);\r\n\r\n        if (!zoom.hasStarted()){\r\n            Handler handler = new Handler();\r\n            handler.postDelayed(new Runnable() {\r\n                public void run() {\r\n                    avatar.startAnimation(zoom_out);\r\n                }\r\n            }, 1500); //seconds after which another action will start when\r\n                      //condition that the first one started\r\n        }\r\n\r\n    }\r\n```","title":"How can I implement another action after the animation has ended? - Java","body":"<p>I made it so that when the animation started, exactly as many seconds elapsed as the animation lasted, after that another action will begin (C help of the Handler method).</p>\n<pre><code>private void zoomAnimation() {\n        zoom = AnimationUtils.loadAnimation(this,R.anim.fast_zoomin);\n        zoom_out = AnimationUtils.loadAnimation(this,R.anim.fast_zoomout);\n        avatar.startAnimation(zoom);\n\n        if (!zoom.hasStarted()){\n            Handler handler = new Handler();\n            handler.postDelayed(new Runnable() {\n                public void run() {\n                    avatar.startAnimation(zoom_out);\n                }\n            }, 1500); //seconds after which another action will start when\n                      //condition that the first one started\n        }\n\n    }\n</code></pre>\n"}],"owner":{"account_id":24552559,"reputation":79,"user_id":18461575,"display_name":"Biron1gg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71503073,"answer_count":2,"score":0,"last_activity_date":1647458452,"creation_date":1647455274,"question_id":71502526,"body_markdown":"***Can anyone help?***\r\n\\=====================================================\r\n**I tried like this:**\r\n\r\n```\r\nAnimation zoom, zoom_out;\r\n\r\n\r\nzoomAnimation();\r\n```\r\n```\r\nprivate void zoomAnimation() {\r\n        zoom= AnimationUtils.loadAnimation(this,R.anim.fast_zoomin);\r\n        avatar.startAnimation(zoom);\r\n \r\n        //question\r\n        if (zoom.hasEnded()){\r\n            zoomoutAnimation();\r\n        }\r\n        //question\r\n\r\n    }\r\n\r\n    private void zoomoutAnimation() {\r\n        zoom_out= AnimationUtils.loadAnimation(this,R.anim.fast_zoomout);\r\n        avatar.startAnimation(zoom_out);\r\n    }\r\n```","title":"How can I implement another action after the animation has ended? - Java","body":"<p><em><strong>Can anyone help?</strong></em>\n=====================================================\n<strong>I tried like this:</strong></p>\n<pre><code>Animation zoom, zoom_out;\n\n\nzoomAnimation();\n</code></pre>\n<pre><code>private void zoomAnimation() {\n        zoom= AnimationUtils.loadAnimation(this,R.anim.fast_zoomin);\n        avatar.startAnimation(zoom);\n \n        //question\n        if (zoom.hasEnded()){\n            zoomoutAnimation();\n        }\n        //question\n\n    }\n\n    private void zoomoutAnimation() {\n        zoom_out= AnimationUtils.loadAnimation(this,R.anim.fast_zoomout);\n        avatar.startAnimation(zoom_out);\n    }\n</code></pre>\n"},{"tags":["java","multithreading","transactions","amazon-dynamodb","thread-safety"],"comments":[{"owner":{"account_id":257345,"reputation":6764,"user_id":538697,"display_name":"hunterhacker"},"score":2,"creation_date":1647460460,"post_id":71503141,"comment_id":126380028,"body_markdown":"And why not use transactions?","body":"And why not use transactions?"},{"owner":{"account_id":13816660,"reputation":139,"user_id":9973101,"display_name":"Gopikrishna K S"},"score":0,"creation_date":1647464130,"post_id":71503141,"comment_id":126381141,"body_markdown":"This is a legacy system and I am trying to list the different approaches possible. While transactions seem ideal and long term, was checking if something like retry after worst case delay &amp; strongly consistent read will work for short term without much code changes, hope it makes sense.","body":"This is a legacy system and I am trying to list the different approaches possible. While transactions seem ideal and long term, was checking if something like retry after worst case delay &amp; strongly consistent read will work for short term without much code changes, hope it makes sense."},{"owner":{"account_id":257345,"reputation":6764,"user_id":538697,"display_name":"hunterhacker"},"score":0,"creation_date":1647469193,"post_id":71503141,"comment_id":126382545,"body_markdown":"Use the ideal and long term thing.","body":"Use the ideal and long term thing."},{"owner":{"account_id":8664966,"reputation":11942,"user_id":6485881,"display_name":"Maurice"},"score":0,"creation_date":1647586247,"post_id":71503141,"comment_id":126412753,"body_markdown":"Using transactions will be cheaper even in the short term because they&#39;re a lot less complex than any solution that you would have to come up with yourself to solve that particular problem :-)","body":"Using transactions will be cheaper even in the short term because they&#39;re a lot less complex than any solution that you would have to come up with yourself to solve that particular problem :-)"}],"owner":{"account_id":13816660,"reputation":139,"user_id":9973101,"display_name":"Gopikrishna K S"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647458444,"creation_date":1647458444,"question_id":71503141,"body_markdown":"I have 2 tables, one with a string (PK) =&gt; UUID and another with the UUID(PK) =&gt; string. The following is my use case.\r\n1. Given the string, search for entry in first table. If UUID is there, search in second table if same entry is there or not.\r\n2. If any of above is not true, the get operation fails and we want to try the create operation which is the following.\r\n3. Check if there is entry in the first table again.\r\n4. If not there, create a UUID and store it in the first table with condition primary PK doesn&#39;t exist already. Update the second table also with condition its PK doesn&#39;t exist already.\r\n5. If it exists and there is no corresponding mapping in the second table, update the entry in first table with new UUID (no PK doesn&#39;t exist condition). Update the second table also with condition its PK doesn&#39;t exist already.\r\n6. If it exists and there is mapping, throw illegal state exception since step 1 should have already caught this.\r\n7. The overall API will also return the UUID.\r\n\r\nThe issue now is that during concurrent writes of same item, there is a chance that the first request will fail get, do a create and return UUID 1. The second very nearby request will also fail, do a create and return UUID 2. How to make both the requests return a single UUID? Is there any way apart from using transactions for this? Or is transactions the only and right way for this?","title":"How to write a thread safe getOrCreate operation to DynamoDB without transactions?","body":"<p>I have 2 tables, one with a string (PK) =&gt; UUID and another with the UUID(PK) =&gt; string. The following is my use case.</p>\n<ol>\n<li>Given the string, search for entry in first table. If UUID is there, search in second table if same entry is there or not.</li>\n<li>If any of above is not true, the get operation fails and we want to try the create operation which is the following.</li>\n<li>Check if there is entry in the first table again.</li>\n<li>If not there, create a UUID and store it in the first table with condition primary PK doesn't exist already. Update the second table also with condition its PK doesn't exist already.</li>\n<li>If it exists and there is no corresponding mapping in the second table, update the entry in first table with new UUID (no PK doesn't exist condition). Update the second table also with condition its PK doesn't exist already.</li>\n<li>If it exists and there is mapping, throw illegal state exception since step 1 should have already caught this.</li>\n<li>The overall API will also return the UUID.</li>\n</ol>\n<p>The issue now is that during concurrent writes of same item, there is a chance that the first request will fail get, do a create and return UUID 1. The second very nearby request will also fail, do a create and return UUID 2. How to make both the requests return a single UUID? Is there any way apart from using transactions for this? Or is transactions the only and right way for this?</p>\n"},{"tags":["java","spring-cloud-gateway"],"answers":[{"tags":[],"owner":{"account_id":15178432,"reputation":61,"user_id":10952458,"display_name":"JdWiebe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647458230,"creation_date":1647458230,"answer_id":71503103,"question_id":71226980,"body_markdown":"I just had a similar issue and it turns out for me it was an inconsistency with `spring.cloud.gateway.discovery.locator.include-expression`. Some instances of a service failed the expression and others didn&#39;t. It looks like it will poll every once in a while and re-check the condition, but it isn&#39;t guaranteed to check the same instance every time, so it will mark the service as down if it happens to pick one that fails the condition\r\n\r\nhttps://github.com/spring-cloud/spring-cloud-gateway/blob/71014d10bfa040a08d3479b161b79b3c8cd0d4a8/spring-cloud-gateway-server/src/main/java/org/springframework/cloud/gateway/discovery/DiscoveryClientRouteDefinitionLocator.java#L90-L99","title":"How do you make a GlobalFilter that logs 404s in Spring Cloud Gateway","body":"<p>I just had a similar issue and it turns out for me it was an inconsistency with <code>spring.cloud.gateway.discovery.locator.include-expression</code>. Some instances of a service failed the expression and others didn't. It looks like it will poll every once in a while and re-check the condition, but it isn't guaranteed to check the same instance every time, so it will mark the service as down if it happens to pick one that fails the condition</p>\n<p><a href=\"https://github.com/spring-cloud/spring-cloud-gateway/blob/71014d10bfa040a08d3479b161b79b3c8cd0d4a8/spring-cloud-gateway-server/src/main/java/org/springframework/cloud/gateway/discovery/DiscoveryClientRouteDefinitionLocator.java#L90-L99\" rel=\"nofollow noreferrer\">https://github.com/spring-cloud/spring-cloud-gateway/blob/71014d10bfa040a08d3479b161b79b3c8cd0d4a8/spring-cloud-gateway-server/src/main/java/org/springframework/cloud/gateway/discovery/DiscoveryClientRouteDefinitionLocator.java#L90-L99</a></p>\n"}],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":511,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647458230,"creation_date":1645556756,"question_id":71226980,"body_markdown":"I&#39;m trying to diagnose a problem where I am getting [random 404s in my requests]( https://github.com/spring-cloud/spring-cloud-gateway/issues/2174).  So I put in a `GlobalFilter` like this\r\n\r\n```\r\n@Component\r\npublic class PerformanceRequestIDPostFilter implements GlobalFilter {\r\n    @Override\r\n    public Mono&lt;Void&gt; filter(final ServerWebExchange exchange, GatewayFilterChain chain) {\r\n\r\n        final long startNanos = System.nanoTime();\r\n        return chain\r\n            .filter(exchange)\r\n            .then(\r\n                Mono.fromRunnable(\r\n                    () -&gt; {\r\n                        final String requestURI = exchange.getRequest().getURI().toASCIIString();\r\n                        final String method = exchange.getRequest().getMethodValue();\r\n\r\n                        final long requestTimeNano = System.nanoTime() - startNanos;\r\n                        final double requestTimeInMillis = (double) requestTimeNano * 0.000001;\r\n                        final HttpStatus statusCode = Objects.requireNonNull(exchange.getResponse().getStatusCode());\r\n                        final int status = statusCode.value();\r\n                        final String requestTimeInMillisText = String.format(&quot;%.03f&quot;, requestTimeInMillis);\r\n                        if (statusCode.is4xxClientError()) {\r\n                            log.warn(LOG_MESSAGE_FORMAT, traceId, method, requestURI, status, requestTimeInMillisText);\r\n                        } else if (statusCode.isError()) {\r\n                            log.error(LOG_MESSAGE_FORMAT, traceId, method, requestURI, status, requestTimeInMillisText);\r\n                        } else {\r\n                            log.info(LOG_MESSAGE_FORMAT, traceId, method, requestURI, status, requestTimeInMillisText);\r\n                        }\r\n                        final HttpHeaders responseHeaders = exchange.getResponse().getHeaders();\r\n                        if (responseHeaders.getAccessControlAllowOrigin() == null) {\r\n                            responseHeaders.setAccessControlAllowOrigin(&quot;*&quot;);\r\n                        }\r\n\r\n                    })\r\n            );\r\n    }\r\n}\r\n```\r\n\r\nFor the most part everything is okay for 500 and 200 but for 404 it&#39;s not logging anything.  I am presuming there&#39;s something filtering beforehand, but I am not sure where or how to bypass it.","title":"How do you make a GlobalFilter that logs 404s in Spring Cloud Gateway","body":"<p>I'm trying to diagnose a problem where I am getting <a href=\"https://github.com/spring-cloud/spring-cloud-gateway/issues/2174\" rel=\"nofollow noreferrer\">random 404s in my requests</a>.  So I put in a <code>GlobalFilter</code> like this</p>\n<pre><code>@Component\npublic class PerformanceRequestIDPostFilter implements GlobalFilter {\n    @Override\n    public Mono&lt;Void&gt; filter(final ServerWebExchange exchange, GatewayFilterChain chain) {\n\n        final long startNanos = System.nanoTime();\n        return chain\n            .filter(exchange)\n            .then(\n                Mono.fromRunnable(\n                    () -&gt; {\n                        final String requestURI = exchange.getRequest().getURI().toASCIIString();\n                        final String method = exchange.getRequest().getMethodValue();\n\n                        final long requestTimeNano = System.nanoTime() - startNanos;\n                        final double requestTimeInMillis = (double) requestTimeNano * 0.000001;\n                        final HttpStatus statusCode = Objects.requireNonNull(exchange.getResponse().getStatusCode());\n                        final int status = statusCode.value();\n                        final String requestTimeInMillisText = String.format(&quot;%.03f&quot;, requestTimeInMillis);\n                        if (statusCode.is4xxClientError()) {\n                            log.warn(LOG_MESSAGE_FORMAT, traceId, method, requestURI, status, requestTimeInMillisText);\n                        } else if (statusCode.isError()) {\n                            log.error(LOG_MESSAGE_FORMAT, traceId, method, requestURI, status, requestTimeInMillisText);\n                        } else {\n                            log.info(LOG_MESSAGE_FORMAT, traceId, method, requestURI, status, requestTimeInMillisText);\n                        }\n                        final HttpHeaders responseHeaders = exchange.getResponse().getHeaders();\n                        if (responseHeaders.getAccessControlAllowOrigin() == null) {\n                            responseHeaders.setAccessControlAllowOrigin(&quot;*&quot;);\n                        }\n\n                    })\n            );\n    }\n}\n</code></pre>\n<p>For the most part everything is okay for 500 and 200 but for 404 it's not logging anything.  I am presuming there's something filtering beforehand, but I am not sure where or how to bypass it.</p>\n"},{"tags":["java","android","macos","gradle"],"comments":[{"owner":{"account_id":3333600,"reputation":1199,"user_id":2801860,"display_name":"fab"},"score":0,"creation_date":1524197825,"post_id":49933881,"comment_id":86883331,"body_markdown":"what is the output of `java -version`?","body":"what is the output of <code>java -version</code>?"},{"owner":{"account_id":6312504,"reputation":910,"user_id":4903614,"accept_rate":70,"display_name":"Pardeep Kumar"},"score":0,"creation_date":1524197901,"post_id":49933881,"comment_id":86883351,"body_markdown":"java version &quot;1.6.0_65&quot;\nJava(TM) SE Runtime Environment (build 1.6.0_65-b14-468)\nJava HotSpot(TM) 64-Bit Server VM (build 20.65-b04-468, mixed mode)","body":"java version &quot;1.6.0_65&quot; Java(TM) SE Runtime Environment (build 1.6.0_65-b14-468) Java HotSpot(TM) 64-Bit Server VM (build 20.65-b04-468, mixed mode)"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1524197929,"post_id":49933881,"comment_id":86883356,"body_markdown":"I&#39;m fairly sure the emdedded JDK is at least Java 7. `gradlew` uses PATH anyway, not the embedded Java of Android Studio","body":"I&#39;m fairly sure the emdedded JDK is at least Java 7. <code>gradlew</code> uses PATH anyway, not the embedded Java of Android Studio"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1524197970,"post_id":49933881,"comment_id":86883369,"body_markdown":"Please [edit] the question with output of `which java` and `echo $PATH` and `echo $JAVA_HOME`","body":"Please <a href=\"https://stackoverflow.com/posts/49933881/edit\">edit</a> the question with output of <code>which java</code> and <code>echo $PATH</code> and <code>echo $JAVA_HOME</code>"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1524198212,"post_id":49933881,"comment_id":86883433,"body_markdown":"Why don&#39;t you just install Java on your OS? You are not required to use the embedded JDK, nor can I find any documentation that recommends it.","body":"Why don&#39;t you just install Java on your OS? You are not required to use the embedded JDK, nor can I find any documentation that recommends it."},{"owner":{"account_id":6312504,"reputation":910,"user_id":4903614,"accept_rate":70,"display_name":"Pardeep Kumar"},"score":0,"creation_date":1524198377,"post_id":49933881,"comment_id":86883475,"body_markdown":"@cricket_007 Yes t i will ry to install on my OS and then check","body":"@cricket_007 Yes t i will ry to install on my OS and then check"},{"owner":{"account_id":3333600,"reputation":1199,"user_id":2801860,"display_name":"fab"},"score":0,"creation_date":1524198502,"post_id":49933881,"comment_id":86883507,"body_markdown":"have you see that: https://stackoverflow.com/a/21212790/2801860","body":"have you see that: <a href=\"https://stackoverflow.com/a/21212790/2801860\">stackoverflow.com/a/21212790/2801860</a>"},{"owner":{"account_id":1951,"reputation":26904,"user_id":2684,"accept_rate":87,"display_name":"Martin Marconcini"},"score":0,"creation_date":1524253665,"post_id":49933881,"comment_id":86914032,"body_markdown":"Did you run `/usr/libexec/java_home -V` ? Then just download the latest from Oracle.","body":"Did you run <code>&#47;usr&#47;libexec&#47;java_home -V</code> ? Then just download the latest from Oracle."}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1647457961,"creation_date":1524198665,"answer_id":49934024,"question_id":49933881,"body_markdown":"&gt; A copy of **the latest OpenJDK** comes bundled with Android Studio 2.2 and higher, and this is the JDK version we recommend you use for your Android projects.\r\n\r\nhttps://developer.android.com/studio/intro/studio-config.html#jdk\r\n\r\nThis however, is only for building your apps **within Android Studio**, not from the terminal with `gradlew`, otherwise, it&#39;ll use whatever is on your OS&#39;s `$PATH` variable. \r\n\r\nIn order to use the embedded JDK, you at least need to set `JAVA_HOME`, for example on Linux/Mac, \r\n\r\n    $ export JAVA_HOME=/path/to/AndroidStudio/jdk  # TODO: Find this\r\n    $ ./gradlew\r\n\r\nMy recommendation, however, is to use the mechanism for your OS for installing Java. \r\n\r\nFor easy Java library management (on Linux &amp; Mac), you can try using [`sdkman`](http://sdkman.io/)","title":"gradlew uses wrong Java version","body":"<blockquote>\n<p>A copy of <strong>the latest OpenJDK</strong> comes bundled with Android Studio 2.2 and higher, and this is the JDK version we recommend you use for your Android projects.</p>\n</blockquote>\n<p><a href=\"https://developer.android.com/studio/intro/studio-config.html#jdk\" rel=\"noreferrer\">https://developer.android.com/studio/intro/studio-config.html#jdk</a></p>\n<p>This however, is only for building your apps <strong>within Android Studio</strong>, not from the terminal with <code>gradlew</code>, otherwise, it'll use whatever is on your OS's <code>$PATH</code> variable.</p>\n<p>In order to use the embedded JDK, you at least need to set <code>JAVA_HOME</code>, for example on Linux/Mac,</p>\n<pre><code>$ export JAVA_HOME=/path/to/AndroidStudio/jdk  # TODO: Find this\n$ ./gradlew\n</code></pre>\n<p>My recommendation, however, is to use the mechanism for your OS for installing Java.</p>\n<p>For easy Java library management (on Linux &amp; Mac), you can try using <a href=\"http://sdkman.io/\" rel=\"noreferrer\"><code>sdkman</code></a></p>\n"},{"tags":[],"owner":{"account_id":6312504,"reputation":910,"user_id":4903614,"accept_rate":70,"display_name":"Pardeep Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1524251739,"creation_date":1524201990,"answer_id":49934567,"question_id":49933881,"body_markdown":"The issue is resolved by adding :\r\n\r\n    /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/bin\r\n\r\nat the start of the PATH variable . What i have found is that: There are three java locations.\r\n\r\n 1. Java that comes with mac (`/usr/bin/java`)\r\n 2. Java downloaded from oracle . ( `/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/bin`) \r\n 3. Java embedded with Android Studio (`/Applications/Android\\ Studio.app/Contents/jre/jdk/Contents/Home/bin/`)\r\n \r\nIn my case the `gradlew` was always using the java from MAC (point number 1).\r\nSo when i added the &quot; java dowloaded from oracle (point 2)&quot; at the start of path variable it started using the one from oracle and my gradlew command ran.\r\n\r\n","title":"gradlew uses wrong Java version","body":"<p>The issue is resolved by adding :</p>\n\n<pre><code>/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/bin\n</code></pre>\n\n<p>at the start of the PATH variable . What i have found is that: There are three java locations.</p>\n\n<ol>\n<li>Java that comes with mac (<code>/usr/bin/java</code>)</li>\n<li>Java downloaded from oracle . ( <code>/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/bin</code>) </li>\n<li>Java embedded with Android Studio (<code>/Applications/Android\\ Studio.app/Contents/jre/jdk/Contents/Home/bin/</code>)</li>\n</ol>\n\n<p>In my case the <code>gradlew</code> was always using the java from MAC (point number 1).\nSo when i added the \" java dowloaded from oracle (point 2)\" at the start of path variable it started using the one from oracle and my gradlew command ran.</p>\n"},{"tags":[],"owner":{"account_id":7221760,"reputation":1256,"user_id":5511947,"display_name":"Vairavan"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1583747594,"creation_date":1550589863,"answer_id":54769672,"question_id":49933881,"body_markdown":"gradle.properties can be updated to point to the embedded JDK that comes with Android Studio in Mac OS:\r\n\r\norg.gradle.java.home=/Applications/Android Studio.app/Contents/jre/jdk/Contents/Home","title":"gradlew uses wrong Java version","body":"<p>gradle.properties can be updated to point to the embedded JDK that comes with Android Studio in Mac OS:</p>\n\n<p>org.gradle.java.home=/Applications/Android Studio.app/Contents/jre/jdk/Contents/Home</p>\n"}],"owner":{"account_id":6312504,"reputation":910,"user_id":4903614,"accept_rate":70,"display_name":"Pardeep Kumar"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15977,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":49934024,"answer_count":3,"score":10,"last_activity_date":1647457961,"creation_date":1524197689,"question_id":49933881,"body_markdown":"I am working on an android application using Kotlin. I am running a kotlin linter through command line ./gradlew klint.  \r\nBut it gives me an error:\r\n\r\n&gt; Gradle 4.4 requires Java 7 or later to run. You are currently using Java 6.\r\n\r\nWhen I check the project structure, I am using the embedded JDK.  \r\nI also updated android studio to latest version. I do not know how to update the embedded JDK to latest version.\r\n\r\n`java version`\r\n\r\n&gt; &quot;1.6.0_65&quot; Java(TM) SE Runtime Environment (build 1.6.0_65-b14-468) Java HotSpot(TM) 64-Bit Server VM (build 20.65-b04-468, mixed mode)\r\n\r\n`which java` - /usr/bin/java  \r\n\r\n`echo $PATH` - `/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Users/username/Library/Android/sdk/platform-tools`    \r\n\r\n`echo $JAVA_HOME` - empty\r\n","title":"gradlew uses wrong Java version","body":"<p>I am working on an android application using Kotlin. I am running a kotlin linter through command line ./gradlew klint.<br>\nBut it gives me an error:</p>\n\n<blockquote>\n  <p>Gradle 4.4 requires Java 7 or later to run. You are currently using Java 6.</p>\n</blockquote>\n\n<p>When I check the project structure, I am using the embedded JDK.<br>\nI also updated android studio to latest version. I do not know how to update the embedded JDK to latest version.</p>\n\n<p><code>java version</code></p>\n\n<blockquote>\n  <p>\"1.6.0_65\" Java(TM) SE Runtime Environment (build 1.6.0_65-b14-468) Java HotSpot(TM) 64-Bit Server VM (build 20.65-b04-468, mixed mode)</p>\n</blockquote>\n\n<p><code>which java</code> - /usr/bin/java  </p>\n\n<p><code>echo $PATH</code> - <code>/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Users/username/Library/Android/sdk/platform-tools</code>    </p>\n\n<p><code>echo $JAVA_HOME</code> - empty</p>\n"},{"tags":["java","csv","graph","dijkstra","treeset"],"comments":[{"owner":{"account_id":24480372,"reputation":11,"user_id":18398864,"display_name":"Sero619"},"score":0,"creation_date":1647457441,"post_id":71440740,"comment_id":126379044,"body_markdown":"Could someone look here pls? \nI added a compareTo to the Edge class but now im stuck in a endless loop","body":"Could someone look here pls?  I added a compareTo to the Edge class but now im stuck in a endless loop"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1647457593,"post_id":71440740,"comment_id":126379089,"body_markdown":"Your `compareTo` implementation is broken. It needs to be reflexive, transitive and anti-symmetric.","body":"Your <code>compareTo</code> implementation is broken. It needs to be reflexive, transitive and anti-symmetric."}],"owner":{"account_id":24480372,"reputation":11,"user_id":18398864,"display_name":"Sero619"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647457470,"creation_date":1647011875,"question_id":71440740,"body_markdown":"i have to code the Dijkstra algorithm. We got a blueprint for this project. Meaning we were told the classes, field variables and methods we have to use.\r\n\r\nWe have to read the adjacency matrix from a csv file and then use the Dijkstra algorithm.\r\n\r\nMy problem already begins in in filling the TreeSet&lt;Edge&gt; edges...\r\n\r\nThe problem occurs in Graph.class on line 45 when i try to add the Edges.\r\n\r\nExample for the csv : \r\n\r\n    ;A;B;C;D;E;F;G;H \r\n    A;;1;3;1;;;;  \r\n    B;1;;;;3;3;; \r\n    C;3;;;1;;;1; \r\n    D;1;;1;;1;;2; \r\n    E;;3;;1;;1;;5 \r\n    F;;3;;;1;;;1 \r\n    G;;;1;2;;;;1 \r\n    H;;;;;5;1;1; \r\n    \r\n    =&gt;   \r\n       A -&gt;  (B,1), (C,3), (D,1)\r\n       B -&gt;  (A,1), (E,3), (F,3)\r\n       C -&gt;  (A,3), (D,1), (G,1)\r\n       D -&gt;  (A,1), (C,1), (E,1), (G,2)\r\n       E -&gt;  (B,3), (D,1), (F,1), (H,5)\r\n       F -&gt;  (B,3), (E,1), (H,1)\r\n       G -&gt;  (C,1), (D,2), (H,1)\r\n       H -&gt;  (E,5), (F,1), (G,1) \r\n\r\n \r\n\r\nCould somebody look where my problem is ? My indices are correct i checked them with some sout.\r\n\r\nJust need help with filling in the TreeSet! I want to try the Dijkstra part myself.\r\n\r\n     public class Edge implements  Comparable&lt;Edge&gt;{\r\n\r\n    private int distance;\r\n    private Node neighbour;\r\n\r\n    public Edge(int distance, Node neighbour) {\r\n        this.distance = distance;\r\n        this.neighbour = neighbour;\r\n    }\r\n\r\n    public int getDistance() {\r\n        return distance;\r\n    }\r\n\r\n    public void setDistance(int distance) {\r\n        this.distance = distance;\r\n    }\r\n\r\n    public Node getNeighbour() {\r\n        return neighbour;\r\n    }\r\n\r\n    public void setNeighbour(Node neighbour) {\r\n        this.neighbour = neighbour;\r\n    }\r\n\r\n\r\n    @Override\r\n    public int compareTo(Edge o) {\r\n        if (this.neighbour.getId().equals(o.neighbour.getId())){\r\n            return 0;\r\n        }else{\r\n            return -1;\r\n        }\r\n    }\r\n}\r\n\r\n        \r\n        \r\n  ________________________________________________________________       \r\n        \r\n         import java.util.TreeSet;\r\n        \r\n         public class Node {\r\n        \r\n             private String id;\r\n             private TreeSet&lt;Edge&gt; edges;\r\n             private int distance;\r\n             private Node previous;\r\n             private boolean isVisited;\r\n        \r\n             public Node(String id) {\r\n                 this.id = id;\r\n                 this.edges = new TreeSet&lt;&gt;();\r\n             }\r\n        \r\n             public Node(String id, int distance){\r\n                 this.id = id;\r\n                 this.distance = distance;\r\n             }\r\n        \r\n             @Override\r\n             public String toString() {\r\n                 return &quot;Node{&quot; +\r\n                         &quot;id=&#39;&quot; + id + &#39;\\&#39;&#39; +\r\n                         &quot;, edges=&quot; + edges +\r\n                         &quot;, distance=&quot; + distance +\r\n                         &quot;, previous=&quot; + previous +\r\n                         &quot;, isVisited=&quot; + isVisited +\r\n                         &#39;}&#39;;\r\n             }\r\n        \r\n             public String getPath(){\r\n                 return null;\r\n             }\r\n        \r\n             public void addEdge(Edge e){\r\n                 edges.add(e);\r\n             }\r\n        \r\n             public void init(){\r\n        \r\n             }\r\n        \r\n             public void setStartNode(Node n){\r\n        \r\n             }\r\n        \r\n             public void visit(Node n){\r\n        \r\n             }\r\n        \r\n             public String getId() {\r\n                 return id;\r\n             }     \r\n         }\r\n        \r\n        \r\n        \r\n ________________________________________________________________       \r\n        \r\n        \r\n         import java.io.File;\r\n         import java.io.FileNotFoundException;\r\n         import java.nio.file.Path;\r\n         import java.util.*;\r\n        \r\n         public class Graph {\r\n        \r\n             private PriorityQueue pq;\r\n             private ArrayList&lt;Node&gt; nodes;\r\n        \r\n             public Graph(){\r\n                 this.pq = new PriorityQueue();\r\n                 this.nodes = new ArrayList();\r\n             }\r\n        \r\n             public void readGraphFromAdjacencyMatrixFile(Path file) throws FileNotFoundException {\r\n                 Scanner sc = new Scanner(new File(String.valueOf(file)));\r\n                 ArrayList&lt;String&gt; s = new ArrayList&lt;&gt;();\r\n                 ArrayList&lt;Character&gt; nodesCharacter = new ArrayList&lt;Character&gt;();\r\n                 while (sc.hasNext()){\r\n                     s.add(sc.next());\r\n                 }\r\n                 sc.close();\r\n                 for(char ch: s.get(0).toCharArray()){\r\n                     if (ch != &#39;;&#39; &amp;&amp; ch != &#39;,&#39;) {\r\n                         nodes.add(new Node(Character.toString(ch)));\r\n                         nodesCharacter.add(ch);\r\n                     }\r\n                 }\r\n                 ArrayList&lt;Node&gt; nodes2 = getNodes();\r\n                 String node = &quot;&quot;;\r\n                 int index = 0;\r\n                 for (int i = 1; i &lt; s.size(); i++){\r\n                     int cnt = -2;\r\n                     char[] chArray = s.get(i).toCharArray();\r\n                     for (int j = 0; j &lt; chArray.length; j++){\r\n                         if(j == 0){\r\n                             node = String.valueOf(chArray[j]);\r\n                             index = indexOfNode(String.valueOf((chArray[j])));\r\n                         }\r\n                         else if (j &gt;= 2){\r\n                             if (Character.isDigit(chArray[j])){\r\n                                 int neighbourIndex = indexOfNode(&quot;&quot; + nodesCharacter.get(cnt));\r\n                                 Edge e = new Edge(Character.getNumericValue(chArray[j]), nodes.get(neighbourIndex));\r\n                                 nodes.get(index).addEdge(e);\r\n                                 cnt--;\r\n                             }\r\n                         }\r\n                         cnt ++;\r\n                     }\r\n                 }\r\n             }\r\n        \r\n             public String getAllPAths(){\r\n                 return null;\r\n             }\r\n        \r\n             public void calcWithDijkstra(String startNodeId){\r\n        \r\n             }\r\n        \r\n             public ArrayList&lt;Node&gt; getNodes() {\r\n                 return nodes;\r\n             }\r\n        \r\n             public int indexOfNode(String id){\r\n                 int cnt  = 0;\r\n                 for (int i = 0; i &lt; nodes.size(); i++){\r\n                     if (id.equals(nodes.get(i).getId())){\r\n                         return cnt;\r\n                     }\r\n                     cnt++;\r\n                 }\r\n                 return -1;\r\n             }\r\n        \r\n         }","title":"TreeSet wont add edges","body":"<p>i have to code the Dijkstra algorithm. We got a blueprint for this project. Meaning we were told the classes, field variables and methods we have to use.</p>\n<p>We have to read the adjacency matrix from a csv file and then use the Dijkstra algorithm.</p>\n<p>My problem already begins in in filling the TreeSet edges...</p>\n<p>The problem occurs in Graph.class on line 45 when i try to add the Edges.</p>\n<p>Example for the csv :</p>\n<pre><code>;A;B;C;D;E;F;G;H \nA;;1;3;1;;;;  \nB;1;;;;3;3;; \nC;3;;;1;;;1; \nD;1;;1;;1;;2; \nE;;3;;1;;1;;5 \nF;;3;;;1;;;1 \nG;;;1;2;;;;1 \nH;;;;;5;1;1; \n\n=&gt;   \n   A -&gt;  (B,1), (C,3), (D,1)\n   B -&gt;  (A,1), (E,3), (F,3)\n   C -&gt;  (A,3), (D,1), (G,1)\n   D -&gt;  (A,1), (C,1), (E,1), (G,2)\n   E -&gt;  (B,3), (D,1), (F,1), (H,5)\n   F -&gt;  (B,3), (E,1), (H,1)\n   G -&gt;  (C,1), (D,2), (H,1)\n   H -&gt;  (E,5), (F,1), (G,1) \n</code></pre>\n<p>Could somebody look where my problem is ? My indices are correct i checked them with some sout.</p>\n<p>Just need help with filling in the TreeSet! I want to try the Dijkstra part myself.</p>\n<pre><code> public class Edge implements  Comparable&lt;Edge&gt;{\n\nprivate int distance;\nprivate Node neighbour;\n\npublic Edge(int distance, Node neighbour) {\n    this.distance = distance;\n    this.neighbour = neighbour;\n}\n\npublic int getDistance() {\n    return distance;\n}\n\npublic void setDistance(int distance) {\n    this.distance = distance;\n}\n\npublic Node getNeighbour() {\n    return neighbour;\n}\n\npublic void setNeighbour(Node neighbour) {\n    this.neighbour = neighbour;\n}\n\n\n@Override\npublic int compareTo(Edge o) {\n    if (this.neighbour.getId().equals(o.neighbour.getId())){\n        return 0;\n    }else{\n        return -1;\n    }\n}\n</code></pre>\n<p>}</p>\n<hr />\n<pre><code>     import java.util.TreeSet;\n    \n     public class Node {\n    \n         private String id;\n         private TreeSet&lt;Edge&gt; edges;\n         private int distance;\n         private Node previous;\n         private boolean isVisited;\n    \n         public Node(String id) {\n             this.id = id;\n             this.edges = new TreeSet&lt;&gt;();\n         }\n    \n         public Node(String id, int distance){\n             this.id = id;\n             this.distance = distance;\n         }\n    \n         @Override\n         public String toString() {\n             return &quot;Node{&quot; +\n                     &quot;id='&quot; + id + '\\'' +\n                     &quot;, edges=&quot; + edges +\n                     &quot;, distance=&quot; + distance +\n                     &quot;, previous=&quot; + previous +\n                     &quot;, isVisited=&quot; + isVisited +\n                     '}';\n         }\n    \n         public String getPath(){\n             return null;\n         }\n    \n         public void addEdge(Edge e){\n             edges.add(e);\n         }\n    \n         public void init(){\n    \n         }\n    \n         public void setStartNode(Node n){\n    \n         }\n    \n         public void visit(Node n){\n    \n         }\n    \n         public String getId() {\n             return id;\n         }     \n     }\n    \n    \n    \n</code></pre>\n<hr />\n<pre><code>     import java.io.File;\n     import java.io.FileNotFoundException;\n     import java.nio.file.Path;\n     import java.util.*;\n    \n     public class Graph {\n    \n         private PriorityQueue pq;\n         private ArrayList&lt;Node&gt; nodes;\n    \n         public Graph(){\n             this.pq = new PriorityQueue();\n             this.nodes = new ArrayList();\n         }\n    \n         public void readGraphFromAdjacencyMatrixFile(Path file) throws FileNotFoundException {\n             Scanner sc = new Scanner(new File(String.valueOf(file)));\n             ArrayList&lt;String&gt; s = new ArrayList&lt;&gt;();\n             ArrayList&lt;Character&gt; nodesCharacter = new ArrayList&lt;Character&gt;();\n             while (sc.hasNext()){\n                 s.add(sc.next());\n             }\n             sc.close();\n             for(char ch: s.get(0).toCharArray()){\n                 if (ch != ';' &amp;&amp; ch != ',') {\n                     nodes.add(new Node(Character.toString(ch)));\n                     nodesCharacter.add(ch);\n                 }\n             }\n             ArrayList&lt;Node&gt; nodes2 = getNodes();\n             String node = &quot;&quot;;\n             int index = 0;\n             for (int i = 1; i &lt; s.size(); i++){\n                 int cnt = -2;\n                 char[] chArray = s.get(i).toCharArray();\n                 for (int j = 0; j &lt; chArray.length; j++){\n                     if(j == 0){\n                         node = String.valueOf(chArray[j]);\n                         index = indexOfNode(String.valueOf((chArray[j])));\n                     }\n                     else if (j &gt;= 2){\n                         if (Character.isDigit(chArray[j])){\n                             int neighbourIndex = indexOfNode(&quot;&quot; + nodesCharacter.get(cnt));\n                             Edge e = new Edge(Character.getNumericValue(chArray[j]), nodes.get(neighbourIndex));\n                             nodes.get(index).addEdge(e);\n                             cnt--;\n                         }\n                     }\n                     cnt ++;\n                 }\n             }\n         }\n    \n         public String getAllPAths(){\n             return null;\n         }\n    \n         public void calcWithDijkstra(String startNodeId){\n    \n         }\n    \n         public ArrayList&lt;Node&gt; getNodes() {\n             return nodes;\n         }\n    \n         public int indexOfNode(String id){\n             int cnt  = 0;\n             for (int i = 0; i &lt; nodes.size(); i++){\n                 if (id.equals(nodes.get(i).getId())){\n                     return cnt;\n                 }\n                 cnt++;\n             }\n             return -1;\n         }\n    \n     }\n</code></pre>\n"},{"tags":["java","amazon-web-services","spring-boot","spring-cloud","amazon-sqs"],"comments":[{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1647454109,"post_id":71502075,"comment_id":126377856,"body_markdown":"What you should do is to use AWS SDK for Java V2. You can easily use the V2 API within a Spring BOOT application.","body":"What you should do is to use AWS SDK for Java V2. You can easily use the V2 API within a Spring BOOT application."},{"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1647456382,"post_id":71502075,"comment_id":126378672,"body_markdown":"`spring-cloud-starter-aws-messaging` is up to version `2.2.6` now: https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-starter-aws-messaging. I would start by upgrading that, and you could remove the AWS dependencies to let spring simply pull in what ever version of AWS it needs. However the error itself sounds like a network issue, not a code issue. Does the server where this is running have access to SQS via the Internet, or via a VPC endpoint?","body":"<code>spring-cloud-starter-aws-messaging</code> is up to version <code>2.2.6</code> now: <a href=\"https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-starter-aws-messaging\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.springframework.cloud/&hellip;</a>. I would start by upgrading that, and you could remove the AWS dependencies to let spring simply pull in what ever version of AWS it needs. However the error itself sounds like a network issue, not a code issue. Does the server where this is running have access to SQS via the Internet, or via a VPC endpoint?"},{"owner":{"account_id":2791367,"reputation":131,"user_id":2401547,"accept_rate":50,"display_name":"user2401547"},"score":0,"creation_date":1647457065,"post_id":71502075,"comment_id":126378924,"body_markdown":"@MarkB: The app is being deployed in EC2 instance and it also says unable to retrieve the requested metadata /latest/dynamic/instance-identity/document","body":"@MarkB: The app is being deployed in EC2 instance and it also says unable to retrieve the requested metadata /latest/dynamic/instance-identity/document"}],"owner":{"account_id":2791367,"reputation":131,"user_id":2401547,"accept_rate":50,"display_name":"user2401547"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647457273,"creation_date":1647453109,"question_id":71502075,"body_markdown":"I am trying to connect and publish a message to SQS using IAM role and getting the issue that unable to retrieve requested metadata /latest/dynamic/instance-identity/document and failed to connect to service end point. What else should I do to fix the error that it failed to connect to service endpoint? \r\n\r\n\r\n\r\n            SQSConfig.java\r\n            ====================\r\n            \r\n            @Autowired\r\n            private AWSCredentialsProvider awsCredentialsProvider;\r\n            \r\n            @Bean\r\n            public QueueMessagingTemplate queueMessagingTemplate(){ return new QueueMessagingTemplate(amazonSQSAsync());}\r\n            \r\n            @Primary\r\n            @Bean\r\n            public AmazonSQSAsync amazonSQSAsync(){\r\n                   return AmazonSQSAsyncClientBuilder.stamdard().withRegion(Regions.US_East_1)\r\n                                              .withCredentials(awsCredentialsProviderGet())\r\n                                              .build();}\r\n            \r\n            @Primary\r\n            @Bean\r\n            public AWSCredentialProvider awsCredentialsProviderGet(){AWSSecurityTokenService \r\n                   stsClient=AWSSecurityTokenServiceAsyncClientBuilder.standard()\r\n                              .withCredentials(DefaultAWSCredentialsProviderChain.getInstance()) \r\n                              .withRegion(&quot;us-east-1&quot;)\r\n                              .build();\r\n                \r\n                AssumeRoleRequest asssumeRoleRequest = new \r\n                           AssumeRoleRequest().withDurationSeconds(3600).withRoleArn(&quot;rolename&quot;)\r\n                                .withRoleSessionName(&quot;sqs-session&quot;);\r\n                \r\n                AssumeRoleRequest asssumeRoleRequest = stsClient.assumeRole(asssumeRoleRequest);\r\n                \r\n                Credentials creds = asssumeRoleRequest.getCredentials();\r\n                \r\n                awsCredentialsProvider = new AWSStaticCredentialsProvider\r\n    (new BasicSSessionCredentials(creds.getAccessKeyId,creds.getSecretAccessKey(),creds.getSessionToken()));\r\n                \r\n                }\r\n        \r\nI have the following dependencies in pom.xml\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aws-java-sdk-sqs&lt;/artifactId&gt;\r\n            &lt;version&gt;1.12.169&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aws-java-sdk-sts&lt;/artifactId&gt;\r\n            &lt;version&gt;1.12.172&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-aws-messaging&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n         \r\n\r\n","title":"Spring Cloud AWS SQS failed to connect to service endpoint","body":"<p>I am trying to connect and publish a message to SQS using IAM role and getting the issue that unable to retrieve requested metadata /latest/dynamic/instance-identity/document and failed to connect to service end point. What else should I do to fix the error that it failed to connect to service endpoint?</p>\n<pre><code>        SQSConfig.java\n        ====================\n        \n        @Autowired\n        private AWSCredentialsProvider awsCredentialsProvider;\n        \n        @Bean\n        public QueueMessagingTemplate queueMessagingTemplate(){ return new QueueMessagingTemplate(amazonSQSAsync());}\n        \n        @Primary\n        @Bean\n        public AmazonSQSAsync amazonSQSAsync(){\n               return AmazonSQSAsyncClientBuilder.stamdard().withRegion(Regions.US_East_1)\n                                          .withCredentials(awsCredentialsProviderGet())\n                                          .build();}\n        \n        @Primary\n        @Bean\n        public AWSCredentialProvider awsCredentialsProviderGet(){AWSSecurityTokenService \n               stsClient=AWSSecurityTokenServiceAsyncClientBuilder.standard()\n                          .withCredentials(DefaultAWSCredentialsProviderChain.getInstance()) \n                          .withRegion(&quot;us-east-1&quot;)\n                          .build();\n            \n            AssumeRoleRequest asssumeRoleRequest = new \n                       AssumeRoleRequest().withDurationSeconds(3600).withRoleArn(&quot;rolename&quot;)\n                            .withRoleSessionName(&quot;sqs-session&quot;);\n            \n            AssumeRoleRequest asssumeRoleRequest = stsClient.assumeRole(asssumeRoleRequest);\n            \n            Credentials creds = asssumeRoleRequest.getCredentials();\n            \n            awsCredentialsProvider = new AWSStaticCredentialsProvider\n(new BasicSSessionCredentials(creds.getAccessKeyId,creds.getSecretAccessKey(),creds.getSessionToken()));\n            \n            }\n    \n</code></pre>\n<p>I have the following dependencies in pom.xml</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n        &lt;artifactId&gt;aws-java-sdk-sqs&lt;/artifactId&gt;\n        &lt;version&gt;1.12.169&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n        &lt;artifactId&gt;aws-java-sdk-sts&lt;/artifactId&gt;\n        &lt;version&gt;1.12.172&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-aws-messaging&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n     \n</code></pre>\n"},{"tags":["java","jms","wildfly","activemq-artemis"],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647456300,"creation_date":1647446597,"answer_id":71500396,"question_id":71499856,"body_markdown":"Regarding the `pooled-connection-factory` [the documentation][1] says:\r\n\r\n&gt; It should only be used to _send_ (i.e. produce) messages when looked up in JNDI or injected.\r\n\r\nYou should create a &quot;normal&quot; `connection-factory` for your consumer to use, e.g.:\r\n\r\n```xml\r\n&lt;connection-factory name=&quot;MyConnectionFactory&quot;\r\n                    connectors=&quot;remote-artemis&quot;\r\n                    entries=&quot;java:/jms/MyConnectionFactory&quot; /&gt;\r\n```\r\nOr via the JBoss CLI:\r\n```\r\n/subsystem=messaging-activemq/server=default/connection-factory=MyConnectionFactory:add(connectors=[&quot;remote-artemis&quot;], entries=[&quot;java:/jms/MyConnectionFactory&quot;])\r\n```\r\nThen in your code you could do something like the following:\r\n```java\r\n@Inject\r\n@JMSConnectionFactory(&quot;java:/jms/remoteCF&quot;)\r\nprivate JMSContext context;\r\n\r\n@Inject\r\n@JMSConnectionFactory(&quot;java:/jms/MyConnectionFactory&quot;)\r\nprivate JMSContext consumerContext;\r\n\r\n@Resource(lookup = &quot;java:/queue/testQueue&quot;)\r\nprivate Queue queue;\r\n\r\n@Override\r\nprotected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\r\n    resp.setContentType(&quot;text/html&quot;);\r\n    PrintWriter out = resp.getWriter();\r\n    try {\r\n        out.write(&quot;&lt;p&gt;Sending messages to &lt;em&gt;&quot; + queue + &quot;&lt;/em&gt;&lt;/p&gt;&quot;);\r\n        out.write(&quot;&lt;p&gt;Using context &lt;em&gt;&quot; + context + &quot;&lt;/em&gt;&lt;/p&gt;&quot;);\r\n        out.write(&quot;&lt;h2&gt;The following messages will be sent to the destination:&lt;/h2&gt;&quot;);\r\n        for (int i = 0; i &lt; MSG_COUNT; i++) {\r\n            String text = &quot;This is message &quot; + (i + 1);\r\n            context.createProducer().send(queue, text);\r\n            out.write(&quot;Message (&quot; + i + &quot;): &quot; + text + &quot;&lt;/br&gt;&quot;);\r\n\r\n            try (JMSConsumer consumer = consumerContext.createConsumer(queue)) {\r\n               TextMessage message = (TextMessage) consumer.receive();\r\n               out.write(&quot;Message received (&quot; + i + &quot;): &quot; + message.getText() + &quot;&lt;/br&gt;&quot;);\r\n            }\r\n        }\r\n    } catch (JMSException e) {\r\n        e.printStackTrace();\r\n    } finally {\r\n        if (out != null) {\r\n            out.close();\r\n        }\r\n    }\r\n}\r\n```\r\nIf you need to set credentials on the injected `JMSContext` then you can annotate it with [`@JMSPasswordCredential`][2].\r\n\r\n\r\n  [1]: https://docs.wildfly.org/24/Admin_Guide.html#Messaging\r\n  [2]: https://docs.oracle.com/javaee/7/api/javax/jms/JMSPasswordCredential.html","title":"Wildfly JMS Consumer from remote ActiveMQ Artemis","body":"<p>Regarding the <code>pooled-connection-factory</code> <a href=\"https://docs.wildfly.org/24/Admin_Guide.html#Messaging\" rel=\"nofollow noreferrer\">the documentation</a> says:</p>\n<blockquote>\n<p>It should only be used to <em>send</em> (i.e. produce) messages when looked up in JNDI or injected.</p>\n</blockquote>\n<p>You should create a &quot;normal&quot; <code>connection-factory</code> for your consumer to use, e.g.:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;connection-factory name=&quot;MyConnectionFactory&quot;\n                    connectors=&quot;remote-artemis&quot;\n                    entries=&quot;java:/jms/MyConnectionFactory&quot; /&gt;\n</code></pre>\n<p>Or via the JBoss CLI:</p>\n<pre><code>/subsystem=messaging-activemq/server=default/connection-factory=MyConnectionFactory:add(connectors=[&quot;remote-artemis&quot;], entries=[&quot;java:/jms/MyConnectionFactory&quot;])\n</code></pre>\n<p>Then in your code you could do something like the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Inject\n@JMSConnectionFactory(&quot;java:/jms/remoteCF&quot;)\nprivate JMSContext context;\n\n@Inject\n@JMSConnectionFactory(&quot;java:/jms/MyConnectionFactory&quot;)\nprivate JMSContext consumerContext;\n\n@Resource(lookup = &quot;java:/queue/testQueue&quot;)\nprivate Queue queue;\n\n@Override\nprotected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n    resp.setContentType(&quot;text/html&quot;);\n    PrintWriter out = resp.getWriter();\n    try {\n        out.write(&quot;&lt;p&gt;Sending messages to &lt;em&gt;&quot; + queue + &quot;&lt;/em&gt;&lt;/p&gt;&quot;);\n        out.write(&quot;&lt;p&gt;Using context &lt;em&gt;&quot; + context + &quot;&lt;/em&gt;&lt;/p&gt;&quot;);\n        out.write(&quot;&lt;h2&gt;The following messages will be sent to the destination:&lt;/h2&gt;&quot;);\n        for (int i = 0; i &lt; MSG_COUNT; i++) {\n            String text = &quot;This is message &quot; + (i + 1);\n            context.createProducer().send(queue, text);\n            out.write(&quot;Message (&quot; + i + &quot;): &quot; + text + &quot;&lt;/br&gt;&quot;);\n\n            try (JMSConsumer consumer = consumerContext.createConsumer(queue)) {\n               TextMessage message = (TextMessage) consumer.receive();\n               out.write(&quot;Message received (&quot; + i + &quot;): &quot; + message.getText() + &quot;&lt;/br&gt;&quot;);\n            }\n        }\n    } catch (JMSException e) {\n        e.printStackTrace();\n    } finally {\n        if (out != null) {\n            out.close();\n        }\n    }\n}\n</code></pre>\n<p>If you need to set credentials on the injected <code>JMSContext</code> then you can annotate it with <a href=\"https://docs.oracle.com/javaee/7/api/javax/jms/JMSPasswordCredential.html\" rel=\"nofollow noreferrer\"><code>@JMSPasswordCredential</code></a>.</p>\n"}],"owner":{"account_id":2052406,"reputation":772,"user_id":1831098,"accept_rate":70,"display_name":"M.Puk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":885,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71500396,"answer_count":1,"score":2,"last_activity_date":1647456300,"creation_date":1647444534,"question_id":71499856,"body_markdown":"I am trying to implement simple JMS Producer and Consumer within Wildfly(Version 24) and remote ActiveMQ Artemis broker.\r\n\r\n**standalone.xml**\r\n```xml\r\n&lt;subsystem xmlns=&quot;urn:jboss:domain:messaging-activemq:13.0&quot;&gt;\r\n    &lt;remote-connector name=&quot;remote-artemis&quot; socket-binding=&quot;remote-artemis&quot;/&gt;\r\n    &lt;pooled-connection-factory\r\n        name=&quot;remote-artemis&quot;\r\n        entries=&quot;java:/jms/remoteCF&quot; \r\n        connectors=&quot;remote-artemis&quot; \r\n        client-id=&quot;producer-pooled-connection-factory&quot;\r\n        user=&quot;${artemismq.user}&quot;\r\n        password=&quot;${artemismq.password}&quot;\r\n        enable-amq1-prefix=&quot;true&quot;\r\n    /&gt;\r\n    &lt;external-jms-queue name=&quot;testQueue&quot; entries=&quot;java:/queue/testQueue&quot;/&gt;\r\n&lt;/subsystem&gt;\r\n\r\n&lt;socket-binding-group name=&quot;standard-sockets&quot; default-interface=&quot;public&quot; port-offset=&quot;${jboss.socket.binding.port-offset:0}&quot;&gt;\r\n    &lt;socket-binding name=&quot;ajp&quot; port=&quot;${jboss.ajp.port:8009}&quot;/&gt;\r\n    &lt;socket-binding name=&quot;http&quot; port=&quot;${jboss.http.port:8080}&quot;/&gt;\r\n    &lt;socket-binding name=&quot;https&quot; port=&quot;${jboss.https.port:8443}&quot;/&gt;\r\n    &lt;socket-binding name=&quot;management-http&quot; interface=&quot;management&quot; port=&quot;${jboss.management.http.port:9990}&quot;/&gt;\r\n    &lt;socket-binding name=&quot;management-https&quot; interface=&quot;management&quot; port=&quot;${jboss.management.https.port:9993}&quot;/&gt;\r\n    &lt;socket-binding name=&quot;txn-recovery-environment&quot; port=&quot;4712&quot;/&gt;\r\n    &lt;socket-binding name=&quot;txn-status-manager&quot; port=&quot;4713&quot;/&gt;\r\n    &lt;outbound-socket-binding name=&quot;mail-smtp&quot;&gt;\r\n        &lt;remote-destination host=&quot;${jboss.mail.server.host:localhost}&quot; port=&quot;${jboss.mail.server.port:25}&quot;/&gt;\r\n    &lt;/outbound-socket-binding&gt;\r\n    &lt;outbound-socket-binding name=&quot;remote-artemis&quot;&gt;\r\n        &lt;remote-destination host=&quot;${artemismq.host}&quot; port=&quot;${artemismq.port}&quot;/&gt;\r\n    &lt;/outbound-socket-binding&gt;\r\n&lt;/socket-binding-group&gt;\r\n```\r\n\r\n**Producer and Consumer**\r\n```java\r\n    @Inject\r\n    @JMSConnectionFactory(&quot;java:/jms/remoteCF&quot;)\r\n    private JMSContext context;\r\n\r\n    @Resource(lookup = &quot;java:/queue/testQueue&quot;)\r\n    private Queue queue;\r\n\r\n    @Override\r\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\r\n        resp.setContentType(&quot;text/html&quot;);\r\n        PrintWriter out = resp.getWriter();\r\n        try {\r\n            out.write(&quot;&lt;p&gt;Sending messages to &lt;em&gt;&quot; + queue + &quot;&lt;/em&gt;&lt;/p&gt;&quot;);\r\n            out.write(&quot;&lt;p&gt;Using context &lt;em&gt;&quot; + context + &quot;&lt;/em&gt;&lt;/p&gt;&quot;);\r\n            out.write(&quot;&lt;h2&gt;The following messages will be sent to the destination:&lt;/h2&gt;&quot;);\r\n            for (int i = 0; i &lt; MSG_COUNT; i++) {\r\n                String text = &quot;This is message &quot; + (i + 1);\r\n                context.createProducer().send(queue, text);\r\n                out.write(&quot;Message (&quot; + i + &quot;): &quot; + text + &quot;&lt;/br&gt;&quot;);\r\n\r\n                JMSConsumer consumer = context.createConsumer(queue);\r\n                TextMessage message = (TextMessage) consumer.receive();\r\n                out.write(&quot;Message received (&quot; + i + &quot;): &quot; + message.getText() + &quot;&lt;/br&gt;&quot;);\r\n            }\r\n        } catch (JMSException e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            if (out != null) {\r\n                out.close();\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\n**Misc:**\r\nProducer alone works.\r\n\r\n**Result:**\r\nFirst message is received by broker but consumption is not executed and nothing happens(no logs).","title":"Wildfly JMS Consumer from remote ActiveMQ Artemis","body":"<p>I am trying to implement simple JMS Producer and Consumer within Wildfly(Version 24) and remote ActiveMQ Artemis broker.</p>\n<p><strong>standalone.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;subsystem xmlns=&quot;urn:jboss:domain:messaging-activemq:13.0&quot;&gt;\n    &lt;remote-connector name=&quot;remote-artemis&quot; socket-binding=&quot;remote-artemis&quot;/&gt;\n    &lt;pooled-connection-factory\n        name=&quot;remote-artemis&quot;\n        entries=&quot;java:/jms/remoteCF&quot; \n        connectors=&quot;remote-artemis&quot; \n        client-id=&quot;producer-pooled-connection-factory&quot;\n        user=&quot;${artemismq.user}&quot;\n        password=&quot;${artemismq.password}&quot;\n        enable-amq1-prefix=&quot;true&quot;\n    /&gt;\n    &lt;external-jms-queue name=&quot;testQueue&quot; entries=&quot;java:/queue/testQueue&quot;/&gt;\n&lt;/subsystem&gt;\n\n&lt;socket-binding-group name=&quot;standard-sockets&quot; default-interface=&quot;public&quot; port-offset=&quot;${jboss.socket.binding.port-offset:0}&quot;&gt;\n    &lt;socket-binding name=&quot;ajp&quot; port=&quot;${jboss.ajp.port:8009}&quot;/&gt;\n    &lt;socket-binding name=&quot;http&quot; port=&quot;${jboss.http.port:8080}&quot;/&gt;\n    &lt;socket-binding name=&quot;https&quot; port=&quot;${jboss.https.port:8443}&quot;/&gt;\n    &lt;socket-binding name=&quot;management-http&quot; interface=&quot;management&quot; port=&quot;${jboss.management.http.port:9990}&quot;/&gt;\n    &lt;socket-binding name=&quot;management-https&quot; interface=&quot;management&quot; port=&quot;${jboss.management.https.port:9993}&quot;/&gt;\n    &lt;socket-binding name=&quot;txn-recovery-environment&quot; port=&quot;4712&quot;/&gt;\n    &lt;socket-binding name=&quot;txn-status-manager&quot; port=&quot;4713&quot;/&gt;\n    &lt;outbound-socket-binding name=&quot;mail-smtp&quot;&gt;\n        &lt;remote-destination host=&quot;${jboss.mail.server.host:localhost}&quot; port=&quot;${jboss.mail.server.port:25}&quot;/&gt;\n    &lt;/outbound-socket-binding&gt;\n    &lt;outbound-socket-binding name=&quot;remote-artemis&quot;&gt;\n        &lt;remote-destination host=&quot;${artemismq.host}&quot; port=&quot;${artemismq.port}&quot;/&gt;\n    &lt;/outbound-socket-binding&gt;\n&lt;/socket-binding-group&gt;\n</code></pre>\n<p><strong>Producer and Consumer</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Inject\n    @JMSConnectionFactory(&quot;java:/jms/remoteCF&quot;)\n    private JMSContext context;\n\n    @Resource(lookup = &quot;java:/queue/testQueue&quot;)\n    private Queue queue;\n\n    @Override\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n        resp.setContentType(&quot;text/html&quot;);\n        PrintWriter out = resp.getWriter();\n        try {\n            out.write(&quot;&lt;p&gt;Sending messages to &lt;em&gt;&quot; + queue + &quot;&lt;/em&gt;&lt;/p&gt;&quot;);\n            out.write(&quot;&lt;p&gt;Using context &lt;em&gt;&quot; + context + &quot;&lt;/em&gt;&lt;/p&gt;&quot;);\n            out.write(&quot;&lt;h2&gt;The following messages will be sent to the destination:&lt;/h2&gt;&quot;);\n            for (int i = 0; i &lt; MSG_COUNT; i++) {\n                String text = &quot;This is message &quot; + (i + 1);\n                context.createProducer().send(queue, text);\n                out.write(&quot;Message (&quot; + i + &quot;): &quot; + text + &quot;&lt;/br&gt;&quot;);\n\n                JMSConsumer consumer = context.createConsumer(queue);\n                TextMessage message = (TextMessage) consumer.receive();\n                out.write(&quot;Message received (&quot; + i + &quot;): &quot; + message.getText() + &quot;&lt;/br&gt;&quot;);\n            }\n        } catch (JMSException e) {\n            e.printStackTrace();\n        } finally {\n            if (out != null) {\n                out.close();\n            }\n        }\n    }\n</code></pre>\n<p><strong>Misc:</strong>\nProducer alone works.</p>\n<p><strong>Result:</strong>\nFirst message is received by broker but consumption is not executed and nothing happens(no logs).</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":7292020,"reputation":868,"user_id":5558106,"display_name":"Serg Vasylchak"},"score":0,"creation_date":1646949179,"post_id":71430404,"comment_id":126256944,"body_markdown":"Strange the behavior is environment-dependant. You don&#39;t have any Spring `profiles` and profile-dependant configurations in your project, do you?","body":"Strange the behavior is environment-dependant. You don&#39;t have any Spring <code>profiles</code> and profile-dependant configurations in your project, do you?"},{"owner":{"account_id":10270000,"reputation":21,"user_id":16871067,"display_name":"pwilson"},"score":0,"creation_date":1646950170,"post_id":71430404,"comment_id":126257189,"body_markdown":"I do, the controller and service classes are under a profile, but the profile appears to be activated in both environments since the rest of the class&#39;s code is operating as intended. The live environment has a slightly different set of profiles, but since the other profiles should be completely independent of this, I would assume it should have no effect on this profile. Currently investigating whether that assumption is true.","body":"I do, the controller and service classes are under a profile, but the profile appears to be activated in both environments since the rest of the class&#39;s code is operating as intended. The live environment has a slightly different set of profiles, but since the other profiles should be completely independent of this, I would assume it should have no effect on this profile. Currently investigating whether that assumption is true."},{"owner":{"account_id":7292020,"reputation":868,"user_id":5558106,"display_name":"Serg Vasylchak"},"score":0,"creation_date":1646950437,"post_id":71430404,"comment_id":126257251,"body_markdown":"Have a thorough look at profile-dependant configuration classes. Some profiles may disable or not enable the scheduling which would cause your service to initialize but not to put a scheduler on. I would also look at profile `.yml` or `.properties` configurations","body":"Have a thorough look at profile-dependant configuration classes. Some profiles may disable or not enable the scheduling which would cause your service to initialize but not to put a scheduler on. I would also look at profile <code>.yml</code> or <code>.properties</code> configurations"},{"owner":{"account_id":16000784,"reputation":301,"user_id":11547512,"display_name":"Anthony Cathers"},"score":0,"creation_date":1646957592,"post_id":71430404,"comment_id":126258532,"body_markdown":"One thing to check if all else fails is your system clock. If it&#39;s running on a VM you can get some weird clock drift that would mess things up.","body":"One thing to check if all else fails is your system clock. If it&#39;s running on a VM you can get some weird clock drift that would mess things up."}],"answers":[{"tags":[],"owner":{"account_id":10270000,"reputation":21,"user_id":16871067,"display_name":"pwilson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647456097,"creation_date":1647456097,"answer_id":71502716,"question_id":71430404,"body_markdown":"The problem was caused by an ID-10T error. `//Do Stuff...` early on looks for a file that may or may not be there, and short circuits as intended when the file isn&#39;t there. The file was provided and the silent short circuit in a live environment made it appear as if the scheduled task was simply never running. The issue was that I provided the file to the incorrect subdirectory, putting said file into the correct directory solved the issue.","title":"Spring @Scheduled working locally, but not in live server","body":"<p>The problem was caused by an ID-10T error. <code>//Do Stuff...</code> early on looks for a file that may or may not be there, and short circuits as intended when the file isn't there. The file was provided and the silent short circuit in a live environment made it appear as if the scheduled task was simply never running. The issue was that I provided the file to the incorrect subdirectory, putting said file into the correct directory solved the issue.</p>\n"}],"owner":{"account_id":10270000,"reputation":21,"user_id":16871067,"display_name":"pwilson"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":602,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71502716,"answer_count":1,"score":1,"last_activity_date":1647456097,"creation_date":1646944121,"question_id":71430404,"body_markdown":"I have a rest service that is supposed to call a function using @Scheduled. The other functions in `MyService` work as intended locally and in live, just not the scheduled function. Any ideas on what I am missing here that would cause it to fail only in live? \r\n```java\r\n@Configuration\r\n@EnableScheduling\r\n@EnableAsync\r\n@ComponentScan(basePackages = &quot;elsewhere.yyy.yyy&quot;)\r\npublic class ApplicationConfiguration {\r\n}\r\n\r\n@RestController\r\npublic class MyController {\r\n    @Autowired\r\n    MyService service;\r\n}\r\n\r\n@Service\r\npublic class MyService {\r\n    @Async\r\n    @Scheduled(fixedRate = 30000, initialDelay = 10000)\r\n    public void myTask() {\r\n        // Do stuff...\r\n    }\r\n}\r\n```\r\nI turned on debug logging, but am seeing no `org.springframework.scheduling.*` logs, my theory should be that spring just isn&#39;t seeing `@Scheduled` for some reason and is thus not running it, but it is working perfectly fine locally! My other theory is that `@Async` might be causing an unexpected interaction, but it doesn&#39;t make sense to me that it would cause the function to disappear in live only... The good(?) news is that is consistently not working in live and consistently working locally.\r\n\r\nI&#39;m using Spring Boot version 2.5.1 ","title":"Spring @Scheduled working locally, but not in live server","body":"<p>I have a rest service that is supposed to call a function using @Scheduled. The other functions in <code>MyService</code> work as intended locally and in live, just not the scheduled function. Any ideas on what I am missing here that would cause it to fail only in live?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableScheduling\n@EnableAsync\n@ComponentScan(basePackages = &quot;elsewhere.yyy.yyy&quot;)\npublic class ApplicationConfiguration {\n}\n\n@RestController\npublic class MyController {\n    @Autowired\n    MyService service;\n}\n\n@Service\npublic class MyService {\n    @Async\n    @Scheduled(fixedRate = 30000, initialDelay = 10000)\n    public void myTask() {\n        // Do stuff...\n    }\n}\n</code></pre>\n<p>I turned on debug logging, but am seeing no <code>org.springframework.scheduling.*</code> logs, my theory should be that spring just isn't seeing <code>@Scheduled</code> for some reason and is thus not running it, but it is working perfectly fine locally! My other theory is that <code>@Async</code> might be causing an unexpected interaction, but it doesn't make sense to me that it would cause the function to disappear in live only... The good(?) news is that is consistently not working in live and consistently working locally.</p>\n<p>I'm using Spring Boot version 2.5.1</p>\n"},{"tags":["java","c#",".net","recursion"],"comments":[{"owner":{"account_id":1363656,"reputation":902,"user_id":1300543,"accept_rate":25,"display_name":"Izikon"},"score":0,"creation_date":1647452075,"post_id":71501733,"comment_id":126377114,"body_markdown":"can you also share BinaryTree and Node class?","body":"can you also share BinaryTree and Node class?"},{"owner":{"account_id":1363656,"reputation":902,"user_id":1300543,"accept_rate":25,"display_name":"Izikon"},"score":0,"creation_date":1647452194,"post_id":71501733,"comment_id":126377167,"body_markdown":"Should it be return (t1.data == t2.data)\n                &amp;&amp; FindAllNodes(t1.left, t2.left)\n                &amp;&amp; FindAllNodes(t2.right, t2.right);?","body":"Should it be return (t1.data == t2.data)                 &amp;&amp; FindAllNodes(t1.left, t2.left)                 &amp;&amp; FindAllNodes(t2.right, t2.right);?"},{"owner":{"account_id":21148370,"reputation":13,"user_id":15549215,"display_name":"User1267"},"score":0,"creation_date":1647452569,"post_id":71501733,"comment_id":126377294,"body_markdown":"@Izikon no, they is no problem with the logic","body":"@Izikon no, they is no problem with the logic"}],"answers":[{"tags":[],"owner":{"account_id":1363656,"reputation":902,"user_id":1300543,"accept_rate":25,"display_name":"Izikon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647456025,"creation_date":1647456025,"answer_id":71502694,"question_id":71501733,"body_markdown":"yes you have...\r\n\r\n     public bool FindAllNodes(Node t1, Node t2)\r\n        {\r\n            if (t1 == null &amp;&amp; t2 == null) return true;\r\n            if (t1 == null || t2 == null) return false;\r\n            return (t1.data == t2.data)\r\n                &amp;&amp; FindAllNodes(t1.right, t2.right)\r\n                &amp;&amp; FindAllNodes(t1.left, t2.left);\r\n        }\r\n\r\nchecked it few times\r\n","title":"Symmetric binary tree called recursively","body":"<p>yes you have...</p>\n<pre><code> public bool FindAllNodes(Node t1, Node t2)\n    {\n        if (t1 == null &amp;&amp; t2 == null) return true;\n        if (t1 == null || t2 == null) return false;\n        return (t1.data == t2.data)\n            &amp;&amp; FindAllNodes(t1.right, t2.right)\n            &amp;&amp; FindAllNodes(t1.left, t2.left);\n    }\n</code></pre>\n<p>checked it few times</p>\n"}],"owner":{"account_id":21148370,"reputation":13,"user_id":15549215,"display_name":"User1267"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647456025,"creation_date":1647451725,"question_id":71501733,"body_markdown":"  \r\nIn the below recursive function **FindAllNodes** , will the condition in return **t1.data == t2.dat**a be called every node multiple times? Because if the current node is &quot;2&quot; then recursively the control goes to the child nodes and once again comes back to &quot;2&quot; . So will the if condition be called multiple times for the same node? I have a bit of confusion in understanding recursive functions when it involves multiple recursions along with conditions in the return statement\r\n\r\n\r\n     public class Node\r\n        {\r\n            public int data;\r\n            public Node left, right;\r\n            public int level;\r\n    \r\n            public Node(int item)\r\n            {\r\n                data = item;\r\n                left = right = null;\r\n                level = 0;\r\n            }\r\n        }\r\n        public class BinaryTree\r\n        {\r\n            // Root of the Binary Tree\r\n            Node root;\r\n    \r\n            public bool FindAllNodes(Node t1, Node t2)\r\n            {\r\n                if (t1 == null &amp;&amp; t2 == null) return true;\r\n                if (t1 == null || t2 == null) return false;\r\n                \r\n                return (t1.data == t2.data)\r\n                    &amp;&amp; FindAllNodes(t1.right, t2.left)\r\n                    &amp;&amp; FindAllNodes(t2.left, t2.right);\r\n            }\r\n    \r\n            static void Main(string[] args)\r\n            {\r\n                BinaryTree tree = new BinaryTree();\r\n                tree.root = new Node(1);\r\n                tree.root.left = new Node(2);\r\n                tree.root.right = new Node(2);\r\n                tree.root.left.left = new Node(3);\r\n                tree.root.left.right = new Node(4);\r\n                tree.root.right.left = new Node(4);\r\n                tree.root.right.right = new Node(3);\r\n    \r\n                bool isSymmetric = tree.FindAllNodes(tree.root, tree.root);\r\n    \r\n            }\r\n        }","title":"Symmetric binary tree called recursively","body":"<p>In the below recursive function <strong>FindAllNodes</strong> , will the condition in return <strong>t1.data == t2.dat</strong>a be called every node multiple times? Because if the current node is &quot;2&quot; then recursively the control goes to the child nodes and once again comes back to &quot;2&quot; . So will the if condition be called multiple times for the same node? I have a bit of confusion in understanding recursive functions when it involves multiple recursions along with conditions in the return statement</p>\n<pre><code> public class Node\n    {\n        public int data;\n        public Node left, right;\n        public int level;\n\n        public Node(int item)\n        {\n            data = item;\n            left = right = null;\n            level = 0;\n        }\n    }\n    public class BinaryTree\n    {\n        // Root of the Binary Tree\n        Node root;\n\n        public bool FindAllNodes(Node t1, Node t2)\n        {\n            if (t1 == null &amp;&amp; t2 == null) return true;\n            if (t1 == null || t2 == null) return false;\n            \n            return (t1.data == t2.data)\n                &amp;&amp; FindAllNodes(t1.right, t2.left)\n                &amp;&amp; FindAllNodes(t2.left, t2.right);\n        }\n\n        static void Main(string[] args)\n        {\n            BinaryTree tree = new BinaryTree();\n            tree.root = new Node(1);\n            tree.root.left = new Node(2);\n            tree.root.right = new Node(2);\n            tree.root.left.left = new Node(3);\n            tree.root.left.right = new Node(4);\n            tree.root.right.left = new Node(4);\n            tree.root.right.right = new Node(3);\n\n            bool isSymmetric = tree.FindAllNodes(tree.root, tree.root);\n\n        }\n    }\n</code></pre>\n"},{"tags":["java","java-8"],"answers":[{"tags":[],"owner":{"account_id":14627561,"reputation":1444,"user_id":10564458,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647429134,"creation_date":1647429134,"answer_id":71496074,"question_id":71495980,"body_markdown":"\r\n```java\r\nlist.stream()\r\n    .filter(x -&gt; x != 5)           // filter out the number 5 before incrementing the numbers. Put this statement 2 lines below if you want to remove 5 after incrementing\r\n    .map(x -&gt; x + 1)               // add 1 to each number\r\n    .collect(Collectors.toList()); // create list from stream\r\n```","title":"Java 8 stream add 1 to each element and remove if element is 5 in the list","body":"<pre class=\"lang-java prettyprint-override\"><code>list.stream()\n    .filter(x -&gt; x != 5)           // filter out the number 5 before incrementing the numbers. Put this statement 2 lines below if you want to remove 5 after incrementing\n    .map(x -&gt; x + 1)               // add 1 to each number\n    .collect(Collectors.toList()); // create list from stream\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15769823,"reputation":145,"user_id":11379189,"display_name":"Michele Verriello"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647455945,"creation_date":1647429346,"answer_id":71496122,"question_id":71495980,"body_markdown":"   You can use the removeIf method, is a simple method of the ArrayList Class. You can follow this link for a clear explanation. https://www.geeksforgeeks.org/arraylist-removeif-method-in-java/ \r\n\r\nYou can use this method sooner or later according to your needs.\r\n\r\n    List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n\r\n    for(int i = 0; i &lt; list.size(); i++) {\r\n       list.set(i, list.get(i) + 1);\r\n    }\r\n\r\n    list.removeIf(n -&gt; (n == 5)); //removeIf method","title":"Java 8 stream add 1 to each element and remove if element is 5 in the list","body":"<p>You can use the removeIf method, is a simple method of the ArrayList Class. You can follow this link for a clear explanation. <a href=\"https://www.geeksforgeeks.org/arraylist-removeif-method-in-java/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/arraylist-removeif-method-in-java/</a></p>\n<p>You can use this method sooner or later according to your needs.</p>\n<pre><code>List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n\nfor(int i = 0; i &lt; list.size(); i++) {\n   list.set(i, list.get(i) + 1);\n}\n\nlist.removeIf(n -&gt; (n == 5)); //removeIf method\n</code></pre>\n"}],"owner":{"account_id":4354826,"reputation":115,"user_id":17031361,"display_name":"Ashok Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":741,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71496074,"answer_count":2,"score":0,"last_activity_date":1647455945,"creation_date":1647428714,"question_id":71495980,"body_markdown":"```\r\nList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\nfor(int i=0;i&lt;20;i++) {\r\n   list.add(i)\r\n}\r\n```\r\nHere I would like to add +1 to each element and remove element from the list if the element is 5.","title":"Java 8 stream add 1 to each element and remove if element is 5 in the list","body":"<pre><code>List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\nfor(int i=0;i&lt;20;i++) {\n   list.add(i)\n}\n</code></pre>\n<p>Here I would like to add +1 to each element and remove element from the list if the element is 5.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":1261134,"reputation":8171,"user_id":1219389,"accept_rate":100,"display_name":"PPartisan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647455607,"creation_date":1647455279,"answer_id":71502528,"question_id":71502335,"body_markdown":"Regex seems the way to go:\r\n\r\n    final String pattern = &quot;(^\\\\D+)(\\\\d+(?:JAN|FEB|MAR|APR|JUN|JUL|AUG|SEP|OCT|NOV|DEC))(.*$)&quot;;\r\n    final String spaced = item.getSymbol().replaceAll(pattern, &quot;$1 $2 $3&quot;);\r\n    holder.binding.symbolNameTextView.setText(spaced);","title":"How to split string into java and android or add spaces while showing in UI","body":"<p>Regex seems the way to go:</p>\n<pre><code>final String pattern = &quot;(^\\\\D+)(\\\\d+(?:JAN|FEB|MAR|APR|JUN|JUL|AUG|SEP|OCT|NOV|DEC))(.*$)&quot;;\nfinal String spaced = item.getSymbol().replaceAll(pattern, &quot;$1 $2 $3&quot;);\nholder.binding.symbolNameTextView.setText(spaced);\n</code></pre>\n"}],"owner":{"account_id":1257853,"reputation":9002,"user_id":1216931,"accept_rate":47,"display_name":"Devesh Agrawal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647455607,"creation_date":1647454271,"question_id":71502335,"body_markdown":"While calling this function item.getSymbol(), it returns data in this format.\r\n\r\n    ITC22JAN200PE\r\n    HINDUNILVR22JAN2300PE\r\n    ASIANPAINT22MAR2500PE\r\n\r\nUI also shows same format in android.\r\n\r\n    holder.binding.symbolNameTextView.setText(item.getSymbol());\r\n\r\nI want to show symbols in UI like this.\r\n\r\n    ITC 22JAN 200PE\r\n    HINDUNILVR 22JAN 2300PE\r\n    ASIANPAINT 22MAR 2500PE\r\n\r\nHow to add spaces after stock name and expiry?\r\n","title":"How to split string into java and android or add spaces while showing in UI","body":"<p>While calling this function item.getSymbol(), it returns data in this format.</p>\n<pre><code>ITC22JAN200PE\nHINDUNILVR22JAN2300PE\nASIANPAINT22MAR2500PE\n</code></pre>\n<p>UI also shows same format in android.</p>\n<pre><code>holder.binding.symbolNameTextView.setText(item.getSymbol());\n</code></pre>\n<p>I want to show symbols in UI like this.</p>\n<pre><code>ITC 22JAN 200PE\nHINDUNILVR 22JAN 2300PE\nASIANPAINT 22MAR 2500PE\n</code></pre>\n<p>How to add spaces after stock name and expiry?</p>\n"},{"tags":["java","spring","jpa","spring-data"],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647423398,"creation_date":1647423398,"answer_id":71494655,"question_id":71494004,"body_markdown":"You can use interface projections with custom queries. If this is the interface:\r\n```\r\npublic interface MyView {\r\n\r\n  int getCount();\r\n  String getName();\r\n}\r\n```\r\nThen you can make a query like this:\r\n```\r\n@Repository\r\npublic interface MyRepository extends JpaRepository&lt;Entity, Long&gt; {\r\n\r\n  @Query(&quot;SELECT e.some_count AS count, e.name FROM Entity AS e WHERE e.id IN :ids&quot;)\r\n  List&lt;MyView&gt; findViews(List&lt;Long&gt; ids);\r\n}\r\n```\r\nInterface projections work with custom queries, be it JPA or native. Just the column name must match method name, as in example. I have not used nested projections yet, but i don&#39;t see a reason why they wouldn&#39;t work.\r\n\r\nAlso found this [question][1] about nested projections, which should help.\r\n\r\n  [1]: https://stackoverflow.com/questions/49866304/spring-data-projection-and-query-nested-property","title":"Nested JPA projection using custom query","body":"<p>You can use interface projections with custom queries. If this is the interface:</p>\n<pre><code>public interface MyView {\n\n  int getCount();\n  String getName();\n}\n</code></pre>\n<p>Then you can make a query like this:</p>\n<pre><code>@Repository\npublic interface MyRepository extends JpaRepository&lt;Entity, Long&gt; {\n\n  @Query(&quot;SELECT e.some_count AS count, e.name FROM Entity AS e WHERE e.id IN :ids&quot;)\n  List&lt;MyView&gt; findViews(List&lt;Long&gt; ids);\n}\n</code></pre>\n<p>Interface projections work with custom queries, be it JPA or native. Just the column name must match method name, as in example. I have not used nested projections yet, but i don't see a reason why they wouldn't work.</p>\n<p>Also found this <a href=\"https://stackoverflow.com/questions/49866304/spring-data-projection-and-query-nested-property\">question</a> about nested projections, which should help.</p>\n"},{"tags":[],"owner":{"account_id":10435634,"reputation":220,"user_id":7694025,"display_name":"Bessem Manita"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647455544,"creation_date":1647442925,"answer_id":71499403,"question_id":71494004,"body_markdown":"You can use **Hibernate ResultTransformer**. This article from Vlad mihalcea presents an example of how to [customize result set mappings][1].\r\n\r\n\r\n  [1]: https://vladmihalcea.com/why-you-should-use-the-hibernate-resulttransformer-to-customize-result-set-mappings/","title":"Nested JPA projection using custom query","body":"<p>You can use <strong>Hibernate ResultTransformer</strong>. This article from Vlad mihalcea presents an example of how to <a href=\"https://vladmihalcea.com/why-you-should-use-the-hibernate-resulttransformer-to-customize-result-set-mappings/\" rel=\"nofollow noreferrer\">customize result set mappings</a>.</p>\n"}],"owner":{"account_id":1059597,"reputation":24002,"user_id":1061499,"accept_rate":84,"display_name":"davioooh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4539,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1647455544,"creation_date":1647420312,"question_id":71494004,"body_markdown":"I&#39;m new to Spring Data projection and I&#39;m trying to use this feature in a new project.\r\n\r\nIn particular I&#39;d like to use projections on a repo method associated to a complex query.\r\n\r\nI annotated my method with the `@Query` annotation and declared a JPA query with several joined tables/entities and a complex where condition.\r\n\r\nIn [this article][1] I read that is possible to use an interface-based projection and a class-based projection, but only the first one supports nested projections.\r\n\r\n**I need nested projection** but it seems that this feature is only supported using interface-based projections, and this approach is only possible with auto-generated query methods and not using explicit JPA queries. Is this right?\r\n\r\nIs there a way to use interface-based projections using custom JPA queries?\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-data-jpa-projections","title":"Nested JPA projection using custom query","body":"<p>I'm new to Spring Data projection and I'm trying to use this feature in a new project.</p>\n<p>In particular I'd like to use projections on a repo method associated to a complex query.</p>\n<p>I annotated my method with the <code>@Query</code> annotation and declared a JPA query with several joined tables/entities and a complex where condition.</p>\n<p>In <a href=\"https://www.baeldung.com/spring-data-jpa-projections\" rel=\"nofollow noreferrer\">this article</a> I read that is possible to use an interface-based projection and a class-based projection, but only the first one supports nested projections.</p>\n<p><strong>I need nested projection</strong> but it seems that this feature is only supported using interface-based projections, and this approach is only possible with auto-generated query methods and not using explicit JPA queries. Is this right?</p>\n<p>Is there a way to use interface-based projections using custom JPA queries?</p>\n"},{"tags":["java","stream","collectors"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1647450677,"post_id":71501365,"comment_id":126376542,"body_markdown":"Can you explain a bit more in detail, what your code should do actually? Maybe also add an example of input and desired output.","body":"Can you explain a bit more in detail, what your code should do actually? Maybe also add an example of input and desired output."},{"owner":{"account_id":3683024,"reputation":506,"user_id":3067524,"accept_rate":63,"display_name":"user3067524"},"score":0,"creation_date":1647450922,"post_id":71501365,"comment_id":126376634,"body_markdown":"Input is a list of Data objects. Data object has attributes inside of it. Above code is able to filetr by &quot;Action&quot; attrubute and returns a list. I just need to add one more filer to the code. I am going to write a smaple code and post  in few minutes.","body":"Input is a list of Data objects. Data object has attributes inside of it. Above code is able to filetr by &quot;Action&quot; attrubute and returns a list. I just need to add one more filer to the code. I am going to write a smaple code and post  in few minutes."},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1647453599,"post_id":71501365,"comment_id":126377666,"body_markdown":"Does your `Data` class only have the two fields `addressID  &amp; action` or are there more? Are both fields strings like shown in your code or was is just an example?","body":"Does your <code>Data</code> class only have the two fields <code>addressID  &amp; action</code> or are there more? Are both fields strings like shown in your code or was is just an example?"},{"owner":{"account_id":3683024,"reputation":506,"user_id":3067524,"accept_rate":63,"display_name":"user3067524"},"score":0,"creation_date":1647453687,"post_id":71501365,"comment_id":126377701,"body_markdown":"It has more values but I just want to filter by two values and both are String values. Above is an example.","body":"It has more values but I just want to filter by two values and both are String values. Above is an example."},{"owner":{"account_id":24557454,"reputation":146,"user_id":18465761,"display_name":"Zeke Rogers"},"score":1,"creation_date":1647454500,"post_id":71501365,"comment_id":126378008,"body_markdown":"Have you tried adding a second comparator, ie: Comparator.comparing(Data::getAction).thenComparing(Comparator.comparing(Data::otherMethod)","body":"Have you tried adding a second comparator, ie: Comparator.comparing(Data::getAction).thenComparing(Comparat&zwnj;&#8203;or.comparing(Data::o&zwnj;&#8203;therMethod)"},{"owner":{"account_id":3683024,"reputation":506,"user_id":3067524,"accept_rate":63,"display_name":"user3067524"},"score":1,"creation_date":1647454916,"post_id":71501365,"comment_id":126378150,"body_markdown":"@Zeke Rogers. That&#39;s it. It worked. Thank you so much.Pleas put that as a solution. I will accept it.","body":"@Zeke Rogers. That&#39;s it. It worked. Thank you so much.Pleas put that as a solution. I will accept it."}],"answers":[{"tags":[],"owner":{"account_id":24557454,"reputation":146,"user_id":18465761,"display_name":"Zeke Rogers"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647455374,"creation_date":1647455374,"answer_id":71502548,"question_id":71501365,"body_markdown":"You can chain your comparators using `thenComparing`, ie \r\n\r\n```java\r\nnew TreeSet&lt;&gt;(Comparator.comparing(Data::getAction).thenComparing(Comparator.comparing(Data::otherMethod))\r\n```","title":"Java Stream filter by two values using collectors","body":"<p>You can chain your comparators using <code>thenComparing</code>, ie</p>\n<pre class=\"lang-java prettyprint-override\"><code>new TreeSet&lt;&gt;(Comparator.comparing(Data::getAction).thenComparing(Comparator.comparing(Data::otherMethod))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647455447,"creation_date":1647455447,"answer_id":71502562,"question_id":71501365,"body_markdown":"If I get it right, you are trying to get distinct items from your list by the combination of the two properties `addressID  &amp; action`. [Here][1] is a an accepted answer, thanks to @Stuart Marks, which works to get distinct elements by one property. That could be further modified to solve your use case like:\r\n\r\n \r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.concurrent.ConcurrentHashMap;\r\n    import java.util.function.Function;\r\n    import java.util.function.Predicate;\r\n    import java.util.stream.Collectors;\r\n\r\n\r\n    ....\r\n\r\n    List&lt;Data&gt; dataList = // your data objects\r\n\r\n    List&lt;Data&gt; distinctData = dataList.stream()\r\n                .filter(distinctByKeys(Data::getAction, Data::getAddressID))\r\n                .collect(Collectors.toList());\r\n\r\nwhere the method `distinctByKeys` could look like \r\n\r\n    private static &lt;T&gt; Predicate&lt;T&gt; distinctByKeys(final Function&lt;? super T, ?&gt;... keyExtractors) {\r\n        final Map&lt;List&lt;?&gt;, Boolean&gt; seen = new ConcurrentHashMap&lt;&gt;();\r\n        return t -&gt; {\r\n            final List&lt;?&gt; keys = Arrays.stream(keyExtractors)\r\n                    .map(ke -&gt; ke.apply(t))\r\n                    .collect(Collectors.toList());\r\n            return seen.putIfAbsent(keys, Boolean.TRUE) == null;\r\n        };\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/23699371/java-8-distinct-by-property#answer-27872852","title":"Java Stream filter by two values using collectors","body":"<p>If I get it right, you are trying to get distinct items from your list by the combination of the two properties <code>addressID  &amp; action</code>. <a href=\"https://stackoverflow.com/questions/23699371/java-8-distinct-by-property#answer-27872852\">Here</a> is a an accepted answer, thanks to @Stuart Marks, which works to get distinct elements by one property. That could be further modified to solve your use case like:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.concurrent.ConcurrentHashMap;\nimport java.util.function.Function;\nimport java.util.function.Predicate;\nimport java.util.stream.Collectors;\n\n\n....\n\nList&lt;Data&gt; dataList = // your data objects\n\nList&lt;Data&gt; distinctData = dataList.stream()\n            .filter(distinctByKeys(Data::getAction, Data::getAddressID))\n            .collect(Collectors.toList());\n</code></pre>\n<p>where the method <code>distinctByKeys</code> could look like</p>\n<pre><code>private static &lt;T&gt; Predicate&lt;T&gt; distinctByKeys(final Function&lt;? super T, ?&gt;... keyExtractors) {\n    final Map&lt;List&lt;?&gt;, Boolean&gt; seen = new ConcurrentHashMap&lt;&gt;();\n    return t -&gt; {\n        final List&lt;?&gt; keys = Arrays.stream(keyExtractors)\n                .map(ke -&gt; ke.apply(t))\n                .collect(Collectors.toList());\n        return seen.putIfAbsent(keys, Boolean.TRUE) == null;\n    };\n}\n</code></pre>\n"}],"owner":{"account_id":3683024,"reputation":506,"user_id":3067524,"accept_rate":63,"display_name":"user3067524"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":944,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71502548,"answer_count":2,"score":1,"last_activity_date":1647455447,"creation_date":1647450290,"question_id":71501365,"body_markdown":"I have the below working code using one value to compare but want to compare with two values. I need to add one more filter as &quot;getAddressID&quot; along with getAction. Could some help me to modify the below code?\r\n\r\n```\r\nList&lt;Data&gt; finalData = dataList.stream().collect(\r\n    Collectors.collectingAndThen(\r\n        Collectors.toCollection(\r\n            () -&gt; new TreeSet&lt;&gt;(Comparator.comparing(Data::getAction))),\r\n            ArrayList::new))\r\n```\r\n\r\n    public class TestCollection {\r\n\r\n\t/**\r\n\t * @param args\r\n\t */\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tList&lt;Data&gt; dataList = new ArrayList&lt;Data&gt;();\r\n\t\t\r\n\t\tData data1 = new Data(&quot;DELIVERED&quot;, &quot;1112&quot;);\r\n\t\tData data2 = new Data(&quot;DELIVERED&quot;, &quot;1113&quot;);\r\n\t\tData data3 = new Data(&quot;PICKEUP&quot;, &quot;1112&quot;);\r\n\t\tData data4 = new Data(&quot;PICKEUP&quot;, &quot;1112&quot;);\r\n\t\t\r\n\t\tdataList.add(data1);\r\n\t\tdataList.add(data2);\r\n\t\tdataList.add(data3);\r\n\t\tdataList.add(data4);\r\n\t\t\r\n\t\t//Filer by Action\r\n\t\tList&lt;Data&gt; finalData = dataList.stream().collect(Collectors.collectingAndThen(Collectors.toCollection(() -&gt; new TreeSet&lt;&gt; (Comparator.comparing(Data::getAction))), ArrayList::new));\r\n\t\t\r\n\t\tfor(Data data : finalData) {\r\n\t\t\tSystem.out.println(&quot; Action &quot; + data.getAction() + &quot; Address ID &quot; + data.getAddressID());\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\r\n\t}\r\n\r\n}\r\n\r\nThe result is :\r\n&quot;Action DELIVERED Address ID 1112&quot;\r\n&quot;Action PICKEUP Address ID 1112&quot;\r\n\r\nBut I want result as:\r\n &quot;DELIVERED Address ID 1112&quot;\r\n &quot;DELIVERED Address ID 1113&quot;\r\n &quot;PICKEUP Address ID 1112&quot;\r\n\r\n","title":"Java Stream filter by two values using collectors","body":"<p>I have the below working code using one value to compare but want to compare with two values. I need to add one more filter as &quot;getAddressID&quot; along with getAction. Could some help me to modify the below code?</p>\n<pre><code>List&lt;Data&gt; finalData = dataList.stream().collect(\n    Collectors.collectingAndThen(\n        Collectors.toCollection(\n            () -&gt; new TreeSet&lt;&gt;(Comparator.comparing(Data::getAction))),\n            ArrayList::new))\n</code></pre>\n<pre><code>public class TestCollection {\n\n/**\n * @param args\n */\npublic static void main(String[] args) {\n    \n    List&lt;Data&gt; dataList = new ArrayList&lt;Data&gt;();\n    \n    Data data1 = new Data(&quot;DELIVERED&quot;, &quot;1112&quot;);\n    Data data2 = new Data(&quot;DELIVERED&quot;, &quot;1113&quot;);\n    Data data3 = new Data(&quot;PICKEUP&quot;, &quot;1112&quot;);\n    Data data4 = new Data(&quot;PICKEUP&quot;, &quot;1112&quot;);\n    \n    dataList.add(data1);\n    dataList.add(data2);\n    dataList.add(data3);\n    dataList.add(data4);\n    \n    //Filer by Action\n    List&lt;Data&gt; finalData = dataList.stream().collect(Collectors.collectingAndThen(Collectors.toCollection(() -&gt; new TreeSet&lt;&gt; (Comparator.comparing(Data::getAction))), ArrayList::new));\n    \n    for(Data data : finalData) {\n        System.out.println(&quot; Action &quot; + data.getAction() + &quot; Address ID &quot; + data.getAddressID());\n    }\n    \n    \n\n}\n</code></pre>\n<p>}</p>\n<p>The result is :\n&quot;Action DELIVERED Address ID 1112&quot;\n&quot;Action PICKEUP Address ID 1112&quot;</p>\n<p>But I want result as:\n&quot;DELIVERED Address ID 1112&quot;\n&quot;DELIVERED Address ID 1113&quot;\n&quot;PICKEUP Address ID 1112&quot;</p>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"account_id":8666367,"reputation":9194,"user_id":6486738,"accept_rate":100,"display_name":"Ted Klein Bergman"},"score":0,"creation_date":1646795362,"post_id":71403873,"comment_id":126210440,"body_markdown":"Java code is platform-independent. You don&#39;t need to write different codes for different platforms.","body":"Java code is platform-independent. You don&#39;t need to write different codes for different platforms."}],"answers":[{"tags":[],"owner":{"account_id":3739057,"reputation":3667,"user_id":3109248,"display_name":"Khanna111"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647455414,"creation_date":1646795718,"answer_id":71403921,"question_id":71403873,"body_markdown":"The end-user writes code in *java* and that is platform independent. \r\n\r\nThe **JVM engineer works on creating the JVM and the JRE** and within it the compiler and the interpreter  for different platforms. Therefore that **absolves the end-user to worry about porting their codebase** to different platforms. Write once and then run it on all platforms (as long as there is a JVM available for that platform).\r\n\r\nSo from the perspective of the end-user (Java programmer) the java code is indeed `platform independent` since it can run anywhere without any changes. Even though the JVM is ported to different platforms and is indeed `platform dependent`. \r\n\r\n\r\n**Difference with C/C++:**\r\n\r\nAs it is with the JVM, there exists a **C/C++** compiler for each platform responsible for `translating source to machine/processor` instructions. These machine instructions are understood by the processor, for instance: intel etc. Therefore a C/C++ compiler is made available for each platform it supports. However, you might need to link to specific OS/platform specific libraries in your program. That will make your program platform specific and will need to be rewritten for another platform by linking to that platform&#39;s version of that library. **That becomes C/C++ programmer responsibility**. Also each C/C++ compiler has its own vagaries specific to a platform unlike a JVM which provides a consistent view across platforms detailed below.\r\n\r\nIn case of **Java**, you are removed from tapping into platform specificities (unless the JVM or Java libraries do not provide it but they usually cover most of the basics). The java code taps into JVM and Java libraries and the JVM is responsible for translating that to `bytecode or to machine instructions` (to improve performance) at runtime. Unless you use `JNI` in your java source, you do not have to worry about portability. For instance: within your Java program, you can access the native environment, the host memory, some OS characteristics etc., and your code is still portable. The JVM provides the infrastructure in that the native calls to extract that information specific to the platform. However there might be some platform specific functionality that your java program requires that is not provided by the JVM or Java libraries and therefore you need to JNI and your portability suffers as a result.\r\n\r\n**Note**: C/C++/Java all have source code portability. But what the **JVM provides is binary portability. The compiled or interpreted java code runs on an abstraction called the JVM (Virtual Machine). The java programmer writes to that interface instead of the platforms that the JVM runs on. There is a clear separation here.**\r\n","title":"How java solved portability?","body":"<p>The end-user writes code in <em>java</em> and that is platform independent.</p>\n<p>The <strong>JVM engineer works on creating the JVM and the JRE</strong> and within it the compiler and the interpreter  for different platforms. Therefore that <strong>absolves the end-user to worry about porting their codebase</strong> to different platforms. Write once and then run it on all platforms (as long as there is a JVM available for that platform).</p>\n<p>So from the perspective of the end-user (Java programmer) the java code is indeed <code>platform independent</code> since it can run anywhere without any changes. Even though the JVM is ported to different platforms and is indeed <code>platform dependent</code>.</p>\n<p><strong>Difference with C/C++:</strong></p>\n<p>As it is with the JVM, there exists a <strong>C/C++</strong> compiler for each platform responsible for <code>translating source to machine/processor</code> instructions. These machine instructions are understood by the processor, for instance: intel etc. Therefore a C/C++ compiler is made available for each platform it supports. However, you might need to link to specific OS/platform specific libraries in your program. That will make your program platform specific and will need to be rewritten for another platform by linking to that platform's version of that library. <strong>That becomes C/C++ programmer responsibility</strong>. Also each C/C++ compiler has its own vagaries specific to a platform unlike a JVM which provides a consistent view across platforms detailed below.</p>\n<p>In case of <strong>Java</strong>, you are removed from tapping into platform specificities (unless the JVM or Java libraries do not provide it but they usually cover most of the basics). The java code taps into JVM and Java libraries and the JVM is responsible for translating that to <code>bytecode or to machine instructions</code> (to improve performance) at runtime. Unless you use <code>JNI</code> in your java source, you do not have to worry about portability. For instance: within your Java program, you can access the native environment, the host memory, some OS characteristics etc., and your code is still portable. The JVM provides the infrastructure in that the native calls to extract that information specific to the platform. However there might be some platform specific functionality that your java program requires that is not provided by the JVM or Java libraries and therefore you need to JNI and your portability suffers as a result.</p>\n<p><strong>Note</strong>: C/C++/Java all have source code portability. But what the <strong>JVM provides is binary portability. The compiled or interpreted java code runs on an abstraction called the JVM (Virtual Machine). The java programmer writes to that interface instead of the platforms that the JVM runs on. There is a clear separation here.</strong></p>\n"},{"tags":[],"owner":{"account_id":7463872,"reputation":5539,"user_id":5674223,"accept_rate":100,"display_name":"UkFLSUI"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646798157,"creation_date":1646798157,"answer_id":71404127,"question_id":71403873,"body_markdown":"As you have mentioned yourself, `JVM` is platform-dependent. That&#39;s it - `JVM` is platform-dependent, but not `JAVA`. After all, the JVM needs to be run in someway inside the native machine, so it must have to be specific to that platform.\r\n\r\n`JAVA` is portable in the sense that the compiled code is portable. For example, if you compare with `C`, both the C and Java source codes are portable, that means both of them provide source code portability. Once you have a source code written in a Windows PC, you can transfer that exact code in another Linux machine and both Java and C code will compile and run fine in both machines.\r\n\r\n**But, what about object code portability?**\r\n\r\nWe know, when we compile a C code, it produces the machine readable object code. So, if you compile a C source code from one machine, then that object code may not be run from another machine if they are not compatible. But, in case of JAVA, if you compile a Java source code to bytecode from one machine, that bytecode can be run in any machine that runs the JVM.\r\n\r\nAnother interesting fact, by successful compilation of a Java source code, we are also producing a byte code for some unknown future CPU which doesn&#39;t even exist as JVM acts as a kind of virtual CPU.","title":"How java solved portability?","body":"<p>As you have mentioned yourself, <code>JVM</code> is platform-dependent. That's it - <code>JVM</code> is platform-dependent, but not <code>JAVA</code>. After all, the JVM needs to be run in someway inside the native machine, so it must have to be specific to that platform.</p>\n<p><code>JAVA</code> is portable in the sense that the compiled code is portable. For example, if you compare with <code>C</code>, both the C and Java source codes are portable, that means both of them provide source code portability. Once you have a source code written in a Windows PC, you can transfer that exact code in another Linux machine and both Java and C code will compile and run fine in both machines.</p>\n<p><strong>But, what about object code portability?</strong></p>\n<p>We know, when we compile a C code, it produces the machine readable object code. So, if you compile a C source code from one machine, then that object code may not be run from another machine if they are not compatible. But, in case of JAVA, if you compile a Java source code to bytecode from one machine, that bytecode can be run in any machine that runs the JVM.</p>\n<p>Another interesting fact, by successful compilation of a Java source code, we are also producing a byte code for some unknown future CPU which doesn't even exist as JVM acts as a kind of virtual CPU.</p>\n"}],"owner":{"account_id":5365291,"reputation":309,"user_id":4275458,"accept_rate":38,"display_name":"PTK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71404127,"answer_count":2,"score":1,"last_activity_date":1647455414,"creation_date":1646795198,"question_id":71403873,"body_markdown":"Java compiler converts Java code to bytecode and then JVM converts bytecode to machine instructions. As far as I have understood, JVM are built for different platforms (processor + OS). Then how can we say that Java is platform independent? Ultimately, we require a JVM which is platform dependent?","title":"How java solved portability?","body":"<p>Java compiler converts Java code to bytecode and then JVM converts bytecode to machine instructions. As far as I have understood, JVM are built for different platforms (processor + OS). Then how can we say that Java is platform independent? Ultimately, we require a JVM which is platform dependent?</p>\n"},{"tags":["java","authentication","hadoop","ldap","hdfs"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":2,"creation_date":1647545423,"post_id":71502545,"comment_id":126404646,"body_markdown":"Apache Knox project is designed for protecting most of the Hadoop APIs, otherwise, I&#39;ve seen Nginx or Apache HTTPD reverse proxies used for doing the Auth","body":"Apache Knox project is designed for protecting most of the Hadoop APIs, otherwise, I&#39;ve seen Nginx or Apache HTTPD reverse proxies used for doing the Auth"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1647635045,"post_id":71502545,"comment_id":126429016,"body_markdown":"Also, if you are using Active Directory, that should already have Kerberos features you need","body":"Also, if you are using Active Directory, that should already have Kerberos features you need"}],"owner":{"account_id":59759,"reputation":631,"user_id":178711,"accept_rate":83,"display_name":"dannyman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647455363,"creation_date":1647455363,"question_id":71502545,"body_markdown":"I want to limit access to the Hadoop web UIs. But I don&#39;t want to set up Kerberos. We have LDAP, though.\r\n\r\nLooking around, I see:\r\n\r\n 1. [Authentication for Hadoop HTTP web-consoles][1]\r\n 2. [Class LdapAuthenticationHandler][2]\r\n\r\nI like to think I could somehow stuff the `LdapAuthenticationHandler` into the Web Authentication stuff, but it is not obvious, and I can not find an example.\r\n\r\nIs what I am seeking possible?\r\n\r\nFailing that, I could set up HTTP proxies that do basic auth via LDAP. If I do that, does the user ID information get relayed to the Hadoop web UIs? (I am thinking specifically of the HDFS file browser.)\r\n\r\n  [1]: https://hadoop.apache.org/docs/r3.2.2/hadoop-project-dist/hadoop-common/HttpAuthentication.html\r\n  [2]: https://hadoop.apache.org/docs/r3.2.2/hadoop-auth/apidocs/org/apache/hadoop/security/authentication/server/LdapAuthenticationHandler.html","title":"Authentication for Hadoop HTTP web-consoles ... via LDAP?","body":"<p>I want to limit access to the Hadoop web UIs. But I don't want to set up Kerberos. We have LDAP, though.</p>\n<p>Looking around, I see:</p>\n<ol>\n<li><a href=\"https://hadoop.apache.org/docs/r3.2.2/hadoop-project-dist/hadoop-common/HttpAuthentication.html\" rel=\"nofollow noreferrer\">Authentication for Hadoop HTTP web-consoles</a></li>\n<li><a href=\"https://hadoop.apache.org/docs/r3.2.2/hadoop-auth/apidocs/org/apache/hadoop/security/authentication/server/LdapAuthenticationHandler.html\" rel=\"nofollow noreferrer\">Class LdapAuthenticationHandler</a></li>\n</ol>\n<p>I like to think I could somehow stuff the <code>LdapAuthenticationHandler</code> into the Web Authentication stuff, but it is not obvious, and I can not find an example.</p>\n<p>Is what I am seeking possible?</p>\n<p>Failing that, I could set up HTTP proxies that do basic auth via LDAP. If I do that, does the user ID information get relayed to the Hadoop web UIs? (I am thinking specifically of the HDFS file browser.)</p>\n"},{"tags":["java","swing"],"answers":[{"tags":[],"owner":{"account_id":15452760,"reputation":387,"user_id":11147707,"display_name":"Iziminza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647454902,"creation_date":1647454902,"answer_id":71502460,"question_id":71502341,"body_markdown":"Use `setEditable(false)` on a `JTextField`. Oddly, then, the mouse pointer is an arrow, but you can still select the text.\r\n\r\nThis worked for me:\r\n\r\n    import javax.swing.*;\r\n\r\n    public class TestTextField extends JFrame {\r\n        private JTextField txt;\r\n    \r\n        public TestTextField() {\r\n            txt = new JTextField(&quot;test&quot;);\r\n            this.add(txt);\r\n            txt.setEditable(false);\r\n            this.setSize(200, 100);\r\n        }\r\n        \r\n        public static void main(String[] asArgs) {\r\n            new TestTextField().show();\r\n        }\r\n    }","title":"Java Swing: display Text selectable","body":"<p>Use <code>setEditable(false)</code> on a <code>JTextField</code>. Oddly, then, the mouse pointer is an arrow, but you can still select the text.</p>\n<p>This worked for me:</p>\n<pre><code>import javax.swing.*;\n\npublic class TestTextField extends JFrame {\n    private JTextField txt;\n\n    public TestTextField() {\n        txt = new JTextField(&quot;test&quot;);\n        this.add(txt);\n        txt.setEditable(false);\n        this.setSize(200, 100);\n    }\n    \n    public static void main(String[] asArgs) {\n        new TestTextField().show();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24381519,"reputation":27,"user_id":18312979,"display_name":"kefomo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71502460,"answer_count":1,"score":1,"last_activity_date":1647454902,"creation_date":1647454279,"question_id":71502341,"body_markdown":"I wont to display some text with Java Swing. It should also be possible to select it with the mouse in order to copy it. If I use a JLable it is not possible to select the text. If I use a JTextField or JTextArea it is possible to select and copy the text, but then the user can modify the text. Sure I can disable them so that it is not longer possible to change the text, but then again it is also not possible to select and copy the text ether.\r\nIs there some way to achieve what I am searching for?\r\n","title":"Java Swing: display Text selectable","body":"<p>I wont to display some text with Java Swing. It should also be possible to select it with the mouse in order to copy it. If I use a JLable it is not possible to select the text. If I use a JTextField or JTextArea it is possible to select and copy the text, but then the user can modify the text. Sure I can disable them so that it is not longer possible to change the text, but then again it is also not possible to select and copy the text ether.\nIs there some way to achieve what I am searching for?</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":3739057,"reputation":3667,"user_id":3109248,"display_name":"Khanna111"},"score":0,"creation_date":1647455006,"post_id":71502375,"comment_id":126378180,"body_markdown":"please log the exception here","body":"please log the exception here"},{"owner":{"account_id":24557454,"reputation":146,"user_id":18465761,"display_name":"Zeke Rogers"},"score":0,"creation_date":1647455659,"post_id":71502375,"comment_id":126378418,"body_markdown":"Is this your issue? https://stackoverflow.com/questions/13370221/persistentobjectexception-detached-entity-passed-to-persist-thrown-by-jpa-and-h","body":"Is this your issue? <a href=\"https://stackoverflow.com/questions/13370221/persistentobjectexception-detached-entity-passed-to-persist-thrown-by-jpa-and-h\" title=\"persistentobjectexception detached entity passed to persist thrown by jpa and h\">stackoverflow.com/questions/13370221/&hellip;</a>"}],"owner":{"account_id":10455882,"reputation":1146,"user_id":9677980,"display_name":"Arjun"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647454446,"creation_date":1647454446,"question_id":71502375,"body_markdown":"I have a payment entity which have an `accountInvoice` field \r\n\r\n    public class Payment implements Serializable { \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @ManyToOne\r\n        @JsonIgnoreProperties(&quot;payments&quot;)\r\n        @Cascade(value = { CascadeType.ALL })\r\n        private AccountInvoice accountInvoice;\r\n    }\r\n\r\nWhen I try to save this payment entity with `CascadeType.ALL` `detached entity passed to persist` exception is being thrown but it works without any exception when  `CascadeType.MERGE` is used.If `CascadeType.ALL` includes `CascadeType.MERGE` why this behaviour? ","title":"if CascadeType.ALL includes CascadeType.MERGE why detached entity passed to persist exception thrown only in CascadeType.ALL?","body":"<p>I have a payment entity which have an <code>accountInvoice</code> field</p>\n<pre><code>public class Payment implements Serializable { \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @ManyToOne\n    @JsonIgnoreProperties(&quot;payments&quot;)\n    @Cascade(value = { CascadeType.ALL })\n    private AccountInvoice accountInvoice;\n}\n</code></pre>\n<p>When I try to save this payment entity with <code>CascadeType.ALL</code> <code>detached entity passed to persist</code> exception is being thrown but it works without any exception when  <code>CascadeType.MERGE</code> is used.If <code>CascadeType.ALL</code> includes <code>CascadeType.MERGE</code> why this behaviour?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":2816778,"reputation":109,"user_id":2421612,"accept_rate":60,"display_name":"bloodpresage"},"score":1,"creation_date":1647026183,"post_id":71443001,"comment_id":126278054,"body_markdown":"What string are you referring to? If your random numbers were [1,2,3][4,5,6], what is your expectation in terms of what this &#39;string sum&#39; should be?","body":"What string are you referring to? If your random numbers were [1,2,3][4,5,6], what is your expectation in terms of what this &#39;string sum&#39; should be?"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1647029578,"post_id":71443001,"comment_id":126278924,"body_markdown":"Calling a two-dimensional array of `int` a &quot;double array&quot; or `doubleArr` is a bit confusing since there is a type `double` and most people would think &quot;double array&quot; meant `double[]`.","body":"Calling a two-dimensional array of <code>int</code> a &quot;double array&quot; or <code>doubleArr</code> is a bit confusing since there is a type <code>double</code> and most people would think &quot;double array&quot; meant <code>double[]</code>."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1647029638,"post_id":71443001,"comment_id":126278941,"body_markdown":"By &quot;string sum&quot; do you mean &quot;row sum,&quot; the sum of each row of the two-dimensional array?","body":"By &quot;string sum&quot; do you mean &quot;row sum,&quot; the sum of each row of the two-dimensional array?"}],"answers":[{"tags":[],"owner":{"account_id":13428419,"reputation":11,"user_id":9688949,"display_name":"Sandy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647453202,"creation_date":1647453202,"answer_id":71502102,"question_id":71443001,"body_markdown":"You can store &quot;sum&quot; in array or arraylist after your inner for loop gets executed each time.\r\n\r\n    int sum = 0;\r\n        for (int i = 0; i &lt; doubleArr.length; i++) {\r\n            for (int j = 0; j &lt; doubleArr[i].length; j++) {\r\n                if(doubleArr[i][j] &gt; 0){\r\n                    sum += doubleArr[i][j];\r\n\r\n                }\r\n\r\n            }\r\n            //Store your sum here in array, arraylist etc.\r\n\r\n        }\r\n    System.out.println(&quot;sum = &quot; + sum);","title":"How to calculate sums for each row in two-dimensional array in Java?","body":"<p>You can store &quot;sum&quot; in array or arraylist after your inner for loop gets executed each time.</p>\n<pre><code>int sum = 0;\n    for (int i = 0; i &lt; doubleArr.length; i++) {\n        for (int j = 0; j &lt; doubleArr[i].length; j++) {\n            if(doubleArr[i][j] &gt; 0){\n                sum += doubleArr[i][j];\n\n            }\n\n        }\n        //Store your sum here in array, arraylist etc.\n\n    }\nSystem.out.println(&quot;sum = &quot; + sum);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17998995,"reputation":138,"user_id":13081330,"display_name":"Graou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647454200,"creation_date":1647454200,"answer_id":71502321,"question_id":71443001,"body_markdown":"Something like that ?\r\n\r\n    \tint[][] doubleArr = new int[2][3];\r\n        Random rnd = new Random();\r\n        for (int i = 0; i &lt; doubleArr.length; i++) {\r\n            for (int j = 0; j &lt; doubleArr[i].length; j++) {\r\n                doubleArr[i][j] = rnd.nextInt(20) - 10;\r\n                System.out.print(doubleArr[i][j] + &quot; &quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n        \r\n        int sum = 0;\r\n        int[] sums = new int[2];\r\n        int[] sumCols = new int[3];\r\n        for (int i = 0; i &lt; doubleArr.length; i++) {\r\n            for (int j = 0; j &lt; doubleArr[i].length; j++) {\r\n                if(doubleArr[i][j] &gt; 0){\r\n                    sum += doubleArr[i][j];\r\n                    sums[i] += doubleArr[i][j];\r\n                    sumCols[j] += doubleArr[i][j];\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n        System.out.println(&quot;sum = &quot; + sum);\r\n        System.out.println(&quot;sums = &quot; + Arrays.toString(sums));\r\n        System.out.println(&quot;sumCols = &quot; + Arrays.toString(sumCols));\r\n\r\nWhich gives for example:\r\n\r\n    -5 -7 3 \r\n    7 -10 7 \r\n    sum = 17\r\n    sums = [3, 14]\r\n    sumCols = [7, 0, 10]","title":"How to calculate sums for each row in two-dimensional array in Java?","body":"<p>Something like that ?</p>\n<pre><code>    int[][] doubleArr = new int[2][3];\n    Random rnd = new Random();\n    for (int i = 0; i &lt; doubleArr.length; i++) {\n        for (int j = 0; j &lt; doubleArr[i].length; j++) {\n            doubleArr[i][j] = rnd.nextInt(20) - 10;\n            System.out.print(doubleArr[i][j] + &quot; &quot;);\n        }\n        System.out.println();\n    }\n    \n    int sum = 0;\n    int[] sums = new int[2];\n    int[] sumCols = new int[3];\n    for (int i = 0; i &lt; doubleArr.length; i++) {\n        for (int j = 0; j &lt; doubleArr[i].length; j++) {\n            if(doubleArr[i][j] &gt; 0){\n                sum += doubleArr[i][j];\n                sums[i] += doubleArr[i][j];\n                sumCols[j] += doubleArr[i][j];\n            }\n\n        }\n    }\n\n    System.out.println(&quot;sum = &quot; + sum);\n    System.out.println(&quot;sums = &quot; + Arrays.toString(sums));\n    System.out.println(&quot;sumCols = &quot; + Arrays.toString(sumCols));\n</code></pre>\n<p>Which gives for example:</p>\n<pre><code>-5 -7 3 \n7 -10 7 \nsum = 17\nsums = [3, 14]\nsumCols = [7, 0, 10]\n</code></pre>\n"}],"owner":{"account_id":21025565,"reputation":1,"user_id":15451012,"display_name":"Nikolajus"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1647454200,"creation_date":1647022654,"question_id":71443001,"body_markdown":"I have a two-dimensional array, with random numbers:\r\n```java\r\n        int[][] doubleArr = new int[2][3];\r\n        Random rnd = new Random();\r\n        for (int i = 0; i &lt; doubleArr.length; i++) {\r\n            for (int j = 0; j &lt; doubleArr[i].length; j++) {\r\n                doubleArr[i][j] = rnd.nextInt(-10, 10);\r\n                System.out.print(doubleArr[i][j] + &quot; &quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n```\r\n\r\nIn the snippet below I was able to compute the total sum of all positive integers from all elements of two-dimensional array:\r\n\r\n```java\r\n       int sum = 0;\r\n        for (int i = 0; i &lt; doubleArr.length; i++) {\r\n            for (int j = 0; j &lt; doubleArr[i].length; j++) {\r\n                if(doubleArr[i][j] &gt; 0){\r\n                    sum += doubleArr[i][j];\r\n\r\n                }\r\n\r\n            }\r\n        }\r\n        System.out.println(&quot;sum = &quot; + sum);\r\n```\r\n\r\nHow can I calculate and store the sums for each row of two-dimensional array separately?","title":"How to calculate sums for each row in two-dimensional array in Java?","body":"<p>I have a two-dimensional array, with random numbers:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        int[][] doubleArr = new int[2][3];\n        Random rnd = new Random();\n        for (int i = 0; i &lt; doubleArr.length; i++) {\n            for (int j = 0; j &lt; doubleArr[i].length; j++) {\n                doubleArr[i][j] = rnd.nextInt(-10, 10);\n                System.out.print(doubleArr[i][j] + &quot; &quot;);\n            }\n            System.out.println();\n        }\n</code></pre>\n<p>In the snippet below I was able to compute the total sum of all positive integers from all elements of two-dimensional array:</p>\n<pre class=\"lang-java prettyprint-override\"><code>       int sum = 0;\n        for (int i = 0; i &lt; doubleArr.length; i++) {\n            for (int j = 0; j &lt; doubleArr[i].length; j++) {\n                if(doubleArr[i][j] &gt; 0){\n                    sum += doubleArr[i][j];\n\n                }\n\n            }\n        }\n        System.out.println(&quot;sum = &quot; + sum);\n</code></pre>\n<p>How can I calculate and store the sums for each row of two-dimensional array separately?</p>\n"},{"tags":["java","intellij-idea","minecraft","minecraft-fabric"],"answers":[{"tags":[],"owner":{"account_id":24331004,"reputation":34,"user_id":18269851,"display_name":"seriouslyForWhat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647454049,"creation_date":1647454049,"answer_id":71502293,"question_id":71418447,"body_markdown":"You didn&#39;t register the block correctly. Add this line in your initializer class and it should work. \r\n\r\n``Registry.register(Registry.BLOCK, new Identifier(&quot;example&quot;, &quot;example_block&quot;), EXAMPLE_BLOCK);``","title":"I created a block for fabric 1.18.1 and it doesn&#39;t show up in game at all","body":"<p>You didn't register the block correctly. Add this line in your initializer class and it should work.</p>\n<p><code>Registry.register(Registry.BLOCK, new Identifier(&quot;example&quot;, &quot;example_block&quot;), EXAMPLE_BLOCK);</code></p>\n"}],"owner":{"account_id":24496622,"reputation":1,"user_id":18412795,"display_name":"Runic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":656,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647454049,"creation_date":1646882445,"question_id":71418447,"body_markdown":"I created a block in IntelliJ and ran the client and the game came up with no errors but the block is not there in inventory or with commands. \r\n\r\nThe idea of the block is to create piles of gold coins that work like pickles where you can place multiple on a block.\r\n\r\nPlease take a look at my code and help me understand why it won&#39;t show up.\r\n\r\nHere is my code for the block itself:\r\n```\r\n`package net.runic.runicscurrencymod.block.custom;\r\n\r\nimport net.fabricmc.fabric.api.object.builder.v1.block.FabricBlockSettings;\r\nimport net.minecraft.block.*;\r\nimport net.minecraft.entity.ai.pathing.NavigationType;\r\nimport net.minecraft.fluid.FluidState;\r\nimport net.minecraft.fluid.Fluids;\r\nimport net.minecraft.item.ItemPlacementContext;\r\nimport net.minecraft.server.world.ServerWorld;\r\nimport net.minecraft.state.StateManager;\r\nimport net.minecraft.state.property.BooleanProperty;\r\nimport net.minecraft.state.property.IntProperty;\r\nimport net.minecraft.state.property.Properties;\r\nimport net.minecraft.tag.BlockTags;\r\nimport net.minecraft.util.math.BlockPos;\r\nimport net.minecraft.util.math.Direction;\r\nimport net.minecraft.util.shape.VoxelShape;\r\nimport net.minecraft.world.BlockView;\r\nimport net.minecraft.world.World;\r\nimport net.minecraft.world.WorldAccess;\r\nimport net.minecraft.world.WorldView;\r\nimport org.jetbrains.annotations.Nullable;\r\nimport java.util.Random;\r\n\r\npublic class GoldCoinPile extends Block {\r\n    public GoldCoinPile(Settings settings) {\r\n        super(settings);\r\n        this.setDefaultState((BlockState)((BlockState)((BlockState)this.stateManager.getDefaultState()).with(PILES, 1)).with(WATERLOGGED, true));\r\n}\r\n    public static final int MAX_PILES = 4;\r\n    public static final IntProperty PILES = net.runic.runicscurrencymod.state.Properties.PILES;\r\n    public static final BooleanProperty WATERLOGGED = Properties.WATERLOGGED;\r\n    protected static final VoxelShape ONE_PILE_SHAPE = Block.createCuboidShape(6.0, 0.0, 6.0, 10.0, 6.0, 10.0);\r\n    protected static final VoxelShape TWO_PILES_SHAPE = Block.createCuboidShape(3.0, 0.0, 3.0, 13.0, 6.0, 13.0);\r\n    protected static final VoxelShape THREE_PILES_SHAPE = Block.createCuboidShape(2.0, 0.0, 2.0, 14.0, 6.0, 14.0);\r\n    protected static final VoxelShape FOUR_PILES_SHAPE = Block.createCuboidShape(2.0, 0.0, 2.0, 14.0, 7.0, 14.0);\r\n\r\n\r\n\r\n    @Override\r\n    @Nullable\r\n    public BlockState getPlacementState(ItemPlacementContext ctx) {\r\n        BlockState blockState = ctx.getWorld().getBlockState(ctx.getBlockPos());\r\n        if (blockState.isOf(this)) {\r\n            return (BlockState)blockState.with(PILES, Math.min(4, blockState.get(PILES) + 1));\r\n        }\r\n        FluidState fluidState = ctx.getWorld().getFluidState(ctx.getBlockPos());\r\n        boolean bl = fluidState.getFluid() == Fluids.WATER;\r\n        return (BlockState)super.getPlacementState(ctx).with(WATERLOGGED, bl);\r\n    }\r\n\r\n    public static boolean isDry(BlockState state) {\r\n        return state.get(WATERLOGGED) == false;\r\n    }\r\n\r\n    @Override\r\n    public boolean canReplace(BlockState state, ItemPlacementContext context) {\r\n        if (!context.shouldCancelInteraction() &amp;&amp; context.getStack().isOf(this.asItem()) &amp;&amp; state.get(PILES) &lt; 4) {\r\n            return true;\r\n        }\r\n        return super.canReplace(state, context);\r\n    }\r\n\r\n    @Override\r\n    public VoxelShape getOutlineShape(BlockState state, BlockView world, BlockPos pos, ShapeContext context) {\r\n        switch (state.get(PILES)) {\r\n            default: {\r\n                return ONE_PILE_SHAPE;\r\n            }\r\n            case 2: {\r\n                return TWO_PILES_SHAPE;\r\n            }\r\n            case 3: {\r\n                return THREE_PILES_SHAPE;\r\n            }\r\n            case 4: \r\n        }\r\n        return FOUR_PILES_SHAPE;\r\n    }\r\n\r\n    @Override\r\n    public FluidState getFluidState(BlockState state) {\r\n        if (state.get(WATERLOGGED).booleanValue()) {\r\n            return Fluids.WATER.getStill(false);\r\n        }\r\n        return super.getFluidState(state);\r\n    }\r\n\r\n    @Override\r\n    protected void appendProperties(StateManager.Builder&lt;Block, BlockState&gt; builder) {\r\n        builder.add(PILES, WATERLOGGED);\r\n    }\r\n\r\n\r\n    @Override\r\n    public boolean canPathfindThrough(BlockState state, BlockView world, BlockPos pos, NavigationType type) {\r\n        return false;\r\n    }\r\n}\r\n`\r\n\r\n``` \r\nI created the piles property with a Properties.java and the code inside it is this:\r\n```\r\n/*\r\n * Decompiled with CFR 0.0.9 (FabricMC cc05e23f).\r\n */\r\npackage net.runic.runicscurrencymod.state;\r\n\r\nimport net.minecraft.block.enums.*;\r\nimport net.minecraft.state.property.BooleanProperty;\r\nimport net.minecraft.state.property.DirectionProperty;\r\nimport net.minecraft.state.property.EnumProperty;\r\nimport net.minecraft.state.property.IntProperty;\r\nimport net.minecraft.util.math.Direction;\r\n\r\npublic class Properties {\r\n\r\n   ``` public static final IntProperty PILES = IntProperty.of(name:&quot;piles&quot;,min:1,max:4);\r\n\r\n ```\r\n\r\nAnd in the mod block file i registered it like this:\r\n\r\n```\r\npublic static final Block GOLD_COIN_PILE = registerBlock(&quot;gold_coin_pile&quot;,\r\n            new GoldCoinPile(FabricBlockSettings.of(Material.METAL).strength(6f)), ItemGroup.MISC); \r\n```\r\n\r\nIn the blockstates folder I have a gold_coin_pile.json that says:\r\n\r\n``` \r\n{\r\n  &quot;variants&quot;: {\r\n\r\n    &quot;piles=1&quot;: [\r\n      {\r\n        &quot;model&quot;: &quot;minecraft:block/gold_coin_pile&quot;\r\n      },\r\n      {\r\n        &quot;model&quot;: &quot;minecraft:block/gold_coin_pile&quot;,\r\n        &quot;y&quot;: 90\r\n      },\r\n      {\r\n        &quot;model&quot;: &quot;minecraft:block/gold_coin_pile&quot;,\r\n        &quot;y&quot;: 180\r\n      },\r\n      {\r\n        &quot;model&quot;: &quot;minecraft:block/gold_coin_pile&quot;,\r\n        &quot;y&quot;: 270\r\n      }\r\n    ],\r\n\r\n    &quot;piles=2&quot;: [\r\n      {\r\n        &quot;model&quot;: &quot;minecraft:block/two_gold_coin_piles&quot;\r\n      },\r\n      {\r\n        &quot;model&quot;: &quot;minecraft:block/two_gold_coin_piles&quot;,\r\n        &quot;y&quot;: 90\r\n      },\r\n      {\r\n        &quot;model&quot;: &quot;minecraft:block/two_gold_coin_piles&quot;,\r\n        &quot;y&quot;: 180\r\n      },\r\n      {\r\n        &quot;model&quot;: &quot;minecraft:block/two_gold_coin_piles&quot;,\r\n        &quot;y&quot;: 270\r\n      }\r\n    ],\r\n\r\n    &quot;piles=3&quot;: [\r\n      {\r\n        &quot;model&quot;: &quot;minecraft:block/three_gold_coin_piles&quot;\r\n      },\r\n      {\r\n        &quot;model&quot;: &quot;minecraft:block/three_gold_coin_piles&quot;,\r\n        &quot;y&quot;: 90\r\n      },\r\n      {\r\n        &quot;model&quot;: &quot;minecraft:block/three_gold_coin_piles&quot;,\r\n        &quot;y&quot;: 180\r\n      },\r\n      {\r\n        &quot;model&quot;: &quot;minecraft:block/three_gold_coin_piles&quot;,\r\n        &quot;y&quot;: 270\r\n      }\r\n    ],\r\n\r\n    &quot;piles=4&quot;: [\r\n      {\r\n        &quot;model&quot;: &quot;minecraft:block/four_gold_coin_piles&quot;\r\n      },\r\n      {\r\n        &quot;model&quot;: &quot;minecraft:block/four_gold_coin_piles&quot;,\r\n        &quot;y&quot;: 90\r\n      },\r\n      {\r\n        &quot;model&quot;: &quot;minecraft:block/four_gold_coin_piles&quot;,\r\n        &quot;y&quot;: 180\r\n      },\r\n      {\r\n        &quot;model&quot;: &quot;minecraft:block/four_gold_coin_piles&quot;,\r\n        &quot;y&quot;: 270\r\n      }\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\nIn the actual blocks folder I have four json files for each of the blockstates but here is the one for just 1 pile (if you need all 4 lmk)\r\n\r\n```\r\n{\r\n    &quot;parent&quot;: &quot;block/block&quot;,\r\n    &quot;textures&quot;: {\r\n        &quot;particle&quot;: &quot;block/gold_coin_pile&quot;,\r\n        &quot;all&quot;: &quot;block/gold_coin_pile&quot;\r\n    },\r\n    &quot;elements&quot;: [\r\n        {   &quot;from&quot;: [ 6, 0, 6 ],\r\n            &quot;to&quot;: [ 10, 6, 10 ],\r\n            &quot;faces&quot;: {\r\n                &quot;down&quot;:  { &quot;uv&quot;: [  8, 1,  12, 5 ], &quot;texture&quot;: &quot;#all&quot;, &quot;cullface&quot;: &quot;down&quot; },\r\n                &quot;up&quot;:    { &quot;uv&quot;: [  4, 1,  8, 5 ], &quot;texture&quot;: &quot;#all&quot; },\r\n                &quot;north&quot;: { &quot;uv&quot;: [ 4, 5, 8, 11 ], &quot;texture&quot;: &quot;#all&quot; },\r\n                &quot;south&quot;: { &quot;uv&quot;: [ 0, 5, 4, 11 ], &quot;texture&quot;: &quot;#all&quot; },\r\n                &quot;west&quot;:  { &quot;uv&quot;: [ 8, 5, 12, 11 ], &quot;texture&quot;: &quot;#all&quot; },\r\n                &quot;east&quot;:  { &quot;uv&quot;: [ 12, 5, 16, 11 ], &quot;texture&quot;: &quot;#all&quot; }\r\n            }\r\n        },\r\n        {\r\n            &quot;from&quot;: [ 6, 5.95, 6 ],\r\n            &quot;to&quot;: [ 10, 5.95, 10 ],\r\n            &quot;faces&quot;: {\r\n                &quot;up&quot;: {&quot;uv&quot;: [  8, 1,  12, 5 ], &quot;texture&quot;: &quot;#all&quot;}\r\n            }\r\n        },\r\n        {\r\n            &quot;from&quot;: [ 7.5, 5.2, 8 ],\r\n            &quot;to&quot;: [ 8.5, 8.7, 8 ],\r\n            &quot;rotation&quot;: { &quot;origin&quot;: [ 8, 8, 8 ], &quot;axis&quot;: &quot;y&quot;, &quot;angle&quot;: 45, &quot;rescale&quot;: true },\r\n            &quot;shade&quot;: false,\r\n            &quot;faces&quot;: {\r\n                &quot;north&quot;: { &quot;uv&quot;: [ 1, 0, 3, 5 ], &quot;texture&quot;: &quot;#all&quot; },\r\n                &quot;south&quot;: { &quot;uv&quot;: [ 3, 0, 1, 5 ], &quot;texture&quot;: &quot;#all&quot; }\r\n            }\r\n        },\r\n        {\r\n            &quot;from&quot;: [ 8, 5.2, 7.5 ],\r\n            &quot;to&quot;: [ 8, 8.7, 8.5 ],\r\n            &quot;rotation&quot;: { &quot;origin&quot;: [ 8, 8, 8 ], &quot;axis&quot;: &quot;y&quot;, &quot;angle&quot;: 45, &quot;rescale&quot;: true },\r\n            &quot;shade&quot;: false,\r\n            &quot;faces&quot;: {\r\n                &quot;west&quot;: { &quot;uv&quot;: [ 13, 0, 15, 5 ], &quot;texture&quot;: &quot;#all&quot; },\r\n                &quot;east&quot;: { &quot;uv&quot;: [ 15, 0, 13, 5 ], &quot;texture&quot;: &quot;#all&quot; }\r\n            }\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nIn the en_us.json lang file I have it like this:\r\n\r\n``` \r\n&quot;block.runicscurrencymod.gold_coin_pile&quot;: &quot;Pile of Gold Coins&quot;, \r\n```\r\n\r\nAnd then I have the gold_coin_pile.png file in textures.\r\n\r\nI&#39;m not sure what&#39;s going on but it won&#39;t show up in game at all.\r\n","title":"I created a block for fabric 1.18.1 and it doesn&#39;t show up in game at all","body":"<p>I created a block in IntelliJ and ran the client and the game came up with no errors but the block is not there in inventory or with commands.</p>\n<p>The idea of the block is to create piles of gold coins that work like pickles where you can place multiple on a block.</p>\n<p>Please take a look at my code and help me understand why it won't show up.</p>\n<p>Here is my code for the block itself:</p>\n<pre><code>`package net.runic.runicscurrencymod.block.custom;\n\nimport net.fabricmc.fabric.api.object.builder.v1.block.FabricBlockSettings;\nimport net.minecraft.block.*;\nimport net.minecraft.entity.ai.pathing.NavigationType;\nimport net.minecraft.fluid.FluidState;\nimport net.minecraft.fluid.Fluids;\nimport net.minecraft.item.ItemPlacementContext;\nimport net.minecraft.server.world.ServerWorld;\nimport net.minecraft.state.StateManager;\nimport net.minecraft.state.property.BooleanProperty;\nimport net.minecraft.state.property.IntProperty;\nimport net.minecraft.state.property.Properties;\nimport net.minecraft.tag.BlockTags;\nimport net.minecraft.util.math.BlockPos;\nimport net.minecraft.util.math.Direction;\nimport net.minecraft.util.shape.VoxelShape;\nimport net.minecraft.world.BlockView;\nimport net.minecraft.world.World;\nimport net.minecraft.world.WorldAccess;\nimport net.minecraft.world.WorldView;\nimport org.jetbrains.annotations.Nullable;\nimport java.util.Random;\n\npublic class GoldCoinPile extends Block {\n    public GoldCoinPile(Settings settings) {\n        super(settings);\n        this.setDefaultState((BlockState)((BlockState)((BlockState)this.stateManager.getDefaultState()).with(PILES, 1)).with(WATERLOGGED, true));\n}\n    public static final int MAX_PILES = 4;\n    public static final IntProperty PILES = net.runic.runicscurrencymod.state.Properties.PILES;\n    public static final BooleanProperty WATERLOGGED = Properties.WATERLOGGED;\n    protected static final VoxelShape ONE_PILE_SHAPE = Block.createCuboidShape(6.0, 0.0, 6.0, 10.0, 6.0, 10.0);\n    protected static final VoxelShape TWO_PILES_SHAPE = Block.createCuboidShape(3.0, 0.0, 3.0, 13.0, 6.0, 13.0);\n    protected static final VoxelShape THREE_PILES_SHAPE = Block.createCuboidShape(2.0, 0.0, 2.0, 14.0, 6.0, 14.0);\n    protected static final VoxelShape FOUR_PILES_SHAPE = Block.createCuboidShape(2.0, 0.0, 2.0, 14.0, 7.0, 14.0);\n\n\n\n    @Override\n    @Nullable\n    public BlockState getPlacementState(ItemPlacementContext ctx) {\n        BlockState blockState = ctx.getWorld().getBlockState(ctx.getBlockPos());\n        if (blockState.isOf(this)) {\n            return (BlockState)blockState.with(PILES, Math.min(4, blockState.get(PILES) + 1));\n        }\n        FluidState fluidState = ctx.getWorld().getFluidState(ctx.getBlockPos());\n        boolean bl = fluidState.getFluid() == Fluids.WATER;\n        return (BlockState)super.getPlacementState(ctx).with(WATERLOGGED, bl);\n    }\n\n    public static boolean isDry(BlockState state) {\n        return state.get(WATERLOGGED) == false;\n    }\n\n    @Override\n    public boolean canReplace(BlockState state, ItemPlacementContext context) {\n        if (!context.shouldCancelInteraction() &amp;&amp; context.getStack().isOf(this.asItem()) &amp;&amp; state.get(PILES) &lt; 4) {\n            return true;\n        }\n        return super.canReplace(state, context);\n    }\n\n    @Override\n    public VoxelShape getOutlineShape(BlockState state, BlockView world, BlockPos pos, ShapeContext context) {\n        switch (state.get(PILES)) {\n            default: {\n                return ONE_PILE_SHAPE;\n            }\n            case 2: {\n                return TWO_PILES_SHAPE;\n            }\n            case 3: {\n                return THREE_PILES_SHAPE;\n            }\n            case 4: \n        }\n        return FOUR_PILES_SHAPE;\n    }\n\n    @Override\n    public FluidState getFluidState(BlockState state) {\n        if (state.get(WATERLOGGED).booleanValue()) {\n            return Fluids.WATER.getStill(false);\n        }\n        return super.getFluidState(state);\n    }\n\n    @Override\n    protected void appendProperties(StateManager.Builder&lt;Block, BlockState&gt; builder) {\n        builder.add(PILES, WATERLOGGED);\n    }\n\n\n    @Override\n    public boolean canPathfindThrough(BlockState state, BlockView world, BlockPos pos, NavigationType type) {\n        return false;\n    }\n}\n`\n\n</code></pre>\n<p>I created the piles property with a Properties.java and the code inside it is this:</p>\n<pre><code>/*\n * Decompiled with CFR 0.0.9 (FabricMC cc05e23f).\n */\npackage net.runic.runicscurrencymod.state;\n\nimport net.minecraft.block.enums.*;\nimport net.minecraft.state.property.BooleanProperty;\nimport net.minecraft.state.property.DirectionProperty;\nimport net.minecraft.state.property.EnumProperty;\nimport net.minecraft.state.property.IntProperty;\nimport net.minecraft.util.math.Direction;\n\npublic class Properties {\n\n   ``` public static final IntProperty PILES = IntProperty.of(name:&quot;piles&quot;,min:1,max:4);\n\n</code></pre>\n<p>And in the mod block file i registered it like this:</p>\n<pre><code>public static final Block GOLD_COIN_PILE = registerBlock(&quot;gold_coin_pile&quot;,\n            new GoldCoinPile(FabricBlockSettings.of(Material.METAL).strength(6f)), ItemGroup.MISC); \n</code></pre>\n<p>In the blockstates folder I have a gold_coin_pile.json that says:</p>\n<pre><code>{\n  &quot;variants&quot;: {\n\n    &quot;piles=1&quot;: [\n      {\n        &quot;model&quot;: &quot;minecraft:block/gold_coin_pile&quot;\n      },\n      {\n        &quot;model&quot;: &quot;minecraft:block/gold_coin_pile&quot;,\n        &quot;y&quot;: 90\n      },\n      {\n        &quot;model&quot;: &quot;minecraft:block/gold_coin_pile&quot;,\n        &quot;y&quot;: 180\n      },\n      {\n        &quot;model&quot;: &quot;minecraft:block/gold_coin_pile&quot;,\n        &quot;y&quot;: 270\n      }\n    ],\n\n    &quot;piles=2&quot;: [\n      {\n        &quot;model&quot;: &quot;minecraft:block/two_gold_coin_piles&quot;\n      },\n      {\n        &quot;model&quot;: &quot;minecraft:block/two_gold_coin_piles&quot;,\n        &quot;y&quot;: 90\n      },\n      {\n        &quot;model&quot;: &quot;minecraft:block/two_gold_coin_piles&quot;,\n        &quot;y&quot;: 180\n      },\n      {\n        &quot;model&quot;: &quot;minecraft:block/two_gold_coin_piles&quot;,\n        &quot;y&quot;: 270\n      }\n    ],\n\n    &quot;piles=3&quot;: [\n      {\n        &quot;model&quot;: &quot;minecraft:block/three_gold_coin_piles&quot;\n      },\n      {\n        &quot;model&quot;: &quot;minecraft:block/three_gold_coin_piles&quot;,\n        &quot;y&quot;: 90\n      },\n      {\n        &quot;model&quot;: &quot;minecraft:block/three_gold_coin_piles&quot;,\n        &quot;y&quot;: 180\n      },\n      {\n        &quot;model&quot;: &quot;minecraft:block/three_gold_coin_piles&quot;,\n        &quot;y&quot;: 270\n      }\n    ],\n\n    &quot;piles=4&quot;: [\n      {\n        &quot;model&quot;: &quot;minecraft:block/four_gold_coin_piles&quot;\n      },\n      {\n        &quot;model&quot;: &quot;minecraft:block/four_gold_coin_piles&quot;,\n        &quot;y&quot;: 90\n      },\n      {\n        &quot;model&quot;: &quot;minecraft:block/four_gold_coin_piles&quot;,\n        &quot;y&quot;: 180\n      },\n      {\n        &quot;model&quot;: &quot;minecraft:block/four_gold_coin_piles&quot;,\n        &quot;y&quot;: 270\n      }\n    ]\n  }\n}\n</code></pre>\n<p>In the actual blocks folder I have four json files for each of the blockstates but here is the one for just 1 pile (if you need all 4 lmk)</p>\n<pre><code>{\n    &quot;parent&quot;: &quot;block/block&quot;,\n    &quot;textures&quot;: {\n        &quot;particle&quot;: &quot;block/gold_coin_pile&quot;,\n        &quot;all&quot;: &quot;block/gold_coin_pile&quot;\n    },\n    &quot;elements&quot;: [\n        {   &quot;from&quot;: [ 6, 0, 6 ],\n            &quot;to&quot;: [ 10, 6, 10 ],\n            &quot;faces&quot;: {\n                &quot;down&quot;:  { &quot;uv&quot;: [  8, 1,  12, 5 ], &quot;texture&quot;: &quot;#all&quot;, &quot;cullface&quot;: &quot;down&quot; },\n                &quot;up&quot;:    { &quot;uv&quot;: [  4, 1,  8, 5 ], &quot;texture&quot;: &quot;#all&quot; },\n                &quot;north&quot;: { &quot;uv&quot;: [ 4, 5, 8, 11 ], &quot;texture&quot;: &quot;#all&quot; },\n                &quot;south&quot;: { &quot;uv&quot;: [ 0, 5, 4, 11 ], &quot;texture&quot;: &quot;#all&quot; },\n                &quot;west&quot;:  { &quot;uv&quot;: [ 8, 5, 12, 11 ], &quot;texture&quot;: &quot;#all&quot; },\n                &quot;east&quot;:  { &quot;uv&quot;: [ 12, 5, 16, 11 ], &quot;texture&quot;: &quot;#all&quot; }\n            }\n        },\n        {\n            &quot;from&quot;: [ 6, 5.95, 6 ],\n            &quot;to&quot;: [ 10, 5.95, 10 ],\n            &quot;faces&quot;: {\n                &quot;up&quot;: {&quot;uv&quot;: [  8, 1,  12, 5 ], &quot;texture&quot;: &quot;#all&quot;}\n            }\n        },\n        {\n            &quot;from&quot;: [ 7.5, 5.2, 8 ],\n            &quot;to&quot;: [ 8.5, 8.7, 8 ],\n            &quot;rotation&quot;: { &quot;origin&quot;: [ 8, 8, 8 ], &quot;axis&quot;: &quot;y&quot;, &quot;angle&quot;: 45, &quot;rescale&quot;: true },\n            &quot;shade&quot;: false,\n            &quot;faces&quot;: {\n                &quot;north&quot;: { &quot;uv&quot;: [ 1, 0, 3, 5 ], &quot;texture&quot;: &quot;#all&quot; },\n                &quot;south&quot;: { &quot;uv&quot;: [ 3, 0, 1, 5 ], &quot;texture&quot;: &quot;#all&quot; }\n            }\n        },\n        {\n            &quot;from&quot;: [ 8, 5.2, 7.5 ],\n            &quot;to&quot;: [ 8, 8.7, 8.5 ],\n            &quot;rotation&quot;: { &quot;origin&quot;: [ 8, 8, 8 ], &quot;axis&quot;: &quot;y&quot;, &quot;angle&quot;: 45, &quot;rescale&quot;: true },\n            &quot;shade&quot;: false,\n            &quot;faces&quot;: {\n                &quot;west&quot;: { &quot;uv&quot;: [ 13, 0, 15, 5 ], &quot;texture&quot;: &quot;#all&quot; },\n                &quot;east&quot;: { &quot;uv&quot;: [ 15, 0, 13, 5 ], &quot;texture&quot;: &quot;#all&quot; }\n            }\n        }\n    ]\n}\n</code></pre>\n<p>In the en_us.json lang file I have it like this:</p>\n<pre><code>&quot;block.runicscurrencymod.gold_coin_pile&quot;: &quot;Pile of Gold Coins&quot;, \n</code></pre>\n<p>And then I have the gold_coin_pile.png file in textures.</p>\n<p>I'm not sure what's going on but it won't show up in game at all.</p>\n"},{"tags":["java","jhipster","jdl"],"answers":[{"tags":[],"owner":{"account_id":50559,"reputation":3678,"user_id":150868,"display_name":"Julien Dubois"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1490615766,"creation_date":1490615766,"answer_id":43045722,"question_id":43043910,"body_markdown":"Yes, just run `yo jhipster:export-jdl` to generate a JDL file of your current project.","title":"is it possible to generate uml or jdl model from existing jhipster project","body":"<p>Yes, just run <code>yo jhipster:export-jdl</code> to generate a JDL file of your current project.</p>\n"},{"tags":[],"owner":{"account_id":2469136,"reputation":641,"user_id":2151471,"display_name":"atomfrede"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490872839,"creation_date":1490872839,"answer_id":43116419,"question_id":43043910,"body_markdown":"As you can&#39;t import the user entity again it makes no sense to me to have it exported to a jdl file.","title":"is it possible to generate uml or jdl model from existing jhipster project","body":"<p>As you can't import the user entity again it makes no sense to me to have it exported to a jdl file.</p>\n"},{"tags":[],"owner":{"account_id":144441,"reputation":1925,"user_id":353497,"accept_rate":61,"display_name":"Ameya"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1514054791,"creation_date":1514054791,"answer_id":47955078,"question_id":43043910,"body_markdown":"run the following command `jhipster export-jdl &lt;&lt;FILE_NAME_PATH&gt;&gt;`","title":"is it possible to generate uml or jdl model from existing jhipster project","body":"<p>run the following command <code>jhipster export-jdl &lt;&lt;FILE_NAME_PATH&gt;&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":3605283,"reputation":1,"user_id":3007580,"display_name":"changmasa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647453935,"creation_date":1647453935,"answer_id":71502268,"question_id":43043910,"body_markdown":"Invoking jHipster from Yeoman has been deprecated. Please use JHipster CLI. `jhipster export-jdl &lt;&lt;FILENAME.jdl&gt;&gt;`. ","title":"is it possible to generate uml or jdl model from existing jhipster project","body":"<p>Invoking jHipster from Yeoman has been deprecated. Please use JHipster CLI. <code>jhipster export-jdl &lt;&lt;FILENAME.jdl&gt;&gt;</code>.</p>\n"}],"owner":{"account_id":10207558,"reputation":76,"user_id":7535818,"display_name":"bayrem404"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3896,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1647453935,"creation_date":1490610411,"question_id":43043910,"body_markdown":"after generating j hipster project is it possible generate JDL model or uml diagram from the generated code in order to see how the application is build and relations between classes.","title":"is it possible to generate uml or jdl model from existing jhipster project","body":"<p>after generating j hipster project is it possible generate JDL model or uml diagram from the generated code in order to see how the application is build and relations between classes.</p>\n"},{"tags":["java","hibernate","list","h2"],"comments":[{"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"score":0,"creation_date":1338861006,"post_id":10889386,"comment_id":14195824,"body_markdown":"From the stacktrace, it sounds like the merge is being cascaded to other objects associated with the User. Do you have any collections mapped as a Bag type?","body":"From the stacktrace, it sounds like the merge is being cascaded to other objects associated with the User. Do you have any collections mapped as a Bag type?"},{"owner":{"account_id":1041278,"reputation":5253,"user_id":1047269,"display_name":"Johanna"},"score":0,"creation_date":1338887978,"post_id":10889386,"comment_id":14201984,"body_markdown":"For me it looks like an error in hibernate, which would make it ugly to go around that issue. I think the only chance to get is, is to find out which child or grand child of item produces this error. For tests you can manually merge the children (and perhaps grand children) of `item` instead of letting cascade to that.","body":"For me it looks like an error in hibernate, which would make it ugly to go around that issue. I think the only chance to get is, is to find out which child or grand child of item produces this error. For tests you can manually merge the children (and perhaps grand children) of <code>item</code> instead of letting cascade to that."},{"owner":{"account_id":31954,"reputation":31434,"user_id":88111,"accept_rate":89,"display_name":"Craig Otis"},"score":1,"creation_date":1338892679,"post_id":10889386,"comment_id":14203557,"body_markdown":"@mattb We definitely don&#39;t have any Bag types - only HashMap and ArrayList. Examining the object right before Hibernate merges it, it seems as though many of the ArrayList types were actually being wrapped by Hibernate in a PersistentBag. (But, underneath the bags were actual concrete ArrayList implementations, so I didn&#39;t see this to be a problem.)","body":"@mattb We definitely don&#39;t have any Bag types - only HashMap and ArrayList. Examining the object right before Hibernate merges it, it seems as though many of the ArrayList types were actually being wrapped by Hibernate in a PersistentBag. (But, underneath the bags were actual concrete ArrayList implementations, so I didn&#39;t see this to be a problem.)"},{"owner":{"account_id":31954,"reputation":31434,"user_id":88111,"accept_rate":89,"display_name":"Craig Otis"},"score":0,"creation_date":1338892691,"post_id":10889386,"comment_id":14203568,"body_markdown":"@Johanna Thanks - I&#39;ll examine the object in the debugger again, and see if I can actually determine which child is causing issues.","body":"@Johanna Thanks - I&#39;ll examine the object in the debugger again, and see if I can actually determine which child is causing issues."},{"owner":{"account_id":91652,"reputation":458,"user_id":251542,"display_name":"Andr&#233; Onuki"},"score":2,"creation_date":1556293212,"post_id":10889386,"comment_id":98401717,"body_markdown":"you probably know this by now, but for future readers, whenever you persist a List without specifying the @Order, Hibernate will treat it as a bag.\nAnd the AbstractList comes from the backing list used in PersistentBag.","body":"you probably know this by now, but for future readers, whenever you persist a List without specifying the @Order, Hibernate will treat it as a bag. And the AbstractList comes from the backing list used in PersistentBag."}],"answers":[{"tags":[],"owner":{"account_id":1740127,"reputation":72,"user_id":1591774,"display_name":"Myo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1589111486,"creation_date":1378804661,"answer_id":18715010,"question_id":10889386,"body_markdown":"In this block of code:\r\n```java\r\n@OneToMany(cascade = CascadeType.ALL)\r\n@LazyCollection(LazyCollectionOption.FALSE)\r\nprivate Map&lt;String, Project&gt; associatedProjects = new HashMap&lt;String, Project&gt;();\r\n```\r\nhow about to add this.\r\n\r\n```java\r\n@OneToMany(cascade = CascadeType.ALL)\r\n\r\n*****@JoinColumn(name=&quot;&quot;)***** \r\n\r\n@LazyCollection(LazyCollectionOption.FALSE)\r\nprivate Map&lt;String, Project&gt; associatedProjects = new HashMap&lt;String, Project&gt;();\r\n```","title":"UnsupportedOperationException when merging an existing Hibernate model object?","body":"<p>In this block of code:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@OneToMany(cascade = CascadeType.ALL)\n@LazyCollection(LazyCollectionOption.FALSE)\nprivate Map&lt;String, Project&gt; associatedProjects = new HashMap&lt;String, Project&gt;();\n</code></pre>\n\n<p>how about to add this.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@OneToMany(cascade = CascadeType.ALL)\n\n*****@JoinColumn(name=\"\")***** \n\n@LazyCollection(LazyCollectionOption.FALSE)\nprivate Map&lt;String, Project&gt; associatedProjects = new HashMap&lt;String, Project&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":50535,"reputation":35297,"user_id":150771,"accept_rate":83,"display_name":"Chris Thompson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1398699219,"creation_date":1398699219,"answer_id":23345200,"question_id":10889386,"body_markdown":"I ran into this same issue (with `Sets` not `Lists`) and it seems like Hibernate&#39;s Persistent variant of the collection in question attempts to delegate to an abstract base class that doesn&#39;t implement the `add` method.  The solution I found was to set the data member to null, do a `merge` and then set the data member back to the new list that I wanted it to contain.  The rather obvious downside is that I blow away all of the records even if I only want to add or remove one.  The upside is that it actually works...","title":"UnsupportedOperationException when merging an existing Hibernate model object?","body":"<p>I ran into this same issue (with <code>Sets</code> not <code>Lists</code>) and it seems like Hibernate's Persistent variant of the collection in question attempts to delegate to an abstract base class that doesn't implement the <code>add</code> method.  The solution I found was to set the data member to null, do a <code>merge</code> and then set the data member back to the new list that I wanted it to contain.  The rather obvious downside is that I blow away all of the records even if I only want to add or remove one.  The upside is that it actually works...</p>\n"},{"tags":[],"owner":{"account_id":318313,"reputation":4457,"user_id":635473,"accept_rate":55,"display_name":"Nik Kashi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1448783743,"creation_date":1448783743,"answer_id":33980625,"question_id":10889386,"body_markdown":"Use this transaction type:\r\n\r\n    @javax.transaction.Transactional(Transactional.TxType.REQUIRES_NEW)","title":"UnsupportedOperationException when merging an existing Hibernate model object?","body":"<p>Use this transaction type:</p>\n\n<pre><code>@javax.transaction.Transactional(Transactional.TxType.REQUIRES_NEW)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1164178,"reputation":1598,"user_id":1143126,"accept_rate":80,"display_name":"RobertG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647453503,"creation_date":1647453503,"answer_id":71502174,"question_id":10889386,"body_markdown":"I had the same effect for recently - I had used \r\n`java.util.Arrays#asList` in my test case.\r\n\r\nIt was easy to miss, as the returned class is named `ArrayList`, but it was not `java.util.ArrayList`, but `java.util.Arrays.ArrayList`","title":"UnsupportedOperationException when merging an existing Hibernate model object?","body":"<p>I had the same effect for recently - I had used\n<code>java.util.Arrays#asList</code> in my test case.</p>\n<p>It was easy to miss, as the returned class is named <code>ArrayList</code>, but it was not <code>java.util.ArrayList</code>, but <code>java.util.Arrays.ArrayList</code></p>\n"}],"owner":{"account_id":31954,"reputation":31434,"user_id":88111,"accept_rate":89,"display_name":"Craig Otis"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7049,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":4,"score":15,"last_activity_date":1647453503,"creation_date":1338849630,"question_id":10889386,"body_markdown":"After an upgrade from Hibernate 3 to 4, we&#39;re working through a few kinks that popped up along the way. One that has us particularly stumped is an UnsupportedOperationException, where an existing object is pulled from the database, tweaked, and merged.\r\n\r\n*The problem* is that Hibernate appears to be adding an object to an `AbstractList`\r\n\r\nThis only seems to happen to one particular object type, when saved in our DAO, but as best as we can tell:\r\n\r\n 1. We&#39;re not using any sublist() or asList() methods that would cause an immutable instance to be created.\r\n 2. Examining the object that&#39;s being saved (which is enormous and has many children) I don&#39;t *think* that any of its children items are `AbstractList` types.\r\n\r\nHere are the code snippets around the stack points:\r\n\r\n**HibernateDao.save():**\r\n\r\n    @Transactional\r\n    public void save(T item) {\r\n        try {\r\n            getSessionFactory().getCurrentSession().merge(item);\r\n        } catch (Exception ex) {\r\n            LOGGER.debug(&quot;Unable to merge&quot;, ex);\r\n            LOGGER.warn(&quot;Unable to merge item, saving instead. (Of type &quot; + item.getClass() + &quot;)&quot;);\r\n            getSessionFactory().getCurrentSession().saveOrUpdate(item);\r\n        }\r\n    }\r\n\r\nOur **User** item, which is being saved, has a number of children items defined like so:\r\n\r\n    @OneToMany(cascade = CascadeType.ALL)\r\n    @LazyCollection(LazyCollectionOption.FALSE)\r\n    private Map&lt;String, Project&gt; associatedProjects = new HashMap&lt;String, Project&gt;();\r\n\r\nThe `Project` class has other similarly-annotated children, but everything has `CascadeType.ALL`, and `LazyCollectionOption.FALSE` defined.\r\n\r\nHere is the (quite tall) stack trace:\r\n\r\n*Note that our code begins with `com.company.application`*\r\n\r\n    06/04 18:15:45 DEBUG [Thread-19258] hibernate.HibernateDao.save- Unable to merge\r\n    java.lang.UnsupportedOperationException\r\n            at java.util.AbstractList.add(AbstractList.java:148)\r\n            at java.util.AbstractList.add(AbstractList.java:108)\r\n            at org.hibernate.collection.internal.PersistentBag.add(PersistentBag.java:292)\r\n            at org.hibernate.type.CollectionType.replaceElements(CollectionType.java:496)\r\n            at org.hibernate.type.CollectionType.replace(CollectionType.java:563)\r\n            at org.hibernate.type.AbstractType.replace(AbstractType.java:178)\r\n            at org.hibernate.type.TypeHelper.replaceAssociations(TypeHelper.java:261)\r\n            at org.hibernate.event.internal.DefaultMergeEventListener.copyValues(DefaultMergeEventListener.java:398)\r\n            at org.hibernate.event.internal.DefaultMergeEventListener.entityIsTransient(DefaultMergeEventListener.java:221)\r\n            at org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:282)\r\n            at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:151)\r\n            at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:914)\r\n            at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:896)\r\n            at org.hibernate.engine.spi.CascadingAction$6.cascade(CascadingAction.java:288)\r\n            at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:380)\r\n            at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:323)\r\n            at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:208)\r\n            at org.hibernate.engine.internal.Cascade.cascadeCollectionElements(Cascade.java:409)\r\n            at org.hibernate.engine.internal.Cascade.cascadeCollection(Cascade.java:350)\r\n            at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:326)\r\n            at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:208)\r\n            at org.hibernate.engine.internal.Cascade.cascade(Cascade.java:165)\r\n            at org.hibernate.event.internal.DefaultMergeEventListener.cascadeOnMerge(DefaultMergeEventListener.java:439)\r\n            at org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:308)\r\n            at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:151)\r\n            at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:914)\r\n            at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:896)\r\n            at org.hibernate.engine.spi.CascadingAction$6.cascade(CascadingAction.java:288)\r\n            at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:380)\r\n            at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:323)\r\n            at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:208)\r\n            at org.hibernate.engine.internal.Cascade.cascadeCollectionElements(Cascade.java:409)\r\n            at org.hibernate.engine.internal.Cascade.cascadeCollection(Cascade.java:350)\r\n            at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:326)\r\n            at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:208)\r\n            at org.hibernate.engine.internal.Cascade.cascade(Cascade.java:165)\r\n            at org.hibernate.event.internal.DefaultMergeEventListener.cascadeOnMerge(DefaultMergeEventListener.java:439)\r\n            at org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:308)\r\n            at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:151)\r\n            at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:914)\r\n            at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:896)\r\n            at org.hibernate.engine.spi.CascadingAction$6.cascade(CascadingAction.java:288)\r\n            at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:380)\r\n            at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:323)\r\n            at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:208)\r\n            at org.hibernate.engine.internal.Cascade.cascadeCollectionElements(Cascade.java:409)\r\n            at org.hibernate.engine.internal.Cascade.cascadeCollection(Cascade.java:350)\r\n            at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:326)\r\n            at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:208)\r\n            at org.hibernate.engine.internal.Cascade.cascade(Cascade.java:165)\r\n            at org.hibernate.event.internal.DefaultMergeEventListener.cascadeOnMerge(DefaultMergeEventListener.java:439)\r\n            at org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:308)\r\n            at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:151)\r\n            at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:76)\r\n            at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:904)\r\n            at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:888)\r\n            at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:892)\r\n            at com.company.hibernate.HibernateDao.save(HibernateDao.java:129)\r\n            at sun.reflect.GeneratedMethodAccessor62.invoke(Unknown Source)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:601)\r\n            at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:318)\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\r\n            at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:106)\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n            at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)\r\n            at $Proxy53.save(Unknown Source)\r\n            at com.company.application.UserManager.save(UserManager.java:46)\r\n            at sun.reflect.GeneratedMethodAccessor67.invoke(Unknown Source)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:601)\r\n            at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:318)\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\r\n            at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:106)\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n            at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)\r\n            at $Proxy66.save(Unknown Source)\r\n            at com.company.application.UserOperationController.saveUser(UserOperationController.java:533)\r\n\r\n**We&#39;re not sure where the AbstractList is coming from,** or how we&#39;re responsible. Are there any potential pitfalls when working with Hibernate 4 (this issue is new since the upgrade) that could result in partially-unmodifiable objects? Or that would cause Hibernate to act in a way that results in it attempting to create unmodifiable instances of objects?","title":"UnsupportedOperationException when merging an existing Hibernate model object?","body":"<p>After an upgrade from Hibernate 3 to 4, we're working through a few kinks that popped up along the way. One that has us particularly stumped is an UnsupportedOperationException, where an existing object is pulled from the database, tweaked, and merged.</p>\n\n<p><em>The problem</em> is that Hibernate appears to be adding an object to an <code>AbstractList</code></p>\n\n<p>This only seems to happen to one particular object type, when saved in our DAO, but as best as we can tell:</p>\n\n<ol>\n<li>We're not using any sublist() or asList() methods that would cause an immutable instance to be created.</li>\n<li>Examining the object that's being saved (which is enormous and has many children) I don't <em>think</em> that any of its children items are <code>AbstractList</code> types.</li>\n</ol>\n\n<p>Here are the code snippets around the stack points:</p>\n\n<p><strong>HibernateDao.save():</strong></p>\n\n<pre><code>@Transactional\npublic void save(T item) {\n    try {\n        getSessionFactory().getCurrentSession().merge(item);\n    } catch (Exception ex) {\n        LOGGER.debug(\"Unable to merge\", ex);\n        LOGGER.warn(\"Unable to merge item, saving instead. (Of type \" + item.getClass() + \")\");\n        getSessionFactory().getCurrentSession().saveOrUpdate(item);\n    }\n}\n</code></pre>\n\n<p>Our <strong>User</strong> item, which is being saved, has a number of children items defined like so:</p>\n\n<pre><code>@OneToMany(cascade = CascadeType.ALL)\n@LazyCollection(LazyCollectionOption.FALSE)\nprivate Map&lt;String, Project&gt; associatedProjects = new HashMap&lt;String, Project&gt;();\n</code></pre>\n\n<p>The <code>Project</code> class has other similarly-annotated children, but everything has <code>CascadeType.ALL</code>, and <code>LazyCollectionOption.FALSE</code> defined.</p>\n\n<p>Here is the (quite tall) stack trace:</p>\n\n<p><em>Note that our code begins with <code>com.company.application</code></em></p>\n\n<pre><code>06/04 18:15:45 DEBUG [Thread-19258] hibernate.HibernateDao.save- Unable to merge\njava.lang.UnsupportedOperationException\n        at java.util.AbstractList.add(AbstractList.java:148)\n        at java.util.AbstractList.add(AbstractList.java:108)\n        at org.hibernate.collection.internal.PersistentBag.add(PersistentBag.java:292)\n        at org.hibernate.type.CollectionType.replaceElements(CollectionType.java:496)\n        at org.hibernate.type.CollectionType.replace(CollectionType.java:563)\n        at org.hibernate.type.AbstractType.replace(AbstractType.java:178)\n        at org.hibernate.type.TypeHelper.replaceAssociations(TypeHelper.java:261)\n        at org.hibernate.event.internal.DefaultMergeEventListener.copyValues(DefaultMergeEventListener.java:398)\n        at org.hibernate.event.internal.DefaultMergeEventListener.entityIsTransient(DefaultMergeEventListener.java:221)\n        at org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:282)\n        at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:151)\n        at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:914)\n        at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:896)\n        at org.hibernate.engine.spi.CascadingAction$6.cascade(CascadingAction.java:288)\n        at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:380)\n        at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:323)\n        at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:208)\n        at org.hibernate.engine.internal.Cascade.cascadeCollectionElements(Cascade.java:409)\n        at org.hibernate.engine.internal.Cascade.cascadeCollection(Cascade.java:350)\n        at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:326)\n        at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:208)\n        at org.hibernate.engine.internal.Cascade.cascade(Cascade.java:165)\n        at org.hibernate.event.internal.DefaultMergeEventListener.cascadeOnMerge(DefaultMergeEventListener.java:439)\n        at org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:308)\n        at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:151)\n        at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:914)\n        at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:896)\n        at org.hibernate.engine.spi.CascadingAction$6.cascade(CascadingAction.java:288)\n        at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:380)\n        at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:323)\n        at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:208)\n        at org.hibernate.engine.internal.Cascade.cascadeCollectionElements(Cascade.java:409)\n        at org.hibernate.engine.internal.Cascade.cascadeCollection(Cascade.java:350)\n        at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:326)\n        at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:208)\n        at org.hibernate.engine.internal.Cascade.cascade(Cascade.java:165)\n        at org.hibernate.event.internal.DefaultMergeEventListener.cascadeOnMerge(DefaultMergeEventListener.java:439)\n        at org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:308)\n        at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:151)\n        at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:914)\n        at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:896)\n        at org.hibernate.engine.spi.CascadingAction$6.cascade(CascadingAction.java:288)\n        at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:380)\n        at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:323)\n        at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:208)\n        at org.hibernate.engine.internal.Cascade.cascadeCollectionElements(Cascade.java:409)\n        at org.hibernate.engine.internal.Cascade.cascadeCollection(Cascade.java:350)\n        at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:326)\n        at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:208)\n        at org.hibernate.engine.internal.Cascade.cascade(Cascade.java:165)\n        at org.hibernate.event.internal.DefaultMergeEventListener.cascadeOnMerge(DefaultMergeEventListener.java:439)\n        at org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:308)\n        at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:151)\n        at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:76)\n        at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:904)\n        at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:888)\n        at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:892)\n        at com.company.hibernate.HibernateDao.save(HibernateDao.java:129)\n        at sun.reflect.GeneratedMethodAccessor62.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:601)\n        at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:318)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:106)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)\n        at $Proxy53.save(Unknown Source)\n        at com.company.application.UserManager.save(UserManager.java:46)\n        at sun.reflect.GeneratedMethodAccessor67.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:601)\n        at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:318)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:106)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)\n        at $Proxy66.save(Unknown Source)\n        at com.company.application.UserOperationController.saveUser(UserOperationController.java:533)\n</code></pre>\n\n<p><strong>We're not sure where the AbstractList is coming from,</strong> or how we're responsible. Are there any potential pitfalls when working with Hibernate 4 (this issue is new since the upgrade) that could result in partially-unmodifiable objects? Or that would cause Hibernate to act in a way that results in it attempting to create unmodifiable instances of objects?</p>\n"},{"tags":["java","android","java.util.scanner"],"answers":[{"tags":[],"owner":{"account_id":16762016,"reputation":301,"user_id":12116507,"display_name":"dam1ne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647453287,"creation_date":1647453287,"answer_id":71502122,"question_id":71501455,"body_markdown":"I was correct. I solved the problem by making only one scanner a global variable and handling all inputs through that scanner.\r\n\t\t\t\t\t\t","title":"java error: java.util.NoSuchElementException: No line found","body":"<p>I was correct. I solved the problem by making only one scanner a global variable and handling all inputs through that scanner.</p>\n"}],"owner":{"account_id":16762016,"reputation":301,"user_id":12116507,"display_name":"dam1ne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":302,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1647453287,"creation_date":1647450663,"question_id":71501455,"body_markdown":"I know there are duplicate questions of this but I am having trouble applying those solutions to my code. From what I&#39;ve read it seems the error might be from having multiple scanners? I&#39;m still learning java so I&#39;m not entirely sure. Error is near bottom of code.\r\n\r\n    outer: for (int i = 0; i &lt; 1000000000; i++) {\r\n\r\n\t\t\t\tString firstUsername = null;\r\n\r\n\t\t\t\tBufferedReader reader;\r\n\t\t\t\treader = new BufferedReader(new FileReader(pages));\r\n\t\t\t\tif (reader.readLine() == null) {\r\n\t\t\t\t\tSystem.out.println(&quot;EMPTY&quot;);\r\n\t\t\t\t\treader.close();\r\n\t\t\t\t\tSystem.exit(0);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfirstUsername = reader.readLine();\r\n\t\t\t\t\tSystem.out.println(firstUsername);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treader.close();\r\n\r\n\t\t\t\tStringBuilder contentBuilder = new StringBuilder();\r\n\t\t\t\ttry (Stream&lt;String&gt; stream = Files.lines(Paths.get(&quot;&quot; + accepted + &quot;&quot;), StandardCharsets.UTF_8)) {\r\n\t\t\t\t\tstream.forEach(s -&gt; contentBuilder.append(s));\r\n\t\t\t\t} catch (IOException e1) {\r\n\t\t\t\t\te1.printStackTrace();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tString users = contentBuilder.toString();\r\n\r\n\t\t\t\tdriver.findElement(By.id(&quot;com.instagram.android:id/action_bar_search_edit_text&quot;)).click();\r\n\t\t\t\tThread.sleep(500);\r\n\r\n\t\t\t\tdriver.findElement(By.id(&quot;com.instagram.android:id/action_bar_search_edit_text&quot;))\r\n\t\t\t\t\t\t.sendKeys(firstUsername);\r\n\t\t\t\tThread.sleep(500);\r\n\r\n\t\t\t\tdriver.pressKey(new KeyEvent(AndroidKey.BACK));\r\n\t\t\t\tThread.sleep(500);\r\n\r\n\t\t\t\ttry {\r\n\r\n\t\t\t\t\tdriver.findElement(By.id(&quot;com.instagram.android:id/echo_text&quot;)).click();\r\n\t\t\t\t\tThread.sleep(500);\r\n\r\n\t\t\t\t} catch (org.openqa.selenium.NoSuchElementException e) {\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tt.tap(PointOption.point(345, 275)).perform(); // accounts\r\n\t\t\t\tThread.sleep(500);\r\n\r\n\t\t\t\ttry {\r\n\r\n\t\t\t\t\tBy user = By.xpath(&quot;//androidx.recyclerview.widget.RecyclerView[@index=&#39;0&#39;]//*[@text=&#39;&quot;\r\n\t\t\t\t\t\t\t+ firstUsername + &quot;&#39;]&quot;);\r\n\t\t\t\t\tdriver.findElement(user).click();\r\n\t\t\t\t\tThread.sleep(2500);\r\n\r\n\t\t\t\t} catch (org.openqa.selenium.NoSuchElementException e) {\r\n\r\n\t\t\t\t\tScanner fileScanner = new Scanner(pages);\r\n\t\t\t\t\tfileScanner.nextLine();\r\n\r\n\t\t\t\t\tFileWriter fileStream = new FileWriter(pages);\r\n\t\t\t\t\tBufferedWriter out = new BufferedWriter(fileStream);\r\n\t\t\t\t\twhile (fileScanner.hasNextLine()) {\r\n\t\t\t\t\t\tString next = fileScanner.nextLine();\r\n\t\t\t\t\t\tif (next.equals(&quot;\\n&quot;))\r\n\t\t\t\t\t\t\tout.newLine();\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tout.write(next);\r\n\t\t\t\t\t\tout.newLine();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tout.close();\r\n\t\t\t\t\tfileScanner.close();\r\n\r\n\t\t\t\t\tdriver.pressKey(new KeyEvent(AndroidKey.BACK));\r\n\t\t\t\t\tThread.sleep(1000);\r\n\r\n\t\t\t\t\tt.tap(PointOption.point(970, 150)).perform(); // x\r\n\t\t\t\t\tThread.sleep(500);\r\n\r\n\t\t\t\t\tcontinue outer;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tString decision = &quot;&quot;;\r\n\t\t\t\tScanner keyInput = null;\r\n\r\n\t\t\t\tif (users.contains(firstUsername)) {\r\n\t\t\t\t\tdecision = &quot;y&quot;;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tkeyInput = new Scanner(System.in);\r\n\t\t\t\t\tSystem.out.println(&quot;Satisfied user? y or n: &quot;);\r\n\t\t\t\t\tdecision = keyInput.nextLine();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (decision.matches(&quot;n&quot;)) {\r\n\r\n\t\t\t\t\tkeyInput.close();\r\n\r\n\t\t\t\t\tScanner fileScanner = new Scanner(pages);\r\n\t\t\t\t\tfileScanner.nextLine();\r\n\r\n\t\t\t\t\tFileWriter fileStream = new FileWriter(pages);\r\n\t\t\t\t\tBufferedWriter out = new BufferedWriter(fileStream);\r\n\t\t\t\t\twhile (fileScanner.hasNextLine()) {\r\n\t\t\t\t\t\tString next = fileScanner.nextLine();\r\n\t\t\t\t\t\tif (next.equals(&quot;\\n&quot;))\r\n\t\t\t\t\t\t\tout.newLine();\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tout.write(next);\r\n\t\t\t\t\t\tout.newLine();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tout.close();\r\n\t\t\t\t\tfileScanner.close();\r\n\r\n\t\t\t\t\tFileWriter usernameWriter1 = new FileWriter(declined, true);\r\n\t\t\t\t\tusernameWriter1.write(firstUsername);\r\n\t\t\t\t\tusernameWriter1.write(&quot;\\r\\n&quot;);\r\n\t\t\t\t\tusernameWriter1.close();\r\n\r\n\t\t\t\t\tt.tap(PointOption.point(335, 1835)).perform(); // search\r\n\t\t\t\t\tThread.sleep(500);\r\n\r\n\t\t\t\t\tt.tap(PointOption.point(525, 130)).perform(); // search bar\r\n\t\t\t\t\tThread.sleep(500);\r\n\r\n\t\t\t\t\tcontinue outer;\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// decision = y\r\n\r\n\t\t\t\t\tFileWriter usernameWriter1 = new FileWriter(used, true);\r\n\t\t\t\t\tusernameWriter1.write(firstUsername);\r\n\t\t\t\t\tusernameWriter1.write(&quot;\\r\\n&quot;);\r\n\t\t\t\t\tusernameWriter1.close();\r\n\r\n\t\t\t\t\tFileWriter usernameWriter2 = new FileWriter(accepted, true);\r\n\t\t\t\t\tusernameWriter2.write(firstUsername);\r\n\t\t\t\t\tusernameWriter2.write(&quot;\\r\\n&quot;);\r\n\t\t\t\t\tusernameWriter2.close();\r\n\r\n\t\t\t\t\tScanner keyInput1 = new Scanner(System.in);\r\n\t\t\t\t\tSystem.out.println(&quot;Remove account? y or n:&quot;);\r\n\t\t\t\t\tString decision1 = keyInput1.nextLine();\r\n\r\n\t\t\t\t\tif (decision1.matches(&quot;n&quot;)) {\r\n\r\n\t\t\t\t\t\tremoveAccount = false;\r\n\t\t\t\t\t\tkeyInput1.close();\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tremoveAccount = true;\r\n\t\t\t\t\t\tkeyInput1.close();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (removeAccount == true) {\r\n\r\n\t\t\t\t\t\tScanner fileScanner = new Scanner(pages);\r\n\t\t\t\t\t\tfileScanner.nextLine();\r\n\r\n\t\t\t\t\t\tFileWriter fileStream = new FileWriter(pages);\r\n\t\t\t\t\t\tBufferedWriter out = new BufferedWriter(fileStream);\r\n\t\t\t\t\t\twhile (fileScanner.hasNextLine()) {\r\n\t\t\t\t\t\t\tString next = fileScanner.nextLine();\r\n\t\t\t\t\t\t\tif (next.equals(&quot;\\n&quot;))\r\n\t\t\t\t\t\t\t\tout.newLine();\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\tout.write(next);\r\n\t\t\t\t\t\t\tout.newLine();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tout.close();\r\n\t\t\t\t\t\tfileScanner.close();\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tMobileElement postCount = (MobileElement) driver\r\n\t\t\t\t\t\t.findElement(By.id(&quot;com.instagram.android:id/row_profile_header_textview_post_count&quot;));\r\n\t\t\t\tString amtPost = postCount.getText();\r\n\r\n\t\t\t\tif (amtPost.matches(&quot;0&quot;)) {\r\n\r\n\t\t\t\t\tusingFollowers = true;\r\n\t\t\t\t\tdriver.findElement(By.id(&quot;com.instagram.android:id/row_profile_header_textview_followers_count&quot;))\r\n\t\t\t\t\t\t\t.click();\r\n\t\t\t\t\tThread.sleep(2500);\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tScanner keyInput2 = new Scanner(System.in);\r\n\t\t\t\t\tSystem.out.println(&quot;Use followers or post likers?: f or p&quot;);\r\n\t\t\t\t\tString decision2 = keyInput2.nextLine(); // ERROR HERE\r\n\r\n\t\t\t\t\tif (decision2.matches(&quot;f&quot;)) {\r\n\r\n\t\t\t\t\t\tusingFollowers = true;\r\n\t\t\t\t\t\tdriver.findElement(\r\n\t\t\t\t\t\t\t\tBy.id(&quot;com.instagram.android:id/row_profile_header_textview_followers_count&quot;)).click();\r\n\t\t\t\t\t\tThread.sleep(2500);\r\n\t\t\t\t\t\tkeyInput2.close();\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// none\r\n\t\t\t\t\t}\r\n\r\nIve tried\r\n\r\n    while(keyInput2.hasNextLine()){\r\n\r\n        System.out.println(&quot;Use followers or post likers?: f or p&quot;);\r\n        String decision2 = keyInput2.nextLine();\r\n        \r\n        if (decision2.matches(&quot;f&quot;)) {\r\n\r\n\t\t\tusingFollowers = true;\r\n\t\t\tdriver.findElement(By.id(&quot;com.instagram.android:id/row_profile_header_textview_followers_count&quot;)).click();\r\n\t\t\tThread.sleep(2500);\r\n\t\t\tkeyInput2.close();\r\n\t\t\tbreak;\r\n\r\n\t\t\t} else {\r\n\t\t\t\t// none\r\n\t\t\t}\r\n    }\r\n\r\nBut all it did was skip the while loop.\r\n\r\n","title":"java error: java.util.NoSuchElementException: No line found","body":"<p>I know there are duplicate questions of this but I am having trouble applying those solutions to my code. From what I've read it seems the error might be from having multiple scanners? I'm still learning java so I'm not entirely sure. Error is near bottom of code.</p>\n<pre><code>outer: for (int i = 0; i &lt; 1000000000; i++) {\n\n            String firstUsername = null;\n\n            BufferedReader reader;\n            reader = new BufferedReader(new FileReader(pages));\n            if (reader.readLine() == null) {\n                System.out.println(&quot;EMPTY&quot;);\n                reader.close();\n                System.exit(0);\n                return;\n            } else {\n                firstUsername = reader.readLine();\n                System.out.println(firstUsername);\n            }\n\n            reader.close();\n\n            StringBuilder contentBuilder = new StringBuilder();\n            try (Stream&lt;String&gt; stream = Files.lines(Paths.get(&quot;&quot; + accepted + &quot;&quot;), StandardCharsets.UTF_8)) {\n                stream.forEach(s -&gt; contentBuilder.append(s));\n            } catch (IOException e1) {\n                e1.printStackTrace();\n            }\n\n            String users = contentBuilder.toString();\n\n            driver.findElement(By.id(&quot;com.instagram.android:id/action_bar_search_edit_text&quot;)).click();\n            Thread.sleep(500);\n\n            driver.findElement(By.id(&quot;com.instagram.android:id/action_bar_search_edit_text&quot;))\n                    .sendKeys(firstUsername);\n            Thread.sleep(500);\n\n            driver.pressKey(new KeyEvent(AndroidKey.BACK));\n            Thread.sleep(500);\n\n            try {\n\n                driver.findElement(By.id(&quot;com.instagram.android:id/echo_text&quot;)).click();\n                Thread.sleep(500);\n\n            } catch (org.openqa.selenium.NoSuchElementException e) {\n\n            }\n\n            t.tap(PointOption.point(345, 275)).perform(); // accounts\n            Thread.sleep(500);\n\n            try {\n\n                By user = By.xpath(&quot;//androidx.recyclerview.widget.RecyclerView[@index='0']//*[@text='&quot;\n                        + firstUsername + &quot;']&quot;);\n                driver.findElement(user).click();\n                Thread.sleep(2500);\n\n            } catch (org.openqa.selenium.NoSuchElementException e) {\n\n                Scanner fileScanner = new Scanner(pages);\n                fileScanner.nextLine();\n\n                FileWriter fileStream = new FileWriter(pages);\n                BufferedWriter out = new BufferedWriter(fileStream);\n                while (fileScanner.hasNextLine()) {\n                    String next = fileScanner.nextLine();\n                    if (next.equals(&quot;\\n&quot;))\n                        out.newLine();\n                    else\n                        out.write(next);\n                    out.newLine();\n                }\n                out.close();\n                fileScanner.close();\n\n                driver.pressKey(new KeyEvent(AndroidKey.BACK));\n                Thread.sleep(1000);\n\n                t.tap(PointOption.point(970, 150)).perform(); // x\n                Thread.sleep(500);\n\n                continue outer;\n\n            }\n\n            String decision = &quot;&quot;;\n            Scanner keyInput = null;\n\n            if (users.contains(firstUsername)) {\n                decision = &quot;y&quot;;\n            } else {\n                keyInput = new Scanner(System.in);\n                System.out.println(&quot;Satisfied user? y or n: &quot;);\n                decision = keyInput.nextLine();\n            }\n\n            if (decision.matches(&quot;n&quot;)) {\n\n                keyInput.close();\n\n                Scanner fileScanner = new Scanner(pages);\n                fileScanner.nextLine();\n\n                FileWriter fileStream = new FileWriter(pages);\n                BufferedWriter out = new BufferedWriter(fileStream);\n                while (fileScanner.hasNextLine()) {\n                    String next = fileScanner.nextLine();\n                    if (next.equals(&quot;\\n&quot;))\n                        out.newLine();\n                    else\n                        out.write(next);\n                    out.newLine();\n                }\n                out.close();\n                fileScanner.close();\n\n                FileWriter usernameWriter1 = new FileWriter(declined, true);\n                usernameWriter1.write(firstUsername);\n                usernameWriter1.write(&quot;\\r\\n&quot;);\n                usernameWriter1.close();\n\n                t.tap(PointOption.point(335, 1835)).perform(); // search\n                Thread.sleep(500);\n\n                t.tap(PointOption.point(525, 130)).perform(); // search bar\n                Thread.sleep(500);\n\n                continue outer;\n\n            } else {\n                // decision = y\n\n                FileWriter usernameWriter1 = new FileWriter(used, true);\n                usernameWriter1.write(firstUsername);\n                usernameWriter1.write(&quot;\\r\\n&quot;);\n                usernameWriter1.close();\n\n                FileWriter usernameWriter2 = new FileWriter(accepted, true);\n                usernameWriter2.write(firstUsername);\n                usernameWriter2.write(&quot;\\r\\n&quot;);\n                usernameWriter2.close();\n\n                Scanner keyInput1 = new Scanner(System.in);\n                System.out.println(&quot;Remove account? y or n:&quot;);\n                String decision1 = keyInput1.nextLine();\n\n                if (decision1.matches(&quot;n&quot;)) {\n\n                    removeAccount = false;\n                    keyInput1.close();\n\n                } else {\n\n                    removeAccount = true;\n                    keyInput1.close();\n                }\n\n                if (removeAccount == true) {\n\n                    Scanner fileScanner = new Scanner(pages);\n                    fileScanner.nextLine();\n\n                    FileWriter fileStream = new FileWriter(pages);\n                    BufferedWriter out = new BufferedWriter(fileStream);\n                    while (fileScanner.hasNextLine()) {\n                        String next = fileScanner.nextLine();\n                        if (next.equals(&quot;\\n&quot;))\n                            out.newLine();\n                        else\n                            out.write(next);\n                        out.newLine();\n                    }\n                    out.close();\n                    fileScanner.close();\n\n                }\n            }\n\n            MobileElement postCount = (MobileElement) driver\n                    .findElement(By.id(&quot;com.instagram.android:id/row_profile_header_textview_post_count&quot;));\n            String amtPost = postCount.getText();\n\n            if (amtPost.matches(&quot;0&quot;)) {\n\n                usingFollowers = true;\n                driver.findElement(By.id(&quot;com.instagram.android:id/row_profile_header_textview_followers_count&quot;))\n                        .click();\n                Thread.sleep(2500);\n                break;\n\n            } else {\n\n                Scanner keyInput2 = new Scanner(System.in);\n                System.out.println(&quot;Use followers or post likers?: f or p&quot;);\n                String decision2 = keyInput2.nextLine(); // ERROR HERE\n\n                if (decision2.matches(&quot;f&quot;)) {\n\n                    usingFollowers = true;\n                    driver.findElement(\n                            By.id(&quot;com.instagram.android:id/row_profile_header_textview_followers_count&quot;)).click();\n                    Thread.sleep(2500);\n                    keyInput2.close();\n                    break;\n\n                } else {\n                    // none\n                }\n</code></pre>\n<p>Ive tried</p>\n<pre><code>while(keyInput2.hasNextLine()){\n\n    System.out.println(&quot;Use followers or post likers?: f or p&quot;);\n    String decision2 = keyInput2.nextLine();\n    \n    if (decision2.matches(&quot;f&quot;)) {\n\n        usingFollowers = true;\n        driver.findElement(By.id(&quot;com.instagram.android:id/row_profile_header_textview_followers_count&quot;)).click();\n        Thread.sleep(2500);\n        keyInput2.close();\n        break;\n\n        } else {\n            // none\n        }\n}\n</code></pre>\n<p>But all it did was skip the while loop.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1647451414,"post_id":71501503,"comment_id":126376837,"body_markdown":"what logger library is this using?","body":"what logger library is this using?"},{"owner":{"account_id":6898784,"reputation":518,"user_id":5299082,"accept_rate":0,"display_name":"Krusty the Clown"},"score":0,"creation_date":1647452305,"post_id":71501503,"comment_id":126377203,"body_markdown":"Why not make an ArrayList of Strings and add the logged message to it every time you call logger info?","body":"Why not make an ArrayList of Strings and add the logged message to it every time you call logger info?"},{"owner":{"account_id":22029581,"reputation":31,"user_id":16297066,"display_name":"Aaa"},"score":0,"creation_date":1647482740,"post_id":71501503,"comment_id":126384872,"body_markdown":"slf4j logger @OldProgrammer","body":"slf4j logger @OldProgrammer"},{"owner":{"account_id":22029581,"reputation":31,"user_id":16297066,"display_name":"Aaa"},"score":0,"creation_date":1647483164,"post_id":71501503,"comment_id":126384954,"body_markdown":"suppose there are multiple cases for which i am printing message on console  but i need to track the steps whatever is executed and send it to the client via mail . so how will I do it here as I do not want to make another function writing some hard coded text . instead is there any way that i can store the logger message itself . at the end of thread i can mail to client whatever the steps haven completed","body":"suppose there are multiple cases for which i am printing message on console  but i need to track the steps whatever is executed and send it to the client via mail . so how will I do it here as I do not want to make another function writing some hard coded text . instead is there any way that i can store the logger message itself . at the end of thread i can mail to client whatever the steps haven completed"}],"answers":[{"tags":[],"owner":{"account_id":13428419,"reputation":11,"user_id":9688949,"display_name":"Sandy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647452510,"creation_date":1647452510,"answer_id":71501942,"question_id":71501503,"body_markdown":"The info method of any logger library converts the message object passed as parameter to a string by invoking the appropriate ObjectRenderer.\r\nHence even if you pass arraylist as a parameter, it will convert the object into some String value(basically hash value) and store that value which is not of any use.","title":"can we store logger msg in arraylist","body":"<p>The info method of any logger library converts the message object passed as parameter to a string by invoking the appropriate ObjectRenderer.\nHence even if you pass arraylist as a parameter, it will convert the object into some String value(basically hash value) and store that value which is not of any use.</p>\n"}],"owner":{"account_id":22029581,"reputation":31,"user_id":16297066,"display_name":"Aaa"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647452510,"creation_date":1647450888,"question_id":71501503,"body_markdown":"    for(int i = 0; i&lt;n ; i++){\r\n       logger.info(&quot;[{}],- STATUS :: {}, n , n+1); // sending some values in logger.\r\n    }\r\n\r\n\r\nI want to store all the logger msg in some arraylist and use at the end . how to store logger message in arraylist ","title":"can we store logger msg in arraylist","body":"<pre><code>for(int i = 0; i&lt;n ; i++){\n   logger.info(&quot;[{}],- STATUS :: {}, n , n+1); // sending some values in logger.\n}\n</code></pre>\n<p>I want to store all the logger msg in some arraylist and use at the end . how to store logger message in arraylist</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":1,"creation_date":1647454344,"post_id":71499808,"comment_id":126377953,"body_markdown":"Did you read the [documentation on why this isn&#39;t allowed at all](https://developer.android.com/guide/components/activities/background-starts)?","body":"Did you read the <a href=\"https://developer.android.com/guide/components/activities/background-starts\" rel=\"nofollow noreferrer\">documentation on why this isn&#39;t allowed at all</a>?"},{"owner":{"account_id":20686862,"reputation":51,"user_id":18233830,"display_name":"Felipe Augusto Yakashin"},"score":0,"creation_date":1647458245,"post_id":71499808,"comment_id":126379320,"body_markdown":"Thanks, I hadn&#39;t found that documentation. I need to open the activity in order to run startActivityForResult(mediaProjectionManager.createScreenCaptureIntent(), REQUEST_CODE_STREAM);\nIs there a solution for this?","body":"Thanks, I hadn&#39;t found that documentation. I need to open the activity in order to run startActivityForResult(mediaProjectionManager.createScreenCa&zwnj;&#8203;ptureIntent(), REQUEST_CODE_STREAM); Is there a solution for this?"},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1647463445,"post_id":71499808,"comment_id":126380925,"body_markdown":"Show a notification with a `PendingIntent` that will launch `DisplayActivity` when the user taps the notification (or perhaps an action button in that notification).","body":"Show a notification with a <code>PendingIntent</code> that will launch <code>DisplayActivity</code> when the user taps the notification (or perhaps an action button in that notification)."},{"owner":{"account_id":20686862,"reputation":51,"user_id":18233830,"display_name":"Felipe Augusto Yakashin"},"score":0,"creation_date":1647619504,"post_id":71499808,"comment_id":126424020,"body_markdown":"So, as I understand it, you must always have user interaction in order to do a certain action? Are these changes from Android 11?","body":"So, as I understand it, you must always have user interaction in order to do a certain action? Are these changes from Android 11?"},{"owner":{"account_id":20686862,"reputation":51,"user_id":18233830,"display_name":"Felipe Augusto Yakashin"},"score":0,"creation_date":1647619566,"post_id":71499808,"comment_id":126424048,"body_markdown":"I also noticed that services are not running in the background. I&#39;m not sure why, I&#39;ll have to do more research.","body":"I also noticed that services are not running in the background. I&#39;m not sure why, I&#39;ll have to do more research."}],"owner":{"account_id":20686862,"reputation":51,"user_id":18233830,"display_name":"Felipe Augusto Yakashin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647451874,"creation_date":1647444359,"question_id":71499808,"body_markdown":"I can open an activity by firebase FCM, but this works only for android &lt;= 10, for android 11 it doesn&#39;t work. My app is completely closed, I only have the FCM service from firebase to open something. I don&#39;t know if the problem is occurring in i.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\nWould the permission to overwrite other apps solve it?\r\n\r\n    public void onMessageReceived(@NonNull RemoteMessage remoteMessage) {\r\n            super.onMessageReceived(remoteMessage);           \r\n    \r\n            if(remoteMessage.getData().size() &gt; 0){   \r\n                \r\n                for(String key : remoteMessage.getData().keySet()){                  \r\n    \r\n                    acao = remoteMessage.getData().get(key);                    \r\n    \r\n                }\r\n    \r\n    \r\n                switch (acao){\r\n    \r\n                    case &quot;screenStart&quot;:                        \r\n                        Intent i = new Intent(this, DisplayActivity.class);\r\n                        i.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                        i.putExtra(&quot;key&quot;, &quot;start&quot;);\r\n                        startActivity(i);\r\n                        break;\r\n    \r\n                    case &quot;screenStop&quot;:    \r\n                        Intent in = new Intent(this, DisplayActivity.class);\r\n                        in.putExtra(&quot;key&quot;, &quot;stop&quot;);\r\n                        in.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                        startActivity(in);\r\n                        break;    \r\n    \r\n                    default:\r\n                        Log.d(&quot;TAG&quot;, &quot;default................&quot;);\r\n                }\r\n            }\r\n        }","title":"Activity does not open on android 11 when app is fully closed","body":"<p>I can open an activity by firebase FCM, but this works only for android &lt;= 10, for android 11 it doesn't work. My app is completely closed, I only have the FCM service from firebase to open something. I don't know if the problem is occurring in i.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\nWould the permission to overwrite other apps solve it?</p>\n<pre><code>public void onMessageReceived(@NonNull RemoteMessage remoteMessage) {\n        super.onMessageReceived(remoteMessage);           \n\n        if(remoteMessage.getData().size() &gt; 0){   \n            \n            for(String key : remoteMessage.getData().keySet()){                  \n\n                acao = remoteMessage.getData().get(key);                    \n\n            }\n\n\n            switch (acao){\n\n                case &quot;screenStart&quot;:                        \n                    Intent i = new Intent(this, DisplayActivity.class);\n                    i.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                    i.putExtra(&quot;key&quot;, &quot;start&quot;);\n                    startActivity(i);\n                    break;\n\n                case &quot;screenStop&quot;:    \n                    Intent in = new Intent(this, DisplayActivity.class);\n                    in.putExtra(&quot;key&quot;, &quot;stop&quot;);\n                    in.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                    startActivity(in);\n                    break;    \n\n                default:\n                    Log.d(&quot;TAG&quot;, &quot;default................&quot;);\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","android","android-studio","webview"],"answers":[{"tags":[],"owner":{"account_id":4283273,"reputation":12073,"user_id":3501958,"accept_rate":89,"display_name":"hata"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647451773,"creation_date":1647451773,"answer_id":71501750,"question_id":71501593,"body_markdown":"You can use [`setWebViewClient()`][1]\r\n\r\n    WebView webView = (WebView) findViewById(R.id.webView);\r\n    webView.setWebViewClient(new WebViewClient());\r\n    ...\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/webkit/WebView#setWebViewClient(android.webkit.WebViewClient)","title":"Android Studio: Open every URL in WebView","body":"<p>You can use <a href=\"https://developer.android.com/reference/android/webkit/WebView#setWebViewClient(android.webkit.WebViewClient)\" rel=\"nofollow noreferrer\"><code>setWebViewClient()</code></a></p>\n<pre><code>WebView webView = (WebView) findViewById(R.id.webView);\nwebView.setWebViewClient(new WebViewClient());\n...\n</code></pre>\n"}],"owner":{"account_id":21108352,"reputation":13,"user_id":15516868,"display_name":"Brauni TV"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1383,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71501750,"answer_count":1,"score":1,"last_activity_date":1647451830,"creation_date":1647451225,"question_id":71501593,"body_markdown":"I want to turn a website into an app using the WebView. However, if I tap a link in the WebView, the app does not try to load the URL in the WebView, but in the browser (Chrome). How can I change this?\r\n\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        WebView webView = (WebView) findViewById(R.id.webView);\r\n        webView.getSettings().setJavaScriptEnabled(true);\r\n        webView.loadUrl(&quot;https://100315.fuxnoten.online/webinfo/account/&quot;);\r\n    }\r\n","title":"Android Studio: Open every URL in WebView","body":"<p>I want to turn a website into an app using the WebView. However, if I tap a link in the WebView, the app does not try to load the URL in the WebView, but in the browser (Chrome). How can I change this?</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    WebView webView = (WebView) findViewById(R.id.webView);\n    webView.getSettings().setJavaScriptEnabled(true);\n    webView.loadUrl(&quot;https://100315.fuxnoten.online/webinfo/account/&quot;);\n}\n</code></pre>\n"},{"tags":["java","io"],"comments":[{"owner":{"account_id":4307476,"reputation":2427,"user_id":3519504,"display_name":"Sandeep Kumar"},"score":1,"creation_date":1589742667,"post_id":61857219,"comment_id":109408395,"body_markdown":"Is this an assignment?","body":"Is this an assignment?"},{"owner":{"account_id":18609887,"reputation":1,"user_id":13562584,"display_name":"Sumit Pandit"},"score":0,"creation_date":1589743106,"post_id":61857219,"comment_id":109408571,"body_markdown":"No i solved this question without classes but i cant run on the question&#39;s compiler that is my problem help me...","body":"No i solved this question without classes but i cant run on the question&#39;s compiler that is my problem help me..."}],"answers":[{"tags":[],"owner":{"account_id":18672761,"reputation":1,"user_id":13611100,"display_name":"bahamew5310"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590485971,"creation_date":1590483945,"answer_id":62018421,"question_id":61857219,"body_markdown":"        FileManager class\r\n        \r\n        //import necessary packages\r\n    import java.io.*;\r\n    import java.util.*;\r\n     @SuppressWarnings(&quot;unchecked&quot;)//Do not delete this line\r\n     public class FileManager \r\n     {\r\n        \r\n        static public File createFile()\r\n        {\r\n            File file =new File(&quot;visitors.txt&quot;);\r\n    try{      file.createNewFile();}\r\n    catch (IOException e)   \r\n    {  \r\n    e.printStackTrace();    //prints exception if any  \r\n    }      \r\n            \r\n        return file;\r\n        }\r\n       //change the return type as per the requirement    \r\n        static public void writeFile(File f, String record)\r\n    \t{    try { \r\n      \r\n                \r\n                BufferedWriter out = new BufferedWriter( \r\n                       new FileWriter(f.getName(), true)); \r\n                out.write(record+&quot;;&quot;); \r\n                out.close(); \r\n            } \r\n            catch (IOException e) { \r\n                System.out.println(&quot;exception occoured&quot; + e); \r\n            } \r\n    \t    \r\n    \t} \r\n    \tstatic public String[] readFile(File f)\r\n    \t{\r\n    \t    \r\n    \t    List&lt;String&gt; tokens = new ArrayList&lt;String&gt;();\r\n    \t    try{\r\n          File myObj = new File(f.getName());\r\n          Scanner myReader = new Scanner(myObj);\r\n          while (myReader.hasNextLine()) {\r\n              \r\n            // String [] arr= myReader.nextLine().split(&quot;;&quot;);\r\n            // tokens = Arrays.asList(arr);\r\n            tokens.add(myReader.nextLine());\r\n            \r\n          }\r\n            \r\n          myReader.close();\r\n          }\r\n    \t   catch (FileNotFoundException e) {\r\n          System.out.println(&quot;An error occurred.&quot;);\r\n          e.printStackTrace();\r\n        }\r\n        String[] tokenArray = tokens.toArray(new String[0]);\r\n        //=tokenArray.split(&quot;;&quot;);\r\n        return tokenArray;\r\n    \t}\r\n     }\r\n        \r\n        \r\n        Main class\r\n        \r\n        \r\n        import java.util.*;\r\n        import java.io.FileNotFoundException;\r\n        //import necessary packages\r\n        import java.io.File;\r\n         @SuppressWarnings(&quot;unchecked&quot;)//Do not delete this line\r\n        public class Main\r\n        {\r\n            public void abcd(){\r\n        \t    Scanner in = new Scanner(System.in);\r\n        \t    System.out.println(&quot;Enter Name&quot;);\r\n        \t    String name=in.next();\r\n        \t    System.out.println(&quot;Enter Phone Number&quot;);\r\n        \t    long phone=in.nextLong();\r\n        \t    System.out.println(&quot;Enter Email&quot;);\r\n        \t    String id= in.next();\r\n        \t    FileManager f= new FileManager();\r\n        \t    File x =f.createFile();\r\n        \t    f.writeFile(x,name+&quot;,&quot;+phone+&quot;,&quot;+id);\r\n        \t    System.out.println(&quot;Do you want to enter another record(yes/no)&quot;);\r\n        \t    String choice=in.next();\r\n        \t    if(choice.equals(&quot;yes&quot;)){\r\n        \t        abcd();\r\n        \t    }\r\n        \t    if(choice.equals(&quot;no&quot;))\r\n        \t   {String []q=f.readFile(x);\r\n        \t   String pl[]=q[0].split(&quot;;&quot;);\r\n        \t    for(int i=0;i&lt;pl.length;i++)\r\n        \t    {\r\n        \t        System.out.println(pl[i]);\r\n        \t           }\r\n        \t       \r\n        \t            System.exit(0);\r\n        \t    }\r\n                \r\n            }\r\n            \r\n        \tpublic static void main(String[] args) \r\n        \t{\r\n        \t    Main asd=new Main();\r\n        \t    asd.abcd();\r\n        \t   \r\n        \t    \r\n        \t    \r\n        \t}\r\n            \r\n        }\r\n    \r\n    This program gives me desired output but not able to run all test cases.\r\n    Getting error could not append multiple files. Dont know is this.But it works perfectly on compiler. And you should at least try to code rather then simply asking someone to code.","title":"Visitors Details question IO file handling in java","body":"<pre><code>    FileManager class\n\n    //import necessary packages\nimport java.io.*;\nimport java.util.*;\n @SuppressWarnings(\"unchecked\")//Do not delete this line\n public class FileManager \n {\n\n    static public File createFile()\n    {\n        File file =new File(\"visitors.txt\");\ntry{      file.createNewFile();}\ncatch (IOException e)   \n{  \ne.printStackTrace();    //prints exception if any  \n}      \n\n    return file;\n    }\n   //change the return type as per the requirement    \n    static public void writeFile(File f, String record)\n    {    try { \n\n\n            BufferedWriter out = new BufferedWriter( \n                   new FileWriter(f.getName(), true)); \n            out.write(record+\";\"); \n            out.close(); \n        } \n        catch (IOException e) { \n            System.out.println(\"exception occoured\" + e); \n        } \n\n    } \n    static public String[] readFile(File f)\n    {\n\n        List&lt;String&gt; tokens = new ArrayList&lt;String&gt;();\n        try{\n      File myObj = new File(f.getName());\n      Scanner myReader = new Scanner(myObj);\n      while (myReader.hasNextLine()) {\n\n        // String [] arr= myReader.nextLine().split(\";\");\n        // tokens = Arrays.asList(arr);\n        tokens.add(myReader.nextLine());\n\n      }\n\n      myReader.close();\n      }\n       catch (FileNotFoundException e) {\n      System.out.println(\"An error occurred.\");\n      e.printStackTrace();\n    }\n    String[] tokenArray = tokens.toArray(new String[0]);\n    //=tokenArray.split(\";\");\n    return tokenArray;\n    }\n }\n\n\n    Main class\n\n\n    import java.util.*;\n    import java.io.FileNotFoundException;\n    //import necessary packages\n    import java.io.File;\n     @SuppressWarnings(\"unchecked\")//Do not delete this line\n    public class Main\n    {\n        public void abcd(){\n            Scanner in = new Scanner(System.in);\n            System.out.println(\"Enter Name\");\n            String name=in.next();\n            System.out.println(\"Enter Phone Number\");\n            long phone=in.nextLong();\n            System.out.println(\"Enter Email\");\n            String id= in.next();\n            FileManager f= new FileManager();\n            File x =f.createFile();\n            f.writeFile(x,name+\",\"+phone+\",\"+id);\n            System.out.println(\"Do you want to enter another record(yes/no)\");\n            String choice=in.next();\n            if(choice.equals(\"yes\")){\n                abcd();\n            }\n            if(choice.equals(\"no\"))\n           {String []q=f.readFile(x);\n           String pl[]=q[0].split(\";\");\n            for(int i=0;i&lt;pl.length;i++)\n            {\n                System.out.println(pl[i]);\n                   }\n\n                    System.exit(0);\n            }\n\n        }\n\n        public static void main(String[] args) \n        {\n            Main asd=new Main();\n            asd.abcd();\n\n\n\n        }\n\n    }\n\nThis program gives me desired output but not able to run all test cases.\nGetting error could not append multiple files. Dont know is this.But it works perfectly on compiler. And you should at least try to code rather then simply asking someone to code.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24580249,"reputation":1,"user_id":18485493,"display_name":"bmb hbb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647451608,"creation_date":1647451608,"answer_id":71501704,"question_id":61857219,"body_markdown":"     //all test case passed\r\n     import java.io.*;\r\n     import java.util.*;\r\n     @SuppressWarnings(&quot;unchecked&quot;)//Do not delete this line\r\n     public class FileManager \r\n     {\r\n        \r\n        static public File createFile()\r\n        {\r\n            File myObj = new File(&quot;visitors.txt&quot;);\r\n            try{      \r\n                if(new File(&quot;visitors.txt&quot;).isFile()==false)\r\n                    myObj.createNewFile();\r\n            }\r\n            catch (IOException e)   \r\n            {  \r\n            e.printStackTrace();    //prints exception if any  \r\n            } \r\n            return myObj;//change the return type as per the requirement \r\n        }\r\n        static public void writeFile (File f, String record)\r\n    \t{\r\n        try\r\n        {\r\n        \r\n        FileWriter fw = new FileWriter(f.getName(),true); //the true will append the new data\r\n        fw.write(record+&quot;\\n&quot;);//appends the string to the file\r\n        fw.close();\r\n        }\r\n        catch(IOException ioe)\r\n        {\r\n            System.err.println(&quot;IOException: &quot; + ioe.getMessage());\r\n        }\r\n    \t    \r\n    \t}\r\n    \tstatic public String[] readFile(File f)\r\n    \t{\r\n    \t    List&lt;String&gt; list=new ArrayList&lt;String&gt;();\r\n    \t    try{\r\n                File myObj = new File(f.getName());\r\n        \t    Scanner myReader = new Scanner(myObj);\r\n                while (myReader.hasNextLine()) {\r\n                    String str=myReader.nextLine();\r\n                    String[] parts = str.split(&quot;;&quot;);\r\n                    for (String part : parts) {\r\n                        list.add(part);\r\n                    }\r\n                }\r\n                myReader.close();\r\n                \r\n            }\r\n            catch(FileNotFoundException ex){}\r\n            String[] strings = list.stream().toArray(String[]::new);\r\n                return strings;\r\n    \t    //change the return type as per the requirement  \r\n    \t}\r\n     }","title":"Visitors Details question IO file handling in java","body":"<pre><code> //all test case passed\n import java.io.*;\n import java.util.*;\n @SuppressWarnings(&quot;unchecked&quot;)//Do not delete this line\n public class FileManager \n {\n    \n    static public File createFile()\n    {\n        File myObj = new File(&quot;visitors.txt&quot;);\n        try{      \n            if(new File(&quot;visitors.txt&quot;).isFile()==false)\n                myObj.createNewFile();\n        }\n        catch (IOException e)   \n        {  \n        e.printStackTrace();    //prints exception if any  \n        } \n        return myObj;//change the return type as per the requirement \n    }\n    static public void writeFile (File f, String record)\n    {\n    try\n    {\n    \n    FileWriter fw = new FileWriter(f.getName(),true); //the true will append the new data\n    fw.write(record+&quot;\\n&quot;);//appends the string to the file\n    fw.close();\n    }\n    catch(IOException ioe)\n    {\n        System.err.println(&quot;IOException: &quot; + ioe.getMessage());\n    }\n        \n    }\n    static public String[] readFile(File f)\n    {\n        List&lt;String&gt; list=new ArrayList&lt;String&gt;();\n        try{\n            File myObj = new File(f.getName());\n            Scanner myReader = new Scanner(myObj);\n            while (myReader.hasNextLine()) {\n                String str=myReader.nextLine();\n                String[] parts = str.split(&quot;;&quot;);\n                for (String part : parts) {\n                    list.add(part);\n                }\n            }\n            myReader.close();\n            \n        }\n        catch(FileNotFoundException ex){}\n        String[] strings = list.stream().toArray(String[]::new);\n            return strings;\n        //change the return type as per the requirement  \n    }\n }\n</code></pre>\n"}],"owner":{"account_id":18609887,"reputation":1,"user_id":13562584,"display_name":"Sumit Pandit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1948,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1647451608,"creation_date":1589742066,"question_id":61857219,"body_markdown":"VIP group of companies introduce a new shopping mall “Le Le” . To promote the mall they had approached  “6th Event” a famous commercial event organizer to organize an event of lucky draw. The organizer has to collect name, phone and email id of all the visitors during promotion time and give it to the company.\r\n\r\nThe organizer needs an automated application and wants to store records in a text file called “visitors.txt”. \r\n\r\nRecords should to be stored in the following structure\r\n\r\nName1,phonenumber1,emailId1;Name2,phonenumber2,emailId2;\r\n\r\nIn a record, each attributes should be separated using comma (,) and records should be separated using semi colon (;). \r\n\r\nCreate a Java Application which has two classes called Main.java and FileManager.java\r\n\r\nIn FileManager class implement the following methods [method skeletons are given]\r\n\r\nstatic public File createFile() – This method should create the file and return it.\r\n\r\nstatic public void writeFile(File f, String record) – In the method, first parameter is the file reference in which records to be added  and second parameter is a record, This record should append in the file. [Record should be as per the given format]\r\n\r\nstatic public String[] readFile(File f) – This method accept file to be read, returns all records in the file.\r\n\r\n[Note : Don’t modify the signature of the given methods]\r\n\r\nIn Main class use the following Input and Output statements and call the needed methods from FileManager class to manipulate files.\r\n\r\nEnter Name\r\n\r\nJohn\r\n\r\nEnter Phone Number\r\n\r\n1234567\r\n\r\nEnter Email\r\n\r\njohnpeter@abc.com\r\n\r\nDo you want to enter another record(yes/no)\r\n\r\nyes\r\n\r\nEnter Name\r\n\r\nGrace\r\n\r\nEnter Phone Number\r\n\r\n98765412\r\n\r\nEnter Email\r\n\r\ngracepaul@xyz.com\r\n\r\nDo you want to enter another record(yes/no)\r\n\r\nno\r\n\r\nDo you want to display all records(yes/no)\r\n\r\nyes\r\n\r\nJohn,1234567,johnpeter@abc.com\r\n\r\nGrace,98765412,gracepaul@xyz.com","title":"Visitors Details question IO file handling in java","body":"<p>VIP group of companies introduce a new shopping mall “Le Le” . To promote the mall they had approached  “6th Event” a famous commercial event organizer to organize an event of lucky draw. The organizer has to collect name, phone and email id of all the visitors during promotion time and give it to the company.</p>\n\n<p>The organizer needs an automated application and wants to store records in a text file called “visitors.txt”. </p>\n\n<p>Records should to be stored in the following structure</p>\n\n<p>Name1,phonenumber1,emailId1;Name2,phonenumber2,emailId2;</p>\n\n<p>In a record, each attributes should be separated using comma (,) and records should be separated using semi colon (;). </p>\n\n<p>Create a Java Application which has two classes called Main.java and FileManager.java</p>\n\n<p>In FileManager class implement the following methods [method skeletons are given]</p>\n\n<p>static public File createFile() – This method should create the file and return it.</p>\n\n<p>static public void writeFile(File f, String record) – In the method, first parameter is the file reference in which records to be added  and second parameter is a record, This record should append in the file. [Record should be as per the given format]</p>\n\n<p>static public String[] readFile(File f) – This method accept file to be read, returns all records in the file.</p>\n\n<p>[Note : Don’t modify the signature of the given methods]</p>\n\n<p>In Main class use the following Input and Output statements and call the needed methods from FileManager class to manipulate files.</p>\n\n<p>Enter Name</p>\n\n<p>John</p>\n\n<p>Enter Phone Number</p>\n\n<p>1234567</p>\n\n<p>Enter Email</p>\n\n<p>johnpeter@abc.com</p>\n\n<p>Do you want to enter another record(yes/no)</p>\n\n<p>yes</p>\n\n<p>Enter Name</p>\n\n<p>Grace</p>\n\n<p>Enter Phone Number</p>\n\n<p>98765412</p>\n\n<p>Enter Email</p>\n\n<p>gracepaul@xyz.com</p>\n\n<p>Do you want to enter another record(yes/no)</p>\n\n<p>no</p>\n\n<p>Do you want to display all records(yes/no)</p>\n\n<p>yes</p>\n\n<p>John,1234567,johnpeter@abc.com</p>\n\n<p>Grace,98765412,gracepaul@xyz.com</p>\n"},{"tags":["java","performance","file-io"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1646679940,"post_id":71386037,"comment_id":126179013,"body_markdown":"Then you need to initialize the writer outside `writeMetaData`. And I don&#39;t see why you wouldn&#39;t inline that method in your loop... unless you&#39;re calling it from many places.","body":"Then you need to initialize the writer outside <code>writeMetaData</code>. And I don&#39;t see why you wouldn&#39;t inline that method in your loop... unless you&#39;re calling it from many places."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1646680166,"post_id":71386037,"comment_id":126179074,"body_markdown":"Why can&#39;t you pass a collection of objects to this method instead passing them one by one?","body":"Why can&#39;t you pass a collection of objects to this method instead passing them one by one?"},{"owner":{"account_id":161205,"reputation":429,"user_id":381786,"display_name":"cypher"},"score":0,"creation_date":1646681057,"post_id":71386037,"comment_id":126179344,"body_markdown":"@ernest_k: doing so would only append to the file instead of rewrite. eg: doing so will have 1000 lines in the file instead of single line.","body":"@ernest_k: doing so would only append to the file instead of rewrite. eg: doing so will have 1000 lines in the file instead of single line."},{"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"score":0,"creation_date":1646681606,"post_id":71386037,"comment_id":126179521,"body_markdown":"Rather than writing the progress into a file, you can also make/delete a file/folder and name it according to the progress.","body":"Rather than writing the progress into a file, you can also make/delete a file/folder and name it according to the progress."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1646715267,"post_id":71386037,"comment_id":126186491,"body_markdown":"&quot;Can I optimise it further by opening and closing the file only once?&quot;: no.","body":"&quot;Can I optimise it further by opening and closing the file only once?&quot;: no."},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":2,"creation_date":1646900015,"post_id":71386037,"comment_id":126238847,"body_markdown":"Why do you need to write that file anyway? Do you have another process reading it?","body":"Why do you need to write that file anyway? Do you have another process reading it?"}],"answers":[{"tags":[],"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1646903427,"creation_date":1646903427,"answer_id":71421509,"question_id":71386037,"body_markdown":"A Stream does not allow to go back and rewrite content. A way to achieve what you want is using a [`RandomAccessFile`](https://docs.oracle.com/javase/8/docs/api/java/io/RandomAccessFile.html).\r\nIts [`setLength()`](https://docs.oracle.com/javase/8/docs/api/java/io/RandomAccessFile.html#setLength-long-) method will truncate the file if you pass `0`.\r\n\r\nHere is a simple example:\r\n\r\n```\r\nimport java.io.*;\r\n\r\npublic class Test\r\n{\r\n\tpublic static void updateFile(RandomAccessFile raf, String content) throws IOException\r\n\t{\r\n\t\traf.setLength(0);\r\n\t\traf.write(content.getBytes(&quot;UTF-8&quot;));\r\n\t}\r\n\r\n\tpublic static void main(String[] args) throws IOException\r\n\t{\r\n\t\ttry(RandomAccessFile raf = new RandomAccessFile(&quot;metadata.txt&quot;, &quot;rw&quot;))\r\n\t\t{\r\n\t\t\tupdateFile(raf, &quot;progress: 100&quot;);\r\n\t\t\tupdateFile(raf, &quot;progress: 200&quot;);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n","title":"Java Open BufferedWriter only once but rewrite content many times","body":"<p>A Stream does not allow to go back and rewrite content. A way to achieve what you want is using a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/RandomAccessFile.html\" rel=\"nofollow noreferrer\"><code>RandomAccessFile</code></a>.\nIts <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/RandomAccessFile.html#setLength-long-\" rel=\"nofollow noreferrer\"><code>setLength()</code></a> method will truncate the file if you pass <code>0</code>.</p>\n<p>Here is a simple example:</p>\n<pre><code>import java.io.*;\n\npublic class Test\n{\n    public static void updateFile(RandomAccessFile raf, String content) throws IOException\n    {\n        raf.setLength(0);\n        raf.write(content.getBytes(&quot;UTF-8&quot;));\n    }\n\n    public static void main(String[] args) throws IOException\n    {\n        try(RandomAccessFile raf = new RandomAccessFile(&quot;metadata.txt&quot;, &quot;rw&quot;))\n        {\n            updateFile(raf, &quot;progress: 100&quot;);\n            updateFile(raf, &quot;progress: 200&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1646923227,"creation_date":1646923227,"answer_id":71425991,"question_id":71386037,"body_markdown":"First of all, an expression like `writeDir.concat(&quot;/&quot;).concat(&quot;metadata.txt&quot;)` is reducing readability *and* performance. A straight-forward `writeDir + &quot;/&quot; + &quot;metadata.txt&quot;` will provide better performance. But since you’re constructing a string merely for constructing a `Path`, it’s even more straight-forward not to do the `Path`’s job in your code but rather use `Paths.get(writeDir, &quot;metadata.txt&quot;)`.\r\n\r\nYou can not rewind a `BufferedWriter` but you can rewind a `FileChannel`. Therefore, to keep the channel open and rewind it when needed, you have to construct a new writer after rewinding:\r\n\r\n```java\r\npublic static void writeMetaData(FileChannel ch, JSONObject jsonObj) throws IOException {\r\n    ch.position(0);\r\n    if(ch.size() &gt; 0) ch.truncate(0);\r\n\r\n    Writer w = Channels.newWriter(ch, StandardCharsets.UTF_8.newEncoder(), 8192);\r\n    w.write(jsonObj.toString());\r\n    w.flush();\r\n}\r\n```\r\n```java\r\ntry(FileChannel ch = FileChannel.open(Paths.get(writeDir, &quot;metadata.txt&quot;),\r\n        StandardOpenOption.WRITE, StandardOpenOption.CREATE)) {\r\n\r\n    for(int i = 0; i &lt; 100000; i++) {\r\n        // do Something;\r\n        if(i % 100 == 0) {\r\n            writeMetaData(ch, jsonObject);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIt’s important that the use of the `Writer` ends with `flush()` to force the write of all buffered data, but not `close()` as that would also close the underlying channel. Note that this code does not wrap the writer into a `BufferedWriter`; encoding text as UTF-8 is already a buffered operation and by requesting a larger buffer for the encoder, matching `BufferedWriter`’s default buffer size, we get the same effect of buffering without the copying overhead.\r\n\r\nSince writing is not an end in itself, there’s a question left regarding your reading side. If the reader is trying to read the data in some intervals, there’s the risk of overlapping with the write, getting incomplete data.\r\n\r\nYou could use\r\n\r\n```java\r\npublic static void writeMetaData(FileChannel ch, JSONObject jsonObj) throws IOException {\r\n    try(FileLock lock = ch.lock()) {\r\n        ch.position(0);\r\n        if(ch.size() &gt; 0) ch.truncate(0);\r\n\r\n        Writer w = Channels.newWriter(ch, StandardCharsets.UTF_8.newEncoder(), 8192);\r\n        w.write(jsonObj.toString());\r\n        w.flush();\r\n    }\r\n}\r\n```\r\n\r\nto lock the file during the write. But depending on the system, file locking might not be mandatory but only affect readers also trying to get a read lock.\r\n\r\n---\r\n\r\nWhen you use JDK&#160;11 or newer, you may consider using\r\n\r\n```java\r\nfor(int i = 0; i &lt; 100000; i++) {\r\n    // do Something;\r\n    if(i % 100 == 0) {\r\n        Files.writeString(Paths.get(writeDir, &quot;metadata.txt&quot;), jsonObject.toString());\r\n    }\r\n}\r\n```\r\n\r\nwhich clearly wins on simplicity (yes, that’s the complete code, no additional method required). The default options do already include the desired `StandardCharsets.UTF_8` and `StandardOpenOption.TRUNCATE_EXISTING`.\r\n\r\nWhile it does open and close the file internally, it has some other performance tweaks which may compensate. Especially in the likely case that the string consists of ASCII characters only, as the implementation will simply write the string’s internal array directly to the file then.\r\n","title":"Java Open BufferedWriter only once but rewrite content many times","body":"<p>First of all, an expression like <code>writeDir.concat(&quot;/&quot;).concat(&quot;metadata.txt&quot;)</code> is reducing readability <em>and</em> performance. A straight-forward <code>writeDir + &quot;/&quot; + &quot;metadata.txt&quot;</code> will provide better performance. But since you’re constructing a string merely for constructing a <code>Path</code>, it’s even more straight-forward not to do the <code>Path</code>’s job in your code but rather use <code>Paths.get(writeDir, &quot;metadata.txt&quot;)</code>.</p>\n<p>You can not rewind a <code>BufferedWriter</code> but you can rewind a <code>FileChannel</code>. Therefore, to keep the channel open and rewind it when needed, you have to construct a new writer after rewinding:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void writeMetaData(FileChannel ch, JSONObject jsonObj) throws IOException {\n    ch.position(0);\n    if(ch.size() &gt; 0) ch.truncate(0);\n\n    Writer w = Channels.newWriter(ch, StandardCharsets.UTF_8.newEncoder(), 8192);\n    w.write(jsonObj.toString());\n    w.flush();\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>try(FileChannel ch = FileChannel.open(Paths.get(writeDir, &quot;metadata.txt&quot;),\n        StandardOpenOption.WRITE, StandardOpenOption.CREATE)) {\n\n    for(int i = 0; i &lt; 100000; i++) {\n        // do Something;\n        if(i % 100 == 0) {\n            writeMetaData(ch, jsonObject);\n        }\n    }\n}\n</code></pre>\n<p>It’s important that the use of the <code>Writer</code> ends with <code>flush()</code> to force the write of all buffered data, but not <code>close()</code> as that would also close the underlying channel. Note that this code does not wrap the writer into a <code>BufferedWriter</code>; encoding text as UTF-8 is already a buffered operation and by requesting a larger buffer for the encoder, matching <code>BufferedWriter</code>’s default buffer size, we get the same effect of buffering without the copying overhead.</p>\n<p>Since writing is not an end in itself, there’s a question left regarding your reading side. If the reader is trying to read the data in some intervals, there’s the risk of overlapping with the write, getting incomplete data.</p>\n<p>You could use</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void writeMetaData(FileChannel ch, JSONObject jsonObj) throws IOException {\n    try(FileLock lock = ch.lock()) {\n        ch.position(0);\n        if(ch.size() &gt; 0) ch.truncate(0);\n\n        Writer w = Channels.newWriter(ch, StandardCharsets.UTF_8.newEncoder(), 8192);\n        w.write(jsonObj.toString());\n        w.flush();\n    }\n}\n</code></pre>\n<p>to lock the file during the write. But depending on the system, file locking might not be mandatory but only affect readers also trying to get a read lock.</p>\n<hr />\n<p>When you use JDK 11 or newer, you may consider using</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(int i = 0; i &lt; 100000; i++) {\n    // do Something;\n    if(i % 100 == 0) {\n        Files.writeString(Paths.get(writeDir, &quot;metadata.txt&quot;), jsonObject.toString());\n    }\n}\n</code></pre>\n<p>which clearly wins on simplicity (yes, that’s the complete code, no additional method required). The default options do already include the desired <code>StandardCharsets.UTF_8</code> and <code>StandardOpenOption.TRUNCATE_EXISTING</code>.</p>\n<p>While it does open and close the file internally, it has some other performance tweaks which may compensate. Especially in the likely case that the string consists of ASCII characters only, as the implementation will simply write the string’s internal array directly to the file then.</p>\n"},{"tags":[],"owner":{"account_id":1051445,"reputation":5513,"user_id":1055284,"accept_rate":100,"display_name":"Ben Barkay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647451600,"creation_date":1647450722,"answer_id":71501472,"question_id":71386037,"body_markdown":"File operations are typically buffered by the underlying kernel, and so you&#39;re unlikely to see much of a performance benefit by keeping an open file descriptor for this kind of low throughput application.\r\n\r\nKeeping your code as a single operation that gets to leave no state after it finishes, rather than designing it as a continuous rewindable stream, makes for an elegant, simple, and unless you&#39;ve specifically requested synchronous IO, then also sufficiently performant implementation that gets to benefit from the optimizations of all of the layers that sit beneath it.\r\n\r\nWhen you do get measurable impedance to performance by this, which I suspect you never will, you could use the `RandomAccessFile` API, or go unnecessarily lower level by using `FileChannel` as others already specified.\r\n\r\nI think you shouldn&#39;t compromise the simplicity/elegance of your design for this kind of micro-optimization, which in the grand scheme of things, is guaranteed to be insignificant (one tiny write operation per 100 jobs processed).","title":"Java Open BufferedWriter only once but rewrite content many times","body":"<p>File operations are typically buffered by the underlying kernel, and so you're unlikely to see much of a performance benefit by keeping an open file descriptor for this kind of low throughput application.</p>\n<p>Keeping your code as a single operation that gets to leave no state after it finishes, rather than designing it as a continuous rewindable stream, makes for an elegant, simple, and unless you've specifically requested synchronous IO, then also sufficiently performant implementation that gets to benefit from the optimizations of all of the layers that sit beneath it.</p>\n<p>When you do get measurable impedance to performance by this, which I suspect you never will, you could use the <code>RandomAccessFile</code> API, or go unnecessarily lower level by using <code>FileChannel</code> as others already specified.</p>\n<p>I think you shouldn't compromise the simplicity/elegance of your design for this kind of micro-optimization, which in the grand scheme of things, is guaranteed to be insignificant (one tiny write operation per 100 jobs processed).</p>\n"}],"owner":{"account_id":161205,"reputation":429,"user_id":381786,"display_name":"cypher"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":442,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1647451600,"creation_date":1646679800,"question_id":71386037,"body_markdown":"I am running a long running operation, Say 100k jobs. i want to update the progress of it in a file once every 100 such jobs are completed. \r\n\r\ni am opening the file using bufferedWriter with append mode as false. Writing it and then closing it. this is done once every 100 jobs are completed. So the file open and close would have happened 1000 times. Can i optimise it further by opening and closing the file only once?\r\n\r\n```\r\n\tpublic static void writeMetaData(String writeDir, JSONObject jsonObject) throws Exception {\r\n\t\tString filePath = writeDir.concat(&quot;/&quot;).concat(&quot;metadata.txt&quot;);\r\n\t\tBufferedWriter metaDataWriter = Files.newBufferedWriter(Paths.get(filePath), StandardCharsets.UTF_8, StandardOpenOption.TRUNCATE_EXISTING);\r\n\t\tmetaDataWriter.write(jsonObject.toString());\r\n\t\tIOUtils.closeQuietly(metaDataWriter);\r\n\t}\r\n\r\nfor(int i =0 ; i &lt; 100000; i++) {\r\n    // do Something; \r\n    if(i % 100 == 0) {\r\n        writeMetaData(writeDir, jsonObject); \r\n    }\r\n}\r\n```\r\n\r\nFile should only have a single line. \r\n\r\nExpected file content after 100 jobs: \r\n```progress: 100 ```\r\nExpected file content after 200 jobs: \r\n```progress: 200 ```\r\n\r\n\r\nCan this be optimised further?","title":"Java Open BufferedWriter only once but rewrite content many times","body":"<p>I am running a long running operation, Say 100k jobs. i want to update the progress of it in a file once every 100 such jobs are completed.</p>\n<p>i am opening the file using bufferedWriter with append mode as false. Writing it and then closing it. this is done once every 100 jobs are completed. So the file open and close would have happened 1000 times. Can i optimise it further by opening and closing the file only once?</p>\n<pre><code>    public static void writeMetaData(String writeDir, JSONObject jsonObject) throws Exception {\n        String filePath = writeDir.concat(&quot;/&quot;).concat(&quot;metadata.txt&quot;);\n        BufferedWriter metaDataWriter = Files.newBufferedWriter(Paths.get(filePath), StandardCharsets.UTF_8, StandardOpenOption.TRUNCATE_EXISTING);\n        metaDataWriter.write(jsonObject.toString());\n        IOUtils.closeQuietly(metaDataWriter);\n    }\n\nfor(int i =0 ; i &lt; 100000; i++) {\n    // do Something; \n    if(i % 100 == 0) {\n        writeMetaData(writeDir, jsonObject); \n    }\n}\n</code></pre>\n<p>File should only have a single line.</p>\n<p>Expected file content after 100 jobs:\n<code>progress: 100 </code>\nExpected file content after 200 jobs:\n<code>progress: 200 </code></p>\n<p>Can this be optimised further?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":2068268,"reputation":42279,"user_id":1843331,"accept_rate":100,"display_name":"Tim"},"score":0,"creation_date":1647451366,"post_id":71501264,"comment_id":126376816,"body_markdown":"Notch area, do you mean status bar?","body":"Notch area, do you mean status bar?"},{"owner":{"account_id":18218052,"reputation":147,"user_id":13259366,"display_name":"Jannis"},"score":0,"creation_date":1647451409,"post_id":71501264,"comment_id":126376836,"body_markdown":"Yes i do mean the status bar","body":"Yes i do mean the status bar"},{"owner":{"account_id":2068268,"reputation":42279,"user_id":1843331,"accept_rate":100,"display_name":"Tim"},"score":0,"creation_date":1647451707,"post_id":71501264,"comment_id":126376953,"body_markdown":"https://medium.com/androiddevelopers/gesture-navigation-going-edge-to-edge-812f62e4e83e","body":"<a href=\"https://medium.com/androiddevelopers/gesture-navigation-going-edge-to-edge-812f62e4e83e\" rel=\"nofollow noreferrer\">medium.com/androiddevelopers/&hellip;</a>"},{"owner":{"account_id":2068268,"reputation":42279,"user_id":1843331,"accept_rate":100,"display_name":"Tim"},"score":0,"creation_date":1647451750,"post_id":71501264,"comment_id":126376972,"body_markdown":"FWIW I draw behind the status bar in my apps and I&#39;ve never heard of `windowLayoutInDisplayCutoutMode` before","body":"FWIW I draw behind the status bar in my apps and I&#39;ve never heard of <code>windowLayoutInDisplayCutoutMode</code> before"}],"owner":{"account_id":18218052,"reputation":147,"user_id":13259366,"display_name":"Jannis"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":673,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647451437,"creation_date":1647449854,"question_id":71501264,"body_markdown":"I am currently making a gallery app and I want to use the full screen for displaying my images. For this I would have to use the Notch area on my Oneplus 6T as well, which I cannot get to work. Ever source I&#39;ve looked at said to use `windowLayoutInDisplayCutoutMode` which doesn&#39;t seem to work for me and the Notch area is still blacked out and unused by the app. I have totally run out of ideas of how to fix this and cannot find any more results on the internet.\r\n\r\nApp Theme:\r\n\r\n    &lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    &lt;!-- Base application theme. --&gt;\r\n    &lt;style name=&quot;Theme.Raspjannis&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\r\n        &lt;!-- Primary brand color. --&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/pastelBlue&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/iconBlue&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/black&lt;/item&gt;\r\n\r\n        &lt;item name=&quot;android:textColor&quot;&gt;@color/black&lt;/item&gt;\r\n        &lt;item name=&quot;android:textColorPrimary&quot;&gt;@color/black&lt;/item&gt;\r\n        &lt;item name=&quot;android:textColorSecondary&quot;&gt;@color/iconBlue&lt;/item&gt;\r\n\r\n        &lt;!-- Secondary brand color. --&gt;\r\n        &lt;item name=&quot;colorSecondary&quot;&gt;@color/iconBlue&lt;/item&gt;\r\n        &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/pastelBlue&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/white&lt;/item&gt;\r\n\r\n        &lt;!-- Status bar color. --&gt;\r\n        &lt;item name=&quot;android:statusBarColor&quot;&gt;?attr/colorPrimary&lt;/item&gt;\r\n        &lt;!-- Customize your theme here. --&gt;\r\n\r\n        &lt;!-- Backgrounds Theme --&gt;\r\n        &lt;item name=&quot;backgroundColor&quot;&gt;@color/pastelBlue&lt;/item&gt;\r\n        &lt;item name=&quot;cardBackgroundColor&quot;&gt;@color/white&lt;/item&gt;\r\n        &lt;item name=&quot;cardForegroundColor&quot;&gt;@color/white&lt;/item&gt;\r\n        &lt;item name=&quot;editTextBackground&quot;&gt;@color/bright&lt;/item&gt;\r\n\r\n        &lt;item name=&quot;android:windowLayoutInDisplayCutoutMode&quot; tools:targetApi=&quot;p&quot;&gt;\r\n            shortEdges &lt;!-- default, shortEdges, or never --&gt;\r\n        &lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n    &lt;style name=&quot;Theme.Raspjannis.NoActionBar.splashScreenTheme&quot; parent=&quot;Theme.Raspjannis.NoActionBar&quot;&gt;\r\n        &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/splash_screen&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n    &lt;style name=&quot;ActionBarTheme&quot;&gt;\r\n\r\n    &lt;/style&gt;\r\n\r\n    &lt;style name=&quot;Theme.Raspjannis.NoActionBar&quot; parent=&quot;Theme.Raspjannis&quot;&gt;\r\n        &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;\r\n        &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n    &lt;style name=&quot;Theme.Raspjannis.NoStatusBar&quot;&gt;\r\n        &lt;item name=&quot;android:windowLayoutInDisplayCutoutMode&quot; tools:targetApi=&quot;p&quot;&gt;\r\n            shortEdges &lt;!-- default, shortEdges, or never --&gt;\r\n        &lt;/item&gt;\r\n        &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;\r\n        &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowFullscreen&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowContentOverlay&quot;&gt;@null&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n    &lt;style name=&quot;Theme.Raspjannis.AppBarOverlay&quot; parent=&quot;ThemeOverlay.AppCompat.Dark.ActionBar&quot; /&gt;\r\n\r\n    &lt;style name=&quot;Theme.Raspjannis.PopupOverlay&quot; parent=&quot;ThemeOverlay.AppCompat.Light&quot; /&gt;\r\n\r\n    &lt;!-- This style is where you define the tint color of your overflow menu button --&gt;\r\n    &lt;style name=&quot;actionOverflowButtonStyle&quot; parent=&quot;@style/Widget.AppCompat.ActionButton.Overflow&quot;&gt;\r\n        &lt;item name=&quot;android:tint&quot;&gt;@color/dark&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n    &lt;style name=&quot;menuItem&quot; parent=&quot;Widget.AppCompat.TextView.SpinnerItem&quot;&gt;\r\n        &lt;item name=&quot;android:textColor&quot;&gt;@color/black&lt;/item&gt;\r\n        &lt;item name=&quot;android:textColorPrimary&quot;&gt;@color/black&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n    &lt;style name=&quot;icons&quot; parent=&quot;Theme.AppCompat.Light.DarkActionBar&quot;&gt;\r\n\r\n        &lt;item name=&quot;android:itemBackground&quot;&gt;@color/white&lt;/item&gt;\r\n        &lt;item name=&quot;android:textColor&quot;&gt;@color/dark&lt;/item&gt;\r\n        &lt;item name=&quot;android:tint&quot;&gt;@color/dark&lt;/item&gt;\r\n\r\n    &lt;/style&gt;\r\n&lt;/resources&gt;\r\n\r\n\r\nAnd here is the code that sets the theme and fullscreen:\r\n\r\n    public static void hideSystemUI(Activity activity) {\r\n        activity.getWindow().addFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n        activity.setTheme(R.style.Theme_Raspjannis_NoStatusBar);\r\n\r\n    }\r\n\r\n    public static void showSystemUI(Activity activity) {\r\n        activity.setTheme(R.style.Theme_Raspjannis);\r\n        activity.getWindow().clearFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n\r\n    }","title":"Android use notch (status bar) area in fullscreen","body":"<p>I am currently making a gallery app and I want to use the full screen for displaying my images. For this I would have to use the Notch area on my Oneplus 6T as well, which I cannot get to work. Ever source I've looked at said to use <code>windowLayoutInDisplayCutoutMode</code> which doesn't seem to work for me and the Notch area is still blacked out and unused by the app. I have totally run out of ideas of how to fix this and cannot find any more results on the internet.</p>\n<p>App Theme:</p>\n<pre><code>&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n&lt;!-- Base application theme. --&gt;\n&lt;style name=&quot;Theme.Raspjannis&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\n    &lt;!-- Primary brand color. --&gt;\n    &lt;item name=&quot;colorPrimary&quot;&gt;@color/pastelBlue&lt;/item&gt;\n    &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/iconBlue&lt;/item&gt;\n    &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/black&lt;/item&gt;\n\n    &lt;item name=&quot;android:textColor&quot;&gt;@color/black&lt;/item&gt;\n    &lt;item name=&quot;android:textColorPrimary&quot;&gt;@color/black&lt;/item&gt;\n    &lt;item name=&quot;android:textColorSecondary&quot;&gt;@color/iconBlue&lt;/item&gt;\n\n    &lt;!-- Secondary brand color. --&gt;\n    &lt;item name=&quot;colorSecondary&quot;&gt;@color/iconBlue&lt;/item&gt;\n    &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/pastelBlue&lt;/item&gt;\n    &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/white&lt;/item&gt;\n\n    &lt;!-- Status bar color. --&gt;\n    &lt;item name=&quot;android:statusBarColor&quot;&gt;?attr/colorPrimary&lt;/item&gt;\n    &lt;!-- Customize your theme here. --&gt;\n\n    &lt;!-- Backgrounds Theme --&gt;\n    &lt;item name=&quot;backgroundColor&quot;&gt;@color/pastelBlue&lt;/item&gt;\n    &lt;item name=&quot;cardBackgroundColor&quot;&gt;@color/white&lt;/item&gt;\n    &lt;item name=&quot;cardForegroundColor&quot;&gt;@color/white&lt;/item&gt;\n    &lt;item name=&quot;editTextBackground&quot;&gt;@color/bright&lt;/item&gt;\n\n    &lt;item name=&quot;android:windowLayoutInDisplayCutoutMode&quot; tools:targetApi=&quot;p&quot;&gt;\n        shortEdges &lt;!-- default, shortEdges, or never --&gt;\n    &lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=&quot;Theme.Raspjannis.NoActionBar.splashScreenTheme&quot; parent=&quot;Theme.Raspjannis.NoActionBar&quot;&gt;\n    &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/splash_screen&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=&quot;ActionBarTheme&quot;&gt;\n\n&lt;/style&gt;\n\n&lt;style name=&quot;Theme.Raspjannis.NoActionBar&quot; parent=&quot;Theme.Raspjannis&quot;&gt;\n    &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;\n    &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=&quot;Theme.Raspjannis.NoStatusBar&quot;&gt;\n    &lt;item name=&quot;android:windowLayoutInDisplayCutoutMode&quot; tools:targetApi=&quot;p&quot;&gt;\n        shortEdges &lt;!-- default, shortEdges, or never --&gt;\n    &lt;/item&gt;\n    &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;\n    &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt;\n    &lt;item name=&quot;android:windowFullscreen&quot;&gt;true&lt;/item&gt;\n    &lt;item name=&quot;android:windowContentOverlay&quot;&gt;@null&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=&quot;Theme.Raspjannis.AppBarOverlay&quot; parent=&quot;ThemeOverlay.AppCompat.Dark.ActionBar&quot; /&gt;\n\n&lt;style name=&quot;Theme.Raspjannis.PopupOverlay&quot; parent=&quot;ThemeOverlay.AppCompat.Light&quot; /&gt;\n\n&lt;!-- This style is where you define the tint color of your overflow menu button --&gt;\n&lt;style name=&quot;actionOverflowButtonStyle&quot; parent=&quot;@style/Widget.AppCompat.ActionButton.Overflow&quot;&gt;\n    &lt;item name=&quot;android:tint&quot;&gt;@color/dark&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=&quot;menuItem&quot; parent=&quot;Widget.AppCompat.TextView.SpinnerItem&quot;&gt;\n    &lt;item name=&quot;android:textColor&quot;&gt;@color/black&lt;/item&gt;\n    &lt;item name=&quot;android:textColorPrimary&quot;&gt;@color/black&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=&quot;icons&quot; parent=&quot;Theme.AppCompat.Light.DarkActionBar&quot;&gt;\n\n    &lt;item name=&quot;android:itemBackground&quot;&gt;@color/white&lt;/item&gt;\n    &lt;item name=&quot;android:textColor&quot;&gt;@color/dark&lt;/item&gt;\n    &lt;item name=&quot;android:tint&quot;&gt;@color/dark&lt;/item&gt;\n\n&lt;/style&gt;\n</code></pre>\n\n<p>And here is the code that sets the theme and fullscreen:</p>\n<pre><code>public static void hideSystemUI(Activity activity) {\n    activity.getWindow().addFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN);\n    activity.setTheme(R.style.Theme_Raspjannis_NoStatusBar);\n\n}\n\npublic static void showSystemUI(Activity activity) {\n    activity.setTheme(R.style.Theme_Raspjannis);\n    activity.getWindow().clearFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN);\n\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":2751226,"reputation":413,"user_id":2370582,"display_name":"Vinh Truong"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647451367,"creation_date":1647451367,"answer_id":71501641,"question_id":71501450,"body_markdown":"You may try this part for `(a,b) -&gt; a.isAfter(b) ? a : b`\r\n\r\n```\r\nBinaryOperator.maxBy(LocalDate::compareTo)\r\n```","title":"Simplest way to group, collect, and select the max date from a Java stream","body":"<p>You may try this part for <code>(a,b) -&gt; a.isAfter(b) ? a : b</code></p>\n<pre><code>BinaryOperator.maxBy(LocalDate::compareTo)\n</code></pre>\n"}],"owner":{"account_id":18161126,"reputation":339,"user_id":13212499,"display_name":"Ilya Voytov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":499,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71501641,"answer_count":1,"score":1,"last_activity_date":1647451367,"creation_date":1647450632,"question_id":71501450,"body_markdown":"I have the following code that takes in a stream of objects, collects them into a hashmap with a key `type` and a date value that is the maximum date for each `type` in the list. It works as required but it looks ugly. Is there a way to simplify this code some more? For `int` objects I can use a `comparingInt` but in my case I have a `LocalDate` which doesn&#39;t have an equivalent. I tried a `groupingBy` way but it didn&#39;t work. Thanks for any of your suggestions.\r\n\r\n```\r\nimport java.time.LocalDate;\r\nimport java.util.stream.Stream;\r\nimport static java.util.stream.Collectors.toMap;\r\n\r\npublic class MyClass {\r\n    public static class Match {\r\n\r\n  private final String type;\r\n  private final LocalDate day;\r\n\r\n  public Match(String type, LocalDate day) {\r\n    this.type = type;\r\n    this.day = day;\r\n  } \r\n\r\n  public String getType() {\r\n    return type;\r\n  }\r\n\r\n  public LocalDate getDay() {\r\n    return day;\r\n  }\r\n}\r\n    public static void main(String args[]) {\r\n      Stream stream = Stream.of(new Match(&quot;A&quot;, LocalDate.of(2019, 10,1)), new Match(&quot;A&quot;, LocalDate.of(2019,5,1)), new Match(&quot;A&quot;, LocalDate.of(2019,12,1)), new Match(&quot;A&quot;, LocalDate.of(2019, 1,1)),\r\n          new Match(&quot;B&quot;, LocalDate.of(2018,7,1)), new Match(&quot;B&quot;, LocalDate.of(2018, 8,1)), new Match(&quot;B&quot;, LocalDate.of(2018,1,1)),\r\n          new Match(&quot;C&quot;, LocalDate.of(2020,1,1)));\r\n    \r\n    \r\n      System.out.println(stream.collect(toMap(Match::getType, Match::getDay, (a,b) -&gt; a.isAfter(b) ? a : b)));\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n```\r\n{A=2019-12-01, B=2018-08-01, C=2020-01-01}\r\n```","title":"Simplest way to group, collect, and select the max date from a Java stream","body":"<p>I have the following code that takes in a stream of objects, collects them into a hashmap with a key <code>type</code> and a date value that is the maximum date for each <code>type</code> in the list. It works as required but it looks ugly. Is there a way to simplify this code some more? For <code>int</code> objects I can use a <code>comparingInt</code> but in my case I have a <code>LocalDate</code> which doesn't have an equivalent. I tried a <code>groupingBy</code> way but it didn't work. Thanks for any of your suggestions.</p>\n<pre><code>import java.time.LocalDate;\nimport java.util.stream.Stream;\nimport static java.util.stream.Collectors.toMap;\n\npublic class MyClass {\n    public static class Match {\n\n  private final String type;\n  private final LocalDate day;\n\n  public Match(String type, LocalDate day) {\n    this.type = type;\n    this.day = day;\n  } \n\n  public String getType() {\n    return type;\n  }\n\n  public LocalDate getDay() {\n    return day;\n  }\n}\n    public static void main(String args[]) {\n      Stream stream = Stream.of(new Match(&quot;A&quot;, LocalDate.of(2019, 10,1)), new Match(&quot;A&quot;, LocalDate.of(2019,5,1)), new Match(&quot;A&quot;, LocalDate.of(2019,12,1)), new Match(&quot;A&quot;, LocalDate.of(2019, 1,1)),\n          new Match(&quot;B&quot;, LocalDate.of(2018,7,1)), new Match(&quot;B&quot;, LocalDate.of(2018, 8,1)), new Match(&quot;B&quot;, LocalDate.of(2018,1,1)),\n          new Match(&quot;C&quot;, LocalDate.of(2020,1,1)));\n    \n    \n      System.out.println(stream.collect(toMap(Match::getType, Match::getDay, (a,b) -&gt; a.isAfter(b) ? a : b)));\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>{A=2019-12-01, B=2018-08-01, C=2020-01-01}\n</code></pre>\n"},{"tags":["java","spring","spring-repositories"],"comments":[{"owner":{"account_id":7777159,"reputation":1084,"user_id":6886283,"display_name":"priyanksriv"},"score":0,"creation_date":1556204982,"post_id":55852352,"comment_id":98366727,"body_markdown":"Could you please answer a couple of questions to understand your approach - What is it that you are trying to achieve with a generic Repository - what problem does having a single instance solve for you?","body":"Could you please answer a couple of questions to understand your approach - What is it that you are trying to achieve with a generic Repository - what problem does having a single instance solve for you?"},{"owner":{"account_id":124126,"reputation":1756,"user_id":319020,"accept_rate":62,"display_name":"Brian"},"score":0,"creation_date":1556205156,"post_id":55852352,"comment_id":98366836,"body_markdown":"Not really a problem at all. I would just prefer to instantiate an instance of a single repository rather than instances of multiple repositories. Overall it would create less work for me and make for cleaner looking code ... IMHO.","body":"Not really a problem at all. I would just prefer to instantiate an instance of a single repository rather than instances of multiple repositories. Overall it would create less work for me and make for cleaner looking code ... IMHO."}],"answers":[{"tags":[],"owner":{"account_id":11555529,"reputation":121,"user_id":8466829,"display_name":"Garima"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556206318,"creation_date":1556206318,"answer_id":55852894,"question_id":55852352,"body_markdown":"This is wrong approach. CrudRepositories are not supposed to be implemented.\r\nYou just create Repository interfaces for all the models by extending the CrudRepository Interface. Spring provides the implementation at Runtime.\r\n\r\nIf you want to access these via a single class, then create a Service class with methods that access the required methods in these individual Repositories.","title":"Is it possible to create a generic repository that extends other interfaces that extend Spring&#39;s CrudRepository?","body":"<p>This is wrong approach. CrudRepositories are not supposed to be implemented.\nYou just create Repository interfaces for all the models by extending the CrudRepository Interface. Spring provides the implementation at Runtime.</p>\n\n<p>If you want to access these via a single class, then create a Service class with methods that access the required methods in these individual Repositories.</p>\n"},{"tags":[],"owner":{"account_id":7777159,"reputation":1084,"user_id":6886283,"display_name":"priyanksriv"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1556206353,"creation_date":1556206353,"answer_id":55852909,"question_id":55852352,"body_markdown":"First, I&#39;ll try to explain the error you&#39;re getting: `CrudRepository` is a parameterised interface and inheriting from (multiple) `CrudRepository` interfaces of different parameterised-types is creating a conflict at runtime.\r\n\r\nIMO, what you&#39;re trying to do is counter-productive. Spring&#39;s data repository provides a type-safe implementation of CRUD methods at runtime, when you extend `CrudRepository`. This gives you cleaner code, and provides compile-time correctness. And, `CrudRepository` is already pretty generic - it&#39;s better that way (at the interface level, than in implementation).\r\n\r\nEven if you were to create such a repository, you would have to give up the use of `CrudRepository` and create a single class with all the CRUD methods across all your models (eg. saveEyeColor, saveHairColor, etc). Maybe using something like a `SpringTemplate`. This isn&#39;t the best way to go about it IMO, as you&#39;ll be mixing your domain objects and the class will become a nightmare to maintain.\r\n\r\nTo answer your question, yes you&#39;ll have to inject an individual repository instance for each model.","title":"Is it possible to create a generic repository that extends other interfaces that extend Spring&#39;s CrudRepository?","body":"<p>First, I'll try to explain the error you're getting: <code>CrudRepository</code> is a parameterised interface and inheriting from (multiple) <code>CrudRepository</code> interfaces of different parameterised-types is creating a conflict at runtime.</p>\n\n<p>IMO, what you're trying to do is counter-productive. Spring's data repository provides a type-safe implementation of CRUD methods at runtime, when you extend <code>CrudRepository</code>. This gives you cleaner code, and provides compile-time correctness. And, <code>CrudRepository</code> is already pretty generic - it's better that way (at the interface level, than in implementation).</p>\n\n<p>Even if you were to create such a repository, you would have to give up the use of <code>CrudRepository</code> and create a single class with all the CRUD methods across all your models (eg. saveEyeColor, saveHairColor, etc). Maybe using something like a <code>SpringTemplate</code>. This isn't the best way to go about it IMO, as you'll be mixing your domain objects and the class will become a nightmare to maintain.</p>\n\n<p>To answer your question, yes you'll have to inject an individual repository instance for each model.</p>\n"},{"tags":[],"owner":{"account_id":6064119,"reputation":1809,"user_id":4735043,"display_name":"Jin Lim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647451184,"creation_date":1647451184,"answer_id":71501582,"question_id":55852352,"body_markdown":"***If you are looking for running a custom SQL query in spring boot with repository structures. Please have a look.*** \r\n\r\nhttps://stackoverflow.com/a/71501509/4735043\r\n","title":"Is it possible to create a generic repository that extends other interfaces that extend Spring&#39;s CrudRepository?","body":"<p><em><strong>If you are looking for running a custom SQL query in spring boot with repository structures. Please have a look.</strong></em></p>\n<p><a href=\"https://stackoverflow.com/a/71501509/4735043\">https://stackoverflow.com/a/71501509/4735043</a></p>\n"}],"owner":{"account_id":124126,"reputation":1756,"user_id":319020,"accept_rate":62,"display_name":"Brian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":556,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":55852909,"answer_count":3,"score":1,"last_activity_date":1647451184,"creation_date":1556204550,"question_id":55852352,"body_markdown":"Here are the details:\r\n\r\nI have multiple Models in my application, each model has a repository that extends Spring&#39;s `CrudRepository`.\r\n\r\nFor example:\r\n\r\n* `EyeColorModel` has repository `interface EyeColorRepository extends CrudRepository&lt;EyeColor, Long&gt;`\r\n\r\n* `HairColorModel` has repository `interface HairColorRepository extends CrudRepository&lt;HairColor, Long&gt;`\r\n\r\n* `StateModel` has repository `interface StateRepository extends CrudRepository&lt;State, Long&gt;`\r\n\r\n* and so on ...\r\n\r\nI would like to create a generic `MyApplicationRepository` that extends all of my individual repositories so that I need only create a single instance of `MyApplicationRepository` instead of creating multiple instances of my individual repositories.\r\n\r\nI tried this:\r\n\r\n    public interface MyApplicationRepositoryInterface extends\r\n        EyeColorRepository,\r\n        HairColorRepository,\r\n        StateRepository {\r\n    }\r\n\r\n\r\n    public class MyApplicationRepository implements MyApplicationRepositoryInterface {\r\n    }\r\n\r\nHowever, when I try to extend all of my individual repositories in `MyApplicationRepositoryInterface` I get this error:\r\n\r\n    CrudRepository cannot be inherited with different arguments: &lt;com.myapp.Models.EyeColor, java.lang.Long&gt; and &lt;com.myapp.Models.HairColor, java.lang.Long&gt;\r\n\r\nSo is there a way to do what I would like to do, or am I stuck with instantiating instances of all my model repositories?","title":"Is it possible to create a generic repository that extends other interfaces that extend Spring&#39;s CrudRepository?","body":"<p>Here are the details:</p>\n\n<p>I have multiple Models in my application, each model has a repository that extends Spring's <code>CrudRepository</code>.</p>\n\n<p>For example:</p>\n\n<ul>\n<li><p><code>EyeColorModel</code> has repository <code>interface EyeColorRepository extends CrudRepository&lt;EyeColor, Long&gt;</code></p></li>\n<li><p><code>HairColorModel</code> has repository <code>interface HairColorRepository extends CrudRepository&lt;HairColor, Long&gt;</code></p></li>\n<li><p><code>StateModel</code> has repository <code>interface StateRepository extends CrudRepository&lt;State, Long&gt;</code></p></li>\n<li><p>and so on ...</p></li>\n</ul>\n\n<p>I would like to create a generic <code>MyApplicationRepository</code> that extends all of my individual repositories so that I need only create a single instance of <code>MyApplicationRepository</code> instead of creating multiple instances of my individual repositories.</p>\n\n<p>I tried this:</p>\n\n<pre><code>public interface MyApplicationRepositoryInterface extends\n    EyeColorRepository,\n    HairColorRepository,\n    StateRepository {\n}\n\n\npublic class MyApplicationRepository implements MyApplicationRepositoryInterface {\n}\n</code></pre>\n\n<p>However, when I try to extend all of my individual repositories in <code>MyApplicationRepositoryInterface</code> I get this error:</p>\n\n<pre><code>CrudRepository cannot be inherited with different arguments: &lt;com.myapp.Models.EyeColor, java.lang.Long&gt; and &lt;com.myapp.Models.HairColor, java.lang.Long&gt;\n</code></pre>\n\n<p>So is there a way to do what I would like to do, or am I stuck with instantiating instances of all my model repositories?</p>\n"},{"tags":["java","android","paho"],"comments":[{"owner":{"account_id":84644,"reputation":66598,"user_id":236465,"display_name":"Diego Torres Milano"},"score":0,"creation_date":1647356226,"post_id":71483411,"comment_id":126347441,"body_markdown":"&quot;*I want to send a last message in MQTT to prevent that the application going to be closed*&quot;, your intention is not clear and you are not showing the error received","body":"&quot;<i>I want to send a last message in MQTT to prevent that the application going to be closed</i>&quot;, your intention is not clear and you are not showing the error received"},{"owner":{"account_id":21902961,"reputation":15,"user_id":16188409,"display_name":"Stimm4"},"score":0,"creation_date":1647356641,"post_id":71483411,"comment_id":126347642,"body_markdown":"Yes I&#39;m sorry my english is really bad, I correct my question.\n&quot;prevent&quot; replace by &quot;warn&quot;","body":"Yes I&#39;m sorry my english is really bad, I correct my question. &quot;prevent&quot; replace by &quot;warn&quot;"}],"answers":[{"tags":[],"owner":{"account_id":6418526,"reputation":283,"user_id":4975906,"display_name":"Kostek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647360856,"creation_date":1647360856,"answer_id":71485487,"question_id":71483411,"body_markdown":"Neither the onDestroy method nor onStop is guaranteed to be called.\r\n\r\n&gt; There are situations where the system will simply kill the activity&#39;s hosting process without calling this method (or any others) in it.\r\n\r\nsource: https://developer.android.com/reference/android/app/Activity.html#onDestroy()\r\n\r\nI believe this could change from device to device. Your observation that it happened while the battery saving option was ON could be very true in this case.\r\n\r\nAs for the solution maybe take a look at bound services and see if they are better fit for your scenario: https://developer.android.com/guide/components/bound-services\r\n\r\nStay strong and happy coding!","title":"Execute a last methode on the onDestroy methode [Java] [Android]","body":"<p>Neither the onDestroy method nor onStop is guaranteed to be called.</p>\n<blockquote>\n<p>There are situations where the system will simply kill the activity's hosting process without calling this method (or any others) in it.</p>\n</blockquote>\n<p>source: <a href=\"https://developer.android.com/reference/android/app/Activity.html#onDestroy()\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/app/Activity.html#onDestroy()</a></p>\n<p>I believe this could change from device to device. Your observation that it happened while the battery saving option was ON could be very true in this case.</p>\n<p>As for the solution maybe take a look at bound services and see if they are better fit for your scenario: <a href=\"https://developer.android.com/guide/components/bound-services\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/components/bound-services</a></p>\n<p>Stay strong and happy coding!</p>\n"},{"tags":[],"owner":{"account_id":21902961,"reputation":15,"user_id":16188409,"display_name":"Stimm4"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647450783,"creation_date":1647450437,"answer_id":71501407,"question_id":71483411,"body_markdown":"After the help of Kostek (https://stackoverflow.com/a/71485487/16188409), I found the solution, by adding the &quot;REQUEST_IGNORE_BATTERY_OPTIMIZATIONS&quot; to the manifest as the post below said :\r\n\r\nhttps://stackoverflow.com/a/67770107/16188409","title":"Execute a last methode on the onDestroy methode [Java] [Android]","body":"<p>After the help of Kostek (<a href=\"https://stackoverflow.com/a/71485487/16188409\">https://stackoverflow.com/a/71485487/16188409</a>), I found the solution, by adding the &quot;REQUEST_IGNORE_BATTERY_OPTIMIZATIONS&quot; to the manifest as the post below said :</p>\n<p><a href=\"https://stackoverflow.com/a/67770107/16188409\">https://stackoverflow.com/a/67770107/16188409</a></p>\n"}],"owner":{"account_id":21902961,"reputation":15,"user_id":16188409,"display_name":"Stimm4"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71501407,"answer_count":2,"score":0,"last_activity_date":1647450783,"creation_date":1647352218,"question_id":71483411,"body_markdown":"I&#39;m having a MainActivity, which start a foreground service as an intent with the methode ContextCompat.startForegroundService this service has an instance of paho MQTT connection.\r\n\r\nWhen I closed the application, I want to send a last message in MQTT to warn that the application going to be closed, but this didn&#39;t work all the time, namely when I&#39;m not connecting to my computer with the android studio debugger.\r\n\r\nSo have you any idea to help me ?\r\n\r\nMore informations :\r\n\r\nOn the onDestroy() methode of MainActivity : \r\n\r\n    getApplicationContext().stopService(intent);\r\n\r\nOn the onDestoy() of my service :\r\n\r\n        client.published(client.GetTopic(),client.TAG_CLOSE);\r\n\r\n        try {\r\n            client.client.disconnect();\r\n        } catch (MqttException e) {\r\n            e.printStackTrace();\r\n            Log.e(&quot;destroy service&quot;, &quot;ERROR !!!!&quot;);\r\n        }\r\n\r\nEDIT : I discovered that the problem, appear when I turn on the battery saving.","title":"Execute a last methode on the onDestroy methode [Java] [Android]","body":"<p>I'm having a MainActivity, which start a foreground service as an intent with the methode ContextCompat.startForegroundService this service has an instance of paho MQTT connection.</p>\n<p>When I closed the application, I want to send a last message in MQTT to warn that the application going to be closed, but this didn't work all the time, namely when I'm not connecting to my computer with the android studio debugger.</p>\n<p>So have you any idea to help me ?</p>\n<p>More informations :</p>\n<p>On the onDestroy() methode of MainActivity :</p>\n<pre><code>getApplicationContext().stopService(intent);\n</code></pre>\n<p>On the onDestoy() of my service :</p>\n<pre><code>    client.published(client.GetTopic(),client.TAG_CLOSE);\n\n    try {\n        client.client.disconnect();\n    } catch (MqttException e) {\n        e.printStackTrace();\n        Log.e(&quot;destroy service&quot;, &quot;ERROR !!!!&quot;);\n    }\n</code></pre>\n<p>EDIT : I discovered that the problem, appear when I turn on the battery saving.</p>\n"},{"tags":["java","angular","spring-boot"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1647441449,"post_id":71498811,"comment_id":126372389,"body_markdown":"Why are you even base64 encoding the file? Why not just send the file as binary data? In any case, Java includes a Base64 encode/decoder. Have you tried using it?","body":"Why are you even base64 encoding the file? Why not just send the file as binary data? In any case, Java includes a Base64 encode/decoder. Have you tried using it?"},{"owner":{"account_id":14320275,"reputation":1315,"user_id":10343888,"display_name":"fatih"},"score":0,"creation_date":1647441728,"post_id":71498811,"comment_id":126372518,"body_markdown":"What exactly do you want to do? Do you want to convert it to a file and store it somewhere?","body":"What exactly do you want to do? Do you want to convert it to a file and store it somewhere?"},{"owner":{"account_id":24565949,"reputation":23,"user_id":18473103,"display_name":"dareen_04"},"score":0,"creation_date":1647442281,"post_id":71498811,"comment_id":126372748,"body_markdown":"@MarkRotteveel I just found a solution with base64 in angular so I worked with it ! and yes I tried to decode the string of base64 but i couldnt upload the file !","body":"@MarkRotteveel I just found a solution with base64 in angular so I worked with it ! and yes I tried to decode the string of base64 but i couldnt upload the file !"},{"owner":{"account_id":24565949,"reputation":23,"user_id":18473103,"display_name":"dareen_04"},"score":0,"creation_date":1647442363,"post_id":71498811,"comment_id":126372791,"body_markdown":"@Fati I want to download the file which is in base64 format!","body":"@Fati I want to download the file which is in base64 format!"}],"answers":[{"tags":[],"owner":{"account_id":10768105,"reputation":21,"user_id":9414327,"display_name":"Mehdi Lamine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647441902,"creation_date":1647441902,"answer_id":71499116,"question_id":71498811,"body_markdown":"    byte[] data = Base64.decodeBase64(base64);\r\n    try (OutputStream stream = new FileOutputStream(&quot;path to file &quot;)) {\r\n        stream.write(data);\r\n    }","title":"How to decode file from base64 in Spring Boot (Java)?","body":"<pre><code>byte[] data = Base64.decodeBase64(base64);\ntry (OutputStream stream = new FileOutputStream(&quot;path to file &quot;)) {\n    stream.write(data);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14320275,"reputation":1315,"user_id":10343888,"display_name":"fatih"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647450764,"creation_date":1647443660,"answer_id":71499613,"question_id":71498811,"body_markdown":"You can download the file converted to `Base64` format using this.\r\n\r\n \r\n\r\n    @RequestMapping(value = &quot;/UploadFile&quot;)\r\n    public String uploadFile(HttpServletResponse response, String base64, String name, String size) throws Exception {\r\n        // If you are using Java 8 or above\r\n        byte[] decodedFile = Base64.getDecoder().decode(base64.getBytes(StandardCharsets.UTF_8));\r\n        response.setContentType(&quot;application/octet-stream&quot;);\r\n        response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + name);\r\n        response.setHeader(&quot;Pragma&quot;, &quot;no-cache&quot;);\r\n        response.setHeader(&quot;Cache-Control&quot;, &quot;no-cache&quot;);\r\n\r\n        InputStream is = new ByteArrayInputStream(decodedFile);\r\n        IOUtils.copy(is, response.getOutputStream());\r\n        response.flushBuffer();\r\n        return &quot;true&quot;;\r\n    }","title":"How to decode file from base64 in Spring Boot (Java)?","body":"<p>You can download the file converted to <code>Base64</code> format using this.</p>\n<pre><code>@RequestMapping(value = &quot;/UploadFile&quot;)\npublic String uploadFile(HttpServletResponse response, String base64, String name, String size) throws Exception {\n    // If you are using Java 8 or above\n    byte[] decodedFile = Base64.getDecoder().decode(base64.getBytes(StandardCharsets.UTF_8));\n    response.setContentType(&quot;application/octet-stream&quot;);\n    response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + name);\n    response.setHeader(&quot;Pragma&quot;, &quot;no-cache&quot;);\n    response.setHeader(&quot;Cache-Control&quot;, &quot;no-cache&quot;);\n\n    InputStream is = new ByteArrayInputStream(decodedFile);\n    IOUtils.copy(is, response.getOutputStream());\n    response.flushBuffer();\n    return &quot;true&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":24565949,"reputation":23,"user_id":18473103,"display_name":"dareen_04"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7756,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71499613,"answer_count":2,"score":1,"last_activity_date":1647450764,"creation_date":1647440747,"question_id":71498811,"body_markdown":"I am sending a file from the front-end (Angular) via a web service to the back-end (Java). How to decode the file in Spring Boot?\r\n\r\nHere is it my code in Angular: (encode file in base64) in a function with 3 parameters (base64, name, size) \r\n\r\n\r\n    readAndUploadFile(theFile: any) {\r\n        let file = new FileModel();\r\n        \r\n        // Set File Information\r\n        file.fileName = theFile.name;\r\n        file.fileSize = theFile.size;\r\n        file.fileType = theFile.type;\r\n        file.lastModifiedTime = theFile.lastModified;\r\n        file.lastModifiedDate = theFile.lastModifiedDate;\r\n        \r\n        // Use FileReader() object to get file to upload\r\n        // NOTE: FileReader only works with newer browsers\r\n        let reader = new FileReader();\r\n        \r\n        // Setup onload event for reader\r\n        reader.onload = () =&gt; {\r\n            // Store base64 encoded representation of file\r\n            file.fileAsBase64 = reader.result.toString();\r\n            \r\n            // POST to server\r\n            this.uploadService.uploadFile(file.fileAsBase64,file.fileName,file.fileSize).subscribe(resp =&gt; { \r\n             \r\n                this.messages.push(&quot;Upload complete&quot;);\r\n                console.log(&quot;tst&quot;,resp); });\r\n        }\r\n        \r\n        // Read the file\r\n        reader.readAsDataURL(theFile);\r\n    } \r\n    \r\n    \r\n    uploadFile(): void {\r\n      this.readAndUploadFile(this.theFile);\r\n    } \r\n\r\n\r\n\r\nMy code in the back-end: \r\n\r\n    @RequestMapping(&quot;/UploadFile&quot;)\r\n    public String uploadFile(String base64, String name, String size) throws Exception {\r\n     \r\n        return &quot;true&quot;;\r\n    }\r\n    ","title":"How to decode file from base64 in Spring Boot (Java)?","body":"<p>I am sending a file from the front-end (Angular) via a web service to the back-end (Java). How to decode the file in Spring Boot?</p>\n<p>Here is it my code in Angular: (encode file in base64) in a function with 3 parameters (base64, name, size)</p>\n<pre><code>readAndUploadFile(theFile: any) {\n    let file = new FileModel();\n    \n    // Set File Information\n    file.fileName = theFile.name;\n    file.fileSize = theFile.size;\n    file.fileType = theFile.type;\n    file.lastModifiedTime = theFile.lastModified;\n    file.lastModifiedDate = theFile.lastModifiedDate;\n    \n    // Use FileReader() object to get file to upload\n    // NOTE: FileReader only works with newer browsers\n    let reader = new FileReader();\n    \n    // Setup onload event for reader\n    reader.onload = () =&gt; {\n        // Store base64 encoded representation of file\n        file.fileAsBase64 = reader.result.toString();\n        \n        // POST to server\n        this.uploadService.uploadFile(file.fileAsBase64,file.fileName,file.fileSize).subscribe(resp =&gt; { \n         \n            this.messages.push(&quot;Upload complete&quot;);\n            console.log(&quot;tst&quot;,resp); });\n    }\n    \n    // Read the file\n    reader.readAsDataURL(theFile);\n} \n\n\nuploadFile(): void {\n  this.readAndUploadFile(this.theFile);\n} \n</code></pre>\n<p>My code in the back-end:</p>\n<pre><code>@RequestMapping(&quot;/UploadFile&quot;)\npublic String uploadFile(String base64, String name, String size) throws Exception {\n \n    return &quot;true&quot;;\n}\n</code></pre>\n"},{"tags":["java","datetime","datetime-format","datetimeoffset","zoneddatetime"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1647333669,"post_id":71474684,"comment_id":126338667,"body_markdown":"Does the string always end in `+0000Z` literally? As has been said, it’s funny and non-standard. Could you educate the publisher to give you true [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) format?","body":"Does the string always end in <code>+0000Z</code> literally? As has been said, it’s funny and non-standard. Could you educate the publisher to give you true <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> format?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1647333989,"post_id":71474684,"comment_id":126338786,"body_markdown":"If you can’t change the string, I’d declare `private static final DateTimeFormatter FORMATTER = new DateTimeFormatterBuilder().append(DateTimeFormatter.ISO_LOCAL_DATE_TIME).appendOffset(&quot;+HHMM&quot;, &quot;+0000&quot;).appendOffsetId().toFormatter(Locale.ROOT);` (sorry, unreadable in the comment, but simpler than the one by stdunbar). And I’d prefer to parse into an `OffsetDateTime` over`ZonedDateTime` (both work).","body":"If you can’t change the string, I’d declare <code>private static final DateTimeFormatter FORMATTER = new DateTimeFormatterBuilder().append(DateTimeFormatter.ISO_LOCA&zwnj;&#8203;L_DATE_TIME).appendO&zwnj;&#8203;ffset(&quot;+HHMM&quot;, &quot;+0000&quot;).appendOffsetId().toFormatter(Locale.ROOT);</code> (sorry, unreadable in the comment, but simpler than the one by stdunbar). And I’d prefer to parse into an <code>OffsetDateTime</code> over<code>ZonedDateTime</code> (both work)."}],"answers":[{"tags":[],"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647296721,"creation_date":1647296721,"answer_id":71474876,"question_id":71474684,"body_markdown":"That isn&#39;t a ISO_DATE_TIME format.  That would require something like `2022-03-12T03:59:59+0000` (no &#39;Z&#39;).  A formatter that works looks something like:\r\n\r\n    import java.time.ZonedDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.time.format.DateTimeFormatterBuilder;\r\n    \r\n    \r\n    class Scratch {\r\n        public static void main(String[] args) {\r\n            final String inputDate = &quot;2022-03-12T03:59:59+0000Z&quot;;\r\n    \r\n            DateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n                    .parseCaseInsensitive()\r\n                    .append(DateTimeFormatter.ISO_LOCAL_DATE_TIME)\r\n                    .optionalStart()\r\n                    .appendPattern(&quot;.SSS&quot;)\r\n                    .optionalEnd()\r\n                    .optionalStart()\r\n                    .appendZoneOrOffsetId()\r\n                    .optionalEnd()\r\n                    .optionalStart()\r\n                    .appendOffset(&quot;+HHMM&quot;, &quot;0000&quot;)\r\n                    .optionalEnd()\r\n                    .optionalStart()\r\n                    .appendLiteral(&#39;Z&#39;)\r\n                    .optionalEnd()\r\n                    .toFormatter();\r\n    \r\n            long epochSecond = ZonedDateTime.parse(inputDate, formatter).toEpochSecond();\r\n    \r\n            System.out.println(&quot;epochSecond is &quot; + epochSecond);\r\n        }\r\n    }\r\n\r\n\r\nas derived from [this post](https://stackoverflow.com/questions/29710898/datetimeformatterbuilder-usages-in-java-8-specifically-optionals).  You can create that formatter in one place and use it over again.\r\n","title":"DateTimeParseException while parsing date using ZonedDateTime","body":"<p>That isn't a ISO_DATE_TIME format.  That would require something like <code>2022-03-12T03:59:59+0000</code> (no 'Z').  A formatter that works looks something like:</p>\n<pre><code>import java.time.ZonedDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.time.format.DateTimeFormatterBuilder;\n\n\nclass Scratch {\n    public static void main(String[] args) {\n        final String inputDate = &quot;2022-03-12T03:59:59+0000Z&quot;;\n\n        DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n                .parseCaseInsensitive()\n                .append(DateTimeFormatter.ISO_LOCAL_DATE_TIME)\n                .optionalStart()\n                .appendPattern(&quot;.SSS&quot;)\n                .optionalEnd()\n                .optionalStart()\n                .appendZoneOrOffsetId()\n                .optionalEnd()\n                .optionalStart()\n                .appendOffset(&quot;+HHMM&quot;, &quot;0000&quot;)\n                .optionalEnd()\n                .optionalStart()\n                .appendLiteral('Z')\n                .optionalEnd()\n                .toFormatter();\n\n        long epochSecond = ZonedDateTime.parse(inputDate, formatter).toEpochSecond();\n\n        System.out.println(&quot;epochSecond is &quot; + epochSecond);\n    }\n}\n</code></pre>\n<p>as derived from <a href=\"https://stackoverflow.com/questions/29710898/datetimeformatterbuilder-usages-in-java-8-specifically-optionals\">this post</a>.  You can create that formatter in one place and use it over again.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647450683,"creation_date":1647299118,"answer_id":71475140,"question_id":71474684,"body_markdown":"# tl;dr\r\n\r\nYour input happens to be a screwy variation of the standard IS0 8601 format used by default with the `java.time.Instant` class. Fix your input string, and parse. \r\n\r\n    Instant.parse( &quot;2022-03-12T03:59:59+0000Z&quot;.replace( &quot;+0000Z&quot; , &quot;Z&quot; ) )\r\n\r\nOr, reformatted:\r\n\r\n    Instant.parse\r\n    ( \r\n        &quot;2022-03-12T03:59:59+0000Z&quot;\r\n        .replace( &quot;+0000Z&quot; , &quot;Z&quot; ) \r\n    )\r\n\r\nSee this code run live at [IdeOne.com](https://ideone.com/).\r\n\r\n&gt; 2022-03-12T03:59:59Z\r\n\r\nBut the very best solution is to use only ISO 8601 formats when exchanging date-time values. \r\n\r\n# Details\r\n\r\n## `ZonedDateTime` inappropriate here\r\n\r\n`ZonedDateTime` is the wrong class for your input. Your input has a `Z` which is a standard abbreviation for an offset from UTC of zero hours-minutes-seconds. But no time zone indicated, only a mere offset. So use `OffsetDateTime` or `Instant` rather than `ZonedDateTime`. \r\n\r\n## `+0000` and `Z` redundant\r\n\r\nThe `+0000` also means an offset of zero hours-minutes-seconds. This is the same meaning as the `Z`. So this part is redundant. I suggest you educate the publisher of your data about the standard [ISO 8601][1] formats. No need to invent formats such as seen in your input. \r\n\r\n## String manipulation rather than custom formatter \r\n\r\nIf all your inputs have the same ending of `+0000Z`, I suggest you clean the incoming data rather than define a formatting pattern. \r\n\r\n    String input = &quot;2022-03-12T03:59:59+0000Z&quot;.replace( &quot;+0000Z&quot; , &quot;Z&quot; ) ;\r\n    Instant instant = Instant.parse( input ) ;\r\n\r\n## Other formats\r\n\r\nYou later [commented][2]:\r\n\r\n&gt;&quot;2017-01-04T12:30:00-05:00&quot; , &quot;2017-03-20T22:05:00Z&quot;, etc. So I cannot assume all my inputs to have the same ending of +0000Z.\r\n\r\nBoth of those are standard [ISO 8601][1] formats. Both can be parsed as [`OffsetDateTime`][3] objects as-is, without alteration.\r\n\r\nSo I still maintain that the simplest approach, given your range of possible inputs, is to do the [`replace`][4] string manipulation first, which has no effect if your other two formats arrive. Then parse all three variations as `OffsetDateTime` objects. Sometimes programmers tend to over-think a problem, and over-engineer an elaborate solution where a simple one suffices.\r\n\r\nExample code:\r\n\r\n```java\r\nOffsetDateTime odt1 = OffsetDateTime.parse( &quot;2022-03-12T03:59:59+0000Z&quot;.replace( &quot;+0000Z&quot; , &quot;Z&quot; ) ) ;\r\nOffsetDateTime odt2 = OffsetDateTime.parse( &quot;2017-01-04T12:30:00-05:00&quot;.replace( &quot;+0000Z&quot; , &quot;Z&quot; ) ) ;\r\nOffsetDateTime odt3 = OffsetDateTime.parse( &quot;2017-03-20T22:05:00Z&quot;.replace( &quot;+0000Z&quot; , &quot;Z&quot; ) ) ;\r\n```\r\n\r\n&gt;2022-03-12T03:59:59Z\r\n&gt;\r\n&gt;2017-01-04T12:30-05:00\r\n&gt;\r\n&gt;2017-03-20T22:05Z\r\n\r\nSee this [code run live at IdeOne.com][5].\r\n\r\nTrap for `DateTimeParseException` while parsing to detect yet another unexpected format. \r\n\r\nOf course, the best solution is to **educate the publisher of your data about consistent use of ISO 8601** formats such as the latter two examples, while avoiding the screwy first example’s format.\r\n\r\n## Count since epoch\r\n\r\nI recommend against tracking time as a count-since-epoch. Such a count is inherently ambiguous and error-prone. Instead, use text in standard ISO 8601 format. But if you insist on a count, here it is.\r\n\r\nTo get a count of seconds since the epoch reference of 1970-01-01T00:00Z, extract a `Instant` from the `OffsetDateTime`, and interrogate.\r\n\r\n    long secondsSinceEpoch = odt.toInstant().getEpochSecond() ;\r\n\r\n\r\n\r\n    \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [2]: https://stackoverflow.com/questions/71474684/datetimeparseexception-while-parsing-date-using-zoneddatetime/71475140?noredirect=1#comment126353249_71475140\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/OffsetDateTime.html\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#replace(java.lang.CharSequence,java.lang.CharSequence)\r\n  [5]: https://ideone.com/oLFEBh","title":"DateTimeParseException while parsing date using ZonedDateTime","body":"<h1>tl;dr</h1>\n<p>Your input happens to be a screwy variation of the standard IS0 8601 format used by default with the <code>java.time.Instant</code> class. Fix your input string, and parse.</p>\n<pre><code>Instant.parse( &quot;2022-03-12T03:59:59+0000Z&quot;.replace( &quot;+0000Z&quot; , &quot;Z&quot; ) )\n</code></pre>\n<p>Or, reformatted:</p>\n<pre><code>Instant.parse\n( \n    &quot;2022-03-12T03:59:59+0000Z&quot;\n    .replace( &quot;+0000Z&quot; , &quot;Z&quot; ) \n)\n</code></pre>\n<p>See this code run live at <a href=\"https://ideone.com/\" rel=\"nofollow noreferrer\">IdeOne.com</a>.</p>\n<blockquote>\n<p>2022-03-12T03:59:59Z</p>\n</blockquote>\n<p>But the very best solution is to use only ISO 8601 formats when exchanging date-time values.</p>\n<h1>Details</h1>\n<h2><code>ZonedDateTime</code> inappropriate here</h2>\n<p><code>ZonedDateTime</code> is the wrong class for your input. Your input has a <code>Z</code> which is a standard abbreviation for an offset from UTC of zero hours-minutes-seconds. But no time zone indicated, only a mere offset. So use <code>OffsetDateTime</code> or <code>Instant</code> rather than <code>ZonedDateTime</code>.</p>\n<h2><code>+0000</code> and <code>Z</code> redundant</h2>\n<p>The <code>+0000</code> also means an offset of zero hours-minutes-seconds. This is the same meaning as the <code>Z</code>. So this part is redundant. I suggest you educate the publisher of your data about the standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> formats. No need to invent formats such as seen in your input.</p>\n<h2>String manipulation rather than custom formatter</h2>\n<p>If all your inputs have the same ending of <code>+0000Z</code>, I suggest you clean the incoming data rather than define a formatting pattern.</p>\n<pre><code>String input = &quot;2022-03-12T03:59:59+0000Z&quot;.replace( &quot;+0000Z&quot; , &quot;Z&quot; ) ;\nInstant instant = Instant.parse( input ) ;\n</code></pre>\n<h2>Other formats</h2>\n<p>You later <a href=\"https://stackoverflow.com/questions/71474684/datetimeparseexception-while-parsing-date-using-zoneddatetime/71475140?noredirect=1#comment126353249_71475140\">commented</a>:</p>\n<blockquote>\n<p>&quot;2017-01-04T12:30:00-05:00&quot; , &quot;2017-03-20T22:05:00Z&quot;, etc. So I cannot assume all my inputs to have the same ending of +0000Z.</p>\n</blockquote>\n<p>Both of those are standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> formats. Both can be parsed as <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/OffsetDateTime.html\" rel=\"nofollow noreferrer\"><code>OffsetDateTime</code></a> objects as-is, without alteration.</p>\n<p>So I still maintain that the simplest approach, given your range of possible inputs, is to do the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#replace(java.lang.CharSequence,java.lang.CharSequence)\" rel=\"nofollow noreferrer\"><code>replace</code></a> string manipulation first, which has no effect if your other two formats arrive. Then parse all three variations as <code>OffsetDateTime</code> objects. Sometimes programmers tend to over-think a problem, and over-engineer an elaborate solution where a simple one suffices.</p>\n<p>Example code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>OffsetDateTime odt1 = OffsetDateTime.parse( &quot;2022-03-12T03:59:59+0000Z&quot;.replace( &quot;+0000Z&quot; , &quot;Z&quot; ) ) ;\nOffsetDateTime odt2 = OffsetDateTime.parse( &quot;2017-01-04T12:30:00-05:00&quot;.replace( &quot;+0000Z&quot; , &quot;Z&quot; ) ) ;\nOffsetDateTime odt3 = OffsetDateTime.parse( &quot;2017-03-20T22:05:00Z&quot;.replace( &quot;+0000Z&quot; , &quot;Z&quot; ) ) ;\n</code></pre>\n<blockquote>\n<p>2022-03-12T03:59:59Z</p>\n<p>2017-01-04T12:30-05:00</p>\n<p>2017-03-20T22:05Z</p>\n</blockquote>\n<p>See this <a href=\"https://ideone.com/oLFEBh\" rel=\"nofollow noreferrer\">code run live at IdeOne.com</a>.</p>\n<p>Trap for <code>DateTimeParseException</code> while parsing to detect yet another unexpected format.</p>\n<p>Of course, the best solution is to <strong>educate the publisher of your data about consistent use of ISO 8601</strong> formats such as the latter two examples, while avoiding the screwy first example’s format.</p>\n<h2>Count since epoch</h2>\n<p>I recommend against tracking time as a count-since-epoch. Such a count is inherently ambiguous and error-prone. Instead, use text in standard ISO 8601 format. But if you insist on a count, here it is.</p>\n<p>To get a count of seconds since the epoch reference of 1970-01-01T00:00Z, extract a <code>Instant</code> from the <code>OffsetDateTime</code>, and interrogate.</p>\n<pre><code>long secondsSinceEpoch = odt.toInstant().getEpochSecond() ;\n</code></pre>\n"}],"owner":{"account_id":5003297,"reputation":2108,"user_id":4021611,"accept_rate":71,"display_name":"Zack"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":575,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71474876,"answer_count":2,"score":2,"last_activity_date":1647450683,"creation_date":1647294966,"question_id":71474684,"body_markdown":"I have the below program and looks like ZonedDateTime is not able to parse the date string. Should I use a different date format or different library to parse?\r\n\r\n    import java.time.ZonedDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    \r\n    class Scratch {\r\n        public static void main(String[] args) {\r\n            final String inputDate = &quot;2022-03-12T03:59:59+0000Z&quot;;\r\n            ZonedDateTime.parse(inputDate, DateTimeFormatter.ISO_DATE_TIME).toEpochSecond();\r\n        }\r\n    }\r\n\r\n&lt;p&gt;\r\n\r\n    Exception in thread &quot;main&quot; java.time.format.DateTimeParseException: Text &#39;2022-03-12T03:59:59+0000Z&#39; could not be parsed, unparsed text found at index 19\r\n    \tat java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2053)\r\n    \tat java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1952)\r\n    \tat java.base/java.time.ZonedDateTime.parse(ZonedDateTime.java:599)\r\n    \tat Scratch.main(scratch_29.java:7)\r\n\r\n    Process finished with exit code 1\r\n","title":"DateTimeParseException while parsing date using ZonedDateTime","body":"<p>I have the below program and looks like ZonedDateTime is not able to parse the date string. Should I use a different date format or different library to parse?</p>\n<pre><code>import java.time.ZonedDateTime;\nimport java.time.format.DateTimeFormatter;\n\nclass Scratch {\n    public static void main(String[] args) {\n        final String inputDate = &quot;2022-03-12T03:59:59+0000Z&quot;;\n        ZonedDateTime.parse(inputDate, DateTimeFormatter.ISO_DATE_TIME).toEpochSecond();\n    }\n}\n</code></pre>\n<p>\n<pre><code>Exception in thread &quot;main&quot; java.time.format.DateTimeParseException: Text '2022-03-12T03:59:59+0000Z' could not be parsed, unparsed text found at index 19\n    at java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2053)\n    at java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1952)\n    at java.base/java.time.ZonedDateTime.parse(ZonedDateTime.java:599)\n    at Scratch.main(scratch_29.java:7)\n\nProcess finished with exit code 1\n</code></pre>\n"},{"tags":["java","postgresql","jooq","explain"],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1594986717,"creation_date":1594986717,"answer_id":62953382,"question_id":62953019,"body_markdown":"Yes you can run explain. Example\r\n\r\n    SelectWhereStep&lt;ModuldefRecord&gt; where = dsl.selectFrom(MODULDEF);\r\n    Explain explain = dsl().explain(where);\r\n\r\n    System.out.println(explain);\r\n\r\nThe output look like this (for Oracle)\r\n\r\n    +------------------------------------------------------------------------------+\r\n    |PLAN_TABLE_OUTPUT                                                             |\r\n    +------------------------------------------------------------------------------+\r\n    |Plan hash value: 3871168833                                                   |\r\n    |                                                                              |\r\n    |------------------------------------------------------------------------------|\r\n    || Id  | Operation         | Name     | Rows  | Bytes | Cost (%CPU)| Time     ||\r\n    |------------------------------------------------------------------------------|\r\n    ||   0 | SELECT STATEMENT  |          | 61303 |    30M|  1305   (1)| 00:00:01 ||\r\n    ||   1 |  TABLE ACCESS FULL| MODULDEF | 61303 |    30M|  1305   (1)| 00:00:01 ||\r\n    |------------------------------------------------------------------------------|\r\n    +------------------------------------------------------------------------------+\r\n\r\nExplain also contains rows and cost\r\n\r\n        /**\r\n         * The number of rows (cardinality) that is estimated to be returned by the query.\r\n         * &lt;p&gt;\r\n         * This returns {@link Double#NaN} if rows could not be estimated.\r\n         */\r\n        double rows();\r\n    \r\n        /**\r\n         * The cost the database associated with the execution of the query.\r\n         * &lt;p&gt;\r\n         * This returns {@link Double#NaN} if cost could not be retrieved.\r\n         */\r\n        double cost();\r\n    ","title":"Can I run an &quot;explain analyze&quot; on a query using JOOQ?","body":"<p>Yes you can run explain. Example</p>\n<pre><code>SelectWhereStep&lt;ModuldefRecord&gt; where = dsl.selectFrom(MODULDEF);\nExplain explain = dsl().explain(where);\n\nSystem.out.println(explain);\n</code></pre>\n<p>The output look like this (for Oracle)</p>\n<pre><code>+------------------------------------------------------------------------------+\n|PLAN_TABLE_OUTPUT                                                             |\n+------------------------------------------------------------------------------+\n|Plan hash value: 3871168833                                                   |\n|                                                                              |\n|------------------------------------------------------------------------------|\n|| Id  | Operation         | Name     | Rows  | Bytes | Cost (%CPU)| Time     ||\n|------------------------------------------------------------------------------|\n||   0 | SELECT STATEMENT  |          | 61303 |    30M|  1305   (1)| 00:00:01 ||\n||   1 |  TABLE ACCESS FULL| MODULDEF | 61303 |    30M|  1305   (1)| 00:00:01 ||\n|------------------------------------------------------------------------------|\n+------------------------------------------------------------------------------+\n</code></pre>\n<p>Explain also contains rows and cost</p>\n<pre><code>    /**\n     * The number of rows (cardinality) that is estimated to be returned by the query.\n     * &lt;p&gt;\n     * This returns {@link Double#NaN} if rows could not be estimated.\n     */\n    double rows();\n\n    /**\n     * The cost the database associated with the execution of the query.\n     * &lt;p&gt;\n     * This returns {@link Double#NaN} if cost could not be retrieved.\n     */\n    double cost();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595000562,"creation_date":1595000562,"answer_id":62957387,"question_id":62953019,"body_markdown":"It&#39;s not supported yet: https://github.com/jOOQ/jOOQ/issues/10424. Use [plain SQL templating][1], instead:\r\n\r\n```java\r\nctx.fetch(&quot;explain analyze {0}&quot;, select);\r\n```\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/sql-building/plain-sql-templating/","title":"Can I run an &quot;explain analyze&quot; on a query using JOOQ?","body":"<p>It's not supported yet: <a href=\"https://github.com/jOOQ/jOOQ/issues/10424\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOQ/issues/10424</a>. Use <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/plain-sql-templating/\" rel=\"nofollow noreferrer\">plain SQL templating</a>, instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ctx.fetch(&quot;explain analyze {0}&quot;, select);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2025979,"reputation":2522,"user_id":1810962,"accept_rate":80,"display_name":"joseph"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647450435,"creation_date":1647450435,"answer_id":71501406,"question_id":62953019,"body_markdown":"For mariadb I needed to do:\r\n\r\n```\r\nSelectConditionStep&lt;TableNameRecord&gt; select =\r\n    context.selectFrom(Tables.TABLE_NAME)\r\n    .where(filter);\r\nSystem.out.println(context.fetch(&quot;analyze &quot; + select.getSQL(ParamType.INLINED)));\r\n```\r\n\r\nwhich produced the output:\r\n```\r\n+----+-----------+----------+-----+-----------------+-----------------+-------+------+----+-------+--------+----------+------------------------+\r\n|  id|select_type|table     |type |possible_keys    |key              |key_len|ref   |rows|r_rows |filtered|r_filtered|Extra                   |\r\n+----+-----------+----------+-----+-----------------+-----------------+-------+------+----+-------+--------+----------+------------------------+\r\n|   1|SIMPLE     |table_name|range|table_column_name|table_column_name|20     |{null}|1000|1000.00|   100.0|     100.0|Using where; Using index|\r\n+----+-----------+----------+-----+-----------------+-----------------+-------+------+----+-------+--------+----------+------------------------+\r\n```\r\n\r\nIf you use `context.explain(select)` as proposed by another answer you lose a few columns:\r\n```\r\n+----+-----------+----------+-----+-----------------+-----------------+-------+------+----+------------------------+\r\n|  id|select_type|table     |type |possible_keys    |key              |key_len|ref   |rows|Extra                   |\r\n+----+-----------+----------+-----+-----------------+-----------------+-------+------+----+------------------------+\r\n|   1|SIMPLE     |table_name|range|table_column_name|table_column_name|20     |{null}|1000|Using where; Using index|\r\n+----+-----------+----------+-----+-----------------+-----------------+-------+------+----+------------------------+\r\n```","title":"Can I run an &quot;explain analyze&quot; on a query using JOOQ?","body":"<p>For mariadb I needed to do:</p>\n<pre><code>SelectConditionStep&lt;TableNameRecord&gt; select =\n    context.selectFrom(Tables.TABLE_NAME)\n    .where(filter);\nSystem.out.println(context.fetch(&quot;analyze &quot; + select.getSQL(ParamType.INLINED)));\n</code></pre>\n<p>which produced the output:</p>\n<pre><code>+----+-----------+----------+-----+-----------------+-----------------+-------+------+----+-------+--------+----------+------------------------+\n|  id|select_type|table     |type |possible_keys    |key              |key_len|ref   |rows|r_rows |filtered|r_filtered|Extra                   |\n+----+-----------+----------+-----+-----------------+-----------------+-------+------+----+-------+--------+----------+------------------------+\n|   1|SIMPLE     |table_name|range|table_column_name|table_column_name|20     |{null}|1000|1000.00|   100.0|     100.0|Using where; Using index|\n+----+-----------+----------+-----+-----------------+-----------------+-------+------+----+-------+--------+----------+------------------------+\n</code></pre>\n<p>If you use <code>context.explain(select)</code> as proposed by another answer you lose a few columns:</p>\n<pre><code>+----+-----------+----------+-----+-----------------+-----------------+-------+------+----+------------------------+\n|  id|select_type|table     |type |possible_keys    |key              |key_len|ref   |rows|Extra                   |\n+----+-----------+----------+-----+-----------------+-----------------+-------+------+----+------------------------+\n|   1|SIMPLE     |table_name|range|table_column_name|table_column_name|20     |{null}|1000|Using where; Using index|\n+----+-----------+----------+-----+-----------------+-----------------+-------+------+----+------------------------+\n</code></pre>\n"}],"owner":{"account_id":3931383,"reputation":1862,"user_id":4012392,"accept_rate":58,"display_name":"hc0re"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1091,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1647450435,"creation_date":1594985295,"question_id":62953019,"body_markdown":"Can I run `explain analyze` on a query in JOOQ? like:\r\n\r\n    explain analyse select some, columns from some_table\r\n\r\nbut do it using JOOQ on PostgreSQL database?\r\n\r\nI have found an interface `org.jooq.Explain`, with a method `DSLContext.explain​(Query query)` - but it seems just to use `EXPLAIN` on a query:\r\n\r\n```\r\n@Support({AURORA_MYSQL,AURORA_POSTGRES,H2,HSQLDB,MARIADB,MEMSQL,MYSQL,ORACLE,POSTGRES,SQLITE}) \r\nExplain explain​(Query query)\r\nRun an EXPLAIN statement in the database to estimate the cardinality of the query.\r\n```\r\nIs there any sensible way to run an `EXPLAIN ANALYZE` on the database from the code side?","title":"Can I run an &quot;explain analyze&quot; on a query using JOOQ?","body":"<p>Can I run <code>explain analyze</code> on a query in JOOQ? like:</p>\n<pre><code>explain analyse select some, columns from some_table\n</code></pre>\n<p>but do it using JOOQ on PostgreSQL database?</p>\n<p>I have found an interface <code>org.jooq.Explain</code>, with a method <code>DSLContext.explain​(Query query)</code> - but it seems just to use <code>EXPLAIN</code> on a query:</p>\n<pre><code>@Support({AURORA_MYSQL,AURORA_POSTGRES,H2,HSQLDB,MARIADB,MEMSQL,MYSQL,ORACLE,POSTGRES,SQLITE}) \nExplain explain​(Query query)\nRun an EXPLAIN statement in the database to estimate the cardinality of the query.\n</code></pre>\n<p>Is there any sensible way to run an <code>EXPLAIN ANALYZE</code> on the database from the code side?</p>\n"},{"tags":["java","spring-boot","apache-camel","multipartform-data","multipart"],"answers":[{"tags":[],"owner":{"account_id":21599501,"reputation":36,"user_id":15927901,"display_name":"Alexander"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1621240045,"creation_date":1621240045,"answer_id":67566273,"question_id":67537409,"body_markdown":"To handle multipart in camel, you can use `unmarshal().mimeMultipart()`. After this line, Camel Exchange contains an `AttachmentMessage`, the body of it is the first part of the multipart. The next parts can be obtained by calling `attachmentMessage.getAttachmentObjects()` in Camel processor. For more information on how `unmarshal().mimeMultipart()` works, see the source code of method `unmarshall()` in `org.apache.camel.dataformat.mime.multipart.MimeMultipartDataFormat`. \r\nFurther actions depend on your case. For example, if the first part of a multipart always contains a json object of your `SimplePojo` class, then you can use `unmarshal().json(SimplePojo.class)` immediately after `unmarshal().mimeMultipart()`. Then Camel body will contain your pojo. DataHandlers for the next parts can be obtained as follows:\r\n```\r\nDataHandler dataHandler = attachmentObjects.get(&quot;test.txt&quot;).getDataHandler(); \r\n// test.txt comes from the filename field of the Content-Disposition header in case you have multipart/form-data.\r\n```\r\nBelow is an example of processing a response from a REST service located at {{http.url}}, in a multipart format of the following form:\r\n```\r\n--Boundary_2411_1961957611_1491990591774\r\nContent-Disposition: form-data; name=&quot;part1&quot;\r\nContent-Type: application/json; charset=utf-8 \r\n\r\n{\r\n  &quot;id&quot;: 123,\r\n  &quot;name&quot;: &quot;simple pojo&quot;\r\n}\r\n--Boundary_2411_1961957611_1491990591774\r\nContent-Disposition: form-data; name=&quot;part2&quot;; filename=&quot;test.txt&quot;\r\nContent-Type: application/octet-stream\r\n\r\ntest\r\n--Boundary_2411_1961957611_1491990591774--\r\n```\r\nCamel RouteBuilder:\r\n```\r\nfrom(&quot;direct:start&quot;)\r\n\t.setHeader(Exchange.HTTP_METHOD, constant(HttpMethods.GET))\r\n\t.to(&quot;{{http.url}}&quot;)\r\n\t.unmarshal().mimeMultipart()\r\n\t.unmarshal().json(SimplePojo.class)\r\n\t.process(exchange -&gt; {\r\n\r\n\t\tAttachmentMessage attachmentMessage = exchange.getMessage(AttachmentMessage.class);\r\n\t\tSimplePojo simplePojo = attachmentMessage.getBody(SimplePojo.class);\r\n\r\n\t\tMap&lt;String, Attachment&gt; attachmentObjects = attachmentMessage.getAttachmentObjects();\r\n\t\tDataHandler dataHandler = attachmentObjects.get(&quot;test.txt&quot;).getDataHandler();\r\n\r\n\t})\r\n\r\n.to(&quot;mock:end&quot;);\r\n```\r\nSimplePojo:\r\n```\r\npublic class SimplePojo {\r\n    private Long id;\r\n    private String name;\r\n    //...\r\n    //getters, setters\r\n}\r\n```\r\nIn order for `unmarshal().mimeMultipart()` and `unmarshal().json(SimplePojo.class)` to work, you must have dependencies:\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;camel-mail&lt;/artifactId&gt;\r\n\t&lt;version&gt;${camel.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;camel-jackson&lt;/artifactId&gt;\r\n\t&lt;version&gt;${camel.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Convert multipart body to java object","body":"<p>To handle multipart in camel, you can use <code>unmarshal().mimeMultipart()</code>. After this line, Camel Exchange contains an <code>AttachmentMessage</code>, the body of it is the first part of the multipart. The next parts can be obtained by calling <code>attachmentMessage.getAttachmentObjects()</code> in Camel processor. For more information on how <code>unmarshal().mimeMultipart()</code> works, see the source code of method <code>unmarshall()</code> in <code>org.apache.camel.dataformat.mime.multipart.MimeMultipartDataFormat</code>.\nFurther actions depend on your case. For example, if the first part of a multipart always contains a json object of your <code>SimplePojo</code> class, then you can use <code>unmarshal().json(SimplePojo.class)</code> immediately after <code>unmarshal().mimeMultipart()</code>. Then Camel body will contain your pojo. DataHandlers for the next parts can be obtained as follows:</p>\n<pre><code>DataHandler dataHandler = attachmentObjects.get(&quot;test.txt&quot;).getDataHandler(); \n// test.txt comes from the filename field of the Content-Disposition header in case you have multipart/form-data.\n</code></pre>\n<p>Below is an example of processing a response from a REST service located at {{http.url}}, in a multipart format of the following form:</p>\n<pre><code>--Boundary_2411_1961957611_1491990591774\nContent-Disposition: form-data; name=&quot;part1&quot;\nContent-Type: application/json; charset=utf-8 \n\n{\n  &quot;id&quot;: 123,\n  &quot;name&quot;: &quot;simple pojo&quot;\n}\n--Boundary_2411_1961957611_1491990591774\nContent-Disposition: form-data; name=&quot;part2&quot;; filename=&quot;test.txt&quot;\nContent-Type: application/octet-stream\n\ntest\n--Boundary_2411_1961957611_1491990591774--\n</code></pre>\n<p>Camel RouteBuilder:</p>\n<pre><code>from(&quot;direct:start&quot;)\n    .setHeader(Exchange.HTTP_METHOD, constant(HttpMethods.GET))\n    .to(&quot;{{http.url}}&quot;)\n    .unmarshal().mimeMultipart()\n    .unmarshal().json(SimplePojo.class)\n    .process(exchange -&gt; {\n\n        AttachmentMessage attachmentMessage = exchange.getMessage(AttachmentMessage.class);\n        SimplePojo simplePojo = attachmentMessage.getBody(SimplePojo.class);\n\n        Map&lt;String, Attachment&gt; attachmentObjects = attachmentMessage.getAttachmentObjects();\n        DataHandler dataHandler = attachmentObjects.get(&quot;test.txt&quot;).getDataHandler();\n\n    })\n\n.to(&quot;mock:end&quot;);\n</code></pre>\n<p>SimplePojo:</p>\n<pre><code>public class SimplePojo {\n    private Long id;\n    private String name;\n    //...\n    //getters, setters\n}\n</code></pre>\n<p>In order for <code>unmarshal().mimeMultipart()</code> and <code>unmarshal().json(SimplePojo.class)</code> to work, you must have dependencies:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n    &lt;artifactId&gt;camel-mail&lt;/artifactId&gt;\n    &lt;version&gt;${camel.version}&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n    &lt;artifactId&gt;camel-jackson&lt;/artifactId&gt;\n    &lt;version&gt;${camel.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":12580385,"reputation":119,"user_id":9151304,"display_name":"Stewe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1754,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67566273,"answer_count":1,"score":0,"last_activity_date":1647450394,"creation_date":1621008360,"question_id":67537409,"body_markdown":"I&#39;m trying to use java + camel to read a multipart file and converting it to object to process it.\r\nMy multipart file is composed of 2 kind of datas: an application/json and an application/octet-stream\r\nIs there a way to convert it to some kind of object that i can work with? \r\nbasically I&#39;m sending a get REST request to an application that respondes with a multipart file. I can&#39;t figure it out how to convert the response body: the application/json to my POJO and the application/octet-stream to a DataHandler","title":"Convert multipart body to java object","body":"<p>I'm trying to use java + camel to read a multipart file and converting it to object to process it.\nMy multipart file is composed of 2 kind of datas: an application/json and an application/octet-stream\nIs there a way to convert it to some kind of object that i can work with?\nbasically I'm sending a get REST request to an application that respondes with a multipart file. I can't figure it out how to convert the response body: the application/json to my POJO and the application/octet-stream to a DataHandler</p>\n"},{"tags":["java","mongodb","enums","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":2751226,"reputation":413,"user_id":2370582,"display_name":"Vinh Truong"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647449950,"creation_date":1647449950,"answer_id":71501283,"question_id":71499093,"body_markdown":"I don&#39;t usually work with MongoDB, but maybe you can use [AttributeConverter][1]  \r\nFor example:\r\n```\r\n@Converter\r\npublic class NotificationTypeConverter implements AttributeConverter&lt;Notification, Integer&gt; {\r\n    @Override\r\n    public Integer convertToDatabaseColumn(NotificationType attribute) {\r\n        if (attribute == null) {\r\n            return null;\r\n        }\r\n        return attribute.getValue();\r\n    }\r\n\r\n    @Override\r\n    public NotificationType convertToEntityAttribute(Integer dbData) {\r\n       // convert from Integer to enum\r\n    }\r\n}\r\n```\r\n\r\nAnd add `@Convert` to `notificationType` field:\r\n\r\n```\r\n@Convert(converter = NotificationTypeConverter.class)\r\nprivate Set&lt;NotificationType&gt; notificationType;\r\n```\r\n\r\n\r\n  [1]: https://www.baeldung.com/jpa-attribute-converters","title":"Persisting Set&lt;Enum&gt; with Integer value on MongoDB","body":"<p>I don't usually work with MongoDB, but maybe you can use <a href=\"https://www.baeldung.com/jpa-attribute-converters\" rel=\"nofollow noreferrer\">AttributeConverter</a><br />\nFor example:</p>\n<pre><code>@Converter\npublic class NotificationTypeConverter implements AttributeConverter&lt;Notification, Integer&gt; {\n    @Override\n    public Integer convertToDatabaseColumn(NotificationType attribute) {\n        if (attribute == null) {\n            return null;\n        }\n        return attribute.getValue();\n    }\n\n    @Override\n    public NotificationType convertToEntityAttribute(Integer dbData) {\n       // convert from Integer to enum\n    }\n}\n</code></pre>\n<p>And add <code>@Convert</code> to <code>notificationType</code> field:</p>\n<pre><code>@Convert(converter = NotificationTypeConverter.class)\nprivate Set&lt;NotificationType&gt; notificationType;\n</code></pre>\n"}],"owner":{"account_id":1223103,"reputation":401,"user_id":1189333,"display_name":"serkanz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647449950,"creation_date":1647441782,"question_id":71499093,"body_markdown":"I have a `Notification` class which contains a `Set&lt;NotificationType&gt;` field notificationType. \r\n\r\nWhen I try to make an insert operation of an instance of `Notification` to `INotificationRepository` that extends `MongoRepository&lt;Notification, String&gt;` notificationType field in Mongo is populated with the constant of enum `NotificationType` (like `[&quot;FEED&quot;,&quot;NOTIFICATION&quot;]`). I expect it to be persisted as `[0,3]`. \r\n\r\nHow could I persist the value field of the enum to MongoDB?\r\n\r\n```\r\n@Document\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Notification {\r\n    @Id\r\n    private String id;\r\n\r\n    @Indexed\r\n    private Set&lt;NotificationType&gt; notificationType;\r\n}\r\n\r\n@AllArgsConstructor\r\n@Getter\r\npublic enum NotificationType {\r\n    FEED(0,&quot;Feed&quot;),\r\n    SMS(1, &quot;Sms&quot;),\r\n    EMAIL(2, &quot;Email&quot;),\r\n    NOTIFICATION(3, &quot;Notification&quot;);\r\n\r\n    private final Integer value;\r\n    private final String text;\r\n}\r\n\r\n\r\n```","title":"Persisting Set&lt;Enum&gt; with Integer value on MongoDB","body":"<p>I have a <code>Notification</code> class which contains a <code>Set&lt;NotificationType&gt;</code> field notificationType.</p>\n<p>When I try to make an insert operation of an instance of <code>Notification</code> to <code>INotificationRepository</code> that extends <code>MongoRepository&lt;Notification, String&gt;</code> notificationType field in Mongo is populated with the constant of enum <code>NotificationType</code> (like <code>[&quot;FEED&quot;,&quot;NOTIFICATION&quot;]</code>). I expect it to be persisted as <code>[0,3]</code>.</p>\n<p>How could I persist the value field of the enum to MongoDB?</p>\n<pre><code>@Document\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Notification {\n    @Id\n    private String id;\n\n    @Indexed\n    private Set&lt;NotificationType&gt; notificationType;\n}\n\n@AllArgsConstructor\n@Getter\npublic enum NotificationType {\n    FEED(0,&quot;Feed&quot;),\n    SMS(1, &quot;Sms&quot;),\n    EMAIL(2, &quot;Email&quot;),\n    NOTIFICATION(3, &quot;Notification&quot;);\n\n    private final Integer value;\n    private final String text;\n}\n\n\n</code></pre>\n"},{"tags":["java","oop","inheritance","static-methods"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1642392296,"post_id":70736392,"comment_id":125050209,"body_markdown":"I&#39;m not sure what your question is. What are you unhappy about with your current implementation?","body":"I&#39;m not sure what your question is. What are you unhappy about with your current implementation?"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1642392353,"post_id":70736392,"comment_id":125050219,"body_markdown":"There is none.  Getters are the only viable solution, and they&#39;re what everyone uses.","body":"There is none.  Getters are the only viable solution, and they&#39;re what everyone uses."},{"owner":{"account_id":18387172,"reputation":136,"user_id":13517337,"display_name":"Krischna Gabriel"},"score":0,"creation_date":1642393588,"post_id":70736392,"comment_id":125050361,"body_markdown":"@tgdavies this code is pseudo-code and doesn&#39;t work. It&#39;s to show what I require.","body":"@tgdavies this code is pseudo-code and doesn&#39;t work. It&#39;s to show what I require."},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1642393666,"post_id":70736392,"comment_id":125050368,"body_markdown":"Yes, just make all variables public.  Having getters and setters are not part of the language but a design decision.  If you don&#39;t need them, you don&#39;t have to use them.  I usually don&#39;t have setters and getters in inner classes.","body":"Yes, just make all variables public.  Having getters and setters are not part of the language but a design decision.  If you don&#39;t need them, you don&#39;t have to use them.  I usually don&#39;t have setters and getters in inner classes."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642393915,"creation_date":1642393915,"answer_id":70736552,"question_id":70736392,"body_markdown":"There is no such notion as &#39;abstract variable&#39;. \r\nIt is either a variable or a constant. Constants in java are declared using **final** modifier. And if it is a **static** constant (static means belonging to a class and static elements cant be inherited) it must be initialized within declaration or inside the static initializer block.\r\n\r\nIn interfaces, you can declare only **public static final** fields (by the way all these modifiers can be omitted), and as soon as static blocks are not allowed in interfaces you have to provide values within declarations.\r\n\r\nLike that, or else it&#39;ll not compile:\r\n```\r\ninterface Color {\r\n    public static final int hex = 0x000080;\r\n    public int mix = 127;\r\n}\r\n```","title":"How to use data classes in java, without getter Methods?","body":"<p>There is no such notion as 'abstract variable'.\nIt is either a variable or a constant. Constants in java are declared using <strong>final</strong> modifier. And if it is a <strong>static</strong> constant (static means belonging to a class and static elements cant be inherited) it must be initialized within declaration or inside the static initializer block.</p>\n<p>In interfaces, you can declare only <strong>public static final</strong> fields (by the way all these modifiers can be omitted), and as soon as static blocks are not allowed in interfaces you have to provide values within declarations.</p>\n<p>Like that, or else it'll not compile:</p>\n<pre><code>interface Color {\n    public static final int hex = 0x000080;\n    public int mix = 127;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11415719,"reputation":7030,"user_id":10584605,"display_name":"ETO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645544749,"creation_date":1645544749,"answer_id":71224219,"question_id":70736392,"body_markdown":"Abstract classes seem to provide the functionality you want. Almost. \r\nThere is no such thing as &quot;abstract variable&quot;. Although you can still achieve this by initialising the constants via constructor.\r\n\r\n```java\r\nabstract class Color {\r\n    public final int hex;\r\n    public int mix;\r\n    Color(int hex) {\r\n        this.hex = hex;\r\n    }\r\n}\r\n\r\nclass Navy extends Color {\r\n    public Navy(int otherColor) {\r\n        super(0x000080); // constant hex value\r\n        this.mix = otherColor - 128 + hex;\r\n    }\r\n}\r\n```\r\n\r\nIn the code above the `hex` field is not static, but it is constant. So these code snippets will work just fine:\r\n```java\r\n// this works\r\nNavy color1 = new Navy(9);\r\nSystem.out.println(color1.hex); // 128\r\n\r\n// this works\r\nColor color2 = new Navy(9);\r\nSystem.out.println(color2.hex);\r\n\r\n// this works as well\r\nColor color3 = new Navy(9);\r\nSystem.out.println(color3.mix);\r\n```","title":"How to use data classes in java, without getter Methods?","body":"<p>Abstract classes seem to provide the functionality you want. Almost.\nThere is no such thing as &quot;abstract variable&quot;. Although you can still achieve this by initialising the constants via constructor.</p>\n<pre class=\"lang-java prettyprint-override\"><code>abstract class Color {\n    public final int hex;\n    public int mix;\n    Color(int hex) {\n        this.hex = hex;\n    }\n}\n\nclass Navy extends Color {\n    public Navy(int otherColor) {\n        super(0x000080); // constant hex value\n        this.mix = otherColor - 128 + hex;\n    }\n}\n</code></pre>\n<p>In the code above the <code>hex</code> field is not static, but it is constant. So these code snippets will work just fine:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// this works\nNavy color1 = new Navy(9);\nSystem.out.println(color1.hex); // 128\n\n// this works\nColor color2 = new Navy(9);\nSystem.out.println(color2.hex);\n\n// this works as well\nColor color3 = new Navy(9);\nSystem.out.println(color3.mix);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647449928,"creation_date":1647446989,"answer_id":71500502,"question_id":70736392,"body_markdown":"This is a place where using enums makes sense. Enum values are subclasses, no getters are needed, and there could not be less boilerplate, so this seems like what you asked for.\r\n\r\n\r\n\r\n    enum Color {\r\n        NAVY(0x000080, -128),\r\n        MAROON(0x800000, 56),\r\n        DARK_MAGENTA(0x8B008B, 180);\r\n\r\n        final int hex;\r\n        final int mixOffset;\r\n \r\n        Color(int hex, int mixOffset) {\r\n            this.hex = hex;\r\n            this.mixOffset = mixOffset;\r\n        }\r\n\r\n        int mix(Color other) {\r\n            return other.hex + mixOffset + hex;\r\n        }\r\n    }\r\n\r\nThe Planets example from the Java tutorial shows something very similar: https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\r\n","title":"How to use data classes in java, without getter Methods?","body":"<p>This is a place where using enums makes sense. Enum values are subclasses, no getters are needed, and there could not be less boilerplate, so this seems like what you asked for.</p>\n<pre><code>enum Color {\n    NAVY(0x000080, -128),\n    MAROON(0x800000, 56),\n    DARK_MAGENTA(0x8B008B, 180);\n\n    final int hex;\n    final int mixOffset;\n\n    Color(int hex, int mixOffset) {\n        this.hex = hex;\n        this.mixOffset = mixOffset;\n    }\n\n    int mix(Color other) {\n        return other.hex + mixOffset + hex;\n    }\n}\n</code></pre>\n<p>The Planets example from the Java tutorial shows something very similar: <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html</a></p>\n"},{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647448282,"creation_date":1647448282,"answer_id":71500851,"question_id":70736392,"body_markdown":"If you are interested to &quot;save writing code&quot; you could have a look into https://projectlombok.org/\r\n\r\nIt is discussed controversial and from my experience you can expect to spend the time that you save on writing code later when you come back to formerly written code when you want to understand what&#39;s actually going on due to the &quot;magic behind the curtains&quot;. \r\n\r\nBut project lombok has been here for quite a while, so clearly there are many developers finding it really useful.\r\n\r\nShort explanation of what it (also) does: it generates getters and setters for you without actually putting them into source code. Driven by annotations.","title":"How to use data classes in java, without getter Methods?","body":"<p>If you are interested to &quot;save writing code&quot; you could have a look into <a href=\"https://projectlombok.org/\" rel=\"nofollow noreferrer\">https://projectlombok.org/</a></p>\n<p>It is discussed controversial and from my experience you can expect to spend the time that you save on writing code later when you come back to formerly written code when you want to understand what's actually going on due to the &quot;magic behind the curtains&quot;.</p>\n<p>But project lombok has been here for quite a while, so clearly there are many developers finding it really useful.</p>\n<p>Short explanation of what it (also) does: it generates getters and setters for you without actually putting them into source code. Driven by annotations.</p>\n"}],"owner":{"account_id":18387172,"reputation":136,"user_id":13517337,"display_name":"Krischna Gabriel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":623,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1647449928,"creation_date":1642392061,"question_id":70736392,"body_markdown":"A program needs an object with both static and non-static data.\r\nAll data-classes should implement/extend the same class/interface so to be able to do:\r\n\r\n    Color color1 = new Navy();\r\n\r\nTo simplify it, lets take color storing classes an a Example.\r\nThese color classes store a color and can calculate a custom mixture from their own and a passed color.\r\n\r\n    interface Color {\r\n    \tpublic static final int hex;\r\n    \tpublic int mix;\r\n    }\r\n    class Navy implements Color {\r\n    \tpublic static final int hex = 0x000080;\r\n    \tpublic int mix;\r\n    \tpublic Navy(int otherColor) {\r\n    \t\tmix = otherColor -128 +hex;\r\n    \t} \r\n    }\r\n    class Maroon implements Color {\r\n    \tpublic static final int hex = 0x800000;\r\n    \tpublic int mix;\r\n    \tpublic Maroon(int otherColor) {\r\n    \t\tmix = otherColor -56 +hex;\r\n    \t} \r\n    }\r\n    \r\n    class DarkMagenta implements Color {\r\n    \tpublic static final int hex = 0x8B008B;\r\n    \tpublic int mix;\r\n    \tpublic DarkMagenta(int otherColor) {\r\n    \t\tmix = otherColor +180 +hex;\r\n    \t} \r\n    }\r\nI know that all variables in an interface are static final and when using abstract classes, it is possible to declare an abstract method that has to be implemented but not an abstract variable.\r\n\r\nWhat is a commonly good solution that doesn&#39;t require getters for everything and saves writing code?\r\n\r\n\r\n**EDIT:**\r\n\r\nBoth the interface way:\r\n\r\n\tinterface Color {\r\n\t    public static final int hex=0;\r\n\t    public int mix=0;\r\n\t}\r\n\tclass Navy implements Color {\r\n\t    public static final int hex = 0x000080;\r\n\t    public int mix;\r\n\t    public Navy(int otherColor) {\r\n\t        mix = otherColor -128 +hex;\r\n\t    } \r\n\t}\r\n\tclass Maroon implements Color {\r\n\t    public static final int hex = 0x800000;\r\n\t    public int mix;\r\n\t    public Maroon(int otherColor) {\r\n\t        mix = otherColor -56 +hex;\r\n\t    } \r\n\t}\r\n\r\n\tclass DarkMagenta implements Color {\r\n\t    public static final int hex = 0x8B008B;\r\n\t    public int mix;\r\n\t    public DarkMagenta(int otherColor) {\r\n\t        mix = otherColor +180 +hex;\r\n\t    } \r\n\t}\r\nand the abstact class way:\r\n\r\n    abstract class Color {\r\n        public static final int hex=0;\r\n        public int mix;\r\n    }\r\n    class Navy extends Color {\r\n        public static final int hex = 0x000080;\r\n        public int mix;\r\n        public Navy(int otherColor) {\r\n            mix = otherColor -128 +hex;\r\n        } \r\n    }\r\n    class Maroon extends Color {\r\n        public static final int hex = 0x800000;\r\n        public int mix;\r\n        public Maroon(int otherColor) {\r\n            mix = otherColor -56 +hex;\r\n        } \r\n    }\r\n    \r\n    class DarkMagenta extends Color {\r\n        public static final int hex = 0x8B008B;\r\n        public int mix;\r\n        public DarkMagenta(int otherColor) {\r\n            mix = otherColor +180 +hex;\r\n        } \r\n    }\r\n\r\ndo not do what i want:\r\n\r\n\t\t//this works but\r\n\t\tNavy color1 = new Navy(9);\r\n\t\tSystem.out.println(color1.hex);// 128\r\n\t\t\r\n\r\n\t\t// not this\r\n\t\tColor color2 = new Navy(9);\r\n\t\tSystem.out.println(color2.hex);// 0\r\nAll colors should be a child member of Color.","title":"How to use data classes in java, without getter Methods?","body":"<p>A program needs an object with both static and non-static data.\nAll data-classes should implement/extend the same class/interface so to be able to do:</p>\n<pre><code>Color color1 = new Navy();\n</code></pre>\n<p>To simplify it, lets take color storing classes an a Example.\nThese color classes store a color and can calculate a custom mixture from their own and a passed color.</p>\n<pre><code>interface Color {\n    public static final int hex;\n    public int mix;\n}\nclass Navy implements Color {\n    public static final int hex = 0x000080;\n    public int mix;\n    public Navy(int otherColor) {\n        mix = otherColor -128 +hex;\n    } \n}\nclass Maroon implements Color {\n    public static final int hex = 0x800000;\n    public int mix;\n    public Maroon(int otherColor) {\n        mix = otherColor -56 +hex;\n    } \n}\n\nclass DarkMagenta implements Color {\n    public static final int hex = 0x8B008B;\n    public int mix;\n    public DarkMagenta(int otherColor) {\n        mix = otherColor +180 +hex;\n    } \n}\n</code></pre>\n<p>I know that all variables in an interface are static final and when using abstract classes, it is possible to declare an abstract method that has to be implemented but not an abstract variable.</p>\n<p>What is a commonly good solution that doesn't require getters for everything and saves writing code?</p>\n<p><strong>EDIT:</strong></p>\n<p>Both the interface way:</p>\n<pre><code>interface Color {\n    public static final int hex=0;\n    public int mix=0;\n}\nclass Navy implements Color {\n    public static final int hex = 0x000080;\n    public int mix;\n    public Navy(int otherColor) {\n        mix = otherColor -128 +hex;\n    } \n}\nclass Maroon implements Color {\n    public static final int hex = 0x800000;\n    public int mix;\n    public Maroon(int otherColor) {\n        mix = otherColor -56 +hex;\n    } \n}\n\nclass DarkMagenta implements Color {\n    public static final int hex = 0x8B008B;\n    public int mix;\n    public DarkMagenta(int otherColor) {\n        mix = otherColor +180 +hex;\n    } \n}\n</code></pre>\n<p>and the abstact class way:</p>\n<pre><code>abstract class Color {\n    public static final int hex=0;\n    public int mix;\n}\nclass Navy extends Color {\n    public static final int hex = 0x000080;\n    public int mix;\n    public Navy(int otherColor) {\n        mix = otherColor -128 +hex;\n    } \n}\nclass Maroon extends Color {\n    public static final int hex = 0x800000;\n    public int mix;\n    public Maroon(int otherColor) {\n        mix = otherColor -56 +hex;\n    } \n}\n\nclass DarkMagenta extends Color {\n    public static final int hex = 0x8B008B;\n    public int mix;\n    public DarkMagenta(int otherColor) {\n        mix = otherColor +180 +hex;\n    } \n}\n</code></pre>\n<p>do not do what i want:</p>\n<pre><code>    //this works but\n    Navy color1 = new Navy(9);\n    System.out.println(color1.hex);// 128\n    \n\n    // not this\n    Color color2 = new Navy(9);\n    System.out.println(color2.hex);// 0\n</code></pre>\n<p>All colors should be a child member of Color.</p>\n"},{"tags":["java","arrays","oop","inheritance"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1647450134,"post_id":71501263,"comment_id":126376342,"body_markdown":"I would go with something similar to `CellCreator` too. What exactly is the problem with that?","body":"I would go with something similar to <code>CellCreator</code> too. What exactly is the problem with that?"},{"owner":{"account_id":17410328,"reputation":219,"user_id":13081489,"display_name":"EReload"},"score":0,"creation_date":1647450289,"post_id":71501263,"comment_id":126376398,"body_markdown":"@Sweeper nothing much. Just while calling constructor, you have to pass a lambda everytime. It seemed like there should be an easier way perhaps?","body":"@Sweeper nothing much. Just while calling constructor, you have to pass a lambda everytime. It seemed like there should be an easier way perhaps?"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1647450432,"post_id":71501263,"comment_id":126376447,"body_markdown":"If you just want the default constructor, you can pass `MyCell::new` rather than a lambda like `() -&gt; new MyCell()`.","body":"If you just want the default constructor, you can pass <code>MyCell::new</code> rather than a lambda like <code>() -&gt; new MyCell()</code>."},{"owner":{"account_id":17410328,"reputation":219,"user_id":13081489,"display_name":"EReload"},"score":0,"creation_date":1647450517,"post_id":71501263,"comment_id":126376479,"body_markdown":"Yeah, IntelliJ recommended me the same. So I presume that would be the best solution to this problem? I was just getting bugged by whether I have missed another simpler solution...","body":"Yeah, IntelliJ recommended me the same. So I presume that would be the best solution to this problem? I was just getting bugged by whether I have missed another simpler solution..."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1647450706,"post_id":71501263,"comment_id":126376554,"body_markdown":"DO NOT use reflection for this! Do what Sweeper suggested.","body":"DO NOT use reflection for this! Do what Sweeper suggested."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1647450813,"post_id":71501263,"comment_id":126376591,"body_markdown":"Have you considered using Spring Bean Factory? Here is a [simple tutorial](https://www.baeldung.com/spring-beanfactory)","body":"Have you considered using Spring Bean Factory? Here is a <a href=\"https://www.baeldung.com/spring-beanfactory\" rel=\"nofollow noreferrer\">simple tutorial</a>"},{"owner":{"account_id":17410328,"reputation":219,"user_id":13081489,"display_name":"EReload"},"score":0,"creation_date":1647451554,"post_id":71501263,"comment_id":126376891,"body_markdown":"Interesting, I never thought you could use DI container for things like this. I would have to research more on how to implement it.","body":"Interesting, I never thought you could use DI container for things like this. I would have to research more on how to implement it."},{"owner":{"account_id":1051445,"reputation":5513,"user_id":1055284,"accept_rate":100,"display_name":"Ben Barkay"},"score":1,"creation_date":1647453402,"post_id":71501263,"comment_id":126377603,"body_markdown":"If this isn&#39;t homework that&#39;s setting these rules for you (which are bad design), then you could use `Grid&lt;T&gt;` and `Cell&lt;T&gt;` instead, where T is the user-defined value for the cell (i.e., have `cell.getValue()` and `cell.setValue(T)`). This decouples your implementation from user implementation and allows you to straightforwardly instantiate your `Cell` instances. See [composition over inheritance](https://en.wikipedia.org/wiki/Composition_over_inheritance)","body":"If this isn&#39;t homework that&#39;s setting these rules for you (which are bad design), then you could use <code>Grid&lt;T&gt;</code> and <code>Cell&lt;T&gt;</code> instead, where T is the user-defined value for the cell (i.e., have <code>cell.getValue()</code> and <code>cell.setValue(T)</code>). This decouples your implementation from user implementation and allows you to straightforwardly instantiate your <code>Cell</code> instances. See <a href=\"https://en.wikipedia.org/wiki/Composition_over_inheritance\" rel=\"nofollow noreferrer\">composition over inheritance</a>"}],"owner":{"account_id":17410328,"reputation":219,"user_id":13081489,"display_name":"EReload"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647449853,"creation_date":1647449853,"question_id":71501263,"body_markdown":"I have a class called &#39;Grid&#39;, which is supposed to be a 2D array of another class &#39;Cell&#39;. \r\nHowever, the &#39;Cell&#39; class is abstract and is supposed to be extended by the user of this library. How would I initialize this 2D array of &#39;Cells&#39; inside the Grid class? \r\n\r\nIt is ensured that all the implementation of &#39;Cell&#39; will only have a default constructor. I would like a way for the grid class to be initialized in an easy manner. For example, if &#39;MyCell&#39; is a class that extends &#39;Cell&#39;, then I would like to have something like this: -\r\n\r\n```Grid grid = new Grid(10, 10, MyCell.class); //or something else```\r\n\r\nthen the 2D array in the &#39;grid&#39; instance should all be initialized with &#39;MyCell&#39; default constructor. How do I go about doing this?\r\n\r\nCurrently, this is the following structure: -\r\n\r\n```java\r\npublic class Grid {\r\n    int rows;\r\n    int cols;\r\n    Cell[][] cells;\r\n\r\n    public Grid(int rows, int cols) {\r\n        this.rows = rows;\r\n        this.cols = cols;\r\n        this.cells = new Cell[rows][cols];\r\n        // How to initialize &#39;cells&#39; array?\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npublic abstract class Cell {\r\n    private Color color;\r\n\r\n    protected Cell(Color color) {\r\n        this.color = color;\r\n    }\r\n\r\n    public Color getColor() {\r\n        return color;\r\n    }\r\n}\r\n```\r\n\r\nWhat I have thought/tried: -\r\n\r\n- Application of Factory pattern would have been well suited here, but the only problem is that the subclasses of &#39;Cell&#39; don&#39;t exist yet...\r\n- I have tried solving this by accepting a &#39;Cell creator&#39; lambda in the constructor: -\r\n\r\n```java\r\npublic interface CellCreator {\r\n    public Cell create();\r\n}\r\n```\r\nthen inside the constructor, \r\n```java\r\npublic Grid(int rows, int cols, CellCreator cellCreator) {\r\n    this.rows = rows;\r\n    this.cols = cols;\r\n    this.cells = new Cell[rows][cols];\r\n    for (int i = 0; i &lt; rows; i++) {\r\n        for (int j = 0; j &lt; cols; j++) {\r\n            cells[i][j] = cellCreator.create();\r\n        }\r\n    }\r\n}\r\n```\r\nIt seems to be the best solution right now. \r\n\r\n\r\n\r\n- Making Grid a generic class is not something that I would like, because I want Grid to be a 2D array of &#39;Cell&#39; only and not any other class. Also, template arrays cannot be instantiated somehow.\r\n\r\n- Taking classname as parameter and instantiating using that doesn&#39;t work either because you cannot pass subclasses as arguments.\r\n\r\n- Reflection does not seem like a good solution (messy code, a lot of error handling): -\r\n```java\r\npublic Grid(int rows, int cols, String clazz) throws ClassNotFoundException, NoSuchMethodException, InvocationTargetException, InstantiationException, IllegalAccessException {\r\n    this.rows = rows;\r\n    this.cols = cols;\r\n    this.cells = new Cell[rows][cols];\r\n    for (int i = 0; i &lt; rows; i++) {\r\n        for (int j = 0; j &lt; cols; j++) {\r\n            cells[i][j] = Class.forName(clazz).asSubclass(Cell.class).getDeclaredConstructor().newInstance();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n","title":"How to initialize array of objects which have implemented a specific class","body":"<p>I have a class called 'Grid', which is supposed to be a 2D array of another class 'Cell'.\nHowever, the 'Cell' class is abstract and is supposed to be extended by the user of this library. How would I initialize this 2D array of 'Cells' inside the Grid class?</p>\n<p>It is ensured that all the implementation of 'Cell' will only have a default constructor. I would like a way for the grid class to be initialized in an easy manner. For example, if 'MyCell' is a class that extends 'Cell', then I would like to have something like this: -</p>\n<p><code>Grid grid = new Grid(10, 10, MyCell.class); //or something else</code></p>\n<p>then the 2D array in the 'grid' instance should all be initialized with 'MyCell' default constructor. How do I go about doing this?</p>\n<p>Currently, this is the following structure: -</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Grid {\n    int rows;\n    int cols;\n    Cell[][] cells;\n\n    public Grid(int rows, int cols) {\n        this.rows = rows;\n        this.cols = cols;\n        this.cells = new Cell[rows][cols];\n        // How to initialize 'cells' array?\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class Cell {\n    private Color color;\n\n    protected Cell(Color color) {\n        this.color = color;\n    }\n\n    public Color getColor() {\n        return color;\n    }\n}\n</code></pre>\n<p>What I have thought/tried: -</p>\n<ul>\n<li>Application of Factory pattern would have been well suited here, but the only problem is that the subclasses of 'Cell' don't exist yet...</li>\n<li>I have tried solving this by accepting a 'Cell creator' lambda in the constructor: -</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public interface CellCreator {\n    public Cell create();\n}\n</code></pre>\n<p>then inside the constructor,</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Grid(int rows, int cols, CellCreator cellCreator) {\n    this.rows = rows;\n    this.cols = cols;\n    this.cells = new Cell[rows][cols];\n    for (int i = 0; i &lt; rows; i++) {\n        for (int j = 0; j &lt; cols; j++) {\n            cells[i][j] = cellCreator.create();\n        }\n    }\n}\n</code></pre>\n<p>It seems to be the best solution right now.</p>\n<ul>\n<li><p>Making Grid a generic class is not something that I would like, because I want Grid to be a 2D array of 'Cell' only and not any other class. Also, template arrays cannot be instantiated somehow.</p>\n</li>\n<li><p>Taking classname as parameter and instantiating using that doesn't work either because you cannot pass subclasses as arguments.</p>\n</li>\n<li><p>Reflection does not seem like a good solution (messy code, a lot of error handling): -</p>\n</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public Grid(int rows, int cols, String clazz) throws ClassNotFoundException, NoSuchMethodException, InvocationTargetException, InstantiationException, IllegalAccessException {\n    this.rows = rows;\n    this.cols = cols;\n    this.cells = new Cell[rows][cols];\n    for (int i = 0; i &lt; rows; i++) {\n        for (int j = 0; j &lt; cols; j++) {\n            cells[i][j] = Class.forName(clazz).asSubclass(Cell.class).getDeclaredConstructor().newInstance();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium","awt","katalon-studio"],"comments":[{"owner":{"account_id":10999814,"reputation":597,"user_id":8498513,"display_name":"donquih0te"},"score":0,"creation_date":1600151187,"post_id":63896008,"comment_id":112989190,"body_markdown":"Could you try increase the number in the expression  `robot.mouseWheel(number)`?","body":"Could you try increase the number in the expression  <code>robot.mouseWheel(number)</code>?"},{"owner":{"account_id":17684410,"reputation":41,"user_id":12837585,"display_name":"YS04"},"score":0,"creation_date":1600153120,"post_id":63896008,"comment_id":112989950,"body_markdown":"@donquih0te I tried increasing but still it takes long time. Please let me know if there is any other scrolling events which can be used.","body":"@donquih0te I tried increasing but still it takes long time. Please let me know if there is any other scrolling events which can be used."},{"owner":{"account_id":17684410,"reputation":41,"user_id":12837585,"display_name":"YS04"},"score":0,"creation_date":1600155907,"post_id":63896008,"comment_id":112991050,"body_markdown":"I tried javascript executor with this code - WebUI.executeJavaScript(&quot;window.scrollTo(0, document.body.scrollHeight)&quot;, null)    But it also takes long time to scroll... I just need some method to scroll bit faster and load dom elements so that my code can fetch the text and verify.","body":"I tried javascript executor with this code - WebUI.executeJavaScript(&quot;window.scrollTo(0, document.body.scrollHeight)&quot;, null)    But it also takes long time to scroll... I just need some method to scroll bit faster and load dom elements so that my code can fetch the text and verify."}],"owner":{"account_id":17684410,"reputation":41,"user_id":12837585,"display_name":"YS04"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":614,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647449829,"creation_date":1600149786,"question_id":63896008,"body_markdown":"I am using Katalon studio to run automation test cases for our application.\r\nIn one of the scenario I have to get text from certain rows in an ag-grid table.\r\nThe data appears in the dom only after scrolling.\r\n**Here is my code -** \r\n\r\n    private static void verifyMetricFilter(String new_xpath, double limit) {\r\n\t\tTestObject dynamicObject = new TestObject(&#39;dynamicObject&#39;).addProperty(&#39;xpath&#39;, com.kms.katalon.core.testobject.ConditionType.EQUALS,\r\n\t\t\t\tnew_xpath, true)\r\n\r\n\t\tRobot robot = new Robot()\r\n\r\n\t\tWebUI.mouseOver(dynamicObject)\r\n\r\n\t\trobot.mouseWheel(50)\r\n\r\n\t\tString metric_displayed = WebUI.getText(dynamicObject).replaceAll(&#39;%&#39;, &#39;&#39;).replaceAll(&#39;\\\\$&#39;, &#39;&#39;)\r\n\r\n\t\tKeywordUtil.logInfo(&#39; Metric Displayed : &#39; + metric_displayed)\r\n\r\n\t\tdouble double_metric = Double.parseDouble(metric_displayed.replaceAll(&#39;,&#39;, &#39;&#39;))\r\n\r\n\t\tif (double_metric &gt; limit) {\r\n\t\t\tassert true\r\n\t\t} else {\r\n\t\t\tassert false\r\n\t\t}\r\n\t}\r\n\r\n**And here is the ag-grid table-** \r\n[![Ag-grid table][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0OY9z.png\r\n\r\nThe verification takes too long as does step by step scrolling.\r\nPlease suggest me some ways to increase the scrolling speed so that verification is faster.\r\n\r\nEdited to add - \r\nI tried javascript executor with this code - WebUI.executeJavaScript(&quot;window.scrollTo(0, document.body.scrollHeight)&quot;, null)\r\n \r\nBut it also takes long time to scroll... I just need some method to scroll bit faster and load dom elements so that my code can fetch the text and verify.\r\n","title":"How to scroll faster in ag-grid table using selenium/katalon?","body":"<p>I am using Katalon studio to run automation test cases for our application.\nIn one of the scenario I have to get text from certain rows in an ag-grid table.\nThe data appears in the dom only after scrolling.\n<strong>Here is my code -</strong></p>\n<pre><code>private static void verifyMetricFilter(String new_xpath, double limit) {\n    TestObject dynamicObject = new TestObject('dynamicObject').addProperty('xpath', com.kms.katalon.core.testobject.ConditionType.EQUALS,\n            new_xpath, true)\n\n    Robot robot = new Robot()\n\n    WebUI.mouseOver(dynamicObject)\n\n    robot.mouseWheel(50)\n\n    String metric_displayed = WebUI.getText(dynamicObject).replaceAll('%', '').replaceAll('\\\\$', '')\n\n    KeywordUtil.logInfo(' Metric Displayed : ' + metric_displayed)\n\n    double double_metric = Double.parseDouble(metric_displayed.replaceAll(',', ''))\n\n    if (double_metric &gt; limit) {\n        assert true\n    } else {\n        assert false\n    }\n}\n</code></pre>\n<p><strong>And here is the ag-grid table-</strong>\n<a href=\"https://i.stack.imgur.com/0OY9z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0OY9z.png\" alt=\"Ag-grid table\" /></a></p>\n<p>The verification takes too long as does step by step scrolling.\nPlease suggest me some ways to increase the scrolling speed so that verification is faster.</p>\n<p>Edited to add -\nI tried javascript executor with this code - WebUI.executeJavaScript(&quot;window.scrollTo(0, document.body.scrollHeight)&quot;, null)</p>\n<p>But it also takes long time to scroll... I just need some method to scroll bit faster and load dom elements so that my code can fetch the text and verify.</p>\n"},{"tags":["java","algorithm","filter","hashmap"],"comments":[{"owner":{"account_id":7712408,"reputation":2531,"user_id":5841297,"accept_rate":50,"display_name":"Phenomenal One"},"score":0,"creation_date":1647400290,"post_id":71489594,"comment_id":126359570,"body_markdown":"Can you share what is the expected output for the above input map that you have shared","body":"Can you share what is the expected output for the above input map that you have shared"},{"owner":{"account_id":12931984,"reputation":7896,"user_id":9350720,"display_name":"Abhinav Mathur"},"score":1,"creation_date":1647405528,"post_id":71489594,"comment_id":126360210,"body_markdown":"What metric are you using to determine similarity?","body":"What metric are you using to determine similarity?"},{"owner":{"account_id":23415543,"reputation":109,"user_id":17476544,"display_name":"Levi Hibbitts"},"score":0,"creation_date":1647406202,"post_id":71489594,"comment_id":126360301,"body_markdown":"@PhenomenalOne I added the expected output to OP.","body":"@PhenomenalOne I added the expected output to OP."},{"owner":{"account_id":23415543,"reputation":109,"user_id":17476544,"display_name":"Levi Hibbitts"},"score":0,"creation_date":1647406410,"post_id":71489594,"comment_id":126360333,"body_markdown":"@AbhinavMathur Similarity is determined when two Strings start with the same sequence of chars when comparing prefix and when two Strings end with the same chars when generating suffix. For example, for prefix, the word `visit` would be similar to `v, vi, vis, visi` as it starts with these chars.. it would NOT be similar to `sit` even though it contains &quot;sit&quot; at the end (as we are analyzing prefix, different story when analyzing suffix). Hope this helps clarify things.. Thanks!","body":"@AbhinavMathur Similarity is determined when two Strings start with the same sequence of chars when comparing prefix and when two Strings end with the same chars when generating suffix. For example, for prefix, the word <code>visit</code> would be similar to <code>v, vi, vis, visi</code> as it starts with these chars.. it would NOT be similar to <code>sit</code> even though it contains &quot;sit&quot; at the end (as we are analyzing prefix, different story when analyzing suffix). Hope this helps clarify things.. Thanks!"},{"owner":{"account_id":23415543,"reputation":109,"user_id":17476544,"display_name":"Levi Hibbitts"},"score":0,"creation_date":1647407112,"post_id":71489594,"comment_id":126360433,"body_markdown":"@AbhinavMathur No (why do you think so? It must be sequential.. if this is what you mean to ask)  BTW, I [just started a bounty](https://stackoverflow.com/questions/71463016/find-occurrence-count-of-longest-common-prefix-suffix-in-list-of-strings) on my other question which you replied to (happy to award it to you if your interested in the challenge)","body":"@AbhinavMathur No (why do you think so? It must be sequential.. if this is what you mean to ask)  BTW, I <a href=\"https://stackoverflow.com/questions/71463016/find-occurrence-count-of-longest-common-prefix-suffix-in-list-of-strings\">just started a bounty</a> on my other question which you replied to (happy to award it to you if your interested in the challenge)"}],"answers":[{"tags":[],"owner":{"account_id":7712408,"reputation":2531,"user_id":5841297,"accept_rate":50,"display_name":"Phenomenal One"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647449532,"creation_date":1647449532,"answer_id":71501171,"question_id":71489594,"body_markdown":"I believe what you are asking here is straightforward. You need to implement a Trie.\r\n\r\nYou need to initialize a TrieNode like the one below\r\n```\r\nclass TrieNode {\r\n    private HashMap&lt;Character, TrieNode&gt; children;\r\n    private long count;\r\n    private boolean isEnd;\r\n    \r\n   // ...\r\n}\r\n```\r\n\r\nInsert values to this TrieNode and store the count of it when you meet the end.\r\n\r\nSo, going by your example:\r\n\r\nV(2) -&gt; i (2) -&gt; s(2) -&gt; i(2) -&gt; t(2).\r\n\r\nNow, simply iterate the root TrieNode  by the getting its count. When the count next count does not match with the previous count, you can stop there and return the computed characters with the count.\r\n\r\nFor suffix map, do the same thing , but store the TrieNode in reverse.","title":"Extract the Longest Common String with the same Occurrence Count from a Map in Java?","body":"<p>I believe what you are asking here is straightforward. You need to implement a Trie.</p>\n<p>You need to initialize a TrieNode like the one below</p>\n<pre><code>class TrieNode {\n    private HashMap&lt;Character, TrieNode&gt; children;\n    private long count;\n    private boolean isEnd;\n    \n   // ...\n}\n</code></pre>\n<p>Insert values to this TrieNode and store the count of it when you meet the end.</p>\n<p>So, going by your example:</p>\n<p>V(2) -&gt; i (2) -&gt; s(2) -&gt; i(2) -&gt; t(2).</p>\n<p>Now, simply iterate the root TrieNode  by the getting its count. When the count next count does not match with the previous count, you can stop there and return the computed characters with the count.</p>\n<p>For suffix map, do the same thing , but store the TrieNode in reverse.</p>\n"}],"owner":{"account_id":23415543,"reputation":109,"user_id":17476544,"display_name":"Levi Hibbitts"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":1,"score":1,"last_activity_date":1647449532,"creation_date":1647382158,"question_id":71489594,"body_markdown":"I have a `Map&lt;String, Integer&gt;` mapping a String with the number of occurrences of each String in map:\r\n\r\n\r\n    String: Vis Count: 2\r\n    String: Visi Count: 2\r\n    String: Visit Count: 2\r\n    String: Vi Count: 2\r\n    String: V Count: 2\r\n    String: Visit  Count: 2\r\n    String: Visit Walmart St Count: 1\r\n    String: Visit Target S Count: 1\r\n    String: Visit Target St Count: 1\r\n    String: Visit Walmart Sto Count: 1\r\n    String: Visit Walma Count: 1\r\n    String: Visit T Count: 1\r\n    String: Visit Walmart Store Count: 1\r\n    String: Visit Target Sto Count: 1\r\n    String: Visit Target Stor Count: 1\r\n    String: Visit Walmart S Count: 1\r\n    String: Visit Targe Count: 1\r\n    String: Visit Target Store Count: 1\r\n    String: Visit W Count: 1\r\n    String: Visit Walmar Count: 1\r\n    String: Visit Wal Count: 1\r\n    String: Visit Walmart Count: 1\r\n    String: Visit Ta Count: 1\r\n    String: Visit Walmart Stor Count: 1\r\n    String: Visit Walm Count: 1\r\n    String: Visit Wa Count: 1\r\n    String: Visit Tar Count: 1\r\n    String: Visit Target  Count: 1\r\n    String: Visit Walmart  Count: 1\r\n    String: Visit Targ Count: 1\r\n    String: Visit Target Count: 1\r\n\r\n------------------------------\r\n\r\nThe above map was generated using the following code:\r\n\r\n\tArrayList&lt;String&gt; strList = new ArrayList&lt;String&gt;();\r\n\tstrList.add(&quot;Visit Target Store&quot;);\r\n\tstrList.add(&quot;Visit Walmart Store&quot;);\r\n\r\n\r\n\tHashMap&lt;String, Integer&gt; strPositionMap = new HashMap&lt;String, Integer&gt;();\r\n\tHashSet&lt;String&gt; set = new HashSet&lt;String&gt;();\r\n\t\r\n\t\r\n\t\r\n\tfor (String strFromList : strList) {\r\n\t\t\t\r\n\r\n\t\tfor (int charArrCounter = 0; charArrCounter &lt; strFromList.length(); charArrCounter++) {\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tint lastIndex = charArrCounter + 1;\r\n\t\t\t\r\n\t\t\tString strBuilderFromCharArr = strFromList.substring(0, lastIndex);\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Counter: &quot; + charArrCounter + &quot; String: &quot; + strBuilderFromCharArr + &quot; Char Count: &quot; + strBuilderFromCharArr.length());\r\n\t\t\t\r\n\t\t\tif (set.contains(strBuilderFromCharArr)) {\r\n\t\t\t\tSystem.out.println(&quot;Skipping String: &quot; + strBuilderFromCharArr + &quot; because it&#39;s already in set -&gt; &quot; + set.toString());\r\n\t\t\t\tcontinue;\r\n\t\t\t} else {\r\n\t\t\t\t\r\n\t\t\t\tset.add(strBuilderFromCharArr);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tfor (String stFromrList : strList) {\t\t\t\t\r\n\t\t\t\t\r\n\r\n\t\t\t\tif (stFromrList.startsWith(strBuilderFromCharArr)) {\r\n\t\t\t\t\t\r\n\r\n\t\t\t\t\tSystem.out.println(&quot;String from list: &quot; + stFromrList + &quot; starts with: &quot; + strBuilderFromCharArr);\r\n\t\t\t\t\t\r\n\t\t\t\t\tint count = strPositionMap.containsKey(strBuilderFromCharArr) ? strPositionMap.get(strBuilderFromCharArr) : 0;\r\n\t\t\t\t\tstrPositionMap.put(strBuilderFromCharArr, count + 1);\r\n\t\t\t\t\t\r\n\t\t\t\t} else {\r\n\t\t\t\t\t\r\n\t\t\t\t\tSystem.out.println(&quot;String from list: &quot; + stFromrList + &quot; does NOT start with: &quot; + strBuilderFromCharArr);\r\n\r\n\t\t\t\t}\r\n\t\t\t}\t\t\t\t\r\n\t\t}\t\t\r\n\t}\r\n\t\r\n\t// Sorts map by value from highest to lowest\r\n\tMap&lt;String, Integer&gt; newStrPositionMap = HashMapUtil.sortByComparator(strPositionMap, false);\r\n\t\r\n\t\r\n\tfor (Entry&lt;String, Integer&gt; newStrPositionMapEntrySet : newStrPositionMap.entrySet()) {\r\n\t\t\t\t\t\r\n\t\tSystem.out.println(&quot;String: &quot; + newStrPositionMapEntrySet.getKey() + &quot; Count: &quot; + newStrPositionMapEntrySet.getValue());\r\n\t\t\r\n\t}\r\n\r\n \r\nI now need to filter the above map so that a new map only includes one instance of two or more *similar* Strings with the same number of occurrences. In this context similar means that the two Strings start with the same char sequence and begin to fork at a certain point.\r\n\r\nFor example, the following Strings are all considered equivalent:\r\n\r\n    String: V Count: 2\r\n    String: Vi Count: 2\r\n    String: Vis Count: 2\r\n    String: Visi Count: 2\r\n    String: Visit Count: 2\r\n    String: Visit  Count: 2\r\n\r\nSo the only String that should be preserved in the new map from the above list would be: `String: Visit  Count: 2` as all of the other Strings **1)** have the same count as this String **2)** are present in the &quot;longest&quot; String.\r\n\r\nI&#39;m using **Java**.\r\n\r\nThanks\r\n\r\n**UPDATE 1**:\r\n\r\nAs @Phenomenal One requested..\r\n\r\nExpected output for Prefix Map would be `Map&lt;String, Integer&gt;` with the following values:\r\n\r\n    Key: Visit Value: 2\r\n\r\n\r\nExpected output for Suffix Map would be `Map&lt;String, Integer&gt;` with the following values:\r\n\r\n    Key: t Store Value: 2\r\n","title":"Extract the Longest Common String with the same Occurrence Count from a Map in Java?","body":"<p>I have a <code>Map&lt;String, Integer&gt;</code> mapping a String with the number of occurrences of each String in map:</p>\n<pre><code>String: Vis Count: 2\nString: Visi Count: 2\nString: Visit Count: 2\nString: Vi Count: 2\nString: V Count: 2\nString: Visit  Count: 2\nString: Visit Walmart St Count: 1\nString: Visit Target S Count: 1\nString: Visit Target St Count: 1\nString: Visit Walmart Sto Count: 1\nString: Visit Walma Count: 1\nString: Visit T Count: 1\nString: Visit Walmart Store Count: 1\nString: Visit Target Sto Count: 1\nString: Visit Target Stor Count: 1\nString: Visit Walmart S Count: 1\nString: Visit Targe Count: 1\nString: Visit Target Store Count: 1\nString: Visit W Count: 1\nString: Visit Walmar Count: 1\nString: Visit Wal Count: 1\nString: Visit Walmart Count: 1\nString: Visit Ta Count: 1\nString: Visit Walmart Stor Count: 1\nString: Visit Walm Count: 1\nString: Visit Wa Count: 1\nString: Visit Tar Count: 1\nString: Visit Target  Count: 1\nString: Visit Walmart  Count: 1\nString: Visit Targ Count: 1\nString: Visit Target Count: 1\n</code></pre>\n<hr />\n<p>The above map was generated using the following code:</p>\n<pre><code>ArrayList&lt;String&gt; strList = new ArrayList&lt;String&gt;();\nstrList.add(&quot;Visit Target Store&quot;);\nstrList.add(&quot;Visit Walmart Store&quot;);\n\n\nHashMap&lt;String, Integer&gt; strPositionMap = new HashMap&lt;String, Integer&gt;();\nHashSet&lt;String&gt; set = new HashSet&lt;String&gt;();\n\n\n\nfor (String strFromList : strList) {\n        \n\n    for (int charArrCounter = 0; charArrCounter &lt; strFromList.length(); charArrCounter++) {\n        \n        \n        int lastIndex = charArrCounter + 1;\n        \n        String strBuilderFromCharArr = strFromList.substring(0, lastIndex);\n        \n        System.out.println(&quot;Counter: &quot; + charArrCounter + &quot; String: &quot; + strBuilderFromCharArr + &quot; Char Count: &quot; + strBuilderFromCharArr.length());\n        \n        if (set.contains(strBuilderFromCharArr)) {\n            System.out.println(&quot;Skipping String: &quot; + strBuilderFromCharArr + &quot; because it's already in set -&gt; &quot; + set.toString());\n            continue;\n        } else {\n            \n            set.add(strBuilderFromCharArr);\n        }\n        \n        \n        \n        for (String stFromrList : strList) {                \n            \n\n            if (stFromrList.startsWith(strBuilderFromCharArr)) {\n                \n\n                System.out.println(&quot;String from list: &quot; + stFromrList + &quot; starts with: &quot; + strBuilderFromCharArr);\n                \n                int count = strPositionMap.containsKey(strBuilderFromCharArr) ? strPositionMap.get(strBuilderFromCharArr) : 0;\n                strPositionMap.put(strBuilderFromCharArr, count + 1);\n                \n            } else {\n                \n                System.out.println(&quot;String from list: &quot; + stFromrList + &quot; does NOT start with: &quot; + strBuilderFromCharArr);\n\n            }\n        }               \n    }       \n}\n\n// Sorts map by value from highest to lowest\nMap&lt;String, Integer&gt; newStrPositionMap = HashMapUtil.sortByComparator(strPositionMap, false);\n\n\nfor (Entry&lt;String, Integer&gt; newStrPositionMapEntrySet : newStrPositionMap.entrySet()) {\n                \n    System.out.println(&quot;String: &quot; + newStrPositionMapEntrySet.getKey() + &quot; Count: &quot; + newStrPositionMapEntrySet.getValue());\n    \n}\n</code></pre>\n<p>I now need to filter the above map so that a new map only includes one instance of two or more <em>similar</em> Strings with the same number of occurrences. In this context similar means that the two Strings start with the same char sequence and begin to fork at a certain point.</p>\n<p>For example, the following Strings are all considered equivalent:</p>\n<pre><code>String: V Count: 2\nString: Vi Count: 2\nString: Vis Count: 2\nString: Visi Count: 2\nString: Visit Count: 2\nString: Visit  Count: 2\n</code></pre>\n<p>So the only String that should be preserved in the new map from the above list would be: <code>String: Visit  Count: 2</code> as all of the other Strings <strong>1)</strong> have the same count as this String <strong>2)</strong> are present in the &quot;longest&quot; String.</p>\n<p>I'm using <strong>Java</strong>.</p>\n<p>Thanks</p>\n<p><strong>UPDATE 1</strong>:</p>\n<p>As @Phenomenal One requested..</p>\n<p>Expected output for Prefix Map would be <code>Map&lt;String, Integer&gt;</code> with the following values:</p>\n<pre><code>Key: Visit Value: 2\n</code></pre>\n<p>Expected output for Suffix Map would be <code>Map&lt;String, Integer&gt;</code> with the following values:</p>\n<pre><code>Key: t Store Value: 2\n</code></pre>\n"},{"tags":["java","randoop"],"answers":[{"tags":[],"owner":{"account_id":58050,"reputation":7570,"user_id":173852,"display_name":"mernst"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647449497,"creation_date":1647449497,"answer_id":71501163,"question_id":71496233,"body_markdown":"Your command `java -classpath randoop-all-4.3.0.jar` provided a classpath that  contains Randoop but does not contain your code.\r\n\r\nAs described in the [&quot;Running Randoop&quot; section][1] of the Randoop manual, a typical invocation is\r\n```\r\n    java -classpath myclasspath:${RANDOOP_JAR} randoop.main.Main ...\r\n```\r\n\r\nIn your case, that would be\r\n```\r\n    java -classpath project.jar:${RANDOOP_JAR} randoop.main.Main ...\r\n```\r\n\r\n\r\n  [1]: https://randoop.github.io/randoop/manual/#running_randoop","title":"Unable to use Randoop testjar","body":"<p>Your command <code>java -classpath randoop-all-4.3.0.jar</code> provided a classpath that  contains Randoop but does not contain your code.</p>\n<p>As described in the <a href=\"https://randoop.github.io/randoop/manual/#running_randoop\" rel=\"nofollow noreferrer\">&quot;Running Randoop&quot; section</a> of the Randoop manual, a typical invocation is</p>\n<pre><code>    java -classpath myclasspath:${RANDOOP_JAR} randoop.main.Main ...\n</code></pre>\n<p>In your case, that would be</p>\n<pre><code>    java -classpath project.jar:${RANDOOP_JAR} randoop.main.Main ...\n</code></pre>\n"}],"owner":{"account_id":20456749,"reputation":391,"user_id":15010215,"display_name":"clueless waffle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647449497,"creation_date":1647429830,"question_id":71496233,"body_markdown":"I have a folder containing `randoop-all-4.3.0.jar` and `project.jar`. I want to test the entire jar as a whole using `java -classpath randoop-all-4.3.0.jar randoop.main.Main gentests --testjar=project.jar` but I am getting the following error:\r\n\r\n```\r\nRandoop for Java version 4.3.0.\r\n\r\nAppInterface was read from project.jar but was not found on classpath.  Ensure that project.jar is on the classpath.  Classpath:\r\nrandoop-all-4.3.0.jar\r\n```\r\n\r\nWhat does this error mean? \r\n","title":"Unable to use Randoop testjar","body":"<p>I have a folder containing <code>randoop-all-4.3.0.jar</code> and <code>project.jar</code>. I want to test the entire jar as a whole using <code>java -classpath randoop-all-4.3.0.jar randoop.main.Main gentests --testjar=project.jar</code> but I am getting the following error:</p>\n<pre><code>Randoop for Java version 4.3.0.\n\nAppInterface was read from project.jar but was not found on classpath.  Ensure that project.jar is on the classpath.  Classpath:\nrandoop-all-4.3.0.jar\n</code></pre>\n<p>What does this error mean?</p>\n"},{"tags":["java","gmail-api"],"comments":[{"owner":{"account_id":23310798,"reputation":1298,"user_id":17390082,"display_name":"Gabriel Carballo"},"score":0,"creation_date":1647361222,"post_id":71483582,"comment_id":126349498,"body_markdown":"Whenever possible, try to include a [minimal example](https://stackoverflow.com/help/minimal-reproducible-example) that reproduces the issue. You can also include the expected behavior, the actual behavior, and how they differ, that would be helpful as well. Please visit [How to ask](https://stackoverflow.com/help/how-to-ask) to have some tips on how to write a question, so the community will be able to help you out in a better way","body":"Whenever possible, try to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal example</a> that reproduces the issue. You can also include the expected behavior, the actual behavior, and how they differ, that would be helpful as well. Please visit <a href=\"https://stackoverflow.com/help/how-to-ask\">How to ask</a> to have some tips on how to write a question, so the community will be able to help you out in a better way"},{"owner":{"account_id":19572928,"reputation":45,"user_id":14323659,"display_name":"Владислав Загородний"},"score":0,"creation_date":1647361350,"post_id":71483582,"comment_id":126349557,"body_markdown":"Provided the details, official gmail api  page explain what is expected.","body":"Provided the details, official gmail api  page explain what is expected."},{"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":1,"creation_date":1647371929,"post_id":71483582,"comment_id":126353328,"body_markdown":"The code you are using is designed for an installed application.  Its going to require that you authorize it.  To do that you have to open the consent screen in a browser.  It cant open it for you.","body":"The code you are using is designed for an installed application.  Its going to require that you authorize it.  To do that you have to open the consent screen in a browser.  It cant open it for you."},{"owner":{"account_id":19572928,"reputation":45,"user_id":14323659,"display_name":"Владислав Загородний"},"score":0,"creation_date":1647372990,"post_id":71483582,"comment_id":126353637,"body_markdown":"@DaImTo , but how can I open it on CI, can you provide example?","body":"@DaImTo , but how can I open it on CI, can you provide example?"},{"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":1,"creation_date":1647376377,"post_id":71483582,"comment_id":126354804,"body_markdown":"@ВладиславЗагородний you don&#39;t.  To get access to a users gmail account you need the permission of that user.  The user cant grant you that permission from CI.   You need to be running this on a website where the user can grant you access.   If you are Doing tests then you should be using mocks not live end to end testing to Gmail.   That said we may have different opinions on how testing is preformed.","body":"@ВладиславЗагородний you don&#39;t.  To get access to a users gmail account you need the permission of that user.  The user cant grant you that permission from CI.   You need to be running this on a website where the user can grant you access.   If you are Doing tests then you should be using mocks not live end to end testing to Gmail.   That said we may have different opinions on how testing is preformed."}],"owner":{"account_id":19572928,"reputation":45,"user_id":14323659,"display_name":"Владислав Загородний"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":321,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647449401,"creation_date":1647352901,"question_id":71483582,"body_markdown":"My Java automation test require to receive email, so I decided to use Gmail API. I went over this official guide https://developers.google.com/gmail/api/quickstart/java and locally it works well for me, but in case of CI (Gitlab) execution I stuck at the step :\r\n&quot; Please open the following address in your browser: ... &quot;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/l9nj0.jpg\r\n\r\nLooks like the problem is because on CI chrome is in headless mode, so how to open url in headless mode? ","title":"How to handle &quot;Please open the following address in your browser &quot; on CI for Gmail Api","body":"<p>My Java automation test require to receive email, so I decided to use Gmail API. I went over this official guide <a href=\"https://developers.google.com/gmail/api/quickstart/java\" rel=\"nofollow noreferrer\">https://developers.google.com/gmail/api/quickstart/java</a> and locally it works well for me, but in case of CI (Gitlab) execution I stuck at the step :\n&quot; Please open the following address in your browser: ... &quot;</p>\n<p><a href=\"https://i.stack.imgur.com/l9nj0.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l9nj0.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Looks like the problem is because on CI chrome is in headless mode, so how to open url in headless mode?</p>\n"},{"tags":["java","spring","rest","crud"],"comments":[{"owner":{"account_id":4712900,"reputation":3227,"user_id":3812888,"accept_rate":73,"display_name":"The Head Rush"},"score":1,"creation_date":1647440367,"post_id":71494510,"comment_id":126371901,"body_markdown":"You should map each HTTP verb to its own method using the mapping annotations: `@GetMapping`, `@PostMapping`, etc.","body":"You should map each HTTP verb to its own method using the mapping annotations: <code>@GetMapping</code>, <code>@PostMapping</code>, etc."}],"answers":[{"tags":[],"owner":{"account_id":10435634,"reputation":220,"user_id":7694025,"display_name":"Bessem Manita"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647441913,"creation_date":1647440087,"answer_id":71498631,"question_id":71494510,"body_markdown":"You question is not clear enough. You can accept the request body as JsonNode \r\nexample : \r\n\r\n     @PostMapping(&quot;/test&quot;)\r\n     public void postTest(@RequestBody com.fasterxml.jackson.databind.JsonNode jsonNode)\r\n      {\r\n          System.out.println(jsonNode.get(&quot;name&quot;));\r\n      }\r\n\r\nthe second method is to create a DTO wich contains all the possible attributes.\r\n\r\nExample  :\r\n\r\n         @PostMapping(&quot;/test&quot;)\r\n             public void postTest(@RequestBody UserDTO userDTO)\r\n              {\r\n                   \r\n              }\r\n    \r\n         class UserDTO {\r\n              // put all possible attributes.\r\n                      }","title":"Different payload/request body in post request","body":"<p>You question is not clear enough. You can accept the request body as JsonNode\nexample :</p>\n<pre><code> @PostMapping(&quot;/test&quot;)\n public void postTest(@RequestBody com.fasterxml.jackson.databind.JsonNode jsonNode)\n  {\n      System.out.println(jsonNode.get(&quot;name&quot;));\n  }\n</code></pre>\n<p>the second method is to create a DTO wich contains all the possible attributes.</p>\n<p>Example  :</p>\n<pre><code>     @PostMapping(&quot;/test&quot;)\n         public void postTest(@RequestBody UserDTO userDTO)\n          {\n               \n          }\n\n     class UserDTO {\n          // put all possible attributes.\n                  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14605352,"reputation":151,"user_id":10548414,"display_name":"Subham"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647448957,"creation_date":1647448957,"answer_id":71501031,"question_id":71494510,"body_markdown":"First, your DTO class must have all fields present (mandatory or non-mandatory) in the DTO class itself. \r\n\r\nfor example, \r\n\r\n    @JsonIgnoreProperties(ignoreUnknown=true)\r\n    public class UserDTO {\r\n        \r\n        @JsonProperty(&quot;firstname&quot;)\r\n        private String firstName; \r\n\r\n        @JsonProperty(&quot;lastname&quot;)\r\n        private String lastName; \r\n\r\n        @JsonProperty(&quot;age&quot;)\r\n        private Integer age; \r\n    }\r\n\r\nIf UserA has only firstName and lastName fields then age will be null. Similarly, if UserB has only lastName and age then firstName will be null. \r\n\r\nAlternatively, you can create two separate DTO classes for handling two different kinds of payloads. \r\n\r\nLike this, \r\n\r\n    @PostMapping(&quot;/users&quot;)\r\n    public ResponseEntity postTest(@RequestBody UserDTOA dtoA) {\r\n        // code goes here\r\n    }\r\n\r\n    @DeleteMapping(&quot;/users&quot;)\r\n    public ResponseEntity deleteTest(@RequestBody UserDTOB dtoB) {\r\n        // code goes here\r\n    }\r\n\r\n ","title":"Different payload/request body in post request","body":"<p>First, your DTO class must have all fields present (mandatory or non-mandatory) in the DTO class itself.</p>\n<p>for example,</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown=true)\npublic class UserDTO {\n    \n    @JsonProperty(&quot;firstname&quot;)\n    private String firstName; \n\n    @JsonProperty(&quot;lastname&quot;)\n    private String lastName; \n\n    @JsonProperty(&quot;age&quot;)\n    private Integer age; \n}\n</code></pre>\n<p>If UserA has only firstName and lastName fields then age will be null. Similarly, if UserB has only lastName and age then firstName will be null.</p>\n<p>Alternatively, you can create two separate DTO classes for handling two different kinds of payloads.</p>\n<p>Like this,</p>\n<pre><code>@PostMapping(&quot;/users&quot;)\npublic ResponseEntity postTest(@RequestBody UserDTOA dtoA) {\n    // code goes here\n}\n\n@DeleteMapping(&quot;/users&quot;)\npublic ResponseEntity deleteTest(@RequestBody UserDTOB dtoB) {\n    // code goes here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2751226,"reputation":413,"user_id":2370582,"display_name":"Vinh Truong"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647449241,"creation_date":1647449241,"answer_id":71501102,"question_id":71494510,"body_markdown":"In this case you can use a `Map&lt;String, Object&gt;` as request payload, or response","title":"Different payload/request body in post request","body":"<p>In this case you can use a <code>Map&lt;String, Object&gt;</code> as request payload, or response</p>\n"}],"owner":{"account_id":15567040,"reputation":71,"user_id":11230458,"display_name":"tooFastForSatan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1098,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1647449241,"creation_date":1647422772,"question_id":71494510,"body_markdown":"I have an endpoint:\r\n``` /users ``` \r\nI have all CRUD operations but my question is how to handle different payloads for POST and delete request. \r\nI mean I have userA which has fields like firstname,lastname, lifeStatus\r\nAnd I have userB which has fields like name, lifeStatus, workStatus. \r\nWith some requestScope?\r\n\r\n\r\n","title":"Different payload/request body in post request","body":"<p>I have an endpoint:\n<code>/users</code>\nI have all CRUD operations but my question is how to handle different payloads for POST and delete request.\nI mean I have userA which has fields like firstname,lastname, lifeStatus\nAnd I have userB which has fields like name, lifeStatus, workStatus.\nWith some requestScope?</p>\n"},{"tags":["java","maven","checkstyle","maven-checkstyle-plugin"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1647448943,"creation_date":1647448943,"answer_id":71501025,"question_id":71500951,"body_markdown":"The plugin by default comes with Checkstyle version 8.29. Try explicitly defining the CheckStyle version (plus a small version bump to 3.1.2). For example, with version 9.2:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n           ...\r\n        &lt;/configuration&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.puppycrawl.tools&lt;/groupId&gt;\r\n                &lt;artifactId&gt;checkstyle&lt;/artifactId&gt;\r\n                &lt;version&gt;9.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;executions&gt;\r\n            ...\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;","title":"maven-checkstyle-plugin failed to parse Java &#39;record&#39;","body":"<p>The plugin by default comes with Checkstyle version 8.29. Try explicitly defining the CheckStyle version (plus a small version bump to 3.1.2). For example, with version 9.2:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.1.2&lt;/version&gt;\n    &lt;configuration&gt;\n       ...\n    &lt;/configuration&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.puppycrawl.tools&lt;/groupId&gt;\n            &lt;artifactId&gt;checkstyle&lt;/artifactId&gt;\n            &lt;version&gt;9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;executions&gt;\n        ...\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":4257696,"reputation":1104,"user_id":3482923,"accept_rate":78,"display_name":"Dmitry  Adonin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2890,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":71501025,"answer_count":1,"score":8,"last_activity_date":1647448943,"creation_date":1647448657,"question_id":71500951,"body_markdown":"I&#39;m trying to setup checkstyle in our project - but seems like `Maven` (v3.8.3) or `maven-checkstyle-plugin` (v3.1.1) itself are not aware of Java 14&#39;s `record` (we use Java 17).\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    Caused by: java.lang.IllegalStateException: /Users/dmitry.adonin/IdeaProjects/raap/src/main/java/com/xxx/web/dto/Request.java:3:8: unexpected token: record\r\n        at com.puppycrawl.tools.checkstyle.JavaParser$1.reportError (JavaParser.java:93)\r\n        at com.puppycrawl.tools.checkstyle.grammar.GeneratedJavaRecognizer.typeDefinition (GeneratedJavaRecognizer.java:411)\r\n        at com.puppycrawl.tools.checkstyle.grammar.GeneratedJavaRecognizer.compilationUnit (GeneratedJavaRecognizer.java:202)\r\n        at com.puppycrawl.tools.checkstyle.JavaParser.parse (JavaParser.java:99)\r\n        at com.puppycrawl.tools.checkstyle.TreeWalker.processFiltered (TreeWalker.java:159)\r\n        at com.puppycrawl.tools.checkstyle.api.AbstractFileSetCheck.process (AbstractFileSetCheck.java:85)\r\n        at com.puppycrawl.tools.checkstyle.Checker.processFile (Checker.java:329)\r\n        at com.puppycrawl.tools.checkstyle.Checker.processFiles (Checker.java:291)\r\n        at com.puppycrawl.tools.checkstyle.Checker.process (Checker.java:216)\r\n        at org.apache.maven.plugins.checkstyle.exec.DefaultCheckstyleExecutor.executeCheckstyle (DefaultCheckstyleExecutor.java:202)\r\n        at org.apache.maven.plugins.checkstyle.CheckstyleViolationCheckMojo.execute (CheckstyleViolationCheckMojo.java:545)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:566)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    Caused by: antlr.NoViableAltException: unexpected token: record\r\n        at com.puppycrawl.tools.checkstyle.grammar.GeneratedJavaRecognizer.typeDefinitionInternal (GeneratedJavaRecognizer.java:584)\r\n        at com.puppycrawl.tools.checkstyle.grammar.GeneratedJavaRecognizer.typeDefinition (GeneratedJavaRecognizer.java:389)\r\n        at com.puppycrawl.tools.checkstyle.grammar.GeneratedJavaRecognizer.compilationUnit (GeneratedJavaRecognizer.java:202)\r\n        at com.puppycrawl.tools.checkstyle.JavaParser.parse (JavaParser.java:99)\r\n        at com.puppycrawl.tools.checkstyle.TreeWalker.processFiltered (TreeWalker.java:159)\r\n        at com.puppycrawl.tools.checkstyle.api.AbstractFileSetCheck.process (AbstractFileSetCheck.java:85)\r\n        at com.puppycrawl.tools.checkstyle.Checker.processFile (Checker.java:329)\r\n        at com.puppycrawl.tools.checkstyle.Checker.processFiles (Checker.java:291)\r\n        at com.puppycrawl.tools.checkstyle.Checker.process (Checker.java:216)\r\n        at org.apache.maven.plugins.checkstyle.exec.DefaultCheckstyleExecutor.executeCheckstyle (DefaultCheckstyleExecutor.java:202)\r\n        at org.apache.maven.plugins.checkstyle.CheckstyleViolationCheckMojo.execute (CheckstyleViolationCheckMojo.java:545)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:566)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThere are the following configs:\r\n\r\n`pom.xml`:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.6.2&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt;\r\n    \t&lt;/parent&gt;\r\n\r\n    \t&lt;groupId&gt;...&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;...&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;...&lt;/name&gt;\r\n\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n\r\n    \t&lt;dependencies&gt;\r\n        ...\r\n    \t&lt;/dependencies&gt;\r\n\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;configLocation&gt;project-checks.xml&lt;/configLocation&gt;\r\n    \t\t\t\t\t&lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n    \t\t\t\t\t&lt;consoleOutput&gt;true&lt;/consoleOutput&gt;\r\n    \t\t\t\t\t&lt;failOnViolation&gt;true&lt;/failOnViolation&gt;\r\n    \t\t\t\t\t&lt;failsOnError&gt;true&lt;/failsOnError&gt;\r\n    \t\t\t\t\t&lt;linkXRef&gt;false&lt;/linkXRef&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;checkstyle-validation&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;validate&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;check&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n\r\n    &lt;/project&gt;\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n`project-checks.xml`:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n\r\n    &lt;!DOCTYPE module PUBLIC\r\n            &quot;-//Checkstyle//DTD Checkstyle Configuration 1.3//EN&quot;\r\n            &quot;https://checkstyle.org/dtds/configuration_1_3.dtd&quot;&gt;\r\n\r\n    &lt;!--\r\n        Checkstyle configuration that checks the Google coding conventions from Google Java Style\r\n        that can be found at https://google.github.io/styleguide/javaguide.html\r\n        Checkstyle is very configurable. Be sure to read the documentation at\r\n        https://checkstyle.org (or in your downloaded distribution).\r\n        To completely disable a check, just comment it out or delete it from the file.\r\n        To suppress certain violations please review suppression filters.\r\n        Authors: Max Vetrenko, Ruslan Diachenko, Roman Ivanov.\r\n     --&gt;\r\n\r\n    &lt;module name = &quot;Checker&quot;&gt;\r\n        &lt;property name=&quot;charset&quot; value=&quot;UTF-8&quot;/&gt;\r\n\r\n        &lt;property name=&quot;severity&quot; value=&quot;error&quot;/&gt;\r\n\r\n        &lt;property name=&quot;fileExtensions&quot; value=&quot;java, properties, xml&quot;/&gt;\r\n        &lt;!-- Excludes all &#39;module-info.java&#39; files              --&gt;\r\n        &lt;!-- See https://checkstyle.org/config_filefilters.html --&gt;\r\n        &lt;module name=&quot;BeforeExecutionExclusionFileFilter&quot;&gt;\r\n            &lt;property name=&quot;fileNamePattern&quot; value=&quot;module\\-info\\.java$&quot;/&gt;\r\n        &lt;/module&gt;\r\n        &lt;!-- Checks new line at end of file is required                     --&gt;\r\n        &lt;!-- See https://checkstyle.org/config_misc.html#NewlineAtEndOfFile --&gt;\r\n        &lt;module name=&quot;NewlineAtEndOfFile&quot;&gt;\r\n            &lt;property name=&quot;lineSeparator&quot; value=&quot;lf&quot;/&gt;\r\n            &lt;property name=&quot;fileExtensions&quot; value=&quot;java, xml, yml, yaml&quot;/&gt;\r\n        &lt;/module&gt;\r\n\r\n        &lt;!-- Checks for whitespace                            --&gt;\r\n        &lt;!-- See http://checkstyle.org/config_whitespace.html --&gt;\r\n        &lt;module name=&quot;FileTabCharacter&quot;&gt;\r\n            &lt;property name=&quot;eachLine&quot; value=&quot;true&quot;/&gt;\r\n        &lt;/module&gt;\r\n\r\n        &lt;module name=&quot;LineLength&quot;&gt;\r\n            &lt;property name=&quot;fileExtensions&quot; value=&quot;java&quot;/&gt;\r\n            &lt;property name=&quot;max&quot; value=&quot;200&quot;/&gt;\r\n            &lt;property name=&quot;ignorePattern&quot; value=&quot;^package.*|^import.*|a href|href|http://|https://|ftp://&quot;/&gt;\r\n        &lt;/module&gt;\r\n\r\n        &lt;module name=&quot;TreeWalker&quot;&gt;\r\n            &lt;module name=&quot;OuterTypeFilename&quot;/&gt;\r\n            &lt;module name=&quot;IllegalTokenText&quot;&gt;\r\n                &lt;property name=&quot;tokens&quot; value=&quot;STRING_LITERAL, CHAR_LITERAL&quot;/&gt;\r\n                &lt;property name=&quot;format&quot;\r\n                          value=&quot;\\\\u00(09|0(a|A)|0(c|C)|0(d|D)|22|27|5(C|c))|\\\\(0(10|11|12|14|15|42|47)|134)&quot;/&gt;\r\n                &lt;property name=&quot;message&quot;\r\n                          value=&quot;Consider using special escape sequence instead of octal value or Unicode escaped value.&quot;/&gt;\r\n            &lt;/module&gt;\r\n            &lt;module name=&quot;AvoidEscapedUnicodeCharacters&quot;&gt;\r\n                &lt;property name=&quot;allowEscapesForControlCharacters&quot; value=&quot;true&quot;/&gt;\r\n                &lt;property name=&quot;allowByTailComment&quot; value=&quot;true&quot;/&gt;\r\n                &lt;property name=&quot;allowNonPrintableEscapes&quot; value=&quot;true&quot;/&gt;\r\n            &lt;/module&gt;\r\n            &lt;module name=&quot;AvoidStarImport&quot;/&gt;\r\n            &lt;module name=&quot;UnusedImports&quot;/&gt;\r\n            &lt;module name=&quot;OneTopLevelClass&quot;/&gt;\r\n            &lt;module name=&quot;NoLineWrap&quot;&gt;\r\n                &lt;property name=&quot;tokens&quot; value=&quot;PACKAGE_DEF, IMPORT, STATIC_IMPORT&quot;/&gt;\r\n            &lt;/module&gt;\r\n            &lt;module name=&quot;EmptyBlock&quot;&gt;\r\n                &lt;property name=&quot;option&quot; value=&quot;TEXT&quot;/&gt;\r\n                &lt;property name=&quot;tokens&quot;\r\n                          value=&quot;LITERAL_TRY, LITERAL_FINALLY, LITERAL_IF, LITERAL_ELSE, LITERAL_SWITCH&quot;/&gt;\r\n            &lt;/module&gt;\r\n            &lt;module name=&quot;NeedBraces&quot;&gt;\r\n                &lt;property name=&quot;tokens&quot;\r\n                          value=&quot;LITERAL_DO, LITERAL_ELSE, LITERAL_FOR, LITERAL_IF, LITERAL_WHILE&quot;/&gt;\r\n            &lt;/module&gt;\r\n            &lt;module name=&quot;LeftCurly&quot;&gt;\r\n                &lt;property name=&quot;tokens&quot;\r\n                          value=&quot;ANNOTATION_DEF, CLASS_DEF, CTOR_DEF, ENUM_CONSTANT_DEF, ENUM_DEF,\r\n                        INTERFACE_DEF, LAMBDA, LITERAL_CASE, LITERAL_CATCH, LITERAL_DEFAULT,\r\n                        LITERAL_DO, LITERAL_ELSE, LITERAL_FINALLY, LITERAL_FOR, LITERAL_IF,\r\n                        LITERAL_SWITCH, LITERAL_SYNCHRONIZED, LITERAL_TRY, LITERAL_WHILE, METHOD_DEF,\r\n                        OBJBLOCK, STATIC_INIT&quot;/&gt;\r\n            &lt;/module&gt;\r\n            &lt;module name=&quot;RightCurly&quot;&gt;\r\n                &lt;property name=&quot;id&quot; value=&quot;RightCurlySame&quot;/&gt;\r\n                &lt;property name=&quot;tokens&quot;\r\n                          value=&quot;LITERAL_TRY, LITERAL_CATCH, LITERAL_FINALLY, LITERAL_IF, LITERAL_ELSE,\r\n                        LITERAL_DO&quot;/&gt;\r\n            &lt;/module&gt;\r\n            &lt;module name=&quot;RightCurly&quot;&gt;\r\n                &lt;property name=&quot;id&quot; value=&quot;RightCurlyAlone&quot;/&gt;\r\n                &lt;property name=&quot;option&quot; value=&quot;alone&quot;/&gt;\r\n                &lt;property name=&quot;tokens&quot;\r\n                          value=&quot;CLASS_DEF, METHOD_DEF, CTOR_DEF, LITERAL_FOR, LITERAL_WHILE, STATIC_INIT,\r\n                        INSTANCE_INIT, ANNOTATION_DEF, ENUM_DEF&quot;/&gt;\r\n            &lt;/module&gt;\r\n            &lt;module name=&quot;SuppressionXpathSingleFilter&quot;&gt;\r\n                &lt;!-- suppresion is required till https://github.com/checkstyle/checkstyle/issues/7541 --&gt;\r\n                &lt;property name=&quot;id&quot; value=&quot;RightCurlyAlone&quot;/&gt;\r\n                &lt;property name=&quot;query&quot; value=&quot;//RCURLY[parent::SLIST[count(./*)=1]\r\n                                                     or preceding-sibling::*[last()][self::LCURLY]]&quot;/&gt;\r\n            &lt;/module&gt;\r\n            &lt;module name=&quot;WhitespaceAround&quot;&gt;\r\n                &lt;property name=&quot;allowEmptyConstructors&quot; value=&quot;true&quot;/&gt;\r\n                &lt;property name=&quot;allowEmptyLambdas&quot; value=&quot;true&quot;/&gt;\r\n                &lt;property name=&quot;allowEmptyMethods&quot; value=&quot;true&quot;/&gt;\r\n                &lt;property name=&quot;allowEmptyTypes&quot; value=&quot;true&quot;/&gt;\r\n                &lt;property name=&quot;allowEmptyLoops&quot; value=&quot;true&quot;/&gt;\r\n                &lt;property name=&quot;tokens&quot;\r\n                          value=&quot;ASSIGN, BAND, BAND_ASSIGN, BOR, BOR_ASSIGN, BSR, BSR_ASSIGN, BXOR,\r\n                        BXOR_ASSIGN, COLON, DIV, DIV_ASSIGN, DO_WHILE, EQUAL, GE, GT, LAMBDA, LAND,\r\n                        LCURLY, LE, LITERAL_CATCH, LITERAL_DO, LITERAL_ELSE, LITERAL_FINALLY,\r\n                        LITERAL_FOR, LITERAL_IF, LITERAL_RETURN, LITERAL_SWITCH, LITERAL_SYNCHRONIZED,\r\n                         LITERAL_TRY, LITERAL_WHILE, LOR, LT, MINUS, MINUS_ASSIGN, MOD, MOD_ASSIGN,\r\n                         NOT_EQUAL, PLUS, PLUS_ASSIGN, QUESTION, RCURLY, SL, SLIST, SL_ASSIGN, SR,\r\n                         SR_ASSIGN, STAR, STAR_ASSIGN, LITERAL_ASSERT, TYPE_EXTENSION_AND&quot;/&gt;\r\n                &lt;message key=&quot;ws.notFollowed&quot;\r\n                         value=&quot;WhitespaceAround: &#39;&#39;{0}&#39;&#39; is not followed by whitespace. Empty blocks may only be represented as &#39;{}&#39; when not part of a multi-block statement (4.1.3)&quot;/&gt;\r\n                &lt;message key=&quot;ws.notPreceded&quot;\r\n                         value=&quot;WhitespaceAround: &#39;&#39;{0}&#39;&#39; is not preceded with whitespace.&quot;/&gt;\r\n            &lt;/module&gt;\r\n            &lt;module name=&quot;OneStatementPerLine&quot;/&gt;\r\n            &lt;module name=&quot;MultipleVariableDeclarations&quot;/&gt;\r\n            &lt;module name=&quot;ArrayTypeStyle&quot;/&gt;\r\n            &lt;module name=&quot;MissingSwitchDefault&quot;/&gt;\r\n            &lt;module name=&quot;FallThrough&quot;/&gt;\r\n            &lt;module name=&quot;UpperEll&quot;/&gt;\r\n            &lt;module name=&quot;ModifierOrder&quot;/&gt;\r\n            &lt;module name=&quot;EmptyLineSeparator&quot;&gt;\r\n                &lt;property name=&quot;tokens&quot;\r\n                          value=&quot;PACKAGE_DEF, IMPORT, STATIC_IMPORT, CLASS_DEF, INTERFACE_DEF, ENUM_DEF,\r\n                        STATIC_INIT, INSTANCE_INIT, METHOD_DEF, CTOR_DEF, VARIABLE_DEF&quot;/&gt;\r\n                &lt;property name=&quot;allowNoEmptyLineBetweenFields&quot; value=&quot;true&quot;/&gt;\r\n                &lt;property name=&quot;allowMultipleEmptyLines&quot; value=&quot;false&quot;/&gt;\r\n                &lt;property name=&quot;allowMultipleEmptyLinesInsideClassMembers&quot; value=&quot;false&quot;/&gt;\r\n            &lt;/module&gt;\r\n            &lt;module name=&quot;SeparatorWrap&quot;&gt;\r\n                &lt;property name=&quot;id&quot; value=&quot;SeparatorWrapDot&quot;/&gt;\r\n                &lt;property name=&quot;tokens&quot; value=&quot;DOT&quot;/&gt;\r\n                &lt;property name=&quot;option&quot; value=&quot;nl&quot;/&gt;\r\n            &lt;/module&gt;\r\n            &lt;module name=&quot;SeparatorWrap&quot;&gt;\r\n                &lt;property name=&quot;id&quot; value=&quot;SeparatorWrapComma&quot;/&gt;\r\n                &lt;property name=&quot;tokens&quot; value=&quot;COMMA&quot;/&gt;\r\n                &lt;property name=&quot;option&quot; value=&quot;EOL&quot;/&gt;\r\n            &lt;/module&gt;\r\n            &lt;module name=&quot;SeparatorWrap&quot;&gt;\r\n                &lt;!-- ELLIPSIS is EOL until https://github.com/google/styleguide/issues/258 --&gt;\r\n                &lt;property name=&quot;id&quot; value=&quot;SeparatorWrapEllipsis&quot;/&gt;\r\n                &lt;property name=&quot;tokens&quot; value=&quot;ELLIPSIS&quot;/&gt;\r\n                &lt;property name=&quot;option&quot; value=&quot;EOL&quot;/&gt;\r\n            &lt;/module&gt;\r\n            &lt;module name=&quot;SeparatorWrap&quot;&gt;\r\n                &lt;!-- ARRAY_DECLARATOR is EOL until https://github.com/google/styleguide/issues/259 --&gt;\r\n                &lt;property name=&quot;id&quot; value=&quot;SeparatorWrapArrayDeclarator&quot;/&gt;\r\n                &lt;property name=&quot;tokens&quot; value=&quot;ARRAY_DECLARATOR&quot;/&gt;\r\n                &lt;property name=&quot;option&quot; value=&quot;EOL&quot;/&gt;\r\n            &lt;/module&gt;\r\n            &lt;module name=&quot;SeparatorWrap&quot;&gt;\r\n                &lt;property name=&quot;id&quot; value=&quot;SeparatorWrapMethodRef&quot;/&gt;\r\n                &lt;property name=&quot;tokens&quot; value=&quot;METHOD_REF&quot;/&gt;\r\n                &lt;property name=&quot;option&quot; value=&quot;nl&quot;/&gt;\r\n            &lt;/module&gt;\r\n            &lt;module name=&quot;PackageName&quot;&gt;\r\n                &lt;property name=&quot;format&quot; value=&quot;^[a-z]+(\\.[a-z][a-z0-9]*)*$&quot;/&gt;\r\n                &lt;message key=&quot;name.invalidPattern&quot;\r\n                         value=&quot;Package name &#39;&#39;{0}&#39;&#39; must match pattern &#39;&#39;{1}&#39;&#39;.&quot;/&gt;\r\n            &lt;/module&gt;\r\n            &lt;module name=&quot;TypeName&quot;&gt;\r\n                &lt;property name=&quot;tokens&quot; value=&quot;CLASS_DEF, INTERFACE_DEF, ENUM_DEF, ANNOTATION_DEF&quot;/&gt;\r\n                &lt;message key=&quot;name.invalidPattern&quot;\r\n                         value=&quot;Type name &#39;&#39;{0}&#39;&#39; must match pattern &#39;&#39;{1}&#39;&#39;.&quot;/&gt;\r\n            &lt;/module&gt;\r\n            &lt;module name=&quot;MemberName&quot;&gt;\r\n                &lt;property name=&quot;format&quot; value=&quot;^[a-z][a-zA-Z0-9]*$&quot;/&gt;\r\n                &lt;message key=&quot;name.invalidPattern&quot;\r\n                         value=&quot;Member name &#39;&#39;{0}&#39;&#39; must match pattern &#39;&#39;{1}&#39;&#39;.&quot;/&gt;\r\n            &lt;/module&gt;\r\n            &lt;module name=&quot;ParameterName&quot;&gt;\r\n                &lt;property name=&quot;format&quot; value=&quot;^[a-z][a-zA-Z0-9]*$&quot;/&gt;\r\n                &lt;message key=&quot;name.invalidPattern&quot;\r\n                         value=&quot;Parameter name &#39;&#39;{0}&#39;&#39; must match pattern &#39;&#39;{1}&#39;&#39;.&quot;/&gt;\r\n            &lt;/module&gt;\r\n            &lt;module name=&quot;LambdaParameterName&quot;&gt;\r\n                &lt;property name=&quot;format&quot; value=&quot;^[a-z]([a-z0-9][a-zA-Z0-9]*)?$&quot;/&gt;\r\n                &lt;message key=&quot;name.invalidPattern&quot;\r\n                         value=&quot;Lambda parameter name &#39;&#39;{0}&#39;&#39; must match pattern &#39;&#39;{1}&#39;&#39;.&quot;/&gt;\r\n            &lt;/module&gt;\r\n            &lt;module name=&quot;CatchParameterName&quot;&gt;\r\n                &lt;property name=&quot;format&quot; value=&quot;^[a-z]([a-z0-9][a-zA-Z0-9]*)?$&quot;/&gt;\r\n                &lt;message key=&quot;name.invalidPattern&quot;\r\n                         value=&quot;Catch parameter name &#39;&#39;{0}&#39;&#39; must match pattern &#39;&#39;{1}&#39;&#39;.&quot;/&gt;\r\n            &lt;/module&gt;\r\n            &lt;module name=&quot;LocalVariableName&quot;&gt;\r\n                &lt;property name=&quot;format&quot; value=&quot;^[a-z]([a-z0-9][a-zA-Z0-9]*)?$&quot;/&gt;\r\n                &lt;message key=&quot;name.invalidPattern&quot;\r\n                         value=&quot;Local variable name &#39;&#39;{0}&#39;&#39; must match pattern &#39;&#39;{1}&#39;&#39;.&quot;/&gt;\r\n            &lt;/module&gt;\r\n            &lt;module name=&quot;ClassTypeParameterName&quot;&gt;\r\n                &lt;property name=&quot;format&quot; value=&quot;(^[A-Z][0-9]?)$|([A-Z][a-zA-Z0-9]*[T]$)|(^[A-Z]{1,2})$&quot;/&gt;\r\n                &lt;message key=&quot;name.invalidPattern&quot;\r\n                         value=&quot;Class type name &#39;&#39;{0}&#39;&#39; must match pattern &#39;&#39;{1}&#39;&#39;.&quot;/&gt;\r\n            &lt;/module&gt;\r\n            &lt;module name=&quot;MethodTypeParameterName&quot;&gt;\r\n                &lt;property name=&quot;format&quot; value=&quot;(^[A-Z][0-9]?)$|([A-Z][a-zA-Z0-9]*[T]$)&quot;/&gt;\r\n                &lt;message key=&quot;name.invalidPattern&quot;\r\n                         value=&quot;Method type name &#39;&#39;{0}&#39;&#39; must match pattern &#39;&#39;{1}&#39;&#39;.&quot;/&gt;\r\n            &lt;/module&gt;\r\n            &lt;module name=&quot;InterfaceTypeParameterName&quot;&gt;\r\n                &lt;property name=&quot;format&quot; value=&quot;(^[A-Z][0-9]?)$|([A-Z][a-zA-Z0-9]*[T]$)|(^[A-Z]{1,2})$&quot;/&gt;\r\n                &lt;message key=&quot;name.invalidPattern&quot;\r\n                         value=&quot;Interface type name &#39;&#39;{0}&#39;&#39; must match pattern &#39;&#39;{1}&#39;&#39;.&quot;/&gt;\r\n            &lt;/module&gt;\r\n            &lt;module name=&quot;MethodName&quot;&gt;\r\n                &lt;property name=&quot;format&quot; value=&quot;^[a-z][a-zA-Z0-9_]*$&quot;/&gt;\r\n                &lt;message key=&quot;name.invalidPattern&quot;\r\n                         value=&quot;Method name &#39;&#39;{0}&#39;&#39; must match pattern &#39;&#39;{1}&#39;&#39;.&quot;/&gt;\r\n            &lt;/module&gt;\r\n            &lt;module name=&quot;NoFinalizer&quot;/&gt;\r\n            &lt;module name=&quot;GenericWhitespace&quot;&gt;\r\n                &lt;message key=&quot;ws.followed&quot;\r\n                         value=&quot;GenericWhitespace &#39;&#39;{0}&#39;&#39; is followed by whitespace.&quot;/&gt;\r\n                &lt;message key=&quot;ws.preceded&quot;\r\n                         value=&quot;GenericWhitespace &#39;&#39;{0}&#39;&#39; is preceded with whitespace.&quot;/&gt;\r\n                &lt;message key=&quot;ws.illegalFollow&quot;\r\n                         value=&quot;GenericWhitespace &#39;&#39;{0}&#39;&#39; should followed by whitespace.&quot;/&gt;\r\n                &lt;message key=&quot;ws.notPreceded&quot;\r\n                         value=&quot;GenericWhitespace &#39;&#39;{0}&#39;&#39; is not preceded with whitespace.&quot;/&gt;\r\n            &lt;/module&gt;\r\n            &lt;module name=&quot;Indentation&quot;&gt;\r\n                &lt;property name=&quot;basicOffset&quot; value=&quot;4&quot;/&gt;\r\n                &lt;property name=&quot;braceAdjustment&quot; value=&quot;0&quot;/&gt;\r\n                &lt;property name=&quot;caseIndent&quot; value=&quot;4&quot;/&gt;\r\n                &lt;property name=&quot;throwsIndent&quot; value=&quot;4&quot;/&gt;\r\n                &lt;property name=&quot;lineWrappingIndentation&quot; value=&quot;4&quot;/&gt;\r\n                &lt;property name=&quot;arrayInitIndent&quot; value=&quot;4&quot;/&gt;\r\n            &lt;/module&gt;\r\n            &lt;module name=&quot;AbbreviationAsWordInName&quot;&gt;\r\n                &lt;property name=&quot;ignoreFinal&quot; value=&quot;false&quot;/&gt;\r\n                &lt;property name=&quot;allowedAbbreviationLength&quot; value=&quot;3&quot;/&gt;\r\n                &lt;property name=&quot;tokens&quot;\r\n                          value=&quot;CLASS_DEF, INTERFACE_DEF, ENUM_DEF, ANNOTATION_DEF, ANNOTATION_FIELD_DEF,\r\n                        PARAMETER_DEF, VARIABLE_DEF, METHOD_DEF&quot;/&gt;\r\n            &lt;/module&gt;\r\n            &lt;module name=&quot;OverloadMethodsDeclarationOrder&quot;/&gt;\r\n            &lt;module name=&quot;VariableDeclarationUsageDistance&quot;/&gt;\r\n            &lt;module name=&quot;CustomImportOrder&quot;&gt;\r\n                &lt;property name=&quot;customImportOrderRules&quot; value=&quot;THIRD_PARTY_PACKAGE###SPECIAL_IMPORTS###STANDARD_JAVA_PACKAGE###STATIC&quot;/&gt;\r\n                &lt;property name=&quot;specialImportsRegExp&quot; value=&quot;^javax\\.&quot;/&gt;\r\n                &lt;property name=&quot;standardPackageRegExp&quot; value=&quot;^java\\.&quot;/&gt;\r\n                &lt;property name=&quot;separateLineBetweenGroups&quot; value=&quot;false&quot;/&gt;\r\n                &lt;property name=&quot;sortImportsInGroupAlphabetically&quot; value=&quot;true&quot;/&gt;\r\n                &lt;property name=&quot;tokens&quot; value=&quot;IMPORT, STATIC_IMPORT, PACKAGE_DEF&quot;/&gt;\r\n            &lt;/module&gt;\r\n            &lt;module name=&quot;MethodParamPad&quot;&gt;\r\n                &lt;property name=&quot;tokens&quot;\r\n                          value=&quot;CTOR_DEF, LITERAL_NEW, METHOD_CALL, METHOD_DEF,\r\n                        SUPER_CTOR_CALL, ENUM_CONSTANT_DEF&quot;/&gt;\r\n            &lt;/module&gt;\r\n            &lt;module name=&quot;NoWhitespaceBefore&quot;&gt;\r\n                &lt;property name=&quot;tokens&quot;\r\n                          value=&quot;COMMA, SEMI, POST_INC, POST_DEC, DOT, ELLIPSIS, METHOD_REF&quot;/&gt;\r\n                &lt;property name=&quot;allowLineBreaks&quot; value=&quot;true&quot;/&gt;\r\n            &lt;/module&gt;\r\n            &lt;module name=&quot;ParenPad&quot;&gt;\r\n                &lt;property name=&quot;tokens&quot;\r\n                          value=&quot;ANNOTATION, ANNOTATION_FIELD_DEF, CTOR_CALL, CTOR_DEF, DOT, ENUM_CONSTANT_DEF,\r\n                        EXPR, LITERAL_CATCH, LITERAL_DO, LITERAL_FOR, LITERAL_IF, LITERAL_NEW,\r\n                        LITERAL_SWITCH, LITERAL_SYNCHRONIZED, LITERAL_WHILE, METHOD_CALL,\r\n                        METHOD_DEF, QUESTION, RESOURCE_SPECIFICATION, SUPER_CTOR_CALL, LAMBDA&quot;/&gt;\r\n            &lt;/module&gt;\r\n            &lt;module name=&quot;OperatorWrap&quot;&gt;\r\n                &lt;property name=&quot;option&quot; value=&quot;NL&quot;/&gt;\r\n                &lt;property name=&quot;tokens&quot;\r\n                          value=&quot;BAND, BOR, BSR, BXOR, DIV, EQUAL, GE, GT, LAND, LE, LITERAL_INSTANCEOF, LOR,\r\n                        LT, MINUS, MOD, NOT_EQUAL, PLUS, QUESTION, SL, SR, STAR, METHOD_REF &quot;/&gt;\r\n            &lt;/module&gt;\r\n            &lt;module name=&quot;AnnotationLocation&quot;&gt;\r\n                &lt;property name=&quot;id&quot; value=&quot;AnnotationLocationMostCases&quot;/&gt;\r\n                &lt;property name=&quot;tokens&quot;\r\n                          value=&quot;CLASS_DEF, INTERFACE_DEF, ENUM_DEF, METHOD_DEF, CTOR_DEF&quot;/&gt;\r\n            &lt;/module&gt;\r\n            &lt;module name=&quot;AnnotationLocation&quot;&gt;\r\n                &lt;property name=&quot;id&quot; value=&quot;AnnotationLocationVariables&quot;/&gt;\r\n                &lt;property name=&quot;tokens&quot; value=&quot;VARIABLE_DEF&quot;/&gt;\r\n                &lt;property name=&quot;allowSamelineMultipleAnnotations&quot; value=&quot;true&quot;/&gt;\r\n            &lt;/module&gt;\r\n            &lt;module name=&quot;NonEmptyAtclauseDescription&quot;/&gt;\r\n            &lt;module name=&quot;InvalidJavadocPosition&quot;/&gt;\r\n            &lt;module name=&quot;JavadocTagContinuationIndentation&quot;/&gt;\r\n            &lt;module name=&quot;SummaryJavadoc&quot;&gt;\r\n                &lt;property name=&quot;forbiddenSummaryFragments&quot;\r\n                          value=&quot;^@return the *|^This method returns |^A [{]@code [a-zA-Z0-9]+[}]( is a )&quot;/&gt;\r\n            &lt;/module&gt;\r\n            &lt;module name=&quot;JavadocParagraph&quot;/&gt;\r\n            &lt;module name=&quot;AtclauseOrder&quot;&gt;\r\n                &lt;property name=&quot;tagOrder&quot; value=&quot;@param, @return, @throws, @deprecated&quot;/&gt;\r\n                &lt;property name=&quot;target&quot;\r\n                          value=&quot;CLASS_DEF, INTERFACE_DEF, ENUM_DEF, METHOD_DEF, CTOR_DEF, VARIABLE_DEF&quot;/&gt;\r\n            &lt;/module&gt;\r\n            &lt;module name=&quot;JavadocMethod&quot;&gt;\r\n                &lt;property name=&quot;scope&quot; value=&quot;public&quot;/&gt;\r\n                &lt;property name=&quot;allowMissingParamTags&quot; value=&quot;true&quot;/&gt;\r\n                &lt;property name=&quot;allowMissingReturnTag&quot; value=&quot;true&quot;/&gt;\r\n                &lt;property name=&quot;allowedAnnotations&quot; value=&quot;Override, Test&quot;/&gt;\r\n                &lt;property name=&quot;tokens&quot; value=&quot;METHOD_DEF, CTOR_DEF, ANNOTATION_FIELD_DEF&quot;/&gt;\r\n            &lt;/module&gt;\r\n            &lt;module name=&quot;SingleLineJavadoc&quot;&gt;\r\n                &lt;property name=&quot;ignoreInlineTags&quot; value=&quot;false&quot;/&gt;\r\n            &lt;/module&gt;\r\n            &lt;module name=&quot;EmptyCatchBlock&quot;&gt;\r\n                &lt;property name=&quot;exceptionVariableName&quot; value=&quot;expected&quot;/&gt;\r\n            &lt;/module&gt;\r\n            &lt;module name=&quot;CommentsIndentation&quot;&gt;\r\n                &lt;property name=&quot;tokens&quot; value=&quot;SINGLE_LINE_COMMENT, BLOCK_COMMENT_BEGIN&quot;/&gt;\r\n            &lt;/module&gt;\r\n            &lt;!-- https://checkstyle.org/config_filters.html#SuppressionXpathFilter --&gt;\r\n            &lt;module name=&quot;SuppressionXpathFilter&quot;&gt;\r\n                &lt;property name=&quot;file&quot; value=&quot;checkstyle-xpath-suppressions.xml&quot;/&gt;\r\n                &lt;property name=&quot;optional&quot; value=&quot;true&quot;/&gt;\r\n            &lt;/module&gt;\r\n        &lt;/module&gt;\r\n    &lt;/module&gt;\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nCould someone please suggest what should be adjusted to make it work?\r\n\r\nThank you!","title":"maven-checkstyle-plugin failed to parse Java &#39;record&#39;","body":"<p>I'm trying to setup checkstyle in our project - but seems like <code>Maven</code> (v3.8.3) or <code>maven-checkstyle-plugin</code> (v3.1.1) itself are not aware of Java 14's <code>record</code> (we use Java 17).</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>Caused by: java.lang.IllegalStateException: /Users/dmitry.adonin/IdeaProjects/raap/src/main/java/com/xxx/web/dto/Request.java:3:8: unexpected token: record\n    at com.puppycrawl.tools.checkstyle.JavaParser$1.reportError (JavaParser.java:93)\n    at com.puppycrawl.tools.checkstyle.grammar.GeneratedJavaRecognizer.typeDefinition (GeneratedJavaRecognizer.java:411)\n    at com.puppycrawl.tools.checkstyle.grammar.GeneratedJavaRecognizer.compilationUnit (GeneratedJavaRecognizer.java:202)\n    at com.puppycrawl.tools.checkstyle.JavaParser.parse (JavaParser.java:99)\n    at com.puppycrawl.tools.checkstyle.TreeWalker.processFiltered (TreeWalker.java:159)\n    at com.puppycrawl.tools.checkstyle.api.AbstractFileSetCheck.process (AbstractFileSetCheck.java:85)\n    at com.puppycrawl.tools.checkstyle.Checker.processFile (Checker.java:329)\n    at com.puppycrawl.tools.checkstyle.Checker.processFiles (Checker.java:291)\n    at com.puppycrawl.tools.checkstyle.Checker.process (Checker.java:216)\n    at org.apache.maven.plugins.checkstyle.exec.DefaultCheckstyleExecutor.executeCheckstyle (DefaultCheckstyleExecutor.java:202)\n    at org.apache.maven.plugins.checkstyle.CheckstyleViolationCheckMojo.execute (CheckstyleViolationCheckMojo.java:545)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: antlr.NoViableAltException: unexpected token: record\n    at com.puppycrawl.tools.checkstyle.grammar.GeneratedJavaRecognizer.typeDefinitionInternal (GeneratedJavaRecognizer.java:584)\n    at com.puppycrawl.tools.checkstyle.grammar.GeneratedJavaRecognizer.typeDefinition (GeneratedJavaRecognizer.java:389)\n    at com.puppycrawl.tools.checkstyle.grammar.GeneratedJavaRecognizer.compilationUnit (GeneratedJavaRecognizer.java:202)\n    at com.puppycrawl.tools.checkstyle.JavaParser.parse (JavaParser.java:99)\n    at com.puppycrawl.tools.checkstyle.TreeWalker.processFiltered (TreeWalker.java:159)\n    at com.puppycrawl.tools.checkstyle.api.AbstractFileSetCheck.process (AbstractFileSetCheck.java:85)\n    at com.puppycrawl.tools.checkstyle.Checker.processFile (Checker.java:329)\n    at com.puppycrawl.tools.checkstyle.Checker.processFiles (Checker.java:291)\n    at com.puppycrawl.tools.checkstyle.Checker.process (Checker.java:216)\n    at org.apache.maven.plugins.checkstyle.exec.DefaultCheckstyleExecutor.executeCheckstyle (DefaultCheckstyleExecutor.java:202)\n    at org.apache.maven.plugins.checkstyle.CheckstyleViolationCheckMojo.execute (CheckstyleViolationCheckMojo.java:545)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>There are the following configs:</p>\n<p><code>pom.xml</code>:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.2&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;...&lt;/groupId&gt;\n    &lt;artifactId&gt;...&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;...&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n    ...\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;configLocation&gt;project-checks.xml&lt;/configLocation&gt;\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                    &lt;consoleOutput&gt;true&lt;/consoleOutput&gt;\n                    &lt;failOnViolation&gt;true&lt;/failOnViolation&gt;\n                    &lt;failsOnError&gt;true&lt;/failsOnError&gt;\n                    &lt;linkXRef&gt;false&lt;/linkXRef&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;checkstyle-validation&lt;/id&gt;\n                        &lt;phase&gt;validate&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;check&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><code>project-checks.xml</code>:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;?xml version=\"1.0\"?&gt;\n\n&lt;!DOCTYPE module PUBLIC\n        \"-//Checkstyle//DTD Checkstyle Configuration 1.3//EN\"\n        \"https://checkstyle.org/dtds/configuration_1_3.dtd\"&gt;\n\n&lt;!--\n    Checkstyle configuration that checks the Google coding conventions from Google Java Style\n    that can be found at https://google.github.io/styleguide/javaguide.html\n    Checkstyle is very configurable. Be sure to read the documentation at\n    https://checkstyle.org (or in your downloaded distribution).\n    To completely disable a check, just comment it out or delete it from the file.\n    To suppress certain violations please review suppression filters.\n    Authors: Max Vetrenko, Ruslan Diachenko, Roman Ivanov.\n --&gt;\n\n&lt;module name = \"Checker\"&gt;\n    &lt;property name=\"charset\" value=\"UTF-8\"/&gt;\n\n    &lt;property name=\"severity\" value=\"error\"/&gt;\n\n    &lt;property name=\"fileExtensions\" value=\"java, properties, xml\"/&gt;\n    &lt;!-- Excludes all 'module-info.java' files              --&gt;\n    &lt;!-- See https://checkstyle.org/config_filefilters.html --&gt;\n    &lt;module name=\"BeforeExecutionExclusionFileFilter\"&gt;\n        &lt;property name=\"fileNamePattern\" value=\"module\\-info\\.java$\"/&gt;\n    &lt;/module&gt;\n    &lt;!-- Checks new line at end of file is required                     --&gt;\n    &lt;!-- See https://checkstyle.org/config_misc.html#NewlineAtEndOfFile --&gt;\n    &lt;module name=\"NewlineAtEndOfFile\"&gt;\n        &lt;property name=\"lineSeparator\" value=\"lf\"/&gt;\n        &lt;property name=\"fileExtensions\" value=\"java, xml, yml, yaml\"/&gt;\n    &lt;/module&gt;\n\n    &lt;!-- Checks for whitespace                            --&gt;\n    &lt;!-- See http://checkstyle.org/config_whitespace.html --&gt;\n    &lt;module name=\"FileTabCharacter\"&gt;\n        &lt;property name=\"eachLine\" value=\"true\"/&gt;\n    &lt;/module&gt;\n\n    &lt;module name=\"LineLength\"&gt;\n        &lt;property name=\"fileExtensions\" value=\"java\"/&gt;\n        &lt;property name=\"max\" value=\"200\"/&gt;\n        &lt;property name=\"ignorePattern\" value=\"^package.*|^import.*|a href|href|http://|https://|ftp://\"/&gt;\n    &lt;/module&gt;\n\n    &lt;module name=\"TreeWalker\"&gt;\n        &lt;module name=\"OuterTypeFilename\"/&gt;\n        &lt;module name=\"IllegalTokenText\"&gt;\n            &lt;property name=\"tokens\" value=\"STRING_LITERAL, CHAR_LITERAL\"/&gt;\n            &lt;property name=\"format\"\n                      value=\"\\\\u00(09|0(a|A)|0(c|C)|0(d|D)|22|27|5(C|c))|\\\\(0(10|11|12|14|15|42|47)|134)\"/&gt;\n            &lt;property name=\"message\"\n                      value=\"Consider using special escape sequence instead of octal value or Unicode escaped value.\"/&gt;\n        &lt;/module&gt;\n        &lt;module name=\"AvoidEscapedUnicodeCharacters\"&gt;\n            &lt;property name=\"allowEscapesForControlCharacters\" value=\"true\"/&gt;\n            &lt;property name=\"allowByTailComment\" value=\"true\"/&gt;\n            &lt;property name=\"allowNonPrintableEscapes\" value=\"true\"/&gt;\n        &lt;/module&gt;\n        &lt;module name=\"AvoidStarImport\"/&gt;\n        &lt;module name=\"UnusedImports\"/&gt;\n        &lt;module name=\"OneTopLevelClass\"/&gt;\n        &lt;module name=\"NoLineWrap\"&gt;\n            &lt;property name=\"tokens\" value=\"PACKAGE_DEF, IMPORT, STATIC_IMPORT\"/&gt;\n        &lt;/module&gt;\n        &lt;module name=\"EmptyBlock\"&gt;\n            &lt;property name=\"option\" value=\"TEXT\"/&gt;\n            &lt;property name=\"tokens\"\n                      value=\"LITERAL_TRY, LITERAL_FINALLY, LITERAL_IF, LITERAL_ELSE, LITERAL_SWITCH\"/&gt;\n        &lt;/module&gt;\n        &lt;module name=\"NeedBraces\"&gt;\n            &lt;property name=\"tokens\"\n                      value=\"LITERAL_DO, LITERAL_ELSE, LITERAL_FOR, LITERAL_IF, LITERAL_WHILE\"/&gt;\n        &lt;/module&gt;\n        &lt;module name=\"LeftCurly\"&gt;\n            &lt;property name=\"tokens\"\n                      value=\"ANNOTATION_DEF, CLASS_DEF, CTOR_DEF, ENUM_CONSTANT_DEF, ENUM_DEF,\n                    INTERFACE_DEF, LAMBDA, LITERAL_CASE, LITERAL_CATCH, LITERAL_DEFAULT,\n                    LITERAL_DO, LITERAL_ELSE, LITERAL_FINALLY, LITERAL_FOR, LITERAL_IF,\n                    LITERAL_SWITCH, LITERAL_SYNCHRONIZED, LITERAL_TRY, LITERAL_WHILE, METHOD_DEF,\n                    OBJBLOCK, STATIC_INIT\"/&gt;\n        &lt;/module&gt;\n        &lt;module name=\"RightCurly\"&gt;\n            &lt;property name=\"id\" value=\"RightCurlySame\"/&gt;\n            &lt;property name=\"tokens\"\n                      value=\"LITERAL_TRY, LITERAL_CATCH, LITERAL_FINALLY, LITERAL_IF, LITERAL_ELSE,\n                    LITERAL_DO\"/&gt;\n        &lt;/module&gt;\n        &lt;module name=\"RightCurly\"&gt;\n            &lt;property name=\"id\" value=\"RightCurlyAlone\"/&gt;\n            &lt;property name=\"option\" value=\"alone\"/&gt;\n            &lt;property name=\"tokens\"\n                      value=\"CLASS_DEF, METHOD_DEF, CTOR_DEF, LITERAL_FOR, LITERAL_WHILE, STATIC_INIT,\n                    INSTANCE_INIT, ANNOTATION_DEF, ENUM_DEF\"/&gt;\n        &lt;/module&gt;\n        &lt;module name=\"SuppressionXpathSingleFilter\"&gt;\n            &lt;!-- suppresion is required till https://github.com/checkstyle/checkstyle/issues/7541 --&gt;\n            &lt;property name=\"id\" value=\"RightCurlyAlone\"/&gt;\n            &lt;property name=\"query\" value=\"//RCURLY[parent::SLIST[count(./*)=1]\n                                                 or preceding-sibling::*[last()][self::LCURLY]]\"/&gt;\n        &lt;/module&gt;\n        &lt;module name=\"WhitespaceAround\"&gt;\n            &lt;property name=\"allowEmptyConstructors\" value=\"true\"/&gt;\n            &lt;property name=\"allowEmptyLambdas\" value=\"true\"/&gt;\n            &lt;property name=\"allowEmptyMethods\" value=\"true\"/&gt;\n            &lt;property name=\"allowEmptyTypes\" value=\"true\"/&gt;\n            &lt;property name=\"allowEmptyLoops\" value=\"true\"/&gt;\n            &lt;property name=\"tokens\"\n                      value=\"ASSIGN, BAND, BAND_ASSIGN, BOR, BOR_ASSIGN, BSR, BSR_ASSIGN, BXOR,\n                    BXOR_ASSIGN, COLON, DIV, DIV_ASSIGN, DO_WHILE, EQUAL, GE, GT, LAMBDA, LAND,\n                    LCURLY, LE, LITERAL_CATCH, LITERAL_DO, LITERAL_ELSE, LITERAL_FINALLY,\n                    LITERAL_FOR, LITERAL_IF, LITERAL_RETURN, LITERAL_SWITCH, LITERAL_SYNCHRONIZED,\n                     LITERAL_TRY, LITERAL_WHILE, LOR, LT, MINUS, MINUS_ASSIGN, MOD, MOD_ASSIGN,\n                     NOT_EQUAL, PLUS, PLUS_ASSIGN, QUESTION, RCURLY, SL, SLIST, SL_ASSIGN, SR,\n                     SR_ASSIGN, STAR, STAR_ASSIGN, LITERAL_ASSERT, TYPE_EXTENSION_AND\"/&gt;\n            &lt;message key=\"ws.notFollowed\"\n                     value=\"WhitespaceAround: ''{0}'' is not followed by whitespace. Empty blocks may only be represented as '{}' when not part of a multi-block statement (4.1.3)\"/&gt;\n            &lt;message key=\"ws.notPreceded\"\n                     value=\"WhitespaceAround: ''{0}'' is not preceded with whitespace.\"/&gt;\n        &lt;/module&gt;\n        &lt;module name=\"OneStatementPerLine\"/&gt;\n        &lt;module name=\"MultipleVariableDeclarations\"/&gt;\n        &lt;module name=\"ArrayTypeStyle\"/&gt;\n        &lt;module name=\"MissingSwitchDefault\"/&gt;\n        &lt;module name=\"FallThrough\"/&gt;\n        &lt;module name=\"UpperEll\"/&gt;\n        &lt;module name=\"ModifierOrder\"/&gt;\n        &lt;module name=\"EmptyLineSeparator\"&gt;\n            &lt;property name=\"tokens\"\n                      value=\"PACKAGE_DEF, IMPORT, STATIC_IMPORT, CLASS_DEF, INTERFACE_DEF, ENUM_DEF,\n                    STATIC_INIT, INSTANCE_INIT, METHOD_DEF, CTOR_DEF, VARIABLE_DEF\"/&gt;\n            &lt;property name=\"allowNoEmptyLineBetweenFields\" value=\"true\"/&gt;\n            &lt;property name=\"allowMultipleEmptyLines\" value=\"false\"/&gt;\n            &lt;property name=\"allowMultipleEmptyLinesInsideClassMembers\" value=\"false\"/&gt;\n        &lt;/module&gt;\n        &lt;module name=\"SeparatorWrap\"&gt;\n            &lt;property name=\"id\" value=\"SeparatorWrapDot\"/&gt;\n            &lt;property name=\"tokens\" value=\"DOT\"/&gt;\n            &lt;property name=\"option\" value=\"nl\"/&gt;\n        &lt;/module&gt;\n        &lt;module name=\"SeparatorWrap\"&gt;\n            &lt;property name=\"id\" value=\"SeparatorWrapComma\"/&gt;\n            &lt;property name=\"tokens\" value=\"COMMA\"/&gt;\n            &lt;property name=\"option\" value=\"EOL\"/&gt;\n        &lt;/module&gt;\n        &lt;module name=\"SeparatorWrap\"&gt;\n            &lt;!-- ELLIPSIS is EOL until https://github.com/google/styleguide/issues/258 --&gt;\n            &lt;property name=\"id\" value=\"SeparatorWrapEllipsis\"/&gt;\n            &lt;property name=\"tokens\" value=\"ELLIPSIS\"/&gt;\n            &lt;property name=\"option\" value=\"EOL\"/&gt;\n        &lt;/module&gt;\n        &lt;module name=\"SeparatorWrap\"&gt;\n            &lt;!-- ARRAY_DECLARATOR is EOL until https://github.com/google/styleguide/issues/259 --&gt;\n            &lt;property name=\"id\" value=\"SeparatorWrapArrayDeclarator\"/&gt;\n            &lt;property name=\"tokens\" value=\"ARRAY_DECLARATOR\"/&gt;\n            &lt;property name=\"option\" value=\"EOL\"/&gt;\n        &lt;/module&gt;\n        &lt;module name=\"SeparatorWrap\"&gt;\n            &lt;property name=\"id\" value=\"SeparatorWrapMethodRef\"/&gt;\n            &lt;property name=\"tokens\" value=\"METHOD_REF\"/&gt;\n            &lt;property name=\"option\" value=\"nl\"/&gt;\n        &lt;/module&gt;\n        &lt;module name=\"PackageName\"&gt;\n            &lt;property name=\"format\" value=\"^[a-z]+(\\.[a-z][a-z0-9]*)*$\"/&gt;\n            &lt;message key=\"name.invalidPattern\"\n                     value=\"Package name ''{0}'' must match pattern ''{1}''.\"/&gt;\n        &lt;/module&gt;\n        &lt;module name=\"TypeName\"&gt;\n            &lt;property name=\"tokens\" value=\"CLASS_DEF, INTERFACE_DEF, ENUM_DEF, ANNOTATION_DEF\"/&gt;\n            &lt;message key=\"name.invalidPattern\"\n                     value=\"Type name ''{0}'' must match pattern ''{1}''.\"/&gt;\n        &lt;/module&gt;\n        &lt;module name=\"MemberName\"&gt;\n            &lt;property name=\"format\" value=\"^[a-z][a-zA-Z0-9]*$\"/&gt;\n            &lt;message key=\"name.invalidPattern\"\n                     value=\"Member name ''{0}'' must match pattern ''{1}''.\"/&gt;\n        &lt;/module&gt;\n        &lt;module name=\"ParameterName\"&gt;\n            &lt;property name=\"format\" value=\"^[a-z][a-zA-Z0-9]*$\"/&gt;\n            &lt;message key=\"name.invalidPattern\"\n                     value=\"Parameter name ''{0}'' must match pattern ''{1}''.\"/&gt;\n        &lt;/module&gt;\n        &lt;module name=\"LambdaParameterName\"&gt;\n            &lt;property name=\"format\" value=\"^[a-z]([a-z0-9][a-zA-Z0-9]*)?$\"/&gt;\n            &lt;message key=\"name.invalidPattern\"\n                     value=\"Lambda parameter name ''{0}'' must match pattern ''{1}''.\"/&gt;\n        &lt;/module&gt;\n        &lt;module name=\"CatchParameterName\"&gt;\n            &lt;property name=\"format\" value=\"^[a-z]([a-z0-9][a-zA-Z0-9]*)?$\"/&gt;\n            &lt;message key=\"name.invalidPattern\"\n                     value=\"Catch parameter name ''{0}'' must match pattern ''{1}''.\"/&gt;\n        &lt;/module&gt;\n        &lt;module name=\"LocalVariableName\"&gt;\n            &lt;property name=\"format\" value=\"^[a-z]([a-z0-9][a-zA-Z0-9]*)?$\"/&gt;\n            &lt;message key=\"name.invalidPattern\"\n                     value=\"Local variable name ''{0}'' must match pattern ''{1}''.\"/&gt;\n        &lt;/module&gt;\n        &lt;module name=\"ClassTypeParameterName\"&gt;\n            &lt;property name=\"format\" value=\"(^[A-Z][0-9]?)$|([A-Z][a-zA-Z0-9]*[T]$)|(^[A-Z]{1,2})$\"/&gt;\n            &lt;message key=\"name.invalidPattern\"\n                     value=\"Class type name ''{0}'' must match pattern ''{1}''.\"/&gt;\n        &lt;/module&gt;\n        &lt;module name=\"MethodTypeParameterName\"&gt;\n            &lt;property name=\"format\" value=\"(^[A-Z][0-9]?)$|([A-Z][a-zA-Z0-9]*[T]$)\"/&gt;\n            &lt;message key=\"name.invalidPattern\"\n                     value=\"Method type name ''{0}'' must match pattern ''{1}''.\"/&gt;\n        &lt;/module&gt;\n        &lt;module name=\"InterfaceTypeParameterName\"&gt;\n            &lt;property name=\"format\" value=\"(^[A-Z][0-9]?)$|([A-Z][a-zA-Z0-9]*[T]$)|(^[A-Z]{1,2})$\"/&gt;\n            &lt;message key=\"name.invalidPattern\"\n                     value=\"Interface type name ''{0}'' must match pattern ''{1}''.\"/&gt;\n        &lt;/module&gt;\n        &lt;module name=\"MethodName\"&gt;\n            &lt;property name=\"format\" value=\"^[a-z][a-zA-Z0-9_]*$\"/&gt;\n            &lt;message key=\"name.invalidPattern\"\n                     value=\"Method name ''{0}'' must match pattern ''{1}''.\"/&gt;\n        &lt;/module&gt;\n        &lt;module name=\"NoFinalizer\"/&gt;\n        &lt;module name=\"GenericWhitespace\"&gt;\n            &lt;message key=\"ws.followed\"\n                     value=\"GenericWhitespace ''{0}'' is followed by whitespace.\"/&gt;\n            &lt;message key=\"ws.preceded\"\n                     value=\"GenericWhitespace ''{0}'' is preceded with whitespace.\"/&gt;\n            &lt;message key=\"ws.illegalFollow\"\n                     value=\"GenericWhitespace ''{0}'' should followed by whitespace.\"/&gt;\n            &lt;message key=\"ws.notPreceded\"\n                     value=\"GenericWhitespace ''{0}'' is not preceded with whitespace.\"/&gt;\n        &lt;/module&gt;\n        &lt;module name=\"Indentation\"&gt;\n            &lt;property name=\"basicOffset\" value=\"4\"/&gt;\n            &lt;property name=\"braceAdjustment\" value=\"0\"/&gt;\n            &lt;property name=\"caseIndent\" value=\"4\"/&gt;\n            &lt;property name=\"throwsIndent\" value=\"4\"/&gt;\n            &lt;property name=\"lineWrappingIndentation\" value=\"4\"/&gt;\n            &lt;property name=\"arrayInitIndent\" value=\"4\"/&gt;\n        &lt;/module&gt;\n        &lt;module name=\"AbbreviationAsWordInName\"&gt;\n            &lt;property name=\"ignoreFinal\" value=\"false\"/&gt;\n            &lt;property name=\"allowedAbbreviationLength\" value=\"3\"/&gt;\n            &lt;property name=\"tokens\"\n                      value=\"CLASS_DEF, INTERFACE_DEF, ENUM_DEF, ANNOTATION_DEF, ANNOTATION_FIELD_DEF,\n                    PARAMETER_DEF, VARIABLE_DEF, METHOD_DEF\"/&gt;\n        &lt;/module&gt;\n        &lt;module name=\"OverloadMethodsDeclarationOrder\"/&gt;\n        &lt;module name=\"VariableDeclarationUsageDistance\"/&gt;\n        &lt;module name=\"CustomImportOrder\"&gt;\n            &lt;property name=\"customImportOrderRules\" value=\"THIRD_PARTY_PACKAGE###SPECIAL_IMPORTS###STANDARD_JAVA_PACKAGE###STATIC\"/&gt;\n            &lt;property name=\"specialImportsRegExp\" value=\"^javax\\.\"/&gt;\n            &lt;property name=\"standardPackageRegExp\" value=\"^java\\.\"/&gt;\n            &lt;property name=\"separateLineBetweenGroups\" value=\"false\"/&gt;\n            &lt;property name=\"sortImportsInGroupAlphabetically\" value=\"true\"/&gt;\n            &lt;property name=\"tokens\" value=\"IMPORT, STATIC_IMPORT, PACKAGE_DEF\"/&gt;\n        &lt;/module&gt;\n        &lt;module name=\"MethodParamPad\"&gt;\n            &lt;property name=\"tokens\"\n                      value=\"CTOR_DEF, LITERAL_NEW, METHOD_CALL, METHOD_DEF,\n                    SUPER_CTOR_CALL, ENUM_CONSTANT_DEF\"/&gt;\n        &lt;/module&gt;\n        &lt;module name=\"NoWhitespaceBefore\"&gt;\n            &lt;property name=\"tokens\"\n                      value=\"COMMA, SEMI, POST_INC, POST_DEC, DOT, ELLIPSIS, METHOD_REF\"/&gt;\n            &lt;property name=\"allowLineBreaks\" value=\"true\"/&gt;\n        &lt;/module&gt;\n        &lt;module name=\"ParenPad\"&gt;\n            &lt;property name=\"tokens\"\n                      value=\"ANNOTATION, ANNOTATION_FIELD_DEF, CTOR_CALL, CTOR_DEF, DOT, ENUM_CONSTANT_DEF,\n                    EXPR, LITERAL_CATCH, LITERAL_DO, LITERAL_FOR, LITERAL_IF, LITERAL_NEW,\n                    LITERAL_SWITCH, LITERAL_SYNCHRONIZED, LITERAL_WHILE, METHOD_CALL,\n                    METHOD_DEF, QUESTION, RESOURCE_SPECIFICATION, SUPER_CTOR_CALL, LAMBDA\"/&gt;\n        &lt;/module&gt;\n        &lt;module name=\"OperatorWrap\"&gt;\n            &lt;property name=\"option\" value=\"NL\"/&gt;\n            &lt;property name=\"tokens\"\n                      value=\"BAND, BOR, BSR, BXOR, DIV, EQUAL, GE, GT, LAND, LE, LITERAL_INSTANCEOF, LOR,\n                    LT, MINUS, MOD, NOT_EQUAL, PLUS, QUESTION, SL, SR, STAR, METHOD_REF \"/&gt;\n        &lt;/module&gt;\n        &lt;module name=\"AnnotationLocation\"&gt;\n            &lt;property name=\"id\" value=\"AnnotationLocationMostCases\"/&gt;\n            &lt;property name=\"tokens\"\n                      value=\"CLASS_DEF, INTERFACE_DEF, ENUM_DEF, METHOD_DEF, CTOR_DEF\"/&gt;\n        &lt;/module&gt;\n        &lt;module name=\"AnnotationLocation\"&gt;\n            &lt;property name=\"id\" value=\"AnnotationLocationVariables\"/&gt;\n            &lt;property name=\"tokens\" value=\"VARIABLE_DEF\"/&gt;\n            &lt;property name=\"allowSamelineMultipleAnnotations\" value=\"true\"/&gt;\n        &lt;/module&gt;\n        &lt;module name=\"NonEmptyAtclauseDescription\"/&gt;\n        &lt;module name=\"InvalidJavadocPosition\"/&gt;\n        &lt;module name=\"JavadocTagContinuationIndentation\"/&gt;\n        &lt;module name=\"SummaryJavadoc\"&gt;\n            &lt;property name=\"forbiddenSummaryFragments\"\n                      value=\"^@return the *|^This method returns |^A [{]@code [a-zA-Z0-9]+[}]( is a )\"/&gt;\n        &lt;/module&gt;\n        &lt;module name=\"JavadocParagraph\"/&gt;\n        &lt;module name=\"AtclauseOrder\"&gt;\n            &lt;property name=\"tagOrder\" value=\"@param, @return, @throws, @deprecated\"/&gt;\n            &lt;property name=\"target\"\n                      value=\"CLASS_DEF, INTERFACE_DEF, ENUM_DEF, METHOD_DEF, CTOR_DEF, VARIABLE_DEF\"/&gt;\n        &lt;/module&gt;\n        &lt;module name=\"JavadocMethod\"&gt;\n            &lt;property name=\"scope\" value=\"public\"/&gt;\n            &lt;property name=\"allowMissingParamTags\" value=\"true\"/&gt;\n            &lt;property name=\"allowMissingReturnTag\" value=\"true\"/&gt;\n            &lt;property name=\"allowedAnnotations\" value=\"Override, Test\"/&gt;\n            &lt;property name=\"tokens\" value=\"METHOD_DEF, CTOR_DEF, ANNOTATION_FIELD_DEF\"/&gt;\n        &lt;/module&gt;\n        &lt;module name=\"SingleLineJavadoc\"&gt;\n            &lt;property name=\"ignoreInlineTags\" value=\"false\"/&gt;\n        &lt;/module&gt;\n        &lt;module name=\"EmptyCatchBlock\"&gt;\n            &lt;property name=\"exceptionVariableName\" value=\"expected\"/&gt;\n        &lt;/module&gt;\n        &lt;module name=\"CommentsIndentation\"&gt;\n            &lt;property name=\"tokens\" value=\"SINGLE_LINE_COMMENT, BLOCK_COMMENT_BEGIN\"/&gt;\n        &lt;/module&gt;\n        &lt;!-- https://checkstyle.org/config_filters.html#SuppressionXpathFilter --&gt;\n        &lt;module name=\"SuppressionXpathFilter\"&gt;\n            &lt;property name=\"file\" value=\"checkstyle-xpath-suppressions.xml\"/&gt;\n            &lt;property name=\"optional\" value=\"true\"/&gt;\n        &lt;/module&gt;\n    &lt;/module&gt;\n&lt;/module&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Could someone please suggest what should be adjusted to make it work?</p>\n<p>Thank you!</p>\n"},{"tags":["java","excel","jxl"],"comments":[{"owner":{"account_id":7531626,"reputation":2235,"user_id":5719578,"accept_rate":100,"display_name":"Yohannes Gebremariam"},"score":0,"creation_date":1488826041,"post_id":42633229,"comment_id":72394249,"body_markdown":"Debug it, otherwise post your stack-trace","body":"Debug it, otherwise post your stack-trace"},{"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"score":0,"creation_date":1488826062,"post_id":42633229,"comment_id":72394261,"body_markdown":"start row with 0. Don&#39;t start from 1. All these for loops where you initialize i = 1, make them i = 0. Then try","body":"start row with 0. Don&#39;t start from 1. All these for loops where you initialize i = 1, make them i = 0. Then try"},{"owner":{"account_id":1281523,"reputation":1546,"user_id":1235535,"accept_rate":71,"display_name":"Atul"},"score":0,"creation_date":1488826133,"post_id":42633229,"comment_id":72394297,"body_markdown":"`row &lt; totalNoOfRows-1` will reduce the size by two. Check for this condition.","body":"<code>row &lt; totalNoOfRows-1</code> will reduce the size by two. Check for this condition."},{"owner":{"account_id":10371674,"reputation":15,"user_id":7649163,"display_name":"Zac"},"score":0,"creation_date":1488826596,"post_id":42633229,"comment_id":72394551,"body_markdown":"I have started most of my for loops from 1 because the entries i need to read from the excel sheet starts from the 1st row. @FarazDurrani","body":"I have started most of my for loops from 1 because the entries i need to read from the excel sheet starts from the 1st row. @FarazDurrani"},{"owner":{"account_id":10371674,"reputation":15,"user_id":7649163,"display_name":"Zac"},"score":0,"creation_date":1488827493,"post_id":42633229,"comment_id":72395038,"body_markdown":"I have 15 rows (totalNoOfRows) in the excel sheet and i have to read from the first row. Therefore the for loops range from 1-14(14 terms). Then for the maximum function the for loop ranges from 1-13 as i have assigned the 1st term as &quot;max&quot; initially. Finally the last for loop ranges from 0-13(14 terms) @Maverick","body":"I have 15 rows (totalNoOfRows) in the excel sheet and i have to read from the first row. Therefore the for loops range from 1-14(14 terms). Then for the maximum function the for loop ranges from 1-13 as i have assigned the 1st term as &quot;max&quot; initially. Finally the last for loop ranges from 0-13(14 terms) @Maverick"},{"owner":{"account_id":10371674,"reputation":15,"user_id":7649163,"display_name":"Zac"},"score":0,"creation_date":1488829495,"post_id":42633229,"comment_id":72396124,"body_markdown":"Exception in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Index: 0, Size:\n0\n        at java.util.ArrayList.rangeCheck(ArrayList.java:653)\n        at java.util.ArrayList.get(ArrayList.java:429)\n        at jxl.write.biff.WritableWorkbookImpl.getSheet(WritableWorkbookImpl.jav\na:399)\n        at Bus3.readExcel(Bus3.java:69)\n        at Bus3.main(Bus3.java:115)\nError being displyed @Yohannes","body":"Exception in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Index: 0, Size: 0         at java.util.ArrayList.rangeCheck(ArrayList.java:653)         at java.util.ArrayList.get(ArrayList.java:429)         at jxl.write.biff.WritableWorkbookImpl.getSheet(WritableWorkboo&zwnj;&#8203;kImpl.jav a:399)         at Bus3.readExcel(Bus3.java:69)         at Bus3.main(Bus3.java:115) Error being displyed @Yohannes"}],"answers":[{"tags":[],"owner":{"account_id":9227266,"reputation":59,"user_id":6854659,"display_name":"Filipe Andrade"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1488827074,"creation_date":1488827074,"answer_id":42633578,"question_id":42633229,"body_markdown":"It does not look like a very complex problem. \r\nIndex out of bounds means that you are trying to access a position in the array that does not exists.\r\nWatch your `numbusarray` variable, probably `row` is being set to an invalid index.","title":"How to remove the index out of bound error in my program?","body":"<p>It does not look like a very complex problem. \nIndex out of bounds means that you are trying to access a position in the array that does not exists.\nWatch your <code>numbusarray</code> variable, probably <code>row</code> is being set to an invalid index.</p>\n"},{"tags":[],"owner":{"account_id":8510347,"reputation":382,"user_id":6380596,"accept_rate":50,"display_name":"Rinat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1488829903,"creation_date":1488827791,"answer_id":42633788,"question_id":42633229,"body_markdown":"It is because your sh Sheet.class object doesn&#39;t have cells with column = 4.\r\nThis should fix it:\r\n\r\n        for (int row = 1; row &lt; totalNoOfRows; row++) {\r\n\t\t\tnumbusarray.add(sh.getCell(1, row).getContents());\r\n\t\t}\r\n\r\n\t\tfor (int row = 1; row &lt; totalNoOfRows; row++) {\r\n\t\t\tnumcommutersarray.add(sh.getCell(2, row).getContents());\r\n\t\t}\r\n\r\n\t\tfor (int row = 1; row &lt; totalNoOfRows; row++) {\r\n\t\t\tnumcommercialarray.add(sh.getCell(3, row).getContents());\r\n\t\t}\r\n\r\n**LAST EDIT:**\r\n\r\n        for (int row = 1; row &lt; totalNoOfRows; row++) {\r\n\t\t\tnumbusarray.add(sh.getCell(1, row).getContents());\r\n\t\t}\r\n\r\n\t\tfor (int row = 1; row &lt; totalNoOfRows; row++) {\r\n\t\t\tnumcommutersarray.add(sh.getCell(2, row).getContents());\r\n\r\n\t\t}\r\n\r\n\t\tfor (int row = 1; row &lt; totalNoOfRows; row++) {\r\n\t\t\tnumcommercialarray.add(sh.getCell(3, row).getContents());\r\n\t\t}\r\n\t\t// to find maximum of numbusarray\r\n\t\tmax = 0;\r\n\t\tfor (int row = 1; row &lt; totalNoOfRows; row++) {\r\n\t\t\tif (!(numbusarray.get(row - 1)).isEmpty()) {\r\n\t\t\t\tint intNumber = Integer.parseInt(numbusarray.get(row - 1));\r\n\t\t\t\tif (intNumber &gt; max) {\r\n\t\t\t\t\tmax = intNumber;\r\n\t\t\t\t\tSystem.out.println(&quot;max: &quot; + max);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tSystem.out.println(max);\r\n\t\tworkbook = Workbook.createWorkbook(new File(&quot;sampletestfile.xls&quot;));\r\n\t\tWritableSheet wSheet = workbook.createSheet(&quot;name&quot;, 0);","title":"How to remove the index out of bound error in my program?","body":"<p>It is because your sh Sheet.class object doesn't have cells with column = 4.\nThis should fix it:</p>\n\n<pre><code>    for (int row = 1; row &lt; totalNoOfRows; row++) {\n        numbusarray.add(sh.getCell(1, row).getContents());\n    }\n\n    for (int row = 1; row &lt; totalNoOfRows; row++) {\n        numcommutersarray.add(sh.getCell(2, row).getContents());\n    }\n\n    for (int row = 1; row &lt; totalNoOfRows; row++) {\n        numcommercialarray.add(sh.getCell(3, row).getContents());\n    }\n</code></pre>\n\n<p><strong>LAST EDIT:</strong></p>\n\n<pre><code>    for (int row = 1; row &lt; totalNoOfRows; row++) {\n        numbusarray.add(sh.getCell(1, row).getContents());\n    }\n\n    for (int row = 1; row &lt; totalNoOfRows; row++) {\n        numcommutersarray.add(sh.getCell(2, row).getContents());\n\n    }\n\n    for (int row = 1; row &lt; totalNoOfRows; row++) {\n        numcommercialarray.add(sh.getCell(3, row).getContents());\n    }\n    // to find maximum of numbusarray\n    max = 0;\n    for (int row = 1; row &lt; totalNoOfRows; row++) {\n        if (!(numbusarray.get(row - 1)).isEmpty()) {\n            int intNumber = Integer.parseInt(numbusarray.get(row - 1));\n            if (intNumber &gt; max) {\n                max = intNumber;\n                System.out.println(\"max: \" + max);\n            }\n        }\n\n    }\n    System.out.println(max);\n    workbook = Workbook.createWorkbook(new File(\"sampletestfile.xls\"));\n    WritableSheet wSheet = workbook.createSheet(\"name\", 0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20882924,"reputation":1,"user_id":15340203,"display_name":"Esdras Henrique"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647448286,"creation_date":1647448286,"answer_id":71500852,"question_id":42633229,"body_markdown":"Good afternoon, for me what worked was to create a new xls file, and copy the data from the old to the new one. and the errors stopped.","title":"How to remove the index out of bound error in my program?","body":"<p>Good afternoon, for me what worked was to create a new xls file, and copy the data from the old to the new one. and the errors stopped.</p>\n"}],"owner":{"account_id":10371674,"reputation":15,"user_id":7649163,"display_name":"Zac"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2281,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":42633788,"answer_count":3,"score":0,"last_activity_date":1647448286,"creation_date":1488825915,"question_id":42633229,"body_markdown":"I have tried various ways of removing the index out of bound error by changing the upper limits of the array.But the error persists. Where am I going wrong?\r\n   \r\n[Screenshot of my excel sheet][1]\r\n\r\nMy program reads values(all rows) in the first column of excel sheet and finds the maximum value. Then based on the maximum value,criteria are formulated and the values are classified as Low,Medium,High and written back into a new excel sheet.\r\n\r\n\r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import jxl.Cell;\r\n    import jxl.Sheet;\r\n    import jxl.Workbook;\r\n    import jxl.read.biff.BiffException;\r\n    import java.io.*;\r\n    import java.util.*;\r\n    import jxl.write.WritableSheet;\r\n    import jxl.write.WritableWorkbook;\r\n    import jxl.write.Label;\r\n    import jxl.write.WriteException;\r\n    \r\n    public class Bus3{\r\n    \r\n    List&lt;String&gt; numbusarray = new ArrayList&lt;String&gt;();\r\n    List&lt;String&gt; numcommutersarray = new ArrayList&lt;String&gt;();\r\n    List&lt;String&gt; numcommercialarray = new ArrayList&lt;String&gt;();\r\n        static WritableWorkbook workbook;\r\n    \t    static WritableSheet wSheet;\r\n    \r\n    \r\n    public void readExcel() throws BiffException, IOException, WriteException//method to read       contents form excel\r\n    {\r\n        String FilePath = &quot;Bus1.xls&quot;;\r\n        Scanner sc = new Scanner(System.in);\r\n        int max=0;\r\n    \r\n        FileInputStream fs = new FileInputStream(FilePath);\r\n        Workbook wb = Workbook.getWorkbook(fs);\r\n        Sheet sh = wb.getSheet(&quot;Bus1&quot;);// TO get the access to the sheet\r\n        int totalNoOfRows = sh.getRows();// To get the number of rows present in  sheet\r\n        int totalNoOfCols = sh.getColumns();// To get the number of columns present in sheet\r\n        System.out.println(totalNoOfRows);\r\n        //adding excel contents from every column to arraylist\r\n    \tfor (int row = 1; row &lt;totalNoOfRows; row++)\r\n        {\r\n            numbusarray.add(sh.getCell(2, row).getContents());\r\n        }\r\n    \r\n    \r\n        for (int row = 1; row &lt;totalNoOfRows; row++)\r\n        {\r\n            numcommutersarray.add(sh.getCell(3, row).getContents());\r\n        }\r\n    \r\n        for (int row = 1; row &lt;totalNoOfRows; row++)\r\n        {\r\n            numcommercialarray.add(sh.getCell(4, row).getContents());\r\n        }\r\n        //to find maximum of numbusarray\r\n    \tmax=Integer.parseInt(numbusarray.get(0));\r\n        for (int row = 1; row &lt; totalNoOfRows-1; row++)\r\n        {   \r\n                   if(!(numbusarray.get(row)).isEmpty())\r\n    \t\t\t   {\r\n                   int intNumber=Integer.parseInt(numbusarray.get(row));\r\n                   if(intNumber&gt;max)\r\n                   {\r\n    \t\t\t    max=intNumber;\r\n                    //System.out.println(max);\r\n    \t\t       }\r\n                   }\r\n    \r\n            \r\n        }\r\n        System.out.println(max);\r\n    \tWritableWorkbook workbook = Workbook.createWorkbook(new File(&quot;sampletestfile.xls&quot;));\r\n        WritableSheet wSheet = workbook.getSheet(0);\r\n    \tint increment=max/3;\r\n    \tint a=increment;\r\n    \tint b=a+increment;\r\n    \tint c=b+increment;\r\n    \tfor (int row = 0; row &lt; totalNoOfRows-1; row++)\r\n        {   \r\n                   if(!(numbusarray.get(row)).isEmpty())\r\n    \t\t\t   {\r\n                   int compare=Integer.parseInt(numbusarray.get(row));\r\n    \t\t\t   if(compare&lt;=a)\r\n                   {Label label= new Label(0, row, &quot;Low&quot;);//column,row,strngdata\r\n                   wSheet.addCell(label);}\r\n    \t\t\t   else if((compare&gt;a)&amp;&amp;(compare&lt;=b))\r\n                   {Label label= new Label(0, row, &quot;Medium&quot;);//column,row,strngdata\r\n                   wSheet.addCell(label);}\r\n    \t\t\t   else\r\n                   {Label label= new Label(0, row, &quot;High&quot;);//column,row,strngdata\r\n                   wSheet.addCell(label);}\r\n    \t\t\t   }\r\n        }\t\t\t   \r\n     /*Iterator itr=numbusarray.iterator(); //to print arraylist demo \r\n        while(itr.hasNext()){  \r\n            System.out.println(itr.next());  \r\n        }*/\r\n        }//end of method to read contents from excel   \r\n    \t//to close file\r\n        public static void closeFile()\r\n        {\r\n            try {\r\n                // Closing the writable work book\r\n                workbook.write();\r\n                workbook.close();\r\n    \r\n                // Closing the original work book\r\n            } catch (Exception e)\r\n    \r\n            {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        \r\n    \r\n        public static void main(String args[]) throws BiffException, IOException, WriteException  //main class\r\n        {\r\n            Bus3 DT = new Bus3();\r\n            DT.readExcel();\r\n    \t\tBus3.closeFile();\r\n        }//end of main class\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Lk0eY.png","title":"How to remove the index out of bound error in my program?","body":"<p>I have tried various ways of removing the index out of bound error by changing the upper limits of the array.But the error persists. Where am I going wrong?</p>\n\n<p><a href=\"https://i.stack.imgur.com/Lk0eY.png\" rel=\"nofollow noreferrer\">Screenshot of my excel sheet</a></p>\n\n<p>My program reads values(all rows) in the first column of excel sheet and finds the maximum value. Then based on the maximum value,criteria are formulated and the values are classified as Low,Medium,High and written back into a new excel sheet.</p>\n\n<pre><code>import java.io.FileInputStream;\nimport java.io.IOException;\nimport jxl.Cell;\nimport jxl.Sheet;\nimport jxl.Workbook;\nimport jxl.read.biff.BiffException;\nimport java.io.*;\nimport java.util.*;\nimport jxl.write.WritableSheet;\nimport jxl.write.WritableWorkbook;\nimport jxl.write.Label;\nimport jxl.write.WriteException;\n\npublic class Bus3{\n\nList&lt;String&gt; numbusarray = new ArrayList&lt;String&gt;();\nList&lt;String&gt; numcommutersarray = new ArrayList&lt;String&gt;();\nList&lt;String&gt; numcommercialarray = new ArrayList&lt;String&gt;();\n    static WritableWorkbook workbook;\n        static WritableSheet wSheet;\n\n\npublic void readExcel() throws BiffException, IOException, WriteException//method to read       contents form excel\n{\n    String FilePath = \"Bus1.xls\";\n    Scanner sc = new Scanner(System.in);\n    int max=0;\n\n    FileInputStream fs = new FileInputStream(FilePath);\n    Workbook wb = Workbook.getWorkbook(fs);\n    Sheet sh = wb.getSheet(\"Bus1\");// TO get the access to the sheet\n    int totalNoOfRows = sh.getRows();// To get the number of rows present in  sheet\n    int totalNoOfCols = sh.getColumns();// To get the number of columns present in sheet\n    System.out.println(totalNoOfRows);\n    //adding excel contents from every column to arraylist\n    for (int row = 1; row &lt;totalNoOfRows; row++)\n    {\n        numbusarray.add(sh.getCell(2, row).getContents());\n    }\n\n\n    for (int row = 1; row &lt;totalNoOfRows; row++)\n    {\n        numcommutersarray.add(sh.getCell(3, row).getContents());\n    }\n\n    for (int row = 1; row &lt;totalNoOfRows; row++)\n    {\n        numcommercialarray.add(sh.getCell(4, row).getContents());\n    }\n    //to find maximum of numbusarray\n    max=Integer.parseInt(numbusarray.get(0));\n    for (int row = 1; row &lt; totalNoOfRows-1; row++)\n    {   \n               if(!(numbusarray.get(row)).isEmpty())\n               {\n               int intNumber=Integer.parseInt(numbusarray.get(row));\n               if(intNumber&gt;max)\n               {\n                max=intNumber;\n                //System.out.println(max);\n               }\n               }\n\n\n    }\n    System.out.println(max);\n    WritableWorkbook workbook = Workbook.createWorkbook(new File(\"sampletestfile.xls\"));\n    WritableSheet wSheet = workbook.getSheet(0);\n    int increment=max/3;\n    int a=increment;\n    int b=a+increment;\n    int c=b+increment;\n    for (int row = 0; row &lt; totalNoOfRows-1; row++)\n    {   \n               if(!(numbusarray.get(row)).isEmpty())\n               {\n               int compare=Integer.parseInt(numbusarray.get(row));\n               if(compare&lt;=a)\n               {Label label= new Label(0, row, \"Low\");//column,row,strngdata\n               wSheet.addCell(label);}\n               else if((compare&gt;a)&amp;&amp;(compare&lt;=b))\n               {Label label= new Label(0, row, \"Medium\");//column,row,strngdata\n               wSheet.addCell(label);}\n               else\n               {Label label= new Label(0, row, \"High\");//column,row,strngdata\n               wSheet.addCell(label);}\n               }\n    }              \n /*Iterator itr=numbusarray.iterator(); //to print arraylist demo \n    while(itr.hasNext()){  \n        System.out.println(itr.next());  \n    }*/\n    }//end of method to read contents from excel   \n    //to close file\n    public static void closeFile()\n    {\n        try {\n            // Closing the writable work book\n            workbook.write();\n            workbook.close();\n\n            // Closing the original work book\n        } catch (Exception e)\n\n        {\n            e.printStackTrace();\n        }\n    }\n\n\n    public static void main(String args[]) throws BiffException, IOException, WriteException  //main class\n    {\n        Bus3 DT = new Bus3();\n        DT.readExcel();\n        Bus3.closeFile();\n    }//end of main class\n\n}\n</code></pre>\n"},{"tags":["java","hibernate","hibernate-criteria"],"answers":[{"tags":[],"owner":{"account_id":3275313,"reputation":5882,"user_id":2757561,"accept_rate":71,"display_name":"cralfaro"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647447376,"creation_date":1647447376,"answer_id":71500603,"question_id":52611340,"body_markdown":"Its possible. You only need to do few small changes.\r\n\r\nExtends your Oracle dialog\r\n\r\n    public class Oracle10gCustomDialect extends Oracle10gDialect {\r\n\r\n    public Oracle10gCustomDialect() {\r\n        super();\r\n        registerFunction(&quot;regexp_like&quot;, new SQLFunctionTemplate(StandardBasicTypes.BOOLEAN,\r\n                &quot;(case when (regexp_like(?1, ?2)) then 1 else 0 end)&quot;));\r\n    }\r\n}\r\n\r\nThen use this path at your application.properties or hibernate properties config.\r\n\r\nThen in your specification, need to do something like this.\r\n\r\n    Expression&lt;Boolean&gt; regExprLike = criteriaBuilder.function(&quot;regexp_like&quot;, Boolean.class, root.get(&quot;yourColumn&quot;), criteriaBuilder.literal(&quot;&lt;your regexp value&gt;&quot;));\r\n    predicates.add(criteriaBuilder.isTrue(regExprLike));\r\n    ...\r\n\r\nAnd thats all!","title":"How to use CriteriaBuilder to call db function","body":"<p>Its possible. You only need to do few small changes.</p>\n<p>Extends your Oracle dialog</p>\n<pre><code>public class Oracle10gCustomDialect extends Oracle10gDialect {\n\npublic Oracle10gCustomDialect() {\n    super();\n    registerFunction(&quot;regexp_like&quot;, new SQLFunctionTemplate(StandardBasicTypes.BOOLEAN,\n            &quot;(case when (regexp_like(?1, ?2)) then 1 else 0 end)&quot;));\n}\n</code></pre>\n<p>}</p>\n<p>Then use this path at your application.properties or hibernate properties config.</p>\n<p>Then in your specification, need to do something like this.</p>\n<pre><code>Expression&lt;Boolean&gt; regExprLike = criteriaBuilder.function(&quot;regexp_like&quot;, Boolean.class, root.get(&quot;yourColumn&quot;), criteriaBuilder.literal(&quot;&lt;your regexp value&gt;&quot;));\npredicates.add(criteriaBuilder.isTrue(regExprLike));\n...\n</code></pre>\n<p>And thats all!</p>\n"}],"owner":{"account_id":2500549,"reputation":1337,"user_id":2175783,"accept_rate":50,"display_name":"user2175783"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1844,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":71500603,"answer_count":1,"score":5,"last_activity_date":1647447376,"creation_date":1538493344,"question_id":52611340,"body_markdown":"I have a string that might eventually contain spaces. I would like to replace those spaces with a regex that matches against \\t,\\r,\\n. After replacing I would like to call regexp_like (an oracle function) to match a field against this string.\r\n\r\nI know it is possible to call db functions using criteria builder as described for example in [this link][1]\r\n\r\nI am not very familiar with the difference between regex in java versus oracle or how to cobble this together (I have never called functions from criteriabuilder). Here are my tentative steps with places where I am stuck in the comments\r\n\r\n    // first replace all spaces with regex for \\s,\\r,\\t, value is the original string\r\n    value.replaceAll(&quot; +&quot;, &quot;[\\\\t\\\\n\\\\r]+&quot;)\r\n    // build the db function call expression, seems I cant do table.&lt;String&gt;get(field) and cant pass value as a string\r\n    Expression&lt;String&gt; regExp = cb.function(&quot;regexp_like&quot;, String.class, table.&lt;String&gt;get(field), value);\r\n    // now create a predicate not sure how\r\n    Predicate fieldMatch = cb.equal(...)\r\n    \t\t\t\r\nIs this possible?\r\n\r\n  [1]: https://stackoverflow.com/questions/24995881/use-regular-expressions-in-jpa-criteriabuilder\r\n","title":"How to use CriteriaBuilder to call db function","body":"<p>I have a string that might eventually contain spaces. I would like to replace those spaces with a regex that matches against \\t,\\r,\\n. After replacing I would like to call regexp_like (an oracle function) to match a field against this string.</p>\n\n<p>I know it is possible to call db functions using criteria builder as described for example in <a href=\"https://stackoverflow.com/questions/24995881/use-regular-expressions-in-jpa-criteriabuilder\">this link</a></p>\n\n<p>I am not very familiar with the difference between regex in java versus oracle or how to cobble this together (I have never called functions from criteriabuilder). Here are my tentative steps with places where I am stuck in the comments</p>\n\n<pre><code>// first replace all spaces with regex for \\s,\\r,\\t, value is the original string\nvalue.replaceAll(\" +\", \"[\\\\t\\\\n\\\\r]+\")\n// build the db function call expression, seems I cant do table.&lt;String&gt;get(field) and cant pass value as a string\nExpression&lt;String&gt; regExp = cb.function(\"regexp_like\", String.class, table.&lt;String&gt;get(field), value);\n// now create a predicate not sure how\nPredicate fieldMatch = cb.equal(...)\n</code></pre>\n\n<p>Is this possible?</p>\n"},{"tags":["java","swing","jtextpane","caret"],"answers":[{"tags":[],"owner":{"account_id":315342,"reputation":3265,"user_id":631004,"accept_rate":100,"display_name":"Tilo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1346574340,"creation_date":1346571577,"answer_id":12234203,"question_id":12234098,"body_markdown":"The &quot;text cursor&quot; is normally called &quot;caret&quot; in GUI libraries. Same in swing. You can use the method `setCaret` to change it. To change the appearance, inherit from `javax.swing.text.DefaultCaret` and override method `paint`.","title":"Change Text Cursor Size in JTextPane","body":"<p>The \"text cursor\" is normally called \"caret\" in GUI libraries. Same in swing. You can use the method <code>setCaret</code> to change it. To change the appearance, inherit from <code>javax.swing.text.DefaultCaret</code> and override method <code>paint</code>.</p>\n"},{"tags":[],"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1346593101,"creation_date":1346593101,"answer_id":12236382,"question_id":12234098,"body_markdown":"See here http://java-sl.com/tip_overwrite_mode.html how to change caret shape.\r\n\r\nAlternatively yu can override modelToView method to correct returned rectangle&#39;s shape (height).","title":"Change Text Cursor Size in JTextPane","body":"<p>See here <a href=\"http://java-sl.com/tip_overwrite_mode.html\" rel=\"nofollow\">http://java-sl.com/tip_overwrite_mode.html</a> how to change caret shape.</p>\n\n<p>Alternatively yu can override modelToView method to correct returned rectangle's shape (height).</p>\n"}],"owner":{"account_id":1803919,"reputation":55,"user_id":1641488,"display_name":"Peter Mauldin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2031,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":12236382,"answer_count":2,"score":4,"last_activity_date":1647447194,"creation_date":1346570311,"question_id":12234098,"body_markdown":"I&#39;m making a simple text editor, and I have a JTextPane and changed the spacing to 1.5f. The only problem is that the &quot;Text Cursor&quot; spans all the pixels from the current line to the next one, regardless of font size. Here&#39;s an example:\r\n\r\n![Large Cursor][1]\r\n\r\nIs  there anyway I can make the text cursor size automatically adjust to the text size?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/RTIb1.png","title":"Change Text Cursor Size in JTextPane","body":"<p>I'm making a simple text editor, and I have a JTextPane and changed the spacing to 1.5f. The only problem is that the \"Text Cursor\" spans all the pixels from the current line to the next one, regardless of font size. Here's an example:</p>\n\n<p><img src=\"https://i.stack.imgur.com/RTIb1.png\" alt=\"Large Cursor\"></p>\n\n<p>Is  there anyway I can make the text cursor size automatically adjust to the text size?</p>\n"},{"tags":["java","arraylist","hashmap"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647447151,"creation_date":1647447151,"answer_id":71500543,"question_id":71500450,"body_markdown":"You probably don&#39;t want `getOrDefault`, because that doesn&#39;t add the new list. What you probably want is `computeIfAbsent`. You provide it with a function that takes the key as argument and returns a value if none exists yet. If there already is a value, that is returned and the function is ignored. You can also use that in the code you provided to make it all less verbose:\r\n\r\n    // Ingoing edges\r\n    ArrayList&lt;Edge&gt; inEdges = inGoingEdges.computeIfAbsent(newEdge.destinationnode, k -&gt; new ArrayList&lt;&gt;());\r\n\r\n    // inEdges will never be null\r\n    if (!inEdges.contains(newEdge)) {\r\n        inEdges.add(newEdge);\r\n        inGoingEdges.put(newEdge.sourcenode, inEdges);\r\n    }","title":"getOrDefault for Hashmap with ArrayList","body":"<p>You probably don't want <code>getOrDefault</code>, because that doesn't add the new list. What you probably want is <code>computeIfAbsent</code>. You provide it with a function that takes the key as argument and returns a value if none exists yet. If there already is a value, that is returned and the function is ignored. You can also use that in the code you provided to make it all less verbose:</p>\n<pre><code>// Ingoing edges\nArrayList&lt;Edge&gt; inEdges = inGoingEdges.computeIfAbsent(newEdge.destinationnode, k -&gt; new ArrayList&lt;&gt;());\n\n// inEdges will never be null\nif (!inEdges.contains(newEdge)) {\n    inEdges.add(newEdge);\n    inGoingEdges.put(newEdge.sourcenode, inEdges);\n}\n</code></pre>\n"}],"owner":{"account_id":15793955,"reputation":3,"user_id":11396410,"display_name":"Γιάννης Κεσσόπουλος"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":700,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1647447151,"creation_date":1647446788,"question_id":71500450,"body_markdown":"i&#39;m using this code to compute the in going edges of a node in a graph\r\n\r\n    for (Edge newEdge : edges) {\r\n\t\t\t// Ingoing edges\r\n\r\n\t\t\tif (inGoingEdges.containsKey(newEdge.destinationnode)) {\r\n\r\n\t\t\t\t//System.out.println(&quot;All good&quot;);\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tinGoingEdges.put(newEdge.destinationnode, new ArrayList&lt;Edge&gt;());\r\n\r\n\t\t\t}\r\n\r\n\t\t\tArrayList&lt;Edge&gt; inEdges = inGoingEdges.get(newEdge.destinationnode);\r\n\r\n\t\t\tif (inEdges == null) {\r\n\r\n\t\t\t\tinEdges = new ArrayList&lt;Edge&gt;();\r\n\t\t\t\tinEdges.add(newEdge);\r\n\t\t\t\tinGoingEdges.put(newEdge.sourcenode, inEdges);\r\n\r\n\t\t\t}\r\n\r\n\t\t\telse {\r\n\r\n\t\t\t\tif (!inEdges.contains(newEdge)) {\r\n\r\n\t\t\t\t\tinEdges.add(newEdge);\r\n\t\t\t\t\tinGoingEdges.put(newEdge.sourcenode, inEdges);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\nwhere inGoingEdges is the following HashMap :\t\r\n\r\n    private HashMap&lt;Node,ArrayList&lt;Edge&gt;&gt; inGoingEdges = new HashMap&lt;Node,ArrayList&lt;Edge&gt;&gt;();\r\n\r\nAt some point of my code i use the following function :  **graph.getIncomingEdges(firstNode)** but for some nodes there is no ArrayList that matches to some nodes and it returns a nullpoint error.\r\n\r\nHow can i use the getorDefault function correctly in order to fix the error ?\r\n\r\n\r\n","title":"getOrDefault for Hashmap with ArrayList","body":"<p>i'm using this code to compute the in going edges of a node in a graph</p>\n<pre><code>for (Edge newEdge : edges) {\n        // Ingoing edges\n\n        if (inGoingEdges.containsKey(newEdge.destinationnode)) {\n\n            //System.out.println(&quot;All good&quot;);\n\n        } else {\n\n            inGoingEdges.put(newEdge.destinationnode, new ArrayList&lt;Edge&gt;());\n\n        }\n\n        ArrayList&lt;Edge&gt; inEdges = inGoingEdges.get(newEdge.destinationnode);\n\n        if (inEdges == null) {\n\n            inEdges = new ArrayList&lt;Edge&gt;();\n            inEdges.add(newEdge);\n            inGoingEdges.put(newEdge.sourcenode, inEdges);\n\n        }\n\n        else {\n\n            if (!inEdges.contains(newEdge)) {\n\n                inEdges.add(newEdge);\n                inGoingEdges.put(newEdge.sourcenode, inEdges);\n\n            }\n\n        }\n</code></pre>\n<p>where inGoingEdges is the following HashMap :</p>\n<pre><code>private HashMap&lt;Node,ArrayList&lt;Edge&gt;&gt; inGoingEdges = new HashMap&lt;Node,ArrayList&lt;Edge&gt;&gt;();\n</code></pre>\n<p>At some point of my code i use the following function :  <strong>graph.getIncomingEdges(firstNode)</strong> but for some nodes there is no ArrayList that matches to some nodes and it returns a nullpoint error.</p>\n<p>How can i use the getorDefault function correctly in order to fix the error ?</p>\n"},{"tags":["java","reflection"],"answers":[{"tags":[],"owner":{"account_id":17998995,"reputation":138,"user_id":13081330,"display_name":"Graou"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647446830,"creation_date":1647446830,"answer_id":71500456,"question_id":71500084,"body_markdown":"If I understand the question correctly, it sounds like what you&#39;re looking for is:\r\n\r\n    String name = a.getClass().getName();\r\n    // Or\r\n    String simpleName = a.getClass().getSimpleName();\r\n\r\nIf the class of object &#171;a&#187; is an instance of B then getSimpleName() will return &quot;B&quot;. It return &quot;C&quot; if &#171;a&#187; is an instance of C and so on.","title":"How to Get Child Class Name of a Parent Interface in Java","body":"<p>If I understand the question correctly, it sounds like what you're looking for is:</p>\n<pre><code>String name = a.getClass().getName();\n// Or\nString simpleName = a.getClass().getSimpleName();\n</code></pre>\n<p>If the class of object «a» is an instance of B then getSimpleName() will return &quot;B&quot;. It return &quot;C&quot; if «a» is an instance of C and so on.</p>\n"},{"tags":[],"owner":{"account_id":13888562,"reputation":1,"user_id":10027117,"display_name":"Ishu jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647446898,"creation_date":1647446898,"answer_id":71500478,"question_id":71500084,"body_markdown":"This will work. \r\n\r\n    interface A {\r\n    }\r\n    class B implements A {\r\n    }\r\n    \r\n    class C implements A {\r\n    }\r\n    class Test {\r\n    \tpublic static void main (String[] args) {\r\n    \t\tA a = new C();\r\n    \t\tSystem.out.println(a.getClass().getName());\r\n    \t}\r\n    }","title":"How to Get Child Class Name of a Parent Interface in Java","body":"<p>This will work.</p>\n<pre><code>interface A {\n}\nclass B implements A {\n}\n\nclass C implements A {\n}\nclass Test {\n    public static void main (String[] args) {\n        A a = new C();\n        System.out.println(a.getClass().getName());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23568911,"reputation":29,"user_id":17609291,"display_name":"Chronuak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":932,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71500456,"answer_count":2,"score":0,"last_activity_date":1647446898,"creation_date":1647445501,"question_id":71500084,"body_markdown":"I want to get the child class name which is implemented by an interface.\r\nFor example\r\n\r\n    public interface A\r\n    public class B implements A\r\n    public class C implements A\r\n    ...\r\nIn my code I have declared the interface A and have set the value to one of these classes. So what I have is this:\r\n\r\n    A a = object.getA();\r\n\r\nNow I want to get the current child class name, so B, C or whatever, but I don&#39;t want to do it with instanceof because I have many child classes which makes the code unnessesary long.\r\nI am basically looking for this but getChild() doesn&#39;t exist of course.\r\n\r\n    a.getChild().getClass().getName()\r\nThanks in advance!\r\n","title":"How to Get Child Class Name of a Parent Interface in Java","body":"<p>I want to get the child class name which is implemented by an interface.\nFor example</p>\n<pre><code>public interface A\npublic class B implements A\npublic class C implements A\n...\n</code></pre>\n<p>In my code I have declared the interface A and have set the value to one of these classes. So what I have is this:</p>\n<pre><code>A a = object.getA();\n</code></pre>\n<p>Now I want to get the current child class name, so B, C or whatever, but I don't want to do it with instanceof because I have many child classes which makes the code unnessesary long.\nI am basically looking for this but getChild() doesn't exist of course.</p>\n<pre><code>a.getChild().getClass().getName()\n</code></pre>\n<p>Thanks in advance!</p>\n"},{"tags":["java","date","parsing","iso8601"],"comments":[{"owner":{"account_id":6737779,"reputation":3295,"user_id":5191913,"accept_rate":67,"display_name":"Savior"},"score":0,"creation_date":1647436538,"post_id":71497315,"comment_id":126370213,"body_markdown":"Please describe &quot;the problem lies [...]&quot;. What problem? What do you see when you try to parse that String with the format you have above? It parses fine for me: https://ideone.com/Iam9Pt","body":"Please describe &quot;the problem lies [...]&quot;. What problem? What do you see when you try to parse that String with the format you have above? It parses fine for me: <a href=\"https://ideone.com/Iam9Pt\" rel=\"nofollow noreferrer\">ideone.com/Iam9Pt</a>"},{"owner":{"account_id":345995,"reputation":6762,"user_id":679240,"accept_rate":61,"display_name":"Haroldo_OK"},"score":0,"creation_date":1647436751,"post_id":71497315,"comment_id":126370297,"body_markdown":"Added the exception to the description.","body":"Added the exception to the description."},{"owner":{"account_id":6737779,"reputation":3295,"user_id":5191913,"accept_rate":67,"display_name":"Savior"},"score":0,"creation_date":1647436812,"post_id":71497315,"comment_id":126370320,"body_markdown":"Please post a [MCVE]. I can&#39;t repro that.","body":"Please post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. I can&#39;t repro that."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1647436860,"post_id":71497315,"comment_id":126370341,"body_markdown":"`new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;).parse(&quot;2022-03-16T09:18:31.9Z&quot;)` works for me using Java 17; it does **not** work with Java 8","body":"<code>new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;).parse(&quot;2022&zwnj;&#8203;-03-16T09:18:31.9Z&quot;)</code> works for me using Java 17; it does <b>not</b> work with Java 8"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1647437199,"post_id":71497315,"comment_id":126370479,"body_markdown":"@user16320675 From `new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;).parse(&quot;2022-03-16T09:18:31.9Z&quot;).getTime()` I expect 1647422311900 but get 1647422311009 (using Java 11).","body":"@user16320675 From <code>new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;).parse(&quot;2022&zwnj;&#8203;-03-16T09:18:31.9Z&quot;)&zwnj;&#8203;.getTime()</code> I expect 1647422311900 but get 1647422311009 (using Java 11)."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1647437334,"post_id":71497315,"comment_id":126370541,"body_markdown":"`SimpleDateFormat` (when before Java 8 it was reasonable to use it) never supported one or two digits of fraction of second, only three decimals. Related: [SimpleDateFormat showing incorrect milliseconds with &quot;S&quot; format, but not with &quot;SSS&quot;](https://stackoverflow.com/questions/67535630/simpledateformat-showing-incorrect-milliseconds-with-s-format-but-not-with-s).","body":"<code>SimpleDateFormat</code> (when before Java 8 it was reasonable to use it) never supported one or two digits of fraction of second, only three decimals. Related: <a href=\"https://stackoverflow.com/questions/67535630/simpledateformat-showing-incorrect-milliseconds-with-s-format-but-not-with-s\">SimpleDateFormat showing incorrect milliseconds with &quot;S&quot; format, but not with &quot;SSS&quot;</a>."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1647437363,"post_id":71497315,"comment_id":126370550,"body_markdown":"note: &quot;works for me&quot; on last comment should only be interpreted as &quot;does not throw an Exception&quot; - I have not checked the result nor do I *recommend* the use of `SimpleDateFormat` - it was just a complement to first [comment](https://stackoverflow.com/questions/71497315/simpledateformat-iso-having-problems-parsing-the-milliseconds-if-they-have-less#comment126370213_71497315) on this question (with link to IDEone)","body":"note: &quot;works for me&quot; on last comment should only be interpreted as &quot;does not throw an Exception&quot; - I have not checked the result nor do I <i>recommend</i> the use of <code>SimpleDateFormat</code> - it was just a complement to first <a href=\"https://stackoverflow.com/questions/71497315/simpledateformat-iso-having-problems-parsing-the-milliseconds-if-they-have-less#comment126370213_71497315\">comment</a> on this question (with link to IDEone)"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1647446744,"creation_date":1647435409,"answer_id":71497501,"question_id":71497315,"body_markdown":"Here is one way.\r\n- Note the Z stands for Zulu.\r\n- And also remember that Date does not store any time zone information.\r\n- If necessary, you can modify the ZonedDateTime instance before converting to Date.\r\n```\r\nInstant d = Instant.parse(&quot;2022-03-16T09:18:31.9Z&quot;);\r\nDate date = Date.from(d);\r\nSystem.out.println(d);\r\nSystem.out.println(date);\r\n```\r\nprints\r\n```\r\n2022-03-16T09:18:31.900Z\r\nWed Mar 16 05:18:31 EDT 2022\r\n```\r\nI would recommend that you try to convert to using the classes in the [java.time](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/time/package-summary.html) package as they are quite superior to Date.\r\n","title":"SimpleDateFormat ISO having problems parsing the milliseconds if they have less than 3 digits","body":"<p>Here is one way.</p>\n<ul>\n<li>Note the Z stands for Zulu.</li>\n<li>And also remember that Date does not store any time zone information.</li>\n<li>If necessary, you can modify the ZonedDateTime instance before converting to Date.</li>\n</ul>\n<pre><code>Instant d = Instant.parse(&quot;2022-03-16T09:18:31.9Z&quot;);\nDate date = Date.from(d);\nSystem.out.println(d);\nSystem.out.println(date);\n</code></pre>\n<p>prints</p>\n<pre><code>2022-03-16T09:18:31.900Z\nWed Mar 16 05:18:31 EDT 2022\n</code></pre>\n<p>I would recommend that you try to convert to using the classes in the <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> package as they are quite superior to Date.</p>\n"}],"owner":{"account_id":345995,"reputation":6762,"user_id":679240,"accept_rate":61,"display_name":"Haroldo_OK"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1647448189,"accepted_answer_id":71497501,"answer_count":1,"score":1,"last_activity_date":1647446744,"creation_date":1647434656,"question_id":71497315,"body_markdown":"I&#39;m trying to parse an String into a `java.util.Date`.\r\n\r\nCurrently, I&#39;m using `SimpleDateFormat`, with the `&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;` format String, and it works pretty well most of the time; for example, those work okay:\r\n\r\n* `&quot;2022-03-16T12:09:56.267Z&quot;`\r\n* `&quot;2022-03-16T12:11:55.017+03:00&quot;`\r\n\r\nThe problem lies with perfectly valid ISO strings that happen to use less than three digits for the miliseconds:\r\n\r\n* `&quot;2022-03-16T09:18:31.9Z&quot;`\r\n\r\nIt throws this exception: `java.text.ParseException: Unparseable date: &quot;2022-03-16T09:18:31.9Z&quot;`.\r\n\r\nIs there a way to handle those? Please, do keep in mind that I need to return a `java.util.Date`, but using `SimpleDateFormat` is optional.\r\n\r\nI&#39;m using Java 8.","title":"SimpleDateFormat ISO having problems parsing the milliseconds if they have less than 3 digits","body":"<p>I'm trying to parse an String into a <code>java.util.Date</code>.</p>\n<p>Currently, I'm using <code>SimpleDateFormat</code>, with the <code>&quot;yyyy-MM-dd'T'HH:mm:ss.SSSXXX&quot;</code> format String, and it works pretty well most of the time; for example, those work okay:</p>\n<ul>\n<li><code>&quot;2022-03-16T12:09:56.267Z&quot;</code></li>\n<li><code>&quot;2022-03-16T12:11:55.017+03:00&quot;</code></li>\n</ul>\n<p>The problem lies with perfectly valid ISO strings that happen to use less than three digits for the miliseconds:</p>\n<ul>\n<li><code>&quot;2022-03-16T09:18:31.9Z&quot;</code></li>\n</ul>\n<p>It throws this exception: <code>java.text.ParseException: Unparseable date: &quot;2022-03-16T09:18:31.9Z&quot;</code>.</p>\n<p>Is there a way to handle those? Please, do keep in mind that I need to return a <code>java.util.Date</code>, but using <code>SimpleDateFormat</code> is optional.</p>\n<p>I'm using Java 8.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1647434387,"post_id":71497102,"comment_id":126369319,"body_markdown":"Debugging hint: when a string isnt &quot;equal&quot; to your expecation, then consider to do a `System.out.println(&quot;got: &lt;&quot; + tipA +&quot;&gt;&quot;)` for example.","body":"Debugging hint: when a string isnt &quot;equal&quot; to your expecation, then consider to do a <code>System.out.println(&quot;got: &lt;&quot; + tipA +&quot;&gt;&quot;)</code> for example."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647446358,"creation_date":1647434688,"answer_id":71497326,"question_id":71497102,"body_markdown":"It sounds like your problem is confusion about what `nextLine` does. It doesn&#39;t do what 99% of java programmers (and most tutorials) think it does. It&#39;s not a bug - it does exactly what the javadoc says, but, it&#39;s not what you&#39;d expect.\r\n\r\nSee [This answer](https://stackoverflow.com/questions/71491263/this-code-loops-a-string-twice-with-the-nextline-method-but-only-once-with-the/71491368#71491368) that explains precisely what to do. Boils down to:\r\n\r\n```\r\npublic static void tip() {\r\n      Scanner scan = new Scanner(System.in);\r\n      scan.useDelimiter(&quot;\\\\R&quot;);\r\n      System.out.println(&quot;Would you like to hear a tip? (y/n)&quot;);\r\n      String tipA = scan.next();\r\n      if (tipA.equals(&quot;y&quot;)) {\r\n         System.out.println(&quot;blahblahblah&quot;);\r\n      }\r\n\r\n```\r\n\r\nGenerally you&#39;d want to make a scanner exactly once (in your `main` method perhaps), create a new instance of your Main class, set up the `Scanner` as a field of it, and then reuse it in all your methods. This saves typing, is easier to test, more flexible, etc:\r\n\r\n```java\r\npublic class ExampleMain {\r\n  public static void main(String[] args) {\r\n    Scanner s = new Scanner(System.in);\r\n    s.useDelimiter(&quot;\\\\R&quot;);\r\n    ExampleMain app = new ExampleMain();\r\n    app.scanner = s;\r\n    app.go();\r\n  }\r\n\r\n  private Scanner scanner;\r\n  private boolean running;\r\n\r\n  void go() {\r\n    running = true;\r\n    while (running) {\r\n      tip();\r\n      // whatever other commands and such you&#39;d like go here\r\n    }\r\n  }\r\n\r\n  void tip() {\r\n    System.out.println(&quot;Would you like to....&quot;);\r\n  }\r\n}\r\n```\r\n\r\nThis also lets you do things like write a method that repeatedly asks for a specific kind of input (say, an integer between 1 and 9, as you&#39;re showing a menu with 9 options), and, using a `while` loop, keep asking if the user fails to enter appropriate responses. Otherwise you have to copy/paste a ton of code which is naturally not how you should be programming.\r\n","title":"Why do I get &#39;Bash (input): command not found&#39; error when using a string for the input, but when I change that part of the code to integers, it works?","body":"<p>It sounds like your problem is confusion about what <code>nextLine</code> does. It doesn't do what 99% of java programmers (and most tutorials) think it does. It's not a bug - it does exactly what the javadoc says, but, it's not what you'd expect.</p>\n<p>See <a href=\"https://stackoverflow.com/questions/71491263/this-code-loops-a-string-twice-with-the-nextline-method-but-only-once-with-the/71491368#71491368\">This answer</a> that explains precisely what to do. Boils down to:</p>\n<pre><code>public static void tip() {\n      Scanner scan = new Scanner(System.in);\n      scan.useDelimiter(&quot;\\\\R&quot;);\n      System.out.println(&quot;Would you like to hear a tip? (y/n)&quot;);\n      String tipA = scan.next();\n      if (tipA.equals(&quot;y&quot;)) {\n         System.out.println(&quot;blahblahblah&quot;);\n      }\n\n</code></pre>\n<p>Generally you'd want to make a scanner exactly once (in your <code>main</code> method perhaps), create a new instance of your Main class, set up the <code>Scanner</code> as a field of it, and then reuse it in all your methods. This saves typing, is easier to test, more flexible, etc:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ExampleMain {\n  public static void main(String[] args) {\n    Scanner s = new Scanner(System.in);\n    s.useDelimiter(&quot;\\\\R&quot;);\n    ExampleMain app = new ExampleMain();\n    app.scanner = s;\n    app.go();\n  }\n\n  private Scanner scanner;\n  private boolean running;\n\n  void go() {\n    running = true;\n    while (running) {\n      tip();\n      // whatever other commands and such you'd like go here\n    }\n  }\n\n  void tip() {\n    System.out.println(&quot;Would you like to....&quot;);\n  }\n}\n</code></pre>\n<p>This also lets you do things like write a method that repeatedly asks for a specific kind of input (say, an integer between 1 and 9, as you're showing a menu with 9 options), and, using a <code>while</code> loop, keep asking if the user fails to enter appropriate responses. Otherwise you have to copy/paste a ton of code which is naturally not how you should be programming.</p>\n"}],"owner":{"account_id":24515879,"reputation":3,"user_id":18429639,"display_name":"voyhager3"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":289,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71497326,"answer_count":1,"score":-1,"last_activity_date":1647446358,"creation_date":1647433716,"question_id":71497102,"body_markdown":"I have this program that I&#39;m writing that mainly runs similar to a simple choose your own adventure game. It&#39;s a trouble shooting guide for rocketry, that mainly for personal use. It has simple value inputs, y/n, a,b,c,d, and so on. After a few different segments I decided to ask the user (incase I give it to friends or something) if they would like to hear a tip, if they said yes, the tip would be printed out, if not, the program would continue running. When I tested it, i got the error message: &#39;bash y: command not found&#39;.\r\n\r\nAll of the syntax is correct (that was the best answer I could find to try to correct the problem, didn&#39;t apply), and I don&#39;t know what bash is, and I&#39;m using replit, incase that matters.\r\nI get this error in two different areas, but here is an example of one:\r\n```\r\n//problem code\r\nclass A{\r\n   public static void tip(){\r\n      Scanner scan = new Scanner(System.in);\r\n      System.out.println(&quot;Would you like to hear a tip? (y/n)&quot;);\r\n      String tipA = scan.nextLine();\r\n      if (tipA.equals(&quot;y&quot;)){\r\n         System.out.println(&quot;blahblahblah&quot;);\r\n      }\r\n   }\r\n}\r\n//there was a typo in this post but not in the actual code, wish it was the actual problem, thanks for pointing it out\r\n```\r\n\r\nThen I changed it to this:\r\n```\r\n//the &#39;fixed&#39; code\r\nclass A{\r\n   public static void tip(){\r\n      Scanner scan = new Scanner(System.in);\r\n      System.out.println(&quot;Would you like to hear a tip? (y(1)/n(2))&quot;);\r\n      int tipA = scan.nextInt();\r\n      if (tipA == 1){\r\n         System.out.println(&quot;blahblahblah&quot;);\r\n      }\r\n   }\r\n}\r\n```\r\nIt works, but as you can see in the &#39;fixed&#39; code, the y/n doesn&#39;t look as nice, and I am also curious as to why, because I could not find any answers pertaining to this scenario.\r\nThe other area is similar, but instead of &quot;y/n&quot;, it is &#39;A, B, C, D&#39; choices.\r\nI have my current workaround, but it would be nice to have a solution to polish the program a bit.\r\n\r\nAny help is much appreciated.\r\n","title":"Why do I get &#39;Bash (input): command not found&#39; error when using a string for the input, but when I change that part of the code to integers, it works?","body":"<p>I have this program that I'm writing that mainly runs similar to a simple choose your own adventure game. It's a trouble shooting guide for rocketry, that mainly for personal use. It has simple value inputs, y/n, a,b,c,d, and so on. After a few different segments I decided to ask the user (incase I give it to friends or something) if they would like to hear a tip, if they said yes, the tip would be printed out, if not, the program would continue running. When I tested it, i got the error message: 'bash y: command not found'.</p>\n<p>All of the syntax is correct (that was the best answer I could find to try to correct the problem, didn't apply), and I don't know what bash is, and I'm using replit, incase that matters.\nI get this error in two different areas, but here is an example of one:</p>\n<pre><code>//problem code\nclass A{\n   public static void tip(){\n      Scanner scan = new Scanner(System.in);\n      System.out.println(&quot;Would you like to hear a tip? (y/n)&quot;);\n      String tipA = scan.nextLine();\n      if (tipA.equals(&quot;y&quot;)){\n         System.out.println(&quot;blahblahblah&quot;);\n      }\n   }\n}\n//there was a typo in this post but not in the actual code, wish it was the actual problem, thanks for pointing it out\n</code></pre>\n<p>Then I changed it to this:</p>\n<pre><code>//the 'fixed' code\nclass A{\n   public static void tip(){\n      Scanner scan = new Scanner(System.in);\n      System.out.println(&quot;Would you like to hear a tip? (y(1)/n(2))&quot;);\n      int tipA = scan.nextInt();\n      if (tipA == 1){\n         System.out.println(&quot;blahblahblah&quot;);\n      }\n   }\n}\n</code></pre>\n<p>It works, but as you can see in the 'fixed' code, the y/n doesn't look as nice, and I am also curious as to why, because I could not find any answers pertaining to this scenario.\nThe other area is similar, but instead of &quot;y/n&quot;, it is 'A, B, C, D' choices.\nI have my current workaround, but it would be nice to have a solution to polish the program a bit.</p>\n<p>Any help is much appreciated.</p>\n"},{"tags":["java","android","android-layout","android-service"],"comments":[{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1647445202,"post_id":71499912,"comment_id":126374083,"body_markdown":"How do you display the window can you show your code?","body":"How do you display the window can you show your code?"}],"answers":[{"tags":[],"owner":{"account_id":14888087,"reputation":333,"user_id":10750674,"display_name":"Graziano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647445963,"creation_date":1647445963,"answer_id":71500205,"question_id":71499912,"body_markdown":"You should use the following flags:\r\n```java\r\nyourLayout.setSystemUiVisibility(\r\n    View.SYSTEM_UI_FLAG_IMMERSIVE |\r\n    // Set the content to appear under the system bars so that the\r\n    // content doesn&#39;t resize when the system bars hide and show.\r\n    View.SYSTEM_UI_FLAG_LAYOUT_STABLE |\r\n    View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION |\r\n    View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN |\r\n    // Hide the nav bar and status bar\r\n    View.SYSTEM_UI_FLAG_HIDE_NAVIGATION |\r\n    View.SYSTEM_UI_FLAG_FULLSCREEN\r\n);\r\n```","title":"Hide statusbar when displaying a service view/window","body":"<p>You should use the following flags:</p>\n<pre class=\"lang-java prettyprint-override\"><code>yourLayout.setSystemUiVisibility(\n    View.SYSTEM_UI_FLAG_IMMERSIVE |\n    // Set the content to appear under the system bars so that the\n    // content doesn't resize when the system bars hide and show.\n    View.SYSTEM_UI_FLAG_LAYOUT_STABLE |\n    View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION |\n    View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN |\n    // Hide the nav bar and status bar\n    View.SYSTEM_UI_FLAG_HIDE_NAVIGATION |\n    View.SYSTEM_UI_FLAG_FULLSCREEN\n);\n</code></pre>\n"}],"owner":{"account_id":1312446,"reputation":915,"user_id":1262012,"accept_rate":65,"display_name":"Bialy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647445963,"creation_date":1647444803,"question_id":71499912,"body_markdown":"I have a foreground service that displays a window after a button press. Is there a way I can hide (or overly) the system status bar on the display of the service window? Are there any flags that I can use? I tried searching everywhere with no luck.","title":"Hide statusbar when displaying a service view/window","body":"<p>I have a foreground service that displays a window after a button press. Is there a way I can hide (or overly) the system status bar on the display of the service window? Are there any flags that I can use? I tried searching everywhere with no luck.</p>\n"},{"tags":["java","position","caret"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1409616089,"post_id":25613876,"comment_id":40014490,"body_markdown":"I&#39;m not sure that this possible (certainly isn&#39;t from within Java, you will need some kind of JNA/JNI integration) from a native level","body":"I&#39;m not sure that this possible (certainly isn&#39;t from within Java, you will need some kind of JNA/JNI integration) from a native level"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1409616238,"post_id":25613876,"comment_id":40014514,"body_markdown":"Okay, apparently, under windows, you might...[GUITHREADINFO](http://msdn.microsoft.com/en-us/library/windows/desktop/ms632604(v=vs.85).aspx)","body":"Okay, apparently, under windows, you might...<a href=\"http://msdn.microsoft.com/en-us/library/windows/desktop/ms632604(v=vs.85).aspx\" rel=\"nofollow noreferrer\">GUITHREADINFO</a>"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1409616337,"post_id":25613876,"comment_id":40014531,"body_markdown":"And if you don&#39;t mind translating from C#, you could [look at this example](http://www.codeproject.com/Articles/34520/Getting-Caret-Position-Inside-Any-Application)","body":"And if you don&#39;t mind translating from C#, you could <a href=\"http://www.codeproject.com/Articles/34520/Getting-Caret-Position-Inside-Any-Application\" rel=\"nofollow noreferrer\">look at this example</a>"},{"owner":{"account_id":977948,"reputation":2634,"user_id":998415,"accept_rate":70,"display_name":"jjj"},"score":0,"creation_date":1409660211,"post_id":25613876,"comment_id":40030891,"body_markdown":"Thans MadProgrammer, I&#39;ll look into GUITHREADINFO, but I need my application to be compatible with other operating systems, not only Windows. \nDoes anyone know of any JNA/JNI integration?","body":"Thans MadProgrammer, I&#39;ll look into GUITHREADINFO, but I need my application to be compatible with other operating systems, not only Windows.  Does anyone know of any JNA/JNI integration?"}],"answers":[{"tags":[],"owner":{"account_id":4903342,"reputation":7,"user_id":3950829,"display_name":"theashman400"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1409630823,"creation_date":1409620577,"answer_id":25614578,"question_id":25613876,"body_markdown":"Basically use the .getMagicCaretPosition() function:\r\n\r\n    import java.awt.Dimension;\r\n    import java.awt.Point;\r\n\r\n    import javax.swing.*;\r\n    import javax.swing.event.ChangeEvent;\r\n    import javax.swing.event.ChangeListener;\r\n    import javax.swing.text.Caret;\r\n    public class CaretPos implements Runnable\r\n    {\r\n\t    JFrame frame;\r\n\t    JPanel panel;\r\n\t    JTextPane tPane;\r\n\t    Caret newCaret;\r\n\t    Point point;\r\n\r\n\t    @Override\r\n\t    public void run() {\r\n\t\t    frame = new JFrame(&quot;CaretPos&quot;);\r\n\t    \tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t    panel = new JPanel();\r\n    \t\ttPane = new JTextPane();\r\n\t    \tnewCaret = tPane.getCaret(); // you probably dont need to create another\r\n                                         // Caret, but i did anyway to add the listener\r\n    \t\tnewCaret.addChangeListener(new ChangeListener() {\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic void stateChanged(ChangeEvent e) {\r\n    \t\t\t\tpoint = newCaret.getMagicCaretPosition();\r\n    \t\t\t\tSystem.out.println(point);\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\ttPane.setCaret(newCaret);\r\n    \t\ttPane.setPreferredSize(new Dimension(500,500));\r\n    \t\tpanel.add(tPane);\r\n    \t\tframe.add(panel);\r\n    \t\tframe.pack();\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tCaretPos run = new CaretPos();\r\n    \t\tSwingUtilities.invokeLater(run);\r\n    \t}\r\n    \t\r\n    }\r\n\r\nI used a JTextPane, but im sure other swing components can be used\r\n\r\nEDIT: Sorry I totally misunderstood your question. I thought you wanted to find the caret\r\nposition in ANY of YOUR programs. My bad.","title":"How to get caret position inside any application using Java?","body":"<p>Basically use the .getMagicCaretPosition() function:</p>\n\n<pre><code>import java.awt.Dimension;\nimport java.awt.Point;\n\nimport javax.swing.*;\nimport javax.swing.event.ChangeEvent;\nimport javax.swing.event.ChangeListener;\nimport javax.swing.text.Caret;\npublic class CaretPos implements Runnable\n{\n    JFrame frame;\n    JPanel panel;\n    JTextPane tPane;\n    Caret newCaret;\n    Point point;\n\n    @Override\n    public void run() {\n        frame = new JFrame(\"CaretPos\");\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        panel = new JPanel();\n        tPane = new JTextPane();\n        newCaret = tPane.getCaret(); // you probably dont need to create another\n                                     // Caret, but i did anyway to add the listener\n        newCaret.addChangeListener(new ChangeListener() {\n\n            @Override\n            public void stateChanged(ChangeEvent e) {\n                point = newCaret.getMagicCaretPosition();\n                System.out.println(point);\n            }\n        });\n        tPane.setCaret(newCaret);\n        tPane.setPreferredSize(new Dimension(500,500));\n        panel.add(tPane);\n        frame.add(panel);\n        frame.pack();\n        frame.setVisible(true);\n    }\n\n    public static void main(String[] args)\n    {\n        CaretPos run = new CaretPos();\n        SwingUtilities.invokeLater(run);\n    }\n\n}\n</code></pre>\n\n<p>I used a JTextPane, but im sure other swing components can be used</p>\n\n<p>EDIT: Sorry I totally misunderstood your question. I thought you wanted to find the caret\nposition in ANY of YOUR programs. My bad.</p>\n"}],"owner":{"account_id":977948,"reputation":2634,"user_id":998415,"accept_rate":70,"display_name":"jjj"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":964,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1647445864,"creation_date":1409613330,"question_id":25613876,"body_markdown":"It seemed to be such a simple question, but after a long time researching the topic, I am still not able to find any answer to this.\r\nUsing Java, I want to display a small tooltip next to a caret (text cursor) position.\r\n\r\nI need to caret position inside any application.\r\nThat means if I open Word, Notepad, Chrome browser and I start typing I need to see X &amp; Y of the cursor.\r\n\r\nAny way to do this using Java?\r\nI&#39;ve seen implementations in C# on CodeProject, but I need to do this in java.","title":"How to get caret position inside any application using Java?","body":"<p>It seemed to be such a simple question, but after a long time researching the topic, I am still not able to find any answer to this.\nUsing Java, I want to display a small tooltip next to a caret (text cursor) position.</p>\n<p>I need to caret position inside any application.\nThat means if I open Word, Notepad, Chrome browser and I start typing I need to see X &amp; Y of the cursor.</p>\n<p>Any way to do this using Java?\nI've seen implementations in C# on CodeProject, but I need to do this in java.</p>\n"},{"tags":["java","unit-testing","mocking","mockito"],"comments":[{"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"score":0,"creation_date":1647456613,"post_id":71496994,"comment_id":126378766,"body_markdown":"I think this is fundamentally the same issue as in [this question](https://stackoverflow.com/q/49154772/1426891) and [answer](https://stackoverflow.com/a/49154894/1426891): in order to mock, Mockito is effectively compiling a subclass of C1 at test runtime, which (due to visibility) is inherently trickier than creating a class that implements an interface. If you agree, I&#39;ll close this question as a duplicate of that Q&amp;A.","body":"I think this is fundamentally the same issue as in <a href=\"https://stackoverflow.com/q/49154772/1426891\">this question</a> and <a href=\"https://stackoverflow.com/a/49154894/1426891\">answer</a>: in order to mock, Mockito is effectively compiling a subclass of C1 at test runtime, which (due to visibility) is inherently trickier than creating a class that implements an interface. If you agree, I&#39;ll close this question as a duplicate of that Q&amp;A."},{"owner":{"account_id":17064980,"reputation":11,"user_id":18482545,"display_name":"Funtime"},"score":0,"creation_date":1647461247,"post_id":71496994,"comment_id":126380248,"body_markdown":"Yes, agreed. Thanks for finding that.","body":"Yes, agreed. Thanks for finding that."}],"owner":{"account_id":17064980,"reputation":11,"user_id":18482545,"display_name":"Funtime"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1647461734,"answer_count":0,"score":1,"last_activity_date":1647445671,"creation_date":1647433305,"question_id":71496994,"body_markdown":"When mocking a concrete class, it appears that Mockito accesses the private member fields of the mocked class. On the project I&#39;m working upon we&#39;re actively limiting the transitivity of modules, and so if the type of the private member field is in another module which isn&#39;t visible at runtime, we get NoClassDefFoundError.\r\n\r\nFor example:\r\n    \r\n    /**\r\n     * In module M2\r\n     */\r\n    public class C2 {\r\n    }    \r\n\r\n    /**\r\n     * In module M1, module M2 is within compile scope.\r\n     */\r\n    public class C1 {\r\n      private C2;\r\n\r\n      public String hello() {\r\n        return &quot;hi&quot;;\r\n      }\r\n    }\r\n\r\n    \r\n    /**\r\n     * Module M1 is in compile scope, M2 not visible.\r\n     */\r\n    @Test\r\n    public void test() {\r\n      C1 instance = org.mockito.Mockito.mock(C1.class);\r\n    }\r\n\r\nRunning the above will result in:\r\n   \r\n\r\n    Underlying exception : java.lang.TypeNotPresentException: Type C2 not present\r\n\r\nOf course, if the interface I1 for C1 is extracted and mocked by the test, then all is well because I1 has no reference to C2.\r\n\r\nClearly there are ways around this (extracting an interface, add explicit link to module M2), but each of these approaches will require quite a lot of work. Questions are:\r\n\r\n 1. Why does Mockito to see things it shouldn&#39;t care about? \r\n 2. Is it possible / viable to stop Mockito requiring the type of\r\n    private member fields to be available at runtime?\r\n\r\n","title":"Why does Mockito require private fields of mocked classes to be on the test runtime?","body":"<p>When mocking a concrete class, it appears that Mockito accesses the private member fields of the mocked class. On the project I'm working upon we're actively limiting the transitivity of modules, and so if the type of the private member field is in another module which isn't visible at runtime, we get NoClassDefFoundError.</p>\n<p>For example:</p>\n<pre><code>/**\n * In module M2\n */\npublic class C2 {\n}    \n\n/**\n * In module M1, module M2 is within compile scope.\n */\npublic class C1 {\n  private C2;\n\n  public String hello() {\n    return &quot;hi&quot;;\n  }\n}\n\n\n/**\n * Module M1 is in compile scope, M2 not visible.\n */\n@Test\npublic void test() {\n  C1 instance = org.mockito.Mockito.mock(C1.class);\n}\n</code></pre>\n<p>Running the above will result in:</p>\n<pre><code>Underlying exception : java.lang.TypeNotPresentException: Type C2 not present\n</code></pre>\n<p>Of course, if the interface I1 for C1 is extracted and mocked by the test, then all is well because I1 has no reference to C2.</p>\n<p>Clearly there are ways around this (extracting an interface, add explicit link to module M2), but each of these approaches will require quite a lot of work. Questions are:</p>\n<ol>\n<li>Why does Mockito to see things it shouldn't care about?</li>\n<li>Is it possible / viable to stop Mockito requiring the type of\nprivate member fields to be available at runtime?</li>\n</ol>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1647172969,"post_id":71455373,"comment_id":126299612,"body_markdown":"&quot;Getting the result&quot; -- you failed to explain what your results are. FWIW, [this sample Kotlin project](https://gitlab.com/commonsguy/cw-android-q/-/tree/vFINAL/AppInstaller), profiled in [this free book](https://commonsware.com/Q), demonstrates the use of `PackageInstaller`.","body":"&quot;Getting the result&quot; -- you failed to explain what your results are. FWIW, <a href=\"https://gitlab.com/commonsguy/cw-android-q/-/tree/vFINAL/AppInstaller\" rel=\"nofollow noreferrer\">this sample Kotlin project</a>, profiled in <a href=\"https://commonsware.com/Q\" rel=\"nofollow noreferrer\">this free book</a>, demonstrates the use of <code>PackageInstaller</code>."},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1647173577,"post_id":71455373,"comment_id":126299762,"body_markdown":"While the sample is in Kotiln, at least [the relevant book chapter is in English](https://commonsware.com/Q/pages/chap-pkg-001.html), and perhaps it will give you some ideas.","body":"While the sample is in Kotiln, at least <a href=\"https://commonsware.com/Q/pages/chap-pkg-001.html\" rel=\"nofollow noreferrer\">the relevant book chapter is in English</a>, and perhaps it will give you some ideas."},{"owner":{"account_id":24064338,"reputation":46,"user_id":18041142,"display_name":"Patsore"},"score":0,"creation_date":1647445482,"post_id":71455373,"comment_id":126374215,"body_markdown":"@CommonsWare thank you for the code sample. It appears that the reason my solution in the question didn&#39;t work was because of the emulator, rather than the code. It started working when I used one with google services installed, it looks like that&#39;s a requirement, even though it&#39;s not stated anywhere.","body":"@CommonsWare thank you for the code sample. It appears that the reason my solution in the question didn&#39;t work was because of the emulator, rather than the code. It started working when I used one with google services installed, it looks like that&#39;s a requirement, even though it&#39;s not stated anywhere."}],"answers":[{"tags":[],"owner":{"account_id":24064338,"reputation":46,"user_id":18041142,"display_name":"Patsore"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647445615,"creation_date":1647445615,"answer_id":71500107,"question_id":71455373,"body_markdown":"It looks like the issue was in the fact that my emulator didn&#39;t have gapps installed, which is, even though not stated anywhere, apparently a dependency for this kind of action. Although I would recommend the chapters that CommonsWare brought up in his comment, as they were much more comprehensive than the scarce documentation.","title":"Issue installing .apk with PackageInstaller","body":"<p>It looks like the issue was in the fact that my emulator didn't have gapps installed, which is, even though not stated anywhere, apparently a dependency for this kind of action. Although I would recommend the chapters that CommonsWare brought up in his comment, as they were much more comprehensive than the scarce documentation.</p>\n"}],"owner":{"account_id":24064338,"reputation":46,"user_id":18041142,"display_name":"Patsore"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":825,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71500107,"answer_count":1,"score":1,"last_activity_date":1647445615,"creation_date":1647163112,"question_id":71455373,"body_markdown":"My goal is to install an .apk file that&#39;s stored on the device. I tried using ACTION_VIEW intent, but it&#39;s deprecated as of Android 10, I believe.\r\n\r\nI&#39;ve already scoured half the web, but most answers are either using the deprecated intents, kotlin or just don&#39;t work.\r\n\r\nHere&#39;s my code\r\n\r\n```Java\r\n private void installApk() throws IOException {\r\n        if (!requireContext().getPackageManager().canRequestPackageInstalls()) {\r\n            startActivity(new Intent(\r\n                    Settings.ACTION_MANAGE_UNKNOWN_APP_SOURCES,\r\n                    Uri.parse(&quot;package:&quot; + requireContext().getPackageName())));\r\n        } else {\r\n\r\n//            Log.d(TAG, &quot;File Exists?: &quot; + outputFile.exists() + &quot; ; &quot; + outputFile.getAbsolutePath() + &quot; ; &quot; + &quot;can read?&quot; + outputFile.canRead() + &quot; ; &quot; + &quot;can write?&quot; + outputFile.canWrite());\r\n            PackageInstaller packageInstaller = requireContext().getPackageManager().getPackageInstaller();\r\n            PackageInstaller.SessionParams params = new PackageInstaller.SessionParams(PackageInstaller\r\n                    .SessionParams.MODE_FULL_INSTALL);\r\n            int sessionId = packageInstaller.createSession(params);\r\n            PackageInstaller.Session session = packageInstaller.openSession(sessionId);\r\n\r\n                addApkToInstallSession(session);\r\n\r\n                Intent callbackIntent = new Intent(requireContext(), APKInstallService.class);\r\n\r\n                PendingIntent pendingIntent = PendingIntent.getService(requireContext(), 0, callbackIntent, 0);\r\n                // This is sending the result of the installation to the APKInstallService.\r\n                IntentSender statusReceiver = pendingIntent.getIntentSender();\r\n                session.commit(statusReceiver);\r\n\r\n\r\n        }\r\n    }\r\n```\r\nThis is the method I call in my onClickListener\r\n\r\n```\r\n  private void addApkToInstallSession(PackageInstaller.Session session)\r\n            throws IOException {\r\n        try (OutputStream packageInSession = session.openWrite(&quot;package&quot;, 0, -1);\r\n             InputStream is = requireContext().getContentResolver().openInputStream(fileURI)) {\r\n            byte[] buffer = new byte[16384];\r\n            int n;\r\n            while ((n = is.read(buffer)) &gt;= 0) {\r\n                packageInSession.write(buffer, 0, n);\r\n            }\r\n        }\r\n    }\r\n```\r\nAdding the file to the session.\r\n\r\n```\r\n\r\n\r\nimport android.app.Service;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageInstaller;\r\nimport android.os.IBinder;\r\nimport android.util.Log;\r\n\r\nimport androidx.annotation.Nullable;\r\n\r\npublic class APKInstallService extends Service {\r\n    private static final String TAG = &quot;APKInstallService&quot;;\r\n\r\n\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n        int status = intent.getIntExtra(PackageInstaller.EXTRA_STATUS, -999);\r\n\r\n        switch (status) {\r\n            case PackageInstaller.STATUS_PENDING_USER_ACTION:\r\n                Log.d(TAG, &quot;Requesting user confirmation for installation&quot;);\r\n                // This is a way to get the intent that was passed to the service.\r\n                //Intent confirmationIntent = intent.getParcelableExtra(Intent.EXTRA_INTENT);\r\n                //confirmationIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                //try {\r\n                  //  startActivity(confirmationIntent);\r\n                //} catch (Exception e) {\r\n                    //No action\r\n\r\n//                }\r\n                break;\r\n            case PackageInstaller.STATUS_SUCCESS:\r\n                Log.d(TAG, &quot;Installation succeed&quot;);\r\n                break;\r\n            default:\r\n                Log.d(TAG, &quot;Installation failed&quot;);\r\n                break;\r\n        }\r\n        stopSelf();\r\n        return START_NOT_STICKY;\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        return null;\r\n    }\r\n}\r\n```\r\nGetting the result\r\n\r\nI&#39;m fairly new to coding, so sorry if this is a dumb issue","title":"Issue installing .apk with PackageInstaller","body":"<p>My goal is to install an .apk file that's stored on the device. I tried using ACTION_VIEW intent, but it's deprecated as of Android 10, I believe.</p>\n<p>I've already scoured half the web, but most answers are either using the deprecated intents, kotlin or just don't work.</p>\n<p>Here's my code</p>\n<pre><code> private void installApk() throws IOException {\n        if (!requireContext().getPackageManager().canRequestPackageInstalls()) {\n            startActivity(new Intent(\n                    Settings.ACTION_MANAGE_UNKNOWN_APP_SOURCES,\n                    Uri.parse(&quot;package:&quot; + requireContext().getPackageName())));\n        } else {\n\n//            Log.d(TAG, &quot;File Exists?: &quot; + outputFile.exists() + &quot; ; &quot; + outputFile.getAbsolutePath() + &quot; ; &quot; + &quot;can read?&quot; + outputFile.canRead() + &quot; ; &quot; + &quot;can write?&quot; + outputFile.canWrite());\n            PackageInstaller packageInstaller = requireContext().getPackageManager().getPackageInstaller();\n            PackageInstaller.SessionParams params = new PackageInstaller.SessionParams(PackageInstaller\n                    .SessionParams.MODE_FULL_INSTALL);\n            int sessionId = packageInstaller.createSession(params);\n            PackageInstaller.Session session = packageInstaller.openSession(sessionId);\n\n                addApkToInstallSession(session);\n\n                Intent callbackIntent = new Intent(requireContext(), APKInstallService.class);\n\n                PendingIntent pendingIntent = PendingIntent.getService(requireContext(), 0, callbackIntent, 0);\n                // This is sending the result of the installation to the APKInstallService.\n                IntentSender statusReceiver = pendingIntent.getIntentSender();\n                session.commit(statusReceiver);\n\n\n        }\n    }\n</code></pre>\n<p>This is the method I call in my onClickListener</p>\n<pre><code>  private void addApkToInstallSession(PackageInstaller.Session session)\n            throws IOException {\n        try (OutputStream packageInSession = session.openWrite(&quot;package&quot;, 0, -1);\n             InputStream is = requireContext().getContentResolver().openInputStream(fileURI)) {\n            byte[] buffer = new byte[16384];\n            int n;\n            while ((n = is.read(buffer)) &gt;= 0) {\n                packageInSession.write(buffer, 0, n);\n            }\n        }\n    }\n</code></pre>\n<p>Adding the file to the session.</p>\n<pre><code>\n\nimport android.app.Service;\nimport android.content.Intent;\nimport android.content.pm.PackageInstaller;\nimport android.os.IBinder;\nimport android.util.Log;\n\nimport androidx.annotation.Nullable;\n\npublic class APKInstallService extends Service {\n    private static final String TAG = &quot;APKInstallService&quot;;\n\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        int status = intent.getIntExtra(PackageInstaller.EXTRA_STATUS, -999);\n\n        switch (status) {\n            case PackageInstaller.STATUS_PENDING_USER_ACTION:\n                Log.d(TAG, &quot;Requesting user confirmation for installation&quot;);\n                // This is a way to get the intent that was passed to the service.\n                //Intent confirmationIntent = intent.getParcelableExtra(Intent.EXTRA_INTENT);\n                //confirmationIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                //try {\n                  //  startActivity(confirmationIntent);\n                //} catch (Exception e) {\n                    //No action\n\n//                }\n                break;\n            case PackageInstaller.STATUS_SUCCESS:\n                Log.d(TAG, &quot;Installation succeed&quot;);\n                break;\n            default:\n                Log.d(TAG, &quot;Installation failed&quot;);\n                break;\n        }\n        stopSelf();\n        return START_NOT_STICKY;\n    }\n\n    @Nullable\n    @Override\n    public IBinder onBind(Intent intent) {\n        return null;\n    }\n}\n</code></pre>\n<p>Getting the result</p>\n<p>I'm fairly new to coding, so sorry if this is a dumb issue</p>\n"},{"tags":["java","swing","textbox","caret"],"comments":[{"owner":{"account_id":3823725,"reputation":2958,"user_id":3171100,"accept_rate":67,"display_name":"Chris Smith"},"score":0,"creation_date":1434164781,"post_id":30814666,"comment_id":49677046,"body_markdown":"I don&#39;t think that is an operating system thing, that is more of a your-job type of thing. For me, every application has a different blink rate, some blink once, then blink a bunch, others just constantly blink.","body":"I don&#39;t think that is an operating system thing, that is more of a your-job type of thing. For me, every application has a different blink rate, some blink once, then blink a bunch, others just constantly blink."},{"owner":{"account_id":1458781,"reputation":573,"user_id":1377697,"accept_rate":67,"display_name":"warren"},"score":0,"creation_date":1434165111,"post_id":30814666,"comment_id":49677087,"body_markdown":"There is indeed a configurable blink rate on most OSes","body":"There is indeed a configurable blink rate on most OSes"},{"owner":{"account_id":3823725,"reputation":2958,"user_id":3171100,"accept_rate":67,"display_name":"Chris Smith"},"score":0,"creation_date":1434165262,"post_id":30814666,"comment_id":49677109,"body_markdown":"In your question, you are asking how to access the global property for caret blink rate. As far as I know, such a property does not exist. Drawing UIs and rendering stuff is not the operating systems deal, but rather the library you are using. In this case, you are making your own so that setting is up to you!","body":"In your question, you are asking how to access the global property for caret blink rate. As far as I know, such a property does not exist. Drawing UIs and rendering stuff is not the operating systems deal, but rather the library you are using. In this case, you are making your own so that setting is up to you!"},{"owner":{"account_id":1458781,"reputation":573,"user_id":1377697,"accept_rate":67,"display_name":"warren"},"score":0,"creation_date":1434169952,"post_id":30814666,"comment_id":49677743,"body_markdown":"I edited my previous comment while the previous comment was being typed. However, for the curious, the setting in question is under keyboard properties in windows.","body":"I edited my previous comment while the previous comment was being typed. However, for the curious, the setting in question is under keyboard properties in windows."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1434292327,"creation_date":1434176618,"answer_id":30815752,"question_id":30814666,"body_markdown":"The method for configuring the cursor blink rate is highly system dependent, and there is no simple (cross-platform) way to access the rate in Java.\r\n\r\nFor example:\r\n\r\n  - On Linux - https://unix.stackexchange.com/questions/55423/how-to-change-cursor-shape-color-and-blinkrate-of-linux-console\r\n\r\n  - On Windows - https://msdn.microsoft.com/en-us/library/ms971316.aspx#atg_avoidflashing_adjusting_the_cursor_blink_rate_programmatically\r\n\r\n(These are not direct solutions ... but they illustrate the problem that you would have.)\r\n\r\n---------------------\r\n\r\nI would put this application feature into the &quot;too hard&quot; basket, especially since the benefit to most users is (IMO) marginal.","title":"access the system caret blink rate in java","body":"<p>The method for configuring the cursor blink rate is highly system dependent, and there is no simple (cross-platform) way to access the rate in Java.</p>\n\n<p>For example:</p>\n\n<ul>\n<li><p>On Linux - <a href=\"https://unix.stackexchange.com/questions/55423/how-to-change-cursor-shape-color-and-blinkrate-of-linux-console\">https://unix.stackexchange.com/questions/55423/how-to-change-cursor-shape-color-and-blinkrate-of-linux-console</a></p></li>\n<li><p>On Windows - <a href=\"https://msdn.microsoft.com/en-us/library/ms971316.aspx#atg_avoidflashing_adjusting_the_cursor_blink_rate_programmatically\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/ms971316.aspx#atg_avoidflashing_adjusting_the_cursor_blink_rate_programmatically</a></p></li>\n</ul>\n\n<p>(These are not direct solutions ... but they illustrate the problem that you would have.)</p>\n\n<hr>\n\n<p>I would put this application feature into the \"too hard\" basket, especially since the benefit to most users is (IMO) marginal.</p>\n"}],"owner":{"account_id":1458781,"reputation":573,"user_id":1377697,"accept_rate":67,"display_name":"warren"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":30815752,"answer_count":1,"score":1,"last_activity_date":1647445395,"creation_date":1434164692,"question_id":30814666,"body_markdown":"I am implementing a simple embedded text editor in java. For the convenience of my users I would like to use the caret blink rate they have set as a system property in their operating system.\r\n\r\nI am not using a swing or awt text box, but rather building one from scratch.\r\n\r\nWhat is the simplest way to get at this system property?","title":"access the system caret blink rate in java","body":"<p>I am implementing a simple embedded text editor in java. For the convenience of my users I would like to use the caret blink rate they have set as a system property in their operating system.</p>\n\n<p>I am not using a swing or awt text box, but rather building one from scratch.</p>\n\n<p>What is the simplest way to get at this system property?</p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":0,"creation_date":1645623924,"post_id":71237021,"comment_id":125921136,"body_markdown":"Can you show converter ?","body":"Can you show converter ?"},{"owner":{"account_id":5117881,"reputation":39,"user_id":4102421,"display_name":"Summit2"},"score":0,"creation_date":1645625216,"post_id":71237021,"comment_id":125921758,"body_markdown":"You mean the converter to DTO? It&#39;s irrelevant here because I checked the value of the collection field in the debugger before the Cocktail object reaches the converter and it was already empty. Actually the output of cocktail.getCocktailIngredients() was an empty collection.","body":"You mean the converter to DTO? It&#39;s irrelevant here because I checked the value of the collection field in the debugger before the Cocktail object reaches the converter and it was already empty. Actually the output of cocktail.getCocktailIngredients() was an empty collection."}],"answers":[{"tags":[],"owner":{"account_id":9596641,"reputation":873,"user_id":7125557,"display_name":"dimirsen Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647445292,"creation_date":1647445292,"answer_id":71500032,"question_id":71237021,"body_markdown":"Please try removing assignment of empty list:\r\n    \r\n     cocktailIngredients = new ArrayList&lt;&gt;(); \r\nJust keep cocktailIngredients uninitialized. Setter will do the assignment.","title":"Hibernate @OneToMany relationship is not fetched properly","body":"<p>Please try removing assignment of empty list:</p>\n<pre><code> cocktailIngredients = new ArrayList&lt;&gt;(); \n</code></pre>\n<p>Just keep cocktailIngredients uninitialized. Setter will do the assignment.</p>\n"}],"owner":{"account_id":5117881,"reputation":39,"user_id":4102421,"display_name":"Summit2"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647445292,"creation_date":1645619657,"question_id":71237021,"body_markdown":"I have a one to many relationship between entities.\r\nThe first entity:\r\n```\r\n@Entity\r\n@NoArgsConstructor\r\n@Getter \r\n@Setter \r\npublic class Cocktail {\r\n\t@Id\r\n    @GeneratedValue(generator = &quot;uuid&quot;)\r\n    @GenericGenerator(\r\n        name = &quot;uuid&quot;,\r\n        strategy = &quot;uuid2&quot;,\r\n        parameters = {\r\n            @Parameter(\r\n                name = &quot;uuid_gen_strategy_class&quot;,\r\n                value = &quot;org.hibernate.id.uuid.CustomVersionOneStrategy&quot;\r\n            )\r\n        }\r\n    )\r\n\tprivate UUID id;\r\n\t\r\n\tprivate String image;\r\n\t\r\n\t@OneToOne\r\n\t@JoinColumn(name = &quot;name_id&quot;)\r\n\tprivate Label labelName;\r\n\t\r\n\t@OneToOne\r\n\t@JoinColumn(name = &quot;description_id&quot;)\r\n\tprivate Label labelDescription;\r\n\t\r\n\t@OneToMany(mappedBy = &quot;cocktail&quot;, fetch = FetchType.EAGER)\r\n\tprivate List&lt;CocktailIngredient&gt; cocktailIngredients = new ArrayList&lt;&gt;();\r\n}\r\n```\r\nThe second entity:\r\n```\r\n@Entity\r\n@NoArgsConstructor\r\n@Getter @Setter\r\npublic class CocktailIngredient {\r\n\t@Id\r\n    @GeneratedValue(generator = &quot;uuid&quot;)\r\n    @GenericGenerator(\r\n        name = &quot;uuid&quot;,\r\n        strategy = &quot;uuid2&quot;,\r\n        parameters = {\r\n            @Parameter(\r\n                name = &quot;uuid_gen_strategy_class&quot;,\r\n                value = &quot;org.hibernate.id.uuid.CustomVersionOneStrategy&quot;\r\n            )\r\n        }\r\n    )\r\n\tprivate UUID id;\r\n\t\r\n\t@ManyToOne(fetch = FetchType.EAGER)\r\n\t@JoinColumn(name = &quot;cocktail_id&quot;)\r\n\tprivate Cocktail cocktail;\r\n\t\r\n\t@ManyToOne(fetch = FetchType.EAGER)\r\n\t@JoinColumn(name = &quot;ingredient_id&quot;)\r\n\tprivate Ingredient ingredient;\r\n\t\r\n\tprivate BigDecimal quantity;\r\n}\r\n```\r\nAnd the Spring Data repository that is loading them:\r\n```\r\n@Repository\r\npublic interface CocktailRepository extends JpaRepository&lt;Cocktail, UUID&gt;, CocktailRepositoryCustom {\r\n}\r\n```\r\nThe other related code is irrelevant to the question.\r\nThe problem is when I call the standard findAll method of CocktailRepository, the list of CocktailRepository in Cocktail is not populated, although Hibernate is querying the related entities from the database (one of the generated queries):\r\n```\r\nHibernate: \r\n    select\r\n        cocktailin0_.cocktail_id as cocktail3_1_0_,\r\n        cocktailin0_.id as id1_1_0_,\r\n        cocktailin0_.id as id1_1_1_,\r\n        cocktailin0_.cocktail_id as cocktail3_1_1_,\r\n        cocktailin0_.ingredient_id as ingredie4_1_1_,\r\n        cocktailin0_.quantity as quantity2_1_1_,\r\n        ingredient1_.id as id1_2_2_,\r\n        ingredient1_.alc as alc2_2_2_,\r\n        ingredient1_.description_id as descript4_2_2_,\r\n        ingredient1_.name_id as name_id5_2_2_,\r\n        ingredient1_.unit as unit3_2_2_,\r\n        label2_.id as id1_3_3_,\r\n        label2_.label_en as label_en2_3_3_,\r\n        label2_.label_ru as label_ru3_3_3_,\r\n        label3_.id as id1_3_4_,\r\n        label3_.label_en as label_en2_3_4_,\r\n        label3_.label_ru as label_ru3_3_4_ \r\n    from\r\n        cocktail_ingredient cocktailin0_ \r\n    left outer join\r\n        ingredient ingredient1_ \r\n            on cocktailin0_.ingredient_id=ingredient1_.id \r\n    left outer join\r\n        label label2_ \r\n            on ingredient1_.description_id=label2_.id \r\n    left outer join\r\n        label label3_ \r\n            on ingredient1_.name_id=label3_.id \r\n    where\r\n        cocktailin0_.cocktail_id=?\r\n```\r\nSo the entity collection is fetched but somewhy not assigned to the field in Cocktail. The JPA provider used is Hibernate. I&#39;ve tried debugging and what I&#39;ve seen is that the collection is not populated inside Hibernate classes, so Spring Data is not to blame here. All the code examples I&#39;ve seen state that the code like this must work, but it&#39;s not. What&#39;s wrong?\r\n\r\nUPDATE:\r\n\r\nThe result of the query in JSON from the REST Controller built on top of this code:\r\n```\r\n[\r\n    {\r\n        &quot;id&quot;: &quot;32616534-3832-3763-2d39-3332322d3131&quot;,\r\n        &quot;image&quot;: &quot;https://top10a.ru/wp-content/uploads/2019/06/3-8.jpg&quot;,\r\n        &quot;labelDTOName&quot;: {\r\n            &quot;id&quot;: &quot;a2b851d8-9094-11ec-96e5-fcaa14ac5ccc&quot;,\r\n            &quot;labelEn&quot;: &quot;Mojito&quot;,\r\n            &quot;labelRu&quot;: &quot;Мохито&quot;\r\n        },\r\n        &quot;labelDTODescription&quot;: {\r\n            &quot;id&quot;: &quot;ba2083f5-931e-11ec-96e5-fcaa14ac5ccc&quot;,\r\n            &quot;labelEn&quot;: &quot;&quot;,\r\n            &quot;labelRu&quot;: &quot;&quot;\r\n        },\r\n        &quot;cocktailIngredientsDTO&quot;: []\r\n    }\r\n]\r\n```\r\nAs you can see, the cocktailIngredientsDTO collection is empty, while it must be full.\r\n\r\nUPDATE 2:\r\nWhat if I say that the database table is created this way:\r\n```\r\nCREATE TABLE IF NOT EXISTS `cocktails`.`cocktail` (\r\n  `id` CHAR(36) NOT NULL,\r\n  `image` TINYTEXT NULL,\r\n  `name_id` CHAR(36) NOT NULL,\r\n  `description_id` CHAR(36) NOT NULL,\r\n  PRIMARY KEY (`id`),\r\n  INDEX `fk_cocktail_label1_idx` (`name_id` ASC) VISIBLE,\r\n  UNIQUE INDEX `name_id_UNIQUE` (`name_id` ASC) VISIBLE,\r\n  INDEX `fk_cocktail_label2_idx` (`description_id` ASC) VISIBLE,\r\n  UNIQUE INDEX `description_id_UNIQUE` (`description_id` ASC) VISIBLE,\r\n  CONSTRAINT `fk_cocktail_label1`\r\n    FOREIGN KEY (`name_id`)\r\n    REFERENCES `cocktails`.`label` (`id`)\r\n    ON DELETE NO ACTION\r\n    ON UPDATE NO ACTION,\r\n  CONSTRAINT `fk_cocktail_label2`\r\n    FOREIGN KEY (`description_id`)\r\n    REFERENCES `cocktails`.`label` (`id`)\r\n    ON DELETE NO ACTION\r\n    ON UPDATE NO ACTION)\r\nENGINE = InnoDB;\r\n```\r\n\r\nUPDATE 3:\r\nStill no answer. The very proof that Stackoverflow is often useless for complicated issues.","title":"Hibernate @OneToMany relationship is not fetched properly","body":"<p>I have a one to many relationship between entities.\nThe first entity:</p>\n<pre><code>@Entity\n@NoArgsConstructor\n@Getter \n@Setter \npublic class Cocktail {\n    @Id\n    @GeneratedValue(generator = &quot;uuid&quot;)\n    @GenericGenerator(\n        name = &quot;uuid&quot;,\n        strategy = &quot;uuid2&quot;,\n        parameters = {\n            @Parameter(\n                name = &quot;uuid_gen_strategy_class&quot;,\n                value = &quot;org.hibernate.id.uuid.CustomVersionOneStrategy&quot;\n            )\n        }\n    )\n    private UUID id;\n    \n    private String image;\n    \n    @OneToOne\n    @JoinColumn(name = &quot;name_id&quot;)\n    private Label labelName;\n    \n    @OneToOne\n    @JoinColumn(name = &quot;description_id&quot;)\n    private Label labelDescription;\n    \n    @OneToMany(mappedBy = &quot;cocktail&quot;, fetch = FetchType.EAGER)\n    private List&lt;CocktailIngredient&gt; cocktailIngredients = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>The second entity:</p>\n<pre><code>@Entity\n@NoArgsConstructor\n@Getter @Setter\npublic class CocktailIngredient {\n    @Id\n    @GeneratedValue(generator = &quot;uuid&quot;)\n    @GenericGenerator(\n        name = &quot;uuid&quot;,\n        strategy = &quot;uuid2&quot;,\n        parameters = {\n            @Parameter(\n                name = &quot;uuid_gen_strategy_class&quot;,\n                value = &quot;org.hibernate.id.uuid.CustomVersionOneStrategy&quot;\n            )\n        }\n    )\n    private UUID id;\n    \n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;cocktail_id&quot;)\n    private Cocktail cocktail;\n    \n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;ingredient_id&quot;)\n    private Ingredient ingredient;\n    \n    private BigDecimal quantity;\n}\n</code></pre>\n<p>And the Spring Data repository that is loading them:</p>\n<pre><code>@Repository\npublic interface CocktailRepository extends JpaRepository&lt;Cocktail, UUID&gt;, CocktailRepositoryCustom {\n}\n</code></pre>\n<p>The other related code is irrelevant to the question.\nThe problem is when I call the standard findAll method of CocktailRepository, the list of CocktailRepository in Cocktail is not populated, although Hibernate is querying the related entities from the database (one of the generated queries):</p>\n<pre><code>Hibernate: \n    select\n        cocktailin0_.cocktail_id as cocktail3_1_0_,\n        cocktailin0_.id as id1_1_0_,\n        cocktailin0_.id as id1_1_1_,\n        cocktailin0_.cocktail_id as cocktail3_1_1_,\n        cocktailin0_.ingredient_id as ingredie4_1_1_,\n        cocktailin0_.quantity as quantity2_1_1_,\n        ingredient1_.id as id1_2_2_,\n        ingredient1_.alc as alc2_2_2_,\n        ingredient1_.description_id as descript4_2_2_,\n        ingredient1_.name_id as name_id5_2_2_,\n        ingredient1_.unit as unit3_2_2_,\n        label2_.id as id1_3_3_,\n        label2_.label_en as label_en2_3_3_,\n        label2_.label_ru as label_ru3_3_3_,\n        label3_.id as id1_3_4_,\n        label3_.label_en as label_en2_3_4_,\n        label3_.label_ru as label_ru3_3_4_ \n    from\n        cocktail_ingredient cocktailin0_ \n    left outer join\n        ingredient ingredient1_ \n            on cocktailin0_.ingredient_id=ingredient1_.id \n    left outer join\n        label label2_ \n            on ingredient1_.description_id=label2_.id \n    left outer join\n        label label3_ \n            on ingredient1_.name_id=label3_.id \n    where\n        cocktailin0_.cocktail_id=?\n</code></pre>\n<p>So the entity collection is fetched but somewhy not assigned to the field in Cocktail. The JPA provider used is Hibernate. I've tried debugging and what I've seen is that the collection is not populated inside Hibernate classes, so Spring Data is not to blame here. All the code examples I've seen state that the code like this must work, but it's not. What's wrong?</p>\n<p>UPDATE:</p>\n<p>The result of the query in JSON from the REST Controller built on top of this code:</p>\n<pre><code>[\n    {\n        &quot;id&quot;: &quot;32616534-3832-3763-2d39-3332322d3131&quot;,\n        &quot;image&quot;: &quot;https://top10a.ru/wp-content/uploads/2019/06/3-8.jpg&quot;,\n        &quot;labelDTOName&quot;: {\n            &quot;id&quot;: &quot;a2b851d8-9094-11ec-96e5-fcaa14ac5ccc&quot;,\n            &quot;labelEn&quot;: &quot;Mojito&quot;,\n            &quot;labelRu&quot;: &quot;Мохито&quot;\n        },\n        &quot;labelDTODescription&quot;: {\n            &quot;id&quot;: &quot;ba2083f5-931e-11ec-96e5-fcaa14ac5ccc&quot;,\n            &quot;labelEn&quot;: &quot;&quot;,\n            &quot;labelRu&quot;: &quot;&quot;\n        },\n        &quot;cocktailIngredientsDTO&quot;: []\n    }\n]\n</code></pre>\n<p>As you can see, the cocktailIngredientsDTO collection is empty, while it must be full.</p>\n<p>UPDATE 2:\nWhat if I say that the database table is created this way:</p>\n<pre><code>CREATE TABLE IF NOT EXISTS `cocktails`.`cocktail` (\n  `id` CHAR(36) NOT NULL,\n  `image` TINYTEXT NULL,\n  `name_id` CHAR(36) NOT NULL,\n  `description_id` CHAR(36) NOT NULL,\n  PRIMARY KEY (`id`),\n  INDEX `fk_cocktail_label1_idx` (`name_id` ASC) VISIBLE,\n  UNIQUE INDEX `name_id_UNIQUE` (`name_id` ASC) VISIBLE,\n  INDEX `fk_cocktail_label2_idx` (`description_id` ASC) VISIBLE,\n  UNIQUE INDEX `description_id_UNIQUE` (`description_id` ASC) VISIBLE,\n  CONSTRAINT `fk_cocktail_label1`\n    FOREIGN KEY (`name_id`)\n    REFERENCES `cocktails`.`label` (`id`)\n    ON DELETE NO ACTION\n    ON UPDATE NO ACTION,\n  CONSTRAINT `fk_cocktail_label2`\n    FOREIGN KEY (`description_id`)\n    REFERENCES `cocktails`.`label` (`id`)\n    ON DELETE NO ACTION\n    ON UPDATE NO ACTION)\nENGINE = InnoDB;\n</code></pre>\n<p>UPDATE 3:\nStill no answer. The very proof that Stackoverflow is often useless for complicated issues.</p>\n"},{"tags":["java","mongodb","database-cursor"],"answers":[{"tags":[],"owner":{"account_id":228467,"reputation":1684,"user_id":490787,"display_name":"gb96"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1364261850,"creation_date":1364261850,"answer_id":15627841,"question_id":15461138,"body_markdown":"I&#39;m not sure what is happening with your rare behaviour in the first part of your question, however in general it is unsafe to modify any data structure while you are iterating over it except via the Iterator.remove() method.\r\n\r\n\r\n----------\r\n\r\n\r\nThe last part of your question is indirectly answered by the following **Warning** at the top of the [API Documentation for DBCursor][1]:\r\n\r\n&gt; **Warning**: Calling toArray or length on a DBCursor will irrevocably turn it into an array. This means that, if the cursor was iterating over ten million results (which it was lazily fetching from the database), suddenly there will be a ten-million element array in memory. Before converting to an array, make sure that there are a reasonable number of results using skip() and limit().\r\n\r\nIf you read the [source code for DBCursor (line 483)][2] where it is throwing the **IllegalArgumentException** you can see that any call to DBCursor.length() turns the cursor into an array, after which time all calls to DBCursor.next() or DBCursor.hasNext() become Illegal.\r\n\r\nI think this behaviour definately violates the [Principle of Least Surprise][3].  Arrays can still have Iterators, so it would be better if the internal data structure was hidden and the Iterator methods continue to work.  Also, calling DBCursor.length() does not have to fetch any the records from the DB, I think it should behave similar to DBCursor.count() but somehow take into account limit() and skip() and then cache the result.\r\n\r\n\r\n  [1]: http://api.mongodb.org/java/current/com/mongodb/DBCursor.html\r\n  [2]: https://github.com/mongodb/mongo-java-driver/blob/master/src/main/com/mongodb/DBCursor.java#L483\r\n  [3]: http://en.wikipedia.org/wiki/Principle_of_least_astonishment","title":"Rare behavior with mongodb cursor (DBCursor) in java, even though last element is already reached","body":"<p>I'm not sure what is happening with your rare behaviour in the first part of your question, however in general it is unsafe to modify any data structure while you are iterating over it except via the Iterator.remove() method.</p>\n\n<hr>\n\n<p>The last part of your question is indirectly answered by the following <strong>Warning</strong> at the top of the <a href=\"http://api.mongodb.org/java/current/com/mongodb/DBCursor.html\" rel=\"nofollow\">API Documentation for DBCursor</a>:</p>\n\n<blockquote>\n  <p><strong>Warning</strong>: Calling toArray or length on a DBCursor will irrevocably turn it into an array. This means that, if the cursor was iterating over ten million results (which it was lazily fetching from the database), suddenly there will be a ten-million element array in memory. Before converting to an array, make sure that there are a reasonable number of results using skip() and limit().</p>\n</blockquote>\n\n<p>If you read the <a href=\"https://github.com/mongodb/mongo-java-driver/blob/master/src/main/com/mongodb/DBCursor.java#L483\" rel=\"nofollow\">source code for DBCursor (line 483)</a> where it is throwing the <strong>IllegalArgumentException</strong> you can see that any call to DBCursor.length() turns the cursor into an array, after which time all calls to DBCursor.next() or DBCursor.hasNext() become Illegal.</p>\n\n<p>I think this behaviour definately violates the <a href=\"http://en.wikipedia.org/wiki/Principle_of_least_astonishment\" rel=\"nofollow\">Principle of Least Surprise</a>.  Arrays can still have Iterators, so it would be better if the internal data structure was hidden and the Iterator methods continue to work.  Also, calling DBCursor.length() does not have to fetch any the records from the DB, I think it should behave similar to DBCursor.count() but somehow take into account limit() and skip() and then cache the result.</p>\n"},{"tags":[],"owner":{"account_id":3219982,"reputation":1283,"user_id":2717674,"accept_rate":18,"display_name":"Juhan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1410756441,"creation_date":1410756441,"answer_id":25840978,"question_id":15461138,"body_markdown":"Just throw the Exception IllegalArgumentException, then you get that use of DBCursor.length()  will already converted curser into an array.So after that using hasnext(), next is illegegal. If you want to use hasnext() or next() better to remove length() before iteration.","title":"Rare behavior with mongodb cursor (DBCursor) in java, even though last element is already reached","body":"<p>Just throw the Exception IllegalArgumentException, then you get that use of DBCursor.length()  will already converted curser into an array.So after that using hasnext(), next is illegegal. If you want to use hasnext() or next() better to remove length() before iteration.</p>\n"}],"owner":{"account_id":442633,"reputation":1586,"user_id":833336,"accept_rate":43,"display_name":"emecas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4601,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1647444442,"creation_date":1363526208,"question_id":15461138,"body_markdown":"I have a collection called MyCollection that contains 200 elements in the bd MyDB in mongodb\r\n\r\n    &gt; use MyDB\r\n    switched to db MyDB \r\n    &gt; db.MyCollection.count()\r\n    200\r\n\r\nI&#39;m getting a really rare behavior, even in the different ways I have used to load the cursor and iterate on it, this is my code:\r\n\r\n    DBCollection collection = getCollection(&quot;MyBD&quot;, &quot;MyCollection&quot;);\r\n    DBCursor cursor = collection.find();\r\n    //DBCursor cursor = collection.find().limit(200); \r\n    System.out.println(&quot;Cursor length: &quot;+cursor.length());\r\n    Iterator&lt;DBObject&gt; itrc = cursor.iterator();\r\n    //while(cursor.hasNext()){\r\n    while (itrc.hasNext()) {\r\n        //DBObject obj = (DBObject)cursor.next();\r\n        DBObject obj = (DBObject)itrc.next();\r\n        //BSONObject obj2 = (BSONObject)obj.get(&quot;scores&quot;);\r\n        Integer intg = (Integer) obj.get(&quot;_id&quot;);\r\n        System.out.println(&quot;_id:&quot;+intg.toString());\r\n\r\n        // operations remove and insert  on the collection\r\n        // that affect the cursor behavior\r\n        BasicDBList bl = (BasicDBList) obj.get(&quot;fieldArray&quot;);\r\n        BasicDBObject bdo = new BasicDBObject();\r\n        bdo.put(&quot;fieldArray&quot;, bl);\r\n        Integer intid = (Integer) obj.get(&quot;_id&quot;);\r\n        bdo.put(&quot;_id&quot;, intid);\r\n        String str = (String) obj.get(&quot;fieldString&quot;);\r\n        bdo.put(&quot;fieldString&quot;, str);\r\n        collection.remove(obj);\r\n        obj=null;\r\n        collection.insert(bdo);\r\n\r\n        if(intg.intValue()==199){\r\n            System.out.println(&quot;Reached: &quot;+intg.intValue());\r\n        }\t\r\n    }\r\n\r\nThis is the output:\r\n\r\n    Cursor length: 200\r\n    _id:0 _id:1 _id:2 _id:3 _id:4 _id:5 _id:6 _id:7 _id:8 _id:9 _id:10 _id:11 _id:12 _id:13 _id:14 _id:15 _id:16 _id:17 _id:18 _id:19 _id:20 _id:21 _id:22 _id:23 _id:24 _id:25 _id:26 _id:27 _id:28 _id:29 _id:30 _id:31 _id:32 _id:33 _id:34 _id:35 _id:36 _id:37 _id:38 _id:39 _id:40 _id:41 _id:42 _id:43 _id:44 _id:45 _id:46 _id:47 _id:48 _id:49 _id:50 _id:51 _id:52 _id:53 _id:54 _id:55 _id:56 _id:57 _id:58 _id:59 _id:60 _id:61 _id:62 _id:63 _id:64 _id:65 _id:66 _id:67 _id:68 _id:69 _id:113 _id:101 _id:102 _id:103 _id:104 _id:105 _id:106 _id:107 _id:108 _id:109 _id:110 _id:111 _id:112 _id:114 _id:115 _id:116 _id:117 _id:118 _id:119 _id:120 _id:121 _id:122 _id:123 _id:124 _id:125 _id:126 _id:127 _id:128 _id:129 _id:130 _id:131 _id:132 _id:133 _id:134 _id:135 _id:136 _id:137 _id:138 _id:139 _id:140 _id:141 _id:142 _id:143 _id:144 _id:145 _id:146 _id:147 _id:148 _id:149 _id:150 _id:151 _id:152 _id:153 _id:154 _id:155 _id:156 _id:157 _id:158 _id:159 _id:160 _id:161 _id:162 _id:163 _id:164 _id:165 _id:166 _id:167 _id:168 _id:169 _id:170 _id:171 _id:172 _id:173 _id:174 _id:175 _id:176 _id:177 _id:178 _id:179 _id:180 _id:181 _id:182 _id:183 _id:184 _id:185 _id:186 _id:187 _id:188 _id:189 _id:190 _id:191 _id:192 _id:193 _id:194 _id:195 _id:196 _id:197 _id:198 _id:199\r\n    ***************************\r\n    Reached: 199\r\n    ***************************\r\n     _id:70 _id:71 _id:72 _id:73 _id:74 _id:75 _id:76 _id:77 _id:78 _id:79 _id:80 _id:81 _id:82 _id:83 _id:84 _id:85 _id:86 _id:87 _id:88 _id:89 _id:90 _id:91 _id:92 _id:93 _id:94 _id:95 _id:96 _id:97 _id:98 _id:99 _id:100_id:96 _id:97 _id:98 _id:99 _id:100\r\n\r\nAs it can see , once the limit of 200 elements is reached (element _id:199), it jumps to  the element with _id:70, then it repeats 31 additional iterations until the element _id:100 is reached, instead than finished in the right time that would be at the 200 iteration.\r\n\r\nThe alternatives: the one is commented in the code (using the cursor&#39;s method: hasNext()) and the other one that is running (using an Iterator) both have the same output.\r\n\r\nIf I remove the operations part  on the collection (remove/insert in my case), then the rare behavior does not happen. \r\n\r\nThis is the expected output:\r\n\r\n    Cursor length: 200\r\n    _id:0 _id:1 _id:2 _id:3 _id:4 _id:5 _id:6 _id:7 _id:8 _id:9 _id:10 _id:11 _id:12 _id:13 _id:14 _id:15 _id:16 _id:17 _id:18 _id:19 _id:20 _id:21 _id:22 _id:23 _id:24 _id:25 _id:26 _id:27 _id:28 _id:29 _id:30 _id:31 _id:32 _id:33 _id:34 _id:35 _id:36 _id:37 _id:38 _id:39 _id:40 _id:41 _id:42 _id:43 _id:44 _id:45 _id:46 _id:47 _id:48 _id:49 _id:50 _id:51 _id:52 _id:53 _id:54 _id:55 _id:56 _id:57 _id:58 _id:59 _id:60 _id:61 _id:62 _id:63 _id:64 _id:65 _id:66 _id:67 _id:68 _id:69 _id:113 _id:101 _id:102 _id:103 _id:104 _id:105 _id:106 _id:107 _id:108 _id:109 _id:110 _id:111 _id:112 _id:114 _id:115 _id:116 _id:117 _id:118 _id:119 _id:120 _id:121 _id:122 _id:123 _id:124 _id:125 _id:126 _id:127 _id:128 _id:129 _id:130 _id:131 _id:132 _id:133 _id:134 _id:135 _id:136 _id:137 _id:138 _id:139 _id:140 _id:141 _id:142 _id:143 _id:144 _id:145 _id:146 _id:147 _id:148 _id:149 _id:150 _id:151 _id:152 _id:153 _id:154 _id:155 _id:156 _id:157 _id:158 _id:159 _id:160 _id:161 _id:162 _id:163 _id:164 _id:165 _id:166 _id:167 _id:168 _id:169 _id:170 _id:171 _id:172 _id:173 _id:174 _id:175 _id:176 _id:177 _id:178 _id:179 _id:180 _id:181 _id:182 _id:183 _id:184 _id:185 _id:186 _id:187 _id:188 _id:189 _id:190 _id:191 _id:192 _id:193 _id:194 _id:195 _id:196 _id:197 _id:198 _id:199\r\n    ***************************\r\n    Reached: 199\r\n    ***************************\r\n\r\nI had found a [similar SO question](https://stackoverflow.com/q/12145579/833336), but it is not clear to me:\r\n\r\n - how can the operations remove/insert affect the cursor behavior in the way I have exposed before?\r\n - how  can I use the snapshot option?\r\n - thinking ahead, what about if I need to work with the ordered collection?\r\n\r\n\r\n\r\n\r\nBTW, if I use the option without iterator, like this:\r\n\r\n    while(cursor.hasNext()){\r\n        DBObject obj = (DBObject)cursor.next();\r\n\r\n - Why do I have to delete the next line?\r\n\r\n    System.out.println(&quot;Cursor length: &quot;+cursor.length());\r\n\r\nIn order to avoid the next exception:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: can&#39;t switch cursor access methods\r\n        at com.mongodb.DBCursor._checkType(DBCursor.java:412)\r\n        at com.mongodb.DBCursor.hasNext(DBCursor.java:483)\r\n        at tasks.UpdateRemoveHW.main(Test.java:56)","title":"Rare behavior with mongodb cursor (DBCursor) in java, even though last element is already reached","body":"<p>I have a collection called MyCollection that contains 200 elements in the bd MyDB in mongodb</p>\n\n<pre><code>&gt; use MyDB\nswitched to db MyDB \n&gt; db.MyCollection.count()\n200\n</code></pre>\n\n<p>I'm getting a really rare behavior, even in the different ways I have used to load the cursor and iterate on it, this is my code:</p>\n\n<pre><code>DBCollection collection = getCollection(\"MyBD\", \"MyCollection\");\nDBCursor cursor = collection.find();\n//DBCursor cursor = collection.find().limit(200); \nSystem.out.println(\"Cursor length: \"+cursor.length());\nIterator&lt;DBObject&gt; itrc = cursor.iterator();\n//while(cursor.hasNext()){\nwhile (itrc.hasNext()) {\n    //DBObject obj = (DBObject)cursor.next();\n    DBObject obj = (DBObject)itrc.next();\n    //BSONObject obj2 = (BSONObject)obj.get(\"scores\");\n    Integer intg = (Integer) obj.get(\"_id\");\n    System.out.println(\"_id:\"+intg.toString());\n\n    // operations remove and insert  on the collection\n    // that affect the cursor behavior\n    BasicDBList bl = (BasicDBList) obj.get(\"fieldArray\");\n    BasicDBObject bdo = new BasicDBObject();\n    bdo.put(\"fieldArray\", bl);\n    Integer intid = (Integer) obj.get(\"_id\");\n    bdo.put(\"_id\", intid);\n    String str = (String) obj.get(\"fieldString\");\n    bdo.put(\"fieldString\", str);\n    collection.remove(obj);\n    obj=null;\n    collection.insert(bdo);\n\n    if(intg.intValue()==199){\n        System.out.println(\"Reached: \"+intg.intValue());\n    }   \n}\n</code></pre>\n\n<p>This is the output:</p>\n\n<pre><code>Cursor length: 200\n_id:0 _id:1 _id:2 _id:3 _id:4 _id:5 _id:6 _id:7 _id:8 _id:9 _id:10 _id:11 _id:12 _id:13 _id:14 _id:15 _id:16 _id:17 _id:18 _id:19 _id:20 _id:21 _id:22 _id:23 _id:24 _id:25 _id:26 _id:27 _id:28 _id:29 _id:30 _id:31 _id:32 _id:33 _id:34 _id:35 _id:36 _id:37 _id:38 _id:39 _id:40 _id:41 _id:42 _id:43 _id:44 _id:45 _id:46 _id:47 _id:48 _id:49 _id:50 _id:51 _id:52 _id:53 _id:54 _id:55 _id:56 _id:57 _id:58 _id:59 _id:60 _id:61 _id:62 _id:63 _id:64 _id:65 _id:66 _id:67 _id:68 _id:69 _id:113 _id:101 _id:102 _id:103 _id:104 _id:105 _id:106 _id:107 _id:108 _id:109 _id:110 _id:111 _id:112 _id:114 _id:115 _id:116 _id:117 _id:118 _id:119 _id:120 _id:121 _id:122 _id:123 _id:124 _id:125 _id:126 _id:127 _id:128 _id:129 _id:130 _id:131 _id:132 _id:133 _id:134 _id:135 _id:136 _id:137 _id:138 _id:139 _id:140 _id:141 _id:142 _id:143 _id:144 _id:145 _id:146 _id:147 _id:148 _id:149 _id:150 _id:151 _id:152 _id:153 _id:154 _id:155 _id:156 _id:157 _id:158 _id:159 _id:160 _id:161 _id:162 _id:163 _id:164 _id:165 _id:166 _id:167 _id:168 _id:169 _id:170 _id:171 _id:172 _id:173 _id:174 _id:175 _id:176 _id:177 _id:178 _id:179 _id:180 _id:181 _id:182 _id:183 _id:184 _id:185 _id:186 _id:187 _id:188 _id:189 _id:190 _id:191 _id:192 _id:193 _id:194 _id:195 _id:196 _id:197 _id:198 _id:199\n***************************\nReached: 199\n***************************\n _id:70 _id:71 _id:72 _id:73 _id:74 _id:75 _id:76 _id:77 _id:78 _id:79 _id:80 _id:81 _id:82 _id:83 _id:84 _id:85 _id:86 _id:87 _id:88 _id:89 _id:90 _id:91 _id:92 _id:93 _id:94 _id:95 _id:96 _id:97 _id:98 _id:99 _id:100_id:96 _id:97 _id:98 _id:99 _id:100\n</code></pre>\n\n<p>As it can see , once the limit of 200 elements is reached (element _id:199), it jumps to  the element with _id:70, then it repeats 31 additional iterations until the element _id:100 is reached, instead than finished in the right time that would be at the 200 iteration.</p>\n\n<p>The alternatives: the one is commented in the code (using the cursor's method: hasNext()) and the other one that is running (using an Iterator) both have the same output.</p>\n\n<p>If I remove the operations part  on the collection (remove/insert in my case), then the rare behavior does not happen. </p>\n\n<p>This is the expected output:</p>\n\n<pre><code>Cursor length: 200\n_id:0 _id:1 _id:2 _id:3 _id:4 _id:5 _id:6 _id:7 _id:8 _id:9 _id:10 _id:11 _id:12 _id:13 _id:14 _id:15 _id:16 _id:17 _id:18 _id:19 _id:20 _id:21 _id:22 _id:23 _id:24 _id:25 _id:26 _id:27 _id:28 _id:29 _id:30 _id:31 _id:32 _id:33 _id:34 _id:35 _id:36 _id:37 _id:38 _id:39 _id:40 _id:41 _id:42 _id:43 _id:44 _id:45 _id:46 _id:47 _id:48 _id:49 _id:50 _id:51 _id:52 _id:53 _id:54 _id:55 _id:56 _id:57 _id:58 _id:59 _id:60 _id:61 _id:62 _id:63 _id:64 _id:65 _id:66 _id:67 _id:68 _id:69 _id:113 _id:101 _id:102 _id:103 _id:104 _id:105 _id:106 _id:107 _id:108 _id:109 _id:110 _id:111 _id:112 _id:114 _id:115 _id:116 _id:117 _id:118 _id:119 _id:120 _id:121 _id:122 _id:123 _id:124 _id:125 _id:126 _id:127 _id:128 _id:129 _id:130 _id:131 _id:132 _id:133 _id:134 _id:135 _id:136 _id:137 _id:138 _id:139 _id:140 _id:141 _id:142 _id:143 _id:144 _id:145 _id:146 _id:147 _id:148 _id:149 _id:150 _id:151 _id:152 _id:153 _id:154 _id:155 _id:156 _id:157 _id:158 _id:159 _id:160 _id:161 _id:162 _id:163 _id:164 _id:165 _id:166 _id:167 _id:168 _id:169 _id:170 _id:171 _id:172 _id:173 _id:174 _id:175 _id:176 _id:177 _id:178 _id:179 _id:180 _id:181 _id:182 _id:183 _id:184 _id:185 _id:186 _id:187 _id:188 _id:189 _id:190 _id:191 _id:192 _id:193 _id:194 _id:195 _id:196 _id:197 _id:198 _id:199\n***************************\nReached: 199\n***************************\n</code></pre>\n\n<p>I had found a <a href=\"https://stackoverflow.com/q/12145579/833336\">similar SO question</a>, but it is not clear to me:</p>\n\n<ul>\n<li>how can the operations remove/insert affect the cursor behavior in the way I have exposed before?</li>\n<li>how  can I use the snapshot option?</li>\n<li>thinking ahead, what about if I need to work with the ordered collection?</li>\n</ul>\n\n<p>BTW, if I use the option without iterator, like this:</p>\n\n<pre><code>while(cursor.hasNext()){\n    DBObject obj = (DBObject)cursor.next();\n</code></pre>\n\n<ul>\n<li><p>Why do I have to delete the next line?</p>\n\n<p>System.out.println(\"Cursor length: \"+cursor.length());</p></li>\n</ul>\n\n<p>In order to avoid the next exception:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.IllegalArgumentException: can't switch cursor access methods\n    at com.mongodb.DBCursor._checkType(DBCursor.java:412)\n    at com.mongodb.DBCursor.hasNext(DBCursor.java:483)\n    at tasks.UpdateRemoveHW.main(Test.java:56)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":4514444,"reputation":17059,"user_id":3669698,"accept_rate":55,"display_name":"Hadi J"},"score":0,"creation_date":1546595743,"post_id":54036507,"comment_id":94908365,"body_markdown":"see [this](https://stackoverflow.com/questions/44644141/how-to-stop-a-scheduled-task-that-was-started-using-scheduled-annotation)","body":"see <a href=\"https://stackoverflow.com/questions/44644141/how-to-stop-a-scheduled-task-that-was-started-using-scheduled-annotation\">this</a>"},{"owner":{"account_id":3388857,"reputation":1889,"user_id":2844215,"display_name":"IMParasharG"},"score":2,"creation_date":1546600800,"post_id":54036507,"comment_id":94911015,"body_markdown":"Check link https://www.baeldung.com/spring-scheduled-tasks and readout point number 5.","body":"Check link <a href=\"https://www.baeldung.com/spring-scheduled-tasks\" rel=\"nofollow noreferrer\">baeldung.com/spring-scheduled-tasks</a> and readout point number 5."}],"answers":[{"tags":[],"owner":{"account_id":11583471,"reputation":17797,"user_id":8486518,"display_name":"Mạnh Quyết Nguyễn"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1546595881,"creation_date":1546595881,"answer_id":54036625,"question_id":54036507,"body_markdown":"Instead of `fixedRate`, use `fixedDelay`:\r\n\r\n\r\n    @Scheduled(fixedDelay = 2000)\r\nThe task will run `fixedDelay` milliseconds one after another\r\n&gt; Execute the annotated method with a fixed period in milliseconds between the end of the last invocation and the start of the next.","title":"How wait @Scheduled till previous task is not finished?","body":"<p>Instead of <code>fixedRate</code>, use <code>fixedDelay</code>:</p>\n\n<pre><code>@Scheduled(fixedDelay = 2000)\n</code></pre>\n\n<p>The task will run <code>fixedDelay</code> milliseconds one after another</p>\n\n<blockquote>\n  <p>Execute the annotated method with a fixed period in milliseconds between the end of the last invocation and the start of the next.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4454424,"reputation":7384,"user_id":3625215,"accept_rate":47,"display_name":"MyTwoCents"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1647444433,"creation_date":1546596101,"answer_id":54036690,"question_id":54036507,"body_markdown":"Use `fixedDelay` \r\n\r\n**fixedRate :** makes Spring run the task at every n millisecond.\r\n\r\n**fixedDelay :** specifically controls the next task execution time by delaying next task by n millisecond after the last execution finishes.\r\n\r\nIn code:\r\n\r\n    @Scheduled(fixedDelay=5000)\r\n    public void updateEmployeeInventory(){\r\n        \r\n    }    \r\n    \r\n    @Scheduled(fixedRate=5000)\r\n    public void updateEmployeeInventory(){\r\n       \r\n    }","title":"How wait @Scheduled till previous task is not finished?","body":"<p>Use <code>fixedDelay</code></p>\n<p><strong>fixedRate :</strong> makes Spring run the task at every n millisecond.</p>\n<p><strong>fixedDelay :</strong> specifically controls the next task execution time by delaying next task by n millisecond after the last execution finishes.</p>\n<p>In code:</p>\n<pre><code>@Scheduled(fixedDelay=5000)\npublic void updateEmployeeInventory(){\n    \n}    \n\n@Scheduled(fixedRate=5000)\npublic void updateEmployeeInventory(){\n   \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21584320,"reputation":11,"user_id":15915047,"display_name":"Mohamed Abdullah J"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1620898297,"creation_date":1620898297,"answer_id":67516946,"question_id":54036507,"body_markdown":"    @Scheduled(fixedDelay = 1000, initialDelay = 1000)\r\n\r\nYou should use the **initialDelay** prop with @scheduled annotation inorder to wait for sometime.","title":"How wait @Scheduled till previous task is not finished?","body":"<pre><code>@Scheduled(fixedDelay = 1000, initialDelay = 1000)\n</code></pre>\n<p>You should use the <strong>initialDelay</strong> prop with @scheduled annotation inorder to wait for sometime.</p>\n"}],"owner":{"account_id":14823229,"reputation":51,"user_id":10704870,"display_name":"Reema"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17515,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1647444433,"creation_date":1546595440,"question_id":54036507,"body_markdown":"I want to wail my scheduler till my task is complete.if there is time for second schedule execution, it has to wait till previous task is not complete.\r\nI m using @Schedule in java Boot application.\r\nI want to insert data into data base in every 5 minutes but i want to hold my schedule till the inset data is not complete still there is a time for second execution.Demo Code \r\n\r\n    @Scheduled(fixedRate = 2000)\r\n        public void scheduleTaskWithFixedRate() {\r\n        \tlogger.info(&quot;Fixed Rate Task :: Execution Time - {}&quot;, dateTimeFormatter.format(LocalDateTime.now()) );\r\n        }","title":"How wait @Scheduled till previous task is not finished?","body":"<p>I want to wail my scheduler till my task is complete.if there is time for second schedule execution, it has to wait till previous task is not complete.\nI m using @Schedule in java Boot application.\nI want to insert data into data base in every 5 minutes but i want to hold my schedule till the inset data is not complete still there is a time for second execution.Demo Code </p>\n\n<pre><code>@Scheduled(fixedRate = 2000)\n    public void scheduleTaskWithFixedRate() {\n        logger.info(\"Fixed Rate Task :: Execution Time - {}\", dateTimeFormatter.format(LocalDateTime.now()) );\n    }\n</code></pre>\n"},{"tags":["java","loops","filewriter"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":2,"creation_date":1647446532,"post_id":71499806,"comment_id":126374655,"body_markdown":"Use `this.fileWriter.flush()` after every `this.fileWriter.write()`. If you want to add (append) lines of data to the file instead of overwriting the file contents then open the file as: `this.fileWriter = new FileWriter(this.csvFile, true);`.","body":"Use <code>this.fileWriter.flush()</code> after every <code>this.fileWriter.write()</code>. If you want to add (append) lines of data to the file instead of overwriting the file contents then open the file as: <code>this.fileWriter = new FileWriter(this.csvFile, true);</code>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1647446546,"post_id":71499806,"comment_id":126374663,"body_markdown":"I wouldn&#39;t keep the file open. Open in append mode and close asap in case of errors and hence data loss.","body":"I wouldn&#39;t keep the file open. Open in append mode and close asap in case of errors and hence data loss."}],"owner":{"account_id":1766239,"reputation":771,"user_id":1612060,"accept_rate":78,"display_name":"ThatQuantDude"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":341,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647444357,"creation_date":1647444357,"question_id":71499806,"body_markdown":"I am working on a debuging csv output inside an event driven java application. I define my filewriter like this on init. \r\n\r\n        public File csvFile;\r\n        public FileWriter fileWriter;\r\n\r\nthen I initialies them\r\n\r\n     this.csvFile = new File(&quot;c:\\\\missingitems.csv&quot;);\r\n        this.fileWriter = null;\r\n        try {\r\n            this.fileWriter = new FileWriter(this.csvFile);\r\n            StringBuilder line = new StringBuilder();\r\n            line.append(&quot;Date, ItemId&quot;);\r\n            line.append(&quot;\\n&quot;);\r\n            this.fileWriter.write(line.toString());\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } \r\n\r\nthen within my actual program logic this gets called for every timestep in my data\r\n\r\n    for(Long item : this.items) {\r\n                StringBuilder line = new StringBuilder();\r\n                line.append(event.getDateTime().toLocalDate().toString() + &quot;,&quot; +item.intValue());\r\n                line.append(&quot;\\n&quot;);\r\n                try {\r\n                    this.fileWriter.write(line.toString());\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n\r\non exit of my program I call \r\n\r\n            try {\r\n            this.fileWriter.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n\r\nHowever this seems to be only working if i close the filewriter after each append. Is there a way of keeping the file open and just append to it, I would also like to not loose my data in case my application crashes. I am a python guy and not super familiar with java.","title":"Append to csv in for loop using filewriter","body":"<p>I am working on a debuging csv output inside an event driven java application. I define my filewriter like this on init.</p>\n<pre><code>    public File csvFile;\n    public FileWriter fileWriter;\n</code></pre>\n<p>then I initialies them</p>\n<pre><code> this.csvFile = new File(&quot;c:\\\\missingitems.csv&quot;);\n    this.fileWriter = null;\n    try {\n        this.fileWriter = new FileWriter(this.csvFile);\n        StringBuilder line = new StringBuilder();\n        line.append(&quot;Date, ItemId&quot;);\n        line.append(&quot;\\n&quot;);\n        this.fileWriter.write(line.toString());\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    } \n</code></pre>\n<p>then within my actual program logic this gets called for every timestep in my data</p>\n<pre><code>for(Long item : this.items) {\n            StringBuilder line = new StringBuilder();\n            line.append(event.getDateTime().toLocalDate().toString() + &quot;,&quot; +item.intValue());\n            line.append(&quot;\\n&quot;);\n            try {\n                this.fileWriter.write(line.toString());\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n</code></pre>\n<p>on exit of my program I call</p>\n<pre><code>        try {\n        this.fileWriter.close();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n<p>However this seems to be only working if i close the filewriter after each append. Is there a way of keeping the file open and just append to it, I would also like to not loose my data in case my application crashes. I am a python guy and not super familiar with java.</p>\n"},{"tags":["java","quarkus","resteasy","mutiny"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1647343495,"post_id":71469490,"comment_id":126342225,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":15988518,"reputation":33,"user_id":11839635,"display_name":"Gleb Shakhov"},"score":0,"creation_date":1647406493,"post_id":71469490,"comment_id":126360346,"body_markdown":"Added method I wrote about","body":"Added method I wrote about"},{"owner":{"account_id":1276303,"reputation":2937,"user_id":1231484,"display_name":"Clement"},"score":0,"creation_date":1647418399,"post_id":71469490,"comment_id":126363044,"body_markdown":"Use `.invoke(id -&gt; ...`) or `.onItem().transform(id -&gt; new MyResponse(id));` The method will then return a Uni&lt;MyResponse&gt;.","body":"Use <code>.invoke(id -&gt; ...</code>) or <code>.onItem().transform(id -&gt; new MyResponse(id));</code> The method will then return a Uni&lt;MyResponse&gt;."}],"answers":[{"tags":[],"owner":{"account_id":24257084,"reputation":140,"user_id":18207271,"display_name":"oaklandcorp-jkaiser"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647444253,"creation_date":1647444253,"answer_id":71499771,"question_id":71469490,"body_markdown":"If you need both successful and non-successful responses to map to the same class, you could write separate transforms. One for success and one for failure.\r\n```\r\npublic static Uni&lt;RetailPlaceResponse&gt; create(PgPool client, RetailPlace retailPlace) {\r\n    return client.withTransaction(conn -&gt; conn\r\n            .preparedQuery(&quot;INSERT INTO retail_place (title) VALUES ($1) RETURNING id&quot;)\r\n            .execute(Tuple.of(retailPlace.getRetailPlaceTitle()))\r\n            .onItem().transformToUni(id -&gt; conn.\r\n                    preparedQuery(&quot;INSERT INTO retail_place_address (retail_place_id,region_code,city,locality_id,apartment,house,region,street) &quot; +\r\n                            &quot;VALUES ($1,$2,$3,$4,$5,$6,$7,$8) returning retail_place_id&quot;)\r\n                    .execute(Tuple.tuple(Arrays.asList(id.iterator().next().getLong(&quot;id&quot;), retailPlace.getRetailPlaceAddress().getRegionCode(),\r\n                            retailPlace.getRetailPlaceAddress().getCity(), retailPlace.getRetailPlaceAddress().getLocalityId(),\r\n                            retailPlace.getRetailPlaceAddress().getApartment(), retailPlace.getRetailPlaceAddress().getHouse(),\r\n                            retailPlace.getRetailPlaceAddress().getRegion(), retailPlace.getRetailPlaceAddress().getStreet())))))\r\n            .onItem().transform(pgRowSet -&gt; new RetailPlaceResponse(null, pgRowSet.iterator().next().getLong(&quot;retail_place_id&quot;), true))\r\n            .onFailure().transform(error -&gt; new RetailPlaceResponse(error.toString(), 0, false));\r\n}\r\n```","title":"How to use a variable from Uni, Mutiny","body":"<p>If you need both successful and non-successful responses to map to the same class, you could write separate transforms. One for success and one for failure.</p>\n<pre><code>public static Uni&lt;RetailPlaceResponse&gt; create(PgPool client, RetailPlace retailPlace) {\n    return client.withTransaction(conn -&gt; conn\n            .preparedQuery(&quot;INSERT INTO retail_place (title) VALUES ($1) RETURNING id&quot;)\n            .execute(Tuple.of(retailPlace.getRetailPlaceTitle()))\n            .onItem().transformToUni(id -&gt; conn.\n                    preparedQuery(&quot;INSERT INTO retail_place_address (retail_place_id,region_code,city,locality_id,apartment,house,region,street) &quot; +\n                            &quot;VALUES ($1,$2,$3,$4,$5,$6,$7,$8) returning retail_place_id&quot;)\n                    .execute(Tuple.tuple(Arrays.asList(id.iterator().next().getLong(&quot;id&quot;), retailPlace.getRetailPlaceAddress().getRegionCode(),\n                            retailPlace.getRetailPlaceAddress().getCity(), retailPlace.getRetailPlaceAddress().getLocalityId(),\n                            retailPlace.getRetailPlaceAddress().getApartment(), retailPlace.getRetailPlaceAddress().getHouse(),\n                            retailPlace.getRetailPlaceAddress().getRegion(), retailPlace.getRetailPlaceAddress().getStreet())))))\n            .onItem().transform(pgRowSet -&gt; new RetailPlaceResponse(null, pgRowSet.iterator().next().getLong(&quot;retail_place_id&quot;), true))\n            .onFailure().transform(error -&gt; new RetailPlaceResponse(error.toString(), 0, false));\n}\n</code></pre>\n"}],"owner":{"account_id":15988518,"reputation":33,"user_id":11839635,"display_name":"Gleb Shakhov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1528,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71499771,"answer_count":1,"score":1,"last_activity_date":1647444253,"creation_date":1647268616,"question_id":71469490,"body_markdown":"I created a reactive resteasy service with Quarkus and Mutiny. In POST method I insert object in my PostgreSQL table and get an Uni&lt; id &gt; in return. I need to set this id as part of my Response class which contains f.ex. &quot;id&quot;, &quot;errorCode&quot;, &quot;errorString&quot; and other variables, but I struggle as id comes as Uni object and I don&#39;t know how to extract id from it.\r\n\r\nCreate method:\r\n\r\n    \r\n\r\n  \r\n\r\n      public static Uni&lt;Long&gt; create(PgPool client, RetailPlace retailPlace) {\r\n            return client.withTransaction(conn -&gt; conn\r\n                    .preparedQuery(&quot;INSERT INTO retail_place (title) VALUES ($1) RETURNING id&quot;)\r\n                    .execute(Tuple.of(retailPlace.getRetailPlaceTitle()))\r\n                    .onItem().transformToUni(id -&gt; conn.\r\n                            preparedQuery(&quot;INSERT INTO retail_place_address (retail_place_id,region_code,city,locality_id,apartment,house,region,street) &quot; +\r\n                                    &quot;VALUES ($1,$2,$3,$4,$5,$6,$7,$8) returning retail_place_id&quot;)\r\n                            .execute(Tuple.tuple(Arrays.asList(id.iterator().next().getLong(&quot;id&quot;), retailPlace.getRetailPlaceAddress().getRegionCode(),\r\n                                    retailPlace.getRetailPlaceAddress().getCity(), retailPlace.getRetailPlaceAddress().getLocalityId(),\r\n                                    retailPlace.getRetailPlaceAddress().getApartment(), retailPlace.getRetailPlaceAddress().getHouse(),\r\n                                    retailPlace.getRetailPlaceAddress().getRegion(), retailPlace.getRetailPlaceAddress().getStreet())))))\r\n                    .onItem().transform(pgRowSet -&gt; pgRowSet.iterator().next().getLong(&quot;retail_place_id&quot;));\r\n        }\r\n\r\nI get long value of id in return. Now I need to return a RetailPlaceResponse with id value in it:\r\n\r\n    public RetailPlaceResponse(String errorCode, long id, boolean isSuccessful) {\r\n        this.errorCode = errorCode;\r\n        this.id = id;\r\n        this.isSuccessful = isSuccessful;\r\n    }\r\n","title":"How to use a variable from Uni, Mutiny","body":"<p>I created a reactive resteasy service with Quarkus and Mutiny. In POST method I insert object in my PostgreSQL table and get an Uni&lt; id &gt; in return. I need to set this id as part of my Response class which contains f.ex. &quot;id&quot;, &quot;errorCode&quot;, &quot;errorString&quot; and other variables, but I struggle as id comes as Uni object and I don't know how to extract id from it.</p>\n<p>Create method:</p>\n<pre><code>  public static Uni&lt;Long&gt; create(PgPool client, RetailPlace retailPlace) {\n        return client.withTransaction(conn -&gt; conn\n                .preparedQuery(&quot;INSERT INTO retail_place (title) VALUES ($1) RETURNING id&quot;)\n                .execute(Tuple.of(retailPlace.getRetailPlaceTitle()))\n                .onItem().transformToUni(id -&gt; conn.\n                        preparedQuery(&quot;INSERT INTO retail_place_address (retail_place_id,region_code,city,locality_id,apartment,house,region,street) &quot; +\n                                &quot;VALUES ($1,$2,$3,$4,$5,$6,$7,$8) returning retail_place_id&quot;)\n                        .execute(Tuple.tuple(Arrays.asList(id.iterator().next().getLong(&quot;id&quot;), retailPlace.getRetailPlaceAddress().getRegionCode(),\n                                retailPlace.getRetailPlaceAddress().getCity(), retailPlace.getRetailPlaceAddress().getLocalityId(),\n                                retailPlace.getRetailPlaceAddress().getApartment(), retailPlace.getRetailPlaceAddress().getHouse(),\n                                retailPlace.getRetailPlaceAddress().getRegion(), retailPlace.getRetailPlaceAddress().getStreet())))))\n                .onItem().transform(pgRowSet -&gt; pgRowSet.iterator().next().getLong(&quot;retail_place_id&quot;));\n    }\n</code></pre>\n<p>I get long value of id in return. Now I need to return a RetailPlaceResponse with id value in it:</p>\n<pre><code>public RetailPlaceResponse(String errorCode, long id, boolean isSuccessful) {\n    this.errorCode = errorCode;\n    this.id = id;\n    this.isSuccessful = isSuccessful;\n}\n</code></pre>\n"},{"tags":["java","swing","jtextarea","caret"],"answers":[{"tags":[],"owner":{"account_id":1394697,"reputation":14498,"user_id":1324709,"accept_rate":94,"display_name":"Branislav Lazic"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1370563240,"creation_date":1370563119,"answer_id":16974151,"question_id":16974119,"body_markdown":"Call [`textArea.setCaretColor(Color.WHITE);`](http://docs.oracle.com/javase/7/docs/api/javax/swing/text/JTextComponent.html#setCaretColor%28java.awt.Color%29) method.","title":"Change Position Marker Color in JTextArea","body":"<p>Call <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/text/JTextComponent.html#setCaretColor%28java.awt.Color%29\"><code>textArea.setCaretColor(Color.WHITE);</code></a> method.</p>\n"}],"owner":{"account_id":2603600,"reputation":1542,"user_id":2255301,"accept_rate":84,"display_name":"nrubin29"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":635,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":16974151,"answer_count":1,"score":2,"last_activity_date":1647443455,"creation_date":1370562907,"question_id":16974119,"body_markdown":"I was wondering how to change the color of the position marker (the blinking I) in a JTextArea. The reason I want to do this is because I&#39;m going to have a GUI with a black background, and green text (old terminal style). I want a white or green position marker. Thanks!","title":"Change Position Marker Color in JTextArea","body":"<p>I was wondering how to change the color of the position marker (the blinking I) in a JTextArea. The reason I want to do this is because I'm going to have a GUI with a black background, and green text (old terminal style). I want a white or green position marker. Thanks!</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8481,"page":1511,"page_size":100}
