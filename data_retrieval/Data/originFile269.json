{"items":[{"tags":["java","junit","mocking","mockito"],"comments":[{"owner":{"account_id":508815,"reputation":2213,"user_id":1372195,"accept_rate":83,"display_name":"Carlo Moretti"},"score":1,"creation_date":1479978313,"post_id":40781857,"comment_id":68786881,"body_markdown":"What is your goal? What have your tried? Why do you need to print those interactions, how are you gonna &quot;use it in the code&quot;?","body":"What is your goal? What have your tried? Why do you need to print those interactions, how are you gonna &quot;use it in the code&quot;?"},{"owner":{"account_id":1188061,"reputation":5354,"user_id":1161594,"accept_rate":79,"display_name":"USer22999299"},"score":0,"creation_date":1479986676,"post_id":40781857,"comment_id":68792827,"body_markdown":"@Onheiron After getting all of the interactions with mock i can use verify(mock, times(x)).method(1); and after this the verifyNoMoreInteractions(mock) i would like to have the list of interactions in order to set the behavior of the methods","body":"@Onheiron After getting all of the interactions with mock i can use verify(mock, times(x)).method(1); and after this the verifyNoMoreInteractions(mock) i would like to have the list of interactions in order to set the behavior of the methods"},{"owner":{"account_id":508815,"reputation":2213,"user_id":1372195,"accept_rate":83,"display_name":"Carlo Moretti"},"score":0,"creation_date":1479988354,"post_id":40781857,"comment_id":68793910,"body_markdown":"To use `verify(mock, times(x)).method(1);` you don&#39;t need the list of all interactions, that&#39;s what mockito does: it checks the interactions with mock.method(1) were x and no more/less.","body":"To use <code>verify(mock, times(x)).method(1);</code> you don&#39;t need the list of all interactions, that&#39;s what mockito does: it checks the interactions with mock.method(1) were x and no more/less."},{"owner":{"account_id":1188061,"reputation":5354,"user_id":1161594,"accept_rate":79,"display_name":"USer22999299"},"score":0,"creation_date":1479988449,"post_id":40781857,"comment_id":68793971,"body_markdown":"@Onheiron yeah, i know this trick by in case you have class with 7-10 other mocks that each one has 10-20 interactions, i would like to have the list of interactions in advance and than write all of the verification instead write one, run, fix and so on..","body":"@Onheiron yeah, i know this trick by in case you have class with 7-10 other mocks that each one has 10-20 interactions, i would like to have the list of interactions in advance and than write all of the verification instead write one, run, fix and so on.."},{"owner":{"account_id":508815,"reputation":2213,"user_id":1372195,"accept_rate":83,"display_name":"Carlo Moretti"},"score":2,"creation_date":1479989632,"post_id":40781857,"comment_id":68794736,"body_markdown":"The number of interactions expected should be given by the behaviour you&#39;re testing. I mean, you don&#39;t start from a list of interactions and then write verification (whatever that means), instead, you start by a desired behaviour (a set of desired interactions) and you check those occurred afterwards.","body":"The number of interactions expected should be given by the behaviour you&#39;re testing. I mean, you don&#39;t start from a list of interactions and then write verification (whatever that means), instead, you start by a desired behaviour (a set of desired interactions) and you check those occurred afterwards."},{"owner":{"account_id":1188061,"reputation":5354,"user_id":1161594,"accept_rate":79,"display_name":"USer22999299"},"score":0,"creation_date":1479991191,"post_id":40781857,"comment_id":68795795,"body_markdown":"@Onheiron :) this would be solved by using TDD but that was not my intention. The given is that i have a class with an algorithm that use a lot of other classes that i mock, while adding a new method that calls tons of other methods, i would like to make sure that only x amount of methods been called y amount of times as the code working now, and make sure if someone will change something in the feature lets say by mistake calling another method and now its been called 5 times instead of 4, that the test will failed, therefore i would like to know the number of the current interaction","body":"@Onheiron :) this would be solved by using TDD but that was not my intention. The given is that i have a class with an algorithm that use a lot of other classes that i mock, while adding a new method that calls tons of other methods, i would like to make sure that only x amount of methods been called y amount of times as the code working now, and make sure if someone will change something in the feature lets say by mistake calling another method and now its been called 5 times instead of 4, that the test will failed, therefore i would like to know the number of the current interaction"},{"owner":{"account_id":508815,"reputation":2213,"user_id":1372195,"accept_rate":83,"display_name":"Carlo Moretti"},"score":0,"creation_date":1479991901,"post_id":40781857,"comment_id":68796276,"body_markdown":"TDD is making a test before even writing any code (defining its behaviour before its implementation) and then code till the test passes. In this case, you don&#39;t want to do this, but you still have to want to test something. You test a behaviour, this means you want to test that, when you call method `a()` on your tested class, then methods `x()`, `y()` and `z()` are called on a given mock. Do you have access to the code of your tested class? If so, you should be able to know what interactions with each mock should be called when you call method `a()` just by reading it.","body":"TDD is making a test before even writing any code (defining its behaviour before its implementation) and then code till the test passes. In this case, you don&#39;t want to do this, but you still have to want to test something. You test a behaviour, this means you want to test that, when you call method <code>a()</code> on your tested class, then methods <code>x()</code>, <code>y()</code> and <code>z()</code> are called on a given mock. Do you have access to the code of your tested class? If so, you should be able to know what interactions with each mock should be called when you call method <code>a()</code> just by reading it."}],"answers":[{"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"down_vote_count":2,"up_vote_count":36,"is_accepted":true,"score":34,"last_activity_date":1691095893,"creation_date":1480104379,"answer_id":40811677,"question_id":40781857,"body_markdown":"You can use [MockingDetails](https://static.javadoc.io/org.mockito/mockito-core/2.2.22/org/mockito/MockingDetails.html) and either `printInvocations` or `getInvocations` to inspect the interactions belonging to a mock. However, this will not produce a list of invocations belonging to multiple mocks in the order that happened: just interactions with each individual mock.\r\n\r\nCode snippet, as contributed by [elhefe](https://stackoverflow.com/users/643675/elhefe) and [Anand Rockzz](https://stackoverflow.com/users/234110/anand-rockzz):\r\n\r\n```java\r\nimport static org.mockito.Mockito.mockingDetails;\r\n\r\nSystem.out.println(mockingDetails(mock).printInvocations());\r\n/* or */\r\nSystem.out.println(mockingDetails(mock).getInvocations());\r\n```\r\n\r\nAcknowledging your reluctance and caveats in the comments, I would say that this is a technique that does more to _lock in your current implementation_ than to _analyze your real constraints and prevent regressions_. Furthermore, if your algorithm has a lot of interactions with direct collaborators, that might be an indication that the algorithm should be refactored.\r\n\r\nIf the system is untested or undocumented legacy code, this might be a practical way to programmatically generate a regression test or analysis--a _temporary starting point_ for more-informed regression testing--but in your shoes I would instead start by documenting the contract of each component and then writing a test that confirms those interactions and constraints. As described in [the article &quot;is there a difference between asking and telling?&quot;](https://szczepiq.wordpress.com/2008/04/26/asking-and-telling/) by Mockito&#39;s original developer  Szczepan Faber), Mockito recommendations tend toward adding stubs until tests pass and adding verifications/counts only where there are expensive or non-idempotent side effects.","title":"How to print all interactions with a mock using Mockito","body":"<p>You can use <a href=\"https://static.javadoc.io/org.mockito/mockito-core/2.2.22/org/mockito/MockingDetails.html\" rel=\"nofollow noreferrer\">MockingDetails</a> and either <code>printInvocations</code> or <code>getInvocations</code> to inspect the interactions belonging to a mock. However, this will not produce a list of invocations belonging to multiple mocks in the order that happened: just interactions with each individual mock.</p>\n<p>Code snippet, as contributed by <a href=\"https://stackoverflow.com/users/643675/elhefe\">elhefe</a> and <a href=\"https://stackoverflow.com/users/234110/anand-rockzz\">Anand Rockzz</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static org.mockito.Mockito.mockingDetails;\n\nSystem.out.println(mockingDetails(mock).printInvocations());\n/* or */\nSystem.out.println(mockingDetails(mock).getInvocations());\n</code></pre>\n<p>Acknowledging your reluctance and caveats in the comments, I would say that this is a technique that does more to <em>lock in your current implementation</em> than to <em>analyze your real constraints and prevent regressions</em>. Furthermore, if your algorithm has a lot of interactions with direct collaborators, that might be an indication that the algorithm should be refactored.</p>\n<p>If the system is untested or undocumented legacy code, this might be a practical way to programmatically generate a regression test or analysis--a <em>temporary starting point</em> for more-informed regression testing--but in your shoes I would instead start by documenting the contract of each component and then writing a test that confirms those interactions and constraints. As described in <a href=\"https://szczepiq.wordpress.com/2008/04/26/asking-and-telling/\" rel=\"nofollow noreferrer\">the article &quot;is there a difference between asking and telling?&quot;</a> by Mockito's original developer  Szczepan Faber), Mockito recommendations tend toward adding stubs until tests pass and adding verifications/counts only where there are expensive or non-idempotent side effects.</p>\n"}],"owner":{"account_id":1188061,"reputation":5354,"user_id":1161594,"accept_rate":79,"display_name":"USer22999299"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13512,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":40811677,"answer_count":1,"score":25,"last_activity_date":1691095893,"creation_date":1479978045,"question_id":40781857,"body_markdown":"So let&#39;s say I have to write some test on `ClassA` that has a `ClassB` as member and I&#39;m mocking `ClassB`.\r\n\r\nAt the end of the test i would like to use `verify(..)` and `verifyNoMoreInteractions(..)` to set the behaviour and validation for all of the mock calls.\r\n\r\nLet&#39;s say that the mock has more than 10 interactions with different methods.\r\n\r\nIs there any way to get JUnit to print all of the mock interactions and then use it in the code? \r\n\r\nRight now I&#39;m just reading the code and looking for the calls and than writing the verification line in the test. I&#39;m sure there is an easier way (TDD wont be possible in my situation :)) \r\n\r\nMy use case: I have a class with an algorithm that uses a lot of other classes that I mock. While adding a new method that calls tons of other methods, I would like to make sure that only x amount of methods been called y amount of times as the code working now. This will make sure if someone changes something in the future, let&#39;s say by mistake calling a method 5 times instead of 4, then the test will fail.","title":"How to print all interactions with a mock using Mockito","body":"<p>So let's say I have to write some test on <code>ClassA</code> that has a <code>ClassB</code> as member and I'm mocking <code>ClassB</code>.</p>\n\n<p>At the end of the test i would like to use <code>verify(..)</code> and <code>verifyNoMoreInteractions(..)</code> to set the behaviour and validation for all of the mock calls.</p>\n\n<p>Let's say that the mock has more than 10 interactions with different methods.</p>\n\n<p>Is there any way to get JUnit to print all of the mock interactions and then use it in the code? </p>\n\n<p>Right now I'm just reading the code and looking for the calls and than writing the verification line in the test. I'm sure there is an easier way (TDD wont be possible in my situation :)) </p>\n\n<p>My use case: I have a class with an algorithm that uses a lot of other classes that I mock. While adding a new method that calls tons of other methods, I would like to make sure that only x amount of methods been called y amount of times as the code working now. This will make sure if someone changes something in the future, let's say by mistake calling a method 5 times instead of 4, then the test will fail.</p>\n"},{"tags":["java","spring","junit","mockmvc"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1490955680,"post_id":43138249,"comment_id":73353417,"body_markdown":"The fact that something is written with JUnit doesn&#39;t mean it is a unit test it could very well be an integration test in which you wan to test the whole setup.","body":"The fact that something is written with JUnit doesn&#39;t mean it is a unit test it could very well be an integration test in which you wan to test the whole setup."},{"owner":{"account_id":1175311,"reputation":15568,"user_id":1151456,"accept_rate":83,"display_name":"Abubakkar"},"score":0,"creation_date":1490956121,"post_id":43138249,"comment_id":73353691,"body_markdown":"The tests that I have seen are definitely not integration tests","body":"The tests that I have seen are definitely not integration tests"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":4,"creation_date":1490956802,"post_id":43138249,"comment_id":73354128,"body_markdown":"MockMvc can be used in 2 different ways, standalone and with a full blown setup. Standalone mode is basically setting up the controller and you execute it like you would with a request. Added advantage is that you are also testing your mappings on your controller, which you wouldn&#39;t be testing if you simply invoke the method. This might be very handy if you expect certain things to happen (type checking, custom error handling) .","body":"MockMvc can be used in 2 different ways, standalone and with a full blown setup. Standalone mode is basically setting up the controller and you execute it like you would with a request. Added advantage is that you are also testing your mappings on your controller, which you wouldn&#39;t be testing if you simply invoke the method. This might be very handy if you expect certain things to happen (type checking, custom error handling) ."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1490956911,"post_id":43138249,"comment_id":73354205,"body_markdown":"Next to that if you really need an extensive unit test to test functionality of your controller you are probably doing too much in your controller it should basically be nothing more then an integration component between the web and your service layer. It should contain little to no logic.","body":"Next to that if you really need an extensive unit test to test functionality of your controller you are probably doing too much in your controller it should basically be nothing more then an integration component between the web and your service layer. It should contain little to no logic."}],"answers":[{"tags":[],"owner":{"account_id":5523724,"reputation":22000,"user_id":4385895,"accept_rate":58,"display_name":"Vasu"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1691095778,"creation_date":1490957487,"answer_id":43138861,"question_id":43138249,"body_markdown":"When it comes to the unit-testing of a `Controller` (or any Endpoint which is exposed) classes, there are two things that we will validate:\r\n\r\n(1) Controller&#39;s actual logic itself as standalone i.e., right service calls are invoked or not etc..\r\n\r\n(2) Request URL mapping and the Response status &amp; object\r\n\r\n(3) Input validation exceptions raised by Spring framework (when you use the @Valid)\r\n\r\nItem (1) above is what we test in general with all other classes like Services, Utility classes etc..\r\n\r\n**Items (2) &amp; (3) need to be covered/tested additionally for the endpoints (controller classes) which have been exposed**, so whether we use Spring&#39;s `MockMVC` or other machinery to do that, it is up to us really. \r\n\r\n**Spring&#39;s `MockMVC` indeed helps us to start the in-memory servlet container** &amp; check that the right controller methods are invoked &amp; then the right responses have been coming out.\r\n\r\nFrom my personal experience, testing the controllers (for item(2)) helped me to resolve URL mapping conflict issues (of course, within the same controller) etc.. straight away rather than fixing them at the later stages of the project.\r\n\r\n\r\n","title":"Why use Spring&#39;s Mock MVC when you have unit test of your controller classes","body":"<p>When it comes to the unit-testing of a <code>Controller</code> (or any Endpoint which is exposed) classes, there are two things that we will validate:</p>\n<p>(1) Controller's actual logic itself as standalone i.e., right service calls are invoked or not etc..</p>\n<p>(2) Request URL mapping and the Response status &amp; object</p>\n<p>(3) Input validation exceptions raised by Spring framework (when you use the @Valid)</p>\n<p>Item (1) above is what we test in general with all other classes like Services, Utility classes etc..</p>\n<p><strong>Items (2) &amp; (3) need to be covered/tested additionally for the endpoints (controller classes) which have been exposed</strong>, so whether we use Spring's <code>MockMVC</code> or other machinery to do that, it is up to us really.</p>\n<p><strong>Spring's <code>MockMVC</code> indeed helps us to start the in-memory servlet container</strong> &amp; check that the right controller methods are invoked &amp; then the right responses have been coming out.</p>\n<p>From my personal experience, testing the controllers (for item(2)) helped me to resolve URL mapping conflict issues (of course, within the same controller) etc.. straight away rather than fixing them at the later stages of the project.</p>\n"},{"tags":[],"owner":{"account_id":7517507,"reputation":1452,"user_id":5710456,"display_name":"Dhiraj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1490959233,"creation_date":1490959233,"answer_id":43139403,"question_id":43138249,"body_markdown":"Based on My experience I will try to answer your question.\r\n\r\n**First thing we need to understand why we use unit testing?**\r\n\r\n&gt; It is a extra check used by developer to write clean working code.\r\n&gt; Clean working code means every line written should be doing what it is\r\n&gt; expected to do. how do you achieve this? Here comes unit testing. The\r\n&gt; standalone unit of code you are writing should be verified standalone.\r\n&gt; Method is best part in code which represents standalone unit code\r\n&gt; template.\r\n\r\n**Unit Testing for Method**\r\n\r\n&gt; Developer should write a test for method which describes the method\r\n&gt; behavior. And possible checks that i follow is  is it returning the\r\n&gt; expected value considering all positive scenarios? is it working in\r\n&gt; case of Exception? is it calling correct subsequent methods ?\r\n&gt; \r\n&gt; **Developer should verify the method by actually calling it providing a\r\n&gt; mock environment**\r\n\r\nBelow is possible answer to your question. though it is solely based upon the developers.\r\n\r\nController methods are intended to invoke correct service call accepting input and returning the value from service to view. \r\nSo I may think of write a unit test case for controller method as you are thinking is a right approach. But **you should verify the method by calling it in same way as it will be called in real time.** \r\nso you need to call controller method in same way as MVC does. Hence it is better option to use MockMVC.\r\nMockMVC is also useful to verify the urls, input params , response and status which are part of controller method. Considering these all it makes it standalone unit of code.\r\n\r\nHope this will clarify your doubt.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Why use Spring&#39;s Mock MVC when you have unit test of your controller classes","body":"<p>Based on My experience I will try to answer your question.</p>\n\n<p><strong>First thing we need to understand why we use unit testing?</strong></p>\n\n<blockquote>\n  <p>It is a extra check used by developer to write clean working code.\n  Clean working code means every line written should be doing what it is\n  expected to do. how do you achieve this? Here comes unit testing. The\n  standalone unit of code you are writing should be verified standalone.\n  Method is best part in code which represents standalone unit code\n  template.</p>\n</blockquote>\n\n<p><strong>Unit Testing for Method</strong></p>\n\n<blockquote>\n  <p>Developer should write a test for method which describes the method\n  behavior. And possible checks that i follow is  is it returning the\n  expected value considering all positive scenarios? is it working in\n  case of Exception? is it calling correct subsequent methods ?</p>\n  \n  <p><strong>Developer should verify the method by actually calling it providing a\n  mock environment</strong></p>\n</blockquote>\n\n<p>Below is possible answer to your question. though it is solely based upon the developers.</p>\n\n<p>Controller methods are intended to invoke correct service call accepting input and returning the value from service to view. \nSo I may think of write a unit test case for controller method as you are thinking is a right approach. But <strong>you should verify the method by calling it in same way as it will be called in real time.</strong> \nso you need to call controller method in same way as MVC does. Hence it is better option to use MockMVC.\nMockMVC is also useful to verify the urls, input params , response and status which are part of controller method. Considering these all it makes it standalone unit of code.</p>\n\n<p>Hope this will clarify your doubt.</p>\n"}],"owner":{"account_id":1175311,"reputation":15568,"user_id":1151456,"accept_rate":83,"display_name":"Abubakkar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5770,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":43138861,"answer_count":2,"score":12,"last_activity_date":1691095778,"creation_date":1490955520,"question_id":43138249,"body_markdown":"I have seen people around me using Spring MVC in unit tests for controller classes, which is not helpful in what a unit test is for.\r\n\r\nUnit tests are supposed to test your actual implementation of the controller class, and this can be achieved more accurately with simple Junit tests rather than using Spring Mock MVC.\r\n\r\nBut then the question arises, what&#39;s the real usage of Spring Mock MVC then? What do you need it for?\r\n\r\nLet&#39;s say I have below code :\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/systemusers&quot;)\r\n    public class SystemUserController\r\n    {\r\n    \t@RequestMapping(value = &quot;/{id}&quot;, method = RequestMethod.GET)\r\n    \tpublic String getUser(final Model model)\r\n    \t{\r\n    \t\r\n    \t\t// some logic to return user&#39;s details as json\r\n\r\n    \t\treturn UserDetailsPage;\r\n    \t}\r\n     }\r\n\r\nI can test this class/controller more accurately with Junit than with Spring Mock MVC (all it does is generates some json which can be asserted with junit).\r\n\r\nI can also test with Spring Mock MVC like using the correct endpoint returns the correct HTTP status and correct response page string. \r\n\r\n**But doesn&#39;t that mean that we are testing Spring MVC&#39;s functionality rather than the actual code for method under test?**\r\n\r\nP.S. : I have kept the code to minimal which I think is sufficient to explain my question. Assume there is no compilation error.","title":"Why use Spring&#39;s Mock MVC when you have unit test of your controller classes","body":"<p>I have seen people around me using Spring MVC in unit tests for controller classes, which is not helpful in what a unit test is for.</p>\n\n<p>Unit tests are supposed to test your actual implementation of the controller class, and this can be achieved more accurately with simple Junit tests rather than using Spring Mock MVC.</p>\n\n<p>But then the question arises, what's the real usage of Spring Mock MVC then? What do you need it for?</p>\n\n<p>Let's say I have below code :</p>\n\n<pre><code>@Controller\n@RequestMapping(\"/systemusers\")\npublic class SystemUserController\n{\n    @RequestMapping(value = \"/{id}\", method = RequestMethod.GET)\n    public String getUser(final Model model)\n    {\n\n        // some logic to return user's details as json\n\n        return UserDetailsPage;\n    }\n }\n</code></pre>\n\n<p>I can test this class/controller more accurately with Junit than with Spring Mock MVC (all it does is generates some json which can be asserted with junit).</p>\n\n<p>I can also test with Spring Mock MVC like using the correct endpoint returns the correct HTTP status and correct response page string. </p>\n\n<p><strong>But doesn't that mean that we are testing Spring MVC's functionality rather than the actual code for method under test?</strong></p>\n\n<p>P.S. : I have kept the code to minimal which I think is sufficient to explain my question. Assume there is no compilation error.</p>\n"},{"tags":["java","android","date","datetime","time"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":2,"creation_date":1591620505,"post_id":62262367,"comment_id":110116215,"body_markdown":"Seriously, avoid the use of `java.util` whenever possible... What is the minimum API level you are supporting in this app? If you can use `java.time`, then do that. It&#39;s a lot better...","body":"Seriously, avoid the use of <code>java.util</code> whenever possible... What is the minimum API level you are supporting in this app? If you can use <code>java.time</code>, then do that. It&#39;s a lot better..."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1591620527,"post_id":62262367,"comment_id":110116226,"body_markdown":"A division by 365 and 12 comes mind.","body":"A division by 365 and 12 comes mind."},{"owner":{"account_id":8172676,"reputation":439,"user_id":6152567,"accept_rate":59,"display_name":"M Ansyori"},"score":0,"creation_date":1591620672,"post_id":62262367,"comment_id":110116299,"body_markdown":"@deHaar Hi, any reason why **java.time** is better? the current min api is 19 by the way","body":"@deHaar Hi, any reason why <b>java.time</b> is better? the current min api is 19 by the way"},{"owner":{"account_id":8172676,"reputation":439,"user_id":6152567,"accept_rate":59,"display_name":"M Ansyori"},"score":0,"creation_date":1591620799,"post_id":62262367,"comment_id":110116369,"body_markdown":"@blackapps Hello, can you please elaborate? do you mind giving an answer below?","body":"@blackapps Hello, can you please elaborate? do you mind giving an answer below?"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":2,"creation_date":1591621090,"post_id":62262367,"comment_id":110116513,"body_markdown":"There are several reasons, e.g. consideration of daylight saving times and the possibility of using objects with or without respect to time zones or offsets. However, it&#39;s natively supported from Android 26, but there is a [backport](https://github.com/JakeWharton/ThreeTenABP) recommended to be used in lower API versions.","body":"There are several reasons, e.g. consideration of daylight saving times and the possibility of using objects with or without respect to time zones or offsets. However, it&#39;s natively supported from Android 26, but there is a <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">backport</a> recommended to be used in lower API versions."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1591621129,"post_id":62262367,"comment_id":110116532,"body_markdown":"You learned in primary school to determine amount of months from amount of days. So what are you asking for? I forgot 31.","body":"You learned in primary school to determine amount of months from amount of days. So what are you asking for? I forgot 31."},{"owner":{"account_id":8172676,"reputation":439,"user_id":6152567,"accept_rate":59,"display_name":"M Ansyori"},"score":0,"creation_date":1591621316,"post_id":62262367,"comment_id":110116615,"body_markdown":"@deHaar Okay, thanks for your explanation. I&#39;ll write it down and try to migrate to java.time.","body":"@deHaar Okay, thanks for your explanation. I&#39;ll write it down and try to migrate to java.time."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1591621392,"post_id":62262367,"comment_id":110116663,"body_markdown":"Good... use one or both of the classes `Period` and `Duration` if you want to calculate elapsed temporal amounts.","body":"Good... use one or both of the classes <code>Period</code> and <code>Duration</code> if you want to calculate elapsed temporal amounts."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1591621549,"post_id":62262367,"comment_id":110116742,"body_markdown":"By the way... What is *since 2007* supposed to mean exactly? Since 2007-01-01 or since 2007-12-31? Is this all about the date part or do you want a difference in hours, minutes, seconds a.s.o., too?","body":"By the way... What is <i>since 2007</i> supposed to mean exactly? Since 2007-01-01 or since 2007-12-31? Is this all about the date part or do you want a difference in hours, minutes, seconds a.s.o., too?"},{"owner":{"account_id":8172676,"reputation":439,"user_id":6152567,"accept_rate":59,"display_name":"M Ansyori"},"score":0,"creation_date":1591621626,"post_id":62262367,"comment_id":110116780,"body_markdown":"@blackapps well I apologize if I wrote something ain&#39;t right. what I am asking for is that how do I get a result like for example, **1 Year and 5 Months since 2007** between *startDate* and *endDate* in BaseFragment. I was able to subtract the current date with days in integer passed to the function.","body":"@blackapps well I apologize if I wrote something ain&#39;t right. what I am asking for is that how do I get a result like for example, <b>1 Year and 5 Months since 2007</b> between <i>startDate</i> and <i>endDate</i> in BaseFragment. I was able to subtract the current date with days in integer passed to the function."},{"owner":{"account_id":8172676,"reputation":439,"user_id":6152567,"accept_rate":59,"display_name":"M Ansyori"},"score":0,"creation_date":1591621767,"post_id":62262367,"comment_id":110116857,"body_markdown":"@deHaar *since 2007* supposed to be extracted from endDate *2007* is just an example from the endDate.","body":"@deHaar <i>since 2007</i> supposed to be extracted from endDate <i>2007</i> is just an example from the endDate."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1591621943,"post_id":62262367,"comment_id":110116962,"body_markdown":"Well, 2007 is an incomplete because it has no day of year and no month of year, which seem to be mandatory for a calculation having a desired result like *13 years and 5 months*... But ok, I get you are receiving some kind of datetime object.","body":"Well, 2007 is an incomplete because it has no day of year and no month of year, which seem to be mandatory for a calculation having a desired result like <i>13 years and 5 months</i>... But ok, I get you are receiving some kind of datetime object."},{"owner":{"account_id":8172676,"reputation":439,"user_id":6152567,"accept_rate":59,"display_name":"M Ansyori"},"score":0,"creation_date":1591622127,"post_id":62262367,"comment_id":110117078,"body_markdown":"@deHaar I think from the generated Log above, the endDate result is Sun Jan 22 19:45:08 GMT+07:00 2017. It has a complete all-time requirement for a Date variable.","body":"@deHaar I think from the generated Log above, the endDate result is Sun Jan 22 19:45:08 GMT+07:00 2017. It has a complete all-time requirement for a Date variable."}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1591625235,"creation_date":1591623374,"answer_id":62263364,"question_id":62262367,"body_markdown":"[java.time][1]\r\n-\r\n\r\nYou can do it as follows:\r\n\r\n    import java.time.OffsetDateTime;\r\n    import java.time.Period;\r\n    import java.time.ZoneOffset;\r\n    import java.time.format.DateTimeFormatter;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// Define format\r\n    \t\tDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;EEE MMM dd HH:mm:ss O yyyy&quot;);\r\n    \r\n    \t\t// Date/time strings\r\n    \t\tString strEndDate = &quot;Mon Jun 08 19:45:08 GMT+07:00 2020&quot;;\r\n    \t\tString strStartDate = &quot;Sun Jan 22 19:45:08 GMT+07:00 2017&quot;;\r\n    \r\n    \t\t// Define ZoneOffset\r\n    \t\tZoneOffset zoneOffset = ZoneOffset.ofHours(6);\r\n    \r\n    \t\t// Parse date/time strings into OffsetDateTime\r\n    \t\tOffsetDateTime startDate = OffsetDateTime.parse(strStartDate, formatter).withOffsetSameLocal(zoneOffset);\r\n    \t\tOffsetDateTime endDate = OffsetDateTime.parse(strEndDate, formatter).withOffsetSameLocal(zoneOffset);\r\n    \r\n    \t\t// Calculate period between `startDate` and `endDate`\r\n    \t\tPeriod period = Period.between(startDate.toLocalDate(), endDate.toLocalDate());\r\n    \r\n    \t\t// Display result\r\n    \t\tSystem.out.println(\r\n    \t\t\t\tperiod.getYears() + &quot; years and &quot; + period.getMonths() + &quot; months since &quot; + startDate.getYear());\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    3 years and 4 months since 2017\r\n**Note:** Instead of using the outdated `java.util.Date` and `SimpleDateFormat`, use the modern date/time API. Check [this](https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html) to learn more about it.\r\n\r\n***\r\n**Note:** The following content has been copied from https://stackoverflow.com/questions/62235600/how-to-get-start-time-and-end-time-of-a-day-in-another-timezone-in-android/62236157#62236157\r\n\r\n## Question: Doesn’t java.time require Android API level 26?\r\n\r\njava.time works nicely on both older and newer Android devices. It just requires at least **Java 6**.\r\n\r\n - In Java 8 and later and on newer Android devices (from API level 26) the modern API comes built-in.\r\n - In non-Android Java 6 and 7 get the ThreeTen Backport, the backport of the modern classes (ThreeTen for JSR 310; see the links at the bottom).\r\n - On (older) Android use the Android edition of ThreeTen Backport. It’s called ThreeTenABP. And make sure you import the date and time classes from `org.threeten.bp` with subpackages.\r\n\r\n&gt; But don&#39;t we have any other option apart from switching to ThreeTenBP\r\n&gt; Library?\r\n\r\nIf you insisted, I suppose that a way through using `Calendar`, `Date` and `SimpleDateFormat` could be found. Those classes are poorly designed and long outdated, so with what I know and don’t know I would prefer ThreeTenABP.\r\n\r\n## Links\r\n\r\n - [Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use java.time.\r\n - [Java Specification Request (JSR) 310](https://jcp.org/en/jsr/detail?id=310), where `java.time` was first described.\r\n - [ThreeTen Backport project](http://www.threeten.org/threetenbp/), the backport of `java.time` to Java 6 and 7 (ThreeTen for JSR-310).\r\n - [ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP), Android edition of ThreeTen Backport\r\n - [Question: How to use ThreeTenABP in Android Project](https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project), with a very thorough explanation.\r\n - [Wikipedia article: ISO 8601](https://en.wikipedia.org/wiki/ISO_8601)\r\n\r\n***\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html","title":"Calculate Years and Months between Two Dates in Android","body":"<h2><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a></h2>\n\n<p>You can do it as follows:</p>\n\n<pre><code>import java.time.OffsetDateTime;\nimport java.time.Period;\nimport java.time.ZoneOffset;\nimport java.time.format.DateTimeFormatter;\n\npublic class Main {\n    public static void main(String[] args) {\n        // Define format\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"EEE MMM dd HH:mm:ss O yyyy\");\n\n        // Date/time strings\n        String strEndDate = \"Mon Jun 08 19:45:08 GMT+07:00 2020\";\n        String strStartDate = \"Sun Jan 22 19:45:08 GMT+07:00 2017\";\n\n        // Define ZoneOffset\n        ZoneOffset zoneOffset = ZoneOffset.ofHours(6);\n\n        // Parse date/time strings into OffsetDateTime\n        OffsetDateTime startDate = OffsetDateTime.parse(strStartDate, formatter).withOffsetSameLocal(zoneOffset);\n        OffsetDateTime endDate = OffsetDateTime.parse(strEndDate, formatter).withOffsetSameLocal(zoneOffset);\n\n        // Calculate period between `startDate` and `endDate`\n        Period period = Period.between(startDate.toLocalDate(), endDate.toLocalDate());\n\n        // Display result\n        System.out.println(\n                period.getYears() + \" years and \" + period.getMonths() + \" months since \" + startDate.getYear());\n    }\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>3 years and 4 months since 2017\n</code></pre>\n\n<p><strong>Note:</strong> Instead of using the outdated <code>java.util.Date</code> and <code>SimpleDateFormat</code>, use the modern date/time API. Check <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\" rel=\"nofollow noreferrer\">this</a> to learn more about it.</p>\n\n<hr>\n\n<p><strong>Note:</strong> The following content has been copied from <a href=\"https://stackoverflow.com/questions/62235600/how-to-get-start-time-and-end-time-of-a-day-in-another-timezone-in-android/62236157#62236157\">How to get start time and end time of a day in another timezone in Android</a></p>\n\n<h2>Question: Doesn’t java.time require Android API level 26?</h2>\n\n<p>java.time works nicely on both older and newer Android devices. It just requires at least <strong>Java 6</strong>.</p>\n\n<ul>\n<li>In Java 8 and later and on newer Android devices (from API level 26) the modern API comes built-in.</li>\n<li>In non-Android Java 6 and 7 get the ThreeTen Backport, the backport of the modern classes (ThreeTen for JSR 310; see the links at the bottom).</li>\n<li>On (older) Android use the Android edition of ThreeTen Backport. It’s called ThreeTenABP. And make sure you import the date and time classes from <code>org.threeten.bp</code> with subpackages.</li>\n</ul>\n\n<blockquote>\n  <p>But don't we have any other option apart from switching to ThreeTenBP\n  Library?</p>\n</blockquote>\n\n<p>If you insisted, I suppose that a way through using <code>Calendar</code>, <code>Date</code> and <code>SimpleDateFormat</code> could be found. Those classes are poorly designed and long outdated, so with what I know and don’t know I would prefer ThreeTenABP.</p>\n\n<h2>Links</h2>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a> explaining how to use java.time.</li>\n<li><a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">Java Specification Request (JSR) 310</a>, where <code>java.time</code> was first described.</li>\n<li><a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\">ThreeTen Backport project</a>, the backport of <code>java.time</code> to Java 6 and 7 (ThreeTen for JSR-310).</li>\n<li><a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a>, Android edition of ThreeTen Backport</li>\n<li><a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">Question: How to use ThreeTenABP in Android Project</a>, with a very thorough explanation.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">Wikipedia article: ISO 8601</a></li>\n</ul>\n\n<hr>\n"},{"tags":[],"owner":{"account_id":18269519,"reputation":1064,"user_id":13300553,"display_name":"Prathamesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591624134,"creation_date":1591624134,"answer_id":62263606,"question_id":62262367,"body_markdown":"If you can extract the month,day and year from both dates you can use following solution to calculate the exact difference between two dates.\r\n\r\n                \r\n                int sday=22 //int day of month here\r\n                int smonth=1 //int month here\r\n                int syear=2017 //int year here\r\n\r\n                int eday=5 //int day of month here\r\n                int emonth=6 //int month here\r\n                int eyear=2020 //int year here\r\n\r\n                    resyear = eyear - syear;\r\n                    if (emonth &gt;= smonth) {\r\n                        resmonth = emonth - smonth;\r\n                    } else {\r\n                        resmonth = emonth - smonth;\r\n                        resmonth = 12 + resmonth;\r\n                        resyear--;\r\n                    }\r\n                    if (eday &gt;= sday) {\r\n                        resday = eday - sday;\r\n                    } else {\r\n                        resday = eday - sday;\r\n                        resday = 31 + resday;\r\n                        if (resmonth == 0) {\r\n                            resmonth = 11;\r\n                            resyear--;\r\n                        } else {\r\n                            resmonth--;\r\n                        }\r\n                    }\r\n                    if (resday &lt;0 || resmonth&lt;0 || resyear&lt;0) {\r\n                        Toast.makeText(getApplicationContext(), &quot;starting date must greater than ending date&quot;, Toast.LENGTH_LONG).show();\r\n                        \r\n                    }\r\n                    else {\r\n\r\n    Toast.makeText(getApplicationContext(), &quot;difference: &quot; + resyear + &quot; years /&quot; + resmonth + &quot; months/&quot; + resday + &quot; days&quot;, Toast.LENGTH_LONG).show();\r\n                        \r\n                    }\r\n                }\r\n            \r\n","title":"Calculate Years and Months between Two Dates in Android","body":"<p>If you can extract the month,day and year from both dates you can use following solution to calculate the exact difference between two dates.</p>\n\n<pre><code>            int sday=22 //int day of month here\n            int smonth=1 //int month here\n            int syear=2017 //int year here\n\n            int eday=5 //int day of month here\n            int emonth=6 //int month here\n            int eyear=2020 //int year here\n\n                resyear = eyear - syear;\n                if (emonth &gt;= smonth) {\n                    resmonth = emonth - smonth;\n                } else {\n                    resmonth = emonth - smonth;\n                    resmonth = 12 + resmonth;\n                    resyear--;\n                }\n                if (eday &gt;= sday) {\n                    resday = eday - sday;\n                } else {\n                    resday = eday - sday;\n                    resday = 31 + resday;\n                    if (resmonth == 0) {\n                        resmonth = 11;\n                        resyear--;\n                    } else {\n                        resmonth--;\n                    }\n                }\n                if (resday &lt;0 || resmonth&lt;0 || resyear&lt;0) {\n                    Toast.makeText(getApplicationContext(), \"starting date must greater than ending date\", Toast.LENGTH_LONG).show();\n\n                }\n                else {\n\nToast.makeText(getApplicationContext(), \"difference: \" + resyear + \" years /\" + resmonth + \" months/\" + resday + \" days\", Toast.LENGTH_LONG).show();\n\n                }\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13827153,"reputation":1966,"user_id":9981129,"display_name":"Abhay Pratap"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691095386,"creation_date":1691095386,"answer_id":76831498,"question_id":62262367,"body_markdown":"    // in kotlin \r\n    fun getDateAndYearsDifference(startDate: Date?, endDate: Date? = null): String {\r\n        val startCalendar: Calendar = GregorianCalendar()\r\n        startCalendar.time = startDate\r\n        val endCalendar: Calendar = GregorianCalendar()\r\n        endCalendar.time = endDate ?: Calendar.getInstance().time\r\n        val period = Period(startCalendar.time.time, endCalendar.time.time, PeriodType.standard())\r\n        val yearsAndMonths = PeriodFormatterBuilder()\r\n            .printZeroNever()\r\n            .appendYears()\r\n            .appendSuffix(&quot; yrs&quot;, &quot; yrs&quot;)\r\n            .appendSeparator(Constants.COMMA)\r\n            .printZeroRarelyLast()\r\n            .appendMonths()\r\n            .appendSuffix(&quot; mos&quot;, &quot; mos&quot;)\r\n            .toFormatter()\r\n        return period.toString(yearsAndMonths)\r\n    }\r\n\r\n","title":"Calculate Years and Months between Two Dates in Android","body":"<pre><code>// in kotlin \nfun getDateAndYearsDifference(startDate: Date?, endDate: Date? = null): String {\n    val startCalendar: Calendar = GregorianCalendar()\n    startCalendar.time = startDate\n    val endCalendar: Calendar = GregorianCalendar()\n    endCalendar.time = endDate ?: Calendar.getInstance().time\n    val period = Period(startCalendar.time.time, endCalendar.time.time, PeriodType.standard())\n    val yearsAndMonths = PeriodFormatterBuilder()\n        .printZeroNever()\n        .appendYears()\n        .appendSuffix(&quot; yrs&quot;, &quot; yrs&quot;)\n        .appendSeparator(Constants.COMMA)\n        .printZeroRarelyLast()\n        .appendMonths()\n        .appendSuffix(&quot; mos&quot;, &quot; mos&quot;)\n        .toFormatter()\n    return period.toString(yearsAndMonths)\n}\n</code></pre>\n"}],"owner":{"account_id":8172676,"reputation":439,"user_id":6152567,"accept_rate":59,"display_name":"M Ansyori"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2661,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":62263364,"answer_count":3,"score":1,"last_activity_date":1691095386,"creation_date":1591620162,"question_id":62262367,"body_markdown":"I am trying to display a custom text result between two dates. Here is the code in my Fragment, which return two dates:\r\n\r\n    public class HomeFragment extends BaseFragment {\r\n\r\n      ...\r\n      \r\n      dashboardViewModel.productCategory.observe(this, data - &gt; {\r\n        if (data != null &amp;&amp; data.getData() != null) {\r\n          int totalLos = Integer.parseInt(data.getData().getLos());\r\n          Log.e(&quot;totalLOS&quot;, String.valueOf(totalLos));\r\n          explainDays(totalLos);\r\n          mBinding.los.setText(&quot;&quot;);\r\n        }\r\n      });\r\n      \r\n    }\r\n\r\n\r\nAnd here the code in BaseFragment which generate two dates:\r\n\r\n    public abstract class BaseFragment extends Fragment {\r\n\r\n      ...\r\n      public void explainDays(int totalDays) {\r\n\r\n        Calendar calendar = Calendar.getInstance();\r\n        Date start = calendar.getTime();\r\n\r\n        calendar.add(Calendar.DATE, -totalDays);\r\n        Date end = calendar.getTime();\r\n\r\n        Log.e(&quot;startDate&quot;, String.valueOf(start));\r\n        Log.e(&quot;endDate&quot;, String.valueOf(end));\r\n\r\n      }\r\n\r\n    }\r\n\r\n\r\nFrom the code above, I am getting these three logs:\r\n\r\n\r\n    E/totalLOS: 1233\r\n    E/startDate: Mon Jun 08 19:45:08 GMT+07:00 2020\r\n    E/endDate: Sun Jan 22 19:45:08 GMT+07:00 2017\r\n\r\n\r\nHow do I generate a response like for example **1 Year and 5 Months since 2007** between these two date results? the **since 2007** needs to be extracted from **endDate** from Log above.\r\n\r\nAny help will be much appreciated.\r\n\r\nThank you.","title":"Calculate Years and Months between Two Dates in Android","body":"<p>I am trying to display a custom text result between two dates. Here is the code in my Fragment, which return two dates:</p>\n\n<pre><code>public class HomeFragment extends BaseFragment {\n\n  ...\n\n  dashboardViewModel.productCategory.observe(this, data - &gt; {\n    if (data != null &amp;&amp; data.getData() != null) {\n      int totalLos = Integer.parseInt(data.getData().getLos());\n      Log.e(\"totalLOS\", String.valueOf(totalLos));\n      explainDays(totalLos);\n      mBinding.los.setText(\"\");\n    }\n  });\n\n}\n</code></pre>\n\n<p>And here the code in BaseFragment which generate two dates:</p>\n\n<pre><code>public abstract class BaseFragment extends Fragment {\n\n  ...\n  public void explainDays(int totalDays) {\n\n    Calendar calendar = Calendar.getInstance();\n    Date start = calendar.getTime();\n\n    calendar.add(Calendar.DATE, -totalDays);\n    Date end = calendar.getTime();\n\n    Log.e(\"startDate\", String.valueOf(start));\n    Log.e(\"endDate\", String.valueOf(end));\n\n  }\n\n}\n</code></pre>\n\n<p>From the code above, I am getting these three logs:</p>\n\n<pre><code>E/totalLOS: 1233\nE/startDate: Mon Jun 08 19:45:08 GMT+07:00 2020\nE/endDate: Sun Jan 22 19:45:08 GMT+07:00 2017\n</code></pre>\n\n<p>How do I generate a response like for example <strong>1 Year and 5 Months since 2007</strong> between these two date results? the <strong>since 2007</strong> needs to be extracted from <strong>endDate</strong> from Log above.</p>\n\n<p>Any help will be much appreciated.</p>\n\n<p>Thank you.</p>\n"},{"tags":["java","spring","spring-boot","spring-webflux"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687873491,"post_id":76565392,"comment_id":134995576,"body_markdown":"Multipart isn&#39;t supported yet, it will be as of Sprng 6.1, so probably Spring Boot 3.2.","body":"Multipart isn&#39;t supported yet, it will be as of Sprng 6.1, so probably Spring Boot 3.2."},{"owner":{"account_id":28833084,"reputation":5,"user_id":22083086,"display_name":"Max Bachhuber"},"score":0,"creation_date":1687873728,"post_id":76565392,"comment_id":134995651,"body_markdown":"@M.Deinum Oh, then it makes sense... Do you have a source for that statement?","body":"@M.Deinum Oh, then it makes sense... Do you have a source for that statement?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687874255,"post_id":76565392,"comment_id":134995809,"body_markdown":"[This commit](https://github.com/spring-projects/spring-framework/commit/e69a1d22f97f2907260cd9b992eb113700abf193) which was made 5 hours ago. It adds `Multipart` support to the http client.","body":"<a href=\"https://github.com/spring-projects/spring-framework/commit/e69a1d22f97f2907260cd9b992eb113700abf193\" rel=\"nofollow noreferrer\">This commit</a> which was made 5 hours ago. It adds <code>Multipart</code> support to the http client."},{"owner":{"account_id":28833084,"reputation":5,"user_id":22083086,"display_name":"Max Bachhuber"},"score":0,"creation_date":1687876385,"post_id":76565392,"comment_id":134996380,"body_markdown":"What a timing :D","body":"What a timing :D"}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687874395,"creation_date":1687874395,"answer_id":76565645,"question_id":76565392,"body_markdown":"Multipart support isn&#39;t possible yet, or at least `MultipartFile` support hasn&#39;t been added. See [this enhancement request][1] which will add. \r\n\r\nSupport has been added with [this commit][2], so it appears as it will be part of Spring Framework 6.1 and therefor probably Spring Boot 3.2. \r\n\r\n[1]: https://github.com/spring-projects/spring-framework/pull/30728\r\n[2]: https://github.com/spring-projects/spring-framework/commit/e69a1d22f97f2907260cd9b992eb113700abf193","title":"Why does the HttpExchange (declarative HttpClient) in Spring 6 use Jackson when trying to send multipart form-data?","body":"<p>Multipart support isn't possible yet, or at least <code>MultipartFile</code> support hasn't been added. See <a href=\"https://github.com/spring-projects/spring-framework/pull/30728\" rel=\"nofollow noreferrer\">this enhancement request</a> which will add.</p>\n<p>Support has been added with <a href=\"https://github.com/spring-projects/spring-framework/commit/e69a1d22f97f2907260cd9b992eb113700abf193\" rel=\"nofollow noreferrer\">this commit</a>, so it appears as it will be part of Spring Framework 6.1 and therefor probably Spring Boot 3.2.</p>\n"},{"tags":[],"owner":{"account_id":10443647,"reputation":97,"user_id":7699443,"display_name":"Louis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691095248,"creation_date":1691095248,"answer_id":76831487,"question_id":76565392,"body_markdown":"@M.Deinum is right. Multipart support isn&#39;t possible in Spring Boot versions below 3.2\r\n\r\nI resolved this by following [the commit][1] that is supposed to solve this in Spring Boot 3.2, then I replicated it in my project which is using **Spring Boot 3.0.1**\r\n\r\nSo what they did was to introduce a \r\n\r\n&gt; MultipartFileArgumentResolver\r\n\r\nBelow is my HttpClient configuration and how I adapted it to the solution in Spring Boot 3.2\r\n\r\n*PS: I am using Spring Security hence the OAuth2AuthorizedClientManager on my Webclient*\r\n\r\n\r\nBefore:\r\n  \r\n    @Configuration\r\n    @RequiredArgsConstructor\r\n    public class OAuth2ClientConfig { \r\n\r\n        private final OAuth2AuthorizedClientService clientService;\r\n        private final ApplicationConfigurations applicationConfigurations;\r\n        private final ClientRegistrationRepository clientRegistrationRepository;\r\n\r\n        @Bean\r\n        public OAuth2AuthorizedClientManager authorizedClientManager() {\r\n        OAuth2AuthorizedClientProvider authorizedClientProvider =\r\n                OAuth2AuthorizedClientProviderBuilder\r\n                        .builder()\r\n                        .refreshToken()\r\n                        .clientCredentials()\r\n                        .build();\r\n\r\n        AuthorizedClientServiceOAuth2AuthorizedClientManager authorizedClientManager =\r\n                new AuthorizedClientServiceOAuth2AuthorizedClientManager(clientRegistrationRepository, clientService);\r\n\r\n        authorizedClientManager.setAuthorizedClientProvider(authorizedClientProvider);\r\n        return authorizedClientManager;\r\n        }\r\n\r\n        @Bean\r\n        WebClient webClient(OAuth2AuthorizedClientManager authorizedClientManager) {\r\n            ServletOAuth2AuthorizedClientExchangeFilterFunction oauth2Client =\r\n                new ServletOAuth2AuthorizedClientExchangeFilterFunction(authorizedClientManager);\r\n        oauth2Client.setDefaultClientRegistrationId(&quot;keycloak&quot;);\r\n        return WebClient.builder()\r\n                .baseUrl(applicationConfigurations.getServiceDiscovery().getGatewayService())\r\n                .clientConnector(new ReactorClientHttpConnector())\r\n                .apply(oauth2Client.oauth2Configuration())\r\n                .build();\r\n        }\r\n\r\n        @Bean\r\n        GatewayServiceConnectorClient gatewayServiceConnectorClient() {\r\n            HttpServiceProxyFactory httpServiceProxyFactory = HttpServiceProxyFactory\r\n                .builder(WebClientAdapter.forClient(webClient(authorizedClientManager())))\r\n                .build();\r\n        return httpServiceProxyFactory.createClient(GatewayServiceConnectorClient.class);\r\n        }\r\n\r\n    }\r\n\r\n\r\nAfter:\r\n\r\nSimply add the *MultipartFileArgumentResolver* class to your project and import the necessary packages.\r\n\r\n    public class MultipartFileArgumentResolver extends AbstractNamedValueArgumentResolver {\r\n    \r\n        private static final String MULTIPART_FILE_LABEL = &quot;multipart file&quot;;\r\n    \r\n        @Override\r\n        protected NamedValueInfo createNamedValueInfo(MethodParameter parameter) {\r\n            if (!parameter.nestedIfOptional().getNestedParameterType().equals(MultipartFile.class)) {\r\n                return null;\r\n            }\r\n            return new NamedValueInfo(&quot;&quot;, true, null, MULTIPART_FILE_LABEL, true);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        protected void addRequestValue(@NotNull String name, @NotNull Object value, @NotNull MethodParameter parameter,\r\n                                       HttpRequestValues.Builder requestValues) {\r\n            Assert.state(value instanceof MultipartFile,\r\n                         &quot;The value has to be of type &#39;MultipartFile&#39;&quot;);\r\n    \r\n            MultipartFile file = (MultipartFile) value;\r\n            requestValues.addRequestPart(name, toHttpEntity(name, file));\r\n        }\r\n    \r\n        private HttpEntity&lt;Resource&gt; toHttpEntity(String name, MultipartFile file) {\r\n            HttpHeaders headers = new HttpHeaders();\r\n            if (file.getOriginalFilename() != null) {\r\n                headers.setContentDispositionFormData(name, file.getOriginalFilename());\r\n            }\r\n            if (file.getContentType() != null) {\r\n                headers.add(HttpHeaders.CONTENT_TYPE, file.getContentType());\r\n            }\r\n            return new HttpEntity&lt;&gt;(file.getResource(), headers);\r\n        }\r\n    }\r\n\r\nthen add it to your HttpClient interface proxy using the already available *customArgumentResolver()* method.\r\n\r\n    @Bean\r\n    GatewayServiceConnectorClient gatewayServiceConnectorClient() {\r\n         HttpServiceProxyFactory httpServiceProxyFactory = HttpServiceProxyFactory\r\n                    .builder(WebClientAdapter.forClient(webClient(authorizedClientManager())))\r\n                    .customArgumentResolver(new MultipartFileArgumentResolver())\r\n                    .build();\r\n         return httpServiceProxyFactory.createClient(GatewayServiceConnectorClient.class);\r\n     }\r\n\r\nthen finally in your HttpClient definition.\r\n\r\n    @HttpExchange\r\n    public interface GatewayServiceConnectorClient {\r\n         @PostExchange(value = &quot;/upload&quot;, contentType = MediaType.MULTIPART_FORM_DATA_VALUE)\r\n        ResponseEntity&lt;String&gt; uploadFacilities(@RequestPart(value = &quot;file&quot;) MultipartFile file);\r\n    }\r\n\r\nAnd Voila!\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/commit/e69a1d22f97f2907260cd9b992eb113700abf193","title":"Why does the HttpExchange (declarative HttpClient) in Spring 6 use Jackson when trying to send multipart form-data?","body":"<p>@M.Deinum is right. Multipart support isn't possible in Spring Boot versions below 3.2</p>\n<p>I resolved this by following <a href=\"https://github.com/spring-projects/spring-framework/commit/e69a1d22f97f2907260cd9b992eb113700abf193\" rel=\"nofollow noreferrer\">the commit</a> that is supposed to solve this in Spring Boot 3.2, then I replicated it in my project which is using <strong>Spring Boot 3.0.1</strong></p>\n<p>So what they did was to introduce a</p>\n<blockquote>\n<p>MultipartFileArgumentResolver</p>\n</blockquote>\n<p>Below is my HttpClient configuration and how I adapted it to the solution in Spring Boot 3.2</p>\n<p><em>PS: I am using Spring Security hence the OAuth2AuthorizedClientManager on my Webclient</em></p>\n<p>Before:</p>\n<pre><code>@Configuration\n@RequiredArgsConstructor\npublic class OAuth2ClientConfig { \n\n    private final OAuth2AuthorizedClientService clientService;\n    private final ApplicationConfigurations applicationConfigurations;\n    private final ClientRegistrationRepository clientRegistrationRepository;\n\n    @Bean\n    public OAuth2AuthorizedClientManager authorizedClientManager() {\n    OAuth2AuthorizedClientProvider authorizedClientProvider =\n            OAuth2AuthorizedClientProviderBuilder\n                    .builder()\n                    .refreshToken()\n                    .clientCredentials()\n                    .build();\n\n    AuthorizedClientServiceOAuth2AuthorizedClientManager authorizedClientManager =\n            new AuthorizedClientServiceOAuth2AuthorizedClientManager(clientRegistrationRepository, clientService);\n\n    authorizedClientManager.setAuthorizedClientProvider(authorizedClientProvider);\n    return authorizedClientManager;\n    }\n\n    @Bean\n    WebClient webClient(OAuth2AuthorizedClientManager authorizedClientManager) {\n        ServletOAuth2AuthorizedClientExchangeFilterFunction oauth2Client =\n            new ServletOAuth2AuthorizedClientExchangeFilterFunction(authorizedClientManager);\n    oauth2Client.setDefaultClientRegistrationId(&quot;keycloak&quot;);\n    return WebClient.builder()\n            .baseUrl(applicationConfigurations.getServiceDiscovery().getGatewayService())\n            .clientConnector(new ReactorClientHttpConnector())\n            .apply(oauth2Client.oauth2Configuration())\n            .build();\n    }\n\n    @Bean\n    GatewayServiceConnectorClient gatewayServiceConnectorClient() {\n        HttpServiceProxyFactory httpServiceProxyFactory = HttpServiceProxyFactory\n            .builder(WebClientAdapter.forClient(webClient(authorizedClientManager())))\n            .build();\n    return httpServiceProxyFactory.createClient(GatewayServiceConnectorClient.class);\n    }\n\n}\n</code></pre>\n<p>After:</p>\n<p>Simply add the <em>MultipartFileArgumentResolver</em> class to your project and import the necessary packages.</p>\n<pre><code>public class MultipartFileArgumentResolver extends AbstractNamedValueArgumentResolver {\n\n    private static final String MULTIPART_FILE_LABEL = &quot;multipart file&quot;;\n\n    @Override\n    protected NamedValueInfo createNamedValueInfo(MethodParameter parameter) {\n        if (!parameter.nestedIfOptional().getNestedParameterType().equals(MultipartFile.class)) {\n            return null;\n        }\n        return new NamedValueInfo(&quot;&quot;, true, null, MULTIPART_FILE_LABEL, true);\n\n    }\n\n    @Override\n    protected void addRequestValue(@NotNull String name, @NotNull Object value, @NotNull MethodParameter parameter,\n                                   HttpRequestValues.Builder requestValues) {\n        Assert.state(value instanceof MultipartFile,\n                     &quot;The value has to be of type 'MultipartFile'&quot;);\n\n        MultipartFile file = (MultipartFile) value;\n        requestValues.addRequestPart(name, toHttpEntity(name, file));\n    }\n\n    private HttpEntity&lt;Resource&gt; toHttpEntity(String name, MultipartFile file) {\n        HttpHeaders headers = new HttpHeaders();\n        if (file.getOriginalFilename() != null) {\n            headers.setContentDispositionFormData(name, file.getOriginalFilename());\n        }\n        if (file.getContentType() != null) {\n            headers.add(HttpHeaders.CONTENT_TYPE, file.getContentType());\n        }\n        return new HttpEntity&lt;&gt;(file.getResource(), headers);\n    }\n}\n</code></pre>\n<p>then add it to your HttpClient interface proxy using the already available <em>customArgumentResolver()</em> method.</p>\n<pre><code>@Bean\nGatewayServiceConnectorClient gatewayServiceConnectorClient() {\n     HttpServiceProxyFactory httpServiceProxyFactory = HttpServiceProxyFactory\n                .builder(WebClientAdapter.forClient(webClient(authorizedClientManager())))\n                .customArgumentResolver(new MultipartFileArgumentResolver())\n                .build();\n     return httpServiceProxyFactory.createClient(GatewayServiceConnectorClient.class);\n }\n</code></pre>\n<p>then finally in your HttpClient definition.</p>\n<pre><code>@HttpExchange\npublic interface GatewayServiceConnectorClient {\n     @PostExchange(value = &quot;/upload&quot;, contentType = MediaType.MULTIPART_FORM_DATA_VALUE)\n    ResponseEntity&lt;String&gt; uploadFacilities(@RequestPart(value = &quot;file&quot;) MultipartFile file);\n}\n</code></pre>\n<p>And Voila!</p>\n"}],"owner":{"account_id":28833084,"reputation":5,"user_id":22083086,"display_name":"Max Bachhuber"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":518,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76565645,"answer_count":2,"score":0,"last_activity_date":1691095248,"creation_date":1687872587,"question_id":76565392,"body_markdown":"i am trying to implement a REST API client using the new declarative HttpClient in Spring 6.\r\n\r\nI have defined my client like that:\r\n\r\n```java\r\n@HttpExchange(\r\n        url = &quot;/publicapi&quot;,\r\n        contentType = MediaType.MULTIPART_FORM_DATA_VALUE,\r\n        accept = MediaType.TEXT_XML_VALUE\r\n)\r\npublic interface MyClient {\r\n    @PostExchange(url = &quot;/submit/file&quot;,\r\n                  contentType = MediaType.MULTIPART_FORM_DATA_VALUE)\r\n    ResponseEntity&lt;Void&gt; uploadFile(@RequestPart String apiKey,\r\n                                    @RequestPart(value = &quot;file&quot;) MultipartFile file);\r\n}\r\n```\r\n\r\nThen i have declared a Bean for that client:\r\n```java\r\n    @Bean\r\n    MyClient myClient(MyClientProperties properties) {\r\n        WebClient webClient = WebClient.builder()\r\n                .baseUrl(properties.getUrl())\r\n                .defaultStatusHandler(\r\n                        httpStatusCode -&gt; HttpStatus.NOT_FOUND == httpStatusCode,\r\n                        response -&gt; Mono.empty())\r\n                .defaultStatusHandler(\r\n                        HttpStatusCode::is5xxServerError,\r\n                        response -&gt; Mono.error(new RuntimeException(&quot;WildfireClient request failed. Code: &quot; + response.statusCode().value())))\r\n                .build();\r\n\r\n        return HttpServiceProxyFactory\r\n                .builder(WebClientAdapter.forClient(webClient))\r\n                .build()\r\n                .createClient(MyClient.class);\r\n    }\r\n```\r\n\r\nAnd then i am trying to use the client to upload a file from Google Cloud Storage:\r\n```java\r\n...\r\n        try (ReadChannel reader = storage.reader(blobId)) {\r\n            var inputStream = Channels.newInputStream(reader);\r\n\r\n            MultipartFile file = new MultipartFile() {\r\n                @Override\r\n                public String getName() {\r\n                    return webhookRequest.name();\r\n                }\r\n\r\n                @Override\r\n                public String getOriginalFilename() {\r\n                    return webhookRequest.name();\r\n                }\r\n\r\n                @Override\r\n                public String getContentType() {\r\n                    return null;\r\n                }\r\n\r\n                @Override\r\n                public boolean isEmpty() {\r\n                    return false;\r\n                }\r\n\r\n                @Override\r\n                public long getSize() {\r\n                    return webhookRequest.size();\r\n                }\r\n\r\n                @Override\r\n                public byte[] getBytes() throws IOException {\r\n                    return FileCopyUtils.copyToByteArray(inputStream);\r\n                }\r\n\r\n                @Override\r\n                public InputStream getInputStream() throws IOException {\r\n                    return inputStream;\r\n                }\r\n\r\n                @Override\r\n                public void transferTo(File dest) throws IOException, IllegalStateException {\r\n                    FileCopyUtils.copy(inputStream, Files.newOutputStream(dest.toPath()));\r\n                }\r\n            };\r\n\r\n            myClient.submitFile(wildfireApiKey, file);\r\n\r\n```\r\n\r\nBut something strange happens. I get an error that Jackson cannot encode the value:\r\n\r\n```\r\norg.springframework.core.codec.CodecException: Type definition error: [simple type, class sun.nio.ch.ChannelInputStream]\r\n\tat org.springframework.http.codec.json.AbstractJackson2Encoder.encodeValue(AbstractJackson2Encoder.java:256) ~[spring-web-6.0.10.jar:6.0.10]\r\n\tat org.springframework.http.codec.json.AbstractJackson2Encoder.lambda$encode$0(AbstractJackson2Encoder.java:158) ~[spring-web-6.0.10.jar:6.0.10]\r\n...\r\n```\r\n\r\nWhy is Jackson involved here? The body of the request should be multipart form data. So no JSON conversion should be done here...\r\n\r\nI halso have tried to implement it via manual WebClient instantiation and that worked without problems. But i really want to use the new declarative client.","title":"Why does the HttpExchange (declarative HttpClient) in Spring 6 use Jackson when trying to send multipart form-data?","body":"<p>i am trying to implement a REST API client using the new declarative HttpClient in Spring 6.</p>\n<p>I have defined my client like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@HttpExchange(\n        url = &quot;/publicapi&quot;,\n        contentType = MediaType.MULTIPART_FORM_DATA_VALUE,\n        accept = MediaType.TEXT_XML_VALUE\n)\npublic interface MyClient {\n    @PostExchange(url = &quot;/submit/file&quot;,\n                  contentType = MediaType.MULTIPART_FORM_DATA_VALUE)\n    ResponseEntity&lt;Void&gt; uploadFile(@RequestPart String apiKey,\n                                    @RequestPart(value = &quot;file&quot;) MultipartFile file);\n}\n</code></pre>\n<p>Then i have declared a Bean for that client:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    MyClient myClient(MyClientProperties properties) {\n        WebClient webClient = WebClient.builder()\n                .baseUrl(properties.getUrl())\n                .defaultStatusHandler(\n                        httpStatusCode -&gt; HttpStatus.NOT_FOUND == httpStatusCode,\n                        response -&gt; Mono.empty())\n                .defaultStatusHandler(\n                        HttpStatusCode::is5xxServerError,\n                        response -&gt; Mono.error(new RuntimeException(&quot;WildfireClient request failed. Code: &quot; + response.statusCode().value())))\n                .build();\n\n        return HttpServiceProxyFactory\n                .builder(WebClientAdapter.forClient(webClient))\n                .build()\n                .createClient(MyClient.class);\n    }\n</code></pre>\n<p>And then i am trying to use the client to upload a file from Google Cloud Storage:</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\n        try (ReadChannel reader = storage.reader(blobId)) {\n            var inputStream = Channels.newInputStream(reader);\n\n            MultipartFile file = new MultipartFile() {\n                @Override\n                public String getName() {\n                    return webhookRequest.name();\n                }\n\n                @Override\n                public String getOriginalFilename() {\n                    return webhookRequest.name();\n                }\n\n                @Override\n                public String getContentType() {\n                    return null;\n                }\n\n                @Override\n                public boolean isEmpty() {\n                    return false;\n                }\n\n                @Override\n                public long getSize() {\n                    return webhookRequest.size();\n                }\n\n                @Override\n                public byte[] getBytes() throws IOException {\n                    return FileCopyUtils.copyToByteArray(inputStream);\n                }\n\n                @Override\n                public InputStream getInputStream() throws IOException {\n                    return inputStream;\n                }\n\n                @Override\n                public void transferTo(File dest) throws IOException, IllegalStateException {\n                    FileCopyUtils.copy(inputStream, Files.newOutputStream(dest.toPath()));\n                }\n            };\n\n            myClient.submitFile(wildfireApiKey, file);\n\n</code></pre>\n<p>But something strange happens. I get an error that Jackson cannot encode the value:</p>\n<pre><code>org.springframework.core.codec.CodecException: Type definition error: [simple type, class sun.nio.ch.ChannelInputStream]\n    at org.springframework.http.codec.json.AbstractJackson2Encoder.encodeValue(AbstractJackson2Encoder.java:256) ~[spring-web-6.0.10.jar:6.0.10]\n    at org.springframework.http.codec.json.AbstractJackson2Encoder.lambda$encode$0(AbstractJackson2Encoder.java:158) ~[spring-web-6.0.10.jar:6.0.10]\n...\n</code></pre>\n<p>Why is Jackson involved here? The body of the request should be multipart form data. So no JSON conversion should be done here...</p>\n<p>I halso have tried to implement it via manual WebClient instantiation and that worked without problems. But i really want to use the new declarative client.</p>\n"},{"tags":["java","html","gradle","cucumber","karate"],"answers":[{"tags":[],"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686233814,"creation_date":1686233814,"answer_id":76432799,"question_id":76432040,"body_markdown":"This can depend on if some other logging system has &quot;taken over&quot;. Recently I saw this happen with Quarkus, so there was a need to &quot;bridge&quot; what Quarkus was using to &quot;logback&quot; which is what Karate uses. You may get some tips from this [sample](https://github.com/karatelabs/karate-examples/blob/main/quarkus/README.md).\r\n\r\nThe other thing that comes to mind is that if the log level was forced to WARN, only DEBUG levels appear in the log.\r\n\r\nOtherwise, sorry - it is near impossible to diagnose this without direct access to your runtime. You may need to figure this out on your own. The documentation has a section on logging, so see if that helps: https://github.com/karatelabs/karate#logging\r\n\r\n","title":"Karate Cucumber Reports not displaying logs in html","body":"<p>This can depend on if some other logging system has &quot;taken over&quot;. Recently I saw this happen with Quarkus, so there was a need to &quot;bridge&quot; what Quarkus was using to &quot;logback&quot; which is what Karate uses. You may get some tips from this <a href=\"https://github.com/karatelabs/karate-examples/blob/main/quarkus/README.md\" rel=\"nofollow noreferrer\">sample</a>.</p>\n<p>The other thing that comes to mind is that if the log level was forced to WARN, only DEBUG levels appear in the log.</p>\n<p>Otherwise, sorry - it is near impossible to diagnose this without direct access to your runtime. You may need to figure this out on your own. The documentation has a section on logging, so see if that helps: <a href=\"https://github.com/karatelabs/karate#logging\" rel=\"nofollow noreferrer\">https://github.com/karatelabs/karate#logging</a></p>\n"},{"tags":[],"owner":{"account_id":11692233,"reputation":322,"user_id":8663707,"display_name":"Interested_Programmer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691095159,"creation_date":1691073364,"answer_id":76829132,"question_id":76432040,"body_markdown":"After debugging, we were able to resolve this issue after adding a logback.xml file in the project containing the karate.","title":"Karate Cucumber Reports not displaying logs in html","body":"<p>After debugging, we were able to resolve this issue after adding a logback.xml file in the project containing the karate.</p>\n"}],"owner":{"account_id":11692233,"reputation":322,"user_id":8663707,"display_name":"Interested_Programmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76829132,"answer_count":2,"score":1,"last_activity_date":1691095159,"creation_date":1686228691,"question_id":76432040,"body_markdown":"When running Karate tests using git pipelines, the logs are visible in git pipeline logs but are not showing up in cucumber html\r\nJava 17\r\nGradle 7.4\r\nKarate 1.2.0\r\nCucumber Reporting 5.3\r\n\r\nBoth print and karate.log are not printing assertions, print statement etc. Is there a logging setting needed for showing karate logs in cucumber html report?\r\n\r\nAny help provided is appreciated","title":"Karate Cucumber Reports not displaying logs in html","body":"<p>When running Karate tests using git pipelines, the logs are visible in git pipeline logs but are not showing up in cucumber html\nJava 17\nGradle 7.4\nKarate 1.2.0\nCucumber Reporting 5.3</p>\n<p>Both print and karate.log are not printing assertions, print statement etc. Is there a logging setting needed for showing karate logs in cucumber html report?</p>\n<p>Any help provided is appreciated</p>\n"},{"tags":["java","jsf","primefaces","null","managed-bean"],"comments":[{"owner":{"account_id":9242367,"reputation":1023,"user_id":6865328,"display_name":"WoAiNii"},"score":0,"creation_date":1691432354,"post_id":76821675,"comment_id":135488043,"body_markdown":"When do you get the error? Could you post the full stack trace? How do you deploy your app/what&#39;s your application server? Have you tried without the template? Do you have any errors on the browser console?","body":"When do you get the error? Could you post the full stack trace? How do you deploy your app/what&#39;s your application server? Have you tried without the template? Do you have any errors on the browser console?"}],"owner":{"account_id":25968660,"reputation":1,"user_id":19684247,"display_name":"Vicente Leonardo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691094661,"creation_date":1690992220,"question_id":76821675,"body_markdown":"I have a Java EE web application with JSF and PrimeFaces. Everything works fine, but I encounter an error on a specific page, stating that the managed bean is null, as if it couldn&#39;t be injected properly. However, everything seems to be configured correctly. Interestingly, when I investigated further, I noticed that adding a System.out.println(&quot;TESTEEEE&quot;) statement on a particular line makes the application work normally.\r\n\r\nNote that this is a project I cloned from another one, and I only made a few changes. In the original project, everything works fine. Can someone help me?\r\n\r\n\r\n\r\n```\r\nimport java.io.Serializable;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\nimport javax.annotation.PostConstruct;\r\nimport javax.faces.bean.ManagedBean;\r\nimport javax.faces.bean.ViewScoped;\r\n\r\nimport org.apache.commons.lang.StringUtils;\r\n\r\n\r\n@ManagedBean(name = &quot;ordEquipeUsuarioMB&quot;)\r\n@ViewScoped\r\npublic class OrdEquipeUsuarioMB implements Serializable {\r\n\r\n\tprivate static final long serialVersionUID = 462049997972941163L;\r\n\r\n\tprivate OrdEquipeDao equipeDao;\r\n\tprivate SegUsuarioDao usuarioDao;\r\n\tprivate OrdEquipeUsuarioDao equipeUsuarioDao;\r\n\r\n\tprivate List&lt;OrdEquipe&gt; listaEquipe;\r\n\tprivate List&lt;OrdEquipeUsuario.TipoMembroEquipe&gt; listaTipoMembroEquipe;\r\n\tprivate List&lt;SegUsuario&gt; listaUsuarioDisponivel;\r\n\tprivate List&lt;SegUsuario&gt; listaUsuarioCadastrado;\r\n\tprivate List&lt;SegUsuario&gt; listaUsuarioAdicionado;\r\n\tprivate List&lt;SegUsuario&gt; listaUsuarioRemovido;\r\n\tprivate List&lt;SegUsuario&gt; listaUsuarioPorEquipe;\r\n\r\n\tprivate OrdEquipe equipeSelecionada;\r\n\tprivate SegUsuario usuarioSelecionado;\r\n\tprivate String tipoMembroEquipeSelecionado;\r\n\r\n\t@PostConstruct\r\n\tpublic void metodoInicial() {\r\n\t\tbuscarEquipes();\r\n\t\tfor (OrdEquipeUsuario.TipoMembroEquipe tipo : OrdEquipeUsuario.TipoMembroEquipe.values()) {\r\n\t\t\tgetListaTipoMembroEquipe().add(tipo);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate void buscarEquipes() {\r\n\t\ttry {\r\n\t\t\tsetListaEquipe(getEquipeDao().getTodos(&quot;nome&quot;));\r\n\t\t} catch (Excecoes e) {\r\n\t\t\tMensagem.erro(e.getMessage());\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void buscarUsuarios() {\r\n\t\tlimpar();\r\n\r\n\t\ttry {\r\n\t\t\tif (getEquipeSelecionada().getId() != null &amp;&amp; StringUtils.isNotBlank(getTipoMembroEquipeSelecionado())) {\r\n\t\t\t\tOrdEquipeUsuario equipeUsuarioFiltro = new OrdEquipeUsuario();\r\n\t\t\t\tequipeUsuarioFiltro.setOrdEquipe(getEquipeSelecionada());\r\n\t\t\t\tList&lt;OrdEquipeUsuario&gt; listaEquipeUsuario = getEquipeUsuarioDao()\r\n\t\t\t\t\t\t.getListaEquipeUsuario(equipeUsuarioFiltro);\r\n\r\n\t\t\t\tsetListaUsuarioPorEquipe(listaEquipeUsuario.stream().map(equipeUsuario -&gt; equipeUsuario.getSegUsuario())\r\n\t\t\t\t\t\t.sorted().collect(Collectors.toList()));\r\n\r\n\t\t\t\tsetListaUsuarioCadastrado(listaEquipeUsuario.stream()\r\n\t\t\t\t\t\t.filter(equipeUsuario -&gt; equipeUsuario.getTagTipo().equals(getTipoMembroEquipeSelecionado()))\r\n\t\t\t\t\t\t.map(equipeUsuario -&gt; equipeUsuario.getSegUsuario()).sorted().collect(Collectors.toList()));\r\n\r\n\t\t\t\tSystem.out.println(&quot;TESTEEEE&quot;);\r\n\t\t\t\tsetListaUsuarioDisponivel(getUsuarioDao().getUsuariosGestor(&quot;S&quot;));\r\n\t\t\t\tfor (SegUsuario usuarioCadastrado : getListaUsuarioCadastrado()) {\r\n\t\t\t\t\tgetListaUsuarioDisponivel().remove(usuarioCadastrado);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (Excecoes e) {\r\n\t\t\tMensagem.erro(e.getMessage());\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void salvar() {\r\n\t\ttry {\r\n\t\t\tif (!getListaUsuarioRemovido().isEmpty()) {\r\n\t\t\t\tgetEquipeUsuarioDao().removerUsuariosDaEquipe(getListaUsuarioRemovido(), getEquipeSelecionada());\r\n\t\t\t}\r\n\r\n\t\t\tif (!getListaUsuarioAdicionado().isEmpty()) {\r\n\t\t\t\tList&lt;OrdEquipeUsuario&gt; listaEquipeUsuario = new ArrayList&lt;OrdEquipeUsuario&gt;();\r\n\t\t\t\tfor (SegUsuario usuarioCadastro : getListaUsuarioAdicionado()) {\r\n\t\t\t\t\tOrdEquipeUsuario equipeUsuario = new OrdEquipeUsuario();\r\n\t\t\t\t\tequipeUsuario.setOrdEquipe(getEquipeSelecionada());\r\n\t\t\t\t\tequipeUsuario.setSegUsuario(usuarioCadastro);\r\n\t\t\t\t\tequipeUsuario.setTagTipo(getTipoMembroEquipeSelecionado());\r\n\r\n\t\t\t\t\tlistaEquipeUsuario.add(equipeUsuario);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tgetEquipeUsuarioDao().salvarLista(listaEquipeUsuario);\r\n\t\t\t}\r\n\r\n\t\t\tMensagem.informacao(&quot;alterarSucesso&quot;);\r\n\t\t\tbuscarUsuarios();\r\n\t\t} catch (Excecoes e) {\r\n\t\t\tMensagem.erro(e.getMessage());\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void adicionar() {\r\n\t\tgetListaUsuarioCadastrado().add(getUsuarioSelecionado());\r\n\t\tgetListaUsuarioDisponivel().remove(getUsuarioSelecionado());\r\n\r\n\t\tif (getListaUsuarioRemovido().contains(getUsuarioSelecionado())) {\r\n\t\t\tgetListaUsuarioRemovido().remove(getUsuarioSelecionado());\r\n\t\t} else {\r\n\t\t\tgetListaUsuarioAdicionado().add(getUsuarioSelecionado());\r\n\r\n\t\t\tif (getListaUsuarioPorEquipe().contains(getUsuarioSelecionado())) {\r\n\t\t\t\tgetListaUsuarioPorEquipe().remove(getUsuarioSelecionado());\r\n\t\t\t\tgetListaUsuarioRemovido().add(getUsuarioSelecionado());\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void adicionarTodos() {\r\n\t\tgetListaUsuarioCadastrado().addAll(getListaUsuarioDisponivel());\r\n\r\n\t\tfor (SegUsuario usuario : getListaUsuarioDisponivel()) {\r\n\t\t\tif (getListaUsuarioRemovido().contains(usuario)) {\r\n\t\t\t\tgetListaUsuarioRemovido().remove(usuario);\r\n\t\t\t} else {\r\n\t\t\t\tgetListaUsuarioAdicionado().add(usuario);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tgetListaUsuarioDisponivel().clear();\r\n\t}\r\n\r\n\tpublic void remover() {\r\n\t\tgetListaUsuarioCadastrado().remove(getUsuarioSelecionado());\r\n\t\tgetListaUsuarioDisponivel().add(getUsuarioSelecionado());\r\n\r\n\t\tif (getListaUsuarioAdicionado().contains(getUsuarioSelecionado())) {\r\n\t\t\tgetListaUsuarioAdicionado().remove(getUsuarioSelecionado());\r\n\t\t} else {\r\n\t\t\tgetListaUsuarioRemovido().add(getUsuarioSelecionado());\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void removerTodos() {\r\n\t\tgetListaUsuarioDisponivel().addAll(getListaUsuarioCadastrado());\r\n\r\n\t\tfor (SegUsuario usuario : getListaUsuarioCadastrado()) {\r\n\t\t\tif (getListaUsuarioAdicionado().contains(usuario)) {\r\n\t\t\t\tgetListaUsuarioAdicionado().remove(usuario);\r\n\t\t\t} else {\r\n\t\t\t\tgetListaUsuarioRemovido().add(usuario);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tgetListaUsuarioCadastrado().clear();\r\n\t}\r\n\r\n\tpublic void cancelar() {\r\n\t\tbuscarUsuarios();\r\n\t}\r\n\r\n\tprivate void limpar() {\r\n\t\tgetListaUsuarioCadastrado().clear();\r\n\t\tgetListaUsuarioDisponivel().clear();\r\n\t\tgetListaUsuarioAdicionado().clear();\r\n\t\tgetListaUsuarioRemovido().clear();\r\n\t\tgetListaUsuarioPorEquipe().clear();\r\n\t\tsetUsuarioSelecionado(null);\r\n\t}\r\n\r\n\t// getters e setters\r\n\tpublic OrdEquipeDao getEquipeDao() {\r\n\t\tif (equipeDao == null) {\r\n\t\t\tequipeDao = new OrdEquipeDao();\r\n\t\t}\r\n\t\treturn equipeDao;\r\n\t}\r\n\r\n\tpublic SegUsuarioDao getUsuarioDao() {\r\n\t\tif (usuarioDao == null) {\r\n\t\t\tusuarioDao = new SegUsuarioDao();\r\n\t\t}\r\n\t\treturn usuarioDao;\r\n\t}\r\n\r\n\tpublic OrdEquipeUsuarioDao getEquipeUsuarioDao() {\r\n\t\tif (equipeUsuarioDao == null) {\r\n\t\t\tequipeUsuarioDao = new OrdEquipeUsuarioDao();\r\n\t\t}\r\n\t\treturn equipeUsuarioDao;\r\n\t}\r\n\r\n\tpublic List&lt;OrdEquipe&gt; getListaEquipe() {\r\n\t\tif (listaEquipe == null) {\r\n\t\t\tlistaEquipe = new ArrayList&lt;OrdEquipe&gt;();\r\n\t\t}\r\n\t\treturn listaEquipe;\r\n\t}\r\n\r\n\tpublic void setListaEquipe(List&lt;OrdEquipe&gt; listaEquipe) {\r\n\t\tthis.listaEquipe = listaEquipe;\r\n\t}\r\n\r\n\tpublic List&lt;OrdEquipeUsuario.TipoMembroEquipe&gt; getListaTipoMembroEquipe() {\r\n\t\tif (listaTipoMembroEquipe == null) {\r\n\t\t\tlistaTipoMembroEquipe = new ArrayList&lt;OrdEquipeUsuario.TipoMembroEquipe&gt;();\r\n\t\t}\r\n\t\treturn listaTipoMembroEquipe;\r\n\t}\r\n\r\n\tpublic List&lt;SegUsuario&gt; getListaUsuarioDisponivel() {\r\n\t\tif (listaUsuarioDisponivel == null) {\r\n\t\t\tlistaUsuarioDisponivel = new ArrayList&lt;SegUsuario&gt;();\r\n\t\t}\r\n\t\treturn listaUsuarioDisponivel;\r\n\t}\r\n\r\n\tpublic void setListaUsuarioDisponivel(List&lt;SegUsuario&gt; listaUsuarioDisponivel) {\r\n\t\tthis.listaUsuarioDisponivel = listaUsuarioDisponivel;\r\n\t}\r\n\r\n\tpublic List&lt;SegUsuario&gt; getListaUsuarioCadastrado() {\r\n\t\tif (listaUsuarioCadastrado == null) {\r\n\t\t\tlistaUsuarioCadastrado = new ArrayList&lt;SegUsuario&gt;();\r\n\t\t}\r\n\t\treturn listaUsuarioCadastrado;\r\n\t}\r\n\r\n\tpublic void setListaUsuarioCadastrado(List&lt;SegUsuario&gt; listaUsuarioCadastrado) {\r\n\t\tthis.listaUsuarioCadastrado = listaUsuarioCadastrado;\r\n\t}\r\n\r\n\tpublic List&lt;SegUsuario&gt; getListaUsuarioAdicionado() {\r\n\t\tif (listaUsuarioAdicionado == null) {\r\n\t\t\tlistaUsuarioAdicionado = new ArrayList&lt;SegUsuario&gt;();\r\n\t\t}\r\n\t\treturn listaUsuarioAdicionado;\r\n\t}\r\n\r\n\tpublic List&lt;SegUsuario&gt; getListaUsuarioRemovido() {\r\n\t\tif (listaUsuarioRemovido == null) {\r\n\t\t\tlistaUsuarioRemovido = new ArrayList&lt;SegUsuario&gt;();\r\n\t\t}\r\n\t\treturn listaUsuarioRemovido;\r\n\t}\r\n\r\n\tpublic List&lt;SegUsuario&gt; getListaUsuarioPorEquipe() {\r\n\t\tif (listaUsuarioPorEquipe == null) {\r\n\t\t\tlistaUsuarioPorEquipe = new ArrayList&lt;SegUsuario&gt;();\r\n\t\t}\r\n\t\treturn listaUsuarioPorEquipe;\r\n\t}\r\n\r\n\tpublic void setListaUsuarioPorEquipe(List&lt;SegUsuario&gt; listaUsuarioPorEquipe) {\r\n\t\tthis.listaUsuarioPorEquipe = listaUsuarioPorEquipe;\r\n\t}\r\n\r\n\tpublic OrdEquipe getEquipeSelecionada() {\r\n\t\tif (equipeSelecionada == null) {\r\n\t\t\tequipeSelecionada = new OrdEquipe();\r\n\t\t}\r\n\t\treturn equipeSelecionada;\r\n\t}\r\n\r\n\tpublic void setEquipeSelecionada(OrdEquipe equipeSelecionada) {\r\n\t\tthis.equipeSelecionada = equipeSelecionada;\r\n\t}\r\n\r\n\tpublic SegUsuario getUsuarioSelecionado() {\r\n\t\tif (usuarioSelecionado == null) {\r\n\t\t\tusuarioSelecionado = new SegUsuario();\r\n\t\t}\r\n\t\treturn usuarioSelecionado;\r\n\t}\r\n\r\n\tpublic void setUsuarioSelecionado(SegUsuario usuarioSelecionado) {\r\n\t\tthis.usuarioSelecionado = usuarioSelecionado;\r\n\t}\r\n\r\n\tpublic String getTipoMembroEquipeSelecionado() {\r\n\t\treturn tipoMembroEquipeSelecionado;\r\n\t}\r\n\r\n\tpublic void setTipoMembroEquipeSelecionado(String tipoMembroEquipeSelecionado) {\r\n\t\tthis.tipoMembroEquipeSelecionado = tipoMembroEquipeSelecionado;\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\n&lt;ui:composition xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n                xmlns:h=&quot;http://java.sun.com/jsf/html&quot;\r\n                xmlns:f=&quot;http://java.sun.com/jsf/core&quot;\r\n                xmlns:ui=&quot;http://java.sun.com/jsf/facelets&quot;\r\n                xmlns:p=&quot;http://primefaces.org/ui&quot;\r\n                template=&quot;/templateSentinel/templateNovo.xhtml&quot;&gt;\r\n\r\n    &lt;ui:define name=&quot;content&quot;&gt;\r\n    \t&lt;p:ajaxStatus oncomplete=&quot;PF(&#39;tabelaCadastrado&#39;).filter();PF(&#39;tabelaDisponivel&#39;).filter();&quot; /&gt;\r\n    \r\n        &lt;h:form id=&quot;formOrdEquipeUsuario&quot;&gt;\r\n        \t&lt;div class=&quot;Container100 BorBotGray newCrumb&quot;&gt;\r\n\t            &lt;p:breadCrumb styleClass=&quot;Animated05&quot;&gt;\r\n\t                &lt;p:menuitem value=&quot;#&quot; url=&quot;#&quot; styleClass=&quot;Animated05&quot;/&gt;\r\n\t                &lt;p:menuitem value=&quot;#{msgs.ordemServico}&quot; url=&quot;#&quot; styleClass=&quot;Animated05&quot;/&gt;\r\n\t                &lt;p:menuitem value=&quot;#{msgs.gerenciamento}&quot; url=&quot;#&quot; styleClass=&quot;Animated05&quot;/&gt;\r\n\t                &lt;p:menuitem value=&quot;#{msgs.usuarioPorEquipe}&quot; url=&quot;#&quot; styleClass=&quot;Animated05&quot;/&gt;\r\n\t            &lt;/p:breadCrumb&gt;\r\n\t        &lt;/div&gt;\r\n\t        \r\n\t\t\t&lt;span class=&quot;clear&quot; /&gt;\r\n\t\t\t\t\t\r\n\t\t\t&lt;div class=&quot;main_content&quot;&gt;\r\n\t\t\t\t&lt;p:outputPanel id=&quot;painelGerenciamentoEquipeUsuario&quot;&gt;\r\n\t\t\t\t\t&lt;div class=&quot;headerTitle container_grid&quot;&gt;\r\n\t\t\t\t\t\t&lt;div class=&quot;grid_12 last&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;h4&gt;\r\n\t\t\t\t\t\t\t\t&lt;i class=&quot;icon-clipboard&quot; /&gt;\r\n\t\t\t\t\t\t\t\t&lt;span&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;h:outputText value=&quot;#{msgs.gerenciamentoUsuarioPorEquipe}&quot; /&gt;\r\n\t\t\t\t\t\t\t\t&lt;/span&gt;\r\n\t\t\t\t\t\t\t&lt;/h4&gt;\r\n\t\t\t\t\t\t\t&lt;p:separator /&gt;\r\n\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t     \r\n\t\t\t\t\t&lt;span class=&quot;clear&quot; /&gt;\r\n\t\t\t\r\n\t\t\t\t\t&lt;div class=&quot;container_grid newForm&quot;&gt;\r\n\t\t\t\t\t\t&lt;div class=&quot;row_grid&quot;&gt;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t&lt;div class=&quot;grid_4&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;p:outputLabel styleClass=&quot;widthFull&quot; value=&quot;#{msgs.equipe}&quot; for=&quot;comboEquipe&quot; /&gt;\r\n\t\t\t\t\t\t\t\t&lt;span class=&quot;clear&quot; /&gt;\r\n\t\t\t\t\t\t\t\t&lt;p:selectOneMenu id=&quot;comboEquipe&quot; label=&quot;#{msgs.equipe}&quot; value=&quot;#{ordEquipeUsuarioMB.equipeSelecionada}&quot; \r\n\t\t\t\t\t\t\t\t\tfilter=&quot;true&quot; filterMatchMode=&quot;contains&quot; converter=&quot;ConverterDefault&quot; styleClass=&quot;widthFull-select&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;f:selectItem itemLabel=&quot;#{msgs.selecionarOpcao}&quot; /&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;f:selectItems value=&quot;#{ordEquipeUsuarioMB.listaEquipe}&quot; var=&quot;equipe&quot; itemLabel=&quot;#{equipe.nome}&quot; itemValue=&quot;#{equipe}&quot; /&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;p:ajax event=&quot;change&quot; listener=&quot;#{ordEquipeUsuarioMB.buscarUsuarios}&quot; update=&quot;:growl painelGerenciamentoEquipeUsuario&quot; /&gt;\r\n\t\t\t\t\t\t\t\t&lt;/p:selectOneMenu&gt;\r\n\t\t\t\t\t\t\t\t&lt;span class=&quot;clear&quot; /&gt;\r\n\t\t\t\t\t\t\t\t&lt;p:overlayPanel for=&quot;comboEquipe&quot; rendered=&quot;#{facesContext.validationFailed}&quot; showEvent=&quot;mouseover&quot; hideEvent=&quot;mouseout&quot; at=&quot;right&quot; my=&quot;left&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;p:message for=&quot;comboEquipe&quot; /&gt;\r\n\t\t\t\t\t\t\t\t&lt;/p:overlayPanel&gt;\r\n\t\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t&lt;div class=&quot;grid_4 last&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;p:outputLabel styleClass=&quot;widthFull&quot; value=&quot;#{msgs.tipoMembroEquipe}&quot; for=&quot;comboTipoMembroEquipe&quot; /&gt;\r\n\t\t\t\t\t\t\t\t&lt;span class=&quot;clear&quot; /&gt;\r\n\t\t\t\t\t\t\t\t&lt;p:selectOneMenu id=&quot;comboTipoMembroEquipe&quot; label=&quot;#{msgs.tipoMembroEquipe}&quot; value=&quot;#{ordEquipeUsuarioMB.tipoMembroEquipeSelecionado}&quot; \r\n\t\t\t\t\t\t\t\t\tfilter=&quot;true&quot; filterMatchMode=&quot;contains&quot; styleClass=&quot;widthFull-select&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;f:selectItem itemLabel=&quot;#{msgs.selecionarOpcao}&quot; /&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;f:selectItems value=&quot;#{ordEquipeUsuarioMB.listaTipoMembroEquipe}&quot; var=&quot;tipoMembroEquipe&quot; itemLabel=&quot;#{tipoMembroEquipe.nome}&quot; itemValue=&quot;#{tipoMembroEquipe.tag}&quot; /&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;p:ajax event=&quot;change&quot; listener=&quot;#{ordEquipeUsuarioMB.buscarUsuarios}&quot; update=&quot;:growl painelGerenciamentoEquipeUsuario&quot; /&gt;\r\n\t\t\t\t\t\t\t\t&lt;/p:selectOneMenu&gt;\r\n\t\t\t\t\t\t\t\t&lt;span class=&quot;clear&quot; /&gt;\r\n\t\t\t\t\t\t\t\t&lt;p:overlayPanel for=&quot;comboTipoMembroEquipe&quot; rendered=&quot;#{facesContext.validationFailed}&quot; showEvent=&quot;mouseover&quot; hideEvent=&quot;mouseout&quot; at=&quot;right&quot; my=&quot;left&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;p:message for=&quot;comboTipoMembroEquipe&quot; /&gt;\r\n\t\t\t\t\t\t\t\t&lt;/p:overlayPanel&gt;\r\n\t\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t&lt;div class=&quot;row_grid&quot;&gt;\r\n\t\t\t            \t&lt;div class=&quot;grid_12 last&quot;&gt;\r\n\t\t\t            \t\t\r\n\t\t\t            \t\t&lt;p:commandButton id=&quot;botaoCancelar&quot; value=&quot;#{msgs.botaoCancelar}&quot; actionListener=&quot;#{ordEquipeUsuarioMB.cancelar}&quot; \r\n\t\t\t            \t\t\ticon=&quot;fa fa-eraser Fs16 white&quot; partialSubmit=&quot;true&quot; styleClass=&quot;Fleft&quot; update=&quot;:growl painelGerenciamentoEquipeUsuario&quot;\r\n\t\t\t            \t\t\tdisabled=&quot;#{ordEquipeUsuarioMB.equipeSelecionada.id == null or empty ordEquipeUsuarioMB.tipoMembroEquipeSelecionado}&quot; style=&quot;margin-right: 5px;&quot;&gt;\r\n\t\t\t       \t\t\t\t\t&lt;f:param name=&quot;validateBean&quot; value=&quot;false&quot; /&gt;            \t\t\r\n\t\t\t                   \t&lt;/p:commandButton&gt;\r\n\t\t\t\r\n\t\t\t                   \t&lt;p:commandButton id=&quot;botaoSalvar&quot; value=&quot;#{msgs.botaoSalvar}&quot; actionListener=&quot;#{ordEquipeUsuarioMB.salvar}&quot; \r\n\t\t\t                   \t\ticon=&quot;fa fa-save Fs16 white&quot; partialSubmit=&quot;true&quot; styleClass=&quot;Fright&quot; update=&quot;:growl painelGerenciamentoEquipeUsuario&quot; \r\n\t\t\t                   \t\tdisabled=&quot;#{ordEquipeUsuarioMB.equipeSelecionada.id == null or empty ordEquipeUsuarioMB.tipoMembroEquipeSelecionado}&quot;&gt;\r\n\t\t\t       \t\t\t\t\t&lt;f:param name=&quot;validateBean&quot; value=&quot;true&quot; /&gt;            \t\t\r\n\t\t\t                   \t&lt;/p:commandButton&gt;\r\n\t\t\t            \t\t\t\r\n\t\t\t            \t&lt;/div&gt;\r\n\t\t\t           \t&lt;/div&gt;\r\n\t\t\t           \t\r\n\t\t\t           \t&lt;div class=&quot;EmptyBox20&quot; /&gt;\r\n\t\t\t\t         &lt;span class=&quot;clear&quot; /&gt;\r\n\t\t\t\t         \r\n\t\t\t\t         &lt;p:outputPanel id=&quot;painelTabela&quot;&gt;\r\n\t\t\t\t            &lt;div class=&quot;headerTitle container_grid&quot;&gt;\r\n\t\t\t\t            \r\n\t\t\t\t               &lt;div class=&quot;row_grid&quot; style=&quot;padding-top:0;&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;div class=&quot;column-3-1 listDefault&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;div class=&quot;headerTitle container_grid&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;div class=&quot;grid_12 last&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;h4&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t&lt;i class=&quot;icon-list-bullet&quot; /&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t&lt;span&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t&lt;h:outputText value=&quot;#{msgs.usuariosDisponiveis}&quot; /&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t&lt;/span&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;/h4&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t&lt;div class=&quot;EmptyBox5&quot; /&gt;\r\n\t\t\t  \t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t&lt;p:dataTable id=&quot;tabelaDisponivel&quot; var=&quot;usuario&quot; value=&quot;#{ordEquipeUsuarioMB.listaUsuarioDisponivel}&quot; pageLinks=&quot;4&quot;\r\n\t\t\t\t\t\t\t\t\t\tselectionMode=&quot;single&quot; selection=&quot;#{ordEquipeUsuarioMB.usuarioSelecionado}&quot; rowKey=&quot;#{usuario.id}&quot; rows=&quot;10&quot; paginator=&quot;true&quot;\r\n\t\t\t\t\t\t\t\t\t\tpaginatorTemplate=&quot;{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}&quot;\r\n\t\t\t\t\t\t\t\t\t\trowsPerPageTemplate=&quot;10,50,100, #{fn:length(ordEquipeUsuarioMB.listaUsuarioDisponivel) &gt; 100 ? fn:length(ordEquipeUsuarioMB.listaUsuarioDisponivel) : &#39;&#39;}&quot;\r\n\t\t\t\t\t\t\t\t\t\temptyMessage=&quot;#{msgs.nenhumRegistroEncontrado}&quot;\r\n\t\t\t\t\t\t\t\t\t\tpaginatorPosition=&quot;bottom&quot; widgetVar=&quot;tabelaDisponivel&quot;\r\n\t\t\t\t\t\t\t\t\t\tcurrentPageReportTemplate=&quot;#{msgs.paginacaoDataTable}&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;p:column headerText=&quot;#{msgs.nome}&quot; sortBy=&quot;#{usuario.nome}&quot; filterBy=&quot;#{usuario.nome}&quot; filterPosition=&quot;bottom&quot; filterMatchMode=&quot;contains&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;f:facet name=&quot;filter&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t&lt;p:inputText onkeyup=&quot;PF(&#39;tabelaDisponivel&#39;).filter()&quot; placeholder=&quot;Filtro&quot; /&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;/f:facet&gt;\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;h:outputText value=&quot;#{usuario.nome}&quot; /&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;/p:column&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;p:ajax event=&quot;page&quot; global=&quot;false&quot; /&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;p:ajax event=&quot;filter&quot; global=&quot;false&quot; /&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;p:ajax event=&quot;rowSelect&quot; listener=&quot;#{ordEquipeUsuarioMB.adicionar}&quot; \r\n\t\t\t\t\t\t\t\t\t\t\t\tupdate=&quot;:formOrdEquipeUsuario:painelGerenciamentoEquipeUsuario&quot; delay=&quot;100&quot; /&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;/p:dataTable&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t&lt;div class=&quot;column-3-2 txtcenter&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;br /&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;span class=&quot;clear&quot; /&gt;\r\n\t\t\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t\t\t \t&lt;p:commandButton id=&quot;botaoAdicionaTodos&quot; actionListener=&quot;#{ordEquipeUsuarioMB.adicionarTodos}&quot;\r\n\t\t\t\t\t\t\t\t\t\ticon=&quot;fa fa-angle-double-right Fs16 white&quot; partialSubmit=&quot;true&quot; styleClass=&quot;dinline-block&quot; update=&quot;:growl painelTabela&quot;\r\n\t\t\t\t\t\t\t\t\t\tdisabled=&quot;#{empty ordEquipeUsuarioMB.listaUsuarioDisponivel}&quot;\r\n\t\t\t\t\t\t\t\t\t\tstyle=&quot;margin: 5px 0;&quot; &gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;f:param name=&quot;validateBean&quot; value=&quot;false&quot; /&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;/p:commandButton&gt;\r\n\t\t\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t\t\t\t&lt;span class=&quot;clear&quot; /&gt;\r\n\t\t\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t\t\t \t&lt;p:commandButton id=&quot;botaoRemoverTodos&quot; actionListener=&quot;#{ordEquipeUsuarioMB.removerTodos}&quot;\r\n\t\t\t\t\t\t\t\t\t\ticon=&quot;fa fa-angle-double-left Fs16 white&quot; partialSubmit=&quot;true&quot; styleClass=&quot;dinline-block&quot; update=&quot;:growl painelTabela&quot;\r\n\t\t\t\t\t\t\t\t\t\tdisabled=&quot;#{empty ordEquipeUsuarioMB.listaUsuarioCadastrado}&quot;\r\n\t\t\t\t\t\t\t\t\t\tstyle=&quot;margin: 5px 0;&quot; &gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;f:param name=&quot;validateBean&quot; value=&quot;false&quot; /&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;/p:commandButton&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t&lt;div class=&quot;column-3-3 listDefault&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;div class=&quot;headerTitle container_grid&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;div class=&quot;grid_12 last&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;h4&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t&lt;i class=&quot;icon-list-bullet&quot; /&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t&lt;span&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t&lt;h:outputText value=&quot;#{msgs.usuariosCadastrados}&quot; /&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t&lt;/span&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;/h4&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t&lt;div class=&quot;EmptyBox5&quot; /&gt;\r\n\t\t\t  \t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t&lt;p:dataTable id=&quot;tabelaCadastrado&quot; var=&quot;usuario&quot; value=&quot;#{ordEquipeUsuarioMB.listaUsuarioCadastrado}&quot; pageLinks=&quot;4&quot;\r\n\t\t\t\t\t\t\t\t\t\tselectionMode=&quot;single&quot; selection=&quot;#{ordEquipeUsuarioMB.usuarioSelecionado}&quot; rowKey=&quot;#{usuario.id}&quot; rows=&quot;10&quot; paginator=&quot;true&quot;\r\n\t\t\t\t\t\t\t\t\t\tpaginatorTemplate=&quot;{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}&quot;\r\n\t\t\t\t\t\t\t\t\t\trowsPerPageTemplate=&quot;10,50,100, #{fn:length(ordEquipeUsuarioMB.listaUsuarioCadastrado) &gt; 100 ? fn:length(ordEquipeUsuarioMB.listaUsuarioCadastrado) : &#39;&#39;}&quot;\r\n\t\t\t\t\t\t\t\t\t\temptyMessage=&quot;#{msgs.nenhumRegistroEncontrado}&quot; paginatorPosition=&quot;bottom&quot; widgetVar=&quot;tabelaCadastrado&quot;\r\n\t\t\t\t\t\t\t\t\t\tcurrentPageReportTemplate=&quot;#{msgs.paginacaoDataTable}&quot;&gt;\r\n\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;p:column headerText=&quot;#{msgs.nome}&quot; sortBy=&quot;#{usuario.nome}&quot; filterBy=&quot;#{usuario.nome}&quot; filterPosition=&quot;bottom&quot; filterMatchMode=&quot;contains&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;f:facet name=&quot;filter&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t&lt;p:inputText onkeyup=&quot;PF(&#39;tabelaCadastrado&#39;).filter()&quot; placeholder=&quot;Filtro&quot; /&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;/f:facet&gt;\r\n\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;h:outputText value=&quot;#{usuario.nome}&quot; /&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;/p:column&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;p:ajax event=&quot;page&quot; global=&quot;false&quot; /&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;p:ajax event=&quot;filter&quot; global=&quot;false&quot; /&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;p:ajax event=&quot;rowSelect&quot; listener=&quot;#{ordEquipeUsuarioMB.remover}&quot; \r\n\t\t\t\t\t\t\t\t\t\t\t\tupdate=&quot;:formOrdEquipeUsuario:painelGerenciamentoEquipeUsuario&quot; delay=&quot;100&quot; /&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;/p:dataTable&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/div&gt;\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t            &lt;/div&gt;\r\n\t\t\t            &lt;/p:outputPanel&gt;\r\n\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t&lt;/p:outputPanel&gt;\r\n\t\t\t&lt;/div&gt;\r\n\t\t&lt;/h:form&gt;\r\n    &lt;/ui:define&gt;\r\n&lt;/ui:composition&gt;\r\n```\r\n\r\n\r\nThe project works fine for another client where I only change images, but it doesn&#39;t work here","title":"Problema with managedbean null, but system out work","body":"<p>I have a Java EE web application with JSF and PrimeFaces. Everything works fine, but I encounter an error on a specific page, stating that the managed bean is null, as if it couldn't be injected properly. However, everything seems to be configured correctly. Interestingly, when I investigated further, I noticed that adding a System.out.println(&quot;TESTEEEE&quot;) statement on a particular line makes the application work normally.</p>\n<p>Note that this is a project I cloned from another one, and I only made a few changes. In the original project, everything works fine. Can someone help me?</p>\n<pre><code>import java.io.Serializable;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\nimport javax.annotation.PostConstruct;\nimport javax.faces.bean.ManagedBean;\nimport javax.faces.bean.ViewScoped;\n\nimport org.apache.commons.lang.StringUtils;\n\n\n@ManagedBean(name = &quot;ordEquipeUsuarioMB&quot;)\n@ViewScoped\npublic class OrdEquipeUsuarioMB implements Serializable {\n\n    private static final long serialVersionUID = 462049997972941163L;\n\n    private OrdEquipeDao equipeDao;\n    private SegUsuarioDao usuarioDao;\n    private OrdEquipeUsuarioDao equipeUsuarioDao;\n\n    private List&lt;OrdEquipe&gt; listaEquipe;\n    private List&lt;OrdEquipeUsuario.TipoMembroEquipe&gt; listaTipoMembroEquipe;\n    private List&lt;SegUsuario&gt; listaUsuarioDisponivel;\n    private List&lt;SegUsuario&gt; listaUsuarioCadastrado;\n    private List&lt;SegUsuario&gt; listaUsuarioAdicionado;\n    private List&lt;SegUsuario&gt; listaUsuarioRemovido;\n    private List&lt;SegUsuario&gt; listaUsuarioPorEquipe;\n\n    private OrdEquipe equipeSelecionada;\n    private SegUsuario usuarioSelecionado;\n    private String tipoMembroEquipeSelecionado;\n\n    @PostConstruct\n    public void metodoInicial() {\n        buscarEquipes();\n        for (OrdEquipeUsuario.TipoMembroEquipe tipo : OrdEquipeUsuario.TipoMembroEquipe.values()) {\n            getListaTipoMembroEquipe().add(tipo);\n        }\n    }\n\n    private void buscarEquipes() {\n        try {\n            setListaEquipe(getEquipeDao().getTodos(&quot;nome&quot;));\n        } catch (Excecoes e) {\n            Mensagem.erro(e.getMessage());\n        }\n    }\n\n    public void buscarUsuarios() {\n        limpar();\n\n        try {\n            if (getEquipeSelecionada().getId() != null &amp;&amp; StringUtils.isNotBlank(getTipoMembroEquipeSelecionado())) {\n                OrdEquipeUsuario equipeUsuarioFiltro = new OrdEquipeUsuario();\n                equipeUsuarioFiltro.setOrdEquipe(getEquipeSelecionada());\n                List&lt;OrdEquipeUsuario&gt; listaEquipeUsuario = getEquipeUsuarioDao()\n                        .getListaEquipeUsuario(equipeUsuarioFiltro);\n\n                setListaUsuarioPorEquipe(listaEquipeUsuario.stream().map(equipeUsuario -&gt; equipeUsuario.getSegUsuario())\n                        .sorted().collect(Collectors.toList()));\n\n                setListaUsuarioCadastrado(listaEquipeUsuario.stream()\n                        .filter(equipeUsuario -&gt; equipeUsuario.getTagTipo().equals(getTipoMembroEquipeSelecionado()))\n                        .map(equipeUsuario -&gt; equipeUsuario.getSegUsuario()).sorted().collect(Collectors.toList()));\n\n                System.out.println(&quot;TESTEEEE&quot;);\n                setListaUsuarioDisponivel(getUsuarioDao().getUsuariosGestor(&quot;S&quot;));\n                for (SegUsuario usuarioCadastrado : getListaUsuarioCadastrado()) {\n                    getListaUsuarioDisponivel().remove(usuarioCadastrado);\n                }\n            }\n        } catch (Excecoes e) {\n            Mensagem.erro(e.getMessage());\n        }\n    }\n\n    public void salvar() {\n        try {\n            if (!getListaUsuarioRemovido().isEmpty()) {\n                getEquipeUsuarioDao().removerUsuariosDaEquipe(getListaUsuarioRemovido(), getEquipeSelecionada());\n            }\n\n            if (!getListaUsuarioAdicionado().isEmpty()) {\n                List&lt;OrdEquipeUsuario&gt; listaEquipeUsuario = new ArrayList&lt;OrdEquipeUsuario&gt;();\n                for (SegUsuario usuarioCadastro : getListaUsuarioAdicionado()) {\n                    OrdEquipeUsuario equipeUsuario = new OrdEquipeUsuario();\n                    equipeUsuario.setOrdEquipe(getEquipeSelecionada());\n                    equipeUsuario.setSegUsuario(usuarioCadastro);\n                    equipeUsuario.setTagTipo(getTipoMembroEquipeSelecionado());\n\n                    listaEquipeUsuario.add(equipeUsuario);\n                }\n\n                getEquipeUsuarioDao().salvarLista(listaEquipeUsuario);\n            }\n\n            Mensagem.informacao(&quot;alterarSucesso&quot;);\n            buscarUsuarios();\n        } catch (Excecoes e) {\n            Mensagem.erro(e.getMessage());\n        }\n    }\n\n    public void adicionar() {\n        getListaUsuarioCadastrado().add(getUsuarioSelecionado());\n        getListaUsuarioDisponivel().remove(getUsuarioSelecionado());\n\n        if (getListaUsuarioRemovido().contains(getUsuarioSelecionado())) {\n            getListaUsuarioRemovido().remove(getUsuarioSelecionado());\n        } else {\n            getListaUsuarioAdicionado().add(getUsuarioSelecionado());\n\n            if (getListaUsuarioPorEquipe().contains(getUsuarioSelecionado())) {\n                getListaUsuarioPorEquipe().remove(getUsuarioSelecionado());\n                getListaUsuarioRemovido().add(getUsuarioSelecionado());\n            }\n        }\n    }\n\n    public void adicionarTodos() {\n        getListaUsuarioCadastrado().addAll(getListaUsuarioDisponivel());\n\n        for (SegUsuario usuario : getListaUsuarioDisponivel()) {\n            if (getListaUsuarioRemovido().contains(usuario)) {\n                getListaUsuarioRemovido().remove(usuario);\n            } else {\n                getListaUsuarioAdicionado().add(usuario);\n            }\n        }\n\n        getListaUsuarioDisponivel().clear();\n    }\n\n    public void remover() {\n        getListaUsuarioCadastrado().remove(getUsuarioSelecionado());\n        getListaUsuarioDisponivel().add(getUsuarioSelecionado());\n\n        if (getListaUsuarioAdicionado().contains(getUsuarioSelecionado())) {\n            getListaUsuarioAdicionado().remove(getUsuarioSelecionado());\n        } else {\n            getListaUsuarioRemovido().add(getUsuarioSelecionado());\n        }\n    }\n\n    public void removerTodos() {\n        getListaUsuarioDisponivel().addAll(getListaUsuarioCadastrado());\n\n        for (SegUsuario usuario : getListaUsuarioCadastrado()) {\n            if (getListaUsuarioAdicionado().contains(usuario)) {\n                getListaUsuarioAdicionado().remove(usuario);\n            } else {\n                getListaUsuarioRemovido().add(usuario);\n            }\n        }\n\n        getListaUsuarioCadastrado().clear();\n    }\n\n    public void cancelar() {\n        buscarUsuarios();\n    }\n\n    private void limpar() {\n        getListaUsuarioCadastrado().clear();\n        getListaUsuarioDisponivel().clear();\n        getListaUsuarioAdicionado().clear();\n        getListaUsuarioRemovido().clear();\n        getListaUsuarioPorEquipe().clear();\n        setUsuarioSelecionado(null);\n    }\n\n    // getters e setters\n    public OrdEquipeDao getEquipeDao() {\n        if (equipeDao == null) {\n            equipeDao = new OrdEquipeDao();\n        }\n        return equipeDao;\n    }\n\n    public SegUsuarioDao getUsuarioDao() {\n        if (usuarioDao == null) {\n            usuarioDao = new SegUsuarioDao();\n        }\n        return usuarioDao;\n    }\n\n    public OrdEquipeUsuarioDao getEquipeUsuarioDao() {\n        if (equipeUsuarioDao == null) {\n            equipeUsuarioDao = new OrdEquipeUsuarioDao();\n        }\n        return equipeUsuarioDao;\n    }\n\n    public List&lt;OrdEquipe&gt; getListaEquipe() {\n        if (listaEquipe == null) {\n            listaEquipe = new ArrayList&lt;OrdEquipe&gt;();\n        }\n        return listaEquipe;\n    }\n\n    public void setListaEquipe(List&lt;OrdEquipe&gt; listaEquipe) {\n        this.listaEquipe = listaEquipe;\n    }\n\n    public List&lt;OrdEquipeUsuario.TipoMembroEquipe&gt; getListaTipoMembroEquipe() {\n        if (listaTipoMembroEquipe == null) {\n            listaTipoMembroEquipe = new ArrayList&lt;OrdEquipeUsuario.TipoMembroEquipe&gt;();\n        }\n        return listaTipoMembroEquipe;\n    }\n\n    public List&lt;SegUsuario&gt; getListaUsuarioDisponivel() {\n        if (listaUsuarioDisponivel == null) {\n            listaUsuarioDisponivel = new ArrayList&lt;SegUsuario&gt;();\n        }\n        return listaUsuarioDisponivel;\n    }\n\n    public void setListaUsuarioDisponivel(List&lt;SegUsuario&gt; listaUsuarioDisponivel) {\n        this.listaUsuarioDisponivel = listaUsuarioDisponivel;\n    }\n\n    public List&lt;SegUsuario&gt; getListaUsuarioCadastrado() {\n        if (listaUsuarioCadastrado == null) {\n            listaUsuarioCadastrado = new ArrayList&lt;SegUsuario&gt;();\n        }\n        return listaUsuarioCadastrado;\n    }\n\n    public void setListaUsuarioCadastrado(List&lt;SegUsuario&gt; listaUsuarioCadastrado) {\n        this.listaUsuarioCadastrado = listaUsuarioCadastrado;\n    }\n\n    public List&lt;SegUsuario&gt; getListaUsuarioAdicionado() {\n        if (listaUsuarioAdicionado == null) {\n            listaUsuarioAdicionado = new ArrayList&lt;SegUsuario&gt;();\n        }\n        return listaUsuarioAdicionado;\n    }\n\n    public List&lt;SegUsuario&gt; getListaUsuarioRemovido() {\n        if (listaUsuarioRemovido == null) {\n            listaUsuarioRemovido = new ArrayList&lt;SegUsuario&gt;();\n        }\n        return listaUsuarioRemovido;\n    }\n\n    public List&lt;SegUsuario&gt; getListaUsuarioPorEquipe() {\n        if (listaUsuarioPorEquipe == null) {\n            listaUsuarioPorEquipe = new ArrayList&lt;SegUsuario&gt;();\n        }\n        return listaUsuarioPorEquipe;\n    }\n\n    public void setListaUsuarioPorEquipe(List&lt;SegUsuario&gt; listaUsuarioPorEquipe) {\n        this.listaUsuarioPorEquipe = listaUsuarioPorEquipe;\n    }\n\n    public OrdEquipe getEquipeSelecionada() {\n        if (equipeSelecionada == null) {\n            equipeSelecionada = new OrdEquipe();\n        }\n        return equipeSelecionada;\n    }\n\n    public void setEquipeSelecionada(OrdEquipe equipeSelecionada) {\n        this.equipeSelecionada = equipeSelecionada;\n    }\n\n    public SegUsuario getUsuarioSelecionado() {\n        if (usuarioSelecionado == null) {\n            usuarioSelecionado = new SegUsuario();\n        }\n        return usuarioSelecionado;\n    }\n\n    public void setUsuarioSelecionado(SegUsuario usuarioSelecionado) {\n        this.usuarioSelecionado = usuarioSelecionado;\n    }\n\n    public String getTipoMembroEquipeSelecionado() {\n        return tipoMembroEquipeSelecionado;\n    }\n\n    public void setTipoMembroEquipeSelecionado(String tipoMembroEquipeSelecionado) {\n        this.tipoMembroEquipeSelecionado = tipoMembroEquipeSelecionado;\n    }\n}\n\n</code></pre>\n<pre><code>&lt;ui:composition xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\n                xmlns:h=&quot;http://java.sun.com/jsf/html&quot;\n                xmlns:f=&quot;http://java.sun.com/jsf/core&quot;\n                xmlns:ui=&quot;http://java.sun.com/jsf/facelets&quot;\n                xmlns:p=&quot;http://primefaces.org/ui&quot;\n                template=&quot;/templateSentinel/templateNovo.xhtml&quot;&gt;\n\n    &lt;ui:define name=&quot;content&quot;&gt;\n        &lt;p:ajaxStatus oncomplete=&quot;PF('tabelaCadastrado').filter();PF('tabelaDisponivel').filter();&quot; /&gt;\n    \n        &lt;h:form id=&quot;formOrdEquipeUsuario&quot;&gt;\n            &lt;div class=&quot;Container100 BorBotGray newCrumb&quot;&gt;\n                &lt;p:breadCrumb styleClass=&quot;Animated05&quot;&gt;\n                    &lt;p:menuitem value=&quot;#&quot; url=&quot;#&quot; styleClass=&quot;Animated05&quot;/&gt;\n                    &lt;p:menuitem value=&quot;#{msgs.ordemServico}&quot; url=&quot;#&quot; styleClass=&quot;Animated05&quot;/&gt;\n                    &lt;p:menuitem value=&quot;#{msgs.gerenciamento}&quot; url=&quot;#&quot; styleClass=&quot;Animated05&quot;/&gt;\n                    &lt;p:menuitem value=&quot;#{msgs.usuarioPorEquipe}&quot; url=&quot;#&quot; styleClass=&quot;Animated05&quot;/&gt;\n                &lt;/p:breadCrumb&gt;\n            &lt;/div&gt;\n            \n            &lt;span class=&quot;clear&quot; /&gt;\n                    \n            &lt;div class=&quot;main_content&quot;&gt;\n                &lt;p:outputPanel id=&quot;painelGerenciamentoEquipeUsuario&quot;&gt;\n                    &lt;div class=&quot;headerTitle container_grid&quot;&gt;\n                        &lt;div class=&quot;grid_12 last&quot;&gt;\n                            &lt;h4&gt;\n                                &lt;i class=&quot;icon-clipboard&quot; /&gt;\n                                &lt;span&gt;\n                                    &lt;h:outputText value=&quot;#{msgs.gerenciamentoUsuarioPorEquipe}&quot; /&gt;\n                                &lt;/span&gt;\n                            &lt;/h4&gt;\n                            &lt;p:separator /&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                 \n                    &lt;span class=&quot;clear&quot; /&gt;\n            \n                    &lt;div class=&quot;container_grid newForm&quot;&gt;\n                        &lt;div class=&quot;row_grid&quot;&gt;\n                        \n                            &lt;div class=&quot;grid_4&quot;&gt;\n                                &lt;p:outputLabel styleClass=&quot;widthFull&quot; value=&quot;#{msgs.equipe}&quot; for=&quot;comboEquipe&quot; /&gt;\n                                &lt;span class=&quot;clear&quot; /&gt;\n                                &lt;p:selectOneMenu id=&quot;comboEquipe&quot; label=&quot;#{msgs.equipe}&quot; value=&quot;#{ordEquipeUsuarioMB.equipeSelecionada}&quot; \n                                    filter=&quot;true&quot; filterMatchMode=&quot;contains&quot; converter=&quot;ConverterDefault&quot; styleClass=&quot;widthFull-select&quot;&gt;\n                                    &lt;f:selectItem itemLabel=&quot;#{msgs.selecionarOpcao}&quot; /&gt;\n                                    &lt;f:selectItems value=&quot;#{ordEquipeUsuarioMB.listaEquipe}&quot; var=&quot;equipe&quot; itemLabel=&quot;#{equipe.nome}&quot; itemValue=&quot;#{equipe}&quot; /&gt;\n                                    &lt;p:ajax event=&quot;change&quot; listener=&quot;#{ordEquipeUsuarioMB.buscarUsuarios}&quot; update=&quot;:growl painelGerenciamentoEquipeUsuario&quot; /&gt;\n                                &lt;/p:selectOneMenu&gt;\n                                &lt;span class=&quot;clear&quot; /&gt;\n                                &lt;p:overlayPanel for=&quot;comboEquipe&quot; rendered=&quot;#{facesContext.validationFailed}&quot; showEvent=&quot;mouseover&quot; hideEvent=&quot;mouseout&quot; at=&quot;right&quot; my=&quot;left&quot;&gt;\n                                    &lt;p:message for=&quot;comboEquipe&quot; /&gt;\n                                &lt;/p:overlayPanel&gt;\n                            &lt;/div&gt;\n                            \n                            &lt;div class=&quot;grid_4 last&quot;&gt;\n                                &lt;p:outputLabel styleClass=&quot;widthFull&quot; value=&quot;#{msgs.tipoMembroEquipe}&quot; for=&quot;comboTipoMembroEquipe&quot; /&gt;\n                                &lt;span class=&quot;clear&quot; /&gt;\n                                &lt;p:selectOneMenu id=&quot;comboTipoMembroEquipe&quot; label=&quot;#{msgs.tipoMembroEquipe}&quot; value=&quot;#{ordEquipeUsuarioMB.tipoMembroEquipeSelecionado}&quot; \n                                    filter=&quot;true&quot; filterMatchMode=&quot;contains&quot; styleClass=&quot;widthFull-select&quot;&gt;\n                                    &lt;f:selectItem itemLabel=&quot;#{msgs.selecionarOpcao}&quot; /&gt;\n                                    &lt;f:selectItems value=&quot;#{ordEquipeUsuarioMB.listaTipoMembroEquipe}&quot; var=&quot;tipoMembroEquipe&quot; itemLabel=&quot;#{tipoMembroEquipe.nome}&quot; itemValue=&quot;#{tipoMembroEquipe.tag}&quot; /&gt;\n                                    &lt;p:ajax event=&quot;change&quot; listener=&quot;#{ordEquipeUsuarioMB.buscarUsuarios}&quot; update=&quot;:growl painelGerenciamentoEquipeUsuario&quot; /&gt;\n                                &lt;/p:selectOneMenu&gt;\n                                &lt;span class=&quot;clear&quot; /&gt;\n                                &lt;p:overlayPanel for=&quot;comboTipoMembroEquipe&quot; rendered=&quot;#{facesContext.validationFailed}&quot; showEvent=&quot;mouseover&quot; hideEvent=&quot;mouseout&quot; at=&quot;right&quot; my=&quot;left&quot;&gt;\n                                    &lt;p:message for=&quot;comboTipoMembroEquipe&quot; /&gt;\n                                &lt;/p:overlayPanel&gt;\n                            &lt;/div&gt;\n                            \n                        &lt;/div&gt;\n                        \n                        &lt;div class=&quot;row_grid&quot;&gt;\n                            &lt;div class=&quot;grid_12 last&quot;&gt;\n                                \n                                &lt;p:commandButton id=&quot;botaoCancelar&quot; value=&quot;#{msgs.botaoCancelar}&quot; actionListener=&quot;#{ordEquipeUsuarioMB.cancelar}&quot; \n                                    icon=&quot;fa fa-eraser Fs16 white&quot; partialSubmit=&quot;true&quot; styleClass=&quot;Fleft&quot; update=&quot;:growl painelGerenciamentoEquipeUsuario&quot;\n                                    disabled=&quot;#{ordEquipeUsuarioMB.equipeSelecionada.id == null or empty ordEquipeUsuarioMB.tipoMembroEquipeSelecionado}&quot; style=&quot;margin-right: 5px;&quot;&gt;\n                                    &lt;f:param name=&quot;validateBean&quot; value=&quot;false&quot; /&gt;                   \n                                &lt;/p:commandButton&gt;\n            \n                                &lt;p:commandButton id=&quot;botaoSalvar&quot; value=&quot;#{msgs.botaoSalvar}&quot; actionListener=&quot;#{ordEquipeUsuarioMB.salvar}&quot; \n                                    icon=&quot;fa fa-save Fs16 white&quot; partialSubmit=&quot;true&quot; styleClass=&quot;Fright&quot; update=&quot;:growl painelGerenciamentoEquipeUsuario&quot; \n                                    disabled=&quot;#{ordEquipeUsuarioMB.equipeSelecionada.id == null or empty ordEquipeUsuarioMB.tipoMembroEquipeSelecionado}&quot;&gt;\n                                    &lt;f:param name=&quot;validateBean&quot; value=&quot;true&quot; /&gt;                    \n                                &lt;/p:commandButton&gt;\n                                    \n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                        \n                        &lt;div class=&quot;EmptyBox20&quot; /&gt;\n                         &lt;span class=&quot;clear&quot; /&gt;\n                         \n                         &lt;p:outputPanel id=&quot;painelTabela&quot;&gt;\n                            &lt;div class=&quot;headerTitle container_grid&quot;&gt;\n                            \n                               &lt;div class=&quot;row_grid&quot; style=&quot;padding-top:0;&quot;&gt;\n                                    &lt;div class=&quot;column-3-1 listDefault&quot;&gt;\n                                        &lt;div class=&quot;headerTitle container_grid&quot;&gt;\n                                            &lt;div class=&quot;grid_12 last&quot;&gt;\n                                                &lt;h4&gt;\n                                                    &lt;i class=&quot;icon-list-bullet&quot; /&gt;\n                                                    &lt;span&gt;\n                                                        &lt;h:outputText value=&quot;#{msgs.usuariosDisponiveis}&quot; /&gt;\n                                                    &lt;/span&gt;\n                                                &lt;/h4&gt;\n                                            &lt;/div&gt;\n                                        &lt;/div&gt;\n                                        \n                                        &lt;div class=&quot;EmptyBox5&quot; /&gt;\n                                \n                                        &lt;p:dataTable id=&quot;tabelaDisponivel&quot; var=&quot;usuario&quot; value=&quot;#{ordEquipeUsuarioMB.listaUsuarioDisponivel}&quot; pageLinks=&quot;4&quot;\n                                        selectionMode=&quot;single&quot; selection=&quot;#{ordEquipeUsuarioMB.usuarioSelecionado}&quot; rowKey=&quot;#{usuario.id}&quot; rows=&quot;10&quot; paginator=&quot;true&quot;\n                                        paginatorTemplate=&quot;{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}&quot;\n                                        rowsPerPageTemplate=&quot;10,50,100, #{fn:length(ordEquipeUsuarioMB.listaUsuarioDisponivel) &gt; 100 ? fn:length(ordEquipeUsuarioMB.listaUsuarioDisponivel) : ''}&quot;\n                                        emptyMessage=&quot;#{msgs.nenhumRegistroEncontrado}&quot;\n                                        paginatorPosition=&quot;bottom&quot; widgetVar=&quot;tabelaDisponivel&quot;\n                                        currentPageReportTemplate=&quot;#{msgs.paginacaoDataTable}&quot;&gt;\n                                            \n                                            &lt;p:column headerText=&quot;#{msgs.nome}&quot; sortBy=&quot;#{usuario.nome}&quot; filterBy=&quot;#{usuario.nome}&quot; filterPosition=&quot;bottom&quot; filterMatchMode=&quot;contains&quot;&gt;\n                                                &lt;f:facet name=&quot;filter&quot;&gt;\n                                                    &lt;p:inputText onkeyup=&quot;PF('tabelaDisponivel').filter()&quot; placeholder=&quot;Filtro&quot; /&gt;\n                                                &lt;/f:facet&gt;\n                                        \n                                                &lt;h:outputText value=&quot;#{usuario.nome}&quot; /&gt;\n                                            &lt;/p:column&gt;\n                                            \n                                            &lt;p:ajax event=&quot;page&quot; global=&quot;false&quot; /&gt;\n                                            &lt;p:ajax event=&quot;filter&quot; global=&quot;false&quot; /&gt;\n                                            &lt;p:ajax event=&quot;rowSelect&quot; listener=&quot;#{ordEquipeUsuarioMB.adicionar}&quot; \n                                                update=&quot;:formOrdEquipeUsuario:painelGerenciamentoEquipeUsuario&quot; delay=&quot;100&quot; /&gt;\n                                        &lt;/p:dataTable&gt;\n                                    &lt;/div&gt;\n                                    \n                                    &lt;div class=&quot;column-3-2 txtcenter&quot;&gt;\n                                        &lt;br /&gt;\n                                        &lt;span class=&quot;clear&quot; /&gt;\n                                     \n                                        &lt;p:commandButton id=&quot;botaoAdicionaTodos&quot; actionListener=&quot;#{ordEquipeUsuarioMB.adicionarTodos}&quot;\n                                        icon=&quot;fa fa-angle-double-right Fs16 white&quot; partialSubmit=&quot;true&quot; styleClass=&quot;dinline-block&quot; update=&quot;:growl painelTabela&quot;\n                                        disabled=&quot;#{empty ordEquipeUsuarioMB.listaUsuarioDisponivel}&quot;\n                                        style=&quot;margin: 5px 0;&quot; &gt;\n                                            &lt;f:param name=&quot;validateBean&quot; value=&quot;false&quot; /&gt;\n                                        &lt;/p:commandButton&gt;\n                                     \n                                        &lt;span class=&quot;clear&quot; /&gt;\n                                     \n                                        &lt;p:commandButton id=&quot;botaoRemoverTodos&quot; actionListener=&quot;#{ordEquipeUsuarioMB.removerTodos}&quot;\n                                        icon=&quot;fa fa-angle-double-left Fs16 white&quot; partialSubmit=&quot;true&quot; styleClass=&quot;dinline-block&quot; update=&quot;:growl painelTabela&quot;\n                                        disabled=&quot;#{empty ordEquipeUsuarioMB.listaUsuarioCadastrado}&quot;\n                                        style=&quot;margin: 5px 0;&quot; &gt;\n                                            &lt;f:param name=&quot;validateBean&quot; value=&quot;false&quot; /&gt;\n                                        &lt;/p:commandButton&gt;\n                                    &lt;/div&gt;\n                                    \n                                    &lt;div class=&quot;column-3-3 listDefault&quot;&gt;\n                                        &lt;div class=&quot;headerTitle container_grid&quot;&gt;\n                                            &lt;div class=&quot;grid_12 last&quot;&gt;\n                                                &lt;h4&gt;\n                                                    &lt;i class=&quot;icon-list-bullet&quot; /&gt;\n                                                    &lt;span&gt;\n                                                        &lt;h:outputText value=&quot;#{msgs.usuariosCadastrados}&quot; /&gt;\n                                                    &lt;/span&gt;\n                                                &lt;/h4&gt;\n                                            &lt;/div&gt;\n                                        &lt;/div&gt;\n                                        \n                                        &lt;div class=&quot;EmptyBox5&quot; /&gt;\n                                \n                                        &lt;p:dataTable id=&quot;tabelaCadastrado&quot; var=&quot;usuario&quot; value=&quot;#{ordEquipeUsuarioMB.listaUsuarioCadastrado}&quot; pageLinks=&quot;4&quot;\n                                        selectionMode=&quot;single&quot; selection=&quot;#{ordEquipeUsuarioMB.usuarioSelecionado}&quot; rowKey=&quot;#{usuario.id}&quot; rows=&quot;10&quot; paginator=&quot;true&quot;\n                                        paginatorTemplate=&quot;{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}&quot;\n                                        rowsPerPageTemplate=&quot;10,50,100, #{fn:length(ordEquipeUsuarioMB.listaUsuarioCadastrado) &gt; 100 ? fn:length(ordEquipeUsuarioMB.listaUsuarioCadastrado) : ''}&quot;\n                                        emptyMessage=&quot;#{msgs.nenhumRegistroEncontrado}&quot; paginatorPosition=&quot;bottom&quot; widgetVar=&quot;tabelaCadastrado&quot;\n                                        currentPageReportTemplate=&quot;#{msgs.paginacaoDataTable}&quot;&gt;\n            \n                                            &lt;p:column headerText=&quot;#{msgs.nome}&quot; sortBy=&quot;#{usuario.nome}&quot; filterBy=&quot;#{usuario.nome}&quot; filterPosition=&quot;bottom&quot; filterMatchMode=&quot;contains&quot;&gt;\n                                                &lt;f:facet name=&quot;filter&quot;&gt;\n                                                    &lt;p:inputText onkeyup=&quot;PF('tabelaCadastrado').filter()&quot; placeholder=&quot;Filtro&quot; /&gt;\n                                                &lt;/f:facet&gt;\n            \n                                                &lt;h:outputText value=&quot;#{usuario.nome}&quot; /&gt;\n                                            &lt;/p:column&gt;\n                                            \n                                            &lt;p:ajax event=&quot;page&quot; global=&quot;false&quot; /&gt;\n                                            &lt;p:ajax event=&quot;filter&quot; global=&quot;false&quot; /&gt;\n                                            &lt;p:ajax event=&quot;rowSelect&quot; listener=&quot;#{ordEquipeUsuarioMB.remover}&quot; \n                                                update=&quot;:formOrdEquipeUsuario:painelGerenciamentoEquipeUsuario&quot; delay=&quot;100&quot; /&gt;\n                                        &lt;/p:dataTable&gt;\n                                    &lt;/div&gt;                              \n                                &lt;/div&gt;\n                            &lt;/div&gt;\n                        &lt;/p:outputPanel&gt;\n                    &lt;/div&gt;\n                &lt;/p:outputPanel&gt;\n            &lt;/div&gt;\n        &lt;/h:form&gt;\n    &lt;/ui:define&gt;\n&lt;/ui:composition&gt;\n</code></pre>\n<p>The project works fine for another client where I only change images, but it doesn't work here</p>\n"},{"tags":["java","android","kotlin","android-studio","apk"],"answers":[{"tags":[],"owner":{"account_id":16878257,"reputation":280,"user_id":12205091,"display_name":"Dmitri Chernysh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691085212,"creation_date":1691085212,"answer_id":76830525,"question_id":76830261,"body_markdown":"Change buildTypes &gt; add &#39;release&#39; &gt;  \r\n\r\nminifyEnabled false\r\n\r\nshrinkResources false\r\n\r\n\r\n```kotlin\r\n    buildTypes {\r\n         debug {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n\r\n        release {\r\n            debuggable false\r\n            minifyEnabled false\r\n            shrinkResources false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            signingConfig signingConfigs.config\r\n        }\r\n    }\r\n```","title":"How to disable Obfuscate in android studio?","body":"<p>Change buildTypes &gt; add 'release' &gt;</p>\n<p>minifyEnabled false</p>\n<p>shrinkResources false</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>    buildTypes {\n         debug {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n\n        release {\n            debuggable false\n            minifyEnabled false\n            shrinkResources false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n            signingConfig signingConfigs.config\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13594863,"reputation":1,"user_id":13382880,"display_name":"Oleksandr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691094217,"creation_date":1691093494,"answer_id":76831348,"question_id":76830261,"body_markdown":"Well, your config seems to be ok.\r\n\r\n    buildTypes {\r\n            debug {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\nThis should be enough in order to disable obfuscation for debug build. Can you please provide more info about what are you building or what are you trying to do? How you understand that your app obfuscated? Do you trying to build apk or you are looking for sources in build folder? Btw try to clean project Build -&gt; Clean Project and rebuild with debug build type.","title":"How to disable Obfuscate in android studio?","body":"<p>Well, your config seems to be ok.</p>\n<pre><code>buildTypes {\n        debug {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n</code></pre>\n<p>This should be enough in order to disable obfuscation for debug build. Can you please provide more info about what are you building or what are you trying to do? How you understand that your app obfuscated? Do you trying to build apk or you are looking for sources in build folder? Btw try to clean project Build -&gt; Clean Project and rebuild with debug build type.</p>\n"}],"owner":{"account_id":14458257,"reputation":1,"user_id":10443799,"display_name":"Pwners"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1691094217,"creation_date":1691082718,"question_id":76830261,"body_markdown":"I&#39;m editing my build.gradle and proguard-rules.pro file but it still obfuscates my code. What is the reason? i will test it to reverse the code, but it obfuscates the code. How should i edit the code to not obfuscate it or is there a setting?\r\n\r\nbuild.gradle\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n    id &#39;org.jetbrains.kotlin.android&#39;\r\n}\r\n\r\nandroid {\r\n    namespace &#39;com.example.myapplication2&#39;\r\n    compileSdk 33\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.myapplication2&quot;\r\n        minSdk 24\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        vectorDrawables {\r\n            useSupportLibrary true\r\n        }\r\n    }\r\n\r\n    buildTypes {\r\n        debug {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    kotlinOptions {\r\n        jvmTarget = &#39;1.8&#39;\r\n    }\r\n    buildFeatures {\r\n        compose true\r\n    }\r\n    composeOptions {\r\n        kotlinCompilerExtensionVersion &#39;1.4.3&#39;\r\n    }\r\n    packaging {\r\n        resources {\r\n            excludes += &#39;/META-INF/{AL2.0,LGPL2.1}&#39;\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.core:core-ktx:1.9.0&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-runtime-ktx:2.6.1&#39;\r\n    implementation &#39;androidx.activity:activity-compose:1.7.0&#39;\r\n    implementation platform(&#39;androidx.compose:compose-bom:2023.03.00&#39;)\r\n    implementation &#39;androidx.compose.ui:ui&#39;\r\n    implementation &#39;androidx.compose.ui:ui-graphics&#39;\r\n    implementation &#39;androidx.compose.ui:ui-tooling-preview&#39;\r\n    implementation &#39;androidx.compose.material3:material3&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n    androidTestImplementation platform(&#39;androidx.compose:compose-bom:2023.03.00&#39;)\r\n    androidTestImplementation &#39;androidx.compose.ui:ui-test-junit4&#39;\r\n    debugImplementation &#39;androidx.compose.ui:ui-tooling&#39;\r\n    debugImplementation &#39;androidx.compose.ui:ui-test-manifest&#39;\r\n}\r\n```\r\n\r\nproguard-rules.pro\r\n```\r\n# Add project specific ProGuard rules here.\r\n# You can control the set of applied configuration files using the\r\n# proguardFiles setting in build.gradle.\r\n#\r\n# For more details, see\r\n#   http://developer.android.com/guide/developing/tools/proguard.html\r\n\r\n# If your project uses WebView with JS, uncomment the following\r\n# and specify the fully qualified class name to the JavaScript interface\r\n# class:\r\n#-keepclassmembers class fqcn.of.javascript.interface.for.webview {\r\n#   public *;\r\n#}\r\n\r\n# Uncomment this to preserve the line number information for\r\n# debugging stack traces.\r\n#-keepattributes SourceFile,LineNumberTable\r\n\r\n# If you keep the line number information, uncomment this to\r\n# hide the original source file name.\r\n#-renamesourcefileattribute SourceFile\r\n-keep class com.my.package.** { *; }\r\n-dontobfuscate\r\n-dontoptimize\r\n-dontshrink\r\n-dontusemixedcaseclassnames\r\n-dontskipnonpubliclibraryclasses\r\n-dontpreverify\r\n-verbose\r\n```\r\n\r\n\r\ni will test it to reverse the code, but it obfuscates the code. How should i edit the code to not obfuscate it or is there a setting?","title":"How to disable Obfuscate in android studio?","body":"<p>I'm editing my build.gradle and proguard-rules.pro file but it still obfuscates my code. What is the reason? i will test it to reverse the code, but it obfuscates the code. How should i edit the code to not obfuscate it or is there a setting?</p>\n<p>build.gradle</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'org.jetbrains.kotlin.android'\n}\n\nandroid {\n    namespace 'com.example.myapplication2'\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.example.myapplication2&quot;\n        minSdk 24\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n        vectorDrawables {\n            useSupportLibrary true\n        }\n    }\n\n    buildTypes {\n        debug {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n    buildFeatures {\n        compose true\n    }\n    composeOptions {\n        kotlinCompilerExtensionVersion '1.4.3'\n    }\n    packaging {\n        resources {\n            excludes += '/META-INF/{AL2.0,LGPL2.1}'\n        }\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.core:core-ktx:1.9.0'\n    implementation 'androidx.lifecycle:lifecycle-runtime-ktx:2.6.1'\n    implementation 'androidx.activity:activity-compose:1.7.0'\n    implementation platform('androidx.compose:compose-bom:2023.03.00')\n    implementation 'androidx.compose.ui:ui'\n    implementation 'androidx.compose.ui:ui-graphics'\n    implementation 'androidx.compose.ui:ui-tooling-preview'\n    implementation 'androidx.compose.material3:material3'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n    androidTestImplementation platform('androidx.compose:compose-bom:2023.03.00')\n    androidTestImplementation 'androidx.compose.ui:ui-test-junit4'\n    debugImplementation 'androidx.compose.ui:ui-tooling'\n    debugImplementation 'androidx.compose.ui:ui-test-manifest'\n}\n</code></pre>\n<p>proguard-rules.pro</p>\n<pre><code># Add project specific ProGuard rules here.\n# You can control the set of applied configuration files using the\n# proguardFiles setting in build.gradle.\n#\n# For more details, see\n#   http://developer.android.com/guide/developing/tools/proguard.html\n\n# If your project uses WebView with JS, uncomment the following\n# and specify the fully qualified class name to the JavaScript interface\n# class:\n#-keepclassmembers class fqcn.of.javascript.interface.for.webview {\n#   public *;\n#}\n\n# Uncomment this to preserve the line number information for\n# debugging stack traces.\n#-keepattributes SourceFile,LineNumberTable\n\n# If you keep the line number information, uncomment this to\n# hide the original source file name.\n#-renamesourcefileattribute SourceFile\n-keep class com.my.package.** { *; }\n-dontobfuscate\n-dontoptimize\n-dontshrink\n-dontusemixedcaseclassnames\n-dontskipnonpubliclibraryclasses\n-dontpreverify\n-verbose\n</code></pre>\n<p>i will test it to reverse the code, but it obfuscates the code. How should i edit the code to not obfuscate it or is there a setting?</p>\n"},{"tags":["java","selenium","junit","testng"],"comments":[{"owner":{"account_id":4806420,"reputation":3411,"user_id":3881320,"display_name":"Davide Patti"},"score":1,"creation_date":1521883616,"post_id":49463014,"comment_id":85929155,"body_markdown":"Could you post the exception?","body":"Could you post the exception?"}],"answers":[{"tags":[],"owner":{"account_id":4230213,"reputation":4164,"user_id":3462681,"accept_rate":50,"display_name":"Roushan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1521887723,"creation_date":1521887723,"answer_id":49463687,"question_id":49463014,"body_markdown":"&gt;     @BeforeTest: The annotated method will be run before any test method belonging to the classes inside the &lt;test&gt; tag is run.\r\n&gt;     @BeforeClass: The annotated method will be run before the first test method in the current class is invoked\r\n\r\ntry to change the annotation \r\n\r\n    @BeforeTest\r\n    public static void driveraBaglan() {\r\n        //Driver is declared here. I removed it to give the simple code. \r\n        user = driver.findElement(By.id(&quot;user&quot;));\r\n        pass = driver.findElement(By.id(&quot;pass&quot;));\r\n        login = driver.findElement(By.xpath(&quot;//button[contains(.,&#39;Log In&#39;)]&quot;));\r\n        statusMessage = driver.findElement(By.id(&quot;login-status-message&quot;)).getText();\r\n    \r\n    }","title":"TestNG @BeforeClass initialization code not running before Test","body":"<blockquote>\n<pre><code>@BeforeTest: The annotated method will be run before any test method belonging to the classes inside the &lt;test&gt; tag is run.\n@BeforeClass: The annotated method will be run before the first test method in the current class is invoked\n</code></pre>\n</blockquote>\n\n<p>try to change the annotation </p>\n\n<pre><code>@BeforeTest\npublic static void driveraBaglan() {\n    //Driver is declared here. I removed it to give the simple code. \n    user = driver.findElement(By.id(\"user\"));\n    pass = driver.findElement(By.id(\"pass\"));\n    login = driver.findElement(By.xpath(\"//button[contains(.,'Log In')]\"));\n    statusMessage = driver.findElement(By.id(\"login-status-message\")).getText();\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4806420,"reputation":3411,"user_id":3881320,"display_name":"Davide Patti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1521888916,"creation_date":1521888916,"answer_id":49463848,"question_id":49463014,"body_markdown":"I never used **TestNG** but I do use **Junit**. Trying to replicate your example, I obtained the following exception:\r\n\r\n    [TestNG] Running:\r\n      /Users/davide.patti/Library/Caches/IntelliJIdea2017.3/temp-testng-customsuite.xml\r\n    \r\n    java.lang.NullPointerException\r\n    \tat TestSO.loginNoInfo(TestSO.java:27)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)\r\n    \tat org.testng.internal.Invoker.invokeMethod(Invoker.java:714)\r\n    \tat org.testng.internal.Invoker.invokeTestMethod(Invoker.java:901)\r\n    \tat org.testng.internal.Invoker.invokeTestMethods(Invoker.java:1231)\r\n    \tat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:127)\r\n    \tat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:111)\r\n    \tat org.testng.TestRunner.privateRun(TestRunner.java:767)\r\n    \tat org.testng.TestRunner.run(TestRunner.java:617)\r\n    \tat org.testng.SuiteRunner.runTest(SuiteRunner.java:334)\r\n    \tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:329)\r\n    \tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:291)\r\n    \tat org.testng.SuiteRunner.run(SuiteRunner.java:240)\r\n    \tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n    \tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\r\n    \tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1198)\r\n    \tat org.testng.TestNG.runSuitesLocally(TestNG.java:1123)\r\n    \tat org.testng.TestNG.run(TestNG.java:1031)\r\n    \tat org.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:72)\r\n    \tat org.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:123)\r\n\r\n\r\nThe reason was because, in my imported classes I was using the BeforeClass of Junit:\r\n\r\n    import org.junit.BeforeClass;\r\n    import org.testng.annotations.Test;\r\n\r\nand not of TestNG.\r\n\r\nIf your null pointer exception is the same, be sure that your imported classes are the correct ones:\r\n\r\n    import org.testng.annotations.BeforeClass;\r\n    import org.testng.annotations.Test; ","title":"TestNG @BeforeClass initialization code not running before Test","body":"<p>I never used <strong>TestNG</strong> but I do use <strong>Junit</strong>. Trying to replicate your example, I obtained the following exception:</p>\n\n<pre><code>[TestNG] Running:\n  /Users/davide.patti/Library/Caches/IntelliJIdea2017.3/temp-testng-customsuite.xml\n\njava.lang.NullPointerException\n    at TestSO.loginNoInfo(TestSO.java:27)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)\n    at org.testng.internal.Invoker.invokeMethod(Invoker.java:714)\n    at org.testng.internal.Invoker.invokeTestMethod(Invoker.java:901)\n    at org.testng.internal.Invoker.invokeTestMethods(Invoker.java:1231)\n    at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:127)\n    at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:111)\n    at org.testng.TestRunner.privateRun(TestRunner.java:767)\n    at org.testng.TestRunner.run(TestRunner.java:617)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:334)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:329)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:291)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:240)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1198)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1123)\n    at org.testng.TestNG.run(TestNG.java:1031)\n    at org.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:72)\n    at org.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:123)\n</code></pre>\n\n<p>The reason was because, in my imported classes I was using the BeforeClass of Junit:</p>\n\n<pre><code>import org.junit.BeforeClass;\nimport org.testng.annotations.Test;\n</code></pre>\n\n<p>and not of TestNG.</p>\n\n<p>If your null pointer exception is the same, be sure that your imported classes are the correct ones:</p>\n\n<pre><code>import org.testng.annotations.BeforeClass;\nimport org.testng.annotations.Test; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":6232328,"reputation":1338,"user_id":4848659,"display_name":"Gimhani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1559117122,"creation_date":1559117122,"answer_id":56355791,"question_id":49463014,"body_markdown":"I got this same issue by an accidental change I&#39;ve done.\r\n\r\nYou may also get the null pointer exception on objects you are initializing in @BeforeClass or @BeforeTest, when you have a dilemma situation as below (where the class is set to as a disabled test class while having enabled test methods).\r\n\r\n    @Test(enabled=false)\r\n    public class TestClass{\r\n        A a;    \r\n    \r\n        @BeforeClass\r\n        public void doBeforeClass(){\r\n          a=new A();\r\n          //\r\n        }\r\n        \r\n        @Test\r\n        public void test1(){\r\n           a.callMethod1();\r\n        }\r\n    \r\n        @Test\r\n        public void test2(){\r\n           a.callMethod2();\r\n        }\r\n    \r\n    }\r\n\r\nHere, when you are running full-suite by putting `@Test(enabled=false)` only for the class, still the suite will run individual tests in the class since `@Test` annotations are present there. However, since `@BeforeClass` is not running for whole class, object &#39;a&#39; is not initialized and will cause null pointer exceptions.\r\n\r\nIn such cases, the individual `@Test` annotations too need to be changed to `@Test(enabled=false)`","title":"TestNG @BeforeClass initialization code not running before Test","body":"<p>I got this same issue by an accidental change I've done.</p>\n\n<p>You may also get the null pointer exception on objects you are initializing in @BeforeClass or @BeforeTest, when you have a dilemma situation as below (where the class is set to as a disabled test class while having enabled test methods).</p>\n\n<pre><code>@Test(enabled=false)\npublic class TestClass{\n    A a;    \n\n    @BeforeClass\n    public void doBeforeClass(){\n      a=new A();\n      //\n    }\n\n    @Test\n    public void test1(){\n       a.callMethod1();\n    }\n\n    @Test\n    public void test2(){\n       a.callMethod2();\n    }\n\n}\n</code></pre>\n\n<p>Here, when you are running full-suite by putting <code>@Test(enabled=false)</code> only for the class, still the suite will run individual tests in the class since <code>@Test</code> annotations are present there. However, since <code>@BeforeClass</code> is not running for whole class, object 'a' is not initialized and will cause null pointer exceptions.</p>\n\n<p>In such cases, the individual <code>@Test</code> annotations too need to be changed to <code>@Test(enabled=false)</code></p>\n"},{"tags":[],"owner":{"account_id":21422058,"reputation":55,"user_id":15780106,"display_name":"Parker H Gordon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691093665,"creation_date":1691093665,"answer_id":76831369,"question_id":49463014,"body_markdown":"For me I had to include alwaysRun = true, which implies that it was probably a misconfiguration of the groups somehow.\r\n\r\n    @BeforeClass(alwaysRun = true)\r\n    setup() { ... }","title":"TestNG @BeforeClass initialization code not running before Test","body":"<p>For me I had to include alwaysRun = true, which implies that it was probably a misconfiguration of the groups somehow.</p>\n<pre><code>@BeforeClass(alwaysRun = true)\nsetup() { ... }\n</code></pre>\n"}],"owner":{"account_id":13215042,"reputation":51,"user_id":9543883,"display_name":"Ceyhun Ganioğlu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5571,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":49463687,"answer_count":4,"score":2,"last_activity_date":1691093665,"creation_date":1521882611,"question_id":49463014,"body_markdown":"I am writing test codes with Selenium, TestNG. I am trying to set some elements on the `@BeforeClass` section as I am repeating those actions on the same page. But I am getting null pointer exception. Is there a way to fix this issue?\r\n\r\n    public class RunTest {\r\n    private static WebElement user;\r\n    private static WebElement pass;\r\n    private static WebElement login;\r\n\r\n    @BeforeClass\r\n    public static void driveraBaglan() {\r\n        //Driver is declared here. I removed it to give the simple code. \r\n        user = driver.findElement(By.id(&quot;user&quot;));\r\n        pass = driver.findElement(By.id(&quot;pass&quot;));\r\n        login = driver.findElement(By.xpath(&quot;//button[contains(.,&#39;Log In&#39;)]&quot;));\r\n        statusMessage = driver.findElement(By.id(&quot;login-status-message&quot;)).getText();\r\n\r\n    }\r\n    @Test(priority=1)\r\n    public void loginNoInfo() {\r\n            user.clear();\r\n            pass.clear();\r\n    }\r\n\r\nI get the null pointer error on `user.clear()` , `pass.clear()` and `login.click()` functions. All tests on the page runs on the same page. I don&#39;t want to use repeated &quot;find element by id&quot; tags on each test on the page.\r\n","title":"TestNG @BeforeClass initialization code not running before Test","body":"<p>I am writing test codes with Selenium, TestNG. I am trying to set some elements on the <code>@BeforeClass</code> section as I am repeating those actions on the same page. But I am getting null pointer exception. Is there a way to fix this issue?</p>\n\n<pre><code>public class RunTest {\nprivate static WebElement user;\nprivate static WebElement pass;\nprivate static WebElement login;\n\n@BeforeClass\npublic static void driveraBaglan() {\n    //Driver is declared here. I removed it to give the simple code. \n    user = driver.findElement(By.id(\"user\"));\n    pass = driver.findElement(By.id(\"pass\"));\n    login = driver.findElement(By.xpath(\"//button[contains(.,'Log In')]\"));\n    statusMessage = driver.findElement(By.id(\"login-status-message\")).getText();\n\n}\n@Test(priority=1)\npublic void loginNoInfo() {\n        user.clear();\n        pass.clear();\n}\n</code></pre>\n\n<p>I get the null pointer error on <code>user.clear()</code> , <code>pass.clear()</code> and <code>login.click()</code> functions. All tests on the page runs on the same page. I don't want to use repeated \"find element by id\" tags on each test on the page.</p>\n"},{"tags":["java","spring-boot","soap-client","unmarshalling"],"owner":{"account_id":12890715,"reputation":1306,"user_id":9322814,"accept_rate":50,"display_name":"Juke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691093647,"creation_date":1691093647,"question_id":76831364,"body_markdown":"My xml soap response looks like mentioned below and I additionally I see unmarshalling exception org.springframework.oxm.UnmarshallingFailureException: JAXB unmarshalling exception; nested exception is javax.xml.bind.UnmarshalException: unexpected element (uri:&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;, local:&quot;Fault&quot;)\r\n\r\n    &lt;env:Envelope\r\n    \txmlns:env=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;\r\n    \txmlns:wsa=&quot;http://www.w3.org/2005/08/addressing&quot;&gt;\r\n    \t&lt;env:Header&gt;\r\n    \t\t&lt;wsa:Action&gt;process***&lt;/wsa:Action&gt;\r\n    \t\t&lt;wsa:MessageID&gt;urn:&lt;/wsa:MessageID&gt;\r\n    \t\t&lt;wsa:ReplyTo&gt;\r\n    \t\t\t&lt;wsa:Address&gt;http://www.w3.org/2005/08/addressing/anonymous&lt;/wsa:Address&gt;\r\n    \t\t\t&lt;wsa:ReferenceParameters&gt;\r\n    \t\t\t\t&lt;instra:tracking.ecid\r\n    \t\t\t\t\txmlns:instra=&quot;http://xmlns.oracle.com/sca/tracking/1.0&quot;&gt;0f285c\r\n    \t\t\t\t&lt;/instra:tracking.ecid&gt;\r\n    \t\t\t\t&lt;instra:tracking.FlowEventId\r\n    \t\t\t\t\txmlns:instra=&quot;http://xmlns.oracle.com/sca/tracking/1.0&quot;&gt;110\r\n    \t\t\t\t&lt;/instra:tracking.FlowEventId&gt;\r\n    \t\t\t\t&lt;instra:tracking.FlowId\r\n    \t\t\t\t\txmlns:instra=&quot;http://xmlns.oracle.com/sca/tracking/1.0&quot;&gt;233\r\n    \t\t\t\t&lt;/instra:tracking.FlowId&gt;\r\n    \t\t\t\t&lt;instra:tracking.CorrelationFlowId\r\n    \t\t\t\t\txmlns:instra=&quot;http://xmlns.oracle.com/sca/tracking/1.0&quot;&gt;0000OawEgND\r\n    \t\t\t\t&lt;/instra:tracking.CorrelationFlowId&gt;\r\n    \t\t\t\t&lt;instra:tracking.quiescing.SCAEntityId\r\n    \t\t\t\t\txmlns:instra=&quot;http://xmlns.oracle.com/sca/tracking/1.0&quot;&gt;90\r\n    \t\t\t\t&lt;/instra:tracking.quiescing.SCAEntityId&gt;\r\n    \t\t\t&lt;/wsa:ReferenceParameters&gt;\r\n    \t\t&lt;/wsa:ReplyTo&gt;\r\n    \t\t&lt;wsa:FaultTo&gt;\r\n    \t\t\t&lt;wsa:Address&gt;http://www.w3.org/2005/08/addressing/anonymous&lt;/wsa:Address&gt;\r\n    \t\t&lt;/wsa:FaultTo&gt;\r\n    \t&lt;/env:Header&gt;\r\n    \t&lt;env:Body&gt;\r\n    \t\t&lt;ResponseSolution\r\n    \t\t\txmlns=&quot;http://www.openapplications.org/oagis/10&quot;\r\n    \t\t\txmlns:client=&quot;http://xmlns.oracle.com/REQ2DELPHI&quot;\r\n    \t\t\txmlns:ns1=&quot;http://xmlns.oracle.com/Delphi_Requisition_OAG&quot;\r\n    \t\t\txmlns:ns2=&quot;http://docs.oasis-open.org/wsbpel/2.0/plnktype&quot;\r\n    \t\t\txmlns:ns3=&quot;http://www.openapplications.org/oagis/9&quot;\r\n    \t\t\txmlns:plnk=&quot;http://schemas.xmlsoap.org/ws/2003/05/partner-link/&quot;\r\n    \t\t\txmlns:tns=&quot;http://www.openapplications.org/oagis/10&quot;\r\n    \t\t\txmlns:wsdl=&quot;http://schemas.xmlsoap.org/wsdl/&quot;&gt;\r\n    \t\t\t&lt;tns:DataArea&gt;\r\n    \t\t\t\t&lt;tns:Respond&gt;\r\n    \t\t\t\t\t&lt;tns:Area&gt;\r\n    \t\t\t\t\t\t&lt;tns:Receiver&gt;\r\n    \t\t\t\t\t\t\t&lt;tns:ID&gt;***&lt;/tns:ID&gt;\r\n    \t\t\t\t\t\t\t&lt;tns:Conent&gt;****&lt;/tns:Conent&gt;\r\n    \t\t\t\t\t\t&lt;/tns:Receiver&gt;\r\n    \t\t\t\t\t&lt;/tns:Area&gt;\r\n    \t\t\t\t&lt;/tns:Respond&gt;\r\n    \t\t\t&lt;/tns:DataArea&gt;\r\n    \t\t&lt;/ResponseSolution&gt;\r\n    \t&lt;/env:Body&gt;\r\n    &lt;/env:Envelope&gt;\r\n\r\nHere is my webserviceConfig\r\n\r\n\r\npublic class WebServiceConfig {\r\n\r\n\tprivate String username;\r\n\tprivate String password;\r\n\t\r\n\r\n\t@Bean\r\n\tpublic Jaxb2Marshaller marshaller() {\r\n\t\tJaxb2Marshaller marshaller = new Jaxb2Marshaller();\r\n\t\tmarshaller.setContextPaths(&quot;****ition&quot;, &quot;*****ion&quot;);\r\n\t\treturn marshaller;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic SoapMessageFactory messageFactory() {\r\n\t\treturn new SaajSoapMessageFactory();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic Wss4jSecurityInterceptor securityInterceptor() {\r\n\t\tWss4jSecurityInterceptor securityInterceptor = new Wss4jSecurityInterceptor();\r\n\t\tsecurityInterceptor.setSecurementUsername(username);\r\n\t\tsecurityInterceptor.setSecurementPassword(password);\r\n\t\tsecurityInterceptor.setSecurementPasswordType(WSConstants.PW_TEXT);\r\n\t\tsecurityInterceptor.setSecurementActions(WSHandlerConstants.USERNAME_TOKEN);\r\n\t\tsecurityInterceptor.setValidationActions(WSHandlerConstants.USERNAME_TOKEN);\r\n\t\tsecurityInterceptor.setValidationCallbackHandler(callbackHandler());\r\n\t\treturn securityInterceptor;\r\n\t}\r\n\t@Bean\r\n\tpublic WebServiceTemplate webServiceTemplate(Jaxb2Marshaller marshaller,\r\n\t\t\tWss4jSecurityInterceptor securityInterceptor) {\r\n\t\tWebServiceTemplate webServiceTemplate = new WebServiceTemplate();\r\n\t\twebServiceTemplate.setMarshaller(marshaller);\r\n\t\twebServiceTemplate.setUnmarshaller(marshaller);\r\n\t\t webServiceTemplate.setInterceptors(new ClientInterceptor[] { securityInterceptor });\r\n\r\n\t\treturn webServiceTemplate;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic CallbackHandler callbackHandler() {\r\n\t\treturn callbacks -&gt; {\r\n\t\t\tfor (Callback callback : callbacks) {\r\n\t\t\t\tif (callback instanceof WSPasswordCallback) {\r\n\t\t\t\t\tWSPasswordCallback pc = (WSPasswordCallback) callback;\r\n\t\t\t\t\tif (username.equals(pc.getIdentifier())) {\r\n\t\t\t\t\t\tpc.setPassword(password);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\t\r\n\r\nLet me know what additional changes I need to make to fix the issue","title":"Unmarshalling exception while receiving response from soap","body":"<p>My xml soap response looks like mentioned below and I additionally I see unmarshalling exception org.springframework.oxm.UnmarshallingFailureException: JAXB unmarshalling exception; nested exception is javax.xml.bind.UnmarshalException: unexpected element (uri:&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;, local:&quot;Fault&quot;)</p>\n<pre><code>&lt;env:Envelope\n    xmlns:env=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;\n    xmlns:wsa=&quot;http://www.w3.org/2005/08/addressing&quot;&gt;\n    &lt;env:Header&gt;\n        &lt;wsa:Action&gt;process***&lt;/wsa:Action&gt;\n        &lt;wsa:MessageID&gt;urn:&lt;/wsa:MessageID&gt;\n        &lt;wsa:ReplyTo&gt;\n            &lt;wsa:Address&gt;http://www.w3.org/2005/08/addressing/anonymous&lt;/wsa:Address&gt;\n            &lt;wsa:ReferenceParameters&gt;\n                &lt;instra:tracking.ecid\n                    xmlns:instra=&quot;http://xmlns.oracle.com/sca/tracking/1.0&quot;&gt;0f285c\n                &lt;/instra:tracking.ecid&gt;\n                &lt;instra:tracking.FlowEventId\n                    xmlns:instra=&quot;http://xmlns.oracle.com/sca/tracking/1.0&quot;&gt;110\n                &lt;/instra:tracking.FlowEventId&gt;\n                &lt;instra:tracking.FlowId\n                    xmlns:instra=&quot;http://xmlns.oracle.com/sca/tracking/1.0&quot;&gt;233\n                &lt;/instra:tracking.FlowId&gt;\n                &lt;instra:tracking.CorrelationFlowId\n                    xmlns:instra=&quot;http://xmlns.oracle.com/sca/tracking/1.0&quot;&gt;0000OawEgND\n                &lt;/instra:tracking.CorrelationFlowId&gt;\n                &lt;instra:tracking.quiescing.SCAEntityId\n                    xmlns:instra=&quot;http://xmlns.oracle.com/sca/tracking/1.0&quot;&gt;90\n                &lt;/instra:tracking.quiescing.SCAEntityId&gt;\n            &lt;/wsa:ReferenceParameters&gt;\n        &lt;/wsa:ReplyTo&gt;\n        &lt;wsa:FaultTo&gt;\n            &lt;wsa:Address&gt;http://www.w3.org/2005/08/addressing/anonymous&lt;/wsa:Address&gt;\n        &lt;/wsa:FaultTo&gt;\n    &lt;/env:Header&gt;\n    &lt;env:Body&gt;\n        &lt;ResponseSolution\n            xmlns=&quot;http://www.openapplications.org/oagis/10&quot;\n            xmlns:client=&quot;http://xmlns.oracle.com/REQ2DELPHI&quot;\n            xmlns:ns1=&quot;http://xmlns.oracle.com/Delphi_Requisition_OAG&quot;\n            xmlns:ns2=&quot;http://docs.oasis-open.org/wsbpel/2.0/plnktype&quot;\n            xmlns:ns3=&quot;http://www.openapplications.org/oagis/9&quot;\n            xmlns:plnk=&quot;http://schemas.xmlsoap.org/ws/2003/05/partner-link/&quot;\n            xmlns:tns=&quot;http://www.openapplications.org/oagis/10&quot;\n            xmlns:wsdl=&quot;http://schemas.xmlsoap.org/wsdl/&quot;&gt;\n            &lt;tns:DataArea&gt;\n                &lt;tns:Respond&gt;\n                    &lt;tns:Area&gt;\n                        &lt;tns:Receiver&gt;\n                            &lt;tns:ID&gt;***&lt;/tns:ID&gt;\n                            &lt;tns:Conent&gt;****&lt;/tns:Conent&gt;\n                        &lt;/tns:Receiver&gt;\n                    &lt;/tns:Area&gt;\n                &lt;/tns:Respond&gt;\n            &lt;/tns:DataArea&gt;\n        &lt;/ResponseSolution&gt;\n    &lt;/env:Body&gt;\n&lt;/env:Envelope&gt;\n</code></pre>\n<p>Here is my webserviceConfig</p>\n<p>public class WebServiceConfig {</p>\n<pre><code>private String username;\nprivate String password;\n\n\n@Bean\npublic Jaxb2Marshaller marshaller() {\n    Jaxb2Marshaller marshaller = new Jaxb2Marshaller();\n    marshaller.setContextPaths(&quot;****ition&quot;, &quot;*****ion&quot;);\n    return marshaller;\n}\n\n@Bean\npublic SoapMessageFactory messageFactory() {\n    return new SaajSoapMessageFactory();\n}\n\n@Bean\npublic Wss4jSecurityInterceptor securityInterceptor() {\n    Wss4jSecurityInterceptor securityInterceptor = new Wss4jSecurityInterceptor();\n    securityInterceptor.setSecurementUsername(username);\n    securityInterceptor.setSecurementPassword(password);\n    securityInterceptor.setSecurementPasswordType(WSConstants.PW_TEXT);\n    securityInterceptor.setSecurementActions(WSHandlerConstants.USERNAME_TOKEN);\n    securityInterceptor.setValidationActions(WSHandlerConstants.USERNAME_TOKEN);\n    securityInterceptor.setValidationCallbackHandler(callbackHandler());\n    return securityInterceptor;\n}\n@Bean\npublic WebServiceTemplate webServiceTemplate(Jaxb2Marshaller marshaller,\n        Wss4jSecurityInterceptor securityInterceptor) {\n    WebServiceTemplate webServiceTemplate = new WebServiceTemplate();\n    webServiceTemplate.setMarshaller(marshaller);\n    webServiceTemplate.setUnmarshaller(marshaller);\n     webServiceTemplate.setInterceptors(new ClientInterceptor[] { securityInterceptor });\n\n    return webServiceTemplate;\n}\n\n@Bean\npublic CallbackHandler callbackHandler() {\n    return callbacks -&gt; {\n        for (Callback callback : callbacks) {\n            if (callback instanceof WSPasswordCallback) {\n                WSPasswordCallback pc = (WSPasswordCallback) callback;\n                if (username.equals(pc.getIdentifier())) {\n                    pc.setPassword(password);\n                    return;\n                }\n            }\n        }\n    };\n}\n</code></pre>\n<p>Let me know what additional changes I need to make to fix the issue</p>\n"},{"tags":["java","javafx","javafx-8","javafx-2"],"comments":[{"owner":{"account_id":969977,"reputation":30387,"user_id":992687,"accept_rate":96,"display_name":"The Unfun Cat"},"score":0,"creation_date":1349114161,"post_id":12678317,"comment_id":17110459,"body_markdown":"Do you mean that you want to see how many vertical pixels the horizontal scrollbar uses or where it is placed or what?","body":"Do you mean that you want to see how many vertical pixels the horizontal scrollbar uses or where it is placed or what?"},{"owner":{"account_id":24500,"reputation":3838,"user_id":62349,"accept_rate":90,"display_name":"dajood"},"score":3,"creation_date":1349114245,"post_id":12678317,"comment_id":17110489,"body_markdown":"I want to see how many vertical pixels the height of the ScrollBar is.","body":"I want to see how many vertical pixels the height of the ScrollBar is."}],"answers":[{"tags":[],"owner":{"account_id":974628,"reputation":1345,"user_id":996305,"accept_rate":54,"display_name":"ytw"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1353989225,"creation_date":1353989225,"answer_id":13577248,"question_id":12678317,"body_markdown":"I think you can use the lookupAll() method of the Node class for find the scroll bars. \r\nhttp://docs.oracle.com/javafx/2/api/javafx/scene/Node.html#lookupAll(java.lang.String)\r\n\r\nFor example:\r\n\r\n    package com.test;\r\n    \r\n    import java.util.Set;\r\n    import javafx.application.Application;\r\n    import javafx.geometry.Orientation;\r\n    import javafx.scene.Node;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.ScrollBar;\r\n    import javafx.scene.control.ScrollPane;\r\n    import javafx.scene.control.ScrollPaneBuilder;\r\n    import javafx.scene.text.Text;\r\n    import javafx.scene.text.TextBuilder;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class JavaFxScrollPaneTest extends Application {\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    \r\n        @Override\r\n        public void start(Stage primaryStage) {\r\n            String longString = &quot;The quick brown fox jumps over the lazy dog. The quick brown fox jumps over the lazy dog. The quick brown fox jumps over the lazy dog.&quot;;\r\n            Text longText = TextBuilder.create().text(longString).build();\r\n\r\n            ScrollPane scrollPane = ScrollPaneBuilder.create().content(longText).build();\r\n            primaryStage.setScene(new Scene(scrollPane, 400, 100));\r\n            primaryStage.show();\r\n    \r\n            Set&lt;Node&gt; nodes = scrollPane.lookupAll(&quot;.scroll-bar&quot;);\r\n            for (final Node node : nodes) {\r\n                if (node instanceof ScrollBar) {\r\n                    ScrollBar sb = (ScrollBar) node;\r\n                    if (sb.getOrientation() == Orientation.HORIZONTAL) {\r\n                        System.out.println(&quot;horizontal scrollbar visible = &quot; + sb.isVisible());\r\n                        System.out.println(&quot;width = &quot; + sb.getWidth());\r\n                        System.out.println(&quot;height = &quot; + sb.getHeight());\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }","title":"How to access the Scrollbars of a ScrollPane","body":"<p>I think you can use the lookupAll() method of the Node class for find the scroll bars. \n<a href=\"http://docs.oracle.com/javafx/2/api/javafx/scene/Node.html#lookupAll(java.lang.String)\" rel=\"noreferrer\">http://docs.oracle.com/javafx/2/api/javafx/scene/Node.html#lookupAll(java.lang.String)</a></p>\n\n<p>For example:</p>\n\n<pre><code>package com.test;\n\nimport java.util.Set;\nimport javafx.application.Application;\nimport javafx.geometry.Orientation;\nimport javafx.scene.Node;\nimport javafx.scene.Scene;\nimport javafx.scene.control.ScrollBar;\nimport javafx.scene.control.ScrollPane;\nimport javafx.scene.control.ScrollPaneBuilder;\nimport javafx.scene.text.Text;\nimport javafx.scene.text.TextBuilder;\nimport javafx.stage.Stage;\n\npublic class JavaFxScrollPaneTest extends Application {\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage primaryStage) {\n        String longString = \"The quick brown fox jumps over the lazy dog. The quick brown fox jumps over the lazy dog. The quick brown fox jumps over the lazy dog.\";\n        Text longText = TextBuilder.create().text(longString).build();\n\n        ScrollPane scrollPane = ScrollPaneBuilder.create().content(longText).build();\n        primaryStage.setScene(new Scene(scrollPane, 400, 100));\n        primaryStage.show();\n\n        Set&lt;Node&gt; nodes = scrollPane.lookupAll(\".scroll-bar\");\n        for (final Node node : nodes) {\n            if (node instanceof ScrollBar) {\n                ScrollBar sb = (ScrollBar) node;\n                if (sb.getOrientation() == Orientation.HORIZONTAL) {\n                    System.out.println(\"horizontal scrollbar visible = \" + sb.isVisible());\n                    System.out.println(\"width = \" + sb.getWidth());\n                    System.out.println(\"height = \" + sb.getHeight());\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2268692,"reputation":576,"user_id":1996673,"display_name":"Guedolino"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1358938982,"creation_date":1358938982,"answer_id":14478121,"question_id":12678317,"body_markdown":"This not is the best pratice, but works,\r\n\r\n    private boolean determineVerticalSBVisible(final ScrollPane scrollPane) {\r\n\t\ttry {\r\n\t\t\tfinal ScrollPaneSkin skin = (ScrollPaneSkin) scrollPane.getSkin();\r\n\t\t\tfinal Field field = skin.getClass().getDeclaredField(&quot;vsb&quot;);\r\n\t\t\tfield.setAccessible(true);\r\n\t\t\tfinal ScrollBar scrollBar = (ScrollBar) field.get(skin);\r\n\t\t\tfield.setAccessible(false);\r\n\t\t\treturn scrollBar.isVisible();\r\n\t\t} catch (final Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\nUse &quot;hsb&quot; for Horizontal ScrollBar.\r\n\r\nBest Regards,\r\nHenrique Guedes.","title":"How to access the Scrollbars of a ScrollPane","body":"<p>This not is the best pratice, but works,</p>\n\n<pre><code>private boolean determineVerticalSBVisible(final ScrollPane scrollPane) {\n    try {\n        final ScrollPaneSkin skin = (ScrollPaneSkin) scrollPane.getSkin();\n        final Field field = skin.getClass().getDeclaredField(\"vsb\");\n        field.setAccessible(true);\n        final ScrollBar scrollBar = (ScrollBar) field.get(skin);\n        field.setAccessible(false);\n        return scrollBar.isVisible();\n    } catch (final Exception e) {\n        e.printStackTrace();\n    }\n    return false;\n}\n</code></pre>\n\n<p>Use \"hsb\" for Horizontal ScrollBar.</p>\n\n<p>Best Regards,\nHenrique Guedes.</p>\n"},{"tags":[],"owner":{"account_id":3514618,"reputation":12090,"user_id":2938364,"accept_rate":88,"display_name":"Markus Weninger"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1556624855,"creation_date":1556622195,"answer_id":55919560,"question_id":12678317,"body_markdown":"Since the mentioned methods did not work for everybody (including me), I investigated it a bit more and found the source of the problem.\r\n\r\nIn general, both methods work, but only as soon as the [`ScrollPane`](https://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/ScrollPane.html)&#39;s [`skin`](https://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/Control.html#skinProperty) property has been set. In my case, `skin` was still `null` after loading my view using [`FXMLLoader`](https://docs.oracle.com/javase/8/javafx/api/javafx/fxml/FXMLLoader.html).\r\n\r\nBy delaying the call in case the `skin` property has not been initialized (using a one-shot listener) solves the problem.\r\n\r\nWorking boiler-plate code:\r\n\r\n    ScrollPane scrollPane;\r\n    // ...\r\n    if (scrollPane.getSkin() == null) {\r\n        // Skin is not yet attached, wait until skin is attached to access the scroll bars\r\n        ChangeListener&lt;Skin&lt;?&gt;&gt; skinChangeListener = new ChangeListener&lt;Skin&lt;?&gt;&gt;() {\r\n            @Override\r\n            public void changed(ObservableValue&lt;? extends Skin&lt;?&gt;&gt; observable, Skin&lt;?&gt; oldValue, Skin&lt;?&gt; newValue) {\r\n                scrollPane.skinProperty().removeListener(this);\r\n                accessScrollBar(scrollPane);\r\n            }\r\n        };\r\n        scrollPane.skinProperty().addListener(skinChangeListener);\r\n    } else {\r\n        // Skin is already attached, just access the scroll bars\r\n        accessScrollBar(scrollPane);\r\n    }\r\n\r\n    private void accessScrollBar(ScrollPane scrollPane) {\r\n        for (Node node : scrollPane.lookupAll(&quot;.scroll-bar&quot;)) {\r\n            if (node instanceof ScrollBar) {\r\n                ScrollBar scrollBar = (ScrollBar) node;\r\n                if (scrollBar.getOrientation() == Orientation.HORIZONTAL) {\r\n                    // Do something with the horizontal scroll bar\r\n\r\n                    // Example 1: Print scrollbar height\r\n                    // System.out.println(scrollBar.heightProperty().get());\r\n\r\n                    // Example 2: Listen to visibility changes\r\n                    // scrollBar.visibleProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n                    //     if(newValue) {\r\n                    //         // Do something when scrollbar gets visible\r\n                    //     } else {\r\n                    //         // Do something when scrollbar gets hidden\r\n                    //     }\r\n                    // });\r\n                }\r\n                if (scrollBar.getOrientation() == Orientation.VERTICAL) {\r\n                    // Do something with the vertical scroll bar\r\n                }\r\n\r\n            }\r\n        }\r\n    }","title":"How to access the Scrollbars of a ScrollPane","body":"<p>Since the mentioned methods did not work for everybody (including me), I investigated it a bit more and found the source of the problem.</p>\n\n<p>In general, both methods work, but only as soon as the <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/ScrollPane.html\" rel=\"nofollow noreferrer\"><code>ScrollPane</code></a>'s <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/Control.html#skinProperty\" rel=\"nofollow noreferrer\"><code>skin</code></a> property has been set. In my case, <code>skin</code> was still <code>null</code> after loading my view using <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/fxml/FXMLLoader.html\" rel=\"nofollow noreferrer\"><code>FXMLLoader</code></a>.</p>\n\n<p>By delaying the call in case the <code>skin</code> property has not been initialized (using a one-shot listener) solves the problem.</p>\n\n<p>Working boiler-plate code:</p>\n\n<pre><code>ScrollPane scrollPane;\n// ...\nif (scrollPane.getSkin() == null) {\n    // Skin is not yet attached, wait until skin is attached to access the scroll bars\n    ChangeListener&lt;Skin&lt;?&gt;&gt; skinChangeListener = new ChangeListener&lt;Skin&lt;?&gt;&gt;() {\n        @Override\n        public void changed(ObservableValue&lt;? extends Skin&lt;?&gt;&gt; observable, Skin&lt;?&gt; oldValue, Skin&lt;?&gt; newValue) {\n            scrollPane.skinProperty().removeListener(this);\n            accessScrollBar(scrollPane);\n        }\n    };\n    scrollPane.skinProperty().addListener(skinChangeListener);\n} else {\n    // Skin is already attached, just access the scroll bars\n    accessScrollBar(scrollPane);\n}\n\nprivate void accessScrollBar(ScrollPane scrollPane) {\n    for (Node node : scrollPane.lookupAll(\".scroll-bar\")) {\n        if (node instanceof ScrollBar) {\n            ScrollBar scrollBar = (ScrollBar) node;\n            if (scrollBar.getOrientation() == Orientation.HORIZONTAL) {\n                // Do something with the horizontal scroll bar\n\n                // Example 1: Print scrollbar height\n                // System.out.println(scrollBar.heightProperty().get());\n\n                // Example 2: Listen to visibility changes\n                // scrollBar.visibleProperty().addListener((observable, oldValue, newValue) -&gt; {\n                //     if(newValue) {\n                //         // Do something when scrollbar gets visible\n                //     } else {\n                //         // Do something when scrollbar gets hidden\n                //     }\n                // });\n            }\n            if (scrollBar.getOrientation() == Orientation.VERTICAL) {\n                // Do something with the vertical scroll bar\n            }\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14416252,"reputation":31,"user_id":10413629,"display_name":"Edward"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691093210,"creation_date":1691093210,"answer_id":76831320,"question_id":12678317,"body_markdown":"This also works, and I find it easier!\r\n\r\n        scrollPane.skinProperty().addListener((skinObservable, oldSkin, newSkin) -&gt; {\r\n\r\n           if(newSkin != null) {\r\n\r\n               ScrollBar hScrollBar = ((ScrollPaneSkin) newSkin).getHorizontalScrollBar();\r\n\r\n               ScrollBar vScrollBar = ((ScrollPaneSkin) newSkin).getVerticalScrollBar();\r\n\r\n               // Add event listeners to ScrollBars\r\n               hScrollBar.valueProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n                   System.out.println(&quot;Horizontal Scroll Value: &quot; + newValue);\r\n               });\r\n\r\n               vScrollBar.valueProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n                   System.out.println(&quot;Vertical Scroll Value: &quot; + newValue);\r\n               });\r\n\r\n          }\r\n\r\n      });","title":"How to access the Scrollbars of a ScrollPane","body":"<p>This also works, and I find it easier!</p>\n<pre><code>    scrollPane.skinProperty().addListener((skinObservable, oldSkin, newSkin) -&gt; {\n\n       if(newSkin != null) {\n\n           ScrollBar hScrollBar = ((ScrollPaneSkin) newSkin).getHorizontalScrollBar();\n\n           ScrollBar vScrollBar = ((ScrollPaneSkin) newSkin).getVerticalScrollBar();\n\n           // Add event listeners to ScrollBars\n           hScrollBar.valueProperty().addListener((observable, oldValue, newValue) -&gt; {\n               System.out.println(&quot;Horizontal Scroll Value: &quot; + newValue);\n           });\n\n           vScrollBar.valueProperty().addListener((observable, oldValue, newValue) -&gt; {\n               System.out.println(&quot;Vertical Scroll Value: &quot; + newValue);\n           });\n\n      }\n\n  });\n</code></pre>\n"}],"owner":{"account_id":24500,"reputation":3838,"user_id":62349,"accept_rate":90,"display_name":"dajood"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14054,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":55919560,"answer_count":4,"score":7,"last_activity_date":1691093210,"creation_date":1349113697,"question_id":12678317,"body_markdown":"I&#39;m trying to get some information about the `ScrollBar` components that are by standard included in a `ScrollPane`. Especially i&#39;m interested in reading the `height` of the horizontal `Scrollbar`. How can i reference it?","title":"How to access the Scrollbars of a ScrollPane","body":"<p>I'm trying to get some information about the <code>ScrollBar</code> components that are by standard included in a <code>ScrollPane</code>. Especially i'm interested in reading the <code>height</code> of the horizontal <code>Scrollbar</code>. How can i reference it?</p>\n"},{"tags":["java","spring","circuit-breaker","resilience4j","spring-cloud-circuitbreaker"],"answers":[{"tags":[],"owner":{"account_id":26105575,"reputation":56,"user_id":19800332,"display_name":"butterCup"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691093164,"creation_date":1690633122,"answer_id":76793538,"question_id":76562920,"body_markdown":"1. If no metrics are provided, CB uses the timeout mechanism to change its state. The circuit breaker uses fixed timeout value for each request on its own. If the external service call takes more time than the timeout value (example 100ms for each request) for responding, then it moves to OPEN after tripping.\r\n\r\n2. One possibility is if Retry is used in circuit breaker implementation. CB transition from CLOSED to HALF OPEN directly instead of OPEN due to retry logic to handle failure calls.","title":"Resilience4j goes from CLOSED to HALF_OPEN directly without going to OPEN","body":"<ol>\n<li><p>If no metrics are provided, CB uses the timeout mechanism to change its state. The circuit breaker uses fixed timeout value for each request on its own. If the external service call takes more time than the timeout value (example 100ms for each request) for responding, then it moves to OPEN after tripping.</p>\n</li>\n<li><p>One possibility is if Retry is used in circuit breaker implementation. CB transition from CLOSED to HALF OPEN directly instead of OPEN due to retry logic to handle failure calls.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":24057171,"reputation":73,"user_id":18034851,"display_name":"GlidingSwords997"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691093164,"creation_date":1687853932,"question_id":76562920,"body_markdown":"In a circuit breaker setup using resilience4j, the Circuit Breaker goes from CLOSED to HALF_OPEN directly without going to OPEN. Not just this, this happens when we are not providing the success of failure metrics to it. Two things are not clear here:\r\n1. How can the Circuit Breaker change its state when no metrics is provided to the same about the success or failure?\r\n2. What is the behavior of the circuit breaker going from CLOSED to HALF_OPEN, as theoretically it must go from CLOSED to OPEN and then to HALF_OPEN after the waiting period ?","title":"Resilience4j goes from CLOSED to HALF_OPEN directly without going to OPEN","body":"<p>In a circuit breaker setup using resilience4j, the Circuit Breaker goes from CLOSED to HALF_OPEN directly without going to OPEN. Not just this, this happens when we are not providing the success of failure metrics to it. Two things are not clear here:</p>\n<ol>\n<li>How can the Circuit Breaker change its state when no metrics is provided to the same about the success or failure?</li>\n<li>What is the behavior of the circuit breaker going from CLOSED to HALF_OPEN, as theoretically it must go from CLOSED to OPEN and then to HALF_OPEN after the waiting period ?</li>\n</ol>\n"},{"tags":["java","string","string-formatting"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1527330807,"post_id":50541802,"comment_id":88094818,"body_markdown":"Is it always that format and that output?","body":"Is it always that format and that output?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1527330961,"post_id":50541802,"comment_id":88094858,"body_markdown":"How do *you* make decision that result should be `Warsaw02.jpg`? What logic are you using?","body":"How do <i>you</i> make decision that result should be <code>Warsaw02.jpg</code>? What logic are you using?"},{"owner":{"account_id":13653489,"reputation":11,"user_id":9850693,"display_name":"KKasi"},"score":0,"creation_date":1527331055,"post_id":50541802,"comment_id":88094878,"body_markdown":"The result is based on the date and time and the format is &lt;place&gt;&lt;number based on time and date&gt;.&lt;exe&gt;","body":"The result is based on the date and time and the format is &lt;place&gt;&lt;number based on time and date&gt;.&lt;exe&gt;"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1527331088,"post_id":50541802,"comment_id":88094887,"body_markdown":"@KKasi That doesn&#39;t make sense, what&#39;s the date/time got to do with the how you determine the output?","body":"@KKasi That doesn&#39;t make sense, what&#39;s the date/time got to do with the how you determine the output?"},{"owner":{"account_id":13653489,"reputation":11,"user_id":9850693,"display_name":"KKasi"},"score":0,"creation_date":1527331172,"post_id":50541802,"comment_id":88094910,"body_markdown":"The time and date mentioned in the first string","body":"The time and date mentioned in the first string"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1527331191,"post_id":50541802,"comment_id":88094916,"body_markdown":"How is `02` related to `2013-09-05 14:08:15`?","body":"How is <code>02</code> related to <code>2013-09-05 14:08:15</code>?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1527331761,"post_id":50541802,"comment_id":88095050,"body_markdown":"@KKasi Your question is in danger of been closed for been unclear, we need more information about how the `02` is generated","body":"@KKasi Your question is in danger of been closed for been unclear, we need more information about how the <code>02</code> is generated"},{"owner":{"account_id":13653489,"reputation":11,"user_id":9850693,"display_name":"KKasi"},"score":0,"creation_date":1527332318,"post_id":50541802,"comment_id":88095188,"body_markdown":"02 is generated on the basis of time and date, for eg:&quot;photo. jpg, Warsaw, 2013-09-05 14:08:15&quot; is Warsaw02.jpg and &quot;my-Friends.png, Warsaw, 2013-09-05 14:07:13&quot; is Warsaw01.png.","body":"02 is generated on the basis of time and date, for eg:&quot;photo. jpg, Warsaw, 2013-09-05 14:08:15&quot; is Warsaw02.jpg and &quot;my-Friends.png, Warsaw, 2013-09-05 14:07:13&quot; is Warsaw01.png."},{"owner":{"account_id":11425126,"reputation":2515,"user_id":8375503,"display_name":"kumesana"},"score":0,"creation_date":1527334699,"post_id":50541802,"comment_id":88095845,"body_markdown":"You need to set the explanation in the question. You also need to do it better. Tell that you have a list of such strings, and that you compare the dates of the pictures that are in the same city, to give them a number that orders them historically.","body":"You need to set the explanation in the question. You also need to do it better. Tell that you have a list of such strings, and that you compare the dates of the pictures that are in the same city, to give them a number that orders them historically."}],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691091505,"creation_date":1527339345,"answer_id":50543018,"question_id":50541802,"body_markdown":"Design a little class to describe each photo. At least your class should have instance fields for place name and date and time (use a `LocalDateTime` from `java.time` unless time zone is relevant). Write a constructor or method to convert your original strings into such objects. Use a regular expression for parsing the strings.\r\n\r\nGroup your objects by city name and sort each group chronologically. Decide what you want to do if there are more than 100 photos from one city, since the two-digit numbering will no longer be sufficient. Iterate through the sorted objects to format your strings. Use a NumberFormat or DecimalFormat for formatting the numbers.\r\n\r\nYou will learn more from doing the coding yourself, and I hope it will also be fun and give you satisfaction, so I am not taking that part away from you.","title":"Reformat a string in java, including the extension","body":"<p>Design a little class to describe each photo. At least your class should have instance fields for place name and date and time (use a <code>LocalDateTime</code> from <code>java.time</code> unless time zone is relevant). Write a constructor or method to convert your original strings into such objects. Use a regular expression for parsing the strings.</p>\n<p>Group your objects by city name and sort each group chronologically. Decide what you want to do if there are more than 100 photos from one city, since the two-digit numbering will no longer be sufficient. Iterate through the sorted objects to format your strings. Use a NumberFormat or DecimalFormat for formatting the numbers.</p>\n<p>You will learn more from doing the coding yourself, and I hope it will also be fun and give you satisfaction, so I am not taking that part away from you.</p>\n"}],"owner":{"account_id":13653489,"reputation":11,"user_id":9850693,"display_name":"KKasi"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":318,"favorite_count":0,"down_vote_count":7,"up_vote_count":1,"answer_count":1,"score":-6,"last_activity_date":1691091505,"creation_date":1527330744,"question_id":50541802,"body_markdown":"How do I format a string in java? \r\n\r\nFor eg, how to convert &quot;photo. jpg, Warsaw, 2013-09-05 14:08:15&quot; to &quot;Warsaw02.jpg&quot;?\r\n\r\nThe format is “photoname.extension, city_name, yyyy—mm—dd hh:n-m: ss&quot; and should be converted to &quot;city name number based on the time and place taken.extension&quot;.\r\n","title":"Reformat a string in java, including the extension","body":"<p>How do I format a string in java? </p>\n\n<p>For eg, how to convert \"photo. jpg, Warsaw, 2013-09-05 14:08:15\" to \"Warsaw02.jpg\"?</p>\n\n<p>The format is “photoname.extension, city_name, yyyy—mm—dd hh:n-m: ss\" and should be converted to \"city name number based on the time and place taken.extension\".</p>\n"},{"tags":["java","spring-boot","spring-mvc","weaviate"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1691169453,"post_id":76831154,"comment_id":135460524,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":28050621,"reputation":1,"user_id":21426589,"display_name":"Jubair Samir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691091459,"creation_date":1691091459,"question_id":76831154,"body_markdown":"       `Map&lt;String, Object&gt; dataSchema = new HashMap&lt;&gt;();\r\n        dataSchema.put(&quot;labelName&quot;, &quot;Images&quot;);\r\n        dataSchema.put(&quot;image&quot;, encodedString);\r\n        Result&lt;WeaviateObject&gt; result = client.data().creator()\r\n        .withClassName(&quot;Test&quot;)\r\n        .withProperties(dataSchema)\r\n        .run();\r\n\r\n        if (result.hasErrors()) {\r\n        System.out.println(result.getError());\r\n        return;\r\n        }\r\n        System.out.println(result.getResult());\r\n    }`\r\n\r\n**[ERROR] =&gt; WeaviateError(statusCode=422, messages=[WeaviateErrorMessage(message=invalid object: module &#39;img2vec-neural&#39;: imageFields not present, throwable=null)])**\r\n\r\nIf I post to a class which does not exist, it should create the class by it&#39;s own but every time it is giving me the above mentioned error. \r\n\r\nIt was suppose to create that class, vectorize and stored the image","title":"Weaviate is not automatically creating a schema","body":"<pre><code>   `Map&lt;String, Object&gt; dataSchema = new HashMap&lt;&gt;();\n    dataSchema.put(&quot;labelName&quot;, &quot;Images&quot;);\n    dataSchema.put(&quot;image&quot;, encodedString);\n    Result&lt;WeaviateObject&gt; result = client.data().creator()\n    .withClassName(&quot;Test&quot;)\n    .withProperties(dataSchema)\n    .run();\n\n    if (result.hasErrors()) {\n    System.out.println(result.getError());\n    return;\n    }\n    System.out.println(result.getResult());\n}`\n</code></pre>\n<p><strong>[ERROR] =&gt; WeaviateError(statusCode=422, messages=[WeaviateErrorMessage(message=invalid object: module 'img2vec-neural': imageFields not present, throwable=null)])</strong></p>\n<p>If I post to a class which does not exist, it should create the class by it's own but every time it is giving me the above mentioned error.</p>\n<p>It was suppose to create that class, vectorize and stored the image</p>\n"},{"tags":["java","mysql","jdbc","encoding","character-encoding"],"comments":[{"owner":{"account_id":6975503,"reputation":716,"user_id":5350399,"display_name":"Adarsh"},"score":0,"creation_date":1480949170,"post_id":40976571,"comment_id":69162979,"body_markdown":"This is because of character set mismatch for sure, as a try you can recreate the table and insert some sample data and then try to update again.","body":"This is because of character set mismatch for sure, as a try you can recreate the table and insert some sample data and then try to update again."},{"owner":{"account_id":4624783,"reputation":885,"user_id":3748908,"accept_rate":52,"display_name":"user3748908"},"score":0,"creation_date":1480949840,"post_id":40976571,"comment_id":69163423,"body_markdown":"@AdarshGangadharan I&#39;ve just tried dropping and recreating the table, then inserting a row and updating it. Same result","body":"@AdarshGangadharan I&#39;ve just tried dropping and recreating the table, then inserting a row and updating it. Same result"},{"owner":{"account_id":5107904,"reputation":4007,"user_id":4095476,"display_name":"Pavel Gatnar"},"score":0,"creation_date":1480951580,"post_id":40976571,"comment_id":69164643,"body_markdown":"what is the full hex sequence? it seams there is an error in it...","body":"what is the full hex sequence? it seams there is an error in it..."},{"owner":{"account_id":4624783,"reputation":885,"user_id":3748908,"accept_rate":52,"display_name":"user3748908"},"score":0,"creation_date":1480952140,"post_id":40976571,"comment_id":69165025,"body_markdown":"@PavelGatnar I don&#39;t think there is anything wrong with the hex sequence. It&#39;s just for times the hex for GRINNING FACE WITH SMILING EYES, \\xF0\\x9F\\x98\\x81","body":"@PavelGatnar I don&#39;t think there is anything wrong with the hex sequence. It&#39;s just for times the hex for GRINNING FACE WITH SMILING EYES, \\xF0\\x9F\\x98\\x81"},{"owner":{"account_id":6975503,"reputation":716,"user_id":5350399,"display_name":"Adarsh"},"score":0,"creation_date":1480954804,"post_id":40976571,"comment_id":69166665,"body_markdown":"Do you have any trigger on it? Please provide the show create table results.","body":"Do you have any trigger on it? Please provide the show create table results."},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":1,"creation_date":1480979436,"post_id":40976571,"comment_id":69179682,"body_markdown":"Please provide `SHOW CREATE TABLE` for the table in question.  And provide the JDBC connection string.","body":"Please provide <code>SHOW CREATE TABLE</code> for the table in question.  And provide the JDBC connection string."},{"owner":{"account_id":4624783,"reputation":885,"user_id":3748908,"accept_rate":52,"display_name":"user3748908"},"score":1,"creation_date":1481014328,"post_id":40976571,"comment_id":69191107,"body_markdown":"@RickJames Added `SHOW CREATE TABLE`. The JDBC connection string is right above it","body":"@RickJames Added <code>SHOW CREATE TABLE</code>. The JDBC connection string is right above it"}],"answers":[{"tags":[],"owner":{"account_id":10717514,"reputation":460,"user_id":7887590,"display_name":"mingchau"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615558195,"creation_date":1548744112,"answer_id":54415239,"question_id":40976571,"body_markdown":"A similar question occurred to me with a text field.\r\n**(MySQL 1366 error incorrect string value)**\r\n\r\nI confirmed the database, table, column character set were all `utf8mb4`.\r\n\r\nThe problem was solved by changing the field type to `longtext`.\r\n\r\nHope this could help someone.","title":"Already using utf8mb4 but getting 1366: Incorrect string value: &#39;\\xF0\\x9F\\x98\\x81\\xF0\\x9F...&#39;","body":"<p>A similar question occurred to me with a text field.\n<strong>(MySQL 1366 error incorrect string value)</strong></p>\n<p>I confirmed the database, table, column character set were all <code>utf8mb4</code>.</p>\n<p>The problem was solved by changing the field type to <code>longtext</code>.</p>\n<p>Hope this could help someone.</p>\n"},{"tags":[],"owner":{"account_id":26704090,"reputation":1,"user_id":22335027,"display_name":"Wizard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691091276,"creation_date":1691091276,"answer_id":76831145,"question_id":40976571,"body_markdown":"it is necessary to check up what type costs for the table and for a concrete field. As I understand it, if the configuration is applied after the table has been created, then changing the character type of the database does not affect the table and field settings. I changed the settings for the database type, the table and the specific field where I wrote the value from utf-8.\r\nqueries will look like this:\r\n\r\n    ALTER TABLE `dbName`.`TableName` \r\n    CHARACTER SET = utf8mb4 ;\r\nit was for the table. For field:\r\n\r\n    ALTER TABLE `TableName` \r\n    CHANGE COLUMN `columname` `columname` type CHARACTER SET &#39;utf8mb4&#39; NOT NULL ; \r\n\r\nalso a Collation related error may occur when using functions and possibly in other cases. To fix, change the table field Collation to one that is compatible. Error example:\r\n\r\n&gt; Error Code: 1267. Illegal mix of collations (utf8mb4_0900_ai_ci,IMPLICIT) and (utf8mb4_general_ci,IMPLICIT) for operation &#39;=&#39;\r\n\r\n","title":"Already using utf8mb4 but getting 1366: Incorrect string value: &#39;\\xF0\\x9F\\x98\\x81\\xF0\\x9F...&#39;","body":"<p>it is necessary to check up what type costs for the table and for a concrete field. As I understand it, if the configuration is applied after the table has been created, then changing the character type of the database does not affect the table and field settings. I changed the settings for the database type, the table and the specific field where I wrote the value from utf-8.\nqueries will look like this:</p>\n<pre><code>ALTER TABLE `dbName`.`TableName` \nCHARACTER SET = utf8mb4 ;\n</code></pre>\n<p>it was for the table. For field:</p>\n<pre><code>ALTER TABLE `TableName` \nCHANGE COLUMN `columname` `columname` type CHARACTER SET 'utf8mb4' NOT NULL ; \n</code></pre>\n<p>also a Collation related error may occur when using functions and possibly in other cases. To fix, change the table field Collation to one that is compatible. Error example:</p>\n<blockquote>\n<p>Error Code: 1267. Illegal mix of collations (utf8mb4_0900_ai_ci,IMPLICIT) and (utf8mb4_general_ci,IMPLICIT) for operation '='</p>\n</blockquote>\n"}],"owner":{"account_id":4624783,"reputation":885,"user_id":3748908,"accept_rate":52,"display_name":"user3748908"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2220,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1691091276,"creation_date":1480948091,"question_id":40976571,"body_markdown":"All answers to the issue &quot;Incorrect string value&quot; point to using utf8mb4. However, I&#39;m still using that I still get that error.\r\n\r\nRunning\r\n\r\n    SELECT CCSA.character_set_name, collation_name FROM information_schema.`TABLES` T,\r\n           information_schema.`COLLATION_CHARACTER_SET_APPLICABILITY` CCSA\r\n    WHERE CCSA.collation_name = T.table_collation\r\n      AND T.table_schema = &quot;test&quot;\r\n      AND T.table_name = &quot;products&quot;;\r\n\r\nproduces\r\n\r\n    character_set_name\tcollation_name\r\n    utf8mb4\t\t\t\tutf8mb4_unicode_ci\r\n\r\nAnd running\r\n\r\n    SELECT character_set_name, collation_name FROM information_schema.`COLUMNS` \r\n    WHERE table_schema = &quot;test&quot;\r\n      AND table_name = &quot;products&quot;\r\n      AND column_name = &quot;description&quot;;\r\n\r\nproduces the same result. Then, when I try to update the column `description`:\r\nUPDATE `test`.`products` SET `description`=&#39;Esperienza molto negativa... &#128513;&#128513;&#128513;&#128513;SCONSIGLIATISSIMO&#39; WHERE `id`=&#39;50&#39;\r\n\r\nI get the abovementioned error\r\n\r\n    1366: Incorrect string value: &#39;\\xF0\\x9F\\x98\\x81\\xF0\\x9F...&#39; for column &#39;description&#39; at row 1\r\n\r\nI&#39;ve tried this update both through a jdbc connection `jdbc:mysql://localhost:3306/test?useUnicode=yes;characterEncoding=utf8;` and directly through MySQLWorkbench. I don&#39;t know what else to try of look for. What am I missing?\r\n\r\n**EDIT**\r\nOutput of `SHOW CREATE TABLE`\r\n\r\n    CREATE TABLE `products` (\r\n      `id` int(11) NOT NULL AUTO_INCREMENT,\r\n      `manufacturerId_fk` int(11) NOT NULL,\r\n      `type_fk` varchar(20) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT &#39;TEST&#39;,\r\n      `ownerId_fk` int(11) DEFAULT NULL,\r\n      `rating_fk` int(11) NOT NULL,\r\n      `description` varchar(2000) COLLATE utf8mb4_unicode_ci DEFAULT NULL,\r\n      `authorName` varchar(75) COLLATE utf8mb4_unicode_ci DEFAULT NULL,\r\n      `authorUrl` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,\r\n      `created` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\r\n      `updated` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\r\n      PRIMARY KEY (`id`),\r\n      UNIQUE KEY `manufacturer_authorUrl_UNIQUE` (`manufacturerId_fk`,`authorUrl`),\r\n      KEY `fk_products_manufacturers_idx` (`manufacturerId_fk`),\r\n      KEY `fk_products_users_idx` (`ownerId_fk`),\r\n      KEY `fk_products_validRatings_idx` (`rating_fk`),\r\n      KEY `fk_products_productTypes` (`type_fk`),\r\n      CONSTRAINT `fk_products_productTypes` FOREIGN KEY (`type_fk`) REFERENCES `productTypes` (`type`) ON DELETE NO ACTION ON UPDATE NO ACTION,\r\n      CONSTRAINT `fk_products_manufacturers` FOREIGN KEY (`manufacturerId_fk`) REFERENCES `manufacturers` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION,\r\n      CONSTRAINT `fk_products_validRatings` FOREIGN KEY (`rating_fk`) REFERENCES `validRatings` (`value`) ON DELETE NO ACTION ON UPDATE NO ACTION\r\n    ) ENGINE=InnoDB AUTO_INCREMENT=418 DEFAULT CHARSET=utf8mb4","title":"Already using utf8mb4 but getting 1366: Incorrect string value: &#39;\\xF0\\x9F\\x98\\x81\\xF0\\x9F...&#39;","body":"<p>All answers to the issue \"Incorrect string value\" point to using utf8mb4. However, I'm still using that I still get that error.</p>\n\n<p>Running</p>\n\n<pre><code>SELECT CCSA.character_set_name, collation_name FROM information_schema.`TABLES` T,\n       information_schema.`COLLATION_CHARACTER_SET_APPLICABILITY` CCSA\nWHERE CCSA.collation_name = T.table_collation\n  AND T.table_schema = \"test\"\n  AND T.table_name = \"products\";\n</code></pre>\n\n<p>produces</p>\n\n<pre><code>character_set_name  collation_name\nutf8mb4             utf8mb4_unicode_ci\n</code></pre>\n\n<p>And running</p>\n\n<pre><code>SELECT character_set_name, collation_name FROM information_schema.`COLUMNS` \nWHERE table_schema = \"test\"\n  AND table_name = \"products\"\n  AND column_name = \"description\";\n</code></pre>\n\n<p>produces the same result. Then, when I try to update the column <code>description</code>:\nUPDATE <code>test</code>.<code>products</code> SET <code>description</code>='Esperienza molto negativa... 😁😁😁😁SCONSIGLIATISSIMO' WHERE <code>id</code>='50'</p>\n\n<p>I get the abovementioned error</p>\n\n<pre><code>1366: Incorrect string value: '\\xF0\\x9F\\x98\\x81\\xF0\\x9F...' for column 'description' at row 1\n</code></pre>\n\n<p>I've tried this update both through a jdbc connection <code>jdbc:mysql://localhost:3306/test?useUnicode=yes;characterEncoding=utf8;</code> and directly through MySQLWorkbench. I don't know what else to try of look for. What am I missing?</p>\n\n<p><strong>EDIT</strong>\nOutput of <code>SHOW CREATE TABLE</code></p>\n\n<pre><code>CREATE TABLE `products` (\n  `id` int(11) NOT NULL AUTO_INCREMENT,\n  `manufacturerId_fk` int(11) NOT NULL,\n  `type_fk` varchar(20) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'TEST',\n  `ownerId_fk` int(11) DEFAULT NULL,\n  `rating_fk` int(11) NOT NULL,\n  `description` varchar(2000) COLLATE utf8mb4_unicode_ci DEFAULT NULL,\n  `authorName` varchar(75) COLLATE utf8mb4_unicode_ci DEFAULT NULL,\n  `authorUrl` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,\n  `created` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updated` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  PRIMARY KEY (`id`),\n  UNIQUE KEY `manufacturer_authorUrl_UNIQUE` (`manufacturerId_fk`,`authorUrl`),\n  KEY `fk_products_manufacturers_idx` (`manufacturerId_fk`),\n  KEY `fk_products_users_idx` (`ownerId_fk`),\n  KEY `fk_products_validRatings_idx` (`rating_fk`),\n  KEY `fk_products_productTypes` (`type_fk`),\n  CONSTRAINT `fk_products_productTypes` FOREIGN KEY (`type_fk`) REFERENCES `productTypes` (`type`) ON DELETE NO ACTION ON UPDATE NO ACTION,\n  CONSTRAINT `fk_products_manufacturers` FOREIGN KEY (`manufacturerId_fk`) REFERENCES `manufacturers` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION,\n  CONSTRAINT `fk_products_validRatings` FOREIGN KEY (`rating_fk`) REFERENCES `validRatings` (`value`) ON DELETE NO ACTION ON UPDATE NO ACTION\n) ENGINE=InnoDB AUTO_INCREMENT=418 DEFAULT CHARSET=utf8mb4\n</code></pre>\n"},{"tags":["java","file","try-catch","java.util.scanner"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1691083419,"post_id":76830316,"comment_id":135447061,"body_markdown":"Please post, formatted as code, your sample input file","body":"Please post, formatted as code, your sample input file"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691083552,"post_id":76830316,"comment_id":135447085,"body_markdown":"I don&#39;t see any names there..?","body":"I don&#39;t see any names there..?"},{"owner":{"account_id":29089886,"reputation":31,"user_id":22284018,"display_name":"JustNeedHelp"},"score":0,"creation_date":1691083586,"post_id":76830316,"comment_id":135447091,"body_markdown":"In this example, the words &quot;test&quot; are considered names","body":"In this example, the words &quot;test&quot; are considered names"}],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691091107,"creation_date":1691087355,"answer_id":76830753,"question_id":76830316,"body_markdown":"You don&#39;t need multiple scanners to get the user input. You can reuse one. The same applies for searching in the file, you only need one scanner. Apart from that, your file seems to be well formed, so you can use the `Scanner.findAll` method and pass a pattern that you can construct from the user&#39;s input. Something like below should get you started. Note: the example has no error handling, and also no case insensitive search. You can improve this yourself \r\n\r\n    import java.io.File;\r\n    import java.io.FileNotFoundException;\r\n    import java.util.Scanner;\r\n    import java.util.regex.MatchResult;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class Example {\r\n    \r\n        public static void main(String[] args) throws FileNotFoundException {\r\n    \r\n            Scanner userInput = new Scanner(System.in);\r\n    \r\n            System.out.println(&quot;Please enter Student&#39;s full name below.&quot;);\r\n            var stuName = userInput.nextLine();\r\n    \r\n            System.out.println(&quot;Please enter Student&#39;s age below.&quot;);\r\n            var stuAge = userInput.nextInt();\r\n            userInput.nextLine();   //this is not an oversight but intentional and necessary to be able to read the next input.\r\n    \r\n            System.out.println(&quot;Please enter Student&#39;s gender below (Female or Male).&quot;);\r\n            var stuGender = userInput.nextLine();\r\n    \r\n            Scanner fileContent = new Scanner(new File(&quot;Example.txt&quot;));\r\n            //construct pattern from user input and regex for percentage\r\n            Pattern pattern = Pattern.compile(stuName + &quot;\\n&quot; + stuAge + &quot;\\n&quot; + stuGender + &quot;\\n&quot; + &quot;\\\\d+(?:\\\\.\\\\d+)?%&quot;);\r\n            //use findAll method and return first match if present\r\n            fileContent.findAll(pattern)\r\n                       .map(MatchResult::group)\r\n                       .findFirst()\r\n                       .ifPresentOrElse(\r\n                               (value) -&gt; System.out.println(&quot;Found matching result: \\n&quot; + value),\r\n                               ()      -&gt; System.out.println(&quot;No matching result found&quot;));\r\n    \r\n        }\r\n    }\r\n\r\nEdit: \r\n\r\n&gt; What is &quot;\\n\\\\\\\\d+(?:\\\\\\\\.\\\\\\\\d+)?%&quot; and how does it relate to the pattern? \r\n\r\nI have separeted the new line char from the regex, to reduce confusion and chnged it to : \r\n\r\n    `&quot;\\n&quot; + &quot;\\\\d+(?:\\\\.\\\\d+)?%&quot;` \r\n\r\nThe `\\\\d+(?:\\\\.\\\\d+)?%` part is a regex that matches percentage for marks. \r\n\r\n - `\\\\d+`  match one or more digits\r\n - `(?:\\\\.\\\\d+)?` optionaly followed by a dot and one or more digits after the dot\r\n - `%` match the percent character\r\n\r\nSo, possible matches could look like, where x is is any digit\r\n\r\n - `x%`          ex. 7%\r\n - `xx%`         ex. 27%\r\n - `xx.x%`       ex. 97.4%\r\n - `xx.xx%`      ex. 84.32%\r\n\r\n\r\n``","title":"How to find a specific series of inputs in a file and print out results","body":"<p>You don't need multiple scanners to get the user input. You can reuse one. The same applies for searching in the file, you only need one scanner. Apart from that, your file seems to be well formed, so you can use the <code>Scanner.findAll</code> method and pass a pattern that you can construct from the user's input. Something like below should get you started. Note: the example has no error handling, and also no case insensitive search. You can improve this yourself</p>\n<pre><code>import java.io.File;\nimport java.io.FileNotFoundException;\nimport java.util.Scanner;\nimport java.util.regex.MatchResult;\nimport java.util.regex.Pattern;\n\npublic class Example {\n\n    public static void main(String[] args) throws FileNotFoundException {\n\n        Scanner userInput = new Scanner(System.in);\n\n        System.out.println(&quot;Please enter Student's full name below.&quot;);\n        var stuName = userInput.nextLine();\n\n        System.out.println(&quot;Please enter Student's age below.&quot;);\n        var stuAge = userInput.nextInt();\n        userInput.nextLine();   //this is not an oversight but intentional and necessary to be able to read the next input.\n\n        System.out.println(&quot;Please enter Student's gender below (Female or Male).&quot;);\n        var stuGender = userInput.nextLine();\n\n        Scanner fileContent = new Scanner(new File(&quot;Example.txt&quot;));\n        //construct pattern from user input and regex for percentage\n        Pattern pattern = Pattern.compile(stuName + &quot;\\n&quot; + stuAge + &quot;\\n&quot; + stuGender + &quot;\\n&quot; + &quot;\\\\d+(?:\\\\.\\\\d+)?%&quot;);\n        //use findAll method and return first match if present\n        fileContent.findAll(pattern)\n                   .map(MatchResult::group)\n                   .findFirst()\n                   .ifPresentOrElse(\n                           (value) -&gt; System.out.println(&quot;Found matching result: \\n&quot; + value),\n                           ()      -&gt; System.out.println(&quot;No matching result found&quot;));\n\n    }\n}\n</code></pre>\n<p>Edit:</p>\n<blockquote>\n<p>What is &quot;\\n\\\\d+(?:\\\\.\\\\d+)?%&quot; and how does it relate to the pattern?</p>\n</blockquote>\n<p>I have separeted the new line char from the regex, to reduce confusion and chnged it to :</p>\n<pre><code>`&quot;\\n&quot; + &quot;\\\\d+(?:\\\\.\\\\d+)?%&quot;` \n</code></pre>\n<p>The <code>\\\\d+(?:\\\\.\\\\d+)?%</code> part is a regex that matches percentage for marks.</p>\n<ul>\n<li><code>\\\\d+</code>  match one or more digits</li>\n<li><code>(?:\\\\.\\\\d+)?</code> optionaly followed by a dot and one or more digits after the dot</li>\n<li><code>%</code> match the percent character</li>\n</ul>\n<p>So, possible matches could look like, where x is is any digit</p>\n<ul>\n<li><code>x%</code>          ex. 7%</li>\n<li><code>xx%</code>         ex. 27%</li>\n<li><code>xx.x%</code>       ex. 97.4%</li>\n<li><code>xx.xx%</code>      ex. 84.32%</li>\n</ul>\n<p>``</p>\n"}],"owner":{"account_id":29089886,"reputation":31,"user_id":22284018,"display_name":"JustNeedHelp"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1691509387,"accepted_answer_id":76830753,"answer_count":1,"score":-1,"last_activity_date":1691091107,"creation_date":1691083179,"question_id":76830316,"body_markdown":"I&#39;m trying to create something that&#39;s basically a way for me to search for a certain persons results on another test without having to scroll through everything. It takes inputs, such as the name, age, and gender of whatever &quot;student&quot; I need to find, then it&#39;s supposed to find that exact student and print the results underneath.\r\n\r\nI have the file set up so that when someone takes the test, their results are printed like so:\r\n\r\n Name                                         \r\n Age                  \r\n Gender                   \r\n Results                 \r\n\r\nI want my code to find the name that&#39;s inputted, then see if the age underneath the name matches the input, then see if the gender underneath that matches the input. If all of these are correct, it should print out the results. \r\n\r\n```\r\n                    //These ask for the name, age, and gender\r\n\r\n                    Scanner enterName = new Scanner(System.in);\r\n                    System.out.println(&quot;Please enter Student&#39;s full name below.&quot;);\r\n                    var stuName = enterName.nextLine();\r\n\r\n                    Scanner enterAge = new Scanner(System.in);\r\n                    System.out.println(&quot;Please enter Student&#39;s age below.&quot;);\r\n                    var stuAge = enterAge.nextInt();\r\n\r\n                    Scanner enterGender = new Scanner(System.in);\r\n                    System.out.println(&quot;Please enter Student&#39;s gender below (Female or Male).&quot;);\r\n                    var stuGender = enterGender.nextLine();\r\n\r\n\r\n//These scanners search for the information\r\n                    Scanner usersName = new Scanner(new File(&quot;Example.txt&quot;));\r\n                    Scanner usersAge = new Scanner(new File(&quot;Example.txt&quot;));\r\n                    Scanner usersGender = new Scanner(new File(&quot;Example.txt&quot;));\r\n                    Scanner usersScore = new Scanner(new File(&quot;Example.txt&quot;));\r\n                    var searchName = usersName.nextLine();\r\n//This shoulder search for the information and come back true if it&#39;s found\r\n                    try {\r\n                              while (usersName.hasNextLine()) {\r\n                                        searchName = usersName.nextLine();\r\n                                        if (searchName.equals(stuName)) {\r\n                                                  break;\r\n                                        }\r\n                              }\r\n\r\n                    } catch (Exception e) {\r\n                              if (!usersName.equals(stuName)) {\r\n                                        System.out.println(&quot;Student not found&quot;);\r\n                              }\r\n                    }\r\n\r\n                    var searchAge = usersName.nextLine();\r\n                    if(!searchAge.equals(stuAge)) {\r\n                              System.out.println(&quot;Student not found&quot;);\r\n                              System.exit(1);\r\n                    }\r\n                    var searchGen = usersGender.nextLine();\r\n                    if(!searchGen.equals(stuGender)) {\r\n                              System.out.println(&quot;Student not found&quot;);\r\n                              System.exit(1);\r\n                    }\r\n                    if(searchName.equals(stuName) &amp;&amp; usersAge.equals (stuAge) &amp;&amp; usersGender.equals(stuGender)) {\r\n                              var searchScore = usersScore.nextDouble();\r\n                              System.out.println(&quot;The student &quot; + stuName + &quot;&#39;s score was: &quot; + searchScore);\r\n                              System.exit(1);\r\n                    } else {\r\n                              System.out.println(&quot;Student not found&quot;);\r\n                              System.exit(1);\r\n                    }\r\n\r\n```\r\n\r\nSomewhere along the way it gets lost, and it always prints &quot;Student not found&quot;, even when I know those particular results are in the file. \r\n\r\nSample File\r\n-----------\r\n\r\n```\r\nTest\r\n1\r\nFemale\r\n93.0%\r\n \r\nTest\r\n2\r\nFemale\r\n97.0%\r\n \r\nTest\r\n3\r\nFemale\r\n100.0%\r\n```","title":"How to find a specific series of inputs in a file and print out results","body":"<p>I'm trying to create something that's basically a way for me to search for a certain persons results on another test without having to scroll through everything. It takes inputs, such as the name, age, and gender of whatever &quot;student&quot; I need to find, then it's supposed to find that exact student and print the results underneath.</p>\n<p>I have the file set up so that when someone takes the test, their results are printed like so:</p>\n<p>Name<br />\nAge<br />\nGender<br />\nResults</p>\n<p>I want my code to find the name that's inputted, then see if the age underneath the name matches the input, then see if the gender underneath that matches the input. If all of these are correct, it should print out the results.</p>\n<pre><code>                    //These ask for the name, age, and gender\n\n                    Scanner enterName = new Scanner(System.in);\n                    System.out.println(&quot;Please enter Student's full name below.&quot;);\n                    var stuName = enterName.nextLine();\n\n                    Scanner enterAge = new Scanner(System.in);\n                    System.out.println(&quot;Please enter Student's age below.&quot;);\n                    var stuAge = enterAge.nextInt();\n\n                    Scanner enterGender = new Scanner(System.in);\n                    System.out.println(&quot;Please enter Student's gender below (Female or Male).&quot;);\n                    var stuGender = enterGender.nextLine();\n\n\n//These scanners search for the information\n                    Scanner usersName = new Scanner(new File(&quot;Example.txt&quot;));\n                    Scanner usersAge = new Scanner(new File(&quot;Example.txt&quot;));\n                    Scanner usersGender = new Scanner(new File(&quot;Example.txt&quot;));\n                    Scanner usersScore = new Scanner(new File(&quot;Example.txt&quot;));\n                    var searchName = usersName.nextLine();\n//This shoulder search for the information and come back true if it's found\n                    try {\n                              while (usersName.hasNextLine()) {\n                                        searchName = usersName.nextLine();\n                                        if (searchName.equals(stuName)) {\n                                                  break;\n                                        }\n                              }\n\n                    } catch (Exception e) {\n                              if (!usersName.equals(stuName)) {\n                                        System.out.println(&quot;Student not found&quot;);\n                              }\n                    }\n\n                    var searchAge = usersName.nextLine();\n                    if(!searchAge.equals(stuAge)) {\n                              System.out.println(&quot;Student not found&quot;);\n                              System.exit(1);\n                    }\n                    var searchGen = usersGender.nextLine();\n                    if(!searchGen.equals(stuGender)) {\n                              System.out.println(&quot;Student not found&quot;);\n                              System.exit(1);\n                    }\n                    if(searchName.equals(stuName) &amp;&amp; usersAge.equals (stuAge) &amp;&amp; usersGender.equals(stuGender)) {\n                              var searchScore = usersScore.nextDouble();\n                              System.out.println(&quot;The student &quot; + stuName + &quot;'s score was: &quot; + searchScore);\n                              System.exit(1);\n                    } else {\n                              System.out.println(&quot;Student not found&quot;);\n                              System.exit(1);\n                    }\n\n</code></pre>\n<p>Somewhere along the way it gets lost, and it always prints &quot;Student not found&quot;, even when I know those particular results are in the file.</p>\n<h2>Sample File</h2>\n<pre><code>Test\n1\nFemale\n93.0%\n \nTest\n2\nFemale\n97.0%\n \nTest\n3\nFemale\n100.0%\n</code></pre>\n"},{"tags":["java","spring","spring-boot","caching"],"comments":[{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1691062049,"post_id":76827395,"comment_id":135442216,"body_markdown":"You&#39;re missing a dependency for JAXB, which could indicate that you might be missing a starter in your dependency list.","body":"You&#39;re missing a dependency for JAXB, which could indicate that you might be missing a starter in your dependency list."}],"answers":[{"tags":[],"owner":{"account_id":16333736,"reputation":11,"user_id":11796450,"display_name":"farmoush"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691091090,"creation_date":1691090989,"answer_id":76831115,"question_id":76827395,"body_markdown":"You have moved from Spring 2 to Spring 3, and Spring 3 needs at least JDK 17, so I assume you already have JDK 17 or more since you can run the project.\r\nThis leads us to the main issue:\r\nThe logs show an error in this &quot;JAXBException&quot;,\r\nFor Java 11 or more, javax.xml.bind package its removed from default classpath.\r\n\r\nTo solve the issue, add this to pom.xml if you use Maven:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nOr add this to build.gradle if you use Gradle:\r\n\r\n    implementation &#39;org.glassfish.jaxb:jaxb-runtime:2.3.2&#39;\r\n    implementation &#39;jakarta.xml.bind:jakarta.xml.bind-api:2.3.2&#39;","title":"Caused by: java.lang.ClassNotFoundException: jakarta.xml.bind.JAXBException","body":"<p>You have moved from Spring 2 to Spring 3, and Spring 3 needs at least JDK 17, so I assume you already have JDK 17 or more since you can run the project.\nThis leads us to the main issue:\nThe logs show an error in this &quot;JAXBException&quot;,\nFor Java 11 or more, javax.xml.bind package its removed from default classpath.</p>\n<p>To solve the issue, add this to pom.xml if you use Maven:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n    &lt;version&gt;2.3.2&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n    &lt;version&gt;2.3.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Or add this to build.gradle if you use Gradle:</p>\n<pre><code>implementation 'org.glassfish.jaxb:jaxb-runtime:2.3.2'\nimplementation 'jakarta.xml.bind:jakarta.xml.bind-api:2.3.2'\n</code></pre>\n"}],"owner":{"account_id":9782480,"reputation":57,"user_id":7249929,"display_name":"Nani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":762,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1691091090,"creation_date":1691060017,"question_id":76827395,"body_markdown":"I am upgrading Springboot version from 2.x to 3.x and facing below error while running the application. Could you please suggest.\r\n\r\nFull Log Error:\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: jakarta/xml/bind/JAXBException\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:312)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\r\nCaused by: java.lang.NoClassDefFoundError: jakarta/xml/bind/JAXBException\r\n```","title":"Caused by: java.lang.ClassNotFoundException: jakarta.xml.bind.JAXBException","body":"<p>I am upgrading Springboot version from 2.x to 3.x and facing below error while running the application. Could you please suggest.</p>\n<p>Full Log Error:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: jakarta/xml/bind/JAXBException\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:312)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\nCaused by: java.lang.NoClassDefFoundError: jakarta/xml/bind/JAXBException\n</code></pre>\n"},{"tags":["java","weblogic","jbpm","named-query"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1691089587,"post_id":76820627,"comment_id":135448252,"body_markdown":"What are you trying to do? This sounds like a [xy problem](https://xyproblem.info/). Why do you need to know how often it&#39;s called and why do you want to configure anything here?","body":"What are you trying to do? This sounds like a <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">xy problem</a>. Why do you need to know how often it&#39;s called and why do you want to configure anything here?"},{"owner":{"account_id":29143294,"reputation":11,"user_id":22325796,"display_name":"Marius"},"score":1,"creation_date":1691141712,"post_id":76820627,"comment_id":135454740,"body_markdown":"Our DB is getting flooded by this query: \nselect processins0_.InstanceId as col_0_0_ from ProcessInstanceInfo\nprocessins0_ where (:1 in(select eventtypes1_.element from EventTypes\neventtypes1_ where processins0_.InstanceId=eventtypes1_.InstanceId))\n\nWe are trying to understand what events fire the execution of the aforementioned query.","body":"Our DB is getting flooded by this query:  select processins0_.InstanceId as col_0_0_ from ProcessInstanceInfo processins0_ where (:1 in(select eventtypes1_.element from EventTypes eventtypes1_ where processins0_.InstanceId=eventtypes1_.InstanceId))  We are trying to understand what events fire the execution of the aforementioned query."}],"owner":{"account_id":29143294,"reputation":11,"user_id":22325796,"display_name":"Marius"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1691089686,"creation_date":1690984604,"question_id":76820627,"body_markdown":"Looking at the class `JpaProcessPersistenceContext` I noticed this method `getProcessInstancesWaitingForEvent` which uses this named query `ProcessInstancesWaitingForEvent`. The aforementioned method should be used by the `JPASignalManager` to cache the instances but I cannot understand how frequently it s called. Is there any configuration that can be done?\r\n\r\nTried to see if there is any documentation about this, all I could find was this comment in the class:\r\n\r\n    /**\r\n     * This method is used by the {@link JPASignalManager} in order to load {@link ProcessInstance} instances\r\n     * into the {@link ProcessInstanceManager} cache so that they can then be signalled. \r\n     * &lt;/p&gt;\r\n     * Unfortunately, with regards to locking, the method is not always called during a transaction, which means \r\n     * that including logic to lock the query will cause exceptions and is not feasible. \r\n     * &lt;/p&gt;\r\n     * Because the {@link org.drools.core.command.SingleSessionCommandService} design is based around a synchronized execute(...) method,\r\n     * it&#39;s not possible for one thread to create a process instance while another thread simultaneously tries to \r\n     * signal it. That means that a \r\n     * &lt;a href=&quot;http://en.wikipedia.org/wiki/Isolation_%28database_systems%29#Phantom_reads&quot;&gt;phantom read&lt;/a&gt; \r\n     * race condition, that might be caused by a lack of pessimistic locking on this query, isn&#39;t possible. \r\n     * &lt;/p&gt;\r\n     * Of course, if you&#39;re using multiple ksessions to simultaneoulsy interact with the same process instance, \r\n     * all bets are off. This however is true for almost everything involving process instances, so that it&#39;s not \r\n     * worth discussing. \r\n     * &lt;/p&gt;\r\n     */\r\n","title":"jBPM 5.2, getProcessInstancesWaitingForEvent method","body":"<p>Looking at the class <code>JpaProcessPersistenceContext</code> I noticed this method <code>getProcessInstancesWaitingForEvent</code> which uses this named query <code>ProcessInstancesWaitingForEvent</code>. The aforementioned method should be used by the <code>JPASignalManager</code> to cache the instances but I cannot understand how frequently it s called. Is there any configuration that can be done?</p>\n<p>Tried to see if there is any documentation about this, all I could find was this comment in the class:</p>\n<pre><code>/**\n * This method is used by the {@link JPASignalManager} in order to load {@link ProcessInstance} instances\n * into the {@link ProcessInstanceManager} cache so that they can then be signalled. \n * &lt;/p&gt;\n * Unfortunately, with regards to locking, the method is not always called during a transaction, which means \n * that including logic to lock the query will cause exceptions and is not feasible. \n * &lt;/p&gt;\n * Because the {@link org.drools.core.command.SingleSessionCommandService} design is based around a synchronized execute(...) method,\n * it's not possible for one thread to create a process instance while another thread simultaneously tries to \n * signal it. That means that a \n * &lt;a href=&quot;http://en.wikipedia.org/wiki/Isolation_%28database_systems%29#Phantom_reads&quot;&gt;phantom read&lt;/a&gt; \n * race condition, that might be caused by a lack of pessimistic locking on this query, isn't possible. \n * &lt;/p&gt;\n * Of course, if you're using multiple ksessions to simultaneoulsy interact with the same process instance, \n * all bets are off. This however is true for almost everything involving process instances, so that it's not \n * worth discussing. \n * &lt;/p&gt;\n */\n</code></pre>\n"},{"tags":["java","selenium-webdriver","junit","cucumber","cucumber-java"],"comments":[{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1691094972,"post_id":76830971,"comment_id":135449287,"body_markdown":"It is not possible. Cucumber-JVM doesn&#39;t support retrying.","body":"It is not possible. Cucumber-JVM doesn&#39;t support retrying."},{"owner":{"account_id":29154833,"reputation":1,"user_id":22334850,"display_name":"user22334850"},"score":0,"creation_date":1691152646,"post_id":76830971,"comment_id":135456802,"body_markdown":"Sad. What about the solution that uses Junit5? Would it be possible to do it that way if I upgraded Junit?","body":"Sad. What about the solution that uses Junit5? Would it be possible to do it that way if I upgraded Junit?"},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1691189739,"post_id":76830971,"comment_id":135463500,"body_markdown":"Nope. That solution also executes cucumber twice. Generally speaking, I suspect nobody contributed this feature because it&#39;s pretty complicated. Detecting and retrying failed operations in the step however is pretty easy. Though personally I prefer to make the system under test stable so retrying isn&#39;t needed or make the tests wait for the appropriate condition if the action under test is asynchronous.","body":"Nope. That solution also executes cucumber twice. Generally speaking, I suspect nobody contributed this feature because it&#39;s pretty complicated. Detecting and retrying failed operations in the step however is pretty easy. Though personally I prefer to make the system under test stable so retrying isn&#39;t needed or make the tests wait for the appropriate condition if the action under test is asynchronous."}],"owner":{"account_id":29154833,"reputation":1,"user_id":22334850,"display_name":"user22334850"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691089510,"creation_date":1691089510,"question_id":76830971,"body_markdown":"I have a Java project that uses Cucumber 7, Maven surefire, and JUnit 4. It is a project requirement to be able to rerun a failed feature file immediately after it fails (not rerun after the entire test run as done normally). So the flow would be something like:\r\n1. Run BeforeAll()\r\n2. Run Before()\r\n3. Run test\r\n4. If test fails, rerun until MAX_RETRY(2) is reached\r\n5. Run After()\r\n6. Do Steps 2-5 until all tests are run\r\n7. Run AfterAll()\r\n\r\nI&#39;ve seen people using Cucumber listeners for similar-ish problems but that is not an option for me as I&#39;m on 7.3.3 and the EventListener is deprecated (AFAIK). Also read something about an [extended Cucumber runner](https://www.linkedin.com/pulse/deconstruction-cucumber-junit-runner-behaviour-sumon-dey) but is outdated. [This](https://stackoverflow.com/questions/73394344/how-to-rerun-a-particular-cucumber-scenario-when-it-fails-with-cucumber) is the closest response I found but uses Junit5. I&#39;ve tried using the `rerunFailingTestsCount` parameter through Maven Surefire but that reruns the features after the entire test suite is run. If you have any other suggestions, I would be very grateful. Thanks!\r\n\r\nThis is my current Cucumber Runner (without rerun implemented). I run the main() to execute my tests.\r\n```\r\n@RunWith(Cucumber.class)\r\n@CucumberOptions(\r\n        tags=&quot;@xxx&quot;,\r\n        plugin = {&quot;pretty&quot;},\r\n        features = {&quot;classpath:features&quot;},\r\n        glue = {&quot;StepDefinitions&quot;}\r\n)\r\n\r\npublic class Runner {\r\n    private static String[] options = {\r\n            &quot;classpath:Features&quot;,\r\n            &quot;--glue&quot;, &quot;StepDefinitions&quot;,\r\n            &quot;--tags&quot;, &quot;@xxx&quot;,\r\n            &quot;--plugin&quot;, &quot;pretty&quot;,\r\n    };\r\n\r\n    public static void main(String[] args) {\r\n            Stream&lt;String&gt; cucumberOptions = Stream.concat(Stream.of(defaultOptions), Stream.of(args));\r\n            ClassLoader contextClassLoader = Thread.currentThread().getContextClassLoader();\r\n            byte exitstatus = Main.run(cucumberOptions.toArray(String[]::new), contextClassLoader);\r\n\r\n            // other stuff done for custom pdf reports\r\n    }\r\n\r\n}\r\n```","title":"Cucumber for Java - Immediately rerunning a Gherkin feature file after it fails","body":"<p>I have a Java project that uses Cucumber 7, Maven surefire, and JUnit 4. It is a project requirement to be able to rerun a failed feature file immediately after it fails (not rerun after the entire test run as done normally). So the flow would be something like:</p>\n<ol>\n<li>Run BeforeAll()</li>\n<li>Run Before()</li>\n<li>Run test</li>\n<li>If test fails, rerun until MAX_RETRY(2) is reached</li>\n<li>Run After()</li>\n<li>Do Steps 2-5 until all tests are run</li>\n<li>Run AfterAll()</li>\n</ol>\n<p>I've seen people using Cucumber listeners for similar-ish problems but that is not an option for me as I'm on 7.3.3 and the EventListener is deprecated (AFAIK). Also read something about an <a href=\"https://www.linkedin.com/pulse/deconstruction-cucumber-junit-runner-behaviour-sumon-dey\" rel=\"nofollow noreferrer\">extended Cucumber runner</a> but is outdated. <a href=\"https://stackoverflow.com/questions/73394344/how-to-rerun-a-particular-cucumber-scenario-when-it-fails-with-cucumber\">This</a> is the closest response I found but uses Junit5. I've tried using the <code>rerunFailingTestsCount</code> parameter through Maven Surefire but that reruns the features after the entire test suite is run. If you have any other suggestions, I would be very grateful. Thanks!</p>\n<p>This is my current Cucumber Runner (without rerun implemented). I run the main() to execute my tests.</p>\n<pre><code>@RunWith(Cucumber.class)\n@CucumberOptions(\n        tags=&quot;@xxx&quot;,\n        plugin = {&quot;pretty&quot;},\n        features = {&quot;classpath:features&quot;},\n        glue = {&quot;StepDefinitions&quot;}\n)\n\npublic class Runner {\n    private static String[] options = {\n            &quot;classpath:Features&quot;,\n            &quot;--glue&quot;, &quot;StepDefinitions&quot;,\n            &quot;--tags&quot;, &quot;@xxx&quot;,\n            &quot;--plugin&quot;, &quot;pretty&quot;,\n    };\n\n    public static void main(String[] args) {\n            Stream&lt;String&gt; cucumberOptions = Stream.concat(Stream.of(defaultOptions), Stream.of(args));\n            ClassLoader contextClassLoader = Thread.currentThread().getContextClassLoader();\n            byte exitstatus = Main.run(cucumberOptions.toArray(String[]::new), contextClassLoader);\n\n            // other stuff done for custom pdf reports\n    }\n\n}\n</code></pre>\n"},{"tags":["java","user-interface","javafx","color-picker"],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1691089219,"creation_date":1691088827,"answer_id":76830915,"question_id":76830818,"body_markdown":"I think you are asking how to make the color picker&#39;s popup appear without actually showing the color picker control. You need to have the color picker in the scene graph for it to work; however you can just make it invisible. Note that it will still be placed in the scene graph and its location will determine the location of the popup.\r\n\r\nHere&#39;s a minimal example:\r\n\r\n\r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.ColorPicker;\r\n    import javafx.scene.layout.Pane;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.scene.shape.Rectangle;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class HelloApplication extends Application {\r\n        @Override\r\n        public void start(Stage stage) {\r\n            Rectangle rect = new Rectangle(100, 20, 200, 40);\r\n            ColorPicker picker = new ColorPicker();\r\n            picker.setVisible(false);\r\n            Pane root = new Pane(rect, picker);\r\n            rect.setStroke(Color.BLACK);\r\n            rect.fillProperty().bind(picker.valueProperty());\r\n            rect.setOnMouseClicked(e -&gt; {\r\n                // move the (invisible) color picker so the popup appears at the mouse:\r\n                picker.relocate(e.getX(), e.getY() - picker.getHeight());\r\n                picker.show();\r\n            });\r\n            Scene scene = new Scene(root, 400, 80);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\nHere is how this looks at startup:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nand here is the result of clicking on the rectangle:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wqvb1.png\r\n  [2]: https://i.stack.imgur.com/NBWUD.png","title":"JavaFX open Color Picker&#39;s Dialog on Custom Action Event","body":"<p>I think you are asking how to make the color picker's popup appear without actually showing the color picker control. You need to have the color picker in the scene graph for it to work; however you can just make it invisible. Note that it will still be placed in the scene graph and its location will determine the location of the popup.</p>\n<p>Here's a minimal example:</p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.control.ColorPicker;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Rectangle;\nimport javafx.stage.Stage;\n\npublic class HelloApplication extends Application {\n    @Override\n    public void start(Stage stage) {\n        Rectangle rect = new Rectangle(100, 20, 200, 40);\n        ColorPicker picker = new ColorPicker();\n        picker.setVisible(false);\n        Pane root = new Pane(rect, picker);\n        rect.setStroke(Color.BLACK);\n        rect.fillProperty().bind(picker.valueProperty());\n        rect.setOnMouseClicked(e -&gt; {\n            // move the (invisible) color picker so the popup appears at the mouse:\n            picker.relocate(e.getX(), e.getY() - picker.getHeight());\n            picker.show();\n        });\n        Scene scene = new Scene(root, 400, 80);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>Here is how this looks at startup:</p>\n<p><a href=\"https://i.stack.imgur.com/wqvb1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wqvb1.png\" alt=\"enter image description here\" /></a></p>\n<p>and here is the result of clicking on the rectangle:</p>\n<p><a href=\"https://i.stack.imgur.com/NBWUD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NBWUD.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":28852866,"reputation":35,"user_id":22098389,"display_name":"vperse"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76830915,"answer_count":1,"score":1,"last_activity_date":1691089219,"creation_date":1691087901,"question_id":76830818,"body_markdown":"I want to launch the Color Picker&#39;s Dialog window and get the selected color as output. \r\nIn my case I want this window to launch from clicking on a Rectangle object instead of the ColorPicker component. \r\n\r\n\r\nI&#39;m having trouble finding out what the class/method is for launching this window since all online resources just point me to ColorPicker examples which I want to avoid. \r\nI tried checking the documentation without any luck so if you guys know how to help me I would be very grateful to you.","title":"JavaFX open Color Picker&#39;s Dialog on Custom Action Event","body":"<p>I want to launch the Color Picker's Dialog window and get the selected color as output.\nIn my case I want this window to launch from clicking on a Rectangle object instead of the ColorPicker component.</p>\n<p>I'm having trouble finding out what the class/method is for launching this window since all online resources just point me to ColorPicker examples which I want to avoid.\nI tried checking the documentation without any luck so if you guys know how to help me I would be very grateful to you.</p>\n"},{"tags":["java","spring-boot","cors"],"answers":[{"tags":[],"owner":{"account_id":22798565,"reputation":54,"user_id":16951710,"display_name":"antey13"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644491705,"creation_date":1644491705,"answer_id":71064113,"question_id":71063984,"body_markdown":"Could be an issue with consumes/produces, try adding produces = MediaType.APPLICATION_JSON or other media type and adjust your request headers as well.","title":"CORS error on some API endpoints but not others in same controller","body":"<p>Could be an issue with consumes/produces, try adding produces = MediaType.APPLICATION_JSON or other media type and adjust your request headers as well.</p>\n"}],"owner":{"account_id":21953043,"reputation":65,"user_id":16232010,"display_name":"fabbbles"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2256,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1691089127,"creation_date":1644491145,"question_id":71063984,"body_markdown":"I have a controller with multiple API endpoints. Most endpoints work as expected but there are 2 which throw a CORS error when deployed on a remote server. \r\n\r\n&gt; Access to fetch at &#39;BACKEND URL&#39; from origin &#39;FRONTEND URL&#39; has been blocked by CORS policy: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource. If an opaque response serves your needs, set the request&#39;s mode to &#39;no-cors&#39; to fetch the resource with CORS disabled.\r\n\r\nI have omitted some code below for brevity. \r\n\r\nThe API `/api/person/uid/14` works as expected in both localhost and on a remote server.\r\n\r\nThe API `/person/email/john@email.com` works on localhost, but returns an error when deployed on a remote server.\r\n\r\nBoth frontend and backend are hosted on the same machine and sit on the same domain. The only difference in the URL are the ports (frontend 3000; backend API 8082). \r\n\r\nHaving said that, the first API (and many others in this controller) work on both local and the remote server, only the email and mobileNumber validation APIs are throwing a CORS error, which makes this really puzzling.\r\n\r\nAny thoughts are appreciated.\r\n   \r\n**PersonController.java**    \r\n\r\n    @CrossOrigin(origins = &quot;*&quot;)\r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class PersonController {\r\n\r\n    @Autowired\r\n    PersonService personService;\r\n\r\n    @GetMapping(&quot;/person/uid/{uid}&quot;)\r\n    public Boolean uidExists(@PathVariable(&quot;uid&quot;) String uid) {\r\n        return personService.uidInUse(uid);\r\n    }\r\n  \r\n\r\n    @GetMapping(&quot;/person/mobileNumber/{mobileNumber}&quot;)\r\n    public Boolean mobileNumberExists(@PathVariable(&quot;mobileNumber&quot;) String mobileNumber) {\r\n        return personService.mobileNumberInUse(mobileNumber);\r\n    }\r\n\r\n    @GetMapping(&quot;/person/email/{email}&quot;)\r\n    public Boolean emailExists(@PathVariable(&quot;email&quot;) String email) {\r\n        return personService.emailInUse(email);\r\n    }\r\n\r\n    @ResponseStatus(HttpStatus.UNPROCESSABLE_ENTITY)\r\n    @ExceptionHandler(MethodArgumentNotValidException.class)\r\n    public Map&lt;String, String&gt; handleValidationExceptions(\r\n            MethodArgumentNotValidException ex) {\r\n        Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\r\n        ex.getBindingResult().getAllErrors().forEach((error) -&gt; {\r\n            String fieldName = ((FieldError) error).getField();\r\n            String errorMessage = error.getDefaultMessage();\r\n            errors.put(fieldName, errorMessage);\r\n        });\r\n        return errors;\r\n    }\r\n    }\r\n\r\n**PersonService.java**\r\n\r\n    @Service\r\n    public class PersonService {\r\n\r\n    @Autowired\r\n    PersonRepository personRepository;\r\n\r\n    // NOTE: ...NotDeleted and ...InUse methods implies deleted == false\r\n\r\n    // read methods\r\n    public List&lt;PersonDto&gt; findAllNotDeleted() {\r\n        return personRepository.findByDeleted(false).stream()\r\n                .filter(p -&gt; !p.getDeleted())\r\n                .map(Person::toDto)\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\n    public Optional&lt;Person&gt; findByIdInUse(Long personId) {\r\n        return personRepository.findByPersonIdAndDeleted(personId, false);\r\n    }\r\n\r\n\r\n    // checkers\r\n    public Boolean uidInUse(String uid) {\r\n        return personRepository.findByPersonUidAndDeleted(uid, false)\r\n                .isPresent();\r\n    }\r\n\r\n    //edit: check if personid is the same as personname\r\n    public Boolean uidInUse(String uid, Long personId) {\r\n        Optional&lt;Person&gt; personOptional = personRepository\r\n                .findByPersonUidAndDeleted(uid, false);\r\n        return personOptional.isPresent() &amp;&amp;\r\n                !Objects.equals(personOptional.get().getPersonId(), personId);\r\n    }\r\n\r\n    public Boolean mobileNumberInUse(String personMobileNumber) {\r\n        return personRepository.findByPersonMobileNumberAndDeleted(personMobileNumber, false)\r\n                .isPresent();\r\n    }\r\n\r\n    public Boolean emailInUse(String email) {\r\n        return personRepository.findByPersonEmail(email).size() &gt; 0;\r\n    }\r\n\r\n    public Boolean idInUse(Long id) {\r\n        return personRepository.findByPersonIdAndDeleted(id, false).isPresent();\r\n    }\r\n\r\n\r\n    // create / update methods\r\n    public PersonDto createNotDeleted(CreatePersonDto personDto) {\r\n        return personRepository.save(personDto.toPerson(false)).toDto();\r\n    }\r\n\r\n\r\n    //for deletion\r\n    public PersonDto save(PersonDto personDto, Boolean deleted) {\r\n        return personRepository.save(personDto.toPerson(deleted)).toDto();\r\n    }\r\n\r\n    //normal save\r\n    public Person save(Person person) {\r\n        return personRepository.save(person);\r\n    }\r\n\r\n\r\n    // helpers (if other controllers need can move to util)\r\n    public String generateUid() {\r\n        String randomString;\r\n\r\n        do {\r\n            randomString = generateRandomString(8);\r\n        } while (uidInUse(randomString));\r\n        return randomString;\r\n    }\r\n\r\n    private String generateRandomString(int length) {\r\n        int leftLimit = 48; // &quot;0&quot;\r\n        int rightLimit = 122; // &quot;z&quot;\r\n        Random random = new Random();\r\n\r\n        return random.ints(leftLimit, rightLimit + 1)\r\n                .filter(i -&gt; i &lt;= 57 || (i &gt;= 65 &amp;&amp; i &lt;= 90) || i &gt;= 97)\r\n                // &quot;9&quot; and below OR &quot;A&quot; to &quot;Z&quot; OR &quot;a&quot; and above\r\n                .limit(length)\r\n                .collect(StringBuilder::new, StringBuilder::appendCodePoint, StringBuilder::append)\r\n                .toString();\r\n\r\n    }\r\n    }","title":"CORS error on some API endpoints but not others in same controller","body":"<p>I have a controller with multiple API endpoints. Most endpoints work as expected but there are 2 which throw a CORS error when deployed on a remote server.</p>\n<blockquote>\n<p>Access to fetch at 'BACKEND URL' from origin 'FRONTEND URL' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource. If an opaque response serves your needs, set the request's mode to 'no-cors' to fetch the resource with CORS disabled.</p>\n</blockquote>\n<p>I have omitted some code below for brevity.</p>\n<p>The API <code>/api/person/uid/14</code> works as expected in both localhost and on a remote server.</p>\n<p>The API <code>/person/email/john@email.com</code> works on localhost, but returns an error when deployed on a remote server.</p>\n<p>Both frontend and backend are hosted on the same machine and sit on the same domain. The only difference in the URL are the ports (frontend 3000; backend API 8082).</p>\n<p>Having said that, the first API (and many others in this controller) work on both local and the remote server, only the email and mobileNumber validation APIs are throwing a CORS error, which makes this really puzzling.</p>\n<p>Any thoughts are appreciated.</p>\n<p><strong>PersonController.java</strong></p>\n<pre><code>@CrossOrigin(origins = &quot;*&quot;)\n@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class PersonController {\n\n@Autowired\nPersonService personService;\n\n@GetMapping(&quot;/person/uid/{uid}&quot;)\npublic Boolean uidExists(@PathVariable(&quot;uid&quot;) String uid) {\n    return personService.uidInUse(uid);\n}\n\n\n@GetMapping(&quot;/person/mobileNumber/{mobileNumber}&quot;)\npublic Boolean mobileNumberExists(@PathVariable(&quot;mobileNumber&quot;) String mobileNumber) {\n    return personService.mobileNumberInUse(mobileNumber);\n}\n\n@GetMapping(&quot;/person/email/{email}&quot;)\npublic Boolean emailExists(@PathVariable(&quot;email&quot;) String email) {\n    return personService.emailInUse(email);\n}\n\n@ResponseStatus(HttpStatus.UNPROCESSABLE_ENTITY)\n@ExceptionHandler(MethodArgumentNotValidException.class)\npublic Map&lt;String, String&gt; handleValidationExceptions(\n        MethodArgumentNotValidException ex) {\n    Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\n    ex.getBindingResult().getAllErrors().forEach((error) -&gt; {\n        String fieldName = ((FieldError) error).getField();\n        String errorMessage = error.getDefaultMessage();\n        errors.put(fieldName, errorMessage);\n    });\n    return errors;\n}\n}\n</code></pre>\n<p><strong>PersonService.java</strong></p>\n<pre><code>@Service\npublic class PersonService {\n\n@Autowired\nPersonRepository personRepository;\n\n// NOTE: ...NotDeleted and ...InUse methods implies deleted == false\n\n// read methods\npublic List&lt;PersonDto&gt; findAllNotDeleted() {\n    return personRepository.findByDeleted(false).stream()\n            .filter(p -&gt; !p.getDeleted())\n            .map(Person::toDto)\n            .collect(Collectors.toList());\n}\n\npublic Optional&lt;Person&gt; findByIdInUse(Long personId) {\n    return personRepository.findByPersonIdAndDeleted(personId, false);\n}\n\n\n// checkers\npublic Boolean uidInUse(String uid) {\n    return personRepository.findByPersonUidAndDeleted(uid, false)\n            .isPresent();\n}\n\n//edit: check if personid is the same as personname\npublic Boolean uidInUse(String uid, Long personId) {\n    Optional&lt;Person&gt; personOptional = personRepository\n            .findByPersonUidAndDeleted(uid, false);\n    return personOptional.isPresent() &amp;&amp;\n            !Objects.equals(personOptional.get().getPersonId(), personId);\n}\n\npublic Boolean mobileNumberInUse(String personMobileNumber) {\n    return personRepository.findByPersonMobileNumberAndDeleted(personMobileNumber, false)\n            .isPresent();\n}\n\npublic Boolean emailInUse(String email) {\n    return personRepository.findByPersonEmail(email).size() &gt; 0;\n}\n\npublic Boolean idInUse(Long id) {\n    return personRepository.findByPersonIdAndDeleted(id, false).isPresent();\n}\n\n\n// create / update methods\npublic PersonDto createNotDeleted(CreatePersonDto personDto) {\n    return personRepository.save(personDto.toPerson(false)).toDto();\n}\n\n\n//for deletion\npublic PersonDto save(PersonDto personDto, Boolean deleted) {\n    return personRepository.save(personDto.toPerson(deleted)).toDto();\n}\n\n//normal save\npublic Person save(Person person) {\n    return personRepository.save(person);\n}\n\n\n// helpers (if other controllers need can move to util)\npublic String generateUid() {\n    String randomString;\n\n    do {\n        randomString = generateRandomString(8);\n    } while (uidInUse(randomString));\n    return randomString;\n}\n\nprivate String generateRandomString(int length) {\n    int leftLimit = 48; // &quot;0&quot;\n    int rightLimit = 122; // &quot;z&quot;\n    Random random = new Random();\n\n    return random.ints(leftLimit, rightLimit + 1)\n            .filter(i -&gt; i &lt;= 57 || (i &gt;= 65 &amp;&amp; i &lt;= 90) || i &gt;= 97)\n            // &quot;9&quot; and below OR &quot;A&quot; to &quot;Z&quot; OR &quot;a&quot; and above\n            .limit(length)\n            .collect(StringBuilder::new, StringBuilder::appendCodePoint, StringBuilder::append)\n            .toString();\n\n}\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","spring-boot","aws-iot"],"comments":[{"owner":{"account_id":10597743,"reputation":949,"user_id":7805773,"accept_rate":67,"display_name":"BrianM"},"score":0,"creation_date":1694782198,"post_id":76830827,"comment_id":135940097,"body_markdown":"Any update on this?","body":"Any update on this?"}],"owner":{"account_id":5744639,"reputation":115,"user_id":4536197,"display_name":"Happs"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691087993,"creation_date":1691087993,"question_id":76830827,"body_markdown":"I am trying to create Spring Bean for different aws resources using default credential provider chain concept.\r\nI can able to build bean for resources like sqs, s3 etc. but couldnot able find a way to create the same for iot core.\r\n\r\n```\r\n@Bean\r\npublic AmazonSQSAsync amazonSQSAsync() {\r\n AmazonSQSAsync amazonSQSAsync = \r\n AmazonSQSAsyncClientBuilder.standard().withRegion(Regions.AP_SOUTH_1).build();\r\n return amazonSQSAsync;\r\n}\r\n```\r\n\r\n```\r\n@Bean\r\npublic AmazonS3 getS3Config() {\r\n AmazonS3 s3Client = AmazonS3ClientBuilder.standard()\r\n\t\t.withRegion(Regions.AP_SOUTH_1).build();\r\n return s3Client;\r\n}\r\n```\r\n\r\nI want something like this for creating bean for aws iot core(AWSIotMqttClient).\r\nI am using below dependency for iot core.\r\n\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;aws-iot-device-sdk-java&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.3.11&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n","title":"Spring bean for AWS IoT Core using default credential provider chain","body":"<p>I am trying to create Spring Bean for different aws resources using default credential provider chain concept.\nI can able to build bean for resources like sqs, s3 etc. but couldnot able find a way to create the same for iot core.</p>\n<pre><code>@Bean\npublic AmazonSQSAsync amazonSQSAsync() {\n AmazonSQSAsync amazonSQSAsync = \n AmazonSQSAsyncClientBuilder.standard().withRegion(Regions.AP_SOUTH_1).build();\n return amazonSQSAsync;\n}\n</code></pre>\n<pre><code>@Bean\npublic AmazonS3 getS3Config() {\n AmazonS3 s3Client = AmazonS3ClientBuilder.standard()\n        .withRegion(Regions.AP_SOUTH_1).build();\n return s3Client;\n}\n</code></pre>\n<p>I want something like this for creating bean for aws iot core(AWSIotMqttClient).\nI am using below dependency for iot core.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n    &lt;artifactId&gt;aws-iot-device-sdk-java&lt;/artifactId&gt;\n    &lt;version&gt;1.3.11&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","eclipse","eclipse-plugin"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1691087463,"post_id":76830727,"comment_id":135447860,"body_markdown":"You can&#39;t mess with the StyledText directly like this - the rest of the Java editor will not know anything what you have done and its styling will replace yours. You **must** use the extension points provided by the Java editor (or base text editor) to participate in the editor&#39;s styling code.","body":"You can&#39;t mess with the StyledText directly like this - the rest of the Java editor will not know anything what you have done and its styling will replace yours. You <b>must</b> use the extension points provided by the Java editor (or base text editor) to participate in the editor&#39;s styling code."},{"owner":{"account_id":10533051,"reputation":75,"user_id":7761811,"display_name":"jasvik"},"score":0,"creation_date":1691133031,"post_id":76830727,"comment_id":135453110,"body_markdown":"i tried with org.eclipse.jdt.ui.javaEditorTextHovers extention point but no help . Can you give which extentions point to be used to acgieve this","body":"i tried with org.eclipse.jdt.ui.javaEditorTextHovers extention point but no help . Can you give which extentions point to be used to acgieve this"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1691136130,"post_id":76830727,"comment_id":135453734,"body_markdown":"Sorry but I am not an expert on the JDT extension points.","body":"Sorry but I am not an expert on the JDT extension points."},{"owner":{"account_id":2742593,"reputation":586,"user_id":2363778,"display_name":"mami"},"score":0,"creation_date":1691138819,"post_id":76830727,"comment_id":135454185,"body_markdown":"Maybe org.eclipse.ui.themes. Its description says: &quot;This extension point is used to customize the appearance of the UI. It allows definition of color and font entities as well as theme entities. Themes allow applications to selectively override default color and font specifications for particular uses.&quot;","body":"Maybe org.eclipse.ui.themes. Its description says: &quot;This extension point is used to customize the appearance of the UI. It allows definition of color and font entities as well as theme entities. Themes allow applications to selectively override default color and font specifications for particular uses.&quot;"}],"owner":{"account_id":10533051,"reputation":75,"user_id":7761811,"display_name":"jasvik"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":0,"score":0,"last_activity_date":1691087080,"creation_date":1691087080,"question_id":76830727,"body_markdown":"I&#39;m creating a plugin like codeium I want to insert code when user types something and whne they press tab I will move the cursor to end of inserted code using the below code and it all works fine.\r\n\r\n    \r\n    public class InsertCodeHandler extends AbstractHandler {\r\n\r\n    private static final String CODE_TO_INSERT = &quot;public static void main&quot;;\r\n    private boolean tabPressed = false;\r\n    private boolean codeInserted = false;\r\n    private StyleRange styleRange;\r\n\r\n    @Override\r\n    public Object execute(ExecutionEvent event) throws ExecutionException {\r\n        IEditorPart editorPart = HandlerUtil.getActiveEditor(event);\r\n        if (editorPart instanceof ITextEditor) {\r\n            ITextEditor textEditor = (ITextEditor) editorPart;\r\n            IDocument document = textEditor.getDocumentProvider().getDocument(textEditor.getEditorInput());\r\n            int offset = textEditor.getAdapter(ITextViewer.class).getTextWidget().getCaretOffset();\r\n\r\n            try {\r\n                // Insert the code and set the background color to grey\r\n                document.replace(offset, 0, CODE_TO_INSERT);\r\n                codeInserted = true;\r\n\r\n                StyledText styledText = textEditor.getAdapter(ITextViewer.class).getTextWidget();\r\n                styleRange = new StyleRange(offset, CODE_TO_INSERT.length(), null, null);\r\n                styleRange.background = styledText.getDisplay().getSystemColor(SWT.COLOR_GRAY);\r\n                styledText.setStyleRange(styleRange);\r\n\r\n                // Register a VerifyKeyListener to handle Tab and Esc keys\r\n                styledText.addVerifyKeyListener(new VerifyKeyListener() {\r\n                    @Override\r\n                    public void verifyKey(VerifyEvent e) {\r\n                        if (e.keyCode == SWT.TAB &amp;&amp; codeInserted) { // Tab key pressed\r\n                            if (!tabPressed) {\r\n                                tabPressed = true;\r\n                                // Reset the background color to default\r\n                                styleRange.background = null;\r\n                                styledText.setStyleRange(styleRange);\r\n                            }\r\n                            // Move the cursor to the end of the inserted code\r\n                            styledText.setSelection(offset + CODE_TO_INSERT.length());\r\n                            e.doit = false; // Suppress default behavior of Tab key\r\n                        } else if (e.keyCode == SWT.ESC) { // Esc key pressed\r\n                            // Remove the inserted code\r\n                            try {\r\n                                document.replace(offset, CODE_TO_INSERT.length(), &quot;&quot;);\r\n                                codeInserted = false;\r\n                                tabPressed = false;\r\n                            } catch (Exception ex) {\r\n                                ex.printStackTrace();\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        return null;\r\n    }\r\n   }\r\n\r\n\r\n\r\nbut until the user press tab I want to show some difference to the inserted code hence B added a vackground of grey but the background gets removed even before the user press tab key how to handle this.","title":"text styling not working as expected in eclipse plugin development","body":"<p>I'm creating a plugin like codeium I want to insert code when user types something and whne they press tab I will move the cursor to end of inserted code using the below code and it all works fine.</p>\n<pre><code>public class InsertCodeHandler extends AbstractHandler {\n\nprivate static final String CODE_TO_INSERT = &quot;public static void main&quot;;\nprivate boolean tabPressed = false;\nprivate boolean codeInserted = false;\nprivate StyleRange styleRange;\n\n@Override\npublic Object execute(ExecutionEvent event) throws ExecutionException {\n    IEditorPart editorPart = HandlerUtil.getActiveEditor(event);\n    if (editorPart instanceof ITextEditor) {\n        ITextEditor textEditor = (ITextEditor) editorPart;\n        IDocument document = textEditor.getDocumentProvider().getDocument(textEditor.getEditorInput());\n        int offset = textEditor.getAdapter(ITextViewer.class).getTextWidget().getCaretOffset();\n\n        try {\n            // Insert the code and set the background color to grey\n            document.replace(offset, 0, CODE_TO_INSERT);\n            codeInserted = true;\n\n            StyledText styledText = textEditor.getAdapter(ITextViewer.class).getTextWidget();\n            styleRange = new StyleRange(offset, CODE_TO_INSERT.length(), null, null);\n            styleRange.background = styledText.getDisplay().getSystemColor(SWT.COLOR_GRAY);\n            styledText.setStyleRange(styleRange);\n\n            // Register a VerifyKeyListener to handle Tab and Esc keys\n            styledText.addVerifyKeyListener(new VerifyKeyListener() {\n                @Override\n                public void verifyKey(VerifyEvent e) {\n                    if (e.keyCode == SWT.TAB &amp;&amp; codeInserted) { // Tab key pressed\n                        if (!tabPressed) {\n                            tabPressed = true;\n                            // Reset the background color to default\n                            styleRange.background = null;\n                            styledText.setStyleRange(styleRange);\n                        }\n                        // Move the cursor to the end of the inserted code\n                        styledText.setSelection(offset + CODE_TO_INSERT.length());\n                        e.doit = false; // Suppress default behavior of Tab key\n                    } else if (e.keyCode == SWT.ESC) { // Esc key pressed\n                        // Remove the inserted code\n                        try {\n                            document.replace(offset, CODE_TO_INSERT.length(), &quot;&quot;);\n                            codeInserted = false;\n                            tabPressed = false;\n                        } catch (Exception ex) {\n                            ex.printStackTrace();\n                        }\n                    }\n                }\n            });\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    return null;\n}\n</code></pre>\n<p>}</p>\n<p>but until the user press tab I want to show some difference to the inserted code hence B added a vackground of grey but the background gets removed even before the user press tab key how to handle this.</p>\n"},{"tags":["java","http","curl","grpc","http2"],"answers":[{"tags":[],"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1691086928,"creation_date":1691086928,"answer_id":76830715,"question_id":76830055,"body_markdown":"You can, but you need to follow [gRPC&#39;s message framing format](https://github.com/grpc/grpc/blob/master/doc/PROTOCOL-HTTP2.md) which is binary. Also, most grpc servers don&#39;t support JSON-encoded messages. So here&#39;s a protobuf version:\r\n\r\n```\r\n$ echo -en &#39;\\x00\\x00\\x00\\x00\\x06\\x0a\\x04test&#39; | curl --http2-prior-knowledge --header &quot;Content-Type: application/grpc&quot; --header &quot;TE: trailers&quot; --data-binary @- http://localhost:50051/helloworld.Greeter/SayHello | xxd\r\n00000000: 0000 0000 0c0a 0a48 656c 6c6f 2074 6573  .......Hello tes\r\n00000010: 74                                       t\r\n```\r\n\r\nThe request&#39;s break-down:\r\n * `\\x00\\x00\\x00\\x00\\x06`. 5 byte gRPC frame header. The first `00` is a flag byte with no flags set. The last four bytes are the message length of 6 bytes.\r\n  * `\\x0a\\x04test`. The protobuf message. `0a` contains the field type and tag number. The `04` is the length of the following string &quot;test&quot;.\r\n\r\nYou can see how the response was also binary grpc and protobuf in the same format as the request.\r\n\r\nThe error you were seeing is fixed by `--http2-prior-knowledge`. It tells curl not to use the plaintext HTTP/1.1 Upgrade to HTTP/2 and instead just start directly with HTTP/2. RFC 9113 deprecated the HTTP/1.1 Upgrade approach for HTTP/2 in favor of this prior knowledge approach.","title":"Can you use a HTTP2 request to successfully call a gRPC service?","body":"<p>You can, but you need to follow <a href=\"https://github.com/grpc/grpc/blob/master/doc/PROTOCOL-HTTP2.md\" rel=\"nofollow noreferrer\">gRPC's message framing format</a> which is binary. Also, most grpc servers don't support JSON-encoded messages. So here's a protobuf version:</p>\n<pre><code>$ echo -en '\\x00\\x00\\x00\\x00\\x06\\x0a\\x04test' | curl --http2-prior-knowledge --header &quot;Content-Type: application/grpc&quot; --header &quot;TE: trailers&quot; --data-binary @- http://localhost:50051/helloworld.Greeter/SayHello | xxd\n00000000: 0000 0000 0c0a 0a48 656c 6c6f 2074 6573  .......Hello tes\n00000010: 74                                       t\n</code></pre>\n<p>The request's break-down:</p>\n<ul>\n<li><code>\\x00\\x00\\x00\\x00\\x06</code>. 5 byte gRPC frame header. The first <code>00</code> is a flag byte with no flags set. The last four bytes are the message length of 6 bytes.</li>\n<li><code>\\x0a\\x04test</code>. The protobuf message. <code>0a</code> contains the field type and tag number. The <code>04</code> is the length of the following string &quot;test&quot;.</li>\n</ul>\n<p>You can see how the response was also binary grpc and protobuf in the same format as the request.</p>\n<p>The error you were seeing is fixed by <code>--http2-prior-knowledge</code>. It tells curl not to use the plaintext HTTP/1.1 Upgrade to HTTP/2 and instead just start directly with HTTP/2. RFC 9113 deprecated the HTTP/1.1 Upgrade approach for HTTP/2 in favor of this prior knowledge approach.</p>\n"}],"owner":{"account_id":29154202,"reputation":3,"user_id":22334373,"display_name":"DrPibb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691086928,"creation_date":1691080670,"question_id":76830055,"body_markdown":"Since grpc is built on top of http2, can you use an http request to directly call a grpc service?\r\n\r\nFor example, if you start a grpc service with the following proto:\r\n\r\n```\r\noption java_package = &quot;io.grpc.examples.helloworld&quot;;\r\noption java_outer_classname = &quot;HelloWorldProto&quot;;\r\noption objc_class_prefix = &quot;HLW&quot;;\r\n\r\npackage helloworld;\r\n\r\n// The greeting service definition.\r\nservice Greeter {\r\n  // Sends a greeting\r\n  rpc SayHello (HelloRequest) returns (HelloReply) {}\r\n}\r\n\r\n// The request message containing the user&#39;s name.\r\nmessage HelloRequest {\r\n  string name = 1;\r\n}\r\n\r\n// The response message containing the greetings\r\nmessage HelloReply {\r\n  string message = 1;\r\n}\r\n```\r\n\r\nThen send a curl request to that service at localhost and the port number:\r\n\r\n```\r\ncurl --http2 -H &quot;Content-Type: application/grpc+proto&quot; -d &quot;{\\&quot;name\\&quot;: \\&quot;test\\&quot;}&quot; http://localhost:50051/io.grpc.examples.helloworld.Greeter/SayHello\r\n```\r\n\r\nIs this suppported? I get the following error:\r\n\r\n```\r\nio.grpc.netty.shaded.io.netty.handler.codec.http2.Http2Exception: Unexpected HTTP/1.x request: POST /io.grpc.examples.helloworld.Greeter/SayHello\r\n```\r\n\r\nI&#39;m not sure if I am making the call incorrectly, or if this isn&#39;t possible. Besides using curl, I&#39;ve also tried using Java&#39;s HttpClient, which gave me the same error. Any info on this is appreciated, thanks","title":"Can you use a HTTP2 request to successfully call a gRPC service?","body":"<p>Since grpc is built on top of http2, can you use an http request to directly call a grpc service?</p>\n<p>For example, if you start a grpc service with the following proto:</p>\n<pre><code>option java_package = &quot;io.grpc.examples.helloworld&quot;;\noption java_outer_classname = &quot;HelloWorldProto&quot;;\noption objc_class_prefix = &quot;HLW&quot;;\n\npackage helloworld;\n\n// The greeting service definition.\nservice Greeter {\n  // Sends a greeting\n  rpc SayHello (HelloRequest) returns (HelloReply) {}\n}\n\n// The request message containing the user's name.\nmessage HelloRequest {\n  string name = 1;\n}\n\n// The response message containing the greetings\nmessage HelloReply {\n  string message = 1;\n}\n</code></pre>\n<p>Then send a curl request to that service at localhost and the port number:</p>\n<pre><code>curl --http2 -H &quot;Content-Type: application/grpc+proto&quot; -d &quot;{\\&quot;name\\&quot;: \\&quot;test\\&quot;}&quot; http://localhost:50051/io.grpc.examples.helloworld.Greeter/SayHello\n</code></pre>\n<p>Is this suppported? I get the following error:</p>\n<pre><code>io.grpc.netty.shaded.io.netty.handler.codec.http2.Http2Exception: Unexpected HTTP/1.x request: POST /io.grpc.examples.helloworld.Greeter/SayHello\n</code></pre>\n<p>I'm not sure if I am making the call incorrectly, or if this isn't possible. Besides using curl, I've also tried using Java's HttpClient, which gave me the same error. Any info on this is appreciated, thanks</p>\n"},{"tags":["java","postgresql","prepared-statement","jooq","jsonb"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691086731,"creation_date":1691086731,"answer_id":76830691,"question_id":76821669,"body_markdown":"First off, [with jOOQ, you should *never* concatenate strings][1]. There&#39;s almost always a better way.\r\n\r\nIn your case, you could use [plain SQL templates][2] as follows:\r\n\r\n```java\r\n.where(&quot;json_exists_all({0}, {1})&quot;,\r\n    jsonGetAttribute(MYTABLE.DATA, inline(&quot;roles&quot;)),\r\n    val(new String[] { &quot;ONE&quot;, &quot;TWO&quot; })\r\n)\r\n```\r\n\r\nThis is using:\r\n\r\n- [JSON attribute access][3]\r\n- [`DSL::val`][4] to create [bind values][5]\r\n- [`DSL::inline`][6] to create [inline values][7]\r\n\r\n\r\n  [1]: https://blog.jooq.org/never-concatenate-strings-with-jooq/\r\n  [2]: https://www.jooq.org/doc/latest/manual/sql-building/plain-sql-templating/\r\n  [3]: https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/json-functions/json-attribute-access/\r\n  [4]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/impl/DSL.html#val(T)\r\n  [5]: https://www.jooq.org/doc/latest/manual/sql-building/bind-values/\r\n  [6]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/impl/DSL.html#inline(T)\r\n  [7]: https://www.jooq.org/doc/latest/manual/sql-building/bind-values/inlined-parameters/","title":"Search by JSONB field value. How to prepare query correctly using jooq?","body":"<p>First off, <a href=\"https://blog.jooq.org/never-concatenate-strings-with-jooq/\" rel=\"nofollow noreferrer\">with jOOQ, you should <em>never</em> concatenate strings</a>. There's almost always a better way.</p>\n<p>In your case, you could use <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/plain-sql-templating/\" rel=\"nofollow noreferrer\">plain SQL templates</a> as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>.where(&quot;json_exists_all({0}, {1})&quot;,\n    jsonGetAttribute(MYTABLE.DATA, inline(&quot;roles&quot;)),\n    val(new String[] { &quot;ONE&quot;, &quot;TWO&quot; })\n)\n</code></pre>\n<p>This is using:</p>\n<ul>\n<li><a href=\"https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/json-functions/json-attribute-access/\" rel=\"nofollow noreferrer\">JSON attribute access</a></li>\n<li><a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/impl/DSL.html#val(T)\" rel=\"nofollow noreferrer\"><code>DSL::val</code></a> to create <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/bind-values/\" rel=\"nofollow noreferrer\">bind values</a></li>\n<li><a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/impl/DSL.html#inline(T)\" rel=\"nofollow noreferrer\"><code>DSL::inline</code></a> to create <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/bind-values/inlined-parameters/\" rel=\"nofollow noreferrer\">inline values</a></li>\n</ul>\n"}],"owner":{"account_id":29145001,"reputation":13,"user_id":22327129,"display_name":"Dmtry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76830691,"answer_count":1,"score":1,"last_activity_date":1691086731,"creation_date":1690992157,"question_id":76821669,"body_markdown":"I&#39;m trying to find records by condition from the jsonb field (array). I&#39;m using the jsonb_exists_all function for this.\r\nI wrote a working SQL, but I ran into the problem of creating correct Java code (Jooq) with argument binding.\r\n\r\nFor example, the table structure\r\n\r\n```\r\nCREATE TABLE mytable (\r\n    id int,\r\n    data jsonb\r\n);\r\n\r\nINSERT INTO mytable VALUES\r\n(1, &#39;{&quot;roles&quot;: [&quot;ONE&quot;, &quot;TWO&quot;, &quot;FIVE&quot;]}&#39;),\r\n(2, &#39;{&quot;roles&quot;: [&quot;ONE&quot;, &quot;SIX&quot;]}&#39;);\r\n```\r\n\r\nAnd in my raw working SQL query, I&#39;m searching by array values. This work.\r\n\r\n```\r\nSELECT\r\n    id,\r\n    data\r\nFROM\r\n    mytable\r\nWHERE\r\n    jsonb_exists_all(mytable.data -&gt; &#39;roles&#39;, array[&#39;ONE&#39;,&#39;TWO&#39;])\r\n```\r\n\r\nIn the next step, I&#39;m trying to write Java code, and I&#39;m having some issues with bindings (arguments) to implement a secured request.\r\n\r\n```\r\nString args = &quot;&#39;ONE&#39;,&#39;TWO&#39;&quot;;\r\n\r\nFlux.from(dsl.selectFrom(MyTable.MYTABLE)\r\n          .where(noCondition().and(&quot;jsonb_exists_all(parameters -&gt; &#39;roles&#39;, array[&quot; + args + &quot;])&quot;)))\r\n          .map(record -&gt; record.into(MyTableDto.class))\r\n          .collectList();\r\n```\r\n\r\nIs it possible to do binding without concatenation?\r\n\r\nI will be grateful!","title":"Search by JSONB field value. How to prepare query correctly using jooq?","body":"<p>I'm trying to find records by condition from the jsonb field (array). I'm using the jsonb_exists_all function for this.\nI wrote a working SQL, but I ran into the problem of creating correct Java code (Jooq) with argument binding.</p>\n<p>For example, the table structure</p>\n<pre><code>CREATE TABLE mytable (\n    id int,\n    data jsonb\n);\n\nINSERT INTO mytable VALUES\n(1, '{&quot;roles&quot;: [&quot;ONE&quot;, &quot;TWO&quot;, &quot;FIVE&quot;]}'),\n(2, '{&quot;roles&quot;: [&quot;ONE&quot;, &quot;SIX&quot;]}');\n</code></pre>\n<p>And in my raw working SQL query, I'm searching by array values. This work.</p>\n<pre><code>SELECT\n    id,\n    data\nFROM\n    mytable\nWHERE\n    jsonb_exists_all(mytable.data -&gt; 'roles', array['ONE','TWO'])\n</code></pre>\n<p>In the next step, I'm trying to write Java code, and I'm having some issues with bindings (arguments) to implement a secured request.</p>\n<pre><code>String args = &quot;'ONE','TWO'&quot;;\n\nFlux.from(dsl.selectFrom(MyTable.MYTABLE)\n          .where(noCondition().and(&quot;jsonb_exists_all(parameters -&gt; 'roles', array[&quot; + args + &quot;])&quot;)))\n          .map(record -&gt; record.into(MyTableDto.class))\n          .collectList();\n</code></pre>\n<p>Is it possible to do binding without concatenation?</p>\n<p>I will be grateful!</p>\n"},{"tags":["java","generics","jackson-dataformat-xml"],"answers":[{"tags":[],"owner":{"account_id":18189372,"reputation":45,"user_id":13235486,"display_name":"Charles"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691086655,"creation_date":1691086655,"answer_id":76830680,"question_id":76818805,"body_markdown":"I found the solution, I report it below, maybe it can help someone:\r\n\r\n - add a `Class&lt;T&gt;` property to the `MyXmlManager&lt;T&gt;` class\r\n - add a constructor with parameter `Class&lt;T&gt;` to instantiate the added property\r\n - compile the type to be passed to the `XmlMapper.readValue` method using the `mapper.getTypeFactory().constructParametricType` method.\r\n\r\nThis is the modified code:\r\n```lang-java\r\npublic class MyXmlManager&lt;T&gt; {\r\n    final static XmlMapper oXmlMapper = new XmlMapper();\r\n    private Class&lt;T&gt; clazz;\r\n    \r\n    public MyXmlManager(Class&lt;T&gt; clazz) {\r\n        this.clazz = clazz;\r\n    }\r\n    \r\n    public XmlGeneric&lt;T&gt; xmlDeserialization(String sXmlData) throws JsonMappingException, JsonProcessingException, InstantiationException, IllegalAccessException {\r\n        return oXmlMapper.readValue(sXmlData, oXmlMapper.getTypeFactory().constructParametricType(XmlGeneric.class, clazz));\r\n    }\r\n}\r\n```\r\n**Test**\r\n```lang-java\r\nMyXmlManager&lt;Person&gt; myXmlManager = new MyXmlManager&lt;Person&gt;(Person.class);\r\nXmlGeneric&lt;Person&gt; xmlPerson = myXmlManager.xmlDeserialization(xmlPersonData);\r\nSystem.out.println(xmlPerson);\r\n// Result: XmlGeneric [rows=[person [name=charles, userid=1], person [name=arthur, userid=2]]\r\n```","title":"Java - Jackson XML Deserializing with generics","body":"<p>I found the solution, I report it below, maybe it can help someone:</p>\n<ul>\n<li>add a <code>Class&lt;T&gt;</code> property to the <code>MyXmlManager&lt;T&gt;</code> class</li>\n<li>add a constructor with parameter <code>Class&lt;T&gt;</code> to instantiate the added property</li>\n<li>compile the type to be passed to the <code>XmlMapper.readValue</code> method using the <code>mapper.getTypeFactory().constructParametricType</code> method.</li>\n</ul>\n<p>This is the modified code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyXmlManager&lt;T&gt; {\n    final static XmlMapper oXmlMapper = new XmlMapper();\n    private Class&lt;T&gt; clazz;\n    \n    public MyXmlManager(Class&lt;T&gt; clazz) {\n        this.clazz = clazz;\n    }\n    \n    public XmlGeneric&lt;T&gt; xmlDeserialization(String sXmlData) throws JsonMappingException, JsonProcessingException, InstantiationException, IllegalAccessException {\n        return oXmlMapper.readValue(sXmlData, oXmlMapper.getTypeFactory().constructParametricType(XmlGeneric.class, clazz));\n    }\n}\n</code></pre>\n<p><strong>Test</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>MyXmlManager&lt;Person&gt; myXmlManager = new MyXmlManager&lt;Person&gt;(Person.class);\nXmlGeneric&lt;Person&gt; xmlPerson = myXmlManager.xmlDeserialization(xmlPersonData);\nSystem.out.println(xmlPerson);\n// Result: XmlGeneric [rows=[person [name=charles, userid=1], person [name=arthur, userid=2]]\n</code></pre>\n"}],"owner":{"account_id":18189372,"reputation":45,"user_id":13235486,"display_name":"Charles"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76830680,"answer_count":1,"score":0,"last_activity_date":1691086655,"creation_date":1690970725,"question_id":76818805,"body_markdown":"I&#39;m trying to deserialize some XML using generics and I get an unexpected result.\r\nHere is a simplified example of the code I&#39;m using:\r\n\r\n**Maven dependecy**\r\n```lang-xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n    &lt;version&gt;2.13.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n**Xml to deserialize**\r\n```lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot; ?&gt;\r\n&lt;xml_result&gt;\r\n    &lt;row&gt;\r\n        &lt;name&gt;charles&lt;/name&gt;\r\n        &lt;userid&gt;1&lt;/userid&gt;\r\n    &lt;/row&gt;\r\n    &lt;row&gt;\r\n        &lt;name&gt;arthur&lt;/name&gt;\r\n        &lt;userid&gt;2&lt;/userid&gt;\r\n    &lt;/row&gt;\r\n&lt;/xml_result&gt;\r\n```\r\nThe `row` element can contain different information. The example contains people information\r\n\r\n**Generic class**\r\n```lang-java\r\nimport java.util.List;\r\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlElementWrapper;\r\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlProperty;\r\n\r\npublic class XmlGeneric&lt;T&gt; {\r\n    @JacksonXmlProperty(localName = &quot;row&quot;)\r\n    @JacksonXmlElementWrapper(useWrapping = false)\r\n    private List&lt;T&gt; rows;\r\n    public List&lt;T&gt; getRow() {return rows;};\r\n    \r\n    @Override\r\n    public String toString() {\r\n        return &quot;XmlGeneric [rows=&quot; + rows + &quot;]&quot;; \r\n    }\r\n }\r\n```\r\n\r\n**POJO Person**\r\n```lang-java\r\npublic class Person {\r\n    private String name;\r\n    private String userid;\r\n    \r\n    public String getName() {return name;}\r\n    public String getUserid() {return userid;}\r\n    \r\n    @Override\r\n    public String toString() {\r\n        return &quot;person [name=&quot; + getName() + &quot;, userid=&quot; + getUserid() + &quot;]&quot;;\r\n    }\r\n}\r\n```\r\nIf I use the following code, the deserialization is successful\r\n```lang-java\r\nXmlMapper xmlMapper = new XmlMapper();\r\nXmlGeneric&lt;Person&gt; xmlPerson = xmlMapper.readValue(xmlPersonData,new TypeReference&lt;XmlGeneric&lt;Person&gt;&gt;() {});\r\nSystem.out.println(xmlPerson);\r\n// Result: XmlGeneric [rows=[person [name=charles, userid=1], person [name=arthur, userid=2]]]\r\n```\r\nFor project needs, however, I need the deserialization to be done in another class.\r\nI tried this, but the result is not what I wanted\r\n```lang-java\r\npublic class MyXmlManager&lt;T&gt; {\r\n    final static XmlMapper oXmlMapper = new XmlMapper();\r\n    \r\n    public XmlGeneric&lt;T&gt; xmlDeserialization(String sXmlData) throws JsonMappingException, JsonProcessingException {\r\n        return oXmlMapper.readValue(sXmlData,new TypeReference&lt;XmlGeneric&lt;T&gt;&gt;() {});\r\n    }\r\n}\r\n```\r\n```lang-java\r\nMyXmlManager&lt;Person&gt; myXmlManager = new MyXmlManager&lt;Person&gt;();\r\nXmlGeneric&lt;Person&gt; xmlPerson = myXmlManager.xmlDeserialization(xmlPersonData);\r\nSystem.out.println(xmlPerson);\r\n// Result: XmlGeneric [rows=[{name=charles, userid=1}, {name=arthur, userid=2}]]\r\n```\r\nAs you can see, it does not deserialize the `row` elements in the `Person` POJO, but returns a `LinkedHashMap` with its value corresponding to a JSON format (`{name=charles, userid=1}`).\r\nIn fact, trying to cast, I get the error `java.lang.ClassCastException: java.util.LinkedHashMap cannot be cast to Person`.\r\n\r\nI know that I could use the `com.fasterxml.jackson.databind.ObjectMapper` object to deserialize the JSON in the Person POJO, but I would like to understand why using the `MyXmlManager&lt;T&gt;` class the deserialization doesn&#39;t work correctly.\r\nIt is as if the generic type passed to instantiate the `MyXmlManager`\r\nwas not correctly passed to the `XmlMapper.readValue` method.\r\n\r\nThanks in advance","title":"Java - Jackson XML Deserializing with generics","body":"<p>I'm trying to deserialize some XML using generics and I get an unexpected result.\nHere is a simplified example of the code I'm using:</p>\n<p><strong>Maven dependecy</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n    &lt;version&gt;2.13.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Xml to deserialize</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot; ?&gt;\n&lt;xml_result&gt;\n    &lt;row&gt;\n        &lt;name&gt;charles&lt;/name&gt;\n        &lt;userid&gt;1&lt;/userid&gt;\n    &lt;/row&gt;\n    &lt;row&gt;\n        &lt;name&gt;arthur&lt;/name&gt;\n        &lt;userid&gt;2&lt;/userid&gt;\n    &lt;/row&gt;\n&lt;/xml_result&gt;\n</code></pre>\n<p>The <code>row</code> element can contain different information. The example contains people information</p>\n<p><strong>Generic class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.List;\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlElementWrapper;\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlProperty;\n\npublic class XmlGeneric&lt;T&gt; {\n    @JacksonXmlProperty(localName = &quot;row&quot;)\n    @JacksonXmlElementWrapper(useWrapping = false)\n    private List&lt;T&gt; rows;\n    public List&lt;T&gt; getRow() {return rows;};\n    \n    @Override\n    public String toString() {\n        return &quot;XmlGeneric [rows=&quot; + rows + &quot;]&quot;; \n    }\n }\n</code></pre>\n<p><strong>POJO Person</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Person {\n    private String name;\n    private String userid;\n    \n    public String getName() {return name;}\n    public String getUserid() {return userid;}\n    \n    @Override\n    public String toString() {\n        return &quot;person [name=&quot; + getName() + &quot;, userid=&quot; + getUserid() + &quot;]&quot;;\n    }\n}\n</code></pre>\n<p>If I use the following code, the deserialization is successful</p>\n<pre class=\"lang-java prettyprint-override\"><code>XmlMapper xmlMapper = new XmlMapper();\nXmlGeneric&lt;Person&gt; xmlPerson = xmlMapper.readValue(xmlPersonData,new TypeReference&lt;XmlGeneric&lt;Person&gt;&gt;() {});\nSystem.out.println(xmlPerson);\n// Result: XmlGeneric [rows=[person [name=charles, userid=1], person [name=arthur, userid=2]]]\n</code></pre>\n<p>For project needs, however, I need the deserialization to be done in another class.\nI tried this, but the result is not what I wanted</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyXmlManager&lt;T&gt; {\n    final static XmlMapper oXmlMapper = new XmlMapper();\n    \n    public XmlGeneric&lt;T&gt; xmlDeserialization(String sXmlData) throws JsonMappingException, JsonProcessingException {\n        return oXmlMapper.readValue(sXmlData,new TypeReference&lt;XmlGeneric&lt;T&gt;&gt;() {});\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>MyXmlManager&lt;Person&gt; myXmlManager = new MyXmlManager&lt;Person&gt;();\nXmlGeneric&lt;Person&gt; xmlPerson = myXmlManager.xmlDeserialization(xmlPersonData);\nSystem.out.println(xmlPerson);\n// Result: XmlGeneric [rows=[{name=charles, userid=1}, {name=arthur, userid=2}]]\n</code></pre>\n<p>As you can see, it does not deserialize the <code>row</code> elements in the <code>Person</code> POJO, but returns a <code>LinkedHashMap</code> with its value corresponding to a JSON format (<code>{name=charles, userid=1}</code>).\nIn fact, trying to cast, I get the error <code>java.lang.ClassCastException: java.util.LinkedHashMap cannot be cast to Person</code>.</p>\n<p>I know that I could use the <code>com.fasterxml.jackson.databind.ObjectMapper</code> object to deserialize the JSON in the Person POJO, but I would like to understand why using the <code>MyXmlManager&lt;T&gt;</code> class the deserialization doesn't work correctly.\nIt is as if the generic type passed to instantiate the <code>MyXmlManager</code>\nwas not correctly passed to the <code>XmlMapper.readValue</code> method.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","unit-testing","junit","ejb"],"comments":[{"owner":{"account_id":5493520,"reputation":9833,"user_id":4365460,"accept_rate":90,"display_name":"Roland Weisleder"},"score":0,"creation_date":1461136651,"post_id":36734275,"comment_id":61055532,"body_markdown":"You could add an in-memory InitialContextFactory into your tests, Example: http://stackoverflow.com/questions/3461310","body":"You could add an in-memory InitialContextFactory into your tests, Example: <a href=\"http://stackoverflow.com/questions/3461310\">stackoverflow.com/questions/3461310</a>"}],"answers":[{"tags":[],"owner":{"account_id":8019749,"reputation":587,"user_id":6048742,"display_name":"S.Stavreva"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1461136541,"creation_date":1461136541,"answer_id":36736430,"question_id":36734275,"body_markdown":"You can refactor your code and extract the initialization of the context in new method. \r\n\r\n    private void someMethod(int id1, int id2, HashMap map){\r\n        ......some code........\r\n    \r\n        Context ctx = getInitialContext();\r\n        Object ref = ctx.lookup(&quot;com.java.ejbs.MyEJB&quot;);\r\n    \r\n        EJBHome ejbHome = (EJBHome)PortableRemoteObject.narrow(ref, EJBHome.class);\r\n        EJBBean ejbBean = (EJBBean)PortableRemoteObject.narrow(ejbHome.create(), EJBBean.class);\r\n        ejbBean.someMethod(id1,name);\r\n    \r\n        .......some code.......}\r\n\r\nYour test code will be something like this:\r\n\r\n    Context mockContext = mock(Context.class);\r\n    doReturn(mockContext).when(yourclass).getInitalContext(); \r\n    ...... some code....","title":"How to mock InitialContext constructor in unit testing","body":"<p>You can refactor your code and extract the initialization of the context in new method. </p>\n\n<pre><code>private void someMethod(int id1, int id2, HashMap map){\n    ......some code........\n\n    Context ctx = getInitialContext();\n    Object ref = ctx.lookup(\"com.java.ejbs.MyEJB\");\n\n    EJBHome ejbHome = (EJBHome)PortableRemoteObject.narrow(ref, EJBHome.class);\n    EJBBean ejbBean = (EJBBean)PortableRemoteObject.narrow(ejbHome.create(), EJBBean.class);\n    ejbBean.someMethod(id1,name);\n\n    .......some code.......}\n</code></pre>\n\n<p>Your test code will be something like this:</p>\n\n<pre><code>Context mockContext = mock(Context.class);\ndoReturn(mockContext).when(yourclass).getInitalContext(); \n...... some code....\n</code></pre>\n"},{"tags":[],"owner":{"account_id":404573,"reputation":7556,"user_id":772981,"accept_rate":46,"display_name":"Jarekczek"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1691085980,"creation_date":1495367089,"answer_id":44096460,"question_id":36734275,"body_markdown":"**Handmade**\r\n\r\nAs [`InitialContext` doc](https://docs.oracle.com/javase/8/docs/api/javax/naming/InitialContext.html) says, you can provide your own factory for `InitialContext` objects, using `java.naming.factory.initial` system property. When the code runs inside application server, the system property is set by the server. In our tests, we provide our own implementation of *JNDI*.\r\n\r\nHere&#39;s my *Mockito* only solution: I defined a custom `InitialContextFactory` class, that returns a mock of `InitialContext`. You customize the mock as you wish, probably to return more mocks on `lookup` calls.\r\n\r\n    public class PlainTest {\r\n      @Mock InitialContextFactory ctx;\r\n      @InjectMocks Klasa1 klasa1;\r\n      \r\n      public static class MyContextFactory implements InitialContextFactory\r\n      {\r\n        @Override\r\n        public Context getInitialContext(Hashtable&lt;?, ?&gt; environment) throws NamingException {\r\n          ConnectionFactory mockConnFact = mock(ConnectionFactory.class);\r\n          InitialContext mockCtx = mock(InitialContext.class);\r\n          when(mockCtx.lookup(&quot;jms1&quot;)).thenReturn(mockConnFact);\r\n          return mockCtx;\r\n        }\r\n      }\r\n      \r\n      @Before\r\n      public void setupClass() throws IOException\r\n      {\r\n        MockitoAnnotations.initMocks(this);\r\n        System.setProperty(&quot;java.naming.factory.initial&quot;,\r\n          this.getClass().getCanonicalName() + &quot;$MyContextFactory&quot;);\r\n      }\r\n\r\n**Spring** before version 6 (added by *edit*)\r\n\r\nAnother edit: this is [deprecated](https://github.com/spring-projects/spring-framework/issues/22779) in 5.2 and removed in 6.0.\r\n\r\nIf you don&#39;t mind leveraging Spring Framework for testing purposes, here&#39;s their simple solution: [SimpleNamingContextBuilder](https://docs.spring.io/spring-framework/docs/5.3.29/javadoc-api/):\r\n\r\n    SimpleNamingContextBuilder builder = new SimpleNamingContextBuilder();\r\n    DataSource ds = new DriverManagerDataSource(...);\r\n    builder.bind(&quot;java:comp/env/jdbc/myds&quot;, ds);\r\n    builder.activate();\r\n\r\nIt&#39;s ok to put it in `@Before` or `@BeforeClass`. After `activate()`, jndi data will be pulled from spring dummy.","title":"How to mock InitialContext constructor in unit testing","body":"<p><strong>Handmade</strong></p>\n<p>As <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/naming/InitialContext.html\" rel=\"nofollow noreferrer\"><code>InitialContext</code> doc</a> says, you can provide your own factory for <code>InitialContext</code> objects, using <code>java.naming.factory.initial</code> system property. When the code runs inside application server, the system property is set by the server. In our tests, we provide our own implementation of <em>JNDI</em>.</p>\n<p>Here's my <em>Mockito</em> only solution: I defined a custom <code>InitialContextFactory</code> class, that returns a mock of <code>InitialContext</code>. You customize the mock as you wish, probably to return more mocks on <code>lookup</code> calls.</p>\n<pre><code>public class PlainTest {\n  @Mock InitialContextFactory ctx;\n  @InjectMocks Klasa1 klasa1;\n  \n  public static class MyContextFactory implements InitialContextFactory\n  {\n    @Override\n    public Context getInitialContext(Hashtable&lt;?, ?&gt; environment) throws NamingException {\n      ConnectionFactory mockConnFact = mock(ConnectionFactory.class);\n      InitialContext mockCtx = mock(InitialContext.class);\n      when(mockCtx.lookup(&quot;jms1&quot;)).thenReturn(mockConnFact);\n      return mockCtx;\n    }\n  }\n  \n  @Before\n  public void setupClass() throws IOException\n  {\n    MockitoAnnotations.initMocks(this);\n    System.setProperty(&quot;java.naming.factory.initial&quot;,\n      this.getClass().getCanonicalName() + &quot;$MyContextFactory&quot;);\n  }\n</code></pre>\n<p><strong>Spring</strong> before version 6 (added by <em>edit</em>)</p>\n<p>Another edit: this is <a href=\"https://github.com/spring-projects/spring-framework/issues/22779\" rel=\"nofollow noreferrer\">deprecated</a> in 5.2 and removed in 6.0.</p>\n<p>If you don't mind leveraging Spring Framework for testing purposes, here's their simple solution: <a href=\"https://docs.spring.io/spring-framework/docs/5.3.29/javadoc-api/\" rel=\"nofollow noreferrer\">SimpleNamingContextBuilder</a>:</p>\n<pre><code>SimpleNamingContextBuilder builder = new SimpleNamingContextBuilder();\nDataSource ds = new DriverManagerDataSource(...);\nbuilder.bind(&quot;java:comp/env/jdbc/myds&quot;, ds);\nbuilder.activate();\n</code></pre>\n<p>It's ok to put it in <code>@Before</code> or <code>@BeforeClass</code>. After <code>activate()</code>, jndi data will be pulled from spring dummy.</p>\n"},{"tags":[],"owner":{"account_id":2837512,"reputation":1872,"user_id":2437838,"display_name":"Ilker Cat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1533761839,"creation_date":1533761839,"answer_id":51755543,"question_id":36734275,"body_markdown":"**As of now (PowerMock 1.7.4)**   \r\n  \r\nCreate a mock using `PowerMockito.mock(InitialContext.class)` rather than `PowerMockito.createMock(InitialContext.class)`\r\n\r\n    @Test\r\n    public void connectTest() {\r\n        String jndi = &quot;jndi&quot;;\r\n        InitialContext initialContextMock = PowerMockito.mock(InitialContext.class);\r\n        ConnectionFactory connectionFactoryMock = PowerMockito.mock(ConnectionFactory.class);\r\n       \r\n        PowerMockito.whenNew(InitialContext.class).withNoArguments().thenReturn(initialContextMock);\r\n        when(initialContextMock.lookup(jndi)).thenReturn(connectionFactoryMock);  \r\n        \r\n        ...\r\n        \r\n        // Your asserts go here ...\r\n    }\r\n\r\nDo not create the InitialContext manually but *let PowerMock do it for you*. Also do not create a spy in which PowerMock expects an object. This means that you need to create the InitialContext instance.","title":"How to mock InitialContext constructor in unit testing","body":"<p><strong>As of now (PowerMock 1.7.4)</strong>   </p>\n\n<p>Create a mock using <code>PowerMockito.mock(InitialContext.class)</code> rather than <code>PowerMockito.createMock(InitialContext.class)</code></p>\n\n<pre><code>@Test\npublic void connectTest() {\n    String jndi = \"jndi\";\n    InitialContext initialContextMock = PowerMockito.mock(InitialContext.class);\n    ConnectionFactory connectionFactoryMock = PowerMockito.mock(ConnectionFactory.class);\n\n    PowerMockito.whenNew(InitialContext.class).withNoArguments().thenReturn(initialContextMock);\n    when(initialContextMock.lookup(jndi)).thenReturn(connectionFactoryMock);  \n\n    ...\n\n    // Your asserts go here ...\n}\n</code></pre>\n\n<p>Do not create the InitialContext manually but <em>let PowerMock do it for you</em>. Also do not create a spy in which PowerMock expects an object. This means that you need to create the InitialContext instance.</p>\n"},{"tags":[],"owner":{"account_id":5507279,"reputation":181,"user_id":4374793,"display_name":"Kaustav Sarkar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1576563595,"creation_date":1538138491,"answer_id":52555581,"question_id":36734275,"body_markdown":"Adding to [Jarekczek&#39;s][1] answer (Thanks for it!!). Though it is an old question I would like to share my version of it in case it helps someone. I faced the same problem and one might just want to mock IntialContext only in a IntialContextFactory implementation class and it would be a better idea to use this mocked object in other tests or base test classes to avoid duplication.\r\n\r\n    public class MyContextFactory implements InitialContextFactory { \r\n        // Poor Singleton approach. Not thread-safe (but hope you get the idea)\r\n        private static InitialContext mockInitialContext;\r\n        @Override\r\n        public Context getInitialContext(Hashtable&lt;?,?&gt; hshtbl) throws NamingException {\r\n            if(mockInitialContext == null) {\r\n                mockInitialContext = mock(InitialContext.class);\r\n            }\r\n            return mockInitialContext;\r\n        }\r\n    }\r\n\r\n    public class TestClass {\r\n        private DataSource mockDataSource;\r\n        private Connection mockConnection;\r\n\r\n        protected void mockInitialContext() throws NamingException, SQLException {\r\n            System.setProperty(&quot;java.naming.factory.initial&quot;, &quot;com.wrapper.MyContextFactory&quot;);\r\n\r\n            InitialContext mockInitialContext = (InitialContext) NamingManager.getInitialContext(System.getProperties());\r\n            mockDataSource = mock(DataSource.class);\r\n            mockConnection = mock(Connection.class);\r\n\r\n            when(mockInitialContext.lookup(anyString())).thenReturn(mockDataSource);\r\n            when(mockDataSource.getConnection()).thenReturn(mockConnection);\r\n\r\n            try {\r\n                when(mockDataSource.getConnection()).thenReturn(mockConnection);\r\n            } catch (SQLException ex) {\r\n                Logger.getLogger(CLASSNAME).log(Level.SEVERE, null, ex);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nReason behind taking this approach being if someone wants to use DataSource or any other resource provided by JNDI in a different way for different tests, you can follow this approach. There shall be just one instance created for IntialContext unless a multi-threaded test tries to access it simultaneously (don&#39;t know why would one try to do that!). That instance can be used in all places to get JNDI objects you want and use them as you want.\r\n\r\nHope this helps!\r\n\r\n*&quot;Make sure you wash your hands before every meal and avoid System.out.println while debugging for healthy lifestyle&quot;*\r\n\r\n  [1]: https://stackoverflow.com/users/772981/jarekczek","title":"How to mock InitialContext constructor in unit testing","body":"<p>Adding to <a href=\"https://stackoverflow.com/users/772981/jarekczek\">Jarekczek's</a> answer (Thanks for it!!). Though it is an old question I would like to share my version of it in case it helps someone. I faced the same problem and one might just want to mock IntialContext only in a IntialContextFactory implementation class and it would be a better idea to use this mocked object in other tests or base test classes to avoid duplication.</p>\n\n<pre><code>public class MyContextFactory implements InitialContextFactory { \n    // Poor Singleton approach. Not thread-safe (but hope you get the idea)\n    private static InitialContext mockInitialContext;\n    @Override\n    public Context getInitialContext(Hashtable&lt;?,?&gt; hshtbl) throws NamingException {\n        if(mockInitialContext == null) {\n            mockInitialContext = mock(InitialContext.class);\n        }\n        return mockInitialContext;\n    }\n}\n\npublic class TestClass {\n    private DataSource mockDataSource;\n    private Connection mockConnection;\n\n    protected void mockInitialContext() throws NamingException, SQLException {\n        System.setProperty(\"java.naming.factory.initial\", \"com.wrapper.MyContextFactory\");\n\n        InitialContext mockInitialContext = (InitialContext) NamingManager.getInitialContext(System.getProperties());\n        mockDataSource = mock(DataSource.class);\n        mockConnection = mock(Connection.class);\n\n        when(mockInitialContext.lookup(anyString())).thenReturn(mockDataSource);\n        when(mockDataSource.getConnection()).thenReturn(mockConnection);\n\n        try {\n            when(mockDataSource.getConnection()).thenReturn(mockConnection);\n        } catch (SQLException ex) {\n            Logger.getLogger(CLASSNAME).log(Level.SEVERE, null, ex);\n        }\n    }\n}\n</code></pre>\n\n<p>Reason behind taking this approach being if someone wants to use DataSource or any other resource provided by JNDI in a different way for different tests, you can follow this approach. There shall be just one instance created for IntialContext unless a multi-threaded test tries to access it simultaneously (don't know why would one try to do that!). That instance can be used in all places to get JNDI objects you want and use them as you want.</p>\n\n<p>Hope this helps!</p>\n\n<p><em>\"Make sure you wash your hands before every meal and avoid System.out.println while debugging for healthy lifestyle\"</em></p>\n"},{"tags":[],"owner":{"account_id":12578120,"reputation":41,"user_id":9149820,"display_name":"Harish M A"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624245809,"creation_date":1624245809,"answer_id":68061924,"question_id":36734275,"body_markdown":"Define the following Custom Classes\r\n\r\n    public static class CustomInitialContext extends InitialContext {\r\n\r\n\t\tHashtable&lt;String, Object&gt; ic = new Hashtable&lt;&gt;();\r\n\r\n\t\tpublic CustomInitialContext() throws NamingException {\r\n\t\t\tsuper(true);\r\n\t\t}\r\n\r\n\t\tpublic void bind(String name, Object object) {\r\n\t\t\tic.put(name, object);\r\n\t\t}\r\n\r\n\t\tpublic Object lookup(String name) throws NamingException {\r\n\t\t\treturn ic.get(name);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static class CustomInitialContextFactory implements InitialContextFactory {\r\n\t\tstatic InitialContext ic;\r\n\r\n\t\tpublic CustomInitialContextFactory() {\r\n\t\t\tif (ic == null) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tic = new CustomInitialContext();\r\n\t\t\t\t} catch (NamingException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic Context getInitialContext(Hashtable&lt;?, ?&gt; arg0) throws NamingException {\r\n\t\t\treturn ic;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static class CustomInitialContextFactoryBuilder implements InitialContextFactoryBuilder {\r\n\r\n\t\t@Override\r\n\t\tpublic InitialContextFactory createInitialContextFactory(Hashtable&lt;?, ?&gt; environment) throws NamingException {\r\n\t\t\treturn new CustomInitialContextFactory();\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\nand declare factory as \r\n\r\n    NamingManager.setInitialContextFactoryBuilder(new CustomInitialContextFactoryBuilder());","title":"How to mock InitialContext constructor in unit testing","body":"<p>Define the following Custom Classes</p>\n<pre><code>public static class CustomInitialContext extends InitialContext {\n\n    Hashtable&lt;String, Object&gt; ic = new Hashtable&lt;&gt;();\n\n    public CustomInitialContext() throws NamingException {\n        super(true);\n    }\n\n    public void bind(String name, Object object) {\n        ic.put(name, object);\n    }\n\n    public Object lookup(String name) throws NamingException {\n        return ic.get(name);\n    }\n}\n\npublic static class CustomInitialContextFactory implements InitialContextFactory {\n    static InitialContext ic;\n\n    public CustomInitialContextFactory() {\n        if (ic == null) {\n            try {\n                ic = new CustomInitialContext();\n            } catch (NamingException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    public Context getInitialContext(Hashtable&lt;?, ?&gt; arg0) throws NamingException {\n        return ic;\n    }\n}\n\npublic static class CustomInitialContextFactoryBuilder implements InitialContextFactoryBuilder {\n\n    @Override\n    public InitialContextFactory createInitialContextFactory(Hashtable&lt;?, ?&gt; environment) throws NamingException {\n        return new CustomInitialContextFactory();\n    }\n\n}\n</code></pre>\n<p>and declare factory as</p>\n<pre><code>NamingManager.setInitialContextFactoryBuilder(new CustomInitialContextFactoryBuilder());\n</code></pre>\n"}],"owner":{"account_id":5376932,"reputation":159,"user_id":4283476,"display_name":"Anushka Senarathna"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20610,"favorite_count":0,"down_vote_count":1,"up_vote_count":15,"answer_count":5,"score":14,"last_activity_date":1691085980,"creation_date":1461128745,"question_id":36734275,"body_markdown":"when I try to mock following method(Method is using remote EJB call for business logic) for the Junit test, it gives javax.naming.NoInitialContextException\r\n\r\n\r\n    private void someMethod(int id1, int id2, HashMap map){\r\n        ......some code........\r\n\r\n\t\tContext ctx = new InitialContext();\r\n        Object ref = ctx.lookup(&quot;com.java.ejbs.MyEJB&quot;);\r\n\r\n        EJBHome ejbHome = (EJBHome)PortableRemoteObject.narrow(ref, EJBHome.class);\r\n        EJBBean ejbBean = (EJBBean)PortableRemoteObject.narrow(ejbHome.create(), EJBBean.class);\r\n        ejbBean.someMethod(id1,name);\r\n\t\t\r\n\t\t.......some code.......}\r\n\r\nMy unit test for above method\r\n\r\n    @Test\r\n    public void testsomeMethod() throws Exception {\r\n\r\n        .......setting initial code...\r\n        //Mock context and JNDI\r\n\r\n        InitialContext cntxMock = PowerMock.createMock(InitialContext.class);\r\n        PowerMock.expectNew(InitialContext.class).andReturn(cntxMock);\r\n        expect(cntxMock.lookup(&quot;com.java.ejbs.MyEJB&quot;)).andReturn(refMock);               \r\n        \r\n\t\t..........some code..........\r\n\r\n\t\tPowerMock.replayAll();\r\n        Whitebox.invokeMethod(ObjectOfsomeMethodClass, &quot;someMethod&quot;, id1, id2, map);\r\n\r\n\r\n    }\r\n\r\nwhen the **Whitebox.invokeMethod(ObjectOfsomeMethodClass, &quot;someMethod&quot;, id1, id2, map)** method invokes it gives following exception.\r\n\r\n    javax.naming.NoInitialContextException: Need to specify class name in environment or system property, or as an applet parameter, or in an application resource file:  java.naming.factory.initial\r\n\tat javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:645)\r\n\tat javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:288)\r\n\tat javax.naming.InitialContext.getURLOrDefaultInitCtx(InitialContext.java:325)\r\n\tat javax.naming.InitialContext.lookup(InitialContext.java:392)\r\n\r\nI believe, although we mock the **Context** in test method, it does not use the mock object when calling **Whitebox.invokeMethod(ObjectOfsomeMethodClass, &quot;someMethod&quot;, id1, id2, map)** method, instead  of that its trying to invoke the **Context ctx = new InitialContext();** method in original method(someMethod).\r\n\r\n","title":"How to mock InitialContext constructor in unit testing","body":"<p>when I try to mock following method(Method is using remote EJB call for business logic) for the Junit test, it gives javax.naming.NoInitialContextException</p>\n\n<pre><code>private void someMethod(int id1, int id2, HashMap map){\n    ......some code........\n\n    Context ctx = new InitialContext();\n    Object ref = ctx.lookup(\"com.java.ejbs.MyEJB\");\n\n    EJBHome ejbHome = (EJBHome)PortableRemoteObject.narrow(ref, EJBHome.class);\n    EJBBean ejbBean = (EJBBean)PortableRemoteObject.narrow(ejbHome.create(), EJBBean.class);\n    ejbBean.someMethod(id1,name);\n\n    .......some code.......}\n</code></pre>\n\n<p>My unit test for above method</p>\n\n<pre><code>@Test\npublic void testsomeMethod() throws Exception {\n\n    .......setting initial code...\n    //Mock context and JNDI\n\n    InitialContext cntxMock = PowerMock.createMock(InitialContext.class);\n    PowerMock.expectNew(InitialContext.class).andReturn(cntxMock);\n    expect(cntxMock.lookup(\"com.java.ejbs.MyEJB\")).andReturn(refMock);               \n\n    ..........some code..........\n\n    PowerMock.replayAll();\n    Whitebox.invokeMethod(ObjectOfsomeMethodClass, \"someMethod\", id1, id2, map);\n\n\n}\n</code></pre>\n\n<p>when the <strong>Whitebox.invokeMethod(ObjectOfsomeMethodClass, \"someMethod\", id1, id2, map)</strong> method invokes it gives following exception.</p>\n\n<pre><code>javax.naming.NoInitialContextException: Need to specify class name in environment or system property, or as an applet parameter, or in an application resource file:  java.naming.factory.initial\nat javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:645)\nat javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:288)\nat javax.naming.InitialContext.getURLOrDefaultInitCtx(InitialContext.java:325)\nat javax.naming.InitialContext.lookup(InitialContext.java:392)\n</code></pre>\n\n<p>I believe, although we mock the <strong>Context</strong> in test method, it does not use the mock object when calling <strong>Whitebox.invokeMethod(ObjectOfsomeMethodClass, \"someMethod\", id1, id2, map)</strong> method, instead  of that its trying to invoke the <strong>Context ctx = new InitialContext();</strong> method in original method(someMethod).</p>\n"},{"tags":["java","http","talend"],"comments":[{"owner":{"account_id":7611366,"reputation":9515,"user_id":5772095,"display_name":"Skin"},"score":1,"creation_date":1691057269,"post_id":76826762,"comment_id":135441272,"body_markdown":"What component are you using?","body":"What component are you using?"}],"answers":[{"tags":[],"owner":{"account_id":7611366,"reputation":9515,"user_id":5772095,"display_name":"Skin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691061438,"creation_date":1691061438,"answer_id":76827564,"question_id":76826762,"body_markdown":"Firstly, I&#39;m surprised that your job actually builds but if you&#39;re constructing the payload via a simple string.\r\n\r\nTechnically, you should be escaping the quotes and injecting the context variables through string manipulation.\r\n\r\nWithout knowing the exact component you&#39;re using, I&#39;d be doing something like this ...\r\n\r\n    &quot;{ \\&quot;request\\&quot;: \\&quot;hkvhkvh\\&quot;, \\&quot;para\\&quot;: {\\&quot;api_auth_token\\&quot;: \\&quot;biyvglyvlyvlbhikjbvh\\&quot;, \\&quot;user_id\\&quot;: 35641, \\&quot;company_ids\\&quot;: [&quot; + context.company_ids + &quot;], \\&quot;reference_id\\&quot;: &quot; + context.reference_id + &quot; } }&quot;","title":"Unable to pass array value, which is stored in context variable in http body in talend job","body":"<p>Firstly, I'm surprised that your job actually builds but if you're constructing the payload via a simple string.</p>\n<p>Technically, you should be escaping the quotes and injecting the context variables through string manipulation.</p>\n<p>Without knowing the exact component you're using, I'd be doing something like this ...</p>\n<pre><code>&quot;{ \\&quot;request\\&quot;: \\&quot;hkvhkvh\\&quot;, \\&quot;para\\&quot;: {\\&quot;api_auth_token\\&quot;: \\&quot;biyvglyvlyvlbhikjbvh\\&quot;, \\&quot;user_id\\&quot;: 35641, \\&quot;company_ids\\&quot;: [&quot; + context.company_ids + &quot;], \\&quot;reference_id\\&quot;: &quot; + context.reference_id + &quot; } }&quot;\n</code></pre>\n"}],"owner":{"account_id":26735239,"reputation":1,"user_id":20336912,"display_name":"balakrishna"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691085786,"creation_date":1691055444,"question_id":76826762,"body_markdown":"    {\\&quot;request\\&quot;: \\&quot;hkvhkvh\\&quot;, \\&quot;para\\&quot;: {\\&quot;api_auth_token\\&quot;: \\&quot;biyvglyvlyvlbhikjbvh\\&quot;, \\&quot;user_id\\&quot;: 35641, \\&quot;company_ids\\&quot;: [30945], \\&quot;reference_id\\&quot;: \\&quot;+context.reference_id+\\&quot;}}\r\n\r\nIn above http body company_ids is array value. if we hardcoded that value we are able to fetch data but if we pass context variable instead of hardcode value like context.company_id. we getting error like bad request.\r\nkindly help me to solve this issue.\r\n\r\nI tried like this.\r\n\r\n    {\\&quot;request\\&quot;: \\&quot;hkvhkvh\\&quot;, \\&quot;para\\&quot;: {\\&quot;api_auth_token\\&quot;: \\&quot;biyvglyvlyvlbhikjbvh\\&quot;, \\&quot;user_id\\&quot;: 35641, \\&quot;company_ids\\&quot;: [context.company_ids], \\&quot;reference_id\\&quot;: \\&quot;+context.reference_id+\\&quot;} }","title":"Unable to pass array value, which is stored in context variable in http body in talend job","body":"<pre><code>{\\&quot;request\\&quot;: \\&quot;hkvhkvh\\&quot;, \\&quot;para\\&quot;: {\\&quot;api_auth_token\\&quot;: \\&quot;biyvglyvlyvlbhikjbvh\\&quot;, \\&quot;user_id\\&quot;: 35641, \\&quot;company_ids\\&quot;: [30945], \\&quot;reference_id\\&quot;: \\&quot;+context.reference_id+\\&quot;}}\n</code></pre>\n<p>In above http body company_ids is array value. if we hardcoded that value we are able to fetch data but if we pass context variable instead of hardcode value like context.company_id. we getting error like bad request.\nkindly help me to solve this issue.</p>\n<p>I tried like this.</p>\n<pre><code>{\\&quot;request\\&quot;: \\&quot;hkvhkvh\\&quot;, \\&quot;para\\&quot;: {\\&quot;api_auth_token\\&quot;: \\&quot;biyvglyvlyvlbhikjbvh\\&quot;, \\&quot;user_id\\&quot;: 35641, \\&quot;company_ids\\&quot;: [context.company_ids], \\&quot;reference_id\\&quot;: \\&quot;+context.reference_id+\\&quot;} }\n</code></pre>\n"},{"tags":["java","spring","swagger","springfox"],"answers":[{"tags":[],"owner":{"account_id":14681183,"reputation":146,"user_id":10602598,"display_name":"I.Yuldoshev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1691085297,"creation_date":1669656255,"answer_id":74604321,"question_id":74601611,"body_markdown":"Spring Boot 3 does not support `javax` packages. You should replace them with `jakarta` packages.\r\nYou can read about version 3 updates [here](https://spring.io/blog/2022/05/24/preparing-for-spring-boot-3-0).\r\nThe swagger dependency in your pom requires classes from `javax` package, that`s why it is failing.\r\n\r\nYou can try with Swagger 3:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.2.32&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nhttps://www.baeldung.com/spring-rest-openapi-documentation\r\nhttps://www.javainuse.com/spring/boot_swagger3","title":"Implementing Swagger in a Java Spring project","body":"<p>Spring Boot 3 does not support <code>javax</code> packages. You should replace them with <code>jakarta</code> packages.\nYou can read about version 3 updates <a href=\"https://spring.io/blog/2022/05/24/preparing-for-spring-boot-3-0\" rel=\"nofollow noreferrer\">here</a>.\nThe swagger dependency in your pom requires classes from <code>javax</code> package, that`s why it is failing.</p>\n<p>You can try with Swagger 3:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n    &lt;version&gt;1.2.32&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><a href=\"https://www.baeldung.com/spring-rest-openapi-documentation\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-rest-openapi-documentation</a>\n<a href=\"https://www.javainuse.com/spring/boot_swagger3\" rel=\"nofollow noreferrer\">https://www.javainuse.com/spring/boot_swagger3</a></p>\n"}],"owner":{"account_id":22749514,"reputation":123,"user_id":16909865,"display_name":"Leon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":859,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74604321,"answer_count":1,"score":0,"last_activity_date":1691085297,"creation_date":1669643492,"question_id":74601611,"body_markdown":"I want to add Swagger to my Spring application. But I can&#39;t figure out why it&#39;s not working. I found so many solutions for that but for now nothing worked for me.\r\n\r\n```java\r\n@EnableSwagger2\r\n@Configuration\r\npublic class SpringFoxConfig {\r\n\t@Bean\r\n\tpublic Docket api() {\r\n\t\treturn new Docket(DocumentationType.SWAGGER_2)\r\n\t\t\t\t.select()\r\n\t\t\t\t.apis(RequestHandlerSelectors.any())\r\n\t\t\t\t.paths(PathSelectors.any())\r\n\t\t\t\t.build();\r\n\t}\r\n}\r\n``` \r\n\r\npom.xml \r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.portfolio-generator&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;backend&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;backend&lt;/name&gt;\r\n\t&lt;description&gt;portfolio generator&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;19&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;commons-validator&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;commons-validator&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.4.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\ncurrent error:\r\n&gt;java.lang.TypeNotPresentException: Type javax.servlet.http.HttpServletRequest not present\r\n\tat java.base/sun.reflect.generics.factory.CoreReflectionFactory.makeNamedType(CoreReflectionFactory.java:117) ~[na:na]\r\n\tat java.base/sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:125) ~[na:na]\r\n\tat java.base/sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49) ~[na:na]\r\n\tat java.base/sun.reflect.generics.visitor.Reifier.reifyTypeArguments(Reifier.java:68) ~[na:na]\r\n\tat java.base/sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:138) ~[na:na]\r\n\tat java.base/sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49) ~[na:na]\r\n\tat java.base/sun.reflect.generics.repository.ClassRepository.computeSuperInterfaces(ClassRepository.java:117) ~[na:na]\r\n\tat java.base/sun.reflect.generics.repository.ClassRepository.getSuperInterfaces(ClassRepository.java:95) ~[na:na]\r\n\tat java.base/java.lang.Class.getGenericInterfaces(Class.java:1250) ~[na:na]\r\n\tat org.springframework.core.ResolvableType.getInterfaces(ResolvableType.java:500) ~[spring-core-6.0.2.jar:6.0.2]\r\n\tat org.springframework.core.ResolvableType.as(ResolvableType.java:448) ~[spring-core-6.0.2.jar:6.0.2]\r\n\tat org.springframework.core.ResolvableType.forClass(ResolvableType.java:1048) ~[spring-core-6.0.2.jar:6.0.2]\r\n\tat org.springframework.plugin.core.config.PluginRegistriesBeanDefinitionRegistrar.getTargetType(PluginRegistriesBeanDefinitionRegistrar.java:101) ~[spring-plugin-core-2.0.0.RELEASE.jar:2.0.0.RELEASE]\r\n\tat org.springframework.plugin.core.config.PluginRegistriesBeanDefinitionRegistrar.registerBeanDefinitions(PluginRegistriesBeanDefinitionRegistrar.java:71) ~[spring-plugin-core-2.0.0.RELEASE.jar:2.0.0.RELEASE]\r\n\tat org.springframework.context.annotation.ImportBeanDefinitionRegistrar.registerBeanDefinitions(ImportBeanDefinitionRegistrar.java:86) ~[spring-context-6.0.2.jar:6.0.2]\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.lambda$loadBeanDefinitionsFromRegistrars$1(ConfigurationClassBeanDefinitionReader.java:373) ~[spring-context-6.0.2.jar:6.0.2]\r\n\tat java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:729) ~[na:na]\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsFromRegistrars(ConfigurationClassBeanDefinitionReader.java:372) ~[spring-context-6.0.2.jar:6.0.2]\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:148) ~[spring-context-6.0.2.jar:6.0.2]\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:120) ~[spring-context-6.0.2.jar:6.0.2]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:409) ~[spring-context-6.0.2.jar:6.0.2]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:283) ~[spring-context-6.0.2.jar:6.0.2]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:344) ~[spring-context-6.0.2.jar:6.0.2]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:115) ~[spring-context-6.0.2.jar:6.0.2]\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:745) ~[spring-context-6.0.2.jar:6.0.2]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:565) ~[spring-context-6.0.2.jar:6.0.2]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.0.jar:3.0.0]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.0.jar:3.0.0]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.0.jar:3.0.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.0.jar:3.0.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.0.jar:3.0.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.0.jar:3.0.0]\r\n\tat com.portfoliogenerator.backend.BackendApplication.main(BackendApplication.java:11) ~[classes/:na]\r\nCaused by: java.lang.ClassNotFoundException: javax.servlet.http.HttpServletRequest\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\r\n\tat java.base/java.lang.Class.forName0(Native Method) ~[na:na]\r\n\tat java.base/java.lang.Class.forName(Class.java:495) ~[na:na]\r\n\tat java.base/java.lang.Class.forName(Class.java:474) ~[na:na]\r\n\tat java.base/sun.reflect.generics.factory.CoreReflectionFactory.makeNamedType(CoreReflectionFactory.java:114) ~[na:na]\r\n\t... 32 common frames omitted","title":"Implementing Swagger in a Java Spring project","body":"<p>I want to add Swagger to my Spring application. But I can't figure out why it's not working. I found so many solutions for that but for now nothing worked for me.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableSwagger2\n@Configuration\npublic class SpringFoxConfig {\n    @Bean\n    public Docket api() {\n        return new Docket(DocumentationType.SWAGGER_2)\n                .select()\n                .apis(RequestHandlerSelectors.any())\n                .paths(PathSelectors.any())\n                .build();\n    }\n}\n</code></pre>\n<p>pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.portfolio-generator&lt;/groupId&gt;\n    &lt;artifactId&gt;backend&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;backend&lt;/name&gt;\n    &lt;description&gt;portfolio generator&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;19&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-validator&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-validator&lt;/artifactId&gt;\n            &lt;version&gt;1.4.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>current error:</p>\n<blockquote>\n<p>java.lang.TypeNotPresentException: Type javax.servlet.http.HttpServletRequest not present\nat java.base/sun.reflect.generics.factory.CoreReflectionFactory.makeNamedType(CoreReflectionFactory.java:117) ~[na:na]\nat java.base/sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:125) ~[na:na]\nat java.base/sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49) ~[na:na]\nat java.base/sun.reflect.generics.visitor.Reifier.reifyTypeArguments(Reifier.java:68) ~[na:na]\nat java.base/sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:138) ~[na:na]\nat java.base/sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49) ~[na:na]\nat java.base/sun.reflect.generics.repository.ClassRepository.computeSuperInterfaces(ClassRepository.java:117) ~[na:na]\nat java.base/sun.reflect.generics.repository.ClassRepository.getSuperInterfaces(ClassRepository.java:95) ~[na:na]\nat java.base/java.lang.Class.getGenericInterfaces(Class.java:1250) ~[na:na]\nat org.springframework.core.ResolvableType.getInterfaces(ResolvableType.java:500) ~[spring-core-6.0.2.jar:6.0.2]\nat org.springframework.core.ResolvableType.as(ResolvableType.java:448) ~[spring-core-6.0.2.jar:6.0.2]\nat org.springframework.core.ResolvableType.forClass(ResolvableType.java:1048) ~[spring-core-6.0.2.jar:6.0.2]\nat org.springframework.plugin.core.config.PluginRegistriesBeanDefinitionRegistrar.getTargetType(PluginRegistriesBeanDefinitionRegistrar.java:101) ~[spring-plugin-core-2.0.0.RELEASE.jar:2.0.0.RELEASE]\nat org.springframework.plugin.core.config.PluginRegistriesBeanDefinitionRegistrar.registerBeanDefinitions(PluginRegistriesBeanDefinitionRegistrar.java:71) ~[spring-plugin-core-2.0.0.RELEASE.jar:2.0.0.RELEASE]\nat org.springframework.context.annotation.ImportBeanDefinitionRegistrar.registerBeanDefinitions(ImportBeanDefinitionRegistrar.java:86) ~[spring-context-6.0.2.jar:6.0.2]\nat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.lambda$loadBeanDefinitionsFromRegistrars$1(ConfigurationClassBeanDefinitionReader.java:373) ~[spring-context-6.0.2.jar:6.0.2]\nat java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:729) ~[na:na]\nat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsFromRegistrars(ConfigurationClassBeanDefinitionReader.java:372) ~[spring-context-6.0.2.jar:6.0.2]\nat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:148) ~[spring-context-6.0.2.jar:6.0.2]\nat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:120) ~[spring-context-6.0.2.jar:6.0.2]\nat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:409) ~[spring-context-6.0.2.jar:6.0.2]\nat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:283) ~[spring-context-6.0.2.jar:6.0.2]\nat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:344) ~[spring-context-6.0.2.jar:6.0.2]\nat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:115) ~[spring-context-6.0.2.jar:6.0.2]\nat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:745) ~[spring-context-6.0.2.jar:6.0.2]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:565) ~[spring-context-6.0.2.jar:6.0.2]\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.0.jar:3.0.0]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.0.jar:3.0.0]\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.0.jar:3.0.0]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.0.jar:3.0.0]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.0.jar:3.0.0]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.0.jar:3.0.0]\nat com.portfoliogenerator.backend.BackendApplication.main(BackendApplication.java:11) ~[classes/:na]\nCaused by: java.lang.ClassNotFoundException: javax.servlet.http.HttpServletRequest\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\nat java.base/java.lang.Class.forName0(Native Method) ~[na:na]\nat java.base/java.lang.Class.forName(Class.java:495) ~[na:na]\nat java.base/java.lang.Class.forName(Class.java:474) ~[na:na]\nat java.base/sun.reflect.generics.factory.CoreReflectionFactory.makeNamedType(CoreReflectionFactory.java:114) ~[na:na]\n... 32 common frames omitted</p>\n</blockquote>\n"},{"tags":["java","spring-boot","h2"],"comments":[{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":0,"creation_date":1691083815,"post_id":76830198,"comment_id":135447144,"body_markdown":"You have to exclude the h2 route within the Spring Security Filter Chain.","body":"You have to exclude the h2 route within the Spring Security Filter Chain."}],"answers":[{"tags":[],"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1691084970,"creation_date":1691084015,"answer_id":76830391,"question_id":76830198,"body_markdown":"It seems that you have Spring Security enabled but not explicitly allowed the path to your H2 endpoint.\r\n\r\nA possible SecurityFilterChain setup for H2 only (should be positioned in front of the other FilterChains via `@Order`annotation):\r\n\r\n```java\r\n@Bean\r\n@Order(5)\r\n// @Profile(&quot;development&quot;)\r\npublic SecurityFilterChain h2FilterChain(\r\n        HttpSecurity http,\r\n        @Value(&quot;${spring.h2.console.path:/h2-console}&quot;) String h2ConsolePath) throws Exception {\r\n\r\n    return http\r\n            .securityMatchers(matchers -&gt; matchers\r\n                    /* https://github.com/spring-projects/spring-security/issues/12546#issuecomment-1382891839 */\r\n                    .requestMatchers(AntPathRequestMatcher.antMatcher(h2ConsolePath + &quot;/**&quot;)))\r\n\r\n            .authorizeHttpRequests(authorize -&gt; authorize.anyRequest().permitAll())\r\n\r\n            /* The H2 console runs in a frameset. Thus, we need to set &#39;X-Frame-Options&#39; from &#39;deny&#39; to &#39;sameOrigin&#39;. */\r\n            .headers(header -&gt; header.frameOptions(HeadersConfigurer.FrameOptionsConfig::sameOrigin))\r\n\r\n            /* Otherwise login into H2 won&#39;t work. */\r\n            .csrf(CsrfConfigurer::disable)\r\n\r\n            .build()\r\n}\r\n```\r\n\r\nMake sure to set the h2-console value in the properties correctly.","title":"Failed to configure a DataSource in Spring Boot with H2 in-memory database","body":"<p>It seems that you have Spring Security enabled but not explicitly allowed the path to your H2 endpoint.</p>\n<p>A possible SecurityFilterChain setup for H2 only (should be positioned in front of the other FilterChains via <code>@Order</code>annotation):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n@Order(5)\n// @Profile(&quot;development&quot;)\npublic SecurityFilterChain h2FilterChain(\n        HttpSecurity http,\n        @Value(&quot;${spring.h2.console.path:/h2-console}&quot;) String h2ConsolePath) throws Exception {\n\n    return http\n            .securityMatchers(matchers -&gt; matchers\n                    /* https://github.com/spring-projects/spring-security/issues/12546#issuecomment-1382891839 */\n                    .requestMatchers(AntPathRequestMatcher.antMatcher(h2ConsolePath + &quot;/**&quot;)))\n\n            .authorizeHttpRequests(authorize -&gt; authorize.anyRequest().permitAll())\n\n            /* The H2 console runs in a frameset. Thus, we need to set 'X-Frame-Options' from 'deny' to 'sameOrigin'. */\n            .headers(header -&gt; header.frameOptions(HeadersConfigurer.FrameOptionsConfig::sameOrigin))\n\n            /* Otherwise login into H2 won't work. */\n            .csrf(CsrfConfigurer::disable)\n\n            .build()\n}\n</code></pre>\n<p>Make sure to set the h2-console value in the properties correctly.</p>\n"}],"owner":{"account_id":29131435,"reputation":23,"user_id":22316603,"display_name":"Bogdan Udrea"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":233,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76830391,"answer_count":1,"score":1,"last_activity_date":1691084970,"creation_date":1691082114,"question_id":76830198,"body_markdown":"I am developing a Spring Boot application with H2 as an embedded in-memory database.  I&#39;m facing an issue while trying to access the H2 console. Whenever I navigate to http://localhost:8080/h2-console, it prompts me for a username and password.\r\n\r\n\r\n**The console output:**\r\n\r\n\r\n```\r\n2023-08-03T19:41:47.901+03:00  INFO 5176 --- [           main] c.e.a.AlbacamiereaApplication            : Starting AlbacamiereaApplication using Java 17.0.5 with PID 5176 (C:\\albacamierea\\target\\classes started by Robert in C:\\albacamierea)\r\n2023-08-03T19:41:47.916+03:00  INFO 5176 --- [           main] c.e.a.AlbacamiereaApplication            : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-08-03T19:41:50.102+03:00  INFO 5176 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-08-03T19:41:50.167+03:00  INFO 5176 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 38 ms. Found 0 JPA repository interfaces.\r\n2023-08-03T19:41:51.805+03:00  INFO 5176 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2023-08-03T19:41:51.809+03:00  INFO 5176 --- [           main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [2.0.3] using APR version [1.7.2].\r\n2023-08-03T19:41:51.851+03:00  INFO 5176 --- [           main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 3.0.8 7 Feb 2023]\r\n2023-08-03T19:41:51.891+03:00  INFO 5176 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-08-03T19:41:51.892+03:00  INFO 5176 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]\r\n2023-08-03T19:41:52.247+03:00  INFO 5176 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-08-03T19:41:52.248+03:00  INFO 5176 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4149 ms\r\n2023-08-03T19:41:52.757+03:00  INFO 5176 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2023-08-03T19:41:53.629+03:00  INFO 5176 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:d48ab7e7-383a-4245-846e-d273ef5237bd user=SA\r\n2023-08-03T19:41:53.637+03:00  INFO 5176 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2023-08-03T19:41:53.884+03:00  INFO 5176 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2023-08-03T19:41:54.170+03:00  INFO 5176 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final\r\n2023-08-03T19:41:54.178+03:00  INFO 5176 --- [           main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer\r\n2023-08-03T19:41:54.854+03:00  INFO 5176 --- [           main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\r\n2023-08-03T19:41:55.528+03:00  INFO 5176 --- [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer\r\n2023-08-03T19:41:56.089+03:00  INFO 5176 --- [           main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\r\n2023-08-03T19:41:57.195+03:00  INFO 5176 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n2023-08-03T19:41:57.221+03:00  INFO 5176 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-08-03T19:41:57.358+03:00  WARN 5176 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n2023-08-03T19:41:58.582+03:00  WARN 5176 --- [           main] .s.s.UserDetailsServiceAutoConfiguration : \r\n\r\nUsing generated security password: dab22a6d-fca6-4e5d-9796-8f4d30c2c9b5\r\n```\r\n\r\n\r\nI have tried accessing the H2 console with a blank username and password, as well as with the default &quot;SA&quot; username and no password, but it still doesn&#39;t work.\r\n","title":"Failed to configure a DataSource in Spring Boot with H2 in-memory database","body":"<p>I am developing a Spring Boot application with H2 as an embedded in-memory database.  I'm facing an issue while trying to access the H2 console. Whenever I navigate to http://localhost:8080/h2-console, it prompts me for a username and password.</p>\n<p><strong>The console output:</strong></p>\n<pre><code>2023-08-03T19:41:47.901+03:00  INFO 5176 --- [           main] c.e.a.AlbacamiereaApplication            : Starting AlbacamiereaApplication using Java 17.0.5 with PID 5176 (C:\\albacamierea\\target\\classes started by Robert in C:\\albacamierea)\n2023-08-03T19:41:47.916+03:00  INFO 5176 --- [           main] c.e.a.AlbacamiereaApplication            : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-08-03T19:41:50.102+03:00  INFO 5176 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-08-03T19:41:50.167+03:00  INFO 5176 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 38 ms. Found 0 JPA repository interfaces.\n2023-08-03T19:41:51.805+03:00  INFO 5176 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-08-03T19:41:51.809+03:00  INFO 5176 --- [           main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [2.0.3] using APR version [1.7.2].\n2023-08-03T19:41:51.851+03:00  INFO 5176 --- [           main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 3.0.8 7 Feb 2023]\n2023-08-03T19:41:51.891+03:00  INFO 5176 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-08-03T19:41:51.892+03:00  INFO 5176 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]\n2023-08-03T19:41:52.247+03:00  INFO 5176 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-08-03T19:41:52.248+03:00  INFO 5176 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4149 ms\n2023-08-03T19:41:52.757+03:00  INFO 5176 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-08-03T19:41:53.629+03:00  INFO 5176 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:d48ab7e7-383a-4245-846e-d273ef5237bd user=SA\n2023-08-03T19:41:53.637+03:00  INFO 5176 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2023-08-03T19:41:53.884+03:00  INFO 5176 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-08-03T19:41:54.170+03:00  INFO 5176 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final\n2023-08-03T19:41:54.178+03:00  INFO 5176 --- [           main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer\n2023-08-03T19:41:54.854+03:00  INFO 5176 --- [           main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\n2023-08-03T19:41:55.528+03:00  INFO 5176 --- [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer\n2023-08-03T19:41:56.089+03:00  INFO 5176 --- [           main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\n2023-08-03T19:41:57.195+03:00  INFO 5176 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2023-08-03T19:41:57.221+03:00  INFO 5176 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2023-08-03T19:41:57.358+03:00  WARN 5176 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2023-08-03T19:41:58.582+03:00  WARN 5176 --- [           main] .s.s.UserDetailsServiceAutoConfiguration : \n\nUsing generated security password: dab22a6d-fca6-4e5d-9796-8f4d30c2c9b5\n</code></pre>\n<p>I have tried accessing the H2 console with a blank username and password, as well as with the default &quot;SA&quot; username and no password, but it still doesn't work.</p>\n"},{"tags":["java","soap","soap-client","wss4j"],"owner":{"account_id":12154225,"reputation":73,"user_id":8873596,"display_name":"mop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691084785,"creation_date":1691073338,"question_id":76829122,"body_markdown":"I am trying to update a project to WSS4J 2.3. The problem I have is that I am not sure how to add UsernameToken header to an existing SOAP message.\r\n\r\nI have tried the following code to generate the UsernameToken.\r\n```java\r\n    public static void addWSS(Document soap, String userName, String pwd) throws Exception {\r\n        WSSecHeader secHeader = new WSSecHeader(soap);\r\n        secHeader.setMustUnderstand(false);\r\n        secHeader.insertSecurityHeader();\r\n\r\n        WSSecUsernameToken builder = new WSSecUsernameToken(secHeader);\r\n        builder.setPasswordType(WSConstants.PASSWORD_TEXT);\r\n        builder.setUserInfo(userName, pwd);\r\n        builder.addCreated();\r\n        builder.appendToHeader();\r\n        builder.build();// I am not sure if I have to return the signed document or not and if so how to convert it back to a SOAPMessage\r\n    }\r\n```\r\n\r\nI generate the soap message with the following code:\r\n```java\r\nMessageFactory mf = MessageFactory.newInstance();\r\nSOAPMessage msg = mf.createMessage();\r\nSOAPBody body = msg.getSOAPBody();\r\n```\r\n\r\nAnd finally, I send the SOAP message:\r\n```java\r\nSOAPConnection con = SOAPConnectionFactory.newInstance().createConnection();\r\nURL url = new URL(endpoint);\r\nSOAPMessage respuesta = con.call(msg, url);\r\n```\r\n\r\nThe output message does not contain the usernametoken.","title":"Generate UsernameToken with WSS4J","body":"<p>I am trying to update a project to WSS4J 2.3. The problem I have is that I am not sure how to add UsernameToken header to an existing SOAP message.</p>\n<p>I have tried the following code to generate the UsernameToken.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void addWSS(Document soap, String userName, String pwd) throws Exception {\n        WSSecHeader secHeader = new WSSecHeader(soap);\n        secHeader.setMustUnderstand(false);\n        secHeader.insertSecurityHeader();\n\n        WSSecUsernameToken builder = new WSSecUsernameToken(secHeader);\n        builder.setPasswordType(WSConstants.PASSWORD_TEXT);\n        builder.setUserInfo(userName, pwd);\n        builder.addCreated();\n        builder.appendToHeader();\n        builder.build();// I am not sure if I have to return the signed document or not and if so how to convert it back to a SOAPMessage\n    }\n</code></pre>\n<p>I generate the soap message with the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>MessageFactory mf = MessageFactory.newInstance();\nSOAPMessage msg = mf.createMessage();\nSOAPBody body = msg.getSOAPBody();\n</code></pre>\n<p>And finally, I send the SOAP message:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SOAPConnection con = SOAPConnectionFactory.newInstance().createConnection();\nURL url = new URL(endpoint);\nSOAPMessage respuesta = con.call(msg, url);\n</code></pre>\n<p>The output message does not contain the usernametoken.</p>\n"},{"tags":["java","spring","google-app-engine","spring-mvc","validation"],"answers":[{"tags":[],"owner":{"account_id":82031,"reputation":620,"user_id":230955,"display_name":"Ichiro Furusato"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1271852030,"creation_date":1271852030,"answer_id":2682715,"question_id":2543797,"body_markdown":"Perhaps this is a bit simplistic, but have you tried adding it to your Model? I.e., include the Model in your method&#39;s arguments, then add the BindingResult to it, which is then available in your view.\r\n\r\n    model.addAttribute(&quot;binding&quot;,binding);\r\n\r\nI think you may have to use a forward rather than a redirect (in my head I can&#39;t remember if a redirect loses the session or not &amp;mdash; I could be wrong about this as I don&#39;t have any documentation handy, i.e., if you&#39;re not getting the BindingResult after adding it to the Model, try using a forward instead to confirm this).\r\n","title":"Spring - Redirect after POST (even with validation errors)","body":"<p>Perhaps this is a bit simplistic, but have you tried adding it to your Model? I.e., include the Model in your method's arguments, then add the BindingResult to it, which is then available in your view.</p>\n\n<pre><code>model.addAttribute(\"binding\",binding);\n</code></pre>\n\n<p>I think you may have to use a forward rather than a redirect (in my head I can't remember if a redirect loses the session or not &mdash; I could be wrong about this as I don't have any documentation handy, i.e., if you're not getting the BindingResult after adding it to the Model, try using a forward instead to confirm this).</p>\n"},{"tags":[],"owner":{"account_id":611340,"reputation":11,"user_id":337188,"display_name":"Lewis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1273490359,"creation_date":1273490359,"answer_id":2802164,"question_id":2543797,"body_markdown":"The problem is you&#39;re redirecting to a new controller, rather than rendering the view and returning the processed form page. You need to do something along the lines of:\r\n\r\n    String FORM_VIEW = wherever_your_form_page_resides\r\n    \r\n    ...\r\n    \r\n    if (binding.hasErrors())\r\n        return FORM_VIEW;\r\n       \r\n\r\nI would keep the paths outside of any methods due to code duplication of strings.\r\n","title":"Spring - Redirect after POST (even with validation errors)","body":"<p>The problem is you're redirecting to a new controller, rather than rendering the view and returning the processed form page. You need to do something along the lines of:</p>\n\n<pre><code>String FORM_VIEW = wherever_your_form_page_resides\n\n...\n\nif (binding.hasErrors())\n    return FORM_VIEW;\n</code></pre>\n\n<p>I would keep the paths outside of any methods due to code duplication of strings.</p>\n"},{"tags":[],"owner":{"account_id":149672,"reputation":3555,"user_id":362332,"accept_rate":76,"display_name":"klonq"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1278112514,"creation_date":1278112514,"answer_id":3169639,"question_id":2543797,"body_markdown":"The only way to persist objects between requests (ie a redirect) is to store the object in a session attribute. So you would include &quot;HttpServletRequest request&quot; in method parameters for both methods (ie, get and post) and retrieve the object via request.getAttribute(&quot;binding&quot;).  That said, and having not tried it myself you may need to figure out how to re-bind the binding to the object in the new request. \r\n\r\nAnother &quot;un-nicer&quot; way is to just change the browser URL using javascript","title":"Spring - Redirect after POST (even with validation errors)","body":"<p>The only way to persist objects between requests (ie a redirect) is to store the object in a session attribute. So you would include \"HttpServletRequest request\" in method parameters for both methods (ie, get and post) and retrieve the object via request.getAttribute(\"binding\").  That said, and having not tried it myself you may need to figure out how to re-bind the binding to the object in the new request. </p>\n\n<p>Another \"un-nicer\" way is to just change the browser URL using javascript</p>\n"},{"tags":[],"owner":{"account_id":170154,"reputation":1757,"user_id":396675,"accept_rate":73,"display_name":"rjsang"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1312990068,"creation_date":1312990068,"answer_id":7013432,"question_id":2543797,"body_markdown":"I would question why you need the redirect. Why not just submit to the same URL and have it respond differently to a POST? Nevertheless, if you really want to do this:\r\n\r\n    @RequestMapping(value = &quot;/submit&quot;, method = RequestMethod.POST)\r\n    public final String submit(\r\n        @ModelAttribute(&quot;register&quot;) @Valid final Register register,\r\n        final BindingResult binding,\r\n        HttpSession session) {\r\n    \r\n        if (binding.hasErrors()) {\r\n            session.setAttribute(&quot;register&quot;,register);\r\n            session.setAttribute(&quot;binding&quot;,binding);\r\n            return &quot;redirect:/register/create&quot;;\r\n        }\r\n    \r\n        return &quot;redirect:/register/success&quot;;\r\n    }\r\n\r\nThen in your &quot;create&quot; method:\r\n\r\n    model.put(&quot;register&quot;,session.getAttribute(&quot;register&quot;));\r\n    model.put(&quot;org.springframework.validation.BindingResult.register&quot;,session.getAttribute(&quot;register&quot;));\r\n","title":"Spring - Redirect after POST (even with validation errors)","body":"<p>I would question why you need the redirect. Why not just submit to the same URL and have it respond differently to a POST? Nevertheless, if you really want to do this:</p>\n\n<pre><code>@RequestMapping(value = \"/submit\", method = RequestMethod.POST)\npublic final String submit(\n    @ModelAttribute(\"register\") @Valid final Register register,\n    final BindingResult binding,\n    HttpSession session) {\n\n    if (binding.hasErrors()) {\n        session.setAttribute(\"register\",register);\n        session.setAttribute(\"binding\",binding);\n        return \"redirect:/register/create\";\n    }\n\n    return \"redirect:/register/success\";\n}\n</code></pre>\n\n<p>Then in your \"create\" method:</p>\n\n<pre><code>model.put(\"register\",session.getAttribute(\"register\"));\nmodel.put(\"org.springframework.validation.BindingResult.register\",session.getAttribute(\"register\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":893163,"reputation":1357,"user_id":931050,"accept_rate":59,"display_name":"Oscar"},"down_vote_count":1,"up_vote_count":80,"is_accepted":false,"score":79,"last_activity_date":1333811914,"creation_date":1333745637,"answer_id":10049138,"question_id":2543797,"body_markdown":"Since Spring 3.1 you can use RedirectAttributes. Add the attributes that you want to have available before doing the redirect. Add both, the BindingResult and the object that you are using to validate, in this case Register.\r\n\r\nFor BindingResult you will use the name: &quot;org.springframework.validation.BindingResult.[name of your ModelAttribute]&quot;.\r\n\r\nFor the object that you are using to validate you will use the name of ModelAttribute.\r\n\r\nTo use RedirectAttributes you have to add this in your config file. Among other things you are telling to Spring to use some newer classes: \r\n\r\n    &lt;mvc:annotation-driven /&gt;\r\n\r\nNow the errors will be displayed wherever you are redirecting\r\n\r\n\r\n    @RequestMapping(value = &quot;/submit&quot;, method = RequestMethod.POST)\r\n    public final String submit(@ModelAttribute(&quot;register&quot;) @Valid final Register register, final BindingResult binding, RedirectAttributes attr, HttpSession session) {\r\n\r\n    if (binding.hasErrors()) {\r\n        attr.addFlashAttribute(&quot;org.springframework.validation.BindingResult.register&quot;, binding);\r\n        attr.addFlashAttribute(&quot;register&quot;, register);\r\n        return &quot;redirect:/register/create&quot;;\r\n    }\r\n\r\n    return &quot;redirect:/register/success&quot;;\r\n    }","title":"Spring - Redirect after POST (even with validation errors)","body":"<p>Since Spring 3.1 you can use RedirectAttributes. Add the attributes that you want to have available before doing the redirect. Add both, the BindingResult and the object that you are using to validate, in this case Register.</p>\n\n<p>For BindingResult you will use the name: \"org.springframework.validation.BindingResult.[name of your ModelAttribute]\".</p>\n\n<p>For the object that you are using to validate you will use the name of ModelAttribute.</p>\n\n<p>To use RedirectAttributes you have to add this in your config file. Among other things you are telling to Spring to use some newer classes: </p>\n\n<pre><code>&lt;mvc:annotation-driven /&gt;\n</code></pre>\n\n<p>Now the errors will be displayed wherever you are redirecting</p>\n\n<pre><code>@RequestMapping(value = \"/submit\", method = RequestMethod.POST)\npublic final String submit(@ModelAttribute(\"register\") @Valid final Register register, final BindingResult binding, RedirectAttributes attr, HttpSession session) {\n\nif (binding.hasErrors()) {\n    attr.addFlashAttribute(\"org.springframework.validation.BindingResult.register\", binding);\n    attr.addFlashAttribute(\"register\", register);\n    return \"redirect:/register/create\";\n}\n\nreturn \"redirect:/register/success\";\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":985380,"reputation":7450,"user_id":1005102,"accept_rate":71,"display_name":"Utku &#214;zdemir"},"down_vote_count":0,"up_vote_count":67,"is_accepted":false,"score":67,"last_activity_date":1400544999,"creation_date":1400544999,"answer_id":23749112,"question_id":2543797,"body_markdown":"In addition to Oscar&#39;s nice answer, if you are following that `RedirectAttributes` approach, do not forget that you are actually passing the `modelAttribute` to the redirected page. This means if you create a new instance of that modelAttribute for the redirected page (in a controller), **you will lose the validation errors**. So, if your **POST** controller method is something like this:\r\n\r\n    @RequestMapping(value = &quot;/submit&quot;, method = RequestMethod.POST)\r\n    public final String submit(@ModelAttribute(&quot;register&quot;) @Valid final Register register, final BindingResult binding, RedirectAttributes attr, HttpSession session) {\r\n    \r\n    if (binding.hasErrors()) {\r\n        attr.addFlashAttribute(&quot;org.springframework.validation.BindingResult.register&quot;, binding);\r\n        attr.addFlashAttribute(&quot;register&quot;, register);\r\n        return &quot;redirect:/register/create&quot;;\r\n    }\r\n    \r\n    return &quot;redirect:/register/success&quot;;\r\n    }\r\n\r\nThen you will probably need to do a modification in your register create page **GET** controller. From this:\r\n\r\n    @RequestMapping(value = &quot;/register/create&quot;, method = RequestMethod.GET)\r\n    public String registerCreatePage(Model model) {\r\n        // some stuff\r\n        model.addAttribute(&quot;register&quot;, new Register());\r\n        // some more stuff\r\n    }\r\n\r\nto\r\n\r\n    @RequestMapping(value = &quot;/register/create&quot;, method = RequestMethod.GET)\r\n    public String registerCreatePage(Model model) {\r\n        // some stuff\r\n        if (!model.containsAttribute(&quot;register&quot;)) {\r\n            model.addAttribute(&quot;register&quot;, new Register());\r\n        }\r\n        // some more stuff\r\n    }\r\n\r\n\r\nSource: http://gerrydevstory.com/2013/07/11/preserving-validation-error-messages-on-spring-mvc-form-post-redirect-get/","title":"Spring - Redirect after POST (even with validation errors)","body":"<p>In addition to Oscar's nice answer, if you are following that <code>RedirectAttributes</code> approach, do not forget that you are actually passing the <code>modelAttribute</code> to the redirected page. This means if you create a new instance of that modelAttribute for the redirected page (in a controller), <strong>you will lose the validation errors</strong>. So, if your <strong>POST</strong> controller method is something like this:</p>\n\n<pre><code>@RequestMapping(value = \"/submit\", method = RequestMethod.POST)\npublic final String submit(@ModelAttribute(\"register\") @Valid final Register register, final BindingResult binding, RedirectAttributes attr, HttpSession session) {\n\nif (binding.hasErrors()) {\n    attr.addFlashAttribute(\"org.springframework.validation.BindingResult.register\", binding);\n    attr.addFlashAttribute(\"register\", register);\n    return \"redirect:/register/create\";\n}\n\nreturn \"redirect:/register/success\";\n}\n</code></pre>\n\n<p>Then you will probably need to do a modification in your register create page <strong>GET</strong> controller. From this:</p>\n\n<pre><code>@RequestMapping(value = \"/register/create\", method = RequestMethod.GET)\npublic String registerCreatePage(Model model) {\n    // some stuff\n    model.addAttribute(\"register\", new Register());\n    // some more stuff\n}\n</code></pre>\n\n<p>to</p>\n\n<pre><code>@RequestMapping(value = \"/register/create\", method = RequestMethod.GET)\npublic String registerCreatePage(Model model) {\n    // some stuff\n    if (!model.containsAttribute(\"register\")) {\n        model.addAttribute(\"register\", new Register());\n    }\n    // some more stuff\n}\n</code></pre>\n\n<p>Source: <a href=\"http://gerrydevstory.com/2013/07/11/preserving-validation-error-messages-on-spring-mvc-form-post-redirect-get/\" rel=\"noreferrer\">http://gerrydevstory.com/2013/07/11/preserving-validation-error-messages-on-spring-mvc-form-post-redirect-get/</a></p>\n"},{"tags":[],"owner":{"account_id":222410,"reputation":4950,"user_id":480980,"display_name":"Rossen Stoyanchev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483478280,"creation_date":1483478280,"answer_id":41452519,"question_id":2543797,"body_markdown":"I don&#39;t know the exact issue with Google App Engine but using the [ForwardedHeaderFilter](https://github.com/spring-projects/spring-framework/blob/master/spring-web/src/main/java/org/springframework/web/filter/ForwardedHeaderFilter.java) may help to preserve the original scheme that the client used. This filter was added in Spring Framework 4.3 but some Servlet containers provide similar filters and the filter is self-sufficient so you can also just grab the source if needed.","title":"Spring - Redirect after POST (even with validation errors)","body":"<p>I don't know the exact issue with Google App Engine but using the <a href=\"https://github.com/spring-projects/spring-framework/blob/master/spring-web/src/main/java/org/springframework/web/filter/ForwardedHeaderFilter.java\" rel=\"nofollow noreferrer\">ForwardedHeaderFilter</a> may help to preserve the original scheme that the client used. This filter was added in Spring Framework 4.3 but some Servlet containers provide similar filters and the filter is self-sufficient so you can also just grab the source if needed.</p>\n"},{"tags":[],"owner":{"account_id":8783701,"reputation":363,"user_id":6566531,"display_name":"tlarson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691084453,"creation_date":1691084453,"answer_id":76830434,"question_id":2543797,"body_markdown":"Here is an update to this same question for Spring/Spring Boot in 2023 (at least what is working for me with thymeleaf). Updating Utku &#214;zdemir&#39;s answer:\r\n\r\n`@Valid` will automatically perform validation before entering controller and call a `MethodArgumentNotValidException` upon failure, so you have to get rid of `@Valid` in method definition and manually use `org.springframework.validation.Validator` (that is, if you don&#39;t want to centrally handle the form errors by overwriting exceptions).\r\n\r\nAlso,`BindingResult` now has a static key (`MODEL_KEY_PREFIX`) you can call to get it&#39;s proper key name. \r\n\r\nAlso, use `org.springframework.web.servlet.view.RedirectView` instead of a string to redirect with flashAttributes.\r\n\r\n     @Autowired\r\n     Validator validator;\r\n     \r\n     @RequestMapping(value = &quot;/submit&quot;, method = RequestMethod.POST)\r\n     public final RedirectView submit(@ModelAttribute(&quot;register&quot;) final Register register, final BindingResult binding, RedirectAttributes attr, HttpSession session) {\r\n         \r\n              //Validate manually (remember to remove @Valid in method declare)\r\n              validator.validate(register, binding);\r\n        \r\n              if (binding.hasErrors()) {\r\n                   attr.addFlashAttribute(BindingResult.MODEL_KEY_PREFIX+&quot;register&quot;, binding);\r\n                   attr.addFlashAttribute(&quot;register&quot;, register);\r\n                   //remember to change return type of method from string to RedirectView\r\n                   return new RedirectView(&quot;/register/create&quot;, true);\r\n              }\r\n              //remember to change return type of method from string to RedirectView\r\n              return new RedirectView(&quot;/register/success&quot;, true);\r\n        \r\n         }\r\nFlashAttributes are automatically added to the model in the redirected method.\r\nThat goes for both the entity (Request) and the BindingErrors for the fields. However, if (for some weird reason) you need to get them from the FlashAttributes directly (instead of just the Model), you can access them using `org.springframework.web.servlet.support.RequestContextUtils` using the request. This utility is actually used for accessing custom flash attributes that you may have added in the POST because those (unlike the BindingErrors), you&#39;ll have to add manually to the model.\r\n\r\n   \r\n\r\n    @RequestMapping(value = &quot;/register/create&quot;, method = RequestMethod.GET)\r\n    public String registerCreatePage(HttpServletRequest request, Model model) {\r\n\r\n      // get the BindingResults errors from flash attributes if you want (but kind of pointless)\r\n      Map&lt;String, ?&gt; flashMap = RequestContextUtils.getInputFlashMap(request);\r\n      if (flashMap != null &amp;&amp; flashMap.containsKey(BindingResult.MODEL_KEY_PREFIX + &quot;register&quot;)) {\r\n            BindingResult fieldErrors1 = (BindingResult) flashMap.get(BindingResult.MODEL_KEY_PREFIX + &quot;register&quot;);\r\n        }\r\n      if (flashMap != null &amp;&amp; flashMap.containsKey(&quot;register&quot;)) {\r\n            Register register = (Register) flashMap.get(&quot;register&quot;);\r\n        }\r\n\r\n      // or just get it from the Model cause it was already added by the system\r\n      BindingResult fieldErrors2 = (BindingResult)model.asMap().get(BindingResult.MODEL_KEY_PREFIX+&quot;register&quot;);\r\n      Register register2 = (Register)model.asMap().get(&quot;register&quot;);  \r\n\r\n      //Or just return form cause thymeleaf or other view should find errors and model as is.\r\n    }\r\n\r\n","title":"Spring - Redirect after POST (even with validation errors)","body":"<p>Here is an update to this same question for Spring/Spring Boot in 2023 (at least what is working for me with thymeleaf). Updating Utku Özdemir's answer:</p>\n<p><code>@Valid</code> will automatically perform validation before entering controller and call a <code>MethodArgumentNotValidException</code> upon failure, so you have to get rid of <code>@Valid</code> in method definition and manually use <code>org.springframework.validation.Validator</code> (that is, if you don't want to centrally handle the form errors by overwriting exceptions).</p>\n<p>Also,<code>BindingResult</code> now has a static key (<code>MODEL_KEY_PREFIX</code>) you can call to get it's proper key name.</p>\n<p>Also, use <code>org.springframework.web.servlet.view.RedirectView</code> instead of a string to redirect with flashAttributes.</p>\n<pre><code> @Autowired\n Validator validator;\n \n @RequestMapping(value = &quot;/submit&quot;, method = RequestMethod.POST)\n public final RedirectView submit(@ModelAttribute(&quot;register&quot;) final Register register, final BindingResult binding, RedirectAttributes attr, HttpSession session) {\n     \n          //Validate manually (remember to remove @Valid in method declare)\n          validator.validate(register, binding);\n    \n          if (binding.hasErrors()) {\n               attr.addFlashAttribute(BindingResult.MODEL_KEY_PREFIX+&quot;register&quot;, binding);\n               attr.addFlashAttribute(&quot;register&quot;, register);\n               //remember to change return type of method from string to RedirectView\n               return new RedirectView(&quot;/register/create&quot;, true);\n          }\n          //remember to change return type of method from string to RedirectView\n          return new RedirectView(&quot;/register/success&quot;, true);\n    \n     }\n</code></pre>\n<p>FlashAttributes are automatically added to the model in the redirected method.\nThat goes for both the entity (Request) and the BindingErrors for the fields. However, if (for some weird reason) you need to get them from the FlashAttributes directly (instead of just the Model), you can access them using <code>org.springframework.web.servlet.support.RequestContextUtils</code> using the request. This utility is actually used for accessing custom flash attributes that you may have added in the POST because those (unlike the BindingErrors), you'll have to add manually to the model.</p>\n<pre><code>@RequestMapping(value = &quot;/register/create&quot;, method = RequestMethod.GET)\npublic String registerCreatePage(HttpServletRequest request, Model model) {\n\n  // get the BindingResults errors from flash attributes if you want (but kind of pointless)\n  Map&lt;String, ?&gt; flashMap = RequestContextUtils.getInputFlashMap(request);\n  if (flashMap != null &amp;&amp; flashMap.containsKey(BindingResult.MODEL_KEY_PREFIX + &quot;register&quot;)) {\n        BindingResult fieldErrors1 = (BindingResult) flashMap.get(BindingResult.MODEL_KEY_PREFIX + &quot;register&quot;);\n    }\n  if (flashMap != null &amp;&amp; flashMap.containsKey(&quot;register&quot;)) {\n        Register register = (Register) flashMap.get(&quot;register&quot;);\n    }\n\n  // or just get it from the Model cause it was already added by the system\n  BindingResult fieldErrors2 = (BindingResult)model.asMap().get(BindingResult.MODEL_KEY_PREFIX+&quot;register&quot;);\n  Register register2 = (Register)model.asMap().get(&quot;register&quot;);  \n\n  //Or just return form cause thymeleaf or other view should find errors and model as is.\n}\n</code></pre>\n"}],"owner":{"account_id":37019,"reputation":51344,"user_id":105744,"accept_rate":92,"display_name":"Taylor Leese"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85433,"favorite_count":0,"down_vote_count":0,"up_vote_count":73,"answer_count":8,"score":73,"last_activity_date":1691084453,"creation_date":1269938106,"question_id":2543797,"body_markdown":"I&#39;m trying to figure out how to &quot;preserve&quot; the BindingResult so it can be used in a subsequent GET via the Spring `&lt;form:errors&gt;` tag. The reason I want to do this is because of Google App Engine&#39;s SSL limitations. I have a form which is displayed via HTTP and the post is to an HTTPS URL. If I only forward rather than redirect then the user would see the https://whatever.appspot.com/my/form URL. I&#39;m trying to avoid this. Any ideas how to approach this?\r\n\r\nBelow is what I&#39;d like to do, but I only see validation errors when I use `return &quot;create&quot;`.\r\n\r\n    @RequestMapping(value = &quot;/submit&quot;, method = RequestMethod.POST)\r\n    public final String submit(\r\n        @ModelAttribute(&quot;register&quot;) @Valid final Register register,\r\n        final BindingResult binding) {\r\n    \r\n        if (binding.hasErrors()) {\r\n            return &quot;redirect:/register/create&quot;;\r\n        }\r\n    \r\n        return &quot;redirect:/register/success&quot;;\r\n    }","title":"Spring - Redirect after POST (even with validation errors)","body":"<p>I'm trying to figure out how to \"preserve\" the BindingResult so it can be used in a subsequent GET via the Spring <code>&lt;form:errors&gt;</code> tag. The reason I want to do this is because of Google App Engine's SSL limitations. I have a form which is displayed via HTTP and the post is to an HTTPS URL. If I only forward rather than redirect then the user would see the <a href=\"https://whatever.appspot.com/my/form\" rel=\"noreferrer\">https://whatever.appspot.com/my/form</a> URL. I'm trying to avoid this. Any ideas how to approach this?</p>\n\n<p>Below is what I'd like to do, but I only see validation errors when I use <code>return \"create\"</code>.</p>\n\n<pre><code>@RequestMapping(value = \"/submit\", method = RequestMethod.POST)\npublic final String submit(\n    @ModelAttribute(\"register\") @Valid final Register register,\n    final BindingResult binding) {\n\n    if (binding.hasErrors()) {\n        return \"redirect:/register/create\";\n    }\n\n    return \"redirect:/register/success\";\n}\n</code></pre>\n"},{"tags":["java","predicate","java-8","negate"],"comments":[{"owner":{"account_id":1546239,"reputation":3192,"user_id":1439733,"display_name":"Stefan Zobel"},"score":9,"creation_date":1516031369,"post_id":21488056,"comment_id":83515694,"body_markdown":"[JDK-8050818](https://bugs.openjdk.java.net/browse/JDK-8050818) covers the addition of a static `Predicate.not(Predicate)` method. But that issue is still open so we&#39;ll see this at the earliest in Java 12 (if ever).","body":"<a href=\"https://bugs.openjdk.java.net/browse/JDK-8050818\" rel=\"nofollow noreferrer\">JDK-8050818</a> covers the addition of a static <code>Predicate.not(Predicate)</code> method. But that issue is still open so we&#39;ll see this at the earliest in Java 12 (if ever)."},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":2,"creation_date":1526916378,"post_id":21488056,"comment_id":87917023,"body_markdown":"Seems like [this answer](https://stackoverflow.com/a/22492361/1746118) could be the ultimate solution adapted in JDK/11 as well.","body":"Seems like <a href=\"https://stackoverflow.com/a/22492361/1746118\">this answer</a> could be the ultimate solution adapted in JDK/11 as well."},{"owner":{"account_id":1410189,"reputation":66,"user_id":1336952,"display_name":"Mike Twain"},"score":4,"creation_date":1546901244,"post_id":21488056,"comment_id":94999284,"body_markdown":"I would really like to see a special method reference syntax for this case: s.filter(String::!isEmpty)","body":"I would really like to see a special method reference syntax for this case: s.filter(String::!isEmpty)"}],"answers":[{"tags":[],"owner":{"account_id":3093821,"reputation":53931,"user_id":3182664,"accept_rate":55,"display_name":"Marco13"},"down_vote_count":4,"up_vote_count":15,"is_accepted":false,"score":11,"last_activity_date":1400678396,"creation_date":1391195697,"answer_id":21488231,"question_id":21488056,"body_markdown":"Shouldn&#39;t [`Predicate#negate`][1] be what you are looking for?\r\n\r\n [1]: http://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html#negate--","title":"How to negate a method reference predicate","body":"<p>Shouldn't <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html#negate--\" rel=\"noreferrer\"><code>Predicate#negate</code></a> be what you are looking for?</p>\n"},{"tags":[],"owner":{"account_id":1730551,"reputation":13017,"user_id":1584255,"accept_rate":65,"display_name":"The Coordinator"},"down_vote_count":2,"up_vote_count":165,"is_accepted":false,"score":163,"last_activity_date":1500159988,"creation_date":1391313921,"answer_id":21506889,"question_id":21488056,"body_markdown":"There is a way to compose a method reference that is the opposite of a current method reference. See @vlasec&#39;s answer below that shows how by explicitly casting the method reference to a `Predicate` and then converting it using the `negate` function. That is one way among a few other not too troublesome ways to do it.\r\n\r\nThe opposite of this:\r\n\r\n    Stream&lt;String&gt; s = ...;\r\n    int emptyStrings = s.filter(String::isEmpty).count();\r\n\r\nis this:\r\n\r\n    Stream&lt;String&gt; s = ...;\r\n    int notEmptyStrings = s.filter(((Predicate&lt;String&gt;) String::isEmpty).negate()).count()\r\n\r\nor this:\r\n\r\n    Stream&lt;String&gt; s = ...;\r\n    int notEmptyStrings = s.filter( it -&gt; !it.isEmpty() ).count();\r\n\r\nPersonally, I prefer the later technique because I find it clearer to read `it -&gt; !it.isEmpty()` than a long verbose explicit cast and then negate.\r\n\r\nOne could also make a predicate and reuse it:\r\n\r\n    Predicate&lt;String&gt; notEmpty = (String it) -&gt; !it.isEmpty();\r\n    \r\n    Stream&lt;String&gt; s = ...;\r\n    int notEmptyStrings = s.filter(notEmpty).count();\r\n\r\n\r\nOr, if having a collection or array, just use a for-loop which is simple, has less overhead, and *might be **faster:\r\n\r\n    int notEmpty = 0;\r\n    for(String s : list) if(!s.isEmpty()) notEmpty++;\r\n\r\n\r\n*If you want to know what is faster, then use JMH http://openjdk.java.net/projects/code-tools/jmh, and avoid hand benchmark code unless it avoids all JVM optimizations — see https://stackoverflow.com/questions/22658322/java-8-performance-of-streams-vs-collections\r\n\r\n**I am getting flak for suggesting that the for-loop technique is faster. It eliminates a stream creation, it eliminates using another method call (negative function for predicate), and it eliminates a temporary accumulator list/counter. So a few things that are saved by the last construct that might make it faster. \r\n\r\nI do think it is simpler and nicer though, even if not faster. If the job calls for a hammer and a nail, don&#39;t bring in a chainsaw and glue! I know some of you take issue with that.\r\n\r\nwish-list: I would like to see Java `Stream` functions evolve a bit now that Java users are more familiar with them. For example, the &#39;count&#39; method in Stream could accept a `Predicate` so that this can be done directly like this:\r\n    \r\n    Stream&lt;String&gt; s = ...;\r\n    int notEmptyStrings = s.count(it -&gt; !it.isEmpty());\r\n\r\n    or\r\n\r\n    List&lt;String&gt; list = ...;\r\n    int notEmptyStrings = lists.count(it -&gt; !it.isEmpty());","title":"How to negate a method reference predicate","body":"<p>There is a way to compose a method reference that is the opposite of a current method reference. See @vlasec's answer below that shows how by explicitly casting the method reference to a <code>Predicate</code> and then converting it using the <code>negate</code> function. That is one way among a few other not too troublesome ways to do it.</p>\n\n<p>The opposite of this:</p>\n\n<pre><code>Stream&lt;String&gt; s = ...;\nint emptyStrings = s.filter(String::isEmpty).count();\n</code></pre>\n\n<p>is this:</p>\n\n<pre><code>Stream&lt;String&gt; s = ...;\nint notEmptyStrings = s.filter(((Predicate&lt;String&gt;) String::isEmpty).negate()).count()\n</code></pre>\n\n<p>or this:</p>\n\n<pre><code>Stream&lt;String&gt; s = ...;\nint notEmptyStrings = s.filter( it -&gt; !it.isEmpty() ).count();\n</code></pre>\n\n<p>Personally, I prefer the later technique because I find it clearer to read <code>it -&gt; !it.isEmpty()</code> than a long verbose explicit cast and then negate.</p>\n\n<p>One could also make a predicate and reuse it:</p>\n\n<pre><code>Predicate&lt;String&gt; notEmpty = (String it) -&gt; !it.isEmpty();\n\nStream&lt;String&gt; s = ...;\nint notEmptyStrings = s.filter(notEmpty).count();\n</code></pre>\n\n<p>Or, if having a collection or array, just use a for-loop which is simple, has less overhead, and *might be **faster:</p>\n\n<pre><code>int notEmpty = 0;\nfor(String s : list) if(!s.isEmpty()) notEmpty++;\n</code></pre>\n\n<p>*If you want to know what is faster, then use JMH <a href=\"http://openjdk.java.net/projects/code-tools/jmh\" rel=\"noreferrer\">http://openjdk.java.net/projects/code-tools/jmh</a>, and avoid hand benchmark code unless it avoids all JVM optimizations — see <a href=\"https://stackoverflow.com/questions/22658322/java-8-performance-of-streams-vs-collections\">Java 8: performance of Streams vs Collections</a></p>\n\n<p>**I am getting flak for suggesting that the for-loop technique is faster. It eliminates a stream creation, it eliminates using another method call (negative function for predicate), and it eliminates a temporary accumulator list/counter. So a few things that are saved by the last construct that might make it faster. </p>\n\n<p>I do think it is simpler and nicer though, even if not faster. If the job calls for a hammer and a nail, don't bring in a chainsaw and glue! I know some of you take issue with that.</p>\n\n<p>wish-list: I would like to see Java <code>Stream</code> functions evolve a bit now that Java users are more familiar with them. For example, the 'count' method in Stream could accept a <code>Predicate</code> so that this can be done directly like this:</p>\n\n<pre><code>Stream&lt;String&gt; s = ...;\nint notEmptyStrings = s.count(it -&gt; !it.isEmpty());\n\nor\n\nList&lt;String&gt; list = ...;\nint notEmptyStrings = lists.count(it -&gt; !it.isEmpty());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1333530,"reputation":2650,"user_id":1276828,"display_name":"davidillsley"},"down_vote_count":0,"up_vote_count":249,"is_accepted":false,"score":249,"last_activity_date":1575985091,"creation_date":1395181568,"answer_id":22492361,"question_id":21488056,"body_markdown":"I&#39;m planning to static import the following to allow for the method reference to be used inline: \r\n\r\n    public static &lt;T&gt; Predicate&lt;T&gt; not(Predicate&lt;T&gt; t) {\r\n        return t.negate();\r\n    }\r\n\r\ne.g.\r\n\r\n    Stream&lt;String&gt; s = ...;\r\n    long nonEmptyStrings = s.filter(not(String::isEmpty)).count();\r\n\r\n\r\n***Update***: Starting from Java-11, the JDK offers a [similar solution](https://bugs.openjdk.java.net/browse/JDK-8203428) built-in as well.","title":"How to negate a method reference predicate","body":"<p>I'm planning to static import the following to allow for the method reference to be used inline: </p>\n\n<pre><code>public static &lt;T&gt; Predicate&lt;T&gt; not(Predicate&lt;T&gt; t) {\n    return t.negate();\n}\n</code></pre>\n\n<p>e.g.</p>\n\n<pre><code>Stream&lt;String&gt; s = ...;\nlong nonEmptyStrings = s.filter(not(String::isEmpty)).count();\n</code></pre>\n\n<p><strong><em>Update</em></strong>: Starting from Java-11, the JDK offers a <a href=\"https://bugs.openjdk.java.net/browse/JDK-8203428\" rel=\"noreferrer\">similar solution</a> built-in as well.</p>\n"},{"tags":[],"owner":{"account_id":3069662,"reputation":7424,"user_id":2600638,"display_name":"Jose Alban"},"down_vote_count":0,"up_vote_count":52,"is_accepted":false,"score":52,"last_activity_date":1427924226,"creation_date":1427924226,"answer_id":29401301,"question_id":21488056,"body_markdown":"Building on other&#39;s answers and personal experience:\r\n\r\n    Predicate&lt;String&gt; blank = String::isEmpty;\r\n    content.stream()\r\n           .filter(blank.negate())","title":"How to negate a method reference predicate","body":"<p>Building on other's answers and personal experience:</p>\n\n<pre><code>Predicate&lt;String&gt; blank = String::isEmpty;\ncontent.stream()\n       .filter(blank.negate())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":372736,"reputation":2561,"user_id":721956,"accept_rate":54,"display_name":"Askar Kalykov"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1432710202,"creation_date":1432710202,"answer_id":30475342,"question_id":21488056,"body_markdown":"Another option is to utilize lambda casting in non-ambiguous contexts into one class:\r\n\r\n    public static class Lambdas {\r\n        public static &lt;T&gt; Predicate&lt;T&gt; as(Predicate&lt;T&gt; predicate){\r\n            return predicate;\r\n        }\r\n    \r\n        public static &lt;T&gt; Consumer&lt;T&gt; as(Consumer&lt;T&gt; consumer){\r\n            return consumer;\r\n        }\r\n    \r\n        public static &lt;T&gt; Supplier&lt;T&gt; as(Supplier&lt;T&gt; supplier){\r\n            return supplier;\r\n        }\r\n    \r\n        public static &lt;T, R&gt; Function&lt;T, R&gt; as(Function&lt;T, R&gt; function){\r\n            return function;\r\n        }\r\n    \r\n    }\r\n\r\n... and then static import the utility class:\r\n\r\n    stream.filter(as(String::isEmpty).negate())","title":"How to negate a method reference predicate","body":"<p>Another option is to utilize lambda casting in non-ambiguous contexts into one class:</p>\n\n<pre><code>public static class Lambdas {\n    public static &lt;T&gt; Predicate&lt;T&gt; as(Predicate&lt;T&gt; predicate){\n        return predicate;\n    }\n\n    public static &lt;T&gt; Consumer&lt;T&gt; as(Consumer&lt;T&gt; consumer){\n        return consumer;\n    }\n\n    public static &lt;T&gt; Supplier&lt;T&gt; as(Supplier&lt;T&gt; supplier){\n        return supplier;\n    }\n\n    public static &lt;T, R&gt; Function&lt;T, R&gt; as(Function&lt;T, R&gt; function){\n        return function;\n    }\n\n}\n</code></pre>\n\n<p>... and then static import the utility class:</p>\n\n<pre><code>stream.filter(as(String::isEmpty).negate())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2243116,"reputation":5530,"user_id":1977151,"accept_rate":40,"display_name":"Vlasec"},"down_vote_count":0,"up_vote_count":98,"is_accepted":false,"score":98,"last_activity_date":1672042162,"creation_date":1432816000,"answer_id":30506585,"question_id":21488056,"body_markdown":"`Predicate` has methods `and`, `or` and `negate`.\r\n\r\nHowever, `String::isEmpty` is not a `Predicate`, it&#39;s just a `String -&gt; Boolean` lambda and it could still become anything, e.g. `Function&lt;String, Boolean&gt;`. **Type inference** is what needs to happen first. The `filter` method infers type **implicitly**. But if you negate it before passing it as an argument, it no longer happens. As @axtavt mentioned, **explicit** inference can be used as an ugly way:\r\n\r\n    s.filter(((Predicate&lt;String&gt;) String::isEmpty).negate()).count()\r\n\r\nThere are other ways advised in other answers, with static `not` method and lambda most likely being the best ideas. *This concludes the **tl;dr** section.*\r\n\r\n---\r\n\r\nHowever, if you want some deeper understanding of lambda type inference, I&#39;d like to explain it a bit more to depth, using examples. Look at these and try to figure out what happens:\r\n\r\n    Object obj1                  = String::isEmpty;\r\n    Predicate&lt;String&gt; p1         = s -&gt; s.isEmpty();\r\n    Function&lt;String, Boolean&gt; f1 = String::isEmpty;\r\n    Object obj2                  = p1;\r\n    Function&lt;String, Boolean&gt; f2 = (Function&lt;String, Boolean&gt;) obj2;\r\n    Function&lt;String, Boolean&gt; f3 = p1::test;\r\n    Predicate&lt;Integer&gt; p2        = s -&gt; s.isEmpty();\r\n    Predicate&lt;Integer&gt; p3        = String::isEmpty;\r\n\r\n* obj1 doesn&#39;t compile - lambdas need to infer a functional interface (= with one abstract method)\r\n* p1 and f1 work just fine, each inferring a different type\r\n* obj2 casts a `Predicate` to `Object` - silly but valid\r\n* f2 fails at runtime - you cannot cast `Predicate` to `Function`, it&#39;s no longer about inference\r\n* f3 works - you call the predicate&#39;s method `test` that is defined by its lambda\r\n* p2 doesn&#39;t compile - `Integer` doesn&#39;t have `isEmpty` method\r\n* p3 doesn&#39;t compile either - there is no `String::isEmpty` static method with `Integer` argument","title":"How to negate a method reference predicate","body":"<p><code>Predicate</code> has methods <code>and</code>, <code>or</code> and <code>negate</code>.</p>\n<p>However, <code>String::isEmpty</code> is not a <code>Predicate</code>, it's just a <code>String -&gt; Boolean</code> lambda and it could still become anything, e.g. <code>Function&lt;String, Boolean&gt;</code>. <strong>Type inference</strong> is what needs to happen first. The <code>filter</code> method infers type <strong>implicitly</strong>. But if you negate it before passing it as an argument, it no longer happens. As @axtavt mentioned, <strong>explicit</strong> inference can be used as an ugly way:</p>\n<pre><code>s.filter(((Predicate&lt;String&gt;) String::isEmpty).negate()).count()\n</code></pre>\n<p>There are other ways advised in other answers, with static <code>not</code> method and lambda most likely being the best ideas. <em>This concludes the <strong>tl;dr</strong> section.</em></p>\n<hr />\n<p>However, if you want some deeper understanding of lambda type inference, I'd like to explain it a bit more to depth, using examples. Look at these and try to figure out what happens:</p>\n<pre><code>Object obj1                  = String::isEmpty;\nPredicate&lt;String&gt; p1         = s -&gt; s.isEmpty();\nFunction&lt;String, Boolean&gt; f1 = String::isEmpty;\nObject obj2                  = p1;\nFunction&lt;String, Boolean&gt; f2 = (Function&lt;String, Boolean&gt;) obj2;\nFunction&lt;String, Boolean&gt; f3 = p1::test;\nPredicate&lt;Integer&gt; p2        = s -&gt; s.isEmpty();\nPredicate&lt;Integer&gt; p3        = String::isEmpty;\n</code></pre>\n<ul>\n<li>obj1 doesn't compile - lambdas need to infer a functional interface (= with one abstract method)</li>\n<li>p1 and f1 work just fine, each inferring a different type</li>\n<li>obj2 casts a <code>Predicate</code> to <code>Object</code> - silly but valid</li>\n<li>f2 fails at runtime - you cannot cast <code>Predicate</code> to <code>Function</code>, it's no longer about inference</li>\n<li>f3 works - you call the predicate's method <code>test</code> that is defined by its lambda</li>\n<li>p2 doesn't compile - <code>Integer</code> doesn't have <code>isEmpty</code> method</li>\n<li>p3 doesn't compile either - there is no <code>String::isEmpty</code> static method with <code>Integer</code> argument</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4970207,"reputation":290,"user_id":3998278,"display_name":"Per-&#197;ke Minborg"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1454024810,"creation_date":1454024810,"answer_id":35074360,"question_id":21488056,"body_markdown":"I have written a complete utility class (inspired by Askar&#39;s proposal) that can take Java 8 lambda expression and turn them (if applicable) into any typed standard Java 8 lambda defined in the package ```java.util.function```. You can for example do:\r\n\r\n- ```asPredicate(String::isEmpty).negate()```\r\n- ```asBiPredicate(String::equals).negate()```\r\n\r\nBecause there would be numerous ambiguities if all the static methods would be named just ```as() ```, I opted to call the method &quot;as&quot; followed by the returned type. This gives us full control of the lambda interpretation. Below is the first part of the (somewhat large) utility class revealing the pattern used. \r\n\r\nHave a look at the [complete class here][1] (at gist).\r\n\r\n\r\n\r\n    public class FunctionCastUtil {\r\n\r\n        public static &lt;T, U&gt; BiConsumer&lt;T, U&gt; asBiConsumer(BiConsumer&lt;T, U&gt; biConsumer) {\r\n            return biConsumer;\r\n        }\r\n\r\n        public static &lt;T, U, R&gt; BiFunction&lt;T, U, R&gt; asBiFunction(BiFunction&lt;T, U, R&gt; biFunction) {\r\n            return biFunction;\r\n        }\r\n\r\n         public static &lt;T&gt; BinaryOperator&lt;T&gt; asBinaryOperator(BinaryOperator&lt;T&gt; binaryOperator) {\r\n            return binaryOperator;\r\n        }\r\n\r\n        ... and so on...\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://gist.github.com/minborg/0bcaaf77945788722991","title":"How to negate a method reference predicate","body":"<p>I have written a complete utility class (inspired by Askar's proposal) that can take Java 8 lambda expression and turn them (if applicable) into any typed standard Java 8 lambda defined in the package <code>java.util.function</code>. You can for example do:</p>\n\n<ul>\n<li><code>asPredicate(String::isEmpty).negate()</code></li>\n<li><code>asBiPredicate(String::equals).negate()</code></li>\n</ul>\n\n<p>Because there would be numerous ambiguities if all the static methods would be named just <code>as()</code>, I opted to call the method \"as\" followed by the returned type. This gives us full control of the lambda interpretation. Below is the first part of the (somewhat large) utility class revealing the pattern used. </p>\n\n<p>Have a look at the <a href=\"https://gist.github.com/minborg/0bcaaf77945788722991\" rel=\"nofollow\">complete class here</a> (at gist).</p>\n\n<pre><code>public class FunctionCastUtil {\n\n    public static &lt;T, U&gt; BiConsumer&lt;T, U&gt; asBiConsumer(BiConsumer&lt;T, U&gt; biConsumer) {\n        return biConsumer;\n    }\n\n    public static &lt;T, U, R&gt; BiFunction&lt;T, U, R&gt; asBiFunction(BiFunction&lt;T, U, R&gt; biFunction) {\n        return biFunction;\n    }\n\n     public static &lt;T&gt; BinaryOperator&lt;T&gt; asBinaryOperator(BinaryOperator&lt;T&gt; binaryOperator) {\n        return binaryOperator;\n    }\n\n    ... and so on...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6722754,"reputation":1152,"user_id":5182052,"display_name":"Nikhil Nanivadekar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1459037496,"creation_date":1459037496,"answer_id":36242382,"question_id":21488056,"body_markdown":"You can use [Predicates][1] from [Eclipse Collections][2]\r\n\r\n    MutableList&lt;String&gt; strings = Lists.mutable.empty();\r\n    int nonEmptyStrings = strings.count(Predicates.not(String::isEmpty));\r\n\r\nIf you can&#39;t change the strings from `List`:\r\n\r\n    List&lt;String&gt; strings = new ArrayList&lt;&gt;();\r\n    int nonEmptyStrings = ListAdapter.adapt(strings).count(Predicates.not(String::isEmpty));\r\n\r\nIf you only need a negation of `String.isEmpty()` you can also use `StringPredicates.notEmpty()`.\r\n\r\nNote: I am a contributor to Eclipse Collections.\r\n\r\n  [1]: http://www.eclipse.org/collections/javadoc/7.0.0/org/eclipse/collections/impl/block/factory/Predicates.html\r\n  [2]: http://www.eclipse.org/collections/","title":"How to negate a method reference predicate","body":"<p>You can use <a href=\"http://www.eclipse.org/collections/javadoc/7.0.0/org/eclipse/collections/impl/block/factory/Predicates.html\" rel=\"nofollow\">Predicates</a> from <a href=\"http://www.eclipse.org/collections/\" rel=\"nofollow\">Eclipse Collections</a></p>\n\n<pre><code>MutableList&lt;String&gt; strings = Lists.mutable.empty();\nint nonEmptyStrings = strings.count(Predicates.not(String::isEmpty));\n</code></pre>\n\n<p>If you can't change the strings from <code>List</code>:</p>\n\n<pre><code>List&lt;String&gt; strings = new ArrayList&lt;&gt;();\nint nonEmptyStrings = ListAdapter.adapt(strings).count(Predicates.not(String::isEmpty));\n</code></pre>\n\n<p>If you only need a negation of <code>String.isEmpty()</code> you can also use <code>StringPredicates.notEmpty()</code>.</p>\n\n<p>Note: I am a contributor to Eclipse Collections.</p>\n"},{"tags":[],"owner":{"account_id":544436,"reputation":594,"user_id":913887,"accept_rate":83,"display_name":"outofBounds"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1476972412,"creation_date":1476972412,"answer_id":40156795,"question_id":21488056,"body_markdown":"In this case u could use the `org.apache.commons.lang3.StringUtils`and do\r\n\r\n    int nonEmptyStrings = s.filter(StringUtils::isNotEmpty).count();\r\n","title":"How to negate a method reference predicate","body":"<p>In this case u could use the <code>org.apache.commons.lang3.StringUtils</code>and do</p>\n\n<pre><code>int nonEmptyStrings = s.filter(StringUtils::isNotEmpty).count();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8598286,"reputation":11087,"user_id":6440704,"display_name":"Anton Balaniuc"},"down_vote_count":5,"up_vote_count":427,"is_accepted":true,"score":422,"last_activity_date":1592312994,"creation_date":1532080734,"answer_id":51439995,"question_id":21488056,"body_markdown":"# `Predicate.not( … )`\r\n\r\n[tag:java-11] offers a new method [Predicate#not][1]\r\n\r\nSo you can negate the method reference:\r\n\r\n    Stream&lt;String&gt; s = ...;\r\n    long nonEmptyStrings = s.filter(Predicate.not(String::isEmpty)).count();\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/Predicate.html#not(java.util.function.Predicate)","title":"How to negate a method reference predicate","body":"<h1><code>Predicate.not( … )</code></h1>\n\n<p><a href=\"/questions/tagged/java-11\" class=\"post-tag\" title=\"show questions tagged &#39;java-11&#39;\" rel=\"tag\">java-11</a> offers a new method <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/Predicate.html#not(java.util.function.Predicate)\" rel=\"noreferrer\">Predicate#not</a></p>\n\n<p>So you can negate the method reference:</p>\n\n<pre><code>Stream&lt;String&gt; s = ...;\nlong nonEmptyStrings = s.filter(Predicate.not(String::isEmpty)).count();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3113372,"reputation":2010,"user_id":2634690,"display_name":"Gilad Peleg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537871674,"creation_date":1537871674,"answer_id":52496105,"question_id":21488056,"body_markdown":"If you&#39;re using Spring Boot (2.0.0+) you can use:\r\n\r\n    import org.springframework.util.StringUtils;\r\n\r\n    ...\r\n    .filter(StringUtils::hasLength)\r\n    ...\r\n\r\n\r\nWhich does:\r\n`return (str != null &amp;&amp; !str.isEmpty());`\r\n\r\nSo it will have the required negation effect for `isEmpty`","title":"How to negate a method reference predicate","body":"<p>If you're using Spring Boot (2.0.0+) you can use:</p>\n\n<pre><code>import org.springframework.util.StringUtils;\n\n...\n.filter(StringUtils::hasLength)\n...\n</code></pre>\n\n<p>Which does:\n<code>return (str != null &amp;&amp; !str.isEmpty());</code></p>\n\n<p>So it will have the required negation effect for <code>isEmpty</code></p>\n"},{"tags":[],"owner":{"account_id":7764804,"reputation":11,"user_id":5876298,"display_name":"Narsi Reddy Nallamilli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1538138209,"creation_date":1538137776,"answer_id":52555376,"question_id":21488056,"body_markdown":"You can accomplish this as long `emptyStrings = s.filter(s-&gt;!s.isEmpty()).count();`","title":"How to negate a method reference predicate","body":"<p>You can accomplish this as long <code>emptyStrings = s.filter(s-&gt;!s.isEmpty()).count();</code></p>\n"},{"tags":[],"owner":{"account_id":9925790,"reputation":101,"user_id":7347433,"display_name":"gomn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654181377,"creation_date":1654181377,"answer_id":72478183,"question_id":21488056,"body_markdown":"Tip: to negate a `collection.stream().anyMatch(...)`, one can use `collection.stream().noneMatch(...)`","title":"How to negate a method reference predicate","body":"<p>Tip: to negate a <code>collection.stream().anyMatch(...)</code>, one can use <code>collection.stream().noneMatch(...)</code></p>\n"},{"tags":[],"owner":{"account_id":92486,"reputation":45185,"user_id":253468,"accept_rate":79,"display_name":"TWiStErRob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691083485,"creation_date":1691072268,"answer_id":76828982,"question_id":21488056,"body_markdown":"Since this ranks highest on Google for Kotlin too (&quot;kotlin negate function reference&quot;), I&#39;ll post an answer here:\r\n\r\n```kotlin\r\nimport kotlin.reflect.KFunction1\r\n\r\n/**\r\n * Kotlin version of [java.util.function.Predicate.negate] for functional types.\r\n *\r\n * Example:\r\n * ```\r\n * val isX: X -&gt; Boolean = ...\r\n * val isNotX = !isX\r\n * val isNotX = isX.not()\r\n * ```\r\n */\r\noperator fun &lt;T&gt; ((T) -&gt; Boolean).not(): (T) -&gt; Boolean =\r\n\t{ !this(it) }\r\n\r\n/**\r\n * Kotlin version of [java.util.function.Predicate.negate] for method references.\r\n *\r\n * Example:\r\n * ```\r\n * fun isX(x: X): Boolean = ...\r\n * val isNotX = !::isX\r\n * ```\r\n */\r\noperator fun &lt;T&gt; KFunction1&lt;T, Boolean&gt;.not(): KFunction1&lt;T, Boolean&gt; =\r\n\t{ it: T -&gt; !this(it) }::invoke\r\n\r\n/**\r\n * Kotlin version of [java.util.function.Predicate.or] for functional types.\r\n */\r\ninfix fun &lt;T&gt; ((T) -&gt; Boolean).or(other: (T) -&gt; Boolean): (T) -&gt; Boolean =\r\n\t{ this(it) || other(it) }\r\n\r\n/**\r\n * Kotlin version of [java.util.function.Predicate.or] for method references.\r\n */\r\ninfix fun &lt;T&gt; KFunction1&lt;T, Boolean&gt;.or(other: KFunction1&lt;T, Boolean&gt;): KFunction1&lt;T, Boolean&gt; =\r\n\t{ it: T -&gt; this(it) || other(it) }::invoke\r\n\r\n/**\r\n * Kotlin version of [java.util.function.Predicate.and] for functional types.\r\n */\r\ninfix fun &lt;T&gt; ((T) -&gt; Boolean).and(other: (T) -&gt; Boolean): (T) -&gt; Boolean =\r\n\t{ this(it) &amp;&amp; other(it) }\r\n\r\n/**\r\n * Kotlin version of [java.util.function.Predicate.and] for method references.\r\n */\r\ninfix fun &lt;T&gt; KFunction1&lt;T, Boolean&gt;.and(other: KFunction1&lt;T, Boolean&gt;): KFunction1&lt;T, Boolean&gt; =\r\n\t{ it: T -&gt; this(it) &amp;&amp; other(it) }::invoke\r\n```\r\n\r\nI&#39;m not aware these being in stdlib, maybe they exist in some library already. Hope this helps someone in the future as the syntax was non-trivial to come up with.","title":"How to negate a method reference predicate","body":"<p>Since this ranks highest on Google for Kotlin too (&quot;kotlin negate function reference&quot;), I'll post an answer here:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import kotlin.reflect.KFunction1\n\n/**\n * Kotlin version of [java.util.function.Predicate.negate] for functional types.\n *\n * Example:\n * ```\n * val isX: X -&gt; Boolean = ...\n * val isNotX = !isX\n * val isNotX = isX.not()\n * ```\n */\noperator fun &lt;T&gt; ((T) -&gt; Boolean).not(): (T) -&gt; Boolean =\n    { !this(it) }\n\n/**\n * Kotlin version of [java.util.function.Predicate.negate] for method references.\n *\n * Example:\n * ```\n * fun isX(x: X): Boolean = ...\n * val isNotX = !::isX\n * ```\n */\noperator fun &lt;T&gt; KFunction1&lt;T, Boolean&gt;.not(): KFunction1&lt;T, Boolean&gt; =\n    { it: T -&gt; !this(it) }::invoke\n\n/**\n * Kotlin version of [java.util.function.Predicate.or] for functional types.\n */\ninfix fun &lt;T&gt; ((T) -&gt; Boolean).or(other: (T) -&gt; Boolean): (T) -&gt; Boolean =\n    { this(it) || other(it) }\n\n/**\n * Kotlin version of [java.util.function.Predicate.or] for method references.\n */\ninfix fun &lt;T&gt; KFunction1&lt;T, Boolean&gt;.or(other: KFunction1&lt;T, Boolean&gt;): KFunction1&lt;T, Boolean&gt; =\n    { it: T -&gt; this(it) || other(it) }::invoke\n\n/**\n * Kotlin version of [java.util.function.Predicate.and] for functional types.\n */\ninfix fun &lt;T&gt; ((T) -&gt; Boolean).and(other: (T) -&gt; Boolean): (T) -&gt; Boolean =\n    { this(it) &amp;&amp; other(it) }\n\n/**\n * Kotlin version of [java.util.function.Predicate.and] for method references.\n */\ninfix fun &lt;T&gt; KFunction1&lt;T, Boolean&gt;.and(other: KFunction1&lt;T, Boolean&gt;): KFunction1&lt;T, Boolean&gt; =\n    { it: T -&gt; this(it) &amp;&amp; other(it) }::invoke\n</code></pre>\n<p>I'm not aware these being in stdlib, maybe they exist in some library already. Hope this helps someone in the future as the syntax was non-trivial to come up with.</p>\n"}],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243140,"favorite_count":0,"down_vote_count":0,"up_vote_count":479,"accepted_answer_id":51439995,"answer_count":14,"score":479,"last_activity_date":1691083485,"creation_date":1391195048,"question_id":21488056,"body_markdown":"In Java 8, you can use a method reference to filter a stream, for example:\r\n\r\n    Stream&lt;String&gt; s = ...;\r\n    long emptyStrings = s.filter(String::isEmpty).count();\r\n\r\nIs there a way to create a method reference that is the negation of an existing one, i.e. something like:\r\n\r\n    long nonEmptyStrings = s.filter(not(String::isEmpty)).count();\r\n\r\nI could create the `not` method like below but I was wondering if the JDK offered something similar.\r\n\r\n    static &lt;T&gt; Predicate&lt;T&gt; not(Predicate&lt;T&gt; p) { return o -&gt; !p.test(o); }","title":"How to negate a method reference predicate","body":"<p>In Java 8, you can use a method reference to filter a stream, for example:</p>\n\n<pre><code>Stream&lt;String&gt; s = ...;\nlong emptyStrings = s.filter(String::isEmpty).count();\n</code></pre>\n\n<p>Is there a way to create a method reference that is the negation of an existing one, i.e. something like:</p>\n\n<pre><code>long nonEmptyStrings = s.filter(not(String::isEmpty)).count();\n</code></pre>\n\n<p>I could create the <code>not</code> method like below but I was wondering if the JDK offered something similar.</p>\n\n<pre><code>static &lt;T&gt; Predicate&lt;T&gt; not(Predicate&lt;T&gt; p) { return o -&gt; !p.test(o); }\n</code></pre>\n"},{"tags":["java","java-text-blocks"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1691075764,"post_id":76829449,"comment_id":135445433,"body_markdown":"`String.split(text, &quot;\\n&quot;)`. Then again by &quot;:&quot; to get your key/value pairs.","body":"<code>String.split(text, &quot;\\n&quot;)</code>. Then again by &quot;:&quot; to get your key/value pairs."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1691076118,"post_id":76829449,"comment_id":135445507,"body_markdown":"@Jorn you probably meant `text.split(&quot;\\n&quot;)` (or even `text.split(&quot;\\n&quot;, -1)`)","body":"@Jorn you probably meant <code>text.split(&quot;\\n&quot;)</code> (or even <code>text.split(&quot;\\n&quot;, -1)</code>)"},{"owner":{"account_id":26632345,"reputation":90,"user_id":20249350,"display_name":"Hassen Gaaya"},"score":0,"creation_date":1691076143,"post_id":76829449,"comment_id":135445516,"body_markdown":"Thanks you both, i found also that i could use `text.split(System.lineSeparator())` to make it more generic","body":"Thanks you both, i found also that i could use <code>text.split(System.lineSeparator())</code> to make it more generic"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1691076153,"post_id":76829449,"comment_id":135445521,"body_markdown":"@user16320675 Could be! Since I switched to Kotlin, I never remember what in the Java stdlib is static and what isn&#39;t.","body":"@user16320675 Could be! Since I switched to Kotlin, I never remember what in the Java stdlib is static and what isn&#39;t."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1691076223,"post_id":76829449,"comment_id":135445536,"body_markdown":"alternatives: `text.lines().toArray()` or `text.lines().toList()`","body":"alternatives: <code>text.lines().toArray()</code> or <code>text.lines().toList()</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691078838,"post_id":76829449,"comment_id":135446121,"body_markdown":"You need to be a little careful of indentation with text blocks, so you might be safer with something like `String [] splitTextBlock = textblock.lines().map(String::trim).toArray(String[]::new);`","body":"You need to be a little careful of indentation with text blocks, so you might be safer with something like <code>String [] splitTextBlock = textblock.lines().map(String::trim).toArray(String[]::new);</code>"},{"owner":{"account_id":26632345,"reputation":90,"user_id":20249350,"display_name":"Hassen Gaaya"},"score":0,"creation_date":1691246664,"post_id":76829449,"comment_id":135467634,"body_markdown":"@karl-knechtel, unfortunately, it doesn&#39;t answer how to split by line separator","body":"@karl-knechtel, unfortunately, it doesn&#39;t answer how to split by line separator"}],"answers":[{"tags":[],"owner":{"account_id":92073,"reputation":1,"user_id":252518,"accept_rate":71,"display_name":"Freeman"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1691076307,"creation_date":1691076307,"answer_id":76829532,"question_id":76829449,"body_markdown":"check this out:\r\n\r\n    String textblock = &quot;&quot;&quot;\r\n            A : 111\r\n            B : 111\r\n            C : 1111\r\n            &quot;&quot;&quot;;\r\n    \r\n    String[] splitedTextBlock = textblock.split(&quot;\\\\R&quot;);\r\n    \r\n    for (String line : splitedTextBlock) {\r\n        System.out.println(line);\r\n    }\r\n\r\n- the `split(&quot;\\\\R&quot;)` method is used to split the text block by lines\r\n- the `\\\\R` regular expression pattern matches any line break, including different line break sequences like `\\n` or `\\r\\n`","title":"How to split a java text block by lines?","body":"<p>check this out:</p>\n<pre><code>String textblock = &quot;&quot;&quot;\n        A : 111\n        B : 111\n        C : 1111\n        &quot;&quot;&quot;;\n\nString[] splitedTextBlock = textblock.split(&quot;\\\\R&quot;);\n\nfor (String line : splitedTextBlock) {\n    System.out.println(line);\n}\n</code></pre>\n<ul>\n<li>the <code>split(&quot;\\\\R&quot;)</code> method is used to split the text block by lines</li>\n<li>the <code>\\\\R</code> regular expression pattern matches any line break, including different line break sequences like <code>\\n</code> or <code>\\r\\n</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":26682848,"reputation":3533,"user_id":20292589,"display_name":"Yaroslavm"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1691083199,"creation_date":1691076476,"answer_id":76829562,"question_id":76829449,"body_markdown":"\r\n\r\n&lt;!-- begin snippet: java hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public static String[] splitTextBlock(String textblock) {\r\n       return textblock.trim().split(System.lineSeparator());\r\n    }\r\n\r\n    ...\r\n\r\n    String textblock = &quot;&quot;&quot;\r\n            A : 111\r\n            B : 111\r\n            C : 1111\r\n            &quot;&quot;&quot;;\r\n            \r\n    String[] splitedTextBlock = splitTextBlock(textblock);\r\n    Arrays.stream(splitedTextBlock).forEach(System.out::println);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to split a java text block by lines?","body":"<pre class=\"lang-java prettyprint-override\"><code>public static String[] splitTextBlock(String textblock) {\n   return textblock.trim().split(System.lineSeparator());\n}\n\n...\n\nString textblock = &quot;&quot;&quot;\n        A : 111\n        B : 111\n        C : 1111\n        &quot;&quot;&quot;;\n        \nString[] splitedTextBlock = splitTextBlock(textblock);\nArrays.stream(splitedTextBlock).forEach(System.out::println);\n</code></pre>\n"}],"owner":{"account_id":26632345,"reputation":90,"user_id":20249350,"display_name":"Hassen Gaaya"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"closed_date":1691248283,"accepted_answer_id":76829562,"answer_count":2,"score":-5,"last_activity_date":1691083199,"creation_date":1691075731,"question_id":76829449,"body_markdown":"Let&#39;s say we have the following java text block : \r\n\r\n```\r\n         String textblock = &quot;&quot;&quot;\r\n                 A : 111\r\n                 B : 111\r\n                 C : 1111\r\n                 &quot;&quot;&quot;;\r\n```\r\n\r\nI would like to split it by lines to get the following result : \r\n\r\n```\r\n         String [] splitedTextBlock = splitTextBlockSomeHow(textblock); \r\n         // expected result : {&quot;A : 111&quot;, &quot;B : 222&quot;, &quot;C : 333&quot;}\r\n```","title":"How to split a java text block by lines?","body":"<p>Let's say we have the following java text block :</p>\n<pre><code>         String textblock = &quot;&quot;&quot;\n                 A : 111\n                 B : 111\n                 C : 1111\n                 &quot;&quot;&quot;;\n</code></pre>\n<p>I would like to split it by lines to get the following result :</p>\n<pre><code>         String [] splitedTextBlock = splitTextBlockSomeHow(textblock); \n         // expected result : {&quot;A : 111&quot;, &quot;B : 222&quot;, &quot;C : 333&quot;}\n</code></pre>\n"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":1,"up_vote_count":111,"is_accepted":true,"score":110,"last_activity_date":1691082254,"creation_date":1295375682,"answer_id":4727696,"question_id":4727536,"body_markdown":"You need to use the **Exit** button in the **Run** panel, not the Stop button. Note that it will only work when Running and will not work when Debugging.\r\n\r\nHere is the screenshot if you can&#39;t find it:\r\n\r\n[![Exit button][1]][1]\r\n\r\n\r\nOld versions:\r\n\r\n![Exit][2]\r\n\r\n\r\nThis feature uses platform specific code and currently works on Windows and Linux only. &lt;s&gt;Once [IDEA-56273][3] is fixed, this feature should be also available on Mac.&lt;/s&gt; It is fixed in 10.5 version of IDEA.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4rmL0.png\r\n  [2]: http://i.stack.imgur.com/7geJA.png\r\n  [3]: http://youtrack.jetbrains.net/issue/IDEA-56273","title":"How do I stop a process running in IntelliJ such that it calls the shutdown hooks?","body":"<p>You need to use the <strong>Exit</strong> button in the <strong>Run</strong> panel, not the Stop button. Note that it will only work when Running and will not work when Debugging.</p>\n<p>Here is the screenshot if you can't find it:</p>\n<p><a href=\"https://i.stack.imgur.com/4rmL0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4rmL0.png\" alt=\"Exit button\" /></a></p>\n<p>Old versions:</p>\n<p><img src=\"https://i.stack.imgur.com/7geJA.png\" alt=\"Exit\" /></p>\n<p>This feature uses platform specific code and currently works on Windows and Linux only. <s>Once <a href=\"http://youtrack.jetbrains.net/issue/IDEA-56273\" rel=\"nofollow noreferrer\">IDEA-56273</a> is fixed, this feature should be also available on Mac.</s> It is fixed in 10.5 version of IDEA.</p>\n"},{"tags":[],"owner":{"account_id":382010,"reputation":2461,"user_id":736987,"accept_rate":89,"display_name":"Evan"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1530901749,"creation_date":1530901749,"answer_id":51215962,"question_id":4727536,"body_markdown":"If you are on Mac (and I assume Linux), get the pid and use kill from the terminal.  It&#39;s an extra step, but works to debug the shutdown handler when you need to.  ","title":"How do I stop a process running in IntelliJ such that it calls the shutdown hooks?","body":"<p>If you are on Mac (and I assume Linux), get the pid and use kill from the terminal.  It's an extra step, but works to debug the shutdown handler when you need to.  </p>\n"}],"owner":{"account_id":91958,"reputation":15235,"user_id":252253,"accept_rate":62,"display_name":"James"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35873,"favorite_count":0,"down_vote_count":0,"up_vote_count":80,"accepted_answer_id":4727696,"answer_count":2,"score":80,"last_activity_date":1691082254,"creation_date":1295374562,"question_id":4727536,"body_markdown":"When I run my program in IntelliJ then use the STOP button, it does not call my shutdown hooks that I&#39;ve created. Is there a way in IntelliJ to have those called on shutdown?\r\n","title":"How do I stop a process running in IntelliJ such that it calls the shutdown hooks?","body":"<p>When I run my program in IntelliJ then use the STOP button, it does not call my shutdown hooks that I've created. Is there a way in IntelliJ to have those called on shutdown?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":16623108,"reputation":55,"user_id":12012844,"display_name":"SurPrise 2"},"score":0,"creation_date":1691072202,"post_id":76828851,"comment_id":135444589,"body_markdown":"You can rewrite your .sql data scripts using liquibase and velocity for example. And order this scripts after your initial liquibase scripts. In this case they will be executed in order","body":"You can rewrite your .sql data scripts using liquibase and velocity for example. And order this scripts after your initial liquibase scripts. In this case they will be executed in order"}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1691082155,"creation_date":1691082155,"answer_id":76830202,"question_id":76828851,"body_markdown":"You should stick to only one method of initializing the database. The Liquibase is a preferred tool.\r\n\r\nFrom Spring documentation:\r\n\r\n&gt; If you are using a Higher-level Database Migration Tool, like Flyway or Liquibase, you should use them alone to create and initialize the schema. Using the basic schema.sql and data.sql scripts alongside Flyway or Liquibase is not recommended and support will be removed in a future release.","title":"How to ensure Liquibase YAML scripts run before SQL scripts in resources in a Spring Boot application?","body":"<p>You should stick to only one method of initializing the database. The Liquibase is a preferred tool.</p>\n<p>From Spring documentation:</p>\n<blockquote>\n<p>If you are using a Higher-level Database Migration Tool, like Flyway or Liquibase, you should use them alone to create and initialize the schema. Using the basic schema.sql and data.sql scripts alongside Flyway or Liquibase is not recommended and support will be removed in a future release.</p>\n</blockquote>\n"}],"owner":{"account_id":9892593,"reputation":633,"user_id":7325117,"accept_rate":100,"display_name":"EmreAkkoc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76830202,"answer_count":1,"score":0,"last_activity_date":1691082155,"creation_date":1691071291,"question_id":76828851,"body_markdown":"I&#39;m currently developing a Spring Boot application where I&#39;m utilizing Liquibase for managing database schema changes. For defining schema modifications, I&#39;ve created Liquibase changelog files in YAML format (changelog.yml).\r\n\r\nIn addition, I have .sql data scripts placed in the src/main/resources/data directory, which are intended to populate the tables created by Liquibase.\r\n\r\nMy primary concern is ensuring that the Liquibase scripts are executed before the .sql data scripts during the application startup phase. This is essential to prevent potential errors due to absent tables or columns when populating the data. The reason I do not put these sql scripts into another Liquibase script is that it will be very hard to maintain. I just want to change sql scripts necessary according to final look of my tables.\r\n\r\nI&#39;ve attempted to leverage the spring.datasource.data property in my application.properties to specify the .sql data scripts, but I&#39;ve realized that this approach doesn&#39;t guarantee the desired execution order concerning Liquibase scripts.\r\n\r\nWhat is the recommended approach to enforce the desired order of execution, particularly when utilizing Liquibase YAML scripts and Spring Boot&#39;s automatic data scripts? Is there a way to explicitly control the sequence of execution, ensuring that Liquibase completes its tasks before the data population scripts are invoked during application startup?\r\n\r\nI would greatly appreciate any insights, guidance, or best practices for managing this specific scenario. Thank you in advance for your assistance!","title":"How to ensure Liquibase YAML scripts run before SQL scripts in resources in a Spring Boot application?","body":"<p>I'm currently developing a Spring Boot application where I'm utilizing Liquibase for managing database schema changes. For defining schema modifications, I've created Liquibase changelog files in YAML format (changelog.yml).</p>\n<p>In addition, I have .sql data scripts placed in the src/main/resources/data directory, which are intended to populate the tables created by Liquibase.</p>\n<p>My primary concern is ensuring that the Liquibase scripts are executed before the .sql data scripts during the application startup phase. This is essential to prevent potential errors due to absent tables or columns when populating the data. The reason I do not put these sql scripts into another Liquibase script is that it will be very hard to maintain. I just want to change sql scripts necessary according to final look of my tables.</p>\n<p>I've attempted to leverage the spring.datasource.data property in my application.properties to specify the .sql data scripts, but I've realized that this approach doesn't guarantee the desired execution order concerning Liquibase scripts.</p>\n<p>What is the recommended approach to enforce the desired order of execution, particularly when utilizing Liquibase YAML scripts and Spring Boot's automatic data scripts? Is there a way to explicitly control the sequence of execution, ensuring that Liquibase completes its tasks before the data population scripts are invoked during application startup?</p>\n<p>I would greatly appreciate any insights, guidance, or best practices for managing this specific scenario. Thank you in advance for your assistance!</p>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1691087592,"post_id":76829528,"comment_id":135447883,"body_markdown":"Where/how do you create the mock object for `WebClient`?","body":"Where/how do you create the mock object for <code>WebClient</code>?"},{"owner":{"account_id":28447000,"reputation":1,"user_id":21765597,"display_name":"tacu"},"score":0,"creation_date":1691088823,"post_id":76829528,"comment_id":135448097,"body_markdown":"the WebClient is created as static. it is an import from an external jar","body":"the WebClient is created as static. it is an import from an external jar"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1691088982,"post_id":76829528,"comment_id":135448127,"body_markdown":"if it is not a mock instance (created with `@Mock` or `Mockito.mock`), then you cannot set up stubbings on it (with `Mockito.when`). It&#39;s not a mock, thus cannot be used as one.","body":"if it is not a mock instance (created with <code>@Mock</code> or <code>Mockito.mock</code>), then you cannot set up stubbings on it (with <code>Mockito.when</code>). It&#39;s not a mock, thus cannot be used as one."}],"answers":[{"tags":[],"owner":{"account_id":26105575,"reputation":56,"user_id":19800332,"display_name":"butterCup"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691081857,"creation_date":1691081857,"answer_id":76830166,"question_id":76829528,"body_markdown":"The error is due to passing a null value to the `ParameterizedTypeReference.forType` method. \r\n\r\n    @Test\r\n    void test() {\r\n    //Initialise uri, request \r\n    ParameterizedTypeReference &lt; String &gt; response = ParameterizedTypeReference.forType(String.class);\r\n    String returnValue = “response”;\r\n    when(webClient.post().uri(uri).bodyValue(request).retrieve().bodyToMono(any(ParameterizedTypeReference.class)))\r\n    .thenReturn(Mono.just(returnValue));\r\n     String result = mockClass.postMethod(uri, request, response);\r\n     assertEquals(returnValue, result);\r\n     }\r\n\r\n\r\n           ","title":"Mockito - mocking POST request - ParameterizedTypeReference.forType(String.class","body":"<p>The error is due to passing a null value to the <code>ParameterizedTypeReference.forType</code> method.</p>\n<pre><code>@Test\nvoid test() {\n//Initialise uri, request \nParameterizedTypeReference &lt; String &gt; response = ParameterizedTypeReference.forType(String.class);\nString returnValue = “response”;\nwhen(webClient.post().uri(uri).bodyValue(request).retrieve().bodyToMono(any(ParameterizedTypeReference.class)))\n.thenReturn(Mono.just(returnValue));\n String result = mockClass.postMethod(uri, request, response);\n assertEquals(returnValue, result);\n }\n\n\n       \n</code></pre>\n"}],"owner":{"account_id":28447000,"reputation":1,"user_id":21765597,"display_name":"tacu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691081857,"creation_date":1691076272,"question_id":76829528,"body_markdown":"I am attempting to create a unit test where a post request is being made.\r\n\r\n`WebClient.post(URI, request, ParameterizedTypeReference.forType(String.class));`\r\n\r\n\r\n\r\nI am trying to use `Mockit.when(WebClient.post(Mockito.anyString(), null, Mockito.eq(new ParameterizedTypeReference&lt;String&gt; {})).thenReturn(nothing);`\r\n\r\nI am getting  \r\n\r\n`java.lang.IllegalArgumentException:ParameterizedTypeReference must not be null`\r\n\r\nHow can I correctly mock this `ParameterizedTypeReference.forType(String.class)`?","title":"Mockito - mocking POST request - ParameterizedTypeReference.forType(String.class","body":"<p>I am attempting to create a unit test where a post request is being made.</p>\n<p><code>WebClient.post(URI, request, ParameterizedTypeReference.forType(String.class));</code></p>\n<p>I am trying to use <code>Mockit.when(WebClient.post(Mockito.anyString(), null, Mockito.eq(new ParameterizedTypeReference&lt;String&gt; {})).thenReturn(nothing);</code></p>\n<p>I am getting</p>\n<p><code>java.lang.IllegalArgumentException:ParameterizedTypeReference must not be null</code></p>\n<p>How can I correctly mock this <code>ParameterizedTypeReference.forType(String.class)</code>?</p>\n"},{"tags":["java","spring","junit5"],"answers":[{"tags":[],"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691081296,"creation_date":1691081296,"answer_id":76830113,"question_id":76830039,"body_markdown":"Replace\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\n```\r\n\r\nwith\r\n\r\n```\r\n@ExtendWith(SpringExtension.class)\r\n```\r\n\r\nSpringExtension enables the use of Spring with JUnit5. Once you have that, JUnit will call the extension, which in turn will read the Spring annotations.","title":"Import a specific bean in JUnit5 without load all application","body":"<p>Replace</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\n</code></pre>\n<p>with</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n</code></pre>\n<p>SpringExtension enables the use of Spring with JUnit5. Once you have that, JUnit will call the extension, which in turn will read the Spring annotations.</p>\n"}],"owner":{"account_id":4546904,"reputation":152,"user_id":3693223,"display_name":"Lucho82"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76830113,"answer_count":1,"score":0,"last_activity_date":1691081296,"creation_date":1691080527,"question_id":76830039,"body_markdown":"I have a configuration class on my project\r\n\r\n    @Configuration\r\n    public class MyConfiguration {\r\n    \r\n        //client SDK configuration build\r\n        @Bean\r\n        public MyBean myBean() {\r\n    \t\treturn new MyBean();\r\n    \t}\r\n    \t\r\n    }\r\n   \r\nNow I want to use this bean on my unit test class without load all application context\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    @ContextConfiguration(classes = {MyConfiguration.class})\r\n    public class Test {\r\n    \r\n        @Autowired\r\n        private MyBean mybean;\r\n    \r\n        @Test\r\n        public void methodTest() {\r\n            //use mybean class methods\r\n            mybean.method();\r\n        }\r\n    \r\n    }\r\n    \r\nBut I am getting an `NullPointerException` error when run the test (in the line where I invoke mybean definition)\r\n\r\nWhat could be wrong ?\r\n\r\nThanks\r\n","title":"Import a specific bean in JUnit5 without load all application","body":"<p>I have a configuration class on my project</p>\n<pre><code>@Configuration\npublic class MyConfiguration {\n\n    //client SDK configuration build\n    @Bean\n    public MyBean myBean() {\n        return new MyBean();\n    }\n    \n}\n</code></pre>\n<p>Now I want to use this bean on my unit test class without load all application context</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\n@ContextConfiguration(classes = {MyConfiguration.class})\npublic class Test {\n\n    @Autowired\n    private MyBean mybean;\n\n    @Test\n    public void methodTest() {\n        //use mybean class methods\n        mybean.method();\n    }\n\n}\n</code></pre>\n<p>But I am getting an <code>NullPointerException</code> error when run the test (in the line where I invoke mybean definition)</p>\n<p>What could be wrong ?</p>\n<p>Thanks</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":4,"creation_date":1691080914,"post_id":76830065,"comment_id":135446516,"body_markdown":"It&#39;s autoboxing: the capital versions are boxed primitives / objects, and are separate objects in memory. Integers are only really commonly cached in the byte range `[-128, 127]`. The `==` operator for objects will compare for reference equality (i.e. are they the same object), _not_ for the same value. For that, there is `Object#equals`.","body":"It&#39;s autoboxing: the capital versions are boxed primitives / objects, and are separate objects in memory. Integers are only really commonly cached in the byte range <code>[-128, 127]</code>. The <code>==</code> operator for objects will compare for reference equality (i.e. are they the same object), <i>not</i> for the same value. For that, there is <code>Object#equals</code>."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1691166757,"post_id":76830065,"comment_id":135460037,"body_markdown":"Show the declaration of your `ArrayList`.","body":"Show the declaration of your <code>ArrayList</code>."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1691166797,"post_id":76830065,"comment_id":135460045,"body_markdown":"[MCVE](https://stackoverflow.com/help/mcve)","body":"<a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>"}],"owner":{"account_id":29154212,"reputation":11,"user_id":22334379,"display_name":"Pankaj Patidar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1691080816,"creation_date":1691080709,"question_id":76830065,"body_markdown":"I have an ArrayList contains,**arr = [151,151,167,224,224......]**, it&#39;s a very long ArrayList; when I do the below code : \r\n\r\n**if(arr.get(0)!= arr.get(1))\r\n        return arr.get(0);** \r\n\r\nHere the output **I am getting is 151, But it is wrong** It should not go under the if condition.\r\nPlease Let me know Why it is going. Is there anything we should be aware of ArrayList.get() method?\r\n\r\n\r\nThen changed the condition to  : \r\n\r\n**if((int)arr.get(0)!= (int)arr.get(1)) return arr.get(0);**\r\n\r\nthen the condition become false, and then its not going under if condition.","title":"Caught different behaviour of ArrayList.get() method in IF condition","body":"<p>I have an ArrayList contains,<strong>arr = [151,151,167,224,224......]</strong>, it's a very long ArrayList; when I do the below code :</p>\n<p><strong>if(arr.get(0)!= arr.get(1))\nreturn arr.get(0);</strong></p>\n<p>Here the output <strong>I am getting is 151, But it is wrong</strong> It should not go under the if condition.\nPlease Let me know Why it is going. Is there anything we should be aware of ArrayList.get() method?</p>\n<p>Then changed the condition to  :</p>\n<p><strong>if((int)arr.get(0)!= (int)arr.get(1)) return arr.get(0);</strong></p>\n<p>then the condition become false, and then its not going under if condition.</p>\n"},{"tags":["java","tostring","base-conversion"],"comments":[{"owner":{"account_id":175348,"reputation":7565,"user_id":405303,"accept_rate":50,"display_name":"Jon Kiparsky"},"score":0,"creation_date":1484796945,"post_id":41733231,"comment_id":70660778,"body_markdown":"You&#39;ll get more useful results if you ask a specific question about some concrete code.","body":"You&#39;ll get more useful results if you ask a specific question about some concrete code."}],"answers":[{"tags":[],"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484797248,"creation_date":1484797248,"answer_id":41733320,"question_id":41733231,"body_markdown":"No; [the way that this method is implemented](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/lang/Integer.java#Integer.toString%28int%2Cint%29) effectively guarantees that it starts from 0-9, then proceeds through a-f, then carries on should the radix exceed 16.\r\n\r\nIf you want to do this in your own way, then you will need to perform the offsets yourself.","title":"Base 26 as alphabetic using Java&#39;s Integer.toString()","body":"<p>No; <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/lang/Integer.java#Integer.toString%28int%2Cint%29\" rel=\"nofollow noreferrer\">the way that this method is implemented</a> effectively guarantees that it starts from 0-9, then proceeds through a-f, then carries on should the radix exceed 16.</p>\n\n<p>If you want to do this in your own way, then you will need to perform the offsets yourself.</p>\n"},{"tags":[],"owner":{"account_id":4146553,"reputation":32805,"user_id":5743988,"accept_rate":67,"display_name":"4castle"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1484800975,"creation_date":1484798337,"answer_id":41733499,"question_id":41733231,"body_markdown":"You can iterate over a `char[]` to shift the output from `Integer.toString` into the range you want.\r\n\r\n    public static String toAlphabeticRadix(int num) {\r\n        char[] str = Integer.toString(num, 26).toCharArray();\r\n        for (int i = 0; i &lt; str.length; i++) {\r\n\t\t\tstr[i] += str[i] &gt; &#39;9&#39; ? 10 : 49;\r\n        }\r\n        return new String(str);\r\n    }\r\n\r\n[Ideone Demo][2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/StringBuilder.html#setCharAt-int-char-\r\n  [2]: https://ideone.com/qBJFWY","title":"Base 26 as alphabetic using Java&#39;s Integer.toString()","body":"<p>You can iterate over a <code>char[]</code> to shift the output from <code>Integer.toString</code> into the range you want.</p>\n\n<pre><code>public static String toAlphabeticRadix(int num) {\n    char[] str = Integer.toString(num, 26).toCharArray();\n    for (int i = 0; i &lt; str.length; i++) {\n        str[i] += str[i] &gt; '9' ? 10 : 49;\n    }\n    return new String(str);\n}\n</code></pre>\n\n<p><a href=\"https://ideone.com/qBJFWY\" rel=\"noreferrer\">Ideone Demo</a></p>\n"},{"tags":[],"owner":{"account_id":28889934,"reputation":1,"user_id":22127321,"display_name":"Dawn-Felstar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687675155,"creation_date":1687675155,"answer_id":76549180,"question_id":41733231,"body_markdown":"if you want to have 26 = aa rather than ba then here&#39;s some code you can use.  \r\nThis is a modification of the code [4castle](https://stackoverflow.com/users/5743988/4castle) posted to this thread.\r\n\r\n    public static String toAlphabeticRadix(int num) {\r\n        char[] str = Integer.toString(num, 26).toCharArray();\r\n        for (int i = 0; i &lt; str.length; i++) {\r\n    \t\tstr[i] += (str[i] &gt; &#39;9&#39; ? 10 : 49) - (num &gt; 25 &amp;&amp; i &lt; 1 ? 1 : 0);\r\n        }\r\n        return new String(str);\r\n    }","title":"Base 26 as alphabetic using Java&#39;s Integer.toString()","body":"<p>if you want to have 26 = aa rather than ba then here's some code you can use.<br />\nThis is a modification of the code <a href=\"https://stackoverflow.com/users/5743988/4castle\">4castle</a> posted to this thread.</p>\n<pre><code>public static String toAlphabeticRadix(int num) {\n    char[] str = Integer.toString(num, 26).toCharArray();\n    for (int i = 0; i &lt; str.length; i++) {\n        str[i] += (str[i] &gt; '9' ? 10 : 49) - (num &gt; 25 &amp;&amp; i &lt; 1 ? 1 : 0);\n    }\n    return new String(str);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1033919,"reputation":5797,"user_id":1041691,"accept_rate":67,"display_name":"fommil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691080385,"creation_date":1691080385,"answer_id":76830025,"question_id":41733231,"body_markdown":"This is Scala, but it does what you want with the correct flow over from Z to AA, and ZZ to AAA. The java code in previous examples is buggy and only counts to Y, not Z.\r\n\r\nThe important thing is to start counting from 1, not zero. This system for counting has no &quot;0&quot;.\r\n\r\n```scala\r\n  def gen_symbols: LazyList[String] = LazyList.from(1).map { i_ =&gt;\r\n    val buf = new java.lang.StringBuffer\r\n    var i = i_\r\n    while (i &gt; 0) {\r\n      val rem = (i - 1) % 26\r\n      buf.append((&#39;A&#39; + rem).toChar)\r\n      i = (i - rem) / 26\r\n    }\r\n    buf.reverse.toString\r\n  }\r\n```","title":"Base 26 as alphabetic using Java&#39;s Integer.toString()","body":"<p>This is Scala, but it does what you want with the correct flow over from Z to AA, and ZZ to AAA. The java code in previous examples is buggy and only counts to Y, not Z.</p>\n<p>The important thing is to start counting from 1, not zero. This system for counting has no &quot;0&quot;.</p>\n<pre class=\"lang-scala prettyprint-override\"><code>  def gen_symbols: LazyList[String] = LazyList.from(1).map { i_ =&gt;\n    val buf = new java.lang.StringBuffer\n    var i = i_\n    while (i &gt; 0) {\n      val rem = (i - 1) % 26\n      buf.append(('A' + rem).toChar)\n      i = (i - rem) / 26\n    }\n    buf.reverse.toString\n  }\n</code></pre>\n"}],"owner":{"account_id":8163058,"reputation":123,"user_id":6146420,"display_name":"forgetfulbur"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4057,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":41733499,"answer_count":4,"score":10,"last_activity_date":1691080385,"creation_date":1484796732,"question_id":41733231,"body_markdown":"So I just learned `Integer.toString(int x, int radix);` and thought it was pretty awesome since it makes base conversions super easy.\r\n\r\nHowever, I&#39;m trying to write with Base-26 phonetically (a - z) and noticed that `Integer.toString()` follows hexadecimal&#39;s example in that it begins numerically and then uses the alphabet (0 - p).\r\n\r\nI already know how to do convert to Base-26 by hand, I don&#39;t need that code. But I&#39;m wondering if there&#39;s a way to take advantage of `Integer.toString()` since it&#39;s pretty much already done all the heavy lifting.\r\n\r\nAny ideas?\r\n\r\n","title":"Base 26 as alphabetic using Java&#39;s Integer.toString()","body":"<p>So I just learned <code>Integer.toString(int x, int radix);</code> and thought it was pretty awesome since it makes base conversions super easy.</p>\n\n<p>However, I'm trying to write with Base-26 phonetically (a - z) and noticed that <code>Integer.toString()</code> follows hexadecimal's example in that it begins numerically and then uses the alphabet (0 - p).</p>\n\n<p>I already know how to do convert to Base-26 by hand, I don't need that code. But I'm wondering if there's a way to take advantage of <code>Integer.toString()</code> since it's pretty much already done all the heavy lifting.</p>\n\n<p>Any ideas?</p>\n"},{"tags":["java","spring-boot","postman"],"comments":[{"owner":{"account_id":429324,"reputation":8238,"user_id":812149,"accept_rate":100,"display_name":"S.L. Barth is on codidact.com"},"score":0,"creation_date":1691080826,"post_id":76830015,"comment_id":135446499,"body_markdown":"If you set `DivisionController` to just return &quot;Hello world&quot;, do you then also get an ECONNREFUSED? (What I&#39;d like to find out is, if it is the Controller that&#39;s the problem, or if the problem originates deeper in the code - for example the connection to the database).","body":"If you set <code>DivisionController</code> to just return &quot;Hello world&quot;, do you then also get an ECONNREFUSED? (What I&#39;d like to find out is, if it is the Controller that&#39;s the problem, or if the problem originates deeper in the code - for example the connection to the database)."},{"owner":{"account_id":5912501,"reputation":3,"user_id":4652260,"display_name":"Mahadi Hasan"},"score":0,"creation_date":1691081881,"post_id":76830015,"comment_id":135446708,"body_markdown":"Hi @S.L.Barthisoncodidact.com, this is interesting! It returned hello world in the postman.","body":"Hi @S.L.Barthisoncodidact.com, this is interesting! It returned hello world in the postman."},{"owner":{"account_id":429324,"reputation":8238,"user_id":812149,"accept_rate":100,"display_name":"S.L. Barth is on codidact.com"},"score":0,"creation_date":1691082250,"post_id":76830015,"comment_id":135446763,"body_markdown":"Good! Seems the Controller itself is set up right, then. I&#39;m guessing the problem is in the connection with the database. I&#39;m not sure if I can be of much more help here. One thing you could try is to use an in-memory database and see if that works. Or see if you can reach the database from Postman directly. It could be a firewall block, or something like that. Good luck!","body":"Good! Seems the Controller itself is set up right, then. I&#39;m guessing the problem is in the connection with the database. I&#39;m not sure if I can be of much more help here. One thing you could try is to use an in-memory database and see if that works. Or see if you can reach the database from Postman directly. It could be a firewall block, or something like that. Good luck!"},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1691082461,"post_id":76830015,"comment_id":135446811,"body_markdown":"`but it&#39;s throwing Error:`, where did you see this error ? is there any exception on the spring log/output ? What returns the local browser for this URL ?","body":"<code>but it&#39;s throwing Error:</code>, where did you see this error ? is there any exception on the spring log/output ? What returns the local browser for this URL ?"},{"owner":{"account_id":5912501,"reputation":3,"user_id":4652260,"display_name":"Mahadi Hasan"},"score":0,"creation_date":1691083122,"post_id":76830015,"comment_id":135446975,"body_markdown":"@PeterMmm, yes. That&#39;s a huge and huge exception whenever I press send button in postman.","body":"@PeterMmm, yes. That&#39;s a huge and huge exception whenever I press send button in postman."},{"owner":{"account_id":5912501,"reputation":3,"user_id":4652260,"display_name":"Mahadi Hasan"},"score":0,"creation_date":1691083867,"post_id":76830015,"comment_id":135447152,"body_markdown":"@S.L.Barthisoncodidact.com, My previous projects work fine and I tested just now. I assume that the problem might lie in the entity file. The id is string and it&#39;s the PK. Do you think it might be a problem?","body":"@S.L.Barthisoncodidact.com, My previous projects work fine and I tested just now. I assume that the problem might lie in the entity file. The id is string and it&#39;s the PK. Do you think it might be a problem?"},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1691084023,"post_id":76830015,"comment_id":135447192,"body_markdown":"So, edited your question and add the first lines of the Exception.","body":"So, edited your question and add the first lines of the Exception."},{"owner":{"account_id":5912501,"reputation":3,"user_id":4652260,"display_name":"Mahadi Hasan"},"score":0,"creation_date":1691084805,"post_id":76830015,"comment_id":135447343,"body_markdown":"@PeterMmm, two exceptions were found.\n\n\n1. java.lang.IllegalStateException: Cannot call sendError() after the response has been committed.\n\n\n2. ERROR 17360 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.http.converter.HttpMessageNotWritableException","body":"@PeterMmm, two exceptions were found.   1. java.lang.IllegalStateException: Cannot call sendError() after the response has been committed.   2. ERROR 17360 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.http.converter.HttpMessageNotWritableExc&zwnj;&#8203;eption"},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":1,"creation_date":1691086232,"post_id":76830015,"comment_id":135447615,"body_markdown":"Let&#39;s do a step back. Forget Postman for a moment. Run your service and visit http://localhost:8080/division in a browser on the same host where the spring app is running. What do you get in the browser ? post the first **few** lines of the Exception and stack trace (if any) into your question. And remove this `@CrossOrigin`annotation.","body":"Let&#39;s do a step back. Forget Postman for a moment. Run your service and visit <a href=\"http://localhost:8080/division\" rel=\"nofollow noreferrer\">localhost:8080/division</a> in a browser on the same host where the spring app is running. What do you get in the browser ? post the first <b>few</b> lines of the Exception and stack trace (if any) into your question. And remove this <code>@CrossOrigin</code>annotation."},{"owner":{"account_id":5912501,"reputation":3,"user_id":4652260,"display_name":"Mahadi Hasan"},"score":0,"creation_date":1691122793,"post_id":76830015,"comment_id":135451951,"body_markdown":"@PeterMmm, in the browser it throws \n[{&quot;id&quot;:&quot;bar&quot;,&quot;division&quot;:&quot;Barishal&quot;,&quot;districts&quot;:[{&quot;id&quot;:&quot;bar1&quot;,&quot;district&quot;:&quot;Barisal&quot;,&quot;division&quot;:{&quot;id&quot;:&quot;bar&quot;,&quot;division&quot;:&quot;Barishal&quot;,&quot;districts&quot;:....... infinite times.","body":"@PeterMmm, in the browser it throws  [{&quot;id&quot;:&quot;bar&quot;,&quot;division&quot;:&quot;Barishal&quot;,&quot;districts&quot;:[{&quot;id&quot;:&quot;bar1&quot;&zwnj;&#8203;,&quot;district&quot;:&quot;Barisal&zwnj;&#8203;&quot;,&quot;division&quot;:{&quot;id&quot;:&quot;&zwnj;&#8203;bar&quot;,&quot;division&quot;:&quot;Bar&zwnj;&#8203;ishal&quot;,&quot;districts&quot;:.&zwnj;&#8203;...... infinite times."},{"owner":{"account_id":5912501,"reputation":3,"user_id":4652260,"display_name":"Mahadi Hasan"},"score":0,"creation_date":1691124454,"post_id":76830015,"comment_id":135452095,"body_markdown":"There is another issue with the code and it is a multiple-table relationship. But I want to avoid it here as the discussion is getting lengthy. I would like to request, could you please look at my https://github.com/Mahadijava/dynamic_dropdown  file and I believe that once you look at the whole picture, you&#39;ll get it. It is provided with Mysql database file name bangladesh.sql.","body":"There is another issue with the code and it is a multiple-table relationship. But I want to avoid it here as the discussion is getting lengthy. I would like to request, could you please look at my <a href=\"https://github.com/Mahadijava/dynamic_dropdown\" rel=\"nofollow noreferrer\">github.com/Mahadijava/dynamic_dropdown</a>  file and I believe that once you look at the whole picture, you&#39;ll get it. It is provided with Mysql database file name bangladesh.sql."},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1691145246,"post_id":76830015,"comment_id":135455389,"body_markdown":"You have a recursive JSON mapping. Read here: https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion","body":"You have a recursive JSON mapping. Read here: <a href=\"https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion\" rel=\"nofollow noreferrer\">baeldung.com/&hellip;</a>"},{"owner":{"account_id":5912501,"reputation":3,"user_id":4652260,"display_name":"Mahadi Hasan"},"score":0,"creation_date":1691155133,"post_id":76830015,"comment_id":135457342,"body_markdown":"Thank you @PeterMmm, you really saved me. I want to select is as the right answer but don&#39;t see anything like &quot;Select it as the correct answer&quot;.","body":"Thank you @PeterMmm, you really saved me. I want to select is as the right answer but don&#39;t see anything like &quot;Select it as the correct answer&quot;."}],"owner":{"account_id":5912501,"reputation":3,"user_id":4652260,"display_name":"Mahadi Hasan"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691080309,"creation_date":1691080309,"question_id":76830015,"body_markdown":"I&#39;ve been trying to test an api in springboot but failed to fetch the data in postman. This is what i&#39;ve done. \r\n\r\n\r\nThis is entity\r\n```\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\n\r\npublic class Division {\r\n    @Id\r\n    private String id;\r\n    private String division;\r\n\r\n    @OneToMany(mappedBy = &quot;division&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    private List&lt;District&gt; districts = new ArrayList&lt;&gt;();\r\n\r\n\r\n}\r\n```\r\nThis is repository\r\n\r\n```\r\npublic interface DivisionRepository extends JpaRepository &lt;Division, String&gt; {\r\n}\r\n```\r\nThis is Service\r\n\r\n```\r\n@Service\r\npublic class DivisionService {\r\n    @Autowired\r\n    DivisionRepository divisionRepository;\r\n    public List &lt;Division&gt; getAllDivision(){\r\n        return divisionRepository.findAll();\r\n    }\r\n}\r\n```\r\nThis is controller \r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/division&quot;)\r\n@CrossOrigin(origins = &quot;http://localhost:8080&quot;, allowCredentials = &quot;true&quot;)\r\npublic class DivisionController {\r\n\r\n    @Autowired\r\n    DivisionService divisionService;\r\n\r\n    @GetMapping\r\n    List&lt;Division&gt; getAlldivisions(){\r\n\r\n        return divisionService.getAllDivision();\r\n    }\r\n}\r\n\r\n```\r\n\r\n[this is the table that I want to fetch in postman in JSOn format](https://i.stack.imgur.com/8djjg.png)\r\n\r\nUsing a GET request, I put the URL **http://localhost:8080/division** but it&#39;s throwing *Error: connect ECONNREFUSED 127.0.0.1:8080*\r\n\r\nWhat&#39;s the wrong with my code? \r\n\r\n","title":"Postman throwing error on API testing in springboot","body":"<p>I've been trying to test an api in springboot but failed to fetch the data in postman. This is what i've done.</p>\n<p>This is entity</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n\npublic class Division {\n    @Id\n    private String id;\n    private String division;\n\n    @OneToMany(mappedBy = &quot;division&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    private List&lt;District&gt; districts = new ArrayList&lt;&gt;();\n\n\n}\n</code></pre>\n<p>This is repository</p>\n<pre><code>public interface DivisionRepository extends JpaRepository &lt;Division, String&gt; {\n}\n</code></pre>\n<p>This is Service</p>\n<pre><code>@Service\npublic class DivisionService {\n    @Autowired\n    DivisionRepository divisionRepository;\n    public List &lt;Division&gt; getAllDivision(){\n        return divisionRepository.findAll();\n    }\n}\n</code></pre>\n<p>This is controller</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/division&quot;)\n@CrossOrigin(origins = &quot;http://localhost:8080&quot;, allowCredentials = &quot;true&quot;)\npublic class DivisionController {\n\n    @Autowired\n    DivisionService divisionService;\n\n    @GetMapping\n    List&lt;Division&gt; getAlldivisions(){\n\n        return divisionService.getAllDivision();\n    }\n}\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/8djjg.png\" rel=\"nofollow noreferrer\">this is the table that I want to fetch in postman in JSOn format</a></p>\n<p>Using a GET request, I put the URL <strong>http://localhost:8080/division</strong> but it's throwing <em>Error: connect ECONNREFUSED 127.0.0.1:8080</em></p>\n<p>What's the wrong with my code?</p>\n"},{"tags":["java","concurrency","atomicreference"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1691041508,"post_id":76823529,"comment_id":135437595,"body_markdown":"When posting here, you may get a better response if you put some effort into devising a simplified example with an obvious problem domain rather dumping your actual domain. “IpBlockingDenyList…” etc. is a distraction, and makes your Question harder to read.","body":"When posting here, you may get a better response if you put some effort into devising a simplified example with an obvious problem domain rather dumping your actual domain. “IpBlockingDenyList…” etc. is a distraction, and makes your Question harder to read."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1691042794,"post_id":76823529,"comment_id":135437783,"body_markdown":"When posting here, follow Java conventions such as indenting the lines of code within a block.","body":"When posting here, follow Java conventions such as indenting the lines of code within a block."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691080269,"creation_date":1691042754,"answer_id":76825288,"question_id":76823529,"body_markdown":"## Multiple `AtomicReference#get` calls is *not* atomic\r\n\r\n&gt;it returns an empty list.\r\n\r\nYou have not included enough detail for us to diagnose this problem. However, I could *guess* that it may come from one huge mistake you made in your code: Calling `AtomicReference#get` twice.\r\n\r\nIn this block:\r\n\r\n```java\r\npublic List&lt;IpBlockingDenyListRecord&gt; getIpBlockingDenyList() {\r\n    log.info(&quot;localDenyListSize: &quot; + denyListAtomicReference.get().getIpBlockingDenyList().size());\r\n    return denyListAtomicReference.get().getIpBlockingDenyList();\r\n}\r\n```\r\n\r\n… you call `denyListAtomicReference.get()` twice. That pair of calls is *not* atomic. Consider this sequence of events:\r\n\r\n| Sequence | Thread 101&lt;br /&gt;(your code above) | Thread 27&lt;br /&gt;(some other imaginary code)|\r\n| :--: | :--: | :--: |\r\n| 1    | `denyListAtomicReference.get()` returns list *x* | |\r\n| 2   |  | `denyListAtomicReference.set( y )` call changes the reference from list *x* to list *y* |\r\n| 3    | `denyListAtomicReference.get()` returns list *y* | |\r\n\r\nIn this scenario you would be reporting on the size of list *x* while handing off an entirely different list *y*. \r\n\r\nYou should change that block to call `get` only once.\r\n\r\n```java\r\npublic List&lt;IpBlockingDenyListRecord&gt; getIpBlockingDenyList() {\r\n    List&lt;IpBlockingDenyListRecord&gt; list = denyListAtomicReference.get().getIpBlockingDenyList() ;\r\n    log.info(&quot;localDenyListSize: &quot; + list.size());\r\n    return list;\r\n}\r\n```\r\n\r\n\r\n----------\r\n\r\n## Don&#39;t call `get` if you don&#39;t want the value returned\r\n\r\nSeparate issue: Call `set` rather than `getAndSet` if you don&#39;t capture the returned value.\r\n\r\nYour line:\r\n\r\n    denyListAtomicReference.getAndSet(new LocalIpBlockingDenyListResponse(newDenyList));\r\n\r\n… returns the old value contained in the atomic reference before setting a new value in the atomic reference. But you do not bother to capture a reference to the old value returned. So there is no point here in &quot;getting&quot;. Just call `set` of you don&#39;t care about the old value.\r\n\r\n    denyListAtomicReference.set(new LocalIpBlockingDenyListResponse(newDenyList));\r\n\r\n\r\n----------\r\n\r\n\r\n \r\n## Alternate example\r\n\r\nLet&#39;s rewrite your code for simplicity.\r\n\r\n&gt;I have a class called LocalIpBlockingDenyListResponse that has two class members viz a List&lt;CustomClass&gt; customClassList and an int storing hashCode() of customClassList\r\n\r\nLet&#39;s use a [record][1] for simplicity. Note that we guard our `List` property by ensuring it is immutable with call to `List.copyOf` combined with `new ArrayList`. \r\n\r\n```java\r\npackage work.basil.example.atomics;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Collection;\r\nimport java.util.List;\r\nimport java.util.Objects;\r\n\r\npublic record People( List &lt; String &gt; list ,\r\n                      int hash )\r\n{\r\n    public static People of ( final Collection &lt; String &gt; namesInput )\r\n    {\r\n        List &lt; String &gt; names = List.copyOf ( new ArrayList &lt;&gt; ( namesInput ) );\r\n        return new People ( names , Objects.hashCode ( names ) );\r\n    }\r\n\r\n    public People\r\n    {\r\n        Objects.requireNonNull ( list );\r\n        if ( Objects.hashCode ( list ) != hash ) throw new IllegalArgumentException ( &quot;Received an invalid hash code number&quot; );\r\n    }\r\n}\r\n\r\n```\r\n\r\nAssign an object of that record class to an atomic reference. And then replace that reference several times in other threads. I believe this code will result in there never being an empty list.\r\n\r\n```java\r\npackage work.basil.example.atomics;\r\n\r\nimport java.time.Duration;\r\nimport java.time.Instant;\r\nimport java.util.Collection;\r\nimport java.util.List;\r\nimport java.util.Objects;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.ScheduledExecutorService;\r\nimport java.util.concurrent.ThreadLocalRandom;\r\nimport java.util.concurrent.TimeUnit;\r\nimport java.util.concurrent.atomic.AtomicReference;\r\n\r\npublic class ListRef\r\n{\r\n    public final AtomicReference &lt; People &gt; peopleRef;\r\n\r\n    public ListRef ( People peopleArg )\r\n    {\r\n        Objects.requireNonNull ( peopleArg );\r\n        this.peopleRef = new AtomicReference &lt;&gt; ( peopleArg );\r\n    }\r\n\r\n    public void replacePeople ( Collection &lt; String &gt; names )\r\n    {\r\n        People newPeople = People.of ( names );\r\n        People oldPeople = this.peopleRef.getAndSet ( newPeople );\r\n        String report = &quot;Replaced &quot; + oldPeople + &quot; with &quot; + newPeople + &quot; at &quot; + Instant.now ( );\r\n        System.out.println ( report );  // Beware: System.out does NOT necessarily report its inputs in chronological order. Always include and study a timestamp.\r\n    }\r\n\r\n    public static void main ( String[] args )\r\n    {\r\n        People people = People.of ( List.of ( &quot;Alice&quot; , &quot;Bob&quot; ) );\r\n        ListRef app = new ListRef ( people );\r\n        app.demo ( );\r\n    }\r\n\r\n    private void demo ( )\r\n    {\r\n        System.out.println ( &quot;Demo beginning at &quot; + Instant.now ( ) );\r\n        List &lt; List &lt; String &gt; &gt; manyNames =\r\n                List.of (\r\n                        List.of ( &quot;Carol&quot; , &quot;Davis&quot; ) ,\r\n                        List.of ( &quot;Edith&quot; , &quot;Frank&quot; ) ,\r\n                        List.of ( &quot;Gail&quot; , &quot;Harold&quot; ) ,\r\n                        List.of ( &quot;Irene&quot; , &quot;Jack&quot; ) ,\r\n                        List.of ( &quot;Karen&quot; , &quot;Lenard&quot; )\r\n                );\r\n        try ( ScheduledExecutorService ses = Executors.newScheduledThreadPool ( 3 ) )\r\n        {\r\n            for ( List &lt; String &gt; names : manyNames )\r\n            {\r\n                Duration d = Duration.ofSeconds ( ThreadLocalRandom.current ( ).nextInt ( 5 , 25 ) );\r\n                ses.schedule (\r\n                        ( ) -&gt; this.replacePeople ( names ) ,\r\n                        d.toSeconds ( ) ,\r\n                        TimeUnit.SECONDS\r\n                );\r\n            }\r\n        }\r\n        System.out.println ( &quot;Demo ending at &quot; + Instant.now ( ) );\r\n    }\r\n}\r\n```\r\n\r\nWhen run:\r\n\r\n```none\r\nDemo beginning at 2023-08-03T06:55:43.175423Z\r\nReplaced People[list=[Alice, Bob], hash=1963929334] with People[list=[Karen, Lenard], hash=217763130] at 2023-08-03T06:55:51.215807Z\r\nReplaced People[list=[Karen, Lenard], hash=217763130] with People[list=[Gail, Harold], hash=-2072015662] at 2023-08-03T06:55:52.185813Z\r\nReplaced People[list=[Gail, Harold], hash=-2072015662] with People[list=[Irene, Jack], hash=-2094338259] at 2023-08-03T06:55:53.185362Z\r\nReplaced People[list=[Irene, Jack], hash=-2094338259] with People[list=[Edith, Frank], hash=2139146613] at 2023-08-03T06:55:59.185048Z\r\nReplaced People[list=[Edith, Frank], hash=2139146613] with People[list=[Carol, Davis], hash=2077047731] at 2023-08-03T06:56:07.182682Z\r\nDemo ending at 2023-08-03T06:56:07.183702Z\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/395","title":"AtomicReference getAndSet not working as expected","body":"<h2>Multiple <code>AtomicReference#get</code> calls is <em>not</em> atomic</h2>\n<blockquote>\n<p>it returns an empty list.</p>\n</blockquote>\n<p>You have not included enough detail for us to diagnose this problem. However, I could <em>guess</em> that it may come from one huge mistake you made in your code: Calling <code>AtomicReference#get</code> twice.</p>\n<p>In this block:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;IpBlockingDenyListRecord&gt; getIpBlockingDenyList() {\n    log.info(&quot;localDenyListSize: &quot; + denyListAtomicReference.get().getIpBlockingDenyList().size());\n    return denyListAtomicReference.get().getIpBlockingDenyList();\n}\n</code></pre>\n<p>… you call <code>denyListAtomicReference.get()</code> twice. That pair of calls is <em>not</em> atomic. Consider this sequence of events:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: center;\">Sequence</th>\n<th style=\"text-align: center;\">Thread 101<br />(your code above)</th>\n<th style=\"text-align: center;\">Thread 27<br />(some other imaginary code)</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: center;\">1</td>\n<td style=\"text-align: center;\"><code>denyListAtomicReference.get()</code> returns list <em>x</em></td>\n<td style=\"text-align: center;\"></td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">2</td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"><code>denyListAtomicReference.set( y )</code> call changes the reference from list <em>x</em> to list <em>y</em></td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">3</td>\n<td style=\"text-align: center;\"><code>denyListAtomicReference.get()</code> returns list <em>y</em></td>\n<td style=\"text-align: center;\"></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>In this scenario you would be reporting on the size of list <em>x</em> while handing off an entirely different list <em>y</em>.</p>\n<p>You should change that block to call <code>get</code> only once.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;IpBlockingDenyListRecord&gt; getIpBlockingDenyList() {\n    List&lt;IpBlockingDenyListRecord&gt; list = denyListAtomicReference.get().getIpBlockingDenyList() ;\n    log.info(&quot;localDenyListSize: &quot; + list.size());\n    return list;\n}\n</code></pre>\n<hr />\n<h2>Don't call <code>get</code> if you don't want the value returned</h2>\n<p>Separate issue: Call <code>set</code> rather than <code>getAndSet</code> if you don't capture the returned value.</p>\n<p>Your line:</p>\n<pre><code>denyListAtomicReference.getAndSet(new LocalIpBlockingDenyListResponse(newDenyList));\n</code></pre>\n<p>… returns the old value contained in the atomic reference before setting a new value in the atomic reference. But you do not bother to capture a reference to the old value returned. So there is no point here in &quot;getting&quot;. Just call <code>set</code> of you don't care about the old value.</p>\n<pre><code>denyListAtomicReference.set(new LocalIpBlockingDenyListResponse(newDenyList));\n</code></pre>\n<hr />\n<h2>Alternate example</h2>\n<p>Let's rewrite your code for simplicity.</p>\n<blockquote>\n<p>I have a class called LocalIpBlockingDenyListResponse that has two class members viz a List customClassList and an int storing hashCode() of customClassList</p>\n</blockquote>\n<p>Let's use a <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">record</a> for simplicity. Note that we guard our <code>List</code> property by ensuring it is immutable with call to <code>List.copyOf</code> combined with <code>new ArrayList</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.atomics;\n\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.List;\nimport java.util.Objects;\n\npublic record People( List &lt; String &gt; list ,\n                      int hash )\n{\n    public static People of ( final Collection &lt; String &gt; namesInput )\n    {\n        List &lt; String &gt; names = List.copyOf ( new ArrayList &lt;&gt; ( namesInput ) );\n        return new People ( names , Objects.hashCode ( names ) );\n    }\n\n    public People\n    {\n        Objects.requireNonNull ( list );\n        if ( Objects.hashCode ( list ) != hash ) throw new IllegalArgumentException ( &quot;Received an invalid hash code number&quot; );\n    }\n}\n\n</code></pre>\n<p>Assign an object of that record class to an atomic reference. And then replace that reference several times in other threads. I believe this code will result in there never being an empty list.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.atomics;\n\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.util.Collection;\nimport java.util.List;\nimport java.util.Objects;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.ScheduledExecutorService;\nimport java.util.concurrent.ThreadLocalRandom;\nimport java.util.concurrent.TimeUnit;\nimport java.util.concurrent.atomic.AtomicReference;\n\npublic class ListRef\n{\n    public final AtomicReference &lt; People &gt; peopleRef;\n\n    public ListRef ( People peopleArg )\n    {\n        Objects.requireNonNull ( peopleArg );\n        this.peopleRef = new AtomicReference &lt;&gt; ( peopleArg );\n    }\n\n    public void replacePeople ( Collection &lt; String &gt; names )\n    {\n        People newPeople = People.of ( names );\n        People oldPeople = this.peopleRef.getAndSet ( newPeople );\n        String report = &quot;Replaced &quot; + oldPeople + &quot; with &quot; + newPeople + &quot; at &quot; + Instant.now ( );\n        System.out.println ( report );  // Beware: System.out does NOT necessarily report its inputs in chronological order. Always include and study a timestamp.\n    }\n\n    public static void main ( String[] args )\n    {\n        People people = People.of ( List.of ( &quot;Alice&quot; , &quot;Bob&quot; ) );\n        ListRef app = new ListRef ( people );\n        app.demo ( );\n    }\n\n    private void demo ( )\n    {\n        System.out.println ( &quot;Demo beginning at &quot; + Instant.now ( ) );\n        List &lt; List &lt; String &gt; &gt; manyNames =\n                List.of (\n                        List.of ( &quot;Carol&quot; , &quot;Davis&quot; ) ,\n                        List.of ( &quot;Edith&quot; , &quot;Frank&quot; ) ,\n                        List.of ( &quot;Gail&quot; , &quot;Harold&quot; ) ,\n                        List.of ( &quot;Irene&quot; , &quot;Jack&quot; ) ,\n                        List.of ( &quot;Karen&quot; , &quot;Lenard&quot; )\n                );\n        try ( ScheduledExecutorService ses = Executors.newScheduledThreadPool ( 3 ) )\n        {\n            for ( List &lt; String &gt; names : manyNames )\n            {\n                Duration d = Duration.ofSeconds ( ThreadLocalRandom.current ( ).nextInt ( 5 , 25 ) );\n                ses.schedule (\n                        ( ) -&gt; this.replacePeople ( names ) ,\n                        d.toSeconds ( ) ,\n                        TimeUnit.SECONDS\n                );\n            }\n        }\n        System.out.println ( &quot;Demo ending at &quot; + Instant.now ( ) );\n    }\n}\n</code></pre>\n<p>When run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Demo beginning at 2023-08-03T06:55:43.175423Z\nReplaced People[list=[Alice, Bob], hash=1963929334] with People[list=[Karen, Lenard], hash=217763130] at 2023-08-03T06:55:51.215807Z\nReplaced People[list=[Karen, Lenard], hash=217763130] with People[list=[Gail, Harold], hash=-2072015662] at 2023-08-03T06:55:52.185813Z\nReplaced People[list=[Gail, Harold], hash=-2072015662] with People[list=[Irene, Jack], hash=-2094338259] at 2023-08-03T06:55:53.185362Z\nReplaced People[list=[Irene, Jack], hash=-2094338259] with People[list=[Edith, Frank], hash=2139146613] at 2023-08-03T06:55:59.185048Z\nReplaced People[list=[Edith, Frank], hash=2139146613] with People[list=[Carol, Davis], hash=2077047731] at 2023-08-03T06:56:07.182682Z\nDemo ending at 2023-08-03T06:56:07.183702Z\n</code></pre>\n"}],"owner":{"account_id":4257317,"reputation":1250,"user_id":3482656,"accept_rate":74,"display_name":"LearningAsIGo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76825288,"answer_count":1,"score":0,"last_activity_date":1691080269,"creation_date":1691010374,"question_id":76823529,"body_markdown":"I have a class called ```LocalIpBlockingDenyListResponse``` that has two class members viz a ```List&lt;CustomClass&gt; customClassList``` and an ```int``` storing ```hashCode()``` of ```customClassList```\r\n\r\nI have atomic reference of above class defined in another class like,\r\n\r\n    private final AtomicReference&lt;LocalIpBlockingDenyListResponse&gt; denyListAtomicReference;\r\n\r\n which is being initialized in the constructor like this \r\n\r\n    this.denyListAtomicReference = new AtomicReference&lt;&gt;(new LocalIpBlockingDenyListResponse(new ArrayList&lt;&gt;()));\r\n\r\nI have this code in a method in same class thats updating atomic reference\r\n\r\n    try {\r\n    List&lt;IpBlockingDenyListRecord&gt; newDenyList = sonarisConsumer. getSonarisSuggestions);\r\n    List&lt;IpBlockingDenyListRecord&gt; validatedDenyList = validate (newDenyList); consumptionMetrics.addCount(&quot;denyListSize&quot; , validatedDenyList.size), Unit.ONE);\r\n    setDenyListAtomicReference(validatedDenyList);\r\n    }\r\n\r\nThis is what setDenyListAtomicReference looks like\r\n\r\n    void setDenyListAtomicReference(List&lt;IpBlockingDenyListRecords newDenyList) {\r\n    denyListAtomicReference.getAndSet(new LocalIpBlockingDenyListResponse(newDenyList));\r\n    }\r\n\r\nBut when I call getIpBlockingDenyList\r\n\r\n    public List&lt;IpBlockingDenyListRecord&gt; getIpBlockingDenyList() {\r\n    log.info(&quot;localDenyListSize: &quot; + denyListAtomicReference.get() . getIpBlockingDenyList().size());\r\n    return denyListAtomicReference.get().getIpBlockingDenyList();\r\n\r\nit returns an empty list.\r\n\r\nI tried using ```set``` instead of ```getAndSet```. Added bunch of log and debug statements but I am not able to understand why reference is not updating. I have confirmed that ```validatedDenyList``` holds the records as expected and is non empty.\r\n\r\nCan someone please help me figure out what I am doing wrong?\r\n","title":"AtomicReference getAndSet not working as expected","body":"<p>I have a class called <code>LocalIpBlockingDenyListResponse</code> that has two class members viz a <code>List&lt;CustomClass&gt; customClassList</code> and an <code>int</code> storing <code>hashCode()</code> of <code>customClassList</code></p>\n<p>I have atomic reference of above class defined in another class like,</p>\n<pre><code>private final AtomicReference&lt;LocalIpBlockingDenyListResponse&gt; denyListAtomicReference;\n</code></pre>\n<p>which is being initialized in the constructor like this</p>\n<pre><code>this.denyListAtomicReference = new AtomicReference&lt;&gt;(new LocalIpBlockingDenyListResponse(new ArrayList&lt;&gt;()));\n</code></pre>\n<p>I have this code in a method in same class thats updating atomic reference</p>\n<pre><code>try {\nList&lt;IpBlockingDenyListRecord&gt; newDenyList = sonarisConsumer. getSonarisSuggestions);\nList&lt;IpBlockingDenyListRecord&gt; validatedDenyList = validate (newDenyList); consumptionMetrics.addCount(&quot;denyListSize&quot; , validatedDenyList.size), Unit.ONE);\nsetDenyListAtomicReference(validatedDenyList);\n}\n</code></pre>\n<p>This is what setDenyListAtomicReference looks like</p>\n<pre><code>void setDenyListAtomicReference(List&lt;IpBlockingDenyListRecords newDenyList) {\ndenyListAtomicReference.getAndSet(new LocalIpBlockingDenyListResponse(newDenyList));\n}\n</code></pre>\n<p>But when I call getIpBlockingDenyList</p>\n<pre><code>public List&lt;IpBlockingDenyListRecord&gt; getIpBlockingDenyList() {\nlog.info(&quot;localDenyListSize: &quot; + denyListAtomicReference.get() . getIpBlockingDenyList().size());\nreturn denyListAtomicReference.get().getIpBlockingDenyList();\n</code></pre>\n<p>it returns an empty list.</p>\n<p>I tried using <code>set</code> instead of <code>getAndSet</code>. Added bunch of log and debug statements but I am not able to understand why reference is not updating. I have confirmed that <code>validatedDenyList</code> holds the records as expected and is non empty.</p>\n<p>Can someone please help me figure out what I am doing wrong?</p>\n"},{"tags":["java","spring","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":14357523,"reputation":2069,"user_id":10370932,"display_name":"Adina Rolea"},"score":0,"creation_date":1540023255,"post_id":52903612,"comment_id":92718513,"body_markdown":"Your code looks fine, could you please add your spring application dependencies?","body":"Your code looks fine, could you please add your spring application dependencies?"},{"owner":{"account_id":959020,"reputation":3213,"user_id":983783,"accept_rate":63,"display_name":"Eddy Freeman"},"score":0,"creation_date":1540023739,"post_id":52903612,"comment_id":92718629,"body_markdown":"@Adina I have added additional config files","body":"@Adina I have added additional config files"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1540023851,"post_id":52903612,"comment_id":92718663,"body_markdown":"Why do you have these   &lt;!-- Servlet and JSP related dependencies --&gt; ) and do you plan to deploy your application as WAR or JAR?","body":"Why do you have these   &lt;!-- Servlet and JSP related dependencies --&gt; ) and do you plan to deploy your application as WAR or JAR?"},{"owner":{"account_id":959020,"reputation":3213,"user_id":983783,"accept_rate":63,"display_name":"Eddy Freeman"},"score":0,"creation_date":1540024163,"post_id":52903612,"comment_id":92718743,"body_markdown":"@SimonMartinelli deployment is not relevant at the moment. I just want to get the code to work.","body":"@SimonMartinelli deployment is not relevant at the moment. I just want to get the code to work."},{"owner":{"account_id":14357523,"reputation":2069,"user_id":10370932,"display_name":"Adina Rolea"},"score":0,"creation_date":1540025641,"post_id":52903612,"comment_id":92719046,"body_markdown":"@EddyFreeman do you want to have both jsp and thymeleaf? Your initialization fails because it does not know which one to initialize. This is an old debate on stackoverflow if you can have them both. If you will delete all dependencies related to jsp and let only thymeleaf, your error will not be raised anymore.","body":"@EddyFreeman do you want to have both jsp and thymeleaf? Your initialization fails because it does not know which one to initialize. This is an old debate on stackoverflow if you can have them both. If you will delete all dependencies related to jsp and let only thymeleaf, your error will not be raised anymore."},{"owner":{"account_id":959020,"reputation":3213,"user_id":983783,"accept_rate":63,"display_name":"Eddy Freeman"},"score":0,"creation_date":1540025962,"post_id":52903612,"comment_id":92719109,"body_markdown":"@Adina I have updated my post. I have deleted some dependencies from the POM but still get the error","body":"@Adina I have updated my post. I have deleted some dependencies from the POM but still get the error"},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1540028337,"post_id":52903612,"comment_id":92719632,"body_markdown":"Spring Boot will auto-configure Thymeleaf and Spring MVC for you. You almost certainly don’t want `@EnableWebMvc` and you probably don’t need any of the three Thymeleaf related beans either. What is the reason for configuring things manually rather than letting Spring Boot take care of things for you? Also, the packaging that you will use does matter here. There’s no `WEB-INF` unless you are building a war file.","body":"Spring Boot will auto-configure Thymeleaf and Spring MVC for you. You almost certainly don’t want <code>@EnableWebMvc</code> and you probably don’t need any of the three Thymeleaf related beans either. What is the reason for configuring things manually rather than letting Spring Boot take care of things for you? Also, the packaging that you will use does matter here. There’s no <code>WEB-INF</code> unless you are building a war file."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1540031335,"post_id":52903612,"comment_id":92720263,"body_markdown":"Have you had a look at the quickstarts. You don&#39;t need the ThymeleafConfig","body":"Have you had a look at the quickstarts. You don&#39;t need the ThymeleafConfig"}],"answers":[{"tags":[],"owner":{"account_id":14357523,"reputation":2069,"user_id":10370932,"display_name":"Adina Rolea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1540031286,"creation_date":1540030687,"answer_id":52904582,"question_id":52903612,"body_markdown":"After some debugging on your code, the real problem is that you are autowiring ThymeleafViewResolver in the configuration responsible to configure servlet context.\r\n\r\n     public class WebMvcConfig implements WebMvcConfigurer{\r\n  \r\n         @Autowired\r\n         private ThymeleafViewResolver thymeleafViewResolver;\r\n\r\nThe main problem is that before initializing your ServletContext, the application will try to initialize the ServletContextTemplateResolver (autowired will impose bean order initialization) and as you&#39;ve noticed it depends on ServletContext.\r\n\r\n**Solution** : \r\n\r\n- delete ThymeleafConfig class\r\n- don&#39;t autowire ThymeleafViewResolver in WebMvcConfig \r\n- and don&#39;t override method configureViewResolvers.\r\n\r\nDon&#39;t worry, Thymeleaf will be set by default as the viewResolver.\r\n\r\nMost of the config you&#39;ve provided is already &quot;taken care&quot; by spring-boot-starter-thymeleaf.\r\nIf you want just to change default view directory resolver, you can just add in application.properties\r\n\r\n    spring.mvc.view.prefix=/WEB-INF/templates/\r\n    spring.mvc.view.suffix=.html\r\n\r\nP.S: Take extra care when you override default definition from spring starters, as you can see these types of bugs are not easy to find.","title":"Issues with Spring Boot and Thymeleaf","body":"<p>After some debugging on your code, the real problem is that you are autowiring ThymeleafViewResolver in the configuration responsible to configure servlet context.</p>\n\n<pre><code> public class WebMvcConfig implements WebMvcConfigurer{\n\n     @Autowired\n     private ThymeleafViewResolver thymeleafViewResolver;\n</code></pre>\n\n<p>The main problem is that before initializing your ServletContext, the application will try to initialize the ServletContextTemplateResolver (autowired will impose bean order initialization) and as you've noticed it depends on ServletContext.</p>\n\n<p><strong>Solution</strong> : </p>\n\n<ul>\n<li>delete ThymeleafConfig class</li>\n<li>don't autowire ThymeleafViewResolver in WebMvcConfig </li>\n<li>and don't override method configureViewResolvers.</li>\n</ul>\n\n<p>Don't worry, Thymeleaf will be set by default as the viewResolver.</p>\n\n<p>Most of the config you've provided is already \"taken care\" by spring-boot-starter-thymeleaf.\nIf you want just to change default view directory resolver, you can just add in application.properties</p>\n\n<pre><code>spring.mvc.view.prefix=/WEB-INF/templates/\nspring.mvc.view.suffix=.html\n</code></pre>\n\n<p>P.S: Take extra care when you override default definition from spring starters, as you can see these types of bugs are not easy to find.</p>\n"}],"owner":{"account_id":959020,"reputation":3213,"user_id":983783,"accept_rate":63,"display_name":"Eddy Freeman"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2310,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":52904582,"answer_count":1,"score":0,"last_activity_date":1691080126,"creation_date":1540022197,"question_id":52903612,"body_markdown":"Here are my configuration classes:\r\n\r\nIn the `templateResolver()` method without ServletContext parameter I get a compile error so add it as a parameter and give it to `ServletContextTemplateResolver(servletContext)`:\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    @ComponentScan(basePackages= {&quot;com.packtpub.springsecurity&quot;})\r\n    public class ThymeleafConfig {\r\n    \r\n        @Bean\r\n        public ServletContextTemplateResolver templateResolver(ServletContext servletContext) {\r\n            ServletContextTemplateResolver resolver = new ServletContextTemplateResolver(servletContext);\r\n            resolver.setPrefix(&quot;/WEB-INF/templates/&quot;);\r\n            resolver.setSuffix(&quot;.html&quot;);\r\n            resolver.setTemplateMode(&quot;HTML5&quot;);\r\n            resolver.setCacheable(false);\r\n            resolver.setOrder(1);\r\n            return resolver;\r\n        }\r\n    \r\n        @Bean\r\n        public SpringTemplateEngine templateEngine(final ServletContextTemplateResolver templateResolver) {\r\n            SpringTemplateEngine engine = new SpringTemplateEngine();\r\n            engine.setTemplateResolver(templateResolver);\r\n            return engine;\r\n        }\r\n    \r\n        @Bean\r\n        public ThymeleafViewResolver thymeleafViewResolver(final SpringTemplateEngine templateEngine) {\r\n            ThymeleafViewResolver resolver = new ThymeleafViewResolver();\r\n            resolver.setTemplateEngine(templateEngine);\r\n            return resolver;\r\n        }\r\n    \r\n    }\r\n\r\nWhen I run my application I get following error:\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Parameter 0 of method templateResolver in com.packtpub.springsecurity.web.configuration.ThymeleafConfig required a bean of type &#39;javax.servlet.ServletContext&#39; that could not be found.\r\n    \r\n    The injection point has the following annotations:\r\n    \t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean of type &#39;javax.servlet.ServletContext&#39; in your configuration.\r\n\r\n\r\nWhat am I doing wrong?\r\n\r\nOther config files are:\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;chapter2&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;chapter2&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;chapter2&lt;/name&gt;\r\n    \t&lt;description&gt;chapter 2 test&lt;/description&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.0.6.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\t&lt;!-- Thymeleaf --&gt;\t\r\n     \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\t&lt;!-- Spring dependencies START--&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t   &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t   &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n    \t\t   &lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t   &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t   &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n    \t\t   &lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t   &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t   &lt;artifactId&gt;spring-security-crypto&lt;/artifactId&gt;\r\n    \t\t   &lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t   &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t   &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n    \t\t   &lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t   &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t   &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n    \t\t   &lt;/dependency&gt;\r\n    \t\t&lt;!-- Servlet and JSP related dependencies --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t   &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t   &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n    \t\t   &lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t   &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n    \t\t   &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\r\n    \t\t   &lt;version&gt;2.3.1&lt;/version&gt;\r\n    \t\t   &lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t   &lt;groupId&gt;javax.servlet.jsp.jstl&lt;/groupId&gt;\r\n    \t\t   &lt;artifactId&gt;javax.servlet.jsp.jstl-api&lt;/artifactId&gt;\r\n    \t\t   &lt;version&gt;1.2.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t   &lt;groupId&gt;taglibs&lt;/groupId&gt;\r\n    \t\t   &lt;artifactId&gt;standard&lt;/artifactId&gt;\r\n    \t\t   &lt;version&gt;1.1.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- For datasource configuration --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t   &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t   &lt;artifactId&gt;commons-dbcp2&lt;/artifactId&gt;\r\n    \t\t   &lt;/dependency&gt;\r\n    \t\t&lt;!-- We will be using MySQL as our database server --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t   &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t   &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t   &lt;version&gt;6.0.6&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;   \r\n     \t\t&lt;!-- Spring dependencies END --&gt;\t\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n        &lt;version&gt;20170516&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \t\t\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n\r\n    @Configuration\r\n    //@Import({SecurityConfig.class, DataSourceConfig.class})\r\n    @ComponentScan(basePackages =\r\n            {\r\n                    &quot;com.packtpub.springsecurity.dataaccess&quot;,\r\n                    &quot;com.packtpub.springsecurity.domain&quot;,\r\n                    &quot;com.packtpub.springsecurity.service&quot;\r\n            }\r\n    )\r\n    @PropertySource(value = {&quot;classpath:application.properties&quot;})\r\n    public class JavaConfig {\r\n    \r\n        /**\r\n         * Note: If you want to use @PropertySource, you must create a static\r\n         * PropertySourcesPlaceholderConfigurer with the @Bean as seen here.\r\n         * @return PropertySourcesPlaceholderConfigurer\r\n         * @throws java.io.IOException\r\n         */\r\n        @Bean\r\n        public static PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer() throws IOException {\r\n            PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer = new PropertySourcesPlaceholderConfigurer();\r\n            propertySourcesPlaceholderConfigurer.setIgnoreUnresolvablePlaceholders(Boolean.TRUE);\r\n            propertySourcesPlaceholderConfigurer.setProperties(yamlPropertiesFactoryBean().getObject());\r\n            return propertySourcesPlaceholderConfigurer;\r\n        }\r\n    \r\n        @Bean\r\n        public static YamlPropertiesFactoryBean yamlPropertiesFactoryBean() {\r\n            YamlPropertiesFactoryBean yaml = new YamlPropertiesFactoryBean();\r\n            yaml.setResources(new ClassPathResource(&quot;application.yml&quot;));\r\n            return yaml;\r\n        }\r\n    } // The end...\r\n\r\n\r\n\r\n    @Order(1)\r\n    public class SecurityWebAppInitializer\r\n            extends AbstractSecurityWebApplicationInitializer {\r\n    \r\n        /**\r\n         * Don&#39;t initialize the filter directly, the Spring WebApplicationInitializer\r\n         * parent will take care of the initialization.\r\n         */\r\n        public SecurityWebAppInitializer() {\r\n            super();\r\n        }\r\n    \r\n    } // The end...\r\n\r\n\r\n\r\n\r\n    public class WebAppInitializer\r\n            extends AbstractAnnotationConfigDispatcherServletInitializer {\r\n    \r\n        @Override\r\n        protected Class&lt;?&gt;[] getRootConfigClasses() {\r\n            return new Class[] { JavaConfig.class, SecurityConfig.class, DataSourceConfig.class };\r\n        }\r\n    \r\n        @Override\r\n        protected Class&lt;?&gt;[] getServletConfigClasses() {\r\n            return new Class[] { WebMvcConfig.class };\r\n        }\r\n    \r\n        @Override\r\n        protected String[] getServletMappings() {\r\n            return new String[] { &quot;/*&quot; };\r\n        }\r\n    \r\n        @Override\r\n        public void onStartup(final ServletContext servletContext)\r\n                throws ServletException {\r\n    \r\n            // Register DispatcherServlet\r\n            super.onStartup(servletContext);\r\n    \r\n            // Register H2 Admin console:\r\n            ServletRegistration.Dynamic h2WebServlet = servletContext.addServlet(&quot;h2WebServlet&quot;,\r\n                    &quot;org.h2.server.web.WebServlet&quot;);\r\n            h2WebServlet.addMapping(&quot;/admin/h2/*&quot;);\r\n            h2WebServlet.setInitParameter(&quot;webAllowOthers&quot;, &quot;true&quot;);\r\n    \r\n        }\r\n    \r\n    } // The End...\r\n\r\n\r\n\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    @Import({ThymeleafConfig.class})\r\n    @ComponentScan(basePackages = {\r\n            &quot;com.packtpub.springsecurity.web.controllers&quot;,\r\n            &quot;com.packtpub.springsecurity.web.model&quot;\r\n    })\r\n    public class WebMvcConfig extends WebMvcConfigurerAdapter\r\n    {\r\n    \r\n        @Autowired\r\n        private ThymeleafViewResolver thymeleafViewResolver;\r\n    \r\n        /**\r\n         * We mention this in the book, but this helps to ensure that the intercept-url patterns prevent access to our\r\n         * controllers. For example, once security has been applied for administrators try commenting out the modifications\r\n         * to the super class and requesting &lt;a\r\n         * href=&quot;http://localhost:800/calendar/events/.html&quot;&gt;http://localhost:800/calendar/events/.html&lt;/a&gt;. You will\r\n         * observe that security is bypassed since it did not match the pattern we provided. In later chapters, we discuss\r\n         * how to secure the service tier which helps mitigate bypassing of the URL based security too.\r\n         */\r\n        // FIXME: FInd out what this is and why it is here.\r\n        @Bean\r\n        public RequestMappingHandlerMapping requestMappingHandlerMapping() {\r\n            RequestMappingHandlerMapping result = new RequestMappingHandlerMapping();\r\n            result.setUseSuffixPatternMatch(false);\r\n            result.setUseTrailingSlashMatch(false);\r\n            return result;\r\n        }\r\n    \r\n        @Override\r\n        public void addResourceHandlers(final ResourceHandlerRegistry registry) {\r\n            super.addResourceHandlers(registry);\r\n            registry.addResourceHandler(&quot;/resources/**&quot;)\r\n                    .addResourceLocations(&quot;/resources/&quot;)\r\n                    .setCachePeriod(31_556_926)\r\n            ;\r\n        }\r\n    \r\n        @Override\r\n        public void configureContentNegotiation(final ContentNegotiationConfigurer configurer) {\r\n            configurer\r\n                    .ignoreAcceptHeader(false)\r\n                    .favorPathExtension(true) // .html / .json / .ms\r\n                    .defaultContentType(MediaType.TEXT_HTML) // text/html\r\n                    .mediaTypes(\r\n                            new HashMap&lt;String, MediaType&gt;(){\r\n                                {\r\n                                    put(&quot;html&quot;, MediaType.TEXT_HTML);\r\n                                    put(&quot;xml&quot;, MediaType.APPLICATION_XML);\r\n                                    put(&quot;json&quot;, MediaType.APPLICATION_JSON);\r\n                                }\r\n                            })\r\n            ;\r\n        }\r\n    \r\n        @Override\r\n        public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\r\n            converters.add(new MappingJackson2HttpMessageConverter());\r\n        }\r\n    \r\n        /*@Bean\r\n        public ContentNegotiatingViewResolver contentNegotiatingViewResolver() {\r\n    \r\n            ContentNegotiatingViewResolver result = new ContentNegotiatingViewResolver();\r\n            Map&lt;String, String&gt; mediaTypes = new HashMap&lt;&gt;();\r\n            mediaTypes.put(&quot;json&quot;, MediaType.APPLICATION_JSON_VALUE);\r\n    //        result.setMediaTypes(mediaTypes);\r\n    \r\n            result.setDefaultViews(Collections.singletonList(jacksonView()));\r\n    \r\n            return result;\r\n        }*/\r\n    \r\n        @Bean\r\n        public MappingJackson2JsonView jacksonView() {\r\n            MappingJackson2JsonView jacksonView = new MappingJackson2JsonView();\r\n            jacksonView.setExtractValueFromSingleKeyModel(true);\r\n    \r\n            Set&lt;String&gt; modelKeys = new HashSet&lt;String&gt;();\r\n            modelKeys.add(&quot;events&quot;);\r\n            modelKeys.add(&quot;event&quot;);\r\n            jacksonView.setModelKeys(modelKeys);\r\n    \r\n            return jacksonView;\r\n        }\r\n    \r\n        @Override\r\n        public void configureViewResolvers(final ViewResolverRegistry registry) {\r\n            registry.viewResolver(thymeleafViewResolver);\r\n        }\r\n    \r\n    \r\n        // i18N support\r\n        @Bean\r\n        public ReloadableResourceBundleMessageSource messageSource() {\r\n            ReloadableResourceBundleMessageSource resource = new ReloadableResourceBundleMessageSource();\r\n            resource.setBasenames(&quot;/WEB-INF/locales/messages&quot;);\r\n            resource.setDefaultEncoding(&quot;UTF-8&quot;);\r\n            resource.setFallbackToSystemLocale(Boolean.TRUE);\r\n            return resource;\r\n        }\r\n    \r\n        @Override\r\n        public void configureDefaultServletHandling(DefaultServletHandlerConfigurer configurer){\r\n            configurer.enable();\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nUpdated\r\n---\r\n\r\nI have deleted the following dependencies from the POM according to @Adina in the comment below but still get the errors:\r\n\r\n\r\n    &lt;!-- dependency&gt;\r\n    \t\t   &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t   &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n    \t\t   &lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t   &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n    \t\t   &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\r\n    \t\t   &lt;version&gt;2.3.1&lt;/version&gt;\r\n    \t\t   &lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t   &lt;groupId&gt;javax.servlet.jsp.jstl&lt;/groupId&gt;\r\n    \t\t   &lt;artifactId&gt;javax.servlet.jsp.jstl-api&lt;/artifactId&gt;\r\n    \t\t   &lt;version&gt;1.2.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t   &lt;groupId&gt;taglibs&lt;/groupId&gt;\r\n    \t\t   &lt;artifactId&gt;standard&lt;/artifactId&gt;\r\n    \t\t   &lt;version&gt;1.1.2&lt;/version&gt;\r\n    \t\t&lt;/dependency--&gt;\r\n\r\n\r\n\r\nWhat else can I do again?\r\n","title":"Issues with Spring Boot and Thymeleaf","body":"<p>Here are my configuration classes:</p>\n<p>In the <code>templateResolver()</code> method without ServletContext parameter I get a compile error so add it as a parameter and give it to <code>ServletContextTemplateResolver(servletContext)</code>:</p>\n<pre><code>@Configuration\n@EnableWebMvc\n@ComponentScan(basePackages= {&quot;com.packtpub.springsecurity&quot;})\npublic class ThymeleafConfig {\n\n    @Bean\n    public ServletContextTemplateResolver templateResolver(ServletContext servletContext) {\n        ServletContextTemplateResolver resolver = new ServletContextTemplateResolver(servletContext);\n        resolver.setPrefix(&quot;/WEB-INF/templates/&quot;);\n        resolver.setSuffix(&quot;.html&quot;);\n        resolver.setTemplateMode(&quot;HTML5&quot;);\n        resolver.setCacheable(false);\n        resolver.setOrder(1);\n        return resolver;\n    }\n\n    @Bean\n    public SpringTemplateEngine templateEngine(final ServletContextTemplateResolver templateResolver) {\n        SpringTemplateEngine engine = new SpringTemplateEngine();\n        engine.setTemplateResolver(templateResolver);\n        return engine;\n    }\n\n    @Bean\n    public ThymeleafViewResolver thymeleafViewResolver(final SpringTemplateEngine templateEngine) {\n        ThymeleafViewResolver resolver = new ThymeleafViewResolver();\n        resolver.setTemplateEngine(templateEngine);\n        return resolver;\n    }\n\n}\n</code></pre>\n<p>When I run my application I get following error:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of method templateResolver in com.packtpub.springsecurity.web.configuration.ThymeleafConfig required a bean of type 'javax.servlet.ServletContext' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'javax.servlet.ServletContext' in your configuration.\n</code></pre>\n<p>What am I doing wrong?</p>\n<p>Other config files are:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;chapter2&lt;/groupId&gt;\n    &lt;artifactId&gt;chapter2&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;chapter2&lt;/name&gt;\n    &lt;description&gt;chapter 2 test&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.0.6.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        \n        \n        &lt;!-- Thymeleaf --&gt;  \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        \n        \n        \n        \n        &lt;!-- Spring dependencies START--&gt;\n        &lt;dependency&gt;\n           &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n           &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n           &lt;/dependency&gt;\n        &lt;dependency&gt;\n           &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n           &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n           &lt;/dependency&gt;\n        &lt;dependency&gt;\n           &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n           &lt;artifactId&gt;spring-security-crypto&lt;/artifactId&gt;\n           &lt;/dependency&gt;\n        &lt;dependency&gt;\n           &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n           &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n           &lt;/dependency&gt;\n        &lt;dependency&gt;\n           &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n           &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n           &lt;/dependency&gt;\n        &lt;!-- Servlet and JSP related dependencies --&gt;\n        &lt;dependency&gt;\n           &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n           &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n           &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n           &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n           &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\n           &lt;version&gt;2.3.1&lt;/version&gt;\n           &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n           &lt;groupId&gt;javax.servlet.jsp.jstl&lt;/groupId&gt;\n           &lt;artifactId&gt;javax.servlet.jsp.jstl-api&lt;/artifactId&gt;\n           &lt;version&gt;1.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n           &lt;groupId&gt;taglibs&lt;/groupId&gt;\n           &lt;artifactId&gt;standard&lt;/artifactId&gt;\n           &lt;version&gt;1.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- For datasource configuration --&gt;\n        &lt;dependency&gt;\n           &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n           &lt;artifactId&gt;commons-dbcp2&lt;/artifactId&gt;\n           &lt;/dependency&gt;\n        &lt;!-- We will be using MySQL as our database server --&gt;\n        &lt;dependency&gt;\n           &lt;groupId&gt;mysql&lt;/groupId&gt;\n           &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n           &lt;version&gt;6.0.6&lt;/version&gt;\n        &lt;/dependency&gt;   \n        &lt;!-- Spring dependencies END --&gt;    \n        \n        \n        \n        &lt;dependency&gt;\n    &lt;groupId&gt;org.json&lt;/groupId&gt;\n    &lt;artifactId&gt;json&lt;/artifactId&gt;\n    &lt;version&gt;20170516&lt;/version&gt;\n&lt;/dependency&gt;\n        \n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n\n\n\n@Configuration\n//@Import({SecurityConfig.class, DataSourceConfig.class})\n@ComponentScan(basePackages =\n        {\n                &quot;com.packtpub.springsecurity.dataaccess&quot;,\n                &quot;com.packtpub.springsecurity.domain&quot;,\n                &quot;com.packtpub.springsecurity.service&quot;\n        }\n)\n@PropertySource(value = {&quot;classpath:application.properties&quot;})\npublic class JavaConfig {\n\n    /**\n     * Note: If you want to use @PropertySource, you must create a static\n     * PropertySourcesPlaceholderConfigurer with the @Bean as seen here.\n     * @return PropertySourcesPlaceholderConfigurer\n     * @throws java.io.IOException\n     */\n    @Bean\n    public static PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer() throws IOException {\n        PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer = new PropertySourcesPlaceholderConfigurer();\n        propertySourcesPlaceholderConfigurer.setIgnoreUnresolvablePlaceholders(Boolean.TRUE);\n        propertySourcesPlaceholderConfigurer.setProperties(yamlPropertiesFactoryBean().getObject());\n        return propertySourcesPlaceholderConfigurer;\n    }\n\n    @Bean\n    public static YamlPropertiesFactoryBean yamlPropertiesFactoryBean() {\n        YamlPropertiesFactoryBean yaml = new YamlPropertiesFactoryBean();\n        yaml.setResources(new ClassPathResource(&quot;application.yml&quot;));\n        return yaml;\n    }\n} // The end...\n\n\n\n@Order(1)\npublic class SecurityWebAppInitializer\n        extends AbstractSecurityWebApplicationInitializer {\n\n    /**\n     * Don't initialize the filter directly, the Spring WebApplicationInitializer\n     * parent will take care of the initialization.\n     */\n    public SecurityWebAppInitializer() {\n        super();\n    }\n\n} // The end...\n\n\n\n\npublic class WebAppInitializer\n        extends AbstractAnnotationConfigDispatcherServletInitializer {\n\n    @Override\n    protected Class&lt;?&gt;[] getRootConfigClasses() {\n        return new Class[] { JavaConfig.class, SecurityConfig.class, DataSourceConfig.class };\n    }\n\n    @Override\n    protected Class&lt;?&gt;[] getServletConfigClasses() {\n        return new Class[] { WebMvcConfig.class };\n    }\n\n    @Override\n    protected String[] getServletMappings() {\n        return new String[] { &quot;/*&quot; };\n    }\n\n    @Override\n    public void onStartup(final ServletContext servletContext)\n            throws ServletException {\n\n        // Register DispatcherServlet\n        super.onStartup(servletContext);\n\n        // Register H2 Admin console:\n        ServletRegistration.Dynamic h2WebServlet = servletContext.addServlet(&quot;h2WebServlet&quot;,\n                &quot;org.h2.server.web.WebServlet&quot;);\n        h2WebServlet.addMapping(&quot;/admin/h2/*&quot;);\n        h2WebServlet.setInitParameter(&quot;webAllowOthers&quot;, &quot;true&quot;);\n\n    }\n\n} // The End...\n\n\n\n\n@Configuration\n@EnableWebMvc\n@Import({ThymeleafConfig.class})\n@ComponentScan(basePackages = {\n        &quot;com.packtpub.springsecurity.web.controllers&quot;,\n        &quot;com.packtpub.springsecurity.web.model&quot;\n})\npublic class WebMvcConfig extends WebMvcConfigurerAdapter\n{\n\n    @Autowired\n    private ThymeleafViewResolver thymeleafViewResolver;\n\n    /**\n     * We mention this in the book, but this helps to ensure that the intercept-url patterns prevent access to our\n     * controllers. For example, once security has been applied for administrators try commenting out the modifications\n     * to the super class and requesting &lt;a\n     * href=&quot;http://localhost:800/calendar/events/.html&quot;&gt;http://localhost:800/calendar/events/.html&lt;/a&gt;. You will\n     * observe that security is bypassed since it did not match the pattern we provided. In later chapters, we discuss\n     * how to secure the service tier which helps mitigate bypassing of the URL based security too.\n     */\n    // FIXME: FInd out what this is and why it is here.\n    @Bean\n    public RequestMappingHandlerMapping requestMappingHandlerMapping() {\n        RequestMappingHandlerMapping result = new RequestMappingHandlerMapping();\n        result.setUseSuffixPatternMatch(false);\n        result.setUseTrailingSlashMatch(false);\n        return result;\n    }\n\n    @Override\n    public void addResourceHandlers(final ResourceHandlerRegistry registry) {\n        super.addResourceHandlers(registry);\n        registry.addResourceHandler(&quot;/resources/**&quot;)\n                .addResourceLocations(&quot;/resources/&quot;)\n                .setCachePeriod(31_556_926)\n        ;\n    }\n\n    @Override\n    public void configureContentNegotiation(final ContentNegotiationConfigurer configurer) {\n        configurer\n                .ignoreAcceptHeader(false)\n                .favorPathExtension(true) // .html / .json / .ms\n                .defaultContentType(MediaType.TEXT_HTML) // text/html\n                .mediaTypes(\n                        new HashMap&lt;String, MediaType&gt;(){\n                            {\n                                put(&quot;html&quot;, MediaType.TEXT_HTML);\n                                put(&quot;xml&quot;, MediaType.APPLICATION_XML);\n                                put(&quot;json&quot;, MediaType.APPLICATION_JSON);\n                            }\n                        })\n        ;\n    }\n\n    @Override\n    public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n        converters.add(new MappingJackson2HttpMessageConverter());\n    }\n\n    /*@Bean\n    public ContentNegotiatingViewResolver contentNegotiatingViewResolver() {\n\n        ContentNegotiatingViewResolver result = new ContentNegotiatingViewResolver();\n        Map&lt;String, String&gt; mediaTypes = new HashMap&lt;&gt;();\n        mediaTypes.put(&quot;json&quot;, MediaType.APPLICATION_JSON_VALUE);\n//        result.setMediaTypes(mediaTypes);\n\n        result.setDefaultViews(Collections.singletonList(jacksonView()));\n\n        return result;\n    }*/\n\n    @Bean\n    public MappingJackson2JsonView jacksonView() {\n        MappingJackson2JsonView jacksonView = new MappingJackson2JsonView();\n        jacksonView.setExtractValueFromSingleKeyModel(true);\n\n        Set&lt;String&gt; modelKeys = new HashSet&lt;String&gt;();\n        modelKeys.add(&quot;events&quot;);\n        modelKeys.add(&quot;event&quot;);\n        jacksonView.setModelKeys(modelKeys);\n\n        return jacksonView;\n    }\n\n    @Override\n    public void configureViewResolvers(final ViewResolverRegistry registry) {\n        registry.viewResolver(thymeleafViewResolver);\n    }\n\n\n    // i18N support\n    @Bean\n    public ReloadableResourceBundleMessageSource messageSource() {\n        ReloadableResourceBundleMessageSource resource = new ReloadableResourceBundleMessageSource();\n        resource.setBasenames(&quot;/WEB-INF/locales/messages&quot;);\n        resource.setDefaultEncoding(&quot;UTF-8&quot;);\n        resource.setFallbackToSystemLocale(Boolean.TRUE);\n        return resource;\n    }\n\n    @Override\n    public void configureDefaultServletHandling(DefaultServletHandlerConfigurer configurer){\n        configurer.enable();\n    }\n\n\n}\n</code></pre>\n<h2>Updated</h2>\n<p>I have deleted the following dependencies from the POM according to @Adina in the comment below but still get the errors:</p>\n<pre><code>&lt;!-- dependency&gt;\n           &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n           &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n           &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n           &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n           &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\n           &lt;version&gt;2.3.1&lt;/version&gt;\n           &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n           &lt;groupId&gt;javax.servlet.jsp.jstl&lt;/groupId&gt;\n           &lt;artifactId&gt;javax.servlet.jsp.jstl-api&lt;/artifactId&gt;\n           &lt;version&gt;1.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n           &lt;groupId&gt;taglibs&lt;/groupId&gt;\n           &lt;artifactId&gt;standard&lt;/artifactId&gt;\n           &lt;version&gt;1.1.2&lt;/version&gt;\n        &lt;/dependency--&gt;\n</code></pre>\n<p>What else can I do again?</p>\n"},{"tags":["java","swing","javasound","java-module"],"comments":[{"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"score":3,"creation_date":1691012163,"post_id":76823639,"comment_id":135434894,"body_markdown":"Instead of `DataLine.Info info = new DataLine.Info(SourceDataLine.class, audioFormat);` can you please try with `DataLine.Info info = new DataLine.Info(Clip.class, audioFormat);`?","body":"Instead of <code>DataLine.Info info = new DataLine.Info(SourceDataLine.class, audioFormat);</code> can you please try with <code>DataLine.Info info = new DataLine.Info(Clip.class, audioFormat);</code>?"},{"owner":{"account_id":1455822,"reputation":645,"user_id":1371410,"accept_rate":68,"display_name":"cpliu338"},"score":0,"creation_date":1691059171,"post_id":76823639,"comment_id":135441647,"body_markdown":"Yes that works, thank you.  If you put that as an answer, I will accept it.","body":"Yes that works, thank you.  If you put that as an answer, I will accept it."}],"answers":[{"tags":[],"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691065191,"creation_date":1691065191,"answer_id":76828009,"question_id":76823639,"body_markdown":"According to the documentation ([here][1]), the first argument of the `DataLine.Info` constructor you are using is:\r\n\r\n&gt; the class of the data line described by the info object\r\n\r\nThen, according to the documentation of `AudioSystem`&#39;s `getLine` method ([here][2]):\r\n\r\n&gt; Obtains a line that matches the description in the specified `Line.Info` object.\r\n\r\nAlso, `DataLine.Info` is a `Line.Info`, hence I assumed that the documentation of `getLine` applies to `DataLine.Info` as well. My assumption results mainly from OOP inheritance and trust in the implementation.\r\n\r\nFinally, the error is a `ClassCastException`, which indicates (and states) that the returned object by `getLine` was not of type `Clip`.\r\n\r\nFrom the docs and the observation of the error and if the assumption is true and after searching similar usages to get inspired, one can maybe conclude that the first argument of `DataLine.Info` constructor should be the type of object returned by `getLine`. This is why I suggested in the comments of the question to try the following solution to this:\r\n\r\nChange the following line of code:\r\n```\r\nDataLine.Info info = new DataLine.Info(SourceDataLine.class, audioFormat);\r\n```\r\nto:\r\n```\r\nDataLine.Info info = new DataLine.Info(Clip.class, audioFormat);\r\n```\r\nin order to obtain a instance of `Clip` (which is a `DataLine`, which is a `Line`).\r\n\r\nI didn&#39;t try it and I am not really familiar with `javax.sound.sampled` package (hence a comment initially), but since you reported it worked, I figured it is an answer and wrote it here.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/javax/sound/sampled/DataLine.Info.html#%3Cinit%3E(java.lang.Class,javax.sound.sampled.AudioFormat)\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/javax/sound/sampled/AudioSystem.html#getLine(javax.sound.sampled.Line.Info)\r\n","title":"ClassCastException thrown when creating a javax.sound.sampled.Clip","body":"<p>According to the documentation (<a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/javax/sound/sampled/DataLine.Info.html#%3Cinit%3E(java.lang.Class,javax.sound.sampled.AudioFormat)\" rel=\"nofollow noreferrer\">here</a>), the first argument of the <code>DataLine.Info</code> constructor you are using is:</p>\n<blockquote>\n<p>the class of the data line described by the info object</p>\n</blockquote>\n<p>Then, according to the documentation of <code>AudioSystem</code>'s <code>getLine</code> method (<a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/javax/sound/sampled/AudioSystem.html#getLine(javax.sound.sampled.Line.Info)\" rel=\"nofollow noreferrer\">here</a>):</p>\n<blockquote>\n<p>Obtains a line that matches the description in the specified <code>Line.Info</code> object.</p>\n</blockquote>\n<p>Also, <code>DataLine.Info</code> is a <code>Line.Info</code>, hence I assumed that the documentation of <code>getLine</code> applies to <code>DataLine.Info</code> as well. My assumption results mainly from OOP inheritance and trust in the implementation.</p>\n<p>Finally, the error is a <code>ClassCastException</code>, which indicates (and states) that the returned object by <code>getLine</code> was not of type <code>Clip</code>.</p>\n<p>From the docs and the observation of the error and if the assumption is true and after searching similar usages to get inspired, one can maybe conclude that the first argument of <code>DataLine.Info</code> constructor should be the type of object returned by <code>getLine</code>. This is why I suggested in the comments of the question to try the following solution to this:</p>\n<p>Change the following line of code:</p>\n<pre><code>DataLine.Info info = new DataLine.Info(SourceDataLine.class, audioFormat);\n</code></pre>\n<p>to:</p>\n<pre><code>DataLine.Info info = new DataLine.Info(Clip.class, audioFormat);\n</code></pre>\n<p>in order to obtain a instance of <code>Clip</code> (which is a <code>DataLine</code>, which is a <code>Line</code>).</p>\n<p>I didn't try it and I am not really familiar with <code>javax.sound.sampled</code> package (hence a comment initially), but since you reported it worked, I figured it is an answer and wrote it here.</p>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1691080102,"creation_date":1691080102,"answer_id":76829990,"question_id":76823639,"body_markdown":"I don’t know why people continue to believe the Baeldung guy is an expert on Java.  He is not.\r\n\r\nYou can just replace these lines:\r\n\r\n    AudioFormat audioFormat = audioStream.getFormat();\r\n    DataLine.Info info = new DataLine.Info(SourceDataLine.class, audioFormat);\r\n    Clip audioClip = (Clip) AudioSystem.getLine(info);\r\n\r\nwith this:\r\n\r\n    Clip audioClip = AudioSystem.getClip();\r\n\r\nThat [getClip()](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/sound/sampled/AudioSystem.html#getClip()) method has been available since Java 1.5, so there is no excuse for a 2023 article that claims to aid Java programmers overlooking it.\r\n","title":"ClassCastException thrown when creating a javax.sound.sampled.Clip","body":"<p>I don’t know why people continue to believe the Baeldung guy is an expert on Java.  He is not.</p>\n<p>You can just replace these lines:</p>\n<pre><code>AudioFormat audioFormat = audioStream.getFormat();\nDataLine.Info info = new DataLine.Info(SourceDataLine.class, audioFormat);\nClip audioClip = (Clip) AudioSystem.getLine(info);\n</code></pre>\n<p>with this:</p>\n<pre><code>Clip audioClip = AudioSystem.getClip();\n</code></pre>\n<p>That <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/sound/sampled/AudioSystem.html#getClip()\" rel=\"nofollow noreferrer\">getClip()</a> method has been available since Java 1.5, so there is no excuse for a 2023 article that claims to aid Java programmers overlooking it.</p>\n"}],"owner":{"account_id":1455822,"reputation":645,"user_id":1371410,"accept_rate":68,"display_name":"cpliu338"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76828009,"answer_count":2,"score":0,"last_activity_date":1691080102,"creation_date":1691011649,"question_id":76823639,"body_markdown":"I want to play sound in a Java Swing application.  I referred to https://www.baeldung.com/java-play-sound and modify like this:\r\n\r\nmodule-info.java\r\n\r\n    module sound {\r\n        requires java.desktop;\r\n    }\r\n\r\nThe source files are in the same folder [mydomain]/desktopproject/sound.  There is a Swing JFrame with a JButton, when I press the button the following snippet runs until the last line throws a ClassCastException:\r\n\r\n    audioStream = AudioSystem.getAudioInputStream(new BufferedInputStream(\r\n        new FileInputStream(new File(&quot;/path-to-my.wav&quot;))\r\n    ));\r\n    AudioFormat audioFormat = audioStream.getFormat();\r\n    DataLine.Info info = new DataLine.Info(SourceDataLine.class, audioFormat);\r\n    Clip audioClip = (Clip) AudioSystem.getLine(info);\r\n\r\nThe exception message is like this:\r\n\r\n```\r\nException in thread &quot;AWT-EventQueue-0&quot;\r\njava.lang.ClassCastException: class com.sun.media.sound.DirectAudioDevice$DirectSDL\r\n   cannot be cast to class javax.sound.sampled.Clip\r\n   (com.sun.media.sound.DirectAudioDevice$DirectSDL\r\n   and javax.sound.sampled.Clip are in module java.desktop\r\n   of loader &#39;bootstrap&#39;)\r\n```\r\n\r\nI am not sure where the problem is.  I use openjdk version &quot;11.0.20&quot; 2023-07-18 and when I ran `java --list-module`, I got:\r\n\r\n    java.desktop@11.0.20\r\n","title":"ClassCastException thrown when creating a javax.sound.sampled.Clip","body":"<p>I want to play sound in a Java Swing application.  I referred to <a href=\"https://www.baeldung.com/java-play-sound\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-play-sound</a> and modify like this:</p>\n<p>module-info.java</p>\n<pre><code>module sound {\n    requires java.desktop;\n}\n</code></pre>\n<p>The source files are in the same folder [mydomain]/desktopproject/sound.  There is a Swing JFrame with a JButton, when I press the button the following snippet runs until the last line throws a ClassCastException:</p>\n<pre><code>audioStream = AudioSystem.getAudioInputStream(new BufferedInputStream(\n    new FileInputStream(new File(&quot;/path-to-my.wav&quot;))\n));\nAudioFormat audioFormat = audioStream.getFormat();\nDataLine.Info info = new DataLine.Info(SourceDataLine.class, audioFormat);\nClip audioClip = (Clip) AudioSystem.getLine(info);\n</code></pre>\n<p>The exception message is like this:</p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot;\njava.lang.ClassCastException: class com.sun.media.sound.DirectAudioDevice$DirectSDL\n   cannot be cast to class javax.sound.sampled.Clip\n   (com.sun.media.sound.DirectAudioDevice$DirectSDL\n   and javax.sound.sampled.Clip are in module java.desktop\n   of loader 'bootstrap')\n</code></pre>\n<p>I am not sure where the problem is.  I use openjdk version &quot;11.0.20&quot; 2023-07-18 and when I ran <code>java --list-module</code>, I got:</p>\n<pre><code>java.desktop@11.0.20\n</code></pre>\n"},{"tags":["java","osgi","declarative-services"],"owner":{"account_id":9796447,"reputation":392,"user_id":7259317,"display_name":"A7exSchin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691079766,"creation_date":1691079766,"question_id":76829957,"body_markdown":"I am confused.\r\n\r\nI am currently developing an application using OSGi declarative services (DS). I have an API for my application and the application works fine. \r\nNow I want to add a User Interface. So I decided on a separation between a Controller and View Elements. Each view is it&#39;s own component.\r\n\r\nNow my confusion starts. When I am using DS, I create a Service Interface which gets implementet by its Implementation and consumed by a Consumer. I do not understand how this fits in with UI Elements? I do not want to register a complete new API just for my UI into the OSGi framework, and I do not think it should be necessary. On the other hand, if I want to leverage OSGi to dynamically load my components if and only if they are needed, to save resources, I cannot seem to reference them properly, because they are not Services and therefore not registered with the framework....?\r\n\r\n\r\nI tried to manually register Services with\r\n\r\n    FrameworkUtil.getBundle(getClass()).getBundleContext().registerService(Class.class, new Class(), null)\r\n\r\nand later retrieving them with\r\n\r\n    context.getService(context.getServiceReference(Class.class)\r\n\r\nBut first, this does not seem to work, as I get an error stating that Null Service References are not allowed, and secondly I do want to make this kind of properly. According to Peter Kriens in [this][1] SO discussion registering and retrieveing services manually is really really really not recommended.\r\n\r\nSo I feel like I am overseeing something relevant.\r\nIn conclusion these are my most important questions:\r\n\r\n 1. When I have multiple Components inside one package and I do not want to call each others constructors like plain java, how does one component activate another, using the OSGi SCR and use their methods? For example the MainView has a button to Edit something, which is its own dialog and Component. So when the user presses the button, the MainView component activate the EditView component, which is only then loaded and thrown away afterwards.\r\n\r\n 2. How does registering components in a framework work? Is it even possible? I feel like, as well thought through as the OSGi spec exists, this either exists already or I should not do it and think through my application structure.\r\n\r\n3. Using the Controller-View pattern the UI only talks to a controller, which fetches data from the Service over a standard OSGi Reference. Does this setup even make sense implemented in OSGi?\r\n\r\n\r\nThanks for any help or discussion. I really appreciate it.\r\n\r\n  [1]: https://stackoverflow.com/questions/39004498/how-to-programmatically-register-a-service-in-the-scr-using-osgi-standard-featur","title":"OSGi Confusion: Declarative Services with User-Interface Components and Controller-View pattern","body":"<p>I am confused.</p>\n<p>I am currently developing an application using OSGi declarative services (DS). I have an API for my application and the application works fine.\nNow I want to add a User Interface. So I decided on a separation between a Controller and View Elements. Each view is it's own component.</p>\n<p>Now my confusion starts. When I am using DS, I create a Service Interface which gets implementet by its Implementation and consumed by a Consumer. I do not understand how this fits in with UI Elements? I do not want to register a complete new API just for my UI into the OSGi framework, and I do not think it should be necessary. On the other hand, if I want to leverage OSGi to dynamically load my components if and only if they are needed, to save resources, I cannot seem to reference them properly, because they are not Services and therefore not registered with the framework....?</p>\n<p>I tried to manually register Services with</p>\n<pre><code>FrameworkUtil.getBundle(getClass()).getBundleContext().registerService(Class.class, new Class(), null)\n</code></pre>\n<p>and later retrieving them with</p>\n<pre><code>context.getService(context.getServiceReference(Class.class)\n</code></pre>\n<p>But first, this does not seem to work, as I get an error stating that Null Service References are not allowed, and secondly I do want to make this kind of properly. According to Peter Kriens in <a href=\"https://stackoverflow.com/questions/39004498/how-to-programmatically-register-a-service-in-the-scr-using-osgi-standard-featur\">this</a> SO discussion registering and retrieveing services manually is really really really not recommended.</p>\n<p>So I feel like I am overseeing something relevant.\nIn conclusion these are my most important questions:</p>\n<ol>\n<li><p>When I have multiple Components inside one package and I do not want to call each others constructors like plain java, how does one component activate another, using the OSGi SCR and use their methods? For example the MainView has a button to Edit something, which is its own dialog and Component. So when the user presses the button, the MainView component activate the EditView component, which is only then loaded and thrown away afterwards.</p>\n</li>\n<li><p>How does registering components in a framework work? Is it even possible? I feel like, as well thought through as the OSGi spec exists, this either exists already or I should not do it and think through my application structure.</p>\n</li>\n<li><p>Using the Controller-View pattern the UI only talks to a controller, which fetches data from the Service over a standard OSGi Reference. Does this setup even make sense implemented in OSGi?</p>\n</li>\n</ol>\n<p>Thanks for any help or discussion. I really appreciate it.</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691078025,"creation_date":1691077311,"answer_id":76829665,"question_id":76829595,"body_markdown":"You need to autowire the required component.\r\n```\r\n@Component\r\npublic class Component2 {\r\n\r\n    private final Component1 comp1;\r\n\r\n    @Autowired\r\n    public Component2(Component1 comp1) {\r\n        this.comp1 = comp1;\r\n    }\r\n\r\n    public void theMethod() {\r\n        this.comp1.doStuff();\r\n    }\r\n}\r\n```\r\nSpring will inject the `Component1` bean in `Component2` when creating it.\r\n\r\nLooking at Component1, it seems like it needs additional initialization before usage. This can be achieved using by annotating init method with `@PostConstruct`, or by implementing [InitializingBean][1].\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/InitializingBean.html","title":"Use one Spring Framework autowired Component in another Component","body":"<p>You need to autowire the required component.</p>\n<pre><code>@Component\npublic class Component2 {\n\n    private final Component1 comp1;\n\n    @Autowired\n    public Component2(Component1 comp1) {\n        this.comp1 = comp1;\n    }\n\n    public void theMethod() {\n        this.comp1.doStuff();\n    }\n}\n</code></pre>\n<p>Spring will inject the <code>Component1</code> bean in <code>Component2</code> when creating it.</p>\n<p>Looking at Component1, it seems like it needs additional initialization before usage. This can be achieved using by annotating init method with <code>@PostConstruct</code>, or by implementing <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/InitializingBean.html\" rel=\"nofollow noreferrer\">InitializingBean</a>.</p>\n"}],"owner":{"account_id":10815338,"reputation":39157,"user_id":7954504,"accept_rate":99,"display_name":"Brad Solomon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76829665,"answer_count":1,"score":0,"last_activity_date":1691079730,"creation_date":1691076823,"question_id":76829595,"body_markdown":"How can I use one Spring Framework autowired `Component` in another `Component`?\r\n\r\nCurrently, I receive the following compilation failure:\r\n\r\n```text\r\nComponent2.java:[15,13] variable comp1 might not have been initialized\r\n```\r\n\r\nTo reproduce:\r\n\r\nUse Spring initializr to create a Spring project. (Java 20 / Spring 2.7.14 / Maven / JAR.)\r\n\r\nProject structure:\r\n\r\n```text\r\n$ tree src/main\r\nsrc/main\r\n├── java\r\n│&#160;&#160; └── com\r\n│&#160;&#160;     └── example\r\n│&#160;&#160;         └── demo\r\n│&#160;&#160;             ├── Component1.java\r\n│&#160;&#160;             ├── Component2.java\r\n│&#160;&#160;             └── DemoApplication.java\r\n└── resources\r\n    └── application.yml\r\n```\r\n\r\nContents:\r\n\r\n```yaml\r\n# src/main/resources/application.yml\r\nfoo: bar\r\n```\r\n\r\n```java\r\n// src/main/java/com/example/demo/DemoApplication.java\r\npackage com.example.demo;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.annotation.ComponentScan;\r\n\r\n@ComponentScan(basePackages = &quot;com.example.demo&quot;)\r\n@SpringBootApplication\r\npublic class DemoApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n```java\r\n// src/main/java/com/example/demo/Component1.java\r\npackage com.example.demo;\r\n\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Value;\r\n\r\n@Component\r\npublic class Component1 {\r\n\r\n    private final String foo;\r\n\r\n    public void initialize() {\r\n        System.out.println(&quot;initialized&quot;);\r\n    }\r\n\r\n    public void doStuff() {\r\n        System.out.println(&quot;doing stuff&quot;);\r\n    }\r\n\r\n    @Autowired\r\n    public Component1(\r\n        @Value(&quot;${foo}&quot;) String foo\r\n    ) {\r\n        this.foo = foo;\r\n        System.out.println(&quot;set foo to &quot; + foo);\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n// src/main/java/com/example/demo/Component2.java\r\npackage com.example.demo;\r\n\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Value;\r\n\r\n@Component\r\npublic class Component2 {\r\n\r\n    private final Component1 comp1;\r\n\r\n    @Autowired\r\n    public Component2(Component1 comp1) {\r\n        this.comp1.initialize();\r\n    }\r\n\r\n    public void theMethod() {\r\n        this.comp1.doStuff();\r\n    }\r\n}\r\n```\r\n\r\nAbove, the purpose is for `Component1` to be auto-constructed from `application.yml` properties. But then: how do I use an instance of this class in another class?\r\n\r\n```shell\r\n$ mvn clean spring-boot:run\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project demo: Compilation failure\r\n[ERROR] /Users/brsolomon/Downloads/demo/src/main/java/com/example/demo/Component2.java:[15,13] variable comp1 might not have been initialized\r\n```\r\n\r\nI realize that the exception raised is from calling `new Component1()` with no arguments, since it is expecting one. But my goal is to have it constructed automatically with arguments from `application.yml` without needing `new Component1()` at all.","title":"Use one Spring Framework autowired Component in another Component","body":"<p>How can I use one Spring Framework autowired <code>Component</code> in another <code>Component</code>?</p>\n<p>Currently, I receive the following compilation failure:</p>\n<pre><code>Component2.java:[15,13] variable comp1 might not have been initialized\n</code></pre>\n<p>To reproduce:</p>\n<p>Use Spring initializr to create a Spring project. (Java 20 / Spring 2.7.14 / Maven / JAR.)</p>\n<p>Project structure:</p>\n<pre><code>$ tree src/main\nsrc/main\n├── java\n│   └── com\n│       └── example\n│           └── demo\n│               ├── Component1.java\n│               ├── Component2.java\n│               └── DemoApplication.java\n└── resources\n    └── application.yml\n</code></pre>\n<p>Contents:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code># src/main/resources/application.yml\nfoo: bar\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// src/main/java/com/example/demo/DemoApplication.java\npackage com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.ComponentScan;\n\n@ComponentScan(basePackages = &quot;com.example.demo&quot;)\n@SpringBootApplication\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// src/main/java/com/example/demo/Component1.java\npackage com.example.demo;\n\nimport org.springframework.stereotype.Component;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\n\n@Component\npublic class Component1 {\n\n    private final String foo;\n\n    public void initialize() {\n        System.out.println(&quot;initialized&quot;);\n    }\n\n    public void doStuff() {\n        System.out.println(&quot;doing stuff&quot;);\n    }\n\n    @Autowired\n    public Component1(\n        @Value(&quot;${foo}&quot;) String foo\n    ) {\n        this.foo = foo;\n        System.out.println(&quot;set foo to &quot; + foo);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// src/main/java/com/example/demo/Component2.java\npackage com.example.demo;\n\nimport org.springframework.stereotype.Component;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\n\n@Component\npublic class Component2 {\n\n    private final Component1 comp1;\n\n    @Autowired\n    public Component2(Component1 comp1) {\n        this.comp1.initialize();\n    }\n\n    public void theMethod() {\n        this.comp1.doStuff();\n    }\n}\n</code></pre>\n<p>Above, the purpose is for <code>Component1</code> to be auto-constructed from <code>application.yml</code> properties. But then: how do I use an instance of this class in another class?</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ mvn clean spring-boot:run\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project demo: Compilation failure\n[ERROR] /Users/brsolomon/Downloads/demo/src/main/java/com/example/demo/Component2.java:[15,13] variable comp1 might not have been initialized\n</code></pre>\n<p>I realize that the exception raised is from calling <code>new Component1()</code> with no arguments, since it is expecting one. But my goal is to have it constructed automatically with arguments from <code>application.yml</code> without needing <code>new Component1()</code> at all.</p>\n"},{"tags":["java","android","ssh","vpn","jsch"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1683774521,"post_id":76223841,"comment_id":134419100,"body_markdown":"Should a VPNService create an SSH tunnel and just work? I understand a VPN and an SSH tunnel are different things.","body":"Should a VPNService create an SSH tunnel and just work? I understand a VPN and an SSH tunnel are different things."},{"owner":{"account_id":28574714,"reputation":1,"user_id":21876482,"display_name":"soheyl momeni"},"score":0,"creation_date":1683775764,"post_id":76223841,"comment_id":134419193,"body_markdown":"@aled NapsternetV and NetMod are for VPN client. They also have SSH","body":"@aled NapsternetV and NetMod are for VPN client. They also have SSH"}],"answers":[{"tags":[],"owner":{"account_id":21888377,"reputation":1,"user_id":22022145,"display_name":"Sina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691079664,"creation_date":1691079664,"answer_id":76829950,"question_id":76223841,"body_markdown":"The apps you mentioned use a SOCKS proxy that is created by SSH&#39;s dynamic port forwarding. (`ssh -D`)\r\n\r\nCurrently, your app does not handle any packets intercepted by the VPN interface.\r\n\r\nTo achieve this you need to be able to forward packets intercepted by the VPN interface to a SOCKS proxy and receive packets from that SOCKS proxy and forward them to the VPN interface.\r\n\r\nThis task is not easy at all because VPNs and SOCKS proxies are on different layers of the OSI model. But fortunately, there is already an open-source library for this matter called [Tun2Socks][1] which can connect your VPN interface to a SOCKS proxy.\r\n***You would need JNI to use it since it&#39;s written in C.***\r\n\r\nAlso, the JSch library does not provide support for dynamic port forwarding.\r\nAn alternative to the JSch library is the [Apache MINA-sshd][2] which provides support for a wide range of SSH options including dynamic port forwarding.\r\n\r\n\r\n  [1]: https://github.com/ambrop72/badvpn\r\n  [2]: https://github.com/apache/mina-sshd","title":"Android VpnService using JSch SSH-Connection , It connects to the server but does not have access to the Internet","body":"<p>The apps you mentioned use a SOCKS proxy that is created by SSH's dynamic port forwarding. (<code>ssh -D</code>)</p>\n<p>Currently, your app does not handle any packets intercepted by the VPN interface.</p>\n<p>To achieve this you need to be able to forward packets intercepted by the VPN interface to a SOCKS proxy and receive packets from that SOCKS proxy and forward them to the VPN interface.</p>\n<p>This task is not easy at all because VPNs and SOCKS proxies are on different layers of the OSI model. But fortunately, there is already an open-source library for this matter called <a href=\"https://github.com/ambrop72/badvpn\" rel=\"nofollow noreferrer\">Tun2Socks</a> which can connect your VPN interface to a SOCKS proxy.\n<em><strong>You would need JNI to use it since it's written in C.</strong></em></p>\n<p>Also, the JSch library does not provide support for dynamic port forwarding.\nAn alternative to the JSch library is the <a href=\"https://github.com/apache/mina-sshd\" rel=\"nofollow noreferrer\">Apache MINA-sshd</a> which provides support for a wide range of SSH options including dynamic port forwarding.</p>\n"}],"owner":{"account_id":28574714,"reputation":1,"user_id":21876482,"display_name":"soheyl momeni"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":416,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691079664,"creation_date":1683773484,"question_id":76223841,"body_markdown":"I am using the source below to connect to the server via SSH. There are no errors in the program. The key icon will appear at the top of the mobile screen[VPN Connected Image1](https://i.stack.imgur.com/7uGew.jpg). But I do not have access to the Internet[No Internet Access Image](https://i.stack.imgur.com/DLUbt.jpg). I tested with other software such as napsternetV and NetMod (SSH), the problem is not with the VPS. Does anyone know why the internet is not connecting?\r\n\r\n\r\n\r\n# MainActivity\r\n```\r\npackage com.example.myapplication;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import android.content.Intent;\r\n    import android.net.VpnService;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.widget.Button;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            Button startVpnButton = findViewById(R.id.start_vpn_button);\r\n            startVpnButton.setOnClickListener(v -&gt; {\r\n                Intent intent = VpnService.prepare(getApplicationContext());\r\n                if (intent != null) {\r\n                    startActivityForResult(intent, 0);\r\n                } else {\r\n                    onActivityResult(0, RESULT_OK, null);\r\n                }\r\n            });\r\n            Button stopVpnButton = findViewById(R.id.stop_vpn_button);\r\n            stopVpnButton.setOnClickListener(v -&gt; {\r\n                Intent intent = new Intent(getApplicationContext(), MyVpnService.class);\r\n                stopService(intent);\r\n            });\r\n        }\r\n        @Override\r\n        protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n            if (resultCode == RESULT_OK) {\r\n                Intent intent = new Intent(getApplicationContext(), MyVpnService.class);\r\n                startService(intent);\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\n\r\n# MyVpnService\r\n```\r\n    package com.example.myapplication;\r\n    import android.content.Intent;\r\n    import android.net.VpnService;\r\n    import android.os.ParcelFileDescriptor;\r\n    import android.system.OsConstants;\r\n    import android.util.Log;\r\n    import com.jcraft.jsch.JSch;\r\n    import com.jcraft.jsch.JSchException;\r\n    import com.jcraft.jsch.Session;\r\n    import java.io.IOException;\r\n\r\n    public class MyVpnService extends VpnService {\r\n        private ParcelFileDescriptor vpnInterface;\r\n        private Session sshSession;\r\n\r\n        // Implement onCreate, onStartCommand, and onDestroy methods\r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n            // Initialize JSch and set up the SSH connection\r\n            JSch jsch = new JSch();\r\n            try {\r\n                sshSession = jsch.getSession(&quot;SERVER_USERNAME&quot;, &quot;SERVER_IP&quot;, SERVER_PORT);\r\n            } catch (JSchException e) {\r\n\r\n                throw new RuntimeException(e);\r\n            }\r\n            sshSession.setPassword(&quot;SERVER_PASSWORD&quot;);\r\n            sshSession.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n        }\r\n        @Override\r\n        public int onStartCommand(Intent intent, int flags, int startId) {\r\n            Thread vpnThread = new Thread(() -&gt; {\r\n                try {\r\n\r\n                    sshSession.connect();\r\n                    int port_forwarded = sshSession.setPortForwardingL(0, &quot;localhost&quot;, 1080);\r\n\r\n                    // Configure the VPN connection\r\n                    VpnService.Builder builder = new VpnService.Builder();\r\n                    builder.setSession(&quot;MyVpnService&quot;)\r\n                            .addAddress(&quot;10.0.0.1&quot;, 24)\r\n                            .addRoute(&quot;0.0.0.0&quot;, 0)\r\n                            .addDnsServer(&quot;8.8.8.8&quot;)\r\n                            .setBlocking(true)\r\n                            .establish();\r\n\r\n                    vpnInterface = builder.establish();\r\n\r\n                    // Add this line to route all traffic through the VPN\r\n                    builder.allowFamily(OsConstants.AF_INET);\r\n\r\n                } catch (Exception e) {\r\n\r\n                    e.printStackTrace();\r\n                }\r\n            });\r\n            vpnThread.start();\r\n            return START_STICKY;\r\n        }\r\n\r\n        @Override\r\n        public void onDestroy() {\r\n            if (vpnInterface != null) {\r\n                try {\r\n                    vpnInterface.close();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n            if (sshSession != null) {\r\n                sshSession.disconnect();\r\n            }\r\n            super.onDestroy();\r\n        }\r\n\r\n    }\r\n```\r\n\r\n\r\n# AndroidManifest\r\n```\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.BIND_VPN_SERVICE&quot;\r\n            tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n            android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/Theme.MyApplication&quot;\r\n            tools:targetApi=&quot;31&quot;&gt;\r\n            &lt;activity\r\n                android:name=&quot;.MainActivity&quot;\r\n                android:exported=&quot;true&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n    \r\n            &lt;service\r\n                android:name=&quot;.MyVpnService&quot;\r\n                android:permission=&quot;android.permission.BIND_VPN_SERVICE&quot;\r\n                android:exported=&quot;true&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.net.VpnService&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/service&gt;\r\n    \r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n```\r\n\r\n\r\nThere are no errors in the logs and the program works perfectly. I even entered the wrong server information and the program did not connect to the server. It means that the codes are working correctly, but I don&#39;t know why the internet is not connecting.[MainScreen Image](https://i.stack.imgur.com/HMMEW.jpg)","title":"Android VpnService using JSch SSH-Connection , It connects to the server but does not have access to the Internet","body":"<p>I am using the source below to connect to the server via SSH. There are no errors in the program. The key icon will appear at the top of the mobile screen<a href=\"https://i.stack.imgur.com/7uGew.jpg\" rel=\"nofollow noreferrer\">VPN Connected Image1</a>. But I do not have access to the Internet<a href=\"https://i.stack.imgur.com/DLUbt.jpg\" rel=\"nofollow noreferrer\">No Internet Access Image</a>. I tested with other software such as napsternetV and NetMod (SSH), the problem is not with the VPS. Does anyone know why the internet is not connecting?</p>\n<h1>MainActivity</h1>\n<pre><code>package com.example.myapplication;\n    import androidx.appcompat.app.AppCompatActivity;\n    import android.content.Intent;\n    import android.net.VpnService;\n    import android.os.Bundle;\n    import android.util.Log;\n    import android.widget.Button;\n    \n    public class MainActivity extends AppCompatActivity {\n        @Override\n        protected void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.activity_main);\n            Button startVpnButton = findViewById(R.id.start_vpn_button);\n            startVpnButton.setOnClickListener(v -&gt; {\n                Intent intent = VpnService.prepare(getApplicationContext());\n                if (intent != null) {\n                    startActivityForResult(intent, 0);\n                } else {\n                    onActivityResult(0, RESULT_OK, null);\n                }\n            });\n            Button stopVpnButton = findViewById(R.id.stop_vpn_button);\n            stopVpnButton.setOnClickListener(v -&gt; {\n                Intent intent = new Intent(getApplicationContext(), MyVpnService.class);\n                stopService(intent);\n            });\n        }\n        @Override\n        protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n            super.onActivityResult(requestCode, resultCode, data);\n            if (resultCode == RESULT_OK) {\n                Intent intent = new Intent(getApplicationContext(), MyVpnService.class);\n                startService(intent);\n            }\n        }\n    }\n</code></pre>\n<h1>MyVpnService</h1>\n<pre><code>    package com.example.myapplication;\n    import android.content.Intent;\n    import android.net.VpnService;\n    import android.os.ParcelFileDescriptor;\n    import android.system.OsConstants;\n    import android.util.Log;\n    import com.jcraft.jsch.JSch;\n    import com.jcraft.jsch.JSchException;\n    import com.jcraft.jsch.Session;\n    import java.io.IOException;\n\n    public class MyVpnService extends VpnService {\n        private ParcelFileDescriptor vpnInterface;\n        private Session sshSession;\n\n        // Implement onCreate, onStartCommand, and onDestroy methods\n        @Override\n        public void onCreate() {\n            super.onCreate();\n            // Initialize JSch and set up the SSH connection\n            JSch jsch = new JSch();\n            try {\n                sshSession = jsch.getSession(&quot;SERVER_USERNAME&quot;, &quot;SERVER_IP&quot;, SERVER_PORT);\n            } catch (JSchException e) {\n\n                throw new RuntimeException(e);\n            }\n            sshSession.setPassword(&quot;SERVER_PASSWORD&quot;);\n            sshSession.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n        }\n        @Override\n        public int onStartCommand(Intent intent, int flags, int startId) {\n            Thread vpnThread = new Thread(() -&gt; {\n                try {\n\n                    sshSession.connect();\n                    int port_forwarded = sshSession.setPortForwardingL(0, &quot;localhost&quot;, 1080);\n\n                    // Configure the VPN connection\n                    VpnService.Builder builder = new VpnService.Builder();\n                    builder.setSession(&quot;MyVpnService&quot;)\n                            .addAddress(&quot;10.0.0.1&quot;, 24)\n                            .addRoute(&quot;0.0.0.0&quot;, 0)\n                            .addDnsServer(&quot;8.8.8.8&quot;)\n                            .setBlocking(true)\n                            .establish();\n\n                    vpnInterface = builder.establish();\n\n                    // Add this line to route all traffic through the VPN\n                    builder.allowFamily(OsConstants.AF_INET);\n\n                } catch (Exception e) {\n\n                    e.printStackTrace();\n                }\n            });\n            vpnThread.start();\n            return START_STICKY;\n        }\n\n        @Override\n        public void onDestroy() {\n            if (vpnInterface != null) {\n                try {\n                    vpnInterface.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n            if (sshSession != null) {\n                sshSession.disconnect();\n            }\n            super.onDestroy();\n        }\n\n    }\n</code></pre>\n<h1>AndroidManifest</h1>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n        &lt;uses-permission android:name=&quot;android.permission.BIND_VPN_SERVICE&quot;\n            tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\n        &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\n    \n        &lt;application\n            android:allowBackup=&quot;true&quot;\n            android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n            android:fullBackupContent=&quot;@xml/backup_rules&quot;\n            android:icon=&quot;@mipmap/ic_launcher&quot;\n            android:label=&quot;@string/app_name&quot;\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n            android:supportsRtl=&quot;true&quot;\n            android:theme=&quot;@style/Theme.MyApplication&quot;\n            tools:targetApi=&quot;31&quot;&gt;\n            &lt;activity\n                android:name=&quot;.MainActivity&quot;\n                android:exported=&quot;true&quot;&gt;\n                &lt;intent-filter&gt;\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n    \n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n                &lt;/intent-filter&gt;\n            &lt;/activity&gt;\n    \n            &lt;service\n                android:name=&quot;.MyVpnService&quot;\n                android:permission=&quot;android.permission.BIND_VPN_SERVICE&quot;\n                android:exported=&quot;true&quot;&gt;\n                &lt;intent-filter&gt;\n                    &lt;action android:name=&quot;android.net.VpnService&quot; /&gt;\n                &lt;/intent-filter&gt;\n            &lt;/service&gt;\n    \n        &lt;/application&gt;\n    \n    &lt;/manifest&gt;\n</code></pre>\n<p>There are no errors in the logs and the program works perfectly. I even entered the wrong server information and the program did not connect to the server. It means that the codes are working correctly, but I don't know why the internet is not connecting.<a href=\"https://i.stack.imgur.com/HMMEW.jpg\" rel=\"nofollow noreferrer\">MainScreen Image</a></p>\n"},{"tags":["java","java-8"],"answers":[{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1691077271,"creation_date":1691077271,"answer_id":76829661,"question_id":76829575,"body_markdown":"You can use `Collectors.groupingBy` method in combination with the `Collectors.mapping` method like this:\r\n\r\n    Map&lt;String, List&lt;String&gt;&gt; result = map.entrySet()\r\n            .stream()\r\n            .collect(Collectors.groupingBy(\r\n                    Map.Entry::getValue,\r\n                    Collectors.mapping(Map.Entry::getKey, Collectors.toList())\r\n            ));\r\n\r\n**Outputs**\r\n\r\n    {Added=[A, D, E], Modified=[C], Removed=[B]}","title":"How to get Group of Keys based on MapEntry value by using Java 8 GroupBy","body":"<p>You can use <code>Collectors.groupingBy</code> method in combination with the <code>Collectors.mapping</code> method like this:</p>\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; result = map.entrySet()\n        .stream()\n        .collect(Collectors.groupingBy(\n                Map.Entry::getValue,\n                Collectors.mapping(Map.Entry::getKey, Collectors.toList())\n        ));\n</code></pre>\n<p><strong>Outputs</strong></p>\n<pre><code>{Added=[A, D, E], Modified=[C], Removed=[B]}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691079643,"creation_date":1691079643,"answer_id":76829949,"question_id":76829575,"body_markdown":"`GroupingBy` works great and functionally describes the process.  But if you have a large map and want to speed things up a bit, this is somewhat faster as it does not incur the overhead of streams.\r\n\r\n**Current Map**\r\n```\r\nMap&lt;String, String&gt; map = Map.of(\r\n       &quot;A&quot;, &quot;Added&quot;,\r\n       &quot;B&quot;, &quot;Removed&quot;,\r\n       &quot;C&quot;, &quot;Modified&quot;,\r\n       &quot;D&quot;, &quot;Added&quot;,\r\n       &quot;E&quot;, &quot;Added&quot;);\r\n```\r\n-  loop over the `entrySet` of the existing map.\r\n-  [Map.computeIfAbsent](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Map.html#computeIfAbsent(K,java.util.function.Function)) checks to see if the key is present.\r\n   - if not, it creates a list, returns it, and adds the value to the list.\r\n   - else it returns the existing list so a new value may be added to the list.\r\n```\r\nMap&lt;String, List&lt;String&gt;&gt; result2 = new HashMap&lt;&gt;();\r\nmap.entrySet().forEach(e -&gt; \r\n   result.computeIfAbsent(e.getValue(),\r\n                          v -&gt; new ArrayList&lt;&gt;())\r\n                                .add(e.getKey()));\r\n\r\nresult.entrySet().forEach(System.out::println);\r\n```\r\nprints\r\n```\r\nAdded=[D, E, A]\r\nModified=[C]\r\nRemoved=[B]\r\n```\r\nIf you want the original and final maps to be in a specific order based by key, use a [LinkedHashMap](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/LinkedHashMap.html#LinkedHashMap) for both maps.","title":"How to get Group of Keys based on MapEntry value by using Java 8 GroupBy","body":"<p><code>GroupingBy</code> works great and functionally describes the process.  But if you have a large map and want to speed things up a bit, this is somewhat faster as it does not incur the overhead of streams.</p>\n<p><strong>Current Map</strong></p>\n<pre><code>Map&lt;String, String&gt; map = Map.of(\n       &quot;A&quot;, &quot;Added&quot;,\n       &quot;B&quot;, &quot;Removed&quot;,\n       &quot;C&quot;, &quot;Modified&quot;,\n       &quot;D&quot;, &quot;Added&quot;,\n       &quot;E&quot;, &quot;Added&quot;);\n</code></pre>\n<ul>\n<li>loop over the <code>entrySet</code> of the existing map.</li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Map.html#computeIfAbsent(K,java.util.function.Function)\" rel=\"nofollow noreferrer\">Map.computeIfAbsent</a> checks to see if the key is present.\n<ul>\n<li>if not, it creates a list, returns it, and adds the value to the list.</li>\n<li>else it returns the existing list so a new value may be added to the list.</li>\n</ul>\n</li>\n</ul>\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; result2 = new HashMap&lt;&gt;();\nmap.entrySet().forEach(e -&gt; \n   result.computeIfAbsent(e.getValue(),\n                          v -&gt; new ArrayList&lt;&gt;())\n                                .add(e.getKey()));\n\nresult.entrySet().forEach(System.out::println);\n</code></pre>\n<p>prints</p>\n<pre><code>Added=[D, E, A]\nModified=[C]\nRemoved=[B]\n</code></pre>\n<p>If you want the original and final maps to be in a specific order based by key, use a <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/LinkedHashMap.html#LinkedHashMap\" rel=\"nofollow noreferrer\">LinkedHashMap</a> for both maps.</p>\n"}],"owner":{"account_id":10877326,"reputation":145,"user_id":7997408,"display_name":"Yogesh Ukale"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76829661,"answer_count":2,"score":1,"last_activity_date":1691079643,"creation_date":1691076595,"question_id":76829575,"body_markdown":"**we have map as below**\r\n\r\n    A -&gt; Added\r\n    B -&gt; Removed\r\n    C -&gt; Modified\r\n    D -&gt; Added\r\n    E -&gt; Added\r\n\r\n**expected Output:**\r\n\r\n    Added    = [A, D, E]\r\n    Removed  = [B]\r\n    Modified = [C]\r\n\r\nWe tried as below but expected output not getting\r\n\r\n    map.entrySet().stream().collect(Collectors.groupingBy(entry-&gt; entry.getValue()));\r\n\r\nPlease suggest me how can we get expected Output by using grouping By","title":"How to get Group of Keys based on MapEntry value by using Java 8 GroupBy","body":"<p><strong>we have map as below</strong></p>\n<pre><code>A -&gt; Added\nB -&gt; Removed\nC -&gt; Modified\nD -&gt; Added\nE -&gt; Added\n</code></pre>\n<p><strong>expected Output:</strong></p>\n<pre><code>Added    = [A, D, E]\nRemoved  = [B]\nModified = [C]\n</code></pre>\n<p>We tried as below but expected output not getting</p>\n<pre><code>map.entrySet().stream().collect(Collectors.groupingBy(entry-&gt; entry.getValue()));\n</code></pre>\n<p>Please suggest me how can we get expected Output by using grouping By</p>\n"},{"tags":["java","logging","log4j"],"comments":[{"owner":{"account_id":5052435,"reputation":1826,"user_id":4056574,"accept_rate":60,"display_name":"AsSiDe"},"score":0,"creation_date":1452421168,"post_id":34704267,"comment_id":57154342,"body_markdown":"place log4j.properties file in your classpath","body":"place log4j.properties file in your classpath"},{"owner":{"account_id":2869041,"reputation":4363,"user_id":2462759,"accept_rate":52,"display_name":"paul"},"score":0,"creation_date":1452422181,"post_id":34704267,"comment_id":57154596,"body_markdown":"either of two is needed `.xml` or `.properties` . I have added `.xml`. I have also changed output.","body":"either of two is needed <code>.xml</code> or <code>.properties</code> . I have added <code>.xml</code>. I have also changed output."},{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":0,"creation_date":1452445976,"post_id":34704267,"comment_id":57162735,"body_markdown":"Please edit your question to include the contents of the `.xml` file you are using.  Given the capital letter `C` in the root element name (`Configuration`) in your output, I&#39;m suspecting this is a Log4j2 configuration file, which won&#39;t work with Log4j 1.2.","body":"Please edit your question to include the contents of the <code>.xml</code> file you are using.  Given the capital letter <code>C</code> in the root element name (<code>Configuration</code>) in your output, I&#39;m suspecting this is a Log4j2 configuration file, which won&#39;t work with Log4j 1.2."},{"owner":{"account_id":179998,"reputation":5576,"user_id":413032,"accept_rate":59,"display_name":"Davut G&#252;rb&#252;z"},"score":1,"creation_date":1616343930,"post_id":34704267,"comment_id":117966567,"body_markdown":"excluded slf4j and my problem is solved","body":"excluded slf4j and my problem is solved"}],"answers":[{"tags":[],"owner":{"account_id":2027029,"reputation":997,"user_id":1811730,"display_name":"Dams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1453133767,"creation_date":1453133767,"answer_id":34859302,"question_id":34704267,"body_markdown":"I think your xml is not valid ... your **Actual output** :\r\n\r\n    log4j:WARN Document root element &quot;Configuration&quot;, must match DOCTYPE root &quot;null&quot;.\r\n    ...\r\n    log4j:ERROR DOM element is - not a &lt;log4j:configuration&gt; element.\r\n\r\nI think you should define your xml like this :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n    &lt;!DOCTYPE log4j:configuration SYSTEM &quot;log4j.dtd&quot;&gt;\r\n\r\n    &lt;log4j:configuration xmlns:log4j=&quot;http://jakarta.apache.org/log4j/&quot;&gt;\r\n    \r\n        &lt;appender name=&quot;xyz&quot; ... /&gt;\r\n    \r\n        &lt;root&gt; \r\n           ...\r\n        &lt;/root&gt;\r\n    \r\n    &lt;/log4j:configuration&gt;","title":"Log4j logging not working","body":"<p>I think your xml is not valid ... your <strong>Actual output</strong> :</p>\n\n<pre><code>log4j:WARN Document root element \"Configuration\", must match DOCTYPE root \"null\".\n...\nlog4j:ERROR DOM element is - not a &lt;log4j:configuration&gt; element.\n</code></pre>\n\n<p>I think you should define your xml like this :</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\n&lt;!DOCTYPE log4j:configuration SYSTEM \"log4j.dtd\"&gt;\n\n&lt;log4j:configuration xmlns:log4j=\"http://jakarta.apache.org/log4j/\"&gt;\n\n    &lt;appender name=\"xyz\" ... /&gt;\n\n    &lt;root&gt; \n       ...\n    &lt;/root&gt;\n\n&lt;/log4j:configuration&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":174792,"reputation":617,"user_id":404376,"accept_rate":60,"display_name":"zwessels"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1619428041,"creation_date":1562836450,"answer_id":56985689,"question_id":34704267,"body_markdown":"Your config is in [log4j2 format][1], which is valid, but you need to declare your configuration in `log4j2.xml`.\r\n\r\n[1]: https://logging.apache.org/log4j/2.x/manual/configuration.html","title":"Log4j logging not working","body":"<p>Your config is in <a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html\" rel=\"nofollow noreferrer\">log4j2 format</a>, which is valid, but you need to declare your configuration in <code>log4j2.xml</code>.</p>\n"},{"tags":[],"owner":{"account_id":2594865,"reputation":395,"user_id":2248785,"display_name":"user2248785"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691078599,"creation_date":1691078599,"answer_id":76829822,"question_id":34704267,"body_markdown":"Quite late to the party here. Specifically on the error:\r\n\r\n```\r\nlog4j:ERROR DOM element is - not a &lt;log4j:configuration&gt; element.\r\n```\r\n\r\nI found that changing:\r\n\r\n```\r\n-Dlog4j2.configuration=...\r\n```\r\n\r\nto:\r\n\r\n```\r\n-Dlog4j2.configurationFile=...\r\n```\r\n\r\nfixed the issue.","title":"Log4j logging not working","body":"<p>Quite late to the party here. Specifically on the error:</p>\n<pre><code>log4j:ERROR DOM element is - not a &lt;log4j:configuration&gt; element.\n</code></pre>\n<p>I found that changing:</p>\n<pre><code>-Dlog4j2.configuration=...\n</code></pre>\n<p>to:</p>\n<pre><code>-Dlog4j2.configurationFile=...\n</code></pre>\n<p>fixed the issue.</p>\n"}],"owner":{"account_id":2869041,"reputation":4363,"user_id":2462759,"accept_rate":52,"display_name":"paul"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13058,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":3,"score":5,"last_activity_date":1691078599,"creation_date":1452420917,"question_id":34704267,"body_markdown":"I have added `log4j` from [here][1] in build path. Wrote a simple method to test `log levels` but it doesn&#39;t print any thing console.\r\n\r\n\r\n  [1]: http://central.maven.org/maven2/log4j/log4j/1.2.17/log4j-1.2.17.jar\r\n\r\n    import org.apache.log4j.Level;\r\n    import org.apache.log4j.Logger;\r\n    \r\n    public class LoggerLevelTest {\r\n    \r\n    \tprivate static org.apache.log4j.Logger log = Logger\r\n    \t\t\t.getLogger(LoggerLevelTest.class);\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tlog.setLevel(Level.WARN);\r\n    \r\n    \t\tlog.trace(&quot;Trace Message!&quot;);\r\n    \t\tlog.debug(&quot;Debug Message!&quot;);\r\n    \t\tlog.info(&quot;Info Message!&quot;);\r\n    \t\tlog.warn(&quot;Warn Message!&quot;);\r\n    \t\tlog.error(&quot;Error Message!&quot;);\r\n    \t\tlog.fatal(&quot;Fatal Message!&quot;);\r\n    \t}\r\n    \r\n    }\r\n\r\n**Log4j.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Configuration status=&quot;WARN&quot;&gt;\r\n        &lt;Properties&gt;\r\n            &lt;Property name=&quot;LEVEL&quot;&gt;WARN&lt;/Property&gt; &lt;!-- default value --&gt;\r\n        &lt;/Properties&gt;\r\n        &lt;Appenders&gt;\r\n            &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n                &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot; /&gt;\r\n            &lt;/Console&gt;\r\n        &lt;/Appenders&gt;\r\n        &lt;Loggers&gt;\r\n            &lt;Root level=&quot;${sys:LEVEL}&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;Console&quot; /&gt;\r\n            &lt;/Root&gt;\r\n        &lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;\r\n\r\n\r\nActual output:\r\n\r\n    log4j:WARN Continuable parsing error 2 and column 30\r\n    log4j:WARN Document root element &quot;Configuration&quot;, must match DOCTYPE root &quot;null&quot;.\r\n    log4j:WARN Continuable parsing error 2 and column 30\r\n    log4j:WARN Document is invalid: no grammar found.\r\n    log4j:ERROR DOM element is - not a &lt;log4j:configuration&gt; element.\r\n    log4j:WARN No appenders could be found for logger (LoggerLevelTest).\r\n    log4j:WARN Please initialize the log4j system properly.\r\n    log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\r\n\r\nExpected Output: \r\n\r\n    Warn Message!\r\n    Error Message!\r\n    Fatal Message!\r\n\r\nAbove Example link: http://www.tutorialspoint.com/log4j/log4j_logging_levels.htm","title":"Log4j logging not working","body":"<p>I have added <code>log4j</code> from <a href=\"http://central.maven.org/maven2/log4j/log4j/1.2.17/log4j-1.2.17.jar\" rel=\"noreferrer\">here</a> in build path. Wrote a simple method to test <code>log levels</code> but it doesn't print any thing console.</p>\n\n<pre><code>import org.apache.log4j.Level;\nimport org.apache.log4j.Logger;\n\npublic class LoggerLevelTest {\n\n    private static org.apache.log4j.Logger log = Logger\n            .getLogger(LoggerLevelTest.class);\n\n    public static void main(String[] args) {\n        log.setLevel(Level.WARN);\n\n        log.trace(\"Trace Message!\");\n        log.debug(\"Debug Message!\");\n        log.info(\"Info Message!\");\n        log.warn(\"Warn Message!\");\n        log.error(\"Error Message!\");\n        log.fatal(\"Fatal Message!\");\n    }\n\n}\n</code></pre>\n\n<p><strong>Log4j.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;Configuration status=\"WARN\"&gt;\n    &lt;Properties&gt;\n        &lt;Property name=\"LEVEL\"&gt;WARN&lt;/Property&gt; &lt;!-- default value --&gt;\n    &lt;/Properties&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=\"Console\" target=\"SYSTEM_OUT\"&gt;\n            &lt;PatternLayout pattern=\"%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n\" /&gt;\n        &lt;/Console&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Root level=\"${sys:LEVEL}\"&gt;\n            &lt;AppenderRef ref=\"Console\" /&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n\n<p>Actual output:</p>\n\n<pre><code>log4j:WARN Continuable parsing error 2 and column 30\nlog4j:WARN Document root element \"Configuration\", must match DOCTYPE root \"null\".\nlog4j:WARN Continuable parsing error 2 and column 30\nlog4j:WARN Document is invalid: no grammar found.\nlog4j:ERROR DOM element is - not a &lt;log4j:configuration&gt; element.\nlog4j:WARN No appenders could be found for logger (LoggerLevelTest).\nlog4j:WARN Please initialize the log4j system properly.\nlog4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\n</code></pre>\n\n<p>Expected Output: </p>\n\n<pre><code>Warn Message!\nError Message!\nFatal Message!\n</code></pre>\n\n<p>Above Example link: <a href=\"http://www.tutorialspoint.com/log4j/log4j_logging_levels.htm\" rel=\"noreferrer\">http://www.tutorialspoint.com/log4j/log4j_logging_levels.htm</a></p>\n"},{"tags":["java","visual-studio-code","arm64"],"comments":[{"owner":{"account_id":14798798,"reputation":92,"user_id":10687680,"display_name":"willbill"},"score":0,"creation_date":1691020974,"post_id":76823671,"comment_id":135435775,"body_markdown":"Have you tried [this](https://stackoverflow.com/a/71622655/10687680)?","body":"Have you tried <a href=\"https://stackoverflow.com/a/71622655/10687680\">this</a>?"},{"owner":{"account_id":15396644,"reputation":25735,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1691021304,"post_id":76823671,"comment_id":135435801,"body_markdown":"dup? https://stackoverflow.com/q/72920577/11107541","body":"dup? <a href=\"https://stackoverflow.com/q/72920577/11107541\">stackoverflow.com/q/72920577/11107541</a>"},{"owner":{"account_id":2663825,"reputation":21876,"user_id":2302862,"accept_rate":100,"display_name":"Siguza"},"score":0,"creation_date":1691028314,"post_id":76823671,"comment_id":135436382,"body_markdown":"Does this answer your question? [How do I change the terminal inside Visual Studio code to use the non-Rosetta one i.e. have it use the arm64 one?](https://stackoverflow.com/questions/68781379/how-do-i-change-the-terminal-inside-visual-studio-code-to-use-the-non-rosetta-on)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/68781379/how-do-i-change-the-terminal-inside-visual-studio-code-to-use-the-non-rosetta-on\">How do I change the terminal inside Visual Studio code to use the non-Rosetta one i.e. have it use the arm64 one?</a>"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1691056528,"post_id":76823671,"comment_id":135441084,"body_markdown":"Does the simple example also go wrong?  https://openjfx.io/openjfx-docs/","body":"Does the simple example also go wrong?  <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">openjfx.io/openjfx-docs</a>"},{"owner":{"account_id":26625513,"reputation":1,"user_id":20243622,"display_name":"zcant_code"},"score":0,"creation_date":1691106131,"post_id":76823671,"comment_id":135450701,"body_markdown":"Hello I have&#39;t figured it out yet. @willbill solution that leads me to download Azul Zulu is the most reasonable but not sure how to configure it in vs code","body":"Hello I have&#39;t figured it out yet. @willbill solution that leads me to download Azul Zulu is the most reasonable but not sure how to configure it in vs code"},{"owner":{"account_id":26625513,"reputation":1,"user_id":20243622,"display_name":"zcant_code"},"score":0,"creation_date":1691112346,"post_id":76823671,"comment_id":135451163,"body_markdown":"@willbill I got it to work thank you for sharing","body":"@willbill I got it to work thank you for sharing"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1691113050,"post_id":76823671,"comment_id":135451221,"body_markdown":"@zcant_code Welcome to StackOverflow. If you find the solution, Please consider answering it and  accepting it as an answer to change its status to Answered. It will also help others to solve a similar issue. See [can I answer my own question..](https://stackoverflow.com/help/self-answer), Just a reminder :)","body":"@zcant_code Welcome to StackOverflow. If you find the solution, Please consider answering it and  accepting it as an answer to change its status to Answered. It will also help others to solve a similar issue. See <a href=\"https://stackoverflow.com/help/self-answer\">can I answer my own question..</a>, Just a reminder :)"},{"owner":{"account_id":14798798,"reputation":92,"user_id":10687680,"display_name":"willbill"},"score":0,"creation_date":1691121378,"post_id":76823671,"comment_id":135451841,"body_markdown":"no problem, happy to help :)","body":"no problem, happy to help :)"}],"owner":{"account_id":26625513,"reputation":1,"user_id":20243622,"display_name":"zcant_code"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691078517,"creation_date":1691011952,"question_id":76823671,"body_markdown":"This is the error that `VSCode` keeps displaying:\r\n\r\n```shell\r\n(mach-o file, but is an incompatible architecture (have &#39;x86_64&#39;, need &#39;arm64&#39;))\r\n```\r\n\r\nI installed `Java` through `Homebrew`, and that&#39;s the version I&#39;m running in `VSCode`.\r\n\r\nI&#39;ve tried downloading the `Java SDK` version for `ARM64`, but nothing showed up.","title":"Unable to run JavaFX on VSCode using a MacBook (Apple M2)","body":"<p>This is the error that <code>VSCode</code> keeps displaying:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>(mach-o file, but is an incompatible architecture (have 'x86_64', need 'arm64'))\n</code></pre>\n<p>I installed <code>Java</code> through <code>Homebrew</code>, and that's the version I'm running in <code>VSCode</code>.</p>\n<p>I've tried downloading the <code>Java SDK</code> version for <code>ARM64</code>, but nothing showed up.</p>\n"},{"tags":["java","gwt","ant"],"answers":[{"tags":[],"owner":{"account_id":297647,"reputation":2056,"user_id":869942,"display_name":"Bret Weinraub"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691077909,"creation_date":1672214367,"answer_id":74937679,"question_id":74937678,"body_markdown":"Coming back to this problem after a few months, within the generated build.xml file I found this block:\r\n\r\n    &lt;target name=&quot;javac&quot; depends=&quot;libs&quot; description=&quot;Compile java source to bytecode&quot;&gt;\r\n      &lt;mkdir dir=&quot;war/WEB-INF/classes&quot;/&gt;\r\n      &lt;javac srcdir=&quot;src&quot; includes=&quot;**&quot; encoding=&quot;utf-8&quot;\r\n          destdir=&quot;war/WEB-INF/classes&quot;\r\n          source=&quot;1.5&quot; target=&quot;1.5&quot; nowarn=&quot;true&quot;\r\n          debug=&quot;true&quot; debuglevel=&quot;lines,vars,source&quot;&gt;\r\n        &lt;classpath refid=&quot;project.class.path&quot;/&gt;\r\n      &lt;/javac&gt;\r\n      &lt;copy todir=&quot;war/WEB-INF/classes&quot;&gt;\r\n        &lt;fileset dir=&quot;src&quot; excludes=&quot;**/*.java&quot;/&gt;\r\n      &lt;/copy&gt;\r\n    &lt;/target&gt;\r\n\r\n\r\nAnd changed the source and target lines to 1.7.\r\n\r\n    &lt;target name=&quot;javac&quot; depends=&quot;libs&quot; description=&quot;Compile java source to bytecode&quot;&gt;\r\n      &lt;mkdir dir=&quot;war/WEB-INF/classes&quot;/&gt;\r\n      &lt;javac srcdir=&quot;src&quot; includes=&quot;**&quot; encoding=&quot;utf-8&quot;\r\n          destdir=&quot;war/WEB-INF/classes&quot;\r\n          source=&quot;1.7&quot; target=&quot;1.7&quot; nowarn=&quot;true&quot;\r\n          debug=&quot;true&quot; debuglevel=&quot;lines,vars,source&quot;&gt;\r\n        &lt;classpath refid=&quot;project.class.path&quot;/&gt;\r\n      &lt;/javac&gt;\r\n      &lt;copy todir=&quot;war/WEB-INF/classes&quot;&gt;\r\n        &lt;fileset dir=&quot;src&quot; excludes=&quot;**/*.java&quot;/&gt;\r\n      &lt;/copy&gt;\r\n    &lt;/target&gt;\r\n\r\nAnd everything worked as expected.","title":"Running &quot;ant gwtc&quot; in GWT project gives error &quot;Source option 5 is no longer supported. Use 7 or later&quot;","body":"<p>Coming back to this problem after a few months, within the generated build.xml file I found this block:</p>\n<pre><code>&lt;target name=&quot;javac&quot; depends=&quot;libs&quot; description=&quot;Compile java source to bytecode&quot;&gt;\n  &lt;mkdir dir=&quot;war/WEB-INF/classes&quot;/&gt;\n  &lt;javac srcdir=&quot;src&quot; includes=&quot;**&quot; encoding=&quot;utf-8&quot;\n      destdir=&quot;war/WEB-INF/classes&quot;\n      source=&quot;1.5&quot; target=&quot;1.5&quot; nowarn=&quot;true&quot;\n      debug=&quot;true&quot; debuglevel=&quot;lines,vars,source&quot;&gt;\n    &lt;classpath refid=&quot;project.class.path&quot;/&gt;\n  &lt;/javac&gt;\n  &lt;copy todir=&quot;war/WEB-INF/classes&quot;&gt;\n    &lt;fileset dir=&quot;src&quot; excludes=&quot;**/*.java&quot;/&gt;\n  &lt;/copy&gt;\n&lt;/target&gt;\n</code></pre>\n<p>And changed the source and target lines to 1.7.</p>\n<pre><code>&lt;target name=&quot;javac&quot; depends=&quot;libs&quot; description=&quot;Compile java source to bytecode&quot;&gt;\n  &lt;mkdir dir=&quot;war/WEB-INF/classes&quot;/&gt;\n  &lt;javac srcdir=&quot;src&quot; includes=&quot;**&quot; encoding=&quot;utf-8&quot;\n      destdir=&quot;war/WEB-INF/classes&quot;\n      source=&quot;1.7&quot; target=&quot;1.7&quot; nowarn=&quot;true&quot;\n      debug=&quot;true&quot; debuglevel=&quot;lines,vars,source&quot;&gt;\n    &lt;classpath refid=&quot;project.class.path&quot;/&gt;\n  &lt;/javac&gt;\n  &lt;copy todir=&quot;war/WEB-INF/classes&quot;&gt;\n    &lt;fileset dir=&quot;src&quot; excludes=&quot;**/*.java&quot;/&gt;\n  &lt;/copy&gt;\n&lt;/target&gt;\n</code></pre>\n<p>And everything worked as expected.</p>\n"},{"tags":[],"owner":{"account_id":22906904,"reputation":113,"user_id":17044833,"display_name":"Jaison "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683637155,"creation_date":1683637155,"answer_id":76209639,"question_id":74937678,"body_markdown":"This seems to be issue with the java version that you are using. From the logs that you posted, you seem to be using java version 5, which is not supported for your project and you need to use java version 7 or above versions.","title":"Running &quot;ant gwtc&quot; in GWT project gives error &quot;Source option 5 is no longer supported. Use 7 or later&quot;","body":"<p>This seems to be issue with the java version that you are using. From the logs that you posted, you seem to be using java version 5, which is not supported for your project and you need to use java version 7 or above versions.</p>\n"}],"owner":{"account_id":297647,"reputation":2056,"user_id":869942,"display_name":"Bret Weinraub"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74937679,"answer_count":2,"score":0,"last_activity_date":1691077909,"creation_date":1672214367,"question_id":74937678,"body_markdown":"I have a GWT project that I haven&#39;t built for a while, although I don&#39;t think much has changed.\r\n\r\nWhen I run\r\n\r\n    ant gwtc\r\n\r\nI get the output:\r\n\r\n```\r\nBuildfile: .../build.xml\r\n\r\nlibs:\r\n\r\njavac:\r\n    [javac] .../build.xml:31: warning: &#39;includeantruntime&#39; was not set, defaulting to build.sysclasspath=last; set to false for repeatable builds\r\n    [javac] Compiling 4 source files to .../war/WEB-INF/classes\r\n    [javac] error: Source option 5 is no longer supported. Use 7 or later.\r\n    [javac] error: Target option 5 is no longer supported. Use 7 or later.\r\n\r\nBUILD FAILED\r\n.../build.xml:31: Compile failed; see the compiler error output for details.\r\n\r\n\r\n","title":"Running &quot;ant gwtc&quot; in GWT project gives error &quot;Source option 5 is no longer supported. Use 7 or later&quot;","body":"<p>I have a GWT project that I haven't built for a while, although I don't think much has changed.</p>\n<p>When I run</p>\n<pre><code>ant gwtc\n</code></pre>\n<p>I get the output:</p>\n<pre><code>Buildfile: .../build.xml\n\nlibs:\n\njavac:\n    [javac] .../build.xml:31: warning: 'includeantruntime' was not set, defaulting to build.sysclasspath=last; set to false for repeatable builds\n    [javac] Compiling 4 source files to .../war/WEB-INF/classes\n    [javac] error: Source option 5 is no longer supported. Use 7 or later.\n    [javac] error: Target option 5 is no longer supported. Use 7 or later.\n\nBUILD FAILED\n.../build.xml:31: Compile failed; see the compiler error output for details.\n\n\n</code></pre>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":2,"creation_date":1691076870,"post_id":76829560,"comment_id":135445671,"body_markdown":"It&#39;s helpful to include the logcat stack trace in your post - but one brief look at the code I&#39;d say you can&#39;t cast a `Button` to a `ConstraintLayout` - assuming `R.id.startBtn` is in fact a button - include your `activity_intro` layout xml as well.","body":"It&#39;s helpful to include the logcat stack trace in your post - but one brief look at the code I&#39;d say you can&#39;t cast a <code>Button</code> to a <code>ConstraintLayout</code> - assuming <code>R.id.startBtn</code> is in fact a button - include your <code>activity_intro</code> layout xml as well."},{"owner":{"account_id":18000638,"reputation":531,"user_id":13082664,"display_name":"Meet Bhavsar"},"score":1,"creation_date":1691077010,"post_id":76829560,"comment_id":135445700,"body_markdown":"Change  ConstraintLayout to Button","body":"Change  ConstraintLayout to Button"}],"answers":[{"tags":[],"owner":{"account_id":16878257,"reputation":280,"user_id":12205091,"display_name":"Dmitri Chernysh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691077254,"creation_date":1691077254,"answer_id":76829659,"question_id":76829560,"body_markdown":"Check IntroActivity is in AndroidManifest.xml . It might be the common issue &quot;ActivityNotFoundException&quot; \r\n\r\n```xml\r\n    &lt;activity android:name=&quot;.IntroActivity&quot;/&gt;\r\n```","title":"I&#39;m trying to go to main activity through get started layout type button","body":"<p>Check IntroActivity is in AndroidManifest.xml . It might be the common issue &quot;ActivityNotFoundException&quot;</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;activity android:name=&quot;.IntroActivity&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":27734355,"reputation":21,"user_id":21172229,"display_name":"Creative World"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1691077254,"creation_date":1691076475,"question_id":76829560,"body_markdown":"```\r\npackage com.example.portfolioapplication.Activity;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.constraintlayout.widget.ConstraintLayout;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\n\r\nimport com.example.portfolioapplication.R;\r\n\r\n\r\n\r\npublic class IntroActivity extends AppCompatActivity {\r\nprivate ConstraintLayout startBtn;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_intro);\r\n\r\n        startBtn= (ConstraintLayout) findViewById(R.id.startBtn);\r\n        startBtn.setOnClickListener(view -&gt; startActivity(new Intent(IntroActivity.this, MainActivity.class)));\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\nI&#39;m trying to go to main activity through get started layout type button but my is always crashing when I click to get started","title":"I&#39;m trying to go to main activity through get started layout type button","body":"<pre><code>package com.example.portfolioapplication.Activity;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.constraintlayout.widget.ConstraintLayout;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\n\nimport com.example.portfolioapplication.R;\n\n\n\npublic class IntroActivity extends AppCompatActivity {\nprivate ConstraintLayout startBtn;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_intro);\n\n        startBtn= (ConstraintLayout) findViewById(R.id.startBtn);\n        startBtn.setOnClickListener(view -&gt; startActivity(new Intent(IntroActivity.this, MainActivity.class)));\n\n\n    }\n}\n</code></pre>\n<p>I'm trying to go to main activity through get started layout type button but my is always crashing when I click to get started</p>\n"},{"tags":["java","android","list","android-recyclerview","adapter"],"answers":[{"tags":[],"owner":{"account_id":24227519,"reputation":42,"user_id":18181803,"display_name":"Mohammad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691077087,"creation_date":1691076319,"answer_id":76829535,"question_id":76828918,"body_markdown":"you can simply define a static field(variable) for item&#39;s list. and write a static method in your adapter that takes a position and returns an item by position.\r\nnote that at first you must initialize the static variable by your list in the adapter.\r\n\r\nFor example:\r\n\r\n    private static list ArrayList&lt;Item&gt;;\r\n    ...\r\n    //write the below code in the adapter. you can write it in constructor or write it in a setter method that you will write or any else where!\r\n    list = // assign your items list to this variable (initializing and assigning)\r\n    ...\r\n    public static Item getItemByPosition(int position){\r\n            return list.get(position);\r\n    }\r\n\r\nuse it like below in any activity:\r\n\r\n    Item myItem = YourAdapter.getItemByPosition(3);\r\n    String myName = myItem.getName();","title":"Get recyclerView item from possition","body":"<p>you can simply define a static field(variable) for item's list. and write a static method in your adapter that takes a position and returns an item by position.\nnote that at first you must initialize the static variable by your list in the adapter.</p>\n<p>For example:</p>\n<pre><code>private static list ArrayList&lt;Item&gt;;\n...\n//write the below code in the adapter. you can write it in constructor or write it in a setter method that you will write or any else where!\nlist = // assign your items list to this variable (initializing and assigning)\n...\npublic static Item getItemByPosition(int position){\n        return list.get(position);\n}\n</code></pre>\n<p>use it like below in any activity:</p>\n<pre><code>Item myItem = YourAdapter.getItemByPosition(3);\nString myName = myItem.getName();\n</code></pre>\n"}],"owner":{"account_id":29153006,"reputation":3,"user_id":22333451,"display_name":"HanS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76829535,"answer_count":1,"score":0,"last_activity_date":1691077087,"creation_date":1691071820,"question_id":76828918,"body_markdown":"I&#39;m creating a app that contains a recycler view, and the user adds any number of items he wants. Is there a way to get one of these items in any activity according to its position? \r\n\r\nOn BindViewHolder in adapter:\r\n\r\n```\r\nholder.tvName.setText(list.get(possition).getName);\r\nholder.tvNumber.setText(list.get(possition).getNumber);\r\n\r\n```\r\n\r\n\r\n\r\nSuppose that the list contain 10    items, and I want to get the name in possition three from the list \r\n\r\nHow I can do it?\r\n\r\n\r\nI try to get the value without possition and it gets the last value \r\n\r\n","title":"Get recyclerView item from possition","body":"<p>I'm creating a app that contains a recycler view, and the user adds any number of items he wants. Is there a way to get one of these items in any activity according to its position?</p>\n<p>On BindViewHolder in adapter:</p>\n<pre><code>holder.tvName.setText(list.get(possition).getName);\nholder.tvNumber.setText(list.get(possition).getNumber);\n\n</code></pre>\n<p>Suppose that the list contain 10    items, and I want to get the name in possition three from the list</p>\n<p>How I can do it?</p>\n<p>I try to get the value without possition and it gets the last value</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"answers":[{"tags":[],"owner":{"account_id":773585,"reputation":3537,"user_id":1034782,"accept_rate":25,"display_name":"Donatello"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1496850231,"creation_date":1496849612,"answer_id":44417034,"question_id":44417033,"body_markdown":"&gt; Be sure your client connect to a real Kafka port !\r\n\r\nthis specific error happens while parsing (one of?) the first **header field** of the expected kafka message, as shown by the invocation of **ResponseHeader.java** in stack-trace.\r\n\r\nSo this can occurs if you target a listening port that has nothing to do with kafka server.\r\n\r\n&gt; just a 1 minute check !\r\n\r\nOtherwise, you should check for a client-server version mismatch.","title":"Kafka Error reading field &#39;correlation_id&#39;: java.nio.BufferUnderflowException","body":"<blockquote>\n  <p>Be sure your client connect to a real Kafka port !</p>\n</blockquote>\n\n<p>this specific error happens while parsing (one of?) the first <strong>header field</strong> of the expected kafka message, as shown by the invocation of <strong>ResponseHeader.java</strong> in stack-trace.</p>\n\n<p>So this can occurs if you target a listening port that has nothing to do with kafka server.</p>\n\n<blockquote>\n  <p>just a 1 minute check !</p>\n</blockquote>\n\n<p>Otherwise, you should check for a client-server version mismatch.</p>\n"},{"tags":[],"owner":{"account_id":5331831,"reputation":141,"user_id":4252221,"display_name":"Pravin Jadhav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691077049,"creation_date":1608297405,"answer_id":65357736,"question_id":44417033,"body_markdown":"For me, I was having trouble with unit test failure with above exception. When I inspected the port(9092) being used on local machine, it was bound to already running process, worth checking if there is process for Kafka running locally. If you are sure you are not expecting it to be running, kill it by finding its pid. (Don&#39;t try on production though :P )\r\n\r\n    lsof -i:9092\r\n    kill -9 &lt;PID_FROM_ABOVE_IF_ANY&gt;","title":"Kafka Error reading field &#39;correlation_id&#39;: java.nio.BufferUnderflowException","body":"<p>For me, I was having trouble with unit test failure with above exception. When I inspected the port(9092) being used on local machine, it was bound to already running process, worth checking if there is process for Kafka running locally. If you are sure you are not expecting it to be running, kill it by finding its pid. (Don't try on production though :P )</p>\n<pre><code>lsof -i:9092\nkill -9 &lt;PID_FROM_ABOVE_IF_ANY&gt;\n</code></pre>\n"}],"owner":{"account_id":773585,"reputation":3537,"user_id":1034782,"accept_rate":25,"display_name":"Donatello"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3811,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1691077049,"creation_date":1496849612,"question_id":44417033,"body_markdown":"Getting this kafka exception on consumer :\r\n\r\n    org.apache.kafka.common.protocol.types.SchemaException: Error reading field &#39;correlation_id&#39;: java.nio.BufferUnderflowException\r\n\tat org.apache.kafka.common.protocol.types.Schema.read(Schema.java:71)\r\n\tat org.apache.kafka.common.requests.ResponseHeader.parse(ResponseHeader.java:53)\r\n\tat org.apache.kafka.clients.NetworkClient.handleCompletedReceives(NetworkClient.java:435)\r\n\tat org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:265)\r\n\tat org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.clientPoll(ConsumerNetworkClient.java:320)\r\n\tat org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:213)\r\n\tat org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:193)\r\n\tat org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.awaitMetadataUpdate(ConsumerNetworkClient.java:134)\r\n\tat org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorKnown(AbstractCoordinator.java:184)\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.pollOnce(KafkaConsumer.java:886)\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:853)\r\n\r\nNo client-server version mismatch.","title":"Kafka Error reading field &#39;correlation_id&#39;: java.nio.BufferUnderflowException","body":"<p>Getting this kafka exception on consumer :</p>\n\n<pre><code>org.apache.kafka.common.protocol.types.SchemaException: Error reading field 'correlation_id': java.nio.BufferUnderflowException\nat org.apache.kafka.common.protocol.types.Schema.read(Schema.java:71)\nat org.apache.kafka.common.requests.ResponseHeader.parse(ResponseHeader.java:53)\nat org.apache.kafka.clients.NetworkClient.handleCompletedReceives(NetworkClient.java:435)\nat org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:265)\nat org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.clientPoll(ConsumerNetworkClient.java:320)\nat org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:213)\nat org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:193)\nat org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.awaitMetadataUpdate(ConsumerNetworkClient.java:134)\nat org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorKnown(AbstractCoordinator.java:184)\nat org.apache.kafka.clients.consumer.KafkaConsumer.pollOnce(KafkaConsumer.java:886)\nat org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:853)\n</code></pre>\n\n<p>No client-server version mismatch.</p>\n"},{"tags":["java","json"],"owner":{"account_id":29153753,"reputation":1,"user_id":22334039,"display_name":"Shiyam Sundar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1691076678,"answer_count":0,"score":0,"last_activity_date":1691076703,"creation_date":1691076316,"question_id":76829534,"body_markdown":"Iam getting a response as\r\n\r\n    {\r\n        &quot;isSuccess&quot;: true,\r\n    \r\n         &quot;message&quot;: &quot;No Intent found&quot;,\r\n      \r\n         &quot;result&quot;: {\r\n    \r\n               &quot;isSuccess&quot;: false,\r\n    \r\n                &quot;message&quot;: &quot;Happy to Help You&quot;,\r\n    \r\n                &quot;endOfConv&quot;: true,\r\n    \r\n                &quot;text&quot;: &quot;Sorry I don&#39;t understand. Please rephrase your statement.&quot;,\r\n    \r\n                &quot;additionalInfo&quot;: {},\r\n    \r\n                &quot;conversationFlag&quot;: &quot;QWE&quot;\r\n    }\r\n\r\nIn the above additionalInfo is &quot;{}&quot;, I want to validate which is empty or not. I tried this below\r\n\r\n```\r\n{\r\n        JsonPath jsonpath = responseResult.jsonPath();\r\n        if(jsonpath.get(&quot;result.additionalInfo&quot;).toString()!=&quot;{}&quot;)\r\n        {\r\n           System.out.println(jsonpath.get(&quot;result.additionalInfo&quot;).toString());\r\n        }\r\n}\r\n```\r\n\r\nKindly help me on this","title":"How to Validate the JSON element is empty or not?","body":"<p>Iam getting a response as</p>\n<pre><code>{\n    &quot;isSuccess&quot;: true,\n\n     &quot;message&quot;: &quot;No Intent found&quot;,\n  \n     &quot;result&quot;: {\n\n           &quot;isSuccess&quot;: false,\n\n            &quot;message&quot;: &quot;Happy to Help You&quot;,\n\n            &quot;endOfConv&quot;: true,\n\n            &quot;text&quot;: &quot;Sorry I don't understand. Please rephrase your statement.&quot;,\n\n            &quot;additionalInfo&quot;: {},\n\n            &quot;conversationFlag&quot;: &quot;QWE&quot;\n}\n</code></pre>\n<p>In the above additionalInfo is &quot;{}&quot;, I want to validate which is empty or not. I tried this below</p>\n<pre><code>{\n        JsonPath jsonpath = responseResult.jsonPath();\n        if(jsonpath.get(&quot;result.additionalInfo&quot;).toString()!=&quot;{}&quot;)\n        {\n           System.out.println(jsonpath.get(&quot;result.additionalInfo&quot;).toString());\n        }\n}\n</code></pre>\n<p>Kindly help me on this</p>\n"},{"tags":["java","android","error-handling"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1691076104,"post_id":76829090,"comment_id":135445502,"body_markdown":"`location` is `null`, meaning `locationManager.getLastKnownLocation` returned `null`.","body":"<code>location</code> is <code>null</code>, meaning <code>locationManager.getLastKnownLocation</code> returned <code>null</code>."},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":1,"creation_date":1691077517,"post_id":76829090,"comment_id":135445824,"body_markdown":"Don&#39;t use getLastKnownLocation.  It will return null the VAST majority of the time-  it only returns a value if something else was recently using location.  Instead, request a location update and use that.","body":"Don&#39;t use getLastKnownLocation.  It will return null the VAST majority of the time-  it only returns a value if something else was recently using location.  Instead, request a location update and use that."}],"owner":{"account_id":29148302,"reputation":1,"user_id":22329699,"display_name":"Nishal N Thingalaya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1691075480,"answer_count":0,"score":0,"last_activity_date":1691076415,"creation_date":1691073069,"question_id":76829090,"body_markdown":"I am trying to run a code that works like a weather app but after writing the code I am getting java null pointer error\r\nHere is my MainActivity.java\r\n\r\n\r\n```\r\npackage com.nishal.wheatherapp;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.loader.app.LoaderManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.Manifest;\r\nimport android.content.Context;\r\nimport android.content.pm.PackageManager;\r\nimport android.location.Address;\r\nimport android.location.Geocoder;\r\nimport android.location.Location;\r\nimport android.location.LocationManager;\r\nimport android.media.Image;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.view.WindowManager;\r\nimport android.widget.ImageView;\r\nimport android.widget.ProgressBar;\r\nimport android.widget.RelativeLayout;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.android.volley.Request;\r\nimport com.android.volley.RequestQueue;\r\nimport com.android.volley.Response;\r\nimport com.android.volley.VolleyError;\r\nimport com.android.volley.toolbox.JsonObjectRequest;\r\nimport com.android.volley.toolbox.Volley;\r\nimport com.google.android.material.textfield.TextInputEditText;\r\nimport com.squareup.picasso.Picasso;\r\n\r\nimport org.json.JSONArray;\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Locale;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private RelativeLayout homeRl;\r\n    private ProgressBar loadingPB;\r\n    private TextView cityNameTV,temperatureTV,conditionTV;\r\n    private RecyclerView weatherRV;\r\n    private TextInputEditText cityEdt;\r\n    private ImageView backIV,iconIV,searchIV;\r\n    private ArrayList&lt;WeatherRvModel&gt; weatherRvModelArrayList;\r\n    private WeatherRVAdapter weatherRVAdapter;\r\n    private LocationManager locationManager;\r\n    private  int PERMISSION_CODE = 1;\r\n    private String cityName;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS,WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS);\r\n\r\n        setContentView(R.layout.activity_main);\r\n        homeRl = findViewById(R.id.idRLHome);\r\n        loadingPB = findViewById(R.id.idPBLoading);\r\n        cityNameTV = findViewById(R.id.idTVCityName);\r\n        cityEdt = findViewById(R.id.idEdtCity);\r\n        temperatureTV = findViewById(R.id.idTVTemparature);\r\n        conditionTV = findViewById(R.id.idTVCondition);\r\n        weatherRV = findViewById(R.id.idRVweather);\r\n        backIV = findViewById(R.id.idIVBack);\r\n        iconIV = findViewById(R.id.IVIcon);\r\n        searchIV = findViewById(R.id.idIVSearch);\r\n        weatherRvModelArrayList = new ArrayList&lt;&gt;();\r\n        weatherRVAdapter = new WeatherRVAdapter(this,weatherRvModelArrayList);\r\n        weatherRV.setAdapter(weatherRVAdapter);\r\n\r\n        locationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp;\r\n                ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n            ActivityCompat.requestPermissions(MainActivity.this, new String[] {Manifest.permission.ACCESS_FINE_LOCATION, Manifest.permission.ACCESS_COARSE_LOCATION}, PERMISSION_CODE);\r\n        }\r\n\r\n        Location location = locationManager.getLastKnownLocation(LocationManager.NETWORK_PROVIDER);\r\n            cityName = getCityName(location.getLongitude(),location.getLatitude());\r\n            getWeatherInfo(cityName);\r\n        searchIV.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String city = cityEdt.getText().toString();\r\n                if(city.isEmpty()){\r\n                    Toast.makeText(MainActivity.this, &quot;Please Enter City Name&quot;, Toast.LENGTH_SHORT).show();\r\n                }else{\r\n                    cityNameTV.setText(cityName);\r\n                    getWeatherInfo(city);\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if(requestCode==PERMISSION_CODE){\r\n            if(grantResults.length&gt;0 &amp;&amp; grantResults[0]==PackageManager.PERMISSION_GRANTED){\r\n                Toast.makeText(this, &quot;Permissions Granted&quot;, Toast.LENGTH_SHORT).show();\r\n            }else{\r\n                Toast.makeText(this, &quot;Please Provide the Permissions&quot;, Toast.LENGTH_SHORT).show();\r\n                finish();\r\n            }\r\n        }\r\n    }\r\n\r\n    private String getCityName(double longitude, double latitude){\r\n        String cityName = &quot;Not Found&quot;;\r\n        Geocoder gcd = new Geocoder(getBaseContext(), Locale.getDefault());\r\n        try{\r\n            List&lt;Address&gt; addresses = gcd.getFromLocation(latitude,longitude,10);\r\n            for(Address adr : addresses){\r\n                if(adr!=null){\r\n                    String city = adr.getLocality();\r\n                    if(city!=null &amp;&amp; !city.equals(&quot;&quot;)){\r\n                        cityName = city;\r\n                    }else{\r\n                        Log.d(&quot;TAG&quot;,&quot;CITY NOT FOUND&quot;);\r\n                        Toast.makeText(this,&quot;User City Not Found..&quot;,Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n            }\r\n        }catch(IOException e){\r\n            e.printStackTrace();\r\n        }\r\n        return cityName;\r\n    }\r\n    //City name entry\r\n    private void getWeatherInfo(String cityName){\r\n        String url = &quot;http://api.weatherapi.com/v1/forecast.json?key=f7d844c25670438f8aa122034230208&amp;q=&quot;+ cityName +&quot;&amp;days=1&amp;aqi=yes&amp;alerts=yes&quot;;\r\n        cityNameTV.setText(cityName);\r\n        RequestQueue requestQueue = Volley.newRequestQueue(MainActivity.this);\r\n\r\n        JsonObjectRequest jsonObjectRequest = new JsonObjectRequest(Request.Method.GET, url, null, new Response.Listener&lt;JSONObject&gt;() {\r\n            @Override\r\n            public void onResponse(JSONObject response) {\r\n                loadingPB.setVisibility(View.GONE);\r\n                homeRl.setVisibility(View.VISIBLE);\r\n                weatherRvModelArrayList.clear();\r\n                try {\r\n                    String temperature = response.getJSONObject(&quot;current&quot;).getString(&quot;temp_c&quot;);\r\n                    temperatureTV.setText(temperature+&quot;&#176;c&quot;);\r\n                    int isDay = response.getJSONObject(&quot;current&quot;).getInt(&quot;is_day&quot;);\r\n                    String condition = response.getJSONObject(&quot;current&quot;).getJSONObject(&quot;condition&quot;).getString(&quot;text&quot;);\r\n                    String conditionIcon = response.getJSONObject(&quot;current&quot;).getJSONObject(&quot;condition&quot;).getString(&quot;icon&quot;);\r\n                    Picasso.get().load(&quot;http:&quot;.concat(conditionIcon)).into(iconIV);\r\n                    conditionTV.setText(condition);\r\n                    if(isDay==1){\r\n                        //morning\r\n                        Picasso.get().load(&quot;https://unsplash.com/photos/hqvP1DMi0d0&quot;).into(backIV);\r\n                    }else{\r\n                        //night\r\n                        Picasso.get().load(&quot;https://unsplash.com/photos/rpVQJbZMw8o&quot;).into(backIV);\r\n                    }\r\n\r\n                    JSONObject forecastObj = response.getJSONObject(&quot;forecast&quot;);\r\n                    JSONObject forecastO = forecastObj.getJSONArray(&quot;forecastday&quot;).getJSONObject(0);\r\n                    JSONArray hourArray = forecastO.getJSONArray(&quot;hour&quot;);\r\n\r\n                    for(int i=0;i&lt;hourArray.length();i++){\r\n                        JSONObject hourObj = hourArray.getJSONObject(i);\r\n                        String time = hourObj.getString(&quot;time&quot;);\r\n                        String temper = hourObj.getString(&quot;temp_c&quot;);\r\n                        String img = hourObj.getJSONObject(&quot;condition&quot;).getString(&quot;icon&quot;);\r\n                        String wind = hourObj.getString(&quot;wind_kph&quot;);\r\n                        weatherRvModelArrayList.add(new WeatherRvModel(time,temper,img,wind));\r\n                    }\r\n                    weatherRVAdapter.notifyDataSetChanged();\r\n\r\n                } catch (JSONException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n        }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n                Toast.makeText(MainActivity.this, &quot;Please Enter valid City Name&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n        requestQueue.add(jsonObjectRequest);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nI tried all the methods but it is still giving me \r\nAttempt to invoke virtual method &#39;double android.location.Location.getLongitude()&#39; this error\r\n\r\nmy logcat  is\r\n\r\n\r\n```\r\njava.lang.NullPointerException: Attempt to invoke virtual method &#39;double android.location.Location.getLongitude()&#39; on a null object reference\r\n                                                                                                    \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3449)\r\n                                                                                                    \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\r\n                                                                                                    \tat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\r\n                                                                                                    \tat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n                                                                                                    \tat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n                                                                                                    \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\r\n```\r\n","title":"Is there a way to avoid longitude location to be null","body":"<p>I am trying to run a code that works like a weather app but after writing the code I am getting java null pointer error\nHere is my MainActivity.java</p>\n<pre><code>package com.nishal.wheatherapp;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.loader.app.LoaderManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.Manifest;\nimport android.content.Context;\nimport android.content.pm.PackageManager;\nimport android.location.Address;\nimport android.location.Geocoder;\nimport android.location.Location;\nimport android.location.LocationManager;\nimport android.media.Image;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.view.WindowManager;\nimport android.widget.ImageView;\nimport android.widget.ProgressBar;\nimport android.widget.RelativeLayout;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.android.volley.Request;\nimport com.android.volley.RequestQueue;\nimport com.android.volley.Response;\nimport com.android.volley.VolleyError;\nimport com.android.volley.toolbox.JsonObjectRequest;\nimport com.android.volley.toolbox.Volley;\nimport com.google.android.material.textfield.TextInputEditText;\nimport com.squareup.picasso.Picasso;\n\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Locale;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private RelativeLayout homeRl;\n    private ProgressBar loadingPB;\n    private TextView cityNameTV,temperatureTV,conditionTV;\n    private RecyclerView weatherRV;\n    private TextInputEditText cityEdt;\n    private ImageView backIV,iconIV,searchIV;\n    private ArrayList&lt;WeatherRvModel&gt; weatherRvModelArrayList;\n    private WeatherRVAdapter weatherRVAdapter;\n    private LocationManager locationManager;\n    private  int PERMISSION_CODE = 1;\n    private String cityName;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS,WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS);\n\n        setContentView(R.layout.activity_main);\n        homeRl = findViewById(R.id.idRLHome);\n        loadingPB = findViewById(R.id.idPBLoading);\n        cityNameTV = findViewById(R.id.idTVCityName);\n        cityEdt = findViewById(R.id.idEdtCity);\n        temperatureTV = findViewById(R.id.idTVTemparature);\n        conditionTV = findViewById(R.id.idTVCondition);\n        weatherRV = findViewById(R.id.idRVweather);\n        backIV = findViewById(R.id.idIVBack);\n        iconIV = findViewById(R.id.IVIcon);\n        searchIV = findViewById(R.id.idIVSearch);\n        weatherRvModelArrayList = new ArrayList&lt;&gt;();\n        weatherRVAdapter = new WeatherRVAdapter(this,weatherRvModelArrayList);\n        weatherRV.setAdapter(weatherRVAdapter);\n\n        locationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp;\n                ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n            ActivityCompat.requestPermissions(MainActivity.this, new String[] {Manifest.permission.ACCESS_FINE_LOCATION, Manifest.permission.ACCESS_COARSE_LOCATION}, PERMISSION_CODE);\n        }\n\n        Location location = locationManager.getLastKnownLocation(LocationManager.NETWORK_PROVIDER);\n            cityName = getCityName(location.getLongitude(),location.getLatitude());\n            getWeatherInfo(cityName);\n        searchIV.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                String city = cityEdt.getText().toString();\n                if(city.isEmpty()){\n                    Toast.makeText(MainActivity.this, &quot;Please Enter City Name&quot;, Toast.LENGTH_SHORT).show();\n                }else{\n                    cityNameTV.setText(cityName);\n                    getWeatherInfo(city);\n                }\n            }\n        });\n\n\n\n    }\n\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        if(requestCode==PERMISSION_CODE){\n            if(grantResults.length&gt;0 &amp;&amp; grantResults[0]==PackageManager.PERMISSION_GRANTED){\n                Toast.makeText(this, &quot;Permissions Granted&quot;, Toast.LENGTH_SHORT).show();\n            }else{\n                Toast.makeText(this, &quot;Please Provide the Permissions&quot;, Toast.LENGTH_SHORT).show();\n                finish();\n            }\n        }\n    }\n\n    private String getCityName(double longitude, double latitude){\n        String cityName = &quot;Not Found&quot;;\n        Geocoder gcd = new Geocoder(getBaseContext(), Locale.getDefault());\n        try{\n            List&lt;Address&gt; addresses = gcd.getFromLocation(latitude,longitude,10);\n            for(Address adr : addresses){\n                if(adr!=null){\n                    String city = adr.getLocality();\n                    if(city!=null &amp;&amp; !city.equals(&quot;&quot;)){\n                        cityName = city;\n                    }else{\n                        Log.d(&quot;TAG&quot;,&quot;CITY NOT FOUND&quot;);\n                        Toast.makeText(this,&quot;User City Not Found..&quot;,Toast.LENGTH_SHORT).show();\n                    }\n                }\n            }\n        }catch(IOException e){\n            e.printStackTrace();\n        }\n        return cityName;\n    }\n    //City name entry\n    private void getWeatherInfo(String cityName){\n        String url = &quot;http://api.weatherapi.com/v1/forecast.json?key=f7d844c25670438f8aa122034230208&amp;q=&quot;+ cityName +&quot;&amp;days=1&amp;aqi=yes&amp;alerts=yes&quot;;\n        cityNameTV.setText(cityName);\n        RequestQueue requestQueue = Volley.newRequestQueue(MainActivity.this);\n\n        JsonObjectRequest jsonObjectRequest = new JsonObjectRequest(Request.Method.GET, url, null, new Response.Listener&lt;JSONObject&gt;() {\n            @Override\n            public void onResponse(JSONObject response) {\n                loadingPB.setVisibility(View.GONE);\n                homeRl.setVisibility(View.VISIBLE);\n                weatherRvModelArrayList.clear();\n                try {\n                    String temperature = response.getJSONObject(&quot;current&quot;).getString(&quot;temp_c&quot;);\n                    temperatureTV.setText(temperature+&quot;°c&quot;);\n                    int isDay = response.getJSONObject(&quot;current&quot;).getInt(&quot;is_day&quot;);\n                    String condition = response.getJSONObject(&quot;current&quot;).getJSONObject(&quot;condition&quot;).getString(&quot;text&quot;);\n                    String conditionIcon = response.getJSONObject(&quot;current&quot;).getJSONObject(&quot;condition&quot;).getString(&quot;icon&quot;);\n                    Picasso.get().load(&quot;http:&quot;.concat(conditionIcon)).into(iconIV);\n                    conditionTV.setText(condition);\n                    if(isDay==1){\n                        //morning\n                        Picasso.get().load(&quot;https://unsplash.com/photos/hqvP1DMi0d0&quot;).into(backIV);\n                    }else{\n                        //night\n                        Picasso.get().load(&quot;https://unsplash.com/photos/rpVQJbZMw8o&quot;).into(backIV);\n                    }\n\n                    JSONObject forecastObj = response.getJSONObject(&quot;forecast&quot;);\n                    JSONObject forecastO = forecastObj.getJSONArray(&quot;forecastday&quot;).getJSONObject(0);\n                    JSONArray hourArray = forecastO.getJSONArray(&quot;hour&quot;);\n\n                    for(int i=0;i&lt;hourArray.length();i++){\n                        JSONObject hourObj = hourArray.getJSONObject(i);\n                        String time = hourObj.getString(&quot;time&quot;);\n                        String temper = hourObj.getString(&quot;temp_c&quot;);\n                        String img = hourObj.getJSONObject(&quot;condition&quot;).getString(&quot;icon&quot;);\n                        String wind = hourObj.getString(&quot;wind_kph&quot;);\n                        weatherRvModelArrayList.add(new WeatherRvModel(time,temper,img,wind));\n                    }\n                    weatherRVAdapter.notifyDataSetChanged();\n\n                } catch (JSONException e) {\n                    throw new RuntimeException(e);\n                }\n            }\n        }, new Response.ErrorListener() {\n            @Override\n            public void onErrorResponse(VolleyError error) {\n                Toast.makeText(MainActivity.this, &quot;Please Enter valid City Name&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n        requestQueue.add(jsonObjectRequest);\n    }\n\n}\n</code></pre>\n<p>I tried all the methods but it is still giving me\nAttempt to invoke virtual method 'double android.location.Location.getLongitude()' this error</p>\n<p>my logcat  is</p>\n<pre><code>java.lang.NullPointerException: Attempt to invoke virtual method 'double android.location.Location.getLongitude()' on a null object reference\n                                                                                                        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3449)\n                                                                                                        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\n                                                                                                        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\n                                                                                                        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n                                                                                                        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n                                                                                                        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\n</code></pre>\n"},{"tags":["java","automated-tests","appium","ui-automation"],"answers":[{"tags":[],"owner":{"account_id":20717463,"reputation":190,"user_id":15212573,"display_name":"roudlek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691076128,"creation_date":1691076128,"answer_id":76829503,"question_id":76584527,"body_markdown":"Use AppiumBy specific class for appium to access your elements:\r\n\r\n            driver.findElement(AppiumBy.xpath(&quot;open menu&quot;)).click();\r\n\r\n\r\n, i strongly recommend this **playlist**:\r\n\r\nhttps://www.youtube.com/watch?v=jQFRgOI8-3o&amp;list=PL9ok7C7Yn9A99LiTcemmKmupBdNB38bbo&amp;pp=iAQB\r\n\r\nwhat you are looking for is in video 4: \r\n\r\nhttps://www.youtube.com/watch?v=hD9Bgb1LSy0&amp;t=137s&amp;ab_channel=TestingMiniBytes\r\n\r\n**upvote** if this helps","title":"Is the support to MobileElement no more available starting from the latest versions of Appium java-client I.e 8.5.1?","body":"<p>Use AppiumBy specific class for appium to access your elements:</p>\n<pre><code>        driver.findElement(AppiumBy.xpath(&quot;open menu&quot;)).click();\n</code></pre>\n<p>, i strongly recommend this <strong>playlist</strong>:</p>\n<p><a href=\"https://www.youtube.com/watch?v=jQFRgOI8-3o&amp;list=PL9ok7C7Yn9A99LiTcemmKmupBdNB38bbo&amp;pp=iAQB\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=jQFRgOI8-3o&amp;list=PL9ok7C7Yn9A99LiTcemmKmupBdNB38bbo&amp;pp=iAQB</a></p>\n<p>what you are looking for is in video 4:</p>\n<p><a href=\"https://www.youtube.com/watch?v=hD9Bgb1LSy0&amp;t=137s&amp;ab_channel=TestingMiniBytes\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=hD9Bgb1LSy0&amp;t=137s&amp;ab_channel=TestingMiniBytes</a></p>\n<p><strong>upvote</strong> if this helps</p>\n"}],"owner":{"account_id":7704244,"reputation":17,"user_id":5846250,"display_name":"puneeth chidura"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1691076128,"creation_date":1688071661,"question_id":76584527,"body_markdown":"I just wanted to as a quick question to all the people here\r\nIs the support to MobileElement no more available starting from the latest versions of Appium java-client I.e 8.5.1 ??\r\nI ask this because I have added the maven dependency\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;io.appium&lt;/groupId&gt;\r\n    &lt;artifactId&gt;java-client&lt;/artifactId&gt;\r\n    &lt;version&gt;8.5.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nTo my maven project POM.xml and there is an error at the import statement “import io.appium.java_client.MobileElement;” which says “The import io.appium.java_client.MobileElement cannot be\r\nresolved”\r\nAlso\r\nThere is an news @ https://github.com/appium/java-client/blob/master/docs/v7-to-v8-migration-guide.md#mobileelement. Stating that “ • DefaultGenericMobileElement class has been removed completely together with its descendants (MobileElement, IOSElement, AndroidElement etc.). Use WebElement instead.”  \r\nShould this mean that MobileElement is no useful and permitted with the latest versions of Appium java-client I.e 8.5.1  and all the capabilities I.e mobile specific actions such as setValue(), swipe(), pinch(), and zoom(). Are moved to/will be available with WebElement from Appium java-client I.e 8.5.1 . I am little confused here. Any better early clarity from anyone of you will be much appreciated. Please do comment if you need any additional information related to this.\r\n","title":"Is the support to MobileElement no more available starting from the latest versions of Appium java-client I.e 8.5.1?","body":"<p>I just wanted to as a quick question to all the people here\nIs the support to MobileElement no more available starting from the latest versions of Appium java-client I.e 8.5.1 ??\nI ask this because I have added the maven dependency</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;io.appium&lt;/groupId&gt;\n&lt;artifactId&gt;java-client&lt;/artifactId&gt;\n&lt;version&gt;8.5.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>To my maven project POM.xml and there is an error at the import statement “import io.appium.java_client.MobileElement;” which says “The import io.appium.java_client.MobileElement cannot be\nresolved”\nAlso\nThere is an news @ <a href=\"https://github.com/appium/java-client/blob/master/docs/v7-to-v8-migration-guide.md#mobileelement\" rel=\"nofollow noreferrer\">https://github.com/appium/java-client/blob/master/docs/v7-to-v8-migration-guide.md#mobileelement</a>. Stating that “ • DefaultGenericMobileElement class has been removed completely together with its descendants (MobileElement, IOSElement, AndroidElement etc.). Use WebElement instead.”<br />\nShould this mean that MobileElement is no useful and permitted with the latest versions of Appium java-client I.e 8.5.1  and all the capabilities I.e mobile specific actions such as setValue(), swipe(), pinch(), and zoom(). Are moved to/will be available with WebElement from Appium java-client I.e 8.5.1 . I am little confused here. Any better early clarity from anyone of you will be much appreciated. Please do comment if you need any additional information related to this.</p>\n"},{"tags":["java","spring","kotlin","project-reactor","r2dbc"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1644569494,"post_id":71076971,"comment_id":125646205,"body_markdown":"Afaik you don&#39;t. BUt I would argue that how you are sending the file is wrong. Instead you should be writing to the output directly instead of an in-memory `ByteArrayOutputStream` this would not require that amount of memory and your application will continue to work.","body":"Afaik you don&#39;t. BUt I would argue that how you are sending the file is wrong. Instead you should be writing to the output directly instead of an in-memory <code>ByteArrayOutputStream</code> this would not require that amount of memory and your application will continue to work."},{"owner":{"account_id":1960473,"reputation":917,"user_id":1762235,"accept_rate":71,"display_name":"typik89"},"score":0,"creation_date":1644571079,"post_id":71076971,"comment_id":125646791,"body_markdown":"It&#39;s just an example to reproduce OOM and In my opinion, I do nothing wrong. It&#39;s my choice how to implement the logic of my application. I gave my opinion in detail why it could be a big problem and why if this feature exists It could help. And I think it&#39;s possible to add this feature.If even you think that the example application is implemented in a bad way, It doesn&#39;t remove the question about intercepting and handling OOM because the application keeps working in such cases","body":"It&#39;s just an example to reproduce OOM and In my opinion, I do nothing wrong. It&#39;s my choice how to implement the logic of my application. I gave my opinion in detail why it could be a big problem and why if this feature exists It could help. And I think it&#39;s possible to add this feature.If even you think that the example application is implemented in a bad way, It doesn&#39;t remove the question about intercepting and handling OOM because the application keeps working in such cases"},{"owner":{"account_id":1197482,"reputation":4952,"user_id":1168884,"accept_rate":79,"display_name":"matt freake"},"score":0,"creation_date":1644571430,"post_id":71076971,"comment_id":125646910,"body_markdown":"I think the problem is, once your OOM is thrown, you can&#39;t make any guarantees that your code is going to be able to &quot;gracefully shutdown&quot;. Sure at the moment,  you can see other things continuing to work, but you have no guarantee that will happen in production when you need it. And by that point you&#39;re relying on that to handle this situation instead of something outside the JVM.","body":"I think the problem is, once your OOM is thrown, you can&#39;t make any guarantees that your code is going to be able to &quot;gracefully shutdown&quot;. Sure at the moment,  you can see other things continuing to work, but you have no guarantee that will happen in production when you need it. And by that point you&#39;re relying on that to handle this situation instead of something outside the JVM."},{"owner":{"account_id":1960473,"reputation":917,"user_id":1762235,"accept_rate":71,"display_name":"typik89"},"score":0,"creation_date":1644572224,"post_id":71076971,"comment_id":125647184,"body_markdown":"ok, let&#39;s forget about gracefully shutdown. I want that my application in such cases goes down but it keeps working. If in a production environment the application doesn&#39;t keep working I will happy about this. And for me, It&#39;s not so important if my code of handling oom is executed or not. I&#39;m ready to have a situation when my application doesn&#39;t execute this code in case only if it goes down without it. But my app keeps working andI don&#39;t have the opportunity to recognize that OOM happened. It&#39;s big problem because as you said it&#39;s a JVM error and there are no guarantees that something works.","body":"ok, let&#39;s forget about gracefully shutdown. I want that my application in such cases goes down but it keeps working. If in a production environment the application doesn&#39;t keep working I will happy about this. And for me, It&#39;s not so important if my code of handling oom is executed or not. I&#39;m ready to have a situation when my application doesn&#39;t execute this code in case only if it goes down without it. But my app keeps working andI don&#39;t have the opportunity to recognize that OOM happened. It&#39;s big problem because as you said it&#39;s a JVM error and there are no guarantees that something works."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1644820096,"post_id":71076971,"comment_id":125697837,"body_markdown":"I suspect that the error actually is that it is being handled, by Netty. Judging by the fact that in the end, you get a `ReactorNetty$InternalNettyException`. The OOM is basically end-of-the-road (at least in my experience). The only way to handle it is to log something and kill the app. However I&#39;m also a believer that if you do things right you won&#39;t get an out-of-memory error in the first place, those errors are generally produced due to user error, so to fix you should actually fix your own code.","body":"I suspect that the error actually is that it is being handled, by Netty. Judging by the fact that in the end, you get a <code>ReactorNetty$InternalNettyException</code>. The OOM is basically end-of-the-road (at least in my experience). The only way to handle it is to log something and kill the app. However I&#39;m also a believer that if you do things right you won&#39;t get an out-of-memory error in the first place, those errors are generally produced due to user error, so to fix you should actually fix your own code."},{"owner":{"account_id":1960473,"reputation":917,"user_id":1762235,"accept_rate":71,"display_name":"typik89"},"score":0,"creation_date":1644828309,"post_id":71076971,"comment_id":125699974,"body_markdown":"I would glad to handle any exception but I can&#39;t or doesn&#39;t know how. As I said many times It&#39;s only example and the application doesn&#39;t finish in such cases.  Yes, OOM happens when something wrong with an application. But you can found some memory leak on the producation environment after days and you have a chance that on the production requests to application fails but all healthchecks are succed and you don&#39;t have a chance to understand this","body":"I would glad to handle any exception but I can&#39;t or doesn&#39;t know how. As I said many times It&#39;s only example and the application doesn&#39;t finish in such cases.  Yes, OOM happens when something wrong with an application. But you can found some memory leak on the producation environment after days and you have a chance that on the production requests to application fails but all healthchecks are succed and you don&#39;t have a chance to understand this"},{"owner":{"account_id":1182627,"reputation":138,"user_id":1157230,"display_name":"JCMS"},"score":0,"creation_date":1667945740,"post_id":71076971,"comment_id":131288631,"body_markdown":"I agree with you. There should be an option to just shut down the JVM in case of OOM. It&#39;s extremely annoying to have the app still reporting being healthy","body":"I agree with you. There should be an option to just shut down the JVM in case of OOM. It&#39;s extremely annoying to have the app still reporting being healthy"}],"answers":[{"tags":[],"owner":{"account_id":2111357,"reputation":951,"user_id":1876585,"accept_rate":67,"display_name":"Raphael do Vale"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691075700,"creation_date":1691075700,"answer_id":76829441,"question_id":71076971,"body_markdown":"I was trying to find something better. In the same way, after an OutOfMemory error, my application hangs, the message on the queue keeps &quot;unacked&quot; and health checks keeps working properly and returning 200.\r\n\r\nThe best option I found was setting the JVM property `-XX:+CrashOnOutOfMemoryError` so as soon as this error happens, JVM will exit with return code 1 and log a message.\r\n\r\nI would love to have a way to handle this events and, for example, redirect the problematic message to another queue.","title":"project reactor: my application keeps working after OOM error and I can&#39;t intercept and handle such errors","body":"<p>I was trying to find something better. In the same way, after an OutOfMemory error, my application hangs, the message on the queue keeps &quot;unacked&quot; and health checks keeps working properly and returning 200.</p>\n<p>The best option I found was setting the JVM property <code>-XX:+CrashOnOutOfMemoryError</code> so as soon as this error happens, JVM will exit with return code 1 and log a message.</p>\n<p>I would love to have a way to handle this events and, for example, redirect the problematic message to another queue.</p>\n"}],"owner":{"account_id":1960473,"reputation":917,"user_id":1762235,"accept_rate":71,"display_name":"typik89"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":669,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1691075700,"creation_date":1644567426,"question_id":71076971,"body_markdown":"I noticed that [project reactor][1] doesn&#39;t allow handling OOM errors. Project reactor developers [intercept and handle such errors by adding log messages][2], but there is no way to intercept and handle them for framework users.\r\n\r\nI suppose It&#39;s potentially a big problem. If OOM happens, an HTTP request sent by the client of my application hangs, but my application keeps working and handling other requests, and healthchecks of my application are successful too.\r\n\r\nAs I was answered in a [comment on GitHub][3],  my application is potentially in an unrecoverable state. Yes, I agree and I would prefer that healthchecks fail or the application finish when OOM happens. I understand that the onError method is not a good place to handle such special errors. But In my opinion, It could be done in class Hooks, e.g. onJvmError, that will allow to start gracefully shutdown process or signalize via implementation of healthchecks about this situation.\r\n\r\nI implemented [the project in Kotlin][4] ( [in Java][5]) with the rest endpoint using reactor and Webflux to reproduce such case. \r\n```\r\ninterface CsvRepository : ReactiveCrudRepository&lt;CsvRow, Long&gt;\r\n\r\n@Service\r\nclass CsvService(val csvRepository: CsvRepository) {\r\n    fun createByteArray(): Mono&lt;ByteArray&gt; =\r\n        csvRepository.findAll()\r\n            .reduce(ByteArrayOutputStream()) { output, el -&gt;\r\n                output.write(el.toString().toByteArray())\r\n                output.write(&quot;\\n&quot;.toByteArray())\r\n                output\r\n            }\r\n            .map { it.toByteArray() }\r\n}\r\n\r\n@SpringBootApplication\r\nclass WebfluxMemoryRetroProjectApplication(val csvService: CsvService) {\r\n\r\n    @Bean\r\n    fun routing(): RouterFunction&lt;ServerResponse&gt; = router {\r\n        accept(MediaType.ALL).nest {\r\n            GET(&quot;/test&quot;) {\r\n                csvService.createByteArray()\r\n                    .flatMap { result -&gt;\r\n                        ServerResponse.ok()\r\n                            .headers { httpHeaders -&gt;\r\n                                httpHeaders.contentType = MediaType(&quot;application&quot;, &quot;force-download&quot;)\r\n                                httpHeaders.set(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=test.txt&quot;)\r\n                            }\r\n                            .bodyValue(ByteArrayResource(result))\r\n                    }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nAs a result of HTTP GET requests It requests data from a database and creates a file with a size of about 70MB.\r\nSo If I run it with -xmx100m, I have only an error in logs: \r\n```\r\n2022-02-07 12:25:06.135 ERROR 10288 --- [actor-tcp-nio-1] r.n.channel.ChannelOperationsHandler     : [7edd71ea, L:/127.0.0.1:58918 - R:localhost/127.0.0.1:5432] Error was received while reading the incoming data. The connection will be closed.\r\n\r\njava.lang.OutOfMemoryError: Java heap space\r\n....\r\n\r\n\r\n2022-02-07 12:25:06.141 ERROR 10288 --- [actor-tcp-nio-1] i.r.p.client.ReactorNettyClient          : Connection Error\r\n\r\nreactor.netty.ReactorNetty$InternalNettyException: java.lang.OutOfMemoryError: Java heap space\r\n```\r\nThis error isn&#39;t handled and an HTTP client request hangs.\r\nIs this expected behavior?\r\nhow can I handle this exception? I&#39;ve tried ```onErrorResume``` and ```Hooks.onOperatorError``` but I couldn&#39;t intercept this type of exception.\r\nIt seems unlogical for me that the application keeps working and I can&#39;t intercept and handle such errors.\r\n\r\n  [1]: https://projectreactor.io/\r\n  [2]: https://github.com/reactor/reactor-netty/blob/main/reactor-netty-core/src/main/java/reactor/netty/channel/ChannelOperationsHandler.java#L113\r\n  [3]: https://github.com/reactor/reactor-core/issues/2917#issuecomment-1032422400\r\n  [4]: https://github.com/typik89/webfluxMemoryRetroProject\r\n  [5]: https://github.com/sdeleuze/webfluxMemoryRetroProject","title":"project reactor: my application keeps working after OOM error and I can&#39;t intercept and handle such errors","body":"<p>I noticed that <a href=\"https://projectreactor.io/\" rel=\"nofollow noreferrer\">project reactor</a> doesn't allow handling OOM errors. Project reactor developers <a href=\"https://github.com/reactor/reactor-netty/blob/main/reactor-netty-core/src/main/java/reactor/netty/channel/ChannelOperationsHandler.java#L113\" rel=\"nofollow noreferrer\">intercept and handle such errors by adding log messages</a>, but there is no way to intercept and handle them for framework users.</p>\n<p>I suppose It's potentially a big problem. If OOM happens, an HTTP request sent by the client of my application hangs, but my application keeps working and handling other requests, and healthchecks of my application are successful too.</p>\n<p>As I was answered in a <a href=\"https://github.com/reactor/reactor-core/issues/2917#issuecomment-1032422400\" rel=\"nofollow noreferrer\">comment on GitHub</a>,  my application is potentially in an unrecoverable state. Yes, I agree and I would prefer that healthchecks fail or the application finish when OOM happens. I understand that the onError method is not a good place to handle such special errors. But In my opinion, It could be done in class Hooks, e.g. onJvmError, that will allow to start gracefully shutdown process or signalize via implementation of healthchecks about this situation.</p>\n<p>I implemented <a href=\"https://github.com/typik89/webfluxMemoryRetroProject\" rel=\"nofollow noreferrer\">the project in Kotlin</a> ( <a href=\"https://github.com/sdeleuze/webfluxMemoryRetroProject\" rel=\"nofollow noreferrer\">in Java</a>) with the rest endpoint using reactor and Webflux to reproduce such case.</p>\n<pre><code>interface CsvRepository : ReactiveCrudRepository&lt;CsvRow, Long&gt;\n\n@Service\nclass CsvService(val csvRepository: CsvRepository) {\n    fun createByteArray(): Mono&lt;ByteArray&gt; =\n        csvRepository.findAll()\n            .reduce(ByteArrayOutputStream()) { output, el -&gt;\n                output.write(el.toString().toByteArray())\n                output.write(&quot;\\n&quot;.toByteArray())\n                output\n            }\n            .map { it.toByteArray() }\n}\n\n@SpringBootApplication\nclass WebfluxMemoryRetroProjectApplication(val csvService: CsvService) {\n\n    @Bean\n    fun routing(): RouterFunction&lt;ServerResponse&gt; = router {\n        accept(MediaType.ALL).nest {\n            GET(&quot;/test&quot;) {\n                csvService.createByteArray()\n                    .flatMap { result -&gt;\n                        ServerResponse.ok()\n                            .headers { httpHeaders -&gt;\n                                httpHeaders.contentType = MediaType(&quot;application&quot;, &quot;force-download&quot;)\n                                httpHeaders.set(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=test.txt&quot;)\n                            }\n                            .bodyValue(ByteArrayResource(result))\n                    }\n            }\n        }\n    }\n}\n</code></pre>\n<p>As a result of HTTP GET requests It requests data from a database and creates a file with a size of about 70MB.\nSo If I run it with -xmx100m, I have only an error in logs:</p>\n<pre><code>2022-02-07 12:25:06.135 ERROR 10288 --- [actor-tcp-nio-1] r.n.channel.ChannelOperationsHandler     : [7edd71ea, L:/127.0.0.1:58918 - R:localhost/127.0.0.1:5432] Error was received while reading the incoming data. The connection will be closed.\n\njava.lang.OutOfMemoryError: Java heap space\n....\n\n\n2022-02-07 12:25:06.141 ERROR 10288 --- [actor-tcp-nio-1] i.r.p.client.ReactorNettyClient          : Connection Error\n\nreactor.netty.ReactorNetty$InternalNettyException: java.lang.OutOfMemoryError: Java heap space\n</code></pre>\n<p>This error isn't handled and an HTTP client request hangs.\nIs this expected behavior?\nhow can I handle this exception? I've tried <code>onErrorResume</code> and <code>Hooks.onOperatorError</code> but I couldn't intercept this type of exception.\nIt seems unlogical for me that the application keeps working and I can't intercept and handle such errors.</p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":18533,"reputation":3393,"user_id":42540,"accept_rate":78,"display_name":"Santosh Gokak"},"score":4,"creation_date":1352223945,"post_id":13256406,"comment_id":18065027,"body_markdown":"static methods kills polymorphism  which makes it difficult to swap/test/mock code and hinders pluggability which are key tenets of Spring","body":"static methods kills polymorphism  which makes it difficult to swap/test/mock code and hinders pluggability which are key tenets of Spring"}],"answers":[{"tags":[],"owner":{"account_id":4954,"reputation":4796,"user_id":7708,"accept_rate":81,"display_name":"Alan Krueger"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1352223939,"creation_date":1352223939,"answer_id":13256454,"question_id":13256406,"body_markdown":"What if you need to have multiple CustomerService components with different configuration? You can&#39;t do that with a single static method.\r\n\r\nAlso, if there&#39;s any configuration whatsoever on CustomerService, how do you inject it? Having a bean that gets wired into dependent objects centralizes your configuration and keeps you from having to hunt through your code.","title":"What&#39;s the harm with using a static method in service layer?","body":"<p>What if you need to have multiple CustomerService components with different configuration? You can't do that with a single static method.</p>\n\n<p>Also, if there's any configuration whatsoever on CustomerService, how do you inject it? Having a bean that gets wired into dependent objects centralizes your configuration and keeps you from having to hunt through your code.</p>\n"},{"tags":[],"owner":{"account_id":299251,"reputation":335905,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1352224236,"creation_date":1352224236,"answer_id":13256527,"question_id":13256406,"body_markdown":"There are numerous reasons:\r\n\r\n* you can&#39;t replace `CustomerService` with a mock easily during tests (tools like PowerMock aside)\r\n\r\n* `static` methods do not participate in standard, proxy-based AOP (no transactions, security, custom aspects)\r\n\r\n* you can no longer use fancy injection techniques, like injecting HTTP request (request scoped) into singleton scoped services (poor design anyway, but...)\r\n\r\nBut to be complete, there are also advantages:\r\n\r\n* `static` method is actually closer to your intent, Spring beans are very rarely stateful, thus they don&#39;t really need an instance to work\r\n\r\n* `static` call might be faster (this is irrelevant in 99% of the programs)","title":"What&#39;s the harm with using a static method in service layer?","body":"<p>There are numerous reasons:</p>\n\n<ul>\n<li><p>you can't replace <code>CustomerService</code> with a mock easily during tests (tools like PowerMock aside)</p></li>\n<li><p><code>static</code> methods do not participate in standard, proxy-based AOP (no transactions, security, custom aspects)</p></li>\n<li><p>you can no longer use fancy injection techniques, like injecting HTTP request (request scoped) into singleton scoped services (poor design anyway, but...)</p></li>\n</ul>\n\n<p>But to be complete, there are also advantages:</p>\n\n<ul>\n<li><p><code>static</code> method is actually closer to your intent, Spring beans are very rarely stateful, thus they don't really need an instance to work</p></li>\n<li><p><code>static</code> call might be faster (this is irrelevant in 99% of the programs)</p></li>\n</ul>\n"}],"owner":{"account_id":1278736,"reputation":7363,"user_id":1233359,"accept_rate":73,"display_name":"Dreamer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17489,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":13256527,"answer_count":2,"score":20,"last_activity_date":1691075547,"creation_date":1352223742,"question_id":13256406,"body_markdown":"I know it is not a best design but just a thought from a Spring newbie.\r\n\r\nNow we can easily `autowire` any service method to each other conveniently in Spring framework. But What is the disadvantage to create a static factory method of the service class and call it everywhere?\r\n\r\nIt&#39;s pretty common like this:\r\n\r\n    @Autowired\r\n    CustomerService customerService;\r\n    \r\n    ....\r\n    AccountDetail ad = customerService.getAccountDetail(accountId, type);\r\n\r\nBut this should work too:\r\n\r\n    // If we make getAccountDetail(String, String) static:\r\n    AccountDetail ad = CustomerService.getAccountDetail(accountId, type);\r\n\r\nSo why there is a design like autowire? It looks fancy and really cool, but the work behind this is still create one service bean instance on another service object.\r\n\r\nSeriously while Spring is all over the market so many posts and articles are talking about pros &amp; renovations. But is it guaranteeing better performance(like using autowire instead of static)?","title":"What&#39;s the harm with using a static method in service layer?","body":"<p>I know it is not a best design but just a thought from a Spring newbie.</p>\n<p>Now we can easily <code>autowire</code> any service method to each other conveniently in Spring framework. But What is the disadvantage to create a static factory method of the service class and call it everywhere?</p>\n<p>It's pretty common like this:</p>\n<pre><code>@Autowired\nCustomerService customerService;\n\n....\nAccountDetail ad = customerService.getAccountDetail(accountId, type);\n</code></pre>\n<p>But this should work too:</p>\n<pre><code>// If we make getAccountDetail(String, String) static:\nAccountDetail ad = CustomerService.getAccountDetail(accountId, type);\n</code></pre>\n<p>So why there is a design like autowire? It looks fancy and really cool, but the work behind this is still create one service bean instance on another service object.</p>\n<p>Seriously while Spring is all over the market so many posts and articles are talking about pros &amp; renovations. But is it guaranteeing better performance(like using autowire instead of static)?</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"owner":{"account_id":6281226,"reputation":35,"user_id":4882162,"accept_rate":100,"display_name":"Wim Veldhuis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691074902,"creation_date":1691074902,"question_id":76829341,"body_markdown":"I am converting an hibernate 4.x application towards spring boot + JPA.\r\nWe have lots of integration testing with a number of applications, which requires us to reload the database quite often. \r\n\r\nTo increase the speed of tests, we developed a flushing capability where we flush all database related information after we reloaded the database (caches, discard queryplans, etc). Part of this functionality is to reset all identifier generators, so they will reinitialize from the database on their next access. We have our own IdGenerator implementation, so we can cast easily and call the correct method to do this (not in the snippet)\r\n\r\nIn code finding all the identifier generators in Hibernate 4.x looks like this:\r\n```\r\n        Map&lt;String, ClassMetadata&gt; map = hSFactory.getAllClassMetadata();\r\n        for (Map.Entry&lt;String, ClassMetadata&gt; entry : map.entrySet()) {\r\n\r\n          EntityPersister entityPersister = hSFactory.getEntityPersister(entry.getKey());\r\n          idGenerators.add(entityPersister.getIdentifierGenerator());\r\n        }\r\n```\r\nHowever, with later versions of Hibernate the getAllClassMetaData is no longer supported.\r\nSo I need to use the `EntityManagerFactory.getMetaModel()` method, but I can not find how to \r\nget the Identifier Generator for each entity.\r\n\r\nWhen debugging and after I obtain the set of `EntityType&lt;?&gt;` with `factory.getMetaModel().getEntities()`, I can see that each EntityType has a reference to the SessionFactoryImpl, which in turn has a list called identifierGenerators, which contains the information I am looking for.\r\n\r\nBut how to get to that the official way (without hacking with reflection as the inherited sessionFactory() method is protected, so not accessible otherwise). \r\nI&#39;d rather not put reflection based code in as it is likely to break with new versions.\r\n\r\n\r\n\r\n","title":"How to get a list of all used identifier generators in jpa?","body":"<p>I am converting an hibernate 4.x application towards spring boot + JPA.\nWe have lots of integration testing with a number of applications, which requires us to reload the database quite often.</p>\n<p>To increase the speed of tests, we developed a flushing capability where we flush all database related information after we reloaded the database (caches, discard queryplans, etc). Part of this functionality is to reset all identifier generators, so they will reinitialize from the database on their next access. We have our own IdGenerator implementation, so we can cast easily and call the correct method to do this (not in the snippet)</p>\n<p>In code finding all the identifier generators in Hibernate 4.x looks like this:</p>\n<pre><code>        Map&lt;String, ClassMetadata&gt; map = hSFactory.getAllClassMetadata();\n        for (Map.Entry&lt;String, ClassMetadata&gt; entry : map.entrySet()) {\n\n          EntityPersister entityPersister = hSFactory.getEntityPersister(entry.getKey());\n          idGenerators.add(entityPersister.getIdentifierGenerator());\n        }\n</code></pre>\n<p>However, with later versions of Hibernate the getAllClassMetaData is no longer supported.\nSo I need to use the <code>EntityManagerFactory.getMetaModel()</code> method, but I can not find how to\nget the Identifier Generator for each entity.</p>\n<p>When debugging and after I obtain the set of <code>EntityType&lt;?&gt;</code> with <code>factory.getMetaModel().getEntities()</code>, I can see that each EntityType has a reference to the SessionFactoryImpl, which in turn has a list called identifierGenerators, which contains the information I am looking for.</p>\n<p>But how to get to that the official way (without hacking with reflection as the inherited sessionFactory() method is protected, so not accessible otherwise).\nI'd rather not put reflection based code in as it is likely to break with new versions.</p>\n"},{"tags":["java","intellij-idea","java-8"],"comments":[{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1554376861,"post_id":55514661,"comment_id":97733924,"body_markdown":"Does `/usr/bin/jdk1.8.0_202/bin/java` exist and is your user allowed to run it?","body":"Does <code>&#47;usr&#47;bin&#47;jdk1.8.0_202&#47;bin&#47;java</code> exist and is your user allowed to run it?"},{"owner":{"account_id":1688935,"reputation":2244,"user_id":1551685,"display_name":"Steve Smith"},"score":0,"creation_date":1554377541,"post_id":55514661,"comment_id":97734384,"body_markdown":"https://stackoverflow.com/questions/44500899/java-lang-runtime-exception-cannot-run-program","body":"<a href=\"https://stackoverflow.com/questions/44500899/java-lang-runtime-exception-cannot-run-program\" title=\"java lang runtime exception cannot run program\">stackoverflow.com/questions/44500899/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5079133,"reputation":162,"user_id":4075778,"display_name":"UrbanConor"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1691074881,"creation_date":1554377647,"answer_id":55514972,"question_id":55514661,"body_markdown":"First of check that `/usr/bin/jdk1.8.0_202/bin/java` is present - as in check that you have the Java SDK.\r\n\r\n*If you have it*, Then you need to specify the SDK for your project in Intellij. To do this goto &quot;Project Settings&quot; and select your SDK with the drop-down, as shown below\r\n\r\nGoto &quot;File&quot; → &quot;Settings&quot; → &quot;Project&quot; and you will see the below menu.\r\n\r\n[![InteliJ Project Structure][1]][1]\r\n\r\n\r\n  \r\n  \r\n*If you don&#39;t have* the Java SDK there, go ahead and install the Java JDK download from [https://www.oracle.com/technetwork/java/javase/downloads/index.html][2]  \r\nAfter installing the SDK, navigate to &quot;Project Settings&quot; again and select the new JDK configuration from the installation location. \r\n   \r\nThen you can build the project and it should work all fine!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EXTWu.png\r\n  [2]: https://www.oracle.com/technetwork/java/javase/downloads/index.html","title":"Cannot compile java program on linux machine","body":"<p>First of check that <code>/usr/bin/jdk1.8.0_202/bin/java</code> is present - as in check that you have the Java SDK.</p>\n<p><em>If you have it</em>, Then you need to specify the SDK for your project in Intellij. To do this goto &quot;Project Settings&quot; and select your SDK with the drop-down, as shown below</p>\n<p>Goto &quot;File&quot; → &quot;Settings&quot; → &quot;Project&quot; and you will see the below menu.</p>\n<p><a href=\"https://i.stack.imgur.com/EXTWu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EXTWu.png\" alt=\"InteliJ Project Structure\" /></a></p>\n<p><em>If you don't have</em> the Java SDK there, go ahead and install the Java JDK download from <a href=\"https://www.oracle.com/technetwork/java/javase/downloads/index.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/technetwork/java/javase/downloads/index.html</a><br />\nAfter installing the SDK, navigate to &quot;Project Settings&quot; again and select the new JDK configuration from the installation location.</p>\n<p>Then you can build the project and it should work all fine!</p>\n"}],"owner":{"account_id":12527340,"reputation":144,"user_id":9116650,"display_name":"cephlot"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":55514972,"answer_count":1,"score":-2,"last_activity_date":1691074881,"creation_date":1554376793,"question_id":55514661,"body_markdown":"I&#39;m trying to write a Java program in Intellij on Ubuntu 18.04. There is nothing wrong with the code, I can run it on my Windows machine at home.\r\n\r\nWhen I&#39;m trying to build the program i get the following error message:\r\n\r\n    Error:Cannot run program &quot;/usr/bin/jdk1.8.0_202/bin/java&quot; (in\r\n    directory &quot;/home/oskar/.IdeaIC2019.1/system/compile-server&quot;): error=2,\r\n    No such file or directory","title":"Cannot compile java program on linux machine","body":"<p>I'm trying to write a Java program in Intellij on Ubuntu 18.04. There is nothing wrong with the code, I can run it on my Windows machine at home.</p>\n\n<p>When I'm trying to build the program i get the following error message:</p>\n\n<pre><code>Error:Cannot run program \"/usr/bin/jdk1.8.0_202/bin/java\" (in\ndirectory \"/home/oskar/.IdeaIC2019.1/system/compile-server\"): error=2,\nNo such file or directory\n</code></pre>\n"},{"tags":["java","json","kotlin","apache-beam","avro"],"answers":[{"tags":[],"owner":{"account_id":24493709,"reputation":161,"user_id":18410362,"display_name":"pranavbhandari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691074826,"creation_date":1691074826,"answer_id":76829329,"question_id":76823963,"body_markdown":"You can do something similar to what we have done in Dataflow Templates. \r\n\r\nhttps://github.com/GoogleCloudPlatform/DataflowTemplates/blob/main/v2/common/src/main/java/com/google/cloud/teleport/v2/transforms/JsonConverters.java#L160","title":"How to convert a JsonObject into an Avro Generic Record?","body":"<p>You can do something similar to what we have done in Dataflow Templates.</p>\n<p><a href=\"https://github.com/GoogleCloudPlatform/DataflowTemplates/blob/main/v2/common/src/main/java/com/google/cloud/teleport/v2/transforms/JsonConverters.java#L160\" rel=\"nofollow noreferrer\">https://github.com/GoogleCloudPlatform/DataflowTemplates/blob/main/v2/common/src/main/java/com/google/cloud/teleport/v2/transforms/JsonConverters.java#L160</a></p>\n"}],"owner":{"account_id":1412218,"reputation":9144,"user_id":1338588,"accept_rate":64,"display_name":"Kulasangar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1691074826,"creation_date":1691016837,"question_id":76823963,"body_markdown":"I&#39;m still a newbie in this area, and currently I&#39;m trying to deserialise data from a parquet file using the `ParDo` and `DoFn` in Apache Beam, make some modifications to the record and then update the `GenericRecord`. \r\n\r\nInitially I started iterating the GenericArray type of field and then converting each object(GenericRecord) into a JSONObject, since I had to traverse through multiple nestings and update the respective value. I was able to do that, but now I&#39;m struggling to convert the updated JSONObject back into GenericRecord, so that the the whole GenericArray gets updated.\r\n\r\n    val attributes = dataNestedObjGroup.getAsGenericRecord(&quot;details&quot;)?.get(&quot;attributes&quot;) as GenericArray&lt;GenericRecord&gt;\r\n    attributes.forEach { attribute -&gt;\r\n        val jsonRootObject = JSONObject(attribute.toString())\r\n        jsonRootObject.keySet().forEach { keyStr -&gt;\r\n            val value = jsonRootObject.get(keyStr)\r\n            \r\n            val innerObject = JSONObject(value?.toString())\r\n            val valueOfKey = innerObject.getJSONArray(&quot;value&quot;)\r\n            if(innerObject.get(&quot;name&quot;) == &quot;customer_id&quot; &amp;&amp; valueOfKey != null){\r\n                // do something\r\n                innerObject.put(&quot;value&quot;,JsonArray())\r\n            }        \r\n            jsonRootObject.put(keyStr,innerObject)\r\n        }\r\n        // here i have to update the attribute which is a GenericRecord type with the above jsonRootObject (which is a JSONObject type) I&#39;ve derived above\r\n    }\r\n\r\nAny help is really appreciated. \r\n\r\n ","title":"How to convert a JsonObject into an Avro Generic Record?","body":"<p>I'm still a newbie in this area, and currently I'm trying to deserialise data from a parquet file using the <code>ParDo</code> and <code>DoFn</code> in Apache Beam, make some modifications to the record and then update the <code>GenericRecord</code>.</p>\n<p>Initially I started iterating the GenericArray type of field and then converting each object(GenericRecord) into a JSONObject, since I had to traverse through multiple nestings and update the respective value. I was able to do that, but now I'm struggling to convert the updated JSONObject back into GenericRecord, so that the the whole GenericArray gets updated.</p>\n<pre><code>val attributes = dataNestedObjGroup.getAsGenericRecord(&quot;details&quot;)?.get(&quot;attributes&quot;) as GenericArray&lt;GenericRecord&gt;\nattributes.forEach { attribute -&gt;\n    val jsonRootObject = JSONObject(attribute.toString())\n    jsonRootObject.keySet().forEach { keyStr -&gt;\n        val value = jsonRootObject.get(keyStr)\n        \n        val innerObject = JSONObject(value?.toString())\n        val valueOfKey = innerObject.getJSONArray(&quot;value&quot;)\n        if(innerObject.get(&quot;name&quot;) == &quot;customer_id&quot; &amp;&amp; valueOfKey != null){\n            // do something\n            innerObject.put(&quot;value&quot;,JsonArray())\n        }        \n        jsonRootObject.put(keyStr,innerObject)\n    }\n    // here i have to update the attribute which is a GenericRecord type with the above jsonRootObject (which is a JSONObject type) I've derived above\n}\n</code></pre>\n<p>Any help is really appreciated.</p>\n"},{"tags":["java","logging","logback","jvm-arguments","java-opts"],"answers":[{"tags":[],"owner":{"account_id":303087,"reputation":8621,"user_id":611819,"accept_rate":100,"display_name":"dnault"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465285890,"creation_date":1465256449,"answer_id":37668432,"question_id":37667551,"body_markdown":"The documentation indicates you can include a system property by using a [PatternLayout](http://logback.qos.ch/manual/layouts.html#ClassicPatternLayout) with the [property conversion pattern](http://logback.qos.ch/manual/layouts.html#property) `%property{key}` where `key` is the system property name.\r\n","title":"how to read environment variable or property in logback.xml and print that property in every log line","body":"<p>The documentation indicates you can include a system property by using a <a href=\"http://logback.qos.ch/manual/layouts.html#ClassicPatternLayout\" rel=\"nofollow\">PatternLayout</a> with the <a href=\"http://logback.qos.ch/manual/layouts.html#property\" rel=\"nofollow\">property conversion pattern</a> <code>%property{key}</code> where <code>key</code> is the system property name.</p>\n"},{"tags":[],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691074582,"creation_date":1691074582,"answer_id":76829289,"question_id":37667551,"body_markdown":"You can use system properties like `${SOME_VAR}` and pass that value into your application with `-D` while running. \r\n\r\nSo in my case:\r\n\r\n```xml\r\n    &lt;logger name=&quot;com.example.app&quot; level=&quot;${SOME_LOGGING_LEVEL}&quot;/&gt;\r\n```\r\n\r\nAnd:\r\n\r\n```java\r\njava -DSOME_LOGGING_LEVEL=WARN MyApp\r\n```\r\n\r\nVerified and it works. And ofc it works in docker, docker-compose and Kubernetes as this is Logback feature. See [here](https://logback.qos.ch/manual/configuration.html#definingProps)","title":"how to read environment variable or property in logback.xml and print that property in every log line","body":"<p>You can use system properties like <code>${SOME_VAR}</code> and pass that value into your application with <code>-D</code> while running.</p>\n<p>So in my case:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;logger name=&quot;com.example.app&quot; level=&quot;${SOME_LOGGING_LEVEL}&quot;/&gt;\n</code></pre>\n<p>And:</p>\n<pre class=\"lang-java prettyprint-override\"><code>java -DSOME_LOGGING_LEVEL=WARN MyApp\n</code></pre>\n<p>Verified and it works. And ofc it works in docker, docker-compose and Kubernetes as this is Logback feature. See <a href=\"https://logback.qos.ch/manual/configuration.html#definingProps\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":8343762,"reputation":21,"user_id":6270056,"display_name":"SSSR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4357,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1691074582,"creation_date":1465250590,"question_id":37667551,"body_markdown":"I would like to read environment variable or property in every log line from logback.xml. \r\n**Example** \r\nif I hit **echo &quot;${FOO_INFO}&quot;** the result is &quot;FOO_RESULT&quot;, this FOO_RESULT I need to print it in the every log line. \r\n\r\nAfter adding JAVA_OPTS=&quot;-Dfoo.info=${FOO_INFO}&quot; \r\n\r\nI tried below option:- \r\n\r\n**Option :** added &lt;property scope=&quot;context&quot; name=&quot;FOO_INFO&quot; /&gt; and calling &lt;pattern&gt;%d{ISO8601} [%thread] %-5level %logger{36} ${FOO_INFO}- %msg%n&lt;/pattern&gt;\r\n\r\n \r\n     ","title":"how to read environment variable or property in logback.xml and print that property in every log line","body":"<p>I would like to read environment variable or property in every log line from logback.xml. \n<strong>Example</strong> \nif I hit <strong>echo \"${FOO_INFO}\"</strong> the result is \"FOO_RESULT\", this FOO_RESULT I need to print it in the every log line. </p>\n\n<p>After adding JAVA_OPTS=\"-Dfoo.info=${FOO_INFO}\" </p>\n\n<p>I tried below option:- </p>\n\n<p><strong>Option :</strong> added  and calling %d{ISO8601} [%thread] %-5level %logger{36} ${FOO_INFO}- %msg%n</p>\n"},{"tags":["java","json","timestamp"],"owner":{"account_id":11692233,"reputation":322,"user_id":8663707,"display_name":"Interested_Programmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691074356,"creation_date":1691074356,"question_id":76829248,"body_markdown":"I am trying to update JSON data based on incoming data. For that purpose, I am using JsonMergePatch to update the existing key elements of the nested JSON object. The attribute updates are happening correctly as per the data available.\r\n\r\n\r\n    JsonNode oldData = some JsonNode data\r\n    JsonNode newData = some JsonNode data\r\n    JsonMergePatch patchstep = JsonMergePatch.fromJson(newData );\r\n    JsonNode mergedNode = mergePatch.apply(oldData);\r\n\r\nWhere we are facing issues is when there is data which has timestamp fields which may not be in order. For example, existing data\r\n\r\n&gt; { &quot;eventAttribute1&quot; : &quot;sample2&quot;, &quot;eventDt&quot;:&quot;2022-03-22T12:00:00&quot; }\r\n\r\nnew data\r\n\r\n&gt; { &quot;eventAttribute1&quot; : &quot;sample1&quot;, &quot;eventDt&quot;:&quot;2022-03-22T11:59:00&quot; }\r\n\r\nWhen I merge using JsonMergePatch, it updates the data with newer timestamp with older timestamp as well. Is there a way in JsonMergePatch I can update based on a timestamp field? If not possible is there an alternate way to dynamically update JSON based on a timestamp field?\r\n\r\nThank you!","title":"JsonMergePath update based on timestamp","body":"<p>I am trying to update JSON data based on incoming data. For that purpose, I am using JsonMergePatch to update the existing key elements of the nested JSON object. The attribute updates are happening correctly as per the data available.</p>\n<pre><code>JsonNode oldData = some JsonNode data\nJsonNode newData = some JsonNode data\nJsonMergePatch patchstep = JsonMergePatch.fromJson(newData );\nJsonNode mergedNode = mergePatch.apply(oldData);\n</code></pre>\n<p>Where we are facing issues is when there is data which has timestamp fields which may not be in order. For example, existing data</p>\n<blockquote>\n<p>{ &quot;eventAttribute1&quot; : &quot;sample2&quot;, &quot;eventDt&quot;:&quot;2022-03-22T12:00:00&quot; }</p>\n</blockquote>\n<p>new data</p>\n<blockquote>\n<p>{ &quot;eventAttribute1&quot; : &quot;sample1&quot;, &quot;eventDt&quot;:&quot;2022-03-22T11:59:00&quot; }</p>\n</blockquote>\n<p>When I merge using JsonMergePatch, it updates the data with newer timestamp with older timestamp as well. Is there a way in JsonMergePatch I can update based on a timestamp field? If not possible is there an alternate way to dynamically update JSON based on a timestamp field?</p>\n<p>Thank you!</p>\n"},{"tags":["java","intellij-idea","floating-point"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1691073906,"post_id":76829171,"comment_id":135444996,"body_markdown":"Hint: 66.1f is actually 66.09999847412109375, as that&#39;s the closest exactly-representable 32-bit floating point value.","body":"Hint: 66.1f is actually 66.09999847412109375, as that&#39;s the closest exactly-representable 32-bit floating point value."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1691339865,"post_id":76829171,"comment_id":135475267,"body_markdown":"For accuracy, use `BigDecimal`.","body":"For accuracy, use <code>BigDecimal</code>."}],"owner":{"account_id":29153068,"reputation":1,"user_id":22333502,"display_name":"khurram saddique"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1691073886,"answer_count":0,"score":0,"last_activity_date":1691073820,"creation_date":1691073758,"question_id":76829171,"body_markdown":"I am using java in intellij idea and while dealing with floating points but compiler isn&#39;t returning absolute value if answer is 0.1 then it is returning 0.099998474\r\n     \r\n\r\nThere is sample code I am using:\r\n\r\n```java\r\nfloat f1;\r\nf1 = 66.1f % 6f;\r\nSystem.out.println(f1);\r\n```","title":"Floating points in java","body":"<p>I am using java in intellij idea and while dealing with floating points but compiler isn't returning absolute value if answer is 0.1 then it is returning 0.099998474</p>\n<p>There is sample code I am using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>float f1;\nf1 = 66.1f % 6f;\nSystem.out.println(f1);\n</code></pre>\n"},{"tags":["java","shadow"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":1,"creation_date":1427425201,"post_id":29292562,"comment_id":46781774,"body_markdown":"Use a debugger and you can examine every expression during runtime.","body":"Use a debugger and you can examine every expression during runtime."},{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1427425653,"post_id":29292562,"comment_id":46781862,"body_markdown":"@paxdiablo There is no undefined behaviour in Java. Evaluation order is strictly defined (mostly left-to-right), and the effect of multiple modifications in a single statement is strictly defined (although I don&#39;t remember what it&#39;s defined as).","body":"@paxdiablo There is no undefined behaviour in Java. Evaluation order is strictly defined (mostly left-to-right), and the effect of multiple modifications in a single statement is strictly defined (although I don&#39;t remember what it&#39;s defined as)."}],"answers":[{"tags":[],"owner":{"display_name":"user5124079"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1438881139,"creation_date":1438881139,"answer_id":31861864,"question_id":29292562,"body_markdown":"    first in static A-&gt;  \r\n     i=i-- - --i;   will be 2 becoz, i-- means first assign value and then decrement the value so,i--=1111 then in satic memory i will be 1110 then --i means first decrement and then assign so, in this 1110 will become 1109 and then value of i wiil be 2.\r\n    secondly in static B-&gt;\r\n    currently i is 2.   i=--i - i--;   will be i=1-1  i will be zero\r\n    third instance block of A will be executed-&gt;\r\n    i=i++ + ++i  will be i=0+2=2\r\n    finaly instance block of B will be executed-&gt;\r\n    i=++i + i++   will be i=3+3=6","title":"I cant able to understand this code i am getting 6 as output?","body":"<pre><code>first in static A-&gt;  \n i=i-- - --i;   will be 2 becoz, i-- means first assign value and then decrement the value so,i--=1111 then in satic memory i will be 1110 then --i means first decrement and then assign so, in this 1110 will become 1109 and then value of i wiil be 2.\nsecondly in static B-&gt;\ncurrently i is 2.   i=--i - i--;   will be i=1-1  i will be zero\nthird instance block of A will be executed-&gt;\ni=i++ + ++i  will be i=0+2=2\nfinaly instance block of B will be executed-&gt;\ni=++i + i++   will be i=3+3=6\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6123562,"reputation":1,"user_id":4776301,"display_name":"Umesh Kumar Yadav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691073598,"creation_date":1690621257,"answer_id":76792849,"question_id":29292562,"body_markdown":"The answer would be 6.\r\n\r\nfirst static\r\n\r\n`i=i-- - --i; // (1111) - (1110-1) // result 2`&lt;br&gt;\r\nsecond static&lt;br&gt;\r\n`i=--i - i--;  // (1 - 1) // result 0`&lt;br&gt;\r\nfirst block &lt;br&gt;\r\n`i=i++ + ++i;  // (0 + [1+1]) // result 2`&lt;br&gt;\r\nsecond block&lt;br&gt;\r\n`i=++i + i++  // ( [2+1] + [3]) //6 // final output 6`","title":"I cant able to understand this code i am getting 6 as output?","body":"<p>The answer would be 6.</p>\n<p>first static</p>\n<p><code>i=i-- - --i; // (1111) - (1110-1) // result 2</code><br>\nsecond static<br>\n<code>i=--i - i--;  // (1 - 1) // result 0</code><br>\nfirst block <br>\n<code>i=i++ + ++i;  // (0 + [1+1]) // result 2</code><br>\nsecond block<br>\n<code>i=++i + i++  // ( [2+1] + [3]) //6 // final output 6</code></p>\n"}],"owner":{"account_id":5011933,"reputation":355,"user_id":4027948,"accept_rate":100,"display_name":"Sankar Karthi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":985,"favorite_count":0,"down_vote_count":7,"up_vote_count":3,"accepted_answer_id":31861864,"answer_count":2,"score":-4,"last_activity_date":1691073598,"creation_date":1427425111,"question_id":29292562,"body_markdown":" please explain this code i am getting the output as 6,anyone please help me.\r\n\r\n    class A {\r\n    \tstatic int i=1111;\r\n    \tstatic {\r\n    \t\ti=i-- - --i;\r\n    \t}\r\n    \t{\r\n    \t\ti=i++ + ++i;\r\n    \t}\r\n    }\r\n    class B extends A {\r\n    \tstatic {\r\n    \t\ti=--i - i--;\r\n    \t}\r\n    \t{\r\n    \t\ti=++i + i++; \r\n    \t}\r\n    }\r\n    public class Shadow2 {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tB b = new B();\r\n    \t\tSystem.out.println(&quot;Find-&gt;&quot; + b.i);\r\n    \t}\r\n    }\r\n\r\noutput\r\n\r\n    Find-&gt;6\r\n\r\nAnyone help me to go through the code","title":"I cant able to understand this code i am getting 6 as output?","body":"<p>please explain this code i am getting the output as 6,anyone please help me.</p>\n\n<pre><code>class A {\n    static int i=1111;\n    static {\n        i=i-- - --i;\n    }\n    {\n        i=i++ + ++i;\n    }\n}\nclass B extends A {\n    static {\n        i=--i - i--;\n    }\n    {\n        i=++i + i++; \n    }\n}\npublic class Shadow2 {\n    public static void main(String[] args) {\n        B b = new B();\n        System.out.println(\"Find-&gt;\" + b.i);\n    }\n}\n</code></pre>\n\n<p>output</p>\n\n<pre><code>Find-&gt;6\n</code></pre>\n\n<p>Anyone help me to go through the code</p>\n"},{"tags":["java","project-reactor"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1691070471,"post_id":76828666,"comment_id":135444133,"body_markdown":"`map` transforms the input and returns a new value, `handle` consumes its input and doesn&#39;t produce a new value","body":"<code>map</code> transforms the input and returns a new value, <code>handle</code> consumes its input and doesn&#39;t produce a new value"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":3,"creation_date":1691070747,"post_id":76828666,"comment_id":135444214,"body_markdown":"[Possible duplicate](https://stackoverflow.com/q/75386970/5133585)","body":"<a href=\"https://stackoverflow.com/q/75386970/5133585\">Possible duplicate</a>"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1691070805,"post_id":76828666,"comment_id":135444229,"body_markdown":"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#map-java.util.function.Function-, https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#handle-java.util.function.BiConsumer-","body":"<a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#map-java.util.function.Function-\" rel=\"nofollow noreferrer\">projectreactor.io/docs/core/release/api/reactor/core/publish&zwnj;&#8203;er/&hellip;</a>, <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#handle-java.util.function.BiConsumer-\" rel=\"nofollow noreferrer\">projectreactor.io/docs/core/release/api/reactor/core/publish&zwnj;&#8203;er/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691071308,"creation_date":1691071308,"answer_id":76828855,"question_id":76828666,"body_markdown":"As much as they are extremely similar, they have different purposes and behaviors:\r\n\r\n1. `.map()`:\r\n   - **Purpose**: The `map()` method is used for **transforming the elements of a stream** from one type to another by applying a given function to each element of the stream.\r\n   - **Return Type**: It returns a new stream consisting of the results of applying the given function to each element of the original stream.\r\n   - **Usage**: This is useful when you want to transform the elements of a stream without altering the original elements.\r\n\r\n   In your code:\r\n   ```java\r\n   Flux.fromIterable(persons)\r\n       .map(b -&gt; {\r\n           try {\r\n               stopProcessingStuff(person);\r\n               disconnectPerson(person);\r\n               // Transforming the elements\r\n               return new DisconnectPersonResponse(Status.SUCCESS, person.id());\r\n           } catch (Exception e) {\r\n               // Transforming the elements\r\n               return new DisconnectPersonResponse(Status.FAILURE, person.id());\r\n           }\r\n       })\r\n   ```\r\n\r\n2. `.handle()`:\r\n   - **Purpose**: The `handle()` method allows you to **consume** each element of the stream, **but not necessarily produce or create elements**. However, it also allows you to produce additional elements to the resulting stream or even terminate the stream early by using a different type of `Consumer`.\r\n   - **Return Type**: It returns a new stream that may contain different elements based on the function applied.The function passed to `handle()` takes two parameters: the first parameter represents the input element, and the second parameter is a `BiConsumer` that can be used to add elements to the resulting stream.\r\n   - **Usage**: `handle()` can be helpful when you need to perform a more complex transformation on elements and may generate multiple elements for each input element.\r\n\r\n   In your code:\r\n   ```java\r\n   Flux.fromIterable(persons)\r\n       .handle((person, sink) -&gt; {\r\n           try {\r\n               stopProcessingStuff(person);\r\n               disconnectPerson(person);\r\n               sink.next(new DisconnectPersonResponse(Status.SUCCESS, person.id()));\r\n           }\r\n           catch (Exception ex) {\r\n               sink.next(new DisconnectPersonResponse(Status.FAILURE, person.id()));\r\n           }\r\n       })\r\n   ```\r\n\r\nIn summary, **`.map()` is used for straightforward one-to-one transformations** of elements in a stream, whereas **`.handle()` is more versatile** and allows you to create more complex transformations, produce additional elements, or even terminate the stream conditionally.","title":"What is the difference between .handle() and .map()?","body":"<p>As much as they are extremely similar, they have different purposes and behaviors:</p>\n<ol>\n<li><p><code>.map()</code>:</p>\n<ul>\n<li><strong>Purpose</strong>: The <code>map()</code> method is used for <strong>transforming the elements of a stream</strong> from one type to another by applying a given function to each element of the stream.</li>\n<li><strong>Return Type</strong>: It returns a new stream consisting of the results of applying the given function to each element of the original stream.</li>\n<li><strong>Usage</strong>: This is useful when you want to transform the elements of a stream without altering the original elements.</li>\n</ul>\n<p>In your code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Flux.fromIterable(persons)\n    .map(b -&gt; {\n        try {\n            stopProcessingStuff(person);\n            disconnectPerson(person);\n            // Transforming the elements\n            return new DisconnectPersonResponse(Status.SUCCESS, person.id());\n        } catch (Exception e) {\n            // Transforming the elements\n            return new DisconnectPersonResponse(Status.FAILURE, person.id());\n        }\n    })\n</code></pre>\n</li>\n<li><p><code>.handle()</code>:</p>\n<ul>\n<li><strong>Purpose</strong>: The <code>handle()</code> method allows you to <strong>consume</strong> each element of the stream, <strong>but not necessarily produce or create elements</strong>. However, it also allows you to produce additional elements to the resulting stream or even terminate the stream early by using a different type of <code>Consumer</code>.</li>\n<li><strong>Return Type</strong>: It returns a new stream that may contain different elements based on the function applied.The function passed to <code>handle()</code> takes two parameters: the first parameter represents the input element, and the second parameter is a <code>BiConsumer</code> that can be used to add elements to the resulting stream.</li>\n<li><strong>Usage</strong>: <code>handle()</code> can be helpful when you need to perform a more complex transformation on elements and may generate multiple elements for each input element.</li>\n</ul>\n<p>In your code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Flux.fromIterable(persons)\n    .handle((person, sink) -&gt; {\n        try {\n            stopProcessingStuff(person);\n            disconnectPerson(person);\n            sink.next(new DisconnectPersonResponse(Status.SUCCESS, person.id()));\n        }\n        catch (Exception ex) {\n            sink.next(new DisconnectPersonResponse(Status.FAILURE, person.id()));\n        }\n    })\n</code></pre>\n</li>\n</ol>\n<p>In summary, <strong><code>.map()</code> is used for straightforward one-to-one transformations</strong> of elements in a stream, whereas <strong><code>.handle()</code> is more versatile</strong> and allows you to create more complex transformations, produce additional elements, or even terminate the stream conditionally.</p>\n"}],"owner":{"account_id":9606247,"reputation":1346,"user_id":9236477,"accept_rate":100,"display_name":"Kaigo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1691073462,"answer_count":1,"score":0,"last_activity_date":1691073555,"creation_date":1691070006,"question_id":76828666,"body_markdown":"I have the following code which I&#39;ve written using `.handle()` and `.map()`, which both seem to work for my use case, but I&#39;d like to understand precisely why I should choose one over the other.\r\n\r\n**.handle()**\r\n\r\n```java\r\nFlux.fromIterable(persons)\r\n    .handle((person, sink) -&gt; {\r\n        try {\r\n            stopProcessingStuff(person);\r\n            disconnectPerson(person);\r\n            sink.next(new DisconnectPersonResponse(Status.SUCCESS, person.id()));\r\n        }\r\n        catch (Exception ex) {\r\n            sink.next(new DisconnectPersonResponse(Status.FAILURE, person.id()));\r\n        }\r\n    })\r\n```\r\n\r\n**.map()**\r\n\r\n```java\r\nFlux.fromIterable(persons)\r\n    .map(b -&gt; {\r\n        try {\r\n            stopProcessingStuff(person);\r\n            disconnectPerson(person);\r\n            return new DisconnectPersonResponse(Status.SUCCESS, person.id());\r\n        } catch (Exception e) {\r\n            return new DisconnectPersonResponse(Status.FAILURE, person.id());\r\n        }\r\n    })\r\n```","title":"What is the difference between .handle() and .map()?","body":"<p>I have the following code which I've written using <code>.handle()</code> and <code>.map()</code>, which both seem to work for my use case, but I'd like to understand precisely why I should choose one over the other.</p>\n<p><strong>.handle()</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>Flux.fromIterable(persons)\n    .handle((person, sink) -&gt; {\n        try {\n            stopProcessingStuff(person);\n            disconnectPerson(person);\n            sink.next(new DisconnectPersonResponse(Status.SUCCESS, person.id()));\n        }\n        catch (Exception ex) {\n            sink.next(new DisconnectPersonResponse(Status.FAILURE, person.id()));\n        }\n    })\n</code></pre>\n<p><strong>.map()</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>Flux.fromIterable(persons)\n    .map(b -&gt; {\n        try {\n            stopProcessingStuff(person);\n            disconnectPerson(person);\n            return new DisconnectPersonResponse(Status.SUCCESS, person.id());\n        } catch (Exception e) {\n            return new DisconnectPersonResponse(Status.FAILURE, person.id());\n        }\n    })\n</code></pre>\n"},{"tags":["java","apache","batch-file","tomcat","environment-variables"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1292933982,"post_id":4499117,"comment_id":4923284,"body_markdown":"Does anyone else this is a &#39;superuser.com&#39; question?","body":"Does anyone else this is a &#39;superuser.com&#39; question?"},{"owner":{"display_name":"user346077"},"score":0,"creation_date":1292936226,"post_id":4499117,"comment_id":4923676,"body_markdown":"follow all steps which i define at question posted area. And then last step which tell Mr Arun in answer area.I hope you problem will be solved as like me.....","body":"follow all steps which i define at question posted area. And then last step which tell Mr Arun in answer area.I hope you problem will be solved as like me....."},{"owner":{"account_id":22466,"reputation":11039,"user_id":55452,"accept_rate":100,"display_name":"David J. Liszewski"},"score":2,"creation_date":1292943782,"post_id":4499117,"comment_id":4925220,"body_markdown":"Perhaps accept Arun&#39;s answer?","body":"Perhaps accept Arun&#39;s answer?"},{"owner":{"account_id":5564509,"reputation":1825,"user_id":4412324,"accept_rate":50,"display_name":"Maged Saeed"},"score":0,"creation_date":1553692557,"post_id":4499117,"comment_id":97478401,"body_markdown":"maybe related to https://stackoverflow.com/questions/19559371/tomcat-startup-bat-is-missing","body":"maybe related to <a href=\"https://stackoverflow.com/questions/19559371/tomcat-startup-bat-is-missing\" title=\"tomcat startup bat is missing\">stackoverflow.com/questions/19559371/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":39580,"reputation":385624,"user_id":114251,"accept_rate":87,"display_name":"Arun P Johny"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1293688106,"creation_date":1292933875,"answer_id":4499142,"question_id":4499117,"body_markdown":"Add `%CATALINA_HOME%/bin` to path system variable.\r\n\r\nGo to `Environment Variables` screen under `System Variables` there will be a `Path` variable edit the variable and add `;%CATALINA_HOME%\\bin` to the variable then click `OK` to save the changes. Close all opened command prompts then open a new command prompt and try to use the command `startup.bat`.","title":"how to start stop tomcat server using CMD?","body":"<p>Add <code>%CATALINA_HOME%/bin</code> to path system variable.</p>\n\n<p>Go to <code>Environment Variables</code> screen under <code>System Variables</code> there will be a <code>Path</code> variable edit the variable and add <code>;%CATALINA_HOME%\\bin</code> to the variable then click <code>OK</code> to save the changes. Close all opened command prompts then open a new command prompt and try to use the command <code>startup.bat</code>.</p>\n"},{"tags":[],"owner":{"account_id":3404528,"reputation":193,"user_id":2855946,"display_name":"Ugrasen Banchhor"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1390545764,"creation_date":1390545764,"answer_id":21326128,"question_id":4499117,"body_markdown":"You can use the following command\r\nc:\\path of you tomcat directory\\bin&gt;catalina run","title":"how to start stop tomcat server using CMD?","body":"<p>You can use the following command\nc:\\path of you tomcat directory\\bin>catalina run</p>\n"},{"tags":[],"owner":{"account_id":4928986,"reputation":31,"user_id":3969404,"display_name":"Carson Balzrette"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1408740758,"creation_date":1408740758,"answer_id":25455375,"question_id":4499117,"body_markdown":"This is what I used to start and stop tomcat 7.0.29, using ant 1.8.2. Works fine for me, but leaves the control in the started server window. I have not tried it yet, but I think if I change the &quot;/K&quot; in the startup sequence to &quot;/C&quot;, it may not even do that.\r\n\t\r\n\t&lt;target name=&quot;tomcat-stop&quot;&gt;\r\n\t\t&lt;exec dir=&quot;${appserver.home}/bin&quot; executable=&quot;cmd&quot;&gt;\r\n\t\t\t&lt;arg line=&quot;/C start cmd.exe /C shutdown.bat&quot;/&gt;\r\n\t\t&lt;/exec&gt;\r\n\t&lt;/target&gt;\r\n\t \r\n\t\t\r\n\t\r\n\t&lt;target name=&quot;tomcat-start&quot; depends=&quot;tomcat-stop&quot; &gt;\r\n\t\t&lt;exec dir=&quot;${appserver.home}/bin&quot; executable=&quot;cmd&quot;&gt;\r\n\t\t\t&lt;arg line=&quot;/K start cmd.exe /C startup.bat&quot;/&gt;\r\n\t\t&lt;/exec&gt;\r\n\t\t\r\n\t&lt;/target&gt;\r\n\t\r\n","title":"how to start stop tomcat server using CMD?","body":"<p>This is what I used to start and stop tomcat 7.0.29, using ant 1.8.2. Works fine for me, but leaves the control in the started server window. I have not tried it yet, but I think if I change the \"/K\" in the startup sequence to \"/C\", it may not even do that.</p>\n\n<pre><code>&lt;target name=\"tomcat-stop\"&gt;\n    &lt;exec dir=\"${appserver.home}/bin\" executable=\"cmd\"&gt;\n        &lt;arg line=\"/C start cmd.exe /C shutdown.bat\"/&gt;\n    &lt;/exec&gt;\n&lt;/target&gt;\n\n\n\n&lt;target name=\"tomcat-start\" depends=\"tomcat-stop\" &gt;\n    &lt;exec dir=\"${appserver.home}/bin\" executable=\"cmd\"&gt;\n        &lt;arg line=\"/K start cmd.exe /C startup.bat\"/&gt;\n    &lt;/exec&gt;\n\n&lt;/target&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6507951,"reputation":51,"user_id":5036251,"display_name":"Ameer Chand"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691073537,"creation_date":1444451831,"answer_id":33050332,"question_id":4499117,"body_markdown":"you can use this trick to run tomcat using cmd and directly by tomcat bin folder.\r\n\r\n1.\r\nset the path of jdk.\r\n\r\n2.\r\n\r\nTo set path.\r\ngo to Desktop and right click on computer icon. \r\nClick the Properties\r\n\r\ngo to Advance System Settings.\r\n\r\nthen Click Advance to Environment variables.\r\n\r\nClick new and set path AS,\r\n\r\nin the column **Variable name=JAVA_HOME**\r\n\r\n**Variable Value=C:\\Program Files\\Java\\jdk1.6.0_19**\r\n\r\nClick ok ok.\r\n\r\nnow path is setted.\r\n\r\n3.\r\n\r\nGo to tomcat folder where you installed the tomcat.\r\ngo to bin folder.\r\nthere are two window batch files.\r\n\r\n  **1.Startup**\r\n\r\n  **2.Shutdown.**\r\n\r\n  By using cmd\r\n if you installed the tomcate in **D Drive**\r\n\r\n type on cmd screen\r\n\r\n 1. **D:**\r\n\r\n 2.  **Cd tomcat\\bin**\r\n   then type\r\n   startup.bat for Windows\r\nand ./startup.sh for Linux\r\n   \r\n\r\n4.\r\nBy clicking them you can start and stop the tomcat.\r\n\r\n5.\r\n\r\nFinal step.\r\n\r\n  if you start and want to check it.\r\n\r\n   open a Browser in URL bar type.\r\n\r\n    **HTTP://localhost:8080/**\r\n\r\n\r\n\r\n ","title":"how to start stop tomcat server using CMD?","body":"<p>you can use this trick to run tomcat using cmd and directly by tomcat bin folder.</p>\n<p>1.\nset the path of jdk.</p>\n<p>2.</p>\n<p>To set path.\ngo to Desktop and right click on computer icon.\nClick the Properties</p>\n<p>go to Advance System Settings.</p>\n<p>then Click Advance to Environment variables.</p>\n<p>Click new and set path AS,</p>\n<p>in the column <strong>Variable name=JAVA_HOME</strong></p>\n<p><strong>Variable Value=C:\\Program Files\\Java\\jdk1.6.0_19</strong></p>\n<p>Click ok ok.</p>\n<p>now path is setted.</p>\n<p>3.</p>\n<p>Go to tomcat folder where you installed the tomcat.\ngo to bin folder.\nthere are two window batch files.</p>\n<p><strong>1.Startup</strong></p>\n<p><strong>2.Shutdown.</strong></p>\n<p>By using cmd\nif you installed the tomcate in <strong>D Drive</strong></p>\n<p>type on cmd screen</p>\n<ol>\n<li><p><strong>D:</strong></p>\n</li>\n<li><p><strong>Cd tomcat\\bin</strong>\nthen type\nstartup.bat for Windows\nand ./startup.sh for Linux</p>\n</li>\n<li></li>\n</ol>\n<p>By clicking them you can start and stop the tomcat.</p>\n<p>5.</p>\n<p>Final step.</p>\n<p>if you start and want to check it.</p>\n<p>open a Browser in URL bar type.</p>\n<pre><code>**HTTP://localhost:8080/**\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8190537,"reputation":922,"user_id":6164961,"accept_rate":59,"display_name":"Shashank G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487062887,"creation_date":1487062887,"answer_id":42221771,"question_id":4499117,"body_markdown":"Change directory to tomcat/bin directory in cmd prompt\r\n\r\n&gt;cd C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\bin\r\n\r\nRun the below command **to start:**\r\n\r\nOn Linux: &gt;startup.sh\r\n\r\nOn Windows: &gt;startup.bat\r\n\r\nRun these commands **to stop**\r\n\r\nOn Linux: shutdown.sh\r\n\r\nOn Windows: shutdown.bat\r\n\r\n","title":"how to start stop tomcat server using CMD?","body":"<p>Change directory to tomcat/bin directory in cmd prompt</p>\n\n<blockquote>\n  <p>cd C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\bin</p>\n</blockquote>\n\n<p>Run the below command <strong>to start:</strong></p>\n\n<p>On Linux: >startup.sh</p>\n\n<p>On Windows: >startup.bat</p>\n\n<p>Run these commands <strong>to stop</strong></p>\n\n<p>On Linux: shutdown.sh</p>\n\n<p>On Windows: shutdown.bat</p>\n"},{"tags":[],"owner":{"account_id":10139917,"reputation":131,"user_id":7490011,"display_name":"Pratik Agarwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488455254,"creation_date":1488451161,"answer_id":42553090,"question_id":4499117,"body_markdown":"Create a `.bat` file and write two commands:\r\n\r\n    cd C:\\ Path to your tomcat directory \\ bin\r\n    \r\n    startup.bat\r\n\r\nNow on double-click, Tomcat server will start.","title":"how to start stop tomcat server using CMD?","body":"<p>Create a <code>.bat</code> file and write two commands:</p>\n\n<pre><code>cd C:\\ Path to your tomcat directory \\ bin\n\nstartup.bat\n</code></pre>\n\n<p>Now on double-click, Tomcat server will start.</p>\n"},{"tags":[],"owner":{"account_id":7237563,"reputation":69,"user_id":5522233,"display_name":"Yuvi Jum"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1488807647,"creation_date":1488807647,"answer_id":42627143,"question_id":4499117,"body_markdown":"Steps  to start Apache Tomcat using cmd:&lt;br&gt;\r\n1. Firstly check that the JRE_HOME or JAVA_HOME is a variable available in environment variables.(If it is not create a new variable JRE_HOME or JAVA_HOME)&lt;br&gt;\r\n2. Goto cmd and change your working directory to bin path where apache is installed (or extracted). &lt;br&gt;\r\n3. Type Command -&gt; `catalina.bat start` to **start** the server.&lt;br&gt;\r\n4. Type Command -&gt; `catalina.bat stop` to **stop** the server.&lt;br&gt;","title":"how to start stop tomcat server using CMD?","body":"<p>Steps  to start Apache Tomcat using cmd:<br>\n1. Firstly check that the JRE_HOME or JAVA_HOME is a variable available in environment variables.(If it is not create a new variable JRE_HOME or JAVA_HOME)<br>\n2. Goto cmd and change your working directory to bin path where apache is installed (or extracted). <br>\n3. Type Command -> <code>catalina.bat start</code> to <strong>start</strong> the server.<br>\n4. Type Command -> <code>catalina.bat stop</code> to <strong>stop</strong> the server.<br></p>\n"},{"tags":[],"owner":{"account_id":2604069,"reputation":1412,"user_id":2255641,"accept_rate":25,"display_name":"фымышонок"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523746616,"creation_date":1523746616,"answer_id":49836947,"question_id":4499117,"body_markdown":"I have just downloaded Tomcat and want to stop it (Windows).\r\n\r\n1.  To stop tomcat\r\n- run cmd as administrator (I used Cmder)\r\n\r\n- find process ID\r\n\r\ntasklist /fi &quot;Imagename eq tomcat*&quot;\r\n\r\n    C:\\Users\\Admin\r\n    tasklist /fi &quot;Imagename eq tomcat*&quot;\r\n    \r\n    Image Name                     PID Session Name        Session#    Mem Usage\r\n    ========================= ======== ================ =========== ============\r\n    Tomcat8aaw.exe                6376 Console                    1      7,300 K\r\n    Tomcat8aa.exe                 5352 Services                   0    124,748 K\r\n\r\n- stop prosess with pid 6376\r\n\r\nC:\\Users\\Admin\r\n\r\n    taskkill /f /pid 6376\r\n\r\nSUCCESS: The process with PID 6376 has been terminated.\r\n\r\n- stop process with pid 5352\r\n\r\nC:\\Users\\Admin\r\n\r\n    taskkill /f /pid 5352\r\n\r\nSUCCESS: The process with PID 5352 has been terminated. ","title":"how to start stop tomcat server using CMD?","body":"<p>I have just downloaded Tomcat and want to stop it (Windows).</p>\n\n<ol>\n<li><p>To stop tomcat</p>\n\n<ul>\n<li><p>run cmd as administrator (I used Cmder)</p></li>\n<li><p>find process ID</p></li>\n</ul></li>\n</ol>\n\n<p>tasklist /fi \"Imagename eq tomcat*\"</p>\n\n<pre><code>C:\\Users\\Admin\ntasklist /fi \"Imagename eq tomcat*\"\n\nImage Name                     PID Session Name        Session#    Mem Usage\n========================= ======== ================ =========== ============\nTomcat8aaw.exe                6376 Console                    1      7,300 K\nTomcat8aa.exe                 5352 Services                   0    124,748 K\n</code></pre>\n\n<ul>\n<li>stop prosess with pid 6376</li>\n</ul>\n\n<p>C:\\Users\\Admin</p>\n\n<pre><code>taskkill /f /pid 6376\n</code></pre>\n\n<p>SUCCESS: The process with PID 6376 has been terminated.</p>\n\n<ul>\n<li>stop process with pid 5352</li>\n</ul>\n\n<p>C:\\Users\\Admin</p>\n\n<pre><code>taskkill /f /pid 5352\n</code></pre>\n\n<p>SUCCESS: The process with PID 5352 has been terminated. </p>\n"},{"tags":[],"owner":{"account_id":3723758,"reputation":11894,"user_id":3600553,"accept_rate":71,"display_name":"Du-Lacoste"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651982004,"creation_date":1651982004,"answer_id":72157934,"question_id":4499117,"body_markdown":"There are multiple ways to Start and Stop Apache Tomcat Server in Linux and Windows Operating systems. Below is detail facts. Locate the bin folder in your tomcat server and execute the following commands in CMD/ Terminal. \r\n\r\n**Linux:**\r\n\r\n    ./catalina.sh run\r\n\r\nPassing &quot;run&quot; argument for catalina.sh --&gt; starts the Tomcat in the **foreground** and **displays the running logs in the same console**. when the console terminal is closed it **will terminate the tomcat**. \r\n\r\n    ./catalina.sh start | ./catalina.sh stop\r\n  \r\nPassing &quot;start&quot; argument for catalina.sh --&gt; starts the **Tomcat in the background**. Since in background no issues closing down the terminal. The logs need to be viewed as below: `tail -f $CATALINA_HOME/logs/catalina.out`\r\n\r\n    ./startup.sh | ./shutdown.sh \r\n\r\nThe last way is firing the startup.sh to start your Tomcat server. If you Vi the script you can see it calls **catalina.sh script passing start as the argument**. This will be running in background as well.\r\n\r\n**Windows:**\r\n\r\n    startup.bat // start tomcat server\r\n    shutdown.bat // stop tomcat server","title":"how to start stop tomcat server using CMD?","body":"<p>There are multiple ways to Start and Stop Apache Tomcat Server in Linux and Windows Operating systems. Below is detail facts. Locate the bin folder in your tomcat server and execute the following commands in CMD/ Terminal.</p>\n<p><strong>Linux:</strong></p>\n<pre><code>./catalina.sh run\n</code></pre>\n<p>Passing &quot;run&quot; argument for catalina.sh --&gt; starts the Tomcat in the <strong>foreground</strong> and <strong>displays the running logs in the same console</strong>. when the console terminal is closed it <strong>will terminate the tomcat</strong>.</p>\n<pre><code>./catalina.sh start | ./catalina.sh stop\n</code></pre>\n<p>Passing &quot;start&quot; argument for catalina.sh --&gt; starts the <strong>Tomcat in the background</strong>. Since in background no issues closing down the terminal. The logs need to be viewed as below: <code>tail -f $CATALINA_HOME/logs/catalina.out</code></p>\n<pre><code>./startup.sh | ./shutdown.sh \n</code></pre>\n<p>The last way is firing the startup.sh to start your Tomcat server. If you Vi the script you can see it calls <strong>catalina.sh script passing start as the argument</strong>. This will be running in background as well.</p>\n<p><strong>Windows:</strong></p>\n<pre><code>startup.bat // start tomcat server\nshutdown.bat // stop tomcat server\n</code></pre>\n"}],"owner":{"display_name":"user346077"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147341,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":4499142,"answer_count":9,"score":10,"last_activity_date":1691073537,"creation_date":1292933685,"question_id":4499117,"body_markdown":"I set the path for the tomcat and set all variables like\r\n\r\n1. `JAVA_HOME=C:\\Program Files (x86)\\Java\\jdk1.6.0_22`\r\n2. `CATALINA_HOME=G:\\springwork\\server\\apache-tomcat-6.0.29`\r\n3. `CLASSPATH=G:\\springwork\\server\\apache-tomcat-6.0.29\\lib\\servlet-api.jar;G:\\springwork\\server\\apache-tomcat-6.0.29\\lib\\jsp-api.jar;.;`\r\n\r\nWhen I go to bin folder and double click on startup.bat then my tomcat starts and when I double click on shutdown.bat tomcat stops.\r\n\r\nBut I want using CMD start and stop the tomcat.\r\nAnd in any folder I write command `startup.bat` the server will start and when I write `shutdown.bat` the server will stop.","title":"how to start stop tomcat server using CMD?","body":"<p>I set the path for the tomcat and set all variables like</p>\n\n<ol>\n<li><code>JAVA_HOME=C:\\Program Files (x86)\\Java\\jdk1.6.0_22</code></li>\n<li><code>CATALINA_HOME=G:\\springwork\\server\\apache-tomcat-6.0.29</code></li>\n<li><code>CLASSPATH=G:\\springwork\\server\\apache-tomcat-6.0.29\\lib\\servlet-api.jar;G:\\springwork\\server\\apache-tomcat-6.0.29\\lib\\jsp-api.jar;.;</code></li>\n</ol>\n\n<p>When I go to bin folder and double click on startup.bat then my tomcat starts and when I double click on shutdown.bat tomcat stops.</p>\n\n<p>But I want using CMD start and stop the tomcat.\nAnd in any folder I write command <code>startup.bat</code> the server will start and when I write <code>shutdown.bat</code> the server will stop.</p>\n"},{"tags":["java","hibernate","jpa","quarkus-panache"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1691067991,"post_id":76828361,"comment_id":135443529,"body_markdown":"Why? A char is almost certainly more efficient. Also, why not store it as a `CHAR(1)`? What is the point of a variable length character field of one character?","body":"Why? A char is almost certainly more efficient. Also, why not store it as a <code>CHAR(1)</code>? What is the point of a variable length character field of one character?"},{"owner":{"account_id":6393844,"reputation":1481,"user_id":4958965,"display_name":"Benjamin Zach"},"score":0,"creation_date":1691070609,"post_id":76828361,"comment_id":135444166,"body_markdown":"I agree a char is more efficient. But if I definitely want to keep the column type as is, how can this be done?","body":"I agree a char is more efficient. But if I definitely want to keep the column type as is, how can this be done?"}],"owner":{"account_id":6393844,"reputation":1481,"user_id":4958965,"display_name":"Benjamin Zach"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691072285,"creation_date":1691067741,"question_id":76828361,"body_markdown":"Consider the following table with a column defined as\r\n```\r\nTRANSACTION_CATEGORY_CODE  VARCHAR2(1)\r\n```\r\nAnd this is the field in the entity:\r\n```\r\n@Column(name = &quot;TRANSACTION_CATEGORY_CODE&quot;, length = 1)\r\nprivate String transactionCategoryCode;\r\n```\r\n\r\nThis setup has worked well until now that I want to migrate to Hibernate version 6.x. Now, whenever data is accessed from the table the following exception is thrown:\r\n```\r\nclass java.lang.Character cannot be cast to class java.lang.String (java.lang.Character and java.lang.String are in module java.base of loader &#39;bootstrap&#39;)\r\n```\r\n\r\nI immagine this is due to Hibernate interpreting one char columns as `Character` and not as `String` by default. How can Hibernate be forced to interprete this column as `String`?","title":"Hibernate 6.x: java.lang.Character cannot be cast to java.langString","body":"<p>Consider the following table with a column defined as</p>\n<pre><code>TRANSACTION_CATEGORY_CODE  VARCHAR2(1)\n</code></pre>\n<p>And this is the field in the entity:</p>\n<pre><code>@Column(name = &quot;TRANSACTION_CATEGORY_CODE&quot;, length = 1)\nprivate String transactionCategoryCode;\n</code></pre>\n<p>This setup has worked well until now that I want to migrate to Hibernate version 6.x. Now, whenever data is accessed from the table the following exception is thrown:</p>\n<pre><code>class java.lang.Character cannot be cast to class java.lang.String (java.lang.Character and java.lang.String are in module java.base of loader 'bootstrap')\n</code></pre>\n<p>I immagine this is due to Hibernate interpreting one char columns as <code>Character</code> and not as <code>String</code> by default. How can Hibernate be forced to interprete this column as <code>String</code>?</p>\n"},{"tags":["java","spring-boot","jhipster"],"comments":[{"owner":{"account_id":33534,"reputation":16098,"user_id":93960,"display_name":"Ga&#235;l Marziou"},"score":0,"creation_date":1690994521,"post_id":76821629,"comment_id":135431633,"body_markdown":"I did not test but I would have written it as &quot;0 11 9 * ?&quot;","body":"I did not test but I would have written it as &quot;0 11 9 * ?&quot;"},{"owner":{"account_id":902053,"reputation":1613,"user_id":5823681,"display_name":"khd"},"score":0,"creation_date":1691046976,"post_id":76821629,"comment_id":135439024,"body_markdown":"@Ga&#235;lMarziou It requires 6 arguments.","body":"@Ga&#235;lMarziou It requires 6 arguments."}],"answers":[{"tags":[],"owner":{"account_id":33534,"reputation":16098,"user_id":93960,"display_name":"Ga&#235;l Marziou"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691071912,"creation_date":1691071912,"answer_id":76828930,"question_id":76821629,"body_markdown":"\r\nIt should be &quot;0 0 11 9 * ?&quot; \r\n\r\n\r\n - `0 0 11` means 11:00:00 AM\r\n - `9` is the day of the month\r\n - `*` any month\r\n - `?` any day of the week, could probably be also `*`\r\n\r\n\r\nOfficial docs:\r\n\r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/support/CronExpression.html","title":"Spring schedule task not working when setting it with a specific day of the month (@IsCronTabSchedule)","body":"<p>It should be &quot;0 0 11 9 * ?&quot;</p>\n<ul>\n<li><code>0 0 11</code> means 11:00:00 AM</li>\n<li><code>9</code> is the day of the month</li>\n<li><code>*</code> any month</li>\n<li><code>?</code> any day of the week, could probably be also <code>*</code></li>\n</ul>\n<p>Official docs:</p>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/support/CronExpression.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/support/CronExpression.html</a></p>\n"}],"owner":{"account_id":902053,"reputation":1613,"user_id":5823681,"display_name":"khd"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691071912,"creation_date":1690991851,"question_id":76821629,"body_markdown":"I want to schedule a task that runs every month on the 9th day at 11 AM.\r\n\r\nI use this expression: &quot;0 0 9 08 * *&quot; but it not working.\r\n\r\nBut when I use &quot;0 0 9 * * *&quot;. Then it runs at 9 AM every day.  ","title":"Spring schedule task not working when setting it with a specific day of the month (@IsCronTabSchedule)","body":"<p>I want to schedule a task that runs every month on the 9th day at 11 AM.</p>\n<p>I use this expression: &quot;0 0 9 08 * *&quot; but it not working.</p>\n<p>But when I use &quot;0 0 9 * * *&quot;. Then it runs at 9 AM every day.</p>\n"},{"tags":["java","database","oracle","path","centos"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1592898789,"post_id":62529858,"comment_id":110581956,"body_markdown":"What does the non-English bits say?","body":"What does the non-English bits say?"},{"owner":{"account_id":13115752,"reputation":161,"user_id":13796674,"display_name":"user13796674"},"score":0,"creation_date":1592916375,"post_id":62529858,"comment_id":110590895,"body_markdown":"It says that the environment variables is invalid or missing","body":"It says that the environment variables is invalid or missing"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1592923196,"post_id":62529858,"comment_id":110595095,"body_markdown":"Double check the installation guide. Especially the bit about which platforms are supported","body":"Double check the installation guide. Especially the bit about which platforms are supported"},{"owner":{"display_name":"user12766509"},"score":0,"creation_date":1593015787,"post_id":62529858,"comment_id":110633856,"body_markdown":"Did you set environment variables for java home and classpath?.Before running verify environment `echo $JAVA_HOME` and `which java or java -version`","body":"Did you set environment variables for java home and classpath?.Before running verify environment <code>echo $JAVA_HOME</code> and <code>which java or java -version</code>"},{"owner":{"account_id":13115752,"reputation":161,"user_id":13796674,"display_name":"user13796674"},"score":0,"creation_date":1593349954,"post_id":62529858,"comment_id":110743336,"body_markdown":"$JAVA_HOME is ok, java version is 1.81","body":"$JAVA_HOME is ok, java version is 1.81"},{"owner":{"account_id":1896506,"reputation":740,"user_id":1713351,"display_name":"kjpires"},"score":0,"creation_date":1636560569,"post_id":62529858,"comment_id":123591096,"body_markdown":"English message from Oracle 19c: &quot;The java.library.path system variable is missing or invalid. Please set java.library.path with a correct value and retry the operation.&quot;","body":"English message from Oracle 19c: &quot;The java.library.path system variable is missing or invalid. Please set java.library.path with a correct value and retry the operation.&quot;"}],"answers":[{"tags":[],"owner":{"account_id":5100146,"reputation":869,"user_id":4090002,"display_name":"Marcell"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1612254673,"creation_date":1612254673,"answer_id":66006075,"question_id":62529858,"body_markdown":"I had the very same problem yesterday and found the solution to be a missing library &quot;libnsl&quot;. After executing the following command on CentOS it worked.\r\n\r\n&gt; yum install libnsl.x86_64","title":"How to set java.library.path when install oracle 18c on CentOS8.2?","body":"<p>I had the very same problem yesterday and found the solution to be a missing library &quot;libnsl&quot;. After executing the following command on CentOS it worked.</p>\n<blockquote>\n<p>yum install libnsl.x86_64</p>\n</blockquote>\n"}],"owner":{"account_id":13115752,"reputation":161,"user_id":13796674,"display_name":"user13796674"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7138,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":66006075,"answer_count":1,"score":2,"last_activity_date":1691071822,"creation_date":1592898504,"question_id":62529858,"body_markdown":"I was installing **Oracle 18c rpm** on **CentOS8.2**, after yum install `oracle-database-ee-18c-1.0-1.x86_64.rpm` and begin to configure by using `&quot;/etc/init.d/oracledb_ORCLCDB-18c configure&quot;` command, i got this **java.library.path** error. It seems my java path is not available.\r\nI then  install java `jre-8u251-linux-x64.rpm` and get nothing different.\r\n```\r\n[root@localhost ~]# /etc/init.d/oracledb_ORCLCDB-18c configure\r\nConfiguring Oracle Database ORCLCDB.\r\njava.library.path 系统变量无效或缺少此变量。请为 java.library.path 设置正确值并重试操作。\r\n[FATAL] [INS-00001] 未知的不可恢复错误\r\n   原因: 没有其他信息可用。\r\n   操作: 参阅日志或与 Oracle 技术支持服务联系\r\n   概要:\r\n       - [DBT-00006] 无法创建日志记录目录。\r\n       - [DBT-00006] 无法创建日志记录目录。\r\n\r\nDatabase configuration failed.\r\n```\r\n\r\nAnybody can help me?","title":"How to set java.library.path when install oracle 18c on CentOS8.2?","body":"<p>I was installing <strong>Oracle 18c rpm</strong> on <strong>CentOS8.2</strong>, after yum install <code>oracle-database-ee-18c-1.0-1.x86_64.rpm</code> and begin to configure by using <code>&quot;/etc/init.d/oracledb_ORCLCDB-18c configure&quot;</code> command, i got this <strong>java.library.path</strong> error. It seems my java path is not available.\nI then  install java <code>jre-8u251-linux-x64.rpm</code> and get nothing different.</p>\n<pre><code>[root@localhost ~]# /etc/init.d/oracledb_ORCLCDB-18c configure\nConfiguring Oracle Database ORCLCDB.\njava.library.path 系统变量无效或缺少此变量。请为 java.library.path 设置正确值并重试操作。\n[FATAL] [INS-00001] 未知的不可恢复错误\n   原因: 没有其他信息可用。\n   操作: 参阅日志或与 Oracle 技术支持服务联系\n   概要:\n       - [DBT-00006] 无法创建日志记录目录。\n       - [DBT-00006] 无法创建日志记录目录。\n\nDatabase configuration failed.\n</code></pre>\n<p>Anybody can help me?</p>\n"},{"tags":["java","sorting","data-structures","grouping","comparator"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1691072612,"post_id":76828888,"comment_id":135444680,"body_markdown":"Essentially you&#39;re looking for `Collectors.groupingBy`","body":"Essentially you&#39;re looking for <code>Collectors.groupingBy</code>"},{"owner":{"account_id":22661322,"reputation":1,"user_id":16834368,"display_name":"Dmitry"},"score":0,"creation_date":1691074660,"post_id":76828888,"comment_id":135445185,"body_markdown":"To my knowledge - not really, at least `Collectors.groupingBy` in the current form does not support this use case (without using `SortKey`s)","body":"To my knowledge - not really, at least <code>Collectors.groupingBy</code> in the current form does not support this use case (without using <code>SortKey</code>s)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691077294,"post_id":76828888,"comment_id":135445768,"body_markdown":"Not quite sure why this doesn&#39;t fit the &#39;Book&#39; requirement in that case: `import java.util.*;import java.util.stream.*;public class BookGroups {public static void main(String[] args) throws Exception {record Book (String author, String title) {};Book[] books = {new Book(&quot;1&quot;, &quot;Book1&quot;),new Book(&quot;2&quot;, &quot;Book2 by 2&quot;),new Book(&quot;1&quot;, &quot;Book3 by 1&quot;)};Map&lt;String, List&lt;Book&gt;&gt; m = Arrays.stream(books).collect(Collectors.groupingBy(b -&gt; b.author));System.out.println(m);}}`","body":"Not quite sure why this doesn&#39;t fit the &#39;Book&#39; requirement in that case: <code>import java.util.*;import java.util.stream.*;public class BookGroups {public static void main(String[] args) throws Exception {record Book (String author, String title) {};Book[] books = {new Book(&quot;1&quot;, &quot;Book1&quot;),new Book(&quot;2&quot;, &quot;Book2 by 2&quot;),new Book(&quot;1&quot;, &quot;Book3 by 1&quot;)};Map&lt;String, List&lt;Book&gt;&gt; m = Arrays.stream(books).collect(Collectors.groupingBy(b -&gt; b.author));System.out.println(m);}}</code>"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1691077666,"post_id":76828888,"comment_id":135445850,"body_markdown":"You can create your own data structures.  In the first example, you would use a two-dimensional `int` array.  In the second example, you create an `Author` class that includes a `List&lt;Book&gt;`.  Even if there was some generic grouping structure, like a `Map`, creating custom classes helps your code to be self-documenting.","body":"You can create your own data structures.  In the first example, you would use a two-dimensional <code>int</code> array.  In the second example, you create an <code>Author</code> class that includes a <code>List&lt;Book&gt;</code>.  Even if there was some generic grouping structure, like a <code>Map</code>, creating custom classes helps your code to be self-documenting."},{"owner":{"account_id":22661322,"reputation":1,"user_id":16834368,"display_name":"Dmitry"},"score":0,"creation_date":1691078891,"post_id":76828888,"comment_id":135446137,"body_markdown":"The issue is that the list of fields I need to sort and group by is dynamic and each field has additional properties like `nullsFirst/nullsLast` and `asc/desc` (imagine a table widget that displays Books and a user requesting to sort them by multiple columns, and expecting similar rows to be grouped and highlighted in the same color)","body":"The issue is that the list of fields I need to sort and group by is dynamic and each field has additional properties like <code>nullsFirst&#47;nullsLast</code> and <code>asc&#47;desc</code> (imagine a table widget that displays Books and a user requesting to sort them by multiple columns, and expecting similar rows to be grouped and highlighted in the same color)"}],"owner":{"account_id":22661322,"reputation":1,"user_id":16834368,"display_name":"Dmitry"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691071583,"creation_date":1691071583,"question_id":76828888,"body_markdown":"Is there a Java data structure that will sort and group by a provided Comparator instance?\r\nHere is an example of what I am trying to achieve:\r\n\r\n\r\n```\r\nInput: [1, 2, 1, 3, 4, 4, 5, 3]\r\nOutput: [[1,1], [2], [3,3], [4,4], [5]] // sorted, all occurrences of &quot;equal&quot; elements preserved\r\n```\r\n\r\nThe closest I could find is TreeMultiset or TreeBag - but these do not preserve each occurrence of an element, only one element and the number of its occurrences.\r\n\r\nHere is another example:\r\n```\r\nList&lt;Book&gt; books = [\r\n      {author: &quot;1&quot;, title: &quot;Book1&quot;, ...}, \r\n      {author: &quot;1&quot;, title: &quot;Book2&quot;, ...},\r\n      {author: &quot;0&quot;, title: &quot;Book0&quot;, ...} ... ];\r\n\r\nUnknownDataStructure&lt;Book&gt; booksByAuthor = new UnknownDataStructure&lt;Book&gt;(Comparator.comparing(Book::author));\r\nbooksByAuthor.addAll(books);\r\n\r\nbooksByAuthor then should be equivalent to: [\r\n      [{author: &quot;0&quot;, title: &quot;Book0&quot;, ...}]\r\n      [{author: &quot;1&quot;, title: &quot;Book1&quot;, ...}, {author: &quot;1&quot;, title: &quot;Book2&quot;, ...}],\r\n       ... ];\r\n```\r\n\r\nFor my particular use case the `Comparator` instance is configurable - it could be by any sub-set of the `Book` POJO fields (each with its own sort direction and nullsFirst/nullsLast specifier), for example: `Comparator.comparing(Book:author).thenComparing(Comparator.comparing(Book::title))...`\r\n\r\nThe key requirement is that the list of `Book`s should be sorted and grouped, with each group containing all `Book`s that are equivalent (in the sense that `Comparator.compareTo(book1, book2)` is `0` for any `book1/book2` from the group)\r\n\r\n\r\n\r\n\r\nOne option that I tried is to create another POJO like this:\r\n```\r\npublic record SortKey(List&lt;Comparable&gt; values) { }\r\n```\r\n\r\n`SortKey` instance is created for each Book POJO and holds the Comparable values that we need to sort by (author, title, rating etc). Then I can just create a `TreeMap&lt;SortKey, List&lt;Book&gt;&gt;` instance and group by `SortKey`.\r\n\r\nThis looks cumbersome and the `SortKey` instances are only ever used as keys in the `TreeMap`, not needed for anything else. I am wondering whether I can just supply a `Comparator` instance and avoid using `SortKey`s.\r\n","title":"Java data structure that sorts and groups by Comparator","body":"<p>Is there a Java data structure that will sort and group by a provided Comparator instance?\nHere is an example of what I am trying to achieve:</p>\n<pre><code>Input: [1, 2, 1, 3, 4, 4, 5, 3]\nOutput: [[1,1], [2], [3,3], [4,4], [5]] // sorted, all occurrences of &quot;equal&quot; elements preserved\n</code></pre>\n<p>The closest I could find is TreeMultiset or TreeBag - but these do not preserve each occurrence of an element, only one element and the number of its occurrences.</p>\n<p>Here is another example:</p>\n<pre><code>List&lt;Book&gt; books = [\n      {author: &quot;1&quot;, title: &quot;Book1&quot;, ...}, \n      {author: &quot;1&quot;, title: &quot;Book2&quot;, ...},\n      {author: &quot;0&quot;, title: &quot;Book0&quot;, ...} ... ];\n\nUnknownDataStructure&lt;Book&gt; booksByAuthor = new UnknownDataStructure&lt;Book&gt;(Comparator.comparing(Book::author));\nbooksByAuthor.addAll(books);\n\nbooksByAuthor then should be equivalent to: [\n      [{author: &quot;0&quot;, title: &quot;Book0&quot;, ...}]\n      [{author: &quot;1&quot;, title: &quot;Book1&quot;, ...}, {author: &quot;1&quot;, title: &quot;Book2&quot;, ...}],\n       ... ];\n</code></pre>\n<p>For my particular use case the <code>Comparator</code> instance is configurable - it could be by any sub-set of the <code>Book</code> POJO fields (each with its own sort direction and nullsFirst/nullsLast specifier), for example: <code>Comparator.comparing(Book:author).thenComparing(Comparator.comparing(Book::title))...</code></p>\n<p>The key requirement is that the list of <code>Book</code>s should be sorted and grouped, with each group containing all <code>Book</code>s that are equivalent (in the sense that <code>Comparator.compareTo(book1, book2)</code> is <code>0</code> for any <code>book1/book2</code> from the group)</p>\n<p>One option that I tried is to create another POJO like this:</p>\n<pre><code>public record SortKey(List&lt;Comparable&gt; values) { }\n</code></pre>\n<p><code>SortKey</code> instance is created for each Book POJO and holds the Comparable values that we need to sort by (author, title, rating etc). Then I can just create a <code>TreeMap&lt;SortKey, List&lt;Book&gt;&gt;</code> instance and group by <code>SortKey</code>.</p>\n<p>This looks cumbersome and the <code>SortKey</code> instances are only ever used as keys in the <code>TreeMap</code>, not needed for anything else. I am wondering whether I can just supply a <code>Comparator</code> instance and avoid using <code>SortKey</code>s.</p>\n"},{"tags":["java","json","postgresql","unit-testing","h2"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1691067600,"post_id":76828309,"comment_id":135443425,"body_markdown":"What leads you to think that H2 has that function? It seems it doesn&#39;t","body":"What leads you to think that H2 has that function? It seems it doesn&#39;t"},{"owner":{"account_id":11165107,"reputation":453,"user_id":8194026,"display_name":"John Mitchell"},"score":0,"creation_date":1691067690,"post_id":76828309,"comment_id":135443448,"body_markdown":"Your &quot;real db&quot; obviously has that function defined. You need to define it for your test DB. Probably you&#39;ll want to enable liquibase (or whatever db change management tool you prefer), and include the changelog that creates the function before executing tests.","body":"Your &quot;real db&quot; obviously has that function defined. You need to define it for your test DB. Probably you&#39;ll want to enable liquibase (or whatever db change management tool you prefer), and include the changelog that creates the function before executing tests."},{"owner":{"account_id":10595855,"reputation":2708,"user_id":7804595,"display_name":"Valeriy K."},"score":1,"creation_date":1691073829,"post_id":76828309,"comment_id":135444965,"body_markdown":"@JohnMitchell no, it&#39;s internal postgres function. Seems H2 in PostgreSQL mode doesn&#39;t support it","body":"@JohnMitchell no, it&#39;s internal postgres function. Seems H2 in PostgreSQL mode doesn&#39;t support it"}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691071518,"creation_date":1691071518,"answer_id":76828881,"question_id":76828309,"body_markdown":"H2 doesn&#39;t has the `JSON_BUILD_OBJECT` built-in function. That seems to be a Postgresql function. Either use the same database for test and production or change the query to use H2 `JSON_OBJECT` function (http://www.h2database.com/html/functions.html#json_object). I recommend the former so your tests match what the application is going to use later.","title":"org.h2.jdbc.JdbcSQLSyntaxErrorException: Function &quot;JSON_BUILD_OBJECT&quot; not found","body":"<p>H2 doesn't has the <code>JSON_BUILD_OBJECT</code> built-in function. That seems to be a Postgresql function. Either use the same database for test and production or change the query to use H2 <code>JSON_OBJECT</code> function (<a href=\"http://www.h2database.com/html/functions.html#json_object\" rel=\"nofollow noreferrer\">http://www.h2database.com/html/functions.html#json_object</a>). I recommend the former so your tests match what the application is going to use later.</p>\n"}],"owner":{"account_id":10595855,"reputation":2708,"user_id":7804595,"display_name":"Valeriy K."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691071518,"creation_date":1691067454,"question_id":76828309,"body_markdown":"I&#39;m using h2 db in tests. My test h2 db settings are next:\r\n\r\n    private static final String JDBC_URL = &quot;jdbc:h2:mem:test;MODE=PostgreSQL;DB_CLOSE_DELAY=-1&quot;;\r\n    Connection connection = DriverManager.getConnection(JDBC_URL);\r\n\r\nI&#39;ve tried 2.2.220 and 2.1.214 h2 versions.\r\nSQL query is next:\r\n\r\n            var query = SELECT json_build_object(&#39;product&#39;, c.&quot;info&quot;-&gt;&#39;product&#39;) as info FROM item.&quot;Item&quot; AS c          \r\n        INNER JOIN (SELECT &quot;rootId&quot;, MAX(&quot;revisionNo&quot;) AS maxRevisionNo     FROM item.&quot;Item&quot;     WHERE &quot;cRootId&quot; = ?    \r\n     GROUP BY &quot;rootId&quot; ) AS subquery ON c.&quot;rootId&quot; = subquery.&quot;rootId&quot; AND c.&quot;revisionNo&quot; = subquery.maxRevisionNo WHERE c.&quot;state&quot; = &#39;active&#39;\r\n\r\nI&#39;m trying to create a prepared statement with it:\r\n\r\n    var statement = connection.prepareStatement(query);\r\n\r\nand get error:\r\n\r\n&gt; org.h2.jdbc.JdbcSQLSyntaxErrorException: Function &quot;JSON_BUILD_OBJECT&quot;\r\n&gt; not found\r\n\r\nAll works fine with real Postgres db but failed in tests with h2 in Postgres mode.\r\nCan I fix it and how? Thank you so much for your attention and participation.\r\n\r\n","title":"org.h2.jdbc.JdbcSQLSyntaxErrorException: Function &quot;JSON_BUILD_OBJECT&quot; not found","body":"<p>I'm using h2 db in tests. My test h2 db settings are next:</p>\n<pre><code>private static final String JDBC_URL = &quot;jdbc:h2:mem:test;MODE=PostgreSQL;DB_CLOSE_DELAY=-1&quot;;\nConnection connection = DriverManager.getConnection(JDBC_URL);\n</code></pre>\n<p>I've tried 2.2.220 and 2.1.214 h2 versions.\nSQL query is next:</p>\n<pre><code>        var query = SELECT json_build_object('product', c.&quot;info&quot;-&gt;'product') as info FROM item.&quot;Item&quot; AS c          \n    INNER JOIN (SELECT &quot;rootId&quot;, MAX(&quot;revisionNo&quot;) AS maxRevisionNo     FROM item.&quot;Item&quot;     WHERE &quot;cRootId&quot; = ?    \n GROUP BY &quot;rootId&quot; ) AS subquery ON c.&quot;rootId&quot; = subquery.&quot;rootId&quot; AND c.&quot;revisionNo&quot; = subquery.maxRevisionNo WHERE c.&quot;state&quot; = 'active'\n</code></pre>\n<p>I'm trying to create a prepared statement with it:</p>\n<pre><code>var statement = connection.prepareStatement(query);\n</code></pre>\n<p>and get error:</p>\n<blockquote>\n<p>org.h2.jdbc.JdbcSQLSyntaxErrorException: Function &quot;JSON_BUILD_OBJECT&quot;\nnot found</p>\n</blockquote>\n<p>All works fine with real Postgres db but failed in tests with h2 in Postgres mode.\nCan I fix it and how? Thank you so much for your attention and participation.</p>\n"},{"tags":["java","fonts","jasper-reports"],"comments":[{"owner":{"account_id":2363845,"reputation":2893,"user_id":2069976,"accept_rate":51,"display_name":"Skizzo"},"score":0,"creation_date":1409228359,"post_id":25548404,"comment_id":39892180,"body_markdown":"What version to jasper report are you using?","body":"What version to jasper report are you using?"},{"owner":{"account_id":2509723,"reputation":1205,"user_id":2182503,"accept_rate":50,"display_name":"Tunguska"},"score":0,"creation_date":1409228605,"post_id":25548404,"comment_id":39892369,"body_markdown":"JasperReport and iReport version: 5.6.0","body":"JasperReport and iReport version: 5.6.0"},{"owner":{"account_id":2363845,"reputation":2893,"user_id":2069976,"accept_rate":51,"display_name":"Skizzo"},"score":0,"creation_date":1409228885,"post_id":25548404,"comment_id":39892544,"body_markdown":"I also had your same problem with the 5.5.0, and I solved it   by switching to 5.0.0","body":"I also had your same problem with the 5.5.0, and I solved it   by switching to 5.0.0"},{"owner":{"account_id":2509723,"reputation":1205,"user_id":2182503,"accept_rate":50,"display_name":"Tunguska"},"score":0,"creation_date":1409229710,"post_id":25548404,"comment_id":39893094,"body_markdown":"Thank you, but I still see the Exception, even with 5.0.0","body":"Thank you, but I still see the Exception, even with 5.0.0"},{"owner":{"account_id":2509723,"reputation":1205,"user_id":2182503,"accept_rate":50,"display_name":"Tunguska"},"score":0,"creation_date":1409300805,"post_id":25548404,"comment_id":39922520,"body_markdown":"I still have this problem, and still cannot find a solution until now. May I can provide you more resources?","body":"I still have this problem, and still cannot find a solution until now. May I can provide you more resources?"},{"owner":{"account_id":2363845,"reputation":2893,"user_id":2069976,"accept_rate":51,"display_name":"Skizzo"},"score":2,"creation_date":1409386004,"post_id":25548404,"comment_id":39952851,"body_markdown":"Try to add the fonts within your jdk folder (jdk1.x.x_xx/jre/lib/fonts). This will make you lose portability  but at least we can understand if the problem is the packaging o other","body":"Try to add the fonts within your jdk folder (jdk1.x.x_xx/jre/lib/fonts). This will make you lose portability  but at least we can understand if the problem is the packaging o other"},{"owner":{"account_id":22883450,"reputation":129,"user_id":17024722,"display_name":"Ruchi"},"score":0,"creation_date":1678785161,"post_id":25548404,"comment_id":133596272,"body_markdown":"Im facing the same issue , could you please tell me how did u resolve this?","body":"Im facing the same issue , could you please tell me how did u resolve this?"}],"answers":[{"tags":[],"owner":{"account_id":2509723,"reputation":1205,"user_id":2182503,"accept_rate":50,"display_name":"Tunguska"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1409560540,"creation_date":1409560540,"answer_id":25601833,"question_id":25548404,"body_markdown":"The problem was the template itself: At one font-tag the `&lt;fontName&gt;` property was missing:\r\n\r\nDoes not work:\r\n\r\n    &lt;font size=&quot;12&quot; isBold=&quot;true&quot; pdfFontName=&quot;Arial&quot;/&gt;\r\n\r\nDoes work:\r\n\r\n    &lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;true&quot; pdfFontName=&quot;Arial&quot; pdfEncoding=&quot;Identity-H&quot; isPdfEmbedded=&quot;true&quot;/&gt;\r\n\r\n\r\n","title":"JasperReports 5.6: Could not load the following font","body":"<p>The problem was the template itself: At one font-tag the <code>&lt;fontName&gt;</code> property was missing:</p>\n\n<p>Does not work:</p>\n\n<pre><code>&lt;font size=\"12\" isBold=\"true\" pdfFontName=\"Arial\"/&gt;\n</code></pre>\n\n<p>Does work:</p>\n\n<pre><code>&lt;font fontName=\"Arial\" size=\"12\" isBold=\"true\" pdfFontName=\"Arial\" pdfEncoding=\"Identity-H\" isPdfEmbedded=\"true\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3269911,"reputation":461,"user_id":2753513,"display_name":"StarCrafter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1440747604,"creation_date":1440747604,"answer_id":32265767,"question_id":25548404,"body_markdown":"**Another Solution** Worked For Me is:\r\n\r\nJRProperties.setProperty(&quot;net.sf.jasperreports.default.pdf.font.name&quot;, &quot;Helvetica&quot;);\r\n    \t\t\t\tJRProperties.setProperty(&quot;net.sf.jasperreports.default.pdf.encoding&quot;, &quot;UTF-8&quot;);\r\n    \t\t\t\tJRProperties.setProperty(&quot;net.sf.jasperreports.default.pdf.embedded&quot;, &quot;true&quot;);\r\n\r\nIf you set parameters from java side, \r\nyou have to specify font.name and **Helvetica** saves the day. \r\nI tried Arial here but threw the same error.","title":"JasperReports 5.6: Could not load the following font","body":"<p><strong>Another Solution</strong> Worked For Me is:</p>\n\n<p>JRProperties.setProperty(\"net.sf.jasperreports.default.pdf.font.name\", \"Helvetica\");\n                    JRProperties.setProperty(\"net.sf.jasperreports.default.pdf.encoding\", \"UTF-8\");\n                    JRProperties.setProperty(\"net.sf.jasperreports.default.pdf.embedded\", \"true\");</p>\n\n<p>If you set parameters from java side, \nyou have to specify font.name and <strong>Helvetica</strong> saves the day. \nI tried Arial here but threw the same error.</p>\n"},{"tags":[],"owner":{"account_id":1613078,"reputation":2792,"user_id":1491512,"accept_rate":80,"display_name":"atiruz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1480629899,"creation_date":1480629899,"answer_id":40921249,"question_id":25548404,"body_markdown":"Copy the fonts files **(*.ttf)** into the folder:\r\n\r\n    /path/to/app/WEB-INF/classes/***HERE***\r\n\r\nYou app will get the fonts from here :)","title":"JasperReports 5.6: Could not load the following font","body":"<p>Copy the fonts files <strong>(*.ttf)</strong> into the folder:</p>\n\n<pre><code>/path/to/app/WEB-INF/classes/***HERE***\n</code></pre>\n\n<p>You app will get the fonts from here :)</p>\n"},{"tags":[],"owner":{"account_id":4220480,"reputation":71,"user_id":3455383,"display_name":"Thomas.be"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1500899189,"creation_date":1500899189,"answer_id":45280632,"question_id":25548404,"body_markdown":"You must give the correct name of font for the PDF exporter. Your fonts are presents into the embedded fonts jar. You don&#39;t need to put them again into the classes directory ;-)\r\n\r\nThere is the correct fonts.xml content for pdf exporter (perhaps the names are case sensitive, be careful) : \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;fontFamilies&gt;\r\n    &lt;fontFamily name=&quot;Arial&quot;&gt;\r\n        &lt;normal&gt;\r\n          &lt;ttf&gt;fonts/Arial/ARIAL.TTF&lt;/ttf&gt;\r\n          &lt;pdf&gt;fonts/Arial/ARIAL.TTF&lt;/pdf&gt;\r\n        &lt;/normal&gt;\r\n        &lt;bold&gt;\r\n          &lt;ttf&gt;fonts/Arial/ARIALBD.TTF&lt;/ttf&gt;\r\n          &lt;pdf&gt;fonts/Arial/ARIALBD.TTF&lt;/pdf&gt;\r\n        &lt;/bold&gt;\r\n        &lt;italic&gt;\r\n          &lt;ttf&gt;fonts/Arial/ARIALI.TTF&lt;/ttf&gt;\r\n          &lt;pdf&gt;fonts/Arial/ARIALI.TTF&lt;/pdf&gt;\r\n        &lt;/italic&gt;\r\n        &lt;boldItalic&gt;\r\n          &lt;ttf&gt;fonts/Arial/ARIALBI.TTF&lt;/ttf&gt;\r\n          &lt;pdf&gt;fonts/Arial/ARIALBI.TTF&lt;/pdf&gt;\r\n        &lt;/boldItalic&gt;\r\n        &lt;pdfEncoding&gt;Cp1252&lt;/pdfEncoding&gt;\r\n        &lt;pdfEmbedded&gt;true&lt;/pdfEmbedded&gt;\r\n        &lt;exportFonts&gt;\r\n        &lt;/exportFonts&gt;\r\n    &lt;/fontFamily&gt;\r\n    &lt;/fontFamilies&gt;\r\n\r\nI hope this help.\r\n\r\nRegards,\r\nT.","title":"JasperReports 5.6: Could not load the following font","body":"<p>You must give the correct name of font for the PDF exporter. Your fonts are presents into the embedded fonts jar. You don't need to put them again into the classes directory ;-)</p>\n\n<p>There is the correct fonts.xml content for pdf exporter (perhaps the names are case sensitive, be careful) : </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;fontFamilies&gt;\n&lt;fontFamily name=\"Arial\"&gt;\n    &lt;normal&gt;\n      &lt;ttf&gt;fonts/Arial/ARIAL.TTF&lt;/ttf&gt;\n      &lt;pdf&gt;fonts/Arial/ARIAL.TTF&lt;/pdf&gt;\n    &lt;/normal&gt;\n    &lt;bold&gt;\n      &lt;ttf&gt;fonts/Arial/ARIALBD.TTF&lt;/ttf&gt;\n      &lt;pdf&gt;fonts/Arial/ARIALBD.TTF&lt;/pdf&gt;\n    &lt;/bold&gt;\n    &lt;italic&gt;\n      &lt;ttf&gt;fonts/Arial/ARIALI.TTF&lt;/ttf&gt;\n      &lt;pdf&gt;fonts/Arial/ARIALI.TTF&lt;/pdf&gt;\n    &lt;/italic&gt;\n    &lt;boldItalic&gt;\n      &lt;ttf&gt;fonts/Arial/ARIALBI.TTF&lt;/ttf&gt;\n      &lt;pdf&gt;fonts/Arial/ARIALBI.TTF&lt;/pdf&gt;\n    &lt;/boldItalic&gt;\n    &lt;pdfEncoding&gt;Cp1252&lt;/pdfEncoding&gt;\n    &lt;pdfEmbedded&gt;true&lt;/pdfEmbedded&gt;\n    &lt;exportFonts&gt;\n    &lt;/exportFonts&gt;\n&lt;/fontFamily&gt;\n&lt;/fontFamilies&gt;\n</code></pre>\n\n<p>I hope this help.</p>\n\n<p>Regards,\nT.</p>\n"},{"tags":[],"owner":{"account_id":3614323,"reputation":2724,"user_id":3408531,"accept_rate":56,"display_name":"TiyebM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544623512,"creation_date":1544623512,"answer_id":53744803,"question_id":25548404,"body_markdown":"In my case, I was using:\r\n\r\n    &lt;font fontName=&quot;Arial&quot; pdfEncoding=&quot;Identity-H&quot; isPdfEmbedded=&quot;true&quot;/&gt;\r\n\r\nI had to remove `pdffontName`, the correct font tag is:\r\n\r\n    &lt;font fontName=&quot;Arial&quot; pdfEncoding=&quot;Cp1256&quot;/&gt;\r\n\r\n**Note**\r\nI am using a font jar that contains the following .xml file:\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;fontFamilies&gt;\r\n    \r\n       &lt;fontFamily name=&quot;Arial&quot;&gt;\r\n           &lt;normal&gt;&lt;![CDATA[fonts/arial.ttf]]&gt;&lt;/normal&gt;\r\n           &lt;pdfEncoding&gt;&lt;![CDATA[Identity-H]]&gt;&lt;/pdfEncoding&gt;\r\n           &lt;pdfEmbedded&gt;&lt;![CDATA[true]]&gt;&lt;/pdfEmbedded&gt;\r\n       &lt;/fontFamily&gt;\r\n    \r\n    \r\n    &lt;/fontFamilies&gt;","title":"JasperReports 5.6: Could not load the following font","body":"<p>In my case, I was using:</p>\n\n<pre><code>&lt;font fontName=\"Arial\" pdfEncoding=\"Identity-H\" isPdfEmbedded=\"true\"/&gt;\n</code></pre>\n\n<p>I had to remove <code>pdffontName</code>, the correct font tag is:</p>\n\n<pre><code>&lt;font fontName=\"Arial\" pdfEncoding=\"Cp1256\"/&gt;\n</code></pre>\n\n<p><strong>Note</strong>\nI am using a font jar that contains the following .xml file:</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;fontFamilies&gt;\n\n   &lt;fontFamily name=\"Arial\"&gt;\n       &lt;normal&gt;&lt;![CDATA[fonts/arial.ttf]]&gt;&lt;/normal&gt;\n       &lt;pdfEncoding&gt;&lt;![CDATA[Identity-H]]&gt;&lt;/pdfEncoding&gt;\n       &lt;pdfEmbedded&gt;&lt;![CDATA[true]]&gt;&lt;/pdfEmbedded&gt;\n   &lt;/fontFamily&gt;\n\n\n&lt;/fontFamilies&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20634582,"reputation":21,"user_id":15148595,"display_name":"deem sameer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691071003,"creation_date":1691071003,"answer_id":76828799,"question_id":25548404,"body_markdown":"I read it somewhere and it worked for me, You should write full path instead of relative path. ","title":"JasperReports 5.6: Could not load the following font","body":"<p>I read it somewhere and it worked for me, You should write full path instead of relative path.</p>\n"}],"owner":{"account_id":2509723,"reputation":1205,"user_id":2182503,"accept_rate":50,"display_name":"Tunguska"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31496,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":6,"score":8,"last_activity_date":1691071003,"creation_date":1409227568,"question_id":25548404,"body_markdown":"I am facing the problem, that *JasperReports* still cannot find the Arial font. \r\n\r\nI created a simple Maven Project with following structure and included it to my main application. So the main application contains the installed JAR in classpath:\r\n\r\n    - jasperreports_extension.properties\r\n    - fonts\r\n      |-&gt; arial\r\n        |-&gt; ariali.ttf\r\n        |-&gt; arialbi.ttf\r\n        |-&gt; arialbd.ttf\r\n        |-&gt; arial.ttf\r\n      |-&gt; fonts.xml\r\n\r\nBut I still see following Exception while exporting report to PDF.\r\n\r\n\r\n    net.sf.jasperreports.engine.JRRuntimeException: Could not load the following font : \r\n    pdfFontName   : Arial\r\n    pdfEncoding   : Identity-H\r\n    isPdfEmbedded : true\r\n\r\n\r\n**jasperreports_extension.properties**\r\n\r\n    \r\n\r\n    net.sf.jasperreports.extension.registry.factory.simple.font.families=net.sf.jasperreports.engine.fonts.SimpleFontExtensionsRegistryFactory\r\n    net.sf.jasperreports.extension.simple.font.families.arial=fonts/fonts.xml\r\n\r\n**fonts.xml:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;fontFamilies&gt;\r\n    \t&lt;fontFamily name=&quot;Arial&quot;&gt;\r\n    \t\t&lt;normal&gt;fonts/arial/arial.ttf&lt;/normal&gt;\r\n    \t\t&lt;bold&gt;fonts/arial/arialbd.ttf&lt;/bold&gt;\r\n    \t\t&lt;italic&gt;fonts/arial/ariali.ttf&lt;/italic&gt;\r\n    \t\t&lt;boldItalic&gt;fonts/arial/arialbi.ttf&lt;/boldItalic&gt;\r\n    \t\t&lt;pdfEncoding&gt;Identity-H&lt;/pdfEncoding&gt;\r\n    \t\t&lt;pdfEmbedded&gt;true&lt;/pdfEmbedded&gt;\r\n    \t&lt;/fontFamily&gt;\r\n    &lt;/fontFamilies&gt;\r\n\r\n**Template**\r\n\r\n    &lt;font fontName=&quot;Arial&quot; size=&quot;8&quot; pdfFontName=&quot;Arial&quot; pdfEncoding=&quot;Identity-H&quot; isPdfEmbedded=&quot;true&quot;/&gt;","title":"JasperReports 5.6: Could not load the following font","body":"<p>I am facing the problem, that <em>JasperReports</em> still cannot find the Arial font. </p>\n\n<p>I created a simple Maven Project with following structure and included it to my main application. So the main application contains the installed JAR in classpath:</p>\n\n<pre><code>- jasperreports_extension.properties\n- fonts\n  |-&gt; arial\n    |-&gt; ariali.ttf\n    |-&gt; arialbi.ttf\n    |-&gt; arialbd.ttf\n    |-&gt; arial.ttf\n  |-&gt; fonts.xml\n</code></pre>\n\n<p>But I still see following Exception while exporting report to PDF.</p>\n\n<pre><code>net.sf.jasperreports.engine.JRRuntimeException: Could not load the following font : \npdfFontName   : Arial\npdfEncoding   : Identity-H\nisPdfEmbedded : true\n</code></pre>\n\n<p><strong>jasperreports_extension.properties</strong></p>\n\n<pre><code>net.sf.jasperreports.extension.registry.factory.simple.font.families=net.sf.jasperreports.engine.fonts.SimpleFontExtensionsRegistryFactory\nnet.sf.jasperreports.extension.simple.font.families.arial=fonts/fonts.xml\n</code></pre>\n\n<p><strong>fonts.xml:</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;fontFamilies&gt;\n    &lt;fontFamily name=\"Arial\"&gt;\n        &lt;normal&gt;fonts/arial/arial.ttf&lt;/normal&gt;\n        &lt;bold&gt;fonts/arial/arialbd.ttf&lt;/bold&gt;\n        &lt;italic&gt;fonts/arial/ariali.ttf&lt;/italic&gt;\n        &lt;boldItalic&gt;fonts/arial/arialbi.ttf&lt;/boldItalic&gt;\n        &lt;pdfEncoding&gt;Identity-H&lt;/pdfEncoding&gt;\n        &lt;pdfEmbedded&gt;true&lt;/pdfEmbedded&gt;\n    &lt;/fontFamily&gt;\n&lt;/fontFamilies&gt;\n</code></pre>\n\n<p><strong>Template</strong></p>\n\n<pre><code>&lt;font fontName=\"Arial\" size=\"8\" pdfFontName=\"Arial\" pdfEncoding=\"Identity-H\" isPdfEmbedded=\"true\"/&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security","deprecated"],"answers":[{"tags":[],"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1691069855,"creation_date":1691069855,"answer_id":76828647,"question_id":76828540,"body_markdown":"your SecurityFilterChain Bean will look so:\r\n\r\n      @Bean\r\n      public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http.csrf(AbstractHttpConfigurer::disable);\r\n        http.authorizeHttpRequests(rQ -&gt; {\r\n               rQ.requestMatchers(&quot;/api/**&quot;, &quot;/signup/&quot;, &quot;/signin/&quot;).permitAll();\r\n               rQ.requestMatchers(&quot;/api/search/&quot;, &quot;/api/profile/&quot;, &quot;/signout/&quot;).authenticated();\r\n             });\r\n        http.sessionManagement(sessionAuthenticationStrategy -&gt;\r\n            sessionAuthenticationStrategy.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\r\n        http.authenticationProvider(authenticationProvider());\r\n        http.addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class);\r\n        return http.build();\r\n      }\r\n\r\n\r\n[Migration Guide](https://docs.spring.io/spring-security/reference/5.8/migration/servlet/config.html)","title":"Updating to Latest Spring Security - replacing Deprecated methods","body":"<p>your SecurityFilterChain Bean will look so:</p>\n<pre><code>  @Bean\n  public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    http.csrf(AbstractHttpConfigurer::disable);\n    http.authorizeHttpRequests(rQ -&gt; {\n           rQ.requestMatchers(&quot;/api/**&quot;, &quot;/signup/&quot;, &quot;/signin/&quot;).permitAll();\n           rQ.requestMatchers(&quot;/api/search/&quot;, &quot;/api/profile/&quot;, &quot;/signout/&quot;).authenticated();\n         });\n    http.sessionManagement(sessionAuthenticationStrategy -&gt;\n        sessionAuthenticationStrategy.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\n    http.authenticationProvider(authenticationProvider());\n    http.addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class);\n    return http.build();\n  }\n</code></pre>\n<p><a href=\"https://docs.spring.io/spring-security/reference/5.8/migration/servlet/config.html\" rel=\"noreferrer\">Migration Guide</a></p>\n"}],"owner":{"account_id":28506077,"reputation":78,"user_id":21816714,"display_name":"Mohammad Nayem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":845,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76828647,"answer_count":1,"score":2,"last_activity_date":1691070768,"creation_date":1691069136,"question_id":76828540,"body_markdown":"I&#39;m trying to remove the deprecated methods below(csrf(), authorizeHttpRequests(), sessionManagement()). How can I write this piece of code instead?\r\n\r\nHere&#39;s the code:\r\n\r\n```\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        return http.csrf().disable()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(&quot;/api/**&quot;, &quot;/signup/&quot;, &quot;/signin/&quot;).permitAll()\r\n                .and()\r\n                .authorizeHttpRequests().requestMatchers(&quot;/api/search/&quot;, &quot;/api/profile/&quot;, &quot;/signout/&quot;).authenticated()\r\n                .and()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .authenticationProvider(authenticationProvider())\r\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class).build();\r\n                //telling spring boot to use my own class JwtAuthFilter first before using your filter with username and password\r\n\r\n    }\r\n```\r\n\r\n[IDE is generating errors for csrf(), authorizeHttpRequests(), sessionManagement()](https://i.stack.imgur.com/F98wJ.png)\r\n\r\n\r\n- can I just remove csrf? I have a frontend react app connecting with my Spring Boot backend.\r\n- can I use authorizeRequests() instead of authorizeHttpRequests()\r\n- what should I use instead sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)","title":"Updating to Latest Spring Security - replacing Deprecated methods","body":"<p>I'm trying to remove the deprecated methods below(csrf(), authorizeHttpRequests(), sessionManagement()). How can I write this piece of code instead?</p>\n<p>Here's the code:</p>\n<pre><code>    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        return http.csrf().disable()\n                .authorizeHttpRequests()\n                .requestMatchers(&quot;/api/**&quot;, &quot;/signup/&quot;, &quot;/signin/&quot;).permitAll()\n                .and()\n                .authorizeHttpRequests().requestMatchers(&quot;/api/search/&quot;, &quot;/api/profile/&quot;, &quot;/signout/&quot;).authenticated()\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .authenticationProvider(authenticationProvider())\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class).build();\n                //telling spring boot to use my own class JwtAuthFilter first before using your filter with username and password\n\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/F98wJ.png\" rel=\"nofollow noreferrer\">IDE is generating errors for csrf(), authorizeHttpRequests(), sessionManagement()</a></p>\n<ul>\n<li>can I just remove csrf? I have a frontend react app connecting with my Spring Boot backend.</li>\n<li>can I use authorizeRequests() instead of authorizeHttpRequests()</li>\n<li>what should I use instead sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)</li>\n</ul>\n"},{"tags":["java","android","c++","android-ndk","dalvik"],"comments":[{"owner":{"account_id":5876047,"reputation":27265,"user_id":4626831,"accept_rate":79,"display_name":"N J"},"score":0,"creation_date":1496661948,"post_id":44367855,"comment_id":75736784,"body_markdown":"do some googling, show your efforts.......","body":"do some googling, show your efforts......."},{"owner":{"account_id":283421,"reputation":2419,"user_id":580908,"accept_rate":59,"display_name":"Swapnil"},"score":1,"creation_date":1496663726,"post_id":44367855,"comment_id":75737646,"body_markdown":"you need to expand your question bit few parts of the question are confusing. also add little explanation about your research it will make others easy to understand in which direction you are going.","body":"you need to expand your question bit few parts of the question are confusing. also add little explanation about your research it will make others easy to understand in which direction you are going."}],"answers":[{"tags":[],"owner":{"account_id":3275159,"reputation":2119,"user_id":2757447,"display_name":"Taier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691069736,"creation_date":1496665083,"answer_id":44368786,"question_id":44367855,"body_markdown":"**Please, do some research.**\r\n\r\nBasically yes, almost all non native solutions use some kind of VMs. For example Xamarin use **MonoVM** for Android platform. The C# code is compiled into CIL, which is executed by the Mono execution environment. This execution environment is run side by side with the Java Virtual Machine, which means the applications are not executed the same as a native application, however, they are executed in an equivalent way. This means that the performance is tied to MonoVMs implementation.\r\n\r\n**MonoVM** is packaged with the application, which means that Xamarin Platform applications can be installed in the same way as a native application, without any additional installs. \r\n","title":"How do I run C/C++ applications on Android?","body":"<p><strong>Please, do some research.</strong></p>\n<p>Basically yes, almost all non native solutions use some kind of VMs. For example Xamarin use <strong>MonoVM</strong> for Android platform. The C# code is compiled into CIL, which is executed by the Mono execution environment. This execution environment is run side by side with the Java Virtual Machine, which means the applications are not executed the same as a native application, however, they are executed in an equivalent way. This means that the performance is tied to MonoVMs implementation.</p>\n<p><strong>MonoVM</strong> is packaged with the application, which means that Xamarin Platform applications can be installed in the same way as a native application, without any additional installs.</p>\n"}],"owner":{"account_id":11048653,"reputation":1,"user_id":8113860,"display_name":"XagborZ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1691069736,"creation_date":1496661831,"question_id":44367855,"body_markdown":"How do I compile and run applications written in C/C++ and under NDK on Android OS?? \r\n\r\nDoes the application compile and run in Dalvik or ART? \r\nOr independent is that VM?? \r\n\r\nIn the case of programs written in other languages, how is it? \r\nFor example (C# in Xamarin) or (Delphi in Firemonkey) or (Basic) or (Python)? Thanks a lot for my questions and answers.","title":"How do I run C/C++ applications on Android?","body":"<p>How do I compile and run applications written in C/C++ and under NDK on Android OS??</p>\n<p>Does the application compile and run in Dalvik or ART?\nOr independent is that VM??</p>\n<p>In the case of programs written in other languages, how is it?\nFor example (C# in Xamarin) or (Delphi in Firemonkey) or (Basic) or (Python)? Thanks a lot for my questions and answers.</p>\n"},{"tags":["java","unit-testing","junit","mockito","junit-jupiter"],"answers":[{"tags":[],"owner":{"account_id":262239,"reputation":17463,"user_id":546967,"accept_rate":88,"display_name":"Martin Devillers"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1621628860,"creation_date":1621628860,"answer_id":67643496,"question_id":67643495,"body_markdown":"You can avoid this check at the test-level by resetting the mock with the stub that&#39;s not being called. This is a bit of a work around, but it&#39;ll allow you to pass your test without having to make the mock lenient for your entire test class or removing the mock entirely from your setup method. \r\n\r\nTo reset your `barDependency` mock, add the following line of code to *the end of* your test that is failing with a `UnnecessaryStubbingException`.\r\n```\r\nMockito.reset(barDependency);\r\n```\r\n\r\nIf *none* of the stubs on `barDependency` are being used, you can also place this line at the beginning of your test with your other arrangements, which is a little cleaner. Or alternately, put it at the top of your test method and then setup the stubs you *do* need. This essentially overrides whatever is being setup in your generic setup method.","title":"Mockito throws UnnecessaryStubbingException for stub defined in generic @BeforeEach setup method","body":"<p>You can avoid this check at the test-level by resetting the mock with the stub that's not being called. This is a bit of a work around, but it'll allow you to pass your test without having to make the mock lenient for your entire test class or removing the mock entirely from your setup method.</p>\n<p>To reset your <code>barDependency</code> mock, add the following line of code to <em>the end of</em> your test that is failing with a <code>UnnecessaryStubbingException</code>.</p>\n<pre><code>Mockito.reset(barDependency);\n</code></pre>\n<p>If <em>none</em> of the stubs on <code>barDependency</code> are being used, you can also place this line at the beginning of your test with your other arrangements, which is a little cleaner. Or alternately, put it at the top of your test method and then setup the stubs you <em>do</em> need. This essentially overrides whatever is being setup in your generic setup method.</p>\n"},{"tags":[],"owner":{"account_id":63165,"reputation":2268,"user_id":187148,"display_name":"Bruno Medeiros"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1641479674,"creation_date":1641479674,"answer_id":70608751,"question_id":67643495,"body_markdown":"You can also use lenient in the code of your `@BeforeEach`, like this:\r\n\r\n    @BeforeEach\r\n    public void setup() {\r\n        lenient().when(barDependency.leftBar(any())).thenReturn(new Bar());\r\n        lenient().when(barDependency.rightBar(any())).thenReturn(new Bar());\r\n    }\r\n\r\nThis should not be necessary, based on this doc in the `UnnecessaryStubbingException`:\r\n\r\n&gt; Mockito JUnit Runner triggers UnnecessaryStubbingException only when none of the test methods use the stubbings. This means that it is ok to put default stubbing in a &#39;setup&#39; method or in test class constructor. That default stubbing needs to be used at least once by one of the test methods.","title":"Mockito throws UnnecessaryStubbingException for stub defined in generic @BeforeEach setup method","body":"<p>You can also use lenient in the code of your <code>@BeforeEach</code>, like this:</p>\n<pre><code>@BeforeEach\npublic void setup() {\n    lenient().when(barDependency.leftBar(any())).thenReturn(new Bar());\n    lenient().when(barDependency.rightBar(any())).thenReturn(new Bar());\n}\n</code></pre>\n<p>This should not be necessary, based on this doc in the <code>UnnecessaryStubbingException</code>:</p>\n<blockquote>\n<p>Mockito JUnit Runner triggers UnnecessaryStubbingException only when none of the test methods use the stubbings. This means that it is ok to put default stubbing in a 'setup' method or in test class constructor. That default stubbing needs to be used at least once by one of the test methods.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1321584,"reputation":2570,"user_id":1267295,"accept_rate":77,"display_name":"Rapti"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1691069697,"creation_date":1691069697,"answer_id":76828616,"question_id":67643495,"body_markdown":"&gt; I&#39;m aware there&#39;s a `lenient` option in Mockito, but that&#39;ll disable the\r\n&gt; check for the *entire* class/project.\r\n&gt; \r\n&gt; My question is: how do I disable this strictness **for one specific** unit\r\n&gt; test?\r\n\r\nYou can, in fact, apply the `lenient` option to a single test:\r\n\r\n    @Test\r\n    @MockitoSettings(strictness = Strictness.LENIENT)\r\n    public void myTest() {\r\n        // ...\r\n    }","title":"Mockito throws UnnecessaryStubbingException for stub defined in generic @BeforeEach setup method","body":"<blockquote>\n<p>I'm aware there's a <code>lenient</code> option in Mockito, but that'll disable the\ncheck for the <em>entire</em> class/project.</p>\n<p>My question is: how do I disable this strictness <strong>for one specific</strong> unit\ntest?</p>\n</blockquote>\n<p>You can, in fact, apply the <code>lenient</code> option to a single test:</p>\n<pre><code>@Test\n@MockitoSettings(strictness = Strictness.LENIENT)\npublic void myTest() {\n    // ...\n}\n</code></pre>\n"}],"owner":{"account_id":262239,"reputation":17463,"user_id":546967,"accept_rate":88,"display_name":"Martin Devillers"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10355,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":67643496,"answer_count":3,"score":12,"last_activity_date":1691069697,"creation_date":1621628860,"question_id":67643495,"body_markdown":"I have a unit test class where my unit under test is dependent on another class. The dependency is mocked using Mockito and then setup with a generic stub that&#39;s run before every unit test, using JUnit&#39;s `@BeforeEach` annotation. See the below pseudo-code.\r\n\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\npublic class FooFactoryTest {\r\n\r\n    @Mock\r\n    private BarDependency barDependency;\r\n\r\n    @InjectMocks\r\n    private FooFactory unitUnderTest;\r\n\r\n    @BeforeEach\r\n    public void setup() {\r\n        when(barDependency.leftBar(any())).thenReturn(new Bar());\r\n        when(barDependency.rightBar(any())).thenReturn(new Bar());\r\n    }\r\n\r\n   ... many tests ...\r\n\r\n```\r\n\r\nThis setup works perfectly for 9 of my 10 unit tests. Unfortunately one of my tests is failing with the following error:\r\n\r\n```\r\norg.mockito.exceptions.misusing.UnnecessaryStubbingException: \r\nUnnecessary stubbings detected.\r\nClean &amp; maintainable test code requires zero unnecessary code.\r\nFollowing stubbings are unnecessary (click to navigate to relevant line of code):\r\n  1. -&gt; at nl.devillers.mockito.FooFactoryTest.setup(FooFactoryTest.java:69)\r\nPlease remove unnecessary stubbings or use &#39;lenient&#39; strictness. More info: javadoc for UnnecessaryStubbingException class.\r\n``` \r\n\r\nNow, I understand the error and why it&#39;s thrown, because in that specific test my unit under test short-circuits early and doesn&#39;t hit all the stubs that have been setup. I&#39;m aware there&#39;s a `lenient` option in Mockito, but that&#39;ll disable the check for the *entire* class/project.\r\n\r\nMy question is: how do I disable this strictness **for one specific** unit test?\r\n\r\nAgain: I do *not* want to disable the strictness at the class or project level, since I think it&#39;s valuable check. I also do *not* want to move my setup code to the tests that do need the stubs, because then I have to duplicate the setup code nine times. In this case I just want to disable or skip the check for this specific test.","title":"Mockito throws UnnecessaryStubbingException for stub defined in generic @BeforeEach setup method","body":"<p>I have a unit test class where my unit under test is dependent on another class. The dependency is mocked using Mockito and then setup with a generic stub that's run before every unit test, using JUnit's <code>@BeforeEach</code> annotation. See the below pseudo-code.</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class FooFactoryTest {\n\n    @Mock\n    private BarDependency barDependency;\n\n    @InjectMocks\n    private FooFactory unitUnderTest;\n\n    @BeforeEach\n    public void setup() {\n        when(barDependency.leftBar(any())).thenReturn(new Bar());\n        when(barDependency.rightBar(any())).thenReturn(new Bar());\n    }\n\n   ... many tests ...\n\n</code></pre>\n<p>This setup works perfectly for 9 of my 10 unit tests. Unfortunately one of my tests is failing with the following error:</p>\n<pre><code>org.mockito.exceptions.misusing.UnnecessaryStubbingException: \nUnnecessary stubbings detected.\nClean &amp; maintainable test code requires zero unnecessary code.\nFollowing stubbings are unnecessary (click to navigate to relevant line of code):\n  1. -&gt; at nl.devillers.mockito.FooFactoryTest.setup(FooFactoryTest.java:69)\nPlease remove unnecessary stubbings or use 'lenient' strictness. More info: javadoc for UnnecessaryStubbingException class.\n</code></pre>\n<p>Now, I understand the error and why it's thrown, because in that specific test my unit under test short-circuits early and doesn't hit all the stubs that have been setup. I'm aware there's a <code>lenient</code> option in Mockito, but that'll disable the check for the <em>entire</em> class/project.</p>\n<p>My question is: how do I disable this strictness <strong>for one specific</strong> unit test?</p>\n<p>Again: I do <em>not</em> want to disable the strictness at the class or project level, since I think it's valuable check. I also do <em>not</em> want to move my setup code to the tests that do need the stubs, because then I have to duplicate the setup code nine times. In this case I just want to disable or skip the check for this specific test.</p>\n"},{"tags":["java","if-statement","random","while-loop"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":1,"creation_date":1691001863,"post_id":76822694,"comment_id":135432971,"body_markdown":"Hello, welcome to Stack Overflow! Please, [read this](https://stackoverflow.com/help/minimal-reproducible-example) and then edit your question.","body":"Hello, welcome to Stack Overflow! Please, <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">read this</a> and then edit your question."},{"owner":{"account_id":2119809,"reputation":50937,"user_id":1883316,"display_name":"Tim Roberts"},"score":0,"creation_date":1691002249,"post_id":76822694,"comment_id":135433049,"body_markdown":"One easy way is to keep a &quot;stack&quot; of all the moves.  Push each position on the stack.  Then, when you need to back up, you just pop the last position.  That&#39;s the way &quot;undo&quot; is implemented.","body":"One easy way is to keep a &quot;stack&quot; of all the moves.  Push each position on the stack.  Then, when you need to back up, you just pop the last position.  That&#39;s the way &quot;undo&quot; is implemented."},{"owner":{"account_id":25560053,"reputation":1,"user_id":19342805,"display_name":"Kareem Nabil"},"score":0,"creation_date":1691002386,"post_id":76822694,"comment_id":135433072,"body_markdown":"Sorry, can you further explain what a &quot;Stack&quot; is. I&#39;m still a beginner","body":"Sorry, can you further explain what a &quot;Stack&quot; is. I&#39;m still a beginner"},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":1,"creation_date":1691003313,"post_id":76822694,"comment_id":135433243,"body_markdown":"Why are you always scanning input in the loop if it was not even used? And why are you checking the dice if you always do the same thing?","body":"Why are you always scanning input in the loop if it was not even used? And why are you checking the dice if you always do the same thing?"},{"owner":{"account_id":25560053,"reputation":1,"user_id":19342805,"display_name":"Kareem Nabil"},"score":0,"creation_date":1691004160,"post_id":76822694,"comment_id":135433385,"body_markdown":"@DiegoBorba I am scanning the input so that the dice wouldn&#39;t roll again unless the user inputs something. And Thanks for pointing out that checking the dice is basically useless","body":"@DiegoBorba I am scanning the input so that the dice wouldn&#39;t roll again unless the user inputs something. And Thanks for pointing out that checking the dice is basically useless"},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1691004332,"post_id":76822694,"comment_id":135433422,"body_markdown":"So the dice must roll until the position is exactly 100?","body":"So the dice must roll until the position is exactly 100?"},{"owner":{"account_id":25560053,"reputation":1,"user_id":19342805,"display_name":"Kareem Nabil"},"score":0,"creation_date":1691004550,"post_id":76822694,"comment_id":135433479,"body_markdown":"YES and if it goes above 100 it it should go back to the position before the last dice throw (e.g. If I&#39;m on 98 and I roll a 4 and go to 102 I must return to 98 and keep rolling till I reach 100 exactly)","body":"YES and if it goes above 100 it it should go back to the position before the last dice throw (e.g. If I&#39;m on 98 and I roll a 4 and go to 102 I must return to 98 and keep rolling till I reach 100 exactly)"}],"answers":[{"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691006637,"creation_date":1691005523,"answer_id":76823066,"question_id":76822694,"body_markdown":"You said:\r\n\r\n&gt; I am still new...\r\n\r\nSo I&#39;ll take advantage of the answer to show you some good programming practices:\r\n\r\n 1. Variables always **begins with lowercase**.\r\n 2. Always close `Scanner`! Will previne a [memory leak in your program][1].\r\n 3. You can use [`Switch Statement`][2] instead of many `if else` cases.\r\n\r\nConsidering what we said:\r\n\r\n&gt; Why are you always scanning input in the loop if it was not even used? And why are you checking the dice if you always do the same thing? - [Diego Borba][3]\r\n\r\n&gt; @DiegoBorba I am scanning the input so that the dice wouldn&#39;t roll again unless the user inputs something. And Thanks for pointing out that checking the dice is basically useless - [Kareem Nabil][4]\r\n\r\nYou don&#39;t need to check the dice, so both the `if/else` and the `switch` are expendable.\r\n\r\nSo, you can do this way:\r\n\r\n```java\r\n// Variables begins with lowercase\r\nScanner scan = new Scanner(System.in);\r\nRandom random = new Random();\r\nint position1 = 0;\r\n\r\n// Start input\r\nSystem.out.println(&quot;Type Start&quot;);\r\nString input = scan.nextLine();\r\nif (input.equalsIgnoreCase(&quot;start&quot;)) {\r\n\t//Position validation\r\n\twhile (position1 != 100) {\r\n\t\t// Display position\r\n\t\tSystem.out.println(position1);\r\n\t\t\r\n\t\t// Print player turn\r\n\t\tSystem.out.println(&quot;player 1 turn &quot;);\r\n\t\t\r\n\t\t// It is not necessary to assign the value to the variable\r\n\t\tscan.nextLine();\r\n\t\t\r\n\t\t// Roll the dice\r\n\t\tint dice1 = random.nextInt(6) + 1;\r\n\t\t\r\n\t\t// Verify dice value\r\n\t\tif(dice1 &lt;= 100 - position1) {\r\n\t\t\t// You can use &quot;+=&quot; operator\r\n\t\t\tposition1+= dice1;\r\n\t\t}\r\n\t}\r\n\t\r\n\t// When the loop ends, it means that position is equals 100\r\n\tSystem.out.println(&quot;U Win&quot;);\r\n}\r\n\r\n// Always close Scanner!\r\nscan.close();\r\n```\r\n\r\nNotice that:\r\n\r\n - I used [`equalsIgnoreCase()`][5] instead of [`equals()`][6], becouse the `equals()` method **forces the two elements to be exactly the same**, so, if you input `&quot;Start&quot;` or `&quot;START&quot;` it will `return false`.\r\n - I used [`nextLine()`][7] instead of [`next()`][8] becouse [**the `next()` method leave characters behind**][9].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/66714525/do-i-need-to-close-a-scanner-object-everytime-i-use-it\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html\r\n  [3]: https://stackoverflow.com/users/21144042/diego-borba\r\n  [4]: https://stackoverflow.com/users/19342805/kareem-nabil\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#equalsIgnoreCase-java.lang.String-\r\n  [6]: https://docs.oracle.com/javase%2F7%2Fdocs%2Fapi%2F%2F/java/lang/Object.html#equals(java.lang.Object)\r\n  [7]: https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#nextLine--\r\n  [8]: https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#next--\r\n  [9]: https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo","title":"How to save the last RANDOM generated number in a loop","body":"<p>You said:</p>\n<blockquote>\n<p>I am still new...</p>\n</blockquote>\n<p>So I'll take advantage of the answer to show you some good programming practices:</p>\n<ol>\n<li>Variables always <strong>begins with lowercase</strong>.</li>\n<li>Always close <code>Scanner</code>! Will previne a <a href=\"https://stackoverflow.com/questions/66714525/do-i-need-to-close-a-scanner-object-everytime-i-use-it\">memory leak in your program</a>.</li>\n<li>You can use <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html\" rel=\"nofollow noreferrer\"><code>Switch Statement</code></a> instead of many <code>if else</code> cases.</li>\n</ol>\n<p>Considering what we said:</p>\n<blockquote>\n<p>Why are you always scanning input in the loop if it was not even used? And why are you checking the dice if you always do the same thing? - <a href=\"https://stackoverflow.com/users/21144042/diego-borba\">Diego Borba</a></p>\n</blockquote>\n<blockquote>\n<p>@DiegoBorba I am scanning the input so that the dice wouldn't roll again unless the user inputs something. And Thanks for pointing out that checking the dice is basically useless - <a href=\"https://stackoverflow.com/users/19342805/kareem-nabil\">Kareem Nabil</a></p>\n</blockquote>\n<p>You don't need to check the dice, so both the <code>if/else</code> and the <code>switch</code> are expendable.</p>\n<p>So, you can do this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Variables begins with lowercase\nScanner scan = new Scanner(System.in);\nRandom random = new Random();\nint position1 = 0;\n\n// Start input\nSystem.out.println(&quot;Type Start&quot;);\nString input = scan.nextLine();\nif (input.equalsIgnoreCase(&quot;start&quot;)) {\n    //Position validation\n    while (position1 != 100) {\n        // Display position\n        System.out.println(position1);\n        \n        // Print player turn\n        System.out.println(&quot;player 1 turn &quot;);\n        \n        // It is not necessary to assign the value to the variable\n        scan.nextLine();\n        \n        // Roll the dice\n        int dice1 = random.nextInt(6) + 1;\n        \n        // Verify dice value\n        if(dice1 &lt;= 100 - position1) {\n            // You can use &quot;+=&quot; operator\n            position1+= dice1;\n        }\n    }\n    \n    // When the loop ends, it means that position is equals 100\n    System.out.println(&quot;U Win&quot;);\n}\n\n// Always close Scanner!\nscan.close();\n</code></pre>\n<p>Notice that:</p>\n<ul>\n<li>I used <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#equalsIgnoreCase-java.lang.String-\" rel=\"nofollow noreferrer\"><code>equalsIgnoreCase()</code></a> instead of <a href=\"https://docs.oracle.com/javase%2F7%2Fdocs%2Fapi%2F%2F/java/lang/Object.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>equals()</code></a>, becouse the <code>equals()</code> method <strong>forces the two elements to be exactly the same</strong>, so, if you input <code>&quot;Start&quot;</code> or <code>&quot;START&quot;</code> it will <code>return false</code>.</li>\n<li>I used <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#nextLine--\" rel=\"nofollow noreferrer\"><code>nextLine()</code></a> instead of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#next--\" rel=\"nofollow noreferrer\"><code>next()</code></a> becouse <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\"><strong>the <code>next()</code> method leave characters behind</strong></a>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691069440,"creation_date":1691069440,"answer_id":76828583,"question_id":76822694,"body_markdown":"It looks as if you are planning to do this for multiple players, so probably you should refactor the whole code into something reusable, where you provide the result of the dice-throw from outside.:\r\n\r\n``` lang-java\r\n/**\r\n * Handles a players score for one game.\r\n * Create a new instance per game for every player.\r\n */\r\nclass PlayerScore {\r\n  private int score = 100;\r\n\r\n  /** \r\n   * Returns the players current score.\r\n   * @return the players current score\r\n   */\r\n  public int getScore() {\r\n    return score;\r\n  }\r\n\r\n  /**\r\n   * Handles the score after player rolled the dice.\r\n   * @param dice the value of the thrown dice\r\n   * @return {@code true} if the player can continue to play, {@code false} otherwise.\r\n   */\r\n  public boolean rollDice(int dice) {\r\n    if ((dice &lt; 1) || (dice &gt; 6)) {\r\n      throw new IllegalArgumentException(&quot;invalid dice value: &quot; + dice);\r\n    } \r\n    if (score + dice &gt; 100) {\r\n      return false;\r\n    }\r\n    score += dice;\r\n    return (score &lt; 100); // don&#39;t let the player continue if he reached the goal\r\n  }\r\n\r\n  /**\r\n   * Checks if player has won. \r\n   * A {@code false} can also mean that the game is still going on.\r\n   * @return {@code true} if the player has won, {@code false} otherwise.\r\n   */\r\n  public boolean isWinner() {\r\n    return score == 100;\r\n  }\r\n}\r\n```\r\n\r\nWith this you can create a new `PlayerScore` instance for each player and game(!), perform the dice rolls with the call and check if the player has won or may continue otherwise. I leave this as exercise to you ;-)","title":"How to save the last RANDOM generated number in a loop","body":"<p>It looks as if you are planning to do this for multiple players, so probably you should refactor the whole code into something reusable, where you provide the result of the dice-throw from outside.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Handles a players score for one game.\n * Create a new instance per game for every player.\n */\nclass PlayerScore {\n  private int score = 100;\n\n  /** \n   * Returns the players current score.\n   * @return the players current score\n   */\n  public int getScore() {\n    return score;\n  }\n\n  /**\n   * Handles the score after player rolled the dice.\n   * @param dice the value of the thrown dice\n   * @return {@code true} if the player can continue to play, {@code false} otherwise.\n   */\n  public boolean rollDice(int dice) {\n    if ((dice &lt; 1) || (dice &gt; 6)) {\n      throw new IllegalArgumentException(&quot;invalid dice value: &quot; + dice);\n    } \n    if (score + dice &gt; 100) {\n      return false;\n    }\n    score += dice;\n    return (score &lt; 100); // don't let the player continue if he reached the goal\n  }\n\n  /**\n   * Checks if player has won. \n   * A {@code false} can also mean that the game is still going on.\n   * @return {@code true} if the player has won, {@code false} otherwise.\n   */\n  public boolean isWinner() {\n    return score == 100;\n  }\n}\n</code></pre>\n<p>With this you can create a new <code>PlayerScore</code> instance for each player and game(!), perform the dice rolls with the call and check if the player has won or may continue otherwise. I leave this as exercise to you ;-)</p>\n"}],"owner":{"account_id":25560053,"reputation":1,"user_id":19342805,"display_name":"Kareem Nabil"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1691069440,"creation_date":1691001772,"question_id":76822694,"body_markdown":"I am trying to make the user go back to the position he was on if he gets higher than 100.\r\n\r\nSo if he was on 97 and rolls a 5 on Dice1 and becomes 102 I want the variable position1 to go back to 97.\r\n\r\nI am still new so it might just be a stupid logic problem also my variable names are not industry standard so im still working on this.  \r\n\r\n```java\r\nScanner Scan = new Scanner(System.in);\r\nRandom random = new Random();\r\nint Position1 = 0;\r\n// int position2 = 0;\r\n\r\nSystem.out.println(&quot;Type Start&quot;);\r\nString Input = Scan.next();\r\n\r\nif (Input.equals(&quot;start&quot;)) {\r\n\r\n\twhile (Position1 != 100) {\r\n\r\n\t\tint Dice1 = random.nextInt(1, 7);\r\n\r\n\t\tif (Dice1 == 6) {\r\n\t\t\tPosition1 = Position1 + Dice1;\r\n\t\t\tSystem.out.println(Position1);\r\n\t\t\tSystem.out.println(&quot;player 1 turn &quot;);\r\n\t\t\tInput = Scan.next();\r\n\r\n\t\t} else if (Dice1 == 5) {\r\n\t\t\tPosition1 = Position1 + Dice1;\r\n\t\t\tSystem.out.println(Position1);\r\n\t\t\tSystem.out.println(&quot;player l turn&quot;);\r\n\t\t\tInput = Scan.next();\r\n\r\n\t\t} else if (Dice1 == 4) {\r\n\t\t\tPosition1 = Position1 + Dice1;\r\n\t\t\tSystem.out.println(Position1);\r\n\t\t\tSystem.out.println(&quot;player 1 turn &quot;);\r\n\t\t\tInput = Scan.next();\r\n\t\t} else if (Dice1 == 5) {\r\n\t\t\tPosition1 = Position1 + Dice1;\r\n\t\t\tSystem.out.println(Position1);\r\n\t\t\tSystem.out.println(&quot;player l turn&quot;);\r\n\t\t\tInput = Scan.next();\r\n\r\n\t\t} else if (Dice1 == 4) {\r\n\t\t\tPosition1 = Position1 + Dice1;\r\n\t\t\tSystem.out.println(Position1);\r\n\t\t\tSystem.out.println(&quot;player 1 turn &quot;);\r\n\t\t\tInput = Scan.next();\r\n\r\n\t\t} else if (Dice1 == 3) {\r\n\t\t\tPosition1 = Position1 + Dice1;\r\n\t\t\tSystem.out.println(Position1);\r\n\t\t\tSystem.out.println(&quot;Player 1 turn&quot;);\r\n\t\t\tInput = Scan.next();\r\n\r\n\t\t} else if (Dice1 == 2) {\r\n\t\t\tPosition1 = Position1 + Dice1;\r\n\t\t\tSystem.out.println(Position1);\r\n\t\t\tSystem.out.println(&quot;player 1 turn&quot;);\r\n\t\t\tInput = Scan.next();\r\n\r\n\t\t} else if (Dice1 == 1) {\r\n\t\t\tPosition1 = Position1 + Dice1;\r\n\t\t\tSystem.out.println(Position1);\r\n\t\t\tSystem.out.println(&quot;player 1 turn &quot;);\r\n\t\t\tInput = Scan.next();\r\n\t\t}\r\n\t\tif (Position1 &gt; 100) {\r\n\t\t\tPosition1 = Position1 - Dice1;\r\n\t\t} else if (Position1 == 100) {\r\n\t\t\tSystem.out.println(&quot;U Win&quot;);\r\n\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\t\t","title":"How to save the last RANDOM generated number in a loop","body":"<p>I am trying to make the user go back to the position he was on if he gets higher than 100.</p>\n<p>So if he was on 97 and rolls a 5 on Dice1 and becomes 102 I want the variable position1 to go back to 97.</p>\n<p>I am still new so it might just be a stupid logic problem also my variable names are not industry standard so im still working on this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner Scan = new Scanner(System.in);\nRandom random = new Random();\nint Position1 = 0;\n// int position2 = 0;\n\nSystem.out.println(&quot;Type Start&quot;);\nString Input = Scan.next();\n\nif (Input.equals(&quot;start&quot;)) {\n\n    while (Position1 != 100) {\n\n        int Dice1 = random.nextInt(1, 7);\n\n        if (Dice1 == 6) {\n            Position1 = Position1 + Dice1;\n            System.out.println(Position1);\n            System.out.println(&quot;player 1 turn &quot;);\n            Input = Scan.next();\n\n        } else if (Dice1 == 5) {\n            Position1 = Position1 + Dice1;\n            System.out.println(Position1);\n            System.out.println(&quot;player l turn&quot;);\n            Input = Scan.next();\n\n        } else if (Dice1 == 4) {\n            Position1 = Position1 + Dice1;\n            System.out.println(Position1);\n            System.out.println(&quot;player 1 turn &quot;);\n            Input = Scan.next();\n        } else if (Dice1 == 5) {\n            Position1 = Position1 + Dice1;\n            System.out.println(Position1);\n            System.out.println(&quot;player l turn&quot;);\n            Input = Scan.next();\n\n        } else if (Dice1 == 4) {\n            Position1 = Position1 + Dice1;\n            System.out.println(Position1);\n            System.out.println(&quot;player 1 turn &quot;);\n            Input = Scan.next();\n\n        } else if (Dice1 == 3) {\n            Position1 = Position1 + Dice1;\n            System.out.println(Position1);\n            System.out.println(&quot;Player 1 turn&quot;);\n            Input = Scan.next();\n\n        } else if (Dice1 == 2) {\n            Position1 = Position1 + Dice1;\n            System.out.println(Position1);\n            System.out.println(&quot;player 1 turn&quot;);\n            Input = Scan.next();\n\n        } else if (Dice1 == 1) {\n            Position1 = Position1 + Dice1;\n            System.out.println(Position1);\n            System.out.println(&quot;player 1 turn &quot;);\n            Input = Scan.next();\n        }\n        if (Position1 &gt; 100) {\n            Position1 = Position1 - Dice1;\n        } else if (Position1 == 100) {\n            System.out.println(&quot;U Win&quot;);\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","networking","sockets","port"],"comments":[{"owner":{"account_id":15123906,"reputation":1,"user_id":10913906,"display_name":"Cezar Terzian"},"score":0,"creation_date":1590162064,"post_id":2675362,"comment_id":111859971,"body_markdown":"if the port is occupied by another software the code will throw an IOException","body":"if the port is occupied by another software the code will throw an IOException"}],"answers":[{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":4,"up_vote_count":9,"is_accepted":false,"score":5,"last_activity_date":1271782184,"creation_date":1271769489,"answer_id":2675376,"question_id":2675362,"body_markdown":"If your server starts up, then that socket was not used. \r\n\r\n**EDIT**\r\n\r\nSomething like: \r\n\r\n   \r\n    ServerSocket s = null ;\r\n\r\n    try { \r\n        s = new ServerSocket( 0 ); \r\n    } catch( IOException ioe ){\r\n       for( int i = START; i &lt; END ; i++ ) try {\r\n            s = new ServerSocket( i );\r\n        } catch( IOException ioe ){}\r\n    }\r\n    // At this point if s is null we are helpless\r\n    if( s == null ) {\r\n        throw new IOException(\r\n           Strings.format(&quot;Unable to open server in port range(%d-%d)&quot;,START,END));\r\n    }\r\n\r\n\r\n\r\n","title":"How to find an available port?","body":"<p>If your server starts up, then that socket was not used. </p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Something like: </p>\n\n<pre><code>ServerSocket s = null ;\n\ntry { \n    s = new ServerSocket( 0 ); \n} catch( IOException ioe ){\n   for( int i = START; i &lt; END ; i++ ) try {\n        s = new ServerSocket( i );\n    } catch( IOException ioe ){}\n}\n// At this point if s is null we are helpless\nif( s == null ) {\n    throw new IOException(\n       Strings.format(\"Unable to open server in port range(%d-%d)\",START,END));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25991,"reputation":7957,"user_id":67316,"accept_rate":65,"display_name":"Andy Johnson"},"down_vote_count":1,"up_vote_count":38,"is_accepted":false,"score":37,"last_activity_date":1486025229,"creation_date":1271769684,"answer_id":2675399,"question_id":2675362,"body_markdown":"According to [Wikipedia][1], you should use ports `49152` to `65535` if you don&#39;t need a &#39;well known&#39; port.\r\n\r\nAFAIK the only way to determine wheter a port is in use is to try to open it.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Ephemeral_port","title":"How to find an available port?","body":"<p>According to <a href=\"http://en.wikipedia.org/wiki/Ephemeral_port\" rel=\"noreferrer\">Wikipedia</a>, you should use ports <code>49152</code> to <code>65535</code> if you don't need a 'well known' port.</p>\n\n<p>AFAIK the only way to determine wheter a port is in use is to try to open it.</p>\n"},{"tags":[],"owner":{"account_id":27505,"reputation":32693,"user_id":72673,"accept_rate":72,"display_name":"Maurice Perry"},"down_vote_count":1,"up_vote_count":62,"is_accepted":false,"score":61,"last_activity_date":1271769698,"creation_date":1271769698,"answer_id":2675400,"question_id":2675362,"body_markdown":"If you pass 0 as the port number to the constructor of ServerSocket, It will allocate a port for you.","title":"How to find an available port?","body":"<p>If you pass 0 as the port number to the constructor of ServerSocket, It will allocate a port for you.</p>\n"},{"tags":[],"owner":{"account_id":8683,"reputation":3753,"user_id":15755,"display_name":"Graham Edgecombe"},"down_vote_count":1,"up_vote_count":317,"is_accepted":true,"score":316,"last_activity_date":1412669710,"creation_date":1271769875,"answer_id":2675416,"question_id":2675362,"body_markdown":"If you don&#39;t mind the port used, specify a port of 0 to the [ServerSocket constructor][1] and it will listen on any free port.\r\n\r\n    ServerSocket s = new ServerSocket(0);\r\n    System.out.println(&quot;listening on port: &quot; + s.getLocalPort());\r\n\r\nIf you want to use a specific set of ports, then the easiest way is probably to iterate through them until one works. Something like this:\r\n\r\n    public ServerSocket create(int[] ports) throws IOException {\r\n        for (int port : ports) {\r\n            try {\r\n                return new ServerSocket(port);\r\n            } catch (IOException ex) {\r\n                continue; // try next port\r\n            }\r\n        }\r\n    \r\n        // if the program gets here, no port in the range was found\r\n        throw new IOException(&quot;no free port found&quot;);\r\n    }\r\n\r\nCould be used like so:\r\n\r\n    try {\r\n        ServerSocket s = create(new int[] { 3843, 4584, 4843 });\r\n        System.out.println(&quot;listening on port: &quot; + s.getLocalPort());\r\n    } catch (IOException ex) {\r\n        System.err.println(&quot;no available ports&quot;);\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/net/ServerSocket.html#ServerSocket%28int%29","title":"How to find an available port?","body":"<p>If you don't mind the port used, specify a port of 0 to the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/net/ServerSocket.html#ServerSocket%28int%29\" rel=\"noreferrer\">ServerSocket constructor</a> and it will listen on any free port.</p>\n\n<pre><code>ServerSocket s = new ServerSocket(0);\nSystem.out.println(\"listening on port: \" + s.getLocalPort());\n</code></pre>\n\n<p>If you want to use a specific set of ports, then the easiest way is probably to iterate through them until one works. Something like this:</p>\n\n<pre><code>public ServerSocket create(int[] ports) throws IOException {\n    for (int port : ports) {\n        try {\n            return new ServerSocket(port);\n        } catch (IOException ex) {\n            continue; // try next port\n        }\n    }\n\n    // if the program gets here, no port in the range was found\n    throw new IOException(\"no free port found\");\n}\n</code></pre>\n\n<p>Could be used like so:</p>\n\n<pre><code>try {\n    ServerSocket s = create(new int[] { 3843, 4584, 4843 });\n    System.out.println(\"listening on port: \" + s.getLocalPort());\n} catch (IOException ex) {\n    System.err.println(\"no available ports\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1596716269,"creation_date":1271769915,"answer_id":2675422,"question_id":2675362,"body_markdown":"See [ServerSocket](https://docs.oracle.com/javase/1.5.0/docs/api/java/net/ServerSocket.html#ServerSocket%28int%29):\r\n\r\n&gt; Creates a server socket, bound to the specified port. A port of 0 creates a socket on any free port. \r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/api/java/net/ServerSocket.html#ServerSocket%28int%29","title":"How to find an available port?","body":"<p>See <a href=\"https://docs.oracle.com/javase/1.5.0/docs/api/java/net/ServerSocket.html#ServerSocket%28int%29\" rel=\"nofollow noreferrer\">ServerSocket</a>:</p>\n<blockquote>\n<p>Creates a server socket, bound to the specified port. A port of 0 creates a socket on any free port.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":40658,"reputation":1109,"user_id":117820,"display_name":"jopa"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1425742492,"creation_date":1271770104,"answer_id":2675446,"question_id":2675362,"body_markdown":"The Eclipse SDK contains a class [SocketUtil][1], that does what you want. You may have a look into the git [source code][2].\r\n\r\n  [1]: http://help.eclipse.org/luna/index.jsp?topic=%2Forg.eclipse.jdt.doc.isv%2Freference%2Fapi%2Forg%2Feclipse%2Fjdt%2Flaunching%2FSocketUtil.html &quot;SocketUtil&quot;\r\n  [2]: https://git.eclipse.org/c/jdt/eclipse.jdt.debug.git/tree/org.eclipse.jdt.launching/launching/org/eclipse/jdt/launching/SocketUtil.java","title":"How to find an available port?","body":"<p>The Eclipse SDK contains a class <a href=\"http://help.eclipse.org/luna/index.jsp?topic=%2Forg.eclipse.jdt.doc.isv%2Freference%2Fapi%2Forg%2Feclipse%2Fjdt%2Flaunching%2FSocketUtil.html\" rel=\"nofollow noreferrer\" title=\"SocketUtil\">SocketUtil</a>, that does what you want. You may have a look into the git <a href=\"https://git.eclipse.org/c/jdt/eclipse.jdt.debug.git/tree/org.eclipse.jdt.launching/launching/org/eclipse/jdt/launching/SocketUtil.java\" rel=\"nofollow noreferrer\">source code</a>.</p>\n"},{"tags":[],"owner":{"account_id":12478,"reputation":23673,"user_id":24582,"display_name":"extraneon"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1271770797,"creation_date":1271770797,"answer_id":2675513,"question_id":2675362,"body_markdown":"It may not help you much, but on my (Ubuntu) machine I have a file /etc/services in which at least the ports used/reserved by some of the apps are given. These are the standard ports for those apps. \r\n\r\nNo guarantees that these are running, just the default ports these apps use (so you should not use them if possible).\r\n\r\nThere are slightly more than 500 ports defined, about half UDP and half TCP.\r\n\r\nThe files are made using information by IANA, see [IANA Assigned port numbers][1].\r\n\r\n\r\n  [1]: http://www.iana.org/assignments/port-numbers","title":"How to find an available port?","body":"<p>It may not help you much, but on my (Ubuntu) machine I have a file /etc/services in which at least the ports used/reserved by some of the apps are given. These are the standard ports for those apps. </p>\n\n<p>No guarantees that these are running, just the default ports these apps use (so you should not use them if possible).</p>\n\n<p>There are slightly more than 500 ports defined, about half UDP and half TCP.</p>\n\n<p>The files are made using information by IANA, see <a href=\"http://www.iana.org/assignments/port-numbers\" rel=\"nofollow noreferrer\">IANA Assigned port numbers</a>.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1274475152,"creation_date":1274475152,"answer_id":2885488,"question_id":2675362,"body_markdown":"This works for me on Java 6\r\n\r\n        ServerSocket serverSocket = new ServerSocket(0);\r\n        System.out.println(&quot;listening on port &quot; + serverSocket.getLocalPort());\r\n","title":"How to find an available port?","body":"<p>This works for me on Java 6</p>\n\n<pre><code>    ServerSocket serverSocket = new ServerSocket(0);\n    System.out.println(\"listening on port \" + serverSocket.getLocalPort());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1653550,"reputation":11563,"user_id":1523648,"accept_rate":89,"display_name":"oberlies"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1367337223,"creation_date":1367337223,"answer_id":16304050,"question_id":2675362,"body_markdown":"If you want to create your own server using a `ServerSocket`, you can just have it pick a free port for you:\r\n\r\n      ServerSocket serverSocket = new ServerSocket(0);\r\n      int port = serverSocket.getLocalPort();\r\n\r\nOther server implementations typically have similar support. *Jetty* for example picks a free port unless you explicitly set it:\r\n\r\n      Server server = new Server();\r\n      ServerConnector connector = new ServerConnector(server);\r\n      // don&#39;t call: connector.setPort(port);\r\n      server.addConnector(connector);\r\n      server.start();\r\n      int port = connector.getLocalPort();","title":"How to find an available port?","body":"<p>If you want to create your own server using a <code>ServerSocket</code>, you can just have it pick a free port for you:</p>\n\n<pre><code>  ServerSocket serverSocket = new ServerSocket(0);\n  int port = serverSocket.getLocalPort();\n</code></pre>\n\n<p>Other server implementations typically have similar support. <em>Jetty</em> for example picks a free port unless you explicitly set it:</p>\n\n<pre><code>  Server server = new Server();\n  ServerConnector connector = new ServerConnector(server);\n  // don't call: connector.setPort(port);\n  server.addConnector(connector);\n  server.start();\n  int port = connector.getLocalPort();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1991992,"reputation":3753,"user_id":1785811,"display_name":"Michail Nikolaev"},"down_vote_count":3,"up_vote_count":27,"is_accepted":false,"score":24,"last_activity_date":1404750300,"creation_date":1404750300,"answer_id":24615319,"question_id":2675362,"body_markdown":"If you use Spring you may try http://docs.spring.io/spring/docs/4.0.5.RELEASE/javadoc-api/org/springframework/util/SocketUtils.html#findAvailableTcpPort--","title":"How to find an available port?","body":"<p>If you use Spring you may try <a href=\"http://docs.spring.io/spring/docs/4.0.5.RELEASE/javadoc-api/org/springframework/util/SocketUtils.html#findAvailableTcpPort--\" rel=\"noreferrer\">http://docs.spring.io/spring/docs/4.0.5.RELEASE/javadoc-api/org/springframework/util/SocketUtils.html#findAvailableTcpPort--</a></p>\n"},{"tags":[],"owner":{"account_id":2762,"reputation":8545,"user_id":3885,"accept_rate":67,"display_name":"Andrei Savu"},"down_vote_count":2,"up_vote_count":47,"is_accepted":false,"score":45,"last_activity_date":1414640440,"creation_date":1414640440,"answer_id":26644672,"question_id":2675362,"body_markdown":"Starting from Java 1.7 you can use try-with-resources like this: \r\n\r\n      private Integer findRandomOpenPortOnAllLocalInterfaces() throws IOException {\r\n        try (\r\n            ServerSocket socket = new ServerSocket(0);\r\n        ) {\r\n          return socket.getLocalPort();\r\n    \r\n        }\r\n      }\r\n\r\nIf you need to find an open port on a specific interface check [ServerSocket][1] documentation for alternative constructors. \r\n\r\n**Warning:** Any code using the port number returned by this method is subject to a race condition - a different process / thread may bind to the same port immediately after we close the ServerSocket instance. \r\n\r\n  [1]: http://download.java.net/jdk7/archive/b123/docs/api/java/net/ServerSocket.html","title":"How to find an available port?","body":"<p>Starting from Java 1.7 you can use try-with-resources like this: </p>\n\n<pre><code>  private Integer findRandomOpenPortOnAllLocalInterfaces() throws IOException {\n    try (\n        ServerSocket socket = new ServerSocket(0);\n    ) {\n      return socket.getLocalPort();\n\n    }\n  }\n</code></pre>\n\n<p>If you need to find an open port on a specific interface check <a href=\"http://download.java.net/jdk7/archive/b123/docs/api/java/net/ServerSocket.html\">ServerSocket</a> documentation for alternative constructors. </p>\n\n<p><strong>Warning:</strong> Any code using the port number returned by this method is subject to a race condition - a different process / thread may bind to the same port immediately after we close the ServerSocket instance. </p>\n"},{"tags":[],"owner":{"account_id":4922351,"reputation":778,"user_id":3964612,"display_name":"Alex Panov"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1483035597,"creation_date":1431186857,"answer_id":30142039,"question_id":2675362,"body_markdown":"I have recently released a tiny library for doing just that with tests in mind.\r\nMaven dependency is:\r\n\r\n    &lt;dependency&gt;\r\n    &#160;&#160;&#160;&#160;&lt;groupId&gt;me.alexpanov&lt;/groupId&gt;\r\n    &#160;&#160;&#160;&#160;&lt;artifactId&gt;free-port-finder&lt;/artifactId&gt;\r\n    &#160;&#160;&#160;&#160;&lt;version&gt;1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nOnce installed, free port numbers can be obtained via:\r\n\r\n    int port = FreePortFinder.findFreeLocalPort();\r\n","title":"How to find an available port?","body":"<p>I have recently released a tiny library for doing just that with tests in mind.\nMaven dependency is:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;me.alexpanov&lt;/groupId&gt;\n    &lt;artifactId&gt;free-port-finder&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Once installed, free port numbers can be obtained via:</p>\n\n<pre><code>int port = FreePortFinder.findFreeLocalPort();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1218420,"reputation":2261,"user_id":1185555,"accept_rate":44,"display_name":"Serhii Bohutskyi"},"down_vote_count":2,"up_vote_count":30,"is_accepted":false,"score":28,"last_activity_date":1458044986,"creation_date":1458044986,"answer_id":36011416,"question_id":2675362,"body_markdown":"If you need in ***range*** use:\r\n\r\n    public int nextFreePort(int from, int to) {\r\n        int port = randPort(from, to);\r\n        while (true) {\r\n            if (isLocalPortFree(port)) {\r\n                return port;\r\n            } else {\r\n                port = ThreadLocalRandom.current().nextInt(from, to);\r\n            }\r\n        }\r\n    }\r\n\r\n    private boolean isLocalPortFree(int port) {\r\n        try {\r\n            new ServerSocket(port).close();\r\n            return true;\r\n        } catch (IOException e) {\r\n            return false;\r\n        }\r\n    }","title":"How to find an available port?","body":"<p>If you need in <strong><em>range</em></strong> use:</p>\n\n<pre><code>public int nextFreePort(int from, int to) {\n    int port = randPort(from, to);\n    while (true) {\n        if (isLocalPortFree(port)) {\n            return port;\n        } else {\n            port = ThreadLocalRandom.current().nextInt(from, to);\n        }\n    }\n}\n\nprivate boolean isLocalPortFree(int port) {\n    try {\n        new ServerSocket(port).close();\n        return true;\n    } catch (IOException e) {\n        return false;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8927637,"reputation":2886,"user_id":6661361,"display_name":"Gerardo Roza"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1542366503,"creation_date":1542366503,"answer_id":53336657,"question_id":2675362,"body_markdown":"If you are using Spring, the answer provided by *Michail Nikolaev* is the simplest and cleanest one, and IMO should be upvoted.\r\nJust for convenience purposes, I&#39;ll add an inline example using the Springframwework *[SocketUtils][1].findAvailableTcpPort()* method:\r\n\r\n\r\n```int randomAvailablePort = SocketUtils.findAvailableTcpPort();```\r\n\r\nIt&#39;s as easy as that, just one line :). Of course, the Utils class offer many other interesting methods, I suggest having a look at the docs.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/SocketUtils.html","title":"How to find an available port?","body":"<p>If you are using Spring, the answer provided by <em>Michail Nikolaev</em> is the simplest and cleanest one, and IMO should be upvoted.\nJust for convenience purposes, I'll add an inline example using the Springframwework <em><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/SocketUtils.html\" rel=\"nofollow noreferrer\">SocketUtils</a>.findAvailableTcpPort()</em> method:</p>\n\n<p><code>int randomAvailablePort = SocketUtils.findAvailableTcpPort();</code></p>\n\n<p>It's as easy as that, just one line :). Of course, the Utils class offer many other interesting methods, I suggest having a look at the docs.</p>\n"},{"tags":[],"owner":{"account_id":4008309,"reputation":3678,"user_id":3302424,"accept_rate":70,"display_name":"Hari Krishna"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585893763,"creation_date":1585893763,"answer_id":61005922,"question_id":2675362,"body_markdown":"Using &#39;ServerSocket&#39; class we can identify whether given port is in use or free. ServerSocket provides a constructor that take an integer (which is port number) as \r\nargument and initialise server socket on the port. If ServerSocket throws any IO Exception, then we can assume this port is already in use.\r\n\r\nFollowing snippet is used to get all available ports.\r\n\r\n    for (int port = 1; port &lt; 65535; port++) {\r\n             try {\r\n                      ServerSocket socket = new ServerSocket(port);\r\n                      socket.close();\r\n                      availablePorts.add(port);\r\n             } catch (IOException e) {\r\n                                       \r\n             }\r\n    }\r\n\r\nReference [link][1].\r\n\r\n\r\n  [1]: https://self-learning-java-tutorial.blogspot.com/2015/09/java-find-all-available-ports.html","title":"How to find an available port?","body":"<p>Using 'ServerSocket' class we can identify whether given port is in use or free. ServerSocket provides a constructor that take an integer (which is port number) as \nargument and initialise server socket on the port. If ServerSocket throws any IO Exception, then we can assume this port is already in use.</p>\n\n<p>Following snippet is used to get all available ports.</p>\n\n<pre><code>for (int port = 1; port &lt; 65535; port++) {\n         try {\n                  ServerSocket socket = new ServerSocket(port);\n                  socket.close();\n                  availablePorts.add(port);\n         } catch (IOException e) {\n\n         }\n}\n</code></pre>\n\n<p>Reference <a href=\"https://self-learning-java-tutorial.blogspot.com/2015/09/java-find-all-available-ports.html\" rel=\"nofollow noreferrer\">link</a>.</p>\n"},{"tags":[],"owner":{"account_id":267167,"reputation":10537,"user_id":555177,"accept_rate":94,"display_name":"anataliocs"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1596581743,"creation_date":1596581743,"answer_id":63256149,"question_id":2675362,"body_markdown":"If you are using the Spring Framework, the most straightforward way to do this is:\r\n\r\n\r\n```\r\nprivate Integer laancNotifyPort = SocketUtils.findAvailableTcpPort();\r\n```\r\n\r\nYou can also set an acceptable range, and it will search in this range:\r\n\r\n```\r\nprivate Integer laancNotifyPort = SocketUtils.findAvailableTcpPort(9090, 10090);\r\n```\r\n\r\nThis is a convenience method that abstracts away the complexity but internally is similar to a lot of the other answers on this thread.  ","title":"How to find an available port?","body":"<p>If you are using the Spring Framework, the most straightforward way to do this is:</p>\n<pre><code>private Integer laancNotifyPort = SocketUtils.findAvailableTcpPort();\n</code></pre>\n<p>You can also set an acceptable range, and it will search in this range:</p>\n<pre><code>private Integer laancNotifyPort = SocketUtils.findAvailableTcpPort(9090, 10090);\n</code></pre>\n<p>This is a convenience method that abstracts away the complexity but internally is similar to a lot of the other answers on this thread.</p>\n"},{"tags":[],"owner":{"account_id":1861468,"reputation":991,"user_id":1685993,"accept_rate":68,"display_name":"AHH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651585430,"creation_date":1651582010,"answer_id":72099589,"question_id":2675362,"body_markdown":"You can ask the ServerSocket to find a port for you then close it:\r\n\r\n    private int getFreePort() {\r\n            var freePort = 0;\r\n            try (ServerSocket s = new ServerSocket(0)) {\r\n                freePort = s.getLocalPort();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return freePort;\r\n        }","title":"How to find an available port?","body":"<p>You can ask the ServerSocket to find a port for you then close it:</p>\n<pre><code>private int getFreePort() {\n        var freePort = 0;\n        try (ServerSocket s = new ServerSocket(0)) {\n            freePort = s.getLocalPort();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        return freePort;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1775391,"reputation":734,"user_id":1619265,"accept_rate":20,"display_name":"Robert Sj&#246;dahl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651819147,"creation_date":1651819147,"answer_id":72137162,"question_id":2675362,"body_markdown":"There are a lot of answers here where ServerSocket is used. I checked Micronauts implementation and they instead try to connect a client socket to the port locally and if that fails they say the port is open. That to me has the advantage that they do not risk using the port within the test.\r\n\r\nTheir code looks like this:\r\n```\r\n    public static boolean isTcpPortAvailable(int currentPort) {\r\n        try (Socket socket = new Socket()) {\r\n            socket.connect(new InetSocketAddress(InetAddress.getLocalHost(), currentPort), 20);\r\n            return false;\r\n        } catch (Throwable e) {\r\n            return true;\r\n        }\r\n    }\r\n```\r\n\r\nSee here for reference: https://github.com/micronaut-projects/micronaut-core/blob/3.4.x/core/src/main/java/io/micronaut/core/io/socket/SocketUtils.java","title":"How to find an available port?","body":"<p>There are a lot of answers here where ServerSocket is used. I checked Micronauts implementation and they instead try to connect a client socket to the port locally and if that fails they say the port is open. That to me has the advantage that they do not risk using the port within the test.</p>\n<p>Their code looks like this:</p>\n<pre><code>    public static boolean isTcpPortAvailable(int currentPort) {\n        try (Socket socket = new Socket()) {\n            socket.connect(new InetSocketAddress(InetAddress.getLocalHost(), currentPort), 20);\n            return false;\n        } catch (Throwable e) {\n            return true;\n        }\n    }\n</code></pre>\n<p>See here for reference: <a href=\"https://github.com/micronaut-projects/micronaut-core/blob/3.4.x/core/src/main/java/io/micronaut/core/io/socket/SocketUtils.java\" rel=\"nofollow noreferrer\">https://github.com/micronaut-projects/micronaut-core/blob/3.4.x/core/src/main/java/io/micronaut/core/io/socket/SocketUtils.java</a></p>\n"},{"tags":[],"owner":{"account_id":2056806,"reputation":2735,"user_id":1834329,"accept_rate":60,"display_name":"Jared Beach"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691069410,"creation_date":1691069410,"answer_id":76828577,"question_id":2675362,"body_markdown":"Many people mention the Spring framework utility, but if you are not using Spring, the logic of the utility is pretty simple and better than most of the answers because it gives a truly random result.\r\n\r\n[Here is the full source](https://github.com/spring-projects/spring-framework/blob/eed14214b5cc6c6d739e04fc2123b16829dcfcf4/spring-core/src/testFixtures/java/org/springframework/core/testfixture/net/TestSocketUtils.java#L74).\r\n\r\nBut here is the simplified source that you could just use in your own project without adding Spring as a dependency:\r\n\r\n```java\r\npublic static int findAvailableTcpPort() {\r\n    int minPort = 1024;\r\n    int maxPort = 65535;\r\n    int portRange = maxPort - minPort;\r\n    int maxAttempts = 1000;\r\n    int candidatePort;\r\n    int searchCounter = 0;\r\n    Random random = new Random(System.nanoTime());\r\n    do {\r\n        if (searchCounter &gt; maxAttempts) {\r\n            throw new IllegalStateException(String.format(\r\n                &quot;Could not find an available TCP port in the range [%d, %d] after %d attempts&quot;,\r\n                minPort, maxPort, maxAttempts));\r\n        }\r\n        candidatePort = minPort + random.nextInt(portRange + 1);\r\n        searchCounter++;\r\n    } while (!isPortAvailable(candidatePort));\r\n\r\n    return candidatePort;\r\n}\r\n\r\nprivate static boolean isPortAvailable(int port) {\r\n    try {\r\n        ServerSocket serverSocket = ServerSocketFactory.getDefault().createServerSocket(port, 1, InetAddress.getByName(&quot;localhost&quot;));\r\n        serverSocket.close();\r\n        return true;\r\n    } catch (Exception ex){\r\n        return false;\r\n    }\r\n}\r\n```","title":"How to find an available port?","body":"<p>Many people mention the Spring framework utility, but if you are not using Spring, the logic of the utility is pretty simple and better than most of the answers because it gives a truly random result.</p>\n<p><a href=\"https://github.com/spring-projects/spring-framework/blob/eed14214b5cc6c6d739e04fc2123b16829dcfcf4/spring-core/src/testFixtures/java/org/springframework/core/testfixture/net/TestSocketUtils.java#L74\" rel=\"nofollow noreferrer\">Here is the full source</a>.</p>\n<p>But here is the simplified source that you could just use in your own project without adding Spring as a dependency:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int findAvailableTcpPort() {\n    int minPort = 1024;\n    int maxPort = 65535;\n    int portRange = maxPort - minPort;\n    int maxAttempts = 1000;\n    int candidatePort;\n    int searchCounter = 0;\n    Random random = new Random(System.nanoTime());\n    do {\n        if (searchCounter &gt; maxAttempts) {\n            throw new IllegalStateException(String.format(\n                &quot;Could not find an available TCP port in the range [%d, %d] after %d attempts&quot;,\n                minPort, maxPort, maxAttempts));\n        }\n        candidatePort = minPort + random.nextInt(portRange + 1);\n        searchCounter++;\n    } while (!isPortAvailable(candidatePort));\n\n    return candidatePort;\n}\n\nprivate static boolean isPortAvailable(int port) {\n    try {\n        ServerSocket serverSocket = ServerSocketFactory.getDefault().createServerSocket(port, 1, InetAddress.getByName(&quot;localhost&quot;));\n        serverSocket.close();\n        return true;\n    } catch (Exception ex){\n        return false;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":88863,"reputation":126149,"user_id":245549,"accept_rate":66,"display_name":"Roman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225851,"favorite_count":0,"down_vote_count":1,"up_vote_count":223,"accepted_answer_id":2675416,"answer_count":19,"score":222,"last_activity_date":1691069410,"creation_date":1271769368,"question_id":2675362,"body_markdown":"I want to start a server which listen to a port. I can specify port explicitly and it works. But I would like to find a port in an automatic way. In this respect I have two questions.\r\n\r\n1. In which range of port numbers should I search for? (I used ports 12345, 12346, and 12347 and it was fine).\r\n\r\n2. How can I find out if a given port is not occupied by another software?","title":"How to find an available port?","body":"<p>I want to start a server which listen to a port. I can specify port explicitly and it works. But I would like to find a port in an automatic way. In this respect I have two questions.</p>\n\n<ol>\n<li><p>In which range of port numbers should I search for? (I used ports 12345, 12346, and 12347 and it was fine).</p></li>\n<li><p>How can I find out if a given port is not occupied by another software?</p></li>\n</ol>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1691070042,"post_id":76828495,"comment_id":135444027,"body_markdown":"Spring Security executes with a filter which aren&#39;t being handled/covered by the `HandlerExceptionResolver`s from Spring MVC. Spring Security has a default `AccessDeniedHandler` which handles this (which is why you don&#39;t need to configure one). You can write an `AccessDeniedHandler` which would delegate to the `HandlerExceptionResolver`.","body":"Spring Security executes with a filter which aren&#39;t being handled/covered by the <code>HandlerExceptionResolver</code>s from Spring MVC. Spring Security has a default <code>AccessDeniedHandler</code> which handles this (which is why you don&#39;t need to configure one). You can write an <code>AccessDeniedHandler</code> which would delegate to the <code>HandlerExceptionResolver</code>."},{"owner":{"account_id":18807214,"reputation":45,"user_id":13716265,"display_name":"Thorvas"},"score":0,"creation_date":1691088764,"post_id":76828495,"comment_id":135448082,"body_markdown":"I&#39;ve tried to implement custom handler and delegate request to resolver. Like that: ```exceptionResolver.resolveException(request, response, null, accessDeniedException);``` but still I get no appropriate response. I also get message in log that authorization failed but exception is still not caught by appropriate handlers.","body":"I&#39;ve tried to implement custom handler and delegate request to resolver. Like that: <code>exceptionResolver.resolveException(request, response, null, accessDeniedException);</code> but still I get no appropriate response. I also get message in log that authorization failed but exception is still not caught by appropriate handlers."},{"owner":{"account_id":18807214,"reputation":45,"user_id":13716265,"display_name":"Thorvas"},"score":0,"creation_date":1691088838,"post_id":76828495,"comment_id":135448102,"body_markdown":"Additionally, when I ```@Autowired``` ```HandlerExceptionResolver```, I get two beans, one with the name ```handlerExceptionResolver``` and the other one with name ```errorAttributes```. I&#39;m confused, I didn&#39;t declare such beans","body":"Additionally, when I <code>@Autowired</code> <code>HandlerExceptionResolver</code>, I get two beans, one with the name <code>handlerExceptionResolver</code> and the other one with name <code>errorAttributes</code>. I&#39;m confused, I didn&#39;t declare such beans"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1691129917,"post_id":76828495,"comment_id":135452639,"body_markdown":"Spring will automatically create those beans, you need the `handlerExceptionResolver` one as that is the one that will delegate to the `@ExceptionHandler` annotated one. Finally you will also need a `AuthenticationEntryPoint` which handles the `AuthenticationException` instances (and turns them into a response and error code). They are different components for different parts one is for Authentication (the `BadCredentialsException` the other for Authorization (the `AccessDeniedException`). You might want to handle the top level error instead of those specific ones.","body":"Spring will automatically create those beans, you need the <code>handlerExceptionResolver</code> one as that is the one that will delegate to the <code>@ExceptionHandler</code> annotated one. Finally you will also need a <code>AuthenticationEntryPoint</code> which handles the <code>AuthenticationException</code> instances (and turns them into a response and error code). They are different components for different parts one is for Authentication (the <code>BadCredentialsException</code> the other for Authorization (the <code>AccessDeniedException</code>). You might want to handle the top level error instead of those specific ones."}],"owner":{"account_id":18807214,"reputation":45,"user_id":13716265,"display_name":"Thorvas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691068878,"creation_date":1691068878,"question_id":76828495,"body_markdown":"I have exception handler like this:\r\n\r\n```\r\n@RestControllerAdvice\r\npublic class GlobalExceptionHandler {\r\n\r\n    @ExceptionHandler(BadCredentialsException.class)\r\n    public ResponseEntity&lt;ApiError&gt; handleBadCredentials(Exception e, HttpServletRequest request) {\r\n\r\n        ApiError apiError = new ApiError(\r\n                request.getRequestURI(),\r\n                e.getMessage(),\r\n                HttpStatus.BAD_REQUEST.value(),\r\n                LocalDateTime.now()\r\n        );\r\n\r\n        return new ResponseEntity&lt;&gt;(apiError, HttpStatus.BAD_REQUEST);\r\n    }\r\n\r\n    @ExceptionHandler(HttpRequestMethodNotSupportedException.class)\r\n    public ResponseEntity&lt;ApiError&gt; handleMethodNotSupportedException(Exception e, HttpServletRequest request) {\r\n\r\n        ApiError apiError = new ApiError(\r\n                request.getRequestURI(),\r\n                e.getMessage(),\r\n                HttpStatus.BAD_REQUEST.value(),\r\n                LocalDateTime.now()\r\n        );\r\n\r\n        return new ResponseEntity&lt;&gt;(apiError, HttpStatus.BAD_REQUEST);\r\n    }\r\n\r\n    @ExceptionHandler(AccessDeniedException.class)\r\n    public ResponseEntity&lt;ApiError&gt; handleAccessDeniedException(Exception e, HttpServletRequest request) {\r\n\r\n        ApiError apiError = new ApiError(\r\n                request.getRequestURI(),\r\n                e.getMessage(),\r\n                HttpStatus.FORBIDDEN.value(),\r\n                LocalDateTime.now()\r\n        );\r\n\r\n        return new ResponseEntity&lt;&gt;(apiError, HttpStatus.FORBIDDEN);\r\n    }\r\n    @ExceptionHandler(EntityNotFoundException.class)\r\n    public ResponseEntity&lt;ApiError&gt; handleEntityNotFound(Exception e,\r\n                                                         HttpServletRequest request) {\r\n        ApiError apiError = new ApiError(\r\n                request.getRequestURI(),\r\n                e.getMessage(),\r\n                HttpStatus.NOT_FOUND.value(),\r\n                LocalDateTime.now()\r\n        );\r\n\r\n        return new ResponseEntity&lt;&gt;(apiError, HttpStatus.NOT_FOUND);\r\n    }\r\n\r\n    @ExceptionHandler(IllegalArgumentException.class)\r\n    public ResponseEntity&lt;ApiError&gt; handleIllegalArgument(Exception e,\r\n                                                          HttpServletRequest request) {\r\n\r\n        ApiError apiError = new ApiError(\r\n                request.getRequestURI(),\r\n                e.getMessage(),\r\n                HttpStatus.BAD_REQUEST.value(),\r\n                LocalDateTime.now()\r\n        );\r\n\r\n        return new ResponseEntity&lt;&gt;(apiError, HttpStatus.BAD_REQUEST);\r\n    }\r\n}\r\n```\r\n\r\nApiError.class:\r\n```\r\npublic record ApiError(\r\n        String path,\r\n        String message,\r\n        int statusCode,\r\n        LocalDateTime date\r\n) {\r\n}\r\n```\r\n\r\nI am trying to intercept exception thrown by ```@PreAuthorize``` method. Despite declared exception handler for it, it is not intercepted by ```@ExceptionHandler```. I&#39;ve tried to display logs about unsuccessful request.\r\n\r\nLogs:\r\n```\r\n2023-08-03T15:05:56.895+02:00 DEBUG 22212 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured PATCH /api/v1/projects/3/volunteers/1\r\n2023-08-03T15:05:56.897+02:00 DEBUG 22212 --- [nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.demo.Controller.ProjectController.addVolunteerToProject(java.lang.Long,java.lang.Long,com.example.demo.Objects.CustomUserDetails); target is of class [com.example.demo.Controller.ProjectController]\r\n2023-08-03T15:05:56.928+02:00 DEBUG 22212 --- [nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.demo.Controller.ProjectController.addVolunteerToProject(java.lang.Long,java.lang.Long,com.example.demo.Objects.CustomUserDetails); target is of class [com.example.demo.Controller.ProjectController] with authorization manager org.springframework.security.config.annotation.method.configuration.DeferringObservationAuthorizationManager@3ba2dc24 and decision ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAuthority(&#39;AUTHORITY_ADMIN&#39;)]\r\n2023-08-03T15:05:56.930+02:00 DEBUG 22212 --- [nio-8080-exec-7] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code\r\n2023-08-03T15:05:56.932+02:00 DEBUG 22212 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing PATCH /error\r\n2023-08-03T15:05:56.933+02:00 DEBUG 22212 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n2023-08-03T15:05:56.933+02:00 DEBUG 22212 --- [nio-8080-exec-7] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access\r\n```\r\n\r\nAs we could see, some class called ```AccessDeniedHandlerImpl``` already handles this request, making ```@ExceptionHandler``` unable to do it. I have no such class in my project, nor my security class implements it or declares it.\r\n\r\nSecurity configuration:\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableMethodSecurity\r\npublic class SecurityConfig {\r\n    @Autowired\r\n    private UserDetailsCustomImpl userDetailsService;\r\n\r\n    @Autowired\r\n    private AuthenticationProvider authenticationProvider;\r\n\r\n    @Autowired\r\n    private JwtFilter jwtFilter;\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityfilterChain(HttpSecurity http) throws Exception {\r\n\r\n        http.csrf((csrf) -&gt; {\r\n                    csrf.ignoringRequestMatchers(\r\n                            AntPathRequestMatcher.antMatcher(&quot;/h2-console/**&quot;));\r\n                    csrf.disable();\r\n                }\r\n        );\r\n        http.headers((headers) -&gt; {\r\n            headers.frameOptions((frameOption) -&gt; frameOption.disable());\r\n        });\r\n        http\r\n                .authorizeHttpRequests(auth -&gt; auth\r\n                        .requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/h2-console/**&quot;),\r\n                                AntPathRequestMatcher.antMatcher(&quot;/api/v1/auth/**&quot;)).permitAll()\r\n                        .anyRequest().authenticated())\r\n                .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n                .authenticationProvider(authenticationProvider)\r\n                .addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class);\r\n\r\n        return http.build();\r\n    }\r\n\r\n    public void configureAuthentication(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(userDetailsService);\r\n    }\r\n\r\n    public void configureIgnores(WebSecurity web) {\r\n        web\r\n                .ignoring()\r\n                .requestMatchers(&quot;/h2-console/**&quot;);\r\n    }\r\n}\r\n```","title":"AccessDeniedException not caught by @ExceptionHandler","body":"<p>I have exception handler like this:</p>\n<pre><code>@RestControllerAdvice\npublic class GlobalExceptionHandler {\n\n    @ExceptionHandler(BadCredentialsException.class)\n    public ResponseEntity&lt;ApiError&gt; handleBadCredentials(Exception e, HttpServletRequest request) {\n\n        ApiError apiError = new ApiError(\n                request.getRequestURI(),\n                e.getMessage(),\n                HttpStatus.BAD_REQUEST.value(),\n                LocalDateTime.now()\n        );\n\n        return new ResponseEntity&lt;&gt;(apiError, HttpStatus.BAD_REQUEST);\n    }\n\n    @ExceptionHandler(HttpRequestMethodNotSupportedException.class)\n    public ResponseEntity&lt;ApiError&gt; handleMethodNotSupportedException(Exception e, HttpServletRequest request) {\n\n        ApiError apiError = new ApiError(\n                request.getRequestURI(),\n                e.getMessage(),\n                HttpStatus.BAD_REQUEST.value(),\n                LocalDateTime.now()\n        );\n\n        return new ResponseEntity&lt;&gt;(apiError, HttpStatus.BAD_REQUEST);\n    }\n\n    @ExceptionHandler(AccessDeniedException.class)\n    public ResponseEntity&lt;ApiError&gt; handleAccessDeniedException(Exception e, HttpServletRequest request) {\n\n        ApiError apiError = new ApiError(\n                request.getRequestURI(),\n                e.getMessage(),\n                HttpStatus.FORBIDDEN.value(),\n                LocalDateTime.now()\n        );\n\n        return new ResponseEntity&lt;&gt;(apiError, HttpStatus.FORBIDDEN);\n    }\n    @ExceptionHandler(EntityNotFoundException.class)\n    public ResponseEntity&lt;ApiError&gt; handleEntityNotFound(Exception e,\n                                                         HttpServletRequest request) {\n        ApiError apiError = new ApiError(\n                request.getRequestURI(),\n                e.getMessage(),\n                HttpStatus.NOT_FOUND.value(),\n                LocalDateTime.now()\n        );\n\n        return new ResponseEntity&lt;&gt;(apiError, HttpStatus.NOT_FOUND);\n    }\n\n    @ExceptionHandler(IllegalArgumentException.class)\n    public ResponseEntity&lt;ApiError&gt; handleIllegalArgument(Exception e,\n                                                          HttpServletRequest request) {\n\n        ApiError apiError = new ApiError(\n                request.getRequestURI(),\n                e.getMessage(),\n                HttpStatus.BAD_REQUEST.value(),\n                LocalDateTime.now()\n        );\n\n        return new ResponseEntity&lt;&gt;(apiError, HttpStatus.BAD_REQUEST);\n    }\n}\n</code></pre>\n<p>ApiError.class:</p>\n<pre><code>public record ApiError(\n        String path,\n        String message,\n        int statusCode,\n        LocalDateTime date\n) {\n}\n</code></pre>\n<p>I am trying to intercept exception thrown by <code>@PreAuthorize</code> method. Despite declared exception handler for it, it is not intercepted by <code>@ExceptionHandler</code>. I've tried to display logs about unsuccessful request.</p>\n<p>Logs:</p>\n<pre><code>2023-08-03T15:05:56.895+02:00 DEBUG 22212 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured PATCH /api/v1/projects/3/volunteers/1\n2023-08-03T15:05:56.897+02:00 DEBUG 22212 --- [nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.demo.Controller.ProjectController.addVolunteerToProject(java.lang.Long,java.lang.Long,com.example.demo.Objects.CustomUserDetails); target is of class [com.example.demo.Controller.ProjectController]\n2023-08-03T15:05:56.928+02:00 DEBUG 22212 --- [nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.demo.Controller.ProjectController.addVolunteerToProject(java.lang.Long,java.lang.Long,com.example.demo.Objects.CustomUserDetails); target is of class [com.example.demo.Controller.ProjectController] with authorization manager org.springframework.security.config.annotation.method.configuration.DeferringObservationAuthorizationManager@3ba2dc24 and decision ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAuthority('AUTHORITY_ADMIN')]\n2023-08-03T15:05:56.930+02:00 DEBUG 22212 --- [nio-8080-exec-7] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code\n2023-08-03T15:05:56.932+02:00 DEBUG 22212 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing PATCH /error\n2023-08-03T15:05:56.933+02:00 DEBUG 22212 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-08-03T15:05:56.933+02:00 DEBUG 22212 --- [nio-8080-exec-7] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access\n</code></pre>\n<p>As we could see, some class called <code>AccessDeniedHandlerImpl</code> already handles this request, making <code>@ExceptionHandler</code> unable to do it. I have no such class in my project, nor my security class implements it or declares it.</p>\n<p>Security configuration:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableMethodSecurity\npublic class SecurityConfig {\n    @Autowired\n    private UserDetailsCustomImpl userDetailsService;\n\n    @Autowired\n    private AuthenticationProvider authenticationProvider;\n\n    @Autowired\n    private JwtFilter jwtFilter;\n\n    @Bean\n    public SecurityFilterChain securityfilterChain(HttpSecurity http) throws Exception {\n\n        http.csrf((csrf) -&gt; {\n                    csrf.ignoringRequestMatchers(\n                            AntPathRequestMatcher.antMatcher(&quot;/h2-console/**&quot;));\n                    csrf.disable();\n                }\n        );\n        http.headers((headers) -&gt; {\n            headers.frameOptions((frameOption) -&gt; frameOption.disable());\n        });\n        http\n                .authorizeHttpRequests(auth -&gt; auth\n                        .requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/h2-console/**&quot;),\n                                AntPathRequestMatcher.antMatcher(&quot;/api/v1/auth/**&quot;)).permitAll()\n                        .anyRequest().authenticated())\n                .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n                .authenticationProvider(authenticationProvider)\n                .addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class);\n\n        return http.build();\n    }\n\n    public void configureAuthentication(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userDetailsService);\n    }\n\n    public void configureIgnores(WebSecurity web) {\n        web\n                .ignoring()\n                .requestMatchers(&quot;/h2-console/**&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","postgresql","liquibase"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1691068266,"post_id":76828397,"comment_id":135443596,"body_markdown":"What&#39;s the table declaration?","body":"What&#39;s the table declaration?"},{"owner":{"account_id":28717387,"reputation":11,"user_id":21991741,"display_name":"Andor P&#225;l"},"score":0,"creation_date":1691068663,"post_id":76828397,"comment_id":135443685,"body_markdown":"Added it to the post.","body":"Added it to the post."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1691069020,"post_id":76828397,"comment_id":135443752,"body_markdown":"Try `&lt;column name=&quot;search_terms&quot; header=&quot;search_terms&quot;  type=&quot;string&quot;/&gt;`","body":"Try <code>&lt;column name=&quot;search_terms&quot; header=&quot;search_terms&quot;  type=&quot;string&quot;&#47;&gt;</code>"},{"owner":{"account_id":28717387,"reputation":11,"user_id":21991741,"display_name":"Andor P&#225;l"},"score":0,"creation_date":1691069388,"post_id":76828397,"comment_id":135443854,"body_markdown":"Waoo, it solved it. Thank you very much. Any explanation why was it necessary? I have other tables with the same situation and they produced no error.","body":"Waoo, it solved it. Thank you very much. Any explanation why was it necessary? I have other tables with the same situation and they produced no error."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1691097519,"post_id":76828397,"comment_id":135449695,"body_markdown":"Does this answer your question? [Liquibase loadData as string, not CLOB resource](https://stackoverflow.com/questions/51469751/liquibase-loaddata-as-string-not-clob-resource)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/51469751/liquibase-loaddata-as-string-not-clob-resource\">Liquibase loadData as string, not CLOB resource</a>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1691097550,"post_id":76828397,"comment_id":135449699,"body_markdown":"Not exactly. They have `text` columns too?","body":"Not exactly. They have <code>text</code> columns too?"},{"owner":{"account_id":28717387,"reputation":11,"user_id":21991741,"display_name":"Andor P&#225;l"},"score":0,"creation_date":1691143624,"post_id":76828397,"comment_id":135455128,"body_markdown":"Yes, it solved it.","body":"Yes, it solved it."}],"owner":{"account_id":28717387,"reputation":11,"user_id":21991741,"display_name":"Andor P&#225;l"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691068632,"creation_date":1691067986,"question_id":76828397,"body_markdown":"I try to load some data from csv file to the DB.\r\n\r\n```\r\n    &lt;changeSet id=&quot;Load data from CSV file Service&quot; author=&quot;apal&quot; &gt;\r\n        &lt;loadData tableName=&quot;service&quot; file=&quot;liquibase/data/services.csv&quot;  &gt;\r\n            &lt;column name=&quot;id&quot; header=&quot;id&quot; /&gt;\r\n            &lt;column name=&quot;fk_category_id&quot; header=&quot;category_id&quot;/&gt;\r\n            &lt;column name=&quot;name&quot; header=&quot;name&quot; /&gt;\r\n            &lt;column name=&quot;search_terms&quot; header=&quot;search_terms&quot; /&gt;\r\n        &lt;/loadData&gt;\r\n    &lt;/changeSet&gt;\r\n```\r\n```\r\n&lt;databaseChangeLog\r\n        xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog\r\n   http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.4.xsd&quot;&gt;\r\n\r\n    &lt;changeSet id=&quot;create_service&quot; author=&quot;apal&quot;&gt;\r\n        &lt;createTable tableName=&quot;service&quot;&gt;\r\n            &lt;column name=&quot;id&quot; type=&quot;bigint&quot; autoIncrement=&quot;true&quot;&gt;\r\n                &lt;constraints primaryKey=&quot;true&quot;/&gt;\r\n            &lt;/column&gt;\r\n            &lt;column name=&quot;name&quot; type=&quot;varchar(255)&quot;/&gt;\r\n            &lt;column name=&quot;fk_category_id&quot; type=&quot;bigint&quot;/&gt;\r\n            &lt;column name=&quot;search_terms&quot; type=&quot;text&quot;/&gt;\r\n        &lt;/createTable&gt;\r\n    &lt;/changeSet&gt;\r\n    &lt;changeSet id=&quot;adding_constraints_company_service_mapping&quot; author=&quot;apal&quot;&gt;\r\n        &lt;addForeignKeyConstraint baseTableName=&quot;service&quot; baseColumnNames=&quot;fk_category_id&quot;\r\n                                 constraintName=&quot;fk_category_id&quot;\r\n                                 referencedTableName=&quot;category&quot;\r\n                                 referencedColumnNames=&quot;id&quot;\r\n                                 onDelete=&quot;CASCADE&quot;\r\n                                 onUpdate=&quot;RESTRICT&quot;/&gt;\r\n\r\n    &lt;/changeSet&gt;\r\n&lt;/databaseChangeLog&gt;\r\n```\r\n[Files](https://i.stack.imgur.com/iAuTO.png)\r\n[CSV file](https://i.stack.imgur.com/kmMQR.png)\r\nIt finds the file because i get this error: \r\n&gt; Caused by: liquibase.exception.MigrationFailedException: Migration failed for changeset liquibase/data/data.xml::Load data from CSV file Service::apal:\r\n     Reason: liquibase.exception.DatabaseException: The file liquibase/data/sz&#225;mlakezel&#233;s K&#246;nyvelő K&#246;nyvelő szolg&#225;ltat&#225;s K&#246;nyvelői szolg&#225;ltat&#225;sok Professzion&#225;lis k&#246;nyvelő V&#225;llalkoz&#225;s k&#246;nyvel&#233;se Ad&#243;tan&#225;csad&#225;s P&#233;nz&#252;gyi szakember &#220;zleti k&#246;nyvel&#233;s K&#246;nyvel&#233;si tan&#225;csad&#225;s K&#246;nyvelői szolg&#225;ltat&#225;sok CECCAR SAGA PFA k&#246;nyvel&#233;s SRL k&#246;nyvel&#233;s TVA was not found in the configured search path:\r\n    - Spring classpath\r\nMore locations can be added with the &#39;searchPath&#39; parameter.\r\n\r\n\r\nIn the error message after &#39;The file liquibase/data/&#39;... is data from the first row , fourth column. Any ideas ? Ty.\r\n","title":"Liquibase finds the file but i still get not found exception","body":"<p>I try to load some data from csv file to the DB.</p>\n<pre><code>    &lt;changeSet id=&quot;Load data from CSV file Service&quot; author=&quot;apal&quot; &gt;\n        &lt;loadData tableName=&quot;service&quot; file=&quot;liquibase/data/services.csv&quot;  &gt;\n            &lt;column name=&quot;id&quot; header=&quot;id&quot; /&gt;\n            &lt;column name=&quot;fk_category_id&quot; header=&quot;category_id&quot;/&gt;\n            &lt;column name=&quot;name&quot; header=&quot;name&quot; /&gt;\n            &lt;column name=&quot;search_terms&quot; header=&quot;search_terms&quot; /&gt;\n        &lt;/loadData&gt;\n    &lt;/changeSet&gt;\n</code></pre>\n<pre><code>&lt;databaseChangeLog\n        xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot;\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog\n   http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.4.xsd&quot;&gt;\n\n    &lt;changeSet id=&quot;create_service&quot; author=&quot;apal&quot;&gt;\n        &lt;createTable tableName=&quot;service&quot;&gt;\n            &lt;column name=&quot;id&quot; type=&quot;bigint&quot; autoIncrement=&quot;true&quot;&gt;\n                &lt;constraints primaryKey=&quot;true&quot;/&gt;\n            &lt;/column&gt;\n            &lt;column name=&quot;name&quot; type=&quot;varchar(255)&quot;/&gt;\n            &lt;column name=&quot;fk_category_id&quot; type=&quot;bigint&quot;/&gt;\n            &lt;column name=&quot;search_terms&quot; type=&quot;text&quot;/&gt;\n        &lt;/createTable&gt;\n    &lt;/changeSet&gt;\n    &lt;changeSet id=&quot;adding_constraints_company_service_mapping&quot; author=&quot;apal&quot;&gt;\n        &lt;addForeignKeyConstraint baseTableName=&quot;service&quot; baseColumnNames=&quot;fk_category_id&quot;\n                                 constraintName=&quot;fk_category_id&quot;\n                                 referencedTableName=&quot;category&quot;\n                                 referencedColumnNames=&quot;id&quot;\n                                 onDelete=&quot;CASCADE&quot;\n                                 onUpdate=&quot;RESTRICT&quot;/&gt;\n\n    &lt;/changeSet&gt;\n&lt;/databaseChangeLog&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/iAuTO.png\" rel=\"nofollow noreferrer\">Files</a>\n<a href=\"https://i.stack.imgur.com/kmMQR.png\" rel=\"nofollow noreferrer\">CSV file</a>\nIt finds the file because i get this error:</p>\n<blockquote>\n<p>Caused by: liquibase.exception.MigrationFailedException: Migration failed for changeset liquibase/data/data.xml::Load data from CSV file Service::apal:\nReason: liquibase.exception.DatabaseException: The file liquibase/data/számlakezelés Könyvelő Könyvelő szolgáltatás Könyvelői szolgáltatások Professzionális könyvelő Vállalkozás könyvelése Adótanácsadás Pénzügyi szakember Üzleti könyvelés Könyvelési tanácsadás Könyvelői szolgáltatások CECCAR SAGA PFA könyvelés SRL könyvelés TVA was not found in the configured search path:\n- Spring classpath\nMore locations can be added with the 'searchPath' parameter.</p>\n</blockquote>\n<p>In the error message after 'The file liquibase/data/'... is data from the first row , fourth column. Any ideas ? Ty.</p>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690900825,"post_id":76812578,"comment_id":135415857,"body_markdown":"Please add your full class... Looks like you are missing imports. Another thing to try is to purge your repository `mvn dependency:purge-local-repository` which will remove the jars from the repository. Then try to build again. Also make sure that your project is imported properly as a maven project.","body":"Please add your full class... Looks like you are missing imports. Another thing to try is to purge your repository <code>mvn dependency:purge-local-repository</code> which will remove the jars from the repository. Then try to build again. Also make sure that your project is imported properly as a maven project."},{"owner":{"account_id":19820563,"reputation":1,"user_id":14517243,"display_name":"IeatBread"},"score":0,"creation_date":1690957785,"post_id":76812578,"comment_id":135423350,"body_markdown":"Thanks for the help :). Not sure what fixed it but, here&#39;s what I did:\n1. Changed the project folder to another drive\n2. Downloaded, installed Maven and added into environment variable and PATH.\n3. Ran intellij in Admin mode.","body":"Thanks for the help :). Not sure what fixed it but, here&#39;s what I did: 1. Changed the project folder to another drive 2. Downloaded, installed Maven and added into environment variable and PATH. 3. Ran intellij in Admin mode."}],"owner":{"account_id":19820563,"reputation":1,"user_id":14517243,"display_name":"IeatBread"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691068239,"creation_date":1690899489,"question_id":76812578,"body_markdown":"Was following this tutorial: https://www.youtube.com/watch?v=5PdEmeopJVQ&amp;t=1832s\r\n\r\nGot the following errors while running build:\r\n\r\n[I&#39;ve replace person info with &lt;&gt;]\r\n\r\n    C:\\Users\\&lt;&gt;\\Desktop\\Movie_App\\movies\\movies\\src\\main\\java\\dev\\&lt;&gt;\\movies\\MoviesApplication.java:3:32\r\n    java: package org.springframework.boot does not exist\r\n\r\n    C:\\Users\\&lt;&gt;\\Desktop\\Movie_App\\movies\\movies\\src\\main\\java\\dev\\&lt;&gt;\\movies\\MoviesApplication.java:4:46\r\n    java: package org.springframework.boot.autoconfigure does not exist\r\n    C:\\Users\\&lt;&gt;\\Desktop\\Movie_App\\movies\\movies\\src\\main\\java\\dev\\&lt;&gt;\\movies\\MoviesApplication.java:6:2\r\n    java: cannot find symbol\r\n      symbol: class SpringBootApplication\r\n    C:\\Users\\&lt;&gt;\\Desktop\\Movie_App\\movies\\movies\\src\\main\\java\\dev\\&lt;&gt;\\movies\\MoviesApplication.java:10:9\r\n    java: cannot find symbol\r\n      symbol:   variable SpringApplication\r\n      location: class dev.&lt;&gt;.movies.MoviesApplication\r\n\r\n\r\n----------------------------------------------------------------------------------------\r\nHere is my pom.xml\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;dev.&lt;&gt;&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;movies&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;movies&lt;/name&gt;\r\n\t&lt;description&gt;A simple APIs related to movies&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n----------------------------------------------------------------------------------------\r\n\r\n\r\nThings I&#39;ve tried:\r\n1. Ensuring &quot;Target bytecode version is 17&quot; in build,Execution,Deployment-&gt;Java Compiler -&gt; Module.\r\n2. I&#39;ve tried reloading all maven project using the Maven side tab.\r\n3. I&#39;ve made sure the jdk being used is 17 version.\r\n","title":"Build failure: java: package org.springframework.boot does not exist","body":"<p>Was following this tutorial: <a href=\"https://www.youtube.com/watch?v=5PdEmeopJVQ&amp;t=1832s\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=5PdEmeopJVQ&amp;t=1832s</a></p>\n<p>Got the following errors while running build:</p>\n<p>[I've replace person info with &lt;&gt;]</p>\n<pre><code>C:\\Users\\&lt;&gt;\\Desktop\\Movie_App\\movies\\movies\\src\\main\\java\\dev\\&lt;&gt;\\movies\\MoviesApplication.java:3:32\njava: package org.springframework.boot does not exist\n\nC:\\Users\\&lt;&gt;\\Desktop\\Movie_App\\movies\\movies\\src\\main\\java\\dev\\&lt;&gt;\\movies\\MoviesApplication.java:4:46\njava: package org.springframework.boot.autoconfigure does not exist\nC:\\Users\\&lt;&gt;\\Desktop\\Movie_App\\movies\\movies\\src\\main\\java\\dev\\&lt;&gt;\\movies\\MoviesApplication.java:6:2\njava: cannot find symbol\n  symbol: class SpringBootApplication\nC:\\Users\\&lt;&gt;\\Desktop\\Movie_App\\movies\\movies\\src\\main\\java\\dev\\&lt;&gt;\\movies\\MoviesApplication.java:10:9\njava: cannot find symbol\n  symbol:   variable SpringApplication\n  location: class dev.&lt;&gt;.movies.MoviesApplication\n</code></pre>\n<hr />\n<p>Here is my pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;dev.&lt;&gt;&lt;/groupId&gt;\n    &lt;artifactId&gt;movies&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;movies&lt;/name&gt;\n    &lt;description&gt;A simple APIs related to movies&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<hr />\n<p>Things I've tried:</p>\n<ol>\n<li>Ensuring &quot;Target bytecode version is 17&quot; in build,Execution,Deployment-&gt;Java Compiler -&gt; Module.</li>\n<li>I've tried reloading all maven project using the Maven side tab.</li>\n<li>I've made sure the jdk being used is 17 version.</li>\n</ol>\n"},{"tags":["java","inheritance"],"comments":[{"owner":{"account_id":1672011,"reputation":1318,"user_id":1538311,"display_name":"evg"},"score":2,"creation_date":1344371074,"post_id":11853504,"comment_id":15765947,"body_markdown":"B extends A* - otherwise compilation error","body":"B extends A* - otherwise compilation error"},{"owner":{"account_id":946167,"reputation":8733,"user_id":973391,"accept_rate":41,"display_name":"Phoenix"},"score":0,"creation_date":1344371118,"post_id":11853504,"comment_id":15765974,"body_markdown":"Yes. Haven&#39;t typed all of it here.","body":"Yes. Haven&#39;t typed all of it here."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1344370985,"creation_date":1344370985,"answer_id":11853539,"question_id":11853504,"body_markdown":"In *this* situation, it doesn&#39;t make any difference. However, as soon as you change to methods instead of variables, and introduce another method in `B` which shadows the one in `A`, *then* it makes a difference:\r\n\r\n    class A { \r\n        protected int a = 15; \r\n    }\r\n\r\n    class B extends A { \r\n        private int a = 10;\r\n\r\n        public void printA() {\r\n           System.out.println(super.a); // prints 15\r\n           System.out.println(this.a); // prints 10\r\n        }\r\n    }\r\n\r\nThis is more common with methods than with fields though - often an overriding implementation needs to call the superclass implementation as part of its implementation:\r\n\r\n    public void foo() {\r\n        super.foo();\r\n        // Now do something else\r\n    }\r\n\r\nI would personally recommend *avoiding* non-private fields, at which point the field part becomes irrelevant.\r\n\r\nSee [section 6.4.1 of the JLS][1] for more on shadowing.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-6.html#jls-6.4.1","title":"Accessing properties in a super class using super or this in the subclass?","body":"<p>In <em>this</em> situation, it doesn't make any difference. However, as soon as you change to methods instead of variables, and introduce another method in <code>B</code> which shadows the one in <code>A</code>, <em>then</em> it makes a difference:</p>\n\n<pre><code>class A { \n    protected int a = 15; \n}\n\nclass B extends A { \n    private int a = 10;\n\n    public void printA() {\n       System.out.println(super.a); // prints 15\n       System.out.println(this.a); // prints 10\n    }\n}\n</code></pre>\n\n<p>This is more common with methods than with fields though - often an overriding implementation needs to call the superclass implementation as part of its implementation:</p>\n\n<pre><code>public void foo() {\n    super.foo();\n    // Now do something else\n}\n</code></pre>\n\n<p>I would personally recommend <em>avoiding</em> non-private fields, at which point the field part becomes irrelevant.</p>\n\n<p>See <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-6.html#jls-6.4.1\" rel=\"noreferrer\">section 6.4.1 of the JLS</a> for more on shadowing.</p>\n"}],"owner":{"account_id":946167,"reputation":8733,"user_id":973391,"accept_rate":41,"display_name":"Phoenix"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4736,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":11853539,"answer_count":1,"score":2,"last_activity_date":1691068172,"creation_date":1344370846,"question_id":11853504,"body_markdown":"In terms of values for properties defined in the super class using the same property in the sub-class and the property is defined as protected, then using `super` or `this` does not make any difference right? **Then why does the language really have these ways of accessing the properties?** Is there a scenario where they will have different values?\r\n\r\n```java\r\nclass A {\r\n    protected int a = 15; \r\n}\r\n        \r\nclass B extends A { \r\n    public void printA() {\r\n        System.out.print(super.a) // prints 15\r\n        System.out.print(this.a) // prints 15\r\n    }\r\n}\r\n```","title":"Accessing properties in a super class using super or this in the subclass?","body":"<p>In terms of values for properties defined in the super class using the same property in the sub-class and the property is defined as protected, then using <code>super</code> or <code>this</code> does not make any difference right? <strong>Then why does the language really have these ways of accessing the properties?</strong> Is there a scenario where they will have different values?</p>\n<pre class=\"lang-java prettyprint-override\"><code>class A {\n    protected int a = 15; \n}\n        \nclass B extends A { \n    public void printA() {\n        System.out.print(super.a) // prints 15\n        System.out.print(this.a) // prints 15\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium-webdriver","serenity-bdd"],"answers":[{"tags":[],"owner":{"account_id":11068703,"reputation":464,"user_id":8127672,"accept_rate":100,"display_name":"JavaMan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691067861,"creation_date":1691067861,"answer_id":76828381,"question_id":76824550,"body_markdown":"The issue with the firefox browser resolved by removing the geckodriver from /usr/local/bin/geckodriver.\r\n\r\nThe issue with safari browser resolved once Allow Remote Automation enabled from the develop menu","title":"Unable to launch Selenium Serenity tests on Firefox or Safari due to net.thucydides.core.webdriver.DriverConfigurationError","body":"<p>The issue with the firefox browser resolved by removing the geckodriver from /usr/local/bin/geckodriver.</p>\n<p>The issue with safari browser resolved once Allow Remote Automation enabled from the develop menu</p>\n"}],"owner":{"account_id":11068703,"reputation":464,"user_id":8127672,"accept_rate":100,"display_name":"JavaMan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76828381,"answer_count":1,"score":0,"last_activity_date":1691067861,"creation_date":1691029256,"question_id":76824550,"body_markdown":"I am trying to launch Serenity Selenium tests on firefox and safari. The tests works with Chrrome however, when launched using firefox I notice error - net.thucydides.core.webdriver.DriverConfigurationError: WebDriver was unable to create a new instance of type class org.openqa.selenium.firefox.FirefoxDriver.\r\n\r\nSample code:\r\n\r\n    @Test\r\n    public void shouldDisplayHighlightedProductsOnTheWelcomePage() {\r\n        login.as(User.STANDARD_USER);\r\n    \r\n        List&lt;String&gt; productsOnDisplay = productList.titles();\r\n    \r\n        assertThat(productsOnDisplay).hasSize(6)\r\n                .contains(&quot;Sauce Labs Backpack&quot;);\r\n    }\r\n    \r\n    serenity.conf looks like this:\r\n    \r\n        serenity.test.root=serenityswag\r\n        webdriver.driver=firefox\r\n        serenity.take.screenshots=BEFORE_AND_AFTER_EACH_STEP\r\n        serenity.browser.maximized = true\r\n    \r\nLoginactions.java looks like this:\r\n\r\n    public class LoginActions extends UIInteractionSteps {\r\n        @Step(&quot;Log in as {0}&quot;)\r\n        public void as(User user) {\r\n            openUrl(&quot;https://www.saucedemo.com/&quot;);\r\n    \r\n            // Login as a standard user\r\n            $(&quot;[data-test=&#39;username&#39;]&quot;).sendKeys(user.getUsername());\r\n            $(&quot;[data-test=&#39;password&#39;]&quot;).sendKeys(user.getPassword());\r\n            $(&quot;[data-test=&#39;login-button&#39;]&quot;).click();\r\n        }\r\n    \r\n    The error I see is following:\r\n    \r\n        net.thucydides.core.webdriver.DriverConfigurationError: WebDriver was unable to create a new instance of type class org.openqa.selenium.firefox.FirefoxDriver\r\n        WebDriver reported the following message: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.\r\n        See below for more details.\r\n        \r\n        \tat serenityswag.authentication.actions.LoginActions.as(LoginActions.java:10)\r\n        \tat serenityswag.inventory.WhenViewingHighlightedProducts.shouldDisplayHighlightedProductsOnTheWelcomePage(WhenViewingHighlightedProducts.java:32)\r\n        \r\n        07:39:39.688 [main] ERROR  - \r\n          _____   ___   ___   _____     ___   ___   ___    ___    ___ \r\n         |_   _| | __| / __| |_   _|   | __| | _ \\ | _ \\  / _ \\  | _ \\\r\n           | |   | _|  \\__ \\   | |     | _|  |   / |   / | (_) | |   /\r\n           |_|   |___| |___/   |_|     |___| |_|_\\ |_|_\\  \\___/  |_|_\\\r\n        \r\n        Should display highlighted products on the welcome page\r\n        ---------------------------------------------------------------\r\n        07:39:39.691 [main] DEBUG  - RELATED ISSUES: \r\n        07:39:39.760 [main] ERROR  -     Test failed at step: Log in as a standard user\r\n        07:39:39.760 [main] ERROR  -     Could not instantiate class org.openqa.selenium.firefox.FirefoxDriver\r\n","title":"Unable to launch Selenium Serenity tests on Firefox or Safari due to net.thucydides.core.webdriver.DriverConfigurationError","body":"<p>I am trying to launch Serenity Selenium tests on firefox and safari. The tests works with Chrrome however, when launched using firefox I notice error - net.thucydides.core.webdriver.DriverConfigurationError: WebDriver was unable to create a new instance of type class org.openqa.selenium.firefox.FirefoxDriver.</p>\n<p>Sample code:</p>\n<pre><code>@Test\npublic void shouldDisplayHighlightedProductsOnTheWelcomePage() {\n    login.as(User.STANDARD_USER);\n\n    List&lt;String&gt; productsOnDisplay = productList.titles();\n\n    assertThat(productsOnDisplay).hasSize(6)\n            .contains(&quot;Sauce Labs Backpack&quot;);\n}\n\nserenity.conf looks like this:\n\n    serenity.test.root=serenityswag\n    webdriver.driver=firefox\n    serenity.take.screenshots=BEFORE_AND_AFTER_EACH_STEP\n    serenity.browser.maximized = true\n</code></pre>\n<p>Loginactions.java looks like this:</p>\n<pre><code>public class LoginActions extends UIInteractionSteps {\n    @Step(&quot;Log in as {0}&quot;)\n    public void as(User user) {\n        openUrl(&quot;https://www.saucedemo.com/&quot;);\n\n        // Login as a standard user\n        $(&quot;[data-test='username']&quot;).sendKeys(user.getUsername());\n        $(&quot;[data-test='password']&quot;).sendKeys(user.getPassword());\n        $(&quot;[data-test='login-button']&quot;).click();\n    }\n\nThe error I see is following:\n\n    net.thucydides.core.webdriver.DriverConfigurationError: WebDriver was unable to create a new instance of type class org.openqa.selenium.firefox.FirefoxDriver\n    WebDriver reported the following message: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.\n    See below for more details.\n    \n        at serenityswag.authentication.actions.LoginActions.as(LoginActions.java:10)\n        at serenityswag.inventory.WhenViewingHighlightedProducts.shouldDisplayHighlightedProductsOnTheWelcomePage(WhenViewingHighlightedProducts.java:32)\n    \n    07:39:39.688 [main] ERROR  - \n      _____   ___   ___   _____     ___   ___   ___    ___    ___ \n     |_   _| | __| / __| |_   _|   | __| | _ \\ | _ \\  / _ \\  | _ \\\n       | |   | _|  \\__ \\   | |     | _|  |   / |   / | (_) | |   /\n       |_|   |___| |___/   |_|     |___| |_|_\\ |_|_\\  \\___/  |_|_\\\n    \n    Should display highlighted products on the welcome page\n    ---------------------------------------------------------------\n    07:39:39.691 [main] DEBUG  - RELATED ISSUES: \n    07:39:39.760 [main] ERROR  -     Test failed at step: Log in as a standard user\n    07:39:39.760 [main] ERROR  -     Could not instantiate class org.openqa.selenium.firefox.FirefoxDriver\n</code></pre>\n"},{"tags":["java","numbers"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":3,"creation_date":1364135590,"post_id":15599674,"comment_id":22121213,"body_markdown":"Your new question has nothing to do with the original one... Please decide what you want to ask for before posting.","body":"Your new question has nothing to do with the original one... Please decide what you want to ask for before posting."}],"answers":[{"tags":[],"owner":{"account_id":1920143,"reputation":7756,"user_id":1731862,"accept_rate":71,"display_name":"Ankur Shanbhag"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1364136101,"creation_date":1364136101,"answer_id":15599790,"question_id":15599674,"body_markdown":"Type casting is used to make object of one type assign to other without altering or parsing the contents of the object. While parseInt method parses the String values and converts it to integer value i.e. converts String value to integer.\r\n\r\nType casting has nothing to do with contents of the object. It is only used for assigning reference type of one type to another.\r\nEg : `Object obj = new String(&quot;&quot;); String string = (String) obj;`","title":"When to use Integer.parseint","body":"<p>Type casting is used to make object of one type assign to other without altering or parsing the contents of the object. While parseInt method parses the String values and converts it to integer value i.e. converts String value to integer.</p>\n\n<p>Type casting has nothing to do with contents of the object. It is only used for assigning reference type of one type to another.\nEg : <code>Object obj = new String(\"\"); String string = (String) obj;</code></p>\n"},{"tags":[],"owner":{"account_id":23488100,"reputation":1,"user_id":17539423,"display_name":"Sunil kumar"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1691067583,"creation_date":1652694781,"answer_id":72257300,"question_id":15599674,"body_markdown":"    // System.out.println(foos);\r\n    int foo = Integer.parseInt(&quot;45&quot;);\r\n    \r\n    foo+= 3;\r\n    System.out.println(foo);\r\n    int zoo = Integer.parseInt(&quot;4576876&quot;);\r\n    System.out.println(zoo);","title":"When to use Integer.parseint","body":"<pre><code>// System.out.println(foos);\nint foo = Integer.parseInt(&quot;45&quot;);\n\nfoo+= 3;\nSystem.out.println(foo);\nint zoo = Integer.parseInt(&quot;4576876&quot;);\nSystem.out.println(zoo);\n</code></pre>\n"}],"owner":{"account_id":2538149,"reputation":524,"user_id":2204672,"accept_rate":71,"display_name":"JAVA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5835,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":15599790,"answer_count":2,"score":2,"last_activity_date":1691067583,"creation_date":1364135314,"question_id":15599674,"body_markdown":"Why is Integer.parseint() used when we have type casting?\r\n\r\nMaybe another way to ask this question would be:\r\n\r\nWhen should Integer.parseint() be used over type casting?","title":"When to use Integer.parseint","body":"<p>Why is Integer.parseint() used when we have type casting?</p>\n\n<p>Maybe another way to ask this question would be:</p>\n\n<p>When should Integer.parseint() be used over type casting?</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":4108664,"reputation":80443,"user_id":3371862,"accept_rate":73,"display_name":"Renaud Tarnec"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664034396,"creation_date":1664034396,"answer_id":73838561,"question_id":73838519,"body_markdown":"As explained in the [doc][1], you should use the [`set()`][2] method of the [`DocumentReference`][3] Class.\r\n\r\n\r\n    db.collection(&quot;users&quot;)\r\n            .document(&quot;theIDYouWant&quot;)  // &lt;== Specify the Doc ID here\r\n            .set(user)\r\n            .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                @Override\r\n                public void onSuccess(Void aVoid) {\r\n                    Log.d(TAG, &quot;DocumentSnapshot successfully written!&quot;);\r\n                }\r\n            })\r\n            .addOnFailureListener(new OnFailureListener() {\r\n                @Override\r\n                public void onFailure(@NonNull Exception e) {\r\n                    Log.w(TAG, &quot;Error writing document&quot;, e);\r\n                }\r\n            });\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/firestore/manage-data/add-data#set_a_document\r\n  [2]: https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/DocumentReference#public-taskvoid-set-object-data\r\n  [3]: https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/DocumentReference","title":"How to add data with Custom ID to firestore?","body":"<p>As explained in the <a href=\"https://firebase.google.com/docs/firestore/manage-data/add-data#set_a_document\" rel=\"nofollow noreferrer\">doc</a>, you should use the <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/DocumentReference#public-taskvoid-set-object-data\" rel=\"nofollow noreferrer\"><code>set()</code></a> method of the <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/DocumentReference\" rel=\"nofollow noreferrer\"><code>DocumentReference</code></a> Class.</p>\n<pre><code>db.collection(&quot;users&quot;)\n        .document(&quot;theIDYouWant&quot;)  // &lt;== Specify the Doc ID here\n        .set(user)\n        .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n            @Override\n            public void onSuccess(Void aVoid) {\n                Log.d(TAG, &quot;DocumentSnapshot successfully written!&quot;);\n            }\n        })\n        .addOnFailureListener(new OnFailureListener() {\n            @Override\n            public void onFailure(@NonNull Exception e) {\n                Log.w(TAG, &quot;Error writing document&quot;, e);\n            }\n        });\n</code></pre>\n"}],"owner":{"account_id":19474831,"reputation":33,"user_id":14246404,"display_name":"Filayeng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1664035096,"accepted_answer_id":73838561,"answer_count":1,"score":1,"last_activity_date":1691066765,"creation_date":1664034048,"question_id":73838519,"body_markdown":"```\r\ndb.collection(&quot;users&quot;)\r\n                .add(user)\r\n                .addOnSuccessListener(new OnSuccessListener&lt;DocumentReference&gt;() {\r\n                    @Override\r\n                    public void onSuccess(DocumentReference documentReference) {\r\n                        Log.d(TAG, &quot;DocumentSnapshot added with ID: &quot; + documentReference.getId());\r\n                    }\r\n                })\r\n                .addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        Log.w(TAG, &quot;Error adding document&quot;, e);\r\n                    }\r\n                });\r\n```\r\n\r\n-Above code generates ID automatically.\r\n\r\nHow to add data with Custom ID to firestore ?\r\nMy purpose is to create a custom ID and write text data into this collection.\r\nCan,you help me ?\r\nThank you.","title":"How to add data with Custom ID to firestore?","body":"<pre><code>db.collection(&quot;users&quot;)\n                .add(user)\n                .addOnSuccessListener(new OnSuccessListener&lt;DocumentReference&gt;() {\n                    @Override\n                    public void onSuccess(DocumentReference documentReference) {\n                        Log.d(TAG, &quot;DocumentSnapshot added with ID: &quot; + documentReference.getId());\n                    }\n                })\n                .addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception e) {\n                        Log.w(TAG, &quot;Error adding document&quot;, e);\n                    }\n                });\n</code></pre>\n<p>-Above code generates ID automatically.</p>\n<p>How to add data with Custom ID to firestore ?\nMy purpose is to create a custom ID and write text data into this collection.\nCan,you help me ?\nThank you.</p>\n"},{"tags":["java","gradle","dependencies","cucumber"],"comments":[{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1691078942,"post_id":76827582,"comment_id":135446150,"body_markdown":"That course may be a bit old. Try starting with https://github.com/cucumber/cucumber-java-skeleton for a working project.","body":"That course may be a bit old. Try starting with <a href=\"https://github.com/cucumber/cucumber-java-skeleton\" rel=\"nofollow noreferrer\">github.com/cucumber/cucumber-java-skeleton</a> for a working project."}],"owner":{"account_id":28292142,"reputation":11,"user_id":21632099,"display_name":"carlos lopez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1691066694,"creation_date":1691061526,"question_id":76827582,"body_markdown":"Hello I am following a course about selenium and cucumber, I am trying to import the dependencies of cucumber for the creation of a runner class but intellij does not recognize the dependencies.\r\n\r\nthis is my `build.gradle`\r\n``` groovy\r\nplugins {\r\n    id &#39;java&#39;\r\n}\r\n\r\ngroup = &#39;org.example&#39;\r\nversion = &#39;1.0-SNAPSHOT&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    // https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java\r\n    implementation group: &#39;org.seleniumhq.selenium&#39;, name: &#39;selenium-java&#39;, version: &#39;4.11.0&#39;\r\n    implementation group: &#39;io.cucumber&#39;, name: &#39;cucumber-java&#39;, version: &#39;7.13.0&#39;\r\n    implementation &#39;junit:junit:4.13.1&#39;\r\n    testImplementation &#39;io.cucumber:cucumber-junit:7.13.0&#39;\r\n\r\n}\r\n\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n```\r\n\r\nand this is the code i&#39;m trying to \r\n\r\n\r\n``` java\r\nimport org.junit.runner.RunWith;\r\nimport cucumber.api.junit.Cucumber;\r\nimport cucumber.api.CucumberOptions;\r\n\r\n@RunWith(Cucumber.class)\r\n@CucumberOptions(\r\n        features = &quot;src/test/resources/features&quot;,\r\n        glue = &quot;steps&quot;\r\n)\r\npublic class Runner {\r\n}\r\n```\r\nthe IDE only gives me the option to search for jar on web but when i click it, it does nothing. [see thi screenshot](https://i.stack.imgur.com/8JPiN.png) \r\n\r\n\r\nHow do I import the dependencies correctly?","title":"trying to import cucumber","body":"<p>Hello I am following a course about selenium and cucumber, I am trying to import the dependencies of cucumber for the creation of a runner class but intellij does not recognize the dependencies.</p>\n<p>this is my <code>build.gradle</code></p>\n<pre><code>plugins {\n    id 'java'\n}\n\ngroup = 'org.example'\nversion = '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    // https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java\n    implementation group: 'org.seleniumhq.selenium', name: 'selenium-java', version: '4.11.0'\n    implementation group: 'io.cucumber', name: 'cucumber-java', version: '7.13.0'\n    implementation 'junit:junit:4.13.1'\n    testImplementation 'io.cucumber:cucumber-junit:7.13.0'\n\n}\n\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>and this is the code i'm trying to</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.runner.RunWith;\nimport cucumber.api.junit.Cucumber;\nimport cucumber.api.CucumberOptions;\n\n@RunWith(Cucumber.class)\n@CucumberOptions(\n        features = &quot;src/test/resources/features&quot;,\n        glue = &quot;steps&quot;\n)\npublic class Runner {\n}\n</code></pre>\n<p>the IDE only gives me the option to search for jar on web but when i click it, it does nothing. <a href=\"https://i.stack.imgur.com/8JPiN.png\" rel=\"nofollow noreferrer\">see thi screenshot</a></p>\n<p>How do I import the dependencies correctly?</p>\n"},{"tags":["java","sql","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":5300710,"reputation":269,"user_id":4230445,"display_name":"rahulP"},"score":0,"creation_date":1690868717,"post_id":76807579,"comment_id":135409147,"body_markdown":"Share you pom.xml as well. Does this help? https://stackoverflow.com/questions/28370940/orphanremoval-not-working-properly-in-hibernate-element-inserted-and-removed-f","body":"Share you pom.xml as well. Does this help? <a href=\"https://stackoverflow.com/questions/28370940/orphanremoval-not-working-properly-in-hibernate-element-inserted-and-removed-f\" title=\"orphanremoval not working properly in hibernate element inserted and removed f\">stackoverflow.com/questions/28370940/&hellip;</a>"},{"owner":{"account_id":24290263,"reputation":11,"user_id":18235420,"display_name":"momopoi"},"score":0,"creation_date":1690995817,"post_id":76807579,"comment_id":135431869,"body_markdown":"My pom.xml is generated my Spring initializer, so I don&#39;t think it can help. Nope, that question is different(((","body":"My pom.xml is generated my Spring initializer, so I don&#39;t think it can help. Nope, that question is different((("},{"owner":{"account_id":5300710,"reputation":269,"user_id":4230445,"display_name":"rahulP"},"score":0,"creation_date":1690996025,"post_id":76807579,"comment_id":135431905,"body_markdown":"Still please share it. Need to see your dependencies.","body":"Still please share it. Need to see your dependencies."},{"owner":{"account_id":24290263,"reputation":11,"user_id":18235420,"display_name":"momopoi"},"score":0,"creation_date":1691064419,"post_id":76807579,"comment_id":135442724,"body_markdown":"@rahulP I&#39;ve added pom.xml, if you need full pom.xml let me know","body":"@rahulP I&#39;ve added pom.xml, if you need full pom.xml let me know"},{"owner":{"account_id":5300710,"reputation":269,"user_id":4230445,"display_name":"rahulP"},"score":0,"creation_date":1691065186,"post_id":76807579,"comment_id":135442883,"body_markdown":"Need the version of these dependencies.","body":"Need the version of these dependencies."},{"owner":{"account_id":24290263,"reputation":11,"user_id":18235420,"display_name":"momopoi"},"score":0,"creation_date":1691072946,"post_id":76807579,"comment_id":135444768,"body_markdown":"@rahulP\n&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;","body":"@rahulP &lt;parent&gt;         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;         &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;         &lt;version&gt;3.1.1&lt;/version&gt;         &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;     &lt;/parent&gt;"},{"owner":{"account_id":5300710,"reputation":269,"user_id":4230445,"display_name":"rahulP"},"score":0,"creation_date":1691074345,"post_id":76807579,"comment_id":135445107,"body_markdown":"have you marked the method as @Transactional where you are doing the operation? If not, please mark it as transactional and try again.","body":"have you marked the method as @Transactional where you are doing the operation? If not, please mark it as transactional and try again."},{"owner":{"account_id":24290263,"reputation":11,"user_id":18235420,"display_name":"momopoi"},"score":0,"creation_date":1691076117,"post_id":76807579,"comment_id":135445506,"body_markdown":"@rahulP \nI&#39;ve marked and it works, thank you sooo much for your time and explanations)","body":"@rahulP  I&#39;ve marked and it works, thank you sooo much for your time and explanations)"}],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691065607,"creation_date":1691065240,"answer_id":76828016,"question_id":76807579,"body_markdown":"&gt; can anyone tell me why when I remove an entity object from a collection hibernate does not perform a DELETE operation even though I specified the orphanRemoval = true option?\r\n\r\nBecause that&#39;s not what `orphanRemoval` does.  Orphan removal is analogous to cascading deletes at the SQL level. It means that if the entity on the side of the relationship annotated with `orphanRemoval = true` is removed, then the entities orphaned by that removal -- the related ones on the other side of the relationship -- will automatically be removed too.\r\n\r\nJust severing the relationship does not trigger orphan removal, and you can&#39;t actually sever the relationship from the non-owning side anyway.  (At least, not by manipulating the relationship field on that end.)\r\n\r\nIf you want to delete an entity that is on the &quot;many&quot; side of a many-to-one relationship then just do that.  If you want to update the entity on the &quot;one&quot; side without refreshing it from the DB then do that, too.","title":"orphanRemoval doesn&#39;t work in JPA(Hibernate)","body":"<blockquote>\n<p>can anyone tell me why when I remove an entity object from a collection hibernate does not perform a DELETE operation even though I specified the orphanRemoval = true option?</p>\n</blockquote>\n<p>Because that's not what <code>orphanRemoval</code> does.  Orphan removal is analogous to cascading deletes at the SQL level. It means that if the entity on the side of the relationship annotated with <code>orphanRemoval = true</code> is removed, then the entities orphaned by that removal -- the related ones on the other side of the relationship -- will automatically be removed too.</p>\n<p>Just severing the relationship does not trigger orphan removal, and you can't actually sever the relationship from the non-owning side anyway.  (At least, not by manipulating the relationship field on that end.)</p>\n<p>If you want to delete an entity that is on the &quot;many&quot; side of a many-to-one relationship then just do that.  If you want to update the entity on the &quot;one&quot; side without refreshing it from the DB then do that, too.</p>\n"}],"owner":{"account_id":24290263,"reputation":11,"user_id":18235420,"display_name":"momopoi"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1691065607,"creation_date":1690844534,"question_id":76807579,"body_markdown":"can anyone tell me why when I remove an entity object from a collection hibernate does not perform a DELETE operation even though I specified the orphanRemoval = true option?\r\n\r\nI am using Spring boot with JPA/Hibernate, idk how it can can help, but I use PostgreSQL \r\n\r\ndo not beat for the quality of the code, this is just for example)\r\n\r\nSo here is code where I remove entity object from collection:\r\n\r\n```\r\nContent content = contentRepository.findById(1L).get();\r\nContentRating rating = content.getRatings().get(0);\r\n\r\ncontent.getRatings().remove(rating);\r\nrating.setContent(null);\r\n```\r\n\r\nHere is code of Content entity:\r\n\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\npublic class Content {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n\r\n    @OneToMany(\r\n            mappedBy = &quot;content&quot;,\r\n            cascade = CascadeType.ALL,\r\n            orphanRemoval = true\r\n    )\r\n    private List&lt;ContentRating&gt; ratings = new ArrayList&lt;&gt;();\r\n\r\n    // hashCode and equals implementations omitted\r\n}\r\n```\r\n\r\nHere is code of ContentRating entity:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;content_rating&quot;)\r\n@Data\r\npublic class ContentRating {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;content_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Content content;\r\n    \r\n    // hashCode and equals implementations omitted\r\n}\r\n```\r\n\r\nHere is executed SQL queries:\r\n\r\n```\r\nHibernate: \r\n    select\r\n        c1_0.id \r\n    from\r\n        content c1_0 \r\n    where\r\n        c1_0.id=?\r\nHibernate: \r\n    select\r\n        r1_0.content_id,\r\n        r1_0.id \r\n    from\r\n        content_rating r1_0 \r\n    where\r\n        r1_0.content_id=?\r\n```\r\n\r\nHere is my pom.xml\r\n```xml\r\n &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```","title":"orphanRemoval doesn&#39;t work in JPA(Hibernate)","body":"<p>can anyone tell me why when I remove an entity object from a collection hibernate does not perform a DELETE operation even though I specified the orphanRemoval = true option?</p>\n<p>I am using Spring boot with JPA/Hibernate, idk how it can can help, but I use PostgreSQL</p>\n<p>do not beat for the quality of the code, this is just for example)</p>\n<p>So here is code where I remove entity object from collection:</p>\n<pre><code>Content content = contentRepository.findById(1L).get();\nContentRating rating = content.getRatings().get(0);\n\ncontent.getRatings().remove(rating);\nrating.setContent(null);\n</code></pre>\n<p>Here is code of Content entity:</p>\n<pre><code>@Entity\n@Getter\n@Setter\npublic class Content {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    @OneToMany(\n            mappedBy = &quot;content&quot;,\n            cascade = CascadeType.ALL,\n            orphanRemoval = true\n    )\n    private List&lt;ContentRating&gt; ratings = new ArrayList&lt;&gt;();\n\n    // hashCode and equals implementations omitted\n}\n</code></pre>\n<p>Here is code of ContentRating entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;content_rating&quot;)\n@Data\npublic class ContentRating {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;content_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Content content;\n    \n    // hashCode and equals implementations omitted\n}\n</code></pre>\n<p>Here is executed SQL queries:</p>\n<pre><code>Hibernate: \n    select\n        c1_0.id \n    from\n        content c1_0 \n    where\n        c1_0.id=?\nHibernate: \n    select\n        r1_0.content_id,\n        r1_0.id \n    from\n        content_rating r1_0 \n    where\n        r1_0.content_id=?\n</code></pre>\n<p>Here is my pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code> &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n"},{"tags":["java","javapos"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691061201,"post_id":76826489,"comment_id":135442046,"body_markdown":"It&#39;s going to be better for you if you post the *full stack trace, formatted as code*","body":"It&#39;s going to be better for you if you post the <i>full stack trace, formatted as code</i>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691061615,"post_id":76826489,"comment_id":135442122,"body_markdown":"Incidentally that code, if it&#39;s jpos, seems to be `E_ILLEGAL`","body":"Incidentally that code, if it&#39;s jpos, seems to be <code>E_ILLEGAL</code>"},{"owner":{"account_id":29150773,"reputation":1,"user_id":22331679,"display_name":"LG1598"},"score":0,"creation_date":1691137073,"post_id":76826489,"comment_id":135453907,"body_markdown":"Yes, it means that the Control is already open but i don&#39;t know why","body":"Yes, it means that the Control is already open but i don&#39;t know why"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691140267,"post_id":76826489,"comment_id":135454486,"body_markdown":"How do you know it means that?","body":"How do you know it means that?"},{"owner":{"account_id":29150773,"reputation":1,"user_id":22331679,"display_name":"LG1598"},"score":0,"creation_date":1691142102,"post_id":76826489,"comment_id":135454821,"body_markdown":"On Java for Retail POS Programming Guide, under the open method explanation it says this:","body":"On Java for Retail POS Programming Guide, under the open method explanation it says this:"},{"owner":{"account_id":29150773,"reputation":1,"user_id":22331679,"display_name":"LG1598"},"score":0,"creation_date":1691142124,"post_id":76826489,"comment_id":135454825,"body_markdown":"Some possible values of the exception’s ErrorCode property are:\nValue Meaning\nJPOS_E_ILLEGAL The Control is already open.\nJPOS_E_NOEXIST The specified logicalDeviceName was not found.\nJPOS_E_NOSERVICE Could not establish a connection to the corresponding \nDevice Service.","body":"Some possible values of the exception’s ErrorCode property are: Value Meaning JPOS_E_ILLEGAL The Control is already open. JPOS_E_NOEXIST The specified logicalDeviceName was not found. JPOS_E_NOSERVICE Could not establish a connection to the corresponding  Device Service."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691142281,"post_id":76826489,"comment_id":135454856,"body_markdown":"In terms of a printer, I don&#39;t know what &quot;the control is already open&quot; could mean","body":"In terms of a printer, I don&#39;t know what &quot;the control is already open&quot; could mean"},{"owner":{"account_id":29150773,"reputation":1,"user_id":22331679,"display_name":"LG1598"},"score":0,"creation_date":1691142643,"post_id":76826489,"comment_id":135454932,"body_markdown":"I think it means that opens a device for  I/O","body":"I think it means that opens a device for  I/O"},{"owner":{"account_id":12359629,"reputation":4160,"user_id":9014308,"display_name":"kunif"},"score":0,"creation_date":1692492861,"post_id":76826489,"comment_id":135630677,"body_markdown":"Given the source code presented, as already commented, the printer is probably left open. Running the program multiple times without resetting or restarting the printer will cause problems like the one in your question. It is necessary to execute `setDeviceEnabled(false);`, `release();`, `close();` for `stampante.` at the end of the program.","body":"Given the source code presented, as already commented, the printer is probably left open. Running the program multiple times without resetting or restarting the printer will cause problems like the one in your question. It is necessary to execute <code>setDeviceEnabled(false);</code>, <code>release();</code>, <code>close();</code> for <code>stampante.</code> at the end of the program."}],"owner":{"account_id":29150773,"reputation":1,"user_id":22331679,"display_name":"LG1598"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691065591,"creation_date":1691053433,"question_id":76826489,"body_markdown":"I&#39;m trying to open a connection with JavaPOS to a fiscal printer via VPN. Actually, with a printer I can do this task but with a customer&#39;s printer this error comes out:\r\n\r\n```none\r\njpos.JposException: 106, 0\r\n\tat jp.co.epson.FiscalDriver.FiscalPrinter.CommonFiscalPrinterService.open(CommonFiscalPrinterService.java:2436)\r\n\tat jpos.BaseJposControl.open(Unknown Source)\r\n\tat Main.main(Main.java:11)\r\n```\r\n\r\nWhat do you think could be the problem? The error 106 in opening the printer communication means that the communication is already open but I&#39;ve never done it.\r\n\r\nMy code:\r\n\r\n```java\r\npublic static void main(String[] args) \r\n{\r\n\tFiscalPrinter stampante = new FiscalPrinter();\r\n\ttry \r\n\t{\r\n\t\tstampante.open(&quot;P&quot;);\r\n\t\tstampante.claim(1000);\r\n\t\tstampante.setDeviceEnabled(true);\r\n\t\tSystem.out.println(&quot;YES !&quot;);\r\n\t} \r\n\tcatch (JposException e) \r\n\t{\r\n\t\te.printStackTrace();\r\n\t}\r\n}\r\n```\r\n","title":"Open communication with a fiscal printer via VPN in JavaPOS","body":"<p>I'm trying to open a connection with JavaPOS to a fiscal printer via VPN. Actually, with a printer I can do this task but with a customer's printer this error comes out:</p>\n<pre class=\"lang-none prettyprint-override\"><code>jpos.JposException: 106, 0\n    at jp.co.epson.FiscalDriver.FiscalPrinter.CommonFiscalPrinterService.open(CommonFiscalPrinterService.java:2436)\n    at jpos.BaseJposControl.open(Unknown Source)\n    at Main.main(Main.java:11)\n</code></pre>\n<p>What do you think could be the problem? The error 106 in opening the printer communication means that the communication is already open but I've never done it.</p>\n<p>My code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) \n{\n    FiscalPrinter stampante = new FiscalPrinter();\n    try \n    {\n        stampante.open(&quot;P&quot;);\n        stampante.claim(1000);\n        stampante.setDeviceEnabled(true);\n        System.out.println(&quot;YES !&quot;);\n    } \n    catch (JposException e) \n    {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":21,"creation_date":1349330623,"post_id":12721076,"comment_id":17179538,"body_markdown":"Aside from anything else, think about *why* you use `null == sampleMap` rather than `sampleMap == null`. Most people find the latter more readable - the former is a holdover from other languages.","body":"Aside from anything else, think about <i>why</i> you use <code>null == sampleMap</code> rather than <code>sampleMap == null</code>. Most people find the latter more readable - the former is a holdover from other languages."},{"owner":{"account_id":109733,"reputation":31428,"user_id":290629,"accept_rate":88,"display_name":"卢声远 Shengyuan Lu"},"score":9,"creation_date":1450846611,"post_id":12721076,"comment_id":56598763,"body_markdown":"By the way, null collection is bad. If possible, make it empty collection instead. \n`See Effective Java: Item 43 - Return empty arrays or collections, not nulls.`","body":"By the way, null collection is bad. If possible, make it empty collection instead.  <code>See Effective Java: Item 43 - Return empty arrays or collections, not nulls.</code>"},{"owner":{"account_id":8608092,"reputation":1207,"user_id":6447529,"display_name":"Uri Loya"},"score":1,"creation_date":1573742396,"post_id":12721076,"comment_id":103989656,"body_markdown":"@JonSkeet people use null == sampleMap in case they write = instead of ==. if you use sampleMap == null, when you forget one =, it becomes sampleMap = null, which will not raise error thus writing it the other way helps the developer see it","body":"@JonSkeet people use null == sampleMap in case they write = instead of ==. if you use sampleMap == null, when you forget one =, it becomes sampleMap = null, which will not raise error thus writing it the other way helps the developer see it"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1573742512,"post_id":12721076,"comment_id":103989747,"body_markdown":"@UriLoya: If you write `if (null = sampleMap)` in Java you&#39;ll get a compilation error. That&#39;s precisely the point of my first comment. The &quot;reason&quot; for it is language-specific, but has been propagated to other languages despite the readability penalty because people haven&#39;t considered *why* they&#39;re doing that.","body":"@UriLoya: If you write <code>if (null = sampleMap)</code> in Java you&#39;ll get a compilation error. That&#39;s precisely the point of my first comment. The &quot;reason&quot; for it is language-specific, but has been propagated to other languages despite the readability penalty because people haven&#39;t considered <i>why</i> they&#39;re doing that."},{"owner":{"account_id":11249374,"reputation":401,"user_id":8250946,"display_name":"vikash"},"score":0,"creation_date":1584526486,"post_id":12721076,"comment_id":107460882,"body_markdown":"You can use CollectionUtils class which is present in org.apache.commons.collections4.CollectionUtils package. There have many utility methods to find empty or null.","body":"You can use CollectionUtils class which is present in org.apache.commons.collections4.CollectionUtils package. There have many utility methods to find empty or null."}],"answers":[{"tags":[],"owner":{"account_id":1886487,"reputation":396547,"user_id":1705598,"accept_rate":92,"display_name":"icza"},"down_vote_count":1,"up_vote_count":91,"is_accepted":false,"score":90,"last_activity_date":1349330861,"creation_date":1349330184,"answer_id":12721103,"question_id":12721076,"body_markdown":"That is the best way to check it. You could write a helper method to do it:\r\n\r\n    public static boolean isNullOrEmpty( final Collection&lt; ? &gt; c ) {\r\n        return c == null || c.isEmpty();\r\n    }\r\n\r\n    public static boolean isNullOrEmpty( final Map&lt; ?, ? &gt; m ) {\r\n        return m == null || m.isEmpty();\r\n    }","title":"Best practice to validate null and empty collection in Java","body":"<p>That is the best way to check it. You could write a helper method to do it:</p>\n\n<pre><code>public static boolean isNullOrEmpty( final Collection&lt; ? &gt; c ) {\n    return c == null || c.isEmpty();\n}\n\npublic static boolean isNullOrEmpty( final Map&lt; ?, ? &gt; m ) {\n    return m == null || m.isEmpty();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":232896,"reputation":2841,"user_id":498048,"display_name":"tehlexx"},"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1349330226,"creation_date":1349330226,"answer_id":12721113,"question_id":12721076,"body_markdown":"Personally, I prefer to use empty collections instead of `null` and have the algorithms work in a way that for the algorithm it does not matter if the collection is empty or not.","title":"Best practice to validate null and empty collection in Java","body":"<p>Personally, I prefer to use empty collections instead of <code>null</code> and have the algorithms work in a way that for the algorithm it does not matter if the collection is empty or not.</p>\n"},{"tags":[],"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1349330591,"creation_date":1349330591,"answer_id":12721180,"question_id":12721076,"body_markdown":"If you need to check for null, that is the way. However, if you have control on this, just return empty collection, whenever you can, and check only for empty later on.\r\n\r\n[This thread](https://stackoverflow.com/questions/1969993/is-it-better-to-return-null-or-empty-collection) is about the same thing with C#, but the principles applies equally well to java. Like mentioned there, null should be returned only if\r\n\r\n&gt;  - null might mean something more specific;\r\n&gt;  - your API (contract) might force you to return null.","title":"Best practice to validate null and empty collection in Java","body":"<p>If you need to check for null, that is the way. However, if you have control on this, just return empty collection, whenever you can, and check only for empty later on.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/1969993/is-it-better-to-return-null-or-empty-collection\">This thread</a> is about the same thing with C#, but the principles applies equally well to java. Like mentioned there, null should be returned only if</p>\n\n<blockquote>\n  <ul>\n  <li>null might mean something more specific;</li>\n  <li>your API (contract) might force you to return null.</li>\n  </ul>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":463335,"reputation":9014,"user_id":866172,"display_name":"Jalayn"},"down_vote_count":3,"up_vote_count":500,"is_accepted":true,"score":497,"last_activity_date":1675148116,"creation_date":1349335859,"answer_id":12722291,"question_id":12721076,"body_markdown":"If you use the [Apache Commons Collections](https://commons.apache.org/proper/commons-collections/) library in your project, you may use the [`CollectionUtils.isEmpty(...)`][1] and [`MapUtils.isEmpty(...)`][2] methods which respectively check if a collection or a map is *empty* or *null* (i.e. they are &quot;null-safe&quot;).\r\n\r\nThe code behind these methods is more or less what user @icza has written in his answer.\r\n\r\nRegardless of what you do, remember that the less code you write, the less code you need to test as the complexity of your code decreases. \r\n\r\n[1]: https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/CollectionUtils.html#isEmpty-java.util.Collection-\r\n\r\n[2]: https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/MapUtils.html#isEmpty-java.util.Map-","title":"Best practice to validate null and empty collection in Java","body":"<p>If you use the <a href=\"https://commons.apache.org/proper/commons-collections/\" rel=\"noreferrer\">Apache Commons Collections</a> library in your project, you may use the <a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/CollectionUtils.html#isEmpty-java.util.Collection-\" rel=\"noreferrer\"><code>CollectionUtils.isEmpty(...)</code></a> and <a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/MapUtils.html#isEmpty-java.util.Map-\" rel=\"noreferrer\"><code>MapUtils.isEmpty(...)</code></a> methods which respectively check if a collection or a map is <em>empty</em> or <em>null</em> (i.e. they are &quot;null-safe&quot;).</p>\n<p>The code behind these methods is more or less what user @icza has written in his answer.</p>\n<p>Regardless of what you do, remember that the less code you write, the less code you need to test as the complexity of your code decreases.</p>\n"},{"tags":[],"owner":{"account_id":2060941,"reputation":2220,"user_id":1837485,"accept_rate":59,"display_name":"Saorikido"},"down_vote_count":3,"up_vote_count":72,"is_accepted":false,"score":69,"last_activity_date":1481077945,"creation_date":1481077945,"answer_id":41008458,"question_id":12721076,"body_markdown":"If you use Spring frameworks, then you can use `CollectionUtils` to check against both Collections (List, Array) and Map etc.\r\n\r\n    if(CollectionUtils.isEmpty(...)) {...}","title":"Best practice to validate null and empty collection in Java","body":"<p>If you use Spring frameworks, then you can use <code>CollectionUtils</code> to check against both Collections (List, Array) and Map etc.</p>\n\n<pre><code>if(CollectionUtils.isEmpty(...)) {...}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9925001,"reputation":1047,"user_id":7346931,"display_name":"Dharmendrasinh Chudasama"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1578132590,"creation_date":1488793232,"answer_id":42622153,"question_id":12721076,"body_markdown":"When you use spring then you can use\r\n\r\n    boolean isNullOrEmpty = org.springframework.util.ObjectUtils.isEmpty(obj);\r\n\r\nwhere obj is any [map,collection,array,aything...]\r\n\r\notherwise: the code is:\r\n\r\n\tpublic static boolean isEmpty(Object[] array) {\r\n\t\treturn (array == null || array.length == 0);\r\n\t}\r\n\r\n\tpublic static boolean isEmpty(Object obj) {\r\n\t\tif (obj == null) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tif (obj.getClass().isArray()) {\r\n\t\t\treturn Array.getLength(obj) == 0;\r\n\t\t}\r\n\t\tif (obj instanceof CharSequence) {\r\n\t\t\treturn ((CharSequence) obj).length() == 0;\r\n\t\t}\r\n\t\tif (obj instanceof Collection) {\r\n\t\t\treturn ((Collection) obj).isEmpty();\r\n\t\t}\r\n\t\tif (obj instanceof Map) {\r\n\t\t\treturn ((Map) obj).isEmpty();\r\n\t\t}\r\n\r\n\t\t// else\r\n\t\treturn false;\r\n\t}\r\n\r\nfor String best is:\r\n\r\n    boolean isNullOrEmpty = (str==null || str.trim().isEmpty());","title":"Best practice to validate null and empty collection in Java","body":"<p>When you use spring then you can use</p>\n\n<pre><code>boolean isNullOrEmpty = org.springframework.util.ObjectUtils.isEmpty(obj);\n</code></pre>\n\n<p>where obj is any [map,collection,array,aything...]</p>\n\n<p>otherwise: the code is:</p>\n\n<pre><code>public static boolean isEmpty(Object[] array) {\n    return (array == null || array.length == 0);\n}\n\npublic static boolean isEmpty(Object obj) {\n    if (obj == null) {\n        return true;\n    }\n\n    if (obj.getClass().isArray()) {\n        return Array.getLength(obj) == 0;\n    }\n    if (obj instanceof CharSequence) {\n        return ((CharSequence) obj).length() == 0;\n    }\n    if (obj instanceof Collection) {\n        return ((Collection) obj).isEmpty();\n    }\n    if (obj instanceof Map) {\n        return ((Map) obj).isEmpty();\n    }\n\n    // else\n    return false;\n}\n</code></pre>\n\n<p>for String best is:</p>\n\n<pre><code>boolean isNullOrEmpty = (str==null || str.trim().isEmpty());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1780341,"reputation":16850,"user_id":1623249,"accept_rate":71,"display_name":"Maria Ines Parnisari"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1503422740,"creation_date":1503422740,"answer_id":45823643,"question_id":12721076,"body_markdown":"You can use `org.apache.commons.lang.Validate`&#39;s &quot;[notEmpty][1]&quot; method:\r\n\r\n`Validate.notEmpty(myCollection)` -&gt; Validate that the specified argument collection is neither null nor a size of zero (no elements); otherwise throwing an exception.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/Validate.html#notEmpty(T)","title":"Best practice to validate null and empty collection in Java","body":"<p>You can use <code>org.apache.commons.lang.Validate</code>'s \"<a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/Validate.html#notEmpty(T)\" rel=\"noreferrer\">notEmpty</a>\" method:</p>\n\n<p><code>Validate.notEmpty(myCollection)</code> -> Validate that the specified argument collection is neither null nor a size of zero (no elements); otherwise throwing an exception.</p>\n"},{"tags":[],"owner":{"account_id":7427719,"reputation":43,"user_id":5649710,"display_name":"Nisar Adappadathil"},"down_vote_count":6,"up_vote_count":2,"is_accepted":false,"score":-4,"last_activity_date":1575461943,"creation_date":1505279339,"answer_id":46189268,"question_id":12721076,"body_markdown":"For all the collections including map use: `isEmpty` method which is there on these collection objects. But you have to do a null check before:\r\n\r\n    Map&lt;String, String&gt; map;\r\n    \r\n    ........\r\n    if(map!=null &amp;&amp; !map.isEmpty())\r\n    ......","title":"Best practice to validate null and empty collection in Java","body":"<p>For all the collections including map use: <code>isEmpty</code> method which is there on these collection objects. But you have to do a null check before:</p>\n\n<pre><code>Map&lt;String, String&gt; map;\n\n........\nif(map!=null &amp;&amp; !map.isEmpty())\n......\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11249374,"reputation":401,"user_id":8250946,"display_name":"vikash"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1584526242,"creation_date":1584511343,"answer_id":60734235,"question_id":12721076,"body_markdown":"We&#39;ll check a Collection object is empty, null or not. these all methods which are given below, are present in org.apache.commons.collections4.CollectionUtils package.\r\n\r\n\r\nCheck on List or set type of collection Objects.\r\n\r\n    CollectionUtils.isEmpty(listObject);\r\n    CollectionUtils.isNotEmpty(listObject);\r\n\r\nCheck on Map type of Objects.\r\n\r\n    MapUtils.isEmpty(mapObject);\r\n    MapUtils.isNotEmpty(mapObject);\r\n\r\nThe return type of all methods is boolean.","title":"Best practice to validate null and empty collection in Java","body":"<p>We'll check a Collection object is empty, null or not. these all methods which are given below, are present in org.apache.commons.collections4.CollectionUtils package.</p>\n\n<p>Check on List or set type of collection Objects.</p>\n\n<pre><code>CollectionUtils.isEmpty(listObject);\nCollectionUtils.isNotEmpty(listObject);\n</code></pre>\n\n<p>Check on Map type of Objects.</p>\n\n<pre><code>MapUtils.isEmpty(mapObject);\nMapUtils.isNotEmpty(mapObject);\n</code></pre>\n\n<p>The return type of all methods is boolean.</p>\n"},{"tags":[],"owner":{"account_id":12368549,"reputation":189,"user_id":9019654,"display_name":"Kevin KOUOMEU"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691065551,"creation_date":1691065551,"answer_id":76828052,"question_id":12721076,"body_markdown":"Taking the case you collection is a List, you can simply use this\r\n \r\n\r\n    private boolean collectionIsNotNullAndNotEmpty(List&lt;?&gt; collection) {\r\n        return Objects.nonNull(collection) &amp;&amp; !collection.isEmpty();\r\n    }","title":"Best practice to validate null and empty collection in Java","body":"<p>Taking the case you collection is a List, you can simply use this</p>\n<pre><code>private boolean collectionIsNotNullAndNotEmpty(List&lt;?&gt; collection) {\n    return Objects.nonNull(collection) &amp;&amp; !collection.isEmpty();\n}\n</code></pre>\n"}],"owner":{"account_id":1795554,"reputation":3616,"user_id":1635014,"accept_rate":53,"display_name":"srk"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":563423,"favorite_count":0,"down_vote_count":1,"up_vote_count":327,"accepted_answer_id":12722291,"answer_count":10,"score":326,"last_activity_date":1691065551,"creation_date":1349330061,"question_id":12721076,"body_markdown":"I want to verify whether a collection is empty and `null`. Could anyone please let me know the best practice.\r\n    \r\nCurrently, I am checking as below:\r\n\r\n    \r\n    if (null == sampleMap || sampleMap.isEmpty()) {\r\n      // do something\r\n    } \r\n    else {\r\n      // do something else\r\n    }","title":"Best practice to validate null and empty collection in Java","body":"<p>I want to verify whether a collection is empty and <code>null</code>. Could anyone please let me know the best practice.</p>\n\n<p>Currently, I am checking as below:</p>\n\n<pre><code>if (null == sampleMap || sampleMap.isEmpty()) {\n  // do something\n} \nelse {\n  // do something else\n}\n</code></pre>\n"},{"tags":["java","maven","jar","dependencies"],"answers":[{"tags":[],"owner":{"account_id":151953,"reputation":11207,"user_id":366133,"accept_rate":98,"display_name":"Matt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1503500324,"creation_date":1503499601,"answer_id":45842956,"question_id":45842742,"body_markdown":"Runtime scoped dependencies are useful for dynamically loaded libraries, that you do not explicitly reference in the code but need to be there for your application to run.","title":"When would I need maven dependency with runtime scope","body":"<p>Runtime scoped dependencies are useful for dynamically loaded libraries, that you do not explicitly reference in the code but need to be there for your application to run.</p>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1518032268,"creation_date":1503499932,"answer_id":45843082,"question_id":45842742,"body_markdown":"All what you can do with the `runtime` scope can be also done with the default scope : `compile`.&lt;br&gt;\r\nSo why use `runtime`?&lt;br&gt;\r\n\r\n**Because in some cases, this makes really sense and can make your build more robust**.&lt;br&gt;\r\n\r\nA typical use case is ensuring that the client code doesn&#39;t use a specific implementation.&lt;br&gt;\r\n\r\nSuppose you build an application relying on an API packaged as a Maven dependency (`my-service-api`) and the implementation of this API is packaged as another Maven dependency (`my-service-impl`).  \r\nSuppose now you need to provide the implementation at the runtime in the built application **but you don&#39;t want** that the client code of your application refers directly the  implementation.\r\n\r\nBy using  the `runtime` scope for `my-service-impl`:\r\n\r\n    &lt;dependencies&gt;\r\n    ​  &lt;dependency&gt;\r\n    ​      &lt;groupId&gt;my-group&lt;/groupId&gt;\r\n    ​      &lt;artifactId&gt;my-service-api&lt;/artifactId&gt;\r\n    ​  &lt;/dependency&gt;\r\n    ​  \r\n    ​  &lt;dependency&gt;\r\n    ​      &lt;groupId&gt;my-group&lt;/groupId&gt;\r\n    ​      &lt;artifactId&gt;my-service-impl&lt;/artifactId&gt;\r\n    ​      &lt;scope&gt;runtime&lt;/scope&gt;\r\n    ​  &lt;/dependency&gt;\r\n    &lt;dependencies&gt;\r\n\r\nAs the compiler will never have the dependency in the classpath, you cannot create any coupling with the implementation in the client code of your application.&lt;br&gt;\r\nClient code will only see the API of the dependency  : \r\n\r\nBy using the `compile` scope for `my-service-impl`:\r\n\r\n\r\n    &lt;dependencies&gt;\r\n    ​  &lt;dependency&gt;\r\n    ​      &lt;groupId&gt;my-group&lt;/groupId&gt;\r\n    ​      &lt;artifactId&gt;my-service-api&lt;/artifactId&gt;\r\n    ​  &lt;/dependency&gt;\r\n    ​  \r\n    ​  &lt;dependency&gt;\r\n    ​      &lt;groupId&gt;my-group&lt;/groupId&gt;\r\n    ​      &lt;artifactId&gt;my-service-impl&lt;/artifactId&gt;    ​  \r\n    ​  &lt;/dependency&gt;\r\n    &lt;dependencies&gt;\r\n\r\nThings are different : you could by mistake reference implementation classes and so create an undesirable coupling with the implementation.\r\n\r\nA known usage to favor `runtime` scope is as you have to cope with a JDBC dependency of a specific DBMS (Oracle, PostgreSQL or whatever).  \r\nTo write portable code, you don&#39;t want to allow the client code to refer to classes of this JDBC dependency but you want all the same include it in your application as at runtime the classes are needed to make the JDBC api works with this DBMS.\r\n","title":"When would I need maven dependency with runtime scope","body":"<p>All what you can do with the <code>runtime</code> scope can be also done with the default scope : <code>compile</code>.<br>\nSo why use <code>runtime</code>?<br></p>\n\n<p><strong>Because in some cases, this makes really sense and can make your build more robust</strong>.<br></p>\n\n<p>A typical use case is ensuring that the client code doesn't use a specific implementation.<br></p>\n\n<p>Suppose you build an application relying on an API packaged as a Maven dependency (<code>my-service-api</code>) and the implementation of this API is packaged as another Maven dependency (<code>my-service-impl</code>).<br>\nSuppose now you need to provide the implementation at the runtime in the built application <strong>but you don't want</strong> that the client code of your application refers directly the  implementation.</p>\n\n<p>By using  the <code>runtime</code> scope for <code>my-service-impl</code>:</p>\n\n<pre><code>&lt;dependencies&gt;\n​  &lt;dependency&gt;\n​      &lt;groupId&gt;my-group&lt;/groupId&gt;\n​      &lt;artifactId&gt;my-service-api&lt;/artifactId&gt;\n​  &lt;/dependency&gt;\n​  \n​  &lt;dependency&gt;\n​      &lt;groupId&gt;my-group&lt;/groupId&gt;\n​      &lt;artifactId&gt;my-service-impl&lt;/artifactId&gt;\n​      &lt;scope&gt;runtime&lt;/scope&gt;\n​  &lt;/dependency&gt;\n&lt;dependencies&gt;\n</code></pre>\n\n<p>As the compiler will never have the dependency in the classpath, you cannot create any coupling with the implementation in the client code of your application.<br>\nClient code will only see the API of the dependency  : </p>\n\n<p>By using the <code>compile</code> scope for <code>my-service-impl</code>:</p>\n\n<pre><code>&lt;dependencies&gt;\n​  &lt;dependency&gt;\n​      &lt;groupId&gt;my-group&lt;/groupId&gt;\n​      &lt;artifactId&gt;my-service-api&lt;/artifactId&gt;\n​  &lt;/dependency&gt;\n​  \n​  &lt;dependency&gt;\n​      &lt;groupId&gt;my-group&lt;/groupId&gt;\n​      &lt;artifactId&gt;my-service-impl&lt;/artifactId&gt;    ​  \n​  &lt;/dependency&gt;\n&lt;dependencies&gt;\n</code></pre>\n\n<p>Things are different : you could by mistake reference implementation classes and so create an undesirable coupling with the implementation.</p>\n\n<p>A known usage to favor <code>runtime</code> scope is as you have to cope with a JDBC dependency of a specific DBMS (Oracle, PostgreSQL or whatever).<br>\nTo write portable code, you don't want to allow the client code to refer to classes of this JDBC dependency but you want all the same include it in your application as at runtime the classes are needed to make the JDBC api works with this DBMS.</p>\n"},{"tags":[],"owner":{"account_id":11175092,"reputation":45706,"user_id":8200937,"display_name":"glytching"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1503500118,"creation_date":1503500118,"answer_id":45843146,"question_id":45842742,"body_markdown":"There is considerable confusion around the `runtime` scope. I think this confusion reflects its marginal benefit and the absence of a really compelling **general purpose** use case for it.\r\n\r\nThe commonly cited benefits are: \r\n\r\n- They help avoid accidental dependencies\r\n- They facilitate usages such as `Class.forName(&quot;a.b.ClassName&quot;)` and allow you to switch the binding represented by &quot;a.b.ClassName&quot; without having to recompile your application. Common examples of this benefit: JDBC drivers and SLF4J bindings\r\n\r\nBut, given the general confusion and the marginal benefits I&#39;d suggest sticking to `compile` scope unless you have encountered one of those corner cases where `runtime` scope is really useful.","title":"When would I need maven dependency with runtime scope","body":"<p>There is considerable confusion around the <code>runtime</code> scope. I think this confusion reflects its marginal benefit and the absence of a really compelling <strong>general purpose</strong> use case for it.</p>\n\n<p>The commonly cited benefits are: </p>\n\n<ul>\n<li>They help avoid accidental dependencies</li>\n<li>They facilitate usages such as <code>Class.forName(\"a.b.ClassName\")</code> and allow you to switch the binding represented by \"a.b.ClassName\" without having to recompile your application. Common examples of this benefit: JDBC drivers and SLF4J bindings</li>\n</ul>\n\n<p>But, given the general confusion and the marginal benefits I'd suggest sticking to <code>compile</code> scope unless you have encountered one of those corner cases where <code>runtime</code> scope is really useful.</p>\n"},{"tags":[],"owner":{"account_id":8566872,"reputation":321,"user_id":6419093,"display_name":"Thomas.L"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1691065484,"creation_date":1503500399,"answer_id":45843242,"question_id":45842742,"body_markdown":"&gt; runtime\r\nThis scope indicates that the dependency is not required for compilation, but is for execution. It is in the runtime and test classpaths, but not the compile classpath.\r\n\r\n\r\nWell it means that the classes within the library are present to the JVM classpath (runtime environment), but not to the Java compiler classpath (compile-time), therefore when compiling your project these classes will not be visible to the compiler.. therefore you cannot use/import any of these classes at compile-time. This scope is useful for dynamically-loaded classes (that is, classes that you will reference/load at runtime).","title":"When would I need maven dependency with runtime scope","body":"<blockquote>\n<p>runtime\nThis scope indicates that the dependency is not required for compilation, but is for execution. It is in the runtime and test classpaths, but not the compile classpath.</p>\n</blockquote>\n<p>Well it means that the classes within the library are present to the JVM classpath (runtime environment), but not to the Java compiler classpath (compile-time), therefore when compiling your project these classes will not be visible to the compiler.. therefore you cannot use/import any of these classes at compile-time. This scope is useful for dynamically-loaded classes (that is, classes that you will reference/load at runtime).</p>\n"}],"owner":{"account_id":7509953,"reputation":22160,"user_id":5705247,"accept_rate":27,"display_name":"Tuomas Toivonen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7016,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":45843082,"answer_count":4,"score":16,"last_activity_date":1691065484,"creation_date":1503498987,"question_id":45842742,"body_markdown":"I&#39;m trying to understand the specific need for `runtime` scoped dependency in maven. In which situation I would need this, where neither `compile` or `provided` scope won&#39;t do?\r\n\r\nFor example, I would use `compile` scope for dependency, when I have to call the library API directly in the code (compile against it) and package the dependency in the artifact or dependent project artifacts.\r\n\r\nI would use `provided` scope when I have to compile against the API, but don&#39;t package it (rather except it to be available at runtime).\r\n\r\nBut when would I need `runtime` scope? Is this for situations, when I don&#39;t directly call the library API (rather use reflection), but want to package it inside the artifact? Why not just to use `compile` scope? Is the only benefit faster compile time, or is there something other special in `runtime` scope that couldn&#39;t be achieved or avoided with `compile` scope?","title":"When would I need maven dependency with runtime scope","body":"<p>I'm trying to understand the specific need for <code>runtime</code> scoped dependency in maven. In which situation I would need this, where neither <code>compile</code> or <code>provided</code> scope won't do?</p>\n\n<p>For example, I would use <code>compile</code> scope for dependency, when I have to call the library API directly in the code (compile against it) and package the dependency in the artifact or dependent project artifacts.</p>\n\n<p>I would use <code>provided</code> scope when I have to compile against the API, but don't package it (rather except it to be available at runtime).</p>\n\n<p>But when would I need <code>runtime</code> scope? Is this for situations, when I don't directly call the library API (rather use reflection), but want to package it inside the artifact? Why not just to use <code>compile</code> scope? Is the only benefit faster compile time, or is there something other special in <code>runtime</code> scope that couldn't be achieved or avoided with <code>compile</code> scope?</p>\n"},{"tags":["java","docker","dockerfile","libreoffice"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1691065460,"post_id":76828002,"comment_id":135442941,"body_markdown":"The command would be `libreoffice` (not `Libreoffice`), no?","body":"The command would be <code>libreoffice</code> (not <code>Libreoffice</code>), no?"},{"owner":{"account_id":3990940,"reputation":662,"user_id":3289905,"accept_rate":8,"display_name":"anakin59490"},"score":0,"creation_date":1691065698,"post_id":76828002,"comment_id":135442985,"body_markdown":"exact but same result : [root@56eda4acbd64 tomcat]# libreoffice\nbash: libreoffice: command not found\n[root@56eda4acbd64 tomcat]# libreoffice -version\nbash: libreoffice: command not found\n[root@56eda4acbd64 tomcat]# libreoffice --version\nbash: libreoffice: command not found","body":"exact but same result : [root@56eda4acbd64 tomcat]# libreoffice bash: libreoffice: command not found [root@56eda4acbd64 tomcat]# libreoffice -version bash: libreoffice: command not found [root@56eda4acbd64 tomcat]# libreoffice --version bash: libreoffice: command not found"},{"owner":{"account_id":15654001,"reputation":11419,"user_id":11294831,"display_name":"the busybee"},"score":0,"creation_date":1691066152,"post_id":76828002,"comment_id":135443112,"body_markdown":"Did you check that the `PATH` environment variable contains the path to the executable, or that links to the executable from a know path exist? @DaveNewton The actual name of the executable is &quot;soffice&quot;.","body":"Did you check that the <code>PATH</code> environment variable contains the path to the executable, or that links to the executable from a know path exist? @DaveNewton The actual name of the executable is &quot;soffice&quot;."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1691066546,"post_id":76828002,"comment_id":135443205,"body_markdown":"@thebusybee Either should work for normal installs :shrug:","body":"@thebusybee Either should work for normal installs :shrug:"},{"owner":{"account_id":3990940,"reputation":662,"user_id":3289905,"accept_rate":8,"display_name":"anakin59490"},"score":0,"creation_date":1691067194,"post_id":76828002,"comment_id":135443339,"body_markdown":"@thebusybee : Path container is PATH=/usr/local/tomcat/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin. But soffice is in /opt/libreoffice6.3/program","body":"@thebusybee : Path container is PATH=/usr/local/tomcat/bin:/usr/local/sbin:/usr/local/bin:/u&zwnj;&#8203;sr/sbin:/usr/bin:/sb&zwnj;&#8203;in:/bin. But soffice is in /opt/libreoffice6.3/program"},{"owner":{"account_id":3990940,"reputation":662,"user_id":3289905,"accept_rate":8,"display_name":"anakin59490"},"score":0,"creation_date":1691068283,"post_id":76828002,"comment_id":135443599,"body_markdown":"@thebusybee : i add /opt/libreoffice6.3 in path variable (PATH=/usr/local/tomcat/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/libreoffice6.3/) but nothing changes","body":"@thebusybee : i add /opt/libreoffice6.3 in path variable (PATH=/usr/local/tomcat/bin:/usr/local/sbin:/usr/local/bin:/&zwnj;&#8203;usr/sbin:/usr/bin:/s&zwnj;&#8203;bin:/bin:/opt/libreo&zwnj;&#8203;ffice6.3/) but nothing changes"},{"owner":{"account_id":15654001,"reputation":11419,"user_id":11294831,"display_name":"the busybee"},"score":0,"creation_date":1691071779,"post_id":76828002,"comment_id":135444475,"body_markdown":"What happens if you execute &quot; /opt/libreoffice6.3/program/soffice&quot;?","body":"What happens if you execute &quot; /opt/libreoffice6.3/program/soffice&quot;?"},{"owner":{"account_id":15654001,"reputation":11419,"user_id":11294831,"display_name":"the busybee"},"score":0,"creation_date":1691071783,"post_id":76828002,"comment_id":135444476,"body_markdown":"Commonly there are soft links (for example in &quot;/usr/bin&quot;) that point to the actual executable. Did you check that, as I suggested?","body":"Commonly there are soft links (for example in &quot;/usr/bin&quot;) that point to the actual executable. Did you check that, as I suggested?"},{"owner":{"account_id":3990940,"reputation":662,"user_id":3289905,"accept_rate":8,"display_name":"anakin59490"},"score":0,"creation_date":1691072886,"post_id":76828002,"comment_id":135444748,"body_markdown":"@thebusybee &quot;Failed to open display - /opt/libreoffice6.3/program/soffice.bin: error while loading shared libraries: libcairo.so.2: cannot open shared object file: No such file or directory&quot;","body":"@thebusybee &quot;Failed to open display - /opt/libreoffice6.3/program/soffice.bin: error while loading shared libraries: libcairo.so.2: cannot open shared object file: No such file or directory&quot;"},{"owner":{"account_id":3990940,"reputation":662,"user_id":3289905,"accept_rate":8,"display_name":"anakin59490"},"score":0,"creation_date":1691073161,"post_id":76828002,"comment_id":135444820,"body_markdown":"@thebusybee about links : inside container i find only /opt/libreoffice6.3 that contains program folder that contains soffice and all the other .so file","body":"@thebusybee about links : inside container i find only /opt/libreoffice6.3 that contains program folder that contains soffice and all the other .so file"},{"owner":{"account_id":15654001,"reputation":11419,"user_id":11294831,"display_name":"the busybee"},"score":0,"creation_date":1691075416,"post_id":76828002,"comment_id":135445360,"body_markdown":"The links would be in some of the other directories listed in `PATH`, as I wrote for example in &quot;/usr/bin&quot;, not in &quot;/opt/libreoffice6.3&quot;. -- Well, since I don&#39;t have the environment to reproduce, I cannot help further. It might be an incomplete installation, who knows? Hopefully some others can jump in. Good luck!","body":"The links would be in some of the other directories listed in <code>PATH</code>, as I wrote for example in &quot;/usr/bin&quot;, not in &quot;/opt/libreoffice6.3&quot;. -- Well, since I don&#39;t have the environment to reproduce, I cannot help further. It might be an incomplete installation, who knows? Hopefully some others can jump in. Good luck!"}],"owner":{"account_id":3990940,"reputation":662,"user_id":3289905,"accept_rate":8,"display_name":"anakin59490"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691065144,"creation_date":1691065144,"question_id":76828002,"body_markdown":"I&#39;m new in Docker (Rocky Linux) and I need to use jodconverter in java process. So I updated my Dockerfile as follow :\r\n\r\n    #Installing LibreOffice\r\n    COPY backend/LibreOffice_6.3.5.2_Linux_x86-64_rpm /usr/local/LibreOffice_6.3.5.2_Linux_x86-64_rpm\r\n    RUN cd /usr/local/LibreOffice_6.3.5.2_Linux_x86-64_rpm/RPMS/\r\n    RUN yum -y install /usr/local/LibreOffice_6.3.5.2_Linux_x86-64_rpm/RPMS/*.rpm;\r\n\r\nI find libreoffice6.3 in /opt folder inside container. However &quot;Libreoffice -version&quot; doesn&#39;t work : \r\n\r\n    bash: Libreoffice: command not found\r\n\r\nWhen the java process is executed i get the following error: **ServiceManager&#39; started but its pid could not be found** :\r\n\r\n    OfficeProcessManager          : Submitting task &#39;Start&#39; and waiting...\r\n    2023-08-03 13:51:37.133  INFO 1 --- [ProcessThread-0] \r\n    org.jodconverter.office.OfficeProcess    : Starting process with acceptString \r\n    &#39;socket,host=127.0.0.1,port=2002,tcpNoDelay=1;urp;StarOffice.ServiceManager&#39; and \r\n    profileDir &#39;/usr/local/tomcat/temp/.jodconverter_socket_host-127.0.0.1_port- \r\n    2002_tcpNoDelay-1&#39;\r\n    2023-08-03 13:51:37.148  INFO 1 --- [ProcessThread-0] \r\n    org.jodconverter.office.OfficeProcess    : Started process; pid = -2\r\n    2023-08-03 13:51:37.149 ERROR 1 --- [TaskScheduler16] \r\n    c.m.service.TransformationService     : ERROR convertToDocx: \r\n    org.jodconverter.office.OfficeException: A process with acceptString &#39;socket,host=127.0.0.1,port=2002,tcpNoDelay=1;urp;StarOffice.ServiceManager&#39; started but its pid could not be found\r\n        at org.jodconverter.office.OfficeProcess.start(OfficeProcess.java:354)\r\n        at org.jodconverter.office.OfficeProcessManager.doStartProcessAndConnect(OfficeProcessManager.java:100)\r\n        at org.jodconverter.office.OfficeProcessManager.access$100(OfficeProcessManager.java:40)\r\n        at org.jodconverter.office.OfficeProcessManager$4.call(OfficeProcessManager.java:260)\r\n        at org.jodconverter.office.OfficeProcessManager$4.call(OfficeProcessManager.java:255)\r\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n        at java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\n    2023-08-03 13:51:37.150  INFO 1 --- [TaskScheduler16] \r\n     o.j.office.AbstractOfficeManagerPool     : Stopping the office manager pool...\r\n    2023-08-03 13:51:37.152  INFO 1 --- [TaskScheduler16] o.j.office.OfficeProcessManager          \r\n    : Submitting task &#39;Stop&#39; and waiting...\r\n    2023-08-03 13:51:37.159  INFO 1 --- [ProcessThread-0] \r\n    org.jodconverter.office.OfficeProcess    : Trying to forcibly terminate process: \r\n    &#39;host=127.0.0.1,port=2002,tcpNoDelay=1&#39;; pid: -2\r\n    2023-08-03 13:51:37.166  INFO 1 --- [ProcessThread-0] o.j.office.OfficeProcessManager          \r\n    : process forcibly terminated with code 127\r\n    2023-08-03 13:51:37.166  INFO 1 --- [ProcessThread-0] o.j.office.OfficeProcessManager          \r\n    : process exited with code 127\r\n    2023-08-03 13:51:37.174  INFO 1 --- [TaskScheduler16] o.j.office.AbstractOfficeManagerPool     : Office manager stopped\r\n\r\n\r\nThis is my java code :\r\n\r\n    libreOfficeHome = libreoff.getValue();\r\n\t \t\t\r\n\t        File initialFile = new File(workPath + &quot;/&quot; + fileName);\r\n\t        LocalOfficeManager localOfficeManager = LocalOfficeManager.builder()\r\n\t                .install()\r\n\t                .officeHome(libreOfficeHome) //your path to openoffice\r\n\t                .build();\r\n\t\r\n\t        try {\r\n\t        \tlocalOfficeManager.start();\r\n\t        \tfinal DocumentFormat format\t= DocumentFormat.builder()\r\n\t        \t\t\t.from(DefaultDocumentFormatRegistry.DOCX)\r\n\t                    .build();\r\n\t\r\n\t        \tLocalConverter\r\n\t                  .make()\r\n\t                  .convert(new FileInputStream(initialFile))\r\n\t                  .as(DefaultDocumentFormatRegistry.getFormatByMediaType(&quot;application/msword&quot;))\r\n\t                  .to(new File(targetFile))\r\n\t                  .as(format)\r\n\t                  .execute();\r\n\t\r\n\t        } catch (Exception e) {\r\n\t  \t\t\tlogger.error(&quot;ERROR convertToDocx: &quot; + ExceptionUtils.getStackTrace(e));\r\n\t\t    \treturn null;\r\n\t        } finally {\r\n\t        \tOfficeUtils.stopQuietly(localOfficeManager);\r\n\t        }\r\n\r\nSame error with libreoffice 7.5","title":"Docker - Libreoffice pid not found","body":"<p>I'm new in Docker (Rocky Linux) and I need to use jodconverter in java process. So I updated my Dockerfile as follow :</p>\n<pre><code>#Installing LibreOffice\nCOPY backend/LibreOffice_6.3.5.2_Linux_x86-64_rpm /usr/local/LibreOffice_6.3.5.2_Linux_x86-64_rpm\nRUN cd /usr/local/LibreOffice_6.3.5.2_Linux_x86-64_rpm/RPMS/\nRUN yum -y install /usr/local/LibreOffice_6.3.5.2_Linux_x86-64_rpm/RPMS/*.rpm;\n</code></pre>\n<p>I find libreoffice6.3 in /opt folder inside container. However &quot;Libreoffice -version&quot; doesn't work :</p>\n<pre><code>bash: Libreoffice: command not found\n</code></pre>\n<p>When the java process is executed i get the following error: <strong>ServiceManager' started but its pid could not be found</strong> :</p>\n<pre><code>OfficeProcessManager          : Submitting task 'Start' and waiting...\n2023-08-03 13:51:37.133  INFO 1 --- [ProcessThread-0] \norg.jodconverter.office.OfficeProcess    : Starting process with acceptString \n'socket,host=127.0.0.1,port=2002,tcpNoDelay=1;urp;StarOffice.ServiceManager' and \nprofileDir '/usr/local/tomcat/temp/.jodconverter_socket_host-127.0.0.1_port- \n2002_tcpNoDelay-1'\n2023-08-03 13:51:37.148  INFO 1 --- [ProcessThread-0] \norg.jodconverter.office.OfficeProcess    : Started process; pid = -2\n2023-08-03 13:51:37.149 ERROR 1 --- [TaskScheduler16] \nc.m.service.TransformationService     : ERROR convertToDocx: \norg.jodconverter.office.OfficeException: A process with acceptString 'socket,host=127.0.0.1,port=2002,tcpNoDelay=1;urp;StarOffice.ServiceManager' started but its pid could not be found\n    at org.jodconverter.office.OfficeProcess.start(OfficeProcess.java:354)\n    at org.jodconverter.office.OfficeProcessManager.doStartProcessAndConnect(OfficeProcessManager.java:100)\n    at org.jodconverter.office.OfficeProcessManager.access$100(OfficeProcessManager.java:40)\n    at org.jodconverter.office.OfficeProcessManager$4.call(OfficeProcessManager.java:260)\n    at org.jodconverter.office.OfficeProcessManager$4.call(OfficeProcessManager.java:255)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n\n2023-08-03 13:51:37.150  INFO 1 --- [TaskScheduler16] \n o.j.office.AbstractOfficeManagerPool     : Stopping the office manager pool...\n2023-08-03 13:51:37.152  INFO 1 --- [TaskScheduler16] o.j.office.OfficeProcessManager          \n: Submitting task 'Stop' and waiting...\n2023-08-03 13:51:37.159  INFO 1 --- [ProcessThread-0] \norg.jodconverter.office.OfficeProcess    : Trying to forcibly terminate process: \n'host=127.0.0.1,port=2002,tcpNoDelay=1'; pid: -2\n2023-08-03 13:51:37.166  INFO 1 --- [ProcessThread-0] o.j.office.OfficeProcessManager          \n: process forcibly terminated with code 127\n2023-08-03 13:51:37.166  INFO 1 --- [ProcessThread-0] o.j.office.OfficeProcessManager          \n: process exited with code 127\n2023-08-03 13:51:37.174  INFO 1 --- [TaskScheduler16] o.j.office.AbstractOfficeManagerPool     : Office manager stopped\n</code></pre>\n<p>This is my java code :</p>\n<pre><code>libreOfficeHome = libreoff.getValue();\n        \n        File initialFile = new File(workPath + &quot;/&quot; + fileName);\n        LocalOfficeManager localOfficeManager = LocalOfficeManager.builder()\n                .install()\n                .officeHome(libreOfficeHome) //your path to openoffice\n                .build();\n\n        try {\n            localOfficeManager.start();\n            final DocumentFormat format = DocumentFormat.builder()\n                    .from(DefaultDocumentFormatRegistry.DOCX)\n                    .build();\n\n            LocalConverter\n                  .make()\n                  .convert(new FileInputStream(initialFile))\n                  .as(DefaultDocumentFormatRegistry.getFormatByMediaType(&quot;application/msword&quot;))\n                  .to(new File(targetFile))\n                  .as(format)\n                  .execute();\n\n        } catch (Exception e) {\n            logger.error(&quot;ERROR convertToDocx: &quot; + ExceptionUtils.getStackTrace(e));\n            return null;\n        } finally {\n            OfficeUtils.stopQuietly(localOfficeManager);\n        }\n</code></pre>\n<p>Same error with libreoffice 7.5</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":7,"creation_date":1691056196,"post_id":76826854,"comment_id":135441000,"body_markdown":"Nothing other than no body is present as none is needed. The functionality is all in the loop condition. A terminating semicolon is often a mistake by beginners (then they wonder why the body doesn&#39;t execute) but not in this case","body":"Nothing other than no body is present as none is needed. The functionality is all in the loop condition. A terminating semicolon is often a mistake by beginners (then they wonder why the body doesn&#39;t execute) but not in this case"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1691056941,"post_id":76826854,"comment_id":135441198,"body_markdown":"you could, instead of a semicolon, use empty braces (`while (condition) { }`), same result","body":"you could, instead of a semicolon, use empty braces (<code>while (condition) { }</code>), same result"},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1691065274,"post_id":76826854,"comment_id":135442904,"body_markdown":"Duplicate of [Semicolon at end of &#39;if&#39; statement](https://stackoverflow.com/questions/14112515/semicolon-at-end-of-if-statement)","body":"Duplicate of <a href=\"https://stackoverflow.com/questions/14112515/semicolon-at-end-of-if-statement\">Semicolon at end of &#39;if&#39; statement</a>"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1691066114,"post_id":76826854,"comment_id":135443099,"body_markdown":"@user16320675 perhaps more readable","body":"@user16320675 perhaps more readable"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1691068547,"post_id":76826854,"comment_id":135443658,"body_markdown":"if you want to Google it, search for &quot;Java empty statement&quot;.  It is also known as a &quot;null statement&quot;.","body":"if you want to Google it, search for &quot;Java empty statement&quot;.  It is also known as a &quot;null statement&quot;."}],"answers":[{"tags":[],"owner":{"account_id":27534399,"reputation":89,"user_id":21012339,"display_name":"Chr L"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1691065131,"creation_date":1691056155,"answer_id":76826886,"question_id":76826854,"body_markdown":"```while(cond);```\r\n\r\nis the same as\r\n\r\n```while(cond) {}```\r\n\r\n","title":"What does a while loop that ends with a semicolon mean?","body":"<p><code>while(cond);</code></p>\n<p>is the same as</p>\n<p><code>while(cond) {}</code></p>\n"}],"owner":{"account_id":10999293,"reputation":41,"user_id":8101894,"accept_rate":0,"display_name":"Daniel Yoon"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":1,"score":-4,"last_activity_date":1691065131,"creation_date":1691055975,"question_id":76826854,"body_markdown":"I came across this piece of code but I&#39;m not familiar with this while loop syntax.\r\n\r\n    while(i &lt; j){\r\n        while(distance(arr[++i]) &lt; distance(p));\r\n        while(distance(arr[--j]) &gt; distance(p));\r\n        if(i &lt; j){\r\n            swap(arr, i, j);\r\n        }\r\n    }\r\n\r\nI&#39;ve never seen a while loop without braces that end in semicolons. What do they mean?","title":"What does a while loop that ends with a semicolon mean?","body":"<p>I came across this piece of code but I'm not familiar with this while loop syntax.</p>\n<pre><code>while(i &lt; j){\n    while(distance(arr[++i]) &lt; distance(p));\n    while(distance(arr[--j]) &gt; distance(p));\n    if(i &lt; j){\n        swap(arr, i, j);\n    }\n}\n</code></pre>\n<p>I've never seen a while loop without braces that end in semicolons. What do they mean?</p>\n"},{"tags":["java","swing","joptionpane"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1691063341,"post_id":76827752,"comment_id":135442525,"body_markdown":"Instead of passing an array of `String`s, pass an array of `JButton`s configured to your desired state","body":"Instead of passing an array of <code>String</code>s, pass an array of <code>JButton</code>s configured to your desired state"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1691064120,"creation_date":1691064120,"answer_id":76827874,"question_id":76827752,"body_markdown":"The `JOptionPane` is a vey flexible and curious class.\r\n\r\nIf you read the documentation for [`JOptionPane#showOptionDialog(Component, Object, String, int, int, Icon, Object[], Object)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JOptionPane.html#showOptionDialog(java.awt.Component,java.lang.Object,java.lang.String,int,int,javax.swing.Icon,java.lang.Object%5B%5D,java.lang.Object)) you will find that the parameter `options` states:\r\n\r\n&gt; `options` - an array of objects indicating the possible choices the\r\n&gt; user can make; **if the objects are components, they are rendered\r\n&gt; properly**; non-String objects are rendered using their `toString`\r\n&gt; methods; if this parameter is `null`, the options are determined by\r\n&gt; the Look and Feel\r\n\r\n(emphasis added by me)\r\n\r\nThis basically means you can pass your own configured `JButton`s via the `options` parameter and they will be &quot;rendered properly&quot;.\r\n\r\nHaving said that, it will take some additional work to make work as &quot;normal&quot; (ie returning the index of the option that was selected).\r\n\r\n    import java.awt.Color;\r\n    import java.awt.EventQueue;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JComponent;\r\n    import javax.swing.JOptionPane;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    showOptions();\r\n                }\r\n            });\r\n        }\r\n\r\n        protected JOptionPane getOptionPane(JComponent parent) {\r\n            JOptionPane pane = null;\r\n            if (!(parent instanceof JOptionPane)) {\r\n                pane = getOptionPane((JComponent) parent.getParent());\r\n            } else {\r\n                pane = (JOptionPane) parent;\r\n            }\r\n            return pane;\r\n        }\r\n\r\n        public void showOptions() {\r\n            final JButton okay = new JButton(&quot;Ok&quot;);\r\n            okay.setForeground(Color.GREEN);\r\n            okay.addActionListener(new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    JOptionPane pane = getOptionPane((JComponent) e.getSource());\r\n                    pane.setValue(okay);\r\n                }\r\n            });\r\n            final JButton cancel = new JButton(&quot;Cancel&quot;);\r\n            cancel.setForeground(Color.RED);\r\n            cancel.addActionListener(new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    JOptionPane pane = getOptionPane((JComponent) e.getSource());\r\n                    pane.setValue(cancel);\r\n                }\r\n            });\r\n\r\n            int option = JOptionPane.showOptionDialog(\r\n                    null,\r\n                    &quot;Happiness and Joy&quot;,\r\n                    &quot;Get&quot;,\r\n                    JOptionPane.YES_NO_OPTION,\r\n                    JOptionPane.QUESTION_MESSAGE,\r\n                    null,\r\n                    new Object[]{okay, cancel},\r\n                    okay);\r\n            System.out.println(option);\r\n        }\r\n\r\n    }\r\n","title":"Change a JOptionPane&#39;s button text color","body":"<p>The <code>JOptionPane</code> is a vey flexible and curious class.</p>\n<p>If you read the documentation for <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JOptionPane.html#showOptionDialog(java.awt.Component,java.lang.Object,java.lang.String,int,int,javax.swing.Icon,java.lang.Object%5B%5D,java.lang.Object)\" rel=\"nofollow noreferrer\"><code>JOptionPane#showOptionDialog(Component, Object, String, int, int, Icon, Object[], Object)</code></a> you will find that the parameter <code>options</code> states:</p>\n<blockquote>\n<p><code>options</code> - an array of objects indicating the possible choices the\nuser can make; <strong>if the objects are components, they are rendered\nproperly</strong>; non-String objects are rendered using their <code>toString</code>\nmethods; if this parameter is <code>null</code>, the options are determined by\nthe Look and Feel</p>\n</blockquote>\n<p>(emphasis added by me)</p>\n<p>This basically means you can pass your own configured <code>JButton</code>s via the <code>options</code> parameter and they will be &quot;rendered properly&quot;.</p>\n<p>Having said that, it will take some additional work to make work as &quot;normal&quot; (ie returning the index of the option that was selected).</p>\n<pre><code>import java.awt.Color;\nimport java.awt.EventQueue;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.JButton;\nimport javax.swing.JComponent;\nimport javax.swing.JOptionPane;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                showOptions();\n            }\n        });\n    }\n\n    protected JOptionPane getOptionPane(JComponent parent) {\n        JOptionPane pane = null;\n        if (!(parent instanceof JOptionPane)) {\n            pane = getOptionPane((JComponent) parent.getParent());\n        } else {\n            pane = (JOptionPane) parent;\n        }\n        return pane;\n    }\n\n    public void showOptions() {\n        final JButton okay = new JButton(&quot;Ok&quot;);\n        okay.setForeground(Color.GREEN);\n        okay.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                JOptionPane pane = getOptionPane((JComponent) e.getSource());\n                pane.setValue(okay);\n            }\n        });\n        final JButton cancel = new JButton(&quot;Cancel&quot;);\n        cancel.setForeground(Color.RED);\n        cancel.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                JOptionPane pane = getOptionPane((JComponent) e.getSource());\n                pane.setValue(cancel);\n            }\n        });\n\n        int option = JOptionPane.showOptionDialog(\n                null,\n                &quot;Happiness and Joy&quot;,\n                &quot;Get&quot;,\n                JOptionPane.YES_NO_OPTION,\n                JOptionPane.QUESTION_MESSAGE,\n                null,\n                new Object[]{okay, cancel},\n                okay);\n        System.out.println(option);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14423201,"reputation":840,"user_id":10418725,"display_name":"Jorn Rigter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691064665,"creation_date":1691064665,"answer_id":76827944,"question_id":76827752,"body_markdown":"I figured it out - simply use HTML formatting to set the button text color:\r\n\r\n    JOptionPane.showOptionDialog(\r\n        null, // parent\r\n        &quot;Body text&quot;, \r\n        &quot;Title text&quot;, \r\n        JOptionPane.YES_NO_OPTION, \r\n        JOptionPane.WARNING_MESSAGE,\r\n        null, // icon\r\n        new String[]{&quot;&lt;html&gt;&lt;font color=#ff0000&gt;Continue&lt;/font&gt;&lt;/html&gt;&quot;, &quot;Cancel&quot;}, \r\n        &quot;Cancel&quot;);","title":"Change a JOptionPane&#39;s button text color","body":"<p>I figured it out - simply use HTML formatting to set the button text color:</p>\n<pre><code>JOptionPane.showOptionDialog(\n    null, // parent\n    &quot;Body text&quot;, \n    &quot;Title text&quot;, \n    JOptionPane.YES_NO_OPTION, \n    JOptionPane.WARNING_MESSAGE,\n    null, // icon\n    new String[]{&quot;&lt;html&gt;&lt;font color=#ff0000&gt;Continue&lt;/font&gt;&lt;/html&gt;&quot;, &quot;Cancel&quot;}, \n    &quot;Cancel&quot;);\n</code></pre>\n"}],"owner":{"account_id":14423201,"reputation":840,"user_id":10418725,"display_name":"Jorn Rigter"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76827944,"answer_count":2,"score":0,"last_activity_date":1691064665,"creation_date":1691063006,"question_id":76827752,"body_markdown":"I would like to change the button text color *of one of the options* of a JOptionPane dialog to be different from the default color in Java Swing. So far, I&#39;ve found some answers on how to do this for the entire application, but no answers for how to do this for one specific button.\r\n\r\nThe way I&#39;m displaying the dialog (documentation [here][1]):\r\n\r\n    JOptionPane.showOptionDialog(\r\n        null, // parent\r\n        &quot;Body text&quot;, \r\n        &quot;Title text&quot;, \r\n        JOptionPane.YES_NO_OPTION, \r\n        JOptionPane.WARNING_MESSAGE,\r\n        null, // icon\r\n        new String[]{&quot;Continue&quot;, &quot;Cancel&quot;}, \r\n        &quot;Cancel&quot;);\r\n\r\nI would like the &quot;Continue&quot; button to have red text color instead, but want all other JOptionPane button text colors in my app to remain the same.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase%2F7%2Fdocs%2Fapi%2F%2F/javax/swing/JOptionPane.html#showOptionDialog(java.awt.Component,%20java.lang.Object,%20java.lang.String,%20int,%20int,%20javax.swing.Icon,%20java.lang.Object[],%20java.lang.Object)","title":"Change a JOptionPane&#39;s button text color","body":"<p>I would like to change the button text color <em>of one of the options</em> of a JOptionPane dialog to be different from the default color in Java Swing. So far, I've found some answers on how to do this for the entire application, but no answers for how to do this for one specific button.</p>\n<p>The way I'm displaying the dialog (documentation <a href=\"https://docs.oracle.com/javase%2F7%2Fdocs%2Fapi%2F%2F/javax/swing/JOptionPane.html#showOptionDialog(java.awt.Component,%20java.lang.Object,%20java.lang.String,%20int,%20int,%20javax.swing.Icon,%20java.lang.Object%5B%5D,%20java.lang.Object)\" rel=\"nofollow noreferrer\">here</a>):</p>\n<pre><code>JOptionPane.showOptionDialog(\n    null, // parent\n    &quot;Body text&quot;, \n    &quot;Title text&quot;, \n    JOptionPane.YES_NO_OPTION, \n    JOptionPane.WARNING_MESSAGE,\n    null, // icon\n    new String[]{&quot;Continue&quot;, &quot;Cancel&quot;}, \n    &quot;Cancel&quot;);\n</code></pre>\n<p>I would like the &quot;Continue&quot; button to have red text color instead, but want all other JOptionPane button text colors in my app to remain the same.</p>\n"},{"tags":["java","spring-boot","scheduled-tasks","threadpool"],"comments":[{"owner":{"account_id":2122531,"reputation":363,"user_id":2425668,"display_name":"Radiance Wei Qi Ong"},"score":1,"creation_date":1690970396,"post_id":76818138,"comment_id":135426040,"body_markdown":"What is the problem with catching the exception? You should catch and handle it. You can use a try-finally block to ensure that doSomething() gets called","body":"What is the problem with catching the exception? You should catch and handle it. You can use a try-finally block to ensure that doSomething() gets called"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1691065722,"post_id":76818138,"comment_id":135442992,"body_markdown":"Many questions: I don&#39;t understand, what problem you want to solve with your whole setup. Can you describe it please? What do you want to achieve with `scheduleFuture.get()`? How exactly do you &quot;returning the ... result&quot;? Which result? Return from where to where? Could you please set up a [mre] so we understand it by reading a complete piece of code?","body":"Many questions: I don&#39;t understand, what problem you want to solve with your whole setup. Can you describe it please? What do you want to achieve with <code>scheduleFuture.get()</code>? How exactly do you &quot;returning the ... result&quot;? Which result? Return from where to where? Could you please set up a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> so we understand it by reading a complete piece of code?"},{"owner":{"account_id":28633305,"reputation":1,"user_id":21923878,"display_name":"Andrea P."},"score":0,"creation_date":1691141143,"post_id":76818138,"comment_id":135454643,"body_markdown":"I was managing the Exception inside the MyTask in the wrong way. Now I have found the problem. Thanks guys!","body":"I was managing the Exception inside the MyTask in the wrong way. Now I have found the problem. Thanks guys!"}],"owner":{"account_id":28633305,"reputation":1,"user_id":21923878,"display_name":"Andrea P."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691064648,"creation_date":1690966255,"question_id":76818138,"body_markdown":"I&#39;m using springBoot 3.1 with a ThreadPoolTaskScheduler bean to schedule some runnable tasks in this way\r\n\r\n`threadPoolTaskScheduler.scheduleAtFixedRate(new MyTask(), Duration.ofMillis(2000));`\r\n\r\nI have configured a threadPool in a configuration class\r\n\r\n```\r\n    @Bean\r\n    public ThreadPoolTaskScheduler threadPoolTaskScheduler() {\r\n        ThreadPoolTaskScheduler threadPoolTaskScheduler = new ThreadPoolTaskScheduler();\r\n        threadPoolTaskScheduler.setThreadNamePrefix(&quot;machineScheduler-&quot;);\r\n        threadPoolTaskScheduler.setThreadGroupName(&quot;machineGroup-&quot;);\r\n        threadPoolTaskScheduler.initialize();\r\n        return threadPoolTaskScheduler;\r\n    }\r\n```\r\n\r\nnext I have a singleton bean with a map \r\n`ConcurrentHashMap&lt;String, ScheduledFuture&lt;?&gt;&gt; commandManagerMap;`\r\nthen I put, into the map above, the scheduleFuture returned by the method scheduleAtFixedRate.\r\n\r\n```\r\nScheduledFuture&lt;?&gt; scheduledFuture = threadPoolTaskScheduler.scheduleAtFixedRate(new MyTask(), Duration.ofMillis(2000));\r\ncommandManagerMap.put(key, scheduledFuture);\r\n```\r\n\r\nI have also created a Controller to cancel the task, but when I get the scheduleFuture and call \r\n\r\n```\r\nscheduleFuture = commandManagerMap.get(key);\r\nscheduleFuture.cancel(false);\r\ndoSomething();\r\n```\r\nmy controller don&#39;t wait the termination of task and then returning the incorrect result.\r\n\r\n\r\nI have tried to use CountDownLatch inside MyTask but every time the task is triggered the instance of MyTask is always the same: I can&#39;t use CountDownLatch  in this way \r\n\r\n```\r\npublic class MyTask implements Runnable {\r\n    final CountDownLatch latch = new CountDownLatch(1);\r\n\r\n    @Override\r\n    public void run() {\r\n        doSomething()\r\n        latch.countDown();\r\n    }\r\n\r\n}\r\n```\r\nbecase when I run MyTask for the fisrt time countDown is called.\r\n\r\nI also tried to call Thread.currentThread() into Controller \r\n\r\n```\r\nscheduleFuture = commandManagerMap.get(key);\r\nscheduleFuture.cancel(false);\r\nThread.currentThread().wait(12);\r\ndoSomething();\r\n```\r\nbut I receive :\r\n\r\n    IllegalMonitorStateException: current thread is not owner\r\n\r\nI can&#39;t use either\r\n`scheduleFuture.cancel(true);`  because if task is running it can throw an exception \r\nor \r\n```\r\nscheduleFuture = commandManagerMap.get(key);\r\nscheduleFuture.cancel(false);\r\nscheduleFuture.get();\r\ndoSomething();\r\n```\r\nbecause get() method after cancel() throws exception.\r\n\r\nI would like to cancel the scheduleFuture then wait the termination of task and next continuing with doSomething.\r\nCan someone help me to write/explain the correct way of waiting the task termination and next continuing with my doSomething();\r\nI hope to explained my problem correctly, thanks a lot!\r\n\r\n-- UPDATE --\r\n\r\nI don&#39;t want catch the exception into MyTask because I want the Task finish its work. \r\nI don&#39;t want catch the exception threw by \r\n\r\n    scheduleFuture.cancel(false);\r\n    scheduleFuture.get();\r\n\r\nbecause the task could be still running.\r\n\r\nSo, what I want to achieve :\r\n\r\nMyTask needs to save informations in TableA and at the end save &quot;state&quot; in TableB. \r\nController disable MyTask and, after the task termination, it save &quot;state&quot; in TableB. \r\nI want to save both informations of MyTask and than the Controller save its &quot;state&quot; in TableB after MyTask. \r\n\r\nI hope to have explained better the problem\r\n","title":"Wait task termination in ThreadPoolTaskScheduler","body":"<p>I'm using springBoot 3.1 with a ThreadPoolTaskScheduler bean to schedule some runnable tasks in this way</p>\n<p><code>threadPoolTaskScheduler.scheduleAtFixedRate(new MyTask(), Duration.ofMillis(2000));</code></p>\n<p>I have configured a threadPool in a configuration class</p>\n<pre><code>    @Bean\n    public ThreadPoolTaskScheduler threadPoolTaskScheduler() {\n        ThreadPoolTaskScheduler threadPoolTaskScheduler = new ThreadPoolTaskScheduler();\n        threadPoolTaskScheduler.setThreadNamePrefix(&quot;machineScheduler-&quot;);\n        threadPoolTaskScheduler.setThreadGroupName(&quot;machineGroup-&quot;);\n        threadPoolTaskScheduler.initialize();\n        return threadPoolTaskScheduler;\n    }\n</code></pre>\n<p>next I have a singleton bean with a map\n<code>ConcurrentHashMap&lt;String, ScheduledFuture&lt;?&gt;&gt; commandManagerMap;</code>\nthen I put, into the map above, the scheduleFuture returned by the method scheduleAtFixedRate.</p>\n<pre><code>ScheduledFuture&lt;?&gt; scheduledFuture = threadPoolTaskScheduler.scheduleAtFixedRate(new MyTask(), Duration.ofMillis(2000));\ncommandManagerMap.put(key, scheduledFuture);\n</code></pre>\n<p>I have also created a Controller to cancel the task, but when I get the scheduleFuture and call</p>\n<pre><code>scheduleFuture = commandManagerMap.get(key);\nscheduleFuture.cancel(false);\ndoSomething();\n</code></pre>\n<p>my controller don't wait the termination of task and then returning the incorrect result.</p>\n<p>I have tried to use CountDownLatch inside MyTask but every time the task is triggered the instance of MyTask is always the same: I can't use CountDownLatch  in this way</p>\n<pre><code>public class MyTask implements Runnable {\n    final CountDownLatch latch = new CountDownLatch(1);\n\n    @Override\n    public void run() {\n        doSomething()\n        latch.countDown();\n    }\n\n}\n</code></pre>\n<p>becase when I run MyTask for the fisrt time countDown is called.</p>\n<p>I also tried to call Thread.currentThread() into Controller</p>\n<pre><code>scheduleFuture = commandManagerMap.get(key);\nscheduleFuture.cancel(false);\nThread.currentThread().wait(12);\ndoSomething();\n</code></pre>\n<p>but I receive :</p>\n<pre><code>IllegalMonitorStateException: current thread is not owner\n</code></pre>\n<p>I can't use either\n<code>scheduleFuture.cancel(true);</code>  because if task is running it can throw an exception\nor</p>\n<pre><code>scheduleFuture = commandManagerMap.get(key);\nscheduleFuture.cancel(false);\nscheduleFuture.get();\ndoSomething();\n</code></pre>\n<p>because get() method after cancel() throws exception.</p>\n<p>I would like to cancel the scheduleFuture then wait the termination of task and next continuing with doSomething.\nCan someone help me to write/explain the correct way of waiting the task termination and next continuing with my doSomething();\nI hope to explained my problem correctly, thanks a lot!</p>\n<p>-- UPDATE --</p>\n<p>I don't want catch the exception into MyTask because I want the Task finish its work.\nI don't want catch the exception threw by</p>\n<pre><code>scheduleFuture.cancel(false);\nscheduleFuture.get();\n</code></pre>\n<p>because the task could be still running.</p>\n<p>So, what I want to achieve :</p>\n<p>MyTask needs to save informations in TableA and at the end save &quot;state&quot; in TableB.\nController disable MyTask and, after the task termination, it save &quot;state&quot; in TableB.\nI want to save both informations of MyTask and than the Controller save its &quot;state&quot; in TableB after MyTask.</p>\n<p>I hope to have explained better the problem</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","jparepository"],"owner":{"account_id":10165842,"reputation":45,"user_id":7507830,"display_name":"namer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691064215,"creation_date":1691062196,"question_id":76827650,"body_markdown":"I have an object called Community that looks like this:\r\n\r\n```\r\npackage FamilyFusion.rnr.domain.community;\r\n\r\n\r\nimport FamilyFusion.rnr.domain.familyTree.Tree;\r\nimport FamilyFusion.rnr.domain.users.User;\r\nimport jakarta.persistence.*;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\nimport java.util.List;\r\n\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Data\r\n@Entity\r\npublic class Community {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n\r\n    @OneToOne(fetch = FetchType.EAGER, cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REFRESH, CascadeType.DETACH})\r\n    private Tree familyTree;\r\n\r\n    private String communityName;\r\n\r\n    @OneToOne(fetch = FetchType.EAGER, cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REFRESH, CascadeType.DETACH})\r\n    private User admin;\r\n\r\n    @OneToMany(fetch = FetchType.EAGER, cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REFRESH, CascadeType.DETACH})\r\n    private List&lt;User&gt; usersPlus;\r\n\r\n    @OneToMany(fetch = FetchType.EAGER, cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REFRESH, CascadeType.DETACH})\r\n    private List&lt;User&gt; members;\r\n\r\n\r\n    public Community(Tree familyTree, String communityName, User admin, List&lt;User&gt; usersPlus, List&lt;User&gt; members) {\r\n        this.familyTree = familyTree;\r\n        this.communityName = communityName;\r\n        this.admin = admin;\r\n        this.usersPlus = usersPlus;\r\n        this.members = members;\r\n    }\r\n}\r\n\r\n```\r\n\r\nI want to use Jpa to find all communities a user is either an admin, a userPlus, or a member in. \r\n\r\nHow do I go about doing that? My first attempt was:\r\nJpa Repository\r\n```\r\n    List&lt;Community&gt; findCommunitiesByAdminOrUsersPlusOrMembers(User admin, List&lt;User&gt; usersPlus, List&lt;User&gt; members);\r\n\r\n```\r\n\r\nService Layer:\r\n```\r\n    @Override\r\n    public List&lt;Community&gt; findCommunityByAdminOrMembersOrUsersPlus(User user) {\r\n        List&lt;User&gt; users = new ArrayList&lt;&gt;();\r\n        users.add(user);\r\n        return communityRepository.findCommunitiesByAdminOrUsersPlusOrMembers(user, users, users);\r\n    }\r\n```\r\nWhich I then call in the controller:\r\n```\r\n    @GetMapping(&quot;/chooseCommunity&quot;)\r\n    public String chooseCommunity(Model model, Principal principal) {\r\n        User user = userService.findUserByEmail(principal.getName());\r\n        List&lt;Community&gt; communities = communityService.findCommunityByAdminOrMembersOrUsersPlus(user);\r\n\r\n        if (communities.size() == 0) {\r\n            return &quot;redirect:/recipe/viewAllMyRecipes&quot;;\r\n        } else if (communities.size() == 1) {\r\n            return &quot;redirect:/recipe/viewAllCommunityRecipes/&quot;+communities.get(0).getId();\r\n        } else {\r\n            return &quot;chooseCommunity&quot;;\r\n        }\r\n\r\n    }\r\n```\r\n\r\nHowever it threw me an error when I ran the server, saying there is an error because of it.","title":"Search using Jpa Repository in both the main object, and a nested list","body":"<p>I have an object called Community that looks like this:</p>\n<pre><code>package FamilyFusion.rnr.domain.community;\n\n\nimport FamilyFusion.rnr.domain.familyTree.Tree;\nimport FamilyFusion.rnr.domain.users.User;\nimport jakarta.persistence.*;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport java.util.List;\n\n@AllArgsConstructor\n@NoArgsConstructor\n@Data\n@Entity\npublic class Community {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    @OneToOne(fetch = FetchType.EAGER, cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REFRESH, CascadeType.DETACH})\n    private Tree familyTree;\n\n    private String communityName;\n\n    @OneToOne(fetch = FetchType.EAGER, cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REFRESH, CascadeType.DETACH})\n    private User admin;\n\n    @OneToMany(fetch = FetchType.EAGER, cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REFRESH, CascadeType.DETACH})\n    private List&lt;User&gt; usersPlus;\n\n    @OneToMany(fetch = FetchType.EAGER, cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REFRESH, CascadeType.DETACH})\n    private List&lt;User&gt; members;\n\n\n    public Community(Tree familyTree, String communityName, User admin, List&lt;User&gt; usersPlus, List&lt;User&gt; members) {\n        this.familyTree = familyTree;\n        this.communityName = communityName;\n        this.admin = admin;\n        this.usersPlus = usersPlus;\n        this.members = members;\n    }\n}\n\n</code></pre>\n<p>I want to use Jpa to find all communities a user is either an admin, a userPlus, or a member in.</p>\n<p>How do I go about doing that? My first attempt was:\nJpa Repository</p>\n<pre><code>    List&lt;Community&gt; findCommunitiesByAdminOrUsersPlusOrMembers(User admin, List&lt;User&gt; usersPlus, List&lt;User&gt; members);\n\n</code></pre>\n<p>Service Layer:</p>\n<pre><code>    @Override\n    public List&lt;Community&gt; findCommunityByAdminOrMembersOrUsersPlus(User user) {\n        List&lt;User&gt; users = new ArrayList&lt;&gt;();\n        users.add(user);\n        return communityRepository.findCommunitiesByAdminOrUsersPlusOrMembers(user, users, users);\n    }\n</code></pre>\n<p>Which I then call in the controller:</p>\n<pre><code>    @GetMapping(&quot;/chooseCommunity&quot;)\n    public String chooseCommunity(Model model, Principal principal) {\n        User user = userService.findUserByEmail(principal.getName());\n        List&lt;Community&gt; communities = communityService.findCommunityByAdminOrMembersOrUsersPlus(user);\n\n        if (communities.size() == 0) {\n            return &quot;redirect:/recipe/viewAllMyRecipes&quot;;\n        } else if (communities.size() == 1) {\n            return &quot;redirect:/recipe/viewAllCommunityRecipes/&quot;+communities.get(0).getId();\n        } else {\n            return &quot;chooseCommunity&quot;;\n        }\n\n    }\n</code></pre>\n<p>However it threw me an error when I ran the server, saying there is an error because of it.</p>\n"},{"tags":["java","maven","jenkins-pipeline","sonarqube"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1691063159,"post_id":76827725,"comment_id":135442495,"body_markdown":"You must use Java 17 or newer with maven.","body":"You must use Java 17 or newer with maven."},{"owner":{"account_id":20264119,"reputation":265,"user_id":14861772,"display_name":"dovexz12323"},"score":0,"creation_date":1691063279,"post_id":76827725,"comment_id":135442511,"body_markdown":"@Thorbj&#248;rnRavnAndersen Could you please elaborate?","body":"@Thorbj&#248;rnRavnAndersen Could you please elaborate?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1691063597,"post_id":76827725,"comment_id":135442569,"body_markdown":"Are you sure that your Jenkins environment is running 17 or later?","body":"Are you sure that your Jenkins environment is running 17 or later?"},{"owner":{"account_id":20264119,"reputation":265,"user_id":14861772,"display_name":"dovexz12323"},"score":0,"creation_date":1691066789,"post_id":76827725,"comment_id":135443252,"body_markdown":"Yeah that&#39;s interesting, unfortunately it seems to be Using Java 11 instead of Java 17th. Weird anomaly, as it should actually use 17, as per pipeline setup","body":"Yeah that&#39;s interesting, unfortunately it seems to be Using Java 11 instead of Java 17th. Weird anomaly, as it should actually use 17, as per pipeline setup"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1691077877,"post_id":76827725,"comment_id":135445901,"body_markdown":"Obviously is the JDK used by the appropriate build on Jenkins not JDK17...","body":"Obviously is the JDK used by the appropriate build on Jenkins not JDK17..."}],"answers":[{"tags":[],"owner":{"account_id":7101255,"reputation":35,"user_id":5432693,"display_name":"Parth Pancholi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691064072,"creation_date":1691064072,"answer_id":76827870,"question_id":76827725,"body_markdown":"I think the configurations for java 8 with maven-compiler-plugin and java 17 with maven-compiler-plugin is different ways to define it. \r\n\r\nFor java 8 and lower version it&#39;s as below,\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.11.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;1.8&lt;/source&gt;\r\n          &lt;target&gt;1.8&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    \r\nFor java 9+ version the configurations are as below,\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.11.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;release&gt;8&lt;/release&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n\r\nReferences:\r\n\r\n - https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-release.html\r\n - https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html","title":"Fatal error compiling: error: invalid target release: 17","body":"<p>I think the configurations for java 8 with maven-compiler-plugin and java 17 with maven-compiler-plugin is different ways to define it.</p>\n<p>For java 8 and lower version it's as below,</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.11.0&lt;/version&gt;\n    &lt;configuration&gt;\n      &lt;source&gt;1.8&lt;/source&gt;\n      &lt;target&gt;1.8&lt;/target&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n</code></pre>\n<p>For java 9+ version the configurations are as below,</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.11.0&lt;/version&gt;\n    &lt;configuration&gt;\n      &lt;release&gt;8&lt;/release&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n</code></pre>\n<p>References:</p>\n<ul>\n<li><a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-release.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-release.html</a></li>\n<li><a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html</a></li>\n</ul>\n"}],"owner":{"account_id":20264119,"reputation":265,"user_id":14861772,"display_name":"dovexz12323"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1914,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691064072,"creation_date":1691062742,"question_id":76827725,"body_markdown":"I am trying to build a project via Jenkins, but I keep on getting this error: \r\n\r\n&gt; [ERROR] Failed to execute goal\r\n&gt; org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile\r\n&gt; (default-compile) on project my-project: Fatal error compiling: error:\r\n&gt; invalid target release: 17 -&gt; [Help 1]\r\n\r\nI have tried assigning source and target versions in pom.xml, wouldn&#39;t work.\r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n             &lt;target&gt;17&lt;/target&gt;\r\n             &lt;source&gt;17&lt;/source&gt;\r\n          &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n\r\nmvn --version output:\r\n\r\n    Apache Maven 3.8.1 (05c21c65bdfed0f71a2f2ada8b84da59348c4c5d)\r\n    Maven home: C:\\Program Files (x86)\\JetBrains\\IntelliJ IDEA 2022.3.3\\plugins\\maven\\lib\\maven3\r\n    Java version: 17.0.8, vendor: Eclipse Adoptium, runtime: C:\\Program Files\\Eclipse Adoptium\\jdk-17.0.8.7-hotspot\r\n    Default locale: en_US, platform encoding: UTF-8\r\n    OS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\r\n\r\nAs a matter of fact, if I specify the source and target of versions as 1.8, it would then build correctly, but the project is using Java 17.\r\n\r\n       &lt;java.version&gt;17&lt;/java.version&gt;\r\n\r\n\r\nWhat other ways of fixing I could try to make it work?\r\n","title":"Fatal error compiling: error: invalid target release: 17","body":"<p>I am trying to build a project via Jenkins, but I keep on getting this error:</p>\n<blockquote>\n<p>[ERROR] Failed to execute goal\norg.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile\n(default-compile) on project my-project: Fatal error compiling: error:\ninvalid target release: 17 -&gt; [Help 1]</p>\n</blockquote>\n<p>I have tried assigning source and target versions in pom.xml, wouldn't work.</p>\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n      &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\n      &lt;configuration&gt;\n         &lt;target&gt;17&lt;/target&gt;\n         &lt;source&gt;17&lt;/source&gt;\n      &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>mvn --version output:</p>\n<pre><code>Apache Maven 3.8.1 (05c21c65bdfed0f71a2f2ada8b84da59348c4c5d)\nMaven home: C:\\Program Files (x86)\\JetBrains\\IntelliJ IDEA 2022.3.3\\plugins\\maven\\lib\\maven3\nJava version: 17.0.8, vendor: Eclipse Adoptium, runtime: C:\\Program Files\\Eclipse Adoptium\\jdk-17.0.8.7-hotspot\nDefault locale: en_US, platform encoding: UTF-8\nOS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\n</code></pre>\n<p>As a matter of fact, if I specify the source and target of versions as 1.8, it would then build correctly, but the project is using Java 17.</p>\n<pre><code>   &lt;java.version&gt;17&lt;/java.version&gt;\n</code></pre>\n<p>What other ways of fixing I could try to make it work?</p>\n"},{"tags":["java","android","billing"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1690889144,"post_id":76811042,"comment_id":135413119,"body_markdown":"Seems to be a duplicate of https://stackoverflow.com/questions/43752248/how-to-determine-where-to-place-the-currency-symbol-when-formatting-a-number.\nAlso note that using floating point types for currency is going to cause representation errors at some point. You should be using BigDecimal for currency operations.","body":"Seems to be a duplicate of <a href=\"https://stackoverflow.com/questions/43752248/how-to-determine-where-to-place-the-currency-symbol-when-formatting-a-number\" title=\"how to determine where to place the currency symbol when formatting a number\">stackoverflow.com/questions/43752248/&hellip;</a>. Also note that using floating point types for currency is going to cause representation errors at some point. You should be using BigDecimal for currency operations."},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1690889978,"post_id":76811042,"comment_id":135413308,"body_markdown":"Seems possible to use Locale strings.xml and using format arguments to replace actual values: this [answer](https://stackoverflow.com/questions/3656371/is-it-possible-to-have-placeholders-in-strings-xml-for-runtime-values) touches on it.  You can therefore customize each &quot;subscription&quot; message per supported locale.  [Resources.getString](https://developer.android.com/reference/android/content/res/Resources#getString(int,%20java.lang.Object[])) is the useful method.","body":"Seems possible to use Locale strings.xml and using format arguments to replace actual values: this <a href=\"https://stackoverflow.com/questions/3656371/is-it-possible-to-have-placeholders-in-strings-xml-for-runtime-values\">answer</a> touches on it.  You can therefore customize each &quot;subscription&quot; message per supported locale.  <a href=\"https://developer.android.com/reference/android/content/res/Resources#getString(int,%20java.lang.Object%5B%5D)\" rel=\"nofollow noreferrer\">Resources.getString</a> is the useful method."}],"answers":[{"tags":[],"owner":{"account_id":295316,"reputation":736,"user_id":3324415,"accept_rate":74,"display_name":"BernardV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691063951,"creation_date":1690894284,"answer_id":76811817,"question_id":76811042,"body_markdown":"**Updated** as per request to make it more generic:\r\n\r\n````Java\r\nimport java.text.NumberFormat;\r\nimport java.util.Locale;\r\n\r\npublic class CurrencyFormatter {\r\n\r\n    public enum LanguageCode {\r\n        EN, ES, FR // Add more language codes as needed\r\n    }\r\n\r\n    public enum CountryCode {\r\n        US, ES, FR, GB // Add more country codes as needed\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        String stringSpain = getFormattedCurrencyString(LanguageCode.ES, CountryCode.ES, 1f, 12f);\r\n        System.out.println(stringSpain);\r\n\r\n        String stringFrance = getFormattedCurrencyString(LanguageCode.FR, CountryCode.FR, 1f, 12f);\r\n        System.out.println(stringFrance);\r\n\r\n        String stringUK = getFormattedCurrencyString(LanguageCode.EN, CountryCode.GB, 1f, 12f);\r\n        System.out.println(stringUK);\r\n\r\n        String stringUS = getFormattedCurrencyString(LanguageCode.EN, CountryCode.US, 1f, 12f);\r\n        System.out.println(stringUS);\r\n    }\r\n\r\n    public static String getFormattedCurrencyString(LanguageCode languageCode, CountryCode countryCode, float monthlyPrice, float yearlyPrice) {\r\n        Locale locale = Locale.forLanguageTag(languageCode.name() + &quot;-&quot; + countryCode.name());\r\n        NumberFormat currencyFormat = NumberFormat.getCurrencyInstance(locale);\r\n        String formattedMonthlyPrice = currencyFormat.format(monthlyPrice);\r\n        String formattedYearlyPrice = currencyFormat.format(yearlyPrice);\r\n        return &quot;Get this subscription for only &quot; + formattedMonthlyPrice + &quot;/month (billed as yearly payments of &quot; + formattedYearlyPrice + &quot;)&quot;;\r\n    }\r\n}\r\n````\r\n\r\n\r\nThis should work fine:\r\n\r\n    Locale countryLocaleSpain = Locale.of(&quot;es&quot;, &quot;ES&quot;);\r\n    NumberFormat currencyFormatSpain = NumberFormat.getCurrencyInstance(countryLocaleSpain);\r\n    String stringSpain = &quot;Get this subscription for only &quot; + currencyFormatSpain.format(1f)  + &quot;/month (billed as yearly payments of &quot; + currencyFormatSpain.format(12f);\r\n    System.out.println(stringSpain);\r\n    \r\n    Locale countryLocaleFrance = Locale.FRANCE;\r\n    NumberFormat currencyFormatFrance = NumberFormat.getCurrencyInstance(countryLocaleFrance);\r\n    String stringFrance = &quot;Get this subscription for only &quot; + currencyFormatFrance.format(1f)  + &quot;/month (billed as yearly payments of &quot; + currencyFormatFrance.format(12f);\r\n    System.out.println(stringFrance);\r\n    \r\n    Locale countryLocaleUK = Locale.UK;\r\n    NumberFormat currencyFormatUK = NumberFormat.getCurrencyInstance(countryLocaleUK);\r\n    String stringUK = &quot;Get this subscription for only &quot; + currencyFormatUK.format(1f)  + &quot;/month (billed as yearly payments of &quot; + currencyFormatUK.format(12f);\r\n    System.out.println(stringUK);\r\n    \r\n    Locale countryLocaleUS = Locale.US;\r\n    NumberFormat currencyFormatUS = NumberFormat.getCurrencyInstance(countryLocaleUS);\r\n    String stringUS = &quot;Get this subscription for only &quot; + currencyFormatUS.format(1f)  + &quot;/month (billed as yearly payments of &quot; + currencyFormatUS.format(12f);\r\n    System.out.println(stringUS);\r\n\r\n\r\nOutput:\r\n\r\n    Get this subscription for only 1,00&#160;€/month (billed as yearly payments of 12,00&#160;€\r\n    Get this subscription for only 1,00&#160;€/month (billed as yearly payments of 12,00&#160;€\r\n    Get this subscription for only &#163;1.00/month (billed as yearly payments of &#163;12.00\r\n    Get this subscription for only $1.00/month (billed as yearly payments of $12.00","title":"How to divide a yearly subscription prince into 12 months in Android?","body":"<p><strong>Updated</strong> as per request to make it more generic:</p>\n<pre><code>import java.text.NumberFormat;\nimport java.util.Locale;\n\npublic class CurrencyFormatter {\n\n    public enum LanguageCode {\n        EN, ES, FR // Add more language codes as needed\n    }\n\n    public enum CountryCode {\n        US, ES, FR, GB // Add more country codes as needed\n    }\n\n    public static void main(String[] args) {\n        String stringSpain = getFormattedCurrencyString(LanguageCode.ES, CountryCode.ES, 1f, 12f);\n        System.out.println(stringSpain);\n\n        String stringFrance = getFormattedCurrencyString(LanguageCode.FR, CountryCode.FR, 1f, 12f);\n        System.out.println(stringFrance);\n\n        String stringUK = getFormattedCurrencyString(LanguageCode.EN, CountryCode.GB, 1f, 12f);\n        System.out.println(stringUK);\n\n        String stringUS = getFormattedCurrencyString(LanguageCode.EN, CountryCode.US, 1f, 12f);\n        System.out.println(stringUS);\n    }\n\n    public static String getFormattedCurrencyString(LanguageCode languageCode, CountryCode countryCode, float monthlyPrice, float yearlyPrice) {\n        Locale locale = Locale.forLanguageTag(languageCode.name() + &quot;-&quot; + countryCode.name());\n        NumberFormat currencyFormat = NumberFormat.getCurrencyInstance(locale);\n        String formattedMonthlyPrice = currencyFormat.format(monthlyPrice);\n        String formattedYearlyPrice = currencyFormat.format(yearlyPrice);\n        return &quot;Get this subscription for only &quot; + formattedMonthlyPrice + &quot;/month (billed as yearly payments of &quot; + formattedYearlyPrice + &quot;)&quot;;\n    }\n}\n</code></pre>\n<p>This should work fine:</p>\n<pre><code>Locale countryLocaleSpain = Locale.of(&quot;es&quot;, &quot;ES&quot;);\nNumberFormat currencyFormatSpain = NumberFormat.getCurrencyInstance(countryLocaleSpain);\nString stringSpain = &quot;Get this subscription for only &quot; + currencyFormatSpain.format(1f)  + &quot;/month (billed as yearly payments of &quot; + currencyFormatSpain.format(12f);\nSystem.out.println(stringSpain);\n\nLocale countryLocaleFrance = Locale.FRANCE;\nNumberFormat currencyFormatFrance = NumberFormat.getCurrencyInstance(countryLocaleFrance);\nString stringFrance = &quot;Get this subscription for only &quot; + currencyFormatFrance.format(1f)  + &quot;/month (billed as yearly payments of &quot; + currencyFormatFrance.format(12f);\nSystem.out.println(stringFrance);\n\nLocale countryLocaleUK = Locale.UK;\nNumberFormat currencyFormatUK = NumberFormat.getCurrencyInstance(countryLocaleUK);\nString stringUK = &quot;Get this subscription for only &quot; + currencyFormatUK.format(1f)  + &quot;/month (billed as yearly payments of &quot; + currencyFormatUK.format(12f);\nSystem.out.println(stringUK);\n\nLocale countryLocaleUS = Locale.US;\nNumberFormat currencyFormatUS = NumberFormat.getCurrencyInstance(countryLocaleUS);\nString stringUS = &quot;Get this subscription for only &quot; + currencyFormatUS.format(1f)  + &quot;/month (billed as yearly payments of &quot; + currencyFormatUS.format(12f);\nSystem.out.println(stringUS);\n</code></pre>\n<p>Output:</p>\n<pre><code>Get this subscription for only 1,00 €/month (billed as yearly payments of 12,00 €\nGet this subscription for only 1,00 €/month (billed as yearly payments of 12,00 €\nGet this subscription for only £1.00/month (billed as yearly payments of £12.00\nGet this subscription for only $1.00/month (billed as yearly payments of $12.00\n</code></pre>\n"}],"owner":{"account_id":1443836,"reputation":9337,"user_id":1363087,"accept_rate":58,"display_name":"Ton"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":76811817,"answer_count":1,"score":-3,"last_activity_date":1691063951,"creation_date":1690888214,"question_id":76811042,"body_markdown":"I have my app in Android that has a yearly subscription. I would like to display to the user the price also in months (so it looks more attractive). For example, let&#39;s say the yerly subscription is $12, I want to display someting like this:\r\n\r\n&gt; Get this subscription for only $1/month (billed as yearly payments of\r\n&gt; $12)\r\n\r\nI looks as simple as dividing the price of the subscription by 12 moths, but I am stragling with the currency symbol. Some locales will display de symbol in the left, others in the right. For example in Spanish it will be &quot;12€&quot;.\r\n\r\nIs there a way to detect that?\r\n\r\nI am having toying with \r\n\r\nfloat fYearPerice = mySkuDetails.getPriceAmountMicros() / 1000000.0f;\r\nfloat fMonthPrice = oSubscripcion.fPrecio/12;\r\nString sCurrencyCode = oSkuDetails.getPriceCurrencyCode();\r\n\r\nI can do something as simple as this:\r\n\r\n    String s = &quot;Get this subscription for only &quot; + sCurrencyCode  + fMonthPrice  + &quot;/month (billed as yearly payments of &quot; + mySkuDetails.getPrice();\r\n\r\nBut the currency will not be in the right position for every locale. Is there a way to approach this elegantly?\r\n\r\n","title":"How to divide a yearly subscription prince into 12 months in Android?","body":"<p>I have my app in Android that has a yearly subscription. I would like to display to the user the price also in months (so it looks more attractive). For example, let's say the yerly subscription is $12, I want to display someting like this:</p>\n<blockquote>\n<p>Get this subscription for only $1/month (billed as yearly payments of\n$12)</p>\n</blockquote>\n<p>I looks as simple as dividing the price of the subscription by 12 moths, but I am stragling with the currency symbol. Some locales will display de symbol in the left, others in the right. For example in Spanish it will be &quot;12€&quot;.</p>\n<p>Is there a way to detect that?</p>\n<p>I am having toying with</p>\n<p>float fYearPerice = mySkuDetails.getPriceAmountMicros() / 1000000.0f;\nfloat fMonthPrice = oSubscripcion.fPrecio/12;\nString sCurrencyCode = oSkuDetails.getPriceCurrencyCode();</p>\n<p>I can do something as simple as this:</p>\n<pre><code>String s = &quot;Get this subscription for only &quot; + sCurrencyCode  + fMonthPrice  + &quot;/month (billed as yearly payments of &quot; + mySkuDetails.getPrice();\n</code></pre>\n<p>But the currency will not be in the right position for every locale. Is there a way to approach this elegantly?</p>\n"},{"tags":["java","spring-boot","kotlin","reactive"],"answers":[{"tags":[],"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691041350,"creation_date":1691034801,"answer_id":76824796,"question_id":76824754,"body_markdown":"Yes, spring provides many possibilities to do it, starting from AOP to request filters, but I recommend you to have a look at [OncePerRequestFilter](https://www.baeldung.com/spring-onceperrequestfilter) or [Filter](https://www.baeldung.com/spring-boot-add-filter).","title":"How to validate a secret present in headers of a post request?","body":"<p>Yes, spring provides many possibilities to do it, starting from AOP to request filters, but I recommend you to have a look at <a href=\"https://www.baeldung.com/spring-onceperrequestfilter\" rel=\"nofollow noreferrer\">OncePerRequestFilter</a> or <a href=\"https://www.baeldung.com/spring-boot-add-filter\" rel=\"nofollow noreferrer\">Filter</a>.</p>\n"},{"tags":[],"owner":{"account_id":29148860,"reputation":16,"user_id":22330131,"display_name":"Liuzhaowei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691040148,"creation_date":1691040148,"answer_id":76825067,"question_id":76824754,"body_markdown":"In my practice, I will use Spring&#39;s Filter feature to achieve this functionality.\r\n\r\nlike this:\r\n\r\n    import jakarta.servlet.FilterChain;\r\n    import jakarta.servlet.ServletException;\r\n    import jakarta.servlet.http.HttpServletRequest;\r\n    import jakarta.servlet.http.HttpServletResponse;\r\n    import org.springframework.core.annotation.Order;\r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.web.filter.OncePerRequestFilter;\r\n\r\n    import java.io.IOException;\r\n    import java.io.PrintWriter;\r\n\r\n    @Order(value = 1)\r\n    @Component\r\n    public class MyFilter extends OncePerRequestFilter {\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n        String contextPath = request.getRequestURI();\r\n        // check the path which you want to intercept\r\n        if (contextPath.startsWith(&quot;/your/path&quot;)) {\r\n            // get your parameter\r\n            String security = request.getHeader(&quot;secret&quot;);\r\n            // check your parameter\r\n            if (security==null || !validateSecurity(security)) {\r\n                response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\r\n                response.setContentType(&quot;application/json;charset=utf-8&quot;);\r\n                PrintWriter writer = response.getWriter();\r\n                writer.write(&quot;Have not been authenticated&quot;);\r\n                return;\r\n            }\r\n        }\r\n        // if validate pass will go to the controller\r\n        filterChain.doFilter(request, response);\r\n    }\r\n\r\n    private Boolean validateSecurity(String security) {\r\n        return &quot;security&quot;.equals(security);\r\n    }\r\n}","title":"How to validate a secret present in headers of a post request?","body":"<p>In my practice, I will use Spring's Filter feature to achieve this functionality.</p>\n<p>like this:</p>\n<pre><code>import jakarta.servlet.FilterChain;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport org.springframework.core.annotation.Order;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.filter.OncePerRequestFilter;\n\nimport java.io.IOException;\nimport java.io.PrintWriter;\n\n@Order(value = 1)\n@Component\npublic class MyFilter extends OncePerRequestFilter {\n@Override\nprotected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n    String contextPath = request.getRequestURI();\n    // check the path which you want to intercept\n    if (contextPath.startsWith(&quot;/your/path&quot;)) {\n        // get your parameter\n        String security = request.getHeader(&quot;secret&quot;);\n        // check your parameter\n        if (security==null || !validateSecurity(security)) {\n            response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\n            response.setContentType(&quot;application/json;charset=utf-8&quot;);\n            PrintWriter writer = response.getWriter();\n            writer.write(&quot;Have not been authenticated&quot;);\n            return;\n        }\n    }\n    // if validate pass will go to the controller\n    filterChain.doFilter(request, response);\n}\n\nprivate Boolean validateSecurity(String security) {\n    return &quot;security&quot;.equals(security);\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":29148878,"reputation":11,"user_id":22330147,"display_name":"Cheerless guy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1691063845,"creation_date":1691033910,"question_id":76824754,"body_markdown":"I have to implement a POST rest API. For authentication, the client will send us a secret (static) in headers and we have to validate it on the server. One way is to access the secret in the Controller and validate it. But does Spring provide any built-in support for it? Or a better way to do the same, where business and security logic is kept at a diff \r\n\r\nFollowing is the brute force way:\r\n\r\n```\r\n    @PostMapping(&quot;/v1/something&quot;)\r\n    fun initiateSomething(\r\n        @RequestBody @Valid request: RequstToDoSomething,\r\n        @RequestHeader headers: Map&lt;String, String&gt;\r\n    ): Mono&lt;ResponseToDOSOmething&gt; {\r\n        if (headers[&quot;secret&quot;] != &quot;CONFIDENTIAL_SECRET&quot;)\r\n            throw Exception()\r\n        return service.process(request)\r\n    }\r\n```","title":"How to validate a secret present in headers of a post request?","body":"<p>I have to implement a POST rest API. For authentication, the client will send us a secret (static) in headers and we have to validate it on the server. One way is to access the secret in the Controller and validate it. But does Spring provide any built-in support for it? Or a better way to do the same, where business and security logic is kept at a diff</p>\n<p>Following is the brute force way:</p>\n<pre><code>    @PostMapping(&quot;/v1/something&quot;)\n    fun initiateSomething(\n        @RequestBody @Valid request: RequstToDoSomething,\n        @RequestHeader headers: Map&lt;String, String&gt;\n    ): Mono&lt;ResponseToDOSOmething&gt; {\n        if (headers[&quot;secret&quot;] != &quot;CONFIDENTIAL_SECRET&quot;)\n            throw Exception()\n        return service.process(request)\n    }\n</code></pre>\n"},{"tags":["java","date","calendar"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1479571699,"post_id":13624442,"comment_id":68619328,"body_markdown":"FYI, the `java.util.Date` and `SimpleDateFormat` classes are now legacy, supplanted by the java.time classes. See Answers such as [the one by Zeeshan](http://stackoverflow.com/a/31720245/642706) and [the one by Krishna](http://stackoverflow.com/a/40689365/642706) for examples of using `LocalDate` and other modern date-time classes.","body":"FYI, the <code>java.util.Date</code> and <code>SimpleDateFormat</code> classes are now legacy, supplanted by the java.time classes. See Answers such as <a href=\"http://stackoverflow.com/a/31720245/642706\">the one by Zeeshan</a> and <a href=\"http://stackoverflow.com/a/40689365/642706\">the one by Krishna</a> for examples of using <code>LocalDate</code> and other modern date-time classes."},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":1,"creation_date":1509647860,"post_id":13624442,"comment_id":81114040,"body_markdown":"Or [this](https://stackoverflow.com/a/13624504/1700321).","body":"Or <a href=\"https://stackoverflow.com/a/13624504/1700321\">this</a>."}],"answers":[{"tags":[],"owner":{"account_id":294406,"reputation":24602,"user_id":598289,"accept_rate":85,"display_name":"SJuan76"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1354187609,"creation_date":1354187609,"answer_id":13624498,"question_id":13624442,"body_markdown":"Use `GregorianCalendar`. Set the date of the object, and then use `getActualMaximum(Calendar.DAY_IN_MONTH)`.\r\n\r\nhttp://docs.oracle.com/javase/7/docs/api/java/util/GregorianCalendar.html#getActualMaximum%28int%29 (but it was the same in Java 1.4)","title":"Getting last day of the month in a given string date","body":"<p>Use <code>GregorianCalendar</code>. Set the date of the object, and then use <code>getActualMaximum(Calendar.DAY_IN_MONTH)</code>.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/GregorianCalendar.html#getActualMaximum%28int%29\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/util/GregorianCalendar.html#getActualMaximum%28int%29</a> (but it was the same in Java 1.4)</p>\n"},{"tags":[],"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"down_vote_count":1,"up_vote_count":199,"is_accepted":true,"score":198,"last_activity_date":1509563887,"creation_date":1354187625,"answer_id":13624504,"question_id":13624442,"body_markdown":"### Java 8 and above.\r\n\r\nBy using `convertedDate.getMonth().length(convertedDate.isLeapYear())` where `convertedDate` is an instance of `LocalDate`.\r\n\r\n    String date = &quot;1/13/2012&quot;;\r\n\tLocalDate convertedDate = LocalDate.parse(date, DateTimeFormatter.ofPattern(&quot;M/d/yyyy&quot;));\r\n\tconvertedDate = convertedDate.withDayOfMonth(\r\n                                    convertedDate.getMonth().length(convertedDate.isLeapYear()));\r\n\r\n### Java 7 and below.\r\n\r\nBy using `getActualMaximum` method of `java.util.Calendar`:\r\n    \r\n    String date = &quot;1/13/2012&quot;;\r\n    SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;);\r\n    Date convertedDate = dateFormat.parse(date);\r\n    Calendar c = Calendar.getInstance();\r\n    c.setTime(convertedDate);\r\n    c.set(Calendar.DAY_OF_MONTH, c.getActualMaximum(Calendar.DAY_OF_MONTH));","title":"Getting last day of the month in a given string date","body":"<h3>Java 8 and above.</h3>\n\n<p>By using <code>convertedDate.getMonth().length(convertedDate.isLeapYear())</code> where <code>convertedDate</code> is an instance of <code>LocalDate</code>.</p>\n\n<pre><code>String date = \"1/13/2012\";\nLocalDate convertedDate = LocalDate.parse(date, DateTimeFormatter.ofPattern(\"M/d/yyyy\"));\nconvertedDate = convertedDate.withDayOfMonth(\n                                convertedDate.getMonth().length(convertedDate.isLeapYear()));\n</code></pre>\n\n<h3>Java 7 and below.</h3>\n\n<p>By using <code>getActualMaximum</code> method of <code>java.util.Calendar</code>:</p>\n\n<pre><code>String date = \"1/13/2012\";\nSimpleDateFormat dateFormat = new SimpleDateFormat(\"MM/dd/yyyy\");\nDate convertedDate = dateFormat.parse(date);\nCalendar c = Calendar.getInstance();\nc.setTime(convertedDate);\nc.set(Calendar.DAY_OF_MONTH, c.getActualMaximum(Calendar.DAY_OF_MONTH));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1045366,"reputation":7004,"user_id":1050480,"accept_rate":88,"display_name":"SG 86"},"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1385534552,"creation_date":1354187778,"answer_id":13624548,"question_id":13624442,"body_markdown":"This looks like your needs:\r\n\r\nhttp://obscuredclarity.blogspot.de/2010/08/get-last-day-of-month-date-object-in.html\r\n\r\ncode:\r\n\r\n    import java.text.DateFormat;  \r\n    import java.text.DateFormat;  \r\n    import java.text.SimpleDateFormat;  \r\n    import java.util.Calendar;  \r\n    import java.util.Date;  \r\n      \r\n    //Java 1.4+ Compatible  \r\n    //  \r\n    // The following example code demonstrates how to get  \r\n    // a Date object representing the last day of the month  \r\n    // relative to a given Date object.  \r\n      \r\n    public class GetLastDayOfMonth {  \r\n      \r\n        public static void main(String[] args) {  \r\n      \r\n            Date today = new Date();  \r\n      \r\n            Calendar calendar = Calendar.getInstance();  \r\n            calendar.setTime(today);  \r\n      \r\n            calendar.add(Calendar.MONTH, 1);  \r\n            calendar.set(Calendar.DAY_OF_MONTH, 1);  \r\n            calendar.add(Calendar.DATE, -1);  \r\n      \r\n            Date lastDayOfMonth = calendar.getTime();  \r\n      \r\n            DateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);  \r\n            System.out.println(&quot;Today            : &quot; + sdf.format(today));  \r\n            System.out.println(&quot;Last Day of Month: &quot; + sdf.format(lastDayOfMonth));  \r\n        }  \r\n      \r\n    } \r\n    \r\nOutput:\r\n\r\n    Today            : 2010-08-03  \r\n    Last Day of Month: 2010-08-31  ","title":"Getting last day of the month in a given string date","body":"<p>This looks like your needs:</p>\n\n<p><a href=\"http://obscuredclarity.blogspot.de/2010/08/get-last-day-of-month-date-object-in.html\" rel=\"noreferrer\">http://obscuredclarity.blogspot.de/2010/08/get-last-day-of-month-date-object-in.html</a></p>\n\n<p>code:</p>\n\n<pre><code>import java.text.DateFormat;  \nimport java.text.DateFormat;  \nimport java.text.SimpleDateFormat;  \nimport java.util.Calendar;  \nimport java.util.Date;  \n\n//Java 1.4+ Compatible  \n//  \n// The following example code demonstrates how to get  \n// a Date object representing the last day of the month  \n// relative to a given Date object.  \n\npublic class GetLastDayOfMonth {  \n\n    public static void main(String[] args) {  \n\n        Date today = new Date();  \n\n        Calendar calendar = Calendar.getInstance();  \n        calendar.setTime(today);  \n\n        calendar.add(Calendar.MONTH, 1);  \n        calendar.set(Calendar.DAY_OF_MONTH, 1);  \n        calendar.add(Calendar.DATE, -1);  \n\n        Date lastDayOfMonth = calendar.getTime();  \n\n        DateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd\");  \n        System.out.println(\"Today            : \" + sdf.format(today));  \n        System.out.println(\"Last Day of Month: \" + sdf.format(lastDayOfMonth));  \n    }  \n\n} \n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Today            : 2010-08-03  \nLast Day of Month: 2010-08-31  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3154029,"reputation":47,"user_id":2666805,"display_name":"Lebonsun"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1376026549,"creation_date":1376026549,"answer_id":18140591,"question_id":13624442,"body_markdown":"The simplest way is to construt a new `GregorianCalendar` instance, see below:\r\n\r\n    Calendar cal = new GregorianCalendar(2013, 5, 0);\r\n    Date date = cal.getTime();\r\n    DateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n    System.out.println(&quot;Date : &quot; + sdf.format(date));\r\n\r\nOutput:\r\n\r\n    Date : 2013-05-31\r\n\r\nAttention:\r\n \r\n\r\n&gt; month the value used to set the MONTH calendar field in the calendar. Month value is 0-based e.g. 0 for January.\r\n","title":"Getting last day of the month in a given string date","body":"<p>The simplest way is to construt a new <code>GregorianCalendar</code> instance, see below:</p>\n\n<pre><code>Calendar cal = new GregorianCalendar(2013, 5, 0);\nDate date = cal.getTime();\nDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nSystem.out.println(\"Date : \" + sdf.format(date));\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Date : 2013-05-31\n</code></pre>\n\n<p>Attention:</p>\n\n<blockquote>\n  <p>month the value used to set the MONTH calendar field in the calendar. Month value is 0-based e.g. 0 for January.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1011187,"reputation":1,"user_id":1023731,"display_name":"Andres Arenas V."},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1443281091,"creation_date":1425052427,"answer_id":28769111,"question_id":13624442,"body_markdown":"I use this one-liner on my JasperServer Reports:\r\n\r\n    new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).format(new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).parse(new java.util.Date().format(&#39;yyyy&#39;) + &quot;-&quot; + (new Integer (new SimpleDateFormat(&quot;MM&quot;).format(new Date()))+1) + &quot;-01&quot;)-1)\r\n\r\nDoesn&#39;t look nice but works for me. Basically it&#39;s adding 1 to the current month, get the first day of that month and subtract one day.","title":"Getting last day of the month in a given string date","body":"<p>I use this one-liner on my JasperServer Reports:</p>\n\n<pre><code>new SimpleDateFormat(\"yyyy-MM-dd\").format(new SimpleDateFormat(\"yyyy-MM-dd\").parse(new java.util.Date().format('yyyy') + \"-\" + (new Integer (new SimpleDateFormat(\"MM\").format(new Date()))+1) + \"-01\")-1)\n</code></pre>\n\n<p>Doesn't look nice but works for me. Basically it's adding 1 to the current month, get the first day of that month and subtract one day.</p>\n"},{"tags":[],"owner":{"account_id":2315704,"reputation":11983,"user_id":2032823,"accept_rate":84,"display_name":"Zeeshan"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1543566253,"creation_date":1438249186,"answer_id":31720245,"question_id":13624442,"body_markdown":"&gt; With Java 8 `DateTime` / `LocalDateTime` :\r\n\r\n    String dateString = &quot;01/13/2012&quot;;\r\n    DateTimeFormatter dateFormat = DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy&quot;, Locale.US); \r\n    LocalDate date = LocalDate.parse(dateString, dateFormat);\t\t\r\n    ValueRange range = date.range(ChronoField.DAY_OF_MONTH);\r\n    Long max = range.getMaximum();\r\n    LocalDate newDate = date.withDayOfMonth(max.intValue());\r\n    System.out.println(newDate); \r\n\r\n&gt;OR\r\n\r\n    String dateString = &quot;01/13/2012&quot;;\r\n    DateTimeFormatter dateFormat = DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy&quot;, Locale.US); \r\n    LocalDate date = LocalDate.parse(dateString, dateFormat);\r\n    LocalDate newDate = date.withDayOfMonth(date.getMonth().length(date.isLeapYear()));\r\n    System.out.println(newDate);\r\n\r\nOutput:\r\n\r\n    2012-01-31\r\n\r\n&gt;`LocalDateTime` should be used instead of `LocalDate` if you have time information in your date string . I.E. `2015/07/22 16:49`","title":"Getting last day of the month in a given string date","body":"<blockquote>\n  <p>With Java 8 <code>DateTime</code> / <code>LocalDateTime</code> :</p>\n</blockquote>\n\n<pre><code>String dateString = \"01/13/2012\";\nDateTimeFormatter dateFormat = DateTimeFormatter.ofPattern(\"MM/dd/yyyy\", Locale.US); \nLocalDate date = LocalDate.parse(dateString, dateFormat);       \nValueRange range = date.range(ChronoField.DAY_OF_MONTH);\nLong max = range.getMaximum();\nLocalDate newDate = date.withDayOfMonth(max.intValue());\nSystem.out.println(newDate); \n</code></pre>\n\n<blockquote>\n  <p>OR</p>\n</blockquote>\n\n<pre><code>String dateString = \"01/13/2012\";\nDateTimeFormatter dateFormat = DateTimeFormatter.ofPattern(\"MM/dd/yyyy\", Locale.US); \nLocalDate date = LocalDate.parse(dateString, dateFormat);\nLocalDate newDate = date.withDayOfMonth(date.getMonth().length(date.isLeapYear()));\nSystem.out.println(newDate);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>2012-01-31\n</code></pre>\n\n<blockquote>\n  <p><code>LocalDateTime</code> should be used instead of <code>LocalDate</code> if you have time information in your date string . I.E. <code>2015/07/22 16:49</code></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2744245,"reputation":219,"user_id":2364991,"accept_rate":20,"display_name":"Tanmay kumar shaw"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1467207011,"creation_date":1467207011,"answer_id":38101095,"question_id":13624442,"body_markdown":"You can use the following code to get last day of the month\r\n\r\n    public static String getLastDayOfTheMonth(String date) {\r\n    \t\tString lastDayOfTheMonth = &quot;&quot;;\r\n    \t\t\r\n    \t\tSimpleDateFormat formatter = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\r\n    \t\ttry{\r\n    \t\tjava.util.Date dt= formatter.parse(date);\r\n            Calendar calendar = Calendar.getInstance();  \r\n            calendar.setTime(dt);  \r\n    \r\n            calendar.add(Calendar.MONTH, 1);  \r\n            calendar.set(Calendar.DAY_OF_MONTH, 1);  \r\n            calendar.add(Calendar.DATE, -1);  \r\n    \r\n            java.util.Date lastDay = calendar.getTime();  \r\n    \r\n            lastDayOfTheMonth = formatter.format(lastDay);\r\n    \t\t} catch (ParseException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\treturn lastDayOfTheMonth;\r\n    \t}","title":"Getting last day of the month in a given string date","body":"<p>You can use the following code to get last day of the month</p>\n\n<pre><code>public static String getLastDayOfTheMonth(String date) {\n        String lastDayOfTheMonth = \"\";\n\n        SimpleDateFormat formatter = new SimpleDateFormat(\"dd-MM-yyyy\");\n        try{\n        java.util.Date dt= formatter.parse(date);\n        Calendar calendar = Calendar.getInstance();  \n        calendar.setTime(dt);  \n\n        calendar.add(Calendar.MONTH, 1);  \n        calendar.set(Calendar.DAY_OF_MONTH, 1);  \n        calendar.add(Calendar.DATE, -1);  \n\n        java.util.Date lastDay = calendar.getTime();  \n\n        lastDayOfTheMonth = formatter.format(lastDay);\n        } catch (ParseException e) {\n            e.printStackTrace();\n        }\n        return lastDayOfTheMonth;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9453542,"reputation":461,"user_id":7029521,"display_name":"Gaurav Krishna"},"down_vote_count":2,"up_vote_count":30,"is_accepted":false,"score":28,"last_activity_date":1587543672,"creation_date":1479531389,"answer_id":40689365,"question_id":13624442,"body_markdown":"By using java 8 java.time.LocalDate\r\n\r\n    String date = &quot;1/13/2012&quot;;\r\n    LocalDate lastDayOfMonth = LocalDate.parse(date, DateTimeFormatter.ofPattern(&quot;M/dd/yyyy&quot;))\r\n           .with(TemporalAdjusters.lastDayOfMonth());","title":"Getting last day of the month in a given string date","body":"<p>By using java 8 java.time.LocalDate</p>\n\n<pre><code>String date = \"1/13/2012\";\nLocalDate lastDayOfMonth = LocalDate.parse(date, DateTimeFormatter.ofPattern(\"M/dd/yyyy\"))\n       .with(TemporalAdjusters.lastDayOfMonth());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2145824,"reputation":1089,"user_id":1903453,"display_name":"Nikhil Kumar K"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1506687195,"creation_date":1506687195,"answer_id":46488600,"question_id":13624442,"body_markdown":"Works fine for me with this \r\n\t\t\r\n\t\tCalendar cal = Calendar.getInstance(TimeZone.getTimeZone());\r\n\t\tcal.set(Calendar.MONTH, month-1);  \r\n\t\tcal.set(Calendar.YEAR, year);  \r\n\t\tcal.add(Calendar.DATE, -1);  \r\n\t\tcal.set(Calendar.DAY_OF_MONTH, \r\n        cal.getActualMaximum(Calendar.DAY_OF_MONTH));\r\n\t\tcal.set(Calendar.HOUR_OF_DAY, 0);\r\n\t\tcal.set(Calendar.MINUTE, 0);\r\n\t\tcal.set(Calendar.SECOND, 0);\r\n\t\tcal.set(Calendar.MILLISECOND, 0);\r\n\t\treturn cal.getTimeInMillis();\r\n\t","title":"Getting last day of the month in a given string date","body":"<p>Works fine for me with this </p>\n\n<pre><code>    Calendar cal = Calendar.getInstance(TimeZone.getTimeZone());\n    cal.set(Calendar.MONTH, month-1);  \n    cal.set(Calendar.YEAR, year);  \n    cal.add(Calendar.DATE, -1);  \n    cal.set(Calendar.DAY_OF_MONTH, \n    cal.getActualMaximum(Calendar.DAY_OF_MONTH));\n    cal.set(Calendar.HOUR_OF_DAY, 0);\n    cal.set(Calendar.MINUTE, 0);\n    cal.set(Calendar.SECOND, 0);\n    cal.set(Calendar.MILLISECOND, 0);\n    return cal.getTimeInMillis();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9256425,"reputation":1,"user_id":8860456,"display_name":"杨尚川"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1509431354,"creation_date":1509429422,"answer_id":47028753,"question_id":13624442,"body_markdown":"    public static String getLastDayOfMonth(int year, int month) throws Exception{\r\n        DateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n\r\n        Date date = sdf.parse(year+&quot;-&quot;+(month&lt;10?(&quot;0&quot;+month):month)+&quot;-01&quot;);\r\n\r\n        Calendar calendar = Calendar.getInstance();\r\n        calendar.setTime(date);\r\n\r\n        calendar.add(Calendar.MONTH, 1);\r\n        calendar.set(Calendar.DAY_OF_MONTH, 1);\r\n        calendar.add(Calendar.DATE, -1);\r\n\r\n        Date lastDayOfMonth = calendar.getTime();\r\n\r\n        return sdf.format(lastDayOfMonth);\r\n    }\r\n    public static void main(String[] args) throws Exception{\r\n        System.out.println(&quot;Last Day of Month: &quot; + getLastDayOfMonth(2017, 1));\r\n        System.out.println(&quot;Last Day of Month: &quot; + getLastDayOfMonth(2017, 2));\r\n        System.out.println(&quot;Last Day of Month: &quot; + getLastDayOfMonth(2017, 3));\r\n        System.out.println(&quot;Last Day of Month: &quot; + getLastDayOfMonth(2017, 4));\r\n        System.out.println(&quot;Last Day of Month: &quot; + getLastDayOfMonth(2017, 5));\r\n        System.out.println(&quot;Last Day of Month: &quot; + getLastDayOfMonth(2017, 6));\r\n        System.out.println(&quot;Last Day of Month: &quot; + getLastDayOfMonth(2017, 7));\r\n        System.out.println(&quot;Last Day of Month: &quot; + getLastDayOfMonth(2017, 8));\r\n        System.out.println(&quot;Last Day of Month: &quot; + getLastDayOfMonth(2017, 9));\r\n        System.out.println(&quot;Last Day of Month: &quot; + getLastDayOfMonth(2017, 10));\r\n        System.out.println(&quot;Last Day of Month: &quot; + getLastDayOfMonth(2017, 11));\r\n        System.out.println(&quot;Last Day of Month: &quot; + getLastDayOfMonth(2017, 12));\r\n        System.out.println(&quot;Last Day of Month: &quot; + getLastDayOfMonth(2018, 1));\r\n        System.out.println(&quot;Last Day of Month: &quot; + getLastDayOfMonth(2018, 2));\r\n        System.out.println(&quot;Last Day of Month: &quot; + getLastDayOfMonth(2018, 3));\r\n\r\n        System.out.println(&quot;Last Day of Month: &quot; + getLastDayOfMonth(2010, 2));\r\n        System.out.println(&quot;Last Day of Month: &quot; + getLastDayOfMonth(2011, 2));\r\n        System.out.println(&quot;Last Day of Month: &quot; + getLastDayOfMonth(2012, 2));\r\n        System.out.println(&quot;Last Day of Month: &quot; + getLastDayOfMonth(2013, 2));\r\n        System.out.println(&quot;Last Day of Month: &quot; + getLastDayOfMonth(2014, 2));\r\n        System.out.println(&quot;Last Day of Month: &quot; + getLastDayOfMonth(2015, 2));\r\n        System.out.println(&quot;Last Day of Month: &quot; + getLastDayOfMonth(2016, 2));\r\n        System.out.println(&quot;Last Day of Month: &quot; + getLastDayOfMonth(2017, 2));\r\n        System.out.println(&quot;Last Day of Month: &quot; + getLastDayOfMonth(2018, 2));\r\n        System.out.println(&quot;Last Day of Month: &quot; + getLastDayOfMonth(2019, 2));\r\n        System.out.println(&quot;Last Day of Month: &quot; + getLastDayOfMonth(2020, 2));\r\n        System.out.println(&quot;Last Day of Month: &quot; + getLastDayOfMonth(2021, 2));\r\n    }\r\n\r\n**output:**\r\n\r\n&gt; Last Day of Month: 2017-01-31&lt;br/&gt; Last Day of Month: 2017-02-28&lt;br/&gt;\r\n&gt; Last Day of Month: 2017-03-31&lt;br/&gt; Last Day of Month: 2017-04-30&lt;br/&gt;\r\n&gt; Last Day of Month: 2017-05-31&lt;br/&gt; Last Day of Month: 2017-06-30&lt;br/&gt;\r\n&gt; Last Day of Month: 2017-07-31&lt;br/&gt; Last Day of Month: 2017-08-31&lt;br/&gt;\r\n&gt; Last Day of Month: 2017-09-30&lt;br/&gt; Last Day of Month: 2017-10-31&lt;br/&gt;\r\n&gt; Last Day of Month: 2017-11-30&lt;br/&gt; Last Day of Month: 2017-12-31&lt;br/&gt;\r\n&gt; Last Day of Month: 2018-01-31&lt;br/&gt; Last Day of Month: 2018-02-28&lt;br/&gt;\r\n&gt; Last Day of Month: 2018-03-31&lt;br/&gt; Last Day of Month: 2010-02-28&lt;br/&gt;\r\n&gt; Last Day of Month: 2011-02-28&lt;br/&gt; Last Day of Month: 2012-02-29&lt;br/&gt;\r\n&gt; Last Day of Month: 2013-02-28&lt;br/&gt; Last Day of Month: 2014-02-28&lt;br/&gt;\r\n&gt; Last Day of Month: 2015-02-28&lt;br/&gt; Last Day of Month: 2016-02-29&lt;br/&gt;\r\n&gt; Last Day of Month: 2017-02-28&lt;br/&gt; Last Day of Month: 2018-02-28&lt;br/&gt;\r\n&gt; Last Day of Month: 2019-02-28&lt;br/&gt; Last Day of Month: 2020-02-29&lt;br/&gt;\r\n&gt; Last Day of Month: 2021-02-28&lt;br/&gt;","title":"Getting last day of the month in a given string date","body":"<pre><code>public static String getLastDayOfMonth(int year, int month) throws Exception{\n    DateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n\n    Date date = sdf.parse(year+\"-\"+(month&lt;10?(\"0\"+month):month)+\"-01\");\n\n    Calendar calendar = Calendar.getInstance();\n    calendar.setTime(date);\n\n    calendar.add(Calendar.MONTH, 1);\n    calendar.set(Calendar.DAY_OF_MONTH, 1);\n    calendar.add(Calendar.DATE, -1);\n\n    Date lastDayOfMonth = calendar.getTime();\n\n    return sdf.format(lastDayOfMonth);\n}\npublic static void main(String[] args) throws Exception{\n    System.out.println(\"Last Day of Month: \" + getLastDayOfMonth(2017, 1));\n    System.out.println(\"Last Day of Month: \" + getLastDayOfMonth(2017, 2));\n    System.out.println(\"Last Day of Month: \" + getLastDayOfMonth(2017, 3));\n    System.out.println(\"Last Day of Month: \" + getLastDayOfMonth(2017, 4));\n    System.out.println(\"Last Day of Month: \" + getLastDayOfMonth(2017, 5));\n    System.out.println(\"Last Day of Month: \" + getLastDayOfMonth(2017, 6));\n    System.out.println(\"Last Day of Month: \" + getLastDayOfMonth(2017, 7));\n    System.out.println(\"Last Day of Month: \" + getLastDayOfMonth(2017, 8));\n    System.out.println(\"Last Day of Month: \" + getLastDayOfMonth(2017, 9));\n    System.out.println(\"Last Day of Month: \" + getLastDayOfMonth(2017, 10));\n    System.out.println(\"Last Day of Month: \" + getLastDayOfMonth(2017, 11));\n    System.out.println(\"Last Day of Month: \" + getLastDayOfMonth(2017, 12));\n    System.out.println(\"Last Day of Month: \" + getLastDayOfMonth(2018, 1));\n    System.out.println(\"Last Day of Month: \" + getLastDayOfMonth(2018, 2));\n    System.out.println(\"Last Day of Month: \" + getLastDayOfMonth(2018, 3));\n\n    System.out.println(\"Last Day of Month: \" + getLastDayOfMonth(2010, 2));\n    System.out.println(\"Last Day of Month: \" + getLastDayOfMonth(2011, 2));\n    System.out.println(\"Last Day of Month: \" + getLastDayOfMonth(2012, 2));\n    System.out.println(\"Last Day of Month: \" + getLastDayOfMonth(2013, 2));\n    System.out.println(\"Last Day of Month: \" + getLastDayOfMonth(2014, 2));\n    System.out.println(\"Last Day of Month: \" + getLastDayOfMonth(2015, 2));\n    System.out.println(\"Last Day of Month: \" + getLastDayOfMonth(2016, 2));\n    System.out.println(\"Last Day of Month: \" + getLastDayOfMonth(2017, 2));\n    System.out.println(\"Last Day of Month: \" + getLastDayOfMonth(2018, 2));\n    System.out.println(\"Last Day of Month: \" + getLastDayOfMonth(2019, 2));\n    System.out.println(\"Last Day of Month: \" + getLastDayOfMonth(2020, 2));\n    System.out.println(\"Last Day of Month: \" + getLastDayOfMonth(2021, 2));\n}\n</code></pre>\n\n<p><strong>output:</strong></p>\n\n<blockquote>\n  <p>Last Day of Month: 2017-01-31<br/> Last Day of Month: 2017-02-28<br/>\n  Last Day of Month: 2017-03-31<br/> Last Day of Month: 2017-04-30<br/>\n  Last Day of Month: 2017-05-31<br/> Last Day of Month: 2017-06-30<br/>\n  Last Day of Month: 2017-07-31<br/> Last Day of Month: 2017-08-31<br/>\n  Last Day of Month: 2017-09-30<br/> Last Day of Month: 2017-10-31<br/>\n  Last Day of Month: 2017-11-30<br/> Last Day of Month: 2017-12-31<br/>\n  Last Day of Month: 2018-01-31<br/> Last Day of Month: 2018-02-28<br/>\n  Last Day of Month: 2018-03-31<br/> Last Day of Month: 2010-02-28<br/>\n  Last Day of Month: 2011-02-28<br/> Last Day of Month: 2012-02-29<br/>\n  Last Day of Month: 2013-02-28<br/> Last Day of Month: 2014-02-28<br/>\n  Last Day of Month: 2015-02-28<br/> Last Day of Month: 2016-02-29<br/>\n  Last Day of Month: 2017-02-28<br/> Last Day of Month: 2018-02-28<br/>\n  Last Day of Month: 2019-02-28<br/> Last Day of Month: 2020-02-29<br/>\n  Last Day of Month: 2021-02-28<br/></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1202806,"reputation":23213,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1543168083,"creation_date":1543168083,"answer_id":53470214,"question_id":13624442,"body_markdown":"You can make use of the [plusMonths][1] and [minusDays][2] methods in Java 8:\r\n\r\n    // Parse your date into a LocalDate\r\n    LocalDate parsed = LocalDate.parse(&quot;1/13/2012&quot;, DateTimeFormatter.ofPattern(&quot;M/d/yyyy&quot;));\r\n\r\n    // We only care about its year and month, set the date to first date of that month\r\n    LocalDate localDate = LocalDate.of(parsed.getYear(), parsed.getMonth(), 1);\r\n\r\n    // Add one month, subtract one day \r\n    System.out.println(localDate.plusMonths(1).minusDays(1)); // 2012-01-31\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#plusMonths-long-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#minusDays-long-","title":"Getting last day of the month in a given string date","body":"<p>You can make use of the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#plusMonths-long-\" rel=\"nofollow noreferrer\">plusMonths</a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#minusDays-long-\" rel=\"nofollow noreferrer\">minusDays</a> methods in Java 8:</p>\n\n<pre><code>// Parse your date into a LocalDate\nLocalDate parsed = LocalDate.parse(\"1/13/2012\", DateTimeFormatter.ofPattern(\"M/d/yyyy\"));\n\n// We only care about its year and month, set the date to first date of that month\nLocalDate localDate = LocalDate.of(parsed.getYear(), parsed.getMonth(), 1);\n\n// Add one month, subtract one day \nSystem.out.println(localDate.plusMonths(1).minusDays(1)); // 2012-01-31\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13704745,"reputation":101,"user_id":9888741,"display_name":"onix"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1595233712,"creation_date":1546864401,"answer_id":54074534,"question_id":13624442,"body_markdown":"**Java 8 and above:**\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.Year;\r\n\r\n    static int lastDayOfMonth(int Y, int M) {\r\n        return LocalDate.of(Y, M, 1).getMonth().length(Year.of(Y).isLeap());\r\n    }\r\n\r\n**subject to Basil Bourque&#39;s comment**\r\n\r\n    import java.time.YearMonth;\r\n\r\n    int lastDayOfMonth = YearMonth.of(Y, M).lengthOfMonth();","title":"Getting last day of the month in a given string date","body":"<p><strong>Java 8 and above:</strong></p>\n<pre><code>import java.time.LocalDate;\nimport java.time.Year;\n\nstatic int lastDayOfMonth(int Y, int M) {\n    return LocalDate.of(Y, M, 1).getMonth().length(Year.of(Y).isLeap());\n}\n</code></pre>\n<p><strong>subject to Basil Bourque's comment</strong></p>\n<pre><code>import java.time.YearMonth;\n\nint lastDayOfMonth = YearMonth.of(Y, M).lengthOfMonth();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1649880896,"creation_date":1546889051,"answer_id":54080554,"question_id":13624442,"body_markdown":"# tl;dr\r\n\r\n    YearMonth                            // Represent the year and month, without a date and without a time zone.\r\n    .from(                               // Extract the year and month from a `LocalDate` (a year-month-day). \r\n        LocalDate                        // Represent a date without a time-of-day and without a time zone.\r\n        .parse(                          // Get a date from an input string.        \r\n            &quot;1/13/2012&quot; ,                // Poor choice of format for a date. Educate the source of your data about the standard ISO 8601 formats to be used when exchanging date-time values as text.\r\n            DateTimeFormatter            // Specify a formatting pattern by which to parse the input string.\r\n            .ofPattern( &quot;M/d/uuuu&quot; )     // Match the pattern of your input.\r\n        )                                // Returns a `LocalDate` object.\r\n    )                                    // Returns a `YearMonth` object.\r\n    .atEndOfMonth()                      // Determines the last day of the month for that particular year-month, and returns a `LocalDate` object.\r\n    .toString()                          // Generate text representing the value of that `LocalDate` object using standard ISO 8601 format.\r\n\r\nSee this [code run live at IdeOne.com][1].\r\n\r\n&gt;2012-01-31\r\n\r\n# `YearMonth`\r\n\r\nThe [`YearMonth`]() class makes this easy. The `atEndOfMonth` method returns a `LocalDate`. Leap year in February is accounted for. \r\n\r\nFirst define a formatting pattern to match your string input.\r\n\r\n   DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;M/d/uuuu&quot; ) ;\r\n\r\n\r\nUse that formatter to get a `LocalDate` from the string input.\r\n\r\n    String s = &quot;1/13/2012&quot; ;\r\n    LocalDate ld = LocalDate.parse( &quot;1/13/2012&quot; , f ) ;\r\n\r\nThen extract a `YearMonth` object.\r\n\r\n    YearMonth ym = YearMonth.from( ld ) ;\r\n\r\nAsk that `YearMonth` to determine the last day of its month in that year, accounting for [Leap Year][2] in February.\r\n\r\n    LocalDate endOfMonth = ym.atEndOfMonth() ;\r\n\r\nGenerate text representing that date, in standard ISO 8601 format.\r\n\r\n    String output = endOfMonth.toString() ;  \r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes.\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), [**Java SE 11**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11), and later  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Most of the *java.time* functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the *java.time* classes.\r\n  - For earlier Android (&lt;26), the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above). See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n\r\n\r\n  [1]: https://ideone.com/a2TIne\r\n  [2]: https://en.wikipedia.org/wiki/Leap_year","title":"Getting last day of the month in a given string date","body":"<h1>tl;dr</h1>\n<pre><code>YearMonth                            // Represent the year and month, without a date and without a time zone.\n.from(                               // Extract the year and month from a `LocalDate` (a year-month-day). \n    LocalDate                        // Represent a date without a time-of-day and without a time zone.\n    .parse(                          // Get a date from an input string.        \n        &quot;1/13/2012&quot; ,                // Poor choice of format for a date. Educate the source of your data about the standard ISO 8601 formats to be used when exchanging date-time values as text.\n        DateTimeFormatter            // Specify a formatting pattern by which to parse the input string.\n        .ofPattern( &quot;M/d/uuuu&quot; )     // Match the pattern of your input.\n    )                                // Returns a `LocalDate` object.\n)                                    // Returns a `YearMonth` object.\n.atEndOfMonth()                      // Determines the last day of the month for that particular year-month, and returns a `LocalDate` object.\n.toString()                          // Generate text representing the value of that `LocalDate` object using standard ISO 8601 format.\n</code></pre>\n<p>See this <a href=\"https://ideone.com/a2TIne\" rel=\"nofollow noreferrer\">code run live at IdeOne.com</a>.</p>\n<blockquote>\n<p>2012-01-31</p>\n</blockquote>\n<h1><code>YearMonth</code></h1>\n<p>The <code>YearMonth</code> class makes this easy. The <code>atEndOfMonth</code> method returns a <code>LocalDate</code>. Leap year in February is accounted for.</p>\n<p>First define a formatting pattern to match your string input.</p>\n<p>DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;M/d/uuuu&quot; ) ;</p>\n<p>Use that formatter to get a <code>LocalDate</code> from the string input.</p>\n<pre><code>String s = &quot;1/13/2012&quot; ;\nLocalDate ld = LocalDate.parse( &quot;1/13/2012&quot; , f ) ;\n</code></pre>\n<p>Then extract a <code>YearMonth</code> object.</p>\n<pre><code>YearMonth ym = YearMonth.from( ld ) ;\n</code></pre>\n<p>Ask that <code>YearMonth</code> to determine the last day of its month in that year, accounting for <a href=\"https://en.wikipedia.org/wiki/Leap_year\" rel=\"nofollow noreferrer\">Leap Year</a> in February.</p>\n<pre><code>LocalDate endOfMonth = ym.atEndOfMonth() ;\n</code></pre>\n<p>Generate text representing that date, in standard ISO 8601 format.</p>\n<pre><code>String output = endOfMonth.toString() ;  \n</code></pre>\n<hr />\n<h1>About <em>java.time</em></h1>\n<p>The <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes.</p>\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>.</p>\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"nofollow noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"nofollow noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes.</p>\n<p>Where to obtain the java.time classes?</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"nofollow noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"nofollow noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"nofollow noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"nofollow noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"nofollow noreferrer\"><strong>Java SE 7</strong></a></li>\n<li>Most of the <em>java.time</em> functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a>.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"nofollow noreferrer\"><strong>Android</strong></a></li>\n<li>Later versions of Android bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><em><strong>ThreeTenABP</strong></em></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul>\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"nofollow noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"nofollow noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"nofollow noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"nofollow noreferrer\">more</a>.</p>\n"},{"tags":[],"owner":{"account_id":10548734,"reputation":676,"user_id":7772054,"display_name":"SHIVA"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1590571190,"creation_date":1590495371,"answer_id":62021961,"question_id":13624442,"body_markdown":" \r\n\r\n                String givenStringDate =&quot;07/16/2020&quot;;\r\n\t\t    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy&quot;);\r\n\t\t    java.util.Date convertedUtillDate;\r\n\t\t\t\t/*\r\n\t\t\t\t * If your output requirement is in LocalDate format use below snippet\r\n\t\t\t\t * \r\n\t\t\t\t */\r\n\t\t\t    LocalDate localDate =LocalDate.parse(givenStringDate, formatter);\r\n\t\t\t    LocalDate localDateLastDayOfMonth = localDate.with(TemporalAdjusters.lastDayOfMonth());\r\n\t\t\t\t\r\n\t\t\t\t/*\r\n\t\t\t\t * If your output requirement is in Calendar format use below snippet\r\n\t\t\t\t * \r\n\t\t\t\t */\r\n\t\t\t    convertedUtillDate = Date.from(localDate.atStartOfDay(ZoneId.systemDefault()).toInstant());\r\n\t\t\t\tCalendar calendarLastDayOfMonth = Calendar.getInstance();\r\n\t\t\t    calendarLastDayOfMonth.setTime(convertedUtillDate);\r\n\t\t\t    int lastDate = calendarLastDayOfMonth.getActualMaximum(Calendar.DATE);\r\n\t\t\t    calendarLastDayOfMonth.set(Calendar.DATE, lastDate);\r\n\r\n\r\nTested in Java 1.8.\r\nI hope this will help some one.","title":"Getting last day of the month in a given string date","body":"<pre><code>            String givenStringDate =\"07/16/2020\";\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"MM/dd/yyyy\");\n        java.util.Date convertedUtillDate;\n            /*\n             * If your output requirement is in LocalDate format use below snippet\n             * \n             */\n            LocalDate localDate =LocalDate.parse(givenStringDate, formatter);\n            LocalDate localDateLastDayOfMonth = localDate.with(TemporalAdjusters.lastDayOfMonth());\n\n            /*\n             * If your output requirement is in Calendar format use below snippet\n             * \n             */\n            convertedUtillDate = Date.from(localDate.atStartOfDay(ZoneId.systemDefault()).toInstant());\n            Calendar calendarLastDayOfMonth = Calendar.getInstance();\n            calendarLastDayOfMonth.setTime(convertedUtillDate);\n            int lastDate = calendarLastDayOfMonth.getActualMaximum(Calendar.DATE);\n            calendarLastDayOfMonth.set(Calendar.DATE, lastDate);\n</code></pre>\n\n<p>Tested in Java 1.8.\nI hope this will help some one.</p>\n"},{"tags":[],"owner":{"account_id":200972,"reputation":1278,"user_id":447137,"display_name":"Ankur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1623473564,"creation_date":1623473564,"answer_id":67945727,"question_id":13624442,"body_markdown":"I think the most simple and fastest way is\r\n\r\n```\r\npublic static int getLastDayOf(int month, int year) {\r\n    switch (month) {\r\n        case Calendar.APRIL:\r\n        case Calendar.JUNE:\r\n        case Calendar.SEPTEMBER:\r\n        case Calendar.NOVEMBER:\r\n            return 30;\r\n        case Calendar.FEBRUARY:\r\n            if (year % 4 == 0) {\r\n                return 29;\r\n            }\r\n            return 28;\r\n        default:\r\n            return 31;\r\n    }\r\n}\r\n```\r\n\r\nSince these values are constant universally!","title":"Getting last day of the month in a given string date","body":"<p>I think the most simple and fastest way is</p>\n<pre><code>public static int getLastDayOf(int month, int year) {\n    switch (month) {\n        case Calendar.APRIL:\n        case Calendar.JUNE:\n        case Calendar.SEPTEMBER:\n        case Calendar.NOVEMBER:\n            return 30;\n        case Calendar.FEBRUARY:\n            if (year % 4 == 0) {\n                return 29;\n            }\n            return 28;\n        default:\n            return 31;\n    }\n}\n</code></pre>\n<p>Since these values are constant universally!</p>\n"},{"tags":[],"owner":{"account_id":1402851,"reputation":1347,"user_id":1331294,"display_name":"Monzur"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1634118129,"creation_date":1634118129,"answer_id":69553152,"question_id":13624442,"body_markdown":"Finally I found the solution is Tested and works\r\n\r\n    public static Date toDate(String date, String DATE_FORMAT) {\r\n    \tDate dt = null;\r\n    \ttry {\r\n    \t\tString[] d = date.split(&quot; &quot;);\r\n    \t\tString[] f = DATE_FORMAT.split(&quot; &quot;);\r\n    \t\tif (d.length &gt; 1) {\r\n    \t\t\tif(f.length &gt; 1) {\r\n    \t\t\t\tDateFormat df = new SimpleDateFormat(DATE_FORMAT);\r\n    \t\t\t\tdf.setLenient(false);\r\n    \t\t\t\tdt = df.parse(date);\r\n    \t\t\t}\r\n    \t\t\telse\r\n    \t\t\t{\r\n    \t\t\t\tDateFormat df = new SimpleDateFormat(f[0]);\r\n    \t\t\t\tdf.setLenient(false);\r\n    \t\t\t\tdt = df.parse(date);\r\n    \t\t\t}\r\n    \t\t} else {\r\n    \t\t\tDateFormat df = new SimpleDateFormat(f[0]);\r\n    \t\t\tdf.setLenient(false);\r\n    \t\t\tdt = df.parse(date);\r\n    \t\t}\r\n    \t\treturn dt;\r\n    \t} catch (ParseException e) {\r\n    \r\n    \t\treturn null;\r\n    \t}\r\n    }\r\n    \r\n    private SimpleDateFormat dateFormatter;\r\n    dateFormatter = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;, Locale.US);\r\n    String StartDate = &quot;05/01/2021&quot;;\r\n    Calendar endDate = new GregorianCalendar();\r\n    Date convertedDate = toDate(StartDate, &quot;MM/dd/yyyy&quot;);\r\n    endDate.setTime(convertedDate);\r\n    endDate.set(Calendar.DAY_OF_MONTH, 1);\r\n    endDate.add(Calendar.MONTH, 1);\r\n    endDate.add(Calendar.DATE, -1);\r\n    String EndDate = dateFormatter.format(endDate.getTime());\r\n\r\n**OutOut: 05/31/2021**","title":"Getting last day of the month in a given string date","body":"<p>Finally I found the solution is Tested and works</p>\n<pre><code>public static Date toDate(String date, String DATE_FORMAT) {\n    Date dt = null;\n    try {\n        String[] d = date.split(&quot; &quot;);\n        String[] f = DATE_FORMAT.split(&quot; &quot;);\n        if (d.length &gt; 1) {\n            if(f.length &gt; 1) {\n                DateFormat df = new SimpleDateFormat(DATE_FORMAT);\n                df.setLenient(false);\n                dt = df.parse(date);\n            }\n            else\n            {\n                DateFormat df = new SimpleDateFormat(f[0]);\n                df.setLenient(false);\n                dt = df.parse(date);\n            }\n        } else {\n            DateFormat df = new SimpleDateFormat(f[0]);\n            df.setLenient(false);\n            dt = df.parse(date);\n        }\n        return dt;\n    } catch (ParseException e) {\n\n        return null;\n    }\n}\n\nprivate SimpleDateFormat dateFormatter;\ndateFormatter = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;, Locale.US);\nString StartDate = &quot;05/01/2021&quot;;\nCalendar endDate = new GregorianCalendar();\nDate convertedDate = toDate(StartDate, &quot;MM/dd/yyyy&quot;);\nendDate.setTime(convertedDate);\nendDate.set(Calendar.DAY_OF_MONTH, 1);\nendDate.add(Calendar.MONTH, 1);\nendDate.add(Calendar.DATE, -1);\nString EndDate = dateFormatter.format(endDate.getTime());\n</code></pre>\n<p><strong>OutOut: 05/31/2021</strong></p>\n"},{"tags":[],"owner":{"account_id":19370048,"reputation":659,"user_id":14163532,"display_name":"PKS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691062990,"creation_date":1690880581,"answer_id":76810083,"question_id":13624442,"body_markdown":"In the following code I am generating the current Date using the now method. And then I am using TemporalAdjusters to get the final date of the month. I can also pass a custom date to get the work done.\r\n\r\n    LocalDate localDate = LocalDate.now(ZoneId.systemDefault());\r\n    LocalDate lastDayOfMonth = localDate.with(TemporalAdjusters.lastDayOfMonth());","title":"Getting last day of the month in a given string date","body":"<p>In the following code I am generating the current Date using the now method. And then I am using TemporalAdjusters to get the final date of the month. I can also pass a custom date to get the work done.</p>\n<pre><code>LocalDate localDate = LocalDate.now(ZoneId.systemDefault());\nLocalDate lastDayOfMonth = localDate.with(TemporalAdjusters.lastDayOfMonth());\n</code></pre>\n"}],"owner":{"account_id":476363,"reputation":16869,"user_id":887235,"accept_rate":80,"display_name":"Vicky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268970,"favorite_count":0,"down_vote_count":0,"up_vote_count":79,"accepted_answer_id":13624504,"answer_count":17,"score":79,"last_activity_date":1691062990,"creation_date":1354187414,"question_id":13624442,"body_markdown":"My input string date is as below:\r\n\r\n    String date = &quot;1/13/2012&quot;;\r\n\r\nI am getting the month as below:\r\n\r\n    SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;);\r\n    Date convertedDate = dateFormat.parse(date);\r\n    String month = new SimpleDateFormat(&quot;MM&quot;).format(convertedDate);\r\n\r\nBut how do I get the last calendar day of the month in a given String date?\r\n\r\nE.g.: for a String `&quot;1/13/2012&quot;` the output must be `&quot;1/31/2012&quot;`.","title":"Getting last day of the month in a given string date","body":"<p>My input string date is as below:</p>\n\n<pre><code>String date = \"1/13/2012\";\n</code></pre>\n\n<p>I am getting the month as below:</p>\n\n<pre><code>SimpleDateFormat dateFormat = new SimpleDateFormat(\"MM/dd/yyyy\");\nDate convertedDate = dateFormat.parse(date);\nString month = new SimpleDateFormat(\"MM\").format(convertedDate);\n</code></pre>\n\n<p>But how do I get the last calendar day of the month in a given String date?</p>\n\n<p>E.g.: for a String <code>\"1/13/2012\"</code> the output must be <code>\"1/31/2012\"</code>.</p>\n"},{"tags":["java","xml","hibernate","maven","hyperjaxb"],"comments":[{"owner":{"account_id":482558,"reputation":29183,"user_id":897024,"accept_rate":100,"display_name":"kapex"},"score":0,"creation_date":1409921766,"post_id":25676731,"comment_id":40145098,"body_markdown":"I never used this library but it looks like you could try to run `mvn generate-sources` directly.","body":"I never used this library but it looks like you could try to run <code>mvn generate-sources</code> directly."},{"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"score":0,"creation_date":1409935128,"post_id":25676731,"comment_id":40152733,"body_markdown":"@kapep Thank you.  I just posted a couple of print screens showing the results of trying your advice.","body":"@kapep Thank you.  I just posted a couple of print screens showing the results of trying your advice."},{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":0,"creation_date":1410733595,"post_id":25676731,"comment_id":40425924,"body_markdown":"@CodeMed I&#39;m currently moving Hyperjaxb3 to GitHub. When it&#39;s done I&#39;ll make sure the tutorial works. https://github.com/highsource/hyperjaxb3","body":"@CodeMed I&#39;m currently moving Hyperjaxb3 to GitHub. When it&#39;s done I&#39;ll make sure the tutorial works. <a href=\"https://github.com/highsource/hyperjaxb3\" rel=\"nofollow noreferrer\">github.com/highsource/hyperjaxb3</a>"},{"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"score":0,"creation_date":1412808146,"post_id":25676731,"comment_id":41209932,"body_markdown":"@lexicore Are you willing to help me with this related problem: http://stackoverflow.com/questions/26267272/configuring-hyperjaxb-to-create-hibernate-mappings-and-a-mysql-database","body":"@lexicore Are you willing to help me with this related problem: <a href=\"http://stackoverflow.com/questions/26267272/configuring-hyperjaxb-to-create-hibernate-mappings-and-a-mysql-database\" title=\"configuring hyperjaxb to create hibernate mappings and a mysql database\">stackoverflow.com/questions/26267272/&hellip;</a>"},{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":0,"creation_date":1412808573,"post_id":25676731,"comment_id":41210039,"body_markdown":"Please post your `mvn clean install -X` log as well as `dir /b /s&#39; log. (You can first redirect to a file like `mvn clean install -X &gt; log`.)","body":"Please post your <code>mvn clean install -X</code> log as well as <code>dir &#47;b &#47;s&#39; log. (You can first redirect to a file like </code>mvn clean install -X &gt; log`.)"},{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":0,"creation_date":1412808626,"post_id":25676731,"comment_id":41210053,"body_markdown":"@CodeMed Did you actually put `po.xsd` to the right place?","body":"@CodeMed Did you actually put <code>po.xsd</code> to the right place?"}],"answers":[{"tags":[],"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1413665010,"creation_date":1412809051,"answer_id":26267765,"question_id":25676731,"body_markdown":"**UPDATE**\r\n\r\nFinally it appeared that the OP was looking for generated classes in the root directory of the project instead of `target\\generated-source\\xjc`, despite the [tutorial][1] clearly states where to look:\r\n\r\n&gt; If you browse the target/generated-sources/xjc directory, you&#39;ll find\r\n&gt; few generated java files, for instance `PurchaseOrderType.java`.\r\n\r\n----------\r\n\r\nOnce again, I don&#39;t get this. Works for me.\r\n\r\nMy steps are:\r\n\r\n* Unzip [`hyperjaxb3-ejb-template-basic-0.6.0-maven-src.zip`][2] into some location\r\n* Put `schema.xsd` into `src/main/resources`\r\n* Put `po.xml` into `src/test/samples`\r\n* `mvn clean install`\r\n\r\nAnd this is what I get, nice and clean:\r\n\r\n    [INFO] Scanning for projects...\r\n    [WARNING] \r\n    [WARNING] Some problems were encountered while building the effective model for org.jvnet.hyperjaxb3:hyperjaxb3-ejb-template-basic-maven:jar:0.6.0\r\n    [WARNING] &#39;build.plugins.plugin.version&#39; for org.apache.maven.plugins:maven-compiler-plugin is missing. @ line 75, column 12\r\n    [WARNING] \r\n    [WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.\r\n    [WARNING] \r\n    [WARNING] For this reason, future Maven versions might no longer support building such malformed projects.\r\n    [WARNING] \r\n    [INFO] \r\n    [INFO] Using the builder org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder with a thread count of 1\r\n    [INFO]                                                                         \r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Building Hyperjaxb3 Samples [po-initial:maven] 0.6.0\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] \r\n    [INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ hyperjaxb3-ejb-template-basic-maven ---\r\n    [INFO] Deleting C:\\Projects\\workspaces\\hj3\\dist\\hyperjaxb3-ejb-template-basic-0.6.0\\target\r\n    [INFO] \r\n    [INFO] --- maven-hyperjaxb3-plugin:0.6.0:generate (default) @ hyperjaxb3-ejb-template-basic-maven ---\r\n    [INFO] Sources are not up-to-date; XJC execution will be executed.\r\n    [WARNING] According to the Java Persistence API specification, section 2.1, entities must be top-level classes:\r\n    &quot;The entity class must be a top-level class.&quot;\r\n    Your JAXB model is not customized as with top-level local scoping, please use the &lt;jaxb:globalBinding localScoping=&quot;toplevel&quot;/&gt; global bindings customization.\r\n            org.jvnet.hyperjaxb3.ejb.plugin.EjbPlugin\r\n    \r\n    [WARNING] According to the Java Persistence API specification, section 2.1, entities must implement the serializable interface:\r\n    &quot;If an entity instance is to be passed by value as a detached object\r\n    (e.g., through a remote interface), the entity class must implement\r\n     the Serializable interface.&quot;\r\n    Your JAXB model is not customized as serializable, please use the &lt;jaxb:serializable/&gt; global bindings customization element to make your model serializable.\r\n            org.jvnet.hyperjaxb3.ejb.plugin.EjbPlugin\r\n    \r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ hyperjaxb3-ejb-template-basic-maven ---\r\n    [WARNING] Using platform encoding (Cp1252 actually) to copy filtered resources, i.e. build is platform dependent!\r\n    [INFO] Copying 2 resources\r\n    [INFO] Copying 0 resource\r\n    [INFO] Copying 1 resource\r\n    [INFO] \r\n    [INFO] --- maven-compiler-plugin:2.5.1:compile (default-compile) @ hyperjaxb3-ejb-template-basic-maven ---\r\n    [WARNING] File encoding has not been set, using platform encoding Cp1252, i.e. build is platform dependent!\r\n    [INFO] Compiling 5 source files to C:\\Projects\\workspaces\\hj3\\dist\\hyperjaxb3-ejb-template-basic-0.6.0\\target\\classes\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ hyperjaxb3-ejb-template-basic-maven ---\r\n    [WARNING] Using platform encoding (Cp1252 actually) to copy filtered resources, i.e. build is platform dependent!\r\n    [INFO] Copying 2 resources\r\n    [INFO] \r\n    [INFO] --- maven-compiler-plugin:2.5.1:testCompile (default-testCompile) @ hyperjaxb3-ejb-template-basic-maven ---\r\n    [WARNING] File encoding has not been set, using platform encoding Cp1252, i.e. build is platform dependent!\r\n    [INFO] Compiling 5 source files to C:\\Projects\\workspaces\\hj3\\dist\\hyperjaxb3-ejb-template-basic-0.6.0\\target\\test-classes\r\n    [INFO] \r\n    [INFO] --- maven-surefire-plugin:2.12.4:test (default-test) @ hyperjaxb3-ejb-template-basic-maven ---\r\n    [INFO] Surefire report directory: C:\\Projects\\workspaces\\hj3\\dist\\hyperjaxb3-ejb-template-basic-0.6.0\\target\\surefire-reports\r\n    \r\n    -------------------------------------------------------\r\n     T E S T S\r\n    -------------------------------------------------------\r\n    Running RoundtripTest\r\n    Detected [file:/C:/Projects/workspaces/hj3/dist/hyperjaxb3-ejb-template-basic-0.6.0/target/classes/META-INF/persistence.xml].\r\n    \tRoundtripTest\r\n    \r\n    Loading entity manager factory properties.\r\n    \tRoundtripTest\r\n    \r\n    Loading entity manager factory properties from [file:/C:/Projects/workspaces/hj3/dist/hyperjaxb3-ejb-template-basic-0.6.0/target/test-classes/persistence.properties].\r\n    \tRoundtripTest\r\n    \r\n    Testing samples.\r\n    \tRoundtripTest\r\n    \r\n    Sample directory [C:\\Projects\\workspaces\\hj3\\dist\\hyperjaxb3-ejb-template-basic-0.6.0\\src\\test\\samples].\r\n    \tRoundtripTest\r\n    \r\n    Testing sample [po.xml].\r\n    \tRoundtripTest\r\n    \r\n    Unmarshalling.\r\n    \tRoundtripTest\r\n    \r\n    Opening session.\r\n    \tRoundtripTest\r\n    \r\n    Saving the object.\r\n    \tRoundtripTest\r\n    \r\n    Opening session.\r\n    \tRoundtripTest\r\n    \r\n    Loading the object.\r\n    \tRoundtripTest\r\n    \r\n    Closing the session.\r\n    \tRoundtripTest\r\n    \r\n    Initial object:\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n    &lt;purchaseOrder orderDate=&quot;1999-10-20&quot;&gt;\r\n        &lt;shipTo country=&quot;US&quot;&gt;\r\n            &lt;name&gt;Alice Smith&lt;/name&gt;\r\n            &lt;street&gt;123 Maple Street&lt;/street&gt;\r\n            &lt;city&gt;Mill Valley&lt;/city&gt;\r\n            &lt;state&gt;CA&lt;/state&gt;\r\n            &lt;zip&gt;90952&lt;/zip&gt;\r\n        &lt;/shipTo&gt;\r\n        &lt;billTo country=&quot;US&quot;&gt;\r\n            &lt;name&gt;Robert Smith&lt;/name&gt;\r\n            &lt;street&gt;8 Oak Avenue&lt;/street&gt;\r\n            &lt;city&gt;Old Town&lt;/city&gt;\r\n            &lt;state&gt;PA&lt;/state&gt;\r\n            &lt;zip&gt;95819&lt;/zip&gt;\r\n        &lt;/billTo&gt;\r\n        &lt;comment&gt;Hurry, my lawn is going wild!&lt;/comment&gt;\r\n        &lt;items&gt;\r\n            &lt;item partNum=&quot;872-AA&quot;&gt;\r\n                &lt;productName&gt;Lawnmower&lt;/productName&gt;\r\n                &lt;quantity&gt;1&lt;/quantity&gt;\r\n                &lt;USPrice&gt;148.95&lt;/USPrice&gt;\r\n                &lt;comment&gt;Confirm this is electric&lt;/comment&gt;\r\n            &lt;/item&gt;\r\n            &lt;item partNum=&quot;926-AA&quot;&gt;\r\n                &lt;productName&gt;Baby Monitor&lt;/productName&gt;\r\n                &lt;quantity&gt;1&lt;/quantity&gt;\r\n                &lt;USPrice&gt;39.98&lt;/USPrice&gt;\r\n                &lt;shipDate&gt;1999-05-21&lt;/shipDate&gt;\r\n            &lt;/item&gt;\r\n        &lt;/items&gt;\r\n    &lt;/purchaseOrder&gt;\r\n    \r\n    \tRoundtripTest\r\n    \r\n    Source object:\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n    &lt;purchaseOrder orderDate=&quot;1999-10-20&quot; Hjid=&quot;1&quot;&gt;\r\n        &lt;shipTo country=&quot;US&quot; Hjid=&quot;2&quot;&gt;\r\n            &lt;name&gt;Alice Smith&lt;/name&gt;\r\n            &lt;street&gt;123 Maple Street&lt;/street&gt;\r\n            &lt;city&gt;Mill Valley&lt;/city&gt;\r\n            &lt;state&gt;CA&lt;/state&gt;\r\n            &lt;zip&gt;90952&lt;/zip&gt;\r\n        &lt;/shipTo&gt;\r\n        &lt;billTo country=&quot;US&quot; Hjid=&quot;1&quot;&gt;\r\n            &lt;name&gt;Robert Smith&lt;/name&gt;\r\n            &lt;street&gt;8 Oak Avenue&lt;/street&gt;\r\n            &lt;city&gt;Old Town&lt;/city&gt;\r\n            &lt;state&gt;PA&lt;/state&gt;\r\n            &lt;zip&gt;95819&lt;/zip&gt;\r\n        &lt;/billTo&gt;\r\n        &lt;comment&gt;Hurry, my lawn is going wild!&lt;/comment&gt;\r\n        &lt;items Hjid=&quot;1&quot;&gt;\r\n            &lt;item partNum=&quot;872-AA&quot; Hjid=&quot;1&quot;&gt;\r\n                &lt;productName&gt;Lawnmower&lt;/productName&gt;\r\n                &lt;quantity&gt;1&lt;/quantity&gt;\r\n                &lt;USPrice&gt;148.95&lt;/USPrice&gt;\r\n                &lt;comment&gt;Confirm this is electric&lt;/comment&gt;\r\n            &lt;/item&gt;\r\n            &lt;item partNum=&quot;926-AA&quot; Hjid=&quot;2&quot;&gt;\r\n                &lt;productName&gt;Baby Monitor&lt;/productName&gt;\r\n                &lt;quantity&gt;1&lt;/quantity&gt;\r\n                &lt;USPrice&gt;39.98&lt;/USPrice&gt;\r\n                &lt;shipDate&gt;1999-05-21&lt;/shipDate&gt;\r\n            &lt;/item&gt;\r\n        &lt;/items&gt;\r\n    &lt;/purchaseOrder&gt;\r\n    \r\n    \tRoundtripTest\r\n    \r\n    Result object:\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n    &lt;purchaseOrder orderDate=&quot;1999-10-20&quot; Hjid=&quot;1&quot;&gt;\r\n        &lt;shipTo country=&quot;US&quot; Hjid=&quot;2&quot;&gt;\r\n            &lt;name&gt;Alice Smith&lt;/name&gt;\r\n            &lt;street&gt;123 Maple Street&lt;/street&gt;\r\n            &lt;city&gt;Mill Valley&lt;/city&gt;\r\n            &lt;state&gt;CA&lt;/state&gt;\r\n            &lt;zip&gt;90952&lt;/zip&gt;\r\n        &lt;/shipTo&gt;\r\n        &lt;billTo country=&quot;US&quot; Hjid=&quot;1&quot;&gt;\r\n            &lt;name&gt;Robert Smith&lt;/name&gt;\r\n            &lt;street&gt;8 Oak Avenue&lt;/street&gt;\r\n            &lt;city&gt;Old Town&lt;/city&gt;\r\n            &lt;state&gt;PA&lt;/state&gt;\r\n            &lt;zip&gt;95819&lt;/zip&gt;\r\n        &lt;/billTo&gt;\r\n        &lt;comment&gt;Hurry, my lawn is going wild!&lt;/comment&gt;\r\n        &lt;items Hjid=&quot;1&quot;&gt;\r\n            &lt;item partNum=&quot;872-AA&quot; Hjid=&quot;1&quot;&gt;\r\n                &lt;productName&gt;Lawnmower&lt;/productName&gt;\r\n                &lt;quantity&gt;1&lt;/quantity&gt;\r\n                &lt;USPrice&gt;148.95&lt;/USPrice&gt;\r\n                &lt;comment&gt;Confirm this is electric&lt;/comment&gt;\r\n            &lt;/item&gt;\r\n            &lt;item partNum=&quot;926-AA&quot; Hjid=&quot;2&quot;&gt;\r\n                &lt;productName&gt;Baby Monitor&lt;/productName&gt;\r\n                &lt;quantity&gt;1&lt;/quantity&gt;\r\n                &lt;USPrice&gt;39.98&lt;/USPrice&gt;\r\n                &lt;shipDate&gt;1999-05-21&lt;/shipDate&gt;\r\n            &lt;/item&gt;\r\n        &lt;/items&gt;\r\n    &lt;/purchaseOrder&gt;\r\n    \r\n    \tRoundtripTest\r\n    \r\n    Checking the document identity.\r\n    \tRoundtripTest\r\n    \r\n    Finished testing sample [po.xml].\r\n    \tRoundtripTest\r\n    \r\n    Finished testing samples.\r\n    \tRoundtripTest\r\n    \r\n    Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.456 sec\r\n    \r\n    Results :\r\n    \r\n    Tests run: 1, Failures: 0, Errors: 0, Skipped: 0\r\n    \r\n    [INFO] \r\n    [INFO] --- maven-jar-plugin:2.4:jar (default-jar) @ hyperjaxb3-ejb-template-basic-maven ---\r\n    [INFO] Building jar: C:\\Projects\\workspaces\\hj3\\dist\\hyperjaxb3-ejb-template-basic-0.6.0\\target\\hyperjaxb3-ejb-template-basic-maven-0.6.0.jar\r\n    [INFO] \r\n    [INFO] --- maven-install-plugin:2.4:install (default-install) @ hyperjaxb3-ejb-template-basic-maven ---\r\n    [INFO] Installing C:\\Projects\\workspaces\\hj3\\dist\\hyperjaxb3-ejb-template-basic-0.6.0\\target\\hyperjaxb3-ejb-template-basic-maven-0.6.0.jar to C:\\Repository\\org\\jvnet\\hyperjaxb3\\hyperjaxb3-ejb-template-basic-maven\\0.6.0\\hyperjaxb3-ejb-template-basic-maven-0.6.0.jar\r\n    [INFO] Installing C:\\Projects\\workspaces\\hj3\\dist\\hyperjaxb3-ejb-template-basic-0.6.0\\pom.xml to C:\\Repository\\org\\jvnet\\hyperjaxb3\\hyperjaxb3-ejb-template-basic-maven\\0.6.0\\hyperjaxb3-ejb-template-basic-maven-0.6.0.pom\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 11.185 s\r\n    [INFO] Finished at: 2014-10-09T00:56:18+01:00\r\n    [INFO] Final Memory: 22M/101M\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\nI have no idea why it does not work for you. Pleas post `mvn clean install -X` and `dir /b/s` logs so that I could check your setup.\r\n\r\n\r\n  [1]: http://confluence.highsource.org/display/HJ3/Purchase+Order+Tutorial\r\n  [2]: https://github.com/highsource/hyperjaxb3/releases/download/0.6.0/hyperjaxb3-ejb-template-basic-0.6.0-maven-src.zip","title":"hyperjaxb3 not generating files","body":"<p><strong>UPDATE</strong></p>\n\n<p>Finally it appeared that the OP was looking for generated classes in the root directory of the project instead of <code>target\\generated-source\\xjc</code>, despite the <a href=\"http://confluence.highsource.org/display/HJ3/Purchase+Order+Tutorial\" rel=\"nofollow\">tutorial</a> clearly states where to look:</p>\n\n<blockquote>\n  <p>If you browse the target/generated-sources/xjc directory, you'll find\n  few generated java files, for instance <code>PurchaseOrderType.java</code>.</p>\n</blockquote>\n\n<hr>\n\n<p>Once again, I don't get this. Works for me.</p>\n\n<p>My steps are:</p>\n\n<ul>\n<li>Unzip <a href=\"https://github.com/highsource/hyperjaxb3/releases/download/0.6.0/hyperjaxb3-ejb-template-basic-0.6.0-maven-src.zip\" rel=\"nofollow\"><code>hyperjaxb3-ejb-template-basic-0.6.0-maven-src.zip</code></a> into some location</li>\n<li>Put <code>schema.xsd</code> into <code>src/main/resources</code></li>\n<li>Put <code>po.xml</code> into <code>src/test/samples</code></li>\n<li><code>mvn clean install</code></li>\n</ul>\n\n<p>And this is what I get, nice and clean:</p>\n\n<pre><code>[INFO] Scanning for projects...\n[WARNING] \n[WARNING] Some problems were encountered while building the effective model for org.jvnet.hyperjaxb3:hyperjaxb3-ejb-template-basic-maven:jar:0.6.0\n[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-compiler-plugin is missing. @ line 75, column 12\n[WARNING] \n[WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.\n[WARNING] \n[WARNING] For this reason, future Maven versions might no longer support building such malformed projects.\n[WARNING] \n[INFO] \n[INFO] Using the builder org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder with a thread count of 1\n[INFO]                                                                         \n[INFO] ------------------------------------------------------------------------\n[INFO] Building Hyperjaxb3 Samples [po-initial:maven] 0.6.0\n[INFO] ------------------------------------------------------------------------\n[INFO] \n[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ hyperjaxb3-ejb-template-basic-maven ---\n[INFO] Deleting C:\\Projects\\workspaces\\hj3\\dist\\hyperjaxb3-ejb-template-basic-0.6.0\\target\n[INFO] \n[INFO] --- maven-hyperjaxb3-plugin:0.6.0:generate (default) @ hyperjaxb3-ejb-template-basic-maven ---\n[INFO] Sources are not up-to-date; XJC execution will be executed.\n[WARNING] According to the Java Persistence API specification, section 2.1, entities must be top-level classes:\n\"The entity class must be a top-level class.\"\nYour JAXB model is not customized as with top-level local scoping, please use the &lt;jaxb:globalBinding localScoping=\"toplevel\"/&gt; global bindings customization.\n        org.jvnet.hyperjaxb3.ejb.plugin.EjbPlugin\n\n[WARNING] According to the Java Persistence API specification, section 2.1, entities must implement the serializable interface:\n\"If an entity instance is to be passed by value as a detached object\n(e.g., through a remote interface), the entity class must implement\n the Serializable interface.\"\nYour JAXB model is not customized as serializable, please use the &lt;jaxb:serializable/&gt; global bindings customization element to make your model serializable.\n        org.jvnet.hyperjaxb3.ejb.plugin.EjbPlugin\n\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ hyperjaxb3-ejb-template-basic-maven ---\n[WARNING] Using platform encoding (Cp1252 actually) to copy filtered resources, i.e. build is platform dependent!\n[INFO] Copying 2 resources\n[INFO] Copying 0 resource\n[INFO] Copying 1 resource\n[INFO] \n[INFO] --- maven-compiler-plugin:2.5.1:compile (default-compile) @ hyperjaxb3-ejb-template-basic-maven ---\n[WARNING] File encoding has not been set, using platform encoding Cp1252, i.e. build is platform dependent!\n[INFO] Compiling 5 source files to C:\\Projects\\workspaces\\hj3\\dist\\hyperjaxb3-ejb-template-basic-0.6.0\\target\\classes\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ hyperjaxb3-ejb-template-basic-maven ---\n[WARNING] Using platform encoding (Cp1252 actually) to copy filtered resources, i.e. build is platform dependent!\n[INFO] Copying 2 resources\n[INFO] \n[INFO] --- maven-compiler-plugin:2.5.1:testCompile (default-testCompile) @ hyperjaxb3-ejb-template-basic-maven ---\n[WARNING] File encoding has not been set, using platform encoding Cp1252, i.e. build is platform dependent!\n[INFO] Compiling 5 source files to C:\\Projects\\workspaces\\hj3\\dist\\hyperjaxb3-ejb-template-basic-0.6.0\\target\\test-classes\n[INFO] \n[INFO] --- maven-surefire-plugin:2.12.4:test (default-test) @ hyperjaxb3-ejb-template-basic-maven ---\n[INFO] Surefire report directory: C:\\Projects\\workspaces\\hj3\\dist\\hyperjaxb3-ejb-template-basic-0.6.0\\target\\surefire-reports\n\n-------------------------------------------------------\n T E S T S\n-------------------------------------------------------\nRunning RoundtripTest\nDetected [file:/C:/Projects/workspaces/hj3/dist/hyperjaxb3-ejb-template-basic-0.6.0/target/classes/META-INF/persistence.xml].\n    RoundtripTest\n\nLoading entity manager factory properties.\n    RoundtripTest\n\nLoading entity manager factory properties from [file:/C:/Projects/workspaces/hj3/dist/hyperjaxb3-ejb-template-basic-0.6.0/target/test-classes/persistence.properties].\n    RoundtripTest\n\nTesting samples.\n    RoundtripTest\n\nSample directory [C:\\Projects\\workspaces\\hj3\\dist\\hyperjaxb3-ejb-template-basic-0.6.0\\src\\test\\samples].\n    RoundtripTest\n\nTesting sample [po.xml].\n    RoundtripTest\n\nUnmarshalling.\n    RoundtripTest\n\nOpening session.\n    RoundtripTest\n\nSaving the object.\n    RoundtripTest\n\nOpening session.\n    RoundtripTest\n\nLoading the object.\n    RoundtripTest\n\nClosing the session.\n    RoundtripTest\n\nInitial object:\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?&gt;\n&lt;purchaseOrder orderDate=\"1999-10-20\"&gt;\n    &lt;shipTo country=\"US\"&gt;\n        &lt;name&gt;Alice Smith&lt;/name&gt;\n        &lt;street&gt;123 Maple Street&lt;/street&gt;\n        &lt;city&gt;Mill Valley&lt;/city&gt;\n        &lt;state&gt;CA&lt;/state&gt;\n        &lt;zip&gt;90952&lt;/zip&gt;\n    &lt;/shipTo&gt;\n    &lt;billTo country=\"US\"&gt;\n        &lt;name&gt;Robert Smith&lt;/name&gt;\n        &lt;street&gt;8 Oak Avenue&lt;/street&gt;\n        &lt;city&gt;Old Town&lt;/city&gt;\n        &lt;state&gt;PA&lt;/state&gt;\n        &lt;zip&gt;95819&lt;/zip&gt;\n    &lt;/billTo&gt;\n    &lt;comment&gt;Hurry, my lawn is going wild!&lt;/comment&gt;\n    &lt;items&gt;\n        &lt;item partNum=\"872-AA\"&gt;\n            &lt;productName&gt;Lawnmower&lt;/productName&gt;\n            &lt;quantity&gt;1&lt;/quantity&gt;\n            &lt;USPrice&gt;148.95&lt;/USPrice&gt;\n            &lt;comment&gt;Confirm this is electric&lt;/comment&gt;\n        &lt;/item&gt;\n        &lt;item partNum=\"926-AA\"&gt;\n            &lt;productName&gt;Baby Monitor&lt;/productName&gt;\n            &lt;quantity&gt;1&lt;/quantity&gt;\n            &lt;USPrice&gt;39.98&lt;/USPrice&gt;\n            &lt;shipDate&gt;1999-05-21&lt;/shipDate&gt;\n        &lt;/item&gt;\n    &lt;/items&gt;\n&lt;/purchaseOrder&gt;\n\n    RoundtripTest\n\nSource object:\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?&gt;\n&lt;purchaseOrder orderDate=\"1999-10-20\" Hjid=\"1\"&gt;\n    &lt;shipTo country=\"US\" Hjid=\"2\"&gt;\n        &lt;name&gt;Alice Smith&lt;/name&gt;\n        &lt;street&gt;123 Maple Street&lt;/street&gt;\n        &lt;city&gt;Mill Valley&lt;/city&gt;\n        &lt;state&gt;CA&lt;/state&gt;\n        &lt;zip&gt;90952&lt;/zip&gt;\n    &lt;/shipTo&gt;\n    &lt;billTo country=\"US\" Hjid=\"1\"&gt;\n        &lt;name&gt;Robert Smith&lt;/name&gt;\n        &lt;street&gt;8 Oak Avenue&lt;/street&gt;\n        &lt;city&gt;Old Town&lt;/city&gt;\n        &lt;state&gt;PA&lt;/state&gt;\n        &lt;zip&gt;95819&lt;/zip&gt;\n    &lt;/billTo&gt;\n    &lt;comment&gt;Hurry, my lawn is going wild!&lt;/comment&gt;\n    &lt;items Hjid=\"1\"&gt;\n        &lt;item partNum=\"872-AA\" Hjid=\"1\"&gt;\n            &lt;productName&gt;Lawnmower&lt;/productName&gt;\n            &lt;quantity&gt;1&lt;/quantity&gt;\n            &lt;USPrice&gt;148.95&lt;/USPrice&gt;\n            &lt;comment&gt;Confirm this is electric&lt;/comment&gt;\n        &lt;/item&gt;\n        &lt;item partNum=\"926-AA\" Hjid=\"2\"&gt;\n            &lt;productName&gt;Baby Monitor&lt;/productName&gt;\n            &lt;quantity&gt;1&lt;/quantity&gt;\n            &lt;USPrice&gt;39.98&lt;/USPrice&gt;\n            &lt;shipDate&gt;1999-05-21&lt;/shipDate&gt;\n        &lt;/item&gt;\n    &lt;/items&gt;\n&lt;/purchaseOrder&gt;\n\n    RoundtripTest\n\nResult object:\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?&gt;\n&lt;purchaseOrder orderDate=\"1999-10-20\" Hjid=\"1\"&gt;\n    &lt;shipTo country=\"US\" Hjid=\"2\"&gt;\n        &lt;name&gt;Alice Smith&lt;/name&gt;\n        &lt;street&gt;123 Maple Street&lt;/street&gt;\n        &lt;city&gt;Mill Valley&lt;/city&gt;\n        &lt;state&gt;CA&lt;/state&gt;\n        &lt;zip&gt;90952&lt;/zip&gt;\n    &lt;/shipTo&gt;\n    &lt;billTo country=\"US\" Hjid=\"1\"&gt;\n        &lt;name&gt;Robert Smith&lt;/name&gt;\n        &lt;street&gt;8 Oak Avenue&lt;/street&gt;\n        &lt;city&gt;Old Town&lt;/city&gt;\n        &lt;state&gt;PA&lt;/state&gt;\n        &lt;zip&gt;95819&lt;/zip&gt;\n    &lt;/billTo&gt;\n    &lt;comment&gt;Hurry, my lawn is going wild!&lt;/comment&gt;\n    &lt;items Hjid=\"1\"&gt;\n        &lt;item partNum=\"872-AA\" Hjid=\"1\"&gt;\n            &lt;productName&gt;Lawnmower&lt;/productName&gt;\n            &lt;quantity&gt;1&lt;/quantity&gt;\n            &lt;USPrice&gt;148.95&lt;/USPrice&gt;\n            &lt;comment&gt;Confirm this is electric&lt;/comment&gt;\n        &lt;/item&gt;\n        &lt;item partNum=\"926-AA\" Hjid=\"2\"&gt;\n            &lt;productName&gt;Baby Monitor&lt;/productName&gt;\n            &lt;quantity&gt;1&lt;/quantity&gt;\n            &lt;USPrice&gt;39.98&lt;/USPrice&gt;\n            &lt;shipDate&gt;1999-05-21&lt;/shipDate&gt;\n        &lt;/item&gt;\n    &lt;/items&gt;\n&lt;/purchaseOrder&gt;\n\n    RoundtripTest\n\nChecking the document identity.\n    RoundtripTest\n\nFinished testing sample [po.xml].\n    RoundtripTest\n\nFinished testing samples.\n    RoundtripTest\n\nTests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.456 sec\n\nResults :\n\nTests run: 1, Failures: 0, Errors: 0, Skipped: 0\n\n[INFO] \n[INFO] --- maven-jar-plugin:2.4:jar (default-jar) @ hyperjaxb3-ejb-template-basic-maven ---\n[INFO] Building jar: C:\\Projects\\workspaces\\hj3\\dist\\hyperjaxb3-ejb-template-basic-0.6.0\\target\\hyperjaxb3-ejb-template-basic-maven-0.6.0.jar\n[INFO] \n[INFO] --- maven-install-plugin:2.4:install (default-install) @ hyperjaxb3-ejb-template-basic-maven ---\n[INFO] Installing C:\\Projects\\workspaces\\hj3\\dist\\hyperjaxb3-ejb-template-basic-0.6.0\\target\\hyperjaxb3-ejb-template-basic-maven-0.6.0.jar to C:\\Repository\\org\\jvnet\\hyperjaxb3\\hyperjaxb3-ejb-template-basic-maven\\0.6.0\\hyperjaxb3-ejb-template-basic-maven-0.6.0.jar\n[INFO] Installing C:\\Projects\\workspaces\\hj3\\dist\\hyperjaxb3-ejb-template-basic-0.6.0\\pom.xml to C:\\Repository\\org\\jvnet\\hyperjaxb3\\hyperjaxb3-ejb-template-basic-maven\\0.6.0\\hyperjaxb3-ejb-template-basic-maven-0.6.0.pom\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 11.185 s\n[INFO] Finished at: 2014-10-09T00:56:18+01:00\n[INFO] Final Memory: 22M/101M\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n\n<p>I have no idea why it does not work for you. Pleas post <code>mvn clean install -X</code> and <code>dir /b/s</code> logs so that I could check your setup.</p>\n"}],"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1355,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":26267765,"answer_count":1,"score":2,"last_activity_date":1691062656,"creation_date":1409875125,"question_id":25676731,"body_markdown":"I am trying to learn hyperjaxb by studying &lt;a href=&quot;http://confluence.highsource.org/display/HJ3/Purchase+Order+Tutorial&quot;&gt;this tutorial&lt;/a&gt;.  I followed all of the instructions down to the heading section `What was Generated?`.  This included the following steps:  \r\n  \r\n1. download the &lt;a href=&quot;http://confluence.highsource.org/display/HJ3/Downloads&quot;&gt;Basic Project Template for Hibernate and Maven&lt;/a&gt;\r\n2. unzip the file\r\n3. install the xml and xsd files in the assigned locations\r\n4. open up `cmd.exe`\r\n5. navigate to the directory of the unzipped root folder\r\n6. run mvn clean install  \r\n  \r\nBut nothing was generated.  There is no `/generated-sources/xjc` directory, and there is no `PurchaseOrderType.java`.  I did a key word search of the entire directory structure to confirm that these resources were not present after running `mvn clean install`.  I also imported the directory structure into a new eclipse maven project and tried `run as...maven clean` and `run as...maven build` within the new Eclipse Maven project, but got the same lack of results.  \r\n  \r\nWhat can I do to get this tutorial to produce the intended generated files?\r\n  \r\nAlso, is there a better way to generate JPA entities from xsd?\r\n  \r\nEdit\r\n---\r\n  \r\nAs per @kapep&#39;s advice, I tried `mvn generate-sources` and got the following results:  \r\n  \r\n&lt;img src=&quot;https://s30.postimg.org/mt6jp7mhd/mvn_generate_sources.jpg&quot;&gt;  \r\n\r\nI then tried `mvn clean install` again, and got the following results:  \r\n\r\n&lt;img src=&quot;https://s24.postimg.org/je21hk2xh/mvn_clean_install.jpg&quot;&gt;  \r\n\r\nYou can see the warning in the print screens that `org.apache.maven.plugins:maven-compiler-plugin` is missing.  I found the corresponding folder in the `.m2` repository on my machine and deleted it, then did a `maven update project` from within eclipse to re-download the library.  I then did another `mvn clean install`, and got the same lack of results.  Nothing was generated, no java file, no `generated-sources` directory.  Nothing.  \r\n  \r\nWhat else can I try?\r\n\r\nSecond edit\r\n---\r\n  \r\nThe tutorial app still DOES NOT generate the intended files, however, I was able to get rid of the warning message in the print screens by changing the maven-compiler-plugin portion of the pom to the following:  \r\n  \r\n    &lt;plugin&gt;\r\n        &lt;inherited&gt;true&lt;/inherited&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.2&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;source&gt;1.6&lt;/source&gt;\r\n            &lt;target&gt;1.6&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;  \r\n  \r\nNote that, in addition to specifying the version, I also changed the `source` and `target` from `1.5` to `1.6`, as per @Todd &#39;s advice &lt;a href=&quot;https://stackoverflow.com/questions/4123044/maven-3-warnings-about-build-plugins-plugin-version&quot;&gt;in this posting&lt;/a&gt;.  I assume these refer to JDK versions.  My installation uses JDK 1.6.  I do not know if this is causing any problems.  \r\n  \r\nWhat else can I try?\r\n","title":"hyperjaxb3 not generating files","body":"<p>I am trying to learn hyperjaxb by studying <a href=\"http://confluence.highsource.org/display/HJ3/Purchase+Order+Tutorial\" rel=\"nofollow noreferrer\">this tutorial</a>.  I followed all of the instructions down to the heading section <code>What was Generated?</code>.  This included the following steps:</p>\n<ol>\n<li>download the <a href=\"http://confluence.highsource.org/display/HJ3/Downloads\" rel=\"nofollow noreferrer\">Basic Project Template for Hibernate and Maven</a></li>\n<li>unzip the file</li>\n<li>install the xml and xsd files in the assigned locations</li>\n<li>open up <code>cmd.exe</code></li>\n<li>navigate to the directory of the unzipped root folder</li>\n<li>run mvn clean install</li>\n</ol>\n<p>But nothing was generated.  There is no <code>/generated-sources/xjc</code> directory, and there is no <code>PurchaseOrderType.java</code>.  I did a key word search of the entire directory structure to confirm that these resources were not present after running <code>mvn clean install</code>.  I also imported the directory structure into a new eclipse maven project and tried <code>run as...maven clean</code> and <code>run as...maven build</code> within the new Eclipse Maven project, but got the same lack of results.</p>\n<p>What can I do to get this tutorial to produce the intended generated files?</p>\n<p>Also, is there a better way to generate JPA entities from xsd?</p>\n<h2>Edit</h2>\n<p>As per @kapep's advice, I tried <code>mvn generate-sources</code> and got the following results:</p>\n<img src=\"https://s30.postimg.org/mt6jp7mhd/mvn_generate_sources.jpg\">  \n<p>I then tried <code>mvn clean install</code> again, and got the following results:</p>\n<img src=\"https://s24.postimg.org/je21hk2xh/mvn_clean_install.jpg\">  \n<p>You can see the warning in the print screens that <code>org.apache.maven.plugins:maven-compiler-plugin</code> is missing.  I found the corresponding folder in the <code>.m2</code> repository on my machine and deleted it, then did a <code>maven update project</code> from within eclipse to re-download the library.  I then did another <code>mvn clean install</code>, and got the same lack of results.  Nothing was generated, no java file, no <code>generated-sources</code> directory.  Nothing.</p>\n<p>What else can I try?</p>\n<h2>Second edit</h2>\n<p>The tutorial app still DOES NOT generate the intended files, however, I was able to get rid of the warning message in the print screens by changing the maven-compiler-plugin portion of the pom to the following:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;inherited&gt;true&lt;/inherited&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.3.2&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;1.6&lt;/source&gt;\n        &lt;target&gt;1.6&lt;/target&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;  \n</code></pre>\n<p>Note that, in addition to specifying the version, I also changed the <code>source</code> and <code>target</code> from <code>1.5</code> to <code>1.6</code>, as per @Todd 's advice <a href=\"https://stackoverflow.com/questions/4123044/maven-3-warnings-about-build-plugins-plugin-version\">in this posting</a>.  I assume these refer to JDK versions.  My installation uses JDK 1.6.  I do not know if this is causing any problems.</p>\n<p>What else can I try?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9723,"page":269,"page_size":100}
