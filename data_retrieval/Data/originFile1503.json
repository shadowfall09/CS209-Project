{"items":[{"tags":["java","server","httpserver","web-development-server"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1647745608,"post_id":71543713,"comment_id":126447237,"body_markdown":"By “`HttpServer`”, do you mean [`com.sun.net.httpserver.HttpServer`](https://docs.oracle.com/en/java/javase/17/docs/api/jdk.httpserver/com/sun/net/httpserver/HttpServer.html)?","body":"By “<code>HttpServer</code>”, do you mean <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/jdk.httpserver/com/sun/net/httpserver/HttpServer.html\" rel=\"nofollow noreferrer\"><code>com.sun.net.httpserver.HttpServer</code></a>?"},{"owner":{"account_id":17843686,"reputation":11,"user_id":18516639,"display_name":"Ray17K"},"score":0,"creation_date":1647745825,"post_id":71543713,"comment_id":126447263,"body_markdown":"@BasilBourque Yes exactly , i searched how to deploy my search engine on a server , i found that tool and i tried it , i don&#39;t know if it&#39;s good or not since i done just little web dev tasks in my life","body":"@BasilBourque Yes exactly , i searched how to deploy my search engine on a server , i found that tool and i tried it , i don&#39;t know if it&#39;s good or not since i done just little web dev tasks in my life"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647759475,"creation_date":1647746374,"answer_id":71543776,"question_id":71543713,"body_markdown":"Firstly, be aware that [`com.sun.net.httpserver.HttpServer`][1] has been reworked to be the new *Simple Web Server* bundled in [Java 18][2]. See [*JEP 408: Simple Web Server*](https://openjdk.java.net/jeps/408). \r\n\r\nNeither of these web servers were meant for production use. They are for convenient use by students learning programming, for quick and easy experimentation, and perhaps for deployment in a small in-house non-mission-critical app. \r\n\r\nIn the Java ecosystem, you have a wealth of choices in robust enterprise-quality web servers for production use.\r\n\r\n - The first two obvious choices are [Apache Tomcat][3] and [Eclipse Jetty][4], basically equivalent products aimed at web serving both static pages and dynamic content via [Jakarta Servlet][5] &amp; [Jakarta Server Pages (JSP)][6] technology. (Formerly known as *Java Servlet* &amp; *JavaServer Pages*.)\r\n - Several more products add to to that functionality any of the [dozens of enterprise-oriented features][7] specified by the [Jakarta EE][8]. Products include Eclipse Glassfish, Payara, Apache TomEE, Red Hat WildFly &amp; JBoss, IBM OpenLiberty &amp; WebSphere, and [more][9]. \r\n\r\nYou said:\r\n\r\n&gt;3)- is there another server tool that can make me program this easier ?\r\n\r\nI suggest you rejigger your app to be a Jakarta Servlet or a JSP, for deployment on one of the [web container][10] products listed above.\r\n\r\n\r\nYou said:\r\n\r\n&gt; since my Java program have to load 4 HashMaps to calculate results ( map for PageRank of pages , map of TF , IDF) that takes 2 minutes to load , and after that a search is done in only 5 seconds , so i need to loads the 4 Maps only once ( before ?) when the server starts \r\n\r\nThe [*Jakarta Servlet* specification][11] provides a hook for you to run code when your web app first spins up. (But be aware that the spec leaves it to the implementation to decide to run the hook ahead of time or only after receiving the first client request.)\r\n\r\nYour Servlet-based web app is [known in the spec][12] as a &quot;Servlet Context&quot;. To use that hook when your web app first starts and finally ends, write a little class that implements [`ServletContextListener`][13]. Write your initialization code in the [`contextInitialized`][14] method, and write your clean up code in the [`contextDestroyed`][15] method. \r\n\r\nIn that `contextInitialized` method is the place to build your cache of `HashMap` data for later use when your Servlet runs every time in response to a client request.\r\n\r\nThe [`@WebListener`][16] annotation flags this class as being special. The servlet container will automatically notice, load, and execute your `contextInitialized` &amp; `contextDestroyed` methods at the appropriate times. This annotation is an alternative to editing configuration files. \r\n\r\n```java\r\npackage work.basil.example.hello;\r\n\r\nimport jakarta.servlet.ServletContextEvent;\r\nimport jakarta.servlet.ServletContextListener;\r\nimport jakarta.servlet.annotation.WebListener;\r\n\r\n@WebListener\r\npublic class MyServletContextListener implements ServletContextListener\r\n{\r\n    @Override\r\n    public void contextInitialized ( ServletContextEvent servletContextEvent )\r\n    {\r\n        // Build your HashMap data cache here.\r\n    }\r\n\r\n    @Override\r\n    public void contextDestroyed ( ServletContextEvent servletContextEvent )\r\n    {\r\n        // Do your shutdown and clean-up work here.\r\n    }\r\n}\r\n```\r\n\r\nI have written on this several times here on Stack Overflow, as have many others. Search to learn more. \r\n\r\nHere is an example where we create a `Map` in the context listener.\r\n\r\nWe store the map as an attribute in the context object. Context attributes are like a map in that they are a key-value pairing. But the key must be a `String`, and the value is stored as an `Object` object — no [Java Generics][17], so we must cast after retrieval as seen further below in the example servlet code. \r\n\r\n```java\r\npackage work.basil.example.report;\r\n\r\nimport jakarta.servlet.ServletContextEvent;\r\nimport jakarta.servlet.ServletContextListener;\r\nimport jakarta.servlet.annotation.WebListener;\r\n\r\nimport java.time.DayOfWeek;\r\nimport java.util.Map;\r\n\r\n@WebListener\r\npublic class MyServletContextListener implements ServletContextListener\r\n{\r\n    @Override\r\n    public void contextInitialized ( ServletContextEvent servletContextEvent )\r\n    {\r\n        // Build your HashMap data cache here.\r\n        System.out.println( &quot;INFO - contextInitialized&quot; );\r\n        Map &lt; String, DayOfWeek &gt; employeeWorkDayAssigned =\r\n                Map.of(\r\n                        &quot;Alice&quot; , DayOfWeek.WEDNESDAY ,\r\n                        &quot;Bob&quot; , DayOfWeek.MONDAY ,\r\n                        &quot;Carol&quot; , DayOfWeek.TUESDAY\r\n                );\r\n        servletContextEvent.getServletContext().setAttribute( &quot;work.basil.example.employeeWorkDayAssigned&quot; , employeeWorkDayAssigned );\r\n    }\r\n\r\n    @Override\r\n    public void contextDestroyed ( ServletContextEvent servletContextEvent )\r\n    {\r\n        // Do your shutdown and clean-up work here.\r\n    }\r\n}\r\n```\r\n\r\nAnd a servlet which uses that `Map` to write a table to a HTML page.\r\n\r\n```java\r\npackage work.basil.example.report;\r\n\r\nimport jakarta.servlet.annotation.WebServlet;\r\nimport jakarta.servlet.http.HttpServlet;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\n\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\nimport java.time.DayOfWeek;\r\nimport java.time.Instant;\r\nimport java.time.format.TextStyle;\r\nimport java.time.temporal.ChronoUnit;\r\nimport java.util.Locale;\r\nimport java.util.Map;\r\n\r\n@WebServlet ( name = &quot;report&quot;, value = &quot;/&quot; )\r\npublic class ReportServlet extends HttpServlet\r\n{\r\n    private String message;\r\n\r\n    public void init ( )\r\n    {\r\n        message = &quot;Report&quot;;\r\n    }\r\n\r\n    public void doGet ( HttpServletRequest request , HttpServletResponse response ) throws IOException\r\n    {\r\n        response.setContentType( &quot;text/html&quot; );\r\n\r\n        // Hello\r\n        PrintWriter out = response.getWriter();\r\n        out.println( &quot;&lt;html lang=&#39;en&#39;&gt;&quot; );\r\n        out.println( &quot;&lt;head&gt;&quot; );\r\n        out.println( &quot;&lt;meta charset=&#39;UTF-8&#39;&gt;&quot; );\r\n        String css =\r\n                &quot;&quot;&quot;\r\n                                \r\n                table, th, td , caption {\r\n                    border: 0.5px solid DarkSlateGrey ;\r\n                }\r\n                table {\r\n                    width: 90% ;\r\n                    border-collapse: collapse ;\r\n                    margin-left: auto;\r\n                    margin-right: auto;\r\n                }\r\n                caption {\r\n                    color: white ; \r\n                    background-color: DarkSlateGrey ;\r\n                }\r\n                footer {\r\n                    margin-top: 1em ;\r\n                    width: 100% ;\r\n                    text-align: center ;\r\n                    color:  DimGrey ;\r\n                }\r\n                &quot;&quot;&quot;;\r\n        out.println( &quot;&lt;style&gt;%s&lt;/style&gt;&quot;.formatted( css ) );\r\n        out.println( &quot;&lt;body&gt;&quot; );\r\n        out.println( &quot;&lt;h1&gt;&quot; + message + &quot;&lt;/h1&gt;&quot; );\r\n\r\n        // Generate report from map data.\r\n        StringBuilder table = new StringBuilder();\r\n        String tableHeader =\r\n                &quot;&quot;&quot;\r\n                &lt;table&gt;\r\n                  &lt;caption&gt;Employee Day-of-Week Report&lt;/caption&gt;\r\n                &quot;&quot;&quot;;\r\n        table.append( tableHeader );\r\n        Object attribute = this.getServletContext().getAttribute( &quot;work.basil.example.employeeWorkDayAssigned&quot; );\r\n        Map &lt; String, DayOfWeek &gt; map = ( Map &lt; String, DayOfWeek &gt; ) attribute; // Cast back to original type.\r\n        for ( Map.Entry &lt; String, DayOfWeek &gt; entry : map.entrySet() )\r\n        {\r\n            String row =\r\n                    &quot;&quot;&quot;\r\n                      &lt;tr&gt;\r\n                        &lt;td&gt;%s&lt;/td&gt;\r\n                        &lt;td&gt;%s&lt;/td&gt;\r\n                      &lt;/tr&gt;\r\n                    &quot;&quot;&quot;\r\n                            .formatted(\r\n                                    entry.getKey() ,\r\n                                    entry.getValue().getDisplayName( TextStyle.FULL_STANDALONE , Locale.US )\r\n                            );\r\n            table.append( row );\r\n        }\r\n        table.append( &quot;&lt;/table&gt;&quot; + &quot;\\n&quot; );\r\n\r\n        out.println( table.toString() );\r\n        out.println( &quot;&lt;footer&gt;Report generated %s&lt;/footer&gt;&quot;.formatted( Instant.now().truncatedTo( ChronoUnit.MINUTES ).toString() ) );\r\n        out.println( &quot;&lt;/body&gt;&lt;/html&gt;&quot; );\r\n    }\r\n\r\n    public void destroy ( )\r\n    {\r\n        // No code needed here.\r\n    }\r\n}\r\n```\r\n\r\nResulting page.\r\n\r\n[![screenshot of generate HTML page rendered in web browser][18]][18]\r\n\r\nThe HTML behind that page.\r\n\r\n```html\r\n\r\n&lt;html lang=&#39;en&#39;&gt;\r\n&lt;head&gt;\r\n&lt;meta charset=&#39;UTF-8&#39;&gt;\r\n&lt;style&gt;\r\ntable, th, td , caption {\r\n    border: 0.5px solid DarkSlateGrey ;\r\n}\r\ntable {\r\n    width: 90% ;\r\n    border-collapse: collapse ;\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n}\r\ncaption {\r\n    color: white ;\r\n    background-color: DarkSlateGrey ;\r\n}\r\nfooter {\r\n    margin-top: 1em ;\r\n    width: 100% ;\r\n    text-align: center ;\r\n    color:  DimGrey ;\r\n}\r\n&lt;/style&gt;\r\n&lt;body&gt;\r\n&lt;h1&gt;Report&lt;/h1&gt;\r\n&lt;table&gt;\r\n  &lt;caption&gt;Employee Day-of-Week Report&lt;/caption&gt;\r\n  &lt;tr&gt;\r\n    &lt;td&gt;Carol&lt;/td&gt;\r\n    &lt;td&gt;Tuesday&lt;/td&gt;\r\n  &lt;/tr&gt;\r\n  &lt;tr&gt;\r\n    &lt;td&gt;Bob&lt;/td&gt;\r\n    &lt;td&gt;Monday&lt;/td&gt;\r\n  &lt;/tr&gt;\r\n  &lt;tr&gt;\r\n    &lt;td&gt;Alice&lt;/td&gt;\r\n    &lt;td&gt;Wednesday&lt;/td&gt;\r\n  &lt;/tr&gt;\r\n&lt;/table&gt;\r\n\r\n&lt;footer&gt;Report generated 2022-03-20T06:32:00Z&lt;/footer&gt;\r\n&lt;/body&gt;&lt;/html&gt;\r\n```\r\n\r\n\r\n----------\r\n\r\nOops, looks like I forgot to put an initial line:\r\n\r\n```html\r\n&lt;!DOCTYPE HTML&gt;\r\n```\r\n\r\n… at the top of this generated HTML page. This tag is required in [HTML5][19]. Its presence may signal a web browser to use standards mode rather than [“quirks” mode][20].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/jdk.httpserver/com/sun/net/httpserver/HttpServer.html\r\n  [2]: https://en.wikipedia.org/wiki/Java_version_history#Java_18\r\n  [3]: https://en.wikipedia.org/wiki/Apache_Tomcat\r\n  [4]: https://en.wikipedia.org/wiki/Jetty_(web_server)\r\n  [5]: https://en.wikipedia.org/wiki/Jakarta_Servlet\r\n  [6]: https://en.wikipedia.org/wiki/Jakarta_Server_Pages\r\n  [7]: https://jakarta.ee/specifications/\r\n  [8]: https://en.wikipedia.org/wiki/Jakarta_EE\r\n  [9]: https://jakarta.ee/compatibility/\r\n  [10]: https://en.wikipedia.org/wiki/Web_container\r\n  [11]: https://jakarta.ee/specifications/servlet/\r\n  [12]: https://jakarta.ee/specifications/servlet/5.0/jakarta-servlet-spec-5.0.html#servlet-context\r\n  [13]: https://jakarta.ee/specifications/servlet/5.0/apidocs/jakarta/servlet/servletcontextlistener\r\n  [14]: https://jakarta.ee/specifications/servlet/5.0/apidocs/jakarta/servlet/servletcontextlistener#contextInitialized(jakarta.servlet.ServletContextEvent)\r\n  [15]: https://jakarta.ee/specifications/servlet/5.0/apidocs/jakarta/servlet/servletcontextlistener#contextDestroyed(jakarta.servlet.ServletContextEvent)\r\n  [16]: https://jakarta.ee/specifications/servlet/5.0/apidocs/jakarta/servlet/annotation/weblistener\r\n  [17]: https://en.wikipedia.org/wiki/Generics_in_Java\r\n  [18]: https://i.stack.imgur.com/4zCIO.jpg\r\n  [19]: https://en.wikipedia.org/wiki/HTML5\r\n  [20]: https://en.wikipedia.org/wiki/Quirks_mode","title":"Can i deploy my mini search engine with java Httpserver?","body":"<p>Firstly, be aware that <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/jdk.httpserver/com/sun/net/httpserver/HttpServer.html\" rel=\"nofollow noreferrer\"><code>com.sun.net.httpserver.HttpServer</code></a> has been reworked to be the new <em>Simple Web Server</em> bundled in <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_18\" rel=\"nofollow noreferrer\">Java 18</a>. See <a href=\"https://openjdk.java.net/jeps/408\" rel=\"nofollow noreferrer\"><em>JEP 408: Simple Web Server</em></a>.</p>\n<p>Neither of these web servers were meant for production use. They are for convenient use by students learning programming, for quick and easy experimentation, and perhaps for deployment in a small in-house non-mission-critical app.</p>\n<p>In the Java ecosystem, you have a wealth of choices in robust enterprise-quality web servers for production use.</p>\n<ul>\n<li>The first two obvious choices are <a href=\"https://en.wikipedia.org/wiki/Apache_Tomcat\" rel=\"nofollow noreferrer\">Apache Tomcat</a> and <a href=\"https://en.wikipedia.org/wiki/Jetty_(web_server)\" rel=\"nofollow noreferrer\">Eclipse Jetty</a>, basically equivalent products aimed at web serving both static pages and dynamic content via <a href=\"https://en.wikipedia.org/wiki/Jakarta_Servlet\" rel=\"nofollow noreferrer\">Jakarta Servlet</a> &amp; <a href=\"https://en.wikipedia.org/wiki/Jakarta_Server_Pages\" rel=\"nofollow noreferrer\">Jakarta Server Pages (JSP)</a> technology. (Formerly known as <em>Java Servlet</em> &amp; <em>JavaServer Pages</em>.)</li>\n<li>Several more products add to to that functionality any of the <a href=\"https://jakarta.ee/specifications/\" rel=\"nofollow noreferrer\">dozens of enterprise-oriented features</a> specified by the <a href=\"https://en.wikipedia.org/wiki/Jakarta_EE\" rel=\"nofollow noreferrer\">Jakarta EE</a>. Products include Eclipse Glassfish, Payara, Apache TomEE, Red Hat WildFly &amp; JBoss, IBM OpenLiberty &amp; WebSphere, and <a href=\"https://jakarta.ee/compatibility/\" rel=\"nofollow noreferrer\">more</a>.</li>\n</ul>\n<p>You said:</p>\n<blockquote>\n<p>3)- is there another server tool that can make me program this easier ?</p>\n</blockquote>\n<p>I suggest you rejigger your app to be a Jakarta Servlet or a JSP, for deployment on one of the <a href=\"https://en.wikipedia.org/wiki/Web_container\" rel=\"nofollow noreferrer\">web container</a> products listed above.</p>\n<p>You said:</p>\n<blockquote>\n<p>since my Java program have to load 4 HashMaps to calculate results ( map for PageRank of pages , map of TF , IDF) that takes 2 minutes to load , and after that a search is done in only 5 seconds , so i need to loads the 4 Maps only once ( before ?) when the server starts</p>\n</blockquote>\n<p>The <a href=\"https://jakarta.ee/specifications/servlet/\" rel=\"nofollow noreferrer\"><em>Jakarta Servlet</em> specification</a> provides a hook for you to run code when your web app first spins up. (But be aware that the spec leaves it to the implementation to decide to run the hook ahead of time or only after receiving the first client request.)</p>\n<p>Your Servlet-based web app is <a href=\"https://jakarta.ee/specifications/servlet/5.0/jakarta-servlet-spec-5.0.html#servlet-context\" rel=\"nofollow noreferrer\">known in the spec</a> as a &quot;Servlet Context&quot;. To use that hook when your web app first starts and finally ends, write a little class that implements <a href=\"https://jakarta.ee/specifications/servlet/5.0/apidocs/jakarta/servlet/servletcontextlistener\" rel=\"nofollow noreferrer\"><code>ServletContextListener</code></a>. Write your initialization code in the <a href=\"https://jakarta.ee/specifications/servlet/5.0/apidocs/jakarta/servlet/servletcontextlistener#contextInitialized(jakarta.servlet.ServletContextEvent)\" rel=\"nofollow noreferrer\"><code>contextInitialized</code></a> method, and write your clean up code in the <a href=\"https://jakarta.ee/specifications/servlet/5.0/apidocs/jakarta/servlet/servletcontextlistener#contextDestroyed(jakarta.servlet.ServletContextEvent)\" rel=\"nofollow noreferrer\"><code>contextDestroyed</code></a> method.</p>\n<p>In that <code>contextInitialized</code> method is the place to build your cache of <code>HashMap</code> data for later use when your Servlet runs every time in response to a client request.</p>\n<p>The <a href=\"https://jakarta.ee/specifications/servlet/5.0/apidocs/jakarta/servlet/annotation/weblistener\" rel=\"nofollow noreferrer\"><code>@WebListener</code></a> annotation flags this class as being special. The servlet container will automatically notice, load, and execute your <code>contextInitialized</code> &amp; <code>contextDestroyed</code> methods at the appropriate times. This annotation is an alternative to editing configuration files.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.hello;\n\nimport jakarta.servlet.ServletContextEvent;\nimport jakarta.servlet.ServletContextListener;\nimport jakarta.servlet.annotation.WebListener;\n\n@WebListener\npublic class MyServletContextListener implements ServletContextListener\n{\n    @Override\n    public void contextInitialized ( ServletContextEvent servletContextEvent )\n    {\n        // Build your HashMap data cache here.\n    }\n\n    @Override\n    public void contextDestroyed ( ServletContextEvent servletContextEvent )\n    {\n        // Do your shutdown and clean-up work here.\n    }\n}\n</code></pre>\n<p>I have written on this several times here on Stack Overflow, as have many others. Search to learn more.</p>\n<p>Here is an example where we create a <code>Map</code> in the context listener.</p>\n<p>We store the map as an attribute in the context object. Context attributes are like a map in that they are a key-value pairing. But the key must be a <code>String</code>, and the value is stored as an <code>Object</code> object — no <a href=\"https://en.wikipedia.org/wiki/Generics_in_Java\" rel=\"nofollow noreferrer\">Java Generics</a>, so we must cast after retrieval as seen further below in the example servlet code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.report;\n\nimport jakarta.servlet.ServletContextEvent;\nimport jakarta.servlet.ServletContextListener;\nimport jakarta.servlet.annotation.WebListener;\n\nimport java.time.DayOfWeek;\nimport java.util.Map;\n\n@WebListener\npublic class MyServletContextListener implements ServletContextListener\n{\n    @Override\n    public void contextInitialized ( ServletContextEvent servletContextEvent )\n    {\n        // Build your HashMap data cache here.\n        System.out.println( &quot;INFO - contextInitialized&quot; );\n        Map &lt; String, DayOfWeek &gt; employeeWorkDayAssigned =\n                Map.of(\n                        &quot;Alice&quot; , DayOfWeek.WEDNESDAY ,\n                        &quot;Bob&quot; , DayOfWeek.MONDAY ,\n                        &quot;Carol&quot; , DayOfWeek.TUESDAY\n                );\n        servletContextEvent.getServletContext().setAttribute( &quot;work.basil.example.employeeWorkDayAssigned&quot; , employeeWorkDayAssigned );\n    }\n\n    @Override\n    public void contextDestroyed ( ServletContextEvent servletContextEvent )\n    {\n        // Do your shutdown and clean-up work here.\n    }\n}\n</code></pre>\n<p>And a servlet which uses that <code>Map</code> to write a table to a HTML page.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.report;\n\nimport jakarta.servlet.annotation.WebServlet;\nimport jakarta.servlet.http.HttpServlet;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\n\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.time.DayOfWeek;\nimport java.time.Instant;\nimport java.time.format.TextStyle;\nimport java.time.temporal.ChronoUnit;\nimport java.util.Locale;\nimport java.util.Map;\n\n@WebServlet ( name = &quot;report&quot;, value = &quot;/&quot; )\npublic class ReportServlet extends HttpServlet\n{\n    private String message;\n\n    public void init ( )\n    {\n        message = &quot;Report&quot;;\n    }\n\n    public void doGet ( HttpServletRequest request , HttpServletResponse response ) throws IOException\n    {\n        response.setContentType( &quot;text/html&quot; );\n\n        // Hello\n        PrintWriter out = response.getWriter();\n        out.println( &quot;&lt;html lang='en'&gt;&quot; );\n        out.println( &quot;&lt;head&gt;&quot; );\n        out.println( &quot;&lt;meta charset='UTF-8'&gt;&quot; );\n        String css =\n                &quot;&quot;&quot;\n                                \n                table, th, td , caption {\n                    border: 0.5px solid DarkSlateGrey ;\n                }\n                table {\n                    width: 90% ;\n                    border-collapse: collapse ;\n                    margin-left: auto;\n                    margin-right: auto;\n                }\n                caption {\n                    color: white ; \n                    background-color: DarkSlateGrey ;\n                }\n                footer {\n                    margin-top: 1em ;\n                    width: 100% ;\n                    text-align: center ;\n                    color:  DimGrey ;\n                }\n                &quot;&quot;&quot;;\n        out.println( &quot;&lt;style&gt;%s&lt;/style&gt;&quot;.formatted( css ) );\n        out.println( &quot;&lt;body&gt;&quot; );\n        out.println( &quot;&lt;h1&gt;&quot; + message + &quot;&lt;/h1&gt;&quot; );\n\n        // Generate report from map data.\n        StringBuilder table = new StringBuilder();\n        String tableHeader =\n                &quot;&quot;&quot;\n                &lt;table&gt;\n                  &lt;caption&gt;Employee Day-of-Week Report&lt;/caption&gt;\n                &quot;&quot;&quot;;\n        table.append( tableHeader );\n        Object attribute = this.getServletContext().getAttribute( &quot;work.basil.example.employeeWorkDayAssigned&quot; );\n        Map &lt; String, DayOfWeek &gt; map = ( Map &lt; String, DayOfWeek &gt; ) attribute; // Cast back to original type.\n        for ( Map.Entry &lt; String, DayOfWeek &gt; entry : map.entrySet() )\n        {\n            String row =\n                    &quot;&quot;&quot;\n                      &lt;tr&gt;\n                        &lt;td&gt;%s&lt;/td&gt;\n                        &lt;td&gt;%s&lt;/td&gt;\n                      &lt;/tr&gt;\n                    &quot;&quot;&quot;\n                            .formatted(\n                                    entry.getKey() ,\n                                    entry.getValue().getDisplayName( TextStyle.FULL_STANDALONE , Locale.US )\n                            );\n            table.append( row );\n        }\n        table.append( &quot;&lt;/table&gt;&quot; + &quot;\\n&quot; );\n\n        out.println( table.toString() );\n        out.println( &quot;&lt;footer&gt;Report generated %s&lt;/footer&gt;&quot;.formatted( Instant.now().truncatedTo( ChronoUnit.MINUTES ).toString() ) );\n        out.println( &quot;&lt;/body&gt;&lt;/html&gt;&quot; );\n    }\n\n    public void destroy ( )\n    {\n        // No code needed here.\n    }\n}\n</code></pre>\n<p>Resulting page.</p>\n<p><a href=\"https://i.stack.imgur.com/4zCIO.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4zCIO.jpg\" alt=\"screenshot of generate HTML page rendered in web browser\" /></a></p>\n<p>The HTML behind that page.</p>\n<pre class=\"lang-html prettyprint-override\"><code>\n&lt;html lang='en'&gt;\n&lt;head&gt;\n&lt;meta charset='UTF-8'&gt;\n&lt;style&gt;\ntable, th, td , caption {\n    border: 0.5px solid DarkSlateGrey ;\n}\ntable {\n    width: 90% ;\n    border-collapse: collapse ;\n    margin-left: auto;\n    margin-right: auto;\n}\ncaption {\n    color: white ;\n    background-color: DarkSlateGrey ;\n}\nfooter {\n    margin-top: 1em ;\n    width: 100% ;\n    text-align: center ;\n    color:  DimGrey ;\n}\n&lt;/style&gt;\n&lt;body&gt;\n&lt;h1&gt;Report&lt;/h1&gt;\n&lt;table&gt;\n  &lt;caption&gt;Employee Day-of-Week Report&lt;/caption&gt;\n  &lt;tr&gt;\n    &lt;td&gt;Carol&lt;/td&gt;\n    &lt;td&gt;Tuesday&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td&gt;Bob&lt;/td&gt;\n    &lt;td&gt;Monday&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td&gt;Alice&lt;/td&gt;\n    &lt;td&gt;Wednesday&lt;/td&gt;\n  &lt;/tr&gt;\n&lt;/table&gt;\n\n&lt;footer&gt;Report generated 2022-03-20T06:32:00Z&lt;/footer&gt;\n&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n<hr />\n<p>Oops, looks like I forgot to put an initial line:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE HTML&gt;\n</code></pre>\n<p>… at the top of this generated HTML page. This tag is required in <a href=\"https://en.wikipedia.org/wiki/HTML5\" rel=\"nofollow noreferrer\">HTML5</a>. Its presence may signal a web browser to use standards mode rather than <a href=\"https://en.wikipedia.org/wiki/Quirks_mode\" rel=\"nofollow noreferrer\">“quirks” mode</a>.</p>\n"}],"owner":{"account_id":17843686,"reputation":11,"user_id":18516639,"display_name":"Ray17K"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1647759475,"creation_date":1647745223,"question_id":71543713,"body_markdown":"I have completed all steps of my mini search engine on wikipedia pages in Java, except the last step which is &quot;deployment&quot; on a server and i&#39;m stuck there cause iam not used to web development , so it&#39;s an Html page with a form having an input which is the query to search and a submit button to click on to display the result as html links :\r\n\r\nFor example my java program returns the result : Football ,\r\nso my server should return when i click on the search button of the form a link to Football wikipedia page : &lt;a href=&quot;https://fr.wikipedia.org/wiki/Football&quot;&gt;Football&lt;/a&gt;\r\n\r\ni have created a server with java httpserver (i don&#39;t know if it&#39;s a good choice since iam not a web devloper) that send a html page with the search form and that work , here is the code :\r\n\r\n  \r\n\r\n      public class server{\r\n    \r\n    \t public static class myHttpHandler implements HttpHandler {\r\n    \t\t \r\n    \t \r\n    \t public void handle(HttpExchange exchange) throws IOException {\r\n    \t\t \r\n    \t\t Headers header = exchange.getResponseHeaders();\r\n    \t        header.add(&quot;Content-Type&quot;, &quot;text/html&quot;);\r\n    \t        sendIndexFile(exchange);\r\n    \t        \r\n    \t\t \r\n    \t\t\r\n    \r\n    \t\t \r\n    \t    }}\r\n    \r\n    \t \r\n    \t static private void sendIndexFile(HttpExchange httpExchange) throws IOException\r\n    \t {\r\n    \t     File indexFile = new File(&quot;/SearchEngine/Welcome.html&quot;);\r\n    \t     byte [] indexFileByteArray = new byte[(int)indexFile.length()];\r\n    \r\n    \t     BufferedInputStream requestStream = new BufferedInputStream(new FileInputStream(indexFile));\r\n    \t     requestStream.read(indexFileByteArray, 0, indexFileByteArray.length);\r\n    \r\n    \t     httpExchange.sendResponseHeaders(200, indexFile.length());\r\n    \t     OutputStream responseStream = httpExchange.getResponseBody();\r\n    \t     responseStream.write(indexFileByteArray, 0, indexFileByteArray.length);\r\n    \t     responseStream.close();\r\n    \t }\r\n    \r\n    \t private static String getStringFromInputStream(java.io.InputStream inputStream) {\r\n    \r\n    \t\t    BufferedReader br = null;\r\n    \t\t    StringBuilder sb = new StringBuilder();\r\n    \t\t    String line;\r\n    \t\t    try {\r\n    \r\n    \t\t        br = new BufferedReader(new InputStreamReader(inputStream));\r\n    \t\t        while ((line = br.readLine()) != null) {\r\n    \t\t            sb.append(line);\r\n    \t\t        }\r\n    \t\t    } catch (IOException e) {\r\n    \t\t        e.printStackTrace();\r\n    \t\t    } finally {\r\n    \t\t        if (br != null) {\r\n    \t\t            try {\r\n    \t\t                br.close();\r\n    \t\t            } catch (IOException e) {\r\n    \t\t                e.printStackTrace();\r\n    \t\t            }\r\n    \t\t        }\r\n    \t\t    }\r\n    \t\t    return sb.toString();\r\n    \t\t}\r\n    \t \r\n    \t \r\n    \r\n    public static void main(String[] args) throws IOException {\r\n    \t \r\n          HttpServer myserver = HttpServer.create(new InetSocketAddress(8700), 0);\r\n          myserver.createContext(&quot;/&quot;, new myHttpHandler());\r\n          myserver.start();\r\n    }}\r\n\r\n and im stuck here due to multiple problems :\r\n\r\n 1)- How to get the text entered in the input search form to pass it to my Java program ?\r\n\r\n 2)- How to structurate my other handlers to get results efficiently ? since my Java program have to load 4 HashMaps to calculate results ( map for PageRank of pages , map of TF , IDF) that takes 2 minutes to load , and after that a search is done in only 5 seconds , so i need to loads the 4 Maps only once ( before ?) when the server starts and after that each search will takes me 5 seconds .\r\n\r\n3)- is there another server tool that can make me program this easier ?\r\n  \r\n\r\nHere is the code of my program that display results ( page titles ) in command line :\r\n\r\n \r\n\r\n    Score s = new Score();\r\n    \t        HashMap&lt;String[], Double&gt; map = new HashMap&lt;String[], Double&gt;();\r\n    \t\t\tmap = s.HashMapFromTextFileTF();\r\n    \t\t\tHashMap&lt;String, Double&gt; map2 = new HashMap&lt;String, Double&gt;();\r\n    \t\t\tmap2 = s.HashMapFromTextFileIDF();\r\n    \t\t\tHashMap&lt;Integer, Double&gt; mapPageRank = new HashMap&lt;Integer, Double&gt;();\r\n    \t\t\tmapPageRank = HashMapFromTextFilePageRank();\r\n\r\n   \r\n\r\n     // Up to here it takes 2 minutes to load\r\n    // From here it takes 5 to 10 seconds\r\n    ArrayList&lt;String&gt; req = new ArrayList&lt;&gt;(); // This is the query list of words\r\n    \t\t\tint a = 1 ;\r\n    \t\t\tString mot = &quot;&quot;;\r\n    \t\t\tScanner scan = new Scanner(System.in);  \r\n    \t\t\twhile(a == 1) {\r\n    \t\t\t\tSystem.out.println(&quot;Enter a query word :&quot;);\r\n    \t\t\t\tmot = scan.next();  \r\n    \t\t\t\treq.add(mot);\r\n    \t\t\t\tSystem.out.println(&quot;Another word ?&quot;);\r\n    \t\t\t\ta = scan.nextInt();\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t        \r\n    \t        Map&lt;String, List&lt;Integer&gt;&gt; ar = fileToMap(&quot;page_word_relation.txt&quot;,req);\r\n                ArrayList&lt;Integer&gt; sharedPages =  intersectionWords(req, ar);\r\n                \r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\tHashMap&lt;Integer, Double&gt; mapScores = new HashMap&lt;Integer, Double&gt;();\r\n    \t\t\tmapScores = scoreFinal(mapPageRank,s.PageScore(sharedPages,req,map,map2));\r\n    \t\t\t\r\n    \t\t\tHashMap&lt;Integer,String&gt; myIndexMap = new HashMap&lt;Integer,String&gt;();\r\n    \t\t\tmyIndexMap = HashMapFromTextFilePageId();\r\n    \t\t\t\r\n    \t\t    \r\n    \t\t    \r\n    \t\t    List&lt;Integer&gt; idResultat = new ArrayList&lt;Integer&gt;(); \r\n    \t\t    System.out.println(&quot;Results of search :&quot;);\r\n    \t\t    \r\n    \t\t    HashMap&lt;Integer, Double&gt; res = sortPages(mapScores);\r\n    \t\t    int stop = 0;\r\n    \t\t    for (Map.Entry&lt;Integer,Double&gt; entry : res.entrySet()) {\r\n    \t\t        //storing the best 20 ranked pages\r\n    \t\t        idResultat.add(entry.getKey());\r\n    \t\t        stop++;\r\n    \t\t        if(stop == 20)\r\n    \t\t        \t\tbreak;\r\n    \t\t    } \r\n    \t\t    \r\n    \t\t    for(int id : idResultat) {\r\n    \t\t    \t\r\n    \t\t    \tSystem.out.println(myIndexMap.get(id)); // Here i print result page titles\r\n    \t\t    }\r\n    \t\t  \r\n    \t\t    \r\n    \t\t    \r\n    \t    \t\r\n    \t    \tSystem.out.println(&quot;completed&quot;);\r\n    \t\t\t}\r\n    \t        catch(IOException e) {\r\n    \t            System.out.println(e);\r\n    \t        }\r\n    \t        \r\n\t      \r\n\t         \r\n\r\n","title":"Can i deploy my mini search engine with java Httpserver?","body":"<p>I have completed all steps of my mini search engine on wikipedia pages in Java, except the last step which is &quot;deployment&quot; on a server and i'm stuck there cause iam not used to web development , so it's an Html page with a form having an input which is the query to search and a submit button to click on to display the result as html links :</p>\n<p>For example my java program returns the result : Football ,\nso my server should return when i click on the search button of the form a link to Football wikipedia page : <a href=\"https://fr.wikipedia.org/wiki/Football\" rel=\"nofollow noreferrer\">Football</a></p>\n<p>i have created a server with java httpserver (i don't know if it's a good choice since iam not a web devloper) that send a html page with the search form and that work , here is the code :</p>\n<pre><code>  public class server{\n\n     public static class myHttpHandler implements HttpHandler {\n         \n     \n     public void handle(HttpExchange exchange) throws IOException {\n         \n         Headers header = exchange.getResponseHeaders();\n            header.add(&quot;Content-Type&quot;, &quot;text/html&quot;);\n            sendIndexFile(exchange);\n            \n         \n        \n\n         \n        }}\n\n     \n     static private void sendIndexFile(HttpExchange httpExchange) throws IOException\n     {\n         File indexFile = new File(&quot;/SearchEngine/Welcome.html&quot;);\n         byte [] indexFileByteArray = new byte[(int)indexFile.length()];\n\n         BufferedInputStream requestStream = new BufferedInputStream(new FileInputStream(indexFile));\n         requestStream.read(indexFileByteArray, 0, indexFileByteArray.length);\n\n         httpExchange.sendResponseHeaders(200, indexFile.length());\n         OutputStream responseStream = httpExchange.getResponseBody();\n         responseStream.write(indexFileByteArray, 0, indexFileByteArray.length);\n         responseStream.close();\n     }\n\n     private static String getStringFromInputStream(java.io.InputStream inputStream) {\n\n            BufferedReader br = null;\n            StringBuilder sb = new StringBuilder();\n            String line;\n            try {\n\n                br = new BufferedReader(new InputStreamReader(inputStream));\n                while ((line = br.readLine()) != null) {\n                    sb.append(line);\n                }\n            } catch (IOException e) {\n                e.printStackTrace();\n            } finally {\n                if (br != null) {\n                    try {\n                        br.close();\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }\n            return sb.toString();\n        }\n     \n     \n\npublic static void main(String[] args) throws IOException {\n     \n      HttpServer myserver = HttpServer.create(new InetSocketAddress(8700), 0);\n      myserver.createContext(&quot;/&quot;, new myHttpHandler());\n      myserver.start();\n}}\n</code></pre>\n<p>and im stuck here due to multiple problems :</p>\n<p>1)- How to get the text entered in the input search form to pass it to my Java program ?</p>\n<p>2)- How to structurate my other handlers to get results efficiently ? since my Java program have to load 4 HashMaps to calculate results ( map for PageRank of pages , map of TF , IDF) that takes 2 minutes to load , and after that a search is done in only 5 seconds , so i need to loads the 4 Maps only once ( before ?) when the server starts and after that each search will takes me 5 seconds .</p>\n<p>3)- is there another server tool that can make me program this easier ?</p>\n<p>Here is the code of my program that display results ( page titles ) in command line :</p>\n<pre><code>Score s = new Score();\n            HashMap&lt;String[], Double&gt; map = new HashMap&lt;String[], Double&gt;();\n            map = s.HashMapFromTextFileTF();\n            HashMap&lt;String, Double&gt; map2 = new HashMap&lt;String, Double&gt;();\n            map2 = s.HashMapFromTextFileIDF();\n            HashMap&lt;Integer, Double&gt; mapPageRank = new HashMap&lt;Integer, Double&gt;();\n            mapPageRank = HashMapFromTextFilePageRank();\n\n\n\n // Up to here it takes 2 minutes to load\n// From here it takes 5 to 10 seconds\nArrayList&lt;String&gt; req = new ArrayList&lt;&gt;(); // This is the query list of words\n            int a = 1 ;\n            String mot = &quot;&quot;;\n            Scanner scan = new Scanner(System.in);  \n            while(a == 1) {\n                System.out.println(&quot;Enter a query word :&quot;);\n                mot = scan.next();  \n                req.add(mot);\n                System.out.println(&quot;Another word ?&quot;);\n                a = scan.nextInt();\n                \n            }\n            \n            \n            Map&lt;String, List&lt;Integer&gt;&gt; ar = fileToMap(&quot;page_word_relation.txt&quot;,req);\n            ArrayList&lt;Integer&gt; sharedPages =  intersectionWords(req, ar);\n            \n            \n            \n            HashMap&lt;Integer, Double&gt; mapScores = new HashMap&lt;Integer, Double&gt;();\n            mapScores = scoreFinal(mapPageRank,s.PageScore(sharedPages,req,map,map2));\n            \n            HashMap&lt;Integer,String&gt; myIndexMap = new HashMap&lt;Integer,String&gt;();\n            myIndexMap = HashMapFromTextFilePageId();\n            \n            \n            \n            List&lt;Integer&gt; idResultat = new ArrayList&lt;Integer&gt;(); \n            System.out.println(&quot;Results of search :&quot;);\n            \n            HashMap&lt;Integer, Double&gt; res = sortPages(mapScores);\n            int stop = 0;\n            for (Map.Entry&lt;Integer,Double&gt; entry : res.entrySet()) {\n                //storing the best 20 ranked pages\n                idResultat.add(entry.getKey());\n                stop++;\n                if(stop == 20)\n                        break;\n            } \n            \n            for(int id : idResultat) {\n                \n                System.out.println(myIndexMap.get(id)); // Here i print result page titles\n            }\n          \n            \n            \n            \n            System.out.println(&quot;completed&quot;);\n            }\n            catch(IOException e) {\n                System.out.println(e);\n            }\n            \n      \n         \n</code></pre>\n"},{"tags":["java","maven","apache-spark","hadoop","pyspark"],"owner":{"account_id":13076712,"reputation":21,"user_id":9448569,"display_name":"P B"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1073,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647759345,"creation_date":1647739654,"question_id":71543366,"body_markdown":"I am trying to get Apache Spark 3.2.1 up and running, per https://spark.apache.org/docs/latest/building-spark.html\r\n\r\nHowever, I can&#39;t pass the test &#39;Spark Project Launcher&#39; from Maven&#39;s ./build/mvn test suite. I am invoking the tests from $SPARK_HOME (/opt/spark). It is failing the &#39;PySpark&#39; launcher.\r\n\r\nPlease find details below:\r\n\r\n1. It is for a (highly powered) single server running in standalone mode. OS is Ubuntu 20.04, running on a Docker container. I am SSH into the container when running it.\r\n\r\n2. I have installed the pre-requisites:\r\n-Maven 3.6.3\r\n-Java 8 installed via apt-get install openjdk-8-jdk -y\r\n-originally did not install Scala 2.12/2.13, as documentation states it&#39;s including in the Maven build, however I then did do so (2.12.15) and same issue below. \r\n - I also pre-installed Hadoop 3.3.1, so that I can use HDFS commands in terminal.\r\n- Python 3.7.12\r\n\r\n3. The build command I run is :\r\n./build/mvn -Dhadoop.version=${HADOOP_VERSION} -Phive -Phive-thriftserver -Psparkr -DskipTests clean package -e\r\n\r\nas I would like to have PySpark and Spark SQL running (&#39;building spark&#39; docs recommand including -phive to ensure this) \r\n\r\n4. My env looks like:\r\n\r\n\r\nNote: these Yarn variables are populated but it should be running standalone. \r\n\r\n```\r\nJAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64\r\nHDFS_DATANODE_USER=root\r\nLANG=C.UTF-8\r\nHADOOP_MAPRED_HOME=/opt/hadoop\r\nYARN_HOME=/opt/hadoop\r\nYARN_NODEMANAGER_USER=root\r\nYARN_RESOURCEMANAGER_USER=root\r\nHADOOP_COMMON_HOME=/opt/hadoop\r\nHDFS_SECONDARYNAMENODE_USER=root\r\nPYSPARK_PYTHON=/usr/bin/python3\r\nHADOOP_HDFS_HOME=/opt/hadoop\r\nHADOOP_CONF_DIR=/opt/hadoop/etc/hadoop\r\nHADOOP_HOME=/opt/hadoop\r\nPYTHONUTF8=1\r\nSPARK_CONF_DIR=/opt/spark/conf\r\nSPARK_HOME=/opt/spark\r\nJAVA_VERSION=1.8.0_312\r\nPATH=/usr/lib/jvm/java-8-openjdk-amd64/bin:/opt/spark/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin\r\nMAVEN_OPTS=-Xss64m -Xmx2g -XX:ReservedCodeCacheSize=1g\r\n```\r\n\r\n6. SPARK CONFIG:\r\nspark-env.sh override contains:\r\n```\r\nexport HADOOP_CONF_DIR=/opt/hadoop/etc/hadoop\r\nexport SPARK_EXECUTOR_CORES=1\r\nexport SPARK_EXECUTOR_MEMORY=1G\r\nexport SPARK_DRIVER_MEMORY=1G\r\nexport SPARK_WORKER_MEMORY=2G\r\nexport SPARK_DAEMON_MEMORY=1G\r\n```\r\n*Note: I will edit these memory amounts later, once the tests are working first.*\r\n\r\n7. HADOOP CONFIG:\r\n```\r\ncore-site.xml properties include:\r\n&lt;configuration&gt;\r\n  &lt;property&gt;\r\n    &lt;name&gt;fs.default.name&lt;/name&gt;\r\n    &lt;value&gt;( This is filled in with the server details) &lt;/value&gt;\r\n  &lt;/property&gt;\r\n\r\n  &lt;property&gt;\r\n    &lt;name&gt;hadoop.proxyuser.httpfs.hosts&lt;/name&gt;\r\n    &lt;value&gt;*&lt;/value&gt;\r\n  &lt;/property&gt;\r\n  &lt;property&gt;\r\n    &lt;name&gt;hadoop.proxyuser.httpfs.groups&lt;/name&gt;\r\n    &lt;value&gt;*&lt;/value&gt;\r\n  &lt;/property&gt;\r\n\r\n  &lt;property&gt;\r\n    &lt;name&gt;hadoop.proxyuser.hue.hosts&lt;/name&gt;\r\n    &lt;value&gt;*&lt;/value&gt;\r\n  &lt;/property&gt;\r\n  &lt;property&gt;\r\n    &lt;name&gt;hadoop.proxyuser.hue.groups&lt;/name&gt;\r\n    &lt;value&gt;*&lt;/value&gt;\r\n  &lt;/property&gt;\r\n\r\nhdfs-site.xml properties include:\r\n&lt;configuration&gt;\r\n  &lt;property&gt;\r\n    &lt;name&gt;dfs.replication&lt;/name&gt;\r\n    &lt;value&gt;1&lt;/value&gt;\r\n  &lt;/property&gt;\r\n  &lt;property&gt;\r\n    &lt;name&gt;dfs.safemode.extension&lt;/name&gt;\r\n    &lt;value&gt;0&lt;/value&gt;\r\n  &lt;/property&gt;\r\n  &lt;property&gt;\r\n     &lt;name&gt;dfs.safemode.min.datanodes&lt;/name&gt;\r\n     &lt;value&gt;1&lt;/value&gt;\r\n  &lt;/property&gt;\r\n  &lt;property&gt;\r\n     &lt;name&gt;dfs.permissions.enabled&lt;/name&gt;\r\n     &lt;value&gt;false&lt;/value&gt;\r\n  &lt;/property&gt;\r\n  &lt;property&gt;\r\n     &lt;name&gt;dfs.safemode.min.datanodes&lt;/name&gt;\r\n     &lt;value&gt;1&lt;/value&gt;\r\n  &lt;/property&gt;\r\n  &lt;property&gt;\r\n     &lt;name&gt;dfs.webhdfs.enabled&lt;/name&gt;\r\n     &lt;value&gt;true&lt;/value&gt;\r\n  &lt;/property&gt;\r\n  &lt;property&gt;\r\n    &lt;name&gt;dfs.name.dir&lt;/name&gt;\r\n    &lt;value&gt;( IS SET ) &lt;/value&gt;\r\n  &lt;/property&gt;\r\n  &lt;property&gt;\r\n    &lt;name&gt;dfs.data.dir&lt;/name&gt;\r\n    &lt;value&gt;( IS SET ) &lt;/value&gt;\r\n  &lt;/property&gt;\r\n  &lt;property&gt;\r\n    &lt;name&gt;dfs.namenode.rpc-bind-host&lt;/name&gt;\r\n    &lt;value&gt;( IS SET ) &lt;/value&gt;\r\n  &lt;/property&gt;\r\n  &lt;property&gt;\r\n    &lt;name&gt;dfs.namenode.rpc-address&lt;/name&gt;\r\n    &lt;value&gt;( IS SET ) &lt;/value&gt;\r\n  &lt;/property&gt;\r\n  &lt;property&gt;\r\n    &lt;name&gt;dfs.namenode.servicerpc-address&lt;/name&gt;\r\n    &lt;value&gt;( IS SET ) &lt;/value&gt;\r\n  &lt;/property&gt;\r\n  &lt;property&gt;\r\n    &lt;name&gt;dfs.namenode.servicerpc-bind-host&lt;/name&gt;\r\n    &lt;value&gt; ( IS SET ) &lt;/value&gt;\r\n  &lt;/property&gt;\r\n&lt;/configuration&gt;\r\n\r\n\r\n&lt;configuration&gt;\r\n  &lt;property&gt;\r\n    &lt;name&gt;mapred.job.tracker&lt;/name&gt;\r\n    &lt;value&gt;(IS SET)&lt;/value&gt;\r\n  &lt;/property&gt;\r\n  &lt;property&gt;\r\n    &lt;name&gt;mapreduce.framework.name&lt;/name&gt;\r\n    &lt;value&gt;local&lt;/value&gt;\r\n  &lt;/property&gt;\r\n  &lt;property&gt;\r\n    &lt;name&gt;mapred.system.dir&lt;/name&gt;\r\n    &lt;value&gt;(IS SET)&lt;/value&gt;\r\n  &lt;/property&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\n7. Dependencies include:\r\n```\r\n    apt-get install ssh pdsh libdigest-sha-perl openjdk-8-jdk software-properties-common dirmngr libkrb5-dev tini libc6 libpam-modules krb5-user libnss3 procps -y\r\napt-get install python3-pip -y &amp;&amp; \\\r\n    pip3 install -U pip &amp;&amp; \\\r\n    /usr/bin/python3 -m pip install --upgrade pip &amp;&amp; \\\r\n    pip install --upgrade pandas pyarrow wheel setuptools  cloudpickle requests flake8 flaky pytest krb5 requests-kerberos \r\n```\r\n\r\n 8. I am running as root user. If this is an issue, can you please advise why/ what the implications are for running tests initially, as the documentation does not elaborate.\r\n\r\n9. Spark-submit works if I run a test myself (not the test suite). E.g. the included simple sums of numbers Spark includes.\r\n\r\n 10. The error message stack trace for ./build/mvn -X test  . Failure point is SparkSubmitCommandBuilderSuite.testPySparkLauncher:154\r\n\r\n```\r\n[INFO]  T E S T S\r\n[INFO] -------------------------------------------------------\r\n[DEBUG] Determined Maven Process ID 1874165\r\n[DEBUG] Fork Channel [1] connection string &#39;pipe://1&#39; for the implementation class org.apache.maven.plugin.surefire.extensions.LegacyForkChannel\r\n[DEBUG] boot classpath:  /root/.m2/repository/org/apache/maven/surefire/surefire-booter/3.0.0-M5/surefire-booter-3.0.0-M5.jar  /root/.m2/repository/org/apache/maven/surefire/surefire-api/3.0.0-M5/surefire-api-3.0.0-M5.jar  /root/.m2/repository/org/apache/maven/surefire/surefire-logger-api/3.0.0-M5/surefire-logger-api-3.0.0-M5.jar  /root/.m2/repository/org/apache/maven/surefire/surefire-shared-utils/3.0.0-M4/surefire-shared-utils-3.0.0-M4.jar  /root/.m2/repository/org/apache/maven/surefire/surefire-extensions-spi/3.0.0-M5/surefire-extensions-spi-3.0.0-M5.jar  /opt/spark/launcher/target/scala-2.12/test-classes  /opt/spark/launcher/target/scala-2.12/classes  /root/.m2/repository/org/apache/logging/log4j/log4j-api/2.17.1/log4j-api-2.17.1.jar  /root/.m2/repository/org/apache/logging/log4j/log4j-core/2.17.1/log4j-core-2.17.1.jar  /root/.m2/repository/org/apache/logging/log4j/log4j-1.2-api/2.17.1/log4j-1.2-api-2.17.1.jar  /root/.m2/repository/org/mockito/mockito-core/4.2.0/mockito-core-4.2.0.jar  /root/.m2/repository/net/bytebuddy/byte-buddy/1.12.4/byte-buddy-1.12.4.jar  /root/.m2/repository/net/bytebuddy/byte-buddy-agent/1.12.4/byte-buddy-agent-1.12.4.jar  /root/.m2/repository/org/objenesis/objenesis/3.2/objenesis-3.2.jar  /root/.m2/repository/org/slf4j/jul-to-slf4j/1.7.32/jul-to-slf4j-1.7.32.jar  /root/.m2/repository/org/slf4j/slf4j-api/1.7.32/slf4j-api-1.7.32.jar  /root/.m2/repository/org/apache/logging/log4j/log4j-slf4j-impl/2.17.1/log4j-slf4j-impl-2.17.1.jar  /root/.m2/repository/org/apache/spark/spark-tags_2.12/3.3.0-SNAPSHOT/spark-tags_2.12-3.3.0-SNAPSHOT.jar  /root/.m2/repository/org/scala-lang/scala-library/2.12.15/scala-library-2.12.15.jar  /root/.m2/repository/org/apache/spark/spark-tags_2.12/3.3.0-SNAPSHOT/spark-tags_2.12-3.3.0-SNAPSHOT-tests.jar  /root/.m2/repository/org/apache/hadoop/hadoop-client-api/3.3.1/hadoop-client-api-3.3.1.jar  /root/.m2/repository/org/apache/hadoop/hadoop-client-runtime/3.3.1/hadoop-client-runtime-3.3.1.jar  /root/.m2/repository/org/apache/htrace/htrace-core4/4.1.0-incubating/htrace-core4-4.1.0-incubating.jar  /root/.m2/repository/commons-logging/commons-logging/1.1.3/commons-logging-1.1.3.jar  /root/.m2/repository/com/google/code/findbugs/jsr305/3.0.0/jsr305-3.0.0.jar  /root/.m2/repository/org/spark-project/spark/unused/1.0.0/unused-1.0.0.jar  /root/.m2/repository/org/scalatest/scalatest_2.12/3.3.0-SNAP3/scalatest_2.12-3.3.0-SNAP3.jar  /root/.m2/repository/org/scalatest/scalatest-core_2.12/3.3.0-SNAP3/scalatest-core_2.12-3.3.0-SNAP3.jar  /root/.m2/repository/org/scalatest/scalatest-compatible/3.3.0-SNAP3/scalatest-compatible-3.3.0-SNAP3.jar  /root/.m2/repository/org/scalactic/scalactic_2.12/3.3.0-SNAP3/scalactic_2.12-3.3.0-SNAP3.jar  /root/.m2/repository/org/scala-lang/modules/scala-xml_2.12/1.2.0/scala-xml_2.12-1.2.0.jar  /root/.m2/repository/org/scalatest/scalatest-featurespec_2.12/3.3.0-SNAP3/scalatest-featurespec_2.12-3.3.0-SNAP3.jar  /root/.m2/repository/org/scalatest/scalatest-flatspec_2.12/3.3.0-SNAP3/scalatest-flatspec_2.12-3.3.0-SNAP3.jar  /root/.m2/repository/org/scalatest/scalatest-freespec_2.12/3.3.0-SNAP3/scalatest-freespec_2.12-3.3.0-SNAP3.jar  /root/.m2/repository/org/scalatest/scalatest-funsuite_2.12/3.3.0-SNAP3/scalatest-funsuite_2.12-3.3.0-SNAP3.jar  /root/.m2/repository/org/scalatest/scalatest-funspec_2.12/3.3.0-SNAP3/scalatest-funspec_2.12-3.3.0-SNAP3.jar  /root/.m2/repository/org/scalatest/scalatest-propspec_2.12/3.3.0-SNAP3/scalatest-propspec_2.12-3.3.0-SNAP3.jar  /root/.m2/repository/org/scalatest/scalatest-refspec_2.12/3.3.0-SNAP3/scalatest-refspec_2.12-3.3.0-SNAP3.jar  /root/.m2/repository/org/scalatest/scalatest-wordspec_2.12/3.3.0-SNAP3/scalatest-wordspec_2.12-3.3.0-SNAP3.jar  /root/.m2/repository/org/scalatest/scalatest-diagrams_2.12/3.3.0-SNAP3/scalatest-diagrams_2.12-3.3.0-SNAP3.jar  /root/.m2/repository/org/scalatest/scalatest-matchers-core_2.12/3.3.0-SNAP3/scalatest-matchers-core_2.12-3.3.0-SNAP3.jar  /root/.m2/repository/org/scalatest/scalatest-shouldmatchers_2.12/3.3.0-SNAP3/scalatest-shouldmatchers_2.12-3.3.0-SNAP3.jar  /root/.m2/repository/org/scalatest/scalatest-mustmatchers_2.12/3.3.0-SNAP3/scalatest-mustmatchers_2.12-3.3.0-SNAP3.jar  /root/.m2/repository/org/scala-lang/scala-reflect/2.12.15/scala-reflect-2.12.15.jar  /root/.m2/repository/org/scalatestplus/scalacheck-1-15_2.12/3.3.0.0-SNAP3/scalacheck-1-15_2.12-3.3.0.0-SNAP3.jar  /root/.m2/repository/org/scalacheck/scalacheck_2.12/1.15.4/scalacheck_2.12-1.15.4.jar  /root/.m2/repository/org/scalatestplus/mockito-4-2_2.12/3.2.11.0/mockito-4-2_2.12-3.2.11.0.jar  /root/.m2/repository/org/scalatestplus/selenium-3-141_2.12/3.3.0.0-SNAP3/selenium-3-141_2.12-3.3.0.0-SNAP3.jar  /root/.m2/repository/org/seleniumhq/selenium/selenium-java/3.141.59/selenium-java-3.141.59.jar  /root/.m2/repository/org/seleniumhq/selenium/selenium-api/3.141.59/selenium-api-3.141.59.jar  /root/.m2/repository/org/seleniumhq/selenium/selenium-chrome-driver/3.141.59/selenium-chrome-driver-3.141.59.jar  /root/.m2/repository/org/seleniumhq/selenium/selenium-edge-driver/3.141.59/selenium-edge-driver-3.141.59.jar  /root/.m2/repository/org/seleniumhq/selenium/selenium-firefox-driver/3.141.59/selenium-firefox-driver-3.141.59.jar  /root/.m2/repository/org/seleniumhq/selenium/selenium-ie-driver/3.141.59/selenium-ie-driver-3.141.59.jar  /root/.m2/repository/org/seleniumhq/selenium/selenium-opera-driver/3.141.59/selenium-opera-driver-3.141.59.jar  /root/.m2/repository/org/seleniumhq/selenium/selenium-remote-driver/3.141.59/selenium-remote-driver-3.141.59.jar  /root/.m2/repository/org/seleniumhq/selenium/selenium-safari-driver/3.141.59/selenium-safari-driver-3.141.59.jar  /root/.m2/repository/org/seleniumhq/selenium/selenium-support/3.141.59/selenium-support-3.141.59.jar  /root/.m2/repository/org/apache/commons/commons-exec/1.3/commons-exec-1.3.jar  /root/.m2/repository/com/squareup/okhttp3/okhttp/3.11.0/okhttp-3.11.0.jar  /root/.m2/repository/com/squareup/okio/okio/1.14.0/okio-1.14.0.jar  /root/.m2/repository/org/seleniumhq/selenium/htmlunit-driver/2.50.0/htmlunit-driver-2.50.0.jar  /root/.m2/repository/net/sourceforge/htmlunit/htmlunit/2.50.0/htmlunit-2.50.0.jar  /root/.m2/repository/xalan/xalan/2.7.2/xalan-2.7.2.jar  /root/.m2/repository/xalan/serializer/2.7.2/serializer-2.7.2.jar  /root/.m2/repository/org/apache/commons/commons-lang3/3.12.0/commons-lang3-3.12.0.jar  /root/.m2/repository/org/apache/commons/commons-text/1.9/commons-text-1.9.jar  /root/.m2/repository/org/apache/httpcomponents/httpmime/4.5.13/httpmime-4.5.13.jar  /root/.m2/repository/org/apache/httpcomponents/httpclient/4.5.13/httpclient-4.5.13.jar  /root/.m2/repository/org/apache/httpcomponents/httpcore/4.4.14/httpcore-4.4.14.jar  /root/.m2/repository/commons-codec/commons-codec/1.15/commons-codec-1.15.jar  /root/.m2/repository/net/sourceforge/htmlunit/htmlunit-core-js/2.50.0/htmlunit-core-js-2.50.0.jar  /root/.m2/repository/net/sourceforge/htmlunit/neko-htmlunit/2.50.0/neko-htmlunit-2.50.0.jar  /root/.m2/repository/xerces/xercesImpl/2.12.0/xercesImpl-2.12.0.jar  /root/.m2/repository/xml-apis/xml-apis/1.4.01/xml-apis-1.4.01.jar  /root/.m2/repository/net/sourceforge/htmlunit/htmlunit-cssparser/1.7.0/htmlunit-cssparser-1.7.0.jar  /root/.m2/repository/commons-io/commons-io/2.11.0/commons-io-2.11.0.jar  /root/.m2/repository/commons-net/commons-net/3.8.0/commons-net-3.8.0.jar  /root/.m2/repository/org/brotli/dec/0.1.2/dec-0.1.2.jar  /root/.m2/repository/com/shapesecurity/salvation2/3.0.0/salvation2-3.0.0.jar  /root/.m2/repository/org/eclipse/jetty/websocket/websocket-client/9.4.40.v20210413/websocket-client-9.4.40.v20210413.jar  /root/.m2/repository/org/eclipse/jetty/jetty-client/9.4.44.v20210927/jetty-client-9.4.44.v20210927.jar  /root/.m2/repository/org/eclipse/jetty/jetty-http/9.4.44.v20210927/jetty-http-9.4.44.v20210927.jar  /root/.m2/repository/org/eclipse/jetty/jetty-util/9.4.44.v20210927/jetty-util-9.4.44.v20210927.jar  /root/.m2/repository/org/eclipse/jetty/jetty-io/9.4.40.v20210413/jetty-io-9.4.40.v20210413.jar  /root/.m2/repository/org/eclipse/jetty/websocket/websocket-common/9.4.40.v20210413/websocket-common-9.4.40.v20210413.jar  /root/.m2/repository/org/eclipse/jetty/websocket/websocket-api/9.4.40.v20210413/websocket-api-9.4.40.v20210413.jar  /root/.m2/repository/junit/junit/4.13.2/junit-4.13.2.jar  /root/.m2/repository/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar  /root/.m2/repository/com/github/sbt/junit-interface/0.13.3/junit-interface-0.13.3.jar  /root/.m2/repository/org/scala-sbt/test-interface/1.0/test-interface-1.0.jar  /root/.m2/repository/org/apache/maven/surefire/surefire-junit4/3.0.0-M5/surefire-junit4-3.0.0-M5.jar  /root/.m2/repository/org/apache/maven/surefire/common-java5/3.0.0-M5/common-java5-3.0.0-M5.jar  /root/.m2/repository/org/apache/maven/surefire/common-junit3/3.0.0-M5/common-junit3-3.0.0-M5.jar  /root/.m2/repository/org/apache/maven/surefire/common-junit4/3.0.0-M5/common-junit4-3.0.0-M5.jar\r\n[DEBUG] boot(compact) classpath:  surefire-booter-3.0.0-M5.jar  surefire-api-3.0.0-M5.jar  surefire-logger-api-3.0.0-M5.jar  surefire-shared-utils-3.0.0-M4.jar  surefire-extensions-spi-3.0.0-M5.jar  test-classes  classes  log4j-api-2.17.1.jar  log4j-core-2.17.1.jar  log4j-1.2-api-2.17.1.jar  mockito-core-4.2.0.jar  byte-buddy-1.12.4.jar  byte-buddy-agent-1.12.4.jar  objenesis-3.2.jar  jul-to-slf4j-1.7.32.jar  slf4j-api-1.7.32.jar  log4j-slf4j-impl-2.17.1.jar  spark-tags_2.12-3.3.0-SNAPSHOT.jar  scala-library-2.12.15.jar  spark-tags_2.12-3.3.0-SNAPSHOT-tests.jar  hadoop-client-api-3.3.1.jar  hadoop-client-runtime-3.3.1.jar  htrace-core4-4.1.0-incubating.jar  commons-logging-1.1.3.jar  jsr305-3.0.0.jar  unused-1.0.0.jar  scalatest_2.12-3.3.0-SNAP3.jar  scalatest-core_2.12-3.3.0-SNAP3.jar  scalatest-compatible-3.3.0-SNAP3.jar  scalactic_2.12-3.3.0-SNAP3.jar  scala-xml_2.12-1.2.0.jar  scalatest-featurespec_2.12-3.3.0-SNAP3.jar  scalatest-flatspec_2.12-3.3.0-SNAP3.jar  scalatest-freespec_2.12-3.3.0-SNAP3.jar  scalatest-funsuite_2.12-3.3.0-SNAP3.jar  scalatest-funspec_2.12-3.3.0-SNAP3.jar  scalatest-propspec_2.12-3.3.0-SNAP3.jar  scalatest-refspec_2.12-3.3.0-SNAP3.jar  scalatest-wordspec_2.12-3.3.0-SNAP3.jar  scalatest-diagrams_2.12-3.3.0-SNAP3.jar  scalatest-matchers-core_2.12-3.3.0-SNAP3.jar  scalatest-shouldmatchers_2.12-3.3.0-SNAP3.jar  scalatest-mustmatchers_2.12-3.3.0-SNAP3.jar  scala-reflect-2.12.15.jar  scalacheck-1-15_2.12-3.3.0.0-SNAP3.jar  scalacheck_2.12-1.15.4.jar  mockito-4-2_2.12-3.2.11.0.jar  selenium-3-141_2.12-3.3.0.0-SNAP3.jar  selenium-java-3.141.59.jar  selenium-api-3.141.59.jar  selenium-chrome-driver-3.141.59.jar  selenium-edge-driver-3.141.59.jar  selenium-firefox-driver-3.141.59.jar  selenium-ie-driver-3.141.59.jar  selenium-opera-driver-3.141.59.jar  selenium-remote-driver-3.141.59.jar  selenium-safari-driver-3.141.59.jar  selenium-support-3.141.59.jar  commons-exec-1.3.jar  okhttp-3.11.0.jar  okio-1.14.0.jar  htmlunit-driver-2.50.0.jar  htmlunit-2.50.0.jar  xalan-2.7.2.jar  serializer-2.7.2.jar  commons-lang3-3.12.0.jar  commons-text-1.9.jar  httpmime-4.5.13.jar  httpclient-4.5.13.jar  httpcore-4.4.14.jar  commons-codec-1.15.jar  htmlunit-core-js-2.50.0.jar  neko-htmlunit-2.50.0.jar  xercesImpl-2.12.0.jar  xml-apis-1.4.01.jar  htmlunit-cssparser-1.7.0.jar  commons-io-2.11.0.jar  commons-net-3.8.0.jar  dec-0.1.2.jar  salvation2-3.0.0.jar  websocket-client-9.4.40.v20210413.jar  jetty-client-9.4.44.v20210927.jar  jetty-http-9.4.44.v20210927.jar  jetty-util-9.4.44.v20210927.jar  jetty-io-9.4.40.v20210413.jar  websocket-common-9.4.40.v20210413.jar  websocket-api-9.4.40.v20210413.jar  junit-4.13.2.jar  hamcrest-core-1.3.jar  junit-interface-0.13.3.jar  test-interface-1.0.jar  surefire-junit4-3.0.0-M5.jar  common-java5-3.0.0-M5.jar  common-junit3-3.0.0-M5.jar  common-junit4-3.0.0-M5.jar\r\n[DEBUG] Forking command line: /bin/sh -c cd /opt/spark/launcher &amp;&amp; /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java -ea -Xmx4g -Xss4m -XX:MaxMetaspaceSize=2g -XX:ReservedCodeCacheSize=128m -XX:+IgnoreUnrecognizedVMOptions --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.net=ALL-UNNAMED --add-opens=java.base/java.nio=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED --add-opens=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/sun.nio.cs=ALL-UNNAMED --add-opens=java.base/sun.security.action=ALL-UNNAMED --add-opens=java.base/sun.util.calendar=ALL-UNNAMED -Dio.netty.tryReflectionSetAccessible=true -jar /opt/spark/launcher/target/surefire/surefirebooter724989174307651539.jar /opt/spark/launcher/target/surefire 2022-03-20T00-46-11_265-jvmRun1 surefire4692929599609625015tmp surefire_0469901132567964224tmp\r\n[DEBUG] Fork Channel [1] connected to the client.\r\n[INFO] Running org.apache.spark.launcher.InProcessLauncherSuite\r\n[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.604 s - in org.apache.spark.launcher.InProcessLauncherSuite\r\n[INFO] Running org.apache.spark.launcher.SparkSubmitCommandBuilderSuite\r\n[ERROR] Tests run: 17, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 0.045 s &lt;&lt;&lt; FAILURE! - in org.apache.spark.launcher.SparkSubmitCommandBuilderSuite\r\n[ERROR] org.apache.spark.launcher.SparkSubmitCommandBuilderSuite.testPySparkLauncher  Time elapsed: 0 s  &lt;&lt;&lt; FAILURE!\r\njava.lang.AssertionError\r\n        at org.apache.spark.launcher.SparkSubmitCommandBuilderSuite.testPySparkLauncher(SparkSubmitCommandBuilderSuite.java:154)\r\n\r\n[INFO] Running org.apache.spark.launcher.LauncherServerSuite\r\n[INFO] Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.043 s - in org.apache.spark.launcher.LauncherServerSuite\r\n[INFO] Running org.apache.spark.launcher.SparkSubmitOptionParserSuite\r\n[INFO] Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.39 s - in org.apache.spark.launcher.SparkSubmitOptionParserSuite\r\n[INFO] Running org.apache.spark.launcher.CommandBuilderUtilsSuite\r\n[INFO] Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 s - in org.apache.spark.launcher.CommandBuilderUtilsSuite\r\n[INFO] Running org.apache.spark.launcher.ChildProcAppHandleSuite\r\n[INFO] Tests run: 11, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.179 s - in org.apache.spark.launcher.ChildProcAppHandleSuite\r\n[DEBUG] Closing the fork 1 after saying GoodBye.\r\n[INFO]\r\n[INFO] Results:\r\n[INFO]\r\n[ERROR] Failures:\r\n[ERROR]   SparkSubmitCommandBuilderSuite.testPySparkLauncher:154\r\n[INFO]\r\n[ERROR] Tests run: 46, Failures: 1, Errors: 0, Skipped: 0\r\n[INFO]\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Reactor Summary for Spark Project Launcher 3.3.0-SNAPSHOT:\r\n[INFO]\r\n[INFO] Spark Project Launcher ............................. FAILURE [  7.156 s]\r\n[INFO] Spark Project Core ................................. SKIPPED\r\n[INFO] Spark Project ML Local Library ..................... SKIPPED\r\n[INFO] Spark Project GraphX ............................... SKIPPED\r\n[INFO] Spark Project Streaming ............................ SKIPPED\r\n[INFO] Spark Project Catalyst ............................. SKIPPED\r\n[INFO] Spark Project SQL .................................. SKIPPED\r\n[INFO] Spark Project ML Library ........................... SKIPPED\r\n[INFO] Spark Project Tools ................................ SKIPPED\r\n[INFO] Spark Project Hive ................................. SKIPPED\r\n[INFO] Spark Project REPL ................................. SKIPPED\r\n[INFO] Spark Project Assembly ............................. SKIPPED\r\n[INFO] Kafka 0.10+ Token Provider for Streaming ........... SKIPPED\r\n[INFO] Spark Integration for Kafka 0.10 ................... SKIPPED\r\n[INFO] Kafka 0.10+ Source for Structured Streaming ........ SKIPPED\r\n[INFO] Spark Project Examples ............................. SKIPPED\r\n[INFO] Spark Integration for Kafka 0.10 Assembly .......... SKIPPED\r\n[INFO] Spark Avro ......................................... SKIPPED\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  8.110 s\r\n[INFO] Finished at: 2022-03-20T00:46:13Z\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M5:test (default-test) on project spark-launcher_2.12: There are test failures.\r\n[ERROR]\r\n[ERROR] Please refer to /opt/spark/launcher/target/surefire-reports for the individual test results.\r\n[ERROR] Please refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.\r\n[ERROR] -&gt; [Help 1]\r\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M5:test (default-test) on project spark-launcher_2.12: There are test failures.\r\n\r\nPlease refer to /opt/spark/launcher/target/surefire-reports for the individual test results.\r\nPlease refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:498)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\nCaused by: org.apache.maven.plugin.MojoFailureException: There are test failures.\r\n\r\nPlease refer to /opt/spark/launcher/target/surefire-reports for the individual test results.\r\nPlease refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.\r\n    at org.apache.maven.plugin.surefire.SurefireHelper.throwException (SurefireHelper.java:271)\r\n    at org.apache.maven.plugin.surefire.SurefireHelper.reportExecution (SurefireHelper.java:159)\r\n    at org.apache.maven.plugin.surefire.SurefirePlugin.handleSummary (SurefirePlugin.java:453)\r\n    at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeAfterPreconditionsChecked (AbstractSurefireMojo.java:1175)\r\n    at org.apache.maven.plugin.surefire.AbstractSurefireMojo.execute (AbstractSurefireMojo.java:932)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:498)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n[ERROR]\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n```\r\n\r\n\r\nCan you please kindly confirm what the issue may be, as I suspect it&#39;s something really simple but I can&#39;t work this out, and have tried everything I can think of, the official build documentation end to end, and all Stack Overflow resources.\r\nThe &#39;sbt&#39; tests seem to run a bit better, but still include a few failures towards the end (it am pretty sure it is able to launch spark though).\r\n\r\nI have also reviewed the &#39;sure fire reports&#39; listed and can&#39;t see any issues.\r\n\r\nI am not hugely familiar with &#39;JARS&#39; and Classpaths etc. if there is are any implied setup steps of this nature I may have missed.\r\n\r\nThanks very much for your help, it is much appreciated.\r\n\r\nRegards,\r\nPB\r\n\r\nEDIT: I have since run &#39;./build/sbt test&#39;, with the following results. Therefore wondering if the above failing is an issue ?\r\n\r\n```\r\n[info] Run completed in 2 hours, 24 minutes, 2 seconds.\r\n[info] Total number of tests run: 3812\r\n[info] Suites: completed 175, aborted 0\r\n[info] Tests: succeeded 3812, failed 0, canceled 2, ignored 19, pending 0\r\n[info] All tests passed.\r\n[error] (core / Test / test) sbt.TestsFailedException: Tests unsuccessful\r\n[error] (sql / Test / test) sbt.TestsFailedException: Tests unsuccessful\r\n```\r\n\r\nNoting that at the bottom there are 2 errors listed under &#39;core&#39; and &#39;sql&#39; suites (or with the summary are they ok) Thanks?\r\n\r\n ","title":"How to resolve failed Apache Spark 3.2.1 Maven Test: SparkSubmitCommandBuilderSuite.testPySparkLauncher:154","body":"<p>I am trying to get Apache Spark 3.2.1 up and running, per <a href=\"https://spark.apache.org/docs/latest/building-spark.html\" rel=\"nofollow noreferrer\">https://spark.apache.org/docs/latest/building-spark.html</a></p>\n<p>However, I can't pass the test 'Spark Project Launcher' from Maven's ./build/mvn test suite. I am invoking the tests from $SPARK_HOME (/opt/spark). It is failing the 'PySpark' launcher.</p>\n<p>Please find details below:</p>\n<ol>\n<li><p>It is for a (highly powered) single server running in standalone mode. OS is Ubuntu 20.04, running on a Docker container. I am SSH into the container when running it.</p>\n</li>\n<li><p>I have installed the pre-requisites:\n-Maven 3.6.3\n-Java 8 installed via apt-get install openjdk-8-jdk -y\n-originally did not install Scala 2.12/2.13, as documentation states it's including in the Maven build, however I then did do so (2.12.15) and same issue below.</p>\n</li>\n</ol>\n<ul>\n<li>I also pre-installed Hadoop 3.3.1, so that I can use HDFS commands in terminal.</li>\n<li>Python 3.7.12</li>\n</ul>\n<ol start=\"3\">\n<li>The build command I run is :\n./build/mvn -Dhadoop.version=${HADOOP_VERSION} -Phive -Phive-thriftserver -Psparkr -DskipTests clean package -e</li>\n</ol>\n<p>as I would like to have PySpark and Spark SQL running ('building spark' docs recommand including -phive to ensure this)</p>\n<ol start=\"4\">\n<li>My env looks like:</li>\n</ol>\n<p>Note: these Yarn variables are populated but it should be running standalone.</p>\n<pre><code>JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64\nHDFS_DATANODE_USER=root\nLANG=C.UTF-8\nHADOOP_MAPRED_HOME=/opt/hadoop\nYARN_HOME=/opt/hadoop\nYARN_NODEMANAGER_USER=root\nYARN_RESOURCEMANAGER_USER=root\nHADOOP_COMMON_HOME=/opt/hadoop\nHDFS_SECONDARYNAMENODE_USER=root\nPYSPARK_PYTHON=/usr/bin/python3\nHADOOP_HDFS_HOME=/opt/hadoop\nHADOOP_CONF_DIR=/opt/hadoop/etc/hadoop\nHADOOP_HOME=/opt/hadoop\nPYTHONUTF8=1\nSPARK_CONF_DIR=/opt/spark/conf\nSPARK_HOME=/opt/spark\nJAVA_VERSION=1.8.0_312\nPATH=/usr/lib/jvm/java-8-openjdk-amd64/bin:/opt/spark/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin\nMAVEN_OPTS=-Xss64m -Xmx2g -XX:ReservedCodeCacheSize=1g\n</code></pre>\n<ol start=\"6\">\n<li>SPARK CONFIG:\nspark-env.sh override contains:</li>\n</ol>\n<pre><code>export HADOOP_CONF_DIR=/opt/hadoop/etc/hadoop\nexport SPARK_EXECUTOR_CORES=1\nexport SPARK_EXECUTOR_MEMORY=1G\nexport SPARK_DRIVER_MEMORY=1G\nexport SPARK_WORKER_MEMORY=2G\nexport SPARK_DAEMON_MEMORY=1G\n</code></pre>\n<p><em>Note: I will edit these memory amounts later, once the tests are working first.</em></p>\n<ol start=\"7\">\n<li>HADOOP CONFIG:</li>\n</ol>\n<pre><code>core-site.xml properties include:\n&lt;configuration&gt;\n  &lt;property&gt;\n    &lt;name&gt;fs.default.name&lt;/name&gt;\n    &lt;value&gt;( This is filled in with the server details) &lt;/value&gt;\n  &lt;/property&gt;\n\n  &lt;property&gt;\n    &lt;name&gt;hadoop.proxyuser.httpfs.hosts&lt;/name&gt;\n    &lt;value&gt;*&lt;/value&gt;\n  &lt;/property&gt;\n  &lt;property&gt;\n    &lt;name&gt;hadoop.proxyuser.httpfs.groups&lt;/name&gt;\n    &lt;value&gt;*&lt;/value&gt;\n  &lt;/property&gt;\n\n  &lt;property&gt;\n    &lt;name&gt;hadoop.proxyuser.hue.hosts&lt;/name&gt;\n    &lt;value&gt;*&lt;/value&gt;\n  &lt;/property&gt;\n  &lt;property&gt;\n    &lt;name&gt;hadoop.proxyuser.hue.groups&lt;/name&gt;\n    &lt;value&gt;*&lt;/value&gt;\n  &lt;/property&gt;\n\nhdfs-site.xml properties include:\n&lt;configuration&gt;\n  &lt;property&gt;\n    &lt;name&gt;dfs.replication&lt;/name&gt;\n    &lt;value&gt;1&lt;/value&gt;\n  &lt;/property&gt;\n  &lt;property&gt;\n    &lt;name&gt;dfs.safemode.extension&lt;/name&gt;\n    &lt;value&gt;0&lt;/value&gt;\n  &lt;/property&gt;\n  &lt;property&gt;\n     &lt;name&gt;dfs.safemode.min.datanodes&lt;/name&gt;\n     &lt;value&gt;1&lt;/value&gt;\n  &lt;/property&gt;\n  &lt;property&gt;\n     &lt;name&gt;dfs.permissions.enabled&lt;/name&gt;\n     &lt;value&gt;false&lt;/value&gt;\n  &lt;/property&gt;\n  &lt;property&gt;\n     &lt;name&gt;dfs.safemode.min.datanodes&lt;/name&gt;\n     &lt;value&gt;1&lt;/value&gt;\n  &lt;/property&gt;\n  &lt;property&gt;\n     &lt;name&gt;dfs.webhdfs.enabled&lt;/name&gt;\n     &lt;value&gt;true&lt;/value&gt;\n  &lt;/property&gt;\n  &lt;property&gt;\n    &lt;name&gt;dfs.name.dir&lt;/name&gt;\n    &lt;value&gt;( IS SET ) &lt;/value&gt;\n  &lt;/property&gt;\n  &lt;property&gt;\n    &lt;name&gt;dfs.data.dir&lt;/name&gt;\n    &lt;value&gt;( IS SET ) &lt;/value&gt;\n  &lt;/property&gt;\n  &lt;property&gt;\n    &lt;name&gt;dfs.namenode.rpc-bind-host&lt;/name&gt;\n    &lt;value&gt;( IS SET ) &lt;/value&gt;\n  &lt;/property&gt;\n  &lt;property&gt;\n    &lt;name&gt;dfs.namenode.rpc-address&lt;/name&gt;\n    &lt;value&gt;( IS SET ) &lt;/value&gt;\n  &lt;/property&gt;\n  &lt;property&gt;\n    &lt;name&gt;dfs.namenode.servicerpc-address&lt;/name&gt;\n    &lt;value&gt;( IS SET ) &lt;/value&gt;\n  &lt;/property&gt;\n  &lt;property&gt;\n    &lt;name&gt;dfs.namenode.servicerpc-bind-host&lt;/name&gt;\n    &lt;value&gt; ( IS SET ) &lt;/value&gt;\n  &lt;/property&gt;\n&lt;/configuration&gt;\n\n\n&lt;configuration&gt;\n  &lt;property&gt;\n    &lt;name&gt;mapred.job.tracker&lt;/name&gt;\n    &lt;value&gt;(IS SET)&lt;/value&gt;\n  &lt;/property&gt;\n  &lt;property&gt;\n    &lt;name&gt;mapreduce.framework.name&lt;/name&gt;\n    &lt;value&gt;local&lt;/value&gt;\n  &lt;/property&gt;\n  &lt;property&gt;\n    &lt;name&gt;mapred.system.dir&lt;/name&gt;\n    &lt;value&gt;(IS SET)&lt;/value&gt;\n  &lt;/property&gt;\n&lt;/configuration&gt;\n</code></pre>\n<ol start=\"7\">\n<li>Dependencies include:</li>\n</ol>\n<pre><code>    apt-get install ssh pdsh libdigest-sha-perl openjdk-8-jdk software-properties-common dirmngr libkrb5-dev tini libc6 libpam-modules krb5-user libnss3 procps -y\napt-get install python3-pip -y &amp;&amp; \\\n    pip3 install -U pip &amp;&amp; \\\n    /usr/bin/python3 -m pip install --upgrade pip &amp;&amp; \\\n    pip install --upgrade pandas pyarrow wheel setuptools  cloudpickle requests flake8 flaky pytest krb5 requests-kerberos \n</code></pre>\n<ol start=\"8\">\n<li><p>I am running as root user. If this is an issue, can you please advise why/ what the implications are for running tests initially, as the documentation does not elaborate.</p>\n</li>\n<li><p>Spark-submit works if I run a test myself (not the test suite). E.g. the included simple sums of numbers Spark includes.</p>\n</li>\n<li><p>The error message stack trace for ./build/mvn -X test  . Failure point is SparkSubmitCommandBuilderSuite.testPySparkLauncher:154</p>\n</li>\n</ol>\n<pre><code>[INFO]  T E S T S\n[INFO] -------------------------------------------------------\n[DEBUG] Determined Maven Process ID 1874165\n[DEBUG] Fork Channel [1] connection string 'pipe://1' for the implementation class org.apache.maven.plugin.surefire.extensions.LegacyForkChannel\n[DEBUG] boot classpath:  /root/.m2/repository/org/apache/maven/surefire/surefire-booter/3.0.0-M5/surefire-booter-3.0.0-M5.jar  /root/.m2/repository/org/apache/maven/surefire/surefire-api/3.0.0-M5/surefire-api-3.0.0-M5.jar  /root/.m2/repository/org/apache/maven/surefire/surefire-logger-api/3.0.0-M5/surefire-logger-api-3.0.0-M5.jar  /root/.m2/repository/org/apache/maven/surefire/surefire-shared-utils/3.0.0-M4/surefire-shared-utils-3.0.0-M4.jar  /root/.m2/repository/org/apache/maven/surefire/surefire-extensions-spi/3.0.0-M5/surefire-extensions-spi-3.0.0-M5.jar  /opt/spark/launcher/target/scala-2.12/test-classes  /opt/spark/launcher/target/scala-2.12/classes  /root/.m2/repository/org/apache/logging/log4j/log4j-api/2.17.1/log4j-api-2.17.1.jar  /root/.m2/repository/org/apache/logging/log4j/log4j-core/2.17.1/log4j-core-2.17.1.jar  /root/.m2/repository/org/apache/logging/log4j/log4j-1.2-api/2.17.1/log4j-1.2-api-2.17.1.jar  /root/.m2/repository/org/mockito/mockito-core/4.2.0/mockito-core-4.2.0.jar  /root/.m2/repository/net/bytebuddy/byte-buddy/1.12.4/byte-buddy-1.12.4.jar  /root/.m2/repository/net/bytebuddy/byte-buddy-agent/1.12.4/byte-buddy-agent-1.12.4.jar  /root/.m2/repository/org/objenesis/objenesis/3.2/objenesis-3.2.jar  /root/.m2/repository/org/slf4j/jul-to-slf4j/1.7.32/jul-to-slf4j-1.7.32.jar  /root/.m2/repository/org/slf4j/slf4j-api/1.7.32/slf4j-api-1.7.32.jar  /root/.m2/repository/org/apache/logging/log4j/log4j-slf4j-impl/2.17.1/log4j-slf4j-impl-2.17.1.jar  /root/.m2/repository/org/apache/spark/spark-tags_2.12/3.3.0-SNAPSHOT/spark-tags_2.12-3.3.0-SNAPSHOT.jar  /root/.m2/repository/org/scala-lang/scala-library/2.12.15/scala-library-2.12.15.jar  /root/.m2/repository/org/apache/spark/spark-tags_2.12/3.3.0-SNAPSHOT/spark-tags_2.12-3.3.0-SNAPSHOT-tests.jar  /root/.m2/repository/org/apache/hadoop/hadoop-client-api/3.3.1/hadoop-client-api-3.3.1.jar  /root/.m2/repository/org/apache/hadoop/hadoop-client-runtime/3.3.1/hadoop-client-runtime-3.3.1.jar  /root/.m2/repository/org/apache/htrace/htrace-core4/4.1.0-incubating/htrace-core4-4.1.0-incubating.jar  /root/.m2/repository/commons-logging/commons-logging/1.1.3/commons-logging-1.1.3.jar  /root/.m2/repository/com/google/code/findbugs/jsr305/3.0.0/jsr305-3.0.0.jar  /root/.m2/repository/org/spark-project/spark/unused/1.0.0/unused-1.0.0.jar  /root/.m2/repository/org/scalatest/scalatest_2.12/3.3.0-SNAP3/scalatest_2.12-3.3.0-SNAP3.jar  /root/.m2/repository/org/scalatest/scalatest-core_2.12/3.3.0-SNAP3/scalatest-core_2.12-3.3.0-SNAP3.jar  /root/.m2/repository/org/scalatest/scalatest-compatible/3.3.0-SNAP3/scalatest-compatible-3.3.0-SNAP3.jar  /root/.m2/repository/org/scalactic/scalactic_2.12/3.3.0-SNAP3/scalactic_2.12-3.3.0-SNAP3.jar  /root/.m2/repository/org/scala-lang/modules/scala-xml_2.12/1.2.0/scala-xml_2.12-1.2.0.jar  /root/.m2/repository/org/scalatest/scalatest-featurespec_2.12/3.3.0-SNAP3/scalatest-featurespec_2.12-3.3.0-SNAP3.jar  /root/.m2/repository/org/scalatest/scalatest-flatspec_2.12/3.3.0-SNAP3/scalatest-flatspec_2.12-3.3.0-SNAP3.jar  /root/.m2/repository/org/scalatest/scalatest-freespec_2.12/3.3.0-SNAP3/scalatest-freespec_2.12-3.3.0-SNAP3.jar  /root/.m2/repository/org/scalatest/scalatest-funsuite_2.12/3.3.0-SNAP3/scalatest-funsuite_2.12-3.3.0-SNAP3.jar  /root/.m2/repository/org/scalatest/scalatest-funspec_2.12/3.3.0-SNAP3/scalatest-funspec_2.12-3.3.0-SNAP3.jar  /root/.m2/repository/org/scalatest/scalatest-propspec_2.12/3.3.0-SNAP3/scalatest-propspec_2.12-3.3.0-SNAP3.jar  /root/.m2/repository/org/scalatest/scalatest-refspec_2.12/3.3.0-SNAP3/scalatest-refspec_2.12-3.3.0-SNAP3.jar  /root/.m2/repository/org/scalatest/scalatest-wordspec_2.12/3.3.0-SNAP3/scalatest-wordspec_2.12-3.3.0-SNAP3.jar  /root/.m2/repository/org/scalatest/scalatest-diagrams_2.12/3.3.0-SNAP3/scalatest-diagrams_2.12-3.3.0-SNAP3.jar  /root/.m2/repository/org/scalatest/scalatest-matchers-core_2.12/3.3.0-SNAP3/scalatest-matchers-core_2.12-3.3.0-SNAP3.jar  /root/.m2/repository/org/scalatest/scalatest-shouldmatchers_2.12/3.3.0-SNAP3/scalatest-shouldmatchers_2.12-3.3.0-SNAP3.jar  /root/.m2/repository/org/scalatest/scalatest-mustmatchers_2.12/3.3.0-SNAP3/scalatest-mustmatchers_2.12-3.3.0-SNAP3.jar  /root/.m2/repository/org/scala-lang/scala-reflect/2.12.15/scala-reflect-2.12.15.jar  /root/.m2/repository/org/scalatestplus/scalacheck-1-15_2.12/3.3.0.0-SNAP3/scalacheck-1-15_2.12-3.3.0.0-SNAP3.jar  /root/.m2/repository/org/scalacheck/scalacheck_2.12/1.15.4/scalacheck_2.12-1.15.4.jar  /root/.m2/repository/org/scalatestplus/mockito-4-2_2.12/3.2.11.0/mockito-4-2_2.12-3.2.11.0.jar  /root/.m2/repository/org/scalatestplus/selenium-3-141_2.12/3.3.0.0-SNAP3/selenium-3-141_2.12-3.3.0.0-SNAP3.jar  /root/.m2/repository/org/seleniumhq/selenium/selenium-java/3.141.59/selenium-java-3.141.59.jar  /root/.m2/repository/org/seleniumhq/selenium/selenium-api/3.141.59/selenium-api-3.141.59.jar  /root/.m2/repository/org/seleniumhq/selenium/selenium-chrome-driver/3.141.59/selenium-chrome-driver-3.141.59.jar  /root/.m2/repository/org/seleniumhq/selenium/selenium-edge-driver/3.141.59/selenium-edge-driver-3.141.59.jar  /root/.m2/repository/org/seleniumhq/selenium/selenium-firefox-driver/3.141.59/selenium-firefox-driver-3.141.59.jar  /root/.m2/repository/org/seleniumhq/selenium/selenium-ie-driver/3.141.59/selenium-ie-driver-3.141.59.jar  /root/.m2/repository/org/seleniumhq/selenium/selenium-opera-driver/3.141.59/selenium-opera-driver-3.141.59.jar  /root/.m2/repository/org/seleniumhq/selenium/selenium-remote-driver/3.141.59/selenium-remote-driver-3.141.59.jar  /root/.m2/repository/org/seleniumhq/selenium/selenium-safari-driver/3.141.59/selenium-safari-driver-3.141.59.jar  /root/.m2/repository/org/seleniumhq/selenium/selenium-support/3.141.59/selenium-support-3.141.59.jar  /root/.m2/repository/org/apache/commons/commons-exec/1.3/commons-exec-1.3.jar  /root/.m2/repository/com/squareup/okhttp3/okhttp/3.11.0/okhttp-3.11.0.jar  /root/.m2/repository/com/squareup/okio/okio/1.14.0/okio-1.14.0.jar  /root/.m2/repository/org/seleniumhq/selenium/htmlunit-driver/2.50.0/htmlunit-driver-2.50.0.jar  /root/.m2/repository/net/sourceforge/htmlunit/htmlunit/2.50.0/htmlunit-2.50.0.jar  /root/.m2/repository/xalan/xalan/2.7.2/xalan-2.7.2.jar  /root/.m2/repository/xalan/serializer/2.7.2/serializer-2.7.2.jar  /root/.m2/repository/org/apache/commons/commons-lang3/3.12.0/commons-lang3-3.12.0.jar  /root/.m2/repository/org/apache/commons/commons-text/1.9/commons-text-1.9.jar  /root/.m2/repository/org/apache/httpcomponents/httpmime/4.5.13/httpmime-4.5.13.jar  /root/.m2/repository/org/apache/httpcomponents/httpclient/4.5.13/httpclient-4.5.13.jar  /root/.m2/repository/org/apache/httpcomponents/httpcore/4.4.14/httpcore-4.4.14.jar  /root/.m2/repository/commons-codec/commons-codec/1.15/commons-codec-1.15.jar  /root/.m2/repository/net/sourceforge/htmlunit/htmlunit-core-js/2.50.0/htmlunit-core-js-2.50.0.jar  /root/.m2/repository/net/sourceforge/htmlunit/neko-htmlunit/2.50.0/neko-htmlunit-2.50.0.jar  /root/.m2/repository/xerces/xercesImpl/2.12.0/xercesImpl-2.12.0.jar  /root/.m2/repository/xml-apis/xml-apis/1.4.01/xml-apis-1.4.01.jar  /root/.m2/repository/net/sourceforge/htmlunit/htmlunit-cssparser/1.7.0/htmlunit-cssparser-1.7.0.jar  /root/.m2/repository/commons-io/commons-io/2.11.0/commons-io-2.11.0.jar  /root/.m2/repository/commons-net/commons-net/3.8.0/commons-net-3.8.0.jar  /root/.m2/repository/org/brotli/dec/0.1.2/dec-0.1.2.jar  /root/.m2/repository/com/shapesecurity/salvation2/3.0.0/salvation2-3.0.0.jar  /root/.m2/repository/org/eclipse/jetty/websocket/websocket-client/9.4.40.v20210413/websocket-client-9.4.40.v20210413.jar  /root/.m2/repository/org/eclipse/jetty/jetty-client/9.4.44.v20210927/jetty-client-9.4.44.v20210927.jar  /root/.m2/repository/org/eclipse/jetty/jetty-http/9.4.44.v20210927/jetty-http-9.4.44.v20210927.jar  /root/.m2/repository/org/eclipse/jetty/jetty-util/9.4.44.v20210927/jetty-util-9.4.44.v20210927.jar  /root/.m2/repository/org/eclipse/jetty/jetty-io/9.4.40.v20210413/jetty-io-9.4.40.v20210413.jar  /root/.m2/repository/org/eclipse/jetty/websocket/websocket-common/9.4.40.v20210413/websocket-common-9.4.40.v20210413.jar  /root/.m2/repository/org/eclipse/jetty/websocket/websocket-api/9.4.40.v20210413/websocket-api-9.4.40.v20210413.jar  /root/.m2/repository/junit/junit/4.13.2/junit-4.13.2.jar  /root/.m2/repository/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar  /root/.m2/repository/com/github/sbt/junit-interface/0.13.3/junit-interface-0.13.3.jar  /root/.m2/repository/org/scala-sbt/test-interface/1.0/test-interface-1.0.jar  /root/.m2/repository/org/apache/maven/surefire/surefire-junit4/3.0.0-M5/surefire-junit4-3.0.0-M5.jar  /root/.m2/repository/org/apache/maven/surefire/common-java5/3.0.0-M5/common-java5-3.0.0-M5.jar  /root/.m2/repository/org/apache/maven/surefire/common-junit3/3.0.0-M5/common-junit3-3.0.0-M5.jar  /root/.m2/repository/org/apache/maven/surefire/common-junit4/3.0.0-M5/common-junit4-3.0.0-M5.jar\n[DEBUG] boot(compact) classpath:  surefire-booter-3.0.0-M5.jar  surefire-api-3.0.0-M5.jar  surefire-logger-api-3.0.0-M5.jar  surefire-shared-utils-3.0.0-M4.jar  surefire-extensions-spi-3.0.0-M5.jar  test-classes  classes  log4j-api-2.17.1.jar  log4j-core-2.17.1.jar  log4j-1.2-api-2.17.1.jar  mockito-core-4.2.0.jar  byte-buddy-1.12.4.jar  byte-buddy-agent-1.12.4.jar  objenesis-3.2.jar  jul-to-slf4j-1.7.32.jar  slf4j-api-1.7.32.jar  log4j-slf4j-impl-2.17.1.jar  spark-tags_2.12-3.3.0-SNAPSHOT.jar  scala-library-2.12.15.jar  spark-tags_2.12-3.3.0-SNAPSHOT-tests.jar  hadoop-client-api-3.3.1.jar  hadoop-client-runtime-3.3.1.jar  htrace-core4-4.1.0-incubating.jar  commons-logging-1.1.3.jar  jsr305-3.0.0.jar  unused-1.0.0.jar  scalatest_2.12-3.3.0-SNAP3.jar  scalatest-core_2.12-3.3.0-SNAP3.jar  scalatest-compatible-3.3.0-SNAP3.jar  scalactic_2.12-3.3.0-SNAP3.jar  scala-xml_2.12-1.2.0.jar  scalatest-featurespec_2.12-3.3.0-SNAP3.jar  scalatest-flatspec_2.12-3.3.0-SNAP3.jar  scalatest-freespec_2.12-3.3.0-SNAP3.jar  scalatest-funsuite_2.12-3.3.0-SNAP3.jar  scalatest-funspec_2.12-3.3.0-SNAP3.jar  scalatest-propspec_2.12-3.3.0-SNAP3.jar  scalatest-refspec_2.12-3.3.0-SNAP3.jar  scalatest-wordspec_2.12-3.3.0-SNAP3.jar  scalatest-diagrams_2.12-3.3.0-SNAP3.jar  scalatest-matchers-core_2.12-3.3.0-SNAP3.jar  scalatest-shouldmatchers_2.12-3.3.0-SNAP3.jar  scalatest-mustmatchers_2.12-3.3.0-SNAP3.jar  scala-reflect-2.12.15.jar  scalacheck-1-15_2.12-3.3.0.0-SNAP3.jar  scalacheck_2.12-1.15.4.jar  mockito-4-2_2.12-3.2.11.0.jar  selenium-3-141_2.12-3.3.0.0-SNAP3.jar  selenium-java-3.141.59.jar  selenium-api-3.141.59.jar  selenium-chrome-driver-3.141.59.jar  selenium-edge-driver-3.141.59.jar  selenium-firefox-driver-3.141.59.jar  selenium-ie-driver-3.141.59.jar  selenium-opera-driver-3.141.59.jar  selenium-remote-driver-3.141.59.jar  selenium-safari-driver-3.141.59.jar  selenium-support-3.141.59.jar  commons-exec-1.3.jar  okhttp-3.11.0.jar  okio-1.14.0.jar  htmlunit-driver-2.50.0.jar  htmlunit-2.50.0.jar  xalan-2.7.2.jar  serializer-2.7.2.jar  commons-lang3-3.12.0.jar  commons-text-1.9.jar  httpmime-4.5.13.jar  httpclient-4.5.13.jar  httpcore-4.4.14.jar  commons-codec-1.15.jar  htmlunit-core-js-2.50.0.jar  neko-htmlunit-2.50.0.jar  xercesImpl-2.12.0.jar  xml-apis-1.4.01.jar  htmlunit-cssparser-1.7.0.jar  commons-io-2.11.0.jar  commons-net-3.8.0.jar  dec-0.1.2.jar  salvation2-3.0.0.jar  websocket-client-9.4.40.v20210413.jar  jetty-client-9.4.44.v20210927.jar  jetty-http-9.4.44.v20210927.jar  jetty-util-9.4.44.v20210927.jar  jetty-io-9.4.40.v20210413.jar  websocket-common-9.4.40.v20210413.jar  websocket-api-9.4.40.v20210413.jar  junit-4.13.2.jar  hamcrest-core-1.3.jar  junit-interface-0.13.3.jar  test-interface-1.0.jar  surefire-junit4-3.0.0-M5.jar  common-java5-3.0.0-M5.jar  common-junit3-3.0.0-M5.jar  common-junit4-3.0.0-M5.jar\n[DEBUG] Forking command line: /bin/sh -c cd /opt/spark/launcher &amp;&amp; /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java -ea -Xmx4g -Xss4m -XX:MaxMetaspaceSize=2g -XX:ReservedCodeCacheSize=128m -XX:+IgnoreUnrecognizedVMOptions --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.net=ALL-UNNAMED --add-opens=java.base/java.nio=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED --add-opens=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/sun.nio.cs=ALL-UNNAMED --add-opens=java.base/sun.security.action=ALL-UNNAMED --add-opens=java.base/sun.util.calendar=ALL-UNNAMED -Dio.netty.tryReflectionSetAccessible=true -jar /opt/spark/launcher/target/surefire/surefirebooter724989174307651539.jar /opt/spark/launcher/target/surefire 2022-03-20T00-46-11_265-jvmRun1 surefire4692929599609625015tmp surefire_0469901132567964224tmp\n[DEBUG] Fork Channel [1] connected to the client.\n[INFO] Running org.apache.spark.launcher.InProcessLauncherSuite\n[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.604 s - in org.apache.spark.launcher.InProcessLauncherSuite\n[INFO] Running org.apache.spark.launcher.SparkSubmitCommandBuilderSuite\n[ERROR] Tests run: 17, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 0.045 s &lt;&lt;&lt; FAILURE! - in org.apache.spark.launcher.SparkSubmitCommandBuilderSuite\n[ERROR] org.apache.spark.launcher.SparkSubmitCommandBuilderSuite.testPySparkLauncher  Time elapsed: 0 s  &lt;&lt;&lt; FAILURE!\njava.lang.AssertionError\n        at org.apache.spark.launcher.SparkSubmitCommandBuilderSuite.testPySparkLauncher(SparkSubmitCommandBuilderSuite.java:154)\n\n[INFO] Running org.apache.spark.launcher.LauncherServerSuite\n[INFO] Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.043 s - in org.apache.spark.launcher.LauncherServerSuite\n[INFO] Running org.apache.spark.launcher.SparkSubmitOptionParserSuite\n[INFO] Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.39 s - in org.apache.spark.launcher.SparkSubmitOptionParserSuite\n[INFO] Running org.apache.spark.launcher.CommandBuilderUtilsSuite\n[INFO] Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 s - in org.apache.spark.launcher.CommandBuilderUtilsSuite\n[INFO] Running org.apache.spark.launcher.ChildProcAppHandleSuite\n[INFO] Tests run: 11, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.179 s - in org.apache.spark.launcher.ChildProcAppHandleSuite\n[DEBUG] Closing the fork 1 after saying GoodBye.\n[INFO]\n[INFO] Results:\n[INFO]\n[ERROR] Failures:\n[ERROR]   SparkSubmitCommandBuilderSuite.testPySparkLauncher:154\n[INFO]\n[ERROR] Tests run: 46, Failures: 1, Errors: 0, Skipped: 0\n[INFO]\n[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Summary for Spark Project Launcher 3.3.0-SNAPSHOT:\n[INFO]\n[INFO] Spark Project Launcher ............................. FAILURE [  7.156 s]\n[INFO] Spark Project Core ................................. SKIPPED\n[INFO] Spark Project ML Local Library ..................... SKIPPED\n[INFO] Spark Project GraphX ............................... SKIPPED\n[INFO] Spark Project Streaming ............................ SKIPPED\n[INFO] Spark Project Catalyst ............................. SKIPPED\n[INFO] Spark Project SQL .................................. SKIPPED\n[INFO] Spark Project ML Library ........................... SKIPPED\n[INFO] Spark Project Tools ................................ SKIPPED\n[INFO] Spark Project Hive ................................. SKIPPED\n[INFO] Spark Project REPL ................................. SKIPPED\n[INFO] Spark Project Assembly ............................. SKIPPED\n[INFO] Kafka 0.10+ Token Provider for Streaming ........... SKIPPED\n[INFO] Spark Integration for Kafka 0.10 ................... SKIPPED\n[INFO] Kafka 0.10+ Source for Structured Streaming ........ SKIPPED\n[INFO] Spark Project Examples ............................. SKIPPED\n[INFO] Spark Integration for Kafka 0.10 Assembly .......... SKIPPED\n[INFO] Spark Avro ......................................... SKIPPED\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  8.110 s\n[INFO] Finished at: 2022-03-20T00:46:13Z\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M5:test (default-test) on project spark-launcher_2.12: There are test failures.\n[ERROR]\n[ERROR] Please refer to /opt/spark/launcher/target/surefire-reports for the individual test results.\n[ERROR] Please refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.\n[ERROR] -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M5:test (default-test) on project spark-launcher_2.12: There are test failures.\n\nPlease refer to /opt/spark/launcher/target/surefire-reports for the individual test results.\nPlease refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:498)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: org.apache.maven.plugin.MojoFailureException: There are test failures.\n\nPlease refer to /opt/spark/launcher/target/surefire-reports for the individual test results.\nPlease refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.\n    at org.apache.maven.plugin.surefire.SurefireHelper.throwException (SurefireHelper.java:271)\n    at org.apache.maven.plugin.surefire.SurefireHelper.reportExecution (SurefireHelper.java:159)\n    at org.apache.maven.plugin.surefire.SurefirePlugin.handleSummary (SurefirePlugin.java:453)\n    at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeAfterPreconditionsChecked (AbstractSurefireMojo.java:1175)\n    at org.apache.maven.plugin.surefire.AbstractSurefireMojo.execute (AbstractSurefireMojo.java:932)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:498)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n[ERROR]\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n</code></pre>\n<p>Can you please kindly confirm what the issue may be, as I suspect it's something really simple but I can't work this out, and have tried everything I can think of, the official build documentation end to end, and all Stack Overflow resources.\nThe 'sbt' tests seem to run a bit better, but still include a few failures towards the end (it am pretty sure it is able to launch spark though).</p>\n<p>I have also reviewed the 'sure fire reports' listed and can't see any issues.</p>\n<p>I am not hugely familiar with 'JARS' and Classpaths etc. if there is are any implied setup steps of this nature I may have missed.</p>\n<p>Thanks very much for your help, it is much appreciated.</p>\n<p>Regards,\nPB</p>\n<p>EDIT: I have since run './build/sbt test', with the following results. Therefore wondering if the above failing is an issue ?</p>\n<pre><code>[info] Run completed in 2 hours, 24 minutes, 2 seconds.\n[info] Total number of tests run: 3812\n[info] Suites: completed 175, aborted 0\n[info] Tests: succeeded 3812, failed 0, canceled 2, ignored 19, pending 0\n[info] All tests passed.\n[error] (core / Test / test) sbt.TestsFailedException: Tests unsuccessful\n[error] (sql / Test / test) sbt.TestsFailedException: Tests unsuccessful\n</code></pre>\n<p>Noting that at the bottom there are 2 errors listed under 'core' and 'sql' suites (or with the summary are they ok) Thanks?</p>\n"},{"tags":["java","do-while"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1647755286,"post_id":71544368,"comment_id":126448099,"body_markdown":"The loop should be around the code that accepts input. `getName()` will loop infinitely if there are special characters.","body":"The loop should be around the code that accepts input. <code>getName()</code> will loop infinitely if there are special characters."},{"owner":{"display_name":"user17545832"},"score":0,"creation_date":1647755847,"post_id":71544368,"comment_id":126448170,"body_markdown":"@shmosel even if I do that, it prints the username if it has special characters","body":"@shmosel even if I do that, it prints the username if it has special characters"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1647756083,"post_id":71544368,"comment_id":126448192,"body_markdown":"You need to look at the Javadoc which explains what the `String.contains` method does.","body":"You need to look at the Javadoc which explains what the <code>String.contains</code> method does."},{"owner":{"display_name":"user17545832"},"score":0,"creation_date":1647756423,"post_id":71544368,"comment_id":126448243,"body_markdown":"@tgdavies, I know that if the string contains those characters it returns true, otherwise false.","body":"@tgdavies, I know that if the string contains those characters it returns true, otherwise false."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1647756610,"post_id":71544368,"comment_id":126448264,"body_markdown":"You need to read and understand the Javadoc: &quot;true if and only if this string contains *the specified sequence* of char values&quot;","body":"You need to read and understand the Javadoc: &quot;true if and only if this string contains <i>the specified sequence</i> of char values&quot;"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1647756670,"post_id":71544368,"comment_id":126448276,"body_markdown":"Write yourself some little tests using `contains` to make sure that you understand what it does,","body":"Write yourself some little tests using <code>contains</code> to make sure that you understand what it does,"},{"owner":{"display_name":"user17545832"},"score":0,"creation_date":1647756685,"post_id":71544368,"comment_id":126448280,"body_markdown":"@tgdavies, just got it to work. appreciate the help","body":"@tgdavies, just got it to work. appreciate the help"},{"owner":{"display_name":"user18098820"},"score":0,"creation_date":1647768899,"post_id":71544368,"comment_id":126450041,"body_markdown":"It would seem more logical to check for special characters in set Name than it getName?","body":"It would seem more logical to check for special characters in set Name than it getName?"}],"answers":[{"tags":[],"owner":{"account_id":11224986,"reputation":2603,"user_id":8234870,"display_name":"Udesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647759180,"creation_date":1647758834,"answer_id":71544657,"question_id":71544368,"body_markdown":"use `do while` loop to verify weather the user name is valid or not.\r\n\r\nFor validating use:\r\n\r\n     public static boolean isValidName(String name){\r\n                    for(char ch : name.toCharArray())\r\n                            if(!Character.isLetterOrDigit(ch))\r\n                                    return false;\r\n                    return name.length() != 0;\r\n    \r\n            }\r\n\r\nFor getting name:\r\n\r\n     public static String inputName() {\r\n                    boolean invalidInput = false;\r\n                    Scanner scan = new Scanner(System.in);\r\n                    String name = null;\r\n    \r\n                    do {\r\n                            System.out.print(&quot;Enter Name : &quot;);\r\n                            name = scan.nextLine();\r\n                            //System.out.println(&quot;name &quot; +name);\r\n                            //System.out.print(&quot;User: &quot; + name + &quot; ID #&quot; + getUserID());\r\n                    } while(!isValidName(name));\r\n                    return name;\r\n    \r\n            }\r\nMain.java\r\n========\r\n    import java.util.Random;\r\n    import java.util.Scanner;\r\n    \r\n    class UserInterface {\r\n    \r\n            Random random = new Random();\r\n            private String name;\r\n    \r\n            public void setName(String userName) {\r\n                    this.name = userName;\r\n            }\r\n            public String getName(){\r\n                    return name;\r\n            }\r\n    \r\n            public int getUserID() {\r\n                    return random.nextInt(1000);\r\n            }\r\n    }\r\n    \r\n    \r\n    public class Main {\r\n            public static String inputName() {\r\n                    boolean invalidInput = false;\r\n                    Scanner scan = new Scanner(System.in);\r\n                    String name = null;\r\n    \r\n                    do {\r\n                            System.out.print(&quot;Enter Name : &quot;);\r\n                            name = scan.nextLine();\r\n                            //System.out.println(&quot;name &quot; +name);\r\n                            //System.out.print(&quot;User: &quot; + name + &quot; ID #&quot; + getUserID());\r\n                    } while(!isValidName(name));\r\n                    return name;\r\n    \r\n            }\r\n            public static boolean isValidName(String name){\r\n                    for(char ch : name.toCharArray())\r\n                            if(!Character.isLetterOrDigit(ch))\r\n                                    return false;\r\n                    return name.length() != 0;\r\n    \r\n            }\r\n            public static void main(String[] args) {\r\n                    Scanner input = new Scanner(System.in);\r\n                    UserInterface user = new UserInterface();\r\n                    user.setName(inputName());\r\n                    System.out.println(user.getName());\r\n            }\r\n    }\r\n\r\nOutput:\r\n=======\r\n\r\n    $ javac Main.java  &amp;&amp; java Main\r\n    Enter Name : Dev Par\r\n    Enter Name : DevPar\r\n    DevPar\r\n","title":"how to use a do-while loop in a class?","body":"<p>use <code>do while</code> loop to verify weather the user name is valid or not.</p>\n<p>For validating use:</p>\n<pre><code> public static boolean isValidName(String name){\n                for(char ch : name.toCharArray())\n                        if(!Character.isLetterOrDigit(ch))\n                                return false;\n                return name.length() != 0;\n\n        }\n</code></pre>\n<p>For getting name:</p>\n<pre><code> public static String inputName() {\n                boolean invalidInput = false;\n                Scanner scan = new Scanner(System.in);\n                String name = null;\n\n                do {\n                        System.out.print(&quot;Enter Name : &quot;);\n                        name = scan.nextLine();\n                        //System.out.println(&quot;name &quot; +name);\n                        //System.out.print(&quot;User: &quot; + name + &quot; ID #&quot; + getUserID());\n                } while(!isValidName(name));\n                return name;\n\n        }\n</code></pre>\n<h1>Main.java</h1>\n<pre><code>import java.util.Random;\nimport java.util.Scanner;\n\nclass UserInterface {\n\n        Random random = new Random();\n        private String name;\n\n        public void setName(String userName) {\n                this.name = userName;\n        }\n        public String getName(){\n                return name;\n        }\n\n        public int getUserID() {\n                return random.nextInt(1000);\n        }\n}\n\n\npublic class Main {\n        public static String inputName() {\n                boolean invalidInput = false;\n                Scanner scan = new Scanner(System.in);\n                String name = null;\n\n                do {\n                        System.out.print(&quot;Enter Name : &quot;);\n                        name = scan.nextLine();\n                        //System.out.println(&quot;name &quot; +name);\n                        //System.out.print(&quot;User: &quot; + name + &quot; ID #&quot; + getUserID());\n                } while(!isValidName(name));\n                return name;\n\n        }\n        public static boolean isValidName(String name){\n                for(char ch : name.toCharArray())\n                        if(!Character.isLetterOrDigit(ch))\n                                return false;\n                return name.length() != 0;\n\n        }\n        public static void main(String[] args) {\n                Scanner input = new Scanner(System.in);\n                UserInterface user = new UserInterface();\n                user.setName(inputName());\n                System.out.println(user.getName());\n        }\n}\n</code></pre>\n<h1>Output:</h1>\n<pre><code>$ javac Main.java  &amp;&amp; java Main\nEnter Name : Dev Par\nEnter Name : DevPar\nDevPar\n</code></pre>\n"}],"owner":{"display_name":"user17545832"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647759180,"creation_date":1647755110,"question_id":71544368,"body_markdown":"how would I create a do-while loop to verify that the user input contains no special characters. If it does contain special characters, how would I make it restart the loop? In my loop, it still returns the name if it has special characters. \r\n\r\nHere is my main:\r\n\r\n    import java.util.Scanner;\r\n\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Scanner input = new Scanner(System.in);\r\n            UserInterface user = new UserInterface();\r\n    \r\n            System.out.print(&quot;Enter first and last name: &quot;);\r\n            String userName = input.nextLine();\r\n            user.setName(userName); \r\n            user.getName(); \r\n        }           \r\n    }\r\n\r\nHere is my User class:\r\n\r\n    import java.util.Random;\r\n\r\n    public class UserInterface {\r\n        \r\n        Random random = new Random();\r\n        private String name;\r\n    \r\n        public String getName() {\r\n            String specialCharacters = &quot;!#$%&amp;&#39;()*+,-./:;&lt;=&gt;?@[]^_`{|}123456789&quot;;\r\n            boolean invalidInput = false;\r\n    \r\n            do {\r\n                invalidInput = false;\r\n                System.out.print(&quot;User: &quot; + name + &quot; ID #&quot; + getUserID());\r\n            } while(name.contains(specialCharacters));\r\n            invalidInput = false;\r\n            return name;\r\n                \r\n        }\r\n    \r\n        public void setName(String userName) {\r\n            this.name = userName;\r\n        }\r\n    \r\n        public int getUserID() {\r\n            return random.nextInt(1000);\r\n        }\r\n    }","title":"how to use a do-while loop in a class?","body":"<p>how would I create a do-while loop to verify that the user input contains no special characters. If it does contain special characters, how would I make it restart the loop? In my loop, it still returns the name if it has special characters.</p>\n<p>Here is my main:</p>\n<pre><code>import java.util.Scanner;\n\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        UserInterface user = new UserInterface();\n\n        System.out.print(&quot;Enter first and last name: &quot;);\n        String userName = input.nextLine();\n        user.setName(userName); \n        user.getName(); \n    }           \n}\n</code></pre>\n<p>Here is my User class:</p>\n<pre><code>import java.util.Random;\n\npublic class UserInterface {\n    \n    Random random = new Random();\n    private String name;\n\n    public String getName() {\n        String specialCharacters = &quot;!#$%&amp;'()*+,-./:;&lt;=&gt;?@[]^_`{|}123456789&quot;;\n        boolean invalidInput = false;\n\n        do {\n            invalidInput = false;\n            System.out.print(&quot;User: &quot; + name + &quot; ID #&quot; + getUserID());\n        } while(name.contains(specialCharacters));\n        invalidInput = false;\n        return name;\n            \n    }\n\n    public void setName(String userName) {\n        this.name = userName;\n    }\n\n    public int getUserID() {\n        return random.nextInt(1000);\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1647757071,"post_id":71544497,"comment_id":126448322,"body_markdown":"What values do `i` and `j` have while the first row is being printed? What values do they have while the last row is being printed? You can either add more `print` calls, or use the debugger to answer that question.","body":"What values do <code>i</code> and <code>j</code> have while the first row is being printed? What values do they have while the last row is being printed? You can either add more <code>print</code> calls, or use the debugger to answer that question."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1647757107,"post_id":71544497,"comment_id":126448326,"body_markdown":"And what do you mean by &quot;get&quot;?","body":"And what do you mean by &quot;get&quot;?"},{"owner":{"account_id":22292465,"reputation":15,"user_id":16519048,"display_name":"still_learning"},"score":0,"creation_date":1647757262,"post_id":71544497,"comment_id":126448348,"body_markdown":"sorry for the confusion, I mean to either print the first row only [3 4 1 2 8 6], or print the last row[8 7 2 9 6 4].","body":"sorry for the confusion, I mean to either print the first row only [3 4 1 2 8 6], or print the last row[8 7 2 9 6 4]."},{"owner":{"account_id":22292465,"reputation":15,"user_id":16519048,"display_name":"still_learning"},"score":0,"creation_date":1647757652,"post_id":71544497,"comment_id":126448388,"body_markdown":"I just figure out how to print the first row. Any thoughts on how to print just the last row?","body":"I just figure out how to print the first row. Any thoughts on how to print just the last row?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1647757886,"post_id":71544497,"comment_id":126448410,"body_markdown":"You already know how to get the number of rows. And you know that the final index is one less than that.","body":"You already know how to get the number of rows. And you know that the final index is one less than that."},{"owner":{"account_id":22292465,"reputation":15,"user_id":16519048,"display_name":"still_learning"},"score":0,"creation_date":1647758316,"post_id":71544497,"comment_id":126448449,"body_markdown":"Yes. thank you. that is clear now. I&#39;m thinking i = grid.size() - 1; i &lt; grid.size()&lt; i++.","body":"Yes. thank you. that is clear now. I&#39;m thinking i = grid.size() - 1; i &lt; grid.size()&lt; i++."}],"answers":[{"tags":[],"owner":{"account_id":22072474,"reputation":1193,"user_id":16333281,"display_name":"Jhanzaib Humayun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647758731,"creation_date":1647758426,"answer_id":71544615,"question_id":71544497,"body_markdown":"`grid.get(0)` gives you the first row, and `grid.get(grid.size()-1)` gives you the last row.\r\n\r\nIf you want to print them out then do this:\r\n\r\n    public static ArrayList&lt;Integer&gt; list(ArrayList&lt;ArrayList&lt;Integer&gt;&gt; grid){\r\n    ArrayList&lt;Integer&gt; num = new ArrayList&lt;&gt;();\r\n    \r\n    int[] firstLastIndices = new int[]{0, grid.size()-1}\r\n    for(int i : firstLastIndices){\r\n        for( int j = 0; j &lt;grid.get(i).size(); j++){\r\n            System.out.print(grid.get(i).get(j) + &quot; &quot;);\r\n        }\r\n        System.out.println();\r\n    }\r\n\r\n","title":"how do I access the first and last row of an arraylist of arraylist","body":"<p><code>grid.get(0)</code> gives you the first row, and <code>grid.get(grid.size()-1)</code> gives you the last row.</p>\n<p>If you want to print them out then do this:</p>\n<pre><code>public static ArrayList&lt;Integer&gt; list(ArrayList&lt;ArrayList&lt;Integer&gt;&gt; grid){\nArrayList&lt;Integer&gt; num = new ArrayList&lt;&gt;();\n\nint[] firstLastIndices = new int[]{0, grid.size()-1}\nfor(int i : firstLastIndices){\n    for( int j = 0; j &lt;grid.get(i).size(); j++){\n        System.out.print(grid.get(i).get(j) + &quot; &quot;);\n    }\n    System.out.println();\n}\n</code></pre>\n"}],"owner":{"account_id":22292465,"reputation":15,"user_id":16519048,"display_name":"still_learning"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647758731,"creation_date":1647756976,"question_id":71544497,"body_markdown":"I was wondering how I could access the first and last row of this 2d arraylist.\r\n\r\n  \r\n\r\n    public static ArrayList&lt;Integer&gt; list(ArrayList&lt;ArrayList&lt;Integer&gt;&gt; grid){\r\n\r\n        ArrayList&lt;Integer&gt; num = new ArrayList&lt;&gt;();\r\n\r\n        for(int i = 0; i &lt; grid.size(); i++){\r\n            for( int j = 0; j &lt;grid.get(i).size(); j++){\r\n                System.out.print(grid.get(i).get(j) + &quot; &quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n\r\nthis code will print out the entire arraylist. Is there a way to get the first row and last row only\r\n\r\n3 4 1 2 8 6 \r\n\r\n6 1 8 2 7 4 \r\n\r\n5 4 3 9 9 5 \r\n\r\n5 9 8 3 2 6 \r\n\r\n8 7 2 9 6 4 ","title":"how do I access the first and last row of an arraylist of arraylist","body":"<p>I was wondering how I could access the first and last row of this 2d arraylist.</p>\n<pre><code>public static ArrayList&lt;Integer&gt; list(ArrayList&lt;ArrayList&lt;Integer&gt;&gt; grid){\n\n    ArrayList&lt;Integer&gt; num = new ArrayList&lt;&gt;();\n\n    for(int i = 0; i &lt; grid.size(); i++){\n        for( int j = 0; j &lt;grid.get(i).size(); j++){\n            System.out.print(grid.get(i).get(j) + &quot; &quot;);\n        }\n        System.out.println();\n    }\n</code></pre>\n<p>this code will print out the entire arraylist. Is there a way to get the first row and last row only</p>\n<p>3 4 1 2 8 6</p>\n<p>6 1 8 2 7 4</p>\n<p>5 4 3 9 9 5</p>\n<p>5 9 8 3 2 6</p>\n<p>8 7 2 9 6 4</p>\n"},{"tags":["java","matlab"],"comments":[{"owner":{"account_id":223457,"reputation":4755,"user_id":482682,"accept_rate":95,"display_name":"Lrrr"},"score":0,"creation_date":1647762276,"post_id":71544643,"comment_id":126449014,"body_markdown":"Did you add Matlab library to your path?","body":"Did you add Matlab library to your path?"},{"owner":{"account_id":11190842,"reputation":1,"user_id":8943591,"display_name":"Sayan Mukherjee"},"score":0,"creation_date":1647846452,"post_id":71544643,"comment_id":126464390,"body_markdown":"Yes, I have added but getting same error.","body":"Yes, I have added but getting same error."},{"owner":{"account_id":11190842,"reputation":1,"user_id":8943591,"display_name":"Sayan Mukherjee"},"score":0,"creation_date":1647846816,"post_id":71544643,"comment_id":126464486,"body_markdown":"I am using matlab2015a.","body":"I am using matlab2015a."}],"owner":{"account_id":11190842,"reputation":1,"user_id":8943591,"display_name":"Sayan Mukherjee"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647758680,"creation_date":1647758680,"question_id":71544643,"body_markdown":"MatlabEngine eng = Matlabengine.startMatlab(); this line gives the following errors\r\n\r\n    Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: &#39;void com.mathworks.mvm.MvmFactory.nativeSetJavaEngine(boolean)&#39;\r\n\tat com.mathworks.mvm.MvmFactory.nativeSetJavaEngine(Native Method)\r\n\tat com.mathworks.mvm.MvmImpl.setJavaEngineMode(MvmImpl.java:203)\r\n\tat com.mathworks.engine.MatlabEngine.&lt;clinit&gt;(MatlabEngine.java:69)\r\n\tat org.fog.test.perfeval.MyProject.main(MyProject.java:63)\r\n\r\n\r\n","title":"Getting errors while running matlab from java","body":"<p>MatlabEngine eng = Matlabengine.startMatlab(); this line gives the following errors</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: 'void com.mathworks.mvm.MvmFactory.nativeSetJavaEngine(boolean)'\nat com.mathworks.mvm.MvmFactory.nativeSetJavaEngine(Native Method)\nat com.mathworks.mvm.MvmImpl.setJavaEngineMode(MvmImpl.java:203)\nat com.mathworks.engine.MatlabEngine.&lt;clinit&gt;(MatlabEngine.java:69)\nat org.fog.test.perfeval.MyProject.main(MyProject.java:63)\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":21850307,"reputation":29,"user_id":16142468,"display_name":"Tanvir Islam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647758502,"creation_date":1647757054,"answer_id":71544501,"question_id":71542561,"body_markdown":"after loadUrl, write the below lines.\r\n\r\n    WebSettings webSettings = webView.getSettings();\r\n    webSettings.setJavaScriptEnabled(true);\r\n    \r\n    webView.setWebViewClient(new WebViewClient()); //this line keep your website in the app.\r\n","title":"I have an application for webview but when I click links it automatically jump to default browser. I want to open the link in app itself but how?","body":"<p>after loadUrl, write the below lines.</p>\n<pre><code>WebSettings webSettings = webView.getSettings();\nwebSettings.setJavaScriptEnabled(true);\n\nwebView.setWebViewClient(new WebViewClient()); //this line keep your website in the app.\n</code></pre>\n"}],"owner":{"account_id":24615158,"reputation":1,"user_id":18516264,"display_name":"DenZ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647758502,"creation_date":1647728594,"question_id":71542561,"body_markdown":"I have an application for webview but when I click links it automatically jump to default browser. I want to open that link within the app itself but how?\r\n\r\nPlease someone help me for this? thank you...","title":"I have an application for webview but when I click links it automatically jump to default browser. I want to open the link in app itself but how?","body":"<p>I have an application for webview but when I click links it automatically jump to default browser. I want to open that link within the app itself but how?</p>\n<p>Please someone help me for this? thank you...</p>\n"},{"tags":["java","regex","string","parsing"],"answers":[{"tags":[],"owner":{"account_id":262968,"reputation":767120,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1444310997,"creation_date":1444310997,"answer_id":33017312,"question_id":33017274,"body_markdown":"You should use your match with word boundaries instead of anchors:\r\n\r\n    \\b[a-zA-Z]{3}\\b\r\n\r\n[RegEx Demo][1]\r\n\r\nWhen you use:\r\n\r\n    ^[a-zA-Z]{3}$\r\n\r\nIt means you want to match a line with exact 3 letters.\r\n\r\n\r\n  [1]: https://regex101.com/r/hQ4dC4/2\r\n","title":"Find all words with 3 letters with regex","body":"<p>You should use your match with word boundaries instead of anchors:</p>\n\n<pre><code>\\b[a-zA-Z]{3}\\b\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/hQ4dC4/2\">RegEx Demo</a></p>\n\n<p>When you use:</p>\n\n<pre><code>^[a-zA-Z]{3}$\n</code></pre>\n\n<p>It means you want to match a line with exact 3 letters.</p>\n"},{"tags":[],"owner":{"account_id":2810730,"reputation":18284,"user_id":2417031,"accept_rate":70,"display_name":"maioman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1444311515,"creation_date":1444311515,"answer_id":33017499,"question_id":33017274,"body_markdown":"you can use `.` instead of `[a-zA-Z]` if you want to match any character (also numbers):\r\n\r\n     \\b.{3}\\b","title":"Find all words with 3 letters with regex","body":"<p>you can use <code>.</code> instead of <code>[a-zA-Z]</code> if you want to match any character (also numbers):</p>\n\n<pre><code> \\b.{3}\\b\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1084421,"reputation":2698,"user_id":1080492,"display_name":"Ameya Pandilwar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1444332156,"creation_date":1444332156,"answer_id":33024285,"question_id":33017274,"body_markdown":" 1. To match all words with 3 letters in a string, the pattern needs to\r\n    be **&quot;\\\\b[a-zA-Z]{3}\\\\b&quot;**\r\n\r\n 2. The next step would be to compile your pattern.\r\n\r\n        Pattern pattern = Pattern.compile(&quot;\\\\b[a-zA-Z]{3}\\\\b&quot;);\r\n\r\n 3. Use a matcher and use the find() and group() methods to print the occurrences\r\n\r\n        for (String word : sentence) {\r\n\t\t\tMatcher matcher = pattern.matcher(word);\r\n\t\t\twhile(matcher.find()) {\r\n\t\t        System.out.println(matcher.group());\r\n\t\t    }\r\n\t\t}\r\n\r\n 4. Your program should look something like -\r\n\r\n        public static void main(String[] args) {\r\n\t\t    List&lt;String&gt; sentence = new ArrayList&lt;String&gt;();\r\n\t\t    sentence.add(&quot;cat&quot;);\r\n\t\t    sentence.add(&quot;monkey&quot;);\r\n\t\t    sentence.add(&quot;dog&quot;);\r\n\t\t    sentence.add(&quot;mouse&quot;);\r\n\r\n\t\t    Pattern pattern = Pattern.compile(&quot;\\\\b[a-zA-Z]{3}\\\\b&quot;);\r\n\r\n\t\t    for (String word : sentence) {\r\n\t\t\t    Matcher matcher = pattern.matcher(word);\r\n\t\t\t    while(matcher.find()) {\r\n\t\t            System.out.println(matcher.group());\r\n\t\t        }\r\n\t\t    }\r\n\t    }","title":"Find all words with 3 letters with regex","body":"<ol>\n<li><p>To match all words with 3 letters in a string, the pattern needs to\nbe <strong>\"\\b[a-zA-Z]{3}\\b\"</strong></p></li>\n<li><p>The next step would be to compile your pattern.</p>\n\n<pre><code>Pattern pattern = Pattern.compile(\"\\\\b[a-zA-Z]{3}\\\\b\");\n</code></pre></li>\n<li><p>Use a matcher and use the find() and group() methods to print the occurrences</p>\n\n<pre><code>for (String word : sentence) {\n    Matcher matcher = pattern.matcher(word);\n    while(matcher.find()) {\n        System.out.println(matcher.group());\n    }\n}\n</code></pre></li>\n<li><p>Your program should look something like -</p>\n\n<pre><code>public static void main(String[] args) {\n    List&lt;String&gt; sentence = new ArrayList&lt;String&gt;();\n    sentence.add(\"cat\");\n    sentence.add(\"monkey\");\n    sentence.add(\"dog\");\n    sentence.add(\"mouse\");\n\n    Pattern pattern = Pattern.compile(\"\\\\b[a-zA-Z]{3}\\\\b\");\n\n    for (String word : sentence) {\n        Matcher matcher = pattern.matcher(word);\n        while(matcher.find()) {\n            System.out.println(matcher.group());\n        }\n    }\n}\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":13727367,"reputation":199,"user_id":9905784,"display_name":"Anish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644685357,"creation_date":1644682200,"answer_id":71093541,"question_id":33017274,"body_markdown":"This worked for me.\r\n\r\n    grep -e &quot;\\b...\\b&quot; all-words.txt\r\n\r\nThis works too:\r\n\r\n    grep -E &quot;\\b.{3}\\b&quot; all-words.txt","title":"Find all words with 3 letters with regex","body":"<p>This worked for me.</p>\n<pre><code>grep -e &quot;\\b...\\b&quot; all-words.txt\n</code></pre>\n<p>This works too:</p>\n<pre><code>grep -E &quot;\\b.{3}\\b&quot; all-words.txt\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6822237,"reputation":11,"user_id":5249033,"display_name":"Mattias Larsson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647758486,"creation_date":1647598331,"answer_id":71525429,"question_id":33017274,"body_markdown":"Another suggestion would be to use this pattern:\r\n\r\n    \\b\\S{3}\\b\r\n    \r\nTo avoid matching 3 spaces.\r\nThis pattern will also match, for example, cyrillic letters.","title":"Find all words with 3 letters with regex","body":"<p>Another suggestion would be to use this pattern:</p>\n<pre><code>\\b\\S{3}\\b\n</code></pre>\n<p>To avoid matching 3 spaces.\nThis pattern will also match, for example, cyrillic letters.</p>\n"}],"owner":{"account_id":957889,"reputation":18106,"user_id":982865,"accept_rate":94,"display_name":"Evgenij Reznik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19581,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":33017312,"answer_count":5,"score":8,"last_activity_date":1647758486,"creation_date":1444310908,"question_id":33017274,"body_markdown":"I&#39;m trying to find all words with 3 letters in a string.  \r\nSo in this list\r\n\r\n    cat monkey dog mouse\r\n\r\nI only want\r\n\r\n    cat dog\r\n\r\nThis is my expression:\r\n\r\n    ^[a-zA-Z]{3}$\r\n\r\nI tested it with different online regex tester, but none of them matched my expression.","title":"Find all words with 3 letters with regex","body":"<p>I'm trying to find all words with 3 letters in a string.<br>\nSo in this list</p>\n\n<pre><code>cat monkey dog mouse\n</code></pre>\n\n<p>I only want</p>\n\n<pre><code>cat dog\n</code></pre>\n\n<p>This is my expression:</p>\n\n<pre><code>^[a-zA-Z]{3}$\n</code></pre>\n\n<p>I tested it with different online regex tester, but none of them matched my expression.</p>\n"},{"tags":["java","oop","if-statement"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1647758138,"post_id":71544575,"comment_id":126448434,"body_markdown":"Your `xxx == string` tests are incorrect, and are probably giving you the wrong answer.  Read the duplink.  (Your teacher *should* have explained this to you.  This is one of the most common mistakes that novice Java programmers make ...)","body":"Your <code>xxx == string</code> tests are incorrect, and are probably giving you the wrong answer.  Read the duplink.  (Your teacher <i>should</i> have explained this to you.  This is one of the most common mistakes that novice Java programmers make ...)"},{"owner":{"account_id":24617388,"reputation":1,"user_id":18518202,"display_name":"Abhijeet"},"score":0,"creation_date":1647759794,"post_id":71544575,"comment_id":126448643,"body_markdown":"Thank you I should have equals method instead.","body":"Thank you I should have equals method instead."}],"owner":{"account_id":24617388,"reputation":1,"user_id":18518202,"display_name":"Abhijeet"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1647758078,"answer_count":0,"score":0,"last_activity_date":1647757994,"creation_date":1647757994,"question_id":71544575,"body_markdown":"//This program should return the total pizza bill according to the chosen option and size of pizza but //all I get is totalPizzaBill =0 every time. I am unable to understand where I am wrong\r\n\r\n\r\n    if(pizzaChoice == 1)\r\n    \t{\r\n        \tif(pizzaSize == &quot;L&quot;)\r\n    \t\t\ttotalPizzaBill = 450;\r\n    \t\telse if(pizzaSize == &quot;M&quot;)\r\n    \t\t\ttotalPizzaBill = 350;\r\n    \t\telse if(pizzaSize==&quot;R&quot;)\r\n    \t\t\tSystem.out.println(&quot;NA&quot;);\r\n    \t}\r\n    \telse if(pizzaChoice == 2)\r\n    \t{\r\n    \t\tif(pizzaSize == &quot;L&quot;)\r\n    \t\t\ttotalPizzaBill = 400;\r\n    \t\telse if(pizzaSize == &quot;M&quot;)\r\n    \t\t\ttotalPizzaBill = 300;\r\n    \t\telse if(pizzaSize==&quot;R&quot;)\r\n    \t\t\tSystem.out.println(&quot;NA&quot;);\r\n    \t}\r\n    \telse if(pizzaChoice == 3)\r\n    \t{\r\n    \t\tif(pizzaSize == &quot;L&quot;)\r\n    \t\t\ttotalPizzaBill = 450;\r\n    \t\telse if(pizzaSize == &quot;M&quot;)\r\n    \t\t\ttotalPizzaBill = 350;\r\n    \t\telse if(pizzaSize==&quot;R&quot;)\r\n    \t\t\ttotalPizzaBill = 250;\r\n    \t}\r\n    \telse if(pizzaChoice == 4)\r\n    \t{\r\n    \t\tif(pizzaSize == &quot;L&quot;)\r\n    \t\t\ttotalPizzaBill = 400;\r\n    \t\telse if(pizzaSize == &quot;M&quot;)\r\n    \t\t\ttotalPizzaBill = 300;\r\n    \t\telse if(pizzaSize==&quot;R&quot;)\r\n    \t\t\ttotalPizzaBill = 200;\r\n    \t}\r\n    \telse if(pizzaChoice == 5)\r\n    \t{\r\n    \t\tif(pizzaSize == &quot;L&quot;)\r\n    \t\t\ttotalPizzaBill = 500;\r\n    \t\telse if(pizzaSize == &quot;M&quot;)\r\n    \t\t\ttotalPizzaBill = 375;\r\n    \t\telse if(pizzaSize==&quot;R&quot;)\r\n    \t\t\ttotalPizzaBill = 175;\r\n    \t}","title":"if else statement in Java not changing variable","body":"<p>//This program should return the total pizza bill according to the chosen option and size of pizza but //all I get is totalPizzaBill =0 every time. I am unable to understand where I am wrong</p>\n<pre><code>if(pizzaChoice == 1)\n    {\n        if(pizzaSize == &quot;L&quot;)\n            totalPizzaBill = 450;\n        else if(pizzaSize == &quot;M&quot;)\n            totalPizzaBill = 350;\n        else if(pizzaSize==&quot;R&quot;)\n            System.out.println(&quot;NA&quot;);\n    }\n    else if(pizzaChoice == 2)\n    {\n        if(pizzaSize == &quot;L&quot;)\n            totalPizzaBill = 400;\n        else if(pizzaSize == &quot;M&quot;)\n            totalPizzaBill = 300;\n        else if(pizzaSize==&quot;R&quot;)\n            System.out.println(&quot;NA&quot;);\n    }\n    else if(pizzaChoice == 3)\n    {\n        if(pizzaSize == &quot;L&quot;)\n            totalPizzaBill = 450;\n        else if(pizzaSize == &quot;M&quot;)\n            totalPizzaBill = 350;\n        else if(pizzaSize==&quot;R&quot;)\n            totalPizzaBill = 250;\n    }\n    else if(pizzaChoice == 4)\n    {\n        if(pizzaSize == &quot;L&quot;)\n            totalPizzaBill = 400;\n        else if(pizzaSize == &quot;M&quot;)\n            totalPizzaBill = 300;\n        else if(pizzaSize==&quot;R&quot;)\n            totalPizzaBill = 200;\n    }\n    else if(pizzaChoice == 5)\n    {\n        if(pizzaSize == &quot;L&quot;)\n            totalPizzaBill = 500;\n        else if(pizzaSize == &quot;M&quot;)\n            totalPizzaBill = 375;\n        else if(pizzaSize==&quot;R&quot;)\n            totalPizzaBill = 175;\n    }\n</code></pre>\n"},{"tags":["java","android","viewmodel"],"answers":[{"tags":[],"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1647756180,"creation_date":1647704812,"answer_id":71539618,"question_id":71538679,"body_markdown":"`by navGraphViewModels` knows nothing about your Hilt factory - it is just using the default factory. The only reason it may work in other cases is because another fragment that *did* use Hilt&#39;s factory had created the ViewModel first.\r\n\r\nAs per [the documentation](https://developer.android.com/training/dependency-injection/hilt-jetpack#viewmodel-navigation), you must use `by hiltNavGraphViewModels()` to use a Hilt injected ViewModel scoped to a navigation graph.\r\n\r\n    // Add this to your dependencies\r\n    implementation &#39;androidx.hilt:hilt-navigation-fragment:1.0.0&#39;\r\n\r\n    // Then use it in place of navGraphViewModels()\r\n    private val viewModel: ManagePrintOrderVM by hiltNavGraphViewModels(R.id.print_order_flow)\r\n","title":"Navigation graph scoped ViewModel on Process Death","body":"<p><code>by navGraphViewModels</code> knows nothing about your Hilt factory - it is just using the default factory. The only reason it may work in other cases is because another fragment that <em>did</em> use Hilt's factory had created the ViewModel first.</p>\n<p>As per <a href=\"https://developer.android.com/training/dependency-injection/hilt-jetpack#viewmodel-navigation\" rel=\"nofollow noreferrer\">the documentation</a>, you must use <code>by hiltNavGraphViewModels()</code> to use a Hilt injected ViewModel scoped to a navigation graph.</p>\n<pre><code>// Add this to your dependencies\nimplementation 'androidx.hilt:hilt-navigation-fragment:1.0.0'\n\n// Then use it in place of navGraphViewModels()\nprivate val viewModel: ManagePrintOrderVM by hiltNavGraphViewModels(R.id.print_order_flow)\n</code></pre>\n"}],"owner":{"account_id":12144652,"reputation":464,"user_id":8867401,"display_name":"Sundaravel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":496,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71539618,"answer_count":1,"score":2,"last_activity_date":1647756180,"creation_date":1647697712,"question_id":71538679,"body_markdown":"While I am trying to handle Process Death in my Android Application, I noticed that the ViewModel which was scoped to the navigation Graph was crashing while recreating from the process death. Below is the code of the ViewModel and the Fragment which is using the ViewModel.\r\n\r\n    @ExperimentalCoroutinesApi\r\n    @HiltViewModel\r\n    class ViewPrintOrderVM @Inject constructor(\r\n    private val repository: Repository,\r\n    private val application: Application,\r\n    private val savedStateHandle: SavedStateHandle\r\n    ) : ViewModel() {\r\n\r\n         // Code inside the ViewModel\r\n\r\n    }\r\n\r\nAnd in my Fragment, I am getting the reference as follows\r\n\r\n    @ExperimentalComposeUiApi\r\n    @ExperimentalCoroutinesApi\r\n    @AndroidEntryPoint\r\n    class ComposeFragmentPostPressDetails : Fragment() {\r\n\r\n            //Here we are scoping the ViewModel to the Navigation graph with graph-id instead of this fragment\r\n            private val viewModel: ManagePrintOrderVM by navGraphViewModels(R.id.print_order_flow)\r\n\r\n           //Rest of the Fragment code\r\n\r\n    }\r\n\r\nNow, when I try to test the app for process death by launching the app in the emulator, putting it in the background, and then killing the process with the &quot;Terminate Application&quot; button from the android studio, it crashes while recreating with the following error\r\n\r\n    2022-03-19 19:06:44.633 7174-7174/com.sivakasi.papco.jobflow E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.sivakasi.papco.jobflow, PID: 7174\r\n        java.lang.RuntimeException: Unable to start activity ComponentInfo{com.sivakasi.papco.jobflow/com.sivakasi.papco.jobflow.MainActivity}: java.lang.RuntimeException: Cannot create an instance of class com.sivakasi.papco.jobflow.screens.manageprintorder.ManagePrintOrderVM\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2817)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2892)\r\n            at android.app.ActivityThread.-wrap11(Unknown Source:0)\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1593)\r\n            at android.os.Handler.dispatchMessage(Handler.java:105)\r\n            at android.os.Looper.loop(Looper.java:164)\r\n            at android.app.ActivityThread.main(ActivityThread.java:6541)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\r\n         Caused by: java.lang.RuntimeException: Cannot create an instance of class com.sivakasi.papco.jobflow.screens.manageprintorder.ManagePrintOrderVM\r\n            at androidx.lifecycle.ViewModelProvider$NewInstanceFactory.create(ViewModelProvider.java:221)\r\n            at androidx.lifecycle.ViewModelProvider$AndroidViewModelFactory.create(ViewModelProvider.java:278)\r\n            at androidx.lifecycle.SavedStateViewModelFactory.create(SavedStateViewModelFactory.java:112)\r\n            at androidx.lifecycle.ViewModelProvider.get(ViewModelProvider.java:185)\r\n            at androidx.lifecycle.ViewModelProvider.get(ViewModelProvider.java:150)\r\n            at androidx.lifecycle.ViewModelLazy.getValue(ViewModelProvider.kt:54)\r\n            at androidx.lifecycle.ViewModelLazy.getValue(ViewModelProvider.kt:41)\r\n            at com.sivakasi.papco.jobflow.screens.manageprintorder.FragmentPaperDetails.getViewModel(FragmentPaperDetails.kt:42)\r\n            at com.sivakasi.papco.jobflow.screens.manageprintorder.FragmentPaperDetails.observeViewModel(FragmentPaperDetails.kt:97)\r\n            at com.sivakasi.papco.jobflow.screens.manageprintorder.FragmentPaperDetails.onViewCreated(FragmentPaperDetails.kt:59)\r\n            at androidx.fragment.app.Fragment.performViewCreated(Fragment.java:2987)\r\n            at androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:546)\r\n            at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:282)\r\n            at androidx.fragment.app.FragmentStore.moveToExpectedState(FragmentStore.java:112)\r\n            at androidx.fragment.app.FragmentManager.moveToState(FragmentManager.java:1647)\r\n            at androidx.fragment.app.FragmentManager.dispatchStateChange(FragmentManager.java:3128)\r\n            at androidx.fragment.app.FragmentManager.dispatchViewCreated(FragmentManager.java:3065)\r\n            at androidx.fragment.app.Fragment.performViewCreated(Fragment.java:2988)\r\n            at androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:546)\r\n            at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:282)\r\n            at androidx.fragment.app.FragmentStore.moveToExpectedState(FragmentStore.java:112)\r\n            at androidx.fragment.app.FragmentManager.moveToState(FragmentManager.java:1647)\r\n            at androidx.fragment.app.FragmentManager.dispatchStateChange(FragmentManager.java:3128)\r\n            at androidx.fragment.app.FragmentManager.dispatchActivityCreated(FragmentManager.java:3072)\r\n            at androidx.fragment.app.FragmentController.dispatchActivityCreated(FragmentController.java:251)\r\n            at androidx.fragment.app.FragmentActivity.onStart(FragmentActivity.java:502)\r\n            at androidx.appcompat.app.AppCompatActivity.onStart(AppCompatActivity.java:246)\r\n            at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1333)\r\n            at android.app.Activity.performStart(Activity.java:6992)\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2780)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2892)&#160;\r\n            at android.app.ActivityThread.-wrap11(Unknown Source:0)&#160;\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1593)&#160;\r\n            at android.os.Handler.dispatchMessage(Handler.java:105)&#160;\r\n            at android.os.Looper.loop(Looper.java:164)&#160;\r\n            at android.app.ActivityThread.main(ActivityThread.java:6541)&#160;\r\n            at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n            at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)&#160;\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)&#160;\r\n         Caused by: java.lang.InstantiationException: java.lang.Class&lt;com.sivakasi.papco.jobflow.screens.manageprintorder.ManagePrintOrderVM&gt; has no zero argument constructor\r\n            at java.lang.Class.newInstance(Native Method)\r\n\r\n\r\nHowever, all other screens where the ViewModel is scoped just to that Fragment instead of scoping it to the navigation graph are working fine on Process recreation even with dependency injection.\r\n\r\nWhat am I doing wrong? What should I do to handle Process death in a flow? How to handle process recreation in the fragments where the ViewModel is scoped to the Navigation Graph instead of the fragment itself or the Activity?\r\n\r\n\r\n","title":"Navigation graph scoped ViewModel on Process Death","body":"<p>While I am trying to handle Process Death in my Android Application, I noticed that the ViewModel which was scoped to the navigation Graph was crashing while recreating from the process death. Below is the code of the ViewModel and the Fragment which is using the ViewModel.</p>\n<pre><code>@ExperimentalCoroutinesApi\n@HiltViewModel\nclass ViewPrintOrderVM @Inject constructor(\nprivate val repository: Repository,\nprivate val application: Application,\nprivate val savedStateHandle: SavedStateHandle\n) : ViewModel() {\n\n     // Code inside the ViewModel\n\n}\n</code></pre>\n<p>And in my Fragment, I am getting the reference as follows</p>\n<pre><code>@ExperimentalComposeUiApi\n@ExperimentalCoroutinesApi\n@AndroidEntryPoint\nclass ComposeFragmentPostPressDetails : Fragment() {\n\n        //Here we are scoping the ViewModel to the Navigation graph with graph-id instead of this fragment\n        private val viewModel: ManagePrintOrderVM by navGraphViewModels(R.id.print_order_flow)\n\n       //Rest of the Fragment code\n\n}\n</code></pre>\n<p>Now, when I try to test the app for process death by launching the app in the emulator, putting it in the background, and then killing the process with the &quot;Terminate Application&quot; button from the android studio, it crashes while recreating with the following error</p>\n<pre><code>2022-03-19 19:06:44.633 7174-7174/com.sivakasi.papco.jobflow E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.sivakasi.papco.jobflow, PID: 7174\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.sivakasi.papco.jobflow/com.sivakasi.papco.jobflow.MainActivity}: java.lang.RuntimeException: Cannot create an instance of class com.sivakasi.papco.jobflow.screens.manageprintorder.ManagePrintOrderVM\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2817)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2892)\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1593)\n        at android.os.Handler.dispatchMessage(Handler.java:105)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6541)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\n     Caused by: java.lang.RuntimeException: Cannot create an instance of class com.sivakasi.papco.jobflow.screens.manageprintorder.ManagePrintOrderVM\n        at androidx.lifecycle.ViewModelProvider$NewInstanceFactory.create(ViewModelProvider.java:221)\n        at androidx.lifecycle.ViewModelProvider$AndroidViewModelFactory.create(ViewModelProvider.java:278)\n        at androidx.lifecycle.SavedStateViewModelFactory.create(SavedStateViewModelFactory.java:112)\n        at androidx.lifecycle.ViewModelProvider.get(ViewModelProvider.java:185)\n        at androidx.lifecycle.ViewModelProvider.get(ViewModelProvider.java:150)\n        at androidx.lifecycle.ViewModelLazy.getValue(ViewModelProvider.kt:54)\n        at androidx.lifecycle.ViewModelLazy.getValue(ViewModelProvider.kt:41)\n        at com.sivakasi.papco.jobflow.screens.manageprintorder.FragmentPaperDetails.getViewModel(FragmentPaperDetails.kt:42)\n        at com.sivakasi.papco.jobflow.screens.manageprintorder.FragmentPaperDetails.observeViewModel(FragmentPaperDetails.kt:97)\n        at com.sivakasi.papco.jobflow.screens.manageprintorder.FragmentPaperDetails.onViewCreated(FragmentPaperDetails.kt:59)\n        at androidx.fragment.app.Fragment.performViewCreated(Fragment.java:2987)\n        at androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:546)\n        at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:282)\n        at androidx.fragment.app.FragmentStore.moveToExpectedState(FragmentStore.java:112)\n        at androidx.fragment.app.FragmentManager.moveToState(FragmentManager.java:1647)\n        at androidx.fragment.app.FragmentManager.dispatchStateChange(FragmentManager.java:3128)\n        at androidx.fragment.app.FragmentManager.dispatchViewCreated(FragmentManager.java:3065)\n        at androidx.fragment.app.Fragment.performViewCreated(Fragment.java:2988)\n        at androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:546)\n        at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:282)\n        at androidx.fragment.app.FragmentStore.moveToExpectedState(FragmentStore.java:112)\n        at androidx.fragment.app.FragmentManager.moveToState(FragmentManager.java:1647)\n        at androidx.fragment.app.FragmentManager.dispatchStateChange(FragmentManager.java:3128)\n        at androidx.fragment.app.FragmentManager.dispatchActivityCreated(FragmentManager.java:3072)\n        at androidx.fragment.app.FragmentController.dispatchActivityCreated(FragmentController.java:251)\n        at androidx.fragment.app.FragmentActivity.onStart(FragmentActivity.java:502)\n        at androidx.appcompat.app.AppCompatActivity.onStart(AppCompatActivity.java:246)\n        at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1333)\n        at android.app.Activity.performStart(Activity.java:6992)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2780)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2892) \n        at android.app.ActivityThread.-wrap11(Unknown Source:0) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1593) \n        at android.os.Handler.dispatchMessage(Handler.java:105) \n        at android.os.Looper.loop(Looper.java:164) \n        at android.app.ActivityThread.main(ActivityThread.java:6541) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767) \n     Caused by: java.lang.InstantiationException: java.lang.Class&lt;com.sivakasi.papco.jobflow.screens.manageprintorder.ManagePrintOrderVM&gt; has no zero argument constructor\n        at java.lang.Class.newInstance(Native Method)\n</code></pre>\n<p>However, all other screens where the ViewModel is scoped just to that Fragment instead of scoping it to the navigation graph are working fine on Process recreation even with dependency injection.</p>\n<p>What am I doing wrong? What should I do to handle Process death in a flow? How to handle process recreation in the fragments where the ViewModel is scoped to the Navigation Graph instead of the fragment itself or the Activity?</p>\n"},{"tags":["java","arrays","combinations"],"comments":[{"owner":{"account_id":12779071,"reputation":318,"user_id":14105067,"display_name":"imraklr"},"score":1,"creation_date":1647754333,"post_id":71544164,"comment_id":126447993,"body_markdown":"Please add your code.","body":"Please add your code."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1647754648,"post_id":71544164,"comment_id":126448023,"body_markdown":"`for (int a : arr1) for (int b : arr2) if (a != b) System.out.println(a + &quot;,&quot; + b);`","body":"<code>for (int a : arr1) for (int b : arr2) if (a != b) System.out.println(a + &quot;,&quot; + b);</code>"},{"owner":{"account_id":22571027,"reputation":5269,"user_id":16757174,"display_name":"kcsquared"},"score":0,"creation_date":1647758793,"post_id":71544164,"comment_id":126448501,"body_markdown":"It can be very hard to discover the right name for a mathematical operation. What you&#39;re describing is called the &#39;Cartesian product&#39; of your two arrays, with some results filtered out. The term &#39;combinations&#39; has a very specific meaning in math: It refers to an unordered selection of items from a single set that has distinct elements.","body":"It can be very hard to discover the right name for a mathematical operation. What you&#39;re describing is called the &#39;Cartesian product&#39; of your two arrays, with some results filtered out. The term &#39;combinations&#39; has a very specific meaning in math: It refers to an unordered selection of items from a single set that has distinct elements."}],"answers":[{"tags":[],"owner":{"account_id":20936085,"reputation":483,"user_id":15381219,"display_name":"Nishikant Tayade"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647754637,"creation_date":1647754637,"answer_id":71544326,"question_id":71544164,"body_markdown":" Try this.      \r\n\r\n Note: This code is considering given example. There are no validation done.     You can add it if needed.\r\n\r\n    int count = 0;\r\n    \r\n            for (int i = 0; i &lt; array.length; i++) {\r\n                for (int j = 0; j &lt; array2.length; j++) {\r\n                    if(array[i] != array2[j]){\r\n                        System.out.println(&quot;Combination &quot;+array[i]+&quot; &quot;+array2[j]);\r\n                        count = count +1;\r\n                    }\r\n                }\r\n            }\r\n            System.out.println(&quot;Combination &quot;+count);","title":"Display the combinations and the number of combinations without the same value of the two array","body":"<p>Try this.</p>\n<p>Note: This code is considering given example. There are no validation done.     You can add it if needed.</p>\n<pre><code>int count = 0;\n\n        for (int i = 0; i &lt; array.length; i++) {\n            for (int j = 0; j &lt; array2.length; j++) {\n                if(array[i] != array2[j]){\n                    System.out.println(&quot;Combination &quot;+array[i]+&quot; &quot;+array2[j]);\n                    count = count +1;\n                }\n            }\n        }\n        System.out.println(&quot;Combination &quot;+count);\n</code></pre>\n"}],"owner":{"account_id":10434077,"reputation":187,"user_id":7692977,"display_name":"Mashwishi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":71544326,"answer_count":1,"score":-2,"last_activity_date":1647755469,"creation_date":1647752399,"question_id":71544164,"body_markdown":"I need to create a function that will accept two arrays of integers. Display the combinations and the number of combinations without the same value. \r\n\r\nExample:\r\n\r\n    Array 1 = { 1, 2, 3 }; \r\n    Array 2 = { 2, 3, 4 };\r\n\r\n \r\nOutput :\r\n\r\n    1,2\r\n    1,3\r\n    1,4\r\n    2,3\r\n    2,4\r\n    3,2\r\n    3,4\r\n\r\nCombination count : `7`\r\n\r\nI&#39;ve seen a lot of complicated codes here and can&#39;t find the exact goal that I am looking for so far, While waiting for someone to help I will just keep browsing and searching. Also I&#39;m using Java 7. ","title":"Display the combinations and the number of combinations without the same value of the two array","body":"<p>I need to create a function that will accept two arrays of integers. Display the combinations and the number of combinations without the same value.</p>\n<p>Example:</p>\n<pre><code>Array 1 = { 1, 2, 3 }; \nArray 2 = { 2, 3, 4 };\n</code></pre>\n<p>Output :</p>\n<pre><code>1,2\n1,3\n1,4\n2,3\n2,4\n3,2\n3,4\n</code></pre>\n<p>Combination count : <code>7</code></p>\n<p>I've seen a lot of complicated codes here and can't find the exact goal that I am looking for so far, While waiting for someone to help I will just keep browsing and searching. Also I'm using Java 7.</p>\n"},{"tags":["java","https","http-status-code-403"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1647755259,"post_id":71544260,"comment_id":126448095,"body_markdown":"This can only be answered by the owner of the HPPT server you&#39;re calling. Maybe they&#39;re throttling you, maybe your usage pattern is not allowed, etc. A 403 error means that you are not authorized to issue that request; but the fact that it&#39;s random-ish says something about that logic being around your calls. It could also be that one of their servers is misconfigured. In any case, only the owner/admin of that server can answer.","body":"This can only be answered by the owner of the HPPT server you&#39;re calling. Maybe they&#39;re throttling you, maybe your usage pattern is not allowed, etc. A 403 error means that you are not authorized to issue that request; but the fact that it&#39;s random-ish says something about that logic being around your calls. It could also be that one of their servers is misconfigured. In any case, only the owner/admin of that server can answer."},{"owner":{"account_id":22820176,"reputation":1,"user_id":16970155,"display_name":"JewishBanana"},"score":0,"creation_date":1647757625,"post_id":71544260,"comment_id":126448385,"body_markdown":"It is a google drive file with a shared direct download link.","body":"It is a google drive file with a shared direct download link."},{"owner":{"account_id":7642693,"reputation":1180,"user_id":5794313,"display_name":"Sync it"},"score":0,"creation_date":1647763358,"post_id":71544260,"comment_id":126449167,"body_markdown":"Does this answer your question? [java google drive api V3 MultiPart &amp; Resumable Upload](https://stackoverflow.com/questions/62102721/java-google-drive-api-v3-multipart-resumable-upload)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/62102721/java-google-drive-api-v3-multipart-resumable-upload\">java google drive api V3 MultiPart &amp; Resumable Upload</a>"},{"owner":{"account_id":22820176,"reputation":1,"user_id":16970155,"display_name":"JewishBanana"},"score":0,"creation_date":1647764364,"post_id":71544260,"comment_id":126449306,"body_markdown":"No, that is for uploading but I am downloading. I don&#39;t believe it has my solution in it. I am downloading from a public direct link so I don&#39;t need credentials, using what I have it downloads just fine the first time so I think it may be some cooldown with user requests.","body":"No, that is for uploading but I am downloading. I don&#39;t believe it has my solution in it. I am downloading from a public direct link so I don&#39;t need credentials, using what I have it downloads just fine the first time so I think it may be some cooldown with user requests."}],"owner":{"account_id":22820176,"reputation":1,"user_id":16970155,"display_name":"JewishBanana"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647753597,"creation_date":1647753597,"question_id":71544260,"body_markdown":"Just trying to use a files direct download link to download it but I keep getting this error around 1/3 times I run it, the other 2 times it runs properly like its supposed to.\r\n`java.io.IOException: Server returned HTTP response code: 403 for URL:`\r\n\r\nThis is my code\r\n```\r\npublic static void copyUrlToFile(URL url, File destination) throws IOException {\r\n\t\tHttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\r\n\t\tconnection.addRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Windows NT 6.1; WOW64; rv:10.0.2) Gecko/20100101 Firefox/10.0.2&quot;);\r\n\t\tconnection.connect();\r\n\t\tFileUtils.copyInputStreamToFile(connection.getInputStream(), destination);\r\n\t}```","title":"Cannot fix http response 403 in Java","body":"<p>Just trying to use a files direct download link to download it but I keep getting this error around 1/3 times I run it, the other 2 times it runs properly like its supposed to.\n<code>java.io.IOException: Server returned HTTP response code: 403 for URL:</code></p>\n<p>This is my code</p>\n<pre><code>public static void copyUrlToFile(URL url, File destination) throws IOException {\n        HttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\n        connection.addRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Windows NT 6.1; WOW64; rv:10.0.2) Gecko/20100101 Firefox/10.0.2&quot;);\n        connection.connect();\n        FileUtils.copyInputStreamToFile(connection.getInputStream(), destination);\n    }```\n</code></pre>\n"},{"tags":["java","csv","unicode","character-encoding","java-io"],"comments":[{"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"score":1,"creation_date":1307610850,"post_id":6290261,"comment_id":7345847,"body_markdown":"does the file start with the byte sequence `ef bb bf`? If so, it is a UTF-8 file with a [BOM](http://unicode.org/faq/utf_bom.html#BOM).","body":"does the file start with the byte sequence <code>ef bb bf</code>? If so, it is a UTF-8 file with a <a href=\"http://unicode.org/faq/utf_bom.html#BOM\" rel=\"nofollow noreferrer\">BOM</a>."},{"owner":{"account_id":87133,"reputation":15651,"user_id":241824,"accept_rate":82,"display_name":"Sawyer"},"score":0,"creation_date":1307611460,"post_id":6290261,"comment_id":7346013,"body_markdown":"Nope, it&#39;s UTF encoding, but not starts with the sequence you mentioned.","body":"Nope, it&#39;s UTF encoding, but not starts with the sequence you mentioned."},{"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"score":0,"creation_date":1307620497,"post_id":6290261,"comment_id":7348304,"body_markdown":"post the hex dump of the first two lines and the [default charset](http://download.oracle.com/javase/6/docs/api/java/nio/charset/Charset.html#defaultCharset%28%29) of the system. Otherwise, we&#39;re just playing _guess-the-code-point._","body":"post the hex dump of the first two lines and the <a href=\"http://download.oracle.com/javase/6/docs/api/java/nio/charset/Charset.html#defaultCharset%28%29\" rel=\"nofollow noreferrer\">default charset</a> of the system. Otherwise, we&#39;re just playing <i>guess-the-code-point.</i>"}],"answers":[{"tags":[],"owner":{"display_name":"user7094"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1307610815,"creation_date":1307609601,"answer_id":6290298,"question_id":6290261,"body_markdown":"If spaces are not important in the processing it would probably be worth doing a `strLine.trim()` call each time anyway. This is what I generally do when handling input like this - spaces can easily creep into a file if it has to be edited manually and if they&#39;re not important they can and should be ignored.\r\n\r\nEdit: is the file encoded as UTF-8? You may need to specify the encoding when you open the file. It could be the byte order mark or something like that, if it&#39;s happening on the first line.\r\n\r\nTry: \r\n\r\n    BufferedReader reader = new BufferedReader(new InputStreamReader(new FileInputStream(file), &quot;UTF8&quot;))","title":"Java read file got a leading BOM [ &#239;&#187;&#191; ]","body":"<p>If spaces are not important in the processing it would probably be worth doing a <code>strLine.trim()</code> call each time anyway. This is what I generally do when handling input like this - spaces can easily creep into a file if it has to be edited manually and if they're not important they can and should be ignored.</p>\n\n<p>Edit: is the file encoded as UTF-8? You may need to specify the encoding when you open the file. It could be the byte order mark or something like that, if it's happening on the first line.</p>\n\n<p>Try: </p>\n\n<pre><code>BufferedReader reader = new BufferedReader(new InputStreamReader(new FileInputStream(file), \"UTF8\"))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18600,"reputation":39591,"user_id":42769,"accept_rate":95,"display_name":"Adeel Ansari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1307610304,"creation_date":1307609609,"answer_id":6290300,"question_id":6290261,"body_markdown":"There must be a `space` or some non-printable character in the start. So, either fix that or trim the `Strings` during/before comparison.\r\n\r\n**[Edited]**\r\n\r\nIn case `String.trim()` is of no avail. Try `String.replaceAll()` using proper `regex`. Try this, `str.replaceAll(&quot;\\\\p{Cntrl}&quot;, &quot;&quot;)`.","title":"Java read file got a leading BOM [ &#239;&#187;&#191; ]","body":"<p>There must be a <code>space</code> or some non-printable character in the start. So, either fix that or trim the <code>Strings</code> during/before comparison.</p>\n\n<p><strong>[Edited]</strong></p>\n\n<p>In case <code>String.trim()</code> is of no avail. Try <code>String.replaceAll()</code> using proper <code>regex</code>. Try this, <code>str.replaceAll(\"\\\\p{Cntrl}\", \"\")</code>.</p>\n"},{"tags":[],"owner":{"account_id":224859,"reputation":10267,"user_id":484972,"accept_rate":93,"display_name":"Nico Huysamen"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1307609621,"creation_date":1307609621,"answer_id":6290303,"question_id":6290261,"body_markdown":"Try trimming whitespace at the beginning and end of lines read. Just replace your while with:\r\n\r\n    while ((strLine = bufferedReader.readLine()) != null) {\r\n            strLine = strLine.trim();\r\n            logger.info(Arrays.toString(strLine.toCharArray()));\r\n        if(strLine.contentEquals(prevLine)){\r\n            logger.info(&quot;Skipping the duplicate lines &quot; + strLine);\r\n            continue;\r\n        }\r\n        prevLine = strLine;\r\n    }\r\n","title":"Java read file got a leading BOM [ &#239;&#187;&#191; ]","body":"<p>Try trimming whitespace at the beginning and end of lines read. Just replace your while with:</p>\n\n<pre><code>while ((strLine = bufferedReader.readLine()) != null) {\n        strLine = strLine.trim();\n        logger.info(Arrays.toString(strLine.toCharArray()));\n    if(strLine.contentEquals(prevLine)){\n        logger.info(\"Skipping the duplicate lines \" + strLine);\n        continue;\n    }\n    prevLine = strLine;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11244,"reputation":29526,"user_id":21590,"accept_rate":62,"display_name":"Harry Lime"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1307610937,"creation_date":1307610937,"answer_id":6290565,"question_id":6290261,"body_markdown":"What is the encoding of the file?\r\n\r\nThe unseen char at the start of the file could be the [Byte Order Mark][1]\r\n\r\nSaving with ANSI or UTF-8 without BOM can help highlight this for you.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Byte_order_mark","title":"Java read file got a leading BOM [ &#239;&#187;&#191; ]","body":"<p>What is the encoding of the file?</p>\n\n<p>The unseen char at the start of the file could be the <a href=\"http://en.wikipedia.org/wiki/Byte_order_mark\" rel=\"nofollow\">Byte Order Mark</a></p>\n\n<p>Saving with ANSI or UTF-8 without BOM can help highlight this for you.</p>\n"},{"tags":[],"owner":{"account_id":413389,"reputation":583,"user_id":786998,"display_name":"deltaforce2"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1307611078,"creation_date":1307611078,"answer_id":6290593,"question_id":6290261,"body_markdown":"I had a similar case in my previous project. The culprit was the [Byte order mark][1], which I had to get rid of. Eventually I implemented a hack based on [this example][2]. Check it out, might be that you have the same problem.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Byte_order_mark\r\n  [2]: http://blog.publicobject.com/2010/08/handling-byte-order-mark-in-java.html","title":"Java read file got a leading BOM [ &#239;&#187;&#191; ]","body":"<p>I had a similar case in my previous project. The culprit was the <a href=\"http://en.wikipedia.org/wiki/Byte_order_mark\" rel=\"nofollow\">Byte order mark</a>, which I had to get rid of. Eventually I implemented a hack based on <a href=\"http://blog.publicobject.com/2010/08/handling-byte-order-mark-in-java.html\" rel=\"nofollow\">this example</a>. Check it out, might be that you have the same problem.</p>\n"},{"tags":[],"owner":{"account_id":6575754,"reputation":9298,"user_id":5081877,"accept_rate":92,"display_name":"Yash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1517491505,"creation_date":1517491505,"answer_id":48563857,"question_id":6290261,"body_markdown":"The _Byte Order Mark_ &lt;sup&gt;([BOM](https://en.wikipedia.org/wiki/Byte_order_mark))&lt;/sup&gt; is a Unicode character. You will get characters like [**`&#239;&#187;&#191;`**](https://en.wikipedia.org/wiki/Byte_order_mark#UTF-8) at the start of a text stream, because _BOM use is optional, and, if used, should appear at the start of the text stream_.\r\n\r\n * Microsoft compilers and interpreters, and many pieces of software **on Microsoft Windows such as _Notepad treat the BOM as a required magic number**_ rather than use heuristics. These tools add a BOM when saving text as UTF-8, and cannot interpret UTF-8 unless the BOM is present or the file contains only ASCII. Google Docs also adds a BOM when converting a document to a plain text file for download.\r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n\t \r\n\tFile file = new File( csvFilename );\r\n\tFileInputStream inputStream = new FileInputStream(file);\r\n\t// [{&quot;Key2&quot;:&quot;21&quot;,&quot;&#239;&#187;&#191;Key1&quot;:&quot;11&quot;,&quot;Key3&quot;:&quot;31&quot;} ]\r\n\tInputStreamReader inputStreamReader = new InputStreamReader( inputStream, &quot;UTF-8&quot; );\r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n \r\nWe can resolve by explicitly specifying charset as `UTF-8` to InputStreamReader. Then in UTF-8, the byte sequence **`&#239;&#187;&#191;`** decodes to one character, which is U+FEFF (**`?`**).\r\n\r\n_Using [`Google Guava&#39;s`](https://github.com/google/guava)  &lt;sup&gt;[`jar`](https://mvnrepository.com/artifact/com.google.guava/guava/21.0)&lt;/sup&gt; [CharMatcher](https://google.github.io/guava/releases/snapshot-jre/api/docs/com/google/common/base/CharMatcher.html), you can remove any non-printable characters and then retain all ASCII characters (dropping any accents) like [this](https://stackoverflow.com/a/11021401/5081877):_\r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\n\tString printable = CharMatcher.INVISIBLE.removeFrom( input );\r\n\tString clean = CharMatcher.ASCII.retainFrom( printable );\r\n\t\r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\nFull Example to read data from the **CSV file to JSON Object**:\r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\n\tpublic class CSV_FileOperations {\r\n\t\tstatic List&lt;HashMap&lt;String, String&gt;&gt; listObjects = new ArrayList&lt;HashMap&lt;String,String&gt;&gt;();\r\n\t\tprotected static List&lt;JSONObject&gt; jsonArray = new ArrayList&lt;JSONObject &gt;();\r\n\t\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tString csvFilename = &quot;D:/Yashwanth/json2Bson.csv&quot;;\r\n\t\t\t\t\t\r\n\t\t\tcsvToJSONString(csvFilename);\r\n\t\t\tString jsonData = jsonArray.toString();\r\n\t\t\tSystem.out.println(&quot;File JSON Data : \\n&quot;+ jsonData);\r\n\t\t}\r\n\t\t\r\n\t\t@SuppressWarnings(&quot;deprecation&quot;)\r\n\t\tpublic static String csvToJSONString( String csvFilename ) {\r\n\t\t\ttry {\r\n\t\t\t\tFile file = new File( csvFilename );\r\n\t\t\t\tFileInputStream inputStream = new FileInputStream(file);\r\n\t\t\t\t\r\n\t\t\t\tString fileExtensionName = csvFilename.substring(csvFilename.indexOf(&quot;.&quot;)); // fileName.split(&quot;.&quot;)[1];\r\n\t\t\t\tSystem.out.println(&quot;File Extension : &quot;+ fileExtensionName);\r\n\t\t\t\t\r\n\t\t\t\t// [{&quot;Key2&quot;:&quot;21&quot;,&quot;&#239;&#187;&#191;Key1&quot;:&quot;11&quot;,&quot;Key3&quot;:&quot;31&quot;} ]\r\n\t\t\t\tInputStreamReader inputStreamReader = new InputStreamReader( inputStream, &quot;UTF-8&quot; );\r\n\t\t\t\t\r\n\t\t\t\tBufferedReader buffer = new BufferedReader( inputStreamReader );\r\n\t\t\t\tStream&lt;String&gt; readLines = buffer.lines();\r\n\t\t\t\tboolean headerStream = true;\r\n\t\t\t\t\r\n\t\t\t\tList&lt;String&gt; headers = new ArrayList&lt;String&gt;();\r\n\t\t\t\tfor (String line : (Iterable&lt;String&gt;) () -&gt; readLines.iterator()) {\r\n\t\t\t\t\tString[] columns = line.split(&quot;,&quot;);\r\n\t\t\t\t\tif (headerStream) {\r\n\t\t\t\t\t\tSystem.out.println(&quot; ===== Headers =====&quot;);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfor (String keys : columns) {\r\n\t\t\t\t\t\t\t// &#239;&#187;&#191; - UTF-8 - ? &#171; https://stackoverflow.com/a/11021401/5081877\r\n\t\t\t\t\t\t\tString printable = CharMatcher.INVISIBLE.removeFrom( keys );\r\n\t\t\t\t\t\t\tString clean = CharMatcher.ASCII.retainFrom(printable);\r\n\t\t\t\t\t\t\tString key = clean.replace(&quot;\\\\P{Print}&quot;, &quot;&quot;);\r\n\t\t\t\t\t\t\theaders.add( key );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\theaderStream = false;\r\n\t\t\t\t\t\tSystem.out.println(&quot; ===== ----- Data ----- =====&quot;);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\taddCSVData(headers, columns );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tinputStreamReader.close();\r\n\t\t\t\tbuffer.close();\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t} catch (FileNotFoundException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\tpublic static void addCSVData( List&lt;String&gt; headers, String[] row ) {\r\n\t\t\tif( headers.size() == row.length ) {\r\n\t\t\t\tHashMap&lt;String,String&gt; mapObj = new HashMap&lt;String,String&gt;();\r\n\t\t\t\tJSONObject jsonObj = new JSONObject();\r\n\t\t\t\tfor (int i = 0; i &lt; row.length; i++) {\r\n\t\t\t\t\tmapObj.put(headers.get(i), row[i]);\r\n\t\t\t\t\tjsonObj.put(headers.get(i), row[i]);\r\n\t\t\t\t}\r\n\t\t\t\tjsonArray.add(jsonObj);\r\n\t\t\t\tlistObjects.add(mapObj);\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(&quot;Avoiding the Row Data...&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\n`json2Bson.csv` File data.\r\n\r\n\tKey1\tKey2\tKey3\r\n\t11\t21\t31\r\n\t12\t22\t32\r\n\t13\t23\t33","title":"Java read file got a leading BOM [ &#239;&#187;&#191; ]","body":"<p>The <em>Byte Order Mark</em> <sup>(<a href=\"https://en.wikipedia.org/wiki/Byte_order_mark\" rel=\"nofollow noreferrer\">BOM</a>)</sup> is a Unicode character. You will get characters like <a href=\"https://en.wikipedia.org/wiki/Byte_order_mark#UTF-8\" rel=\"nofollow noreferrer\"><strong><code>ï»¿</code></strong></a> at the start of a text stream, because <em>BOM use is optional, and, if used, should appear at the start of the text stream</em>.</p>\n\n<ul>\n<li>Microsoft compilers and interpreters, and many pieces of software <strong>on Microsoft Windows such as <em>Notepad treat the BOM as a required magic number</strong></em> rather than use heuristics. These tools add a BOM when saving text as UTF-8, and cannot interpret UTF-8 unless the BOM is present or the file contains only ASCII. Google Docs also adds a BOM when converting a document to a plain text file for download.</li>\n</ul>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>File file = new File( csvFilename );\nFileInputStream inputStream = new FileInputStream(file);\n// [{\"Key2\":\"21\",\"ï»¿Key1\":\"11\",\"Key3\":\"31\"} ]\nInputStreamReader inputStreamReader = new InputStreamReader( inputStream, \"UTF-8\" );\n</code></pre>\n\n\n\n<p>We can resolve by explicitly specifying charset as <code>UTF-8</code> to InputStreamReader. Then in UTF-8, the byte sequence <strong><code>ï»¿</code></strong> decodes to one character, which is U+FEFF (<strong><code>?</code></strong>).</p>\n\n<p><em>Using <a href=\"https://github.com/google/guava\" rel=\"nofollow noreferrer\"><code>Google Guava's</code></a>  <sup><a href=\"https://mvnrepository.com/artifact/com.google.guava/guava/21.0\" rel=\"nofollow noreferrer\"><code>jar</code></a></sup> <a href=\"https://google.github.io/guava/releases/snapshot-jre/api/docs/com/google/common/base/CharMatcher.html\" rel=\"nofollow noreferrer\">CharMatcher</a>, you can remove any non-printable characters and then retain all ASCII characters (dropping any accents) like <a href=\"https://stackoverflow.com/a/11021401/5081877\">this</a>:</em></p>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>String printable = CharMatcher.INVISIBLE.removeFrom( input );\nString clean = CharMatcher.ASCII.retainFrom( printable );\n</code></pre>\n\n\n\n<p>Full Example to read data from the <strong>CSV file to JSON Object</strong>:</p>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>public class CSV_FileOperations {\n    static List&lt;HashMap&lt;String, String&gt;&gt; listObjects = new ArrayList&lt;HashMap&lt;String,String&gt;&gt;();\n    protected static List&lt;JSONObject&gt; jsonArray = new ArrayList&lt;JSONObject &gt;();\n\n    public static void main(String[] args) {\n        String csvFilename = \"D:/Yashwanth/json2Bson.csv\";\n\n        csvToJSONString(csvFilename);\n        String jsonData = jsonArray.toString();\n        System.out.println(\"File JSON Data : \\n\"+ jsonData);\n    }\n\n    @SuppressWarnings(\"deprecation\")\n    public static String csvToJSONString( String csvFilename ) {\n        try {\n            File file = new File( csvFilename );\n            FileInputStream inputStream = new FileInputStream(file);\n\n            String fileExtensionName = csvFilename.substring(csvFilename.indexOf(\".\")); // fileName.split(\".\")[1];\n            System.out.println(\"File Extension : \"+ fileExtensionName);\n\n            // [{\"Key2\":\"21\",\"ï»¿Key1\":\"11\",\"Key3\":\"31\"} ]\n            InputStreamReader inputStreamReader = new InputStreamReader( inputStream, \"UTF-8\" );\n\n            BufferedReader buffer = new BufferedReader( inputStreamReader );\n            Stream&lt;String&gt; readLines = buffer.lines();\n            boolean headerStream = true;\n\n            List&lt;String&gt; headers = new ArrayList&lt;String&gt;();\n            for (String line : (Iterable&lt;String&gt;) () -&gt; readLines.iterator()) {\n                String[] columns = line.split(\",\");\n                if (headerStream) {\n                    System.out.println(\" ===== Headers =====\");\n\n                    for (String keys : columns) {\n                        // ï»¿ - UTF-8 - ? « https://stackoverflow.com/a/11021401/5081877\n                        String printable = CharMatcher.INVISIBLE.removeFrom( keys );\n                        String clean = CharMatcher.ASCII.retainFrom(printable);\n                        String key = clean.replace(\"\\\\P{Print}\", \"\");\n                        headers.add( key );\n                    }\n                    headerStream = false;\n                    System.out.println(\" ===== ----- Data ----- =====\");\n                } else {\n                    addCSVData(headers, columns );\n                }\n            }\n            inputStreamReader.close();\n            buffer.close();\n\n\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n    @SuppressWarnings(\"unchecked\")\n    public static void addCSVData( List&lt;String&gt; headers, String[] row ) {\n        if( headers.size() == row.length ) {\n            HashMap&lt;String,String&gt; mapObj = new HashMap&lt;String,String&gt;();\n            JSONObject jsonObj = new JSONObject();\n            for (int i = 0; i &lt; row.length; i++) {\n                mapObj.put(headers.get(i), row[i]);\n                jsonObj.put(headers.get(i), row[i]);\n            }\n            jsonArray.add(jsonObj);\n            listObjects.add(mapObj);\n        } else {\n            System.out.println(\"Avoiding the Row Data...\");\n        }\n    }\n}\n</code></pre>\n\n\n\n<p><code>json2Bson.csv</code> File data.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Key1    Key2    Key3\n11  21  31\n12  22  32\n13  23  33\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7357278,"reputation":189,"user_id":5601615,"display_name":"Zack Walton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647753560,"creation_date":1647753560,"answer_id":71544259,"question_id":6290261,"body_markdown":"Open the file in a text editor, navigate to **File &gt; Save As...** and choose **UTF-8** encoding, instead of **UTF-8 with BOM**.","title":"Java read file got a leading BOM [ &#239;&#187;&#191; ]","body":"<p>Open the file in a text editor, navigate to <strong>File &gt; Save As...</strong> and choose <strong>UTF-8</strong> encoding, instead of <strong>UTF-8 with BOM</strong>.</p>\n"}],"owner":{"account_id":87133,"reputation":15651,"user_id":241824,"accept_rate":82,"display_name":"Sawyer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8937,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":7,"score":7,"last_activity_date":1647753560,"creation_date":1307609396,"question_id":6290261,"body_markdown":"I am reading a file containing keywords line by line and found a strange problem.\r\nI hope lines that following each other if their contents are the same, they should be handled only once. Like \r\n\r\n    sony\r\n    sony\r\n\r\nonly the first one is getting processed.\r\nbut the problems is, java doesn&#39;t treat them as equals.\r\n\r\n    INFO: [, s, o, n, y]\r\n    INFO: [s, o, n, y]\r\nMy code looks like the following, where&#39;s the problem?\r\n\r\n\r\n        FileReader fileReader = new FileReader(&quot;some_file.txt&quot;);\r\n        BufferedReader bufferedReader = new BufferedReader(fileReader);\r\n        String prevLine = &quot;&quot;;\r\n        String strLine\r\n        while ((strLine = bufferedReader.readLine()) != null) {\r\n            logger.info(Arrays.toString(strLine.toCharArray()));\r\n        \tif(strLine.contentEquals(prevLine)){\r\n        \t\tlogger.info(&quot;Skipping the duplicate lines &quot; + strLine);\r\n        \t\tcontinue;\r\n        \t}\r\n        \tprevLine = strLine;\r\n        }\r\n\r\nUpdate:\r\n\r\nIt seems like there&#39;s leading a space in the first line, but actually not, and the `trim` approach doesn&#39;t work for me.  They&#39;re not the same:\r\n\r\n    INFO: [, s, o, n, y]\r\n    INFO: [ , s, o, n, y]\r\n\r\nI don&#39;t know what&#39;s the first Char added by java.\r\n\r\nSolved: the problem was solved with [BalusC&#39;s solution][1], thanks for pointing out it&#39;s BOM problem which helped me to find out the solution quickly.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1835430/byte-order-mark-screws-up-file-reading-in-java/1835577#1835577","title":"Java read file got a leading BOM [ &#239;&#187;&#191; ]","body":"<p>I am reading a file containing keywords line by line and found a strange problem.\nI hope lines that following each other if their contents are the same, they should be handled only once. Like </p>\n\n<pre><code>sony\nsony\n</code></pre>\n\n<p>only the first one is getting processed.\nbut the problems is, java doesn't treat them as equals.</p>\n\n<pre><code>INFO: [, s, o, n, y]\nINFO: [s, o, n, y]\n</code></pre>\n\n<p>My code looks like the following, where's the problem?</p>\n\n<pre><code>    FileReader fileReader = new FileReader(\"some_file.txt\");\n    BufferedReader bufferedReader = new BufferedReader(fileReader);\n    String prevLine = \"\";\n    String strLine\n    while ((strLine = bufferedReader.readLine()) != null) {\n        logger.info(Arrays.toString(strLine.toCharArray()));\n        if(strLine.contentEquals(prevLine)){\n            logger.info(\"Skipping the duplicate lines \" + strLine);\n            continue;\n        }\n        prevLine = strLine;\n    }\n</code></pre>\n\n<p>Update:</p>\n\n<p>It seems like there's leading a space in the first line, but actually not, and the <code>trim</code> approach doesn't work for me.  They're not the same:</p>\n\n<pre><code>INFO: [, s, o, n, y]\nINFO: [ , s, o, n, y]\n</code></pre>\n\n<p>I don't know what's the first Char added by java.</p>\n\n<p>Solved: the problem was solved with <a href=\"https://stackoverflow.com/questions/1835430/byte-order-mark-screws-up-file-reading-in-java/1835577#1835577\">BalusC's solution</a>, thanks for pointing out it's BOM problem which helped me to find out the solution quickly.</p>\n"},{"tags":["java","spring","spring-boot","pagination","spring-webclient"],"comments":[{"owner":{"account_id":10310871,"reputation":25632,"user_id":7606764,"display_name":"Andronicus"},"score":0,"creation_date":1584713156,"post_id":60775680,"comment_id":107528206,"body_markdown":"Can you paste `User` class?","body":"Can you paste <code>User</code> class?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1584713283,"post_id":60775680,"comment_id":107528261,"body_markdown":"You cannot pass the `Sort` like that. You have to deconstruct it and pass the individual arguments.","body":"You cannot pass the <code>Sort</code> like that. You have to deconstruct it and pass the individual arguments."},{"owner":{"account_id":3148181,"reputation":2993,"user_id":2662227,"accept_rate":79,"display_name":"Matt"},"score":0,"creation_date":1584714441,"post_id":60775680,"comment_id":107528791,"body_markdown":"@M.Deinum What am I to do after deconstructing it; just build a String array? Looking at the deconstructed Pageable in Swagger, it takes in `page`, `size`, and `sort`: https://i.imgur.com/5yn1F7M.png","body":"@M.Deinum What am I to do after deconstructing it; just build a String array? Looking at the deconstructed Pageable in Swagger, it takes in <code>page</code>, <code>size</code>, and <code>sort</code>: <a href=\"https://i.imgur.com/5yn1F7M.png\" rel=\"nofollow noreferrer\">i.imgur.com/5yn1F7M.png</a>"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1584715576,"post_id":60775680,"comment_id":107529357,"body_markdown":"Yes it takes a sort but you cannot simply put in a `Sort` as what happens is it will call `toString` which isn&#39;t a proper representation. What you should send is `sort=firstname_asc,lastname_desc` or whatever the fields are you are using.","body":"Yes it takes a sort but you cannot simply put in a <code>Sort</code> as what happens is it will call <code>toString</code> which isn&#39;t a proper representation. What you should send is <code>sort=firstname_asc,lastname_desc</code> or whatever the fields are you are using."},{"owner":{"account_id":3148181,"reputation":2993,"user_id":2662227,"accept_rate":79,"display_name":"Matt"},"score":0,"creation_date":1584715808,"post_id":60775680,"comment_id":107529492,"body_markdown":"Ah, okay. I tried deconstructing as a string like `[&quot;firstName, ASC&quot;]` but apparently it&#39;s space-sensitive even within array elements so was creating an additional property `ASC`. Sending as `[&quot;firstName,ASC&quot;]` worked though. &#175;\\\\_(ツ)_/&#175;","body":"Ah, okay. I tried deconstructing as a string like <code>[&quot;firstName, ASC&quot;]</code> but apparently it&#39;s space-sensitive even within array elements so was creating an additional property <code>ASC</code>. Sending as <code>[&quot;firstName,ASC&quot;]</code> worked though. &#175;\\_(ツ)_/&#175;"}],"answers":[{"tags":[],"owner":{"account_id":3148181,"reputation":2993,"user_id":2662227,"accept_rate":79,"display_name":"Matt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1587645178,"creation_date":1587645178,"answer_id":61387318,"question_id":60775680,"body_markdown":"As @M. Deinum mentioned, `Sort`&#39;s `toString()` doesn&#39;t produce a representation that can be directly serialized back into a `Sort` object, (and there is no such method on the object to do that).\r\n\r\nYou can convert it to the proper form like this:\r\n\r\n    List&lt;String&gt; sorts = new ArrayList&lt;&gt;();\r\n    sort.forEach(order -&gt; sorts.add(String.join(&quot;,&quot;, order.getProperty(), order.getDirection().toString())));\r\n    builder.queryParam(&quot;sort&quot;, sorts.toArray());\r\n\r\nThis produces the correct representation of `[&quot;propertyName,direction&quot;]`.","title":"Sort passed in Pageable to Spring controller appends direction to property name, causing a SQL error","body":"<p>As @M. Deinum mentioned, <code>Sort</code>'s <code>toString()</code> doesn't produce a representation that can be directly serialized back into a <code>Sort</code> object, (and there is no such method on the object to do that).</p>\n\n<p>You can convert it to the proper form like this:</p>\n\n<pre><code>List&lt;String&gt; sorts = new ArrayList&lt;&gt;();\nsort.forEach(order -&gt; sorts.add(String.join(\",\", order.getProperty(), order.getDirection().toString())));\nbuilder.queryParam(\"sort\", sorts.toArray());\n</code></pre>\n\n<p>This produces the correct representation of <code>[\"propertyName,direction\"]</code>.</p>\n"},{"tags":[],"owner":{"account_id":5763684,"reputation":81,"user_id":4549256,"display_name":"Janaka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647753483,"creation_date":1647753483,"answer_id":71544250,"question_id":60775680,"body_markdown":"Controller we can capture HttpServletRequest as follows\r\n\r\n    public ResponseEntity&lt;Page&lt;PriceBook&gt;&gt; getAll(HttpServletRequest servletRequest) {\r\n\r\n        return new ResponseEntity&lt;&gt;(priceBookService.findAll(servletRequest), HttpStatus.OK);\r\n\r\n    }\r\n\r\nuse queryString as follows to pass all request parameters to the backend service\r\n\r\n    public PageableResponse&lt;PriceBook&gt; getPbAllWithFilter(HttpServletRequest servletRequest) {\r\n\r\n        return webClient.get().uri(pbUrl.concat(&quot;?&quot;).concat(servletRequest.getQueryString()))\r\n                        .accept(MediaType.APPLICATION_JSON)\r\n                        .header(CORRELATION_ID, MDC.get(CORRELATION_ID_MDC))\r\n                        .exchange()\r\n                        .flatMap(this::getSubscriptionAll)\r\n                        .block();\r\n\r\n    }\r\n\r\n","title":"Sort passed in Pageable to Spring controller appends direction to property name, causing a SQL error","body":"<p>Controller we can capture HttpServletRequest as follows</p>\n<pre><code>public ResponseEntity&lt;Page&lt;PriceBook&gt;&gt; getAll(HttpServletRequest servletRequest) {\n\n    return new ResponseEntity&lt;&gt;(priceBookService.findAll(servletRequest), HttpStatus.OK);\n\n}\n</code></pre>\n<p>use queryString as follows to pass all request parameters to the backend service</p>\n<pre><code>public PageableResponse&lt;PriceBook&gt; getPbAllWithFilter(HttpServletRequest servletRequest) {\n\n    return webClient.get().uri(pbUrl.concat(&quot;?&quot;).concat(servletRequest.getQueryString()))\n                    .accept(MediaType.APPLICATION_JSON)\n                    .header(CORRELATION_ID, MDC.get(CORRELATION_ID_MDC))\n                    .exchange()\n                    .flatMap(this::getSubscriptionAll)\n                    .block();\n\n}\n</code></pre>\n"}],"owner":{"account_id":3148181,"reputation":2993,"user_id":2662227,"accept_rate":79,"display_name":"Matt"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1451,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61387318,"answer_count":2,"score":1,"last_activity_date":1647753483,"creation_date":1584712882,"question_id":60775680,"body_markdown":"I need to call a pageable endpoint in my Spring Boot app from another Spring Boot app. I&#39;m trying to pass the pageable options through from the first app to the second, but I&#39;m having an issue where the property name comes in as `firstName: ASC`. When the direction is appended to that, it becomes `firstName: ASC: ASC` which causes the JPA query to throw an exception.\r\n\r\nWhat&#39;s the proper way to pass the pageable options from my first endpoint to my second?\r\n\r\n**Calling app**\r\n```java\r\n@GetMapping(&quot;/v1/users&quot;)\r\n    public Flux&lt;User&gt; getUsersByAccount(@RequestParam Long accountId,\r\n                                        @PageableDefault(size = 10, sort = &quot;firstName&quot;) Pageable pageable) {\r\n        return userService.getUsersByAccount(accountId, pageable);\r\n}\r\n```\r\n\r\n```\r\npublic Flux&lt;User&gt; getUsersByAccount(Long accountId, Pageable pageable) {\r\n    int page = pageable.getPageNumber();\r\n    int size = pageable.getPageSize();\r\n    Sort sort = pageable.getSort();\r\n\r\n    return webClient.backendService()\r\n        .get().uri(builder -&gt; builder\r\n            .path(&quot;/rest/users&quot;)\r\n            .queryParam(&quot;accountId&quot;, accountId)\r\n            .queryParam(&quot;page&quot;, page)\r\n            .queryParam(&quot;size&quot;, size)\r\n            .queryParam(&quot;sort&quot;, sort)\r\n            .build())\r\n        .retrieve()\r\n        .bodyToFlux(ContactInfo.class);\r\n}\r\n```\r\n\r\nI am splitting the Pageable out into its components because I wasn&#39;t sure how to pass the whole object at once since it&#39;s not a named parameter in the second app. Note that at this point, the sort looks fine and appears as it should with `firstName` and `ASC` as separate values for property name and direction, respectively.\r\n\r\n**Called app**\r\n```java\r\n@GetMapping(&quot;/rest/users&quot;)\r\n    public List&lt;User&gt; getUsersByAccount(@RequestParam Long accountId, Pageable pageable) {\r\n        return userService.getUsersByAccount(accountId, pageable);\r\n}\r\n```","title":"Sort passed in Pageable to Spring controller appends direction to property name, causing a SQL error","body":"<p>I need to call a pageable endpoint in my Spring Boot app from another Spring Boot app. I'm trying to pass the pageable options through from the first app to the second, but I'm having an issue where the property name comes in as <code>firstName: ASC</code>. When the direction is appended to that, it becomes <code>firstName: ASC: ASC</code> which causes the JPA query to throw an exception.</p>\n\n<p>What's the proper way to pass the pageable options from my first endpoint to my second?</p>\n\n<p><strong>Calling app</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(\"/v1/users\")\n    public Flux&lt;User&gt; getUsersByAccount(@RequestParam Long accountId,\n                                        @PageableDefault(size = 10, sort = \"firstName\") Pageable pageable) {\n        return userService.getUsersByAccount(accountId, pageable);\n}\n</code></pre>\n\n<pre><code>public Flux&lt;User&gt; getUsersByAccount(Long accountId, Pageable pageable) {\n    int page = pageable.getPageNumber();\n    int size = pageable.getPageSize();\n    Sort sort = pageable.getSort();\n\n    return webClient.backendService()\n        .get().uri(builder -&gt; builder\n            .path(\"/rest/users\")\n            .queryParam(\"accountId\", accountId)\n            .queryParam(\"page\", page)\n            .queryParam(\"size\", size)\n            .queryParam(\"sort\", sort)\n            .build())\n        .retrieve()\n        .bodyToFlux(ContactInfo.class);\n}\n</code></pre>\n\n<p>I am splitting the Pageable out into its components because I wasn't sure how to pass the whole object at once since it's not a named parameter in the second app. Note that at this point, the sort looks fine and appears as it should with <code>firstName</code> and <code>ASC</code> as separate values for property name and direction, respectively.</p>\n\n<p><strong>Called app</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(\"/rest/users\")\n    public List&lt;User&gt; getUsersByAccount(@RequestParam Long accountId, Pageable pageable) {\n        return userService.getUsersByAccount(accountId, pageable);\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","animation","android-edittext"],"comments":[{"owner":{"account_id":426679,"reputation":6089,"user_id":808019,"accept_rate":73,"display_name":"peshkira"},"score":3,"creation_date":1646907177,"post_id":71422090,"comment_id":126241504,"body_markdown":"It looks like they have a complete custom content view and they draw everything themselves and they have implemented a custom animation with the Animator APIs.\n\nTake a look at [ChatActivity](https://raw.githubusercontent.com/TelegramOrg/Telegram-Android/master/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java) and the `checkAnimation` method.","body":"It looks like they have a complete custom content view and they draw everything themselves and they have implemented a custom animation with the Animator APIs.  Take a look at <a href=\"https://raw.githubusercontent.com/TelegramOrg/Telegram-Android/master/TMessagesProj/src/main/java/org/telegram/ui/ChatActivity.java\" rel=\"nofollow noreferrer\">ChatActivity</a> and the <code>checkAnimation</code> method."}],"answers":[{"tags":[],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647701618,"creation_date":1646907837,"answer_id":71422530,"question_id":71422090,"body_markdown":"It is very easy. I too added it in my chat app and it works like a charm. In your root layout, add this line:\r\n```\r\nandroid:animateLayoutChanges=&quot;true&quot;\r\n```\r\nThis will animate all the changes happening in the layout.\r\n\r\n### Edit\r\nIf that does not help, you can do this.\r\n```\r\nuserIdInput.setOnKeyListener(new View.OnKeyListener() {\r\n        public boolean onKey(View v, int keyCode, KeyEvent event) {\r\n            if ((keyCode == KeyEvent.KEYCODE_ENTER)  {\r\n\r\n           ValueAnimator anim = ValueAnimator.ofInt(edMESSAGE.getHeight() - 40, edMESSAGE.getHeight() + 40)\r\n                        .setDuration(500);\r\n                anim.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() {\r\n                    public void onAnimationUpdate(ValueAnimator animation) {\r\n                        edMESSAGE.getLayoutParams().height = (int)animation.getAnimatedValue();\r\n                        edMESSAGE.requestLayout();\r\n                    }\r\n                });\r\n                anim.start();\r\n\r\n            }\r\n            return false;\r\n\r\n        }\r\n\r\n    });\r\n```\r\n\r\nYou can call this method in `onKeyListener` and when the new line key is pressed, this code can be called.\r\n\r\n### Edit\r\nSometimes, while entering the text, it goes to new line. For animation this, we can do this:\r\n```\r\nchatInputET.addTextChangedListener(new TextWatcher() {\r\n  @Override\r\n  public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n    String string = s.toString();\r\n    if (string.length() &gt; 0 &amp;&amp; string.charAt(string.length() - 1) == &#39;\\n&#39;) {\r\n      ValueAnimator anim = ValueAnimator.ofInt(edMESSAGE.getHeight() - 40, edMESSAGE.getHeight() + 40)\r\n                        .setDuration(500);\r\n                anim.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() {\r\n                    public void onAnimationUpdate(ValueAnimator animation) {\r\n                        edMESSAGE.getLayoutParams().height = (int)animation.getAnimatedValue();\r\n                        edMESSAGE.requestLayout();\r\n                    }\r\n                });\r\n                anim.start();\r\n    }\r\n  }\r\n});\r\n```\r\n\r\nAnd for the backspace key, you can do this:\r\n```\r\ninputMessage.setOnKeyListener(new View.OnKeyListener() {\r\n        public boolean onKey(View v, int keyCode, KeyEvent event) {\r\n            String string = inputMessage.getText().toString();\r\n            if ((keyCode == KeyEvent.KEYCODE_DEL &amp;&amp; (string.length() &gt; 0 &amp;&amp; string.charAt(string.length() - 1))  {\r\n\r\n           ValueAnimator anim = ValueAnimator.ofInt(edMESSAGE.getHeight() + 40, edMESSAGE.getHeight() - 40)\r\n                        .setDuration(500);\r\n                anim.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() {\r\n                    public void onAnimationUpdate(ValueAnimator animation) {\r\n                        edMESSAGE.getLayoutParams().height = (int)animation.getAnimatedValue();\r\n                        edMESSAGE.requestLayout();\r\n                    }\r\n                });\r\n                anim.start();\r\n\r\n            }\r\n            return false;\r\n\r\n        }\r\n\r\n    });\r\n```\r\n","title":"Android EditText: Smooth expanding animation when new line is started","body":"<p>It is very easy. I too added it in my chat app and it works like a charm. In your root layout, add this line:</p>\n<pre><code>android:animateLayoutChanges=&quot;true&quot;\n</code></pre>\n<p>This will animate all the changes happening in the layout.</p>\n<h3>Edit</h3>\n<p>If that does not help, you can do this.</p>\n<pre><code>userIdInput.setOnKeyListener(new View.OnKeyListener() {\n        public boolean onKey(View v, int keyCode, KeyEvent event) {\n            if ((keyCode == KeyEvent.KEYCODE_ENTER)  {\n\n           ValueAnimator anim = ValueAnimator.ofInt(edMESSAGE.getHeight() - 40, edMESSAGE.getHeight() + 40)\n                        .setDuration(500);\n                anim.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() {\n                    public void onAnimationUpdate(ValueAnimator animation) {\n                        edMESSAGE.getLayoutParams().height = (int)animation.getAnimatedValue();\n                        edMESSAGE.requestLayout();\n                    }\n                });\n                anim.start();\n\n            }\n            return false;\n\n        }\n\n    });\n</code></pre>\n<p>You can call this method in <code>onKeyListener</code> and when the new line key is pressed, this code can be called.</p>\n<h3>Edit</h3>\n<p>Sometimes, while entering the text, it goes to new line. For animation this, we can do this:</p>\n<pre><code>chatInputET.addTextChangedListener(new TextWatcher() {\n  @Override\n  public void onTextChanged(CharSequence s, int start, int before, int count) {\n    String string = s.toString();\n    if (string.length() &gt; 0 &amp;&amp; string.charAt(string.length() - 1) == '\\n') {\n      ValueAnimator anim = ValueAnimator.ofInt(edMESSAGE.getHeight() - 40, edMESSAGE.getHeight() + 40)\n                        .setDuration(500);\n                anim.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() {\n                    public void onAnimationUpdate(ValueAnimator animation) {\n                        edMESSAGE.getLayoutParams().height = (int)animation.getAnimatedValue();\n                        edMESSAGE.requestLayout();\n                    }\n                });\n                anim.start();\n    }\n  }\n});\n</code></pre>\n<p>And for the backspace key, you can do this:</p>\n<pre><code>inputMessage.setOnKeyListener(new View.OnKeyListener() {\n        public boolean onKey(View v, int keyCode, KeyEvent event) {\n            String string = inputMessage.getText().toString();\n            if ((keyCode == KeyEvent.KEYCODE_DEL &amp;&amp; (string.length() &gt; 0 &amp;&amp; string.charAt(string.length() - 1))  {\n\n           ValueAnimator anim = ValueAnimator.ofInt(edMESSAGE.getHeight() + 40, edMESSAGE.getHeight() - 40)\n                        .setDuration(500);\n                anim.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() {\n                    public void onAnimationUpdate(ValueAnimator animation) {\n                        edMESSAGE.getLayoutParams().height = (int)animation.getAnimatedValue();\n                        edMESSAGE.requestLayout();\n                    }\n                });\n                anim.start();\n\n            }\n            return false;\n\n        }\n\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647752878,"creation_date":1647752878,"answer_id":71544197,"question_id":71422090,"body_markdown":"If the above answer does not work, you can use this:\r\n```\r\nbinding.message.addTextChangedListener(new TextWatcher() {\r\n            int linesCount = 0;\r\n            @Override\r\n            public void beforeTextChanged(CharSequence s, int start, int count, int after) {\r\n            }\r\n\r\n            @Override\r\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n                if (s.toString().length() == 0){\r\n                    binding.message.getLayoutParams().height = defEditTextHeight;\r\n                    linesCount = binding.message.getLineCount();\r\n                    return;\r\n                }\r\n                if (linesCount == 0){\r\n                    linesCount = binding.message.getLineCount();\r\n                    binding.message.getLayoutParams().height = defEditTextHeight;\r\n                    return;\r\n                }\r\n                if (linesCount &lt; binding.message.getLineCount()) {\r\n                    ValueAnimator anim = ValueAnimator.ofInt(binding.message.getHeight(), binding.message.getHeight() + 60)\r\n                            .setDuration(250);\r\n                    anim.addUpdateListener(animation -&gt; {\r\n                        binding.message.getLayoutParams().height = (int) animation.getAnimatedValue();\r\n                        binding.message.requestLayout();\r\n                    });\r\n                    anim.start();\r\n                }else if( linesCount &gt; binding.message.getLineCount()){\r\n                    ValueAnimator anim = ValueAnimator.ofInt(binding.message.getHeight(), binding.message.getHeight() - 60)\r\n                            .setDuration(250);\r\n                    anim.addUpdateListener(animation -&gt; {\r\n                        binding.message.getLayoutParams().height = (int) animation.getAnimatedValue();\r\n                        binding.message.requestLayout();\r\n                    });\r\n                    anim.start();\r\n                }\r\n                linesCount = binding.message.getLineCount();\r\n            }\r\n\r\n            @Override\r\n            public void afterTextChanged(Editable s) {\r\n\r\n            }\r\n        });\r\n```\r\n\r\nWhere `defEditTextHeight` is the default height of the edit text fetched like this:\r\n```\r\ndefEditTextHeight = binding.message.getHeight();\r\n```\r\n\r\nHope It helps &#128578;","title":"Android EditText: Smooth expanding animation when new line is started","body":"<p>If the above answer does not work, you can use this:</p>\n<pre><code>binding.message.addTextChangedListener(new TextWatcher() {\n            int linesCount = 0;\n            @Override\n            public void beforeTextChanged(CharSequence s, int start, int count, int after) {\n            }\n\n            @Override\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\n                if (s.toString().length() == 0){\n                    binding.message.getLayoutParams().height = defEditTextHeight;\n                    linesCount = binding.message.getLineCount();\n                    return;\n                }\n                if (linesCount == 0){\n                    linesCount = binding.message.getLineCount();\n                    binding.message.getLayoutParams().height = defEditTextHeight;\n                    return;\n                }\n                if (linesCount &lt; binding.message.getLineCount()) {\n                    ValueAnimator anim = ValueAnimator.ofInt(binding.message.getHeight(), binding.message.getHeight() + 60)\n                            .setDuration(250);\n                    anim.addUpdateListener(animation -&gt; {\n                        binding.message.getLayoutParams().height = (int) animation.getAnimatedValue();\n                        binding.message.requestLayout();\n                    });\n                    anim.start();\n                }else if( linesCount &gt; binding.message.getLineCount()){\n                    ValueAnimator anim = ValueAnimator.ofInt(binding.message.getHeight(), binding.message.getHeight() - 60)\n                            .setDuration(250);\n                    anim.addUpdateListener(animation -&gt; {\n                        binding.message.getLayoutParams().height = (int) animation.getAnimatedValue();\n                        binding.message.requestLayout();\n                    });\n                    anim.start();\n                }\n                linesCount = binding.message.getLineCount();\n            }\n\n            @Override\n            public void afterTextChanged(Editable s) {\n\n            }\n        });\n</code></pre>\n<p>Where <code>defEditTextHeight</code> is the default height of the edit text fetched like this:</p>\n<pre><code>defEditTextHeight = binding.message.getHeight();\n</code></pre>\n<p>Hope It helps 🙂</p>\n"}],"owner":{"account_id":16914364,"reputation":1806,"user_id":12232720,"display_name":"mathematics-and-caffeine"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":539,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1647752878,"creation_date":1646905907,"question_id":71422090,"body_markdown":"I have noticed that Telegram has a smooth animation in their chat EditText when a new line is inserted / started.\r\n\r\nBelow I have two GIFs. The first is Telegram, the second is my app. \r\n\r\n[![Telegram EditText][1]][1]\r\n\r\n[![My EditText][2]][2]\r\n\r\n---\r\n\r\nHow can you achieve such an animation effect?\r\n\r\nI tried to google it, but I didn&#39;t find anything. I know Telegram is open source, I tried to find out from their GitHub, but I couldn&#39;t find what gives the EditText this smooth animation.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IkcQk.gif\r\n  [2]: https://i.stack.imgur.com/G9SVw.gif","title":"Android EditText: Smooth expanding animation when new line is started","body":"<p>I have noticed that Telegram has a smooth animation in their chat EditText when a new line is inserted / started.</p>\n<p>Below I have two GIFs. The first is Telegram, the second is my app.</p>\n<p><a href=\"https://i.stack.imgur.com/IkcQk.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IkcQk.gif\" alt=\"Telegram EditText\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/G9SVw.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G9SVw.gif\" alt=\"My EditText\" /></a></p>\n<hr />\n<p>How can you achieve such an animation effect?</p>\n<p>I tried to google it, but I didn't find anything. I know Telegram is open source, I tried to find out from their GitHub, but I couldn't find what gives the EditText this smooth animation.</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":2258060,"reputation":3689,"user_id":1988798,"accept_rate":83,"display_name":"Gaurav"},"score":0,"creation_date":1647767131,"post_id":71544186,"comment_id":126449734,"body_markdown":"Hi Alex. I think this would require contents of JwtAuthenticationFilter and JWTUtil also to be able to decide what is wrong.","body":"Hi Alex. I think this would require contents of JwtAuthenticationFilter and JWTUtil also to be able to decide what is wrong."},{"owner":{"account_id":15841746,"reputation":6011,"user_id":11430047,"display_name":"Eleftheria Stein-Kousathana"},"score":0,"creation_date":1648115176,"post_id":71544186,"comment_id":126544149,"body_markdown":"Note that Spring Security has build in support for JWT authentication, so there is no need to create your own. You can check out a sample [here](https://github.com/spring-projects/spring-security-samples/tree/main/servlet/spring-boot/java/jwt/login) .","body":"Note that Spring Security has build in support for JWT authentication, so there is no need to create your own. You can check out a sample <a href=\"https://github.com/spring-projects/spring-security-samples/tree/main/servlet/spring-boot/java/jwt/login\" rel=\"nofollow noreferrer\">here</a> ."}],"owner":{"account_id":17995175,"reputation":169,"user_id":13078398,"display_name":"Alex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":527,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647752722,"creation_date":1647752722,"question_id":71544186,"body_markdown":"I want to require authentication for my endpoints that start with &quot;/chat/...&quot; (on GET requisitions). I have done some basic configuration but it doesn&#39;t seem to be working. Even after authenticating a user and using its generated JWT Token, Postman still returns code 403 (Forbidden) for me. What could I be doing wrong?\r\n\r\nMy SecurityConfig class:\r\n\r\n```\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.core.env.Environment;\r\nimport org.springframework.http.HttpMethod;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.web.cors.CorsConfiguration;\r\nimport org.springframework.web.cors.CorsConfigurationSource;\r\nimport org.springframework.web.cors.UrlBasedCorsConfigurationSource;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    private UserDetailsService userDetailsService;\r\n\r\n    @Autowired\r\n    private Environment env;\r\n\r\n    @Autowired\r\n    private JWTUtil jwtUtil;\r\n\r\n    private static final String[] PUBLIC_MATCHERS_GET = {\r\n            &quot;/usuarios/**&quot;,\r\n    };\r\n\r\n    private static final String[] PUBLIC_MATCHERS = {\r\n            &quot;/login/**&quot;\r\n    };\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n\r\n        http.cors().and().csrf().disable();\r\n        http.authorizeRequests()\r\n                .antMatchers(HttpMethod.GET, PUBLIC_MATCHERS_GET).permitAll()\r\n                .antMatchers(PUBLIC_MATCHERS).permitAll()\r\n                .antMatchers(HttpMethod.GET, &quot;/chat/**&quot;).authenticated()\r\n                .anyRequest().authenticated();\r\n        http.addFilter(new JWTAuthenticationFilter(authenticationManager(), jwtUtil));\r\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n    }\r\n\r\n    @Override\r\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder());\r\n    }\r\n\r\n    @Bean\r\n    CorsConfigurationSource corsConfigurationSource() {\r\n        final UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, new CorsConfiguration().applyPermitDefaultValues());\r\n        return source;\r\n    }\r\n\r\n    @Bean\r\n    public BCryptPasswordEncoder bCryptPasswordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n}\r\n```\r\nMy ChatController class:\r\n```\r\nimport com.example.chatonline.domain.Mensagem;\r\nimport com.example.chatonline.domain.Usuario;\r\nimport com.example.chatonline.services.ChatService;\r\nimport com.example.chatonline.services.UsuarioService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.security.access.prepost.PreAuthorize;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.List;\r\n\r\n@RestController\r\n@RequestMapping(value = &quot;/chat&quot;)\r\npublic class ChatController {\r\n\r\n    @Autowired\r\n    private ChatService chatService;\r\n\r\n    @Autowired\r\n    UsuarioService usuarioService;\r\n\r\n    @PreAuthorize(&quot;isAuthenticated()&quot;)\r\n    @GetMapping(value = &quot;/usuarios&quot;)\r\n    public ResponseEntity&lt;List&lt;Usuario&gt;&gt; findOnlineUsers(){\r\n        List&lt;Usuario&gt; usuarios = usuarioService.findByOnlineUsers();\r\n\r\n        return ResponseEntity.ok().body(usuarios);\r\n    }\r\n\r\n    @PreAuthorize(&quot;isAuthenticated()&quot;)\r\n    @GetMapping(value = &quot;/mensagens&quot;)\r\n    public ResponseEntity&lt;List&lt;Mensagem&gt;&gt; findMessages(){\r\n        List&lt;Mensagem&gt; obj = chatService.findMessages();\r\n        return ResponseEntity.ok().body(obj);\r\n    }\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;Void&gt; insertMessage(@RequestBody Mensagem obj){\r\n        obj = chatService.insertMessage(obj);\r\n\r\n        return ResponseEntity.status(HttpStatus.CREATED).build();\r\n    }\r\n\r\n    @RequestMapping(value = &quot;/mensagens/{id}&quot;, method = RequestMethod.DELETE)\r\n    public ResponseEntity&lt;Void&gt; deleteMessage(@PathVariable Integer id){\r\n        chatService.deleteMessage(id);\r\n\r\n        return ResponseEntity.noContent().build();\r\n    }\r\n}\r\n```","title":"Can&#39;t require authentication for a specific endpoint using Spring Security","body":"<p>I want to require authentication for my endpoints that start with &quot;/chat/...&quot; (on GET requisitions). I have done some basic configuration but it doesn't seem to be working. Even after authenticating a user and using its generated JWT Token, Postman still returns code 403 (Forbidden) for me. What could I be doing wrong?</p>\n<p>My SecurityConfig class:</p>\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.env.Environment;\nimport org.springframework.http.HttpMethod;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.web.cors.CorsConfiguration;\nimport org.springframework.web.cors.CorsConfigurationSource;\nimport org.springframework.web.cors.UrlBasedCorsConfigurationSource;\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private UserDetailsService userDetailsService;\n\n    @Autowired\n    private Environment env;\n\n    @Autowired\n    private JWTUtil jwtUtil;\n\n    private static final String[] PUBLIC_MATCHERS_GET = {\n            &quot;/usuarios/**&quot;,\n    };\n\n    private static final String[] PUBLIC_MATCHERS = {\n            &quot;/login/**&quot;\n    };\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n\n        http.cors().and().csrf().disable();\n        http.authorizeRequests()\n                .antMatchers(HttpMethod.GET, PUBLIC_MATCHERS_GET).permitAll()\n                .antMatchers(PUBLIC_MATCHERS).permitAll()\n                .antMatchers(HttpMethod.GET, &quot;/chat/**&quot;).authenticated()\n                .anyRequest().authenticated();\n        http.addFilter(new JWTAuthenticationFilter(authenticationManager(), jwtUtil));\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n    }\n\n    @Override\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder());\n    }\n\n    @Bean\n    CorsConfigurationSource corsConfigurationSource() {\n        final UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, new CorsConfiguration().applyPermitDefaultValues());\n        return source;\n    }\n\n    @Bean\n    public BCryptPasswordEncoder bCryptPasswordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n}\n</code></pre>\n<p>My ChatController class:</p>\n<pre><code>import com.example.chatonline.domain.Mensagem;\nimport com.example.chatonline.domain.Usuario;\nimport com.example.chatonline.services.ChatService;\nimport com.example.chatonline.services.UsuarioService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.security.access.prepost.PreAuthorize;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\n\n@RestController\n@RequestMapping(value = &quot;/chat&quot;)\npublic class ChatController {\n\n    @Autowired\n    private ChatService chatService;\n\n    @Autowired\n    UsuarioService usuarioService;\n\n    @PreAuthorize(&quot;isAuthenticated()&quot;)\n    @GetMapping(value = &quot;/usuarios&quot;)\n    public ResponseEntity&lt;List&lt;Usuario&gt;&gt; findOnlineUsers(){\n        List&lt;Usuario&gt; usuarios = usuarioService.findByOnlineUsers();\n\n        return ResponseEntity.ok().body(usuarios);\n    }\n\n    @PreAuthorize(&quot;isAuthenticated()&quot;)\n    @GetMapping(value = &quot;/mensagens&quot;)\n    public ResponseEntity&lt;List&lt;Mensagem&gt;&gt; findMessages(){\n        List&lt;Mensagem&gt; obj = chatService.findMessages();\n        return ResponseEntity.ok().body(obj);\n    }\n\n    @PostMapping\n    public ResponseEntity&lt;Void&gt; insertMessage(@RequestBody Mensagem obj){\n        obj = chatService.insertMessage(obj);\n\n        return ResponseEntity.status(HttpStatus.CREATED).build();\n    }\n\n    @RequestMapping(value = &quot;/mensagens/{id}&quot;, method = RequestMethod.DELETE)\n    public ResponseEntity&lt;Void&gt; deleteMessage(@PathVariable Integer id){\n        chatService.deleteMessage(id);\n\n        return ResponseEntity.noContent().build();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1499432545,"post_id":44971320,"comment_id":76917551,"body_markdown":"Then don&#39;t commit it... Instead of working around the framework, work with the framework. Either provide the password as a parameter when starting the application, or put in an `application.properties` next to the jar or set is as an environment variable. See the [reference guide](https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html) on how and where you can read properties from.","body":"Then don&#39;t commit it... Instead of working around the framework, work with the framework. Either provide the password as a parameter when starting the application, or put in an <code>application.properties</code> next to the jar or set is as an environment variable. See the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html\" rel=\"nofollow noreferrer\">reference guide</a> on how and where you can read properties from."}],"answers":[{"tags":[],"owner":{"account_id":9104891,"reputation":934,"user_id":6775742,"accept_rate":60,"display_name":"T Anna"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1499433794,"creation_date":1499433794,"answer_id":44971911,"question_id":44971320,"body_markdown":"You can give properties like below :\r\n\r\n`datasource.local.url=\r\ndatasource.local.driver-class-name=\r\ndatasource.local.username=\r\ndatasource.local.password=`\r\n\r\nCreate a configuration class:\r\n\r\n   \r\n\r\n    @Configuration\r\n       @ConfigurationProperties(&quot;datasource.local&quot;)\r\n       @EnableJpaRepositories(\r\n            basePackages = &quot;com...&quot;,\r\n            transactionManagerRef = &quot;localTransactionManager&quot;,\r\n            entityManagerFactoryRef = &quot;localEntityManagerFactory&quot;\r\n        )\r\n        public class OracleConfiguration {\r\n        @NotNull\r\n        private String username;\r\n        @NotNull\r\n        private String password;\r\n     \r\n        @NotNull\r\n        private String url;\r\n        \r\n        private String driverClassName;\r\n       \r\n     \r\n        public void setUsername(String username) {\r\n            this.username = username;\r\n        }\r\n     \r\n        public void setPassword(String password) {\r\n            this.password = password;\r\n        }\r\n     \r\n        public void setUrl(String url) {\r\n            this.url = url;\r\n        }\r\n     \r\n        @Bean\r\n        DataSource localDataSource() throws SQLException {\r\n     \r\n        \t return DataSourceBuilder\r\n                     .create()\r\n                     .url(this.url)\r\n                     .username(this.username)\r\n                     .password(this.password)\r\n                     .driverClassName(this.driverClassName)\r\n                     .build();\r\n        }\r\n        \r\n        public String getDriverClassName() {\r\n            return driverClassName;\r\n        }\r\n    \r\n        public void setDriverClassName(String driverClassName) {\r\n            this.driverClassName = driverClassName;\r\n        }\r\n        \r\n        @Bean\r\n        @Autowired\r\n        public PlatformTransactionManager localTransactionManager(@Qualifier(&quot;localEntityManagerFactory&quot;)\r\n                                                                              EntityManagerFactory entityManagerFactory) {\r\n            return new JpaTransactionManager(entityManagerFactory);\r\n        }\r\n    \r\n        @Bean\r\n        @Autowired\r\n        public LocalContainerEntityManagerFactoryBean localEntityManagerFactory(@Qualifier(&quot;localDataSource&quot;)DataSource dataSource) {\r\n    \r\n            HibernateJpaVendorAdapter jpaVendorAdapter = new HibernateJpaVendorAdapter();\r\n    \r\n            LocalContainerEntityManagerFactoryBean factoryBean = new LocalContainerEntityManagerFactoryBean();\r\n    \r\n            factoryBean.setDataSource(dataSource);\r\n            factoryBean.setJpaVendorAdapter(jpaVendorAdapter);\r\n            factoryBean.setPackagesToScan(&quot;com...&quot;);\r\n    \r\n            return factoryBean;\r\n        }\r\n        @Bean\r\n    \t@Autowired\r\n    \tpublic JdbcTemplate localJdbcTemplate(@Qualifier(&quot;localDataSource&quot;)DataSource dataSource) {\r\n    \t        return new JdbcTemplate(dataSource);\r\n    \t    }}\r\n\r\nIn your main application class, include this Configuration file:\r\n\r\n    @SpringBootApplication(exclude = { DataSourceAutoConfiguration.class, HibernateJpaAutoConfiguration.class,\r\n    \t\tDataSourceTransactionManagerAutoConfiguration.class })\r\n    @EnableTransactionManagement\r\n    @Import({ OracleConfiguration.class})\r\n    public class MyApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(MyApplication.class, args);\r\n    \t}}\r\n\r\nThen in your class where you need to inject the template:\r\n\r\n    @Autowired\r\n    \tprivate JdbcTemplate localJdbcTemplate;\r\n\r\n\t\r\n","title":"How do I manually configure a JdbcTemplate in Spring Boot?","body":"<p>You can give properties like below :</p>\n\n<p><code>datasource.local.url=\ndatasource.local.driver-class-name=\ndatasource.local.username=\ndatasource.local.password=</code></p>\n\n<p>Create a configuration class:</p>\n\n<pre><code>@Configuration\n   @ConfigurationProperties(\"datasource.local\")\n   @EnableJpaRepositories(\n        basePackages = \"com...\",\n        transactionManagerRef = \"localTransactionManager\",\n        entityManagerFactoryRef = \"localEntityManagerFactory\"\n    )\n    public class OracleConfiguration {\n    @NotNull\n    private String username;\n    @NotNull\n    private String password;\n\n    @NotNull\n    private String url;\n\n    private String driverClassName;\n\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public void setUrl(String url) {\n        this.url = url;\n    }\n\n    @Bean\n    DataSource localDataSource() throws SQLException {\n\n         return DataSourceBuilder\n                 .create()\n                 .url(this.url)\n                 .username(this.username)\n                 .password(this.password)\n                 .driverClassName(this.driverClassName)\n                 .build();\n    }\n\n    public String getDriverClassName() {\n        return driverClassName;\n    }\n\n    public void setDriverClassName(String driverClassName) {\n        this.driverClassName = driverClassName;\n    }\n\n    @Bean\n    @Autowired\n    public PlatformTransactionManager localTransactionManager(@Qualifier(\"localEntityManagerFactory\")\n                                                                          EntityManagerFactory entityManagerFactory) {\n        return new JpaTransactionManager(entityManagerFactory);\n    }\n\n    @Bean\n    @Autowired\n    public LocalContainerEntityManagerFactoryBean localEntityManagerFactory(@Qualifier(\"localDataSource\")DataSource dataSource) {\n\n        HibernateJpaVendorAdapter jpaVendorAdapter = new HibernateJpaVendorAdapter();\n\n        LocalContainerEntityManagerFactoryBean factoryBean = new LocalContainerEntityManagerFactoryBean();\n\n        factoryBean.setDataSource(dataSource);\n        factoryBean.setJpaVendorAdapter(jpaVendorAdapter);\n        factoryBean.setPackagesToScan(\"com...\");\n\n        return factoryBean;\n    }\n    @Bean\n    @Autowired\n    public JdbcTemplate localJdbcTemplate(@Qualifier(\"localDataSource\")DataSource dataSource) {\n            return new JdbcTemplate(dataSource);\n        }}\n</code></pre>\n\n<p>In your main application class, include this Configuration file:</p>\n\n<pre><code>@SpringBootApplication(exclude = { DataSourceAutoConfiguration.class, HibernateJpaAutoConfiguration.class,\n        DataSourceTransactionManagerAutoConfiguration.class })\n@EnableTransactionManagement\n@Import({ OracleConfiguration.class})\npublic class MyApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MyApplication.class, args);\n    }}\n</code></pre>\n\n<p>Then in your class where you need to inject the template:</p>\n\n<pre><code>@Autowired\n    private JdbcTemplate localJdbcTemplate;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5230492,"reputation":3451,"user_id":4181015,"display_name":"Bohdan Levchenko"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1499435560,"creation_date":1499435560,"answer_id":44972580,"question_id":44971320,"body_markdown":"Just declare a `JdbcTemplate` bean:\r\n\r\n    @Bean\r\n\tJdbcTemplate jdbcTemplate() throws IllegalAccessException, InvocationTargetException, InstantiationException {\r\n\t\t// extract this 4 parameters using your own logic\r\n\t\tfinal String driverClassName = &quot;org.h2.Driver&quot;;\r\n\t\tfinal String jdbcUrl = &quot;jdbc:h2:mem:test&quot;;\r\n\t\tfinal String username = &quot;sa&quot;;\r\n\t\tfinal String password = &quot;&quot;;\r\n\t\t// Build dataSource manually:\r\n\t\tfinal Class&lt;?&gt; driverClass = ClassUtils.resolveClassName(driverClassName, this.getClass().getClassLoader());\r\n\t\tfinal Driver driver = (Driver) ClassUtils.getConstructorIfAvailable(driverClass).newInstance();\r\n\t\tfinal DataSource dataSource = new SimpleDriverDataSource(driver, jdbcUrl, username, password);\r\n\t\t// or using DataSourceBuilder:\r\n\t\tfinal DataSource dataSource = DataSourceBuilder.create().driverClassName(driverClassName).url(jdbcUrl).username(username).password(password).build();\r\n        // and make the jdbcTemplate\r\n\t\treturn new JdbcTemplate(dataSource);\r\n\t}\r\n\r\nAnother way is not to setup datasource parameters in your `application.properties` file, but to declare it on runtime instead. When you&#39;re running your app you can override any properties defined within `application.properties` or define a new ones.\r\n\r\nFor example:\r\n\r\n`java -jar my-spring-boot-app.jar --spring.datasource.url=jdbc:h2:mem:test --spring.datasource.username=sa --spring.datasource.password=secret`\r\n\r\nThe more sophisticated way is to use [spring-cloud-config-server][1] or [Consul][2] for managing your settings.\r\n\r\n\r\n  [1]: https://cloud.spring.io/spring-cloud-config/spring-cloud-config.html\r\n  [2]: https://www.consul.io/","title":"How do I manually configure a JdbcTemplate in Spring Boot?","body":"<p>Just declare a <code>JdbcTemplate</code> bean:</p>\n\n<pre><code>@Bean\nJdbcTemplate jdbcTemplate() throws IllegalAccessException, InvocationTargetException, InstantiationException {\n    // extract this 4 parameters using your own logic\n    final String driverClassName = \"org.h2.Driver\";\n    final String jdbcUrl = \"jdbc:h2:mem:test\";\n    final String username = \"sa\";\n    final String password = \"\";\n    // Build dataSource manually:\n    final Class&lt;?&gt; driverClass = ClassUtils.resolveClassName(driverClassName, this.getClass().getClassLoader());\n    final Driver driver = (Driver) ClassUtils.getConstructorIfAvailable(driverClass).newInstance();\n    final DataSource dataSource = new SimpleDriverDataSource(driver, jdbcUrl, username, password);\n    // or using DataSourceBuilder:\n    final DataSource dataSource = DataSourceBuilder.create().driverClassName(driverClassName).url(jdbcUrl).username(username).password(password).build();\n    // and make the jdbcTemplate\n    return new JdbcTemplate(dataSource);\n}\n</code></pre>\n\n<p>Another way is not to setup datasource parameters in your <code>application.properties</code> file, but to declare it on runtime instead. When you're running your app you can override any properties defined within <code>application.properties</code> or define a new ones.</p>\n\n<p>For example:</p>\n\n<p><code>java -jar my-spring-boot-app.jar --spring.datasource.url=jdbc:h2:mem:test --spring.datasource.username=sa --spring.datasource.password=secret</code></p>\n\n<p>The more sophisticated way is to use <a href=\"https://cloud.spring.io/spring-cloud-config/spring-cloud-config.html\" rel=\"noreferrer\">spring-cloud-config-server</a> or <a href=\"https://www.consul.io/\" rel=\"noreferrer\">Consul</a> for managing your settings.</p>\n"}],"owner":{"account_id":3933972,"reputation":1223,"user_id":3251199,"accept_rate":73,"display_name":"nicholas79171"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25301,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":44972580,"answer_count":2,"score":9,"last_activity_date":1647751828,"creation_date":1499432115,"question_id":44971320,"body_markdown":"Here&#39;s my basic DAO implementation class:\r\n\r\n    @Repository\r\n    public class MeetingDaoImpl implements MeetingDao {\r\n\r\n      @Autowired\r\n      JdbcTemplate jdbcTemplate;\r\n\r\n      public boolean insertNewMeeting(String initials, String meetingId, int numYears) {\r\n            \r\n        int numRowsAffected = jdbcTemplate.update(SQLConstants.INSERT_NEW_MEETING,\r\n            new Object[] {initials.toLowerCase(), meetingId, numYears});\r\n        \r\n        return numRowsAffected &gt; 0;\r\n\r\n      }\r\n    }\r\n\r\nThe `jdbcTemplate` automatically reads the `spring.datasource` properties from my `application.properties` file, which is great, but it includes my DB password which is something I don&#39;t want to commit. Instead, I&#39;d like to read it from a local `server.properties` file instead which I can easily read from a Java class. \r\n\r\nIs there a way to configure the `jdbcTemplate` with Java? I&#39;ve seen multiple examples using a bean and XML, but none with Java.","title":"How do I manually configure a JdbcTemplate in Spring Boot?","body":"<p>Here's my basic DAO implementation class:</p>\n\n<pre><code>@Repository\npublic class MeetingDaoImpl implements MeetingDao {\n\n  @Autowired\n  JdbcTemplate jdbcTemplate;\n\n  public boolean insertNewMeeting(String initials, String meetingId, int numYears) {\n\n    int numRowsAffected = jdbcTemplate.update(SQLConstants.INSERT_NEW_MEETING,\n        new Object[] {initials.toLowerCase(), meetingId, numYears});\n\n    return numRowsAffected &gt; 0;\n\n  }\n}\n</code></pre>\n\n<p>The <code>jdbcTemplate</code> automatically reads the <code>spring.datasource</code> properties from my <code>application.properties</code> file, which is great, but it includes my DB password which is something I don't want to commit. Instead, I'd like to read it from a local <code>server.properties</code> file instead which I can easily read from a Java class. </p>\n\n<p>Is there a way to configure the <code>jdbcTemplate</code> with Java? I've seen multiple examples using a bean and XML, but none with Java.</p>\n"},{"tags":["java","servlets"],"answers":[{"tags":[],"owner":{"account_id":185700,"reputation":91879,"user_id":422597,"display_name":"Colin Hebert"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1647751457,"creation_date":1287089548,"answer_id":3937465,"question_id":3937430,"body_markdown":"You can use a [`ServletContextListener`][1] and perform calculation from there.\r\n\r\n---\r\nThe class file : \r\n\r\n    public final class YourListener implements ServletContextListener {\r\n        @Override\r\n        public void contextInitialized(ServletContextEvent event) {\r\n            ServletContext context = event.getServletContext();\r\n            //Calculation goes here\r\n        }\r\n    \r\n        @Override\r\n        public void contextDestroyed(ServletContextEvent event) {\r\n            //Nothing to do\r\n        }\r\n    }\r\n\r\nweb.xml :\r\n\r\n    &lt;web-app&gt;\r\n        &lt;!-- ... --&gt;\r\n        &lt;listener&gt;\r\n            &lt;listener-class&gt;ext.company.project.listener.YourListener&lt;/listener-class&gt;\r\n        &lt;/listener&gt;\r\n        &lt;!-- ... --&gt;\r\n    &lt;/wep-app&gt;\r\n\r\nAlternatively, instead of that entry in web.xml file, you can annotate your `ServletContextListener` class with `@WebListener` in later versions of the Servlet spec. The Servlet container will automatically detect, load, and execute your listener class.\r\n\r\n---\r\n\r\n**Resources :**\r\n\r\n - [oracle.com - Servlet Life Cycle][2]\r\n\r\n\r\n  [1]: http://download.oracle.com/javaee/6/api/javax/servlet/ServletContextListener.html\r\n  [2]: http://download.oracle.com/javaee/5/tutorial/doc/bnafi.html\r\n","title":"servlet stores list in servlet context","body":"<p>You can use a <a href=\"http://download.oracle.com/javaee/6/api/javax/servlet/ServletContextListener.html\" rel=\"nofollow noreferrer\"><code>ServletContextListener</code></a> and perform calculation from there.</p>\n<hr />\n<p>The class file :</p>\n<pre><code>public final class YourListener implements ServletContextListener {\n    @Override\n    public void contextInitialized(ServletContextEvent event) {\n        ServletContext context = event.getServletContext();\n        //Calculation goes here\n    }\n\n    @Override\n    public void contextDestroyed(ServletContextEvent event) {\n        //Nothing to do\n    }\n}\n</code></pre>\n<p>web.xml :</p>\n<pre><code>&lt;web-app&gt;\n    &lt;!-- ... --&gt;\n    &lt;listener&gt;\n        &lt;listener-class&gt;ext.company.project.listener.YourListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n    &lt;!-- ... --&gt;\n&lt;/wep-app&gt;\n</code></pre>\n<p>Alternatively, instead of that entry in web.xml file, you can annotate your <code>ServletContextListener</code> class with <code>@WebListener</code> in later versions of the Servlet spec. The Servlet container will automatically detect, load, and execute your listener class.</p>\n<hr />\n<p><strong>Resources :</strong></p>\n<ul>\n<li><a href=\"http://download.oracle.com/javaee/5/tutorial/doc/bnafi.html\" rel=\"nofollow noreferrer\">oracle.com - Servlet Life Cycle</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":42033,"reputation":33240,"user_id":122313,"accept_rate":63,"display_name":"Aaron Saunders"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1287090045,"creation_date":1287090045,"answer_id":3937536,"question_id":3937430,"body_markdown":"in your main servlet initialization method\r\n\r\n    public void init(ServletConfig config) throws ServletException {\r\n    \tsuper.init(config);\r\n    \t\r\n    \t// do calculations\r\n        ArrayList resultsList = calculate_something();\r\n\r\n        // save for other servlets\r\n    \tconfig.getServletContext().setAttribute(&quot;SAVED_DATA&quot;, resultsList);\r\n    }\r\n\r\nin the other servlets\r\n\r\n    // retrieving value from ServletContext\r\n    ArrayList list = (ArrayList)getServletContext().getAttribute(&quot;SAVED_DATA&quot;);\r\n\r\n","title":"servlet stores list in servlet context","body":"<p>in your main servlet initialization method</p>\n\n<pre><code>public void init(ServletConfig config) throws ServletException {\n    super.init(config);\n\n    // do calculations\n    ArrayList resultsList = calculate_something();\n\n    // save for other servlets\n    config.getServletContext().setAttribute(\"SAVED_DATA\", resultsList);\n}\n</code></pre>\n\n<p>in the other servlets</p>\n\n<pre><code>// retrieving value from ServletContext\nArrayList list = (ArrayList)getServletContext().getAttribute(\"SAVED_DATA\");\n</code></pre>\n"}],"owner":{"account_id":158587,"reputation":2939,"user_id":377337,"accept_rate":76,"display_name":"i_raqz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":3937465,"answer_count":2,"score":0,"last_activity_date":1647751457,"creation_date":1287089369,"question_id":3937430,"body_markdown":"Moment the main servlet is deployed, it needs to perform calculations and prepare a list. this list needs to be accessed by the other servlet which are called subsequently. the calculation needs to run only once. could some one please explain how to go about doing that.\r\n\r\nthanks","title":"servlet stores list in servlet context","body":"<p>Moment the main servlet is deployed, it needs to perform calculations and prepare a list. this list needs to be accessed by the other servlet which are called subsequently. the calculation needs to run only once. could some one please explain how to go about doing that.</p>\n\n<p>thanks</p>\n"},{"tags":["java","inputstream","processbuilder"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1647753514,"post_id":71544100,"comment_id":126447940,"body_markdown":"Most tools that can write their output to stdout have the ability to send diagnostic output to stderr.  Are you certain the nrsc5 program doesn’t have such an option?  `-o -` is useless without it, as you are discovering.","body":"Most tools that can write their output to stdout have the ability to send diagnostic output to stderr.  Are you certain the nrsc5 program doesn’t have such an option?  <code>-o -</code> is useless without it, as you are discovering."},{"owner":{"account_id":1131963,"reputation":5224,"user_id":1117848,"accept_rate":73,"display_name":"Benjamin H"},"score":0,"creation_date":1647793674,"post_id":71544100,"comment_id":126455206,"body_markdown":"@VGR I asked, we shall see!  https://github.com/theori-io/nrsc5/issues/275","body":"@VGR I asked, we shall see!  <a href=\"https://github.com/theori-io/nrsc5/issues/275\" rel=\"nofollow noreferrer\">github.com/theori-io/nrsc5/issues/275</a>"},{"owner":{"account_id":1131963,"reputation":5224,"user_id":1117848,"accept_rate":73,"display_name":"Benjamin H"},"score":0,"creation_date":1647960540,"post_id":71544100,"comment_id":126499345,"body_markdown":"Turns out I had it all backwards, so I&#39;m good. The log was already going to err.","body":"Turns out I had it all backwards, so I&#39;m good. The log was already going to err."}],"owner":{"account_id":1131963,"reputation":5224,"user_id":1117848,"accept_rate":73,"display_name":"Benjamin H"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647751225,"creation_date":1647751225,"question_id":71544100,"body_markdown":"I&#39;m using Java&#39;s `ProcessBuilder`, and it is working great!  _(Shocking, I know.  But just wait...)_\r\n\r\nSetup and Goal: I&#39;ve got a binary app `nrsc5` wrapped by a ProcessBuilder, which\r\n1. Sends the regular output _that would normally show on the console_ but instead is read by the java wrapper via `getInputStream()` and parsed into lines.  Excellent.\r\n1. It **also** is continually writing to a binary file TEMP.WAV \r\n1. Every so often my wrapper java app looks at the TEMP.WAV and reads some chunk of it.\r\n\r\nThis **works but is a monster and is horribly inefficient**.  And, I just found out that yes, the nrsc5 app can write that WAV file to standard output the same as lots of other linux apps!  `... -o - ...` (output file is a dash means &quot;write to stdout&quot;)\r\n\r\nThis is excellent! No more WAV file!  But... the console lines get all mushed together with the binary output, which is verybad.  \r\n\r\n**Is there a way to say &quot;all the text goes to one place like the error stream, and all the binary goes to another place like the regular input stream&quot;?**","title":"Java&#39;s ProcessBuilder: possible to send console output to error, file output to the inputStream?","body":"<p>I'm using Java's <code>ProcessBuilder</code>, and it is working great!  <em>(Shocking, I know.  But just wait...)</em></p>\n<p>Setup and Goal: I've got a binary app <code>nrsc5</code> wrapped by a ProcessBuilder, which</p>\n<ol>\n<li>Sends the regular output <em>that would normally show on the console</em> but instead is read by the java wrapper via <code>getInputStream()</code> and parsed into lines.  Excellent.</li>\n<li>It <strong>also</strong> is continually writing to a binary file TEMP.WAV</li>\n<li>Every so often my wrapper java app looks at the TEMP.WAV and reads some chunk of it.</li>\n</ol>\n<p>This <strong>works but is a monster and is horribly inefficient</strong>.  And, I just found out that yes, the nrsc5 app can write that WAV file to standard output the same as lots of other linux apps!  <code>... -o - ...</code> (output file is a dash means &quot;write to stdout&quot;)</p>\n<p>This is excellent! No more WAV file!  But... the console lines get all mushed together with the binary output, which is verybad.</p>\n<p><strong>Is there a way to say &quot;all the text goes to one place like the error stream, and all the binary goes to another place like the regular input stream&quot;?</strong></p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647750883,"creation_date":1647750883,"answer_id":71544073,"question_id":71543761,"body_markdown":"You can clear the cache when the app is closed. For knowing when the app is closed from the recents list(destroyed), you can do this:\r\n\r\nAdd this code in your activity\r\n```\r\n@Override\r\npublic void onDestroy(){\r\n   getCacheDir().delete();\r\n}\r\n```\r\n\r\nThis will clear the cache when the activity Is closed\r\n","title":"How can I clear cache when I close my app?","body":"<p>You can clear the cache when the app is closed. For knowing when the app is closed from the recents list(destroyed), you can do this:</p>\n<p>Add this code in your activity</p>\n<pre><code>@Override\npublic void onDestroy(){\n   getCacheDir().delete();\n}\n</code></pre>\n<p>This will clear the cache when the activity Is closed</p>\n"}],"owner":{"account_id":24615158,"reputation":1,"user_id":18516264,"display_name":"DenZ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":654,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647750883,"creation_date":1647746069,"question_id":71543761,"body_markdown":"Is there anyway to clear the cache on my app when I exit?\r\n\r\nI made webview app but it eat to much data and stored to cache. I wanted to clear it when I close the app. \r\n\r\nI am using Java in Android studio","title":"How can I clear cache when I close my app?","body":"<p>Is there anyway to clear the cache on my app when I exit?</p>\n<p>I made webview app but it eat to much data and stored to cache. I wanted to clear it when I close the app.</p>\n<p>I am using Java in Android studio</p>\n"},{"tags":["java","maven","intellij-idea","pom.xml","jmh"],"comments":[{"owner":{"account_id":11179248,"reputation":11900,"user_id":8203759,"display_name":"Konstantin Annikov"},"score":0,"creation_date":1647786669,"post_id":71544064,"comment_id":126453624,"body_markdown":"Try this: https://stackoverflow.com/a/38892053/8203759\nIf it does not help, share a sample project where this could be reproduced.","body":"Try this: <a href=\"https://stackoverflow.com/a/38892053/8203759\">stackoverflow.com/a/38892053/8203759</a> If it does not help, share a sample project where this could be reproduced."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1647803838,"post_id":71544064,"comment_id":126457594,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":24616822,"reputation":1,"user_id":18517721,"display_name":"trackpadbad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647750825,"creation_date":1647750825,"question_id":71544064,"body_markdown":"I am using the following code:\r\n\r\nmvn archetype:generate -DinteractiveMode=false -DarchetypeGroupId=org.openjdk.jmh -DarchetypeArtifactId=jmh-java-benchmark-archetype -DgroupId=org.sample -DartifactId=test -Dversion=1.0\r\n\r\nThis generates the following file structure (inside of my current cd location):\r\n\r\n-test\r\n\r\n    -src.main.java.org.sample\r\n\r\n       -MyBenchmark.java\r\n\r\n    -pom.xml\r\n\r\nThe generated files have the following error:\r\nMyBenchmark:\r\nPackage name &#39;org.sample&#39; does not correspond to the file path &#39;com.example.benchmark_coursework.test.src.main.java.org.sample&#39; \r\n\r\npom:\r\n(no actual error message, it just appears in red)\r\n\r\nI am using IntelliJ and my overall objective is to generate a jar file to execute JMH Benchmarks that i have made to time various methods. I have tried looking at the root pom file but there are no errors i can see. I have tried CDing into various other parts of my directory too. Mvn clean install and running the jar file from my main class works fine, getting the benchmarks to work as well does not. Any assistance is very much appreciated. Thank you!\r\n","title":"Why is my maven generate command for JMH generating POMs and a Java class which contain errors?","body":"<p>I am using the following code:</p>\n<p>mvn archetype:generate -DinteractiveMode=false -DarchetypeGroupId=org.openjdk.jmh -DarchetypeArtifactId=jmh-java-benchmark-archetype -DgroupId=org.sample -DartifactId=test -Dversion=1.0</p>\n<p>This generates the following file structure (inside of my current cd location):</p>\n<p>-test</p>\n<pre><code>-src.main.java.org.sample\n\n   -MyBenchmark.java\n\n-pom.xml\n</code></pre>\n<p>The generated files have the following error:\nMyBenchmark:\nPackage name 'org.sample' does not correspond to the file path 'com.example.benchmark_coursework.test.src.main.java.org.sample'</p>\n<p>pom:\n(no actual error message, it just appears in red)</p>\n<p>I am using IntelliJ and my overall objective is to generate a jar file to execute JMH Benchmarks that i have made to time various methods. I have tried looking at the root pom file but there are no errors i can see. I have tried CDing into various other parts of my directory too. Mvn clean install and running the jar file from my main class works fine, getting the benchmarks to work as well does not. Any assistance is very much appreciated. Thank you!</p>\n"},{"tags":["java","spring-boot","ldap","spring-ldap"],"owner":{"account_id":8469968,"reputation":672,"user_id":9311364,"accept_rate":71,"display_name":"Ladu anand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1647750798,"creation_date":1647750798,"question_id":71544061,"body_markdown":"I am using Spring Data LDAP to return all members of a particular AD group . The AD group has more than 40,000 members . When running the below query , I am only able to retrieve 6000 members . How do I get the remaining members or iterate to next batch . \r\n\r\n```\r\npublic List&lt;User&gt; getMembersOfADGroup() throws NamingException {\r\n\t\tString base = &quot;DC=xxxx,DC=com&quot;;\r\n\t\tString filter = &quot;(memberOf=CN=g.xxxxx,OU=Dynamic,OU=Groups,OU=Corp,OU=Common,DC=xxxx,DC=com)&quot;;\r\n\t\tLdapQuery ldapQuery = LdapQueryBuilder.query().base(base).searchScope(SearchScope.SUBTREE)\r\n\t\t\t\t.attributes(AD_SAMACCOUNTNAME, AD_SN, AD_GIVENNAME, AD_MAIL).filter(filter);\r\n\t\treturn ldapTemplate.search(ldapQuery, new UserAttributesMapper());\r\n\t}","title":"Spring Data LDAP returns subset of search results","body":"<p>I am using Spring Data LDAP to return all members of a particular AD group . The AD group has more than 40,000 members . When running the below query , I am only able to retrieve 6000 members . How do I get the remaining members or iterate to next batch .</p>\n<pre><code>public List&lt;User&gt; getMembersOfADGroup() throws NamingException {\n        String base = &quot;DC=xxxx,DC=com&quot;;\n        String filter = &quot;(memberOf=CN=g.xxxxx,OU=Dynamic,OU=Groups,OU=Corp,OU=Common,DC=xxxx,DC=com)&quot;;\n        LdapQuery ldapQuery = LdapQueryBuilder.query().base(base).searchScope(SearchScope.SUBTREE)\n                .attributes(AD_SAMACCOUNTNAME, AD_SN, AD_GIVENNAME, AD_MAIL).filter(filter);\n        return ldapTemplate.search(ldapQuery, new UserAttributesMapper());\n    }\n</code></pre>\n"},{"tags":["java","arrays","algorithm","dynamic-programming","path-finding"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1647750088,"creation_date":1647740157,"answer_id":71543397,"question_id":71540393,"body_markdown":"&lt;h3&gt;Greedy algorithm vs Dynamic programming&lt;/h3&gt;\r\n\r\nThere&#39;s an issue with the *logic* of your solution. \r\n\r\nBasically, what you are implemented is a called a **greedy algorithm**.  At each step of iteration, you are picking a result that *optimal locally*, assuming that this choice will lead to the *optimal global result*. I.e. your code is based on the assumption that by choosing a *local maximum* between the two columns, you will get the correct *global maximum*.\r\n\r\nAs a consequence, your code in the `bestPath()` method almost at each iteration will discard a **branch** of paths based on *only one next value*. This approach might lead to incorrect results, especially with large matrixes.\r\n\r\n**Greedy algorithms** are rarely able to give an accurate output, usually their result is somewhat close but not precise. As an upper-hand, they run fast, typically in **O(n)** time.\r\n\r\nFor this problem, you need to use a **dynamic programming** (*DP*).\r\n\r\nIn short, **DP** is an enhanced *brute-force* approach which *cashes the results* and reuses them instead of recalculating the same values multiple times. And as well, as a regular brute-force **DP** algorithms are always checking *all possible combinations*.\r\n\r\nThere are two major approaches in *dynamic programming*: **tabulation** and **memoization** ([*take a look at this post for more information*](https://www.baeldung.com/cs/tabulation-vs-memoization)).\r\n\r\n&lt;h3&gt;Tabulation&lt;/h3&gt;\r\n\r\nWhile implementing a **tabulation** first you need to create an *array* which then need to be prepopulated (completely or partially). *Tabulation* is also called the ***bottom-up approach*** because calculation start from the elementary *edge cases*. Every possible outcome is being computed based on the previously obtained values while iterating over this array. The final *result* will usually be stored in the last cell (*in this case in the last row*).\r\n\r\nTo implement the **tabulation**, we need to create the matrix of the same size, and copy all the values from the given matrix into it. Then row by row every cell will be populated with the maximum possible profit that could be obtained by reaching this cell from the first row. \r\n\r\nI.e. every iteration will produce a solution for a *2D-array*, that continuously increases by one row at each step. It&#39;ll start from the array that consists of only one first row (*no changes are needed*), then to get the profit for every cell in the second row it&#39;s values has to be combined with the best values from the first row (that will be a valid solution for 2D-array of size `2 * n`), and so on. That way, solution gradually develops, and the last row will contain the maximum results for every cell.\r\n\r\nThat how the code will look like:\r\n\r\n    public static int getMaxProfitTabulation(int[][] matrix) {\r\n        int[][] tab = new int[matrix.length][matrix.length];\r\n        for (int row = 0; row &lt; tab.length; row++) { // populating the tab to preserve the matrix intact\r\n            tab[row] = Arrays.copyOf(matrix[row], matrix[row].length);\r\n        }\r\n\r\n        for (int row = 1; row &lt; tab.length; row++) {\r\n            for (int col = 0; col &lt; tab[row].length; col++) {\r\n                if (col == 0) { // index on the left is invalid\r\n                    tab[row][col] += tab[row - 1][col + 1];\r\n                } else if (col == matrix[row].length - 1) { // index on the right is invalid\r\n                    tab[row][col] += tab[row - 1][col - 1];\r\n                } else {\r\n                    tab[row][col] += Math.max(tab[row - 1][col - 1], tab[row - 1][col + 1]); // max between left and right\r\n                }\r\n            }\r\n        }\r\n        return getMax(tab);\r\n    }\r\n\r\nHelper method responsible for extracting the *maximum* value from the ***last row*** (*if you want to utilize streams for that, use* `IntStream.of(tab[tab.length - 1]).max().orElse(-1);`).\r\n\r\n    public static int getMax(int[][] tab) {\r\n        int result = -1;\r\n        for (int col = 0; col &lt; tab[tab.length - 1].length; col++) {\r\n            result = Math.max(tab[tab.length - 1][col], result);\r\n        }\r\n        return result;\r\n    }\r\n\r\n&lt;h3&gt;Memoization&lt;/h3&gt;\r\n\r\nThe second option is to use **Memoization**, also called the ***top-down*** approach.\r\n\r\nAs I said, **DP** is an improved brute-force algorithm and **memoization** is based on the recursive solution that generates all possible outcomes, that is enhanced by adding a `HashMap` that stores all previously calculated results for every cell (i.e. previously encountered unique combination of *row* and *column*). \r\n\r\nRecursion starts with the first row and the **base-case** of recursion (*condition that terminates the recursion and is represented by a simple edge-case for which output is known in advance*) for this task is when the recursive call hits the last row `row == matrix.length - 1`.\r\n\r\nOtherwise, `HashMap` will be checked whether it already contains a result. And if it not the case all possible combination will be evaluated and the best result will be placed into the `HashMap` in order to be reused, and only the then the method returns.\r\n\r\nNote that **tabulation** is usually preferred over **memoization**, because recursion has significant limitations, especially in Java. But recursive solutions are sometimes easier to came up with, so it&#39;s completely OK to use it when you need to test the idea or to prove that an iterative solution is working correctly.\r\n\r\nThe implementation will look like that.\r\n\r\n    public static int getMaxProfitMemoization(int[][] matrix) {\r\n        int result = 0;\r\n        for (int i = 0; i &lt; matrix[0].length; i++) {\r\n            result = Math.max(result, maxProfitHelper(matrix, 0, i, new HashMap&lt;&gt;()));\r\n        }\r\n        return result;\r\n    }\r\n\r\n    public static int maxProfitHelper(int[][] matrix, int row, int col,\r\n                                      Map&lt;String, Integer&gt; memo) {\r\n        if (row == matrix.length - 1) { // base case\r\n            return matrix[row][col];\r\n        }\r\n\r\n        String key = getKey(row, col);\r\n        if (memo.containsKey(key)) { // if cell was already encountered result will be reused\r\n            return memo.get(key);\r\n        }\r\n\r\n        int result = matrix[row][col]; // otherwise result needs to be calculated\r\n        if (col == matrix[row].length - 1) { // index on the right is invalid\r\n            result += maxProfitHelper(matrix, row + 1, col - 1, memo);\r\n        } else if (col == 0) { // index on the left is invalid\r\n            result += maxProfitHelper(matrix, row + 1, col + 1, memo);\r\n        } else {\r\n            result += Math.max(maxProfitHelper(matrix, row + 1, col - 1, memo),\r\n                               maxProfitHelper(matrix, row + 1, col + 1, memo));\r\n        }\r\n        memo.put(key, result); // placing result in the map\r\n        return memo.get(key);\r\n    }\r\n\r\n    public static String getKey(int row, int col) {\r\n        return row + &quot; &quot; + col;\r\n    }\r\n\r\nMethod `main()` and a *matrix-generator* used for testing purposes.\r\n\r\n    public static void main(String[] args) {\r\n        int[][] matrix = generateMatrix(100, new Random());\r\n\r\n        System.out.println(&quot;Tabulation: &quot; + getMaxProfitTabulation(matrix));\r\n        System.out.println(&quot;Memoization: &quot; + getMaxProfitMemoization(matrix));\r\n    }\r\n\r\n    public static int[][] generateMatrix(int size, Random random) {\r\n        int[][] result = new int[size][size];\r\n        for (int row = 0; row &lt; result.length; row++) {\r\n            for (int col = 0; col &lt; result[row].length; col++) {\r\n                result[row][col] = random.nextInt(1, 101);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n","title":"How to find most profitable Path in 2-Dimensional Array","body":"<h3>Greedy algorithm vs Dynamic programming</h3>\n<p>There's an issue with the <em>logic</em> of your solution.</p>\n<p>Basically, what you are implemented is a called a <strong>greedy algorithm</strong>.  At each step of iteration, you are picking a result that <em>optimal locally</em>, assuming that this choice will lead to the <em>optimal global result</em>. I.e. your code is based on the assumption that by choosing a <em>local maximum</em> between the two columns, you will get the correct <em>global maximum</em>.</p>\n<p>As a consequence, your code in the <code>bestPath()</code> method almost at each iteration will discard a <strong>branch</strong> of paths based on <em>only one next value</em>. This approach might lead to incorrect results, especially with large matrixes.</p>\n<p><strong>Greedy algorithms</strong> are rarely able to give an accurate output, usually their result is somewhat close but not precise. As an upper-hand, they run fast, typically in <strong>O(n)</strong> time.</p>\n<p>For this problem, you need to use a <strong>dynamic programming</strong> (<em>DP</em>).</p>\n<p>In short, <strong>DP</strong> is an enhanced <em>brute-force</em> approach which <em>cashes the results</em> and reuses them instead of recalculating the same values multiple times. And as well, as a regular brute-force <strong>DP</strong> algorithms are always checking <em>all possible combinations</em>.</p>\n<p>There are two major approaches in <em>dynamic programming</em>: <strong>tabulation</strong> and <strong>memoization</strong> (<a href=\"https://www.baeldung.com/cs/tabulation-vs-memoization\" rel=\"nofollow noreferrer\"><em>take a look at this post for more information</em></a>).</p>\n<h3>Tabulation</h3>\n<p>While implementing a <strong>tabulation</strong> first you need to create an <em>array</em> which then need to be prepopulated (completely or partially). <em>Tabulation</em> is also called the <em><strong>bottom-up approach</strong></em> because calculation start from the elementary <em>edge cases</em>. Every possible outcome is being computed based on the previously obtained values while iterating over this array. The final <em>result</em> will usually be stored in the last cell (<em>in this case in the last row</em>).</p>\n<p>To implement the <strong>tabulation</strong>, we need to create the matrix of the same size, and copy all the values from the given matrix into it. Then row by row every cell will be populated with the maximum possible profit that could be obtained by reaching this cell from the first row.</p>\n<p>I.e. every iteration will produce a solution for a <em>2D-array</em>, that continuously increases by one row at each step. It'll start from the array that consists of only one first row (<em>no changes are needed</em>), then to get the profit for every cell in the second row it's values has to be combined with the best values from the first row (that will be a valid solution for 2D-array of size <code>2 * n</code>), and so on. That way, solution gradually develops, and the last row will contain the maximum results for every cell.</p>\n<p>That how the code will look like:</p>\n<pre><code>public static int getMaxProfitTabulation(int[][] matrix) {\n    int[][] tab = new int[matrix.length][matrix.length];\n    for (int row = 0; row &lt; tab.length; row++) { // populating the tab to preserve the matrix intact\n        tab[row] = Arrays.copyOf(matrix[row], matrix[row].length);\n    }\n\n    for (int row = 1; row &lt; tab.length; row++) {\n        for (int col = 0; col &lt; tab[row].length; col++) {\n            if (col == 0) { // index on the left is invalid\n                tab[row][col] += tab[row - 1][col + 1];\n            } else if (col == matrix[row].length - 1) { // index on the right is invalid\n                tab[row][col] += tab[row - 1][col - 1];\n            } else {\n                tab[row][col] += Math.max(tab[row - 1][col - 1], tab[row - 1][col + 1]); // max between left and right\n            }\n        }\n    }\n    return getMax(tab);\n}\n</code></pre>\n<p>Helper method responsible for extracting the <em>maximum</em> value from the <em><strong>last row</strong></em> (<em>if you want to utilize streams for that, use</em> <code>IntStream.of(tab[tab.length - 1]).max().orElse(-1);</code>).</p>\n<pre><code>public static int getMax(int[][] tab) {\n    int result = -1;\n    for (int col = 0; col &lt; tab[tab.length - 1].length; col++) {\n        result = Math.max(tab[tab.length - 1][col], result);\n    }\n    return result;\n}\n</code></pre>\n<h3>Memoization</h3>\n<p>The second option is to use <strong>Memoization</strong>, also called the <em><strong>top-down</strong></em> approach.</p>\n<p>As I said, <strong>DP</strong> is an improved brute-force algorithm and <strong>memoization</strong> is based on the recursive solution that generates all possible outcomes, that is enhanced by adding a <code>HashMap</code> that stores all previously calculated results for every cell (i.e. previously encountered unique combination of <em>row</em> and <em>column</em>).</p>\n<p>Recursion starts with the first row and the <strong>base-case</strong> of recursion (<em>condition that terminates the recursion and is represented by a simple edge-case for which output is known in advance</em>) for this task is when the recursive call hits the last row <code>row == matrix.length - 1</code>.</p>\n<p>Otherwise, <code>HashMap</code> will be checked whether it already contains a result. And if it not the case all possible combination will be evaluated and the best result will be placed into the <code>HashMap</code> in order to be reused, and only the then the method returns.</p>\n<p>Note that <strong>tabulation</strong> is usually preferred over <strong>memoization</strong>, because recursion has significant limitations, especially in Java. But recursive solutions are sometimes easier to came up with, so it's completely OK to use it when you need to test the idea or to prove that an iterative solution is working correctly.</p>\n<p>The implementation will look like that.</p>\n<pre><code>public static int getMaxProfitMemoization(int[][] matrix) {\n    int result = 0;\n    for (int i = 0; i &lt; matrix[0].length; i++) {\n        result = Math.max(result, maxProfitHelper(matrix, 0, i, new HashMap&lt;&gt;()));\n    }\n    return result;\n}\n\npublic static int maxProfitHelper(int[][] matrix, int row, int col,\n                                  Map&lt;String, Integer&gt; memo) {\n    if (row == matrix.length - 1) { // base case\n        return matrix[row][col];\n    }\n\n    String key = getKey(row, col);\n    if (memo.containsKey(key)) { // if cell was already encountered result will be reused\n        return memo.get(key);\n    }\n\n    int result = matrix[row][col]; // otherwise result needs to be calculated\n    if (col == matrix[row].length - 1) { // index on the right is invalid\n        result += maxProfitHelper(matrix, row + 1, col - 1, memo);\n    } else if (col == 0) { // index on the left is invalid\n        result += maxProfitHelper(matrix, row + 1, col + 1, memo);\n    } else {\n        result += Math.max(maxProfitHelper(matrix, row + 1, col - 1, memo),\n                           maxProfitHelper(matrix, row + 1, col + 1, memo));\n    }\n    memo.put(key, result); // placing result in the map\n    return memo.get(key);\n}\n\npublic static String getKey(int row, int col) {\n    return row + &quot; &quot; + col;\n}\n</code></pre>\n<p>Method <code>main()</code> and a <em>matrix-generator</em> used for testing purposes.</p>\n<pre><code>public static void main(String[] args) {\n    int[][] matrix = generateMatrix(100, new Random());\n\n    System.out.println(&quot;Tabulation: &quot; + getMaxProfitTabulation(matrix));\n    System.out.println(&quot;Memoization: &quot; + getMaxProfitMemoization(matrix));\n}\n\npublic static int[][] generateMatrix(int size, Random random) {\n    int[][] result = new int[size][size];\n    for (int row = 0; row &lt; result.length; row++) {\n        for (int col = 0; col &lt; result[row].length; col++) {\n            result[row][col] = random.nextInt(1, 101);\n        }\n    }\n    return result;\n}\n</code></pre>\n"}],"owner":{"account_id":24612808,"reputation":13,"user_id":18514139,"display_name":"Marcus Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1205,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71543397,"answer_count":1,"score":1,"last_activity_date":1647750088,"creation_date":1647710426,"question_id":71540393,"body_markdown":"I&#39;m trying to implement a game where the viable moves are **down-left** and **down-right**. \r\n\r\nThe parameter for the function is for the **size** of the *array*, so if you pass `4` it will be a *4 by 4 array*. \r\n\r\nThe **starting position** is the **top row** from *any column*. Every element in the array is a number in the range `1-100`, taken from a file. I need to find the resulting value for the *most profitable route* from any starting column.\r\n\r\nMy current implementation will compare the *right position* and *left position* and move to whichever is *higher*. The problem is, for example, if the *left position* is lower in value than the *right*, but the left position will provide more profit in the long run since it can access higher value elements, my *algorithm fails*.\r\n\r\n***Here is a demo:***\r\n```\r\n84  (53) 40  62 \r\n\r\n*42* 14 [41] 57 \r\n\r\n76 *47* 80 [95] \r\n```\r\nIf we start at number `53`. The numbers enclosed in `*` are the moves that my algorithm *will take*, but the numbers enclosed in `[]` are the moves my algorithm **should take**.\r\n\r\nThis is my code:\r\n```java\r\nimport java.util.ArrayList; \r\nimport java.util.Scanner;\r\n\r\npublic class bestPathGame{\r\n\r\n    private int[][] grid;\r\n    private int n;\r\n    public bestPathGame(int num){\r\n        Scanner input = new Scanner(System.in);\r\n        n = num;\r\n        grid = new int[n][n];\r\n        for(int i = 0; i &lt; n; i++){\r\n            for(int j = 0; j &lt; n; j++){\r\n                grid[i][j] = input.nextInt();\r\n            }\r\n        }\r\n    }\r\n    public static void main(String[] args){\r\n        bestPathGame obj = new bestPathGame(Integer.parseInt(args[0]));\r\n        obj.bestPath();\r\n    }\r\n\r\n    private boolean moveLeftBetter(int r,int c){\r\n        if(c &lt;= 0){\r\n            return false;\r\n        } else if (c &gt;= n -1 ){\r\n            return true;\r\n        }\r\n        return grid[r][c-1] &gt; grid[r][c+1];\r\n    }\r\n    public void bestPath(){\r\n        ArrayList&lt;Integer&gt; allOptions = new ArrayList&lt;&gt;();\r\n        for(int k = 0; k &lt; n; k++){\r\n            int row = 0;\r\n            int col = k;\r\n            int collection = grid[row][col];\r\n            while(row &lt; n - 1){\r\n                row += 1;\r\n                if(moveLeftBetter(row,col)){\r\n                    col-=1;\r\n                } else{\r\n                    col+=1;\r\n                }\r\n                collection += grid[row][col];\r\n            }\r\n            allOptions.add(collection);\r\n        }\r\n        System.out.println(allOptions.stream().reduce((a,b)-&gt;Integer.max(a,b)).get());\r\n    }\r\n}\r\n```","title":"How to find most profitable Path in 2-Dimensional Array","body":"<p>I'm trying to implement a game where the viable moves are <strong>down-left</strong> and <strong>down-right</strong>.</p>\n<p>The parameter for the function is for the <strong>size</strong> of the <em>array</em>, so if you pass <code>4</code> it will be a <em>4 by 4 array</em>.</p>\n<p>The <strong>starting position</strong> is the <strong>top row</strong> from <em>any column</em>. Every element in the array is a number in the range <code>1-100</code>, taken from a file. I need to find the resulting value for the <em>most profitable route</em> from any starting column.</p>\n<p>My current implementation will compare the <em>right position</em> and <em>left position</em> and move to whichever is <em>higher</em>. The problem is, for example, if the <em>left position</em> is lower in value than the <em>right</em>, but the left position will provide more profit in the long run since it can access higher value elements, my <em>algorithm fails</em>.</p>\n<p><em><strong>Here is a demo:</strong></em></p>\n<pre><code>84  (53) 40  62 \n\n*42* 14 [41] 57 \n\n76 *47* 80 [95] \n</code></pre>\n<p>If we start at number <code>53</code>. The numbers enclosed in <code>*</code> are the moves that my algorithm <em>will take</em>, but the numbers enclosed in <code>[]</code> are the moves my algorithm <strong>should take</strong>.</p>\n<p>This is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList; \nimport java.util.Scanner;\n\npublic class bestPathGame{\n\n    private int[][] grid;\n    private int n;\n    public bestPathGame(int num){\n        Scanner input = new Scanner(System.in);\n        n = num;\n        grid = new int[n][n];\n        for(int i = 0; i &lt; n; i++){\n            for(int j = 0; j &lt; n; j++){\n                grid[i][j] = input.nextInt();\n            }\n        }\n    }\n    public static void main(String[] args){\n        bestPathGame obj = new bestPathGame(Integer.parseInt(args[0]));\n        obj.bestPath();\n    }\n\n    private boolean moveLeftBetter(int r,int c){\n        if(c &lt;= 0){\n            return false;\n        } else if (c &gt;= n -1 ){\n            return true;\n        }\n        return grid[r][c-1] &gt; grid[r][c+1];\n    }\n    public void bestPath(){\n        ArrayList&lt;Integer&gt; allOptions = new ArrayList&lt;&gt;();\n        for(int k = 0; k &lt; n; k++){\n            int row = 0;\n            int col = k;\n            int collection = grid[row][col];\n            while(row &lt; n - 1){\n                row += 1;\n                if(moveLeftBetter(row,col)){\n                    col-=1;\n                } else{\n                    col+=1;\n                }\n                collection += grid[row][col];\n            }\n            allOptions.add(collection);\n        }\n        System.out.println(allOptions.stream().reduce((a,b)-&gt;Integer.max(a,b)).get());\n    }\n}\n</code></pre>\n"},{"tags":["java","multithreading","synchronization","synchronized"],"comments":[{"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"score":2,"creation_date":1643323341,"post_id":70886615,"comment_id":125316511,"body_markdown":"Because ... only one thread can be in the synchronized block at any time. See also the fuller answer in [what is synchronization of thread in java?](https://stackoverflow.com/questions/3764303/what-is-synchronization-of-thread-in-java)","body":"Because ... only one thread can be in the synchronized block at any time. See also the fuller answer in <a href=\"https://stackoverflow.com/questions/3764303/what-is-synchronization-of-thread-in-java\">what is synchronization of thread in java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643322838,"creation_date":1643322838,"answer_id":70886646,"question_id":70886615,"body_markdown":"The output was _never_ deterministically ordered or guaranteed to be the same order.  It was always &quot;undefined; the system can do it in whatever order it ends up doing.&quot;","title":"Why does adding a synchronized block around this code change program ouput?","body":"<p>The output was <em>never</em> deterministically ordered or guaranteed to be the same order.  It was always &quot;undefined; the system can do it in whatever order it ends up doing.&quot;</p>\n"},{"tags":[],"owner":{"account_id":11624106,"reputation":2811,"user_id":11808788,"display_name":"Charles"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643323226,"creation_date":1643323226,"answer_id":70886705,"question_id":70886615,"body_markdown":"`synchronized` is like the `lock` statement in c#\r\n\r\nOnly one thread can enter the `synchronized` block at the same time.  \r\nThe other threads have to wait in front of the `synchronized` block.\r\n\r\nTotal runtime with `synchronized` should be 15 sec.  \r\nTotal runtime without should be 5 sec, because all 3 Threads run at the same time.","title":"Why does adding a synchronized block around this code change program ouput?","body":"<p><code>synchronized</code> is like the <code>lock</code> statement in c#</p>\n<p>Only one thread can enter the <code>synchronized</code> block at the same time.<br />\nThe other threads have to wait in front of the <code>synchronized</code> block.</p>\n<p>Total runtime with <code>synchronized</code> should be 15 sec.<br />\nTotal runtime without should be 5 sec, because all 3 Threads run at the same time.</p>\n"},{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643326337,"creation_date":1643324043,"answer_id":70886834,"question_id":70886615,"body_markdown":"The program starts threads. The OS has to schedule when they run, which can seem arbitrary. Then without locking the threads may interleave their actions. \r\n\r\nIn the synchronized case, all the threads&#39; run methods are synchronizing on the same object, so only one of them can execute at a time. There is no guarantee which of them comes first, the scheduler can pick whichever it wants. In your case it picked the third thread before the second one. \r\n\r\nThe individual output lines don&#39;t get interleaved in any case because the printstream is synchronized. \r\n","title":"Why does adding a synchronized block around this code change program ouput?","body":"<p>The program starts threads. The OS has to schedule when they run, which can seem arbitrary. Then without locking the threads may interleave their actions.</p>\n<p>In the synchronized case, all the threads' run methods are synchronizing on the same object, so only one of them can execute at a time. There is no guarantee which of them comes first, the scheduler can pick whichever it wants. In your case it picked the third thread before the second one.</p>\n<p>The individual output lines don't get interleaved in any case because the printstream is synchronized.</p>\n"}],"owner":{"account_id":23357525,"reputation":11,"user_id":17430298,"display_name":"Mike Johnsoning"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1647748585,"creation_date":1643322629,"question_id":70886615,"body_markdown":"``` \r\nclass Demo extends Thread{\r\n\tTest x;\r\n\tString name;\r\n\tString task;\r\n\r\n\tpublic Demo(String name, String task, Test p){\r\n\t\tthis.name = name;\r\n\t\tthis.task = task;\r\n\t\tx = p;\r\n\t}\r\n\r\n\tpublic void run(){\r\n\t\tsynchronized (x) {\r\n\t\t\tx.message(name, task); \r\n\t\t} \r\n\t}\r\n\r\n\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tTest t = new Test();\r\n\r\n\t\tDemo d = new Demo(&quot;Jack&quot;, &quot;Cutting&quot;,t);\r\n\t\tDemo d1 = new Demo(&quot;Jacoe&quot;, &quot;Cooking&quot;,t);\r\n\t\tDemo d2 = new Demo(&quot;Bob&quot;, &quot;Cleaning&quot;,t);\r\n\t\td.start();\r\n\t\td1.start();\r\n\t\td2.start();\r\n\r\n\t}\r\n\t\r\n}\r\n\r\nclass Test{\r\n\tvoid message(String name, String task){\r\n\r\n\t\tSystem.out.println(name);\r\n\t\ttry{\r\n\t\t\tThread.sleep(5000);\r\n\t\t}catch(Exception e){\r\n\r\n\t\t}\r\n\t\tSystem.out.println(task);\r\n\r\n\t}\r\n\r\n}\r\n```\r\nThis is a simple program I created to practice multithreading and synchronization in java. I was wondering if somebody can explain to me why the output is different when the synchronized block is removed from the public void run() method? \r\n\r\nWith:\r\n[With synchronized block][1] \r\n\r\nWithout:\r\n[Without synchronized block][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/al60c.png\r\n  [2]: https://i.stack.imgur.com/w3cyS.png","title":"Why does adding a synchronized block around this code change program ouput?","body":"<pre><code>class Demo extends Thread{\n    Test x;\n    String name;\n    String task;\n\n    public Demo(String name, String task, Test p){\n        this.name = name;\n        this.task = task;\n        x = p;\n    }\n\n    public void run(){\n        synchronized (x) {\n            x.message(name, task); \n        } \n    }\n\n\n\n    public static void main(String[] args) {\n        Test t = new Test();\n\n        Demo d = new Demo(&quot;Jack&quot;, &quot;Cutting&quot;,t);\n        Demo d1 = new Demo(&quot;Jacoe&quot;, &quot;Cooking&quot;,t);\n        Demo d2 = new Demo(&quot;Bob&quot;, &quot;Cleaning&quot;,t);\n        d.start();\n        d1.start();\n        d2.start();\n\n    }\n    \n}\n\nclass Test{\n    void message(String name, String task){\n\n        System.out.println(name);\n        try{\n            Thread.sleep(5000);\n        }catch(Exception e){\n\n        }\n        System.out.println(task);\n\n    }\n\n}\n</code></pre>\n<p>This is a simple program I created to practice multithreading and synchronization in java. I was wondering if somebody can explain to me why the output is different when the synchronized block is removed from the public void run() method?</p>\n<p>With:\n<a href=\"https://i.stack.imgur.com/al60c.png\" rel=\"nofollow noreferrer\">With synchronized block</a></p>\n<p>Without:\n<a href=\"https://i.stack.imgur.com/w3cyS.png\" rel=\"nofollow noreferrer\">Without synchronized block</a></p>\n"},{"tags":["java","android","multithreading","handler"],"answers":[{"tags":[],"owner":{"account_id":2376276,"reputation":171,"user_id":2079536,"accept_rate":0,"display_name":"Douglas Brett"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1365761158,"creation_date":1365761158,"answer_id":15968525,"question_id":15868635,"body_markdown":"The problem was solved by using the Handler&#39;s dispatchMessage method, instead of sendMessage.","title":"Thread/Handler error - The specified message queue synchronization barrier token has not been posted","body":"<p>The problem was solved by using the Handler's dispatchMessage method, instead of sendMessage.</p>\n"},{"tags":[],"owner":{"account_id":2731411,"reputation":117,"user_id":2355117,"display_name":"Erwin.H"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1373449638,"creation_date":1373449638,"answer_id":17567455,"question_id":15868635,"body_markdown":"I got the same problem as you did here. After two days&#39; struggle, I found a way to solve it.\r\nIt is simple. Just add this.obtainMessage() in your handlerMessage() before updating any UI. \r\nAfter doing this, everything will be fine now.\r\n\r\nI guess it was because we are communicating between UI thread and background thread too quickly in which situation the Android system can not dispatch Msg properly all by itself. When we force Android to do so, problem solved. \r\nI am not sure, it&#39;s just a guess.\r\nI hope it can help you.","title":"Thread/Handler error - The specified message queue synchronization barrier token has not been posted","body":"<p>I got the same problem as you did here. After two days' struggle, I found a way to solve it.\nIt is simple. Just add this.obtainMessage() in your handlerMessage() before updating any UI. \nAfter doing this, everything will be fine now.</p>\n\n<p>I guess it was because we are communicating between UI thread and background thread too quickly in which situation the Android system can not dispatch Msg properly all by itself. When we force Android to do so, problem solved. \nI am not sure, it's just a guess.\nI hope it can help you.</p>\n"}],"owner":{"account_id":2376276,"reputation":171,"user_id":2079536,"accept_rate":0,"display_name":"Douglas Brett"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9673,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1647745494,"creation_date":1365373904,"question_id":15868635,"body_markdown":"I am getting this error - \r\n\r\n&gt; java.lang.IllegalStateException: The specified message queue synchronization  barrier token has not been posted or has already been removed.\r\n\r\nAs a relative newcomer to Java/Android, there is no doubt something I have missed, but what I am doing is this - \r\n\r\nI have a project which uses Exif Data to display Photos according to the date they were taken, and the intention is to use a similar model on each stage...\r\n\r\nWorker Thread -&gt; UI Thread -&gt; Custom Display Adapter. Then clicking on one of the &quot;Cells&quot; in GridView triggers the next Activity. The First Activity searches for all the Photo Files, creating a list of &quot;Years&quot;, and then each subsequent activity filters it to months, days etc. \r\n\r\nStarting the second activity however launches straight into the above error, and the Messages are dealt with via the basic Thread/Handler set-up. \r\n\r\nHere is the class that is passing the messages to the thread - \r\n\r\n    public class MonthSort {\r\n\tHandler handler;\r\n\tint imageWidth;\r\n\tList&lt;PhotoData&gt; photoList;\r\n\tpublic MonthSort(Handler handler2, int width, List&lt;PhotoData&gt; pList) {\r\n\t\tphotoList = new ArrayList&lt;PhotoData&gt;();\r\n\t\tphotoList = pList;\r\n\t\timageWidth = width;\r\n\t\thandler = handler2;\r\n\t}\r\n\t\r\n\tpublic void sortFiles()\r\n\t{\r\n\t\tint month, photoCount;\r\n\t\tFile fileName = new File(&quot;&quot;);\r\n\t\tMessage msg = handler.obtainMessage();\r\n\t\t//Message msg = Message.obtain();\r\n\t\t//Bundle bundle = new Bundle();\r\n\t\ttry {\r\n\t\t\tfor (int i = 0; i &lt; 12; i++) {\r\n\t\t\t\tmonth = i + 1;\r\n\t\t\t\tphotoCount = 0;\r\n\t\t\t\tfor (PhotoData pd : photoList) {\r\n\t\t\t\t\tif(month == pd.month)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif(photoCount == 0)\r\n\t\t\t\t\t\t\tfileName = pd.fileName;\r\n\t\t\t\t\t\tphotoCount++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(photoCount != 0)\r\n\t\t\t\t{\r\n\t\t\t\t\r\n\t\t\t\t\tBundle bundle = new Bundle();\r\n\t\t\t\t\tbundle.putString(&quot;filename&quot;, fileName.toString());\r\n\t\t\t\t\tbundle.putInt(&quot;month&quot;, month);\r\n\t\t\t\t\tbundle.putInt(&quot;count&quot;, photoCount);\r\n\t\t\t\t\tbyte[] thumbNail = getThumbnail(fileName, imageWidth);\r\n\t\t\t\t\tbundle.putByteArray(&quot;thumbnail&quot;, thumbNail);\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tmsg.setData(bundle);\r\n\t\t\t\t\thandler.sendMessage(msg);\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\tLog.d(&quot;Debug&quot;, &quot;handler error occurs in monthSort class&quot;);\r\n\t\t}\r\n\t\t/*Bundle bundle = new Bundle();\r\n\t\tbundle.putBoolean(&quot;end&quot;, true);\r\n\t\tmsg.setData(bundle);\r\n\t\thandler.sendMessage(msg);*/\r\n\t}\r\n\r\n\r\n... and this is the code that receives it in the UI Thread.\r\n\r\n    public class MonthActivity extends Activity {\r\n\tList&lt;PhotoData&gt; photoList;\r\n\tstatic List&lt;MonthData&gt; photos;\r\n\tint imageWidth;\r\n\tGridView photoGrid;\r\n\tstatic ImageAdapter2 iAdapter;\r\n\tint year;\r\n\tThread monthSortThread;\r\n\t\r\n\tHandler handler2 = new Handler() {\r\n\t\t@Override\r\n\t\tpublic void handleMessage(Message msg) \r\n\t\t{\r\n\t\t\tBundle bundle = msg.getData();\t// Get the message sent to the Handler.\r\n\t\t\tboolean ended = bundle.getBoolean(&quot;end&quot;);\r\n\t\t\tif(ended)\r\n\t\t\t{\r\n\t\t\t\t//Toast.makeText(getBaseContext(), &quot;FINISHED !!!&quot;, Toast.LENGTH_LONG).show();\r\n\t\t\t} else\r\n\t\t\t{\r\n\t\t\t\ttry {\r\n\t\t\t\t\tMonthData md = new MonthData();\r\n\t\t\t\t\tmd.monthValue = bundle.getInt(&quot;month&quot;);\r\n\t\t\t\t\tmd.monthString = getMonthString(md.monthValue);\r\n\t\t\t\t\tmd.count = bundle.getInt(&quot;count&quot;);\r\n\t\t\t\t\tbyte[] tn = bundle.getByteArray(&quot;thumbnail&quot;);\r\n\t\t\t\t\tmd.thumbnail =  BitmapFactory.decodeByteArray(tn, 0, tn.length);\r\n\t\t\t\t\tphotos.add(md);\r\n\t\t\t\t\tiAdapter.notifyDataSetChanged();\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\tLog.d(&quot;Debug&quot;, &quot;handler error occurs in UI Handler&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\t\r\nPlease note that I haven&#39;t included all of the code, just the parts I feel are relevant. \r\n\r\nThe previous activity managed to successfully operate messages in the same way, why not the second activity ?\r\n\r\nI understand that the Main UI thread already has a looper set-up, and therefore you don&#39;t have to create one. Is that still true of any subsequent Activities that are launched ?\r\n\r\n\r\n\r\n \r\n\r\n","title":"Thread/Handler error - The specified message queue synchronization barrier token has not been posted","body":"<p>I am getting this error - </p>\n\n<blockquote>\n  <p>java.lang.IllegalStateException: The specified message queue synchronization  barrier token has not been posted or has already been removed.</p>\n</blockquote>\n\n<p>As a relative newcomer to Java/Android, there is no doubt something I have missed, but what I am doing is this - </p>\n\n<p>I have a project which uses Exif Data to display Photos according to the date they were taken, and the intention is to use a similar model on each stage...</p>\n\n<p>Worker Thread -> UI Thread -> Custom Display Adapter. Then clicking on one of the \"Cells\" in GridView triggers the next Activity. The First Activity searches for all the Photo Files, creating a list of \"Years\", and then each subsequent activity filters it to months, days etc. </p>\n\n<p>Starting the second activity however launches straight into the above error, and the Messages are dealt with via the basic Thread/Handler set-up. </p>\n\n<p>Here is the class that is passing the messages to the thread - </p>\n\n<pre><code>public class MonthSort {\nHandler handler;\nint imageWidth;\nList&lt;PhotoData&gt; photoList;\npublic MonthSort(Handler handler2, int width, List&lt;PhotoData&gt; pList) {\n    photoList = new ArrayList&lt;PhotoData&gt;();\n    photoList = pList;\n    imageWidth = width;\n    handler = handler2;\n}\n\npublic void sortFiles()\n{\n    int month, photoCount;\n    File fileName = new File(\"\");\n    Message msg = handler.obtainMessage();\n    //Message msg = Message.obtain();\n    //Bundle bundle = new Bundle();\n    try {\n        for (int i = 0; i &lt; 12; i++) {\n            month = i + 1;\n            photoCount = 0;\n            for (PhotoData pd : photoList) {\n                if(month == pd.month)\n                {\n                    if(photoCount == 0)\n                        fileName = pd.fileName;\n                    photoCount++;\n                }\n            }\n            if(photoCount != 0)\n            {\n\n                Bundle bundle = new Bundle();\n                bundle.putString(\"filename\", fileName.toString());\n                bundle.putInt(\"month\", month);\n                bundle.putInt(\"count\", photoCount);\n                byte[] thumbNail = getThumbnail(fileName, imageWidth);\n                bundle.putByteArray(\"thumbnail\", thumbNail);\n\n\n                msg.setData(bundle);\n                handler.sendMessage(msg);\n\n            }\n        }\n    } catch (Exception e) {\n        // TODO Auto-generated catch block\n        Log.d(\"Debug\", \"handler error occurs in monthSort class\");\n    }\n    /*Bundle bundle = new Bundle();\n    bundle.putBoolean(\"end\", true);\n    msg.setData(bundle);\n    handler.sendMessage(msg);*/\n}\n</code></pre>\n\n<p>... and this is the code that receives it in the UI Thread.</p>\n\n<pre><code>public class MonthActivity extends Activity {\nList&lt;PhotoData&gt; photoList;\nstatic List&lt;MonthData&gt; photos;\nint imageWidth;\nGridView photoGrid;\nstatic ImageAdapter2 iAdapter;\nint year;\nThread monthSortThread;\n\nHandler handler2 = new Handler() {\n    @Override\n    public void handleMessage(Message msg) \n    {\n        Bundle bundle = msg.getData();  // Get the message sent to the Handler.\n        boolean ended = bundle.getBoolean(\"end\");\n        if(ended)\n        {\n            //Toast.makeText(getBaseContext(), \"FINISHED !!!\", Toast.LENGTH_LONG).show();\n        } else\n        {\n            try {\n                MonthData md = new MonthData();\n                md.monthValue = bundle.getInt(\"month\");\n                md.monthString = getMonthString(md.monthValue);\n                md.count = bundle.getInt(\"count\");\n                byte[] tn = bundle.getByteArray(\"thumbnail\");\n                md.thumbnail =  BitmapFactory.decodeByteArray(tn, 0, tn.length);\n                photos.add(md);\n                iAdapter.notifyDataSetChanged();\n            } catch (Exception e) {\n                // TODO Auto-generated catch block\n                Log.d(\"Debug\", \"handler error occurs in UI Handler\");\n            }\n        }\n    }\n};\n</code></pre>\n\n<p>Please note that I haven't included all of the code, just the parts I feel are relevant. </p>\n\n<p>The previous activity managed to successfully operate messages in the same way, why not the second activity ?</p>\n\n<p>I understand that the Main UI thread already has a looper set-up, and therefore you don't have to create one. Is that still true of any subsequent Activities that are launched ?</p>\n"},{"tags":["java","antlr"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1647715165,"post_id":71540985,"comment_id":126442414,"body_markdown":"What is wrong with your code?","body":"What is wrong with your code?"},{"owner":{"account_id":23787239,"reputation":27,"user_id":17799114,"display_name":"Clash Secondo"},"score":0,"creation_date":1647716222,"post_id":71540985,"comment_id":126442630,"body_markdown":"My code doesn&#39;t print the error, the follow instructions doesn&#39;t works:\n\nout.println(&quot;Error: &quot; + i.getMessage());\nSystem.out.println(i.getMessage());","body":"My code doesn&#39;t print the error, the follow instructions doesn&#39;t works:  out.println(&quot;Error: &quot; + i.getMessage()); System.out.println(i.getMessage());"}],"answers":[{"tags":[],"owner":{"account_id":27816,"reputation":6650,"user_id":73764,"accept_rate":91,"display_name":"Mike Cargal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647745205,"creation_date":1647745205,"answer_id":71543712,"question_id":71540985,"body_markdown":"You’ve used `simpleLexer.removeErrorListeners();` to remove the default error listener, but you have not added your error listener(`act`) to the `simpleLexer`.\r\n\r\nAlso, a listener on `simpleLexer` will only pick up Tokenization errors (invalid tokens).  You’ll also want to add you listener to your parser.\r\n\r\nBTW, both Lexers and Parsers can have multiple listeners, so it’s not *necessary* to remove the default listeners.  If you want to remove them to clean up the `System.out`, you may want to keep them connected until you have verified that you’re listeners are hooked up and functioning correctly, as they may give some insight.","title":"Print in file the lexical errors ANTLR intelliJ","body":"<p>You’ve used <code>simpleLexer.removeErrorListeners();</code> to remove the default error listener, but you have not added your error listener(<code>act</code>) to the <code>simpleLexer</code>.</p>\n<p>Also, a listener on <code>simpleLexer</code> will only pick up Tokenization errors (invalid tokens).  You’ll also want to add you listener to your parser.</p>\n<p>BTW, both Lexers and Parsers can have multiple listeners, so it’s not <em>necessary</em> to remove the default listeners.  If you want to remove them to clean up the <code>System.out</code>, you may want to keep them connected until you have verified that you’re listeners are hooked up and functioning correctly, as they may give some insight.</p>\n"}],"owner":{"account_id":23787239,"reputation":27,"user_id":17799114,"display_name":"Clash Secondo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647745205,"creation_date":1647714944,"question_id":71540985,"body_markdown":"I tryed to print in a file the lexical errors from a simple input, I already define my grammar and all is ok, my main is this:\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            CharStream charStreamES1 = CharStreams.fromString(&quot;{ int ]a; int b; &#224;int c = 1 ; if (c &gt; 1) { b = c  } else { a = b ; }}&quot;);\r\n            SimpLanPlusLexer simpleLexer = new SimpLanPlusLexer(charStreamES1);\r\n            SimpLanPlusParser simpleparser = new SimpLanPlusParser(new CommonTokenStream(simpleLexer));\r\n            simpleLexer.removeErrorListeners();\r\n            SyntaxErrorListener act = new SyntaxErrorListener();\r\n            RecognitionException a = null;\r\n            act.syntaxError(simpleparser,0,0,0,&quot;msg&quot;,a);\r\n        }\r\n    }\r\n\r\nIn the CharStream there are different error like &quot;]&quot; or &quot;&#224;&quot;\r\nI had Override the syntaxError function like this:\r\n\r\n    public class SyntaxErrorListener extends BaseErrorListener {\r\n        private final List&lt;SyntaxError&gt; SyntaxErrors = new ArrayList();\r\n    \r\n        public SyntaxErrorListener() {\r\n        }\r\n    \r\n        List&lt;SyntaxError&gt; getSyntaxErrors() {\r\n            return this.SyntaxErrors;\r\n        }\r\n    \r\n        public void syntaxError(Recognizer&lt;?, ?&gt; recognizer, Object offendingSymbol, int line, int charPositionInLine, String msg, RecognitionException e) {\r\n            this.SyntaxErrors.add(new SyntaxError(recognizer, offendingSymbol, line, charPositionInLine, msg, e));\r\n    \r\n            try {\r\n                PrintWriter out = new PrintWriter(&quot;Myerrors.txt&quot;);\r\n                Iterator var8 = this.getSyntaxErrors().iterator();\r\n    \r\n                while(var8.hasNext()) {\r\n                    SyntaxError i = (SyntaxError)var8.next();\r\n                    out.println(&quot;Error: &quot; + i.getMessage());\r\n                    System.out.println(i.getMessage());\r\n                }\r\n    \r\n                out.close();\r\n            } catch (FileNotFoundException var10) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\nAnd this is my SyntaxError class:\r\n\r\n\r\n    public class SyntaxError {\r\n        private final Recognizer&lt;?, ?&gt; recognizer;\r\n        private final Object offendingSymbol;\r\n        private final int line;\r\n        private final int charPositionInLine;\r\n        private final String msg;\r\n        private final RecognitionException e;\r\n    \r\n        public SyntaxError(Recognizer&lt;?, ?&gt; recognizer, Object offendingSymbol, int line, int charPositionInLine, String msg, RecognitionException e) {\r\n            this.recognizer = recognizer;\r\n            this.offendingSymbol = offendingSymbol;\r\n            this.line = line;\r\n            this.charPositionInLine = charPositionInLine;\r\n            this.msg = msg;\r\n            this.e = e;\r\n        }\r\n\r\nunder this I had already defined the get function of my parameters that I did&#39;t rite in this questio, can anybody help me pls?","title":"Print in file the lexical errors ANTLR intelliJ","body":"<p>I tryed to print in a file the lexical errors from a simple input, I already define my grammar and all is ok, my main is this:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        CharStream charStreamES1 = CharStreams.fromString(&quot;{ int ]a; int b; àint c = 1 ; if (c &gt; 1) { b = c  } else { a = b ; }}&quot;);\n        SimpLanPlusLexer simpleLexer = new SimpLanPlusLexer(charStreamES1);\n        SimpLanPlusParser simpleparser = new SimpLanPlusParser(new CommonTokenStream(simpleLexer));\n        simpleLexer.removeErrorListeners();\n        SyntaxErrorListener act = new SyntaxErrorListener();\n        RecognitionException a = null;\n        act.syntaxError(simpleparser,0,0,0,&quot;msg&quot;,a);\n    }\n}\n</code></pre>\n<p>In the CharStream there are different error like &quot;]&quot; or &quot;à&quot;\nI had Override the syntaxError function like this:</p>\n<pre><code>public class SyntaxErrorListener extends BaseErrorListener {\n    private final List&lt;SyntaxError&gt; SyntaxErrors = new ArrayList();\n\n    public SyntaxErrorListener() {\n    }\n\n    List&lt;SyntaxError&gt; getSyntaxErrors() {\n        return this.SyntaxErrors;\n    }\n\n    public void syntaxError(Recognizer&lt;?, ?&gt; recognizer, Object offendingSymbol, int line, int charPositionInLine, String msg, RecognitionException e) {\n        this.SyntaxErrors.add(new SyntaxError(recognizer, offendingSymbol, line, charPositionInLine, msg, e));\n\n        try {\n            PrintWriter out = new PrintWriter(&quot;Myerrors.txt&quot;);\n            Iterator var8 = this.getSyntaxErrors().iterator();\n\n            while(var8.hasNext()) {\n                SyntaxError i = (SyntaxError)var8.next();\n                out.println(&quot;Error: &quot; + i.getMessage());\n                System.out.println(i.getMessage());\n            }\n\n            out.close();\n        } catch (FileNotFoundException var10) {\n            e.printStackTrace();\n        }\n\n    }\n}\n</code></pre>\n<p>And this is my SyntaxError class:</p>\n<pre><code>public class SyntaxError {\n    private final Recognizer&lt;?, ?&gt; recognizer;\n    private final Object offendingSymbol;\n    private final int line;\n    private final int charPositionInLine;\n    private final String msg;\n    private final RecognitionException e;\n\n    public SyntaxError(Recognizer&lt;?, ?&gt; recognizer, Object offendingSymbol, int line, int charPositionInLine, String msg, RecognitionException e) {\n        this.recognizer = recognizer;\n        this.offendingSymbol = offendingSymbol;\n        this.line = line;\n        this.charPositionInLine = charPositionInLine;\n        this.msg = msg;\n        this.e = e;\n    }\n</code></pre>\n<p>under this I had already defined the get function of my parameters that I did't rite in this questio, can anybody help me pls?</p>\n"},{"tags":["java","list","random","collections","functional-programming"],"comments":[{"owner":{"account_id":5254099,"reputation":1061,"user_id":4197431,"display_name":"Ralf Renz"},"score":1,"creation_date":1647528683,"post_id":71514171,"comment_id":126398186,"body_markdown":"Your method is not working correct if a random number comes up twice. In that case your hand has fewer than n cards.","body":"Your method is not working correct if a random number comes up twice. In that case your hand has fewer than n cards."},{"owner":{"account_id":18500002,"reputation":23,"user_id":13477558,"display_name":"Erik Skjellevik"},"score":0,"creation_date":1647533281,"post_id":71514171,"comment_id":126400200,"body_markdown":"@RalfRenz You are correct. Thanks!","body":"@RalfRenz You are correct. Thanks!"},{"owner":{"account_id":22750553,"reputation":321,"user_id":17236065,"display_name":"Pedro Luiz"},"score":0,"creation_date":1647540379,"post_id":71514171,"comment_id":126402872,"body_markdown":"Have you already found a solution for this ?","body":"Have you already found a solution for this ?"},{"owner":{"account_id":18500002,"reputation":23,"user_id":13477558,"display_name":"Erik Skjellevik"},"score":0,"creation_date":1647545041,"post_id":71514171,"comment_id":126404518,"body_markdown":"@PedroLuiz No. He just pointed out a flaw in my method. The main purpose of this question however is to create a new method using Java Stream.","body":"@PedroLuiz No. He just pointed out a flaw in my method. The main purpose of this question however is to create a new method using Java Stream."},{"owner":{"account_id":5254099,"reputation":1061,"user_id":4197431,"display_name":"Ralf Renz"},"score":0,"creation_date":1647586112,"post_id":71514171,"comment_id":126412725,"body_markdown":"A similar question was asked at https://stackoverflow.com/questions/45981964/how-to-get-a-random-element-from-a-list-with-stream-api.","body":"A similar question was asked at <a href=\"https://stackoverflow.com/questions/45981964/how-to-get-a-random-element-from-a-list-with-stream-api\" title=\"how to get a random element from a list with stream api\">stackoverflow.com/questions/45981964/&hellip;</a>."}],"answers":[{"tags":[],"owner":{"account_id":22750553,"reputation":321,"user_id":17236065,"display_name":"Pedro Luiz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647745115,"creation_date":1647579812,"answer_id":71522668,"question_id":71514171,"body_markdown":"***EDIT*** following the comment &quot;Just tested, and one card got pulled twice... Need to pick 5 different, random cards.&quot;\r\n\r\nOne approach would be to use streams, and generate random numbers, more specifically **primitive streams**.\r\n\r\nThere are some ways of generating random numbers, I think that it looks cleaner it using ThreadLocalRandom, for more information about the difference of generating random numbers with Random.java and ThreadLocalRandom, there&#39;s this article talking about it\r\n\r\n[differente between Random class and ThreadLocalRandom class][1]\r\n\r\nFor example, in your case you could use the **ints()** method, that has different signatures.\r\n\r\n 1. we can bound the random numbers to be in the range of the deck list, so we can randomly get any card inside of it, so we would need a list with these indexes\r\n 2.  we can generate an unlimited stream of pseudorandom int values\r\n 3. filter them to only those who are in the range of the deck indexes list\r\n 4. discard the duplicate ones\r\n 5. limit them to the n bound that you&#39;re going to pass wo dealHand(int n)\r\n\r\nIt fits this signature of **ints()**\r\n\r\n&gt; ThreadLocalRandom.java\r\n\r\n     /**\r\n     * Returns an effectively unlimited stream of pseudorandom {@code\r\n     * int} values, each conforming to the given origin (inclusive) and bound\r\n     * (exclusive).\r\n     *\r\n     * @implNote This method is implemented to be equivalent to {@code\r\n     * ints(Long.MAX_VALUE, randomNumberOrigin, randomNumberBound)}.\r\n     *\r\n     * @param randomNumberOrigin the origin (inclusive) of each random value\r\n     * @param randomNumberBound the bound (exclusive) of each random value\r\n     * @return a stream of pseudorandom {@code int} values,\r\n     *         each with the given origin (inclusive) and bound (exclusive)\r\n     * @throws IllegalArgumentException if {@code randomNumberOrigin}\r\n     *         is greater than or equal to {@code randomNumberBound}\r\n     * @since 1.8\r\n     */\r\n    public IntStream ints(int randomNumberOrigin, int randomNumberBound) {\r\n        ...\r\n    }\r\n\r\nImplementing it on your example\r\n\r\n        public static List&lt;PlayingCard&gt; dealHand(int n){\r\n            // list with indexes of the deck list\r\n            List&lt;Integer&gt; deckIndexes = deck\r\n                    .stream()\r\n                    .map(deck::indexOf)\r\n                    .collect(toList());\r\n\r\n            return ThreadLocalRandom\r\n                    .current()\r\n                    .ints(0, deck.size())\r\n                    .filter(deckIndexes::contains)\r\n                    .distinct()\r\n                    .limit(n)\r\n                    .mapToObj(deck::get)\r\n                    .collect(toList());\r\n        }\r\n\r\n- **.map(deck::indexOf)** maps the deck list into a list with all of its indexes\r\n\r\n- **.ints()** returns a IntStream with the values bounded by 0 and deck.size() and unlimited size\r\n\r\n- **filter(deckIndexes::contains)** filters the list to a list with values in the bound of the deckIndexes list values\r\n\r\n- **distinct()** returns a stream of non duplicate values of the just filtered stream\r\n\r\n- **mapToObj()** is a method from IntStream.java that recieves a IntFunction&lt;R&gt; *functional interface*, that needs to be a **lambda** that takes an int as parameter and a R of return type\r\n\r\n- **limit(n)** truncate the stream to be no longer than n size\r\n\r\n- **.collect()** is the terminal operation that returns a Collection(of List in this case)\r\n\r\nSyou said you wanted lambdas, you can substitute the **method references** used above to\r\n\r\n            .map(card -&gt; deck.indexOf(card))\r\n\r\n            ...\r\n\r\n            .filter(randomInt -&gt; deckIndexes.contains(randomInt))\r\n\r\n            ...\r\n\r\n            .mapToObj(deckIndex -&gt; deck.get(deckIndex))\r\n\r\n\r\n\r\n \r\n\r\n\r\n  [1]: http://thoughtfuljava.blogspot.com/2012/09/prefer-threadlocalrandom-over-random.html","title":"Returning collection of random elements from ArrayList using functional programming","body":"<p><em><strong>EDIT</strong></em> following the comment &quot;Just tested, and one card got pulled twice... Need to pick 5 different, random cards.&quot;</p>\n<p>One approach would be to use streams, and generate random numbers, more specifically <strong>primitive streams</strong>.</p>\n<p>There are some ways of generating random numbers, I think that it looks cleaner it using ThreadLocalRandom, for more information about the difference of generating random numbers with Random.java and ThreadLocalRandom, there's this article talking about it</p>\n<p><a href=\"http://thoughtfuljava.blogspot.com/2012/09/prefer-threadlocalrandom-over-random.html\" rel=\"nofollow noreferrer\">differente between Random class and ThreadLocalRandom class</a></p>\n<p>For example, in your case you could use the <strong>ints()</strong> method, that has different signatures.</p>\n<ol>\n<li>we can bound the random numbers to be in the range of the deck list, so we can randomly get any card inside of it, so we would need a list with these indexes</li>\n<li>we can generate an unlimited stream of pseudorandom int values</li>\n<li>filter them to only those who are in the range of the deck indexes list</li>\n<li>discard the duplicate ones</li>\n<li>limit them to the n bound that you're going to pass wo dealHand(int n)</li>\n</ol>\n<p>It fits this signature of <strong>ints()</strong></p>\n<blockquote>\n<p>ThreadLocalRandom.java</p>\n</blockquote>\n<pre><code> /**\n * Returns an effectively unlimited stream of pseudorandom {@code\n * int} values, each conforming to the given origin (inclusive) and bound\n * (exclusive).\n *\n * @implNote This method is implemented to be equivalent to {@code\n * ints(Long.MAX_VALUE, randomNumberOrigin, randomNumberBound)}.\n *\n * @param randomNumberOrigin the origin (inclusive) of each random value\n * @param randomNumberBound the bound (exclusive) of each random value\n * @return a stream of pseudorandom {@code int} values,\n *         each with the given origin (inclusive) and bound (exclusive)\n * @throws IllegalArgumentException if {@code randomNumberOrigin}\n *         is greater than or equal to {@code randomNumberBound}\n * @since 1.8\n */\npublic IntStream ints(int randomNumberOrigin, int randomNumberBound) {\n    ...\n}\n</code></pre>\n<p>Implementing it on your example</p>\n<pre><code>    public static List&lt;PlayingCard&gt; dealHand(int n){\n        // list with indexes of the deck list\n        List&lt;Integer&gt; deckIndexes = deck\n                .stream()\n                .map(deck::indexOf)\n                .collect(toList());\n\n        return ThreadLocalRandom\n                .current()\n                .ints(0, deck.size())\n                .filter(deckIndexes::contains)\n                .distinct()\n                .limit(n)\n                .mapToObj(deck::get)\n                .collect(toList());\n    }\n</code></pre>\n<ul>\n<li><p><strong>.map(deck::indexOf)</strong> maps the deck list into a list with all of its indexes</p>\n</li>\n<li><p><strong>.ints()</strong> returns a IntStream with the values bounded by 0 and deck.size() and unlimited size</p>\n</li>\n<li><p><strong>filter(deckIndexes::contains)</strong> filters the list to a list with values in the bound of the deckIndexes list values</p>\n</li>\n<li><p><strong>distinct()</strong> returns a stream of non duplicate values of the just filtered stream</p>\n</li>\n<li><p><strong>mapToObj()</strong> is a method from IntStream.java that recieves a IntFunction <em>functional interface</em>, that needs to be a <strong>lambda</strong> that takes an int as parameter and a R of return type</p>\n</li>\n<li><p><strong>limit(n)</strong> truncate the stream to be no longer than n size</p>\n</li>\n<li><p><strong>.collect()</strong> is the terminal operation that returns a Collection(of List in this case)</p>\n</li>\n</ul>\n<p>Syou said you wanted lambdas, you can substitute the <strong>method references</strong> used above to</p>\n<pre><code>        .map(card -&gt; deck.indexOf(card))\n\n        ...\n\n        .filter(randomInt -&gt; deckIndexes.contains(randomInt))\n\n        ...\n\n        .mapToObj(deckIndex -&gt; deck.get(deckIndex))\n</code></pre>\n"}],"owner":{"account_id":18500002,"reputation":23,"user_id":13477558,"display_name":"Erik Skjellevik"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647745115,"creation_date":1647527738,"question_id":71514171,"body_markdown":"Currently working on a card dealing project.\r\nI want a method that deals poker hands. It should randomly pick n(5) elements and return these in a collection(?). Also desired to use Random class to achieve randomness - school orders...\r\n\r\n```\r\npublic ArrayList&lt;PlayingCard&gt; dealHand(int n){\r\n        ArrayList&lt;PlayingCard&gt; hand = new ArrayList&lt;&gt;();\r\n        Random random = new Random();\r\n        for (int i = 0; i &lt; n; i++) {\r\n            PlayingCard card = this.deck.get(random.nextInt(this.deck.size()));\r\n            if (!hand.contains(card)){\r\n                hand.add(card);\r\n            }\r\n        }\r\n        return hand;\r\n    }\r\n```\r\nAssignment: &quot;Create a &quot;dealHand (int n)&quot; method in the DeckOfCards class that randomly picks n cards from the deck and returns them in a collection. &quot;N&quot; is a number between 1 and 52 that is submitted as a parameter to the assign function. This feature can be used, for example, to draw n random cards from the deck. You again choose which class / interface from the Java library you use as the return type of the method.&quot;\r\n\r\nHow do I make this method fulfill the requirements mentioned earlier, using streams, filters and what not (functional programming and lambda)?\r\n\r\n\r\n\r\n\r\nThanks","title":"Returning collection of random elements from ArrayList using functional programming","body":"<p>Currently working on a card dealing project.\nI want a method that deals poker hands. It should randomly pick n(5) elements and return these in a collection(?). Also desired to use Random class to achieve randomness - school orders...</p>\n<pre><code>public ArrayList&lt;PlayingCard&gt; dealHand(int n){\n        ArrayList&lt;PlayingCard&gt; hand = new ArrayList&lt;&gt;();\n        Random random = new Random();\n        for (int i = 0; i &lt; n; i++) {\n            PlayingCard card = this.deck.get(random.nextInt(this.deck.size()));\n            if (!hand.contains(card)){\n                hand.add(card);\n            }\n        }\n        return hand;\n    }\n</code></pre>\n<p>Assignment: &quot;Create a &quot;dealHand (int n)&quot; method in the DeckOfCards class that randomly picks n cards from the deck and returns them in a collection. &quot;N&quot; is a number between 1 and 52 that is submitted as a parameter to the assign function. This feature can be used, for example, to draw n random cards from the deck. You again choose which class / interface from the Java library you use as the return type of the method.&quot;</p>\n<p>How do I make this method fulfill the requirements mentioned earlier, using streams, filters and what not (functional programming and lambda)?</p>\n<p>Thanks</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":3,"creation_date":1647743772,"post_id":71543608,"comment_id":126447029,"body_markdown":"Please show the code you executed that shows this behavior.","body":"Please show the code you executed that shows this behavior."},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1647743938,"post_id":71543608,"comment_id":126447046,"body_markdown":"Try reading these answers https://stackoverflow.com/q/513832/217324","body":"Try reading these answers <a href=\"https://stackoverflow.com/q/513832/217324\">stackoverflow.com/q/513832/217324</a>"},{"owner":{"account_id":1888690,"reputation":3005,"user_id":1707353,"accept_rate":91,"display_name":"Jeff Holt"},"score":1,"creation_date":1647744296,"post_id":71543608,"comment_id":126447090,"body_markdown":"&quot;why would it give False?&quot; It would not give `false`. Show the code demonstrating that it gives `false`.","body":"&quot;why would it give False?&quot; It would not give <code>false</code>. Show the code demonstrating that it gives <code>false</code>."}],"answers":[{"tags":[],"owner":{"account_id":468537,"reputation":2527,"user_id":874596,"display_name":"Bela Vizer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647744252,"creation_date":1647743898,"answer_id":71543631,"question_id":71543608,"body_markdown":"It is called String interning. If the constant (in this case &quot;John&quot;) is a [compile time constant][1], then the compiler will use &quot;John&quot;.intern() when compiling and it will go to the string &quot;pool&quot;  hence the 2 &quot;interned&quot; string reference will be the same therefore using &quot;==&quot; will return **true**. [JVM spec][2] page 359:\r\n\r\n&gt; If the method String.intern has previously been invoked on an instance\r\n&gt; of\r\n&gt;     class String containing a sequence of Unicode code points identical to that\r\n&gt;     given by the CONSTANT_String_info structure, then the string constant is a\r\n&gt;     reference to that same instance of class String\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/56973722/determine-whether-a-string-is-a-compile-time-constant\r\n  [2]: https://docs.oracle.com/javase/specs/jvms/se14/jvms14.pdf","title":"String Immutable in Java","body":"<p>It is called String interning. If the constant (in this case &quot;John&quot;) is a <a href=\"https://stackoverflow.com/questions/56973722/determine-whether-a-string-is-a-compile-time-constant\">compile time constant</a>, then the compiler will use &quot;John&quot;.intern() when compiling and it will go to the string &quot;pool&quot;  hence the 2 &quot;interned&quot; string reference will be the same therefore using &quot;==&quot; will return <strong>true</strong>. <a href=\"https://docs.oracle.com/javase/specs/jvms/se14/jvms14.pdf\" rel=\"nofollow noreferrer\">JVM spec</a> page 359:</p>\n<blockquote>\n<p>If the method String.intern has previously been invoked on an instance\nof\nclass String containing a sequence of Unicode code points identical to that\ngiven by the CONSTANT_String_info structure, then the string constant is a\nreference to that same instance of class String</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7036011,"reputation":23,"user_id":5390096,"display_name":"Anup"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1647744240,"creation_date":1647744240,"answer_id":71543653,"question_id":71543608,"body_markdown":"The == operator is used for checking the reference of both the string objects in Java.\r\n\r\nhttps://dzone.com/articles/how-do-i-compare-strings-in-java (search for Problems Using the == Operator for String Comparison)","title":"String Immutable in Java","body":"<p>The == operator is used for checking the reference of both the string objects in Java.</p>\n<p><a href=\"https://dzone.com/articles/how-do-i-compare-strings-in-java\" rel=\"nofollow noreferrer\">https://dzone.com/articles/how-do-i-compare-strings-in-java</a> (search for Problems Using the == Operator for String Comparison)</p>\n"}],"owner":{"account_id":19832944,"reputation":5,"user_id":14527102,"display_name":"Justin"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1647744997,"answer_count":2,"score":-3,"last_activity_date":1647745083,"creation_date":1647743541,"question_id":71543608,"body_markdown":"I wanted to ask about String and Reference\r\nvariable,\r\nString name = &quot;John&quot;\r\nString str= &quot;John&quot;\r\nIn the video it says that it will refer to the value\r\n&quot;John&quot; instead of creating another value &quot;John&quot;. If\r\nthis was the case then if we compare (name == str) why would it give False? Does variable name\r\nand Str refer to the same address in the Heap?","title":"String Immutable in Java","body":"<p>I wanted to ask about String and Reference\nvariable,\nString name = &quot;John&quot;\nString str= &quot;John&quot;\nIn the video it says that it will refer to the value\n&quot;John&quot; instead of creating another value &quot;John&quot;. If\nthis was the case then if we compare (name == str) why would it give False? Does variable name\nand Str refer to the same address in the Heap?</p>\n"},{"tags":["java","spring","docker","containers","docker-api"],"comments":[{"owner":{"account_id":13863020,"reputation":137033,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1647774504,"post_id":71543658,"comment_id":126451069,"body_markdown":"You seem to have attached two image files to the question in place of your code.  Can you [edit] the question and replace those images with the text of your Dockerfile and Java code?","body":"You seem to have attached two image files to the question in place of your code.  Can you <a href=\"https://stackoverflow.com/posts/71543658/edit\">edit</a> the question and replace those images with the text of your Dockerfile and Java code?"},{"owner":{"account_id":13863020,"reputation":137033,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1647774619,"post_id":71543658,"comment_id":126451093,"body_markdown":"(If you have access to the host&#39;s Docker socket to do the operations you describe, I&#39;m not sure why the network details you talk about should matter.  Also, if you have access to the host&#39;s Docker socket, you can fairly trivially root the entire host; do you _really_ need to perform this operation from this application?)","body":"(If you have access to the host&#39;s Docker socket to do the operations you describe, I&#39;m not sure why the network details you talk about should matter.  Also, if you have access to the host&#39;s Docker socket, you can fairly trivially root the entire host; do you <i>really</i> need to perform this operation from this application?)"}],"owner":{"account_id":22002419,"reputation":79,"user_id":16273950,"display_name":"Marouen Ghozzi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647744275,"creation_date":1647744275,"question_id":71543658,"body_markdown":"I have a spring boot app dockerised named monitormaster\r\nI need to connect to another container host to do some manipulation on it like restart , stop , start ... \r\n\r\nI have problem in docker api with the host (&quot; maybe &quot; ).\r\n\r\nThis is my docker file : \r\n\r\n[![enter image description here][1]][1]\r\n\r\nand this my code : \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nPS : i&#39;m using a default network bridge on windonws containing two container , the spring boot container named monitormaster and another container X that i need to make on it some manipulation through ws , when i inspect the host of container X it&#39;s &#39;172.24.0.2&#39;(i&#39;m using docker on windows) . but it throw route not reachable and with host.docker.internal as it is in the screen shot the exception is : \r\ncom.github.dockerjava.api.exception.NotFoundException: {&quot;timestamp&quot;:&quot;2022-03-20T02:24:00.723+00:00&quot;,&quot;status&quot;:404,&quot;error&quot;:&quot;Not Found&quot;,&quot;path&quot;:&quot;/containers/json&quot;}\r\n\r\n\r\nplease anyone help me how to make a correct docker config with the correct host and how to get the host of a container from another container .\r\n\r\nthank you all!\r\n\r\n  [1]: https://i.stack.imgur.com/ldkhK.png\r\n  [2]: https://i.stack.imgur.com/Zm3SS.png","title":"manipulate docker container from through another container using java docker api","body":"<p>I have a spring boot app dockerised named monitormaster\nI need to connect to another container host to do some manipulation on it like restart , stop , start ...</p>\n<p>I have problem in docker api with the host (&quot; maybe &quot; ).</p>\n<p>This is my docker file :</p>\n<p><a href=\"https://i.stack.imgur.com/ldkhK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ldkhK.png\" alt=\"enter image description here\" /></a></p>\n<p>and this my code :</p>\n<p><a href=\"https://i.stack.imgur.com/Zm3SS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Zm3SS.png\" alt=\"enter image description here\" /></a></p>\n<p>PS : i'm using a default network bridge on windonws containing two container , the spring boot container named monitormaster and another container X that i need to make on it some manipulation through ws , when i inspect the host of container X it's '172.24.0.2'(i'm using docker on windows) . but it throw route not reachable and with host.docker.internal as it is in the screen shot the exception is :\ncom.github.dockerjava.api.exception.NotFoundException: {&quot;timestamp&quot;:&quot;2022-03-20T02:24:00.723+00:00&quot;,&quot;status&quot;:404,&quot;error&quot;:&quot;Not Found&quot;,&quot;path&quot;:&quot;/containers/json&quot;}</p>\n<p>please anyone help me how to make a correct docker config with the correct host and how to get the host of a container from another container .</p>\n<p>thank you all!</p>\n"},{"tags":["java","android","kotlin","telecom-manager"],"comments":[{"owner":{"display_name":"user5132301"},"score":0,"creation_date":1626955748,"post_id":68463005,"comment_id":121032934,"body_markdown":"https://kotlinlang.org/docs/lambdas.html#lambda-expressions-and-anonymous-functions","body":"<a href=\"https://kotlinlang.org/docs/lambdas.html#lambda-expressions-and-anonymous-functions\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1468853,"reputation":3627,"user_id":1380933,"display_name":"Vadik Sirekanyan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1626955118,"creation_date":1626837138,"answer_id":68463548,"question_id":68463005,"body_markdown":"This code in Kotlin:\r\n```kotlin\r\nservice.connectionListener = { addConnection(it) }\r\n```\r\n\r\nCorresponds to this code in Java:\r\n```java\r\nservice.setConnectionListener(connection -&gt; {\r\n    addConnection(connection);\r\n    return Unit.INSTANCE;\r\n});\r\n```\r\n\r\nIt is assumed that `Service` class is written in Kotlin and looks like this:\r\n```kotlin\r\nclass Service {\r\n    var connectionListener: (Connection) -&gt; Unit = {}\r\n}\r\n```\r\n\r\n**Update:**\r\n\r\nIf you want to rewrite `Service` class too, your code will be:\r\n```java\r\nservice.connectionListener = connection -&gt; {\r\n    addConnection(connection);\r\n    return null;\r\n};\r\n```\r\n\r\n`Service` class in Java:\r\n```java\r\nclass Service {\r\n    Function&lt;Connection, Void&gt; connectionListener = connection -&gt; null;\r\n}\r\n```","title":"Kotlin to Java migration","body":"<p>This code in Kotlin:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>service.connectionListener = { addConnection(it) }\n</code></pre>\n<p>Corresponds to this code in Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>service.setConnectionListener(connection -&gt; {\n    addConnection(connection);\n    return Unit.INSTANCE;\n});\n</code></pre>\n<p>It is assumed that <code>Service</code> class is written in Kotlin and looks like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class Service {\n    var connectionListener: (Connection) -&gt; Unit = {}\n}\n</code></pre>\n<p><strong>Update:</strong></p>\n<p>If you want to rewrite <code>Service</code> class too, your code will be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>service.connectionListener = connection -&gt; {\n    addConnection(connection);\n    return null;\n};\n</code></pre>\n<p><code>Service</code> class in Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Service {\n    Function&lt;Connection, Void&gt; connectionListener = connection -&gt; null;\n}\n</code></pre>\n"}],"owner":{"account_id":3548788,"reputation":725,"user_id":2964111,"display_name":"Primata L&#243;gico"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":68463548,"answer_count":1,"score":1,"last_activity_date":1647744235,"creation_date":1626830874,"question_id":68463005,"body_markdown":"I am unable to translate(from Kotlin to Java) or understand this statement `service.connectionListener = { addConnection(it) }` which is found in the inner class of the following file:\r\n\r\n    class MainActivity : AppCompatActivity() {\r\n        private val serviceConnection = CallServiceConnection()\r\n        private var connection: TComConnection? = null\r\n        private val tcomManager: TComManager by lazy { TComManager(applicationContext) }\r\n        private val requiredPermissions =\r\n            arrayOf(\r\n                android.Manifest.permission.READ_PHONE_STATE,\r\n                android.Manifest.permission.READ_CALL_LOG\r\n            )\r\n    \r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            setContentView(R.layout.activity_main)\r\n    \r\n            drop_btn.setOnClickListener { closeConnection() }\r\n    \r\n            answer_btn.setOnClickListener {\r\n                val conn = connection\r\n                if (conn != null) {\r\n                    conn.setActive()\r\n                } else {\r\n                    Toast.makeText(applicationContext, &quot;there is no call&quot;, Toast.LENGTH_SHORT).show()\r\n                }\r\n            }\r\n    \r\n            incoming_btn.setOnClickListener {\r\n                if (!hasPermissions()) {\r\n                    requestPermissions(requiredPermissions, 1)\r\n                    Toast.makeText(applicationContext, &quot;don&#39;t have permissions&quot;, Toast.LENGTH_SHORT).show()\r\n                    return@setOnClickListener\r\n                }\r\n    \r\n                try {\r\n                    if (tcomManager.registerAccount()) {\r\n                        tcomManager.addIncomingCall()\r\n                    } else {\r\n                        Toast.makeText(applicationContext, &quot;account isn&#39;t registered&quot;, Toast.LENGTH_SHORT).show()\r\n                    }\r\n                } catch (e: Exception) {\r\n                    Toast.makeText(applicationContext, e.message, Toast.LENGTH_SHORT).show()\r\n                }\r\n            }\r\n    \r\n            outgoing_btn.setOnClickListener {\r\n                if (!hasPermissions()) {\r\n                    requestPermissions(requiredPermissions, 1)\r\n                    Toast.makeText(applicationContext, &quot;don&#39;t have permissions&quot;, Toast.LENGTH_SHORT).show()\r\n                    return@setOnClickListener\r\n                }\r\n    \r\n                try {\r\n                    if (tcomManager.registerAccount()) {\r\n                        tcomManager.addOutgoingCall()\r\n                    } else {\r\n                        Toast.makeText(applicationContext, &quot;account isn&#39;t registered&quot;, Toast.LENGTH_SHORT).show()\r\n                    }\r\n                } catch (e: Exception) {\r\n                    Toast.makeText(applicationContext, e.message, Toast.LENGTH_SHORT).show()\r\n                }\r\n            }\r\n        }\r\n    \r\n        override fun onStart() {\r\n            super.onStart()\r\n    \r\n            Intent(this, CallService::class.java).also { intent -&gt;\r\n                bindService(intent, serviceConnection, Context.BIND_AUTO_CREATE)\r\n            }\r\n        }\r\n    \r\n    \r\n        override fun onStop() {\r\n            super.onStop()\r\n            closeConnection()\r\n            unbindService(serviceConnection)\r\n        }\r\n    \r\n    \r\n        private fun hasPermissions(): Boolean {\r\n            return requiredPermissions.all { checkSelfPermission(it) == PackageManager.PERMISSION_GRANTED }\r\n        }\r\n    \r\n    \r\n        private fun closeConnection() {\r\n            connection?.let {\r\n                if (!it.isClosed()) {\r\n                    it.setDisconnected(DisconnectCause(DisconnectCause.CANCELED))\r\n                }\r\n                it.listener = {}\r\n            }\r\n    \r\n            val stateText = &quot;state: no call&quot;\r\n            state_label.text = stateText\r\n        }\r\n    \r\n        private fun addConnection(newConnection: TComConnection) {\r\n            newConnection.listener = {\r\n                val stateText = &quot;state: ${Connection.stateToString(it)}&quot;\r\n                state_label.text = stateText\r\n            }\r\n            connection = newConnection\r\n            val stateText = &quot;state: ${Connection.stateToString(newConnection.state)}&quot;\r\n            state_label.text = stateText\r\n        }\r\n    \r\n    \r\n        inner class CallServiceConnection : ServiceConnection {\r\n            private var callService: CallService? = null\r\n            override fun onServiceConnected(name: ComponentName?, binder: IBinder?) {\r\n                val callSrvBinder = binder as CallService.CallServiceBinder\r\n                val service = callSrvBinder.getCallService()\r\n                service.connectionListener = { addConnection(it) }\r\n                callService = service\r\n            }\r\n    \r\n            override fun onServiceDisconnected(name: ComponentName?) {\r\n                callService?.connectionListener = {}\r\n            }\r\n        }\r\n    }\r\n\r\nI was unable to translate the above statement (commented out):\r\n\r\n    public class CallServiceConnection implements ServiceConnection {\r\n            private CallService callService = null;\r\n    \r\n            @Override\r\n            public void onServiceConnected(ComponentName name, IBinder binder) {\r\n                CallService.CallServiceBinder callSrvBinder = (CallService.CallServiceBinder)binder;\r\n                CallService service = callSrvBinder.getCallService();\r\n                //service.addConnection(); // &lt;--------\r\n                callService = service;\r\n            }\r\n    \r\n            @Override\r\n            public void onServiceDisconnected(ComponentName name) {\r\n                callService.addConnection(null);\r\n            }\r\n        }\r\n","title":"Kotlin to Java migration","body":"<p>I am unable to translate(from Kotlin to Java) or understand this statement <code>service.connectionListener = { addConnection(it) }</code> which is found in the inner class of the following file:</p>\n<pre><code>class MainActivity : AppCompatActivity() {\n    private val serviceConnection = CallServiceConnection()\n    private var connection: TComConnection? = null\n    private val tcomManager: TComManager by lazy { TComManager(applicationContext) }\n    private val requiredPermissions =\n        arrayOf(\n            android.Manifest.permission.READ_PHONE_STATE,\n            android.Manifest.permission.READ_CALL_LOG\n        )\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        drop_btn.setOnClickListener { closeConnection() }\n\n        answer_btn.setOnClickListener {\n            val conn = connection\n            if (conn != null) {\n                conn.setActive()\n            } else {\n                Toast.makeText(applicationContext, &quot;there is no call&quot;, Toast.LENGTH_SHORT).show()\n            }\n        }\n\n        incoming_btn.setOnClickListener {\n            if (!hasPermissions()) {\n                requestPermissions(requiredPermissions, 1)\n                Toast.makeText(applicationContext, &quot;don't have permissions&quot;, Toast.LENGTH_SHORT).show()\n                return@setOnClickListener\n            }\n\n            try {\n                if (tcomManager.registerAccount()) {\n                    tcomManager.addIncomingCall()\n                } else {\n                    Toast.makeText(applicationContext, &quot;account isn't registered&quot;, Toast.LENGTH_SHORT).show()\n                }\n            } catch (e: Exception) {\n                Toast.makeText(applicationContext, e.message, Toast.LENGTH_SHORT).show()\n            }\n        }\n\n        outgoing_btn.setOnClickListener {\n            if (!hasPermissions()) {\n                requestPermissions(requiredPermissions, 1)\n                Toast.makeText(applicationContext, &quot;don't have permissions&quot;, Toast.LENGTH_SHORT).show()\n                return@setOnClickListener\n            }\n\n            try {\n                if (tcomManager.registerAccount()) {\n                    tcomManager.addOutgoingCall()\n                } else {\n                    Toast.makeText(applicationContext, &quot;account isn't registered&quot;, Toast.LENGTH_SHORT).show()\n                }\n            } catch (e: Exception) {\n                Toast.makeText(applicationContext, e.message, Toast.LENGTH_SHORT).show()\n            }\n        }\n    }\n\n    override fun onStart() {\n        super.onStart()\n\n        Intent(this, CallService::class.java).also { intent -&gt;\n            bindService(intent, serviceConnection, Context.BIND_AUTO_CREATE)\n        }\n    }\n\n\n    override fun onStop() {\n        super.onStop()\n        closeConnection()\n        unbindService(serviceConnection)\n    }\n\n\n    private fun hasPermissions(): Boolean {\n        return requiredPermissions.all { checkSelfPermission(it) == PackageManager.PERMISSION_GRANTED }\n    }\n\n\n    private fun closeConnection() {\n        connection?.let {\n            if (!it.isClosed()) {\n                it.setDisconnected(DisconnectCause(DisconnectCause.CANCELED))\n            }\n            it.listener = {}\n        }\n\n        val stateText = &quot;state: no call&quot;\n        state_label.text = stateText\n    }\n\n    private fun addConnection(newConnection: TComConnection) {\n        newConnection.listener = {\n            val stateText = &quot;state: ${Connection.stateToString(it)}&quot;\n            state_label.text = stateText\n        }\n        connection = newConnection\n        val stateText = &quot;state: ${Connection.stateToString(newConnection.state)}&quot;\n        state_label.text = stateText\n    }\n\n\n    inner class CallServiceConnection : ServiceConnection {\n        private var callService: CallService? = null\n        override fun onServiceConnected(name: ComponentName?, binder: IBinder?) {\n            val callSrvBinder = binder as CallService.CallServiceBinder\n            val service = callSrvBinder.getCallService()\n            service.connectionListener = { addConnection(it) }\n            callService = service\n        }\n\n        override fun onServiceDisconnected(name: ComponentName?) {\n            callService?.connectionListener = {}\n        }\n    }\n}\n</code></pre>\n<p>I was unable to translate the above statement (commented out):</p>\n<pre><code>public class CallServiceConnection implements ServiceConnection {\n        private CallService callService = null;\n\n        @Override\n        public void onServiceConnected(ComponentName name, IBinder binder) {\n            CallService.CallServiceBinder callSrvBinder = (CallService.CallServiceBinder)binder;\n            CallService service = callSrvBinder.getCallService();\n            //service.addConnection(); // &lt;--------\n            callService = service;\n        }\n\n        @Override\n        public void onServiceDisconnected(ComponentName name) {\n            callService.addConnection(null);\n        }\n    }\n</code></pre>\n"},{"tags":["java","http","sockets","proxy","socks"],"answers":[{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647743006,"creation_date":1647743006,"answer_id":71543578,"question_id":71458959,"body_markdown":"This seems to be a bug in the JDK: [JDK-7141231](https://bugs.openjdk.java.net/browse/JDK-7141231)\r\n\r\nDespite `java.net.SocksSocketImpl` in theory [supporting proxy failover](https://github.com/openjdk/jdk/blob/3f923b82c31325504430b50dee262fd460004e7b/src/java.base/share/classes/java/net/SocksSocketImpl.java#L343-L350); in reality this does apparently not work because after the first failed connection attempt the socket is closed, but that same closed socket is used for any subsequent connection attemps, which therefore fail with &quot;Socket closed&quot; (which you are seeing).\r\n\r\nThe reason why changing the proxy type to HTTP &quot;works&quot; is because it performs a direct connection, [ignoring all other specified proxies](https://github.com/openjdk/jdk/blob/3f923b82c31325504430b50dee262fd460004e7b/src/java.base/share/classes/java/net/SocksSocketImpl.java#L326-L329).","title":"Java ProxySelector undefined behaviour","body":"<p>This seems to be a bug in the JDK: <a href=\"https://bugs.openjdk.java.net/browse/JDK-7141231\" rel=\"nofollow noreferrer\">JDK-7141231</a></p>\n<p>Despite <code>java.net.SocksSocketImpl</code> in theory <a href=\"https://github.com/openjdk/jdk/blob/3f923b82c31325504430b50dee262fd460004e7b/src/java.base/share/classes/java/net/SocksSocketImpl.java#L343-L350\" rel=\"nofollow noreferrer\">supporting proxy failover</a>; in reality this does apparently not work because after the first failed connection attempt the socket is closed, but that same closed socket is used for any subsequent connection attemps, which therefore fail with &quot;Socket closed&quot; (which you are seeing).</p>\n<p>The reason why changing the proxy type to HTTP &quot;works&quot; is because it performs a direct connection, <a href=\"https://github.com/openjdk/jdk/blob/3f923b82c31325504430b50dee262fd460004e7b/src/java.base/share/classes/java/net/SocksSocketImpl.java#L326-L329\" rel=\"nofollow noreferrer\">ignoring all other specified proxies</a>.</p>\n"}],"owner":{"account_id":7642693,"reputation":1180,"user_id":5794313,"display_name":"Sync it"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":395,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71543578,"answer_count":1,"score":1,"last_activity_date":1647743006,"creation_date":1647190917,"question_id":71458959,"body_markdown":"I am experimenting with Proxies in java networking. I have [read](https://docs.oracle.com/javase/8/docs/technotes/guides/net/proxies.html) the documentation regarding them and am currently testing ProxySelector.\r\n\r\nI notice 2 types of behaviour of this ProxySelector when using with HttpURLConnection &amp; when using with Socket class\r\n\r\nWhen using with HttpUrlConnection with this code\r\n\r\n      class CustomSelector extends ProxySelector\r\n      {\r\n       @Override\r\n       public List&lt;Proxy&gt; select(URI uri)\r\n       {\r\n        System.out.println(&quot;Selecting&quot;);\r\n        System.out.println(&quot;===============&quot;);\r\n        \r\n        return List.of\r\n        (\r\n          new Proxy(Proxy.Type.HTTP,new InetSocketAddress(&quot;localhost&quot;,5000))\r\n         ,new Proxy(Proxy.Type.HTTP,new InetSocketAddress(&quot;localhost&quot;,8000))\r\n         ,Proxy.NO_PROXY\r\n        ); \r\n       }\r\n    \r\n       @Override\r\n       public void connectFailed(URI uri, SocketAddress sa, IOException ioe) \r\n       {\r\n        System.out.println(&quot;Failed:&quot;+uri);\r\n        System.out.println(&quot;Address:&quot;+sa);\r\n        System.out.println(&quot;Exception:&quot;+sa);\r\n        System.out.println(&quot;=========================&quot;);\r\n       }\r\n      } \r\n\r\n     public static void main(String[] args)throws Exception\r\n     {\r\n      ProxySelector.setDefault(new CustomSelector());\r\n      \r\n      HttpURLConnection con=(HttpURLConnection)new URL(&quot;http://192.168.1.2:2000/Test&quot;)\r\n                            .openConnection();\r\n     \r\n      System.out.println(con.getResponseMessage());\r\n      \r\n      con.disconnect();\r\n     }  \r\n\r\nI get the expected output\r\n\r\n    Selecting\r\n    ===============\r\n    Failed:http://192.168.1.2:2000/Test\r\n    Address:localhost/127.0.0.1:5000\r\n    Exception:localhost/127.0.0.1:5000\r\n    =========================\r\n    Failed:http://192.168.1.2:2000/Test\r\n    Address:localhost/127.0.0.1:8000\r\n    Exception:localhost/127.0.0.1:8000\r\n    =========================\r\n    Not-Implemented\r\n\r\nThis makes sense because ports 5000 &amp; 8000 are just dummy ports with no server running on it hence connection fails on them and it finally goes to NO_PROXY which directly connects to my custom HttpServer running on port 2000 which returns not implemented for everything\r\n\r\n\r\nNow i work with Sockets using the same procedure . Again i have verified that my server is running on port 2000\r\n\r\n \r\n\r\n      class CustomSelector extends ProxySelector\r\n      {\r\n       @Override\r\n       public List&lt;Proxy&gt; select(URI uri)\r\n       {\r\n        System.out.println(&quot;Selecting&quot;);\r\n        System.out.println(&quot;===============&quot;);\r\n        \r\n         return List.of\r\n        (\r\n           new Proxy(Proxy.Type.SOCKS,new InetSocketAddress(&quot;localhost&quot;,5000))\r\n          ,new Proxy(Proxy.Type.SOCKS,new InetSocketAddress(&quot;localhost&quot;,8000))\r\n         ,Proxy.NO_PROXY \r\n       ); \r\n       }\r\n    \r\n       @Override\r\n       public void connectFailed(URI uri, SocketAddress sa, IOException ioe) \r\n       {\r\n        System.out.println(&quot;Failed:&quot;+uri);\r\n        System.out.println(&quot;Address:&quot;+sa);\r\n        System.out.println(&quot;Exception:&quot;+sa);\r\n        System.out.println(&quot;=========================&quot;);\r\n       }\r\n      } \r\n    \r\n     public static void main(String[] args)throws Exception\r\n     {\r\n      ProxySelector.setDefault(new CustomSelector());\r\n      \r\n      try(Socket client=new Socket())\r\n      {\r\n       System.out.println(&quot;Connecting&quot;);\r\n      \r\n       client.connect(new InetSocketAddress(InetAddress.getLocalHost(),2000));\r\n      \r\n       System.out.println(&quot;Connected&quot;);\r\n       } \r\n      }     \r\n\r\nI get this output\r\n\r\n    Connecting\r\n    Selecting\r\n    ===============\r\n    Failed:socket://DESKTOP-1N0I046:2000\r\n    Address:localhost/127.0.0.1:5000\r\n    Exception:localhost/127.0.0.1:5000\r\n    =========================\r\n    Failed:socket://DESKTOP-1N0I046:2000\r\n    Address:localhost/127.0.0.1:8000\r\n    Exception:localhost/127.0.0.1:8000\r\n    =========================\r\n    Exception in thread &quot;main&quot; java.net.SocketException: Socket closed\r\n    \tat java.base/sun.nio.ch.NioSocketImpl.beginConnect(NioSocketImpl.java:498)\r\n    \tat java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:580)\r\n    \tat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\r\n    \tat java.base/java.net.Socket.connect(Socket.java:633)\r\n    \tat java.base/java.net.Socket.connect(Socket.java:583)\r\n    \tat n_networking.proxy.TCPClient.main(TCPClient.java:237)\r\n\r\nThis should not happen as the last option in the Proxy List is NO_PROXY which means direct connection without any proxy which should succeed but it seems that the ProxySelector never uses that last option in the list \r\n\r\nWhats more bizarre is that if i change my ProxyType from SOCKS to HTTP as follows. I know it doesn&#39;t make sense in this context but this is just for testing purposes\r\n\r\n \r\n\r\n       @Override\r\n       public List&lt;Proxy&gt; select(URI uri)\r\n       {\r\n        System.out.println(&quot;Selecting&quot;);\r\n        System.out.println(&quot;===============&quot;);\r\n        \r\n         return List.of\r\n         (\r\n           new Proxy(Proxy.Type.HTTP,new InetSocketAddress(&quot;localhost&quot;,5000))\r\n          ,new Proxy(Proxy.Type.HTTP,new InetSocketAddress(&quot;localhost&quot;,8000))\r\n          ,Proxy.NO_PROXY \r\n         ); \r\n       } \r\n\r\nThen everything works\r\n\r\nOutput : \r\n\r\n    Connecting\r\n    Selecting\r\n    ===============\r\n    Connected\r\n\r\nFor some reason it skips all HTTP proxy types and not even test then.\r\n\r\nI have used Sockets with Proxy.HTTP and it works perfectly as it issues an CONNECT command first before sending data.\r\n\r\nHere is my dummy server i use for both these test cases\r\n\r\n     public static void main(String[] args)throws Exception\r\n     {\r\n      try(ServerSocket server=new ServerSocket(2000,0,InetAddress.getLocalHost()))\r\n      {\r\n       System.out.println(&quot;Main Server Started&quot;);\r\n       \r\n       try(Socket socket=server.accept())\r\n       {\r\n        System.out.println(&quot;Accepted&quot;);\r\n    \r\n        socket.getOutputStream().write(&quot;HTTP/1.1 501 Not-Implemented\\r\\n\\r\\n&quot;.getBytes());\r\n    \r\n        socket.getOutputStream().flush();\r\n       }\r\n     }\r\n    }\r\n\r\n\r\nWhy these differences? I am using jdk 17.0.2 with windows 10\r\n\r\n","title":"Java ProxySelector undefined behaviour","body":"<p>I am experimenting with Proxies in java networking. I have <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/net/proxies.html\" rel=\"nofollow noreferrer\">read</a> the documentation regarding them and am currently testing ProxySelector.</p>\n<p>I notice 2 types of behaviour of this ProxySelector when using with HttpURLConnection &amp; when using with Socket class</p>\n<p>When using with HttpUrlConnection with this code</p>\n<pre><code>  class CustomSelector extends ProxySelector\n  {\n   @Override\n   public List&lt;Proxy&gt; select(URI uri)\n   {\n    System.out.println(&quot;Selecting&quot;);\n    System.out.println(&quot;===============&quot;);\n    \n    return List.of\n    (\n      new Proxy(Proxy.Type.HTTP,new InetSocketAddress(&quot;localhost&quot;,5000))\n     ,new Proxy(Proxy.Type.HTTP,new InetSocketAddress(&quot;localhost&quot;,8000))\n     ,Proxy.NO_PROXY\n    ); \n   }\n\n   @Override\n   public void connectFailed(URI uri, SocketAddress sa, IOException ioe) \n   {\n    System.out.println(&quot;Failed:&quot;+uri);\n    System.out.println(&quot;Address:&quot;+sa);\n    System.out.println(&quot;Exception:&quot;+sa);\n    System.out.println(&quot;=========================&quot;);\n   }\n  } \n\n public static void main(String[] args)throws Exception\n {\n  ProxySelector.setDefault(new CustomSelector());\n  \n  HttpURLConnection con=(HttpURLConnection)new URL(&quot;http://192.168.1.2:2000/Test&quot;)\n                        .openConnection();\n \n  System.out.println(con.getResponseMessage());\n  \n  con.disconnect();\n }  \n</code></pre>\n<p>I get the expected output</p>\n<pre><code>Selecting\n===============\nFailed:http://192.168.1.2:2000/Test\nAddress:localhost/127.0.0.1:5000\nException:localhost/127.0.0.1:5000\n=========================\nFailed:http://192.168.1.2:2000/Test\nAddress:localhost/127.0.0.1:8000\nException:localhost/127.0.0.1:8000\n=========================\nNot-Implemented\n</code></pre>\n<p>This makes sense because ports 5000 &amp; 8000 are just dummy ports with no server running on it hence connection fails on them and it finally goes to NO_PROXY which directly connects to my custom HttpServer running on port 2000 which returns not implemented for everything</p>\n<p>Now i work with Sockets using the same procedure . Again i have verified that my server is running on port 2000</p>\n<pre><code>  class CustomSelector extends ProxySelector\n  {\n   @Override\n   public List&lt;Proxy&gt; select(URI uri)\n   {\n    System.out.println(&quot;Selecting&quot;);\n    System.out.println(&quot;===============&quot;);\n    \n     return List.of\n    (\n       new Proxy(Proxy.Type.SOCKS,new InetSocketAddress(&quot;localhost&quot;,5000))\n      ,new Proxy(Proxy.Type.SOCKS,new InetSocketAddress(&quot;localhost&quot;,8000))\n     ,Proxy.NO_PROXY \n   ); \n   }\n\n   @Override\n   public void connectFailed(URI uri, SocketAddress sa, IOException ioe) \n   {\n    System.out.println(&quot;Failed:&quot;+uri);\n    System.out.println(&quot;Address:&quot;+sa);\n    System.out.println(&quot;Exception:&quot;+sa);\n    System.out.println(&quot;=========================&quot;);\n   }\n  } \n\n public static void main(String[] args)throws Exception\n {\n  ProxySelector.setDefault(new CustomSelector());\n  \n  try(Socket client=new Socket())\n  {\n   System.out.println(&quot;Connecting&quot;);\n  \n   client.connect(new InetSocketAddress(InetAddress.getLocalHost(),2000));\n  \n   System.out.println(&quot;Connected&quot;);\n   } \n  }     \n</code></pre>\n<p>I get this output</p>\n<pre><code>Connecting\nSelecting\n===============\nFailed:socket://DESKTOP-1N0I046:2000\nAddress:localhost/127.0.0.1:5000\nException:localhost/127.0.0.1:5000\n=========================\nFailed:socket://DESKTOP-1N0I046:2000\nAddress:localhost/127.0.0.1:8000\nException:localhost/127.0.0.1:8000\n=========================\nException in thread &quot;main&quot; java.net.SocketException: Socket closed\n    at java.base/sun.nio.ch.NioSocketImpl.beginConnect(NioSocketImpl.java:498)\n    at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:580)\n    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\n    at java.base/java.net.Socket.connect(Socket.java:633)\n    at java.base/java.net.Socket.connect(Socket.java:583)\n    at n_networking.proxy.TCPClient.main(TCPClient.java:237)\n</code></pre>\n<p>This should not happen as the last option in the Proxy List is NO_PROXY which means direct connection without any proxy which should succeed but it seems that the ProxySelector never uses that last option in the list</p>\n<p>Whats more bizarre is that if i change my ProxyType from SOCKS to HTTP as follows. I know it doesn't make sense in this context but this is just for testing purposes</p>\n<pre><code>   @Override\n   public List&lt;Proxy&gt; select(URI uri)\n   {\n    System.out.println(&quot;Selecting&quot;);\n    System.out.println(&quot;===============&quot;);\n    \n     return List.of\n     (\n       new Proxy(Proxy.Type.HTTP,new InetSocketAddress(&quot;localhost&quot;,5000))\n      ,new Proxy(Proxy.Type.HTTP,new InetSocketAddress(&quot;localhost&quot;,8000))\n      ,Proxy.NO_PROXY \n     ); \n   } \n</code></pre>\n<p>Then everything works</p>\n<p>Output :</p>\n<pre><code>Connecting\nSelecting\n===============\nConnected\n</code></pre>\n<p>For some reason it skips all HTTP proxy types and not even test then.</p>\n<p>I have used Sockets with Proxy.HTTP and it works perfectly as it issues an CONNECT command first before sending data.</p>\n<p>Here is my dummy server i use for both these test cases</p>\n<pre><code> public static void main(String[] args)throws Exception\n {\n  try(ServerSocket server=new ServerSocket(2000,0,InetAddress.getLocalHost()))\n  {\n   System.out.println(&quot;Main Server Started&quot;);\n   \n   try(Socket socket=server.accept())\n   {\n    System.out.println(&quot;Accepted&quot;);\n\n    socket.getOutputStream().write(&quot;HTTP/1.1 501 Not-Implemented\\r\\n\\r\\n&quot;.getBytes());\n\n    socket.getOutputStream().flush();\n   }\n }\n}\n</code></pre>\n<p>Why these differences? I am using jdk 17.0.2 with windows 10</p>\n"},{"tags":["java","android","android-studio","gson","sharedpreferences"],"answers":[{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639610863,"creation_date":1639610863,"answer_id":70371540,"question_id":70369445,"body_markdown":"JSON only supports strings as JSON object property names. Gson therefore by default calls the `toString()` method to convert non-String `Map` keys to strings.\r\n\r\nIf instances of your `Hobby` class can easily be represented as string, you could override its `toString()` method. For deserialization you will however likely have to register a custom [`TypeAdapter`](https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/TypeAdapter.html).\r\n\r\nOtherwise you can uses [`GsonBuilder.enableComplexMapKeySerialization()`](https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/GsonBuilder.html#enableComplexMapKeySerialization()) which will serialize your `Map` as JSON array.","title":"Why is my LinkedHashMap being incorrectly converted to JSON and saved in SharedPreferences?","body":"<p>JSON only supports strings as JSON object property names. Gson therefore by default calls the <code>toString()</code> method to convert non-String <code>Map</code> keys to strings.</p>\n<p>If instances of your <code>Hobby</code> class can easily be represented as string, you could override its <code>toString()</code> method. For deserialization you will however likely have to register a custom <a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/TypeAdapter.html\" rel=\"nofollow noreferrer\"><code>TypeAdapter</code></a>.</p>\n<p>Otherwise you can uses <a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/GsonBuilder.html#enableComplexMapKeySerialization()\" rel=\"nofollow noreferrer\"><code>GsonBuilder.enableComplexMapKeySerialization()</code></a> which will serialize your <code>Map</code> as JSON array.</p>\n"}],"owner":{"display_name":"user15230333"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":70371540,"answer_count":1,"score":-2,"last_activity_date":1647742517,"creation_date":1639597391,"question_id":70369445,"body_markdown":"I&#39;m trying to save an object in SharedPreferences but first converting the object to JSON as shown below. However, the object is being both incorrectly converted and saved.\r\n```java\r\n    private void saveSchedule() {\r\n        String jsonString = new Gson().toJson(schedule);\r\n        SharedPreferences sharedPreferences = getSharedPreferences(&quot;Schedule&quot;, Context.MODE_PRIVATE);\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.putString(&quot;schedule&quot;, jsonString);\r\n        editor.apply();\r\n    }\r\n```\r\n\r\n\r\nThe JSON looks like this:\r\n```\r\nE/ {&quot;com.example.****.****.HobbyApp@a64232&quot;:[&quot;Hobby1&quot;,&quot;Hobby2&quot;,&quot;Hobby3&quot;]}\r\n```\r\nThis makes it impossible to save and retrieve the schedule. \r\n\r\nWhy is the name of the schedule file address being converted into JSON and saved instead of the values? Please help, thank you!","title":"Why is my LinkedHashMap being incorrectly converted to JSON and saved in SharedPreferences?","body":"<p>I'm trying to save an object in SharedPreferences but first converting the object to JSON as shown below. However, the object is being both incorrectly converted and saved.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private void saveSchedule() {\n        String jsonString = new Gson().toJson(schedule);\n        SharedPreferences sharedPreferences = getSharedPreferences(&quot;Schedule&quot;, Context.MODE_PRIVATE);\n        SharedPreferences.Editor editor = sharedPreferences.edit();\n        editor.putString(&quot;schedule&quot;, jsonString);\n        editor.apply();\n    }\n</code></pre>\n<p>The JSON looks like this:</p>\n<pre><code>E/ {&quot;com.example.****.****.HobbyApp@a64232&quot;:[&quot;Hobby1&quot;,&quot;Hobby2&quot;,&quot;Hobby3&quot;]}\n</code></pre>\n<p>This makes it impossible to save and retrieve the schedule.</p>\n<p>Why is the name of the schedule file address being converted into JSON and saved instead of the values? Please help, thank you!</p>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":11908125,"reputation":444,"user_id":8714139,"display_name":"Jason"},"score":0,"creation_date":1595440139,"post_id":63037829,"comment_id":111478282,"body_markdown":"Why can&#39;t you just pass the menu thought the XML like: `app:menu=&quot;@menu/bttm_nag&quot;`  then getting the menu using typedarray inside your custom bottom navigation view class","body":"Why can&#39;t you just pass the menu thought the XML like: <code>app:menu=&quot;@menu&#47;bttm_nag&quot;</code>  then getting the menu using typedarray inside your custom bottom navigation view class"},{"owner":{"account_id":16710856,"reputation":1173,"user_id":12078109,"display_name":"Shubham Gupta"},"score":0,"creation_date":1595470245,"post_id":63037829,"comment_id":111488105,"body_markdown":"My custom class is subclass of Linearlayout. Is this work for this. Or I have to create custom typedarray.","body":"My custom class is subclass of Linearlayout. Is this work for this. Or I have to create custom typedarray."},{"owner":{"account_id":11908125,"reputation":444,"user_id":8714139,"display_name":"Jason"},"score":0,"creation_date":1595507769,"post_id":63037829,"comment_id":111502925,"body_markdown":"Best way is to check  bottomnavigation source code to see how they implemented it.","body":"Best way is to check  bottomnavigation source code to see how they implemented it."}],"answers":[{"tags":[],"owner":{"account_id":16710856,"reputation":1173,"user_id":12078109,"display_name":"Shubham Gupta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647742306,"creation_date":1647742306,"answer_id":71543535,"question_id":63037829,"body_markdown":"### I solved this problem using `PopupMenu`\r\n\r\n    public void inflateMenu(@MenuRes int menuRes) {\r\n        PopupMenu p = new PopupMenu(getContext(), null);\r\n        menu = p.getMenu();\r\n        new MenuInflater(getContext()).inflate(menuRes, menu);\r\n        for (int i = 0; i &lt; menu.size(); i++) {\r\n            MenuItem item = menu.getItem(i);\r\n            // yourFunctionToCreateItemUI(i, item);\r\n        }\r\n    }","title":"Android Get Menu from Res/menu Programmatically","body":"<h3>I solved this problem using <code>PopupMenu</code></h3>\n<pre><code>public void inflateMenu(@MenuRes int menuRes) {\n    PopupMenu p = new PopupMenu(getContext(), null);\n    menu = p.getMenu();\n    new MenuInflater(getContext()).inflate(menuRes, menu);\n    for (int i = 0; i &lt; menu.size(); i++) {\n        MenuItem item = menu.getItem(i);\n        // yourFunctionToCreateItemUI(i, item);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16710856,"reputation":1173,"user_id":12078109,"display_name":"Shubham Gupta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71543535,"answer_count":1,"score":2,"last_activity_date":1647742306,"creation_date":1595431723,"question_id":63037829,"body_markdown":"I am creating a custom BottomNavigation using LinearLayout. I want to use `Menu` as items.\r\n\r\n    &lt;com.sam.grocerystore.views.XBottomNavigation\r\n        android:id=&quot;@+id/customBottomNav&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;55dp&quot;/&gt;\r\n\r\nIn Java\r\n\r\n    XBottomNavigation xNav = new XBottomNavigation(this);\r\n\r\n    xNav.inflateMenu(R.menu.bottom_nav_menu);\r\n\r\nIn XBottomNavigation\r\n\r\n    public void inflateMenu(@MenuRes int menuRes){\r\n        Menu menu = getMenuFromResID(menuRes);\r\n    }\r\n\r\nCan someone help me to create `getMenuFromResID` funtion;\r\n\r\n\r\n\r\n\r\n","title":"Android Get Menu from Res/menu Programmatically","body":"<p>I am creating a custom BottomNavigation using LinearLayout. I want to use <code>Menu</code> as items.</p>\n<pre><code>&lt;com.sam.grocerystore.views.XBottomNavigation\n    android:id=&quot;@+id/customBottomNav&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;55dp&quot;/&gt;\n</code></pre>\n<p>In Java</p>\n<pre><code>XBottomNavigation xNav = new XBottomNavigation(this);\n\nxNav.inflateMenu(R.menu.bottom_nav_menu);\n</code></pre>\n<p>In XBottomNavigation</p>\n<pre><code>public void inflateMenu(@MenuRes int menuRes){\n    Menu menu = getMenuFromResID(menuRes);\n}\n</code></pre>\n<p>Can someone help me to create <code>getMenuFromResID</code> funtion;</p>\n"},{"tags":["java","symbol-not-found"],"comments":[{"owner":{"account_id":1257651,"reputation":12773,"user_id":1216776,"display_name":"stark"},"score":5,"creation_date":1378674451,"post_id":18687886,"comment_id":27530021,"body_markdown":"Where is the code where you define Ship?","body":"Where is the code where you define Ship?"},{"owner":{"account_id":8546,"reputation":17688,"user_id":15472,"accept_rate":87,"display_name":"tucuxi"},"score":0,"creation_date":1378678325,"post_id":18687886,"comment_id":27530964,"body_markdown":"Your compiler is not finding the Ship class.","body":"Your compiler is not finding the Ship class."}],"answers":[{"tags":[],"owner":{"account_id":1178561,"reputation":5401,"user_id":1153988,"display_name":"C.Champagne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1378677972,"creation_date":1378677972,"answer_id":18689100,"question_id":18687886,"body_markdown":"An object is an instance of a class. You need thus to have a class defined somewhere. In your case, you certainly forgot to copy the `Ship` class.\r\n\r\nYou can just create the missing class the same way you created   `ShipMain1`. No need to create any method. The following should work. \r\n\r\n    public class Ship{}\r\n\r\n\r\nA faster solution is to use the class where the `main` method is defined. You can rename the class `ShipMain1` to `Ship` or  set  a argo as an instance of  `ShipMain1`.\r\n","title":"How to fix the symbol not found error in my code","body":"<p>An object is an instance of a class. You need thus to have a class defined somewhere. In your case, you certainly forgot to copy the <code>Ship</code> class.</p>\n\n<p>You can just create the missing class the same way you created   <code>ShipMain1</code>. No need to create any method. The following should work. </p>\n\n<pre><code>public class Ship{}\n</code></pre>\n\n<p>A faster solution is to use the class where the <code>main</code> method is defined. You can rename the class <code>ShipMain1</code> to <code>Ship</code> or  set  a argo as an instance of  <code>ShipMain1</code>.</p>\n"},{"tags":[],"owner":{"account_id":7175674,"reputation":1,"user_id":5481699,"display_name":"rishabh malik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1451231634,"creation_date":1451231600,"answer_id":34482076,"question_id":18687886,"body_markdown":"An object is an instant of a class, if you want to perform instantiation you have to declare the class somewhere in that folder as a new class which defines Ship with a constructor ship() which defines ship.\r\nAnd After that you can call it.\r\n\r\n    public class Ship\r\n    {\r\n      public Ship(int a, int b)\r\n      {\r\n       sizeOfShip = a;\r\n       sizeOfSails = b;\r\n      }\r\n    }\r\n \r\n After declaring this class you can declare a new instant of this class in further program or in any other class.","title":"How to fix the symbol not found error in my code","body":"<p>An object is an instant of a class, if you want to perform instantiation you have to declare the class somewhere in that folder as a new class which defines Ship with a constructor ship() which defines ship.\nAnd After that you can call it.</p>\n\n<pre><code>public class Ship\n{\n  public Ship(int a, int b)\n  {\n   sizeOfShip = a;\n   sizeOfSails = b;\n  }\n}\n</code></pre>\n\n<p>After declaring this class you can declare a new instant of this class in further program or in any other class.</p>\n"}],"owner":{"account_id":3278224,"reputation":11,"user_id":2759574,"accept_rate":40,"display_name":"Brodie"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10230,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1647741993,"answer_count":2,"score":0,"last_activity_date":1647741790,"creation_date":1378669280,"question_id":18687886,"body_markdown":"    // An illustration of object creation.\r\n    class ShipMain1 {\r\n        public static void main(String[] args){\r\n\t    // Define a method variable to refer to a Ship object.\r\n\t    Ship argo;\r\n\t    // Construct a new Ship object.\r\n\t    argo = new Ship();\r\n        }\r\n    }\r\n\r\n\r\nWhen I go to compile it, it tells me symbol can not be found for the Ship in both _Ship argo_ and _argo = new Ship();_ please help I&#39;m an extremely new beginner. I&#39;m also copying this out of a programming book so I don&#39;t know why it&#39;s not working.","title":"How to fix the symbol not found error in my code","body":"<pre><code>// An illustration of object creation.\nclass ShipMain1 {\n    public static void main(String[] args){\n    // Define a method variable to refer to a Ship object.\n    Ship argo;\n    // Construct a new Ship object.\n    argo = new Ship();\n    }\n}\n</code></pre>\n\n<p>When I go to compile it, it tells me symbol can not be found for the Ship in both <em>Ship argo</em> and <em>argo = new Ship();</em> please help I'm an extremely new beginner. I'm also copying this out of a programming book so I don't know why it's not working.</p>\n"},{"tags":["java","spring-webflux","reactor"],"answers":[{"tags":[],"owner":{"account_id":8295144,"reputation":565,"user_id":6235606,"display_name":"briadeus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647696036,"creation_date":1647696036,"answer_id":71538481,"question_id":71536613,"body_markdown":"I think one way to look at this is the question how the type `T` is interpreted by the compiler. If you define\r\n\r\n    interface InterfaceB {\r\n\t}\r\n \r\n\tstatic class ClassB implements InterfaceB {\r\n\t}\r\nthen the following will not compile (as expected)\r\n\r\n    \tMono&lt;InterfaceA&gt; getMonoTest() {\r\n\t\treturn Mono.just(new ClassB());\t\t\r\n\t    }\r\nwith the message similar to this one\r\n\r\n&gt; type mismatch: cannot convert from Mono\\&lt;ClassB\\&gt; to Mono\\&lt;InterfaceA\\&gt;\r\n\r\nSo the compiler does check if the type `T` corresponds to the return type of the method. `MonoJust` is [defined][1] as a generic Publisher and you are returning `MonoJust&lt;InterfaceA&gt;` not `MonoJust&lt;ClassA&gt;`.\r\n\r\n    final class MonoJust&lt;T&gt; extends Mono&lt;T&gt; ...\r\n\r\n\tfinal T value;\r\n\tMonoJust(T value) {\r\n\t\tthis.value = Objects.requireNonNull(value, &quot;value&quot;);\r\n\t}\r\n\r\nOn the other hand, `MonoEmpty`is [defined][2] as a `Publisher&lt;Object&gt;`:\r\n\r\n    final class MonoEmpty extends Mono&lt;Object&gt; ....\r\n\r\n    static final Publisher&lt;Object&gt; INSTANCE = new MonoEmpty();\r\n\r\n\tMonoEmpty() {\r\n\t\t// deliberately no op\r\n\t}\r\nand you would have to define type boundaries:\r\n\r\n    Mono&lt;? extends InterfaceA&gt; getMonoA() \r\n\r\n\r\n  [1]: https://github.com/reactor/reactor-core/blob/3723e9d5ab25318d28818ecb52a097a4937350fb/reactor-core/src/main/java/reactor/core/publisher/MonoJust.java#L28\r\n  [2]: https://github.com/reactor/reactor-core/blob/3723e9d5ab25318d28818ecb52a097a4937350fb/reactor-core/src/main/java/reactor/core/publisher/MonoEmpty.java#L34","title":"Problem of type inference and type variance for Reactor/WebFlux","body":"<p>I think one way to look at this is the question how the type <code>T</code> is interpreted by the compiler. If you define</p>\n<pre><code>interface InterfaceB {\n}\n\nstatic class ClassB implements InterfaceB {\n}\n</code></pre>\n<p>then the following will not compile (as expected)</p>\n<pre><code>    Mono&lt;InterfaceA&gt; getMonoTest() {\n    return Mono.just(new ClassB());     \n    }\n</code></pre>\n<p>with the message similar to this one</p>\n<blockquote>\n<p>type mismatch: cannot convert from Mono&lt;ClassB&gt; to Mono&lt;InterfaceA&gt;</p>\n</blockquote>\n<p>So the compiler does check if the type <code>T</code> corresponds to the return type of the method. <code>MonoJust</code> is <a href=\"https://github.com/reactor/reactor-core/blob/3723e9d5ab25318d28818ecb52a097a4937350fb/reactor-core/src/main/java/reactor/core/publisher/MonoJust.java#L28\" rel=\"nofollow noreferrer\">defined</a> as a generic Publisher and you are returning <code>MonoJust&lt;InterfaceA&gt;</code> not <code>MonoJust&lt;ClassA&gt;</code>.</p>\n<pre><code>final class MonoJust&lt;T&gt; extends Mono&lt;T&gt; ...\n\nfinal T value;\nMonoJust(T value) {\n    this.value = Objects.requireNonNull(value, &quot;value&quot;);\n}\n</code></pre>\n<p>On the other hand, <code>MonoEmpty</code>is <a href=\"https://github.com/reactor/reactor-core/blob/3723e9d5ab25318d28818ecb52a097a4937350fb/reactor-core/src/main/java/reactor/core/publisher/MonoEmpty.java#L34\" rel=\"nofollow noreferrer\">defined</a> as a <code>Publisher&lt;Object&gt;</code>:</p>\n<pre><code>final class MonoEmpty extends Mono&lt;Object&gt; ....\n\nstatic final Publisher&lt;Object&gt; INSTANCE = new MonoEmpty();\n\nMonoEmpty() {\n    // deliberately no op\n}\n</code></pre>\n<p>and you would have to define type boundaries:</p>\n<pre><code>Mono&lt;? extends InterfaceA&gt; getMonoA() \n</code></pre>\n"},{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647739116,"creation_date":1647717674,"answer_id":71541329,"question_id":71536613,"body_markdown":"This is the way how java generics works. In the second example java compiler could infer type. This is the same as defining \r\n\r\n```\r\nMono&lt;InterfaceA&gt; getMonoA() {\r\n   return Mono.&lt;InterfaceA&gt;just(new ClassA());\r\n}\r\n```\r\n\r\nBut in the first example compiler could not cast `Mono&lt;ClassA&gt;` to `Mono&lt;InterfaceA&gt;` automatically but you could cast it by apply a map function\r\n\r\n```\r\nMono&lt;InterfaceA&gt; getMonoA() {\r\n     return ClassA.getMonoA1().map(Function.identity());\r\n}\r\n```\r\nthat is the same as defining `.&lt;InterfaceA&gt;map(c -&gt; c)` or `.map(c -&gt; (InterfaceA) c)`. \r\n\r\n\r\nor you could define your method as \r\n```\r\npublic static &lt;T extends InterfaceA&gt; Mono&lt;T&gt; getMonoA() {\r\n    return ClassA.getMonoA();\r\n}\r\n```\r\nsimilar how `Mono.just` is defined.\r\n\r\nDue to [type erasure](http://docs.oracle.com/javase/tutorial/java/generics/erasure.html), both `Mono&lt;InterfaceA&gt;` and `Mono&lt;ClassA&gt;` will be `Mono` during runtime, so there will be no real type check regarding the element type. You could use unsafe cast that will work in this case but potentially could result in `ClassCastException` when you try to access the object \r\n\r\n```\r\nMono&lt;InterfaceA&gt; getMonoA() {\r\n    return (Mono) ClassA.getMonoA();\r\n}\r\n```\r\n\r\n\r\nIt&#39;s not something specific to Reactor or WebFlux. The same is valid for any generic types. For example, `List&lt;InterfaceA&gt;` vs `List&lt;ClassA&gt;`.","title":"Problem of type inference and type variance for Reactor/WebFlux","body":"<p>This is the way how java generics works. In the second example java compiler could infer type. This is the same as defining</p>\n<pre><code>Mono&lt;InterfaceA&gt; getMonoA() {\n   return Mono.&lt;InterfaceA&gt;just(new ClassA());\n}\n</code></pre>\n<p>But in the first example compiler could not cast <code>Mono&lt;ClassA&gt;</code> to <code>Mono&lt;InterfaceA&gt;</code> automatically but you could cast it by apply a map function</p>\n<pre><code>Mono&lt;InterfaceA&gt; getMonoA() {\n     return ClassA.getMonoA1().map(Function.identity());\n}\n</code></pre>\n<p>that is the same as defining <code>.&lt;InterfaceA&gt;map(c -&gt; c)</code> or <code>.map(c -&gt; (InterfaceA) c)</code>.</p>\n<p>or you could define your method as</p>\n<pre><code>public static &lt;T extends InterfaceA&gt; Mono&lt;T&gt; getMonoA() {\n    return ClassA.getMonoA();\n}\n</code></pre>\n<p>similar how <code>Mono.just</code> is defined.</p>\n<p>Due to <a href=\"http://docs.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"nofollow noreferrer\">type erasure</a>, both <code>Mono&lt;InterfaceA&gt;</code> and <code>Mono&lt;ClassA&gt;</code> will be <code>Mono</code> during runtime, so there will be no real type check regarding the element type. You could use unsafe cast that will work in this case but potentially could result in <code>ClassCastException</code> when you try to access the object</p>\n<pre><code>Mono&lt;InterfaceA&gt; getMonoA() {\n    return (Mono) ClassA.getMonoA();\n}\n</code></pre>\n<p>It's not something specific to Reactor or WebFlux. The same is valid for any generic types. For example, <code>List&lt;InterfaceA&gt;</code> vs <code>List&lt;ClassA&gt;</code>.</p>\n"}],"owner":{"account_id":5111197,"reputation":882,"user_id":4097712,"accept_rate":57,"display_name":"Tonny Tc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71541329,"answer_count":2,"score":0,"last_activity_date":1647739116,"creation_date":1647679016,"question_id":71536613,"body_markdown":"Let&#39;s say there is an interface and its implement class as:\r\n```java\r\npublic interface InterfaceA {}\r\n\r\npublic class ClassA implements InterfaceA {\r\n\r\n    public static Mono&lt;ClassA&gt; getMonoA() {\r\n        return Mono.empty();\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd then, for the method `Mono&lt;InterfaceA&gt; getMonoA()`, the following implementation causes a compile error:\r\n```java\r\nMono&lt;InterfaceA&gt; getMonoA() {\r\n    return ClassA.getMonoA();\r\n}\r\n```\r\nIt makes sense that the invariance type `Mono&lt;InterfaceA&gt;` is not the super class of `Mono&lt;ClassA&gt;` even if `InterfaceA` is the super class of `ClassA` and therefore the return type of `ClassA.getMonoA()` which is `Mono&lt;ClassA&gt;` does not match the `Mono&lt;InterfaceA&gt;`.\r\n\r\nHowever, the following implementation works properly:\r\n```java\r\nMono&lt;InterfaceA&gt; getMonoA() {\r\n    return Mono.just(new ClassA());\r\n}\r\n```\r\nThe `Mono.just` method is acturally defined as `public static &lt;T&gt; Mono&lt;T&gt; just(T data)`. As the geneic type `T` in my case is `ClassA`, the method should return the type of `Mono&lt;ClassA&gt;` which should also raise a compile error in my mind.\r\n\r\nMay I know if there are some mechanisms let `Mono.just` method returns `Mono&lt;InterfaceA&gt;` instead of `Mono&lt;ClassA&gt;` please?","title":"Problem of type inference and type variance for Reactor/WebFlux","body":"<p>Let's say there is an interface and its implement class as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface InterfaceA {}\n\npublic class ClassA implements InterfaceA {\n\n    public static Mono&lt;ClassA&gt; getMonoA() {\n        return Mono.empty();\n    }\n\n}\n</code></pre>\n<p>And then, for the method <code>Mono&lt;InterfaceA&gt; getMonoA()</code>, the following implementation causes a compile error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Mono&lt;InterfaceA&gt; getMonoA() {\n    return ClassA.getMonoA();\n}\n</code></pre>\n<p>It makes sense that the invariance type <code>Mono&lt;InterfaceA&gt;</code> is not the super class of <code>Mono&lt;ClassA&gt;</code> even if <code>InterfaceA</code> is the super class of <code>ClassA</code> and therefore the return type of <code>ClassA.getMonoA()</code> which is <code>Mono&lt;ClassA&gt;</code> does not match the <code>Mono&lt;InterfaceA&gt;</code>.</p>\n<p>However, the following implementation works properly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Mono&lt;InterfaceA&gt; getMonoA() {\n    return Mono.just(new ClassA());\n}\n</code></pre>\n<p>The <code>Mono.just</code> method is acturally defined as <code>public static &lt;T&gt; Mono&lt;T&gt; just(T data)</code>. As the geneic type <code>T</code> in my case is <code>ClassA</code>, the method should return the type of <code>Mono&lt;ClassA&gt;</code> which should also raise a compile error in my mind.</p>\n<p>May I know if there are some mechanisms let <code>Mono.just</code> method returns <code>Mono&lt;InterfaceA&gt;</code> instead of <code>Mono&lt;ClassA&gt;</code> please?</p>\n"},{"tags":["java","file","stringbuilder"],"comments":[{"owner":{"account_id":19190,"reputation":6157,"user_id":44737,"accept_rate":78,"display_name":"rob"},"score":0,"creation_date":1257375753,"post_id":1677194,"comment_id":1551139,"body_markdown":"How big would you say &quot;very long&quot; is?  On the order of KB, MB, or more?  Will your StringBuilder&#39;s size approach any practical limits, like the maximum memory allocated to your JVM?","body":"How big would you say &quot;very long&quot; is?  On the order of KB, MB, or more?  Will your StringBuilder&#39;s size approach any practical limits, like the maximum memory allocated to your JVM?"},{"owner":{"account_id":35721,"reputation":1302,"user_id":101272,"accept_rate":100,"display_name":"Patrick"},"score":0,"creation_date":1257378917,"post_id":1677194,"comment_id":1551356,"body_markdown":"Maybe a couple of megabytes...","body":"Maybe a couple of megabytes..."},{"owner":{"account_id":35721,"reputation":1302,"user_id":101272,"accept_rate":100,"display_name":"Patrick"},"score":0,"creation_date":1257378957,"post_id":1677194,"comment_id":1551361,"body_markdown":"I cannot do without the StringBuilder, it&#39;s what my API is returning.","body":"I cannot do without the StringBuilder, it&#39;s what my API is returning."}],"answers":[{"tags":[],"owner":{"account_id":19190,"reputation":6157,"user_id":44737,"accept_rate":78,"display_name":"rob"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1647737732,"creation_date":1257374992,"answer_id":1677232,"question_id":1677194,"body_markdown":"You should use a BufferedWriter to optimize the writes (always write character data using a Writer instead of an OutputStream).  If you weren&#39;t writing character data, you would use a BufferedOutputStream.\r\n\r\n    File file = new File(&quot;path/to/file.txt&quot;);\r\n    BufferedWriter writer = null;\r\n    try {\r\n        writer = new BufferedWriter(new FileWriter(file));\r\n        writer.append(stringBuilder);\r\n    } finally {\r\n        if (writer != null) writer.close();\r\n    }\r\n\r\nor, using try-with-resources (Java 7 and up)\r\n\r\n    File file = new File(&quot;path/to/file.txt&quot;);\r\n    try (BufferedWriter writer = new BufferedWriter(new FileWriter(file))) {\r\n        writer.append(stringBuilder);\r\n    }\r\n\r\nSince you&#39;re ultimately writing to a file, a better approach would be to write to the BufferedWriter more often instead of creating a huge StringBuilder in-memory and writing everything at the end (depending on your use-case, you might even be able to eliminate the StringBuilder entirely).  Writing incrementally during processing will save memory and will make better use of your limited I/O bandwidth, unless another thread is trying to read a lot of data from the disk at the same time you&#39;re writing.","title":"Dumping a Java StringBuilder to File","body":"<p>You should use a BufferedWriter to optimize the writes (always write character data using a Writer instead of an OutputStream).  If you weren't writing character data, you would use a BufferedOutputStream.</p>\n<pre><code>File file = new File(&quot;path/to/file.txt&quot;);\nBufferedWriter writer = null;\ntry {\n    writer = new BufferedWriter(new FileWriter(file));\n    writer.append(stringBuilder);\n} finally {\n    if (writer != null) writer.close();\n}\n</code></pre>\n<p>or, using try-with-resources (Java 7 and up)</p>\n<pre><code>File file = new File(&quot;path/to/file.txt&quot;);\ntry (BufferedWriter writer = new BufferedWriter(new FileWriter(file))) {\n    writer.append(stringBuilder);\n}\n</code></pre>\n<p>Since you're ultimately writing to a file, a better approach would be to write to the BufferedWriter more often instead of creating a huge StringBuilder in-memory and writing everything at the end (depending on your use-case, you might even be able to eliminate the StringBuilder entirely).  Writing incrementally during processing will save memory and will make better use of your limited I/O bandwidth, unless another thread is trying to read a lot of data from the disk at the same time you're writing.</p>\n"},{"tags":[],"owner":{"account_id":9045,"reputation":33861,"user_id":16534,"accept_rate":95,"display_name":"Mike Sickler"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1503432042,"creation_date":1257375712,"answer_id":1677289,"question_id":1677194,"body_markdown":"You could use the [Apache Commons IO][1] library, which gives you [FileUtils][2]:\r\n\r\n    FileUtils.writeStringToFile(file, stringBuilder.toString(), Charset.forName(&quot;UTF-8&quot;))\r\n\r\n\r\n  [1]: http://commons.apache.org/io/\r\n  [2]: https://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/FileUtils.html","title":"Dumping a Java StringBuilder to File","body":"<p>You could use the <a href=\"http://commons.apache.org/io/\" rel=\"noreferrer\">Apache Commons IO</a> library, which gives you <a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/FileUtils.html\" rel=\"noreferrer\">FileUtils</a>:</p>\n\n<pre><code>FileUtils.writeStringToFile(file, stringBuilder.toString(), Charset.forName(\"UTF-8\"))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1257377366,"creation_date":1257375721,"answer_id":1677291,"question_id":1677194,"body_markdown":"For character data better use `Reader/Writer`. In your case, use a `BufferedWriter`. If possible, use `BufferedWriter` from the beginning on instead of `StringBuilder` to save memory.\r\n\r\nNote that your way of calling the non-arg `getBytes()` method would use the platform default character encoding to decode the characters. This may fail if the platform default encoding is for example `ISO-8859-1` while your String data contains characters outside the `ISO-8859-1` charset. Better use the `getBytes(charset)` where in you can specify the charset yourself, such as `UTF-8`.","title":"Dumping a Java StringBuilder to File","body":"<p>For character data better use <code>Reader/Writer</code>. In your case, use a <code>BufferedWriter</code>. If possible, use <code>BufferedWriter</code> from the beginning on instead of <code>StringBuilder</code> to save memory.</p>\n\n<p>Note that your way of calling the non-arg <code>getBytes()</code> method would use the platform default character encoding to decode the characters. This may fail if the platform default encoding is for example <code>ISO-8859-1</code> while your String data contains characters outside the <code>ISO-8859-1</code> charset. Better use the <code>getBytes(charset)</code> where in you can specify the charset yourself, such as <code>UTF-8</code>.</p>\n"},{"tags":[],"owner":{"account_id":58854,"reputation":25269,"user_id":176180,"accept_rate":72,"display_name":"NawaMan"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1257376139,"creation_date":1257376139,"answer_id":1677317,"question_id":1677194,"body_markdown":"Well, if the string is huge, `toString().getBytes()` will create duplicate bytes (2 or 3 times). The size of the string.\r\n\r\nTo avoid this, you can extract chunk of the string and write it in separate parts.\r\n\r\nHere is how it may looks:\r\n\r\n&lt;pre&gt;&lt;code&gt;final StringBuilder aSB = ...;\r\nfinal int    aLength = aSB.length();\r\nfinal int    aChunk  = 1024;\r\nfinal char[] aChars  = new char[aChunk];\r\n\r\nfor(int aPosStart = 0; aPosStart &amp;lt; aLength; aPosStart += aChunk) {\r\n    final int aPosEnd = Math.min(aPosStart + aChunk, aLength);\r\n    aSB.getChars(aPosStart, aPosEnd, aChars, 0);                 &lt;i&gt;// Create no new buffer&lt;/i&gt;\r\n    final CharArrayReader aCARead = new CharArrayReader(aChars); &lt;i&gt;// Create no new buffer&lt;/i&gt;\r\n\r\n    &lt;i&gt;// This may be slow but it will not create any more buffer (for bytes)&lt;/i&gt;\r\n    int aByte;\r\n    while((aByte = aCARead.read()) != -1)\r\n        outputStream.write(aByte);\r\n}\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\nHope this helps.","title":"Dumping a Java StringBuilder to File","body":"<p>Well, if the string is huge, <code>toString().getBytes()</code> will create duplicate bytes (2 or 3 times). The size of the string.</p>\n\n<p>To avoid this, you can extract chunk of the string and write it in separate parts.</p>\n\n<p>Here is how it may looks:</p>\n\n<pre><code>final StringBuilder aSB = ...;\nfinal int    aLength = aSB.length();\nfinal int    aChunk  = 1024;\nfinal char[] aChars  = new char[aChunk];\n\nfor(int aPosStart = 0; aPosStart &lt; aLength; aPosStart += aChunk) {\n    final int aPosEnd = Math.min(aPosStart + aChunk, aLength);\n    aSB.getChars(aPosStart, aPosEnd, aChars, 0);                 <i>// Create no new buffer</i>\n    final CharArrayReader aCARead = new CharArrayReader(aChars); <i>// Create no new buffer</i>\n\n    <i>// This may be slow but it will not create any more buffer (for bytes)</i>\n    int aByte;\n    while((aByte = aCARead.read()) != -1)\n        outputStream.write(aByte);\n}\n</code></pre>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":69527,"reputation":40466,"user_id":202214,"display_name":"Kevin Bourrillion"},"down_vote_count":1,"up_vote_count":47,"is_accepted":true,"score":46,"last_activity_date":1451831446,"creation_date":1257381536,"answer_id":1677647,"question_id":1677194,"body_markdown":"As pointed out by others, use a Writer, and use a BufferedWriter, but then don&#39;t call `writer.write(stringBuilder.toString());` instead just `writer.append(stringBuilder);`.\r\n\r\nEDIT: But, I see that you accepted a different answer because it was a one-liner. But that solution has two problems:\r\n\r\n1. it doesn&#39;t accept a `java.nio.Charset`. BAD. You should always specify a Charset explicitly.\r\n\r\n2. it&#39;s still making you suffer a `stringBuilder.toString()`.  If the simplicity is really what you&#39;re after, try the following from the [Guava][1] project:\r\n\r\n[Files.write(stringBuilder, file, Charsets.UTF_8)][2]\r\n\r\n  [1]: http://guava-libraries.googlecode.com\r\n  [2]: http://guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/common/io/Files.html#write(java.lang.CharSequence,java.io.File,java.nio.charset.Charset)","title":"Dumping a Java StringBuilder to File","body":"<p>As pointed out by others, use a Writer, and use a BufferedWriter, but then don't call <code>writer.write(stringBuilder.toString());</code> instead just <code>writer.append(stringBuilder);</code>.</p>\n\n<p>EDIT: But, I see that you accepted a different answer because it was a one-liner. But that solution has two problems:</p>\n\n<ol>\n<li><p>it doesn't accept a <code>java.nio.Charset</code>. BAD. You should always specify a Charset explicitly.</p></li>\n<li><p>it's still making you suffer a <code>stringBuilder.toString()</code>.  If the simplicity is really what you're after, try the following from the <a href=\"http://guava-libraries.googlecode.com\" rel=\"noreferrer\">Guava</a> project:</p></li>\n</ol>\n\n<p><a href=\"http://guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/common/io/Files.html#write(java.lang.CharSequence,java.io.File,java.nio.charset.Charset)\" rel=\"noreferrer\">Files.write(stringBuilder, file, Charsets.UTF_8)</a></p>\n"},{"tags":[],"owner":{"account_id":50238,"reputation":74702,"user_id":149808,"accept_rate":81,"display_name":"ZZ Coder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1417316549,"creation_date":1257388683,"answer_id":1677985,"question_id":1677194,"body_markdown":"If the string itself is long, you definitely should avoid toString(), which makes another copy of the string. The most efficient way to write to stream should be something like this,\r\n\r\n\tOutputStreamWriter writer = new OutputStreamWriter(\r\n\t\t\tnew BufferedOutputStream(outputStream), &quot;utf-8&quot;);\r\n\t\r\n\tfor (int i = 0; i &lt; sb.length(); i++) {\r\n\t\twriter.write(sb.charAt(i));\r\n\t}\r\n\r\n","title":"Dumping a Java StringBuilder to File","body":"<p>If the string itself is long, you definitely should avoid toString(), which makes another copy of the string. The most efficient way to write to stream should be something like this,</p>\n\n<pre><code>OutputStreamWriter writer = new OutputStreamWriter(\n        new BufferedOutputStream(outputStream), \"utf-8\");\n\nfor (int i = 0; i &lt; sb.length(); i++) {\n    writer.write(sb.charAt(i));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":954960,"reputation":13272,"user_id":980442,"accept_rate":25,"display_name":"Daniel De Le&#243;n"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1476470671,"creation_date":1475778775,"answer_id":39903302,"question_id":1677194,"body_markdown":"Based on https://stackoverflow.com/a/1677317/980442\r\n\r\nI create this function that use `OutputStreamWriter` and the `write()`, this is memory optimized too, better than just use `StringBuilder.toString()`.\r\n\r\n    public static void stringBuilderToOutputStream(\r\n            StringBuilder sb, OutputStream out, String charsetName, int buffer)\r\n            throws IOException {\r\n        char[] chars = new char[buffer];\r\n        try (OutputStreamWriter writer = new OutputStreamWriter(out, charsetName)) {\r\n            for (int aPosStart = 0; aPosStart &lt; sb.length(); aPosStart += buffer) {\r\n                buffer = Math.min(buffer, sb.length() - aPosStart);\r\n                sb.getChars(aPosStart, aPosStart + buffer, chars, 0);\r\n                writer.write(chars, 0, buffer);\r\n            }\r\n        }\r\n    }","title":"Dumping a Java StringBuilder to File","body":"<p>Based on <a href=\"https://stackoverflow.com/a/1677317/980442\">https://stackoverflow.com/a/1677317/980442</a></p>\n\n<p>I create this function that use <code>OutputStreamWriter</code> and the <code>write()</code>, this is memory optimized too, better than just use <code>StringBuilder.toString()</code>.</p>\n\n<pre><code>public static void stringBuilderToOutputStream(\n        StringBuilder sb, OutputStream out, String charsetName, int buffer)\n        throws IOException {\n    char[] chars = new char[buffer];\n    try (OutputStreamWriter writer = new OutputStreamWriter(out, charsetName)) {\n        for (int aPosStart = 0; aPosStart &lt; sb.length(); aPosStart += buffer) {\n            buffer = Math.min(buffer, sb.length() - aPosStart);\n            sb.getChars(aPosStart, aPosStart + buffer, chars, 0);\n            writer.write(chars, 0, buffer);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1387596,"reputation":1302,"user_id":1319253,"accept_rate":94,"display_name":"dotwin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1513795637,"creation_date":1513791622,"answer_id":47911594,"question_id":1677194,"body_markdown":"Benchmarks for most answers here + improved implementation: https://www.genuitec.com/dump-a-stringbuilder-to-file/\r\n\r\nThe final implementation is along the lines of\r\n\r\n    try {\r\n        BufferedWriter bw = new BufferedWriter(\r\n                new OutputStreamWriter(\r\n                        new FileOutputStream(file, append), charset), BUFFER_SIZE);\r\n        try {\r\n            final int length = sb.length();\r\n            final char[] chars = new char[BUFFER_SIZE];\r\n            int idxEnd;\r\n            for ( int idxStart=0; idxStart&lt;length; idxStart=idxEnd ) {\r\n                idxEnd = Math.min(idxStart + BUFFER_SIZE, length);\r\n                sb.getChars(idxStart, idxEnd, chars, 0);\r\n                bw.write(chars, 0, idxEnd - idxStart);\r\n            }\r\n            bw.flush();\r\n        } finally {\r\n            bw.close();\r\n        }\r\n    } catch ( IOException ex ) {\r\n        ex.printStackTrace();\r\n    }","title":"Dumping a Java StringBuilder to File","body":"<p>Benchmarks for most answers here + improved implementation: <a href=\"https://www.genuitec.com/dump-a-stringbuilder-to-file/\" rel=\"nofollow noreferrer\">https://www.genuitec.com/dump-a-stringbuilder-to-file/</a></p>\n\n<p>The final implementation is along the lines of</p>\n\n<pre><code>try {\n    BufferedWriter bw = new BufferedWriter(\n            new OutputStreamWriter(\n                    new FileOutputStream(file, append), charset), BUFFER_SIZE);\n    try {\n        final int length = sb.length();\n        final char[] chars = new char[BUFFER_SIZE];\n        int idxEnd;\n        for ( int idxStart=0; idxStart&lt;length; idxStart=idxEnd ) {\n            idxEnd = Math.min(idxStart + BUFFER_SIZE, length);\n            sb.getChars(idxStart, idxEnd, chars, 0);\n            bw.write(chars, 0, idxEnd - idxStart);\n        }\n        bw.flush();\n    } finally {\n        bw.close();\n    }\n} catch ( IOException ex ) {\n    ex.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2247474,"reputation":4806,"user_id":1980510,"accept_rate":64,"display_name":"John Alexander Betts"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1554757886,"creation_date":1551285328,"answer_id":54910247,"question_id":1677194,"body_markdown":"Since java 8 you only need to do this:\r\n\r\n`Files.write(Paths.get(&quot;/path/to/file/file_name.extension&quot;), stringBuilder.toString().getBytes());`\r\n\r\nYou don&#39;t need any third party libraries to do that.","title":"Dumping a Java StringBuilder to File","body":"<p>Since java 8 you only need to do this:</p>\n\n<p><code>Files.write(Paths.get(\"/path/to/file/file_name.extension\"), stringBuilder.toString().getBytes());</code></p>\n\n<p>You don't need any third party libraries to do that.</p>\n"}],"owner":{"account_id":35721,"reputation":1302,"user_id":101272,"accept_rate":100,"display_name":"Patrick"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85584,"favorite_count":0,"down_vote_count":0,"up_vote_count":46,"accepted_answer_id":1677647,"answer_count":9,"score":46,"last_activity_date":1647737732,"creation_date":1257374560,"question_id":1677194,"body_markdown":"What is the most efficient/elegant way to dump a StringBuilder to a text file?\r\n\r\nYou can do:\r\n\r\n    outputStream.write(stringBuilder.toString().getBytes());\r\n\r\nBut is this efficient for a very long file?\r\n\r\nIs there a better way?","title":"Dumping a Java StringBuilder to File","body":"<p>What is the most efficient/elegant way to dump a StringBuilder to a text file?</p>\n\n<p>You can do:</p>\n\n<pre><code>outputStream.write(stringBuilder.toString().getBytes());\n</code></pre>\n\n<p>But is this efficient for a very long file?</p>\n\n<p>Is there a better way?</p>\n"},{"tags":["java","spring-boot","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":16426356,"reputation":1936,"user_id":11866308,"display_name":"Allen D. Ball"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647736826,"creation_date":1647736826,"answer_id":71543176,"question_id":71542739,"body_markdown":"If you are using Spring Security, you can do something like:\r\n\r\n```html\r\n              &lt;li th:ref=&quot;navbar-item&quot; sec:authorize=&quot;!isAuthenticated()&quot;&gt;\r\n                &lt;a th:text=&quot;&#39;Login&#39;&quot; th:href=&quot;@{/login}&quot;/&gt;\r\n              &lt;/li&gt;\r\n```\r\n\r\nFor the complete context, take a look at my\r\n[blog article](https://blog.hcf.dev/article/2020-10-31-spring-boot-part-07)\r\nand the corresponding source on\r\n[GitHub](https://github.com/allen-ball/spring-boot-web-server/tree/trunk/part-07).\r\n","title":"SpringBoot - i want to show login button for only users that are not logged-in","body":"<p>If you are using Spring Security, you can do something like:</p>\n<pre class=\"lang-html prettyprint-override\"><code>              &lt;li th:ref=&quot;navbar-item&quot; sec:authorize=&quot;!isAuthenticated()&quot;&gt;\n                &lt;a th:text=&quot;'Login'&quot; th:href=&quot;@{/login}&quot;/&gt;\n              &lt;/li&gt;\n</code></pre>\n<p>For the complete context, take a look at my\n<a href=\"https://blog.hcf.dev/article/2020-10-31-spring-boot-part-07\" rel=\"nofollow noreferrer\">blog article</a>\nand the corresponding source on\n<a href=\"https://github.com/allen-ball/spring-boot-web-server/tree/trunk/part-07\" rel=\"nofollow noreferrer\">GitHub</a>.</p>\n"}],"owner":{"account_id":24353328,"reputation":3,"user_id":18288880,"display_name":"youssef laamarti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":421,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":71543176,"answer_count":1,"score":-2,"last_activity_date":1647736826,"creation_date":1647730416,"question_id":71542739,"body_markdown":"I am currently looking for a solution on how to not show the login button  when a user is fully authenticated. This is for a personal project that I am doing. I want  users to not be able to view the login button if they are connected, i already tried to look in the thymeleaf documentation i didn&#39;t find an answer . ","title":"SpringBoot - i want to show login button for only users that are not logged-in","body":"<p>I am currently looking for a solution on how to not show the login button  when a user is fully authenticated. This is for a personal project that I am doing. I want  users to not be able to view the login button if they are connected, i already tried to look in the thymeleaf documentation i didn't find an answer .</p>\n"},{"tags":["java","elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":1318956,"reputation":6802,"user_id":1265205,"accept_rate":68,"display_name":"Andr&#233; Luiz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578671923,"creation_date":1578671923,"answer_id":59685049,"question_id":59684994,"body_markdown":"I just found what was wrong. I had to tell in which index to look for when instantiating the request:\r\n\r\n    SearchRequest searchRequest = new SearchRequest(index);","title":"Getting the last ID of an index in Elasticsearch","body":"<p>I just found what was wrong. I had to tell in which index to look for when instantiating the request:</p>\n\n<pre><code>SearchRequest searchRequest = new SearchRequest(index);\n</code></pre>\n"}],"owner":{"account_id":1318956,"reputation":6802,"user_id":1265205,"accept_rate":68,"display_name":"Andr&#233; Luiz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":403,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1647735277,"creation_date":1578671709,"question_id":59684994,"body_markdown":"I&#39;m using Elasticsearch 7.5.1 and its Java client. I&#39;m inserting in my index using ints as `_id` and I have to increment it manually. For that, I need to retrieve the last ID inserted. I know how to do it using PostMan:\r\n\r\nGET my_index/_search\r\n\r\n    {\r\n      &quot;size&quot;: 1, \r\n      &quot;query&quot;: {\r\n        &quot;match_all&quot;: {}\r\n      },\r\n     &quot;sort&quot;: [{\r\n          &quot;_id&quot;: {\r\n            &quot;order&quot;: &quot;desc&quot;\r\n          }\r\n        }\r\n      ]\r\n    }\r\n\r\nBut I don&#39;t know how to do it using their [Java client][1]. I&#39;m trying with the code below but it&#39;s returning one of those auto-generated IDs. My index has only 3 items with Ids 1,2 and 3.\r\n\r\n    private static String getLastElastticSearchId(String index)\r\n    {\r\n        RestHighLevelClient client = getElasticSearchClient();\r\n\r\n        SearchRequest searchRequest = new SearchRequest();\r\n        SearchSourceBuilder b = new SearchSourceBuilder();\r\n        b.query(QueryBuilders.matchAllQuery());\r\n        b.sort(new FieldSortBuilder(&quot;_id&quot;).order(SortOrder.DESC));\r\n        b.from(0);\r\n        b.size(1);\r\n        searchRequest.source(b);\r\n\r\n        try {\r\n\r\n            SearchResponse searchResponse = client.search(searchRequest, RequestOptions.DEFAULT);\r\n            SearchHits hits = searchResponse.getHits();\r\n\r\n            if(hits.getTotalHits().value &gt; 0){\r\n                SearchHit[] searchHits = hits.getHits();\r\n                for (SearchHit hit : searchHits) {\r\n                    return hit.getId();\r\n                }\r\n            }\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            try {\r\n                client.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n\r\nHow to can I change my code to get the last ID?\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high-search.html","title":"Getting the last ID of an index in Elasticsearch","body":"<p>I'm using Elasticsearch 7.5.1 and its Java client. I'm inserting in my index using ints as <code>_id</code> and I have to increment it manually. For that, I need to retrieve the last ID inserted. I know how to do it using PostMan:</p>\n<p>GET my_index/_search</p>\n<pre><code>{\n  &quot;size&quot;: 1, \n  &quot;query&quot;: {\n    &quot;match_all&quot;: {}\n  },\n &quot;sort&quot;: [{\n      &quot;_id&quot;: {\n        &quot;order&quot;: &quot;desc&quot;\n      }\n    }\n  ]\n}\n</code></pre>\n<p>But I don't know how to do it using their <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high-search.html\" rel=\"nofollow noreferrer\">Java client</a>. I'm trying with the code below but it's returning one of those auto-generated IDs. My index has only 3 items with Ids 1,2 and 3.</p>\n<pre><code>private static String getLastElastticSearchId(String index)\n{\n    RestHighLevelClient client = getElasticSearchClient();\n\n    SearchRequest searchRequest = new SearchRequest();\n    SearchSourceBuilder b = new SearchSourceBuilder();\n    b.query(QueryBuilders.matchAllQuery());\n    b.sort(new FieldSortBuilder(&quot;_id&quot;).order(SortOrder.DESC));\n    b.from(0);\n    b.size(1);\n    searchRequest.source(b);\n\n    try {\n\n        SearchResponse searchResponse = client.search(searchRequest, RequestOptions.DEFAULT);\n        SearchHits hits = searchResponse.getHits();\n\n        if(hits.getTotalHits().value &gt; 0){\n            SearchHit[] searchHits = hits.getHits();\n            for (SearchHit hit : searchHits) {\n                return hit.getId();\n            }\n        }\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    } finally {\n        try {\n            client.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>How to can I change my code to get the last ID?</p>\n"},{"tags":["java","elasticsearch"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1579068710,"post_id":59742496,"comment_id":105639220,"body_markdown":"I recommend you don’t use `SimpleDateFormat` and `Date`. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use for example `LocalDateTime` and `DateTimeFormatter`, both from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I recommend you don’t use <code>SimpleDateFormat</code> and <code>Date</code>. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use for example <code>LocalDateTime</code> and <code>DateTimeFormatter</code>, both from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."}],"answers":[{"tags":[],"owner":{"account_id":9900639,"reputation":3505,"user_id":7330758,"display_name":"ibexit"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1579043461,"creation_date":1579042673,"answer_id":59742955,"question_id":59742496,"body_markdown":"According to the [docs][1], you can specify multiple date formats for your field &quot;datetime&quot;. \n\nThe datetime from the error message above, `2018-11-23 10:38:00`, needs to be mapped with `yyyy-MM-dd HH:mm:ss` in order to get indexed. \n\n\nPlease consider setting a timezone or even better use [ISO 8601][2] format as elastic internally stores all dates as UTC. If you don&#39;t provide a Timezone, the datetime you are indexing will be assumed as UTC but your application may run in a different Timezone. This can cause trouble ;) \n\nBack to the solution. Define the mapping like this for the datetime field:\n\n    PUT my_index\n    {\n      &quot;mappings&quot;: {\n        &quot;properties&quot;: {\n          &quot;datetime&quot;: {\n            &quot;type&quot;:   &quot;date&quot;,\n            &quot;format&quot;: &quot;yyyy-MM-dd HH:mm:ss||yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ||epoch_millis&quot;\n          }\n        }\n      }\n    }\n\nAnd it will process datetime values like\n\n - `2018-11-23 10:38:00` (your current format) \n\n - `2001-07-04T12:08:56.235-0700` (ISO 8601)\n\n - `1095379198` ([unix time][3]) \n\nIf you want more background information on date &amp; time handling in java, have a look at [this][4]. Old, but gold. \n\nCheers! \n\n  [1]: https://www.elastic.co/guide/en/elasticsearch/reference/current/date.html\n  [2]: https://en.m.wikipedia.org/wiki/ISO_8601\n  [3]: https://en.m.wikipedia.org/wiki/Unix_time\n  [4]: https://stackoverflow.com/questions/1459656/how-to-get-the-current-time-in-yyyy-mm-dd-hhmisec-millisecond-format-in-java/1459683#1459683","title":"How to format a date to insert in Elasticsearch","body":"<p>According to the <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/date.html\" rel=\"nofollow noreferrer\">docs</a>, you can specify multiple date formats for your field \"datetime\". </p>\n\n<p>The datetime from the error message above, <code>2018-11-23 10:38:00</code>, needs to be mapped with <code>yyyy-MM-dd HH:mm:ss</code> in order to get indexed. </p>\n\n<p>Please consider setting a timezone or even better use <a href=\"https://en.m.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> format as elastic internally stores all dates as UTC. If you don't provide a Timezone, the datetime you are indexing will be assumed as UTC but your application may run in a different Timezone. This can cause trouble ;) </p>\n\n<p>Back to the solution. Define the mapping like this for the datetime field:</p>\n\n<pre><code>PUT my_index\n{\n  \"mappings\": {\n    \"properties\": {\n      \"datetime\": {\n        \"type\":   \"date\",\n        \"format\": \"yyyy-MM-dd HH:mm:ss||yyyy-MM-dd'T'HH:mm:ss.SSSZ||epoch_millis\"\n      }\n    }\n  }\n}\n</code></pre>\n\n<p>And it will process datetime values like</p>\n\n<ul>\n<li><p><code>2018-11-23 10:38:00</code> (your current format) </p></li>\n<li><p><code>2001-07-04T12:08:56.235-0700</code> (ISO 8601)</p></li>\n<li><p><code>1095379198</code> (<a href=\"https://en.m.wikipedia.org/wiki/Unix_time\" rel=\"nofollow noreferrer\">unix time</a>) </p></li>\n</ul>\n\n<p>If you want more background information on date &amp; time handling in java, have a look at <a href=\"https://stackoverflow.com/questions/1459656/how-to-get-the-current-time-in-yyyy-mm-dd-hhmisec-millisecond-format-in-java/1459683#1459683\">this</a>. Old, but gold. </p>\n\n<p>Cheers! </p>\n"}],"owner":{"account_id":1318956,"reputation":6802,"user_id":1265205,"accept_rate":68,"display_name":"Andr&#233; Luiz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3644,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":59742955,"answer_count":1,"score":0,"last_activity_date":1647735209,"creation_date":1579039870,"question_id":59742496,"body_markdown":"I&#39;m coding a Java app to insert data in Elasticsearch 7.5.1. When creating the index the property was set like this:\r\n\r\n    &quot;datetime&quot;:{\r\n       &quot;type&quot;:&quot;date&quot;            \r\n    }\r\n\r\nNow when inserting the date I&#39;m getting this error:\r\n\r\n    org.elasticsearch.index.mapper.MapperParsingException: failed to parse field [datetime] of type [date] in document with id &#39;195&#39;. Preview of field&#39;s value: &#39;2018-11-23 10:38:00&#39;\r\n\r\nI&#39;m currently doing it like this:\r\n\r\n    DateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n    String v = dateFormat.format(date);\r\n\r\nAnd checking a working index I can see it&#39;s formatted like this, example: `2019-10-09T11:11:38.879-04:00`\r\n\r\nWhat is the mask to create that format?\r\n","title":"How to format a date to insert in Elasticsearch","body":"<p>I'm coding a Java app to insert data in Elasticsearch 7.5.1. When creating the index the property was set like this:</p>\n<pre><code>&quot;datetime&quot;:{\n   &quot;type&quot;:&quot;date&quot;            \n}\n</code></pre>\n<p>Now when inserting the date I'm getting this error:</p>\n<pre><code>org.elasticsearch.index.mapper.MapperParsingException: failed to parse field [datetime] of type [date] in document with id '195'. Preview of field's value: '2018-11-23 10:38:00'\n</code></pre>\n<p>I'm currently doing it like this:</p>\n<pre><code>DateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\nString v = dateFormat.format(date);\n</code></pre>\n<p>And checking a working index I can see it's formatted like this, example: <code>2019-10-09T11:11:38.879-04:00</code></p>\n<p>What is the mask to create that format?</p>\n"},{"tags":["java","mockito","powermock","powermockito"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1647769128,"post_id":71542538,"comment_id":126450075,"body_markdown":"Does this answer your question? [How to mock private method for testing using PowerMock?](https://stackoverflow.com/questions/7803944/how-to-mock-private-method-for-testing-using-powermock)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/7803944/how-to-mock-private-method-for-testing-using-powermock\">How to mock private method for testing using PowerMock?</a>"}],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647735174,"creation_date":1647735174,"answer_id":71543078,"question_id":71542538,"body_markdown":"PowerMock annotations required for mock working:\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest(LuckyNumberGenerator.class)\r\n\r\nExample of working test:\r\n```java\r\nimport org.junit.Assert;\r\nimport org.junit.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.powermock.api.mockito.PowerMockito;\r\nimport org.powermock.core.classloader.annotations.PrepareForTest;\r\nimport org.powermock.modules.junit4.PowerMockRunner;\r\n\r\nimport static org.powermock.api.mockito.PowerMockito.*;\r\n\r\n@RunWith(PowerMockRunner.class)\r\n@PrepareForTest(LuckyNumberGenerator.class)\r\npublic class ServiceTest {\r\n    @Test\r\n    public void test() throws Exception {\r\n        LuckyNumberGenerator mock = spy(new LuckyNumberGenerator());\r\n        PowerMockito.when(mock, &quot;getDefaultLuckyNumber&quot;).thenReturn(300);\r\n        Assert.assertEquals(300, mock.getLuckyNumber(&quot;name&quot;));\r\n    }\r\n}\r\n\r\npublic class LuckyNumberGenerator {\r\n    public int getLuckyNumber(String name) {\r\n        return getDefaultLuckyNumber();\r\n    }\r\n    private int getDefaultLuckyNumber() {\r\n        return 1;\r\n    }\r\n}\r\n```\r\nPowerMock version:\r\n```xml\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.9&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;powermock-api-mockito2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.9&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```","title":"How to mock private method using powermock?","body":"<p>PowerMock annotations required for mock working:</p>\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest(LuckyNumberGenerator.class)\n</code></pre>\n<p>Example of working test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.Assert;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.powermock.api.mockito.PowerMockito;\nimport org.powermock.core.classloader.annotations.PrepareForTest;\nimport org.powermock.modules.junit4.PowerMockRunner;\n\nimport static org.powermock.api.mockito.PowerMockito.*;\n\n@RunWith(PowerMockRunner.class)\n@PrepareForTest(LuckyNumberGenerator.class)\npublic class ServiceTest {\n    @Test\n    public void test() throws Exception {\n        LuckyNumberGenerator mock = spy(new LuckyNumberGenerator());\n        PowerMockito.when(mock, &quot;getDefaultLuckyNumber&quot;).thenReturn(300);\n        Assert.assertEquals(300, mock.getLuckyNumber(&quot;name&quot;));\n    }\n}\n\npublic class LuckyNumberGenerator {\n    public int getLuckyNumber(String name) {\n        return getDefaultLuckyNumber();\n    }\n    private int getDefaultLuckyNumber() {\n        return 1;\n    }\n}\n</code></pre>\n<p>PowerMock version:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n            &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\n            &lt;version&gt;2.0.9&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n            &lt;artifactId&gt;powermock-api-mockito2&lt;/artifactId&gt;\n            &lt;version&gt;2.0.9&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":2690474,"reputation":1319,"user_id":2323932,"accept_rate":21,"display_name":"draca"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1512,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71543078,"answer_count":1,"score":0,"last_activity_date":1647735174,"creation_date":1647728294,"question_id":71542538,"body_markdown":"If I have a simple class like:\r\n\r\n    public class LuckyNumberGenerator {\r\n        public int getLuckyNumber(String name) {\r\n            return getDefaultLuckyNumber();\r\n        }\r\n        private int getDefaultLuckyNumber() { }\r\n    }\r\nWhat modification do I need to mock the private method getDefaultLuckyNumber? \r\nI have this which doesnt work\r\n\r\n    LuckyNumberGenerator mock = spy(new LuckyNumberGenerator());\r\n    when(mock, &quot;getDefaultLuckyNumber&quot;).thenReturn(300);\r\n\r\n\r\n","title":"How to mock private method using powermock?","body":"<p>If I have a simple class like:</p>\n<pre><code>public class LuckyNumberGenerator {\n    public int getLuckyNumber(String name) {\n        return getDefaultLuckyNumber();\n    }\n    private int getDefaultLuckyNumber() { }\n}\n</code></pre>\n<p>What modification do I need to mock the private method getDefaultLuckyNumber?\nI have this which doesnt work</p>\n<pre><code>LuckyNumberGenerator mock = spy(new LuckyNumberGenerator());\nwhen(mock, &quot;getDefaultLuckyNumber&quot;).thenReturn(300);\n</code></pre>\n"},{"tags":["java","javafx","media-player"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1647725265,"post_id":71540519,"comment_id":126444499,"body_markdown":"I&#39;ve run into the same issue before, and the fix I found was to delete the file some time &quot;later&quot; after calling `MediaPlayer#dispose()`. Looks like the call has some asynchronous-ness to it.","body":"I&#39;ve run into the same issue before, and the fix I found was to delete the file some time &quot;later&quot; after calling <code>MediaPlayer#dispose()</code>. Looks like the call has some asynchronous-ness to it."},{"owner":{"account_id":23844139,"reputation":63,"user_id":17848840,"display_name":"harharprogrammer"},"score":0,"creation_date":1647727862,"post_id":71540519,"comment_id":126445007,"body_markdown":"@Slaw Okay thanks! I&#39;ll give that a try! However I&#39;m still open to suggestions if y&#39;all have any!","body":"@Slaw Okay thanks! I&#39;ll give that a try! However I&#39;m still open to suggestions if y&#39;all have any!"}],"answers":[{"tags":[],"owner":{"account_id":23844139,"reputation":63,"user_id":17848840,"display_name":"harharprogrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647734715,"creation_date":1647734715,"answer_id":71543045,"question_id":71540519,"body_markdown":"Thank you to @Slaw for providing a solution to my problem. To solve my issue, I created a deletionQueue ArrayList which would hold the paths to the files I would like to delete. Once .dispose() is used on the MediaPlayer, after a certain amount of time has passed, those files would be automatically deleted.","title":"Unable to delete .mp3 file due to javaFx MediaPlayer","body":"<p>Thank you to @Slaw for providing a solution to my problem. To solve my issue, I created a deletionQueue ArrayList which would hold the paths to the files I would like to delete. Once .dispose() is used on the MediaPlayer, after a certain amount of time has passed, those files would be automatically deleted.</p>\n"}],"owner":{"account_id":23844139,"reputation":63,"user_id":17848840,"display_name":"harharprogrammer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71543045,"answer_count":1,"score":1,"last_activity_date":1647734715,"creation_date":1647711360,"question_id":71540519,"body_markdown":"I am working on my Hhighschool capstone. It is a program where the user can download songs from the internet and store them in an organized manner and play them. My program must contain a feature where the user may delete a specified .mp3 file by simply pressing a button. I have tried the .dispose() method on the MediaPlayer, and then trying to delete the file which doesn&#39;t seem to be working. It creates an error saying that the .mp3 file is still being used. How would I stop Javafx from accessing the file? I have searched online for answers but none of them have answers which fit my needs. If anyone could provide me with some code to fix my problem that would be greatly appreciated!\r\nHere&#39;s a Mini Reproducible Example below!\r\n\r\n# JavaFxMp3WavPlayer #\r\n```\r\npackage mediaplayerjavafx;\r\n\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.net.MalformedURLException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\nimport javafx.application.Application;\r\nimport javafx.event.Event;\r\nimport javafx.event.EventHandler;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.media.Media;\r\nimport javafx.scene.media.MediaPlayer;\r\nimport javafx.stage.Stage;\r\n\r\npublic class JavaFxMp3WavPlayer extends Application {\r\n\r\n    public static void main(String[] args) throws MalformedURLException, IOException {\r\n        launch(args);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage stage) throws Exception {\r\n        stage.setTitle(&quot;My&quot;);\r\n        Button button = new Button(&quot;Delete Song File!&quot;);\r\n        Scene scene = new Scene(button, 200, 100);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n        File file = new File(&quot;C:\\\\Users\\\\John Doe\\\\OneDrive\\\\Desktop\\\\YourLieInAprilTest\\\\Mp3Test.mp3&quot;);\r\n        String path = file.toURI().toASCIIString();\r\n        Media media = new Media(path);\r\n        MediaPlayer mediaPlayer = new MediaPlayer(media);\r\n        button.setOnAction(new EventHandler() {\r\n            @Override\r\n            public void handle(Event arg0) {\r\n                deleteMusicFile(mediaPlayer);\r\n            }\r\n        });\r\n        mediaPlayer.play();\r\n    }\r\n\r\n    public void deleteMusicFile(MediaPlayer mediaPlayer) {\r\n        mediaPlayer.stop();\r\n        mediaPlayer.dispose();\r\n        try {\r\n            Files.delete(Paths.get(&quot;C:\\\\Users\\\\John Doe\\\\OneDrive\\\\Desktop\\\\YourLieInAprilTest\\\\Mp3Test.mp3&quot;));\r\n        } catch (IOException ex) {\r\n            ex.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\nThe class above essentially creates a MediaPlayer object and runs the specified .mp3 file. Then when you press the button, it will stop the MediaPlayer with the .stop() method, and then it will dispose of the MediaPlayer with the .dispose() method. Then it will try to delete the file which causes an error.\r\n\r\n# module-info #\r\n```\r\nmodule MotisHarmony {\r\n    requires javafx.swt;\r\n    requires javafx.base;\r\n    requires javafx.controls;\r\n    requires javafx.fxml;\r\n    requires javafx.graphics;\r\n    requires javafx.media;\r\n    requires javafx.swing;\r\n    requires javafx.web;\r\n    exports mediaplayerjavafx;\r\n    opens mediaplayerjavafx to javafx.graphics;\r\n}\r\n\r\n```\r\n\r\n# Error Produced #\r\n```\r\njava.nio.file.FileSystemException: C:\\Users\\John Doe\\OneDrive\\Desktop\\YourLieInAprilTest\\Mp3Test.mp3: The process cannot access the file because it is being used by another process.\r\n\r\n\tat java.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:92)\r\n\tat java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:103)\r\n\tat java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:108)\r\n\tat java.base/sun.nio.fs.WindowsFileSystemProvider.implDelete(WindowsFileSystemProvider.java:270)\r\n\tat java.base/sun.nio.fs.AbstractFileSystemProvider.delete(AbstractFileSystemProvider.java:105)\r\n\tat java.base/java.nio.file.Files.delete(Files.java:1141)\r\n\tat MotisHarmony/mediaplayerjavafx.JavaFxMp3WavPlayer.deleteMusicFile(JavaFxMp3WavPlayer.java:53)\r\n\tat MotisHarmony/mediaplayerjavafx.JavaFxMp3WavPlayer$1.handle(JavaFxMp3WavPlayer.java:43)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n\tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\r\n\tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\r\n\tat javafx.base/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics/javafx.scene.Node.fireEvent(Node.java:8792)\r\n\tat javafx.controls/javafx.scene.control.Button.fire(Button.java:203)\r\n\tat javafx.controls/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:208)\r\n\tat javafx.controls/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n\tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\r\n\tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n\tat javafx.base/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3897)\r\n\tat javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1878)\r\n\tat javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2623)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\r\n\tat javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:557)\r\n\tat javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:943)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n```\r\n\r\n## Additional info ##\r\n\r\n```Link to the Mp3 file I used to test. https://drive.google.com/file/d/1CvAafbMviQ7nvKyojnem9GK73LJsD6MJ/view?usp=sharing```\r\n\r\n```I am using JDK 11 and Javafx 17.0.2```\r\n\r\n```System Type: 64-bit operating system, x64-based processor```\r\n\r\n```Processor: Intel(R) Core(TM) i7-7700HQ CPU @ 2.80GHz 2.81 GHz```\r\n\r\n```Windows Edition: Windows 10 Home```","title":"Unable to delete .mp3 file due to javaFx MediaPlayer","body":"<p>I am working on my Hhighschool capstone. It is a program where the user can download songs from the internet and store them in an organized manner and play them. My program must contain a feature where the user may delete a specified .mp3 file by simply pressing a button. I have tried the .dispose() method on the MediaPlayer, and then trying to delete the file which doesn't seem to be working. It creates an error saying that the .mp3 file is still being used. How would I stop Javafx from accessing the file? I have searched online for answers but none of them have answers which fit my needs. If anyone could provide me with some code to fix my problem that would be greatly appreciated!\nHere's a Mini Reproducible Example below!</p>\n<h1>JavaFxMp3WavPlayer</h1>\n<pre><code>package mediaplayerjavafx;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.net.MalformedURLException;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport javafx.application.Application;\nimport javafx.event.Event;\nimport javafx.event.EventHandler;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.media.Media;\nimport javafx.scene.media.MediaPlayer;\nimport javafx.stage.Stage;\n\npublic class JavaFxMp3WavPlayer extends Application {\n\n    public static void main(String[] args) throws MalformedURLException, IOException {\n        launch(args);\n\n    }\n\n    @Override\n    public void start(Stage stage) throws Exception {\n        stage.setTitle(&quot;My&quot;);\n        Button button = new Button(&quot;Delete Song File!&quot;);\n        Scene scene = new Scene(button, 200, 100);\n        stage.setScene(scene);\n        stage.show();\n        File file = new File(&quot;C:\\\\Users\\\\John Doe\\\\OneDrive\\\\Desktop\\\\YourLieInAprilTest\\\\Mp3Test.mp3&quot;);\n        String path = file.toURI().toASCIIString();\n        Media media = new Media(path);\n        MediaPlayer mediaPlayer = new MediaPlayer(media);\n        button.setOnAction(new EventHandler() {\n            @Override\n            public void handle(Event arg0) {\n                deleteMusicFile(mediaPlayer);\n            }\n        });\n        mediaPlayer.play();\n    }\n\n    public void deleteMusicFile(MediaPlayer mediaPlayer) {\n        mediaPlayer.stop();\n        mediaPlayer.dispose();\n        try {\n            Files.delete(Paths.get(&quot;C:\\\\Users\\\\John Doe\\\\OneDrive\\\\Desktop\\\\YourLieInAprilTest\\\\Mp3Test.mp3&quot;));\n        } catch (IOException ex) {\n            ex.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>The class above essentially creates a MediaPlayer object and runs the specified .mp3 file. Then when you press the button, it will stop the MediaPlayer with the .stop() method, and then it will dispose of the MediaPlayer with the .dispose() method. Then it will try to delete the file which causes an error.</p>\n<h1>module-info</h1>\n<pre><code>module MotisHarmony {\n    requires javafx.swt;\n    requires javafx.base;\n    requires javafx.controls;\n    requires javafx.fxml;\n    requires javafx.graphics;\n    requires javafx.media;\n    requires javafx.swing;\n    requires javafx.web;\n    exports mediaplayerjavafx;\n    opens mediaplayerjavafx to javafx.graphics;\n}\n\n</code></pre>\n<h1>Error Produced</h1>\n<pre><code>java.nio.file.FileSystemException: C:\\Users\\John Doe\\OneDrive\\Desktop\\YourLieInAprilTest\\Mp3Test.mp3: The process cannot access the file because it is being used by another process.\n\n    at java.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:92)\n    at java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:103)\n    at java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:108)\n    at java.base/sun.nio.fs.WindowsFileSystemProvider.implDelete(WindowsFileSystemProvider.java:270)\n    at java.base/sun.nio.fs.AbstractFileSystemProvider.delete(AbstractFileSystemProvider.java:105)\n    at java.base/java.nio.file.Files.delete(Files.java:1141)\n    at MotisHarmony/mediaplayerjavafx.JavaFxMp3WavPlayer.deleteMusicFile(JavaFxMp3WavPlayer.java:53)\n    at MotisHarmony/mediaplayerjavafx.JavaFxMp3WavPlayer$1.handle(JavaFxMp3WavPlayer.java:43)\n    at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\n    at javafx.base/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics/javafx.scene.Node.fireEvent(Node.java:8792)\n    at javafx.controls/javafx.scene.control.Button.fire(Button.java:203)\n    at javafx.controls/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:208)\n    at javafx.controls/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\n    at javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\n    at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n    at javafx.base/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3897)\n    at javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1878)\n    at javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2623)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\n    at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\n    at javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:557)\n    at javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:943)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n<h2>Additional info</h2>\n<p><code>Link to the Mp3 file I used to test. https://drive.google.com/file/d/1CvAafbMviQ7nvKyojnem9GK73LJsD6MJ/view?usp=sharing</code></p>\n<p><code>I am using JDK 11 and Javafx 17.0.2</code></p>\n<p><code>System Type: 64-bit operating system, x64-based processor</code></p>\n<p><code>Processor: Intel(R) Core(TM) i7-7700HQ CPU @ 2.80GHz 2.81 GHz</code></p>\n<p><code>Windows Edition: Windows 10 Home</code></p>\n"},{"tags":["java","grails","groovy","jquery-file-upload"],"comments":[{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1647629456,"post_id":71525831,"comment_id":126427530,"body_markdown":"What does `val.originalFilename`, `val.empty` evaluate to when the file is there but less than 100kb?","body":"What does <code>val.originalFilename</code>, <code>val.empty</code> evaluate to when the file is there but less than 100kb?"},{"owner":{"account_id":15774083,"reputation":1,"user_id":11382246,"display_name":"Hamza Riaz"},"score":0,"creation_date":1647761805,"post_id":71525831,"comment_id":126448926,"body_markdown":"When the file is less than 100kn then the MultipartFile object is null, when its greater than 100kb then it has some value.","body":"When the file is less than 100kn then the MultipartFile object is null, when its greater than 100kb then it has some value."},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1647870635,"post_id":71525831,"comment_id":126472879,"body_markdown":"&quot;When the file is less than 100kn then the MultipartFile object is null, when its greater than 100kb then it has some value.&quot; - That is interesting.  If you file an issue at https://github.com/grails/grails-core/issues with a sample app we can investigate.  I am sorry for the trouble and thank you for the feedback.","body":"&quot;When the file is less than 100kn then the MultipartFile object is null, when its greater than 100kb then it has some value.&quot; - That is interesting.  If you file an issue at <a href=\"https://github.com/grails/grails-core/issues\" rel=\"nofollow noreferrer\">github.com/grails/grails-core/issues</a> with a sample app we can investigate.  I am sorry for the trouble and thank you for the feedback."},{"owner":{"account_id":132529,"reputation":3031,"user_id":333276,"accept_rate":75,"display_name":"David Brown"},"score":0,"creation_date":1658245569,"post_id":71525831,"comment_id":129001559,"body_markdown":"Did you find the reason/a solution?","body":"Did you find the reason/a solution?"}],"owner":{"account_id":15774083,"reputation":1,"user_id":11382246,"display_name":"Hamza Riaz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647734185,"creation_date":1647600316,"question_id":71525831,"body_markdown":"Uploader is reading any file  larger than 100kb but files having size lower than 100kb multipartFile object is null\r\n\r\nThe command object is \r\n\r\n    class UploadInfoListCommand implements Validateable{   MultipartFile infoMasterFile   String localeFileileExtension\r\n    \r\n      static constraints = {\r\n        infoMasterFile  validator: { val, obj -&gt;\r\n          if ( val == null ) {\r\n            return false\r\n          }\r\n          if ( val.empty ) {\r\n            return false\r\n          }\r\n    \r\n          [&#39;xlsx&#39;].any { extension -&gt; // &lt;1&gt;\r\n            val.originalFilename?.toLowerCase()?.endsWith(extension)\r\n          }\r\n        }   }\r\n\r\nand the GSP code is \r\n\r\n    &lt;div class=&quot;input-group&quot;&gt;\r\n                    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; readonly placeholder=&quot;${message(code:&#39;info.uploadModal.language.placeholder.file&#39;, default:&#39;Please select a document&#39;)}&quot; id=&quot;bulkUploadDocumentInfo&quot;/&gt;\r\n                    &lt;label class=&quot;input-group-addon btn btn-default&quot; for=&quot;bulkUploadDocument&quot;&gt;\r\n                      &lt;input type=&quot;file&quot; id=&quot;bulkUploadDocument&quot; name=&quot;infoMasterFile&quot; style=&quot;display:none;&quot; data-validate=&quot;maxFileSizeMB(5)&quot; onchange=&quot;$(&#39;#bulkUploadDocumentInfo&#39;).val(this.files[0].name);&quot;&gt;\r\n                      &lt;g:message code=&quot;info.uploadModal.language.label.searchFile&quot; default=&quot;Add New File&quot; /&gt;\r\n                   &lt;/label&gt;\r\n    &lt;/div&gt;\r\n\r\n\r\n\r\n","title":"jquery file uploader was working fine with grails version 2.4.5 but when we switched to grails 5.1.2 then uploader does not picks file less than 100kb","body":"<p>Uploader is reading any file  larger than 100kb but files having size lower than 100kb multipartFile object is null</p>\n<p>The command object is</p>\n<pre><code>class UploadInfoListCommand implements Validateable{   MultipartFile infoMasterFile   String localeFileileExtension\n\n  static constraints = {\n    infoMasterFile  validator: { val, obj -&gt;\n      if ( val == null ) {\n        return false\n      }\n      if ( val.empty ) {\n        return false\n      }\n\n      ['xlsx'].any { extension -&gt; // &lt;1&gt;\n        val.originalFilename?.toLowerCase()?.endsWith(extension)\n      }\n    }   }\n</code></pre>\n<p>and the GSP code is</p>\n<pre><code>&lt;div class=&quot;input-group&quot;&gt;\n                &lt;input type=&quot;text&quot; class=&quot;form-control&quot; readonly placeholder=&quot;${message(code:'info.uploadModal.language.placeholder.file', default:'Please select a document')}&quot; id=&quot;bulkUploadDocumentInfo&quot;/&gt;\n                &lt;label class=&quot;input-group-addon btn btn-default&quot; for=&quot;bulkUploadDocument&quot;&gt;\n                  &lt;input type=&quot;file&quot; id=&quot;bulkUploadDocument&quot; name=&quot;infoMasterFile&quot; style=&quot;display:none;&quot; data-validate=&quot;maxFileSizeMB(5)&quot; onchange=&quot;$('#bulkUploadDocumentInfo').val(this.files[0].name);&quot;&gt;\n                  &lt;g:message code=&quot;info.uploadModal.language.label.searchFile&quot; default=&quot;Add New File&quot; /&gt;\n               &lt;/label&gt;\n&lt;/div&gt;\n</code></pre>\n"},{"tags":["java","eclipse","classpath","classloader","inputstream"],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":0,"up_vote_count":45,"is_accepted":true,"score":45,"last_activity_date":1380218884,"creation_date":1380218578,"answer_id":19035419,"question_id":19035407,"body_markdown":"If it&#39;s in the same package use\r\n\r\n    InputStream is = Driver.class.getResourceAsStream(&quot;myconfig.txt&quot;);\r\n\r\nThe way you have it\r\n\r\n    InputStream is = ClassLoader.getSystemClassLoader().getResourceAsStream(&quot;myconfig.txt&quot;);\r\n\r\nIt&#39;s looking for the file in the root of the classpath. You could use\r\n\r\n    InputStream is = ClassLoader.getSystemClassLoader().getResourceAsStream(&quot;com/me/myapp/myconfig.txt&quot;);\r\n\r\nThe rules for searching are explained in the [javadoc of `ClassLoader#getResource(String)`][1] and the [javadoc of `Class#getResource(String)`][2].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/ClassLoader.html#getResource%28java.lang.String%29\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#getResource(java.lang.String)","title":"ClassLoader getResourceAsStream returns null","body":"<p>If it's in the same package use</p>\n\n<pre><code>InputStream is = Driver.class.getResourceAsStream(\"myconfig.txt\");\n</code></pre>\n\n<p>The way you have it</p>\n\n<pre><code>InputStream is = ClassLoader.getSystemClassLoader().getResourceAsStream(\"myconfig.txt\");\n</code></pre>\n\n<p>It's looking for the file in the root of the classpath. You could use</p>\n\n<pre><code>InputStream is = ClassLoader.getSystemClassLoader().getResourceAsStream(\"com/me/myapp/myconfig.txt\");\n</code></pre>\n\n<p>The rules for searching are explained in the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/ClassLoader.html#getResource%28java.lang.String%29\">javadoc of <code>ClassLoader#getResource(String)</code></a> and the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#getResource%28java.lang.String%29\">javadoc of <code>Class#getResource(String)</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":1419625,"reputation":331,"user_id":1344527,"display_name":"Hitesh"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1437666750,"creation_date":1427927141,"answer_id":29401956,"question_id":19035407,"body_markdown":"If you are working with Maven, add the following lines under **BUILD** tag. You get this error when you are running the webapp on server but there is no reference to the resources on the server. \r\n    \r\nSo, add this the following into your POM.xml and see the magic.\r\n    \r\n\r\n    &lt;resources&gt;\r\n        &lt;resource&gt;\r\n    \t    &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n    \t\t&lt;filtering&gt;true&lt;/filtering&gt;\r\n    \t\t&lt;includes&gt;\r\n    \t        &lt;include&gt;fileName.txt&lt;/include&gt;\r\n    \t\t&lt;/includes&gt;\r\n    \t&lt;/resource&gt;\r\n    \t&lt;resource&gt;\r\n    \t    &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n    \t\t&lt;filtering&gt;true&lt;/filtering&gt;\r\n    \t\t&lt;includes&gt;\r\n    \t\t    &lt;include&gt;fileName.wsdl&lt;/include&gt;\r\n    \t\t&lt;/includes&gt;\r\n    \t&lt;/resource&gt;\r\n    &lt;/resources&gt;\r\n    \r\n    \r\nHave Fun.!!!","title":"ClassLoader getResourceAsStream returns null","body":"<p>If you are working with Maven, add the following lines under <strong>BUILD</strong> tag. You get this error when you are running the webapp on server but there is no reference to the resources on the server. </p>\n\n<p>So, add this the following into your POM.xml and see the magic.</p>\n\n<pre><code>&lt;resources&gt;\n    &lt;resource&gt;\n        &lt;directory&gt;src/main/resources&lt;/directory&gt;\n        &lt;filtering&gt;true&lt;/filtering&gt;\n        &lt;includes&gt;\n            &lt;include&gt;fileName.txt&lt;/include&gt;\n        &lt;/includes&gt;\n    &lt;/resource&gt;\n    &lt;resource&gt;\n        &lt;directory&gt;src/main/resources&lt;/directory&gt;\n        &lt;filtering&gt;true&lt;/filtering&gt;\n        &lt;includes&gt;\n            &lt;include&gt;fileName.wsdl&lt;/include&gt;\n        &lt;/includes&gt;\n    &lt;/resource&gt;\n&lt;/resources&gt;\n</code></pre>\n\n<p>Have Fun.!!!</p>\n"},{"tags":[],"owner":{"account_id":8212780,"reputation":173,"user_id":6180243,"display_name":"iamfnizami"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605558934,"creation_date":1605558934,"answer_id":64865328,"question_id":19035407,"body_markdown":" - **Instead of**-\r\n\r\n    InputStream is = ClassLoader.getSystemClassLoader.getResourceAsStream(&quot;myconfig.txt&quot;);\r\n\r\n - **Use**-\r\n\r\n    InputStream is = ClassLoader.getSystemClassLoader.getResourceAsStream(&quot;com/me/myapp/myconfig.txt&quot;);\r\n\r\n - **Note**:\r\nNo need to provide source folder name (*src*) before package.","title":"ClassLoader getResourceAsStream returns null","body":"<ul>\n<li><p><strong>Instead of</strong>-</p>\n<p>InputStream is = ClassLoader.getSystemClassLoader.getResourceAsStream(&quot;myconfig.txt&quot;);</p>\n</li>\n<li><p><strong>Use</strong>-</p>\n<p>InputStream is = ClassLoader.getSystemClassLoader.getResourceAsStream(&quot;com/me/myapp/myconfig.txt&quot;);</p>\n</li>\n<li><p><strong>Note</strong>:\nNo need to provide source folder name (<em>src</em>) before package.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73170,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":19035419,"answer_count":3,"score":30,"last_activity_date":1647733696,"creation_date":1380218547,"question_id":19035407,"body_markdown":"My project directory structure (in Eclipse):\r\n\r\n    MyProject/\r\n        src/\t\t--&gt; &quot;source directory&quot; on Eclipse&#39;s classpath/buildpath\r\n            com.me.myapp\r\n                Driver\r\n                myconfig.txt\r\n\r\nIn `Driver`, I have the following code:\r\n\r\n    public class Driver {\r\n        public static void main(String[] args) {\r\n            InputStream is = ClassLoader.getSystemClassLoader.getResourceAsStream(&quot;myconfig.txt&quot;);\r\n            if(is == null)\r\n                System.out.println(&quot;input stream is null&quot;);\r\n            else\r\n                System.out.println(&quot;input stream is NOT null :-)&quot;);\r\n        }\r\n    }\r\n\r\nWhen I run this I get the following console output:\r\n\r\n    input stream is null\r\n\r\n**Why?** Have I placed `myconfig.txt` in an incorrect location? Am I using the ClassLoader API incorrectly? Something else?\r\n","title":"ClassLoader getResourceAsStream returns null","body":"<p>My project directory structure (in Eclipse):</p>\n<pre><code>MyProject/\n    src/        --&gt; &quot;source directory&quot; on Eclipse's classpath/buildpath\n        com.me.myapp\n            Driver\n            myconfig.txt\n</code></pre>\n<p>In <code>Driver</code>, I have the following code:</p>\n<pre><code>public class Driver {\n    public static void main(String[] args) {\n        InputStream is = ClassLoader.getSystemClassLoader.getResourceAsStream(&quot;myconfig.txt&quot;);\n        if(is == null)\n            System.out.println(&quot;input stream is null&quot;);\n        else\n            System.out.println(&quot;input stream is NOT null :-)&quot;);\n    }\n}\n</code></pre>\n<p>When I run this I get the following console output:</p>\n<pre><code>input stream is null\n</code></pre>\n<p><strong>Why?</strong> Have I placed <code>myconfig.txt</code> in an incorrect location? Am I using the ClassLoader API incorrectly? Something else?</p>\n"},{"tags":["java","hibernate","exception","orm"],"answers":[{"tags":[],"owner":{"account_id":1824461,"reputation":505,"user_id":1657651,"accept_rate":25,"display_name":"Harsha"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1384056948,"creation_date":1384056465,"answer_id":19886160,"question_id":19885910,"body_markdown":"you need to define the mapping to the entity class.This explains better\r\nhttp://www.tutorialspoint.com/hibernate/hibernate_examples.htm, \r\n\r\n\r\n\r\nIf you use spring while defining the session factory you need to provide the entity classes.\r\n\r\n    &lt;bean id=&quot;sessionFactory&quot;\r\n        class=&quot;org.springframework.orm.hibernate4.LocalSessionFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n        &lt;property name=&quot;annotatedClasses&quot;&gt;\r\n        &lt;list&gt;\r\n            &lt;value&gt;net.me.myapp.common.model.Word&lt;/value&gt;\r\n        &lt;/list&gt;\r\n    &lt;/bean&gt;\r\n\r\n\r\n","title":"Hibernate AnnotationException with ManyToMany?","body":"<p>you need to define the mapping to the entity class.This explains better\n<a href=\"http://www.tutorialspoint.com/hibernate/hibernate_examples.htm\" rel=\"nofollow\">http://www.tutorialspoint.com/hibernate/hibernate_examples.htm</a>, </p>\n\n<p>If you use spring while defining the session factory you need to provide the entity classes.</p>\n\n<pre><code>&lt;bean id=\"sessionFactory\"\n    class=\"org.springframework.orm.hibernate4.LocalSessionFactoryBean\"&gt;\n    &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n    &lt;property name=\"annotatedClasses\"&gt;\n    &lt;list&gt;\n        &lt;value&gt;net.me.myapp.common.model.Word&lt;/value&gt;\n    &lt;/list&gt;\n&lt;/bean&gt;\n</code></pre>\n"}],"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":410,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647733666,"creation_date":1384053715,"question_id":19885910,"body_markdown":"I am trying Hibernate out for the first time. I have 2 basic tables:\r\n\r\n    words\r\n        word_id\t\t\t\t==&gt;\t\t21939\r\n        word_text\t\t\t==&gt;\t\t&quot;fast&quot;\r\n        word_length\t\t\t==&gt;\t\t4\r\n        word_definition\t\t==&gt;\t\t&quot;Something that is quick.&quot;\r\n\r\n    word_types\r\n        word_types_id\t\t==&gt;\t\t2\r\n        word_type_label\t\t==&gt;\t\t&quot;Adverb&quot;\r\n        word_type_description\t==&gt;\t&quot;Describes a verb.&quot;\r\n        word_type_tag\t\t==&gt;\t\t&quot;ADVERB&quot;\r\n\r\nThe `words` table has a special many-to-many relationship with itself. Words have synonyms, which are other words. They also have antonyms, which are other words too. Ideally, Hibernate would create for me (`hibernate.hbm2ddl.auto` value of `update`) a `synonyms` and `antonyms` table that would hold the many-to-many relationships between words and their synonyms, and words and their antonyms. The Java model for this is:\r\n\r\n    @Entity\r\n    @AttributeOverrides({\r\n    @AttributeOverride(name=&quot;id&quot;, column=@Column(name=&quot;word_id&quot;))\r\n    })\r\n    @Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\r\n    @Table(name=&quot;words&quot;)\r\n    public class Word {\r\n        @Id @GeneratedValue(strategy=GenerationType.AUTO)\r\n        private Long id;\r\n\r\n        @Column(name=&quot;word_text&quot;)\r\n        private String text;\r\n\r\n        @Column(name=&quot;word_length&quot;)\r\n        private Integer length;\r\n\r\n        @ManyToOne\r\n        @JoinColumn(name=&quot;word_type_id&quot;, referencedColumnName=&quot;word_type_id&quot;)\r\n        private WordType wordType;\r\n\r\n        @Column(name=&quot;word_definition&quot;)\r\n        private String definition;\r\n\r\n        @ManyToMany()\r\n        private List&lt;Word&gt; synonyms;\t\t// &quot;quick&quot;, &quot;nimble&quot;\r\n\r\n        @ManyToMany()\r\n        private List&lt;Word&gt; antonyms;\t\t// &quot;slow&quot;, &quot;sluggish&quot;\r\n    }\r\n\r\n    @Entity\r\n    @AttributeOverrides({\r\n    @AttributeOverride(name=&quot;id&quot;, column=@Column(name=&quot;word_type_id&quot;)),\r\n    @AttributeOverride(name=&quot;label&quot;, column=@Column(name=&quot;word_type_label&quot;)),\r\n    @AttributeOverride(name=&quot;description&quot;, column=@Column(name=&quot;word_type_description&quot;)),\r\n    @AttributeOverride(name=&quot;tag&quot;, column=@Column(name=&quot;word_type_tag&quot;))\r\n    })\r\n    private class WordType {\r\n        @Id @GeneratedValue(strategy=GenerationType.AUTO)\r\n        private Long id;\r\n\r\n        private String label;\r\n        private String description;\r\n        private String tag;\r\n    }\r\n\r\nThen a `WordDAO` for persisting `Word` instances to my H2 DB:\r\n\r\n    public Word doPersist(Word word) {\r\n        Session session = getDaoUtils().newSessionFactory().openSession();\r\n        Word returnable = null;\r\n        Transaction transaction = null;\r\n\r\n        try {\r\n            transaction = session.beginTransaction();\r\n\r\n            session.saveOrUpdate(word);\r\n\r\n            transaction.commit();\r\n        } catch(Throwable throwable) {\r\n            transaction.rollback();\r\n\r\n            throw new RuntimeException(throwable);\r\n        } finally {\r\n            session.close();\r\n        }\r\n\r\n        return returnable;\r\n    }\r\n\r\nThen I wrote a little test driver:\r\n\r\n    public class HibernateTester {\r\n        public static void main(String[] args) {\r\n            Word fast = new Word(&quot;fast&quot;, 4, WordType.Adverb, &quot;A fast thing.&quot;, null, null);\r\n            Word slow = new Word(&quot;slow&quot;, 4, WordType.Adverb, &quot;A slow thing.&quot;, null, null);\r\n\r\n            List&lt;Word&gt; synonyms = new ArrayList&lt;Word&gt;();\r\n            List&lt;Word&gt; antonyms = new ArrayList&lt;Word&gt;();\r\n\r\n            synonyms.add(fast);\r\n            antonyms.add(slow);\r\n\r\n            Word quick = new Word(&quot;quick&quot;, 5, WordType.Adverb, &quot;A quick thing.&quot;, synonyms, antonyms);\r\n\r\n            WordDAO wordDAO = new WordDAO();\r\n\r\n            wordDAO.doPersist(quick);\r\n        }\r\n    }\r\n\r\nWhen I run this, I get the following exception:\r\n\r\n    INFO: HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\r\n    Exception in thread &quot;main&quot; org.hibernate.AnnotationException: Use of @OneToMany or @ManyToMany targeting an unmapped class: \r\n    net.me.myapp.common.dal.dto.WordDTO.synonyms[net.me.myapp.common.model.Word]\r\n        at org.hibernate.cfg.annotations.CollectionBinder.bindManyToManySecondPass(CollectionBinder.java:1059)\r\n        at org.hibernate.cfg.annotations.CollectionBinder.bindStarToManySecondPass(CollectionBinder.java:733)\r\n        at org.hibernate.cfg.annotations.CollectionBinder$1.secondPass(CollectionBinder.java:668)\r\n        at org.hibernate.cfg.CollectionSecondPass.doSecondPass(CollectionSecondPass.java:69)\r\n        at org.hibernate.cfg.Configuration.originalSecondPassCompile(Configuration.java:1611)\r\n        at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1369)\r\n        at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1756)\r\n        at net.me.myapp.common.dal.dao.DAOUtils.newSessionFactory(DAOUtils.java:21)\r\n        at net.me.myapp.common.dal.dao.WordDAO.doPersist(WordDAO.java:14)\r\n        at net.me.myapp.tools.wordloader.HibernateTester.main(HibernateTester.java:25)\r\n\r\nAny idea as to why? \r\n","title":"Hibernate AnnotationException with ManyToMany?","body":"<p>I am trying Hibernate out for the first time. I have 2 basic tables:</p>\n<pre><code>words\n    word_id             ==&gt;     21939\n    word_text           ==&gt;     &quot;fast&quot;\n    word_length         ==&gt;     4\n    word_definition     ==&gt;     &quot;Something that is quick.&quot;\n\nword_types\n    word_types_id       ==&gt;     2\n    word_type_label     ==&gt;     &quot;Adverb&quot;\n    word_type_description   ==&gt; &quot;Describes a verb.&quot;\n    word_type_tag       ==&gt;     &quot;ADVERB&quot;\n</code></pre>\n<p>The <code>words</code> table has a special many-to-many relationship with itself. Words have synonyms, which are other words. They also have antonyms, which are other words too. Ideally, Hibernate would create for me (<code>hibernate.hbm2ddl.auto</code> value of <code>update</code>) a <code>synonyms</code> and <code>antonyms</code> table that would hold the many-to-many relationships between words and their synonyms, and words and their antonyms. The Java model for this is:</p>\n<pre><code>@Entity\n@AttributeOverrides({\n@AttributeOverride(name=&quot;id&quot;, column=@Column(name=&quot;word_id&quot;))\n})\n@Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\n@Table(name=&quot;words&quot;)\npublic class Word {\n    @Id @GeneratedValue(strategy=GenerationType.AUTO)\n    private Long id;\n\n    @Column(name=&quot;word_text&quot;)\n    private String text;\n\n    @Column(name=&quot;word_length&quot;)\n    private Integer length;\n\n    @ManyToOne\n    @JoinColumn(name=&quot;word_type_id&quot;, referencedColumnName=&quot;word_type_id&quot;)\n    private WordType wordType;\n\n    @Column(name=&quot;word_definition&quot;)\n    private String definition;\n\n    @ManyToMany()\n    private List&lt;Word&gt; synonyms;        // &quot;quick&quot;, &quot;nimble&quot;\n\n    @ManyToMany()\n    private List&lt;Word&gt; antonyms;        // &quot;slow&quot;, &quot;sluggish&quot;\n}\n\n@Entity\n@AttributeOverrides({\n@AttributeOverride(name=&quot;id&quot;, column=@Column(name=&quot;word_type_id&quot;)),\n@AttributeOverride(name=&quot;label&quot;, column=@Column(name=&quot;word_type_label&quot;)),\n@AttributeOverride(name=&quot;description&quot;, column=@Column(name=&quot;word_type_description&quot;)),\n@AttributeOverride(name=&quot;tag&quot;, column=@Column(name=&quot;word_type_tag&quot;))\n})\nprivate class WordType {\n    @Id @GeneratedValue(strategy=GenerationType.AUTO)\n    private Long id;\n\n    private String label;\n    private String description;\n    private String tag;\n}\n</code></pre>\n<p>Then a <code>WordDAO</code> for persisting <code>Word</code> instances to my H2 DB:</p>\n<pre><code>public Word doPersist(Word word) {\n    Session session = getDaoUtils().newSessionFactory().openSession();\n    Word returnable = null;\n    Transaction transaction = null;\n\n    try {\n        transaction = session.beginTransaction();\n\n        session.saveOrUpdate(word);\n\n        transaction.commit();\n    } catch(Throwable throwable) {\n        transaction.rollback();\n\n        throw new RuntimeException(throwable);\n    } finally {\n        session.close();\n    }\n\n    return returnable;\n}\n</code></pre>\n<p>Then I wrote a little test driver:</p>\n<pre><code>public class HibernateTester {\n    public static void main(String[] args) {\n        Word fast = new Word(&quot;fast&quot;, 4, WordType.Adverb, &quot;A fast thing.&quot;, null, null);\n        Word slow = new Word(&quot;slow&quot;, 4, WordType.Adverb, &quot;A slow thing.&quot;, null, null);\n\n        List&lt;Word&gt; synonyms = new ArrayList&lt;Word&gt;();\n        List&lt;Word&gt; antonyms = new ArrayList&lt;Word&gt;();\n\n        synonyms.add(fast);\n        antonyms.add(slow);\n\n        Word quick = new Word(&quot;quick&quot;, 5, WordType.Adverb, &quot;A quick thing.&quot;, synonyms, antonyms);\n\n        WordDAO wordDAO = new WordDAO();\n\n        wordDAO.doPersist(quick);\n    }\n}\n</code></pre>\n<p>When I run this, I get the following exception:</p>\n<pre><code>INFO: HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\nException in thread &quot;main&quot; org.hibernate.AnnotationException: Use of @OneToMany or @ManyToMany targeting an unmapped class: \nnet.me.myapp.common.dal.dto.WordDTO.synonyms[net.me.myapp.common.model.Word]\n    at org.hibernate.cfg.annotations.CollectionBinder.bindManyToManySecondPass(CollectionBinder.java:1059)\n    at org.hibernate.cfg.annotations.CollectionBinder.bindStarToManySecondPass(CollectionBinder.java:733)\n    at org.hibernate.cfg.annotations.CollectionBinder$1.secondPass(CollectionBinder.java:668)\n    at org.hibernate.cfg.CollectionSecondPass.doSecondPass(CollectionSecondPass.java:69)\n    at org.hibernate.cfg.Configuration.originalSecondPassCompile(Configuration.java:1611)\n    at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1369)\n    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1756)\n    at net.me.myapp.common.dal.dao.DAOUtils.newSessionFactory(DAOUtils.java:21)\n    at net.me.myapp.common.dal.dao.WordDAO.doPersist(WordDAO.java:14)\n    at net.me.myapp.tools.wordloader.HibernateTester.main(HibernateTester.java:25)\n</code></pre>\n<p>Any idea as to why?</p>\n"},{"tags":["java","css-selectors","web-crawler","jsoup"],"answers":[{"tags":[],"owner":{"account_id":1690033,"reputation":9823,"user_id":1552585,"accept_rate":91,"display_name":"William Falcon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1463994671,"creation_date":1384288369,"answer_id":19939284,"question_id":19939129,"body_markdown":"    Elements hotwords = document.select(&quot;#hotwords&quot;);\r\n    \r\n    for (Element hotword : hotwords){\r\n        String word = hotword.getText();\r\n    }","title":"Using JSoup CSS selectors","body":"<pre><code>Elements hotwords = document.select(\"#hotwords\");\n\nfor (Element hotword : hotwords){\n    String word = hotword.getText();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1384290923,"creation_date":1384288537,"answer_id":19939338,"question_id":19939129,"body_markdown":"If you are using `getElementsByClass` then you don&#39;t need to add `.` before it, just use class name like `getElementsByClass(&quot;pg&quot;)`, not ``getElementsByClass(&quot;.pg&quot;)``\r\n\r\nSame goes to `getElementById`. Don&#39;t add `#` before `id` value. Just use `getElementById(&quot;hotword&quot;)`.\r\n\r\nAlso it seems that your `div`s with `pbk` class are nested so `getElementsByClass` could give you duplicate results. \r\n\r\n---\r\nAfter knowing what page you are trying to parse you can do it with one selector. Try maybe this way\r\n\r\n\tfor (Element element:doc.select(&quot;div.body div.pbk span.pg&quot;)){\r\n\t\tSystem.out.println(element.text());\r\n\t}\r\n\r\n","title":"Using JSoup CSS selectors","body":"<p>If you are using <code>getElementsByClass</code> then you don't need to add <code>.</code> before it, just use class name like <code>getElementsByClass(\"pg\")</code>, not <code>getElementsByClass(\".pg\")</code></p>\n\n<p>Same goes to <code>getElementById</code>. Don't add <code>#</code> before <code>id</code> value. Just use <code>getElementById(\"hotword\")</code>.</p>\n\n<p>Also it seems that your <code>div</code>s with <code>pbk</code> class are nested so <code>getElementsByClass</code> could give you duplicate results. </p>\n\n<hr>\n\n<p>After knowing what page you are trying to parse you can do it with one selector. Try maybe this way</p>\n\n<pre><code>for (Element element:doc.select(\"div.body div.pbk span.pg\")){\n    System.out.println(element.text());\n}\n</code></pre>\n"}],"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4865,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":19939338,"answer_count":2,"score":0,"last_activity_date":1647733633,"creation_date":1384287758,"question_id":19939129,"body_markdown":"I am trying to use [JSoup](http://jsoup.org/) to scrape some content off of a website. Here is some sample HTML content from the page I am interested in:\r\n\r\n    &lt;div class=&quot;sep_top shd_hdr pb2 luna&quot;&gt;\r\n        &lt;div class=&quot;KonaBody&quot; style=&quot;padding-left:0px;&quot;&gt;\r\n            &lt;div class=&quot;lunatext results_content frstluna&quot;&gt;\r\n                &lt;div class=&quot;luna-Ent&quot;&gt;\r\n                    &lt;div class=&quot;header&quot;&gt;\r\n                    &lt;div class=&quot;body&quot;&gt;\r\n                        &lt;div class=&quot;pbk&quot;&gt;\r\n                            &lt;div id=&quot;rltqns&quot;&gt;\r\n                        &lt;div class=&quot;pbk&quot;&gt;\r\n                            &lt;span class=&quot;pg&quot;&gt;\r\n                                &lt;span id=&quot;hotword&quot;&gt;\r\n                                    &lt;span id=&quot;hotword&quot;&gt;Fizz&lt;/span&gt;\r\n                                &lt;/span&gt;\r\n                            &lt;/span&gt;\r\n                            &lt;div class=&quot;luna-Ent&quot;&gt;\r\n                            &lt;div class=&quot;luna-Ent&quot;&gt;\r\n                            &lt;div class=&quot;luna-Ent&quot;&gt;\r\n                            &lt;div class=&quot;luna-Ent&quot;&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;div class=&quot;pbk&quot;&gt;\r\n                            &lt;span class=&quot;sectionLabel&quot;&gt;\r\n                            &lt;span class=&quot;pg&quot;&gt;\r\n                                &lt;span id=&quot;hotword&quot;&gt;\r\n                                    &lt;span id=&quot;hotword&quot;&gt;Buzz&lt;/span&gt;\r\n                                &lt;/span&gt;\r\n                            &lt;/span&gt;\r\n                            &lt;span class=&quot;pg&quot;&gt;\r\n                                &lt;span id=&quot;hotword&quot;&gt;\r\n                                    &lt;span id=&quot;hotword&quot;&gt;Foo&lt;/span&gt;\r\n                                &lt;/span&gt;\r\n                            &lt;/span&gt;\r\n                            &lt;span class=&quot;pg&quot;&gt;\r\n                                &lt;span id=&quot;hotword&quot;&gt;\r\n                                    &lt;span id=&quot;hotword&quot;&gt;Bar&lt;/span&gt;\r\n                                &lt;/span&gt;\r\n                            &lt;/span&gt;\r\n                        &lt;/div&gt;\r\n                    &lt;div class=&quot;tail&quot;&gt;\r\n                &lt;/div&gt;\r\n                &lt;div class=&quot;rcr&quot;&gt;\r\n            &lt;!-- ... rest of content omitted for brevity --&gt;\r\n\r\nI am interested in obtaining a list of all the `hotwords` in the page (so &quot;Fizz&quot;, &quot;Buzz&quot;, &quot;Foo&quot; and &quot;Bar&quot;). **But I can&#39;t just query for `hotword`, because they use the `hotword` class all over the place to decorate lots of different elements.** Specifically, I need all the `hotwords` that exist inside a `pbk pg hotword` element. Note that pbks can contain 0+ pgs, and pgs can contain 0+ hotwords, and hotwords can contain 1+ other hotwords. I have the following code:\r\n\r\n    // Update, per PShemo:\r\n    Document doc = Jsoup.connect(&quot;http://somesite.example.com&quot;).get();\r\n\r\n    System.out.println(&quot;Starting to crawl...&quot;);\r\n\r\n    // Get the document&#39;s .pbk elements.\r\n    Elements pbks = doc.select(&quot;.pbk&quot;);\r\n\r\n    List&lt;String&gt; hotwords = new ArrayList&lt;String&gt;();\r\n\r\n    System.out.println(String.format(&quot;Found %s pbks.&quot;, pbks.size()));\r\n    int pbkCount = 0;\r\n    for(Element pbk : pbks) {\r\n        pbkCount++;\r\n\r\n        // Get the .pbk element&#39;s .pg elements.\r\n        for(Element pg : pbk.getElementsByClass(&quot;pg&quot;)) {\r\n            System.out.println(String.format(&quot;PBK #%s has %s pgs.&quot;, pbkCount, pbk.getElementsByClass(&quot;pg&quot;).size()));\r\n            Element hotword = pg.getElementById(&quot;hotword&quot;);\r\n\r\n            System.out.println(&quot;Adding hotword: &quot; + hotword.text());\r\n            hotwords.add(hotword.text());\r\n        }\r\n    }\r\n\r\nRunning that code produces the following output:\r\n\r\n    Starting to crawl...\r\n    Found 3 pbks.\r\n\r\nI am either not using the JSoup API correctly, or not using the right selectors, or both. Any thoughts as to where I&#39;m going awry?\r\n","title":"Using JSoup CSS selectors","body":"<p>I am trying to use <a href=\"http://jsoup.org/\" rel=\"nofollow noreferrer\">JSoup</a> to scrape some content off of a website. Here is some sample HTML content from the page I am interested in:</p>\n<pre><code>&lt;div class=&quot;sep_top shd_hdr pb2 luna&quot;&gt;\n    &lt;div class=&quot;KonaBody&quot; style=&quot;padding-left:0px;&quot;&gt;\n        &lt;div class=&quot;lunatext results_content frstluna&quot;&gt;\n            &lt;div class=&quot;luna-Ent&quot;&gt;\n                &lt;div class=&quot;header&quot;&gt;\n                &lt;div class=&quot;body&quot;&gt;\n                    &lt;div class=&quot;pbk&quot;&gt;\n                        &lt;div id=&quot;rltqns&quot;&gt;\n                    &lt;div class=&quot;pbk&quot;&gt;\n                        &lt;span class=&quot;pg&quot;&gt;\n                            &lt;span id=&quot;hotword&quot;&gt;\n                                &lt;span id=&quot;hotword&quot;&gt;Fizz&lt;/span&gt;\n                            &lt;/span&gt;\n                        &lt;/span&gt;\n                        &lt;div class=&quot;luna-Ent&quot;&gt;\n                        &lt;div class=&quot;luna-Ent&quot;&gt;\n                        &lt;div class=&quot;luna-Ent&quot;&gt;\n                        &lt;div class=&quot;luna-Ent&quot;&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;pbk&quot;&gt;\n                        &lt;span class=&quot;sectionLabel&quot;&gt;\n                        &lt;span class=&quot;pg&quot;&gt;\n                            &lt;span id=&quot;hotword&quot;&gt;\n                                &lt;span id=&quot;hotword&quot;&gt;Buzz&lt;/span&gt;\n                            &lt;/span&gt;\n                        &lt;/span&gt;\n                        &lt;span class=&quot;pg&quot;&gt;\n                            &lt;span id=&quot;hotword&quot;&gt;\n                                &lt;span id=&quot;hotword&quot;&gt;Foo&lt;/span&gt;\n                            &lt;/span&gt;\n                        &lt;/span&gt;\n                        &lt;span class=&quot;pg&quot;&gt;\n                            &lt;span id=&quot;hotword&quot;&gt;\n                                &lt;span id=&quot;hotword&quot;&gt;Bar&lt;/span&gt;\n                            &lt;/span&gt;\n                        &lt;/span&gt;\n                    &lt;/div&gt;\n                &lt;div class=&quot;tail&quot;&gt;\n            &lt;/div&gt;\n            &lt;div class=&quot;rcr&quot;&gt;\n        &lt;!-- ... rest of content omitted for brevity --&gt;\n</code></pre>\n<p>I am interested in obtaining a list of all the <code>hotwords</code> in the page (so &quot;Fizz&quot;, &quot;Buzz&quot;, &quot;Foo&quot; and &quot;Bar&quot;). <strong>But I can't just query for <code>hotword</code>, because they use the <code>hotword</code> class all over the place to decorate lots of different elements.</strong> Specifically, I need all the <code>hotwords</code> that exist inside a <code>pbk pg hotword</code> element. Note that pbks can contain 0+ pgs, and pgs can contain 0+ hotwords, and hotwords can contain 1+ other hotwords. I have the following code:</p>\n<pre><code>// Update, per PShemo:\nDocument doc = Jsoup.connect(&quot;http://somesite.example.com&quot;).get();\n\nSystem.out.println(&quot;Starting to crawl...&quot;);\n\n// Get the document's .pbk elements.\nElements pbks = doc.select(&quot;.pbk&quot;);\n\nList&lt;String&gt; hotwords = new ArrayList&lt;String&gt;();\n\nSystem.out.println(String.format(&quot;Found %s pbks.&quot;, pbks.size()));\nint pbkCount = 0;\nfor(Element pbk : pbks) {\n    pbkCount++;\n\n    // Get the .pbk element's .pg elements.\n    for(Element pg : pbk.getElementsByClass(&quot;pg&quot;)) {\n        System.out.println(String.format(&quot;PBK #%s has %s pgs.&quot;, pbkCount, pbk.getElementsByClass(&quot;pg&quot;).size()));\n        Element hotword = pg.getElementById(&quot;hotword&quot;);\n\n        System.out.println(&quot;Adding hotword: &quot; + hotword.text());\n        hotwords.add(hotword.text());\n    }\n}\n</code></pre>\n<p>Running that code produces the following output:</p>\n<pre><code>Starting to crawl...\nFound 3 pbks.\n</code></pre>\n<p>I am either not using the JSoup API correctly, or not using the right selectors, or both. Any thoughts as to where I'm going awry?</p>\n"},{"tags":["java","class","generics","constructor","java-sealed-type"],"answers":[{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647732902,"creation_date":1647732902,"answer_id":71542908,"question_id":71542668,"body_markdown":"The reason for this were apparently type safety concerns regarding generic arrays, see [JDK-8246278](https://bugs.openjdk.java.net/browse/JDK-8246278) and the referenced [mailing list post](https://mail.openjdk.java.net/pipermail/amber-spec-experts/2020-October/002625.html).\r\n\r\nThough arguably that decision is rather questionable because it sacrifices usability for a rather contrived corner case (which most likely will never occur in regular code).  \r\nAdditionally there are other existing methods such as [`Class.getTypeParameters()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html#getTypeParameters()) with return type `TypeVariable&lt;Class&lt;T&gt;&gt;[]` which suffer from the same (contrived) issue (there also exists the &quot;Won&#39;t Fix&quot; issue [JDK-5063716](https://bugs.openjdk.java.net/browse/JDK-5063716) for this).","title":"Why does Class.getPermittedSubclasses() return Class&lt;?&gt;[] and not Class&lt;? extends T&gt;[]","body":"<p>The reason for this were apparently type safety concerns regarding generic arrays, see <a href=\"https://bugs.openjdk.java.net/browse/JDK-8246278\" rel=\"nofollow noreferrer\">JDK-8246278</a> and the referenced <a href=\"https://mail.openjdk.java.net/pipermail/amber-spec-experts/2020-October/002625.html\" rel=\"nofollow noreferrer\">mailing list post</a>.</p>\n<p>Though arguably that decision is rather questionable because it sacrifices usability for a rather contrived corner case (which most likely will never occur in regular code).<br />\nAdditionally there are other existing methods such as <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html#getTypeParameters()\" rel=\"nofollow noreferrer\"><code>Class.getTypeParameters()</code></a> with return type <code>TypeVariable&lt;Class&lt;T&gt;&gt;[]</code> which suffer from the same (contrived) issue (there also exists the &quot;Won't Fix&quot; issue <a href=\"https://bugs.openjdk.java.net/browse/JDK-5063716\" rel=\"nofollow noreferrer\">JDK-5063716</a> for this).</p>\n"}],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71542908,"answer_count":1,"score":2,"last_activity_date":1647732902,"creation_date":1647729640,"question_id":71542668,"body_markdown":"I have a sealed interface that permits 3 types.\r\n\r\n```\r\nsealed interface Parent permits ChildA, ChildB, ChildC {}\r\n\r\nrecord ChildA(long num) implements Parent {}\r\nrecord ChildB(long num) implements Parent {}\r\nrecord ChildC(long num) implements Parent {}\r\n```\r\n\r\nI want to get the constructor of each type, so I tried the following.\r\n\r\n```\r\nParent.class.getPermittedSubclasses();\r\n```\r\n\r\nHowever, the return type of `getPermittedSubclasses()` is `Class&lt;?&gt;`. Why would it not be `Class&lt;? extends Parent&gt;`? Sealed interfaces are a brand new feature that do not have any dependencies. So why artificially restrict the return type in a way that makes the method less usable?\r\n\r\nIf the method returned `Class&lt;? extends Parent&gt;`, I could turn around and do the following.\r\n\r\n```\r\nClass&lt;? extends Parent&gt; clazz = Parent.class.getPermittedSubclasses();\r\nClass&lt;Long&gt; constructorParameter = Long.class;\r\nConstructor&lt;? extends Parent&gt; constructor = clazz.getConstructor(constructorParameter);\r\nParent p = constructor.newInstance();\r\n```\r\n\r\nNow to be clear, I can get past this by doing `@SuppressWarnings(&quot;unchecked&quot;)`, and then just forcefully casting the value to be exactly what I want, but obviously, that is not ideal at all.\r\n\r\nAs is, this is just arbitrarily limiting for no benefit that I can see. So can someone explain why this is the case?","title":"Why does Class.getPermittedSubclasses() return Class&lt;?&gt;[] and not Class&lt;? extends T&gt;[]","body":"<p>I have a sealed interface that permits 3 types.</p>\n<pre><code>sealed interface Parent permits ChildA, ChildB, ChildC {}\n\nrecord ChildA(long num) implements Parent {}\nrecord ChildB(long num) implements Parent {}\nrecord ChildC(long num) implements Parent {}\n</code></pre>\n<p>I want to get the constructor of each type, so I tried the following.</p>\n<pre><code>Parent.class.getPermittedSubclasses();\n</code></pre>\n<p>However, the return type of <code>getPermittedSubclasses()</code> is <code>Class&lt;?&gt;</code>. Why would it not be <code>Class&lt;? extends Parent&gt;</code>? Sealed interfaces are a brand new feature that do not have any dependencies. So why artificially restrict the return type in a way that makes the method less usable?</p>\n<p>If the method returned <code>Class&lt;? extends Parent&gt;</code>, I could turn around and do the following.</p>\n<pre><code>Class&lt;? extends Parent&gt; clazz = Parent.class.getPermittedSubclasses();\nClass&lt;Long&gt; constructorParameter = Long.class;\nConstructor&lt;? extends Parent&gt; constructor = clazz.getConstructor(constructorParameter);\nParent p = constructor.newInstance();\n</code></pre>\n<p>Now to be clear, I can get past this by doing <code>@SuppressWarnings(&quot;unchecked&quot;)</code>, and then just forcefully casting the value to be exactly what I want, but obviously, that is not ideal at all.</p>\n<p>As is, this is just arbitrarily limiting for no benefit that I can see. So can someone explain why this is the case?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":10116472,"reputation":284,"user_id":7474991,"display_name":"Praneeth Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647726176,"creation_date":1647726176,"answer_id":71542321,"question_id":71542075,"body_markdown":"what you want is a list of beans which are of type ImportantService\r\nso you have to declare a variable like this.\r\n\r\n    final List&lt;ImportantService&gt; importantServices;\r\n    demoController(List&lt;ImportantService&gt; importantServices) {\r\n        this.importantServices = importantServices;\r\n    }\r\n\r\n","title":"Inject multiple beans of the same type and automatically select between them based on generic type","body":"<p>what you want is a list of beans which are of type ImportantService\nso you have to declare a variable like this.</p>\n<pre><code>final List&lt;ImportantService&gt; importantServices;\ndemoController(List&lt;ImportantService&gt; importantServices) {\n    this.importantServices = importantServices;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19655452,"reputation":301,"user_id":14388200,"display_name":"David A."},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647731545,"creation_date":1647731228,"answer_id":71542794,"question_id":71542075,"body_markdown":"Why not implement the [proxy pattern][1]?\r\n\r\nexample:\r\n\r\n    @Service\r\n    @Primary\r\n    @RequiredArgsConstructor\r\n    public class ImportantServiceProxy implements ImportantService&lt;T extends ImportantRequest&gt; {\r\n       private final List&lt;ImportantService&gt; importantServices;\r\n      \r\n       private ImportantService getImportantService(ImportantRequest request){\r\n           return this.importantServices.stream()\r\n                 .filter(importantService -&gt; importantService.getType().equals(request.getClass()))\r\n                 .findFirst()\r\n                 .get();\r\n       }\r\n       \r\n       public void doImportantJob(ImportantRequest request){\r\n             this.getImportantService(request).doImportantJob(request);\r\n       }\r\n    }\r\n\r\nThen in your controller you can call the function without check the type.\r\n\r\n     @RequiredArgsConstructor\r\n     @RestController\r\n     @RequestMapping(&quot;/api/important&quot;)\r\n     public class ImportantController&lt;T extends ImportantRequest&gt; {\r\n    \r\n        private final ImportantService&lt;T&gt; importantService;\r\n\r\n        @PostMapping\r\n        public ResponseEntity&lt;ImportantResponse&gt; create(@RequestBody @Valid T request) {\r\n            importantService.doImportantJob(request);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://www.tutorialspoint.com/design_pattern/proxy_pattern.htm","title":"Inject multiple beans of the same type and automatically select between them based on generic type","body":"<p>Why not implement the <a href=\"https://www.tutorialspoint.com/design_pattern/proxy_pattern.htm\" rel=\"nofollow noreferrer\">proxy pattern</a>?</p>\n<p>example:</p>\n<pre><code>@Service\n@Primary\n@RequiredArgsConstructor\npublic class ImportantServiceProxy implements ImportantService&lt;T extends ImportantRequest&gt; {\n   private final List&lt;ImportantService&gt; importantServices;\n  \n   private ImportantService getImportantService(ImportantRequest request){\n       return this.importantServices.stream()\n             .filter(importantService -&gt; importantService.getType().equals(request.getClass()))\n             .findFirst()\n             .get();\n   }\n   \n   public void doImportantJob(ImportantRequest request){\n         this.getImportantService(request).doImportantJob(request);\n   }\n}\n</code></pre>\n<p>Then in your controller you can call the function without check the type.</p>\n<pre><code> @RequiredArgsConstructor\n @RestController\n @RequestMapping(&quot;/api/important&quot;)\n public class ImportantController&lt;T extends ImportantRequest&gt; {\n\n    private final ImportantService&lt;T&gt; importantService;\n\n    @PostMapping\n    public ResponseEntity&lt;ImportantResponse&gt; create(@RequestBody @Valid T request) {\n        importantService.doImportantJob(request);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10711101,"reputation":51,"user_id":7883298,"display_name":"jerdys"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1460,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71542794,"answer_count":2,"score":0,"last_activity_date":1647731545,"creation_date":1647723779,"question_id":71542075,"body_markdown":"I have two (more in the future) implementations of `ImportantService` – `VeryImportantService` and `LessImportantService`:\r\n\r\n```\r\npublic interface ImportantService&lt;T extends ImportantRequest&gt; {}\r\n```\r\n\r\n```\r\n@Service\r\npublic class VeryImportantService implements ImportantService&lt;VeryImportantRequest&gt; {}\r\n```\r\n\r\n```\r\n@Service\r\npublic class LessImportantService implements ImportantService&lt;LessImportantRequest&gt; {}\r\n```\r\n\r\nAnd then I have a controller, in which I want to inject all of the implementations of `ImportantService`:\r\n\r\n```\r\n@RequiredArgsConstructor\r\n@RestController\r\n@RequestMapping(&quot;/api/important&quot;)\r\npublic class ImportantController&lt;T extends ImportantRequest&gt; {\r\n    \r\n    private final ImportantService&lt;T&gt; importantService;\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;ImportantResponse&gt; create(@RequestBody @Valid T request) {\r\n        // very important code here\r\n    }\r\n}\r\n```\r\n\r\nObviously, such king of injecting fails:\r\n```\r\nUnsatisfiedDependencyException: Error creating bean with name &#39;importantController&#39; defined in file ...\r\n...\r\nConsider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed\r\n```\r\n\r\nWhat I want is:\r\n\r\nInject all of the implementations of `ImportantService`, and then, based on the `T` automatically select required bean. I know I can add method to `ImportantService`, which returns the type that implementation works with and then inject `ImportantService` as `List&lt;ImportantService&gt; importantServices` and then filter like this:\r\n\r\n```\r\nimportantServices.stream()\r\n                 .filter(importantService -&gt; importantService.getType().equals(request.getClass()))\r\n                 .findFirst()\r\n                 .ifPresent(importantService -&gt; importantService.doImportantJob(request));\r\n```\r\n\r\nBUT! I have hundreds of services to refactor like this and I really don&#39;t want to write additional logic to controllers.\r\n\r\nI know about `@Conditional` annotation and `Condition` interface, but AFAIK there&#39;s no way to make them do what I want.","title":"Inject multiple beans of the same type and automatically select between them based on generic type","body":"<p>I have two (more in the future) implementations of <code>ImportantService</code> – <code>VeryImportantService</code> and <code>LessImportantService</code>:</p>\n<pre><code>public interface ImportantService&lt;T extends ImportantRequest&gt; {}\n</code></pre>\n<pre><code>@Service\npublic class VeryImportantService implements ImportantService&lt;VeryImportantRequest&gt; {}\n</code></pre>\n<pre><code>@Service\npublic class LessImportantService implements ImportantService&lt;LessImportantRequest&gt; {}\n</code></pre>\n<p>And then I have a controller, in which I want to inject all of the implementations of <code>ImportantService</code>:</p>\n<pre><code>@RequiredArgsConstructor\n@RestController\n@RequestMapping(&quot;/api/important&quot;)\npublic class ImportantController&lt;T extends ImportantRequest&gt; {\n    \n    private final ImportantService&lt;T&gt; importantService;\n\n    @PostMapping\n    public ResponseEntity&lt;ImportantResponse&gt; create(@RequestBody @Valid T request) {\n        // very important code here\n    }\n}\n</code></pre>\n<p>Obviously, such king of injecting fails:</p>\n<pre><code>UnsatisfiedDependencyException: Error creating bean with name 'importantController' defined in file ...\n...\nConsider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed\n</code></pre>\n<p>What I want is:</p>\n<p>Inject all of the implementations of <code>ImportantService</code>, and then, based on the <code>T</code> automatically select required bean. I know I can add method to <code>ImportantService</code>, which returns the type that implementation works with and then inject <code>ImportantService</code> as <code>List&lt;ImportantService&gt; importantServices</code> and then filter like this:</p>\n<pre><code>importantServices.stream()\n                 .filter(importantService -&gt; importantService.getType().equals(request.getClass()))\n                 .findFirst()\n                 .ifPresent(importantService -&gt; importantService.doImportantJob(request));\n</code></pre>\n<p>BUT! I have hundreds of services to refactor like this and I really don't want to write additional logic to controllers.</p>\n<p>I know about <code>@Conditional</code> annotation and <code>Condition</code> interface, but AFAIK there's no way to make them do what I want.</p>\n"},{"tags":["java","interface","gson"],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647731358,"creation_date":1647725411,"answer_id":71542250,"question_id":71541309,"body_markdown":"[InstanceCreator][1] can only create instances of a class that does not define a no-args constructor. It does not handle deserialization. Gson still won&#39;t be able to figure out the concrete data type of the object. \r\n\r\n**Solution. Custom deserializer for interface**\r\n&lt;br&gt;You need to define a custom deserializer for your interface and register this new type adapter in factory.\r\n```java\r\npublic class MyInterfaceDeserializer implements JsonDeserializer&lt;MyInterface&gt; {\r\n    @Override\r\n    public MyInterface deserialize(JsonElement jsonElement, Type type, JsonDeserializationContext jsonDeserializationContext) throws JsonParseException {\r\n        return jsonDeserializationContext.deserialize(jsonElement, MyInterfaceImpl.class);\r\n    }\r\n}\r\n\r\npublic class GsonFactory {\r\n    public Gson create() {\r\n        return new GsonBuilder()\r\n                .setPrettyPrinting()\r\n                .registerTypeAdapter(MyInterface.class, new MyInterfaceDeserializer())\r\n                .create();\r\n    }\r\n}\r\n```\r\nOR Generic deserializer\r\n```java\r\npublic class InterfaceDeserializer&lt;T, E&gt; implements JsonDeserializer&lt;T&gt; {\r\n    private final Class&lt;E&gt; implementationClass;\r\n\r\n    public InterfaceDeserializer(Class&lt;E&gt; implementationClass) {\r\n        this.implementationClass = implementationClass;\r\n    }\r\n\r\n    @Override\r\n    public T deserialize(JsonElement jsonElement, Type type, JsonDeserializationContext jsonDeserializationContext) throws JsonParseException {\r\n        return jsonDeserializationContext.deserialize(jsonElement, implementationClass);\r\n    }\r\n}\r\n\r\npublic class GsonFactory {\r\n    public Gson create() {     \r\n        return new GsonBuilder()\r\n                .setPrettyPrinting()                \r\n               .registerTypeAdapter(MyInterface.class, new InterfaceDeserializer&lt;MyInterface, MyInterfaceImpl&gt;(MyInterfaceImpl.class))\r\n                .create();\r\n}\r\n```\r\nOR\r\n```java\r\npublic class MyInterfaceDeserializer implements JsonDeserializer&lt;MyInterface&gt; {\r\n    @Override\r\n    public MyInterface deserialize(JsonElement jsonElement, Type type, JsonDeserializationContext jsonDeserializationContext) throws JsonParseException {\r\n        MyInterface myInterface = new MyInterfaceImpl();\r\n        JsonObject jObject = jsonElement.getAsJsonObject();\r\n        myInterface.setValue1(jObject.get(&quot;value1&quot;).getAsLong());\r\n        return myInterface;\r\n    }\r\n}\r\n\r\npublic class GsonFactory {\r\n    public Gson create() {\r\n        return new GsonBuilder()\r\n                .setPrettyPrinting()\r\n                .registerTypeAdapter(MyInterface.class, new MyInterfaceDeserializer())\r\n                .create();\r\n    }\r\n}\r\n```\r\n\r\n\r\n**Another option**&lt;br&gt;\r\nUse [RuntimeTypeAdapterFactory][2] but this solution requires an extra `type` property in json to define the exact subtype, see the documentation.\r\n&lt;br&gt;Example:\r\n```java\r\n    public Gson create() {\r\n        RuntimeTypeAdapterFactory&lt;MyInterface&gt; runtimeTypeAdapterFactory = RuntimeTypeAdapterFactory.of(MyInterface.class).registerSubtype(MyInterfaceImpl.class, &quot;MyInterfaceImpl&quot;);\r\n        return new GsonBuilder()\r\n                .setPrettyPrinting()\r\n                .registerTypeAdapterFactory(runtimeTypeAdapterFactory)\r\n                .create();\r\n    }\r\n```\r\nJSON must contain type field:\r\n```json\r\n{\r\n  myList: [\r\n    {\r\n      value1: 8,\r\n      type: MyInterfaceImpl\r\n    }\r\n  ]\r\n}\r\n```\r\nPlease note [gson-extras][3] library required for that option. This artifact is located at [CronApp][4] repository.\r\n\r\n\r\n  [1]: https://javadoc.io/doc/com.google.code.gson/gson/1.1/com/google/gson/InstanceCreator.html\r\n  [2]: https://www.javadoc.io/doc/org.danilopianini/gson-extras/0.2.1/com/google/gson/typeadapters/RuntimeTypeAdapterFactory.html\r\n  [3]: https://mvnrepository.com/artifact/com.google.code.gson/gson-extras/2.8.5\r\n  [4]: https://artifactory.cronapp.io/public-release/","title":"GsonBuilder - Get Object from Interface","body":"<p><a href=\"https://javadoc.io/doc/com.google.code.gson/gson/1.1/com/google/gson/InstanceCreator.html\" rel=\"nofollow noreferrer\">InstanceCreator</a> can only create instances of a class that does not define a no-args constructor. It does not handle deserialization. Gson still won't be able to figure out the concrete data type of the object.</p>\n<p><strong>Solution. Custom deserializer for interface</strong>\n<br>You need to define a custom deserializer for your interface and register this new type adapter in factory.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyInterfaceDeserializer implements JsonDeserializer&lt;MyInterface&gt; {\n    @Override\n    public MyInterface deserialize(JsonElement jsonElement, Type type, JsonDeserializationContext jsonDeserializationContext) throws JsonParseException {\n        return jsonDeserializationContext.deserialize(jsonElement, MyInterfaceImpl.class);\n    }\n}\n\npublic class GsonFactory {\n    public Gson create() {\n        return new GsonBuilder()\n                .setPrettyPrinting()\n                .registerTypeAdapter(MyInterface.class, new MyInterfaceDeserializer())\n                .create();\n    }\n}\n</code></pre>\n<p>OR Generic deserializer</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class InterfaceDeserializer&lt;T, E&gt; implements JsonDeserializer&lt;T&gt; {\n    private final Class&lt;E&gt; implementationClass;\n\n    public InterfaceDeserializer(Class&lt;E&gt; implementationClass) {\n        this.implementationClass = implementationClass;\n    }\n\n    @Override\n    public T deserialize(JsonElement jsonElement, Type type, JsonDeserializationContext jsonDeserializationContext) throws JsonParseException {\n        return jsonDeserializationContext.deserialize(jsonElement, implementationClass);\n    }\n}\n\npublic class GsonFactory {\n    public Gson create() {     \n        return new GsonBuilder()\n                .setPrettyPrinting()                \n               .registerTypeAdapter(MyInterface.class, new InterfaceDeserializer&lt;MyInterface, MyInterfaceImpl&gt;(MyInterfaceImpl.class))\n                .create();\n}\n</code></pre>\n<p>OR</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyInterfaceDeserializer implements JsonDeserializer&lt;MyInterface&gt; {\n    @Override\n    public MyInterface deserialize(JsonElement jsonElement, Type type, JsonDeserializationContext jsonDeserializationContext) throws JsonParseException {\n        MyInterface myInterface = new MyInterfaceImpl();\n        JsonObject jObject = jsonElement.getAsJsonObject();\n        myInterface.setValue1(jObject.get(&quot;value1&quot;).getAsLong());\n        return myInterface;\n    }\n}\n\npublic class GsonFactory {\n    public Gson create() {\n        return new GsonBuilder()\n                .setPrettyPrinting()\n                .registerTypeAdapter(MyInterface.class, new MyInterfaceDeserializer())\n                .create();\n    }\n}\n</code></pre>\n<p><strong>Another option</strong><br>\nUse <a href=\"https://www.javadoc.io/doc/org.danilopianini/gson-extras/0.2.1/com/google/gson/typeadapters/RuntimeTypeAdapterFactory.html\" rel=\"nofollow noreferrer\">RuntimeTypeAdapterFactory</a> but this solution requires an extra <code>type</code> property in json to define the exact subtype, see the documentation.\n<br>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public Gson create() {\n        RuntimeTypeAdapterFactory&lt;MyInterface&gt; runtimeTypeAdapterFactory = RuntimeTypeAdapterFactory.of(MyInterface.class).registerSubtype(MyInterfaceImpl.class, &quot;MyInterfaceImpl&quot;);\n        return new GsonBuilder()\n                .setPrettyPrinting()\n                .registerTypeAdapterFactory(runtimeTypeAdapterFactory)\n                .create();\n    }\n</code></pre>\n<p>JSON must contain type field:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  myList: [\n    {\n      value1: 8,\n      type: MyInterfaceImpl\n    }\n  ]\n}\n</code></pre>\n<p>Please note <a href=\"https://mvnrepository.com/artifact/com.google.code.gson/gson-extras/2.8.5\" rel=\"nofollow noreferrer\">gson-extras</a> library required for that option. This artifact is located at <a href=\"https://artifactory.cronapp.io/public-release/\" rel=\"nofollow noreferrer\">CronApp</a> repository.</p>\n"}],"owner":{"account_id":463465,"reputation":4099,"user_id":866390,"accept_rate":51,"display_name":"Joe Almore"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71542250,"answer_count":1,"score":1,"last_activity_date":1647731358,"creation_date":1647717509,"question_id":71541309,"body_markdown":"I have a `GsonFactory` declared like this:\r\n\r\n    public class GsonFactory {\r\n        public Gson create() {\r\n            return new GsonBuilder()\r\n                    .setPrettyPrinting()\r\n                    .registerTypeAdapter(MyInterface.class, new MyInstanceCreator())\r\n                    .create();\r\n        }\r\n    \r\n        private static final GsonFactory instance = new GsonFactory();\r\n    \r\n        private GsonFactory() {\r\n        }\r\n    \r\n        public static Gson getInstance(){\r\n            return instance.create();\r\n        }\r\n    }\r\n\r\n\r\nI also have the `InstanceCreator` class:\r\n\r\n    public class MyInstanceCreator implements InstanceCreator&lt;MyInterface&gt; {\r\n        @Override\r\n        public StrategySymbol createInstance(Type type) {\r\n            return new MyInterfaceImpl();\r\n        }\r\n    }\r\n\r\n    class MyClass {\r\n      private List&lt;MyInterface&gt; myList;\r\n\r\n      public List&lt;MyInterface&gt; getMyList() { return myList; }\r\n\r\n      public void setMyList(List&lt;MyInterface&gt; myList) { this.myList = myList; }\r\n    }\r\n\r\n    interface MyInterface {\r\n      Long getValue1();\r\n      void setValue1(Long value1);\r\n    }\r\n    \r\n    class MyInterfaceImpl implements MyInterface {\r\n      private Long value1;\r\n    \r\n      @Override\r\n      public Long getValue1() {\r\n         return value1;\r\n      }\r\n    \r\n      @Override\r\n      public void setValue1(Long value1) {\r\n         this.value1 = value1\r\n      }\r\n    }\r\n\r\nThis code seems well implemented, but if I try to parse a `JSON` with `value1`:\r\n\r\n    MyClass obj = GsonFactory.getInstance().fromJson(&quot;{&#39;myList&#39;: [{&#39;value1&#39;:8}]}&quot;, MyClass.class);\r\n\r\nThe Object is returned with an instance of `MyInterfaceImpl`, but the field `value1` is always null. As I could see, it seems like `Gson` looks for the fields in the `interface` (none) and not in the `class` implementing the `interface`.\r\n\r\nDoes anyone know how to solve this?\r\n","title":"GsonBuilder - Get Object from Interface","body":"<p>I have a <code>GsonFactory</code> declared like this:</p>\n<pre><code>public class GsonFactory {\n    public Gson create() {\n        return new GsonBuilder()\n                .setPrettyPrinting()\n                .registerTypeAdapter(MyInterface.class, new MyInstanceCreator())\n                .create();\n    }\n\n    private static final GsonFactory instance = new GsonFactory();\n\n    private GsonFactory() {\n    }\n\n    public static Gson getInstance(){\n        return instance.create();\n    }\n}\n</code></pre>\n<p>I also have the <code>InstanceCreator</code> class:</p>\n<pre><code>public class MyInstanceCreator implements InstanceCreator&lt;MyInterface&gt; {\n    @Override\n    public StrategySymbol createInstance(Type type) {\n        return new MyInterfaceImpl();\n    }\n}\n\nclass MyClass {\n  private List&lt;MyInterface&gt; myList;\n\n  public List&lt;MyInterface&gt; getMyList() { return myList; }\n\n  public void setMyList(List&lt;MyInterface&gt; myList) { this.myList = myList; }\n}\n\ninterface MyInterface {\n  Long getValue1();\n  void setValue1(Long value1);\n}\n\nclass MyInterfaceImpl implements MyInterface {\n  private Long value1;\n\n  @Override\n  public Long getValue1() {\n     return value1;\n  }\n\n  @Override\n  public void setValue1(Long value1) {\n     this.value1 = value1\n  }\n}\n</code></pre>\n<p>This code seems well implemented, but if I try to parse a <code>JSON</code> with <code>value1</code>:</p>\n<pre><code>MyClass obj = GsonFactory.getInstance().fromJson(&quot;{'myList': [{'value1':8}]}&quot;, MyClass.class);\n</code></pre>\n<p>The Object is returned with an instance of <code>MyInterfaceImpl</code>, but the field <code>value1</code> is always null. As I could see, it seems like <code>Gson</code> looks for the fields in the <code>interface</code> (none) and not in the <code>class</code> implementing the <code>interface</code>.</p>\n<p>Does anyone know how to solve this?</p>\n"},{"tags":["java","mongodb","spring-boot","spring-data-mongodb"],"answers":[{"tags":[],"owner":{"account_id":12996848,"reputation":1,"user_id":9394165,"display_name":"Greg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647730786,"creation_date":1647730786,"answer_id":71542773,"question_id":71535974,"body_markdown":"I figured it out.  The key is to use Aggregation.\r\n\r\n```\r\nAggregation aggregation = newAggregation(\r\n  match(criteria),\r\n  unwind(&quot;cast&quot;),\r\n  group(&quot;cast.urlName&quot;).addToSet(&quot;cast.name&quot;).as(&quot;name&quot;).addToSet(&quot;cast.urlName&quot;).as(&quot;urlName&quot;)\r\n  project(&quot;name&quot;).and(&quot;urlName&quot;).previousOpertaion(),\r\n  sort(Sort.Direction.ASC, &quot;name&quot;)\r\n)\r\n\r\nreturn mongoTemplate.aggregate(aggregation, Movie.class, CastLink.class).getMappedResults();\r\n\r\n```","title":"Distinct values ignoring a field in Spring Data Mongodb","body":"<p>I figured it out.  The key is to use Aggregation.</p>\n<pre><code>Aggregation aggregation = newAggregation(\n  match(criteria),\n  unwind(&quot;cast&quot;),\n  group(&quot;cast.urlName&quot;).addToSet(&quot;cast.name&quot;).as(&quot;name&quot;).addToSet(&quot;cast.urlName&quot;).as(&quot;urlName&quot;)\n  project(&quot;name&quot;).and(&quot;urlName&quot;).previousOpertaion(),\n  sort(Sort.Direction.ASC, &quot;name&quot;)\n)\n\nreturn mongoTemplate.aggregate(aggregation, Movie.class, CastLink.class).getMappedResults();\n\n</code></pre>\n"}],"owner":{"account_id":12996848,"reputation":1,"user_id":9394165,"display_name":"Greg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":431,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647730786,"creation_date":1647672444,"question_id":71535974,"body_markdown":"In my spring boot app utilizing mongodb I am trying to get a list of distinct nested objects.\r\n\r\nThe document looks like this (other details removed fore brevity):\r\n```\r\nclass Movie {\r\n  otherproperties...;\r\n  List&lt;CastRoleLink&gt; cast;\r\n  ...\r\n}\r\n\r\n//structure of CastRoleLink\r\nclass CastRoleLink {\r\n  String name;\r\n  String urlName;\r\n  String roleID;\r\n}\r\n\r\n//additional class for structure of results\r\nclass CastLink {\r\n  String name;\r\n  String urlName;\r\n}\r\n```\r\n\r\nWhat I really want is a list of all the unique `CastLink` from all of the `Movies` matching my criteria, which means that I need all of the distinct `CastRoleLink` objects without the `roleID`.  The tricky part is that for different movies I could have the same `name` and `urlName` properties but a different `roleID` property.  In these cases I would consider them the same because the `CastLink` would be the same.  My current solution is close but not quite right.\r\n\r\n```\r\n//query is Query object with criteria for Movies\r\nmongoTemplate.findDistinct(query, &quot;cast&quot;, Movies.class, CastLink.class);\r\n```\r\n\r\nThis gives me duplicates when the `name` and `urlName` properties are the same but the `roleID` property is different.  Is there a way that I can find distinct `name` and `urlName` objects while ignoring the `roleID` property?","title":"Distinct values ignoring a field in Spring Data Mongodb","body":"<p>In my spring boot app utilizing mongodb I am trying to get a list of distinct nested objects.</p>\n<p>The document looks like this (other details removed fore brevity):</p>\n<pre><code>class Movie {\n  otherproperties...;\n  List&lt;CastRoleLink&gt; cast;\n  ...\n}\n\n//structure of CastRoleLink\nclass CastRoleLink {\n  String name;\n  String urlName;\n  String roleID;\n}\n\n//additional class for structure of results\nclass CastLink {\n  String name;\n  String urlName;\n}\n</code></pre>\n<p>What I really want is a list of all the unique <code>CastLink</code> from all of the <code>Movies</code> matching my criteria, which means that I need all of the distinct <code>CastRoleLink</code> objects without the <code>roleID</code>.  The tricky part is that for different movies I could have the same <code>name</code> and <code>urlName</code> properties but a different <code>roleID</code> property.  In these cases I would consider them the same because the <code>CastLink</code> would be the same.  My current solution is close but not quite right.</p>\n<pre><code>//query is Query object with criteria for Movies\nmongoTemplate.findDistinct(query, &quot;cast&quot;, Movies.class, CastLink.class);\n</code></pre>\n<p>This gives me duplicates when the <code>name</code> and <code>urlName</code> properties are the same but the <code>roleID</code> property is different.  Is there a way that I can find distinct <code>name</code> and <code>urlName</code> objects while ignoring the <code>roleID</code> property?</p>\n"},{"tags":["java","arraylist","null","addition"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1647561992,"post_id":71520413,"comment_id":126408750,"body_markdown":"You have no `main` method.  Can you show it to us?","body":"You have no <code>main</code> method.  Can you show it to us?"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1647562022,"post_id":71520413,"comment_id":126408754,"body_markdown":"There is no such thing as a null arraylist. Your method is `void`, that means it doesn&#39;t return anything. The nothing it returns can&#39;t be accessed with the syntax you seem to want. Additionally, you aren&#39;t actually calling the method.","body":"There is no such thing as a null arraylist. Your method is <code>void</code>, that means it doesn&#39;t return anything. The nothing it returns can&#39;t be accessed with the syntax you seem to want. Additionally, you aren&#39;t actually calling the method."},{"owner":{"account_id":23115210,"reputation":9,"user_id":17222586,"display_name":"Simon Suarez"},"score":0,"creation_date":1647562338,"post_id":71520413,"comment_id":126408811,"body_markdown":"@markspace I would show it to you, the reason it doesn&#39;t contain it here is because this is a class that I will use in a main class that contains a menu. That&#39;s why I used void.","body":"@markspace I would show it to you, the reason it doesn&#39;t contain it here is because this is a class that I will use in a main class that contains a menu. That&#39;s why I used void."},{"owner":{"account_id":23115210,"reputation":9,"user_id":17222586,"display_name":"Simon Suarez"},"score":0,"creation_date":1647562386,"post_id":71520413,"comment_id":126408819,"body_markdown":"@ElliottFrisch So what should I use if I want to use this class in a main class?","body":"@ElliottFrisch So what should I use if I want to use this class in a main class?"},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":1,"creation_date":1647562758,"post_id":71520413,"comment_id":126408873,"body_markdown":"What is the point of `arrayListNull` if all of your methods are static?  Might as well just have made these static methods in the same class that contains `main()`.  WHY are you using this class? Is there some kind of requirement you&#39;re trying to meet here?","body":"What is the point of <code>arrayListNull</code> if all of your methods are static?  Might as well just have made these static methods in the same class that contains <code>main()</code>.  WHY are you using this class? Is there some kind of requirement you&#39;re trying to meet here?"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1647562969,"post_id":71520413,"comment_id":126408909,"body_markdown":"*So what should I use if I want to use this class in a main class?* Obviously you don&#39;t. Because none of this is legal syntax.","body":"<i>So what should I use if I want to use this class in a main class?</i> Obviously you don&#39;t. Because none of this is legal syntax."}],"answers":[{"tags":[],"owner":{"account_id":24590921,"reputation":59,"user_id":18494837,"display_name":"Pedring Coding"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647563243,"creation_date":1647563243,"answer_id":71520537,"question_id":71520413,"body_markdown":"It is very likely that it is an activity of the training that you are doing and you are stuck. You can try this:\r\n\r\n    public static void inputUser() {\r\n        List&lt;Integer&gt; arrayList = new ArrayList&lt;&gt;();\r\n        int allowInputs = 5;\r\n    \r\n        Scanner scanner = new Scanner(System.in);\r\n        for (int i = 0; i &lt; allowInputs; i++) {\r\n            arrayList.add(scanner.nextInt());\r\n        }\r\n        scanner.close();\r\n    \r\n        System.out.println(&quot;Your specified elements:&quot;);\r\n        arrayList.forEach(System.out::println);\r\n    }\r\n    \r\n    // RUN\r\n    public static void main(String[] args) {\r\n        inputUser();\r\n    }\r\n\r\ngood coding! &#175;_(ツ)_/&#175;","title":"Add elements with user Input in a null ArrayList in Java","body":"<p>It is very likely that it is an activity of the training that you are doing and you are stuck. You can try this:</p>\n<pre><code>public static void inputUser() {\n    List&lt;Integer&gt; arrayList = new ArrayList&lt;&gt;();\n    int allowInputs = 5;\n\n    Scanner scanner = new Scanner(System.in);\n    for (int i = 0; i &lt; allowInputs; i++) {\n        arrayList.add(scanner.nextInt());\n    }\n    scanner.close();\n\n    System.out.println(&quot;Your specified elements:&quot;);\n    arrayList.forEach(System.out::println);\n}\n\n// RUN\npublic static void main(String[] args) {\n    inputUser();\n}\n</code></pre>\n<p>good coding! ¯_(ツ)_/¯</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647730782,"creation_date":1647563479,"answer_id":71520559,"question_id":71520413,"body_markdown":"You defined a public method named `arrayList` that returns nothing (void). That method (a) instantiates an `ArrayList` object, (b) populates the list with null references, which is redundant as nulls are the default, and (c) discards that `ArrayList` object by the end of the method. Poof, gone.\r\n\r\nSo your other method `inputUser` refers to a variable named `arrayList` which never existed. \r\n\r\nYour code has other problems. You are not following Java naming conventions: classes start with uppercase, methods and variables lowercase. You are relying too much on `static`, likely a sign that you are not learning object-oriented concepts. And you seem to be coding blindly, without thinking it through, and without working with other example code. I suggest you review your textbook and the [Java Tutorials][1] provided by Oracle free-of-cost.\r\n\r\nBy the way, use try-with-resources syntax to automatically close resources such as `Scanner` objects.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/","title":"Add elements with user Input in a null ArrayList in Java","body":"<p>You defined a public method named <code>arrayList</code> that returns nothing (void). That method (a) instantiates an <code>ArrayList</code> object, (b) populates the list with null references, which is redundant as nulls are the default, and (c) discards that <code>ArrayList</code> object by the end of the method. Poof, gone.</p>\n<p>So your other method <code>inputUser</code> refers to a variable named <code>arrayList</code> which never existed.</p>\n<p>Your code has other problems. You are not following Java naming conventions: classes start with uppercase, methods and variables lowercase. You are relying too much on <code>static</code>, likely a sign that you are not learning object-oriented concepts. And you seem to be coding blindly, without thinking it through, and without working with other example code. I suggest you review your textbook and the <a href=\"https://docs.oracle.com/javase/tutorial/\" rel=\"nofollow noreferrer\">Java Tutorials</a> provided by Oracle free-of-cost.</p>\n<p>By the way, use try-with-resources syntax to automatically close resources such as <code>Scanner</code> objects.</p>\n"}],"owner":{"account_id":23115210,"reputation":9,"user_id":17222586,"display_name":"Simon Suarez"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":370,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71520559,"answer_count":2,"score":-1,"last_activity_date":1647730782,"creation_date":1647561722,"question_id":71520413,"body_markdown":"I explain, I am trying to make the user enter five elements in a list with a fixed size of five elements; for this I have initialized these elements in null. My problem is that I don&#39;t know exactly how to do it for this particular case. I&#39;ve tried this, but it&#39;s clearly not the right solution.\r\n\r\nI made this code into two different empty constructor methods, to be used in a main class with the familiar main method. But this class is the one I have the most trouble with.\r\n\r\nBtw! I want the user to add the elements, not me.\r\n\r\n```java\r\npackage HashArray;\r\nimport java.util.ArrayList;\r\nimport java.util.Scanner;\r\npublic class arrayListNull {\r\n    public static void arrayList() {\r\n         ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\r\n         list.add(null);\r\n         list.add(null);\r\n         list.add(null);\r\n         list.add(null);\r\n         list.add(null);  \r\n    }\r\n    public static void inputUser() {\r\n        Scanner scanner = new Scanner(System.in);\r\n        for(int i=0 ; i &lt; 5 ; i++){\r\n            arrayList.list.add(scanner.nextInt());\r\n        }\r\n        System.out.println(arrayList.list);\r\n        scanner.close();\r\n    }\r\n}```","title":"Add elements with user Input in a null ArrayList in Java","body":"<p>I explain, I am trying to make the user enter five elements in a list with a fixed size of five elements; for this I have initialized these elements in null. My problem is that I don't know exactly how to do it for this particular case. I've tried this, but it's clearly not the right solution.</p>\n<p>I made this code into two different empty constructor methods, to be used in a main class with the familiar main method. But this class is the one I have the most trouble with.</p>\n<p>Btw! I want the user to add the elements, not me.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package HashArray;\nimport java.util.ArrayList;\nimport java.util.Scanner;\npublic class arrayListNull {\n    public static void arrayList() {\n         ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\n         list.add(null);\n         list.add(null);\n         list.add(null);\n         list.add(null);\n         list.add(null);  \n    }\n    public static void inputUser() {\n        Scanner scanner = new Scanner(System.in);\n        for(int i=0 ; i &lt; 5 ; i++){\n            arrayList.list.add(scanner.nextInt());\n        }\n        System.out.println(arrayList.list);\n        scanner.close();\n    }\n}```\n</code></pre>\n"},{"tags":["java","arraylist","char"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1647719727,"post_id":71541528,"comment_id":126443334,"body_markdown":"Please describe in more detail what isn&#39;t working.  What does the current toString actually print.","body":"Please describe in more detail what isn&#39;t working.  What does the current toString actually print."},{"owner":{"account_id":24239469,"reputation":37,"user_id":18192067,"display_name":"John Smith"},"score":0,"creation_date":1647719908,"post_id":71541528,"comment_id":126443368,"body_markdown":"@markspace that&#39;s the thing it doesn&#39;t. There&#39;s some sort of infinite loop or something and everything i&#39;ve tried doesn&#39;t work. I just wanted to put my &quot;thought process&quot; here for what I was trying to do but by all means feel free to change anything","body":"@markspace that&#39;s the thing it doesn&#39;t. There&#39;s some sort of infinite loop or something and everything i&#39;ve tried doesn&#39;t work. I just wanted to put my &quot;thought process&quot; here for what I was trying to do but by all means feel free to change anything"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1647720075,"post_id":71541528,"comment_id":126443406,"body_markdown":"Can you step through with a debugger and find where it get stuck?  Add that info to the question.  And please say what the state of the object is, like &quot;x strings, and the cursor is at y.&quot;","body":"Can you step through with a debugger and find where it get stuck?  Add that info to the question.  And please say what the state of the object is, like &quot;x strings, and the cursor is at y.&quot;"}],"answers":[{"tags":[],"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647720263,"creation_date":1647720263,"answer_id":71541644,"question_id":71541528,"body_markdown":"I see one obvious problem:\r\n\r\n        while (i &lt; cur) {\r\n            front = front.concat(String.valueOf(elts[i-1]));\r\n        }\r\n\r\nYou never modify `i` or `cur` in this loop, so of course it gets stuck.  Same with the second `while` loop.\r\n","title":"How to get the front and rear elements of a cursor based list in a toString method?","body":"<p>I see one obvious problem:</p>\n<pre><code>    while (i &lt; cur) {\n        front = front.concat(String.valueOf(elts[i-1]));\n    }\n</code></pre>\n<p>You never modify <code>i</code> or <code>cur</code> in this loop, so of course it gets stuck.  Same with the second <code>while</code> loop.</p>\n"}],"owner":{"account_id":24239469,"reputation":37,"user_id":18192067,"display_name":"John Smith"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647730350,"creation_date":1647719438,"question_id":71541528,"body_markdown":"I have a ListADT which is a cursor based list of char. The toString method description is as follows:\r\n\r\n&gt; Gets a String representation of the state of this list. This String starts with a &quot;&lt;&quot; and ends with a &quot;&gt;&quot;. In between are the elements of this list separated by commas, except that a pipe replaces the comma before the current element. There are no spaces after the &quot;&lt;&quot;, before the &quot;&gt;&quot;, nor around the commas nor the pipe. Examples of valid String representations are shown here: &lt;a,g|c&gt; &lt;|&gt;\r\n\r\n\r\n\r\nMy toString method looks like this:\r\n\r\n    @Override\r\n    public String toString() {     \r\n        \r\n        String frmt = &quot;&lt;%S|%S&gt;&quot;;\r\n        String front = &quot;&quot;;\r\n        String rear = &quot;&quot;;\r\n        for (int i = 0; i &lt; listSize - 1; i++) {\r\n            if (i == 0 &amp;&amp; cur == 0) { front = &quot;&quot;;}\r\n            else {\r\n                front = front.concat(&quot;,&quot;);\r\n                front = front.concat(String.valueOf(elts[i])); \r\n            }         \r\n        }\r\n        for (int i = 0; i &lt; listSize - 1; i++) {\r\n            if (cur &gt;= listSize) { rear = &quot;&quot;;}\r\n            else {\r\n                front = front.concat(&quot;,&quot;);\r\n                rear = rear.concat(String.valueOf(elts[i]));\r\n            }     \r\n        }\r\n        return String.format(frmt, front, rear);\r\n        \r\n    }  \r\n\r\nFor example:\r\nWhen the list is currently &quot;&lt;|a,b,c&gt;&quot;, front should equal &quot;&quot; and rear should equal &quot;a,b,c&quot;.\r\nWhen the list is currently &quot;&lt;a,b|c,d&gt;&quot;, front should equal &quot;a,b&quot; and rear should equal &quot;c,d&quot;.\r\n\r\nHowever, this code when supposed to output &quot;&lt;|a,b,c&gt;&quot;, instead output &quot;&lt;A,B,,|B&gt;&quot;\r\n\r\nThe goal is to create two different strings, front and rear, that represent the elements in the list before the cursor and the elements after the cursor. I can&#39;t seem to figure out how to do that so I was hoping for some help. I need something to be able to get all of those elements and comma separate them, then use the String.format to put it all together","title":"How to get the front and rear elements of a cursor based list in a toString method?","body":"<p>I have a ListADT which is a cursor based list of char. The toString method description is as follows:</p>\n<blockquote>\n<p>Gets a String representation of the state of this list. This String starts with a &quot;&lt;&quot; and ends with a &quot;&gt;&quot;. In between are the elements of this list separated by commas, except that a pipe replaces the comma before the current element. There are no spaces after the &quot;&lt;&quot;, before the &quot;&gt;&quot;, nor around the commas nor the pipe. Examples of valid String representations are shown here: &lt;a,g|c&gt; &lt;|&gt;</p>\n</blockquote>\n<p>My toString method looks like this:</p>\n<pre><code>@Override\npublic String toString() {     \n    \n    String frmt = &quot;&lt;%S|%S&gt;&quot;;\n    String front = &quot;&quot;;\n    String rear = &quot;&quot;;\n    for (int i = 0; i &lt; listSize - 1; i++) {\n        if (i == 0 &amp;&amp; cur == 0) { front = &quot;&quot;;}\n        else {\n            front = front.concat(&quot;,&quot;);\n            front = front.concat(String.valueOf(elts[i])); \n        }         \n    }\n    for (int i = 0; i &lt; listSize - 1; i++) {\n        if (cur &gt;= listSize) { rear = &quot;&quot;;}\n        else {\n            front = front.concat(&quot;,&quot;);\n            rear = rear.concat(String.valueOf(elts[i]));\n        }     \n    }\n    return String.format(frmt, front, rear);\n    \n}  \n</code></pre>\n<p>For example:\nWhen the list is currently &quot;&lt;|a,b,c&gt;&quot;, front should equal &quot;&quot; and rear should equal &quot;a,b,c&quot;.\nWhen the list is currently &quot;&lt;a,b|c,d&gt;&quot;, front should equal &quot;a,b&quot; and rear should equal &quot;c,d&quot;.</p>\n<p>However, this code when supposed to output &quot;&lt;|a,b,c&gt;&quot;, instead output &quot;&lt;A,B,,|B&gt;&quot;</p>\n<p>The goal is to create two different strings, front and rear, that represent the elements in the list before the cursor and the elements after the cursor. I can't seem to figure out how to do that so I was hoping for some help. I need something to be able to get all of those elements and comma separate them, then use the String.format to put it all together</p>\n"},{"tags":["java","spring","multithreading","spring-boot","inversion-of-control"],"comments":[{"owner":{"account_id":17019087,"reputation":736,"user_id":12312156,"display_name":"Faramarz Afzali"},"score":1,"creation_date":1647763964,"post_id":71542544,"comment_id":126449253,"body_markdown":"As `David A` said second way is better, Testability and Safety. Testability: Prevents nullPointer exception In testing and it’s easy to pass mock objects to the constructor and safety because it forces Spring to provide mandatory dependencies. We make sure that the created objects are valid after construction.","body":"As <code>David A</code> said second way is better, Testability and Safety. Testability: Prevents nullPointer exception In testing and it’s easy to pass mock objects to the constructor and safety because it forces Spring to provide mandatory dependencies. We make sure that the created objects are valid after construction."},{"owner":{"account_id":1975034,"reputation":961,"user_id":1773011,"accept_rate":85,"display_name":"lightrek"},"score":0,"creation_date":1647776301,"post_id":71542544,"comment_id":126451428,"body_markdown":"Thanks, suppose I currently have multiple `m_applicationContext.getBean` to call (to get the bean) in the `run()` method, then I should change it to passing the bean to the constructor instead? But in this way, the constructor would have too many number of parameters","body":"Thanks, suppose I currently have multiple <code>m_applicationContext.getBean</code> to call (to get the bean) in the <code>run()</code> method, then I should change it to passing the bean to the constructor instead? But in this way, the constructor would have too many number of parameters"}],"answers":[{"tags":[],"owner":{"account_id":19655452,"reputation":301,"user_id":14388200,"display_name":"David A."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647729832,"creation_date":1647729832,"answer_id":71542687,"question_id":71542544,"body_markdown":"In my opinion, **the second way** it the better way. And why?\r\n\r\nThe use of `@Autowired` for many developers it considered &quot;bad practice&quot;, some explanations for that you can read here:  https://reflectoring.io/constructor-injection/\r\n\r\nAny way, you could use [`@lombok`][1] in order to make your code &quot;Cleaner&quot;, example:\r\n\r\n    @Service\r\n    @Scope(value = ConfigurableBeanFactory.SCOPE_PROTOTYPE)\r\n    @RequiredArgsConstructor\r\n    public class MyRunnable implements Runnable{    \r\n        private final ApplicationContext m_applicationContext;\r\n\r\n        @Override\r\n        public void run() {    \r\n           MyBean myBean = m_applicationContext.getBean(MyBean.class);\r\n           ...\r\n        }\r\n    }\r\n\r\n  [1]: https://projectlombok.org/","title":"@Autowired ApplicationContext vs passing an ApplicationContext object to the method","body":"<p>In my opinion, <strong>the second way</strong> it the better way. And why?</p>\n<p>The use of <code>@Autowired</code> for many developers it considered &quot;bad practice&quot;, some explanations for that you can read here:  <a href=\"https://reflectoring.io/constructor-injection/\" rel=\"nofollow noreferrer\">https://reflectoring.io/constructor-injection/</a></p>\n<p>Any way, you could use <a href=\"https://projectlombok.org/\" rel=\"nofollow noreferrer\"><code>@lombok</code></a> in order to make your code &quot;Cleaner&quot;, example:</p>\n<pre><code>@Service\n@Scope(value = ConfigurableBeanFactory.SCOPE_PROTOTYPE)\n@RequiredArgsConstructor\npublic class MyRunnable implements Runnable{    \n    private final ApplicationContext m_applicationContext;\n\n    @Override\n    public void run() {    \n       MyBean myBean = m_applicationContext.getBean(MyBean.class);\n       ...\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1975034,"reputation":961,"user_id":1773011,"accept_rate":85,"display_name":"lightrek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":572,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647729832,"creation_date":1647728383,"question_id":71542544,"body_markdown":"I have a `MyRunnalbe` implements `Runnable` and will be excuted by `ThreadPoolTaskExecutor`.\r\n\r\nInside this `MyRunnalbe` class, the `run()` method will call multiple `applicationContext.getBean(MyBean.class)` to get the beans I defined.\r\n\r\n1st way of doing this is to make the `MyRunnalbe`as a `PROTOTYPE`\r\n bean and autowire the ApplicationContext to this bean:\r\n\r\n    public class MyRunnable implements Runnable{    \r\n        @Autowired    ApplicationContext m_applicationContext;\r\n    \r\n        @Overridepublic void run() {    \r\n            MyBean myBean = m_applicationContext.getBean(MyBean.class);\r\n            ...\r\n        }\r\n    }\r\n\r\n2nd way is to pass in an ApplicationContext from the caller instead of making the `MyRunnalbe` as a bean:\r\n\r\n    public class MyRunnable implements Runnable{    \r\n        ApplicationContext m_applicationContext;\r\n    \r\n        public MyRunnable(ApplicationContext m_applicationContext) {\r\n            m_applicationContext = applicationContext;\r\n        }\r\n    \r\n        @Overridepublic void run() {    \r\n            MyBean myBean = m_applicationContext.getBean(MyBean.class);\r\n            ...\r\n        }\r\n    }\r\n\r\nSo want to know which way is better? 1st or 2nd?\r\n","title":"@Autowired ApplicationContext vs passing an ApplicationContext object to the method","body":"<p>I have a <code>MyRunnalbe</code> implements <code>Runnable</code> and will be excuted by <code>ThreadPoolTaskExecutor</code>.</p>\n<p>Inside this <code>MyRunnalbe</code> class, the <code>run()</code> method will call multiple <code>applicationContext.getBean(MyBean.class)</code> to get the beans I defined.</p>\n<p>1st way of doing this is to make the <code>MyRunnalbe</code>as a <code>PROTOTYPE</code>\nbean and autowire the ApplicationContext to this bean:</p>\n<pre><code>public class MyRunnable implements Runnable{    \n    @Autowired    ApplicationContext m_applicationContext;\n\n    @Overridepublic void run() {    \n        MyBean myBean = m_applicationContext.getBean(MyBean.class);\n        ...\n    }\n}\n</code></pre>\n<p>2nd way is to pass in an ApplicationContext from the caller instead of making the <code>MyRunnalbe</code> as a bean:</p>\n<pre><code>public class MyRunnable implements Runnable{    \n    ApplicationContext m_applicationContext;\n\n    public MyRunnable(ApplicationContext m_applicationContext) {\n        m_applicationContext = applicationContext;\n    }\n\n    @Overridepublic void run() {    \n        MyBean myBean = m_applicationContext.getBean(MyBean.class);\n        ...\n    }\n}\n</code></pre>\n<p>So want to know which way is better? 1st or 2nd?</p>\n"},{"tags":["java","android","url","uri"],"answers":[{"tags":[],"owner":{"account_id":11972742,"reputation":1949,"user_id":8760805,"display_name":"ocos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647729603,"creation_date":1647729603,"answer_id":71542660,"question_id":71541718,"body_markdown":"It seems to me that you forget to add SCHEME in that xx part of your string. Parser may not handle ports without knowing the scheme.\r\n\r\n*Java*\r\n```java\r\nUri.Builder builder = Uri.parse(&quot;https://127.0.0.1:11226&quot;).buildUpon();\r\nbuilder.appendPath(&quot;login&quot;);\r\n```\r\n\r\n*Kotlin*\r\n```kotlin\r\nval builder = Uri.parse(&quot;https://192.168.0.2:11226&quot;).buildUpon()\r\nbuilder.appendPath(&quot;reports&quot;)\r\nbuilder.appendQueryParameter(&quot;sort&quot;, &quot;desc&quot;)\r\n\r\nprintln(builder) // output: https://192.168.0.2:11226/reports?sort=desc\r\n```\r\n\r\nHope, it helps.","title":"Uri Builder not adding the port number in Android","body":"<p>It seems to me that you forget to add SCHEME in that xx part of your string. Parser may not handle ports without knowing the scheme.</p>\n<p><em>Java</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>Uri.Builder builder = Uri.parse(&quot;https://127.0.0.1:11226&quot;).buildUpon();\nbuilder.appendPath(&quot;login&quot;);\n</code></pre>\n<p><em>Kotlin</em></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val builder = Uri.parse(&quot;https://192.168.0.2:11226&quot;).buildUpon()\nbuilder.appendPath(&quot;reports&quot;)\nbuilder.appendQueryParameter(&quot;sort&quot;, &quot;desc&quot;)\n\nprintln(builder) // output: https://192.168.0.2:11226/reports?sort=desc\n</code></pre>\n<p>Hope, it helps.</p>\n"}],"owner":{"account_id":14989006,"reputation":175,"user_id":10820760,"display_name":"ludicrous"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":358,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647729603,"creation_date":1647720968,"question_id":71541718,"body_markdown":"Whenever I try to add the port number to my URI.Builder in JAVA, the result excludes the Port number.\r\n\r\n    Uri.Builder builder = Uri.parse(&quot;xxx.xxx.xx.xxx:11226&quot;).buildUpon();\r\n    builder.appendPath(&quot;login&quot;);\r\n\r\nAnd the result is `xxx.xxx.xx.xxx:/login` which obviously results in `MalformedUrlException`.\r\n\r\nHow can I include the PORT in my URI using Uri.Builder?","title":"Uri Builder not adding the port number in Android","body":"<p>Whenever I try to add the port number to my URI.Builder in JAVA, the result excludes the Port number.</p>\n<pre><code>Uri.Builder builder = Uri.parse(&quot;xxx.xxx.xx.xxx:11226&quot;).buildUpon();\nbuilder.appendPath(&quot;login&quot;);\n</code></pre>\n<p>And the result is <code>xxx.xxx.xx.xxx:/login</code> which obviously results in <code>MalformedUrlException</code>.</p>\n<p>How can I include the PORT in my URI using Uri.Builder?</p>\n"},{"tags":["java","android","itext","signature","gost3410"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1635715341,"post_id":69787567,"comment_id":123363071,"body_markdown":"Indeed, `PdfPKCS7` does not support GOST algorithms. But you can create your own cms signature container to embed.","body":"Indeed, <code>PdfPKCS7</code> does not support GOST algorithms. But you can create your own cms signature container to embed."},{"owner":{"account_id":4788700,"reputation":1281,"user_id":3868464,"display_name":"Alexander"},"score":0,"creation_date":1635745293,"post_id":69787567,"comment_id":123367322,"body_markdown":"Private key is `ECGOST3410` not `ECGOST3410-2012` algorithm. It may be deprecated.","body":"Private key is <code>ECGOST3410</code> not <code>ECGOST3410-2012</code> algorithm. It may be deprecated."},{"owner":{"account_id":23197253,"reputation":1,"user_id":17292712,"display_name":"DormantPanda"},"score":0,"creation_date":1635806026,"post_id":69787567,"comment_id":123386964,"body_markdown":"@Alexander Already tried this way, doesn&#39;t work too.","body":"@Alexander Already tried this way, doesn&#39;t work too."},{"owner":{"account_id":23197253,"reputation":1,"user_id":17292712,"display_name":"DormantPanda"},"score":0,"creation_date":1635806368,"post_id":69787567,"comment_id":123387054,"body_markdown":"@mkl Good idea. Where i can find code sample or any additional information?","body":"@mkl Good idea. Where i can find code sample or any additional information?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1636730437,"post_id":69787567,"comment_id":123642133,"body_markdown":"@DormantPanda *&quot;Where i can find code sample or any additional information?&quot;*  You use a `signer.signDetached` overload with an `IExternalSignature` parameter (into which you put a `PrivateKeySignature` instance). Instead you should use `signer.signExternalContainer` with an `IExternalSignatureContainer` parameter. You can implement that interface to create a full CMS signature container, probably similar to this [PrivateKeySignatureContainerBC](https://github.com/mkl-public/itext-signing/blob/master/simple/src/main/java/mkl/itext/signing/jcajce/PrivateKeySignatureContainerBC.java) class.","body":"@DormantPanda <i>&quot;Where i can find code sample or any additional information?&quot;</i>  You use a <code>signer.signDetached</code> overload with an <code>IExternalSignature</code> parameter (into which you put a <code>PrivateKeySignature</code> instance). Instead you should use <code>signer.signExternalContainer</code> with an <code>IExternalSignatureContainer</code> parameter. You can implement that interface to create a full CMS signature container, probably similar to this <a href=\"https://github.com/mkl-public/itext-signing/blob/master/simple/src/main/java/mkl/itext/signing/jcajce/PrivateKeySignatureContainerBC.java\" rel=\"nofollow noreferrer\">PrivateKeySignatureContainerBC</a> class."}],"answers":[{"tags":[],"owner":{"account_id":23197253,"reputation":1,"user_id":17292712,"display_name":"DormantPanda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647729577,"creation_date":1647729577,"answer_id":71542657,"question_id":69787567,"body_markdown":"As [mkl](https://stackoverflow.com/users/1729265/mkl) said custom signature container implementing ```IExternalSignatureContainer``` works well. Here&#39;s class example from [PrivateKeySignatureContainerBC](https://github.com/mkl-public/itext-signing/blob/master/simple/src/main/java/mkl/itext/signing/jcajce/PrivateKeySignatureContainerBC.java):\r\n```\r\nclass PrivateKeySignatureContainerBC(\r\n    signatureAlgorithm: String?,\r\n    privateKey: PrivateKey?,\r\n    private val x509Certificate: X509Certificate,\r\n    private val subfilter: PdfName\r\n) : IExternalSignatureContainer {\r\n    override fun sign(data: InputStream): ByteArray {\r\n        return try {\r\n            val msg: CMSTypedData = CMSTypedDataInputStream(data)\r\n            val signCert = X509CertificateHolder(x509Certificate.encoded)\r\n            val gen = CMSSignedDataGenerator()\r\n            gen.addSignerInfoGenerator(\r\n                JcaSignerInfoGeneratorBuilder(\r\n                    JcaDigestCalculatorProviderBuilder().setProvider(&quot;BC&quot;).build()\r\n                )\r\n                    .build(contentSigner, signCert)\r\n            )\r\n            gen.addCertificates(JcaCertStore(Collections.singleton(signCert)))\r\n            val sigData = gen.generate(msg, false)\r\n            sigData.encoded\r\n        } catch (e: IOException) {\r\n            throw GeneralSecurityException(e)\r\n        }\r\n    }\r\n\r\n    override fun modifySigningDictionary(signDic: PdfDictionary) {\r\n        signDic.put(PdfName.Filter, PdfName(&quot;MKLx_GENERIC_SIGNER&quot;))\r\n        signDic.put(PdfName.SubFilter, subfilter)\r\n    }\r\n\r\n    private val contentSigner: ContentSigner = JcaContentSignerBuilder(signatureAlgorithm).build(privateKey)\r\n\r\n    internal inner class CMSTypedDataInputStream(var `in`: InputStream) : CMSTypedData {\r\n        override fun getContentType(): ASN1ObjectIdentifier {\r\n            return PKCSObjectIdentifiers.data\r\n        }\r\n\r\n        override fun getContent(): Any {\r\n            return `in`\r\n        }\r\n\r\n        override fun write(out: OutputStream) {\r\n            val buffer = ByteArray(8 * 1024)\r\n            var read: Int\r\n            while (`in`.read(buffer).also { read = it } != -1) {\r\n                out.write(buffer, 0, read)\r\n            }\r\n            `in`.close()\r\n        }\r\n    }\r\n}\r\n```\r\nSuggested class call by ```signer.signExternalContainer```:\r\n```\r\nsigner.signExternalContainer(\r\n            PrivateKeySignatureContainerBC(\r\n                &quot;GOST3411withECGOST3410&quot;,\r\n                privateKey,\r\n                certificate,\r\n                PdfName.Adbe_pkcs7_detached\r\n            ),\r\n            _estimatedSize\r\n        )\r\n``` ","title":"IText 7 Unknown key algorithm: ECGOST3410","body":"<p>As <a href=\"https://stackoverflow.com/users/1729265/mkl\">mkl</a> said custom signature container implementing <code>IExternalSignatureContainer</code> works well. Here's class example from <a href=\"https://github.com/mkl-public/itext-signing/blob/master/simple/src/main/java/mkl/itext/signing/jcajce/PrivateKeySignatureContainerBC.java\" rel=\"nofollow noreferrer\">PrivateKeySignatureContainerBC</a>:</p>\n<pre><code>class PrivateKeySignatureContainerBC(\n    signatureAlgorithm: String?,\n    privateKey: PrivateKey?,\n    private val x509Certificate: X509Certificate,\n    private val subfilter: PdfName\n) : IExternalSignatureContainer {\n    override fun sign(data: InputStream): ByteArray {\n        return try {\n            val msg: CMSTypedData = CMSTypedDataInputStream(data)\n            val signCert = X509CertificateHolder(x509Certificate.encoded)\n            val gen = CMSSignedDataGenerator()\n            gen.addSignerInfoGenerator(\n                JcaSignerInfoGeneratorBuilder(\n                    JcaDigestCalculatorProviderBuilder().setProvider(&quot;BC&quot;).build()\n                )\n                    .build(contentSigner, signCert)\n            )\n            gen.addCertificates(JcaCertStore(Collections.singleton(signCert)))\n            val sigData = gen.generate(msg, false)\n            sigData.encoded\n        } catch (e: IOException) {\n            throw GeneralSecurityException(e)\n        }\n    }\n\n    override fun modifySigningDictionary(signDic: PdfDictionary) {\n        signDic.put(PdfName.Filter, PdfName(&quot;MKLx_GENERIC_SIGNER&quot;))\n        signDic.put(PdfName.SubFilter, subfilter)\n    }\n\n    private val contentSigner: ContentSigner = JcaContentSignerBuilder(signatureAlgorithm).build(privateKey)\n\n    internal inner class CMSTypedDataInputStream(var `in`: InputStream) : CMSTypedData {\n        override fun getContentType(): ASN1ObjectIdentifier {\n            return PKCSObjectIdentifiers.data\n        }\n\n        override fun getContent(): Any {\n            return `in`\n        }\n\n        override fun write(out: OutputStream) {\n            val buffer = ByteArray(8 * 1024)\n            var read: Int\n            while (`in`.read(buffer).also { read = it } != -1) {\n                out.write(buffer, 0, read)\n            }\n            `in`.close()\n        }\n    }\n}\n</code></pre>\n<p>Suggested class call by <code>signer.signExternalContainer</code>:</p>\n<pre><code>signer.signExternalContainer(\n            PrivateKeySignatureContainerBC(\n                &quot;GOST3411withECGOST3410&quot;,\n                privateKey,\n                certificate,\n                PdfName.Adbe_pkcs7_detached\n            ),\n            _estimatedSize\n        )\n</code></pre>\n"}],"owner":{"account_id":23197253,"reputation":1,"user_id":17292712,"display_name":"DormantPanda"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71542657,"answer_count":1,"score":0,"last_activity_date":1647729577,"creation_date":1635690703,"question_id":69787567,"body_markdown":"I&#39;m trying to digitally sign pdf document on android (api 26) using IText 7(*&#39;com.itextpdf:itext7-core:7.1.17&#39;*) with the GOST3410 algorithm. BouncyCastle libraries: *&#39;org.bouncycastle:bcprov-jdk15on:1.54&#39;* and *&#39;org.bouncycastle:bcpkix-jdk15on:1.54&#39;* Here&#39;s my function:\r\n \r\n    fun redButton(\r\n        pdfByteArray: ByteArray,\r\n        certificates: Array&lt;java.security.cert.Certificate&gt;,\r\n        privateKey: PrivateKey,\r\n        contentResolver: ContentResolver,\r\n        outUri: Uri\r\n    ) {\r\n        val provider = BouncyCastleProvider()\r\n        Security.removeProvider(provider.name)\r\n        Security.addProvider(provider)\r\n    \r\n        val pdfInputStream = ByteArrayInputStream(pdfByteArray)\r\n        val reader = PdfReader(pdfInputStream)\r\n        val outputStream = contentResolver.openOutputStream(outUri)\r\n        val signer = PdfSigner(reader, outputStream, false)\r\n    \r\n        val appearance = signer.signatureAppearance\r\n    \r\n        appearance.reason = &quot;study&quot;\r\n        appearance.setReuseAppearance(false)\r\n    \r\n        val privateKeySignature = PrivateKeySignature(\r\n            privateKey,\r\n            &quot;GOST3411&quot;,\r\n            provider.name\r\n        )\r\n        val bouncyCastleDigest = BouncyCastleDigest()\r\n        signer.signDetached(\r\n            bouncyCastleDigest,\r\n            privateKeySignature,\r\n            certificates,\r\n            null,\r\n            null,\r\n            null,\r\n            0,\r\n            PdfSigner.CryptoStandard.CMS\r\n        )\r\n    }\r\n \r\nThis code throws exception:\r\n\r\n    com.itextpdf.kernel.PdfException: Unknown key algorithm: ECGOST3410.\r\n    at com.itextpdf.signatures.PdfPKCS7.setExternalDigest(PdfPKCS7.java:695)\r\n    at com.itextpdf.signatures.PdfSigner.signDetached(PdfSigner.java:646)\r\n    at com.itextpdf.signatures.PdfSigner.signDetached(PdfSigner.java:538)\r\n    at com.example.digitalsignature.app.services.SigningTestIText.redButton(SigningTestIText.kt:38)\r\n\r\nIf this lib doesn&#39;t support GOST3410 can i write my custom byte array in signature space in pdf file? ","title":"IText 7 Unknown key algorithm: ECGOST3410","body":"<p>I'm trying to digitally sign pdf document on android (api 26) using IText 7(<em>'com.itextpdf:itext7-core:7.1.17'</em>) with the GOST3410 algorithm. BouncyCastle libraries: <em>'org.bouncycastle:bcprov-jdk15on:1.54'</em> and <em>'org.bouncycastle:bcpkix-jdk15on:1.54'</em> Here's my function:</p>\n<pre><code>fun redButton(\n    pdfByteArray: ByteArray,\n    certificates: Array&lt;java.security.cert.Certificate&gt;,\n    privateKey: PrivateKey,\n    contentResolver: ContentResolver,\n    outUri: Uri\n) {\n    val provider = BouncyCastleProvider()\n    Security.removeProvider(provider.name)\n    Security.addProvider(provider)\n\n    val pdfInputStream = ByteArrayInputStream(pdfByteArray)\n    val reader = PdfReader(pdfInputStream)\n    val outputStream = contentResolver.openOutputStream(outUri)\n    val signer = PdfSigner(reader, outputStream, false)\n\n    val appearance = signer.signatureAppearance\n\n    appearance.reason = &quot;study&quot;\n    appearance.setReuseAppearance(false)\n\n    val privateKeySignature = PrivateKeySignature(\n        privateKey,\n        &quot;GOST3411&quot;,\n        provider.name\n    )\n    val bouncyCastleDigest = BouncyCastleDigest()\n    signer.signDetached(\n        bouncyCastleDigest,\n        privateKeySignature,\n        certificates,\n        null,\n        null,\n        null,\n        0,\n        PdfSigner.CryptoStandard.CMS\n    )\n}\n</code></pre>\n<p>This code throws exception:</p>\n<pre><code>com.itextpdf.kernel.PdfException: Unknown key algorithm: ECGOST3410.\nat com.itextpdf.signatures.PdfPKCS7.setExternalDigest(PdfPKCS7.java:695)\nat com.itextpdf.signatures.PdfSigner.signDetached(PdfSigner.java:646)\nat com.itextpdf.signatures.PdfSigner.signDetached(PdfSigner.java:538)\nat com.example.digitalsignature.app.services.SigningTestIText.redButton(SigningTestIText.kt:38)\n</code></pre>\n<p>If this lib doesn't support GOST3410 can i write my custom byte array in signature space in pdf file?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":9764543,"reputation":1315,"user_id":7238475,"accept_rate":100,"display_name":"flopshot"},"score":0,"creation_date":1647717803,"post_id":71541126,"comment_id":126442962,"body_markdown":"Use an enum to model your complex state instead.","body":"Use an enum to model your complex state instead."}],"answers":[{"tags":[],"owner":{"account_id":1281728,"reputation":73126,"user_id":1235698,"accept_rate":100,"display_name":"Marcin Orlowski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647717059,"creation_date":1647717059,"answer_id":71541236,"question_id":71541126,"body_markdown":"In your case this would suffice:\r\n\r\n    if( !anuncio.getEstado().isEmpty() \r\n        &amp;&amp; !anuncio.getCategoria().isEmpty() \r\n        &amp;&amp; !anuncio.getTitulo().isEmpty() \r\n        &amp;&amp; !valor.isEmpty() &amp;&amp; !valor.equals(&quot;0&quot;) \r\n        &amp;&amp; !anuncio.getTelefone().isEmpty() \r\n        &amp;&amp; !anuncio.getDescricao().isEmpty() ) {\r\n        safeForm();\r\n    } else {\r\n        showErro(&quot;please fill the entire form&quot;);\r\n    }\r\n\r\nFor more complex code you may i.e. want to count errors and show messages later if `count &gt; 0` etc.\r\n\r\nPS also I believe you wanted to write &quot;showError&quot; not &quot;showErro&quot;","title":"How to avoid multiple ifs inside a form?","body":"<p>In your case this would suffice:</p>\n<pre><code>if( !anuncio.getEstado().isEmpty() \n    &amp;&amp; !anuncio.getCategoria().isEmpty() \n    &amp;&amp; !anuncio.getTitulo().isEmpty() \n    &amp;&amp; !valor.isEmpty() &amp;&amp; !valor.equals(&quot;0&quot;) \n    &amp;&amp; !anuncio.getTelefone().isEmpty() \n    &amp;&amp; !anuncio.getDescricao().isEmpty() ) {\n    safeForm();\n} else {\n    showErro(&quot;please fill the entire form&quot;);\n}\n</code></pre>\n<p>For more complex code you may i.e. want to count errors and show messages later if <code>count &gt; 0</code> etc.</p>\n<p>PS also I believe you wanted to write &quot;showError&quot; not &quot;showErro&quot;</p>\n"},{"tags":[],"owner":{"account_id":24615084,"reputation":11,"user_id":18516193,"display_name":"abed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647729472,"creation_date":1647729472,"answer_id":71542646,"question_id":71541126,"body_markdown":"More elegant way to write it:\r\n```\r\n    if(!containsEmptyText(anuncio.getEstado(), anuncio.getCategoria(), anuncio.getTitulo(),\r\n        valor, anuncio.getTelefone(), anuncio.getDescricao()) &amp;&amp; !valor.equals(&quot;0&quot;) ){\r\n            saveForm();\r\n    }else\r\n        showErro(&quot;please fill the entire form&quot;);\r\n```\r\n    private static boolean containsEmptyText(String... textArray){\r\n        for(String text : textArray)\r\n            if(text.isEmpty())\r\n                return true;\r\n\r\n        return false;\r\n    }","title":"How to avoid multiple ifs inside a form?","body":"<p>More elegant way to write it:</p>\n<pre><code>    if(!containsEmptyText(anuncio.getEstado(), anuncio.getCategoria(), anuncio.getTitulo(),\n        valor, anuncio.getTelefone(), anuncio.getDescricao()) &amp;&amp; !valor.equals(&quot;0&quot;) ){\n            saveForm();\n    }else\n        showErro(&quot;please fill the entire form&quot;);\n</code></pre>\n<pre><code>private static boolean containsEmptyText(String... textArray){\n    for(String text : textArray)\n        if(text.isEmpty())\n            return true;\n\n    return false;\n}\n</code></pre>\n"}],"owner":{"account_id":12173497,"reputation":31,"user_id":18012246,"display_name":"Genielson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1647729472,"creation_date":1647716182,"question_id":71541126,"body_markdown":"I think this counts for any other language as well, but I&#39;m using Java for Android in this example here. I&#39;m trying to validate a form, but it has multiple inputs.\r\n\r\n    if( !anuncio.getEstado().isEmpty() ){\r\n                    if( !anuncio.getCategoria().isEmpty() ){\r\n                        if( !anuncio.getTitulo().isEmpty() ){\r\n                            if( !valor.isEmpty() &amp;&amp; !valor.equals(&quot;0&quot;) ){\r\n                                if( !anuncio.getTelefone().isEmpty()  ){\r\n                                    if( !anuncio.getDescricao().isEmpty() ){\r\n    \r\n                                        saveForm();\r\n    \r\n                                    }else {\r\n                                        showErro(&quot;please fill the entire form&quot;);\r\n                                    }\r\n                                }else {\r\n                                    showErro(&quot;please fill the entire form&quot;);\r\n                                }\r\n                            }else {\r\n                                showErro(&quot;please fill the entire form&quot;);\r\n                            }\r\n                        }else {\r\n                            showErro(&quot;please fill the entire form&quot;);\r\n                        }\r\n                    }else {\r\n                        showErro(&quot;please fill the entire form&quot;);\r\n                    }\r\n                }else {\r\n                    showErro(&quot;please fill the entire form&quot;);\r\n                }\r\n\r\nIs there any way or method to simplify this? Because let&#39;s say if it were 10 inputs, it would be a horrible code doing 10 ifs, you know? How do I simplify this?\r\n","title":"How to avoid multiple ifs inside a form?","body":"<p>I think this counts for any other language as well, but I'm using Java for Android in this example here. I'm trying to validate a form, but it has multiple inputs.</p>\n<pre><code>if( !anuncio.getEstado().isEmpty() ){\n                if( !anuncio.getCategoria().isEmpty() ){\n                    if( !anuncio.getTitulo().isEmpty() ){\n                        if( !valor.isEmpty() &amp;&amp; !valor.equals(&quot;0&quot;) ){\n                            if( !anuncio.getTelefone().isEmpty()  ){\n                                if( !anuncio.getDescricao().isEmpty() ){\n\n                                    saveForm();\n\n                                }else {\n                                    showErro(&quot;please fill the entire form&quot;);\n                                }\n                            }else {\n                                showErro(&quot;please fill the entire form&quot;);\n                            }\n                        }else {\n                            showErro(&quot;please fill the entire form&quot;);\n                        }\n                    }else {\n                        showErro(&quot;please fill the entire form&quot;);\n                    }\n                }else {\n                    showErro(&quot;please fill the entire form&quot;);\n                }\n            }else {\n                showErro(&quot;please fill the entire form&quot;);\n            }\n</code></pre>\n<p>Is there any way or method to simplify this? Because let's say if it were 10 inputs, it would be a horrible code doing 10 ifs, you know? How do I simplify this?</p>\n"},{"tags":["java","selenium","appium","appium-android","java-client"],"answers":[{"tags":[],"owner":{"account_id":24497489,"reputation":1,"user_id":18413534,"display_name":"CErdtmann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647729084,"creation_date":1647729084,"answer_id":71542611,"question_id":71540484,"body_markdown":"I found a solution for the problem. \r\n\r\nJust use W3C Actions because the TouchAction is deprecated.\r\nhttp://appium.io/docs/en/commands/interactions/actions/\r\n\r\nHere a example for a swipe:\r\n\r\n    Point source = new Point(769, 309);\r\n    Point target = new Point(752, 2348);\r\n    PointerInput finger = new PointerInput(PointerInput.Kind.TOUCH, &quot;finger&quot;);\r\n    Sequence swipe = new Sequence(finger, 1);\r\n    swipe.addAction(finger.createPointerMove(Duration.ofMillis(0),\r\n                        PointerInput.Origin.viewport(), source.x, source.y));\r\n    swipe.addAction(finger.createPointerDown(PointerInput.MouseButton.LEFT.asArg()));\r\n    swipe.addAction(finger.createPointerMove(Duration.ofMillis(700),\r\n                        PointerInput.Origin.viewport(),target.x, target.y));\r\n    swipe.addAction(finger.createPointerUp(PointerInput.MouseButton.LEFT.asArg()));\r\n    driver.perform(Arrays.asList(swipe));\r\n\r\n","title":"Java - How to Swipe - AndroidDriver","body":"<p>I found a solution for the problem.</p>\n<p>Just use W3C Actions because the TouchAction is deprecated.\n<a href=\"http://appium.io/docs/en/commands/interactions/actions/\" rel=\"nofollow noreferrer\">http://appium.io/docs/en/commands/interactions/actions/</a></p>\n<p>Here a example for a swipe:</p>\n<pre><code>Point source = new Point(769, 309);\nPoint target = new Point(752, 2348);\nPointerInput finger = new PointerInput(PointerInput.Kind.TOUCH, &quot;finger&quot;);\nSequence swipe = new Sequence(finger, 1);\nswipe.addAction(finger.createPointerMove(Duration.ofMillis(0),\n                    PointerInput.Origin.viewport(), source.x, source.y));\nswipe.addAction(finger.createPointerDown(PointerInput.MouseButton.LEFT.asArg()));\nswipe.addAction(finger.createPointerMove(Duration.ofMillis(700),\n                    PointerInput.Origin.viewport(),target.x, target.y));\nswipe.addAction(finger.createPointerUp(PointerInput.MouseButton.LEFT.asArg()));\ndriver.perform(Arrays.asList(swipe));\n</code></pre>\n"}],"owner":{"account_id":24497489,"reputation":1,"user_id":18413534,"display_name":"CErdtmann"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71542611,"answer_count":1,"score":0,"last_activity_date":1647729132,"creation_date":1647711092,"question_id":71540484,"body_markdown":"i trying to swipe up inside my android app.\r\nBut its not working. I using java-client-8.0.0 and Selenium-server-4.1.2\r\n\r\nI tryied allready:\r\n\r\n    TouchAction ta = new TouchAction(driver);\r\n    PointOption poStart = new PointOption();\r\n    PointOption poEnd = new PointOption();\r\n    poStart.point(656, 1393);\r\n    poEnd.point(437, 619);\r\n    ta.press(poStart).moveTo(poEnd).release().perform();\r\n\r\nBut TouchAction is deprecated.\r\n\r\nHow to scroll/swipe up on Android with Java?","title":"Java - How to Swipe - AndroidDriver","body":"<p>i trying to swipe up inside my android app.\nBut its not working. I using java-client-8.0.0 and Selenium-server-4.1.2</p>\n<p>I tryied allready:</p>\n<pre><code>TouchAction ta = new TouchAction(driver);\nPointOption poStart = new PointOption();\nPointOption poEnd = new PointOption();\npoStart.point(656, 1393);\npoEnd.point(437, 619);\nta.press(poStart).moveTo(poEnd).release().perform();\n</code></pre>\n<p>But TouchAction is deprecated.</p>\n<p>How to scroll/swipe up on Android with Java?</p>\n"},{"tags":["java","netbeans","binding","netbeans-9"],"owner":{"account_id":180123,"reputation":431,"user_id":413238,"display_name":"Gunee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":621,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1647727419,"creation_date":1579262363,"question_id":59786932,"body_markdown":"Support for bindings seems to have been completely removed from Netbeans 9+ when it was taken over by Apache.\r\n\r\nThe previously available org.jdesktop.beansbinding module is gone, so it the right-click menu Bind option, and the Binding tab in the Properties editor.\r\n\r\nI have one button and one menu item that I would like to bind together so that when I change the &quot;enabled&quot; property on one, it changes the &quot;enabled&quot; property on the other automatically.\r\n\r\nIs there a way to do that using Netbeans, and if so, could you explain how to do it?\r\n\r\nIf not, is it something I&#39;d have to code from scratch, and again, how would I go about doing this?","title":"How to implement bindings in Apache Netbeans without org.jdesktop.beansbinding","body":"<p>Support for bindings seems to have been completely removed from Netbeans 9+ when it was taken over by Apache.</p>\n\n<p>The previously available org.jdesktop.beansbinding module is gone, so it the right-click menu Bind option, and the Binding tab in the Properties editor.</p>\n\n<p>I have one button and one menu item that I would like to bind together so that when I change the \"enabled\" property on one, it changes the \"enabled\" property on the other automatically.</p>\n\n<p>Is there a way to do that using Netbeans, and if so, could you explain how to do it?</p>\n\n<p>If not, is it something I'd have to code from scratch, and again, how would I go about doing this?</p>\n"},{"tags":["java","jms","ibm-mq","quarkus","java-ee-6"],"comments":[{"owner":{"account_id":5032228,"reputation":7304,"user_id":4042083,"accept_rate":50,"display_name":"Morag Hughson"},"score":0,"creation_date":1647575204,"post_id":71521838,"comment_id":126411095,"body_markdown":"In the documentation link &quot;Developing JMS apps with Quarkus and GraalVM&quot; that you mention - did you clone the container they mention or did you do other steps manually to set up AMQP connectivity on your IBM MQ Queue Manager? Especially the commands in this template: https://raw.githubusercontent.com/ibm-messaging/mq-dev-patterns/master/amqp-qpid/add-dev.mqsc.tpl","body":"In the documentation link &quot;Developing JMS apps with Quarkus and GraalVM&quot; that you mention - did you clone the container they mention or did you do other steps manually to set up AMQP connectivity on your IBM MQ Queue Manager? Especially the commands in this template: <a href=\"https://raw.githubusercontent.com/ibm-messaging/mq-dev-patterns/master/amqp-qpid/add-dev.mqsc.tpl\" rel=\"nofollow noreferrer\">raw.githubusercontent.com/ibm-messaging/mq-dev-patterns/mast&zwnj;&#8203;er/&hellip;</a>"},{"owner":{"account_id":15750902,"reputation":11,"user_id":18498245,"display_name":"roerdev"},"score":0,"creation_date":1647605526,"post_id":71521838,"comment_id":126418555,"body_markdown":"The issue is that I am trying to connect to an already created queue using Quarkus. I can connect without problems with the example code that I show.","body":"The issue is that I am trying to connect to an already created queue using Quarkus. I can connect without problems with the example code that I show."}],"answers":[{"tags":[],"owner":{"account_id":1535582,"reputation":7172,"user_id":1431734,"display_name":"Roger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647628341,"creation_date":1647628341,"answer_id":71531696,"question_id":71521838,"body_markdown":"What version of IBM MQ are you using for your queue manager?\r\n\r\nBecause before IBM MQ v9.2.1, it only supported Pub/Sub via AMQP.  If you want to use point-to-point topology (getting/putting to a queue) then you need your queue manager to be at least MQ v9.2.1.  See [here][1].\r\n\r\nThe first paragraph has the blue label &quot;v9.2.1&quot;. That means when the feature was introduced to IBM MQ.\r\n\r\nNow you can fake it, by setting up an administrative topic object that points to a queue then use AMQP Pub/Sub to access the queue but it would be far simpler to upgrade your queue manager to the MQ v9.2.1 or higher.  The current IBM MQ CD release is v9.2.5. \r\n\r\nNote: The LTS release of IBM MQ v9.2 does not have the feature yet.  It will be included in the next major release of MQ (i.e. v9.3 or whatever it will be called).\r\n\r\n  [1]: https://www.ibm.com/docs/en/ibm-mq/9.2?topic=tacm-configuring-amqp-clients-interact-directly-applications-mq-queues","title":"Error in connection with messaging queue in Quarkus","body":"<p>What version of IBM MQ are you using for your queue manager?</p>\n<p>Because before IBM MQ v9.2.1, it only supported Pub/Sub via AMQP.  If you want to use point-to-point topology (getting/putting to a queue) then you need your queue manager to be at least MQ v9.2.1.  See <a href=\"https://www.ibm.com/docs/en/ibm-mq/9.2?topic=tacm-configuring-amqp-clients-interact-directly-applications-mq-queues\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>The first paragraph has the blue label &quot;v9.2.1&quot;. That means when the feature was introduced to IBM MQ.</p>\n<p>Now you can fake it, by setting up an administrative topic object that points to a queue then use AMQP Pub/Sub to access the queue but it would be far simpler to upgrade your queue manager to the MQ v9.2.1 or higher.  The current IBM MQ CD release is v9.2.5.</p>\n<p>Note: The LTS release of IBM MQ v9.2 does not have the feature yet.  It will be included in the next major release of MQ (i.e. v9.3 or whatever it will be called).</p>\n"},{"tags":[],"owner":{"account_id":5032228,"reputation":7304,"user_id":4042083,"accept_rate":50,"display_name":"Morag Hughson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647727326,"creation_date":1647727326,"answer_id":71542446,"question_id":71521838,"body_markdown":"You are getting a connection failure when you try to connect to `localhost:5672`. This implies that you do not have anything listening on that TCP/IP port. The instructions you reference have a template MQSC script which sets up the required resources needed on the queue manager to allow an AMQP connection. This script can be found [here][1].\r\n\r\nThe most pertinent commands within this script for your specific reported problem are likely these (although I suggest you run the whole script):\r\n\r\n    START SERVICE(SYSTEM.AMQP.SERVICE)\r\n    START CHANNEL(SYSTEM.DEF.AMQP)\r\n\r\n\r\n  [1]: https://raw.githubusercontent.com/ibm-messaging/mq-dev-patterns/master/amqp-qpid/add-dev.mqsc.tpl","title":"Error in connection with messaging queue in Quarkus","body":"<p>You are getting a connection failure when you try to connect to <code>localhost:5672</code>. This implies that you do not have anything listening on that TCP/IP port. The instructions you reference have a template MQSC script which sets up the required resources needed on the queue manager to allow an AMQP connection. This script can be found <a href=\"https://raw.githubusercontent.com/ibm-messaging/mq-dev-patterns/master/amqp-qpid/add-dev.mqsc.tpl\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>The most pertinent commands within this script for your specific reported problem are likely these (although I suggest you run the whole script):</p>\n<pre><code>START SERVICE(SYSTEM.AMQP.SERVICE)\nSTART CHANNEL(SYSTEM.DEF.AMQP)\n</code></pre>\n"}],"owner":{"account_id":15750902,"reputation":11,"user_id":18498245,"display_name":"roerdev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":645,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1647727326,"creation_date":1647570498,"question_id":71521838,"body_markdown":"I am trying to consume/write to a messaging queue in Quarkus, but have been unable to do so. I have an example code with which I can connect to the queue but it is made with the com.ibm.mq.allclient library based on javax.jms, \r\n\r\n``` \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.ibm.mq&lt;/groupId&gt;\r\n      &lt;artifactId&gt;com.ibm.mq.allclient&lt;/artifactId&gt;\r\n      &lt;version&gt;9.0.4.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\nand to connect use the parameters: hostname, port, name, channel, queuename.\r\n\r\nThe example code, using the com.ibm.mq.allclient library to create the connections for consumption and writing, is as follows:\r\n\r\n```\r\nimport com.ibm.mq.jms.MQQueue;\r\nimport com.ibm.mq.jms.MQQueueConnection;\r\nimport com.ibm.mq.jms.MQQueueConnectionFactory;\r\nimport com.ibm.mq.jms.MQQueueSession;\r\n\r\nimport javax.jms.Message;\r\nimport javax.jms.MessageConsumer;\r\nimport javax.jms.MessageProducer;\r\nimport javax.jms.TextMessage;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\npublic class MyClass {\r\n\r\n    private static Logger logger = LoggerFactory.getLogger(MyClass.class);\r\n\r\n    private MQQueueConnection connectionRq;\r\n    private MQQueueConnection connectionRs;\r\n\r\n    public void initConnection(){\r\n        \r\n        try {\r\n            MQQueueConnectionFactory connectionFactoryRq = new MQQueueConnectionFactory();\r\n            connectionFactoryRq.setHostName(&quot;localhost&quot;);\r\n            connectionFactoryRq.setPort(5672);\r\n            connectionFactoryRq.setTransportType(1);\r\n            connectionFactoryRq.setQueueManager(&quot;QM_NAME&quot;);\r\n            connectionFactoryRq.setChannel(&quot;CHANNEL&quot;);\r\n\r\n            MQQueueConnectionFactory connectionFactoryRs = new MQQueueConnectionFactory();\r\n            connectionFactoryRs.setHostName(&quot;localhost&quot;);\r\n            connectionFactoryRs.setPort(5672);\r\n            connectionFactoryRs.setTransportType(1);\r\n            connectionFactoryRs.setQueueManager(&quot;QM_NAME&quot;);\r\n            connectionFactoryRs.setChannel(&quot;CHANNEL&quot;);\r\n\r\n            connectionRq = (MQQueueConnection) connectionFactoryRq.createQueueConnection();\r\n            connectionRs = (MQQueueConnection) connectionFactoryRs.createQueueConnection();\r\n\r\n\r\n        } catch (Exception e) {\r\n            logger.info(e.getMessage());\r\n        }\r\n    }\r\n\r\n    public String sendMessage(String msg, String correlativeId){\r\n        \r\n        String corId = null;\r\n        MQQueueSession sessionRq = null;\r\n        MQQueueSession sessionRs = null;\r\n        MessageProducer producer = null;\r\n        try {\r\n            sessionRq = (MQQueueSession) connectionRq.createQueueSession(false, 1);\r\n            MQQueue queueRq = (MQQueue) sessionRq.createQueue(&quot;queue:///QUEUENAME.RQ&quot;);\r\n            queueRq.setMessageBodyStyle(1);\r\n            queueRq.setTargetClient(1);\r\n\r\n            sessionRs = (MQQueueSession) connectionRs.createQueueSession(false, 1);\r\n            MQQueue queueRs = (MQQueue) sessionRs.createQueue(&quot;queue:///QUEUENAME.RS&quot;);\r\n\r\n            producer = sessionRq.createProducer(queueRq);\r\n\r\n            Message messageRq = sessionRq.createTextMessage(msg);\r\n            messageRq.setJMSReplyTo(queueRs);\r\n            messageRq.setIntProperty(&quot;JMS_IBM_Character_Set&quot;, 819);\r\n            messageRq.setIntProperty(&quot;JMS_IBM_Encoding&quot;, 273);\r\n            messageRq.setIntProperty(&quot;JMS_IBM_MsgType&quot;, 8);\r\n            messageRq.setJMSMessageID(correlativeId);\r\n            messageRq.setJMSCorrelationIDAsBytes(correlativeId.getBytes());\r\n            messageRq.setJMSPriority(1);\r\n            messageRq.setJMSType(&quot;Datagram&quot;);\r\n\r\n            producer.send(messageRq);\r\n\r\n            corId = messageRq.getJMSCorrelationID();\r\n        } catch (Exception e) {\r\n            logger.info(e.getMessage());\r\n        }  finally {\r\n            try {\r\n                sessionRq.close();\r\n            } catch (Exception e) {\r\n                logger.info(e.getMessage());\r\n            }\r\n            try {\r\n                sessionRs.close();\r\n            } catch (Exception e) {\r\n                logger.info(e.getMessage());\r\n            }\r\n            try {\r\n                producer.close();\r\n            } catch (Exception e) {\r\n                logger.info(e.getMessage());\r\n            }\r\n        }\r\n        return corId;\r\n    }\r\n\r\n    public String consumerMessage(String correlativeId){\r\n\r\n        String msg = null;\r\n        MQQueueSession sessionRs = null;\r\n        MessageConsumer consumer = null;\r\n        try {\r\n            sessionRs = (MQQueueSession) connectionRs.createQueueSession(false, 1);\r\n            MQQueue queueRs = (MQQueue) sessionRs.createQueue(&quot;queue:///QUEUENAME.RS&quot;);\r\n            consumer = sessionRs.createConsumer(queueRs, &quot;JMSCorrelationID=&#39;&quot; + correlativeId + &quot;&#39;&quot;);\r\n            connectionRs.start();\r\n            Message messageRs = consumer.receive(10000L);\r\n            msg = ((TextMessage) messageRs).getText();\r\n        } catch (Exception e) {\r\n            logger.info(e.getMessage());\r\n        }  finally {\r\n            try {\r\n                sessionRs.close();\r\n            } catch (Exception e) {\r\n                logger.info(e.getMessage());\r\n            }\r\n            try {\r\n                consumer.close();\r\n            } catch (Exception e) {\r\n                logger.info(e.getMessage());\r\n            }\r\n        }\r\n        return msg;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        MyClass myClass = new MyClass();\r\n        myClass.initConnection();\r\n        String corId = myClass.sendMessage(&quot;Test Message Send&quot;, &quot;UNIQUE&quot;);\r\n        String message = myClass.consumerMessage(corId);\r\n        logger.info(&quot;The message: &quot; + message);\r\n    }\r\n}\r\n```\r\n\r\nThe code above works fine, the problem is that the library is not compatible with the native Quarkus compiler.\r\n\r\nFor the connection with the MQ in Quarkus I am using the library:\r\n\r\n```\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.amqphub.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-qpid-jms&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\nIn the application.properties I assign:\r\n\r\n```\r\nquarkus.qpid-jms.url=amqp://localhost:5672\r\n```\r\n\r\nAnd when trying to run the sample project in: [Quarkus Qpid JMS Quickstart][1] throws me the following error:\r\n\r\n```\r\n__  ____  __  _____   ___  __ ____  ______ \r\n --/ __ \\/ / / / _ | / _ \\/ //_/ / / / __/ \r\n -/ /_/ / /_/ / __ |/ , _/ ,&lt; / /_/ /\\ \\   \r\n--\\___\\_\\____/_/ |_/_/|_/_/|_|\\____/___/   \r\n2022-03-17 12:02:31,489 INFO  [org.acm.jms.PriceConsumer] (pool-11-thread-1) Writing MQ Client...\r\n2022-03-17 12:02:31,486 INFO  [org.acm.jms.PriceConsumer] (pool-10-thread-1) Reading MQ Client...\r\n2022-03-17 12:02:31,757 INFO  [io.quarkus] (Quarkus Main Thread) jms-quickstart 1.0.0-SNAPSHOT on JVM (powered by Quarkus 2.7.2.Final) started in 4.626s. Listening on: http://localhost:8080\r\n2022-03-17 12:02:31,758 INFO  [io.quarkus] (Quarkus Main Thread) Profile dev activated. Live Coding activated.\r\n2022-03-17 12:02:31,759 INFO  [io.quarkus] (Quarkus Main Thread) Installed features: [cdi, qpid-jms, resteasy, smallrye-context-propagation, vertx]\r\n2022-03-17 12:02:34,068 ERROR [org.apa.qpi.jms.JmsConnection] (pool-11-thread-1) Failed to connect to remote at: amqp://localhost:5672\r\n2022-03-17 12:02:34,068 ERROR [org.apa.qpi.jms.JmsConnection] (pool-10-thread-1) Failed to connect to remote at: amqp://localhost:5672\r\n```\r\n\r\nI know that it is most likely a configuration error and I am missing something, but I am new to Quarkus and I have already read and tried so many things that I have already collapsed.\r\n\r\nI appreciate any kind of help as it would be great, or at least documentation or something to guide me is also welcome.\r\n\r\nDocumentation consulted:\r\n\r\n- [Developing JMS apps with Quarkus and GraalVM][2]\r\n- [USING JMS][3]\r\n\r\n\r\n  [1]: https://github.com/amqphub/quarkus-qpid-jms-quickstart\r\n  [2]: https://developer.ibm.com/tutorials/mq-running-ibm-mq-apps-on-quarkus-and-graalvm-using-qpid-amqp-jms-classes/\r\n  [3]: https://quarkus.io/guides/jms","title":"Error in connection with messaging queue in Quarkus","body":"<p>I am trying to consume/write to a messaging queue in Quarkus, but have been unable to do so. I have an example code with which I can connect to the queue but it is made with the com.ibm.mq.allclient library based on javax.jms,</p>\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;com.ibm.mq&lt;/groupId&gt;\n      &lt;artifactId&gt;com.ibm.mq.allclient&lt;/artifactId&gt;\n      &lt;version&gt;9.0.4.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>and to connect use the parameters: hostname, port, name, channel, queuename.</p>\n<p>The example code, using the com.ibm.mq.allclient library to create the connections for consumption and writing, is as follows:</p>\n<pre><code>import com.ibm.mq.jms.MQQueue;\nimport com.ibm.mq.jms.MQQueueConnection;\nimport com.ibm.mq.jms.MQQueueConnectionFactory;\nimport com.ibm.mq.jms.MQQueueSession;\n\nimport javax.jms.Message;\nimport javax.jms.MessageConsumer;\nimport javax.jms.MessageProducer;\nimport javax.jms.TextMessage;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class MyClass {\n\n    private static Logger logger = LoggerFactory.getLogger(MyClass.class);\n\n    private MQQueueConnection connectionRq;\n    private MQQueueConnection connectionRs;\n\n    public void initConnection(){\n        \n        try {\n            MQQueueConnectionFactory connectionFactoryRq = new MQQueueConnectionFactory();\n            connectionFactoryRq.setHostName(&quot;localhost&quot;);\n            connectionFactoryRq.setPort(5672);\n            connectionFactoryRq.setTransportType(1);\n            connectionFactoryRq.setQueueManager(&quot;QM_NAME&quot;);\n            connectionFactoryRq.setChannel(&quot;CHANNEL&quot;);\n\n            MQQueueConnectionFactory connectionFactoryRs = new MQQueueConnectionFactory();\n            connectionFactoryRs.setHostName(&quot;localhost&quot;);\n            connectionFactoryRs.setPort(5672);\n            connectionFactoryRs.setTransportType(1);\n            connectionFactoryRs.setQueueManager(&quot;QM_NAME&quot;);\n            connectionFactoryRs.setChannel(&quot;CHANNEL&quot;);\n\n            connectionRq = (MQQueueConnection) connectionFactoryRq.createQueueConnection();\n            connectionRs = (MQQueueConnection) connectionFactoryRs.createQueueConnection();\n\n\n        } catch (Exception e) {\n            logger.info(e.getMessage());\n        }\n    }\n\n    public String sendMessage(String msg, String correlativeId){\n        \n        String corId = null;\n        MQQueueSession sessionRq = null;\n        MQQueueSession sessionRs = null;\n        MessageProducer producer = null;\n        try {\n            sessionRq = (MQQueueSession) connectionRq.createQueueSession(false, 1);\n            MQQueue queueRq = (MQQueue) sessionRq.createQueue(&quot;queue:///QUEUENAME.RQ&quot;);\n            queueRq.setMessageBodyStyle(1);\n            queueRq.setTargetClient(1);\n\n            sessionRs = (MQQueueSession) connectionRs.createQueueSession(false, 1);\n            MQQueue queueRs = (MQQueue) sessionRs.createQueue(&quot;queue:///QUEUENAME.RS&quot;);\n\n            producer = sessionRq.createProducer(queueRq);\n\n            Message messageRq = sessionRq.createTextMessage(msg);\n            messageRq.setJMSReplyTo(queueRs);\n            messageRq.setIntProperty(&quot;JMS_IBM_Character_Set&quot;, 819);\n            messageRq.setIntProperty(&quot;JMS_IBM_Encoding&quot;, 273);\n            messageRq.setIntProperty(&quot;JMS_IBM_MsgType&quot;, 8);\n            messageRq.setJMSMessageID(correlativeId);\n            messageRq.setJMSCorrelationIDAsBytes(correlativeId.getBytes());\n            messageRq.setJMSPriority(1);\n            messageRq.setJMSType(&quot;Datagram&quot;);\n\n            producer.send(messageRq);\n\n            corId = messageRq.getJMSCorrelationID();\n        } catch (Exception e) {\n            logger.info(e.getMessage());\n        }  finally {\n            try {\n                sessionRq.close();\n            } catch (Exception e) {\n                logger.info(e.getMessage());\n            }\n            try {\n                sessionRs.close();\n            } catch (Exception e) {\n                logger.info(e.getMessage());\n            }\n            try {\n                producer.close();\n            } catch (Exception e) {\n                logger.info(e.getMessage());\n            }\n        }\n        return corId;\n    }\n\n    public String consumerMessage(String correlativeId){\n\n        String msg = null;\n        MQQueueSession sessionRs = null;\n        MessageConsumer consumer = null;\n        try {\n            sessionRs = (MQQueueSession) connectionRs.createQueueSession(false, 1);\n            MQQueue queueRs = (MQQueue) sessionRs.createQueue(&quot;queue:///QUEUENAME.RS&quot;);\n            consumer = sessionRs.createConsumer(queueRs, &quot;JMSCorrelationID='&quot; + correlativeId + &quot;'&quot;);\n            connectionRs.start();\n            Message messageRs = consumer.receive(10000L);\n            msg = ((TextMessage) messageRs).getText();\n        } catch (Exception e) {\n            logger.info(e.getMessage());\n        }  finally {\n            try {\n                sessionRs.close();\n            } catch (Exception e) {\n                logger.info(e.getMessage());\n            }\n            try {\n                consumer.close();\n            } catch (Exception e) {\n                logger.info(e.getMessage());\n            }\n        }\n        return msg;\n    }\n\n    public static void main(String[] args) {\n        MyClass myClass = new MyClass();\n        myClass.initConnection();\n        String corId = myClass.sendMessage(&quot;Test Message Send&quot;, &quot;UNIQUE&quot;);\n        String message = myClass.consumerMessage(corId);\n        logger.info(&quot;The message: &quot; + message);\n    }\n}\n</code></pre>\n<p>The code above works fine, the problem is that the library is not compatible with the native Quarkus compiler.</p>\n<p>For the connection with the MQ in Quarkus I am using the library:</p>\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;org.amqphub.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-qpid-jms&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>In the application.properties I assign:</p>\n<pre><code>quarkus.qpid-jms.url=amqp://localhost:5672\n</code></pre>\n<p>And when trying to run the sample project in: <a href=\"https://github.com/amqphub/quarkus-qpid-jms-quickstart\" rel=\"nofollow noreferrer\">Quarkus Qpid JMS Quickstart</a> throws me the following error:</p>\n<pre><code>__  ____  __  _____   ___  __ ____  ______ \n --/ __ \\/ / / / _ | / _ \\/ //_/ / / / __/ \n -/ /_/ / /_/ / __ |/ , _/ ,&lt; / /_/ /\\ \\   \n--\\___\\_\\____/_/ |_/_/|_/_/|_|\\____/___/   \n2022-03-17 12:02:31,489 INFO  [org.acm.jms.PriceConsumer] (pool-11-thread-1) Writing MQ Client...\n2022-03-17 12:02:31,486 INFO  [org.acm.jms.PriceConsumer] (pool-10-thread-1) Reading MQ Client...\n2022-03-17 12:02:31,757 INFO  [io.quarkus] (Quarkus Main Thread) jms-quickstart 1.0.0-SNAPSHOT on JVM (powered by Quarkus 2.7.2.Final) started in 4.626s. Listening on: http://localhost:8080\n2022-03-17 12:02:31,758 INFO  [io.quarkus] (Quarkus Main Thread) Profile dev activated. Live Coding activated.\n2022-03-17 12:02:31,759 INFO  [io.quarkus] (Quarkus Main Thread) Installed features: [cdi, qpid-jms, resteasy, smallrye-context-propagation, vertx]\n2022-03-17 12:02:34,068 ERROR [org.apa.qpi.jms.JmsConnection] (pool-11-thread-1) Failed to connect to remote at: amqp://localhost:5672\n2022-03-17 12:02:34,068 ERROR [org.apa.qpi.jms.JmsConnection] (pool-10-thread-1) Failed to connect to remote at: amqp://localhost:5672\n</code></pre>\n<p>I know that it is most likely a configuration error and I am missing something, but I am new to Quarkus and I have already read and tried so many things that I have already collapsed.</p>\n<p>I appreciate any kind of help as it would be great, or at least documentation or something to guide me is also welcome.</p>\n<p>Documentation consulted:</p>\n<ul>\n<li><a href=\"https://developer.ibm.com/tutorials/mq-running-ibm-mq-apps-on-quarkus-and-graalvm-using-qpid-amqp-jms-classes/\" rel=\"nofollow noreferrer\">Developing JMS apps with Quarkus and GraalVM</a></li>\n<li><a href=\"https://quarkus.io/guides/jms\" rel=\"nofollow noreferrer\">USING JMS</a></li>\n</ul>\n"},{"tags":["java","spring-boot","lombok"],"answers":[{"tags":[],"owner":{"account_id":347460,"reputation":1972,"user_id":681586,"accept_rate":54,"display_name":"Petre Popescu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647727229,"creation_date":1647727229,"answer_id":71542431,"question_id":71542282,"body_markdown":"Is this generated class that implements `MyInterfaceA` also a bean? If so, you can use `@MockBean` to mock its implementation in the test. This way, wherever a bean of type `MyInterfaceA` is used, the mock will be injected in its place, and you can have the mock do whatever you want.","title":"Avoiding default interface implementation for @Bean","body":"<p>Is this generated class that implements <code>MyInterfaceA</code> also a bean? If so, you can use <code>@MockBean</code> to mock its implementation in the test. This way, wherever a bean of type <code>MyInterfaceA</code> is used, the mock will be injected in its place, and you can have the mock do whatever you want.</p>\n"}],"owner":{"account_id":20036741,"reputation":41,"user_id":14688296,"display_name":"obolen_an"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647727229,"creation_date":1647725772,"question_id":71542282,"body_markdown":"Let&#39;s say\r\n- I have integration tests, therefore there is an `ApplicationContextIntegrationTests` class that contains dummy beans (dependencies on other services) for initializing the app context for integration profile like this:\r\n```   \r\n @Bean\r\n public MyService myService(Proc proc) {\r\n       return new MyServiceImp();\r\n }\r\n```\r\n- I have an interface `MyInterfaceA` with 20 methods (the code is autogenerated based on the definition in `api.yaml`), I cannot implement it and I don&#39;t have access to the implementation. This interface (well, it is an implementation) also should be inserted in the application context. Obviously, I need to implement all interface methods in order to insert that bean and it leads to messy code with default methods implementations on 50 lines. Moreover, I need to insert 3 interfaces. \r\n\r\nIs there a way to avoid that huge amount of code?\r\n\r\nI have found that Lombok provides a `@Delegate` annotation which is used in similar situations, but it is appliable only on fields, whereas I need to deal with methods (bcs of `@Bean`).","title":"Avoiding default interface implementation for @Bean","body":"<p>Let's say</p>\n<ul>\n<li>I have integration tests, therefore there is an <code>ApplicationContextIntegrationTests</code> class that contains dummy beans (dependencies on other services) for initializing the app context for integration profile like this:</li>\n</ul>\n<pre><code> @Bean\n public MyService myService(Proc proc) {\n       return new MyServiceImp();\n }\n</code></pre>\n<ul>\n<li>I have an interface <code>MyInterfaceA</code> with 20 methods (the code is autogenerated based on the definition in <code>api.yaml</code>), I cannot implement it and I don't have access to the implementation. This interface (well, it is an implementation) also should be inserted in the application context. Obviously, I need to implement all interface methods in order to insert that bean and it leads to messy code with default methods implementations on 50 lines. Moreover, I need to insert 3 interfaces.</li>\n</ul>\n<p>Is there a way to avoid that huge amount of code?</p>\n<p>I have found that Lombok provides a <code>@Delegate</code> annotation which is used in similar situations, but it is appliable only on fields, whereas I need to deal with methods (bcs of <code>@Bean</code>).</p>\n"},{"tags":["java","pdf","itext","itext7"],"comments":[{"owner":{"account_id":345916,"reputation":461,"user_id":679116,"display_name":"S_G"},"score":0,"creation_date":1647826128,"post_id":71542392,"comment_id":126461321,"body_markdown":"Which documentation did you refer on iText website? Can you take a look at this link https://kb.itextpdf.com/home/it7kb/examples/merging-documents-and-create-a-table-of-contents\n\nThis link basically create TOC by merging the multiple documents and uses TreeMap to maintain page number and uses copyPagesTo method to copy all the pages to final document and finally create TOC by using TreeMap","body":"Which documentation did you refer on iText website? Can you take a look at this link <a href=\"https://kb.itextpdf.com/home/it7kb/examples/merging-documents-and-create-a-table-of-contents\" rel=\"nofollow noreferrer\">kb.itextpdf.com/home/it7kb/examples/&hellip;</a>  This link basically create TOC by merging the multiple documents and uses TreeMap to maintain page number and uses copyPagesTo method to copy all the pages to final document and finally create TOC by using TreeMap"}],"owner":{"account_id":19793747,"reputation":91,"user_id":16605466,"display_name":"raed115"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":373,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647726892,"creation_date":1647726892,"question_id":71542392,"body_markdown":"I&#39;m trying to create a table of content with iTextPDF 7 in Java from existing PDFs. \r\nI&#39;ve tried to use ```Link link = new Link()``` and ```PdfAction.createGoTo(PdfExplicitDestination.createFit(pageNum))``` but to no avail. \r\nI can&#39;t link the page number/row in TOC to the respective page in the end PDF (after merging). \r\n\r\nThe documentation on their website only gets me so far and I&#39;m out of ideas.\r\n\r\nWhat is the correct way to create a TOC for existing PDFs and how to implement it correctly? ","title":"iTextPDF 7 - Table of content with clickable page numbers","body":"<p>I'm trying to create a table of content with iTextPDF 7 in Java from existing PDFs.\nI've tried to use <code>Link link = new Link()</code> and <code>PdfAction.createGoTo(PdfExplicitDestination.createFit(pageNum))</code> but to no avail.\nI can't link the page number/row in TOC to the respective page in the end PDF (after merging).</p>\n<p>The documentation on their website only gets me so far and I'm out of ideas.</p>\n<p>What is the correct way to create a TOC for existing PDFs and how to implement it correctly?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647726560,"creation_date":1638722820,"answer_id":70236439,"question_id":70236392,"body_markdown":"You have to acces an element in your loop not the array itself:\r\n\r\n     while (i &lt; b.length) {\r\n            //      if there&#39;s a match for the title or a match for the isbn and the book quantity &gt; 0 and the book is for sale\r\n                if ((b[i].getTitle().equals(title) || b[i].getISBN().equals(isbn)) &amp; b[i].getQty() &gt; 0 &amp;&amp; b[i].isForSale()) {","title":"How do I match parts (title or isbn) from my book array that was created from a text file?","body":"<p>You have to acces an element in your loop not the array itself:</p>\n<pre><code> while (i &lt; b.length) {\n        //      if there's a match for the title or a match for the isbn and the book quantity &gt; 0 and the book is for sale\n            if ((b[i].getTitle().equals(title) || b[i].getISBN().equals(isbn)) &amp; b[i].getQty() &gt; 0 &amp;&amp; b[i].isForSale()) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13049983,"reputation":51,"user_id":9430645,"display_name":"narasimha sriharsha Kanduri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638767448,"creation_date":1638767448,"answer_id":70241122,"question_id":70236392,"body_markdown":"Basically what you want is to search the entire list.If you want to keep up your present implementation, then the solution given by @Jens works.\r\n\r\nBut If you go by searching one by one it would be O(n) but if you leverage inbuilt HashMaps you can do it with O(1) using hashCode and equals and no need of looping through all the objects for each and every search.\r\n\r\nthe Book class which keeps the data of the book. hashCode and equals is implemented here. \r\n    \r\n   \r\n    public final class Book{\r\n\t\tprivate final String title;\r\n\t\tprivate final String isbn;\r\n\t\tprivate double price;\r\n\t\tprivate int quantity;\r\n\t\tprivate boolean forSale;\r\n\t\tpublic final Key key;\r\n\r\n\t    public Book(String title, String isbn, double price, int quantity,boolean forSale){\r\n\t\t\tthis.title = title;\r\n\t\t\tthis.isbn = isbn;\r\n\t\t\tthis.price = price;\r\n\t\t\tthis.quantity =quantity;\r\n\t\t\tthis.forSale = forSale;\r\n\t\t\tthis.key = makeKey(title,isbn);\r\n\t\t}\r\n\t    \r\n\t   private static Key makeKey(String title,String isbn) {\r\n\t\t   return new Key(title,isbn);\r\n\t   }\r\n\t   \r\n\t   public Key getKey() {\r\n\t\t   return this.key;\r\n\t   }\r\n\r\n\t\tpublic String getTitle(){\r\n\t\t\treturn this.title;\r\n\t\t}\r\n\r\n\t\tpublic String getISBN(){\r\n\t\t\treturn this.isbn;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic final String toString(){\r\n\t\t\tString s = this.title +&quot;; &quot;+ this.isbn+ &quot;; &quot;+this.price+&quot;; &quot;+this.quantity;\r\n\t\t\treturn s;\r\n\t\t}\r\n\t\t\r\n\t\tpublic static final class Key{\r\n\t\t\tprivate final String title;\r\n\t\t\tprivate final String isbn;\r\n\t\t\t\r\n\t\t\tprivate Key(String title,String isbn) {\r\n\t\t\t\tthis.title = title;\r\n\t\t\t\tthis.isbn = isbn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tprivate String getTitle() {\r\n\t\t\t\treturn this.title;\r\n\t\t\t}\r\n\t\t\tprivate String getISBN() {\r\n\t\t\t\treturn this.isbn;\r\n\t\t\t}\r\n\t\t\r\n\t\t\t//calculates the hash of the entry, if we don&#39;t override this it will\r\n\t\t\t//use the hash of the reference. so we need to change it for comparision\r\n\t\t\t@Override\r\n\t\t\tpublic final int hashCode(){\r\n\t\t\t\treturn this.title.hashCode()+this.isbn.hashCode();\r\n\t\t\t}\r\n\r\n\t\t\t//if two components have same hash code, then we can use extra criterion\r\n\t\t\t//to check if the two objects are same. in the book case the hash is\r\n\t\t\t//unique.since we are using the title and the isbn;\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic final boolean equals(Object obj){\r\n\t\t\t\tif(this==obj){\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t\tif(obj!=null &amp;&amp; this.getClass()==obj.getClass()){\r\n\t\t\t\t\tKey tempObj = (Key)obj;\r\n\t\t\t\t\treturn (this.title == tempObj.getTitle()) &amp;&amp; (this.isbn == tempObj.getISBN());\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n    }\r\n\r\n\r\n\r\nBookMap class which stores all the book objects in form of  Map&lt;Book.Key,Book&gt;. This will help with the easy retrival of book data.\r\n\r\n    public final class BookMap{\r\n\tprivate final Map&lt;Book.Key,Book&gt; map;\r\n\tprivate final String name;\r\n\r\n\tpublic BookMap(String name){\r\n\t\tthis.name = name;\r\n\t\tthis.map = new HashMap&lt;&gt;();\r\n\t}\r\n\r\n\tpublic final String getName(){\r\n\t\treturn this.name;\r\n\t} \r\n\r\n\tpublic final Map&lt;Book.Key,Book&gt; getMap(){\r\n\t\treturn Collections.unmodifiableMap(this.map);\r\n\t}\r\n\r\n\tpublic final void addBook(Book book){ \r\n\t\t this.map.put(book.getKey(),book);\r\n\t}\r\n\r\n\tpublic final Book getBook(Book book){ \r\n\t\tBook.Key tempKey = book.getKey();\r\n\t\treturn this.map.get(tempKey);\r\n\t\t\r\n\t}\r\n\r\n\tpublic final boolean findBook(Book book){\r\n\t\tif(book != null) {\r\n\t\treturn this.map.containsKey(book.getKey());\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\t\r\n\t@Override\r\n\tpublic final String toString() {\r\n\t\tString s =&quot;Books list : \\n&quot;;\r\n\t\tfor(Map.Entry&lt;Book.Key,Book&gt; b:this.map.entrySet()) {\r\n\t\t\ts= s+b.getValue()+&quot;\\n&quot;;\r\n\t\t}\r\n\t\treturn s;\r\n\t}\r\n    }\r\n\r\n\r\nNow a sample Main.js with static main method to retrieve the book list.\r\n\r\n    public class Main {\r\n\tpublic static BookMap list = new BookSet(&quot;General list&quot;);\r\n\tpublic static void main(String[] args) {\r\n\t\tBook temp = new Book(&quot;Journey to the center of the earth&quot;,&quot;isbn-001-002-0455&quot;,9.99,15,false);\r\n\t\tlist.addBook(temp);\r\n\t\t\r\n\t\ttemp = new Book(&quot;The Time Machine&quot;,&quot;isbn-001-002-0456&quot;,9.99,15,false);\r\n\t\tlist.addBook(temp);\r\n\t\t\r\n\t\ttemp = new Book(&quot;The War of the Worlds&quot;,&quot;isbn-001-002-0457&quot;,8.99,15,false);\r\n\t\tlist.addBook(temp);\r\n\t\t\r\n\t\ttemp = new Book(&quot;Brave New World&quot;,&quot;isbn-001-002-0458&quot;,11.99,15,false);\r\n\t\tlist.addBook(temp);\r\n\t\t\r\n\t\ttemp = new Book(&quot;Ninteen Eighty-four&quot;,&quot;isbn-001-002-0459&quot;,19.99,15,false);\r\n\t\tlist.addBook(temp);\r\n\t\t\r\n\t\ttemp = new Book(&quot;Ray Bradbury&quot;,&quot;isbn-001-002-0460&quot;,14.99,15,false);\r\n\t\tlist.addBook(temp);\r\n\t\t\r\n\t\ttemp = new Book(&quot;I, Robot&quot;,&quot;isbn-001-002-0461&quot;,12.99,15,false);\r\n\t\tlist.addBook(temp);\r\n\t\t\r\n\t\ttemp = new Book(&quot;Foundation&quot;,&quot;isbn-001-002-0462&quot;,12.99,15,false);\r\n\t\tlist.addBook(temp);\r\n\t\t\r\n\t\ttemp = new Book(&quot;The Martial Chronicles&quot;,&quot;isbn-001-002-0463&quot;,3.99,15,false);\r\n\t\tlist.addBook(temp);\r\n\t\t\r\n\t\ttemp = new Book(&quot;Fahrenheit 451&quot;,&quot;isbn-001-002-0464&quot;,6.99,15,false);\r\n\t\tlist.addBook(temp);\r\n\t\t\r\n        //testing with the book already in the list;\r\n\t\ttemp = new Book(&quot;Fahrenheit 451&quot;,&quot;isbn-001-002-0464&quot;,0,0,false);\r\n\t\t//prints book detail\r\n        System.out.println(list.getBook(temp));\r\n\t\t\r\n        //testing with the book already in the list;\r\n\t\ttemp = new Book(&quot;I am not in the list&quot;,&quot;isbn-001-002-0464&quot;,0,0,false);\r\n\t\t//prints null as the book is not in the list\r\n        System.out.println(list.getBook(temp));\r\n        \r\n\t\tSystem.out.println(list);\r\n\t}\r\n    }\r\n\r\n\r\n\r\nThe above is a rough idea, you can develop more on it, i have used final for classes in order to prevent subclassing, as it would become complex with inheritence to understand and debug.i like avoiding complexity as much as i can. If some common pattern is there, then i will try to use abstract classes.\r\n\r\n","title":"How do I match parts (title or isbn) from my book array that was created from a text file?","body":"<p>Basically what you want is to search the entire list.If you want to keep up your present implementation, then the solution given by @Jens works.</p>\n<p>But If you go by searching one by one it would be O(n) but if you leverage inbuilt HashMaps you can do it with O(1) using hashCode and equals and no need of looping through all the objects for each and every search.</p>\n<p>the Book class which keeps the data of the book. hashCode and equals is implemented here.</p>\n<pre><code>public final class Book{\n    private final String title;\n    private final String isbn;\n    private double price;\n    private int quantity;\n    private boolean forSale;\n    public final Key key;\n\n    public Book(String title, String isbn, double price, int quantity,boolean forSale){\n        this.title = title;\n        this.isbn = isbn;\n        this.price = price;\n        this.quantity =quantity;\n        this.forSale = forSale;\n        this.key = makeKey(title,isbn);\n    }\n    \n   private static Key makeKey(String title,String isbn) {\n       return new Key(title,isbn);\n   }\n   \n   public Key getKey() {\n       return this.key;\n   }\n\n    public String getTitle(){\n        return this.title;\n    }\n\n    public String getISBN(){\n        return this.isbn;\n    }\n\n    @Override\n    public final String toString(){\n        String s = this.title +&quot;; &quot;+ this.isbn+ &quot;; &quot;+this.price+&quot;; &quot;+this.quantity;\n        return s;\n    }\n    \n    public static final class Key{\n        private final String title;\n        private final String isbn;\n        \n        private Key(String title,String isbn) {\n            this.title = title;\n            this.isbn = isbn;\n        }\n        \n        private String getTitle() {\n            return this.title;\n        }\n        private String getISBN() {\n            return this.isbn;\n        }\n    \n        //calculates the hash of the entry, if we don't override this it will\n        //use the hash of the reference. so we need to change it for comparision\n        @Override\n        public final int hashCode(){\n            return this.title.hashCode()+this.isbn.hashCode();\n        }\n\n        //if two components have same hash code, then we can use extra criterion\n        //to check if the two objects are same. in the book case the hash is\n        //unique.since we are using the title and the isbn;\n\n        @Override\n        public final boolean equals(Object obj){\n            if(this==obj){\n                return true;\n            }\n            if(obj!=null &amp;&amp; this.getClass()==obj.getClass()){\n                Key tempObj = (Key)obj;\n                return (this.title == tempObj.getTitle()) &amp;&amp; (this.isbn == tempObj.getISBN());\n            }\n            return false;\n        }\n    }\n}\n</code></pre>\n<p>BookMap class which stores all the book objects in form of  Map&lt;Book.Key,Book&gt;. This will help with the easy retrival of book data.</p>\n<pre><code>public final class BookMap{\nprivate final Map&lt;Book.Key,Book&gt; map;\nprivate final String name;\n\npublic BookMap(String name){\n    this.name = name;\n    this.map = new HashMap&lt;&gt;();\n}\n\npublic final String getName(){\n    return this.name;\n} \n\npublic final Map&lt;Book.Key,Book&gt; getMap(){\n    return Collections.unmodifiableMap(this.map);\n}\n\npublic final void addBook(Book book){ \n     this.map.put(book.getKey(),book);\n}\n\npublic final Book getBook(Book book){ \n    Book.Key tempKey = book.getKey();\n    return this.map.get(tempKey);\n    \n}\n\npublic final boolean findBook(Book book){\n    if(book != null) {\n    return this.map.containsKey(book.getKey());\n    }\n    return false;\n}\n\n\n@Override\npublic final String toString() {\n    String s =&quot;Books list : \\n&quot;;\n    for(Map.Entry&lt;Book.Key,Book&gt; b:this.map.entrySet()) {\n        s= s+b.getValue()+&quot;\\n&quot;;\n    }\n    return s;\n}\n}\n</code></pre>\n<p>Now a sample Main.js with static main method to retrieve the book list.</p>\n<pre><code>public class Main {\npublic static BookMap list = new BookSet(&quot;General list&quot;);\npublic static void main(String[] args) {\n    Book temp = new Book(&quot;Journey to the center of the earth&quot;,&quot;isbn-001-002-0455&quot;,9.99,15,false);\n    list.addBook(temp);\n    \n    temp = new Book(&quot;The Time Machine&quot;,&quot;isbn-001-002-0456&quot;,9.99,15,false);\n    list.addBook(temp);\n    \n    temp = new Book(&quot;The War of the Worlds&quot;,&quot;isbn-001-002-0457&quot;,8.99,15,false);\n    list.addBook(temp);\n    \n    temp = new Book(&quot;Brave New World&quot;,&quot;isbn-001-002-0458&quot;,11.99,15,false);\n    list.addBook(temp);\n    \n    temp = new Book(&quot;Ninteen Eighty-four&quot;,&quot;isbn-001-002-0459&quot;,19.99,15,false);\n    list.addBook(temp);\n    \n    temp = new Book(&quot;Ray Bradbury&quot;,&quot;isbn-001-002-0460&quot;,14.99,15,false);\n    list.addBook(temp);\n    \n    temp = new Book(&quot;I, Robot&quot;,&quot;isbn-001-002-0461&quot;,12.99,15,false);\n    list.addBook(temp);\n    \n    temp = new Book(&quot;Foundation&quot;,&quot;isbn-001-002-0462&quot;,12.99,15,false);\n    list.addBook(temp);\n    \n    temp = new Book(&quot;The Martial Chronicles&quot;,&quot;isbn-001-002-0463&quot;,3.99,15,false);\n    list.addBook(temp);\n    \n    temp = new Book(&quot;Fahrenheit 451&quot;,&quot;isbn-001-002-0464&quot;,6.99,15,false);\n    list.addBook(temp);\n    \n    //testing with the book already in the list;\n    temp = new Book(&quot;Fahrenheit 451&quot;,&quot;isbn-001-002-0464&quot;,0,0,false);\n    //prints book detail\n    System.out.println(list.getBook(temp));\n    \n    //testing with the book already in the list;\n    temp = new Book(&quot;I am not in the list&quot;,&quot;isbn-001-002-0464&quot;,0,0,false);\n    //prints null as the book is not in the list\n    System.out.println(list.getBook(temp));\n    \n    System.out.println(list);\n}\n}\n</code></pre>\n<p>The above is a rough idea, you can develop more on it, i have used final for classes in order to prevent subclassing, as it would become complex with inheritence to understand and debug.i like avoiding complexity as much as i can. If some common pattern is there, then i will try to use abstract classes.</p>\n"}],"owner":{"account_id":23540629,"reputation":17,"user_id":17584878,"display_name":"User238742837"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1647726560,"creation_date":1638722530,"question_id":70236392,"body_markdown":"When I run this code, it gives an error saying cannot involve get__() on the array type Book[].. In the main method, I have a book array with the information from a text file -- title, isbn, price, qty, forsale.\r\n\r\n``` \r\n\tpublic static int searchByTitleOrISBN(Book[] b)\r\n\t{\r\n\t\tint i = 0;\r\n\t\t//   print a message &quot;Enter the Title or ISBN of the book: &quot;\r\n\t\tSystem.out.println(&quot;Enter the Title or ISBN of the book: &quot;);\r\n\t\tString input = scan.next();\r\n\t\t\r\n\t\r\n\t\t//   use a while loop to search through the array books using a counter and as long as no match is found\r\n\t\twhile (i &lt; b.length) {\r\n\t\t//      if there&#39;s a match for the title or a match for the isbn and the book quantity &gt; 0 and the book is for sale\r\n\t\t\tif ((b.getTitle().equals(title) || b.getISBN().equals(isbn)) &amp; b.getQty() &gt; 0 &amp;&amp; b.isForSale()) {\r\n```","title":"How do I match parts (title or isbn) from my book array that was created from a text file?","body":"<p>When I run this code, it gives an error saying cannot involve get__() on the array type Book[].. In the main method, I have a book array with the information from a text file -- title, isbn, price, qty, forsale.</p>\n<pre><code>    public static int searchByTitleOrISBN(Book[] b)\n    {\n        int i = 0;\n        //   print a message &quot;Enter the Title or ISBN of the book: &quot;\n        System.out.println(&quot;Enter the Title or ISBN of the book: &quot;);\n        String input = scan.next();\n        \n    \n        //   use a while loop to search through the array books using a counter and as long as no match is found\n        while (i &lt; b.length) {\n        //      if there's a match for the title or a match for the isbn and the book quantity &gt; 0 and the book is for sale\n            if ((b.getTitle().equals(title) || b.getISBN().equals(isbn)) &amp; b.getQty() &gt; 0 &amp;&amp; b.isForSale()) {\n</code></pre>\n"},{"tags":["java","regex","string"],"answers":[{"tags":[],"owner":{"display_name":"user12842282"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647724210,"creation_date":1647724210,"answer_id":71542121,"question_id":71541947,"body_markdown":"https://regex101.com/r/9ySIa2/1\r\n\r\n`(?&lt;=[^=])=(?=[^=])(?=(?:[^\\&#39;]*\\&#39;[^\\&#39;]*\\&#39;)*[^\\&#39;]*$)`\r\n\r\n`=(?![=])`\r\n\r\nhas been replaced with\r\n\r\n`(?&lt;=[^=])=(?=[^=])`\r\n\r\n\r\n`=(?![=])` matches an equal sign followed by not an equal sign.  This means that in `==1`, the first `=` is not matched because it&#39;s followed by an `=`, but the second is followed by a `1`, so it gets matched.\r\n\r\n\r\n`(?&lt;=[^=])=(?=[^=])` matches an equal sign, but only if the character before is not an equal sign (`(?&lt;=[^=])` positive lookbehind) as well as if the next character is also not an equal sign (`(?=[^=])` positive lookahead)","title":"Replace all &quot;=&quot; but not &quot;==&quot; that are not in single quotes with regular expression in Java","body":"<p><a href=\"https://regex101.com/r/9ySIa2/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/9ySIa2/1</a></p>\n<p><code>(?&lt;=[^=])=(?=[^=])(?=(?:[^\\']*\\'[^\\']*\\')*[^\\']*$)</code></p>\n<p><code>=(?![=])</code></p>\n<p>has been replaced with</p>\n<p><code>(?&lt;=[^=])=(?=[^=])</code></p>\n<p><code>=(?![=])</code> matches an equal sign followed by not an equal sign.  This means that in <code>==1</code>, the first <code>=</code> is not matched because it's followed by an <code>=</code>, but the second is followed by a <code>1</code>, so it gets matched.</p>\n<p><code>(?&lt;=[^=])=(?=[^=])</code> matches an equal sign, but only if the character before is not an equal sign (<code>(?&lt;=[^=])</code> positive lookbehind) as well as if the next character is also not an equal sign (<code>(?=[^=])</code> positive lookahead)</p>\n"}],"owner":{"account_id":15911846,"reputation":383,"user_id":11481590,"display_name":"David"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71542121,"answer_count":1,"score":1,"last_activity_date":1647724210,"creation_date":1647722874,"question_id":71541947,"body_markdown":"**Input**\r\n\r\n`age=10 and address=&#39;a==c=d&#39; and age==100 and abc = 22`\r\n\r\n**Expected**\r\n\r\n`age = 10 and address=&#39;a==c=d&#39; and age==100 and abc  =  22`  \r\n\r\n**Explanation:**\r\n\r\n`age = 10` now has space, `age==100` remains unchanged, `abc = 22` becomes `abc  =  22`, content inside single quotes is not changed\r\n\r\nHave similar regular expressions that work for other symbols:\r\nFor example ,the below expressions replace `&lt;` but not `&lt;=` that is not in a single quote\r\n\r\n\r\n```\r\n        joined = joined.replaceAll(&quot;&lt;(?![=])(?=(?:[^\\\\\\&#39;]*\\\\\\&#39;[^\\\\\\&#39;]*\\\\\\&#39;)*[^\\\\\\&#39;]*$)&quot;, &quot; &lt; &quot;);\r\n        joined = joined.replaceAll(&quot;&gt;(?![=])(?=(?:[^\\\\\\&#39;]*\\\\\\&#39;[^\\\\\\&#39;]*\\\\\\&#39;)*[^\\\\\\&#39;]*$)&quot;, &quot; &gt; &quot;);\r\n        #example: age  &lt;=  10 and address=&#39;&lt;==c&lt;d&#39; and age==100 age   &lt;    2\r\n\r\n```\r\nGetting undesired result when using the same pattern for &#39;=&#39;\r\n\r\nE.g. Applying `=(?![=])(?=(?:[^\\&#39;]*\\&#39;[^\\&#39;]*\\&#39;)*[^\\&#39;]*$)`\r\n\r\non this string -&gt; ```age = 10 and address=&#39;a==c=d&#39; and age==100``` , the `==` is also matched\r\n\r\nMay check the result in \r\n[regex101][1]\r\n\r\n\r\n\r\n  [1]: https://regex101.com/\r\n\r\nAttempted different combinations\r\nthe closest I can get so far is \r\n`\\b(\\s+)?={1}(\\s+)?\\b` \r\nthis matches `=` exactly one time with optional `space` on the sides.\r\n However it targets `=` inside single quotes as well, which is not wanted.\r\n\r\n","title":"Replace all &quot;=&quot; but not &quot;==&quot; that are not in single quotes with regular expression in Java","body":"<p><strong>Input</strong></p>\n<p><code>age=10 and address='a==c=d' and age==100 and abc = 22</code></p>\n<p><strong>Expected</strong></p>\n<p><code>age = 10 and address='a==c=d' and age==100 and abc  =  22</code></p>\n<p><strong>Explanation:</strong></p>\n<p><code>age = 10</code> now has space, <code>age==100</code> remains unchanged, <code>abc = 22</code> becomes <code>abc  =  22</code>, content inside single quotes is not changed</p>\n<p>Have similar regular expressions that work for other symbols:\nFor example ,the below expressions replace <code>&lt;</code> but not <code>&lt;=</code> that is not in a single quote</p>\n<pre><code>        joined = joined.replaceAll(&quot;&lt;(?![=])(?=(?:[^\\\\\\']*\\\\\\'[^\\\\\\']*\\\\\\')*[^\\\\\\']*$)&quot;, &quot; &lt; &quot;);\n        joined = joined.replaceAll(&quot;&gt;(?![=])(?=(?:[^\\\\\\']*\\\\\\'[^\\\\\\']*\\\\\\')*[^\\\\\\']*$)&quot;, &quot; &gt; &quot;);\n        #example: age  &lt;=  10 and address='&lt;==c&lt;d' and age==100 age   &lt;    2\n\n</code></pre>\n<p>Getting undesired result when using the same pattern for '='</p>\n<p>E.g. Applying <code>=(?![=])(?=(?:[^\\']*\\'[^\\']*\\')*[^\\']*$)</code></p>\n<p>on this string -&gt; <code>age = 10 and address='a==c=d' and age==100</code> , the <code>==</code> is also matched</p>\n<p>May check the result in\n<a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">regex101</a></p>\n<p>Attempted different combinations\nthe closest I can get so far is\n<code>\\b(\\s+)?={1}(\\s+)?\\b</code>\nthis matches <code>=</code> exactly one time with optional <code>space</code> on the sides.\nHowever it targets <code>=</code> inside single quotes as well, which is not wanted.</p>\n"},{"tags":["java","android","math","geometry"],"comments":[{"owner":{"account_id":4946278,"reputation":2015,"user_id":3981536,"display_name":"Jos"},"score":0,"creation_date":1464980378,"post_id":37621620,"comment_id":62725830,"body_markdown":"try y=mx + c formule","body":"try y=mx + c formule"},{"owner":{"account_id":189621,"reputation":39951,"user_id":429063,"display_name":"Chris Stratton"},"score":1,"creation_date":1464980429,"post_id":37621620,"comment_id":62725852,"body_markdown":"This is really a high-school geometry algorithms question, not a Java question.  Calculate the overall length, then calculate the intermediate point as a fraction of it - proportionality says once you have the length on the diagonal then you can use fractions on the axis differences independently, rather than the diagonal.","body":"This is really a high-school geometry algorithms question, not a Java question.  Calculate the overall length, then calculate the intermediate point as a fraction of it - proportionality says once you have the length on the diagonal then you can use fractions on the axis differences independently, rather than the diagonal."},{"owner":{"account_id":381171,"reputation":546,"user_id":735688,"accept_rate":72,"display_name":"Renjith"},"score":0,"creation_date":1464980435,"post_id":37621620,"comment_id":62725855,"body_markdown":"i am so weak with mathematics. Can you explain a bit more?","body":"i am so weak with mathematics. Can you explain a bit more?"},{"owner":{"account_id":435799,"reputation":22985,"user_id":822588,"accept_rate":94,"display_name":"Sleiman Jneidi"},"score":0,"creation_date":1464980439,"post_id":37621620,"comment_id":62725858,"body_markdown":"What do you mean some distance? Any point on the segment?","body":"What do you mean some distance? Any point on the segment?"},{"owner":{"account_id":381171,"reputation":546,"user_id":735688,"accept_rate":72,"display_name":"Renjith"},"score":0,"creation_date":1464980476,"post_id":37621620,"comment_id":62725881,"body_markdown":"@SleimanJneidi yes","body":"@SleimanJneidi yes"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1464980879,"post_id":37621620,"comment_id":62726067,"body_markdown":"The midpoint formula would give you the center of the points. The distance formula gives you the distance. Since you have the distance, you can rework some variables and fractions around to get any point.","body":"The midpoint formula would give you the center of the points. The distance formula gives you the distance. Since you have the distance, you can rework some variables and fractions around to get any point."}],"answers":[{"tags":[],"owner":{"account_id":1884636,"reputation":784,"user_id":1704104,"display_name":"Bruno Negr&#227;o Zica"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464982949,"creation_date":1464981028,"answer_id":37621799,"question_id":37621620,"body_markdown":"Imagine the two points define two rectangle triangles. The bigger triangle has sides with sizes x1, y1. the smaller has sides of sizes xt, yt.\r\n \r\n1) Now apply [Pythagoras&#39; Theorem][1] two calculate the bigger hypotenuse, h, using the equation h^2 = x1^2 + y1^2;  (where h^2 means h power of two)\r\n\r\n2) the difference ( h - the distance) is the hypotenuse of the smaller triangle. let&#39;s call it ht.\r\n\r\n3) Calculate xt and yt as directly proportional to hypot bigger/hypot smaller.\r\nx1/xt = h/ht \r\ny1/yt = h/ht\r\n\r\n\r\n  [1]: http://www.cimt.plymouth.ac.uk/projects/mepres/book8/bk8i3/bk8_3i2.htm","title":"How to find a point in a line in java?","body":"<p>Imagine the two points define two rectangle triangles. The bigger triangle has sides with sizes x1, y1. the smaller has sides of sizes xt, yt.</p>\n\n<p>1) Now apply <a href=\"http://www.cimt.plymouth.ac.uk/projects/mepres/book8/bk8i3/bk8_3i2.htm\" rel=\"nofollow\">Pythagoras' Theorem</a> two calculate the bigger hypotenuse, h, using the equation h^2 = x1^2 + y1^2;  (where h^2 means h power of two)</p>\n\n<p>2) the difference ( h - the distance) is the hypotenuse of the smaller triangle. let's call it ht.</p>\n\n<p>3) Calculate xt and yt as directly proportional to hypot bigger/hypot smaller.\nx1/xt = h/ht \ny1/yt = h/ht</p>\n"},{"tags":[],"owner":{"display_name":"user3235832"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1464982892,"creation_date":1464982892,"answer_id":37622217,"question_id":37621620,"body_markdown":"For a line between \r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe point at distance `d` from the _first_ point, (positive) in the direction of the _second_ point, is given by:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nWhere `L` is the distance between the two points defining the line:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n(For your case just take `L - d` instead of `d`)\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/EIDCZ.png\r\n  [2]: http://i.stack.imgur.com/QhwPo.png\r\n  [3]: http://i.stack.imgur.com/AlsdR.png","title":"How to find a point in a line in java?","body":"<p>For a line between </p>\n\n<p><a href=\"https://i.stack.imgur.com/EIDCZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EIDCZ.png\" alt=\"enter image description here\"></a></p>\n\n<p>The point at distance <code>d</code> from the <em>first</em> point, (positive) in the direction of the <em>second</em> point, is given by:</p>\n\n<p><a href=\"https://i.stack.imgur.com/QhwPo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QhwPo.png\" alt=\"enter image description here\"></a></p>\n\n<p>Where <code>L</code> is the distance between the two points defining the line:</p>\n\n<p><a href=\"https://i.stack.imgur.com/AlsdR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AlsdR.png\" alt=\"enter image description here\"></a></p>\n\n<p>(For your case just take <code>L - d</code> instead of <code>d</code>)</p>\n"},{"tags":[],"owner":{"account_id":7720184,"reputation":39,"user_id":5846651,"display_name":"Ali Seify"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647724179,"creation_date":1647724179,"answer_id":71542115,"question_id":37621620,"body_markdown":"    /* I used user3235832 formula and write this code and its solve my problem.\r\n    Code in java.\r\n    sourcePoint(x,y);\r\n    destinationPoint(w,h);*/\r\n    //--------------------------------------------------------------------\r\n    double l = Math.sqrt(Math.pow((w - x), 2) + Math.pow((h - y), 2));\r\n    double d = l / 10;//you can use your own value for d.\r\n    int newX = (int) (w + (((x - w) / (l) * d)));\r\n    int newy = (int) (h + (((y - h) / (l) * d)));\r\n    //--------------------------------------------------------------------\r\n    /* if you use like me Graphic2D and use g2d.fillOval() function for draw a oval \r\n    on the line you need line slop. code for this: */\r\n    double m = Double.POSITIVE_INFINITY;//line slop\r\n    if (w - x != 0) {\r\n        m = (h - y) / (w - x);\r\n    }\r\n    int r = 6;//size of Oval\r\n    if (m == 0) {\r\n        g2d.fillOval(newX, (newy - (r/2)), r, r);\r\n    } else if (m == Double.POSITIVE_INFINITY) {\r\n        g2d.fillOval((newX - (r/2)), newy, r, r);\r\n    } else if (m &lt; 0) {\r\n        g2d.fillOval((newX - (r/2)), (newy - (r/2)), r, r);\r\n    } else {\r\n        g2d.fillOval(newX, newy, r, r);\r\n    }","title":"How to find a point in a line in java?","body":"<pre><code>/* I used user3235832 formula and write this code and its solve my problem.\nCode in java.\nsourcePoint(x,y);\ndestinationPoint(w,h);*/\n//--------------------------------------------------------------------\ndouble l = Math.sqrt(Math.pow((w - x), 2) + Math.pow((h - y), 2));\ndouble d = l / 10;//you can use your own value for d.\nint newX = (int) (w + (((x - w) / (l) * d)));\nint newy = (int) (h + (((y - h) / (l) * d)));\n//--------------------------------------------------------------------\n/* if you use like me Graphic2D and use g2d.fillOval() function for draw a oval \non the line you need line slop. code for this: */\ndouble m = Double.POSITIVE_INFINITY;//line slop\nif (w - x != 0) {\n    m = (h - y) / (w - x);\n}\nint r = 6;//size of Oval\nif (m == 0) {\n    g2d.fillOval(newX, (newy - (r/2)), r, r);\n} else if (m == Double.POSITIVE_INFINITY) {\n    g2d.fillOval((newX - (r/2)), newy, r, r);\n} else if (m &lt; 0) {\n    g2d.fillOval((newX - (r/2)), (newy - (r/2)), r, r);\n} else {\n    g2d.fillOval(newX, newy, r, r);\n}\n</code></pre>\n"}],"owner":{"account_id":381171,"reputation":546,"user_id":735688,"accept_rate":72,"display_name":"Renjith"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1980,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":37622217,"answer_count":3,"score":1,"last_activity_date":1647724179,"creation_date":1464980258,"question_id":37621620,"body_markdown":"I am trying to do some experiments with path. I have two points (x0,y0) and (x2,y2). Now I have to find a point (x1,y1) that should be some distance from the final point (x2,y2). \r\n\r\nFor example  \r\nStart Point (0,0) End Point (0,5)  \r\nPoint i want to find is (0,2)  \r\n\r\n[![enter image description here][1]][1] \r\n\r\n\r\n  [1]: http://i.stack.imgur.com/reCXj.png","title":"How to find a point in a line in java?","body":"<p>I am trying to do some experiments with path. I have two points (x0,y0) and (x2,y2). Now I have to find a point (x1,y1) that should be some distance from the final point (x2,y2). </p>\n\n<p>For example<br>\nStart Point (0,0) End Point (0,5)<br>\nPoint i want to find is (0,2)  </p>\n\n<p><a href=\"https://i.stack.imgur.com/reCXj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/reCXj.png\" alt=\"enter image description here\"></a> </p>\n"},{"tags":["java","string","g1gc"],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647723774,"creation_date":1647723774,"answer_id":71542074,"question_id":71541782,"body_markdown":"String interning happens only for constant strings and strings that you manually intern.\r\n\r\nString deduplication happens automatically in the background for all strings, including ones you create at runtime.","title":"In what way String Deduplication is different from String interning","body":"<p>String interning happens only for constant strings and strings that you manually intern.</p>\n<p>String deduplication happens automatically in the background for all strings, including ones you create at runtime.</p>\n"}],"owner":{"account_id":14401011,"reputation":43,"user_id":10402659,"display_name":"Aravind Sundarraj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71542074,"answer_count":1,"score":0,"last_activity_date":1647723774,"creation_date":1647721596,"question_id":71541782,"body_markdown":"As we know In Java String, process of storing and maintaining only one literal of any String is String interning.\r\nI felt String  Deduplication serves the same purpose when I read it first time.\r\n\r\ncould some one explain Deduplication advantage over String intern?","title":"In what way String Deduplication is different from String interning","body":"<p>As we know In Java String, process of storing and maintaining only one literal of any String is String interning.\nI felt String  Deduplication serves the same purpose when I read it first time.</p>\n<p>could some one explain Deduplication advantage over String intern?</p>\n"},{"tags":["java","jackson","mapstruct"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":1,"creation_date":1647272006,"post_id":71470290,"comment_id":126323680,"body_markdown":"You mean `objectMapper.convertValue(a, new TypeReference&lt;Map&lt;String, Object&gt;&gt;(){};`? That assumes you have your getters, though.","body":"You mean <code>objectMapper.convertValue(a, new TypeReference&lt;Map&lt;String, Object&gt;&gt;(){};</code>? That assumes you have your getters, though."},{"owner":{"account_id":20640642,"reputation":1,"user_id":15153397,"display_name":"eQualo"},"score":0,"creation_date":1647272277,"post_id":71470290,"comment_id":126323793,"body_markdown":"@ernest_k thanks, but I`ve tried this also. \nAnd if I have some custom class like B {String name; Integer age;}\nAnd A-class has B-class as a field class A { ...... B bField;}\nThe result map wont have B class as value by &quot;bField&quot; key;\nIt has LinkedHashMap and all values of B are Strings\nHope I described it clear :-)","body":"@ernest_k thanks, but I`ve tried this also.  And if I have some custom class like B {String name; Integer age;} And A-class has B-class as a field class A { ...... B bField;} The result map wont have B class as value by &quot;bField&quot; key; It has LinkedHashMap and all values of B are Strings Hope I described it clear :-)"},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1647272372,"post_id":71470290,"comment_id":126323834,"body_markdown":"Did you notice that my code is different from yours? If that doesn&#39;t yield the desired output, please include the details.","body":"Did you notice that my code is different from yours? If that doesn&#39;t yield the desired output, please include the details."},{"owner":{"account_id":20640642,"reputation":1,"user_id":15153397,"display_name":"eQualo"},"score":0,"creation_date":1647272654,"post_id":71470290,"comment_id":126323940,"body_markdown":"@ernest_k sorry. I edit my first comment. Also if i have a List&lt;B&gt; as a field i get an ArrayList of LinkedHashMaps. I dont get List&lt;B&gt; if i call map.get(&quot;bList&quot;);","body":"@ernest_k sorry. I edit my first comment. Also if i have a List&lt;B&gt; as a field i get an ArrayList of LinkedHashMaps. I dont get List&lt;B&gt; if i call map.get(&quot;bList&quot;);"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1647283903,"post_id":71470290,"comment_id":126328059,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":14179476,"reputation":2663,"user_id":10243634,"display_name":"Oboe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647723750,"creation_date":1647723750,"answer_id":71542069,"question_id":71470290,"body_markdown":"You can achieve that with some `ObjectMapper` configurations.\r\n\r\n - For deserialization of polymorphic types, you can activate\r\n   `DefaultTyping`. Use `LaissezFaireSubTypeValidator` for the\r\n   `PolymorphicTypeValidator` parameter to allow all subtypes.\r\n - If your classes have no public getters and setters, you can set\r\n   `Visibility` to `ANY` to make all fields serializable without\r\n   annotations (make sure your classes have empty constructors).\r\n\r\nSummarizing everything:\r\n\r\n    ObjectMapper mapper = new ObjectMapper()\r\n                .activateDefaultTyping(\r\n                        new LaissezFaireSubTypeValidator(), \r\n                        ObjectMapper.DefaultTyping.NON_FINAL, As.PROPERTY)\r\n                .setVisibility(PropertyAccessor.FIELD, Visibility.ANY);\r\n\r\n    A obj = new A();\r\n\r\n    String json = mapper.writerWithDefaultPrettyPrinter().writeValueAsString(obj);\r\n\r\n    A objDeserilized = mapper.readValue(json, A.class);\r\n\r\n\r\n","title":"Java field name to field value map","body":"<p>You can achieve that with some <code>ObjectMapper</code> configurations.</p>\n<ul>\n<li>For deserialization of polymorphic types, you can activate\n<code>DefaultTyping</code>. Use <code>LaissezFaireSubTypeValidator</code> for the\n<code>PolymorphicTypeValidator</code> parameter to allow all subtypes.</li>\n<li>If your classes have no public getters and setters, you can set\n<code>Visibility</code> to <code>ANY</code> to make all fields serializable without\nannotations (make sure your classes have empty constructors).</li>\n</ul>\n<p>Summarizing everything:</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper()\n            .activateDefaultTyping(\n                    new LaissezFaireSubTypeValidator(), \n                    ObjectMapper.DefaultTyping.NON_FINAL, As.PROPERTY)\n            .setVisibility(PropertyAccessor.FIELD, Visibility.ANY);\n\nA obj = new A();\n\nString json = mapper.writerWithDefaultPrettyPrinter().writeValueAsString(obj);\n\nA objDeserilized = mapper.readValue(json, A.class);\n</code></pre>\n"}],"owner":{"account_id":20640642,"reputation":1,"user_id":15153397,"display_name":"eQualo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":856,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647723750,"creation_date":1647271805,"question_id":71470290,"body_markdown":"Is it possible to get `Map&lt;String,Object&gt;` where key is field name in java class and value is this field value with any known libraries (jackson, mapstruct, etc..)?\r\nI mean if i have class A like\r\n\r\n    class A {\r\n        String a;\r\n        Integer b;\r\n        List&lt;SomeClass&gt; c;\r\n    }\r\n\r\nI want map m&lt;String,Object&gt; like \r\n\r\n    m.put(&quot;a&quot;, a.a);\r\n    m.put(&quot;b&quot;, a.b);\r\n    m.put(&quot;c&quot;, a.c);\r\n\r\nI&#39;ve tried (and successfully) do it with reflection like for Field in declaredFields()...\r\n\r\nBut I&#39;m recommended to use any existing solution. Cant find any so far.\r\n\r\nThe best solution is something like Jackson\r\n\r\n```\r\nObjectMapper.convertValue(myObject, Map.class);\r\n```\r\nBut dont map everything to string.\r\n\r\n","title":"Java field name to field value map","body":"<p>Is it possible to get <code>Map&lt;String,Object&gt;</code> where key is field name in java class and value is this field value with any known libraries (jackson, mapstruct, etc..)?\nI mean if i have class A like</p>\n<pre><code>class A {\n    String a;\n    Integer b;\n    List&lt;SomeClass&gt; c;\n}\n</code></pre>\n<p>I want map m&lt;String,Object&gt; like</p>\n<pre><code>m.put(&quot;a&quot;, a.a);\nm.put(&quot;b&quot;, a.b);\nm.put(&quot;c&quot;, a.c);\n</code></pre>\n<p>I've tried (and successfully) do it with reflection like for Field in declaredFields()...</p>\n<p>But I'm recommended to use any existing solution. Cant find any so far.</p>\n<p>The best solution is something like Jackson</p>\n<pre><code>ObjectMapper.convertValue(myObject, Map.class);\n</code></pre>\n<p>But dont map everything to string.</p>\n"},{"tags":["java","jackson","java-11"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1647723804,"post_id":71542029,"comment_id":126444184,"body_markdown":"Parse JSON to (Hash)Map? `ObjectMapper#readValue`","body":"Parse JSON to (Hash)Map? <code>ObjectMapper#readValue</code>"},{"owner":{"account_id":1642711,"reputation":19842,"user_id":1514861,"accept_rate":86,"display_name":"Ivo"},"score":0,"creation_date":1647723868,"post_id":71542029,"comment_id":126444199,"body_markdown":"you don&#39;t need to necessarily create pojo objects. you can also just work with JSONObjects directly. Also, you can just create pojo objects for just the fields you need/want. Don&#39;t need to specify the entire response. It will just fill the fields you listed in your pojo and ignore the rest","body":"you don&#39;t need to necessarily create pojo objects. you can also just work with JSONObjects directly. Also, you can just create pojo objects for just the fields you need/want. Don&#39;t need to specify the entire response. It will just fill the fields you listed in your pojo and ignore the rest"},{"owner":{"account_id":10906097,"reputation":91,"user_id":8016819,"display_name":"oddnumberedcat"},"score":0,"creation_date":1647724828,"post_id":71542029,"comment_id":126444398,"body_markdown":"@knittl how do I do that in the context of .thenApply?  Or should I do it outside of .thenApply?","body":"@knittl how do I do that in the context of .thenApply?  Or should I do it outside of .thenApply?"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1647726467,"post_id":71542029,"comment_id":126444746,"body_markdown":"@oddnumberedcat `thenApply` (likely to be defined in `CompletableStage`/`CompletableFuture`) expects a `Function&lt;T, R&gt;`, in your case that would be a `Function&lt;String, Map&lt;String, Object&gt;&gt;` (or `Function&lt;byte[], Map&lt;String, Object&gt;&gt;`). This can be expressed as a lambda, e.g. `.thenApply(body -&gt; objectMapper.readValue(body, new TypeReference&lt;Map&lt;String, Object&gt;&gt;{}))`.","body":"@oddnumberedcat <code>thenApply</code> (likely to be defined in <code>CompletableStage</code>/<code>CompletableFuture</code>) expects a <code>Function&lt;T, R&gt;</code>, in your case that would be a <code>Function&lt;String, Map&lt;String, Object&gt;&gt;</code> (or <code>Function&lt;byte[], Map&lt;String, Object&gt;&gt;</code>). This can be expressed as a lambda, e.g. <code>.thenApply(body -&gt; objectMapper.readValue(body, new TypeReference&lt;Map&lt;String, Object&gt;&gt;{}))</code>."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1647728291,"post_id":71542029,"comment_id":126445079,"body_markdown":"The use of `sendAsync` and CompletableFuture needlessly complicates this.  Just use `String body = client.send(request, HttpResponse.BodyHandlers.ofString()).body();`.","body":"The use of <code>sendAsync</code> and CompletableFuture needlessly complicates this.  Just use <code>String body = client.send(request, HttpResponse.BodyHandlers.ofString()).body();</code>."}],"owner":{"account_id":10906097,"reputation":91,"user_id":8016819,"display_name":"oddnumberedcat"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1256,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647723507,"creation_date":1647723507,"question_id":71542029,"body_markdown":"I am new to Java. I am trying to hit an external API and am a little lost of how I translate the response back to a hashmap. All the examples I see online for interacting with APIs assume you want it back as a string or have an existing POJO you want to map things back to. I literally just care about extracting values in the response. In the below example, I am trying to extract out the access token from an API (and, later, in methods I haven&#39;t defined yet, use said access token to retrieve information from different endpoints).\r\n\r\nI&#39;m not wedded to Java 11&#39;s built-in library, either, if there is a library that requires less boilerplate.\r\n\r\nI&#39;m a little surprised none of my Googling has surfaced examples of API consumption where a hashmap is returned... Is converting into a self-defined POJO standard for Java? Feels like a lot of unnecessary boilerplate when I don&#39;t care about a lot of the JSON&#39;s fields.\r\n\r\n(Also, if there is anything else wrong with this snippet, I&#39;m open to suggestions!)\r\n\r\n```\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\nimport java.net.URI;\r\nimport java.net.http.HttpClient;\r\nimport java.net.http.HttpRequest;\r\nimport java.net.http.HttpResponse;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport java.util.concurrent.CompletableFuture;\r\nimport java.util.concurrent.ExecutionException;\r\nimport java.util.concurrent.TimeUnit;\r\nimport java.util.concurrent.TimeoutException;\r\n\r\npublic class AlationApiClient {\r\n\r\n    private static final HttpClient client = HttpClient.newBuilder().build();\r\n    private static final String alationUrl = &quot;someUrl&quot;;\r\n    private String refreshToken;\r\n    private Integer userId;\r\n    private String accessToken;\r\n\r\n    public AlationApiClient(String refreshToken, Integer userId) {\r\n        this.refreshToken = refreshToken;\r\n        this.userId = userId;\r\n    }\r\n\r\n    private static String createRequestBody(Map&lt;String, Object&gt; data) throws JsonProcessingException {\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n        return objectMapper\r\n                .writerWithDefaultPrettyPrinter()\r\n                .writeValueAsString(data);\r\n    }\r\n\r\n    public Object getAccessToken(String refreshToken, Integer userId) throws JsonProcessingException {\r\n\r\n        String url = alationUrl + &quot;/integration/v1/createAPIAccessToken/&quot;;\r\n        Map&lt;String, Object&gt; data = Map.of(\r\n                &quot;refresh_token&quot;, this.refreshToken,\r\n                &quot;user_id&quot;, this.userId\r\n        );\r\n\r\n        String requestBody = createRequestBody(data);\r\n\r\n        HttpRequest request = HttpRequest.newBuilder(URI.create(url))\r\n                .POST(HttpRequest.BodyPublishers.ofString(requestBody))\r\n                .build();\r\n\r\n        return AlationApiClient.client.sendAsync(request, HttpResponse.BodyHandlers.ofString())\r\n                .thenApply(HttpResponse::body)\r\n                .thenApply(???) // what do I do here to put things into a hashmap??\r\n                .join();\r\n    }\r\n}\r\n```","title":"How do I return a hash map from HttpResponse?","body":"<p>I am new to Java. I am trying to hit an external API and am a little lost of how I translate the response back to a hashmap. All the examples I see online for interacting with APIs assume you want it back as a string or have an existing POJO you want to map things back to. I literally just care about extracting values in the response. In the below example, I am trying to extract out the access token from an API (and, later, in methods I haven't defined yet, use said access token to retrieve information from different endpoints).</p>\n<p>I'm not wedded to Java 11's built-in library, either, if there is a library that requires less boilerplate.</p>\n<p>I'm a little surprised none of my Googling has surfaced examples of API consumption where a hashmap is returned... Is converting into a self-defined POJO standard for Java? Feels like a lot of unnecessary boilerplate when I don't care about a lot of the JSON's fields.</p>\n<p>(Also, if there is anything else wrong with this snippet, I'm open to suggestions!)</p>\n<pre><code>import com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\nimport java.net.URI;\nimport java.net.http.HttpClient;\nimport java.net.http.HttpRequest;\nimport java.net.http.HttpResponse;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.concurrent.CompletableFuture;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.TimeUnit;\nimport java.util.concurrent.TimeoutException;\n\npublic class AlationApiClient {\n\n    private static final HttpClient client = HttpClient.newBuilder().build();\n    private static final String alationUrl = &quot;someUrl&quot;;\n    private String refreshToken;\n    private Integer userId;\n    private String accessToken;\n\n    public AlationApiClient(String refreshToken, Integer userId) {\n        this.refreshToken = refreshToken;\n        this.userId = userId;\n    }\n\n    private static String createRequestBody(Map&lt;String, Object&gt; data) throws JsonProcessingException {\n        ObjectMapper objectMapper = new ObjectMapper();\n\n        return objectMapper\n                .writerWithDefaultPrettyPrinter()\n                .writeValueAsString(data);\n    }\n\n    public Object getAccessToken(String refreshToken, Integer userId) throws JsonProcessingException {\n\n        String url = alationUrl + &quot;/integration/v1/createAPIAccessToken/&quot;;\n        Map&lt;String, Object&gt; data = Map.of(\n                &quot;refresh_token&quot;, this.refreshToken,\n                &quot;user_id&quot;, this.userId\n        );\n\n        String requestBody = createRequestBody(data);\n\n        HttpRequest request = HttpRequest.newBuilder(URI.create(url))\n                .POST(HttpRequest.BodyPublishers.ofString(requestBody))\n                .build();\n\n        return AlationApiClient.client.sendAsync(request, HttpResponse.BodyHandlers.ofString())\n                .thenApply(HttpResponse::body)\n                .thenApply(???) // what do I do here to put things into a hashmap??\n                .join();\n    }\n}\n</code></pre>\n"},{"tags":["java","nested","switch-statement"],"answers":[{"tags":[],"owner":{"account_id":21168786,"reputation":76,"user_id":15565539,"display_name":"Oli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647723317,"creation_date":1647723317,"answer_id":71542007,"question_id":71539917,"body_markdown":"You should think about a better data structure to handle this logic. This gets unhandable the more layers you add. Here is a simple idea how separate logic from representation:\r\n\r\nQuestion-Class\r\n- has a Question-String\r\n- has a Map&lt;String, Question&gt;: String is an answer and Question is the following Question for this given answer\r\n\r\nSo this ends up in a tree structure.\r\n\r\nRepresentation Layer:\r\nThe textfield and the buttons only show informations related to the selected question. They don&#39;t handle any logic.\r\nYour textfield shows the Question-String.\r\nYour buttons show the answers in the list one by one.","title":"Buttons cannot be clicked inside nested switch case","body":"<p>You should think about a better data structure to handle this logic. This gets unhandable the more layers you add. Here is a simple idea how separate logic from representation:</p>\n<p>Question-Class</p>\n<ul>\n<li>has a Question-String</li>\n<li>has a Map&lt;String, Question&gt;: String is an answer and Question is the following Question for this given answer</li>\n</ul>\n<p>So this ends up in a tree structure.</p>\n<p>Representation Layer:\nThe textfield and the buttons only show informations related to the selected question. They don't handle any logic.\nYour textfield shows the Question-String.\nYour buttons show the answers in the list one by one.</p>\n"}],"owner":{"display_name":"user18321517"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647723317,"creation_date":1647706889,"question_id":71539917,"body_markdown":"I have this situation where I have to use 3 buttons multiple times like:\r\n\r\n&quot;Where are you from&quot; and the choices are: button1, button2, button3. if button 1 is picked then there will be a new question, using the same buttons, but with different texts. If button 2 is picked then there will be a different question and so on.\r\n\r\nThere will be layers for this so buttons will change 64 times. I am struggling with the logic for the 3rd layer.\r\n\r\nI created codes for the branch of button1:\r\n\r\n    text.setText(&quot;Where are you from?&quot;); //this is the 1st layer\r\n            btn1.setText(&quot;Asia&quot;)\r\n            btn2.setText(&quot;Europe&quot;)\r\n            btn3.setText(&quot;North America&quot;)\r\n    case R.id.button:\r\n            branch = 1;\r\n            if (branch == 1) //this is the 2nd layer\r\n            choice = &quot;Where in Asia are you from?&quot;\r\n            text.setText(choice);\r\n            btn1.setText(&quot;East Asia&quot;);\r\n            btn2.setText(&quot;Southeast Asia&quot;);\r\n            btn3.setText(&quot;Northeast Asia&quot;);\r\n            break;  \r\n            }\r\n    switch (view.getId()) {\r\n            case R.id.button:\r\n            choice = &quot;Where in East Asia?&quot; //this is the third layer\r\n            text.setText(choice);\r\n            btn1.setText(&quot;insert country&quot;);\r\n            btn2.setText(&quot;insert country 2&quot;);\r\n            btn3.setText(&quot;insert country 3&quot;);\r\n            break;\r\n    \r\n            case R.id.button2:\r\n            choice = &quot;Where in Southeast Asia&quot;; //this is the third layer\r\n            text.setText(choice);\r\n            btn1.setText(&quot;insert country&quot;);\r\n            btn2.setText(&quot;insert country 2&quot;);\r\n            btn3.setText(&quot;insert country 3&quot;);\r\n            break;\r\n    \r\n            case R.id.button3:\r\n            choice = &quot;Where in Northeast Asia?&quot;; //this is the third layer\r\n            text.setText(choice);\r\n            btn1.setText(&quot;insert country&quot;);\r\n            btn2.setText(&quot;insert country 2&quot;);\r\n            btn3.setText(&quot;insert country 3&quot;);\r\n            break;\r\n\r\nthe branch for where in east Asia? where in southeast Asia? where in northeast Asia? does not appear when I run it. Both textview and buttons cannot be seen for the third layer (When button is clicked in layer 2, it stays in layer 2)","title":"Buttons cannot be clicked inside nested switch case","body":"<p>I have this situation where I have to use 3 buttons multiple times like:</p>\n<p>&quot;Where are you from&quot; and the choices are: button1, button2, button3. if button 1 is picked then there will be a new question, using the same buttons, but with different texts. If button 2 is picked then there will be a different question and so on.</p>\n<p>There will be layers for this so buttons will change 64 times. I am struggling with the logic for the 3rd layer.</p>\n<p>I created codes for the branch of button1:</p>\n<pre><code>text.setText(&quot;Where are you from?&quot;); //this is the 1st layer\n        btn1.setText(&quot;Asia&quot;)\n        btn2.setText(&quot;Europe&quot;)\n        btn3.setText(&quot;North America&quot;)\ncase R.id.button:\n        branch = 1;\n        if (branch == 1) //this is the 2nd layer\n        choice = &quot;Where in Asia are you from?&quot;\n        text.setText(choice);\n        btn1.setText(&quot;East Asia&quot;);\n        btn2.setText(&quot;Southeast Asia&quot;);\n        btn3.setText(&quot;Northeast Asia&quot;);\n        break;  \n        }\nswitch (view.getId()) {\n        case R.id.button:\n        choice = &quot;Where in East Asia?&quot; //this is the third layer\n        text.setText(choice);\n        btn1.setText(&quot;insert country&quot;);\n        btn2.setText(&quot;insert country 2&quot;);\n        btn3.setText(&quot;insert country 3&quot;);\n        break;\n\n        case R.id.button2:\n        choice = &quot;Where in Southeast Asia&quot;; //this is the third layer\n        text.setText(choice);\n        btn1.setText(&quot;insert country&quot;);\n        btn2.setText(&quot;insert country 2&quot;);\n        btn3.setText(&quot;insert country 3&quot;);\n        break;\n\n        case R.id.button3:\n        choice = &quot;Where in Northeast Asia?&quot;; //this is the third layer\n        text.setText(choice);\n        btn1.setText(&quot;insert country&quot;);\n        btn2.setText(&quot;insert country 2&quot;);\n        btn3.setText(&quot;insert country 3&quot;);\n        break;\n</code></pre>\n<p>the branch for where in east Asia? where in southeast Asia? where in northeast Asia? does not appear when I run it. Both textview and buttons cannot be seen for the third layer (When button is clicked in layer 2, it stays in layer 2)</p>\n"},{"tags":["java","javafx","vertical-alignment","vbox"],"answers":[{"tags":[],"owner":{"account_id":2269593,"reputation":43907,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1588268641,"creation_date":1480496568,"answer_id":40884079,"question_id":40883858,"body_markdown":"What you could do is to add &quot;*spacers*&quot; before and after each label that will always grow or shrink according to the available space thanks to [`VBox.setVgrow(Node child, Priority value)`][1] with [`Priority.ALWAYS`][2] as priority value.\r\n\r\nHere is the method that create a &quot;*spacer*&quot;\r\n\r\n    private Node createSpacer() {\r\n        final Region spacer = new Region();\r\n        // Make it always grow or shrink according to the available space\r\n        VBox.setVgrow(spacer, Priority.ALWAYS);\r\n        return spacer;\r\n    }\r\n\r\nThen your code will be:\r\n\r\n    VBox getTextFields()\r\n    {\r\n        VBox pane = new VBox();\r\n        pane.setPadding(new Insets(10,10,10,10));\r\n        TextField tf[]=new TextField[9];\r\n        // Add first spacer\r\n        pane.getChildren().add(createSpacer());\r\n        for(int i=0;i&lt;tf.length;i++)\r\n        {\r\n            tf[i] = new TextField(&quot;Display Line &quot;+(i+1));\r\n            pane.getChildren().add(tf[i]);\r\n            // Add a spacer after the label\r\n            pane.getChildren().add(createSpacer());\r\n        }\r\n        pane.setAlignment(Pos.CENTER_RIGHT);\r\n        return pane;\r\n    }\r\n\r\nAbout the second part of your question related to the fact that you want to align the labels *labX* with *Display Line X*, the simplest way would be to put all the labels that should be in the same row in a common `HBox` seperated with &quot;*spacers*&quot; as described above \r\n\r\n  [1]: https://docs.oracle.com/javase/8/javafx/api/javafx/scene/layout/VBox.html#setVgrow-javafx.scene.Node-javafx.scene.layout.Priority-\r\n  [2]: https://docs.oracle.com/javase/8/javafx/api/javafx/scene/layout/Priority.html#ALWAYS","title":"how to evenly distribute elements of a JavaFX VBox","body":"<p>What you could do is to add \"<em>spacers</em>\" before and after each label that will always grow or shrink according to the available space thanks to <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/layout/VBox.html#setVgrow-javafx.scene.Node-javafx.scene.layout.Priority-\" rel=\"noreferrer\"><code>VBox.setVgrow(Node child, Priority value)</code></a> with <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/layout/Priority.html#ALWAYS\" rel=\"noreferrer\"><code>Priority.ALWAYS</code></a> as priority value.</p>\n\n<p>Here is the method that create a \"<em>spacer</em>\"</p>\n\n<pre><code>private Node createSpacer() {\n    final Region spacer = new Region();\n    // Make it always grow or shrink according to the available space\n    VBox.setVgrow(spacer, Priority.ALWAYS);\n    return spacer;\n}\n</code></pre>\n\n<p>Then your code will be:</p>\n\n<pre><code>VBox getTextFields()\n{\n    VBox pane = new VBox();\n    pane.setPadding(new Insets(10,10,10,10));\n    TextField tf[]=new TextField[9];\n    // Add first spacer\n    pane.getChildren().add(createSpacer());\n    for(int i=0;i&lt;tf.length;i++)\n    {\n        tf[i] = new TextField(\"Display Line \"+(i+1));\n        pane.getChildren().add(tf[i]);\n        // Add a spacer after the label\n        pane.getChildren().add(createSpacer());\n    }\n    pane.setAlignment(Pos.CENTER_RIGHT);\n    return pane;\n}\n</code></pre>\n\n<p>About the second part of your question related to the fact that you want to align the labels <em>labX</em> with <em>Display Line X</em>, the simplest way would be to put all the labels that should be in the same row in a common <code>HBox</code> seperated with \"<em>spacers</em>\" as described above </p>\n"},{"tags":[],"owner":{"account_id":20898872,"reputation":733,"user_id":15352409,"display_name":"Kochez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647723183,"creation_date":1647723183,"answer_id":71541987,"question_id":40883858,"body_markdown":"I was personally looking for a VBOX and I figured a solution. \r\n\r\nFor a VBOX;\r\nSet your elements to a rigid width that means Pref, Max and Min Width are equal. Then, in between them, place panes. Only set the pref width of the panes to max possible reasonable width while the rest, max and min leave USE_COMPUTED_SIZE. The panes will grow and shrink depending on the available space, keeping the elements evenly spaced dynamically.","title":"how to evenly distribute elements of a JavaFX VBox","body":"<p>I was personally looking for a VBOX and I figured a solution.</p>\n<p>For a VBOX;\nSet your elements to a rigid width that means Pref, Max and Min Width are equal. Then, in between them, place panes. Only set the pref width of the panes to max possible reasonable width while the rest, max and min leave USE_COMPUTED_SIZE. The panes will grow and shrink depending on the available space, keeping the elements evenly spaced dynamically.</p>\n"}],"owner":{"account_id":3196435,"reputation":331,"user_id":2699523,"accept_rate":14,"display_name":"PoornaChandra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6831,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":2,"score":11,"last_activity_date":1647723183,"creation_date":1480495779,"question_id":40883858,"body_markdown":"Im working with a `VBox` and added three labels to it. The vertical space between the labels is set with `setSpacing()` method. But it is a fixed value, say `20`. if i change the value to `50`, the space will be increased. But it is hard coding.\r\n\r\nI want to know whether there is any pre-defined method that i can use so that the labels will be distributed evenly (based on the `VBox` height). if i resize the window, the labels (i mean, the space between the labels) should be adjusted so that they still are distributed evenly (with same space between any two labels).\r\n\r\nAs the `VBox` is set at left side of a `BorderPane`, i want &quot;*lab0*&quot; at &quot;*Display Line 1*&quot;, &quot;*lab1*&quot; at &quot;*Display Line 5*&quot; and &quot;*lab2*&quot; at &quot;*Display Line 9*&quot; (in terms of alignment). In case more `TextFields` are added, &quot;*lab2*&quot; should be at last &quot;*Display Line X*&quot;.\r\n\r\nmy code is here...please mark.\r\n\r\n\timport javafx.application.Application;\r\n\timport javafx.geometry.Insets;\r\n\timport javafx.geometry.Pos;\r\n\timport javafx.scene.Scene;\r\n\timport javafx.scene.control.Button;\r\n\timport javafx.scene.control.Label;\r\n\timport javafx.scene.control.RadioButton;\r\n\timport javafx.scene.control.TextField;\r\n\timport javafx.scene.control.ToggleGroup;\r\n\timport javafx.scene.paint.Color;\r\n\timport javafx.scene.shape.Circle;\r\n\timport javafx.scene.text.Font;\r\n\timport javafx.scene.layout.BorderPane;\r\n\timport javafx.scene.layout.FlowPane;\r\n\timport javafx.scene.layout.GridPane;\r\n\timport javafx.scene.layout.StackPane;\r\n\timport javafx.scene.layout.VBox;\r\n\timport javafx.scene.layout.HBox;\r\n\timport javafx.stage.Stage;\r\n\t\r\n\tpublic class MyJavaFx extends Application\r\n\t{\r\n\t\tpublic MyJavaFx()\r\n\t\t{\r\n\t\t}\r\n\t\t\t\r\n\t\tpublic void start(Stage primaryStage)\r\n\t\t{\r\n\t\t\tBorderPane pane = new BorderPane();\r\n\t\t\tpane.setTop(getRadioButtons());\r\n\t\t\tpane.setBottom(getPushButtons());\r\n\t\t\tpane.setLeft(getLeftLabels());\r\n\t\t\tpane.setRight(getRightLabels());\r\n\t\t\tpane.setCenter(getTextFields());\r\n\t\t\tScene scene=new Scene(pane,1000,800);\r\n\t\t\t\r\n\t\t\tprimaryStage.setTitle(&quot;Even&quot;);\r\n\t\t\tprimaryStage.setScene(scene);\r\n\t\t\tprimaryStage.show();\r\n\t\t}\r\n\t\t\r\n\t\tpublic static void main(String arg[])\r\n\t\t{\r\n\t\t\tApplication.launch(arg);\r\n\t\t}\r\n\t\t\r\n\t\tFlowPane getRadioButtons()\r\n\t\t{\r\n\t\t\tFlowPane pane = new FlowPane();\r\n\t\t\tpane.setPadding(new Insets(10,10,10,10));\r\n\t\t\tpane.setHgap(10);\r\n\t\t\tRadioButton rb[]=new RadioButton[3];\r\n\t\t\tToggleGroup radioGroup = new ToggleGroup();\r\n\t\t\tfor(int i=0;i&lt;rb.length;i++)\r\n\t\t\t{\r\n\t\t\t\trb[i] = new RadioButton(&quot;Flag &quot;+(i+1));\r\n\t\t\t\trb[i].setToggleGroup(radioGroup);\r\n\t\t\t\tpane.getChildren().add(rb[i]);\r\n\t\t\t}\r\n\t\t\trb[0].setSelected(true);\r\n\t\t\tpane.setAlignment(Pos.CENTER);\r\n\t\t\treturn pane;\r\n\t\t}\r\n\t\r\n\t\tFlowPane getPushButtons()\r\n\t\t{\r\n\t\t\tFlowPane pane = new FlowPane();\r\n\t\t\tpane.setPadding(new Insets(10,30,30,10));\r\n\t\t\tpane.setHgap(10);\r\n\t\t\tButton rb[]=new Button[3];\r\n\t\t\tfor(int i=0;i&lt;rb.length;i++)\r\n\t\t\t{\r\n\t\t\t\trb[i] = new Button(&quot;but&quot;+i);\r\n\t\t\t\tpane.getChildren().add(rb[i]);\r\n\t\t\t}\r\n\t\t\tpane.setAlignment(Pos.BOTTOM_RIGHT);\r\n\t\t\treturn pane;\r\n\t\t}\r\n\t\tVBox getLeftLabels()\r\n\t\t{\r\n\t\t\tVBox pane = new VBox();\r\n\t\t\tpane.setPadding(new Insets(10,10,10,10));\r\n\t\t\tpane.setSpacing(20);\r\n\t\t\tLabel ll[]=new Label[3];\r\n\t\t\tfor(int i=0;i&lt;ll.length;i++)\r\n\t\t\t{\r\n\t\t\t\tll[i] = new Label(&quot;lab&quot;+i);\r\n\t\t\t\tpane.getChildren().add(ll[i]);\r\n\t\t\t}\r\n\t\t\tll[0].setAlignment(Pos.TOP_LEFT);\r\n\t\t\tll[1].setAlignment(Pos.CENTER_LEFT);\r\n\t\t\tll[2].setAlignment(Pos.BOTTOM_LEFT);\r\n\t\t\tpane.setAlignment(Pos.CENTER_LEFT);\r\n\t\t\treturn pane;\r\n\t\t}\r\n\t\t\r\n\t\tVBox getRightLabels()\r\n\t\t{\r\n\t\t\tVBox pane = new VBox();\r\n\t\t\tpane.setPadding(new Insets(10,10,10,10));\r\n\t\t\tpane.setSpacing(20);\r\n\t\t\tLabel rb[]=new Label[3];\r\n\t\t\tfor(int i=0;i&lt;rb.length;i++)\r\n\t\t\t{\r\n\t\t\t\trb[i] = new Label(&quot;lab&quot;+i);\r\n\t\t\t\tpane.getChildren().add(rb[i]);\r\n\t\t\t}\r\n\t\t\tpane.setAlignment(Pos.CENTER_RIGHT);\r\n\t\t\treturn pane;\r\n\t\t}\r\n\t\r\n\t\tVBox getTextFields()\r\n\t\t{\r\n\t\t\tVBox pane = new VBox();\r\n\t\t\tpane.setPadding(new Insets(10,10,10,10));\r\n\t\t\tpane.setSpacing(2);\r\n\t\t\tTextField tf[]=new TextField[9];\r\n\t\t\tfor(int i=0;i&lt;tf.length;i++)\r\n\t\t\t{\r\n\t\t\t\ttf[i] = new TextField(&quot;Display Line &quot;+(i+1));\r\n\t\t\t\t\r\n\t\t\t\tpane.getChildren().add(tf[i]);\r\n\t\t\t}\r\n\t\t\tpane.setAlignment(Pos.CENTER_RIGHT);\r\n\t\t\treturn pane;\r\n\t\t}\r\n\t}","title":"how to evenly distribute elements of a JavaFX VBox","body":"<p>Im working with a <code>VBox</code> and added three labels to it. The vertical space between the labels is set with <code>setSpacing()</code> method. But it is a fixed value, say <code>20</code>. if i change the value to <code>50</code>, the space will be increased. But it is hard coding.</p>\n\n<p>I want to know whether there is any pre-defined method that i can use so that the labels will be distributed evenly (based on the <code>VBox</code> height). if i resize the window, the labels (i mean, the space between the labels) should be adjusted so that they still are distributed evenly (with same space between any two labels).</p>\n\n<p>As the <code>VBox</code> is set at left side of a <code>BorderPane</code>, i want \"<em>lab0</em>\" at \"<em>Display Line 1</em>\", \"<em>lab1</em>\" at \"<em>Display Line 5</em>\" and \"<em>lab2</em>\" at \"<em>Display Line 9</em>\" (in terms of alignment). In case more <code>TextFields</code> are added, \"<em>lab2</em>\" should be at last \"<em>Display Line X</em>\".</p>\n\n<p>my code is here...please mark.</p>\n\n<pre><code>import javafx.application.Application;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.RadioButton;\nimport javafx.scene.control.TextField;\nimport javafx.scene.control.ToggleGroup;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Circle;\nimport javafx.scene.text.Font;\nimport javafx.scene.layout.BorderPane;\nimport javafx.scene.layout.FlowPane;\nimport javafx.scene.layout.GridPane;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.layout.VBox;\nimport javafx.scene.layout.HBox;\nimport javafx.stage.Stage;\n\npublic class MyJavaFx extends Application\n{\n    public MyJavaFx()\n    {\n    }\n\n    public void start(Stage primaryStage)\n    {\n        BorderPane pane = new BorderPane();\n        pane.setTop(getRadioButtons());\n        pane.setBottom(getPushButtons());\n        pane.setLeft(getLeftLabels());\n        pane.setRight(getRightLabels());\n        pane.setCenter(getTextFields());\n        Scene scene=new Scene(pane,1000,800);\n\n        primaryStage.setTitle(\"Even\");\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n\n    public static void main(String arg[])\n    {\n        Application.launch(arg);\n    }\n\n    FlowPane getRadioButtons()\n    {\n        FlowPane pane = new FlowPane();\n        pane.setPadding(new Insets(10,10,10,10));\n        pane.setHgap(10);\n        RadioButton rb[]=new RadioButton[3];\n        ToggleGroup radioGroup = new ToggleGroup();\n        for(int i=0;i&lt;rb.length;i++)\n        {\n            rb[i] = new RadioButton(\"Flag \"+(i+1));\n            rb[i].setToggleGroup(radioGroup);\n            pane.getChildren().add(rb[i]);\n        }\n        rb[0].setSelected(true);\n        pane.setAlignment(Pos.CENTER);\n        return pane;\n    }\n\n    FlowPane getPushButtons()\n    {\n        FlowPane pane = new FlowPane();\n        pane.setPadding(new Insets(10,30,30,10));\n        pane.setHgap(10);\n        Button rb[]=new Button[3];\n        for(int i=0;i&lt;rb.length;i++)\n        {\n            rb[i] = new Button(\"but\"+i);\n            pane.getChildren().add(rb[i]);\n        }\n        pane.setAlignment(Pos.BOTTOM_RIGHT);\n        return pane;\n    }\n    VBox getLeftLabels()\n    {\n        VBox pane = new VBox();\n        pane.setPadding(new Insets(10,10,10,10));\n        pane.setSpacing(20);\n        Label ll[]=new Label[3];\n        for(int i=0;i&lt;ll.length;i++)\n        {\n            ll[i] = new Label(\"lab\"+i);\n            pane.getChildren().add(ll[i]);\n        }\n        ll[0].setAlignment(Pos.TOP_LEFT);\n        ll[1].setAlignment(Pos.CENTER_LEFT);\n        ll[2].setAlignment(Pos.BOTTOM_LEFT);\n        pane.setAlignment(Pos.CENTER_LEFT);\n        return pane;\n    }\n\n    VBox getRightLabels()\n    {\n        VBox pane = new VBox();\n        pane.setPadding(new Insets(10,10,10,10));\n        pane.setSpacing(20);\n        Label rb[]=new Label[3];\n        for(int i=0;i&lt;rb.length;i++)\n        {\n            rb[i] = new Label(\"lab\"+i);\n            pane.getChildren().add(rb[i]);\n        }\n        pane.setAlignment(Pos.CENTER_RIGHT);\n        return pane;\n    }\n\n    VBox getTextFields()\n    {\n        VBox pane = new VBox();\n        pane.setPadding(new Insets(10,10,10,10));\n        pane.setSpacing(2);\n        TextField tf[]=new TextField[9];\n        for(int i=0;i&lt;tf.length;i++)\n        {\n            tf[i] = new TextField(\"Display Line \"+(i+1));\n\n            pane.getChildren().add(tf[i]);\n        }\n        pane.setAlignment(Pos.CENTER_RIGHT);\n        return pane;\n    }\n}\n</code></pre>\n"},{"tags":["java","windows","tcp"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1647423799,"post_id":68064167,"comment_id":126365053,"body_markdown":"From the stacktrace it seams you are using Spring RestTemplate to call to your server. Since both Client/Server runs in the same machine, loopback is used. Check if you set some read timeouts in Rest Template. This can help in this point: https://stackoverflow.com/questions/11537591/resttemplate-default-timeout-value. You affirm that you have updated from java 8 to java 11. I think there were some changes related with http be related to the behaviour. Did you update any dependency also? Also is the server taking too long to process requests? Is the system under high load in these occasions?","body":"From the stacktrace it seams you are using Spring RestTemplate to call to your server. Since both Client/Server runs in the same machine, loopback is used. Check if you set some read timeouts in Rest Template. This can help in this point: <a href=\"https://stackoverflow.com/questions/11537591/resttemplate-default-timeout-value\" title=\"resttemplate default timeout value\">stackoverflow.com/questions/11537591/&hellip;</a>. You affirm that you have updated from java 8 to java 11. I think there were some changes related with http be related to the behaviour. Did you update any dependency also? Also is the server taking too long to process requests? Is the system under high load in these occasions?"},{"owner":{"account_id":242136,"reputation":3005,"user_id":513451,"accept_rate":61,"display_name":"Michel Jung"},"score":0,"creation_date":1647440499,"post_id":68064167,"comment_id":126371963,"body_markdown":"Wouldn&#39;t a timeout result in `SocketTimeoutException`?","body":"Wouldn&#39;t a timeout result in <code>SocketTimeoutException</code>?"},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":1,"creation_date":1647471884,"post_id":68064167,"comment_id":126383079,"body_markdown":"Have you tried using the system property `javax.net.debug=all` when running your client? As the connection is secure, it may be help. Your problem may be related with [this issue](https://bugs.openjdk.java.net/browse/JDK-8241216) as well, although it seems fixed in JDK 11.0.8, and you are using a newer version, so probably it won&#39;t apply to your problem.","body":"Have you tried using the system property <code>javax.net.debug=all</code> when running your client? As the connection is secure, it may be help. Your problem may be related with <a href=\"https://bugs.openjdk.java.net/browse/JDK-8241216\" rel=\"nofollow noreferrer\">this issue</a> as well, although it seems fixed in JDK 11.0.8, and you are using a newer version, so probably it won&#39;t apply to your problem."},{"owner":{"account_id":4963513,"reputation":549,"user_id":3993742,"display_name":"Santiago Medina"},"score":0,"creation_date":1647575840,"post_id":68064167,"comment_id":126411191,"body_markdown":"Seems hard to debug. If the error occurs multiple times in a short period of time, maybe you could start Wireshark programmatically when detecting the first failure and shutting down after a second failure or a fixed time window.","body":"Seems hard to debug. If the error occurs multiple times in a short period of time, maybe you could start Wireshark programmatically when detecting the first failure and shutting down after a second failure or a fixed time window."}],"answers":[{"tags":[],"owner":{"account_id":8318014,"reputation":2224,"user_id":6250649,"display_name":"JohannesB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647723084,"creation_date":1647624115,"answer_id":71530900,"question_id":68064167,"body_markdown":"As the question is:\r\n\r\n&gt; How would you go about debugging this?\r\n\r\nI&#39;d probably make sure that the logging for the exact error message was added, as currently only the most frequently have been implemented, but in all other cases you do not get the native cause:\r\n\r\nhttps://github.com/openjdk/jdk/blob/jdk-11%2B28/src/java.base/windows/native/libnet/SocketInputStream.c#L152\r\n\r\nSee the Microsoft documentation for an example that includes the error number (In my opinion at least the Java fastdebug builds should have an option to print or log this, though it makes the code more complex):\r\n\r\nhttps://learn.microsoft.com/en-us/windows/win32/api/winsock2/nf-winsock2-recv\r\n\r\nMaybe there was not enough memory or any of the other possible error causes, but without Java logging / throwing it, it is impossible to tell which one:\r\n\r\nhttps://learn.microsoft.com/en-us/windows/win32/winsock/windows-sockets-error-codes-2\r\n\r\nGetting this right seems quite hard, given the number of bug reports, e.g.:\r\n\r\nhttps://bugs.java.com/bugdatabase/view_bug.do?bug_id=8249590\r\n\r\nWhy this would occur on Java 11 instead of 8 is another interesting question, I&#39;d start guessing that it might have to do with using a different TLS version (1.2 / 1.3, or different parameters), as I take it from the stacktrace you use the exact same http library that does not yet support HTTP/2.\r\n\r\nGiven that everyone&#39;s time is limited I would probably try to work around this by using some retry-mechanism, or switching to plain http instead of https if this traffic is between 2 processes running inside the same machine, though I (too?) sometimes have a hard time to say: &quot;No&quot; to an interesting puzzle.\r\n\r\nP.S.: Make sure you do not use different threads to read / write concurrently to the same socket, like here: https://stackoverflow.com/questions/45797515/got-unrecognized-windows-sockets-error-0-recv-failed-while-posting-message#comment116825107_54184001\r\n\r\nP.P.S.: For the sake of argument Wireshark ( npcap ) allows (through the jitting of BPF VM code) efficient capture of just relevant network traffic for TCP packets flags like: `fin` or `rst` and maybe: `syn` if you really want it, see: https://serverfault.com/questions/217605/how-to-capture-ack-or-syn-packets-by-tcpdump#217618 though it cannot tell you what happened immediately before, that would indeed require capturing all traffic and auto switching capture files regularly, which it also can, to remove old capture files that are no longer relevant, e.g. when no incident has occurred.","title":"How can I debug &quot;Software caused connection abort: recv failed&quot; on Windows and Java 11?","body":"<p>As the question is:</p>\n<blockquote>\n<p>How would you go about debugging this?</p>\n</blockquote>\n<p>I'd probably make sure that the logging for the exact error message was added, as currently only the most frequently have been implemented, but in all other cases you do not get the native cause:</p>\n<p><a href=\"https://github.com/openjdk/jdk/blob/jdk-11%2B28/src/java.base/windows/native/libnet/SocketInputStream.c#L152\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/blob/jdk-11%2B28/src/java.base/windows/native/libnet/SocketInputStream.c#L152</a></p>\n<p>See the Microsoft documentation for an example that includes the error number (In my opinion at least the Java fastdebug builds should have an option to print or log this, though it makes the code more complex):</p>\n<p><a href=\"https://learn.microsoft.com/en-us/windows/win32/api/winsock2/nf-winsock2-recv\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/windows/win32/api/winsock2/nf-winsock2-recv</a></p>\n<p>Maybe there was not enough memory or any of the other possible error causes, but without Java logging / throwing it, it is impossible to tell which one:</p>\n<p><a href=\"https://learn.microsoft.com/en-us/windows/win32/winsock/windows-sockets-error-codes-2\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/windows/win32/winsock/windows-sockets-error-codes-2</a></p>\n<p>Getting this right seems quite hard, given the number of bug reports, e.g.:</p>\n<p><a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8249590\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8249590</a></p>\n<p>Why this would occur on Java 11 instead of 8 is another interesting question, I'd start guessing that it might have to do with using a different TLS version (1.2 / 1.3, or different parameters), as I take it from the stacktrace you use the exact same http library that does not yet support HTTP/2.</p>\n<p>Given that everyone's time is limited I would probably try to work around this by using some retry-mechanism, or switching to plain http instead of https if this traffic is between 2 processes running inside the same machine, though I (too?) sometimes have a hard time to say: &quot;No&quot; to an interesting puzzle.</p>\n<p>P.S.: Make sure you do not use different threads to read / write concurrently to the same socket, like here: <a href=\"https://stackoverflow.com/questions/45797515/got-unrecognized-windows-sockets-error-0-recv-failed-while-posting-message#comment116825107_54184001\">Got &quot;Unrecognized Windows Sockets error: 0: recv failed&quot; while posting message</a></p>\n<p>P.P.S.: For the sake of argument Wireshark ( npcap ) allows (through the jitting of BPF VM code) efficient capture of just relevant network traffic for TCP packets flags like: <code>fin</code> or <code>rst</code> and maybe: <code>syn</code> if you really want it, see: <a href=\"https://serverfault.com/questions/217605/how-to-capture-ack-or-syn-packets-by-tcpdump#217618\">https://serverfault.com/questions/217605/how-to-capture-ack-or-syn-packets-by-tcpdump#217618</a> though it cannot tell you what happened immediately before, that would indeed require capturing all traffic and auto switching capture files regularly, which it also can, to remove old capture files that are no longer relevant, e.g. when no incident has occurred.</p>\n"}],"owner":{"account_id":242136,"reputation":3005,"user_id":513451,"accept_rate":61,"display_name":"Michel Jung"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2169,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1647723084,"creation_date":1624261483,"question_id":68064167,"body_markdown":"I have a Spring application that communicates with an HTTP endpoint. Since we updated from Java 8 to Java 11 (jdk-11.0.10+9-jre, running on Windows Server 2016), we get the following exception 2-3 times a week:\r\n\r\n```\r\norg.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;https://.../api/v1/...&quot;: Software caused connection abort: recv failed; nested exception is javax.net.ssl.SSLException: Software caused connection abort: recv failed\r\n\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:743) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n\tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:669) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n\tat org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:578) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n\tat com.example.http.SpringRequestExecutor.tryRequest(SpringRequestExecutor.java:72) ~[Tm1Rest-6.9.0.jar:6.9.0]\r\n\tat [...]\r\n\tat java.util.concurrent.CompletableFuture$AsyncSupply.run(Unknown Source) [?:?]\r\n\tat java.util.concurrent.CompletableFuture$AsyncSupply.exec(Unknown Source) [?:?]\r\n\tat java.util.concurrent.ForkJoinTask.doExec(Unknown Source) [?:?]\r\n\tat java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(Unknown Source) [?:?]\r\n\tat java.util.concurrent.ForkJoinPool.scan(Unknown Source) [?:?]\r\n\tat java.util.concurrent.ForkJoinPool.runWorker(Unknown Source) [?:?]\r\n\tat java.util.concurrent.ForkJoinWorkerThread.run(Unknown Source) [?:?]\r\nCaused by: javax.net.ssl.SSLException: Software caused connection abort: recv failed\r\n\tat sun.security.ssl.Alert.createSSLException(Unknown Source) ~[?:?]\r\n\tat sun.security.ssl.TransportContext.fatal(Unknown Source) ~[?:?]\r\n\tat sun.security.ssl.TransportContext.fatal(Unknown Source) ~[?:?]\r\n\tat sun.security.ssl.TransportContext.fatal(Unknown Source) ~[?:?]\r\n\tat sun.security.ssl.SSLSocketImpl.handleException(Unknown Source) ~[?:?]\r\n\tat sun.security.ssl.SSLSocketImpl$AppInputStream.read(Unknown Source) ~[?:?]\r\n\tat org.apache.http.impl.io.SessionInputBufferImpl.streamRead(SessionInputBufferImpl.java:137) ~[httpcore-4.4.10.jar:4.4.10]\r\n\tat org.apache.http.impl.io.SessionInputBufferImpl.fillBuffer(SessionInputBufferImpl.java:153) ~[httpcore-4.4.10.jar:4.4.10]\r\n\tat org.apache.http.impl.io.SessionInputBufferImpl.readLine(SessionInputBufferImpl.java:282) ~[httpcore-4.4.10.jar:4.4.10]\r\n\tat org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:138) ~[httpclient-4.5.6.jar:4.5.6]\r\n\tat org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:56) ~[httpclient-4.5.6.jar:4.5.6]\r\n\tat org.apache.http.impl.io.AbstractMessageParser.parse(AbstractMessageParser.java:259) ~[httpcore-4.4.10.jar:4.4.10]\r\n\tat org.apache.http.impl.DefaultBHttpClientConnection.receiveResponseHeader(DefaultBHttpClientConnection.java:163) ~[httpcore-4.4.10.jar:4.4.10]\r\n\tat org.apache.http.impl.conn.CPoolProxy.receiveResponseHeader(CPoolProxy.java:165) ~[httpclient-4.5.6.jar:4.5.6]\r\n\tat org.apache.http.protocol.HttpRequestExecutor.doReceiveResponse(HttpRequestExecutor.java:273) ~[httpcore-4.4.10.jar:4.4.10]\r\n\tat org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:125) ~[httpcore-4.4.10.jar:4.4.10]\r\n\tat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:272) ~[httpclient-4.5.6.jar:4.5.6]\r\n\tat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:185) ~[httpclient-4.5.6.jar:4.5.6]\r\n\tat org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.6.jar:4.5.6]\r\n\tat org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.6.jar:4.5.6]\r\n\tat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.6.jar:4.5.6]\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.6.jar:4.5.6]\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56) ~[httpclient-4.5.6.jar:4.5.6]\r\n\tat org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n\tat org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n\tat org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:53) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n\tat org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:108) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n\tat [...]\r\n\tat org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:92) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n\tat org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:76) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n\tat org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n\tat org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:53) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:734) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n\t... 21 more\r\n\tSuppressed: java.net.SocketException: Software caused connection abort: socket write error\r\n\t\tat java.net.SocketOutputStream.socketWrite0(Native Method) ~[?:?]\r\n\t\tat java.net.SocketOutputStream.socketWrite(Unknown Source) ~[?:?]\r\n\t\tat java.net.SocketOutputStream.write(Unknown Source) ~[?:?]\r\n\t\tat sun.security.ssl.SSLSocketOutputRecord.encodeAlert(Unknown Source) ~[?:?]\r\n\t\tat sun.security.ssl.TransportContext.fatal(Unknown Source) ~[?:?]\r\n\t\tat sun.security.ssl.TransportContext.fatal(Unknown Source) ~[?:?]\r\n\t\tat sun.security.ssl.TransportContext.fatal(Unknown Source) ~[?:?]\r\n\t\tat sun.security.ssl.SSLSocketImpl.handleException(Unknown Source) ~[?:?]\r\n\t\tat sun.security.ssl.SSLSocketImpl$AppInputStream.read(Unknown Source) ~[?:?]\r\n\t\tat org.apache.http.impl.io.SessionInputBufferImpl.streamRead(SessionInputBufferImpl.java:137) ~[httpcore-4.4.10.jar:4.4.10]\r\n\t\tat org.apache.http.impl.io.SessionInputBufferImpl.fillBuffer(SessionInputBufferImpl.java:153) ~[httpcore-4.4.10.jar:4.4.10]\r\n\t\tat org.apache.http.impl.io.SessionInputBufferImpl.readLine(SessionInputBufferImpl.java:282) ~[httpcore-4.4.10.jar:4.4.10]\r\n\t\tat org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:138) ~[httpclient-4.5.6.jar:4.5.6]\r\n\t\tat org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:56) ~[httpclient-4.5.6.jar:4.5.6]\r\n\t\tat org.apache.http.impl.io.AbstractMessageParser.parse(AbstractMessageParser.java:259) ~[httpcore-4.4.10.jar:4.4.10]\r\n\t\tat org.apache.http.impl.DefaultBHttpClientConnection.receiveResponseHeader(DefaultBHttpClientConnection.java:163) ~[httpcore-4.4.10.jar:4.4.10]\r\n\t\tat org.apache.http.impl.conn.CPoolProxy.receiveResponseHeader(CPoolProxy.java:165) ~[httpclient-4.5.6.jar:4.5.6]\r\n\t\tat org.apache.http.protocol.HttpRequestExecutor.doReceiveResponse(HttpRequestExecutor.java:273) ~[httpcore-4.4.10.jar:4.4.10]\r\n\t\tat org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:125) ~[httpcore-4.4.10.jar:4.4.10]\r\n\t\tat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:272) ~[httpclient-4.5.6.jar:4.5.6]\r\n\t\tat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:185) ~[httpclient-4.5.6.jar:4.5.6]\r\n\t\tat org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.6.jar:4.5.6]\r\n\t\tat org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.6.jar:4.5.6]\r\n\t\tat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.6.jar:4.5.6]\r\n\t\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.6.jar:4.5.6]\r\n\t\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56) ~[httpclient-4.5.6.jar:4.5.6]\r\n\t\tat org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n\t\tat org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n\t\tat org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:53) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n\t\tat org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:108) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n\t\tat [...]\r\n\t\tat org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:92) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n\t\tat org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:76) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n\t\tat org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n\t\tat org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:53) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n\t\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:734) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n\t\tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:669) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n\t\tat org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:578) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n\t\tat [...]\r\n\t\tat java.util.concurrent.CompletableFuture$AsyncSupply.run(Unknown Source) [?:?]\r\n\t\tat java.util.concurrent.CompletableFuture$AsyncSupply.exec(Unknown Source) [?:?]\r\n\t\tat java.util.concurrent.ForkJoinTask.doExec(Unknown Source) [?:?]\r\n\t\tat java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(Unknown Source) [?:?]\r\n\t\tat java.util.concurrent.ForkJoinPool.scan(Unknown Source) [?:?]\r\n\t\tat java.util.concurrent.ForkJoinPool.runWorker(Unknown Source) [?:?]\r\n\t\tat java.util.concurrent.ForkJoinWorkerThread.run(Unknown Source) [?:?]\r\nCaused by: java.net.SocketException: Software caused connection abort: recv failed\r\n\tat java.net.SocketInputStream.socketRead0(Native Method) ~[?:?]\r\n\tat java.net.SocketInputStream.socketRead(Unknown Source) ~[?:?]\r\n\tat java.net.SocketInputStream.read(Unknown Source) ~[?:?]\r\n\tat java.net.SocketInputStream.read(Unknown Source) ~[?:?]\r\n\tat sun.security.ssl.SSLSocketInputRecord.read(Unknown Source) ~[?:?]\r\n\tat sun.security.ssl.SSLSocketInputRecord.readHeader(Unknown Source) ~[?:?]\r\n\tat sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(Unknown Source) ~[?:?]\r\n\tat sun.security.ssl.SSLSocketImpl.readApplicationRecord(Unknown Source) ~[?:?]\r\n\tat sun.security.ssl.SSLSocketImpl$AppInputStream.read(Unknown Source) ~[?:?]\r\n\tat org.apache.http.impl.io.SessionInputBufferImpl.streamRead(SessionInputBufferImpl.java:137) ~[httpcore-4.4.10.jar:4.4.10]\r\n\tat org.apache.http.impl.io.SessionInputBufferImpl.fillBuffer(SessionInputBufferImpl.java:153) ~[httpcore-4.4.10.jar:4.4.10]\r\n\tat org.apache.http.impl.io.SessionInputBufferImpl.readLine(SessionInputBufferImpl.java:282) ~[httpcore-4.4.10.jar:4.4.10]\r\n\tat org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:138) ~[httpclient-4.5.6.jar:4.5.6]\r\n\tat org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:56) ~[httpclient-4.5.6.jar:4.5.6]\r\n\tat org.apache.http.impl.io.AbstractMessageParser.parse(AbstractMessageParser.java:259) ~[httpcore-4.4.10.jar:4.4.10]\r\n\tat org.apache.http.impl.DefaultBHttpClientConnection.receiveResponseHeader(DefaultBHttpClientConnection.java:163) ~[httpcore-4.4.10.jar:4.4.10]\r\n\tat org.apache.http.impl.conn.CPoolProxy.receiveResponseHeader(CPoolProxy.java:165) ~[httpclient-4.5.6.jar:4.5.6]\r\n\tat org.apache.http.protocol.HttpRequestExecutor.doReceiveResponse(HttpRequestExecutor.java:273) ~[httpcore-4.4.10.jar:4.4.10]\r\n\tat org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:125) ~[httpcore-4.4.10.jar:4.4.10]\r\n\tat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:272) ~[httpclient-4.5.6.jar:4.5.6]\r\n\tat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:185) ~[httpclient-4.5.6.jar:4.5.6]\r\n\tat org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.6.jar:4.5.6]\r\n\tat org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.6.jar:4.5.6]\r\n\tat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.6.jar:4.5.6]\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.6.jar:4.5.6]\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56) ~[httpclient-4.5.6.jar:4.5.6]\r\n\tat org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n\tat org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n\tat org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:53) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n\tat org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:108) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n\tat [...]\r\n\tat org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:92) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n\tat org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:76) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n\tat org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n\tat org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:53) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:734) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\r\n\t... 21 more\r\n```\r\nSometimes, the exception occurs during a few seconds and then everything is back to normal.\r\n\r\nI am familiar with this exception and know (I hope) that it occurs when a TCP connection is closed unexpectedly. So the question I need to answer is: **Who closed the connection and why?**\r\n\r\nWe tried:\r\n\r\n* Going back to Java 8: this makes the problem disappear\r\n* Considering it&#39;s a security-software issue: Makes little sense\r\n* Checking the Windows Event Log: Nothing conspicuous\r\n* Considering it&#39;s a timeout issue: that should trigger a `SocketTimeoutException`, and if it&#39;s server-side, it should happen with Java 8 as well, I assume.\r\n* Checking the server logs: Nothing\r\n* Googling for any known Java 11 related issues that could cause this: I found [JDK-8224829 AsyncSSLSocketClose.java has timing issue](https://bugs.openjdk.java.net/browse/JDK-8224829) but this doesn&#39;t seem to apply in any way\r\n* Considering that the host ran out of available TCP ports or so, but nothing conspicuous:\r\n[![enter image description here][1]][1]\r\n\r\nHow would you go about debugging this? The only idea I have is using Wireshark to analyze the TCP stream but since it happens so rarely and unpredictably I&#39;d have to capture a huge amount of traffic which would probably crash the system.\r\n\r\nAlso it needs to be noted that client and server run on the same server.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YfvNu.png","title":"How can I debug &quot;Software caused connection abort: recv failed&quot; on Windows and Java 11?","body":"<p>I have a Spring application that communicates with an HTTP endpoint. Since we updated from Java 8 to Java 11 (jdk-11.0.10+9-jre, running on Windows Server 2016), we get the following exception 2-3 times a week:</p>\n<pre><code>org.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;https://.../api/v1/...&quot;: Software caused connection abort: recv failed; nested exception is javax.net.ssl.SSLException: Software caused connection abort: recv failed\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:743) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:669) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:578) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at com.example.http.SpringRequestExecutor.tryRequest(SpringRequestExecutor.java:72) ~[Tm1Rest-6.9.0.jar:6.9.0]\n    at [...]\n    at java.util.concurrent.CompletableFuture$AsyncSupply.run(Unknown Source) [?:?]\n    at java.util.concurrent.CompletableFuture$AsyncSupply.exec(Unknown Source) [?:?]\n    at java.util.concurrent.ForkJoinTask.doExec(Unknown Source) [?:?]\n    at java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(Unknown Source) [?:?]\n    at java.util.concurrent.ForkJoinPool.scan(Unknown Source) [?:?]\n    at java.util.concurrent.ForkJoinPool.runWorker(Unknown Source) [?:?]\n    at java.util.concurrent.ForkJoinWorkerThread.run(Unknown Source) [?:?]\nCaused by: javax.net.ssl.SSLException: Software caused connection abort: recv failed\n    at sun.security.ssl.Alert.createSSLException(Unknown Source) ~[?:?]\n    at sun.security.ssl.TransportContext.fatal(Unknown Source) ~[?:?]\n    at sun.security.ssl.TransportContext.fatal(Unknown Source) ~[?:?]\n    at sun.security.ssl.TransportContext.fatal(Unknown Source) ~[?:?]\n    at sun.security.ssl.SSLSocketImpl.handleException(Unknown Source) ~[?:?]\n    at sun.security.ssl.SSLSocketImpl$AppInputStream.read(Unknown Source) ~[?:?]\n    at org.apache.http.impl.io.SessionInputBufferImpl.streamRead(SessionInputBufferImpl.java:137) ~[httpcore-4.4.10.jar:4.4.10]\n    at org.apache.http.impl.io.SessionInputBufferImpl.fillBuffer(SessionInputBufferImpl.java:153) ~[httpcore-4.4.10.jar:4.4.10]\n    at org.apache.http.impl.io.SessionInputBufferImpl.readLine(SessionInputBufferImpl.java:282) ~[httpcore-4.4.10.jar:4.4.10]\n    at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:138) ~[httpclient-4.5.6.jar:4.5.6]\n    at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:56) ~[httpclient-4.5.6.jar:4.5.6]\n    at org.apache.http.impl.io.AbstractMessageParser.parse(AbstractMessageParser.java:259) ~[httpcore-4.4.10.jar:4.4.10]\n    at org.apache.http.impl.DefaultBHttpClientConnection.receiveResponseHeader(DefaultBHttpClientConnection.java:163) ~[httpcore-4.4.10.jar:4.4.10]\n    at org.apache.http.impl.conn.CPoolProxy.receiveResponseHeader(CPoolProxy.java:165) ~[httpclient-4.5.6.jar:4.5.6]\n    at org.apache.http.protocol.HttpRequestExecutor.doReceiveResponse(HttpRequestExecutor.java:273) ~[httpcore-4.4.10.jar:4.4.10]\n    at org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:125) ~[httpcore-4.4.10.jar:4.4.10]\n    at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:272) ~[httpclient-4.5.6.jar:4.5.6]\n    at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:185) ~[httpclient-4.5.6.jar:4.5.6]\n    at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.6.jar:4.5.6]\n    at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.6.jar:4.5.6]\n    at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.6.jar:4.5.6]\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.6.jar:4.5.6]\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56) ~[httpclient-4.5.6.jar:4.5.6]\n    at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:53) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:108) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at [...]\n    at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:92) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:76) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:53) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:734) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    ... 21 more\n    Suppressed: java.net.SocketException: Software caused connection abort: socket write error\n        at java.net.SocketOutputStream.socketWrite0(Native Method) ~[?:?]\n        at java.net.SocketOutputStream.socketWrite(Unknown Source) ~[?:?]\n        at java.net.SocketOutputStream.write(Unknown Source) ~[?:?]\n        at sun.security.ssl.SSLSocketOutputRecord.encodeAlert(Unknown Source) ~[?:?]\n        at sun.security.ssl.TransportContext.fatal(Unknown Source) ~[?:?]\n        at sun.security.ssl.TransportContext.fatal(Unknown Source) ~[?:?]\n        at sun.security.ssl.TransportContext.fatal(Unknown Source) ~[?:?]\n        at sun.security.ssl.SSLSocketImpl.handleException(Unknown Source) ~[?:?]\n        at sun.security.ssl.SSLSocketImpl$AppInputStream.read(Unknown Source) ~[?:?]\n        at org.apache.http.impl.io.SessionInputBufferImpl.streamRead(SessionInputBufferImpl.java:137) ~[httpcore-4.4.10.jar:4.4.10]\n        at org.apache.http.impl.io.SessionInputBufferImpl.fillBuffer(SessionInputBufferImpl.java:153) ~[httpcore-4.4.10.jar:4.4.10]\n        at org.apache.http.impl.io.SessionInputBufferImpl.readLine(SessionInputBufferImpl.java:282) ~[httpcore-4.4.10.jar:4.4.10]\n        at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:138) ~[httpclient-4.5.6.jar:4.5.6]\n        at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:56) ~[httpclient-4.5.6.jar:4.5.6]\n        at org.apache.http.impl.io.AbstractMessageParser.parse(AbstractMessageParser.java:259) ~[httpcore-4.4.10.jar:4.4.10]\n        at org.apache.http.impl.DefaultBHttpClientConnection.receiveResponseHeader(DefaultBHttpClientConnection.java:163) ~[httpcore-4.4.10.jar:4.4.10]\n        at org.apache.http.impl.conn.CPoolProxy.receiveResponseHeader(CPoolProxy.java:165) ~[httpclient-4.5.6.jar:4.5.6]\n        at org.apache.http.protocol.HttpRequestExecutor.doReceiveResponse(HttpRequestExecutor.java:273) ~[httpcore-4.4.10.jar:4.4.10]\n        at org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:125) ~[httpcore-4.4.10.jar:4.4.10]\n        at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:272) ~[httpclient-4.5.6.jar:4.5.6]\n        at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:185) ~[httpclient-4.5.6.jar:4.5.6]\n        at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.6.jar:4.5.6]\n        at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.6.jar:4.5.6]\n        at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.6.jar:4.5.6]\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.6.jar:4.5.6]\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56) ~[httpclient-4.5.6.jar:4.5.6]\n        at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n        at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n        at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:53) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n        at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:108) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n        at [...]\n        at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:92) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n        at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:76) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n        at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n        at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:53) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n        at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:734) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n        at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:669) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n        at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:578) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n        at [...]\n        at java.util.concurrent.CompletableFuture$AsyncSupply.run(Unknown Source) [?:?]\n        at java.util.concurrent.CompletableFuture$AsyncSupply.exec(Unknown Source) [?:?]\n        at java.util.concurrent.ForkJoinTask.doExec(Unknown Source) [?:?]\n        at java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(Unknown Source) [?:?]\n        at java.util.concurrent.ForkJoinPool.scan(Unknown Source) [?:?]\n        at java.util.concurrent.ForkJoinPool.runWorker(Unknown Source) [?:?]\n        at java.util.concurrent.ForkJoinWorkerThread.run(Unknown Source) [?:?]\nCaused by: java.net.SocketException: Software caused connection abort: recv failed\n    at java.net.SocketInputStream.socketRead0(Native Method) ~[?:?]\n    at java.net.SocketInputStream.socketRead(Unknown Source) ~[?:?]\n    at java.net.SocketInputStream.read(Unknown Source) ~[?:?]\n    at java.net.SocketInputStream.read(Unknown Source) ~[?:?]\n    at sun.security.ssl.SSLSocketInputRecord.read(Unknown Source) ~[?:?]\n    at sun.security.ssl.SSLSocketInputRecord.readHeader(Unknown Source) ~[?:?]\n    at sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(Unknown Source) ~[?:?]\n    at sun.security.ssl.SSLSocketImpl.readApplicationRecord(Unknown Source) ~[?:?]\n    at sun.security.ssl.SSLSocketImpl$AppInputStream.read(Unknown Source) ~[?:?]\n    at org.apache.http.impl.io.SessionInputBufferImpl.streamRead(SessionInputBufferImpl.java:137) ~[httpcore-4.4.10.jar:4.4.10]\n    at org.apache.http.impl.io.SessionInputBufferImpl.fillBuffer(SessionInputBufferImpl.java:153) ~[httpcore-4.4.10.jar:4.4.10]\n    at org.apache.http.impl.io.SessionInputBufferImpl.readLine(SessionInputBufferImpl.java:282) ~[httpcore-4.4.10.jar:4.4.10]\n    at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:138) ~[httpclient-4.5.6.jar:4.5.6]\n    at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:56) ~[httpclient-4.5.6.jar:4.5.6]\n    at org.apache.http.impl.io.AbstractMessageParser.parse(AbstractMessageParser.java:259) ~[httpcore-4.4.10.jar:4.4.10]\n    at org.apache.http.impl.DefaultBHttpClientConnection.receiveResponseHeader(DefaultBHttpClientConnection.java:163) ~[httpcore-4.4.10.jar:4.4.10]\n    at org.apache.http.impl.conn.CPoolProxy.receiveResponseHeader(CPoolProxy.java:165) ~[httpclient-4.5.6.jar:4.5.6]\n    at org.apache.http.protocol.HttpRequestExecutor.doReceiveResponse(HttpRequestExecutor.java:273) ~[httpcore-4.4.10.jar:4.4.10]\n    at org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:125) ~[httpcore-4.4.10.jar:4.4.10]\n    at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:272) ~[httpclient-4.5.6.jar:4.5.6]\n    at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:185) ~[httpclient-4.5.6.jar:4.5.6]\n    at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.6.jar:4.5.6]\n    at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.6.jar:4.5.6]\n    at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.6.jar:4.5.6]\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.6.jar:4.5.6]\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56) ~[httpclient-4.5.6.jar:4.5.6]\n    at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:53) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:108) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at [...]\n    at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:92) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:76) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:53) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:734) ~[spring-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    ... 21 more\n</code></pre>\n<p>Sometimes, the exception occurs during a few seconds and then everything is back to normal.</p>\n<p>I am familiar with this exception and know (I hope) that it occurs when a TCP connection is closed unexpectedly. So the question I need to answer is: <strong>Who closed the connection and why?</strong></p>\n<p>We tried:</p>\n<ul>\n<li>Going back to Java 8: this makes the problem disappear</li>\n<li>Considering it's a security-software issue: Makes little sense</li>\n<li>Checking the Windows Event Log: Nothing conspicuous</li>\n<li>Considering it's a timeout issue: that should trigger a <code>SocketTimeoutException</code>, and if it's server-side, it should happen with Java 8 as well, I assume.</li>\n<li>Checking the server logs: Nothing</li>\n<li>Googling for any known Java 11 related issues that could cause this: I found <a href=\"https://bugs.openjdk.java.net/browse/JDK-8224829\" rel=\"nofollow noreferrer\">JDK-8224829 AsyncSSLSocketClose.java has timing issue</a> but this doesn't seem to apply in any way</li>\n<li>Considering that the host ran out of available TCP ports or so, but nothing conspicuous:\n<a href=\"https://i.stack.imgur.com/YfvNu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YfvNu.png\" alt=\"enter image description here\" /></a></li>\n</ul>\n<p>How would you go about debugging this? The only idea I have is using Wireshark to analyze the TCP stream but since it happens so rarely and unpredictably I'd have to capture a huge amount of traffic which would probably crash the system.</p>\n<p>Also it needs to be noted that client and server run on the same server.</p>\n"},{"tags":["java","spring","spring-boot","kotlin"],"comments":[{"owner":{"account_id":308030,"reputation":12046,"user_id":619673,"accept_rate":80,"display_name":"deadfish"},"score":0,"creation_date":1647706719,"post_id":71539304,"comment_id":126440569,"body_markdown":"You could call `response.getStatusCode()`.","body":"You could call <code>response.getStatusCode()</code>."},{"owner":{"account_id":3631118,"reputation":295,"user_id":4006684,"accept_rate":100,"display_name":"Doo Hyun Shin"},"score":0,"creation_date":1647706805,"post_id":71539304,"comment_id":126440588,"body_markdown":"@deadfish thank you. I didnt use that but it seems like getting HTTP status code is it? I want to get all response apart from status code","body":"@deadfish thank you. I didnt use that but it seems like getting HTTP status code is it? I want to get all response apart from status code"},{"owner":{"account_id":308030,"reputation":12046,"user_id":619673,"accept_rate":80,"display_name":"deadfish"},"score":0,"creation_date":1647707002,"post_id":71539304,"comment_id":126440635,"body_markdown":"Please read the reference RestTemplate first. There are predefined enums: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/HttpStatus.html Just compare if `getStatusCode()` == `HttpStatus.XXX`.","body":"Please read the reference RestTemplate first. There are predefined enums: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/HttpStatus.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/javadoc-api/org&zwnj;&#8203;/&hellip;</a> Just compare if <code>getStatusCode()</code> == <code>HttpStatus.XXX</code>."},{"owner":{"account_id":3631118,"reputation":295,"user_id":4006684,"accept_rate":100,"display_name":"Doo Hyun Shin"},"score":0,"creation_date":1647707520,"post_id":71539304,"comment_id":126440750,"body_markdown":"@deadfish thanks but what i want to check is not whether my response dto is right or wrong. I would like to know how to revise my dto properties by checking the real response content.","body":"@deadfish thanks but what i want to check is not whether my response dto is right or wrong. I would like to know how to revise my dto properties by checking the real response content."},{"owner":{"account_id":308030,"reputation":12046,"user_id":619673,"accept_rate":80,"display_name":"deadfish"},"score":0,"creation_date":1647864262,"post_id":71539304,"comment_id":126470321,"body_markdown":"If HttpStatus is OK then dto has been sent with success otherwise not- https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/HttpStatus.html#OK","body":"If HttpStatus is OK then dto has been sent with success otherwise not- <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/HttpStatus.html#OK\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/javadoc-api/org&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":3631118,"reputation":295,"user_id":4006684,"accept_rate":100,"display_name":"Doo Hyun Shin"},"score":0,"creation_date":1647864402,"post_id":71539304,"comment_id":126470383,"body_markdown":"@deadfish yeah thats true. But when status is not ok, how do i know in which way i should change dto properties so that i have httpstatus OK?","body":"@deadfish yeah thats true. But when status is not ok, how do i know in which way i should change dto properties so that i have httpstatus OK?"},{"owner":{"account_id":308030,"reputation":12046,"user_id":619673,"accept_rate":80,"display_name":"deadfish"},"score":0,"creation_date":1647864465,"post_id":71539304,"comment_id":126470412,"body_markdown":"Usually server returns error code and error message/description. Does you server return such data? Do you know what is the example output from the server for happy and unhappy path?","body":"Usually server returns error code and error message/description. Does you server return such data? Do you know what is the example output from the server for happy and unhappy path?"},{"owner":{"account_id":3631118,"reputation":295,"user_id":4006684,"accept_rate":100,"display_name":"Doo Hyun Shin"},"score":0,"creation_date":1647864653,"post_id":71539304,"comment_id":126470480,"body_markdown":"@deadfish yep. The server to which i am calling an API gives me an error message. It refers to TOKEN. One of properties of the dto in concern is String type but this has to be List&lt;Map&lt;String, String&gt;&gt;. I have got to know about this after asking the developer through email. But How am i be able to know about this without asking the api developer?","body":"@deadfish yep. The server to which i am calling an API gives me an error message. It refers to TOKEN. One of properties of the dto in concern is String type but this has to be List&lt;Map&lt;String, String&gt;&gt;. I have got to know about this after asking the developer through email. But How am i be able to know about this without asking the api developer?"}],"answers":[{"tags":[],"owner":{"account_id":17019087,"reputation":736,"user_id":12312156,"display_name":"Faramarz Afzali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647722535,"creation_date":1647722069,"answer_id":71541840,"question_id":71539304,"body_markdown":"You don&#39;t even need ResponseEntity! Just use getForObject with a String.class\r\n``` java \r\nString response = restTemplate.postForObject(URL,request,String.class);\r\n```\r\n\r\n**But** this won&#39;t work when the server sends **application/json** as content type. It will only give you a string if the body just contains a json string","title":"How to check the response from an API through restTemplate?","body":"<p>You don't even need ResponseEntity! Just use getForObject with a String.class</p>\n<pre class=\"lang-java prettyprint-override\"><code>String response = restTemplate.postForObject(URL,request,String.class);\n</code></pre>\n<p><strong>But</strong> this won't work when the server sends <strong>application/json</strong> as content type. It will only give you a string if the body just contains a json string</p>\n"}],"owner":{"account_id":3631118,"reputation":295,"user_id":4006684,"accept_rate":100,"display_name":"Doo Hyun Shin"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647722535,"creation_date":1647702313,"question_id":71539304,"body_markdown":"I know what the response is. But I got to be curious of getting to know about the response before its deserialization.\r\n\r\nBelow is sending HTTP Request to a certain API.\r\n\r\n    val response = restTemplate.exchange(\r\n                    url,\r\n                    HttpMethod.POST,\r\n                    requestEntity,\r\n                    DesignatedDto::class.java\r\n                )\r\n\r\nI used to have a problem with the above, cause the API doc was a little bit wrong so that `DesignatedDto` cannot have deserialized response. Now I solved the problem after checking the real response emailing API programmers.\r\n\r\nBut now I wonder as a programmer if there is a way to know about the response before deserialization without emailing them? Please don&#39;t say that I should use `String::class.java` instead of `DesignatedDto::class.java` cause I have an error like below\r\n\r\n    \r\n\r\n    org.springframework.web.client.RestClientException: Error while extracting response for type [class java.lang.String] and content type [text/html;charset=UTF-8]; nested exception is org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize instance of `java.lang.String` out of START_OBJECT token; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `java.lang.String` out of START_OBJECT token \r\n    at [Source: (PushbackInputStream); line: 6, column: 1]","title":"How to check the response from an API through restTemplate?","body":"<p>I know what the response is. But I got to be curious of getting to know about the response before its deserialization.</p>\n<p>Below is sending HTTP Request to a certain API.</p>\n<pre><code>val response = restTemplate.exchange(\n                url,\n                HttpMethod.POST,\n                requestEntity,\n                DesignatedDto::class.java\n            )\n</code></pre>\n<p>I used to have a problem with the above, cause the API doc was a little bit wrong so that <code>DesignatedDto</code> cannot have deserialized response. Now I solved the problem after checking the real response emailing API programmers.</p>\n<p>But now I wonder as a programmer if there is a way to know about the response before deserialization without emailing them? Please don't say that I should use <code>String::class.java</code> instead of <code>DesignatedDto::class.java</code> cause I have an error like below</p>\n<pre><code>org.springframework.web.client.RestClientException: Error while extracting response for type [class java.lang.String] and content type [text/html;charset=UTF-8]; nested exception is org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize instance of `java.lang.String` out of START_OBJECT token; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `java.lang.String` out of START_OBJECT token \nat [Source: (PushbackInputStream); line: 6, column: 1]\n</code></pre>\n"},{"tags":["java","database","spring-boot","backend","metrics"],"comments":[{"owner":{"account_id":10309761,"reputation":944,"user_id":7605967,"display_name":"Keshavram Kuduwa"},"score":1,"creation_date":1647376986,"post_id":71454380,"comment_id":126354990,"body_markdown":"You could use some real-time databases like Firebase Firestore wherein you could subscribe to a particular collection for metrics purposes. Whenever you add an event to the collection your metrics will automatically be updated in real-time.","body":"You could use some real-time databases like Firebase Firestore wherein you could subscribe to a particular collection for metrics purposes. Whenever you add an event to the collection your metrics will automatically be updated in real-time."},{"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"score":2,"creation_date":1647387295,"post_id":71454380,"comment_id":126357436,"body_markdown":"Probably time-series database will keep your needs. For example [InfluxDB](https://www.influxdata.com/time-series-database) or  [Prometheus](https://prometheus.io/)","body":"Probably time-series database will keep your needs. For example <a href=\"https://www.influxdata.com/time-series-database\" rel=\"nofollow noreferrer\">InfluxDB</a> or  <a href=\"https://prometheus.io/\" rel=\"nofollow noreferrer\">Prometheus</a>"}],"answers":[{"tags":[],"owner":{"account_id":6055,"reputation":14786,"user_id":10026,"accept_rate":68,"display_name":"ykaganovich"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647650716,"creation_date":1647650716,"answer_id":71534528,"question_id":71454380,"body_markdown":"You can instrument your code to collect time-series metrics. Basically, maintain counters, and log/reset them at a time interval, like every 5 minutes. Then you can use other tools to collect and visualize those logs.\r\n\r\nTake a look at [Spectator][1].\r\n\r\n\r\n  [1]: https://github.com/Netflix/spectator","title":"Where to store data to be used for metrics? With the least performance / network impact in the back-end","body":"<p>You can instrument your code to collect time-series metrics. Basically, maintain counters, and log/reset them at a time interval, like every 5 minutes. Then you can use other tools to collect and visualize those logs.</p>\n<p>Take a look at <a href=\"https://github.com/Netflix/spectator\" rel=\"nofollow noreferrer\">Spectator</a>.</p>\n"},{"tags":[],"owner":{"account_id":347460,"reputation":1972,"user_id":681586,"accept_rate":54,"display_name":"Petre Popescu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647722119,"creation_date":1647722119,"answer_id":71541851,"question_id":71454380,"body_markdown":"You could log certain information that can later be used for analysis (using log4j or logback). I don&#39;t know what you are using for the back-end, but if you are using Spring or Play, this can be easily done.\r\n\r\nIn Spring you can implement a `HandlerInterceptor` or a filter that gets called for each endpoint (or only for specific ones, depending on your use case). You can use this listener to log the start timestamp, end timestamp, and other information like the endpoint that was called. Furthermore, you can store information in the ThreadContext to be used (for example, for calculating the time it took to process the request).\r\n\r\nSimilarly, for Play you can write a class that implements `play.http.ActionCreator` and add it to the processing flow (more on this here:  https://petrepopescu.tech/2021/09/intercepting-and-manipulating-requests-in-play-framework/ )\r\n\r\nNow, you have the logs that have all the information needed and you can perform static analysis on it. You can have a job that parses the logs daily and offer the statistics. If you mark you logs properly (ex: by adding a keyword in the beginning of the message), parsing should be really easy.\r\n\r\nIf you DON&#39;T want to do this because you need the stat near real-time, you will need to dedicate a thread just for this, if you want things to be as smooth for the user as possible. Maybe even have an `Actor` (see Akka Actors) that processes the data async. Again, using an Interceptor or a Filter, send a message to the actor (using `.tell()`, NOT `.ask()`) and it does the statistics and saves it in the database (or some other location of your choice).","title":"Where to store data to be used for metrics? With the least performance / network impact in the back-end","body":"<p>You could log certain information that can later be used for analysis (using log4j or logback). I don't know what you are using for the back-end, but if you are using Spring or Play, this can be easily done.</p>\n<p>In Spring you can implement a <code>HandlerInterceptor</code> or a filter that gets called for each endpoint (or only for specific ones, depending on your use case). You can use this listener to log the start timestamp, end timestamp, and other information like the endpoint that was called. Furthermore, you can store information in the ThreadContext to be used (for example, for calculating the time it took to process the request).</p>\n<p>Similarly, for Play you can write a class that implements <code>play.http.ActionCreator</code> and add it to the processing flow (more on this here:  <a href=\"https://petrepopescu.tech/2021/09/intercepting-and-manipulating-requests-in-play-framework/\" rel=\"nofollow noreferrer\">https://petrepopescu.tech/2021/09/intercepting-and-manipulating-requests-in-play-framework/</a> )</p>\n<p>Now, you have the logs that have all the information needed and you can perform static analysis on it. You can have a job that parses the logs daily and offer the statistics. If you mark you logs properly (ex: by adding a keyword in the beginning of the message), parsing should be really easy.</p>\n<p>If you DON'T want to do this because you need the stat near real-time, you will need to dedicate a thread just for this, if you want things to be as smooth for the user as possible. Maybe even have an <code>Actor</code> (see Akka Actors) that processes the data async. Again, using an Interceptor or a Filter, send a message to the actor (using <code>.tell()</code>, NOT <code>.ask()</code>) and it does the statistics and saves it in the database (or some other location of your choice).</p>\n"}],"owner":{"account_id":15212287,"reputation":529,"user_id":10976657,"display_name":"Jsh0s"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":411,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71541851,"answer_count":2,"score":0,"last_activity_date":1647722119,"creation_date":1647152877,"question_id":71454380,"body_markdown":"Let&#39;s say that I wanna keep track of the amount of **times** a service does &quot;*something*&quot;.\r\n\r\nI could store every single entry of that event in my database along some metadata about it, but if said event happens tens of times per second it would increase network latency / impact the application performance.\r\n\r\n##### What would be a good way to track such data to be used in metrics? ","title":"Where to store data to be used for metrics? With the least performance / network impact in the back-end","body":"<p>Let's say that I wanna keep track of the amount of <strong>times</strong> a service does &quot;<em>something</em>&quot;.</p>\n<p>I could store every single entry of that event in my database along some metadata about it, but if said event happens tens of times per second it would increase network latency / impact the application performance.</p>\n<h5>What would be a good way to track such data to be used in metrics?</h5>\n"},{"tags":["java","barcode","barcode-scanner","scanning"],"answers":[{"tags":[],"owner":{"account_id":12359629,"reputation":4160,"user_id":9014308,"display_name":"kunif"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1594531512,"creation_date":1594531512,"answer_id":62857390,"question_id":62825242,"body_markdown":"Code 39 has the option of using a check digit and is called Code 39 mod 43.  \r\n[Code 39 mod 43 - Wikipedia](https://en.wikipedia.org/wiki/Code_39#Code_39_mod_43)  \r\n\r\nFor example, ZXing&#39;s Code39Reader has an option called ASSUME_CODE_39_CHECK_DIGIT (a mode in which a check digit is generated from barcode data even if there is no check digit and is notified?).  \r\n[Class Code39Reader](https://zxing.github.io/zxing/apidocs/com/google/zxing/oned/Code39Reader.html)  \r\n&gt;     public Result decodeRow(int rowNumber,\r\n&gt;                             BitArray row,\r\n&gt;                             Map&lt;DecodeHintType,?&gt; hints)\r\n&gt;                      throws NotFoundException,\r\n&gt;                             ChecksumException,\r\n&gt;                             FormatException\r\n\r\n[ASSUME_CODE_39_CHECK_DIGIT](https://zxing.github.io/zxing/apidocs/com/google/zxing/DecodeHintType.html#ASSUME_CODE_39_CHECK_DIGIT)  \r\n&gt;public static final DecodeHintType ASSUME_CODE_39_CHECK_DIGIT  \r\n&gt;Assume Code 39 codes employ a check digit. Doesn&#39;t matter what it maps to; use Boolean.TRUE.  \r\n\r\nWhether your program added a check digit when it generated the barcode (but did not print it in human-readable characters), or whether the program that read the barcode supplemented the check digit and generated/notified it. There can be one of two possibilities.  \r\n\r\nBy the way, the last `K` was notified when the barcode presented was read with the Honeywell Xenon 1900 in the default No Check Character mode, so a check digit may have been added when generating the barcode in your program. Will be high.  \r\n","title":"Getting extra letters after scanning the barcode using Java","body":"<p>Code 39 has the option of using a check digit and is called Code 39 mod 43.<br />\n<a href=\"https://en.wikipedia.org/wiki/Code_39#Code_39_mod_43\" rel=\"noreferrer\">Code 39 mod 43 - Wikipedia</a></p>\n<p>For example, ZXing's Code39Reader has an option called ASSUME_CODE_39_CHECK_DIGIT (a mode in which a check digit is generated from barcode data even if there is no check digit and is notified?).<br />\n<a href=\"https://zxing.github.io/zxing/apidocs/com/google/zxing/oned/Code39Reader.html\" rel=\"noreferrer\">Class Code39Reader</a></p>\n<blockquote>\n<pre><code>public Result decodeRow(int rowNumber,\n                        BitArray row,\n                        Map&lt;DecodeHintType,?&gt; hints)\n                 throws NotFoundException,\n                        ChecksumException,\n                        FormatException\n</code></pre>\n</blockquote>\n<p><a href=\"https://zxing.github.io/zxing/apidocs/com/google/zxing/DecodeHintType.html#ASSUME_CODE_39_CHECK_DIGIT\" rel=\"noreferrer\">ASSUME_CODE_39_CHECK_DIGIT</a></p>\n<blockquote>\n<p>public static final DecodeHintType ASSUME_CODE_39_CHECK_DIGIT<br />\nAssume Code 39 codes employ a check digit. Doesn't matter what it maps to; use Boolean.TRUE.</p>\n</blockquote>\n<p>Whether your program added a check digit when it generated the barcode (but did not print it in human-readable characters), or whether the program that read the barcode supplemented the check digit and generated/notified it. There can be one of two possibilities.</p>\n<p>By the way, the last <code>K</code> was notified when the barcode presented was read with the Honeywell Xenon 1900 in the default No Check Character mode, so a check digit may have been added when generating the barcode in your program. Will be high.</p>\n"},{"tags":[],"owner":{"display_name":"user1773603"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1594571330,"creation_date":1594571330,"answer_id":62863642,"question_id":62825242,"body_markdown":"By following the [@kunif](https://stackoverflow.com/questions/62825242/getting-extra-letters-after-scanning-the-barcode-using-java/62857390#62857390)&#39;s answer of `ASSUME_CODE_39_CHECK_DIGIT` code which saying that it uses a check digit. So, I have analyzed my code and I found that `code39.encode(&quot;B00009&quot;, 1);` passing the second parameter 1 which is the reason why it generates the extra letter `K` at the end of barcode number.\r\n\r\nSo, I changed the 1 which 0 and now its scanning the barcode correctly.\r\n\r\n    String outputStr = code39.encode(&quot;B00009&quot;, 0);","title":"Getting extra letters after scanning the barcode using Java","body":"<p>By following the <a href=\"https://stackoverflow.com/questions/62825242/getting-extra-letters-after-scanning-the-barcode-using-java/62857390#62857390\">@kunif</a>'s answer of <code>ASSUME_CODE_39_CHECK_DIGIT</code> code which saying that it uses a check digit. So, I have analyzed my code and I found that <code>code39.encode(&quot;B00009&quot;, 1);</code> passing the second parameter 1 which is the reason why it generates the extra letter <code>K</code> at the end of barcode number.</p>\n<p>So, I changed the 1 which 0 and now its scanning the barcode correctly.</p>\n<pre><code>String outputStr = code39.encode(&quot;B00009&quot;, 0);\n</code></pre>\n"}],"owner":{"display_name":"user1773603"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":710,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":62863642,"answer_count":2,"score":3,"last_activity_date":1647722092,"creation_date":1594337660,"question_id":62825242,"body_markdown":"I have created an application which generates the barcode.\r\n\r\nHere is the code how I created the barcode:\r\n\r\n    Code39 code39 = new Code39();\r\n    String outputStr = code39.encode(&quot;B00009&quot;, 1);\r\n    //String humanTextStr=code39.getHumanText();\r\n    lblBarcode.setText(outputStr);\r\n    lblBarcode.setFont(new java.awt.Font(&quot;CCode39_S3_Trial&quot;,java.awt.Font.PLAIN,14));\r\nUsing this java library **ConnectCodeBarcodeFontLibrary.jar**.\r\n\r\nFor scanning the barcode I used [QRbot](https://play.google.com/store/apps/details?id=net.qrbot&amp;hl=en) app which gives me this information - extra letter at the end `B00009K` instead of this `B00009`.\r\n\r\nHere is the screenshot of generated barcode:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhat is the problem in this scenario?\r\n\r\n  [1]: https://i.stack.imgur.com/8l3of.png","title":"Getting extra letters after scanning the barcode using Java","body":"<p>I have created an application which generates the barcode.</p>\n<p>Here is the code how I created the barcode:</p>\n<pre><code>Code39 code39 = new Code39();\nString outputStr = code39.encode(&quot;B00009&quot;, 1);\n//String humanTextStr=code39.getHumanText();\nlblBarcode.setText(outputStr);\nlblBarcode.setFont(new java.awt.Font(&quot;CCode39_S3_Trial&quot;,java.awt.Font.PLAIN,14));\n</code></pre>\n<p>Using this java library <strong>ConnectCodeBarcodeFontLibrary.jar</strong>.</p>\n<p>For scanning the barcode I used <a href=\"https://play.google.com/store/apps/details?id=net.qrbot&amp;hl=en\" rel=\"nofollow noreferrer\">QRbot</a> app which gives me this information - extra letter at the end <code>B00009K</code> instead of this <code>B00009</code>.</p>\n<p>Here is the screenshot of generated barcode:</p>\n<p><a href=\"https://i.stack.imgur.com/8l3of.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8l3of.png\" alt=\"enter image description here\" /></a></p>\n<p>What is the problem in this scenario?</p>\n"},{"tags":["java","arrays","grid","2d"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1647721076,"post_id":71541705,"comment_id":126443637,"body_markdown":"A) please see https://stackoverflow.com/questions/5554734/what-causes-a-java-lang-arrayindexoutofboundsexception-and-how-do-i-prevent-it ... and B) when asking about not working code, always provide a real [mcve].","body":"A) please see <a href=\"https://stackoverflow.com/questions/5554734/what-causes-a-java-lang-arrayindexoutofboundsexception-and-how-do-i-prevent-it\" title=\"what causes a java lang arrayindexoutofboundsexception and how do i prevent it\">stackoverflow.com/questions/5554734/&hellip;</a> ... and B) when asking about not working code, always provide a real <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647721883,"creation_date":1647721883,"answer_id":71541819,"question_id":71541705,"body_markdown":"You could clamp the players position to the bounds of your grid\r\n\r\n```java\r\nx = clamp(sc.nextInt(), 0, 21);\r\ny = clamp(sc.nextInt(), 0, 21);\r\n\r\n\r\nint clamp(int val, int min, int max){\r\n    return Math.max(min, Math.min(max, val));\r\n}\r\n```","title":"Stop character from going out of bound 2D array","body":"<p>You could clamp the players position to the bounds of your grid</p>\n<pre class=\"lang-java prettyprint-override\"><code>x = clamp(sc.nextInt(), 0, 21);\ny = clamp(sc.nextInt(), 0, 21);\n\n\nint clamp(int val, int min, int max){\n    return Math.max(min, Math.min(max, val));\n}\n</code></pre>\n"}],"owner":{"account_id":21666082,"reputation":1,"user_id":15984450,"display_name":"anan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647721883,"creation_date":1647720883,"question_id":71541705,"body_markdown":"I have this game where the user picks the position of the character and then the character starts moving randomly. I&#39;m trying do make it that the character doesn&#39;t go out of bound, and if it does the system randomly picks a new position and the character moves 60 times then stops. Can someone please help\r\n\r\n    import java.util.*;\r\n\r\n    public class a1 {\r\n\r\n\tpublic static String map[][] = new String[21][21];\r\n\tpublic static int x;\r\n\tpublic static int y;\r\n\r\n\tpublic static void main(String[] args) throws InterruptedException {\r\n\r\n\t\tfillGrid();\r\n\r\n\t\tSystem.out.println(&quot;Enter starting (x,y) cooridinates for the player (0-20)&quot;);\r\n\r\n\t\ttry (Scanner sc = new Scanner(System.in)) {\r\n\t\t\tSystem.out.print(&quot;Enter X position: &quot;);\r\n\t\t\tx = sc.nextInt();\r\n\r\n\t\t\tSystem.out.print(&quot;Enter Y position: &quot;);\r\n\t\t\ty = sc.nextInt();\r\n\t\t}\r\n\t\tmap[x][y] = &quot; ## &quot;; // Letter to represent the location of the player\r\n\t\tmovement();\r\n\r\n\t}\r\n\r\n\tpublic static void fillGrid() {\r\n\t\t// place a square in each space of the array(grid)\r\n\t\tfor (int i = 0; i &lt; map.length; i++) {\r\n\t\t\tfor (int j = 0; j &lt; map[i].length; j++) {\r\n\t\t\t\tmap[i][j] = &quot; |_| &quot;;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void showMap() {\r\n\t\t// display the map\r\n\t\tfor (int i = 0; i &lt; map.length; i++) {\r\n\t\t\tfor (int j = 0; j &lt; map[i].length; j++) {\r\n\t\t\t\tSystem.out.print(map[i][j]);\r\n\t\t\t}\r\n\t\t\tSystem.out.print(&quot;\\n&quot;);\r\n\t\t}\r\n\r\n\t\tSystem.out.print(&quot;\\n&quot;);\r\n\t\tSystem.out.print(&quot;\\n&quot;);\r\n\t}\r\n\r\n\tprivate static void movement() throws InterruptedException {\r\n\r\n\t\tRandom rand = new Random();\r\n\r\n\t\tfor (int i = 0; i &lt; 10; i++) {\r\n\r\n\t\t\ti = rand.nextInt(4);\r\n\t\t\tmap[x][y] = &quot; |_| &quot;;\r\n\r\n\t\t\tif (i == 0) {\r\n\t\t\t\ty = y + 1;\r\n\t\t\t} else if (i == 1) {\r\n\t\t\t\ty = y - 1;\r\n\t\t\t} else if (i == 2) {\r\n\t\t\t\tx = x + 1;\r\n\t\t\t} else if (i == 3) {\r\n\t\t\t\tx = x - 1;\r\n\t\t\t}\r\n\r\n\t\t\tmap[x][y] = &quot;  X  &quot;;\r\n\t\t\tshowMap();\r\n\t\t\tThread.sleep(300);\r\n\t\t}\r\n\r\n\t}\r\n}\r\n","title":"Stop character from going out of bound 2D array","body":"<p>I have this game where the user picks the position of the character and then the character starts moving randomly. I'm trying do make it that the character doesn't go out of bound, and if it does the system randomly picks a new position and the character moves 60 times then stops. Can someone please help</p>\n<pre><code>import java.util.*;\n\npublic class a1 {\n\npublic static String map[][] = new String[21][21];\npublic static int x;\npublic static int y;\n\npublic static void main(String[] args) throws InterruptedException {\n\n    fillGrid();\n\n    System.out.println(&quot;Enter starting (x,y) cooridinates for the player (0-20)&quot;);\n\n    try (Scanner sc = new Scanner(System.in)) {\n        System.out.print(&quot;Enter X position: &quot;);\n        x = sc.nextInt();\n\n        System.out.print(&quot;Enter Y position: &quot;);\n        y = sc.nextInt();\n    }\n    map[x][y] = &quot; ## &quot;; // Letter to represent the location of the player\n    movement();\n\n}\n\npublic static void fillGrid() {\n    // place a square in each space of the array(grid)\n    for (int i = 0; i &lt; map.length; i++) {\n        for (int j = 0; j &lt; map[i].length; j++) {\n            map[i][j] = &quot; |_| &quot;;\n        }\n    }\n}\n\npublic static void showMap() {\n    // display the map\n    for (int i = 0; i &lt; map.length; i++) {\n        for (int j = 0; j &lt; map[i].length; j++) {\n            System.out.print(map[i][j]);\n        }\n        System.out.print(&quot;\\n&quot;);\n    }\n\n    System.out.print(&quot;\\n&quot;);\n    System.out.print(&quot;\\n&quot;);\n}\n\nprivate static void movement() throws InterruptedException {\n\n    Random rand = new Random();\n\n    for (int i = 0; i &lt; 10; i++) {\n\n        i = rand.nextInt(4);\n        map[x][y] = &quot; |_| &quot;;\n\n        if (i == 0) {\n            y = y + 1;\n        } else if (i == 1) {\n            y = y - 1;\n        } else if (i == 2) {\n            x = x + 1;\n        } else if (i == 3) {\n            x = x - 1;\n        }\n\n        map[x][y] = &quot;  X  &quot;;\n        showMap();\n        Thread.sleep(300);\n    }\n\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","if-statement","while-loop","conditional-statements"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1647720833,"post_id":71541686,"comment_id":126443582,"body_markdown":"An if/else statement is **not** a loop. Please explain what you mean. Because I also have no idea what to do.","body":"An if/else statement is <b>not</b> a loop. Please explain what you mean. Because I also have no idea what to do."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1647720968,"post_id":71541686,"comment_id":126443612,"body_markdown":"Well, pick up a good book and read how loops work. You could use a for loop, or a while loop that uses some counter. In other words: look at code that uses loops. Enhance those examples. **Understand** the idea of loops, then applying it to your problem will come by itself.","body":"Well, pick up a good book and read how loops work. You could use a for loop, or a while loop that uses some counter. In other words: look at code that uses loops. Enhance those examples. <b>Understand</b> the idea of loops, then applying it to your problem will come by itself."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1647721016,"post_id":71541686,"comment_id":126443622,"body_markdown":"A while loop to emulate an if-else block? You&#39;re going to tie the bytecode in knots!","body":"A while loop to emulate an if-else block? You&#39;re going to tie the bytecode in knots!"}],"answers":[{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647721522,"creation_date":1647721173,"answer_id":71541737,"question_id":71541686,"body_markdown":"You need to add a submethod\r\n\r\n    public boolean checkFourInARow(int seed) {\r\n      return piece(seed) &amp;&amp; piece(seed + 1) &amp;&amp; piece(seed + 2) &amp;&amp; piece(seed + 3)\r\n    }\r\n    \r\nThen replace the code you have posted with\r\n\r\n    while (int i &lt; 5) {\r\n      checkForInARow(i);\r\n    }","title":"How can I translate this if/else statement into a while loop?","body":"<p>You need to add a submethod</p>\n<pre><code>public boolean checkFourInARow(int seed) {\n  return piece(seed) &amp;&amp; piece(seed + 1) &amp;&amp; piece(seed + 2) &amp;&amp; piece(seed + 3)\n}\n</code></pre>\n<p>Then replace the code you have posted with</p>\n<pre><code>while (int i &lt; 5) {\n  checkForInARow(i);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647721562,"creation_date":1647721562,"answer_id":71541780,"question_id":71541686,"body_markdown":"Not a while loop, but two for loops could reduce some of your redundancy:\r\n\r\n```java\r\nvoid foo()\r\n{\r\n\touter:\r\n\tfor (int i = 0; i &lt; 4; ++i)\r\n\t{\r\n\t\tfor (int j = i; j &lt; i + 4; ++j)\r\n\t\t{\r\n\t\t\tif (piece(j) != 0) continue outer;\r\n\t\t}\r\n\t\tSystem.out.println(&quot;True&quot;);\r\n\t\treturn;\r\n\t}\r\n\tSystem.out.println(&quot;False&quot;);\r\n}\r\n```","title":"How can I translate this if/else statement into a while loop?","body":"<p>Not a while loop, but two for loops could reduce some of your redundancy:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void foo()\n{\n    outer:\n    for (int i = 0; i &lt; 4; ++i)\n    {\n        for (int j = i; j &lt; i + 4; ++j)\n        {\n            if (piece(j) != 0) continue outer;\n        }\n        System.out.println(&quot;True&quot;);\n        return;\n    }\n    System.out.println(&quot;False&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":16955011,"reputation":33,"user_id":14099218,"display_name":"Kaarthik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":270,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1647721562,"creation_date":1647720737,"question_id":71541686,"body_markdown":"I am trying to convert this if/else statement into a while loop but have no idea what to do. Could someone help me with problem?\r\n\r\n    int no = 0;\r\n        if        ((piece(0) == no) &amp;&amp; (piece(1) == no) &amp;&amp; (piece(2) == no) &amp;&amp; (piece(3) == no)\r\n                || (piece(1) == no) &amp;&amp; (piece(2) == no) &amp;&amp; (piece(3) == no) &amp;&amp; (piece(4) == no)\r\n                || (piece(2) == no) &amp;&amp; (piece(3) == no) &amp;&amp; (piece(4) == no) &amp;&amp; (piece(5) == no)\r\n                || (piece(3) == no) &amp;&amp; (piece(4) == no) &amp;&amp; (piece(5) == no) &amp;&amp; (piece(6) == no)\r\n                || (piece(4) == no) &amp;&amp; (piece(5) == no) &amp;&amp; (piece(6) == no) &amp;&amp; (piece(7) == no)) {\r\n            System.out.println(&quot;True&quot;);\r\n        }\r\n        else\r\n            System.out.println(&quot;False&quot;);","title":"How can I translate this if/else statement into a while loop?","body":"<p>I am trying to convert this if/else statement into a while loop but have no idea what to do. Could someone help me with problem?</p>\n<pre><code>int no = 0;\n    if        ((piece(0) == no) &amp;&amp; (piece(1) == no) &amp;&amp; (piece(2) == no) &amp;&amp; (piece(3) == no)\n            || (piece(1) == no) &amp;&amp; (piece(2) == no) &amp;&amp; (piece(3) == no) &amp;&amp; (piece(4) == no)\n            || (piece(2) == no) &amp;&amp; (piece(3) == no) &amp;&amp; (piece(4) == no) &amp;&amp; (piece(5) == no)\n            || (piece(3) == no) &amp;&amp; (piece(4) == no) &amp;&amp; (piece(5) == no) &amp;&amp; (piece(6) == no)\n            || (piece(4) == no) &amp;&amp; (piece(5) == no) &amp;&amp; (piece(6) == no) &amp;&amp; (piece(7) == no)) {\n        System.out.println(&quot;True&quot;);\n    }\n    else\n        System.out.println(&quot;False&quot;);\n</code></pre>\n"},{"tags":["java","eclipse","spring","hibernate","memory-leaks"],"comments":[{"owner":{"account_id":1268721,"reputation":2821,"user_id":1225463,"accept_rate":43,"display_name":"benjamin.d"},"score":1,"creation_date":1385583088,"post_id":20251800,"comment_id":30206946,"body_markdown":"What is the value of -XX:MaxPermSize in your server startup ?","body":"What is the value of -XX:MaxPermSize in your server startup ?"},{"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"score":0,"creation_date":1385583328,"post_id":20251800,"comment_id":30207078,"body_markdown":"@benjamin.d I dunno.  How can I find out?","body":"@benjamin.d I dunno.  How can I find out?"}],"answers":[{"tags":[],"owner":{"account_id":13598,"reputation":102599,"user_id":27439,"accept_rate":100,"display_name":"Vincent Ramdhanie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1385582251,"creation_date":1385582251,"answer_id":20251913,"question_id":20251800,"body_markdown":"You may not actually have a memory leak in your application. There is a problem with the server that occurs when you redeploy an application many times that would eventually lead to the out of memory problem. Unfortunately all you can do at this point is to restart everything and your app should run fine.\r\n\r\nTake a look at [this question][1] which would help you increase the memory available to Java so that you can work longer before hitting this problem.\r\n\r\n[This question][2] and [this answer][3] may also be helpful.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/17369522/set-default-heap-size-in-windows\r\n  [2]: https://stackoverflow.com/questions/15523510/permgen-space-error-when-deploying-tomcat-7\r\n  [3]: https://stackoverflow.com/a/10392385/27439","title":"Finding a memory leak in a Spring MVC app","body":"<p>You may not actually have a memory leak in your application. There is a problem with the server that occurs when you redeploy an application many times that would eventually lead to the out of memory problem. Unfortunately all you can do at this point is to restart everything and your app should run fine.</p>\n\n<p>Take a look at <a href=\"https://stackoverflow.com/questions/17369522/set-default-heap-size-in-windows\">this question</a> which would help you increase the memory available to Java so that you can work longer before hitting this problem.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/15523510/permgen-space-error-when-deploying-tomcat-7\">This question</a> and <a href=\"https://stackoverflow.com/a/10392385/27439\">this answer</a> may also be helpful.</p>\n"},{"tags":[],"owner":{"account_id":557784,"reputation":1294,"user_id":920350,"accept_rate":83,"display_name":"Will Warren"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1389714876,"creation_date":1389714876,"answer_id":21117856,"question_id":20251800,"body_markdown":"If you want to change the `JAVA_OPTS` of your tomcat instance on Windows, you need to edit the file `catalina.bat` usually in `TOMCAT_BASE/bin/catalina.bat`.\r\n\r\nBUT, I would tweak the options you specified. Firstly, if you specify `-XX:+CMSClassUnloadingEnabled`, you don&#39;t need `-XX:+CMSPermGenSweepingEnabled`.\r\n\r\nSecondly, for `-XX:+CMSClassUnloadingEnabled` to have any effect, you ALSO must specify `-XX:+UseConcMarkSweepGC`.\r\n\r\nSo, in summary, edit your `TOMCAT_BASE/bin/catalina.bat` and under the huge block of `rem` statements at the beginning of the script (somewhere around line 99 ish), add this line:\r\n\r\n    set JAVA_OPTS=-XX:MaxPermSize=128M -XX:+CMSClassUnloadingEnabled -XX:+UseConcMarkSweepGC -Xms256m -Xmx512m\r\n\r\nAnd remember, if you need more PermGen space, increase `MaxPermSize` to something higher however, without the garbage collection options (`UseConcMarkSweepGC` and `CMSClassUnloadingEnabled`) you&#39;re just _prolonging_ the inevitable `java.lang.OutOfMemoryError: PermGen space `\r\n\r\nHope that helps","title":"Finding a memory leak in a Spring MVC app","body":"<p>If you want to change the <code>JAVA_OPTS</code> of your tomcat instance on Windows, you need to edit the file <code>catalina.bat</code> usually in <code>TOMCAT_BASE/bin/catalina.bat</code>.</p>\n\n<p>BUT, I would tweak the options you specified. Firstly, if you specify <code>-XX:+CMSClassUnloadingEnabled</code>, you don't need <code>-XX:+CMSPermGenSweepingEnabled</code>.</p>\n\n<p>Secondly, for <code>-XX:+CMSClassUnloadingEnabled</code> to have any effect, you ALSO must specify <code>-XX:+UseConcMarkSweepGC</code>.</p>\n\n<p>So, in summary, edit your <code>TOMCAT_BASE/bin/catalina.bat</code> and under the huge block of <code>rem</code> statements at the beginning of the script (somewhere around line 99 ish), add this line:</p>\n\n<pre><code>set JAVA_OPTS=-XX:MaxPermSize=128M -XX:+CMSClassUnloadingEnabled -XX:+UseConcMarkSweepGC -Xms256m -Xmx512m\n</code></pre>\n\n<p>And remember, if you need more PermGen space, increase <code>MaxPermSize</code> to something higher however, without the garbage collection options (<code>UseConcMarkSweepGC</code> and <code>CMSClassUnloadingEnabled</code>) you're just <em>prolonging</em> the inevitable <code>java.lang.OutOfMemoryError: PermGen space</code></p>\n\n<p>Hope that helps</p>\n"}],"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6816,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":21117856,"answer_count":2,"score":6,"last_activity_date":1647721213,"creation_date":1385581873,"question_id":20251800,"body_markdown":"I recently did &lt;a href=&quot;http://fruzenshtein.com/spring-mvc-hibernate-maven-crud/&quot;&gt;this tutorial&lt;/a&gt; and got the code running fine.  Then, today, I reopened the project in Eclipse and chose Run As...Run on Server.  The application seemed to go through its normal load process from the logs running in the Eclipse console, but then the following error message showed up in the Eclipse console at the point when I would have expected the application to load in the browser instead:  \r\n  \r\n    Exception in thread &quot;http-bio-8080-exec-3&quot; java.lang.OutOfMemoryError: PermGen space  \r\n  \r\nI did also run the code from &lt;a href=&quot;http://viralpatel.net/blogs/tutorial-save-get-blob-object-spring-3-mvc-hibernate/&quot;&gt;this tutorial&lt;/a&gt; beforehand, and opened a few blob files, but I don&#39;t think that caused the problem because this error persists even when I shut everything down and restart the computer before doing Run As...Run on Server for the code below again.  \r\n  \r\nI searched for the error and &lt;a href=&quot;https://stackoverflow.com/questions/14988234/java-lang-outofmemoryerror&quot;&gt;read posts&lt;/a&gt; about memory leaks from things like loading a massive file completely into memory instead of using an input stream, etc.  But when I analyzed all the code in the application, I could not find any large variables.  I am posting the code below.\r\n  \r\nHow can I find the memory leak?  \r\n  \r\nHere is Link Controller:  \r\n  \r\n    @Controller\r\n    public class LinkController {\r\n        \r\n        @RequestMapping(value=&quot;/&quot;)\r\n        public ModelAndView mainPage() {return new ModelAndView(&quot;home&quot;);}\r\n        \r\n        @RequestMapping(value=&quot;/index&quot;)\r\n        public ModelAndView indexPage() {return new ModelAndView(&quot;home&quot;);}\r\n\r\n    }\r\n  \r\nHere is Team Controller:  \r\n  \r\n    @Controller\r\n    @RequestMapping(value=&quot;/team&quot;)\r\n    public class TeamController {\r\n        \r\n        @Autowired\r\n        private TeamService teamService;\r\n        \r\n        @RequestMapping(value=&quot;/add&quot;, method=RequestMethod.GET)\r\n        public ModelAndView addTeamPage() {\r\n                ModelAndView modelAndView = new ModelAndView(&quot;add-team-form&quot;);\r\n                modelAndView.addObject(&quot;team&quot;, new Team());\r\n                return modelAndView;\r\n        }\r\n        \r\n        @RequestMapping(value=&quot;/add&quot;, method=RequestMethod.POST)\r\n        public ModelAndView addingTeam(@ModelAttribute Team team) {\r\n                ModelAndView modelAndView = new ModelAndView(&quot;home&quot;);\r\n                teamService.addTeam(team);\r\n                String message = &quot;Team was successfully added.&quot;;\r\n                modelAndView.addObject(&quot;message&quot;, message);\r\n                return modelAndView;\r\n        }\r\n        \r\n        @RequestMapping(value=&quot;/list&quot;)\r\n        public ModelAndView listOfTeams() {\r\n                ModelAndView modelAndView = new ModelAndView(&quot;list-of-teams&quot;);\r\n                List&lt;Team&gt; teams = teamService.getTeams();\r\n                modelAndView.addObject(&quot;teams&quot;, teams);\r\n                return modelAndView;\r\n        }\r\n        \r\n        @RequestMapping(value=&quot;/edit/{id}&quot;, method=RequestMethod.GET)\r\n        public ModelAndView editTeamPage(@PathVariable Integer id) {\r\n                ModelAndView modelAndView = new ModelAndView(&quot;edit-team-form&quot;);\r\n                Team team = teamService.getTeam(id);\r\n                modelAndView.addObject(&quot;team&quot;,team);\r\n                return modelAndView;\r\n        }\r\n        \r\n        @RequestMapping(value=&quot;/edit/{id}&quot;, method=RequestMethod.POST)\r\n        public ModelAndView edditingTeam(@ModelAttribute Team team, @PathVariable Integer id) {\r\n                ModelAndView modelAndView = new ModelAndView(&quot;home&quot;);       \r\n                teamService.updateTeam(team);\r\n                String message = &quot;Team was successfully edited.&quot;;\r\n                modelAndView.addObject(&quot;message&quot;, message);\r\n                return modelAndView;\r\n        }\r\n        \r\n        @RequestMapping(value=&quot;/delete/{id}&quot;, method=RequestMethod.GET)\r\n        public ModelAndView deleteTeam(@PathVariable Integer id) {\r\n                ModelAndView modelAndView = new ModelAndView(&quot;home&quot;);\r\n                teamService.deleteTeam(id);\r\n                String message = &quot;Team was successfully deleted.&quot;;\r\n                modelAndView.addObject(&quot;message&quot;, message);\r\n                return modelAndView;\r\n        }\r\n    }\r\n  \r\nHere is TeamDAOImpl:  \r\n  \r\n    @Repository\r\n    public class TeamDAOImpl implements TeamDAO {\r\n        @Autowired\r\n        private SessionFactory sessionFactory;\r\n        \r\n        private Session getCurrentSession() {return sessionFactory.getCurrentSession();}\r\n\r\n        public void addTeam(Team team) {getCurrentSession().save(team);}\r\n\r\n        public void updateTeam(Team team) {\r\n                Team teamToUpdate = getTeam(team.getId());\r\n                teamToUpdate.setName(team.getName());\r\n                teamToUpdate.setRating(team.getRating());\r\n                getCurrentSession().update(teamToUpdate);\r\n        }\r\n\r\n        public Team getTeam(int id) {\r\n                Team team = (Team) getCurrentSession().get(Team.class, id);\r\n                return team;\r\n        }\r\n\r\n        public void deleteTeam(int id) {\r\n                Team team = getTeam(id);\r\n                if (team != null){getCurrentSession().delete(team);}\r\n        }\r\n\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public List&lt;Team&gt; getTeams() {\r\n                return getCurrentSession().createQuery(&quot;from Team&quot;).list();\r\n        }\r\n\r\n    }\r\n  \r\nHere is Initializer:  \r\n  \r\n    public class Initializer implements WebApplicationInitializer {\r\n        public void onStartup(ServletContext servletContext)throws ServletException {\r\n                AnnotationConfigWebApplicationContext ctx = new AnnotationConfigWebApplicationContext();\r\n                ctx.register(WebAppConfig.class);\r\n                servletContext.addListener(new ContextLoaderListener(ctx));\r\n                ctx.setServletContext(servletContext);\r\n                Dynamic servlet = servletContext.addServlet(&quot;dispatcher&quot;, new DispatcherServlet(ctx));\r\n                servlet.addMapping(&quot;/&quot;);\r\n                servlet.setLoadOnStartup(1);\r\n        }\r\n    }  \r\n  \r\nHere is WebAppConfig:  \r\n  \r\n    @Configuration\r\n    @ComponentScan(&quot;com.sprhib&quot;)\r\n    @EnableWebMvc\r\n    @EnableTransactionManagement\r\n    @PropertySource(&quot;classpath:application.properties&quot;)\r\n    public class WebAppConfig {\r\n        private static final String PROPERTY_NAME_DATABASE_DRIVER = &quot;db.driver&quot;;\r\n        private static final String PROPERTY_NAME_DATABASE_PASSWORD = &quot;db.password&quot;;\r\n        private static final String PROPERTY_NAME_DATABASE_URL = &quot;db.url&quot;;\r\n        private static final String PROPERTY_NAME_DATABASE_USERNAME = &quot;db.username&quot;;\r\n        private static final String PROPERTY_NAME_HIBERNATE_DIALECT = &quot;hibernate.dialect&quot;;\r\n        private static final String PROPERTY_NAME_HIBERNATE_SHOW_SQL = &quot;hibernate.show_sql&quot;;\r\n        private static final String PROPERTY_NAME_ENTITYMANAGER_PACKAGES_TO_SCAN = &quot;entitymanager.packages.to.scan&quot;;\r\n    \r\n        @Resource\r\n        private Environment env;\r\n        \r\n        @Bean\r\n        public DataSource dataSource() {\r\n                DriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n                dataSource.setDriverClassName(env.getRequiredProperty(PROPERTY_NAME_DATABASE_DRIVER));\r\n                dataSource.setUrl(env.getRequiredProperty(PROPERTY_NAME_DATABASE_URL));\r\n                dataSource.setUsername(env.getRequiredProperty(PROPERTY_NAME_DATABASE_USERNAME));\r\n                dataSource.setPassword(env.getRequiredProperty(PROPERTY_NAME_DATABASE_PASSWORD));\r\n                return dataSource;\r\n        }\r\n        \r\n        @Bean\r\n        public LocalSessionFactoryBean sessionFactory() {\r\n                LocalSessionFactoryBean sessionFactoryBean = new LocalSessionFactoryBean();\r\n                sessionFactoryBean.setDataSource(dataSource());\r\n                sessionFactoryBean.setPackagesToScan(env.getRequiredProperty(PROPERTY_NAME_ENTITYMANAGER_PACKAGES_TO_SCAN));\r\n                sessionFactoryBean.setHibernateProperties(hibProperties());\r\n                return sessionFactoryBean;\r\n        }\r\n        \r\n        private Properties hibProperties() {\r\n                Properties properties = new Properties();\r\n                properties.put(PROPERTY_NAME_HIBERNATE_DIALECT, env.getRequiredProperty(PROPERTY_NAME_HIBERNATE_DIALECT));\r\n                properties.put(PROPERTY_NAME_HIBERNATE_SHOW_SQL, env.getRequiredProperty(PROPERTY_NAME_HIBERNATE_SHOW_SQL));\r\n                return properties;        \r\n        }\r\n        \r\n        @Bean\r\n        public HibernateTransactionManager transactionManager() {\r\n                HibernateTransactionManager transactionManager = new HibernateTransactionManager();\r\n                transactionManager.setSessionFactory(sessionFactory().getObject());\r\n                return transactionManager;\r\n        }\r\n        \r\n        @Bean\r\n        public UrlBasedViewResolver setupViewResolver() {\r\n                UrlBasedViewResolver resolver = new UrlBasedViewResolver();\r\n                resolver.setPrefix(&quot;/WEB-INF/pages/&quot;);\r\n                resolver.setSuffix(&quot;.jsp&quot;);\r\n                resolver.setViewClass(JstlView.class);\r\n                return resolver;\r\n        }\r\n    }  \r\n  \r\nHere is Team:  \r\n  \r\n    @Entity\r\n    @Table(name=&quot;teams&quot;)\r\n    public class Team {\r\n        @Id\r\n        @GeneratedValue\r\n        private Integer id;\r\n        private String name;\r\n        private Integer rating;\r\n        public Integer getId() {return id;}\r\n        public void setId(Integer id) {this.id = id;}\r\n        public String getName() {return name;}\r\n        public void setName(String name) {this.name = name;}\r\n        public Integer getRating() {return rating;}\r\n        public void setRating(Integer rating) {this.rating = rating;}\r\n    }  \r\n  \r\nHere is TeamServiceImpl:  \r\n  \r\n    @Service\r\n    @Transactional\r\n    public class TeamServiceImpl implements TeamService {\r\n        @Autowired\r\n        private TeamDAO teamDAO;\r\n\r\n        public void addTeam(Team team) {teamDAO.addTeam(team);}\r\n\r\n        public void updateTeam(Team team) {teamDAO.updateTeam(team);}\r\n\r\n        public Team getTeam(int id) {return teamDAO.getTeam(id);}\r\n\r\n        public void deleteTeam(int id) {teamDAO.deleteTeam(id);}\r\n\r\n        public List&lt;Team&gt; getTeams() {return teamDAO.getTeams();}\r\n\r\n    }  \r\n  \r\nEdit\r\n---\r\n  \r\nIf I am supposed to set the JAVA_OPTS variable to allow class unloading, and to increase memory size, how do I do so in Windows 7 running Tomcat 7?\r\n \r\nMy sense is I need to create a Windows system variable and possibly run something on the command line after.  But what?  Here is what I am starting with:  \r\n  \r\n    JAVA_OPTS=&quot;-XX:MaxPermSize=128M -XX:+CMSClassUnloadingEnabled -XX:+CMSPermGenSweepingEnabled -Xms256m -Xmx512m&quot;\r\n","title":"Finding a memory leak in a Spring MVC app","body":"<p>I recently did <a href=\"http://fruzenshtein.com/spring-mvc-hibernate-maven-crud/\" rel=\"nofollow noreferrer\">this tutorial</a> and got the code running fine.  Then, today, I reopened the project in Eclipse and chose Run As...Run on Server.  The application seemed to go through its normal load process from the logs running in the Eclipse console, but then the following error message showed up in the Eclipse console at the point when I would have expected the application to load in the browser instead:</p>\n<pre><code>Exception in thread &quot;http-bio-8080-exec-3&quot; java.lang.OutOfMemoryError: PermGen space  \n</code></pre>\n<p>I did also run the code from <a href=\"http://viralpatel.net/blogs/tutorial-save-get-blob-object-spring-3-mvc-hibernate/\" rel=\"nofollow noreferrer\">this tutorial</a> beforehand, and opened a few blob files, but I don't think that caused the problem because this error persists even when I shut everything down and restart the computer before doing Run As...Run on Server for the code below again.</p>\n<p>I searched for the error and <a href=\"https://stackoverflow.com/questions/14988234/java-lang-outofmemoryerror\">read posts</a> about memory leaks from things like loading a massive file completely into memory instead of using an input stream, etc.  But when I analyzed all the code in the application, I could not find any large variables.  I am posting the code below.</p>\n<p>How can I find the memory leak?</p>\n<p>Here is Link Controller:</p>\n<pre><code>@Controller\npublic class LinkController {\n    \n    @RequestMapping(value=&quot;/&quot;)\n    public ModelAndView mainPage() {return new ModelAndView(&quot;home&quot;);}\n    \n    @RequestMapping(value=&quot;/index&quot;)\n    public ModelAndView indexPage() {return new ModelAndView(&quot;home&quot;);}\n\n}\n</code></pre>\n<p>Here is Team Controller:</p>\n<pre><code>@Controller\n@RequestMapping(value=&quot;/team&quot;)\npublic class TeamController {\n    \n    @Autowired\n    private TeamService teamService;\n    \n    @RequestMapping(value=&quot;/add&quot;, method=RequestMethod.GET)\n    public ModelAndView addTeamPage() {\n            ModelAndView modelAndView = new ModelAndView(&quot;add-team-form&quot;);\n            modelAndView.addObject(&quot;team&quot;, new Team());\n            return modelAndView;\n    }\n    \n    @RequestMapping(value=&quot;/add&quot;, method=RequestMethod.POST)\n    public ModelAndView addingTeam(@ModelAttribute Team team) {\n            ModelAndView modelAndView = new ModelAndView(&quot;home&quot;);\n            teamService.addTeam(team);\n            String message = &quot;Team was successfully added.&quot;;\n            modelAndView.addObject(&quot;message&quot;, message);\n            return modelAndView;\n    }\n    \n    @RequestMapping(value=&quot;/list&quot;)\n    public ModelAndView listOfTeams() {\n            ModelAndView modelAndView = new ModelAndView(&quot;list-of-teams&quot;);\n            List&lt;Team&gt; teams = teamService.getTeams();\n            modelAndView.addObject(&quot;teams&quot;, teams);\n            return modelAndView;\n    }\n    \n    @RequestMapping(value=&quot;/edit/{id}&quot;, method=RequestMethod.GET)\n    public ModelAndView editTeamPage(@PathVariable Integer id) {\n            ModelAndView modelAndView = new ModelAndView(&quot;edit-team-form&quot;);\n            Team team = teamService.getTeam(id);\n            modelAndView.addObject(&quot;team&quot;,team);\n            return modelAndView;\n    }\n    \n    @RequestMapping(value=&quot;/edit/{id}&quot;, method=RequestMethod.POST)\n    public ModelAndView edditingTeam(@ModelAttribute Team team, @PathVariable Integer id) {\n            ModelAndView modelAndView = new ModelAndView(&quot;home&quot;);       \n            teamService.updateTeam(team);\n            String message = &quot;Team was successfully edited.&quot;;\n            modelAndView.addObject(&quot;message&quot;, message);\n            return modelAndView;\n    }\n    \n    @RequestMapping(value=&quot;/delete/{id}&quot;, method=RequestMethod.GET)\n    public ModelAndView deleteTeam(@PathVariable Integer id) {\n            ModelAndView modelAndView = new ModelAndView(&quot;home&quot;);\n            teamService.deleteTeam(id);\n            String message = &quot;Team was successfully deleted.&quot;;\n            modelAndView.addObject(&quot;message&quot;, message);\n            return modelAndView;\n    }\n}\n</code></pre>\n<p>Here is TeamDAOImpl:</p>\n<pre><code>@Repository\npublic class TeamDAOImpl implements TeamDAO {\n    @Autowired\n    private SessionFactory sessionFactory;\n    \n    private Session getCurrentSession() {return sessionFactory.getCurrentSession();}\n\n    public void addTeam(Team team) {getCurrentSession().save(team);}\n\n    public void updateTeam(Team team) {\n            Team teamToUpdate = getTeam(team.getId());\n            teamToUpdate.setName(team.getName());\n            teamToUpdate.setRating(team.getRating());\n            getCurrentSession().update(teamToUpdate);\n    }\n\n    public Team getTeam(int id) {\n            Team team = (Team) getCurrentSession().get(Team.class, id);\n            return team;\n    }\n\n    public void deleteTeam(int id) {\n            Team team = getTeam(id);\n            if (team != null){getCurrentSession().delete(team);}\n    }\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    public List&lt;Team&gt; getTeams() {\n            return getCurrentSession().createQuery(&quot;from Team&quot;).list();\n    }\n\n}\n</code></pre>\n<p>Here is Initializer:</p>\n<pre><code>public class Initializer implements WebApplicationInitializer {\n    public void onStartup(ServletContext servletContext)throws ServletException {\n            AnnotationConfigWebApplicationContext ctx = new AnnotationConfigWebApplicationContext();\n            ctx.register(WebAppConfig.class);\n            servletContext.addListener(new ContextLoaderListener(ctx));\n            ctx.setServletContext(servletContext);\n            Dynamic servlet = servletContext.addServlet(&quot;dispatcher&quot;, new DispatcherServlet(ctx));\n            servlet.addMapping(&quot;/&quot;);\n            servlet.setLoadOnStartup(1);\n    }\n}  \n</code></pre>\n<p>Here is WebAppConfig:</p>\n<pre><code>@Configuration\n@ComponentScan(&quot;com.sprhib&quot;)\n@EnableWebMvc\n@EnableTransactionManagement\n@PropertySource(&quot;classpath:application.properties&quot;)\npublic class WebAppConfig {\n    private static final String PROPERTY_NAME_DATABASE_DRIVER = &quot;db.driver&quot;;\n    private static final String PROPERTY_NAME_DATABASE_PASSWORD = &quot;db.password&quot;;\n    private static final String PROPERTY_NAME_DATABASE_URL = &quot;db.url&quot;;\n    private static final String PROPERTY_NAME_DATABASE_USERNAME = &quot;db.username&quot;;\n    private static final String PROPERTY_NAME_HIBERNATE_DIALECT = &quot;hibernate.dialect&quot;;\n    private static final String PROPERTY_NAME_HIBERNATE_SHOW_SQL = &quot;hibernate.show_sql&quot;;\n    private static final String PROPERTY_NAME_ENTITYMANAGER_PACKAGES_TO_SCAN = &quot;entitymanager.packages.to.scan&quot;;\n\n    @Resource\n    private Environment env;\n    \n    @Bean\n    public DataSource dataSource() {\n            DriverManagerDataSource dataSource = new DriverManagerDataSource();\n            dataSource.setDriverClassName(env.getRequiredProperty(PROPERTY_NAME_DATABASE_DRIVER));\n            dataSource.setUrl(env.getRequiredProperty(PROPERTY_NAME_DATABASE_URL));\n            dataSource.setUsername(env.getRequiredProperty(PROPERTY_NAME_DATABASE_USERNAME));\n            dataSource.setPassword(env.getRequiredProperty(PROPERTY_NAME_DATABASE_PASSWORD));\n            return dataSource;\n    }\n    \n    @Bean\n    public LocalSessionFactoryBean sessionFactory() {\n            LocalSessionFactoryBean sessionFactoryBean = new LocalSessionFactoryBean();\n            sessionFactoryBean.setDataSource(dataSource());\n            sessionFactoryBean.setPackagesToScan(env.getRequiredProperty(PROPERTY_NAME_ENTITYMANAGER_PACKAGES_TO_SCAN));\n            sessionFactoryBean.setHibernateProperties(hibProperties());\n            return sessionFactoryBean;\n    }\n    \n    private Properties hibProperties() {\n            Properties properties = new Properties();\n            properties.put(PROPERTY_NAME_HIBERNATE_DIALECT, env.getRequiredProperty(PROPERTY_NAME_HIBERNATE_DIALECT));\n            properties.put(PROPERTY_NAME_HIBERNATE_SHOW_SQL, env.getRequiredProperty(PROPERTY_NAME_HIBERNATE_SHOW_SQL));\n            return properties;        \n    }\n    \n    @Bean\n    public HibernateTransactionManager transactionManager() {\n            HibernateTransactionManager transactionManager = new HibernateTransactionManager();\n            transactionManager.setSessionFactory(sessionFactory().getObject());\n            return transactionManager;\n    }\n    \n    @Bean\n    public UrlBasedViewResolver setupViewResolver() {\n            UrlBasedViewResolver resolver = new UrlBasedViewResolver();\n            resolver.setPrefix(&quot;/WEB-INF/pages/&quot;);\n            resolver.setSuffix(&quot;.jsp&quot;);\n            resolver.setViewClass(JstlView.class);\n            return resolver;\n    }\n}  \n</code></pre>\n<p>Here is Team:</p>\n<pre><code>@Entity\n@Table(name=&quot;teams&quot;)\npublic class Team {\n    @Id\n    @GeneratedValue\n    private Integer id;\n    private String name;\n    private Integer rating;\n    public Integer getId() {return id;}\n    public void setId(Integer id) {this.id = id;}\n    public String getName() {return name;}\n    public void setName(String name) {this.name = name;}\n    public Integer getRating() {return rating;}\n    public void setRating(Integer rating) {this.rating = rating;}\n}  \n</code></pre>\n<p>Here is TeamServiceImpl:</p>\n<pre><code>@Service\n@Transactional\npublic class TeamServiceImpl implements TeamService {\n    @Autowired\n    private TeamDAO teamDAO;\n\n    public void addTeam(Team team) {teamDAO.addTeam(team);}\n\n    public void updateTeam(Team team) {teamDAO.updateTeam(team);}\n\n    public Team getTeam(int id) {return teamDAO.getTeam(id);}\n\n    public void deleteTeam(int id) {teamDAO.deleteTeam(id);}\n\n    public List&lt;Team&gt; getTeams() {return teamDAO.getTeams();}\n\n}  \n</code></pre>\n<h2>Edit</h2>\n<p>If I am supposed to set the JAVA_OPTS variable to allow class unloading, and to increase memory size, how do I do so in Windows 7 running Tomcat 7?</p>\n<p>My sense is I need to create a Windows system variable and possibly run something on the command line after.  But what?  Here is what I am starting with:</p>\n<pre><code>JAVA_OPTS=&quot;-XX:MaxPermSize=128M -XX:+CMSClassUnloadingEnabled -XX:+CMSPermGenSweepingEnabled -Xms256m -Xmx512m&quot;\n</code></pre>\n"},{"tags":["java","inheritance"],"comments":[{"owner":{"account_id":347460,"reputation":1972,"user_id":681586,"accept_rate":54,"display_name":"Petre Popescu"},"score":0,"creation_date":1647720236,"post_id":71541607,"comment_id":126443445,"body_markdown":"I think that you need to provide a bit more info. I am unsure what is the question here. Why it is &quot;null null&quot; for the name?","body":"I think that you need to provide a bit more info. I am unsure what is the question here. Why it is &quot;null null&quot; for the name?"},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":0,"creation_date":1647720437,"post_id":71541607,"comment_id":126443488,"body_markdown":"See [How to debug small programs](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/). This is over 300 lines of code. This is *not* a well-defined scoped problem, and it&#39;s not our responsibility to debug your entire program. StackOverflow is intended for pointed questions, not full program dumps.","body":"See <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs</a>. This is over 300 lines of code. This is <i>not</i> a well-defined scoped problem, and it&#39;s not our responsibility to debug your entire program. StackOverflow is intended for pointed questions, not full program dumps."}],"answers":[{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647720931,"creation_date":1647720931,"answer_id":71541714,"question_id":71541607,"body_markdown":"You have a lot of problems with your code. Firstly, your Job class does more than one thing. Try separate the parsing of inputs to an own class.\r\nSecondly you fetch a lot of data without using it e.g.:\r\n\r\n                case &quot;0&quot;:\r\n                    customer.getCustomerTypeDesctipion();\r\n                    break;\r\n\r\n                case &quot;1&quot;:\r\n                    preferredCustomer.getCustomerTypeDesctipion();\r\n                    preferredCustomer.getDiscountRate();\r\n                    preferredCustomer.getInformation();\r\n                    break;\r\n\r\n                case &quot;2&quot;:\r\n                    seniorCustomer.getCustomerTypeDescription();\r\n                    seniorCustomer.getDiscountRate();\r\n                    break;\r\n\r\nEvery call on `customer`, `preferredCustomer` and `seniorCustomer` is not being used or printed, so why do you need it?\r\n\r\nYou are using a lot of while loops. Do you understand when to use them? Maybe you want to use if-statements instead?","title":"Assign customer types and show only preferred customer","body":"<p>You have a lot of problems with your code. Firstly, your Job class does more than one thing. Try separate the parsing of inputs to an own class.\nSecondly you fetch a lot of data without using it e.g.:</p>\n<pre><code>            case &quot;0&quot;:\n                customer.getCustomerTypeDesctipion();\n                break;\n\n            case &quot;1&quot;:\n                preferredCustomer.getCustomerTypeDesctipion();\n                preferredCustomer.getDiscountRate();\n                preferredCustomer.getInformation();\n                break;\n\n            case &quot;2&quot;:\n                seniorCustomer.getCustomerTypeDescription();\n                seniorCustomer.getDiscountRate();\n                break;\n</code></pre>\n<p>Every call on <code>customer</code>, <code>preferredCustomer</code> and <code>seniorCustomer</code> is not being used or printed, so why do you need it?</p>\n<p>You are using a lot of while loops. Do you understand when to use them? Maybe you want to use if-statements instead?</p>\n"}],"owner":{"account_id":24538353,"reputation":1,"user_id":18449067,"display_name":"cattedad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1647720931,"creation_date":1647719914,"question_id":71541607,"body_markdown":"I am stuck with this program. I need it to create jobs, store distinct customer data, and display the preferred customers. What I have so far is below, when I run the code and enter a job it always stores the customer type as regular and name as null null, preferred customers dont print at all.\r\n\r\nSample I/O\r\n\r\n- Summary \r\n- Name: Joe Smith Customer Type: Preferred Customer Since: 2009\r\n- Size of lawn: 726 square meters\r\n- Cost for grass cutting: $10.45\r\n- Vehicles to wash: 1\r\n- Cost for washing: $18.00\r\n- Total cost: $28.45\r\n- Summary \r\n- Name: Barb MacDonald Customer Type: Senior\r\n- Size of lawn: 726 square meters\r\n- Cost for grass cutting: $9.87\r\n- Vehicles to wash: 0\r\n- Cost for washing: $0.00\r\n- Total cost: $9.87\r\n\r\n\r\n```\r\npublic class Job {\r\n\r\n    public static final String BUSINESS_NAME = &quot;Will&#39;s Summer Services&quot;;\r\n    public static final double COST_PER_SQUARE_METER = 0.016;\r\n    public static final double COST_WASH_PER_VEHICLE = 20.0;\r\n\r\n    public static final int LENGTH_MIN = 5;\r\n    public static final int LENGTH_MAX = 100;\r\n    public static final int LENGTH_DEFAULT = 100;\r\n    public static final int WIDTH_MIN = 5;\r\n    public static final int WIDTH_MAX = 50;\r\n    public static final int WIDTH_DEFAULT = 50;\r\n    public static final int VEHICLES_MAX = 3;\r\n\r\n    private Customer customer;\r\n    private int length;\r\n    private int width;\r\n    private int numberOfVehicles;\r\n    private int area;\r\n    private double costGrassCutting;\r\n    private double costWashing;\r\n    private double costTotal;\r\n\r\n    //Constructors\r\n    public Job() {\r\n        customer = new Customer();\r\n    }\r\n\r\n    public Job(String name) {\r\n        customer = new Customer(name);\r\n    }\r\n\r\n    public Job(String name, int length, int width, int numberOfVehicles) {\r\n        customer = new Customer(name);\r\n        this.length = length;\r\n        this.width = width;\r\n        this.numberOfVehicles = numberOfVehicles;\r\n    }\r\n\r\n    public void getInformation() {\r\n\r\n        //Obtain the required information from the user\r\n        Scanner input = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;\\nPlease enter job information\\n&quot;);\r\n        int customerType = CisUtility.getInputInt(&quot;Customer type (0=regular 1=preferred 2=senior)?&quot;);\r\n        Customer customer = new Customer();\r\n        PreferredCustomer preferredCustomer = new PreferredCustomer();\r\n        SeniorCustomer seniorCustomer = new SeniorCustomer();\r\n\r\n        while (customerType != 0 &amp;&amp; customerType != 1 &amp;&amp; customerType != 2) {\r\n            customerType = CisUtility.getInputInt(&quot;Error - Please try again.\\nCustomer type (0=regular 1=preferred 2=senior)?&quot;);\r\n\r\n            switch (customer.getCustomerTypeDesctipion()) {\r\n                case &quot;0&quot;:\r\n                    customer.getCustomerTypeDesctipion();\r\n                    break;\r\n\r\n                case &quot;1&quot;:\r\n                    preferredCustomer.getCustomerTypeDesctipion();\r\n                    preferredCustomer.getDiscountRate();\r\n                    preferredCustomer.getInformation();\r\n                    break;\r\n\r\n                case &quot;2&quot;:\r\n                    seniorCustomer.getCustomerTypeDescription();\r\n                    seniorCustomer.getDiscountRate();\r\n                    break;\r\n\r\n            }\r\n        }\r\n\r\n        //Get the customer information.\r\n        customer.getInformation();\r\n\r\n        System.out.println(&quot;What is the length of the lawn(meters)?&quot;);\r\n        length = input.nextInt();\r\n        input.nextLine();  //burn\r\n\r\n        while (length &lt; LENGTH_MIN || length &gt; LENGTH_MAX) {\r\n            System.out.println(&quot;Invalid length entered, please try again&quot;);\r\n            System.out.println(&quot;What is the length of the lawn(meters)?&quot;);\r\n            length = input.nextInt();\r\n            input.nextLine();  //burn\r\n        }\r\n\r\n        System.out.println(&quot;What is the width of the lawn(meters)?&quot;);\r\n        width = input.nextInt();\r\n        input.nextLine();  //burn\r\n\r\n        while (width &lt; WIDTH_MIN || width &gt; WIDTH_MAX) {\r\n            System.out.println(&quot;Invalid width entered, please try again&quot;);\r\n            System.out.println(&quot;What is the width of the lawn(meters)?&quot;);\r\n            width = input.nextInt();\r\n            input.nextLine();  //burn\r\n        }\r\n\r\n        System.out.println(&quot;How many vehicles to wash?&quot;);\r\n        numberOfVehicles = input.nextInt();\r\n        input.nextLine();  //burn\r\n\r\n        while (numberOfVehicles &gt; VEHICLES_MAX) {\r\n            System.out.println(&quot;Invalid number of vehicles entered, please try again&quot;);\r\n            System.out.println(&quot;How many vehicles to wash?&quot;);\r\n            numberOfVehicles = input.nextInt();\r\n            input.nextLine();  //burn\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Calculate the overall cost. Also set the related cost attributes.\r\n     \r\n     */\r\n    public double calculateCost() {\r\n\r\n        double discount = customer.getDisountRate();\r\n\r\n        //Calculations \r\n        area = length * width;\r\n        costGrassCutting = COST_PER_SQUARE_METER * area * (1 - discount);\r\n        costWashing = numberOfVehicles * COST_WASH_PER_VEHICLE * (1 - discount);\r\n        costTotal = costGrassCutting + costWashing;\r\n        return costTotal;\r\n\r\n    }\r\n\r\n    public Customer getCustomer() {\r\n        return customer;\r\n    }\r\n\r\n    public int getLength() {\r\n        return length;\r\n    }\r\n\r\n    public void setLength(int length) {\r\n        this.length = length;\r\n    }\r\n\r\n    public int getWidth() {\r\n        return width;\r\n    }\r\n\r\n    public void setWidth(int width) {\r\n        this.width = width;\r\n    }\r\n\r\n    public int getNumberOfVehicles() {\r\n        return numberOfVehicles;\r\n    }\r\n\r\n    public void setNumberOfVehicles(int numberOfVehicles) {\r\n        this.numberOfVehicles = numberOfVehicles;\r\n    }\r\n\r\n    public int getArea() {\r\n        return area;\r\n    }\r\n\r\n    public void setArea(int area) {\r\n        this.area = area;\r\n    }\r\n\r\n    public double getCostGrassCutting() {\r\n        return costGrassCutting;\r\n    }\r\n\r\n    public void setCostGrassCutting(double costGrassCutting) {\r\n        this.costGrassCutting = costGrassCutting;\r\n    }\r\n\r\n    public double getCostWashing() {\r\n        return costWashing;\r\n    }\r\n\r\n    public void setCostWashing(double costWashing) {\r\n        this.costWashing = costWashing;\r\n    }\r\n\r\n    public double getCostTotal() {\r\n        return costTotal;\r\n    }\r\n\r\n    public void setCostTotal(double costTotal) {\r\n        this.costTotal = costTotal;\r\n    }\r\n\r\n    public void display() {\r\n        //Show summary\r\n        System.out.println(this.toString());\r\n    }\r\n\r\n    public String toString() {\r\n        String output = &quot;---------------------------------&quot; + System.lineSeparator()\r\n                + &quot;- Summary &quot; + System.lineSeparator()\r\n                + &quot;- &quot; + customer.toString() + System.lineSeparator()\r\n                + &quot;- Size of lawn: &quot; + area + &quot; square meters&quot; + System.lineSeparator()\r\n                + &quot;- Cost for grass cutting: &quot; + CisUtility.getCurrency(costGrassCutting) + System.lineSeparator()\r\n                + &quot;- Vehicles to wash: &quot; + numberOfVehicles + System.lineSeparator()\r\n                + &quot;- Cost for washing: &quot; + CisUtility.getCurrency(costWashing) + System.lineSeparator()\r\n                + &quot;- Total cost: &quot; + CisUtility.getCurrency(costTotal) + System.lineSeparator()\r\n                + &quot;---------------------------------&quot; + System.lineSeparator() + System.lineSeparator();\r\n        return output;\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\npublic class PreferredCustomer extends Customer {\r\n\r\n    public static final double DISCOUNT_PREFERRED = 0.10;\r\n    private int customerSince;\r\n\r\n    @Override\r\n    public String getCustomerTypeDesctipion() {\r\n\r\n        return &quot;Preferred&quot;;\r\n    }\r\n\r\n    public double getDiscountRate() {\r\n        return DISCOUNT_PREFERRED;\r\n\r\n    }\r\n\r\n    @Override\r\n    public void getInformation() {\r\n       this.customerSince = CisUtility.getInputInt(&quot;When did this person become a customer?&quot;);\r\n       super.getInformation();\r\n\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return super.toString() + &quot;Since: &quot; + customerSince;\r\n    }\r\n\r\n    public int getCustomerSince() {\r\n        return customerSince;\r\n    }\r\n\r\n    public void setCustomerSince(int customerSince) {\r\n        this.customerSince = customerSince;\r\n    }\r\n    \r\n\r\n}\r\n```\r\n\r\n```\r\npublic class SeniorCustomer extends Customer {\r\n    \r\n    public static final double DISCOUNT_SENIOR = 0.15;\r\n    \r\n    public String getCustomerTypeDescription() {\r\n       \r\n        return &quot;Senior&quot;;\r\n       \r\n        \r\n    \r\n}\r\n    public double getDiscountRate(){\r\n        \r\n    \r\n        return DISCOUNT_SENIOR;\r\n        \r\n    \r\n}\r\n    \r\n    \r\n}\r\n```\r\n\r\n```\r\npublic class Customer {\r\n\r\n    private String firstName;\r\n    private String lastName;\r\n\r\n    public static final int TYPE_PREFERRED = 1;\r\n    public static final int TYPE_SENIOR = 2;\r\n\r\n    public Customer() {\r\n    }\r\n\r\n    /**\r\n     * Constructor that accepts first and last name as one string\r\n   \r\n     */\r\n    public Customer(String name) {\r\n        setFirstAndLastName(name);\r\n    }\r\n\r\n    public Customer(String firstName, String lastName) {\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n    }\r\n\r\n    public double getDisountRate() {\r\n        double discount = 0;\r\n\r\n        return discount;\r\n    }\r\n\r\n    /**\r\n     * Get the description based on the customer type\r\n     *\r\n     * @since 20210608\r\n     * @author BJM\r\n     */\r\n    public String getCustomerTypeDesctipion() {\r\n\r\n        return &quot;regular&quot;;\r\n    }\r\n\r\n    /**\r\n     * Get the first and last name out of the one string.Note that it is\r\n     * expected to have exactly two parts. Note also that it is called from the\r\n     * constructor which is why it is set to final (We&#39;ll get to this in\r\n     * inheritance. It will work without final but give a warning.\r\n     *\r\n     * @param name Full name (first and last separated by space)\r\n     * @since 20210608\r\n     * @author BJM\r\n     */\r\n    public final void setFirstAndLastName(String name) {\r\n        String[] parts = name.split(&quot; &quot;);\r\n        if (parts.length &gt;= 2) {\r\n            firstName = parts[0];\r\n            lastName = parts[1];\r\n        }\r\n    }\r\n\r\n    public void getInformation() {\r\n\r\n        this.firstName = CisUtility.getInputString(&quot;First Name?&quot;);\r\n        this.lastName = CisUtility.getInputString(&quot;Last Name?&quot;);\r\n\r\n    }\r\n\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n\r\n    public void setFirstName(String firstName) {\r\n        this.firstName = firstName;\r\n    }\r\n\r\n    public String getLastName() {\r\n        return lastName;\r\n    }\r\n\r\n    public void setLastName(String lastName) {\r\n        this.lastName = lastName;\r\n    }\r\n\r\n    public void display() {\r\n        CisUtility.display(this.toString());\r\n    }\r\n\r\n    public String toString() {\r\n        String output = &quot;Name: &quot; + firstName + &quot; &quot; + lastName + &quot; Customer Type: &quot; + getCustomerTypeDesctipion();\r\n        return output;\r\n    }\r\n}\r\n```","title":"Assign customer types and show only preferred customer","body":"<p>I am stuck with this program. I need it to create jobs, store distinct customer data, and display the preferred customers. What I have so far is below, when I run the code and enter a job it always stores the customer type as regular and name as null null, preferred customers dont print at all.</p>\n<p>Sample I/O</p>\n<ul>\n<li>Summary</li>\n<li>Name: Joe Smith Customer Type: Preferred Customer Since: 2009</li>\n<li>Size of lawn: 726 square meters</li>\n<li>Cost for grass cutting: $10.45</li>\n<li>Vehicles to wash: 1</li>\n<li>Cost for washing: $18.00</li>\n<li>Total cost: $28.45</li>\n<li>Summary</li>\n<li>Name: Barb MacDonald Customer Type: Senior</li>\n<li>Size of lawn: 726 square meters</li>\n<li>Cost for grass cutting: $9.87</li>\n<li>Vehicles to wash: 0</li>\n<li>Cost for washing: $0.00</li>\n<li>Total cost: $9.87</li>\n</ul>\n<pre><code>public class Job {\n\n    public static final String BUSINESS_NAME = &quot;Will's Summer Services&quot;;\n    public static final double COST_PER_SQUARE_METER = 0.016;\n    public static final double COST_WASH_PER_VEHICLE = 20.0;\n\n    public static final int LENGTH_MIN = 5;\n    public static final int LENGTH_MAX = 100;\n    public static final int LENGTH_DEFAULT = 100;\n    public static final int WIDTH_MIN = 5;\n    public static final int WIDTH_MAX = 50;\n    public static final int WIDTH_DEFAULT = 50;\n    public static final int VEHICLES_MAX = 3;\n\n    private Customer customer;\n    private int length;\n    private int width;\n    private int numberOfVehicles;\n    private int area;\n    private double costGrassCutting;\n    private double costWashing;\n    private double costTotal;\n\n    //Constructors\n    public Job() {\n        customer = new Customer();\n    }\n\n    public Job(String name) {\n        customer = new Customer(name);\n    }\n\n    public Job(String name, int length, int width, int numberOfVehicles) {\n        customer = new Customer(name);\n        this.length = length;\n        this.width = width;\n        this.numberOfVehicles = numberOfVehicles;\n    }\n\n    public void getInformation() {\n\n        //Obtain the required information from the user\n        Scanner input = new Scanner(System.in);\n\n        System.out.println(&quot;\\nPlease enter job information\\n&quot;);\n        int customerType = CisUtility.getInputInt(&quot;Customer type (0=regular 1=preferred 2=senior)?&quot;);\n        Customer customer = new Customer();\n        PreferredCustomer preferredCustomer = new PreferredCustomer();\n        SeniorCustomer seniorCustomer = new SeniorCustomer();\n\n        while (customerType != 0 &amp;&amp; customerType != 1 &amp;&amp; customerType != 2) {\n            customerType = CisUtility.getInputInt(&quot;Error - Please try again.\\nCustomer type (0=regular 1=preferred 2=senior)?&quot;);\n\n            switch (customer.getCustomerTypeDesctipion()) {\n                case &quot;0&quot;:\n                    customer.getCustomerTypeDesctipion();\n                    break;\n\n                case &quot;1&quot;:\n                    preferredCustomer.getCustomerTypeDesctipion();\n                    preferredCustomer.getDiscountRate();\n                    preferredCustomer.getInformation();\n                    break;\n\n                case &quot;2&quot;:\n                    seniorCustomer.getCustomerTypeDescription();\n                    seniorCustomer.getDiscountRate();\n                    break;\n\n            }\n        }\n\n        //Get the customer information.\n        customer.getInformation();\n\n        System.out.println(&quot;What is the length of the lawn(meters)?&quot;);\n        length = input.nextInt();\n        input.nextLine();  //burn\n\n        while (length &lt; LENGTH_MIN || length &gt; LENGTH_MAX) {\n            System.out.println(&quot;Invalid length entered, please try again&quot;);\n            System.out.println(&quot;What is the length of the lawn(meters)?&quot;);\n            length = input.nextInt();\n            input.nextLine();  //burn\n        }\n\n        System.out.println(&quot;What is the width of the lawn(meters)?&quot;);\n        width = input.nextInt();\n        input.nextLine();  //burn\n\n        while (width &lt; WIDTH_MIN || width &gt; WIDTH_MAX) {\n            System.out.println(&quot;Invalid width entered, please try again&quot;);\n            System.out.println(&quot;What is the width of the lawn(meters)?&quot;);\n            width = input.nextInt();\n            input.nextLine();  //burn\n        }\n\n        System.out.println(&quot;How many vehicles to wash?&quot;);\n        numberOfVehicles = input.nextInt();\n        input.nextLine();  //burn\n\n        while (numberOfVehicles &gt; VEHICLES_MAX) {\n            System.out.println(&quot;Invalid number of vehicles entered, please try again&quot;);\n            System.out.println(&quot;How many vehicles to wash?&quot;);\n            numberOfVehicles = input.nextInt();\n            input.nextLine();  //burn\n        }\n    }\n\n    /**\n     * Calculate the overall cost. Also set the related cost attributes.\n     \n     */\n    public double calculateCost() {\n\n        double discount = customer.getDisountRate();\n\n        //Calculations \n        area = length * width;\n        costGrassCutting = COST_PER_SQUARE_METER * area * (1 - discount);\n        costWashing = numberOfVehicles * COST_WASH_PER_VEHICLE * (1 - discount);\n        costTotal = costGrassCutting + costWashing;\n        return costTotal;\n\n    }\n\n    public Customer getCustomer() {\n        return customer;\n    }\n\n    public int getLength() {\n        return length;\n    }\n\n    public void setLength(int length) {\n        this.length = length;\n    }\n\n    public int getWidth() {\n        return width;\n    }\n\n    public void setWidth(int width) {\n        this.width = width;\n    }\n\n    public int getNumberOfVehicles() {\n        return numberOfVehicles;\n    }\n\n    public void setNumberOfVehicles(int numberOfVehicles) {\n        this.numberOfVehicles = numberOfVehicles;\n    }\n\n    public int getArea() {\n        return area;\n    }\n\n    public void setArea(int area) {\n        this.area = area;\n    }\n\n    public double getCostGrassCutting() {\n        return costGrassCutting;\n    }\n\n    public void setCostGrassCutting(double costGrassCutting) {\n        this.costGrassCutting = costGrassCutting;\n    }\n\n    public double getCostWashing() {\n        return costWashing;\n    }\n\n    public void setCostWashing(double costWashing) {\n        this.costWashing = costWashing;\n    }\n\n    public double getCostTotal() {\n        return costTotal;\n    }\n\n    public void setCostTotal(double costTotal) {\n        this.costTotal = costTotal;\n    }\n\n    public void display() {\n        //Show summary\n        System.out.println(this.toString());\n    }\n\n    public String toString() {\n        String output = &quot;---------------------------------&quot; + System.lineSeparator()\n                + &quot;- Summary &quot; + System.lineSeparator()\n                + &quot;- &quot; + customer.toString() + System.lineSeparator()\n                + &quot;- Size of lawn: &quot; + area + &quot; square meters&quot; + System.lineSeparator()\n                + &quot;- Cost for grass cutting: &quot; + CisUtility.getCurrency(costGrassCutting) + System.lineSeparator()\n                + &quot;- Vehicles to wash: &quot; + numberOfVehicles + System.lineSeparator()\n                + &quot;- Cost for washing: &quot; + CisUtility.getCurrency(costWashing) + System.lineSeparator()\n                + &quot;- Total cost: &quot; + CisUtility.getCurrency(costTotal) + System.lineSeparator()\n                + &quot;---------------------------------&quot; + System.lineSeparator() + System.lineSeparator();\n        return output;\n    }\n\n}\n</code></pre>\n<pre><code>public class PreferredCustomer extends Customer {\n\n    public static final double DISCOUNT_PREFERRED = 0.10;\n    private int customerSince;\n\n    @Override\n    public String getCustomerTypeDesctipion() {\n\n        return &quot;Preferred&quot;;\n    }\n\n    public double getDiscountRate() {\n        return DISCOUNT_PREFERRED;\n\n    }\n\n    @Override\n    public void getInformation() {\n       this.customerSince = CisUtility.getInputInt(&quot;When did this person become a customer?&quot;);\n       super.getInformation();\n\n    }\n\n    @Override\n    public String toString() {\n        return super.toString() + &quot;Since: &quot; + customerSince;\n    }\n\n    public int getCustomerSince() {\n        return customerSince;\n    }\n\n    public void setCustomerSince(int customerSince) {\n        this.customerSince = customerSince;\n    }\n    \n\n}\n</code></pre>\n<pre><code>public class SeniorCustomer extends Customer {\n    \n    public static final double DISCOUNT_SENIOR = 0.15;\n    \n    public String getCustomerTypeDescription() {\n       \n        return &quot;Senior&quot;;\n       \n        \n    \n}\n    public double getDiscountRate(){\n        \n    \n        return DISCOUNT_SENIOR;\n        \n    \n}\n    \n    \n}\n</code></pre>\n<pre><code>public class Customer {\n\n    private String firstName;\n    private String lastName;\n\n    public static final int TYPE_PREFERRED = 1;\n    public static final int TYPE_SENIOR = 2;\n\n    public Customer() {\n    }\n\n    /**\n     * Constructor that accepts first and last name as one string\n   \n     */\n    public Customer(String name) {\n        setFirstAndLastName(name);\n    }\n\n    public Customer(String firstName, String lastName) {\n        this.firstName = firstName;\n        this.lastName = lastName;\n    }\n\n    public double getDisountRate() {\n        double discount = 0;\n\n        return discount;\n    }\n\n    /**\n     * Get the description based on the customer type\n     *\n     * @since 20210608\n     * @author BJM\n     */\n    public String getCustomerTypeDesctipion() {\n\n        return &quot;regular&quot;;\n    }\n\n    /**\n     * Get the first and last name out of the one string.Note that it is\n     * expected to have exactly two parts. Note also that it is called from the\n     * constructor which is why it is set to final (We'll get to this in\n     * inheritance. It will work without final but give a warning.\n     *\n     * @param name Full name (first and last separated by space)\n     * @since 20210608\n     * @author BJM\n     */\n    public final void setFirstAndLastName(String name) {\n        String[] parts = name.split(&quot; &quot;);\n        if (parts.length &gt;= 2) {\n            firstName = parts[0];\n            lastName = parts[1];\n        }\n    }\n\n    public void getInformation() {\n\n        this.firstName = CisUtility.getInputString(&quot;First Name?&quot;);\n        this.lastName = CisUtility.getInputString(&quot;Last Name?&quot;);\n\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    public void display() {\n        CisUtility.display(this.toString());\n    }\n\n    public String toString() {\n        String output = &quot;Name: &quot; + firstName + &quot; &quot; + lastName + &quot; Customer Type: &quot; + getCustomerTypeDesctipion();\n        return output;\n    }\n}\n</code></pre>\n"},{"tags":["java","class","double"],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647720887,"creation_date":1647720887,"answer_id":71541707,"question_id":71541664,"body_markdown":"Have you looked at [how `sum(double a, double b)` is implemented](https://github.com/openjdk/jdk17u/blob/master/src/java.base/share/classes/java/lang/Double.java#L1143)?\r\n\r\nWhile it would probably nice to have `prod()`, `div()` and `remainder()` too, you can easily implement them in a similar way for yourself:\r\n\r\n    public static double prod(double a, double b) {\r\n        return a*b;\r\n    }\r\n\r\nand similarly for the other two methods.","title":"Does Java Class Double Methods have any method for multiplication/ division /remainder?","body":"<p>Have you looked at <a href=\"https://github.com/openjdk/jdk17u/blob/master/src/java.base/share/classes/java/lang/Double.java#L1143\" rel=\"nofollow noreferrer\">how <code>sum(double a, double b)</code> is implemented</a>?</p>\n<p>While it would probably nice to have <code>prod()</code>, <code>div()</code> and <code>remainder()</code> too, you can easily implement them in a similar way for yourself:</p>\n<pre><code>public static double prod(double a, double b) {\n    return a*b;\n}\n</code></pre>\n<p>and similarly for the other two methods.</p>\n"}],"owner":{"account_id":7788316,"reputation":1,"user_id":8603759,"display_name":"Pavel Kabanets"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1647720887,"creation_date":1647720445,"question_id":71541664,"body_markdown":"Does Java Class Double Methods have any method for multiplication/ division /remainder?\r\nI have found only for Sum? \r\nstatic double\tsum​(double a, double b)\r\n\r\nFor example I need to multiply 100.101101 and 110.101101\r\n\r\n","title":"Does Java Class Double Methods have any method for multiplication/ division /remainder?","body":"<p>Does Java Class Double Methods have any method for multiplication/ division /remainder?\nI have found only for Sum?\nstatic double   sum​(double a, double b)</p>\n<p>For example I need to multiply 100.101101 and 110.101101</p>\n"},{"tags":["java","arrays","for-loop","char"],"comments":[{"owner":{"account_id":8519084,"reputation":409,"user_id":6386639,"display_name":"Vivek Swansi"},"score":0,"creation_date":1647704125,"post_id":71539494,"comment_id":126439991,"body_markdown":"directly use abc[i] = c;\nbecause the Arrays.fill -&gt; willl need array instead and not fill the part of array.","body":"directly use abc[i] = c; because the Arrays.fill -&gt; willl need array instead and not fill the part of array."}],"answers":[{"tags":[],"owner":{"account_id":19296215,"reputation":703,"user_id":14105130,"display_name":"YourHelper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647704286,"creation_date":1647704286,"answer_id":71539550,"question_id":71539494,"body_markdown":"You can use:\r\n\r\n    Arrays.fill(abc, c);\r\n\r\nor just:\r\n\r\n    abc[i]=c;\r\nif you only want to fill the specified position of the array","title":"how to fill a char array with DIFFRENT chars in java?","body":"<p>You can use:</p>\n<pre><code>Arrays.fill(abc, c);\n</code></pre>\n<p>or just:</p>\n<pre><code>abc[i]=c;\n</code></pre>\n<p>if you only want to fill the specified position of the array</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1647720755,"creation_date":1647705584,"answer_id":71539715,"question_id":71539494,"body_markdown":"The [Answer by YourHelper][1] seems correct. \r\n\r\n# Avoid `char` \r\n\r\nUnfortunately, even the fixed version of your code will fail with most characters. The `char` type is essentially broken since Java 2, and legacy since Java 5.\r\n\r\nTo see `char` break, use a character like “&#128567;”. \r\n\r\n# Code point\r\n\r\nUse [code point][2] integers instead. \r\n\r\n## `StringBuilder` as result\r\n\r\nSomething like this untested code. \r\n\r\n    int limit = 5 ;\r\n    StringBuilder sb = new StringBuilder() ;\r\n    \r\n    Scanner sc = new Scanner(System.in);\r\n    \r\n    String input;\r\n    int codePoint;\r\n    \r\n    for ( int i = 0 ; i &lt; limit ; i++ ) {\r\n        input = sc.next();\r\n        int[] codePoints = input.codePoints().toArray() ;\r\n        if ( codePoints.length == 1 ) {\r\n            codePoint = codePoints[ 0 ] ;\r\n            System.out.println( &quot;for position &quot; + i + &quot; the input character is: &quot; + Character.toString( codePoint ) );\r\n            sb.appendCodePoint( codePoint );\r\n            System.out.println(&quot;so we get the current result &quot; + sb.toString() );\r\n        } else {\r\n            System.out.println( &quot;Done: &quot; + sb.toString() ) ;\r\n            break;\r\n        }\r\n    }\r\n    System.out.println( &quot;Done: &quot; + sb.toString() ) ;\r\n\r\nSee this [code run live at IdeOne.com][3].\r\n\r\n```none\r\nfor index 0 the input character is: H\r\nso we get the current result H\r\nfor index 1 the input character is: &#128567;\r\nso we get the current result H&#128567;\r\nfor index 2 the input character is: l\r\nso we get the current result H&#128567;l\r\nfor index 3 the input character is: l\r\nso we get the current result H&#128567;ll\r\nfor index 4 the input character is: o\r\nso we get the current result H&#128567;llo\r\nDone: H&#128567;llo\r\n```\r\n\r\n## List of strings (characters) as result\r\n\r\nIf you want to collect each character individually, make a list of strings. Make a string of each code point, and add to list. Omit the `StringBuilder`. \r\n\r\n    List&lt; String &gt; characters = new ArrayList &lt;&gt;() ;\r\n    …\r\n    characters.add( Character.toString( codePoint ) ) ;\r\n\r\nSee an example of [this code run live at IdeOne.com][4].\r\n\r\n```none\r\nfor index 0 the input character is: H\r\nso we get the current result [H]\r\nfor index 1 the input character is: &#128567;\r\nso we get the current result [H, &#128567;]\r\nfor index 2 the input character is: l\r\nso we get the current result [H, &#128567;, l]\r\nfor index 3 the input character is: l\r\nso we get the current result [H, &#128567;, l, l]\r\nfor index 4 the input character is: o\r\nso we get the current result [H, &#128567;, l, l, o]\r\nDone: [H, &#128567;, l, l, o]\r\n```\r\n\r\n\r\n----------\r\n\r\nBe aware that in some languages what you may perceive as one &quot;letter&quot; is actually a combination of *two* characters, a letter followed by a &quot;combining diacritical&quot;. Example [here](https://ideone.com/n0dcRT). Discussion [here](https://gregtatum.com/writing/2021/diacritical-marks/).\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/71539550/642706\r\n  [2]: https://en.wikipedia.org/wiki/Code_point\r\n  [3]: https://ideone.com/14fTi3\r\n  [4]: https://ideone.com/DGKgM0","title":"how to fill a char array with DIFFRENT chars in java?","body":"<p>The <a href=\"https://stackoverflow.com/a/71539550/642706\">Answer by YourHelper</a> seems correct.</p>\n<h1>Avoid <code>char</code></h1>\n<p>Unfortunately, even the fixed version of your code will fail with most characters. The <code>char</code> type is essentially broken since Java 2, and legacy since Java 5.</p>\n<p>To see <code>char</code> break, use a character like “😷”.</p>\n<h1>Code point</h1>\n<p>Use <a href=\"https://en.wikipedia.org/wiki/Code_point\" rel=\"nofollow noreferrer\">code point</a> integers instead.</p>\n<h2><code>StringBuilder</code> as result</h2>\n<p>Something like this untested code.</p>\n<pre><code>int limit = 5 ;\nStringBuilder sb = new StringBuilder() ;\n\nScanner sc = new Scanner(System.in);\n\nString input;\nint codePoint;\n\nfor ( int i = 0 ; i &lt; limit ; i++ ) {\n    input = sc.next();\n    int[] codePoints = input.codePoints().toArray() ;\n    if ( codePoints.length == 1 ) {\n        codePoint = codePoints[ 0 ] ;\n        System.out.println( &quot;for position &quot; + i + &quot; the input character is: &quot; + Character.toString( codePoint ) );\n        sb.appendCodePoint( codePoint );\n        System.out.println(&quot;so we get the current result &quot; + sb.toString() );\n    } else {\n        System.out.println( &quot;Done: &quot; + sb.toString() ) ;\n        break;\n    }\n}\nSystem.out.println( &quot;Done: &quot; + sb.toString() ) ;\n</code></pre>\n<p>See this <a href=\"https://ideone.com/14fTi3\" rel=\"nofollow noreferrer\">code run live at IdeOne.com</a>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>for index 0 the input character is: H\nso we get the current result H\nfor index 1 the input character is: 😷\nso we get the current result H😷\nfor index 2 the input character is: l\nso we get the current result H😷l\nfor index 3 the input character is: l\nso we get the current result H😷ll\nfor index 4 the input character is: o\nso we get the current result H😷llo\nDone: H😷llo\n</code></pre>\n<h2>List of strings (characters) as result</h2>\n<p>If you want to collect each character individually, make a list of strings. Make a string of each code point, and add to list. Omit the <code>StringBuilder</code>.</p>\n<pre><code>List&lt; String &gt; characters = new ArrayList &lt;&gt;() ;\n…\ncharacters.add( Character.toString( codePoint ) ) ;\n</code></pre>\n<p>See an example of <a href=\"https://ideone.com/DGKgM0\" rel=\"nofollow noreferrer\">this code run live at IdeOne.com</a>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>for index 0 the input character is: H\nso we get the current result [H]\nfor index 1 the input character is: 😷\nso we get the current result [H, 😷]\nfor index 2 the input character is: l\nso we get the current result [H, 😷, l]\nfor index 3 the input character is: l\nso we get the current result [H, 😷, l, l]\nfor index 4 the input character is: o\nso we get the current result [H, 😷, l, l, o]\nDone: [H, 😷, l, l, o]\n</code></pre>\n<hr />\n<p>Be aware that in some languages what you may perceive as one &quot;letter&quot; is actually a combination of <em>two</em> characters, a letter followed by a &quot;combining diacritical&quot;. Example <a href=\"https://ideone.com/n0dcRT\" rel=\"nofollow noreferrer\">here</a>. Discussion <a href=\"https://gregtatum.com/writing/2021/diacritical-marks/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":18924081,"reputation":64,"user_id":13807582,"display_name":"Hiten Tandon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647707035,"creation_date":1647707035,"answer_id":71539936,"question_id":71539494,"body_markdown":"From what I can understand, you&#39;re trying to let the user enter data into your char array one by one... If that&#39;s what you want then this should help.\r\n\r\n    char[] input = new char[5];\r\n    for( int i = 0; i &lt; input.length; i++ ) {\r\n         System.out.println(&quot;Enter only one character&quot;);\r\n         input[i] = (char)System.in.read();\r\n         System.out.println(&quot;Thus we have the current array as &quot; + Arrays.toString(input));\r\n    }\r\n\r\nThis code accepts only one character at a time, is faster than using Scanner.\r\nHere&#39;s a dry run of this code:\r\n\r\n    Enter a charcater\r\n    a\r\n    Thus we have cuurent array as [a, ., ., ., .]\r\n    Enter a charcater\r\n    b\r\n    Thus we have cuurent array as [a, b, ., ., .]\r\n    Enter a charcater\r\n    c\r\n    Thus we have cuurent array as [a, b, c, ., .]\r\n    Enter a charcater\r\n    d\r\n    Thus we have cuurent array as [a, b, c, d, .]\r\n    Enter a charcater\r\n    a\r\n    Thus we have cuurent array as [a, b, c, d, e]\r\n\r\nIf you want to accept a String and change it to a character Array instead, you can use the String function toCharArray(), `char[] input = &quot;abcde&quot;.toCharArray()`","title":"how to fill a char array with DIFFRENT chars in java?","body":"<p>From what I can understand, you're trying to let the user enter data into your char array one by one... If that's what you want then this should help.</p>\n<pre><code>char[] input = new char[5];\nfor( int i = 0; i &lt; input.length; i++ ) {\n     System.out.println(&quot;Enter only one character&quot;);\n     input[i] = (char)System.in.read();\n     System.out.println(&quot;Thus we have the current array as &quot; + Arrays.toString(input));\n}\n</code></pre>\n<p>This code accepts only one character at a time, is faster than using Scanner.\nHere's a dry run of this code:</p>\n<pre><code>Enter a charcater\na\nThus we have cuurent array as [a, ., ., ., .]\nEnter a charcater\nb\nThus we have cuurent array as [a, b, ., ., .]\nEnter a charcater\nc\nThus we have cuurent array as [a, b, c, ., .]\nEnter a charcater\nd\nThus we have cuurent array as [a, b, c, d, .]\nEnter a charcater\na\nThus we have cuurent array as [a, b, c, d, e]\n</code></pre>\n<p>If you want to accept a String and change it to a character Array instead, you can use the String function toCharArray(), <code>char[] input = &quot;abcde&quot;.toCharArray()</code></p>\n"}],"owner":{"account_id":24611948,"reputation":25,"user_id":18513406,"display_name":"alwan01"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":548,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71539715,"answer_count":3,"score":1,"last_activity_date":1647720755,"creation_date":1647703824,"question_id":71539494,"body_markdown":"\\\r\ni only found how to fill a char array with the same character, like:\r\n\r\n        char[] charArray = new char[5];\r\n        char charValue = &#39;A&#39;;\r\n        Arrays.fill(charArray, charValue);\r\n        System.out.println(&quot;The char array content is: &quot; + Arrays.toString(charArray));\r\n        \r\n       // output: The char array content is: [A, A, A, A, A]\r\n\r\nwhat i tried is this:\r\n\r\n        char[] abc = new char[5];\r\n        \r\n        Scanner sc = new Scanner(System.in);\r\n        \r\n        String s;\r\n        char c;\r\n        \r\n        for (int i = 0; i &lt; abc.length; i++) {\r\n            s = sc.next();\r\n            if (s.length() == 1) {\r\n                c = s.charAt(0);\r\n                System.out.println(&quot;for position &quot; + i + &quot; the character is: &quot; + c);\r\n                Arrays.fill(abc[i], c);\r\n                System.out.println(&quot;so we get the current array &quot; + Arrays.toString(abc));\r\n            } else {\r\n                System.err.println(&quot;pls give just one charcter&quot;);\r\n                break;\r\n            }\r\n        }\r\n\r\nI always get the error, to change the abc-array from a char[] to a long[].\\\r\n\r\nEDIT:\\\r\nwhat i want for an output is that i give 5 characters (for example a, b, c, d, e) in in the end I have the array\r\n\r\n    abc[] = {a, b, c, d, e}\r\n\r\nThank you in advance :)","title":"how to fill a char array with DIFFRENT chars in java?","body":"<p><br />\ni only found how to fill a char array with the same character, like:</p>\n<pre><code>    char[] charArray = new char[5];\n    char charValue = 'A';\n    Arrays.fill(charArray, charValue);\n    System.out.println(&quot;The char array content is: &quot; + Arrays.toString(charArray));\n    \n   // output: The char array content is: [A, A, A, A, A]\n</code></pre>\n<p>what i tried is this:</p>\n<pre><code>    char[] abc = new char[5];\n    \n    Scanner sc = new Scanner(System.in);\n    \n    String s;\n    char c;\n    \n    for (int i = 0; i &lt; abc.length; i++) {\n        s = sc.next();\n        if (s.length() == 1) {\n            c = s.charAt(0);\n            System.out.println(&quot;for position &quot; + i + &quot; the character is: &quot; + c);\n            Arrays.fill(abc[i], c);\n            System.out.println(&quot;so we get the current array &quot; + Arrays.toString(abc));\n        } else {\n            System.err.println(&quot;pls give just one charcter&quot;);\n            break;\n        }\n    }\n</code></pre>\n<p>I always get the error, to change the abc-array from a char[] to a long[].\\</p>\n<p>EDIT:<br />\nwhat i want for an output is that i give 5 characters (for example a, b, c, d, e) in in the end I have the array</p>\n<pre><code>abc[] = {a, b, c, d, e}\n</code></pre>\n<p>Thank you in advance :)</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647720722,"creation_date":1647654713,"answer_id":71534782,"question_id":71534746,"body_markdown":"&gt; or with a simple method\r\n\r\n```java\r\nString s = &quot;&#128567;ab a abc ac&quot;;\r\nlong countWordsWithAtLeastThreeCharacters = \r\n    Arrays.stream( s.split( &quot; &quot; ) )\r\n    .filter( word -&gt; input.codePoints().toArray().length &gt; 3 )\r\n    .count() ;\r\n```\r\n\r\nI added the FACE WITH MEDICAL MASK to demonstrate that this works with all characters. Avoid using `char` as it is physically incapable of representing most characters. \r\n\r\n\r\n----------\r\n\r\n\r\nBe aware that in some languages what you may perceive as one &quot;letter&quot; is actually a combination of *two* characters, a letter followed by a &quot;combining diacritical&quot;. Example [here](https://ideone.com/n0dcRT). Discussion [here](https://gregtatum.com/writing/2021/diacritical-marks/).\r\n\r\n\r\n","title":"How to check for a specific count of letters in a row in a String Java","body":"<blockquote>\n<p>or with a simple method</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>String s = &quot;😷ab a abc ac&quot;;\nlong countWordsWithAtLeastThreeCharacters = \n    Arrays.stream( s.split( &quot; &quot; ) )\n    .filter( word -&gt; input.codePoints().toArray().length &gt; 3 )\n    .count() ;\n</code></pre>\n<p>I added the FACE WITH MEDICAL MASK to demonstrate that this works with all characters. Avoid using <code>char</code> as it is physically incapable of representing most characters.</p>\n<hr />\n<p>Be aware that in some languages what you may perceive as one &quot;letter&quot; is actually a combination of <em>two</em> characters, a letter followed by a &quot;combining diacritical&quot;. Example <a href=\"https://ideone.com/n0dcRT\" rel=\"nofollow noreferrer\">here</a>. Discussion <a href=\"https://gregtatum.com/writing/2021/diacritical-marks/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":24192910,"reputation":21,"user_id":18151901,"display_name":"Aikidoo"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1647690499,"accepted_answer_id":71534782,"answer_count":1,"score":-2,"last_activity_date":1647720722,"creation_date":1647654053,"question_id":71534746,"body_markdown":"I want to check if my String contains words with a specific length \r\n```\r\nString s = &quot;ab a abc ac&quot;;\r\nif(s.contains(/*any words with 3 or more letters which would be &#39;abc&#39;*/){\r\n   //doSomething\r\n}\r\n```\r\nIs there a way to do this in regex or with a simple method? Similar to\r\n```\r\ns.contains(&quot;[a-za-za-z]&quot;); //or\r\ns.contains().lettersInARow(3);\r\n```\r\nWhat I want is to find these and throw an Error when something longer than 2 characters is found","title":"How to check for a specific count of letters in a row in a String Java","body":"<p>I want to check if my String contains words with a specific length</p>\n<pre><code>String s = &quot;ab a abc ac&quot;;\nif(s.contains(/*any words with 3 or more letters which would be 'abc'*/){\n   //doSomething\n}\n</code></pre>\n<p>Is there a way to do this in regex or with a simple method? Similar to</p>\n<pre><code>s.contains(&quot;[a-za-za-z]&quot;); //or\ns.contains().lettersInARow(3);\n</code></pre>\n<p>What I want is to find these and throw an Error when something longer than 2 characters is found</p>\n"},{"tags":["java","wpilib"],"answers":[{"tags":[],"owner":{"account_id":23951166,"reputation":23,"user_id":17942727,"display_name":"FrederickAmpsUp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647720353,"creation_date":1647720353,"answer_id":71541654,"question_id":71519472,"body_markdown":"To fix this, you have to set all of you IP addresses as follows:\r\n\r\nRoboRio 10.TE.AM.2  \r\n  Go to the diagnostics tab of the DriverStation while connected over WiFi. After Robot there will be an IP address. Browse to this, and go to the tab on the bottom in the menu. Set the bar that says, DHCP or Link Local to Static, then set the IPv4 to 10.TE.AM.2.  \r\n\r\nDriver Station 10.TE.AM.5  \r\n  I am not going into much detail here, as it depends on your operating system. Do some research and set the static IP of your Driver Station computer to 10.TE.AM.5. LEAVE GATEWAY BLANK!  \r\n\r\nLimelight 10.TE.AM.11  \r\nWhile connected to the robot, browse to `limelight.local:5801`. Go to the settings tab and set IP assignment to static. Set IPv4 to 10.TE.AM.11, and gateway to 10.TE.AM.1\r\n\r\nSubstitute TE.AM with you team number.  \r\nEXAMPLE:  \r\nTeam 8193:  \r\n10.81.93.2  \r\nTeam 27:  \r\n10.0.27.2\r\nTeam 369:  \r\n10.3.69.2\r\n","title":"FRC Limelight not posting to NetworkTables","body":"<p>To fix this, you have to set all of you IP addresses as follows:</p>\n<p>RoboRio 10.TE.AM.2<br />\nGo to the diagnostics tab of the DriverStation while connected over WiFi. After Robot there will be an IP address. Browse to this, and go to the tab on the bottom in the menu. Set the bar that says, DHCP or Link Local to Static, then set the IPv4 to 10.TE.AM.2.</p>\n<p>Driver Station 10.TE.AM.5<br />\nI am not going into much detail here, as it depends on your operating system. Do some research and set the static IP of your Driver Station computer to 10.TE.AM.5. LEAVE GATEWAY BLANK!</p>\n<p>Limelight 10.TE.AM.11<br />\nWhile connected to the robot, browse to <code>limelight.local:5801</code>. Go to the settings tab and set IP assignment to static. Set IPv4 to 10.TE.AM.11, and gateway to 10.TE.AM.1</p>\n<p>Substitute TE.AM with you team number.<br />\nEXAMPLE:<br />\nTeam 8193:<br />\n10.81.93.2<br />\nTeam 27:<br />\n10.0.27.2\nTeam 369:<br />\n10.3.69.2</p>\n"}],"owner":{"account_id":23951166,"reputation":23,"user_id":17942727,"display_name":"FrederickAmpsUp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":402,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71541654,"answer_count":1,"score":0,"last_activity_date":1647720353,"creation_date":1647554118,"question_id":71519472,"body_markdown":"I have a roborio 1, limelight 2, OpenMesh radio and this code:\r\n```java\r\nSmartDashboard.putNumber(NetworkTableInstance.getDefault().getTable(&quot;limelight&quot;).getEntry(&quot;tx&quot;).getDouble(0));\r\n```\r\nHowever, SmartDashboard reads 0. ShuffleBoard NetworkTable viewer does not show the limelight. I have set the team number and IP in the Limelight config. The Limelight config does shoe the value I am trying to read, but the program does not. Why is this and how can it be fixed?","title":"FRC Limelight not posting to NetworkTables","body":"<p>I have a roborio 1, limelight 2, OpenMesh radio and this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SmartDashboard.putNumber(NetworkTableInstance.getDefault().getTable(&quot;limelight&quot;).getEntry(&quot;tx&quot;).getDouble(0));\n</code></pre>\n<p>However, SmartDashboard reads 0. ShuffleBoard NetworkTable viewer does not show the limelight. I have set the team number and IP in the Limelight config. The Limelight config does shoe the value I am trying to read, but the program does not. Why is this and how can it be fixed?</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":2078089,"reputation":9678,"user_id":1850851,"accept_rate":42,"display_name":"Christian Vincenzo Traina"},"score":1,"creation_date":1647714168,"post_id":71540840,"comment_id":126442197,"body_markdown":"I advise you to ask on CodeReview. By the way, there isn&#39;t any better solution, you are searching in O(log(n)) in the best case and in O(n) in the worst. The only thing is that you could sort the list in case you need many consequent lookups, and this could justify the initial O(n*log(n)) cost","body":"I advise you to ask on CodeReview. By the way, there isn&#39;t any better solution, you are searching in O(log(n)) in the best case and in O(n) in the worst. The only thing is that you could sort the list in case you need many consequent lookups, and this could justify the initial O(n*log(n)) cost"},{"owner":{"account_id":94036,"reputation":107726,"user_id":256970,"accept_rate":86,"display_name":"Cary Swoveland"},"score":1,"creation_date":1647731402,"post_id":71540840,"comment_id":126445567,"body_markdown":"Have you considered simply constructing a hash whose keys are zip codes and whose values are region names?","body":"Have you considered simply constructing a hash whose keys are zip codes and whose values are region names?"}],"answers":[{"tags":[],"owner":{"account_id":21032417,"reputation":95,"user_id":15456485,"display_name":"sahlaysta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647714539,"creation_date":1647714539,"answer_id":71540936,"question_id":71540840,"body_markdown":"Iterate the Zip list\r\n\r\n\tstatic Zip getZip(List&lt;Zip&gt; zipList, long range) {\r\n\t\tfor (Zip zip: zipList)\r\n\t\t\tif (range &gt;= zip.rangeStart &amp;&amp; range &lt;= zip.rangeEnd)\r\n\t\t\t\treturn zip;\r\n\t}","title":"Lookup zip codes in list of ranges","body":"<p>Iterate the Zip list</p>\n<pre><code>static Zip getZip(List&lt;Zip&gt; zipList, long range) {\n    for (Zip zip: zipList)\n        if (range &gt;= zip.rangeStart &amp;&amp; range &lt;= zip.rangeEnd)\n            return zip;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14179476,"reputation":2663,"user_id":10243634,"display_name":"Oboe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647720161,"creation_date":1647720161,"answer_id":71541632,"question_id":71540840,"body_markdown":"You can add a method to your `Zip` class to check if a zip code is within range:\r\n\r\n```\r\nclass Zip {\r\n    Long rangeStart;\r\n    Long rangeEnd;\r\n    String regionName;\r\n\r\n    public boolean isInRange(long zip) {\r\n        return zip &gt;= rangeStart &amp;&amp; zip &lt;= rangeEnd;\r\n    }\r\n}\r\n```\r\n\r\nThen you can `stream` and filter the `zipList` to get the region name:\r\n\r\n    public static String findRegionName(List&lt;Zip&gt; zipList, long searchZip) {\r\n        return zipList.stream().filter(zip -&gt; zip.isInRange(searchZip))\r\n                .map(Zip::getRegionName).findAny().orElse(null);\r\n    }","title":"Lookup zip codes in list of ranges","body":"<p>You can add a method to your <code>Zip</code> class to check if a zip code is within range:</p>\n<pre><code>class Zip {\n    Long rangeStart;\n    Long rangeEnd;\n    String regionName;\n\n    public boolean isInRange(long zip) {\n        return zip &gt;= rangeStart &amp;&amp; zip &lt;= rangeEnd;\n    }\n}\n</code></pre>\n<p>Then you can <code>stream</code> and filter the <code>zipList</code> to get the region name:</p>\n<pre><code>public static String findRegionName(List&lt;Zip&gt; zipList, long searchZip) {\n    return zipList.stream().filter(zip -&gt; zip.isInRange(searchZip))\n            .map(Zip::getRegionName).findAny().orElse(null);\n}\n</code></pre>\n"}],"owner":{"account_id":1538531,"reputation":3761,"user_id":1433826,"accept_rate":51,"display_name":"reiley"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1647720161,"creation_date":1647713844,"question_id":71540840,"body_markdown":"I&#39;ve a list of zip code ranges, such that one region can multiple zip codes.\r\n\r\n    class Zip {\r\n    \r\n    \tLong rangeStart;\t// zip code range first\r\n    \tLong rangeEnd;\t\t// zip code range last\r\n    \tString regionName;\r\n    }\r\n\r\nInput 1: `List&lt;Zip&gt; zipList`\r\nInput 2: `Long zipCodeToSearch`\r\n\r\nThere are NO overlapping ranges.\r\n\r\nI&#39;ve to design a solution where when user inputs a zip code I&#39;ve to lookup the `List&lt;Zip&gt;` and return its region name.\r\n\r\nI&#39;ve to solve it for both when the `zipList` is sorted as well as when it is unsorted.\r\n\r\n**My solution when zipList is sorted using Binary search:**\r\n\r\n1. Create a `HashMap&lt;Integer, String&gt;` storing an index &amp; region name. e.g.\r\n\r\n&gt; 1 -&gt; Hawaii \t \r\n2 -&gt; LA \t \r\n3 -&gt; NY\r\n\r\n2. Create a list storing start and end of the range. i.e.\r\n```\r\nList&lt;Long&gt; rangeList;\r\nfor (Zip zip : zipList) {\r\n\trangeList.add(zip.rangeStart);\r\n\trangeList.add(zip.rangeEnd);\r\n}\r\n```\r\n\r\n3. Using binary search iteratively check if `zipCodeToSearch` is within mid and its neighbor.\r\n\r\nAnd by neighbor, I mean I&#39;ll check both left and right as in binary search.\r\nIf result is found return `map.get(mid/2)`\r\n\r\n**My solution when `zipList` is unsorted:**\r\n\r\nThis is basically linear search and I&#39;m checking like:\r\n\r\n    for (int i = 1; i &lt; rangeList.size(); i += 2) {\r\n    \tif (rangeList.get(i - 1) &lt;= zipCodeToSearch &amp;&amp; zipCodeToSearch &lt;= rangeList.get(i)) {\r\n    \t\treturn i / 2;\r\n    \t}\r\n    }\r\n\r\nAre there any better solution? \r\n\r\n","title":"Lookup zip codes in list of ranges","body":"<p>I've a list of zip code ranges, such that one region can multiple zip codes.</p>\n<pre><code>class Zip {\n\n    Long rangeStart;    // zip code range first\n    Long rangeEnd;      // zip code range last\n    String regionName;\n}\n</code></pre>\n<p>Input 1: <code>List&lt;Zip&gt; zipList</code>\nInput 2: <code>Long zipCodeToSearch</code></p>\n<p>There are NO overlapping ranges.</p>\n<p>I've to design a solution where when user inputs a zip code I've to lookup the <code>List&lt;Zip&gt;</code> and return its region name.</p>\n<p>I've to solve it for both when the <code>zipList</code> is sorted as well as when it is unsorted.</p>\n<p><strong>My solution when zipList is sorted using Binary search:</strong></p>\n<ol>\n<li>Create a <code>HashMap&lt;Integer, String&gt;</code> storing an index &amp; region name. e.g.</li>\n</ol>\n<blockquote>\n<p>1 -&gt; Hawaii<br />\n2 -&gt; LA<br />\n3 -&gt; NY</p>\n</blockquote>\n<ol start=\"2\">\n<li>Create a list storing start and end of the range. i.e.</li>\n</ol>\n<pre><code>List&lt;Long&gt; rangeList;\nfor (Zip zip : zipList) {\n    rangeList.add(zip.rangeStart);\n    rangeList.add(zip.rangeEnd);\n}\n</code></pre>\n<ol start=\"3\">\n<li>Using binary search iteratively check if <code>zipCodeToSearch</code> is within mid and its neighbor.</li>\n</ol>\n<p>And by neighbor, I mean I'll check both left and right as in binary search.\nIf result is found return <code>map.get(mid/2)</code></p>\n<p><strong>My solution when <code>zipList</code> is unsorted:</strong></p>\n<p>This is basically linear search and I'm checking like:</p>\n<pre><code>for (int i = 1; i &lt; rangeList.size(); i += 2) {\n    if (rangeList.get(i - 1) &lt;= zipCodeToSearch &amp;&amp; zipCodeToSearch &lt;= rangeList.get(i)) {\n        return i / 2;\n    }\n}\n</code></pre>\n<p>Are there any better solution?</p>\n"},{"tags":["java","spring-boot","rest","model-view-controller"],"comments":[{"owner":{"account_id":2684712,"reputation":2248,"user_id":2319333,"display_name":"Halko Karr-Sajtarevic"},"score":1,"creation_date":1647720104,"post_id":71541018,"comment_id":126443414,"body_markdown":"Med is right - you&#39;re missing the Repository annotation. and one additional thing: please don&#39;t use field-injection ! see https://stackoverflow.com/a/62846048/2319333","body":"Med is right - you&#39;re missing the Repository annotation. and one additional thing: please don&#39;t use field-injection ! see <a href=\"https://stackoverflow.com/a/62846048/2319333\">stackoverflow.com/a/62846048/2319333</a>"}],"answers":[{"tags":[],"owner":{"account_id":6894157,"reputation":1612,"user_id":5296683,"accept_rate":83,"display_name":"Med Elgarnaoui"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647716653,"creation_date":1647716159,"answer_id":71541125,"question_id":71541018,"body_markdown":"I think you should annotate your repository with `@Repository`, then it will be enabled automatically by Spring Framework.\r\n\r\n    @Repository\r\n    public interface StoreRepository extends JpaRepository&lt;Store, String&gt; {\r\n    }\r\n\r\n","title":"Spring boot MVC - Unable to Autowire Repository in the service class","body":"<p>I think you should annotate your repository with <code>@Repository</code>, then it will be enabled automatically by Spring Framework.</p>\n<pre><code>@Repository\npublic interface StoreRepository extends JpaRepository&lt;Store, String&gt; {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":347460,"reputation":1972,"user_id":681586,"accept_rate":54,"display_name":"Petre Popescu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647719881,"creation_date":1647719881,"answer_id":71541601,"question_id":71541018,"body_markdown":"Just add the `@Repository` annotation to the `StoreRepostiry` and it should work.\r\n\r\nHere are the most used annotations that Spring recognizes and can be used for auto wiring without the need to explicitly declaring it as a bean: `@Service`, `@Repository` and `@Component`","title":"Spring boot MVC - Unable to Autowire Repository in the service class","body":"<p>Just add the <code>@Repository</code> annotation to the <code>StoreRepostiry</code> and it should work.</p>\n<p>Here are the most used annotations that Spring recognizes and can be used for auto wiring without the need to explicitly declaring it as a bean: <code>@Service</code>, <code>@Repository</code> and <code>@Component</code></p>\n"}],"owner":{"account_id":24613567,"reputation":11,"user_id":18514827,"display_name":"mxpert"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2006,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1647719881,"creation_date":1647715257,"question_id":71541018,"body_markdown":"I have service class defined with @Autowired annotation for the corresponding repository\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    @Service\r\n    public class StoreService {\r\n    \r\n        @Autowired\r\n        private StoreRepository repository;\r\n\r\n\r\nThe repository interface is defined as extends from JpaReepository\r\n\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    \r\n    public interface StoreRepository extends JpaRepository&lt;Store, String&gt; {\r\n    }\r\n\r\nAnd the application Autowires the Service Class\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    @RestController\r\n    public class StoreController {\r\n    \r\n        @Autowired\r\n        private StoreService service;\r\n\r\nUpon Running I get following error\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Field repository in com.mypackage.service.StoreService required a bean of type &#39;com.mypackage.respository.StoreRepository&#39; that could not be found.\r\n    \r\n    The injection point has the following annotations:\r\n    \t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean of type &#39;com.mypackage.respository.StoreRepository&#39; in your configuration.\r\n\r\n\r\n","title":"Spring boot MVC - Unable to Autowire Repository in the service class","body":"<p>I have service class defined with @Autowired annotation for the corresponding repository</p>\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class StoreService {\n\n    @Autowired\n    private StoreRepository repository;\n</code></pre>\n<p>The repository interface is defined as extends from JpaReepository</p>\n<pre><code>import org.springframework.data.jpa.repository.JpaRepository;\n\npublic interface StoreRepository extends JpaRepository&lt;Store, String&gt; {\n}\n</code></pre>\n<p>And the application Autowires the Service Class</p>\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.web.bind.annotation.*;\n\n@RestController\npublic class StoreController {\n\n    @Autowired\n    private StoreService service;\n</code></pre>\n<p>Upon Running I get following error</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField repository in com.mypackage.service.StoreService required a bean of type 'com.mypackage.respository.StoreRepository' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'com.mypackage.respository.StoreRepository' in your configuration.\n</code></pre>\n"},{"tags":["java","android","class"],"comments":[{"owner":{"account_id":6023206,"reputation":7989,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1647716602,"post_id":71541160,"comment_id":126442732,"body_markdown":"`What should someType be` well, considering it can be either `Student` or `Teacher`, you either need to use some sort of base class/interface or perhaps some type of base object the langauge uses, perhaps Object","body":"<code>What should someType be</code> well, considering it can be either <code>Student</code> or <code>Teacher</code>, you either need to use some sort of base class/interface or perhaps some type of base object the langauge uses, perhaps Object"},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1647716617,"post_id":71541160,"comment_id":126442735,"body_markdown":"`someType` should be a type that both `Student` and `Teacher` implement/extend","body":"<code>someType</code> should be a type that both <code>Student</code> and <code>Teacher</code> implement/extend"},{"owner":{"account_id":22144557,"reputation":98,"user_id":16394073,"display_name":"Wtow"},"score":0,"creation_date":1647716792,"post_id":71541160,"comment_id":126442774,"body_markdown":"@a_local_nobody can I access Student functions if I use Object class ? I tried but not worked.","body":"@a_local_nobody can I access Student functions if I use Object class ? I tried but not worked."},{"owner":{"account_id":22144557,"reputation":98,"user_id":16394073,"display_name":"Wtow"},"score":0,"creation_date":1647716871,"post_id":71541160,"comment_id":126442788,"body_markdown":"@QBrute Unfortunatelly I can&#39;t extend as it extends View class for something. I tried to implement with an interface but I could not access Student or Teacher functions.","body":"@QBrute Unfortunatelly I can&#39;t extend as it extends View class for something. I tried to implement with an interface but I could not access Student or Teacher functions."},{"owner":{"account_id":6023206,"reputation":7989,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1647716886,"post_id":71541160,"comment_id":126442793,"body_markdown":"no, because it will no longer be a student or a teacher, it will be of type Object, so you would have to cast it or do some type checking, perhaps you&#39;re going to find a better answer by explaining what you want to achieve","body":"no, because it will no longer be a student or a teacher, it will be of type Object, so you would have to cast it or do some type checking, perhaps you&#39;re going to find a better answer by explaining what you want to achieve"},{"owner":{"account_id":22144557,"reputation":98,"user_id":16394073,"display_name":"Wtow"},"score":0,"creation_date":1647717138,"post_id":71541160,"comment_id":126442844,"body_markdown":"@a_local_nobody I added more details to question.","body":"@a_local_nobody I added more details to question."},{"owner":{"account_id":6023206,"reputation":7989,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1647717292,"post_id":71541160,"comment_id":126442873,"body_markdown":"well i see no need for the way you&#39;re trying to do this. when a user logs in, you can simply use a boolean value to determine `isTeacher`,  if it is false, well, then they are a student","body":"well i see no need for the way you&#39;re trying to do this. when a user logs in, you can simply use a boolean value to determine <code>isTeacher</code>,  if it is false, well, then they are a student"},{"owner":{"account_id":22144557,"reputation":98,"user_id":16394073,"display_name":"Wtow"},"score":0,"creation_date":1647717505,"post_id":71541160,"comment_id":126442915,"body_markdown":"@a_local_nobody but I can&#39;t take the object outside of the if statement. Maybe I could not understand what you mean.","body":"@a_local_nobody but I can&#39;t take the object outside of the if statement. Maybe I could not understand what you mean."}],"answers":[{"tags":[],"owner":{"account_id":347460,"reputation":1972,"user_id":681586,"accept_rate":54,"display_name":"Petre Popescu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647719768,"creation_date":1647719768,"answer_id":71541578,"question_id":71541160,"body_markdown":"Before I can properly answer your question, I believe a few more things need to be clarified. Are &quot;Student&quot; and &quot;Teacher&quot; sub-types of a &quot;Person&quot; (or different name) class? I think this is the case, since I see that the person is `someType`, but want to make sure.\r\n\r\nIf so, take a look at the Factory design pattern. This may help you write clear code.\r\n\r\nSo, I would model something like this. Have a `Person` Abstract class (or interface)\r\n\r\n```java\r\npublic interface Person {\r\n    void doSomething();\r\n    void doSomethingElse();\r\n}\r\n```\r\n\r\nNext, have the two other classes implement that interface:\r\n\r\n```java\r\npublic class Student implements Person {\r\n    public void doSomething() {\r\n        // implementation\r\n    }\r\n\r\n    public void doSomethingElse() {\r\n        // implementation\r\n    }\r\n}\r\n\r\npublic class Teacher implements Person {\r\n    public void doSomething() {\r\n        // implementation\r\n    }\r\n\r\n    public void doSomethingElse() {\r\n        // implementation\r\n    }\r\n}\r\n```\r\n\r\nNext, you can have a `PersonFactory` that returns the type of person needed.\r\n\r\nThis assumes that both `Teacher` and `Person` have common functionalities (even though different implementations).","title":"One variable type two object on different conditions in android studio","body":"<p>Before I can properly answer your question, I believe a few more things need to be clarified. Are &quot;Student&quot; and &quot;Teacher&quot; sub-types of a &quot;Person&quot; (or different name) class? I think this is the case, since I see that the person is <code>someType</code>, but want to make sure.</p>\n<p>If so, take a look at the Factory design pattern. This may help you write clear code.</p>\n<p>So, I would model something like this. Have a <code>Person</code> Abstract class (or interface)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Person {\n    void doSomething();\n    void doSomethingElse();\n}\n</code></pre>\n<p>Next, have the two other classes implement that interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Student implements Person {\n    public void doSomething() {\n        // implementation\n    }\n\n    public void doSomethingElse() {\n        // implementation\n    }\n}\n\npublic class Teacher implements Person {\n    public void doSomething() {\n        // implementation\n    }\n\n    public void doSomethingElse() {\n        // implementation\n    }\n}\n</code></pre>\n<p>Next, you can have a <code>PersonFactory</code> that returns the type of person needed.</p>\n<p>This assumes that both <code>Teacher</code> and <code>Person</code> have common functionalities (even though different implementations).</p>\n"}],"owner":{"account_id":22144557,"reputation":98,"user_id":16394073,"display_name":"Wtow"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1647719768,"creation_date":1647716406,"question_id":71541160,"body_markdown":"I have two classes and I should create an object from them. \r\n\r\n    public someType person;\r\n    \r\n    if (type.equals(&quot;student&quot;)){\r\n        person = new Student();\r\n    }else{\r\n        person = new Teacher();\r\n    }\r\n\r\nI want to do it because I have two account in my application and their functions, abilities are sometimes different. If a student login to the application, something is different will be ran than Teacher. \r\n\r\nWhat should I do ? What should someType be ?\r\n\r\nThanks for all helps...\r\n","title":"One variable type two object on different conditions in android studio","body":"<p>I have two classes and I should create an object from them.</p>\n<pre><code>public someType person;\n\nif (type.equals(&quot;student&quot;)){\n    person = new Student();\n}else{\n    person = new Teacher();\n}\n</code></pre>\n<p>I want to do it because I have two account in my application and their functions, abilities are sometimes different. If a student login to the application, something is different will be ran than Teacher.</p>\n<p>What should I do ? What should someType be ?</p>\n<p>Thanks for all helps...</p>\n"},{"tags":["java","swing"],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647719396,"creation_date":1647719396,"answer_id":71541519,"question_id":71541481,"body_markdown":"&gt; the &quot;best&quot; solution I&#39;ve found so far is I have to use a while loop waiting for the conditions.\r\n\r\nWhatever source you found that gave you this advice for Swing GUI&#39;s, *never* use it again. This advice will work for linear console programs, but is disaster for event-driven GUI&#39;s.\r\n\r\nAnd Swing is exactly that, an event-driven GUI library, and so the *best* solution is not to use a busy loop such as this but rather to have event listeners whose behavior (code that is called) will depend on the program&#39;s state (the values held by key program fields). For example, the key state to follow here will be something like a userTurn field. A button that the user presses to do an action should only work (and only be active) if it is that user&#39;s turn. The user should only be allowed to bet based on fields that tell the program that cards have not been dealt, etc...","title":"Can I somehow make a method wait for input from an button/actionlistener","body":"<blockquote>\n<p>the &quot;best&quot; solution I've found so far is I have to use a while loop waiting for the conditions.</p>\n</blockquote>\n<p>Whatever source you found that gave you this advice for Swing GUI's, <em>never</em> use it again. This advice will work for linear console programs, but is disaster for event-driven GUI's.</p>\n<p>And Swing is exactly that, an event-driven GUI library, and so the <em>best</em> solution is not to use a busy loop such as this but rather to have event listeners whose behavior (code that is called) will depend on the program's state (the values held by key program fields). For example, the key state to follow here will be something like a userTurn field. A button that the user presses to do an action should only work (and only be active) if it is that user's turn. The user should only be allowed to bet based on fields that tell the program that cards have not been dealt, etc...</p>\n"}],"owner":{"account_id":24613958,"reputation":9,"user_id":18515179,"display_name":"Auux"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1647719396,"creation_date":1647719080,"question_id":71541481,"body_markdown":"Im working on a simple blackjack game using java swing. Frames and all code is set in place, but I have a huge issue with the players turn, the &quot;best&quot; solution I&#39;ve found so far is I have to use a while loop waiting for the conditions. This makes the game run but with a load of work for the cpu, which my teachers won&#39;t appreciate.\r\n\r\nSo right now this is the game loop, I have simplified the variables to make it easier to understand. I have searched for solutions for 3 days without any results. Do I have to make some kind of overhaul, or is it possible to just wait for requirment of &quot;playerIsDone&quot; and/or &quot;playerBust&quot; to trigger before moving on to the dealer?\r\n\r\nThe closest thing to what I want is a scanner, it waits until it has input, I basically want similiar conditions for the players turn.\r\n\r\n    public void run() {\r\n\t\tplayerBust = false;\r\n\t\tdealerBust = false;\r\n\t\t// action listener for Hit button\r\n\t\tgameGui.hit.addActionListener(e -&gt; {\r\n\t\t\taddCardToHand();\r\n\t\t\trepaint();\r\n\t\t});\r\n\t\t// action listener for Stay button\r\n\t\tgameGui.stay.addActionListener(e -&gt; {\r\n\t\t\tplayerIsDone = true;\r\n\t\t\tdisableButtons();\r\n\r\n\t\t});\r\n\t\t// action listener for Play again button\r\n\t\tgameGui.rePlay.addActionListener(e -&gt; {\r\n\t\t\tplayAgain = true;\r\n\t\t});\r\n\t\twhile (!exitgame) {\r\n\t\t    startGame();\r\n\t\t\tdeal();\r\n\t\t\trepaint();\r\n\r\n\t\t\tplayerTurn();// I want to stay here until requirments are met,  \r\n                         // either the player stays or hits until bust\r\n\r\n\t\t\tdealerTurn();// working loop for dealer\r\n\r\n\t\t\tcalculateWinner();// decide a winner\r\n\r\n\t\t\tplayAgain(); // enables replay button to replay loop\r\n\t\t\tdisableReplay();\r\n\t\t\tnewRound();\r\n\t\t}\r\n\r\n\t}\r\n\r\nWhile the player turn for the time being looks like\r\n\r\n\r\n    public void playerTurn() {\r\n\t\tgameGui.enableButtons();\r\n\t\tgameGui.repaint();\r\n\t\tplayerIsDone = false;\r\n\t\t\r\n\t\t\r\n\t\twhile (!playerBust &amp;&amp; !playerIsDone) {\r\n            // This while loop also needed a print to work at all for some reason\r\n\t\t\tif (calculateHand &gt; 21) {\r\n\t\t\t\tgameGui.disableButtons();\r\n\t\t\t\tplayerBust = true;\r\n\t\t\t}\r\n            // Condition for playerIsDone lies in the action listener in run().\r\n\t\t}\r\n\t}\r\n\r\nI hope all of this explains enough of my issue.","title":"Can I somehow make a method wait for input from an button/actionlistener","body":"<p>Im working on a simple blackjack game using java swing. Frames and all code is set in place, but I have a huge issue with the players turn, the &quot;best&quot; solution I've found so far is I have to use a while loop waiting for the conditions. This makes the game run but with a load of work for the cpu, which my teachers won't appreciate.</p>\n<p>So right now this is the game loop, I have simplified the variables to make it easier to understand. I have searched for solutions for 3 days without any results. Do I have to make some kind of overhaul, or is it possible to just wait for requirment of &quot;playerIsDone&quot; and/or &quot;playerBust&quot; to trigger before moving on to the dealer?</p>\n<p>The closest thing to what I want is a scanner, it waits until it has input, I basically want similiar conditions for the players turn.</p>\n<pre><code>public void run() {\n    playerBust = false;\n    dealerBust = false;\n    // action listener for Hit button\n    gameGui.hit.addActionListener(e -&gt; {\n        addCardToHand();\n        repaint();\n    });\n    // action listener for Stay button\n    gameGui.stay.addActionListener(e -&gt; {\n        playerIsDone = true;\n        disableButtons();\n\n    });\n    // action listener for Play again button\n    gameGui.rePlay.addActionListener(e -&gt; {\n        playAgain = true;\n    });\n    while (!exitgame) {\n        startGame();\n        deal();\n        repaint();\n\n        playerTurn();// I want to stay here until requirments are met,  \n                     // either the player stays or hits until bust\n\n        dealerTurn();// working loop for dealer\n\n        calculateWinner();// decide a winner\n\n        playAgain(); // enables replay button to replay loop\n        disableReplay();\n        newRound();\n    }\n\n}\n</code></pre>\n<p>While the player turn for the time being looks like</p>\n<pre><code>public void playerTurn() {\n    gameGui.enableButtons();\n    gameGui.repaint();\n    playerIsDone = false;\n    \n    \n    while (!playerBust &amp;&amp; !playerIsDone) {\n        // This while loop also needed a print to work at all for some reason\n        if (calculateHand &gt; 21) {\n            gameGui.disableButtons();\n            playerBust = true;\n        }\n        // Condition for playerIsDone lies in the action listener in run().\n    }\n}\n</code></pre>\n<p>I hope all of this explains enough of my issue.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":3,"creation_date":1647689763,"post_id":71537538,"comment_id":126437086,"body_markdown":"It is generally advised to not use the `null` layout and fiddle around with `setBounds()`. Instead use an actual layout manager, see https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html","body":"It is generally advised to not use the <code>null</code> layout and fiddle around with <code>setBounds()</code>. Instead use an actual layout manager, see <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/layout/visual.html</a>"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1647692819,"post_id":71537538,"comment_id":126437641,"body_markdown":"You don&#39;t see the new components because `openFrame.setContentPane(loadPanel);` has replaced the visible `openPanel` with the `loadPanel`.","body":"You don&#39;t see the new components because <code>openFrame.setContentPane(loadPanel);</code> has replaced the visible <code>openPanel</code> with the <code>loadPanel</code>."},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1647693557,"post_id":71537538,"comment_id":126437759,"body_markdown":"The canonical way to swap views is to use a CardLayout. And yes, avoid null layouts as @Progman aptly suggests.","body":"The canonical way to swap views is to use a CardLayout. And yes, avoid null layouts as @Progman aptly suggests."}],"answers":[{"tags":[],"owner":{"account_id":11224986,"reputation":2603,"user_id":8234870,"display_name":"Udesh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1647692066,"creation_date":1647691260,"answer_id":71537961,"question_id":71537538,"body_markdown":"The solution is not perfect you can improve the code as per your need. It seems like button is responding to clicks to verify that I have added `System.out.println(&quot;Clicked&quot;)` statement inside `actionPerformed` method.\r\n\r\n    package swingButton;\r\n    \r\n    \r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.io.FileNotFoundException;\r\n    \r\n    import static javax.swing.SwingConstants.TOP;\r\n    \r\n    public class OpenFrame extends JFrame implements ActionListener {\r\n    \r\n        private static final int WIDTH = 500;\r\n        private static final int HEIGHT = 500;\r\n    //    private BudgetPlanner budgetPlanner;\r\n    \r\n        private JFrame openFrame;\r\n    \r\n        private JLabel welcomeMessage;\r\n        private JPanel openPanel = new JPanel();\r\n        private JPanel inputSpace;\r\n    \r\n        private JButton loadButton = new JButton();\r\n        private JButton resetButton = new JButton();\r\n        private JButton addIncomeButton;\r\n        private JButton addExpenseButton;\r\n        private JButton viewExpenseButton;\r\n        private JButton viewIncomeButton;\r\n    \r\n        private JTextField inputIncome;\r\n    \r\n    //    public BudgetPlanner callBudgetPlanner() {\r\n    //        try {\r\n    //            budgetPlanner = new BudgetPlanner();\r\n    //        } catch (FileNotFoundException e) {\r\n    //            e.printStackTrace();\r\n    //        }\r\n    //        return budgetPlanner;\r\n    //    }\r\n    \r\n        public OpenFrame() {\r\n            openFrame = new JFrame();\r\n            openFrame.setTitle(&quot;BudgetPlanner&quot;);\r\n            openFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            openFrame.setResizable(false);\r\n            openFrame.setLayout(null);\r\n            openFrame.setLocationRelativeTo(null);\r\n            openFrame.setSize(new Dimension(WIDTH, HEIGHT));\r\n            openFrame.getContentPane().setBackground(Color.GRAY);\r\n            openPanel();\r\n            openFrame.setContentPane(openPanel);\r\n    \r\n            openFrame.setVisible(true);\r\n        }\r\n    \r\n        public void openPanel() {\r\n            openPanel.setLayout(null);\r\n    \r\n            welcomeMessage = new JLabel(&quot;Hello there! Welcome back. Choose an option below:&quot;);\r\n            welcomeMessage.setVerticalTextPosition(TOP);\r\n            welcomeMessage.setHorizontalTextPosition(SwingConstants.CENTER);\r\n            welcomeMessage.setBounds(50, 20, 500, 200);\r\n            welcomeMessage.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 17));\r\n    \r\n            openPanel.setBounds(0, 0, 500, 500);\r\n            openPanel.add(welcomeMessage);\r\n    \r\n            loadButton.setBounds(200, 170, 100, 50);\r\n            loadButton.setFont(new Font(&quot;Arial&quot;, Font.CENTER_BASELINE, 15));\r\n            loadButton.setText(&quot;Load Data&quot;);\r\n            loadButton.addActionListener(this);\r\n            loadButton.setFocusable(false);\r\n    \r\n            resetButton.setBounds(200, 230, 100, 50);\r\n            resetButton.setFont(new Font(&quot;Arial&quot;, Font.CENTER_BASELINE, 15));\r\n            resetButton.setText(&quot;Reset Data&quot;);\r\n            resetButton.addActionListener(this);\r\n            resetButton.setFocusable(false);\r\n    \r\n            openPanel.add(loadButton);\r\n            openPanel.add(resetButton);\r\n        }\r\n    \r\n        public void plannerScreen() {\r\n            JPanel loadPanel = new JPanel();\r\n            openFrame.setContentPane(loadPanel);\r\n            loadPanel.setBounds(0, 0, 500, 500);\r\n            JLabel loadCompleteMessage = new JLabel(&quot;Welcome to Budget Planner App.&quot;);\r\n            loadCompleteMessage.setBounds(138, TOP, 500, 50);\r\n            loadCompleteMessage.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 14));\r\n            loadPanel.add(loadCompleteMessage);\r\n            JLabel optionMessage = new JLabel(&quot;What would you like to do?&quot;);\r\n            optionMessage.setBounds(175, TOP + 40, 500, 10);\r\n            optionMessage.setFont(new Font(&quot;Arial&quot;, Font.ITALIC, 13));\r\n            loadPanel.add(optionMessage);\r\n            openButton();\r\n            loadPanel.add(addIncomeButton);\r\n            loadPanel.add(addExpenseButton);\r\n            loadPanel.add(viewIncomeButton);\r\n            loadPanel.add(viewExpenseButton);\r\n        }\r\n    \r\n        public void openButton() {\r\n            addIncomeButton = new JButton(&quot;Add Income&quot;);\r\n            addIncomeButton.setBounds(180, 110, 140, 45);\r\n            addIncomeButton.setFont(new Font(&quot;Arial&quot;, Font.CENTER_BASELINE, 15));\r\n            addExpenseButton = new JButton(&quot;Add Expense&quot;);\r\n            addExpenseButton.setBounds(180, 160, 140, 45);\r\n            addExpenseButton.setFont(new Font(&quot;Arial&quot;, Font.CENTER_BASELINE, 15));\r\n            viewIncomeButton = new JButton(&quot;View Income&quot;);\r\n            viewIncomeButton.setBounds(180, 210, 140, 45);\r\n            viewIncomeButton.setFont(new Font(&quot;Arial&quot;, Font.CENTER_BASELINE, 15));\r\n            viewExpenseButton = new JButton(&quot;View Expense&quot;);\r\n            viewExpenseButton.setBounds(180, 260, 140, 45);\r\n            viewExpenseButton.setFont(new Font(&quot;Arial&quot;, Font.CENTER_BASELINE, 15));\r\n    \r\n            addIncomeButton.addActionListener(new InputData(this));\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            if (e.getSource() == loadButton) {\r\n                JOptionPane.showMessageDialog(null, &quot;Loading Complete!&quot;);\r\n                plannerScreen();\r\n            }\r\n    \r\n            if (e.getSource() == resetButton) {\r\n                JOptionPane.showMessageDialog(null, &quot;Saved data erased.&quot;);\r\n                plannerScreen();\r\n            }\r\n        }\r\n    \r\n        public class InputData implements ActionListener {\r\n            JFrame parent;\r\n    \r\n            public InputData(JFrame parent) {\r\n                this.parent = parent;\r\n            }\r\n    \r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                System.out.println(&quot;Clicked&quot;);\r\n                JDialog dialog = new JDialog(parent);\r\n                JPanel inputSpace = new JPanel();\r\n                inputSpace.setLayout(new FlowLayout());\r\n    //            inputSpace.setBounds(0, 300, 500, 200);\r\n                var incomeLabel = new JLabel(&quot;How much is your income?&quot;);\r\n                inputIncome = new JTextField(&quot;How much is your income?&quot;, 20);\r\n                inputSpace.add(incomeLabel);\r\n                inputSpace.add(inputIncome);\r\n                inputSpace.add(new JButton(&quot;OK&quot;));\r\n                inputSpace.add(new JButton(&quot;Cancel&quot;));\r\n    //            openPanel.add(inputSpace);\r\n    //            openFrame.removeAll();\r\n    //            openFrame.setContentPane(inputSpace);\r\n    //            openFrame.add(inputSpace);\r\n    //            parent.setContentPane(inputSpace);\r\n                dialog.add(inputSpace);\r\n                System.out.println(&quot;Removing all&quot;);\r\n                dialog.setSize(500, 300);\r\n                dialog.setVisible(true);\r\n            }\r\n        }\r\n    \r\n        public static void main(String... $) {\r\n            var of = new OpenFrame();\r\n        }\r\n    }\r\n\r\n[![Budget Planner][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fsbCf.png","title":"JButton not linked to ActionLister","body":"<p>The solution is not perfect you can improve the code as per your need. It seems like button is responding to clicks to verify that I have added <code>System.out.println(&quot;Clicked&quot;)</code> statement inside <code>actionPerformed</code> method.</p>\n<pre><code>package swingButton;\n\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.io.FileNotFoundException;\n\nimport static javax.swing.SwingConstants.TOP;\n\npublic class OpenFrame extends JFrame implements ActionListener {\n\n    private static final int WIDTH = 500;\n    private static final int HEIGHT = 500;\n//    private BudgetPlanner budgetPlanner;\n\n    private JFrame openFrame;\n\n    private JLabel welcomeMessage;\n    private JPanel openPanel = new JPanel();\n    private JPanel inputSpace;\n\n    private JButton loadButton = new JButton();\n    private JButton resetButton = new JButton();\n    private JButton addIncomeButton;\n    private JButton addExpenseButton;\n    private JButton viewExpenseButton;\n    private JButton viewIncomeButton;\n\n    private JTextField inputIncome;\n\n//    public BudgetPlanner callBudgetPlanner() {\n//        try {\n//            budgetPlanner = new BudgetPlanner();\n//        } catch (FileNotFoundException e) {\n//            e.printStackTrace();\n//        }\n//        return budgetPlanner;\n//    }\n\n    public OpenFrame() {\n        openFrame = new JFrame();\n        openFrame.setTitle(&quot;BudgetPlanner&quot;);\n        openFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        openFrame.setResizable(false);\n        openFrame.setLayout(null);\n        openFrame.setLocationRelativeTo(null);\n        openFrame.setSize(new Dimension(WIDTH, HEIGHT));\n        openFrame.getContentPane().setBackground(Color.GRAY);\n        openPanel();\n        openFrame.setContentPane(openPanel);\n\n        openFrame.setVisible(true);\n    }\n\n    public void openPanel() {\n        openPanel.setLayout(null);\n\n        welcomeMessage = new JLabel(&quot;Hello there! Welcome back. Choose an option below:&quot;);\n        welcomeMessage.setVerticalTextPosition(TOP);\n        welcomeMessage.setHorizontalTextPosition(SwingConstants.CENTER);\n        welcomeMessage.setBounds(50, 20, 500, 200);\n        welcomeMessage.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 17));\n\n        openPanel.setBounds(0, 0, 500, 500);\n        openPanel.add(welcomeMessage);\n\n        loadButton.setBounds(200, 170, 100, 50);\n        loadButton.setFont(new Font(&quot;Arial&quot;, Font.CENTER_BASELINE, 15));\n        loadButton.setText(&quot;Load Data&quot;);\n        loadButton.addActionListener(this);\n        loadButton.setFocusable(false);\n\n        resetButton.setBounds(200, 230, 100, 50);\n        resetButton.setFont(new Font(&quot;Arial&quot;, Font.CENTER_BASELINE, 15));\n        resetButton.setText(&quot;Reset Data&quot;);\n        resetButton.addActionListener(this);\n        resetButton.setFocusable(false);\n\n        openPanel.add(loadButton);\n        openPanel.add(resetButton);\n    }\n\n    public void plannerScreen() {\n        JPanel loadPanel = new JPanel();\n        openFrame.setContentPane(loadPanel);\n        loadPanel.setBounds(0, 0, 500, 500);\n        JLabel loadCompleteMessage = new JLabel(&quot;Welcome to Budget Planner App.&quot;);\n        loadCompleteMessage.setBounds(138, TOP, 500, 50);\n        loadCompleteMessage.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 14));\n        loadPanel.add(loadCompleteMessage);\n        JLabel optionMessage = new JLabel(&quot;What would you like to do?&quot;);\n        optionMessage.setBounds(175, TOP + 40, 500, 10);\n        optionMessage.setFont(new Font(&quot;Arial&quot;, Font.ITALIC, 13));\n        loadPanel.add(optionMessage);\n        openButton();\n        loadPanel.add(addIncomeButton);\n        loadPanel.add(addExpenseButton);\n        loadPanel.add(viewIncomeButton);\n        loadPanel.add(viewExpenseButton);\n    }\n\n    public void openButton() {\n        addIncomeButton = new JButton(&quot;Add Income&quot;);\n        addIncomeButton.setBounds(180, 110, 140, 45);\n        addIncomeButton.setFont(new Font(&quot;Arial&quot;, Font.CENTER_BASELINE, 15));\n        addExpenseButton = new JButton(&quot;Add Expense&quot;);\n        addExpenseButton.setBounds(180, 160, 140, 45);\n        addExpenseButton.setFont(new Font(&quot;Arial&quot;, Font.CENTER_BASELINE, 15));\n        viewIncomeButton = new JButton(&quot;View Income&quot;);\n        viewIncomeButton.setBounds(180, 210, 140, 45);\n        viewIncomeButton.setFont(new Font(&quot;Arial&quot;, Font.CENTER_BASELINE, 15));\n        viewExpenseButton = new JButton(&quot;View Expense&quot;);\n        viewExpenseButton.setBounds(180, 260, 140, 45);\n        viewExpenseButton.setFont(new Font(&quot;Arial&quot;, Font.CENTER_BASELINE, 15));\n\n        addIncomeButton.addActionListener(new InputData(this));\n\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        if (e.getSource() == loadButton) {\n            JOptionPane.showMessageDialog(null, &quot;Loading Complete!&quot;);\n            plannerScreen();\n        }\n\n        if (e.getSource() == resetButton) {\n            JOptionPane.showMessageDialog(null, &quot;Saved data erased.&quot;);\n            plannerScreen();\n        }\n    }\n\n    public class InputData implements ActionListener {\n        JFrame parent;\n\n        public InputData(JFrame parent) {\n            this.parent = parent;\n        }\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            System.out.println(&quot;Clicked&quot;);\n            JDialog dialog = new JDialog(parent);\n            JPanel inputSpace = new JPanel();\n            inputSpace.setLayout(new FlowLayout());\n//            inputSpace.setBounds(0, 300, 500, 200);\n            var incomeLabel = new JLabel(&quot;How much is your income?&quot;);\n            inputIncome = new JTextField(&quot;How much is your income?&quot;, 20);\n            inputSpace.add(incomeLabel);\n            inputSpace.add(inputIncome);\n            inputSpace.add(new JButton(&quot;OK&quot;));\n            inputSpace.add(new JButton(&quot;Cancel&quot;));\n//            openPanel.add(inputSpace);\n//            openFrame.removeAll();\n//            openFrame.setContentPane(inputSpace);\n//            openFrame.add(inputSpace);\n//            parent.setContentPane(inputSpace);\n            dialog.add(inputSpace);\n            System.out.println(&quot;Removing all&quot;);\n            dialog.setSize(500, 300);\n            dialog.setVisible(true);\n        }\n    }\n\n    public static void main(String... $) {\n        var of = new OpenFrame();\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/fsbCf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fsbCf.png\" alt=\"Budget Planner\" /></a></p>\n"},{"tags":[],"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647719147,"creation_date":1647718730,"answer_id":71541447,"question_id":71537538,"body_markdown":"Basic recommendations:\r\n\r\n1. Avoid use of null layout and use of `setBounds(...)` for component placement as this makes for very inflexible GUI&#39;s that while they might look good on one platform look terrible on most other platforms or screen resolutions and that are very difficult to update and maintain.\r\n2. The best way to swap or show/hide components with Swing is to use a CardLayout. Please check out the [CardLayout tutorial](http://docs.oracle.com/javase/tutorial/uiswing/layout/card.html).\r\n3. Different views should be represented by different JPanels\r\n4. Different views should have their own class\r\n5. Separate your program&#39;s data and logic (the program&#39;s model) from the view into separate classes, into at least a model and  view classes, or if you wish, a model-view-controller (MVC) pattern. \r\n\r\nFor example:  \r\n\r\n[![enter image description here][1]][1]\r\n\r\nin the example code below, I&#39;ve model and some control code in a SwapModel class:\r\n\r\n```\r\nimport java.beans.*;\r\nimport java.util.*;\r\nimport javax.swing.event.*;\r\n\r\npublic class SwapModel {\r\n\tpublic static String INCOME = &quot;income&quot;;\r\n\tprivate PropertyChangeSupport pcSupport = new SwingPropertyChangeSupport(this);\r\n\tprivate SwapGuiMainPanel mainGui;\r\n\tprivate Deque&lt;String&gt; cardStack = new LinkedList&lt;&gt;();\r\n\tprivate double income = 0;\r\n\r\n\tpublic SwapModel(SwapGuiMainPanel mainGui) {\r\n\t\tthis.mainGui = mainGui;\r\n\t}\r\n\r\n\t// when income is changed, update it and notify listeners.\r\n\tpublic void addIncome(double value) {\r\n\t\tdouble oldValue = this.income;\r\n\t\tdouble newValue = this.income + value;\r\n\t\tthis.income = newValue;\r\n\t\tpcSupport.firePropertyChange(INCOME, oldValue, newValue);\r\n\t}\r\n\t\r\n\tpublic double getIncome() {\r\n\t\treturn income;\r\n\t}\r\n\r\n\t// go to the next CardLayout view by calling show and pushing the view&#39;s constraint String onto the cardStack\r\n\tpublic void swap(String name) {\r\n\t\tmainGui.getCardLayout().show(mainGui.getHolderPanel(), name);\r\n\t\tcardStack.push(name);\r\n\t}\r\n\t\r\n\t// go to the previous CardLayout view by popping the cardStack.\r\n\tpublic String popCardStack() {\r\n\t\tString name = null;\r\n\t\tif (cardStack.size() &gt; 1) {\r\n\t\t\tcardStack.pop();\r\n\t\t\tname = cardStack.peek();\r\n\t\t\tmainGui.getCardLayout().show(mainGui.getHolderPanel(), name);\t\t\t\r\n\t\t}\r\n\t\treturn name;\r\n\t}\r\n\t\r\n\tpublic void addPropertyChangeListener(String propName, PropertyChangeListener propListener) {\r\n\t\tpcSupport.addPropertyChangeListener(propName, propListener);\r\n\t}\r\n}\r\n```\r\n\r\nThis holds an income value, and notifies any classes that want to register listeners about changes in the income value, by use of JavaBeans property change support. It also helps control which view is shown at what time, by controlling a CardLayout object.\r\n\r\nThe view portion of this example program codes for several JPanels, including:\r\n* A WelcomePanel that displays welcome text and has buttons that helps the user load other JPanels. It currently only allows display of one JPanel, the LoadPanel.\r\n* A LoadPanel that is a menut to allow the user to add or view expenses or income. The JPanel nests several layout managers, including a BoxLayout, GridLayout,  and GridBagLayout, to allow for a flexible GUI. A buttonFactory method allows for creation of larger JButtons with a uniform appearance.\r\n* An AddIncomePanel that allows the user to add additional income to the program&#39;s model.\r\n* A ViewIncomePanel that shows the current income to the user. This class will listen for changes to the model&#39;s income property using a PropertyChangeListener.\r\n* Finally a SwapGuiMainPanel to hold the CardLayout and the holderPanel that uses this layout, and to put everything together:\r\n\r\n```\r\nimport java.awt.BorderLayout;\r\nimport java.awt.CardLayout;\r\nimport java.awt.Font;\r\nimport java.awt.GridBagConstraints;\r\nimport java.awt.GridBagLayout;\r\nimport java.awt.GridLayout;\r\nimport java.awt.Insets;\r\nimport java.awt.event.*;\r\nimport java.beans.*;\r\nimport java.text.NumberFormat;\r\nimport javax.swing.*;\r\nimport javax.swing.border.Border;\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\npublic class SwapGuiMainPanel extends JPanel {\r\n\tprivate CardLayout cardLayout = new CardLayout();\r\n\tprivate JPanel holderPanel = new JPanel(cardLayout);\r\n\tprivate SwapModel swapModel = new SwapModel(this);\r\n\tprivate WelcomePanel welcomePanel = new WelcomePanel(swapModel);\r\n\tprivate LoadPanel loadPanel = new LoadPanel(swapModel);\r\n\tprivate AddIncomePanel addIncomePanel = new AddIncomePanel(swapModel);\r\n\tprivate ViewIncomePanel viewIncomePanel = new ViewIncomePanel(swapModel);\r\n\t\r\n\tpublic SwapGuiMainPanel() {\r\n\t\tholderPanel.add(welcomePanel, WelcomePanel.NAME);\r\n\t\tholderPanel.add(loadPanel, LoadPanel.NAME);\r\n\t\tholderPanel.add(addIncomePanel, AddIncomePanel.NAME);\r\n\t\tholderPanel.add(viewIncomePanel, ViewIncomePanel.NAME);\r\n\t\t\r\n\t\tswapModel.addPropertyChangeListener(SwapModel.INCOME, new IncomeListener());\r\n\t\t\r\n\t\tint gap = 10;\r\n\t\tsetBorder(BorderFactory.createEmptyBorder(gap, gap, gap, gap));\r\n\t\tsetLayout(new BorderLayout());\r\n\t\tadd(holderPanel);\r\n\t}\r\n\t\r\n\tprivate class IncomeListener implements PropertyChangeListener {\r\n\t\t@Override\r\n\t\tpublic void propertyChange(PropertyChangeEvent evt) {\r\n\t\t\tDouble income = (Double) evt.getNewValue();\r\n\t\t\tif (income != null) {\r\n\t\t\t\tviewIncomePanel.setIncomeValue(income);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tSwingUtilities.invokeLater(() -&gt; {\r\n\t\t\tSwapGuiMainPanel mainPanel = new SwapGuiMainPanel();\r\n\r\n\t\t\tJFrame frame = new JFrame(&quot;GUI&quot;);\r\n\t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\tframe.add(mainPanel);\r\n\t\t\tframe.pack();\r\n\t\t\tframe.setLocationRelativeTo(null);\r\n\t\t\tframe.setVisible(true);\r\n\t\t});\r\n\t}\r\n\r\n\tpublic void swap(String constraint) {\r\n\t\tcardLayout.show(holderPanel, constraint);\r\n\t}\r\n\t\r\n\tpublic CardLayout getCardLayout() {\r\n\t\treturn cardLayout;\r\n\t}\r\n\t\r\n\tpublic JPanel getHolderPanel() {\r\n\t\treturn holderPanel;\r\n\t}\r\n\t\r\n}\r\n```\r\n```\r\n@SuppressWarnings(&quot;serial&quot;)\r\nclass WelcomePanel extends JPanel {\r\n\tpublic static final String NAME = &quot;welcome panel&quot;;\r\n\tprivate static final String WELCOME_TEXT = &quot;Hello and Welcome! Choose an Option Below:&quot;;\r\n\tprivate SwapModel model;\r\n\r\n\tpublic WelcomePanel(SwapModel model) {\r\n\t\tthis.model = model;\r\n\t\t\r\n\t\tint gap = 20;\r\n\t\tJPanel buttonPanel = new JPanel(new GridLayout(0, 1, gap, gap));\r\n\t\tJButton loadButton = new JButton(&quot;Load Data&quot;);\r\n\t\tloadButton.addActionListener(e -&gt; loadData());\r\n\t\tJButton resetButton = new JButton(&quot;Reset Data&quot;);\r\n\t\tFont btnFont = loadButton.getFont().deriveFont(Font.BOLD, 16f);\r\n\t\tloadButton.setFont(btnFont);\r\n\t\tresetButton.setFont(btnFont);\t\t\r\n\t\tbuttonPanel.add(loadButton);\r\n\t\tbuttonPanel.add(resetButton);\r\n\t\t\r\n\t\tsetLayout(new GridBagLayout());\r\n\t\tGridBagConstraints gbc = new GridBagConstraints();\r\n\t\tgbc.gridx = 0;\r\n\t\tgbc.gridy = 0;\r\n\t\tgbc.insets = new Insets(gap, gap, gap, gap);\r\n\t\tadd(new JLabel(WELCOME_TEXT), gbc);\t\t\r\n\t\tgbc.gridy++;\r\n\t\tadd(buttonPanel, gbc);\r\n\t}\r\n\t\r\n\tprivate void loadData() {\r\n\t\tmodel.swap(LoadPanel.NAME);\r\n\t}\r\n\t\r\n}\r\n```\r\n```\r\n@SuppressWarnings(&quot;serial&quot;)\r\nclass LoadPanel extends JPanel {\r\n\tpublic static final String NAME = &quot;load panel&quot;;\r\n\tprivate SwapModel model;\r\n\r\n\tpublic LoadPanel(SwapModel model) {\r\n\t\tthis.model = model;\r\n\t\t\r\n\t\tJLabel title = new JLabel(&quot;Welcome to Budget Planner App&quot;);\r\n\t\ttitle.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\ttitle.setAlignmentX(JLabel.CENTER_ALIGNMENT);\r\n\t\ttitle.setFont(title.getFont().deriveFont(Font.BOLD, 16f));\r\n\t\t\r\n\t\tJLabel subTitle = new JLabel(&quot;What would you like to do?&quot;);\r\n\t\tsubTitle.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tsubTitle.setAlignmentX(JLabel.CENTER_ALIGNMENT);\r\n\t\tsubTitle.setFont(subTitle.getFont().deriveFont(Font.ITALIC));\r\n\t\t\r\n\t\tJPanel titlePanel = new JPanel();\r\n\t\ttitlePanel.setLayout(new BoxLayout(titlePanel, BoxLayout.PAGE_AXIS));\r\n\t\ttitlePanel.add(title);\r\n\t\ttitlePanel.add(subTitle);\r\n\t\ttitlePanel.add(Box.createVerticalStrut(30));\r\n\t\t\r\n\t\tJPanel buttonPanel = new JPanel(new GridLayout(0, 1, 10, 10));\r\n\t\tbuttonPanel.add(buttonFactory(&quot;Add Income&quot;, e -&gt; addIncome()));\r\n\t\tbuttonPanel.add(buttonFactory(&quot;Add Expense&quot;, null));\r\n\t\tbuttonPanel.add(buttonFactory(&quot;View Income&quot;, e -&gt; viewIncome()));\r\n\t\tbuttonPanel.add(buttonFactory(&quot;View Expense&quot;, null));\r\n\t\t\r\n\t\tJPanel wrapperPanel = new JPanel(new GridBagLayout());\r\n\t\twrapperPanel.add(buttonPanel);\r\n\t\t\t\t\r\n\t\tint gap = 10;\r\n\t\tsetBorder(BorderFactory.createEmptyBorder(gap, gap, gap, gap));\r\n\t\tsetLayout(new BorderLayout());\r\n\t\tadd(titlePanel, BorderLayout.PAGE_START);\r\n\t\tadd(wrapperPanel);\r\n\t}\r\n\t\r\n\tprivate void addIncome() {\r\n\t\tmodel.swap(AddIncomePanel.NAME);\r\n\t}\r\n\t\r\n\tprivate void viewIncome() {\r\n\t\tmodel.swap(ViewIncomePanel.NAME);\r\n\t}\r\n\t\r\n\tprivate JButton buttonFactory(String text, ActionListener listener) {\r\n\t\tJButton button = new JButton(text);\r\n\t\tbutton.addActionListener(listener);\r\n\t\tbutton.setFont(button.getFont().deriveFont(Font.BOLD, 16f));\r\n\t\tBorder originalBorder = button.getBorder();\r\n\t\tint gap = 10;\r\n\t\tBorder innerBorder = BorderFactory.createEmptyBorder(gap, gap, gap, gap);\r\n\t\tbutton.setBorder(BorderFactory.createCompoundBorder(originalBorder, innerBorder));\r\n\t\treturn button;\r\n\t}\r\n\t\r\n}\r\n```\r\n```\r\n@SuppressWarnings(&quot;serial&quot;)\r\nclass AddIncomePanel extends JPanel {\r\n\tpublic static final String NAME = &quot;add income panel&quot;;\r\n\tprivate SwapModel swapModel;\r\n\tprivate JTextField incomeField = new JTextField(20);\r\n\tprivate JButton submitButton = new JButton(&quot;Submit&quot;);\r\n\tprivate JButton cancelButton = new JButton(&quot;Cancel&quot;);\r\n\r\n\tpublic AddIncomePanel(SwapModel swapModel) {\r\n\t\tthis.swapModel = swapModel;\r\n\t\tJPanel topPanel = new JPanel();\r\n\t\ttopPanel.add(new JLabel(&quot;Enter Income:&quot;));\r\n\t\ttopPanel.add(incomeField);\r\n\t\t\r\n\t\tsubmitButton.addActionListener(e -&gt; submitData());\r\n\t\tcancelButton.addActionListener(e -&gt; cancel());\r\n\t\tJPanel buttonPanel = new JPanel(new GridLayout(1, 0, 5, 5));\r\n\t\tbuttonPanel.add(submitButton);\r\n\t\tbuttonPanel.add(cancelButton);\r\n\t\t\r\n\t\tJPanel innerPanel = new JPanel();\r\n\t\tinnerPanel.setLayout(new GridLayout(0, 1, 5, 5));\r\n\t\tinnerPanel.add(topPanel);\r\n\t\tinnerPanel.add(buttonPanel);\r\n\t\t\r\n\t\tJButton backButton = new JButton(&quot;Back&quot;);\r\n\t\tbackButton.addActionListener(e -&gt; back());\r\n\t\tJPanel bottomButtonPanel = new JPanel();\r\n\t\tbottomButtonPanel.add(backButton);\r\n\t\t\r\n\t\tsetLayout(new BorderLayout());\r\n\t\tadd(innerPanel, BorderLayout.PAGE_START);\r\n\t\tadd(bottomButtonPanel, BorderLayout.PAGE_END);\r\n\t}\r\n\r\n\tprivate void back() {\r\n\t\tswapModel.popCardStack();\r\n\t}\r\n\r\n\tprivate void submitData() {\r\n\t\tString text = incomeField.getText();\r\n\t\ttry {\r\n\t\t\tdouble value = Double.parseDouble(text);\r\n\t\t\tswapModel.addIncome(value);\r\n\t\t\tback();\r\n\t\t} catch (NumberFormatException e) {\r\n\t\t\t// TODO: show error message\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate void cancel() {\r\n\t\tback();\r\n\t}\r\n\t\r\n}\r\n```\r\n```\r\n@SuppressWarnings(&quot;serial&quot;)\r\nclass ViewIncomePanel extends JPanel {\r\n\tpublic static final String NAME = &quot;view income panel&quot;;\r\n\tprivate SwapModel swapModel;\r\n\tprivate JLabel incomeValue = new JLabel();\r\n\tprivate NumberFormat format = NumberFormat.getCurrencyInstance();\r\n\r\n\tpublic ViewIncomePanel(SwapModel swapModel) {\r\n\t\tthis.swapModel = swapModel;\r\n\t\t\r\n\t\tJPanel topPanel = new JPanel();\r\n\t\ttopPanel.add(new JLabel(&quot;Income: &quot;));\r\n\t\ttopPanel.add(incomeValue);\r\n\r\n\t\tJButton backButton = new JButton(&quot;Back&quot;);\r\n\t\tbackButton.addActionListener(e -&gt; back());\r\n\t\tJPanel buttonPanel = new JPanel();\r\n\t\tbuttonPanel.add(backButton);\r\n\t\t\r\n\t\tsetLayout(new BorderLayout());\r\n\t\tadd(topPanel, BorderLayout.PAGE_START);\r\n\t\tadd(buttonPanel, BorderLayout.PAGE_END);\r\n\t}\r\n\t\r\n\tpublic void setIncomeValue(double income) {\r\n\t\tincomeValue.setText(format.format(income));\r\n\t}\r\n\t\r\n\tprivate void back() {\r\n\t\tswapModel.popCardStack();\r\n\t}\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6N3Xw.gif","title":"JButton not linked to ActionLister","body":"<p>Basic recommendations:</p>\n<ol>\n<li>Avoid use of null layout and use of <code>setBounds(...)</code> for component placement as this makes for very inflexible GUI's that while they might look good on one platform look terrible on most other platforms or screen resolutions and that are very difficult to update and maintain.</li>\n<li>The best way to swap or show/hide components with Swing is to use a CardLayout. Please check out the <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/layout/card.html\" rel=\"nofollow noreferrer\">CardLayout tutorial</a>.</li>\n<li>Different views should be represented by different JPanels</li>\n<li>Different views should have their own class</li>\n<li>Separate your program's data and logic (the program's model) from the view into separate classes, into at least a model and  view classes, or if you wish, a model-view-controller (MVC) pattern.</li>\n</ol>\n<p>For example:</p>\n<p><a href=\"https://i.stack.imgur.com/6N3Xw.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6N3Xw.gif\" alt=\"enter image description here\" /></a></p>\n<p>in the example code below, I've model and some control code in a SwapModel class:</p>\n<pre><code>import java.beans.*;\nimport java.util.*;\nimport javax.swing.event.*;\n\npublic class SwapModel {\n    public static String INCOME = &quot;income&quot;;\n    private PropertyChangeSupport pcSupport = new SwingPropertyChangeSupport(this);\n    private SwapGuiMainPanel mainGui;\n    private Deque&lt;String&gt; cardStack = new LinkedList&lt;&gt;();\n    private double income = 0;\n\n    public SwapModel(SwapGuiMainPanel mainGui) {\n        this.mainGui = mainGui;\n    }\n\n    // when income is changed, update it and notify listeners.\n    public void addIncome(double value) {\n        double oldValue = this.income;\n        double newValue = this.income + value;\n        this.income = newValue;\n        pcSupport.firePropertyChange(INCOME, oldValue, newValue);\n    }\n    \n    public double getIncome() {\n        return income;\n    }\n\n    // go to the next CardLayout view by calling show and pushing the view's constraint String onto the cardStack\n    public void swap(String name) {\n        mainGui.getCardLayout().show(mainGui.getHolderPanel(), name);\n        cardStack.push(name);\n    }\n    \n    // go to the previous CardLayout view by popping the cardStack.\n    public String popCardStack() {\n        String name = null;\n        if (cardStack.size() &gt; 1) {\n            cardStack.pop();\n            name = cardStack.peek();\n            mainGui.getCardLayout().show(mainGui.getHolderPanel(), name);           \n        }\n        return name;\n    }\n    \n    public void addPropertyChangeListener(String propName, PropertyChangeListener propListener) {\n        pcSupport.addPropertyChangeListener(propName, propListener);\n    }\n}\n</code></pre>\n<p>This holds an income value, and notifies any classes that want to register listeners about changes in the income value, by use of JavaBeans property change support. It also helps control which view is shown at what time, by controlling a CardLayout object.</p>\n<p>The view portion of this example program codes for several JPanels, including:</p>\n<ul>\n<li>A WelcomePanel that displays welcome text and has buttons that helps the user load other JPanels. It currently only allows display of one JPanel, the LoadPanel.</li>\n<li>A LoadPanel that is a menut to allow the user to add or view expenses or income. The JPanel nests several layout managers, including a BoxLayout, GridLayout,  and GridBagLayout, to allow for a flexible GUI. A buttonFactory method allows for creation of larger JButtons with a uniform appearance.</li>\n<li>An AddIncomePanel that allows the user to add additional income to the program's model.</li>\n<li>A ViewIncomePanel that shows the current income to the user. This class will listen for changes to the model's income property using a PropertyChangeListener.</li>\n<li>Finally a SwapGuiMainPanel to hold the CardLayout and the holderPanel that uses this layout, and to put everything together:</li>\n</ul>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.CardLayout;\nimport java.awt.Font;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.GridLayout;\nimport java.awt.Insets;\nimport java.awt.event.*;\nimport java.beans.*;\nimport java.text.NumberFormat;\nimport javax.swing.*;\nimport javax.swing.border.Border;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class SwapGuiMainPanel extends JPanel {\n    private CardLayout cardLayout = new CardLayout();\n    private JPanel holderPanel = new JPanel(cardLayout);\n    private SwapModel swapModel = new SwapModel(this);\n    private WelcomePanel welcomePanel = new WelcomePanel(swapModel);\n    private LoadPanel loadPanel = new LoadPanel(swapModel);\n    private AddIncomePanel addIncomePanel = new AddIncomePanel(swapModel);\n    private ViewIncomePanel viewIncomePanel = new ViewIncomePanel(swapModel);\n    \n    public SwapGuiMainPanel() {\n        holderPanel.add(welcomePanel, WelcomePanel.NAME);\n        holderPanel.add(loadPanel, LoadPanel.NAME);\n        holderPanel.add(addIncomePanel, AddIncomePanel.NAME);\n        holderPanel.add(viewIncomePanel, ViewIncomePanel.NAME);\n        \n        swapModel.addPropertyChangeListener(SwapModel.INCOME, new IncomeListener());\n        \n        int gap = 10;\n        setBorder(BorderFactory.createEmptyBorder(gap, gap, gap, gap));\n        setLayout(new BorderLayout());\n        add(holderPanel);\n    }\n    \n    private class IncomeListener implements PropertyChangeListener {\n        @Override\n        public void propertyChange(PropertyChangeEvent evt) {\n            Double income = (Double) evt.getNewValue();\n            if (income != null) {\n                viewIncomePanel.setIncomeValue(income);\n            }\n        }\n    }\n    \n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            SwapGuiMainPanel mainPanel = new SwapGuiMainPanel();\n\n            JFrame frame = new JFrame(&quot;GUI&quot;);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.add(mainPanel);\n            frame.pack();\n            frame.setLocationRelativeTo(null);\n            frame.setVisible(true);\n        });\n    }\n\n    public void swap(String constraint) {\n        cardLayout.show(holderPanel, constraint);\n    }\n    \n    public CardLayout getCardLayout() {\n        return cardLayout;\n    }\n    \n    public JPanel getHolderPanel() {\n        return holderPanel;\n    }\n    \n}\n</code></pre>\n<pre><code>@SuppressWarnings(&quot;serial&quot;)\nclass WelcomePanel extends JPanel {\n    public static final String NAME = &quot;welcome panel&quot;;\n    private static final String WELCOME_TEXT = &quot;Hello and Welcome! Choose an Option Below:&quot;;\n    private SwapModel model;\n\n    public WelcomePanel(SwapModel model) {\n        this.model = model;\n        \n        int gap = 20;\n        JPanel buttonPanel = new JPanel(new GridLayout(0, 1, gap, gap));\n        JButton loadButton = new JButton(&quot;Load Data&quot;);\n        loadButton.addActionListener(e -&gt; loadData());\n        JButton resetButton = new JButton(&quot;Reset Data&quot;);\n        Font btnFont = loadButton.getFont().deriveFont(Font.BOLD, 16f);\n        loadButton.setFont(btnFont);\n        resetButton.setFont(btnFont);       \n        buttonPanel.add(loadButton);\n        buttonPanel.add(resetButton);\n        \n        setLayout(new GridBagLayout());\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.gridx = 0;\n        gbc.gridy = 0;\n        gbc.insets = new Insets(gap, gap, gap, gap);\n        add(new JLabel(WELCOME_TEXT), gbc);     \n        gbc.gridy++;\n        add(buttonPanel, gbc);\n    }\n    \n    private void loadData() {\n        model.swap(LoadPanel.NAME);\n    }\n    \n}\n</code></pre>\n<pre><code>@SuppressWarnings(&quot;serial&quot;)\nclass LoadPanel extends JPanel {\n    public static final String NAME = &quot;load panel&quot;;\n    private SwapModel model;\n\n    public LoadPanel(SwapModel model) {\n        this.model = model;\n        \n        JLabel title = new JLabel(&quot;Welcome to Budget Planner App&quot;);\n        title.setHorizontalAlignment(SwingConstants.CENTER);\n        title.setAlignmentX(JLabel.CENTER_ALIGNMENT);\n        title.setFont(title.getFont().deriveFont(Font.BOLD, 16f));\n        \n        JLabel subTitle = new JLabel(&quot;What would you like to do?&quot;);\n        subTitle.setHorizontalAlignment(SwingConstants.CENTER);\n        subTitle.setAlignmentX(JLabel.CENTER_ALIGNMENT);\n        subTitle.setFont(subTitle.getFont().deriveFont(Font.ITALIC));\n        \n        JPanel titlePanel = new JPanel();\n        titlePanel.setLayout(new BoxLayout(titlePanel, BoxLayout.PAGE_AXIS));\n        titlePanel.add(title);\n        titlePanel.add(subTitle);\n        titlePanel.add(Box.createVerticalStrut(30));\n        \n        JPanel buttonPanel = new JPanel(new GridLayout(0, 1, 10, 10));\n        buttonPanel.add(buttonFactory(&quot;Add Income&quot;, e -&gt; addIncome()));\n        buttonPanel.add(buttonFactory(&quot;Add Expense&quot;, null));\n        buttonPanel.add(buttonFactory(&quot;View Income&quot;, e -&gt; viewIncome()));\n        buttonPanel.add(buttonFactory(&quot;View Expense&quot;, null));\n        \n        JPanel wrapperPanel = new JPanel(new GridBagLayout());\n        wrapperPanel.add(buttonPanel);\n                \n        int gap = 10;\n        setBorder(BorderFactory.createEmptyBorder(gap, gap, gap, gap));\n        setLayout(new BorderLayout());\n        add(titlePanel, BorderLayout.PAGE_START);\n        add(wrapperPanel);\n    }\n    \n    private void addIncome() {\n        model.swap(AddIncomePanel.NAME);\n    }\n    \n    private void viewIncome() {\n        model.swap(ViewIncomePanel.NAME);\n    }\n    \n    private JButton buttonFactory(String text, ActionListener listener) {\n        JButton button = new JButton(text);\n        button.addActionListener(listener);\n        button.setFont(button.getFont().deriveFont(Font.BOLD, 16f));\n        Border originalBorder = button.getBorder();\n        int gap = 10;\n        Border innerBorder = BorderFactory.createEmptyBorder(gap, gap, gap, gap);\n        button.setBorder(BorderFactory.createCompoundBorder(originalBorder, innerBorder));\n        return button;\n    }\n    \n}\n</code></pre>\n<pre><code>@SuppressWarnings(&quot;serial&quot;)\nclass AddIncomePanel extends JPanel {\n    public static final String NAME = &quot;add income panel&quot;;\n    private SwapModel swapModel;\n    private JTextField incomeField = new JTextField(20);\n    private JButton submitButton = new JButton(&quot;Submit&quot;);\n    private JButton cancelButton = new JButton(&quot;Cancel&quot;);\n\n    public AddIncomePanel(SwapModel swapModel) {\n        this.swapModel = swapModel;\n        JPanel topPanel = new JPanel();\n        topPanel.add(new JLabel(&quot;Enter Income:&quot;));\n        topPanel.add(incomeField);\n        \n        submitButton.addActionListener(e -&gt; submitData());\n        cancelButton.addActionListener(e -&gt; cancel());\n        JPanel buttonPanel = new JPanel(new GridLayout(1, 0, 5, 5));\n        buttonPanel.add(submitButton);\n        buttonPanel.add(cancelButton);\n        \n        JPanel innerPanel = new JPanel();\n        innerPanel.setLayout(new GridLayout(0, 1, 5, 5));\n        innerPanel.add(topPanel);\n        innerPanel.add(buttonPanel);\n        \n        JButton backButton = new JButton(&quot;Back&quot;);\n        backButton.addActionListener(e -&gt; back());\n        JPanel bottomButtonPanel = new JPanel();\n        bottomButtonPanel.add(backButton);\n        \n        setLayout(new BorderLayout());\n        add(innerPanel, BorderLayout.PAGE_START);\n        add(bottomButtonPanel, BorderLayout.PAGE_END);\n    }\n\n    private void back() {\n        swapModel.popCardStack();\n    }\n\n    private void submitData() {\n        String text = incomeField.getText();\n        try {\n            double value = Double.parseDouble(text);\n            swapModel.addIncome(value);\n            back();\n        } catch (NumberFormatException e) {\n            // TODO: show error message\n        }\n    }\n    \n    private void cancel() {\n        back();\n    }\n    \n}\n</code></pre>\n<pre><code>@SuppressWarnings(&quot;serial&quot;)\nclass ViewIncomePanel extends JPanel {\n    public static final String NAME = &quot;view income panel&quot;;\n    private SwapModel swapModel;\n    private JLabel incomeValue = new JLabel();\n    private NumberFormat format = NumberFormat.getCurrencyInstance();\n\n    public ViewIncomePanel(SwapModel swapModel) {\n        this.swapModel = swapModel;\n        \n        JPanel topPanel = new JPanel();\n        topPanel.add(new JLabel(&quot;Income: &quot;));\n        topPanel.add(incomeValue);\n\n        JButton backButton = new JButton(&quot;Back&quot;);\n        backButton.addActionListener(e -&gt; back());\n        JPanel buttonPanel = new JPanel();\n        buttonPanel.add(backButton);\n        \n        setLayout(new BorderLayout());\n        add(topPanel, BorderLayout.PAGE_START);\n        add(buttonPanel, BorderLayout.PAGE_END);\n    }\n    \n    public void setIncomeValue(double income) {\n        incomeValue.setText(format.format(income));\n    }\n    \n    private void back() {\n        swapModel.popCardStack();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22174337,"reputation":21,"user_id":16419156,"display_name":"J62"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":71541447,"answer_count":2,"score":-2,"last_activity_date":1647719147,"creation_date":1647687308,"question_id":71537538,"body_markdown":"    public class OpenFrame extends JFrame implements ActionListener {\r\n\r\n    private static final int WIDTH = 500;\r\n    private static final int HEIGHT = 500;\r\n    private BudgetPlanner budgetPlanner;\r\n\r\n    private JFrame openFrame;\r\n\r\n    private JLabel welcomeMessage;\r\n    private JPanel openPanel = new JPanel();\r\n    private JPanel inputSpace;\r\n\r\n    private JButton loadButton = new JButton();\r\n    private JButton resetButton = new JButton();\r\n    private JButton addIncomeButton;\r\n    private JButton addExpenseButton;\r\n    private JButton viewExpenseButton;\r\n    private JButton viewIncomeButton;\r\n\r\n    private JTextField inputIncome;\r\n\r\n    public BudgetPlanner callBudgetPlanner() {\r\n        try {\r\n            budgetPlanner = new BudgetPlanner();\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return budgetPlanner;\r\n    }\r\n\r\n    public OpenFrame() {\r\n        openFrame = new JFrame();\r\n        openFrame.setTitle(&quot;BudgetPlanner&quot;);\r\n        openFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        openFrame.setResizable(false);\r\n        openFrame.setLayout(null);\r\n        openFrame.setLocationRelativeTo(null);\r\n        openFrame.setSize(new Dimension(WIDTH, HEIGHT));\r\n        openFrame.getContentPane().setBackground(Color.GRAY);\r\n        openPanel();\r\n        openFrame.setContentPane(openPanel);\r\n\r\n        openFrame.setVisible(true);\r\n    }\r\n\r\n    public void openPanel() {\r\n        openPanel.setLayout(null);\r\n\r\n        welcomeMessage = new JLabel(&quot;Hello there! Welcome back. Choose an option below:&quot;);\r\n        welcomeMessage.setVerticalTextPosition(TOP);\r\n        welcomeMessage.setHorizontalTextPosition(SwingConstants.CENTER);\r\n        welcomeMessage.setBounds(50, 20, 500, 200);\r\n        welcomeMessage.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 17));\r\n\r\n        openPanel.setBounds(0, 0, 500, 500);\r\n        openPanel.add(welcomeMessage);\r\n\r\n        loadButton.setBounds(200, 170, 100, 50);\r\n        loadButton.setFont(new Font(&quot;Arial&quot;, Font.CENTER_BASELINE, 15));\r\n        loadButton.setText(&quot;Load Data&quot;);\r\n        loadButton.addActionListener(this);\r\n        loadButton.setFocusable(false);\r\n\r\n        resetButton.setBounds(200, 230, 100, 50);\r\n        resetButton.setFont(new Font(&quot;Arial&quot;, Font.CENTER_BASELINE, 15));\r\n        resetButton.setText(&quot;Reset Data&quot;);\r\n        resetButton.addActionListener(this);\r\n        resetButton.setFocusable(false);\r\n\r\n        openPanel.add(loadButton);\r\n        openPanel.add(resetButton);\r\n    }\r\n\r\n    public void plannerScreen() {\r\n        JPanel loadPanel = new JPanel();\r\n        openFrame.setContentPane(loadPanel);\r\n        loadPanel.setBounds(0, 0, 500, 500);\r\n        JLabel loadCompleteMessage = new JLabel(&quot;Welcome to Budget Planner App.&quot;);\r\n        loadCompleteMessage.setBounds(138, TOP, 500, 50);\r\n        loadCompleteMessage.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 14));\r\n        loadPanel.add(loadCompleteMessage);\r\n        JLabel optionMessage = new JLabel(&quot;What would you like to do?&quot;);\r\n        optionMessage.setBounds(175, TOP + 40, 500, 10);\r\n        optionMessage.setFont(new Font(&quot;Arial&quot;, Font.ITALIC, 13));\r\n        loadPanel.add(optionMessage);\r\n        openButton();\r\n        loadPanel.add(addIncomeButton);\r\n        loadPanel.add(addExpenseButton);\r\n        loadPanel.add(viewIncomeButton);\r\n        loadPanel.add(viewExpenseButton);\r\n    }\r\n\r\n    public void openButton() {\r\n        addIncomeButton = new JButton(&quot;Add Income&quot;);\r\n        addIncomeButton.setBounds(180, 110, 140, 45);\r\n        addIncomeButton.setFont(new Font(&quot;Arial&quot;, Font.CENTER_BASELINE, 15));\r\n        addExpenseButton = new JButton(&quot;Add Expense&quot;);\r\n        addExpenseButton.setBounds(180, 160, 140, 45);\r\n        addExpenseButton.setFont(new Font(&quot;Arial&quot;, Font.CENTER_BASELINE, 15));\r\n        viewIncomeButton = new JButton(&quot;View Income&quot;);\r\n        viewIncomeButton.setBounds(180, 210, 140, 45);\r\n        viewIncomeButton.setFont(new Font(&quot;Arial&quot;, Font.CENTER_BASELINE, 15));\r\n        viewExpenseButton = new JButton(&quot;View Expense&quot;);\r\n        viewExpenseButton.setBounds(180, 260, 140, 45);\r\n        viewExpenseButton.setFont(new Font(&quot;Arial&quot;, Font.CENTER_BASELINE, 15));\r\n\r\n        addIncomeButton.addActionListener(new InputData());\r\n\r\n    }\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        if (e.getSource() == loadButton) {\r\n            JOptionPane.showMessageDialog(null, &quot;Loading Complete!&quot;);\r\n            plannerScreen();\r\n        }\r\n\r\n        if (e.getSource() == resetButton) {\r\n            JOptionPane.showMessageDialog(null, &quot;Saved data erased.&quot;);\r\n            plannerScreen();\r\n        }\r\n    }\r\n\r\n    public class InputData implements ActionListener {\r\n\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            inputSpace = new JPanel();\r\n            inputSpace.setBounds(0, 300, 500, 200);\r\n            inputIncome = new JTextField(&quot;How much is your income?&quot;, 20);\r\n            openPanel.add(inputSpace);\r\n            inputSpace.add(inputIncome);\r\n        }\r\n    }\r\n\r\nMy code is as shown above. The issue is that when I click on addIncomeButton, it doesn&#39;t get linked to InputData actionlister that I created. Once addIncomeButton is clicked, it doesn&#39;t do anything. How do I fix this problem? ;-;\r\n\r\nMy goal is that once the button is clicked, a JTextField would appear will be added onto the same panel. \r\n\r\nAny helps will be appreciated! Thanks so much! \r\n","title":"JButton not linked to ActionLister","body":"<pre><code>public class OpenFrame extends JFrame implements ActionListener {\n\nprivate static final int WIDTH = 500;\nprivate static final int HEIGHT = 500;\nprivate BudgetPlanner budgetPlanner;\n\nprivate JFrame openFrame;\n\nprivate JLabel welcomeMessage;\nprivate JPanel openPanel = new JPanel();\nprivate JPanel inputSpace;\n\nprivate JButton loadButton = new JButton();\nprivate JButton resetButton = new JButton();\nprivate JButton addIncomeButton;\nprivate JButton addExpenseButton;\nprivate JButton viewExpenseButton;\nprivate JButton viewIncomeButton;\n\nprivate JTextField inputIncome;\n\npublic BudgetPlanner callBudgetPlanner() {\n    try {\n        budgetPlanner = new BudgetPlanner();\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    }\n    return budgetPlanner;\n}\n\npublic OpenFrame() {\n    openFrame = new JFrame();\n    openFrame.setTitle(&quot;BudgetPlanner&quot;);\n    openFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    openFrame.setResizable(false);\n    openFrame.setLayout(null);\n    openFrame.setLocationRelativeTo(null);\n    openFrame.setSize(new Dimension(WIDTH, HEIGHT));\n    openFrame.getContentPane().setBackground(Color.GRAY);\n    openPanel();\n    openFrame.setContentPane(openPanel);\n\n    openFrame.setVisible(true);\n}\n\npublic void openPanel() {\n    openPanel.setLayout(null);\n\n    welcomeMessage = new JLabel(&quot;Hello there! Welcome back. Choose an option below:&quot;);\n    welcomeMessage.setVerticalTextPosition(TOP);\n    welcomeMessage.setHorizontalTextPosition(SwingConstants.CENTER);\n    welcomeMessage.setBounds(50, 20, 500, 200);\n    welcomeMessage.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 17));\n\n    openPanel.setBounds(0, 0, 500, 500);\n    openPanel.add(welcomeMessage);\n\n    loadButton.setBounds(200, 170, 100, 50);\n    loadButton.setFont(new Font(&quot;Arial&quot;, Font.CENTER_BASELINE, 15));\n    loadButton.setText(&quot;Load Data&quot;);\n    loadButton.addActionListener(this);\n    loadButton.setFocusable(false);\n\n    resetButton.setBounds(200, 230, 100, 50);\n    resetButton.setFont(new Font(&quot;Arial&quot;, Font.CENTER_BASELINE, 15));\n    resetButton.setText(&quot;Reset Data&quot;);\n    resetButton.addActionListener(this);\n    resetButton.setFocusable(false);\n\n    openPanel.add(loadButton);\n    openPanel.add(resetButton);\n}\n\npublic void plannerScreen() {\n    JPanel loadPanel = new JPanel();\n    openFrame.setContentPane(loadPanel);\n    loadPanel.setBounds(0, 0, 500, 500);\n    JLabel loadCompleteMessage = new JLabel(&quot;Welcome to Budget Planner App.&quot;);\n    loadCompleteMessage.setBounds(138, TOP, 500, 50);\n    loadCompleteMessage.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 14));\n    loadPanel.add(loadCompleteMessage);\n    JLabel optionMessage = new JLabel(&quot;What would you like to do?&quot;);\n    optionMessage.setBounds(175, TOP + 40, 500, 10);\n    optionMessage.setFont(new Font(&quot;Arial&quot;, Font.ITALIC, 13));\n    loadPanel.add(optionMessage);\n    openButton();\n    loadPanel.add(addIncomeButton);\n    loadPanel.add(addExpenseButton);\n    loadPanel.add(viewIncomeButton);\n    loadPanel.add(viewExpenseButton);\n}\n\npublic void openButton() {\n    addIncomeButton = new JButton(&quot;Add Income&quot;);\n    addIncomeButton.setBounds(180, 110, 140, 45);\n    addIncomeButton.setFont(new Font(&quot;Arial&quot;, Font.CENTER_BASELINE, 15));\n    addExpenseButton = new JButton(&quot;Add Expense&quot;);\n    addExpenseButton.setBounds(180, 160, 140, 45);\n    addExpenseButton.setFont(new Font(&quot;Arial&quot;, Font.CENTER_BASELINE, 15));\n    viewIncomeButton = new JButton(&quot;View Income&quot;);\n    viewIncomeButton.setBounds(180, 210, 140, 45);\n    viewIncomeButton.setFont(new Font(&quot;Arial&quot;, Font.CENTER_BASELINE, 15));\n    viewExpenseButton = new JButton(&quot;View Expense&quot;);\n    viewExpenseButton.setBounds(180, 260, 140, 45);\n    viewExpenseButton.setFont(new Font(&quot;Arial&quot;, Font.CENTER_BASELINE, 15));\n\n    addIncomeButton.addActionListener(new InputData());\n\n}\n\n@Override\npublic void actionPerformed(ActionEvent e) {\n    if (e.getSource() == loadButton) {\n        JOptionPane.showMessageDialog(null, &quot;Loading Complete!&quot;);\n        plannerScreen();\n    }\n\n    if (e.getSource() == resetButton) {\n        JOptionPane.showMessageDialog(null, &quot;Saved data erased.&quot;);\n        plannerScreen();\n    }\n}\n\npublic class InputData implements ActionListener {\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        inputSpace = new JPanel();\n        inputSpace.setBounds(0, 300, 500, 200);\n        inputIncome = new JTextField(&quot;How much is your income?&quot;, 20);\n        openPanel.add(inputSpace);\n        inputSpace.add(inputIncome);\n    }\n}\n</code></pre>\n<p>My code is as shown above. The issue is that when I click on addIncomeButton, it doesn't get linked to InputData actionlister that I created. Once addIncomeButton is clicked, it doesn't do anything. How do I fix this problem? ;-;</p>\n<p>My goal is that once the button is clicked, a JTextField would appear will be added onto the same panel.</p>\n<p>Any helps will be appreciated! Thanks so much!</p>\n"},{"tags":["java","spring","spring-scheduled"],"answers":[{"tags":[],"owner":{"account_id":6894157,"reputation":1612,"user_id":5296683,"accept_rate":83,"display_name":"Med Elgarnaoui"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647713039,"creation_date":1647713039,"answer_id":71540722,"question_id":71540640,"body_markdown":"I think you need to re-update the user list after `setVoted(false)`\r\n\r\n    @Scheduled(cron = &quot;0 00 13* * *&quot;)\r\n    public void resetVotes() throws InterruptedException {\r\n                \r\n        List&lt;User&gt; userArray = repository.findAll();\r\n        for(User user: userArray ) {\r\n            user.setVoted(false);\r\n        }\r\n    \r\n        repository.save(userArray);\r\n    } ","title":"@Scheduled not updating my JSON values to FALSE","body":"<p>I think you need to re-update the user list after <code>setVoted(false)</code></p>\n<pre><code>@Scheduled(cron = &quot;0 00 13* * *&quot;)\npublic void resetVotes() throws InterruptedException {\n            \n    List&lt;User&gt; userArray = repository.findAll();\n    for(User user: userArray ) {\n        user.setVoted(false);\n    }\n\n    repository.save(userArray);\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":10435634,"reputation":220,"user_id":7694025,"display_name":"Bessem Manita"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647718777,"creation_date":1647718382,"answer_id":71541401,"question_id":71540640,"body_markdown":"You dont need to load all user from db.\r\n\r\nYou can just update data by a custom query.\r\n\r\n       @Scheduled(cron = &quot;0 00 13* * *&quot;)\r\n        public void resetVotes() throws InterruptedException {\r\n                    \r\n            repository.resetVotes();\r\n        }\r\n\r\nUserRepository.java\r\n\r\n    package com.dbserver.restaurantes.repositories;\r\n    \r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.data.jpa.repository.Query;\r\n    import com.dbserver.restaurantes.entities.User;\r\n    \r\n    public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n    \r\n    User findByEmail(String email);\r\n    \r\n    //update custom query \r\n    @Modifying\r\n    @Query(&quot;update User set voted=false &quot;)\r\n    int resetVotes();\r\n    \r\n    }\r\n\r\n\r\n","title":"@Scheduled not updating my JSON values to FALSE","body":"<p>You dont need to load all user from db.</p>\n<p>You can just update data by a custom query.</p>\n<pre><code>   @Scheduled(cron = &quot;0 00 13* * *&quot;)\n    public void resetVotes() throws InterruptedException {\n                \n        repository.resetVotes();\n    }\n</code></pre>\n<p>UserRepository.java</p>\n<pre><code>package com.dbserver.restaurantes.repositories;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\nimport com.dbserver.restaurantes.entities.User;\n\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n\nUser findByEmail(String email);\n\n//update custom query \n@Modifying\n@Query(&quot;update User set voted=false &quot;)\nint resetVotes();\n\n}\n</code></pre>\n"}],"owner":{"account_id":20654829,"reputation":55,"user_id":15240169,"display_name":"Bruno Machado"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71540722,"answer_count":2,"score":1,"last_activity_date":1647718777,"creation_date":1647712345,"question_id":71540640,"body_markdown":"I&#39;m trying to set all the values of a column of my H2 bank to false at 1:00 PM, but I&#39;m having difficulties doing that, the message is being printed on the console, but the votes remain as TRUE.\r\n\r\nMy table looks like this, I would like every day at 1:00PM the values of the VOTED field to be FALSE\r\n\r\n| ID| EMAIL | PASSWORD|  NAME| VOTED|\r\n|:---- |:------:| :--:|:----: |:------:|\r\n| 1| bruno@gmail.com| $2a$10$j1Eic8Okp.IczSVQbU.ru.s.dXoxd1fdzWtK2os9oE9y9ZO8wvMx6|  Bruno| TRUE|\r\n| 2| james@gmail.com| $2a$10$F/KLm5ULaNRVEL/K6MMeveZXr770G5cI3S7HZnEw.b7TZDENkCWBC|  James| TRUE|\r\n| 3| \trobert@gmail.com| $2a$10$uHZjSrroGBtRBB/V.norRuOcDVz42MXnm0/2yLPGpE3P5XtPRo7L6|  Robert| FALSE|\r\n\r\nThis is the logic I&#39;m using in my UserServices.java\r\n\r\nDespite the project running, users remain as TRUE after the time determined in @Scheduled\r\n\r\n    @Scheduled(cron = &quot;0 00 13* * *&quot;)\r\n        public void resetVotes() throws InterruptedException {\r\n        \t    \r\n        List&lt;User&gt; userArray = repository.findAll();\r\n        for(User user: userArray ) {\r\n        \tuser.setVoted(false);\r\n        }\r\n    }\r\n\r\nAnd this is the message I get on the console when I arrive at the time I determined in @Scheduled\r\n\r\n    Hibernate: \r\n        select\r\n            user0_.id as id1_1_,\r\n            user0_.email as email2_1_,\r\n            user0_.password as password3_1_,\r\n            user0_.name as name4_1_,\r\n            user0_.voted as voted5_1_ \r\n        from\r\n            db_users user0_\r\n\r\nHere are the classes I&#39;m using for the project:\r\n\r\n**User.java**\r\n\r\n    package com.dbserver.restaurantes.entities;\r\n    \r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;db_users&quot;)\r\n    public class User {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate Long id;\r\n    \r\n    \t@Column(name = &quot;Name&quot;)\r\n    \tprivate String username;\r\n    \tprivate String email;\r\n    \tprivate String password;\r\n    \tprivate Boolean voted = false;\r\n    \r\n    \tpublic Long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(Long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getUsername() {\r\n    \t\treturn username;\r\n    \t}\r\n    \r\n    \tpublic void setUsername(String username) {\r\n    \t\tthis.username = username;\r\n    \t}\r\n    \r\n    \tpublic String getEmail() {\r\n    \t\treturn email;\r\n    \t}\r\n    \r\n    \tpublic void setEmail(String email) {\r\n    \t\tthis.email = email;\r\n    \t}\r\n    \r\n    \tpublic String getPassword() {\r\n    \t\treturn password;\r\n    \t}\r\n    \r\n    \tpublic void setPassword(String password) {\r\n    \t\tthis.password = password;\r\n    \t}\r\n    \r\n    \tpublic Boolean getVoted() {\r\n    \t\treturn voted;\r\n    \t}\r\n    \r\n    \tpublic void setVoted(Boolean voted) {\r\n    \t\tthis.voted = voted;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n**UserDTO.java**\r\n\r\n    package com.dbserver.restaurantes.dto;\r\n    \r\n    import com.dbserver.restaurantes.entities.User;\r\n    \r\n    public class UserDTO {\r\n    \tprivate Long id;\r\n    \tprivate String username;\r\n    \tprivate String email;\r\n    \tprivate String password;\r\n    \tprivate Boolean voted = false;\r\n    \r\n    \tpublic UserDTO() {\r\n    \t}\r\n    \r\n    \tpublic UserDTO(Long id, String username, String email, String password, Boolean voted) {\r\n    \t\tthis.id = id;\r\n    \t\tthis.username = username;\r\n    \t\tthis.email = email;\r\n    \t\tthis.password = password;\r\n    \t\tthis.voted = voted;\r\n    \t}\r\n    \r\n    \tpublic UserDTO(User user) {\r\n    \t\tid = user.getId();\r\n    \t\tusername = user.getUsername();\r\n    \t\temail = user.getEmail();\r\n    \t\tpassword = user.getPassword();\r\n    \t\tvoted = user.getVoted();\r\n    \t}\r\n    \r\n    \tpublic Long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(Long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getUsername() {\r\n    \t\treturn username;\r\n    \t}\r\n    \r\n    \tpublic void setUsername(String username) {\r\n    \t\tthis.username = username;\r\n    \t}\r\n    \r\n    \tpublic String getEmail() {\r\n    \t\treturn email;\r\n    \t}\r\n    \r\n    \tpublic void setEmail(String email) {\r\n    \t\tthis.email = email;\r\n    \t}\r\n    \r\n    \tpublic String getPassword() {\r\n    \t\treturn password;\r\n    \t}\r\n    \r\n    \tpublic void setPassword(String password) {\r\n    \t\tthis.password = password;\r\n    \t}\r\n    \r\n    \tpublic Boolean getVoted() {\r\n    \t\treturn voted;\r\n    \t}\r\n    \r\n    \tpublic void setVoted(Boolean voted) {\r\n    \t\tthis.voted = voted;\r\n    \t}\r\n    \r\n    \t\r\n    }\r\n\r\n\r\n**UserServices.java**\r\n\r\n    package com.dbserver.restaurantes.services;\r\n    \r\n    import java.util.List;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.scheduling.annotation.Scheduled;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.security.crypto.password.PasswordEncoder;\r\n    import org.springframework.stereotype.Service;\r\n    import org.springframework.transaction.annotation.Transactional;\r\n    \r\n    import com.dbserver.restaurantes.entities.User;\r\n    import com.dbserver.restaurantes.exceptions.HttpClientErrorException;\r\n    import com.dbserver.restaurantes.repositories.UserRepository;\r\n    \r\n    @Service\r\n    public class UserServices {\r\n    \r\n    \t@Autowired\r\n    \tprivate UserRepository repository;\r\n    \r\n    \tPasswordEncoder passwordEncoder;\r\n    \r\n    \tpublic UserServices(UserRepository userRepository) {\r\n    \t\tthis.passwordEncoder = new BCryptPasswordEncoder();\r\n    \t}\r\n    \r\n    \t@SuppressWarnings(&quot;rawtypes&quot;)\r\n    \t@Transactional(readOnly = true)\r\n    \tpublic List&lt;User&gt; findAllUsers(List list) {\r\n    \t\tList&lt;User&gt; result = repository.findAll();\r\n    \t\treturn result;\r\n    \t}\r\n    \r\n    \t@Transactional\r\n    \tpublic User addUser(User newUser) {\r\n    \t\tif (repository.findByEmail(newUser.getEmail()) != null) {\r\n    \t\t\tthrow new HttpClientErrorException(&quot;O e-mail informado j&#225; existe no sistema&quot;);\r\n    \t\t}\r\n    \t\tString encodedPassword = this.passwordEncoder.encode(newUser.getPassword());\r\n    \t\tnewUser.setPassword(encodedPassword);\r\n    \t\treturn repository.saveAndFlush(newUser);\r\n    \t}\r\n    \t\r\n    \t@Scheduled(cron = &quot;0 00 13* * *&quot;)\r\n    \t  public void resetVotes() throws InterruptedException {\r\n    \t    \r\n    \t\tList&lt;User&gt; userArray = repository.findAll();\r\n    \t\tfor(User user: userArray ) {\r\n    \t\t\tuser.setVoted(false);\r\n    \t\t}\r\n    \t  }\r\n    \r\n    }\r\n\r\n\r\n\r\n**UserRepository.java**\r\n\r\n    package com.dbserver.restaurantes.repositories;\r\n    \r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    \r\n    import com.dbserver.restaurantes.entities.User;\r\n    \r\n    public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n    \r\n    \tUser findByEmail(String email);\r\n    }\r\n\r\n\r\n**UserController.java**\r\n\r\n    package com.dbserver.restaurantes.controllers;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import com.dbserver.restaurantes.entities.User;\r\n    import com.dbserver.restaurantes.services.UserServices;\r\n    \r\n    @RestController\r\n    @RequestMapping(value = &quot;/users&quot;)\r\n    public class UserController {\r\n    \r\n    \t@Autowired\r\n    \tprivate UserServices service;\r\n    \r\n    \t@PostMapping\r\n    \tpublic User addUser(@RequestBody User newUser) {\r\n    \t\treturn service.addUser(newUser);\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"@Scheduled not updating my JSON values to FALSE","body":"<p>I'm trying to set all the values of a column of my H2 bank to false at 1:00 PM, but I'm having difficulties doing that, the message is being printed on the console, but the votes remain as TRUE.</p>\n<p>My table looks like this, I would like every day at 1:00PM the values of the VOTED field to be FALSE</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">ID</th>\n<th style=\"text-align: center;\">EMAIL</th>\n<th style=\"text-align: center;\">PASSWORD</th>\n<th style=\"text-align: center;\">NAME</th>\n<th style=\"text-align: center;\">VOTED</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">1</td>\n<td style=\"text-align: center;\">bruno@gmail.com</td>\n<td style=\"text-align: center;\">$2a$10$j1Eic8Okp.IczSVQbU.ru.s.dXoxd1fdzWtK2os9oE9y9ZO8wvMx6</td>\n<td style=\"text-align: center;\">Bruno</td>\n<td style=\"text-align: center;\">TRUE</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">2</td>\n<td style=\"text-align: center;\">james@gmail.com</td>\n<td style=\"text-align: center;\">$2a$10$F/KLm5ULaNRVEL/K6MMeveZXr770G5cI3S7HZnEw.b7TZDENkCWBC</td>\n<td style=\"text-align: center;\">James</td>\n<td style=\"text-align: center;\">TRUE</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">3</td>\n<td style=\"text-align: center;\">robert@gmail.com</td>\n<td style=\"text-align: center;\">$2a$10$uHZjSrroGBtRBB/V.norRuOcDVz42MXnm0/2yLPGpE3P5XtPRo7L6</td>\n<td style=\"text-align: center;\">Robert</td>\n<td style=\"text-align: center;\">FALSE</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>This is the logic I'm using in my UserServices.java</p>\n<p>Despite the project running, users remain as TRUE after the time determined in @Scheduled</p>\n<pre><code>@Scheduled(cron = &quot;0 00 13* * *&quot;)\n    public void resetVotes() throws InterruptedException {\n            \n    List&lt;User&gt; userArray = repository.findAll();\n    for(User user: userArray ) {\n        user.setVoted(false);\n    }\n}\n</code></pre>\n<p>And this is the message I get on the console when I arrive at the time I determined in @Scheduled</p>\n<pre><code>Hibernate: \n    select\n        user0_.id as id1_1_,\n        user0_.email as email2_1_,\n        user0_.password as password3_1_,\n        user0_.name as name4_1_,\n        user0_.voted as voted5_1_ \n    from\n        db_users user0_\n</code></pre>\n<p>Here are the classes I'm using for the project:</p>\n<p><strong>User.java</strong></p>\n<pre><code>package com.dbserver.restaurantes.entities;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name = &quot;db_users&quot;)\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = &quot;Name&quot;)\n    private String username;\n    private String email;\n    private String password;\n    private Boolean voted = false;\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public Boolean getVoted() {\n        return voted;\n    }\n\n    public void setVoted(Boolean voted) {\n        this.voted = voted;\n    }\n\n}\n</code></pre>\n<p><strong>UserDTO.java</strong></p>\n<pre><code>package com.dbserver.restaurantes.dto;\n\nimport com.dbserver.restaurantes.entities.User;\n\npublic class UserDTO {\n    private Long id;\n    private String username;\n    private String email;\n    private String password;\n    private Boolean voted = false;\n\n    public UserDTO() {\n    }\n\n    public UserDTO(Long id, String username, String email, String password, Boolean voted) {\n        this.id = id;\n        this.username = username;\n        this.email = email;\n        this.password = password;\n        this.voted = voted;\n    }\n\n    public UserDTO(User user) {\n        id = user.getId();\n        username = user.getUsername();\n        email = user.getEmail();\n        password = user.getPassword();\n        voted = user.getVoted();\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public Boolean getVoted() {\n        return voted;\n    }\n\n    public void setVoted(Boolean voted) {\n        this.voted = voted;\n    }\n\n    \n}\n</code></pre>\n<p><strong>UserServices.java</strong></p>\n<pre><code>package com.dbserver.restaurantes.services;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.scheduling.annotation.Scheduled;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport com.dbserver.restaurantes.entities.User;\nimport com.dbserver.restaurantes.exceptions.HttpClientErrorException;\nimport com.dbserver.restaurantes.repositories.UserRepository;\n\n@Service\npublic class UserServices {\n\n    @Autowired\n    private UserRepository repository;\n\n    PasswordEncoder passwordEncoder;\n\n    public UserServices(UserRepository userRepository) {\n        this.passwordEncoder = new BCryptPasswordEncoder();\n    }\n\n    @SuppressWarnings(&quot;rawtypes&quot;)\n    @Transactional(readOnly = true)\n    public List&lt;User&gt; findAllUsers(List list) {\n        List&lt;User&gt; result = repository.findAll();\n        return result;\n    }\n\n    @Transactional\n    public User addUser(User newUser) {\n        if (repository.findByEmail(newUser.getEmail()) != null) {\n            throw new HttpClientErrorException(&quot;O e-mail informado já existe no sistema&quot;);\n        }\n        String encodedPassword = this.passwordEncoder.encode(newUser.getPassword());\n        newUser.setPassword(encodedPassword);\n        return repository.saveAndFlush(newUser);\n    }\n    \n    @Scheduled(cron = &quot;0 00 13* * *&quot;)\n      public void resetVotes() throws InterruptedException {\n        \n        List&lt;User&gt; userArray = repository.findAll();\n        for(User user: userArray ) {\n            user.setVoted(false);\n        }\n      }\n\n}\n</code></pre>\n<p><strong>UserRepository.java</strong></p>\n<pre><code>package com.dbserver.restaurantes.repositories;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\n\nimport com.dbserver.restaurantes.entities.User;\n\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n\n    User findByEmail(String email);\n}\n</code></pre>\n<p><strong>UserController.java</strong></p>\n<pre><code>package com.dbserver.restaurantes.controllers;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.dbserver.restaurantes.entities.User;\nimport com.dbserver.restaurantes.services.UserServices;\n\n@RestController\n@RequestMapping(value = &quot;/users&quot;)\npublic class UserController {\n\n    @Autowired\n    private UserServices service;\n\n    @PostMapping\n    public User addUser(@RequestBody User newUser) {\n        return service.addUser(newUser);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","arrays","math","dynamic-programming","addition"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1647709621,"post_id":71540006,"comment_id":126441164,"body_markdown":"Just interested in `solution` ? Isn&#39;t it always `init * elements` ?","body":"Just interested in <code>solution</code> ? Isn&#39;t it always <code>init * elements</code> ?"},{"owner":{"account_id":8001950,"reputation":589,"user_id":6301603,"display_name":"TTho Einthausend"},"score":0,"creation_date":1647709830,"post_id":71540006,"comment_id":126441209,"body_markdown":"No if `steps := 2` `solution := 6`","body":"No if <code>steps := 2</code> <code>solution := 6</code>"}],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647712665,"creation_date":1647712357,"answer_id":71540642,"question_id":71540006,"body_markdown":"You might want to look at the `Arrays.parallelPrefix` method. From the java doc:\r\n\r\n&gt; Cumulates, in parallel, each element of the given array in place, using the supplied function. For example if the array initially holds [2, 1, 0, 3] and the operation performs addition, then upon return the array holds [2, 3, 3, 6]. Parallel prefix computation is usually more efficient than sequential loops for large arrays.\r\n\r\nSo something like below might be what you are looking for :\r\n\r\n    long calc(int init,int elements,int steps){\r\n        int[] arr = new int[elements];\r\n        Arrays.fill(arr,init);\r\n\r\n        int[] curr = arr;\r\n        for (int i = 1; i &lt; steps; i++){\r\n            Arrays.parallelPrefix(curr, Integer::sum);\r\n            curr = Arrays.copyOf(curr,curr.length-1);\r\n            System.out.println(Arrays.toString(curr)); // just to check the sub steps, remove if I get the discription of the steps right\r\n        }\r\n        return Arrays.stream(curr).sum();\r\n    }\r\n\r\n","title":"Summing arrayelements up with init, elements, steps","body":"<p>You might want to look at the <code>Arrays.parallelPrefix</code> method. From the java doc:</p>\n<blockquote>\n<p>Cumulates, in parallel, each element of the given array in place, using the supplied function. For example if the array initially holds [2, 1, 0, 3] and the operation performs addition, then upon return the array holds [2, 3, 3, 6]. Parallel prefix computation is usually more efficient than sequential loops for large arrays.</p>\n</blockquote>\n<p>So something like below might be what you are looking for :</p>\n<pre><code>long calc(int init,int elements,int steps){\n    int[] arr = new int[elements];\n    Arrays.fill(arr,init);\n\n    int[] curr = arr;\n    for (int i = 1; i &lt; steps; i++){\n        Arrays.parallelPrefix(curr, Integer::sum);\n        curr = Arrays.copyOf(curr,curr.length-1);\n        System.out.println(Arrays.toString(curr)); // just to check the sub steps, remove if I get the discription of the steps right\n    }\n    return Arrays.stream(curr).sum();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647718753,"creation_date":1647712790,"answer_id":71540688,"question_id":71540006,"body_markdown":"You&#39;re doing a lot of copying and filling where none is necessary.  Try it like this.\r\n```\r\nstatic long myCalc(int init, int elements, int steps) {\r\n\tif (steps &gt; elements+1) {\r\n\t\tSystem.out.println(&quot;Steps too large for # of elements&quot;);\r\n\t\treturn -1;\r\n\t}\r\n\tint[] dp1 = new int[elements - 1];\r\n\tArrays.fill(dp1, init);\r\n    int len = dp1.length;\r\n\tfor (int j = 0; j &lt; steps - 1; j++) {\r\n\t\tfor (int i = 1; i &lt; len; i++) {\r\n\t\t\tdp1[i] = dp1[i - 1] + dp1[i];\r\n\t\t}\r\n        len--;\r\n\t}\r\n\treturn Arrays.stream(dp1).limit(len+1).sum();\r\n}\r\n```\r\nAdded improvement.  For each step, one less value is added. So adjust the `for loop` iterations to accommodate.\r\n","title":"Summing arrayelements up with init, elements, steps","body":"<p>You're doing a lot of copying and filling where none is necessary.  Try it like this.</p>\n<pre><code>static long myCalc(int init, int elements, int steps) {\n    if (steps &gt; elements+1) {\n        System.out.println(&quot;Steps too large for # of elements&quot;);\n        return -1;\n    }\n    int[] dp1 = new int[elements - 1];\n    Arrays.fill(dp1, init);\n    int len = dp1.length;\n    for (int j = 0; j &lt; steps - 1; j++) {\n        for (int i = 1; i &lt; len; i++) {\n            dp1[i] = dp1[i - 1] + dp1[i];\n        }\n        len--;\n    }\n    return Arrays.stream(dp1).limit(len+1).sum();\n}\n</code></pre>\n<p>Added improvement.  For each step, one less value is added. So adjust the <code>for loop</code> iterations to accommodate.</p>\n"}],"owner":{"account_id":8001950,"reputation":589,"user_id":6301603,"display_name":"TTho Einthausend"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1647760192,"accepted_answer_id":71540688,"answer_count":2,"score":-3,"last_activity_date":1647718753,"creation_date":1647707550,"question_id":71540006,"body_markdown":"Hi Im searching a fast dynamic programming / formula solution. For following algorithm, example:\r\n\r\n`init := 1`\r\n\r\n`elements := 4`\r\n\r\n`steps := 3`\r\n\r\n\r\nstep 1. `[1,1,1,1]` init is placed in each index\r\n\r\nstep 2. `[1,2,3]` index i is calculated by sum of former step index 0 until inclusive step 1 index i, arraysize get&#39;s decremented by one.\r\n\r\nstep 3. `[1,3]` Same procedere like step 2 but using step 2 as base.\r\n\r\nfinal step `solution := 4` final step is summing up last stepelements.\r\n\r\nIs there a faster way than summing up manually?\r\n\r\nSample Code:\r\n\r\n```\r\nlong calc(int init,int elements,int steps){\r\n  int[] dp1 = new int[elements-1];\r\n  Arrays.fill(dp1, init);\r\n  int[] dp2 = new int[elements-1];\r\n\r\n  for(int i = 0; i &lt; steps-1; i++){\r\n    for(int j = 0,cur = 0; j &lt; elements-i-1; j++){\r\n      dp2[j] = cur = cur + dp1[j];\r\n    }\r\n    System.arraycopy(dp2,0,dp1,0,elements-i-1);\r\n    Arrays.fill(dp2, 0);\r\n  }\r\n  return Arrays.stream(Arrays.copyOf(dp1,elements-steps+1)).sum();\r\n}","title":"Summing arrayelements up with init, elements, steps","body":"<p>Hi Im searching a fast dynamic programming / formula solution. For following algorithm, example:</p>\n<p><code>init := 1</code></p>\n<p><code>elements := 4</code></p>\n<p><code>steps := 3</code></p>\n<p>step 1. <code>[1,1,1,1]</code> init is placed in each index</p>\n<p>step 2. <code>[1,2,3]</code> index i is calculated by sum of former step index 0 until inclusive step 1 index i, arraysize get's decremented by one.</p>\n<p>step 3. <code>[1,3]</code> Same procedere like step 2 but using step 2 as base.</p>\n<p>final step <code>solution := 4</code> final step is summing up last stepelements.</p>\n<p>Is there a faster way than summing up manually?</p>\n<p>Sample Code:</p>\n<pre><code>long calc(int init,int elements,int steps){\n  int[] dp1 = new int[elements-1];\n  Arrays.fill(dp1, init);\n  int[] dp2 = new int[elements-1];\n\n  for(int i = 0; i &lt; steps-1; i++){\n    for(int j = 0,cur = 0; j &lt; elements-i-1; j++){\n      dp2[j] = cur = cur + dp1[j];\n    }\n    System.arraycopy(dp2,0,dp1,0,elements-i-1);\n    Arrays.fill(dp2, 0);\n  }\n  return Arrays.stream(Arrays.copyOf(dp1,elements-steps+1)).sum();\n}\n</code></pre>\n"},{"tags":["java","xml","dom","methods","tags"],"comments":[{"owner":{"account_id":8112,"reputation":64592,"user_id":14419,"accept_rate":100,"display_name":"Mads Hansen"},"score":0,"creation_date":1647721133,"post_id":71541441,"comment_id":126443656,"body_markdown":"Use XPath to select the car by it&#39;s id `/parking/car[id=3]` https://stackoverflow.com/questions/6538883/java-how-to-locate-an-element-via-xpath-string-on-org-w3c-dom-document","body":"Use XPath to select the car by it&#39;s id <code>&#47;parking&#47;car[id=3]</code> <a href=\"https://stackoverflow.com/questions/6538883/java-how-to-locate-an-element-via-xpath-string-on-org-w3c-dom-document\" title=\"java how to locate an element via xpath string on org w3c dom document\">stackoverflow.com/questions/6538883/&hellip;</a>"},{"owner":{"account_id":24613992,"reputation":1,"user_id":18515210,"display_name":"IaroslavRiger"},"score":0,"creation_date":1647763212,"post_id":71541441,"comment_id":126449146,"body_markdown":"I&#39;ve tried different stuff, here&#39;s the version of my method that seems closest to truth, but doesn&#39;t work https://pastebin.com/UmEjTcUM\n\nCould you fix it please? I feel like I&#39;m close to figuring it out","body":"I&#39;ve tried different stuff, here&#39;s the version of my method that seems closest to truth, but doesn&#39;t work <a href=\"https://pastebin.com/UmEjTcUM\" rel=\"nofollow noreferrer\">pastebin.com/UmEjTcUM</a>  Could you fix it please? I feel like I&#39;m close to figuring it out"}],"owner":{"account_id":24613992,"reputation":1,"user_id":18515210,"display_name":"IaroslavRiger"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647718681,"creation_date":1647718681,"question_id":71541441,"body_markdown":"I&#39;m doing a simple Java DOM app for car renting. I have a `&lt;car&gt;` tag that contains `&lt;id&gt;` tag, I&#39;m trying to make a method that deletes the `&lt;car&gt;` tag by specifying the value of the `&lt;id&gt;` tag. I&#39;ve tried thinking of a solution and looked at similar questions but haven&#39;t figured it out. Here&#39;s structure of my XML document:\r\n\r\n    &lt;parking&gt;\r\n\t&lt;car&gt;\r\n\t\t&lt;id&gt;1&lt;/id&gt;\r\n\t&lt;/car&gt;\r\n\t&lt;car&gt;\r\n\t\t&lt;id&gt;2&lt;/id&gt;\r\n\t&lt;/car&gt;\r\n\t&lt;car&gt;\r\n\t\t&lt;id&gt;3&lt;/id&gt;\r\n\t&lt;/car&gt;\r\n\t&lt;car&gt;\r\n\t\t&lt;id&gt;4&lt;/id&gt;\r\n\t&lt;/car&gt;&lt;/parking&gt;","title":"JAVA DOM: Delete parent tag if child tag has specified value","body":"<p>I'm doing a simple Java DOM app for car renting. I have a <code>&lt;car&gt;</code> tag that contains <code>&lt;id&gt;</code> tag, I'm trying to make a method that deletes the <code>&lt;car&gt;</code> tag by specifying the value of the <code>&lt;id&gt;</code> tag. I've tried thinking of a solution and looked at similar questions but haven't figured it out. Here's structure of my XML document:</p>\n<pre><code>&lt;parking&gt;\n&lt;car&gt;\n    &lt;id&gt;1&lt;/id&gt;\n&lt;/car&gt;\n&lt;car&gt;\n    &lt;id&gt;2&lt;/id&gt;\n&lt;/car&gt;\n&lt;car&gt;\n    &lt;id&gt;3&lt;/id&gt;\n&lt;/car&gt;\n&lt;car&gt;\n    &lt;id&gt;4&lt;/id&gt;\n&lt;/car&gt;&lt;/parking&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":1,"creation_date":1647714772,"post_id":71540912,"comment_id":126442334,"body_markdown":"In this sample case, I don&#39;t see that it makes any difference.","body":"In this sample case, I don&#39;t see that it makes any difference."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1647715454,"post_id":71540912,"comment_id":126442470,"body_markdown":"Or how about `Map&lt;String, Integer&gt; map = Map.of(&quot;1&quot;, 1, &quot;2&quot;, 2);` ?","body":"Or how about <code>Map&lt;String, Integer&gt; map = Map.of(&quot;1&quot;, 1, &quot;2&quot;, 2);</code> ?"}],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647717812,"creation_date":1647717812,"answer_id":71541345,"question_id":71540912,"body_markdown":"Static block has only one advantage in case you will have some complex initialization logic, for example, error handling or loop. See [Initializing Fields][1]\r\n\r\n&gt;  If initialization requires some logic (for example, error handling or\r\n&gt; a for loop to fill a complex array), simple assignment is inadequate.\r\n&gt; Instance variables can be initialized in constructors, where error\r\n&gt; handling or other logic can be used. To provide the same capability\r\n&gt; for class variables, the Java programming language includes static\r\n&gt; initialization blocks.\r\n\r\nIn your example, both cases are the same.\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/initial.html","title":"Static init of map versus init as part of declaration","body":"<p>Static block has only one advantage in case you will have some complex initialization logic, for example, error handling or loop. See <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/initial.html\" rel=\"nofollow noreferrer\">Initializing Fields</a></p>\n<blockquote>\n<p>If initialization requires some logic (for example, error handling or\na for loop to fill a complex array), simple assignment is inadequate.\nInstance variables can be initialized in constructors, where error\nhandling or other logic can be used. To provide the same capability\nfor class variables, the Java programming language includes static\ninitialization blocks.</p>\n</blockquote>\n<p>In your example, both cases are the same.</p>\n"}],"owner":{"account_id":215504,"reputation":52462,"user_id":470184,"accept_rate":91,"display_name":"blue-sky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":71541345,"answer_count":1,"score":-1,"last_activity_date":1647717812,"creation_date":1647714391,"question_id":71540912,"body_markdown":"Is there an advantage of initialising a map in static block versus initialising it as part of the declaration?\r\n\r\nInit as part of declaration : \r\n\r\n    private static final Map&lt;String, Integer&gt; init1 = Map.ofEntries(Map.entry(&quot;1&quot; , 1),\r\n                         Map.entry(&quot;2&quot; , 2));\r\n\r\nInit static block :\r\n\r\n    private static final Map&lt;String , Integer&gt; init2 ;\r\n    \r\n    static {\r\n        init2 = Map.ofEntries(Map.entry(&quot;1&quot; , 1),\r\n                Map.entry(&quot;2&quot; , 2));\r\n    }\r\n\r\n","title":"Static init of map versus init as part of declaration","body":"<p>Is there an advantage of initialising a map in static block versus initialising it as part of the declaration?</p>\n<p>Init as part of declaration :</p>\n<pre><code>private static final Map&lt;String, Integer&gt; init1 = Map.ofEntries(Map.entry(&quot;1&quot; , 1),\n                     Map.entry(&quot;2&quot; , 2));\n</code></pre>\n<p>Init static block :</p>\n<pre><code>private static final Map&lt;String , Integer&gt; init2 ;\n\nstatic {\n    init2 = Map.ofEntries(Map.entry(&quot;1&quot; , 1),\n            Map.entry(&quot;2&quot; , 2));\n}\n</code></pre>\n"},{"tags":["java","hadoop","apache-spark","apache-spark-mllib"],"comments":[{"owner":{"account_id":1776460,"reputation":1192,"user_id":1620177,"accept_rate":62,"display_name":"Rainfield"},"score":0,"creation_date":1407383758,"post_id":25173833,"comment_id":39196079,"body_markdown":"I tried a java mapreduce job, it can successfully load the the gpl library.","body":"I tried a java mapreduce job, it can successfully load the the gpl library."}],"answers":[{"tags":[],"owner":{"account_id":143752,"reputation":5048,"user_id":352319,"accept_rate":84,"display_name":"kc2001"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647717494,"creation_date":1647717494,"answer_id":71541306,"question_id":25173833,"body_markdown":"I don&#39;t know why what you tried with `java.library.path` didn&#39;t work.  I solved a problem similar to what you described by adding the argument:\r\n\r\n    --driver-library-path /usr/lib/hadoop-lzo/lib/native/\r\n\r\nwhere `/usr/lib/hadoop-lzo/lib/native/` contained `libgplcompression.so`.","title":"Spark: Could not load native gpl library","body":"<p>I don't know why what you tried with <code>java.library.path</code> didn't work.  I solved a problem similar to what you described by adding the argument:</p>\n<pre><code>--driver-library-path /usr/lib/hadoop-lzo/lib/native/\n</code></pre>\n<p>where <code>/usr/lib/hadoop-lzo/lib/native/</code> contained <code>libgplcompression.so</code>.</p>\n"}],"owner":{"account_id":1776460,"reputation":1192,"user_id":1620177,"accept_rate":62,"display_name":"Rainfield"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5161,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1647717494,"creation_date":1407383595,"question_id":25173833,"body_markdown":"I had the following error when trying to run a very simple spark job (which uses logistic regression with SGD in mllib):\r\n\r\n    ERROR GPLNativeCodeLoader: Could not load native gpl library\r\n    java.lang.UnsatisfiedLinkError: no gplcompression in java.library.path\r\n    \tat java.lang.ClassLoader.loadLibrary(ClassLoader.java:1738)\r\n    \tat java.lang.Runtime.loadLibrary0(Runtime.java:823)\r\n    \tat java.lang.System.loadLibrary(System.java:1028)\r\n    \tat com.hadoop.compression.lzo.GPLNativeCodeLoader.&lt;clinit&gt;(GPLNativeCodeLoader.java:32)\r\n    \tat com.hadoop.compression.lzo.LzoCodec.&lt;clinit&gt;(LzoCodec.java:71)\r\n    \tat java.lang.Class.forName0(Native Method)\r\n    \tat java.lang.Class.forName(Class.java:247)\r\n    \tat org.apache.hadoop.conf.Configuration.getClassByNameOrNull(Configuration.java:1659)\r\n    \tat org.apache.hadoop.conf.Configuration.getClassByName(Configuration.java:1624)\r\n    \tat org.apache.hadoop.io.compress.CompressionCodecFactory.getCodecClasses(CompressionCodecFactory.java:128)\r\n    \tat org.apache.hadoop.io.compress.CompressionCodecFactory.&lt;init&gt;(CompressionCodecFactory.java:175)\r\n    \tat org.apache.hadoop.mapred.TextInputFormat.configure(TextInputFormat.java:45)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:597)\r\n    \tat org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:106)\r\n    \tat org.apache.hadoop.util.ReflectionUtils.setConf(ReflectionUtils.java:75)\r\n    \tat org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:133)\r\n    \tat org.apache.spark.rdd.HadoopRDD.getInputFormat(HadoopRDD.scala:155)\r\n    \tat org.apache.spark.rdd.HadoopRDD$$anon$1.&lt;init&gt;(HadoopRDD.scala:187)\r\n    \tat org.apache.spark.rdd.HadoopRDD.compute(HadoopRDD.scala:181)\r\n    \tat org.apache.spark.rdd.HadoopRDD.compute(HadoopRDD.scala:93)\r\n    \tat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:262)\r\n    \tat org.apache.spark.rdd.RDD.iterator(RDD.scala:229)\r\n    \tat org.apache.spark.rdd.MappedRDD.compute(MappedRDD.scala:31)\r\n    \tat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:262)\r\n    \tat org.apache.spark.rdd.RDD.iterator(RDD.scala:229)\r\n    \tat org.apache.spark.rdd.MappedRDD.compute(MappedRDD.scala:31)\r\n    \tat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:262)\r\n    \tat org.apache.spark.rdd.RDD.iterator(RDD.scala:229)\r\n    \tat org.apache.spark.rdd.FilteredRDD.compute(FilteredRDD.scala:34)\r\n    \tat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:262)\r\n    \tat org.apache.spark.rdd.RDD.iterator(RDD.scala:229)\r\n    \tat org.apache.spark.rdd.MappedRDD.compute(MappedRDD.scala:31)\r\n    \tat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:262)\r\n    \tat org.apache.spark.rdd.RDD.iterator(RDD.scala:229)\r\n    \tat org.apache.spark.rdd.MappedRDD.compute(MappedRDD.scala:31)\r\n    \tat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:262)\r\n    \tat org.apache.spark.rdd.RDD.iterator(RDD.scala:229)\r\n    \tat org.apache.spark.rdd.FilteredRDD.compute(FilteredRDD.scala:34)\r\n    \tat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:262)\r\n    \tat org.apache.spark.rdd.RDD.iterator(RDD.scala:229)\r\n    \tat org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:111)\r\n    \tat org.apache.spark.scheduler.Task.run(Task.scala:51)\r\n    \tat org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:187)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\r\n    \tat java.lang.Thread.run(Thread.java:662)\r\n    14/08/06 20:32:11 ERROR LzoCodec: Cannot load native-lzo without native-hadoop\r\n\r\nThis is the command I used to submit the job:\r\n\r\n    ~/spark/spark-1.0.0-bin-hadoop2/bin/spark-submit \\\r\n    --class com.jk.sparktest.Test \\\r\n    --master yarn-cluster \\\r\n    --num-executors 40 \\\r\n    ~/sparktest-0.0.1-SNAPSHOT-jar-with-dependencies.jar\r\n\r\nThe actual java command is :\r\n\r\n    /usr/java/latest/bin/java -cp /apache/hadoop/share/hadoop/common/hadoop-common-2.2.0.2.0.6.0-61.jar:/apache/hadoop/lib/hadoop-lzo-0.6.0.jar::/home/jilei/spark/spark-1.0.0-bin-hadoop2/conf:/home/jilei/spark/spark-1.0.0-bin-hadoop2/lib/spark-assembly-1.0.0-hadoop2.2.0.jar:/home/jilei/spark/spark-1.0.0-bin-hadoop2/lib/datanucleus-rdbms-3.2.1.jar:/home/jilei/spark/spark-1.0.0-bin-hadoop2/lib/datanucleus-core-3.2.2.jar:/home/jilei/spark/spark-1.0.0-bin-hadoop2/lib/datanucleus-api-jdo-3.2.1.jar:/apache/hadoop/conf:/apache/hadoop/conf  \\\r\n    -XX:MaxPermSize=128m \\\r\n    -Djava.library.path= \r\n    -Xms512m -Xmx512m org.apache.spark.deploy.SparkSubmit \\\r\n    --class com.jk.sparktest.Test  \\\r\n    --master yarn-cluster  \\\r\n    --num-executors 40   \\\r\n    ~/sparktest-0.0.1-SNAPSHOT-jar-with-dependencies.jar\r\n\r\nSeems the `-Djava.library.path` is not set. I also tried the java command above and supplied the native lib directory to the `java.library.path`, but still got the same errors. This is the content of the native lib directory:\r\n\r\n    ls /apache/hadoop/lib/native/\r\n    libgplcompression.a   libgplcompression.so    libgplcompression.so.0.0.0  libhadooppipes.a \r\n    libhadoop.so.1.0.0  libhdfs.a   libhdfs.so.0.0.0  libsnappy.so.1\r\n    libgplcompression.la  libgplcompression.so.0  libhadoop.a                 libhadoop.so         \r\n    libhadooputils.a    libhdfs.so  libsnappy.so      libsnappy.so.1.1.4\r\n\r\nAny idea on what&#39;s wrong? Thanks.\r\n\r\n","title":"Spark: Could not load native gpl library","body":"<p>I had the following error when trying to run a very simple spark job (which uses logistic regression with SGD in mllib):</p>\n\n<pre><code>ERROR GPLNativeCodeLoader: Could not load native gpl library\njava.lang.UnsatisfiedLinkError: no gplcompression in java.library.path\n    at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1738)\n    at java.lang.Runtime.loadLibrary0(Runtime.java:823)\n    at java.lang.System.loadLibrary(System.java:1028)\n    at com.hadoop.compression.lzo.GPLNativeCodeLoader.&lt;clinit&gt;(GPLNativeCodeLoader.java:32)\n    at com.hadoop.compression.lzo.LzoCodec.&lt;clinit&gt;(LzoCodec.java:71)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:247)\n    at org.apache.hadoop.conf.Configuration.getClassByNameOrNull(Configuration.java:1659)\n    at org.apache.hadoop.conf.Configuration.getClassByName(Configuration.java:1624)\n    at org.apache.hadoop.io.compress.CompressionCodecFactory.getCodecClasses(CompressionCodecFactory.java:128)\n    at org.apache.hadoop.io.compress.CompressionCodecFactory.&lt;init&gt;(CompressionCodecFactory.java:175)\n    at org.apache.hadoop.mapred.TextInputFormat.configure(TextInputFormat.java:45)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:106)\n    at org.apache.hadoop.util.ReflectionUtils.setConf(ReflectionUtils.java:75)\n    at org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:133)\n    at org.apache.spark.rdd.HadoopRDD.getInputFormat(HadoopRDD.scala:155)\n    at org.apache.spark.rdd.HadoopRDD$$anon$1.&lt;init&gt;(HadoopRDD.scala:187)\n    at org.apache.spark.rdd.HadoopRDD.compute(HadoopRDD.scala:181)\n    at org.apache.spark.rdd.HadoopRDD.compute(HadoopRDD.scala:93)\n    at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:262)\n    at org.apache.spark.rdd.RDD.iterator(RDD.scala:229)\n    at org.apache.spark.rdd.MappedRDD.compute(MappedRDD.scala:31)\n    at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:262)\n    at org.apache.spark.rdd.RDD.iterator(RDD.scala:229)\n    at org.apache.spark.rdd.MappedRDD.compute(MappedRDD.scala:31)\n    at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:262)\n    at org.apache.spark.rdd.RDD.iterator(RDD.scala:229)\n    at org.apache.spark.rdd.FilteredRDD.compute(FilteredRDD.scala:34)\n    at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:262)\n    at org.apache.spark.rdd.RDD.iterator(RDD.scala:229)\n    at org.apache.spark.rdd.MappedRDD.compute(MappedRDD.scala:31)\n    at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:262)\n    at org.apache.spark.rdd.RDD.iterator(RDD.scala:229)\n    at org.apache.spark.rdd.MappedRDD.compute(MappedRDD.scala:31)\n    at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:262)\n    at org.apache.spark.rdd.RDD.iterator(RDD.scala:229)\n    at org.apache.spark.rdd.FilteredRDD.compute(FilteredRDD.scala:34)\n    at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:262)\n    at org.apache.spark.rdd.RDD.iterator(RDD.scala:229)\n    at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:111)\n    at org.apache.spark.scheduler.Task.run(Task.scala:51)\n    at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:187)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n    at java.lang.Thread.run(Thread.java:662)\n14/08/06 20:32:11 ERROR LzoCodec: Cannot load native-lzo without native-hadoop\n</code></pre>\n\n<p>This is the command I used to submit the job:</p>\n\n<pre><code>~/spark/spark-1.0.0-bin-hadoop2/bin/spark-submit \\\n--class com.jk.sparktest.Test \\\n--master yarn-cluster \\\n--num-executors 40 \\\n~/sparktest-0.0.1-SNAPSHOT-jar-with-dependencies.jar\n</code></pre>\n\n<p>The actual java command is :</p>\n\n<pre><code>/usr/java/latest/bin/java -cp /apache/hadoop/share/hadoop/common/hadoop-common-2.2.0.2.0.6.0-61.jar:/apache/hadoop/lib/hadoop-lzo-0.6.0.jar::/home/jilei/spark/spark-1.0.0-bin-hadoop2/conf:/home/jilei/spark/spark-1.0.0-bin-hadoop2/lib/spark-assembly-1.0.0-hadoop2.2.0.jar:/home/jilei/spark/spark-1.0.0-bin-hadoop2/lib/datanucleus-rdbms-3.2.1.jar:/home/jilei/spark/spark-1.0.0-bin-hadoop2/lib/datanucleus-core-3.2.2.jar:/home/jilei/spark/spark-1.0.0-bin-hadoop2/lib/datanucleus-api-jdo-3.2.1.jar:/apache/hadoop/conf:/apache/hadoop/conf  \\\n-XX:MaxPermSize=128m \\\n-Djava.library.path= \n-Xms512m -Xmx512m org.apache.spark.deploy.SparkSubmit \\\n--class com.jk.sparktest.Test  \\\n--master yarn-cluster  \\\n--num-executors 40   \\\n~/sparktest-0.0.1-SNAPSHOT-jar-with-dependencies.jar\n</code></pre>\n\n<p>Seems the <code>-Djava.library.path</code> is not set. I also tried the java command above and supplied the native lib directory to the <code>java.library.path</code>, but still got the same errors. This is the content of the native lib directory:</p>\n\n<pre><code>ls /apache/hadoop/lib/native/\nlibgplcompression.a   libgplcompression.so    libgplcompression.so.0.0.0  libhadooppipes.a \nlibhadoop.so.1.0.0  libhdfs.a   libhdfs.so.0.0.0  libsnappy.so.1\nlibgplcompression.la  libgplcompression.so.0  libhadoop.a                 libhadoop.so         \nlibhadooputils.a    libhdfs.so  libsnappy.so      libsnappy.so.1.1.4\n</code></pre>\n\n<p>Any idea on what's wrong? Thanks.</p>\n"},{"tags":["java","swing","button","onclick","jtable"],"comments":[{"owner":{"account_id":2705819,"reputation":1409,"user_id":2335441,"display_name":"Gjermund Dahl"},"score":0,"creation_date":1647716776,"post_id":71541153,"comment_id":126442770,"body_markdown":"‘content.remove(sp)’ doesn’t remove the existing table because ‘sp’ was declared the line before.","body":"‘content.remove(sp)’ doesn’t remove the existing table because ‘sp’ was declared the line before."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1647736898,"post_id":71541153,"comment_id":126446298,"body_markdown":"*Button click creates new JTable* - well, why do you have a `new JTable(...)` statement in your ActionListener? If you don&#39;t want a new table then don&#39;t create a new table. Instead create a new `DefaultTableModel` and use the `setModel(...)` method of the JTable. The is no need to create the scroll pane either. Also, don&#39;t use a Button. For Swing you use a JButton.","body":"<i>Button click creates new JTable</i> - well, why do you have a <code>new JTable(...)</code> statement in your ActionListener? If you don&#39;t want a new table then don&#39;t create a new table. Instead create a new <code>DefaultTableModel</code> and use the <code>setModel(...)</code> method of the JTable. The is no need to create the scroll pane either. Also, don&#39;t use a Button. For Swing you use a JButton."}],"owner":{"account_id":17980126,"reputation":1,"user_id":13066684,"display_name":"manfr3do"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647717024,"creation_date":1647716372,"question_id":71541153,"body_markdown":"I&#39;d like to create a JTable that displays the values from a created object by clicking a button. \r\n\r\nThe object is created here:\r\n\r\n```\r\n    public class Getraenkeverwaltung extends Firma {\r\n    \r\n    public static Getraenk getraenk1 = new Getraenk(1, &quot;Pepsi Maxx Original&quot;, 0.99, 500);\r\n    ...\r\n    }\r\n```\r\nNow with the following code I&#39;m creating the window with all the panels. \r\n\r\n```\r\n        public void buildUi() {\r\n        // Create the main window\r\n        Frame fr = new Frame();\r\n        fr.setLayout(new BorderLayout());\r\n\r\n        // Define colors\r\n        Color headerColor = new Color(38, 70, 83);\r\n        Color contentColor = new Color(42, 157, 143);\r\n       \r\n        // create navigation pane at the top\r\n        JPanel navigation = new JPanel();\r\n        navigation.setBackground(headerColor);\r\n        navigation.setLayout(new GridLayout(1,4));\r\n        navigation.setPreferredSize(new Dimension(800,50));\r\n\r\n        // create content pane in the middle\r\n        JPanel content = new JPanel();\r\n        content.setBackground(contentColor);\r\n        content.setPreferredSize(new Dimension(800, 500));\r\n        content.setLayout(new BoxLayout(content, BoxLayout.Y_AXIS));\r\n        \r\n        // create footer pane at the bottom\r\n        JPanel footer = new JPanel();\r\n        footer.setBackground(headerColor);\r\n        footer.setLayout(new GridLayout(1,1));\r\n        footer.setPreferredSize(new Dimension(800, 50));\r\n        footer.setLayout(new BorderLayout());\r\n\r\n        // show impressum in the footer pane\r\n        JLabel impressum = new JLabel(Firma.impressum());\r\n        impressum.setHorizontalAlignment(SwingConstants.CENTER); // Platziert den Text mittig\r\n        impressum.setForeground(Color.white);\r\n        \r\n        // create the buttons\r\n        Button btnBestand = new Button(&quot;Bestand anzeigen&quot;);\r\n        Button btnVerkauf = new Button(&quot;Verkaufen&quot;);\r\n        Button btnErhoehen = new Button(&quot;Bestand erhoehen&quot;);\r\n        Button btnExit = new Button(&quot;Exit&quot;);\r\n\r\n        // display beverages on button click\r\n        btnBestand.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent e) {\r\n                String column [] = {&quot;Artikelnummer&quot;, &quot;Artikel&quot;, &quot;Bestand&quot;};\r\n                Object data [][] = {\r\n                    {getraenk1.getId(), getraenk1.getName(), getraenk1.getBestand()},\r\n                    {getraenk2.getId(), getraenk2.getName(), getraenk2.getBestand()},\r\n                    {getraenk3.getId(), getraenk3.getName(), getraenk3.getBestand()}\r\n                };\r\n                JTable table = new JTable(data, column);\r\n                JScrollPane sp = new JScrollPane(table);\r\n                content.remove(sp);\r\n                content.revalidate();\r\n                content.repaint();\r\n                content.add(sp);    \r\n            }\r\n        });\r\n\r\n        // open new sale window\r\n        btnVerkauf.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent e) {\r\n                new Verkaufen();\r\n            }\r\n        });\r\n\r\n        // close the program\r\n        btnExit.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent e) {\r\n                System.exit(0);\r\n            }\r\n        });\r\n\r\n        // add the buttons to the navigation pane\r\n        navigation.add(btnBestand);\r\n        navigation.add(btnVerkauf);\r\n        navigation.add(btnErhoehen);\r\n        navigation.add(btnExit);\r\n\r\n        // add the impressum to the footer pane\r\n        footer.add(impressum, BorderLayout.CENTER);\r\n\r\n        // add the three main panels to the window\r\n        fr.add(navigation, BorderLayout.NORTH);\r\n        fr.add(content, BorderLayout.CENTER);\r\n        fr.add(footer, BorderLayout.SOUTH);\r\n        fr.pack();\r\n    }\r\n```\r\nOne of the problems is the button functionality of **btnBestand**. Whenever I&#39;m changing the value of some of my products, it should refresh the JTable. \r\nUnfortunately, there&#39;s a new JTable displayed everytime I click on the button, \r\n[so it looks like this after hitting the button four times][1].\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uPVfY.png\r\n\r\nI&#39;d like to just display the table with the new value after clicking on the button again.\r\n\r\nThanks in advance.\r\n\r\n// edit:\r\nRemoved the ```content.remove(sp);``` pointed out by Gjermund Dahl, as it is unnecessary in this context. Thank you.  \r\nProblem still persists","title":"Button click creates new JTable everytime instead of refreshing with new value","body":"<p>I'd like to create a JTable that displays the values from a created object by clicking a button.</p>\n<p>The object is created here:</p>\n<pre><code>    public class Getraenkeverwaltung extends Firma {\n    \n    public static Getraenk getraenk1 = new Getraenk(1, &quot;Pepsi Maxx Original&quot;, 0.99, 500);\n    ...\n    }\n</code></pre>\n<p>Now with the following code I'm creating the window with all the panels.</p>\n<pre><code>        public void buildUi() {\n        // Create the main window\n        Frame fr = new Frame();\n        fr.setLayout(new BorderLayout());\n\n        // Define colors\n        Color headerColor = new Color(38, 70, 83);\n        Color contentColor = new Color(42, 157, 143);\n       \n        // create navigation pane at the top\n        JPanel navigation = new JPanel();\n        navigation.setBackground(headerColor);\n        navigation.setLayout(new GridLayout(1,4));\n        navigation.setPreferredSize(new Dimension(800,50));\n\n        // create content pane in the middle\n        JPanel content = new JPanel();\n        content.setBackground(contentColor);\n        content.setPreferredSize(new Dimension(800, 500));\n        content.setLayout(new BoxLayout(content, BoxLayout.Y_AXIS));\n        \n        // create footer pane at the bottom\n        JPanel footer = new JPanel();\n        footer.setBackground(headerColor);\n        footer.setLayout(new GridLayout(1,1));\n        footer.setPreferredSize(new Dimension(800, 50));\n        footer.setLayout(new BorderLayout());\n\n        // show impressum in the footer pane\n        JLabel impressum = new JLabel(Firma.impressum());\n        impressum.setHorizontalAlignment(SwingConstants.CENTER); // Platziert den Text mittig\n        impressum.setForeground(Color.white);\n        \n        // create the buttons\n        Button btnBestand = new Button(&quot;Bestand anzeigen&quot;);\n        Button btnVerkauf = new Button(&quot;Verkaufen&quot;);\n        Button btnErhoehen = new Button(&quot;Bestand erhoehen&quot;);\n        Button btnExit = new Button(&quot;Exit&quot;);\n\n        // display beverages on button click\n        btnBestand.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                String column [] = {&quot;Artikelnummer&quot;, &quot;Artikel&quot;, &quot;Bestand&quot;};\n                Object data [][] = {\n                    {getraenk1.getId(), getraenk1.getName(), getraenk1.getBestand()},\n                    {getraenk2.getId(), getraenk2.getName(), getraenk2.getBestand()},\n                    {getraenk3.getId(), getraenk3.getName(), getraenk3.getBestand()}\n                };\n                JTable table = new JTable(data, column);\n                JScrollPane sp = new JScrollPane(table);\n                content.remove(sp);\n                content.revalidate();\n                content.repaint();\n                content.add(sp);    \n            }\n        });\n\n        // open new sale window\n        btnVerkauf.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                new Verkaufen();\n            }\n        });\n\n        // close the program\n        btnExit.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                System.exit(0);\n            }\n        });\n\n        // add the buttons to the navigation pane\n        navigation.add(btnBestand);\n        navigation.add(btnVerkauf);\n        navigation.add(btnErhoehen);\n        navigation.add(btnExit);\n\n        // add the impressum to the footer pane\n        footer.add(impressum, BorderLayout.CENTER);\n\n        // add the three main panels to the window\n        fr.add(navigation, BorderLayout.NORTH);\n        fr.add(content, BorderLayout.CENTER);\n        fr.add(footer, BorderLayout.SOUTH);\n        fr.pack();\n    }\n</code></pre>\n<p>One of the problems is the button functionality of <strong>btnBestand</strong>. Whenever I'm changing the value of some of my products, it should refresh the JTable.\nUnfortunately, there's a new JTable displayed everytime I click on the button,\n<a href=\"https://i.stack.imgur.com/uPVfY.png\" rel=\"nofollow noreferrer\">so it looks like this after hitting the button four times</a>.</p>\n<p>I'd like to just display the table with the new value after clicking on the button again.</p>\n<p>Thanks in advance.</p>\n<p>// edit:\nRemoved the <code>content.remove(sp);</code> pointed out by Gjermund Dahl, as it is unnecessary in this context. Thank you.<br />\nProblem still persists</p>\n"},{"tags":["java","log4j","apache-poi","slf4j"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":1,"creation_date":1647208680,"post_id":71461160,"comment_id":126307628,"body_markdown":"Please do your best to make your question self-contained, includes code and errors, without links to sketchy off-site resources like personal storage.","body":"Please do your best to make your question self-contained, includes code and errors, without links to sketchy off-site resources like personal storage."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1647238582,"post_id":71461160,"comment_id":126311631,"body_markdown":"The error is not about `apache poi` but seems to be resulting from a mismatch in `log4j` and `slf4j`. I would ask the logging experts by tagging this question appropriate.","body":"The error is not about <code>apache poi</code> but seems to be resulting from a mismatch in <code>log4j</code> and <code>slf4j</code>. I would ask the logging experts by tagging this question appropriate."},{"owner":{"account_id":11885259,"reputation":19,"user_id":18253232,"display_name":"brlawrence"},"score":0,"creation_date":1647321141,"post_id":71461160,"comment_id":126335678,"body_markdown":"Axel, I see you have already placed the tags log4j &amp; slf4j. What needs to be done for the appropriate log4j support community to be able to see this question, I am new to stack overflow.","body":"Axel, I see you have already placed the tags log4j &amp; slf4j. What needs to be done for the appropriate log4j support community to be able to see this question, I am new to stack overflow."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1647327034,"post_id":71461160,"comment_id":126336716,"body_markdown":"I doubt you can do anything more. I can&#39;t answer this as I&#39;m trying to avoid these logging frameworks for security reasons. So all you can do is wait and see if the question draws attention.","body":"I doubt you can do anything more. I can&#39;t answer this as I&#39;m trying to avoid these logging frameworks for security reasons. So all you can do is wait and see if the question draws attention."},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":0,"creation_date":1647361550,"post_id":71461160,"comment_id":126349643,"body_markdown":"is this the &#39;Logger factory 2.2.0&#39; - https://mvnrepository.com/artifact/io.lsn/logger-factory/2.2.0 ? This is not built for log4j 2.17.x.","body":"is this the &#39;Logger factory 2.2.0&#39; - <a href=\"https://mvnrepository.com/artifact/io.lsn/logger-factory/2.2.0\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/io.lsn/logger-factory/2.2.0</a> ? This is not built for log4j 2.17.x."},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":0,"creation_date":1647361673,"post_id":71461160,"comment_id":126349696,"body_markdown":"have you read https://poi.apache.org/components/logging.html - describes how logging works with better known approaches like log4j-core and logback","body":"have you read <a href=\"https://poi.apache.org/components/logging.html\" rel=\"nofollow noreferrer\">poi.apache.org/components/logging.html</a> - describes how logging works with better known approaches like log4j-core and logback"},{"owner":{"account_id":11885259,"reputation":19,"user_id":18253232,"display_name":"brlawrence"},"score":0,"creation_date":1647502310,"post_id":71461160,"comment_id":126388421,"body_markdown":"I don&#39;t have any intention to use log4j. I added log4j after i saw this error first: &quot;ERROR StatusLogger Log4j2 could not find a logging implementation. Please add log4j-core to the classpath. Using SimpleLogger to log to the console...\nnull&quot;. All I need is to be able to read an excel file (XLSX) It looks like apache poi is using log4j internally and somehow there is error faced. If anyone can provide a working sample code to be able to loop thru excel (latest version) to read and store into a 2 dimensional array, that will do","body":"I don&#39;t have any intention to use log4j. I added log4j after i saw this error first: &quot;ERROR StatusLogger Log4j2 could not find a logging implementation. Please add log4j-core to the classpath. Using SimpleLogger to log to the console... null&quot;. All I need is to be able to read an excel file (XLSX) It looks like apache poi is using log4j internally and somehow there is error faced. If anyone can provide a working sample code to be able to loop thru excel (latest version) to read and store into a 2 dimensional array, that will do"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1647502323,"post_id":71461160,"comment_id":126388427,"body_markdown":"Do simple remove all `slf4j` jars from class path then? Especially your &quot;Logger factory 2.2.0 JAR&quot;.","body":"Do simple remove all <code>slf4j</code> jars from class path then? Especially your &quot;Logger factory 2.2.0 JAR&quot;."},{"owner":{"account_id":11885259,"reputation":19,"user_id":18253232,"display_name":"brlawrence"},"score":0,"creation_date":1647588488,"post_id":71461160,"comment_id":126413250,"body_markdown":"Axel, I removed the slf4j jars and logger factory and I am getting error as updated in the body text above","body":"Axel, I removed the slf4j jars and logger factory and I am getting error as updated in the body text above"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1647600162,"post_id":71461160,"comment_id":126416795,"body_markdown":"I told you to remove `slf4j` but not to remove `log4j`. `Apache poi` needs `log4j`. As told by the error you need https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core/2.17.2.","body":"I told you to remove <code>slf4j</code> but not to remove <code>log4j</code>. <code>Apache poi</code> needs <code>log4j</code>. As told by the error you need <a href=\"https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core/2.17.2\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.apache.logging.log4j/log4j-co&zwnj;&#8203;re/&hellip;</a>."},{"owner":{"account_id":11885259,"reputation":19,"user_id":18253232,"display_name":"brlawrence"},"score":0,"creation_date":1647714350,"post_id":71461160,"comment_id":126442242,"body_markdown":"Yes, I only removed slf4j and loggerfactory. The log4j-core-2.17.1 was still there, as it is part of the POI distribution. Your link showed log4j-core-2.17.2 , so I now removed 2.17.1 and added this 2.17.2 version/build. Now I am getting different error. Do I need to install the dependencies that are listed as well. Most of them shows optional.","body":"Yes, I only removed slf4j and loggerfactory. The log4j-core-2.17.1 was still there, as it is part of the POI distribution. Your link showed log4j-core-2.17.2 , so I now removed 2.17.1 and added this 2.17.2 version/build. Now I am getting different error. Do I need to install the dependencies that are listed as well. Most of them shows optional."},{"owner":{"account_id":11885259,"reputation":19,"user_id":18253232,"display_name":"brlawrence"},"score":0,"creation_date":1647715189,"post_id":71461160,"comment_id":126442419,"body_markdown":"It WORKED !! . In the same link https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core/2.17.2 that you provided in the comment above , there were dependencies listed, most of them were optional, but log4j-api-2.17.2 was not. I installed it and it worked! . Thank you so much for the help","body":"It WORKED !! . In the same link <a href=\"https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core/2.17.2\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.apache.logging.log4j/log4j-co&zwnj;&#8203;re/&hellip;</a> that you provided in the comment above , there were dependencies listed, most of them were optional, but log4j-api-2.17.2 was not. I installed it and it worked! . Thank you so much for the help"}],"owner":{"account_id":11885259,"reputation":19,"user_id":18253232,"display_name":"brlawrence"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":959,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647716131,"creation_date":1647208443,"question_id":71461160,"body_markdown":"I am attempting to read excel file and getting error \r\n\r\n    java.lang.NoSuchMethodError: org.apache.logging.slf4j.Log4jLoggerFactory:\r\n    method &#39;void &lt;init&gt;()&#39; not found\r\n\r\nCode inspired by: https://poi.apache.org/components/spreadsheet/quick-guide.html#Iterator\r\n\r\nCode:\r\n\r\n    package nov2021;\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    // import java.util.Iterator;\r\n    import org.apache.poi.ss.usermodel.Cell;\r\n    import org.apache.poi.ss.usermodel.Row;\r\n    import org.apache.poi.ss.usermodel.Sheet;\r\n    import org.apache.poi.ss.usermodel.Workbook;\r\n    import org.apache.poi.ss.usermodel.WorkbookFactory;\r\n    public class readWriteExcel {\r\n     public static void main(String[] args) throws IOException\r\n     {\r\n      File file = new File(&quot;C:\\\\Users\\\\brlaw\\\\Documents\\\\Learn IT\\\\Simplilearn\\\\Core Java\\\\HelloWorld\\\\Input data\\\\Family.xlsx&quot;);\r\n    \r\n      FileInputStream fis = new FileInputStream(file);\r\n      Workbook wb = WorkbookFactory.create(fis);\r\n      Sheet sheet = wb.getSheetAt(0);\r\n      Row row = sheet.getRow(2);\r\n      Cell cell = row.getCell(3);\r\n      System.out.println(cell);\r\n      wb.close();\r\n     }\r\n    }\r\n\r\nStackTrace: \r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: org.apache.logging.slf4j.Log4jLoggerFactory: method &#39;void &lt;init&gt;()&#39; not found\r\n \tat org.slf4j.impl.StaticLoggerBinder.&lt;init&gt;(StaticLoggerBinder.java:53) \t\r\n    at org.slf4j.impl.StaticLoggerBinder.&lt;clinit&gt;(StaticLoggerBinder.java:41)\r\n \tat org.slf4j.LoggerFactory.bind(LoggerFactory.java:150)\r\n \tat org.slf4j.LoggerFactory.performInitialization(LoggerFactory.java:124)\r\n \tat org.slf4j.LoggerFactory.getILoggerFactory(LoggerFactory.java:417)\r\n \tat org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:362)\r\n \tat org.apache.logging.slf4j.SLF4JLoggerContext.getLogger(SLF4JLoggerContext.java:36)\r\n \tat org.apache.logging.log4j.spi.LoggerContext.getLogger(LoggerContext.java:99)\r\n \tat org.apache.logging.log4j.LogManager.getLogger(LogManager.java:599)\r\n \tat org.apache.poi.util.IOUtils.&lt;clinit&gt;(IOUtils.java:43)\r\n \tat org.apache.poi.poifs.filesystem.FileMagic.valueOf(FileMagic.java:209)\r\n \tat org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:222)\r\n \tat org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:185)\r\n \tat nov2021.readWriteExcel.main(readWriteExcel.java:20)\r\n\r\n  NOTES: I have downloaded and added the following prior to execution:\r\n1.\tApache poi 5.2.1 JAR files in the class path\r\n2.\tApache-log4j-2.17.2 JAR files\r\n3.\tLogger factory 2.2.0 JAR\r\n\r\n### Update March 18 2022: ###\r\nAs per comments from Axel R, I removed all JARs related to SLF4J and also logger factory and here is what I get as error.\r\n#### ERROR ####\r\nERROR StatusLogger Log4j2 could not find a logging implementation. Please add log4j-core to the classpath. Using SimpleLogger to log to the console...\r\nnull\r\n\r\n### [ FIXED! ]Update March 19 2022 ###\r\n\r\n 1. Based on the comment from Axel R in stack overflow there was a log4j distribution link https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core/2.17.2\r\nInstalled log4j-core-2.17.2 replacing the log4j-core-2.17.1 that was part of the POI distribution.\r\n 2. log4j-api-2.17.2 was listed as a dependency in the same hyperlink that Axel R provided. This Fixed the issue.\r\n","title":"I am fairly new to Java. I am attempting to read excel file and getting error from slf4j","body":"<p>I am attempting to read excel file and getting error</p>\n<pre><code>java.lang.NoSuchMethodError: org.apache.logging.slf4j.Log4jLoggerFactory:\nmethod 'void &lt;init&gt;()' not found\n</code></pre>\n<p>Code inspired by: <a href=\"https://poi.apache.org/components/spreadsheet/quick-guide.html#Iterator\" rel=\"nofollow noreferrer\">https://poi.apache.org/components/spreadsheet/quick-guide.html#Iterator</a></p>\n<p>Code:</p>\n<pre><code>package nov2021;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.IOException;\n// import java.util.Iterator;\nimport org.apache.poi.ss.usermodel.Cell;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.ss.usermodel.Sheet;\nimport org.apache.poi.ss.usermodel.Workbook;\nimport org.apache.poi.ss.usermodel.WorkbookFactory;\npublic class readWriteExcel {\n public static void main(String[] args) throws IOException\n {\n  File file = new File(&quot;C:\\\\Users\\\\brlaw\\\\Documents\\\\Learn IT\\\\Simplilearn\\\\Core Java\\\\HelloWorld\\\\Input data\\\\Family.xlsx&quot;);\n\n  FileInputStream fis = new FileInputStream(file);\n  Workbook wb = WorkbookFactory.create(fis);\n  Sheet sheet = wb.getSheetAt(0);\n  Row row = sheet.getRow(2);\n  Cell cell = row.getCell(3);\n  System.out.println(cell);\n  wb.close();\n }\n}\n</code></pre>\n<p>StackTrace:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: org.apache.logging.slf4j.Log4jLoggerFactory: method 'void &lt;init&gt;()' not found\nat org.slf4j.impl.StaticLoggerBinder.&lt;init&gt;(StaticLoggerBinder.java:53)     \nat org.slf4j.impl.StaticLoggerBinder.&lt;clinit&gt;(StaticLoggerBinder.java:41)\nat org.slf4j.LoggerFactory.bind(LoggerFactory.java:150)\nat org.slf4j.LoggerFactory.performInitialization(LoggerFactory.java:124)\nat org.slf4j.LoggerFactory.getILoggerFactory(LoggerFactory.java:417)\nat org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:362)\nat org.apache.logging.slf4j.SLF4JLoggerContext.getLogger(SLF4JLoggerContext.java:36)\nat org.apache.logging.log4j.spi.LoggerContext.getLogger(LoggerContext.java:99)\nat org.apache.logging.log4j.LogManager.getLogger(LogManager.java:599)\nat org.apache.poi.util.IOUtils.&lt;clinit&gt;(IOUtils.java:43)\nat org.apache.poi.poifs.filesystem.FileMagic.valueOf(FileMagic.java:209)\nat org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:222)\nat org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:185)\nat nov2021.readWriteExcel.main(readWriteExcel.java:20)\n</code></pre>\n<p>  NOTES: I have downloaded and added the following prior to execution:</p>\n<ol>\n<li>Apache poi 5.2.1 JAR files in the class path</li>\n<li>Apache-log4j-2.17.2 JAR files</li>\n<li>Logger factory 2.2.0 JAR</li>\n</ol>\n<h3>Update March 18 2022:</h3>\n<p>As per comments from Axel R, I removed all JARs related to SLF4J and also logger factory and here is what I get as error.</p>\n<h4>ERROR</h4>\n<p>ERROR StatusLogger Log4j2 could not find a logging implementation. Please add log4j-core to the classpath. Using SimpleLogger to log to the console...\nnull</p>\n<h3>[ FIXED! ]Update March 19 2022</h3>\n<ol>\n<li>Based on the comment from Axel R in stack overflow there was a log4j distribution link <a href=\"https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core/2.17.2\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core/2.17.2</a>\nInstalled log4j-core-2.17.2 replacing the log4j-core-2.17.1 that was part of the POI distribution.</li>\n<li>log4j-api-2.17.2 was listed as a dependency in the same hyperlink that Axel R provided. This Fixed the issue.</li>\n</ol>\n"},{"tags":["java","jackson","jersey","http-status-code-415"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1647729527,"post_id":71540657,"comment_id":126445290,"body_markdown":"Your dependencies are complete wrong. All you need are jersey-servlet-container and jersey-media-json-jackson. Get rid of everything else. Also see the following link for configuring Jersey 2/3  https://stackoverflow.com/q/45625925/2587435","body":"Your dependencies are complete wrong. All you need are jersey-servlet-container and jersey-media-json-jackson. Get rid of everything else. Also see the following link for configuring Jersey 2/3  <a href=\"https://stackoverflow.com/q/45625925/2587435\">stackoverflow.com/q/45625925/2587435</a>"}],"answers":[{"tags":[],"owner":{"account_id":24263449,"reputation":489,"user_id":18212724,"display_name":"Aditya Akella"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647712968,"creation_date":1647712968,"answer_id":71540714,"question_id":71540657,"body_markdown":"The Waypoint.java produces an xml and @Path(&quot;/waypoint&quot;) seems to consume a JSON as well as produce a JSON. I think thats why you are getting unsupported media type error","title":"Java Jersey Consume Response is giving back 415 (unsupported media type)","body":"<p>The Waypoint.java produces an xml and @Path(&quot;/waypoint&quot;) seems to consume a JSON as well as produce a JSON. I think thats why you are getting unsupported media type error</p>\n"}],"owner":{"account_id":24613040,"reputation":41,"user_id":18514342,"display_name":"PLSHELP"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":271,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":71540714,"answer_count":1,"score":1,"last_activity_date":1647714606,"creation_date":1647712523,"question_id":71540657,"body_markdown":"Not sure what I have done wrong. I have my data model\r\n\r\n**Waypoint.java:**\r\n```\r\n@XmlRootElement\r\npublic class Waypoint {\r\n    @XmlElement\r\n    private String test;\r\n\r\n     \r\n    public String getTest() {\r\n        return test;\r\n    }\r\n\r\n    public void setTest(String test) {\r\n        this.test = test;\r\n    }\r\n\r\n}\r\n```\r\n\r\nthen in my waypoint service i have my post function:\r\n**WaypointService.java**\r\n```\r\n    @POST\r\n    @Path(&quot;/waypoint&quot;)\r\n    @Consumes(MediaType.APPLICATION_JSON)\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public Waypoint addState(Waypoint waypoint) throws Exception {     \r\n        try { \r\n            return waypoint;       \r\n        } catch (Exception e) { \r\n            logger.log(Level.SEVERE, null, e);\r\n        }\r\n    }\r\n```\r\n\r\nWhen i try to make the post call from postman I receive a 415 error:\r\n[Postman Post request]\r\n      https://i.stack.imgur.com/1IM6u.png\r\n```\r\nContent-Type: application/json \r\nAccept: application/json\r\n```\r\n\r\nAlso here are the main dependencies i have installed:\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\r\n            &lt;version&gt;3.04&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glashfish.jersey.media&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-media-moxy&lt;/artifactId&gt;\r\n            &lt;version&gt;3.04&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n     \r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\r\n            &lt;version&gt;3.04&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-servlet&lt;/artifactId&gt;\r\n            &lt;version&gt;1.19&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nAny help with this issue would be nice, I&#39;ve been stuck on this issue for some time and look up a lot of videos/forum help and still havent been able to find out the problem. \r\n **Just to clarify!**\r\nI have a post request sending in json data in the body, and I just want it to recieve the data and output it back (just for testing purposes). \r\n\r\n  ","title":"Java Jersey Consume Response is giving back 415 (unsupported media type)","body":"<p>Not sure what I have done wrong. I have my data model</p>\n<p><strong>Waypoint.java:</strong></p>\n<pre><code>@XmlRootElement\npublic class Waypoint {\n    @XmlElement\n    private String test;\n\n     \n    public String getTest() {\n        return test;\n    }\n\n    public void setTest(String test) {\n        this.test = test;\n    }\n\n}\n</code></pre>\n<p>then in my waypoint service i have my post function:\n<strong>WaypointService.java</strong></p>\n<pre><code>    @POST\n    @Path(&quot;/waypoint&quot;)\n    @Consumes(MediaType.APPLICATION_JSON)\n    @Produces(MediaType.APPLICATION_JSON)\n    public Waypoint addState(Waypoint waypoint) throws Exception {     \n        try { \n            return waypoint;       \n        } catch (Exception e) { \n            logger.log(Level.SEVERE, null, e);\n        }\n    }\n</code></pre>\n<p>When i try to make the post call from postman I receive a 415 error:\n[Postman Post request]\n<a href=\"https://i.stack.imgur.com/1IM6u.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/1IM6u.png</a></p>\n<pre><code>Content-Type: application/json \nAccept: application/json\n</code></pre>\n<p>Also here are the main dependencies i have installed:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n            &lt;version&gt;3.04&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glashfish.jersey.media&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-media-moxy&lt;/artifactId&gt;\n            &lt;version&gt;3.04&lt;/version&gt;\n        &lt;/dependency&gt;\n     \n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\n            &lt;version&gt;3.04&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-servlet&lt;/artifactId&gt;\n            &lt;version&gt;1.19&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Any help with this issue would be nice, I've been stuck on this issue for some time and look up a lot of videos/forum help and still havent been able to find out the problem.\n<strong>Just to clarify!</strong>\nI have a post request sending in json data in the body, and I just want it to recieve the data and output it back (just for testing purposes).</p>\n"},{"tags":["java","android","firebase","firebase-authentication"],"answers":[{"tags":[],"owner":{"account_id":13416183,"reputation":184,"user_id":9680605,"display_name":"Aman Khandelwal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1526193556,"creation_date":1526193556,"answer_id":50313433,"question_id":50313124,"body_markdown":"i have use this code and its working fine.and also check your firebase authentication rule part where must be email and password enable .\r\n\r\n\r\n        FirebaseAuth mAuth;\r\n          mAuth = FirebaseAuth.getInstance();\r\n\r\n\r\n       final String email=username.getText().toString();\r\n            final String password=pass.getText().toString();\r\n            Log.d(&quot;12345&quot;,email+password);\r\n            if(email.equals(&quot;&quot;)||password.equals(&quot;&quot;))\r\n                Toast.makeText(LogIn.this,&quot;Fill both&quot;,Toast.LENGTH_SHORT).show();\r\n            else\r\n            {\r\n                mProgressDialog.setMessage(&quot;Login....&quot;);\r\n                mProgressDialog.show();\r\n                mAuth.signInWithEmailAndPassword(email, password)\r\n                        .addOnCompleteListener(LogIn.this, new OnCompleteListener&lt;AuthResult&gt;() {\r\n                            @Override\r\n                            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                                if (task.isSuccessful()) {\r\n                                    // Sign in success, update UI with the signed-in user&#39;s information\r\n                                    Log.d(&quot;12345&quot;, &quot;signInWithEmail:success&quot;);\r\n                             \r\n                             \r\n                                        Toast.makeText(LogIn.this,&quot;valid email&quot;,Toast.LENGTH_LONG).show();\r\n                             \r\n                                    mProgressDialog.dismiss();\r\n                                    //updateUI(user);\r\n                                } else {\r\n                                    // If sign in fails, display a message to the user.\r\n                                    Log.w(&quot;12345&quot;, &quot;signInWithEmail:failure&quot;, task.getException());\r\n                                    mProgressDialog.dismiss();\r\n                                    Toast.makeText(LogIn.this, &quot;Authentication failed.&quot;,\r\n                                            Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            }\r\n                        });\r\n            }\r\n\r\n\r\n","title":"Android: Firebase LogIn failed password is invalid or the user does not have a password","body":"<p>i have use this code and its working fine.and also check your firebase authentication rule part where must be email and password enable .</p>\n\n<pre><code>    FirebaseAuth mAuth;\n      mAuth = FirebaseAuth.getInstance();\n\n\n   final String email=username.getText().toString();\n        final String password=pass.getText().toString();\n        Log.d(\"12345\",email+password);\n        if(email.equals(\"\")||password.equals(\"\"))\n            Toast.makeText(LogIn.this,\"Fill both\",Toast.LENGTH_SHORT).show();\n        else\n        {\n            mProgressDialog.setMessage(\"Login....\");\n            mProgressDialog.show();\n            mAuth.signInWithEmailAndPassword(email, password)\n                    .addOnCompleteListener(LogIn.this, new OnCompleteListener&lt;AuthResult&gt;() {\n                        @Override\n                        public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                            if (task.isSuccessful()) {\n                                // Sign in success, update UI with the signed-in user's information\n                                Log.d(\"12345\", \"signInWithEmail:success\");\n\n\n                                    Toast.makeText(LogIn.this,\"valid email\",Toast.LENGTH_LONG).show();\n\n                                mProgressDialog.dismiss();\n                                //updateUI(user);\n                            } else {\n                                // If sign in fails, display a message to the user.\n                                Log.w(\"12345\", \"signInWithEmail:failure\", task.getException());\n                                mProgressDialog.dismiss();\n                                Toast.makeText(LogIn.this, \"Authentication failed.\",\n                                        Toast.LENGTH_SHORT).show();\n                            }\n                        }\n                    });\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10289707,"reputation":71,"user_id":7591801,"display_name":"Vicky"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1541696151,"creation_date":1541593341,"answer_id":53189400,"question_id":50313124,"body_markdown":"I&#39;d the same problem only to realize later that the I&#39;d initialized the password field with a wrong resource id. Make sure these are correct        ","title":"Android: Firebase LogIn failed password is invalid or the user does not have a password","body":"<p>I'd the same problem only to realize later that the I'd initialized the password field with a wrong resource id. Make sure these are correct        </p>\n"},{"tags":[],"owner":{"account_id":7458238,"reputation":6066,"user_id":5670752,"display_name":"Taslim Oseni"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1602089016,"creation_date":1602089016,"answer_id":64248590,"question_id":50313124,"body_markdown":"**TL;DR:**\r\n\r\nCheck that you are passing a string value and not a reference to your EditText.\r\n\r\n**Verbose:**\r\n\r\nIn my case, the problem was that I was passing an Edittext reference as the password parameter in `FirebaseAuth.createUserWithEmailAndPassword()` instead of a String. To put it in context, I was doing:\r\n\r\n    mAuth.createUserWithEmailAndPassword(validEmail, edittext.text)\r\ninstead of \r\n\r\n    mAuth.createUserWithEmailAndPassword(validEmail, edittext.text.toString())\r\n\r\nA lot of users had already been created with an `edittext.text` reference instead of the password they inputted. That was why they were getting the error anytime they tried to log in with the password they actually chose.","title":"Android: Firebase LogIn failed password is invalid or the user does not have a password","body":"<p><strong>TL;DR:</strong></p>\n<p>Check that you are passing a string value and not a reference to your EditText.</p>\n<p><strong>Verbose:</strong></p>\n<p>In my case, the problem was that I was passing an Edittext reference as the password parameter in <code>FirebaseAuth.createUserWithEmailAndPassword()</code> instead of a String. To put it in context, I was doing:</p>\n<pre><code>mAuth.createUserWithEmailAndPassword(validEmail, edittext.text)\n</code></pre>\n<p>instead of</p>\n<pre><code>mAuth.createUserWithEmailAndPassword(validEmail, edittext.text.toString())\n</code></pre>\n<p>A lot of users had already been created with an <code>edittext.text</code> reference instead of the password they inputted. That was why they were getting the error anytime they tried to log in with the password they actually chose.</p>\n"}],"owner":{"account_id":12920203,"reputation":65,"user_id":9342972,"display_name":"Grigory Shimichev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10897,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1647714417,"creation_date":1526190224,"question_id":50313124,"body_markdown":"I&#39;m trying to create a simple app with user&#39;s profile&#39;s using firebase and I&#39;ve got a problem. Sign Up function works well and I can see registered accounts in my Firebase console, but Sign In doesn&#39;t works well. I&#39;ve got &quot;password is invalid or the user does not have a password.&quot; exception. Can anyone help me with this please. My method to LogIn typed below.\r\n\r\n     private void userLogin(){\r\n        String email = emailText.getText().toString().trim();\r\n        String password = passwordText.getText().toString().trim();\r\n\r\n\r\n        if (TextUtils.isEmpty(email)){\r\n            Toast.makeText(this,&quot;Please enter email&quot;, Toast.LENGTH_SHORT).show();\r\n            return;\r\n        }\r\n        if (TextUtils.isEmpty(password)) {\r\n            Toast.makeText(this,&quot;Please enter password&quot;, Toast.LENGTH_SHORT).show();\r\n            return;\r\n        }\r\n        firebaseAuth.signInWithEmailAndPassword(email, password)\r\n                .addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                       if(task.isSuccessful()){\r\n                           Toast.makeText(LogIn.this,&quot;You are logged in&quot;, Toast.LENGTH_SHORT).show();\r\n                       }\r\n                       else{\r\n                           Toast.makeText(LogIn.this,&quot;MISTAKE&quot;, Toast.LENGTH_SHORT).show();\r\n                           Log.d(&quot;z&quot;, &quot;onComplete: Failed=&quot; + task.getException().getMessage());\r\n                       }\r\n                    }\r\n                });\r\n    }\r\nLogCat:\r\n\r\n        05-13 04:49:17.944 10714-10714/? I/art: Not late-enabling -Xcheck:jni (already on)\r\n    05-13 04:49:17.944 10714-10714/? W/art: Unexpected CPU variant for X86 using defaults: x86\r\n    05-13 04:49:17.964 10714-10721/? E/art: Failed sending reply to debugger: Broken pipe\r\n    05-13 04:49:17.964 10714-10721/? I/art: Debugger is no longer active\r\n        Starting a blocking GC Instrumentation\r\n    05-13 04:49:18.144 10714-10714/? W/System: ClassLoader referenced unknown path: /data/app/com.example.gmachine.mychat-1/lib/x86\r\n    05-13 04:49:18.231 10714-10714/? D/FirebaseAuth: Notifying id token listeners about user ( KUXl4u7sy6OdwE0P3fmCRWyHugz1 ).\r\n    05-13 04:49:18.250 10714-10714/? D/FirebaseAuth: Notifying id token listeners about user ( KUXl4u7sy6OdwE0P3fmCRWyHugz1 ).\r\n    05-13 04:49:18.258 10714-10714/? D/FirebaseApp: com.google.firebase.crash.FirebaseCrash is not linked. Skipping initialization.\r\n    05-13 04:49:18.324 10714-10714/? V/FA: Registered activity lifecycle callback\r\n    05-13 04:49:18.328 10714-10714/? I/FirebaseInitProvider: FirebaseApp initialization successful\r\n    05-13 04:49:18.333 10714-10714/? I/InstantRun: starting instant run server: is main process\r\n    05-13 04:49:18.354 10714-10738/? V/FA: Collection enabled\r\n        App package, google app id: com.example.gmachine.mychat, 1:411464926772:android:67ab72bb5465b580\r\n    05-13 04:49:18.354 10714-10738/? I/FA: App measurement is starting up, version: 12451\r\n        To enable debug logging run: adb shell setprop log.tag.FA VERBOSE\r\n    05-13 04:49:18.355 10714-10738/? I/FA: To enable faster debug mode event logging run:\r\n          adb shell setprop debug.firebase.analytics.app com.example.gmachine.mychat\r\n    05-13 04:49:18.355 10714-10738/? D/FA: Debug-level message logging enabled\r\n    05-13 04:49:18.372 10714-10738/? V/FA: Cancelling job. JobID: 67470213\r\n    05-13 04:49:18.424 10714-10714/? W/art: Before Android 4.1, method android.graphics.PorterDuffColorFilter android.support.graphics.drawable.VectorDrawableCompat.updateTintFilter(android.graphics.PorterDuffColorFilter, android.content.res.ColorStateList, android.graphics.PorterDuff$Mode) would have incorrectly overridden the package-private method in android.graphics.drawable.Drawable\r\n    05-13 04:49:18.430 10714-10738/? V/FA: Connecting to remote service\r\n    05-13 04:49:18.432 10714-10714/? V/FA: onActivityCreated\r\n    05-13 04:49:18.503 10714-10738/? V/FA: Connection attempt already in progress\r\n    05-13 04:49:18.590 10714-10738/? I/FA: Tag Manager is not found and thus will not be used\r\n    05-13 04:49:18.600 10714-10738/? D/FA: Logging event (FE): screen_view(_vs), Bundle[{firebase_event_origin(_o)=auto, firebase_screen_class(_sc)=LogIn, firebase_screen_id(_si)=-7531630852293217533}]\r\n    05-13 04:49:18.617 10714-10738/? V/FA: Connection attempt already in progress\r\n    05-13 04:49:18.618 10714-10738/? V/FA: Connection attempt already in progress\r\n    05-13 04:49:18.622 10714-10738/? V/FA: Activity resumed, time: 28255253\r\n    05-13 04:49:18.650 10714-10714/? D/FirebaseApp: Notifying auth state listeners.\r\n        Notified 0 auth state listeners.\r\n    05-13 04:49:18.651 10714-10714/? D/FirebaseApp: Notifying auth state listeners.\r\n        Notified 0 auth state listeners.\r\n    05-13 04:49:18.736 10714-10743/? I/OpenGLRenderer: Initialized EGL, version 1.4\r\n    05-13 04:49:18.736 10714-10743/? D/OpenGLRenderer: Swap behavior 1\r\n    05-13 04:49:18.737 10714-10743/? W/OpenGLRenderer: Failed to choose config with EGL_SWAP_BEHAVIOR_PRESERVED, retrying without...\r\n    05-13 04:49:18.737 10714-10743/? D/OpenGLRenderer: Swap behavior 0\r\n    05-13 04:49:18.758 10714-10743/? D/EGL_emulation: eglCreateContext: 0xa9b858a0: maj 2 min 0 rcv 2\r\n    05-13 04:49:18.818 10714-10743/? D/EGL_emulation: eglMakeCurrent: 0xa9b858a0: ver 2 0 (tinfo 0x8c54b1d0)\r\n    05-13 04:49:18.858 10714-10714/? W/art: Before Android 4.1, method int android.support.v7.widget.DropDownListView.lookForSelectablePosition(int, boolean) would have incorrectly overridden the package-private method in android.widget.ListView\r\n    05-13 04:49:18.866 10714-10743/? D/EGL_emulation: eglMakeCurrent: 0xa9b858a0: ver 2 0 (tinfo 0x8c54b1d0)\r\n    05-13 04:49:18.991 10714-10738/com.example.gmachine.mychat D/FA: Connected to remote service\r\n    05-13 04:49:18.991 10714-10738/com.example.gmachine.mychat V/FA: Processing queued up service tasks: 4\r\n    05-13 04:49:24.124 10714-10738/com.example.gmachine.mychat V/FA: Inactivity, disconnecting from the service\r\n    05-13 04:49:28.720 10714-10719/com.example.gmachine.mychat I/art: Do partial code cache collection, code=27KB, data=29KB\r\n    05-13 04:49:28.722 10714-10719/com.example.gmachine.mychat I/art: After code cache collection, code=27KB, data=29KB\r\n        Increasing code cache capacity to 128KB\r\n    05-13 04:49:30.937 10714-10714/com.example.gmachine.mychat W/IInputConnectionWrapper: finishComposingText on inactive InputConnection\r\n    05-13 04:49:33.192 10714-10719/com.example.gmachine.mychat I/art: Do partial code cache collection, code=62KB, data=55KB\r\n        After code cache collection, code=62KB, data=55KB\r\n        Increasing code cache capacity to 256KB\r\n    05-13 04:49:34.038 10714-10714/com.example.gmachine.mychat W/IInputConnectionWrapper: finishComposingText on inactive InputConnection\r\n    05-13 04:49:38.664 10714-10714/com.example.gmachine.mychat W/System: ClassLoader referenced unknown path: /system/priv-app/PrebuiltGmsCore/lib/x86\r\n    05-13 04:49:38.664 10714-10714/com.example.gmachine.mychat D/ApplicationLoaders: ignored Vulkan layer search path /system/priv-app/PrebuiltGmsCore/lib/x86:/system/fake-libs:/system/priv-app/PrebuiltGmsCore/PrebuiltGmsCore.apk!/lib/x86:/system/lib:/vendor/lib for namespace 0xa9d54090\r\n    05-13 04:49:38.695 10714-10714/com.example.gmachine.mychat W/DynamiteModule: Local module descriptor class for com.google.firebase.auth not found.\r\n    05-13 04:49:38.695 10714-10714/com.example.gmachine.mychat W/BiChannelGoogleApi: [FirebaseAuth: ] getGoogleApiForMethod() returned Gms: com.google.firebase.auth.api.internal.zzal@1b80aea\r\n    05-13 04:49:38.717 10714-10988/com.example.gmachine.mychat W/DynamiteModule: Local module descriptor class for com.google.firebase.auth not found.\r\n    05-13 04:49:38.723 10714-10988/com.example.gmachine.mychat I/FirebaseAuth: [FirebaseAuth:] Loading module via FirebaseOptions.\r\n        [FirebaseAuth:] Preparing to create service connection to gms implementation\r\n    05-13 04:49:39.351 10714-10714/com.example.gmachine.mychat D/z: onComplete: Failed=The password is invalid or the user does not have a password.\r\n    05-13 04:49:39.493 10714-10743/com.example.gmachine.mychat D/EGL_emulation: eglMakeCurrent: 0xa9b858a0: ver 2 0 (tinfo 0x8c54b1d0)\r\n    05-13 04:49:39.529 10714-10743/com.example.gmachine.mychat D/EGL_emulation: eglMakeCurrent: 0xa9b858a0: ver 2 0 (tinfo 0x8c54b1d0)\r\n    05-13 04:54:38.844 10714-10988/com.example.gmachine.mychat I/FirebaseAuth: [FirebaseAuth:] Loading module via FirebaseOptions.\r\n        [FirebaseAuth:] Preparing to create service connection to gms implementation\r\n    05-13 05:02:01.317 10714-10739/com.example.gmachine.mychat W/System: ClassLoader referenced unknown path: /data/data/com.example.gmachine.mychat/lib\r\n    05-13 05:02:01.346 10714-19878/com.example.gmachine.mychat V/FA: Recording user engagement, ms: 762757\r\n    05-13 05:02:01.347 10714-19878/com.example.gmachine.mychat V/FA: Connecting to remote service\r\n    05-13 05:02:01.348 10714-19878/com.example.gmachine.mychat V/FA: Activity paused, time: 29018004\r\n    05-13 05:02:01.408 10714-10743/com.example.gmachine.mychat D/EGL_emulation: eglMakeCurrent: 0xa9b858a0: ver 2 0 (tinfo 0x8c54b1d0)\r\n    05-13 05:02:01.416 10714-19878/com.example.gmachine.mychat D/FA: Logging event (FE): user_engagement(_e), Bundle[{firebase_event_origin(_o)=auto, engagement_time_msec(_et)=762757, firebase_screen_class(_sc)=LogIn, firebase_screen_id(_si)=-7531630852293217533}]\r\n    05-13 05:02:01.535 10714-10714/com.example.gmachine.mychat V/FA: onActivityCreated\r\n    05-13 05:02:01.538 10714-19878/com.example.gmachine.mychat V/FA: Connection attempt already in progress\r\n    05-13 05:02:01.663 10714-19878/com.example.gmachine.mychat V/FA: Connection attempt already in progress\r\n        Activity resumed, time: 29018325\r\n    05-13 05:02:02.308 10714-19878/com.example.gmachine.mychat D/FA: Connected to remote service\r\n    05-13 05:02:02.308 10714-19878/com.example.gmachine.mychat V/FA: Processing queued up service tasks: 3\r\n    05-13 05:02:02.310 10714-10714/com.example.gmachine.mychat I/Choreographer: Skipped 33 frames!  The application may be doing too much work on its main thread.\r\n    05-13 05:02:02.317 10714-10743/com.example.gmachine.mychat D/EGL_emulation: eglMakeCurrent: 0xa9b858a0: ver 2 0 (tinfo 0x8c54b1d0)\r\n    05-13 05:02:02.380 10714-10743/com.example.gmachine.mychat D/EGL_emulation: eglMakeCurrent: 0xa9b858a0: ver 2 0 (tinfo 0x8c54b1d0)\r\n    05-13 05:02:02.393 10714-10743/com.example.gmachine.mychat D/EGL_emulation: eglMakeCurrent: 0xa9b858a0: ver 2 0 (tinfo 0x8c54b1d0)\r\n    05-13 05:02:07.340 10714-19878/com.example.gmachine.mychat V/FA: Inactivity, disconnecting from the service\r\n    05-13 05:02:11.505 10714-10743/com.example.gmachine.mychat D/EGL_emulation: eglMakeCurrent: 0xa9b858a0: ver 2 0 (tinfo 0x8c54b1d0)\r\n    05-13 05:02:11.772 10714-10743/com.example.gmachine.mychat D/EGL_emulation: eglMakeCurrent: 0xa9b858a0: ver 2 0 (tinfo 0x8c54b1d0)\r\n    05-13 05:02:13.726 10714-10743/com.example.gmachine.mychat D/EGL_emulation: eglMakeCurrent: 0xa9b858a0: ver 2 0 (tinfo 0x8c54b1d0)\r\n    05-13 05:02:14.138 10714-10743/com.example.gmachine.mychat D/EGL_emulation: eglMakeCurrent: 0xa9b858a0: ver 2 0 (tinfo 0x8c54b1d0)\r\n    05-13 05:02:29.855 10714-10714/com.example.gmachine.mychat W/IInputConnectionWrapper: finishComposingText on inactive InputConnection\r\n    05-13 05:02:29.940 10714-10743/com.example.gmachine.mychat D/EGL_emulation: eglMakeCurrent: 0xa9b858a0: ver 2 0 (tinfo 0x8c54b1d0)\r\n    05-13 05:02:30.353 10714-10743/com.example.gmachine.mychat D/EGL_emulation: eglMakeCurrent: 0xa9b858a0: ver 2 0 (tinfo 0x8c54b1d0)\r\n    05-13 05:02:33.796 10714-10714/com.example.gmachine.mychat W/BiChannelGoogleApi: [FirebaseAuth: ] getGoogleApiForMethod() returned Gms: com.google.firebase.auth.api.internal.zzal@1b80aea\r\n    05-13 05:02:33.797 10714-10988/com.example.gmachine.mychat W/DynamiteModule: Local module descriptor class for com.google.firebase.auth not found.\r\n    05-13 05:02:33.797 10714-10988/com.example.gmachine.mychat I/FirebaseAuth: [FirebaseAuth:] Loading module via FirebaseOptions.\r\n        [FirebaseAuth:] Preparing to create service connection to gms implementation\r\n    05-13 05:02:34.840 10714-10714/com.example.gmachine.mychat D/z: onComplete: Failed=The password is invalid or the user does not have a password.\r\n    05-13 05:02:34.889 10714-10743/com.example.gmachine.mychat D/EGL_emulation: eglMakeCurrent: 0xa9b858a0: ver 2 0 (tinfo 0x8c54b1d0)\r\n    05-13 05:02:34.913 10714-10743/com.example.gmachine.mychat D/EGL_emulation: eglMakeCurrent: 0xa9b858a0: ver 2 0 (tinfo 0x8c54b1d0)\r\n    05-13 05:07:33.860 10714-10988/com.example.gmachine.mychat I/FirebaseAuth: [FirebaseAuth:] Loading module via FirebaseOptions.\r\n        [FirebaseAuth:] Preparing to create service connection to gms implementation\r\n\r\n\r\n","title":"Android: Firebase LogIn failed password is invalid or the user does not have a password","body":"<p>I'm trying to create a simple app with user's profile's using firebase and I've got a problem. Sign Up function works well and I can see registered accounts in my Firebase console, but Sign In doesn't works well. I've got \"password is invalid or the user does not have a password.\" exception. Can anyone help me with this please. My method to LogIn typed below.</p>\n\n<pre><code> private void userLogin(){\n    String email = emailText.getText().toString().trim();\n    String password = passwordText.getText().toString().trim();\n\n\n    if (TextUtils.isEmpty(email)){\n        Toast.makeText(this,\"Please enter email\", Toast.LENGTH_SHORT).show();\n        return;\n    }\n    if (TextUtils.isEmpty(password)) {\n        Toast.makeText(this,\"Please enter password\", Toast.LENGTH_SHORT).show();\n        return;\n    }\n    firebaseAuth.signInWithEmailAndPassword(email, password)\n            .addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                   if(task.isSuccessful()){\n                       Toast.makeText(LogIn.this,\"You are logged in\", Toast.LENGTH_SHORT).show();\n                   }\n                   else{\n                       Toast.makeText(LogIn.this,\"MISTAKE\", Toast.LENGTH_SHORT).show();\n                       Log.d(\"z\", \"onComplete: Failed=\" + task.getException().getMessage());\n                   }\n                }\n            });\n}\n</code></pre>\n\n<p>LogCat:</p>\n\n<pre><code>    05-13 04:49:17.944 10714-10714/? I/art: Not late-enabling -Xcheck:jni (already on)\n05-13 04:49:17.944 10714-10714/? W/art: Unexpected CPU variant for X86 using defaults: x86\n05-13 04:49:17.964 10714-10721/? E/art: Failed sending reply to debugger: Broken pipe\n05-13 04:49:17.964 10714-10721/? I/art: Debugger is no longer active\n    Starting a blocking GC Instrumentation\n05-13 04:49:18.144 10714-10714/? W/System: ClassLoader referenced unknown path: /data/app/com.example.gmachine.mychat-1/lib/x86\n05-13 04:49:18.231 10714-10714/? D/FirebaseAuth: Notifying id token listeners about user ( KUXl4u7sy6OdwE0P3fmCRWyHugz1 ).\n05-13 04:49:18.250 10714-10714/? D/FirebaseAuth: Notifying id token listeners about user ( KUXl4u7sy6OdwE0P3fmCRWyHugz1 ).\n05-13 04:49:18.258 10714-10714/? D/FirebaseApp: com.google.firebase.crash.FirebaseCrash is not linked. Skipping initialization.\n05-13 04:49:18.324 10714-10714/? V/FA: Registered activity lifecycle callback\n05-13 04:49:18.328 10714-10714/? I/FirebaseInitProvider: FirebaseApp initialization successful\n05-13 04:49:18.333 10714-10714/? I/InstantRun: starting instant run server: is main process\n05-13 04:49:18.354 10714-10738/? V/FA: Collection enabled\n    App package, google app id: com.example.gmachine.mychat, 1:411464926772:android:67ab72bb5465b580\n05-13 04:49:18.354 10714-10738/? I/FA: App measurement is starting up, version: 12451\n    To enable debug logging run: adb shell setprop log.tag.FA VERBOSE\n05-13 04:49:18.355 10714-10738/? I/FA: To enable faster debug mode event logging run:\n      adb shell setprop debug.firebase.analytics.app com.example.gmachine.mychat\n05-13 04:49:18.355 10714-10738/? D/FA: Debug-level message logging enabled\n05-13 04:49:18.372 10714-10738/? V/FA: Cancelling job. JobID: 67470213\n05-13 04:49:18.424 10714-10714/? W/art: Before Android 4.1, method android.graphics.PorterDuffColorFilter android.support.graphics.drawable.VectorDrawableCompat.updateTintFilter(android.graphics.PorterDuffColorFilter, android.content.res.ColorStateList, android.graphics.PorterDuff$Mode) would have incorrectly overridden the package-private method in android.graphics.drawable.Drawable\n05-13 04:49:18.430 10714-10738/? V/FA: Connecting to remote service\n05-13 04:49:18.432 10714-10714/? V/FA: onActivityCreated\n05-13 04:49:18.503 10714-10738/? V/FA: Connection attempt already in progress\n05-13 04:49:18.590 10714-10738/? I/FA: Tag Manager is not found and thus will not be used\n05-13 04:49:18.600 10714-10738/? D/FA: Logging event (FE): screen_view(_vs), Bundle[{firebase_event_origin(_o)=auto, firebase_screen_class(_sc)=LogIn, firebase_screen_id(_si)=-7531630852293217533}]\n05-13 04:49:18.617 10714-10738/? V/FA: Connection attempt already in progress\n05-13 04:49:18.618 10714-10738/? V/FA: Connection attempt already in progress\n05-13 04:49:18.622 10714-10738/? V/FA: Activity resumed, time: 28255253\n05-13 04:49:18.650 10714-10714/? D/FirebaseApp: Notifying auth state listeners.\n    Notified 0 auth state listeners.\n05-13 04:49:18.651 10714-10714/? D/FirebaseApp: Notifying auth state listeners.\n    Notified 0 auth state listeners.\n05-13 04:49:18.736 10714-10743/? I/OpenGLRenderer: Initialized EGL, version 1.4\n05-13 04:49:18.736 10714-10743/? D/OpenGLRenderer: Swap behavior 1\n05-13 04:49:18.737 10714-10743/? W/OpenGLRenderer: Failed to choose config with EGL_SWAP_BEHAVIOR_PRESERVED, retrying without...\n05-13 04:49:18.737 10714-10743/? D/OpenGLRenderer: Swap behavior 0\n05-13 04:49:18.758 10714-10743/? D/EGL_emulation: eglCreateContext: 0xa9b858a0: maj 2 min 0 rcv 2\n05-13 04:49:18.818 10714-10743/? D/EGL_emulation: eglMakeCurrent: 0xa9b858a0: ver 2 0 (tinfo 0x8c54b1d0)\n05-13 04:49:18.858 10714-10714/? W/art: Before Android 4.1, method int android.support.v7.widget.DropDownListView.lookForSelectablePosition(int, boolean) would have incorrectly overridden the package-private method in android.widget.ListView\n05-13 04:49:18.866 10714-10743/? D/EGL_emulation: eglMakeCurrent: 0xa9b858a0: ver 2 0 (tinfo 0x8c54b1d0)\n05-13 04:49:18.991 10714-10738/com.example.gmachine.mychat D/FA: Connected to remote service\n05-13 04:49:18.991 10714-10738/com.example.gmachine.mychat V/FA: Processing queued up service tasks: 4\n05-13 04:49:24.124 10714-10738/com.example.gmachine.mychat V/FA: Inactivity, disconnecting from the service\n05-13 04:49:28.720 10714-10719/com.example.gmachine.mychat I/art: Do partial code cache collection, code=27KB, data=29KB\n05-13 04:49:28.722 10714-10719/com.example.gmachine.mychat I/art: After code cache collection, code=27KB, data=29KB\n    Increasing code cache capacity to 128KB\n05-13 04:49:30.937 10714-10714/com.example.gmachine.mychat W/IInputConnectionWrapper: finishComposingText on inactive InputConnection\n05-13 04:49:33.192 10714-10719/com.example.gmachine.mychat I/art: Do partial code cache collection, code=62KB, data=55KB\n    After code cache collection, code=62KB, data=55KB\n    Increasing code cache capacity to 256KB\n05-13 04:49:34.038 10714-10714/com.example.gmachine.mychat W/IInputConnectionWrapper: finishComposingText on inactive InputConnection\n05-13 04:49:38.664 10714-10714/com.example.gmachine.mychat W/System: ClassLoader referenced unknown path: /system/priv-app/PrebuiltGmsCore/lib/x86\n05-13 04:49:38.664 10714-10714/com.example.gmachine.mychat D/ApplicationLoaders: ignored Vulkan layer search path /system/priv-app/PrebuiltGmsCore/lib/x86:/system/fake-libs:/system/priv-app/PrebuiltGmsCore/PrebuiltGmsCore.apk!/lib/x86:/system/lib:/vendor/lib for namespace 0xa9d54090\n05-13 04:49:38.695 10714-10714/com.example.gmachine.mychat W/DynamiteModule: Local module descriptor class for com.google.firebase.auth not found.\n05-13 04:49:38.695 10714-10714/com.example.gmachine.mychat W/BiChannelGoogleApi: [FirebaseAuth: ] getGoogleApiForMethod() returned Gms: com.google.firebase.auth.api.internal.zzal@1b80aea\n05-13 04:49:38.717 10714-10988/com.example.gmachine.mychat W/DynamiteModule: Local module descriptor class for com.google.firebase.auth not found.\n05-13 04:49:38.723 10714-10988/com.example.gmachine.mychat I/FirebaseAuth: [FirebaseAuth:] Loading module via FirebaseOptions.\n    [FirebaseAuth:] Preparing to create service connection to gms implementation\n05-13 04:49:39.351 10714-10714/com.example.gmachine.mychat D/z: onComplete: Failed=The password is invalid or the user does not have a password.\n05-13 04:49:39.493 10714-10743/com.example.gmachine.mychat D/EGL_emulation: eglMakeCurrent: 0xa9b858a0: ver 2 0 (tinfo 0x8c54b1d0)\n05-13 04:49:39.529 10714-10743/com.example.gmachine.mychat D/EGL_emulation: eglMakeCurrent: 0xa9b858a0: ver 2 0 (tinfo 0x8c54b1d0)\n05-13 04:54:38.844 10714-10988/com.example.gmachine.mychat I/FirebaseAuth: [FirebaseAuth:] Loading module via FirebaseOptions.\n    [FirebaseAuth:] Preparing to create service connection to gms implementation\n05-13 05:02:01.317 10714-10739/com.example.gmachine.mychat W/System: ClassLoader referenced unknown path: /data/data/com.example.gmachine.mychat/lib\n05-13 05:02:01.346 10714-19878/com.example.gmachine.mychat V/FA: Recording user engagement, ms: 762757\n05-13 05:02:01.347 10714-19878/com.example.gmachine.mychat V/FA: Connecting to remote service\n05-13 05:02:01.348 10714-19878/com.example.gmachine.mychat V/FA: Activity paused, time: 29018004\n05-13 05:02:01.408 10714-10743/com.example.gmachine.mychat D/EGL_emulation: eglMakeCurrent: 0xa9b858a0: ver 2 0 (tinfo 0x8c54b1d0)\n05-13 05:02:01.416 10714-19878/com.example.gmachine.mychat D/FA: Logging event (FE): user_engagement(_e), Bundle[{firebase_event_origin(_o)=auto, engagement_time_msec(_et)=762757, firebase_screen_class(_sc)=LogIn, firebase_screen_id(_si)=-7531630852293217533}]\n05-13 05:02:01.535 10714-10714/com.example.gmachine.mychat V/FA: onActivityCreated\n05-13 05:02:01.538 10714-19878/com.example.gmachine.mychat V/FA: Connection attempt already in progress\n05-13 05:02:01.663 10714-19878/com.example.gmachine.mychat V/FA: Connection attempt already in progress\n    Activity resumed, time: 29018325\n05-13 05:02:02.308 10714-19878/com.example.gmachine.mychat D/FA: Connected to remote service\n05-13 05:02:02.308 10714-19878/com.example.gmachine.mychat V/FA: Processing queued up service tasks: 3\n05-13 05:02:02.310 10714-10714/com.example.gmachine.mychat I/Choreographer: Skipped 33 frames!  The application may be doing too much work on its main thread.\n05-13 05:02:02.317 10714-10743/com.example.gmachine.mychat D/EGL_emulation: eglMakeCurrent: 0xa9b858a0: ver 2 0 (tinfo 0x8c54b1d0)\n05-13 05:02:02.380 10714-10743/com.example.gmachine.mychat D/EGL_emulation: eglMakeCurrent: 0xa9b858a0: ver 2 0 (tinfo 0x8c54b1d0)\n05-13 05:02:02.393 10714-10743/com.example.gmachine.mychat D/EGL_emulation: eglMakeCurrent: 0xa9b858a0: ver 2 0 (tinfo 0x8c54b1d0)\n05-13 05:02:07.340 10714-19878/com.example.gmachine.mychat V/FA: Inactivity, disconnecting from the service\n05-13 05:02:11.505 10714-10743/com.example.gmachine.mychat D/EGL_emulation: eglMakeCurrent: 0xa9b858a0: ver 2 0 (tinfo 0x8c54b1d0)\n05-13 05:02:11.772 10714-10743/com.example.gmachine.mychat D/EGL_emulation: eglMakeCurrent: 0xa9b858a0: ver 2 0 (tinfo 0x8c54b1d0)\n05-13 05:02:13.726 10714-10743/com.example.gmachine.mychat D/EGL_emulation: eglMakeCurrent: 0xa9b858a0: ver 2 0 (tinfo 0x8c54b1d0)\n05-13 05:02:14.138 10714-10743/com.example.gmachine.mychat D/EGL_emulation: eglMakeCurrent: 0xa9b858a0: ver 2 0 (tinfo 0x8c54b1d0)\n05-13 05:02:29.855 10714-10714/com.example.gmachine.mychat W/IInputConnectionWrapper: finishComposingText on inactive InputConnection\n05-13 05:02:29.940 10714-10743/com.example.gmachine.mychat D/EGL_emulation: eglMakeCurrent: 0xa9b858a0: ver 2 0 (tinfo 0x8c54b1d0)\n05-13 05:02:30.353 10714-10743/com.example.gmachine.mychat D/EGL_emulation: eglMakeCurrent: 0xa9b858a0: ver 2 0 (tinfo 0x8c54b1d0)\n05-13 05:02:33.796 10714-10714/com.example.gmachine.mychat W/BiChannelGoogleApi: [FirebaseAuth: ] getGoogleApiForMethod() returned Gms: com.google.firebase.auth.api.internal.zzal@1b80aea\n05-13 05:02:33.797 10714-10988/com.example.gmachine.mychat W/DynamiteModule: Local module descriptor class for com.google.firebase.auth not found.\n05-13 05:02:33.797 10714-10988/com.example.gmachine.mychat I/FirebaseAuth: [FirebaseAuth:] Loading module via FirebaseOptions.\n    [FirebaseAuth:] Preparing to create service connection to gms implementation\n05-13 05:02:34.840 10714-10714/com.example.gmachine.mychat D/z: onComplete: Failed=The password is invalid or the user does not have a password.\n05-13 05:02:34.889 10714-10743/com.example.gmachine.mychat D/EGL_emulation: eglMakeCurrent: 0xa9b858a0: ver 2 0 (tinfo 0x8c54b1d0)\n05-13 05:02:34.913 10714-10743/com.example.gmachine.mychat D/EGL_emulation: eglMakeCurrent: 0xa9b858a0: ver 2 0 (tinfo 0x8c54b1d0)\n05-13 05:07:33.860 10714-10988/com.example.gmachine.mychat I/FirebaseAuth: [FirebaseAuth:] Loading module via FirebaseOptions.\n    [FirebaseAuth:] Preparing to create service connection to gms implementation\n</code></pre>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":3022791,"reputation":1815,"user_id":2563422,"display_name":"clwhisk"},"score":0,"creation_date":1647386714,"post_id":71489847,"comment_id":126357337,"body_markdown":"What do you do differently than a tutorial or another similar existing SO question?","body":"What do you do differently than a tutorial or another similar existing SO question?"},{"owner":{"account_id":24570684,"reputation":1,"user_id":18477154,"display_name":"Rafał Pasternak"},"score":0,"creation_date":1647429899,"post_id":71489847,"comment_id":126367561,"body_markdown":"i literatly copied all code from working fragment to activity and layout adapter etc and no recycler, same for current code copied from tutorial on stack overflow where guy had issue with no adapter despite adding it","body":"i literatly copied all code from working fragment to activity and layout adapter etc and no recycler, same for current code copied from tutorial on stack overflow where guy had issue with no adapter despite adding it"},{"owner":{"account_id":12687470,"reputation":247,"user_id":9218755,"display_name":"Pako1"},"score":0,"creation_date":1647429922,"post_id":71489847,"comment_id":126367572,"body_markdown":"Can you show us the whole code of the activity not only the init method?","body":"Can you show us the whole code of the activity not only the init method?"},{"owner":{"account_id":24570684,"reputation":1,"user_id":18477154,"display_name":"Rafał Pasternak"},"score":0,"creation_date":1647437389,"post_id":71489847,"comment_id":126370562,"body_markdown":"comming right up","body":"comming right up"},{"owner":{"account_id":24570684,"reputation":1,"user_id":18477154,"display_name":"Rafał Pasternak"},"score":0,"creation_date":1647442388,"post_id":71489847,"comment_id":126372801,"body_markdown":"Well i pushed what i had to fragment and it&#39;s working i don&#39;t know why but work around is better than not working at all","body":"Well i pushed what i had to fragment and it&#39;s working i don&#39;t know why but work around is better than not working at all"}],"answers":[{"tags":[],"owner":{"account_id":2711237,"reputation":612,"user_id":2339647,"accept_rate":33,"display_name":"Olcay S&#246;nmez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647714205,"creation_date":1647714205,"answer_id":71540891,"question_id":71489847,"body_markdown":"The problem looks to be the way how you inflate the binding. You are using 2 setContentView in your Activity which seems to be the last that makes the binding not inflate. Can you try this please: \r\n\r\nRemove this code in your activity: \r\n\r\n```\r\nbinding = ActivityCostInvoiceAttachmentsBinding.inflate(layoutInflater)\r\nsetContentView(binding.root)       \r\nsetContentView(R.layout.activity_cost_invoice_attachments)\r\n```\r\nand put this instead:\r\n```\r\nval binding: ActivityCostInvoiceAttachmentsBinding = DataBindingUtil.setContentView(this, R.layout.activity_cost_invoice_attachments)\r\n```\r\n\r\nThis should work. I haven’t tried it but it should work.\r\n\r\nHere is a link about How to inflate binding layout into Activity:\r\nhttps://developer.android.com/topic/libraries/data-binding/expressions#binding_data\r\n ","title":"Cannot initialize recycler view in activity","body":"<p>The problem looks to be the way how you inflate the binding. You are using 2 setContentView in your Activity which seems to be the last that makes the binding not inflate. Can you try this please:</p>\n<p>Remove this code in your activity:</p>\n<pre><code>binding = ActivityCostInvoiceAttachmentsBinding.inflate(layoutInflater)\nsetContentView(binding.root)       \nsetContentView(R.layout.activity_cost_invoice_attachments)\n</code></pre>\n<p>and put this instead:</p>\n<pre><code>val binding: ActivityCostInvoiceAttachmentsBinding = DataBindingUtil.setContentView(this, R.layout.activity_cost_invoice_attachments)\n</code></pre>\n<p>This should work. I haven’t tried it but it should work.</p>\n<p>Here is a link about How to inflate binding layout into Activity:\n<a href=\"https://developer.android.com/topic/libraries/data-binding/expressions#binding_data\" rel=\"nofollow noreferrer\">https://developer.android.com/topic/libraries/data-binding/expressions#binding_data</a></p>\n"}],"owner":{"account_id":24570684,"reputation":1,"user_id":18477154,"display_name":"Rafał Pasternak"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647714205,"creation_date":1647384312,"question_id":71489847,"body_markdown":"please help me, I  am trying to initialize the simplest recycler view from the stack and it&#39;s still resisting.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:minHeight=&quot;100dp&quot;\r\n        tools:context=&quot;.CostInvoiceAttachments&quot;&gt;\r\n    \r\n        &lt;androidx.recyclerview.widget.RecyclerView\r\n            android:id=&quot;@+id/CLI_rows_RV&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            app:layoutManager=&quot;androidx.recyclerview.widget.LinearLayoutManager&quot;\r\n    \r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            tools:itemCount=&quot;5&quot;\r\n            tools:listitem=&quot;@layout/recycler_view_item&quot; /&gt;\r\n    \r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\nitem layout\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n    \r\n        &lt;androidx.cardview.widget.CardView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:cardUseCompatPadding=&quot;true&quot;\r\n            app:cardElevation=&quot;5dp&quot;\r\n            app:cardCornerRadius=&quot;2dp&quot;\r\n            app:cardPreventCornerOverlap=&quot;false&quot;&gt;\r\n    \r\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                android:id=&quot;@+id/CL_Layout_TV&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:minHeight=&quot;100dp&quot;\r\n                android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/CL_Size_TV&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginStart=&quot;8dp&quot;\r\n                    android:layout_marginTop=&quot;8dp&quot;\r\n                    android:layout_marginBottom=&quot;8dp&quot;\r\n                    android:text=&quot;Size&quot;\r\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toEndOf=&quot;@+id/NumberDescription&quot;\r\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/CL_Title_TV&quot; /&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/CL_Date_TV&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginTop=&quot;8dp&quot;\r\n                    android:layout_marginEnd=&quot;8dp&quot;\r\n                    android:layout_marginBottom=&quot;8dp&quot;\r\n                    android:text=&quot;Date&quot;\r\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/CL_Title_TV&quot; /&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/CL_Title_TV&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginStart=&quot;8dp&quot;\r\n                    android:layout_marginTop=&quot;8dp&quot;\r\n                    android:text=&quot;Title&quot;\r\n                    app:layout_constraintStart_toEndOf=&quot;@+id/TitleDescription&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/NumberDescription&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginStart=&quot;8dp&quot;\r\n                    android:layout_marginTop=&quot;8dp&quot;\r\n                    android:layout_marginBottom=&quot;8dp&quot;\r\n                    android:text=&quot;@string/Size_hint&quot;\r\n                    android:textStyle=&quot;bold&quot;\r\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/TitleDescription&quot; /&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/TitleDescription&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginStart=&quot;8dp&quot;\r\n                    android:layout_marginTop=&quot;8dp&quot;\r\n                    android:text=&quot;@string/Name_hint&quot;\r\n                    android:textStyle=&quot;bold&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/DateDescription&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginTop=&quot;8dp&quot;\r\n                    android:layout_marginEnd=&quot;8dp&quot;\r\n                    android:layout_marginBottom=&quot;8dp&quot;\r\n                    android:text=&quot;@string/Date_hint&quot;\r\n                    android:textStyle=&quot;bold&quot;\r\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                    app:layout_constraintEnd_toStartOf=&quot;@+id/CL_Date_TV&quot;\r\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/CL_Title_TV&quot; /&gt;\r\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n        &lt;/androidx.cardview.widget.CardView&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\nAdapter\r\n\r\n    package com.platform.adapters;\r\n    \r\n    import android.app.Activity;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import com.platform.R;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    \r\n    import java.util.ArrayList;\r\n    \r\n    public class MenuRecAdapter extends RecyclerView.Adapter&lt;RecViewHolder&gt;{\r\n    \r\n        private ArrayList&lt;String&gt; mList = new ArrayList&lt;&gt;();\r\n        Activity context;\r\n    \r\n        public MenuRecAdapter(ArrayList&lt;String&gt; mList){\r\n            this.mList = mList;\r\n        }\r\n    \r\n        public int getItemCount(){\r\n            return mList.size();\r\n        }\r\n    \r\n        public RecViewHolder onCreateViewHolder(ViewGroup viewGroup, int position){\r\n    \r\n            View v = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.cost_invoice_attachments_item, viewGroup, false);\r\n            RecViewHolder pvh = new RecViewHolder(v);\r\n            return pvh;\r\n        }\r\n    \r\n        public void onBindViewHolder(RecViewHolder holder, int i){\r\n            holder.menuTeXT.setText(mList.get(i));\r\n        }\r\n    \r\n        @Override\r\n        public void onAttachedToRecyclerView(RecyclerView recyclerView) {\r\n            super.onAttachedToRecyclerView(recyclerView);\r\n        }\r\n    \r\n    }\r\nView holder\r\n\r\n    package com.platform.adapters;\r\n    \r\n    import android.view.View;\r\n    import android.widget.TextView;\r\n    \r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    \r\n    import com.platform.R;\r\n    \r\n    public class RecViewHolder extends RecyclerView.ViewHolder {\r\n    \r\n        public TextView menuTeXT;\r\n    \r\n        public RecViewHolder(View itemView){\r\n            super(itemView);\r\n    \r\n            menuTeXT = (TextView)itemView.findViewById(R.id.CL_Date_TV);\r\n        }\r\n    }\r\n\r\ninitialization:\r\n\r\n     fun initRecyclerView() {\r\n            val list: ArrayList&lt;String&gt; = ArrayList()\r\n            list.add(&quot;something1&quot;)\r\n            list.add(&quot;something2&quot;)\r\n    \r\n            val recyclerView = binding.CLIRowsRV\r\n            recyclerView.setHasFixedSize(true)\r\n    \r\n            val linearLayoutManager = LinearLayoutManager(applicationContext)\r\n            linearLayoutManager.orientation = LinearLayoutManager.VERTICAL\r\n            recyclerView.layoutManager = linearLayoutManager\r\n    \r\n            val menuRecAdapter = MenuRecAdapter(list)\r\n            recyclerView.setAdapter(menuRecAdapter)\r\n            //print(recyclerView.adapter.toString())\r\n    \r\n        }\r\ni give up up i tried evrything this isn&#39;t even what i starded with and it still no show no error \r\ni tried adding working recycler from fragment (from the same app) no good won&#39;t work \r\nplease pretty please help\r\nEdit 1: whole activity\r\n\r\n    package com.platform\r\n    \r\n    import android.app.PendingIntent.getActivity\r\n    import android.content.Intent\r\n    import android.os.Bundle\r\n    import android.util.Log\r\n    import android.view.View\r\n    import android.widget.Toast\r\n    import androidx.appcompat.app.AppCompatActivity\r\n    import androidx.recyclerview.widget.LinearLayoutManager\r\n    import androidx.recyclerview.widget.RecyclerView\r\n    import com.google.android.material.dialog.MaterialAlertDialogBuilder\r\n    import com.google.gson.Gson\r\n    import com.platform.adapters.CostInvoicesAttachmentsAdapter\r\n    import com.platform.adapters.CostInvoicesRecyclerAdapter\r\n    import com.platform.adapters.MenuRecAdapter\r\n    import com.platform.api.EmsApi\r\n    import com.platform.databinding.ActivityCostInvoiceAttachmentsBinding\r\n    import com.platform.pojo.costInvoice.attachments.Attachments\r\n    import com.platform.pojo.costInvoices.CostInvoices\r\n    import com.platform.utils.ErrorUtil\r\n    import dagger.hilt.android.AndroidEntryPoint\r\n    import okhttp3.ResponseBody\r\n    import retrofit2.Call\r\n    import retrofit2.Callback\r\n    import retrofit2.Response\r\n    import javax.inject.Inject\r\n    \r\n    \r\n    @AndroidEntryPoint\r\n    class CostInvoiceAttachments : AppCompatActivity() , CostInvoicesAttachmentsAdapter.OnItemClickListener{\r\n        @Inject\r\n        lateinit var emsApi: EmsApi\r\n    \r\n        @Inject\r\n        lateinit var ee : ErrorUtil\r\n    \r\n        var attachments: Attachments=Attachments()\r\n        private lateinit var binding: ActivityCostInvoiceAttachmentsBinding\r\n        var index: Int =-1\r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            binding = ActivityCostInvoiceAttachmentsBinding.inflate(layoutInflater)\r\n            setContentView(binding.root)\r\n            setContentView(R.layout.activity_cost_invoice_attachments)\r\n            index = intent.getIntExtra(&quot;index&quot;,-1)\r\n            initRecyclerView()\r\n            //getAttachmentAttachments()\r\n           \r\n    \r\n    \r\n    \r\n    \r\n        }\r\n        /**\r\n         * Pobranie załączniki faktury kosztowej\r\n         * @author Rafał Pasternak\r\n         **/\r\n        private fun getAttachmentAttachments() {\r\n            val call = emsApi.getCostInvoiceAttachments(\r\n                index\r\n            )\r\n            call.enqueue(object : Callback&lt;ResponseBody&gt; {\r\n                override fun onResponse(call: Call&lt;ResponseBody&gt;, response: Response&lt;ResponseBody&gt;) =\r\n                    if (response.isSuccessful) {\r\n                        var rawJsonString:String? = response.body()?.string()\r\n                        rawJsonString=&quot;{\\&quot;Attachments\\&quot;:&quot;+rawJsonString+&quot;}&quot;\r\n                        attachments= Gson().fromJson(rawJsonString, Attachments::class.java)\r\n                        initRecyclerView()\r\n                    } else {\r\n                        val errorUtil = ee.parseError(response)\r\n                        if (errorUtil != null) {\r\n                            openDialog(errorUtil.message)\r\n                        } else\r\n                            openDialog(&quot;${resources.getString(R.string.FailedToConnect)} ${response.message()}&quot;)\r\n                    }\r\n    \r\n                override fun onFailure(call: Call&lt;ResponseBody&gt;, t: Throwable) {\r\n                    Log.e(&quot;APP&quot;, t.localizedMessage)\r\n                    Log.e(&quot;APP&quot;, t.message.toString())\r\n                }\r\n            })\r\n        }\r\n        /**\r\n         * Metoda do wyświetlenia komunikatu użytkownikowi\r\n         * @author Rafał Pasternak\r\n         **/\r\n        fun openDialog(message: String) {\r\n            MaterialAlertDialogBuilder(this)\r\n                .setTitle(resources.getString(R.string.messageTitle)) //jako res string\r\n                .setMessage(message)\r\n                .setPositiveButton(&quot;OK&quot;) { dialog, which -&gt;\r\n                }\r\n                .show()\r\n        }\r\n        fun initRecyclerView() {\r\n            val list: ArrayList&lt;String&gt; = ArrayList()\r\n            list.add(&quot;something1&quot;)\r\n            list.add(&quot;something2&quot;)\r\n    \r\n            val recyclerView = binding.CLIRowsRV\r\n            recyclerView.setHasFixedSize(true)\r\n    \r\n            val linearLayoutManager = LinearLayoutManager(applicationContext)\r\n            linearLayoutManager.orientation = LinearLayoutManager.VERTICAL\r\n            recyclerView.layoutManager = linearLayoutManager\r\n    \r\n            val menuRecAdapter = MenuRecAdapter(list)\r\n            recyclerView.setAdapter(menuRecAdapter)\r\n            //print(recyclerView.adapter.toString())\r\n    \r\n        }\r\n        /**\r\n         * Metoda nadpisująca metodę z interfejsu onItemClickListener\r\n         * odsyła do wybranej przez użytkownika umowy\r\n         * @author Rafał Pasternak\r\n         * **/\r\n        override fun onItemClick(position: Int) {\r\n            Toast.makeText(this, &quot;Item $position clicked&quot;, Toast.LENGTH_SHORT).show()\r\n            var index=attachments.attachments[position].id\r\n    \r\n        }\r\n    }","title":"Cannot initialize recycler view in activity","body":"<p>please help me, I  am trying to initialize the simplest recycler view from the stack and it's still resisting.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:minHeight=&quot;100dp&quot;\n    tools:context=&quot;.CostInvoiceAttachments&quot;&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/CLI_rows_RV&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:layoutManager=&quot;androidx.recyclerview.widget.LinearLayoutManager&quot;\n\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        tools:itemCount=&quot;5&quot;\n        tools:listitem=&quot;@layout/recycler_view_item&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>item layout</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:cardUseCompatPadding=&quot;true&quot;\n        app:cardElevation=&quot;5dp&quot;\n        app:cardCornerRadius=&quot;2dp&quot;\n        app:cardPreventCornerOverlap=&quot;false&quot;&gt;\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:id=&quot;@+id/CL_Layout_TV&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:minHeight=&quot;100dp&quot;\n            android:layout_height=&quot;match_parent&quot;&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/CL_Size_TV&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginStart=&quot;8dp&quot;\n                android:layout_marginTop=&quot;8dp&quot;\n                android:layout_marginBottom=&quot;8dp&quot;\n                android:text=&quot;Size&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintStart_toEndOf=&quot;@+id/NumberDescription&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/CL_Title_TV&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/CL_Date_TV&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginTop=&quot;8dp&quot;\n                android:layout_marginEnd=&quot;8dp&quot;\n                android:layout_marginBottom=&quot;8dp&quot;\n                android:text=&quot;Date&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/CL_Title_TV&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/CL_Title_TV&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginStart=&quot;8dp&quot;\n                android:layout_marginTop=&quot;8dp&quot;\n                android:text=&quot;Title&quot;\n                app:layout_constraintStart_toEndOf=&quot;@+id/TitleDescription&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/NumberDescription&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginStart=&quot;8dp&quot;\n                android:layout_marginTop=&quot;8dp&quot;\n                android:layout_marginBottom=&quot;8dp&quot;\n                android:text=&quot;@string/Size_hint&quot;\n                android:textStyle=&quot;bold&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/TitleDescription&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/TitleDescription&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginStart=&quot;8dp&quot;\n                android:layout_marginTop=&quot;8dp&quot;\n                android:text=&quot;@string/Name_hint&quot;\n                android:textStyle=&quot;bold&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/DateDescription&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginTop=&quot;8dp&quot;\n                android:layout_marginEnd=&quot;8dp&quot;\n                android:layout_marginBottom=&quot;8dp&quot;\n                android:text=&quot;@string/Date_hint&quot;\n                android:textStyle=&quot;bold&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toStartOf=&quot;@+id/CL_Date_TV&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/CL_Title_TV&quot; /&gt;\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n    &lt;/androidx.cardview.widget.CardView&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>Adapter</p>\n<pre><code>package com.platform.adapters;\n\nimport android.app.Activity;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport com.platform.R;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\n\npublic class MenuRecAdapter extends RecyclerView.Adapter&lt;RecViewHolder&gt;{\n\n    private ArrayList&lt;String&gt; mList = new ArrayList&lt;&gt;();\n    Activity context;\n\n    public MenuRecAdapter(ArrayList&lt;String&gt; mList){\n        this.mList = mList;\n    }\n\n    public int getItemCount(){\n        return mList.size();\n    }\n\n    public RecViewHolder onCreateViewHolder(ViewGroup viewGroup, int position){\n\n        View v = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.cost_invoice_attachments_item, viewGroup, false);\n        RecViewHolder pvh = new RecViewHolder(v);\n        return pvh;\n    }\n\n    public void onBindViewHolder(RecViewHolder holder, int i){\n        holder.menuTeXT.setText(mList.get(i));\n    }\n\n    @Override\n    public void onAttachedToRecyclerView(RecyclerView recyclerView) {\n        super.onAttachedToRecyclerView(recyclerView);\n    }\n\n}\n</code></pre>\n<p>View holder</p>\n<pre><code>package com.platform.adapters;\n\nimport android.view.View;\nimport android.widget.TextView;\n\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.platform.R;\n\npublic class RecViewHolder extends RecyclerView.ViewHolder {\n\n    public TextView menuTeXT;\n\n    public RecViewHolder(View itemView){\n        super(itemView);\n\n        menuTeXT = (TextView)itemView.findViewById(R.id.CL_Date_TV);\n    }\n}\n</code></pre>\n<p>initialization:</p>\n<pre><code> fun initRecyclerView() {\n        val list: ArrayList&lt;String&gt; = ArrayList()\n        list.add(&quot;something1&quot;)\n        list.add(&quot;something2&quot;)\n\n        val recyclerView = binding.CLIRowsRV\n        recyclerView.setHasFixedSize(true)\n\n        val linearLayoutManager = LinearLayoutManager(applicationContext)\n        linearLayoutManager.orientation = LinearLayoutManager.VERTICAL\n        recyclerView.layoutManager = linearLayoutManager\n\n        val menuRecAdapter = MenuRecAdapter(list)\n        recyclerView.setAdapter(menuRecAdapter)\n        //print(recyclerView.adapter.toString())\n\n    }\n</code></pre>\n<p>i give up up i tried evrything this isn't even what i starded with and it still no show no error\ni tried adding working recycler from fragment (from the same app) no good won't work\nplease pretty please help\nEdit 1: whole activity</p>\n<pre><code>package com.platform\n\nimport android.app.PendingIntent.getActivity\nimport android.content.Intent\nimport android.os.Bundle\nimport android.util.Log\nimport android.view.View\nimport android.widget.Toast\nimport androidx.appcompat.app.AppCompatActivity\nimport androidx.recyclerview.widget.LinearLayoutManager\nimport androidx.recyclerview.widget.RecyclerView\nimport com.google.android.material.dialog.MaterialAlertDialogBuilder\nimport com.google.gson.Gson\nimport com.platform.adapters.CostInvoicesAttachmentsAdapter\nimport com.platform.adapters.CostInvoicesRecyclerAdapter\nimport com.platform.adapters.MenuRecAdapter\nimport com.platform.api.EmsApi\nimport com.platform.databinding.ActivityCostInvoiceAttachmentsBinding\nimport com.platform.pojo.costInvoice.attachments.Attachments\nimport com.platform.pojo.costInvoices.CostInvoices\nimport com.platform.utils.ErrorUtil\nimport dagger.hilt.android.AndroidEntryPoint\nimport okhttp3.ResponseBody\nimport retrofit2.Call\nimport retrofit2.Callback\nimport retrofit2.Response\nimport javax.inject.Inject\n\n\n@AndroidEntryPoint\nclass CostInvoiceAttachments : AppCompatActivity() , CostInvoicesAttachmentsAdapter.OnItemClickListener{\n    @Inject\n    lateinit var emsApi: EmsApi\n\n    @Inject\n    lateinit var ee : ErrorUtil\n\n    var attachments: Attachments=Attachments()\n    private lateinit var binding: ActivityCostInvoiceAttachmentsBinding\n    var index: Int =-1\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        binding = ActivityCostInvoiceAttachmentsBinding.inflate(layoutInflater)\n        setContentView(binding.root)\n        setContentView(R.layout.activity_cost_invoice_attachments)\n        index = intent.getIntExtra(&quot;index&quot;,-1)\n        initRecyclerView()\n        //getAttachmentAttachments()\n       \n\n\n\n\n    }\n    /**\n     * Pobranie załączniki faktury kosztowej\n     * @author Rafał Pasternak\n     **/\n    private fun getAttachmentAttachments() {\n        val call = emsApi.getCostInvoiceAttachments(\n            index\n        )\n        call.enqueue(object : Callback&lt;ResponseBody&gt; {\n            override fun onResponse(call: Call&lt;ResponseBody&gt;, response: Response&lt;ResponseBody&gt;) =\n                if (response.isSuccessful) {\n                    var rawJsonString:String? = response.body()?.string()\n                    rawJsonString=&quot;{\\&quot;Attachments\\&quot;:&quot;+rawJsonString+&quot;}&quot;\n                    attachments= Gson().fromJson(rawJsonString, Attachments::class.java)\n                    initRecyclerView()\n                } else {\n                    val errorUtil = ee.parseError(response)\n                    if (errorUtil != null) {\n                        openDialog(errorUtil.message)\n                    } else\n                        openDialog(&quot;${resources.getString(R.string.FailedToConnect)} ${response.message()}&quot;)\n                }\n\n            override fun onFailure(call: Call&lt;ResponseBody&gt;, t: Throwable) {\n                Log.e(&quot;APP&quot;, t.localizedMessage)\n                Log.e(&quot;APP&quot;, t.message.toString())\n            }\n        })\n    }\n    /**\n     * Metoda do wyświetlenia komunikatu użytkownikowi\n     * @author Rafał Pasternak\n     **/\n    fun openDialog(message: String) {\n        MaterialAlertDialogBuilder(this)\n            .setTitle(resources.getString(R.string.messageTitle)) //jako res string\n            .setMessage(message)\n            .setPositiveButton(&quot;OK&quot;) { dialog, which -&gt;\n            }\n            .show()\n    }\n    fun initRecyclerView() {\n        val list: ArrayList&lt;String&gt; = ArrayList()\n        list.add(&quot;something1&quot;)\n        list.add(&quot;something2&quot;)\n\n        val recyclerView = binding.CLIRowsRV\n        recyclerView.setHasFixedSize(true)\n\n        val linearLayoutManager = LinearLayoutManager(applicationContext)\n        linearLayoutManager.orientation = LinearLayoutManager.VERTICAL\n        recyclerView.layoutManager = linearLayoutManager\n\n        val menuRecAdapter = MenuRecAdapter(list)\n        recyclerView.setAdapter(menuRecAdapter)\n        //print(recyclerView.adapter.toString())\n\n    }\n    /**\n     * Metoda nadpisująca metodę z interfejsu onItemClickListener\n     * odsyła do wybranej przez użytkownika umowy\n     * @author Rafał Pasternak\n     * **/\n    override fun onItemClick(position: Int) {\n        Toast.makeText(this, &quot;Item $position clicked&quot;, Toast.LENGTH_SHORT).show()\n        var index=attachments.attachments[position].id\n\n    }\n}\n</code></pre>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1647707292,"post_id":71539945,"comment_id":126440688,"body_markdown":"Your regex includes `\\\\?{3}`. That means three literal question marks. Also `if (matches = true)` one `=` is assignment. `if (matches)` or `if (matches == true)`","body":"Your regex includes <code>\\\\?{3}</code>. That means three literal question marks. Also <code>if (matches = true)</code> one <code>=</code> is assignment. <code>if (matches)</code> or <code>if (matches == true)</code>"},{"owner":{"account_id":17167775,"reputation":185,"user_id":12425619,"display_name":"Emil"},"score":0,"creation_date":1647707816,"post_id":71539945,"comment_id":126440807,"body_markdown":"@ElliottFrisch Yes, but shouldn&#39;t the two question marks just result in `if(matches)` returning `false` instead of giving an out of bounds error?","body":"@ElliottFrisch Yes, but shouldn&#39;t the two question marks just result in <code>if(matches)</code> returning <code>false</code> instead of giving an out of bounds error?"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1647708506,"post_id":71539945,"comment_id":126440941,"body_markdown":"@Emil Look closer at `if (matches = true) {`","body":"@Emil Look closer at <code>if (matches = true) {</code>"}],"answers":[{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647713591,"creation_date":1647712880,"answer_id":71540701,"question_id":71539945,"body_markdown":"Corrected code based on the comments by Elliot Frisch:\r\n\r\n```Java\r\npublic static void main( String... args ) \r\n{\r\n  System.out.println( &quot;Enter a string: &quot; );\r\n  final var in = new Scanner( System.in );\r\n  final var str = in.next();\r\n\r\n  final var regex = &quot;[0-9]\\\\?{3}[0-9]&quot;;\r\n  final var pattern = Pattern.compile( regex );\r\n  final var matcher = pattern.matcher( str );\r\n\r\n  if( matcher.matches() ) \r\n  {\r\n    final var first = Character.getNumericValue( str.charAt( 0 ) );\r\n    final var last = Character.getNumericValue( str.charAt( 4 ) );\r\n    final var sum = first + last;\r\n    \r\n    System.out.print( sum == 10 ? &quot;True&quot; : &quot;False&quot; );\r\n  } \r\n  else \r\n  {\r\n    System.out.print(&quot;False&quot;);\r\n  }\r\n}\r\n```\r\n\r\n\r\nIn the original code there was an assignment instead of a comparison:\r\n\r\n```Java\r\n…\r\nboolean matches = matcher.matches();\r\nif( matches = true ) // WRONG!\r\n{\r\n  …\r\n```\r\ninstead of\r\n```Java\r\n…\r\nboolean matches = matcher.matches();\r\nif( matches == true )\r\n{\r\n  …\r\n```\r\nor\r\n```Java\r\n…\r\nboolean matches = matcher.matches();\r\nif( matches )\r\n{\r\n  …\r\n```\r\n\r\nNext, the original program proceeded even the given input string did not match the regular expression, with the result that an exception could be thrown in such case. \r\n\r\nFinally, the loop did not have any impact on the final value of `sum`, and was therefor superfluous.\r\n\r\nAlso several local variables were obsolete; they did not even support readability.\r\n\r\nAnd that hack with substracting `&#39;0&#39;` to get the numeric value works, but is not intuitive; it also works only for digits in the ASCII realm.","title":"Why do I get a out of bounds message when I try to run this code?","body":"<p>Corrected code based on the comments by Elliot Frisch:</p>\n<pre><code>public static void main( String... args ) \n{\n  System.out.println( &quot;Enter a string: &quot; );\n  final var in = new Scanner( System.in );\n  final var str = in.next();\n\n  final var regex = &quot;[0-9]\\\\?{3}[0-9]&quot;;\n  final var pattern = Pattern.compile( regex );\n  final var matcher = pattern.matcher( str );\n\n  if( matcher.matches() ) \n  {\n    final var first = Character.getNumericValue( str.charAt( 0 ) );\n    final var last = Character.getNumericValue( str.charAt( 4 ) );\n    final var sum = first + last;\n    \n    System.out.print( sum == 10 ? &quot;True&quot; : &quot;False&quot; );\n  } \n  else \n  {\n    System.out.print(&quot;False&quot;);\n  }\n}\n</code></pre>\n<p>In the original code there was an assignment instead of a comparison:</p>\n<pre><code>…\nboolean matches = matcher.matches();\nif( matches = true ) // WRONG!\n{\n  …\n</code></pre>\n<p>instead of</p>\n<pre><code>…\nboolean matches = matcher.matches();\nif( matches == true )\n{\n  …\n</code></pre>\n<p>or</p>\n<pre><code>…\nboolean matches = matcher.matches();\nif( matches )\n{\n  …\n</code></pre>\n<p>Next, the original program proceeded even the given input string did not match the regular expression, with the result that an exception could be thrown in such case.</p>\n<p>Finally, the loop did not have any impact on the final value of <code>sum</code>, and was therefor superfluous.</p>\n<p>Also several local variables were obsolete; they did not even support readability.</p>\n<p>And that hack with substracting <code>'0'</code> to get the numeric value works, but is not intuitive; it also works only for digits in the ASCII realm.</p>\n"}],"owner":{"account_id":24206712,"reputation":15,"user_id":18233945,"display_name":"mama"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71540701,"answer_count":1,"score":0,"last_activity_date":1647713591,"creation_date":1647707146,"question_id":71539945,"body_markdown":"I am trying to match a pattern . Everything works except when I try to add a string like &quot;1??2&quot; with 2 &quot;?&quot; instead of 3 &quot;?&quot; I get the following error:&quot;String index out of range: 4&quot;.\r\nPlease see my code below:\r\n\r\n ```\r\nimport java.util.Scanner;\r\nimport java.util.regex.*;\r\npublic class pattern {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\nScanner in = new Scanner(System.in);\r\nString str, result=&quot;&quot;;\r\nint  myArray = 0;\r\nSystem.out.println(&quot;Enter a string: &quot;);\r\nstr =in.next();\r\n\r\nString REGEX = &quot;[0-9]\\\\?{3}[0-9]&quot;;\r\n\r\nPattern pattern =Pattern.compile(REGEX);\r\nMatcher matcher = pattern.matcher(str);\r\nboolean matches =matcher.matches();\r\n if (matches = true) {\r\n\t result=str;\r\n \t} else {\r\n\tSystem.out.print(&quot;False&quot;);\r\n}\r\n \r\nint resultLen= result.length();\r\nint sum=0;\r\nfor (int i=0; i &lt;resultLen-1; i++) {\r\n\tchar newChar=result.charAt(i);\r\n\tint first= result.charAt(0)-&#39;0&#39;;\r\n\tint last=result.charAt(4)-&#39;0&#39;;\r\n\tsum=first+last;\r\n}\r\nSystem.out.print(sum==10? &quot;True&quot;: &quot;False&quot;);\r\n \r\n\r\n\r\n\t}\r\n\r\n}\r\n```\r\n","title":"Why do I get a out of bounds message when I try to run this code?","body":"<p>I am trying to match a pattern . Everything works except when I try to add a string like &quot;1??2&quot; with 2 &quot;?&quot; instead of 3 &quot;?&quot; I get the following error:&quot;String index out of range: 4&quot;.\nPlease see my code below:</p>\n<pre><code>import java.util.Scanner;\nimport java.util.regex.*;\npublic class pattern {\n\n   public static void main(String[] args) {\n       // TODO Auto-generated method stub\nScanner in = new Scanner(System.in);\nString str, result=&quot;&quot;;\nint  myArray = 0;\nSystem.out.println(&quot;Enter a string: &quot;);\nstr =in.next();\n\nString REGEX = &quot;[0-9]\\\\?{3}[0-9]&quot;;\n\nPattern pattern =Pattern.compile(REGEX);\nMatcher matcher = pattern.matcher(str);\nboolean matches =matcher.matches();\nif (matches = true) {\n    result=str;\n   } else {\n   System.out.print(&quot;False&quot;);\n}\n\nint resultLen= result.length();\nint sum=0;\nfor (int i=0; i &lt;resultLen-1; i++) {\n   char newChar=result.charAt(i);\n   int first= result.charAt(0)-'0';\n   int last=result.charAt(4)-'0';\n   sum=first+last;\n}\nSystem.out.print(sum==10? &quot;True&quot;: &quot;False&quot;);\n\n\n\n   }\n\n}\n</code></pre>\n"},{"tags":["java","windows","sparql","jena"],"comments":[{"owner":{"account_id":6077505,"reputation":8407,"user_id":4744359,"display_name":"UninformedUser"},"score":0,"creation_date":1647713478,"post_id":71540155,"comment_id":126442047,"body_markdown":"latest Jena 4.4.0 requires Java 11, check your Java version in Windows","body":"latest Jena 4.4.0 requires Java 11, check your Java version in Windows"}],"answers":[{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647713099,"creation_date":1647713099,"answer_id":71540730,"question_id":71540155,"body_markdown":"Class file version 55.0 is equivalent to Java 11 (can be seen for example [here](https://stackoverflow.com/questions/9170832/list-of-java-class-file-format-major-version-numbers)). However, the Java version you install from java.com is Java 8. Therefore you need to use at least Java 11, but newer versions (e.g. Java 17) might work as well.\r\n\r\nYou can obtain newer versions of the Oracle JDK [here](https://www.oracle.com/java/technologies/downloads/), or you can use Open JDK builds, for example from [here](https://adoptium.net/). See for example [this question](https://stackoverflow.com/questions/22358071/differences-between-oracle-jdk-and-openjdk) for differences between the Oracle JDK and Open JDK.","title":"java.lang.UnsupportedClassVersionError trying to run Jena ARQ to follow along with O&#39;Reilly SPARQL book","body":"<p>Class file version 55.0 is equivalent to Java 11 (can be seen for example <a href=\"https://stackoverflow.com/questions/9170832/list-of-java-class-file-format-major-version-numbers\">here</a>). However, the Java version you install from java.com is Java 8. Therefore you need to use at least Java 11, but newer versions (e.g. Java 17) might work as well.</p>\n<p>You can obtain newer versions of the Oracle JDK <a href=\"https://www.oracle.com/java/technologies/downloads/\" rel=\"nofollow noreferrer\">here</a>, or you can use Open JDK builds, for example from <a href=\"https://adoptium.net/\" rel=\"nofollow noreferrer\">here</a>. See for example <a href=\"https://stackoverflow.com/questions/22358071/differences-between-oracle-jdk-and-openjdk\">this question</a> for differences between the Oracle JDK and Open JDK.</p>\n"}],"owner":{"account_id":10328744,"reputation":3,"user_id":18355413,"display_name":"Joe Fagan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":358,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71540730,"answer_count":1,"score":0,"last_activity_date":1647713099,"creation_date":1647708754,"question_id":71540155,"body_markdown":"I&#39;m trying to get Jena ARQ as suggested in O&#39;Reilly SPARQL 1.1 book so I can follow along with the query examples in the book. I&#39;ve downloaded apache-jena-.4.0.zip from jena.apache.org/download/index.cgi and follwed the instructions to extract and set JENA_HOME and PATH environmet variables.\r\n\r\nWhen I run ARQ.bat from windows cmd terminal I get\r\n\r\n```\r\nError: A JNI error has occurred, please check your installation and try again\r\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: arq/arq has been \r\ncompiled by a more recent version of the Java Runtime (class file version 55.0), \r\nthis version of the Java Runtime only recognizes class file versions up to 52.0\r\n```\r\nReading help on that error message on this forum and elsewhere suggests I either recompile the class (I can&#39;t do that) or update Java runtime. So I&#39;ve removed and reinstalled Java JRE 64--bit for Windows\r\nfrom https://www.java.com/en/download/ \r\n64-bit Java for Windows\r\nRelease date: January 18, 2022 \r\n\r\nand rebooted machine.\r\n\r\nRunning java -version from cmd prompt gives me \r\n```java version &quot;1.8.0_321&quot;\r\nJava(TM) SE Runtime Environment (build 1.8.0_321-b07)\r\nJava HotSpot(TM) 64-Bit Server VM (build 25.321-b07, mixed mode)\r\n```\r\nHowever the java.lang.UnsupportedClassVersionError persists\r\n\r\nAny ideas please?\r\nOr any other simple way of executing a SPARQL query file against a local data file so I can can follow along withe th SPARQL book?\r\n ","title":"java.lang.UnsupportedClassVersionError trying to run Jena ARQ to follow along with O&#39;Reilly SPARQL book","body":"<p>I'm trying to get Jena ARQ as suggested in O'Reilly SPARQL 1.1 book so I can follow along with the query examples in the book. I've downloaded apache-jena-.4.0.zip from jena.apache.org/download/index.cgi and follwed the instructions to extract and set JENA_HOME and PATH environmet variables.</p>\n<p>When I run ARQ.bat from windows cmd terminal I get</p>\n<pre><code>Error: A JNI error has occurred, please check your installation and try again\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: arq/arq has been \ncompiled by a more recent version of the Java Runtime (class file version 55.0), \nthis version of the Java Runtime only recognizes class file versions up to 52.0\n</code></pre>\n<p>Reading help on that error message on this forum and elsewhere suggests I either recompile the class (I can't do that) or update Java runtime. So I've removed and reinstalled Java JRE 64--bit for Windows\nfrom <a href=\"https://www.java.com/en/download/\" rel=\"nofollow noreferrer\">https://www.java.com/en/download/</a>\n64-bit Java for Windows\nRelease date: January 18, 2022</p>\n<p>and rebooted machine.</p>\n<p>Running java -version from cmd prompt gives me</p>\n<pre class=\"lang-java prettyprint-override\"><code>Java(TM) SE Runtime Environment (build 1.8.0_321-b07)\nJava HotSpot(TM) 64-Bit Server VM (build 25.321-b07, mixed mode)\n</code></pre>\n<p>However the java.lang.UnsupportedClassVersionError persists</p>\n<p>Any ideas please?\nOr any other simple way of executing a SPARQL query file against a local data file so I can can follow along withe th SPARQL book?</p>\n"},{"tags":["java","mongodb","spring-boot"],"comments":[{"owner":{"account_id":17019087,"reputation":736,"user_id":12312156,"display_name":"Faramarz Afzali"},"score":1,"creation_date":1647721517,"post_id":71540727,"comment_id":126443732,"body_markdown":"https://stackoverflow.com/a/63924999/12312156\nDoes this answer your question?","body":"<a href=\"https://stackoverflow.com/a/63924999/12312156\">stackoverflow.com/a/63924999/12312156</a> Does this answer your question?"},{"owner":{"account_id":2919557,"reputation":7343,"user_id":2502126,"accept_rate":20,"display_name":"Buzz Moschetti"},"score":0,"creation_date":1647736133,"post_id":71540727,"comment_id":126446187,"body_markdown":"Does this answer your question? [Set Mongo Timeout in Spring Boot](https://stackoverflow.com/questions/36784017/set-mongo-timeout-in-spring-boot)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/36784017/set-mongo-timeout-in-spring-boot\">Set Mongo Timeout in Spring Boot</a>"}],"owner":{"account_id":15024254,"reputation":83,"user_id":10844676,"display_name":"Aimee Rodr&#237;guez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647713069,"creation_date":1647713069,"question_id":71540727,"body_markdown":"My understanding is that if my MongoDB database is not running, my Spring Boot application will take 30000ms by default to try to connect to the database.\r\n\r\nHow can I modify the value of 30000 ms? I tried putting the following in the application.properties but it doesn&#39;t work:\r\n\r\n    spring.data.mongodb.option.server-selection-timeout=1000","title":"How to modify the number of milliseconds (30000 ms by default) that a Spring Boot application takes to connect to a MongoDB database?","body":"<p>My understanding is that if my MongoDB database is not running, my Spring Boot application will take 30000ms by default to try to connect to the database.</p>\n<p>How can I modify the value of 30000 ms? I tried putting the following in the application.properties but it doesn't work:</p>\n<pre><code>spring.data.mongodb.option.server-selection-timeout=1000\n</code></pre>\n"},{"tags":["java","iso","pack","iso8583","jpos"],"comments":[{"owner":{"account_id":875002,"reputation":6703,"user_id":924820,"display_name":"BigMike"},"score":0,"creation_date":1644911826,"post_id":71122789,"comment_id":125723761,"body_markdown":"what message are you building ? seems a 1110 but can&#39;t be sure. I don&#39;t remember what&#39;s the field 120 is for, IIRC is for private acquiring data, probably it&#39;s an LLLvar, containing subfields, you should have some specific documentation about it.","body":"what message are you building ? seems a 1110 but can&#39;t be sure. I don&#39;t remember what&#39;s the field 120 is for, IIRC is for private acquiring data, probably it&#39;s an LLLvar, containing subfields, you should have some specific documentation about it."},{"owner":{"account_id":23787069,"reputation":5,"user_id":17798975,"display_name":"zubair mujeeb"},"score":0,"creation_date":1644918545,"post_id":71122789,"comment_id":125726325,"body_markdown":"can you please share any dummy code for packing 120 feild with sub fields as well?","body":"can you please share any dummy code for packing 120 feild with sub fields as well?"},{"owner":{"account_id":4765386,"reputation":367,"user_id":3851607,"accept_rate":50,"display_name":"Ajay Ganvir"},"score":0,"creation_date":1644985342,"post_id":71122789,"comment_id":125747900,"body_markdown":"Can you explain what error you are getting while setting field 120 in the excerpt in your code.","body":"Can you explain what error you are getting while setting field 120 in the excerpt in your code."},{"owner":{"account_id":23787069,"reputation":5,"user_id":17798975,"display_name":"zubair mujeeb"},"score":0,"creation_date":1645216763,"post_id":71122789,"comment_id":125821338,"body_markdown":"can you guide, how can i set multiple feilds of 120 i.e 120.1,120.2,120.3 etc? using Jpos?","body":"can you guide, how can i set multiple feilds of 120 i.e 120.1,120.2,120.3 etc? using Jpos?"}],"answers":[{"tags":[],"owner":{"account_id":23787069,"reputation":5,"user_id":17798975,"display_name":"zubair mujeeb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647713068,"creation_date":1647597443,"answer_id":71525241,"question_id":71122789,"body_markdown":"The issue was with MLI, The length wasn&#39;t appropriate when i have sent to 3rd party.","title":"ISO 8583 packing 120 feild","body":"<p>The issue was with MLI, The length wasn't appropriate when i have sent to 3rd party.</p>\n"}],"owner":{"account_id":23787069,"reputation":5,"user_id":17798975,"display_name":"zubair mujeeb"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":363,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":71525241,"answer_count":1,"score":-2,"last_activity_date":1647713068,"creation_date":1644911480,"question_id":71122789,"body_markdown":"I want to set sub feilds of 120, can anyone guide ? \r\n\r\nCurrently I am using JPOS library for packing data, here is the below sample pack message. \r\n\r\n```ISOMsg request = new ISOMsg();\r\n\t\trequest.setPackager(packager);\r\n\t\trequest.setMTI(Constants.MTI.FINANCIAL_RESPONSE.getValue());\r\n\t\trequest.set(new ISOField(2, unpackedMsg.getString(2)));\r\n\t\trequest.set(new ISOField(3, &quot;000062&quot;));\r\n\t\trequest.set(new ISOField(4, unpackedMsg.getString(4)));\r\n\t\trequest.set(new ISOField(7, unpackedMsg.getString(7)));\r\n\t\trequest.set(new ISOField(11, unpackedMsg.getString(11)));\r\n\t\trequest.set(new ISOField(12, unpackedMsg.getString(12)));\r\n\t\trequest.set(new ISOField(13, unpackedMsg.getString(13)));\r\n\t\trequest.set(new ISOField(15, unpackedMsg.getString(15)));\r\n\t\trequest.set(new ISOField(18, unpackedMsg.getString(18)));\r\n\t\trequest.set(new ISOField(22, unpackedMsg.getString(22)));\r\n\t\trequest.set(new ISOField(24, unpackedMsg.getString(24)));\r\n\t\trequest.set(new ISOField(32, unpackedMsg.getString(32)));\r\n\t\trequest.set(new ISOField(33, unpackedMsg.getString(33)));\r\n\t\trequest.set(new ISOField(37, unpackedMsg.getString(37)));\r\n\t\trequest.set(new ISOField(38, Constants.getRandomNumberString()));\r\n\t\trequest.set(new ISOField(39, Constants.SUCCESS_RESPONSE));\r\n\t\trequest.set(new ISOField(41, unpackedMsg.getString(41)));\r\n\t\trequest.set(new ISOField(43, unpackedMsg.getString(43)));\r\n\t\trequest.set(new ISOField(49, unpackedMsg.getString(49)));\r\n\t\trequest.set(new ISOField(103, unpackedMsg.getString(103)));\r\n\t\trequest.set(new ISOField(120, sb.toString()));\r\n```\r\n\r\nWant to add data under sub fields of 120. \r\n\r\n[120 feild values should be as mentioned in the screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6frPU.png","title":"ISO 8583 packing 120 feild","body":"<p>I want to set sub feilds of 120, can anyone guide ?</p>\n<p>Currently I am using JPOS library for packing data, here is the below sample pack message.</p>\n<pre><code>        request.setPackager(packager);\n        request.setMTI(Constants.MTI.FINANCIAL_RESPONSE.getValue());\n        request.set(new ISOField(2, unpackedMsg.getString(2)));\n        request.set(new ISOField(3, &quot;000062&quot;));\n        request.set(new ISOField(4, unpackedMsg.getString(4)));\n        request.set(new ISOField(7, unpackedMsg.getString(7)));\n        request.set(new ISOField(11, unpackedMsg.getString(11)));\n        request.set(new ISOField(12, unpackedMsg.getString(12)));\n        request.set(new ISOField(13, unpackedMsg.getString(13)));\n        request.set(new ISOField(15, unpackedMsg.getString(15)));\n        request.set(new ISOField(18, unpackedMsg.getString(18)));\n        request.set(new ISOField(22, unpackedMsg.getString(22)));\n        request.set(new ISOField(24, unpackedMsg.getString(24)));\n        request.set(new ISOField(32, unpackedMsg.getString(32)));\n        request.set(new ISOField(33, unpackedMsg.getString(33)));\n        request.set(new ISOField(37, unpackedMsg.getString(37)));\n        request.set(new ISOField(38, Constants.getRandomNumberString()));\n        request.set(new ISOField(39, Constants.SUCCESS_RESPONSE));\n        request.set(new ISOField(41, unpackedMsg.getString(41)));\n        request.set(new ISOField(43, unpackedMsg.getString(43)));\n        request.set(new ISOField(49, unpackedMsg.getString(49)));\n        request.set(new ISOField(103, unpackedMsg.getString(103)));\n        request.set(new ISOField(120, sb.toString()));\n</code></pre>\n<p>Want to add data under sub fields of 120.</p>\n<p><a href=\"https://i.stack.imgur.com/6frPU.png\" rel=\"nofollow noreferrer\">120 feild values should be as mentioned in the screenshot</a></p>\n"},{"tags":["java","spring-boot","web-services","soap"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1647775850,"post_id":71540724,"comment_id":126451333,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":24613190,"reputation":1,"user_id":18514482,"display_name":"Leucio Jos&#233; Batista"},"score":0,"creation_date":1647843473,"post_id":71540724,"comment_id":126463802,"body_markdown":"I created a spring project and used wsimport to create classes from wsdl files. Then I created this service class that the endpoint consumes. It works fine but I get an error Policy Falsified. When I test SOAP using SOAPUI putting basic authentication works. I need to pass this user in password also in my Java project.","body":"I created a spring project and used wsimport to create classes from wsdl files. Then I created this service class that the endpoint consumes. It works fine but I get an error Policy Falsified. When I test SOAP using SOAPUI putting basic authentication works. I need to pass this user in password also in my Java project."}],"owner":{"account_id":24613190,"reputation":1,"user_id":18514482,"display_name":"Leucio Jos&#233; Batista"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647713056,"creation_date":1647713056,"question_id":71540724,"body_markdown":"I&#39;m creating a client in Spring to access a webservice, but for this webservice I have to send username and password. How to pass username and password using spring wstemplate\r\n\r\nWhen I call the webservice I get the error below:\r\n\r\n\r\norg.springframework.ws.soap.client.SoapFaultClientException: Policy Falsified\r\n\tat org.springframework.ws.soap.client.core.SoapFaultMessageResolver.resolveFault(SoapFaultMessageResolver.java:38) ~[spring-ws-core-3.0.10.RELEASE.jar:na]\r\n","title":"how to send username and password in a spring WebServiceTemplate spring","body":"<p>I'm creating a client in Spring to access a webservice, but for this webservice I have to send username and password. How to pass username and password using spring wstemplate</p>\n<p>When I call the webservice I get the error below:</p>\n<p>org.springframework.ws.soap.client.SoapFaultClientException: Policy Falsified\nat org.springframework.ws.soap.client.core.SoapFaultMessageResolver.resolveFault(SoapFaultMessageResolver.java:38) ~[spring-ws-core-3.0.10.RELEASE.jar:na]</p>\n"},{"tags":["java","applet"],"comments":[{"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1515823923,"post_id":48237366,"comment_id":83457298,"body_markdown":"A Java applet would always require a Java runtime environment to run.  So the Windows machine would need a JRE installed, and it would also have to allow applets to run.","body":"A Java applet would always require a Java runtime environment to run.  So the Windows machine would need a JRE installed, and it would also have to allow applets to run."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1515825165,"creation_date":1515824459,"answer_id":48237440,"question_id":48237366,"body_markdown":"It is not possible.\r\n\r\nIt is not possible to create an exe that will run on any computer.  Period.\r\n\r\nIt is possible to create an exe that will run on a Windows machine (I hesitate to say *any* Windows) but that exe won&#39;t run on Linux or Mac OSX ... or any machine that is not a x86 or x86-64 machine (depending on how you built the exe).\r\n\r\nIt is possible to run a Java application (from a JAR file) on any machine with Java preinstalled.  \r\n\r\nIt is possible to create an exe wrapper for a Java application (see https://stackoverflow.com/questions/147181/how-can-i-convert-my-java-program-to-an-exe-file), but the exe won&#39;t that can run on *any* machine.  Like all exe files, it will only run on specific operating systems / hardware architectures.  And converting to an exe like this may cause some aspects of Java not to work.\r\n\r\nI would recommend these alternatives:\r\n\r\n  - Distribute your application as a JAR file, and leave it up to the user to download and install a JRE separately.  (That is NOT hard to do.)\r\n\r\n  - Use an installer-builder (such as InstallAnywhere) to create installers for your application for the platforms you want to support.  Use the option for embedding a JRE in the installer.\r\n\r\n-----------------\r\n\r\nThe other issue is that applet support is going to be removed entirely from Java pretty soon.  Indeed, it has already been de-supported in most modern browsers.  You should be looking to rewrite your UI code using AWT / Swing, JavaFX, HTML5 or something else.","title":"How to make Java with Applet project into .exe file","body":"<p>It is not possible.</p>\n\n<p>It is not possible to create an exe that will run on any computer.  Period.</p>\n\n<p>It is possible to create an exe that will run on a Windows machine (I hesitate to say <em>any</em> Windows) but that exe won't run on Linux or Mac OSX ... or any machine that is not a x86 or x86-64 machine (depending on how you built the exe).</p>\n\n<p>It is possible to run a Java application (from a JAR file) on any machine with Java preinstalled.  </p>\n\n<p>It is possible to create an exe wrapper for a Java application (see <a href=\"https://stackoverflow.com/questions/147181/how-can-i-convert-my-java-program-to-an-exe-file\">How can I convert my Java program to an .exe file?</a>), but the exe won't that can run on <em>any</em> machine.  Like all exe files, it will only run on specific operating systems / hardware architectures.  And converting to an exe like this may cause some aspects of Java not to work.</p>\n\n<p>I would recommend these alternatives:</p>\n\n<ul>\n<li><p>Distribute your application as a JAR file, and leave it up to the user to download and install a JRE separately.  (That is NOT hard to do.)</p></li>\n<li><p>Use an installer-builder (such as InstallAnywhere) to create installers for your application for the platforms you want to support.  Use the option for embedding a JRE in the installer.</p></li>\n</ul>\n\n<hr>\n\n<p>The other issue is that applet support is going to be removed entirely from Java pretty soon.  Indeed, it has already been de-supported in most modern browsers.  You should be looking to rewrite your UI code using AWT / Swing, JavaFX, HTML5 or something else.</p>\n"}],"owner":{"account_id":11285658,"reputation":7,"user_id":8276761,"display_name":"indrajeet jeet"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":920,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":48237440,"answer_count":1,"score":-2,"last_activity_date":1647711781,"creation_date":1515823506,"question_id":48237366,"body_markdown":"How to make Java with Applet project into  .exe file. So it can run an any computer.","title":"How to make Java with Applet project into .exe file","body":"<p>How to make Java with Applet project into  .exe file. So it can run an any computer.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8489,"page":1503,"page_size":100}
