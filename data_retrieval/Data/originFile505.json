{"items":[{"tags":["java","gps"],"comments":[{"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"score":0,"creation_date":1680605513,"post_id":75928261,"comment_id":133922937,"body_markdown":"It doesn&#39;t seem trivial at all. You would need to take every segment of the border, establish a normal for that segment along the spherical surface of the earth, shift the line segment along the normal. Then calculate the intersection of the segment and the two neighboring segments, taking into account that a segment (or any series of segments) may become unnecessary because it&#39;s both ends fall withing the expanded area.","body":"It doesn&#39;t seem trivial at all. You would need to take every segment of the border, establish a normal for that segment along the spherical surface of the earth, shift the line segment along the normal. Then calculate the intersection of the segment and the two neighboring segments, taking into account that a segment (or any series of segments) may become unnecessary because it&#39;s both ends fall withing the expanded area."},{"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"score":0,"creation_date":1680605517,"post_id":75928261,"comment_id":133922940,"body_markdown":"But in case you are trying to detect if a location is within 16km from German border, it may be easier to check if the distance from the given location to any border segments is less than 16km instead of trying to see if a location is inside a single geofence.","body":"But in case you are trying to detect if a location is within 16km from German border, it may be easier to check if the distance from the given location to any border segments is less than 16km instead of trying to see if a location is inside a single geofence."},{"owner":{"account_id":6683309,"reputation":51,"user_id":5155608,"display_name":"Ramirez"},"score":1,"creation_date":1685873970,"post_id":75928261,"comment_id":134719265,"body_markdown":"Solved this problem by using JTS","body":"Solved this problem by using JTS"}],"owner":{"account_id":6683309,"reputation":51,"user_id":5155608,"display_name":"Ramirez"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681386203,"creation_date":1680603992,"question_id":75928261,"body_markdown":"How can i scale a GPS-Border by given distance in km in Java. I have a Border-File e.g. Germany where lat, lon is saved in decimal form WGS84. My question is, how can i scale the border by 16km in both directions. I have found a Solution here but this is not working.\r\n\r\n    List&lt;Position&gt; step0 = new ArrayList&lt;&gt;();\r\n    for (int i = 0; i &lt; border0.getBorderPainter().getBorder().size(); i++) {\r\n          Position position = border0.getBorderPainter().getBorder().get(i);\r\n\r\n          double sfLat = borderData.getDist() / 110.574235;\r\n          double sfLon = (borderData.getDist() * Math.cos(Math.toRadians(position.getLat()))) / (110.572833 * Math.cos(Math.toRadians(position.getLat())));\r\n\r\n          step0.add(new Position(position.getLon() * sfLon, position.getLat() * sfLat));\r\n    }\r\n\r\n","title":"HowTo scale a GPS-Border in Java","body":"<p>How can i scale a GPS-Border by given distance in km in Java. I have a Border-File e.g. Germany where lat, lon is saved in decimal form WGS84. My question is, how can i scale the border by 16km in both directions. I have found a Solution here but this is not working.</p>\n<pre><code>List&lt;Position&gt; step0 = new ArrayList&lt;&gt;();\nfor (int i = 0; i &lt; border0.getBorderPainter().getBorder().size(); i++) {\n      Position position = border0.getBorderPainter().getBorder().get(i);\n\n      double sfLat = borderData.getDist() / 110.574235;\n      double sfLon = (borderData.getDist() * Math.cos(Math.toRadians(position.getLat()))) / (110.572833 * Math.cos(Math.toRadians(position.getLat())));\n\n      step0.add(new Position(position.getLon() * sfLon, position.getLat() * sfLat));\n}\n</code></pre>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"account_id":135407,"reputation":10653,"user_id":338249,"accept_rate":100,"display_name":"rjdkolb"},"score":0,"creation_date":1506623261,"post_id":46475913,"comment_id":79907046,"body_markdown":"Can you edit your question and give the versions of lwjgl and joml. Along with that, a small bit of runnable code to reproduce the issue.","body":"Can you edit your question and give the versions of lwjgl and joml. Along with that, a small bit of runnable code to reproduce the issue."},{"owner":{"account_id":10262030,"reputation":159,"user_id":7573046,"display_name":"ND523"},"score":0,"creation_date":1506623455,"post_id":46475913,"comment_id":79907157,"body_markdown":"@rjdkolb The code&#39;s rather large and requires most, if not all of it to run. Should I link my Github repo?","body":"@rjdkolb The code&#39;s rather large and requires most, if not all of it to run. Should I link my Github repo?"},{"owner":{"account_id":135407,"reputation":10653,"user_id":338249,"accept_rate":100,"display_name":"rjdkolb"},"score":0,"creation_date":1506623799,"post_id":46475913,"comment_id":79907370,"body_markdown":"Rather try make a small program to reproduce the issue. It will help you as well. jwjgl is probably crashing on your specific OS at school which is the difference. Please indicate the exact versions of OS it works on and which one not. e.g. Windows 10 64 bit, or Windows 7 32 bit","body":"Rather try make a small program to reproduce the issue. It will help you as well. jwjgl is probably crashing on your specific OS at school which is the difference. Please indicate the exact versions of OS it works on and which one not. e.g. Windows 10 64 bit, or Windows 7 32 bit"},{"owner":{"account_id":1730559,"reputation":1101,"user_id":1584263,"display_name":"blafasel"},"score":0,"creation_date":1506624053,"post_id":46475913,"comment_id":79907508,"body_markdown":"Check if you are running the same versions of Java. And try to check if the native library `C:\\Users\\XXX\\AppData\\Local\\Temp\\lwjglreaganrussell\\3.1.2-build-29\\lwjgl_opengl.dll` fits the target system.","body":"Check if you are running the same versions of Java. And try to check if the native library <code>C:\\Users\\XXX\\AppData\\Local\\Temp\\lwjglreaganrussell\\3.1.2-bui&zwnj;&#8203;ld-29\\lwjgl_opengl.d&zwnj;&#8203;ll</code> fits the target system."},{"owner":{"account_id":10262030,"reputation":159,"user_id":7573046,"display_name":"ND523"},"score":0,"creation_date":1506632321,"post_id":46475913,"comment_id":79911578,"body_markdown":"@rjdkolb Win10 64-bit at school, Win7 64-bit at home.","body":"@rjdkolb Win10 64-bit at school, Win7 64-bit at home."},{"owner":{"account_id":10262030,"reputation":159,"user_id":7573046,"display_name":"ND523"},"score":0,"creation_date":1506696453,"post_id":46475913,"comment_id":79937146,"body_markdown":"@blafasel Okay, so the error&#39;s back on both platforms. I&#39;ve messed with the DLL&#39;s and the error goes away for about 2 runs, then comes back.","body":"@blafasel Okay, so the error&#39;s back on both platforms. I&#39;ve messed with the DLL&#39;s and the error goes away for about 2 runs, then comes back."}],"answers":[{"tags":[],"owner":{"account_id":6630353,"reputation":5504,"user_id":8623159,"display_name":"httpdigest"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1506703184,"creation_date":1506703184,"answer_id":46493352,"question_id":46475913,"body_markdown":"Looking at the stacktrace:\r\n\r\n    j  nitrodragon.render.Texture.finalize()V+4\r\n    j  java.lang.System$2.invokeFinalize(Ljava/lang/Object;)V+1\r\n    j  java.lang.ref.Finalizer.runFinalizer(Lsun/misc/JavaLangAccess;)V+46\r\n    j  java.lang.ref.Finalizer.access$100(Ljava/lang/ref/Finalizer;Lsun/misc/JavaLangA ccess;)V+2\r\n    j  java.lang.ref.Finalizer$FinalizerThread.run()V+45\r\n\r\nyou are calling OpenGL functions inside of a finalize() method (inherited from Object.finalize()). You cannot do this, since the finalize() method is called by a special Finalizer thread at some point during Garbage Collection, in which obviously your OpenGL context is not current.\r\n\r\nThat is why LWJGL crashes.","title":"JVM Crash outside of the JVM in native code","body":"<p>Looking at the stacktrace:</p>\n\n<pre><code>j  nitrodragon.render.Texture.finalize()V+4\nj  java.lang.System$2.invokeFinalize(Ljava/lang/Object;)V+1\nj  java.lang.ref.Finalizer.runFinalizer(Lsun/misc/JavaLangAccess;)V+46\nj  java.lang.ref.Finalizer.access$100(Ljava/lang/ref/Finalizer;Lsun/misc/JavaLangA ccess;)V+2\nj  java.lang.ref.Finalizer$FinalizerThread.run()V+45\n</code></pre>\n\n<p>you are calling OpenGL functions inside of a finalize() method (inherited from Object.finalize()). You cannot do this, since the finalize() method is called by a special Finalizer thread at some point during Garbage Collection, in which obviously your OpenGL context is not current.</p>\n\n<p>That is why LWJGL crashes.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1681754823,"post_id":76005002,"comment_id":134104891,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76005002/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":7597032,"reputation":1,"user_id":5762916,"display_name":"Shyam Sundar Patri"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1681386114,"creation_date":1681386114,"answer_id":76005002,"question_id":46475913,"body_markdown":" 1.8.0_231 resolved the error for me.","title":"JVM Crash outside of the JVM in native code","body":"<p>1.8.0_231 resolved the error for me.</p>\n"}],"owner":{"account_id":10262030,"reputation":159,"user_id":7573046,"display_name":"ND523"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1579,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":46493352,"answer_count":2,"score":1,"last_activity_date":1681386114,"creation_date":1506622934,"question_id":46475913,"body_markdown":"After importing my project to my school computer using IntelliJ&#39;s Version Control, I went to test my project, but was met with this error upon running:\r\n\r\n    #\r\n    # A fatal error has been detected by the Java Runtime Environment:\r\n    #\r\n    #  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007fff45fcecfd, pid=4344, tid=0x0000000000002a8c\r\n    #\r\n    # JRE version: Java(TM) SE Runtime Environment (8.0_144-b01) (build 1.8.0_144-b01)\r\n    # Java VM: Java HotSpot(TM) 64-Bit Server VM (25.144-b01 mixed mode windows-amd64 compressed oops)\r\n    # Problematic frame:\r\n    # C  [lwjgl_opengl.dll+0xecfd]\r\n    #\r\n    # Failed to write core dump. Minidumps are not enabled by default on client versions of Windows\r\n    #\r\n    # If you would like to submit a bug report, please visit:\r\n    #   http://bugreport.java.com/bugreport/crash.jsp\r\n    # The crash happened outside the Java Virtual Machine in native code.\r\n    # See problematic frame for where to report the bug.\r\n    #\r\n\r\n    \r\nI checked out the log file, and it looks like this:\r\n\r\n    ---------------  T H R E A D  ---------------\r\n    \r\n    Current thread (0x00000000174df000):  JavaThread &quot;Finalizer&quot; daemon [_thread_in_native, id=10892, stack(0x0000000018750000,0x0000000018850000)]\r\n    \r\n    siginfo: ExceptionCode=0xc0000005, reading address 0x00000000000009d8\r\n    \r\n    Registers:\r\n    RAX=0x0000000055b41d50, RBX=0x000000001710c080, RCX=0x0000000000000001, RDX=0x0000000019a6812c\r\n    RSP=0x000000001884ee68, RBP=0x000000001884eee8, RSI=0x0000000019a6812c, RDI=0x000000000299835d\r\n    R8 =0x0000000000000001, R9 =0x0000000019a6812c, R10=0x0000000000000000, R11=0x00000000555cbc50\r\n    R12=0x0000000000000000, R13=0x000000001710c080, R14=0x000000001884ef18, R15=0x00000000174df000\r\n    RIP=0x00007fff45fcecfd, EFLAGS=0x0000000000010206\r\n    \r\n    Top of Stack: (sp=0x000000001884ee68)\r\n    0x000000001884ee68:   00000000029a7f74 000000000299835d\r\n    0x000000001884ee78:   00000000029a7ceb 00000000174df000\r\n    0x000000001884ee88:   000000001710c080 0000000019a6812c\r\n    0x000000001884ee98:   00000000174df000 00000000029a7ca2\r\n    0x000000001884eea8:   000000001884eea8 000000001710c080\r\n    0x000000001884eeb8:   000000001884ef18 00000000170d6d90\r\n    0x000000001884eec8:   0000000000000000 000000001710c080\r\n    0x000000001884eed8:   0000000000000000 000000001884ef08\r\n    0x000000001884eee8:   000000001884ef60 000000000299835d\r\n    0x000000001884eef8:   00000000d7dad188 00000000029a19d8\r\n    0x000000001884ef08:   0000000019a6812c 00000000d5da3138\r\n    0x000000001884ef18:   0000000000000001 000000001884ef20\r\n    0x000000001884ef28:   000000001710c1d4 000000001884ef90\r\n    0x000000001884ef38:   00000000170d6d90 0000000000000000\r\n    0x000000001884ef48:   000000001710c240 000000001884ef08\r\n    0x000000001884ef58:   000000001884ef90 000000001884efd8 \r\n    \r\n    Instructions: (pc=0x00007fff45fcecfd)\r\n    0x00007fff45fcecdd:   49 ff a2 00 0f 00 00 cc cc cc cc cc cc cc cc cc\r\n    0x00007fff45fceced:   cc cc cc 48 8b 01 49 8b d1 41 8b c8 4c 8b 50 18\r\n    0x00007fff45fcecfd:   49 ff a2 d8 09 00 00 cc cc cc cc cc cc cc cc cc\r\n    0x00007fff45fced0d:   cc cc cc 48 8b 01 49 8b d1 41 8b c8 4c 8b 50 18 \r\n    \r\n    \r\n    Register to memory mapping:\r\n    \r\n    RAX=0x0000000055b41d50 is an unknown value\r\n    RBX={method} {0x000000001710c088} &#39;nglDeleteTextures&#39; &#39;(IJ)V&#39; in &#39;org/lwjgl/opengl/GL11&#39;\r\n    RCX=0x0000000000000001 is an unknown value\r\n    RDX=0x0000000019a6812c is an unknown value\r\n    RSP=0x000000001884ee68 is pointing into the stack for thread: 0x00000000174df000\r\n    RBP=0x000000001884eee8 is pointing into the stack for thread: 0x00000000174df000\r\n    RSI=0x0000000019a6812c is an unknown value\r\n    RDI=0x000000000299835d is at code_begin+2301 in an Interpreter codelet\r\n    invoke return entry points  [0x0000000002997a60, 0x0000000002998440]  2528 bytes\r\n    R8 =0x0000000000000001 is an unknown value\r\n    R9 =0x0000000019a6812c is an unknown value\r\n    R10=0x0000000000000000 is an unknown value\r\n    R11=0x00000000555cbc50 is an unknown value\r\n    R12=0x0000000000000000 is an unknown value\r\n    R13={method} {0x000000001710c088} &#39;nglDeleteTextures&#39; &#39;(IJ)V&#39; in &#39;org/lwjgl/opengl/GL11&#39;\r\n    R14=0x000000001884ef18 is pointing into the stack for thread: 0x00000000174df000\r\n    R15=0x00000000174df000 is a thread\r\n    \r\n    \r\n    Stack: [0x0000000018750000,0x0000000018850000],  sp=0x000000001884ee68,  free space=1019k\r\n    Native frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\r\n    C  [lwjgl_opengl.dll+0xecfd]\r\n    \r\n    Java frames: (J=compiled Java code, j=interpreted, Vv=VM code)\r\n    j  org.lwjgl.opengl.GL11.nglDeleteTextures(IJ)V+0\r\n    j  org.lwjgl.opengl.GL11.glDeleteTextures(I)V+20\r\n    j  nitrodragon.render.Texture.finalize()V+4\r\n    j  java.lang.System$2.invokeFinalize(Ljava/lang/Object;)V+1\r\n    j  java.lang.ref.Finalizer.runFinalizer(Lsun/misc/JavaLangAccess;)V+46\r\n    j  java.lang.ref.Finalizer.access$100(Ljava/lang/ref/Finalizer;Lsun/misc/JavaLangAccess;)V+2\r\n    j  java.lang.ref.Finalizer$FinalizerThread.run()V+45\r\n    v  ~StubRoutines::call_stub\r\n    \r\n    ---------------  P R O C E S S  ---------------\r\n    \r\n    Java Threads: ( =&gt; current thread )\r\n      0x00000000199e5000 JavaThread &quot;Java2D Disposer&quot; daemon [_thread_blocked, id=6692, stack(0x000000001e6d0000,0x000000001e7d0000)]\r\n      0x0000000018d4e000 JavaThread &quot;Service Thread&quot; daemon [_thread_blocked, id=7596, stack(0x0000000019340000,0x0000000019440000)]\r\n      0x0000000018d20800 JavaThread &quot;C1 CompilerThread2&quot; daemon [_thread_blocked, id=8948, stack(0x0000000019240000,0x0000000019340000)]\r\n      0x0000000018cc7800 JavaThread &quot;C2 CompilerThread1&quot; daemon [_thread_in_native, id=10968, stack(0x0000000019140000,0x0000000019240000)]\r\n      0x0000000018cc3800 JavaThread &quot;C2 CompilerThread0&quot; daemon [_thread_blocked, id=9996, stack(0x0000000019040000,0x0000000019140000)]\r\n      0x0000000018c74800 JavaThread &quot;Monitor Ctrl-Break&quot; daemon [_thread_in_native, id=10044, stack(0x0000000018f40000,0x0000000019040000)]\r\n      0x00000000174ef800 JavaThread &quot;Attach Listener&quot; daemon [_thread_blocked, id=9520, stack(0x0000000018a40000,0x0000000018b40000)]\r\n      0x00000000028be800 JavaThread &quot;Signal Dispatcher&quot; daemon [_thread_blocked, id=4548, stack(0x0000000018940000,0x0000000018a40000)]\r\n    =&gt;0x00000000174df000 JavaThread &quot;Finalizer&quot; daemon [_thread_in_native, id=10892, stack(0x0000000018750000,0x0000000018850000)]\r\n      0x00000000028b5000 JavaThread &quot;Reference Handler&quot; daemon [_thread_blocked, id=11216, stack(0x0000000018650000,0x0000000018750000)]\r\n      0x00000000027c4000 JavaThread &quot;main&quot; [_thread_in_Java, id=10556, stack(0x0000000002490000,0x0000000002590000)]\r\n    \r\n    Other Threads:\r\n      0x00000000174b7800 VMThread [stack: 0x0000000018550000,0x0000000018650000] [id=6940]\r\n      0x0000000018e3f800 WatcherThread [stack: 0x0000000019440000,0x0000000019540000] [id=11940]\r\n    \r\n    VM state:not at safepoint (normal execution)\r\n    \r\n    VM Mutex/Monitor currently owned by a thread: None\r\n    \r\n    Heap:\r\n     PSYoungGen      total 38400K, used 6424K [0x00000000d5d00000, 0x00000000da800000, 0x0000000100000000)\r\n      eden space 33280K, 3% used [0x00000000d5d00000,0x00000000d5e49658,0x00000000d7d80000)\r\n      from space 5120K, 99% used [0x00000000d7d80000,0x00000000d827cd58,0x00000000d8280000)\r\n      to   space 5120K, 0% used [0x00000000da300000,0x00000000da300000,0x00000000da800000)\r\n     ParOldGen       total 87552K, used 337K [0x0000000081600000, 0x0000000086b80000, 0x00000000d5d00000)\r\n      object space 87552K, 0% used [0x0000000081600000,0x00000000816545b0,0x0000000086b80000)\r\n     Metaspace       used 10730K, capacity 10899K, committed 11136K, reserved 1058816K\r\n      class space    used 974K, capacity 1069K, committed 1152K, reserved 1048576K\r\n    \r\n    Card table byte_map: [0x0000000011d50000,0x0000000012150000] byte_map_base: 0x0000000011945000\r\n    \r\n    Marking Bits: (ParMarkBitMap*) 0x0000000055bbd850\r\n     Begin Bits: [0x0000000012800000, 0x00000000147a8000)\r\n     End Bits:   [0x00000000147a8000, 0x0000000016750000)\r\n    \r\n    Polling page: 0x0000000000b90000\r\n    \r\n    CodeCache: size=245760Kb used=3392Kb max_used=3405Kb free=242367Kb\r\n     bounds [0x0000000002990000, 0x0000000002cf0000, 0x0000000011990000]\r\n     total_blobs=1738 nmethods=881 adapters=768\r\n     compilation: enabled\r\n    \r\n    Compilation events (10 events):\r\n    Event: 2.195 Thread 0x0000000018cc7800  864       4       org.joml.Matrix4f::mul (7 bytes)\r\n    Event: 2.195 Thread 0x0000000018cc3800 nmethod 869 0x0000000002cd8d50 code [0x0000000002cd8ee0, 0x0000000002cd9528]\r\n    Event: 2.195 Thread 0x0000000018cc3800  865       4       nitrodragon.render.Shader::setUniform (20 bytes)\r\n    Event: 2.196 Thread 0x0000000018d20800  877       3       java.nio.Bits::tryReserveMemory (51 bytes)\r\n    Event: 2.196 Thread 0x0000000018d20800 nmethod 877 0x0000000002cdb290 code [0x0000000002cdb420, 0x0000000002cdba50]\r\n    Event: 2.197 Thread 0x0000000018cc7800 nmethod 864 0x0000000002cdd490 code [0x0000000002cdd5e0, 0x0000000002cdd768]\r\n    Event: 2.198 Thread 0x0000000018cc7800  878   !   4       java.lang.ref.Reference::tryHandlePending (115 bytes)\r\n    Event: 2.198 Thread 0x0000000018d20800  879   !   3       java.util.zip.ZipFile$ZipFileInflaterInputStream::close (67 bytes)\r\n    Event: 2.199 Thread 0x0000000018d20800 nmethod 879 0x0000000002cda4d0 code [0x0000000002cda6a0, 0x0000000002cdae98]\r\n    Event: 2.199 Thread 0x0000000018d20800  880       3       sun.misc.VM::addFinalRefCount (24 bytes)\r\n    \r\n    GC Heap History (2 events):\r\n    Event: 2.130 GC heap before\r\n    {Heap before GC invocations=1 (full 0):\r\n     PSYoungGen      total 38400K, used 33280K [0x00000000d5d00000, 0x00000000d8780000, 0x0000000100000000)\r\n      eden space 33280K, 100% used [0x00000000d5d00000,0x00000000d7d80000,0x00000000d7d80000)\r\n      from space 5120K, 0% used [0x00000000d8280000,0x00000000d8280000,0x00000000d8780000)\r\n      to   space 5120K, 0% used [0x00000000d7d80000,0x00000000d7d80000,0x00000000d8280000)\r\n     ParOldGen       total 87552K, used 0K [0x0000000081600000, 0x0000000086b80000, 0x00000000d5d00000)\r\n      object space 87552K, 0% used [0x0000000081600000,0x0000000081600000,0x0000000086b80000)\r\n     Metaspace       used 10724K, capacity 10899K, committed 11136K, reserved 1058816K\r\n      class space    used 974K, capacity 1069K, committed 1152K, reserved 1048576K\r\n    Event: 2.182 GC heap after\r\n    Heap after GC invocations=1 (full 0):\r\n     PSYoungGen      total 38400K, used 5107K [0x00000000d5d00000, 0x00000000da800000, 0x0000000100000000)\r\n      eden space 33280K, 0% used [0x00000000d5d00000,0x00000000d5d00000,0x00000000d7d80000)\r\n      from space 5120K, 99% used [0x00000000d7d80000,0x00000000d827cd58,0x00000000d8280000)\r\n      to   space 5120K, 0% used [0x00000000da300000,0x00000000da300000,0x00000000da800000)\r\n     ParOldGen       total 87552K, used 337K [0x0000000081600000, 0x0000000086b80000, 0x00000000d5d00000)\r\n      object space 87552K, 0% used [0x0000000081600000,0x00000000816545b0,0x0000000086b80000)\r\n     Metaspace       used 10724K, capacity 10899K, committed 11136K, reserved 1058816K\r\n      class space    used 974K, capacity 1069K, committed 1152K, reserved 1048576K\r\n    }\r\n    \r\n    Deoptimization events (10 events):\r\n    Event: 2.183 Thread 0x00000000027c4000 Uncommon trap: reason=unstable_if action=reinterpret pc=0x0000000002cce664 method=java.nio.Bits.tryReserveMemory(JI)Z @ 29\r\n    Event: 2.183 Thread 0x00000000027c4000 Uncommon trap: reason=unstable_if action=reinterpret pc=0x0000000002cca9a0 method=java.nio.Bits.tryReserveMemory(JI)Z @ 29\r\n    Event: 2.184 Thread 0x00000000027c4000 Uncommon trap: reason=unstable_if action=reinterpret pc=0x0000000002cc38d0 method=java.nio.Bits.tryReserveMemory(JI)Z @ 29\r\n    Event: 2.192 Thread 0x00000000027c4000 Uncommon trap: reason=unstable_if action=reinterpret pc=0x0000000002cc0500 method=java.nio.Bits.tryReserveMemory(JI)Z @ 29\r\n    Event: 2.192 Thread 0x00000000027c4000 Uncommon trap: reason=unstable_if action=reinterpret pc=0x0000000002cb38a0 method=java.nio.Bits.tryReserveMemory(JI)Z @ 29\r\n    Event: 2.197 Thread 0x00000000028b5000 Uncommon trap: reason=class_check action=maybe_recompile pc=0x0000000002cd94a8 method=java.lang.ref.Reference.tryHandlePending(Z)Z @ 17\r\n    Event: 2.198 Thread 0x00000000028b5000 Uncommon trap: reason=class_check action=maybe_recompile pc=0x0000000002cd94a8 method=java.lang.ref.Reference.tryHandlePending(Z)Z @ 17\r\n    Event: 2.198 Thread 0x00000000028b5000 Uncommon trap: reason=class_check action=maybe_recompile pc=0x0000000002cd94a8 method=java.lang.ref.Reference.tryHandlePending(Z)Z @ 17\r\n    Event: 2.198 Thread 0x00000000028b5000 Uncommon trap: reason=class_check action=maybe_recompile pc=0x0000000002cd94a8 method=java.lang.ref.Reference.tryHandlePending(Z)Z @ 17\r\n    Event: 2.199 Thread 0x00000000174df000 Uncommon trap: reason=unstable_if action=reinterpret pc=0x0000000002cb06ec method=java.lang.ThreadLocal.get()Ljava/lang/Object; @ 11\r\n    \r\n    Internal exceptions (10 events):\r\n    Event: 0.460 Thread 0x00000000027c4000 Exception &lt;a &#39;java/lang/NoSuchFieldError&#39;: method resolution failed&gt; (0x00000000d62ad5f0) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u144\\9417\\hotspot\\src\\share\\vm\\prims\\methodHandles.cpp, line 1146]\r\n    Event: 0.463 Thread 0x00000000027c4000 Exception &lt;a &#39;java/lang/NoSuchFieldError&#39;: method resolution failed&gt; (0x00000000d62bb498) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u144\\9417\\hotspot\\src\\share\\vm\\prims\\methodHandles.cpp, line 1146]\r\n    Event: 0.558 Thread 0x00000000027c4000 Exception &lt;a &#39;java/security/PrivilegedActionException&#39;&gt; (0x00000000d64c3bb8) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u144\\9417\\hotspot\\src\\share\\vm\\prims\\jvm.cpp, line 1390]\r\n    Event: 0.558 Thread 0x00000000027c4000 Exception &lt;a &#39;java/security/PrivilegedActionException&#39;&gt; (0x00000000d64c3dc8) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u144\\9417\\hotspot\\src\\share\\vm\\prims\\jvm.cpp, line 1390]\r\n    Event: 0.559 Thread 0x00000000027c4000 Exception &lt;a &#39;java/security/PrivilegedActionException&#39;&gt; (0x00000000d64c7ec0) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u144\\9417\\hotspot\\src\\share\\vm\\prims\\jvm.cpp, line 1390]\r\n    Event: 0.559 Thread 0x00000000027c4000 Exception &lt;a &#39;java/security/PrivilegedActionException&#39;&gt; (0x00000000d64c80d0) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u144\\9417\\hotspot\\src\\share\\vm\\prims\\jvm.cpp, line 1390]\r\n    Event: 0.783 Thread 0x00000000027c4000 Exception &lt;a &#39;sun/nio/fs/WindowsException&#39;&gt; (0x00000000d6770ae8) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u144\\9417\\hotspot\\src\\share\\vm\\prims\\jni.cpp, line 709]\r\n    Event: 0.783 Thread 0x00000000027c4000 Exception &lt;a &#39;sun/nio/fs/WindowsException&#39;&gt; (0x00000000d6772558) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u144\\9417\\hotspot\\src\\share\\vm\\prims\\jni.cpp, line 709]\r\n    Event: 1.258 Thread 0x00000000027c4000 Exception &lt;a &#39;java/io/FileNotFoundException&#39;&gt; (0x00000000d71208d0) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u144\\9417\\hotspot\\src\\share\\vm\\prims\\jni.cpp, line 709]\r\n    Event: 2.199 Thread 0x00000000174df000 Implicit null exception at 0x0000000002cb061c to 0x0000000002cb06d5\r\n    \r\n    Events (10 events):\r\n    Event: 2.198 Thread 0x00000000028b5000 DEOPT UNPACKING pc=0x00000000029d582a sp=0x000000001874f168 mode 2\r\n    Event: 2.198 Thread 0x00000000028b5000 Uncommon trap: trap_request=0xffffffde fr.pc=0x0000000002cd94a8\r\n    Event: 2.198 Thread 0x00000000028b5000 DEOPT PACKING pc=0x0000000002cd94a8 sp=0x000000001874f1c0\r\n    Event: 2.198 Thread 0x00000000028b5000 DEOPT UNPACKING pc=0x00000000029d582a sp=0x000000001874f168 mode 2\r\n    Event: 2.198 Thread 0x00000000028b5000 Uncommon trap: trap_request=0xffffffde fr.pc=0x0000000002cd94a8\r\n    Event: 2.198 Thread 0x00000000028b5000 DEOPT PACKING pc=0x0000000002cd94a8 sp=0x000000001874f1c0\r\n    Event: 2.198 Thread 0x00000000028b5000 DEOPT UNPACKING pc=0x00000000029d582a sp=0x000000001874f168 mode 2\r\n    Event: 2.199 Thread 0x00000000174df000 Uncommon trap: trap_request=0xffffff65 fr.pc=0x0000000002cb06ec\r\n    Event: 2.199 Thread 0x00000000174df000 DEOPT PACKING pc=0x0000000002cb06ec sp=0x000000001884ee80\r\n    Event: 2.199 Thread 0x00000000174df000 DEOPT UNPACKING pc=0x00000000029d582a sp=0x000000001884ee20 mode 2\r\n    \r\n    \r\n    Dynamic libraries:\r\n    0x00007ff6356c0000 - 0x00007ff6356f7000 \tC:\\Program Files\\Java\\jdk1.8.0_144\\bin\\java.exe\r\n    0x00007fff5cdb0000 - 0x00007fff5cf8b000 \tC:\\Windows\\SYSTEM32\\ntdll.dll\r\n    0x00007fff5a940000 - 0x00007fff5a9ee000 \tC:\\Windows\\System32\\KERNEL32.DLL\r\n    0x00007fff596c0000 - 0x00007fff59909000 \tC:\\Windows\\System32\\KERNELBASE.dll\r\n    0x00007fff5a890000 - 0x00007fff5a931000 \tC:\\Windows\\System32\\ADVAPI32.dll\r\n    0x00007fff5ccf0000 - 0x00007fff5cd8d000 \tC:\\Windows\\System32\\msvcrt.dll\r\n    0x00007fff5afa0000 - 0x00007fff5aff9000 \tC:\\Windows\\System32\\sechost.dll\r\n    0x00007fff5a460000 - 0x00007fff5a585000 \tC:\\Windows\\System32\\RPCRT4.dll\r\n    0x00007fff5b300000 - 0x00007fff5b44a000 \tC:\\Windows\\System32\\USER32.dll\r\n    0x00007fff593d0000 - 0x00007fff593ee000 \tC:\\Windows\\System32\\win32u.dll\r\n    0x00007fff5a7d0000 - 0x00007fff5a7f7000 \tC:\\Windows\\System32\\GDI32.dll\r\n    0x00007fff59980000 - 0x00007fff59b08000 \tC:\\Windows\\System32\\gdi32full.dll\r\n    0x00007fff592d0000 - 0x00007fff5936a000 \tC:\\Windows\\System32\\msvcp_win.dll\r\n    0x00007fff595c0000 - 0x00007fff596b6000 \tC:\\Windows\\System32\\ucrtbase.dll\r\n    0x00007fff4f480000 - 0x00007fff4f6e7000 \tC:\\Windows\\WinSxS\\amd64_microsoft.windows.common-controls_6595b64144ccf1df_6.0.15063.483_none_26002d27e7c744a2\\COMCTL32.dll\r\n    0x00007fff5b000000 - 0x00007fff5b2f9000 \tC:\\Windows\\System32\\combase.dll\r\n    0x00007fff59910000 - 0x00007fff5997a000 \tC:\\Windows\\System32\\bcryptPrimitives.dll\r\n    0x00007fff5a740000 - 0x00007fff5a76d000 \tC:\\Windows\\System32\\IMM32.DLL\r\n    0x0000000055c40000 - 0x0000000055d12000 \tC:\\Program Files\\Java\\jdk1.8.0_144\\jre\\bin\\msvcr100.dll\r\n    0x00000000553a0000 - 0x0000000055c3d000 \tC:\\Program Files\\Java\\jdk1.8.0_144\\jre\\bin\\server\\jvm.dll\r\n    0x00007fff5a590000 - 0x00007fff5a598000 \tC:\\Windows\\System32\\PSAPI.DLL\r\n    0x00007fff4f790000 - 0x00007fff4f799000 \tC:\\Windows\\SYSTEM32\\WSOCK32.dll\r\n    0x00007fff5b7a0000 - 0x00007fff5b80c000 \tC:\\Windows\\System32\\WS2_32.dll\r\n    0x00007fff4ca60000 - 0x00007fff4ca6a000 \tC:\\Windows\\SYSTEM32\\VERSION.dll\r\n    0x00007fff57790000 - 0x00007fff577b3000 \tC:\\Windows\\SYSTEM32\\WINMM.dll\r\n    0x00007fff57730000 - 0x00007fff5775b000 \tC:\\Windows\\SYSTEM32\\WINMMBASE.dll\r\n    0x00007fff59b10000 - 0x00007fff59b59000 \tC:\\Windows\\System32\\cfgmgr32.dll\r\n    0x0000000055390000 - 0x000000005539f000 \tC:\\Program Files\\Java\\jdk1.8.0_144\\jre\\bin\\verify.dll\r\n    0x0000000055360000 - 0x0000000055389000 \tC:\\Program Files\\Java\\jdk1.8.0_144\\jre\\bin\\java.dll\r\n    0x0000000055330000 - 0x0000000055353000 \tC:\\Program Files\\Java\\jdk1.8.0_144\\jre\\bin\\instrument.dll\r\n    0x0000000055310000 - 0x0000000055326000 \tC:\\Program Files\\Java\\jdk1.8.0_144\\jre\\bin\\zip.dll\r\n    0x00007fff5b8b0000 - 0x00007fff5cce7000 \tC:\\Windows\\System32\\SHELL32.dll\r\n    0x00007fff5ae90000 - 0x00007fff5af3a000 \tC:\\Windows\\System32\\shcore.dll\r\n    0x00007fff59b60000 - 0x00007fff5a252000 \tC:\\Windows\\System32\\windows.storage.dll\r\n    0x00007fff5af40000 - 0x00007fff5af91000 \tC:\\Windows\\System32\\shlwapi.dll\r\n    0x00007fff59290000 - 0x00007fff592a1000 \tC:\\Windows\\System32\\kernel.appcore.dll\r\n    0x00007fff59240000 - 0x00007fff5928c000 \tC:\\Windows\\System32\\powrprof.dll\r\n    0x00007fff59220000 - 0x00007fff59235000 \tC:\\Windows\\System32\\profapi.dll\r\n    0x00007fff49380000 - 0x00007fff4939a000 \tC:\\Program Files\\JetBrains\\IntelliJ IDEA 2017.2.3\\bin\\breakgen64.dll\r\n    0x00000000552f0000 - 0x000000005530a000 \tC:\\Program Files\\Java\\jdk1.8.0_144\\jre\\bin\\net.dll\r\n    0x00007fff58ad0000 - 0x00007fff58b2c000 \tC:\\Windows\\system32\\mswsock.dll\r\n    0x00000000552d0000 - 0x00000000552e1000 \tC:\\Program Files\\Java\\jdk1.8.0_144\\jre\\bin\\nio.dll\r\n    0x00007fff47c20000 - 0x00007fff47c77000 \tC:\\Users\\reaganrussell\\AppData\\Local\\Temp\\lwjglreaganrussell\\3.1.2-build-29\\lwjgl.dll\r\n    0x00007fff48a70000 - 0x00007fff48aac000 \tC:\\Users\\REAGAN~1\\AppData\\Local\\Temp\\lwjglreaganrussell\\3.1.2-build-29\\jemalloc.dll\r\n    0x00007fff46960000 - 0x00007fff4699d000 \tC:\\Users\\REAGAN~1\\AppData\\Local\\Temp\\lwjglreaganrussell\\3.1.2-build-29\\glfw.dll\r\n    0x00007fff57980000 - 0x00007fff57a15000 \tC:\\Windows\\system32\\uxtheme.dll\r\n    0x00007fff46020000 - 0x00007fff46062000 \tC:\\Windows\\SYSTEM32\\dinput8.dll\r\n    0x00007fff577f0000 - 0x00007fff577fe000 \tC:\\Windows\\SYSTEM32\\xinput1_4.dll\r\n    0x00007fff57c30000 - 0x00007fff57c58000 \tC:\\Windows\\SYSTEM32\\DEVOBJ.dll\r\n    0x00007fff576d0000 - 0x00007fff576fa000 \tC:\\Windows\\SYSTEM32\\dwmapi.dll\r\n    0x00007fff5b450000 - 0x00007fff5b5b6000 \tC:\\Windows\\System32\\MSCTF.dll\r\n    0x00007fff5b5d0000 - 0x00007fff5b690000 \tC:\\Windows\\System32\\OLEAUT32.dll\r\n    0x00007fff58000000 - 0x00007fff5800d000 \tC:\\Windows\\SYSTEM32\\HID.DLL\r\n    0x00007fff5a9f0000 - 0x00007fff5ae2b000 \tC:\\Windows\\System32\\SETUPAPI.DLL\r\n    0x00007fff59370000 - 0x00007fff593c6000 \tC:\\Windows\\System32\\WINTRUST.dll\r\n    0x00007fff592b0000 - 0x00007fff592c1000 \tC:\\Windows\\System32\\MSASN1.dll\r\n    0x00007fff593f0000 - 0x00007fff595b9000 \tC:\\Windows\\System32\\CRYPT32.dll\r\n    0x00007fff3f3f0000 - 0x00007fff3f511000 \tC:\\Windows\\SYSTEM32\\opengl32.dll\r\n    0x00007fff3f380000 - 0x00007fff3f3ac000 \tC:\\Windows\\SYSTEM32\\GLU32.dll\r\n    0x00007fff34430000 - 0x00007fff34c62000 \tC:\\Windows\\SYSTEM32\\ig7icd64.dll\r\n    0x00007fff53800000 - 0x00007fff53c64000 \tC:\\Windows\\SYSTEM32\\igdusc64.dll\r\n    0x00007fff576b0000 - 0x00007fff576c3000 \tC:\\Windows\\SYSTEM32\\WTSAPI32.dll\r\n    0x00007fff52950000 - 0x00007fff529d2000 \tC:\\Windows\\System32\\TextInputFramework.dll\r\n    0x00007fff54ed0000 - 0x00007fff551a2000 \tC:\\Windows\\System32\\CoreUIComponents.dll\r\n    0x00007fff57070000 - 0x00007fff57153000 \tC:\\Windows\\System32\\CoreMessaging.dll\r\n    0x00007fff58530000 - 0x00007fff58561000 \tC:\\Windows\\SYSTEM32\\ntmarta.dll\r\n    0x00007fff559f0000 - 0x00007fff55b29000 \tC:\\Windows\\SYSTEM32\\wintypes.dll\r\n    0x00007fff55950000 - 0x00007fff55965000 \tC:\\Windows\\SYSTEM32\\usermgrcli.dll\r\n    0x00007fff45fc0000 - 0x00007fff4601c000 \tC:\\Users\\reaganrussell\\AppData\\Local\\Temp\\lwjglreaganrussell\\3.1.2-build-29\\lwjgl_opengl.dll\r\n    0x0000000055130000 - 0x00000000552c8000 \tC:\\Program Files\\Java\\jdk1.8.0_144\\jre\\bin\\awt.dll\r\n    0x00007fff57630000 - 0x00007fff576ae000 \tC:\\Windows\\SYSTEM32\\apphelp.dll\r\n    0x00007fff4b5d0000 - 0x00007fff4b779000 \tC:\\Windows\\SYSTEM32\\dbghelp.dll\r\n    \r\n    VM Arguments:\r\n    jvm_args: -Djava.library.path=./lib -javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2017.2.3\\lib\\idea_rt.jar=52248:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2017.2.3\\bin -Dfile.encoding=UTF-8 \r\n    java_command: nitrodragon.game.Main\r\n    java_class_path (initial): C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\lib\\charsets.jar;C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\lib\\deploy.jar;C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\lib\\ext\\access-bridge-64.jar;C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\lib\\ext\\cldrdata.jar;C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\lib\\ext\\dnsns.jar;C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\lib\\ext\\jaccess.jar;C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\lib\\ext\\jfxrt.jar;C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\lib\\ext\\localedata.jar;C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\lib\\ext\\nashorn.jar;C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\lib\\ext\\sunec.jar;C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\lib\\ext\\sunjce_provider.jar;C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\lib\\ext\\sunmscapi.jar;C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\lib\\ext\\sunpkcs11.jar;C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\lib\\ext\\zipfs.jar;C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\lib\\javaws.jar;C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\lib\\jce.jar;C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\lib\\jfr.jar;C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\lib\\jfxswt.jar;C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\lib\\jsse.jar;C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\lib\\management-agent.jar;C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\lib\\plugin.jar;C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\lib\\resources.jar;C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\lib\\rt.jar;C:\\Users\\reaganrussell\\Desktop\\Thundering Tests\\lwjgl3_stuff\\bin;C:\\Users\\reaganrussell\\Desktop\\Thundering Tests\\lwjgl3_stuff\\lib\\lwjgl-assimp-natives-windows.jar;C:\\Users\\reaganrussell\\Desktop\\Thundering Tests\\lwjgl3_stuff\\lib\\lwjgl-assimp.jar;C:\\Users\\reaganrussell\\Desktop\\Thundering Tests\\lwjgl3_stuff\\lib\\lwjgl-glfw-natives-windows.jar;C:\\Users\\reaganrussell\\Desktop\\Thundering Tests\\lwjgl3_stuff\\lib\\lwjgl-glfw.jar;C:\\Users\\reaganrussell\\Desktop\\Thundering Tests\\lwjgl3_stuff\\lib\\lwjgl-openal-natives-windows.jar;C:\\Users\\reaganrussell\\Desktop\\Thundering Tests\\lwjgl3_stuff\\lib\\lwjgl-openal.jar;C:\\Users\\reaganrussell\\Desktop\\Thundering Tests\\\r\n    Launcher Type: SUN_STANDARD\r\n    \r\n    Environment Variables:\r\n    PATH=C:\\ProgramData\\Oracle\\Java\\javapath;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Users\\reaganrussell\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\[redacted]\\AppData\\Local\\GitHubDesktop\\bin;C:\\Users\\[redacted]\\Desktop\\Git\\cmd\r\n    USERNAME=[redacted]\r\n    OS=Windows_NT\r\n    PROCESSOR_IDENTIFIER=Intel64 Family 6 Model 58 Stepping 9, GenuineIntel\r\n    \r\n    \r\n    \r\n    ---------------  S Y S T E M  ---------------\r\n    \r\n    OS: Windows 10.0 , 64 bit Build 15063 (10.0.15063.296)\r\n    \r\n    CPU:total 4 (initial active 4) (2 cores per cpu, 2 threads per core) family 6 model 58 stepping 9, cmov, cx8, fxsr, mmx, sse, sse2, sse3, ssse3, sse4.1, sse4.2, popcnt, avx, aes, clmul, erms, ht, tsc, tscinvbit, tscinv\r\n    \r\n    Memory: 4k page, physical 8293044k(3366196k free), swap 9603764k(3499084k free)\r\n    \r\n    vm_info: Java HotSpot(TM) 64-Bit Server VM (25.144-b01) for windows-amd64 JRE (1.8.0_144-b01), built on Jul 21 2017 21:57:33 by &quot;java_re&quot; with MS VC++ 10.0 (VS2010)\r\n    \r\n    time: Thu Sep 28 10:39:39 2017\r\n    elapsed time: 2 seconds (0d 0h 0m 2s)\r\n\r\nSo, I reinstalled my libraries (I&#39;m using LWJGL 3.1.3 and JOML 1.9.4) and tried to set up a Maven dependency instead, but neither solutions worked. What else should I do? My code runs well at home, so it&#39;s highly likely it&#39;s not an issue with that.\r\n","title":"JVM Crash outside of the JVM in native code","body":"<p>After importing my project to my school computer using IntelliJ's Version Control, I went to test my project, but was met with this error upon running:</p>\n\n<pre><code>#\n# A fatal error has been detected by the Java Runtime Environment:\n#\n#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007fff45fcecfd, pid=4344, tid=0x0000000000002a8c\n#\n# JRE version: Java(TM) SE Runtime Environment (8.0_144-b01) (build 1.8.0_144-b01)\n# Java VM: Java HotSpot(TM) 64-Bit Server VM (25.144-b01 mixed mode windows-amd64 compressed oops)\n# Problematic frame:\n# C  [lwjgl_opengl.dll+0xecfd]\n#\n# Failed to write core dump. Minidumps are not enabled by default on client versions of Windows\n#\n# If you would like to submit a bug report, please visit:\n#   http://bugreport.java.com/bugreport/crash.jsp\n# The crash happened outside the Java Virtual Machine in native code.\n# See problematic frame for where to report the bug.\n#\n</code></pre>\n\n<p>I checked out the log file, and it looks like this:</p>\n\n<pre><code>---------------  T H R E A D  ---------------\n\nCurrent thread (0x00000000174df000):  JavaThread \"Finalizer\" daemon [_thread_in_native, id=10892, stack(0x0000000018750000,0x0000000018850000)]\n\nsiginfo: ExceptionCode=0xc0000005, reading address 0x00000000000009d8\n\nRegisters:\nRAX=0x0000000055b41d50, RBX=0x000000001710c080, RCX=0x0000000000000001, RDX=0x0000000019a6812c\nRSP=0x000000001884ee68, RBP=0x000000001884eee8, RSI=0x0000000019a6812c, RDI=0x000000000299835d\nR8 =0x0000000000000001, R9 =0x0000000019a6812c, R10=0x0000000000000000, R11=0x00000000555cbc50\nR12=0x0000000000000000, R13=0x000000001710c080, R14=0x000000001884ef18, R15=0x00000000174df000\nRIP=0x00007fff45fcecfd, EFLAGS=0x0000000000010206\n\nTop of Stack: (sp=0x000000001884ee68)\n0x000000001884ee68:   00000000029a7f74 000000000299835d\n0x000000001884ee78:   00000000029a7ceb 00000000174df000\n0x000000001884ee88:   000000001710c080 0000000019a6812c\n0x000000001884ee98:   00000000174df000 00000000029a7ca2\n0x000000001884eea8:   000000001884eea8 000000001710c080\n0x000000001884eeb8:   000000001884ef18 00000000170d6d90\n0x000000001884eec8:   0000000000000000 000000001710c080\n0x000000001884eed8:   0000000000000000 000000001884ef08\n0x000000001884eee8:   000000001884ef60 000000000299835d\n0x000000001884eef8:   00000000d7dad188 00000000029a19d8\n0x000000001884ef08:   0000000019a6812c 00000000d5da3138\n0x000000001884ef18:   0000000000000001 000000001884ef20\n0x000000001884ef28:   000000001710c1d4 000000001884ef90\n0x000000001884ef38:   00000000170d6d90 0000000000000000\n0x000000001884ef48:   000000001710c240 000000001884ef08\n0x000000001884ef58:   000000001884ef90 000000001884efd8 \n\nInstructions: (pc=0x00007fff45fcecfd)\n0x00007fff45fcecdd:   49 ff a2 00 0f 00 00 cc cc cc cc cc cc cc cc cc\n0x00007fff45fceced:   cc cc cc 48 8b 01 49 8b d1 41 8b c8 4c 8b 50 18\n0x00007fff45fcecfd:   49 ff a2 d8 09 00 00 cc cc cc cc cc cc cc cc cc\n0x00007fff45fced0d:   cc cc cc 48 8b 01 49 8b d1 41 8b c8 4c 8b 50 18 \n\n\nRegister to memory mapping:\n\nRAX=0x0000000055b41d50 is an unknown value\nRBX={method} {0x000000001710c088} 'nglDeleteTextures' '(IJ)V' in 'org/lwjgl/opengl/GL11'\nRCX=0x0000000000000001 is an unknown value\nRDX=0x0000000019a6812c is an unknown value\nRSP=0x000000001884ee68 is pointing into the stack for thread: 0x00000000174df000\nRBP=0x000000001884eee8 is pointing into the stack for thread: 0x00000000174df000\nRSI=0x0000000019a6812c is an unknown value\nRDI=0x000000000299835d is at code_begin+2301 in an Interpreter codelet\ninvoke return entry points  [0x0000000002997a60, 0x0000000002998440]  2528 bytes\nR8 =0x0000000000000001 is an unknown value\nR9 =0x0000000019a6812c is an unknown value\nR10=0x0000000000000000 is an unknown value\nR11=0x00000000555cbc50 is an unknown value\nR12=0x0000000000000000 is an unknown value\nR13={method} {0x000000001710c088} 'nglDeleteTextures' '(IJ)V' in 'org/lwjgl/opengl/GL11'\nR14=0x000000001884ef18 is pointing into the stack for thread: 0x00000000174df000\nR15=0x00000000174df000 is a thread\n\n\nStack: [0x0000000018750000,0x0000000018850000],  sp=0x000000001884ee68,  free space=1019k\nNative frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\nC  [lwjgl_opengl.dll+0xecfd]\n\nJava frames: (J=compiled Java code, j=interpreted, Vv=VM code)\nj  org.lwjgl.opengl.GL11.nglDeleteTextures(IJ)V+0\nj  org.lwjgl.opengl.GL11.glDeleteTextures(I)V+20\nj  nitrodragon.render.Texture.finalize()V+4\nj  java.lang.System$2.invokeFinalize(Ljava/lang/Object;)V+1\nj  java.lang.ref.Finalizer.runFinalizer(Lsun/misc/JavaLangAccess;)V+46\nj  java.lang.ref.Finalizer.access$100(Ljava/lang/ref/Finalizer;Lsun/misc/JavaLangAccess;)V+2\nj  java.lang.ref.Finalizer$FinalizerThread.run()V+45\nv  ~StubRoutines::call_stub\n\n---------------  P R O C E S S  ---------------\n\nJava Threads: ( =&gt; current thread )\n  0x00000000199e5000 JavaThread \"Java2D Disposer\" daemon [_thread_blocked, id=6692, stack(0x000000001e6d0000,0x000000001e7d0000)]\n  0x0000000018d4e000 JavaThread \"Service Thread\" daemon [_thread_blocked, id=7596, stack(0x0000000019340000,0x0000000019440000)]\n  0x0000000018d20800 JavaThread \"C1 CompilerThread2\" daemon [_thread_blocked, id=8948, stack(0x0000000019240000,0x0000000019340000)]\n  0x0000000018cc7800 JavaThread \"C2 CompilerThread1\" daemon [_thread_in_native, id=10968, stack(0x0000000019140000,0x0000000019240000)]\n  0x0000000018cc3800 JavaThread \"C2 CompilerThread0\" daemon [_thread_blocked, id=9996, stack(0x0000000019040000,0x0000000019140000)]\n  0x0000000018c74800 JavaThread \"Monitor Ctrl-Break\" daemon [_thread_in_native, id=10044, stack(0x0000000018f40000,0x0000000019040000)]\n  0x00000000174ef800 JavaThread \"Attach Listener\" daemon [_thread_blocked, id=9520, stack(0x0000000018a40000,0x0000000018b40000)]\n  0x00000000028be800 JavaThread \"Signal Dispatcher\" daemon [_thread_blocked, id=4548, stack(0x0000000018940000,0x0000000018a40000)]\n=&gt;0x00000000174df000 JavaThread \"Finalizer\" daemon [_thread_in_native, id=10892, stack(0x0000000018750000,0x0000000018850000)]\n  0x00000000028b5000 JavaThread \"Reference Handler\" daemon [_thread_blocked, id=11216, stack(0x0000000018650000,0x0000000018750000)]\n  0x00000000027c4000 JavaThread \"main\" [_thread_in_Java, id=10556, stack(0x0000000002490000,0x0000000002590000)]\n\nOther Threads:\n  0x00000000174b7800 VMThread [stack: 0x0000000018550000,0x0000000018650000] [id=6940]\n  0x0000000018e3f800 WatcherThread [stack: 0x0000000019440000,0x0000000019540000] [id=11940]\n\nVM state:not at safepoint (normal execution)\n\nVM Mutex/Monitor currently owned by a thread: None\n\nHeap:\n PSYoungGen      total 38400K, used 6424K [0x00000000d5d00000, 0x00000000da800000, 0x0000000100000000)\n  eden space 33280K, 3% used [0x00000000d5d00000,0x00000000d5e49658,0x00000000d7d80000)\n  from space 5120K, 99% used [0x00000000d7d80000,0x00000000d827cd58,0x00000000d8280000)\n  to   space 5120K, 0% used [0x00000000da300000,0x00000000da300000,0x00000000da800000)\n ParOldGen       total 87552K, used 337K [0x0000000081600000, 0x0000000086b80000, 0x00000000d5d00000)\n  object space 87552K, 0% used [0x0000000081600000,0x00000000816545b0,0x0000000086b80000)\n Metaspace       used 10730K, capacity 10899K, committed 11136K, reserved 1058816K\n  class space    used 974K, capacity 1069K, committed 1152K, reserved 1048576K\n\nCard table byte_map: [0x0000000011d50000,0x0000000012150000] byte_map_base: 0x0000000011945000\n\nMarking Bits: (ParMarkBitMap*) 0x0000000055bbd850\n Begin Bits: [0x0000000012800000, 0x00000000147a8000)\n End Bits:   [0x00000000147a8000, 0x0000000016750000)\n\nPolling page: 0x0000000000b90000\n\nCodeCache: size=245760Kb used=3392Kb max_used=3405Kb free=242367Kb\n bounds [0x0000000002990000, 0x0000000002cf0000, 0x0000000011990000]\n total_blobs=1738 nmethods=881 adapters=768\n compilation: enabled\n\nCompilation events (10 events):\nEvent: 2.195 Thread 0x0000000018cc7800  864       4       org.joml.Matrix4f::mul (7 bytes)\nEvent: 2.195 Thread 0x0000000018cc3800 nmethod 869 0x0000000002cd8d50 code [0x0000000002cd8ee0, 0x0000000002cd9528]\nEvent: 2.195 Thread 0x0000000018cc3800  865       4       nitrodragon.render.Shader::setUniform (20 bytes)\nEvent: 2.196 Thread 0x0000000018d20800  877       3       java.nio.Bits::tryReserveMemory (51 bytes)\nEvent: 2.196 Thread 0x0000000018d20800 nmethod 877 0x0000000002cdb290 code [0x0000000002cdb420, 0x0000000002cdba50]\nEvent: 2.197 Thread 0x0000000018cc7800 nmethod 864 0x0000000002cdd490 code [0x0000000002cdd5e0, 0x0000000002cdd768]\nEvent: 2.198 Thread 0x0000000018cc7800  878   !   4       java.lang.ref.Reference::tryHandlePending (115 bytes)\nEvent: 2.198 Thread 0x0000000018d20800  879   !   3       java.util.zip.ZipFile$ZipFileInflaterInputStream::close (67 bytes)\nEvent: 2.199 Thread 0x0000000018d20800 nmethod 879 0x0000000002cda4d0 code [0x0000000002cda6a0, 0x0000000002cdae98]\nEvent: 2.199 Thread 0x0000000018d20800  880       3       sun.misc.VM::addFinalRefCount (24 bytes)\n\nGC Heap History (2 events):\nEvent: 2.130 GC heap before\n{Heap before GC invocations=1 (full 0):\n PSYoungGen      total 38400K, used 33280K [0x00000000d5d00000, 0x00000000d8780000, 0x0000000100000000)\n  eden space 33280K, 100% used [0x00000000d5d00000,0x00000000d7d80000,0x00000000d7d80000)\n  from space 5120K, 0% used [0x00000000d8280000,0x00000000d8280000,0x00000000d8780000)\n  to   space 5120K, 0% used [0x00000000d7d80000,0x00000000d7d80000,0x00000000d8280000)\n ParOldGen       total 87552K, used 0K [0x0000000081600000, 0x0000000086b80000, 0x00000000d5d00000)\n  object space 87552K, 0% used [0x0000000081600000,0x0000000081600000,0x0000000086b80000)\n Metaspace       used 10724K, capacity 10899K, committed 11136K, reserved 1058816K\n  class space    used 974K, capacity 1069K, committed 1152K, reserved 1048576K\nEvent: 2.182 GC heap after\nHeap after GC invocations=1 (full 0):\n PSYoungGen      total 38400K, used 5107K [0x00000000d5d00000, 0x00000000da800000, 0x0000000100000000)\n  eden space 33280K, 0% used [0x00000000d5d00000,0x00000000d5d00000,0x00000000d7d80000)\n  from space 5120K, 99% used [0x00000000d7d80000,0x00000000d827cd58,0x00000000d8280000)\n  to   space 5120K, 0% used [0x00000000da300000,0x00000000da300000,0x00000000da800000)\n ParOldGen       total 87552K, used 337K [0x0000000081600000, 0x0000000086b80000, 0x00000000d5d00000)\n  object space 87552K, 0% used [0x0000000081600000,0x00000000816545b0,0x0000000086b80000)\n Metaspace       used 10724K, capacity 10899K, committed 11136K, reserved 1058816K\n  class space    used 974K, capacity 1069K, committed 1152K, reserved 1048576K\n}\n\nDeoptimization events (10 events):\nEvent: 2.183 Thread 0x00000000027c4000 Uncommon trap: reason=unstable_if action=reinterpret pc=0x0000000002cce664 method=java.nio.Bits.tryReserveMemory(JI)Z @ 29\nEvent: 2.183 Thread 0x00000000027c4000 Uncommon trap: reason=unstable_if action=reinterpret pc=0x0000000002cca9a0 method=java.nio.Bits.tryReserveMemory(JI)Z @ 29\nEvent: 2.184 Thread 0x00000000027c4000 Uncommon trap: reason=unstable_if action=reinterpret pc=0x0000000002cc38d0 method=java.nio.Bits.tryReserveMemory(JI)Z @ 29\nEvent: 2.192 Thread 0x00000000027c4000 Uncommon trap: reason=unstable_if action=reinterpret pc=0x0000000002cc0500 method=java.nio.Bits.tryReserveMemory(JI)Z @ 29\nEvent: 2.192 Thread 0x00000000027c4000 Uncommon trap: reason=unstable_if action=reinterpret pc=0x0000000002cb38a0 method=java.nio.Bits.tryReserveMemory(JI)Z @ 29\nEvent: 2.197 Thread 0x00000000028b5000 Uncommon trap: reason=class_check action=maybe_recompile pc=0x0000000002cd94a8 method=java.lang.ref.Reference.tryHandlePending(Z)Z @ 17\nEvent: 2.198 Thread 0x00000000028b5000 Uncommon trap: reason=class_check action=maybe_recompile pc=0x0000000002cd94a8 method=java.lang.ref.Reference.tryHandlePending(Z)Z @ 17\nEvent: 2.198 Thread 0x00000000028b5000 Uncommon trap: reason=class_check action=maybe_recompile pc=0x0000000002cd94a8 method=java.lang.ref.Reference.tryHandlePending(Z)Z @ 17\nEvent: 2.198 Thread 0x00000000028b5000 Uncommon trap: reason=class_check action=maybe_recompile pc=0x0000000002cd94a8 method=java.lang.ref.Reference.tryHandlePending(Z)Z @ 17\nEvent: 2.199 Thread 0x00000000174df000 Uncommon trap: reason=unstable_if action=reinterpret pc=0x0000000002cb06ec method=java.lang.ThreadLocal.get()Ljava/lang/Object; @ 11\n\nInternal exceptions (10 events):\nEvent: 0.460 Thread 0x00000000027c4000 Exception &lt;a 'java/lang/NoSuchFieldError': method resolution failed&gt; (0x00000000d62ad5f0) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u144\\9417\\hotspot\\src\\share\\vm\\prims\\methodHandles.cpp, line 1146]\nEvent: 0.463 Thread 0x00000000027c4000 Exception &lt;a 'java/lang/NoSuchFieldError': method resolution failed&gt; (0x00000000d62bb498) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u144\\9417\\hotspot\\src\\share\\vm\\prims\\methodHandles.cpp, line 1146]\nEvent: 0.558 Thread 0x00000000027c4000 Exception &lt;a 'java/security/PrivilegedActionException'&gt; (0x00000000d64c3bb8) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u144\\9417\\hotspot\\src\\share\\vm\\prims\\jvm.cpp, line 1390]\nEvent: 0.558 Thread 0x00000000027c4000 Exception &lt;a 'java/security/PrivilegedActionException'&gt; (0x00000000d64c3dc8) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u144\\9417\\hotspot\\src\\share\\vm\\prims\\jvm.cpp, line 1390]\nEvent: 0.559 Thread 0x00000000027c4000 Exception &lt;a 'java/security/PrivilegedActionException'&gt; (0x00000000d64c7ec0) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u144\\9417\\hotspot\\src\\share\\vm\\prims\\jvm.cpp, line 1390]\nEvent: 0.559 Thread 0x00000000027c4000 Exception &lt;a 'java/security/PrivilegedActionException'&gt; (0x00000000d64c80d0) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u144\\9417\\hotspot\\src\\share\\vm\\prims\\jvm.cpp, line 1390]\nEvent: 0.783 Thread 0x00000000027c4000 Exception &lt;a 'sun/nio/fs/WindowsException'&gt; (0x00000000d6770ae8) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u144\\9417\\hotspot\\src\\share\\vm\\prims\\jni.cpp, line 709]\nEvent: 0.783 Thread 0x00000000027c4000 Exception &lt;a 'sun/nio/fs/WindowsException'&gt; (0x00000000d6772558) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u144\\9417\\hotspot\\src\\share\\vm\\prims\\jni.cpp, line 709]\nEvent: 1.258 Thread 0x00000000027c4000 Exception &lt;a 'java/io/FileNotFoundException'&gt; (0x00000000d71208d0) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u144\\9417\\hotspot\\src\\share\\vm\\prims\\jni.cpp, line 709]\nEvent: 2.199 Thread 0x00000000174df000 Implicit null exception at 0x0000000002cb061c to 0x0000000002cb06d5\n\nEvents (10 events):\nEvent: 2.198 Thread 0x00000000028b5000 DEOPT UNPACKING pc=0x00000000029d582a sp=0x000000001874f168 mode 2\nEvent: 2.198 Thread 0x00000000028b5000 Uncommon trap: trap_request=0xffffffde fr.pc=0x0000000002cd94a8\nEvent: 2.198 Thread 0x00000000028b5000 DEOPT PACKING pc=0x0000000002cd94a8 sp=0x000000001874f1c0\nEvent: 2.198 Thread 0x00000000028b5000 DEOPT UNPACKING pc=0x00000000029d582a sp=0x000000001874f168 mode 2\nEvent: 2.198 Thread 0x00000000028b5000 Uncommon trap: trap_request=0xffffffde fr.pc=0x0000000002cd94a8\nEvent: 2.198 Thread 0x00000000028b5000 DEOPT PACKING pc=0x0000000002cd94a8 sp=0x000000001874f1c0\nEvent: 2.198 Thread 0x00000000028b5000 DEOPT UNPACKING pc=0x00000000029d582a sp=0x000000001874f168 mode 2\nEvent: 2.199 Thread 0x00000000174df000 Uncommon trap: trap_request=0xffffff65 fr.pc=0x0000000002cb06ec\nEvent: 2.199 Thread 0x00000000174df000 DEOPT PACKING pc=0x0000000002cb06ec sp=0x000000001884ee80\nEvent: 2.199 Thread 0x00000000174df000 DEOPT UNPACKING pc=0x00000000029d582a sp=0x000000001884ee20 mode 2\n\n\nDynamic libraries:\n0x00007ff6356c0000 - 0x00007ff6356f7000     C:\\Program Files\\Java\\jdk1.8.0_144\\bin\\java.exe\n0x00007fff5cdb0000 - 0x00007fff5cf8b000     C:\\Windows\\SYSTEM32\\ntdll.dll\n0x00007fff5a940000 - 0x00007fff5a9ee000     C:\\Windows\\System32\\KERNEL32.DLL\n0x00007fff596c0000 - 0x00007fff59909000     C:\\Windows\\System32\\KERNELBASE.dll\n0x00007fff5a890000 - 0x00007fff5a931000     C:\\Windows\\System32\\ADVAPI32.dll\n0x00007fff5ccf0000 - 0x00007fff5cd8d000     C:\\Windows\\System32\\msvcrt.dll\n0x00007fff5afa0000 - 0x00007fff5aff9000     C:\\Windows\\System32\\sechost.dll\n0x00007fff5a460000 - 0x00007fff5a585000     C:\\Windows\\System32\\RPCRT4.dll\n0x00007fff5b300000 - 0x00007fff5b44a000     C:\\Windows\\System32\\USER32.dll\n0x00007fff593d0000 - 0x00007fff593ee000     C:\\Windows\\System32\\win32u.dll\n0x00007fff5a7d0000 - 0x00007fff5a7f7000     C:\\Windows\\System32\\GDI32.dll\n0x00007fff59980000 - 0x00007fff59b08000     C:\\Windows\\System32\\gdi32full.dll\n0x00007fff592d0000 - 0x00007fff5936a000     C:\\Windows\\System32\\msvcp_win.dll\n0x00007fff595c0000 - 0x00007fff596b6000     C:\\Windows\\System32\\ucrtbase.dll\n0x00007fff4f480000 - 0x00007fff4f6e7000     C:\\Windows\\WinSxS\\amd64_microsoft.windows.common-controls_6595b64144ccf1df_6.0.15063.483_none_26002d27e7c744a2\\COMCTL32.dll\n0x00007fff5b000000 - 0x00007fff5b2f9000     C:\\Windows\\System32\\combase.dll\n0x00007fff59910000 - 0x00007fff5997a000     C:\\Windows\\System32\\bcryptPrimitives.dll\n0x00007fff5a740000 - 0x00007fff5a76d000     C:\\Windows\\System32\\IMM32.DLL\n0x0000000055c40000 - 0x0000000055d12000     C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\bin\\msvcr100.dll\n0x00000000553a0000 - 0x0000000055c3d000     C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\bin\\server\\jvm.dll\n0x00007fff5a590000 - 0x00007fff5a598000     C:\\Windows\\System32\\PSAPI.DLL\n0x00007fff4f790000 - 0x00007fff4f799000     C:\\Windows\\SYSTEM32\\WSOCK32.dll\n0x00007fff5b7a0000 - 0x00007fff5b80c000     C:\\Windows\\System32\\WS2_32.dll\n0x00007fff4ca60000 - 0x00007fff4ca6a000     C:\\Windows\\SYSTEM32\\VERSION.dll\n0x00007fff57790000 - 0x00007fff577b3000     C:\\Windows\\SYSTEM32\\WINMM.dll\n0x00007fff57730000 - 0x00007fff5775b000     C:\\Windows\\SYSTEM32\\WINMMBASE.dll\n0x00007fff59b10000 - 0x00007fff59b59000     C:\\Windows\\System32\\cfgmgr32.dll\n0x0000000055390000 - 0x000000005539f000     C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\bin\\verify.dll\n0x0000000055360000 - 0x0000000055389000     C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\bin\\java.dll\n0x0000000055330000 - 0x0000000055353000     C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\bin\\instrument.dll\n0x0000000055310000 - 0x0000000055326000     C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\bin\\zip.dll\n0x00007fff5b8b0000 - 0x00007fff5cce7000     C:\\Windows\\System32\\SHELL32.dll\n0x00007fff5ae90000 - 0x00007fff5af3a000     C:\\Windows\\System32\\shcore.dll\n0x00007fff59b60000 - 0x00007fff5a252000     C:\\Windows\\System32\\windows.storage.dll\n0x00007fff5af40000 - 0x00007fff5af91000     C:\\Windows\\System32\\shlwapi.dll\n0x00007fff59290000 - 0x00007fff592a1000     C:\\Windows\\System32\\kernel.appcore.dll\n0x00007fff59240000 - 0x00007fff5928c000     C:\\Windows\\System32\\powrprof.dll\n0x00007fff59220000 - 0x00007fff59235000     C:\\Windows\\System32\\profapi.dll\n0x00007fff49380000 - 0x00007fff4939a000     C:\\Program Files\\JetBrains\\IntelliJ IDEA 2017.2.3\\bin\\breakgen64.dll\n0x00000000552f0000 - 0x000000005530a000     C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\bin\\net.dll\n0x00007fff58ad0000 - 0x00007fff58b2c000     C:\\Windows\\system32\\mswsock.dll\n0x00000000552d0000 - 0x00000000552e1000     C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\bin\\nio.dll\n0x00007fff47c20000 - 0x00007fff47c77000     C:\\Users\\reaganrussell\\AppData\\Local\\Temp\\lwjglreaganrussell\\3.1.2-build-29\\lwjgl.dll\n0x00007fff48a70000 - 0x00007fff48aac000     C:\\Users\\REAGAN~1\\AppData\\Local\\Temp\\lwjglreaganrussell\\3.1.2-build-29\\jemalloc.dll\n0x00007fff46960000 - 0x00007fff4699d000     C:\\Users\\REAGAN~1\\AppData\\Local\\Temp\\lwjglreaganrussell\\3.1.2-build-29\\glfw.dll\n0x00007fff57980000 - 0x00007fff57a15000     C:\\Windows\\system32\\uxtheme.dll\n0x00007fff46020000 - 0x00007fff46062000     C:\\Windows\\SYSTEM32\\dinput8.dll\n0x00007fff577f0000 - 0x00007fff577fe000     C:\\Windows\\SYSTEM32\\xinput1_4.dll\n0x00007fff57c30000 - 0x00007fff57c58000     C:\\Windows\\SYSTEM32\\DEVOBJ.dll\n0x00007fff576d0000 - 0x00007fff576fa000     C:\\Windows\\SYSTEM32\\dwmapi.dll\n0x00007fff5b450000 - 0x00007fff5b5b6000     C:\\Windows\\System32\\MSCTF.dll\n0x00007fff5b5d0000 - 0x00007fff5b690000     C:\\Windows\\System32\\OLEAUT32.dll\n0x00007fff58000000 - 0x00007fff5800d000     C:\\Windows\\SYSTEM32\\HID.DLL\n0x00007fff5a9f0000 - 0x00007fff5ae2b000     C:\\Windows\\System32\\SETUPAPI.DLL\n0x00007fff59370000 - 0x00007fff593c6000     C:\\Windows\\System32\\WINTRUST.dll\n0x00007fff592b0000 - 0x00007fff592c1000     C:\\Windows\\System32\\MSASN1.dll\n0x00007fff593f0000 - 0x00007fff595b9000     C:\\Windows\\System32\\CRYPT32.dll\n0x00007fff3f3f0000 - 0x00007fff3f511000     C:\\Windows\\SYSTEM32\\opengl32.dll\n0x00007fff3f380000 - 0x00007fff3f3ac000     C:\\Windows\\SYSTEM32\\GLU32.dll\n0x00007fff34430000 - 0x00007fff34c62000     C:\\Windows\\SYSTEM32\\ig7icd64.dll\n0x00007fff53800000 - 0x00007fff53c64000     C:\\Windows\\SYSTEM32\\igdusc64.dll\n0x00007fff576b0000 - 0x00007fff576c3000     C:\\Windows\\SYSTEM32\\WTSAPI32.dll\n0x00007fff52950000 - 0x00007fff529d2000     C:\\Windows\\System32\\TextInputFramework.dll\n0x00007fff54ed0000 - 0x00007fff551a2000     C:\\Windows\\System32\\CoreUIComponents.dll\n0x00007fff57070000 - 0x00007fff57153000     C:\\Windows\\System32\\CoreMessaging.dll\n0x00007fff58530000 - 0x00007fff58561000     C:\\Windows\\SYSTEM32\\ntmarta.dll\n0x00007fff559f0000 - 0x00007fff55b29000     C:\\Windows\\SYSTEM32\\wintypes.dll\n0x00007fff55950000 - 0x00007fff55965000     C:\\Windows\\SYSTEM32\\usermgrcli.dll\n0x00007fff45fc0000 - 0x00007fff4601c000     C:\\Users\\reaganrussell\\AppData\\Local\\Temp\\lwjglreaganrussell\\3.1.2-build-29\\lwjgl_opengl.dll\n0x0000000055130000 - 0x00000000552c8000     C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\bin\\awt.dll\n0x00007fff57630000 - 0x00007fff576ae000     C:\\Windows\\SYSTEM32\\apphelp.dll\n0x00007fff4b5d0000 - 0x00007fff4b779000     C:\\Windows\\SYSTEM32\\dbghelp.dll\n\nVM Arguments:\njvm_args: -Djava.library.path=./lib -javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2017.2.3\\lib\\idea_rt.jar=52248:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2017.2.3\\bin -Dfile.encoding=UTF-8 \njava_command: nitrodragon.game.Main\njava_class_path (initial): C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\lib\\charsets.jar;C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\lib\\deploy.jar;C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\lib\\ext\\access-bridge-64.jar;C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\lib\\ext\\cldrdata.jar;C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\lib\\ext\\dnsns.jar;C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\lib\\ext\\jaccess.jar;C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\lib\\ext\\jfxrt.jar;C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\lib\\ext\\localedata.jar;C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\lib\\ext\\nashorn.jar;C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\lib\\ext\\sunec.jar;C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\lib\\ext\\sunjce_provider.jar;C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\lib\\ext\\sunmscapi.jar;C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\lib\\ext\\sunpkcs11.jar;C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\lib\\ext\\zipfs.jar;C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\lib\\javaws.jar;C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\lib\\jce.jar;C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\lib\\jfr.jar;C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\lib\\jfxswt.jar;C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\lib\\jsse.jar;C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\lib\\management-agent.jar;C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\lib\\plugin.jar;C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\lib\\resources.jar;C:\\Program Files\\Java\\jdk1.8.0_144\\jre\\lib\\rt.jar;C:\\Users\\reaganrussell\\Desktop\\Thundering Tests\\lwjgl3_stuff\\bin;C:\\Users\\reaganrussell\\Desktop\\Thundering Tests\\lwjgl3_stuff\\lib\\lwjgl-assimp-natives-windows.jar;C:\\Users\\reaganrussell\\Desktop\\Thundering Tests\\lwjgl3_stuff\\lib\\lwjgl-assimp.jar;C:\\Users\\reaganrussell\\Desktop\\Thundering Tests\\lwjgl3_stuff\\lib\\lwjgl-glfw-natives-windows.jar;C:\\Users\\reaganrussell\\Desktop\\Thundering Tests\\lwjgl3_stuff\\lib\\lwjgl-glfw.jar;C:\\Users\\reaganrussell\\Desktop\\Thundering Tests\\lwjgl3_stuff\\lib\\lwjgl-openal-natives-windows.jar;C:\\Users\\reaganrussell\\Desktop\\Thundering Tests\\lwjgl3_stuff\\lib\\lwjgl-openal.jar;C:\\Users\\reaganrussell\\Desktop\\Thundering Tests\\\nLauncher Type: SUN_STANDARD\n\nEnvironment Variables:\nPATH=C:\\ProgramData\\Oracle\\Java\\javapath;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Users\\reaganrussell\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\[redacted]\\AppData\\Local\\GitHubDesktop\\bin;C:\\Users\\[redacted]\\Desktop\\Git\\cmd\nUSERNAME=[redacted]\nOS=Windows_NT\nPROCESSOR_IDENTIFIER=Intel64 Family 6 Model 58 Stepping 9, GenuineIntel\n\n\n\n---------------  S Y S T E M  ---------------\n\nOS: Windows 10.0 , 64 bit Build 15063 (10.0.15063.296)\n\nCPU:total 4 (initial active 4) (2 cores per cpu, 2 threads per core) family 6 model 58 stepping 9, cmov, cx8, fxsr, mmx, sse, sse2, sse3, ssse3, sse4.1, sse4.2, popcnt, avx, aes, clmul, erms, ht, tsc, tscinvbit, tscinv\n\nMemory: 4k page, physical 8293044k(3366196k free), swap 9603764k(3499084k free)\n\nvm_info: Java HotSpot(TM) 64-Bit Server VM (25.144-b01) for windows-amd64 JRE (1.8.0_144-b01), built on Jul 21 2017 21:57:33 by \"java_re\" with MS VC++ 10.0 (VS2010)\n\ntime: Thu Sep 28 10:39:39 2017\nelapsed time: 2 seconds (0d 0h 0m 2s)\n</code></pre>\n\n<p>So, I reinstalled my libraries (I'm using LWJGL 3.1.3 and JOML 1.9.4) and tried to set up a Maven dependency instead, but neither solutions worked. What else should I do? My code runs well at home, so it's highly likely it's not an issue with that.</p>\n"},{"tags":["java","swing"],"answers":[{"comments":[{"owner":{"account_id":12404,"reputation":62016,"user_id":24396,"accept_rate":74,"display_name":"Steve Kuo"},"score":0,"creation_date":1348346676,"post_id":12547375,"comment_id":16897624,"body_markdown":"I agree with `setEnabled(false)` but setting the color is a bad idea. Depending on the look-and-feel, black might be a color that stands out. setEnabled false should be good enough.","body":"I agree with <code>setEnabled(false)</code> but setting the color is a bad idea. Depending on the look-and-feel, black might be a color that stands out. setEnabled false should be good enough."}],"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1348347143,"creation_date":1348344982,"answer_id":12547375,"question_id":12546056,"body_markdown":"If you don&#39;t want to have the `JTextArea` selectable, then the simplest thing to do is to disable it:\r\n\r\n    setEnabled(false);\r\n\r\n","title":"How to make JTextArea non-Selectable","body":"<p>If you don't want to have the <code>JTextArea</code> selectable, then the simplest thing to do is to disable it:</p>\n\n<pre><code>setEnabled(false);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4356343,"reputation":2285,"user_id":3554832,"accept_rate":70,"display_name":"Iman Nia"},"score":1,"creation_date":1579168097,"post_id":14383747,"comment_id":105677848,"body_markdown":"Thanks I was reading your answers and I found this really helpfull &#128077;","body":"Thanks I was reading your answers and I found this really helpfull 👍"}],"tags":[],"owner":{"account_id":1367112,"reputation":1876,"user_id":1303323,"accept_rate":56,"display_name":"Stelios Adamantidis"},"comment_count":1,"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1358440565,"creation_date":1358440565,"answer_id":14383747,"question_id":12546056,"body_markdown":"It&#39;s somehow old question but for those who still care, disabling the `JTextArea` is not very helpful, mostly because of the gray color of the foreground. The best thing to do, is to nullify the highlighter:\r\n\r\n    setHighlighter(null)","title":"How to make JTextArea non-Selectable","body":"<p>It's somehow old question but for those who still care, disabling the <code>JTextArea</code> is not very helpful, mostly because of the gray color of the foreground. The best thing to do, is to nullify the highlighter:</p>\n\n<pre><code>setHighlighter(null)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1367112,"reputation":1876,"user_id":1303323,"accept_rate":56,"display_name":"Stelios Adamantidis"},"score":1,"creation_date":1506504769,"post_id":39848626,"comment_id":79844425,"body_markdown":"Nice thought, but if you do this and navigate to the JTextArea with `Tab` and then try to select select the text with `Ctrl + A` then you will get a `NullPointerException`","body":"Nice thought, but if you do this and navigate to the JTextArea with <code>Tab</code> and then try to select select the text with <code>Ctrl + A</code> then you will get a <code>NullPointerException</code>"}],"tags":[],"owner":{"account_id":9321259,"reputation":463,"user_id":6919927,"display_name":"Saclyr Barlonium"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1475573567,"creation_date":1475572954,"answer_id":39848626,"question_id":12546056,"body_markdown":"First of all, I know that this is very old post, but I really had to answer, since I had the same question and found the answer, and the given answers are not 100%.\r\n\r\nStelios said that we cat set `setHighlighter(null);` but it is still selectable and we can even copy-paste. And there is no need to `setEnabled(false);`, especially when the look and feel is awful\r\n\r\n\r\nThe answer that I found is very simple.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    jtextPane.setEditable( false );\r\n    jtextPane.getCaret().deinstall( jtextPane );\r\n","title":"How to make JTextArea non-Selectable","body":"<p>First of all, I know that this is very old post, but I really had to answer, since I had the same question and found the answer, and the given answers are not 100%.</p>\n\n<p>Stelios said that we cat set <code>setHighlighter(null);</code> but it is still selectable and we can even copy-paste. And there is no need to <code>setEnabled(false);</code>, especially when the look and feel is awful</p>\n\n<p>The answer that I found is very simple.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>jtextPane.setEditable( false );\njtextPane.getCaret().deinstall( jtextPane );\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9321259,"reputation":463,"user_id":6919927,"display_name":"Saclyr Barlonium"},"score":2,"creation_date":1489358304,"post_id":41333985,"comment_id":72624322,"body_markdown":"Your solution is not viable. Why should I have a thread, with no control whatsoever, constantly copy-pasting the text? That would make an application really slow.","body":"Your solution is not viable. Why should I have a thread, with no control whatsoever, constantly copy-pasting the text? That would make an application really slow."}],"tags":[],"owner":{"account_id":8574226,"reputation":17,"user_id":6423975,"display_name":"coder97"},"comment_count":1,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1482770784,"creation_date":1482770784,"answer_id":41333985,"question_id":12546056,"body_markdown":"When the text of a text area is set, all text is deselected. Something like this:\r\n\r\n    Thread t = new Thread(new Runnable() {\r\n        while (true) {\r\n            textArea.setText(textArea.getText());\r\n        }\r\n    });\r\n    t.start();","title":"How to make JTextArea non-Selectable","body":"<p>When the text of a text area is set, all text is deselected. Something like this:</p>\n\n<pre><code>Thread t = new Thread(new Runnable() {\n    while (true) {\n        textArea.setText(textArea.getText());\n    }\n});\nt.start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681385629,"creation_date":1681385629,"answer_id":76004938,"question_id":12546056,"body_markdown":"I found that using both `setEditable` and `setFocusable` prevent the selection, while still allowing to style with colors the text.\r\n\r\n```java\r\nJTextArea textArea = new JTextArea(&quot;Static text&quot;);\r\ntextArea.setEditable(false);\r\ntextArea.setFocusable(false);\r\n\r\nJTextField textField = new JTextField(&quot;Static text&quot;);\r\ntextField.setEditable(false);\r\ntextField.setFocusable(false);\r\n```","title":"How to make JTextArea non-Selectable","body":"<p>I found that using both <code>setEditable</code> and <code>setFocusable</code> prevent the selection, while still allowing to style with colors the text.</p>\n<pre class=\"lang-java prettyprint-override\"><code>JTextArea textArea = new JTextArea(&quot;Static text&quot;);\ntextArea.setEditable(false);\ntextArea.setFocusable(false);\n\nJTextField textField = new JTextField(&quot;Static text&quot;);\ntextField.setEditable(false);\ntextField.setFocusable(false);\n</code></pre>\n"}],"owner":{"account_id":1797126,"reputation":205,"user_id":1636319,"accept_rate":72,"display_name":"Rad1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9894,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":14383747,"answer_count":5,"score":5,"last_activity_date":1681385629,"creation_date":1348334684,"question_id":12546056,"body_markdown":"i want to display a textarea decribing the value of a node ( a graph project)\r\nbut whenever i select the text it gets messy so i want it to be unsectable ! \r\nthis is the code :\r\n\r\n    public class TransparentTextArea extends JTextArea {\r\n\r\n    String texte;\r\n\r\n    public TransparentTextArea(String texte) {\r\n        this.setLineWrap(true);\r\n        this.setWrapStyleWord(true);\r\n        this.texte = texte;\r\n        this.setBackground(new Color(255, 0, 9, 0));\r\n        this.setFont(new Font(&quot;Serif&quot;, Font.ITALIC, 24));\r\n        this.setEditable(false);\r\n        this.setText(texte);\r\n        this.setSize(new Dimension(200,100 ));\r\n      } \r\n    }\r\n\r\nthx\r\n","title":"How to make JTextArea non-Selectable","body":"<p>i want to display a textarea decribing the value of a node ( a graph project)\nbut whenever i select the text it gets messy so i want it to be unsectable ! \nthis is the code :</p>\n\n<pre><code>public class TransparentTextArea extends JTextArea {\n\nString texte;\n\npublic TransparentTextArea(String texte) {\n    this.setLineWrap(true);\n    this.setWrapStyleWord(true);\n    this.texte = texte;\n    this.setBackground(new Color(255, 0, 9, 0));\n    this.setFont(new Font(\"Serif\", Font.ITALIC, 24));\n    this.setEditable(false);\n    this.setText(texte);\n    this.setSize(new Dimension(200,100 ));\n  } \n}\n</code></pre>\n\n<p>thx</p>\n"},{"tags":["java","spring-mvc","graphql","http2","server-sent-events"],"answers":[{"tags":[],"owner":{"account_id":15247587,"reputation":255,"user_id":11002019,"display_name":"sunalive"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681385437,"creation_date":1681385437,"answer_id":76004908,"question_id":76004062,"body_markdown":"TLDR: You can emit a &quot;ping&quot; event like so: `ServerSentEvent.builder(&quot;&quot;).data(null).comment(&quot;&quot;).build()`\r\n\r\nThis will produce `:\\n\\n` in the text stream.\r\n\r\n\r\nI had to read through the source code for the [ServerSentEventHttpMessageWriter][1]\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/blob/main/spring-web/src/main/java/org/springframework/http/codec/ServerSentEventHttpMessageWriter.java#L127-L152\r\n\r\nThe code produces the event by using a comment which is prefixed with `:` so the client ignores it. And then because the comment is just an empty string it will add the `\\n` afterwards and because there are no other fields set it will add another `\\n` at the end. Note I only had to use builder(&quot;&quot;) to get my type working (for now anyway).\r\n\r\nIn kotlin you can use `ServerSentEvent.builder&lt;String&gt;().comment(&quot;&quot;).build()`","title":"How to send a &quot;ping&quot; event in SSE spring-web","body":"<p>TLDR: You can emit a &quot;ping&quot; event like so: <code>ServerSentEvent.builder(&quot;&quot;).data(null).comment(&quot;&quot;).build()</code></p>\n<p>This will produce <code>:\\n\\n</code> in the text stream.</p>\n<p>I had to read through the source code for the <a href=\"https://github.com/spring-projects/spring-framework/blob/main/spring-web/src/main/java/org/springframework/http/codec/ServerSentEventHttpMessageWriter.java#L127-L152\" rel=\"nofollow noreferrer\">ServerSentEventHttpMessageWriter</a></p>\n<p>The code produces the event by using a comment which is prefixed with <code>:</code> so the client ignores it. And then because the comment is just an empty string it will add the <code>\\n</code> afterwards and because there are no other fields set it will add another <code>\\n</code> at the end. Note I only had to use builder(&quot;&quot;) to get my type working (for now anyway).</p>\n<p>In kotlin you can use <code>ServerSentEvent.builder&lt;String&gt;().comment(&quot;&quot;).build()</code></p>\n"}],"owner":{"account_id":15247587,"reputation":255,"user_id":11002019,"display_name":"sunalive"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":573,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76004908,"answer_count":1,"score":1,"last_activity_date":1681385437,"creation_date":1681379613,"question_id":76004062,"body_markdown":"I&#39;m trying to implement the graphql-sse specification in java, and to be able to do this I want to be able to send a heartbeat event. This can be done by sending the event: :\\n\\n to the event-stream. \r\n\r\nHowever to be able to do this I can&#39;t send a ServerSentEvent object because it requires you to build a full object whereas this isn&#39;t a full object this is just an empty event. I also can&#39;t see any documentation on spring pinging the client to see if the connection is still open.\r\n\r\nAny help would be greatly appreciated.","title":"How to send a &quot;ping&quot; event in SSE spring-web","body":"<p>I'm trying to implement the graphql-sse specification in java, and to be able to do this I want to be able to send a heartbeat event. This can be done by sending the event: :\\n\\n to the event-stream.</p>\n<p>However to be able to do this I can't send a ServerSentEvent object because it requires you to build a full object whereas this isn't a full object this is just an empty event. I also can't see any documentation on spring pinging the client to see if the connection is still open.</p>\n<p>Any help would be greatly appreciated.</p>\n"},{"tags":["java","maven","junit","java-9","module-info"],"comments":[{"owner":{"account_id":7810904,"reputation":12490,"user_id":6099347,"accept_rate":100,"display_name":"Aniket Sahrawat"},"score":1,"creation_date":1619467486,"post_id":67272936,"comment_id":118910231,"body_markdown":"It does not really matter if a test source is in a different directory. Open the package in `module-info.java` and copy the `module-info.class` after `test-compile` to the root directory of generated test classes.","body":"It does not really matter if a test source is in a different directory. Open the package in <code>module-info.java</code> and copy the <code>module-info.class</code> after <code>test-compile</code> to the root directory of generated test classes."},{"owner":{"account_id":1464652,"reputation":12323,"user_id":1377895,"accept_rate":100,"display_name":"Roman Vottner"},"score":2,"creation_date":1619479054,"post_id":67272936,"comment_id":118913661,"body_markdown":"You can add the option to open modules while testing like [this](https://github.com/RovoMe/JDrum/blob/master/jdrum-datastore-simple/pom.xml#L47)","body":"You can add the option to open modules while testing like <a href=\"https://github.com/RovoMe/JDrum/blob/master/jdrum-datastore-simple/pom.xml#L47\" rel=\"nofollow noreferrer\">this</a>"},{"owner":{"account_id":4844356,"reputation":462,"user_id":5852531,"display_name":"Thiago Henrique Hupner"},"score":0,"creation_date":1619784693,"post_id":67272936,"comment_id":119015573,"body_markdown":"Here you can get more information: https://sormuras.github.io/blog/2018-09-11-testing-in-the-modular-world.html","body":"Here you can get more information: <a href=\"https://sormuras.github.io/blog/2018-09-11-testing-in-the-modular-world.html\" rel=\"nofollow noreferrer\">sormuras.github.io/blog/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5357611,"reputation":188,"user_id":4269881,"display_name":"Emma Atkinson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681385300,"creation_date":1681385300,"answer_id":76004887,"question_id":67272936,"body_markdown":"You can add reflective access for testing, without altering the production version of module-info.java, by using the Runtime Option **--add-opens** in the build command line for compiling and building unit tests. \r\n\r\nBasically this has the same effect as patching the *module-info.java* file from the command line just for the purposes of unit test build.  Build tools such as Gradle etc have packaged this up to lessen the ugly PITA it otherwise is.\r\n","title":"How to open test package in module-info? Calling non-test class method in test class","body":"<p>You can add reflective access for testing, without altering the production version of module-info.java, by using the Runtime Option <strong>--add-opens</strong> in the build command line for compiling and building unit tests.</p>\n<p>Basically this has the same effect as patching the <em>module-info.java</em> file from the command line just for the purposes of unit test build.  Build tools such as Gradle etc have packaged this up to lessen the ugly PITA it otherwise is.</p>\n"}],"owner":{"account_id":14571259,"reputation":994,"user_id":10524503,"display_name":"Wortig"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681385300,"creation_date":1619466523,"question_id":67272936,"body_markdown":"I have Eclipse project in which i use Maven. I also use surefire plugin for tests. I wrote some test classes and tried to run `mvn test`, however i get this exception:\r\n\r\n    java.lang.reflect.InaccessibleObjectException: Unable to make static void \r\n    dataaccesslayer.desktopapp.DesktopAppCRUDTest.setupTestingDatabase() accessible: \r\n    module registry.dataaccesslayer does not &quot;opens dataaccesslayer.desktopapp&quot; to unname\r\n    d module\r\n\r\nI see that i am calling some static method (of class in src/main/java) in test class, which is causing this problem.\r\n\r\nSo i tought i could just write: `opens dataaccesslayer.desktopapp` in module-info.java, however i can not write that, because module-info is in src/main/java and not src/test/java.\r\n\r\nSo is there a way to open test package in module-info.java? If not, what could i do to make test work when i am calling static methods of non-test classes? Is that a bad approach to call static methods of non-test classes in test classes?\r\n","title":"How to open test package in module-info? Calling non-test class method in test class","body":"<p>I have Eclipse project in which i use Maven. I also use surefire plugin for tests. I wrote some test classes and tried to run <code>mvn test</code>, however i get this exception:</p>\n<pre><code>java.lang.reflect.InaccessibleObjectException: Unable to make static void \ndataaccesslayer.desktopapp.DesktopAppCRUDTest.setupTestingDatabase() accessible: \nmodule registry.dataaccesslayer does not &quot;opens dataaccesslayer.desktopapp&quot; to unname\nd module\n</code></pre>\n<p>I see that i am calling some static method (of class in src/main/java) in test class, which is causing this problem.</p>\n<p>So i tought i could just write: <code>opens dataaccesslayer.desktopapp</code> in module-info.java, however i can not write that, because module-info is in src/main/java and not src/test/java.</p>\n<p>So is there a way to open test package in module-info.java? If not, what could i do to make test work when i am calling static methods of non-test classes? Is that a bad approach to call static methods of non-test classes in test classes?</p>\n"},{"tags":["java","glassfish","rmi","corba","iiop"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1560911904,"post_id":56648879,"comment_id":99888144,"body_markdown":"[RMI is **not** removed from JDK 11](https://www.oracle.com/pls/topic/lookup?ctx=en/java/javase/11/core&amp;id=RMIUG-GUID-70825E99-57CF-470F-871A-5CCB6C2771BE).","body":"<a href=\"https://www.oracle.com/pls/topic/lookup?ctx=en/java/javase/11/core&amp;id=RMIUG-GUID-70825E99-57CF-470F-871A-5CCB6C2771BE\" rel=\"nofollow noreferrer\">RMI is <b>not</b> removed from JDK 11</a>."},{"owner":{"account_id":9464893,"reputation":440,"user_id":7037600,"accept_rate":100,"display_name":"donlys"},"score":0,"creation_date":1563906745,"post_id":56648879,"comment_id":100853848,"body_markdown":"How did you resolve this?","body":"How did you resolve this?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1564707214,"post_id":56648879,"comment_id":101128462,"body_markdown":"@donlys Resolve what? There is no problem to resolve. The link I provided proves it.","body":"@donlys Resolve what? There is no problem to resolve. The link I provided proves it."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1564904188,"post_id":56648879,"comment_id":101177481,"body_markdown":"And here is the [OpenJDK 11 RMI Javadoc link](http://cr.openjdk.java.net/~iris/se/11/spec/pfd/java-se-11-pfd-spec/api/java.rmi/module-summary.html). It is also [present in OpenJDK 12](https://cr.openjdk.java.net/~iris/se/12/latestSpec/api/java.rmi/module-summary.html). I don&#39;t know what you people are talking about. @donlys","body":"And here is the <a href=\"http://cr.openjdk.java.net/~iris/se/11/spec/pfd/java-se-11-pfd-spec/api/java.rmi/module-summary.html\" rel=\"nofollow noreferrer\">OpenJDK 11 RMI Javadoc link</a>. It is also <a href=\"https://cr.openjdk.java.net/~iris/se/12/latestSpec/api/java.rmi/module-summary.html\" rel=\"nofollow noreferrer\">present in OpenJDK 12</a>. I don&#39;t know what you people are talking about. @donlys"},{"owner":{"account_id":9464893,"reputation":440,"user_id":7037600,"accept_rate":100,"display_name":"donlys"},"score":2,"creation_date":1565028658,"post_id":56648879,"comment_id":101214226,"body_markdown":"My question is how do I rewrite existing code that is using PortableRemoteObject.narrow","body":"My question is how do I rewrite existing code that is using PortableRemoteObject.narrow"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1565090070,"post_id":56648879,"comment_id":101234055,"body_markdown":"@Donlys Rerwite it why? NB This question is based on a complete misunderstanding of the error message. `NoSuchObjectException` refers to a stub expiry, not to a complete removal of an API from the JDK, and it relies on code that is basically meaningless in the first place, being a mixture of RMI/JRMP and RMI/IIOP. You should ask your question, whatever it is, in a new thread.","body":"@Donlys Rerwite it why? NB This question is based on a complete misunderstanding of the error message. <code>NoSuchObjectException</code> refers to a stub expiry, not to a complete removal of an API from the JDK, and it relies on code that is basically meaningless in the first place, being a mixture of RMI/JRMP and RMI/IIOP. You should ask your question, whatever it is, in a new thread."}],"owner":{"account_id":16157042,"reputation":39,"user_id":11664071,"display_name":"Techie"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5251,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":0,"score":3,"last_activity_date":1681385157,"creation_date":1560859909,"question_id":56648879,"body_markdown":"I&#39;m migrating from Oracle JDK8 to OpenJDK11. I am facing problem with exportObject(new Myobj) call.\r\n\r\nAs rmi is removed in jdk11, I am using glassfish jars for PortableRemoteObject usage to export and lookup remote objects\r\n\r\nI am using below jars from glassfish to get missing classes in openjdk11.\r\n\r\n - glassfish-corba-omgapi \r\n - glassfish-corba-orb \r\n - javax.transaction.api\r\n - pfl-dynamic\r\n - pfl-basic\r\n - glassfish-corba-internal-api\r\n - pfl-tf.jar\r\n\r\nI am expecting javax.rmi.PortableRemoteObject.PortableRemoteObject.exportObject() to work as is in JDK8. But I am getting below error. I tried to use  com.sun.corba.ee.impl.javax.rmi.PortableRemoteObjet and also com.sun.corba.se.impl.javax.rmi.PortableRemoteObject from glassfish jars. But still facing same error.\r\n\r\njava.rmi.NoSuchObjectException: object not exported        at com.sun.corba.ee.impl.javax.rmi.PortableRemoteObject.toStub(MyClass.java:18)        at javax.rmi.PortableRemoteObject.toStub(PortableRemoteObject.java:132)\r\n\r\nAnt task for RMIC\r\n```\r\n&lt;!-- Ant task for RMIC --&gt;  \r\n   &lt;target name=&quot;rmic&quot;&gt;\r\n    &lt;taskdef name=&quot;rmic&quot;\r\n             classname=&quot;org.apache.tools.ant.taskdefs.Rmic&quot; /&gt;\r\n    &lt;rmic classname=&quot;com.MyRmiImpl&quot;\r\n          base=&quot;${classes.dir}&quot;\r\n          classpathref=&quot;javac.classpath&quot; /&gt;\r\n  &lt;/target&gt;\r\n```   \r\n\r\npublic class MyNode  {\r\n\t\r\n    static Registry registry;\r\n\t\r\n    public static void main(String[] args) {\r\n    \r\n            try {\r\n    \r\n            registry = LocateRegistry.createRegistry(3322);\r\n            MyRmiImpl remoteImpl = new MyRmiImpl();\r\n            PortableRemoteObject.exportObject(remoteImpl); \r\n            Remote objStub = PortableRemoteObject.toStub(remoteImpl);// getting exception at this line \r\n            registry.rebind(&quot;MyRmiInterface&quot;, objStub);\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\n","title":"Migrating from Oracle JDK8 to Open jdk11, looking for rmi replacement","body":"<p>I'm migrating from Oracle JDK8 to OpenJDK11. I am facing problem with exportObject(new Myobj) call.</p>\n\n<p>As rmi is removed in jdk11, I am using glassfish jars for PortableRemoteObject usage to export and lookup remote objects</p>\n\n<p>I am using below jars from glassfish to get missing classes in openjdk11.</p>\n\n<ul>\n<li>glassfish-corba-omgapi </li>\n<li>glassfish-corba-orb </li>\n<li>javax.transaction.api</li>\n<li>pfl-dynamic</li>\n<li>pfl-basic</li>\n<li>glassfish-corba-internal-api</li>\n<li>pfl-tf.jar</li>\n</ul>\n\n<p>I am expecting javax.rmi.PortableRemoteObject.PortableRemoteObject.exportObject() to work as is in JDK8. But I am getting below error. I tried to use  com.sun.corba.ee.impl.javax.rmi.PortableRemoteObjet and also com.sun.corba.se.impl.javax.rmi.PortableRemoteObject from glassfish jars. But still facing same error.</p>\n\n<p>java.rmi.NoSuchObjectException: object not exported        at com.sun.corba.ee.impl.javax.rmi.PortableRemoteObject.toStub(MyClass.java:18)        at javax.rmi.PortableRemoteObject.toStub(PortableRemoteObject.java:132)</p>\n\n<p>Ant task for RMIC</p>\n\n<pre><code>&lt;!-- Ant task for RMIC --&gt;  \n   &lt;target name=\"rmic\"&gt;\n    &lt;taskdef name=\"rmic\"\n             classname=\"org.apache.tools.ant.taskdefs.Rmic\" /&gt;\n    &lt;rmic classname=\"com.MyRmiImpl\"\n          base=\"${classes.dir}\"\n          classpathref=\"javac.classpath\" /&gt;\n  &lt;/target&gt;\n</code></pre>\n\n<p>public class MyNode  {</p>\n\n<pre><code>static Registry registry;\n\npublic static void main(String[] args) {\n\n        try {\n\n        registry = LocateRegistry.createRegistry(3322);\n        MyRmiImpl remoteImpl = new MyRmiImpl();\n        PortableRemoteObject.exportObject(remoteImpl); \n        Remote objStub = PortableRemoteObject.toStub(remoteImpl);// getting exception at this line \n        registry.rebind(\"MyRmiInterface\", objStub);\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","tomcat","servlets","terminal","web.xml"],"owner":{"account_id":27436291,"reputation":1,"user_id":20932078,"display_name":"Kalyan cs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1681385837,"answer_count":0,"score":0,"last_activity_date":1681385153,"creation_date":1681385153,"question_id":76004870,"body_markdown":"I have mapped the servlet correctly.. but still getting 404 error. Couldn&#39;t figure out the mistake.\r\n\r\nI have been trying to fetch json data from an api and store the data into mysql table when the user clicks the &quot;Insert Data into table&quot; button.\r\nI have been doing it in the terminal(not using any IDE).\r\nthe url was going perfectly as i expect, but results in 404.\r\ntrying it to figure out the mistake for past 3 hours...:(!\r\n```\r\n//this is my java file\r\n\r\npackage com.kalyan;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URL;\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.SQLException;\r\nimport org.json.JSONArray;\r\nimport org.json.JSONObject;\r\nimport java.io.PrintWriter;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\n\r\npublic class InsertData extends HttpServlet{\r\n    \r\n     public  void doGet(HttpServletRequest req, HttpServletResponse res) throws IOException{\r\n        fetchEmployeeData(); \r\n        res.setContentType(&quot;text/plain&quot;);   \r\n        PrintWriter message = res.getWriter();\r\n        message.println(&quot;Data inserted in Table&quot;);\r\n    }\r\n\r\n     public void fetchEmployeeData() {\r\n        try {\r\n            URL url = new URL(&quot;https://api.slingacademy.com/v1/sample-data/files/employees.json&quot;);\r\n            HttpURLConnection conn = (HttpURLConnection) url.openConnection();\r\n            conn.setRequestMethod(&quot;GET&quot;);\r\n            conn.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n            \r\n            if (conn.getResponseCode() != 200) {\r\n                throw new RuntimeException(&quot;Failed : HTTP error code : &quot; + conn.getResponseCode());\r\n            }\r\n            \r\n            BufferedReader br = new BufferedReader(new InputStreamReader((conn.getInputStream())));\r\n            String output;\r\n            StringBuilder responseBuilder = new StringBuilder();\r\n            while ((output = br.readLine()) != null) {\r\n                responseBuilder.append(output);\r\n            }\r\n            conn.disconnect();\r\n            String jsonResponse = responseBuilder.toString();\r\n            JSONObject jsonObject = new JSONObject(jsonResponse);\r\n            JSONArray employees = jsonObject.getJSONArray(&quot;employees&quot;);\r\n            insertEmployeesIntoDB(employees);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n        public void insertEmployeesIntoDB(JSONArray employees) {\r\n        try (       \r\n        Connection conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/Employees&quot;, &quot;myusername&quot;, &quot;mypassword&quot;)) {\r\n            for (int i = 0; i &lt; employees.length(); i++) {\r\n                JSONObject employee = employees.getJSONObject(i);\r\n        int id = employee.getInt(&quot;id&quot;);\r\n                String firstName = employee.getString(&quot;first_name&quot;);\r\n                String lastName = employee.getString(&quot;last_name&quot;);\r\n                int age = employee.getInt(&quot;age&quot;);\r\n                String gender = employee.getString(&quot;gender&quot;);\r\n                String email = employee.getString(&quot;email&quot;);\r\n                String phone = employee.getString(&quot;phone&quot;);\r\n                String department = employee.getString(&quot;department&quot;);\r\n                String jobTitle = employee.getString(&quot;job_title&quot;);\r\n                int yearsOfExperience = employee.getInt(&quot;years_of_experience&quot;);\r\n                int salary = employee.getInt(&quot;salary&quot;);\r\n                \r\n                String sql = &quot;insert into employees (id, first_name, last_name, age, gender, email, phone, department, job_title, years_of_experience, salary) &quot;\r\n                        + &quot;values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)&quot;;\r\n                PreparedStatement stmt = conn.prepareStatement(sql);\r\n        stmt.setInt(1, id);\r\n                stmt.setString(2, firstName);\r\n                stmt.setString(3, lastName);\r\n                stmt.setInt(4, age);\r\n                stmt.setString(5, gender);\r\n                stmt.setString(6, email);\r\n                stmt.setString(7, phone);\r\n                stmt.setString(8, department);\r\n                stmt.setString(9, jobTitle);\r\n                stmt.setInt(10, yearsOfExperience);\r\n                stmt.setInt(11, salary);\r\n                stmt.executeUpdate();\r\n            }\r\n            System.out.println(&quot;Table inserted&quot;);\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n     }\r\n   }\r\n\r\n```\r\n\r\n```\r\n&gt;! this is my html file\r\n\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n    &lt;title&gt;Make-Request &lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;button onclick=&quot;insertData()&quot;&gt;Insert Data into table&lt;/button&gt;\r\n    &lt;h1 id=&quot;message&quot;&gt;&lt;/h1&gt;\r\n&lt;/body&gt;\r\n&lt;script&gt;\r\n    function insertData() {\r\n  fetch(&#39;storedata&#39;)\r\n    .then(response =&gt; response.text())\r\n    .then(data =&gt; showMessage(data))\r\n    .catch(error =&gt; console.error(error));\r\n}\r\n\r\n     function showMessage(data){\r\n    document.querySelector(&#39;#message&#39;).textContent = `${data}`;\r\n}\r\n&lt;/script&gt;\r\n\r\n&lt;/html&gt;\r\n\r\n```\r\n\r\n```\r\n&gt;! this is my web.xml file\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE web-app\r\n    PUBLIC &quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;\r\n    &quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot;&gt;\r\n\r\n&lt;web-app&gt;\r\n    &lt;welcome-file-list&gt;\r\n        &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\r\n    &lt;/welcome-file-list&gt;\r\n    &lt;display-name&gt;InsertData&lt;/display-name&gt;\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;InsertData&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;com.kalyan.InsertData&lt;/servlet-class&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;InsertData&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/storedata&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n&lt;/web-app&gt;\r\n\r\n```\r\n\r\n","title":"servlet mapping - url not found in tomcat","body":"<p>I have mapped the servlet correctly.. but still getting 404 error. Couldn't figure out the mistake.</p>\n<p>I have been trying to fetch json data from an api and store the data into mysql table when the user clicks the &quot;Insert Data into table&quot; button.\nI have been doing it in the terminal(not using any IDE).\nthe url was going perfectly as i expect, but results in 404.\ntrying it to figure out the mistake for past 3 hours...:(!</p>\n<pre><code>//this is my java file\n\npackage com.kalyan;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.SQLException;\nimport org.json.JSONArray;\nimport org.json.JSONObject;\nimport java.io.PrintWriter;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\n\npublic class InsertData extends HttpServlet{\n    \n     public  void doGet(HttpServletRequest req, HttpServletResponse res) throws IOException{\n        fetchEmployeeData(); \n        res.setContentType(&quot;text/plain&quot;);   \n        PrintWriter message = res.getWriter();\n        message.println(&quot;Data inserted in Table&quot;);\n    }\n\n     public void fetchEmployeeData() {\n        try {\n            URL url = new URL(&quot;https://api.slingacademy.com/v1/sample-data/files/employees.json&quot;);\n            HttpURLConnection conn = (HttpURLConnection) url.openConnection();\n            conn.setRequestMethod(&quot;GET&quot;);\n            conn.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\n            \n            if (conn.getResponseCode() != 200) {\n                throw new RuntimeException(&quot;Failed : HTTP error code : &quot; + conn.getResponseCode());\n            }\n            \n            BufferedReader br = new BufferedReader(new InputStreamReader((conn.getInputStream())));\n            String output;\n            StringBuilder responseBuilder = new StringBuilder();\n            while ((output = br.readLine()) != null) {\n                responseBuilder.append(output);\n            }\n            conn.disconnect();\n            String jsonResponse = responseBuilder.toString();\n            JSONObject jsonObject = new JSONObject(jsonResponse);\n            JSONArray employees = jsonObject.getJSONArray(&quot;employees&quot;);\n            insertEmployeesIntoDB(employees);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n        public void insertEmployeesIntoDB(JSONArray employees) {\n        try (       \n        Connection conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/Employees&quot;, &quot;myusername&quot;, &quot;mypassword&quot;)) {\n            for (int i = 0; i &lt; employees.length(); i++) {\n                JSONObject employee = employees.getJSONObject(i);\n        int id = employee.getInt(&quot;id&quot;);\n                String firstName = employee.getString(&quot;first_name&quot;);\n                String lastName = employee.getString(&quot;last_name&quot;);\n                int age = employee.getInt(&quot;age&quot;);\n                String gender = employee.getString(&quot;gender&quot;);\n                String email = employee.getString(&quot;email&quot;);\n                String phone = employee.getString(&quot;phone&quot;);\n                String department = employee.getString(&quot;department&quot;);\n                String jobTitle = employee.getString(&quot;job_title&quot;);\n                int yearsOfExperience = employee.getInt(&quot;years_of_experience&quot;);\n                int salary = employee.getInt(&quot;salary&quot;);\n                \n                String sql = &quot;insert into employees (id, first_name, last_name, age, gender, email, phone, department, job_title, years_of_experience, salary) &quot;\n                        + &quot;values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)&quot;;\n                PreparedStatement stmt = conn.prepareStatement(sql);\n        stmt.setInt(1, id);\n                stmt.setString(2, firstName);\n                stmt.setString(3, lastName);\n                stmt.setInt(4, age);\n                stmt.setString(5, gender);\n                stmt.setString(6, email);\n                stmt.setString(7, phone);\n                stmt.setString(8, department);\n                stmt.setString(9, jobTitle);\n                stmt.setInt(10, yearsOfExperience);\n                stmt.setInt(11, salary);\n                stmt.executeUpdate();\n            }\n            System.out.println(&quot;Table inserted&quot;);\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n     }\n   }\n\n</code></pre>\n<pre><code>&gt;! this is my html file\n\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Make-Request &lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;button onclick=&quot;insertData()&quot;&gt;Insert Data into table&lt;/button&gt;\n    &lt;h1 id=&quot;message&quot;&gt;&lt;/h1&gt;\n&lt;/body&gt;\n&lt;script&gt;\n    function insertData() {\n  fetch('storedata')\n    .then(response =&gt; response.text())\n    .then(data =&gt; showMessage(data))\n    .catch(error =&gt; console.error(error));\n}\n\n     function showMessage(data){\n    document.querySelector('#message').textContent = `${data}`;\n}\n&lt;/script&gt;\n\n&lt;/html&gt;\n\n</code></pre>\n<pre><code>&gt;! this is my web.xml file\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE web-app\n    PUBLIC &quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;\n    &quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot;&gt;\n\n&lt;web-app&gt;\n    &lt;welcome-file-list&gt;\n        &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\n    &lt;/welcome-file-list&gt;\n    &lt;display-name&gt;InsertData&lt;/display-name&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;InsertData&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;com.kalyan.InsertData&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;InsertData&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/storedata&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n\n</code></pre>\n"},{"tags":["java","spring-boot","netflix-eureka","spring-cloud-netflix"],"answers":[{"comments":[{"owner":{"account_id":968743,"reputation":3452,"user_id":991710,"accept_rate":82,"display_name":"filpa"},"score":0,"creation_date":1681385053,"post_id":76004805,"comment_id":134049357,"body_markdown":"Interesting. Have you noticed if this change has affected the de-/registration times and/or timeouts?","body":"Interesting. Have you noticed if this change has affected the de-/registration times and/or timeouts?"},{"owner":{"account_id":179998,"reputation":5576,"user_id":413032,"accept_rate":59,"display_name":"Davut G&#252;rb&#252;z"},"score":0,"creation_date":1681426135,"post_id":76004805,"comment_id":134058811,"body_markdown":"@filpa I didn&#39;t feel any impact. We&#39;ve around 10 microservices discovered from Eureka, including spring config, spring GW.. no behavioral change at all.","body":"@filpa I didn&#39;t feel any impact. We&#39;ve around 10 microservices discovered from Eureka, including spring config, spring GW.. no behavioral change at all."}],"tags":[],"owner":{"account_id":179998,"reputation":5576,"user_id":413032,"accept_rate":59,"display_name":"Davut G&#252;rb&#252;z"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681384715,"creation_date":1681384715,"answer_id":76004805,"question_id":71321112,"body_markdown":"\r\nMaybe it&#39;s a late answer for this question. As another one suffering from the same problem. Below solved our issue, which was consuming %25 of CPU, now 0.\r\n\r\nWhile running the app below system property can be provided.Then it&#39;ll work fine.\r\n\r\n    -DLatencyUtils.useActualTime=false \r\n\r\nI believe `System.nanoTime()` calls to make things realtime consume more CPU resource. Below is the source code of LatencyUtils.\r\n\r\nhttps://github.com/LatencyUtils/LatencyUtils/blob/master/src/main/java/org/LatencyUtils/TimeServices.java \r\n\r\n&gt;  java.util.concurrent.locks.LockSupport.parkNanos()). However, if\r\n&gt; the property.\r\n&gt; LatencyUtils.useActualTime is set to &quot;false&quot;,\r\n&gt; TimeServers will only move the notion of time in response to calls\r\n&gt; to the #setCurrentTime() method.","title":"Spring boot eureka server taking up too much CPU and RAM","body":"<p>Maybe it's a late answer for this question. As another one suffering from the same problem. Below solved our issue, which was consuming %25 of CPU, now 0.</p>\n<p>While running the app below system property can be provided.Then it'll work fine.</p>\n<pre><code>-DLatencyUtils.useActualTime=false \n</code></pre>\n<p>I believe <code>System.nanoTime()</code> calls to make things realtime consume more CPU resource. Below is the source code of LatencyUtils.</p>\n<p><a href=\"https://github.com/LatencyUtils/LatencyUtils/blob/master/src/main/java/org/LatencyUtils/TimeServices.java\" rel=\"nofollow noreferrer\">https://github.com/LatencyUtils/LatencyUtils/blob/master/src/main/java/org/LatencyUtils/TimeServices.java</a></p>\n<blockquote>\n<p>java.util.concurrent.locks.LockSupport.parkNanos()). However, if\nthe property.\nLatencyUtils.useActualTime is set to &quot;false&quot;,\nTimeServers will only move the notion of time in response to calls\nto the #setCurrentTime() method.</p>\n</blockquote>\n"}],"owner":{"account_id":6887930,"reputation":181,"user_id":10311582,"display_name":"TheAkashKamble"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":664,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1681384715,"creation_date":1646216911,"question_id":71321112,"body_markdown":"I am using following pom.xml for my Eureka Server and running in a standalone mode with around 300+ services are being registered on it.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.3.5.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.etp&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;service-registry&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1&lt;/version&gt;\r\n    \t&lt;name&gt;Eureka server&lt;/name&gt;\r\n    \t&lt;description&gt;Spring Boot Service registry&lt;/description&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t\t&lt;spring-cloud.version&gt;Hoxton.SR9&lt;/spring-cloud.version&gt;\r\n    \t\t&lt;log4j2.version&gt;2.17.1&lt;/log4j2.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;dependencyManagement&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\napplication.properties for the service :\r\n\r\n    spring.application.name=service-registry\r\n    server.port=8080\r\n    eureka.client.register-with-eureka = false\r\n    eureka.client.fetch-registry =false\r\n    eureka.client.serviceUrl.defaultZone:http://IP:8080/eureka\r\n\r\nDockerfile : \r\n\r\n    FROM openjdk:8\r\n    WORKDIR /\r\n    ADD /target/*.jar service-registry.jar\r\n    ADD configuration/application.properties configuration/application.properties\r\n    ADD configuration/logback.xml configuration/logback.xml\r\n    EXPOSE 8080\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;service-registry.jar&quot;]\r\n\r\nWhen I start/restart eureka service then it takes up around 35-40% of the entire CPU available and memory consumption keeps on increasing continuously. After keeping the service ON for say ~2 days it takes up all memory which has been allocated right now.( ~1Gb) Is there any way to reduce the memory or cpu consumption for eureka server ?","title":"Spring boot eureka server taking up too much CPU and RAM","body":"<p>I am using following pom.xml for my Eureka Server and running in a standalone mode with around 300+ services are being registered on it.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.5.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.etp&lt;/groupId&gt;\n    &lt;artifactId&gt;service-registry&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1&lt;/version&gt;\n    &lt;name&gt;Eureka server&lt;/name&gt;\n    &lt;description&gt;Spring Boot Service registry&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;Hoxton.SR9&lt;/spring-cloud.version&gt;\n        &lt;log4j2.version&gt;2.17.1&lt;/log4j2.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>application.properties for the service :</p>\n<pre><code>spring.application.name=service-registry\nserver.port=8080\neureka.client.register-with-eureka = false\neureka.client.fetch-registry =false\neureka.client.serviceUrl.defaultZone:http://IP:8080/eureka\n</code></pre>\n<p>Dockerfile :</p>\n<pre><code>FROM openjdk:8\nWORKDIR /\nADD /target/*.jar service-registry.jar\nADD configuration/application.properties configuration/application.properties\nADD configuration/logback.xml configuration/logback.xml\nEXPOSE 8080\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;service-registry.jar&quot;]\n</code></pre>\n<p>When I start/restart eureka service then it takes up around 35-40% of the entire CPU available and memory consumption keeps on increasing continuously. After keeping the service ON for say ~2 days it takes up all memory which has been allocated right now.( ~1Gb) Is there any way to reduce the memory or cpu consumption for eureka server ?</p>\n"},{"tags":["java","spring","junit"],"comments":[{"owner":{"account_id":2156713,"reputation":1816,"user_id":1911749,"accept_rate":74,"display_name":"Toby Eggitt"},"score":0,"creation_date":1537913721,"post_id":52506949,"comment_id":91955149,"body_markdown":"Are you trying to do this &quot;automatically&quot;, or can you build the key/value pairs manually? That is, are you trying to take the fields/values from an arbitrary object and convert them into a query string? Or do you simply want to create queries from one well-known, hard-codeable, class?","body":"Are you trying to do this &quot;automatically&quot;, or can you build the key/value pairs manually? That is, are you trying to take the fields/values from an arbitrary object and convert them into a query string? Or do you simply want to create queries from one well-known, hard-codeable, class?"},{"owner":{"account_id":8127435,"reputation":451,"user_id":6121865,"accept_rate":59,"display_name":"dev"},"score":0,"creation_date":1537914554,"post_id":52506949,"comment_id":91955344,"body_markdown":"Yes, I am trying to do automatically. I do not want to write quey param for each parameter.","body":"Yes, I am trying to do automatically. I do not want to write quey param for each parameter."},{"owner":{"account_id":2126061,"reputation":669,"user_id":1888197,"accept_rate":73,"display_name":"shark1608"},"score":0,"creation_date":1537920984,"post_id":52506949,"comment_id":91956793,"body_markdown":"You could create your own utility method that uses reflection to build the query string.","body":"You could create your own utility method that uses reflection to build the query string."}],"answers":[{"comments":[{"owner":{"account_id":8127435,"reputation":451,"user_id":6121865,"accept_rate":59,"display_name":"dev"},"score":0,"creation_date":1537913875,"post_id":52507321,"comment_id":91955180,"body_markdown":"We can use this. But what if there are many parameters in the object? Then for every single object we need to write query param. Is this the better approach?","body":"We can use this. But what if there are many parameters in the object? Then for every single object we need to write query param. Is this the better approach?"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1537914179,"post_id":52507321,"comment_id":91955255,"body_markdown":"Web servers often limit the length of a URL, so there is a limit to how many query parameters you can add to a URL. If you really need to send objects with lots of values, you should use a POST, not a GET, and then the payload can even be complex nested values, e.g. XML or JSON.","body":"Web servers often limit the length of a URL, so there is a limit to how many query parameters you can add to a URL. If you really need to send objects with lots of values, you should use a POST, not a GET, and then the payload can even be complex nested values, e.g. XML or JSON."},{"owner":{"account_id":8952205,"reputation":159,"user_id":6677847,"display_name":"Buben Ivanov"},"score":0,"creation_date":1564493552,"post_id":52507321,"comment_id":101043797,"body_markdown":"And how to deal with 20+ params object with lists and maps? Is there a better way?","body":"And how to deal with 20+ params object with lists and maps? Is there a better way?"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1564493737,"post_id":52507321,"comment_id":101043912,"body_markdown":"@BubenIvanov If you have a question, you should create a question, and supply more information than you did in your comment, because I have no idea how you intend &quot;lists and maps&quot; to apply to this.","body":"@BubenIvanov If you have a question, you should create a question, and supply more information than you did in your comment, because I have no idea how you intend &quot;lists and maps&quot; to apply to this."}],"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1537913488,"creation_date":1537913488,"answer_id":52507321,"question_id":52506949,"body_markdown":"Why convert to `Map` then `MultiValueMap`, instead of just building it directly?\r\n\r\n    DateFormat dateFmt = new SimpleDateFormat(&quot;whatever date format you want&quot;);\r\n    URIComponentsBuilder.fromHttpUrl(&quot;httpL//example.com&quot;)\r\n                        .queryParam(&quot;prop1&quot;, a.prop1)\r\n                        .queryParam(&quot;prop2&quot;, a.prop2)\r\n                        .queryParam(&quot;date1&quot;, dateFmt.format(a.date1))\r\n                        .queryParam(&quot;date2&quot;, dateFmt.format(a.date2))\r\n                        .queryParam(&quot;prop3&quot;, a.objB.prop3)\r\n                        .queryParam(&quot;prop4&quot;, a.objB.prop4)\r\n                        .build();","title":"How to convert object to query string in Java?","body":"<p>Why convert to <code>Map</code> then <code>MultiValueMap</code>, instead of just building it directly?</p>\n\n<pre><code>DateFormat dateFmt = new SimpleDateFormat(\"whatever date format you want\");\nURIComponentsBuilder.fromHttpUrl(\"httpL//example.com\")\n                    .queryParam(\"prop1\", a.prop1)\n                    .queryParam(\"prop2\", a.prop2)\n                    .queryParam(\"date1\", dateFmt.format(a.date1))\n                    .queryParam(\"date2\", dateFmt.format(a.date2))\n                    .queryParam(\"prop3\", a.objB.prop3)\n                    .queryParam(\"prop4\", a.objB.prop4)\n                    .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5099602,"reputation":331,"user_id":4089620,"display_name":"fabiojb"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1537918090,"creation_date":1537918090,"answer_id":52507892,"question_id":52506949,"body_markdown":"OpenFeign has the annotation `@QueryMap` to generate query params dinamicaly based on a object attributes:\r\n\r\n    public interface Api {\r\n      @RequestLine(&quot;GET /find&quot;)\r\n      V find(@QueryMap CustomPojo customPojo);\r\n    }\r\nSee more at:\r\nhttps://github.com/OpenFeign/feign#dynamic-query-parameters","title":"How to convert object to query string in Java?","body":"<p>OpenFeign has the annotation <code>@QueryMap</code> to generate query params dinamicaly based on a object attributes:</p>\n\n<pre><code>public interface Api {\n  @RequestLine(\"GET /find\")\n  V find(@QueryMap CustomPojo customPojo);\n}\n</code></pre>\n\n<p>See more at:\n<a href=\"https://github.com/OpenFeign/feign#dynamic-query-parameters\" rel=\"nofollow noreferrer\">https://github.com/OpenFeign/feign#dynamic-query-parameters</a></p>\n"},{"comments":[{"owner":{"account_id":1947573,"reputation":6810,"user_id":1752366,"accept_rate":54,"display_name":"silentsudo"},"score":0,"creation_date":1557907104,"post_id":52508395,"comment_id":98918567,"body_markdown":"I took reference from you answer and posting my answer for better clarrity","body":"I took reference from you answer and posting my answer for better clarrity"},{"owner":{"account_id":16718664,"reputation":140,"user_id":12084130,"display_name":"pacataque"},"score":0,"creation_date":1609861616,"post_id":52508395,"comment_id":115951041,"body_markdown":"It works but you should write \nqueryString = queryString.concat(f.getName() + &quot;=&quot; + String.valueOf(f.get(o)) + &quot;&amp;&quot;); instead of queryString += queryString.concat(f.getName() + &quot;=&quot; + String.valueOf(f.get(o)) + &quot;&amp;&quot;); (remove the &quot;+&quot;) else you will concat itself each time you want add a field","body":"It works but you should write  queryString = queryString.concat(f.getName() + &quot;=&quot; + String.valueOf(f.get(o)) + &quot;&amp;&quot;); instead of queryString += queryString.concat(f.getName() + &quot;=&quot; + String.valueOf(f.get(o)) + &quot;&amp;&quot;); (remove the &quot;+&quot;) else you will concat itself each time you want add a field"}],"tags":[],"owner":{"account_id":2126061,"reputation":669,"user_id":1888197,"accept_rate":73,"display_name":"shark1608"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1537923712,"creation_date":1537922714,"answer_id":52508395,"question_id":52506949,"body_markdown":"You could write your own method that uses `java.lang.reflect`. Here&#39;s an example\r\n\r\n    public static String getRequestString(String urlString, Class clazz, Object o){\r\n\t    String queryString = &quot;?&quot;;\r\n\r\n\t    try {\r\n\t\t    for (Field f : clazz.getDeclaredFields()) {\r\n\t\t\t    f.setAccessible(true);\r\n\t\t\t    queryString += queryString.concat(f.getName() + &quot;=&quot; + String.valueOf(f.get(o)) + &quot;&amp;&quot;);\r\n\t\t    }\r\n\t    }catch (Exception e){\r\n\t\t    e.printStackTrace();\r\n\t    }\r\n\r\n\t    return urlString + queryString.substring(0,queryString.length()-1);\r\n    }","title":"How to convert object to query string in Java?","body":"<p>You could write your own method that uses <code>java.lang.reflect</code>. Here's an example</p>\n\n<pre><code>public static String getRequestString(String urlString, Class clazz, Object o){\n    String queryString = \"?\";\n\n    try {\n        for (Field f : clazz.getDeclaredFields()) {\n            f.setAccessible(true);\n            queryString += queryString.concat(f.getName() + \"=\" + String.valueOf(f.get(o)) + \"&amp;\");\n        }\n    }catch (Exception e){\n        e.printStackTrace();\n    }\n\n    return urlString + queryString.substring(0,queryString.length()-1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1947573,"reputation":6810,"user_id":1752366,"accept_rate":54,"display_name":"silentsudo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557907222,"creation_date":1557907222,"answer_id":56144292,"question_id":52506949,"body_markdown":"This is how i would do it,\r\n\r\nCreate Map, populate and then iterate over map items and append to builder this seems to be working for me. It does not cover support for nested objects. Should be simple with recursion.\r\n\r\n\r\n    public String getRequestString(Class clazz, Object o) {\r\n            StringBuilder queryStringBuilder = new StringBuilder();\r\n            final Map&lt;String, String&gt; queryParams = new LinkedHashMap&lt;&gt;();\r\n    \r\n            try {\r\n                for (Field f : clazz.getDeclaredFields()) {\r\n                    f.setAccessible(true);\r\n                    queryParams.put(f.getName(), String.valueOf(f.get(o)));\r\n                }\r\n                for (Map.Entry&lt;String, String&gt; entry : queryParams.entrySet()) {\r\n                    queryStringBuilder.append(testStringUtils.toSnakeCase(entry.getKey()));\r\n                    queryStringBuilder.append(&quot;=&quot;);\r\n                    queryStringBuilder.append(entry.getValue());\r\n                    queryStringBuilder.append(&quot;&amp;&quot;);\r\n                }\r\n                logger.info(&quot;Map: &quot; + queryParams);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            final String queryString = queryStringBuilder.toString();\r\n            logger.info(&quot;Query string : &quot; + queryString.substring(0, queryString.length() - 1));\r\n            return &quot;?&quot; + queryString.substring(0, queryString.length() - 1);","title":"How to convert object to query string in Java?","body":"<p>This is how i would do it,</p>\n\n<p>Create Map, populate and then iterate over map items and append to builder this seems to be working for me. It does not cover support for nested objects. Should be simple with recursion.</p>\n\n<pre><code>public String getRequestString(Class clazz, Object o) {\n        StringBuilder queryStringBuilder = new StringBuilder();\n        final Map&lt;String, String&gt; queryParams = new LinkedHashMap&lt;&gt;();\n\n        try {\n            for (Field f : clazz.getDeclaredFields()) {\n                f.setAccessible(true);\n                queryParams.put(f.getName(), String.valueOf(f.get(o)));\n            }\n            for (Map.Entry&lt;String, String&gt; entry : queryParams.entrySet()) {\n                queryStringBuilder.append(testStringUtils.toSnakeCase(entry.getKey()));\n                queryStringBuilder.append(\"=\");\n                queryStringBuilder.append(entry.getValue());\n                queryStringBuilder.append(\"&amp;\");\n            }\n            logger.info(\"Map: \" + queryParams);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        final String queryString = queryStringBuilder.toString();\n        logger.info(\"Query string : \" + queryString.substring(0, queryString.length() - 1));\n        return \"?\" + queryString.substring(0, queryString.length() - 1);\n</code></pre>\n"}],"owner":{"account_id":8127435,"reputation":451,"user_id":6121865,"accept_rate":59,"display_name":"dev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14494,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":52507321,"answer_count":4,"score":8,"last_activity_date":1681384670,"creation_date":1537910913,"question_id":52506949,"body_markdown":"I am trying to convert the following object to query string, so that can be used with GET request.\r\n\r\n    Class A {\r\n      String prop1;\r\n      String prop2;\r\n      Date date1;\r\n      Date date2;\r\n      ClassB objB;\r\n    }\r\n\r\n    Class B {\r\n     String prop3;\r\n     String prop4;\r\n    }\r\n\r\nWe can do that first object to Map then convert map to MultiValueMap and use URIComponentsBuilder.fromHttpUrl(&quot;httpL//example.com&quot;).queryParams(multiValueMap).build();\r\n\r\nIs there shorter and better way of converting object to query string so that be used with GET request in Spring Project for Junit Test?","title":"How to convert object to query string in Java?","body":"<p>I am trying to convert the following object to query string, so that can be used with GET request.</p>\n\n<pre><code>Class A {\n  String prop1;\n  String prop2;\n  Date date1;\n  Date date2;\n  ClassB objB;\n}\n\nClass B {\n String prop3;\n String prop4;\n}\n</code></pre>\n\n<p>We can do that first object to Map then convert map to MultiValueMap and use URIComponentsBuilder.fromHttpUrl(\"httpL//example.com\").queryParams(multiValueMap).build();</p>\n\n<p>Is there shorter and better way of converting object to query string so that be used with GET request in Spring Project for Junit Test?</p>\n"},{"tags":["java","amazon-web-services","amazon-s3","aws-s3-client"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1681295979,"post_id":75994482,"comment_id":134032579,"body_markdown":"Wouldn&#39;t it be better if, instead, you uploaded a zip file in the first place?","body":"Wouldn&#39;t it be better if, instead, you uploaded a zip file in the first place?"},{"owner":{"account_id":100740,"reputation":73227,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1681302304,"post_id":75994482,"comment_id":134033974,"body_markdown":"Download the objects, zip them up locally using your preferred Java zip library or some other way (e.g. zip tool), upload the ZIP file to S3, delete the old objects as needed.","body":"Download the objects, zip them up locally using your preferred Java zip library or some other way (e.g. zip tool), upload the ZIP file to S3, delete the old objects as needed."}],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1681311499,"creation_date":1681296626,"answer_id":75994593,"question_id":75994482,"body_markdown":"The AWS SDK for Java does not offer operations to ZIP up files. However, you can write custom Java logic to perform this use case. Creating backend logic to dynamically zip certian files (ie - images) is a valid use case. \r\n\r\nFor example, in the below photo asset management app, JPG files are retrieved based on a user selecting tags. Then the corresponding files are retrieved from an S3 bucket, placed into a ZIP file, stored in a separate bucket and the ZIP file is presigned to the user can retrieve the JPG files that match the tags. \r\n\r\nRefer to the below document that includes dynamically zipping image files. The Java logic you are looking for is in the ***Photo Asset Management*** example that you can find here in the AWS Code Library. \r\n\r\n[Create a photo asset management application that lets users manage photos using labels][1]\r\n\r\nSee the  `public byte[] listBytesToZip()` method in the `S3Service` class. \r\n\r\n  [1]: https://docs.aws.amazon.com/code-library/latest/ug/cross_PAM_java_2_topic.html","title":"How can I zip an object in S3 Bucket using Java AWS SDK","body":"<p>The AWS SDK for Java does not offer operations to ZIP up files. However, you can write custom Java logic to perform this use case. Creating backend logic to dynamically zip certian files (ie - images) is a valid use case.</p>\n<p>For example, in the below photo asset management app, JPG files are retrieved based on a user selecting tags. Then the corresponding files are retrieved from an S3 bucket, placed into a ZIP file, stored in a separate bucket and the ZIP file is presigned to the user can retrieve the JPG files that match the tags.</p>\n<p>Refer to the below document that includes dynamically zipping image files. The Java logic you are looking for is in the <em><strong>Photo Asset Management</strong></em> example that you can find here in the AWS Code Library.</p>\n<p><a href=\"https://docs.aws.amazon.com/code-library/latest/ug/cross_PAM_java_2_topic.html\" rel=\"nofollow noreferrer\">Create a photo asset management application that lets users manage photos using labels</a></p>\n<p>See the  <code>public byte[] listBytesToZip()</code> method in the <code>S3Service</code> class.</p>\n"}],"owner":{"account_id":11282308,"reputation":49,"user_id":8274248,"accept_rate":50,"display_name":"vyas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":301,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":75994593,"answer_count":1,"score":-1,"last_activity_date":1681384620,"creation_date":1681295903,"question_id":75994482,"body_markdown":"I am pretty new to Amazon S3 and working on something with S3. I have uploaded many files to S3 bucket using Java. I have objects in S3 with a name like Demo/demo1.txt, Demo/demo2.txt, Demo/demo3.txt. I have almost 1000 individual files till demo1000.txt under Demo/. I have uploaded them from Java using below code\r\n\r\n    s3Client.upload(bucketName, inputStream, objectKey, ObjectMetaData);\r\n\r\nHow can I zip that entire demo/ object containing those 1000 files in S3 itself using AWS API for Java?","title":"How can I zip an object in S3 Bucket using Java AWS SDK","body":"<p>I am pretty new to Amazon S3 and working on something with S3. I have uploaded many files to S3 bucket using Java. I have objects in S3 with a name like Demo/demo1.txt, Demo/demo2.txt, Demo/demo3.txt. I have almost 1000 individual files till demo1000.txt under Demo/. I have uploaded them from Java using below code</p>\n<pre><code>s3Client.upload(bucketName, inputStream, objectKey, ObjectMetaData);\n</code></pre>\n<p>How can I zip that entire demo/ object containing those 1000 files in S3 itself using AWS API for Java?</p>\n"},{"tags":["java","spring-boot","error-handling","resttemplate"],"answers":[{"tags":[],"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681384415,"creation_date":1681384415,"answer_id":76004762,"question_id":76004543,"body_markdown":"# Problem statement\r\n\r\n[ResourceAccessException][1] is an exception `class` which is not inherited from [IOException][2], so your `catch` will not be entered in this specific case. So, you have several options:\r\n\r\n# Catch Exception\r\n\r\nCode:\r\n\r\n```\r\ncatch (Exception exception) {\r\n    //your code\r\n}\r\n```\r\n\r\nthis would handle both `IOException` and `RestClientException`. Even though this is a short and easy-to-read solution, if you may have other exceptions to catch in a different manner, then you may want to decide against it. But in many cases this could help you. Ultimately it is you who needs to decide whether this is the way to go.\r\n\r\n# Catch multiple exceptions\r\n\r\nCode\r\n\r\n```\r\ncatch (IOException ioException) {\r\n    // Your code\r\n} catch (RestClientException restClientException) {\r\n    // Your code\r\n}\r\n```\r\n\r\nThis is precisely doing what you want, so it is a useful solution if the first suggestion does not help.\r\n\r\n# Catch multiple exception types in the same block\r\n\r\nCode\r\n\r\n```\r\ncatch (IOException | RestClientException myException) {\r\n    // Your code\r\n}\r\n```\r\n\r\nThis is whitelisting the root exception types you want to handle and it&#39;s a neat way to approach the problem.\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/client/ResourceAccessException.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html","title":"How to handle RestTemplate Exceptions in a client?","body":"<h1>Problem statement</h1>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/client/ResourceAccessException.html\" rel=\"nofollow noreferrer\">ResourceAccessException</a> is an exception <code>class</code> which is not inherited from <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html\" rel=\"nofollow noreferrer\">IOException</a>, so your <code>catch</code> will not be entered in this specific case. So, you have several options:</p>\n<h1>Catch Exception</h1>\n<p>Code:</p>\n<pre><code>catch (Exception exception) {\n    //your code\n}\n</code></pre>\n<p>this would handle both <code>IOException</code> and <code>RestClientException</code>. Even though this is a short and easy-to-read solution, if you may have other exceptions to catch in a different manner, then you may want to decide against it. But in many cases this could help you. Ultimately it is you who needs to decide whether this is the way to go.</p>\n<h1>Catch multiple exceptions</h1>\n<p>Code</p>\n<pre><code>catch (IOException ioException) {\n    // Your code\n} catch (RestClientException restClientException) {\n    // Your code\n}\n</code></pre>\n<p>This is precisely doing what you want, so it is a useful solution if the first suggestion does not help.</p>\n<h1>Catch multiple exception types in the same block</h1>\n<p>Code</p>\n<pre><code>catch (IOException | RestClientException myException) {\n    // Your code\n}\n</code></pre>\n<p>This is whitelisting the root exception types you want to handle and it's a neat way to approach the problem.</p>\n"}],"owner":{"account_id":27230621,"reputation":33,"user_id":20758387,"display_name":"CurvedHalo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":897,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76004762,"answer_count":1,"score":1,"last_activity_date":1681384415,"creation_date":1681383011,"question_id":76004543,"body_markdown":"I have a springboot application which invokes a Client Library I&#39;ve written, to make REST calls to a third party service. \r\n\r\nI want to be able to catch any/all exceptions which may come from this client library, and map them to my own custom exception, which I can catch in my application. \r\n\r\nWithin the Client Library, I have a RestTemplate bean, and I&#39;ve bound a ErrorHandler to it, like so:\r\n```java\r\npublic class CustomRestTemplateErrorHandler implements ResponseErrorHandler {\r\n\r\n}\r\n``` \r\n\r\nI use the typical methods of &#39;hasError&#39; and &#39;handleError&#39;. If I return a HTTP400 with some expected error response body, I can catch this error and map it to my exception, as shown here:\r\n```java\r\n@Override\r\n    public void handleError(ClientHttpResponse response) {\r\n        try {\r\n            if (!response.getStatusCode().is2xxSuccessful()) {\r\n                BufferedReader reader = new BufferedReader(\r\n                        new InputStreamReader(response.getBody()));\r\n                String httpBodyResponse = reader.lines()\r\n                        .collect(Collectors.joining(&quot;&quot;));\r\n\r\n                ObjectMapper mapper = new ObjectMapper();\r\n                ExpectedErrorResponse errorResponse = mapper.readValue(httpBodyResponse, ExpectedErrorResponse.class);\r\n                throw new CustomException(response.getStatusCode(), errorResponse);\r\n            }\r\n        } catch (IOException ioException) {\r\n            throw new CustomException(ioException.getMessage(), ioException.getCause());\r\n        }\r\n    }\r\n```\r\n\r\nLets say I run this test, and the downstream server isn&#39;t running. I&#39;ll get the following Exception, which **isn&#39;t** caught by my error handler: ``Caused by: org.springframework.web.client.ResourceAccessException: I/O error on POST request for &quot;http://127.0.0.1:8082/&quot;: Connect to 127.0.0.1:8082 [/127.0.0.1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to 127.0.0.1:8082 [/127.0.0.1] failed: Connection refused: connect``\r\n\r\nHow do I catch both the expected type of error response, and a RestClientException, within the ResponseErrorHandler? \r\n\r\nThanks","title":"How to handle RestTemplate Exceptions in a client?","body":"<p>I have a springboot application which invokes a Client Library I've written, to make REST calls to a third party service.</p>\n<p>I want to be able to catch any/all exceptions which may come from this client library, and map them to my own custom exception, which I can catch in my application.</p>\n<p>Within the Client Library, I have a RestTemplate bean, and I've bound a ErrorHandler to it, like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomRestTemplateErrorHandler implements ResponseErrorHandler {\n\n}\n</code></pre>\n<p>I use the typical methods of 'hasError' and 'handleError'. If I return a HTTP400 with some expected error response body, I can catch this error and map it to my exception, as shown here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n    public void handleError(ClientHttpResponse response) {\n        try {\n            if (!response.getStatusCode().is2xxSuccessful()) {\n                BufferedReader reader = new BufferedReader(\n                        new InputStreamReader(response.getBody()));\n                String httpBodyResponse = reader.lines()\n                        .collect(Collectors.joining(&quot;&quot;));\n\n                ObjectMapper mapper = new ObjectMapper();\n                ExpectedErrorResponse errorResponse = mapper.readValue(httpBodyResponse, ExpectedErrorResponse.class);\n                throw new CustomException(response.getStatusCode(), errorResponse);\n            }\n        } catch (IOException ioException) {\n            throw new CustomException(ioException.getMessage(), ioException.getCause());\n        }\n    }\n</code></pre>\n<p>Lets say I run this test, and the downstream server isn't running. I'll get the following Exception, which <strong>isn't</strong> caught by my error handler: <code>Caused by: org.springframework.web.client.ResourceAccessException: I/O error on POST request for &quot;http://127.0.0.1:8082/&quot;: Connect to 127.0.0.1:8082 [/127.0.0.1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to 127.0.0.1:8082 [/127.0.0.1] failed: Connection refused: connect</code></p>\n<p>How do I catch both the expected type of error response, and a RestClientException, within the ResponseErrorHandler?</p>\n<p>Thanks</p>\n"},{"tags":["java","logging","log4j2"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1680787345,"post_id":75946574,"comment_id":133959310,"body_markdown":"Do you use the original `log4j-*` jars or do you repackage them into a fat-/uber-jar?","body":"Do you use the original <code>log4j-*</code> jars or do you repackage them into a fat-/uber-jar?"},{"owner":{"account_id":9979607,"reputation":21,"user_id":7382973,"display_name":"Abhinav"},"score":0,"creation_date":1680801475,"post_id":75946574,"comment_id":133962930,"body_markdown":"original logj-* upgraded the version as well, it didn&#39;t work too.","body":"original logj-* upgraded the version as well, it didn&#39;t work too."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1680805467,"post_id":75946574,"comment_id":133963781,"body_markdown":"Log4j 2.x uses multi-release jars to support both Java 8 and Java 9+. Shading is the most common reason that breaks multi-release jars, but another possibility is that your Jetty server does not support multi-release jars. What version of Jetty are you using?","body":"Log4j 2.x uses multi-release jars to support both Java 8 and Java 9+. Shading is the most common reason that breaks multi-release jars, but another possibility is that your Jetty server does not support multi-release jars. What version of Jetty are you using?"},{"owner":{"account_id":9979607,"reputation":21,"user_id":7382973,"display_name":"Abhinav"},"score":0,"creation_date":1680853115,"post_id":75946574,"comment_id":133969866,"body_markdown":"that&#39;s correct, and after enabling &lt;Multi-Release&gt;true&lt;/Multi-Release&gt; in my pom plugin it is working, not sure about the root cause of it but for now it solved my problem.","body":"that&#39;s correct, and after enabling &lt;Multi-Release&gt;true&lt;/Multi-Release&gt; in my pom plugin it is working, not sure about the root cause of it but for now it solved my problem."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1681384267,"post_id":75946574,"comment_id":134049191,"body_markdown":"You&#39;re currently using an unsafe version of Log4j (or at least: it has known vulnerabilities). Upgrade to 2.17.1.","body":"You&#39;re currently using an unsafe version of Log4j (or at least: it has known vulnerabilities). Upgrade to 2.17.1."},{"owner":{"account_id":9979607,"reputation":21,"user_id":7382973,"display_name":"Abhinav"},"score":0,"creation_date":1681725667,"post_id":75946574,"comment_id":134097427,"body_markdown":"Thanks for this info will use the latest version.","body":"Thanks for this info will use the latest version."}],"answers":[{"tags":[],"owner":{"account_id":9979607,"reputation":21,"user_id":7382973,"display_name":"Abhinav"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681384344,"creation_date":1680866875,"answer_id":75957997,"question_id":75946574,"body_markdown":"Adding below line in my pom file plugin resolved this issue for me.\r\n\r\n```xml\r\n&lt;manifestEntries&gt;\r\n    &lt;Multi-Release&gt;true&lt;/Multi-Release&gt;\r\n&lt;/manifestEntries&gt;\r\n```","title":"Log4j is not working as it was in previous version of java","body":"<p>Adding below line in my pom file plugin resolved this issue for me.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;manifestEntries&gt;\n    &lt;Multi-Release&gt;true&lt;/Multi-Release&gt;\n&lt;/manifestEntries&gt;\n</code></pre>\n"}],"owner":{"account_id":9979607,"reputation":21,"user_id":7382973,"display_name":"Abhinav"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":530,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75957997,"answer_count":1,"score":0,"last_activity_date":1681384344,"creation_date":1680763391,"question_id":75946574,"body_markdown":"I recently upgraded my application from Java 8 to Java 17 and made a few upgrades related to library for compatibility but, my log4j log level which was previously set throw code is not working. The log level is getting picked from `log4j2.xml` file.\r\n\r\nlog4j jar used is 2.16.0\r\n\r\nFYI\r\n \r\n\r\n&gt;Configurator.setAllLevels(LogManager.getLogger(getRootPackage.get()).getName(), &quot;INFO&quot;);\r\n\r\n\r\nIn my log4j2.xml\r\n\r\n```xml\r\n&lt;logger name=&quot;com&quot; level=&quot;trace&quot; additivity=&quot;false&quot;&gt;\r\n    &lt;AppenderRef ref=&quot;Console&quot; /&gt;\r\n    &lt;AppenderRef ref=&quot;RollingFile&quot; /&gt;\r\n&lt;/logger&gt;\r\n```\r\n\r\nMy log level for applications is trace, whereas I want it to be info.\r\n\r\nI tried upgrading the log4j jar tried other approaches to dynamically change the log level none is working. I&#39;m using Jetty server.","title":"Log4j is not working as it was in previous version of java","body":"<p>I recently upgraded my application from Java 8 to Java 17 and made a few upgrades related to library for compatibility but, my log4j log level which was previously set throw code is not working. The log level is getting picked from <code>log4j2.xml</code> file.</p>\n<p>log4j jar used is 2.16.0</p>\n<p>FYI</p>\n<blockquote>\n<p>Configurator.setAllLevels(LogManager.getLogger(getRootPackage.get()).getName(), &quot;INFO&quot;);</p>\n</blockquote>\n<p>In my log4j2.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;logger name=&quot;com&quot; level=&quot;trace&quot; additivity=&quot;false&quot;&gt;\n    &lt;AppenderRef ref=&quot;Console&quot; /&gt;\n    &lt;AppenderRef ref=&quot;RollingFile&quot; /&gt;\n&lt;/logger&gt;\n</code></pre>\n<p>My log level for applications is trace, whereas I want it to be info.</p>\n<p>I tried upgrading the log4j jar tried other approaches to dynamically change the log level none is working. I'm using Jetty server.</p>\n"},{"tags":["java","android","user-interface"],"owner":{"account_id":27129528,"reputation":3,"user_id":20671928,"display_name":"plurplemonster"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681384290,"creation_date":1681384290,"question_id":76004749,"body_markdown":"I am new to making apps using Android Studio and need some help with design.\r\nI am currently making an application using Java on Android Studio. When creating a user account, I want the user to select their location but I&#39;m having trouble finding a way to implement it according to my design. Here&#39;s images of how I want the UI to work:\r\n[User clicks on the city option](https://i.stack.imgur.com/IJxjW.png)\r\n\r\nThen the app should open up a page which has a list of states (which i think should be a fragment):\r\n[User selects Selangor](https://i.stack.imgur.com/sYzAg.png)\r\n\r\nBased on the users choice of state, it should open a new page with a list of cities in the chosen states:\r\n[user selects Ampang](https://i.stack.imgur.com/pcy3s.png)\r\n\r\nOnce the user has selected the City, it should return back to the registration page, with the city value filled in: [enter image description here](https://i.stack.imgur.com/HqTNV.png)\r\n\r\nHow do I properly implement this? I&#39;ve avoided using the nested spinner as other parts of my app include the same page by page design, and don&#39;t want to avoid this.\r\n\r\nI tried using a dependent nested spinner to choose the location, even though it works, it doesn&#39;t look the same as my design.","title":"How do I implement this specific choice user interface in Android Studio?","body":"<p>I am new to making apps using Android Studio and need some help with design.\nI am currently making an application using Java on Android Studio. When creating a user account, I want the user to select their location but I'm having trouble finding a way to implement it according to my design. Here's images of how I want the UI to work:\n<a href=\"https://i.stack.imgur.com/IJxjW.png\" rel=\"nofollow noreferrer\">User clicks on the city option</a></p>\n<p>Then the app should open up a page which has a list of states (which i think should be a fragment):\n<a href=\"https://i.stack.imgur.com/sYzAg.png\" rel=\"nofollow noreferrer\">User selects Selangor</a></p>\n<p>Based on the users choice of state, it should open a new page with a list of cities in the chosen states:\n<a href=\"https://i.stack.imgur.com/pcy3s.png\" rel=\"nofollow noreferrer\">user selects Ampang</a></p>\n<p>Once the user has selected the City, it should return back to the registration page, with the city value filled in: <a href=\"https://i.stack.imgur.com/HqTNV.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>How do I properly implement this? I've avoided using the nested spinner as other parts of my app include the same page by page design, and don't want to avoid this.</p>\n<p>I tried using a dependent nested spinner to choose the location, even though it works, it doesn't look the same as my design.</p>\n"},{"tags":["java","unit-testing","junit"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1681311849,"post_id":75996998,"comment_id":134036678,"body_markdown":"You have a timing problem You run the service asynch. So the verify is called before the run is executed","body":"You have a timing problem You run the service asynch. So the verify is called before the run is executed"},{"owner":{"account_id":17391021,"reputation":5,"user_id":12601540,"display_name":"user12601540"},"score":0,"creation_date":1681312044,"post_id":75996998,"comment_id":134036733,"body_markdown":"@Jens I executed run like this: when(circuitBreaker.run(any(), any())).thenReturn(Response.class);  but that doesnt help.","body":"@Jens I executed run like this: when(circuitBreaker.run(any(), any())).thenReturn(Response.class);  but that doesnt help."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1681312177,"post_id":75996998,"comment_id":134036761,"body_markdown":"Try to add a sleep before verify","body":"Try to add a sleep before verify"},{"owner":{"account_id":17391021,"reputation":5,"user_id":12601540,"display_name":"user12601540"},"score":0,"creation_date":1681313039,"post_id":75996998,"comment_id":134037000,"body_markdown":"@Jens tried, still failing","body":"@Jens tried, still failing"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1681374930,"post_id":75996998,"comment_id":134046953,"body_markdown":"Warning: capturing a person may be a felony in your country.","body":"Warning: capturing a person may be a felony in your country."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1681380506,"post_id":75996998,"comment_id":134048328,"body_markdown":"Wait, does `thenReturn(Response.class)` make sense? It will return a `Class&lt;Response&gt;` object, not a Response object. Also, you are not using your `ArgumentCaptor` anywhere","body":"Wait, does <code>thenReturn(Response.class)</code> make sense? It will return a <code>Class&lt;Response&gt;</code> object, not a Response object. Also, you are not using your <code>ArgumentCaptor</code> anywhere"},{"owner":{"account_id":17391021,"reputation":5,"user_id":12601540,"display_name":"user12601540"},"score":0,"creation_date":1681383776,"post_id":75996998,"comment_id":134049061,"body_markdown":"@knittl I have assertions, where i check the value from argument captor","body":"@knittl I have assertions, where i check the value from argument captor"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1681387309,"post_id":75996998,"comment_id":134049976,"body_markdown":"@user12601540 please see my updated answer (and take a step back. dumb down your test. start small. use a debugger. add extra logic when the simple tests work)","body":"@user12601540 please see my updated answer (and take a step back. dumb down your test. start small. use a debugger. add extra logic when the simple tests work)"}],"answers":[{"comments":[{"owner":{"account_id":17391021,"reputation":5,"user_id":12601540,"display_name":"user12601540"},"score":0,"creation_date":1681366771,"post_id":75998004,"comment_id":134045301,"body_markdown":"but I need to capture all arguments","body":"but I need to capture all arguments"},{"owner":{"account_id":16991872,"reputation":121,"user_id":12291277,"display_name":"muhrahim95"},"score":0,"creation_date":1681368387,"post_id":75998004,"comment_id":134045591,"body_markdown":"Added another example","body":"Added another example"},{"owner":{"account_id":17391021,"reputation":5,"user_id":12601540,"display_name":"user12601540"},"score":0,"creation_date":1681368671,"post_id":75998004,"comment_id":134045653,"body_markdown":"still getting fail at verify()","body":"still getting fail at verify()"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1681370819,"post_id":75998004,"comment_id":134046089,"body_markdown":"Assigning the field of the test will not change the already-autowired dependency of the service. If the field is assigned, the `@Mock` annotation should be removed.","body":"Assigning the field of the test will not change the already-autowired dependency of the service. If the field is assigned, the <code>@Mock</code> annotation should be removed."}],"tags":[],"owner":{"account_id":16991872,"reputation":121,"user_id":12291277,"display_name":"muhrahim95"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681368376,"creation_date":1681318282,"answer_id":75998004,"question_id":75996998,"body_markdown":"It seems `sendPerson` may not be getting invoked in your test due to the circuit breaker.\r\n\r\nCreate a new circuit breaker instance specifically for the test, then configure it to always allow the call to go through.\r\n\r\n```\r\nvoid setUp() {\r\n    circuitBreaker = circuitBreakerRegistry.circuitBreaker(&quot;test-circuit-breaker&quot;);\r\n    circuitBreaker.transitionToClosedState();\r\n}\r\n\r\n@Test\r\nvoid savePerson() {\r\n    // Create the person object\r\n    Person person = new Person();\r\n    person.setName(&quot;Alice&quot;); \r\n    person.setAge(20); \r\n\r\n    // Configure the mock response\r\n    when(personClient.sendPerson(any(Person.class))).thenReturn(ResponseEntity.ok().build());\r\n\r\n    // Call the save method\r\n    customerService.save(person);\r\n\r\n    // Verify that the sendPerson method was called with the correct argument\r\n    verify(personClient).sendPerson(argThat(argument -&gt; argument.getName().equals(&quot;Alice&quot;) &amp;&amp; argument.getAge().equals(20));\r\n}\r\n```","title":"Capturing person in junit test","body":"<p>It seems <code>sendPerson</code> may not be getting invoked in your test due to the circuit breaker.</p>\n<p>Create a new circuit breaker instance specifically for the test, then configure it to always allow the call to go through.</p>\n<pre><code>void setUp() {\n    circuitBreaker = circuitBreakerRegistry.circuitBreaker(&quot;test-circuit-breaker&quot;);\n    circuitBreaker.transitionToClosedState();\n}\n\n@Test\nvoid savePerson() {\n    // Create the person object\n    Person person = new Person();\n    person.setName(&quot;Alice&quot;); \n    person.setAge(20); \n\n    // Configure the mock response\n    when(personClient.sendPerson(any(Person.class))).thenReturn(ResponseEntity.ok().build());\n\n    // Call the save method\n    customerService.save(person);\n\n    // Verify that the sendPerson method was called with the correct argument\n    verify(personClient).sendPerson(argThat(argument -&gt; argument.getName().equals(&quot;Alice&quot;) &amp;&amp; argument.getAge().equals(20));\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":17391021,"reputation":5,"user_id":12601540,"display_name":"user12601540"},"score":0,"creation_date":1681371768,"post_id":76002548,"comment_id":134046273,"body_markdown":"now I am getting this error for Runnable: bad return type in lambda expression: void cannot be converted to Object","body":"now I am getting this error for Runnable: bad return type in lambda expression: void cannot be converted to Object"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1681372295,"post_id":76002548,"comment_id":134046397,"body_markdown":"@user12601540 sorry, I forgot to actually return something from the stub. The type of the lambda is probably not `Runnable`, but rather a `Callable` or `Supplier&lt;T&gt;`.","body":"@user12601540 sorry, I forgot to actually return something from the stub. The type of the lambda is probably not <code>Runnable</code>, but rather a <code>Callable</code> or <code>Supplier&lt;T&gt;</code>."},{"owner":{"account_id":17391021,"reputation":5,"user_id":12601540,"display_name":"user12601540"},"score":0,"creation_date":1681377070,"post_id":76002548,"comment_id":134047490,"body_markdown":"Updated question, added configuration bean for circuit breaker, but still getting fail for verify()","body":"Updated question, added configuration bean for circuit breaker, but still getting fail for verify()"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1681378827,"post_id":76002548,"comment_id":134047913,"body_markdown":"@user12601540 The circuit breaker bean is not used, because you have `@Mock CircuitBreaker circuitBreaker` and `@InjectMocks CustomerServiceImpl customerService` in your test.","body":"@user12601540 The circuit breaker bean is not used, because you have <code>@Mock CircuitBreaker circuitBreaker</code> and <code>@InjectMocks CustomerServiceImpl customerService</code> in your test."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1681378872,"post_id":76002548,"comment_id":134047921,"body_markdown":"@user12601540 where have you added the `when`? Can you debug your code and check if the mock is used? Have you read the related question which I have linked at the end of my answer?","body":"@user12601540 where have you added the <code>when</code>? Can you debug your code and check if the mock is used? Have you read the related question which I have linked at the end of my answer?"},{"owner":{"account_id":17391021,"reputation":5,"user_id":12601540,"display_name":"user12601540"},"score":0,"creation_date":1681380053,"post_id":76002548,"comment_id":134048228,"body_markdown":"I debug my code, circuitBreaker is mocked, but the result of personClient.sendPerson(person) is null, so when circuitBreaker.run() implements, it returns null","body":"I debug my code, circuitBreaker is mocked, but the result of personClient.sendPerson(person) is null, so when circuitBreaker.run() implements, it returns null"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1681383921,"post_id":76002548,"comment_id":134049100,"body_markdown":"@user12601540 but you don&#39;t assert the return value of sendPerson, you only verify if it has been called.","body":"@user12601540 but you don&#39;t assert the return value of sendPerson, you only verify if it has been called."}],"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681383968,"creation_date":1681369486,"answer_id":76002548,"question_id":75996998,"body_markdown":"Your circuit breaker is defined as `@Mock`. A mock does nothing, unless you tell it to. So all your `save` method does is call a &quot;do nothing method&quot; (`.run`).\r\n\r\nMy recommendation would be to use a real circuit breaker or an implementation which can be used in a test (e.g. an implementation which simply executes the runnable/callable parameter immediately).\r\n\r\nIf no such implementation is available, you can set up the stubbing of the mock manually (but this gets messy really quickly).\r\n\r\nAssuming you are using [Spring cloud&#39;s `CircuitBreaker` class](https://javadoc.io/doc/org.springframework.cloud/spring-cloud-commons/2.2.0.RELEASE/org/springframework/cloud/client/circuitbreaker/CircuitBreaker.html), put this in your setup method or at the beginning of your test method(s):\r\n\r\n```\r\nwhen(circuitBreaker.run(any()))\r\n      .thenAnswer(a -&gt; a.&lt;Supplier&lt;Object&gt;getArgument(0).get());\r\n```\r\n\r\nThis will instruct the mock to call the lambda in its first argument immediately and return its result, as soon as `run` is called.\r\n\r\nYou are not using your captor anywhere in your calls, so it cannot possibly capture any values. Fortunately, you don&#39;t need the captor at all – you already know the value which is passed to your method and that value is `person`.\r\n\r\nSo you can get rid of the `ArgumentCaptor` (you are not using it anyway) simply verify your call with the real person object reference (because this is what you actually want to verify: &quot;has sendPerson been called with the correct person?&quot;):\r\n\r\n```\r\nverify(personClient).sendPerson(person);\r\n```\r\n\r\nI also note that you have `.thenReturn(Response.class)` in your stub, which doesn&#39;t make any sense. You want a Response object (e.g. `new Response()` which is of type `Response`), not the class metadata of the Response class (i.e. `Response.class` which is of type `Class&lt;Response&gt;`). I&#39;m surprised that this even compiles, but I don&#39;t know the signature of your `sendPerson` method; perhaps it returns `Object` or `&lt;T&gt; T`, so the compiler does not complain. Nevertheless, the way you set up your stub is definitely incorrect.\r\n\r\nRelated, but not an exact dupe: https://stackoverflow.com/q/74027324/112968\r\n\r\nPS. There are lots of misconceptions in your question on how to use Mockito. I would suggest to take a step back and start with easy and simple tests, without any third party frameworks. Use good old dependency injection, manually create and inject test doubles, assert the result state. Once you have a better understanding, switch parts to Mockito (but often, tests can be written without requiring Mockito).","title":"Capturing person in junit test","body":"<p>Your circuit breaker is defined as <code>@Mock</code>. A mock does nothing, unless you tell it to. So all your <code>save</code> method does is call a &quot;do nothing method&quot; (<code>.run</code>).</p>\n<p>My recommendation would be to use a real circuit breaker or an implementation which can be used in a test (e.g. an implementation which simply executes the runnable/callable parameter immediately).</p>\n<p>If no such implementation is available, you can set up the stubbing of the mock manually (but this gets messy really quickly).</p>\n<p>Assuming you are using <a href=\"https://javadoc.io/doc/org.springframework.cloud/spring-cloud-commons/2.2.0.RELEASE/org/springframework/cloud/client/circuitbreaker/CircuitBreaker.html\" rel=\"nofollow noreferrer\">Spring cloud's <code>CircuitBreaker</code> class</a>, put this in your setup method or at the beginning of your test method(s):</p>\n<pre><code>when(circuitBreaker.run(any()))\n      .thenAnswer(a -&gt; a.&lt;Supplier&lt;Object&gt;getArgument(0).get());\n</code></pre>\n<p>This will instruct the mock to call the lambda in its first argument immediately and return its result, as soon as <code>run</code> is called.</p>\n<p>You are not using your captor anywhere in your calls, so it cannot possibly capture any values. Fortunately, you don't need the captor at all – you already know the value which is passed to your method and that value is <code>person</code>.</p>\n<p>So you can get rid of the <code>ArgumentCaptor</code> (you are not using it anyway) simply verify your call with the real person object reference (because this is what you actually want to verify: &quot;has sendPerson been called with the correct person?&quot;):</p>\n<pre><code>verify(personClient).sendPerson(person);\n</code></pre>\n<p>I also note that you have <code>.thenReturn(Response.class)</code> in your stub, which doesn't make any sense. You want a Response object (e.g. <code>new Response()</code> which is of type <code>Response</code>), not the class metadata of the Response class (i.e. <code>Response.class</code> which is of type <code>Class&lt;Response&gt;</code>). I'm surprised that this even compiles, but I don't know the signature of your <code>sendPerson</code> method; perhaps it returns <code>Object</code> or <code>&lt;T&gt; T</code>, so the compiler does not complain. Nevertheless, the way you set up your stub is definitely incorrect.</p>\n<p>Related, but not an exact dupe: <a href=\"https://stackoverflow.com/q/74027324/112968\">Why are my mocked methods not calld when executing a unit test?</a></p>\n<p>PS. There are lots of misconceptions in your question on how to use Mockito. I would suggest to take a step back and start with easy and simple tests, without any third party frameworks. Use good old dependency injection, manually create and inject test doubles, assert the result state. Once you have a better understanding, switch parts to Mockito (but often, tests can be written without requiring Mockito).</p>\n"}],"owner":{"account_id":17391021,"reputation":5,"user_id":12601540,"display_name":"user12601540"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681383968,"creation_date":1681311585,"question_id":75996998,"body_markdown":"Having problem with params capturing in junit test.\r\n\r\n\r\nI have the method which send person object to another service.\r\nAlso I use circuitBreaker to continue app run, even if person service is not available.\r\n\r\nCircuit-Breaker bean configuration:\r\n\r\n    @Bean\r\n    public CircuitBreaker circuitBreaker(CircuitBreakerFactory&lt;Resilience4JCircuitBreakerConfiguration, Resilience4JConfigBuilder&gt; factory) {\r\n        return factory.create(&quot;circuitBreaker&quot;);\r\n    }\r\n\r\n```java\r\n@Autowired\r\nprivate PersonClient personClient;\r\n\r\n@Autowired\r\nprivate CircuitBreaker circuitBreaker;\r\n\r\npublic void save(Person person) {\r\n        //setting some fields into person.\r\n        circuitBreaker.run(() -&gt; personClient.sendPerson(person), throwable -&gt; {\r\n            log.error(&quot;Error sending message to PersonService: &quot;, throwable);\r\n            return null;\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nI am having trouble testing this method.\r\nHere is my test:\r\n\r\n```java\r\n@InjectMocks\r\nprivate CustomerServiceImpl customerService;\r\n\r\n@Mock\r\nprivate PersonClient personClient;\r\n\r\n@Captor\r\nprivate ArgumentCaptor&lt;Person&gt; captor;\r\n\r\n@Mock\r\nprivate CircuitBreaker circuitBreaker;\r\n\r\n@Test\r\n    void savePerson() {\r\n        //person obj created here;\r\n\r\n        when(personClient.sendPerson(any(Person.class))).thenReturn(Response.class);\r\n\r\n        customerService.save(obj);\r\n\r\n\r\n        verify(personClient).sendPerson(captor.capture()); // failing here \r\n        verifyNoMoreInteractions(personClient);\r\n\r\n        var testPerson = captor.getValue();\r\n//assertions\r\n```\r\nHere is fail description: \r\nWanted but not invoked:personClient.sendPerson(&lt;Capturing argument&gt;);\r\n\r\nIs there a way to capture argument here? I captured it without having circuitBreaker, but with circuitBreaker (call the service 3 times, otherwise return nothing) having fail test.  ","title":"Capturing person in junit test","body":"<p>Having problem with params capturing in junit test.</p>\n<p>I have the method which send person object to another service.\nAlso I use circuitBreaker to continue app run, even if person service is not available.</p>\n<p>Circuit-Breaker bean configuration:</p>\n<pre><code>@Bean\npublic CircuitBreaker circuitBreaker(CircuitBreakerFactory&lt;Resilience4JCircuitBreakerConfiguration, Resilience4JConfigBuilder&gt; factory) {\n    return factory.create(&quot;circuitBreaker&quot;);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nprivate PersonClient personClient;\n\n@Autowired\nprivate CircuitBreaker circuitBreaker;\n\npublic void save(Person person) {\n        //setting some fields into person.\n        circuitBreaker.run(() -&gt; personClient.sendPerson(person), throwable -&gt; {\n            log.error(&quot;Error sending message to PersonService: &quot;, throwable);\n            return null;\n        });\n    }\n}\n</code></pre>\n<p>I am having trouble testing this method.\nHere is my test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@InjectMocks\nprivate CustomerServiceImpl customerService;\n\n@Mock\nprivate PersonClient personClient;\n\n@Captor\nprivate ArgumentCaptor&lt;Person&gt; captor;\n\n@Mock\nprivate CircuitBreaker circuitBreaker;\n\n@Test\n    void savePerson() {\n        //person obj created here;\n\n        when(personClient.sendPerson(any(Person.class))).thenReturn(Response.class);\n\n        customerService.save(obj);\n\n\n        verify(personClient).sendPerson(captor.capture()); // failing here \n        verifyNoMoreInteractions(personClient);\n\n        var testPerson = captor.getValue();\n//assertions\n</code></pre>\n<p>Here is fail description:\nWanted but not invoked:personClient.sendPerson();</p>\n<p>Is there a way to capture argument here? I captured it without having circuitBreaker, but with circuitBreaker (call the service 3 times, otherwise return nothing) having fail test.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":5221034,"reputation":218,"user_id":4867727,"display_name":"GiantTree"},"score":1,"creation_date":1437585590,"post_id":31569491,"comment_id":51094686,"body_markdown":"2 options: Either add a `.nomedia` file to the folder you are downloading to or start the folder you are saving to with a dot (`.`).","body":"2 options: Either add a <code>.nomedia</code> file to the folder you are downloading to or start the folder you are saving to with a dot (<code>.</code>)."},{"owner":{"account_id":6667428,"reputation":11,"user_id":5144659,"display_name":"laksh yadav"},"score":0,"creation_date":1437588879,"post_id":31569491,"comment_id":51096647,"body_markdown":"Hi GaiantTree thanks for reply. But the video file in side .nomedia not shows in gallery but then device connect to pc then open sdcard the files inside .nomedia folder show. So please let me know how can i protect","body":"Hi GaiantTree thanks for reply. But the video file in side .nomedia not shows in gallery but then device connect to pc then open sdcard the files inside .nomedia folder show. So please let me know how can i protect"},{"owner":{"account_id":5221034,"reputation":218,"user_id":4867727,"display_name":"GiantTree"},"score":0,"creation_date":1437594422,"post_id":31569491,"comment_id":51100039,"body_markdown":"You mean you want to protect your files? Then you need to look into privacy/vault-like apps that encrypt your files and make them unreadable for others. Usually a dor (`.`) in front of the folder name hides it when using MTP.","body":"You mean you want to protect your files? Then you need to look into privacy/vault-like apps that encrypt your files and make them unreadable for others. Usually a dor (<code>.</code>) in front of the folder name hides it when using MTP."},{"owner":{"account_id":6667428,"reputation":11,"user_id":5144659,"display_name":"laksh yadav"},"score":0,"creation_date":1437626214,"post_id":31569491,"comment_id":51110616,"body_markdown":"Hi GiantTree Can you share some blog and tutorial or example for that if is possible. Thanks","body":"Hi GiantTree Can you share some blog and tutorial or example for that if is possible. Thanks"}],"answers":[{"comments":[{"owner":{"account_id":6667428,"reputation":11,"user_id":5144659,"display_name":"laksh yadav"},"score":0,"creation_date":1437588361,"post_id":31570093,"comment_id":51096314,"body_markdown":"Hi Massita thanks for reply. But the video file in side .nomedia not shows in gallery but then device connect to pc then open sdcard the files inside .nomedia folder show. So please let me know how can i protect","body":"Hi Massita thanks for reply. But the video file in side .nomedia not shows in gallery but then device connect to pc then open sdcard the files inside .nomedia folder show. So please let me know how can i protect"},{"owner":{"account_id":4939419,"reputation":309,"user_id":3976611,"display_name":"Massita"},"score":0,"creation_date":1437589146,"post_id":31570093,"comment_id":51096811,"body_markdown":"Create a hidden folder, adding a dot `.` before the folder&#39;s name. So, if you have a folder named `Movies`, you have to change it to `.Movies`, so, this folder will be hidden.","body":"Create a hidden folder, adding a dot <code>.</code> before the folder&#39;s name. So, if you have a folder named <code>Movies</code>, you have to change it to <code>.Movies</code>, so, this folder will be hidden."}],"tags":[],"owner":{"account_id":4939419,"reputation":309,"user_id":3976611,"display_name":"Massita"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1437586224,"creation_date":1437586224,"answer_id":31570093,"question_id":31569491,"body_markdown":"Create a `.nomedia` file inside the folder you don&#39;t want to be tracked by the MediaScanner. Maybe you&#39;ll need to rename the folder name after creating the file, since there is a bug that the MediaScanner (in some versions of android, not sure which one) fails to forget already-indexed files when it encounters a .nomedia file.","title":"How to download video from url and hide/secure this video from other apps and Gallery","body":"<p>Create a <code>.nomedia</code> file inside the folder you don't want to be tracked by the MediaScanner. Maybe you'll need to rename the folder name after creating the file, since there is a bug that the MediaScanner (in some versions of android, not sure which one) fails to forget already-indexed files when it encounters a .nomedia file.</p>\n"}],"owner":{"account_id":6667428,"reputation":11,"user_id":5144659,"display_name":"laksh yadav"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1359,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681383937,"creation_date":1437584279,"question_id":31569491,"body_markdown":"One part of my current project is downloading Videos from URL then saving to SDCard. But the problem is all of saved videos in sdcard is displayed in android gallery page. What I want is &quot;I don&#39;t want all of my saved vidoes in android gallery.&quot;","title":"How to download video from url and hide/secure this video from other apps and Gallery","body":"<p>One part of my current project is downloading Videos from URL then saving to SDCard. But the problem is all of saved videos in sdcard is displayed in android gallery page. What I want is \"I don't want all of my saved vidoes in android gallery.\"</p>\n"},{"tags":["java","collections","constructor","initialization","hashset"],"comments":[{"owner":{"account_id":1257650,"reputation":23489,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"score":2,"creation_date":1533892306,"post_id":2041778,"comment_id":90523261,"body_markdown":"For Java 8, Java 9 and Java 10 check my answer https://stackoverflow.com/a/37406054/1216775","body":"For Java 8, Java 9 and Java 10 check my answer <a href=\"https://stackoverflow.com/a/37406054/1216775\">stackoverflow.com/a/37406054/1216775</a>"},{"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"score":2,"creation_date":1548810188,"post_id":2041778,"comment_id":95673496,"body_markdown":"Answer by Michael Berdyshev is actually the best, because it is the cleanest way to produce a **modifiable** Set.  i_am_zero Answer also has a different way to make a modifiable Set, but it is more verbose/clumsy [using Lambda streaming]; otherwise i_am_zero Answer is next-best for the breadth of its different options (across Java versions).","body":"Answer by Michael Berdyshev is actually the best, because it is the cleanest way to produce a <b>modifiable</b> Set.  i_am_zero Answer also has a different way to make a modifiable Set, but it is more verbose/clumsy [using Lambda streaming]; otherwise i_am_zero Answer is next-best for the breadth of its different options (across Java versions)."},{"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"score":0,"creation_date":1558946154,"post_id":2041778,"comment_id":99252840,"body_markdown":"NOTE: Some answers omit `new HashSet&lt;T&gt;(int initialCapacity) parameter, if you already know the size of the collection use it.","body":"NOTE: Some answers omit `new HashSet&lt;T&gt;(int initialCapacity) parameter, if you already know the size of the collection use it."},{"owner":{"account_id":1455702,"reputation":15684,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1686868584,"post_id":2041778,"comment_id":134861440,"body_markdown":"@ChristopheRoussy, setting the `initialCapacity` to the exact size of the collection will be inefficient since it will force immediate rehashing, unless you account for the [`loadFactor`](https://stackoverflow.com/questions/10901752/what-is-the-significance-of-load-factor-in-hashmap) as well.","body":"@ChristopheRoussy, setting the <code>initialCapacity</code> to the exact size of the collection will be inefficient since it will force immediate rehashing, unless you account for the <a href=\"https://stackoverflow.com/questions/10901752/what-is-the-significance-of-load-factor-in-hashmap\"><code>loadFactor</code></a> as well."}],"answers":[{"comments":[{"owner":{"account_id":242274,"reputation":2298,"user_id":513684,"accept_rate":64,"display_name":"Conan"},"score":60,"creation_date":1342106190,"post_id":2041789,"comment_id":15118557,"body_markdown":"@DD it&#39;s a hack because it&#39;s creating an anonymous inner subclass of HashSet with a static initialisation section that calls the add() method, which is definitely overkill for this situation.  I love it!","body":"@DD it&#39;s a hack because it&#39;s creating an anonymous inner subclass of HashSet with a static initialisation section that calls the add() method, which is definitely overkill for this situation.  I love it!"},{"owner":{"account_id":87769,"reputation":34162,"user_id":243225,"accept_rate":63,"display_name":"fhucho"},"score":47,"creation_date":1356304672,"post_id":2041789,"comment_id":19353905,"body_markdown":"The double brace initialization is a very dangerous hack. The anonymous class has an implicit link to the outer class, which could lead to memory leaks. Whoever holds the double-brace-initialized set also holds the class where the set was created.","body":"The double brace initialization is a very dangerous hack. The anonymous class has an implicit link to the outer class, which could lead to memory leaks. Whoever holds the double-brace-initialized set also holds the class where the set was created."},{"owner":{"account_id":1041689,"reputation":85,"user_id":1047597,"accept_rate":50,"display_name":"william.berg"},"score":7,"creation_date":1362485832,"post_id":2041789,"comment_id":21458719,"body_markdown":"@fhucho The method is very popular for setting mock object Expectations in (say) JMock, and it makes sense in that case even in light of the memory leak risk (tests are short-lived processes whose memory footprint isn&#39;t important).","body":"@fhucho The method is very popular for setting mock object Expectations in (say) JMock, and it makes sense in that case even in light of the memory leak risk (tests are short-lived processes whose memory footprint isn&#39;t important)."}],"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":3,"down_vote_count":5,"up_vote_count":411,"is_accepted":false,"score":406,"last_activity_date":1591721847,"creation_date":1263213252,"answer_id":2041789,"question_id":2041778,"body_markdown":"Collection literals were scheduled for Java 7, but didn&#39;t make it in. So nothing automatic yet. \r\n\r\nYou can use guava&#39;s [`Sets`][1]:\r\n\r\n    Sets.newHashSet(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;)\r\n\r\n\r\nOr you can use the following syntax, which will create an anonymous class, but it&#39;s hacky:\r\n\r\n    Set&lt;String&gt; h = new HashSet&lt;String&gt;() {{\r\n        add(&quot;a&quot;);\r\n        add(&quot;b&quot;);\r\n    }};\r\n\r\n\r\n  [1]: https://guava.dev/releases/22.0/api/docs/com/google/common/collect/Sets.html#newHashSet--","title":"How to initialize HashSet values by construction?","body":"<p>Collection literals were scheduled for Java 7, but didn't make it in. So nothing automatic yet. </p>\n\n<p>You can use guava's <a href=\"https://guava.dev/releases/22.0/api/docs/com/google/common/collect/Sets.html#newHashSet--\" rel=\"noreferrer\"><code>Sets</code></a>:</p>\n\n<pre><code>Sets.newHashSet(\"a\", \"b\", \"c\")\n</code></pre>\n\n<p>Or you can use the following syntax, which will create an anonymous class, but it's hacky:</p>\n\n<pre><code>Set&lt;String&gt; h = new HashSet&lt;String&gt;() {{\n    add(\"a\");\n    add(\"b\");\n}};\n</code></pre>\n"},{"comments":[{"owner":{"account_id":69527,"reputation":40466,"user_id":202214,"display_name":"Kevin Bourrillion"},"score":21,"creation_date":1263223242,"post_id":2041794,"comment_id":1968544,"body_markdown":"GoogleCollections also has `ImmutableSet.of(T...)`.  Most of the time when doing this you don&#39;t need to change the set again later, and in that case, using an immutable set has many advantages.","body":"GoogleCollections also has <code>ImmutableSet.of(T...)</code>.  Most of the time when doing this you don&#39;t need to change the set again later, and in that case, using an immutable set has many advantages."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":4,"creation_date":1389589080,"post_id":2041794,"comment_id":31712872,"body_markdown":"To clarify *will create an new subclass of HashSet each time it is used*, means &quot;each time it is *coded*&quot;. Each *execution* does *not* create a new subclass.","body":"To clarify <i>will create an new subclass of HashSet each time it is used</i>, means &quot;each time it is <i>coded</i>&quot;. Each <i>execution</i> does <i>not</i> create a new subclass."},{"owner":{"account_id":165044,"reputation":4235,"user_id":388185,"accept_rate":84,"display_name":"Alkanshel"},"score":0,"creation_date":1551914130,"post_id":2041794,"comment_id":96819885,"body_markdown":"Double brace initiation can be dangerous if you don&#39;t know what you&#39;re doing, look up the implications before using","body":"Double brace initiation can be dangerous if you don&#39;t know what you&#39;re doing, look up the implications before using"}],"tags":[],"owner":{"account_id":9320,"reputation":159784,"user_id":17172,"display_name":"coobird"},"comment_count":3,"down_vote_count":1,"up_vote_count":94,"is_accepted":false,"score":93,"last_activity_date":1389589159,"creation_date":1263213288,"answer_id":2041794,"question_id":2041778,"body_markdown":"There are a few ways:\r\n\r\n**Double brace initialization**\r\n\r\nThis is a technique which creates an anonymous inner class which has an instance initializer which adds `String`s to itself when an instance is created:\r\n\r\n    Set&lt;String&gt; s = new HashSet&lt;String&gt;() {{\r\n        add(&quot;a&quot;);\r\n        add(&quot;b&quot;);\r\n    }}\r\n\r\nKeep in mind that this will actually create an new subclass of [`HashSet`][1] each time it is used, even though one does not have to explicitly write a new subclass.\r\n\r\n**A utility method**\r\n\r\nWriting a method that returns a [`Set`][2] which is initialized with the desired elements isn&#39;t too hard to write:\r\n\r\n    public static Set&lt;String&gt; newHashSet(String... strings) {\r\n        HashSet&lt;String&gt; set = new HashSet&lt;String&gt;();\r\n\r\n        for (String s : strings) {\r\n            set.add(s);\r\n        }\r\n        return set;\r\n    }\r\n\r\nThe above code only allows for a use of a `String`, but it shouldn&#39;t be too difficult to allow the use of any type using generics.\r\n\r\n**Use a library**\r\n\r\nMany libraries have a convenience method to initialize collections objects.\r\n\r\nFor example, [Google Collections][3] has a [`Sets.newHashSet(T...)`][4] method which will populate a `HashSet` with elements of a specific type.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/HashSet.html\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/util/Set.html\r\n  [3]: http://code.google.com/p/google-collections/\r\n  [4]: http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Sets.html#newHashSet(E...)","title":"How to initialize HashSet values by construction?","body":"<p>There are a few ways:</p>\n\n<p><strong>Double brace initialization</strong></p>\n\n<p>This is a technique which creates an anonymous inner class which has an instance initializer which adds <code>String</code>s to itself when an instance is created:</p>\n\n<pre><code>Set&lt;String&gt; s = new HashSet&lt;String&gt;() {{\n    add(\"a\");\n    add(\"b\");\n}}\n</code></pre>\n\n<p>Keep in mind that this will actually create an new subclass of <a href=\"http://java.sun.com/javase/6/docs/api/java/util/HashSet.html\" rel=\"noreferrer\"><code>HashSet</code></a> each time it is used, even though one does not have to explicitly write a new subclass.</p>\n\n<p><strong>A utility method</strong></p>\n\n<p>Writing a method that returns a <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Set.html\" rel=\"noreferrer\"><code>Set</code></a> which is initialized with the desired elements isn't too hard to write:</p>\n\n<pre><code>public static Set&lt;String&gt; newHashSet(String... strings) {\n    HashSet&lt;String&gt; set = new HashSet&lt;String&gt;();\n\n    for (String s : strings) {\n        set.add(s);\n    }\n    return set;\n}\n</code></pre>\n\n<p>The above code only allows for a use of a <code>String</code>, but it shouldn't be too difficult to allow the use of any type using generics.</p>\n\n<p><strong>Use a library</strong></p>\n\n<p>Many libraries have a convenience method to initialize collections objects.</p>\n\n<p>For example, <a href=\"http://code.google.com/p/google-collections/\" rel=\"noreferrer\">Google Collections</a> has a <a href=\"http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Sets.html#newHashSet(E...)\" rel=\"noreferrer\"><code>Sets.newHashSet(T...)</code></a> method which will populate a <code>HashSet</code> with elements of a specific type.</p>\n"},{"comments":[{"owner":{"account_id":36794,"reputation":13620,"user_id":105037,"accept_rate":89,"display_name":"Serg"},"score":6,"creation_date":1263215864,"post_id":2041801,"comment_id":1967690,"body_markdown":"I create it in declaration. It&#39;s final property. \nThanks","body":"I create it in declaration. It&#39;s final property.  Thanks"},{"owner":{"account_id":63517,"reputation":11633,"user_id":187986,"accept_rate":79,"display_name":"Jason Nichols"},"score":18,"creation_date":1263217693,"post_id":2041801,"comment_id":1967887,"body_markdown":"Ah.  It&#39;s probably worth noting you can still add elements to a final set.  Simply declare the set final, but add elements in the constructor (or anywhere else) as you normally would.  A final Collection can still have elements added or removed.  Only the reference to the Collection itself if final.","body":"Ah.  It&#39;s probably worth noting you can still add elements to a final set.  Simply declare the set final, but add elements in the constructor (or anywhere else) as you normally would.  A final Collection can still have elements added or removed.  Only the reference to the Collection itself if final."},{"owner":{"account_id":82655,"reputation":6401,"user_id":232235,"display_name":"Eli Acherkan"},"score":5,"creation_date":1263227090,"post_id":2041801,"comment_id":1969034,"body_markdown":"+1 to what Jason Nichols said. Don&#39;t forget to use Collections.unmodifiableSet(...).","body":"+1 to what Jason Nichols said. Don&#39;t forget to use Collections.unmodifiableSet(...)."},{"owner":{"account_id":1411284,"reputation":1997,"user_id":1337806,"accept_rate":32,"display_name":"sam boosalis"},"score":0,"creation_date":1397793399,"post_id":2041801,"comment_id":35393922,"body_markdown":"i mean, it would be more readable if it were `new HashSet&lt;String&gt;(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);`","body":"i mean, it would be more readable if it were <code>new HashSet&lt;String&gt;(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);</code>"},{"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"score":0,"creation_date":1548808974,"post_id":2041801,"comment_id":95673204,"body_markdown":"Note that [Arrays#asList returns a structurally immutable List](https://stackoverflow.com/a/25447801/1357094)","body":"Note that <a href=\"https://stackoverflow.com/a/25447801/1357094\">Arrays#asList returns a structurally immutable List</a>"}],"tags":[],"owner":{"account_id":63517,"reputation":11633,"user_id":187986,"accept_rate":79,"display_name":"Jason Nichols"},"comment_count":5,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1263213383,"creation_date":1263213383,"answer_id":2041801,"question_id":2041778,"body_markdown":"You can do it in Java 6:\r\n\r\n    Set&lt;String&gt; h = new HashSet&lt;String&gt;(Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;));\r\n\r\nBut why?  I don&#39;t find it to be more readable than explicitly adding elements.","title":"How to initialize HashSet values by construction?","body":"<p>You can do it in Java 6:</p>\n\n<pre><code>Set&lt;String&gt; h = new HashSet&lt;String&gt;(Arrays.asList(\"a\", \"b\", \"c\"));\n</code></pre>\n\n<p>But why?  I don't find it to be more readable than explicitly adding elements.</p>\n"},{"comments":[{"owner":{"account_id":7619751,"reputation":6003,"user_id":5778099,"accept_rate":53,"display_name":"Nestor Milyaev"},"score":2,"creation_date":1495118118,"post_id":2041810,"comment_id":75126803,"body_markdown":"Although most probably correct at the time of writing, as of Java 7 do use the Diamond operator as in: Set&lt;String&gt; h = new HashSet&lt;&gt;(Arrays.asList(&quot;a&quot;, &quot;b&quot;)); public static final Set&lt;String&gt; MY_SET = new HashSet&lt;&gt;(Arrays.asList(SET_VALUES));","body":"Although most probably correct at the time of writing, as of Java 7 do use the Diamond operator as in: Set&lt;String&gt; h = new HashSet&lt;&gt;(Arrays.asList(&quot;a&quot;, &quot;b&quot;)); public static final Set&lt;String&gt; MY_SET = new HashSet&lt;&gt;(Arrays.asList(SET_VALUES));"},{"owner":{"account_id":36138,"reputation":17797,"user_id":102939,"display_name":"Gennadiy"},"score":0,"creation_date":1500990282,"post_id":2041810,"comment_id":77572049,"body_markdown":"Corrected for Java diamond notation as you mentioned, but didn&#39;t have time to test it. If anyone can doublecheck that would be awesome. Main concern is the hashset to set assignment, the HashSet constructor may need an explicit generic type.","body":"Corrected for Java diamond notation as you mentioned, but didn&#39;t have time to test it. If anyone can doublecheck that would be awesome. Main concern is the hashset to set assignment, the HashSet constructor may need an explicit generic type."},{"owner":{"account_id":2927647,"reputation":2746,"user_id":2508646,"accept_rate":100,"display_name":"Dan Temple"},"score":3,"creation_date":1502098619,"post_id":2041810,"comment_id":78047125,"body_markdown":"@Gennadiy Can confirm the diamond notation works fine (even across the Set declaration and HashSet assignment.)","body":"@Gennadiy Can confirm the diamond notation works fine (even across the Set declaration and HashSet assignment.)"},{"owner":{"account_id":4670717,"reputation":813,"user_id":3782567,"accept_rate":30,"display_name":"Shilan"},"score":1,"creation_date":1522929313,"post_id":2041810,"comment_id":86353726,"body_markdown":"@NestorMilyaev, Gennadiy how about stream.of(...)? is that a better solution with java 8 around?","body":"@NestorMilyaev, Gennadiy how about stream.of(...)? is that a better solution with java 8 around?"},{"owner":{"account_id":8371845,"reputation":139,"user_id":6286797,"display_name":"Mark Peschel"},"score":40,"creation_date":1530483649,"post_id":2041810,"comment_id":89239775,"body_markdown":"In Java 9: `Set&lt;String&gt; h = Set.of(&quot;a&quot;, &quot;b&quot;) //Unmodifiable` [This answer is up to date](https://stackoverflow.com/a/37406054/)","body":"In Java 9: <code>Set&lt;String&gt; h = Set.of(&quot;a&quot;, &quot;b&quot;) &#47;&#47;Unmodifiable</code> <a href=\"https://stackoverflow.com/a/37406054/\">This answer is up to date</a>"},{"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"score":1,"creation_date":1548808421,"post_id":2041810,"comment_id":95673084,"body_markdown":"Note that [Arrays#asList returns a structurally immutable List](https://stackoverflow.com/a/25447801/1357094)","body":"Note that <a href=\"https://stackoverflow.com/a/25447801/1357094\">Arrays#asList returns a structurally immutable List</a>"},{"owner":{"account_id":156734,"reputation":26707,"user_id":374198,"accept_rate":62,"display_name":"Josh M."},"score":0,"creation_date":1643037795,"post_id":2041810,"comment_id":125227131,"body_markdown":"It&#39;s mind-blowing that there is no `HashSet` / `LinkedHashSet` constructor that takes values directly (as varargs). Or that there is no `Set.ofLinked(...)` or similar.","body":"It&#39;s mind-blowing that there is no <code>HashSet</code> / <code>LinkedHashSet</code> constructor that takes values directly (as varargs). Or that there is no <code>Set.ofLinked(...)</code> or similar."}],"tags":[],"owner":{"account_id":36138,"reputation":17797,"user_id":102939,"display_name":"Gennadiy"},"comment_count":7,"down_vote_count":3,"up_vote_count":1149,"is_accepted":true,"score":1146,"last_activity_date":1500990225,"creation_date":1263213481,"answer_id":2041810,"question_id":2041778,"body_markdown":"There is a shorthand that I use that is not very time efficient, but fits on a single line:\r\n\r\n    Set&lt;String&gt; h = new HashSet&lt;&gt;(Arrays.asList(&quot;a&quot;, &quot;b&quot;));\r\n\r\nAgain, this is not time efficient since you are constructing an array, converting to a list and using that list to create a set.\r\n\r\nWhen initializing static final sets I usually write it like this:\r\n\r\n    public static final String[] SET_VALUES = new String[] { &quot;a&quot;, &quot;b&quot; };\r\n    public static final Set&lt;String&gt; MY_SET = new HashSet&lt;&gt;(Arrays.asList(SET_VALUES));\r\n\r\nSlightly less ugly and efficiency does not matter for the static initialization.","title":"How to initialize HashSet values by construction?","body":"<p>There is a shorthand that I use that is not very time efficient, but fits on a single line:</p>\n\n<pre><code>Set&lt;String&gt; h = new HashSet&lt;&gt;(Arrays.asList(\"a\", \"b\"));\n</code></pre>\n\n<p>Again, this is not time efficient since you are constructing an array, converting to a list and using that list to create a set.</p>\n\n<p>When initializing static final sets I usually write it like this:</p>\n\n<pre><code>public static final String[] SET_VALUES = new String[] { \"a\", \"b\" };\npublic static final Set&lt;String&gt; MY_SET = new HashSet&lt;&gt;(Arrays.asList(SET_VALUES));\n</code></pre>\n\n<p>Slightly less ugly and efficiency does not matter for the static initialization.</p>\n"},{"comments":[{"owner":{"account_id":69527,"reputation":40466,"user_id":202214,"display_name":"Kevin Bourrillion"},"score":13,"creation_date":1263223087,"post_id":2041811,"comment_id":1968525,"body_markdown":"(You didn&#39;t need the `new String[] {`)","body":"(You didn&#39;t need the <code>new String[] {</code>)"}],"tags":[],"owner":{"account_id":15903,"reputation":323453,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"comment_count":1,"down_vote_count":4,"up_vote_count":7,"is_accepted":false,"score":3,"last_activity_date":1263213501,"creation_date":1263213501,"answer_id":2041811,"question_id":2041778,"body_markdown":"A bit convoluted but works from Java 5:\r\n\r\n    Set&lt;String&gt; h = new HashSet&lt;String&gt;(Arrays.asList(new String[] {  \r\n        &quot;a&quot;, &quot;b&quot;\r\n    }))\r\n\r\nUse a helper method to make it readable:\r\n\r\n    Set&lt;String&gt; h = asSet (&quot;a&quot;, &quot;b&quot;);\r\n\r\n    public Set&lt;String&gt; asSet(String... values) {\r\n        return new HashSet&lt;String&gt;(java.util.Arrays.asList(values));\r\n    }","title":"How to initialize HashSet values by construction?","body":"<p>A bit convoluted but works from Java 5:</p>\n\n<pre><code>Set&lt;String&gt; h = new HashSet&lt;String&gt;(Arrays.asList(new String[] {  \n    \"a\", \"b\"\n}))\n</code></pre>\n\n<p>Use a helper method to make it readable:</p>\n\n<pre><code>Set&lt;String&gt; h = asSet (\"a\", \"b\");\n\npublic Set&lt;String&gt; asSet(String... values) {\n    return new HashSet&lt;String&gt;(java.util.Arrays.asList(values));\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3248402,"reputation":2386,"user_id":2739334,"accept_rate":64,"display_name":"Pwnstar"},"score":1,"creation_date":1583318555,"post_id":3597072,"comment_id":107072937,"body_markdown":"init with size please + add null check","body":"init with size please + add null check"}],"tags":[],"owner":{"account_id":11188,"reputation":75684,"user_id":21441,"accept_rate":100,"display_name":"Mark Elliot"},"comment_count":1,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1283125795,"creation_date":1283125795,"answer_id":3597072,"question_id":2041778,"body_markdown":"A generalization of [coobird&#39;s answer&#39;s](https://stackoverflow.com/questions/2041778/initialize-java-hashset-values-by-construction/2041794#2041794) utility function for creating new `HashSet`s:\r\n\r\n    public static &lt;T&gt; Set&lt;T&gt; newHashSet(T... objs) {\r\n        Set&lt;T&gt; set = new HashSet&lt;T&gt;();\r\n        for (T o : objs) {\r\n            set.add(o);\r\n        }\r\n        return set;\r\n    }","title":"How to initialize HashSet values by construction?","body":"<p>A generalization of <a href=\"https://stackoverflow.com/questions/2041778/initialize-java-hashset-values-by-construction/2041794#2041794\">coobird's answer's</a> utility function for creating new <code>HashSet</code>s:</p>\n\n<pre><code>public static &lt;T&gt; Set&lt;T&gt; newHashSet(T... objs) {\n    Set&lt;T&gt; set = new HashSet&lt;T&gt;();\n    for (T o : objs) {\n        set.add(o);\n    }\n    return set;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1063749,"reputation":14067,"user_id":1064809,"accept_rate":70,"display_name":"Natix"},"score":42,"creation_date":1473192229,"post_id":21084091,"comment_id":66043858,"body_markdown":"This is even more verbose and needlessly complex than the plain old code in the original question.","body":"This is even more verbose and needlessly complex than the plain old code in the original question."},{"owner":{"account_id":2467431,"reputation":1805,"user_id":2150193,"display_name":"Schleir"},"score":14,"creation_date":1499814045,"post_id":21084091,"comment_id":77065752,"body_markdown":"@Natix For 2 elements it is more verbose, but this representation starts becoming concise if you have to hard code the set with more elements(10-100s)","body":"@Natix For 2 elements it is more verbose, but this representation starts becoming concise if you have to hard code the set with more elements(10-100s)"},{"owner":{"account_id":3568486,"reputation":4276,"user_id":2979435,"accept_rate":42,"display_name":"deFreitas"},"score":7,"creation_date":1524366340,"post_id":21084091,"comment_id":86940423,"body_markdown":"@Natix Yes, But it is inline, in some cases that&#39;s is a advantage","body":"@Natix Yes, But it is inline, in some cases that&#39;s is a advantage"},{"owner":{"account_id":8897,"reputation":11219,"user_id":16206,"accept_rate":78,"display_name":"borjab"},"score":3,"creation_date":1536158726,"post_id":21084091,"comment_id":91325512,"body_markdown":"Why not the more compact version: Stream.of(1, 3, 5).collect(toSet()); It uses import static java.util.stream.Collectors.toSet;","body":"Why not the more compact version: Stream.of(1, 3, 5).collect(toSet()); It uses import static java.util.stream.Collectors.toSet;"},{"owner":{"account_id":2877911,"reputation":1140,"user_id":2469425,"accept_rate":56,"display_name":"Valentin Gr&#233;goire"},"score":3,"creation_date":1562657579,"post_id":21084091,"comment_id":100434177,"body_markdown":"ALso, if you want a `Set` with only one item, one could create a `Singleton`: `final Set&lt;T&gt; SOME_SET = Collections.singleton(t);`","body":"ALso, if you want a <code>Set</code> with only one item, one could create a <code>Singleton</code>: <code>final Set&lt;T&gt; SOME_SET = Collections.singleton(t);</code>"}],"tags":[],"owner":{"account_id":165129,"reputation":1388,"user_id":388317,"accept_rate":0,"display_name":"Christian Ullenboom"},"comment_count":5,"down_vote_count":4,"up_vote_count":228,"is_accepted":false,"score":224,"last_activity_date":1431794431,"creation_date":1389588555,"answer_id":21084091,"question_id":2041778,"body_markdown":"In Java 8 I would use:\r\n\r\n    Set&lt;String&gt; set = Stream.of(&quot;a&quot;, &quot;b&quot;).collect(Collectors.toSet());\r\n\r\nThis gives you a mutable `Set` pre-initialized with &quot;a&quot; and &quot;b&quot;. Note that while in JDK 8 this does return a `HashSet`, the specification doesn&#39;t guarantee it, and this might change in the future. If you specifically want a `HashSet`, do this instead:\r\n\r\n    Set&lt;String&gt; set = Stream.of(&quot;a&quot;, &quot;b&quot;)\r\n                            .collect(Collectors.toCollection(HashSet::new));\r\n","title":"How to initialize HashSet values by construction?","body":"<p>In Java 8 I would use:</p>\n\n<pre><code>Set&lt;String&gt; set = Stream.of(\"a\", \"b\").collect(Collectors.toSet());\n</code></pre>\n\n<p>This gives you a mutable <code>Set</code> pre-initialized with \"a\" and \"b\". Note that while in JDK 8 this does return a <code>HashSet</code>, the specification doesn't guarantee it, and this might change in the future. If you specifically want a <code>HashSet</code>, do this instead:</p>\n\n<pre><code>Set&lt;String&gt; set = Stream.of(\"a\", \"b\")\n                        .collect(Collectors.toCollection(HashSet::new));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":8,"creation_date":1456842419,"post_id":26637630,"comment_id":59125675,"body_markdown":"This is now `Sets.newHashSet()`.","body":"This is now <code>Sets.newHashSet()</code>."},{"owner":{"account_id":8429880,"reputation":4538,"user_id":6325994,"accept_rate":56,"display_name":"Abdennacer Lachiheb"},"score":1,"creation_date":1475657396,"post_id":26637630,"comment_id":67025729,"body_markdown":"@membersound from which package should I import to use Sets.newHashSet() ?","body":"@membersound from which package should I import to use Sets.newHashSet() ?"},{"owner":{"account_id":9097895,"reputation":843,"user_id":6771202,"display_name":"Sachintha Hewawasam"},"score":0,"creation_date":1587347731,"post_id":26637630,"comment_id":108467782,"body_markdown":"@AbdennacerLachiheb &quot;com.google.common.collect.Sets&quot;","body":"@AbdennacerLachiheb &quot;com.google.common.collect.Sets&quot;"},{"owner":{"account_id":11764939,"reputation":3827,"user_id":8609847,"display_name":"Satish Patro"},"score":0,"creation_date":1619804556,"post_id":26637630,"comment_id":119024222,"body_markdown":"@membersound I checked old docs till guava 2.0, there is no newSet(), I guess LanceP referred to some other framework like gs-collections. So, modified the answer as per you said. Thanks","body":"@membersound I checked old docs till guava 2.0, there is no newSet(), I guess LanceP referred to some other framework like gs-collections. So, modified the answer as per you said. Thanks"}],"tags":[],"owner":{"account_id":2478323,"reputation":974,"user_id":2158441,"display_name":"LanceP"},"comment_count":4,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1620114240,"creation_date":1414605955,"answer_id":26637630,"question_id":2041778,"body_markdown":"I feel the most readable is to simply use **google Guava**: \r\n\r\n    Set&lt;String&gt; StringSet = Sets.newHashSet(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\r\n\r\nIt&#39;s mutable.\r\n","title":"How to initialize HashSet values by construction?","body":"<p>I feel the most readable is to simply use <strong>google Guava</strong>:</p>\n<pre><code>Set&lt;String&gt; StringSet = Sets.newHashSet(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\n</code></pre>\n<p>It's mutable.</p>\n"},{"comments":[{"owner":{"account_id":2339925,"reputation":15581,"user_id":2051454,"accept_rate":60,"display_name":"Software Engineer"},"score":0,"creation_date":1490992941,"post_id":30194082,"comment_id":73375991,"body_markdown":"serialVersionUID is an incredibly bad idea in all cases","body":"serialVersionUID is an incredibly bad idea in all cases"}],"tags":[],"owner":{"account_id":3475911,"reputation":157,"user_id":2909111,"display_name":"ToxiCore"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1431441434,"creation_date":1431441434,"answer_id":30194082,"question_id":2041778,"body_markdown":"This is an elegant solution:\r\n\r\n    public static final &lt;T&gt; Set&lt;T&gt; makeSet(@SuppressWarnings(&quot;unchecked&quot;) T... o) {\r\n            return new HashSet&lt;T&gt;() {\r\n                private static final long serialVersionUID = -3634958843858172518L;\r\n                {\r\n          \t\t    for (T x : o)\r\n                       add(x);\r\n                }\r\n            };\r\n    }\r\n\r\n","title":"How to initialize HashSet values by construction?","body":"<p>This is an elegant solution:</p>\n\n<pre><code>public static final &lt;T&gt; Set&lt;T&gt; makeSet(@SuppressWarnings(\"unchecked\") T... o) {\n        return new HashSet&lt;T&gt;() {\n            private static final long serialVersionUID = -3634958843858172518L;\n            {\n                for (T x : o)\n                   add(x);\n            }\n        };\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5142153,"reputation":177,"user_id":4119187,"display_name":"yokeho"},"score":1,"creation_date":1504031818,"post_id":32943664,"comment_id":78850691,"body_markdown":"This was very useful because our code analysis tool complains if you use the `new HashSet&lt;&gt;(Arrays.asList( _values_ ))` method with only a single value.","body":"This was very useful because our code analysis tool complains if you use the <code>new HashSet&lt;&gt;(Arrays.asList( _values_ ))</code> method with only a single value."},{"owner":{"display_name":"user1706698"},"score":10,"creation_date":1505913119,"post_id":32943664,"comment_id":79606711,"body_markdown":"Beware, the resulting Set&lt;String&gt; is immutable.","body":"Beware, the resulting Set&lt;String&gt; is immutable."}],"tags":[],"owner":{"account_id":145555,"reputation":21469,"user_id":355438,"display_name":"Ilya Serbis"},"comment_count":2,"down_vote_count":0,"up_vote_count":58,"is_accepted":false,"score":58,"last_activity_date":1561546301,"creation_date":1444031479,"answer_id":32943664,"question_id":2041778,"body_markdown":"If you have only one value and want to get an *immutable* set this would be enough:\r\n\r\n    Set&lt;String&gt; immutableSet = Collections.singleton(&quot;a&quot;);","title":"How to initialize HashSet values by construction?","body":"<p>If you have only one value and want to get an <em>immutable</em> set this would be enough:</p>\n\n<pre><code>Set&lt;String&gt; immutableSet = Collections.singleton(\"a\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18840,"reputation":23337,"user_id":43597,"display_name":"Amr Mostafa"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1447233687,"creation_date":1447233687,"answer_id":33647482,"question_id":2041778,"body_markdown":"Just a small note, regardless of which of the fine approaches mentioned here you end up with, if this is a default that usually goes unmodified (like a default setting in a library you are creating), it is a good idea to follow this pattern:\r\n\r\n    // Initialize default values with the method you prefer, even in a static block\r\n    // It&#39;s a good idea to make sure these defaults aren&#39;t modifiable\r\n    private final static Set&lt;String&gt; DEFAULT_VALUES = Collections.unmodifiableSet(...);\r\n    private Set&lt;String&gt; values = DEFAULT_VALUES;\r\n\r\nThe benefit depends on the number of instances you create of that class and how likely it&#39;s that defaults will be changed.\r\n\r\nIf you decide to follow this pattern, then you also get to pick the method of set initialization that&#39;s most readable. As the micro differences in efficiency between the different methods will probably not matter much as you will be initializing the set only once.","title":"How to initialize HashSet values by construction?","body":"<p>Just a small note, regardless of which of the fine approaches mentioned here you end up with, if this is a default that usually goes unmodified (like a default setting in a library you are creating), it is a good idea to follow this pattern:</p>\n\n<pre><code>// Initialize default values with the method you prefer, even in a static block\n// It's a good idea to make sure these defaults aren't modifiable\nprivate final static Set&lt;String&gt; DEFAULT_VALUES = Collections.unmodifiableSet(...);\nprivate Set&lt;String&gt; values = DEFAULT_VALUES;\n</code></pre>\n\n<p>The benefit depends on the number of instances you create of that class and how likely it's that defaults will be changed.</p>\n\n<p>If you decide to follow this pattern, then you also get to pick the method of set initialization that's most readable. As the micro differences in efficiency between the different methods will probably not matter much as you will be initializing the set only once.</p>\n"},{"tags":[],"owner":{"account_id":4401188,"reputation":4398,"user_id":3586851,"accept_rate":50,"display_name":"Heri"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1450854976,"creation_date":1450854976,"answer_id":34430513,"question_id":2041778,"body_markdown":"If the contained type of the Set is an enumeration then there is java built factory method (since 1.5):\r\n\r\n    Set&lt;MY_ENUM&gt; MY_SET = EnumSet.of( MY_ENUM.value1, MY_ENUM.value2, ... );\r\n","title":"How to initialize HashSet values by construction?","body":"<p>If the contained type of the Set is an enumeration then there is java built factory method (since 1.5):</p>\n\n<pre><code>Set&lt;MY_ENUM&gt; MY_SET = EnumSet.of( MY_ENUM.value1, MY_ENUM.value2, ... );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1712726,"reputation":6528,"user_id":1570415,"display_name":"Donald Raab"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1573346633,"creation_date":1456778479,"answer_id":35709204,"question_id":2041778,"body_markdown":"With [Eclipse Collections][1] there are a few different ways to initialize a `Set` containing the characters &#39;a&#39; and &#39;b&#39; in one statement.  Eclipse Collections has containers for both object and primitive types, so I illustrated how you could use a `Set&lt;String&gt;` or [`CharSet`][2] in addition to mutable, immutable, synchronized and unmodifiable versions of both.\r\n\r\n    Set&lt;String&gt; set =\r\n        Sets.mutable.with(&quot;a&quot;, &quot;b&quot;);\r\n    HashSet&lt;String&gt; hashSet =\r\n        Sets.mutable.with(&quot;a&quot;, &quot;b&quot;).asLazy().into(new HashSet&lt;String&gt;());\r\n    Set&lt;String&gt; synchronizedSet =\r\n        Sets.mutable.with(&quot;a&quot;, &quot;b&quot;).asSynchronized();\r\n    Set&lt;String&gt; unmodifiableSet =\r\n        Sets.mutable.with(&quot;a&quot;, &quot;b&quot;).asUnmodifiable();\r\n    \r\n    MutableSet&lt;String&gt; mutableSet =\r\n        Sets.mutable.with(&quot;a&quot;, &quot;b&quot;);\r\n    MutableSet&lt;String&gt; synchronizedMutableSet =\r\n        Sets.mutable.with(&quot;a&quot;, &quot;b&quot;).asSynchronized();\r\n    MutableSet&lt;String&gt; unmodifiableMutableSet =\r\n        Sets.mutable.with(&quot;a&quot;, &quot;b&quot;).asUnmodifiable();\r\n    \r\n    ImmutableSet&lt;String&gt; immutableSet =\r\n        Sets.immutable.with(&quot;a&quot;, &quot;b&quot;);\r\n    ImmutableSet&lt;String&gt; immutableSet2 =\r\n        Sets.mutable.with(&quot;a&quot;, &quot;b&quot;).toImmutable();\r\n    \r\n    CharSet charSet =\r\n        CharSets.mutable.with(&#39;a&#39;, &#39;b&#39;);\r\n    CharSet synchronizedCharSet =\r\n        CharSets.mutable.with(&#39;a&#39;, &#39;b&#39;).asSynchronized();\r\n    CharSet unmodifiableCharSet =\r\n        CharSets.mutable.with(&#39;a&#39;, &#39;b&#39;).asUnmodifiable();\r\n    MutableCharSet mutableCharSet =\r\n        CharSets.mutable.with(&#39;a&#39;, &#39;b&#39;);\r\n    ImmutableCharSet immutableCharSet =\r\n        CharSets.immutable.with(&#39;a&#39;, &#39;b&#39;);\r\n    ImmutableCharSet immutableCharSet2 =\r\n        CharSets.mutable.with(&#39;a&#39;, &#39;b&#39;).toImmutable();\r\n\r\nNote: I am a committer for Eclipse Collections.\r\n\r\n  [1]: https://www.eclipse.org/collections/\r\n  [2]: https://www.eclipse.org/collections/javadoc/7.0.0/org/eclipse/collections/api/set/primitive/CharSet.html\r\n","title":"How to initialize HashSet values by construction?","body":"<p>With <a href=\"https://www.eclipse.org/collections/\" rel=\"nofollow noreferrer\">Eclipse Collections</a> there are a few different ways to initialize a <code>Set</code> containing the characters 'a' and 'b' in one statement.  Eclipse Collections has containers for both object and primitive types, so I illustrated how you could use a <code>Set&lt;String&gt;</code> or <a href=\"https://www.eclipse.org/collections/javadoc/7.0.0/org/eclipse/collections/api/set/primitive/CharSet.html\" rel=\"nofollow noreferrer\"><code>CharSet</code></a> in addition to mutable, immutable, synchronized and unmodifiable versions of both.</p>\n\n<pre><code>Set&lt;String&gt; set =\n    Sets.mutable.with(\"a\", \"b\");\nHashSet&lt;String&gt; hashSet =\n    Sets.mutable.with(\"a\", \"b\").asLazy().into(new HashSet&lt;String&gt;());\nSet&lt;String&gt; synchronizedSet =\n    Sets.mutable.with(\"a\", \"b\").asSynchronized();\nSet&lt;String&gt; unmodifiableSet =\n    Sets.mutable.with(\"a\", \"b\").asUnmodifiable();\n\nMutableSet&lt;String&gt; mutableSet =\n    Sets.mutable.with(\"a\", \"b\");\nMutableSet&lt;String&gt; synchronizedMutableSet =\n    Sets.mutable.with(\"a\", \"b\").asSynchronized();\nMutableSet&lt;String&gt; unmodifiableMutableSet =\n    Sets.mutable.with(\"a\", \"b\").asUnmodifiable();\n\nImmutableSet&lt;String&gt; immutableSet =\n    Sets.immutable.with(\"a\", \"b\");\nImmutableSet&lt;String&gt; immutableSet2 =\n    Sets.mutable.with(\"a\", \"b\").toImmutable();\n\nCharSet charSet =\n    CharSets.mutable.with('a', 'b');\nCharSet synchronizedCharSet =\n    CharSets.mutable.with('a', 'b').asSynchronized();\nCharSet unmodifiableCharSet =\n    CharSets.mutable.with('a', 'b').asUnmodifiable();\nMutableCharSet mutableCharSet =\n    CharSets.mutable.with('a', 'b');\nImmutableCharSet immutableCharSet =\n    CharSets.immutable.with('a', 'b');\nImmutableCharSet immutableCharSet2 =\n    CharSets.mutable.with('a', 'b').toImmutable();\n</code></pre>\n\n<p>Note: I am a committer for Eclipse Collections.</p>\n"},{"comments":[{"owner":{"account_id":3882629,"reputation":476,"user_id":3214777,"accept_rate":55,"display_name":"Daniel Pop"},"score":1,"creation_date":1598872562,"post_id":37406054,"comment_id":112588705,"body_markdown":"cheers for the &quot;why we need overloaded versions when we have var-args?&quot; section","body":"cheers for the &quot;why we need overloaded versions when we have var-args?&quot; section"},{"owner":{"account_id":1244400,"reputation":1061,"user_id":1206152,"accept_rate":95,"display_name":"Snehasish"},"score":1,"creation_date":1650199699,"post_id":37406054,"comment_id":127056018,"body_markdown":"Adding an caveat for the future readers for `Set.of()`. If you are trying to add duplicates elements, it will throw an `IllegalArgumentException`","body":"Adding an caveat for the future readers for <code>Set.of()</code>. If you are trying to add duplicates elements, it will throw an <code>IllegalArgumentException</code>"}],"tags":[],"owner":{"account_id":1257650,"reputation":23489,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"comment_count":2,"down_vote_count":0,"up_vote_count":316,"is_accepted":false,"score":316,"last_activity_date":1636644401,"creation_date":1464071793,"answer_id":37406054,"question_id":2041778,"body_markdown":"If you are looking for the most compact way of initializing a set then that was in `Java9`:\r\n\r\n    Set&lt;String&gt; strSet = Set.of(&quot;Apple&quot;, &quot;Ball&quot;, &quot;Cat&quot;, &quot;Dog&quot;);\r\n\r\n===================== Detailed answer below ==========================\r\n# Using Java 10 (Unmodifiable Sets)\r\n\r\n    Set&lt;String&gt; strSet1 = Stream.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;)\r\n             .collect(Collectors.toUnmodifiableSet());\r\n\r\nHere the collector would actually return the unmodifiable set introduced in Java 9 as evident from the statement `set -&gt; (Set&lt;T&gt;)Set.of(set.toArray())` in the source code.\r\n\r\n**One point to note** is that the method [`Collections.unmodifiableSet()`][1] returns an unmodifiable view of the specified set (as per documentation). An *unmodifiable view* collection is a collection that is unmodifiable and is also a view onto a backing collection. Note that changes to the backing collection *might* still be possible, and if they occur, they are visible through the unmodifiable view. But the method [`Collectors.toUnmodifiableSet()`][2] returns *truly immutable* set in **Java 10**.\r\n\r\n---\r\n# Using Java 9 (Unmodifiable Sets)\r\n\r\nThe following is the **most compact** way of initializing a set:\r\n\r\n    Set&lt;String&gt; strSet6 = Set.of(&quot;Apple&quot;, &quot;Ball&quot;, &quot;Cat&quot;, &quot;Dog&quot;);\r\n\r\nWe have 12 overloaded versions of this [convenience factory][3] method:\r\n\r\n&gt; `static &lt;E&gt; Set&lt;E&gt; of()` \r\n&gt;\r\n&gt; `static &lt;E&gt; Set&lt;E&gt; of(E e1)` \r\n&gt;\r\n&gt; `static &lt;E&gt; Set&lt;E&gt; of(E e1, E e2)` \r\n&gt;\r\n&gt; // ....and so on   \r\n&gt;\r\n&gt; `static &lt;E&gt; Set&lt;E&gt; of(E... elems)`\r\n\r\nThen a natural question is **why we need overloaded versions when we have var-args**? The answer is: every var-arg method creates an array internally and having the overloaded versions would avoid unnecessary creation of object and will also save us from the garbage collection overhead.\r\n\r\n---\r\n# Using Java 8 (Modifiable Sets)\r\n\r\nUsing [Stream][4] in Java 8.\r\n\r\n    Set&lt;String&gt; strSet1 = Stream.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;)\r\n             .collect(Collectors.toCollection(HashSet::new));\r\n    \r\n    // stream from an array (String[] stringArray)\r\n    Set&lt;String&gt; strSet2 = Arrays.stream(stringArray)\r\n             .collect(Collectors.toCollection(HashSet::new));\r\n    \r\n    // stream from a list (List&lt;String&gt; stringList)\r\n    Set&lt;String&gt; strSet3 = stringList.stream()\r\n             .collect(Collectors.toCollection(HashSet::new));\r\n\r\n---\r\n# Using Java 8 (Unmodifiable Sets)\r\n\r\n### Using Collections.unmodifiableSet()\r\nWe can use [`Collections.unmodifiableSet()`][1] as:\r\n\r\n    Set&lt;String&gt; strSet4 = Collections.unmodifiableSet(strSet1);\r\n\r\nBut it looks slightly awkward and we can write our own collector like this:\r\n\r\n    class ImmutableCollector {\r\n        public static &lt;T&gt; Collector&lt;T, Set&lt;T&gt;, Set&lt;T&gt;&gt; toImmutableSet() {\r\n            return Collector.of(HashSet::new, Set::add, (l, r) -&gt; {\r\n                l.addAll(r);\r\n                return l;\r\n            }, Collections::unmodifiablSet);\r\n        }\r\n    }\r\n\r\nAnd then use it as:\r\n\r\n    Set&lt;String&gt; strSet4 = Stream.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;)\r\n                 .collect(ImmutableCollector.toImmutableSet());\r\n\r\n\r\n### Using Collectors.collectingAndThen()\r\nAnother approach is to use the method [`Collectors.collectingAndThen()`][5] which lets us perform additional finishing transformations:\r\n\r\n    import static java.util.stream.Collectors.*;\r\n    Set&lt;String&gt; strSet5 = Stream.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;).collect(collectingAndThen(\r\n       toCollection(HashSet::new),Collections::unmodifiableSet));\r\n\r\nIf we only care about `Set` then we can also use [`Collectors.toSet()`][6] in place of `Collectors.toCollection(HashSet::new)`.\r\n\r\nAlso check [this][7] answer for Java 8.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#unmodifiableSet-java.util.Set-\r\n  [2]: https://docs.oracle.com/javase/10/docs/api/java/util/stream/Collectors.html#toUnmodifiableSet()\r\n  [3]: http://openjdk.java.net/jeps/269\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#collectingAndThen-java.util.stream.Collector-java.util.function.Function-\r\n  [6]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toSet--\r\n  [7]: https://stackoverflow.com/a/47711208/1216775","title":"How to initialize HashSet values by construction?","body":"<p>If you are looking for the most compact way of initializing a set then that was in <code>Java9</code>:</p>\n<pre><code>Set&lt;String&gt; strSet = Set.of(&quot;Apple&quot;, &quot;Ball&quot;, &quot;Cat&quot;, &quot;Dog&quot;);\n</code></pre>\n<p>===================== Detailed answer below ==========================</p>\n<h1>Using Java 10 (Unmodifiable Sets)</h1>\n<pre><code>Set&lt;String&gt; strSet1 = Stream.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;)\n         .collect(Collectors.toUnmodifiableSet());\n</code></pre>\n<p>Here the collector would actually return the unmodifiable set introduced in Java 9 as evident from the statement <code>set -&gt; (Set&lt;T&gt;)Set.of(set.toArray())</code> in the source code.</p>\n<p><strong>One point to note</strong> is that the method <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#unmodifiableSet-java.util.Set-\" rel=\"noreferrer\"><code>Collections.unmodifiableSet()</code></a> returns an unmodifiable view of the specified set (as per documentation). An <em>unmodifiable view</em> collection is a collection that is unmodifiable and is also a view onto a backing collection. Note that changes to the backing collection <em>might</em> still be possible, and if they occur, they are visible through the unmodifiable view. But the method <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/stream/Collectors.html#toUnmodifiableSet()\" rel=\"noreferrer\"><code>Collectors.toUnmodifiableSet()</code></a> returns <em>truly immutable</em> set in <strong>Java 10</strong>.</p>\n<hr />\n<h1>Using Java 9 (Unmodifiable Sets)</h1>\n<p>The following is the <strong>most compact</strong> way of initializing a set:</p>\n<pre><code>Set&lt;String&gt; strSet6 = Set.of(&quot;Apple&quot;, &quot;Ball&quot;, &quot;Cat&quot;, &quot;Dog&quot;);\n</code></pre>\n<p>We have 12 overloaded versions of this <a href=\"http://openjdk.java.net/jeps/269\" rel=\"noreferrer\">convenience factory</a> method:</p>\n<blockquote>\n<p><code>static &lt;E&gt; Set&lt;E&gt; of()</code></p>\n<p><code>static &lt;E&gt; Set&lt;E&gt; of(E e1)</code></p>\n<p><code>static &lt;E&gt; Set&lt;E&gt; of(E e1, E e2)</code></p>\n<p>// ....and so on</p>\n<p><code>static &lt;E&gt; Set&lt;E&gt; of(E... elems)</code></p>\n</blockquote>\n<p>Then a natural question is <strong>why we need overloaded versions when we have var-args</strong>? The answer is: every var-arg method creates an array internally and having the overloaded versions would avoid unnecessary creation of object and will also save us from the garbage collection overhead.</p>\n<hr />\n<h1>Using Java 8 (Modifiable Sets)</h1>\n<p>Using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\" rel=\"noreferrer\">Stream</a> in Java 8.</p>\n<pre><code>Set&lt;String&gt; strSet1 = Stream.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;)\n         .collect(Collectors.toCollection(HashSet::new));\n\n// stream from an array (String[] stringArray)\nSet&lt;String&gt; strSet2 = Arrays.stream(stringArray)\n         .collect(Collectors.toCollection(HashSet::new));\n\n// stream from a list (List&lt;String&gt; stringList)\nSet&lt;String&gt; strSet3 = stringList.stream()\n         .collect(Collectors.toCollection(HashSet::new));\n</code></pre>\n<hr />\n<h1>Using Java 8 (Unmodifiable Sets)</h1>\n<h3>Using Collections.unmodifiableSet()</h3>\n<p>We can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#unmodifiableSet-java.util.Set-\" rel=\"noreferrer\"><code>Collections.unmodifiableSet()</code></a> as:</p>\n<pre><code>Set&lt;String&gt; strSet4 = Collections.unmodifiableSet(strSet1);\n</code></pre>\n<p>But it looks slightly awkward and we can write our own collector like this:</p>\n<pre><code>class ImmutableCollector {\n    public static &lt;T&gt; Collector&lt;T, Set&lt;T&gt;, Set&lt;T&gt;&gt; toImmutableSet() {\n        return Collector.of(HashSet::new, Set::add, (l, r) -&gt; {\n            l.addAll(r);\n            return l;\n        }, Collections::unmodifiablSet);\n    }\n}\n</code></pre>\n<p>And then use it as:</p>\n<pre><code>Set&lt;String&gt; strSet4 = Stream.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;)\n             .collect(ImmutableCollector.toImmutableSet());\n</code></pre>\n<h3>Using Collectors.collectingAndThen()</h3>\n<p>Another approach is to use the method <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#collectingAndThen-java.util.stream.Collector-java.util.function.Function-\" rel=\"noreferrer\"><code>Collectors.collectingAndThen()</code></a> which lets us perform additional finishing transformations:</p>\n<pre><code>import static java.util.stream.Collectors.*;\nSet&lt;String&gt; strSet5 = Stream.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;).collect(collectingAndThen(\n   toCollection(HashSet::new),Collections::unmodifiableSet));\n</code></pre>\n<p>If we only care about <code>Set</code> then we can also use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toSet--\" rel=\"noreferrer\"><code>Collectors.toSet()</code></a> in place of <code>Collectors.toCollection(HashSet::new)</code>.</p>\n<p>Also check <a href=\"https://stackoverflow.com/a/47711208/1216775\">this</a> answer for Java 8.</p>\n"},{"comments":[{"owner":{"account_id":5365018,"reputation":119,"user_id":4275266,"accept_rate":83,"display_name":"redeveloper"},"score":3,"creation_date":1528470013,"post_id":40732958,"comment_id":88534383,"body_markdown":"Thank you! Glad I read down further, imo this should be ranked higher. This is great for Java 8 and less; no copying around arrays and clumsy streams. Thanks!","body":"Thank you! Glad I read down further, imo this should be ranked higher. This is great for Java 8 and less; no copying around arrays and clumsy streams. Thanks!"},{"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"score":1,"creation_date":1548809924,"post_id":40732958,"comment_id":95673427,"body_markdown":"This a great Answer, because unlike many other answers, as far as I can tell, it gives a **modifiable** Set ;)","body":"This a great Answer, because unlike many other answers, as far as I can tell, it gives a <b>modifiable</b> Set ;)"},{"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"score":4,"creation_date":1548810585,"post_id":40732958,"comment_id":95673601,"body_markdown":"I think this is available in at least Java 5+.","body":"I think this is available in at least Java 5+."},{"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"score":1,"creation_date":1650815696,"post_id":40732958,"comment_id":127206408,"body_markdown":"I just now failed a Coding test because I spent a lot of time trying to figure out how to create a HashSet from literals. Thanks for this nugget - I will use it in the future!","body":"I just now failed a Coding test because I spent a lot of time trying to figure out how to create a HashSet from literals. Thanks for this nugget - I will use it in the future!"}],"tags":[],"owner":{"account_id":8849825,"reputation":1346,"user_id":6609485,"display_name":"Michael Berdyshev"},"comment_count":4,"down_vote_count":0,"up_vote_count":66,"is_accepted":false,"score":66,"last_activity_date":1584804891,"creation_date":1479782512,"answer_id":40732958,"question_id":2041778,"body_markdown":"One of the most convenient ways is usage of generic [Collections.addAll()][1] method, which takes a collection and varargs:\r\n```java\r\nSet&lt;String&gt; h = new HashSet&lt;String&gt;();\r\nCollections.addAll(h, &quot;a&quot;, &quot;b&quot;);\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#addAll-java.util.Collection-T...-","title":"How to initialize HashSet values by construction?","body":"<p>One of the most convenient ways is usage of generic <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#addAll-java.util.Collection-T...-\" rel=\"noreferrer\">Collections.addAll()</a> method, which takes a collection and varargs:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Set&lt;String&gt; h = new HashSet&lt;String&gt;();\nCollections.addAll(h, \"a\", \"b\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2908552,"reputation":13,"user_id":2493314,"display_name":"Ups"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1529522917,"creation_date":1495002255,"answer_id":44017089,"question_id":2041778,"body_markdown":"Can use static block for initialization:\r\n\r\n    private static Set&lt;Integer&gt; codes1=\r\n            new HashSet&lt;Integer&gt;(Arrays.asList(1, 2, 3, 4));\r\n\r\n    private static Set&lt;Integer&gt; codes2 =\r\n            new HashSet&lt;Integer&gt;(Arrays.asList(5, 6, 7, 8));\r\n\r\n    private static Set&lt;Integer&gt; h = new HashSet&lt;Integer&gt;();\r\n\r\n    static{\r\n        h.add(codes1);\r\n        h.add(codes2);\r\n    }","title":"How to initialize HashSet values by construction?","body":"<p>Can use static block for initialization:</p>\n\n<pre><code>private static Set&lt;Integer&gt; codes1=\n        new HashSet&lt;Integer&gt;(Arrays.asList(1, 2, 3, 4));\n\nprivate static Set&lt;Integer&gt; codes2 =\n        new HashSet&lt;Integer&gt;(Arrays.asList(5, 6, 7, 8));\n\nprivate static Set&lt;Integer&gt; h = new HashSet&lt;Integer&gt;();\n\nstatic{\n    h.add(codes1);\n    h.add(codes2);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1634731,"reputation":3637,"user_id":1508529,"accept_rate":82,"display_name":"Mathias Bader"},"comment_count":0,"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1522756951,"creation_date":1499247039,"answer_id":44922279,"question_id":2041778,"body_markdown":"With Java 9 you can do the following:\r\n\r\n    Set.of(&quot;a&quot;, &quot;b&quot;);\r\n\r\nand you&#39;ll get an immutable Set containing the elements. For details see the Oracle [documentation of interface Set][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/util/Set.html","title":"How to initialize HashSet values by construction?","body":"<p>With Java 9 you can do the following:</p>\n\n<pre><code>Set.of(\"a\", \"b\");\n</code></pre>\n\n<p>and you'll get an immutable Set containing the elements. For details see the Oracle <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Set.html\" rel=\"noreferrer\">documentation of interface Set</a>.</p>\n"},{"tags":[],"owner":{"account_id":186549,"reputation":309,"user_id":424016,"accept_rate":75,"display_name":"Avery Michelle Dawn"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1500049752,"creation_date":1500049752,"answer_id":45107736,"question_id":2041778,"body_markdown":"    import com.google.common.collect.Sets;\r\n    Sets.newHashSet(&quot;a&quot;, &quot;b&quot;);\r\n\r\nor\r\n\r\n    import com.google.common.collect.ImmutableSet;\r\n    ImmutableSet.of(&quot;a&quot;, &quot;b&quot;);","title":"How to initialize HashSet values by construction?","body":"<pre><code>import com.google.common.collect.Sets;\nSets.newHashSet(\"a\", \"b\");\n</code></pre>\n\n<p>or</p>\n\n<pre><code>import com.google.common.collect.ImmutableSet;\nImmutableSet.of(\"a\", \"b\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3635878,"reputation":2746,"user_id":3031010,"accept_rate":57,"display_name":"egorlitvinenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1502307067,"creation_date":1502307067,"answer_id":45599186,"question_id":2041778,"body_markdown":"(ugly) Double Brace Initialization without side effects:\r\n\r\n    Set&lt;String&gt; a = new HashSet&lt;&gt;(new HashSet&lt;String&gt;() {{\r\n        add(&quot;1&quot;);\r\n        add(&quot;2&quot;);\r\n    }})\r\n\r\nBut in some cases, if we mentioned that is a good smell to make final collections unmutable, it could be really useful:\r\n\r\n    final Set&lt;String&gt; a = Collections.unmodifiableSet(new HashSet&lt;String&gt;(){{\r\n        add(&quot;1&quot;);\r\n        add(&quot;2&quot;);\r\n    }})","title":"How to initialize HashSet values by construction?","body":"<p>(ugly) Double Brace Initialization without side effects:</p>\n\n<pre><code>Set&lt;String&gt; a = new HashSet&lt;&gt;(new HashSet&lt;String&gt;() {{\n    add(\"1\");\n    add(\"2\");\n}})\n</code></pre>\n\n<p>But in some cases, if we mentioned that is a good smell to make final collections unmutable, it could be really useful:</p>\n\n<pre><code>final Set&lt;String&gt; a = Collections.unmodifiableSet(new HashSet&lt;String&gt;(){{\n    add(\"1\");\n    add(\"2\");\n}})\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1548818024,"post_id":46454310,"comment_id":95675250,"body_markdown":"@cellepo Well, the edit history of that answer suggests it was edited later. Though agreed the content is the same and that answer covers a lot more ways to solve the question.","body":"@cellepo Well, the edit history of that answer suggests it was edited later. Though agreed the content is the same and that answer covers a lot more ways to solve the question."}],"tags":[],"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"comment_count":1,"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1554102021,"creation_date":1506534950,"answer_id":46454310,"question_id":2041778,"body_markdown":"With the release of [tag:java9] and the [convenience factory methods](https://stackoverflow.com/questions/41918934/what-is-the-point-of-overloaded-convenience-factory-methods-for-collections-in-j) this is possible in a cleaner way:\r\n\r\n    Set set = Set.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);","title":"How to initialize HashSet values by construction?","body":"<p>With the release of <a href=\"/questions/tagged/java9\" class=\"post-tag\" title=\"show questions tagged &#39;java9&#39;\" rel=\"tag\">java9</a> and the <a href=\"https://stackoverflow.com/questions/41918934/what-is-the-point-of-overloaded-convenience-factory-methods-for-collections-in-j\">convenience factory methods</a> this is possible in a cleaner way:</p>\n\n<pre><code>Set set = Set.of(\"a\", \"b\", \"c\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2833171,"reputation":577,"user_id":2434307,"display_name":"Jose Quijada"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1515819698,"creation_date":1509727457,"answer_id":47100645,"question_id":2041778,"body_markdown":"The Builder pattern might be of use here. Today I had the same issue. where I needed Set&lt;String&gt; mutating operations to return me a reference of the Set object, so I can pass it to super class constructor so that they too can continue adding to same set by in turn constructing a new StringSetBuilder off of the Set that the child class just built. The builder class I wrote looks like this (in my case it&#39;s a static inner class of an outer class, but it can be its own independent class as well):\r\n\r\n\r\n    public interface Builder&lt;T&gt; {\r\n        T build();\r\n    }\r\n\r\n    static class StringSetBuilder implements Builder&lt;Set&lt;String&gt;&gt; {\r\n        private final Set&lt;String&gt; set = new HashSet&lt;&gt;();\r\n\r\n        StringSetBuilder add(String pStr) {\r\n            set.add(pStr);\r\n            return this;\r\n        }\r\n\r\n        StringSetBuilder addAll(Set&lt;String&gt; pSet) {\r\n            set.addAll(pSet);\r\n            return this;\r\n        }\r\n\r\n        @Override\r\n        public Set&lt;String&gt; build() {\r\n            return set;\r\n        }\r\n    }\r\n\r\nNotice the `addAll()` and `add()` methods, which are Set returning counterparts of `Set.add()` and `Set.addAll()`. Finally notice the `build()` method, which returns a reference to the Set that the builder encapsulates. Below illustrates then how to use this Set builder:\r\n\r\n    class SomeChildClass extends ParentClass {\r\n        public SomeChildClass(String pStr) {\r\n            super(new StringSetBuilder().add(pStr).build());\r\n        }\r\n    }\r\n\r\n    class ParentClass {\r\n        public ParentClass(Set&lt;String&gt; pSet) {\r\n            super(new StringSetBuilder().addAll(pSet).add(&quot;my own str&quot;).build());\r\n        }\r\n    }\r\n   \r\n    ","title":"How to initialize HashSet values by construction?","body":"<p>The Builder pattern might be of use here. Today I had the same issue. where I needed Set mutating operations to return me a reference of the Set object, so I can pass it to super class constructor so that they too can continue adding to same set by in turn constructing a new StringSetBuilder off of the Set that the child class just built. The builder class I wrote looks like this (in my case it's a static inner class of an outer class, but it can be its own independent class as well):</p>\n\n<pre><code>public interface Builder&lt;T&gt; {\n    T build();\n}\n\nstatic class StringSetBuilder implements Builder&lt;Set&lt;String&gt;&gt; {\n    private final Set&lt;String&gt; set = new HashSet&lt;&gt;();\n\n    StringSetBuilder add(String pStr) {\n        set.add(pStr);\n        return this;\n    }\n\n    StringSetBuilder addAll(Set&lt;String&gt; pSet) {\n        set.addAll(pSet);\n        return this;\n    }\n\n    @Override\n    public Set&lt;String&gt; build() {\n        return set;\n    }\n}\n</code></pre>\n\n<p>Notice the <code>addAll()</code> and <code>add()</code> methods, which are Set returning counterparts of <code>Set.add()</code> and <code>Set.addAll()</code>. Finally notice the <code>build()</code> method, which returns a reference to the Set that the builder encapsulates. Below illustrates then how to use this Set builder:</p>\n\n<pre><code>class SomeChildClass extends ParentClass {\n    public SomeChildClass(String pStr) {\n        super(new StringSetBuilder().add(pStr).build());\n    }\n}\n\nclass ParentClass {\n    public ParentClass(Set&lt;String&gt; pSet) {\n        super(new StringSetBuilder().addAll(pSet).add(\"my own str\").build());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3468130,"reputation":262,"user_id":2903204,"display_name":"rakhi"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1512746356,"creation_date":1512725090,"answer_id":47711208,"question_id":2041778,"body_markdown":"Using **Java 8** we can create `HashSet` as: \r\n\r\n    Stream.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;).collect(Collectors.toCollection(HashSet::new));\r\n\r\nAnd if we want unmodifiable set we can create a utility method as : \r\n\r\n    public static &lt;T, A extends Set&lt;T&gt;&gt; Collector&lt;T, A, Set&lt;T&gt;&gt; toImmutableSet(Supplier&lt;A&gt; supplier) {\r\n            return Collector.of(\r\n                    supplier,\r\n                    Set::add, (left, right) -&gt; {\r\n                        left.addAll(right);\r\n                        return left;\r\n                    }, Collections::unmodifiableSet);\r\n        }\r\nThis method can be used as :\r\n\r\n     Stream.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;).collect(toImmutableSet(HashSet::new));\r\n\r\n","title":"How to initialize HashSet values by construction?","body":"<p>Using <strong>Java 8</strong> we can create <code>HashSet</code> as: </p>\n\n<pre><code>Stream.of(\"A\", \"B\", \"C\", \"D\").collect(Collectors.toCollection(HashSet::new));\n</code></pre>\n\n<p>And if we want unmodifiable set we can create a utility method as : </p>\n\n<pre><code>public static &lt;T, A extends Set&lt;T&gt;&gt; Collector&lt;T, A, Set&lt;T&gt;&gt; toImmutableSet(Supplier&lt;A&gt; supplier) {\n        return Collector.of(\n                supplier,\n                Set::add, (left, right) -&gt; {\n                    left.addAll(right);\n                    return left;\n                }, Collections::unmodifiableSet);\n    }\n</code></pre>\n\n<p>This method can be used as :</p>\n\n<pre><code> Stream.of(\"A\", \"B\", \"C\", \"D\").collect(toImmutableSet(HashSet::new));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558948744,"creation_date":1558947056,"answer_id":56322656,"question_id":2041778,"body_markdown":"Combining answer by **Michael Berdyshev** with Generics and using constructor with initialCapacity, comparing with `Arrays.asList` variant:\r\n\r\n      import java.util.Collections;\r\n      import java.util.HashSet;\r\n      import java.util.Set;\r\n    \r\n      @SafeVarargs\r\n      public static &lt;T&gt; Set&lt;T&gt; buildSetModif(final T... values) {\r\n        final Set&lt;T&gt; modifiableSet = new HashSet&lt;T&gt;(values.length);\r\n        Collections.addAll(modifiableSet, values);\r\n        return modifiableSet;\r\n      }\r\n\r\n      @SafeVarargs\r\n      public static &lt;T&gt; Set&lt;T&gt; buildSetModifTypeSafe(final T... values) {\r\n        return new HashSet&lt;T&gt;(Arrays.asList(values));\r\n      }\r\n    \r\n      @SafeVarargs\r\n      public static &lt;T&gt; Set&lt;T&gt; buildeSetUnmodif(final T... values) {\r\n        return Collections.unmodifiableSet(buildSetModifTypeSafe(values));\r\n        // Or use Set.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;) if you use Java 9\r\n      }\r\n\r\n - This is good if you pass a few values for init, for anything large\r\n   use other methods\r\n - If you accidentally mix types with `buildSetModif` the resulting T will\r\n   be `? extends Object`, which is probably not what you want, this cannot happen with the `buildSetModifTypeSafe` variant, meaning that  `buildSetModifTypeSafe(1, 2, &quot;a&quot;);` will not compile","title":"How to initialize HashSet values by construction?","body":"<p>Combining answer by <strong>Michael Berdyshev</strong> with Generics and using constructor with initialCapacity, comparing with <code>Arrays.asList</code> variant:</p>\n\n<pre><code>  import java.util.Collections;\n  import java.util.HashSet;\n  import java.util.Set;\n\n  @SafeVarargs\n  public static &lt;T&gt; Set&lt;T&gt; buildSetModif(final T... values) {\n    final Set&lt;T&gt; modifiableSet = new HashSet&lt;T&gt;(values.length);\n    Collections.addAll(modifiableSet, values);\n    return modifiableSet;\n  }\n\n  @SafeVarargs\n  public static &lt;T&gt; Set&lt;T&gt; buildSetModifTypeSafe(final T... values) {\n    return new HashSet&lt;T&gt;(Arrays.asList(values));\n  }\n\n  @SafeVarargs\n  public static &lt;T&gt; Set&lt;T&gt; buildeSetUnmodif(final T... values) {\n    return Collections.unmodifiableSet(buildSetModifTypeSafe(values));\n    // Or use Set.of(\"a\", \"b\", \"c\") if you use Java 9\n  }\n</code></pre>\n\n<ul>\n<li>This is good if you pass a few values for init, for anything large\nuse other methods</li>\n<li>If you accidentally mix types with <code>buildSetModif</code> the resulting T will\nbe <code>? extends Object</code>, which is probably not what you want, this cannot happen with the <code>buildSetModifTypeSafe</code> variant, meaning that  <code>buildSetModifTypeSafe(1, 2, \"a\");</code> will not compile</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1714422,"reputation":5361,"user_id":1571826,"accept_rate":67,"display_name":"Def_Os"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603236715,"creation_date":1603236715,"answer_id":64454674,"question_id":2041778,"body_markdown":"You can also use [vavr][1]:\r\n\r\n    import io.vavr.collection.HashSet;\r\n    \r\n    HashSet.of(&quot;a&quot;, &quot;b&quot;).toJavaSet();\r\n\r\n\r\n  [1]: https://www.vavr.io/","title":"How to initialize HashSet values by construction?","body":"<p>You can also use <a href=\"https://www.vavr.io/\" rel=\"nofollow noreferrer\">vavr</a>:</p>\n<pre><code>import io.vavr.collection.HashSet;\n\nHashSet.of(&quot;a&quot;, &quot;b&quot;).toJavaSet();\n</code></pre>\n"}],"owner":{"account_id":36794,"reputation":13620,"user_id":105037,"accept_rate":89,"display_name":"Serg"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1090790,"favorite_count":0,"down_vote_count":0,"up_vote_count":917,"accepted_answer_id":2041810,"answer_count":24,"score":917,"last_activity_date":1681383797,"creation_date":1263213110,"question_id":2041778,"body_markdown":"I need to create a `Set` with initial values.\r\n\r\n    Set&lt;String&gt; h = new HashSet&lt;String&gt;();\r\n    h.add(&quot;a&quot;);\r\n    h.add(&quot;b&quot;);\r\n\r\nIs there a way to do this in one line of code? For instance, it&#39;s useful for a final static field.","title":"How to initialize HashSet values by construction?","body":"<p>I need to create a <code>Set</code> with initial values.</p>\n\n<pre><code>Set&lt;String&gt; h = new HashSet&lt;String&gt;();\nh.add(\"a\");\nh.add(\"b\");\n</code></pre>\n\n<p>Is there a way to do this in one line of code? For instance, it's useful for a final static field.</p>\n"},{"tags":["java","csv","opencsv"],"answers":[{"comments":[{"owner":{"account_id":2733930,"reputation":59,"user_id":2357010,"accept_rate":67,"display_name":"Chinnu"},"score":0,"creation_date":1451383877,"post_id":34508616,"comment_id":56758808,"body_markdown":"is there any way to read the data with quotes? something like replacing quotes with space ?","body":"is there any way to read the data with quotes? something like replacing quotes with space ?"},{"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"score":0,"creation_date":1451384956,"post_id":34508616,"comment_id":56759354,"body_markdown":"@Chinnu - Yes - wrap your `Reader` in a [FilterReader](https://docs.oracle.com/javase/7/docs/api/java/io/FilterReader.html).","body":"@Chinnu - Yes - wrap your <code>Reader</code> in a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/FilterReader.html\" rel=\"nofollow noreferrer\">FilterReader</a>."},{"owner":{"account_id":2733930,"reputation":59,"user_id":2357010,"accept_rate":67,"display_name":"Chinnu"},"score":0,"creation_date":1451388892,"post_id":34508616,"comment_id":56761297,"body_markdown":"Thanks OldCurmudgen, I want to replace the quotes only inside data, not leading and trailing quotes. Could you please modify the code for that?","body":"Thanks OldCurmudgen, I want to replace the quotes only inside data, not leading and trailing quotes. Could you please modify the code for that?"},{"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"score":0,"creation_date":1451389811,"post_id":34508616,"comment_id":56761742,"body_markdown":"@Chinnu - The code is a demo of how to make a filter. I am sure you can work on it to achieve what you want. Something like only removing `&quot;` when not before or after a `,` but there are still edge cases such as end-of-line.","body":"@Chinnu - The code is a demo of how to make a filter. I am sure you can work on it to achieve what you want. Something like only removing <code>&quot;</code> when not before or after a <code>,</code> but there are still edge cases such as end-of-line."},{"owner":{"account_id":2733930,"reputation":59,"user_id":2357010,"accept_rate":67,"display_name":"Chinnu"},"score":0,"creation_date":1451390377,"post_id":34508616,"comment_id":56761978,"body_markdown":"Thanks OldCurmudgen....sure i will try like you mentioned...is there any performance issue , if large csv files comes in?  since we are processing each character.","body":"Thanks OldCurmudgen....sure i will try like you mentioned...is there any performance issue , if large csv files comes in?  since we are processing each character."}],"tags":[],"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1451385392,"creation_date":1451383036,"answer_id":34508616,"question_id":34508448,"body_markdown":"That is as designed. Your constructor specifies a quote character as `&quot;\\&quot;&quot;` so `OpenCSV` will treat that character as a quote character, i.e. when it reads a quote it will ignore all commas until a matching quote is found.\r\n\r\nTo get around this you could use a `FilterReader`.\r\n\r\n        Reader reader = new FilterReader(fileReader) {\r\n\r\n            private int filter(int ch) {\r\n                return ch == &#39;&quot;&#39;?&#39; &#39;:ch;\r\n            }\r\n            @Override\r\n            public int read(char[] cbuf, int off, int len) throws IOException {\r\n                int red = super.read(cbuf, off, len);\r\n                for ( int i = off; i &lt; off + red; i++) {\r\n                    cbuf[i] = (char)filter(cbuf[i]);\r\n                }\r\n                return red;\r\n            }\r\n\r\n            @Override\r\n            public int read() throws IOException {\r\n                return filter(super.read());\r\n            }\r\n\r\n        };\r\n","title":"OpenCSV parser unable to parse double quotes in the data","body":"<p>That is as designed. Your constructor specifies a quote character as <code>\"\\\"\"</code> so <code>OpenCSV</code> will treat that character as a quote character, i.e. when it reads a quote it will ignore all commas until a matching quote is found.</p>\n\n<p>To get around this you could use a <code>FilterReader</code>.</p>\n\n<pre><code>    Reader reader = new FilterReader(fileReader) {\n\n        private int filter(int ch) {\n            return ch == '\"'?' ':ch;\n        }\n        @Override\n        public int read(char[] cbuf, int off, int len) throws IOException {\n            int red = super.read(cbuf, off, len);\n            for ( int i = off; i &lt; off + red; i++) {\n                cbuf[i] = (char)filter(cbuf[i]);\n            }\n            return red;\n        }\n\n        @Override\n        public int read() throws IOException {\n            return filter(super.read());\n        }\n\n    };\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7514834,"reputation":11276,"user_id":5708620,"display_name":"Danny_ds"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1451391459,"creation_date":1451390857,"answer_id":34510734,"question_id":34508448,"body_markdown":"This is invalid csv:\r\n\r\n`1,New&quot;Account&quot;,&quot;val1&quot;`\r\n\r\nshould be:\r\n\r\n`1,&quot;New&quot;&quot;Account&quot;,&quot;val1&quot;` -&gt; if you want `1  New&quot;Account  val1`\r\n\r\nor\r\n\r\n`1,&quot;New&quot;&quot;Account&quot;&quot;&quot;,&quot;val1&quot;` -&gt; if you want `1  New&quot;Account&quot;  val1`\r\n\r\nQuotes inside (quoted) fields, must be escaped with another quote.\r\n\r\nWhile you could change your code to read the malformed csv correctly, the csv data should be fixed in the first place, because you might get some more erros with larger csv-files or updates of that data.\r\n\r\nUsually, quotes are used when there is a seperator or another quote inside the field. So if you would ignore the quotes and only split on the seperator, there will be problems if there is a seperator inside a field in future updates of the data - for example:\r\n\r\n    1,&quot;John, Doe&quot;,123\r\n\r\n\r\n\r\n","title":"OpenCSV parser unable to parse double quotes in the data","body":"<p>This is invalid csv:</p>\n\n<p><code>1,New\"Account\",\"val1\"</code></p>\n\n<p>should be:</p>\n\n<p><code>1,\"New\"\"Account\",\"val1\"</code> -> if you want <code>1  New\"Account  val1</code></p>\n\n<p>or</p>\n\n<p><code>1,\"New\"\"Account\"\"\",\"val1\"</code> -> if you want <code>1  New\"Account\"  val1</code></p>\n\n<p>Quotes inside (quoted) fields, must be escaped with another quote.</p>\n\n<p>While you could change your code to read the malformed csv correctly, the csv data should be fixed in the first place, because you might get some more erros with larger csv-files or updates of that data.</p>\n\n<p>Usually, quotes are used when there is a seperator or another quote inside the field. So if you would ignore the quotes and only split on the seperator, there will be problems if there is a seperator inside a field in future updates of the data - for example:</p>\n\n<pre><code>1,\"John, Doe\",123\n</code></pre>\n"}],"owner":{"account_id":2733930,"reputation":59,"user_id":2357010,"accept_rate":67,"display_name":"Chinnu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3410,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":34508616,"answer_count":2,"score":1,"last_activity_date":1681383794,"creation_date":1451382403,"question_id":34508448,"body_markdown":"I have following CSV file,\r\n\r\n```none\r\n&quot;id&quot;,&quot;Description&quot;,&quot;vale&quot;\r\n1,New&quot;Account&quot;,&quot;val1&quot;\r\n```\r\n\r\nI am unable to read the above CSV file with OpenCSV. It cannot read `New&quot;Account`, since the double quotes inside data. My CSV reader constructor is:\r\n\r\n```java\r\ncsvReader = new CSVReader(new FileReader(currentFile), &#39;,&#39;, &#39;\\&quot;&#39;, &#39;\\0&#39;);\r\n```\r\n\r\n","title":"OpenCSV parser unable to parse double quotes in the data","body":"<p>I have following CSV file,</p>\n<pre class=\"lang-none prettyprint-override\"><code>&quot;id&quot;,&quot;Description&quot;,&quot;vale&quot;\n1,New&quot;Account&quot;,&quot;val1&quot;\n</code></pre>\n<p>I am unable to read the above CSV file with OpenCSV. It cannot read <code>New&quot;Account</code>, since the double quotes inside data. My CSV reader constructor is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>csvReader = new CSVReader(new FileReader(currentFile), ',', '\\&quot;', '\\0');\n</code></pre>\n"},{"tags":["java","eclipse","junit","java-module"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1656588542,"post_id":72814759,"comment_id":128612539,"body_markdown":"https://stackoverflow.com/help/minimal-reproducible-example please.","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a> please."},{"owner":{"account_id":12562,"reputation":958,"user_id":24819,"display_name":"axelclk"},"score":1,"creation_date":1656605994,"post_id":72814759,"comment_id":128619627,"body_markdown":"In menu &quot;Run-&gt;Run Configurations&quot; you can add command line options. Did you try: https://help.eclipse.org/latest/topic/org.eclipse.jdt.doc.user/reference/ref-properties-build-path.htm#module-dependencies","body":"In menu &quot;Run-&gt;Run Configurations&quot; you can add command line options. Did you try: <a href=\"https://help.eclipse.org/latest/topic/org.eclipse.jdt.doc.user/reference/ref-properties-build-path.htm#module-dependencies\" rel=\"nofollow noreferrer\">help.eclipse.org/latest/topic/org.eclipse.jdt.doc.user/&hellip;</a>"},{"owner":{"account_id":1714137,"reputation":2491,"user_id":1571602,"display_name":"Andrea Del Bene"},"score":0,"creation_date":1657121655,"post_id":72814759,"comment_id":128736031,"body_markdown":"@howlger sorry for my late reply. I just opened Maven module wicket-core of project Apache Wicket (https://github.com/apache/wicket), branch wicket-9x. Than I tried to run junit tests from Eclipse but it failed  due to missing modules or not visible packages. I&#39;m using the workaround described in the answer.","body":"@howlger sorry for my late reply. I just opened Maven module wicket-core of project Apache Wicket (<a href=\"https://github.com/apache/wicket\" rel=\"nofollow noreferrer\">github.com/apache/wicket</a>), branch wicket-9x. Than I tried to run junit tests from Eclipse but it failed  due to missing modules or not visible packages. I&#39;m using the workaround described in the answer."}],"answers":[{"tags":[],"owner":{"account_id":1714137,"reputation":2491,"user_id":1571602,"display_name":"Andrea Del Bene"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671462463,"creation_date":1656693218,"answer_id":72832264,"question_id":72814759,"body_markdown":"After some research I&#39;ve found a workaround which works fine for me. I want to make clear that it&#39;s a workaround and it&#39;s not something comparable to the Intellij feature I talk about in the question.\r\nBasically I filtered file **module-info.java** in &#39;Java Build Path&#39; options:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EuIVw.png\r\n\r\nIn this way Eclipse ignores module path and uses only the old classpath. ","title":"Running JUnit tests ignoring module path","body":"<p>After some research I've found a workaround which works fine for me. I want to make clear that it's a workaround and it's not something comparable to the Intellij feature I talk about in the question.\nBasically I filtered file <strong>module-info.java</strong> in 'Java Build Path' options:</p>\n<p><a href=\"https://i.stack.imgur.com/EuIVw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EuIVw.png\" alt=\"enter image description here\" /></a></p>\n<p>In this way Eclipse ignores module path and uses only the old classpath.</p>\n"},{"comments":[{"owner":{"account_id":5357611,"reputation":188,"user_id":4269881,"display_name":"Emma Atkinson"},"score":1,"creation_date":1681383559,"post_id":76004618,"comment_id":134049023,"body_markdown":"Proper support for whitebox testing in JPMS appears to have been dropped or become conflated with restricting reflection access (i.e. muddled) between the Requirements (see *Development*) and the Specification phases of the JPMS project. It wasn&#39;t picked up in the spec review minutes I read on OpenJDK with any real vigour. Huge projects such as JPMS are always hard. It must have cost Oracle a fortune to implement and probably a lot more than their budget.  I guess there will be no appetite to put even more effort into fixing this shortfall soon.","body":"Proper support for whitebox testing in JPMS appears to have been dropped or become conflated with restricting reflection access (i.e. muddled) between the Requirements (see <i>Development</i>) and the Specification phases of the JPMS project. It wasn&#39;t picked up in the spec review minutes I read on OpenJDK with any real vigour. Huge projects such as JPMS are always hard. It must have cost Oracle a fortune to implement and probably a lot more than their budget.  I guess there will be no appetite to put even more effort into fixing this shortfall soon."}],"tags":[],"owner":{"account_id":5357611,"reputation":188,"user_id":4269881,"display_name":"Emma Atkinson"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681383499,"creation_date":1681383499,"answer_id":76004618,"question_id":72814759,"body_markdown":"https://docs.oracle.com/javase/9/migrate/toc.htm#JSMIG-GUID-2F61F3A9-0979-46A4-8B49-325BA0EE8B66\r\n\r\nLook for the Runtime Option **--add-opens** and use it to give the reflective access that JUnit or TestNG etc need to the whitebox testing build.\r\n\r\nIt looks like this will not improve in the short term. Build tools like Gradle have packaged this up to make it less painful.","title":"Running JUnit tests ignoring module path","body":"<p><a href=\"https://docs.oracle.com/javase/9/migrate/toc.htm#JSMIG-GUID-2F61F3A9-0979-46A4-8B49-325BA0EE8B66\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/9/migrate/toc.htm#JSMIG-GUID-2F61F3A9-0979-46A4-8B49-325BA0EE8B66</a></p>\n<p>Look for the Runtime Option <strong>--add-opens</strong> and use it to give the reflective access that JUnit or TestNG etc need to the whitebox testing build.</p>\n<p>It looks like this will not improve in the short term. Build tools like Gradle have packaged this up to make it less painful.</p>\n"}],"owner":{"account_id":1714137,"reputation":2491,"user_id":1571602,"display_name":"Andrea Del Bene"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":588,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1681383499,"creation_date":1656587459,"question_id":72814759,"body_markdown":"I&#39;m working on an existing maven-based Java project to support Java Module (JPMS). So far I had no problem defining new modules and their dependencies with files info-module.java, but I still have problems when I try to run unit tests from Eclipse.\r\n\r\nTest code follows the usual folder and package scheme for Maven projects: code is inside *src/test/java* folder and replicates the package structure of application code.\r\n\r\nWhen I try to run a JUnit test case from Eclipse, I receive a lot of errors about missing modules or not visible packages. What I like to do now is running unit test using only Java classpath and ignoring module path. With Maven and Surefire plugin it&#39;s pretty straightforward as I can use option **useModulePath** to ignore module path.\r\n\r\nI also know that IntelliJ as an option called &#39;Do not use --module-path option&#39; which does exactly what I need.\r\n\r\nDo you now any equivalent option or workaround for Eclipse to obtain this behavior?\r\n","title":"Running JUnit tests ignoring module path","body":"<p>I'm working on an existing maven-based Java project to support Java Module (JPMS). So far I had no problem defining new modules and their dependencies with files info-module.java, but I still have problems when I try to run unit tests from Eclipse.</p>\n<p>Test code follows the usual folder and package scheme for Maven projects: code is inside <em>src/test/java</em> folder and replicates the package structure of application code.</p>\n<p>When I try to run a JUnit test case from Eclipse, I receive a lot of errors about missing modules or not visible packages. What I like to do now is running unit test using only Java classpath and ignoring module path. With Maven and Surefire plugin it's pretty straightforward as I can use option <strong>useModulePath</strong> to ignore module path.</p>\n<p>I also know that IntelliJ as an option called 'Do not use --module-path option' which does exactly what I need.</p>\n<p>Do you now any equivalent option or workaround for Eclipse to obtain this behavior?</p>\n"},{"tags":["java","spring-boot","objectmapper"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":2,"creation_date":1671616901,"post_id":74874123,"comment_id":132135656,"body_markdown":"Simplest solution/workaround: create a &quot;wrapper&quot; (bean) for additional om&#39;s. A built-in &quot;wrapper&quot; (which is used by `@requestMapping`) is `MappingJackson2HttpMessageConverter` (bean)...you can have a &quot;default&quot; om additionally *per java type* a map of media type to om&#39;s... [see also](https://stackoverflow.com/q/66586645/592355)","body":"Simplest solution/workaround: create a &quot;wrapper&quot; (bean) for additional om&#39;s. A built-in &quot;wrapper&quot; (which is used by <code>@requestMapping</code>) is <code>MappingJackson2HttpMessageConverter</code> (bean)...you can have a &quot;default&quot; om additionally <i>per java type</i> a map of media type to om&#39;s... <a href=\"https://stackoverflow.com/q/66586645/592355\">see also</a>"},{"owner":{"account_id":5457869,"reputation":1091,"user_id":4340769,"display_name":"cipley"},"score":1,"creation_date":1671631767,"post_id":74874123,"comment_id":132140342,"body_markdown":"What do you mean by creating new ObjectMapper bean it would replace the default one?","body":"What do you mean by creating new ObjectMapper bean it would replace the default one?"},{"owner":{"account_id":3220345,"reputation":5564,"user_id":2717958,"accept_rate":57,"display_name":"Michal Krasny"},"score":1,"creation_date":1671635537,"post_id":74874123,"comment_id":132141710,"body_markdown":"Spring Boot autoconfiguration usually creates default Beans which are overridden when you create your own one of that type.","body":"Spring Boot autoconfiguration usually creates default Beans which are overridden when you create your own one of that type."}],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671695894,"creation_date":1671629102,"answer_id":74876755,"question_id":74874123,"body_markdown":"Yes, `@ConditionalOnMissingBean` is [hard-impossible] to hack. With a simple trick (asian philosophy), we can circumvent the problem/make it no problem at all:\r\n\r\nWrap your (1+, auto configured, `@ConditionalOnMissing...`) bean in something else/custom/a &quot;wrapper&quot;. (at the costs of: referring to 1+/thinking about the difference/more complexity)\r\n\r\nMentioned [`MappingJackson2HttpMessageConverter`][1] ([auto-config here][2]) has this (built-in) capability (&amp; purpose) to map to multiple object mappers in terms of &quot;http conversion&quot;.\r\n\r\n\r\nSo with a (generic, e.g. java.util.Map based) thing like:\r\n```\r\nclass MyWrapper&lt;K, V&gt; {\r\n  final Map&lt;K, V&gt; map;\r\n  public MyWrapper(Map&lt;K, V&gt; map) {\r\n    this.map = map;\r\n  }\r\n  public Map&lt;K, V&gt; getMap() {\r\n    return map;\r\n  }\r\n}\r\n```\r\nWe can go wire it:\r\n```lang-java\r\n@Bean\r\nMyWrapper&lt;String, ObjectMapper&gt; myStr2OMWrapper(/*ObjectMapper jacksonOm*/) {\r\n  return new MyWrapper(Map.of(\r\n      // DEFAULT, jacksonOm,\r\n      &quot;foo&quot;, fooMapper(), \r\n      &quot;bar&quot;, barMapper()\r\n  ));\r\n}\r\n```\r\n..where `fooMapper()` and `barMapper()` can refer to (static/instance) *no-bean* methods:\r\n```lang-java\r\nprivate static ObjectMapper fooMapper() {\r\n  return new ObjectMapper()\r\n      .configure(SerializationFeature.INDENT_OUTPUT, true) // just a demo...\r\n      .configure(SerializationFeature.WRAP_ROOT_VALUE, true); // configure/set  as see fit...\r\n}\r\nprivate static ObjectMapper barMapper() {\r\n  return new ObjectMapper()\r\n      .configure(SerializationFeature.INDENT_OUTPUT, false) // just a demo...\r\n      .configure(SerializationFeature.WRAP_ROOT_VALUE, false); // configure/set more...\r\n}\r\n```\r\n(Already) testing/using time:\r\n\r\n```lang-java\r\npackage com.example.demo;\r\n\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport org.junit.jupiter.api.Assertions;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\n\r\n@SpringBootTest\r\nclass DemoAppTests {\r\n\r\n  @Autowired\r\n  MyWrapper&lt;String, ObjectMapper&gt; my;\r\n  @Autowired\r\n  ObjectMapper jacksonOM;\r\n\r\n  @Test\r\n  void contextLoads() {\r\n    System.err.println(jacksonOM);\r\n    Assertions.assertNotNull(jacksonOM);\r\n    my.getMap().entrySet().forEach(e -&gt; {\r\n      System.err.println(e);\r\n      Assertions.assertNotNull(e.getValue());\r\n    });\r\n  }\r\n}\r\n```\r\nPrints (e.g.)\r\n```lang-bash\r\n...\r\ncom.fasterxml.jackson.databind.ObjectMapper@481b2f10\r\nbar=com.fasterxml.jackson.databind.ObjectMapper@577bf0aa\r\nfoo=com.fasterxml.jackson.databind.ObjectMapper@7455dacb\r\n...\r\nResults:\r\n\r\nTests run: 1, Failures: 0, Errors: 0, Skipped: 0\r\n...\r\n```\r\nSorry this test dosn&#39;t verify (individual) configuration, but only:  (visually different) not null object mappers.\r\n\r\n-----------------------------------------\r\n\r\nHow to enable (multiple!) [`my.custom.jackson.*`][3] auto configuration, is a more complex question... (it is not as easy as e.g. `my.custom.datasource.*` config ;( \r\n\r\nWith:\r\n```\r\n@Bean\r\n@Primary // ! for auto config, we need one primary (whether it is &quot;spring.jackson&quot;  ... adjust;)\r\n@ConfigurationProperties(&quot;spring.jackson&quot;)\r\nJacksonProperties springJacksonProps() {\r\n  return new JacksonProperties();\r\n}\r\n\r\n@Bean\r\n@ConfigurationProperties(&quot;foo.jackson&quot;)\r\nJacksonProperties fooProps() {\r\n  return new JacksonProperties();\r\n}\r\n\r\n@Bean\r\n@ConfigurationProperties(&quot;bar.jackson&quot;)\r\nJacksonProperties barProps() {\r\n  return new JacksonProperties();\r\n}\r\n```\r\nwe can already load and differentiate (full blown) config like:\r\n```lang-properties\r\nspring.jackson.locale=en_US\r\nspring.jackson.time-zone=UTC\r\n# ... all of spring.jackson @see org.springframework.boot.autoconfigure.jackson.JacksonProperties\r\nfoo.jackson.locale=en_US\r\nfoo.jackson.time-zone=PST\r\n# ... just for demo purpose\r\nbar.jackson.locale=de_DE\r\nbar.jackson.time-zone=GMT+1\r\n```\r\nAnd also (no problem) pass them (props) to the according (static `[foo|bar]Mapper`) methods.... but then? (If you are good with it, you can stop reading here!:)\r\n\r\nUnfortunately the [according (&quot;state of art&quot;) code][4] (to wire `JacksonProperties` with &quot;om builder&quot;) is not public (i.e. not extendable/pluggable).\r\n\r\nInstead the auto configuration provides (if none defined/`@ConditionalOnMissingBean`):\r\n- a *prototype* `Jackson2ObjectMapperBuilder` bean, which (everytime when requested):\r\n  - applies (i.e. receives) customization from all (known) `Jackson2ObjectMapperBuilderCustomizer` beans.\r\n  - of which [one (auto configured, order(0), package private) is the &quot;standard&quot;][4] responsible for wiring (spring.jackson.* only) `JacksonProperties` to `Jackson2ObjectMapperBuilder`...\r\n\r\nSo the the simplest approach seems (up-to-date) to:\r\n- steel/adopt [the code][4] (not-/implementing `Jackson2ObjectMapperBuilderCustomizer`)\r\n- construct (from &quot;stolen&quot; + properties) according builders/mappers, as see fit.\r\n\r\ne.g. (review+TEST before PROD!) non-interface, returns a `Jackson2ObjectMapperBuilder`, mimic the auto-configured, without applying (other) customizers/-ation:\r\n```lang-java\r\n// ...\r\nimport com.fasterxml.jackson.databind.Module; // !! not java.lang.Module ;)\r\n// ...\r\nprivate static class MyStolenCustomizer {\r\n\r\n  private final JacksonProperties jacksonProperties;\r\n  private final Collection&lt;Module&gt; modules;\r\n  // additionally need/want this:\r\n  private final ApplicationContext applicationContext;\r\n  // copy/adopt from spring-boot:\r\n  private static final Map&lt;?, Boolean&gt; FEATURE_DEFAULTS = Map.of(\r\n      SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false,\r\n      SerializationFeature.WRITE_DURATIONS_AS_TIMESTAMPS, false\r\n  );\r\n\r\n  public MyStolenCustomizer(\r\n    ApplicationContext applicationContext,\r\n    JacksonProperties jacksonProperties,\r\n    Collection&lt;Module&gt; modules\r\n  ) {\r\n      this.applicationContext = applicationContext;\r\n      this.jacksonProperties = jacksonProperties;\r\n      this.modules = modules;\r\n  }\r\n  // changed method signature!!\r\n  public Jackson2ObjectMapperBuilder buildCustom() {\r\n    // mimic original (spring-boot) bean:\r\n    Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder();\r\n    builder.applicationContext(applicationContext);\r\n    // without (additional!) customizers:\r\n    if (this.jacksonProperties.getDefaultPropertyInclusion() != null) {\r\n      builder.serializationInclusion(this.jacksonProperties.getDefaultPropertyInclusion());\r\n    }\r\n    if (this.jacksonProperties.getTimeZone() != null) {\r\n      builder.timeZone(this.jacksonProperties.getTimeZone());\r\n    }\r\n    configureFeatures(builder, FEATURE_DEFAULTS);\r\n    configureVisibility(builder, this.jacksonProperties.getVisibility());\r\n    configureFeatures(builder, this.jacksonProperties.getDeserialization());\r\n    configureFeatures(builder, this.jacksonProperties.getSerialization());\r\n    configureFeatures(builder, this.jacksonProperties.getMapper());\r\n    configureFeatures(builder, this.jacksonProperties.getParser());\r\n    configureFeatures(builder, this.jacksonProperties.getGenerator());\r\n    configureDateFormat(builder);\r\n    configurePropertyNamingStrategy(builder);\r\n    configureModules(builder);\r\n    configureLocale(builder);\r\n    configureDefaultLeniency(builder);\r\n    configureConstructorDetector(builder);\r\n    // custom api:\r\n    return builder; // ..alternatively: builder.build();\r\n  }\r\n  // ... rest as in https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jackson/JacksonAutoConfiguration.java#L223-L341\r\n```\r\nTo wire `modules`, we can (hopefully, as originally) rely on:\r\n```lang-java\r\n@Autowired\r\nObjectProvider&lt;com.fasterxml.jackson.databind.Module&gt; modules\r\n```\r\nTo initialize them like:\r\n```lang-java\r\n@Bean\r\nMyStolenCustomizer fooCustomizer(ApplicationContext context, @Qualifier(&quot;fooProps&quot;) JacksonProperties fooProperties, ObjectProvider&lt;Module&gt; modules) {\r\n  return new MyStolenCustomizer(context, fooProperties, modules.stream().toList());\r\n}\r\n\r\n@Bean\r\nMyStolenCustomizer barCustomizer(ApplicationContext context, @Qualifier(&quot;barProps&quot;) JacksonProperties barProperties, ObjectProvider&lt;Module&gt; modules) {\r\n  return new MyStolenCustomizer(context, barProperties, modules.stream().toList());\r\n}\r\n```\r\n..and use them like:\r\n```lang-java\r\n@Bean\r\nMyWrapper&lt;String, Jackson2ObjectMapperBuilder&gt; myStr2OMBuilderWrapper(\r\n    @Qualifier(&quot;fooCustomizer&quot;) MyStolenCustomizer fooCustomizer,\r\n    @Qualifier(&quot;barCustomizer&quot;) MyStolenCustomizer barCustomizer) {\r\n  return new MyWrapper(\r\n      Map.of(\r\n          &quot;foo&quot;, fooCustomizer.buildCustom(),\r\n          &quot;bar&quot;, barCustomizer.buildCustom()\r\n      )\r\n  );\r\n}\r\n```\r\n...avoiding &quot;double customization&quot;/leaving `JacksonAutoConfiguration` enabled/intact/active.\r\n\r\nProblem: time/updates(/external code)!\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/converter/json/MappingJackson2HttpMessageConverter.html\r\n  [2]: https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/http/JacksonHttpMessageConvertersConfiguration.java\r\n  [3]: https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jackson/JacksonProperties.java\r\n  [4]: https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jackson/JacksonAutoConfiguration.java#L183-L341","title":"How to add new ObjectMapper in Spring Boot project","body":"<p>Yes, <code>@ConditionalOnMissingBean</code> is [hard-impossible] to hack. With a simple trick (asian philosophy), we can circumvent the problem/make it no problem at all:</p>\n<p>Wrap your (1+, auto configured, <code>@ConditionalOnMissing...</code>) bean in something else/custom/a &quot;wrapper&quot;. (at the costs of: referring to 1+/thinking about the difference/more complexity)</p>\n<p>Mentioned <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/converter/json/MappingJackson2HttpMessageConverter.html\" rel=\"nofollow noreferrer\"><code>MappingJackson2HttpMessageConverter</code></a> (<a href=\"https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/http/JacksonHttpMessageConvertersConfiguration.java\" rel=\"nofollow noreferrer\">auto-config here</a>) has this (built-in) capability (&amp; purpose) to map to multiple object mappers in terms of &quot;http conversion&quot;.</p>\n<p>So with a (generic, e.g. java.util.Map based) thing like:</p>\n<pre><code>class MyWrapper&lt;K, V&gt; {\n  final Map&lt;K, V&gt; map;\n  public MyWrapper(Map&lt;K, V&gt; map) {\n    this.map = map;\n  }\n  public Map&lt;K, V&gt; getMap() {\n    return map;\n  }\n}\n</code></pre>\n<p>We can go wire it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nMyWrapper&lt;String, ObjectMapper&gt; myStr2OMWrapper(/*ObjectMapper jacksonOm*/) {\n  return new MyWrapper(Map.of(\n      // DEFAULT, jacksonOm,\n      &quot;foo&quot;, fooMapper(), \n      &quot;bar&quot;, barMapper()\n  ));\n}\n</code></pre>\n<p>..where <code>fooMapper()</code> and <code>barMapper()</code> can refer to (static/instance) <em>no-bean</em> methods:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static ObjectMapper fooMapper() {\n  return new ObjectMapper()\n      .configure(SerializationFeature.INDENT_OUTPUT, true) // just a demo...\n      .configure(SerializationFeature.WRAP_ROOT_VALUE, true); // configure/set  as see fit...\n}\nprivate static ObjectMapper barMapper() {\n  return new ObjectMapper()\n      .configure(SerializationFeature.INDENT_OUTPUT, false) // just a demo...\n      .configure(SerializationFeature.WRAP_ROOT_VALUE, false); // configure/set more...\n}\n</code></pre>\n<p>(Already) testing/using time:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\n\n@SpringBootTest\nclass DemoAppTests {\n\n  @Autowired\n  MyWrapper&lt;String, ObjectMapper&gt; my;\n  @Autowired\n  ObjectMapper jacksonOM;\n\n  @Test\n  void contextLoads() {\n    System.err.println(jacksonOM);\n    Assertions.assertNotNull(jacksonOM);\n    my.getMap().entrySet().forEach(e -&gt; {\n      System.err.println(e);\n      Assertions.assertNotNull(e.getValue());\n    });\n  }\n}\n</code></pre>\n<p>Prints (e.g.)</p>\n<pre class=\"lang-bash prettyprint-override\"><code>...\ncom.fasterxml.jackson.databind.ObjectMapper@481b2f10\nbar=com.fasterxml.jackson.databind.ObjectMapper@577bf0aa\nfoo=com.fasterxml.jackson.databind.ObjectMapper@7455dacb\n...\nResults:\n\nTests run: 1, Failures: 0, Errors: 0, Skipped: 0\n...\n</code></pre>\n<p>Sorry this test dosn't verify (individual) configuration, but only:  (visually different) not null object mappers.</p>\n<hr />\n<p>How to enable (multiple!) <a href=\"https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jackson/JacksonProperties.java\" rel=\"nofollow noreferrer\"><code>my.custom.jackson.*</code></a> auto configuration, is a more complex question... (it is not as easy as e.g. <code>my.custom.datasource.*</code> config ;(</p>\n<p>With:</p>\n<pre><code>@Bean\n@Primary // ! for auto config, we need one primary (whether it is &quot;spring.jackson&quot;  ... adjust;)\n@ConfigurationProperties(&quot;spring.jackson&quot;)\nJacksonProperties springJacksonProps() {\n  return new JacksonProperties();\n}\n\n@Bean\n@ConfigurationProperties(&quot;foo.jackson&quot;)\nJacksonProperties fooProps() {\n  return new JacksonProperties();\n}\n\n@Bean\n@ConfigurationProperties(&quot;bar.jackson&quot;)\nJacksonProperties barProps() {\n  return new JacksonProperties();\n}\n</code></pre>\n<p>we can already load and differentiate (full blown) config like:</p>\n<pre class=\"lang-properties prettyprint-override\"><code>spring.jackson.locale=en_US\nspring.jackson.time-zone=UTC\n# ... all of spring.jackson @see org.springframework.boot.autoconfigure.jackson.JacksonProperties\nfoo.jackson.locale=en_US\nfoo.jackson.time-zone=PST\n# ... just for demo purpose\nbar.jackson.locale=de_DE\nbar.jackson.time-zone=GMT+1\n</code></pre>\n<p>And also (no problem) pass them (props) to the according (static <code>[foo|bar]Mapper</code>) methods.... but then? (If you are good with it, you can stop reading here!:)</p>\n<p>Unfortunately the <a href=\"https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jackson/JacksonAutoConfiguration.java#L183-L341\" rel=\"nofollow noreferrer\">according (&quot;state of art&quot;) code</a> (to wire <code>JacksonProperties</code> with &quot;om builder&quot;) is not public (i.e. not extendable/pluggable).</p>\n<p>Instead the auto configuration provides (if none defined/<code>@ConditionalOnMissingBean</code>):</p>\n<ul>\n<li>a <em>prototype</em> <code>Jackson2ObjectMapperBuilder</code> bean, which (everytime when requested):\n<ul>\n<li>applies (i.e. receives) customization from all (known) <code>Jackson2ObjectMapperBuilderCustomizer</code> beans.</li>\n<li>of which <a href=\"https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jackson/JacksonAutoConfiguration.java#L183-L341\" rel=\"nofollow noreferrer\">one (auto configured, order(0), package private) is the &quot;standard&quot;</a> responsible for wiring (spring.jackson.* only) <code>JacksonProperties</code> to <code>Jackson2ObjectMapperBuilder</code>...</li>\n</ul>\n</li>\n</ul>\n<p>So the the simplest approach seems (up-to-date) to:</p>\n<ul>\n<li>steel/adopt <a href=\"https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jackson/JacksonAutoConfiguration.java#L183-L341\" rel=\"nofollow noreferrer\">the code</a> (not-/implementing <code>Jackson2ObjectMapperBuilderCustomizer</code>)</li>\n<li>construct (from &quot;stolen&quot; + properties) according builders/mappers, as see fit.</li>\n</ul>\n<p>e.g. (review+TEST before PROD!) non-interface, returns a <code>Jackson2ObjectMapperBuilder</code>, mimic the auto-configured, without applying (other) customizers/-ation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// ...\nimport com.fasterxml.jackson.databind.Module; // !! not java.lang.Module ;)\n// ...\nprivate static class MyStolenCustomizer {\n\n  private final JacksonProperties jacksonProperties;\n  private final Collection&lt;Module&gt; modules;\n  // additionally need/want this:\n  private final ApplicationContext applicationContext;\n  // copy/adopt from spring-boot:\n  private static final Map&lt;?, Boolean&gt; FEATURE_DEFAULTS = Map.of(\n      SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false,\n      SerializationFeature.WRITE_DURATIONS_AS_TIMESTAMPS, false\n  );\n\n  public MyStolenCustomizer(\n    ApplicationContext applicationContext,\n    JacksonProperties jacksonProperties,\n    Collection&lt;Module&gt; modules\n  ) {\n      this.applicationContext = applicationContext;\n      this.jacksonProperties = jacksonProperties;\n      this.modules = modules;\n  }\n  // changed method signature!!\n  public Jackson2ObjectMapperBuilder buildCustom() {\n    // mimic original (spring-boot) bean:\n    Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder();\n    builder.applicationContext(applicationContext);\n    // without (additional!) customizers:\n    if (this.jacksonProperties.getDefaultPropertyInclusion() != null) {\n      builder.serializationInclusion(this.jacksonProperties.getDefaultPropertyInclusion());\n    }\n    if (this.jacksonProperties.getTimeZone() != null) {\n      builder.timeZone(this.jacksonProperties.getTimeZone());\n    }\n    configureFeatures(builder, FEATURE_DEFAULTS);\n    configureVisibility(builder, this.jacksonProperties.getVisibility());\n    configureFeatures(builder, this.jacksonProperties.getDeserialization());\n    configureFeatures(builder, this.jacksonProperties.getSerialization());\n    configureFeatures(builder, this.jacksonProperties.getMapper());\n    configureFeatures(builder, this.jacksonProperties.getParser());\n    configureFeatures(builder, this.jacksonProperties.getGenerator());\n    configureDateFormat(builder);\n    configurePropertyNamingStrategy(builder);\n    configureModules(builder);\n    configureLocale(builder);\n    configureDefaultLeniency(builder);\n    configureConstructorDetector(builder);\n    // custom api:\n    return builder; // ..alternatively: builder.build();\n  }\n  // ... rest as in https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jackson/JacksonAutoConfiguration.java#L223-L341\n</code></pre>\n<p>To wire <code>modules</code>, we can (hopefully, as originally) rely on:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nObjectProvider&lt;com.fasterxml.jackson.databind.Module&gt; modules\n</code></pre>\n<p>To initialize them like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nMyStolenCustomizer fooCustomizer(ApplicationContext context, @Qualifier(&quot;fooProps&quot;) JacksonProperties fooProperties, ObjectProvider&lt;Module&gt; modules) {\n  return new MyStolenCustomizer(context, fooProperties, modules.stream().toList());\n}\n\n@Bean\nMyStolenCustomizer barCustomizer(ApplicationContext context, @Qualifier(&quot;barProps&quot;) JacksonProperties barProperties, ObjectProvider&lt;Module&gt; modules) {\n  return new MyStolenCustomizer(context, barProperties, modules.stream().toList());\n}\n</code></pre>\n<p>..and use them like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nMyWrapper&lt;String, Jackson2ObjectMapperBuilder&gt; myStr2OMBuilderWrapper(\n    @Qualifier(&quot;fooCustomizer&quot;) MyStolenCustomizer fooCustomizer,\n    @Qualifier(&quot;barCustomizer&quot;) MyStolenCustomizer barCustomizer) {\n  return new MyWrapper(\n      Map.of(\n          &quot;foo&quot;, fooCustomizer.buildCustom(),\n          &quot;bar&quot;, barCustomizer.buildCustom()\n      )\n  );\n}\n</code></pre>\n<p>...avoiding &quot;double customization&quot;/leaving <code>JacksonAutoConfiguration</code> enabled/intact/active.</p>\n<p>Problem: time/updates(/external code)!</p>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671636173,"creation_date":1671636173,"answer_id":74878212,"question_id":74874123,"body_markdown":"If you want just a default ObjectMapper to use, I wrote a small utility that has some static methods for serializing/deserializing JSON and it uses ObjectMapper inside. You don&#39;t have to inject any beans. just use the Util. Here is Javadoc for the [JsonUtils][1] class. It comes with the java Open Source MgntUtils library written and maintained by me. You can get it as [Maven artifacts][2] or in [Github][3].\r\n\r\n\r\n  [1]: http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/JsonUtils.html\r\n  [2]: https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\r\n  [3]: https://github.com/michaelgantman/Mgnt/releases","title":"How to add new ObjectMapper in Spring Boot project","body":"<p>If you want just a default ObjectMapper to use, I wrote a small utility that has some static methods for serializing/deserializing JSON and it uses ObjectMapper inside. You don't have to inject any beans. just use the Util. Here is Javadoc for the <a href=\"http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/JsonUtils.html\" rel=\"nofollow noreferrer\">JsonUtils</a> class. It comes with the java Open Source MgntUtils library written and maintained by me. You can get it as <a href=\"https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\" rel=\"nofollow noreferrer\">Maven artifacts</a> or in <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"nofollow noreferrer\">Github</a>.</p>\n"},{"tags":[],"owner":{"account_id":23416733,"reputation":31,"user_id":17477580,"display_name":"EverGrowing"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674385796,"creation_date":1674385796,"answer_id":75199928,"question_id":74874123,"body_markdown":"I, too, just faced a similar problem - I had already figured out how to make a new ObjectMapper bean, but I couldn&#39;t figure out, no matter what I did, how to keep that from Spring Boot&#39;s auto-configuration (so that it would continue to make the default one). In the end, I gave up and simply made the second bean (mimicking the default one), myself. I chose to name it, hopefully to avoid any collision, and to declare it @Primary, to be chosen as would have the default.\r\n\r\nIn either case, making an ObjectMapper is quite easy, as such:\r\n```\r\n\t@Bean(&quot;standardJsonObjectMapper&quot;) // named, though not necessary\r\n\t@org.springframework.context.annotation.Primary // mimic default\r\n\tpublic com.fasterxml.jackson.databind.ObjectMapper standardJsonObjectMapper() {\r\n\t\treturn\r\n\t\t\torg.springframework.http.converter.json.Jackson2ObjectMapperBuilder\r\n\t\t\t\t.json()\r\n\t\t\t\t.build();\r\n\t}\r\n```\r\nThat builder has MANY functions available for customization (like `failOnUnknownProperties(boolean)` and `featuresToEnable(Object...)`) - just choose the ones you want, and off you go!","title":"How to add new ObjectMapper in Spring Boot project","body":"<p>I, too, just faced a similar problem - I had already figured out how to make a new ObjectMapper bean, but I couldn't figure out, no matter what I did, how to keep that from Spring Boot's auto-configuration (so that it would continue to make the default one). In the end, I gave up and simply made the second bean (mimicking the default one), myself. I chose to name it, hopefully to avoid any collision, and to declare it @Primary, to be chosen as would have the default.</p>\n<p>In either case, making an ObjectMapper is quite easy, as such:</p>\n<pre><code>    @Bean(&quot;standardJsonObjectMapper&quot;) // named, though not necessary\n    @org.springframework.context.annotation.Primary // mimic default\n    public com.fasterxml.jackson.databind.ObjectMapper standardJsonObjectMapper() {\n        return\n            org.springframework.http.converter.json.Jackson2ObjectMapperBuilder\n                .json()\n                .build();\n    }\n</code></pre>\n<p>That builder has MANY functions available for customization (like <code>failOnUnknownProperties(boolean)</code> and <code>featuresToEnable(Object...)</code>) - just choose the ones you want, and off you go!</p>\n"},{"tags":[],"owner":{"account_id":5801273,"reputation":545,"user_id":4575369,"display_name":"Andriy Koretskyy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681383391,"creation_date":1681383391,"answer_id":76004596,"question_id":74874123,"body_markdown":"I guess the easiest and cleanest way is to create you own object mapper instead of default one, using spring-configured builder:\r\n\r\n    @Bean\r\n    fun objectMapper(builder: Jackson2ObjectMapperBuilder): ObjectMapper {\r\n        return builder.build()\r\n    }\r\n\r\n That will create an object mapper that is exactly the same as if it was created by Spring.","title":"How to add new ObjectMapper in Spring Boot project","body":"<p>I guess the easiest and cleanest way is to create you own object mapper instead of default one, using spring-configured builder:</p>\n<pre><code>@Bean\nfun objectMapper(builder: Jackson2ObjectMapperBuilder): ObjectMapper {\n    return builder.build()\n}\n</code></pre>\n<p>That will create an object mapper that is exactly the same as if it was created by Spring.</p>\n"}],"owner":{"account_id":3220345,"reputation":5564,"user_id":2717958,"accept_rate":57,"display_name":"Michal Krasny"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1480,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74876755,"answer_count":4,"score":2,"last_activity_date":1681383391,"creation_date":1671616294,"question_id":74874123,"body_markdown":"In my Spring Boot project I use a default Jackson ObjectMapper. I&#39;d like to add new ObjectMapper to the Spring Context and start using it at new places, but also keep the default one. Adding new @Bean definition will override the default ObjectMapper. How can I add new ObjectMapper Bean without overriding the former one?","title":"How to add new ObjectMapper in Spring Boot project","body":"<p>In my Spring Boot project I use a default Jackson ObjectMapper. I'd like to add new ObjectMapper to the Spring Context and start using it at new places, but also keep the default one. Adding new @Bean definition will override the default ObjectMapper. How can I add new ObjectMapper Bean without overriding the former one?</p>\n"},{"tags":["java","linux","swing","scaling","highdpi"],"comments":[{"owner":{"account_id":901672,"reputation":322,"user_id":937678,"display_name":"Miroslav"},"score":0,"creation_date":1612548804,"post_id":58699877,"comment_id":116810591,"body_markdown":"It looks like it is related to this issue: https://bugs.openjdk.java.net/browse/JDK-8260270","body":"It looks like it is related to this issue: <a href=\"https://bugs.openjdk.java.net/browse/JDK-8260270\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-8260270</a>"},{"owner":{"display_name":"user15801843"},"score":0,"creation_date":1632170636,"post_id":58699877,"comment_id":122416660,"body_markdown":"This is not a java problem. It is a problem of &quot;the&quot; linux display manager. I have also a high dpi display, that caused issues in the size of guis. Cos I only use xorg, I made it with `Xft.dpi: 140` in the `.Xresources` (xrandr did not work)     Former issues with hdpi should be solved https://openjdk.java.net/jeps/263","body":"This is not a java problem. It is a problem of &quot;the&quot; linux display manager. I have also a high dpi display, that caused issues in the size of guis. Cos I only use xorg, I made it with <code>Xft.dpi: 140</code> in the <code>.Xresources</code> (xrandr did not work)     Former issues with hdpi should be solved <a href=\"https://openjdk.java.net/jeps/263\" rel=\"nofollow noreferrer\">openjdk.java.net/jeps/263</a>"},{"owner":{"account_id":1367769,"reputation":3933,"user_id":1303846,"display_name":"Remember Monica"},"score":0,"creation_date":1658561992,"post_id":58699877,"comment_id":129086420,"body_markdown":"It is a java problem -  I have yet to see a java program that reacts to Xft.dpi, while almost every other application does the right thing with it.","body":"It is a java problem -  I have yet to see a java program that reacts to Xft.dpi, while almost every other application does the right thing with it."}],"answers":[{"comments":[{"owner":{"account_id":13878826,"reputation":868,"user_id":10019687,"display_name":"Pruthvi Kumar"},"score":0,"creation_date":1576022225,"post_id":59276878,"comment_id":104760999,"body_markdown":"Regardless of this helping answer the question, please provide more context on what this does and how this solves the problem at hand. Simply posting a piece of code without explanation will create more confusion.","body":"Regardless of this helping answer the question, please provide more context on what this does and how this solves the problem at hand. Simply posting a piece of code without explanation will create more confusion."},{"owner":{"account_id":15085211,"reputation":112,"user_id":10886686,"display_name":"Alessio Moraschini"},"score":0,"creation_date":1576097345,"post_id":59276878,"comment_id":104792311,"body_markdown":"Sorry, my fault. I&#39;ve added a description with link to Oracle documentation, thanks for the advice :)","body":"Sorry, my fault. I&#39;ve added a description with link to Oracle documentation, thanks for the advice :)"},{"owner":{"account_id":13878826,"reputation":868,"user_id":10019687,"display_name":"Pruthvi Kumar"},"score":0,"creation_date":1576097513,"post_id":59276878,"comment_id":104792392,"body_markdown":"Nice. Thank you!","body":"Nice. Thank you!"},{"owner":{"account_id":901672,"reputation":322,"user_id":937678,"display_name":"Miroslav"},"score":1,"creation_date":1612533401,"post_id":59276878,"comment_id":116803779,"body_markdown":"This does not work for me, unfortunately.","body":"This does not work for me, unfortunately."},{"owner":{"account_id":9348686,"reputation":764,"user_id":6944068,"accept_rate":100,"display_name":"toolforger"},"score":2,"creation_date":1628160170,"post_id":59276878,"comment_id":121349120,"body_markdown":"This refers to Java 7 documentation, which is not applicable to the situation the question is about.","body":"This refers to Java 7 documentation, which is not applicable to the situation the question is about."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1666795232,"post_id":59276878,"comment_id":131020999,"body_markdown":"DirectDraw/Direct3D are Windows-specific things, so this won&#39;t work on Linux (the option is also listed under _&quot;System Properties for Microsoft Windows Platforms&quot;_).","body":"DirectDraw/Direct3D are Windows-specific things, so this won&#39;t work on Linux (the option is also listed under <i>&quot;System Properties for Microsoft Windows Platforms&quot;</i>)."}],"tags":[],"owner":{"account_id":15085211,"reputation":112,"user_id":10886686,"display_name":"Alessio Moraschini"},"comment_count":6,"down_vote_count":5,"up_vote_count":1,"is_accepted":false,"score":-4,"last_activity_date":1650990510,"creation_date":1576020798,"answer_id":59276878,"question_id":58699877,"body_markdown":"You can try this one:\r\n\r\n    -Dsun.java2d.ddscale=true\r\n\r\nAs the official documentation says:\r\n\r\n&gt; Setting this flag to true enables hardware-accelerated scaling if the DirectDraw/Direct3D pipeline is in use. DirectDraw/Direct3D hardware scaling is disabled by default to avoid rendering artifacts in existing applications.\r\n\r\nFor more information, you can see the official [Oracle documentation about system properties][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/technotes/guides/2d/flags.html","title":"How to fix scaling of a Java-based application on a high DPI display in Linux?","body":"<p>You can try this one:</p>\n<pre><code>-Dsun.java2d.ddscale=true\n</code></pre>\n<p>As the official documentation says:</p>\n<blockquote>\n<p>Setting this flag to true enables hardware-accelerated scaling if the DirectDraw/Direct3D pipeline is in use. DirectDraw/Direct3D hardware scaling is disabled by default to avoid rendering artifacts in existing applications.</p>\n</blockquote>\n<p>For more information, you can see the official <a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/2d/flags.html\" rel=\"nofollow noreferrer\">Oracle documentation about system properties</a>.</p>\n"},{"tags":[],"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664120357,"creation_date":1664107768,"answer_id":73844377,"question_id":58699877,"body_markdown":"Outside of a set of pre made scales and math scaling for all gui components, you could use borderlayout to size components and gridbaglayout to position components then only fonts and images require math resize.\r\n\r\ngraphicsdevice and graphicsenvironment classes\r\nRe: java.awt.GraphicsConfiguration. getBounds()","title":"How to fix scaling of a Java-based application on a high DPI display in Linux?","body":"<p>Outside of a set of pre made scales and math scaling for all gui components, you could use borderlayout to size components and gridbaglayout to position components then only fonts and images require math resize.</p>\n<p>graphicsdevice and graphicsenvironment classes\nRe: java.awt.GraphicsConfiguration. getBounds()</p>\n"},{"comments":[{"owner":{"account_id":424655,"reputation":383,"user_id":804766,"display_name":"richardeigenmann"},"score":0,"creation_date":1694450972,"post_id":75908659,"comment_id":135889637,"body_markdown":"Can you please elaborate on your answer? As far as I can tell, JHiccup refers to a project that tracks stalls in a running Java application. I see nothing that refers to screen scaling there, as useful as that might be.","body":"Can you please elaborate on your answer? As far as I can tell, JHiccup refers to a project that tracks stalls in a running Java application. I see nothing that refers to screen scaling there, as useful as that might be."}],"tags":[],"owner":{"account_id":19800341,"reputation":26,"user_id":14501508,"display_name":"tanviranindo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680380668,"creation_date":1680380668,"answer_id":75908659,"question_id":58699877,"body_markdown":"You can use third party tool named [**jHiccup**](https://github.com/giltene/jHiccup). It can automatically detects the scaling value of the system. Then, using it you can fix the GUI.\r\n\r\nFor example, \r\n\r\n___To get the scaling value___\r\n\r\n    double dpiScaling = Toolkit.getDefaultToolkit().getScreenResolution() / 96.0;\r\n\r\n___Set the scaling factor___\r\n\r\n    JHiccup.setScaleFactor(dpiScaling);\r\n\r\nYou can check out the **jHiccup**&#39;s documentation.\r\n\r\nReference - [https://docs.azul.com/prime/jHiccup][1]\r\n\r\n\r\n  [1]: https://docs.azul.com/prime/jHiccup\r\n\r\n","title":"How to fix scaling of a Java-based application on a high DPI display in Linux?","body":"<p>You can use third party tool named <a href=\"https://github.com/giltene/jHiccup\" rel=\"nofollow noreferrer\"><strong>jHiccup</strong></a>. It can automatically detects the scaling value of the system. Then, using it you can fix the GUI.</p>\n<p>For example,</p>\n<p><em><strong>To get the scaling value</strong></em></p>\n<pre><code>double dpiScaling = Toolkit.getDefaultToolkit().getScreenResolution() / 96.0;\n</code></pre>\n<p><em><strong>Set the scaling factor</strong></em></p>\n<pre><code>JHiccup.setScaleFactor(dpiScaling);\n</code></pre>\n<p>You can check out the <strong>jHiccup</strong>'s documentation.</p>\n<p>Reference - <a href=\"https://docs.azul.com/prime/jHiccup\" rel=\"nofollow noreferrer\">https://docs.azul.com/prime/jHiccup</a></p>\n"}],"owner":{"account_id":2898761,"reputation":331,"user_id":2485979,"display_name":"Sergio"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19778,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"answer_count":3,"score":26,"last_activity_date":1681383147,"creation_date":1572895693,"question_id":58699877,"body_markdown":"I just switched to Java 11 (AdoptOpenJDK) so that my Java Swing application looks OK on high DPI displays at different system scaling settings.\r\n\r\nIt works OK on Windows. Regardless of the scaling value configured on the system, Java automatically detects it and uses it to scale the GUI accordingly.\r\n\r\nHowever, on Linux the GUI does not consider the system scaling, and thus, it looks tiny on high-DPI displays.\r\n\r\nAfter reading some posts here, I found I can indicate Java what scaling value to use. For example, if system scaling is 200%, then I can add the following command line argument to the java command used to launch the application.\r\n\r\n```-Dsun.java2d.uiScale=2.0```\r\n\r\nThe GUI looks fine on Linux when I add the above command line option.\r\n\r\nI also read I can set the GDK_SCALE environment variable.\r\n\r\nHowever, I&#39;d like to find a better solution. Ideally, one where I don&#39;t need to specify the scaling value to use. Does anybody know if this is possible?\r\n\r\nIf the above is not possible, then I guess my next step will be to come up with a command in Linux that returns what the current system scaling value is and use it to set the ``sun.java2d.uiScale`` option. \r\n\r\n","title":"How to fix scaling of a Java-based application on a high DPI display in Linux?","body":"<p>I just switched to Java 11 (AdoptOpenJDK) so that my Java Swing application looks OK on high DPI displays at different system scaling settings.</p>\n<p>It works OK on Windows. Regardless of the scaling value configured on the system, Java automatically detects it and uses it to scale the GUI accordingly.</p>\n<p>However, on Linux the GUI does not consider the system scaling, and thus, it looks tiny on high-DPI displays.</p>\n<p>After reading some posts here, I found I can indicate Java what scaling value to use. For example, if system scaling is 200%, then I can add the following command line argument to the java command used to launch the application.</p>\n<p><code>-Dsun.java2d.uiScale=2.0</code></p>\n<p>The GUI looks fine on Linux when I add the above command line option.</p>\n<p>I also read I can set the GDK_SCALE environment variable.</p>\n<p>However, I'd like to find a better solution. Ideally, one where I don't need to specify the scaling value to use. Does anybody know if this is possible?</p>\n<p>If the above is not possible, then I guess my next step will be to come up with a command in Linux that returns what the current system scaling value is and use it to set the <code>sun.java2d.uiScale</code> option.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":11750851,"reputation":361,"user_id":8600103,"display_name":"Glim"},"score":0,"creation_date":1524750844,"post_id":50044777,"comment_id":87105809,"body_markdown":"you already tried to use contructor?","body":"you already tried to use contructor?"},{"owner":{"account_id":316230,"reputation":4519,"user_id":632293,"display_name":"jediz"},"score":0,"creation_date":1524750868,"post_id":50044777,"comment_id":87105833,"body_markdown":"Possible duplicate of [Spring value injection unable to get value from properties](https://stackoverflow.com/questions/48545498/spring-value-injection-unable-to-get-value-from-properties)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/48545498/spring-value-injection-unable-to-get-value-from-properties\">Spring value injection unable to get value from properties</a>"},{"owner":{"account_id":1379003,"reputation":1405,"user_id":1312410,"display_name":"Vasily Komarov"},"score":1,"creation_date":1524750997,"post_id":50044777,"comment_id":87105945,"body_markdown":"&quot;private&quot; setter is not a setter. \nchange &quot;private&quot; to &quot;public&quot; and let Spring do it job","body":"&quot;private&quot; setter is not a setter.  change &quot;private&quot; to &quot;public&quot; and let Spring do it job"}],"answers":[{"comments":[{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1681724504,"post_id":50044858,"comment_id":134097180,"body_markdown":"Okay so the catch here was the missing `@Autowired` annotation on the setter.","body":"Okay so the catch here was the missing <code>@Autowired</code> annotation on the setter."}],"tags":[],"owner":{"account_id":7748730,"reputation":1941,"user_id":8027026,"display_name":"Paul Benn"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1524750888,"creation_date":1524750888,"answer_id":50044858,"question_id":50044777,"body_markdown":"Assuming `DateService` has just one constructor, you can just use constructor injection instead:\r\n\r\n    @Service\r\n    public class DateService {\r\n        private DateTimeFormatter dtf;\r\n    \r\n        @Autowired\r\n        public DateService(@Value(&quot;${spring.jackson.date-format}&quot;) final String format) {\r\n            this.dtf = DateTimeFormatter.ofPattern(format);\r\n        }\r\n    }","title":"How to inject @Value into a setter?","body":"<p>Assuming <code>DateService</code> has just one constructor, you can just use constructor injection instead:</p>\n\n<pre><code>@Service\npublic class DateService {\n    private DateTimeFormatter dtf;\n\n    @Autowired\n    public DateService(@Value(\"${spring.jackson.date-format}\") final String format) {\n        this.dtf = DateTimeFormatter.ofPattern(format);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14420242,"reputation":123,"user_id":10416462,"display_name":"Sxc-Dev"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1667349859,"creation_date":1667349859,"answer_id":74283243,"question_id":50044777,"body_markdown":"Adding @Autowired to setter should work.\r\n \r\n \r\n\r\n      @Service\r\n        public class DateService {\r\n            private DateTimeFormatter dtf;\r\n        \r\n            @Autowired\r\n            public void setDtf(@Value(&quot;${spring.jackson.date-format}&quot;) String format) {\r\n                dtf = DateTimeFormatter.ofPattern(format);\r\n            }\r\n        }","title":"How to inject @Value into a setter?","body":"<p>Adding @Autowired to setter should work.</p>\n<pre><code>  @Service\n    public class DateService {\n        private DateTimeFormatter dtf;\n    \n        @Autowired\n        public void setDtf(@Value(&quot;${spring.jackson.date-format}&quot;) String format) {\n            dtf = DateTimeFormatter.ofPattern(format);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11995123,"reputation":33,"user_id":8786166,"display_name":"OneOfSmartFellow"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681380525,"creation_date":1681380525,"answer_id":76004204,"question_id":50044777,"body_markdown":"i don&#39;t know why [@sxc-dev](https://stackoverflow.com/users/10416462/sxc-dev) answer is down voted cause it is better the using constructor if you can&#39;t for some reasons and it IS working. \r\n```java\r\n @Service\r\n public class DateService {\r\n        private DateTimeFormatter dtf;\r\n    \r\n        @Autowired\r\n        public void setDtf(@Value(&quot;${spring.jackson.date-format}&quot;) String format) {\r\n            dtf = DateTimeFormatter.ofPattern(format);\r\n        }\r\n    }\r\n```\r\n\r\nalso that solution works too\r\n\r\n```java\r\n@Service\r\npublic class DateService {\r\n        private DateTimeFormatter dtf;\r\n    \r\n        @Value(&quot;${spring.jackson.date-format}&quot;)\r\n        public void setDtf(String format) {\r\n            dtf = DateTimeFormatter.ofPattern(format);\r\n        }\r\n}\r\n```\r\n\r\nits very useful way if you have lombok and other services to inject\r\n```java\r\n@Service\r\n@RequiredArgConstructor\r\npublic class DateService {\r\n        private final SomeService someService;\r\n        private DateTimeFormatter dtf;\r\n    \r\n        @Value(&quot;${spring.jackson.date-format}&quot;)\r\n        public void setDtf(String format) {\r\n            dtf = DateTimeFormatter.ofPattern(format);\r\n        }\r\n}\r\n```","title":"How to inject @Value into a setter?","body":"<p>i don't know why <a href=\"https://stackoverflow.com/users/10416462/sxc-dev\">@sxc-dev</a> answer is down voted cause it is better the using constructor if you can't for some reasons and it IS working.</p>\n<pre class=\"lang-java prettyprint-override\"><code> @Service\n public class DateService {\n        private DateTimeFormatter dtf;\n    \n        @Autowired\n        public void setDtf(@Value(&quot;${spring.jackson.date-format}&quot;) String format) {\n            dtf = DateTimeFormatter.ofPattern(format);\n        }\n    }\n</code></pre>\n<p>also that solution works too</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class DateService {\n        private DateTimeFormatter dtf;\n    \n        @Value(&quot;${spring.jackson.date-format}&quot;)\n        public void setDtf(String format) {\n            dtf = DateTimeFormatter.ofPattern(format);\n        }\n}\n</code></pre>\n<p>its very useful way if you have lombok and other services to inject</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@RequiredArgConstructor\npublic class DateService {\n        private final SomeService someService;\n        private DateTimeFormatter dtf;\n    \n        @Value(&quot;${spring.jackson.date-format}&quot;)\n        public void setDtf(String format) {\n            dtf = DateTimeFormatter.ofPattern(format);\n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681383040,"creation_date":1681383040,"answer_id":76004549,"question_id":50044777,"body_markdown":"How about add your @Value annotation not on setter method but just over member declaration? This should work\r\n\r\n    @Service\r\n    public class DateService {\r\n        @Value(&quot;${spring.jackson.date-format}&quot;)\r\n        private DateTimeFormatter dtf;\r\n    \r\n        public void setDtf(String format) {\r\n            dtf = DateTimeFormatter.ofPattern(format);\r\n        }\r\n    }\r\n\r\nYou probably don&#39;t even need a setter method at all unless you explicitly use it\r\n","title":"How to inject @Value into a setter?","body":"<p>How about add your @Value annotation not on setter method but just over member declaration? This should work</p>\n<pre><code>@Service\npublic class DateService {\n    @Value(&quot;${spring.jackson.date-format}&quot;)\n    private DateTimeFormatter dtf;\n\n    public void setDtf(String format) {\n        dtf = DateTimeFormatter.ofPattern(format);\n    }\n}\n</code></pre>\n<p>You probably don't even need a setter method at all unless you explicitly use it</p>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3808,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":50044858,"answer_count":4,"score":1,"last_activity_date":1681383040,"creation_date":1524750670,"question_id":50044777,"body_markdown":"Is it possible to inject a `@Value` property into a setter of a `@Service`?\r\n\r\n    @Service\r\n    public class DateService {\r\n    \tprivate DateTimeFormatter dtf;\r\n    \r\n    \tpublic void setDtf(@Value(&quot;${spring.jackson.date-format}&quot;) String format) {\r\n    \t\tdtf = DateTimeFormatter.ofPattern(format);\r\n    \t}\r\n    }\r\n\r\nProblem: the setter is never invoked. But how can I inject a `String` property and directly instantiate the `DateTimeFormatter` from it?\r\n\r\nI also tried using `SpEL`, but the following format is not correct.\r\n\r\n    @Value(&quot;#{T(java.time.format.DateTimeFormatter.ofPattern(${spring.jackson.date-format}))}&quot;)\r\n    private DateTimeFormatter dtf;","title":"How to inject @Value into a setter?","body":"<p>Is it possible to inject a <code>@Value</code> property into a setter of a <code>@Service</code>?</p>\n\n<pre><code>@Service\npublic class DateService {\n    private DateTimeFormatter dtf;\n\n    public void setDtf(@Value(\"${spring.jackson.date-format}\") String format) {\n        dtf = DateTimeFormatter.ofPattern(format);\n    }\n}\n</code></pre>\n\n<p>Problem: the setter is never invoked. But how can I inject a <code>String</code> property and directly instantiate the <code>DateTimeFormatter</code> from it?</p>\n\n<p>I also tried using <code>SpEL</code>, but the following format is not correct.</p>\n\n<pre><code>@Value(\"#{T(java.time.format.DateTimeFormatter.ofPattern(${spring.jackson.date-format}))}\")\nprivate DateTimeFormatter dtf;\n</code></pre>\n"},{"tags":["java","apache-tomee","jakarta-migration"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1681376404,"post_id":76003531,"comment_id":134047308,"body_markdown":"You need to replace everything that still uses `javax.*` with the equivalent from `jakarta.*`.","body":"You need to replace everything that still uses <code>javax.*</code> with the equivalent from <code>jakarta.*</code>."},{"owner":{"account_id":7495825,"reputation":504,"user_id":5696129,"accept_rate":43,"display_name":"Nephilim"},"score":0,"creation_date":1681376606,"post_id":76003531,"comment_id":134047376,"body_markdown":"@MarkRotteveel I have done this (with IntelliJ&#39;s tool), but got a lot of exceptions, when it came to JaxRS, because it was still using javax Responses in its own code. Same with Auth0, which is using javax.servlet not the jakarta servlet.","body":"@MarkRotteveel I have done this (with IntelliJ&#39;s tool), but got a lot of exceptions, when it came to JaxRS, because it was still using javax Responses in its own code. Same with Auth0, which is using javax.servlet not the jakarta servlet."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1681377075,"post_id":76003531,"comment_id":134047492,"body_markdown":"Well, then you need to either find new libraries, ask the vendors of those libraries to supply a Jakarta EE 9+ version, or fork those libraries (or use a byte code rewriter) to change them to use the `jakarta.*` namespace (basically, Jakarta EE 9.0 is Java EE 8 with the namespace changed from `javax.*` to `jakarta.*`)","body":"Well, then you need to either find new libraries, ask the vendors of those libraries to supply a Jakarta EE 9+ version, or fork those libraries (or use a byte code rewriter) to change them to use the <code>jakarta.*</code> namespace (basically, Jakarta EE 9.0 is Java EE 8 with the namespace changed from <code>javax.*</code> to <code>jakarta.*</code>)"}],"answers":[{"comments":[{"owner":{"account_id":7495825,"reputation":504,"user_id":5696129,"accept_rate":43,"display_name":"Nephilim"},"score":1,"creation_date":1681377037,"post_id":76003669,"comment_id":134047484,"body_markdown":"&gt; You need to stick with EE8 (= TomEe 8.0.x) or migrate your app and its dependencies to the Jakarta namespace. Adding javax dependencies to TomEE 9 won&#39;t work.\n\nGood lord, so that&#39;s probably not happening due to critical libraries that weren&#39;t ported. That&#39;s depressing.","body":"&gt; You need to stick with EE8 (= TomEe 8.0.x) or migrate your app and its dependencies to the Jakarta namespace. Adding javax dependencies to TomEE 9 won&#39;t work.  Good lord, so that&#39;s probably not happening due to critical libraries that weren&#39;t ported. That&#39;s depressing."},{"owner":{"account_id":5701984,"reputation":5646,"user_id":4506678,"accept_rate":55,"display_name":"rzo1"},"score":0,"creation_date":1682174645,"post_id":76003669,"comment_id":134175567,"body_markdown":"There are some approaches to port related libraries to Jakarta :-)","body":"There are some approaches to port related libraries to Jakarta :-)"}],"tags":[],"owner":{"account_id":25889665,"reputation":60,"user_id":19617261,"display_name":"Peter Mulm"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1681376877,"creation_date":1681376877,"answer_id":76003669,"question_id":76003531,"body_markdown":"The new Tomee9 won&#39;t support the old javax.\r\n\r\nYou have to change all libraries to jakarta or stay on Tomee8.\r\n\r\nPlease look here:\r\n\r\nhttps://stackoverflow.com/questions/75680662/tomee-upgrade-from-8-0-13-to-9-0-0-spring-application-caused-by-java-lang-noc\r\n\r\nIt&#39;s similar to yours.","title":"Migrating from Java8 EE Tomee8 to Java11+ Tomee9","body":"<p>The new Tomee9 won't support the old javax.</p>\n<p>You have to change all libraries to jakarta or stay on Tomee8.</p>\n<p>Please look here:</p>\n<p><a href=\"https://stackoverflow.com/questions/75680662/tomee-upgrade-from-8-0-13-to-9-0-0-spring-application-caused-by-java-lang-noc\">TomEE upgrade from 8.0.13 to 9.0.0 spring application : Caused by: java.lang.NoClassDefFoundError: javax/servlet/jsp/tagext/TryCatchFinally</a></p>\n<p>It's similar to yours.</p>\n"}],"owner":{"account_id":7495825,"reputation":504,"user_id":5696129,"accept_rate":43,"display_name":"Nephilim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":588,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76003669,"answer_count":1,"score":0,"last_activity_date":1681381972,"creation_date":1681376063,"question_id":76003531,"body_markdown":"I&#39;ve run into a brick wall with this. \r\n\r\nWhat I&#39;m trying to do here, is migrate to Adoptium 17 JDK with Tomee9. Tomee9 here is relevant because otherwise I&#39;d just be using javaEE libraries with a newer JDK target and call it a day. However, due to class names mismatching (mainly EJB interceptors), I get ClassNotFound exceptions when trying to deploy my WAR. \r\n\r\nMy app relies pretty heavily on old JavaEE code. I&#39;m talking Ejb for injects, javax.ws.rs for webclients, javax.servlets, etc. The ejb migration was painless. Just had to swap the namespace and that was it. A few others required a dependency such as jakarta mail. \r\n\r\nSo one of the first things I did when trying to migrate, replaced the tomEE javaEE (so javaEE-api) with \r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tomee&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakartaee-api&lt;/artifactId&gt;\r\n            &lt;version&gt;10.0-M1&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\nThis immediately caused issues, which makes sense. Red everywhere due to missing deps. I used the IntelliJ refactor tool, which replaces all Javax namespaces with Jakarta. \r\n\r\nHowever, that&#39;s when I realized plenty of my libraries were still using Javax namespaces. To name a few, Auth0:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.auth0&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mvc-auth-commons&lt;/artifactId&gt;\r\n            &lt;version&gt;1.9.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nIs relying on Javax servlets and Javax HTTP requests. Adding:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.ws.rs&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.ws.rs-api&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n\r\nhad no effect, I think I still need my old:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nIn any case, I&#39;ve ended up in a goose chase of dependency hell (this is a pretty massive and old project), and I&#39;m starting to second guess if my approach is the correct one.\r\n\r\nShould I be importing the &quot;necessary&quot; Javax dependencies right back, next to the Jakarta ones? Is there a simple way to avoid all this pain? The libraries I&#39;m using don&#39;t seem to care about Jakarta, and it&#39;s not really an option to go manually upgrade a bunch of them due to the number of regressions it might cause.\r\n\r\nThe ones on here have been easy to migrate:\r\nhttps://blogs.oracle.com/javamagazine/post/transition-from-java-ee-to-jakarta-ee \r\nhttps://foojay.io/today/migrating-from-java-ee-to-jakarta-ee-with-intellij-idea/\r\n\r\nMeanwhile, some dependencies that kinda ship their own, or at least don&#39;t have a Jakarta version just don&#39;t seem to work:\r\n\r\nhttps://github.com/auth0/auth0-java-mvc-common/issues/97\r\n\r\n\r\nNow I know you guys hate general questions, and I&#39;m bound to get so much negative engagement here, but this is eating me alive. I sadly need general guidance on how to do this. Am I really supposed to (I will probably just give up instead) port these deps, 1 by 1, hope newer versions fix it. And if there isn&#39;t, just do something else. \r\n\r\n\r\nMixing some Javax (namely servlet, ws rs client) and some Jakarta (mail, faces etc.) seems like a bad idea, but it&#39;s the only way I got it to even compile, while during the run time I get errors such as these:\r\n\r\n    13-Apr-2023 08:46:59.789 SEVERE [http-nio-8080-exec-4] org.apache.openejb.core.transaction.EjbTransactionUtil.handleSystemException EjbTransactionUtil.handleSystemException: java.lang.IllegalStateException: Error starting child\r\n\torg.apache.openejb.OpenEJBRuntimeException: java.lang.IllegalStateException: Error starting child\r\n\t\tat org.apache.tomee.catalina.deployment.TomcatWebappDeployer.deploy(TomcatWebappDeployer.java:58)\r\n\t\tat org.apache.openejb.assembler.DeployerEjb.deploy(DeployerEjb.java:177)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\t\tat org.apache.openejb.core.interceptor.ReflectionInvocationContext$Invocation.invoke(ReflectionInvocationContext.java:211)\r\n\t\tat org.apache.openejb.core.interceptor.ReflectionInvocationContext.proceed(ReflectionInvocationContext.java:192)\r\n\t\tat org.apache.openejb.security.internal.InternalSecurityInterceptor.invoke(InternalSecurityInterceptor.java:35)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\t\tat org.apache.openejb.core.interceptor.ReflectionInvocationContext$Invocation.invoke(ReflectionInvocationContext.java:211)\r\n\t\tat org.apache.openejb.core.interceptor.ReflectionInvocationContext.proceed(ReflectionInvocationContext.java:192)\r\n\t\tat org.apache.openejb.monitoring.StatsInterceptor.record(StatsInterceptor.java:191)\r\n\t\tat org.apache.openejb.monitoring.StatsInterceptor.invoke(StatsInterceptor.java:101)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\t\tat org.apache.openejb.core.interceptor.ReflectionInvocationContext$Invocation.invoke(ReflectionInvocationContext.java:211)\r\n\t\tat org.apache.openejb.core.interceptor.ReflectionInvocationContext.proceed(ReflectionInvocationContext.java:192)\r\n\t\tat org.apache.openejb.core.interceptor.InterceptorStack.invoke(InterceptorStack.java:95)\r\n\t\tat org.apache.openejb.core.singleton.SingletonContainer._invoke(SingletonContainer.java:272)\r\n\t\tat org.apache.openejb.core.singleton.SingletonContainer.invoke(SingletonContainer.java:221)\r\n\t\tat org.apache.openejb.server.ejbd.EjbRequestHandler.doEjbObject_BUSINESS_METHOD(EjbRequestHandler.java:371)\r\n\t\tat org.apache.openejb.server.ejbd.EjbRequestHandler.processRequest(EjbRequestHandler.java:182)\r\n\t\tat org.apache.openejb.server.ejbd.EjbDaemon.processEjbRequest(EjbDaemon.java:360)\r\n\t\tat org.apache.openejb.server.ejbd.EjbDaemon.service(EjbDaemon.java:247)\r\n\t\tat org.apache.openejb.server.ejbd.EjbServer.service(EjbServer.java:104)\r\n\t\tat org.apache.openejb.server.httpd.ServerServlet.service(ServerServlet.java:60)\r\n\t\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:587)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n\t\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n\t\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\t\tat org.apache.tomee.catalina.OpenEJBValve.invoke(OpenEJBValve.java:45)\r\n\t\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\r\n\t\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\t\tat org.apache.tomee.catalina.OpenEJBSecurityListener$RequestCapturer.invoke(OpenEJBSecurityListener.java:97)\r\n\t\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:690)\r\n\t\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\t\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:356)\r\n\t\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\t\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\t\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:870)\r\n\t\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1762)\r\n\t\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\t\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\t\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\tCaused by: java.lang.IllegalStateException: Error starting child\r\n\t\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:729)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\r\n\t\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:747)\r\n\t\tat org.apache.tomee.catalina.TomcatWebAppBuilder.deployWar(TomcatWebAppBuilder.java:687)\r\n\t\tat org.apache.tomee.catalina.TomcatWebAppBuilder.deployWebApps(TomcatWebAppBuilder.java:616)\r\n\t\tat org.apache.tomee.catalina.deployment.TomcatWebappDeployer.deploy(TomcatWebappDeployer.java:47)\r\n\t\t... 52 more\r\n\tCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/gtms-vps-0.0.0]]\r\n\t\tat org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\r\n\t\t... 57 more\r\n\tCaused by: java.lang.NoClassDefFoundError: javax/ws/rs/ext/MessageBodyReader\r\n\r\n\r\nNotice the no class def found error at the end. This is probably due to me still using javax classes. \r\n\r\nSoon as I get rid of this one (although I&#39;m not sure if it&#39;s just a coincidence), there&#39;s a similar error:\r\n\r\n        13-Apr-2023 08:54:49.696 SEVERE [http-nio-8080-exec-4] org.apache.openejb.cdi.OpenEJBLifecycle.startApplication CDI Beans module deployment failed\r\n        \torg.apache.webbeans.exception.WebBeansConfigurationException: Error while sending SystemEvent to a CDI Extension! org.apache.webbeans.portable.events.generics.GProcessAnnotatedType@48a3e14f\r\n        \t\tat org.apache.webbeans.event.NotificationManager.onWebBeansException(NotificationManager.java:1079)\r\n        \t\tat org.apache.webbeans.event.NotificationManager.doFireSync(NotificationManager.java:1026)\r\n        \t\tat org.apache.openejb.core.interceptor.ReflectionInvocationContext$Invocation.invoke(ReflectionInvocationContext.java:211)\r\n        \t\tat org.apache.openejb.core.interceptor.ReflectionInvocationContext.proceed(ReflectionInvocationContext.java:192)\r\n        \t\tat org.apache.openejb.security.internal.InternalSecurityInterceptor.invoke(InternalSecurityInterceptor.java:35)\r\n        \t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        \t\tat \r\n    org.apache.webbeans.exception.WebBeansConfigurationException: Error while sending SystemEvent to a CDI Extension! org.apache.webbeans.portable.events.generics.GProcessAnnotatedType@48a3e14f\r\n        \t\tat org.apache.webbeans.event.NotificationManager.onWebBeansException(NotificationManager.java:1079)\r\n        \t\tat org.apache.webbeans.event.NotificationManager.doFireSync(NotificationManager.java:1026)\r\n        \t\tat org.apache.webbeans.event.NotificationManager.doFireEvent(NotificationManager.java:952)\r\n        \t\tat org.apache.webbeans.event.NotificationManager.fireEvent(NotificationManager.java:928)\r\n    \t\tat org.apache.webbeans.container.BeanManagerImpl.fireEvent(BeanManagerImpl.java:495)\r\n    \t\tat org.apache.webbeans.container.BeanManagerImpl.fireEvent(BeanManagerImpl.java:469)\r\n    \t\tat org.apache.webbeans.util.WebBeansUtil.fireProcessAnnotatedTypeEvent(WebBeansUtil.java:741)\r\n    \t\tat org.apache.webbeans.config.BeansDeployer.annotatedTypesFromBdaClassPath(BeansDeployer.java:1402)\r\n    \t\tat org.apache.webbeans.config.BeansDeployer.annotatedTypesFromClassPath(BeansDeployer.java:1316)\r\n    \t\tat org.apache.webbeans.config.BeansDeployer.deploy(BeansDeployer.java:249)\r\n    \t\tat org.apache.openejb.cdi.OpenEJBLifecycle.startApplication(OpenEJBLifecycle.java:196)\r\n    \t\t... 68 more\r\n    \tCaused by: org.apache.webbeans.exception.WebBeansException: java.lang.NoClassDefFoundError: javax/interceptor/InvocationContext\r\n    \t\tat org.apache.webbeans.event.ObserverMethodImpl.notify(ObserverMethodImpl.java:377)\r\n    \t\tat org.apache.webbeans.event.NotificationManager.invokeObserverMethod(NotificationManager.java:1146)\r\n    \t\tat org.apache.webbeans.event.NotificationManager.doFireSync(NotificationManager.java:1009)\r\n    \t\t... 77 more\r\n    \tCaused by: java.lang.NoClassDefFoundError: javax/interceptor/InvocationContext\r\n\r\n","title":"Migrating from Java8 EE Tomee8 to Java11+ Tomee9","body":"<p>I've run into a brick wall with this.</p>\n<p>What I'm trying to do here, is migrate to Adoptium 17 JDK with Tomee9. Tomee9 here is relevant because otherwise I'd just be using javaEE libraries with a newer JDK target and call it a day. However, due to class names mismatching (mainly EJB interceptors), I get ClassNotFound exceptions when trying to deploy my WAR.</p>\n<p>My app relies pretty heavily on old JavaEE code. I'm talking Ejb for injects, javax.ws.rs for webclients, javax.servlets, etc. The ejb migration was painless. Just had to swap the namespace and that was it. A few others required a dependency such as jakarta mail.</p>\n<p>So one of the first things I did when trying to migrate, replaced the tomEE javaEE (so javaEE-api) with</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomee&lt;/groupId&gt;\n        &lt;artifactId&gt;jakartaee-api&lt;/artifactId&gt;\n        &lt;version&gt;10.0-M1&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>This immediately caused issues, which makes sense. Red everywhere due to missing deps. I used the IntelliJ refactor tool, which replaces all Javax namespaces with Jakarta.</p>\n<p>However, that's when I realized plenty of my libraries were still using Javax namespaces. To name a few, Auth0:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.auth0&lt;/groupId&gt;\n        &lt;artifactId&gt;mvc-auth-commons&lt;/artifactId&gt;\n        &lt;version&gt;1.9.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Is relying on Javax servlets and Javax HTTP requests. Adding:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.ws.rs&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.ws.rs-api&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;type&gt;jar&lt;/type&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>had no effect, I think I still need my old:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\n        &lt;version&gt;2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>In any case, I've ended up in a goose chase of dependency hell (this is a pretty massive and old project), and I'm starting to second guess if my approach is the correct one.</p>\n<p>Should I be importing the &quot;necessary&quot; Javax dependencies right back, next to the Jakarta ones? Is there a simple way to avoid all this pain? The libraries I'm using don't seem to care about Jakarta, and it's not really an option to go manually upgrade a bunch of them due to the number of regressions it might cause.</p>\n<p>The ones on here have been easy to migrate:\n<a href=\"https://blogs.oracle.com/javamagazine/post/transition-from-java-ee-to-jakarta-ee\" rel=\"nofollow noreferrer\">https://blogs.oracle.com/javamagazine/post/transition-from-java-ee-to-jakarta-ee</a>\n<a href=\"https://foojay.io/today/migrating-from-java-ee-to-jakarta-ee-with-intellij-idea/\" rel=\"nofollow noreferrer\">https://foojay.io/today/migrating-from-java-ee-to-jakarta-ee-with-intellij-idea/</a></p>\n<p>Meanwhile, some dependencies that kinda ship their own, or at least don't have a Jakarta version just don't seem to work:</p>\n<p><a href=\"https://github.com/auth0/auth0-java-mvc-common/issues/97\" rel=\"nofollow noreferrer\">https://github.com/auth0/auth0-java-mvc-common/issues/97</a></p>\n<p>Now I know you guys hate general questions, and I'm bound to get so much negative engagement here, but this is eating me alive. I sadly need general guidance on how to do this. Am I really supposed to (I will probably just give up instead) port these deps, 1 by 1, hope newer versions fix it. And if there isn't, just do something else.</p>\n<p>Mixing some Javax (namely servlet, ws rs client) and some Jakarta (mail, faces etc.) seems like a bad idea, but it's the only way I got it to even compile, while during the run time I get errors such as these:</p>\n<pre><code>13-Apr-2023 08:46:59.789 SEVERE [http-nio-8080-exec-4] org.apache.openejb.core.transaction.EjbTransactionUtil.handleSystemException EjbTransactionUtil.handleSystemException: java.lang.IllegalStateException: Error starting child\norg.apache.openejb.OpenEJBRuntimeException: java.lang.IllegalStateException: Error starting child\n    at org.apache.tomee.catalina.deployment.TomcatWebappDeployer.deploy(TomcatWebappDeployer.java:58)\n    at org.apache.openejb.assembler.DeployerEjb.deploy(DeployerEjb.java:177)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.apache.openejb.core.interceptor.ReflectionInvocationContext$Invocation.invoke(ReflectionInvocationContext.java:211)\n    at org.apache.openejb.core.interceptor.ReflectionInvocationContext.proceed(ReflectionInvocationContext.java:192)\n    at org.apache.openejb.security.internal.InternalSecurityInterceptor.invoke(InternalSecurityInterceptor.java:35)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.apache.openejb.core.interceptor.ReflectionInvocationContext$Invocation.invoke(ReflectionInvocationContext.java:211)\n    at org.apache.openejb.core.interceptor.ReflectionInvocationContext.proceed(ReflectionInvocationContext.java:192)\n    at org.apache.openejb.monitoring.StatsInterceptor.record(StatsInterceptor.java:191)\n    at org.apache.openejb.monitoring.StatsInterceptor.invoke(StatsInterceptor.java:101)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.apache.openejb.core.interceptor.ReflectionInvocationContext$Invocation.invoke(ReflectionInvocationContext.java:211)\n    at org.apache.openejb.core.interceptor.ReflectionInvocationContext.proceed(ReflectionInvocationContext.java:192)\n    at org.apache.openejb.core.interceptor.InterceptorStack.invoke(InterceptorStack.java:95)\n    at org.apache.openejb.core.singleton.SingletonContainer._invoke(SingletonContainer.java:272)\n    at org.apache.openejb.core.singleton.SingletonContainer.invoke(SingletonContainer.java:221)\n    at org.apache.openejb.server.ejbd.EjbRequestHandler.doEjbObject_BUSINESS_METHOD(EjbRequestHandler.java:371)\n    at org.apache.openejb.server.ejbd.EjbRequestHandler.processRequest(EjbRequestHandler.java:182)\n    at org.apache.openejb.server.ejbd.EjbDaemon.processEjbRequest(EjbDaemon.java:360)\n    at org.apache.openejb.server.ejbd.EjbDaemon.service(EjbDaemon.java:247)\n    at org.apache.openejb.server.ejbd.EjbServer.service(EjbServer.java:104)\n    at org.apache.openejb.server.httpd.ServerServlet.service(ServerServlet.java:60)\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:587)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.tomee.catalina.OpenEJBValve.invoke(OpenEJBValve.java:45)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.tomee.catalina.OpenEJBSecurityListener$RequestCapturer.invoke(OpenEJBSecurityListener.java:97)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:690)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:356)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:870)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1762)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.IllegalStateException: Error starting child\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:729)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:747)\n    at org.apache.tomee.catalina.TomcatWebAppBuilder.deployWar(TomcatWebAppBuilder.java:687)\n    at org.apache.tomee.catalina.TomcatWebAppBuilder.deployWebApps(TomcatWebAppBuilder.java:616)\n    at org.apache.tomee.catalina.deployment.TomcatWebappDeployer.deploy(TomcatWebappDeployer.java:47)\n    ... 52 more\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/gtms-vps-0.0.0]]\n    at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\n    ... 57 more\nCaused by: java.lang.NoClassDefFoundError: javax/ws/rs/ext/MessageBodyReader\n</code></pre>\n<p>Notice the no class def found error at the end. This is probably due to me still using javax classes.</p>\n<p>Soon as I get rid of this one (although I'm not sure if it's just a coincidence), there's a similar error:</p>\n<pre><code>    13-Apr-2023 08:54:49.696 SEVERE [http-nio-8080-exec-4] org.apache.openejb.cdi.OpenEJBLifecycle.startApplication CDI Beans module deployment failed\n        org.apache.webbeans.exception.WebBeansConfigurationException: Error while sending SystemEvent to a CDI Extension! org.apache.webbeans.portable.events.generics.GProcessAnnotatedType@48a3e14f\n            at org.apache.webbeans.event.NotificationManager.onWebBeansException(NotificationManager.java:1079)\n            at org.apache.webbeans.event.NotificationManager.doFireSync(NotificationManager.java:1026)\n            at org.apache.openejb.core.interceptor.ReflectionInvocationContext$Invocation.invoke(ReflectionInvocationContext.java:211)\n            at org.apache.openejb.core.interceptor.ReflectionInvocationContext.proceed(ReflectionInvocationContext.java:192)\n            at org.apache.openejb.security.internal.InternalSecurityInterceptor.invoke(InternalSecurityInterceptor.java:35)\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n            at \norg.apache.webbeans.exception.WebBeansConfigurationException: Error while sending SystemEvent to a CDI Extension! org.apache.webbeans.portable.events.generics.GProcessAnnotatedType@48a3e14f\n            at org.apache.webbeans.event.NotificationManager.onWebBeansException(NotificationManager.java:1079)\n            at org.apache.webbeans.event.NotificationManager.doFireSync(NotificationManager.java:1026)\n            at org.apache.webbeans.event.NotificationManager.doFireEvent(NotificationManager.java:952)\n            at org.apache.webbeans.event.NotificationManager.fireEvent(NotificationManager.java:928)\n        at org.apache.webbeans.container.BeanManagerImpl.fireEvent(BeanManagerImpl.java:495)\n        at org.apache.webbeans.container.BeanManagerImpl.fireEvent(BeanManagerImpl.java:469)\n        at org.apache.webbeans.util.WebBeansUtil.fireProcessAnnotatedTypeEvent(WebBeansUtil.java:741)\n        at org.apache.webbeans.config.BeansDeployer.annotatedTypesFromBdaClassPath(BeansDeployer.java:1402)\n        at org.apache.webbeans.config.BeansDeployer.annotatedTypesFromClassPath(BeansDeployer.java:1316)\n        at org.apache.webbeans.config.BeansDeployer.deploy(BeansDeployer.java:249)\n        at org.apache.openejb.cdi.OpenEJBLifecycle.startApplication(OpenEJBLifecycle.java:196)\n        ... 68 more\n    Caused by: org.apache.webbeans.exception.WebBeansException: java.lang.NoClassDefFoundError: javax/interceptor/InvocationContext\n        at org.apache.webbeans.event.ObserverMethodImpl.notify(ObserverMethodImpl.java:377)\n        at org.apache.webbeans.event.NotificationManager.invokeObserverMethod(NotificationManager.java:1146)\n        at org.apache.webbeans.event.NotificationManager.doFireSync(NotificationManager.java:1009)\n        ... 77 more\n    Caused by: java.lang.NoClassDefFoundError: javax/interceptor/InvocationContext\n</code></pre>\n"},{"tags":["java","unit-testing","gradle","micronaut","micronaut-test"],"owner":{"account_id":17972179,"reputation":688,"user_id":13060649,"display_name":"suvodipMondal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1681381821,"creation_date":1681372283,"question_id":76002938,"body_markdown":"Currently I am using `sudo ./gradlew clean build -x test`to build and `nohup java -jar &lt;jar file&gt;` to run the main application in my ec2 console. And it runs successfully. \r\n\r\nBut when I am trying to run tests(annotated with `@MicronautTest`) with `sudo ./gradlew test` when the application is running on another port, it fails on every available port throwing this exception : \r\n```\r\nio.micronaut.http.server.exceptions.ServerStartupException: Unable to start Micronaut server on port: 4464\r\n\r\njava.net.BindException: Address already in use\r\n```  \r\nI am currently using `micronaut.server.port: -1` in my `application-test.yml`. But it does not seem to work. \r\n\r\nOnly time the test starts running when application server is not stopped, although the application server on runs on different fixed PORT number. Is this happening because my application is already running ?","title":"Micronaut gradle test failing to start on every port","body":"<p>Currently I am using <code>sudo ./gradlew clean build -x test</code>to build and <code>nohup java -jar &lt;jar file&gt;</code> to run the main application in my ec2 console. And it runs successfully.</p>\n<p>But when I am trying to run tests(annotated with <code>@MicronautTest</code>) with <code>sudo ./gradlew test</code> when the application is running on another port, it fails on every available port throwing this exception :</p>\n<pre><code>io.micronaut.http.server.exceptions.ServerStartupException: Unable to start Micronaut server on port: 4464\n\njava.net.BindException: Address already in use\n</code></pre>\n<p>I am currently using <code>micronaut.server.port: -1</code> in my <code>application-test.yml</code>. But it does not seem to work.</p>\n<p>Only time the test starts running when application server is not stopped, although the application server on runs on different fixed PORT number. Is this happening because my application is already running ?</p>\n"},{"tags":["java","android","kotlin","networking","ip-address"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1681381341,"post_id":76003969,"comment_id":134048538,"body_markdown":"What is POS ???","body":"What is POS ???"}],"answers":[{"tags":[],"owner":{"account_id":9666798,"reputation":21,"user_id":7173050,"display_name":"Joey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681381463,"creation_date":1681381463,"answer_id":76004343,"question_id":76003969,"body_markdown":"I would leave a comment but since that doesn&#39;t work:\r\n\r\nI would try the idea that the devices in your hotspot are in the same network like your device.\r\nSo, I would suggest to go over the host ip. So first get the host ip:\r\n\r\n    public String   s_dns1 ;\r\n    public String   s_dns2;     \r\n    public String   s_gateway;  \r\n    public String   s_ipAddress;    \r\n    public String   s_leaseDuration;    \r\n    public String   s_netmask;  \r\n    public String   s_serverAddress;\r\n    TextView info;\r\n    DhcpInfo d;\r\n    WifiManager wifii;\r\n\r\n    wifii = (WifiManager) getSystemService(Context.WIFI_SERVICE);\r\n        d = wifii.getDhcpInfo();\r\n\r\n        s_dns1 = &quot;DNS 1: &quot; + String.valueOf(d.dns1);\r\n        s_dns2 = &quot;DNS 2: &quot; + String.valueOf(d.dns2);\r\n        s_gateway = &quot;Default Gateway: &quot; + String.valueOf(d.gateway);\r\n        s_ipAddress = &quot;IP Address: &quot; + String.valueOf(d.ipAddress);\r\n        s_leaseDuration = &quot;Lease Time: &quot; + String.valueOf(d.leaseDuration);\r\n        s_netmask = &quot;Subnet Mask: &quot; + String.valueOf(d.netmask);\r\n        s_serverAddress = &quot;Server IP: &quot; + String.valueOf(d.serverAddress);\r\n\r\nAnd then get the connected ips:\r\n\r\n    String connections = &quot;&quot;;\r\n        InetAddress host;\r\n        try\r\n        {\r\n            host = InetAddress.getByName(intToIp(d.dns1));\r\n            byte[] ip = host.getAddress();\r\n\r\n            for(int i = 1; i &lt;= 254; i++)\r\n            {\r\n                ip[3] = (byte) i;\r\n                InetAddress address = InetAddress.getByAddress(ip);\r\n                if(address.isReachable(100))\r\n                {\r\n                    System.out.println(address + &quot; machine is turned on and can be pinged&quot;);\r\n                    connections+= address+&quot;\\n&quot;;\r\n                }\r\n                else if(!address.getHostAddress().equals(address.getHostName()))\r\n                {\r\n                    System.out.println(address + &quot; machine is known in a DNS lookup&quot;);\r\n                }\r\n\r\n            }\r\n        }\r\n        catch(UnknownHostException e1)\r\n        {\r\n            e1.printStackTrace();\r\n        }\r\n        catch(IOException e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n       System.out.println(connections);\r\n\r\n\r\nNow convert it to String:\r\n\r\n    public String intToIp(int i) {\r\n        return (i &amp; 0xFF) + &quot;.&quot; +\r\n                ((i &gt;&gt; 8 ) &amp; 0xFF) + &quot;.&quot; +\r\n                ((i &gt;&gt; 16) &amp; 0xFF) + &quot;.&quot; +\r\n                ((i &gt;&gt; 24) &amp; 0xFF);\r\n    }\r\n\r\nThis solution is provided by:\r\nhttps://stackoverflow.com/a/21091575/7173050\r\n","title":"How i can get the ip address for connected device with hotspot programmatically","body":"<p>I would leave a comment but since that doesn't work:</p>\n<p>I would try the idea that the devices in your hotspot are in the same network like your device.\nSo, I would suggest to go over the host ip. So first get the host ip:</p>\n<pre><code>public String   s_dns1 ;\npublic String   s_dns2;     \npublic String   s_gateway;  \npublic String   s_ipAddress;    \npublic String   s_leaseDuration;    \npublic String   s_netmask;  \npublic String   s_serverAddress;\nTextView info;\nDhcpInfo d;\nWifiManager wifii;\n\nwifii = (WifiManager) getSystemService(Context.WIFI_SERVICE);\n    d = wifii.getDhcpInfo();\n\n    s_dns1 = &quot;DNS 1: &quot; + String.valueOf(d.dns1);\n    s_dns2 = &quot;DNS 2: &quot; + String.valueOf(d.dns2);\n    s_gateway = &quot;Default Gateway: &quot; + String.valueOf(d.gateway);\n    s_ipAddress = &quot;IP Address: &quot; + String.valueOf(d.ipAddress);\n    s_leaseDuration = &quot;Lease Time: &quot; + String.valueOf(d.leaseDuration);\n    s_netmask = &quot;Subnet Mask: &quot; + String.valueOf(d.netmask);\n    s_serverAddress = &quot;Server IP: &quot; + String.valueOf(d.serverAddress);\n</code></pre>\n<p>And then get the connected ips:</p>\n<pre><code>String connections = &quot;&quot;;\n    InetAddress host;\n    try\n    {\n        host = InetAddress.getByName(intToIp(d.dns1));\n        byte[] ip = host.getAddress();\n\n        for(int i = 1; i &lt;= 254; i++)\n        {\n            ip[3] = (byte) i;\n            InetAddress address = InetAddress.getByAddress(ip);\n            if(address.isReachable(100))\n            {\n                System.out.println(address + &quot; machine is turned on and can be pinged&quot;);\n                connections+= address+&quot;\\n&quot;;\n            }\n            else if(!address.getHostAddress().equals(address.getHostName()))\n            {\n                System.out.println(address + &quot; machine is known in a DNS lookup&quot;);\n            }\n\n        }\n    }\n    catch(UnknownHostException e1)\n    {\n        e1.printStackTrace();\n    }\n    catch(IOException e)\n    {\n        e.printStackTrace();\n    }\n   System.out.println(connections);\n</code></pre>\n<p>Now convert it to String:</p>\n<pre><code>public String intToIp(int i) {\n    return (i &amp; 0xFF) + &quot;.&quot; +\n            ((i &gt;&gt; 8 ) &amp; 0xFF) + &quot;.&quot; +\n            ((i &gt;&gt; 16) &amp; 0xFF) + &quot;.&quot; +\n            ((i &gt;&gt; 24) &amp; 0xFF);\n}\n</code></pre>\n<p>This solution is provided by:\n<a href=\"https://stackoverflow.com/a/21091575/7173050\">https://stackoverflow.com/a/21091575/7173050</a></p>\n"}],"owner":{"account_id":25940203,"reputation":43,"user_id":19659828,"display_name":"walid azgear"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":302,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681381463,"creation_date":1681378953,"question_id":76003969,"body_markdown":"I have an Android POS device and it is connected to my Android phone through a mobile hotspot, I need to get the IP Address for the POS programmatically without letting the user enter it, I can get the Ip address from Android mobile hotspot settings like the below image, but I need to get it from inside my application.\r\n\r\nI tried to access ```BufferedReader(new FileReader(&quot;/proc/net/arp&quot;))``` but gave me denied permission and it&#39;s not accessible from Android 10 and more.\r\n\r\nwhat are the alternatives to get the same data as the attached image? \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jgRdE.png","title":"How i can get the ip address for connected device with hotspot programmatically","body":"<p>I have an Android POS device and it is connected to my Android phone through a mobile hotspot, I need to get the IP Address for the POS programmatically without letting the user enter it, I can get the Ip address from Android mobile hotspot settings like the below image, but I need to get it from inside my application.</p>\n<p>I tried to access <code>BufferedReader(new FileReader(&quot;/proc/net/arp&quot;))</code> but gave me denied permission and it's not accessible from Android 10 and more.</p>\n<p>what are the alternatives to get the same data as the attached image?</p>\n<p><a href=\"https://i.stack.imgur.com/jgRdE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jgRdE.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","exception","nosuchelementexception"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1681381185,"post_id":76004258,"comment_id":134048485,"body_markdown":"`sc.close();` doesn&#39;t close only Scanner but also *resource* which Scanner is reading, here `System.in`. So when you create another Scanner to read from already closed System.in Scanner informs you that it can&#39;t read from it by throwing this exception. Solution is to not close Scanner in your methods, but create one scanner (in `main` method) then pass it as argument to methods which use it, like `display_names`. This way you only need to close Scanner at the end of main method, when it is no longer needed.","body":"<code>sc.close();</code> doesn&#39;t close only Scanner but also <i>resource</i> which Scanner is reading, here <code>System.in</code>. So when you create another Scanner to read from already closed System.in Scanner informs you that it can&#39;t read from it by throwing this exception. Solution is to not close Scanner in your methods, but create one scanner (in <code>main</code> method) then pass it as argument to methods which use it, like <code>display_names</code>. This way you only need to close Scanner at the end of main method, when it is no longer needed."}],"owner":{"account_id":21494611,"reputation":13,"user_id":15839802,"display_name":"Sharvansh Shukla"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1681381317,"answer_count":0,"score":0,"last_activity_date":1681380878,"creation_date":1681380878,"question_id":76004258,"body_markdown":"I am writing a simple java code to demonstrate various types of exceptions and how they&#39;re handled.\r\n\r\nSo far, I decided to try a custom exception with my own condition and a pre-defined IndexOOB exception to test.\r\n\r\nBelow is the code for the same:\r\n\r\n    import java.util.*;\r\n    \r\n    class customException extends Exception\r\n    {//custom exceptionto check\r\n        customException(String s)\r\n        {\r\n            super(s);\r\n        }\r\n    }\r\n    \r\n    public class lab7 {\r\n        public void display_names(String name[],int roll[])\r\n        {//checking for indexOOB exception\r\n            Scanner sc = new Scanner(System.in);\r\n            int r;\r\n            try\r\n            {\r\n                System.out.println(&quot;Enter roll number to display details&quot;);\r\n                r = sc.nextInt();\r\n                System.out.println(name[r-1]+&quot;, &quot;+roll[r-1]);\r\n            }\r\n            catch(IndexOutOfBoundsException e)\r\n            {\r\n                System.out.println(&quot;Roll number out of bounds!&quot;);\r\n            }\r\n            finally\r\n            {\r\n                sc.close();\r\n            }\r\n        }\r\n        public void num500()\r\n        {//throwing custom exception\r\n            int num;\r\n            Scanner sc= new Scanner(System.in);\r\n            try\r\n            {\r\n                System.out.println(&quot;Enter a number:&quot;);\r\n                num = sc.nextInt();\r\n                if(num&lt;500)\r\n                {\r\n                    throw new customException(&quot;Sharru.bhang.NumberLessThan500Exception&quot;);\r\n                }\r\n            }\r\n            catch(customException e)\r\n            {\r\n                System.out.println(e.getMessage());\r\n            }\r\n            finally\r\n            {\r\n                sc.close();\r\n            }\r\n        }\r\n        public static void main(String[] args) \r\n        {\r\n            //code 1\r\n            lab7 ob = new lab7();\r\n            int roll[] = {1,2,3,4,5,6,7,8,9,10};\r\n            String name[] = {&quot;Khxshi&quot;,&quot;Sharru&quot;,&quot;Dev&quot;,&quot;Aman&quot;,&quot;Yasho&quot;,&quot;Bhari&quot;,&quot;Owais&quot;,&quot;Pratham&quot;,&quot;Shivansh&quot;,&quot;Chinmay&quot;};\r\n            ob.display_names(name, roll);\r\n    \r\n            //code 2 in separate file\r\n    \r\n            //code 3\r\n            ob.num500();\r\n        }\r\n    }\r\n\r\nWhen i call these functions without calling the other, I do not encounter any problems, but when I try to run both the methods at the same time, I get the following exception:\r\n\r\n    Exception in thread &quot;main&quot; java.util.NoSuchElementException\r\n            at java.base/java.util.Scanner.throwFor(Scanner.java:937)\r\n            at java.base/java.util.Scanner.next(Scanner.java:1594)\r\n            at java.base/java.util.Scanner.nextInt(Scanner.java:2258)\r\n            at java.base/java.util.Scanner.nextInt(Scanner.java:2212)\r\n            at lab7.num500(lab7.java:38)\r\n            at lab7.main(lab7.java:64)\r\n\r\nCan anybody explain what I am doing wrong? Thanks!","title":"getting &quot;Exception in thread &quot;main&quot; java.util.NoSuchElementException&quot; while running a simple error handling java code","body":"<p>I am writing a simple java code to demonstrate various types of exceptions and how they're handled.</p>\n<p>So far, I decided to try a custom exception with my own condition and a pre-defined IndexOOB exception to test.</p>\n<p>Below is the code for the same:</p>\n<pre><code>import java.util.*;\n\nclass customException extends Exception\n{//custom exceptionto check\n    customException(String s)\n    {\n        super(s);\n    }\n}\n\npublic class lab7 {\n    public void display_names(String name[],int roll[])\n    {//checking for indexOOB exception\n        Scanner sc = new Scanner(System.in);\n        int r;\n        try\n        {\n            System.out.println(&quot;Enter roll number to display details&quot;);\n            r = sc.nextInt();\n            System.out.println(name[r-1]+&quot;, &quot;+roll[r-1]);\n        }\n        catch(IndexOutOfBoundsException e)\n        {\n            System.out.println(&quot;Roll number out of bounds!&quot;);\n        }\n        finally\n        {\n            sc.close();\n        }\n    }\n    public void num500()\n    {//throwing custom exception\n        int num;\n        Scanner sc= new Scanner(System.in);\n        try\n        {\n            System.out.println(&quot;Enter a number:&quot;);\n            num = sc.nextInt();\n            if(num&lt;500)\n            {\n                throw new customException(&quot;Sharru.bhang.NumberLessThan500Exception&quot;);\n            }\n        }\n        catch(customException e)\n        {\n            System.out.println(e.getMessage());\n        }\n        finally\n        {\n            sc.close();\n        }\n    }\n    public static void main(String[] args) \n    {\n        //code 1\n        lab7 ob = new lab7();\n        int roll[] = {1,2,3,4,5,6,7,8,9,10};\n        String name[] = {&quot;Khxshi&quot;,&quot;Sharru&quot;,&quot;Dev&quot;,&quot;Aman&quot;,&quot;Yasho&quot;,&quot;Bhari&quot;,&quot;Owais&quot;,&quot;Pratham&quot;,&quot;Shivansh&quot;,&quot;Chinmay&quot;};\n        ob.display_names(name, roll);\n\n        //code 2 in separate file\n\n        //code 3\n        ob.num500();\n    }\n}\n</code></pre>\n<p>When i call these functions without calling the other, I do not encounter any problems, but when I try to run both the methods at the same time, I get the following exception:</p>\n<pre><code>Exception in thread &quot;main&quot; java.util.NoSuchElementException\n        at java.base/java.util.Scanner.throwFor(Scanner.java:937)\n        at java.base/java.util.Scanner.next(Scanner.java:1594)\n        at java.base/java.util.Scanner.nextInt(Scanner.java:2258)\n        at java.base/java.util.Scanner.nextInt(Scanner.java:2212)\n        at lab7.num500(lab7.java:38)\n        at lab7.main(lab7.java:64)\n</code></pre>\n<p>Can anybody explain what I am doing wrong? Thanks!</p>\n"},{"tags":["java","spring-boot","graphql","project-reactor","graphql-subscriptions"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1681756617,"post_id":76004228,"comment_id":134105251,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76004228/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":1709903,"reputation":117,"user_id":1568166,"accept_rate":50,"display_name":"Cosdix"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681380685,"creation_date":1681380685,"answer_id":76004228,"question_id":75714268,"body_markdown":"Solved. The problem was in... special test conditions and graphiQL subscriptions handling. It just cancel subscription when you switch tab - so all is fine","title":"Spring Boot, reactive streams hot publisher and GraphQL subscriptions. Doesn&#39;t work as expected","body":"<p>Solved. The problem was in... special test conditions and graphiQL subscriptions handling. It just cancel subscription when you switch tab - so all is fine</p>\n"}],"owner":{"account_id":1709903,"reputation":117,"user_id":1568166,"accept_rate":50,"display_name":"Cosdix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76004228,"answer_count":1,"score":1,"last_activity_date":1681380685,"creation_date":1678635630,"question_id":75714268,"body_markdown":"I&#39;m using spring boot v3.0.2 with websockets and faced problem with graphQL subscriptions. The task is pretty simple - notify client when backend entity changes. So, I have EntityChangeNotifier - \r\n\r\n``` java\r\n@Service\r\npublic class EntityChangeNotifier {\r\n\r\n    private final Collection&lt;Listener&lt;MyEntity&gt;&gt; listeners = new ArrayList&lt;&gt;();\r\n\r\n    @Override\r\n    public void notifyChange(MyEntity entity) {\r\n        listeners.forEach(listener -&gt; listener.onEntityChange(entity));\r\n    }\r\n\r\n    @Override\r\n    public void registerListener(Listener&lt;T&gt; listener) {\r\n        listeners.add(listener);\r\n    }\r\n\r\n    interface Listener&lt;T&gt; {\r\n        void onEntityChange(T entity);\r\n    }\r\n\r\n}\r\n```\r\nService class - \r\n``` java\r\n@Service\r\npublic class Service {\r\n\r\n    private final MyRepository repository;\r\n\r\n    private final EntityChangeNotifier entityChangeNotifier;\r\n\r\n    @Autowired\r\n    public Service(MyRepository repository, EntityChangeNotifier entityChangeNotifier) {\r\n        this.repository = repository;\r\n        this.entityChangeNotifier = entityChangeNotifier;\r\n    }\r\n\r\n    @Transactional\r\n    public long saveEntity(MyEntity entity) {\r\n        MyEntity saved = repository.save(entity);\r\n        entityChangeNotifier.notifyChange(entity);\r\n        return saved.getId();\r\n    }\r\n\r\n```\r\nand GraphQL mappings - \r\n``` java\r\n@Controller\r\npublic class Mappings {\r\n\r\n    private final EntityChangeNotifier entityChangeNotifier;\r\n    private final Service service;\r\n\r\n    @Autowired\r\n    public Mappings(Service service, EntityChangeNotifier entityChangeNotifier) {\r\n        this.service = service;\r\n        this.entityChangeNotifier = entityChangeNotifier;\r\n    }\r\n\r\n    @SubscriptionMapping\r\n    public Publisher&lt;MyEntity&gt; changed() {\r\n        return Flux.create(fluxSink -&gt; entityChangeNotifier.registerListener(fluxSink::next));\r\n    }\r\n\r\n    @MutationMapping\r\n    public Long create() {\r\n        return service.saveEntity(new MyEntity(0, &quot;testName&quot;));\r\n    }\r\n}\r\n```\r\nGraphQL schema - \r\n```\r\ntype Mutation {\r\n    create: Int!\r\n}\r\n\r\ntype Subscription {\r\n    changed: MyEntity\r\n}\r\n\r\ntype MyEntity {\r\n    id\r\n    name\r\n}\r\n```\r\nThe code is very basic, but the problem is it doesn&#39;t work. I test it via graphiQL and after saving entity, subscription just ends without any result. As far as I discover, sink is marked as cancelled for some reason. Could you please hint me what is wrong? Btw - when I use cold publisher all works fine. But such code, obviously, doesn&#39;t comfort me - \r\n\r\n``` java\r\n    @SubscriptionMapping\r\n    public Publisher&lt;MyEntity&gt; test() {\r\n        Random random = new Random();\r\n        return Flux.interval(Duration.ofSeconds(5))\r\n                .map(i -&gt; new MyEntity(0, &quot;name&quot; + random.nextInt()));\r\n    }\r\n\r\n```","title":"Spring Boot, reactive streams hot publisher and GraphQL subscriptions. Doesn&#39;t work as expected","body":"<p>I'm using spring boot v3.0.2 with websockets and faced problem with graphQL subscriptions. The task is pretty simple - notify client when backend entity changes. So, I have EntityChangeNotifier -</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class EntityChangeNotifier {\n\n    private final Collection&lt;Listener&lt;MyEntity&gt;&gt; listeners = new ArrayList&lt;&gt;();\n\n    @Override\n    public void notifyChange(MyEntity entity) {\n        listeners.forEach(listener -&gt; listener.onEntityChange(entity));\n    }\n\n    @Override\n    public void registerListener(Listener&lt;T&gt; listener) {\n        listeners.add(listener);\n    }\n\n    interface Listener&lt;T&gt; {\n        void onEntityChange(T entity);\n    }\n\n}\n</code></pre>\n<p>Service class -</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class Service {\n\n    private final MyRepository repository;\n\n    private final EntityChangeNotifier entityChangeNotifier;\n\n    @Autowired\n    public Service(MyRepository repository, EntityChangeNotifier entityChangeNotifier) {\n        this.repository = repository;\n        this.entityChangeNotifier = entityChangeNotifier;\n    }\n\n    @Transactional\n    public long saveEntity(MyEntity entity) {\n        MyEntity saved = repository.save(entity);\n        entityChangeNotifier.notifyChange(entity);\n        return saved.getId();\n    }\n\n</code></pre>\n<p>and GraphQL mappings -</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\npublic class Mappings {\n\n    private final EntityChangeNotifier entityChangeNotifier;\n    private final Service service;\n\n    @Autowired\n    public Mappings(Service service, EntityChangeNotifier entityChangeNotifier) {\n        this.service = service;\n        this.entityChangeNotifier = entityChangeNotifier;\n    }\n\n    @SubscriptionMapping\n    public Publisher&lt;MyEntity&gt; changed() {\n        return Flux.create(fluxSink -&gt; entityChangeNotifier.registerListener(fluxSink::next));\n    }\n\n    @MutationMapping\n    public Long create() {\n        return service.saveEntity(new MyEntity(0, &quot;testName&quot;));\n    }\n}\n</code></pre>\n<p>GraphQL schema -</p>\n<pre><code>type Mutation {\n    create: Int!\n}\n\ntype Subscription {\n    changed: MyEntity\n}\n\ntype MyEntity {\n    id\n    name\n}\n</code></pre>\n<p>The code is very basic, but the problem is it doesn't work. I test it via graphiQL and after saving entity, subscription just ends without any result. As far as I discover, sink is marked as cancelled for some reason. Could you please hint me what is wrong? Btw - when I use cold publisher all works fine. But such code, obviously, doesn't comfort me -</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @SubscriptionMapping\n    public Publisher&lt;MyEntity&gt; test() {\n        Random random = new Random();\n        return Flux.interval(Duration.ofSeconds(5))\n                .map(i -&gt; new MyEntity(0, &quot;name&quot; + random.nextInt()));\n    }\n\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1681376945,"post_id":76002576,"comment_id":134047465,"body_markdown":"Don&#39;t use regex for this.","body":"Don&#39;t use regex for this."}],"answers":[{"comments":[{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":0,"creation_date":1681372918,"post_id":76002750,"comment_id":134046522,"body_markdown":"@AndrzejWięcławski Happy it helped. Can you also accept the answer, so other devs who might run into the same problem, know there&#39;s a fix for it?","body":"@AndrzejWięcławski Happy it helped. Can you also accept the answer, so other devs who might run into the same problem, know there&#39;s a fix for it?"},{"owner":{"account_id":16429668,"reputation":81,"user_id":11868833,"display_name":"Andrzej Więcławski"},"score":0,"creation_date":1681373196,"post_id":76002750,"comment_id":134046578,"body_markdown":"After tests it seems justified to remove &lt;ol&gt; and &lt;ul&gt; tags. There are ridiculous blank line before enumerating starts in jasper text field... Can you find any solution?","body":"After tests it seems justified to remove &lt;ol&gt; and &lt;ul&gt; tags. There are ridiculous blank line before enumerating starts in jasper text field... Can you find any solution?"},{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":1,"creation_date":1681374256,"post_id":76002750,"comment_id":134046801,"body_markdown":"As this is another functionality, I&#39;d recommend to just create a secondary `replaceAll`, which just replaces any `&lt;ol&gt;` &amp; `&lt;ul&gt;` tags","body":"As this is another functionality, I&#39;d recommend to just create a secondary <code>replaceAll</code>, which just replaces any <code>&lt;ol&gt;</code> &amp; <code>&lt;ul&gt;</code> tags"}],"tags":[],"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681376932,"creation_date":1681370991,"answer_id":76002750,"question_id":76002576,"body_markdown":"First off, a regex isn&#39;t something to use if you want to remove something. A regex is purely a _check_ if something matches a certain set of characters.\r\n\r\nBut apart from that, this code using `replaceAll` should do the trick\r\n\r\n```java\r\nString output = input.replaceAll(\r\n        &quot;(&lt;[^&gt;]+?)\\\\s+style\\\\s*=\\\\s*[&#39;\\&quot;][^&#39;\\&quot;]*[&#39;\\&quot;](.*?&gt;)&quot;, &quot;$1$2&quot;);\r\n```\r\n\r\n","title":"Java regex to remove styles from HTML tags for Jasper text field","body":"<p>First off, a regex isn't something to use if you want to remove something. A regex is purely a <em>check</em> if something matches a certain set of characters.</p>\n<p>But apart from that, this code using <code>replaceAll</code> should do the trick</p>\n<pre class=\"lang-java prettyprint-override\"><code>String output = input.replaceAll(\n        &quot;(&lt;[^&gt;]+?)\\\\s+style\\\\s*=\\\\s*['\\&quot;][^'\\&quot;]*['\\&quot;](.*?&gt;)&quot;, &quot;$1$2&quot;);\n</code></pre>\n"}],"owner":{"account_id":16429668,"reputation":81,"user_id":11868833,"display_name":"Andrzej Więcławski"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76002750,"answer_count":1,"score":-1,"last_activity_date":1681380575,"creation_date":1681369660,"question_id":76002576,"body_markdown":"As stated in the title - I am looking for safest Java regex to remove styles from HTML tags intended for Jasper text field marked as HTML, but not touching any content and tags consistency. For example, for the following input received from front-end: \r\n```html\r\n&lt;p&gt;This text contains &lt;sub style=&quot;background-color:powderblue;&quot;&gt;subscript&lt;/sub&gt; text.&lt;/p&gt; \r\n```\r\nSorry for not escaped quotes. I found this code works fine:\r\n\r\n```java\r\nString output = input.replaceAll(&quot;style=\\&quot;[^&gt;]*\\&quot;&quot;,&quot;&quot;);\r\n```\r\n\r\nthen output should be:\r\n```html\r\n &lt;p&gt;This text contains &lt;sub&gt;subscript&lt;/sub&gt; text.&lt;/p&gt;\r\n```\r\n","title":"Java regex to remove styles from HTML tags for Jasper text field","body":"<p>As stated in the title - I am looking for safest Java regex to remove styles from HTML tags intended for Jasper text field marked as HTML, but not touching any content and tags consistency. For example, for the following input received from front-end:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;p&gt;This text contains &lt;sub style=&quot;background-color:powderblue;&quot;&gt;subscript&lt;/sub&gt; text.&lt;/p&gt; \n</code></pre>\n<p>Sorry for not escaped quotes. I found this code works fine:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String output = input.replaceAll(&quot;style=\\&quot;[^&gt;]*\\&quot;&quot;,&quot;&quot;);\n</code></pre>\n<p>then output should be:</p>\n<pre class=\"lang-html prettyprint-override\"><code> &lt;p&gt;This text contains &lt;sub&gt;subscript&lt;/sub&gt; text.&lt;/p&gt;\n</code></pre>\n"},{"tags":["java","lambda","stream"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1615297302,"post_id":66547936,"comment_id":117642927,"body_markdown":"Why don&#39;t you pass the id to the db query already and just check for the number of returned results? And why can there be multiple users with the same id anyway? You state you&#39;ve used that as an example so if the problem is more generic: does it always involve loading data from the db?","body":"Why don&#39;t you pass the id to the db query already and just check for the number of returned results? And why can there be multiple users with the same id anyway? You state you&#39;ve used that as an example so if the problem is more generic: does it always involve loading data from the db?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1615297305,"post_id":66547936,"comment_id":117642928,"body_markdown":"This particular example reeks of [XY Problem](https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem) in that `loadFromDb` should probably receive an argument to put in a `where` clause and filter the list of user beforehand.","body":"This particular example reeks of <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY Problem</a> in that <code>loadFromDb</code> should probably receive an argument to put in a <code>where</code> clause and filter the list of user beforehand."},{"owner":{"account_id":1063012,"reputation":71986,"user_id":1064245,"accept_rate":82,"display_name":"M A"},"score":0,"creation_date":1615297535,"post_id":66547936,"comment_id":117643028,"body_markdown":"Even if there is a way to shorten it, I&#39;m not sure it would still be a readable solution.","body":"Even if there is a way to shorten it, I&#39;m not sure it would still be a readable solution."},{"owner":{"account_id":19022722,"reputation":183,"user_id":13886463,"display_name":"Patrick Derckx"},"score":0,"creation_date":1615303496,"post_id":66547936,"comment_id":117646122,"body_markdown":"You are totally right. In this particular case the there are better solutions but as @Thomas mentioned, this is just an over simplified example and the problem ist more generic. No, the data are not only from databases, sometimes from foreign apis or other internal calculations. The question is only about validating the results.","body":"You are totally right. In this particular case the there are better solutions but as @Thomas mentioned, this is just an over simplified example and the problem ist more generic. No, the data are not only from databases, sometimes from foreign apis or other internal calculations. The question is only about validating the results."}],"answers":[{"tags":[],"owner":{"account_id":1390639,"reputation":23879,"user_id":1321564,"accept_rate":71,"display_name":"Benjamin M"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1615297738,"creation_date":1615297738,"answer_id":66548147,"question_id":66547936,"body_markdown":"If you want to do validation within your code, then it won&#39;t get much shorter, but you can make the code much more readable.\r\n\r\nA small optimization would be to use `count()` instead of `collect()`:\r\n\r\n```java\r\nusers.stream().filter(...).count();\r\n```\r\n\r\nIn general I&#39;d build some helper functions, that do the job, so your code will just look cleaner and more readable:\r\n\r\n```java\r\nList&lt;User&gt; users = loadFromDb();\r\nvalidateUsers(users); // throws exception\r\n```\r\n\r\nThe `validateUsers` method can then be further abstracted, if you need similar functionality in several places:\r\n\r\n```java\r\nstatic void validateUsers(List&lt;User&gt; users) {\r\n  validateListHasExactlyOne(users, user -&gt; user.getId() == 1234);\r\n}\r\n\r\nstatic &lt;T&gt; void validateListHasExactlyOne(List&lt;T&gt; list, Predicate&lt;T&gt; pred) {\r\n  long count = list.stream().filter(pred).count();\r\n  if(count == 0) throw ...\r\n  if(count &gt; 1) throw ...\r\n}\r\n```\r\n\r\n","title":"Java Streams verify that there is exactly one result","body":"<p>If you want to do validation within your code, then it won't get much shorter, but you can make the code much more readable.</p>\n<p>A small optimization would be to use <code>count()</code> instead of <code>collect()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>users.stream().filter(...).count();\n</code></pre>\n<p>In general I'd build some helper functions, that do the job, so your code will just look cleaner and more readable:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;User&gt; users = loadFromDb();\nvalidateUsers(users); // throws exception\n</code></pre>\n<p>The <code>validateUsers</code> method can then be further abstracted, if you need similar functionality in several places:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static void validateUsers(List&lt;User&gt; users) {\n  validateListHasExactlyOne(users, user -&gt; user.getId() == 1234);\n}\n\nstatic &lt;T&gt; void validateListHasExactlyOne(List&lt;T&gt; list, Predicate&lt;T&gt; pred) {\n  long count = list.stream().filter(pred).count();\n  if(count == 0) throw ...\n  if(count &gt; 1) throw ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615305588,"creation_date":1615305588,"answer_id":66550384,"question_id":66547936,"body_markdown":"Note that streams might not always be the best option here. A plain old for loop might be easier to read and write and faster as well (at least if you don&#39;t use `parallelStream()`). \r\n\r\n    static &lt;T&gt; T exactMatch(List&lt;T&gt; list, Predicate&lt;T&gt; predicate) {\r\n      T result = null;\r\n      for(T element : list) {\r\n        if( predicate.test(element) ) {\r\n          if(result != null) throw new DuplicateException(); //or some other exception \r\n          result = element;\r\n        }\r\n      }\r\n      if( result == null ) throw new NoSuchElementException();\r\n      return result;\r\n    }\r\n\r\nThis looks longer but it has some advantages:\r\n- it checks for duplicates and returns the single result using only one iteration (counting results in a stream and then getting one would require 2 iterations)\r\n- no intermediate list required, i.e. no additional memory\r\n\r\nThere is a disadvantage though: it would be single-threaded. If parallelization is required you&#39;d probably be better off using `parallelStream()`.\r\n\r\nIf you need to be able to also specify the exceptions you could try something like this (with the specific exceptions either being unchecked or inheriting from base exceptions):\r\n\r\n    static &lt;T&gt; T exactMatch(List&lt;T&gt; list, Predicate&lt;T&gt; predicate, \r\n                            Supplier&lt;D extends RuntimeException&gt; duplicateSupplier, \r\n                            Supplier&lt;N extends NoSuchElementException&gt; noElementSupplier) {\r\n\r\n       //same as above but using &quot;throw duplicateSupplier.get()&quot; etc.\r\n    }\r\n\r\nYou could also make overloads to use standard exceptions, e.g.\r\n\r\n    static &lt;T&gt; T exactMatch(List&lt;T&gt; list, Predicate&lt;T&gt; predicate) {\r\n      return exactMatch(list, predicate, DuplicateException::new, NoSuchElementException::new);\r\n    }\r\n","title":"Java Streams verify that there is exactly one result","body":"<p>Note that streams might not always be the best option here. A plain old for loop might be easier to read and write and faster as well (at least if you don't use <code>parallelStream()</code>).</p>\n<pre><code>static &lt;T&gt; T exactMatch(List&lt;T&gt; list, Predicate&lt;T&gt; predicate) {\n  T result = null;\n  for(T element : list) {\n    if( predicate.test(element) ) {\n      if(result != null) throw new DuplicateException(); //or some other exception \n      result = element;\n    }\n  }\n  if( result == null ) throw new NoSuchElementException();\n  return result;\n}\n</code></pre>\n<p>This looks longer but it has some advantages:</p>\n<ul>\n<li>it checks for duplicates and returns the single result using only one iteration (counting results in a stream and then getting one would require 2 iterations)</li>\n<li>no intermediate list required, i.e. no additional memory</li>\n</ul>\n<p>There is a disadvantage though: it would be single-threaded. If parallelization is required you'd probably be better off using <code>parallelStream()</code>.</p>\n<p>If you need to be able to also specify the exceptions you could try something like this (with the specific exceptions either being unchecked or inheriting from base exceptions):</p>\n<pre><code>static &lt;T&gt; T exactMatch(List&lt;T&gt; list, Predicate&lt;T&gt; predicate, \n                        Supplier&lt;D extends RuntimeException&gt; duplicateSupplier, \n                        Supplier&lt;N extends NoSuchElementException&gt; noElementSupplier) {\n\n   //same as above but using &quot;throw duplicateSupplier.get()&quot; etc.\n}\n</code></pre>\n<p>You could also make overloads to use standard exceptions, e.g.</p>\n<pre><code>static &lt;T&gt; T exactMatch(List&lt;T&gt; list, Predicate&lt;T&gt; predicate) {\n  return exactMatch(list, predicate, DuplicateException::new, NoSuchElementException::new);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":19022722,"reputation":183,"user_id":13886463,"display_name":"Patrick Derckx"},"score":0,"creation_date":1615397990,"post_id":66550654,"comment_id":117680371,"body_markdown":"This is what I was looking for, thank you!","body":"This is what I was looking for, thank you!"}],"tags":[],"owner":{"account_id":446208,"reputation":8611,"user_id":839128,"accept_rate":75,"display_name":"MikeFHay"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1681380339,"creation_date":1615306521,"answer_id":66550654,"question_id":66547936,"body_markdown":"The Guava library has Collectors `toOptional()` and `onlyElement()` for exactly this use-case:\r\n\r\n```\r\n// throws exception if there is not exactly 1 matching user\r\nUser searchedUser = users.stream()\r\n    .filter(u -&gt; u.getId() == 1234)\r\n    .collect(MoreCollectors.onlyElement());\r\n```\r\nhttps://www.javadoc.io/doc/com.google.guava/guava/28.0-jre/com/google/common/collect/MoreCollectors.html#onlyElement--","title":"Java Streams verify that there is exactly one result","body":"<p>The Guava library has Collectors <code>toOptional()</code> and <code>onlyElement()</code> for exactly this use-case:</p>\n<pre><code>// throws exception if there is not exactly 1 matching user\nUser searchedUser = users.stream()\n    .filter(u -&gt; u.getId() == 1234)\n    .collect(MoreCollectors.onlyElement());\n</code></pre>\n<p><a href=\"https://www.javadoc.io/doc/com.google.guava/guava/28.0-jre/com/google/common/collect/MoreCollectors.html#onlyElement--\" rel=\"nofollow noreferrer\">https://www.javadoc.io/doc/com.google.guava/guava/28.0-jre/com/google/common/collect/MoreCollectors.html#onlyElement--</a></p>\n"}],"owner":{"account_id":19022722,"reputation":183,"user_id":13886463,"display_name":"Patrick Derckx"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1050,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":66550654,"answer_count":3,"score":2,"last_activity_date":1681380339,"creation_date":1615297003,"question_id":66547936,"body_markdown":"Often, using lists I am coming to a case like below (lets say a user contains an ID and an Name):\r\n\r\n    List&lt;User&gt; users = loadFromDb();\r\n    List&lt;User&gt; lookingForIdResultList = user.stream()\r\n    .filter( u -&gt; u.getId() == 1234)\r\n    .collect(Collectors.toList())\r\n    \r\n    if(lookingForIdResultList.size() == 0) throw UserNotFoundException()\r\n    if(lookingForIdResultList.size() &gt; 1) throw MultipleIdsNotPermittedExcpetion()\r\n    \r\n    User searchedUser = lookingForIdResultList.get(0);\r\n    System.out.println(&quot;Username is &quot;+ searchedUser.getName())\r\n\r\nIm asking, if there is a way to shorten the validation using java streams api?\r\n\r\n**This ist just an oversimplified example, the problem is generic. I don&#39;t want to load users from db.**\r\n\r\nTanks!\r\n","title":"Java Streams verify that there is exactly one result","body":"<p>Often, using lists I am coming to a case like below (lets say a user contains an ID and an Name):</p>\n<pre><code>List&lt;User&gt; users = loadFromDb();\nList&lt;User&gt; lookingForIdResultList = user.stream()\n.filter( u -&gt; u.getId() == 1234)\n.collect(Collectors.toList())\n\nif(lookingForIdResultList.size() == 0) throw UserNotFoundException()\nif(lookingForIdResultList.size() &gt; 1) throw MultipleIdsNotPermittedExcpetion()\n\nUser searchedUser = lookingForIdResultList.get(0);\nSystem.out.println(&quot;Username is &quot;+ searchedUser.getName())\n</code></pre>\n<p>Im asking, if there is a way to shorten the validation using java streams api?</p>\n<p><strong>This ist just an oversimplified example, the problem is generic. I don't want to load users from db.</strong></p>\n<p>Tanks!</p>\n"},{"tags":["java","spring","mongodb","spring-boot","embedded-mongodb"],"comments":[{"owner":{"account_id":5537608,"reputation":413,"user_id":4395348,"display_name":"Volodymyr Masliy"},"score":2,"creation_date":1670792632,"post_id":74734106,"comment_id":131950073,"body_markdown":"Embedded mongo support was dropped in spring 2.7\nCheck this out: https://github.com/flapdoodle-oss/de.flapdoodle.embed.mongo.spring/tree/spring-3.0.x","body":"Embedded mongo support was dropped in spring 2.7 Check this out: <a href=\"https://github.com/flapdoodle-oss/de.flapdoodle.embed.mongo.spring/tree/spring-3.0.x\" rel=\"nofollow noreferrer\">github.com/flapdoodle-oss/de.flapdoodle.embed.mongo.spring/t&zwnj;&#8203;ree/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1674294270,"post_id":75192390,"comment_id":132687116,"body_markdown":"It would be helpful if you could also include the answer to your original problem in this answer.","body":"It would be helpful if you could also include the answer to your original problem in this answer."}],"tags":[],"owner":{"account_id":21073411,"reputation":91,"user_id":20725382,"display_name":"Suori"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674294218,"creation_date":1674293960,"answer_id":75192390,"question_id":74734106,"body_markdown":"Spring Boot 3 support has been added to flapdoodle as described in [this issue](https://github.com/flapdoodle-oss/de.flapdoodle.embed.mongo.spring/issues/2) and i found answer on my question in issues.","title":"How to use embedded MongoDB with SpringBoot v3.0.0?","body":"<p>Spring Boot 3 support has been added to flapdoodle as described in <a href=\"https://github.com/flapdoodle-oss/de.flapdoodle.embed.mongo.spring/issues/2\" rel=\"nofollow noreferrer\">this issue</a> and i found answer on my question in issues.</p>\n"},{"comments":[{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":1,"creation_date":1680470683,"post_id":75535746,"comment_id":133899951,"body_markdown":"That works for me. You can also remove `&lt;scope&gt;test&lt;/scope&gt;`, disable autoconfiguration, and only turn on embedded MongoDB with certain Spring Boot profiles. There are gotchas here and there. I document the process at [Embedded MongoDB Only in IDE using Spring Boot 3.x](https://www.garretwilson.com/blog/2023/04/02/embedded-mongodb-ide-spring-boot-3).","body":"That works for me. You can also remove <code>&lt;scope&gt;test&lt;&#47;scope&gt;</code>, disable autoconfiguration, and only turn on embedded MongoDB with certain Spring Boot profiles. There are gotchas here and there. I document the process at <a href=\"https://www.garretwilson.com/blog/2023/04/02/embedded-mongodb-ide-spring-boot-3\" rel=\"nofollow noreferrer\">Embedded MongoDB Only in IDE using Spring Boot 3.x</a>."},{"owner":{"account_id":13728370,"reputation":454,"user_id":9906495,"display_name":"pujan kc"},"score":0,"creation_date":1686292394,"post_id":75535746,"comment_id":134781577,"body_markdown":"import de.flapdoodle.embed.mongo.MongodExecutable -&gt; cannot be resolved","body":"import de.flapdoodle.embed.mongo.MongodExecutable -&gt; cannot be resolved"}],"tags":[],"owner":{"account_id":3683161,"reputation":693,"user_id":3067615,"accept_rate":44,"display_name":"egimaben"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1677084252,"creation_date":1677084252,"answer_id":75535746,"question_id":74734106,"body_markdown":"The embedded mongo dependency you are using has support for `Spring boot 2.7.x` integration. There&#39;s a [new version][1] for `Spring boot 3.x`. You should only need to make 2 changes to your project:\r\n\r\n**Embedded Mongo dependency**\r\n\r\nYour `pom.xml` currently has:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;de.flapdoodle.embed&lt;/groupId&gt;\r\n        &lt;artifactId&gt;de.flapdoodle.embed.mongo&lt;/artifactId&gt;\r\n        &lt;version&gt;3.5.3&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nChange that to:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;de.flapdoodle.embed&lt;/groupId&gt;\r\n        &lt;artifactId&gt;de.flapdoodle.embed.mongo.spring30x&lt;/artifactId&gt;\r\n        &lt;version&gt;4.5.2&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nNotice the `artifactId` is different. Also `4.5.2` is the latest version at the time of this answer, find the latest anytime on [maven][2].\r\n\r\n**Mongo version configuration**\r\n\r\nYour `application.properties` currently has:\r\n\r\n    spring.mongodb.embedded.version=4.0.2\r\n\r\nChange that to:\r\n\r\n    de.flapdoodle.mongodb.embedded.version=4.0.2\r\n\r\nThe mongo version config is now resolved from flapdoodle&#39;s namespace, not Spring&#39;s.\r\n\r\n\r\n  [1]: https://github.com/flapdoodle-oss/de.flapdoodle.embed.mongo.spring\r\n  [2]: https://mvnrepository.com/artifact/de.flapdoodle.embed/de.flapdoodle.embed.mongo.spring30x","title":"How to use embedded MongoDB with SpringBoot v3.0.0?","body":"<p>The embedded mongo dependency you are using has support for <code>Spring boot 2.7.x</code> integration. There's a <a href=\"https://github.com/flapdoodle-oss/de.flapdoodle.embed.mongo.spring\" rel=\"noreferrer\">new version</a> for <code>Spring boot 3.x</code>. You should only need to make 2 changes to your project:</p>\n<p><strong>Embedded Mongo dependency</strong></p>\n<p>Your <code>pom.xml</code> currently has:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;de.flapdoodle.embed&lt;/groupId&gt;\n    &lt;artifactId&gt;de.flapdoodle.embed.mongo&lt;/artifactId&gt;\n    &lt;version&gt;3.5.3&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Change that to:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;de.flapdoodle.embed&lt;/groupId&gt;\n    &lt;artifactId&gt;de.flapdoodle.embed.mongo.spring30x&lt;/artifactId&gt;\n    &lt;version&gt;4.5.2&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Notice the <code>artifactId</code> is different. Also <code>4.5.2</code> is the latest version at the time of this answer, find the latest anytime on <a href=\"https://mvnrepository.com/artifact/de.flapdoodle.embed/de.flapdoodle.embed.mongo.spring30x\" rel=\"noreferrer\">maven</a>.</p>\n<p><strong>Mongo version configuration</strong></p>\n<p>Your <code>application.properties</code> currently has:</p>\n<pre><code>spring.mongodb.embedded.version=4.0.2\n</code></pre>\n<p>Change that to:</p>\n<pre><code>de.flapdoodle.mongodb.embedded.version=4.0.2\n</code></pre>\n<p>The mongo version config is now resolved from flapdoodle's namespace, not Spring's.</p>\n"},{"comments":[{"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1678022127,"post_id":75593933,"comment_id":133448723,"body_markdown":"This should be an edit to egimaben&#39;s answer.","body":"This should be an edit to egimaben&#39;s answer."}],"tags":[],"owner":{"account_id":18249863,"reputation":21,"user_id":13285094,"display_name":"peisun"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677597436,"creation_date":1677597436,"answer_id":75593933,"question_id":74734106,"body_markdown":"egimaben&#39;s answer helped me a lot. Although there need to be some other changes, I will share them within here just in case somebody needs.\r\n\r\nI&#39;m using an macbook pro m2 and our project is still using springboot `2.6.x`, with `spring.mongodb.embedded.version: 4.0.2` set in the test application&#39;s `application.yaml` file. And it&#39;s having issues as I started to use m2 to run the tests.\r\n\r\nWhat I changed in `build.gradle` (like the egimaben&#39;s answer for maven):\r\n\r\nfrom\r\n```\r\ntestImplementation &#39;de.flapdoodle.embed:de.flapdoodle.embed.mongo&#39;\r\n```\r\nto\r\n```\r\ntestImplementation &quot;de.flapdoodle.embed:de.flapdoodle.embed.mongo.spring27x:4.6.0&quot;\r\n```\r\n\r\nalso need to add:\r\n```\r\ndependencyManagement {\r\n  dependencies {\r\n    dependency group:&#39;de.flapdoodle.embed&#39;, name:&#39;de.flapdoodle.embed.mongo&#39;, version:&quot;4.6.1&quot;\r\n  }\r\n}\r\n```\r\n\r\nthe `de.flapdoodle.embed:de.flapdoodle.embed.mongo.spring27x:4.6.0` is needed and cannot change to `...spring26x:xxx`, also the version `4.6.0` is important here. \r\n\r\nThe `dependencyManagement` section is meant to tell spring not use their own embedded mongodb as we are still using `2.6.x`. The `4.6.1` in `dependencyManagement` section looks like the version `4.6.0` for the `...spring27x`, but it&#39;s not the same. They are from two different repos:\r\n1. https://github.com/flapdoodle-oss/de.flapdoodle.embed.mongo.spring/tree/spring-3.0.x\r\n2. https://github.com/flapdoodle-oss/de.flapdoodle.embed.mongo \r\n\r\nAnd last thing, about the test application&#39;s `application.yaml` file, you can now define the newest mongodb version as it is in the official website: https://www.mongodb.com/download-center/community/releases/archive.\r\n\r\nI chose `6.0.2` which already supports the m2 with the version `macOS ARM 64: Archive: mongodb-macos-arm64-6.0.2.tgz`. So I changed the version inside the `application.yaml` file:\r\n\r\nfrom\r\n```\r\nspring.mongodb.embedded.version: 4.0.2\r\n```\r\nto\r\n```\r\nde.flapdoodle.mongodb.embedded.version: 6.0.2\r\n``` \r\n\r\nhope it helps the people with new macbook pro m2","title":"How to use embedded MongoDB with SpringBoot v3.0.0?","body":"<p>egimaben's answer helped me a lot. Although there need to be some other changes, I will share them within here just in case somebody needs.</p>\n<p>I'm using an macbook pro m2 and our project is still using springboot <code>2.6.x</code>, with <code>spring.mongodb.embedded.version: 4.0.2</code> set in the test application's <code>application.yaml</code> file. And it's having issues as I started to use m2 to run the tests.</p>\n<p>What I changed in <code>build.gradle</code> (like the egimaben's answer for maven):</p>\n<p>from</p>\n<pre><code>testImplementation 'de.flapdoodle.embed:de.flapdoodle.embed.mongo'\n</code></pre>\n<p>to</p>\n<pre><code>testImplementation &quot;de.flapdoodle.embed:de.flapdoodle.embed.mongo.spring27x:4.6.0&quot;\n</code></pre>\n<p>also need to add:</p>\n<pre><code>dependencyManagement {\n  dependencies {\n    dependency group:'de.flapdoodle.embed', name:'de.flapdoodle.embed.mongo', version:&quot;4.6.1&quot;\n  }\n}\n</code></pre>\n<p>the <code>de.flapdoodle.embed:de.flapdoodle.embed.mongo.spring27x:4.6.0</code> is needed and cannot change to <code>...spring26x:xxx</code>, also the version <code>4.6.0</code> is important here.</p>\n<p>The <code>dependencyManagement</code> section is meant to tell spring not use their own embedded mongodb as we are still using <code>2.6.x</code>. The <code>4.6.1</code> in <code>dependencyManagement</code> section looks like the version <code>4.6.0</code> for the <code>...spring27x</code>, but it's not the same. They are from two different repos:</p>\n<ol>\n<li><a href=\"https://github.com/flapdoodle-oss/de.flapdoodle.embed.mongo.spring/tree/spring-3.0.x\" rel=\"nofollow noreferrer\">https://github.com/flapdoodle-oss/de.flapdoodle.embed.mongo.spring/tree/spring-3.0.x</a></li>\n<li><a href=\"https://github.com/flapdoodle-oss/de.flapdoodle.embed.mongo\" rel=\"nofollow noreferrer\">https://github.com/flapdoodle-oss/de.flapdoodle.embed.mongo</a></li>\n</ol>\n<p>And last thing, about the test application's <code>application.yaml</code> file, you can now define the newest mongodb version as it is in the official website: <a href=\"https://www.mongodb.com/download-center/community/releases/archive\" rel=\"nofollow noreferrer\">https://www.mongodb.com/download-center/community/releases/archive</a>.</p>\n<p>I chose <code>6.0.2</code> which already supports the m2 with the version <code>macOS ARM 64: Archive: mongodb-macos-arm64-6.0.2.tgz</code>. So I changed the version inside the <code>application.yaml</code> file:</p>\n<p>from</p>\n<pre><code>spring.mongodb.embedded.version: 4.0.2\n</code></pre>\n<p>to</p>\n<pre><code>de.flapdoodle.mongodb.embedded.version: 6.0.2\n</code></pre>\n<p>hope it helps the people with new macbook pro m2</p>\n"},{"tags":[],"owner":{"account_id":22445773,"reputation":151,"user_id":16649714,"display_name":"cheladon"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1681380294,"creation_date":1681380294,"answer_id":76004174,"question_id":74734106,"body_markdown":"Add to build.gradle:\r\n\r\n    // Embedded Mongo\r\n    implementation &#39;de.flapdoodle.embed:de.flapdoodle.embed.mongo.spring30x:4.6.2&#39;\r\n\r\nAdd to the test properties next:\r\n\r\n    # Tests\r\n    de.flapdoodle.mongodb.embedded.version=5.0.5\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MYnmB.png\r\n\r\n\r\nAnd example of test:\r\n\r\n    @SpringBootTest\r\n    public class ExampleTest {\r\n        @Autowired\r\n        private MongoTemplate mongoTemplate;\r\n    \r\n        @Test\r\n        public void test() {\r\n            mongoTemplate.save(MyEntity.builder()\r\n                    .name(&quot;test&quot;)\r\n                    .email(&quot;test@mail.com&quot;)\r\n                    .build());\r\n        }\r\n    }\r\n\r\n\r\n","title":"How to use embedded MongoDB with SpringBoot v3.0.0?","body":"<p>Add to build.gradle:</p>\n<pre><code>// Embedded Mongo\nimplementation 'de.flapdoodle.embed:de.flapdoodle.embed.mongo.spring30x:4.6.2'\n</code></pre>\n<p>Add to the test properties next:</p>\n<pre><code># Tests\nde.flapdoodle.mongodb.embedded.version=5.0.5\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/MYnmB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MYnmB.png\" alt=\"enter image description here\" /></a></p>\n<p>And example of test:</p>\n<pre><code>@SpringBootTest\npublic class ExampleTest {\n    @Autowired\n    private MongoTemplate mongoTemplate;\n\n    @Test\n    public void test() {\n        mongoTemplate.save(MyEntity.builder()\n                .name(&quot;test&quot;)\n                .email(&quot;test@mail.com&quot;)\n                .build());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21073411,"reputation":91,"user_id":20725382,"display_name":"Suori"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10360,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":4,"score":9,"last_activity_date":1681380294,"creation_date":1670520425,"question_id":74734106,"body_markdown":"I&#39;m trying to connect embedded mongodb and test it with MongoDbSpringIntegrationTest. The problem is that the identical code works with spring boot in 2.7.7 but doesn&#39;t work with spring boot in 3.0.0. The question is how can I enable embedded mongodb for spring boot tests in 3.0.0?\r\n\r\ndependencies in pom.xml:\r\n`\r\n```\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;optional&gt;true&lt;/optional&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;optional&gt;true&lt;/optional&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;de.flapdoodle.embed&lt;/groupId&gt;\r\n        &lt;artifactId&gt;de.flapdoodle.embed.mongo&lt;/artifactId&gt;\r\n        &lt;version&gt;3.5.3&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n`\r\n\r\napplication.properties:\r\n`\r\n```\r\nspring.data.mongodb.database=test\r\nspring.data.mongodb.port=27017\r\nspring.mongodb.embedded.version=4.0.2\r\n\r\n```\r\n`\r\nMongoDbSpringIntegrationTest:\r\n`\r\n```\r\n@DataMongoTest\r\n@ExtendWith(SpringExtension.class)\r\npublic class MongoDbSpringIntegrationTest {\r\n  @DisplayName(&quot;given object to save&quot;\r\n      + &quot; when save object using MongoDB template&quot;\r\n      + &quot; then object is saved&quot;)\r\n  @Test\r\n  public void test(@Autowired MongoTemplate mongoTemplate) {\r\n    // given\r\n    DBObject objectToSave = BasicDBObjectBuilder.start()\r\n        .add(&quot;key&quot;, &quot;value&quot;)\r\n        .get();\r\n\r\n    // when\r\n    mongoTemplate.save(objectToSave, &quot;collection&quot;);\r\n\r\n    // then\r\n    assertThat(mongoTemplate.findAll(DBObject.class, &quot;collection&quot;)).extracting(&quot;key&quot;)\r\n        .containsOnly(&quot;value&quot;);\r\n  }\r\n}\r\n```\r\n`\r\n\r\nWhen I run this I get this error:\r\n`org.springframework.dao.DataAccessResourceFailureException: Timed out after 30000 ms while waiting to connect. Client view of cluster state is {type=UNKNOWN, servers=[{address=localhost:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.ConnectException: Connection refused: no further information}}]`","title":"How to use embedded MongoDB with SpringBoot v3.0.0?","body":"<p>I'm trying to connect embedded mongodb and test it with MongoDbSpringIntegrationTest. The problem is that the identical code works with spring boot in 2.7.7 but doesn't work with spring boot in 3.0.0. The question is how can I enable embedded mongodb for spring boot tests in 3.0.0?</p>\n<p>dependencies in pom.xml:\n`</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;de.flapdoodle.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;de.flapdoodle.embed.mongo&lt;/artifactId&gt;\n        &lt;version&gt;3.5.3&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>`</p>\n<p>application.properties:\n`</p>\n<pre><code>spring.data.mongodb.database=test\nspring.data.mongodb.port=27017\nspring.mongodb.embedded.version=4.0.2\n\n</code></pre>\n<p><code>MongoDbSpringIntegrationTest:</code></p>\n<pre><code>@DataMongoTest\n@ExtendWith(SpringExtension.class)\npublic class MongoDbSpringIntegrationTest {\n  @DisplayName(&quot;given object to save&quot;\n      + &quot; when save object using MongoDB template&quot;\n      + &quot; then object is saved&quot;)\n  @Test\n  public void test(@Autowired MongoTemplate mongoTemplate) {\n    // given\n    DBObject objectToSave = BasicDBObjectBuilder.start()\n        .add(&quot;key&quot;, &quot;value&quot;)\n        .get();\n\n    // when\n    mongoTemplate.save(objectToSave, &quot;collection&quot;);\n\n    // then\n    assertThat(mongoTemplate.findAll(DBObject.class, &quot;collection&quot;)).extracting(&quot;key&quot;)\n        .containsOnly(&quot;value&quot;);\n  }\n}\n</code></pre>\n<p>`</p>\n<p>When I run this I get this error:\n<code>org.springframework.dao.DataAccessResourceFailureException: Timed out after 30000 ms while waiting to connect. Client view of cluster state is {type=UNKNOWN, servers=[{address=localhost:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.ConnectException: Connection refused: no further information}}]</code></p>\n"},{"tags":["java","excel","eclipse","xlsx"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":1,"creation_date":1680802443,"post_id":75951321,"comment_id":133963120,"body_markdown":"Try looking at [Are there any methods to read cells in a particular column in excel using java?](https://www.quora.com/Are-there-any-methods-to-read-cells-in-a-particular-column-in-excel-using-java)","body":"Try looking at <a href=\"https://www.quora.com/Are-there-any-methods-to-read-cells-in-a-particular-column-in-excel-using-java\" rel=\"nofollow noreferrer\">Are there any methods to read cells in a particular column in excel using java?</a>"},{"owner":{"account_id":543600,"reputation":1014,"user_id":2125723,"accept_rate":80,"display_name":"ryanwebjackson"},"score":0,"creation_date":1680834720,"post_id":75951321,"comment_id":133967945,"body_markdown":"This is what you tried, and what is the current result?","body":"This is what you tried, and what is the current result?"},{"owner":{"account_id":27383654,"reputation":1,"user_id":20887884,"display_name":"EmanueleAmbretti"},"score":0,"creation_date":1681296367,"post_id":75951321,"comment_id":134032649,"body_markdown":"@ryanwebjackson result is that, if I&#39;m going to print all in console, I got all the content of the Excel.","body":"@ryanwebjackson result is that, if I&#39;m going to print all in console, I got all the content of the Excel."},{"owner":{"account_id":27383654,"reputation":1,"user_id":20887884,"display_name":"EmanueleAmbretti"},"score":0,"creation_date":1681296570,"post_id":75951321,"comment_id":134032696,"body_markdown":"@AliasCartellano I&#39;ve found some answers like ones that you&#39;ve posted but I would like to  use some native method, maybe from some external framework?","body":"@AliasCartellano I&#39;ve found some answers like ones that you&#39;ve posted but I would like to  use some native method, maybe from some external framework?"},{"owner":{"account_id":543600,"reputation":1014,"user_id":2125723,"accept_rate":80,"display_name":"ryanwebjackson"},"score":0,"creation_date":1681300082,"post_id":75951321,"comment_id":134033454,"body_markdown":"Can you add the current output? That would help narrow down the problem.","body":"Can you add the current output? That would help narrow down the problem."},{"owner":{"account_id":27383654,"reputation":1,"user_id":20887884,"display_name":"EmanueleAmbretti"},"score":1,"creation_date":1681380354,"post_id":75951321,"comment_id":134048301,"body_markdown":"@ryanwebjackson putted the output in the question, as image.","body":"@ryanwebjackson putted the output in the question, as image."}],"owner":{"account_id":27383654,"reputation":1,"user_id":20887884,"display_name":"EmanueleAmbretti"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681380289,"creation_date":1680795441,"question_id":75951321,"body_markdown":"I tried to read some data from an external Excel file (.xlsx) into my Java code (IDE: Eclipse) but I can&#39;t understand how to get values from only one column, identified by column name.\r\n\r\nSomeone can help me? Thanks a lot!\r\n\r\nTried with following snippets:\r\n\r\n```\r\npublic void readXLSX(String excelPath) throws IOException {\r\n\ttry {\r\n\t    FileInputStream fis = new FileInputStream(new File(excelPath));\r\n\t    Workbook wb = new XSSFWorkbook(fis);\r\n\t    for (Sheet sheet : wb) {\r\n\t\tint countRows = countTotalRows(sheet);\r\n\t\tSystem.out.println(&quot;countRows: &quot; + countRows);\r\n\t\tint countCells = countTotalCells(sheet);\r\n\t\tSystem.out.println(&quot;countCells: &quot; + countCells);\r\n\t    }\r\n\t    //\t    readlAllWorksheet(itr);\r\n\r\n\t} catch (Exception e) {\r\n\t    e.printStackTrace();\r\n\t}\r\n    }\r\n    \r\n    private int countTotalCells(Sheet sheet) {\r\n\tList&lt;Cell&gt; listCells = new ArrayList&lt;&gt;(); \r\n\ttry {\r\n\r\n\t    int firstRow = sheet.getFirstRowNum();\r\n\t    int lastRow = sheet.getLastRowNum();\r\n\t    for (int index = firstRow + 1; index &lt;= lastRow; index++) {\r\n\t\tRow row = sheet.getRow(index);\r\n\t\tSystem.out.println();\r\n\t\tif (row != null) {\r\n\t\t    for (int cellIndex = row.getFirstCellNum(); cellIndex &lt; row.getLastCellNum(); cellIndex++) {\r\n\t\t\tCell cell = row.getCell(cellIndex, Row.MissingCellPolicy.CREATE_NULL_AS_BLANK);\r\n\t\t\tprintCellValue(cell);\r\n\t\t\tlistCells.add(cell);\r\n\t\t    }\r\n\t\t}\r\n\t    }\r\n\t} catch (Exception e) {\r\n\t    e.printStackTrace();\r\n\t    return listCells.size();\r\n\t}\r\n\treturn listCells.size();\r\n    }\r\n\r\n    private  void printCellValue(Cell cell) {\r\n\tCellType cellType = cell.getCellTypeEnum().equals(CellType.FORMULA)\r\n\t\t? cell.getCachedFormulaResultTypeEnum() : cell.getCellTypeEnum();\r\n\tif (cellType.equals(CellType.STRING)) {\r\n\t    System.out.print(cell.getStringCellValue() + &quot; | &quot;);\r\n\t}\r\n\tif (cellType.equals(CellType.NUMERIC)) {\r\n\t    if (DateUtil.isCellDateFormatted(cell)) {\r\n\t\tSystem.out.print(cell.getDateCellValue() + &quot; | &quot;);\r\n\t    } else {\r\n\t\tSystem.out.print(cell.getNumericCellValue() + &quot; | &quot;);\r\n\t    }\r\n\t}\r\n\tif (cellType.equals(CellType.BOOLEAN)) {\r\n\t    System.out.print(cell.getBooleanCellValue() + &quot; | &quot;);\r\n\t}\r\n    }\r\n```\r\n\r\n\r\nIn which way can i get column from the Excel, identified by column name, as &#39;ORDERS&#39;?\r\nI&#39;m working with jdk1.8\r\n\r\nThat&#39;s my output right now:\r\n\r\n\r\n[Console Output][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jkgJK.png","title":"How to get rows and columns from external Excel file - JAVA?","body":"<p>I tried to read some data from an external Excel file (.xlsx) into my Java code (IDE: Eclipse) but I can't understand how to get values from only one column, identified by column name.</p>\n<p>Someone can help me? Thanks a lot!</p>\n<p>Tried with following snippets:</p>\n<pre><code>public void readXLSX(String excelPath) throws IOException {\n    try {\n        FileInputStream fis = new FileInputStream(new File(excelPath));\n        Workbook wb = new XSSFWorkbook(fis);\n        for (Sheet sheet : wb) {\n        int countRows = countTotalRows(sheet);\n        System.out.println(&quot;countRows: &quot; + countRows);\n        int countCells = countTotalCells(sheet);\n        System.out.println(&quot;countCells: &quot; + countCells);\n        }\n        //      readlAllWorksheet(itr);\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    }\n    \n    private int countTotalCells(Sheet sheet) {\n    List&lt;Cell&gt; listCells = new ArrayList&lt;&gt;(); \n    try {\n\n        int firstRow = sheet.getFirstRowNum();\n        int lastRow = sheet.getLastRowNum();\n        for (int index = firstRow + 1; index &lt;= lastRow; index++) {\n        Row row = sheet.getRow(index);\n        System.out.println();\n        if (row != null) {\n            for (int cellIndex = row.getFirstCellNum(); cellIndex &lt; row.getLastCellNum(); cellIndex++) {\n            Cell cell = row.getCell(cellIndex, Row.MissingCellPolicy.CREATE_NULL_AS_BLANK);\n            printCellValue(cell);\n            listCells.add(cell);\n            }\n        }\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n        return listCells.size();\n    }\n    return listCells.size();\n    }\n\n    private  void printCellValue(Cell cell) {\n    CellType cellType = cell.getCellTypeEnum().equals(CellType.FORMULA)\n        ? cell.getCachedFormulaResultTypeEnum() : cell.getCellTypeEnum();\n    if (cellType.equals(CellType.STRING)) {\n        System.out.print(cell.getStringCellValue() + &quot; | &quot;);\n    }\n    if (cellType.equals(CellType.NUMERIC)) {\n        if (DateUtil.isCellDateFormatted(cell)) {\n        System.out.print(cell.getDateCellValue() + &quot; | &quot;);\n        } else {\n        System.out.print(cell.getNumericCellValue() + &quot; | &quot;);\n        }\n    }\n    if (cellType.equals(CellType.BOOLEAN)) {\n        System.out.print(cell.getBooleanCellValue() + &quot; | &quot;);\n    }\n    }\n</code></pre>\n<p>In which way can i get column from the Excel, identified by column name, as 'ORDERS'?\nI'm working with jdk1.8</p>\n<p>That's my output right now:</p>\n<p><a href=\"https://i.stack.imgur.com/jkgJK.png\" rel=\"nofollow noreferrer\">Console Output</a></p>\n"},{"tags":["java","android","android-studio","kotlin","android-recyclerview"],"comments":[{"owner":{"account_id":12264493,"reputation":133,"user_id":8951375,"display_name":"charman"},"score":0,"creation_date":1681211830,"post_id":75984907,"comment_id":134016529,"body_markdown":"Is your recyclerView vertical or horizontal?","body":"Is your recyclerView vertical or horizontal?"},{"owner":{"account_id":25996605,"reputation":39,"user_id":19707880,"display_name":"Manuel AS"},"score":0,"creation_date":1681219661,"post_id":75984907,"comment_id":134018523,"body_markdown":"Horizontal :) I&#39;m thinking on cast to Flexbox and try with flexLines","body":"Horizontal :) I&#39;m thinking on cast to Flexbox and try with flexLines"}],"answers":[{"comments":[{"owner":{"account_id":25996605,"reputation":39,"user_id":19707880,"display_name":"Manuel AS"},"score":0,"creation_date":1681379890,"post_id":75988716,"comment_id":134048184,"body_markdown":"Thanks for the reply. I tried that but it didn&#39;t work for me","body":"Thanks for the reply. I tried that but it didn&#39;t work for me"},{"owner":{"account_id":12264493,"reputation":133,"user_id":8951375,"display_name":"charman"},"score":0,"creation_date":1681702919,"post_id":75988716,"comment_id":134093663,"body_markdown":"Oh i see, misunderstood... We can override the method canScrollHorizontally()  to enable/disable scrolling in the specified direction","body":"Oh i see, misunderstood... We can override the method canScrollHorizontally()  to enable/disable scrolling in the specified direction"}],"tags":[],"owner":{"account_id":12264493,"reputation":133,"user_id":8951375,"display_name":"charman"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681235058,"creation_date":1681235058,"answer_id":75988716,"question_id":75984907,"body_markdown":"Please try this:\r\n\r\n    if (recyclerView.canScrollHorizontally(-1)) {\r\n        // Show expand button\r\n    } else {\r\n        // Hide expand button\r\n    }\r\nHere, if you give negative parameter to canScrollHorizontally() it means check if it scrolls left side, positive parameter means right side\r\n","title":"How can I get if a RecyclerView will use more than one line?","body":"<p>Please try this:</p>\n<pre><code>if (recyclerView.canScrollHorizontally(-1)) {\n    // Show expand button\n} else {\n    // Hide expand button\n}\n</code></pre>\n<p>Here, if you give negative parameter to canScrollHorizontally() it means check if it scrolls left side, positive parameter means right side</p>\n"},{"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1681755370,"post_id":76004100,"comment_id":134105006,"body_markdown":"This is not an answer. Update the question with relevant new info.","body":"This is not an answer. Update the question with relevant new info."}],"tags":[],"owner":{"account_id":25996605,"reputation":39,"user_id":19707880,"display_name":"Manuel AS"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681379922,"creation_date":1681379922,"answer_id":76004100,"question_id":75984907,"body_markdown":"Thanks for the reply. I tried that but it didn&#39;t work for me. At the moment, what is working for me is:\r\n\r\n      private fun showOrHideExpandIcon() {\r\n        recyclerView.layoutManager = FlexboxLayoutManager(context)\r\n        recyclerView.consumeViewTreeObserver {\r\n          val rows = (recyclerView.layoutManager as? FlexboxLayoutManager)?.flexLinesInternal?.size\r\n          if (rows != null) {\r\n            if (rows == 1) {\r\n              iconImageView.visibility = View.GONE\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\nThe consumeViewTreeObserver function is a Global Observer created elsewhere so that resources are not used until they are loaded.\r\n\r\nStill, I would be interested to know if there is a way to count for the Linear Layout if you use more than one line","title":"How can I get if a RecyclerView will use more than one line?","body":"<p>Thanks for the reply. I tried that but it didn't work for me. At the moment, what is working for me is:</p>\n<pre><code>  private fun showOrHideExpandIcon() {\n    recyclerView.layoutManager = FlexboxLayoutManager(context)\n    recyclerView.consumeViewTreeObserver {\n      val rows = (recyclerView.layoutManager as? FlexboxLayoutManager)?.flexLinesInternal?.size\n      if (rows != null) {\n        if (rows == 1) {\n          iconImageView.visibility = View.GONE\n        }\n      }\n    }\n  }\n</code></pre>\n<p>The consumeViewTreeObserver function is a Global Observer created elsewhere so that resources are not used until they are loaded.</p>\n<p>Still, I would be interested to know if there is a way to count for the Linear Layout if you use more than one line</p>\n"}],"owner":{"account_id":25996605,"reputation":39,"user_id":19707880,"display_name":"Manuel AS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76004100,"answer_count":2,"score":1,"last_activity_date":1681379922,"creation_date":1681209060,"question_id":75984907,"body_markdown":"Good afternoon.\r\n\r\nI have a `RecyclerView` inside a `ConstraintLayout`. The `RecyclerView` receives a number of items that can vary.\r\n\r\nHow can I find out, for comparison, when the `RecycerView` exceeds the screen width to put an expand button or not?\r\n\r\n  With a `GridLayout` I have figured it out using `.spanCount`. Another option that I have used is `val column: Int = (view.layoutParams as GridLayoutManager.LayoutParams).spanIndex`, but this does not work for me in the case of the `RecyclerView` within the `Constraint`.\r\n\r\n  Can someone help me please? Thanks in advance","title":"How can I get if a RecyclerView will use more than one line?","body":"<p>Good afternoon.</p>\n<p>I have a <code>RecyclerView</code> inside a <code>ConstraintLayout</code>. The <code>RecyclerView</code> receives a number of items that can vary.</p>\n<p>How can I find out, for comparison, when the <code>RecycerView</code> exceeds the screen width to put an expand button or not?</p>\n<p>With a <code>GridLayout</code> I have figured it out using <code>.spanCount</code>. Another option that I have used is <code>val column: Int = (view.layoutParams as GridLayoutManager.LayoutParams).spanIndex</code>, but this does not work for me in the case of the <code>RecyclerView</code> within the <code>Constraint</code>.</p>\n<p>Can someone help me please? Thanks in advance</p>\n"},{"tags":["java","spring","hibernate","logback"],"answers":[{"tags":[],"owner":{"account_id":3215437,"reputation":496,"user_id":2714296,"accept_rate":43,"display_name":"pillesoft"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681379465,"creation_date":1681379465,"answer_id":76004041,"question_id":75987427,"body_markdown":"JBoss logging tries to find the proper logging provider. \r\n- First, it checks a system property `org.jboss.logging.provider`. I didn&#39;t have that - of course.\r\n- Then, tries based on classes available in the classpath. For some reason log4j2 is prioritized over slf4j. And in my case I use Apache POI, which contains log4j2 classes, therefore the system found the classes, and log4j2 logging framework is selected as logging provider. However I didn&#39;t have log4j2 configuration in Resources, so, no hibernate log. \r\n\r\nThat means, the solution for me is to setup `-Dorg.jboss.logging.provider=&quot;slf4j&quot;` as a JVM options.","title":"hibernate 5.6.14 logback logging is working","body":"<p>JBoss logging tries to find the proper logging provider.</p>\n<ul>\n<li>First, it checks a system property <code>org.jboss.logging.provider</code>. I didn't have that - of course.</li>\n<li>Then, tries based on classes available in the classpath. For some reason log4j2 is prioritized over slf4j. And in my case I use Apache POI, which contains log4j2 classes, therefore the system found the classes, and log4j2 logging framework is selected as logging provider. However I didn't have log4j2 configuration in Resources, so, no hibernate log.</li>\n</ul>\n<p>That means, the solution for me is to setup <code>-Dorg.jboss.logging.provider=&quot;slf4j&quot;</code> as a JVM options.</p>\n"}],"owner":{"account_id":3215437,"reputation":496,"user_id":2714296,"accept_rate":43,"display_name":"pillesoft"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681379559,"creation_date":1681225589,"question_id":75987427,"body_markdown":"I have a Spring application (not spring boot!!!) with Hibernate. The Spring framework version is 5.3.26. Hibernate version is 5.6.14.Final\r\n\r\n    &lt;!-- Logging dependencies --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n      &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\r\n      &lt;version&gt;1.4.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n        &lt;version&gt;1.4.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n      &lt;version&gt;2.17.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n      &lt;version&gt;2.0.7&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nPractically i want to log application related classes as DEBUG + all other classes (spring, flyway, poi, etc) to one file, and SQL related classes to another file. This is logback.xml:\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n          &lt;configuration debug=&quot;true&quot;&gt;\r\n          &lt;property name=&quot;LOGS&quot; value=&quot;${APP_HOME}/logs&quot; /&gt;\r\n          &lt;appender name=&quot;RollingFileAll&quot;\r\n                class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n        &lt;file&gt;${LOGS}/all.log&lt;/file&gt;\r\n        &lt;encoder\r\n          class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\r\n          &lt;Pattern&gt;\r\n            %d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n\r\n          &lt;/Pattern&gt;\r\n        &lt;/encoder&gt;\r\n    \r\n        &lt;rollingPolicy\r\n          class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n          &lt;fileNamePattern&gt;${LOGS}/%d{yyyy-MM, aux}/all-%d{yyyy-MM-dd}.log.gz\r\n          &lt;/fileNamePattern&gt;\r\n          &lt;maxHistory&gt;60&lt;/maxHistory&gt;\r\n          &lt;totalSizeCap&gt;250MB&lt;/totalSizeCap&gt;\r\n        &lt;/rollingPolicy&gt;\r\n      &lt;/appender&gt;\r\n      \r\n      &lt;appender name=&quot;RollingFileSql&quot;\r\n                class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n        &lt;file&gt;${LOGS}/sql.log&lt;/file&gt;\r\n        &lt;encoder\r\n          class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\r\n          &lt;Pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSSXXX} %p %c{3} [%t] user=%X{userName} %m%n&lt;/Pattern&gt;\r\n        &lt;/encoder&gt;\r\n    \r\n        &lt;rollingPolicy\r\n          class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n          &lt;fileNamePattern&gt;${LOGS}/%d{yyyy-MM, aux}/sql-%d{yyyy-MM-dd}.log.gz\r\n          &lt;/fileNamePattern&gt;\r\n          &lt;maxHistory&gt;60&lt;/maxHistory&gt;\r\n          &lt;totalSizeCap&gt;250MB&lt;/totalSizeCap&gt;\r\n        &lt;/rollingPolicy&gt;\r\n      &lt;/appender&gt;\r\n    \r\n      &lt;!-- LOG &quot;application classes&quot; at debug level --&gt;\r\n      &lt;logger name=&quot;com.Application.cctng&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\r\n        &lt;appender-ref ref=&quot;RollingFileAll&quot; /&gt;\r\n      &lt;/logger&gt;\r\n    \r\n      &lt;logger name=&quot;org.hibernate.SQL&quot; level=&quot;debug&quot; additivity=&quot;false&quot; &gt;\r\n        &lt;appender-ref ref=&quot;RollingFileSql&quot;  /&gt;\r\n      &lt;/logger&gt;\r\n      &lt;logger name=&quot;org.hibernate.type.descriptor.sql&quot; level=&quot;trace&quot; additivity=&quot;false&quot; &gt;\r\n        &lt;appender-ref ref=&quot;RollingFileSql&quot;  /&gt;\r\n      &lt;/logger&gt;\r\n      &lt;logger name=&quot;org.hibernate.stat&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\r\n        &lt;appender-ref ref=&quot;RollingFileSql&quot;/&gt;\r\n      &lt;/logger&gt;\r\n      &lt;logger name=&quot;org.hibernate.SQL_SLOW&quot; level=&quot;info&quot; additivity=&quot;false&quot;&gt;\r\n        &lt;appender-ref ref=&quot;RollingFileSql&quot;/&gt;\r\n      &lt;/logger&gt;\r\n      &lt;logger name=&quot;org.hibernate.cache&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\r\n        &lt;appender-ref ref=&quot;RollingFileSql&quot;/&gt;\r\n      &lt;/logger&gt;\r\n    \r\n      &lt;!--   LOG everything at INFO level--&gt;\r\n      &lt;root level=&quot;info&quot; &gt;\r\n        &lt;appender-ref ref=&quot;RollingFileAll&quot; /&gt;\r\n      &lt;/root&gt;\r\n    \r\n    &lt;/configuration&gt;\r\n\r\nBut the sql log file is completely empty, while the application related log is working fine.\r\n","title":"hibernate 5.6.14 logback logging is working","body":"<p>I have a Spring application (not spring boot!!!) with Hibernate. The Spring framework version is 5.3.26. Hibernate version is 5.6.14.Final</p>\n<pre><code>&lt;!-- Logging dependencies --&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n  &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\n  &lt;version&gt;1.4.6&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n    &lt;version&gt;1.4.6&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n  &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n  &lt;version&gt;2.17.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n  &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n  &lt;version&gt;2.0.7&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Practically i want to log application related classes as DEBUG + all other classes (spring, flyway, poi, etc) to one file, and SQL related classes to another file. This is logback.xml:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n      &lt;configuration debug=&quot;true&quot;&gt;\n      &lt;property name=&quot;LOGS&quot; value=&quot;${APP_HOME}/logs&quot; /&gt;\n      &lt;appender name=&quot;RollingFileAll&quot;\n            class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n    &lt;file&gt;${LOGS}/all.log&lt;/file&gt;\n    &lt;encoder\n      class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\n      &lt;Pattern&gt;\n        %d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n\n      &lt;/Pattern&gt;\n    &lt;/encoder&gt;\n\n    &lt;rollingPolicy\n      class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\n      &lt;fileNamePattern&gt;${LOGS}/%d{yyyy-MM, aux}/all-%d{yyyy-MM-dd}.log.gz\n      &lt;/fileNamePattern&gt;\n      &lt;maxHistory&gt;60&lt;/maxHistory&gt;\n      &lt;totalSizeCap&gt;250MB&lt;/totalSizeCap&gt;\n    &lt;/rollingPolicy&gt;\n  &lt;/appender&gt;\n  \n  &lt;appender name=&quot;RollingFileSql&quot;\n            class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n    &lt;file&gt;${LOGS}/sql.log&lt;/file&gt;\n    &lt;encoder\n      class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\n      &lt;Pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSSXXX} %p %c{3} [%t] user=%X{userName} %m%n&lt;/Pattern&gt;\n    &lt;/encoder&gt;\n\n    &lt;rollingPolicy\n      class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\n      &lt;fileNamePattern&gt;${LOGS}/%d{yyyy-MM, aux}/sql-%d{yyyy-MM-dd}.log.gz\n      &lt;/fileNamePattern&gt;\n      &lt;maxHistory&gt;60&lt;/maxHistory&gt;\n      &lt;totalSizeCap&gt;250MB&lt;/totalSizeCap&gt;\n    &lt;/rollingPolicy&gt;\n  &lt;/appender&gt;\n\n  &lt;!-- LOG &quot;application classes&quot; at debug level --&gt;\n  &lt;logger name=&quot;com.Application.cctng&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\n    &lt;appender-ref ref=&quot;RollingFileAll&quot; /&gt;\n  &lt;/logger&gt;\n\n  &lt;logger name=&quot;org.hibernate.SQL&quot; level=&quot;debug&quot; additivity=&quot;false&quot; &gt;\n    &lt;appender-ref ref=&quot;RollingFileSql&quot;  /&gt;\n  &lt;/logger&gt;\n  &lt;logger name=&quot;org.hibernate.type.descriptor.sql&quot; level=&quot;trace&quot; additivity=&quot;false&quot; &gt;\n    &lt;appender-ref ref=&quot;RollingFileSql&quot;  /&gt;\n  &lt;/logger&gt;\n  &lt;logger name=&quot;org.hibernate.stat&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\n    &lt;appender-ref ref=&quot;RollingFileSql&quot;/&gt;\n  &lt;/logger&gt;\n  &lt;logger name=&quot;org.hibernate.SQL_SLOW&quot; level=&quot;info&quot; additivity=&quot;false&quot;&gt;\n    &lt;appender-ref ref=&quot;RollingFileSql&quot;/&gt;\n  &lt;/logger&gt;\n  &lt;logger name=&quot;org.hibernate.cache&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\n    &lt;appender-ref ref=&quot;RollingFileSql&quot;/&gt;\n  &lt;/logger&gt;\n\n  &lt;!--   LOG everything at INFO level--&gt;\n  &lt;root level=&quot;info&quot; &gt;\n    &lt;appender-ref ref=&quot;RollingFileAll&quot; /&gt;\n  &lt;/root&gt;\n\n&lt;/configuration&gt;\n</code></pre>\n<p>But the sql log file is completely empty, while the application related log is working fine.</p>\n"},{"tags":["java","web-applications","vaadin8"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1681389827,"post_id":76003179,"comment_id":134050627,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":28292432,"reputation":1,"user_id":21632341,"display_name":"Sunilkumar Gutti"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681379048,"creation_date":1681373796,"question_id":76003179,"body_markdown":"We are running the vaadin8 application in wildlfy21 and we are encoutered with widfly thread count is increasing frequently and it causing the unexpected behaviour to the system, can you please hlep us how to resolve this ?\r\n\r\nThanks in advace.\r\n\r\nBelow is the log form the thread dump.\r\n\r\n```\r\nThread 17901: (state = BLOCKED)\r\n - sun.misc.Unsafe.park(boolean, long) @bci=0 (Compiled frame; information may be imprecise)\r\n - java.util.concurrent.locks.LockSupport.park(java.lang.Object) @bci=14, line=175 (Compiled frame)\r\n - java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt() @bci=1, line=836 (Compiled frame)\r\n - java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(java.util.concurrent.locks.AbstractQueuedSynchronizer$Node, int) @bci=67, line=870 (Compiled frame)\r\n - java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(int) @bci=17, line=1199 (Compiled frame)\r\n - java.util.concurrent.locks.ReentrantLock$NonfairSync.lock() @bci=21, line=209 (Compiled frame)\r\n - java.util.concurrent.locks.ReentrantLock.lock() @bci=4, line=285 (Compiled frame)\r\n - com.vaadin.server.VaadinService.lockSession(com.vaadin.server.WrappedSession) @bci=52, line=714 (Compiled frame)\r\n - com.vaadin.server.VaadinService.findOrCreateVaadinSession(com.vaadin.server.VaadinRequest) @bci=15, line=760 (Compiled frame)\r\n - com.vaadin.server.VaadinService.findVaadinSession(com.vaadin.server.VaadinRequest) @bci=2, line=605 (Compiled frame)\r\n - com.blujaysolutions.tmff.vaadin.servlets.TMFFVaadinServletService.findVaadinSession(com.vaadin.server.VaadinRequest) @bci=2, line=58 (Compiled frame)\r\n - com.vaadin.server.VaadinService.handleRequest(com.vaadin.server.VaadinRequest, com.vaadin.server.VaadinResponse) @bci=10, line=1631 (Compiled frame)\r\n - com.blujaysolutions.tmff.vaadin.servlets.TMFFVaadinServletService.handleRequest(com.vaadin.server.VaadinRequest, com.vaadin.server.VaadinResponse) @bci=6, line=47 (Compiled frame)\r\n - com.vaadin.server.VaadinServlet.service(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse) @bci=81, line=464 (Compiled frame)\r\n - com.blujaysolutions.tmff.vaadin.servlets.TMFFAppVaadinServlet.service(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse) @bci=7, line=97 (Compiled frame)\r\n - javax.servlet.http.HttpServlet.service(javax.servlet.ServletRequest, javax.servlet.ServletResponse) @bci=39, line=590 (Compiled frame)\r\n - io.undertow.servlet.handlers.ServletHandler.handleRequest(io.undertow.server.HttpServerExchange) @bci=143, line=74 (Compiled frame)\r\n - io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(javax.servlet.ServletRequest, javax.servlet.ServletResponse) @bci=124, line=129 (Compiled frame)\r\n - io.undertow.websockets.jsr.JsrWebSocketFilter.doFilter(javax.servlet.ServletRequest, javax.servlet.ServletResponse, javax.servlet.FilterChain) @bci=315, line=173 (Compiled frame)\r\n - io.undertow.servlet.core.ManagedFilter.doFilter(javax.servlet.ServletRequest, javax.servlet.ServletResponse, javax.servlet.FilterChain) @bci=60, line=61 (Compiled frame)\r\n - io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(javax.servlet.ServletRequest, javax.servlet.ServletResponse) @bci=149, line=131 (Compiled frame)\r\n - com.blujaysolutions.tmff.servlets.TMFFAPPAuthenticateFilter.doFilter(javax.servlet.ServletRequest, javax.servlet.ServletResponse, javax.servlet.FilterChain) @bci=326, line=157 (Compiled frame)\r\n - io.undertow.servlet.core.ManagedFilter.doFilter(javax.servlet.ServletRequest, javax.servlet.ServletResponse, javax.servlet.FilterChain) @bci=60, line=61 (Compiled frame)\r\n - io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(javax.servlet.ServletRequest, javax.servlet.ServletResponse) @bci=149, line=131 (Compiled frame)\r\n - io.undertow.servlet.handlers.FilterHandler.handleRequest(io.undertow.server.HttpServerExchange) @bci=122, line=84 (Compiled frame)\r\n - io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(io.undertow.server.HttpServerExchange) @bci=104, line=62 (Compiled frame)\r\n - io.undertow.servlet.handlers.ServletChain$1.handleRequest(io.undertow.server.HttpServerExchange) @bci=62, line=68 (Compiled frame)\r\n - io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(io.undertow.server.HttpServerExchange) @bci=19, line=36 (Compiled frame)\r\n - org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(io.undertow.server.HttpServerExchange) @bci=118, line=78 (Compiled frame)\r\n - io.undertow.server.handlers.PredicateHandler.handleRequest(io.undertow.server.HttpServerExchange) @bci=27, line=43 (Compiled frame)\r\n - io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(io.undertow.server.HttpServerExchange) @bci=152, line=68 (Compiled frame)\r\n - io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(io.undertow.server.HttpServerExchange) @bci=101, line=132 (Compiled frame)\r\n - io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(io.undertow.server.HttpServerExchange) @bci=40, line=57 (Compiled frame)\r\n - io.undertow.server.handlers.PredicateHandler.handleRequest(io.undertow.server.HttpServerExchange) @bci=27, line=43 (Compiled frame)\r\n - io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(io.undertow.server.HttpServerExchange) @bci=21, line=46 (Compiled frame)\r\n - io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(io.undertow.server.HttpServerExchange) @bci=99, line=64 (Compiled frame)\r\n - io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(io.undertow.server.HttpServerExchange) @bci=58, line=60 (Compiled frame)\r\n - io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(io.undertow.server.HttpServerExchange) @bci=51, line=77 (Compiled frame)\r\n - io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(io.undertow.server.HttpServerExchange) @bci=39, line=50 (Compiled frame)\r\n - io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(io.undertow.server.HttpServerExchange) @bci=14, line=43 (Compiled frame)\r\n - io.undertow.server.handlers.PredicateHandler.handleRequest(io.undertow.server.HttpServerExchange) @bci=27, line=43 (Compiled frame)\r\n - org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(io.undertow.server.HttpServerExchange) @bci=16, line=61 (Compiled frame)\r\n - io.undertow.server.handlers.PredicateHandler.handleRequest(io.undertow.server.HttpServerExchange) @bci=27, line=43 (Compiled frame)\r\n - org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(io.undertow.server.HttpServerExchange) @bci=20, line=68 (Compiled frame)\r\n - io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(io.undertow.server.HttpServerExchange) @bci=56, line=52 (Compiled frame)\r\n - io.undertow.server.handlers.PredicateHandler.handleRequest(io.undertow.server.HttpServerExchange) @bci=27, line=43 (Compiled frame)\r\n - io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(io.undertow.server.HttpServerExchange, io.undertow.servlet.handlers.ServletRequestContext) @bci=108, line=269 (Compiled frame)\r\n - io.undertow.servlet.handlers.ServletInitialHandler.access$100(io.undertow.servlet.handlers.ServletInitialHandler, io.undertow.server.HttpServerExchange, io.undertow.servlet.handlers.ServletRequestContext) @bci=3, line=78 (Compiled frame)\r\n - io.undertow.servlet.handlers.ServletInitialHandler$2.call(io.undertow.server.HttpServerExchange, io.undertow.servlet.handlers.ServletRequestContext) @bci=6, line=133 (Compiled frame)\r\n - io.undertow.servlet.handlers.ServletInitialHandler$2.call(io.undertow.server.HttpServerExchange, java.lang.Object) @bci=6, line=130 (Compiled frame)\r\n - io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(io.undertow.server.HttpServerExchange, java.lang.Object) @bci=42, line=48 (Compiled frame)\r\n - io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(io.undertow.server.HttpServerExchange, java.lang.Object) @bci=20, line=43 (Compiled frame)\r\n - org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(io.undertow.servlet.api.ThreadSetupHandler$Action, io.undertow.server.HttpServerExchange, java.lang.Object) @bci=127, line=105 (Compiled frame)\r\n - org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction$$Lambda$907.call(io.undertow.server.HttpServerExchange, java.lang.Object) @bci=10 (Compiled frame)\r\n - org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(io.undertow.servlet.api.ThreadSetupHandler$Action, io.undertow.server.HttpServerExchange, java.lang.Object) @bci=15, line=1530 (Compiled frame)\r\n - org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$908.call(io.undertow.server.HttpServerExchange, java.lang.Object) @bci=10 (Compiled frame)\r\n - org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(io.undertow.servlet.api.ThreadSetupHandler$Action, io.undertow.server.HttpServerExchange, java.lang.Object) @bci=15, line=1530 (Compiled frame)\r\n - org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$908.call(io.undertow.server.HttpServerExchange, java.lang.Object) @bci=10 (Compiled frame)\r\n - org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(io.undertow.servlet.api.ThreadSetupHandler$Action, io.undertow.server.HttpServerExchange, java.lang.Object) @bci=15, line=1530 (Compiled frame)\r\n - org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$908.call(io.undertow.server.HttpServerExchange, java.lang.Object) @bci=10 (Compiled frame)\r\n - org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(io.undertow.servlet.api.ThreadSetupHandler$Action, io.undertow.server.HttpServerExchange, java.lang.Object) @bci=15, line=1530 (Compiled frame)\r\n - org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$908.call(io.undertow.server.HttpServerExchange, java.lang.Object) @bci=10 (Compiled frame)\r\n - io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(io.undertow.server.HttpServerExchange, io.undertow.servlet.handlers.ServletRequestContext, io.undertow.servlet.handlers.ServletChain, javax.servlet.DispatcherType) @bci=33, line=249 (Compiled frame)\r\n - io.undertow.servlet.handlers.ServletInitialHandler.access$000(io.undertow.servlet.handlers.ServletInitialHandler, io.undertow.server.HttpServerExchange, io.undertow.servlet.handlers.ServletRequestContext, io.undertow.servlet.handlers.ServletChain, javax.servlet.DispatcherType) @bci=6, line=78 (Compiled frame)\r\n - io.undertow.servlet.handlers.ServletInitialHandler$1$1.run() @bci=28, line=105 (Compiled frame)\r\n - java.security.AccessController.doPrivileged(java.security.PrivilegedExceptionAction) @bci=0 (Compiled frame)\r\n - io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(io.undertow.server.HttpServerExchange) @bci=49, line=102 (Compiled frame)\r\n - io.undertow.server.Connectors.executeRootHandler(io.undertow.server.HttpHandler, io.undertow.server.HttpServerExchange) @bci=8, line=387 (Compiled frame)\r\n - io.undertow.server.HttpServerExchange$1.run() @bci=8, line=841 (Compiled frame)\r\n - org.jboss.threads.ContextClassLoaderSavingRunnable.run() @bci=17, line=35 (Compiled frame)\r\n - org.jboss.threads.EnhancedQueueExecutor.safeRun(java.lang.Runnable) @bci=39, line=1990 (Compiled frame)\r\n - org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(java.lang.Runnable) @bci=48, line=1486 (Compiled frame)\r\n - org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run() @bci=201, line=1377 (Compiled frame)\r\n - org.xnio.XnioWorker$WorkerThreadFactory$1$1.run() @bci=7, line=1280 (Interpreted frame)\r\n - java.lang.Thread.run() @bci=11, line=748 (Compiled frame)\r\n\r\n\r\nThread 17178: (state = BLOCKED)\r\n - sun.misc.Unsafe.park(boolean, long) @bci=0 (Compiled frame; information may be imprecise)\r\n - java.util.concurrent.locks.LockSupport.parkNanos(java.lang.Object, long) @bci=20, line=215 (Compiled frame)\r\n - org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run() @bci=442, line=1421 (Compiled frame)\r\n - org.xnio.XnioWorker$WorkerThreadFactory$1$1.run() @bci=7, line=1280 (Interpreted frame)\r\n - java.lang.Thread.run() @bci=11, line=748 (Compiled frame)\r\n\r\n```\r\nHow to fix the thread blockage and root cause.","title":"Vaadin8 and wildfly 21 reported with thread leaks","body":"<p>We are running the vaadin8 application in wildlfy21 and we are encoutered with widfly thread count is increasing frequently and it causing the unexpected behaviour to the system, can you please hlep us how to resolve this ?</p>\n<p>Thanks in advace.</p>\n<p>Below is the log form the thread dump.</p>\n<pre><code>Thread 17901: (state = BLOCKED)\n - sun.misc.Unsafe.park(boolean, long) @bci=0 (Compiled frame; information may be imprecise)\n - java.util.concurrent.locks.LockSupport.park(java.lang.Object) @bci=14, line=175 (Compiled frame)\n - java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt() @bci=1, line=836 (Compiled frame)\n - java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(java.util.concurrent.locks.AbstractQueuedSynchronizer$Node, int) @bci=67, line=870 (Compiled frame)\n - java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(int) @bci=17, line=1199 (Compiled frame)\n - java.util.concurrent.locks.ReentrantLock$NonfairSync.lock() @bci=21, line=209 (Compiled frame)\n - java.util.concurrent.locks.ReentrantLock.lock() @bci=4, line=285 (Compiled frame)\n - com.vaadin.server.VaadinService.lockSession(com.vaadin.server.WrappedSession) @bci=52, line=714 (Compiled frame)\n - com.vaadin.server.VaadinService.findOrCreateVaadinSession(com.vaadin.server.VaadinRequest) @bci=15, line=760 (Compiled frame)\n - com.vaadin.server.VaadinService.findVaadinSession(com.vaadin.server.VaadinRequest) @bci=2, line=605 (Compiled frame)\n - com.blujaysolutions.tmff.vaadin.servlets.TMFFVaadinServletService.findVaadinSession(com.vaadin.server.VaadinRequest) @bci=2, line=58 (Compiled frame)\n - com.vaadin.server.VaadinService.handleRequest(com.vaadin.server.VaadinRequest, com.vaadin.server.VaadinResponse) @bci=10, line=1631 (Compiled frame)\n - com.blujaysolutions.tmff.vaadin.servlets.TMFFVaadinServletService.handleRequest(com.vaadin.server.VaadinRequest, com.vaadin.server.VaadinResponse) @bci=6, line=47 (Compiled frame)\n - com.vaadin.server.VaadinServlet.service(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse) @bci=81, line=464 (Compiled frame)\n - com.blujaysolutions.tmff.vaadin.servlets.TMFFAppVaadinServlet.service(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse) @bci=7, line=97 (Compiled frame)\n - javax.servlet.http.HttpServlet.service(javax.servlet.ServletRequest, javax.servlet.ServletResponse) @bci=39, line=590 (Compiled frame)\n - io.undertow.servlet.handlers.ServletHandler.handleRequest(io.undertow.server.HttpServerExchange) @bci=143, line=74 (Compiled frame)\n - io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(javax.servlet.ServletRequest, javax.servlet.ServletResponse) @bci=124, line=129 (Compiled frame)\n - io.undertow.websockets.jsr.JsrWebSocketFilter.doFilter(javax.servlet.ServletRequest, javax.servlet.ServletResponse, javax.servlet.FilterChain) @bci=315, line=173 (Compiled frame)\n - io.undertow.servlet.core.ManagedFilter.doFilter(javax.servlet.ServletRequest, javax.servlet.ServletResponse, javax.servlet.FilterChain) @bci=60, line=61 (Compiled frame)\n - io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(javax.servlet.ServletRequest, javax.servlet.ServletResponse) @bci=149, line=131 (Compiled frame)\n - com.blujaysolutions.tmff.servlets.TMFFAPPAuthenticateFilter.doFilter(javax.servlet.ServletRequest, javax.servlet.ServletResponse, javax.servlet.FilterChain) @bci=326, line=157 (Compiled frame)\n - io.undertow.servlet.core.ManagedFilter.doFilter(javax.servlet.ServletRequest, javax.servlet.ServletResponse, javax.servlet.FilterChain) @bci=60, line=61 (Compiled frame)\n - io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(javax.servlet.ServletRequest, javax.servlet.ServletResponse) @bci=149, line=131 (Compiled frame)\n - io.undertow.servlet.handlers.FilterHandler.handleRequest(io.undertow.server.HttpServerExchange) @bci=122, line=84 (Compiled frame)\n - io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(io.undertow.server.HttpServerExchange) @bci=104, line=62 (Compiled frame)\n - io.undertow.servlet.handlers.ServletChain$1.handleRequest(io.undertow.server.HttpServerExchange) @bci=62, line=68 (Compiled frame)\n - io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(io.undertow.server.HttpServerExchange) @bci=19, line=36 (Compiled frame)\n - org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(io.undertow.server.HttpServerExchange) @bci=118, line=78 (Compiled frame)\n - io.undertow.server.handlers.PredicateHandler.handleRequest(io.undertow.server.HttpServerExchange) @bci=27, line=43 (Compiled frame)\n - io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(io.undertow.server.HttpServerExchange) @bci=152, line=68 (Compiled frame)\n - io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(io.undertow.server.HttpServerExchange) @bci=101, line=132 (Compiled frame)\n - io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(io.undertow.server.HttpServerExchange) @bci=40, line=57 (Compiled frame)\n - io.undertow.server.handlers.PredicateHandler.handleRequest(io.undertow.server.HttpServerExchange) @bci=27, line=43 (Compiled frame)\n - io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(io.undertow.server.HttpServerExchange) @bci=21, line=46 (Compiled frame)\n - io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(io.undertow.server.HttpServerExchange) @bci=99, line=64 (Compiled frame)\n - io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(io.undertow.server.HttpServerExchange) @bci=58, line=60 (Compiled frame)\n - io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(io.undertow.server.HttpServerExchange) @bci=51, line=77 (Compiled frame)\n - io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(io.undertow.server.HttpServerExchange) @bci=39, line=50 (Compiled frame)\n - io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(io.undertow.server.HttpServerExchange) @bci=14, line=43 (Compiled frame)\n - io.undertow.server.handlers.PredicateHandler.handleRequest(io.undertow.server.HttpServerExchange) @bci=27, line=43 (Compiled frame)\n - org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(io.undertow.server.HttpServerExchange) @bci=16, line=61 (Compiled frame)\n - io.undertow.server.handlers.PredicateHandler.handleRequest(io.undertow.server.HttpServerExchange) @bci=27, line=43 (Compiled frame)\n - org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(io.undertow.server.HttpServerExchange) @bci=20, line=68 (Compiled frame)\n - io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(io.undertow.server.HttpServerExchange) @bci=56, line=52 (Compiled frame)\n - io.undertow.server.handlers.PredicateHandler.handleRequest(io.undertow.server.HttpServerExchange) @bci=27, line=43 (Compiled frame)\n - io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(io.undertow.server.HttpServerExchange, io.undertow.servlet.handlers.ServletRequestContext) @bci=108, line=269 (Compiled frame)\n - io.undertow.servlet.handlers.ServletInitialHandler.access$100(io.undertow.servlet.handlers.ServletInitialHandler, io.undertow.server.HttpServerExchange, io.undertow.servlet.handlers.ServletRequestContext) @bci=3, line=78 (Compiled frame)\n - io.undertow.servlet.handlers.ServletInitialHandler$2.call(io.undertow.server.HttpServerExchange, io.undertow.servlet.handlers.ServletRequestContext) @bci=6, line=133 (Compiled frame)\n - io.undertow.servlet.handlers.ServletInitialHandler$2.call(io.undertow.server.HttpServerExchange, java.lang.Object) @bci=6, line=130 (Compiled frame)\n - io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(io.undertow.server.HttpServerExchange, java.lang.Object) @bci=42, line=48 (Compiled frame)\n - io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(io.undertow.server.HttpServerExchange, java.lang.Object) @bci=20, line=43 (Compiled frame)\n - org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(io.undertow.servlet.api.ThreadSetupHandler$Action, io.undertow.server.HttpServerExchange, java.lang.Object) @bci=127, line=105 (Compiled frame)\n - org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction$$Lambda$907.call(io.undertow.server.HttpServerExchange, java.lang.Object) @bci=10 (Compiled frame)\n - org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(io.undertow.servlet.api.ThreadSetupHandler$Action, io.undertow.server.HttpServerExchange, java.lang.Object) @bci=15, line=1530 (Compiled frame)\n - org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$908.call(io.undertow.server.HttpServerExchange, java.lang.Object) @bci=10 (Compiled frame)\n - org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(io.undertow.servlet.api.ThreadSetupHandler$Action, io.undertow.server.HttpServerExchange, java.lang.Object) @bci=15, line=1530 (Compiled frame)\n - org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$908.call(io.undertow.server.HttpServerExchange, java.lang.Object) @bci=10 (Compiled frame)\n - org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(io.undertow.servlet.api.ThreadSetupHandler$Action, io.undertow.server.HttpServerExchange, java.lang.Object) @bci=15, line=1530 (Compiled frame)\n - org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$908.call(io.undertow.server.HttpServerExchange, java.lang.Object) @bci=10 (Compiled frame)\n - org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(io.undertow.servlet.api.ThreadSetupHandler$Action, io.undertow.server.HttpServerExchange, java.lang.Object) @bci=15, line=1530 (Compiled frame)\n - org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction$$Lambda$908.call(io.undertow.server.HttpServerExchange, java.lang.Object) @bci=10 (Compiled frame)\n - io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(io.undertow.server.HttpServerExchange, io.undertow.servlet.handlers.ServletRequestContext, io.undertow.servlet.handlers.ServletChain, javax.servlet.DispatcherType) @bci=33, line=249 (Compiled frame)\n - io.undertow.servlet.handlers.ServletInitialHandler.access$000(io.undertow.servlet.handlers.ServletInitialHandler, io.undertow.server.HttpServerExchange, io.undertow.servlet.handlers.ServletRequestContext, io.undertow.servlet.handlers.ServletChain, javax.servlet.DispatcherType) @bci=6, line=78 (Compiled frame)\n - io.undertow.servlet.handlers.ServletInitialHandler$1$1.run() @bci=28, line=105 (Compiled frame)\n - java.security.AccessController.doPrivileged(java.security.PrivilegedExceptionAction) @bci=0 (Compiled frame)\n - io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(io.undertow.server.HttpServerExchange) @bci=49, line=102 (Compiled frame)\n - io.undertow.server.Connectors.executeRootHandler(io.undertow.server.HttpHandler, io.undertow.server.HttpServerExchange) @bci=8, line=387 (Compiled frame)\n - io.undertow.server.HttpServerExchange$1.run() @bci=8, line=841 (Compiled frame)\n - org.jboss.threads.ContextClassLoaderSavingRunnable.run() @bci=17, line=35 (Compiled frame)\n - org.jboss.threads.EnhancedQueueExecutor.safeRun(java.lang.Runnable) @bci=39, line=1990 (Compiled frame)\n - org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(java.lang.Runnable) @bci=48, line=1486 (Compiled frame)\n - org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run() @bci=201, line=1377 (Compiled frame)\n - org.xnio.XnioWorker$WorkerThreadFactory$1$1.run() @bci=7, line=1280 (Interpreted frame)\n - java.lang.Thread.run() @bci=11, line=748 (Compiled frame)\n\n\nThread 17178: (state = BLOCKED)\n - sun.misc.Unsafe.park(boolean, long) @bci=0 (Compiled frame; information may be imprecise)\n - java.util.concurrent.locks.LockSupport.parkNanos(java.lang.Object, long) @bci=20, line=215 (Compiled frame)\n - org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run() @bci=442, line=1421 (Compiled frame)\n - org.xnio.XnioWorker$WorkerThreadFactory$1$1.run() @bci=7, line=1280 (Interpreted frame)\n - java.lang.Thread.run() @bci=11, line=748 (Compiled frame)\n\n</code></pre>\n<p>How to fix the thread blockage and root cause.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1681317851,"post_id":75996130,"comment_id":134038216,"body_markdown":"you are missing that you should enable spring security DEBUG logs and check why you are being redirected in a loop. Most likely that you are redirected somewhere where you dont have permission that then redirects you into your filter and around we go....","body":"you are missing that you should enable spring security DEBUG logs and check why you are being redirected in a loop. Most likely that you are redirected somewhere where you dont have permission that then redirects you into your filter and around we go...."},{"owner":{"account_id":7446936,"reputation":475,"user_id":5662792,"display_name":"FreddCha"},"score":0,"creation_date":1681377889,"post_id":75996130,"comment_id":134047683,"body_markdown":"This I have thoroughly. I think it takes more effort to ask a question here than just to enable logging in spring.","body":"This I have thoroughly. I think it takes more effort to ask a question here than just to enable logging in spring."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1681378441,"post_id":75996130,"comment_id":134047834,"body_markdown":"well considering you have not posted any of your logs in your question, i can only assume what you have put in writing, last time i checked no one here is a mind reader. Comments are only a reflection of the question.","body":"well considering you have not posted any of your logs in your question, i can only assume what you have put in writing, last time i checked no one here is a mind reader. Comments are only a reflection of the question."}],"answers":[{"tags":[],"owner":{"account_id":7446936,"reputation":475,"user_id":5662792,"display_name":"FreddCha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681378840,"creation_date":1681378840,"answer_id":76003956,"question_id":75996130,"body_markdown":"Well I think I found a solution. I had to exclude the url from the filter itself.\r\n\r\nSo my custom filter then changes to:\r\n```\r\npublic class ForcePasswordChangeFilter extends GenericFilter {\r\n\r\n    private final UserService userService;\r\n\r\n    public ForcePasswordChangeFilter(UserService userService) {\r\n        this.userService = userService;\r\n    }\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest request,\r\n                         ServletResponse response,\r\n                         FilterChain chain) throws IOException, ServletException {\r\n        if (userService.isAuthenticated()) {\r\n            User user  = userService.authenticatedUser();\r\n            if (user.getShouldChangePassword()) {\r\n\r\n                HttpServletRequest httpServletRequest = (HttpServletRequest) request;\r\n                String path = httpServletRequest.getRequestURI();\r\n\r\n                if (&quot;/change-password&quot;.equals(path)) {\r\n                    chain.doFilter(request, response);\r\n                    return;\r\n                }\r\n\r\n                var httpResponse = (HttpServletResponse) response;\r\n                httpResponse.sendRedirect(&quot;/change-password&quot;);\r\n                return;\r\n            }\r\n        }\r\n        chain.doFilter(request, response);\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nI hope this will help someone in future!","title":"Springboot Implement custom filter","body":"<p>Well I think I found a solution. I had to exclude the url from the filter itself.</p>\n<p>So my custom filter then changes to:</p>\n<pre><code>public class ForcePasswordChangeFilter extends GenericFilter {\n\n    private final UserService userService;\n\n    public ForcePasswordChangeFilter(UserService userService) {\n        this.userService = userService;\n    }\n\n    @Override\n    public void doFilter(ServletRequest request,\n                         ServletResponse response,\n                         FilterChain chain) throws IOException, ServletException {\n        if (userService.isAuthenticated()) {\n            User user  = userService.authenticatedUser();\n            if (user.getShouldChangePassword()) {\n\n                HttpServletRequest httpServletRequest = (HttpServletRequest) request;\n                String path = httpServletRequest.getRequestURI();\n\n                if (&quot;/change-password&quot;.equals(path)) {\n                    chain.doFilter(request, response);\n                    return;\n                }\n\n                var httpResponse = (HttpServletResponse) response;\n                httpResponse.sendRedirect(&quot;/change-password&quot;);\n                return;\n            }\n        }\n        chain.doFilter(request, response);\n    }\n\n\n}\n</code></pre>\n<p>I hope this will help someone in future!</p>\n"}],"owner":{"account_id":7446936,"reputation":475,"user_id":5662792,"display_name":"FreddCha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":399,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1681378840,"creation_date":1681306629,"question_id":75996130,"body_markdown":"I need help implementing a custom filter on spring. I need to force password change when required to do so. Basically the user should not be able to go anywhere except password reset page. However I am getting: Too many redirects error message and the password change is not doing anything.\r\n    \r\n**Here is my configuration class:**\r\n\r\n```\r\n    public class SecurityConfiguration {\r\n    \r\n        @Autowired\r\n        private UserService userService;\r\n    \r\n    \r\n        @Bean\r\n        public PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \r\n        @Bean\r\n        public AuthenticationProvider daoAuthenticationProvider() {\r\n            DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\r\n            provider.setPasswordEncoder(passwordEncoder());\r\n            provider.setUserDetailsService(userDetailsService());\r\n            return provider;\r\n        }\r\n    \r\n        @Bean\r\n        public UserDetailsService userDetailsService() {\r\n            return new AppUserDetailsService();\r\n        }\r\n    \r\n        @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n    \r\n            http.authorizeHttpRequests(request -&gt;\r\n                            request.requestMatchers(&quot;/login&quot;, &quot;/&quot;, &quot;/css/**&quot;, &quot;/login&quot;,&quot;/login.do&quot;, &quot;/api/**&quot;).permitAll()\r\n                                    .anyRequest().authenticated()\r\n                    )\r\n                    //.csrf().disable()\r\n                    .formLogin(form -&gt; form\r\n                            .loginPage(LOGIN_URL)\r\n                            .loginProcessingUrl(&quot;/login.do&quot;)\r\n                            .failureUrl(&quot;/login?error&quot;)\r\n                            .usernameParameter(&quot;username&quot;)\r\n                            .passwordParameter(&quot;password&quot;)\r\n                            .defaultSuccessUrl(&quot;/home&quot;))\r\n                    .logout(logout -&gt; logout\r\n                            .permitAll()\r\n                            .logoutUrl(&quot;/logout&quot;)\r\n                            .invalidateHttpSession(true)\r\n                            .deleteCookies(&quot;JSESSIONID&quot;)\r\n                            .logoutSuccessUrl(&quot;/login?logout&quot;));\r\n                   \r\n            http.addFilterAfter(forcePasswordChangeFilter(), BasicAuthenticationFilter.class);\r\n    \r\n            return http.build();\r\n        }\r\n    \r\n        @Bean\r\n        public WebSecurityCustomizer webSecurityCustomizer() {\r\n            return (web) -&gt; web.ignoring().requestMatchers(\r\n                    &quot;/resources/**&quot;,\r\n                    &quot;/static/**&quot;,\r\n                    &quot;/css/**&quot;,\r\n                    &quot;/js/**&quot;,\r\n                    &quot;/assets/**&quot;,\r\n                    &quot;/img/**&quot;,\r\n                    &quot;/images/**&quot;,\r\n                    &quot;/api/**&quot;\r\n            );\r\n        }\r\n    \r\n        @Bean\r\n       public ForcePasswordChangeFilter forcePasswordChangeFilter(){\r\n            return new ForcePasswordChangeFilter(userService);\r\n        }\r\n    \r\n    \r\n    }\r\n```  \r\n    \r\n    \r\n**Here is my custom filter class:**\r\n```\r\n    public class ForcePasswordChangeFilter extends GenericFilter {\r\n    \r\n        private final UserService userService;\r\n    \r\n        public ForcePasswordChangeFilter(UserService userService) {\r\n            this.userService = userService;\r\n        }\r\n    \r\n        @Override\r\n        public void doFilter(ServletRequest request,\r\n                             ServletResponse response,\r\n                             FilterChain chain) throws IOException, ServletException {\r\n            if (userService.isAuthenticated()) {\r\n                User user  = userService.authenticatedUser();\r\n                if (user.getShouldChangePassword()) {\r\n                    var httpResponse = (HttpServletResponse) response;\r\n                    httpResponse.sendRedirect(&quot;/change-password&quot;);\r\n                    return;\r\n                }\r\n            }\r\n            chain.doFilter(request, response);\r\n        }\r\n    }\r\n```\r\n    \r\n\r\nHere is my controller:\r\n```\r\n    @Controller\r\n    public class AuthController {\r\n    \r\n        @Autowired\r\n        private UserService userService;\r\n    \r\n        @GetMapping(value = {&quot;&quot;, &quot;/&quot;})\r\n        public String index() {\r\n            return &quot;redirect:login&quot;;\r\n        }\r\n    \r\n        @GetMapping(value = {&quot;/login&quot;})\r\n        public String login(HttpServletRequest request, Model model) throws IOException {\r\n            if (userService.isAuthenticated()) {\r\n                return &quot;redirect:/home&quot;;\r\n            }\r\n            return &quot;auth/login&quot;;\r\n        }\r\n    \r\n        @GetMapping(value = { &quot;/change-password&quot;})\r\n        public String changePassword(Model model) {\r\n            return &quot;auth/change-password&quot;;\r\n        }\r\n    \r\n        @PostMapping(value = {&quot;/change-password&quot;})\r\n        public String changePasswordSave(HttpServletRequest request, Model model) throws IOException {\r\n            //validations and save\r\n            return &quot;redirect:/home&quot;;\r\n        }\r\n    }\r\n```\r\n    \r\nWhere might I be missing it here? Any help is appreciated.","title":"Springboot Implement custom filter","body":"<p>I need help implementing a custom filter on spring. I need to force password change when required to do so. Basically the user should not be able to go anywhere except password reset page. However I am getting: Too many redirects error message and the password change is not doing anything.</p>\n<p><strong>Here is my configuration class:</strong></p>\n<pre><code>    public class SecurityConfiguration {\n    \n        @Autowired\n        private UserService userService;\n    \n    \n        @Bean\n        public PasswordEncoder passwordEncoder() {\n            return new BCryptPasswordEncoder();\n        }\n    \n        @Bean\n        public AuthenticationProvider daoAuthenticationProvider() {\n            DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\n            provider.setPasswordEncoder(passwordEncoder());\n            provider.setUserDetailsService(userDetailsService());\n            return provider;\n        }\n    \n        @Bean\n        public UserDetailsService userDetailsService() {\n            return new AppUserDetailsService();\n        }\n    \n        @Bean\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    \n            http.authorizeHttpRequests(request -&gt;\n                            request.requestMatchers(&quot;/login&quot;, &quot;/&quot;, &quot;/css/**&quot;, &quot;/login&quot;,&quot;/login.do&quot;, &quot;/api/**&quot;).permitAll()\n                                    .anyRequest().authenticated()\n                    )\n                    //.csrf().disable()\n                    .formLogin(form -&gt; form\n                            .loginPage(LOGIN_URL)\n                            .loginProcessingUrl(&quot;/login.do&quot;)\n                            .failureUrl(&quot;/login?error&quot;)\n                            .usernameParameter(&quot;username&quot;)\n                            .passwordParameter(&quot;password&quot;)\n                            .defaultSuccessUrl(&quot;/home&quot;))\n                    .logout(logout -&gt; logout\n                            .permitAll()\n                            .logoutUrl(&quot;/logout&quot;)\n                            .invalidateHttpSession(true)\n                            .deleteCookies(&quot;JSESSIONID&quot;)\n                            .logoutSuccessUrl(&quot;/login?logout&quot;));\n                   \n            http.addFilterAfter(forcePasswordChangeFilter(), BasicAuthenticationFilter.class);\n    \n            return http.build();\n        }\n    \n        @Bean\n        public WebSecurityCustomizer webSecurityCustomizer() {\n            return (web) -&gt; web.ignoring().requestMatchers(\n                    &quot;/resources/**&quot;,\n                    &quot;/static/**&quot;,\n                    &quot;/css/**&quot;,\n                    &quot;/js/**&quot;,\n                    &quot;/assets/**&quot;,\n                    &quot;/img/**&quot;,\n                    &quot;/images/**&quot;,\n                    &quot;/api/**&quot;\n            );\n        }\n    \n        @Bean\n       public ForcePasswordChangeFilter forcePasswordChangeFilter(){\n            return new ForcePasswordChangeFilter(userService);\n        }\n    \n    \n    }\n</code></pre>\n<p><strong>Here is my custom filter class:</strong></p>\n<pre><code>    public class ForcePasswordChangeFilter extends GenericFilter {\n    \n        private final UserService userService;\n    \n        public ForcePasswordChangeFilter(UserService userService) {\n            this.userService = userService;\n        }\n    \n        @Override\n        public void doFilter(ServletRequest request,\n                             ServletResponse response,\n                             FilterChain chain) throws IOException, ServletException {\n            if (userService.isAuthenticated()) {\n                User user  = userService.authenticatedUser();\n                if (user.getShouldChangePassword()) {\n                    var httpResponse = (HttpServletResponse) response;\n                    httpResponse.sendRedirect(&quot;/change-password&quot;);\n                    return;\n                }\n            }\n            chain.doFilter(request, response);\n        }\n    }\n</code></pre>\n<p>Here is my controller:</p>\n<pre><code>    @Controller\n    public class AuthController {\n    \n        @Autowired\n        private UserService userService;\n    \n        @GetMapping(value = {&quot;&quot;, &quot;/&quot;})\n        public String index() {\n            return &quot;redirect:login&quot;;\n        }\n    \n        @GetMapping(value = {&quot;/login&quot;})\n        public String login(HttpServletRequest request, Model model) throws IOException {\n            if (userService.isAuthenticated()) {\n                return &quot;redirect:/home&quot;;\n            }\n            return &quot;auth/login&quot;;\n        }\n    \n        @GetMapping(value = { &quot;/change-password&quot;})\n        public String changePassword(Model model) {\n            return &quot;auth/change-password&quot;;\n        }\n    \n        @PostMapping(value = {&quot;/change-password&quot;})\n        public String changePasswordSave(HttpServletRequest request, Model model) throws IOException {\n            //validations and save\n            return &quot;redirect:/home&quot;;\n        }\n    }\n</code></pre>\n<p>Where might I be missing it here? Any help is appreciated.</p>\n"},{"tags":["java","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1681318989,"post_id":75996848,"comment_id":134038464,"body_markdown":"I don&#39;t immediately see what&#39;s going wrong in the code. You might want to [add a completion listener](https://firebase.google.com/docs/database/android/read-and-write#add_a_completion_callback) to your `setValue` call to see if it raises any error. --- If that doesn&#39;t show anything: is there any other place in your code where you access the database that *does* work? If not, you might want to try a simpler `FirebaseDatabase.getInstance().getReference().child(&quot;Test&quot;).setValue(true)` call. If that also doesn&#39;t work, it may be that your database URL is not set correctly.","body":"I don&#39;t immediately see what&#39;s going wrong in the code. You might want to <a href=\"https://firebase.google.com/docs/database/android/read-and-write#add_a_completion_callback\" rel=\"nofollow noreferrer\">add a completion listener</a> to your <code>setValue</code> call to see if it raises any error. --- If that doesn&#39;t show anything: is there any other place in your code where you access the database that <i>does</i> work? If not, you might want to try a simpler <code>FirebaseDatabase.getInstance().getReference().child(&quot;Test&quot;).&zwnj;&#8203;setValue(true)</code> call. If that also doesn&#39;t work, it may be that your database URL is not set correctly."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1681364431,"post_id":75996848,"comment_id":134044951,"body_markdown":"Please edit your question and add the information Frank asked for, and please also respond using @.","body":"Please edit your question and add the information Frank asked for, and please also respond using @."},{"owner":{"account_id":21272415,"reputation":1,"user_id":20266598,"display_name":"Jonasoos"},"score":0,"creation_date":1681378117,"post_id":75996848,"comment_id":134047748,"body_markdown":"@FrankvanPuffelen van Puffelen, used a completion listener and it turns out it get never got completed. I found this error: Firebase Database connection was forcefully killed by the server. Will not attempt reconnect. Reason: Database lives in a different region. Please change your database URL to--  but i already choose my region ( eu- west). I added a picture of it in my question","body":"@FrankvanPuffelen van Puffelen, used a completion listener and it turns out it get never got completed. I found this error: Firebase Database connection was forcefully killed by the server. Will not attempt reconnect. Reason: Database lives in a different region. Please change your database URL to--  but i already choose my region ( eu- west). I added a picture of it in my question"},{"owner":{"account_id":21272415,"reputation":1,"user_id":20266598,"display_name":"Jonasoos"},"score":0,"creation_date":1681378533,"post_id":75996848,"comment_id":134047858,"body_markdown":"Read it wrong: I habe to change the URL, you were right @Frank van Puffelen. Thank you","body":"Read it wrong: I habe to change the URL, you were right @Frank van Puffelen. Thank you"}],"owner":{"account_id":21272415,"reputation":1,"user_id":20266598,"display_name":"Jonasoos"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1681393692,"answer_count":0,"score":0,"last_activity_date":1681378292,"creation_date":1681310786,"question_id":75996848,"body_markdown":"I want the user to get a specified amount (500) of money (int) once they get registered into the system with Firebase Auth. The email (with a , instead of a .) is taken from the input of the user which will be the userid (child) in realtime database. And the money should be the child of userid.\r\n\r\nI tried it with my  `writeNewUserMoney` method:\r\n[realtime database](https://i.stack.imgur.com/q2Ku8.png)\r\n\r\nI tried it with my  `writeNewUserMoney` method:\r\n\r\n```java\r\npublic void writeNewUserMoney() {\r\n    String email = encodeUserEmail(signupEmail.getText().toString().trim());\r\n    mDatabaseReference = FirebaseDatabase.getInstance().getReference();\r\n    mDatabaseReference.child(&quot;user&quot;).child(email).setValue(500);\r\n}\r\n```\r\n\r\nHere is `encodeUserEmail`:\r\n\r\n```java\r\nstatic String encodeUserEmail(String userEmail) {\r\n    return userEmail.replace(&quot;.&quot;, &quot;,&quot;);\r\n}\r\n```\r\n\r\nHere is the relevant part of the class:\r\n\r\n\r\n```\r\n@Override\r\npublic void onClick(View view) {\r\n    String user = signupEmail.getText().toString().trim();\r\n    String pass = signupPassword.getText().toString().trim();\r\n    if (user.isEmpty()){\r\n        signupEmail.setError(&quot;Email eingeben&quot;);\r\n    }\r\n    if (pass.isEmpty()){\r\n        signupPassword.setError(&quot;Passwort eingeben&quot;);\r\n    } else{\r\n        auth.createUserWithEmailAndPassword(user, pass).addOnCompleteListener(new                         OnCompleteListener&lt;AuthResult&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                    if (task.isSuccessful()) {\r\n                        Toast.makeText(SignUpActivity.this, &quot;SignUp Successful&quot;, Toast.LENGTH_SHORT).show();\r\n                        startActivity(new Intent(SignUpActivity.this, LoginActivity.class));\r\n                    } else {\r\n                        Toast.makeText(SignUpActivity.this, &quot;SignUp Failed&quot; + task.getException().getMessage(), Toast.LENGTH_LONG).show();\r\n                    }\r\n                }\r\n        });\r\n    }\r\n//\r\n    FirebaseAuth auth = FirebaseAuth.getInstance();\r\n    FirebaseUser kuser = auth.getCurrentUser();\r\n    //best&#228;tigungs mail\r\n    kuser.sendEmailVerification().addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                if (task.isSuccessful()) {\r\n                    System.out.println(&quot;Email sent&quot;);\r\n                }\r\n            }\r\n    });\r\n    //best&#228;tigungs mail\r\n    //Kontoinstandsetzung\r\n    writeNewUserMoney();\r\n}\r\n```\r\nThe database doesn&#39;t change when initiating an onClick.\r\nI already tried this : https://stackoverflow.com/questions/69197762/fail-to-write-data-to-firebase-realtime-database-android\r\n\r\nIf you know any other methods to assign a value in realtime database after the or with reg without the user seeing it, feel free to comment.\r\n\r\n[The Region][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5XVad.png","title":"Why is my method not setting a new value in realtime database?","body":"<p>I want the user to get a specified amount (500) of money (int) once they get registered into the system with Firebase Auth. The email (with a , instead of a .) is taken from the input of the user which will be the userid (child) in realtime database. And the money should be the child of userid.</p>\n<p>I tried it with my  <code>writeNewUserMoney</code> method:\n<a href=\"https://i.stack.imgur.com/q2Ku8.png\" rel=\"nofollow noreferrer\">realtime database</a></p>\n<p>I tried it with my  <code>writeNewUserMoney</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void writeNewUserMoney() {\n    String email = encodeUserEmail(signupEmail.getText().toString().trim());\n    mDatabaseReference = FirebaseDatabase.getInstance().getReference();\n    mDatabaseReference.child(&quot;user&quot;).child(email).setValue(500);\n}\n</code></pre>\n<p>Here is <code>encodeUserEmail</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static String encodeUserEmail(String userEmail) {\n    return userEmail.replace(&quot;.&quot;, &quot;,&quot;);\n}\n</code></pre>\n<p>Here is the relevant part of the class:</p>\n<pre><code>@Override\npublic void onClick(View view) {\n    String user = signupEmail.getText().toString().trim();\n    String pass = signupPassword.getText().toString().trim();\n    if (user.isEmpty()){\n        signupEmail.setError(&quot;Email eingeben&quot;);\n    }\n    if (pass.isEmpty()){\n        signupPassword.setError(&quot;Passwort eingeben&quot;);\n    } else{\n        auth.createUserWithEmailAndPassword(user, pass).addOnCompleteListener(new                         OnCompleteListener&lt;AuthResult&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                    if (task.isSuccessful()) {\n                        Toast.makeText(SignUpActivity.this, &quot;SignUp Successful&quot;, Toast.LENGTH_SHORT).show();\n                        startActivity(new Intent(SignUpActivity.this, LoginActivity.class));\n                    } else {\n                        Toast.makeText(SignUpActivity.this, &quot;SignUp Failed&quot; + task.getException().getMessage(), Toast.LENGTH_LONG).show();\n                    }\n                }\n        });\n    }\n//\n    FirebaseAuth auth = FirebaseAuth.getInstance();\n    FirebaseUser kuser = auth.getCurrentUser();\n    //bestätigungs mail\n    kuser.sendEmailVerification().addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                if (task.isSuccessful()) {\n                    System.out.println(&quot;Email sent&quot;);\n                }\n            }\n    });\n    //bestätigungs mail\n    //Kontoinstandsetzung\n    writeNewUserMoney();\n}\n</code></pre>\n<p>The database doesn't change when initiating an onClick.\nI already tried this : <a href=\"https://stackoverflow.com/questions/69197762/fail-to-write-data-to-firebase-realtime-database-android\">Fail to Write data to Firebase Realtime Database Android</a></p>\n<p>If you know any other methods to assign a value in realtime database after the or with reg without the user seeing it, feel free to comment.</p>\n<p><a href=\"https://i.stack.imgur.com/5XVad.png\" rel=\"nofollow noreferrer\">The Region</a></p>\n"},{"tags":["java","android","kotlin","nullpointerexception","kotlin-null-safety"],"comments":[{"owner":{"account_id":27829354,"reputation":186,"user_id":21248085,"display_name":"Shivrajsinh Sarvaiya"},"score":0,"creation_date":1681324445,"post_id":75998523,"comment_id":134039684,"body_markdown":"Provide screenshot of error.","body":"Provide screenshot of error."},{"owner":{"account_id":91056,"reputation":124874,"user_id":250260,"accept_rate":80,"display_name":"Jorgesys"},"score":0,"creation_date":1681324702,"post_id":75998523,"comment_id":134039745,"body_markdown":"What error was displayed in LogCat?","body":"What error was displayed in LogCat?"},{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":3,"creation_date":1681325381,"post_id":75998523,"comment_id":134039890,"body_markdown":"@ShivrajsinhSarvaiya Please **do not** request screenshots of anything. OP can simply cut and paste the error message/stack trace from logcat. Please read this [meta post](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors) to find out why. OP: please read the help file section on [how to ask](https://stackoverflow.com/help/how-to-ask) good questions. If you run into an error, you should always post it. It&#39;s unlikely that people will try to replicate your entire dev environment to help you. If you want an answer, you have to make helping easier.","body":"@ShivrajsinhSarvaiya Please <b>do not</b> request screenshots of anything. OP can simply cut and paste the error message/stack trace from logcat. Please read this <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors\">meta post</a> to find out why. OP: please read the help file section on <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask</a> good questions. If you run into an error, you should always post it. It&#39;s unlikely that people will try to replicate your entire dev environment to help you. If you want an answer, you have to make helping easier."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1681327952,"post_id":75998523,"comment_id":134040416,"body_markdown":"Property initializers are called before `onCreate()`. Before `onCreate()`, you haven&#39;t called `setContentView()` yet, so there is no view to find.","body":"Property initializers are called before <code>onCreate()</code>. Before <code>onCreate()</code>, you haven&#39;t called <code>setContentView()</code> yet, so there is no view to find."}],"answers":[{"tags":[],"owner":{"account_id":5726828,"reputation":125,"user_id":4523587,"display_name":"Danh Nguyen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681327251,"creation_date":1681327251,"answer_id":75999080,"question_id":75998523,"body_markdown":"You should call the method `findViewById()` inside the life cycle method `onCreate()` and after `setContentView`.\r\n\r\nAlso, you can use [ViewBind][1] and you can write simple code like\r\n  `binding. button0.setOnClickListener { imprimir(&quot;0&quot;)  }`\r\n\r\nHope it helps you.\r\n\r\n  [1]: https://developer.android.com/topic/libraries/view-binding","title":"NullPointerException in my android Activity","body":"<p>You should call the method <code>findViewById()</code> inside the life cycle method <code>onCreate()</code> and after <code>setContentView</code>.</p>\n<p>Also, you can use <a href=\"https://developer.android.com/topic/libraries/view-binding\" rel=\"nofollow noreferrer\">ViewBind</a> and you can write simple code like\n<code>binding. button0.setOnClickListener { imprimir(&quot;0&quot;)  }</code></p>\n<p>Hope it helps you.</p>\n"},{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681338679,"creation_date":1681328261,"answer_id":75999185,"question_id":75998523,"body_markdown":"All property initializers are called before `onCreate()`, even if you declare them below `onCreate()`. Before `onCreate()`, you haven&#39;t called `setContentView()` yet, so there is no view to find. So it throws NullPointerException.\r\n\r\nThree ways to fix this:\r\n\r\n 1. Wrap each `findViewById` call in `by lazy { }` so it won&#39;t be initialized before `onCreate()`. For example:\r\n\r\n```\r\nval button0: Button by lazy { findViewById(R.id.button0) }\r\n```\r\n\r\n 2. Make them `lateinit` properties and move the initialization inside `onCreate()`. For example:\r\n\r\n```\r\nlateinit val button0: Button\r\n//...\r\n\r\noverride fun onCreate(savedInstanceState: Bundle?) {\r\n    super.onCreate(savedInstanceState)\r\n    setContentView(R.layout.activity_main)\r\n\r\n    button0 = findViewById(R.id.button0)\r\n    //...\r\n\r\n    detectarEntrada()\r\n}\r\n```\r\n 3. Use [view binding][1]. This is recommended, especially when you have so many view properties. It will save you a bunch of repetitious code and will be less prone to error.\r\n\r\n\r\n  [1]: https://developer.android.com/topic/libraries/view-binding","title":"NullPointerException in my android Activity","body":"<p>All property initializers are called before <code>onCreate()</code>, even if you declare them below <code>onCreate()</code>. Before <code>onCreate()</code>, you haven't called <code>setContentView()</code> yet, so there is no view to find. So it throws NullPointerException.</p>\n<p>Three ways to fix this:</p>\n<ol>\n<li>Wrap each <code>findViewById</code> call in <code>by lazy { }</code> so it won't be initialized before <code>onCreate()</code>. For example:</li>\n</ol>\n<pre><code>val button0: Button by lazy { findViewById(R.id.button0) }\n</code></pre>\n<ol start=\"2\">\n<li>Make them <code>lateinit</code> properties and move the initialization inside <code>onCreate()</code>. For example:</li>\n</ol>\n<pre><code>lateinit val button0: Button\n//...\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    button0 = findViewById(R.id.button0)\n    //...\n\n    detectarEntrada()\n}\n</code></pre>\n<ol start=\"3\">\n<li>Use <a href=\"https://developer.android.com/topic/libraries/view-binding\" rel=\"nofollow noreferrer\">view binding</a>. This is recommended, especially when you have so many view properties. It will save you a bunch of repetitious code and will be less prone to error.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10587710,"reputation":2772,"user_id":7799462,"display_name":"Halil Ozel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681336435,"creation_date":1681336435,"answer_id":76000120,"question_id":75998523,"body_markdown":"Firstly, You must call the method `findViewById()` inside method `onCreate()` and after `setContentView`.\r\n\r\nFor more detail: https://developer.android.com/reference/android/app/Activity\r\n\r\n```kotlin\r\n    package com.example.calculadora\r\n\r\nimport android.support.v7.app.AppCompatActivity\r\nimport android.os.Bundle\r\nimport android.text.Editable\r\nimport android.widget.Button\r\nimport android.widget.EditText\r\n\r\nclass MainActivity : AppCompatActivity() {\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n\r\n        val button0 = findViewById&lt;Button&gt;(R.id.button0)\r\n        val button1 = findViewById&lt;Button&gt;(R.id.button1)\r\n        val button2 = findViewById&lt;Button&gt;(R.id.button2)\r\n        val button3 = findViewById&lt;Button&gt;(R.id.button3)\r\n        val button4 = findViewById&lt;Button&gt;(R.id.button4)\r\n        val button5 = findViewById&lt;Button&gt;(R.id.button5)\r\n        val button6 = findViewById&lt;Button&gt;(R.id.button6)\r\n        val button7 = findViewById&lt;Button&gt;(R.id.button7)\r\n        val button8 = findViewById&lt;Button&gt;(R.id.button8)\r\n        val button9 = findViewById&lt;Button&gt;(R.id.button9)\r\n        val button_equal = findViewById&lt;Button&gt;(R.id.button_equal)\r\n        val button_par_ab = findViewById&lt;Button&gt;(R.id.button_par_ab)\r\n        val button_par_cl = findViewById&lt;Button&gt;(R.id.button_par_cl)\r\n        val button_coma = findViewById&lt;Button&gt;(R.id.button_coma)\r\n        val buttonAC = findViewById&lt;Button&gt;(R.id.buttonAC)\r\n        val button_mul = findViewById&lt;Button&gt;(R.id.button_por)\r\n        val button_div = findViewById&lt;Button&gt;(R.id.button_div)\r\n        val button_sum = findViewById&lt;Button&gt;(R.id.button_sum)\r\n        val button_dif = findViewById&lt;Button&gt;(R.id.button_dif)\r\n        val caja = findViewById&lt;EditText&gt;(R.id.caja_de_texto)\r\n\r\n        detectarEntrada()\r\n    }\r\n\r\n  \r\n\r\n    public fun imprimir(simbolo: String) {\r\n        var texto = caja.text.toString()\r\n        var texto_a_poner = texto + simbolo\r\n        caja.text = Editable.Factory.getInstance().newEditable(texto_a_poner)\r\n    }\r\n\r\n    public fun detectarEntrada() {\r\n        button0.setOnClickListener { imprimir(&quot;0&quot;) }\r\n        button1.setOnClickListener { imprimir(&quot;1&quot;) }\r\n        button2.setOnClickListener { imprimir(&quot;2&quot;) }\r\n        button3.setOnClickListener { imprimir(&quot;3&quot;) }\r\n        button4.setOnClickListener { imprimir(&quot;4&quot;) }\r\n        button5.setOnClickListener { imprimir(&quot;5&quot;) }\r\n        button6.setOnClickListener { imprimir(&quot;6&quot;) }\r\n        button7.setOnClickListener { imprimir(&quot;7&quot;) }\r\n        button8.setOnClickListener { imprimir(&quot;8&quot;) }\r\n        button9.setOnClickListener { imprimir(&quot;9&quot;) }\r\n        button_par_ab.setOnClickListener { imprimir(&quot;(&quot;) }\r\n        button_par_cl.setOnClickListener { imprimir(&quot;)&quot;) }\r\n        button_coma.setOnClickListener { imprimir(&quot;,&quot;) }\r\n        button_mul.setOnClickListener { imprimir(&quot;*&quot;) }\r\n        button_div.setOnClickListener { imprimir(&quot;/&quot;) }\r\n        button_sum.setOnClickListener { imprimir(&quot;+&quot;) }\r\n        button_dif.setOnClickListener { imprimir(&quot;-&quot;) }\r\n\r\n        buttonAC.setOnClickListener {\r\n            caja.text = Editable.Factory.getInstance().newEditable(&quot;0&quot;)\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nYou can use View Binding to make your code more readable.\r\n\r\nhttps://www.google.com/search?client=safari&amp;rls=en&amp;q=viewbinding&amp;ie=UTF-8&amp;oe=UTF-8 ","title":"NullPointerException in my android Activity","body":"<p>Firstly, You must call the method <code>findViewById()</code> inside method <code>onCreate()</code> and after <code>setContentView</code>.</p>\n<p>For more detail: <a href=\"https://developer.android.com/reference/android/app/Activity\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/app/Activity</a></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>    package com.example.calculadora\n\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.text.Editable\nimport android.widget.Button\nimport android.widget.EditText\n\nclass MainActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val button0 = findViewById&lt;Button&gt;(R.id.button0)\n        val button1 = findViewById&lt;Button&gt;(R.id.button1)\n        val button2 = findViewById&lt;Button&gt;(R.id.button2)\n        val button3 = findViewById&lt;Button&gt;(R.id.button3)\n        val button4 = findViewById&lt;Button&gt;(R.id.button4)\n        val button5 = findViewById&lt;Button&gt;(R.id.button5)\n        val button6 = findViewById&lt;Button&gt;(R.id.button6)\n        val button7 = findViewById&lt;Button&gt;(R.id.button7)\n        val button8 = findViewById&lt;Button&gt;(R.id.button8)\n        val button9 = findViewById&lt;Button&gt;(R.id.button9)\n        val button_equal = findViewById&lt;Button&gt;(R.id.button_equal)\n        val button_par_ab = findViewById&lt;Button&gt;(R.id.button_par_ab)\n        val button_par_cl = findViewById&lt;Button&gt;(R.id.button_par_cl)\n        val button_coma = findViewById&lt;Button&gt;(R.id.button_coma)\n        val buttonAC = findViewById&lt;Button&gt;(R.id.buttonAC)\n        val button_mul = findViewById&lt;Button&gt;(R.id.button_por)\n        val button_div = findViewById&lt;Button&gt;(R.id.button_div)\n        val button_sum = findViewById&lt;Button&gt;(R.id.button_sum)\n        val button_dif = findViewById&lt;Button&gt;(R.id.button_dif)\n        val caja = findViewById&lt;EditText&gt;(R.id.caja_de_texto)\n\n        detectarEntrada()\n    }\n\n  \n\n    public fun imprimir(simbolo: String) {\n        var texto = caja.text.toString()\n        var texto_a_poner = texto + simbolo\n        caja.text = Editable.Factory.getInstance().newEditable(texto_a_poner)\n    }\n\n    public fun detectarEntrada() {\n        button0.setOnClickListener { imprimir(&quot;0&quot;) }\n        button1.setOnClickListener { imprimir(&quot;1&quot;) }\n        button2.setOnClickListener { imprimir(&quot;2&quot;) }\n        button3.setOnClickListener { imprimir(&quot;3&quot;) }\n        button4.setOnClickListener { imprimir(&quot;4&quot;) }\n        button5.setOnClickListener { imprimir(&quot;5&quot;) }\n        button6.setOnClickListener { imprimir(&quot;6&quot;) }\n        button7.setOnClickListener { imprimir(&quot;7&quot;) }\n        button8.setOnClickListener { imprimir(&quot;8&quot;) }\n        button9.setOnClickListener { imprimir(&quot;9&quot;) }\n        button_par_ab.setOnClickListener { imprimir(&quot;(&quot;) }\n        button_par_cl.setOnClickListener { imprimir(&quot;)&quot;) }\n        button_coma.setOnClickListener { imprimir(&quot;,&quot;) }\n        button_mul.setOnClickListener { imprimir(&quot;*&quot;) }\n        button_div.setOnClickListener { imprimir(&quot;/&quot;) }\n        button_sum.setOnClickListener { imprimir(&quot;+&quot;) }\n        button_dif.setOnClickListener { imprimir(&quot;-&quot;) }\n\n        buttonAC.setOnClickListener {\n            caja.text = Editable.Factory.getInstance().newEditable(&quot;0&quot;)\n        }\n    }\n}\n</code></pre>\n<p>You can use View Binding to make your code more readable.</p>\n<p><a href=\"https://www.google.com/search?client=safari&amp;rls=en&amp;q=viewbinding&amp;ie=UTF-8&amp;oe=UTF-8\" rel=\"nofollow noreferrer\">https://www.google.com/search?client=safari&amp;rls=en&amp;q=viewbinding&amp;ie=UTF-8&amp;oe=UTF-8</a></p>\n"},{"tags":[],"owner":{"account_id":15633712,"reputation":11,"user_id":11279305,"display_name":"prakash joshi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681378078,"creation_date":1681378078,"answer_id":76003838,"question_id":75998523,"body_markdown":"you must require to call findViewById in OnCreate Method. \r\n\r\n\r\nand Google is Recommanded to use ViewBinding so it will save lots of time and Reduce Code make it clean architecture Pattenr.\r\n\r\n\r\nOnly Single Steps for Implementing View Binding \r\n\r\n\r\n   \r\n\r\n      buildFeatures {\r\n                viewBinding = true\r\n            } \r\n\r\n  \r\n\r\nafter Integration Please do coding like below in your activity \r\n\r\n\r\n  \r\n\r\n      private lateinit var binding: ResultProfileBinding\r\n        \r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            binding = ResultProfileBinding.inflate(layoutInflater)\r\n            val view = binding.root\r\n            setContentView(view)\r\n    \r\n    binding.button.setOnClickListener { yourLogic() }\r\n    \r\n        }\r\n","title":"NullPointerException in my android Activity","body":"<p>you must require to call findViewById in OnCreate Method.</p>\n<p>and Google is Recommanded to use ViewBinding so it will save lots of time and Reduce Code make it clean architecture Pattenr.</p>\n<p>Only Single Steps for Implementing View Binding</p>\n<pre><code>  buildFeatures {\n            viewBinding = true\n        } \n</code></pre>\n<p>after Integration Please do coding like below in your activity</p>\n<pre><code>  private lateinit var binding: ResultProfileBinding\n    \n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        binding = ResultProfileBinding.inflate(layoutInflater)\n        val view = binding.root\n        setContentView(view)\n\nbinding.button.setOnClickListener { yourLogic() }\n\n    }\n</code></pre>\n"}],"owner":{"account_id":28287517,"reputation":1,"user_id":21628206,"display_name":"mrt"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1681378078,"creation_date":1681322332,"question_id":75998523,"body_markdown":"I&#39;m new in android and I get this error I can&#39;t resolve. Is part of the code for a calculator app and I&#39;m stuck on it.\r\nIt gives me a null pointer exception and I don&#39;t had trouble with it before I created the listeners and the view variables.\r\n\r\nMy code program is this:\r\n\r\n\r\n```\r\npackage com.example.calculadora\r\n\r\nimport android.support.v7.app.AppCompatActivity\r\nimport android.os.Bundle\r\nimport android.text.Editable\r\nimport android.widget.Button\r\nimport android.widget.EditText\r\n\r\nclass MainActivity : AppCompatActivity() {\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n\r\n        detectarEntrada()\r\n    }\r\n\r\n    val button0 = findViewById&lt;Button&gt;(R.id.button0)\r\n    val button1 = findViewById&lt;Button&gt;(R.id.button1)\r\n    val button2 = findViewById&lt;Button&gt;(R.id.button2)\r\n    val button3 = findViewById&lt;Button&gt;(R.id.button3)\r\n    val button4 = findViewById&lt;Button&gt;(R.id.button4)\r\n    val button5 = findViewById&lt;Button&gt;(R.id.button5)\r\n    val button6 = findViewById&lt;Button&gt;(R.id.button6)\r\n    val button7 = findViewById&lt;Button&gt;(R.id.button7)\r\n    val button8 = findViewById&lt;Button&gt;(R.id.button8)\r\n    val button9 = findViewById&lt;Button&gt;(R.id.button9)\r\n    val button_equal = findViewById&lt;Button&gt;(R.id.button_equal)\r\n    val button_par_ab = findViewById&lt;Button&gt;(R.id.button_par_ab)\r\n    val button_par_cl = findViewById&lt;Button&gt;(R.id.button_par_cl)\r\n    val button_coma = findViewById&lt;Button&gt;(R.id.button_coma)\r\n    val buttonAC = findViewById&lt;Button&gt;(R.id.buttonAC)\r\n    val button_mul = findViewById&lt;Button&gt;(R.id.button_por)\r\n    val button_div = findViewById&lt;Button&gt;(R.id.button_div)\r\n    val button_sum = findViewById&lt;Button&gt;(R.id.button_sum)\r\n    val button_dif = findViewById&lt;Button&gt;(R.id.button_dif)\r\n    val caja = findViewById&lt;EditText&gt;(R.id.caja_de_texto)\r\n\r\n    public fun imprimir(simbolo: String) {\r\n        var texto = caja.text.toString()\r\n        var texto_a_poner = texto + simbolo\r\n        caja.text = Editable.Factory.getInstance().newEditable(texto_a_poner)\r\n    }\r\n\r\n    public fun detectarEntrada() {\r\n        button0.setOnClickListener { imprimir(&quot;0&quot;) }\r\n        button1.setOnClickListener { imprimir(&quot;1&quot;) }\r\n        button2.setOnClickListener { imprimir(&quot;2&quot;) }\r\n        button3.setOnClickListener { imprimir(&quot;3&quot;) }\r\n        button4.setOnClickListener { imprimir(&quot;4&quot;) }\r\n        button5.setOnClickListener { imprimir(&quot;5&quot;) }\r\n        button6.setOnClickListener { imprimir(&quot;6&quot;) }\r\n        button7.setOnClickListener { imprimir(&quot;7&quot;) }\r\n        button8.setOnClickListener { imprimir(&quot;8&quot;) }\r\n        button9.setOnClickListener { imprimir(&quot;9&quot;) }\r\n        button_par_ab.setOnClickListener { imprimir(&quot;(&quot;) }\r\n        button_par_cl.setOnClickListener { imprimir(&quot;)&quot;) }\r\n        button_coma.setOnClickListener { imprimir(&quot;,&quot;) }\r\n        button_mul.setOnClickListener { imprimir(&quot;*&quot;) }\r\n        button_div.setOnClickListener { imprimir(&quot;/&quot;) }\r\n        button_sum.setOnClickListener { imprimir(&quot;+&quot;) }\r\n        button_dif.setOnClickListener { imprimir(&quot;-&quot;) }\r\n\r\n        buttonAC.setOnClickListener {\r\n            caja.text = Editable.Factory.getInstance().newEditable(&quot;0&quot;)\r\n        }\r\n    }\r\n}\r\n```\r\nHope someone could help me\r\n\r\n\r\nI searched in the web for similar problems and for this error especially. But I don&#39;t know how I could fix it.","title":"NullPointerException in my android Activity","body":"<p>I'm new in android and I get this error I can't resolve. Is part of the code for a calculator app and I'm stuck on it.\nIt gives me a null pointer exception and I don't had trouble with it before I created the listeners and the view variables.</p>\n<p>My code program is this:</p>\n<pre><code>package com.example.calculadora\n\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.text.Editable\nimport android.widget.Button\nimport android.widget.EditText\n\nclass MainActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        detectarEntrada()\n    }\n\n    val button0 = findViewById&lt;Button&gt;(R.id.button0)\n    val button1 = findViewById&lt;Button&gt;(R.id.button1)\n    val button2 = findViewById&lt;Button&gt;(R.id.button2)\n    val button3 = findViewById&lt;Button&gt;(R.id.button3)\n    val button4 = findViewById&lt;Button&gt;(R.id.button4)\n    val button5 = findViewById&lt;Button&gt;(R.id.button5)\n    val button6 = findViewById&lt;Button&gt;(R.id.button6)\n    val button7 = findViewById&lt;Button&gt;(R.id.button7)\n    val button8 = findViewById&lt;Button&gt;(R.id.button8)\n    val button9 = findViewById&lt;Button&gt;(R.id.button9)\n    val button_equal = findViewById&lt;Button&gt;(R.id.button_equal)\n    val button_par_ab = findViewById&lt;Button&gt;(R.id.button_par_ab)\n    val button_par_cl = findViewById&lt;Button&gt;(R.id.button_par_cl)\n    val button_coma = findViewById&lt;Button&gt;(R.id.button_coma)\n    val buttonAC = findViewById&lt;Button&gt;(R.id.buttonAC)\n    val button_mul = findViewById&lt;Button&gt;(R.id.button_por)\n    val button_div = findViewById&lt;Button&gt;(R.id.button_div)\n    val button_sum = findViewById&lt;Button&gt;(R.id.button_sum)\n    val button_dif = findViewById&lt;Button&gt;(R.id.button_dif)\n    val caja = findViewById&lt;EditText&gt;(R.id.caja_de_texto)\n\n    public fun imprimir(simbolo: String) {\n        var texto = caja.text.toString()\n        var texto_a_poner = texto + simbolo\n        caja.text = Editable.Factory.getInstance().newEditable(texto_a_poner)\n    }\n\n    public fun detectarEntrada() {\n        button0.setOnClickListener { imprimir(&quot;0&quot;) }\n        button1.setOnClickListener { imprimir(&quot;1&quot;) }\n        button2.setOnClickListener { imprimir(&quot;2&quot;) }\n        button3.setOnClickListener { imprimir(&quot;3&quot;) }\n        button4.setOnClickListener { imprimir(&quot;4&quot;) }\n        button5.setOnClickListener { imprimir(&quot;5&quot;) }\n        button6.setOnClickListener { imprimir(&quot;6&quot;) }\n        button7.setOnClickListener { imprimir(&quot;7&quot;) }\n        button8.setOnClickListener { imprimir(&quot;8&quot;) }\n        button9.setOnClickListener { imprimir(&quot;9&quot;) }\n        button_par_ab.setOnClickListener { imprimir(&quot;(&quot;) }\n        button_par_cl.setOnClickListener { imprimir(&quot;)&quot;) }\n        button_coma.setOnClickListener { imprimir(&quot;,&quot;) }\n        button_mul.setOnClickListener { imprimir(&quot;*&quot;) }\n        button_div.setOnClickListener { imprimir(&quot;/&quot;) }\n        button_sum.setOnClickListener { imprimir(&quot;+&quot;) }\n        button_dif.setOnClickListener { imprimir(&quot;-&quot;) }\n\n        buttonAC.setOnClickListener {\n            caja.text = Editable.Factory.getInstance().newEditable(&quot;0&quot;)\n        }\n    }\n}\n</code></pre>\n<p>Hope someone could help me</p>\n<p>I searched in the web for similar problems and for this error especially. But I don't know how I could fix it.</p>\n"},{"tags":["java","java-11","onnx","onnxruntime"],"comments":[{"owner":{"account_id":18420841,"reputation":1402,"user_id":13418510,"display_name":"TomStroemer"},"score":0,"creation_date":1676564732,"post_id":74418289,"comment_id":133166543,"body_markdown":"Use import ai.onnxruntime.OrtSession.Result to import a single class Result. Use ai.onnxruntime.OrtSession.* to import all Classes from a package. Use import static ai.onnxruntime.OrtSession.Result.* to import all static Methods from the Result Class.","body":"Use import ai.onnxruntime.OrtSession.Result to import a single class Result. Use ai.onnxruntime.OrtSession.* to import all Classes from a package. Use import static ai.onnxruntime.OrtSession.Result.* to import all static Methods from the Result Class."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1681377596,"post_id":74418289,"comment_id":134047606,"body_markdown":"If you&#39;re compiling with `javac`, then you&#39;re not using the Maven pom.xml, and given your `javac` commandline doesn&#39;t specify a classpath, the library can&#39;t be found. You need to compile using Maven, or you need to manually specify the correct classpath when compiling (and running!) your code.","body":"If you&#39;re compiling with <code>javac</code>, then you&#39;re not using the Maven pom.xml, and given your <code>javac</code> commandline doesn&#39;t specify a classpath, the library can&#39;t be found. You need to compile using Maven, or you need to manually specify the correct classpath when compiling (and running!) your code."}],"answers":[{"tags":[],"owner":{"account_id":13357631,"reputation":1,"user_id":9640670,"display_name":"Marslinho"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681377631,"creation_date":1680988140,"answer_id":75967695,"question_id":74418289,"body_markdown":"You need to add the dependency to the classpath when calling the java compiler (`-cp` parameter), however since Java 11 you can directly call the java interpreter with single source files (JEP 330).\r\n\r\nFor Windows you can write something like\r\n\r\n    [path-to-main] % java -cp &quot;C:\\\\Users\\\\XXXX\\\\.m2\\\\repository\\\\com\\\\microsoft\\\\onnxruntime\\\\onnxruntime\\\\1.13.1\\\\onnxruntime-1.13.1.jar&quot; Main.java\r\n\r\n\r\n\r\n","title":"Unable to import onnx in Java","body":"<p>You need to add the dependency to the classpath when calling the java compiler (<code>-cp</code> parameter), however since Java 11 you can directly call the java interpreter with single source files (JEP 330).</p>\n<p>For Windows you can write something like</p>\n<pre><code>[path-to-main] % java -cp &quot;C:\\\\Users\\\\XXXX\\\\.m2\\\\repository\\\\com\\\\microsoft\\\\onnxruntime\\\\onnxruntime\\\\1.13.1\\\\onnxruntime-1.13.1.jar&quot; Main.java\n</code></pre>\n"}],"owner":{"account_id":10172936,"reputation":1,"user_id":7512636,"display_name":"Kaushal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":503,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1681377645,"answer_count":1,"score":0,"last_activity_date":1681377690,"creation_date":1668310478,"question_id":74418289,"body_markdown":"I haven&#39;t worked with Java much, and I need to load a model trained in Python and check if I can make inference in Java or not. I am trying to load an onnx file in Java. To do this I am importing onnx in Java, but it&#39;s throwing an error that package doesn&#39;t exist.\r\n\r\n```\r\ntest_first % javac src/main/java/org/example/Main.java\r\nsrc/main/java/org/example/Main.java:3: error: package ai.onnxruntime.OrtSession.Result does not exist\r\nimport ai.onnxruntime.OrtSession.Result.*;\r\n^\r\n1 error\r\n```\r\n\r\nI have added onnx as a dependency to my code:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;test_first&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/com.microsoft.onnxruntime/onnxruntime --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.microsoft.onnxruntime&lt;/groupId&gt;\r\n            &lt;artifactId&gt;onnxruntime&lt;/artifactId&gt;\r\n            &lt;version&gt;1.13.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nAfter this run the pom.xml to get the dependency. I can see it in my external libraries:\r\n[directory structure image][1]\r\n\r\nBut when I try to compile the java code after adding the import statement it&#39;s giving me the above error.\r\n\r\nI have also tried running:\r\n\r\n```bash\r\nmvn install:install-file -Dfile=/Users/XXXX/.m2/repository/com/microsoft/onnxruntime/onnxruntime/1.13.1/onnxruntime-1.13.1.jar -DgroupId=com.microsoft.onnxruntime -DartifactId=onnxruntime -Dversion=1.13.1 -Dpackaging=jar -DgeneratePom=true\r\n```\r\n\r\nBut it says the artifact is already there in the local repository.\r\n\r\nI am running the following code to check if import is successful for not.\r\n\r\n\r\n```java\r\npackage org.example;\r\n\r\nimport ai.onnxruntime.OrtEnvironment;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        var env = OrtEnvironment.getEnvironment();\r\n    }\r\n}\r\n``` \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qeKeM.png","title":"Unable to import onnx in Java","body":"<p>I haven't worked with Java much, and I need to load a model trained in Python and check if I can make inference in Java or not. I am trying to load an onnx file in Java. To do this I am importing onnx in Java, but it's throwing an error that package doesn't exist.</p>\n<pre><code>test_first % javac src/main/java/org/example/Main.java\nsrc/main/java/org/example/Main.java:3: error: package ai.onnxruntime.OrtSession.Result does not exist\nimport ai.onnxruntime.OrtSession.Result.*;\n^\n1 error\n</code></pre>\n<p>I have added onnx as a dependency to my code:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;test_first&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.microsoft.onnxruntime/onnxruntime --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.onnxruntime&lt;/groupId&gt;\n            &lt;artifactId&gt;onnxruntime&lt;/artifactId&gt;\n            &lt;version&gt;1.13.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>After this run the pom.xml to get the dependency. I can see it in my external libraries:\n<a href=\"https://i.stack.imgur.com/qeKeM.png\" rel=\"nofollow noreferrer\">directory structure image</a></p>\n<p>But when I try to compile the java code after adding the import statement it's giving me the above error.</p>\n<p>I have also tried running:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn install:install-file -Dfile=/Users/XXXX/.m2/repository/com/microsoft/onnxruntime/onnxruntime/1.13.1/onnxruntime-1.13.1.jar -DgroupId=com.microsoft.onnxruntime -DartifactId=onnxruntime -Dversion=1.13.1 -Dpackaging=jar -DgeneratePom=true\n</code></pre>\n<p>But it says the artifact is already there in the local repository.</p>\n<p>I am running the following code to check if import is successful for not.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\nimport ai.onnxruntime.OrtEnvironment;\n\npublic class Main {\n    public static void main(String[] args) {\n        var env = OrtEnvironment.getEnvironment();\n    }\n}\n</code></pre>\n"},{"tags":["java","postgresql","apache-spark"],"comments":[{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":1,"creation_date":1681318872,"post_id":75996271,"comment_id":134038440,"body_markdown":"Who is going OOM, java or postgresql or spark, and how do you know?  You said &quot;the database&quot;, but I&#39;m not confident that you have assessed that correctly.","body":"Who is going OOM, java or postgresql or spark, and how do you know?  You said &quot;the database&quot;, but I&#39;m not confident that you have assessed that correctly."},{"owner":{"account_id":101001,"reputation":119808,"user_id":271959,"display_name":"Frank Heikens"},"score":0,"creation_date":1681323951,"post_id":75996271,"comment_id":134039581,"body_markdown":"Did you check the log files? Anything interesting?","body":"Did you check the log files? Anything interesting?"}],"owner":{"account_id":18241934,"reputation":27,"user_id":13278816,"display_name":"Maxim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681377445,"creation_date":1681307465,"question_id":75996271,"body_markdown":"I have several transformation steps.\r\n1. I unload data from the database.\r\n2. I do four conversion steps, but on the fourth my database dies with OOM. Amount of data uploaded from postgresql database ~ 3g.\r\n3. I want to upload the data back to the database, but on such an amount of data it does not reach this step.\r\n\r\npg_stat_activity shows active requests before OOM\r\n\r\n| query | duration |\r\n| --- | --- |\r\n| SELECT &quot;parent_id&quot;,&quot;root_id&quot; FROM (select * from &quot;temp_2166008c_4a87_4f77_a267_077adde08453_v2&quot;) SPARK_GEN_SUBQ_16  WHERE (&quot;parent_id&quot; IS NOT NULL)   | 00:06:13.401819 |\r\n| SELECT &quot;object_id&quot;,&quot;parent_id&quot;,&quot;attr_id&quot; FROM (select * from &quot;temp_2166008c_4a87_4f77_a267_077adde08453_v2&quot;) SPARK_GEN_SUBQ_16  WHERE (&quot;object_id&quot; IS NOT NULL)   | 00:06:13.401819 |\r\n\r\nthe code on which the OOM is supposed to occur\r\n    \r\n\r\n    Dataset&lt;Row&gt; iter4 = iter_3\r\n                .groupBy(\r\n                        col(&quot;super_parent&quot;),\r\n                        col(&quot;parent_id&quot;).cast(&quot;string&quot;).as(&quot;parent_id&quot;)\r\n                )\r\n                .pivot(&quot;attr_id&quot;)\r\n                .agg(first(col(&quot;value&quot;)).cast(&quot;string&quot;).as(&quot;value&quot;))\r\n                .as(&quot;iter_4&quot;);\r\n\r\nSpark: I use one master node and two worker nodes with 3g of RAM each.\r\n\r\n\r\n        2023-04-13 08:57:18.556  INFO [mig-tool,,,] 19916 --- [ckManagerMaster] o.apache.spark.storage.BlockManagerInfo  : Added broadcast_14_piece0 in memory on 172.20.0.4:9260 (size: 7.2 KiB, free: 434.2 MiB)\r\n    2023-04-13 08:57:31.141  INFO [mig-tool,,,] 19916 --- [result-getter-2] o.apache.spark.scheduler.TaskSetManager  : Finished task 0.0 in stage 38.0 (TID 18) in 12679 ms on 172.20.0.4 (executor 0) (1/1)\r\n    2023-04-13 08:57:31.141  INFO [mig-tool,,,] 19916 --- [result-getter-2] o.a.spark.scheduler.TaskSchedulerImpl    : Removed TaskSet 38.0, whose tasks have all completed, from pool\r\n    2023-04-13 08:57:31.144  INFO [mig-tool,,,] 19916 --- [uler-event-loop] org.apache.spark.scheduler.DAGScheduler  : ShuffleMapStage 38 (pivot at DetailMerge.java:71) finished in 12.705 s\r\n    2023-04-13 08:57:31.145  INFO [mig-tool,,,] 19916 --- [uler-event-loop] org.apache.spark.scheduler.DAGScheduler  : looking for newly runnable stages\r\n    2023-04-13 08:57:31.145  INFO [mig-tool,,,] 19916 --- [uler-event-loop] org.apache.spark.scheduler.DAGScheduler  : running: Set(ShuffleMapStage 39, ShuffleMapStage 40)\r\n    2023-04-13 08:57:31.145  INFO [mig-tool,,,] 19916 --- [uler-event-loop] org.apache.spark.scheduler.DAGScheduler  : waiting: Set()\r\n    2023-04-13 08:57:31.145  INFO [mig-tool,,,] 19916 --- [uler-event-loop] org.apache.spark.scheduler.DAGScheduler  : failed: Set()\r\n    2023-04-13 09:02:49.883  WARN [mig-tool,,,] 19916 --- [result-getter-3] o.apache.spark.scheduler.TaskSetManager  : Lost task 0.0 in stage 39.0 (TID 19) (172.20.0.4 executor 0): org.postgresql.util.PSQLException: An I/O error occurred while sending to the backend.\r\n            at org.postgresql.core.v3.QueryExecutorImpl.fetch(QueryExecutorImpl.java:2603)\r\n            at org.postgresql.jdbc.PgResultSet.next(PgResultSet.java:2235)\r\n            at org.apache.spark.sql.execution.datasources.jdbc.JdbcUtils$$anon$1.getNext(JdbcUtils.scala:344)\r\n            at org.apache.spark.sql.execution.datasources.jdbc.JdbcUtils$$anon$1.getNext(JdbcUtils.scala:330)\r\n            at org.apache.spark.util.NextIterator.hasNext(NextIterator.scala:73)\r\n            at org.apache.spark.InterruptibleIterator.hasNext(InterruptibleIterator.scala:37)\r\n            at org.apache.spark.util.CompletionIterator.hasNext(CompletionIterator.scala:31)\r\n            at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage2.processNext(Unknown Source)\r\n            at org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)\r\n            at org.apache.spark.sql.execution.WholeStageCodegenExec$$anon$1.hasNext(WholeStageCodegenExec.scala:760)\r\n            at scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:460)\r\n            at org.apache.spark.shuffle.sort.BypassMergeSortShuffleWriter.write(BypassMergeSortShuffleWriter.java:168)\r\n            at org.apache.spark.shuffle.ShuffleWriteProcessor.write(ShuffleWriteProcessor.scala:59)\r\n            at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:99)\r\n            at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:52)\r\n            at org.apache.spark.scheduler.Task.run(Task.scala:136)\r\n            at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:548)\r\n            at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1504)\r\n            at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:551)\r\n            at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n            at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n            at java.base/java.lang.Thread.run(Unknown Source)\r\n    Caused by: java.io.EOFException\r\n            at org.postgresql.core.PGStream.receive(PGStream.java:660)\r\n            at org.postgresql.core.PGStream.receiveTupleV3(PGStream.java:618)\r\n            at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2368)\r\n            at org.postgresql.core.v3.QueryExecutorImpl.fetch(QueryExecutorImpl.java:2598)\r\n            ... 21 more\r\n    \r\n    2023-04-13 09:02:49.889  INFO [mig-tool,,,] 19916 --- [rainedScheduler] o.apache.spark.scheduler.TaskSetManager  : Starting task 0.1 in stage 39.0 (TID 21) (172.20.0.4, executor 0, partition 0, PROCESS_LOCAL, 4292 bytes) taskResourceAssignments Map()\r\n    2023-04-13 09:02:49.889  WARN [mig-tool,,,] 19916 --- [result-getter-0] o.apache.spark.scheduler.TaskSetManager  : Lost task 0.0 in stage 40.0 (TID 20) (172.20.0.4 executor 0): org.postgresql.util.PSQLException: An I/O error occurred while sending to the backend.\r\n            at org.postgresql.core.v3.QueryExecutorImpl.fetch(QueryExecutorImpl.java:2603)\r\n            at org.postgresql.jdbc.PgResultSet.next(PgResultSet.java:2235)\r\n            at org.apache.spark.sql.execution.datasources.jdbc.JdbcUtils$$anon$1.getNext(JdbcUtils.scala:344)\r\n            at org.apache.spark.sql.execution.datasources.jdbc.JdbcUtils$$anon$1.getNext(JdbcUtils.scala:330)\r\n            at org.apache.spark.util.NextIterator.hasNext(NextIterator.scala:73)\r\n            at org.apache.spark.InterruptibleIterator.hasNext(InterruptibleIterator.scala:37)\r\n            at org.apache.spark.util.CompletionIterator.hasNext(CompletionIterator.scala:31)\r\n            at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage3.processNext(Unknown Source)\r\n            at org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)\r\n            at org.apache.spark.sql.execution.WholeStageCodegenExec$$anon$1.hasNext(WholeStageCodegenExec.scala:760)\r\n            at scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:460)\r\n            at org.apache.spark.shuffle.sort.BypassMergeSortShuffleWriter.write(BypassMergeSortShuffleWriter.java:168)\r\n            at org.apache.spark.shuffle.ShuffleWriteProcessor.write(ShuffleWriteProcessor.scala:59)\r\n            at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:99)\r\n            at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:52)\r\n            at org.apache.spark.scheduler.Task.run(Task.scala:136)\r\n            at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:548)\r\n            at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1504)\r\n            at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:551)\r\n            at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n            at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n            at java.base/java.lang.Thread.run(Unknown Source)\r\n    Caused by: java.io.EOFException\r\n            at org.postgresql.core.PGStream.receiveChar(PGStream.java:467)\r\n            at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2155)\r\n            at org.postgresql.core.v3.QueryExecutorImpl.fetch(QueryExecutorImpl.java:2598)\r\n            ... 21 more\r\n    \r\n    2023-04-13 09:02:49.890  INFO [mig-tool,,,] 19916 --- [rainedScheduler] o.apache.spark.scheduler.TaskSetManager  : Starting task 0.1 in stage 40.0 (TID 22) (172.20.0.4, executor 0, partition 0, PROCESS_LOCAL, 4292 bytes) taskResourceAssignments Map()\r\n    2023-04-13 09:02:50.138  WARN [mig-tool,,,] 19916 --- [result-getter-1] o.apache.spark.scheduler.TaskSetManager  : Lost task 0.1 in stage 40.0 (TID 22) (172.20.0.4 executor 0): org.postgresql.util.PSQLException: FATAL: the database system is in recovery mode\r\n            at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:693)\r\n            at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:203)\r\n            at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)\r\n            at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)\r\n            at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:263)\r\n            at org.postgresql.Driver.makeConnection(Driver.java:443)\r\n            at org.postgresql.Driver.connect(Driver.java:297)\r\n            at org.apache.spark.sql.execution.datasources.jdbc.connection.BasicConnectionProvider.getConnection(BasicConnectionProvider.scala:49)\r\n            at org.apache.spark.sql.execution.datasources.jdbc.connection.ConnectionProviderBase.create(ConnectionProvider.scala:102)\r\n            at org.apache.spark.sql.jdbc.JdbcDialect.$anonfun$createConnectionFactory$1(JdbcDialects.scala:122)\r\n            at org.apache.spark.sql.jdbc.JdbcDialect.$anonfun$createConnectionFactory$1$adapted(JdbcDialects.scala:118)\r\n            at org.apache.spark.sql.execution.datasources.jdbc.JDBCRDD.compute(JDBCRDD.scala:273)\r\n            at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\r\n            at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\r\n            at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n            at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\r\n            at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\r\n            at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n            at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\r\n            at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\r\n            at org.apache.spark.shuffle.ShuffleWriteProcessor.write(ShuffleWriteProcessor.scala:59)\r\n            at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:99)\r\n            at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:52)\r\n            at org.apache.spark.scheduler.Task.run(Task.scala:136)\r\n            at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:548)\r\n            at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1504)\r\n            at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:551)\r\n            at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n            at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n            at java.base/java.lang.Thread.run(Unknown Source)\r\n    \r\n    2023-04-13 09:02:50.139  INFO [mig-tool,,,] 19916 --- [rainedScheduler] o.apache.spark.scheduler.TaskSetManager  : Starting task 0.2 in stage 40.0 (TID 23) (172.20.0.4, executor 0, partition 0, PROCESS_LOCAL, 4292 bytes) taskResourceAssignments Map()\r\n    2023-04-13 09:02:50.141  WARN [mig-tool,,,] 19916 --- [result-getter-2] o.apache.spark.scheduler.TaskSetManager  : Lost task 0.1 in stage 39.0 (TID 21) (172.20.0.4 executor 0): org.postgresql.util.PSQLException: FATAL: the database system is in recovery mode\r\n            at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:693)\r\n            at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:203)\r\n            at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)\r\n            at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)\r\n            at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:263)\r\n            at org.postgresql.Driver.makeConnection(Driver.java:443)\r\n            at org.postgresql.Driver.connect(Driver.java:297)\r\n            at org.apache.spark.sql.execution.datasources.jdbc.connection.BasicConnectionProvider.getConnection(BasicConnectionProvider.scala:49)\r\n            at org.apache.spark.sql.execution.datasources.jdbc.connection.ConnectionProviderBase.create(ConnectionProvider.scala:102)\r\n            at org.apache.spark.sql.jdbc.JdbcDialect.$anonfun$createConnectionFactory$1(JdbcDialects.scala:122)\r\n            at org.apache.spark.sql.jdbc.JdbcDialect.$anonfun$createConnectionFactory$1$adapted(JdbcDialects.scala:118)\r\n            at org.apache.spark.sql.execution.datasources.jdbc.JDBCRDD.compute(JDBCRDD.scala:273)\r\n            at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\r\n            at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\r\n            at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n            at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\r\n            at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\r\n            at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n            at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\r\n            at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\r\n            at org.apache.spark.shuffle.ShuffleWriteProcessor.write(ShuffleWriteProcessor.scala:59)\r\n            at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:99)\r\n            at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:52)\r\n            at org.apache.spark.scheduler.Task.run(Task.scala:136)\r\n            at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:548)\r\n            at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1504)\r\n            at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:551)\r\n            at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n            at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n            at java.base/java.lang.Thread.run(Unknown Source)\r\n    \r\n    2023-04-13 09:02:50.143  INFO [mig-tool,,,] 19916 --- [rainedScheduler] o.apache.spark.scheduler.TaskSetManager  : Starting task 0.2 in stage 39.0 (TID 24) (172.20.0.4, executor 0, partition 0, PROCESS_LOCAL, 4292 bytes) taskResourceAssignments Map()\r\n    2023-04-13 09:02:50.180  INFO [mig-tool,,,] 19916 --- [result-getter-3] o.apache.spark.scheduler.TaskSetManager  : Lost task 0.2 in stage 40.0 (TID 23) on 172.20.0.4, executor 0: org.postgresql.util.PSQLException (FATAL: the database system is in recovery mode) [duplicate 1]\r\n    2023-04-13 09:02:50.184  INFO [mig-tool,,,] 19916 --- [rainedScheduler] o.apache.spark.scheduler.TaskSetManager  : Starting task 0.3 in stage 40.0 (TID 25) (172.20.0.4, executor 0, partition 0, PROCESS_LOCAL, 4292 bytes) taskResourceAssignments Map()\r\n    2023-04-13 09:02:50.186  INFO [mig-tool,,,] 19916 --- [result-getter-0] o.apache.spark.scheduler.TaskSetManager  : Lost task 0.2 in stage 39.0 (TID 24) on 172.20.0.4, executor 0: org.postgresql.util.PSQLException (FATAL: the database system is in recovery mode) [duplicate 1]\r\n    2023-04-13 09:02:50.190  INFO [mig-tool,,,] 19916 --- [rainedScheduler] o.apache.spark.scheduler.TaskSetManager  : Starting task 0.3 in stage 39.0 (TID 26) (172.20.0.4, executor 0, partition 0, PROCESS_LOCAL, 4292 bytes) taskResourceAssignments Map()\r\n    2023-04-13 09:02:50.211  INFO [mig-tool,,,] 19916 --- [result-getter-1] o.apache.spark.scheduler.TaskSetManager  : Lost task 0.3 in stage 39.0 (TID 26) on 172.20.0.4, executor 0: org.postgresql.util.PSQLException (FATAL: the database system is in recovery mode) [duplicate 2]\r\n    2023-04-13 09:02:50.213 ERROR [mig-tool,,,] 19916 --- [result-getter-1] o.apache.spark.scheduler.TaskSetManager  : Task 0 in stage 39.0 failed 4 times; aborting job\r\n    2023-04-13 09:02:50.217  INFO [mig-tool,,,] 19916 --- [result-getter-1] o.a.spark.scheduler.TaskSchedulerImpl    : Removed TaskSet 39.0, whose tasks have all completed, from pool\r\n    2023-04-13 09:02:50.218  INFO [mig-tool,,,] 19916 --- [result-getter-2] o.apache.spark.scheduler.TaskSetManager  : Lost task 0.3 in stage 40.0 (TID 25) on 172.20.0.4, executor 0: org.postgresql.util.PSQLException (FATAL: the database system is in recovery mode) [duplicate 2]\r\n    2023-04-13 09:02:50.218 ERROR [mig-tool,,,] 19916 --- [result-getter-2] o.apache.spark.scheduler.TaskSetManager  : Task 0 in stage 40.0 failed 4 times; aborting job\r\n    2023-04-13 09:02:50.219  INFO [mig-tool,,,] 19916 --- [result-getter-2] o.a.spark.scheduler.TaskSchedulerImpl    : Removed TaskSet 40.0, whose tasks have all completed, from pool\r\n    2023-04-13 09:02:50.220  INFO [mig-tool,,,] 19916 --- [uler-event-loop] o.a.spark.scheduler.TaskSchedulerImpl    : Cancelling stage 39\r\n    2023-04-13 09:02:50.220  INFO [mig-tool,,,] 19916 --- [uler-event-loop] o.a.spark.scheduler.TaskSchedulerImpl    : Killing all running tasks in stage 39: Stage cancelled\r\n    2023-04-13 09:02:50.222  INFO [mig-tool,,,] 19916 --- [uler-event-loop] org.apache.spark.scheduler.DAGScheduler  : ShuffleMapStage 39 (pivot at DetailMerge.java:71) failed in 331.754 s due to Job aborted due to stage failure: Task 0 in stage 39.0 failed 4 times, most recent failure: Lost task 0.3 in stage 39.0 (TID 26) (172.20.0.4 executor 0): org.postgresql.util.PSQLException: FATAL: the database system is in recovery mode\r\n            at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:693)\r\n            at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:203)\r\n            at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)\r\n            at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)\r\n            at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:263)\r\n            at org.postgresql.Driver.makeConnection(Driver.java:443)\r\n            at org.postgresql.Driver.connect(Driver.java:297)\r\n            at org.apache.spark.sql.execution.datasources.jdbc.connection.BasicConnectionProvider.getConnection(BasicConnectionProvider.scala:49)\r\n            at org.apache.spark.sql.execution.datasources.jdbc.connection.ConnectionProviderBase.create(ConnectionProvider.scala:102)\r\n            at org.apache.spark.sql.jdbc.JdbcDialect.$anonfun$createConnectionFactory$1(JdbcDialects.scala:122)\r\n            at org.apache.spark.sql.jdbc.JdbcDialect.$anonfun$createConnectionFactory$1$adapted(JdbcDialects.scala:118)\r\n            at org.apache.spark.sql.execution.datasources.jdbc.JDBCRDD.compute(JDBCRDD.scala:273)\r\n            at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\r\n            at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\r\n            at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n            at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\r\n            at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\r\n            at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n            at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\r\n            at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\r\n            at org.apache.spark.shuffle.ShuffleWriteProcessor.write(ShuffleWriteProcessor.scala:59)\r\n            at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:99)\r\n            at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:52)\r\n            at org.apache.spark.scheduler.Task.run(Task.scala:136)\r\n            at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:548)\r\n            at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1504)\r\n            at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:551)\r\n            at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n            at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n            at java.base/java.lang.Thread.run(Unknown Source)\r\n    \r\n    Driver stacktrace:\r\n    2023-04-13 09:02:50.226  INFO [mig-tool,,,] 19916 --- [uler-event-loop] o.a.spark.scheduler.TaskSchedulerImpl    : Cancelling stage 40\r\n    2023-04-13 09:02:50.226  INFO [mig-tool,,,] 19916 --- [uler-event-loop] o.a.spark.scheduler.TaskSchedulerImpl    : Killing all running tasks in stage 40: Stage cancelled\r\n    2023-04-13 09:02:50.227  INFO [mig-tool,,,] 19916 --- [uler-event-loop] org.apache.spark.scheduler.DAGScheduler  : ShuffleMapStage 40 (pivot at DetailMerge.java:71) failed in 331.723 s due to Job aborted due to stage failure: Task 0 in stage 40.0 failed 4 times, most recent failure: Lost task 0.3 in stage 40.0 (TID 25) (172.20.0.4 executor 0): org.postgresql.util.PSQLException: FATAL: the database system is in recovery mode\r\n            at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:693)\r\n            at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:203)\r\n            at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)\r\n            at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)\r\n            at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:263)\r\n            at org.postgresql.Driver.makeConnection(Driver.java:443)\r\n            at org.postgresql.Driver.connect(Driver.java:297)\r\n            at org.apache.spark.sql.execution.datasources.jdbc.connection.BasicConnectionProvider.getConnection(BasicConnectionProvider.scala:49)\r\n            at org.apache.spark.sql.execution.datasources.jdbc.connection.ConnectionProviderBase.create(ConnectionProvider.scala:102)\r\n            at org.apache.spark.sql.jdbc.JdbcDialect.$anonfun$createConnectionFactory$1(JdbcDialects.scala:122)\r\n            at org.apache.spark.sql.jdbc.JdbcDialect.$anonfun$createConnectionFactory$1$adapted(JdbcDialects.scala:118)\r\n            at org.apache.spark.sql.execution.datasources.jdbc.JDBCRDD.compute(JDBCRDD.scala:273)\r\n            at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\r\n            at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\r\n            at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n            at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\r\n            at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\r\n            at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n            at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\r\n            at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\r\n            at org.apache.spark.shuffle.ShuffleWriteProcessor.write(ShuffleWriteProcessor.scala:59)\r\n            at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:99)\r\n            at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:52)\r\n            at org.apache.spark.scheduler.Task.run(Task.scala:136)\r\n            at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:548)\r\n            at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1504)\r\n            at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:551)\r\n            at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n            at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n            at java.base/java.lang.Thread.run(Unknown Source)\r\n\r\n","title":"Getting OOM for postgresql when working with spark","body":"<p>I have several transformation steps.</p>\n<ol>\n<li>I unload data from the database.</li>\n<li>I do four conversion steps, but on the fourth my database dies with OOM. Amount of data uploaded from postgresql database ~ 3g.</li>\n<li>I want to upload the data back to the database, but on such an amount of data it does not reach this step.</li>\n</ol>\n<p>pg_stat_activity shows active requests before OOM</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>query</th>\n<th>duration</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>SELECT &quot;parent_id&quot;,&quot;root_id&quot; FROM (select * from &quot;temp_2166008c_4a87_4f77_a267_077adde08453_v2&quot;) SPARK_GEN_SUBQ_16  WHERE (&quot;parent_id&quot; IS NOT NULL)</td>\n<td>00:06:13.401819</td>\n</tr>\n<tr>\n<td>SELECT &quot;object_id&quot;,&quot;parent_id&quot;,&quot;attr_id&quot; FROM (select * from &quot;temp_2166008c_4a87_4f77_a267_077adde08453_v2&quot;) SPARK_GEN_SUBQ_16  WHERE (&quot;object_id&quot; IS NOT NULL)</td>\n<td>00:06:13.401819</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>the code on which the OOM is supposed to occur</p>\n<pre><code>Dataset&lt;Row&gt; iter4 = iter_3\n            .groupBy(\n                    col(&quot;super_parent&quot;),\n                    col(&quot;parent_id&quot;).cast(&quot;string&quot;).as(&quot;parent_id&quot;)\n            )\n            .pivot(&quot;attr_id&quot;)\n            .agg(first(col(&quot;value&quot;)).cast(&quot;string&quot;).as(&quot;value&quot;))\n            .as(&quot;iter_4&quot;);\n</code></pre>\n<p>Spark: I use one master node and two worker nodes with 3g of RAM each.</p>\n<pre><code>    2023-04-13 08:57:18.556  INFO [mig-tool,,,] 19916 --- [ckManagerMaster] o.apache.spark.storage.BlockManagerInfo  : Added broadcast_14_piece0 in memory on 172.20.0.4:9260 (size: 7.2 KiB, free: 434.2 MiB)\n2023-04-13 08:57:31.141  INFO [mig-tool,,,] 19916 --- [result-getter-2] o.apache.spark.scheduler.TaskSetManager  : Finished task 0.0 in stage 38.0 (TID 18) in 12679 ms on 172.20.0.4 (executor 0) (1/1)\n2023-04-13 08:57:31.141  INFO [mig-tool,,,] 19916 --- [result-getter-2] o.a.spark.scheduler.TaskSchedulerImpl    : Removed TaskSet 38.0, whose tasks have all completed, from pool\n2023-04-13 08:57:31.144  INFO [mig-tool,,,] 19916 --- [uler-event-loop] org.apache.spark.scheduler.DAGScheduler  : ShuffleMapStage 38 (pivot at DetailMerge.java:71) finished in 12.705 s\n2023-04-13 08:57:31.145  INFO [mig-tool,,,] 19916 --- [uler-event-loop] org.apache.spark.scheduler.DAGScheduler  : looking for newly runnable stages\n2023-04-13 08:57:31.145  INFO [mig-tool,,,] 19916 --- [uler-event-loop] org.apache.spark.scheduler.DAGScheduler  : running: Set(ShuffleMapStage 39, ShuffleMapStage 40)\n2023-04-13 08:57:31.145  INFO [mig-tool,,,] 19916 --- [uler-event-loop] org.apache.spark.scheduler.DAGScheduler  : waiting: Set()\n2023-04-13 08:57:31.145  INFO [mig-tool,,,] 19916 --- [uler-event-loop] org.apache.spark.scheduler.DAGScheduler  : failed: Set()\n2023-04-13 09:02:49.883  WARN [mig-tool,,,] 19916 --- [result-getter-3] o.apache.spark.scheduler.TaskSetManager  : Lost task 0.0 in stage 39.0 (TID 19) (172.20.0.4 executor 0): org.postgresql.util.PSQLException: An I/O error occurred while sending to the backend.\n        at org.postgresql.core.v3.QueryExecutorImpl.fetch(QueryExecutorImpl.java:2603)\n        at org.postgresql.jdbc.PgResultSet.next(PgResultSet.java:2235)\n        at org.apache.spark.sql.execution.datasources.jdbc.JdbcUtils$$anon$1.getNext(JdbcUtils.scala:344)\n        at org.apache.spark.sql.execution.datasources.jdbc.JdbcUtils$$anon$1.getNext(JdbcUtils.scala:330)\n        at org.apache.spark.util.NextIterator.hasNext(NextIterator.scala:73)\n        at org.apache.spark.InterruptibleIterator.hasNext(InterruptibleIterator.scala:37)\n        at org.apache.spark.util.CompletionIterator.hasNext(CompletionIterator.scala:31)\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage2.processNext(Unknown Source)\n        at org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)\n        at org.apache.spark.sql.execution.WholeStageCodegenExec$$anon$1.hasNext(WholeStageCodegenExec.scala:760)\n        at scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:460)\n        at org.apache.spark.shuffle.sort.BypassMergeSortShuffleWriter.write(BypassMergeSortShuffleWriter.java:168)\n        at org.apache.spark.shuffle.ShuffleWriteProcessor.write(ShuffleWriteProcessor.scala:59)\n        at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:99)\n        at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:52)\n        at org.apache.spark.scheduler.Task.run(Task.scala:136)\n        at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:548)\n        at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1504)\n        at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:551)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n        at java.base/java.lang.Thread.run(Unknown Source)\nCaused by: java.io.EOFException\n        at org.postgresql.core.PGStream.receive(PGStream.java:660)\n        at org.postgresql.core.PGStream.receiveTupleV3(PGStream.java:618)\n        at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2368)\n        at org.postgresql.core.v3.QueryExecutorImpl.fetch(QueryExecutorImpl.java:2598)\n        ... 21 more\n\n2023-04-13 09:02:49.889  INFO [mig-tool,,,] 19916 --- [rainedScheduler] o.apache.spark.scheduler.TaskSetManager  : Starting task 0.1 in stage 39.0 (TID 21) (172.20.0.4, executor 0, partition 0, PROCESS_LOCAL, 4292 bytes) taskResourceAssignments Map()\n2023-04-13 09:02:49.889  WARN [mig-tool,,,] 19916 --- [result-getter-0] o.apache.spark.scheduler.TaskSetManager  : Lost task 0.0 in stage 40.0 (TID 20) (172.20.0.4 executor 0): org.postgresql.util.PSQLException: An I/O error occurred while sending to the backend.\n        at org.postgresql.core.v3.QueryExecutorImpl.fetch(QueryExecutorImpl.java:2603)\n        at org.postgresql.jdbc.PgResultSet.next(PgResultSet.java:2235)\n        at org.apache.spark.sql.execution.datasources.jdbc.JdbcUtils$$anon$1.getNext(JdbcUtils.scala:344)\n        at org.apache.spark.sql.execution.datasources.jdbc.JdbcUtils$$anon$1.getNext(JdbcUtils.scala:330)\n        at org.apache.spark.util.NextIterator.hasNext(NextIterator.scala:73)\n        at org.apache.spark.InterruptibleIterator.hasNext(InterruptibleIterator.scala:37)\n        at org.apache.spark.util.CompletionIterator.hasNext(CompletionIterator.scala:31)\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage3.processNext(Unknown Source)\n        at org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)\n        at org.apache.spark.sql.execution.WholeStageCodegenExec$$anon$1.hasNext(WholeStageCodegenExec.scala:760)\n        at scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:460)\n        at org.apache.spark.shuffle.sort.BypassMergeSortShuffleWriter.write(BypassMergeSortShuffleWriter.java:168)\n        at org.apache.spark.shuffle.ShuffleWriteProcessor.write(ShuffleWriteProcessor.scala:59)\n        at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:99)\n        at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:52)\n        at org.apache.spark.scheduler.Task.run(Task.scala:136)\n        at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:548)\n        at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1504)\n        at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:551)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n        at java.base/java.lang.Thread.run(Unknown Source)\nCaused by: java.io.EOFException\n        at org.postgresql.core.PGStream.receiveChar(PGStream.java:467)\n        at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2155)\n        at org.postgresql.core.v3.QueryExecutorImpl.fetch(QueryExecutorImpl.java:2598)\n        ... 21 more\n\n2023-04-13 09:02:49.890  INFO [mig-tool,,,] 19916 --- [rainedScheduler] o.apache.spark.scheduler.TaskSetManager  : Starting task 0.1 in stage 40.0 (TID 22) (172.20.0.4, executor 0, partition 0, PROCESS_LOCAL, 4292 bytes) taskResourceAssignments Map()\n2023-04-13 09:02:50.138  WARN [mig-tool,,,] 19916 --- [result-getter-1] o.apache.spark.scheduler.TaskSetManager  : Lost task 0.1 in stage 40.0 (TID 22) (172.20.0.4 executor 0): org.postgresql.util.PSQLException: FATAL: the database system is in recovery mode\n        at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:693)\n        at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:203)\n        at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)\n        at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)\n        at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:263)\n        at org.postgresql.Driver.makeConnection(Driver.java:443)\n        at org.postgresql.Driver.connect(Driver.java:297)\n        at org.apache.spark.sql.execution.datasources.jdbc.connection.BasicConnectionProvider.getConnection(BasicConnectionProvider.scala:49)\n        at org.apache.spark.sql.execution.datasources.jdbc.connection.ConnectionProviderBase.create(ConnectionProvider.scala:102)\n        at org.apache.spark.sql.jdbc.JdbcDialect.$anonfun$createConnectionFactory$1(JdbcDialects.scala:122)\n        at org.apache.spark.sql.jdbc.JdbcDialect.$anonfun$createConnectionFactory$1$adapted(JdbcDialects.scala:118)\n        at org.apache.spark.sql.execution.datasources.jdbc.JDBCRDD.compute(JDBCRDD.scala:273)\n        at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\n        at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\n        at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\n        at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\n        at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\n        at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\n        at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\n        at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\n        at org.apache.spark.shuffle.ShuffleWriteProcessor.write(ShuffleWriteProcessor.scala:59)\n        at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:99)\n        at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:52)\n        at org.apache.spark.scheduler.Task.run(Task.scala:136)\n        at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:548)\n        at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1504)\n        at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:551)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n        at java.base/java.lang.Thread.run(Unknown Source)\n\n2023-04-13 09:02:50.139  INFO [mig-tool,,,] 19916 --- [rainedScheduler] o.apache.spark.scheduler.TaskSetManager  : Starting task 0.2 in stage 40.0 (TID 23) (172.20.0.4, executor 0, partition 0, PROCESS_LOCAL, 4292 bytes) taskResourceAssignments Map()\n2023-04-13 09:02:50.141  WARN [mig-tool,,,] 19916 --- [result-getter-2] o.apache.spark.scheduler.TaskSetManager  : Lost task 0.1 in stage 39.0 (TID 21) (172.20.0.4 executor 0): org.postgresql.util.PSQLException: FATAL: the database system is in recovery mode\n        at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:693)\n        at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:203)\n        at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)\n        at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)\n        at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:263)\n        at org.postgresql.Driver.makeConnection(Driver.java:443)\n        at org.postgresql.Driver.connect(Driver.java:297)\n        at org.apache.spark.sql.execution.datasources.jdbc.connection.BasicConnectionProvider.getConnection(BasicConnectionProvider.scala:49)\n        at org.apache.spark.sql.execution.datasources.jdbc.connection.ConnectionProviderBase.create(ConnectionProvider.scala:102)\n        at org.apache.spark.sql.jdbc.JdbcDialect.$anonfun$createConnectionFactory$1(JdbcDialects.scala:122)\n        at org.apache.spark.sql.jdbc.JdbcDialect.$anonfun$createConnectionFactory$1$adapted(JdbcDialects.scala:118)\n        at org.apache.spark.sql.execution.datasources.jdbc.JDBCRDD.compute(JDBCRDD.scala:273)\n        at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\n        at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\n        at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\n        at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\n        at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\n        at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\n        at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\n        at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\n        at org.apache.spark.shuffle.ShuffleWriteProcessor.write(ShuffleWriteProcessor.scala:59)\n        at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:99)\n        at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:52)\n        at org.apache.spark.scheduler.Task.run(Task.scala:136)\n        at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:548)\n        at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1504)\n        at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:551)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n        at java.base/java.lang.Thread.run(Unknown Source)\n\n2023-04-13 09:02:50.143  INFO [mig-tool,,,] 19916 --- [rainedScheduler] o.apache.spark.scheduler.TaskSetManager  : Starting task 0.2 in stage 39.0 (TID 24) (172.20.0.4, executor 0, partition 0, PROCESS_LOCAL, 4292 bytes) taskResourceAssignments Map()\n2023-04-13 09:02:50.180  INFO [mig-tool,,,] 19916 --- [result-getter-3] o.apache.spark.scheduler.TaskSetManager  : Lost task 0.2 in stage 40.0 (TID 23) on 172.20.0.4, executor 0: org.postgresql.util.PSQLException (FATAL: the database system is in recovery mode) [duplicate 1]\n2023-04-13 09:02:50.184  INFO [mig-tool,,,] 19916 --- [rainedScheduler] o.apache.spark.scheduler.TaskSetManager  : Starting task 0.3 in stage 40.0 (TID 25) (172.20.0.4, executor 0, partition 0, PROCESS_LOCAL, 4292 bytes) taskResourceAssignments Map()\n2023-04-13 09:02:50.186  INFO [mig-tool,,,] 19916 --- [result-getter-0] o.apache.spark.scheduler.TaskSetManager  : Lost task 0.2 in stage 39.0 (TID 24) on 172.20.0.4, executor 0: org.postgresql.util.PSQLException (FATAL: the database system is in recovery mode) [duplicate 1]\n2023-04-13 09:02:50.190  INFO [mig-tool,,,] 19916 --- [rainedScheduler] o.apache.spark.scheduler.TaskSetManager  : Starting task 0.3 in stage 39.0 (TID 26) (172.20.0.4, executor 0, partition 0, PROCESS_LOCAL, 4292 bytes) taskResourceAssignments Map()\n2023-04-13 09:02:50.211  INFO [mig-tool,,,] 19916 --- [result-getter-1] o.apache.spark.scheduler.TaskSetManager  : Lost task 0.3 in stage 39.0 (TID 26) on 172.20.0.4, executor 0: org.postgresql.util.PSQLException (FATAL: the database system is in recovery mode) [duplicate 2]\n2023-04-13 09:02:50.213 ERROR [mig-tool,,,] 19916 --- [result-getter-1] o.apache.spark.scheduler.TaskSetManager  : Task 0 in stage 39.0 failed 4 times; aborting job\n2023-04-13 09:02:50.217  INFO [mig-tool,,,] 19916 --- [result-getter-1] o.a.spark.scheduler.TaskSchedulerImpl    : Removed TaskSet 39.0, whose tasks have all completed, from pool\n2023-04-13 09:02:50.218  INFO [mig-tool,,,] 19916 --- [result-getter-2] o.apache.spark.scheduler.TaskSetManager  : Lost task 0.3 in stage 40.0 (TID 25) on 172.20.0.4, executor 0: org.postgresql.util.PSQLException (FATAL: the database system is in recovery mode) [duplicate 2]\n2023-04-13 09:02:50.218 ERROR [mig-tool,,,] 19916 --- [result-getter-2] o.apache.spark.scheduler.TaskSetManager  : Task 0 in stage 40.0 failed 4 times; aborting job\n2023-04-13 09:02:50.219  INFO [mig-tool,,,] 19916 --- [result-getter-2] o.a.spark.scheduler.TaskSchedulerImpl    : Removed TaskSet 40.0, whose tasks have all completed, from pool\n2023-04-13 09:02:50.220  INFO [mig-tool,,,] 19916 --- [uler-event-loop] o.a.spark.scheduler.TaskSchedulerImpl    : Cancelling stage 39\n2023-04-13 09:02:50.220  INFO [mig-tool,,,] 19916 --- [uler-event-loop] o.a.spark.scheduler.TaskSchedulerImpl    : Killing all running tasks in stage 39: Stage cancelled\n2023-04-13 09:02:50.222  INFO [mig-tool,,,] 19916 --- [uler-event-loop] org.apache.spark.scheduler.DAGScheduler  : ShuffleMapStage 39 (pivot at DetailMerge.java:71) failed in 331.754 s due to Job aborted due to stage failure: Task 0 in stage 39.0 failed 4 times, most recent failure: Lost task 0.3 in stage 39.0 (TID 26) (172.20.0.4 executor 0): org.postgresql.util.PSQLException: FATAL: the database system is in recovery mode\n        at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:693)\n        at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:203)\n        at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)\n        at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)\n        at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:263)\n        at org.postgresql.Driver.makeConnection(Driver.java:443)\n        at org.postgresql.Driver.connect(Driver.java:297)\n        at org.apache.spark.sql.execution.datasources.jdbc.connection.BasicConnectionProvider.getConnection(BasicConnectionProvider.scala:49)\n        at org.apache.spark.sql.execution.datasources.jdbc.connection.ConnectionProviderBase.create(ConnectionProvider.scala:102)\n        at org.apache.spark.sql.jdbc.JdbcDialect.$anonfun$createConnectionFactory$1(JdbcDialects.scala:122)\n        at org.apache.spark.sql.jdbc.JdbcDialect.$anonfun$createConnectionFactory$1$adapted(JdbcDialects.scala:118)\n        at org.apache.spark.sql.execution.datasources.jdbc.JDBCRDD.compute(JDBCRDD.scala:273)\n        at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\n        at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\n        at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\n        at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\n        at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\n        at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\n        at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\n        at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\n        at org.apache.spark.shuffle.ShuffleWriteProcessor.write(ShuffleWriteProcessor.scala:59)\n        at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:99)\n        at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:52)\n        at org.apache.spark.scheduler.Task.run(Task.scala:136)\n        at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:548)\n        at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1504)\n        at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:551)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n        at java.base/java.lang.Thread.run(Unknown Source)\n\nDriver stacktrace:\n2023-04-13 09:02:50.226  INFO [mig-tool,,,] 19916 --- [uler-event-loop] o.a.spark.scheduler.TaskSchedulerImpl    : Cancelling stage 40\n2023-04-13 09:02:50.226  INFO [mig-tool,,,] 19916 --- [uler-event-loop] o.a.spark.scheduler.TaskSchedulerImpl    : Killing all running tasks in stage 40: Stage cancelled\n2023-04-13 09:02:50.227  INFO [mig-tool,,,] 19916 --- [uler-event-loop] org.apache.spark.scheduler.DAGScheduler  : ShuffleMapStage 40 (pivot at DetailMerge.java:71) failed in 331.723 s due to Job aborted due to stage failure: Task 0 in stage 40.0 failed 4 times, most recent failure: Lost task 0.3 in stage 40.0 (TID 25) (172.20.0.4 executor 0): org.postgresql.util.PSQLException: FATAL: the database system is in recovery mode\n        at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:693)\n        at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:203)\n        at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)\n        at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)\n        at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:263)\n        at org.postgresql.Driver.makeConnection(Driver.java:443)\n        at org.postgresql.Driver.connect(Driver.java:297)\n        at org.apache.spark.sql.execution.datasources.jdbc.connection.BasicConnectionProvider.getConnection(BasicConnectionProvider.scala:49)\n        at org.apache.spark.sql.execution.datasources.jdbc.connection.ConnectionProviderBase.create(ConnectionProvider.scala:102)\n        at org.apache.spark.sql.jdbc.JdbcDialect.$anonfun$createConnectionFactory$1(JdbcDialects.scala:122)\n        at org.apache.spark.sql.jdbc.JdbcDialect.$anonfun$createConnectionFactory$1$adapted(JdbcDialects.scala:118)\n        at org.apache.spark.sql.execution.datasources.jdbc.JDBCRDD.compute(JDBCRDD.scala:273)\n        at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\n        at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\n        at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\n        at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\n        at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\n        at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\n        at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\n        at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\n        at org.apache.spark.shuffle.ShuffleWriteProcessor.write(ShuffleWriteProcessor.scala:59)\n        at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:99)\n        at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:52)\n        at org.apache.spark.scheduler.Task.run(Task.scala:136)\n        at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:548)\n        at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1504)\n        at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:551)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n        at java.base/java.lang.Thread.run(Unknown Source)\n</code></pre>\n"},{"tags":["java","swing","gtk"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1681377461,"post_id":76003707,"comment_id":134047575,"body_markdown":"You can&#39;t, because that is part of this look and feel.","body":"You can&#39;t, because that is part of this look and feel."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1681385841,"post_id":76003707,"comment_id":134049552,"body_markdown":"Perhaps [read this](https://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/index.html) to see if that helps you.","body":"Perhaps <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/index.html\" rel=\"nofollow noreferrer\">read this</a> to see if that helps you."}],"owner":{"account_id":17475615,"reputation":19,"user_id":12670542,"display_name":"VictoRPiles"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681377442,"creation_date":1681377176,"question_id":76003707,"body_markdown":"I&#39;m displaying this dialog:\r\n```java\r\nString connectingDialogTitle = &quot;Connexi&#243; amb el servidor&quot;;\r\nString connectingDialogMessage = &quot;S&#39;est&#224; establint la connexi&#243; amb el servidor&quot;;\r\nImageIcon connectingDialogIcon = new ImageIcon(&quot;client/src/main/resources/assets/gui/loading.gif&quot;);\r\n\r\nSwingUtilities.invokeLater(() -&gt; JOptionPane.showMessageDialog(\r\n                                windowComponent, connectingDialogMessage, connectingDialogTitle,\r\n                                JOptionPane.WARNING_MESSAGE, connectingDialogIcon)\r\n);\r\n```\r\nWith the Metal look and feel (the default for me) looks like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nBut with the GTK look and feel looks like this:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/naOuR.png\r\n  [2]: https://i.stack.imgur.com/AIdQv.png\r\n\r\nHow can I remove that ugly line that appears between the message and the button?","title":"Java Swing Message Dialog remove line at GTK look and feel","body":"<p>I'm displaying this dialog:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String connectingDialogTitle = &quot;Connexió amb el servidor&quot;;\nString connectingDialogMessage = &quot;S'està establint la connexió amb el servidor&quot;;\nImageIcon connectingDialogIcon = new ImageIcon(&quot;client/src/main/resources/assets/gui/loading.gif&quot;);\n\nSwingUtilities.invokeLater(() -&gt; JOptionPane.showMessageDialog(\n                                windowComponent, connectingDialogMessage, connectingDialogTitle,\n                                JOptionPane.WARNING_MESSAGE, connectingDialogIcon)\n);\n</code></pre>\n<p>With the Metal look and feel (the default for me) looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/naOuR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/naOuR.png\" alt=\"enter image description here\" /></a></p>\n<p>But with the GTK look and feel looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/AIdQv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AIdQv.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I remove that ugly line that appears between the message and the button?</p>\n"},{"tags":["java","ajax","certificate","edirectory"],"comments":[{"owner":{"account_id":11922357,"reputation":77,"user_id":8791631,"display_name":"Singleton"},"score":0,"creation_date":1681457784,"post_id":75989390,"comment_id":134062416,"body_markdown":"If you do a console.log(cert) do you get a base64 string or something else in the browser console? Try pasting it into an online certificate decoder or in KeyStore Explorer (Ctrl-L) and see if it is OK.","body":"If you do a console.log(cert) do you get a base64 string or something else in the browser console? Try pasting it into an online certificate decoder or in KeyStore Explorer (Ctrl-L) and see if it is OK."}],"owner":{"account_id":26005741,"reputation":23,"user_id":19715471,"display_name":"Aleix Ru&#233;"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681377405,"creation_date":1681240440,"question_id":75989390,"body_markdown":"I have a X509 certificate stored in an attribute of the user class in Edirectory and I want to parse its values in order to get the expiration date. As I can see through LDAP, the certificate is stored in binary format.\r\n \r\nI have a JAVA function to do that that works perfectly but the thing is that I want to run that on a workflow form which runs on the browser, so I cannot directly use JAVA, I have to send an ajax query to the tomcat server.\r\n\r\nI followed that link in order to communicate the form to the JBOSS server (in my server it is a Tomcat but it is the same I guess) through AJAX and that connection works fine but I cannot parse the certificate on the server: https://community.microfocus.com/cyberres/netiq-identity-governance-administration/idm/w/identity_mgr_tips/22902/howto-use-ajax-with-jquery-in-user-application-forms\r\n\r\nThat is how I get the value from the directory and the ajax call I do:\r\n\r\n    var cert = IDVault.get(null, {userDN}, &quot;User&quot;, &quot;userCertificate&quot;);//It is how is it in Microfocus environment\r\n    alert(cert.length);//1\r\n    alert(cert[0].length);//2111\r\n    $.ajax( {\r\n        type:                    &#39;POST&#39;,\r\n        url:                        {JSP_URL},\r\n        dataType: &quot;text&quot;,\r\n        contentType: &quot;application/octet-stream&quot;,\r\n        processData: false,\r\n        data:                    cert,\r\n        success: function( data )\r\n        {\r\n            ajax_display( field, url, data );\r\n        },\r\n        error:    function( xhr, status )\r\n        {\r\n            ajax_display( field, url, xhr.status + &quot; / &quot; + status );\r\n        },\r\n        timeout: 9000\r\n    } )\r\n\r\n \r\n\r\nThe code in JSP file:\r\n\r\n    InputStream inputStreamAjax = request.getInputStream();\r\n    ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n    byte[] buffer = new byte[1024];\r\n    int length;\r\n    while ((length = inputStreamAjax.read(buffer)) != -1) {\r\n        byteArrayOutputStream.write(buffer, 0, length);\r\n    }\r\n    \r\n    byte[] certificateBytes = byteArrayOutputStream.toByteArray();\r\n    System.out.println(certificateBytes.length);//2893\r\n    ByteArrayInputStream inputStream = new ByteArrayInputStream(certificateBytes);\r\n    CertificateFactory certFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n    \r\n    try {\r\n        X509Certificate cert = (X509Certificate) certFactory.generateCertificate(inputStream);\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n    \r\n    //Send Certificate back to form....\r\n\r\nThis error arises on the try catch so it is printed on the catalina.out:\r\n\r\n    java.security.cert.CertificateException: Could not parse certificate: java.io.IOException: Invalid BER/DER data (too huge?)\r\n\r\nWhat am I doing wrong?\r\n\r\nEdited: If I check the length of the bytes in var cert before calling ajax it is **2111**, but if I check inside jsp file, prior to parsing, in certificateBytes variable It is **2983**. Where is that difference summing? (Code is edited with the position of these checkings)","title":"Binary X509 certificate through AJAX to parse in a Java Server Page in Tomcat Server java.security.cert error","body":"<p>I have a X509 certificate stored in an attribute of the user class in Edirectory and I want to parse its values in order to get the expiration date. As I can see through LDAP, the certificate is stored in binary format.</p>\n<p>I have a JAVA function to do that that works perfectly but the thing is that I want to run that on a workflow form which runs on the browser, so I cannot directly use JAVA, I have to send an ajax query to the tomcat server.</p>\n<p>I followed that link in order to communicate the form to the JBOSS server (in my server it is a Tomcat but it is the same I guess) through AJAX and that connection works fine but I cannot parse the certificate on the server: <a href=\"https://community.microfocus.com/cyberres/netiq-identity-governance-administration/idm/w/identity_mgr_tips/22902/howto-use-ajax-with-jquery-in-user-application-forms\" rel=\"nofollow noreferrer\">https://community.microfocus.com/cyberres/netiq-identity-governance-administration/idm/w/identity_mgr_tips/22902/howto-use-ajax-with-jquery-in-user-application-forms</a></p>\n<p>That is how I get the value from the directory and the ajax call I do:</p>\n<pre><code>var cert = IDVault.get(null, {userDN}, &quot;User&quot;, &quot;userCertificate&quot;);//It is how is it in Microfocus environment\nalert(cert.length);//1\nalert(cert[0].length);//2111\n$.ajax( {\n    type:                    'POST',\n    url:                        {JSP_URL},\n    dataType: &quot;text&quot;,\n    contentType: &quot;application/octet-stream&quot;,\n    processData: false,\n    data:                    cert,\n    success: function( data )\n    {\n        ajax_display( field, url, data );\n    },\n    error:    function( xhr, status )\n    {\n        ajax_display( field, url, xhr.status + &quot; / &quot; + status );\n    },\n    timeout: 9000\n} )\n</code></pre>\n<p>The code in JSP file:</p>\n<pre><code>InputStream inputStreamAjax = request.getInputStream();\nByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\nbyte[] buffer = new byte[1024];\nint length;\nwhile ((length = inputStreamAjax.read(buffer)) != -1) {\n    byteArrayOutputStream.write(buffer, 0, length);\n}\n\nbyte[] certificateBytes = byteArrayOutputStream.toByteArray();\nSystem.out.println(certificateBytes.length);//2893\nByteArrayInputStream inputStream = new ByteArrayInputStream(certificateBytes);\nCertificateFactory certFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\n\ntry {\n    X509Certificate cert = (X509Certificate) certFactory.generateCertificate(inputStream);\n} catch (Exception e) {\n    e.printStackTrace();\n}\n\n//Send Certificate back to form....\n</code></pre>\n<p>This error arises on the try catch so it is printed on the catalina.out:</p>\n<pre><code>java.security.cert.CertificateException: Could not parse certificate: java.io.IOException: Invalid BER/DER data (too huge?)\n</code></pre>\n<p>What am I doing wrong?</p>\n<p>Edited: If I check the length of the bytes in var cert before calling ajax it is <strong>2111</strong>, but if I check inside jsp file, prior to parsing, in certificateBytes variable It is <strong>2983</strong>. Where is that difference summing? (Code is edited with the position of these checkings)</p>\n"},{"tags":["java","android","kotlin"],"owner":{"display_name":"user21262199"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1681377347,"answer_count":0,"score":0,"last_activity_date":1681377316,"creation_date":1681377121,"question_id":76003704,"body_markdown":"I want to open navigation by just clicking on the drawer/options menu icon\r\n\r\nHi! I want to open the navigation drawer by clicking on the drawer icon and I am not creating a toolbar for it just put the image icon of the drawer on one side. and by clicking on that icon navigation screen appears.","title":"How to open navigation drawer by clicking on option menu without creating it on toolbar?","body":"<p>I want to open navigation by just clicking on the drawer/options menu icon</p>\n<p>Hi! I want to open the navigation drawer by clicking on the drawer icon and I am not creating a toolbar for it just put the image icon of the drawer on one side. and by clicking on that icon navigation screen appears.</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":2557581,"reputation":6571,"user_id":2219237,"accept_rate":60,"display_name":"Vasily Kabunov"},"score":0,"creation_date":1472486942,"post_id":38255533,"comment_id":65760011,"body_markdown":"How have you solved the problem? I have the same issue, tried the solution from the accepted answer, the same result (","body":"How have you solved the problem? I have the same issue, tried the solution from the accepted answer, the same result ("},{"owner":{"account_id":7807716,"reputation":3576,"user_id":5905035,"accept_rate":78,"display_name":"John Sardinha"},"score":0,"creation_date":1472495908,"post_id":38255533,"comment_id":65764686,"body_markdown":"I edited with the current working code, I&#39;m not sure if it will solve the issue tho","body":"I edited with the current working code, I&#39;m not sure if it will solve the issue tho"},{"owner":{"account_id":2697384,"reputation":830,"user_id":2385906,"accept_rate":100,"display_name":"Marino"},"score":0,"creation_date":1679663565,"post_id":38255533,"comment_id":133765961,"body_markdown":"@JohnSardinha the &quot;Behaviour&#39;s video&quot; link (`vid . me / nF1J`) is redirecting to an adult website.","body":"@JohnSardinha the &quot;Behaviour&#39;s video&quot; link (<code>vid . me &#47; nF1J</code>) is redirecting to an adult website."},{"owner":{"account_id":7807716,"reputation":3576,"user_id":5905035,"accept_rate":78,"display_name":"John Sardinha"},"score":0,"creation_date":1681377134,"post_id":38255533,"comment_id":134047508,"body_markdown":"@Marino thanks, I&#39;ve removed it","body":"@Marino thanks, I&#39;ve removed it"}],"answers":[{"comments":[{"owner":{"account_id":7807716,"reputation":3576,"user_id":5905035,"accept_rate":78,"display_name":"John Sardinha"},"score":0,"creation_date":1467928977,"post_id":38255930,"comment_id":63933006,"body_markdown":"That made the items bellow disappear and appear, looks weird","body":"That made the items bellow disappear and appear, looks weird"},{"owner":{"account_id":7807716,"reputation":3576,"user_id":5905035,"accept_rate":78,"display_name":"John Sardinha"},"score":0,"creation_date":1467931625,"post_id":38255930,"comment_id":63933879,"body_markdown":"Looks differently weird, when the first item isnt shown, and I delete one, the items above move down","body":"Looks differently weird, when the first item isnt shown, and I delete one, the items above move down"},{"owner":{"account_id":6647514,"reputation":2003,"user_id":5131039,"accept_rate":62,"display_name":"Sahaj Rana"},"score":0,"creation_date":1467931706,"post_id":38255930,"comment_id":63933896,"body_markdown":"i will let u know if i found a better solution","body":"i will let u know if i found a better solution"}],"tags":[],"owner":{"account_id":6647514,"reputation":2003,"user_id":5131039,"accept_rate":62,"display_name":"Sahaj Rana"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1467930666,"creation_date":1467928577,"answer_id":38255930,"question_id":38255533,"body_markdown":"I think you should call `notifyItemRangeRemoved(position, 1);` instead.","title":"RecyclerView: last item&#39;s animation on notifyItemRemoved()","body":"<p>I think you should call <code>notifyItemRangeRemoved(position, 1);</code> instead.</p>\n"},{"comments":[{"owner":{"account_id":1431685,"reputation":1321,"user_id":1353969,"accept_rate":63,"display_name":"Limbo Exile"},"score":2,"creation_date":1501241782,"post_id":39706678,"comment_id":77705609,"body_markdown":"This was exactly my problem. Thanks!","body":"This was exactly my problem. Thanks!"}],"tags":[],"owner":{"account_id":5578974,"reputation":634,"user_id":4421510,"display_name":"zabson"},"comment_count":1,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1474903500,"creation_date":1474903500,"answer_id":39706678,"question_id":38255533,"body_markdown":"RecyclerView must have `layout_height=&quot;match_parent&quot;`. Had the same issue with the last item disappearing and reappearing driving me crazy.","title":"RecyclerView: last item&#39;s animation on notifyItemRemoved()","body":"<p>RecyclerView must have <code>layout_height=\"match_parent\"</code>. Had the same issue with the last item disappearing and reappearing driving me crazy.</p>\n"}],"owner":{"account_id":7807716,"reputation":3576,"user_id":5905035,"accept_rate":78,"display_name":"John Sardinha"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1526,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":38255930,"answer_count":2,"score":1,"last_activity_date":1681377123,"creation_date":1467926665,"question_id":38255533,"body_markdown":"Behaviour&#39;s video: (no longer available)\r\n\r\n**Removing:**\r\n\r\n    viewHolder.buttonDelete.setOnClickListener(new View.OnClickListener() {\r\n    \t@Override\r\n    \tpublic void onClick(View view) {\r\n    \t\tmItemManger.removeShownLayouts(viewHolder.swipeLayout);\r\n    \t\tmDataset.remove(position);\r\n    \t\tnotifyItemRemoved(position);\r\n    \t\tnotifyItemRangeChanged(position, mDataset.size());\r\n    \t\tmItemManger.closeAllItems();\r\n    \t\tToast.makeText(view.getContext(), &quot;Deleted &quot; + viewHolder.textViewPos.getText().toString() + &quot;!&quot;, Toast.LENGTH_SHORT).show();\r\n    \t}\r\n    });\r\n\r\n    \r\n\r\nHow can I fix this?\r\n\r\n**Notes:**\r\nI&#39;m using [this library][1], and I have  the libraries updated.\r\n\r\n**Update:**\r\n\r\n    viewHolder.buttonDelete.setOnClickListener(new View.OnClickListener() {\r\n    \t@Override\r\n    \tpublic void onClick(View view) {\r\n    \t\tmItemManger.removeShownLayouts(viewHolder.swipeLayout);\r\n    \t\tmResultArray.remove(position);\r\n    \t\tnotifyItemRangeChanged(position, mResultArray.size());\r\n    \t\tnotifyItemRemoved(position);\r\n    \t\tmItemManger.closeAllItems();\r\n    \t\tnew Handler().postDelayed(new Runnable() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\tnotifyDataSetChanged();\r\n    \t\t\t}\r\n    \t\t}, 500);\r\n    \t}\r\n    });\r\n\r\n  [1]: https://github.com/daimajia/AndroidSwipeLayout","title":"RecyclerView: last item&#39;s animation on notifyItemRemoved()","body":"<p>Behaviour's video: (no longer available)</p>\n<p><strong>Removing:</strong></p>\n<pre><code>viewHolder.buttonDelete.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n        mItemManger.removeShownLayouts(viewHolder.swipeLayout);\n        mDataset.remove(position);\n        notifyItemRemoved(position);\n        notifyItemRangeChanged(position, mDataset.size());\n        mItemManger.closeAllItems();\n        Toast.makeText(view.getContext(), &quot;Deleted &quot; + viewHolder.textViewPos.getText().toString() + &quot;!&quot;, Toast.LENGTH_SHORT).show();\n    }\n});\n</code></pre>\n<p>How can I fix this?</p>\n<p><strong>Notes:</strong>\nI'm using <a href=\"https://github.com/daimajia/AndroidSwipeLayout\" rel=\"nofollow noreferrer\">this library</a>, and I have  the libraries updated.</p>\n<p><strong>Update:</strong></p>\n<pre><code>viewHolder.buttonDelete.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n        mItemManger.removeShownLayouts(viewHolder.swipeLayout);\n        mResultArray.remove(position);\n        notifyItemRangeChanged(position, mResultArray.size());\n        notifyItemRemoved(position);\n        mItemManger.closeAllItems();\n        new Handler().postDelayed(new Runnable() {\n            @Override\n            public void run() {\n                notifyDataSetChanged();\n            }\n        }, 500);\n    }\n});\n</code></pre>\n"},{"tags":["javascript","python","java","selenium-webdriver","robotframework"],"comments":[{"owner":{"account_id":11844660,"reputation":514,"user_id":9708285,"display_name":"baradhili"},"score":0,"creation_date":1681394235,"post_id":75974871,"comment_id":134051821,"body_markdown":"Welcome to SO! It would be good if you attached what you tried and what were the results. Right now it looks like you have not had a go yourself.","body":"Welcome to SO! It would be good if you attached what you tried and what were the results. Right now it looks like you have not had a go yourself."}],"answers":[{"comments":[{"owner":{"account_id":24349255,"reputation":1,"user_id":18285323,"display_name":"kahirrao"},"score":0,"creation_date":1683340453,"post_id":75983765,"comment_id":134356367,"body_markdown":"on this page I am clicking on print ICON\nhttps://timesofindia.indiatimes.com/elections/assembly-elections/karnataka/news/karnataka-assembly-elections-pms-appeal-congs-survival-jdss-relevance-at-stake/articleshow/99104392.cms","body":"on this page I am clicking on print ICON <a href=\"https://timesofindia.indiatimes.com/elections/assembly-elections/karnataka/news/karnataka-assembly-elections-pms-appeal-congs-survival-jdss-relevance-at-stake/articleshow/99104392.cms\" rel=\"nofollow noreferrer\">timesofindia.indiatimes.com/elections/assembly-elections/&hellip;</a>"},{"owner":{"account_id":24349255,"reputation":1,"user_id":18285323,"display_name":"kahirrao"},"score":0,"creation_date":1683340505,"post_id":75983765,"comment_id":134356371,"body_markdown":"Print Button Actual Js path by doing right click--&gt;copy---&gt;copy js path:\n\ndocument.querySelector(&quot;body &gt; print-preview-app&quot;).shadowRoot.querySelector(&quot;#sidebar&quot;).shadowRoot.querySelector(&quot;print-preview-button-strip&quot;).shadowRoot.querySelector(&quot;div &gt; cr-button.action-button&quot;)","body":"Print Button Actual Js path by doing right click--&gt;copy---&gt;copy js path:  document.querySelector(&quot;body &gt; print-preview-app&quot;).shadowRoot.querySelector(&quot;#sidebar&quot;).sha&zwnj;&#8203;dowRoot.querySelecto&zwnj;&#8203;r(&quot;print-preview-but&zwnj;&#8203;ton-strip&quot;).shadowRo&zwnj;&#8203;ot.querySelector(&quot;di&zwnj;&#8203;v &gt; cr-button.action-button&quot;)"},{"owner":{"account_id":24349255,"reputation":1,"user_id":18285323,"display_name":"kahirrao"},"score":0,"creation_date":1683340568,"post_id":75983765,"comment_id":134356373,"body_markdown":"Tried below path with Browser Library can you please confirm it is correct or not as it is not working for me:\nClick    body &gt; print-preview-app &gt;&gt; print-preview-sidebar.side &gt;&gt; print-preview-button-strip &gt;&gt; div &gt; cr-button.action-button","body":"Tried below path with Browser Library can you please confirm it is correct or not as it is not working for me: Click    body &gt; print-preview-app &gt;&gt; print-preview-sidebar.side &gt;&gt; print-preview-button-strip &gt;&gt; div &gt; cr-button.action-button"},{"owner":{"account_id":24349255,"reputation":1,"user_id":18285323,"display_name":"kahirrao"},"score":0,"creation_date":1683340667,"post_id":75983765,"comment_id":134356376,"body_markdown":"Error\nwaiting for locator(&#39;body &gt; print-preview-app&#39;).locator(&#39;print-preview-sidebar.sidebar&#39;).locator(&#39;print-preview-button-strip&#39;).locator(&#39;div &gt; cr-button.action-button&#39;)\nTimeoutError: locator.click: Timeout 20000ms exceeded.","body":"Error waiting for locator(&#39;body &gt; print-preview-app&#39;).locator(&#39;print-preview-sidebar.sidebar&#39;)&zwnj;&#8203;.locator(&#39;print-prev&zwnj;&#8203;iew-button-strip&#39;).l&zwnj;&#8203;ocator(&#39;div &gt; cr-button.action-button&#39;) TimeoutError: locator.click: Timeout 20000ms exceeded."},{"owner":{"account_id":22902773,"reputation":43,"user_id":17041240,"display_name":"Pramesh"},"score":0,"creation_date":1683493200,"post_id":75983765,"comment_id":134371647,"body_markdown":"Hi @kahirrao, this is working for me: `click    id=toi-article-container-99104392 &gt;&gt; css=div.eg6hg &gt;&gt; css=a`. Let me know if it works for you also, thanks.","body":"Hi @kahirrao, this is working for me: <code>click    id=toi-article-container-99104392 &gt;&gt; css=div.eg6hg &gt;&gt; css=a</code>. Let me know if it works for you also, thanks."}],"tags":[],"owner":{"account_id":22902773,"reputation":43,"user_id":17041240,"display_name":"Pramesh"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681200841,"creation_date":1681200841,"answer_id":75983765,"question_id":75974871,"body_markdown":"the below methods are working for me.\r\n\r\n**SeleniumLibrary**\r\n 1. In Chrome, right click on the element that you want to interact and select the &quot;copy &gt; JS Path&quot; (in this example, I want to click the search button)\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0J7me.png\r\n 2. This is my JS Path for the search button/icon: `document.querySelector(&quot;body &gt; pw-shell&quot;).shadowRoot.querySelector(&quot;app-header &gt; div &gt; paper-icon-button:nth-child(5)&quot;)`\r\n 3. Then I used the `Execute JavaScript` keyword. Something like this:\r\n\r\n`${element}=     Execute JavaScript    return document.querySelector(&quot;body &gt; pw-shell&quot;).shadowRoot.querySelector(&quot;app-header &gt; div &gt; paper-icon-button:nth-child(5)&quot;)`\r\n\r\n`Click Element    ${element}`\r\n\r\n 4. This selected the search button/icon for me.\r\n\r\n**Browser**\r\n1. I used the same JS Path and combined them with the `Click` keyword\r\n\r\n    `Click    body &gt; pw-shell &gt;&gt; app-header &gt; div &gt; paper-icon-button:nth-child(5)`\r\n\r\nPersonally I prefer Browser library in such cases. It is possible to interact with the Shadow DOM element easily.\r\n\r\n(a) https://marketsquare.github.io/robotframework-browser/Browser.html#Cascaded%20selector%20syntax\r\n\r\n(b) https://marketsquare.github.io/robotframework-browser/Browser.html#Click\r\n","title":"facing issue to get xpath of the element present in Shadow DOM","body":"<p>the below methods are working for me.</p>\n<p><strong>SeleniumLibrary</strong></p>\n<ol>\n<li>In Chrome, right click on the element that you want to interact and select the &quot;copy &gt; JS Path&quot; (in this example, I want to click the search button)\n<a href=\"https://i.stack.imgur.com/0J7me.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0J7me.png\" alt=\"enter image description here\" /></a></li>\n</ol>\n<p>2. This is my JS Path for the search button/icon: <code>document.querySelector(&quot;body &gt; pw-shell&quot;).shadowRoot.querySelector(&quot;app-header &gt; div &gt; paper-icon-button:nth-child(5)&quot;)</code>\n3. Then I used the <code>Execute JavaScript</code> keyword. Something like this:</p>\n<p><code>${element}=     Execute JavaScript    return document.querySelector(&quot;body &gt; pw-shell&quot;).shadowRoot.querySelector(&quot;app-header &gt; div &gt; paper-icon-button:nth-child(5)&quot;)</code></p>\n<p><code>Click Element    ${element}</code></p>\n<ol start=\"4\">\n<li>This selected the search button/icon for me.</li>\n</ol>\n<p><strong>Browser</strong></p>\n<ol>\n<li><p>I used the same JS Path and combined them with the <code>Click</code> keyword</p>\n<p><code>Click    body &gt; pw-shell &gt;&gt; app-header &gt; div &gt; paper-icon-button:nth-child(5)</code></p>\n</li>\n</ol>\n<p>Personally I prefer Browser library in such cases. It is possible to interact with the Shadow DOM element easily.</p>\n<p>(a) <a href=\"https://marketsquare.github.io/robotframework-browser/Browser.html#Cascaded%20selector%20syntax\" rel=\"nofollow noreferrer\">https://marketsquare.github.io/robotframework-browser/Browser.html#Cascaded%20selector%20syntax</a></p>\n<p>(b) <a href=\"https://marketsquare.github.io/robotframework-browser/Browser.html#Click\" rel=\"nofollow noreferrer\">https://marketsquare.github.io/robotframework-browser/Browser.html#Click</a></p>\n"}],"owner":{"account_id":24349255,"reputation":1,"user_id":18285323,"display_name":"kahirrao"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":491,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681376806,"creation_date":1681109340,"question_id":75974871,"body_markdown":"I am using robot framework for automation and want to click on element **print button**(Please refer attach image for Html Code) on Shadow Dom.\r\n\r\nI have created variable using js path but it is not working. Can any one help to find exact xpath of the element\r\n\r\n![enter image description here][1]\r\n\r\n** Variables **\r\n\r\n`${chrome}`    `chrome`\r\n\r\n`${print}`     `${printIRCF1}`\r\n\r\n```js\r\n${JSPath} = document.querySelector(&#39;print-preview-app&#39;).shadowRoot           \r\n                ...  .querySelector(&#39;print-preview-sidebar&#39;)  \r\n                ...  .querySelector(&#39;print-preview-button-strip&#39;).shadowRoot  \r\n                ...  .querySelector(&#39;controls&#39;)  \r\n                ...  .querySelector(&#39;action-button&#39;).shadowRoot\r\n```\r\n\r\nCan any one help me with the correct JsPath or with xpath so that I can use it in my code\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Fv0nd.png","title":"facing issue to get xpath of the element present in Shadow DOM","body":"<p>I am using robot framework for automation and want to click on element <strong>print button</strong>(Please refer attach image for Html Code) on Shadow Dom.</p>\n<p>I have created variable using js path but it is not working. Can any one help to find exact xpath of the element</p>\n<p><img src=\"https://i.stack.imgur.com/Fv0nd.png\" alt=\"enter image description here\" /></p>\n<p>** Variables **</p>\n<p><code>${chrome}</code>    <code>chrome</code></p>\n<p><code>${print}</code>     <code>${printIRCF1}</code></p>\n<pre class=\"lang-js prettyprint-override\"><code>${JSPath} = document.querySelector('print-preview-app').shadowRoot           \n                ...  .querySelector('print-preview-sidebar')  \n                ...  .querySelector('print-preview-button-strip').shadowRoot  \n                ...  .querySelector('controls')  \n                ...  .querySelector('action-button').shadowRoot\n</code></pre>\n<p>Can any one help me with the correct JsPath or with xpath so that I can use it in my code</p>\n"},{"tags":["java","rabbitmq","quarkus"],"owner":{"account_id":28292689,"reputation":11,"user_id":21632573,"display_name":"Hades"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1681376793,"creation_date":1681376793,"question_id":76003648,"body_markdown":"I&#39;m using quarkus 2.16.3 and reactive messaging rabbitmq. My consumers and producers works, but I noticed that when I create queues with my application, the DLQ doesn&#39;t set DLX and DLK.  \r\nThis is my configuration in application.properties, I attached an image of rabbitmq management [This is the attachment](https://i.stack.imgur.com/TiT5f.png).\r\n\r\n```\r\nmp.messaging.incoming.consumerExample.connector=smallrye-rabbitmq\r\nmp.messaging.incoming.consumerExample.exchange.declare=true\r\nmp.messaging.incoming.consumerExample.exchange.name=consumerExample\r\nmp.messaging.incoming.consumerExample.exchange.type=topic\r\nmp.messaging.incoming.consumerExample.queue.name=consumerExample\r\nmp.messaging.incoming.consumerExample.routing-keys=consumerExample\r\nmp.messaging.incoming.consumerExample.auto-bind-dlq=true\r\nmp.messaging.incoming.consumerExample.dead-letter-exchange=DLX\r\nmp.messaging.incoming.consumerExample.dead-letter-routing-key=DLX-reportDLX\r\nmp.messaging.incoming.consumerExample.dlx.declare=true\r\n```\r\n\r\nI tried a lot of configurations in the application.properties, but nothing, also online I didn&#39;t find nothing useful","title":"Quarkus + reactive rabbitMQ | DLQ doesn&#39;t set dead letters (DLX, DLK)","body":"<p>I'm using quarkus 2.16.3 and reactive messaging rabbitmq. My consumers and producers works, but I noticed that when I create queues with my application, the DLQ doesn't set DLX and DLK.<br />\nThis is my configuration in application.properties, I attached an image of rabbitmq management <a href=\"https://i.stack.imgur.com/TiT5f.png\" rel=\"nofollow noreferrer\">This is the attachment</a>.</p>\n<pre><code>mp.messaging.incoming.consumerExample.connector=smallrye-rabbitmq\nmp.messaging.incoming.consumerExample.exchange.declare=true\nmp.messaging.incoming.consumerExample.exchange.name=consumerExample\nmp.messaging.incoming.consumerExample.exchange.type=topic\nmp.messaging.incoming.consumerExample.queue.name=consumerExample\nmp.messaging.incoming.consumerExample.routing-keys=consumerExample\nmp.messaging.incoming.consumerExample.auto-bind-dlq=true\nmp.messaging.incoming.consumerExample.dead-letter-exchange=DLX\nmp.messaging.incoming.consumerExample.dead-letter-routing-key=DLX-reportDLX\nmp.messaging.incoming.consumerExample.dlx.declare=true\n</code></pre>\n<p>I tried a lot of configurations in the application.properties, but nothing, also online I didn't find nothing useful</p>\n"},{"tags":["java","properties","cucumber","cucumber-jvm","owner"],"answers":[{"tags":[],"owner":{"account_id":153568,"reputation":2613,"user_id":368907,"accept_rate":88,"display_name":"nicholas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626335256,"creation_date":1626315037,"answer_id":68387057,"question_id":68385494,"body_markdown":"@Config.Sources({&quot;classpath:target/test-classes/config.properties&quot;})\r\n\r\nIt still return null when print out. What wrong with it?","title":"Owner Properties File Location","body":"<p>@Config.Sources({&quot;classpath:target/test-classes/config.properties&quot;})</p>\n<p>It still return null when print out. What wrong with it?</p>\n"},{"tags":[],"owner":{"account_id":470836,"reputation":330,"user_id":878241,"display_name":"Evgeny Cheryomushkin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681376677,"creation_date":1680865557,"answer_id":75957860,"question_id":68385494,"body_markdown":"I have same scenario running fine: when you instantiate your config in test, then using properties file from test/resource folter is fine. So you should troubleshoot you build tool like maven or gradle: Why you tests do not find test resources.","title":"Owner Properties File Location","body":"<p>I have same scenario running fine: when you instantiate your config in test, then using properties file from test/resource folter is fine. So you should troubleshoot you build tool like maven or gradle: Why you tests do not find test resources.</p>\n"}],"owner":{"account_id":153568,"reputation":2613,"user_id":368907,"accept_rate":88,"display_name":"nicholas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681376677,"creation_date":1626299635,"question_id":68385494,"body_markdown":"I put my config.properties file in src/test/resources/config.properties at intellij IDE. \r\n\r\nWhen i initiaze this code \r\n\r\n    @Config.Sources({&quot;classpath:config.properties&quot;})\r\n    public interface PropertiesManager extends Config {\r\n\r\n\r\nIt cannot be found the file but the file is located at target/test-classes/config.properties. It just cannot find the file. \r\n\r\nHow to declare properly. Thanks. Please help. \r\n\r\n","title":"Owner Properties File Location","body":"<p>I put my config.properties file in src/test/resources/config.properties at intellij IDE.</p>\n<p>When i initiaze this code</p>\n<pre><code>@Config.Sources({&quot;classpath:config.properties&quot;})\npublic interface PropertiesManager extends Config {\n</code></pre>\n<p>It cannot be found the file but the file is located at target/test-classes/config.properties. It just cannot find the file.</p>\n<p>How to declare properly. Thanks. Please help.</p>\n"},{"tags":["java","spring","jboss"],"comments":[{"owner":{"account_id":1642932,"reputation":1379,"user_id":1515042,"accept_rate":54,"display_name":"Nadir"},"score":0,"creation_date":1430831104,"post_id":30051719,"comment_id":48222102,"body_markdown":"Did you have a spring module before when using jboss 7.1? If not, make sure you: dont package it with your war now, and you added a jboss-deployment-structure.xml file with dependency to your spring module","body":"Did you have a spring module before when using jboss 7.1? If not, make sure you: dont package it with your war now, and you added a jboss-deployment-structure.xml file with dependency to your spring module"},{"owner":{"account_id":6258205,"reputation":31,"user_id":4866125,"display_name":"sri"},"score":0,"creation_date":1430997701,"post_id":30051719,"comment_id":48310636,"body_markdown":"Yes I had spring module in my jboss 7.1 also.  So I have added those spring modules in Jboss Eap 6.4 and also the dependencies are added in jboss-deployment-structure.xml file.  Providing the xml file below for your reference,","body":"Yes I had spring module in my jboss 7.1 also.  So I have added those spring modules in Jboss Eap 6.4 and also the dependencies are added in jboss-deployment-structure.xml file.  Providing the xml file below for your reference,"},{"owner":{"account_id":6258205,"reputation":31,"user_id":4866125,"display_name":"sri"},"score":0,"creation_date":1430997708,"post_id":30051719,"comment_id":48310639,"body_markdown":"&lt;jboss-deployment-structure xmlns=&quot;urn:jboss:deployment-structure:1.0&quot;&gt;\n\t&lt;deployment&gt;\n\t\t&lt;dependencies&gt;\n\t\t\t&lt;module name=&quot;org.slf4j&quot; /&gt;\n\t\t\t&lt;module name=&quot;org.springframework&quot;&gt;\n\t\t\t\t&lt;exports&gt;\n\t\t\t\t\t&lt;include path=&quot;META-INF**&quot; /&gt;\n\t\t\t\t\t&lt;include path=&quot;org**&quot; /&gt;\n\t\t\t\t&lt;/exports&gt;\n\t\t\t\t&lt;imports&gt;\n\t\t\t\t\t&lt;include path=&quot;META-INF**&quot; /&gt;\n\t\t\t\t\t&lt;include path=&quot;org**&quot; /&gt;\n\t\t\t\t&lt;/imports&gt;\n\t\t\t&lt;/module&gt;\n\t\t\t&lt;module name=&quot;org.jboss.msc&quot; /&gt;\n\t\t\t&lt;module name=&quot;org.jboss.as.clustering.singleton&quot; /&gt;\n\t\t\t&lt;module name=&quot;org.codehaus.jackson.jackson-mapper-asl&quot;/&gt;\n\t\t&lt;/dependencies&gt;\n\t&lt;/deployment&gt;\n&lt;/jboss-deployment-structure&gt;","body":"&lt;jboss-deployment-structure xmlns=&quot;urn:jboss:deployment-structure:1.0&quot;&gt; \t&lt;deployment&gt; \t\t&lt;dependencies&gt; \t\t\t&lt;module name=&quot;org.slf4j&quot; /&gt; \t\t\t&lt;module name=&quot;org.springframework&quot;&gt; \t\t\t\t&lt;exports&gt; \t\t\t\t\t&lt;include path=&quot;META-INF**&quot; /&gt; \t\t\t\t\t&lt;include path=&quot;org**&quot; /&gt; \t\t\t\t&lt;/exports&gt; \t\t\t\t&lt;imports&gt; \t\t\t\t\t&lt;include path=&quot;META-INF**&quot; /&gt; \t\t\t\t\t&lt;include path=&quot;org**&quot; /&gt; \t\t\t\t&lt;/imports&gt; \t\t\t&lt;/module&gt; \t\t\t&lt;module name=&quot;org.jboss.msc&quot; /&gt; \t\t\t&lt;module name=&quot;org.jboss.as.clustering.singleton&quot; /&gt; \t\t\t&lt;module name=&quot;org.codehaus.jackson.jackson-mapper-asl&quot;/&gt; \t\t&lt;/dependencies&gt; \t&lt;/deployment&gt; &lt;/jboss-deployment-structure&gt;"}],"answers":[{"tags":[],"owner":{"account_id":4614164,"reputation":75,"user_id":3741279,"display_name":"D. Walz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616771144,"creation_date":1616771144,"answer_id":66819463,"question_id":30051719,"body_markdown":"For me I&#39;ve got similar problems. The problem was that the class was available in more than one jar and jboss take it from the wrong JAR.\r\nI could solve it by these steps:\r\n\r\n1. Look for the class (I&#39;ve done it with Eclipse CTRL+SHIFT+T)\r\n2. Than pick the one JAR which is older\r\n3. With `mvn dependency:tree` search from wich dependency the JAR is added to the classpath\r\n4. Step to the dependency from from which it is included and add an exclusion:\r\n\r\n    &amp;lt;dependency&amp;gt;\r\n     &amp;lt;!-- the dependency which loads the JAR with the older version of class --&amp;gt;\r\n     &amp;lt;groupId&amp;gt;some.group&amp;lt;/groupId&amp;gt;\r\n     &amp;lt;artifactId&amp;gt;some.artifact&amp;lt;/artifactId&amp;gt;\r\n     &amp;lt;version&amp;gt;1.2.3&amp;lt;/version&amp;gt;\r\n     &amp;lt;exclusions&amp;gt;\r\n      &amp;lt;exclusion&amp;gt;\r\n       &amp;lt;groupId&amp;gt;some.other.group&amp;lt;/groupId&amp;gt;\r\n       &amp;lt;artifactId&amp;gt;some.other.artifact&amp;lt;/artifactId&amp;gt;\r\n      &amp;lt;/exclusion&amp;gt;\r\n     &amp;lt;/exclusions&amp;gt;\r\n    &amp;lt;/dependency&amp;gt;","title":"Jboss EAP 6.4 Failed to define class org.springframework.web.servlet.DispatcherServlet in Module","body":"<p>For me I've got similar problems. The problem was that the class was available in more than one jar and jboss take it from the wrong JAR.\nI could solve it by these steps:</p>\n<ol>\n<li><p>Look for the class (I've done it with Eclipse CTRL+SHIFT+T)</p>\n</li>\n<li><p>Than pick the one JAR which is older</p>\n</li>\n<li><p>With <code>mvn dependency:tree</code> search from wich dependency the JAR is added to the classpath</p>\n</li>\n<li><p>Step to the dependency from from which it is included and add an exclusion:</p>\n<p>&lt;dependency&gt;\n&lt;!-- the dependency which loads the JAR with the older version of class --&gt;\n&lt;groupId&gt;some.group&lt;/groupId&gt;\n&lt;artifactId&gt;some.artifact&lt;/artifactId&gt;\n&lt;version&gt;1.2.3&lt;/version&gt;\n&lt;exclusions&gt;\n&lt;exclusion&gt;\n&lt;groupId&gt;some.other.group&lt;/groupId&gt;\n&lt;artifactId&gt;some.other.artifact&lt;/artifactId&gt;\n&lt;/exclusion&gt;\n&lt;/exclusions&gt;\n&lt;/dependency&gt;</p>\n</li>\n</ol>\n"}],"owner":{"account_id":6258205,"reputation":31,"user_id":4866125,"display_name":"sri"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4566,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681376601,"creation_date":1430825216,"question_id":30051719,"body_markdown":"I am evaluating to migrate my web application from Jboss7.1 to JBoss EAP 6.4 which has a official support of Java 8.  As part of this, I have installed JBoss EAP 6.4 and jdk1.8.0_45.  \r\nMy web application is Spring MVC based and hence I have configured all the required spring modules under the JBoss modules folder(&lt;&lt;JBOSS_HOME&gt;&gt;\\modules\\system\\layers\\base\\org\\springframework\\main).   \r\nWith all these configurations done, when I try to deploy my web application, its failing with the below error,\r\n\r\n```none\r\n16:35:06,197 WARN  [org.jboss.modules] (MSC service thread 1-2) Failed to define class org.springframework.web.servlet.DispatcherServlet in Module &quot;org.springframework:main&quot; from local module loader @9e89d68 (finder: local module finder @3b192d32 (roots: C:\\localsetup\\jboss-eap-6.4\\modules,C:\\localsetup\\jboss-eap-6.4\\modules\\system\\layers\\base)): org.jboss.modules.ModuleLoadError: org.jboss.interceptor:main\r\n\tat org.jboss.modules.ModuleLoadException.toError(ModuleLoadException.java:78) [jboss-modules.jar:1.3.6.Final-redhat-1]\r\n\tat org.jboss.modules.Module.getPathsUnchecked(Module.java:1392) [jboss-modules.jar:1.3.6.Final-redhat-1]\r\n\tat org.jboss.modules.Module.loadModuleClass(Module.java:563) [jboss-modules.jar:1.3.6.Final-redhat-1]\r\n\tat org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:205) [jboss-modules.jar:1.3.6.Final-redhat-1]\r\n\tat org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:459) [jboss-modules.jar:1.3.6.Final-redhat-1]\r\n\tat org.jboss.modules.ConcurrentClassLoader.performLoadClassChecked(ConcurrentClassLoader.java:408) [jboss-modules.jar:1.3.6.Final-redhat-1]\r\n\tat org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:389) [jboss-modules.jar:1.3.6.Final-redhat-1]\r\n\tat org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:134) [jboss-modules.jar:1.3.6.Final-redhat-1]\r\n\tat java.lang.ClassLoader.defineClass1(Native Method) [rt.jar:1.8.0_45]\r\n\tat java.lang.ClassLoader.defineClass(Unknown Source) [rt.jar:1.8.0_45]\r\n\tat org.jboss.modules.ModuleClassLoader.doDefineOrLoadClass(ModuleClassLoader.java:361) [jboss-modules.jar:1.3.6.Final-redhat-1]\r\n\tat org.jboss.modules.ModuleClassLoader.defineClass(ModuleClassLoader.java:482) [jboss-modules.jar:1.3.6.Final-redhat-1]\r\n\tat org.jboss.modules.ModuleClassLoader.loadClassLocal(ModuleClassLoader.java:277) [jboss-modules.jar:1.3.6.Final-redhat-1]\r\n\tat org.jboss.modules.ModuleClassLoader$1.loadClassLocal(ModuleClassLoader.java:92) [jboss-modules.jar:1.3.6.Final-redhat-1]\r\n\tat org.jboss.modules.Module.loadModuleClass(Module.java:568) [jboss-modules.jar:1.3.6.Final-redhat-1]\r\n\tat org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:205) [jboss-modules.jar:1.3.6.Final-redhat-1]\r\n\tat org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:459) [jboss-modules.jar:1.3.6.Final-redhat-1]\r\n\tat org.jboss.modules.ConcurrentClassLoader.performLoadClassChecked(ConcurrentClassLoader.java:408) [jboss-modules.jar:1.3.6.Final-redhat-1]\r\n\tat org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:389) [jboss-modules.jar:1.3.6.Final-redhat-1]\r\n\tat org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:134) [jboss-modules.jar:1.3.6.Final-redhat-1]\r\n\tat org.jboss.as.jaxrs.deployment.JaxrsScanningProcessor.checkDeclaredApplicationClassAsServlet(JaxrsScanningProcessor.java:285)\r\n\tat org.jboss.as.jaxrs.deployment.JaxrsScanningProcessor.scanWebDeployment(JaxrsScanningProcessor.java:152)\r\n\tat org.jboss.as.jaxrs.deployment.JaxrsScanningProcessor.deploy(JaxrsScanningProcessor.java:103)\r\n\tat org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:159) [jboss-as-server-7.5.0.Final-redhat-21.jar:7.5.0.Final-redhat-21]\r\n\tat org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1980) [jboss-msc-1.1.5.Final-redhat-1.jar:1.1.5.Final-redhat-1]\r\n\tat org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1913) [jboss-msc-1.1.5.Final-redhat-1.jar:1.1.5.Final-redhat-1]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [rt.jar:1.8.0_45]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [rt.jar:1.8.0_45]\r\n\tat java.lang.Thread.run(Unknown Source) [rt.jar:1.8.0_45]\r\n\r\n16:35:06,331 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-2) MSC000001: Failed to start service jboss.deployment.unit.&quot;web.war&quot;.POST_MODULE: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;web.war&quot;.POST_MODULE: JBAS018733: Failed to process phase POST_MODULE of deployment &quot;web.war&quot;\r\n\tat org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:166) [jboss-as-server-7.5.0.Final-redhat-21.jar:7.5.0.Final-redhat-21]\r\n\tat org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1980) [jboss-msc-1.1.5.Final-redhat-1.jar:1.1.5.Final-redhat-1]\r\n\tat org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1913) [jboss-msc-1.1.5.Final-redhat-1.jar:1.1.5.Final-redhat-1]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [rt.jar:1.8.0_45]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [rt.jar:1.8.0_45]\r\n\tat java.lang.Thread.run(Unknown Source) [rt.jar:1.8.0_45]\r\nCaused by: org.jboss.modules.ModuleLoadError: org.jboss.interceptor:main\r\n\tat org.jboss.modules.ModuleLoadException.toError(ModuleLoadException.java:78) [jboss-modules.jar:1.3.6.Final-redhat-1]\r\n\tat org.jboss.modules.Module.getPathsUnchecked(Module.java:1392) [jboss-modules.jar:1.3.6.Final-redhat-1]\r\n\tat org.jboss.modules.Module.loadModuleClass(Module.java:563) [jboss-modules.jar:1.3.6.Final-redhat-1]\r\n\tat org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:205) [jboss-modules.jar:1.3.6.Final-redhat-1]\r\n\tat org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:459) [jboss-modules.jar:1.3.6.Final-redhat-1]\r\n\tat org.jboss.modules.ConcurrentClassLoader.performLoadClassChecked(ConcurrentClassLoader.java:408) [jboss-modules.jar:1.3.6.Final-redhat-1]\r\n\tat org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:389) [jboss-modules.jar:1.3.6.Final-redhat-1]\r\n\tat org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:134) [jboss-modules.jar:1.3.6.Final-redhat-1]\r\n\tat java.lang.ClassLoader.defineClass1(Native Method) [rt.jar:1.8.0_45]\r\n\tat java.lang.ClassLoader.defineClass(Unknown Source) [rt.jar:1.8.0_45]\r\n\tat org.jboss.modules.ModuleClassLoader.doDefineOrLoadClass(ModuleClassLoader.java:361) [jboss-modules.jar:1.3.6.Final-redhat-1]\r\n\tat org.jboss.modules.ModuleClassLoader.defineClass(ModuleClassLoader.java:482) [jboss-modules.jar:1.3.6.Final-redhat-1]\r\n\tat org.jboss.modules.ModuleClassLoader.loadClassLocal(ModuleClassLoader.java:277) [jboss-modules.jar:1.3.6.Final-redhat-1]\r\n\tat org.jboss.modules.ModuleClassLoader$1.loadClassLocal(ModuleClassLoader.java:92) [jboss-modules.jar:1.3.6.Final-redhat-1]\r\n\tat org.jboss.modules.Module.loadModuleClass(Module.java:568) [jboss-modules.jar:1.3.6.Final-redhat-1]\r\n\tat org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:205) [jboss-modules.jar:1.3.6.Final-redhat-1]\r\n\tat org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:459) [jboss-modules.jar:1.3.6.Final-redhat-1]\r\n\tat org.jboss.modules.ConcurrentClassLoader.performLoadClassChecked(ConcurrentClassLoader.java:408) [jboss-modules.jar:1.3.6.Final-redhat-1]\r\n\tat org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:389) [jboss-modules.jar:1.3.6.Final-redhat-1]\r\n\tat org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:134) [jboss-modules.jar:1.3.6.Final-redhat-1]\r\n\tat org.jboss.as.jaxrs.deployment.JaxrsScanningProcessor.checkDeclaredApplicationClassAsServlet(JaxrsScanningProcessor.java:285)\r\n\tat org.jboss.as.jaxrs.deployment.JaxrsScanningProcessor.scanWebDeployment(JaxrsScanningProcessor.java:152)\r\n\tat org.jboss.as.jaxrs.deployment.JaxrsScanningProcessor.deploy(JaxrsScanningProcessor.java:103)\r\n\tat org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:159) [jboss-as-server-7.5.0.Final-redhat-21.jar:7.5.0.Final-redhat-21]\r\n\t... 5 more\r\n```\r\nCan some one please help me, what am I missing or doing wrong?  ","title":"Jboss EAP 6.4 Failed to define class org.springframework.web.servlet.DispatcherServlet in Module","body":"<p>I am evaluating to migrate my web application from Jboss7.1 to JBoss EAP 6.4 which has a official support of Java 8.  As part of this, I have installed JBoss EAP 6.4 and jdk1.8.0_45.<br />\nMy web application is Spring MVC based and hence I have configured all the required spring modules under the JBoss modules folder(&lt;&lt;JBOSS_HOME&gt;&gt;\\modules\\system\\layers\\base\\org\\springframework\\main).<br />\nWith all these configurations done, when I try to deploy my web application, its failing with the below error,</p>\n<pre class=\"lang-none prettyprint-override\"><code>16:35:06,197 WARN  [org.jboss.modules] (MSC service thread 1-2) Failed to define class org.springframework.web.servlet.DispatcherServlet in Module &quot;org.springframework:main&quot; from local module loader @9e89d68 (finder: local module finder @3b192d32 (roots: C:\\localsetup\\jboss-eap-6.4\\modules,C:\\localsetup\\jboss-eap-6.4\\modules\\system\\layers\\base)): org.jboss.modules.ModuleLoadError: org.jboss.interceptor:main\n    at org.jboss.modules.ModuleLoadException.toError(ModuleLoadException.java:78) [jboss-modules.jar:1.3.6.Final-redhat-1]\n    at org.jboss.modules.Module.getPathsUnchecked(Module.java:1392) [jboss-modules.jar:1.3.6.Final-redhat-1]\n    at org.jboss.modules.Module.loadModuleClass(Module.java:563) [jboss-modules.jar:1.3.6.Final-redhat-1]\n    at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:205) [jboss-modules.jar:1.3.6.Final-redhat-1]\n    at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:459) [jboss-modules.jar:1.3.6.Final-redhat-1]\n    at org.jboss.modules.ConcurrentClassLoader.performLoadClassChecked(ConcurrentClassLoader.java:408) [jboss-modules.jar:1.3.6.Final-redhat-1]\n    at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:389) [jboss-modules.jar:1.3.6.Final-redhat-1]\n    at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:134) [jboss-modules.jar:1.3.6.Final-redhat-1]\n    at java.lang.ClassLoader.defineClass1(Native Method) [rt.jar:1.8.0_45]\n    at java.lang.ClassLoader.defineClass(Unknown Source) [rt.jar:1.8.0_45]\n    at org.jboss.modules.ModuleClassLoader.doDefineOrLoadClass(ModuleClassLoader.java:361) [jboss-modules.jar:1.3.6.Final-redhat-1]\n    at org.jboss.modules.ModuleClassLoader.defineClass(ModuleClassLoader.java:482) [jboss-modules.jar:1.3.6.Final-redhat-1]\n    at org.jboss.modules.ModuleClassLoader.loadClassLocal(ModuleClassLoader.java:277) [jboss-modules.jar:1.3.6.Final-redhat-1]\n    at org.jboss.modules.ModuleClassLoader$1.loadClassLocal(ModuleClassLoader.java:92) [jboss-modules.jar:1.3.6.Final-redhat-1]\n    at org.jboss.modules.Module.loadModuleClass(Module.java:568) [jboss-modules.jar:1.3.6.Final-redhat-1]\n    at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:205) [jboss-modules.jar:1.3.6.Final-redhat-1]\n    at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:459) [jboss-modules.jar:1.3.6.Final-redhat-1]\n    at org.jboss.modules.ConcurrentClassLoader.performLoadClassChecked(ConcurrentClassLoader.java:408) [jboss-modules.jar:1.3.6.Final-redhat-1]\n    at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:389) [jboss-modules.jar:1.3.6.Final-redhat-1]\n    at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:134) [jboss-modules.jar:1.3.6.Final-redhat-1]\n    at org.jboss.as.jaxrs.deployment.JaxrsScanningProcessor.checkDeclaredApplicationClassAsServlet(JaxrsScanningProcessor.java:285)\n    at org.jboss.as.jaxrs.deployment.JaxrsScanningProcessor.scanWebDeployment(JaxrsScanningProcessor.java:152)\n    at org.jboss.as.jaxrs.deployment.JaxrsScanningProcessor.deploy(JaxrsScanningProcessor.java:103)\n    at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:159) [jboss-as-server-7.5.0.Final-redhat-21.jar:7.5.0.Final-redhat-21]\n    at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1980) [jboss-msc-1.1.5.Final-redhat-1.jar:1.1.5.Final-redhat-1]\n    at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1913) [jboss-msc-1.1.5.Final-redhat-1.jar:1.1.5.Final-redhat-1]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [rt.jar:1.8.0_45]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [rt.jar:1.8.0_45]\n    at java.lang.Thread.run(Unknown Source) [rt.jar:1.8.0_45]\n\n16:35:06,331 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-2) MSC000001: Failed to start service jboss.deployment.unit.&quot;web.war&quot;.POST_MODULE: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;web.war&quot;.POST_MODULE: JBAS018733: Failed to process phase POST_MODULE of deployment &quot;web.war&quot;\n    at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:166) [jboss-as-server-7.5.0.Final-redhat-21.jar:7.5.0.Final-redhat-21]\n    at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1980) [jboss-msc-1.1.5.Final-redhat-1.jar:1.1.5.Final-redhat-1]\n    at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1913) [jboss-msc-1.1.5.Final-redhat-1.jar:1.1.5.Final-redhat-1]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [rt.jar:1.8.0_45]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [rt.jar:1.8.0_45]\n    at java.lang.Thread.run(Unknown Source) [rt.jar:1.8.0_45]\nCaused by: org.jboss.modules.ModuleLoadError: org.jboss.interceptor:main\n    at org.jboss.modules.ModuleLoadException.toError(ModuleLoadException.java:78) [jboss-modules.jar:1.3.6.Final-redhat-1]\n    at org.jboss.modules.Module.getPathsUnchecked(Module.java:1392) [jboss-modules.jar:1.3.6.Final-redhat-1]\n    at org.jboss.modules.Module.loadModuleClass(Module.java:563) [jboss-modules.jar:1.3.6.Final-redhat-1]\n    at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:205) [jboss-modules.jar:1.3.6.Final-redhat-1]\n    at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:459) [jboss-modules.jar:1.3.6.Final-redhat-1]\n    at org.jboss.modules.ConcurrentClassLoader.performLoadClassChecked(ConcurrentClassLoader.java:408) [jboss-modules.jar:1.3.6.Final-redhat-1]\n    at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:389) [jboss-modules.jar:1.3.6.Final-redhat-1]\n    at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:134) [jboss-modules.jar:1.3.6.Final-redhat-1]\n    at java.lang.ClassLoader.defineClass1(Native Method) [rt.jar:1.8.0_45]\n    at java.lang.ClassLoader.defineClass(Unknown Source) [rt.jar:1.8.0_45]\n    at org.jboss.modules.ModuleClassLoader.doDefineOrLoadClass(ModuleClassLoader.java:361) [jboss-modules.jar:1.3.6.Final-redhat-1]\n    at org.jboss.modules.ModuleClassLoader.defineClass(ModuleClassLoader.java:482) [jboss-modules.jar:1.3.6.Final-redhat-1]\n    at org.jboss.modules.ModuleClassLoader.loadClassLocal(ModuleClassLoader.java:277) [jboss-modules.jar:1.3.6.Final-redhat-1]\n    at org.jboss.modules.ModuleClassLoader$1.loadClassLocal(ModuleClassLoader.java:92) [jboss-modules.jar:1.3.6.Final-redhat-1]\n    at org.jboss.modules.Module.loadModuleClass(Module.java:568) [jboss-modules.jar:1.3.6.Final-redhat-1]\n    at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:205) [jboss-modules.jar:1.3.6.Final-redhat-1]\n    at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:459) [jboss-modules.jar:1.3.6.Final-redhat-1]\n    at org.jboss.modules.ConcurrentClassLoader.performLoadClassChecked(ConcurrentClassLoader.java:408) [jboss-modules.jar:1.3.6.Final-redhat-1]\n    at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:389) [jboss-modules.jar:1.3.6.Final-redhat-1]\n    at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:134) [jboss-modules.jar:1.3.6.Final-redhat-1]\n    at org.jboss.as.jaxrs.deployment.JaxrsScanningProcessor.checkDeclaredApplicationClassAsServlet(JaxrsScanningProcessor.java:285)\n    at org.jboss.as.jaxrs.deployment.JaxrsScanningProcessor.scanWebDeployment(JaxrsScanningProcessor.java:152)\n    at org.jboss.as.jaxrs.deployment.JaxrsScanningProcessor.deploy(JaxrsScanningProcessor.java:103)\n    at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:159) [jboss-as-server-7.5.0.Final-redhat-21.jar:7.5.0.Final-redhat-21]\n    ... 5 more\n</code></pre>\n<p>Can some one please help me, what am I missing or doing wrong?</p>\n"},{"tags":["java","gradle","gradle-daemon"],"answers":[{"comments":[{"owner":{"account_id":1839825,"reputation":6122,"user_id":1669464,"accept_rate":74,"display_name":"Pytry"},"score":2,"creation_date":1547568103,"post_id":54194731,"comment_id":95232028,"body_markdown":"I basically wanted something that would be really easy for developers on my team to remember and I needed it to be OS agnostic. I can write a script on my own, but I am (or was) hoping for something that was part of gradle (like a &quot;--stop-all&quot; flag). Your solution is also nice, so I could use it in a script that checks for the OS first and then executes one of those two commands, but I&#39;m going to wait a but before accepting this as the answer.","body":"I basically wanted something that would be really easy for developers on my team to remember and I needed it to be OS agnostic. I can write a script on my own, but I am (or was) hoping for something that was part of gradle (like a &quot;--stop-all&quot; flag). Your solution is also nice, so I could use it in a script that checks for the OS first and then executes one of those two commands, but I&#39;m going to wait a but before accepting this as the answer."},{"owner":{"account_id":76113,"reputation":2618,"user_id":218125,"accept_rate":92,"display_name":"Cypher"},"score":0,"creation_date":1568679940,"post_id":54194731,"comment_id":102342459,"body_markdown":"The windows command doesn&#39;t work on my machine, presumably because the CommandLine argument doesn&#39;t contain the string, &quot;GradleDaemon&quot;.","body":"The windows command doesn&#39;t work on my machine, presumably because the CommandLine argument doesn&#39;t contain the string, &quot;GradleDaemon&quot;."}],"tags":[],"owner":{"account_id":14906181,"reputation":2095,"user_id":10763322,"display_name":"Nikita Tukkel"},"comment_count":2,"down_vote_count":1,"up_vote_count":153,"is_accepted":true,"score":152,"last_activity_date":1547539123,"creation_date":1547539123,"answer_id":54194731,"question_id":54189630,"body_markdown":"Under linux you may use pkill:\r\n``` lang-bash\r\npkill -f &#39;.*GradleDaemon.*&#39;\r\n```\r\n\r\nUnder windows you may use wmic:\r\n``` lang-bash\r\nWMIC PROCESS where &quot;Name like &#39;java%&#39; AND CommandLine like &#39;%GradleDaemon%&#39;&quot; Call Terminate\r\n```\r\n\r\nPS. Why &quot;no scripting&quot; when it is probably the easiest solution?\r\n","title":"Kill all Gradle Daemons Regardless Version?","body":"<p>Under linux you may use pkill:</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>pkill -f '.*GradleDaemon.*'\n</code></pre>\n\n<p>Under windows you may use wmic:</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>WMIC PROCESS where \"Name like 'java%' AND CommandLine like '%GradleDaemon%'\" Call Terminate\n</code></pre>\n\n<p>PS. Why \"no scripting\" when it is probably the easiest solution?</p>\n"},{"comments":[{"owner":{"account_id":3271606,"reputation":2714,"user_id":2754856,"accept_rate":67,"display_name":"Fabio"},"score":9,"creation_date":1582600621,"post_id":57965874,"comment_id":106824382,"body_markdown":"`gradle --status` works the same as `--stop` and only lists daemons of the same version as the one you&#39;re running.","body":"<code>gradle --status</code> works the same as <code>--stop</code> and only lists daemons of the same version as the one you&#39;re running."}],"tags":[],"owner":{"account_id":76113,"reputation":2618,"user_id":218125,"accept_rate":92,"display_name":"Cypher"},"comment_count":1,"down_vote_count":4,"up_vote_count":13,"is_accepted":false,"score":9,"last_activity_date":1568680116,"creation_date":1568680116,"answer_id":57965874,"question_id":54189630,"body_markdown":"The `gradle --status` command will show you the process ids for each of the daemons. You can then use your OS to kill those processes.\r\n\r\nI&#39;m assuming this is cross-platform functionality, but this is the output on Windows:\r\n\r\n      PID STATUS   INFO\r\n    10276 IDLE     5.4.1\r\n    14068 IDLE     5.4.1\r\n\r\nIt&#39;s a bit better than playing whack-a-mole with every java.exe process running on your system. Although it would be nice if gradle had a command that could terminate all running gradle daemons built-in.","title":"Kill all Gradle Daemons Regardless Version?","body":"<p>The <code>gradle --status</code> command will show you the process ids for each of the daemons. You can then use your OS to kill those processes.</p>\n\n<p>I'm assuming this is cross-platform functionality, but this is the output on Windows:</p>\n\n<pre><code>  PID STATUS   INFO\n10276 IDLE     5.4.1\n14068 IDLE     5.4.1\n</code></pre>\n\n<p>It's a bit better than playing whack-a-mole with every java.exe process running on your system. Although it would be nice if gradle had a command that could terminate all running gradle daemons built-in.</p>\n"},{"comments":[{"owner":{"account_id":1401475,"reputation":1995,"user_id":1339923,"accept_rate":100,"display_name":"Lambart"},"score":2,"creation_date":1574275410,"post_id":58794403,"comment_id":104177800,"body_markdown":"I think all you need to do is delete `/home/username/.gradle/daemons`","body":"I think all you need to do is delete <code>&#47;home&#47;username&#47;.gradle&#47;daemons</code>"},{"owner":{"account_id":356367,"reputation":11110,"user_id":695833,"display_name":"Ed Bayiates"},"score":2,"creation_date":1612811503,"post_id":58794403,"comment_id":116878314,"body_markdown":"gradlew --stop worked for me.  Killing Java didn&#39;t work.","body":"gradlew --stop worked for me.  Killing Java didn&#39;t work."}],"tags":[],"owner":{"account_id":2433275,"reputation":414,"user_id":2123747,"display_name":"barnwaldo"},"comment_count":2,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1681376524,"creation_date":1573434390,"answer_id":58794403,"question_id":54189630,"body_markdown":"The gradle daemons did not disappear after 3hrs; this could be since I am running as Linux Guest in VirtualBox.\r\n\r\nAnd hence, the following removes all gradle daemons but it could be &quot;frowned upon&quot; since it might be excessive... \r\n\r\n1) ./gradlew --stop   to ensure all daemons are stopped\r\n\r\n2) delete all folders/files in .gradle folder in the project\r\n\r\n3) delete .gradle folder in /home/username/\r\nLinu\r\n4) reboot\r\n\r\nAll daemons are gone. The next build takes a bit longer but worthwhile as do not like seeing 6 stopped daemons everytime a gradle build or even clean is started.","title":"Kill all Gradle Daemons Regardless Version?","body":"<p>The gradle daemons did not disappear after 3hrs; this could be since I am running as Linux Guest in VirtualBox.</p>\n<p>And hence, the following removes all gradle daemons but it could be &quot;frowned upon&quot; since it might be excessive...</p>\n<ol>\n<li><p>./gradlew --stop   to ensure all daemons are stopped</p>\n</li>\n<li><p>delete all folders/files in .gradle folder in the project</p>\n</li>\n<li><p>delete .gradle folder in /home/username/\nLinu</p>\n</li>\n<li><p>reboot</p>\n</li>\n</ol>\n<p>All daemons are gone. The next build takes a bit longer but worthwhile as do not like seeing 6 stopped daemons everytime a gradle build or even clean is started.</p>\n"},{"tags":[],"owner":{"account_id":11831470,"reputation":61,"user_id":8658080,"display_name":"Lic. Sebastian Torralba"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1621337642,"creation_date":1621337642,"answer_id":67585354,"question_id":54189630,"body_markdown":"I have a similar problem and I made this:\r\n 1. Go To C:\\Users\\\\&quot;Username&quot;\\\\.gradle\\daemon\r\n 2. There are a Folder for each version of gradle\r\n 3. Delete the folder of your actual running version\r\nCheck with --status\r\n\r\n","title":"Kill all Gradle Daemons Regardless Version?","body":"<p>I have a similar problem and I made this:</p>\n<ol>\n<li>Go To C:\\Users\\&quot;Username&quot;\\.gradle\\daemon</li>\n<li>There are a Folder for each version of gradle</li>\n<li>Delete the folder of your actual running version\nCheck with --status</li>\n</ol>\n"}],"owner":{"account_id":1839825,"reputation":6122,"user_id":1669464,"accept_rate":74,"display_name":"Pytry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90431,"favorite_count":0,"down_vote_count":0,"up_vote_count":78,"accepted_answer_id":54194731,"answer_count":4,"score":78,"last_activity_date":1681376524,"creation_date":1547502286,"question_id":54189630,"body_markdown":"**Summary**\r\n\r\nI would like to know how to kill every single gradle daemon and process running on a machine regardless of the version of gradle or the version of the daemon, but the &quot;--kill&quot; or &quot;--stop&quot; command will only stop those processes that match the same version of gradle. \r\n\r\n\r\n**Use case**\r\n\r\nMy CI build box will have several gradle daemons running with different versions (because I&#39;m a good boy that uses the wrapper to execute builds). Occasionally I will find issues with caching or incremental builds, and as a precaution I like to kill the daemons. The same is true for my development boxes, although the conflicts are more often with whichever VCS or IDE I am using.\r\n\r\n**What I am looking for**\r\n\r\n 1. I&#39;m hoping there is a flag or property I am missing that I could\r\n    pass to gradle to do this in a simple one line command, but if it&#39;s\r\n    simple enough I would be ok with more. \r\n 2. No scripting (looping,\r\n    if-else etc). \r\n 3. Killing all java processes is **not** acceptable.\r\n\r\n**Helpful links to the gradle docs**\r\n\r\n[Disabling the Daemon][1]\r\n\r\n[Stopping an existing Daemon][2]\r\n\r\n  [1]:\r\nhttps://docs.gradle.org/current/userguide/gradle_daemon.html#sec:disabling_the_daemon\r\n\r\n  [2]:\r\nhttps://docs.gradle.org/current/userguide/gradle_daemon.html#sec:stopping_an_existing_daemon\r\n\r\n","title":"Kill all Gradle Daemons Regardless Version?","body":"<p><strong>Summary</strong></p>\n\n<p>I would like to know how to kill every single gradle daemon and process running on a machine regardless of the version of gradle or the version of the daemon, but the \"--kill\" or \"--stop\" command will only stop those processes that match the same version of gradle. </p>\n\n<p><strong>Use case</strong></p>\n\n<p>My CI build box will have several gradle daemons running with different versions (because I'm a good boy that uses the wrapper to execute builds). Occasionally I will find issues with caching or incremental builds, and as a precaution I like to kill the daemons. The same is true for my development boxes, although the conflicts are more often with whichever VCS or IDE I am using.</p>\n\n<p><strong>What I am looking for</strong></p>\n\n<ol>\n<li>I'm hoping there is a flag or property I am missing that I could\npass to gradle to do this in a simple one line command, but if it's\nsimple enough I would be ok with more. </li>\n<li>No scripting (looping,\nif-else etc). </li>\n<li>Killing all java processes is <strong>not</strong> acceptable.</li>\n</ol>\n\n<p><strong>Helpful links to the gradle docs</strong></p>\n\n<p><a href=\"https://docs.gradle.org/current/userguide/gradle_daemon.html#sec:disabling_the_daemon\" rel=\"noreferrer\">Disabling the Daemon</a></p>\n\n<p><a href=\"https://docs.gradle.org/current/userguide/gradle_daemon.html#sec:stopping_an_existing_daemon\" rel=\"noreferrer\">Stopping an existing Daemon</a></p>\n"},{"tags":["java","xml","xstream"],"owner":{"account_id":26757645,"reputation":11,"user_id":20356033,"display_name":"Dest511"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681376503,"creation_date":1681376503,"question_id":76003587,"body_markdown":"I would like to use XStream to do the XML transformation from POJO. It seems that by using XStream, it would wrongly convert the &#39;_&#39; to &#39;__&#39; in the field name. Below is the code I am using in my program. I tried to implement an CustomizedStaxDriver but it seems not work at all. Would anyone please give advice to me to solve such problem. Thank you very much.\r\n\r\n\r\nProblem: After using XStream, name_cd becomes &lt;name__cd&gt; , &#39;_&#39; becomes &#39;__&#39; \r\n\r\nCustomizedStaxDriver.java\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport javax.xml.stream.XMLStreamException;\r\nimport javax.xml.stream.XMLStreamWriter;\r\n\r\nimport com.thoughtworks.xstream.core.util.QuickWriter;\r\nimport com.thoughtworks.xstream.io.naming.NameCoder;\r\nimport com.thoughtworks.xstream.io.xml.*;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\npublic class CustomizedStaxDriver extends StaxDriver\r\n{\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(CustomizedStaxDriver.class);\r\n\r\n    /**The list that contains the field names that would contain a CDATA in the xml.*/\r\n    private static final List CDATA_FIELDS;\r\n\r\n    static\r\n    {\r\n        CDATA_FIELDS = new ArrayList();\r\n\r\n        //add cdata field names.eg:cdataField\r\n        CDATA_FIELDS.add(&quot;cdataField&quot;);\r\n        CDATA_FIELDS.add(&quot;description&quot;);\r\n    }\r\n\r\n    public CustomizedStaxDriver() {\r\n        super(new XmlFriendlyNameCoder());\r\n    }\r\n\r\n    @Override\r\n    public StaxWriter createStaxWriter(XMLStreamWriter out,\r\n                                       boolean writeStartEndDocument) throws XMLStreamException\r\n    {\r\n        final XMLStreamWriter writer = out;\r\n        return new StaxWriter(getQnameMap(), out, writeStartEndDocument,\r\n                isRepairingNamespace())\r\n        {\r\n            boolean cdata = false;\r\n\r\n            @Override\r\n            public void startNode(String name)\r\n            {\r\n                //logger.info(&quot;startNode(1):&quot;+name);\r\n                String fixedName = fixNodeName(name);\r\n                super.startNode(fixedName);\r\n                cdata = CDATA_FIELDS.contains(name);\r\n            }\r\n\r\n            @Override\r\n            public void startNode(String name, Class clazz) {\r\n                //logger.info(&quot;startNode(2):&quot;+name);\r\n                String fixedName = fixNodeName(name);\r\n                super.startNode(fixedName, clazz);\r\n            }\r\n\r\n\r\n            private String fixNodeName(String name) {\r\n                //return name.replace(&quot;_&quot;, &quot;__&quot;);\r\n                //return super.encodeNode(name);\r\n                return name;\r\n            }\r\n\r\n\r\n            @Override\r\n            public void setValue(String value)\r\n            {\r\n                if (cdata)\r\n                {\r\n                    try\r\n                    {\r\n                        writer.writeCData(value);\r\n                    }\r\n                    catch (XMLStreamException e)\r\n                    {\r\n                        e.printStackTrace();\r\n                    }\r\n                }else{\r\n                    super.setValue(value);\r\n                }\r\n\r\n            }\r\n\r\n        };\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nItem.java\r\n```\r\nimport com.thoughtworks.xstream.annotations.XStreamAlias;\r\nimport lombok.Data;\r\n\r\n@Data\r\n@XStreamAlias(&quot;item&quot;)\r\npublic class Item {\r\n\r\n    @XStreamAlias(&quot;name_cd&quot;)\r\n    private String nameCd;\r\n\r\n    @XStreamAlias(&quot;description&quot;)\r\n    //@XStreamConverter(CDataConverter.class)\r\n    private String description;\r\n\r\n    public Item(String nameCd, String description) {\r\n        this.nameCd = nameCd;\r\n        this.description = description;\r\n    }\r\n\r\n}\r\n```\r\n\r\nMain Method Call\r\n```\r\n        XStream xstream2 = new XStream(new CustomizedStaxDriver());\r\n        Item item = new Item(&quot;Item Name&quot;, &quot;Item Description&quot;);\r\n        xstream2.processAnnotations(Item.class);\r\n        String dataXml2 = xstream2.toXML(item);\r\n        System.out.println(&quot;GG:&quot;+dataXml2);\r\n```\r\n\r\nResult\r\n```\r\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;&lt;item&gt;&lt;name__cd&gt;Item Name&lt;/name__cd&gt;&lt;description&gt;&lt;![CDATA[Item Description]]&gt;&lt;/description&gt;&lt;/item&gt;\r\n```\r\n\r\n\r\n\r\n","title":"XStream wrongly transform the single underscore &#39;_&#39; to duplicated underscore in field name","body":"<p>I would like to use XStream to do the XML transformation from POJO. It seems that by using XStream, it would wrongly convert the '_' to '__' in the field name. Below is the code I am using in my program. I tried to implement an CustomizedStaxDriver but it seems not work at all. Would anyone please give advice to me to solve such problem. Thank you very much.</p>\n<p>Problem: After using XStream, name_cd becomes &lt;name__cd&gt; , '_' becomes '__'</p>\n<p>CustomizedStaxDriver.java</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\nimport javax.xml.stream.XMLStreamException;\nimport javax.xml.stream.XMLStreamWriter;\n\nimport com.thoughtworks.xstream.core.util.QuickWriter;\nimport com.thoughtworks.xstream.io.naming.NameCoder;\nimport com.thoughtworks.xstream.io.xml.*;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class CustomizedStaxDriver extends StaxDriver\n{\n\n    private static final Logger logger = LoggerFactory.getLogger(CustomizedStaxDriver.class);\n\n    /**The list that contains the field names that would contain a CDATA in the xml.*/\n    private static final List CDATA_FIELDS;\n\n    static\n    {\n        CDATA_FIELDS = new ArrayList();\n\n        //add cdata field names.eg:cdataField\n        CDATA_FIELDS.add(&quot;cdataField&quot;);\n        CDATA_FIELDS.add(&quot;description&quot;);\n    }\n\n    public CustomizedStaxDriver() {\n        super(new XmlFriendlyNameCoder());\n    }\n\n    @Override\n    public StaxWriter createStaxWriter(XMLStreamWriter out,\n                                       boolean writeStartEndDocument) throws XMLStreamException\n    {\n        final XMLStreamWriter writer = out;\n        return new StaxWriter(getQnameMap(), out, writeStartEndDocument,\n                isRepairingNamespace())\n        {\n            boolean cdata = false;\n\n            @Override\n            public void startNode(String name)\n            {\n                //logger.info(&quot;startNode(1):&quot;+name);\n                String fixedName = fixNodeName(name);\n                super.startNode(fixedName);\n                cdata = CDATA_FIELDS.contains(name);\n            }\n\n            @Override\n            public void startNode(String name, Class clazz) {\n                //logger.info(&quot;startNode(2):&quot;+name);\n                String fixedName = fixNodeName(name);\n                super.startNode(fixedName, clazz);\n            }\n\n\n            private String fixNodeName(String name) {\n                //return name.replace(&quot;_&quot;, &quot;__&quot;);\n                //return super.encodeNode(name);\n                return name;\n            }\n\n\n            @Override\n            public void setValue(String value)\n            {\n                if (cdata)\n                {\n                    try\n                    {\n                        writer.writeCData(value);\n                    }\n                    catch (XMLStreamException e)\n                    {\n                        e.printStackTrace();\n                    }\n                }else{\n                    super.setValue(value);\n                }\n\n            }\n\n        };\n    }\n\n}\n</code></pre>\n<p>Item.java</p>\n<pre><code>import com.thoughtworks.xstream.annotations.XStreamAlias;\nimport lombok.Data;\n\n@Data\n@XStreamAlias(&quot;item&quot;)\npublic class Item {\n\n    @XStreamAlias(&quot;name_cd&quot;)\n    private String nameCd;\n\n    @XStreamAlias(&quot;description&quot;)\n    //@XStreamConverter(CDataConverter.class)\n    private String description;\n\n    public Item(String nameCd, String description) {\n        this.nameCd = nameCd;\n        this.description = description;\n    }\n\n}\n</code></pre>\n<p>Main Method Call</p>\n<pre><code>        XStream xstream2 = new XStream(new CustomizedStaxDriver());\n        Item item = new Item(&quot;Item Name&quot;, &quot;Item Description&quot;);\n        xstream2.processAnnotations(Item.class);\n        String dataXml2 = xstream2.toXML(item);\n        System.out.println(&quot;GG:&quot;+dataXml2);\n</code></pre>\n<p>Result</p>\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;&lt;item&gt;&lt;name__cd&gt;Item Name&lt;/name__cd&gt;&lt;description&gt;&lt;![CDATA[Item Description]]&gt;&lt;/description&gt;&lt;/item&gt;\n</code></pre>\n"},{"tags":["java","android","json"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":3,"creation_date":1681372536,"post_id":76002941,"comment_id":134046442,"body_markdown":"Well, the standard says that the decimal separator is a dot and not a comma. I _assume_ (because you didn&#39;t show the json) that in the json the value is a string and not a number because otherwise the json would be invalid. So you&#39;d need to use `NumberFormat` to parse the number and define the locale or decimal separator accordingly.","body":"Well, the standard says that the decimal separator is a dot and not a comma. I <i>assume</i> (because you didn&#39;t show the json) that in the json the value is a string and not a number because otherwise the json would be invalid. So you&#39;d need to use <code>NumberFormat</code> to parse the number and define the locale or decimal separator accordingly."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1681372950,"post_id":76002941,"comment_id":134046525,"body_markdown":"An example of parsing `&quot;1,5&quot;` to `float` would be this (I&#39;m using the German locale because it also defines the decimal separator to be a comma): `float value = NumberFormat.getInstance(Locale.GERMANY).parse(&quot;1,5&quot;).floatValue();`.","body":"An example of parsing <code>&quot;1,5&quot;</code> to <code>float</code> would be this (I&#39;m using the German locale because it also defines the decimal separator to be a comma): <code>float value = NumberFormat.getInstance(Locale.GERMANY).parse(&quot;1,5&quot;).floatV&zwnj;&#8203;alue();</code>."},{"owner":{"account_id":17236264,"reputation":15,"user_id":12479666,"display_name":"Oky Prasetya"},"score":0,"creation_date":1681376190,"post_id":76002941,"comment_id":134047253,"body_markdown":"you know what? you save my day!! thankyou very much!!!","body":"you know what? you save my day!! thankyou very much!!!"}],"owner":{"account_id":17236264,"reputation":15,"user_id":12479666,"display_name":"Oky Prasetya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681376498,"creation_date":1681372313,"question_id":76002941,"body_markdown":"```java\r\nString Qty = jsonobject.getString(&quot;QtyProduct&quot;);\r\nfloat calc_qty = qtyFind - Float.parseFloat(Qty);\r\n```\r\n\r\nThen I get this\r\n\r\n```none\r\njava.lang.NumberFormatException: For input string: &quot;1,5&quot;\r\n    at sun.misc.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:2043)\r\n    at sun.misc.FloatingDecimal.parseFloat(FloatingDecimal.java:122)\r\n    at java.lang.Float.parseFloat(Float.java:451)\r\n    at java.lang.Float.valueOf(Float.java:416)\r\n```\r\n\r\nPlease help me to fix this, is this a bug or what?","title":"Can&#39;t parse JSonObject with Float.ParseFloat/valueOf","body":"<pre class=\"lang-java prettyprint-override\"><code>String Qty = jsonobject.getString(&quot;QtyProduct&quot;);\nfloat calc_qty = qtyFind - Float.parseFloat(Qty);\n</code></pre>\n<p>Then I get this</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.NumberFormatException: For input string: &quot;1,5&quot;\n    at sun.misc.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:2043)\n    at sun.misc.FloatingDecimal.parseFloat(FloatingDecimal.java:122)\n    at java.lang.Float.parseFloat(Float.java:451)\n    at java.lang.Float.valueOf(Float.java:416)\n</code></pre>\n<p>Please help me to fix this, is this a bug or what?</p>\n"},{"tags":["java","amazon-sqs","project-reactor"],"comments":[{"owner":{"account_id":1845098,"reputation":171677,"user_id":1695906,"display_name":"Michael - sqlbot"},"score":0,"creation_date":1529118747,"post_id":50883961,"comment_id":88771224,"body_markdown":"There is no need for backoff with SQS, and it seems like you may have misunderstood some SQS behavior.  Set your `WaitTimeSeconds` to the max value (20) and `MaxNumberOfMessages` to the max value (10).  SQS will return *immediately* with up to 10 messages if there are any messages in the queue, otherwise will wait for 1 message to arrive and return it *immediately* (possibly &gt; 1  if they arrive very, very close together).  If none arrive for 20 seconds, the response returns empty.  With this, you get messages immediately, and yet a completely idle queue will be polled only 180 times per hour.","body":"There is no need for backoff with SQS, and it seems like you may have misunderstood some SQS behavior.  Set your <code>WaitTimeSeconds</code> to the max value (20) and <code>MaxNumberOfMessages</code> to the max value (10).  SQS will return <i>immediately</i> with up to 10 messages if there are any messages in the queue, otherwise will wait for 1 message to arrive and return it <i>immediately</i> (possibly &gt; 1  if they arrive very, very close together).  If none arrive for 20 seconds, the response returns empty.  With this, you get messages immediately, and yet a completely idle queue will be polled only 180 times per hour."},{"owner":{"account_id":1713194,"reputation":178,"user_id":1570815,"display_name":"user1570815"},"score":0,"creation_date":1529128687,"post_id":50883961,"comment_id":88772505,"body_markdown":"I understand SQS part and planing to go with &#39;long polling&#39; for production code but still interested in how to solve such issues using reactive approach.","body":"I understand SQS part and planing to go with &#39;long polling&#39; for production code but still interested in how to solve such issues using reactive approach."}],"answers":[{"tags":[],"owner":{"account_id":4592183,"reputation":343,"user_id":3725190,"accept_rate":70,"display_name":"user3725190"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1576600838,"creation_date":1576600838,"answer_id":59378565,"question_id":50883961,"body_markdown":"What do you think about the following solution:\r\n\r\n``` private static final String queueUrl = &quot;...&quot;;\r\n    private static final Integer batchSize = 1;\r\n    private static final Integer intervalRequest = 3000;\r\n    private static final Integer waitTimeout = 10;\r\n    private static final ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1);\r\n\r\n    private static final SqsAsyncClient sqsAsync =\r\n       SqsAsyncClient\r\n         .builder()\r\n         .endpointOverride(URI.create(queueUrl))\r\n         .build();\r\n\r\n    public static Flux&lt;Message&gt; sqsPublisher =\r\n        Flux.create(sink -&gt; {\r\n                if (sink.isCancelled()) {\r\n                    sink.error(new RuntimeException(&quot;Stop requested&quot;));\r\n                }\r\n\r\n            scheduler.scheduleWithFixedDelay(() -&gt; {\r\n                long numberOfRequests = Math.min(sink.requestedFromDownstream(), batchSize);\r\n                if (numberOfRequests &gt; 0) {\r\n                    ReceiveMessageRequest request = ReceiveMessageRequest\r\n                            .builder()\r\n                            .queueUrl(queueUrl)\r\n                            .maxNumberOfMessages((int) numberOfRequests)\r\n                            .waitTimeSeconds(waitTimeout).build();\r\n\r\n                    CompletableFuture&lt;ReceiveMessageResponse&gt; response = sqsAsync.receiveMessage(request);\r\n\r\n                    response.thenApply(responseValue -&gt; {\r\n                        if (responseValue != null &amp;&amp; responseValue.messages() != null &amp;&amp; !responseValue.messages().isEmpty()) {\r\n                            responseValue.messages().stream().limit(numberOfRequests).forEach(sink::next);\r\n                        }\r\n                        return responseValue;\r\n                    });\r\n\r\n                }\r\n            }, intervalRequest, intervalRequest, TimeUnit.MILLISECONDS);\r\n        });","title":"Reactive SQS Poller with backpressue","body":"<p>What do you think about the following solution:</p>\n\n<pre><code>    private static final Integer batchSize = 1;\n    private static final Integer intervalRequest = 3000;\n    private static final Integer waitTimeout = 10;\n    private static final ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1);\n\n    private static final SqsAsyncClient sqsAsync =\n       SqsAsyncClient\n         .builder()\n         .endpointOverride(URI.create(queueUrl))\n         .build();\n\n    public static Flux&lt;Message&gt; sqsPublisher =\n        Flux.create(sink -&gt; {\n                if (sink.isCancelled()) {\n                    sink.error(new RuntimeException(\"Stop requested\"));\n                }\n\n            scheduler.scheduleWithFixedDelay(() -&gt; {\n                long numberOfRequests = Math.min(sink.requestedFromDownstream(), batchSize);\n                if (numberOfRequests &gt; 0) {\n                    ReceiveMessageRequest request = ReceiveMessageRequest\n                            .builder()\n                            .queueUrl(queueUrl)\n                            .maxNumberOfMessages((int) numberOfRequests)\n                            .waitTimeSeconds(waitTimeout).build();\n\n                    CompletableFuture&lt;ReceiveMessageResponse&gt; response = sqsAsync.receiveMessage(request);\n\n                    response.thenApply(responseValue -&gt; {\n                        if (responseValue != null &amp;&amp; responseValue.messages() != null &amp;&amp; !responseValue.messages().isEmpty()) {\n                            responseValue.messages().stream().limit(numberOfRequests).forEach(sink::next);\n                        }\n                        return responseValue;\n                    });\n\n                }\n            }, intervalRequest, intervalRequest, TimeUnit.MILLISECONDS);\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2551552,"reputation":716,"user_id":2215215,"display_name":"Juan Carrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681376144,"creation_date":1680530469,"answer_id":75920310,"question_id":50883961,"body_markdown":"Previous answers seem to be missing the point:\r\n\r\nInterval polling doesn&#39;t fit the criteria, so that approach should not be taken, as it will request the same amount of queries to SQS regardless of having or not messages. We can delegate that to SQS long polling mechanism.\r\n\r\n`Future.get()` is blocking the thread, causing starvation and leading to poor performance, you should never use `future.get()` or `.wait()` or any blocking operation but rather use async callbacks, or in this case `Flux.fromFuture` should do the trick.\r\n\r\n\r\nYou can use Flux.generate, which will trigger for every requested item request(N) from the downstream, so what you need to control really is how the downstream requests to the upstream.\r\n\r\n\r\nYour Flux.generate can just be a `Flux&lt;Mono&lt;ReceiveMessageResponse&gt;&gt;` so that generate just creates a Mono (async) query to SQS.\r\n\r\nThen you can make use of .flatMap async behaviour with concurrency set, so you limit the amount of parallel queries to SQS at any given time, preventing your app from issuing too many requests to SQS.\r\n\r\nSo in essence, something like this should work:\r\n\r\n    var receiveRequest = ReceiveMessageRequest.builder()\r\n                    .queueUrl(queueUrl)\r\n                    .waitTimeSeconds(20) // Long polling when there is no messages (non-blocking io)\r\n                    .maxNumberOfMessages(10) // Batching \r\n                    .visibilityTimeout(1) // Sample\r\n                    .messageAttributeNames(&quot;All&quot;) // Sample\r\n                    .build();\r\n\r\n    Flux.generate((SynchronousSink&lt;Mono&lt;ReceiveMessageResponse&gt;&gt; sink) -&gt;  \r\n                    sink.next(Mono.fromFuture(this.sqsClient.receiveMessage(receiveRequest))))\r\n                    .flatMap(asyncSqsQuery -&gt; asyncSqsQuery, 4) // Defaults to 256\r\n                    .flatMapIterable(ReceiveMessageResponse::messages);\r\n\r\n\r\nRemember that .flatMap is async in nature, so the concurrency set to (4) will allow up to 4 concurrent requests to the upstream (the generator), in essence it&#39;s transforming (or executing) the Mono upon subscription.\r\n\r\nIf you place anything in between it may change this behaviour, effectively requesting more elements to the generator and breaking that limit of concurrency to the sqs queries.\r\n\r\nOther notes: `Thread.sleep` takes the thread and blocks it, instead you can return `Mono.delay` in order to prevent someone to request more items, this could be handy if for example SQS is down and queries fail, as there is no long-polling of 20s but rather will fail faster. You can make your generator Mono to be either a response from AWS or an empty response upon error, delayed some amount of time, like 1second.\r\n\r\nHope that helps.\r\n\r\n**Update**\r\n\r\nI have implemented a java lib to do precisely this, as using a fixed flatMap will make you trade-off amount of requests while there is no messages (billing costs) with max-throughput, and would not back-off when there is 429s, and that&#39;s not ideal.\r\n \r\nhttps://github.com/juancarrey/reactor-poller\r\n\r\nMain logic being here: https://github.com/juancarrey/reactor-poller/blob/main/reactor-poller-core/src/main/java/com/jcarrey/reactor/poller/core/AdaptativeConcurrencyControl.java\r\n\r\nIt covers your use case, as it adapts the concurrent polling based on the SQS response.","title":"Reactive SQS Poller with backpressue","body":"<p>Previous answers seem to be missing the point:</p>\n<p>Interval polling doesn't fit the criteria, so that approach should not be taken, as it will request the same amount of queries to SQS regardless of having or not messages. We can delegate that to SQS long polling mechanism.</p>\n<p><code>Future.get()</code> is blocking the thread, causing starvation and leading to poor performance, you should never use <code>future.get()</code> or <code>.wait()</code> or any blocking operation but rather use async callbacks, or in this case <code>Flux.fromFuture</code> should do the trick.</p>\n<p>You can use Flux.generate, which will trigger for every requested item request(N) from the downstream, so what you need to control really is how the downstream requests to the upstream.</p>\n<p>Your Flux.generate can just be a <code>Flux&lt;Mono&lt;ReceiveMessageResponse&gt;&gt;</code> so that generate just creates a Mono (async) query to SQS.</p>\n<p>Then you can make use of .flatMap async behaviour with concurrency set, so you limit the amount of parallel queries to SQS at any given time, preventing your app from issuing too many requests to SQS.</p>\n<p>So in essence, something like this should work:</p>\n<pre><code>var receiveRequest = ReceiveMessageRequest.builder()\n                .queueUrl(queueUrl)\n                .waitTimeSeconds(20) // Long polling when there is no messages (non-blocking io)\n                .maxNumberOfMessages(10) // Batching \n                .visibilityTimeout(1) // Sample\n                .messageAttributeNames(&quot;All&quot;) // Sample\n                .build();\n\nFlux.generate((SynchronousSink&lt;Mono&lt;ReceiveMessageResponse&gt;&gt; sink) -&gt;  \n                sink.next(Mono.fromFuture(this.sqsClient.receiveMessage(receiveRequest))))\n                .flatMap(asyncSqsQuery -&gt; asyncSqsQuery, 4) // Defaults to 256\n                .flatMapIterable(ReceiveMessageResponse::messages);\n</code></pre>\n<p>Remember that .flatMap is async in nature, so the concurrency set to (4) will allow up to 4 concurrent requests to the upstream (the generator), in essence it's transforming (or executing) the Mono upon subscription.</p>\n<p>If you place anything in between it may change this behaviour, effectively requesting more elements to the generator and breaking that limit of concurrency to the sqs queries.</p>\n<p>Other notes: <code>Thread.sleep</code> takes the thread and blocks it, instead you can return <code>Mono.delay</code> in order to prevent someone to request more items, this could be handy if for example SQS is down and queries fail, as there is no long-polling of 20s but rather will fail faster. You can make your generator Mono to be either a response from AWS or an empty response upon error, delayed some amount of time, like 1second.</p>\n<p>Hope that helps.</p>\n<p><strong>Update</strong></p>\n<p>I have implemented a java lib to do precisely this, as using a fixed flatMap will make you trade-off amount of requests while there is no messages (billing costs) with max-throughput, and would not back-off when there is 429s, and that's not ideal.</p>\n<p><a href=\"https://github.com/juancarrey/reactor-poller\" rel=\"nofollow noreferrer\">https://github.com/juancarrey/reactor-poller</a></p>\n<p>Main logic being here: <a href=\"https://github.com/juancarrey/reactor-poller/blob/main/reactor-poller-core/src/main/java/com/jcarrey/reactor/poller/core/AdaptativeConcurrencyControl.java\" rel=\"nofollow noreferrer\">https://github.com/juancarrey/reactor-poller/blob/main/reactor-poller-core/src/main/java/com/jcarrey/reactor/poller/core/AdaptativeConcurrencyControl.java</a></p>\n<p>It covers your use case, as it adapts the concurrent polling based on the SQS response.</p>\n"}],"owner":{"account_id":1713194,"reputation":178,"user_id":1570815,"display_name":"user1570815"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2970,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1681376144,"creation_date":1529107260,"question_id":50883961,"body_markdown":"Trying to create SQS Poller which:\r\n  \r\n - Do exponential polls (to reduce number of request if there is no messages present in the queue)\r\n - Query SQS more often if there are a lot of messages in queue\r\n - Have backpressure if certain number of messages are received, it stops polling\r\n - Not to be throttled by AWS API rate limit\r\n\r\nAs an example I&#39;m using [this](https://github.com/gregwhitaker/reactive-sqs-client/blob/master/src/main/java/com/github/gregwhitaker/rxsqs/ReactiveSqsClient.java) JavaRx implementation which is easily transformed to Project Reactor and enrich it with backpressure.\r\n\r\n\r\n    private static final Long DEFAULT_BACKOFF = 500L;\r\n    private static final Long MAX_BACKOFF = 8000L;\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(SqsPollerService.class);\r\n    private static volatile boolean stopRequested;\r\n    \r\n    public Flux&lt;Message&gt; pollMessages(GetQueueUrlResult q)\r\n    {\r\n        return Flux.create(sink -&gt; {\r\n            long backoff = DEFAULT_BACKOFF;\r\n\r\n            while (!stopRequested)\r\n            {\r\n                if (sink.isCancelled())\r\n                {\r\n                    sink.error(new RuntimeException(&quot;Stop requested&quot;));\r\n                    break;\r\n                }\r\n\r\n                Future&lt;ReceiveMessageResult&gt; future = sink.requestedFromDownstream() &gt; 0\r\n                        ? amazonSQS.receiveMessageAsync(createRequest(q))\r\n                        : completedFuture(new ReceiveMessageResult());\r\n\r\n                try\r\n                {\r\n                    ReceiveMessageResult result = future.get();\r\n\r\n                    if (result != null &amp;&amp; !result.getMessages().isEmpty())\r\n                    {\r\n                        backoff = DEFAULT_BACKOFF;\r\n\r\n                        LOGGER.info(&quot;New messages found in queue size={}&quot;, result.getMessages().size());\r\n\r\n                        result.getMessages().forEach(m -&gt; {\r\n                            if (sink.requestedFromDownstream() &gt; 0L)\r\n                            {\r\n                                sink.next(m);\r\n                            }\r\n                        });\r\n                    }\r\n                    else\r\n                    {\r\n                        if (backoff &lt; MAX_BACKOFF)\r\n                        {\r\n                            backoff = backoff * 2;\r\n                        }\r\n\r\n                        LOGGER.debug(&quot;No messages found on queue.  Sleeping for {} ms.&quot;, backoff);\r\n\r\n                        // This is to prevent rate limiting by the AWS api\r\n                        Thread.sleep(backoff);\r\n                    }\r\n                }\r\n                catch (InterruptedException e)\r\n                {\r\n                    stopRequested = true;\r\n                }\r\n                catch (ExecutionException e)\r\n                {\r\n                    sink.error(e);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\nImplementation seems working but there are few questions:\r\n\r\n - Looks like querying Future results in the loop can be done using Reactor Primitives, tried it with `Flux.generate` but was not able to control number of async call made to SqsClient\r\n - In case of `Flux.interval` approach don&#39;t understand how to proper implement backoff policy\r\n - Don&#39;t like `Thread.sleep` call any ideas how to replace it?\r\n - How to properly stop loop in case cancel signal? Using `sink.error` is used to cover that case now.\r\n\r\n","title":"Reactive SQS Poller with backpressue","body":"<p>Trying to create SQS Poller which:</p>\n\n<ul>\n<li>Do exponential polls (to reduce number of request if there is no messages present in the queue)</li>\n<li>Query SQS more often if there are a lot of messages in queue</li>\n<li>Have backpressure if certain number of messages are received, it stops polling</li>\n<li>Not to be throttled by AWS API rate limit</li>\n</ul>\n\n<p>As an example I'm using <a href=\"https://github.com/gregwhitaker/reactive-sqs-client/blob/master/src/main/java/com/github/gregwhitaker/rxsqs/ReactiveSqsClient.java\" rel=\"noreferrer\">this</a> JavaRx implementation which is easily transformed to Project Reactor and enrich it with backpressure.</p>\n\n<pre><code>private static final Long DEFAULT_BACKOFF = 500L;\nprivate static final Long MAX_BACKOFF = 8000L;\nprivate static final Logger LOGGER = LoggerFactory.getLogger(SqsPollerService.class);\nprivate static volatile boolean stopRequested;\n\npublic Flux&lt;Message&gt; pollMessages(GetQueueUrlResult q)\n{\n    return Flux.create(sink -&gt; {\n        long backoff = DEFAULT_BACKOFF;\n\n        while (!stopRequested)\n        {\n            if (sink.isCancelled())\n            {\n                sink.error(new RuntimeException(\"Stop requested\"));\n                break;\n            }\n\n            Future&lt;ReceiveMessageResult&gt; future = sink.requestedFromDownstream() &gt; 0\n                    ? amazonSQS.receiveMessageAsync(createRequest(q))\n                    : completedFuture(new ReceiveMessageResult());\n\n            try\n            {\n                ReceiveMessageResult result = future.get();\n\n                if (result != null &amp;&amp; !result.getMessages().isEmpty())\n                {\n                    backoff = DEFAULT_BACKOFF;\n\n                    LOGGER.info(\"New messages found in queue size={}\", result.getMessages().size());\n\n                    result.getMessages().forEach(m -&gt; {\n                        if (sink.requestedFromDownstream() &gt; 0L)\n                        {\n                            sink.next(m);\n                        }\n                    });\n                }\n                else\n                {\n                    if (backoff &lt; MAX_BACKOFF)\n                    {\n                        backoff = backoff * 2;\n                    }\n\n                    LOGGER.debug(\"No messages found on queue.  Sleeping for {} ms.\", backoff);\n\n                    // This is to prevent rate limiting by the AWS api\n                    Thread.sleep(backoff);\n                }\n            }\n            catch (InterruptedException e)\n            {\n                stopRequested = true;\n            }\n            catch (ExecutionException e)\n            {\n                sink.error(e);\n            }\n        }\n    });\n}\n</code></pre>\n\n<p>Implementation seems working but there are few questions:</p>\n\n<ul>\n<li>Looks like querying Future results in the loop can be done using Reactor Primitives, tried it with <code>Flux.generate</code> but was not able to control number of async call made to SqsClient</li>\n<li>In case of <code>Flux.interval</code> approach don't understand how to proper implement backoff policy</li>\n<li>Don't like <code>Thread.sleep</code> call any ideas how to replace it?</li>\n<li>How to properly stop loop in case cancel signal? Using <code>sink.error</code> is used to cover that case now.</li>\n</ul>\n"},{"tags":["java","arrays","list","arraylist"],"comments":[{"owner":{"account_id":52616,"reputation":1043001,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":2,"creation_date":1546357768,"post_id":53996778,"comment_id":94830792,"body_markdown":"What exactly is `histogram.get(point.get(x).x).get(point.get(x).y)++;` supposed to increment?","body":"What exactly is <code>histogram.get(point.get(x).x).get(point.get(x).y)++;</code> supposed to increment?"}],"answers":[{"tags":[],"owner":{"account_id":52616,"reputation":1043001,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1546361787,"creation_date":1546357676,"answer_id":53996799,"question_id":53996778,"body_markdown":"&gt; Why is that?\r\n\r\nBecause the increment and decrement operators can only be applied to variables (either local variables or class variables) or array elements. You&#39;re trying to apply it to the return value of a function call&amp;nbsp;&amp;mdash; but the operator has no way of knowing how to write the new value back.\r\n\r\nInstead, you need to get the value, add one to it, and set the value through the appropriate setter method.\r\n\r\nTo be clear, if you&#39;re trying to increment the `x` or `y` on a `Point` instance, you can do that with `++`:\r\n\r\n    thePoint.y++;\r\n\r\nbut `histogram.get(point.get(x).x).get(point.get(x).y)++;` tries to do it on the return value of `get`.","title":"Invalid argument to operation ++/-- in ArrayList","body":"<blockquote>\n  <p>Why is that?</p>\n</blockquote>\n\n<p>Because the increment and decrement operators can only be applied to variables (either local variables or class variables) or array elements. You're trying to apply it to the return value of a function call&nbsp;&mdash; but the operator has no way of knowing how to write the new value back.</p>\n\n<p>Instead, you need to get the value, add one to it, and set the value through the appropriate setter method.</p>\n\n<p>To be clear, if you're trying to increment the <code>x</code> or <code>y</code> on a <code>Point</code> instance, you can do that with <code>++</code>:</p>\n\n<pre><code>thePoint.y++;\n</code></pre>\n\n<p>but <code>histogram.get(point.get(x).x).get(point.get(x).y)++;</code> tries to do it on the return value of <code>get</code>.</p>\n"},{"tags":[],"owner":{"account_id":15027912,"reputation":79,"user_id":10847106,"display_name":"mschae23"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1546358597,"creation_date":1546358597,"answer_id":53996902,"question_id":53996778,"body_markdown":"&gt;     for(int x = 0; x &lt; point.size(); x++)\r\n            histogram.get(point.get(x).x).get(point.get(x).y)++;\r\n\r\nTry\r\n    \r\n    for(int x = 0; x &lt; point.size(); x++) {\r\n        \t\r\n        List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;(histogram.get(point.get(x).x));\r\n        list.set(point.get(x).y, point.get(x).y + 1);\r\n        histogram.set(point.get(x).x, list);\r\n    }","title":"Invalid argument to operation ++/-- in ArrayList","body":"<blockquote>\n<pre><code>for(int x = 0; x &lt; point.size(); x++)\n        histogram.get(point.get(x).x).get(point.get(x).y)++;\n</code></pre>\n</blockquote>\n\n<p>Try</p>\n\n<pre><code>for(int x = 0; x &lt; point.size(); x++) {\n\n    List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;(histogram.get(point.get(x).x));\n    list.set(point.get(x).y, point.get(x).y + 1);\n    histogram.set(point.get(x).x, list);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"score":0,"creation_date":1681326797,"post_id":75965449,"comment_id":134040186,"body_markdown":"This does not provide an answer to the question. Once you have sufficient [reputation](https://stackoverflow.com/help/whats-reputation) you will be able to [comment on any post](https://stackoverflow.com/help/privileges/comment); instead, [provide answers that don&#39;t require clarification from the asker](https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead). - [From Review](/review/late-answers/34186197)","body":"This does not provide an answer to the question. Once you have sufficient <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a> you will be able to <a href=\"https://stackoverflow.com/help/privileges/comment\">comment on any post</a>; instead, <a href=\"https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead\">provide answers that don&#39;t require clarification from the asker</a>. - <a href=\"/review/late-answers/34186197\">From Review</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1681353220,"post_id":75965449,"comment_id":134043825,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75965449/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28249628,"reputation":1,"user_id":21596087,"display_name":"user21596087"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681375731,"creation_date":1680959847,"answer_id":75965449,"question_id":53996778,"body_markdown":"```\r\npublic static void main (String[] args)\r\n{\r\n\t\t\r\n        int n=5;\r\n\t\tSystem.out.println(--++n);\r\n}\r\n```\r\n\r\nI am not sure if I agree with the above code snippet. A simple consecutive increment and decrement throws the same error: Invalid argument to operation.","title":"Invalid argument to operation ++/-- in ArrayList","body":"<pre><code>public static void main (String[] args)\n{\n        \n        int n=5;\n        System.out.println(--++n);\n}\n</code></pre>\n<p>I am not sure if I agree with the above code snippet. A simple consecutive increment and decrement throws the same error: Invalid argument to operation.</p>\n"}],"owner":{"account_id":12687707,"reputation":39,"user_id":9218917,"display_name":"No Name"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":433,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":3,"score":-3,"last_activity_date":1681375731,"creation_date":1546357453,"question_id":53996778,"body_markdown":"I want to create a simple 2D histogram from array of points.\r\n\r\nClass Points\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    \r\n    public class Points {\r\n    \tstatic List&lt;List&lt;Integer&gt;&gt; histogram = new ArrayList&lt;List&lt;Integer&gt;&gt;();\r\n    \t\r\n    \tpublic static void createHistogram(List&lt;Point&gt; point,int max) {\t\t\r\n    \t\tfor(int x = 0; x &lt; max; x++) {\r\n    \t\t\thistogram.add(new ArrayList&lt;Integer&gt;());\r\n    \t\t\tfor(int y = 0; y &lt; max; y++) {\r\n    \t\t\t\thistogram.get(x).add(0);\r\n    \t\t\t\tSystem.out.print((histogram.get(x).get(y)) +&quot; &quot;);\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println();\r\n    \t\t}\r\n    \t\t\r\n    \t\tfor(int x = 0; x &lt; point.size(); x++)\r\n    \t\t\thistogram.get(point.get(x).x).get(point.get(x).y)++;\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tList&lt;Point&gt; points = new ArrayList&lt;Point&gt;();\r\n    \t\t\r\n    \t\tpoints.add(new Point(0,10));\r\n    \t\tpoints.add(new Point(1,2));\r\n    \t\tpoints.add(new Point(2,5));\r\n    \t\tpoints.add(new Point(1,2));\r\n    \t\t\r\n    \t\t\r\n    \t\tcreateHistogram(points,10);\r\n    \t}\r\n    \t\r\n    \r\n    }\r\n\r\nPoint Class\r\n\r\n    public class Point{\r\n    \tpublic int x = 0;\r\n    \tpublic int y = 0;\r\n    \t\t\r\n    \tPoint(int x, int y){\r\n    \t\tthis.x = x;\r\n    \t\tthis.y = y;\r\n    \t}\r\n    }\r\n\r\nI get &quot;Invalid argument to operation ++/--&quot; error when I try to increment the value of histogram. Why is that? When I print the value of &quot;histogram.get(point.get(x).x).get(point.get(x).y)&quot; there is no issue. Why changing its value is not permitted? How can I fix it?","title":"Invalid argument to operation ++/-- in ArrayList","body":"<p>I want to create a simple 2D histogram from array of points.</p>\n\n<p>Class Points</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\n\npublic class Points {\n    static List&lt;List&lt;Integer&gt;&gt; histogram = new ArrayList&lt;List&lt;Integer&gt;&gt;();\n\n    public static void createHistogram(List&lt;Point&gt; point,int max) {     \n        for(int x = 0; x &lt; max; x++) {\n            histogram.add(new ArrayList&lt;Integer&gt;());\n            for(int y = 0; y &lt; max; y++) {\n                histogram.get(x).add(0);\n                System.out.print((histogram.get(x).get(y)) +\" \");\n            }\n            System.out.println();\n        }\n\n        for(int x = 0; x &lt; point.size(); x++)\n            histogram.get(point.get(x).x).get(point.get(x).y)++;\n    }\n\n    public static void main(String[] args) {\n        List&lt;Point&gt; points = new ArrayList&lt;Point&gt;();\n\n        points.add(new Point(0,10));\n        points.add(new Point(1,2));\n        points.add(new Point(2,5));\n        points.add(new Point(1,2));\n\n\n        createHistogram(points,10);\n    }\n\n\n}\n</code></pre>\n\n<p>Point Class</p>\n\n<pre><code>public class Point{\n    public int x = 0;\n    public int y = 0;\n\n    Point(int x, int y){\n        this.x = x;\n        this.y = y;\n    }\n}\n</code></pre>\n\n<p>I get \"Invalid argument to operation ++/--\" error when I try to increment the value of histogram. Why is that? When I print the value of \"histogram.get(point.get(x).x).get(point.get(x).y)\" there is no issue. Why changing its value is not permitted? How can I fix it?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1550837971,"post_id":54826911,"comment_id":96428587,"body_markdown":"Use `String text =  &quot;Player &quot; + player+ &quot; wins!&quot;`.","body":"Use <code>String text =  &quot;Player &quot; + player+ &quot; wins!&quot;</code>."},{"owner":{"account_id":15387730,"reputation":1,"user_id":11101389,"display_name":"TheBellis"},"score":0,"creation_date":1550928461,"post_id":54826911,"comment_id":96457539,"body_markdown":"Thank you, it works now.","body":"Thank you, it works now."}],"answers":[{"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1550838009,"post_id":54826981,"comment_id":96428610,"body_markdown":"`toString()` is not a &quot;reserved function name&quot;, such a thing doesn&#39;t exist in Java. It&#39;s simply a method that exists on `java.lang.Object` and calling it like that is perfectly reasonable thing to do.","body":"<code>toString()</code> is not a &quot;reserved function name&quot;, such a thing doesn&#39;t exist in Java. It&#39;s simply a method that exists on <code>java.lang.Object</code> and calling it like that is perfectly reasonable thing to do."},{"owner":{"account_id":6264675,"reputation":6520,"user_id":4870785,"accept_rate":67,"display_name":"Kapcash"},"score":0,"creation_date":1550838390,"post_id":54826981,"comment_id":96428827,"body_markdown":"Not what I meant by &#39;reserved function name&#39;, in my opinion it is a bad habit to use this name without any will to @Override it. If it were forbidden, compiler would tell us. Still, the `com.ellis.newdice.MainActivity$1` might come from the MainActivity.toString() method, so it&#39;s not the correct toString() which is called, right?","body":"Not what I meant by &#39;reserved function name&#39;, in my opinion it is a bad habit to use this name without any will to @Override it. If it were forbidden, compiler would tell us. Still, the <code>com.ellis.newdice.MainActivity$1</code> might come from the MainActivity.toString() method, so it&#39;s not the correct toString() which is called, right?"}],"tags":[],"owner":{"account_id":6264675,"reputation":6520,"user_id":4870785,"accept_rate":67,"display_name":"Kapcash"},"comment_count":2,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1550837823,"creation_date":1550837823,"answer_id":54826981,"question_id":54826911,"body_markdown":"You should not call any custom function as `toString()` as it is a reserved function name part of the superclass `Object` in Java. I&#39;m pretty sure it will cause conflicts between your function and the `Object.toString()` one.\r\n\r\nYou could try to:\r\n\r\n 1. Rename your function (try `playerAsString()`)\r\n 2. Call the function with a `this`: `this.toString()` to be sure you call the function from your class.","title":"using toString()","body":"<p>You should not call any custom function as <code>toString()</code> as it is a reserved function name part of the superclass <code>Object</code> in Java. I'm pretty sure it will cause conflicts between your function and the <code>Object.toString()</code> one.</p>\n\n<p>You could try to:</p>\n\n<ol>\n<li>Rename your function (try <code>playerAsString()</code>)</li>\n<li>Call the function with a <code>this</code>: <code>this.toString()</code> to be sure you call the function from your class.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4763924,"reputation":26697,"user_id":3850595,"accept_rate":86,"display_name":"Jordi Castilla"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681375652,"creation_date":1550837862,"answer_id":54826991,"question_id":54826911,"body_markdown":"`player` is an `int`, so in this case you don&#39;t need a `toString` method:\r\n\r\n    String text = &quot;Player &quot; + player + &quot; wins!&quot;;\r\n\r\n\r\nAlso, delete the `public String toString()` method because you might have problems with the default `Activity.toString()` method.","title":"using toString()","body":"<p><code>player</code> is an <code>int</code>, so in this case you don't need a <code>toString</code> method:</p>\n<pre><code>String text = &quot;Player &quot; + player + &quot; wins!&quot;;\n</code></pre>\n<p>Also, delete the <code>public String toString()</code> method because you might have problems with the default <code>Activity.toString()</code> method.</p>\n"},{"tags":[],"owner":{"account_id":14535244,"reputation":161564,"user_id":10498828,"display_name":"forpas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550837916,"creation_date":1550837916,"answer_id":54827011,"question_id":54826911,"body_markdown":"The way you use it, the `toString()` method of your activity class is invoked, &lt;br/&gt;\r\nthis is why you see `com.ellis.newdice.MainActivity$1`. &lt;br/&gt;\r\nYou don&#39;t need `toString()` to achieve what you want. &lt;br/&gt;\r\nUse this:\r\n\r\n    String text = &quot;Player &quot; + winner + &quot; wins!&quot;;\r\nChange `winner` with the variable (integer?) you use in your code for the winning player.","title":"using toString()","body":"<p>The way you use it, the <code>toString()</code> method of your activity class is invoked, <br/>\nthis is why you see <code>com.ellis.newdice.MainActivity$1</code>. <br/>\nYou don't need <code>toString()</code> to achieve what you want. <br/>\nUse this:</p>\n\n<pre><code>String text = \"Player \" + winner + \" wins!\";\n</code></pre>\n\n<p>Change <code>winner</code> with the variable (integer?) you use in your code for the winning player.</p>\n"},{"tags":[],"owner":{"account_id":7987645,"reputation":454,"user_id":6026545,"accept_rate":71,"display_name":"Dylan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550838060,"creation_date":1550838060,"answer_id":54827060,"question_id":54826911,"body_markdown":"Try the following:\r\n\r\n    String text = &quot;Player &quot; + String.valueOf(player) + &quot; wins&quot;;\r\n    \r\nThe toString method is unnecessary. String.valueOf(int number) will take your integer value (the player that wins) and convert it to a String which can be displayed in your Toast.","title":"using toString()","body":"<p>Try the following:</p>\n\n<pre><code>String text = \"Player \" + String.valueOf(player) + \" wins\";\n</code></pre>\n\n<p>The toString method is unnecessary. String.valueOf(int number) will take your integer value (the player that wins) and convert it to a String which can be displayed in your Toast.</p>\n"},{"tags":[],"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550838086,"creation_date":1550838086,"answer_id":54827067,"question_id":54826911,"body_markdown":"It looks like the object you call this from is not actually your `MainActivity` but some Anonymous inner class inside of it, likely some listener. You might have to replace the call with `MainActivity.this.toString()` to make explicit which `toString()` you want to call.\r\n\r\nMore generally `toString()` is not a method that&#39;s called explicitly generally. It&#39;s very useful when you get it called by other code for you. For example `String s = &quot;foo &quot; + something` will implicitly call `toString()` on `something` (provided it&#39;s an object and not already a `String`).","title":"using toString()","body":"<p>It looks like the object you call this from is not actually your <code>MainActivity</code> but some Anonymous inner class inside of it, likely some listener. You might have to replace the call with <code>MainActivity.this.toString()</code> to make explicit which <code>toString()</code> you want to call.</p>\n\n<p>More generally <code>toString()</code> is not a method that's called explicitly generally. It's very useful when you get it called by other code for you. For example <code>String s = \"foo \" + something</code> will implicitly call <code>toString()</code> on <code>something</code> (provided it's an object and not already a <code>String</code>).</p>\n"}],"owner":{"account_id":15387730,"reputation":1,"user_id":11101389,"display_name":"TheBellis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1681375652,"creation_date":1550837558,"question_id":54826911,"body_markdown":"I am developing a simple android dice game, where 2 players take turns to roll, if you get doubles you win. I am trying to use toString to output to a toast which player wins when it lands on doubles.\r\n\r\nHere is my code:\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    public static final Random RANDOM = new Random();\r\n    private Button rollDice;\r\n    int player = 1;\r\n    private ImageView dice1, dice2;\r\n    TextView display;\r\n    boolean rolling = false;\r\n\r\n    @NonNull\r\n    public String toString(){\r\n        return String.valueOf(player);\r\n    }\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        rollDice = (Button) findViewById(R.id.rollDice);\r\n        dice1 = (ImageView) findViewById(R.id.dice1);\r\n        dice2 = (ImageView) findViewById(R.id.dice2);\r\n        display = (TextView) findViewById(R.id.display);\r\n\r\nfollowed by my onclick method with random.nextInt and my switch cases.\r\n\r\nThen I call the toString in the toast:\r\n\r\n                    if (d1 == d2){\r\n\r\n                    Context context = getApplicationContext();\r\n                    String text = &quot;Player &quot; + toString() + &quot; wins!&quot;;\r\n                    int duration = Toast.LENGTH_SHORT;\r\n\r\n                    Toast toast = Toast.makeText(context, text, duration);\r\n                    toast.show();\r\n\r\n                }\r\n\r\n                if (player == 1){\r\n\r\n                    player = 2;\r\n                }\r\n                else{\r\n                    player = 1;\r\n                }\r\n\r\nIt then outputs &quot;Player com.ellis.newdice.MainActivity$1 *then random numbers* wins&quot;\r\n\r\nAm I using the toString method incorrectly or is it the int player not being used properly?","title":"using toString()","body":"<p>I am developing a simple android dice game, where 2 players take turns to roll, if you get doubles you win. I am trying to use toString to output to a toast which player wins when it lands on doubles.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\npublic static final Random RANDOM = new Random();\nprivate Button rollDice;\nint player = 1;\nprivate ImageView dice1, dice2;\nTextView display;\nboolean rolling = false;\n\n@NonNull\npublic String toString(){\n    return String.valueOf(player);\n}\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    rollDice = (Button) findViewById(R.id.rollDice);\n    dice1 = (ImageView) findViewById(R.id.dice1);\n    dice2 = (ImageView) findViewById(R.id.dice2);\n    display = (TextView) findViewById(R.id.display);\n</code></pre>\n\n<p>followed by my onclick method with random.nextInt and my switch cases.</p>\n\n<p>Then I call the toString in the toast:</p>\n\n<pre><code>                if (d1 == d2){\n\n                Context context = getApplicationContext();\n                String text = \"Player \" + toString() + \" wins!\";\n                int duration = Toast.LENGTH_SHORT;\n\n                Toast toast = Toast.makeText(context, text, duration);\n                toast.show();\n\n            }\n\n            if (player == 1){\n\n                player = 2;\n            }\n            else{\n                player = 1;\n            }\n</code></pre>\n\n<p>It then outputs \"Player com.ellis.newdice.MainActivity$1 <em>then random numbers</em> wins\"</p>\n\n<p>Am I using the toString method incorrectly or is it the int player not being used properly?</p>\n"},{"tags":["java","list","class","arraylist"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":2,"creation_date":1681313079,"post_id":75997207,"comment_id":134037013,"body_markdown":"It shows &quot;an error&quot;? What error? A `Student` isn&#39;t an array of students--you&#39;ve defined `students` as a single `Student`. You can&#39;t then make it be an array list of strings. You need a `List&lt;Student&gt;`, no?","body":"It shows &quot;an error&quot;? What error? A <code>Student</code> isn&#39;t an array of students--you&#39;ve defined <code>students</code> as a single <code>Student</code>. You can&#39;t then make it be an array list of strings. You need a <code>List&lt;Student&gt;</code>, no?"},{"owner":{"account_id":60456,"reputation":55971,"user_id":1054558,"accept_rate":100,"display_name":"Aaron"},"score":1,"creation_date":1681314117,"post_id":75997207,"comment_id":134037282,"body_markdown":"Remember, it&#39;s always helpful to add the error that you&#39;re seeing into your question, as well.","body":"Remember, it&#39;s always helpful to add the error that you&#39;re seeing into your question, as well."}],"answers":[{"tags":[],"owner":{"account_id":60456,"reputation":55971,"user_id":1054558,"accept_rate":100,"display_name":"Aaron"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681313744,"creation_date":1681313744,"answer_id":75997369,"question_id":75997207,"body_markdown":"Dave is right.  You&#39;ll need to define students as a List, like this:\r\n\r\n    List&lt;Student&gt; students;\r\n\r\n    public void readData() {\r\n        students = new ArrayList&lt;Student&gt;();\r\n    }","title":"How to create a List from another class in main method?","body":"<p>Dave is right.  You'll need to define students as a List, like this:</p>\n<pre><code>List&lt;Student&gt; students;\n\npublic void readData() {\n    students = new ArrayList&lt;Student&gt;();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20157184,"reputation":300,"user_id":16996584,"display_name":"The Justice King"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1681313874,"creation_date":1681313874,"answer_id":75997382,"question_id":75997207,"body_markdown":"Let&#39;s go through with what is wrong currently.\r\n\r\nFirst, this line: `Student students;` creates a single instance of `Student`. Do you mean `Student[] students` or `List&lt;Student&gt; students`?\r\n\r\nSecond, if you do change it to a List, you are trying to set it as `ArrayList&lt;String&gt;` at `students = new ArrayList&lt;String&gt;();` This does not work because `Student` and `String` are different Types.\r\n\r\nTo get the nisn of each student, you first fill the list with students, and then iterate over the students, getting the values wanted:\r\n\r\n```Java\r\nstudents = new ArrayList&lt;Student&gt;();\r\n//Create and add all the students\r\nList&lt;String&gt; nisns = new ArrayList&lt;String&gt;();\r\nfor(Student student : students){\r\n    nisns.add(student.nisn);\r\n}\r\n```\r\n\r\nYou can do the same thing to get each grade:\r\n\r\n```Java\r\nstudents = new ArrayList&lt;Student&gt;();\r\n//Create and add all the students\r\nList&lt;String&gt; grades = new ArrayList&lt;String&gt;();\r\nfor(Student student : students){\r\n    grades.add(student.grade);\r\n}\r\n```\r\n\r\nIf you need to keep track of whose grades and nisns are whose, then use a `HashMap&lt;Student, String&gt;`, where the `Student` is the student and `String` is the nisn or grade, depending on whatever you need.","title":"How to create a List from another class in main method?","body":"<p>Let's go through with what is wrong currently.</p>\n<p>First, this line: <code>Student students;</code> creates a single instance of <code>Student</code>. Do you mean <code>Student[] students</code> or <code>List&lt;Student&gt; students</code>?</p>\n<p>Second, if you do change it to a List, you are trying to set it as <code>ArrayList&lt;String&gt;</code> at <code>students = new ArrayList&lt;String&gt;();</code> This does not work because <code>Student</code> and <code>String</code> are different Types.</p>\n<p>To get the nisn of each student, you first fill the list with students, and then iterate over the students, getting the values wanted:</p>\n<pre><code>students = new ArrayList&lt;Student&gt;();\n//Create and add all the students\nList&lt;String&gt; nisns = new ArrayList&lt;String&gt;();\nfor(Student student : students){\n    nisns.add(student.nisn);\n}\n</code></pre>\n<p>You can do the same thing to get each grade:</p>\n<pre><code>students = new ArrayList&lt;Student&gt;();\n//Create and add all the students\nList&lt;String&gt; grades = new ArrayList&lt;String&gt;();\nfor(Student student : students){\n    grades.add(student.grade);\n}\n</code></pre>\n<p>If you need to keep track of whose grades and nisns are whose, then use a <code>HashMap&lt;Student, String&gt;</code>, where the <code>Student</code> is the student and <code>String</code> is the nisn or grade, depending on whatever you need.</p>\n"}],"owner":{"account_id":28167079,"reputation":19,"user_id":21526130,"display_name":"Falah Kharisma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1681375519,"creation_date":1681312922,"question_id":75997207,"body_markdown":"I created this class to become an object in the controller class\r\n\r\n```Java\r\npublic class Student \r\n{\r\n\tprivate String nisn;\r\n\tprivate String grade;\r\n\t\r\n\tpublic String getNisn() {\r\n\t\treturn nisn;\r\n\t}\r\n\tpublic void setNisn(String nisn) {\r\n\t\tthis.nisn = nisn;\r\n\t}\r\n\tpublic String getGrade() {\r\n\t\treturn grade;\r\n\t}\r\n\tpublic void setGrade(String grade) {\r\n\t\tthis.grade = grade;\r\n\t}\r\n}\r\n```\r\n\r\nand I wanted to make an ArrayList that contains String nisn and grade in controller and client(main method) class\r\n\r\nI&#39;ve tried this code but it shows an error. So how to create the correct code to create ArrayList that contains variables in Student class? Thanks\r\n\r\n```Java\r\npublic class StudentController\r\n{\r\n\tStudent students;\r\n    public void readData()\r\n\t{\r\n\t\tstudents = new ArrayList&lt;String&gt;();\r\n    }\r\n}\r\n```","title":"How to create a List from another class in main method?","body":"<p>I created this class to become an object in the controller class</p>\n<pre><code>public class Student \n{\n    private String nisn;\n    private String grade;\n    \n    public String getNisn() {\n        return nisn;\n    }\n    public void setNisn(String nisn) {\n        this.nisn = nisn;\n    }\n    public String getGrade() {\n        return grade;\n    }\n    public void setGrade(String grade) {\n        this.grade = grade;\n    }\n}\n</code></pre>\n<p>and I wanted to make an ArrayList that contains String nisn and grade in controller and client(main method) class</p>\n<p>I've tried this code but it shows an error. So how to create the correct code to create ArrayList that contains variables in Student class? Thanks</p>\n<pre><code>public class StudentController\n{\n    Student students;\n    public void readData()\n    {\n        students = new ArrayList&lt;String&gt;();\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","algorithm"],"comments":[{"owner":{"account_id":2882201,"reputation":10752,"user_id":2472820,"accept_rate":86,"display_name":"Kon"},"score":3,"creation_date":1422289524,"post_id":28154214,"comment_id":44679947,"body_markdown":"What&#39;s the problem with the code that you wrote in an attempt to solve this?","body":"What&#39;s the problem with the code that you wrote in an attempt to solve this?"},{"owner":{"account_id":4631198,"reputation":2017,"user_id":3753671,"display_name":"Mike Elofson"},"score":2,"creation_date":1422289526,"post_id":28154214,"comment_id":44679949,"body_markdown":"What have you done so far? You are asking us to create a program for you, not to solve a problem. Make an attempt, and then we can help you if you run into issues.","body":"What have you done so far? You are asking us to create a program for you, not to solve a problem. Make an attempt, and then we can help you if you run into issues."},{"owner":{"account_id":3150418,"reputation":9135,"user_id":2663985,"accept_rate":50,"display_name":"Mysterion"},"score":0,"creation_date":1422289579,"post_id":28154214,"comment_id":44679977,"body_markdown":"basic idea for you - start to iterate over array elements and for every element - present it as a array of digits","body":"basic idea for you - start to iterate over array elements and for every element - present it as a array of digits"},{"owner":{"account_id":5519480,"reputation":19,"user_id":4382959,"display_name":"vicky gupta"},"score":0,"creation_date":1422289685,"post_id":28154214,"comment_id":44680045,"body_markdown":"@MikeElofson No , m not asking you to create the program , all i want to know about algo approach. I have no idea about what to do in this case so i cud not be able to attempt. All i want is Hint.","body":"@MikeElofson No , m not asking you to create the program , all i want to know about algo approach. I have no idea about what to do in this case so i cud not be able to attempt. All i want is Hint."},{"owner":{"account_id":921943,"reputation":75308,"user_id":953482,"accept_rate":92,"display_name":"Kevin"},"score":0,"creation_date":1422290112,"post_id":28154214,"comment_id":44680335,"body_markdown":"Converting each item to a string is probably a reasonable starting point.","body":"Converting each item to a string is probably a reasonable starting point."}],"answers":[{"tags":[],"owner":{"account_id":4240367,"reputation":422,"user_id":3470438,"accept_rate":75,"display_name":"wimdetr"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674811404,"creation_date":1422290140,"answer_id":28154467,"question_id":28154214,"body_markdown":"Assuming you&#39;re not going to use anything other than an array (you could skip step one when using an arraylist since the size of that data structure is *dynamic*), you could:\r\n\r\n1. loop over the array, counting all the digits and putting that in a counter.\r\n2. make a new array with the size of the counter variable.\r\n3. loop over the array again, then loop over the amount of digits (perhaps convert the digits to a string and then use the length() method) per element, adding all of these to your new array.\r\n\r\nThis is just a na&#239;ve solution I thought of in a minute. It&#39;s probably not the best, most performant way, but it&#39;s something to get you started with.\r\n","title":"Splitting the array element at each index","body":"<p>Assuming you're not going to use anything other than an array (you could skip step one when using an arraylist since the size of that data structure is <em>dynamic</em>), you could:</p>\n<ol>\n<li>loop over the array, counting all the digits and putting that in a counter.</li>\n<li>make a new array with the size of the counter variable.</li>\n<li>loop over the array again, then loop over the amount of digits (perhaps convert the digits to a string and then use the length() method) per element, adding all of these to your new array.</li>\n</ol>\n<p>This is just a naïve solution I thought of in a minute. It's probably not the best, most performant way, but it's something to get you started with.</p>\n"},{"tags":[],"owner":{"account_id":4763924,"reputation":26697,"user_id":3850595,"accept_rate":86,"display_name":"Jordi Castilla"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681375390,"creation_date":1422293380,"answer_id":28155412,"question_id":28154214,"body_markdown":"Get all elements in a single string:\r\n\r\n    String allCharacters = &quot;&quot;;\r\n\r\n    for(int n : yourIntArray)\r\n    {\r\n        allCharacters += String.valueOf(n);\r\n    }\r\n\r\nCreate a new `String` array and fill it\r\n\r\n    String[] finalArray = new String[allCharacters.length];\r\n    for (int i = 0; i &lt; allCharacters.length; i++)\r\n    {\r\n         finalArray[i] = allCharacters.charAt(i);\r\n    }\r\n","title":"Splitting the array element at each index","body":"<p>Get all elements in a single string:</p>\n<pre><code>String allCharacters = &quot;&quot;;\n\nfor(int n : yourIntArray)\n{\n    allCharacters += String.valueOf(n);\n}\n</code></pre>\n<p>Create a new <code>String</code> array and fill it</p>\n<pre><code>String[] finalArray = new String[allCharacters.length];\nfor (int i = 0; i &lt; allCharacters.length; i++)\n{\n     finalArray[i] = allCharacters.charAt(i);\n}\n</code></pre>\n"}],"owner":{"account_id":5519480,"reputation":19,"user_id":4382959,"display_name":"vicky gupta"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1422297879,"answer_count":2,"score":-1,"last_activity_date":1681375390,"creation_date":1422289378,"question_id":28154214,"body_markdown":"How to split an integer element of an array of each index?\r\n\r\nFor example I have an array [145, 45, 15] so I want to convert it to [1, 4, 5, 4, 5, 1, 5]","title":"Splitting the array element at each index","body":"<p>How to split an integer element of an array of each index?</p>\n<p>For example I have an array [145, 45, 15] so I want to convert it to [1, 4, 5, 4, 5, 1, 5]</p>\n"},{"tags":["java","memory","memory-management","jar","classloader"],"answers":[{"tags":[],"owner":{"account_id":3229433,"reputation":3236,"user_id":2725031,"display_name":"Marcin Łoś"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1378457331,"creation_date":1378457331,"answer_id":18653643,"question_id":18653420,"body_markdown":"Memory consumption will be higher due to sheer size of jars that need to be opened and processed. But as for the classes - no, in general classes are loaded &quot;on demand&quot;, apart from perhaps a handful from the bootstrap classpath. It does depend on the classloader implementation indeed, though. \r\n\r\nAs for cleanup of unused classes... yes, the JVM does that, in a manner similar to ordinary, reachability-based garbage collection. Be wary of classloader leaks though - sometimes the class object remains reachable in a not-at-all-obvious way, which manifests itself especially nasty in containers, and easily leads to te dreaded `OutOfMemoryException: PermGen space` exceptions.","title":"Memory consumption of jars with many classes?","body":"<p>Memory consumption will be higher due to sheer size of jars that need to be opened and processed. But as for the classes - no, in general classes are loaded \"on demand\", apart from perhaps a handful from the bootstrap classpath. It does depend on the classloader implementation indeed, though. </p>\n\n<p>As for cleanup of unused classes... yes, the JVM does that, in a manner similar to ordinary, reachability-based garbage collection. Be wary of classloader leaks though - sometimes the class object remains reachable in a not-at-all-obvious way, which manifests itself especially nasty in containers, and easily leads to te dreaded <code>OutOfMemoryException: PermGen space</code> exceptions.</p>\n"},{"comments":[{"owner":{"account_id":278565,"reputation":4679,"user_id":573215,"accept_rate":50,"display_name":"user573215"},"score":0,"creation_date":1378457980,"post_id":18653664,"comment_id":27467877,"body_markdown":"Thx for answering. Do you have an opinion, if the increased memory consumption of unused classes is significant? And additionally: When I have many small projects, I am confident to only include classes that are really needed. On the other side, the number of dependencies is relatively high. So I got many small dependencies leading to many ZipFile objects in memory. Do you have an opinion, whether one or the other strategy consumes more or less memory?","body":"Thx for answering. Do you have an opinion, if the increased memory consumption of unused classes is significant? And additionally: When I have many small projects, I am confident to only include classes that are really needed. On the other side, the number of dependencies is relatively high. So I got many small dependencies leading to many ZipFile objects in memory. Do you have an opinion, whether one or the other strategy consumes more or less memory?"},{"owner":{"account_id":3264978,"reputation":1469,"user_id":2749648,"display_name":"Claudiu"},"score":2,"creation_date":1378460419,"post_id":18653664,"comment_id":27469219,"body_markdown":"The consumption if unused (not loaded classes) is not significant. In case of multiple jars and multiple classes, memory usage is greater that when you have few such objects, can be few times greater but is not significant if compared to the overall application memory.","body":"The consumption if unused (not loaded classes) is not significant. In case of multiple jars and multiple classes, memory usage is greater that when you have few such objects, can be few times greater but is not significant if compared to the overall application memory."}],"tags":[],"owner":{"account_id":3264978,"reputation":1469,"user_id":2749648,"display_name":"Claudiu"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1681375263,"creation_date":1378457389,"answer_id":18653664,"question_id":18653420,"body_markdown":"The short answer is `YES`. Memory consumption is higher.\r\n\r\nThe classloader does not load the entire JAR file. Through a ZipFile object, it only keeps a list of classes and an offset on where they can be found in the JAR file. If the JAR file has a lot of classes, this list is bigger, so it consumes more memory.\r\n\r\nThis memory consumption is not related to the JAR file&#39;s size itself but to the number of classes inside. \r\n\r\nBesides this, only loaded classes use memory.","title":"Memory consumption of jars with many classes?","body":"<p>The short answer is <code>YES</code>. Memory consumption is higher.</p>\n<p>The classloader does not load the entire JAR file. Through a ZipFile object, it only keeps a list of classes and an offset on where they can be found in the JAR file. If the JAR file has a lot of classes, this list is bigger, so it consumes more memory.</p>\n<p>This memory consumption is not related to the JAR file's size itself but to the number of classes inside.</p>\n<p>Besides this, only loaded classes use memory.</p>\n"}],"owner":{"account_id":278565,"reputation":4679,"user_id":573215,"accept_rate":50,"display_name":"user573215"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2095,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":18653664,"answer_count":2,"score":2,"last_activity_date":1681375263,"creation_date":1378456624,"question_id":18653420,"body_markdown":"Scenario\r\n========\r\n\r\nLet&#39;s assume an application with a dependency. The dependency comes in form of a jar file. The  dependency jar file contains many classes. The application uses only one class from the dependency jar.\r\n\r\nQuestion\r\n========\r\n\r\n**Do the unused classes included in the dependency jar lead to higher memory consumption, even if they are not used (directly and indirectly) by the application.**\r\n\r\nI guess it&#39;s a question of the classloader implementation, but do classloaders really behave differently in this question? I think it would be enough to answer this question for the default JRE / JDK classloaders and maybe classloaders of common containers and application servers.\r\n\r\nDoes the classloaders load the entire jar file? And is it just temporary to load the needed classes and after that the jar file is removed from memory? Or are all classes loaded, even the unused ones?\r\n\r\nBackground\r\n==========\r\n\r\nWhen I organize my projects, I tend to split the classes etc. in many small projects. I don&#39;t do this to save disk space, because disk space is relatively cheap. I do this because it increases reusability. I don&#39;t have much fear of the &quot;dependency hell&quot; even if the number of small projects gets pretty high. I use dependency- / build-tools to automatically resolve the dependencies for me.\r\n\r\nSo there is the diskspace aspect and the code / resuability aspect of project organization. The third aspect of project organization is the runtime / classloader aspect which I&#39;d like to be answered. While applications rarely run out of disk space, the shortage of memory is a realistic scenario, depending on the enviroment.","title":"Memory consumption of jars with many classes?","body":"<h1>Scenario</h1>\n\n<p>Let's assume an application with a dependency. The dependency comes in form of a jar file. The  dependency jar file contains many classes. The application uses only one class from the dependency jar.</p>\n\n<h1>Question</h1>\n\n<p><strong>Do the unused classes included in the dependency jar lead to higher memory consumption, even if they are not used (directly and indirectly) by the application.</strong></p>\n\n<p>I guess it's a question of the classloader implementation, but do classloaders really behave differently in this question? I think it would be enough to answer this question for the default JRE / JDK classloaders and maybe classloaders of common containers and application servers.</p>\n\n<p>Does the classloaders load the entire jar file? And is it just temporary to load the needed classes and after that the jar file is removed from memory? Or are all classes loaded, even the unused ones?</p>\n\n<h1>Background</h1>\n\n<p>When I organize my projects, I tend to split the classes etc. in many small projects. I don't do this to save disk space, because disk space is relatively cheap. I do this because it increases reusability. I don't have much fear of the \"dependency hell\" even if the number of small projects gets pretty high. I use dependency- / build-tools to automatically resolve the dependencies for me.</p>\n\n<p>So there is the diskspace aspect and the code / resuability aspect of project organization. The third aspect of project organization is the runtime / classloader aspect which I'd like to be answered. While applications rarely run out of disk space, the shortage of memory is a realistic scenario, depending on the enviroment.</p>\n"},{"tags":["java","unit-testing","netbeans","ant","junit"],"answers":[{"tags":[],"owner":{"account_id":32264,"reputation":7769,"user_id":89339,"accept_rate":100,"display_name":"bn."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1248746356,"creation_date":1248746356,"answer_id":1191583,"question_id":1168456,"body_markdown":"**Work-around Solution Found**\r\n\r\nIf the following setting in Netbeans 6.7 is not checked, the tests work as they did in 6.5:\r\nRight Click --&gt; &quot;Project Properties&quot; --&gt; &quot;Build&quot; --&gt; &quot;Compiling&quot; --&gt; &quot;Compile on Save&quot;\r\n\r\nSo, this is at least a work-around until real issue is understood.\r\n\r\n-bn","title":"Problems running unit tests after upgrading from Netbeans 6.5 to Netbeans 6.7","body":"<p><strong>Work-around Solution Found</strong></p>\n\n<p>If the following setting in Netbeans 6.7 is not checked, the tests work as they did in 6.5:\nRight Click --> \"Project Properties\" --> \"Build\" --> \"Compiling\" --> \"Compile on Save\"</p>\n\n<p>So, this is at least a work-around until real issue is understood.</p>\n\n<p>-bn</p>\n"}],"owner":{"account_id":32264,"reputation":7769,"user_id":89339,"accept_rate":100,"display_name":"bn."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":500,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":1191583,"answer_count":1,"score":0,"last_activity_date":1681374530,"creation_date":1248299052,"question_id":1168456,"body_markdown":"I am experiencing issues with existing projects from Netbeans 6.5 in Netbeans 6.7 when selecting a file under &quot;Test Packages&quot; and performing a right click--&gt;Debug, or right click--&gt;Run.  The error reported is:\r\n\r\n    java.lang.NoSuchMethodError: main\r\n    Exception in thread &quot;main&quot; Java Result: 1\r\n\r\nI am using JUnit 4.x\r\n\r\nI have not changed any code since the upgrade and have tried this on multiple projects that were working and I still experience the problem.  I am able to perform right click--&gt;Test on the entire project.\r\n\r\nAre there any changes I would need to make due to the upgrade, or is anything broken in Netbeans 6.7?\r\n","title":"Problems running unit tests after upgrading from Netbeans 6.5 to Netbeans 6.7","body":"<p>I am experiencing issues with existing projects from Netbeans 6.5 in Netbeans 6.7 when selecting a file under &quot;Test Packages&quot; and performing a right click--&gt;Debug, or right click--&gt;Run.  The error reported is:</p>\n<pre><code>java.lang.NoSuchMethodError: main\nException in thread &quot;main&quot; Java Result: 1\n</code></pre>\n<p>I am using JUnit 4.x</p>\n<p>I have not changed any code since the upgrade and have tried this on multiple projects that were working and I still experience the problem.  I am able to perform right click--&gt;Test on the entire project.</p>\n<p>Are there any changes I would need to make due to the upgrade, or is anything broken in Netbeans 6.7?</p>\n"},{"tags":["java","json","jackson","objectmapper","jsonnode"],"comments":[{"owner":{"account_id":17179055,"reputation":73,"user_id":12434743,"display_name":"DaveR"},"score":0,"creation_date":1681325085,"post_id":75998766,"comment_id":134039824,"body_markdown":"Maybe this could help you \nhttps://stackoverflow.com/questions/14898768/how-to-access-nested-elements-of-json-object-using-getjsonarray-method","body":"Maybe this could help you  <a href=\"https://stackoverflow.com/questions/14898768/how-to-access-nested-elements-of-json-object-using-getjsonarray-method\" title=\"how to access nested elements of json object using getjsonarray method\">stackoverflow.com/questions/14898768/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":302301,"reputation":3398,"user_id":610607,"accept_rate":61,"display_name":"Mian Ahmad"},"score":0,"creation_date":1681329556,"post_id":75998815,"comment_id":134040790,"body_markdown":"Thanks for reply, it is getting the value of type but why dont it gives me a block fro `jsonNode.get(&quot;properties&quot;).get(&quot;_picnic&quot;).asText()` or `jsonNode.get(&quot;properties&quot;).asText()`","body":"Thanks for reply, it is getting the value of type but why dont it gives me a block fro <code>jsonNode.get(&quot;properties&quot;).get(&quot;_picnic&quot;).asText()</code> or <code>jsonNode.get(&quot;properties&quot;).asText()</code>"},{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":1,"creation_date":1681330038,"post_id":75998815,"comment_id":134040891,"body_markdown":"I already explained this in my answer, but I&#39;ll update to clarify a bit.","body":"I already explained this in my answer, but I&#39;ll update to clarify a bit."},{"owner":{"account_id":302301,"reputation":3398,"user_id":610607,"accept_rate":61,"display_name":"Mian Ahmad"},"score":0,"creation_date":1681374004,"post_id":75998815,"comment_id":134046749,"body_markdown":"Okay so you mentioned `get` but did not use it. Could you add this with the answer too. To get the respective objects use \n`String type = String.valueOf(jsonNode.get(&quot;properties&quot;));` and `String type = String.valueOf(jsonNode.get(&quot;properties&quot;).get(&quot;_picnic&quot;))`;","body":"Okay so you mentioned <code>get</code> but did not use it. Could you add this with the answer too. To get the respective objects use  <code>String type = String.valueOf(jsonNode.get(&quot;properties&quot;));</code> and <code>String type = String.valueOf(jsonNode.get(&quot;properties&quot;).get(&quot;_picnic&quot;))</code>;"},{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":0,"creation_date":1681395974,"post_id":75998815,"comment_id":134052306,"body_markdown":"I did show an example of get in my original answer. `String type = String.valueOf(jsonNode.get(&quot;properties&quot;));` would not be correct since in the JSON you posted `&quot;properties&quot;` is an object.","body":"I did show an example of get in my original answer. <code>String type = String.valueOf(jsonNode.get(&quot;properties&quot;));</code> would not be correct since in the JSON you posted <code>&quot;properties&quot;</code> is an object."}],"tags":[],"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1681329952,"creation_date":1681324962,"answer_id":75998815,"question_id":75998766,"body_markdown":"[The documentation for that method][1] states (emphasis mine):\r\n\r\n&gt; Method that will return a valid String representation of the container value, **if the node is a value node** (method isValueNode() returns true), **otherwise empty String**.\r\n\r\nPer the snippet of json text you shared, both `&quot;properties&quot;` and `&quot;_picnic&quot;` are _objects_ not _values_ so you are getting an empty string. It seems you&#39;d need to use the [get][2] method:\r\n\r\n    jsonNode.get(&quot;properties&quot;).get(&quot;_picnic&quot;).get(&quot;type&quot;).asText()\r\n\r\n\r\n  [1]: https://fasterxml.github.io/jackson-databind/javadoc/2.8/com/fasterxml/jackson/databind/JsonNode.html#asText()\r\n  [2]: https://fasterxml.github.io/jackson-databind/javadoc/2.8/com/fasterxml/jackson/databind/JsonNode.html#get(java.lang.String)","title":"how to get the nested item of the json object using Java","body":"<p><a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.8/com/fasterxml/jackson/databind/JsonNode.html#asText()\" rel=\"nofollow noreferrer\">The documentation for that method</a> states (emphasis mine):</p>\n<blockquote>\n<p>Method that will return a valid String representation of the container value, <strong>if the node is a value node</strong> (method isValueNode() returns true), <strong>otherwise empty String</strong>.</p>\n</blockquote>\n<p>Per the snippet of json text you shared, both <code>&quot;properties&quot;</code> and <code>&quot;_picnic&quot;</code> are <em>objects</em> not <em>values</em> so you are getting an empty string. It seems you'd need to use the <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.8/com/fasterxml/jackson/databind/JsonNode.html#get(java.lang.String)\" rel=\"nofollow noreferrer\">get</a> method:</p>\n<pre><code>jsonNode.get(&quot;properties&quot;).get(&quot;_picnic&quot;).get(&quot;type&quot;).asText()\n</code></pre>\n"},{"comments":[{"owner":{"account_id":302301,"reputation":3398,"user_id":610607,"accept_rate":61,"display_name":"Mian Ahmad"},"score":0,"creation_date":1681329679,"post_id":75999003,"comment_id":134040811,"body_markdown":"Thanks, I will test it and report back.","body":"Thanks, I will test it and report back."},{"owner":{"account_id":302301,"reputation":3398,"user_id":610607,"accept_rate":61,"display_name":"Mian Ahmad"},"score":0,"creation_date":1681374588,"post_id":75999003,"comment_id":134046871,"body_markdown":"I think eventually I am looking for this kind of solution but instead of passing the arguments hardcoded, it would be nice to use the code to find if the coming item is an array or object and accordingly call the function.","body":"I think eventually I am looking for this kind of solution but instead of passing the arguments hardcoded, it would be nice to use the code to find if the coming item is an array or object and accordingly call the function."}],"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681326537,"creation_date":1681326537,"answer_id":75999003,"question_id":75998766,"body_markdown":"You can use recursion to simplify this code. Just call `getText` with a starting node and a variable list (array) of paths. It will determine if it need to check for object or array.\r\n\r\n```java\r\nimport java.io.*;\r\nimport java.nio.charset.StandardCharsets;\r\nimport org.apache.commons.io.FileUtils;\r\nimport com.fasterxml.jackson.databind.*;\r\n\r\npublic class NestedJson {\r\n    public static void main(String[] args) {\r\n        String exampleRequest = null;\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        try {\r\n            exampleRequest = FileUtils.readFileToString(new File(&quot;src/main/resources/test.json&quot;),\r\n                    StandardCharsets.UTF_8);\r\n            JsonNode jsonNode = objectMapper.readTree(exampleRequest);\r\n            System.out.println(getText(jsonNode, &quot;type&quot;)); // object\r\n            System.out.println(getText(jsonNode, &quot;properties&quot;, &quot;_picnic&quot;, &quot;type&quot;)); // boolean\r\n            System.out.println(getText(jsonNode, &quot;stuff&quot;, &quot;0&quot;, &quot;foo&quot;)); // bar\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    public static String getText(JsonNode node, String... path) {\r\n        return getText(node, 0, path);\r\n    }\r\n\r\n    private static String getText(JsonNode node, int cursor, String[] path) {\r\n        if (node == null || path == null || path.length == 0)\r\n            return null;\r\n        if (cursor == path.length) {\r\n            return node != null ? node.asText() : null;\r\n        }\r\n        if (node.isObject()) {\r\n            return getText(node.get(path[cursor]), cursor + 1, path);\r\n        } else if (node.isArray()) {\r\n            return getText(node.get(Integer.parseInt(path[cursor])), cursor + 1, path);\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nModified `test.json`:\r\n\r\n```json\r\n{\r\n  &quot;type&quot;: &quot;object&quot;,\r\n  &quot;id&quot;: &quot;123&quot;,\r\n  &quot;title&quot;: &quot;Test&quot;,\r\n  &quot;properties&quot;: {\r\n    &quot;_picnic&quot;: {\r\n      &quot;type&quot;: &quot;boolean&quot;\r\n    }\r\n  },\r\n  &quot;stuff&quot;: [\r\n    {\r\n      &quot;foo&quot;: &quot;bar&quot;\r\n    }\r\n  ]\r\n}\r\n```","title":"how to get the nested item of the json object using Java","body":"<p>You can use recursion to simplify this code. Just call <code>getText</code> with a starting node and a variable list (array) of paths. It will determine if it need to check for object or array.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.*;\nimport java.nio.charset.StandardCharsets;\nimport org.apache.commons.io.FileUtils;\nimport com.fasterxml.jackson.databind.*;\n\npublic class NestedJson {\n    public static void main(String[] args) {\n        String exampleRequest = null;\n        ObjectMapper objectMapper = new ObjectMapper();\n        try {\n            exampleRequest = FileUtils.readFileToString(new File(&quot;src/main/resources/test.json&quot;),\n                    StandardCharsets.UTF_8);\n            JsonNode jsonNode = objectMapper.readTree(exampleRequest);\n            System.out.println(getText(jsonNode, &quot;type&quot;)); // object\n            System.out.println(getText(jsonNode, &quot;properties&quot;, &quot;_picnic&quot;, &quot;type&quot;)); // boolean\n            System.out.println(getText(jsonNode, &quot;stuff&quot;, &quot;0&quot;, &quot;foo&quot;)); // bar\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    public static String getText(JsonNode node, String... path) {\n        return getText(node, 0, path);\n    }\n\n    private static String getText(JsonNode node, int cursor, String[] path) {\n        if (node == null || path == null || path.length == 0)\n            return null;\n        if (cursor == path.length) {\n            return node != null ? node.asText() : null;\n        }\n        if (node.isObject()) {\n            return getText(node.get(path[cursor]), cursor + 1, path);\n        } else if (node.isArray()) {\n            return getText(node.get(Integer.parseInt(path[cursor])), cursor + 1, path);\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>Modified <code>test.json</code>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;type&quot;: &quot;object&quot;,\n  &quot;id&quot;: &quot;123&quot;,\n  &quot;title&quot;: &quot;Test&quot;,\n  &quot;properties&quot;: {\n    &quot;_picnic&quot;: {\n      &quot;type&quot;: &quot;boolean&quot;\n    }\n  },\n  &quot;stuff&quot;: [\n    {\n      &quot;foo&quot;: &quot;bar&quot;\n    }\n  ]\n}\n</code></pre>\n"}],"owner":{"account_id":302301,"reputation":3398,"user_id":610607,"accept_rate":61,"display_name":"Mian Ahmad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":432,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75998815,"answer_count":2,"score":-1,"last_activity_date":1681373610,"creation_date":1681324450,"question_id":75998766,"body_markdown":"I have the following json file `test.json`\r\n\r\n```\r\n{\r\n  &quot;type&quot; : &quot;object&quot;,\r\n  &quot;id&quot; : &quot;123&quot;,\r\n  &quot;title&quot; : &quot;Test&quot;,\r\n  &quot;properties&quot; : {\r\n    &quot;_picnic&quot; : {\r\n      &quot;type&quot; : &quot;boolean&quot;\r\n....\r\n\r\n```\r\n\r\n\r\n\r\n\r\nI am able to get the first level value of the key using the following code. E.g. for `type` I get `object`\r\n\r\n```\r\npublic static void main(String[] args){\r\n\r\n        String exampleRequest = null;\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        try {\r\n            exampleRequest = FileUtils.readFileToString(new File(&quot;src/main/resources/test.json&quot;), StandardCharsets.UTF_8);\r\n            JsonNode jsonNode = objectMapper.readTree(exampleRequest);\r\n\r\n            String type = jsonNode.get(&quot;type&quot;).asText();\r\n            System.out.println(type);\r\n\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        // System.out.println(exampleRequest);\r\n\r\n\r\n    }\r\n```\r\n\r\nHowever I do not get any response when I try to get the value for the second level. E.g. if I do \r\n\r\n```\r\nString type = jsonNode.get(&quot;_picnic&quot;).asText();\r\nSystem.out.println(type);\r\n\r\nOR the whole object e.g.\r\n\r\nString type = jsonNode.get(&quot;properties&quot;).asText();\r\nSystem.out.println(type);\r\n```\r\n\r\nI tried doing `properties._picnic` or `properties[0]_picnic` but no luck.","title":"how to get the nested item of the json object using Java","body":"<p>I have the following json file <code>test.json</code></p>\n<pre><code>{\n  &quot;type&quot; : &quot;object&quot;,\n  &quot;id&quot; : &quot;123&quot;,\n  &quot;title&quot; : &quot;Test&quot;,\n  &quot;properties&quot; : {\n    &quot;_picnic&quot; : {\n      &quot;type&quot; : &quot;boolean&quot;\n....\n\n</code></pre>\n<p>I am able to get the first level value of the key using the following code. E.g. for <code>type</code> I get <code>object</code></p>\n<pre><code>public static void main(String[] args){\n\n        String exampleRequest = null;\n        ObjectMapper objectMapper = new ObjectMapper();\n        try {\n            exampleRequest = FileUtils.readFileToString(new File(&quot;src/main/resources/test.json&quot;), StandardCharsets.UTF_8);\n            JsonNode jsonNode = objectMapper.readTree(exampleRequest);\n\n            String type = jsonNode.get(&quot;type&quot;).asText();\n            System.out.println(type);\n\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n        // System.out.println(exampleRequest);\n\n\n    }\n</code></pre>\n<p>However I do not get any response when I try to get the value for the second level. E.g. if I do</p>\n<pre><code>String type = jsonNode.get(&quot;_picnic&quot;).asText();\nSystem.out.println(type);\n\nOR the whole object e.g.\n\nString type = jsonNode.get(&quot;properties&quot;).asText();\nSystem.out.println(type);\n</code></pre>\n<p>I tried doing <code>properties._picnic</code> or <code>properties[0]_picnic</code> but no luck.</p>\n"},{"tags":["java","spring","jpa","foreign-keys"],"answers":[{"comments":[{"owner":{"account_id":19981008,"reputation":913,"user_id":14644191,"display_name":"Enchantres"},"score":0,"creation_date":1647127557,"post_id":71453223,"comment_id":126294527,"body_markdown":"It is in a sub-directory of the application class. There is also another entitites which are located in the same directory as the Enrollment class for which tables are created in the database.","body":"It is in a sub-directory of the application class. There is also another entitites which are located in the same directory as the Enrollment class for which tables are created in the database."}],"tags":[],"owner":{"account_id":12468989,"reputation":1,"user_id":9077847,"display_name":"Teddy"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647124322,"creation_date":1647124322,"answer_id":71453223,"question_id":71453066,"body_markdown":"Check if your Enrollment entity class is in the same or in a sub-directory of the application class. ","title":"Error executing DDL &quot;alter table score add constraint foreign key (enrollment_id) references enrollment (id)&quot; via JDBC Statement","body":"<p>Check if your Enrollment entity class is in the same or in a sub-directory of the application class.</p>\n"},{"tags":[],"owner":{"account_id":19981008,"reputation":913,"user_id":14644191,"display_name":"Enchantres"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1647132347,"creation_date":1647132347,"answer_id":71453649,"question_id":71453066,"body_markdown":"https://stackoverflow.com/a/64316793/14644191 @Rajib Garai&#39;s answer worked for me. I have added spring.jpa.properties.hibernate.globally_quoted_identifiers=true to application.properties and the issue was resolved.","title":"Error executing DDL &quot;alter table score add constraint foreign key (enrollment_id) references enrollment (id)&quot; via JDBC Statement","body":"<p><a href=\"https://stackoverflow.com/a/64316793/14644191\">https://stackoverflow.com/a/64316793/14644191</a> @Rajib Garai's answer worked for me. I have added spring.jpa.properties.hibernate.globally_quoted_identifiers=true to application.properties and the issue was resolved.</p>\n"},{"tags":[],"owner":{"account_id":24204123,"reputation":19,"user_id":18161563,"display_name":"husnitdin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674570490,"creation_date":1674570490,"answer_id":75222935,"question_id":71453066,"body_markdown":"spring.jpa.hibernate.ddl-auto=update\r\n\r\nspring.jpa.database-platform=org.hibernate.dialect.MySQL55Dialect\r\n\r\nadding these 2 to my application.properties solved my issue","title":"Error executing DDL &quot;alter table score add constraint foreign key (enrollment_id) references enrollment (id)&quot; via JDBC Statement","body":"<p>spring.jpa.hibernate.ddl-auto=update</p>\n<p>spring.jpa.database-platform=org.hibernate.dialect.MySQL55Dialect</p>\n<p>adding these 2 to my application.properties solved my issue</p>\n"},{"tags":[],"owner":{"account_id":25200889,"reputation":51,"user_id":19039766,"display_name":"Juyel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681373079,"creation_date":1681373079,"answer_id":76003061,"question_id":71453066,"body_markdown":"I had been struggling with the same problems later on it works for me when change the table name which was a reserved word in MySQL DB, So make sure when you create a table in mysql db it shouldn&#39;t be a **reserved** word. ","title":"Error executing DDL &quot;alter table score add constraint foreign key (enrollment_id) references enrollment (id)&quot; via JDBC Statement","body":"<p>I had been struggling with the same problems later on it works for me when change the table name which was a reserved word in MySQL DB, So make sure when you create a table in mysql db it shouldn't be a <strong>reserved</strong> word.</p>\n"}],"owner":{"account_id":19981008,"reputation":913,"user_id":14644191,"display_name":"Enchantres"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11017,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":4,"score":2,"last_activity_date":1681373079,"creation_date":1647121356,"question_id":71453066,"body_markdown":"I have an Enrollment class which has list of scores. I am trying to make a reference to the Score class but getting the following:\r\n\r\n&gt; Error executing DDL &quot;alter table score add constraint ... foreign key\r\n&gt; (enrollment_id) references enrollment (id)&quot; via JDBC Statement Caused\r\n&gt; by: java.sql.SQLException: Failed to open the referenced table\r\n&gt; &#39;enrollment&#39;\r\n\r\n After running the application, the Score table is created in the database, but the Enrollment table is missing and enrollment_id column of the Score is not a foreign key.\r\n\r\n **How can I solve this problem?** I have tried to annotated with @Cache and to ignore the double creation of the table but it was not successfull. I am using MySQL.\r\n\r\n    @Entity\r\n    @Table(name = &quot;enrollment&quot;)\r\n    public class Enrollment {\r\n    \t\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        public int id;\r\n    \t\r\n    \t@ManyToOne(fetch = FetchType.LAZY)\r\n    \t@JoinColumn(name = &quot;student_id&quot;)\r\n        public Student student;\r\n    \t\r\n    \t@Temporal(TemporalType.TIMESTAMP)\r\n    \t@Column(name = &quot;date&quot;, nullable = false)\r\n        public Date date;\r\n    \r\n    \t@Column(name = &quot;rank&quot;, nullable = false)\r\n        public int rank;\r\n    \t\r\n    \t@OneToOne(cascade = CascadeType.ALL)\r\n    \t@JoinColumn(name = &quot;specialty_id&quot;, referencedColumnName = &quot;id&quot;)\r\n        public Specialty specialty;\r\n    \t\r\n    \t@Lob\r\n    \t@Basic(fetch = FetchType.LAZY)\r\n    \t@Column(name = &quot;files&quot;, columnDefinition = &quot;BLOB&quot;, nullable = false)\r\n    \tprivate byte[] files;\r\n        \r\n        @OneToMany(mappedBy = &quot;enrollment&quot;, fetch = FetchType.LAZY)\r\n        public List&lt;Score&gt; scores;\r\n        \r\n    \t@Column(name = &quot;state&quot;, length = 50, nullable = false)\r\n        public String state;\r\n       \r\n    }\r\n\r\n    @Entity\r\n    @Table(name = &quot;score&quot;)\r\n    public class Score {\r\n    \t\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private int id;\r\n    \t\r\n    \t@OneToOne(cascade = CascadeType.ALL)\r\n    \t@JoinColumn(name = &quot;score_forming_object_id&quot;, referencedColumnName = &quot;id&quot;)\r\n        private ScoreFormingObject scoreFormingObject;\r\n    \t\r\n    \t@Column(name = &quot;score&quot;, nullable = false)\r\n        private double score;\r\n    \t\r\n    \t@ManyToOne(fetch = FetchType.LAZY)\r\n    \t@JoinColumn(name = &quot;enrollment_id&quot;)\r\n        private Enrollment enrollment;\r\n    }","title":"Error executing DDL &quot;alter table score add constraint foreign key (enrollment_id) references enrollment (id)&quot; via JDBC Statement","body":"<p>I have an Enrollment class which has list of scores. I am trying to make a reference to the Score class but getting the following:</p>\n<blockquote>\n<p>Error executing DDL &quot;alter table score add constraint ... foreign key\n(enrollment_id) references enrollment (id)&quot; via JDBC Statement Caused\nby: java.sql.SQLException: Failed to open the referenced table\n'enrollment'</p>\n</blockquote>\n<p>After running the application, the Score table is created in the database, but the Enrollment table is missing and enrollment_id column of the Score is not a foreign key.</p>\n<p><strong>How can I solve this problem?</strong> I have tried to annotated with @Cache and to ignore the double creation of the table but it was not successfull. I am using MySQL.</p>\n<pre><code>@Entity\n@Table(name = &quot;enrollment&quot;)\npublic class Enrollment {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    public int id;\n    \n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;student_id&quot;)\n    public Student student;\n    \n    @Temporal(TemporalType.TIMESTAMP)\n    @Column(name = &quot;date&quot;, nullable = false)\n    public Date date;\n\n    @Column(name = &quot;rank&quot;, nullable = false)\n    public int rank;\n    \n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;specialty_id&quot;, referencedColumnName = &quot;id&quot;)\n    public Specialty specialty;\n    \n    @Lob\n    @Basic(fetch = FetchType.LAZY)\n    @Column(name = &quot;files&quot;, columnDefinition = &quot;BLOB&quot;, nullable = false)\n    private byte[] files;\n    \n    @OneToMany(mappedBy = &quot;enrollment&quot;, fetch = FetchType.LAZY)\n    public List&lt;Score&gt; scores;\n    \n    @Column(name = &quot;state&quot;, length = 50, nullable = false)\n    public String state;\n   \n}\n\n@Entity\n@Table(name = &quot;score&quot;)\npublic class Score {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    \n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;score_forming_object_id&quot;, referencedColumnName = &quot;id&quot;)\n    private ScoreFormingObject scoreFormingObject;\n    \n    @Column(name = &quot;score&quot;, nullable = false)\n    private double score;\n    \n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;enrollment_id&quot;)\n    private Enrollment enrollment;\n}\n</code></pre>\n"},{"tags":["java","trace","vlcj"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1681374036,"post_id":76003060,"comment_id":134046755,"body_markdown":"That number seems to be the [byte code index (bci)](https://stackoverflow.com/questions/7660673/what-is-bci-while-debugging-in-jdb). The link explains what it is - I couldn&#39;t find any authoritative definition yet but [this](https://www.javacodegeeks.com/2013/02/analysing-a-java-core-dump.html)  indicates the number is the bci: dump contains `j  CoreDumper.main([Ljava/lang/String;)V+7` -&gt; jstack analysis contains `- CoreDumper.main(java.lang.String[]) @bci=7, line=12 (Interpreted frame)\n`","body":"That number seems to be the <a href=\"https://stackoverflow.com/questions/7660673/what-is-bci-while-debugging-in-jdb\">byte code index (bci)</a>. The link explains what it is - I couldn&#39;t find any authoritative definition yet but <a href=\"https://www.javacodegeeks.com/2013/02/analysing-a-java-core-dump.html\" rel=\"nofollow noreferrer\">this</a>  indicates the number is the bci: dump contains <code>j  CoreDumper.main([Ljava&#47;lang&#47;String;)V+7</code> -&gt; jstack analysis contains <code>- CoreDumper.main(java.lang.String[]) @bci=7, line=12 (Interpreted frame) </code>"}],"owner":{"account_id":4168155,"reputation":2397,"user_id":3416648,"accept_rate":83,"display_name":"DDS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681373069,"creation_date":1681373069,"question_id":76003060,"body_markdown":"I&#39;m facing runtime issues with a java application using vlcj.\r\nthe file hs_err_pidxxxx.log contains some values I can&#39;t interpret:\r\n\r\nhere is the trace:\r\n```\r\n\r\nCurrent thread (0x00007fa1fcbc5170):  JavaThread &quot;CAM3 PP&quot; daemon [_thread_in_native, id=672224, stack(0x00007fa17beff000,0x00007fa17c000000)]\r\n\r\nStack: [0x00007fa17beff000,0x00007fa17c000000],  sp=0x00007fa17bffd890,  free space=1018k\r\nNative frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\r\nC  [libvlc.so.5.6.1+0x10568]\r\n\r\nJava frames: (J=compiled Java code, j=interpreted, Vv=VM code)\r\nj  uk.co.caprica.vlcj.binding.LibVlc.libvlc_media_player_set_media(Luk/co/caprica/vlcj/binding/internal/libvlc_media_player_t;Luk/co/caprica/vlcj/binding/internal/libvlc_media_t;)V+0\r\nj  uk.co.caprica.vlcj.player.base.MediaApi.applyMedia()V+13\r\nj  uk.co.caprica.vlcj.player.base.MediaApi.changeMedia(Luk/co/caprica/vlcj/media/Media;)Z+28\r\nj  uk.co.caprica.vlcj.player.base.MediaApi.prepare(Ljava/lang/String;[Ljava/lang/String;)Z+10\r\nj  uk.co.caprica.vlcj.player.base.MediaApi.play(Ljava/lang/String;[Ljava/lang/String;)Z+3\r\nj  com.co.project.MediaPane.resetError()V+149\r\nJ 11307 c1 com.co.project.MediaPane.NetStatusChanged(Lcom/co/project/tools/NetEvent;)V (84 bytes) @ 0x00007fa2b2303e2c [0x00007fa2b2303700+0x000000000000072c]\r\nJ 11257 c1 com.co.project.tools.Poller.fireNetEvent(Lcom/co/project/tools/NetEvent;)V (45 bytes) @ 0x00007fa2b22ecf74 [0x00007fa2b22ecce0+0x0000000000000294]\r\nj  com.co.project.tools.Poller.run()V+258\r\nj  java.lang.Thread.run()V+11 java.base@17.0.6\r\nv  ~StubRoutines::call_stub\r\n\r\nsiginfo: si_signo: 11 (SIGSEGV), si_code: 1 (SEGV_MAPERR), si_addr: 0x0000000000000000\r\n```\r\nI interpret the line\r\n```\r\nj  com.co.project.MediaPane.resetError()V+149\r\n```\r\nas interpreted code, method resetError() returns void\r\n\r\n\r\nWhat I&#39;m missing is what +149 mean in this context. In my &quot;normal&quot; stacktrace I find there the line number but it doesn&#39;t seems to be the case.\r\n\r\n\r\n","title":"How to interpret java kernel traces","body":"<p>I'm facing runtime issues with a java application using vlcj.\nthe file hs_err_pidxxxx.log contains some values I can't interpret:</p>\n<p>here is the trace:</p>\n<pre><code>\nCurrent thread (0x00007fa1fcbc5170):  JavaThread &quot;CAM3 PP&quot; daemon [_thread_in_native, id=672224, stack(0x00007fa17beff000,0x00007fa17c000000)]\n\nStack: [0x00007fa17beff000,0x00007fa17c000000],  sp=0x00007fa17bffd890,  free space=1018k\nNative frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\nC  [libvlc.so.5.6.1+0x10568]\n\nJava frames: (J=compiled Java code, j=interpreted, Vv=VM code)\nj  uk.co.caprica.vlcj.binding.LibVlc.libvlc_media_player_set_media(Luk/co/caprica/vlcj/binding/internal/libvlc_media_player_t;Luk/co/caprica/vlcj/binding/internal/libvlc_media_t;)V+0\nj  uk.co.caprica.vlcj.player.base.MediaApi.applyMedia()V+13\nj  uk.co.caprica.vlcj.player.base.MediaApi.changeMedia(Luk/co/caprica/vlcj/media/Media;)Z+28\nj  uk.co.caprica.vlcj.player.base.MediaApi.prepare(Ljava/lang/String;[Ljava/lang/String;)Z+10\nj  uk.co.caprica.vlcj.player.base.MediaApi.play(Ljava/lang/String;[Ljava/lang/String;)Z+3\nj  com.co.project.MediaPane.resetError()V+149\nJ 11307 c1 com.co.project.MediaPane.NetStatusChanged(Lcom/co/project/tools/NetEvent;)V (84 bytes) @ 0x00007fa2b2303e2c [0x00007fa2b2303700+0x000000000000072c]\nJ 11257 c1 com.co.project.tools.Poller.fireNetEvent(Lcom/co/project/tools/NetEvent;)V (45 bytes) @ 0x00007fa2b22ecf74 [0x00007fa2b22ecce0+0x0000000000000294]\nj  com.co.project.tools.Poller.run()V+258\nj  java.lang.Thread.run()V+11 java.base@17.0.6\nv  ~StubRoutines::call_stub\n\nsiginfo: si_signo: 11 (SIGSEGV), si_code: 1 (SEGV_MAPERR), si_addr: 0x0000000000000000\n</code></pre>\n<p>I interpret the line</p>\n<pre><code>j  com.co.project.MediaPane.resetError()V+149\n</code></pre>\n<p>as interpreted code, method resetError() returns void</p>\n<p>What I'm missing is what +149 mean in this context. In my &quot;normal&quot; stacktrace I find there the line number but it doesn't seems to be the case.</p>\n"},{"tags":["java","identity","equality","object-comparison"],"comments":[{"owner":{"account_id":111302,"reputation":4393,"user_id":294097,"accept_rate":67,"display_name":"John Kane"},"score":62,"creation_date":1316720407,"post_id":7520432,"comment_id":9108858,"body_markdown":"yeah, pretty much","body":"yeah, pretty much"},{"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":13,"creation_date":1373290229,"post_id":7520432,"comment_id":25488282,"body_markdown":"Yes, spot on. You can think of `.equals()` as *meaningfully equivalent*","body":"Yes, spot on. You can think of <code>.equals()</code> as <i>meaningfully equivalent</i>"},{"owner":{"account_id":3273747,"reputation":20852,"user_id":2756409,"accept_rate":100,"display_name":"TylerH"},"score":0,"creation_date":1466628393,"post_id":7520432,"comment_id":63401910,"body_markdown":"Possible duplicate of [How do I compare strings in Java?](http://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\">How do I compare strings in Java?</a>"},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":32,"creation_date":1486547231,"post_id":7520432,"comment_id":71388194,"body_markdown":"A sentence like &quot;both objects point to the same memory location&quot; is sloppy language, which can make understanding more difficult. You mean: &quot;both variables refer to the same object&quot;. Note that a variable is not an object; a variable is a *reference* to an object. Objects don&#39;t &quot;point to&quot; anything.","body":"A sentence like &quot;both objects point to the same memory location&quot; is sloppy language, which can make understanding more difficult. You mean: &quot;both variables refer to the same object&quot;. Note that a variable is not an object; a variable is a <i>reference</i> to an object. Objects don&#39;t &quot;point to&quot; anything."},{"owner":{"account_id":7281,"reputation":248677,"user_id":12597,"accept_rate":76,"display_name":"Ian Boyd"},"score":1,"creation_date":1658608857,"post_id":7520432,"comment_id":129095419,"body_markdown":"In C# (and many other languages) the *equality operator* ( **==** ) corresponds to the `Object.Equals()` method. Descendants classes, like `String`, can define what it means for two strings to be **==** by overriding the `.Equals` method. Java cannot do that. The Java `String` class (and no class in Java) has a way to override **==** to make it behave the way it should behave. This means you **must** call `.equals()` yourself manually.","body":"In C# (and many other languages) the <i>equality operator</i> ( <b>==</b> ) corresponds to the <code>Object.Equals()</code> method. Descendants classes, like <code>String</code>, can define what it means for two strings to be <b>==</b> by overriding the <code>.Equals</code> method. Java cannot do that. The Java <code>String</code> class (and no class in Java) has a way to override <b>==</b> to make it behave the way it should behave. This means you <b>must</b> call <code>.equals()</code> yourself manually."},{"owner":{"account_id":19705285,"reputation":160,"user_id":20654602,"display_name":"Rishon_JR"},"score":0,"creation_date":1674718740,"post_id":7520432,"comment_id":132774570,"body_markdown":"&quot;==&quot; is for Primitive Types and &quot;.equals()&quot; is to compare Reference types(If &quot;==&quot; is used on reference types, the hash code is compared by default)","body":"&quot;==&quot; is for Primitive Types and &quot;.equals()&quot; is to compare Reference types(If &quot;==&quot; is used on reference types, the hash code is compared by default)"}],"answers":[{"comments":[{"owner":{"account_id":4176295,"reputation":1249,"user_id":3422726,"accept_rate":55,"display_name":"JPG"},"score":0,"creation_date":1434269945,"post_id":7520464,"comment_id":49700133,"body_markdown":"if `==` checks for memory reference then why am I getting this strange behavior in [this][1][1]: https://docs.google.com/document/d/1ducE-yZEDyyjoKUTkTEsw3sdSw740d0Z5iiJz3IzABE/edit?usp=sharing       I expected output to be true. can clear my confusions","body":"if <code>==</code> checks for memory reference then why am I getting this strange behavior in [this][1][1]: <a href=\"https://docs.google.com/document/d/1ducE-yZEDyyjoKUTkTEsw3sdSw740d0Z5iiJz3IzABE/edit?usp=sharing\" rel=\"nofollow noreferrer\">docs.google.com/document/d/&hellip;</a>       I expected output to be true. can clear my confusions"},{"owner":{"account_id":6526276,"reputation":504,"user_id":5048930,"display_name":"BoDidely"},"score":4,"creation_date":1438200064,"post_id":7520464,"comment_id":51358040,"body_markdown":"@JSK print the values of d1 and d2 and I think you&#39;ll see why you&#39;re returning false.","body":"@JSK print the values of d1 and d2 and I think you&#39;ll see why you&#39;re returning false."},{"owner":{"account_id":4176295,"reputation":1249,"user_id":3422726,"accept_rate":55,"display_name":"JPG"},"score":2,"creation_date":1438375274,"post_id":7520464,"comment_id":51443288,"body_markdown":"@BoDidely I figured it out. It was because all the wrapper classes are immutable.","body":"@BoDidely I figured it out. It was because all the wrapper classes are immutable."},{"owner":{"account_id":204470,"reputation":8571,"user_id":452708,"accept_rate":0,"display_name":"Abhijeet"},"score":0,"creation_date":1467811210,"post_id":7520464,"comment_id":63872017,"body_markdown":"`The equals method for class Object implements the most discriminating possible equivalence relation on objects; that is, for any non-null reference values x and y, this method returns true if and only if x and y refer to the same object (x == y has the value true).`\n&lt;br/&gt;\n`Note that it is generally necessary to override the hashCode method whenever this method is overridden, so as to maintain the general contract for the hashCode method, which states that equal objects must have equal hash codes.`\n(https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#equals(java.lang.Object))","body":"<code>The equals method for class Object implements the most discriminating possible equivalence relation on objects; that is, for any non-null reference values x and y, this method returns true if and only if x and y refer to the same object (x == y has the value true).</code> &lt;br/&gt; <code>Note that it is generally necessary to override the hashCode method whenever this method is overridden, so as to maintain the general contract for the hashCode method, which states that equal objects must have equal hash codes.</code> (<a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/lang/&hellip;</a>)"}],"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"comment_count":4,"down_vote_count":9,"up_vote_count":747,"is_accepted":true,"score":738,"last_activity_date":1514563843,"creation_date":1316720358,"answer_id":7520464,"question_id":7520432,"body_markdown":"In general, the answer to  your question is &quot;yes&quot;, but...\r\n\r\n* `.equals(...)` will only compare what it is written to compare, no more, no less.\r\n* If a class does not override the equals method, then it defaults to the `equals(Object o)` method of the closest parent class that has overridden this method. \r\n* If no parent classes have provided an override, then it defaults to the method from the ultimate parent class, Object, and so you&#39;re left with the `Object#equals(Object o)` method. Per the Object API this is the same as `==`; that is, it returns true *if and only if* both variables refer to the same object, if their references are one and the same. Thus you will be testing  for **object equality** and not **functional equality**.\r\n* Always remember to override `hashCode` if you override `equals` so as not to &quot;break the contract&quot;. As per the API, the result returned from the `hashCode()` method for two objects **must** be the same if their `equals` methods show that they are equivalent. The converse is *not* necessarily true. ","title":"What is the difference between == and equals() in Java?","body":"<p>In general, the answer to  your question is \"yes\", but...</p>\n\n<ul>\n<li><code>.equals(...)</code> will only compare what it is written to compare, no more, no less.</li>\n<li>If a class does not override the equals method, then it defaults to the <code>equals(Object o)</code> method of the closest parent class that has overridden this method. </li>\n<li>If no parent classes have provided an override, then it defaults to the method from the ultimate parent class, Object, and so you're left with the <code>Object#equals(Object o)</code> method. Per the Object API this is the same as <code>==</code>; that is, it returns true <em>if and only if</em> both variables refer to the same object, if their references are one and the same. Thus you will be testing  for <strong>object equality</strong> and not <strong>functional equality</strong>.</li>\n<li>Always remember to override <code>hashCode</code> if you override <code>equals</code> so as not to \"break the contract\". As per the API, the result returned from the <code>hashCode()</code> method for two objects <strong>must</strong> be the same if their <code>equals</code> methods show that they are equivalent. The converse is <em>not</em> necessarily true. </li>\n</ul>\n"},{"tags":[],"owner":{"account_id":225128,"reputation":777,"user_id":485431,"display_name":"Andrew Carr"},"comment_count":0,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1471101887,"creation_date":1316720366,"answer_id":7520467,"question_id":7520432,"body_markdown":"You will have to override the equals function (along with others) to use this with custom classes.\r\n\r\nThe equals method compares the objects.\r\n\r\nThe `==` binary operator compares memory addresses.","title":"What is the difference between == and equals() in Java?","body":"<p>You will have to override the equals function (along with others) to use this with custom classes.</p>\n\n<p>The equals method compares the objects.</p>\n\n<p>The <code>==</code> binary operator compares memory addresses.</p>\n"},{"tags":[],"owner":{"account_id":144817,"reputation":5766,"user_id":354161,"accept_rate":62,"display_name":"tintin"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1316721287,"creation_date":1316721287,"answer_id":7520658,"question_id":7520432,"body_markdown":"Both == and .equals() refers to the same object if you don&#39;t override .equals(). \r\n\r\nIts your wish  what you want to do once you override .equals(). You can compare the invoking object&#39;s state with the passed in object&#39;s state or you can just call super.equals()","title":"What is the difference between == and equals() in Java?","body":"<p>Both == and .equals() refers to the same object if you don't override .equals(). </p>\n\n<p>Its your wish  what you want to do once you override .equals(). You can compare the invoking object's state with the passed in object's state or you can just call super.equals()</p>\n"},{"tags":[],"owner":{"account_id":929865,"reputation":1280,"user_id":959934,"accept_rate":60,"display_name":"fruchtose"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1316729783,"creation_date":1316726561,"answer_id":7521675,"question_id":7520432,"body_markdown":"Just remember that `.equals(...)` has to be implemented by the class you are trying to compare. Otherwise, there isn&#39;t much of a point; the version of the method for the Object class does the same thing as the comparison operation: [Object#equals][1].\r\n\r\nThe only time you really want to use the comparison operator for objects is wen you are comparing Enums. This is because there is only one instance of an Enum value at a time. For instance, given the enum\r\n\r\n    enum FooEnum {A, B, C}\r\n\r\nYou will never have more than one instance of `A` at a time, and the same for `B` and `C`. This means that you can actually write a method like so:\r\n\r\n    public boolean compareFoos(FooEnum x, FooEnum y)\r\n    {\r\n        return (x == y);\r\n    }\r\n\r\nAnd you will have no problems whatsoever.\r\n\r\n  [1]: http://download.oracle.com/javase/1.4.2/docs/api/java/lang/Object.html#equals%28java.lang.Object%29","title":"What is the difference between == and equals() in Java?","body":"<p>Just remember that <code>.equals(...)</code> has to be implemented by the class you are trying to compare. Otherwise, there isn't much of a point; the version of the method for the Object class does the same thing as the comparison operation: <a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/lang/Object.html#equals%28java.lang.Object%29\" rel=\"nofollow\">Object#equals</a>.</p>\n\n<p>The only time you really want to use the comparison operator for objects is wen you are comparing Enums. This is because there is only one instance of an Enum value at a time. For instance, given the enum</p>\n\n<pre><code>enum FooEnum {A, B, C}\n</code></pre>\n\n<p>You will never have more than one instance of <code>A</code> at a time, and the same for <code>B</code> and <code>C</code>. This means that you can actually write a method like so:</p>\n\n<pre><code>public boolean compareFoos(FooEnum x, FooEnum y)\n{\n    return (x == y);\n}\n</code></pre>\n\n<p>And you will have no problems whatsoever.</p>\n"},{"comments":[{"owner":{"account_id":933262,"reputation":7628,"user_id":962696,"accept_rate":67,"display_name":"JonnyRaa"},"score":1,"creation_date":1392905535,"post_id":10806192,"comment_id":33182958,"body_markdown":"so for strings == is reference equals aswell? ie works the same as for other objects?","body":"so for strings == is reference equals aswell? ie works the same as for other objects?"},{"owner":{"account_id":59513,"reputation":1516,"user_id":178064,"accept_rate":83,"display_name":"Tonio"},"score":3,"creation_date":1412375634,"post_id":10806192,"comment_id":41062492,"body_markdown":"(Thread necromancy, I know...) For `String`s, `==` is reference equals as well, yes, but it _usually_ works (as in two `String`s with the same content will _usually_ be `==` to each other), because of how Java handles `String`s.  It won&#39;t always, and it&#39;s certainly bad practice, but it&#39;s a common mistake, particularly from people coming from other languages.","body":"(Thread necromancy, I know...) For <code>String</code>s, <code>==</code> is reference equals as well, yes, but it <i>usually</i> works (as in two <code>String</code>s with the same content will <i>usually</i> be <code>==</code> to each other), because of how Java handles <code>String</code>s.  It won&#39;t always, and it&#39;s certainly bad practice, but it&#39;s a common mistake, particularly from people coming from other languages."},{"owner":{"account_id":403533,"reputation":2794,"user_id":771355,"accept_rate":61,"display_name":"Gavin"},"score":14,"creation_date":1510755948,"post_id":10806192,"comment_id":81570062,"body_markdown":"To add on to Tonio&#39;s comment. `String` build from string literal will be added to something called the `String constant pool`, e.g. `String s1 = &quot;someString&quot;; String s2 = &quot;someString;&quot;` both `s1` &amp; `s2` will share the same reference.  `s1 == s2` will return true. But if they were constructed via the `String constructor`, e.g. `String s1 = new String(&quot;someString&quot;); String s2 = new String(&quot;someString&quot;);` then they will not share the same reference. `s1 == s2` will return false.","body":"To add on to Tonio&#39;s comment. <code>String</code> build from string literal will be added to something called the <code>String constant pool</code>, e.g. <code>String s1 = &quot;someString&quot;; String s2 = &quot;someString;&quot;</code> both <code>s1</code> &amp; <code>s2</code> will share the same reference.  <code>s1 == s2</code> will return true. But if they were constructed via the <code>String constructor</code>, e.g. <code>String s1 = new String(&quot;someString&quot;); String s2 = new String(&quot;someString&quot;);</code> then they will not share the same reference. <code>s1 == s2</code> will return false."}],"tags":[],"owner":{"account_id":259570,"reputation":1371,"user_id":542543,"display_name":"Jacques Colmenero"},"comment_count":3,"down_vote_count":0,"up_vote_count":137,"is_accepted":false,"score":137,"last_activity_date":1421803097,"creation_date":1338323044,"answer_id":10806192,"question_id":7520432,"body_markdown":"With respect to the String class:\r\n\r\nThe equals() **method** compares the &quot;value&quot; inside String instances (on the heap) irrespective if the two object references refer to the same String instance or not. If any two object references of type String refer to the same String instance then great! If the two object references refer to two different String instances .. it doesn&#39;t make a difference. Its the &quot;value&quot; (that is: the contents of the character array) inside each String instance that is being compared.\r\n\r\nOn the other hand, the &quot;==&quot; **operator** compares the value of **two object references** to see whether they refer to the same **String instance**. If the value of both object references &quot;refer to&quot; the same String instance then the result of the boolean expression would be &quot;true&quot;..duh. If, on the other hand, the value of both object references &quot;refer to&quot; **different String instances** (even though both String instances have identical &quot;values&quot;, that is, the contents of the character arrays of each String instance are the same) the result of the boolean expression would be &quot;false&quot;.\r\n\r\nAs with any explanation, let it sink in.\r\n\r\nI hope this clears things up a bit.\r\n\r\n    \r\n","title":"What is the difference between == and equals() in Java?","body":"<p>With respect to the String class:</p>\n\n<p>The equals() <strong>method</strong> compares the \"value\" inside String instances (on the heap) irrespective if the two object references refer to the same String instance or not. If any two object references of type String refer to the same String instance then great! If the two object references refer to two different String instances .. it doesn't make a difference. Its the \"value\" (that is: the contents of the character array) inside each String instance that is being compared.</p>\n\n<p>On the other hand, the \"==\" <strong>operator</strong> compares the value of <strong>two object references</strong> to see whether they refer to the same <strong>String instance</strong>. If the value of both object references \"refer to\" the same String instance then the result of the boolean expression would be \"true\"..duh. If, on the other hand, the value of both object references \"refer to\" <strong>different String instances</strong> (even though both String instances have identical \"values\", that is, the contents of the character arrays of each String instance are the same) the result of the boolean expression would be \"false\".</p>\n\n<p>As with any explanation, let it sink in.</p>\n\n<p>I hope this clears things up a bit.</p>\n"},{"comments":[{"owner":{"account_id":18981447,"reputation":908,"user_id":13852758,"display_name":"Gulab Sagevadiya"},"score":1,"creation_date":1632211662,"post_id":21128549,"comment_id":122424850,"body_markdown":"Simple and easiest answer","body":"Simple and easiest answer"}],"tags":[],"owner":{"account_id":2719694,"reputation":585,"user_id":2346256,"accept_rate":71,"display_name":"ayniam"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1532502906,"creation_date":1389756235,"answer_id":21128549,"question_id":7520432,"body_markdown":"`==` is an *operator* and `equals()` is a *method*.\r\n\r\nOperators are generally used for *primitive* type comparisons and thus `==` is used for memory address comparison and `equals()` method is used for comparing *objects*. ","title":"What is the difference between == and equals() in Java?","body":"<p><code>==</code> is an <em>operator</em> and <code>equals()</code> is a <em>method</em>.</p>\n\n<p>Operators are generally used for <em>primitive</em> type comparisons and thus <code>==</code> is used for memory address comparison and <code>equals()</code> method is used for comparing <em>objects</em>. </p>\n"},{"comments":[{"owner":{"account_id":318413,"reputation":3884,"user_id":635633,"accept_rate":80,"display_name":"Andrew"},"score":2,"creation_date":1426087832,"post_id":22213322,"comment_id":46229788,"body_markdown":"Interesting example. Different perspective from the above answers. Thanks!","body":"Interesting example. Different perspective from the above answers. Thanks!"},{"owner":{"account_id":5389961,"reputation":1513,"user_id":4292792,"accept_rate":92,"display_name":"Carrm"},"score":1,"creation_date":1504085511,"post_id":22213322,"comment_id":78871320,"body_markdown":"Best answer in my opinion, as it&#39;s clearer than the other full-text answers without losing the explanation (if you undertand class and static concepts, of course)","body":"Best answer in my opinion, as it&#39;s clearer than the other full-text answers without losing the explanation (if you undertand class and static concepts, of course)"}],"tags":[],"owner":{"account_id":252630,"reputation":2903,"user_id":2457251,"display_name":"Almir Campos"},"comment_count":2,"down_vote_count":0,"up_vote_count":75,"is_accepted":false,"score":75,"last_activity_date":1394073046,"creation_date":1394071003,"answer_id":22213322,"question_id":7520432,"body_markdown":"There are some small differences depending whether you are talking about &quot;primitives&quot; or &quot;Object Types&quot;; the same can be said if you are talking about &quot;static&quot; or &quot;non-static&quot; members; you can also mix all the above...\r\n\r\nHere is an example (you can run it):\r\n\r\n\tpublic final class MyEqualityTest\r\n\t{\r\n\t\tpublic static void main( String args[] )\r\n\t\t{\r\n\t\t\tString s1 = new String( &quot;Test&quot; );\r\n\t\t\tString s2 = new String( &quot;Test&quot; );\r\n\t\t\t\r\n\t\t\tSystem.out.println( &quot;\\n1 - PRIMITIVES &quot;);\r\n\t\t\tSystem.out.println( s1 == s2 ); // false\r\n\t\t\tSystem.out.println( s1.equals( s2 )); // true\r\n\t\t\t\t\t\t\r\n\t\t\tA a1 = new A();\r\n\t\t\tA a2 = new A();\r\n\t\t\t\r\n\t\t\tSystem.out.println( &quot;\\n2 - OBJECT TYPES / STATIC VARIABLE&quot; );\r\n\t\t\tSystem.out.println( a1 == a2 ); // false\r\n\t\t\tSystem.out.println( a1.s == a2.s ); // true\r\n\t\t\tSystem.out.println( a1.s.equals( a2.s ) ); // true\r\n\t\t\t\r\n\t\t\tB b1 = new B();\r\n\t\t\tB b2 = new B();\r\n\t\t\t\r\n\t\t\tSystem.out.println( &quot;\\n3 - OBJECT TYPES / NON-STATIC VARIABLE&quot; );\r\n\t\t\tSystem.out.println( b1 == b2 ); // false\r\n\t\t\tSystem.out.println( b1.getS() == b2.getS() ); // false\r\n\t\t\tSystem.out.println( b1.getS().equals( b2.getS() ) ); // true\r\n\t\t}\r\n\t}\r\n\t\r\n\tfinal class A\r\n\t{\r\n\t\t// static\r\n\t\tpublic static String s;\r\n\t\tA()\r\n\t\t{\r\n\t\t\tthis.s = new String( &quot;aTest&quot; );\r\n\t\t}\r\n\t}\r\n\t\r\n\tfinal class B\r\n\t{\r\n\t\tprivate String s;\r\n\t\tB()\r\n\t\t{\r\n\t\t\tthis.s = new String( &quot;aTest&quot; );\r\n\t\t}\r\n\r\n\t\tpublic String getS()\r\n\t\t{\r\n\t\t\treturn s;\r\n\t\t}\r\n\r\n\t}\r\n\r\nYou can compare the explanations for &quot;==&quot; (Equality Operator) and &quot;.equals(...)&quot; (method in the java.lang.Object class) through these links:\r\n\r\n* ==: http://docs.oracle.com/javase/tutorial/java/nutsandbolts/op2.html\r\n* .equals(...): http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#equals(java.lang.Object)\r\n","title":"What is the difference between == and equals() in Java?","body":"<p>There are some small differences depending whether you are talking about \"primitives\" or \"Object Types\"; the same can be said if you are talking about \"static\" or \"non-static\" members; you can also mix all the above...</p>\n\n<p>Here is an example (you can run it):</p>\n\n<pre><code>public final class MyEqualityTest\n{\n    public static void main( String args[] )\n    {\n        String s1 = new String( \"Test\" );\n        String s2 = new String( \"Test\" );\n\n        System.out.println( \"\\n1 - PRIMITIVES \");\n        System.out.println( s1 == s2 ); // false\n        System.out.println( s1.equals( s2 )); // true\n\n        A a1 = new A();\n        A a2 = new A();\n\n        System.out.println( \"\\n2 - OBJECT TYPES / STATIC VARIABLE\" );\n        System.out.println( a1 == a2 ); // false\n        System.out.println( a1.s == a2.s ); // true\n        System.out.println( a1.s.equals( a2.s ) ); // true\n\n        B b1 = new B();\n        B b2 = new B();\n\n        System.out.println( \"\\n3 - OBJECT TYPES / NON-STATIC VARIABLE\" );\n        System.out.println( b1 == b2 ); // false\n        System.out.println( b1.getS() == b2.getS() ); // false\n        System.out.println( b1.getS().equals( b2.getS() ) ); // true\n    }\n}\n\nfinal class A\n{\n    // static\n    public static String s;\n    A()\n    {\n        this.s = new String( \"aTest\" );\n    }\n}\n\nfinal class B\n{\n    private String s;\n    B()\n    {\n        this.s = new String( \"aTest\" );\n    }\n\n    public String getS()\n    {\n        return s;\n    }\n\n}\n</code></pre>\n\n<p>You can compare the explanations for \"==\" (Equality Operator) and \".equals(...)\" (method in the java.lang.Object class) through these links:</p>\n\n<ul>\n<li>==: <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/op2.html\">http://docs.oracle.com/javase/tutorial/java/nutsandbolts/op2.html</a></li>\n<li>.equals(...): <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#equals(java.lang.Object)\">http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#equals(java.lang.Object)</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":12499000,"reputation":359,"user_id":9098032,"display_name":"Neetesh Bhardwaj"},"score":0,"creation_date":1557131983,"post_id":27450061,"comment_id":98649500,"body_markdown":"Wrapper objects for primitive types - i.e. Integer, Long, Double == may not return true even if the two values are equal. It purely depends on Wrapper&#39;s cache. \n\nBelow code will print false because default cache is limited to -128 to 127.\n                `Long a = 128l;\n\t\tLong b = 128l;\n\t\tSystem.out.println(a == b);`","body":"Wrapper objects for primitive types - i.e. Integer, Long, Double == may not return true even if the two values are equal. It purely depends on Wrapper&#39;s cache.   Below code will print false because default cache is limited to -128 to 127.                 <code>Long a = 128l; \t\tLong b = 128l; \t\tSystem.out.println(a == b);</code>"}],"tags":[],"owner":{"account_id":2406380,"reputation":132,"user_id":2102730,"display_name":"Elroch"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1487969863,"creation_date":1418409853,"answer_id":27450061,"question_id":7520432,"body_markdown":"It may be worth adding that for wrapper objects for primitive types - i.e. Int, Long, Double - == will return true if the two values are equal.\r\n\r\n    Long a = 10L;\r\n    Long b = 10L;\r\n    \r\n    if (a == b) {\r\n        System.out.println(&quot;Wrapped primitives behave like values&quot;);\r\n    }\r\n\r\nTo contrast, putting the above two Longs into two separate ArrayLists, equals sees them as the same, but == doesn&#39;t.\r\n\r\n    ArrayList&lt;Long&gt; c = new ArrayList&lt;&gt;();\r\n    ArrayList&lt;Long&gt; d = new ArrayList&lt;&gt;();\r\n\r\n    c.add(a);\r\n    d.add(b);\r\n    if (c == d) System.out.println(&quot;No way!&quot;);\r\n    if (c.equals(d)) System.out.println(&quot;Yes, this is true.&quot;);","title":"What is the difference between == and equals() in Java?","body":"<p>It may be worth adding that for wrapper objects for primitive types - i.e. Int, Long, Double - == will return true if the two values are equal.</p>\n\n<pre><code>Long a = 10L;\nLong b = 10L;\n\nif (a == b) {\n    System.out.println(\"Wrapped primitives behave like values\");\n}\n</code></pre>\n\n<p>To contrast, putting the above two Longs into two separate ArrayLists, equals sees them as the same, but == doesn't.</p>\n\n<pre><code>ArrayList&lt;Long&gt; c = new ArrayList&lt;&gt;();\nArrayList&lt;Long&gt; d = new ArrayList&lt;&gt;();\n\nc.add(a);\nd.add(b);\nif (c == d) System.out.println(\"No way!\");\nif (c.equals(d)) System.out.println(\"Yes, this is true.\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1833620,"reputation":443,"user_id":1664424,"accept_rate":25,"display_name":"Dearwolves"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1418623512,"creation_date":1418623512,"answer_id":27478241,"question_id":7520432,"body_markdown":"`==` can be used in many object types but you can use `Object.equals` for any type , especially Strings and Google Map Markers.","title":"What is the difference between == and equals() in Java?","body":"<p><code>==</code> can be used in many object types but you can use <code>Object.equals</code> for any type , especially Strings and Google Map Markers.</p>\n"},{"tags":[],"owner":{"account_id":5345310,"reputation":1870,"user_id":4261022,"accept_rate":40,"display_name":"Mike Clark"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1600343393,"creation_date":1422878638,"answer_id":28277380,"question_id":7520432,"body_markdown":"Since Java doesn’t support operator overloading, `==` behaves identical\r\nfor every object but `equals()` is method, which can be overridden in\r\nJava and logic to compare objects can be changed based upon business\r\nrules.\r\n\r\nMain difference between `==` and equals in Java is that `&quot;==&quot;` is used to\r\ncompare primitives while `equals()` method is recommended to check\r\nequality of objects.\r\n\r\n**String comparison is a common scenario of using both `==` and `equals()` method.** Since java.lang.String class override equals method, It\r\nreturn true if two String object contains same content but `==` will\r\nonly return true if two references are pointing to same object.\r\n\r\n**Here is an example** of comparing two Strings in Java for equality using `==` and `equals()` method which will clear some doubts:\r\n\r\n   \r\n\r\n     public class TEstT{\r\n    \r\n        \tpublic static void main(String[] args) {\r\n        \t\t\r\n        String text1 = new String(&quot;apple&quot;);\r\n        String text2 = new String(&quot;apple&quot;);\r\n              \r\n        //since two strings are different object result should be false\r\n        boolean result = text1 == text2;\r\n        System.out.println(&quot;Comparing two strings with == operator: &quot; + result);\r\n              \r\n        //since strings contains same content , equals() should return true\r\n        result = text1.equals(text2);\r\n        System.out.println(&quot;Comparing two Strings with same content using equals method: &quot; + result);\r\n              \r\n        text2 = text1;\r\n        //since both text2 and text1d reference variable are pointing to same object\r\n        //&quot;==&quot; should return true\r\n        result = (text1 == text2);\r\n        System.out.println(&quot;Comparing two reference pointing to same String with == operator: &quot; + result);\r\n    \r\n        }\r\n        }","title":"What is the difference between == and equals() in Java?","body":"<p>Since Java doesn’t support operator overloading, <code>==</code> behaves identical\nfor every object but <code>equals()</code> is method, which can be overridden in\nJava and logic to compare objects can be changed based upon business\nrules.</p>\n<p>Main difference between <code>==</code> and equals in Java is that <code>&quot;==&quot;</code> is used to\ncompare primitives while <code>equals()</code> method is recommended to check\nequality of objects.</p>\n<p><strong>String comparison is a common scenario of using both <code>==</code> and <code>equals()</code> method.</strong> Since java.lang.String class override equals method, It\nreturn true if two String object contains same content but <code>==</code> will\nonly return true if two references are pointing to same object.</p>\n<p><strong>Here is an example</strong> of comparing two Strings in Java for equality using <code>==</code> and <code>equals()</code> method which will clear some doubts:</p>\n<pre><code> public class TEstT{\n\n        public static void main(String[] args) {\n            \n    String text1 = new String(&quot;apple&quot;);\n    String text2 = new String(&quot;apple&quot;);\n          \n    //since two strings are different object result should be false\n    boolean result = text1 == text2;\n    System.out.println(&quot;Comparing two strings with == operator: &quot; + result);\n          \n    //since strings contains same content , equals() should return true\n    result = text1.equals(text2);\n    System.out.println(&quot;Comparing two Strings with same content using equals method: &quot; + result);\n          \n    text2 = text1;\n    //since both text2 and text1d reference variable are pointing to same object\n    //&quot;==&quot; should return true\n    result = (text1 == text2);\n    System.out.println(&quot;Comparing two reference pointing to same String with == operator: &quot; + result);\n\n    }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5718353,"reputation":192,"user_id":4517706,"display_name":"bfs"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1427183878,"creation_date":1427177716,"answer_id":29226136,"question_id":7520432,"body_markdown":"Also note that `.equals()` normally contains `==` for testing as this is the first thing you would wish to test for if you wanted to test if two objects are equal. \r\n\r\nAnd `==` actually does look at values for primitive types, for objects it checks the reference.","title":"What is the difference between == and equals() in Java?","body":"<p>Also note that <code>.equals()</code> normally contains <code>==</code> for testing as this is the first thing you would wish to test for if you wanted to test if two objects are equal. </p>\n\n<p>And <code>==</code> actually does look at values for primitive types, for objects it checks the reference.</p>\n"},{"tags":[],"owner":{"account_id":7573271,"reputation":111,"user_id":5746371,"display_name":"Sachin Jadhav"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1454521685,"creation_date":1454521685,"answer_id":35184115,"question_id":7520432,"body_markdown":"== operator always reference is compared. But in case of \r\n\r\n&gt; equals() method\r\n\r\n it&#39;s depends&#39;s on implementation if we are overridden equals method than it compares object on basic of implementation given in overridden method. \r\n\r\n\r\n     class A\r\n     {\r\n       int id;\r\n       String str;\r\n\r\n         public A(int id,String str)\r\n         {\r\n           this.id=id;\r\n           this.str=str;\r\n         }\r\n\r\n        public static void main(String arg[])\r\n        {\r\n          A obj=new A(101,&quot;sam&quot;);\r\n          A obj1=new A(101,&quot;sam&quot;);\r\n\r\n          obj.equals(obj1)//fasle\r\n          obj==obj1 // fasle\r\n        }\r\n     }\r\n\r\n\r\nin above code both obj and obj1 object contains same data but reference is not same so equals return false and == also.\r\nbut if we overridden equals method than\r\n\r\n               \r\n     class A\r\n     {\r\n       int id;\r\n       String str;\r\n\r\n         public A(int id,String str)\r\n         {\r\n           this.id=id;\r\n           this.str=str;\r\n         }\r\n        public boolean equals(Object obj)\r\n        {\r\n           A a1=(A)obj;\r\n          return this.id==a1.id;\r\n        }\r\n\r\n        public static void main(String arg[])\r\n        {\r\n          A obj=new A(101,&quot;sam&quot;);\r\n          A obj1=new A(101,&quot;sam&quot;);\r\n\r\n          obj.equals(obj1)//true\r\n          obj==obj1 // fasle\r\n        }\r\n     }\r\n\r\nknow check out it will return true and false for same case only we overridden \r\n\r\n&gt; equals method .\r\n\r\nit compare object on basic of content(id) of object\r\n\r\n&gt; but ==\r\n\r\nstill compare references of object.","title":"What is the difference between == and equals() in Java?","body":"<p>== operator always reference is compared. But in case of </p>\n\n<blockquote>\n  <p>equals() method</p>\n</blockquote>\n\n<p>it's depends's on implementation if we are overridden equals method than it compares object on basic of implementation given in overridden method. </p>\n\n<pre><code> class A\n {\n   int id;\n   String str;\n\n     public A(int id,String str)\n     {\n       this.id=id;\n       this.str=str;\n     }\n\n    public static void main(String arg[])\n    {\n      A obj=new A(101,\"sam\");\n      A obj1=new A(101,\"sam\");\n\n      obj.equals(obj1)//fasle\n      obj==obj1 // fasle\n    }\n }\n</code></pre>\n\n<p>in above code both obj and obj1 object contains same data but reference is not same so equals return false and == also.\nbut if we overridden equals method than</p>\n\n<pre><code> class A\n {\n   int id;\n   String str;\n\n     public A(int id,String str)\n     {\n       this.id=id;\n       this.str=str;\n     }\n    public boolean equals(Object obj)\n    {\n       A a1=(A)obj;\n      return this.id==a1.id;\n    }\n\n    public static void main(String arg[])\n    {\n      A obj=new A(101,\"sam\");\n      A obj1=new A(101,\"sam\");\n\n      obj.equals(obj1)//true\n      obj==obj1 // fasle\n    }\n }\n</code></pre>\n\n<p>know check out it will return true and false for same case only we overridden </p>\n\n<blockquote>\n  <p>equals method .</p>\n</blockquote>\n\n<p>it compare object on basic of content(id) of object</p>\n\n<blockquote>\n  <p>but ==</p>\n</blockquote>\n\n<p>still compare references of object.</p>\n"},{"tags":[],"owner":{"account_id":481416,"reputation":355404,"user_id":895245,"accept_rate":49,"display_name":"Ciro Santilli OurBigBook.com"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1455492911,"creation_date":1455492911,"answer_id":35399386,"question_id":7520432,"body_markdown":"**The [String pool](https://stackoverflow.com/questions/2486191/what-is-the-java-string-pool-and-how-is-s-different-from-new-strings) (aka [interning](https://stackoverflow.com/questions/10578984/what-is-string-interning)) and [Integer pool](https://stackoverflow.com/questions/20877086/why-do-comparisons-with-integer-valueofstring-give-different-results-for-12)** blur the difference further, and may allow you to use `==` for objects in some cases instead of `.equals`\r\n\r\nThis can give you greater performance (?), at the cost of greater complexity.\r\n\r\nE.g.:\r\n\r\n    assert &quot;ab&quot; == &quot;a&quot; + &quot;b&quot;;\r\n\r\n    Integer i = 1;\r\n    Integer j = i;\r\n    assert i == j;\r\n\r\nComplexity tradeoff: the following may surprise you:\r\n\r\n    assert new String(&quot;a&quot;) != new String(&quot;a&quot;);\r\n\r\n    Integer i = 128;\r\n    Integer j = 128;\r\n    assert i != j;\r\n\r\nI advise you to stay away from such micro-optimization, and *always* use `.equals` for objects, and `==` for primitives:\r\n\r\n    assert (new String(&quot;a&quot;)).equals(new String(&quot;a&quot;));\r\n\r\n    Integer i = 128;\r\n    Integer j = 128;\r\n    assert i.equals(j);","title":"What is the difference between == and equals() in Java?","body":"<p><strong>The <a href=\"https://stackoverflow.com/questions/2486191/what-is-the-java-string-pool-and-how-is-s-different-from-new-strings\">String pool</a> (aka <a href=\"https://stackoverflow.com/questions/10578984/what-is-string-interning\">interning</a>) and <a href=\"https://stackoverflow.com/questions/20877086/why-do-comparisons-with-integer-valueofstring-give-different-results-for-12\">Integer pool</a></strong> blur the difference further, and may allow you to use <code>==</code> for objects in some cases instead of <code>.equals</code></p>\n\n<p>This can give you greater performance (?), at the cost of greater complexity.</p>\n\n<p>E.g.:</p>\n\n<pre><code>assert \"ab\" == \"a\" + \"b\";\n\nInteger i = 1;\nInteger j = i;\nassert i == j;\n</code></pre>\n\n<p>Complexity tradeoff: the following may surprise you:</p>\n\n<pre><code>assert new String(\"a\") != new String(\"a\");\n\nInteger i = 128;\nInteger j = 128;\nassert i != j;\n</code></pre>\n\n<p>I advise you to stay away from such micro-optimization, and <em>always</em> use <code>.equals</code> for objects, and <code>==</code> for primitives:</p>\n\n<pre><code>assert (new String(\"a\")).equals(new String(\"a\"));\n\nInteger i = 128;\nInteger j = 128;\nassert i.equals(j);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6435198,"reputation":154,"user_id":4986987,"display_name":"brt"},"score":0,"creation_date":1500828552,"post_id":36424446,"comment_id":77497891,"body_markdown":"Does the `mango == mango2` happen because you didn&#39;t create `mango2 `as a new String object, and instead just directly referenced `&quot;mango&quot;`?","body":"Does the <code>mango == mango2</code> happen because you didn&#39;t create <code>mango2 </code>as a new String object, and instead just directly referenced <code>&quot;mango&quot;</code>?"},{"owner":{"account_id":251954,"reputation":2395,"user_id":529664,"accept_rate":88,"display_name":"om252345"},"score":1,"creation_date":1529026523,"post_id":36424446,"comment_id":88738126,"body_markdown":"wrong example to use String to clear doubts on == and equals, String when not used with new are put into String Pool and whenever same string is assigned to new reference it points to same string in pool. So probably use some custom object example for == and .equals() comparison.","body":"wrong example to use String to clear doubts on == and equals, String when not used with new are put into String Pool and whenever same string is assigned to new reference it points to same string in pool. So probably use some custom object example for == and .equals() comparison."}],"tags":[],"owner":{"account_id":4615743,"reputation":2539,"user_id":3742333,"accept_rate":12,"display_name":"govindpatel"},"comment_count":2,"down_vote_count":3,"up_vote_count":57,"is_accepted":false,"score":54,"last_activity_date":1661345566,"creation_date":1459853734,"answer_id":36424446,"question_id":7520432,"body_markdown":"The difference between `==` and `equals` confused me for sometime until I decided to have a closer look at it.\r\nMany of them say that for comparing string you should use `equals` and not `==`. Hope in this answer I will be able to say the difference.\r\n\r\nThe best way to answer this question will be by asking a few questions to yourself. so let&#39;s start:\r\n\r\n**What is the output for the below program:**\r\n\r\n    String mango = &quot;mango&quot;;\r\n    String mango2 = &quot;mango&quot;;\r\n    System.out.println(mango != mango2);\r\n    System.out.println(mango == mango2);\r\n\r\nif you say, \r\n\r\n    false\r\n    true\r\n\r\nI will say you are *right* but **why did you say that**?\r\nand If you say the output is,\r\n\r\n    true\r\n    false\r\nI will say you are *wrong* but I will still ask you, why you think that is right?\r\n\r\nOk, Let&#39;s try to answer this one:\r\n\r\n**What is the output for the below program:**\r\n\r\n    String mango = &quot;mango&quot;;\r\n    String mango3 = new String(&quot;mango&quot;);\r\n    System.out.println(mango != mango3);\r\n    System.out.println(mango == mango3);\r\n\r\n\r\nNow If you say,\r\n\r\n    false\r\n    true\r\n\r\nI will say you are *wrong* but **why is it wrong now**?\r\nthe correct output for this program is\r\n\r\n    true\r\n    false\r\n\r\nPlease compare the above program and try to think about it.\r\n\r\nOk. Now this might help (please read this : [print the address of object][1] - not possible but still we can use it.)\r\n\r\n    String mango = &quot;mango&quot;;\r\n    String mango2 = &quot;mango&quot;;\r\n    String mango3 = new String(&quot;mango&quot;);\r\n    System.out.println(mango != mango2);\r\n    System.out.println(mango == mango2);\r\n    System.out.println(mango3 != mango2);\r\n    System.out.println(mango3 == mango2);\r\n    // mango2 = &quot;mang&quot;;\r\n    System.out.println(mango+&quot; &quot;+ mango2);\r\n    System.out.println(mango != mango2);\r\n    System.out.println(mango == mango2);\r\n     \r\n    System.out.println(System.identityHashCode(mango));\r\n    System.out.println(System.identityHashCode(mango2));\r\n    System.out.println(System.identityHashCode(mango3));\r\n\r\n\r\ncan you just try to think about the output of the last three lines in the code above:\r\nfor me ideone printed this out ([you can check the code here][2]):\r\n\r\n    false\r\n    true\r\n    true\r\n    false\r\n    mango mango\r\n    false\r\n    true\r\n    17225372\r\n    17225372\r\n    5433634\r\n\r\nOh! Now you see the **identityHashCode(mango) is equal to identityHashCode(mango2) But it is not equal to identityHashCode(mango3)**\r\n\r\n\r\nEven though all the string variables - mango, mango2 and mango3 - have the **same** value, which is &quot;mango&quot;, `identityHashCode()` is still not the same for all.\r\n\r\nNow try to uncomment this line `// mango2 = &quot;mang&quot;;` and run it again this time you will see all three `identityHashCode()` are different.\r\nHmm that is a helpful hint\r\n\r\nwe know that if `hashcode(x)=N` and `hashcode(y)=N` =&gt; `x is equal to y`\r\n\r\n\r\nI am not sure how java works internally but I assume this is what happened when I said:\r\n\r\n    mango = &quot;mango&quot;;\r\n\r\njava created a string `&quot;mango&quot;` which was pointed(referenced) by the variable `mango` something like this\r\n\r\n    mango ----&gt; &quot;mango&quot;\r\n\r\nNow in the next line when I said:\r\n\r\n    mango2 = &quot;mango&quot;;\r\nIt actually reused the same string `&quot;mango&quot;` which looks something like this\r\n\r\n    mango ----&gt; &quot;mango&quot; &lt;---- mango2\r\n\r\nBoth mango and mango2 pointing to the same reference\r\nNow when I said \r\n\r\n    mango3 = new String(&quot;mango&quot;)\r\nIt actually created a completely new reference(string) for &quot;mango&quot;. which looks something like this,\r\n\r\n    mango -----&gt; &quot;mango&quot; &lt;------ mango2\r\n    \r\n    mango3 ------&gt; &quot;mango&quot;\r\n\r\n\r\nand that&#39;s why when I put out the values for `mango == mango2`, it put out `true`. and when I put out the value for `mango3 == mango2`, it put out `false` (even when the values were the same).\r\n\r\nand when you uncommented the line `// mango2 = &quot;mang&quot;;`\r\nIt actually created a string &quot;mang&quot; which turned our graph like this:\r\n\r\n    mango ----&gt;&quot;mango&quot;\r\n    mango2 ----&gt; &quot;mang&quot;\r\n    mango3 -----&gt; &quot;mango&quot;\r\n\r\nThis is why the identityHashCode is not the same for all.\r\n\r\nHope this helps you guys.\r\nActually, I wanted to generate a test case where `==` fails and `equals()` pass.\r\nPlease feel free to comment and let me know If I am wrong.\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/18396927/how-to-print-the-address-of-an-object-if-you-have-redefined-tostring-method\r\n  [2]: https://ideone.com/JA6NgB","title":"What is the difference between == and equals() in Java?","body":"<p>The difference between <code>==</code> and <code>equals</code> confused me for sometime until I decided to have a closer look at it.\nMany of them say that for comparing string you should use <code>equals</code> and not <code>==</code>. Hope in this answer I will be able to say the difference.</p>\n<p>The best way to answer this question will be by asking a few questions to yourself. so let's start:</p>\n<p><strong>What is the output for the below program:</strong></p>\n<pre><code>String mango = &quot;mango&quot;;\nString mango2 = &quot;mango&quot;;\nSystem.out.println(mango != mango2);\nSystem.out.println(mango == mango2);\n</code></pre>\n<p>if you say,</p>\n<pre><code>false\ntrue\n</code></pre>\n<p>I will say you are <em>right</em> but <strong>why did you say that</strong>?\nand If you say the output is,</p>\n<pre><code>true\nfalse\n</code></pre>\n<p>I will say you are <em>wrong</em> but I will still ask you, why you think that is right?</p>\n<p>Ok, Let's try to answer this one:</p>\n<p><strong>What is the output for the below program:</strong></p>\n<pre><code>String mango = &quot;mango&quot;;\nString mango3 = new String(&quot;mango&quot;);\nSystem.out.println(mango != mango3);\nSystem.out.println(mango == mango3);\n</code></pre>\n<p>Now If you say,</p>\n<pre><code>false\ntrue\n</code></pre>\n<p>I will say you are <em>wrong</em> but <strong>why is it wrong now</strong>?\nthe correct output for this program is</p>\n<pre><code>true\nfalse\n</code></pre>\n<p>Please compare the above program and try to think about it.</p>\n<p>Ok. Now this might help (please read this : <a href=\"https://stackoverflow.com/questions/18396927/how-to-print-the-address-of-an-object-if-you-have-redefined-tostring-method\">print the address of object</a> - not possible but still we can use it.)</p>\n<pre><code>String mango = &quot;mango&quot;;\nString mango2 = &quot;mango&quot;;\nString mango3 = new String(&quot;mango&quot;);\nSystem.out.println(mango != mango2);\nSystem.out.println(mango == mango2);\nSystem.out.println(mango3 != mango2);\nSystem.out.println(mango3 == mango2);\n// mango2 = &quot;mang&quot;;\nSystem.out.println(mango+&quot; &quot;+ mango2);\nSystem.out.println(mango != mango2);\nSystem.out.println(mango == mango2);\n \nSystem.out.println(System.identityHashCode(mango));\nSystem.out.println(System.identityHashCode(mango2));\nSystem.out.println(System.identityHashCode(mango3));\n</code></pre>\n<p>can you just try to think about the output of the last three lines in the code above:\nfor me ideone printed this out (<a href=\"https://ideone.com/JA6NgB\" rel=\"nofollow noreferrer\">you can check the code here</a>):</p>\n<pre><code>false\ntrue\ntrue\nfalse\nmango mango\nfalse\ntrue\n17225372\n17225372\n5433634\n</code></pre>\n<p>Oh! Now you see the <strong>identityHashCode(mango) is equal to identityHashCode(mango2) But it is not equal to identityHashCode(mango3)</strong></p>\n<p>Even though all the string variables - mango, mango2 and mango3 - have the <strong>same</strong> value, which is &quot;mango&quot;, <code>identityHashCode()</code> is still not the same for all.</p>\n<p>Now try to uncomment this line <code>// mango2 = &quot;mang&quot;;</code> and run it again this time you will see all three <code>identityHashCode()</code> are different.\nHmm that is a helpful hint</p>\n<p>we know that if <code>hashcode(x)=N</code> and <code>hashcode(y)=N</code> =&gt; <code>x is equal to y</code></p>\n<p>I am not sure how java works internally but I assume this is what happened when I said:</p>\n<pre><code>mango = &quot;mango&quot;;\n</code></pre>\n<p>java created a string <code>&quot;mango&quot;</code> which was pointed(referenced) by the variable <code>mango</code> something like this</p>\n<pre><code>mango ----&gt; &quot;mango&quot;\n</code></pre>\n<p>Now in the next line when I said:</p>\n<pre><code>mango2 = &quot;mango&quot;;\n</code></pre>\n<p>It actually reused the same string <code>&quot;mango&quot;</code> which looks something like this</p>\n<pre><code>mango ----&gt; &quot;mango&quot; &lt;---- mango2\n</code></pre>\n<p>Both mango and mango2 pointing to the same reference\nNow when I said</p>\n<pre><code>mango3 = new String(&quot;mango&quot;)\n</code></pre>\n<p>It actually created a completely new reference(string) for &quot;mango&quot;. which looks something like this,</p>\n<pre><code>mango -----&gt; &quot;mango&quot; &lt;------ mango2\n\nmango3 ------&gt; &quot;mango&quot;\n</code></pre>\n<p>and that's why when I put out the values for <code>mango == mango2</code>, it put out <code>true</code>. and when I put out the value for <code>mango3 == mango2</code>, it put out <code>false</code> (even when the values were the same).</p>\n<p>and when you uncommented the line <code>// mango2 = &quot;mang&quot;;</code>\nIt actually created a string &quot;mang&quot; which turned our graph like this:</p>\n<pre><code>mango ----&gt;&quot;mango&quot;\nmango2 ----&gt; &quot;mang&quot;\nmango3 -----&gt; &quot;mango&quot;\n</code></pre>\n<p>This is why the identityHashCode is not the same for all.</p>\n<p>Hope this helps you guys.\nActually, I wanted to generate a test case where <code>==</code> fails and <code>equals()</code> pass.\nPlease feel free to comment and let me know If I am wrong.</p>\n"},{"tags":[],"owner":{"account_id":4564466,"reputation":64669,"user_id":3705840,"accept_rate":97,"display_name":"lmiguelvargasf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461705647,"creation_date":1461705647,"answer_id":36875991,"question_id":7520432,"body_markdown":"Basically, `==` compares if two objects have the same reference on the heap, so unless two references are linked to the same object, this comparison will be false.\r\n\r\n`equals()` is a method inherited from **`Object`** class. This method by default compares if two objects have the same referece. It means:\r\n\r\n`object1.equals(object2)` **&lt;=&gt;** `object1 == object2`\r\n\r\nHowever, if you want to establish equality between two objects of the same class you should override this method. It is also very important to override the method `hashCode()` if you have overriden `equals()`.\r\n\r\nImplement `hashCode()` when establishing equality is part of the Java Object Contract. If you are working with collections, and you haven&#39;t implemented `hashCode()`, Strange Bad Things could happen:\r\n\r\n    HashMap&lt;Cat, String&gt; cats = new HashMap&lt;&gt;();\r\n    Cat cat = new Cat(&quot;molly&quot;);\r\n    cats.put(cat, &quot;This is a cool cat&quot;);\r\n    System.out.println(cats.get(new Cat(&quot;molly&quot;));\r\n\r\n`null` will be printed after executing the previous code if you haven&#39;t implemented `hashCode()`.","title":"What is the difference between == and equals() in Java?","body":"<p>Basically, <code>==</code> compares if two objects have the same reference on the heap, so unless two references are linked to the same object, this comparison will be false.</p>\n\n<p><code>equals()</code> is a method inherited from <strong><code>Object</code></strong> class. This method by default compares if two objects have the same referece. It means:</p>\n\n<p><code>object1.equals(object2)</code> <strong>&lt;=></strong> <code>object1 == object2</code></p>\n\n<p>However, if you want to establish equality between two objects of the same class you should override this method. It is also very important to override the method <code>hashCode()</code> if you have overriden <code>equals()</code>.</p>\n\n<p>Implement <code>hashCode()</code> when establishing equality is part of the Java Object Contract. If you are working with collections, and you haven't implemented <code>hashCode()</code>, Strange Bad Things could happen:</p>\n\n<pre><code>HashMap&lt;Cat, String&gt; cats = new HashMap&lt;&gt;();\nCat cat = new Cat(\"molly\");\ncats.put(cat, \"This is a cool cat\");\nSystem.out.println(cats.get(new Cat(\"molly\"));\n</code></pre>\n\n<p><code>null</code> will be printed after executing the previous code if you haven't implemented <code>hashCode()</code>.</p>\n"},{"comments":[{"owner":{"account_id":5646235,"reputation":357,"user_id":4468237,"accept_rate":73,"display_name":"Johnathan Logan"},"score":1,"creation_date":1491971970,"post_id":38853906,"comment_id":73783009,"body_markdown":"Wrong.  if(foo==bar) this should be true not false. It will reused the same string &quot;adc&quot;. Test it in a sandbox, it will return true for both.","body":"Wrong.  if(foo==bar) this should be true not false. It will reused the same string &quot;adc&quot;. Test it in a sandbox, it will return true for both."},{"owner":{"account_id":8388407,"reputation":119,"user_id":6297979,"display_name":"K. hervey"},"score":0,"creation_date":1620154437,"post_id":38853906,"comment_id":119115844,"body_markdown":"Your answer is only valid for String objects and because String overrides equals to return true if the &quot;represents the same sequence of characters&quot;.\n\nhttps://docs.oracle.com/javase/7/docs/api/java/lang/String.html\n\nFor the general case of the original question, your answer is either wrong, misleading, or incorrect","body":"Your answer is only valid for String objects and because String overrides equals to return true if the &quot;represents the same sequence of characters&quot;.  <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/lang/String.html</a>  For the general case of the original question, your answer is either wrong, misleading, or incorrect"}],"tags":[],"owner":{"account_id":1468909,"reputation":4795,"user_id":1380968,"display_name":"Mohan"},"comment_count":2,"down_vote_count":1,"up_vote_count":35,"is_accepted":false,"score":34,"last_activity_date":1681373062,"creation_date":1470753798,"answer_id":38853906,"question_id":7520432,"body_markdown":"&gt; The **==** operator tests whether two variables have the **same references\r\n&gt; (aka pointer to a memory address)**.\r\n\r\n    String foo = new String(&quot;abc&quot;);\r\n    String bar = new String(&quot;abc&quot;);\r\n    \r\n    if(foo==bar)\r\n    // False (objects are identical but not same)\r\n    \r\n    bar = foo;\r\n    \r\n    if(foo==bar)\r\n    // True (Now, objects are identical and same)\r\n\r\n&gt; \r\n&gt; Whereas the **equals()** method tests whether two variables refer to objects\r\n&gt; that have the **same state (values)**.\r\n\r\n    String foo = new String(&quot;abc&quot;);\r\n    String bar = new String(&quot;abc&quot;);\r\n    \r\n    if(foo.equals(bar))\r\n    // True (The objects are identical but not same)\r\n    ","title":"What is the difference between == and equals() in Java?","body":"<blockquote>\n<p>The <strong>==</strong> operator tests whether two variables have the <strong>same references\n(aka pointer to a memory address)</strong>.</p>\n</blockquote>\n<pre><code>String foo = new String(&quot;abc&quot;);\nString bar = new String(&quot;abc&quot;);\n\nif(foo==bar)\n// False (objects are identical but not same)\n\nbar = foo;\n\nif(foo==bar)\n// True (Now, objects are identical and same)\n</code></pre>\n<blockquote>\n<p>Whereas the <strong>equals()</strong> method tests whether two variables refer to objects\nthat have the <strong>same state (values)</strong>.</p>\n</blockquote>\n<pre><code>String foo = new String(&quot;abc&quot;);\nString bar = new String(&quot;abc&quot;);\n\nif(foo.equals(bar))\n// True (The objects are identical but not same)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8042951,"reputation":1675,"user_id":6064025,"display_name":"Aamir M Meman"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1479546628,"creation_date":1479546628,"answer_id":40691102,"question_id":7520432,"body_markdown":"\r\n    public class StringPool {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n        String s1 = &quot;Cat&quot;;// will create reference in string pool of heap memory\r\n\t\tString s2 = &quot;Cat&quot;;\r\n\t\tString s3 = new String(&quot;Cat&quot;);//will create a object in heap memory\r\n\r\n\t\t// Using == will give us true because same reference in string pool\r\n\r\n\t\tif (s1 == s2) {\r\n\t\t\tSystem.out.println(&quot;true&quot;);\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;false&quot;);\r\n\t\t}\r\n\r\n\t\t// Using == with reference and Object will give us False\r\n\r\n\t\tif (s1 == s3) {\r\n\t\t\tSystem.out.println(&quot;true&quot;);\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;false&quot;);\r\n\t\t}\r\n\r\n\t\t// Using .equals method which refers to value\r\n\r\n\t\tif (s1.equals(s3)) {\r\n\t\t\tSystem.out.println(&quot;true&quot;);\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;False&quot;);\r\n\t\t}\r\n\r\n\t    }\r\n      }\r\n\r\n\r\n   ----Output-----\r\n   true\r\n   false\r\n   true\r\n   \r\n   ","title":"What is the difference between == and equals() in Java?","body":"<pre><code>public class StringPool {\n\npublic static void main(String[] args) {\n\n    String s1 = \"Cat\";// will create reference in string pool of heap memory\n    String s2 = \"Cat\";\n    String s3 = new String(\"Cat\");//will create a object in heap memory\n\n    // Using == will give us true because same reference in string pool\n\n    if (s1 == s2) {\n        System.out.println(\"true\");\n    } else {\n        System.out.println(\"false\");\n    }\n\n    // Using == with reference and Object will give us False\n\n    if (s1 == s3) {\n        System.out.println(\"true\");\n    } else {\n        System.out.println(\"false\");\n    }\n\n    // Using .equals method which refers to value\n\n    if (s1.equals(s3)) {\n        System.out.println(\"true\");\n    } else {\n        System.out.println(\"False\");\n    }\n\n    }\n  }\n</code></pre>\n\n<p>----Output-----\n   true\n   false\n   true</p>\n"},{"comments":[{"owner":{"account_id":5173763,"reputation":955,"user_id":4141569,"accept_rate":32,"display_name":"Sritam Jagadev"},"score":0,"creation_date":1511003322,"post_id":41554158,"comment_id":81683441,"body_markdown":"Simple and best explanation","body":"Simple and best explanation"}],"tags":[],"owner":{"account_id":9590996,"reputation":5786,"user_id":7121889,"display_name":"Sarat Chandra"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1483985173,"creation_date":1483985173,"answer_id":41554158,"question_id":7520432,"body_markdown":"     String w1 =&quot;Sarat&quot;;\r\n     String w2 =&quot;Sarat&quot;;\r\n     String w3 = new String(&quot;Sarat&quot;);\r\n     \r\n     System.out.println(w1.hashCode());   //3254818\r\n     System.out.println(w2.hashCode());   //3254818\r\n     System.out.println(w3.hashCode());   //3254818\r\n     \r\n     System.out.println(System.identityHashCode(w1)); //prints 705927765\r\n     System.out.println(System.identityHashCode(w2)); //prints 705927765\r\n     System.out.println(System.identityHashCode(w3)); //prints 366712642\r\n    \r\n     \r\n     if(w1==w2)   //  (705927765==705927765)\r\n     {\r\n       System.out.println(&quot;true&quot;);\r\n     }\r\n     else\r\n     {\r\n       System.out.println(&quot;false&quot;);\r\n     }\r\n     //prints true\r\n    \r\n     if(w2==w3)   //  (705927765==366712642)\r\n     {\r\n       System.out.println(&quot;true&quot;);\r\n     }\r\n     else\r\n     {\r\n       System.out.println(&quot;false&quot;);\r\n     }\r\n     //prints false\r\n    \r\n     \r\n     if(w2.equals(w3))   //  (Content of 705927765== Content of 366712642)\r\n     {\r\n       System.out.println(&quot;true&quot;);\r\n     }\r\n     else\r\n     {\r\n       System.out.println(&quot;false&quot;);\r\n     }\r\n     //prints true\r\n\r\n","title":"What is the difference between == and equals() in Java?","body":"<pre><code> String w1 =\"Sarat\";\n String w2 =\"Sarat\";\n String w3 = new String(\"Sarat\");\n\n System.out.println(w1.hashCode());   //3254818\n System.out.println(w2.hashCode());   //3254818\n System.out.println(w3.hashCode());   //3254818\n\n System.out.println(System.identityHashCode(w1)); //prints 705927765\n System.out.println(System.identityHashCode(w2)); //prints 705927765\n System.out.println(System.identityHashCode(w3)); //prints 366712642\n\n\n if(w1==w2)   //  (705927765==705927765)\n {\n   System.out.println(\"true\");\n }\n else\n {\n   System.out.println(\"false\");\n }\n //prints true\n\n if(w2==w3)   //  (705927765==366712642)\n {\n   System.out.println(\"true\");\n }\n else\n {\n   System.out.println(\"false\");\n }\n //prints false\n\n\n if(w2.equals(w3))   //  (Content of 705927765== Content of 366712642)\n {\n   System.out.println(\"true\");\n }\n else\n {\n   System.out.println(\"false\");\n }\n //prints true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5333573,"reputation":1377,"user_id":4253424,"display_name":"huseyin"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1500730315,"creation_date":1500730315,"answer_id":45255137,"question_id":7520432,"body_markdown":"When you evaluate the code, it is very clear that (==) compares according to memory address, while equals(Object o)  compares hashCode() of the instances. \r\nThat&#39;s why it is said do not break the contract between equals() and  hashCode() if you do not face surprises later. \r\n\r\n   \r\n\r\n   \r\n\r\n        String s1 = new String(&quot;Ali&quot;);\r\n        String s2 = new String(&quot;Veli&quot;);\r\n        String s3 = new String(&quot;Ali&quot;);\r\n    \r\n        System.out.println(s1.hashCode());\r\n        System.out.println(s2.hashCode());\r\n        System.out.println(s3.hashCode());\r\n    \r\n    \r\n        System.out.println(&quot;(s1==s2):&quot; + (s1 == s2));\r\n        System.out.println(&quot;(s1==s3):&quot; + (s1 == s3));\r\n    \r\n    \r\n        System.out.println(&quot;s1.equals(s2):&quot; + (s1.equals(s2)));\r\n        System.out.println(&quot;s1.equal(s3):&quot; + (s1.equals(s3)));\r\n    \r\n    \r\n        /*Output \r\n        96670     \r\n        3615852\r\n        96670\r\n        (s1==s2):false\r\n        (s1==s3):false\r\n        s1.equals(s2):false\r\n        s1.equal(s3):true\r\n        */\r\n\r\n\r\n\r\n","title":"What is the difference between == and equals() in Java?","body":"<p>When you evaluate the code, it is very clear that (==) compares according to memory address, while equals(Object o)  compares hashCode() of the instances. \nThat's why it is said do not break the contract between equals() and  hashCode() if you do not face surprises later. </p>\n\n<pre><code>    String s1 = new String(\"Ali\");\n    String s2 = new String(\"Veli\");\n    String s3 = new String(\"Ali\");\n\n    System.out.println(s1.hashCode());\n    System.out.println(s2.hashCode());\n    System.out.println(s3.hashCode());\n\n\n    System.out.println(\"(s1==s2):\" + (s1 == s2));\n    System.out.println(\"(s1==s3):\" + (s1 == s3));\n\n\n    System.out.println(\"s1.equals(s2):\" + (s1.equals(s2)));\n    System.out.println(\"s1.equal(s3):\" + (s1.equals(s3)));\n\n\n    /*Output \n    96670     \n    3615852\n    96670\n    (s1==s2):false\n    (s1==s3):false\n    s1.equals(s2):false\n    s1.equal(s3):true\n    */\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11795821,"reputation":129,"user_id":8630563,"display_name":"Ravi Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1506151985,"creation_date":1506150532,"answer_id":46377018,"question_id":7520432,"body_markdown":"The major difference between == and equals() is\r\n\r\n   1) == is used to compare primitives.\r\n\r\nFor example : \r\n\r\n\t\t\tString string1 = &quot;Ravi&quot;;\r\n\t\t\tString string2 = &quot;Ravi&quot;;\r\n\t\t\tString string3 = new String(&quot;Ravi&quot;);\r\n\t\t\tString string4 = new String(&quot;Prakash&quot;);\r\n\t\t\t\r\n\t\t\tSystem.out.println(string1 == string2); // true because same reference in string pool\r\n\t\t\tSystem.out.println(string1 == string3); // false\r\n\t\t\t\r\n2) equals() is used to compare objects.\r\nFor example :\r\n\r\n\t\t\tSystem.out.println(string1.equals(string2)); // true equals() comparison of values in the objects\r\n\t\t\tSystem.out.println(string1.equals(string3)); // true\r\n\t\t\tSystem.out.println(string1.equals(string4)); // false","title":"What is the difference between == and equals() in Java?","body":"<p>The major difference between == and equals() is</p>\n\n<p>1) == is used to compare primitives.</p>\n\n<p>For example : </p>\n\n<pre><code>        String string1 = \"Ravi\";\n        String string2 = \"Ravi\";\n        String string3 = new String(\"Ravi\");\n        String string4 = new String(\"Prakash\");\n\n        System.out.println(string1 == string2); // true because same reference in string pool\n        System.out.println(string1 == string3); // false\n</code></pre>\n\n<p>2) equals() is used to compare objects.\nFor example :</p>\n\n<pre><code>        System.out.println(string1.equals(string2)); // true equals() comparison of values in the objects\n        System.out.println(string1.equals(string3)); // true\n        System.out.println(string1.equals(string4)); // false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14605866,"reputation":41,"user_id":10548773,"display_name":"JamesOstmann"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1545114195,"creation_date":1540393972,"answer_id":52972484,"question_id":7520432,"body_markdown":"In short, the answer is &quot;Yes&quot;.\r\n\r\nIn Java, the `==` operator compares the two objects to see if they point to the same memory location; while the `.equals()` method actually compares the two objects to see if they have the same object value.","title":"What is the difference between == and equals() in Java?","body":"<p>In short, the answer is \"Yes\".</p>\n\n<p>In Java, the <code>==</code> operator compares the two objects to see if they point to the same memory location; while the <code>.equals()</code> method actually compares the two objects to see if they have the same object value.</p>\n"},{"tags":[],"owner":{"account_id":4610588,"reputation":4137,"user_id":3738831,"accept_rate":50,"display_name":"Tadele Ayelegn"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1560405138,"creation_date":1560405138,"answer_id":56574119,"question_id":7520432,"body_markdown":"*Here is a general thumb of rule for the difference between **`relational operator ==`** and **`the method .equals()`**.*\n\n  `object1 == object2` compares if the objects referenced by object1 and object2 refer to t**he same memory location in Heap**.\n\n`object1.equals(object2)` compares **the values of object1 and object2 regardless of where they are located in memory**. \n\nThis can be demonstrated well using String\n\n\n**Scenario 1**\n  \n\n     public class Conditionals {\n    \n        public static void main(String[] args) {\n           String str1 = &quot;Hello&quot;;\n           String str2 = new String(&quot;Hello&quot;);\n           System.out.println(&quot;is str1 == str2 ? &quot; + (str1 == str2 ));\n           System.out.println(&quot;is str1.equals(str2) ? &quot; + (str1.equals(str2 )));\n        }\n    \n     }\n\n   \n\n    The result is\n          is str1 == str2 ? false\n          is str1.equals(str2) ? true \n\n**Scenario 2** \n\n    public class Conditionals {\n    \n        public static void main(String[] args) {\n           String str1 = &quot;Hello&quot;;\n           String str2 = &quot;Hello&quot;;\n           System.out.println(&quot;is str1 == str2 ? &quot; + (str1 == str2 ));\n           System.out.println(&quot;is str1.equals(str2) ? &quot; + (str1.equals(str2 )));\n        }\n    \n    }\n\n    The result is \n      is str1 == str2 ? true\n      is str1.equals(str2) ? true\n\nThis string comparison could be used as a basis for comparing other types of object. \n\nFor instance if I have **a Person class**, I need to define the **criteria base on which I will compare  two persons**. Let&#39;s say this person class has **instance variables of height and weight.**\n\nSo creating person objects `person1 and person2` and for comparing these two using the `.equals()` I need to override the **equals method of the person class** to define based on which instance variables(heigh or weight) the comparison will be.\n\nHowever, the `== operator will still return results based on the memory location of the two objects(person1 and person2)`.  \n\nFor ease of generalizing this person object comparison, I have created the following test class. **Experimenting on these concepts will reveal tons of facts**.\n\n    package com.tadtab.CS5044;\n\n    public class Person {\n    \n    private double height;\n    private double weight;\n   \n    public double getHeight() {\n        return height;\n    }\n\n    public void setHeight(double height) {\n        this.height = height;\n    }\n\n    public double getWeight() {\n        return weight;\n    }\n\n    public void setWeight(double weight) {\n        this.weight = weight;\n    }\n    \n    \n    @Override\n    public int hashCode() {\n        final int prime = 31;\n        int result = 1;\n        long temp;\n        temp = Double.doubleToLongBits(height);\n        result = prime * result + (int) (temp ^ (temp &gt;&gt;&gt; 32));\n        return result;\n    }\n\n    @Override\n    /**\n     * This method uses the height as a means of comparing person objects.\n     * NOTE: weight is not part of the comparison criteria\n     */\n    public boolean equals(Object obj) {\n        if (this == obj)\n            return true;\n        if (obj == null)\n            return false;\n        if (getClass() != obj.getClass())\n            return false;\n        Person other = (Person) obj;\n        if (Double.doubleToLongBits(height) != Double.doubleToLongBits(other.height))\n            return false;\n        return true;\n    }\n    \n    public static void main(String[] args) {\n        \n        Person person1 = new Person();\n        person1.setHeight(5.50);\n        person1.setWeight(140.00);\n        \n        Person person2 = new Person();\n        person2.setHeight(5.70);\n        person2.setWeight(160.00);\n        \n        Person person3 = new Person();\n        person3 = person2;\n        \n        Person person4 = new Person();\n        person4.setHeight(5.70);\n        \n        Person person5 = new Person();\n        person5.setWeight(160.00);\n        \n        System.out.println(&quot;is person1 == person2 ? &quot; + (person1 == person2)); // false;\n        System.out.println(&quot;is person2 == person3 ? &quot; + (person2 == person3)); // true \n        //this is because perosn3 and person to refer to the one person object in memory. They are aliases;\n        System.out.println(&quot;is person2.equals(person3) ? &quot; + (person2.equals(person3))); // true;\n        \n        System.out.println(&quot;is person2.equals(person4) ? &quot; + (person2.equals(person4))); // true;\n        \n        // even if the person2 and person5 have the same weight, they are not equal.\n        // it is because their height is different\n        System.out.println(&quot;is person2.equals(person4) ? &quot; + (person2.equals(person5))); // false;\n    }\n    \n    }\n\n\nResult of this class execution is: \n\n \n\n    is person1 == person2 ? false\n    is person2 == person3 ? true\n    is person2.equals(person3) ? true\n    is person2.equals(person4) ? true\n    is person2.equals(person4) ? false\n\n  \n","title":"What is the difference between == and equals() in Java?","body":"<p><em>Here is a general thumb of rule for the difference between <strong><code>relational operator ==</code></strong> and <strong><code>the method .equals()</code></strong>.</em></p>\n<p><code>object1 == object2</code> compares if the objects referenced by object1 and object2 refer to t<strong>he same memory location in Heap</strong>.</p>\n<p><code>object1.equals(object2)</code> compares <strong>the values of object1 and object2 regardless of where they are located in memory</strong>.</p>\n<p>This can be demonstrated well using String</p>\n<p><strong>Scenario 1</strong></p>\n<pre><code> public class Conditionals {\n\n    public static void main(String[] args) {\n       String str1 = &quot;Hello&quot;;\n       String str2 = new String(&quot;Hello&quot;);\n       System.out.println(&quot;is str1 == str2 ? &quot; + (str1 == str2 ));\n       System.out.println(&quot;is str1.equals(str2) ? &quot; + (str1.equals(str2 )));\n    }\n\n }\n\n\n\nThe result is\n      is str1 == str2 ? false\n      is str1.equals(str2) ? true \n</code></pre>\n<p><strong>Scenario 2</strong></p>\n<pre><code>public class Conditionals {\n\n    public static void main(String[] args) {\n       String str1 = &quot;Hello&quot;;\n       String str2 = &quot;Hello&quot;;\n       System.out.println(&quot;is str1 == str2 ? &quot; + (str1 == str2 ));\n       System.out.println(&quot;is str1.equals(str2) ? &quot; + (str1.equals(str2 )));\n    }\n\n}\n\nThe result is \n  is str1 == str2 ? true\n  is str1.equals(str2) ? true\n</code></pre>\n<p>This string comparison could be used as a basis for comparing other types of object.</p>\n<p>For instance if I have <strong>a Person class</strong>, I need to define the <strong>criteria base on which I will compare  two persons</strong>. Let's say this person class has <strong>instance variables of height and weight.</strong></p>\n<p>So creating person objects <code>person1 and person2</code> and for comparing these two using the <code>.equals()</code> I need to override the <strong>equals method of the person class</strong> to define based on which instance variables(heigh or weight) the comparison will be.</p>\n<p>However, the <code>== operator will still return results based on the memory location of the two objects(person1 and person2)</code>.</p>\n<p>For ease of generalizing this person object comparison, I have created the following test class. <strong>Experimenting on these concepts will reveal tons of facts</strong>.</p>\n<pre><code>package com.tadtab.CS5044;\n\npublic class Person {\n\nprivate double height;\nprivate double weight;\n\npublic double getHeight() {\n    return height;\n}\n\npublic void setHeight(double height) {\n    this.height = height;\n}\n\npublic double getWeight() {\n    return weight;\n}\n\npublic void setWeight(double weight) {\n    this.weight = weight;\n}\n\n\n@Override\npublic int hashCode() {\n    final int prime = 31;\n    int result = 1;\n    long temp;\n    temp = Double.doubleToLongBits(height);\n    result = prime * result + (int) (temp ^ (temp &gt;&gt;&gt; 32));\n    return result;\n}\n\n@Override\n/**\n * This method uses the height as a means of comparing person objects.\n * NOTE: weight is not part of the comparison criteria\n */\npublic boolean equals(Object obj) {\n    if (this == obj)\n        return true;\n    if (obj == null)\n        return false;\n    if (getClass() != obj.getClass())\n        return false;\n    Person other = (Person) obj;\n    if (Double.doubleToLongBits(height) != Double.doubleToLongBits(other.height))\n        return false;\n    return true;\n}\n\npublic static void main(String[] args) {\n    \n    Person person1 = new Person();\n    person1.setHeight(5.50);\n    person1.setWeight(140.00);\n    \n    Person person2 = new Person();\n    person2.setHeight(5.70);\n    person2.setWeight(160.00);\n    \n    Person person3 = new Person();\n    person3 = person2;\n    \n    Person person4 = new Person();\n    person4.setHeight(5.70);\n    \n    Person person5 = new Person();\n    person5.setWeight(160.00);\n    \n    System.out.println(&quot;is person1 == person2 ? &quot; + (person1 == person2)); // false;\n    System.out.println(&quot;is person2 == person3 ? &quot; + (person2 == person3)); // true \n    //this is because perosn3 and person to refer to the one person object in memory. They are aliases;\n    System.out.println(&quot;is person2.equals(person3) ? &quot; + (person2.equals(person3))); // true;\n    \n    System.out.println(&quot;is person2.equals(person4) ? &quot; + (person2.equals(person4))); // true;\n    \n    // even if the person2 and person5 have the same weight, they are not equal.\n    // it is because their height is different\n    System.out.println(&quot;is person2.equals(person4) ? &quot; + (person2.equals(person5))); // false;\n}\n\n}\n</code></pre>\n<p>Result of this class execution is:</p>\n<pre><code>is person1 == person2 ? false\nis person2 == person3 ? true\nis person2.equals(person3) ? true\nis person2.equals(person4) ? true\nis person2.equals(person4) ? false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2311112,"reputation":400,"user_id":2029217,"display_name":"Steve White"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592147672,"creation_date":1592147672,"answer_id":62374419,"question_id":7520432,"body_markdown":"It is the difference between _identity_ and _equivalence_.\r\n\r\n`a == b` means that a and b are _identical_, that is, they are symbols for very same object in memory.\r\n\r\n`a.equals( b )` means that they are _equivalent_, that they are symbols for objects that in some sense have the same value -- although those objects may occupy different places in memory.\r\n\r\nNote that with equivalence, the question of how to evaluate and compare objects comes into play -- complex objects may be regarded as equivalent for practical purposes even though some of their contents differ.  With identity, there is no such question.","title":"What is the difference between == and equals() in Java?","body":"<p>It is the difference between <em>identity</em> and <em>equivalence</em>.</p>\n\n<p><code>a == b</code> means that a and b are <em>identical</em>, that is, they are symbols for very same object in memory.</p>\n\n<p><code>a.equals( b )</code> means that they are <em>equivalent</em>, that they are symbols for objects that in some sense have the same value -- although those objects may occupy different places in memory.</p>\n\n<p>Note that with equivalence, the question of how to evaluate and compare objects comes into play -- complex objects may be regarded as equivalent for practical purposes even though some of their contents differ.  With identity, there is no such question.</p>\n"},{"tags":[],"owner":{"account_id":13261077,"reputation":2382,"user_id":9575631,"display_name":"Ousama"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623085112,"creation_date":1623085112,"answer_id":67875828,"question_id":7520432,"body_markdown":"In simple words, `==` checks if both objects point to the same memory location whereas `.equals()` evaluates to the comparison of values in the objects.","title":"What is the difference between == and equals() in Java?","body":"<p>In simple words, <code>==</code> checks if both objects point to the same memory location whereas <code>.equals()</code> evaluates to the comparison of values in the objects.</p>\n"},{"tags":[],"owner":{"account_id":2981004,"reputation":2454,"user_id":2530951,"accept_rate":50,"display_name":"pathe.kiran"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1623935826,"creation_date":1623930839,"answer_id":68018820,"question_id":7520432,"body_markdown":"Example 1 - \r\n\r\nBoth == and .equals methods are there for reference comparison only. It means whether both objects are referring to same object or not.\r\n\r\n[Object class equals method implementation][1]\r\n\r\n```\r\npublic class HelloWorld{\r\n     public static void main(String []args){\r\n       Object ob1 = new Object();\r\n       Object ob2 = ob1;\r\n       System.out.println(ob1 == ob2); // true\r\n       System.out.println(ob1.equals(ob2)); // true\r\n     }    \r\n}\r\n```\r\n[![enter image description here][2]][2]\r\n\r\nExample 2 -\r\n\r\nBut if we wants to compare objects content using equals method then class has to override object&#39;s class equals() method and provide implementation for content comparison. Here, String class has overrided equals method for content comparison. All wrapper classes have overrided equals method for content comparison.\r\n\r\n[String class equals method implementation][3]\r\n\r\n```\r\npublic class HelloWorld{\r\n     public static void main(String []args){\r\n       String ob1 = new String(&quot;Hi&quot;);\r\n       String ob2 = new String(&quot;Hi&quot;);\r\n       System.out.println(ob1 == ob2); // false (Both references are referring two different objects)\r\n       System.out.println(ob1.equals(ob2)); // true\r\n     }\r\n}\r\n```\r\n[![enter image description here][4]][4]\r\n\r\nExample 3 -\r\n\r\nIn case of String, there is one more usecase. Here when we assign any string to  String reference then string constant is created inside **String constant pool**. If we assign same string to new String reference then no new string constant is created rather it will refer to existing string constant.\r\n\r\n```\r\npublic class HelloWorld{\r\n     public static void main(String []args){\r\n       String ob1 = &quot;Hi&quot;;\r\n       String ob2 = &quot;Hi&quot;;\r\n       System.out.println(ob1 == ob2); // true\r\n       System.out.println(ob1.equals(ob2)); // true\r\n     }\r\n}\r\n```\r\n[![enter image description here][5]][5]\r\n\r\nNote that it is generally necessary to override the hashCode method whenever this method is overridden, so as to maintain the general contract for the hashCode method, which states that equal objects must have equal hash codes.\r\n\r\n[Java API equals() method contract][6]\r\n\r\n\r\n  [1]: http://hg.openjdk.java.net/jdk7/jdk7/jdk/file/tip/src/share/classes/java/lang/Object.java#l149\r\n  [2]: https://i.stack.imgur.com/Nbha6.png\r\n  [3]: https://hg.openjdk.java.net/jdk7u/jdk7u6/jdk/file/8c2c5d63a17e/src/share/classes/java/lang/String.java#l974\r\n  [4]: https://i.stack.imgur.com/HPVXk.png\r\n  [5]: https://i.stack.imgur.com/wIglp.png\r\n  [6]: https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#equals(java.lang.Object)","title":"What is the difference between == and equals() in Java?","body":"<p>Example 1 -</p>\n<p>Both == and .equals methods are there for reference comparison only. It means whether both objects are referring to same object or not.</p>\n<p><a href=\"http://hg.openjdk.java.net/jdk7/jdk7/jdk/file/tip/src/share/classes/java/lang/Object.java#l149\" rel=\"nofollow noreferrer\">Object class equals method implementation</a></p>\n<pre><code>public class HelloWorld{\n     public static void main(String []args){\n       Object ob1 = new Object();\n       Object ob2 = ob1;\n       System.out.println(ob1 == ob2); // true\n       System.out.println(ob1.equals(ob2)); // true\n     }    \n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Nbha6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Nbha6.png\" alt=\"enter image description here\" /></a></p>\n<p>Example 2 -</p>\n<p>But if we wants to compare objects content using equals method then class has to override object's class equals() method and provide implementation for content comparison. Here, String class has overrided equals method for content comparison. All wrapper classes have overrided equals method for content comparison.</p>\n<p><a href=\"https://hg.openjdk.java.net/jdk7u/jdk7u6/jdk/file/8c2c5d63a17e/src/share/classes/java/lang/String.java#l974\" rel=\"nofollow noreferrer\">String class equals method implementation</a></p>\n<pre><code>public class HelloWorld{\n     public static void main(String []args){\n       String ob1 = new String(&quot;Hi&quot;);\n       String ob2 = new String(&quot;Hi&quot;);\n       System.out.println(ob1 == ob2); // false (Both references are referring two different objects)\n       System.out.println(ob1.equals(ob2)); // true\n     }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/HPVXk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HPVXk.png\" alt=\"enter image description here\" /></a></p>\n<p>Example 3 -</p>\n<p>In case of String, there is one more usecase. Here when we assign any string to  String reference then string constant is created inside <strong>String constant pool</strong>. If we assign same string to new String reference then no new string constant is created rather it will refer to existing string constant.</p>\n<pre><code>public class HelloWorld{\n     public static void main(String []args){\n       String ob1 = &quot;Hi&quot;;\n       String ob2 = &quot;Hi&quot;;\n       System.out.println(ob1 == ob2); // true\n       System.out.println(ob1.equals(ob2)); // true\n     }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/wIglp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wIglp.png\" alt=\"enter image description here\" /></a></p>\n<p>Note that it is generally necessary to override the hashCode method whenever this method is overridden, so as to maintain the general contract for the hashCode method, which states that equal objects must have equal hash codes.</p>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\">Java API equals() method contract</a></p>\n"},{"tags":[],"owner":{"account_id":14399380,"reputation":245,"user_id":10401602,"display_name":"Md. Samim hossain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653675148,"creation_date":1653675148,"answer_id":72409519,"question_id":7520432,"body_markdown":"equals() method mainly compares the original content of the object.\r\n\r\nIf we Write\r\n\r\n        String s1 = &quot;Samim&quot;;\r\n        String s2 = &quot;Samim&quot;;\r\n        String s3 = new String(&quot;Samim&quot;);\r\n        String s4 = new String(&quot;Samim&quot;);\r\n\r\n        System.out.println(s1.equals(s2));\r\n        System.out.println(s2.equals(s3));\r\n        System.out.println(s3.equals(s4));\r\nThe output will be \r\n\r\n    true \r\n    true \r\n    true\r\n\r\nBecause equals() method compare the content of the object.\r\n in first System.out.println() the content of s1 and s2 is same that&#39;s why it print true.\r\nAnd it is same for others two System.out.println() is true.\r\n\r\nAgain ,\r\n\r\n        String s1 = &quot;Samim&quot;;\r\n        String s2 = &quot;Samim&quot;;\r\n        String s3 = new String(&quot;Samim&quot;);\r\n        String s4 = new String(&quot;Samim&quot;);\r\n        \r\n        System.out.println(s1 == s2);\r\n        System.out.println(s2 == s3);\r\n        System.out.println(s3 == s4);\r\n\r\nThe output will be \r\n\r\n    true\r\n    false \r\n    false\r\nBecause == operator mainly compare the references of the object not the value.\r\nIn first System.out.println(), the references of s1 and s2 is same thats why it returns true.\r\n\r\nIn second System.out.println(), s3 object is created , thats why another reference of s3 will create , and the references of s2 and s3 will difference, for this reason it return &quot;false&quot;.\r\n\r\nThird System.out.println(), follow the rules of second System.out.println(), that&#39;s why it will return &quot;false&quot;.\r\n\r\n\r\n\r\n","title":"What is the difference between == and equals() in Java?","body":"<p>equals() method mainly compares the original content of the object.</p>\n<p>If we Write</p>\n<pre><code>    String s1 = &quot;Samim&quot;;\n    String s2 = &quot;Samim&quot;;\n    String s3 = new String(&quot;Samim&quot;);\n    String s4 = new String(&quot;Samim&quot;);\n\n    System.out.println(s1.equals(s2));\n    System.out.println(s2.equals(s3));\n    System.out.println(s3.equals(s4));\n</code></pre>\n<p>The output will be</p>\n<pre><code>true \ntrue \ntrue\n</code></pre>\n<p>Because equals() method compare the content of the object.\nin first System.out.println() the content of s1 and s2 is same that's why it print true.\nAnd it is same for others two System.out.println() is true.</p>\n<p>Again ,</p>\n<pre><code>    String s1 = &quot;Samim&quot;;\n    String s2 = &quot;Samim&quot;;\n    String s3 = new String(&quot;Samim&quot;);\n    String s4 = new String(&quot;Samim&quot;);\n    \n    System.out.println(s1 == s2);\n    System.out.println(s2 == s3);\n    System.out.println(s3 == s4);\n</code></pre>\n<p>The output will be</p>\n<pre><code>true\nfalse \nfalse\n</code></pre>\n<p>Because == operator mainly compare the references of the object not the value.\nIn first System.out.println(), the references of s1 and s2 is same thats why it returns true.</p>\n<p>In second System.out.println(), s3 object is created , thats why another reference of s3 will create , and the references of s2 and s3 will difference, for this reason it return &quot;false&quot;.</p>\n<p>Third System.out.println(), follow the rules of second System.out.println(), that's why it will return &quot;false&quot;.</p>\n"}],"owner":{"account_id":105232,"reputation":19916,"user_id":280924,"accept_rate":82,"display_name":"brainydexter"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":801964,"favorite_count":0,"down_vote_count":5,"up_vote_count":774,"accepted_answer_id":7520464,"answer_count":26,"score":769,"last_activity_date":1681373062,"creation_date":1316720203,"question_id":7520432,"body_markdown":"I wanted to clarify if I understand this correctly:\r\n\r\n- `==` is a reference comparison, i.e. both objects point to the same memory location\r\n- `.equals()` evaluates to the comparison of values in the objects","title":"What is the difference between == and equals() in Java?","body":"<p>I wanted to clarify if I understand this correctly:</p>\n\n<ul>\n<li><code>==</code> is a reference comparison, i.e. both objects point to the same memory location</li>\n<li><code>.equals()</code> evaluates to the comparison of values in the objects</li>\n</ul>\n"},{"tags":["java","android","bluetooth-lowenergy","android-bluetooth","foreground-service"],"comments":[{"owner":{"account_id":11064381,"reputation":1063,"user_id":8124605,"display_name":"Risto"},"score":0,"creation_date":1681374751,"post_id":76002518,"comment_id":134046916,"body_markdown":"I think that your information is not correct (reference?). [SCAN_MODE_LOW_POWER](https://developer.android.com/reference/android/bluetooth/le/ScanSettings#SCAN_MODE_LOW_POWER) does not imply a dedicated timing and can therefore vary from manufacturer to manufacturer, from device to device and from software version to software version.","body":"I think that your information is not correct (reference?). <a href=\"https://developer.android.com/reference/android/bluetooth/le/ScanSettings#SCAN_MODE_LOW_POWER\" rel=\"nofollow noreferrer\">SCAN_MODE_LOW_POWER</a> does not imply a dedicated timing and can therefore vary from manufacturer to manufacturer, from device to device and from software version to software version."},{"owner":{"account_id":28283241,"reputation":1,"user_id":21624565,"display_name":"Tse"},"score":0,"creation_date":1681452834,"post_id":76002518,"comment_id":134061534,"body_markdown":"The following is the reference:\nhttps://github.com/NordicSemiconductor/Android-Scanner-Compat-Library.","body":"The following is the reference: <a href=\"https://github.com/NordicSemiconductor/Android-Scanner-Compat-Library\" rel=\"nofollow noreferrer\">github.com/NordicSemiconductor/Android-Scanner-Compat-Librar&zwnj;&#8203;y</a>."},{"owner":{"account_id":28283241,"reputation":1,"user_id":21624565,"display_name":"Tse"},"score":0,"creation_date":1681452975,"post_id":76002518,"comment_id":134061557,"body_markdown":"Indeed, I did not see any relevant information on the Android developer website.","body":"Indeed, I did not see any relevant information on the Android developer website."},{"owner":{"account_id":11064381,"reputation":1063,"user_id":8124605,"display_name":"Risto"},"score":0,"creation_date":1681460348,"post_id":76002518,"comment_id":134063056,"body_markdown":"I think that the Nordic Semiconductor documentation probably seems a bit outdated in this aspect. \nSince energy-saving operation is now more critical than ever for mobile operating systems, this certainly also has an impact on the behaviour you complain about.\nIn this respect, the library you use can of course try to realise its own timing, but ultimately the operating system decides what happens when.\nIf the issue is important to you, I would suggest to raise an issue on github.","body":"I think that the Nordic Semiconductor documentation probably seems a bit outdated in this aspect.  Since energy-saving operation is now more critical than ever for mobile operating systems, this certainly also has an impact on the behaviour you complain about. In this respect, the library you use can of course try to realise its own timing, but ultimately the operating system decides what happens when. If the issue is important to you, I would suggest to raise an issue on github."}],"owner":{"account_id":28283241,"reputation":1,"user_id":21624565,"display_name":"Tse"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":261,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681372744,"creation_date":1681369240,"question_id":76002518,"body_markdown":"I referred to information on the internet that SCAN_MODE_LOW_POWER scans for 0.5 seconds and then pauses for 4.5 seconds (Scan window=0.5 seconds, Scan interval=5 seconds).\r\n\r\n--------\r\nProblem:\r\nI have encountered an issue with the BLE Scan mode in my program where the time interval between each Scan window varies between 8 to 12 seconds (sometimes up to 20 seconds).\r\n\r\nIn addition, there is an issue when running my program on Android 10 or higher versions. When the program is running in the foreground, SCAN_MODE_LOW_POWER will not work properly (the scanning will become very fast).\r\n\r\nNoted: My &quot;Advertise mode&quot; is set to &quot;low latency mode&quot;(Advertising interval=100ms).\r\n\r\nThanks\r\n\r\n\r\n\r\n\r\n\r\n\r\n--------\r\n\r\nThe following section is my code:\r\n\r\nScan code:\r\n\r\n```\r\npublic class Service_Scan extends Service {\r\n\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.O)\r\n    public Service_Scan() {\r\n        Log.e(TAG,&quot;Service_Scan start&quot;);\r\n\r\n        startScanning();\r\n\r\n\r\n        stopScanningButton.setOnClickListener(new View.OnClickListener() {\r\n            public void onClick(View v) {\r\n                stopScanning();\r\n                stopSelf();\r\n            }\r\n        });\r\n        startScanningButton.setOnClickListener(new View.OnClickListener() {\r\n            @RequiresApi(api = Build.VERSION_CODES.O)\r\n            public void onClick(View v) {\r\n                Log.e(TAG,&quot;start scanning&quot;);\r\n                startScanningButton.setVisibility(View.INVISIBLE);\r\n                stopScanningButton.setVisibility(View.VISIBLE);\r\n                startScanning();\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        // TODO: Return the communication channel to the service.\r\n        throw new UnsupportedOperationException(&quot;Not yet implemented&quot;);\r\n    }\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.O)\r\n    public void startScanning() {\r\n\r\n        byte[] data_all = new byte[ManufacturerData_size];\r\n        System.arraycopy(id_byte, 0, data_all, 1, id_byte.length);\r\n\r\n\r\n        byte[] data_mask = new byte[] {0x00,0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00};\r\n\r\n\r\n\r\n        ScanFilter Mau_filter_extended = new ScanFilter.Builder().setManufacturerData(0xffff,test.getBytes()).build();\r\n\r\n\r\n        ScanFilter Mau_filter_legacy = new ScanFilter.Builder().setManufacturerData(0xffff,data_all,data_mask).build();\r\n\r\n        ScanFilter name_filter = new ScanFilter.Builder().setDeviceName(&quot;1&quot;).build();\r\n        ArrayList&lt;ScanFilter&gt; filters = new ArrayList&lt;&gt;();\r\n        filters.add(Mau_filter_extended);\r\n        filters.add(Mau_filter_legacy);\r\n        filters.add(name_filter);\r\n\r\n\r\n        ScanSettings settings = new ScanSettings.Builder()\r\n                .setScanMode(ScanSettings.SCAN_MODE_LOW_POWER)\r\n                .build();\r\n\r\n        mBluetoothLeScanner.startScan(filters, settings, leScanCallback);\r\n    }\r\n\r\n    public void stopScanning() {\r\n        Log.e(TAG,&quot;stopping scanning&quot;);\r\n\r\n        peripheralTextView.append(&quot;Stopped Scanning&quot;);\r\n        startScanningButton.setVisibility(View.VISIBLE);\r\n        stopScanningButton.setVisibility(View.INVISIBLE);\r\n\r\n        AsyncTask.execute(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                mBluetoothLeScanner.stopScan(leScanCallback);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n}\r\n```\r\nPermission:\r\n\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\r\n```\r\n","title":"Android BLE ScanSettings(SCAN_MODE_LOW_POWER) problem","body":"<p>I referred to information on the internet that SCAN_MODE_LOW_POWER scans for 0.5 seconds and then pauses for 4.5 seconds (Scan window=0.5 seconds, Scan interval=5 seconds).</p>\n<hr />\n<p>Problem:\nI have encountered an issue with the BLE Scan mode in my program where the time interval between each Scan window varies between 8 to 12 seconds (sometimes up to 20 seconds).</p>\n<p>In addition, there is an issue when running my program on Android 10 or higher versions. When the program is running in the foreground, SCAN_MODE_LOW_POWER will not work properly (the scanning will become very fast).</p>\n<p>Noted: My &quot;Advertise mode&quot; is set to &quot;low latency mode&quot;(Advertising interval=100ms).</p>\n<p>Thanks</p>\n<hr />\n<p>The following section is my code:</p>\n<p>Scan code:</p>\n<pre><code>public class Service_Scan extends Service {\n\n\n    @RequiresApi(api = Build.VERSION_CODES.O)\n    public Service_Scan() {\n        Log.e(TAG,&quot;Service_Scan start&quot;);\n\n        startScanning();\n\n\n        stopScanningButton.setOnClickListener(new View.OnClickListener() {\n            public void onClick(View v) {\n                stopScanning();\n                stopSelf();\n            }\n        });\n        startScanningButton.setOnClickListener(new View.OnClickListener() {\n            @RequiresApi(api = Build.VERSION_CODES.O)\n            public void onClick(View v) {\n                Log.e(TAG,&quot;start scanning&quot;);\n                startScanningButton.setVisibility(View.INVISIBLE);\n                stopScanningButton.setVisibility(View.VISIBLE);\n                startScanning();\n            }\n        });\n    }\n\n    @Override\n    public IBinder onBind(Intent intent) {\n        // TODO: Return the communication channel to the service.\n        throw new UnsupportedOperationException(&quot;Not yet implemented&quot;);\n    }\n\n    @RequiresApi(api = Build.VERSION_CODES.O)\n    public void startScanning() {\n\n        byte[] data_all = new byte[ManufacturerData_size];\n        System.arraycopy(id_byte, 0, data_all, 1, id_byte.length);\n\n\n        byte[] data_mask = new byte[] {0x00,0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00};\n\n\n\n        ScanFilter Mau_filter_extended = new ScanFilter.Builder().setManufacturerData(0xffff,test.getBytes()).build();\n\n\n        ScanFilter Mau_filter_legacy = new ScanFilter.Builder().setManufacturerData(0xffff,data_all,data_mask).build();\n\n        ScanFilter name_filter = new ScanFilter.Builder().setDeviceName(&quot;1&quot;).build();\n        ArrayList&lt;ScanFilter&gt; filters = new ArrayList&lt;&gt;();\n        filters.add(Mau_filter_extended);\n        filters.add(Mau_filter_legacy);\n        filters.add(name_filter);\n\n\n        ScanSettings settings = new ScanSettings.Builder()\n                .setScanMode(ScanSettings.SCAN_MODE_LOW_POWER)\n                .build();\n\n        mBluetoothLeScanner.startScan(filters, settings, leScanCallback);\n    }\n\n    public void stopScanning() {\n        Log.e(TAG,&quot;stopping scanning&quot;);\n\n        peripheralTextView.append(&quot;Stopped Scanning&quot;);\n        startScanningButton.setVisibility(View.VISIBLE);\n        stopScanningButton.setVisibility(View.INVISIBLE);\n\n        AsyncTask.execute(new Runnable() {\n            @Override\n            public void run() {\n                mBluetoothLeScanner.stopScan(leScanCallback);\n            }\n        });\n    }\n\n\n}\n</code></pre>\n<p>Permission:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-statemachine"],"comments":[{"owner":{"account_id":371521,"reputation":4537,"user_id":720097,"accept_rate":88,"display_name":"Alexander.Iljushkin"},"score":0,"creation_date":1702288925,"post_id":76002957,"comment_id":136873673,"body_markdown":"https://github.com/spring-projects/spring-statemachine/issues/354#issuecomment-299121905","body":"<a href=\"https://github.com/spring-projects/spring-statemachine/issues/354#issuecomment-299121905\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-statemachine/issues/&hellip;</a>"}],"owner":{"account_id":3005685,"reputation":1397,"user_id":2550273,"accept_rate":50,"display_name":"Rustam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681372373,"creation_date":1681372373,"question_id":76002957,"body_markdown":"The Spring state machine is configured as follows, for example:\r\n\\\r\nA (initial) --&gt; B --&gt; C (choice) --&gt; D/E/F --&gt; G (end)\r\n\\\r\n\\\r\nThe states B,D,E,F take a long time to execute.\r\n\\\r\nWhen the application terminates, the state machine executes the current state and stops, without any errors.\r\n\\\r\n\\\r\nFor example, if state machine stops when state B action executed, then state machine will have current state B and no information about the D/E/F states that I could use to continue execution of the state machine with another app.\r\n","title":"Terminating an application while the Spring state machine is running","body":"<p>The Spring state machine is configured as follows, for example:\n<br />\nA (initial) --&gt; B --&gt; C (choice) --&gt; D/E/F --&gt; G (end)\n<br />\n<br />\nThe states B,D,E,F take a long time to execute.\n<br />\nWhen the application terminates, the state machine executes the current state and stops, without any errors.\n<br />\n<br />\nFor example, if state machine stops when state B action executed, then state machine will have current state B and no information about the D/E/F states that I could use to continue execution of the state machine with another app.</p>\n"},{"tags":["java","spring-boot","tomcat"],"comments":[{"owner":{"account_id":5646909,"reputation":1460,"user_id":4468663,"display_name":"Anand Dwivedi"},"score":0,"creation_date":1681368445,"post_id":76002378,"comment_id":134045605,"body_markdown":"Did you try with http://127.0.0.1:9998/apk/getpublicresource URL ?","body":"Did you try with <a href=\"http://127.0.0.1:9998/apk/getpublicresource\" rel=\"nofollow noreferrer\">127.0.0.1:9998/apk/getpublicresource</a> URL ?"},{"owner":{"account_id":5646909,"reputation":1460,"user_id":4468663,"display_name":"Anand Dwivedi"},"score":0,"creation_date":1681368506,"post_id":76002378,"comment_id":134045626,"body_markdown":"Also to defined port in application .properties you need to correct key like \n &#39;server.port=9998&#39;","body":"Also to defined port in application .properties you need to correct key like   &#39;server.port=9998&#39;"},{"owner":{"account_id":3819165,"reputation":1091,"user_id":3167672,"display_name":"VinhNT"},"score":1,"creation_date":1681368579,"post_id":76002378,"comment_id":134045636,"body_markdown":"server.port=9998 will not work because he has deploy the war file in tomcat server. The server port will be specified by server.xml of that tomcat.","body":"server.port=9998 will not work because he has deploy the war file in tomcat server. The server port will be specified by server.xml of that tomcat."},{"owner":{"account_id":5646909,"reputation":1460,"user_id":4468663,"display_name":"Anand Dwivedi"},"score":0,"creation_date":1681368666,"post_id":76002378,"comment_id":134045652,"body_markdown":"@VinhNT i do agree but his key got wrongly updated also yes he may need to look bin/server.xml to verify port .","body":"@VinhNT i do agree but his key got wrongly updated also yes he may need to look bin/server.xml to verify port ."},{"owner":{"account_id":3819165,"reputation":1091,"user_id":3167672,"display_name":"VinhNT"},"score":1,"creation_date":1681368838,"post_id":76002378,"comment_id":134045690,"body_markdown":"His tomcat is working at 8282, and it is working well, otherwise, the first request will got other error: connection refuse. This case, I think he got some error while deploying apk.war to that tomcat server, he need to look for the tomcat deployment log to see what happened.","body":"His tomcat is working at 8282, and it is working well, otherwise, the first request will got other error: connection refuse. This case, I think he got some error while deploying apk.war to that tomcat server, he need to look for the tomcat deployment log to see what happened."},{"owner":{"account_id":26043625,"reputation":61,"user_id":19747944,"display_name":"Amit Bhatiwal"},"score":0,"creation_date":1681368916,"post_id":76002378,"comment_id":134045706,"body_markdown":"@AnandDwivedi Tomcat is running on 8282 port","body":"@AnandDwivedi Tomcat is running on 8282 port"},{"owner":{"account_id":26043625,"reputation":61,"user_id":19747944,"display_name":"Amit Bhatiwal"},"score":0,"creation_date":1681369152,"post_id":76002378,"comment_id":134045754,"body_markdown":"Tried this url also \nhttp://127.0.0.1:9998/apk/getpublicresource\n\nafter modifying application.properties","body":"Tried this url also  <a href=\"http://127.0.0.1:9998/apk/getpublicresource\" rel=\"nofollow noreferrer\">127.0.0.1:9998/apk/getpublicresource</a>  after modifying application.properties"},{"owner":{"account_id":26043625,"reputation":61,"user_id":19747944,"display_name":"Amit Bhatiwal"},"score":0,"creation_date":1681369481,"post_id":76002378,"comment_id":134045809,"body_markdown":"@VinhNT which port do i have to look exactly in server.xml,there are many ports defined in this file,can you please specify","body":"@VinhNT which port do i have to look exactly in server.xml,there are many ports defined in this file,can you please specify"},{"owner":{"account_id":26043625,"reputation":61,"user_id":19747944,"display_name":"Amit Bhatiwal"},"score":0,"creation_date":1681369705,"post_id":76002378,"comment_id":134045861,"body_markdown":"@VinhNT can you specify where to look exactly for tomcat deployment log","body":"@VinhNT can you specify where to look exactly for tomcat deployment log"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1681370278,"post_id":76002378,"comment_id":134045974,"body_markdown":"have you checked that the folder `apk` is succesfully credted under `&lt;tomcat&gt;/webapps` ?","body":"have you checked that the folder <code>apk</code> is succesfully credted under <code>&lt;tomcat&gt;&#47;webapps</code> ?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1681370329,"post_id":76002378,"comment_id":134045983,"body_markdown":"The tomcat log is called catalina.out and is in `&lt;tomcat&gt;/logs`","body":"The tomcat log is called catalina.out and is in <code>&lt;tomcat&gt;&#47;logs</code>"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1681371232,"post_id":76002378,"comment_id":134046169,"body_markdown":"I agree that your Tomcat is running correctly on :8282, but is the apk web app? Check the console or tomcat logs for evidence that app started. Check in webapps for a folder called apk. Try http://127.0.0.1:8282/manager - it will respond with 401 and setup instructions for user. Look for the apk in the list of webapps.","body":"I agree that your Tomcat is running correctly on :8282, but is the apk web app? Check the console or tomcat logs for evidence that app started. Check in webapps for a folder called apk. Try <a href=\"http://127.0.0.1:8282/manager\" rel=\"nofollow noreferrer\">127.0.0.1:8282/manager</a> - it will respond with 401 and setup instructions for user. Look for the apk in the list of webapps."},{"owner":{"account_id":26043625,"reputation":61,"user_id":19747944,"display_name":"Amit Bhatiwal"},"score":0,"creation_date":1681372014,"post_id":76002378,"comment_id":134046333,"body_markdown":"@AnandDwivedi i have added log detail into the question description. can you please look into it once","body":"@AnandDwivedi i have added log detail into the question description. can you please look into it once"},{"owner":{"account_id":26043625,"reputation":61,"user_id":19747944,"display_name":"Amit Bhatiwal"},"score":0,"creation_date":1681372025,"post_id":76002378,"comment_id":134046334,"body_markdown":"@VinhNT i have added log detail into the question description. can you please look into it once","body":"@VinhNT i have added log detail into the question description. can you please look into it once"},{"owner":{"account_id":26043625,"reputation":61,"user_id":19747944,"display_name":"Amit Bhatiwal"},"score":0,"creation_date":1681372058,"post_id":76002378,"comment_id":134046346,"body_markdown":"@JohnWilliams i have added log detail into the question description. can you please look into it once","body":"@JohnWilliams i have added log detail into the question description. can you please look into it once"},{"owner":{"account_id":26043625,"reputation":61,"user_id":19747944,"display_name":"Amit Bhatiwal"},"score":0,"creation_date":1681372069,"post_id":76002378,"comment_id":134046349,"body_markdown":"@ScaryWombat i have added log detail into the question description. can you please look into it once","body":"@ScaryWombat i have added log detail into the question description. can you please look into it once"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1681372642,"post_id":76002378,"comment_id":134046470,"body_markdown":"The problem seems to be with `java.io.IOException: The device is not ready` - maybe in your properties file you are trying to reference some file with the wrong path?","body":"The problem seems to be with <code>java.io.IOException: The device is not ready</code> - maybe in your properties file you are trying to reference some file with the wrong path?"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1681373880,"post_id":76002378,"comment_id":134046719,"body_markdown":"It is having trouble expanding the apk.war file. I suspect the tomcat process lacks some rights in the filesystem. Try renaming apk.war to apk.zip and unzipping it in the webapps folder while tomcat is not running. It should create a folder apk inside webapps. Start tomcat and check logs and responses. If this works you need to investigate the tomcat process user, eg is it running as service.","body":"It is having trouble expanding the apk.war file. I suspect the tomcat process lacks some rights in the filesystem. Try renaming apk.war to apk.zip and unzipping it in the webapps folder while tomcat is not running. It should create a folder apk inside webapps. Start tomcat and check logs and responses. If this works you need to investigate the tomcat process user, eg is it running as service."},{"owner":{"account_id":3819165,"reputation":1091,"user_id":3167672,"display_name":"VinhNT"},"score":0,"creation_date":1681713801,"post_id":76002378,"comment_id":134094909,"body_markdown":"@ScaryWombat told the right thing, when tomcat deploy your war file, it also attempted to initialize your app, and your app was failed to start because of IOException.","body":"@ScaryWombat told the right thing, when tomcat deploy your war file, it also attempted to initialize your app, and your app was failed to start because of IOException."}],"owner":{"account_id":26043625,"reputation":61,"user_id":19747944,"display_name":"Amit Bhatiwal"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681371924,"creation_date":1681368198,"question_id":76002378,"body_markdown":"I am new to Spring Boot and have deployed my application on an external Tomcat server. But I am unable to access resource on external Tomcat.\r\n\r\nhttp://127.0.0.1:8282/apk/getpublicresource\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHowever if I run the same API on embedded Tomcat it will work fine.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/53AQU.png\r\n  [2]: https://i.stack.imgur.com/ihN5K.png\r\n\r\nThis is my application.properties\r\n\r\n    server..port=9998\r\n\r\nThis is `pom.xml`\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.5&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;wardemo&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;wardemo&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!--tomcat dependency--&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!--tomcat dependency--&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;finalName&gt;wardemo&lt;/finalName&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;executable&gt;true&lt;/executable&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nThis is controller \r\n\r\n    package com.example.wardemo.controller;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    public class BasicController {\r\n    \r\n     @RequestMapping(&quot;/getpublicresource&quot;)\r\n        public String getPublicResource(){\r\n         return &quot;This is successful string&quot;;\r\n     }\r\n    \r\n    \r\n    \r\n    }\r\n\r\n\r\nand this is application file \r\n\r\n    package com.example.wardemo;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.builder.SpringApplicationBuilder;\r\n    import org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\r\n    import org.springframework.scheduling.annotation.EnableScheduling;\r\n    \r\n    @SpringBootApplication\r\n    @EnableScheduling\r\n    public class WardemoApplication extends SpringBootServletInitializer {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(WardemoApplication.class, args);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected SpringApplicationBuilder configure(SpringApplicationBuilder builder) {\r\n    \t\treturn builder.sources(WardemoApplication.class);\r\n    \t}\r\n    }\r\n\r\nNote that I have done `maven clean` and then `maven package` to generate war file which I later renamed as `apk.war` and deployed it on the Tomcat server.\r\n\r\n\r\nlocalhost access log \r\n\r\n\r\n\r\n    0:0:0:0:0:0:0:1 - - [13/Apr/2023:11:39:47 +0530] &quot;GET / HTTP/1.1&quot; 500 7025\r\n    0:0:0:0:0:0:0:1 - - [13/Apr/2023:11:39:48 +0530] &quot;GET /favicon.ico HTTP/1.1&quot; 500 3389\r\n    0:0:0:0:0:0:0:1 - - [13/Apr/2023:11:39:57 +0530] &quot;GET / HTTP/1.1&quot; 500 3389\r\n    0:0:0:0:0:0:0:1 - - [13/Apr/2023:11:39:57 +0530] &quot;GET /favicon.ico HTTP/1.1&quot; 500 3389\r\n    127.0.0.1 - - [13/Apr/2023:11:40:21 +0530] &quot;GET / HTTP/1.1&quot; 200 11428\r\n    127.0.0.1 - - [13/Apr/2023:11:40:24 +0530] &quot;GET /manager/html HTTP/1.1&quot; 401 2562\r\n    127.0.0.1 - admin [13/Apr/2023:11:40:30 +0530] &quot;GET /manager/html HTTP/1.1&quot; 200 21909\r\n    127.0.0.1 - admin [13/Apr/2023:11:41:11 +0530] &quot;POST /manager/html/upload;jsessionid=04128590F1A0A51F5D264F6A0B4B59B6?org.apache.catalina.filters.CSRF_NONCE=035B8D1C50DC73D8D40BED7FDFA15C11 HTTP/1.1&quot; 200 21317\r\n    127.0.0.1 - - [13/Apr/2023:11:41:40 +0530] &quot;GET / HTTP/1.1&quot; 200 11428\r\n    127.0.0.1 - - [13/Apr/2023:11:42:25 +0530] &quot;GET /getpublicresource HTTP/1.1&quot; 404 768\r\n    127.0.0.1 - - [13/Apr/2023:11:59:49 +0530] &quot;GET /apk/getpublicresource HTTP/1.1&quot; 404 776\r\n    127.0.0.1 - - [13/Apr/2023:12:00:02 +0530] &quot;GET /apk/ HTTP/1.1&quot; 404 759\r\n    127.0.0.1 - - [13/Apr/2023:12:00:17 +0530] &quot;GET /apk/getpublicresource HTTP/1.1&quot; 404 776\r\n    127.0.0.1 - admin [13/Apr/2023:12:26:49 +0530] &quot;POST /manager/html/undeploy?path=/apk&amp;org.apache.catalina.filters.CSRF_NONCE=98498E114DA95D114733AF99428D5916 HTTP/1.1&quot; 403 3529\r\n    127.0.0.1 - admin [13/Apr/2023:12:27:00 +0530] &quot;GET /manager/html HTTP/1.1&quot; 200 21317\r\n    127.0.0.1 - admin [13/Apr/2023:12:27:04 +0530] &quot;POST /manager/html/undeploy?path=/apk&amp;org.apache.catalina.filters.CSRF_NONCE=7FA9400C55D50F50AAE4871469D79BA8 HTTP/1.1&quot; 200 20158\r\n    127.0.0.1 - admin [13/Apr/2023:12:27:16 +0530] &quot;POST /manager/html/upload?org.apache.catalina.filters.CSRF_NONCE=09BADD222A428BE969B677CB51BD0EC6 HTTP/1.1&quot; 200 21317\r\n    127.0.0.1 - - [13/Apr/2023:12:27:21 +0530] &quot;GET /apk/getpublicresource HTTP/1.1&quot; 404 776\r\n    127.0.0.1 - - [13/Apr/2023:12:35:20 +0530] &quot;GET /apk/getpublicresource HTTP/1.1&quot; 404 776\r\n    127.0.0.1 - - [13/Apr/2023:13:11:07 +0530] &quot;GET /apk/getpublicresource HTTP/1.1&quot; 404 776\r\n\r\n\r\nThis is catalina log \r\n\r\n    13-Apr-2023 12:27:04.626 INFO [http-nio-8282-exec-34] org.apache.catalina.startup.HostConfig.undeploy Undeploying context [/apk]\r\n    13-Apr-2023 12:27:15.432 INFO [http-nio-8282-exec-33] org.apache.catalina.startup.HostConfig.deployWAR Deploying web application archive [D:\\server\\webapps\\apk.war]\r\n    13-Apr-2023 12:27:16.100 SEVERE [http-nio-8282-exec-33] org.apache.catalina.startup.HostConfig.deployWAR Error deploying web application archive [D:\\server\\webapps\\apk.war]\r\n    \tjava.lang.IllegalStateException: Error starting child\r\n    \t\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:686)\r\n    \t\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:658)\r\n    \t\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:662)\r\n    \t\tat org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1023)\r\n    \t\tat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:543)\r\n    \t\tat org.apache.catalina.startup.HostConfig.check(HostConfig.java:1689)\r\n    \t\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    \t\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n    \t\tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:294)\r\n    \t\tat java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:803)\r\n    \t\tat java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:802)\r\n    \t\tat org.apache.catalina.manager.ManagerServlet.check(ManagerServlet.java:1615)\r\n    \t\tat org.apache.catalina.manager.HTMLManagerServlet.upload(HTMLManagerServlet.java:291)\r\n    \t\tat org.apache.catalina.manager.HTMLManagerServlet.doPost(HTMLManagerServlet.java:209)\r\n    \t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:528)\r\n    \t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:596)\r\n    \t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)\r\n    \t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n    \t\tat org.apache.catalina.filters.CsrfPreventionFilter.doFilter(CsrfPreventionFilter.java:190)\r\n    \t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n    \t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n    \t\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    \t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n    \t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n    \t\tat org.apache.catalina.filters.HttpHeaderSecurityFilter.doFilter(HttpHeaderSecurityFilter.java:126)\r\n    \t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n    \t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n    \t\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n    \t\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n    \t\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:607)\r\n    \t\tat org.apache.catalina.valves.RequestFilterValve.process(RequestFilterValve.java:355)\r\n    \t\tat org.apache.catalina.valves.RemoteAddrValve.invoke(RemoteAddrValve.java:54)\r\n    \t\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)\r\n    \t\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n    \t\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)\r\n    \t\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n    \t\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n    \t\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)\r\n    \t\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n    \t\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)\r\n    \t\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)\r\n    \t\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \t\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \t\tat java.base/java.lang.Thread.run(Thread.java:1623)\r\n    \tCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/apk]]\r\n    \t\tat org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\r\n    \t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\r\n    \t\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:683)\r\n    \t\t... 45 more\r\n    \tCaused by: java.lang.IllegalArgumentException: java.io.IOException: The device is not ready\r\n    \t\tat org.apache.catalina.util.CharsetMapper.&lt;init&gt;(CharsetMapper.java:79)\r\n    \t\tat org.apache.catalina.util.CharsetMapper.&lt;init&gt;(CharsetMapper.java:59)\r\n    \t\tat org.apache.catalina.core.StandardContext.getCharsetMapper(StandardContext.java:1397)\r\n    \t\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4754)\r\n    \t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \t\t... 46 more\r\n    \tCaused by: java.io.IOException: The device is not ready\r\n    \t\tat java.base/java.io.RandomAccessFile.readBytes0(Native Method)\r\n    \t\tat java.base/java.io.RandomAccessFile.readBytes(RandomAccessFile.java:390)\r\n    \t\tat java.base/java.io.RandomAccessFile.read(RandomAccessFile.java:424)\r\n    \t\tat java.base/java.io.RandomAccessFile.readFully(RandomAccessFile.java:488)\r\n    \t\tat java.base/java.util.zip.ZipFile$Source.readFullyAt(ZipFile.java:1368)\r\n    \t\tat java.base/java.util.zip.ZipFile$ZipFileInputStream.initDataOffset(ZipFile.java:922)\r\n    \t\tat java.base/java.util.zip.ZipFile$ZipFileInputStream.read(ZipFile.java:938)\r\n    \t\tat java.base/java.util.zip.ZipFile$ZipFileInflaterInputStream.fill(ZipFile.java:455)\r\n    \t\tat java.base/java.util.zip.InflaterInputStream.read(InflaterInputStream.java:175)\r\n    \t\tat java.base/java.io.FilterInputStream.read(FilterInputStream.java:119)\r\n    \t\tat java.base/java.io.FilterInputStream.read(FilterInputStream.java:95)\r\n    \t\tat java.base/java.util.Properties$LineReader.readLine(Properties.java:504)\r\n    \t\tat java.base/java.util.Properties.load0(Properties.java:420)\r\n    \t\tat java.base/java.util.Properties.load(Properties.java:409)\r\n    \t\tat org.apache.catalina.util.CharsetMapper.&lt;init&gt;(CharsetMapper.java:76)\r\n    \t\t... 50 more\r\n    13-Apr-2023 12:27:16.105 INFO [http-nio-8282-exec-33] org.apache.catalina.startup.HostConfig.deployWAR Deployment of web application archive [D:\\server\\webapps\\apk.war] has finished in [673] ms\r\n    13-Apr-2023 12:34:54.313 WARNING [main] org.apache.catalina.core.StandardServer.await Invalid shutdown command [GET /apk/getpublicresource HTTP/1.1] received\r\n    13-Apr-2023 12:34:54.313 WARNING [main] org.apache.catalina.core.StandardServer.await Invalid shutdown command [GET /apk/getpublicresource HTTP/1.1] received\r\n    13-Apr-2023 12:34:54.320 WARNING [main] org.apache.catalina.core.StandardServer.await Invalid shutdown command [GET /apk/getpublicresource HTTP/1.1] received\r\n    13-Apr-2023 12:34:55.360 WARNING [main] org.apache.catalina.core.StandardServer.await Invalid shutdown command [GET /apk/getpublicresource HTTP/1.1] received\r\n    13-Apr-2023 12:34:55.360 WARNING [main] org.apache.catalina.core.StandardServer.await Invalid shutdown command [GET /apk/getpublicresource HTTP/1.1] received\r\n    13-Apr-2023 12:34:55.367 WARNING [main] org.apache.catalina.core.StandardServer.await Invalid shutdown command [GET /apk/getpublicresource HTTP/1.1] received\r\n    13-Apr-2023 12:35:00.389 WARNING [main] org.apache.catalina.core.StandardServer.await Invalid shutdown command [GET /apk/getpublicresource HTTP/1.1] received\r\n    13-Apr-2023 12:35:00.392 WARNING [main] org.apache.catalina.core.StandardServer.await Invalid shutdown command [GET /apk/getpublicresource HTTP/1.1] received\r\n    13-Apr-2023 12:35:00.394 WARNING [main] org.apache.catalina.core.StandardServer.await Invalid shutdown command [GET /apk/getpublicresource HTTP/1.1] received\r\n\r\n","title":"No API (Private or Public) accessible in external Tomcat server","body":"<p>I am new to Spring Boot and have deployed my application on an external Tomcat server. But I am unable to access resource on external Tomcat.</p>\n<p><a href=\"http://127.0.0.1:8282/apk/getpublicresource\" rel=\"nofollow noreferrer\">http://127.0.0.1:8282/apk/getpublicresource</a></p>\n<p><a href=\"https://i.stack.imgur.com/53AQU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/53AQU.png\" alt=\"enter image description here\" /></a></p>\n<p>However if I run the same API on embedded Tomcat it will work fine.</p>\n<p><a href=\"https://i.stack.imgur.com/ihN5K.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ihN5K.png\" alt=\"enter image description here\" /></a></p>\n<p>This is my application.properties</p>\n<pre><code>server..port=9998\n</code></pre>\n<p>This is <code>pom.xml</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;wardemo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;wardemo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--tomcat dependency--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!--tomcat dependency--&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;wardemo&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;executable&gt;true&lt;/executable&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>This is controller</p>\n<pre><code>package com.example.wardemo.controller;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class BasicController {\n\n @RequestMapping(&quot;/getpublicresource&quot;)\n    public String getPublicResource(){\n     return &quot;This is successful string&quot;;\n }\n\n\n\n}\n</code></pre>\n<p>and this is application file</p>\n<pre><code>package com.example.wardemo;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.builder.SpringApplicationBuilder;\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\nimport org.springframework.scheduling.annotation.EnableScheduling;\n\n@SpringBootApplication\n@EnableScheduling\npublic class WardemoApplication extends SpringBootServletInitializer {\n\n    public static void main(String[] args) {\n        SpringApplication.run(WardemoApplication.class, args);\n    }\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder builder) {\n        return builder.sources(WardemoApplication.class);\n    }\n}\n</code></pre>\n<p>Note that I have done <code>maven clean</code> and then <code>maven package</code> to generate war file which I later renamed as <code>apk.war</code> and deployed it on the Tomcat server.</p>\n<p>localhost access log</p>\n<pre><code>0:0:0:0:0:0:0:1 - - [13/Apr/2023:11:39:47 +0530] &quot;GET / HTTP/1.1&quot; 500 7025\n0:0:0:0:0:0:0:1 - - [13/Apr/2023:11:39:48 +0530] &quot;GET /favicon.ico HTTP/1.1&quot; 500 3389\n0:0:0:0:0:0:0:1 - - [13/Apr/2023:11:39:57 +0530] &quot;GET / HTTP/1.1&quot; 500 3389\n0:0:0:0:0:0:0:1 - - [13/Apr/2023:11:39:57 +0530] &quot;GET /favicon.ico HTTP/1.1&quot; 500 3389\n127.0.0.1 - - [13/Apr/2023:11:40:21 +0530] &quot;GET / HTTP/1.1&quot; 200 11428\n127.0.0.1 - - [13/Apr/2023:11:40:24 +0530] &quot;GET /manager/html HTTP/1.1&quot; 401 2562\n127.0.0.1 - admin [13/Apr/2023:11:40:30 +0530] &quot;GET /manager/html HTTP/1.1&quot; 200 21909\n127.0.0.1 - admin [13/Apr/2023:11:41:11 +0530] &quot;POST /manager/html/upload;jsessionid=04128590F1A0A51F5D264F6A0B4B59B6?org.apache.catalina.filters.CSRF_NONCE=035B8D1C50DC73D8D40BED7FDFA15C11 HTTP/1.1&quot; 200 21317\n127.0.0.1 - - [13/Apr/2023:11:41:40 +0530] &quot;GET / HTTP/1.1&quot; 200 11428\n127.0.0.1 - - [13/Apr/2023:11:42:25 +0530] &quot;GET /getpublicresource HTTP/1.1&quot; 404 768\n127.0.0.1 - - [13/Apr/2023:11:59:49 +0530] &quot;GET /apk/getpublicresource HTTP/1.1&quot; 404 776\n127.0.0.1 - - [13/Apr/2023:12:00:02 +0530] &quot;GET /apk/ HTTP/1.1&quot; 404 759\n127.0.0.1 - - [13/Apr/2023:12:00:17 +0530] &quot;GET /apk/getpublicresource HTTP/1.1&quot; 404 776\n127.0.0.1 - admin [13/Apr/2023:12:26:49 +0530] &quot;POST /manager/html/undeploy?path=/apk&amp;org.apache.catalina.filters.CSRF_NONCE=98498E114DA95D114733AF99428D5916 HTTP/1.1&quot; 403 3529\n127.0.0.1 - admin [13/Apr/2023:12:27:00 +0530] &quot;GET /manager/html HTTP/1.1&quot; 200 21317\n127.0.0.1 - admin [13/Apr/2023:12:27:04 +0530] &quot;POST /manager/html/undeploy?path=/apk&amp;org.apache.catalina.filters.CSRF_NONCE=7FA9400C55D50F50AAE4871469D79BA8 HTTP/1.1&quot; 200 20158\n127.0.0.1 - admin [13/Apr/2023:12:27:16 +0530] &quot;POST /manager/html/upload?org.apache.catalina.filters.CSRF_NONCE=09BADD222A428BE969B677CB51BD0EC6 HTTP/1.1&quot; 200 21317\n127.0.0.1 - - [13/Apr/2023:12:27:21 +0530] &quot;GET /apk/getpublicresource HTTP/1.1&quot; 404 776\n127.0.0.1 - - [13/Apr/2023:12:35:20 +0530] &quot;GET /apk/getpublicresource HTTP/1.1&quot; 404 776\n127.0.0.1 - - [13/Apr/2023:13:11:07 +0530] &quot;GET /apk/getpublicresource HTTP/1.1&quot; 404 776\n</code></pre>\n<p>This is catalina log</p>\n<pre><code>13-Apr-2023 12:27:04.626 INFO [http-nio-8282-exec-34] org.apache.catalina.startup.HostConfig.undeploy Undeploying context [/apk]\n13-Apr-2023 12:27:15.432 INFO [http-nio-8282-exec-33] org.apache.catalina.startup.HostConfig.deployWAR Deploying web application archive [D:\\server\\webapps\\apk.war]\n13-Apr-2023 12:27:16.100 SEVERE [http-nio-8282-exec-33] org.apache.catalina.startup.HostConfig.deployWAR Error deploying web application archive [D:\\server\\webapps\\apk.war]\n    java.lang.IllegalStateException: Error starting child\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:686)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:658)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:662)\n        at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1023)\n        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:543)\n        at org.apache.catalina.startup.HostConfig.check(HostConfig.java:1689)\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n        at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:294)\n        at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:803)\n        at java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:802)\n        at org.apache.catalina.manager.ManagerServlet.check(ManagerServlet.java:1615)\n        at org.apache.catalina.manager.HTMLManagerServlet.upload(HTMLManagerServlet.java:291)\n        at org.apache.catalina.manager.HTMLManagerServlet.doPost(HTMLManagerServlet.java:209)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:528)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:596)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n        at org.apache.catalina.filters.CsrfPreventionFilter.doFilter(CsrfPreventionFilter.java:190)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n        at org.apache.catalina.filters.HttpHeaderSecurityFilter.doFilter(HttpHeaderSecurityFilter.java:126)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:607)\n        at org.apache.catalina.valves.RequestFilterValve.process(RequestFilterValve.java:355)\n        at org.apache.catalina.valves.RemoteAddrValve.invoke(RemoteAddrValve.java:54)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.base/java.lang.Thread.run(Thread.java:1623)\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/apk]]\n        at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:683)\n        ... 45 more\n    Caused by: java.lang.IllegalArgumentException: java.io.IOException: The device is not ready\n        at org.apache.catalina.util.CharsetMapper.&lt;init&gt;(CharsetMapper.java:79)\n        at org.apache.catalina.util.CharsetMapper.&lt;init&gt;(CharsetMapper.java:59)\n        at org.apache.catalina.core.StandardContext.getCharsetMapper(StandardContext.java:1397)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4754)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        ... 46 more\n    Caused by: java.io.IOException: The device is not ready\n        at java.base/java.io.RandomAccessFile.readBytes0(Native Method)\n        at java.base/java.io.RandomAccessFile.readBytes(RandomAccessFile.java:390)\n        at java.base/java.io.RandomAccessFile.read(RandomAccessFile.java:424)\n        at java.base/java.io.RandomAccessFile.readFully(RandomAccessFile.java:488)\n        at java.base/java.util.zip.ZipFile$Source.readFullyAt(ZipFile.java:1368)\n        at java.base/java.util.zip.ZipFile$ZipFileInputStream.initDataOffset(ZipFile.java:922)\n        at java.base/java.util.zip.ZipFile$ZipFileInputStream.read(ZipFile.java:938)\n        at java.base/java.util.zip.ZipFile$ZipFileInflaterInputStream.fill(ZipFile.java:455)\n        at java.base/java.util.zip.InflaterInputStream.read(InflaterInputStream.java:175)\n        at java.base/java.io.FilterInputStream.read(FilterInputStream.java:119)\n        at java.base/java.io.FilterInputStream.read(FilterInputStream.java:95)\n        at java.base/java.util.Properties$LineReader.readLine(Properties.java:504)\n        at java.base/java.util.Properties.load0(Properties.java:420)\n        at java.base/java.util.Properties.load(Properties.java:409)\n        at org.apache.catalina.util.CharsetMapper.&lt;init&gt;(CharsetMapper.java:76)\n        ... 50 more\n13-Apr-2023 12:27:16.105 INFO [http-nio-8282-exec-33] org.apache.catalina.startup.HostConfig.deployWAR Deployment of web application archive [D:\\server\\webapps\\apk.war] has finished in [673] ms\n13-Apr-2023 12:34:54.313 WARNING [main] org.apache.catalina.core.StandardServer.await Invalid shutdown command [GET /apk/getpublicresource HTTP/1.1] received\n13-Apr-2023 12:34:54.313 WARNING [main] org.apache.catalina.core.StandardServer.await Invalid shutdown command [GET /apk/getpublicresource HTTP/1.1] received\n13-Apr-2023 12:34:54.320 WARNING [main] org.apache.catalina.core.StandardServer.await Invalid shutdown command [GET /apk/getpublicresource HTTP/1.1] received\n13-Apr-2023 12:34:55.360 WARNING [main] org.apache.catalina.core.StandardServer.await Invalid shutdown command [GET /apk/getpublicresource HTTP/1.1] received\n13-Apr-2023 12:34:55.360 WARNING [main] org.apache.catalina.core.StandardServer.await Invalid shutdown command [GET /apk/getpublicresource HTTP/1.1] received\n13-Apr-2023 12:34:55.367 WARNING [main] org.apache.catalina.core.StandardServer.await Invalid shutdown command [GET /apk/getpublicresource HTTP/1.1] received\n13-Apr-2023 12:35:00.389 WARNING [main] org.apache.catalina.core.StandardServer.await Invalid shutdown command [GET /apk/getpublicresource HTTP/1.1] received\n13-Apr-2023 12:35:00.392 WARNING [main] org.apache.catalina.core.StandardServer.await Invalid shutdown command [GET /apk/getpublicresource HTTP/1.1] received\n13-Apr-2023 12:35:00.394 WARNING [main] org.apache.catalina.core.StandardServer.await Invalid shutdown command [GET /apk/getpublicresource HTTP/1.1] received\n</code></pre>\n"},{"tags":["java","dto","bean-validation"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1681291507,"post_id":75993603,"comment_id":134031479,"body_markdown":"Hello, I would just follow the error message and add the @Valid annotation to the field destinations in your DTO. I guess it was necessary in older versions of Java validation. Prior to Jakarta Bean Validation 3.O","body":"Hello, I would just follow the error message and add the @Valid annotation to the field destinations in your DTO. I guess it was necessary in older versions of Java validation. Prior to Jakarta Bean Validation 3.O"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1681300025,"post_id":75993603,"comment_id":134033441,"body_markdown":"Did you annotate `destinations` with `@Valid` like the message indicated?","body":"Did you annotate <code>destinations</code> with <code>@Valid</code> like the message indicated?"},{"owner":{"account_id":20972147,"reputation":3,"user_id":15409069,"display_name":"Kain"},"score":0,"creation_date":1681365719,"post_id":75993603,"comment_id":134045149,"body_markdown":"Hi, yes, a tried with @Valid before List&lt;String&gt; and inside the List&lt;@Valid ... String&gt;. But same exception","body":"Hi, yes, a tried with @Valid before List&lt;String&gt; and inside the List&lt;@Valid ... String&gt;. But same exception"},{"owner":{"account_id":15398978,"reputation":316,"user_id":11109119,"display_name":"Guy_g23"},"score":0,"creation_date":1681367971,"post_id":75993603,"comment_id":134045522,"body_markdown":"Did you try to place the @Pattern rule annotation above the List&lt;String&gt;?","body":"Did you try to place the @Pattern rule annotation above the List&lt;String&gt;?"}],"answers":[{"comments":[{"owner":{"account_id":20972147,"reputation":3,"user_id":15409069,"display_name":"Kain"},"score":0,"creation_date":1681365774,"post_id":75995174,"comment_id":134045160,"body_markdown":"Hi, I have tried to include the @Valid annotation in the DTO at different points but I have not been able to get rid of this error.\nI tried before the List&lt;String ...&gt; and inside List&lt;@Valid ... String&gt;","body":"Hi, I have tried to include the @Valid annotation in the DTO at different points but I have not been able to get rid of this error. I tried before the List&lt;String ...&gt; and inside List&lt;@Valid ... String&gt;"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1681369788,"post_id":75995174,"comment_id":134045879,"body_markdown":"Please check my edit. It looks like it is related to Lombok.","body":"Please check my edit. It looks like it is related to Lombok."},{"owner":{"account_id":20972147,"reputation":3,"user_id":15409069,"display_name":"Kain"},"score":0,"creation_date":1681384168,"post_id":75995174,"comment_id":134049164,"body_markdown":"Thank you for your response. The problem as you say seems to be related to lombok, Unfortunately I can&#39;t use spring in this project but it gives me a clue where to look. Thanks","body":"Thank you for your response. The problem as you say seems to be related to lombok, Unfortunately I can&#39;t use spring in this project but it gives me a clue where to look. Thanks"}],"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681371874,"creation_date":1681300502,"answer_id":75995174,"question_id":75993603,"body_markdown":"I would just follow the error message and add the @Valid annotation to the field `destinations` in your DTO. I guess it was necessary in older versions of Java validation. Prior to Jakarta Bean Validation 3.O\r\n\r\n**Solution**\r\n\r\nTry this:\r\n\r\n    public class ProgramRQDTO implements Serializable {\r\n\r\n        @Valid\r\n        private List&lt;@Pattern(regexp=&quot;^[a-zA-Z_]+$&quot;) String&gt; destinations;\r\n\r\n    }\r\n\r\n**EDIT** what I found on the net:\r\n\r\n    @Getter(onMethod = @__(@Valid))\r\n    @Setter(onParam = @__(@Valid))\r\n    @Valid\r\n    public class ProgramRQDTO implements Serializable {\r\n\r\n        @Valid\r\n        private List&lt;@Pattern(regexp=&quot;^[a-zA-Z_]+$&quot;) String&gt; destinations;\r\n\r\n    }\r\n\r\n**EDIT 2**\r\n\r\nI have just tested it with the newest versions of Spring Boot Starters and it works without any issues. No need of additional annotations. Following dependencies did the trick:\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.5&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n","title":"Javax validation for List&lt;String&gt; throws exception","body":"<p>I would just follow the error message and add the @Valid annotation to the field <code>destinations</code> in your DTO. I guess it was necessary in older versions of Java validation. Prior to Jakarta Bean Validation 3.O</p>\n<p><strong>Solution</strong></p>\n<p>Try this:</p>\n<pre><code>public class ProgramRQDTO implements Serializable {\n\n    @Valid\n    private List&lt;@Pattern(regexp=&quot;^[a-zA-Z_]+$&quot;) String&gt; destinations;\n\n}\n</code></pre>\n<p><strong>EDIT</strong> what I found on the net:</p>\n<pre><code>@Getter(onMethod = @__(@Valid))\n@Setter(onParam = @__(@Valid))\n@Valid\npublic class ProgramRQDTO implements Serializable {\n\n    @Valid\n    private List&lt;@Pattern(regexp=&quot;^[a-zA-Z_]+$&quot;) String&gt; destinations;\n\n}\n</code></pre>\n<p><strong>EDIT 2</strong></p>\n<p>I have just tested it with the newest versions of Spring Boot Starters and it works without any issues. No need of additional annotations. Following dependencies did the trick:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.0.5&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":20972147,"reputation":3,"user_id":15409069,"display_name":"Kain"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":497,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75995174,"answer_count":1,"score":0,"last_activity_date":1681371874,"creation_date":1681289745,"question_id":75993603,"body_markdown":"I am trying to include a @Pattern validation for string elements inside a list using javax validation. Below is the simplified example:\r\n\r\n```\r\npublic class ProgramRQDTO implements Serializable {\r\n\r\n    private static final long serialVersionUID = -1L;\r\n\r\n    @Size(min = 2, max= 5)\r\n    private String lang;\r\n\r\n    private List&lt;@Pattern(regexp=&quot;^[a-zA-Z_]+$&quot;) String&gt; destinations;\r\n\r\n    ...getters/setters\r\n\r\n}\r\n\r\n```\r\nThis DTO is used as the body of a POST request in which the @Valid annotation is used.\r\n\r\n```\r\n@POST\r\n@Produces({ MediaType.APPLICATION_JSON })\r\npublic Response method(@Valid @RequestBody MyDTO requestDto) {\r\n\r\n    ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\r\n    Validator validator = factory.getValidator();\r\n    Set&lt;ConstraintViolation&lt;MyDTO&gt;&gt; violations = validator.validate(requestDto);\r\n\r\n    ...\r\n\r\n}\r\n```\r\nThis method, **validator.validate(requestDto)**, throws an exception. \r\n\r\n`javax.validation.ValidationException: HV000187: When using type annotation constraints on parameterized iterables or map @Valid must be used. Check com.example.MyDTO#destinations`\r\n\r\nIs it possible to validate a List&lt;String&gt; inside a DTO without having to make a wrapper class for that list? Is there something I am doing wrong?\r\n\r\nAny help is appreciated.\r\n\r\n\r\nI have tried to include the @Valid annotation in the DTO at different points but I have not been able to get rid of this error.\r\n\r\n**UPDATE:**\r\n\r\nAll of the following give the same result:\r\n\r\n@Valid\r\n&lt;br&gt;private List&lt;@Pattern(regexp=&quot;^[a-zA-Z_]+$&quot;) String&gt; destinations;\r\n\r\nprivate List&lt;@Valid @Pattern(regexp=&quot;^[a-zA-Z_]+$&quot;) String&gt; destinations;\r\n\r\n@Valid\r\n&lt;br&gt;private List&lt;@Valid@Pattern(regexp=&quot;^[a-zA-Z_]+$&quot;) String&gt; destinations;\r\n\r\n","title":"Javax validation for List&lt;String&gt; throws exception","body":"<p>I am trying to include a @Pattern validation for string elements inside a list using javax validation. Below is the simplified example:</p>\n<pre><code>public class ProgramRQDTO implements Serializable {\n\n    private static final long serialVersionUID = -1L;\n\n    @Size(min = 2, max= 5)\n    private String lang;\n\n    private List&lt;@Pattern(regexp=&quot;^[a-zA-Z_]+$&quot;) String&gt; destinations;\n\n    ...getters/setters\n\n}\n\n</code></pre>\n<p>This DTO is used as the body of a POST request in which the @Valid annotation is used.</p>\n<pre><code>@POST\n@Produces({ MediaType.APPLICATION_JSON })\npublic Response method(@Valid @RequestBody MyDTO requestDto) {\n\n    ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\n    Validator validator = factory.getValidator();\n    Set&lt;ConstraintViolation&lt;MyDTO&gt;&gt; violations = validator.validate(requestDto);\n\n    ...\n\n}\n</code></pre>\n<p>This method, <strong>validator.validate(requestDto)</strong>, throws an exception.</p>\n<p><code>javax.validation.ValidationException: HV000187: When using type annotation constraints on parameterized iterables or map @Valid must be used. Check com.example.MyDTO#destinations</code></p>\n<p>Is it possible to validate a List inside a DTO without having to make a wrapper class for that list? Is there something I am doing wrong?</p>\n<p>Any help is appreciated.</p>\n<p>I have tried to include the @Valid annotation in the DTO at different points but I have not been able to get rid of this error.</p>\n<p><strong>UPDATE:</strong></p>\n<p>All of the following give the same result:</p>\n<p>@Valid\n<br>private List&lt;@Pattern(regexp=&quot;^[a-zA-Z_]+$&quot;) String&gt; destinations;</p>\n<p>private List&lt;@Valid @Pattern(regexp=&quot;^[a-zA-Z_]+$&quot;) String&gt; destinations;</p>\n<p>@Valid\n<br>private List&lt;@Valid@Pattern(regexp=&quot;^[a-zA-Z_]+$&quot;) String&gt; destinations;</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9097895,"reputation":843,"user_id":6771202,"display_name":"Sachintha Hewawasam"},"score":0,"creation_date":1681369534,"post_id":76002531,"comment_id":134045825,"body_markdown":"One approach to remove duplicates from the list of Employees based on their ID and aggregate their compensation is to utilize a HashMap to maintain a record of each unique employee&#39;s compensation. By using the HashMap, it becomes easier to track the compensation of each Employee by their ID and combine the values.","body":"One approach to remove duplicates from the list of Employees based on their ID and aggregate their compensation is to utilize a HashMap to maintain a record of each unique employee&#39;s compensation. By using the HashMap, it becomes easier to track the compensation of each Employee by their ID and combine the values."}],"answers":[{"tags":[],"owner":{"account_id":22498600,"reputation":46,"user_id":16695223,"display_name":"Vikas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681369910,"creation_date":1681369910,"answer_id":76002604,"question_id":76002531,"body_markdown":"To dedup the list by employee ID and combine the compensation, you can use Java streams and grouping operations. Here&#39;s an example:\r\n\r\n```java\r\nList&lt;Employee&gt; newPayment = payment.stream()\r\n        .collect(Collectors.groupingBy(Employee::getId,\r\n                 Collectors.summingDouble(Employee::getCompensation)))\r\n        .entrySet().stream()\r\n        .map(entry -&gt; new Employee(entry.getKey(), (float) entry.getValue()))\r\n        .collect(Collectors.toList());\r\n```\r\nIn this code, we first use the `groupingBy()` collector to group the Employee objects by their id property. We also use the `summingDouble()` collector to calculate the sum of compensation for each group.\r\n\r\nThis creates a `Map&lt;String, Double&gt;` where the keys are the employee IDs and the values are the total compensations for each group.\r\n\r\nNext, we convert the map entries back to Employee objects using the `map()` method, and finally collect them into a new list using the `toList()` collector. The result is a new list of Employee objects with the combined compensations.","title":"Remove a list of user-defined class object and combine value of one property in Java","body":"<p>To dedup the list by employee ID and combine the compensation, you can use Java streams and grouping operations. Here's an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Employee&gt; newPayment = payment.stream()\n        .collect(Collectors.groupingBy(Employee::getId,\n                 Collectors.summingDouble(Employee::getCompensation)))\n        .entrySet().stream()\n        .map(entry -&gt; new Employee(entry.getKey(), (float) entry.getValue()))\n        .collect(Collectors.toList());\n</code></pre>\n<p>In this code, we first use the <code>groupingBy()</code> collector to group the Employee objects by their id property. We also use the <code>summingDouble()</code> collector to calculate the sum of compensation for each group.</p>\n<p>This creates a <code>Map&lt;String, Double&gt;</code> where the keys are the employee IDs and the values are the total compensations for each group.</p>\n<p>Next, we convert the map entries back to Employee objects using the <code>map()</code> method, and finally collect them into a new list using the <code>toList()</code> collector. The result is a new list of Employee objects with the combined compensations.</p>\n"},{"tags":[],"owner":{"account_id":11864229,"reputation":391,"user_id":8682142,"display_name":"Waseem Abbas"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1681371299,"creation_date":1681371299,"answer_id":76002788,"question_id":76002531,"body_markdown":"You can use Java 8 streams and collectors to group the employees by their `id` and then sum their compensations. Here&#39;s an example code snippet:\r\n\r\n```Java\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\n\r\nclass Dedup {\r\n    public static List&lt;Employee&gt; dedupByIds(List&lt;Employee&gt; payment) {\r\n        return payment.stream()\r\n                .collect(Collectors.groupingBy(Employee::getId, Collectors.summingDouble(Employee::getCompensation)))\r\n                .entrySet().stream()\r\n                .map(entry -&gt; new Employee(entry.getKey(), entry.getValue().floatValue()))\r\n                .collect(Collectors.toList());\r\n    }\r\n}\r\n\r\n```\r\n\r\nand then call this function by the list that you want to dedup. \r\n\r\n```Java\r\nList&lt;Employee&gt; payment = Arrays.asList(\r\n                new Employee(&quot;1&quot;, 3000.00f),\r\n                new Employee(&quot;1&quot;, 6000.00f),\r\n                new Employee(&quot;2&quot;, 5000.00f),\r\n                new Employee(&quot;3&quot;, 4000.00f)\r\n                );\r\n\r\nList&lt;Employee&gt; newPayment = Dedup.dedupByIds(payment);\r\n\r\n//printing values to console \r\nfor (Employee e : newPayment) {\r\n    System.out.println(e.getId() + &quot; : &quot; + e.getCompensation());\r\n}\r\n```","title":"Remove a list of user-defined class object and combine value of one property in Java","body":"<p>You can use Java 8 streams and collectors to group the employees by their <code>id</code> and then sum their compensations. Here's an example code snippet:</p>\n<pre><code>import java.util.Arrays;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\n\nclass Dedup {\n    public static List&lt;Employee&gt; dedupByIds(List&lt;Employee&gt; payment) {\n        return payment.stream()\n                .collect(Collectors.groupingBy(Employee::getId, Collectors.summingDouble(Employee::getCompensation)))\n                .entrySet().stream()\n                .map(entry -&gt; new Employee(entry.getKey(), entry.getValue().floatValue()))\n                .collect(Collectors.toList());\n    }\n}\n\n</code></pre>\n<p>and then call this function by the list that you want to dedup.</p>\n<pre><code>List&lt;Employee&gt; payment = Arrays.asList(\n                new Employee(&quot;1&quot;, 3000.00f),\n                new Employee(&quot;1&quot;, 6000.00f),\n                new Employee(&quot;2&quot;, 5000.00f),\n                new Employee(&quot;3&quot;, 4000.00f)\n                );\n\nList&lt;Employee&gt; newPayment = Dedup.dedupByIds(payment);\n\n//printing values to console \nfor (Employee e : newPayment) {\n    System.out.println(e.getId() + &quot; : &quot; + e.getCompensation());\n}\n</code></pre>\n"}],"owner":{"account_id":14024747,"reputation":71,"user_id":10130103,"display_name":"Daniel "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76002788,"answer_count":2,"score":0,"last_activity_date":1681371299,"creation_date":1681369340,"question_id":76002531,"body_markdown":"I have a `Employee` class \r\n```\r\nclass Employee {\r\n\r\n    private final String id;\r\n    private float compensation;\r\n\r\n    public Employee(String id, float compensation) {\r\n        this.id = id;\r\n        this.compensation = compensation;\r\n    }\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n    \r\n    public float getCompensation() {\r\n        return compensation;\r\n    }\r\n}\r\n```\r\nThen I have a list of Employees\r\n\r\n```\r\nList&lt;Employee&gt; payment = Arrays.asList(\r\n      new Employee(&quot;1&quot;, 3000.00),\r\n      new Employee(&quot;1&quot;, 6000.00),\r\n      new Employee(&quot;2&quot;, 5000.00),\r\n      new Employee(&quot;3&quot;, 4000.00),\r\n);\r\n```\r\nHow to dedup the list by the employee ID and combine the compensation?\r\n\r\nExpected result:\r\n\r\n```\r\nList&lt;Employee&gt; newPayment = Arrays.asList(\r\n      new Employee(&quot;1&quot;, 9000.00),\r\n      new Employee(&quot;2&quot;, 5000.00),\r\n      new Employee(&quot;3&quot;, 4000.00),\r\n);\r\n```","title":"Remove a list of user-defined class object and combine value of one property in Java","body":"<p>I have a <code>Employee</code> class</p>\n<pre><code>class Employee {\n\n    private final String id;\n    private float compensation;\n\n    public Employee(String id, float compensation) {\n        this.id = id;\n        this.compensation = compensation;\n    }\n\n    public String getId() {\n        return id;\n    }\n    \n    public float getCompensation() {\n        return compensation;\n    }\n}\n</code></pre>\n<p>Then I have a list of Employees</p>\n<pre><code>List&lt;Employee&gt; payment = Arrays.asList(\n      new Employee(&quot;1&quot;, 3000.00),\n      new Employee(&quot;1&quot;, 6000.00),\n      new Employee(&quot;2&quot;, 5000.00),\n      new Employee(&quot;3&quot;, 4000.00),\n);\n</code></pre>\n<p>How to dedup the list by the employee ID and combine the compensation?</p>\n<p>Expected result:</p>\n<pre><code>List&lt;Employee&gt; newPayment = Arrays.asList(\n      new Employee(&quot;1&quot;, 9000.00),\n      new Employee(&quot;2&quot;, 5000.00),\n      new Employee(&quot;3&quot;, 4000.00),\n);\n</code></pre>\n"},{"tags":["java","open-telemetry","javaagents"],"answers":[{"tags":[],"owner":{"account_id":111923,"reputation":649,"user_id":295416,"display_name":"trask"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1681182060,"creation_date":1681182060,"answer_id":75982103,"question_id":75966427,"body_markdown":"&gt; why would latency take a hit?\r\n\r\nThe instrumentation has to do some work on the main thread to capture request telemetry.\r\n\r\n&gt; simple drop wizard rest application which has one dummy API\r\n\r\nThe % overhead for instrumenting a dummy API (which does nothing) is generally going to be higher than the % overhead for instrumenting a real application (which does real work).\r\n\r\n&gt; What can I do to keep the impact to a minimum\r\n\r\nYou would probably need to capture JFR profiling data and dig into where the specific bottlenecks are. If you find anything interesting please post to https://github.com/open-telemetry/opentelemetry-java-instrumentation/issues and we&#39;ll see if there&#39;s anything more that can be done.","title":"When using OpenTelemetry Java agent to capture traces, all critical metrics degrade close to 15%","body":"<blockquote>\n<p>why would latency take a hit?</p>\n</blockquote>\n<p>The instrumentation has to do some work on the main thread to capture request telemetry.</p>\n<blockquote>\n<p>simple drop wizard rest application which has one dummy API</p>\n</blockquote>\n<p>The % overhead for instrumenting a dummy API (which does nothing) is generally going to be higher than the % overhead for instrumenting a real application (which does real work).</p>\n<blockquote>\n<p>What can I do to keep the impact to a minimum</p>\n</blockquote>\n<p>You would probably need to capture JFR profiling data and dig into where the specific bottlenecks are. If you find anything interesting please post to <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/issues\" rel=\"nofollow noreferrer\">https://github.com/open-telemetry/opentelemetry-java-instrumentation/issues</a> and we'll see if there's anything more that can be done.</p>\n"}],"owner":{"account_id":1914991,"reputation":95,"user_id":1727736,"display_name":"Avinash Vundyala"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":991,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681371056,"creation_date":1680971610,"question_id":75966427,"body_markdown":"We are evaluating open telemetry Java agent to capture traces. I have done a perf test using Jmeter and noticed all critical metrics (Latency, requests/sec, heap memory), though CPU remain almost similar.\r\n\r\nTest on a simple drop wizard rest application which has one dummy API.\r\n\r\nThe configuration used is as follows:\r\n\r\n```\r\njava -Xms3g -Xmx4g -javaagent:./opentelemetry-javaagent.jar \r\n-Dotel.instrumentation.common.default-enabled=false \r\n-Dotel.instrumentation.experimental.span-suppression-strategy=span-kind \r\n-Dotel.traces.sampler=traceidratio \r\n-Dotel.traces.sampler.arg=0.01 \r\n-Dotel.bsp.max.export.size=1024 \r\n-Dotel.bsp.max.queue.size=4096 \r\n-Dotel.bsp.schedule.delay=30000ms \r\n-Dotel.logs.exporter=none \r\n-Dotel.metrics.exporter=none \r\n-Dotel.instrumentation.jetty.enabled=true \r\n-Dotel.instrumentation.apache-httpclient.enabled=true \r\n-Dotel.service.name=root-service \r\n-Dotel.exporter.otlp.endpoint=http://&lt;ip&gt;:4317 \r\n-Dcom.sun.management.jmxremote \r\n-Dcom.sun.management.jmxremote.port=40002 \r\n-Dcom.sun.management.jmxremote.local.only=false \r\n-Dcom.sun.management.jmxremote.authenticate=false \r\n-Dcom.sun.management.jmxremote.ssl=false \r\n-jar root-service-1.0-SNAPSHOT.jar server /home/user/apps/config/config.yml\r\n\r\n```\r\n\r\nI only enabled Jetty and Apache HTTP clients.\r\n\r\n\r\nAm I doing something wrong ? Also, why would latency take a hit? Is the agent doing anything expensive? What can I do to keep the impact to a minimum.\r\n","title":"When using OpenTelemetry Java agent to capture traces, all critical metrics degrade close to 15%","body":"<p>We are evaluating open telemetry Java agent to capture traces. I have done a perf test using Jmeter and noticed all critical metrics (Latency, requests/sec, heap memory), though CPU remain almost similar.</p>\n<p>Test on a simple drop wizard rest application which has one dummy API.</p>\n<p>The configuration used is as follows:</p>\n<pre><code>java -Xms3g -Xmx4g -javaagent:./opentelemetry-javaagent.jar \n-Dotel.instrumentation.common.default-enabled=false \n-Dotel.instrumentation.experimental.span-suppression-strategy=span-kind \n-Dotel.traces.sampler=traceidratio \n-Dotel.traces.sampler.arg=0.01 \n-Dotel.bsp.max.export.size=1024 \n-Dotel.bsp.max.queue.size=4096 \n-Dotel.bsp.schedule.delay=30000ms \n-Dotel.logs.exporter=none \n-Dotel.metrics.exporter=none \n-Dotel.instrumentation.jetty.enabled=true \n-Dotel.instrumentation.apache-httpclient.enabled=true \n-Dotel.service.name=root-service \n-Dotel.exporter.otlp.endpoint=http://&lt;ip&gt;:4317 \n-Dcom.sun.management.jmxremote \n-Dcom.sun.management.jmxremote.port=40002 \n-Dcom.sun.management.jmxremote.local.only=false \n-Dcom.sun.management.jmxremote.authenticate=false \n-Dcom.sun.management.jmxremote.ssl=false \n-jar root-service-1.0-SNAPSHOT.jar server /home/user/apps/config/config.yml\n\n</code></pre>\n<p>I only enabled Jetty and Apache HTTP clients.</p>\n<p>Am I doing something wrong ? Also, why would latency take a hit? Is the agent doing anything expensive? What can I do to keep the impact to a minimum.</p>\n"},{"tags":["java","spring","spring-boot","debugging","intellij-idea"],"comments":[{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":2,"creation_date":1681047751,"post_id":75970794,"comment_id":133993022,"body_markdown":"It could happpen that there&#39;s an exception and the debugger is following the exception path.","body":"It could happpen that there&#39;s an exception and the debugger is following the exception path."},{"owner":{"account_id":25290253,"reputation":41,"user_id":19116508,"display_name":"m_jdm35"},"score":0,"creation_date":1681060482,"post_id":75970794,"comment_id":133994754,"body_markdown":"I&#39;m not really sure what&#39;s going on in the framework&#39;s classes, but I bet is not an exception. Unless Spring throws the exception and leaves the catch empty.","body":"I&#39;m not really sure what&#39;s going on in the framework&#39;s classes, but I bet is not an exception. Unless Spring throws the exception and leaves the catch empty."},{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1681154024,"post_id":75970794,"comment_id":134007720,"body_markdown":"Share a piece of code showing where this is happening","body":"Share a piece of code showing where this is happening"},{"owner":{"account_id":25290253,"reputation":41,"user_id":19116508,"display_name":"m_jdm35"},"score":0,"creation_date":1681237086,"post_id":75970794,"comment_id":134023211,"body_markdown":"I added the code to the post.","body":"I added the code to the post."},{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1681297177,"post_id":75970794,"comment_id":134032820,"body_markdown":"What is `player`? Where is it coming from? This is not a working code snippet","body":"What is <code>player</code>? Where is it coming from? This is not a working code snippet"},{"owner":{"account_id":25290253,"reputation":41,"user_id":19116508,"display_name":"m_jdm35"},"score":0,"creation_date":1681370995,"post_id":75970794,"comment_id":134046122,"body_markdown":"It is now. Player doesn&#39;t matter.","body":"It is now. Player doesn&#39;t matter."},{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1681413196,"post_id":75970794,"comment_id":134056526,"body_markdown":"But of course the debugger will go into Spring classes because there&#39;s no more code but going into the framework itself. What are you expecting to happen here?","body":"But of course the debugger will go into Spring classes because there&#39;s no more code but going into the framework itself. What are you expecting to happen here?"}],"owner":{"account_id":25290253,"reputation":41,"user_id":19116508,"display_name":"m_jdm35"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681370918,"creation_date":1681046772,"question_id":75970794,"body_markdown":"I&#39;m debugging my Spring Boot app with IntelliJ. I&#39;m pressing step over and the debugger steps into built in Spring classes like &quot;InvocableHandlerMethod&quot;. How can I debug only my code and not go into Spring classes.\r\n\r\n    @GetMapping(&quot;/restapi&quot;)\r\n    public String restapi() {\r\n        String result = &quot;hello&quot;; // breakpoint\r\n        return result; // after this statement \r\n             //debugger goes into InvocableHandlerMethod\r\n    }\r\n\r\nNow, this is not the best example, I tried to find where the debugger went inside Spring&#39;s classes in the middle of a method, but I could not.\r\n\r\nI searched, did not find answear.","title":"Stop Intellij debugger stepping into Spring classes","body":"<p>I'm debugging my Spring Boot app with IntelliJ. I'm pressing step over and the debugger steps into built in Spring classes like &quot;InvocableHandlerMethod&quot;. How can I debug only my code and not go into Spring classes.</p>\n<pre><code>@GetMapping(&quot;/restapi&quot;)\npublic String restapi() {\n    String result = &quot;hello&quot;; // breakpoint\n    return result; // after this statement \n         //debugger goes into InvocableHandlerMethod\n}\n</code></pre>\n<p>Now, this is not the best example, I tried to find where the debugger went inside Spring's classes in the middle of a method, but I could not.</p>\n<p>I searched, did not find answear.</p>\n"},{"tags":["java","android","react-native"],"owner":{"account_id":28246090,"reputation":188,"user_id":21593096,"display_name":"Anh Dang Vien"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681370739,"creation_date":1681370739,"question_id":76002712,"body_markdown":"&quot;error typeerror : cannot read property &#39;result code &#39; of undefined&quot;\r\n\r\n[![Error screen ](https://i.stack.imgur.com/DGtON.png)](https://i.stack.imgur.com/DGtON.png)\r\n\r\nWhen i run it with command &quot;npm react-native start &quot; it very ok but when i trying build it to apk with command &quot;  ./gradlew assembleRelease&quot; and run on android it get error \r\n\r\n\r\ni don&#39;t know what happend this appear with me ","title":"Get error message react native to build release app.apk &quot;error typeerror : cannot read property &#39;result code &#39; of undefined&quot;","body":"<p>&quot;error typeerror : cannot read property 'result code ' of undefined&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/DGtON.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DGtON.png\" alt=\"Error screen \" /></a></p>\n<p>When i run it with command &quot;npm react-native start &quot; it very ok but when i trying build it to apk with command &quot;  ./gradlew assembleRelease&quot; and run on android it get error</p>\n<p>i don't know what happend this appear with me</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1681385219,"post_id":76002706,"comment_id":134049398,"body_markdown":"Are you getting any errors? Your code looks good. The methods must have different names of course. Like findByUsername() vs. loadFullByUsername()","body":"Are you getting any errors? Your code looks good. The methods must have different names of course. Like findByUsername() vs. loadFullByUsername()"}],"owner":{"account_id":10827831,"reputation":143,"user_id":7963227,"display_name":"Sametcey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681370668,"creation_date":1681370668,"question_id":76002706,"body_markdown":"iam using Spring data JPA with Hibernate and the Problem is that i want to get The Users with Roles and without Roles (He should not Join in Database). How can i do that? FetchType is LAZY.\r\n\r\nmy User class:\r\n\r\n    public class APPUser implements UserDetails{\r\n        \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private String username;\r\n        \r\n        @ElementCollection(targetClass = APPUserRoles.class, fetch = FetchType.LAZY)\r\n        @CollectionTable( \r\n                name = &quot;APPUserRoles&quot;,\r\n                joinColumns = @JoinColumn (name = &quot;username&quot;, referencedColumnName = &quot;username&quot;)\r\n            )\r\n        @Enumerated(EnumType.STRING)\r\n        private List&lt;APPUserRoles&gt; appuserroles;\r\n\r\nAnd my Repository for Spring data:\r\n\r\n        @Query(&quot;SELECT user FROM APPUser user JOIN FETCH user.appuserroles WHERE user.username :username&quot;)\r\n        APPUser findByUsername(@Param(&quot;username&quot;) String username); // WITH JOIN because of @Query\r\n        \r\n        APPUser findByUsername(String username); // Wihtout Join because LAZY\r\n\r\nNow i want to get ONLY the Users (he should not do a JOIN). and on the other side i want to get Users WITH Roles?\r\n\r\nso in my example above you see that so i need two same Methods but in one Case WITH JOIN and on other case WITHOUT join.","title":"Spring Data JPA - Entity with FetchTyp.Lazy how to split Query?","body":"<p>iam using Spring data JPA with Hibernate and the Problem is that i want to get The Users with Roles and without Roles (He should not Join in Database). How can i do that? FetchType is LAZY.</p>\n<p>my User class:</p>\n<pre><code>public class APPUser implements UserDetails{\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private String username;\n    \n    @ElementCollection(targetClass = APPUserRoles.class, fetch = FetchType.LAZY)\n    @CollectionTable( \n            name = &quot;APPUserRoles&quot;,\n            joinColumns = @JoinColumn (name = &quot;username&quot;, referencedColumnName = &quot;username&quot;)\n        )\n    @Enumerated(EnumType.STRING)\n    private List&lt;APPUserRoles&gt; appuserroles;\n</code></pre>\n<p>And my Repository for Spring data:</p>\n<pre><code>    @Query(&quot;SELECT user FROM APPUser user JOIN FETCH user.appuserroles WHERE user.username :username&quot;)\n    APPUser findByUsername(@Param(&quot;username&quot;) String username); // WITH JOIN because of @Query\n    \n    APPUser findByUsername(String username); // Wihtout Join because LAZY\n</code></pre>\n<p>Now i want to get ONLY the Users (he should not do a JOIN). and on the other side i want to get Users WITH Roles?</p>\n<p>so in my example above you see that so i need two same Methods but in one Case WITH JOIN and on other case WITHOUT join.</p>\n"},{"tags":["java","jar","xml-parsing","overriding","xml-rpc"],"owner":{"account_id":27119556,"reputation":1,"user_id":20663419,"display_name":"Abhishek Matasuguru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681370558,"creation_date":1681369030,"question_id":76002493,"body_markdown":"I have the execute method which is from xmlrpc.jar and xmlrpcserver.class this execute method takes inputs and processes it to execute internal method in the same class , this execute internal method has parse(input) which parses the inputstream, but this parse method is declared in a different class file called xmlrpc.class , i need to add a decoding method before parsing the inputstream, as there are many streams coming from different classes ultimately i need to add decoding method here in the parse method of xmlrpc.class how can i do it ? can i override the method ? but the execute method is in my class which extends xmlrpcserver not xmlrpc , i am confused how can i do it \r\n\r\nthis is how it looks\r\n\r\n     byte[] result = xmlrpcserver.**execute** (request.getInputStream(), user, password);\r\n     response.setContentType (&quot;text/xml&quot;);\r\n\r\nthis is from another file \r\n\r\n     server.**execute**(&quot;admin.deployStrategy&quot;, fixParams(params));\r\n         \r\neven though both execute methods are pointing to different class files in jar ultimately they are getting parsed by the parse method  ","title":"How can i override a method in a jar which is being called indirectly through functional flow in my code","body":"<p>I have the execute method which is from xmlrpc.jar and xmlrpcserver.class this execute method takes inputs and processes it to execute internal method in the same class , this execute internal method has parse(input) which parses the inputstream, but this parse method is declared in a different class file called xmlrpc.class , i need to add a decoding method before parsing the inputstream, as there are many streams coming from different classes ultimately i need to add decoding method here in the parse method of xmlrpc.class how can i do it ? can i override the method ? but the execute method is in my class which extends xmlrpcserver not xmlrpc , i am confused how can i do it</p>\n<p>this is how it looks</p>\n<pre><code> byte[] result = xmlrpcserver.**execute** (request.getInputStream(), user, password);\n response.setContentType (&quot;text/xml&quot;);\n</code></pre>\n<p>this is from another file</p>\n<pre><code> server.**execute**(&quot;admin.deployStrategy&quot;, fixParams(params));\n     \n</code></pre>\n<p>even though both execute methods are pointing to different class files in jar ultimately they are getting parsed by the parse method</p>\n"},{"tags":["java","unicode"],"answers":[{"comments":[{"owner":{"account_id":427496,"reputation":853,"user_id":809289,"accept_rate":79,"display_name":"k-den"},"score":0,"creation_date":1479767125,"post_id":18381015,"comment_id":68688316,"body_markdown":"Can you get a single Java Character instead of an array of char?","body":"Can you get a single Java Character instead of an array of char?"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":4,"creation_date":1486417725,"post_id":18381015,"comment_id":71327301,"body_markdown":"@k-den Yes, with something like `new StringBuilder().appendCodePoint(codepoint).toString().charAt(0)`, but be aware that codepoints above 64k will result in *two* chars, a high and low surrogate pair. You may prefer to leave off the `.charAt(0)` and simply get the result as a `String`.","body":"@k-den Yes, with something like <code>new StringBuilder().appendCodePoint(codepoint).toString().charAt&zwnj;&#8203;(0)</code>, but be aware that codepoints above 64k will result in <i>two</i> chars, a high and low surrogate pair. You may prefer to leave off the <code>.charAt(0)</code> and simply get the result as a <code>String</code>."}],"tags":[],"owner":{"account_id":294495,"reputation":32500,"user_id":598420,"accept_rate":91,"display_name":"Anirudha"},"comment_count":2,"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1377176364,"creation_date":1377175871,"answer_id":18381015,"question_id":18380901,"body_markdown":"Code points are written as hexadecimal numbers prefixed by `U+`\r\n\r\nSo,you can do this\r\n\r\n    int codepoint=Integer.parseInt(yourString.substring(2),16);\r\n    char[] ch=Character.toChars(codepoint);","title":"How do I convert unicode codepoints to their character representation?","body":"<p>Code points are written as hexadecimal numbers prefixed by <code>U+</code></p>\n\n<p>So,you can do this</p>\n\n<pre><code>int codepoint=Integer.parseInt(yourString.substring(2),16);\nchar[] ch=Character.toChars(codepoint);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":294495,"reputation":32500,"user_id":598420,"accept_rate":91,"display_name":"Anirudha"},"score":0,"creation_date":1377176210,"post_id":18381086,"comment_id":26991834,"body_markdown":"you are treating it as an int literal.. op have it as a string in the form `U+00E4`","body":"you are treating it as an int literal.. op have it as a string in the form <code>U+00E4</code>"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1377176426,"post_id":18381086,"comment_id":26991991,"body_markdown":"@Anirudh right, and you dealt with it appropiately. But I wonder whether `&quot;\\u00e4&quot;` was known to be equivalent (that is, in java source code). You got +1 from me.","body":"@Anirudh right, and you dealt with it appropiately. But I wonder whether <code>&quot;\\u00e4&quot;</code> was known to be equivalent (that is, in java source code). You got +1 from me."},{"owner":{"account_id":294495,"reputation":32500,"user_id":598420,"accept_rate":91,"display_name":"Anirudha"},"score":0,"creation_date":1377176850,"post_id":18381086,"comment_id":26992304,"body_markdown":"i guess they are equivalent..but am not sure about this..:)","body":"i guess they are equivalent..but am not sure about this..:)"}],"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1621645684,"creation_date":1377176074,"answer_id":18381086,"question_id":18380901,"body_markdown":"Call [this constructor](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#%3Cinit%3E(int%5B%5D,int,int)) on `String`. \r\n\r\n    &quot;\\u00E4&quot;\r\n\r\n    new String(new int[] { 0x00E4 }, 0, 1);","title":"How do I convert unicode codepoints to their character representation?","body":"<p>Call <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#%3Cinit%3E(int%5B%5D,int,int)\" rel=\"nofollow noreferrer\">this constructor</a> on <code>String</code>.</p>\n<pre><code>&quot;\\u00E4&quot;\n\nnew String(new int[] { 0x00E4 }, 0, 1);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":47227,"reputation":15660,"user_id":139766,"accept_rate":88,"display_name":"Callum Rogers"},"score":5,"creation_date":1590411887,"post_id":48324736,"comment_id":109661516,"body_markdown":"You can just use `stringBuilder.appendCodePoint(cp)` instead of this.","body":"You can just use <code>stringBuilder.appendCodePoint(cp)</code> instead of this."},{"owner":{"account_id":12553655,"reputation":84,"user_id":9134243,"display_name":"tateisu"},"score":0,"creation_date":1598310483,"post_id":48324736,"comment_id":112411671,"body_markdown":"I know. I have prepared this code to explain the mechanism.","body":"I know. I have prepared this code to explain the mechanism."}],"tags":[],"owner":{"account_id":12553655,"reputation":84,"user_id":9134243,"display_name":"tateisu"},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1516289135,"creation_date":1516289135,"answer_id":48324736,"question_id":18380901,"body_markdown":"this example does not use char[].\r\n\r\n    // this code is Kotlin, but you can write same thing in Java\r\n    val sb = StringBuilder()\r\n    val cp :Int // codepoint\r\n    when {\r\n        Character.isBmpCodePoint(cp) -&gt; sb.append(cp.toChar())\r\n        Character.isValidCodePoint(cp) -&gt; {\r\n            sb.append(Character.highSurrogate(cp))\r\n            sb.append(Character.lowSurrogate(cp))\r\n        }\r\n        else -&gt; sb.append(&#39;?&#39;)\r\n    }","title":"How do I convert unicode codepoints to their character representation?","body":"<p>this example does not use char[].</p>\n\n<pre><code>// this code is Kotlin, but you can write same thing in Java\nval sb = StringBuilder()\nval cp :Int // codepoint\nwhen {\n    Character.isBmpCodePoint(cp) -&gt; sb.append(cp.toChar())\n    Character.isValidCodePoint(cp) -&gt; {\n        sb.append(Character.highSurrogate(cp))\n        sb.append(Character.lowSurrogate(cp))\n    }\n    else -&gt; sb.append('?')\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":171978,"reputation":1460,"user_id":399723,"accept_rate":25,"display_name":"Douglas Held"},"score":2,"creation_date":1531084195,"post_id":48365950,"comment_id":89450965,"body_markdown":"If the code point is higher than the maximum value of char, then it will overflow and you will get the wrong code point. I do not think this is a good idea.","body":"If the code point is higher than the maximum value of char, then it will overflow and you will get the wrong code point. I do not think this is a good idea."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1622098412,"post_id":48365950,"comment_id":119693586,"body_markdown":"The `char` type has been obsolete in Java for many years (decades?), unable to represent even half of the characters defined in Unicode.","body":"The <code>char</code> type has been obsolete in Java for many years (decades?), unable to represent even half of the characters defined in Unicode."}],"tags":[],"owner":{"account_id":8858376,"reputation":67,"user_id":6713458,"display_name":"Roovy"},"comment_count":2,"down_vote_count":7,"up_vote_count":0,"is_accepted":false,"score":-7,"last_activity_date":1516531607,"creation_date":1516531607,"answer_id":48365950,"question_id":18380901,"body_markdown":"The easiest way I&#39;ve found so far is to just cast the codepoint; if you&#39;re just expecting a single char per codepoint, then this might be fine for you.:\r\n    \r\n    int codepoint = ...;\r\n    char c = (char)codepoint;","title":"How do I convert unicode codepoints to their character representation?","body":"<p>The easiest way I've found so far is to just cast the codepoint; if you're just expecting a single char per codepoint, then this might be fine for you.:</p>\n\n<pre><code>int codepoint = ...;\nchar c = (char)codepoint;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7097012,"reputation":1,"user_id":5430155,"display_name":"Abdo Magdy"},"comment_count":0,"down_vote_count":6,"up_vote_count":0,"is_accepted":false,"score":-6,"last_activity_date":1519930788,"creation_date":1519928542,"answer_id":49056273,"question_id":18380901,"body_markdown":"You can print them\r\n\r\n    s=&#39;\\u0645\\u0635\\u0631\\u064a&#39;\r\n    print(s)","title":"How do I convert unicode codepoints to their character representation?","body":"<p>You can print them</p>\n\n<pre><code>s='\\u0645\\u0635\\u0631\\u064a'\nprint(s)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":198390,"reputation":1053,"user_id":443019,"accept_rate":43,"display_name":"Qubei"},"score":0,"creation_date":1551487723,"post_id":54376494,"comment_id":96670898,"body_markdown":"thanks, but it&#39;s really @tateisu&#39;s code run through a converter","body":"thanks, but it&#39;s really @tateisu&#39;s code run through a converter"},{"owner":{"account_id":17531452,"reputation":79,"user_id":12715384,"display_name":"nullsector76"},"score":0,"creation_date":1627336027,"post_id":54376494,"comment_id":121124560,"body_markdown":"alright but, I need to know how to get the `/u` string not the actual value","body":"alright but, I need to know how to get the <code>&#47;u</code> string not the actual value"},{"owner":{"account_id":981769,"reputation":282,"user_id":1001314,"display_name":"esotericpig"},"score":0,"creation_date":1646890143,"post_id":54376494,"comment_id":126236526,"body_markdown":"Note that StringBuilder has .appendCodePoint()","body":"Note that StringBuilder has .appendCodePoint()"}],"tags":[],"owner":{"account_id":198390,"reputation":1053,"user_id":443019,"accept_rate":43,"display_name":"Qubei"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1548487663,"creation_date":1548487663,"answer_id":54376494,"question_id":18380901,"body_markdown":"Converted from Kotlin:\r\n\r\n        public String codepointToString(int cp) {\r\n            StringBuilder sb = new StringBuilder();\r\n            if (Character.isBmpCodePoint(cp)) {\r\n                sb.append((char) cp);\r\n            } else if (Character.isValidCodePoint(cp)) {\r\n                sb.append(Character.highSurrogate(cp));\r\n                sb.append(Character.lowSurrogate(cp));\r\n            } else {\r\n                sb.append(&#39;?&#39;);\r\n            }\r\n            return sb.toString();\r\n        }\r\n","title":"How do I convert unicode codepoints to their character representation?","body":"<p>Converted from Kotlin:</p>\n\n<pre><code>    public String codepointToString(int cp) {\n        StringBuilder sb = new StringBuilder();\n        if (Character.isBmpCodePoint(cp)) {\n            sb.append((char) cp);\n        } else if (Character.isValidCodePoint(cp)) {\n            sb.append(Character.highSurrogate(cp));\n            sb.append(Character.lowSurrogate(cp));\n        } else {\n            sb.append('?');\n        }\n        return sb.toString();\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1698421068,"post_id":59442325,"comment_id":136407913,"body_markdown":"In Java 8 (or: Java 5 and higher) you can use `new String(Character.toChars(i))` instead of `Character.toString(i)`","body":"In Java 8 (or: Java 5 and higher) you can use <code>new String(Character.toChars(i))</code> instead of <code>Character.toString(i)</code>"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1698453428,"post_id":59442325,"comment_id":136411935,"body_markdown":"@MarkRotteveel Yes, that approach would be more in the spirit of the question since the OP had specifically mentioned `Character.toChars(int codePoint)`.","body":"@MarkRotteveel Yes, that approach would be more in the spirit of the question since the OP had specifically mentioned <code>Character.toChars(int codePoint)</code>."}],"tags":[],"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1576998790,"creation_date":1576998790,"answer_id":59442325,"question_id":18380901,"body_markdown":"The question asked for a function to convert a string value representing a Unicode code point (i.e. `&quot;+Unnnn&quot;` rather than the Java formats of `&quot;\\unnnn&quot;` or `&quot;0xnnnn`). However, newer releases of Java have enhancements which simplify the processing of a string contain multiple code points in Unicode format: \r\n\r\n- The introduction of Streams in Java 8.\r\n- Method [`public static String toString​(int codePoint)`][1] which was added to the `Character` class in Java 11. It returns a `String` rather than a `char[]`, so `Character.toString(0x00E4)` returns `&quot;&#228;&quot;`.\r\n\r\nThose enhancements allow a different approach to solving the issue raised in the OP. This method transforms a set of code points in Unicode format to a readable `String` in a single statement:\r\n\r\n    void processUnicode() {\r\n\r\n        // Create a test string containing &quot;Hello World &#128513;&quot; with code points in Unicode format.\r\n        // Include an invalid code point (+U0wxyz), and a code point outside the Unicode range (+U70FFFF).\r\n        String data = &quot;+U0048+U0065+U006c+U006c+U0wxyz+U006f+U0020+U0057+U70FFFF+U006f+U0072+U006c+U0000064+U20+U1f601&quot;;\r\n        \r\n        String text = Arrays.stream(data.split(&quot;\\\\+U&quot;))\r\n                .filter(s -&gt; ! s.isEmpty()) // First element returned by split() is a zero length string.\r\n                .map(s -&gt; {\r\n                    try {\r\n                        return Integer.parseInt(s, 16);\r\n                    } catch (NumberFormatException e) { \r\n                        System.out.println(&quot;Ignoring element [&quot; + s + &quot;]: NumberFormatException from parseInt(\\&quot;&quot; + s + &quot;\\&quot;}&quot;);\r\n                    }\r\n                    return null; // If the code point is not represented as a valid hex String.\r\n                })\r\n                .filter(v -&gt; v != null) // Ignore syntactically invalid code points.\r\n                .filter(i -&gt; Character.isValidCodePoint(i)) // Ignore code points outside of Unicode range.\r\n                .map(i -&gt; Character.toString(i)) // Obtain the string value directly from the code point. (Requires JDK &gt;= 11 )\r\n                .collect(Collectors.joining());\r\n\r\n        System.out.println(text); // Prints &quot;Hello World &#128513;&quot;\r\n    }\r\n\r\nAnd this is the output:\r\n\r\n    run:\r\n    Ignoring element [0wxyz]: NumberFormatException from parseInt(&quot;0wxyz&quot;}\r\n    Hello World &#128513;\r\n    BUILD SUCCESSFUL (total time: 0 seconds)\r\n\r\nNotes:\r\n\r\n- With this approach there is no longer any need for a specific function to convert a code point in Unicode format. That&#39;s dispersed instead, through multiple intermediate operations in the `Stream` processing. Of course the same code could still be used to process just a single code point in Unicode format.\r\n- It&#39;s easy to add intermediate operations to perform further validation and processing on the `Stream`, such as case conversion, removal of emoticons, etc.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Character.html#toString(int)\r\n","title":"How do I convert unicode codepoints to their character representation?","body":"<p>The question asked for a function to convert a string value representing a Unicode code point (i.e. <code>\"+Unnnn\"</code> rather than the Java formats of <code>\"\\unnnn\"</code> or <code>\"0xnnnn</code>). However, newer releases of Java have enhancements which simplify the processing of a string contain multiple code points in Unicode format: </p>\n\n<ul>\n<li>The introduction of Streams in Java 8.</li>\n<li>Method <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Character.html#toString(int)\" rel=\"noreferrer\"><code>public static String toString​(int codePoint)</code></a> which was added to the <code>Character</code> class in Java 11. It returns a <code>String</code> rather than a <code>char[]</code>, so <code>Character.toString(0x00E4)</code> returns <code>\"ä\"</code>.</li>\n</ul>\n\n<p>Those enhancements allow a different approach to solving the issue raised in the OP. This method transforms a set of code points in Unicode format to a readable <code>String</code> in a single statement:</p>\n\n<pre><code>void processUnicode() {\n\n    // Create a test string containing \"Hello World 😁\" with code points in Unicode format.\n    // Include an invalid code point (+U0wxyz), and a code point outside the Unicode range (+U70FFFF).\n    String data = \"+U0048+U0065+U006c+U006c+U0wxyz+U006f+U0020+U0057+U70FFFF+U006f+U0072+U006c+U0000064+U20+U1f601\";\n\n    String text = Arrays.stream(data.split(\"\\\\+U\"))\n            .filter(s -&gt; ! s.isEmpty()) // First element returned by split() is a zero length string.\n            .map(s -&gt; {\n                try {\n                    return Integer.parseInt(s, 16);\n                } catch (NumberFormatException e) { \n                    System.out.println(\"Ignoring element [\" + s + \"]: NumberFormatException from parseInt(\\\"\" + s + \"\\\"}\");\n                }\n                return null; // If the code point is not represented as a valid hex String.\n            })\n            .filter(v -&gt; v != null) // Ignore syntactically invalid code points.\n            .filter(i -&gt; Character.isValidCodePoint(i)) // Ignore code points outside of Unicode range.\n            .map(i -&gt; Character.toString(i)) // Obtain the string value directly from the code point. (Requires JDK &gt;= 11 )\n            .collect(Collectors.joining());\n\n    System.out.println(text); // Prints \"Hello World 😁\"\n}\n</code></pre>\n\n<p>And this is the output:</p>\n\n<pre><code>run:\nIgnoring element [0wxyz]: NumberFormatException from parseInt(\"0wxyz\"}\nHello World 😁\nBUILD SUCCESSFUL (total time: 0 seconds)\n</code></pre>\n\n<p>Notes:</p>\n\n<ul>\n<li>With this approach there is no longer any need for a specific function to convert a code point in Unicode format. That's dispersed instead, through multiple intermediate operations in the <code>Stream</code> processing. Of course the same code could still be used to process just a single code point in Unicode format.</li>\n<li>It's easy to add intermediate operations to perform further validation and processing on the <code>Stream</code>, such as case conversion, removal of emoticons, etc.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1107571,"reputation":3147,"user_id":1104885,"display_name":"Roger Keays"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645274837,"creation_date":1645274837,"answer_id":71185128,"question_id":18380901,"body_markdown":"Since Java 11, you can do:\r\n```java\r\njshell&gt; Character.toString(Integer.parseInt(&quot;U+00E4&quot;.substring(2), 16))\r\n$1 ==&gt; &quot;&#228;&quot;\r\n```\r\n","title":"How do I convert unicode codepoints to their character representation?","body":"<p>Since Java 11, you can do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>jshell&gt; Character.toString(Integer.parseInt(&quot;U+00E4&quot;.substring(2), 16))\n$1 ==&gt; &quot;ä&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8491468,"reputation":879,"user_id":8461756,"display_name":"Sandeep Dixit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681370049,"creation_date":1681368377,"answer_id":76002400,"question_id":18380901,"body_markdown":"\r\n- you want to display a codepoint?\r\nor\r\n- you want to convert a codepoint to char datatype?\r\n\r\nWell, second part is not possible because codepoint may be of 4 bytes and char datatype can hold only 2 bytes.\r\n\r\nSo if it may be more generalized approach to never use char data type in java, use int or String instead.\r\n\r\nWhat datatype is used to hold code point?\r\nSingle code point can be hold in an int data types.  A unicode String is technically an array of int, rather than array of char.\r\n\r\n    String smiley = new String(new int[] { 0x1F600 }, 0, 1); //int[] array of int codepoints can be converted to string\r\n    System.out.println(&quot; print smiley =  &quot;+smiley );\r\n\r\noutput\r\n     print smiley =  &#128512;\r\n\r\nIf you are using IntelliJ idea, You can copy output smiley and paste within double quoted string.  You will get this &quot;\\uD83D\\uDE00&quot;\r\n\r\nIf you print this string you again get a smiley \r\n\r\n    System.out.println(&quot;\\uD83D\\uDE00&quot;);\r\n\r\noutput\r\n    &#128512;\r\n\r\nWhy we cannot use single &quot;\\u&quot; to represent smiley within a string? \r\nBecause when \\u escape was designed, all unicode chars could be represented by 2 bytes or 4 hexadecimal digits. So there are always 4 hexadecimal digits after \\u in a java string literal. To represent a larger value of Unicode you need a larger hexadecimal number but that will break existing java strings. So there java uses same approach as utf-16 representation. \r\n\r\nFollowing 2 are equivalent.\r\n\r\n    String smiley = new String(new int[] { 0x1F600 }, 0, 1); //using single code point number\r\n    String smiley = &quot;\\uD83D\\uDE00&quot;;//split code point in 2 parts of 2 bytes each (utf-16)\r\n\r\n\r\nRefer to java doc here.\r\n\r\nhttps://docs.oracle.com/javase/7/docs/api/java/lang/Character.html#unicode\r\n\r\n&gt; Unicode Character Representations The char data type (and therefore\r\n&gt; the value that a Character object encapsulates) are based on the\r\n&gt; original Unicode specification, which defined characters as\r\n&gt; fixed-width 16-bit entities. The Unicode Standard has since been\r\n&gt; changed to allow for characters whose representation requires more\r\n&gt; than 16 bits. The range of legal code points is now U+0000 to\r\n&gt; U+10FFFF, known as Unicode scalar value. (Refer to the definition of\r\n&gt; the U+n notation in the Unicode Standard.)\r\n&gt; \r\n&gt; The set of characters from U+0000 to U+FFFF is sometimes referred to\r\n&gt; as the Basic Multilingual Plane (BMP). Characters whose code points\r\n&gt; are greater than U+FFFF are called supplementary characters. The Java\r\n&gt; platform uses the UTF-16 representation in char arrays and in the\r\n&gt; String and StringBuffer classes. In this representation, supplementary\r\n&gt; characters are represented as a pair of char values, the first from\r\n&gt; the high-surrogates range, (\\uD800-\\uDBFF), the second from the\r\n&gt; low-surrogates range (\\uDC00-\\uDFFF).\r\n&gt; \r\n&gt; A char value, therefore, represents Basic Multilingual Plane (BMP)\r\n&gt; code points, including the surrogate code points, or code units of the\r\n&gt; UTF-16 encoding. An int value represents all Unicode code points,\r\n&gt; including supplementary code points. The lower (least significant) 21\r\n&gt; bits of int are used to represent Unicode code points and the upper\r\n&gt; (most significant) 11 bits must be zero. Unless otherwise specified,\r\n&gt; the behavior with respect to supplementary characters and surrogate\r\n&gt; char values is as follows:\r\n&gt; \r\n&gt; The methods that only accept a char value cannot support supplementary\r\n&gt; characters. They treat char values from the surrogate ranges as\r\n&gt; undefined characters. For example, Character.isLetter(&#39;\\uD840&#39;)\r\n&gt; returns false, even though this specific value if followed by any\r\n&gt; low-surrogate value in a string would represent a letter. The methods\r\n&gt; that accept an int value support all Unicode characters, including\r\n&gt; supplementary characters. For example, Character.isLetter(0x2F81A)\r\n&gt; returns true because the code point value represents a letter (a CJK\r\n&gt; ideograph). In the Java SE API documentation, Unicode code point is\r\n&gt; used for character values in the range between U+0000 and U+10FFFF,\r\n&gt; and Unicode code unit is used for 16-bit char values that are code\r\n&gt; units of the UTF-16 encoding. For more information on Unicode\r\n&gt; terminology, refer to the Unicode Glossary.\r\n\r\n ","title":"How do I convert unicode codepoints to their character representation?","body":"<ul>\n<li>you want to display a codepoint?\nor</li>\n<li>you want to convert a codepoint to char datatype?</li>\n</ul>\n<p>Well, second part is not possible because codepoint may be of 4 bytes and char datatype can hold only 2 bytes.</p>\n<p>So if it may be more generalized approach to never use char data type in java, use int or String instead.</p>\n<p>What datatype is used to hold code point?\nSingle code point can be hold in an int data types.  A unicode String is technically an array of int, rather than array of char.</p>\n<pre><code>String smiley = new String(new int[] { 0x1F600 }, 0, 1); //int[] array of int codepoints can be converted to string\nSystem.out.println(&quot; print smiley =  &quot;+smiley );\n</code></pre>\n<p>output\nprint smiley =  😀</p>\n<p>If you are using IntelliJ idea, You can copy output smiley and paste within double quoted string.  You will get this &quot;\\uD83D\\uDE00&quot;</p>\n<p>If you print this string you again get a smiley</p>\n<pre><code>System.out.println(&quot;\\uD83D\\uDE00&quot;);\n</code></pre>\n<p>output\n😀</p>\n<p>Why we cannot use single &quot;\\u&quot; to represent smiley within a string?\nBecause when \\u escape was designed, all unicode chars could be represented by 2 bytes or 4 hexadecimal digits. So there are always 4 hexadecimal digits after \\u in a java string literal. To represent a larger value of Unicode you need a larger hexadecimal number but that will break existing java strings. So there java uses same approach as utf-16 representation.</p>\n<p>Following 2 are equivalent.</p>\n<pre><code>String smiley = new String(new int[] { 0x1F600 }, 0, 1); //using single code point number\nString smiley = &quot;\\uD83D\\uDE00&quot;;//split code point in 2 parts of 2 bytes each (utf-16)\n</code></pre>\n<p>Refer to java doc here.</p>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Character.html#unicode\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/lang/Character.html#unicode</a></p>\n<blockquote>\n<p>Unicode Character Representations The char data type (and therefore\nthe value that a Character object encapsulates) are based on the\noriginal Unicode specification, which defined characters as\nfixed-width 16-bit entities. The Unicode Standard has since been\nchanged to allow for characters whose representation requires more\nthan 16 bits. The range of legal code points is now U+0000 to\nU+10FFFF, known as Unicode scalar value. (Refer to the definition of\nthe U+n notation in the Unicode Standard.)</p>\n<p>The set of characters from U+0000 to U+FFFF is sometimes referred to\nas the Basic Multilingual Plane (BMP). Characters whose code points\nare greater than U+FFFF are called supplementary characters. The Java\nplatform uses the UTF-16 representation in char arrays and in the\nString and StringBuffer classes. In this representation, supplementary\ncharacters are represented as a pair of char values, the first from\nthe high-surrogates range, (\\uD800-\\uDBFF), the second from the\nlow-surrogates range (\\uDC00-\\uDFFF).</p>\n<p>A char value, therefore, represents Basic Multilingual Plane (BMP)\ncode points, including the surrogate code points, or code units of the\nUTF-16 encoding. An int value represents all Unicode code points,\nincluding supplementary code points. The lower (least significant) 21\nbits of int are used to represent Unicode code points and the upper\n(most significant) 11 bits must be zero. Unless otherwise specified,\nthe behavior with respect to supplementary characters and surrogate\nchar values is as follows:</p>\n<p>The methods that only accept a char value cannot support supplementary\ncharacters. They treat char values from the surrogate ranges as\nundefined characters. For example, Character.isLetter('\\uD840')\nreturns false, even though this specific value if followed by any\nlow-surrogate value in a string would represent a letter. The methods\nthat accept an int value support all Unicode characters, including\nsupplementary characters. For example, Character.isLetter(0x2F81A)\nreturns true because the code point value represents a letter (a CJK\nideograph). In the Java SE API documentation, Unicode code point is\nused for character values in the range between U+0000 and U+10FFFF,\nand Unicode code unit is used for 16-bit char values that are code\nunits of the UTF-16 encoding. For more information on Unicode\nterminology, refer to the Unicode Glossary.</p>\n</blockquote>\n"}],"owner":{"account_id":2716481,"reputation":7167,"user_id":2343743,"accept_rate":71,"display_name":"David Michael Gang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33923,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":18381015,"answer_count":9,"score":39,"last_activity_date":1681370049,"creation_date":1377175604,"question_id":18380901,"body_markdown":"How do I convert strings representing code points to the appropriate character?\r\n\r\nFor example, I want to have a function which gets `U+00E4` and returns `&#228;`.\r\n\r\nI know that in the character class I have a function `toChars(int codePoint)` which takes an integer but there is no function which takes a string of this type.\r\n\r\nIs there a built in function or do I have to do some transformation on the string to get the integer which I can send to the function?\r\n","title":"How do I convert unicode codepoints to their character representation?","body":"<p>How do I convert strings representing code points to the appropriate character?</p>\n\n<p>For example, I want to have a function which gets <code>U+00E4</code> and returns <code>ä</code>.</p>\n\n<p>I know that in the character class I have a function <code>toChars(int codePoint)</code> which takes an integer but there is no function which takes a string of this type.</p>\n\n<p>Is there a built in function or do I have to do some transformation on the string to get the integer which I can send to the function?</p>\n"},{"tags":["java","rest","pdf","download"],"comments":[{"owner":{"account_id":2884775,"reputation":497,"user_id":2474930,"display_name":"Raj"},"score":0,"creation_date":1563520362,"post_id":57107151,"comment_id":100734452,"body_markdown":"can u try : @Produces(MediaType.APPLICATION_OCTET_STREAM)","body":"can u try : @Produces(MediaType.APPLICATION_OCTET_STREAM)"},{"owner":{"account_id":4904562,"reputation":153,"user_id":3951645,"display_name":"seasagar"},"score":0,"creation_date":1563521680,"post_id":57107151,"comment_id":100735101,"body_markdown":"@Raj I tried the option you suggested but still downloadPDF.json file is getting download and not pdf","body":"@Raj I tried the option you suggested but still downloadPDF.json file is getting download and not pdf"},{"owner":{"account_id":4904562,"reputation":153,"user_id":3951645,"display_name":"seasagar"},"score":0,"creation_date":1563858753,"post_id":57107151,"comment_id":100828805,"body_markdown":"Can somebody please help me with this.","body":"Can somebody please help me with this."},{"owner":{"account_id":2884775,"reputation":497,"user_id":2474930,"display_name":"Raj"},"score":0,"creation_date":1563859819,"post_id":57107151,"comment_id":100829134,"body_markdown":"can you put together ur whole source code in github and share the link ?","body":"can you put together ur whole source code in github and share the link ?"}],"answers":[{"comments":[{"owner":{"account_id":4904562,"reputation":153,"user_id":3951645,"display_name":"seasagar"},"score":0,"creation_date":1563521891,"post_id":57107321,"comment_id":100735208,"body_markdown":"Sorry but I am not able to get this classes. Are they belog to javaw.rs package?","body":"Sorry but I am not able to get this classes. Are they belog to javaw.rs package?"}],"tags":[],"owner":{"account_id":12468919,"reputation":11,"user_id":9077803,"display_name":"Caner"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1563520442,"creation_date":1563520442,"answer_id":57107321,"question_id":57107151,"body_markdown":"Try this\r\n\r\n                HttpResponse response = HttpContext.Current.Response;\r\n                response.ClearContent();\r\n                response.Clear();\r\n                Response.ContentType = &quot;application/pdf&quot;;\r\n                Response.AppendHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + Path.GetFileName(strPath));\r\n                response.TransmitFile(strPath); //File\r\n                response.Flush();\r\n                response.End();\r\n                Response.ContentType = ContentType;\r\n                Response.AppendHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + Path.GetFileName(strPath));\r\n                Response.WriteFile(strPath);\r\n                Response.End();\r\n\r\n ","title":"Download pdf from restful web services","body":"<p>Try this</p>\n\n<pre><code>            HttpResponse response = HttpContext.Current.Response;\n            response.ClearContent();\n            response.Clear();\n            Response.ContentType = \"application/pdf\";\n            Response.AppendHeader(\"Content-Disposition\", \"attachment; filename=\" + Path.GetFileName(strPath));\n            response.TransmitFile(strPath); //File\n            response.Flush();\n            response.End();\n            Response.ContentType = ContentType;\n            Response.AppendHeader(\"Content-Disposition\", \"attachment; filename=\" + Path.GetFileName(strPath));\n            Response.WriteFile(strPath);\n            Response.End();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11896372,"reputation":182,"user_id":8705653,"display_name":"Fakipo"},"score":0,"creation_date":1658212967,"post_id":57160491,"comment_id":128988703,"body_markdown":"Does this method automatically download a pdf?","body":"Does this method automatically download a pdf?"}],"tags":[],"owner":{"account_id":2884775,"reputation":497,"user_id":2474930,"display_name":"Raj"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563872662,"creation_date":1563872662,"answer_id":57160491,"question_id":57107151,"body_markdown":"Here is a spring boot example.\r\nyou can refer this example https://docs.spring.io/spring-boot/docs/current/reference/html/getting-started-first-application.html and attach the below class in the project\r\n\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.*;\r\n    import org.springframework.http.*;\r\n    import java.io.File;\r\n    import java.nio.file.Files;\r\n    @Controller\r\n    public class DemoController {\r\n    \r\n    \t@RequestMapping(value=&quot;/getpdf&quot;, method=RequestMethod.GET)\r\n    \tpublic ResponseEntity&lt;byte[]&gt; getPDF() {\r\n    \t\tFile file = new File(&quot;sample.pdf&quot;); // change to relative path\r\n    \t\tHttpHeaders headers = new HttpHeaders();\r\n    \t\theaders.setContentType(MediaType.APPLICATION_PDF);\r\n    \t\tString filename = &quot;output.pdf&quot;;\r\n    \t\theaders.setContentDispositionFormData(filename, filename);\r\n    \t\theaders.setCacheControl(&quot;must-revalidate, post-check=0, pre-check=0&quot;);\r\n    \t\tResponseEntity&lt;byte[]&gt; response = null;\r\n    \t\ttry {\r\n    \t\t\tresponse = new org.springframework.http.ResponseEntity&lt;&gt;(Files.readAllBytes(file.toPath()), headers, org.springframework.http.HttpStatus.OK);\r\n    \t\t} catch (java.io.IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\treturn response;\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/getting-started-first-application.html","title":"Download pdf from restful web services","body":"<p>Here is a spring boot example.\nyou can refer this example <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/getting-started-first-application.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/getting-started-first-application.html</a> and attach the below class in the project</p>\n\n<pre><code>import org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.*;\nimport org.springframework.http.*;\nimport java.io.File;\nimport java.nio.file.Files;\n@Controller\npublic class DemoController {\n\n    @RequestMapping(value=\"/getpdf\", method=RequestMethod.GET)\n    public ResponseEntity&lt;byte[]&gt; getPDF() {\n        File file = new File(\"sample.pdf\"); // change to relative path\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_PDF);\n        String filename = \"output.pdf\";\n        headers.setContentDispositionFormData(filename, filename);\n        headers.setCacheControl(\"must-revalidate, post-check=0, pre-check=0\");\n        ResponseEntity&lt;byte[]&gt; response = null;\n        try {\n            response = new org.springframework.http.ResponseEntity&lt;&gt;(Files.readAllBytes(file.toPath()), headers, org.springframework.http.HttpStatus.OK);\n        } catch (java.io.IOException e) {\n            e.printStackTrace();\n        }\n        return response;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11738231,"reputation":356,"user_id":8591363,"display_name":"Ashok Parmar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599561814,"creation_date":1599560423,"answer_id":63791868,"question_id":57107151,"body_markdown":"Try this using Spring RestController\r\n\r\n    @PostMapping(value = &quot;/slip&quot;, headers = &quot;Accept=application/json&quot;,\r\n    \t\t\tproduces = &quot;application/pdf&quot;)\r\n    \tpublic ResponseEntity&lt;Resource&gt; generateSalarySlip(HttpServletRequest request,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t   @RequestBody   Locale locale) {\r\n    ...\r\n    ...\r\n    File file = new File(fileName);\r\n    \t\t\tHttpHeaders header = new HttpHeaders();\r\n    \t\t\theader.setContentType(MediaType.parseMediaType(&quot;application/pdf&quot;));\r\n    \r\n    \t\t\theader.add(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=salaryslip.pdf&quot;);\r\n    \t\t\theader.add(&quot;Cache-Control&quot;, &quot;no-cache, no-store, must-revalidate&quot;);\r\n    \t\t\theader.add(&quot;Pragma&quot;, &quot;no-cache&quot;);\r\n    \t\t\theader.add(&quot;Expires&quot;, &quot;0&quot;);\r\n    \t\t \r\n    InputStream targetStream = new FileInputStream(file);\r\n\t\t\tResource resource = new InputStreamResource(targetStream)\r\n    \t\t\treturn ResponseEntity.ok()\r\n    \t\t\t\t\t.headers(header)\r\n    \t\t\t\t\t.contentLength(file.length())\r\n    \t\t\t\t \t\t\t\t\t.contentType(MediaType.parseMediaType(&quot;application/pdf&quot;))\r\n    \t\t\t\t\t.body(resource);\r\n    \r\n    }\r\n\r\n","title":"Download pdf from restful web services","body":"<p>Try this using Spring RestController</p>\n<pre><code>@PostMapping(value = &quot;/slip&quot;, headers = &quot;Accept=application/json&quot;,\n            produces = &quot;application/pdf&quot;)\n    public ResponseEntity&lt;Resource&gt; generateSalarySlip(HttpServletRequest request,\n                                                       @RequestBody   Locale locale) {\n...\n...\nFile file = new File(fileName);\n            HttpHeaders header = new HttpHeaders();\n            header.setContentType(MediaType.parseMediaType(&quot;application/pdf&quot;));\n\n            header.add(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=salaryslip.pdf&quot;);\n            header.add(&quot;Cache-Control&quot;, &quot;no-cache, no-store, must-revalidate&quot;);\n            header.add(&quot;Pragma&quot;, &quot;no-cache&quot;);\n            header.add(&quot;Expires&quot;, &quot;0&quot;);\n         \nInputStream targetStream = new FileInputStream(file);\n        Resource resource = new InputStreamResource(targetStream)\n            return ResponseEntity.ok()\n                    .headers(header)\n                    .contentLength(file.length())\n                                    .contentType(MediaType.parseMediaType(&quot;application/pdf&quot;))\n                    .body(resource);\n\n}\n</code></pre>\n"}],"owner":{"account_id":4904562,"reputation":153,"user_id":3951645,"display_name":"seasagar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14366,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1681369395,"creation_date":1563519695,"question_id":57107151,"body_markdown":"I am writing a rest service which will download the pdf when user access this service on users machine. below is the code of my controller class.\r\n\r\nWhen I tried to access below url in browser, it is downloading .JSON file and not PDF file.\r\n\r\n&gt;URL:- http://localhost:8080/test-service/downloadPDF?userId=abcd&amp;requestingLocation=6&amp;orderId=06006030\r\n\r\nI have tried to use same code which was mentioned in below sites. It seems the straight forward code but not sure why it is not working.\r\nhttp://www.java2novice.com/restful-web-services/jax-rs-download-file/\r\nhttps://www.javatpoint.com/jax-rs-file-download-example\r\n\r\n\r\nBelow is method in controller.\r\n\r\n        @GET\r\n        @RequestMapping(value = &quot;/downloadPDF&quot;)\r\n        @Produces(&quot;application/pdf&quot;)\r\n        public @ResponseBody Response downloadDocument(@RequestParam(&quot;userId&quot;) String userId,@RequestParam(&quot;requestingLocation&quot;) String requestinglocation,@RequestParam(&quot;orderId&quot;) String orderId) {\r\n                String path = &quot;C:\\\\opt\\\\autobol\\\\logs\\\\autobol\\\\test2.pdf&quot;;\r\n        \tFile file = new File(path);  \r\n                ResponseBuilder response = Response.ok((Object) file);  \r\n                response.header(&quot;Content-Disposition&quot;,&quot;attachment; filename=\\&quot;javatpoint_pdf.pdf\\&quot;&quot;);  \r\n                return response.build(); \r\n        \t\t\r\n        \t}\r\n\r\nIt should download pdf file\r\n\r\nbelow is the content of downloaded file (file name downloadPDF.json):\r\n\r\n    {  \r\n       &quot;entity&quot;:&quot;C:\\\\opt\\\\autobol\\\\logs\\\\autobol\\\\test2.pdf&quot;,\r\n       &quot;status&quot;:200,\r\n       &quot;metadata&quot;:{  \r\n          &quot;Content-Disposition&quot;:[  \r\n             &quot;attachment; filename=\\&quot;javatpoint_pdf.pdf\\&quot;&quot;\r\n          ]\r\n       },\r\n       &quot;annotations&quot;:null,\r\n       &quot;entityClass&quot;:&quot;java.io.File&quot;,\r\n       &quot;genericType&quot;:null,\r\n       &quot;length&quot;:-1,\r\n       &quot;language&quot;:null,\r\n       &quot;location&quot;:null,\r\n       &quot;lastModified&quot;:null,\r\n       &quot;date&quot;:null,\r\n       &quot;closed&quot;:false,\r\n       &quot;cookies&quot;:{  \r\n    \r\n       },\r\n       &quot;statusInfo&quot;:&quot;OK&quot;,\r\n       &quot;stringHeaders&quot;:{  \r\n          &quot;Content-Disposition&quot;:[  \r\n             &quot;attachment; filename=\\&quot;javatpoint_pdf.pdf\\&quot;&quot;\r\n          ]\r\n       },\r\n       &quot;links&quot;:[  \r\n    \r\n       ],\r\n       &quot;entityTag&quot;:null,\r\n       &quot;allowedMethods&quot;:[  \r\n    \r\n       ],\r\n       &quot;mediaType&quot;:null,\r\n       &quot;headers&quot;:{  \r\n          &quot;Content-Disposition&quot;:[  \r\n             &quot;attachment; filename=\\&quot;javatpoint_pdf.pdf\\&quot;&quot;\r\n          ]\r\n       }\r\n    }\r\n\r\n in downloadPDF.json file","title":"Download pdf from restful web services","body":"<p>I am writing a rest service which will download the pdf when user access this service on users machine. below is the code of my controller class.</p>\n\n<p>When I tried to access below url in browser, it is downloading .JSON file and not PDF file.</p>\n\n<blockquote>\n  <p>URL:- <a href=\"http://localhost:8080/test-service/downloadPDF?userId=abcd&amp;requestingLocation=6&amp;orderId=06006030\" rel=\"nofollow noreferrer\">http://localhost:8080/test-service/downloadPDF?userId=abcd&amp;requestingLocation=6&amp;orderId=06006030</a></p>\n</blockquote>\n\n<p>I have tried to use same code which was mentioned in below sites. It seems the straight forward code but not sure why it is not working.\n<a href=\"http://www.java2novice.com/restful-web-services/jax-rs-download-file/\" rel=\"nofollow noreferrer\">http://www.java2novice.com/restful-web-services/jax-rs-download-file/</a>\n<a href=\"https://www.javatpoint.com/jax-rs-file-download-example\" rel=\"nofollow noreferrer\">https://www.javatpoint.com/jax-rs-file-download-example</a></p>\n\n<p>Below is method in controller.</p>\n\n<pre><code>    @GET\n    @RequestMapping(value = \"/downloadPDF\")\n    @Produces(\"application/pdf\")\n    public @ResponseBody Response downloadDocument(@RequestParam(\"userId\") String userId,@RequestParam(\"requestingLocation\") String requestinglocation,@RequestParam(\"orderId\") String orderId) {\n            String path = \"C:\\\\opt\\\\autobol\\\\logs\\\\autobol\\\\test2.pdf\";\n        File file = new File(path);  \n            ResponseBuilder response = Response.ok((Object) file);  \n            response.header(\"Content-Disposition\",\"attachment; filename=\\\"javatpoint_pdf.pdf\\\"\");  \n            return response.build(); \n\n        }\n</code></pre>\n\n<p>It should download pdf file</p>\n\n<p>below is the content of downloaded file (file name downloadPDF.json):</p>\n\n<pre><code>{  \n   \"entity\":\"C:\\\\opt\\\\autobol\\\\logs\\\\autobol\\\\test2.pdf\",\n   \"status\":200,\n   \"metadata\":{  \n      \"Content-Disposition\":[  \n         \"attachment; filename=\\\"javatpoint_pdf.pdf\\\"\"\n      ]\n   },\n   \"annotations\":null,\n   \"entityClass\":\"java.io.File\",\n   \"genericType\":null,\n   \"length\":-1,\n   \"language\":null,\n   \"location\":null,\n   \"lastModified\":null,\n   \"date\":null,\n   \"closed\":false,\n   \"cookies\":{  \n\n   },\n   \"statusInfo\":\"OK\",\n   \"stringHeaders\":{  \n      \"Content-Disposition\":[  \n         \"attachment; filename=\\\"javatpoint_pdf.pdf\\\"\"\n      ]\n   },\n   \"links\":[  \n\n   ],\n   \"entityTag\":null,\n   \"allowedMethods\":[  \n\n   ],\n   \"mediaType\":null,\n   \"headers\":{  \n      \"Content-Disposition\":[  \n         \"attachment; filename=\\\"javatpoint_pdf.pdf\\\"\"\n      ]\n   }\n}\n</code></pre>\n\n<p>in downloadPDF.json file</p>\n"},{"tags":["java","spring","spring-boot","resttemplate","apache-httpclient-4.x"],"comments":[{"owner":{"account_id":13616336,"reputation":334,"user_id":9822153,"display_name":"Himanshu Jain"},"score":0,"creation_date":1698405110,"post_id":75997781,"comment_id":136404439,"body_markdown":"Did you get a solution for this issue? I am facing the exact same issue. After server restart, the issue does not occur for sometime but later it starts again.","body":"Did you get a solution for this issue? I am facing the exact same issue. After server restart, the issue does not occur for sometime but later it starts again."}],"owner":{"account_id":7580118,"reputation":950,"user_id":5751045,"accept_rate":92,"display_name":"user09"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":699,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1681369314,"creation_date":1681316593,"question_id":75997781,"body_markdown":"Receiving below exception using resttemplate doing a post call.\r\nRestarting the service help the error go away for sometime but it gets back after some requests\r\n\r\n    Caused by: java.lang.IllegalStateException: Connection pool shut down\r\n        at org.apache.http.util.Asserts.check(Asserts.java:34) ~[httpcore-4.4.15.jar:4.4.15]\r\n        at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.requestConnection(PoolingHttpClientConnectionManager.java:269) ~[httpclient-4.5.13.jar:4.5.13]\r\n        at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:176) ~[httpclient-4.5.13.jar:4.5.13]\r\n        at brave.httpclient.TracingMainExec.execute(TracingMainExec.java:65) ~[brave-instrumentation-httpclient-5.13.9.jar:na]\r\n        at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13]\r\n        at brave.httpclient.TracingProtocolExec.execute(TracingProtocolExec.java:66) ~[brave-instrumentation-httpclient-5.13.9.jar:na]\r\n        at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13]\r\n        at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar:4.5.13]\r\n        at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar:4.5.13]\r\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar:4.5.13]\r\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56) ~[httpclient-4.5.13.jar:4.5.13]\r\n        at org.springframework.http.client.HttpComponentsStreamingClientHttpRequest.executeInternal(HttpComponentsStreamingClientHttpRequest.java:99) ~[spring-web-5.3.22.jar:5.3.22]\r\n        at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66) ~[spring-web-5.3.22.jar:5.3.22]\r\n        at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776) ~[spring-web-5.3.22.jar:5.3.22]\r\n        at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.22.jar:5.3.22]\r\n        at org.springframework.web.client.RestTemplate.postForObject(RestTemplate.java:437) ~[spring-web-5.3.22.jar:5.3.22]\r\n        at com.vanil.service.windriver.WindRiverTokenUtil.getWindRiverAuthToken(WindRiverTokenUtil.java:43) ~[classes/:na]\r\n        at com.vanil.service.windriver.WindRiverTokenUtil$$FastClassBySpringCGLIB$$493c6bee.invoke(&lt;generated&gt;) ~[classes/:na]\r\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.22.jar:5.3.22]\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.22.jar:5.3.22]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.22.jar:5.3.22]\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]\r\n        at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:54) ~[spring-context-5.3.22.jar:5.3.22]\r\n        at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:366) ~[spring-context-5.3.22.jar:5.3.22]\r\n        at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:421) ~[spring-context-5.3.22.jar:5.3.22]\r\n        at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:345) ~[spring-context-5.3.22.jar:5.3.22]\r\n        at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:64) ~[spring-context-5.3.22.jar:5.3.22]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]\r\n        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.22.jar:5.3.22]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]\r\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.22.jar:5.3.22]\r\n        at com.vanil.service.windriver.WindRiverTokenUtil$$EnhancerBySpringCGLIB$$a2677659.getWindRiverAuthToken(&lt;generated&gt;) ~[classes/:na]\r\n        at com.vanil.service.windriver.folderapi.WindRiverFolderClientImpl.createFolder(WindRiverFolderClientImpl.java:35) ~[classes/:na]\r\n        at com.vanil.service.windriver.folderapi.WindRiverFolderClientImpl$$FastClassBySpringCGLIB$$51945e24.invoke(&lt;generated&gt;) ~[classes/:na]\r\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.22.jar:5.3.22]\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.22.jar:5.3.22]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.22.jar:5.3.22]\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]\r\n        at org.springframework.retry.interceptor.RetryOperationsInterceptor$1.doWithRetry(RetryOperationsInterceptor.java:93) ~[spring-retry-1.3.1.jar:na]\r\n        at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:329) ~[spring-retry-1.3.1.jar:na]\r\n        at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:209) ~[spring-retry-1.3.1.jar:na]\r\n        at org.springframework.retry.interceptor.RetryOperationsInterceptor.invoke(RetryOperationsInterceptor.java:119) ~[spring-retry-1.3.1.jar:na]\r\n        at org.springframework.retry.annotation.AnnotationAwareRetryOperationsInterceptor.invoke(AnnotationAwareRetryOperationsInterceptor.java:163) ~[spring-retry-1.3.1.jar:na]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]\r\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.22.jar:5.3.22]\r\n        at com.vanil.service.windriver.folderapi.WindRiverFolderClientImpl$$EnhancerBySpringCGLIB$$f7d3aa92.createFolder(&lt;generated&gt;) ~[classes/:na]\r\n        at com.vanil.service.generate.start.upload.accTaskUploadProvider.createFolderForacc(accTaskUploadProvider.java:40) ~[classes/:na]\r\n        ... 76 common frames omitted\r\n\r\nUsing `httpclient:4.5.13`\r\n\r\nCreating resttempalte\r\n\r\n    @Autowired\r\n        public clientImpl(RestTemplateBuilder restTemplateBuilder) {\r\n            this.restTemplate = restTemplateBuilder.build();\r\n        }\r\n    \r\nConnection pool is not managed manually but depends on default resttemplate and httpclient configs","title":"JAVA java.lang.IllegalStateException: Connection pool shut down","body":"<p>Receiving below exception using resttemplate doing a post call.\nRestarting the service help the error go away for sometime but it gets back after some requests</p>\n<pre><code>Caused by: java.lang.IllegalStateException: Connection pool shut down\n    at org.apache.http.util.Asserts.check(Asserts.java:34) ~[httpcore-4.4.15.jar:4.4.15]\n    at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.requestConnection(PoolingHttpClientConnectionManager.java:269) ~[httpclient-4.5.13.jar:4.5.13]\n    at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:176) ~[httpclient-4.5.13.jar:4.5.13]\n    at brave.httpclient.TracingMainExec.execute(TracingMainExec.java:65) ~[brave-instrumentation-httpclient-5.13.9.jar:na]\n    at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13]\n    at brave.httpclient.TracingProtocolExec.execute(TracingProtocolExec.java:66) ~[brave-instrumentation-httpclient-5.13.9.jar:na]\n    at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13]\n    at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar:4.5.13]\n    at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar:4.5.13]\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar:4.5.13]\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56) ~[httpclient-4.5.13.jar:4.5.13]\n    at org.springframework.http.client.HttpComponentsStreamingClientHttpRequest.executeInternal(HttpComponentsStreamingClientHttpRequest.java:99) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.client.RestTemplate.postForObject(RestTemplate.java:437) ~[spring-web-5.3.22.jar:5.3.22]\n    at com.vanil.service.windriver.WindRiverTokenUtil.getWindRiverAuthToken(WindRiverTokenUtil.java:43) ~[classes/:na]\n    at com.vanil.service.windriver.WindRiverTokenUtil$$FastClassBySpringCGLIB$$493c6bee.invoke(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:54) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:366) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:421) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:345) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:64) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.22.jar:5.3.22]\n    at com.vanil.service.windriver.WindRiverTokenUtil$$EnhancerBySpringCGLIB$$a2677659.getWindRiverAuthToken(&lt;generated&gt;) ~[classes/:na]\n    at com.vanil.service.windriver.folderapi.WindRiverFolderClientImpl.createFolder(WindRiverFolderClientImpl.java:35) ~[classes/:na]\n    at com.vanil.service.windriver.folderapi.WindRiverFolderClientImpl$$FastClassBySpringCGLIB$$51945e24.invoke(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.retry.interceptor.RetryOperationsInterceptor$1.doWithRetry(RetryOperationsInterceptor.java:93) ~[spring-retry-1.3.1.jar:na]\n    at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:329) ~[spring-retry-1.3.1.jar:na]\n    at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:209) ~[spring-retry-1.3.1.jar:na]\n    at org.springframework.retry.interceptor.RetryOperationsInterceptor.invoke(RetryOperationsInterceptor.java:119) ~[spring-retry-1.3.1.jar:na]\n    at org.springframework.retry.annotation.AnnotationAwareRetryOperationsInterceptor.invoke(AnnotationAwareRetryOperationsInterceptor.java:163) ~[spring-retry-1.3.1.jar:na]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.22.jar:5.3.22]\n    at com.vanil.service.windriver.folderapi.WindRiverFolderClientImpl$$EnhancerBySpringCGLIB$$f7d3aa92.createFolder(&lt;generated&gt;) ~[classes/:na]\n    at com.vanil.service.generate.start.upload.accTaskUploadProvider.createFolderForacc(accTaskUploadProvider.java:40) ~[classes/:na]\n    ... 76 common frames omitted\n</code></pre>\n<p>Using <code>httpclient:4.5.13</code></p>\n<p>Creating resttempalte</p>\n<pre><code>@Autowired\n    public clientImpl(RestTemplateBuilder restTemplateBuilder) {\n        this.restTemplate = restTemplateBuilder.build();\n    }\n</code></pre>\n<p>Connection pool is not managed manually but depends on default resttemplate and httpclient configs</p>\n"},{"tags":["java","performance","algorithm"],"comments":[{"owner":{"account_id":12725,"reputation":3278,"user_id":25210,"accept_rate":42,"display_name":"questzen"},"score":0,"creation_date":1224573409,"post_id":221001,"comment_id":89661,"body_markdown":"Were there any performance problems using the library functions? If there are none, Character.digit(char, radix) should be sufficient.","body":"Were there any performance problems using the library functions? If there are none, Character.digit(char, radix) should be sufficient."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1224575465,"post_id":221001,"comment_id":89700,"body_markdown":"One thing to consider with this benchmark is that the array will work well *while it&#39;s in cache* - which is great if you&#39;re doing lots of iterations in one go. If you have to wait for a the array to be fetched from main memory, however, a purely computational approach will be quicker.","body":"One thing to consider with this benchmark is that the array will work well <i>while it&#39;s in cache</i> - which is great if you&#39;re doing lots of iterations in one go. If you have to wait for a the array to be fetched from main memory, however, a purely computational approach will be quicker."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1224575507,"post_id":221001,"comment_id":89701,"body_markdown":"In other words: &quot;it depends&quot; :)","body":"In other words: &quot;it depends&quot; :)"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1224575555,"post_id":221001,"comment_id":89702,"body_markdown":"Epaga: Could you publish your benchmark code? I&#39;ve an idea to tweak Greg&#39;s code a little which might make it slightly faster. I&#39;d rather not reinvent the wheel by writing my own benchmark though :)","body":"Epaga: Could you publish your benchmark code? I&#39;ve an idea to tweak Greg&#39;s code a little which might make it slightly faster. I&#39;d rather not reinvent the wheel by writing my own benchmark though :)"}],"answers":[{"comments":[{"owner":{"account_id":7335,"reputation":334951,"user_id":12711,"accept_rate":75,"display_name":"Michael Burr"},"score":1,"creation_date":1224573542,"post_id":221012,"comment_id":89666,"body_markdown":"What I say three times is true.","body":"What I say three times is true."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1224573876,"post_id":221012,"comment_id":89669,"body_markdown":"Ick, no idea what happened there. That&#39;s what I get for posting from a mobile. Will edit.","body":"Ick, no idea what happened there. That&#39;s what I get for posting from a mobile. Will edit."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1374899132,"post_id":221012,"comment_id":26135099,"body_markdown":"There are a few variations of this, and generally this would be fastest, short of a 256-byte look-up table a la Pro","body":"There are a few variations of this, and generally this would be fastest, short of a 256-byte look-up table a la Pro"}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":3,"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1224573888,"creation_date":1224572440,"answer_id":221012,"question_id":221001,"body_markdown":"A hash table would be relatively slow. This is pretty quick:\r\n\r\n    if (c &gt;= &#39;0&#39; &amp;&amp; c &lt;= &#39;9&#39;)\r\n    {\r\n        return c - &#39;0&#39;;\r\n    }\r\n    if (c &gt;= &#39;a&#39; &amp;&amp; c &lt;= &#39;f&#39;)\r\n    {\r\n        return c - &#39;a&#39; + 10;\r\n    }\r\n    if (c &gt;= &#39;A&#39; &amp;&amp; c &lt;= &#39;F&#39;)\r\n    {\r\n        return c - &#39;A&#39; + 10;\r\n    }\r\n    throw new IllegalArgumentException();\r\n\r\nAnother option would be to try a switch/case statement. An array might be okay if it&#39;s in cache, but a miss could be expensive.","title":"Performance question: Fastest way to convert hexadecimal char to its number value in Java?","body":"<p>A hash table would be relatively slow. This is pretty quick:</p>\n\n<pre><code>if (c &gt;= '0' &amp;&amp; c &lt;= '9')\n{\n    return c - '0';\n}\nif (c &gt;= 'a' &amp;&amp; c &lt;= 'f')\n{\n    return c - 'a' + 10;\n}\nif (c &gt;= 'A' &amp;&amp; c &lt;= 'F')\n{\n    return c - 'A' + 10;\n}\nthrow new IllegalArgumentException();\n</code></pre>\n\n<p>Another option would be to try a switch/case statement. An array might be okay if it's in cache, but a miss could be expensive.</p>\n"},{"tags":[],"owner":{"account_id":11010,"reputation":481,"user_id":21059,"display_name":"Keeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1224572537,"creation_date":1224572537,"answer_id":221020,"question_id":221001,"body_markdown":"Character.getNumericValue(char) is another way:\r\n\r\n    char c = &#39;a&#39;;\r\n    System.out.println(c + &quot;-&gt;&quot; + Character.getNumericValue(c));\r\n\r\nPrints &#39;a-&gt;10&#39; like you want for instance. Someone else would have to comment on the efficiency of a static metod call vs a HashMap lookup, or you could check it out for yourself. It seems cleaner/more readable to me though.","title":"Performance question: Fastest way to convert hexadecimal char to its number value in Java?","body":"<p>Character.getNumericValue(char) is another way:</p>\n\n<pre><code>char c = 'a';\nSystem.out.println(c + \"-&gt;\" + Character.getNumericValue(c));\n</code></pre>\n\n<p>Prints 'a->10' like you want for instance. Someone else would have to comment on the efficiency of a static metod call vs a HashMap lookup, or you could check it out for yourself. It seems cleaner/more readable to me though.</p>\n"},{"comments":[{"owner":{"account_id":11055,"reputation":18190,"user_id":1163802,"accept_rate":83,"display_name":"Vladimir Dyuzhev"},"score":3,"creation_date":1224586504,"post_id":221024,"comment_id":89901,"body_markdown":"first check for range should be removed: it only slows down the conversion; array will check it&#39;s boundaries itself; the exception will be different, but we&#39;re trading everything for speed, don&#39;t we?","body":"first check for range should be removed: it only slows down the conversion; array will check it&#39;s boundaries itself; the exception will be different, but we&#39;re trading everything for speed, don&#39;t we?"},{"owner":{"account_id":680,"reputation":960785,"user_id":893,"accept_rate":84,"display_name":"Greg Hewgill"},"score":0,"creation_date":1224612352,"post_id":221024,"comment_id":90819,"body_markdown":"That&#39;s a good idea, and if you&#39;re concerned about the exception type you could catch the array exception and throw a different one.","body":"That&#39;s a good idea, and if you&#39;re concerned about the exception type you could catch the array exception and throw a different one."}],"tags":[],"owner":{"account_id":680,"reputation":960785,"user_id":893,"accept_rate":84,"display_name":"Greg Hewgill"},"comment_count":2,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1224572840,"creation_date":1224572840,"answer_id":221024,"question_id":221001,"body_markdown":"A preinitialised array would be faster than a HashMap. Something like this:\r\n\r\n    int CharValues[&#39;f&#39;-&#39;0&#39;+1] = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, -1, -1, ... -1, 10, 11, 12, ...};\r\n\r\n    if (c &lt; &#39;0&#39; || c &gt; &#39;f&#39;) {\r\n        throw new IllegalArgumentException();\r\n    }\r\n    int n = CharValues[c-&#39;0&#39;];\r\n    if (n &lt; 0) {\r\n        throw new IllegalArgumentException();\r\n    }\r\n    // n contains the digit value\r\n\r\nYou should benchmark this method against other methods (such as [Jon Skeet&#39;s](https://stackoverflow.com/questions/221001/performance-question-fastest-way-to-convert-hexadecimal-char-to-its-number-valu#221012) direct method) to determine which will be the fastest for your application.","title":"Performance question: Fastest way to convert hexadecimal char to its number value in Java?","body":"<p>A preinitialised array would be faster than a HashMap. Something like this:</p>\n\n<pre><code>int CharValues['f'-'0'+1] = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, -1, -1, ... -1, 10, 11, 12, ...};\n\nif (c &lt; '0' || c &gt; 'f') {\n    throw new IllegalArgumentException();\n}\nint n = CharValues[c-'0'];\nif (n &lt; 0) {\n    throw new IllegalArgumentException();\n}\n// n contains the digit value\n</code></pre>\n\n<p>You should benchmark this method against other methods (such as <a href=\"https://stackoverflow.com/questions/221001/performance-question-fastest-way-to-convert-hexadecimal-char-to-its-number-valu#221012\">Jon Skeet's</a> direct method) to determine which will be the fastest for your application.</p>\n"},{"tags":[],"owner":{"account_id":7421,"reputation":20226,"user_id":12890,"accept_rate":83,"display_name":"Arne Burmeister"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1224574894,"creation_date":1224574894,"answer_id":221071,"question_id":221001,"body_markdown":"simple, but slow:\r\n\r\n    int i = Integer.parseInt(String.ValueOf(c), 16);\r\n\r\nfaster:\r\n\r\n    int i = Character.digit(c, 16);\r\n\r\nI wont use any special code for &quot;performance issues&quot;. If you really often use this, the JIT will create compiled code and execution will become fast. Keep your code clean. You may have a try and write a performace test comparing the execution time from the code above and any special implementation - i bet you wont get significant improvements.","title":"Performance question: Fastest way to convert hexadecimal char to its number value in Java?","body":"<p>simple, but slow:</p>\n\n<pre><code>int i = Integer.parseInt(String.ValueOf(c), 16);\n</code></pre>\n\n<p>faster:</p>\n\n<pre><code>int i = Character.digit(c, 16);\n</code></pre>\n\n<p>I wont use any special code for \"performance issues\". If you really often use this, the JIT will create compiled code and execution will become fast. Keep your code clean. You may have a try and write a performace test comparing the execution time from the code above and any special implementation - i bet you wont get significant improvements.</p>\n"},{"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1224575886,"post_id":221073,"comment_id":89706,"body_markdown":"Why do you say it &quot;should&quot; be fastest? It all depends on the balance of memory access vs computation. That will partly depend on caching, the memory architecture of your particular machine etc. There&#39;s a lot to consider :)","body":"Why do you say it &quot;should&quot; be fastest? It all depends on the balance of memory access vs computation. That will partly depend on caching, the memory architecture of your particular machine etc. There&#39;s a lot to consider :)"},{"owner":{"account_id":143994,"reputation":953,"user_id":352728,"accept_rate":100,"display_name":"pro"},"score":1,"creation_date":1230887641,"post_id":221073,"comment_id":231300,"body_markdown":"Yes - but computation involves accessing memory for the instructions.\n\nIn the case of one character it will be close, as benchmarked but even in this case an array lookup is only one read.\n\nIn the general case, doing blocks of 4 in an array lookup should be much faster.\n\nYour points noted however!","body":"Yes - but computation involves accessing memory for the instructions.  In the case of one character it will be close, as benchmarked but even in this case an array lookup is only one read.  In the general case, doing blocks of 4 in an array lookup should be much faster.  Your points noted however!"},{"owner":{"account_id":6656322,"reputation":4673,"user_id":5601591,"accept_rate":100,"display_name":"Jack G"},"score":0,"creation_date":1484443392,"post_id":221073,"comment_id":70512445,"body_markdown":"Using a binary search pattern, that would take 16 iterations with a 64k length 128kb table, making it less efficient than Adam Davis&#39;s solution on most modern hardware.","body":"Using a binary search pattern, that would take 16 iterations with a 64k length 128kb table, making it less efficient than Adam Davis&#39;s solution on most modern hardware."}],"tags":[],"owner":{"account_id":143994,"reputation":953,"user_id":352728,"accept_rate":100,"display_name":"pro"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1224574917,"creation_date":1224574917,"answer_id":221073,"question_id":221001,"body_markdown":"Using an array should be fastest.\r\n\r\nAn array could be of size 16, 16^2, 16^3, 16^4 etc..\r\n\r\nConverting the number in larger groups than one would give a performance increase.\r\n\r\nThere will be a sweet spot where it is most worthwhile, possibly 4 digits (64k table).\r\n\r\n","title":"Performance question: Fastest way to convert hexadecimal char to its number value in Java?","body":"<p>Using an array should be fastest.</p>\n\n<p>An array could be of size 16, 16^2, 16^3, 16^4 etc..</p>\n\n<p>Converting the number in larger groups than one would give a performance increase.</p>\n\n<p>There will be a sweet spot where it is most worthwhile, possibly 4 digits (64k table).</p>\n"},{"tags":[],"owner":{"account_id":2414,"reputation":27402,"user_id":3355,"accept_rate":69,"display_name":"Staale"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1224576052,"creation_date":1224576052,"answer_id":221111,"question_id":221001,"body_markdown":"I don&#39;t think you can beat a direct array lookup.\r\n\r\n    static final int[] precalc = new int[&#39;f&#39;+1];\r\n    static {\r\n        for (char c=&#39;0&#39;; c&lt;=&#39;9&#39;; c++) precalc[c] = c-&#39;0&#39;;\r\n        for (char c=&#39;A&#39;; c&lt;=&#39;F&#39;; c++) precalc[c] = c-&#39;A&#39;;\r\n        for (char c=&#39;a&#39;; c&lt;=&#39;f&#39;; c++) precalc[c] = c-&#39;a&#39;;\r\n    }\r\n\t\t\r\n    System.out.println(precalc[&#39;f&#39;]);","title":"Performance question: Fastest way to convert hexadecimal char to its number value in Java?","body":"<p>I don't think you can beat a direct array lookup.</p>\n\n<pre><code>static final int[] precalc = new int['f'+1];\nstatic {\n    for (char c='0'; c&lt;='9'; c++) precalc[c] = c-'0';\n    for (char c='A'; c&lt;='F'; c++) precalc[c] = c-'A';\n    for (char c='a'; c&lt;='f'; c++) precalc[c] = c-'a';\n}\n\nSystem.out.println(precalc['f']);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1224577000,"creation_date":1224577000,"answer_id":221134,"question_id":221001,"body_markdown":"Here&#39;s my tweaked version of Greg&#39;s code. On my box it&#39;s *marginally* faster - but probably within the noise. It avoids the lower bound check, and doesn&#39;t need to do any subtraction. Creating a 64K array and avoiding *either* bound check appeared to slow things down - but again, with timing like this it&#39;s virtually impossible to be sure what&#39;s real and what&#39;s noise.\r\n\r\n    public class HexParser\r\n    {\r\n        private static final byte VALUES = new int[&#39;f&#39;];\r\n    \r\n        // Easier to get right for bozos like me (Jon) than\r\n        // a hard-coded array :)\r\n        static\r\n        {\r\n            for (int i=0; i &lt; VALUES.length; i++)\r\n            {\r\n                VALUES[i] = (byte) -1;\r\n            }\r\n            for (int i=&#39;0&#39;; i &lt;= &#39;9&#39;; i++)\r\n            {\r\n                VALUES[i] = (byte) i-&#39;0&#39;;\r\n            }\r\n            for (int i=&#39;A&#39;; i &lt;= &#39;F&#39;; i++)\r\n            {\r\n                VALUES[i] = (byte) (i-&#39;A&#39;+10);\r\n            }\r\n            for (int i=&#39;a&#39;; i &lt;= &#39;f&#39;; i++)\r\n            {\r\n                VALUES[i] = (byte) (i-&#39;a&#39;+10);\r\n            }\r\n        }\r\n    \r\n        public static byte parseHexChar(char c)\r\n        {\r\n            if (c &gt; &#39;f&#39;)\r\n            {\r\n                throw new IllegalArgumentException();\r\n            }\r\n            byte ret = VALUES[c];\r\n            if (ret == -1)\r\n            {\r\n                throw new IllegalArgumentException();\r\n            }\r\n            return ret;\r\n        }\r\n    }\r\n\r\n","title":"Performance question: Fastest way to convert hexadecimal char to its number value in Java?","body":"<p>Here's my tweaked version of Greg's code. On my box it's <em>marginally</em> faster - but probably within the noise. It avoids the lower bound check, and doesn't need to do any subtraction. Creating a 64K array and avoiding <em>either</em> bound check appeared to slow things down - but again, with timing like this it's virtually impossible to be sure what's real and what's noise.</p>\n\n<pre><code>public class HexParser\n{\n    private static final byte VALUES = new int['f'];\n\n    // Easier to get right for bozos like me (Jon) than\n    // a hard-coded array :)\n    static\n    {\n        for (int i=0; i &lt; VALUES.length; i++)\n        {\n            VALUES[i] = (byte) -1;\n        }\n        for (int i='0'; i &lt;= '9'; i++)\n        {\n            VALUES[i] = (byte) i-'0';\n        }\n        for (int i='A'; i &lt;= 'F'; i++)\n        {\n            VALUES[i] = (byte) (i-'A'+10);\n        }\n        for (int i='a'; i &lt;= 'f'; i++)\n        {\n            VALUES[i] = (byte) (i-'a'+10);\n        }\n    }\n\n    public static byte parseHexChar(char c)\n    {\n        if (c &gt; 'f')\n        {\n            throw new IllegalArgumentException();\n        }\n        byte ret = VALUES[c];\n        if (ret == -1)\n        {\n            throw new IllegalArgumentException();\n        }\n        return ret;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2114,"reputation":92365,"user_id":2915,"accept_rate":96,"display_name":"Adam Davis"},"score":0,"creation_date":1240936722,"post_id":379653,"comment_id":608905,"body_markdown":"I believe your array is wrong - the &#39;0&#39; should start at location 0x30, you have it starting at 0x2D.  &#39;A&#39; should start at 0x41, you have it starting at 0x40, and you don&#39;t support lower case characters (&#39;a&#39; starts at 0x61)","body":"I believe your array is wrong - the &#39;0&#39; should start at location 0x30, you have it starting at 0x2D.  &#39;A&#39; should start at 0x41, you have it starting at 0x40, and you don&#39;t support lower case characters (&#39;a&#39; starts at 0x61)"},{"owner":{"account_id":143994,"reputation":953,"user_id":352728,"accept_rate":100,"display_name":"pro"},"score":0,"creation_date":1241520939,"post_id":379653,"comment_id":633162,"body_markdown":"agreed - I think I&#39;ve got it right now... but would appreciate you checking as it&#39;s making me dizzy looking at it","body":"agreed - I think I&#39;ve got it right now... but would appreciate you checking as it&#39;s making me dizzy looking at it"}],"tags":[],"owner":{"account_id":143994,"reputation":953,"user_id":352728,"accept_rate":100,"display_name":"pro"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1321279328,"creation_date":1229641828,"answer_id":379653,"question_id":221001,"body_markdown":"    int CharValues[256] = \r\n    {\r\n    16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,\r\n    16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,0,1,2,3,4,5,6,7,8,9,16,16,16,16,16,16,16,\r\n    16,10,11,12,13,14,15,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,\r\n    16,10,11,12,13,14,15,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,\r\n    16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,\r\n    16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,\r\n    16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,\r\n    16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16\r\n    }\r\n    \r\n    int n = CharValues[c];\r\n    \r\n    if (n == 16)\r\n     throw new IllegalArgumentException();\r\n    \r\n    // n contains the digit value","title":"Performance question: Fastest way to convert hexadecimal char to its number value in Java?","body":"<pre><code>int CharValues[256] = \n{\n16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,\n16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,0,1,2,3,4,5,6,7,8,9,16,16,16,16,16,16,16,\n16,10,11,12,13,14,15,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,\n16,10,11,12,13,14,15,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,\n16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,\n16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,\n16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,\n16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16\n}\n\nint n = CharValues[c];\n\nif (n == 16)\n throw new IllegalArgumentException();\n\n// n contains the digit value\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6656322,"reputation":4673,"user_id":5601591,"accept_rate":100,"display_name":"Jack G"},"score":2,"creation_date":1484443709,"post_id":798803,"comment_id":70512493,"body_markdown":"The modulo does kill the performance. However, this would be by far the fastest solution if you are compiling the java to an executable because on many modern computers, the RAM access speed is a bit slower, making lookup tables really degrade performance if you are accessing the ram to get the hexadecimal you are working with.","body":"The modulo does kill the performance. However, this would be by far the fastest solution if you are compiling the java to an executable because on many modern computers, the RAM access speed is a bit slower, making lookup tables really degrade performance if you are accessing the ram to get the hexadecimal you are working with."}],"tags":[],"owner":{"account_id":2114,"reputation":92365,"user_id":2915,"accept_rate":96,"display_name":"Adam Davis"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1240947603,"creation_date":1240936431,"answer_id":798803,"question_id":221001,"body_markdown":"I don&#39;t recall seeing this method before, but Mikko Rantanen pointed this equation out in a comment on the question, [Code golf - hex to (raw) binary conversion][1]\r\n\r\n    (char | 32) % 39 - 9\r\n\r\nI don&#39;t know what it would benchmark as (perhaps someone can add it to the benchmark above and run it, but I&#39;m guessing the % kills the performance) - but it&#39;s a neat, simple one-liner for single character hexadecimal to decimal conversion.  Handles 0-9, A-F, a-f.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/795027/code-golf-hex-to-raw-binary-conversion","title":"Performance question: Fastest way to convert hexadecimal char to its number value in Java?","body":"<p>I don't recall seeing this method before, but Mikko Rantanen pointed this equation out in a comment on the question, <a href=\"https://stackoverflow.com/questions/795027/code-golf-hex-to-raw-binary-conversion\">Code golf - hex to (raw) binary conversion</a></p>\n\n<pre><code>(char | 32) % 39 - 9\n</code></pre>\n\n<p>I don't know what it would benchmark as (perhaps someone can add it to the benchmark above and run it, but I'm guessing the % kills the performance) - but it's a neat, simple one-liner for single character hexadecimal to decimal conversion.  Handles 0-9, A-F, a-f.</p>\n"},{"comments":[{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1367842497,"post_id":799734,"comment_id":23506766,"body_markdown":"totally agreed. the % is a very slow operation.","body":"totally agreed. the % is a very slow operation."}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1240951414,"creation_date":1240951414,"answer_id":799734,"question_id":221001,"body_markdown":"It worth noting that you are realing timing the % operation in most of your tests. This operation takes about the same amount of time as some of the other options.\r\n\r\n    private static byte lookUpTest(int i) {\r\n        return (byte) cs[i%cs.length];\r\n    }\r\n\r\n","title":"Performance question: Fastest way to convert hexadecimal char to its number value in Java?","body":"<p>It worth noting that you are realing timing the % operation in most of your tests. This operation takes about the same amount of time as some of the other options.</p>\n\n<pre><code>private static byte lookUpTest(int i) {\n    return (byte) cs[i%cs.length];\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1374919565,"post_id":17894129,"comment_id":26139048,"body_markdown":"This doesn&#39;t work for Java&#39;s 16-bit chars, but I suppose it could be adapted.","body":"This doesn&#39;t work for Java&#39;s 16-bit chars, but I suppose it could be adapted."}],"tags":[],"owner":{"account_id":2938842,"reputation":106,"user_id":2517201,"display_name":"mauricio_martins"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1374897994,"creation_date":1374897994,"answer_id":17894129,"question_id":221001,"body_markdown":"Dude, I&#39;m microcontroller programmer and in this tiny world, speed really matters. The fastest way to convert an &#39;ASCII&#39; digit to byte (from &#39;A&#39; to 0x0A) is using this small piece of code\r\n\r\n\r\n    c|=0x20;\r\n    return c&lt;=&#39;9&#39;? c+0xD0 : c+0xA9;\r\n\r\n\r\nThe magic of this command is simple, if you look the ascii table you&#39;ll find numbers starting with 0x3_, and letters at columns 0x4_ and 0x6_ respectively. \r\n1) if you &quot;or&quot; the incoming char (variable &quot;c&quot;) with 0x20, you&#39;ll be never changing numbers... but for letters you&#39;ll be converting uppercase to lowercase. Since we are looking for only A..F(a..f) values... I don&#39;t care others.\r\n2) now the magic. To avoid subtractions, I use additive operators. the 0xD0 is the same of -0x30, and 0xA9 is the same of -&#39;a&#39;+10; \r\n\r\nthe branch instruction generated by the comparison is pretty simple and didn&#39;t take the overhead of table lookups and neither &quot;mod&quot; or other operators!\r\n\r\nEnjoy... ","title":"Performance question: Fastest way to convert hexadecimal char to its number value in Java?","body":"<p>Dude, I'm microcontroller programmer and in this tiny world, speed really matters. The fastest way to convert an 'ASCII' digit to byte (from 'A' to 0x0A) is using this small piece of code</p>\n\n<pre><code>c|=0x20;\nreturn c&lt;='9'? c+0xD0 : c+0xA9;\n</code></pre>\n\n<p>The magic of this command is simple, if you look the ascii table you'll find numbers starting with 0x3_, and letters at columns 0x4_ and 0x6_ respectively. \n1) if you \"or\" the incoming char (variable \"c\") with 0x20, you'll be never changing numbers... but for letters you'll be converting uppercase to lowercase. Since we are looking for only A..F(a..f) values... I don't care others.\n2) now the magic. To avoid subtractions, I use additive operators. the 0xD0 is the same of -0x30, and 0xA9 is the same of -'a'+10; </p>\n\n<p>the branch instruction generated by the comparison is pretty simple and didn't take the overhead of table lookups and neither \"mod\" or other operators!</p>\n\n<p>Enjoy... </p>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1374899041,"creation_date":1374899041,"answer_id":17894227,"question_id":221001,"body_markdown":"A table of 16-bit values where you could look up two digits at a time should be quicker than the 8-bit-value arrays suggested in other answers. You would be iterating the data twice as quickly, accessing the array half as often, and accessing shorts instead of bytes, all of which gives the CPU less to do and more to do it with.\r\n\r\nThe 8-bit values would be precomputed as `x[Integer.toHexString(i).charAt[0]] = i` for `0 &lt;= i &lt; 256`. Then you would just lookup `x[c]` for each char `c` in the hex string. You would probably want to duplicate the entries for both upper-case and lower-case variants of each hex value.\r\n\r\nA table of 32-bit values should be even quicker, depending on how much space you can afford.","title":"Performance question: Fastest way to convert hexadecimal char to its number value in Java?","body":"<p>A table of 16-bit values where you could look up two digits at a time should be quicker than the 8-bit-value arrays suggested in other answers. You would be iterating the data twice as quickly, accessing the array half as often, and accessing shorts instead of bytes, all of which gives the CPU less to do and more to do it with.</p>\n\n<p>The 8-bit values would be precomputed as <code>x[Integer.toHexString(i).charAt[0]] = i</code> for <code>0 &lt;= i &lt; 256</code>. Then you would just lookup <code>x[c]</code> for each char <code>c</code> in the hex string. You would probably want to duplicate the entries for both upper-case and lower-case variants of each hex value.</p>\n\n<p>A table of 32-bit values should be even quicker, depending on how much space you can afford.</p>\n"},{"tags":[],"owner":{"account_id":3116542,"reputation":1299,"user_id":3450840,"accept_rate":56,"display_name":"Florian F"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681366285,"creation_date":1561992179,"answer_id":56837705,"question_id":221001,"body_markdown":"According to my timings the following outperforms Jon Skeet&#39;s already pretty efficient method.\r\n\r\nThe idea is to take advantage of the test on range `&#39;A&#39;..&#39;F&#39;` to also discard one of the ranges `&#39;0&#39;..&#39;9&#39;` or `&#39;a&#39;..&#39;f&#39;`.\r\n\r\n    public static int hex2Dig2(char c) {\r\n        if (c &lt; &#39;A&#39;) {\r\n            if (c &gt;= &#39;0&#39; &amp;&amp; c &lt;= &#39;9&#39;)\r\n                return c - &#39;0&#39;;\r\n        } else if (c &gt; &#39;F&#39;) {\r\n            if (c &gt;= &#39;a&#39; &amp;&amp; c &lt;= &#39;f&#39;)\r\n                return c - &#39;a&#39; + 10;\r\n        } else {\r\n            return c - &#39;A&#39; + 10;\r\n        }\r\n        return -1; // or throw exception\r\n    }\r\n\r\n","title":"Performance question: Fastest way to convert hexadecimal char to its number value in Java?","body":"<p>According to my timings the following outperforms Jon Skeet's already pretty efficient method.</p>\n<p>The idea is to take advantage of the test on range <code>'A'..'F'</code> to also discard one of the ranges <code>'0'..'9'</code> or <code>'a'..'f'</code>.</p>\n<pre><code>public static int hex2Dig2(char c) {\n    if (c &lt; 'A') {\n        if (c &gt;= '0' &amp;&amp; c &lt;= '9')\n            return c - '0';\n    } else if (c &gt; 'F') {\n        if (c &gt;= 'a' &amp;&amp; c &lt;= 'f')\n            return c - 'a' + 10;\n    } else {\n        return c - 'A' + 10;\n    }\n    return -1; // or throw exception\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681369234,"creation_date":1681369234,"answer_id":76002516,"question_id":221001,"body_markdown":"How about this method?\r\n\r\n```java\r\nstatic byte unhex(int i) {\r\n    return (byte) (i &gt;= 0x30 &amp;&amp; i &lt;= 0x39\r\n                   ? 0x30 - i\r\n                   : i &gt;= 0x41 &amp;&amp; i &lt;= 0x46\r\n                   ? i - 0x37\r\n                   : i - 0x57);\r\n}\r\n```","title":"Performance question: Fastest way to convert hexadecimal char to its number value in Java?","body":"<p>How about this method?</p>\n<pre class=\"lang-java prettyprint-override\"><code>static byte unhex(int i) {\n    return (byte) (i &gt;= 0x30 &amp;&amp; i &lt;= 0x39\n                   ? 0x30 - i\n                   : i &gt;= 0x41 &amp;&amp; i &lt;= 0x46\n                   ? i - 0x37\n                   : i - 0x57);\n}\n</code></pre>\n"}],"owner":{"account_id":4400,"reputation":38401,"user_id":6583,"accept_rate":90,"display_name":"Epaga"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7769,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":221024,"answer_count":14,"score":11,"last_activity_date":1681369234,"creation_date":1224572023,"question_id":221001,"body_markdown":"I want to convert from char representing a hexadecimal value (in upper or lower case) to byte, like\r\n\r\n    &#39;0&#39;-&gt;0, &#39;1&#39; -&gt; 1, &#39;A&#39; -&gt; 10, &#39;a&#39; -&gt; 10, &#39;f&#39; -&gt; 15 etc...\r\n\r\nI will be calling this method extremely often, so performance is important. Is there a faster way than to use a pre-initialized `HashMap&lt;Character,Byte&gt;` to get the value from?\r\n\r\n**Answer**\r\n\r\nIt seems like &lt;s&gt;it&#39;s a tossup between using a switch-case and Jon Skeet&#39;s direct computing solution - the switch-case solution seems to edge out ever so slightly, though.&lt;/s&gt; Greg&#39;s array method wins out. Here are the performance results (in ms) for 200,000,000 runs of the various methods:\r\n\r\n    Character.getNumericValue:\r\n    8360\r\n\r\n    Character.digit:\r\n    8453\r\n\r\n    HashMap&lt;Character,Byte&gt;:\r\n    15109\r\n\r\n    Greg&#39;s Array Method:\r\n    6656\r\n\r\n    JonSkeet&#39;s Direct Method:\r\n    7344\r\n\r\n    Switch:\r\n    7281\r\n\r\nThanks guys!\r\n\r\n**Benchmark method code**\r\n\r\nHere ya go, JonSkeet, you old competitor. ;-)\r\n\r\n    public class ScratchPad {\r\n    \r\n        private static final int NUMBER_OF_RUNS = 200000000;\r\n    \r\n        static byte res;\r\n        \r\n        static HashMap&lt;Character, Byte&gt; map = new HashMap&lt;Character, Byte&gt;() {{\r\n            put( Character.valueOf( &#39;0&#39; ), Byte.valueOf( (byte )0 ));\r\n            put( Character.valueOf( &#39;1&#39; ), Byte.valueOf( (byte )1 ));\r\n            put( Character.valueOf( &#39;2&#39; ), Byte.valueOf( (byte )2 ));\r\n            put( Character.valueOf( &#39;3&#39; ), Byte.valueOf( (byte )3 ));\r\n            put( Character.valueOf( &#39;4&#39; ), Byte.valueOf( (byte )4 ));\r\n            put( Character.valueOf( &#39;5&#39; ), Byte.valueOf( (byte )5 ));\r\n            put( Character.valueOf( &#39;6&#39; ), Byte.valueOf( (byte )6 ));\r\n            put( Character.valueOf( &#39;7&#39; ), Byte.valueOf( (byte )7 ));\r\n            put( Character.valueOf( &#39;8&#39; ), Byte.valueOf( (byte )8 ));\r\n            put( Character.valueOf( &#39;9&#39; ), Byte.valueOf( (byte )9 ));\r\n            put( Character.valueOf( &#39;a&#39; ), Byte.valueOf( (byte )10 ));\r\n            put( Character.valueOf( &#39;b&#39; ), Byte.valueOf( (byte )11 ));\r\n            put( Character.valueOf( &#39;c&#39; ), Byte.valueOf( (byte )12 ));\r\n            put( Character.valueOf( &#39;d&#39; ), Byte.valueOf( (byte )13 ));\r\n            put( Character.valueOf( &#39;e&#39; ), Byte.valueOf( (byte )14 ));\r\n            put( Character.valueOf( &#39;f&#39; ), Byte.valueOf( (byte )15 ));\r\n            put( Character.valueOf( &#39;A&#39; ), Byte.valueOf( (byte )10 ));\r\n            put( Character.valueOf( &#39;B&#39; ), Byte.valueOf( (byte )11 ));\r\n            put( Character.valueOf( &#39;C&#39; ), Byte.valueOf( (byte )12 ));\r\n            put( Character.valueOf( &#39;D&#39; ), Byte.valueOf( (byte )13 ));\r\n            put( Character.valueOf( &#39;E&#39; ), Byte.valueOf( (byte )14 ));\r\n            put( Character.valueOf( &#39;F&#39; ), Byte.valueOf( (byte )15 ));\r\n        }};\r\n        static int[] charValues = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, -1, -1, -1, -1, -1, -1, -1, 10, 11, 12, 13,14,15,-1,-1,-1,-1,-1,-1,-1,-1,-1,\r\n                        -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10, 11, 12, 13,14,15};\r\n        static char[] cs = new char[]{&#39;0&#39;,&#39;1&#39;,&#39;2&#39;,&#39;3&#39;,&#39;4&#39;,&#39;5&#39;,&#39;6&#39;,&#39;7&#39;,&#39;8&#39;,&#39;9&#39;,&#39;a&#39;,&#39;b&#39;,&#39;c&#39;,&#39;d&#39;,&#39;e&#39;,&#39;f&#39;,&#39;A&#39;,&#39;B&#39;,&#39;C&#39;,&#39;D&#39;,&#39;E&#39;,&#39;F&#39;};\r\n        \r\n        public static void main(String args[]) throws Exception {\r\n            long time = System.currentTimeMillis();\r\n            for( int i = 0; i &lt; NUMBER_OF_RUNS; i++ ) {\r\n                res = getNumericValue( i );\r\n            }\r\n            System.out.println( &quot;Character.getNumericValue:&quot; );\r\n            System.out.println( System.currentTimeMillis()-time );\r\n            time = System.currentTimeMillis();\r\n            for( int i = 0; i &lt; NUMBER_OF_RUNS; i++ ) {\r\n                res = getDigit( i );\r\n            }\r\n            System.out.println( &quot;Character.digit:&quot; );\r\n            System.out.println( System.currentTimeMillis()-time );\r\n            time = System.currentTimeMillis();\r\n            for( int i = 0; i &lt; NUMBER_OF_RUNS; i++ ) {\r\n                try {\r\n                    res = getValueFromArray( i );\r\n                } catch (IllegalArgumentException e) {\r\n                }\r\n            }\r\n            System.out.println( &quot;Array:&quot; );\r\n            System.out.println( System.currentTimeMillis()-time );\r\n            time = System.currentTimeMillis();\r\n            for( int i = 0; i &lt; NUMBER_OF_RUNS; i++ ) {\r\n                res = getValueFromHashMap( i );\r\n            }\r\n            System.out.println( &quot;HashMap&lt;Character,Byte&gt;:&quot; );\r\n            System.out.println( System.currentTimeMillis()-time );\r\n            time = System.currentTimeMillis();\r\n            for( int i = 0; i &lt; NUMBER_OF_RUNS; i++ ) {\r\n                char c = cs[i%cs.length];\r\n                res = getValueFromComputeMethod( c );        \r\n            }\r\n            System.out.println( &quot;JonSkeet&#39;s Direct Method:&quot; );\r\n            System.out.println( System.currentTimeMillis()-time );\r\n            time = System.currentTimeMillis();\r\n            for( int i = 0; i &lt; NUMBER_OF_RUNS; i++ ) {\r\n                res = getValueFromSwitch( i );\r\n    \r\n            }\r\n            System.out.println( &quot;Switch:&quot; );\r\n            System.out.println( System.currentTimeMillis()-time );\r\n        }\r\n    \r\n        private static byte getValueFromSwitch( int i ) {\r\n            byte res;\r\n            char ch = cs[i%cs.length];\r\n            switch( ch ) {\r\n                case &#39;0&#39;:\r\n                    res = 0;\r\n                    break;\r\n                case &#39;1&#39;:\r\n                    res = 1;\r\n                    break;\r\n                case &#39;2&#39;:\r\n                    res = 2;\r\n                    break;\r\n                case &#39;3&#39;:\r\n                    res = 3;\r\n                    break;\r\n                case &#39;4&#39;:\r\n                    res = 4;\r\n                    break;\r\n                case &#39;5&#39;:\r\n                    res = 5;\r\n                    break;\r\n                case &#39;6&#39;:\r\n                    res = 6;\r\n                    break;\r\n                case &#39;7&#39;:\r\n                    res = 7;\r\n                    break;\r\n                case &#39;8&#39;:\r\n                    res = 8;\r\n                    break;\r\n                case &#39;9&#39;:\r\n                    res = 9;\r\n                    break;\r\n                case &#39;a&#39;:\r\n                case &#39;A&#39;:\r\n                    res = 10;\r\n                    break;\r\n                case &#39;b&#39;:\r\n                case &#39;B&#39;:    \r\n                    res = 11;\r\n                    break;\r\n                case &#39;c&#39;:\r\n                case &#39;C&#39;:    \r\n                    res = 12;\r\n                    break;\r\n                case &#39;d&#39;:\r\n                case &#39;D&#39;:    \r\n                    res = 13;\r\n                    break;\r\n                case &#39;e&#39;:\r\n                case &#39;E&#39;:    \r\n                    res = 14;\r\n                    break;\r\n                case &#39;f&#39;:\r\n                case &#39;F&#39;:    \r\n                    res = 15;\r\n                    break;\r\n                default:\r\n                    throw new RuntimeException(&quot;unknown hex character: &quot; + ch );\r\n            }\r\n            return res;\r\n        }\r\n    \r\n        private static byte getValueFromComputeMethod( char c ) {\r\n            byte result = 0;\r\n            if (c &gt;= &#39;0&#39; &amp;&amp; c &lt;= &#39;9&#39;)\r\n            {\r\n                result =  (byte)(c - &#39;0&#39;);\r\n            }\r\n            if (c &gt;= &#39;a&#39; &amp;&amp; c &lt;= &#39;f&#39;)\r\n            {\r\n                result = (byte)(c - &#39;a&#39; + 10);\r\n            }\r\n            if (c &gt;= &#39;A&#39; &amp;&amp; c &lt;= &#39;F&#39;)\r\n            {\r\n                result =  (byte)(c - &#39;A&#39; + 10);\r\n            }\r\n            return result;\r\n        }\r\n    \r\n        private static byte getValueFromHashMap( int i ) {\r\n            return map.get( Character.valueOf( cs[i%cs.length] ) ).byteValue();\r\n        }\r\n    \r\n        private static byte getValueFromArray( int i ) {\r\n            char c = cs[i%cs.length];\r\n            if (c &lt; &#39;0&#39; || c &gt; &#39;f&#39;) {\r\n                throw new IllegalArgumentException();\r\n            }\r\n            byte result = (byte)charValues[c-&#39;0&#39;];\r\n            if (res &lt; 0) {\r\n                throw new IllegalArgumentException();\r\n            }\r\n            return result;\r\n        }\r\n    \r\n        private static byte getDigit( int i ) {\r\n            return (byte)Character.digit( cs[i%cs.length], 16 );\r\n        }\r\n    \r\n        private static byte getNumericValue( int i ) {\r\n            return (byte)Character.getNumericValue( cs[i%cs.length] );\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Performance question: Fastest way to convert hexadecimal char to its number value in Java?","body":"<p>I want to convert from char representing a hexadecimal value (in upper or lower case) to byte, like</p>\n\n<pre><code>'0'-&gt;0, '1' -&gt; 1, 'A' -&gt; 10, 'a' -&gt; 10, 'f' -&gt; 15 etc...\n</code></pre>\n\n<p>I will be calling this method extremely often, so performance is important. Is there a faster way than to use a pre-initialized <code>HashMap&lt;Character,Byte&gt;</code> to get the value from?</p>\n\n<p><strong>Answer</strong></p>\n\n<p>It seems like <s>it's a tossup between using a switch-case and Jon Skeet's direct computing solution - the switch-case solution seems to edge out ever so slightly, though.</s> Greg's array method wins out. Here are the performance results (in ms) for 200,000,000 runs of the various methods:</p>\n\n<pre><code>Character.getNumericValue:\n8360\n\nCharacter.digit:\n8453\n\nHashMap&lt;Character,Byte&gt;:\n15109\n\nGreg's Array Method:\n6656\n\nJonSkeet's Direct Method:\n7344\n\nSwitch:\n7281\n</code></pre>\n\n<p>Thanks guys!</p>\n\n<p><strong>Benchmark method code</strong></p>\n\n<p>Here ya go, JonSkeet, you old competitor. ;-)</p>\n\n<pre><code>public class ScratchPad {\n\n    private static final int NUMBER_OF_RUNS = 200000000;\n\n    static byte res;\n\n    static HashMap&lt;Character, Byte&gt; map = new HashMap&lt;Character, Byte&gt;() {{\n        put( Character.valueOf( '0' ), Byte.valueOf( (byte )0 ));\n        put( Character.valueOf( '1' ), Byte.valueOf( (byte )1 ));\n        put( Character.valueOf( '2' ), Byte.valueOf( (byte )2 ));\n        put( Character.valueOf( '3' ), Byte.valueOf( (byte )3 ));\n        put( Character.valueOf( '4' ), Byte.valueOf( (byte )4 ));\n        put( Character.valueOf( '5' ), Byte.valueOf( (byte )5 ));\n        put( Character.valueOf( '6' ), Byte.valueOf( (byte )6 ));\n        put( Character.valueOf( '7' ), Byte.valueOf( (byte )7 ));\n        put( Character.valueOf( '8' ), Byte.valueOf( (byte )8 ));\n        put( Character.valueOf( '9' ), Byte.valueOf( (byte )9 ));\n        put( Character.valueOf( 'a' ), Byte.valueOf( (byte )10 ));\n        put( Character.valueOf( 'b' ), Byte.valueOf( (byte )11 ));\n        put( Character.valueOf( 'c' ), Byte.valueOf( (byte )12 ));\n        put( Character.valueOf( 'd' ), Byte.valueOf( (byte )13 ));\n        put( Character.valueOf( 'e' ), Byte.valueOf( (byte )14 ));\n        put( Character.valueOf( 'f' ), Byte.valueOf( (byte )15 ));\n        put( Character.valueOf( 'A' ), Byte.valueOf( (byte )10 ));\n        put( Character.valueOf( 'B' ), Byte.valueOf( (byte )11 ));\n        put( Character.valueOf( 'C' ), Byte.valueOf( (byte )12 ));\n        put( Character.valueOf( 'D' ), Byte.valueOf( (byte )13 ));\n        put( Character.valueOf( 'E' ), Byte.valueOf( (byte )14 ));\n        put( Character.valueOf( 'F' ), Byte.valueOf( (byte )15 ));\n    }};\n    static int[] charValues = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, -1, -1, -1, -1, -1, -1, -1, 10, 11, 12, 13,14,15,-1,-1,-1,-1,-1,-1,-1,-1,-1,\n                    -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10, 11, 12, 13,14,15};\n    static char[] cs = new char[]{'0','1','2','3','4','5','6','7','8','9','a','b','c','d','e','f','A','B','C','D','E','F'};\n\n    public static void main(String args[]) throws Exception {\n        long time = System.currentTimeMillis();\n        for( int i = 0; i &lt; NUMBER_OF_RUNS; i++ ) {\n            res = getNumericValue( i );\n        }\n        System.out.println( \"Character.getNumericValue:\" );\n        System.out.println( System.currentTimeMillis()-time );\n        time = System.currentTimeMillis();\n        for( int i = 0; i &lt; NUMBER_OF_RUNS; i++ ) {\n            res = getDigit( i );\n        }\n        System.out.println( \"Character.digit:\" );\n        System.out.println( System.currentTimeMillis()-time );\n        time = System.currentTimeMillis();\n        for( int i = 0; i &lt; NUMBER_OF_RUNS; i++ ) {\n            try {\n                res = getValueFromArray( i );\n            } catch (IllegalArgumentException e) {\n            }\n        }\n        System.out.println( \"Array:\" );\n        System.out.println( System.currentTimeMillis()-time );\n        time = System.currentTimeMillis();\n        for( int i = 0; i &lt; NUMBER_OF_RUNS; i++ ) {\n            res = getValueFromHashMap( i );\n        }\n        System.out.println( \"HashMap&lt;Character,Byte&gt;:\" );\n        System.out.println( System.currentTimeMillis()-time );\n        time = System.currentTimeMillis();\n        for( int i = 0; i &lt; NUMBER_OF_RUNS; i++ ) {\n            char c = cs[i%cs.length];\n            res = getValueFromComputeMethod( c );        \n        }\n        System.out.println( \"JonSkeet's Direct Method:\" );\n        System.out.println( System.currentTimeMillis()-time );\n        time = System.currentTimeMillis();\n        for( int i = 0; i &lt; NUMBER_OF_RUNS; i++ ) {\n            res = getValueFromSwitch( i );\n\n        }\n        System.out.println( \"Switch:\" );\n        System.out.println( System.currentTimeMillis()-time );\n    }\n\n    private static byte getValueFromSwitch( int i ) {\n        byte res;\n        char ch = cs[i%cs.length];\n        switch( ch ) {\n            case '0':\n                res = 0;\n                break;\n            case '1':\n                res = 1;\n                break;\n            case '2':\n                res = 2;\n                break;\n            case '3':\n                res = 3;\n                break;\n            case '4':\n                res = 4;\n                break;\n            case '5':\n                res = 5;\n                break;\n            case '6':\n                res = 6;\n                break;\n            case '7':\n                res = 7;\n                break;\n            case '8':\n                res = 8;\n                break;\n            case '9':\n                res = 9;\n                break;\n            case 'a':\n            case 'A':\n                res = 10;\n                break;\n            case 'b':\n            case 'B':    \n                res = 11;\n                break;\n            case 'c':\n            case 'C':    \n                res = 12;\n                break;\n            case 'd':\n            case 'D':    \n                res = 13;\n                break;\n            case 'e':\n            case 'E':    \n                res = 14;\n                break;\n            case 'f':\n            case 'F':    \n                res = 15;\n                break;\n            default:\n                throw new RuntimeException(\"unknown hex character: \" + ch );\n        }\n        return res;\n    }\n\n    private static byte getValueFromComputeMethod( char c ) {\n        byte result = 0;\n        if (c &gt;= '0' &amp;&amp; c &lt;= '9')\n        {\n            result =  (byte)(c - '0');\n        }\n        if (c &gt;= 'a' &amp;&amp; c &lt;= 'f')\n        {\n            result = (byte)(c - 'a' + 10);\n        }\n        if (c &gt;= 'A' &amp;&amp; c &lt;= 'F')\n        {\n            result =  (byte)(c - 'A' + 10);\n        }\n        return result;\n    }\n\n    private static byte getValueFromHashMap( int i ) {\n        return map.get( Character.valueOf( cs[i%cs.length] ) ).byteValue();\n    }\n\n    private static byte getValueFromArray( int i ) {\n        char c = cs[i%cs.length];\n        if (c &lt; '0' || c &gt; 'f') {\n            throw new IllegalArgumentException();\n        }\n        byte result = (byte)charValues[c-'0'];\n        if (res &lt; 0) {\n            throw new IllegalArgumentException();\n        }\n        return result;\n    }\n\n    private static byte getDigit( int i ) {\n        return (byte)Character.digit( cs[i%cs.length], 16 );\n    }\n\n    private static byte getNumericValue( int i ) {\n        return (byte)Character.getNumericValue( cs[i%cs.length] );\n    }\n\n}\n</code></pre>\n"},{"tags":["java","algolia"],"comments":[{"owner":{"account_id":18636801,"reputation":8531,"user_id":13583510,"display_name":"cmgchess"},"score":0,"creation_date":1682575272,"post_id":76001157,"comment_id":134238083,"body_markdown":"did you manage to fix it","body":"did you manage to fix it"},{"owner":{"account_id":6362586,"reputation":365,"user_id":4937624,"display_name":"Spartacus"},"score":0,"creation_date":1682575465,"post_id":76001157,"comment_id":134238116,"body_markdown":"Yes i could that, thanks. BTW, do you have any example/sample using typescript?","body":"Yes i could that, thanks. BTW, do you have any example/sample using typescript?"},{"owner":{"account_id":18636801,"reputation":8531,"user_id":13583510,"display_name":"cmgchess"},"score":0,"creation_date":1682575637,"post_id":76001157,"comment_id":134238137,"body_markdown":"in the docs you can look at the [javascript section](https://www.algolia.com/doc/api-reference/api-parameters/filters/?client=javascript#apply-filters-on-a-search-query). typescript javascript both use the same npm package. also you could vote/accept answers if it helped so others can also know if worked :)","body":"in the docs you can look at the <a href=\"https://www.algolia.com/doc/api-reference/api-parameters/filters/?client=javascript#apply-filters-on-a-search-query\" rel=\"nofollow noreferrer\">javascript section</a>. typescript javascript both use the same npm package. also you could vote/accept answers if it helped so others can also know if worked :)"}],"answers":[{"comments":[{"owner":{"account_id":18636801,"reputation":8531,"user_id":13583510,"display_name":"cmgchess"},"score":0,"creation_date":1681374727,"post_id":76002485,"comment_id":134046907,"body_markdown":"@Spartacus cool let know if it didn&#39;t work. also i recommend if u haven&#39;t to add searchable attributes as well for the fields that you need to search only","body":"@Spartacus cool let know if it didn&#39;t work. also i recommend if u haven&#39;t to add searchable attributes as well for the fields that you need to search only"},{"owner":{"account_id":23773181,"reputation":856,"user_id":17786978,"display_name":"Srushti Shah"},"score":1,"creation_date":1688102786,"post_id":76002485,"comment_id":135031489,"body_markdown":"I was having the issue in React library to show related products, but I needed to filter the products which were not active with the active flag, But could not get the results, after configuring the attributesForFaceting from Dashboard as mentioned above, I got the result, I wasted the whole day for this. Thank you so much @cmgchess for posting this answer!!","body":"I was having the issue in React library to show related products, but I needed to filter the products which were not active with the active flag, But could not get the results, after configuring the attributesForFaceting from Dashboard as mentioned above, I got the result, I wasted the whole day for this. Thank you so much @cmgchess for posting this answer!!"}],"tags":[],"owner":{"account_id":18636801,"reputation":8531,"user_id":13583510,"display_name":"cmgchess"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1681368986,"creation_date":1681368986,"answer_id":76002485,"question_id":76001157,"body_markdown":"It seems that you have not configured your [`attributesForFaceting`][1]. `authors` should be set as an attribute for faceting. Whatever filter you use make sure you do the above. You can do this programmatically or via the Algolia Dashboard (In the index configuration -&gt; Facets in FILTERING AND FACETING section). After doing that try\r\n\r\n```java\r\nQuery query = new Query();\r\nquery.setFilters(&quot;authors:&#39;John Davidson&#39;&quot;);\r\n\r\nSearchResult&lt;?&gt; result = index.search(query);\r\n```\r\nby the way if you do like \r\n```java\r\nQuery query = new Query(&quot;authors&quot;);\r\n```\r\nit means you are searching for the string/query &quot;authors&quot; in the index. So you will naturally get 0 hits since none of the objects have that string. Your second example worked because you are overriding it to &quot;John Davidson&quot; using `setQuery`. Now it will search for objects having the string John Davidson and give you the hits. You can see for yourself if you print out the result and check the `query` field.\r\n\r\nIf you want to search by multiple authors you can use query language like `OR`,`AND` and so on.\r\n```javascript\r\nquery.setFilters(&quot;authors:&#39;John Davidson&#39; OR authors:&#39;Nicole Swift&#39;&quot;);\r\n```\r\nyou can see the [docs][2] for that\r\n\r\nalternatively you can use [`facetFilters`][3] API where you can write array like notation\r\n\r\n```javascript\r\nquery.setFacetFilters(Arrays.asList(Arrays.asList(&quot;authors:John Davidson&quot;,&quot;authors:Nicole Swift&quot;)));\r\n```\r\n\r\nbut for any of that to work you need to set the attributes for faceting\r\n\r\n  [1]: https://www.algolia.com/doc/api-reference/api-parameters/attributesForFaceting/\r\n  [2]: https://www.algolia.com/doc/api-reference/api-parameters/filters/?client=java\r\n  [3]: https://www.algolia.com/doc/api-reference/api-parameters/facetFilters/#simple-or-filter","title":"Algolia search query by field not working","body":"<p>It seems that you have not configured your <a href=\"https://www.algolia.com/doc/api-reference/api-parameters/attributesForFaceting/\" rel=\"nofollow noreferrer\"><code>attributesForFaceting</code></a>. <code>authors</code> should be set as an attribute for faceting. Whatever filter you use make sure you do the above. You can do this programmatically or via the Algolia Dashboard (In the index configuration -&gt; Facets in FILTERING AND FACETING section). After doing that try</p>\n<pre class=\"lang-java prettyprint-override\"><code>Query query = new Query();\nquery.setFilters(&quot;authors:'John Davidson'&quot;);\n\nSearchResult&lt;?&gt; result = index.search(query);\n</code></pre>\n<p>by the way if you do like</p>\n<pre class=\"lang-java prettyprint-override\"><code>Query query = new Query(&quot;authors&quot;);\n</code></pre>\n<p>it means you are searching for the string/query &quot;authors&quot; in the index. So you will naturally get 0 hits since none of the objects have that string. Your second example worked because you are overriding it to &quot;John Davidson&quot; using <code>setQuery</code>. Now it will search for objects having the string John Davidson and give you the hits. You can see for yourself if you print out the result and check the <code>query</code> field.</p>\n<p>If you want to search by multiple authors you can use query language like <code>OR</code>,<code>AND</code> and so on.</p>\n<pre class=\"lang-js prettyprint-override\"><code>query.setFilters(&quot;authors:'John Davidson' OR authors:'Nicole Swift'&quot;);\n</code></pre>\n<p>you can see the <a href=\"https://www.algolia.com/doc/api-reference/api-parameters/filters/?client=java\" rel=\"nofollow noreferrer\">docs</a> for that</p>\n<p>alternatively you can use <a href=\"https://www.algolia.com/doc/api-reference/api-parameters/facetFilters/#simple-or-filter\" rel=\"nofollow noreferrer\"><code>facetFilters</code></a> API where you can write array like notation</p>\n<pre class=\"lang-js prettyprint-override\"><code>query.setFacetFilters(Arrays.asList(Arrays.asList(&quot;authors:John Davidson&quot;,&quot;authors:Nicole Swift&quot;)));\n</code></pre>\n<p>but for any of that to work you need to set the attributes for faceting</p>\n"}],"owner":{"account_id":6362586,"reputation":365,"user_id":4937624,"display_name":"Spartacus"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681369206,"creation_date":1681352598,"question_id":76001157,"body_markdown":"I have an index like the below:\r\n\r\n```\r\n[\r\n  {\r\n    &quot;startDateTime&quot;: &quot;2023-04-13 02:10:51&quot;,\r\n    &quot;eventType&quot;: &quot;Book&quot;,\r\n    &quot;event&quot;: &quot;ABC Launch&quot;,\r\n    &quot;authors&quot;: &quot;Nick Leeson&quot;,\r\n    &quot;startTime&quot;: 1681351851,\r\n    &quot;eventID&quot;: 100\r\n  },\r\n  {\r\n  &quot;startDateTime&quot;: &quot;2023-04-13 02:13:00&quot;,\r\n  &quot;eventType&quot;: &quot;Book&quot;,\r\n  &quot;event&quot;: &quot;XYZ Launch&quot;,\r\n  &quot;authors&quot;: &quot;John Davidson&quot;,\r\n  &quot;startTime&quot;: 1681351980,\r\n  &quot;eventID&quot;: 101\r\n  },\r\n  {\r\n  &quot;startDateTime&quot;: &quot;2023-04-13 04:26:20&quot;,\r\n  &quot;eventType&quot;: &quot;Book&quot;,\r\n  &quot;event&quot;: &quot;NEW Launch&quot;,\r\n  &quot;authors&quot;: &quot;Nicole Swift&quot;,\r\n  &quot;startTime&quot;: 1681359980,\r\n  &quot;eventID&quot;: 102\r\n  },\r\n  {\r\n  &quot;startDateTime&quot;: &quot;2023-04-13 07:13:00&quot;,\r\n  &quot;eventType&quot;: &quot;Book&quot;,\r\n  &quot;event&quot;: &quot;Kids Launch&quot;,\r\n  &quot;authors&quot;: &quot;Timothy Smith&quot;,\r\n  &quot;startTime&quot;: 1681369980,\r\n  &quot;eventID&quot;: 103\r\n  }\r\n]\r\n```\r\nWhen I try to search by &quot;authors&quot; using java sdk, no results are returned.\r\nMy code looks like:\r\n\r\n```\r\nQuery query = new Query(&quot;authors&quot;);\r\nquery.setFilters(&quot;authors:&#39;John Davidson&#39;&quot;);\r\n\r\nSearchResult&lt;?&gt; result = index.search(query);\r\n```\r\nThe above result returns 0 hits. However the below query works:\r\n\r\n```\r\nQuery query = new Query(&quot;authors&quot;);\r\nquery.setQuery(&quot;John Davidson&quot;);\r\n\r\nSearchResult&lt;?&gt; result = index.search(query);\r\n```\r\n\r\nCan anyone please help me to understand what could be the issue? Also if I want to search multiple authors in a single query how can I do that?\r\n\r\nThanks","title":"Algolia search query by field not working","body":"<p>I have an index like the below:</p>\n<pre><code>[\n  {\n    &quot;startDateTime&quot;: &quot;2023-04-13 02:10:51&quot;,\n    &quot;eventType&quot;: &quot;Book&quot;,\n    &quot;event&quot;: &quot;ABC Launch&quot;,\n    &quot;authors&quot;: &quot;Nick Leeson&quot;,\n    &quot;startTime&quot;: 1681351851,\n    &quot;eventID&quot;: 100\n  },\n  {\n  &quot;startDateTime&quot;: &quot;2023-04-13 02:13:00&quot;,\n  &quot;eventType&quot;: &quot;Book&quot;,\n  &quot;event&quot;: &quot;XYZ Launch&quot;,\n  &quot;authors&quot;: &quot;John Davidson&quot;,\n  &quot;startTime&quot;: 1681351980,\n  &quot;eventID&quot;: 101\n  },\n  {\n  &quot;startDateTime&quot;: &quot;2023-04-13 04:26:20&quot;,\n  &quot;eventType&quot;: &quot;Book&quot;,\n  &quot;event&quot;: &quot;NEW Launch&quot;,\n  &quot;authors&quot;: &quot;Nicole Swift&quot;,\n  &quot;startTime&quot;: 1681359980,\n  &quot;eventID&quot;: 102\n  },\n  {\n  &quot;startDateTime&quot;: &quot;2023-04-13 07:13:00&quot;,\n  &quot;eventType&quot;: &quot;Book&quot;,\n  &quot;event&quot;: &quot;Kids Launch&quot;,\n  &quot;authors&quot;: &quot;Timothy Smith&quot;,\n  &quot;startTime&quot;: 1681369980,\n  &quot;eventID&quot;: 103\n  }\n]\n</code></pre>\n<p>When I try to search by &quot;authors&quot; using java sdk, no results are returned.\nMy code looks like:</p>\n<pre><code>Query query = new Query(&quot;authors&quot;);\nquery.setFilters(&quot;authors:'John Davidson'&quot;);\n\nSearchResult&lt;?&gt; result = index.search(query);\n</code></pre>\n<p>The above result returns 0 hits. However the below query works:</p>\n<pre><code>Query query = new Query(&quot;authors&quot;);\nquery.setQuery(&quot;John Davidson&quot;);\n\nSearchResult&lt;?&gt; result = index.search(query);\n</code></pre>\n<p>Can anyone please help me to understand what could be the issue? Also if I want to search multiple authors in a single query how can I do that?</p>\n<p>Thanks</p>\n"},{"tags":["java","android","android-studio","kotlin","zxing"],"comments":[{"owner":{"account_id":3057093,"reputation":4529,"user_id":2590478,"display_name":"MidasLefko"},"score":0,"creation_date":1681371196,"post_id":76000767,"comment_id":134046164,"body_markdown":"Please add exception from logcat","body":"Please add exception from logcat"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1681392603,"post_id":76000767,"comment_id":134051375,"body_markdown":"@MidasLefko This isn&#39;t a runtime error. But they should add the build error from the Build tab in Android Studio if there is one.","body":"@MidasLefko This isn&#39;t a runtime error. But they should add the build error from the Build tab in Android Studio if there is one."}],"answers":[{"comments":[{"owner":{"account_id":27903315,"reputation":13,"user_id":21307113,"display_name":"3MR4H"},"score":0,"creation_date":1681379858,"post_id":76002462,"comment_id":134048174,"body_markdown":"It is already my problem. I am pass all steps perfectly but later give same error unfortunately","body":"It is already my problem. I am pass all steps perfectly but later give same error unfortunately"},{"owner":{"account_id":15633712,"reputation":11,"user_id":11279305,"display_name":"prakash joshi"},"score":0,"creation_date":1681388240,"post_id":76002462,"comment_id":134050198,"body_markdown":"you have used different library version. Please use as I suggested version","body":"you have used different library version. Please use as I suggested version"},{"owner":{"account_id":27903315,"reputation":13,"user_id":21307113,"display_name":"3MR4H"},"score":0,"creation_date":1681472966,"post_id":76002462,"comment_id":134065891,"body_markdown":"pls write true code for me bro","body":"pls write true code for me bro"}],"tags":[],"owner":{"account_id":15633712,"reputation":11,"user_id":11279305,"display_name":"prakash joshi"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681368973,"creation_date":1681368790,"answer_id":76002462,"question_id":76000767,"body_markdown":"yes, we can use zxing library in Android studio \r\n\r\n\r\n         repositories {\r\n                mavenCentral()\r\n            }\r\n    \r\n    dependencies {\r\n        implementation &#39;com.journeyapps:zxing-android-embedded:4.3.0&#39;\r\n    }\r\n\r\nPlease Follow Below link from Github\r\n\r\n[https://github.com/journeyapps/zxing-android-embedded][1]\r\n\r\n\r\n  [1]: https://github.com/journeyapps/zxing-android-embedded","title":"can&#39;t use Zxing libraries on android studio","body":"<p>yes, we can use zxing library in Android studio</p>\n<pre><code>     repositories {\n            mavenCentral()\n        }\n\ndependencies {\n    implementation 'com.journeyapps:zxing-android-embedded:4.3.0'\n}\n</code></pre>\n<p>Please Follow Below link from Github</p>\n<p><a href=\"https://github.com/journeyapps/zxing-android-embedded\" rel=\"nofollow noreferrer\">https://github.com/journeyapps/zxing-android-embedded</a></p>\n"}],"owner":{"account_id":27903315,"reputation":13,"user_id":21307113,"display_name":"3MR4H"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":393,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681368973,"creation_date":1681345333,"question_id":76000767,"body_markdown":"I can&#39;t use Zxing Libraries on android studio. it&#39;s give error was not found in libraries\r\n\r\nI need use zyxing for qr scanner app but its not work on android studio\r\nI ınstalled zyxing followed this steps:\r\n\r\nAdded dependencies in build.gradle files\r\n\r\n```\r\ndependencies {\r\n    implementation &#39;com.google.zxing:core:3.3.3&#39;\r\n}\r\n```\r\n\r\nadded permission in AndroidManifest.xml files\r\n\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n```\r\n\r\nand last step imported library in MainActivity.java\r\n\r\n```\r\nimport com.google.zxing.integration.android.IntentIntegrator;\r\nimport com.google.zxing.integration.android.IntentResult;\r\n```\r\n\r\nBut result is sad :(\r\n\r\n[![enter image description here](https://i.stack.imgur.com/LTocD.png)](https://i.stack.imgur.com/LTocD.png)\r\n[![enter image description here](https://i.stack.imgur.com/8oFA3.png)](https://i.stack.imgur.com/8oFA3.png)","title":"can&#39;t use Zxing libraries on android studio","body":"<p>I can't use Zxing Libraries on android studio. it's give error was not found in libraries</p>\n<p>I need use zyxing for qr scanner app but its not work on android studio\nI ınstalled zyxing followed this steps:</p>\n<p>Added dependencies in build.gradle files</p>\n<pre><code>dependencies {\n    implementation 'com.google.zxing:core:3.3.3'\n}\n</code></pre>\n<p>added permission in AndroidManifest.xml files</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n<p>and last step imported library in MainActivity.java</p>\n<pre><code>import com.google.zxing.integration.android.IntentIntegrator;\nimport com.google.zxing.integration.android.IntentResult;\n</code></pre>\n<p>But result is sad :(</p>\n<p><a href=\"https://i.stack.imgur.com/LTocD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LTocD.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/8oFA3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8oFA3.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","eclipse","javafx","ide"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1681355310,"post_id":76001213,"comment_id":134044044,"body_markdown":"_tried to download e(fx)clipse_ Does that mean that you did not succeed in downloading it? _and then deleted it_ So you did manage to download it successfully? So if you deleted it, then what is the screen capture an image of?","body":"<i>tried to download e(fx)clipse</i> Does that mean that you did not succeed in downloading it? <i>and then deleted it</i> So you did manage to download it successfully? So if you deleted it, then what is the screen capture an image of?"},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1681366841,"post_id":76001213,"comment_id":134045313,"body_markdown":"That list is &quot;modules&quot;, not files (they are all in jrt-fs.jar if you look carefully). This is just the standard module list for Java and is completely normal, you don&#39;t need to do anything. Newer versions of Java are different internally from older versions you might have seen in the past.","body":"That list is &quot;modules&quot;, not files (they are all in jrt-fs.jar if you look carefully). This is just the standard module list for Java and is completely normal, you don&#39;t need to do anything. Newer versions of Java are different internally from older versions you might have seen in the past."}],"answers":[{"tags":[],"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681368680,"creation_date":1681368680,"answer_id":76002448,"question_id":76001213,"body_markdown":"It seems **you are confusing** the ***Projects*** view with the ***Project Explorer*** view or the *Package Explorer* view.\r\n\r\nThe ***Projects* view alone does not make sense** (as shown in your screenshot), only together with the *Packages*, *Types* and *Members* views the *Projects* view makes sense, like in the [***Java Browsing* perspective**][1].\r\n\r\nMake sure you are in the right perspective (*Window &gt; Perspective &gt; Open Perspective &gt; ...*) or reset the perspective  (*Window &gt; Perspective &gt; Reset Perspective*) or close the *Projects* view and open the *Project Explorer* view instead (*Window &gt; Show View &gt; Project Explorer*).\r\n\r\n\r\n  [1]: https://help.eclipse.org/latest/topic/org.eclipse.jdt.doc.user/gettingStarted/qs-Browsing.htm","title":"Eclipse - how do I hide all of these files?","body":"<p>It seems <strong>you are confusing</strong> the <em><strong>Projects</strong></em> view with the <em><strong>Project Explorer</strong></em> view or the <em>Package Explorer</em> view.</p>\n<p>The <strong><em>Projects</em> view alone does not make sense</strong> (as shown in your screenshot), only together with the <em>Packages</em>, <em>Types</em> and <em>Members</em> views the <em>Projects</em> view makes sense, like in the <a href=\"https://help.eclipse.org/latest/topic/org.eclipse.jdt.doc.user/gettingStarted/qs-Browsing.htm\" rel=\"nofollow noreferrer\"><strong><em>Java Browsing</em> perspective</strong></a>.</p>\n<p>Make sure you are in the right perspective (<em>Window &gt; Perspective &gt; Open Perspective &gt; ...</em>) or reset the perspective  (<em>Window &gt; Perspective &gt; Reset Perspective</em>) or close the <em>Projects</em> view and open the <em>Project Explorer</em> view instead (<em>Window &gt; Show View &gt; Project Explorer</em>).</p>\n"}],"owner":{"account_id":28154818,"reputation":1,"user_id":21515688,"display_name":"Ailsa Sun"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681368732,"creation_date":1681353440,"question_id":76001213,"body_markdown":"So I recently tried to download e(fx)clipse and then deleted it - for some reason this popped up? Rather than the standard view where you see the src, lib, and then the Java standard libraries, I&#39;m seeing a long list of files - Does anyone know what&#39;s going on / how to fix? thanks!\r\n\r\n[![\\[_Image Here_\\]][1]][1]\r\n\r\nI tried to fix the perspective / shuffle around configure build path but I&#39;m just not experienced enough with Java to figure it out! \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fwH93.png","title":"Eclipse - how do I hide all of these files?","body":"<p>So I recently tried to download e(fx)clipse and then deleted it - for some reason this popped up? Rather than the standard view where you see the src, lib, and then the Java standard libraries, I'm seeing a long list of files - Does anyone know what's going on / how to fix? thanks!</p>\n<p><a href=\"https://i.stack.imgur.com/fwH93.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fwH93.png\" alt=\"[Image Here]\" /></a></p>\n<p>I tried to fix the perspective / shuffle around configure build path but I'm just not experienced enough with Java to figure it out!</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":9190353,"reputation":457,"user_id":6831116,"display_name":"Gopinath Radhakrishnan"},"score":0,"creation_date":1681365365,"post_id":76002028,"comment_id":134045097,"body_markdown":"If you are using Spring Boot 3 or above, the recommendation is to use springdoc. Please refer to the answer in the question https://stackoverflow.com/questions/74614369/how-to-run-swagger-3-on-spring-boot-3.","body":"If you are using Spring Boot 3 or above, the recommendation is to use springdoc. Please refer to the answer in the question <a href=\"https://stackoverflow.com/questions/74614369/how-to-run-swagger-3-on-spring-boot-3\" title=\"how to run swagger 3 on spring boot 3\">stackoverflow.com/questions/74614369/&hellip;</a>."}],"answers":[{"tags":[],"owner":{"account_id":13946546,"reputation":272,"user_id":10071165,"display_name":"tapsshore"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681368091,"creation_date":1681368091,"answer_id":76002371,"question_id":76002028,"body_markdown":"Just make sure you have this dependency in your POM file\r\n\r\n       &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n          &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n          &lt;version&gt;2.0.0&lt;/version&gt;\r\n       &lt;/dependency&gt;","title":"How to use Swagger in Spring","body":"<p>Just make sure you have this dependency in your POM file</p>\n<pre><code>   &lt;dependency&gt;\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n      &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n      &lt;version&gt;2.0.0&lt;/version&gt;\n   &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":5556344,"reputation":417,"user_id":4407572,"accept_rate":89,"display_name":"Sandeep Roy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681368672,"creation_date":1681364892,"question_id":76002028,"body_markdown":"I have made a basic CRUD app, wish to add Swagger with it.\r\n\r\nMy endpoints are -\r\n \r\n`@RequestMapping(value = &quot;/api/v1&quot;)`\r\n\r\n`GET - /get_all_bookings`\r\n\r\n`POST - /new_booking`\r\n\r\n`PUT - /update_booking/{id}`\r\n\r\n`DELETE - /delete_booking/{id}`\r\n\r\nSo I Included the dependency `springfox-swagger2` &amp; `springfox-swagger-ui`, \r\nthen a config package and inside it `SwaggerConfig` class,\r\n\r\n\r\n```@Configuration\r\n@EnableSwagger2\r\npublic class SwaggerConfig {\r\n\r\n\t@Bean\r\n\tpublic Docket postsApi() {\r\n\t\treturn new Docket(DocumentationType.SWAGGER_2).groupName(&quot;public-api&quot;)\r\n\t\t\t\t.apiInfo(apiInfo()).select().paths(postPaths()).build();\r\n\t}\r\n\r\n\tprivate Predicate&lt;String&gt; postPaths() {\r\n\t\treturn or(regex(&quot;/api/v1/*&quot;), regex(&quot;/api/v1/get_all_bookings*&quot;));\r\n\t}\r\n\r\n\tprivate ApiInfo apiInfo() {\r\n\t\treturn new ApiInfoBuilder().title(&quot;Demo API&quot;)\r\n\t\t\t\t.description(&quot;Placeholder&quot;)\r\n\t\t\t\t.termsOfServiceUrl(&quot;www.something.com&quot;)\r\n\t\t\t\t.contact(&quot;sandeep.roy2014@gmail.com&quot;).license(&quot;Free&quot;)\r\n\t\t\t\t.licenseUrl(&quot;www.somthing.com&quot;).version(&quot;1&quot;).build();\r\n\t}\r\n}\r\n```\r\n\r\nIt gives too many errors, which I&#39;m not able to understand.\r\n\r\n```\r\nError creating bean with name &#39;swagger2Controller&#39;: Lookup method resolution failed\r\n\r\nFailed to introspect Class [springfox.documentation.swagger2.web.Swagger2Controller] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@2aae9190]\r\n\r\njava.lang.NoClassDefFoundError: javax/servlet/http/HttpServletRequest\r\n\r\njava.lang.ClassNotFoundException: javax.servlet.http.HttpServletRequest\r\n```\r\n\r\nI&#39;m not very sure, what exactly I&#39;m doing wrong! Although all endpoints working fine when tried in Postman.","title":"How to use Swagger in Spring","body":"<p>I have made a basic CRUD app, wish to add Swagger with it.</p>\n<p>My endpoints are -</p>\n<p><code>@RequestMapping(value = &quot;/api/v1&quot;)</code></p>\n<p><code>GET - /get_all_bookings</code></p>\n<p><code>POST - /new_booking</code></p>\n<p><code>PUT - /update_booking/{id}</code></p>\n<p><code>DELETE - /delete_booking/{id}</code></p>\n<p>So I Included the dependency <code>springfox-swagger2</code> &amp; <code>springfox-swagger-ui</code>,\nthen a config package and inside it <code>SwaggerConfig</code> class,</p>\n<pre><code>@EnableSwagger2\npublic class SwaggerConfig {\n\n    @Bean\n    public Docket postsApi() {\n        return new Docket(DocumentationType.SWAGGER_2).groupName(&quot;public-api&quot;)\n                .apiInfo(apiInfo()).select().paths(postPaths()).build();\n    }\n\n    private Predicate&lt;String&gt; postPaths() {\n        return or(regex(&quot;/api/v1/*&quot;), regex(&quot;/api/v1/get_all_bookings*&quot;));\n    }\n\n    private ApiInfo apiInfo() {\n        return new ApiInfoBuilder().title(&quot;Demo API&quot;)\n                .description(&quot;Placeholder&quot;)\n                .termsOfServiceUrl(&quot;www.something.com&quot;)\n                .contact(&quot;sandeep.roy2014@gmail.com&quot;).license(&quot;Free&quot;)\n                .licenseUrl(&quot;www.somthing.com&quot;).version(&quot;1&quot;).build();\n    }\n}\n</code></pre>\n<p>It gives too many errors, which I'm not able to understand.</p>\n<pre><code>Error creating bean with name 'swagger2Controller': Lookup method resolution failed\n\nFailed to introspect Class [springfox.documentation.swagger2.web.Swagger2Controller] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@2aae9190]\n\njava.lang.NoClassDefFoundError: javax/servlet/http/HttpServletRequest\n\njava.lang.ClassNotFoundException: javax.servlet.http.HttpServletRequest\n</code></pre>\n<p>I'm not very sure, what exactly I'm doing wrong! Although all endpoints working fine when tried in Postman.</p>\n"},{"tags":["java","timezone","dst"],"answers":[{"tags":[],"owner":{"account_id":12710,"reputation":29685,"user_id":25188,"accept_rate":89,"display_name":"John D. Cook"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1288566875,"creation_date":1288566875,"answer_id":4065673,"question_id":4065641,"body_markdown":"Most of Arizona does not observe Daylight Savings Time, but the Navajo Nation inside Arizona *does* observe DST.","title":"Arizona TimeZone Day Light Saving","body":"<p>Most of Arizona does not observe Daylight Savings Time, but the Navajo Nation inside Arizona <em>does</em> observe DST.</p>\n"},{"comments":[{"owner":{"account_id":8423,"reputation":736056,"user_id":15168,"accept_rate":100,"display_name":"Jonathan Leffler"},"score":0,"creation_date":1288575994,"post_id":4065710,"comment_id":4369021,"body_markdown":"The situation in Indiana is even more complex than outlined above.  Some counties used Eastern time and DST; some used Central time and DST; and most used Eastern time but did not observe DST.  The list of time zone names for Indiana in the Olson database includes all of these: America/Fort_Wayne,\nAmerica/Indiana/Indianapolis,\nAmerica/Indiana/Knox,\nAmerica/Indiana/Marengo,\nAmerica/Indiana/Petersburg,\nAmerica/Indiana/Tell_City,\nAmerica/Indiana/Vevay,\nAmerica/Indiana/Vincennes,\nAmerica/Indiana/Winamac,\nAmerica/Indianapolis,\nAmerica/Knox_IN,\nUS/East-Indiana,\nUS/Indiana-Starke.","body":"The situation in Indiana is even more complex than outlined above.  Some counties used Eastern time and DST; some used Central time and DST; and most used Eastern time but did not observe DST.  The list of time zone names for Indiana in the Olson database includes all of these: America/Fort_Wayne, America/Indiana/Indianapolis, America/Indiana/Knox, America/Indiana/Marengo, America/Indiana/Petersburg, America/Indiana/Tell_City, America/Indiana/Vevay, America/Indiana/Vincennes, America/Indiana/Winamac, America/Indianapolis, America/Knox_IN, US/East-Indiana, US/Indiana-Starke."},{"owner":{"account_id":67623,"reputation":57713,"user_id":197788,"accept_rate":96,"display_name":"Ken Bloom"},"score":0,"creation_date":1288583656,"post_id":4065710,"comment_id":4369453,"body_markdown":"@Jonathan: You&#39;re right. There were counties that have always observed daylight savings time in the Eastern time zone. Then when Indiana decided to adopt Daylight Savings time as a whole, a number of different counties on the border between the two timezones have switched back and forth between the two timezones at various times, so there really are [a whole lot more timezones for Indiana](http://en.wikipedia.org/wiki/Time_in_Indiana). But as far as understanding how Olson designed his database, my simplified explanation of Indiana is sufficient.","body":"@Jonathan: You&#39;re right. There were counties that have always observed daylight savings time in the Eastern time zone. Then when Indiana decided to adopt Daylight Savings time as a whole, a number of different counties on the border between the two timezones have switched back and forth between the two timezones at various times, so there really are <a href=\"http://en.wikipedia.org/wiki/Time_in_Indiana\" rel=\"nofollow noreferrer\">a whole lot more timezones for Indiana</a>. But as far as understanding how Olson designed his database, my simplified explanation of Indiana is sufficient."}],"tags":[],"owner":{"account_id":67623,"reputation":57713,"user_id":197788,"accept_rate":96,"display_name":"Ken Bloom"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1288568870,"creation_date":1288567331,"answer_id":4065710,"question_id":4065641,"body_markdown":"Arizona is [in the Mountain timezone, but doesn&#39;t observe DST](http://www.timetemperature.com/tzus/arizona_time_zone.shtml). If you specify the timezone &quot;US/Mountain&quot;, then the computer will apply the rules used by most states in the Mountain time zone, which include observing daylight savings time. To get the rules for Arizona (which don&#39;t include DST), you want the timezone &quot;US/Arizona&quot; (or &quot;America/Phoenix&quot;). In the Navajo nation, you want the timezone named &quot;Navajo&quot;.\r\n\r\nTo save yourself some of the trouble, always try to use the names from &quot;America/*&quot; where you can pick the name of a city that has the same timezone rules as the place you&#39;re interested in.\r\n\r\nTo get the correct time in the correct timezone for any given city in the world, you simply have to familiarize yourself with the names in the Olson timezone database and their meanings. While you usually think of the term &quot;time zone&quot; to mean the time of day in the middle of the winter (when everybody observes standard time), in the Olson database a timezone name represents the entire history of daylight savings time rules and timezone rules for a particular region.\r\n\r\nAs an example, even though [Indiana now observes Eastern time and observes DST](http://www.timetemperature.com/tzus/indiana_time_zone.shtml) (except for a few counties right near Chicago which are on Central time like Chicago), before 2006 they didn&#39;t observe DST. A timezone named &quot;US/Indiana&quot; (or &quot;America/Indianapolis&quot;) was created to cover this region, an even today, you would still want to use the timezone &quot;America/Indianapolis&quot; when talking about Indiana, so that queries about dates and times before 2006 could be answered correctly.","title":"Arizona TimeZone Day Light Saving","body":"<p>Arizona is <a href=\"http://www.timetemperature.com/tzus/arizona_time_zone.shtml\" rel=\"noreferrer\">in the Mountain timezone, but doesn't observe DST</a>. If you specify the timezone \"US/Mountain\", then the computer will apply the rules used by most states in the Mountain time zone, which include observing daylight savings time. To get the rules for Arizona (which don't include DST), you want the timezone \"US/Arizona\" (or \"America/Phoenix\"). In the Navajo nation, you want the timezone named \"Navajo\".</p>\n\n<p>To save yourself some of the trouble, always try to use the names from \"America/*\" where you can pick the name of a city that has the same timezone rules as the place you're interested in.</p>\n\n<p>To get the correct time in the correct timezone for any given city in the world, you simply have to familiarize yourself with the names in the Olson timezone database and their meanings. While you usually think of the term \"time zone\" to mean the time of day in the middle of the winter (when everybody observes standard time), in the Olson database a timezone name represents the entire history of daylight savings time rules and timezone rules for a particular region.</p>\n\n<p>As an example, even though <a href=\"http://www.timetemperature.com/tzus/indiana_time_zone.shtml\" rel=\"noreferrer\">Indiana now observes Eastern time and observes DST</a> (except for a few counties right near Chicago which are on Central time like Chicago), before 2006 they didn't observe DST. A timezone named \"US/Indiana\" (or \"America/Indianapolis\") was created to cover this region, an even today, you would still want to use the timezone \"America/Indianapolis\" when talking about Indiana, so that queries about dates and times before 2006 could be answered correctly.</p>\n"},{"tags":[],"owner":{"account_id":73328,"reputation":18173,"user_id":211232,"display_name":"WReach"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1288567956,"creation_date":1288567956,"answer_id":4065752,"question_id":4065641,"body_markdown":"The zone information can be obtained directly for many major cities worldwide.  This includes Phoenix, which has the zone identifier &quot;America/Phoenix&quot;.\r\n\r\nYou can find the list of available zone identifiers using the method *TimeZone.getAvailableIDs()* or by manually inspecting the contents of the JRE *lib/zi* directory.\r\n\r\nAs other posters have noted, the &quot;US/Arizona&quot; zone information is distinct from &quot;US/Mountain&quot;.","title":"Arizona TimeZone Day Light Saving","body":"<p>The zone information can be obtained directly for many major cities worldwide.  This includes Phoenix, which has the zone identifier \"America/Phoenix\".</p>\n\n<p>You can find the list of available zone identifiers using the method <em>TimeZone.getAvailableIDs()</em> or by manually inspecting the contents of the JRE <em>lib/zi</em> directory.</p>\n\n<p>As other posters have noted, the \"US/Arizona\" zone information is distinct from \"US/Mountain\".</p>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1571829300,"creation_date":1571828862,"answer_id":58521487,"question_id":4065641,"body_markdown":"I am providing the modern answer. Don’t use the classes `Calendar`, `GregorianCalendar`, `TimeZone` and `Date`. They are all poorly designed and fortunately all long outdated.\r\n\r\n## java.time\r\n\r\nIt’s simple when you know how:\r\n\r\n\t\tZonedDateTime arizonaExceptNavajo = ZonedDateTime.now(ZoneId.of(&quot;America/Phoenix&quot;));\r\n\t\tSystem.out.println(arizonaExceptNavajo);\r\n\r\nWhen I ran this code just now, the output was:\r\n\r\n&gt; 2019-10-23T04:07:23.034-07:00[America/Phoenix]\r\n\r\nThe US/Mountain time zone ID is deprecated. It’s a link to America/Denver, and America/Denver does use summer time (daylight saving time, DST). Modern time zone IDs have the form *region/city* where *region* is either a continent like America or an ocean like Pacific.\r\n\r\nAs others have said, summer time is used on one place in Arizona, the Navajo Nation. The `Navajo` time zone ID mentioned is deprecated too. Use America/Denver:\r\n\r\n\t\tZonedDateTime navajoNation = ZonedDateTime.now(ZoneId.of(&quot;America/Denver&quot;));\r\n\t\tSystem.out.println(navajoNation);\r\n\r\n&gt; 2019-10-23T05:07:23.037-06:00[America/Denver]\r\n\r\nSince summer time is still in effect, the time of day is one hour ahead compared to the one for Phoenix above.\r\n\r\n## Links\r\n\r\n - [Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use java.time.\r\n - [Navajo Nation](https://en.wikipedia.org/wiki/Navajo_Nation) on Wikipedia.","title":"Arizona TimeZone Day Light Saving","body":"<p>I am providing the modern answer. Don’t use the classes <code>Calendar</code>, <code>GregorianCalendar</code>, <code>TimeZone</code> and <code>Date</code>. They are all poorly designed and fortunately all long outdated.</p>\n\n<h2>java.time</h2>\n\n<p>It’s simple when you know how:</p>\n\n<pre><code>    ZonedDateTime arizonaExceptNavajo = ZonedDateTime.now(ZoneId.of(\"America/Phoenix\"));\n    System.out.println(arizonaExceptNavajo);\n</code></pre>\n\n<p>When I ran this code just now, the output was:</p>\n\n<blockquote>\n  <p>2019-10-23T04:07:23.034-07:00[America/Phoenix]</p>\n</blockquote>\n\n<p>The US/Mountain time zone ID is deprecated. It’s a link to America/Denver, and America/Denver does use summer time (daylight saving time, DST). Modern time zone IDs have the form <em>region/city</em> where <em>region</em> is either a continent like America or an ocean like Pacific.</p>\n\n<p>As others have said, summer time is used on one place in Arizona, the Navajo Nation. The <code>Navajo</code> time zone ID mentioned is deprecated too. Use America/Denver:</p>\n\n<pre><code>    ZonedDateTime navajoNation = ZonedDateTime.now(ZoneId.of(\"America/Denver\"));\n    System.out.println(navajoNation);\n</code></pre>\n\n<blockquote>\n  <p>2019-10-23T05:07:23.037-06:00[America/Denver]</p>\n</blockquote>\n\n<p>Since summer time is still in effect, the time of day is one hour ahead compared to the one for Phoenix above.</p>\n\n<h2>Links</h2>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a> explaining how to use java.time.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Navajo_Nation\" rel=\"nofollow noreferrer\">Navajo Nation</a> on Wikipedia.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1681143011,"post_id":75974845,"comment_id":134005425,"body_markdown":"First of all the classes `Calendar`, `TimeZone` and `Date` were poorly designed, and `SimpleDateFormat` is a notorious troublemaker of a class. For this reason they were supplanted about a decade ago by java.time, the modern Java date and time API. Don&#39;t use those old classes. Second time zone IDs US/Arizona and US/Mountain are deprecated and replaced by America/Phoenix and America/Denver. Third, are you contributing anything not already in the other answers?","body":"First of all the classes <code>Calendar</code>, <code>TimeZone</code> and <code>Date</code> were poorly designed, and <code>SimpleDateFormat</code> is a notorious troublemaker of a class. For this reason they were supplanted about a decade ago by java.time, the modern Java date and time API. Don&#39;t use those old classes. Second time zone IDs US/Arizona and US/Mountain are deprecated and replaced by America/Phoenix and America/Denver. Third, are you contributing anything not already in the other answers?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1681143592,"post_id":75974845,"comment_id":134005559,"body_markdown":"And nitpicking, I believe that the 9:52 in the first line of your output is not in EST but in EDT. Similarly the last line in MDT, not MST. And worse, naming your `Date` variable `estTime` is misleading since a `Date` hasn&#39;t got any time zone.","body":"And nitpicking, I believe that the 9:52 in the first line of your output is not in EST but in EDT. Similarly the last line in MDT, not MST. And worse, naming your <code>Date</code> variable <code>estTime</code> is misleading since a <code>Date</code> hasn&#39;t got any time zone."}],"tags":[],"owner":{"account_id":1491081,"reputation":941,"user_id":1483550,"display_name":"Shailesh kumar"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681367465,"creation_date":1681108979,"answer_id":75974845,"question_id":4065641,"body_markdown":"        Date timeTest = Calendar.getInstance().getTime();\r\n         \r\n        SimpleDateFormat localFormater = new SimpleDateFormat(&quot;hh:mm aaa&quot;);\r\n        String localTime = localFormater.format(timeTest);\r\n        System.out.println(&quot;Local time :  &quot; + localTime);\r\n         \r\n        SimpleDateFormat arFormatter = new SimpleDateFormat(&quot;hh:mm aaa&quot;);\r\n        arFormatter.setTimeZone(TimeZone.getTimeZone(&quot;US/Arizona&quot;));\r\n        System.out.println(&quot;Arizona equivalent time :  &quot; + arFormatter.format(timeTest));\r\n         \r\n        SimpleDateFormat mstFormmater = new SimpleDateFormat(&quot;hh:mm aaa&quot;);\r\n        mstFormmater.setTimeZone(TimeZone.getTimeZone(&quot;US/Mountain&quot;));\r\n        System.out.println(&quot;MST equivalent time   :  &quot; +  mstFormmater.format(timeTest));\r\n\r\nOutput :\r\n\r\nLocal time :  08:43 AM &lt;br&gt;\r\nArizona equivalent time :  01:43 AM &lt;br&gt;\r\nMST equivalent time   :  02:43 AM &lt;br&gt;\r\n\r\nBut if we change the Calendar without changing the Dateformat , the output will be same for the Timezone-Format(MST, US/Arizona , US/Mountain ).\r\n\r\n        Calendar userCalendar1 = new GregorianCalendar(TimeZone.getTimeZone(&quot;MST&quot;));&lt;br&gt;\r\n        Calendar userCalendar2 = new GregorianCalendar(TimeZone.getTimeZone(&quot;US/Arizona&quot;));&lt;br&gt;\r\n        Calendar userCalendar3 = new GregorianCalendar(TimeZone.getTimeZone(&quot;US/Mountain&quot;));\r\n         \r\n        Date timeTest1 = Calendar.getInstance().getTime();\r\n        Date timeTest2 = userCalendar1.getTime();\r\n        Date timeTest3 = userCalendar2.getTime();\r\n        Date timeTest4 = userCalendar3.getTime();\r\n\r\n        SimpleDateFormat localFormater = new SimpleDateFormat(&quot;hh:mm aaa&quot;);\r\n        String   localTime = localFormater.format(timeTest1);\r\n        System.out.println(&quot; Local   time 1:  &quot; + localTime);\r\n     \r\n        localFormater = new SimpleDateFormat(&quot;hh:mm aaa&quot;);\r\n        localTime = localFormater.format(timeTest2);\r\n     \r\n        System.out.println(&quot;Local   time  2:  &quot; + localTime);\r\n     \r\n        localFormater = new SimpleDateFormat(&quot;hh:mm aaa&quot;);\r\n        localTime = localFormater.format(timeTest3);\r\n   \r\n        System.out.println(&quot;Local   time 3:  &quot; + localTime);\r\n    \r\n        localFormater = new SimpleDateFormat(&quot;hh:mm aaa&quot;);\r\n        localTime = localFormater.format(timeTest4);\r\n     \r\n        System.out.println(&quot;Local   time 4:  &quot; + localTime);\r\n\r\nOutput : &lt;br&gt;\r\nLocal   time 1:  08:56 AM &lt;br&gt;\r\nLocal   time  2:  08:56 AM&lt;br&gt;\r\nLocal   time 3:  08:56 AM&lt;br&gt;\r\nLocal   time 4:  08:56 AM&lt;br&gt;","title":"Arizona TimeZone Day Light Saving","body":"<pre><code>    Date timeTest = Calendar.getInstance().getTime();\n     \n    SimpleDateFormat localFormater = new SimpleDateFormat(&quot;hh:mm aaa&quot;);\n    String localTime = localFormater.format(timeTest);\n    System.out.println(&quot;Local time :  &quot; + localTime);\n     \n    SimpleDateFormat arFormatter = new SimpleDateFormat(&quot;hh:mm aaa&quot;);\n    arFormatter.setTimeZone(TimeZone.getTimeZone(&quot;US/Arizona&quot;));\n    System.out.println(&quot;Arizona equivalent time :  &quot; + arFormatter.format(timeTest));\n     \n    SimpleDateFormat mstFormmater = new SimpleDateFormat(&quot;hh:mm aaa&quot;);\n    mstFormmater.setTimeZone(TimeZone.getTimeZone(&quot;US/Mountain&quot;));\n    System.out.println(&quot;MST equivalent time   :  &quot; +  mstFormmater.format(timeTest));\n</code></pre>\n<p>Output :</p>\n<p>Local time :  08:43 AM <br>\nArizona equivalent time :  01:43 AM <br>\nMST equivalent time   :  02:43 AM <br></p>\n<p>But if we change the Calendar without changing the Dateformat , the output will be same for the Timezone-Format(MST, US/Arizona , US/Mountain ).</p>\n<pre><code>    Calendar userCalendar1 = new GregorianCalendar(TimeZone.getTimeZone(&quot;MST&quot;));&lt;br&gt;\n    Calendar userCalendar2 = new GregorianCalendar(TimeZone.getTimeZone(&quot;US/Arizona&quot;));&lt;br&gt;\n    Calendar userCalendar3 = new GregorianCalendar(TimeZone.getTimeZone(&quot;US/Mountain&quot;));\n     \n    Date timeTest1 = Calendar.getInstance().getTime();\n    Date timeTest2 = userCalendar1.getTime();\n    Date timeTest3 = userCalendar2.getTime();\n    Date timeTest4 = userCalendar3.getTime();\n\n    SimpleDateFormat localFormater = new SimpleDateFormat(&quot;hh:mm aaa&quot;);\n    String   localTime = localFormater.format(timeTest1);\n    System.out.println(&quot; Local   time 1:  &quot; + localTime);\n \n    localFormater = new SimpleDateFormat(&quot;hh:mm aaa&quot;);\n    localTime = localFormater.format(timeTest2);\n \n    System.out.println(&quot;Local   time  2:  &quot; + localTime);\n \n    localFormater = new SimpleDateFormat(&quot;hh:mm aaa&quot;);\n    localTime = localFormater.format(timeTest3);\n\n    System.out.println(&quot;Local   time 3:  &quot; + localTime);\n\n    localFormater = new SimpleDateFormat(&quot;hh:mm aaa&quot;);\n    localTime = localFormater.format(timeTest4);\n \n    System.out.println(&quot;Local   time 4:  &quot; + localTime);\n</code></pre>\n<p>Output : <br>\nLocal   time 1:  08:56 AM <br>\nLocal   time  2:  08:56 AM<br>\nLocal   time 3:  08:56 AM<br>\nLocal   time 4:  08:56 AM<br></p>\n"}],"owner":{"account_id":78177,"reputation":85,"user_id":222668,"accept_rate":50,"display_name":"seawaves"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8722,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":4065710,"answer_count":5,"score":4,"last_activity_date":1681367465,"creation_date":1288566465,"question_id":4065641,"body_markdown":"I am trying to get current time in specific time zones. I tried following code.\r\n\r\n    Calendar j = new GregorianCalendar(TimeZone.getTimeZone(&quot;US/Mountain&quot;));\r\n    j.setTimeInMillis(Calendar.getInstance().getTimeInMillis());\r\n    System.out.println(j.get(Calendar.HOUR_OF_DAY)+&quot;:&quot;+j.get(Calendar.MINUTE));\r\n    TimeZone tz = TimeZone.getTimeZone(&quot;US/Mountain&quot;);\r\n    System.out.println(&quot;tz.getRawOffset()&quot;+tz.getRawOffset()/3600);\r\n    System.out.println(tz.getDSTSavings());\r\n    System.out.println\r\n\r\n    (tz.inDaylightTime(new Date()));\r\n\r\nThe answer I got is surprising -\r\n16:57 - wrong by 1 hr\r\ntz.getRawOffset()-7000\r\n3600000\r\ntrue - why daylight saving is true for Arizona?\r\nHow to get the correct wall clock time of Phoenix or any other city in US?","title":"Arizona TimeZone Day Light Saving","body":"<p>I am trying to get current time in specific time zones. I tried following code.</p>\n\n<pre><code>Calendar j = new GregorianCalendar(TimeZone.getTimeZone(\"US/Mountain\"));\nj.setTimeInMillis(Calendar.getInstance().getTimeInMillis());\nSystem.out.println(j.get(Calendar.HOUR_OF_DAY)+\":\"+j.get(Calendar.MINUTE));\nTimeZone tz = TimeZone.getTimeZone(\"US/Mountain\");\nSystem.out.println(\"tz.getRawOffset()\"+tz.getRawOffset()/3600);\nSystem.out.println(tz.getDSTSavings());\nSystem.out.println\n\n(tz.inDaylightTime(new Date()));\n</code></pre>\n\n<p>The answer I got is surprising -\n16:57 - wrong by 1 hr\ntz.getRawOffset()-7000\n3600000\ntrue - why daylight saving is true for Arizona?\nHow to get the correct wall clock time of Phoenix or any other city in US?</p>\n"},{"tags":["java","spring-boot","encryption","aes"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1681360948,"post_id":76001397,"comment_id":134044603,"body_markdown":"Is there any possibility that some of the data was encrypted with a different key? I have seen this misleading error messages in such cases. Try to print out the failed encrypted value (probably as base64 encrypted) and use that value to test the decrypter in isolation.","body":"Is there any possibility that some of the data was encrypted with a different key? I have seen this misleading error messages in such cases. Try to print out the failed encrypted value (probably as base64 encrypted) and use that value to test the decrypter in isolation."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1681365098,"post_id":76001397,"comment_id":134045075,"body_markdown":"This exception only depends on the size of the input data, so any error will be outside of this code. Doing terrible things like using `&quot;AES&quot;` as algorithm string or putting `Cipher` in a field (a stateful object) shows clearly that you don&#39;t really know what you are doing. Ask an expert, take a course, but please don&#39;t go and create *secure* code while just testing if it works or not.","body":"This exception only depends on the size of the input data, so any error will be outside of this code. Doing terrible things like using <code>&quot;AES&quot;</code> as algorithm string or putting <code>Cipher</code> in a field (a stateful object) shows clearly that you don&#39;t really know what you are doing. Ask an expert, take a course, but please don&#39;t go and create <i>secure</i> code while just testing if it works or not."},{"owner":{"account_id":28175707,"reputation":5,"user_id":21533509,"display_name":"Mohan"},"score":0,"creation_date":1681365130,"post_id":76001397,"comment_id":134045078,"body_markdown":"All data is encrypted with the same key. I&#39;ve not changed the key at any time. In Isolation, it works fine and error is not always on this repository method, sometimes it works fine and some other repository method fails. Could the issue be related to concurrency or something like that?","body":"All data is encrypted with the same key. I&#39;ve not changed the key at any time. In Isolation, it works fine and error is not always on this repository method, sometimes it works fine and some other repository method fails. Could the issue be related to concurrency or something like that?"}],"answers":[{"tags":[],"owner":{"account_id":28175707,"reputation":5,"user_id":21533509,"display_name":"Mohan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681367279,"creation_date":1681367279,"answer_id":76002285,"question_id":76001397,"body_markdown":"The issue was related to using the same cipher every time which was causing the concurrency issue. I was able to solve this by modifying the code to create a new cipher every time it is called:\r\n\r\n```\r\n@Converter\r\n@NoArgsConstructor\r\npublic class DataEncryptionConverter implements AttributeConverter&lt;Object, String&gt; {\r\n\r\n    // @Value(&quot;${encryption.key}&quot;)\r\n    private String encryptionKey = &quot;secret-test-key1&quot;;\r\n    private final byte[] iv = new byte[16];\r\n    private final String encryptionCipher = &quot;AES/CBC/PKCS5Padding&quot;;\r\n\r\n    private Key createKey() {\r\n        return new SecretKeySpec(encryptionKey.getBytes(), &quot;AES&quot;);\r\n    }\r\n\r\n    private Cipher createCipher() throws GeneralSecurityException {\r\n        return Cipher.getInstance(encryptionCipher);\r\n    }\r\n\r\n    // Initialize cipher into the memory -- decides whether we want to encrypt or decrypt data with the cipher\r\n    private Cipher initCipher(int encryptMode) throws GeneralSecurityException {\r\n        Cipher cipher = createCipher();\r\n        Key key = createKey();\r\n        IvParameterSpec ivParameterSpec = new IvParameterSpec(iv);\r\n        cipher.init(encryptMode, key, ivParameterSpec);\r\n        return cipher;\r\n    }\r\n\r\n    @SneakyThrows\r\n    @Override\r\n    public String convertToDatabaseColumn(Object attribute) {\r\n        if (attribute == null) {\r\n            return null;\r\n        }\r\n        Cipher cipher = initCipher(Cipher.ENCRYPT_MODE);\r\n        byte[] bytes = SerializationUtils.serialize(attribute);\r\n        return Base64.getEncoder().encodeToString(cipher.doFinal(bytes));\r\n    }\r\n\r\n    @SneakyThrows\r\n    @Override\r\n    public Object convertToEntityAttribute(String dbData) {\r\n        if (dbData == null) {\r\n            return null;\r\n        }\r\n        Cipher cipher = initCipher(Cipher.DECRYPT_MODE);\r\n        byte[] bytes = cipher.doFinal(Base64.getDecoder().decode(dbData));\r\n        return SerializationUtils.deserialize(bytes);\r\n    }\r\n}\r\n```","title":"How to fix the &quot;javax.crypto.IllegalBlockSizeException: Input length must be multiple of 16 when decrypting with padded cipher&quot; error?","body":"<p>The issue was related to using the same cipher every time which was causing the concurrency issue. I was able to solve this by modifying the code to create a new cipher every time it is called:</p>\n<pre><code>@Converter\n@NoArgsConstructor\npublic class DataEncryptionConverter implements AttributeConverter&lt;Object, String&gt; {\n\n    // @Value(&quot;${encryption.key}&quot;)\n    private String encryptionKey = &quot;secret-test-key1&quot;;\n    private final byte[] iv = new byte[16];\n    private final String encryptionCipher = &quot;AES/CBC/PKCS5Padding&quot;;\n\n    private Key createKey() {\n        return new SecretKeySpec(encryptionKey.getBytes(), &quot;AES&quot;);\n    }\n\n    private Cipher createCipher() throws GeneralSecurityException {\n        return Cipher.getInstance(encryptionCipher);\n    }\n\n    // Initialize cipher into the memory -- decides whether we want to encrypt or decrypt data with the cipher\n    private Cipher initCipher(int encryptMode) throws GeneralSecurityException {\n        Cipher cipher = createCipher();\n        Key key = createKey();\n        IvParameterSpec ivParameterSpec = new IvParameterSpec(iv);\n        cipher.init(encryptMode, key, ivParameterSpec);\n        return cipher;\n    }\n\n    @SneakyThrows\n    @Override\n    public String convertToDatabaseColumn(Object attribute) {\n        if (attribute == null) {\n            return null;\n        }\n        Cipher cipher = initCipher(Cipher.ENCRYPT_MODE);\n        byte[] bytes = SerializationUtils.serialize(attribute);\n        return Base64.getEncoder().encodeToString(cipher.doFinal(bytes));\n    }\n\n    @SneakyThrows\n    @Override\n    public Object convertToEntityAttribute(String dbData) {\n        if (dbData == null) {\n            return null;\n        }\n        Cipher cipher = initCipher(Cipher.DECRYPT_MODE);\n        byte[] bytes = cipher.doFinal(Base64.getDecoder().decode(dbData));\n        return SerializationUtils.deserialize(bytes);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28175707,"reputation":5,"user_id":21533509,"display_name":"Mohan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":425,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681367279,"creation_date":1681356657,"question_id":76001397,"body_markdown":"I&#39;m using a Spring Boot application with an attribute converter class to encrypt certain fields of entities when persisting in the database and decrypt them when retrieving the data. I use @Convert(converter = DataEncryptionConverter.class) annotation on the fields of entities that I want to encrypt/ decrypt. Here is my code:\r\n\r\n```\r\n@Converter\r\n@NoArgsConstructor\r\npublic class DataEncryptionConverter implements AttributeConverter&lt;Object, String&gt; {\r\n\r\n    //    @Value(&quot;${encryption.key}&quot;)\r\n    private String encryptionKey = &quot;secret-test-key1&quot;;\r\n    private final byte[] iv = new byte[16];\r\n    private final String encryptionCipher = &quot;AES/CBC/PKCS5Padding&quot;;\r\n\r\n    private Key key;\r\n    private Cipher cipher;\r\n\r\n    private Key getKey() {\r\n        if (key == null) {\r\n            key = new SecretKeySpec(encryptionKey.getBytes(), &quot;AES&quot;);\r\n        }\r\n        return key;\r\n    }\r\n\r\n    private Cipher getCipher() throws GeneralSecurityException {\r\n        if (cipher == null) {\r\n            cipher = Cipher.getInstance(encryptionCipher);\r\n        }\r\n        return cipher;\r\n    }\r\n\r\n    // initilize cipher into the memory -- decides whether we want to encrypt or decrypt data with the cipher\r\n    private void initCipher(int encryptMode) throws GeneralSecurityException {\r\n        IvParameterSpec ivParameterSpec = new IvParameterSpec(iv);\r\n        getCipher().init(encryptMode, getKey(), ivParameterSpec);\r\n    }\r\n\r\n    @SneakyThrows\r\n    @Override\r\n    public String convertToDatabaseColumn(Object attribute) {\r\n        if (attribute == null) {\r\n            return null;\r\n        }\r\n        initCipher(Cipher.ENCRYPT_MODE);\r\n        byte[] bytes = SerializationUtils.serialize(attribute);\r\n        return Base64.getEncoder().encodeToString(getCipher().doFinal(bytes));\r\n    }\r\n\r\n    @SneakyThrows\r\n    @Override\r\n    public Object convertToEntityAttribute(String dbData) {\r\n        if (dbData == null) {\r\n            return null;\r\n        }\r\n        initCipher(Cipher.DECRYPT_MODE);\r\n        byte[] bytes = getCipher().doFinal(Base64.getDecoder().decode(dbData));\r\n        return SerializationUtils.deserialize(bytes);\r\n    }\r\n}\r\n```\r\n\r\nIf I call the method convertToDatabaseColumn explicitly to encrypt my existing plain data in the database, it works fine.  \r\n\r\n```\r\n@Test\r\n    public void encryptTeam() {\r\n        DataEncryptionConverter converter = new DataEncryptionConverter();\r\n\r\n        List&lt;Team&gt; teams = teamRepository.findAll();\r\n        for (Team team : teams) {\r\n            team.setTeamName(converter.convertToDatabaseColumn(team.getTeamName()));\r\n            team.setTeamDesc(converter.convertToDatabaseColumn(team.getTeamDesc()));\r\n        }\r\n        teamRepository.saveAll(teams);\r\n    }\r\n```\r\n\t\r\nIf I call the method convertToEntityAttribute to decrypt the encrypted data in the database, it works fine.  \r\n\r\n```\r\n@Test\r\n    public void decryptTeam() {\r\n        DataEncryptionConverter converter = new DataEncryptionConverter();\r\n\r\n        List&lt;Team&gt; teams = teamRepository.findAll();\r\n        for (Team team : teams) {\r\n            team.setTeamName((String) converter.convertToEntityAttribute(team.getTeamName()));\r\n            team.setTeamDesc((String) converter.convertToEntityAttribute(team.getTeamDesc()));\r\n        }\r\n        teamRepository.saveAll(teams);\r\n    }\r\n```\r\n\r\nIf I call the repository methods explicitly in the code to save/ get data, it works fine but when the application is running, many functionalities work fine but at some or the other place a JPA repository method throws the &quot;javax.crypto.IllegalBlockSizeException: Input length must be multiple of 16&quot; exception and it is not able to decrypt. \r\n\r\nFor example here this method defined in User Repository is throwing an exception:\r\n\r\nUser findByPrimaryEmail(String primaryEmail);\r\n\r\n\r\nError:\r\n```\r\nApr 12, 2023 6:49:07 PM org.apache.catalina.core.StandardWrapperValve invoke\r\nSEVERE: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception\r\njava.lang.reflect.UndeclaredThrowableException\r\n\tat com.sun.proxy.$Proxy201.getSingleResult(Unknown Source)\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:196)\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:88)\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155)\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143)\r\n\t\r\n\r\nCaused by: javax.crypto.IllegalBlockSizeException: Input length must be multiple of 16 when decrypting with padded cipher\r\n\tat java.base/com.sun.crypto.provider.CipherCore.prepareInputBuffer(CipherCore.java:1005)\r\n\tat java.base/com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:848)\r\n\tat java.base/com.sun.crypto.provider.AESCipher.engineDoFinal(AESCipher.java:446)\r\n\tat java.base/javax.crypto.Cipher.doFinal(Cipher.java:2202)\r\n\tat com.tse.core_application.configuration.DataEncryptionConverter.convertToDatabaseColumn(DataEncryptionConverter.java:70)\r\n\tat com.tse.core_application.configuration.DataEncryptionConverter.convertToDatabaseColumn(DataEncryptionConverter.java:22)\r\n```\r\n\r\nWhat am I doing wrong here? Earlier I was using only &quot;AES&quot; as the transformation string and I was getting the same error so I changed it to &quot;AES/CBC/PKCS5Padding&quot; but I still got the same error. Then I added the IvParameterSpec as well but I&#39;m still getting these errors.","title":"How to fix the &quot;javax.crypto.IllegalBlockSizeException: Input length must be multiple of 16 when decrypting with padded cipher&quot; error?","body":"<p>I'm using a Spring Boot application with an attribute converter class to encrypt certain fields of entities when persisting in the database and decrypt them when retrieving the data. I use @Convert(converter = DataEncryptionConverter.class) annotation on the fields of entities that I want to encrypt/ decrypt. Here is my code:</p>\n<pre><code>@Converter\n@NoArgsConstructor\npublic class DataEncryptionConverter implements AttributeConverter&lt;Object, String&gt; {\n\n    //    @Value(&quot;${encryption.key}&quot;)\n    private String encryptionKey = &quot;secret-test-key1&quot;;\n    private final byte[] iv = new byte[16];\n    private final String encryptionCipher = &quot;AES/CBC/PKCS5Padding&quot;;\n\n    private Key key;\n    private Cipher cipher;\n\n    private Key getKey() {\n        if (key == null) {\n            key = new SecretKeySpec(encryptionKey.getBytes(), &quot;AES&quot;);\n        }\n        return key;\n    }\n\n    private Cipher getCipher() throws GeneralSecurityException {\n        if (cipher == null) {\n            cipher = Cipher.getInstance(encryptionCipher);\n        }\n        return cipher;\n    }\n\n    // initilize cipher into the memory -- decides whether we want to encrypt or decrypt data with the cipher\n    private void initCipher(int encryptMode) throws GeneralSecurityException {\n        IvParameterSpec ivParameterSpec = new IvParameterSpec(iv);\n        getCipher().init(encryptMode, getKey(), ivParameterSpec);\n    }\n\n    @SneakyThrows\n    @Override\n    public String convertToDatabaseColumn(Object attribute) {\n        if (attribute == null) {\n            return null;\n        }\n        initCipher(Cipher.ENCRYPT_MODE);\n        byte[] bytes = SerializationUtils.serialize(attribute);\n        return Base64.getEncoder().encodeToString(getCipher().doFinal(bytes));\n    }\n\n    @SneakyThrows\n    @Override\n    public Object convertToEntityAttribute(String dbData) {\n        if (dbData == null) {\n            return null;\n        }\n        initCipher(Cipher.DECRYPT_MODE);\n        byte[] bytes = getCipher().doFinal(Base64.getDecoder().decode(dbData));\n        return SerializationUtils.deserialize(bytes);\n    }\n}\n</code></pre>\n<p>If I call the method convertToDatabaseColumn explicitly to encrypt my existing plain data in the database, it works fine.</p>\n<pre><code>@Test\n    public void encryptTeam() {\n        DataEncryptionConverter converter = new DataEncryptionConverter();\n\n        List&lt;Team&gt; teams = teamRepository.findAll();\n        for (Team team : teams) {\n            team.setTeamName(converter.convertToDatabaseColumn(team.getTeamName()));\n            team.setTeamDesc(converter.convertToDatabaseColumn(team.getTeamDesc()));\n        }\n        teamRepository.saveAll(teams);\n    }\n</code></pre>\n<p>If I call the method convertToEntityAttribute to decrypt the encrypted data in the database, it works fine.</p>\n<pre><code>@Test\n    public void decryptTeam() {\n        DataEncryptionConverter converter = new DataEncryptionConverter();\n\n        List&lt;Team&gt; teams = teamRepository.findAll();\n        for (Team team : teams) {\n            team.setTeamName((String) converter.convertToEntityAttribute(team.getTeamName()));\n            team.setTeamDesc((String) converter.convertToEntityAttribute(team.getTeamDesc()));\n        }\n        teamRepository.saveAll(teams);\n    }\n</code></pre>\n<p>If I call the repository methods explicitly in the code to save/ get data, it works fine but when the application is running, many functionalities work fine but at some or the other place a JPA repository method throws the &quot;javax.crypto.IllegalBlockSizeException: Input length must be multiple of 16&quot; exception and it is not able to decrypt.</p>\n<p>For example here this method defined in User Repository is throwing an exception:</p>\n<p>User findByPrimaryEmail(String primaryEmail);</p>\n<p>Error:</p>\n<pre><code>Apr 12, 2023 6:49:07 PM org.apache.catalina.core.StandardWrapperValve invoke\nSEVERE: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception\njava.lang.reflect.UndeclaredThrowableException\n    at com.sun.proxy.$Proxy201.getSingleResult(Unknown Source)\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:196)\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:88)\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155)\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143)\n    \n\nCaused by: javax.crypto.IllegalBlockSizeException: Input length must be multiple of 16 when decrypting with padded cipher\n    at java.base/com.sun.crypto.provider.CipherCore.prepareInputBuffer(CipherCore.java:1005)\n    at java.base/com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:848)\n    at java.base/com.sun.crypto.provider.AESCipher.engineDoFinal(AESCipher.java:446)\n    at java.base/javax.crypto.Cipher.doFinal(Cipher.java:2202)\n    at com.tse.core_application.configuration.DataEncryptionConverter.convertToDatabaseColumn(DataEncryptionConverter.java:70)\n    at com.tse.core_application.configuration.DataEncryptionConverter.convertToDatabaseColumn(DataEncryptionConverter.java:22)\n</code></pre>\n<p>What am I doing wrong here? Earlier I was using only &quot;AES&quot; as the transformation string and I was getting the same error so I changed it to &quot;AES/CBC/PKCS5Padding&quot; but I still got the same error. Then I added the IvParameterSpec as well but I'm still getting these errors.</p>\n"},{"tags":["java","timezone","comparison","comparator"],"comments":[{"owner":{"account_id":12404,"reputation":62016,"user_id":24396,"accept_rate":74,"display_name":"Steve Kuo"},"score":0,"creation_date":1362187324,"post_id":15169108,"comment_id":21365354,"body_markdown":"What are the ordering rules for TimeZone?","body":"What are the ordering rules for TimeZone?"},{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":0,"creation_date":1362188583,"post_id":15169108,"comment_id":21365593,"body_markdown":"@SteveKuo Updated the question for clarity on the ordering. Does my edit make sense to you? Let me know how I can improve the question.","body":"@SteveKuo Updated the question for clarity on the ordering. Does my edit make sense to you? Let me know how I can improve the question."}],"answers":[{"comments":[{"owner":{"account_id":1888343,"reputation":176617,"user_id":1707091,"display_name":"rgettman"},"score":1,"creation_date":1362183997,"post_id":15169112,"comment_id":21364552,"body_markdown":"What about daylight savings time?  Depending on the date, it may or may not be in effect, thus making the raw offset insufficient for comparison.","body":"What about daylight savings time?  Depending on the date, it may or may not be in effect, thus making the raw offset insufficient for comparison."},{"owner":{"account_id":141350,"reputation":16113,"user_id":348312,"display_name":"jim mcnamara"},"score":1,"creation_date":1362184043,"post_id":15169112,"comment_id":21364573,"body_markdown":"Is this meant to be definitive?  Definitive meaning all time zones. It is not, IMO.  Does raw_offset account for DST?  I do not know, but I think so.  Please verify. In some TZ settings, when DST comes and goes is not predictable.  Israeli DST for example.","body":"Is this meant to be definitive?  Definitive meaning all time zones. It is not, IMO.  Does raw_offset account for DST?  I do not know, but I think so.  Please verify. In some TZ settings, when DST comes and goes is not predictable.  Israeli DST for example."},{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":0,"creation_date":1362184385,"post_id":15169112,"comment_id":21364655,"body_markdown":"@jim The value returned by `getRawOffset` is not affected by DST according to the javadoc.","body":"@jim The value returned by <code>getRawOffset</code> is not affected by DST according to the javadoc."},{"owner":{"account_id":141350,"reputation":16113,"user_id":348312,"display_name":"jim mcnamara"},"score":0,"creation_date":1362184461,"post_id":15169112,"comment_id":21364679,"body_markdown":"Meaning your code is not doing what you want some times during the year.","body":"Meaning your code is not doing what you want some times during the year."},{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":0,"creation_date":1362184550,"post_id":15169112,"comment_id":21364704,"body_markdown":"@rgettman You both pose an excellent question. I think it watersheds into a greater question concerning the conceptual order of time zones. Given that my ordering does *not* observe DST, what could be the pitfalls of using it? Is it more correct to order based on time of year and why? Let me know if you think I should edit the question to clarify anything.","body":"@rgettman You both pose an excellent question. I think it watersheds into a greater question concerning the conceptual order of time zones. Given that my ordering does <i>not</i> observe DST, what could be the pitfalls of using it? Is it more correct to order based on time of year and why? Let me know if you think I should edit the question to clarify anything."},{"owner":{"account_id":141350,"reputation":16113,"user_id":348312,"display_name":"jim mcnamara"},"score":0,"creation_date":1362184964,"post_id":15169112,"comment_id":21364804,"body_markdown":"Your code will not work in Northern Arizona.  Period.  Look at a timezone map there.  I picked Arizona because it is someplace that is not a bizarre location to run an app.  There are other examples: http://www.timeanddate.com/worldclock/timezone.html?n=286&amp;syear=2000 if you go into the past DST will come and go at different times.","body":"Your code will not work in Northern Arizona.  Period.  Look at a timezone map there.  I picked Arizona because it is someplace that is not a bizarre location to run an app.  There are other examples: <a href=\"http://www.timeanddate.com/worldclock/timezone.html?n=286&amp;syear=2000\" rel=\"nofollow noreferrer\">timeanddate.com/worldclock/timezone.html?n=286&amp;syear=2000</a> if you go into the past DST will come and go at different times."},{"owner":{"account_id":1888343,"reputation":176617,"user_id":1707091,"display_name":"rgettman"},"score":0,"creation_date":1362184997,"post_id":15169112,"comment_id":21364814,"body_markdown":"A pitfall is that a comparison would yield different results depending on whether daylight savings time is in effect.  E.g. &quot;America/Los_Angeles&quot; is normally GMT-8, and &quot;America/Phoenix&quot; is normally GMT-7, clearly not equal.  But the former observes DST, becoming GMT-7, and the latter does not observe DST, making them equal.  Your comparator will need the &quot;date of comparison&quot;, perhaps as a constructor argument, to make decisions based on whether daylight savings time is in effect on that date.","body":"A pitfall is that a comparison would yield different results depending on whether daylight savings time is in effect.  E.g. &quot;America/Los_Angeles&quot; is normally GMT-8, and &quot;America/Phoenix&quot; is normally GMT-7, clearly not equal.  But the former observes DST, becoming GMT-7, and the latter does not observe DST, making them equal.  Your comparator will need the &quot;date of comparison&quot;, perhaps as a constructor argument, to make decisions based on whether daylight savings time is in effect on that date."},{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":1,"creation_date":1362185362,"post_id":15169112,"comment_id":21364921,"body_markdown":"You&#39;re both making excellent points but I&#39;m confused why you aren&#39;t submitting them as answers that will help other people ;)","body":"You&#39;re both making excellent points but I&#39;m confused why you aren&#39;t submitting them as answers that will help other people ;)"}],"tags":[],"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"comment_count":8,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1362183550,"creation_date":1362183550,"answer_id":15169112,"question_id":15169108,"body_markdown":"I rolled my own `Comparator&lt;TimeZone&gt;` implementation using [`getRawOffset`][1] for the comparison:\r\n\r\n    @Override\r\n    public int compare(TimeZone tz1, TimeZone tz2) {\r\n        return tz2.getRawOffset() - tz1.getRawOffset();\r\n    }\r\n\r\nIt seems to have passed a quick test:\r\n\r\n    final List&lt;TimeZone&gt; timeZones = Arrays.asList(\r\n            TimeZone.getTimeZone(&quot;UTC&quot;),\r\n            TimeZone.getTimeZone(&quot;America/Los_Angeles&quot;),\r\n            TimeZone.getTimeZone(&quot;America/New_York&quot;),\r\n            TimeZone.getTimeZone(&quot;Pacific/Honolulu&quot;),\r\n            TimeZone.getTimeZone(&quot;Asia/Singapore&quot;)\r\n    );\r\n\r\n    final List&lt;TimeZone&gt; expectedOrder = Arrays.asList(\r\n            TimeZone.getTimeZone(&quot;Asia/Singapore&quot;),\r\n            TimeZone.getTimeZone(&quot;UTC&quot;),\r\n            TimeZone.getTimeZone(&quot;America/New_York&quot;),\r\n            TimeZone.getTimeZone(&quot;America/Los_Angeles&quot;),\r\n            TimeZone.getTimeZone(&quot;Pacific/Honolulu&quot;)\r\n    );\r\n\r\n    Collections.sort(timeZones, new Comparator&lt;TimeZone&gt;() {\r\n        @Override\r\n        public int compare(TimeZone tz1, TimeZone tz2) {\r\n            return tz2.getRawOffset() - tz1.getRawOffset();\r\n        }\r\n    });\r\n\r\n    //Impl note: see AbstractList.equals\r\n    System.out.println(timeZones.equals(expectedOrder)); //true\r\n\r\nBut I&#39;m still wondering whether there are pitfalls to this solution and/or if there&#39;s something preferable.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/TimeZone.html#getRawOffset%28%29","title":"How to compare TimeZones","body":"<p>I rolled my own <code>Comparator&lt;TimeZone&gt;</code> implementation using <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/TimeZone.html#getRawOffset%28%29\" rel=\"nofollow\"><code>getRawOffset</code></a> for the comparison:</p>\n\n<pre><code>@Override\npublic int compare(TimeZone tz1, TimeZone tz2) {\n    return tz2.getRawOffset() - tz1.getRawOffset();\n}\n</code></pre>\n\n<p>It seems to have passed a quick test:</p>\n\n<pre><code>final List&lt;TimeZone&gt; timeZones = Arrays.asList(\n        TimeZone.getTimeZone(\"UTC\"),\n        TimeZone.getTimeZone(\"America/Los_Angeles\"),\n        TimeZone.getTimeZone(\"America/New_York\"),\n        TimeZone.getTimeZone(\"Pacific/Honolulu\"),\n        TimeZone.getTimeZone(\"Asia/Singapore\")\n);\n\nfinal List&lt;TimeZone&gt; expectedOrder = Arrays.asList(\n        TimeZone.getTimeZone(\"Asia/Singapore\"),\n        TimeZone.getTimeZone(\"UTC\"),\n        TimeZone.getTimeZone(\"America/New_York\"),\n        TimeZone.getTimeZone(\"America/Los_Angeles\"),\n        TimeZone.getTimeZone(\"Pacific/Honolulu\")\n);\n\nCollections.sort(timeZones, new Comparator&lt;TimeZone&gt;() {\n    @Override\n    public int compare(TimeZone tz1, TimeZone tz2) {\n        return tz2.getRawOffset() - tz1.getRawOffset();\n    }\n});\n\n//Impl note: see AbstractList.equals\nSystem.out.println(timeZones.equals(expectedOrder)); //true\n</code></pre>\n\n<p>But I'm still wondering whether there are pitfalls to this solution and/or if there's something preferable.</p>\n"},{"comments":[{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":0,"creation_date":1362185751,"post_id":15169378,"comment_id":21365009,"body_markdown":"So what would your `Comparator&lt;TimeZone&gt;` implementation be?","body":"So what would your <code>Comparator&lt;TimeZone&gt;</code> implementation be?"},{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":0,"creation_date":1362188726,"post_id":15169378,"comment_id":21365614,"body_markdown":"See my update for clarity to the question - lemme know how I can further improve it.","body":"See my update for clarity to the question - lemme know how I can further improve it."},{"owner":{"account_id":141350,"reputation":16113,"user_id":348312,"display_name":"jim mcnamara"},"score":0,"creation_date":1362189591,"post_id":15169378,"comment_id":21365780,"body_markdown":"Please state what you are trying to accomplish that requires ordering of timezones.  See my edit above.","body":"Please state what you are trying to accomplish that requires ordering of timezones.  See my edit above."},{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":0,"creation_date":1362291297,"post_id":15169378,"comment_id":21388837,"body_markdown":"My use case was simply to list them geographically. My naive comparison was enough to solve this. But, I got interested in what is described in the second bullet point of my question after posting it, and encouraged you and others to post solutions that would help other people. As it is, your answer isn&#39;t very constructive, but you seem to have a lot of expertise and I have high hopes for it.","body":"My use case was simply to list them geographically. My naive comparison was enough to solve this. But, I got interested in what is described in the second bullet point of my question after posting it, and encouraged you and others to post solutions that would help other people. As it is, your answer isn&#39;t very constructive, but you seem to have a lot of expertise and I have high hopes for it."}],"tags":[],"owner":{"account_id":141350,"reputation":16113,"user_id":348312,"display_name":"jim mcnamara"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1362189501,"creation_date":1362185476,"answer_id":15169378,"question_id":15169108,"body_markdown":"Timezones are purely political, so  any use of them that is non-conforming will cause LOTS of problems for users, depending on what the app does and who needs it or uses it.  You question would be better asked by explaining why you need them ordered like that.  There are adjacent timezones where one uses DST the other does not.  So 60% of the year, the TZ1 == TZ2, the other 40% TZ1 &lt; TZ2.  Or whatever the case may be.\r\n\r\nThere are geographic (lat long) timezone data sets, and web sites to query for timezone.  Even current DST settings.  So you may have to settle for a data set that you need to update frequently at least yearly.  Or web access. \r\n\r\nYou probably should not assign magnitude to them.  Only geographic ordering - by longitude.\r\n\r\nFirst of if you could tell us what you are trying to do it&#39;d be great. And the answer is not:  strict a&gt;b&gt;c order based on local time.  I coded calendrics for a while, so I actually used to know this stuff.\r\nWhat explictly do believe requires this kind of ordering?","title":"How to compare TimeZones","body":"<p>Timezones are purely political, so  any use of them that is non-conforming will cause LOTS of problems for users, depending on what the app does and who needs it or uses it.  You question would be better asked by explaining why you need them ordered like that.  There are adjacent timezones where one uses DST the other does not.  So 60% of the year, the TZ1 == TZ2, the other 40% TZ1 &lt; TZ2.  Or whatever the case may be.</p>\n\n<p>There are geographic (lat long) timezone data sets, and web sites to query for timezone.  Even current DST settings.  So you may have to settle for a data set that you need to update frequently at least yearly.  Or web access. </p>\n\n<p>You probably should not assign magnitude to them.  Only geographic ordering - by longitude.</p>\n\n<p>First of if you could tell us what you are trying to do it'd be great. And the answer is not:  strict a>b>c order based on local time.  I coded calendrics for a while, so I actually used to know this stuff.\nWhat explictly do believe requires this kind of ordering?</p>\n"},{"comments":[{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":0,"creation_date":1362188675,"post_id":15169483,"comment_id":21365608,"body_markdown":"+1 Nice approach! See my edit for clarity in the question in case you&#39;re interested (and sorry it took a while).","body":"+1 Nice approach! See my edit for clarity in the question in case you&#39;re interested (and sorry it took a while)."},{"owner":{"account_id":141350,"reputation":16113,"user_id":348312,"display_name":"jim mcnamara"},"score":0,"creation_date":1362190214,"post_id":15169483,"comment_id":21365894,"body_markdown":"The result will return equal when tz1 is DST and tz2 is not, (or the other way around).  But it will return equal for disparate timezones, under that circumstance.  Correct?  So, this is computationally correct but not &quot;politcally&quot; correct.  You do see why.  Is there a way to add a non-DST vs DST compensator?  Timezone is DST aware, I believe.  So, this is a way for a correction: TimeZone.getTimeZone( &quot;US/Eastern&quot;).inDaylightTime( new Date() );","body":"The result will return equal when tz1 is DST and tz2 is not, (or the other way around).  But it will return equal for disparate timezones, under that circumstance.  Correct?  So, this is computationally correct but not &quot;politcally&quot; correct.  You do see why.  Is there a way to add a non-DST vs DST compensator?  Timezone is DST aware, I believe.  So, this is a way for a correction: TimeZone.getTimeZone( &quot;US/Eastern&quot;).inDaylightTime( new Date() );"}],"tags":[],"owner":{"account_id":1888343,"reputation":176617,"user_id":1707091,"display_name":"rgettman"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1362186486,"creation_date":1362186486,"answer_id":15169483,"question_id":15169108,"body_markdown":"One might be able to create a `Comparator&lt;TimeZone&gt;` that takes into account time zone differences.  The `TimeZone` may or may not obvserve daylight savings time, which would adjust the raw offset, thus messing up raw-offset-only comparisons.  The `TimeZone` class seems to support the adjustment based on the 2 `getOffset` methods, but they need a reference date.  How about:\r\n\r\n    public class TimeZoneComparator implements Comparator&lt;TimeZone&gt;\r\n    {\r\n       private long date;\r\n\r\n       public TimeZoneComparator(long date)\r\n       {\r\n          this.date = date;\r\n       }\r\n\r\n       public int compare(TimeZone tz1, TimeZone tz2)\r\n       {\r\n          return tz2.getOffset(this.date) - tz2.getOffset(this.date);\r\n       }\r\n    }","title":"How to compare TimeZones","body":"<p>One might be able to create a <code>Comparator&lt;TimeZone&gt;</code> that takes into account time zone differences.  The <code>TimeZone</code> may or may not obvserve daylight savings time, which would adjust the raw offset, thus messing up raw-offset-only comparisons.  The <code>TimeZone</code> class seems to support the adjustment based on the 2 <code>getOffset</code> methods, but they need a reference date.  How about:</p>\n\n<pre><code>public class TimeZoneComparator implements Comparator&lt;TimeZone&gt;\n{\n   private long date;\n\n   public TimeZoneComparator(long date)\n   {\n      this.date = date;\n   }\n\n   public int compare(TimeZone tz1, TimeZone tz2)\n   {\n      return tz2.getOffset(this.date) - tz2.getOffset(this.date);\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4424725,"reputation":3024,"user_id":3603493,"display_name":"Ruwen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681367149,"creation_date":1681365788,"answer_id":76002125,"question_id":15169108,"body_markdown":"    java.util.TimeZone#hasSameRules\r\n\r\nis made for this and exists already. It compares two TimeZones about their offsets and whether they are using daylightTime.\r\n \r\n\r\n    public boolean hasSameRules(TimeZone other) {\r\n        return other != null &amp;&amp; getRawOffset() == other.getRawOffset() &amp;&amp;\r\n            useDaylightTime() == other.useDaylightTime();\r\n    }","title":"How to compare TimeZones","body":"<pre><code>java.util.TimeZone#hasSameRules\n</code></pre>\n<p>is made for this and exists already. It compares two TimeZones about their offsets and whether they are using daylightTime.</p>\n<pre><code>public boolean hasSameRules(TimeZone other) {\n    return other != null &amp;&amp; getRawOffset() == other.getRawOffset() &amp;&amp;\n        useDaylightTime() == other.useDaylightTime();\n}\n</code></pre>\n"}],"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7040,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":15169483,"answer_count":4,"score":6,"last_activity_date":1681367149,"creation_date":1362183550,"question_id":15169108,"body_markdown":"I need to compare time zones such that `Asia/Singapore` &lt; `UTC` &lt; `Pacific/Honolulu`.\n\nI&#39;m working with [`java.util.TimeZone`][1] (which doesn&#39;t implement [`Comparable`][2]).\n\nMy search for an existing implementation was unsuccessful because of the overwhelming number of questions about comparing dates with different time zones.\n\n**Question:** What is a correct implementation of `Comparator&lt;TimeZone&gt;` that will solve this problem (and what makes it better than other solutions, if applicable)?\n\nNote that I&#39;m not able to use [Joda Time][3] for this problem, so &quot;use Joda Time&quot; is not a valid answer.\n\n### Edit for clarity ###\n\nThe `&lt;` notation above was not well defined. My particular use case only requires a naive &quot;geographical&quot; ordering from east to west. As the comments have pointed out, a more advanced and generalizable solution would take into account temporal factors like daylight savings time and historical GMT offset changes. So I think there are two orderings we can consider, each requiring a different `Comparator&lt;TimeZone&gt;` implementation:\n\n - Strictly geographical (current UTC) - addressed by [my answer][4].\n - Sensitive to local or civil time changes - addressed by [rgettman&#39;s answer][5].\n\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/TimeZone.html\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/lang/Comparable.html\n  [3]: http://joda-time.sourceforge.net/\n  [4]: https://stackoverflow.com/a/15169112/697449\n  [5]: https://stackoverflow.com/a/15169483/697449","title":"How to compare TimeZones","body":"<p>I need to compare time zones such that <code>Asia/Singapore</code> &lt; <code>UTC</code> &lt; <code>Pacific/Honolulu</code>.</p>\n<p>I'm working with <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/TimeZone.html\" rel=\"nofollow noreferrer\"><code>java.util.TimeZone</code></a> (which doesn't implement <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Comparable.html\" rel=\"nofollow noreferrer\"><code>Comparable</code></a>).</p>\n<p>My search for an existing implementation was unsuccessful because of the overwhelming number of questions about comparing dates with different time zones.</p>\n<p><strong>Question:</strong> What is a correct implementation of <code>Comparator&lt;TimeZone&gt;</code> that will solve this problem (and what makes it better than other solutions, if applicable)?</p>\n<p>Note that I'm not able to use <a href=\"http://joda-time.sourceforge.net/\" rel=\"nofollow noreferrer\">Joda Time</a> for this problem, so &quot;use Joda Time&quot; is not a valid answer.</p>\n<h3>Edit for clarity</h3>\n<p>The <code>&lt;</code> notation above was not well defined. My particular use case only requires a naive &quot;geographical&quot; ordering from east to west. As the comments have pointed out, a more advanced and generalizable solution would take into account temporal factors like daylight savings time and historical GMT offset changes. So I think there are two orderings we can consider, each requiring a different <code>Comparator&lt;TimeZone&gt;</code> implementation:</p>\n<ul>\n<li>Strictly geographical (current UTC) - addressed by <a href=\"https://stackoverflow.com/a/15169112/697449\">my answer</a>.</li>\n<li>Sensitive to local or civil time changes - addressed by <a href=\"https://stackoverflow.com/a/15169483/697449\">rgettman's answer</a>.</li>\n</ul>\n"},{"tags":["javascript","java","android","web","android-deep-link"],"owner":{"account_id":17534236,"reputation":113,"user_id":12717690,"display_name":"Shivam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681367063,"creation_date":1681366699,"question_id":76002218,"body_markdown":"When the url is searched in google search  bar it should be opened in app but when the link is typed in chrome address bar it should work in browser only, how can i achieve this? Behaviour of the app like Amazon app. I can apply normal deeplinking where link is opened from anywhere in the device.","title":"How to apply dynamic Deeplinking even if the app is installed in both cases","body":"<p>When the url is searched in google search  bar it should be opened in app but when the link is typed in chrome address bar it should work in browser only, how can i achieve this? Behaviour of the app like Amazon app. I can apply normal deeplinking where link is opened from anywhere in the device.</p>\n"},{"tags":["java","security","keystore","private-key"],"answers":[{"comments":[{"owner":{"account_id":6128722,"reputation":747,"user_id":4779728,"accept_rate":96,"display_name":"develop1"},"score":0,"creation_date":1501518945,"post_id":45421059,"comment_id":77803168,"body_markdown":"The key is still not being saved in the file.","body":"The key is still not being saved in the file."}],"tags":[],"owner":{"account_id":5504458,"reputation":791,"user_id":4374481,"display_name":"Palamino"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1501518708,"creation_date":1501518708,"answer_id":45421059,"question_id":45420848,"body_markdown":"You are appending to the existing keystore instead of replacing it because you are passing &quot;true&quot; to the FileOutputStream constructor.\r\n\r\n    FileOutputStream out = new FileOutputStream(new File(Constants.JKS_PRIVATE_FILE_NAME), true);\r\n\r\nReplace the line above with the following:\r\n\r\n    FileOutputStream out = new FileOutputStream(new File(Constants.JKS_PRIVATE_FILE_NAME));","title":"KeyStore not saving to file","body":"<p>You are appending to the existing keystore instead of replacing it because you are passing \"true\" to the FileOutputStream constructor.</p>\n\n<pre><code>FileOutputStream out = new FileOutputStream(new File(Constants.JKS_PRIVATE_FILE_NAME), true);\n</code></pre>\n\n<p>Replace the line above with the following:</p>\n\n<pre><code>FileOutputStream out = new FileOutputStream(new File(Constants.JKS_PRIVATE_FILE_NAME));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":1,"creation_date":1501520633,"post_id":45421513,"comment_id":77804081,"body_markdown":"what getFile2 method? there is no such method in your question. This question doesn&#39;t seem to fit in stackoverflow as it really doesn&#39;t provide enough information.","body":"what getFile2 method? there is no such method in your question. This question doesn&#39;t seem to fit in stackoverflow as it really doesn&#39;t provide enough information."},{"owner":{"account_id":6128722,"reputation":747,"user_id":4779728,"accept_rate":96,"display_name":"develop1"},"score":0,"creation_date":1501522715,"post_id":45421513,"comment_id":77805359,"body_markdown":"It is in `getOrSetPrivateKey` method in `FileInputStream` constructor","body":"It is in <code>getOrSetPrivateKey</code> method in <code>FileInputStream</code> constructor"},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":1,"creation_date":1501530666,"post_id":45421513,"comment_id":77809694,"body_markdown":"but where it is defined?","body":"but where it is defined?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1501720079,"post_id":45421513,"comment_id":77906841,"body_markdown":"Methods are not in constructors. Answer is incomplete.","body":"Methods are not in constructors. Answer is incomplete."},{"owner":{"account_id":6128722,"reputation":747,"user_id":4779728,"accept_rate":96,"display_name":"develop1"},"score":0,"creation_date":1501776109,"post_id":45421513,"comment_id":77939671,"body_markdown":"What are you talking about? the getFile2 method is just to return a File, there is no need to show how to do that, it is not relevant to the question. Answer is complete, all the changes noted are what solved the question. So take away the down vote.","body":"What are you talking about? the getFile2 method is just to return a File, there is no need to show how to do that, it is not relevant to the question. Answer is complete, all the changes noted are what solved the question. So take away the down vote."}],"tags":[],"owner":{"account_id":6128722,"reputation":747,"user_id":4779728,"accept_rate":96,"display_name":"develop1"},"comment_count":5,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1501720053,"creation_date":1501520309,"answer_id":45421513,"question_id":45420848,"body_markdown":"The problem was in the `FileOutputStream` was pointing to the wrong file. \r\n\r\n    FileOutputStream out = new FileOutputStream(new File(Constants.JKS_PRIVATE_FILE_NAME), true);\r\n\r\nShould be using the `getFile2` method like this:\r\n\r\n    FileOutputStream out = new FileOutputStream(getFile2(Constants.JKS_PRIVATE_FILE_NAME));\r\n\r\nAs Palamino pointed out, don&#39;t need to include `true` in the `FileOutputStream` constructor.\r\n\r\nAlso the key store should have been using the JKS file password, not the password that is generated by `getKeyPassword()`.\r\n\r\nChanged this: \r\n\r\n    keyStore.store(out, pass);\r\n\r\nTo use the JKS file password, like this:\r\n\r\n    keyStore.store(out, Constants.JKS_PRIVATE_FILE_PASSWORD);\r\n\r\n\r\n","title":"KeyStore not saving to file","body":"<p>The problem was in the <code>FileOutputStream</code> was pointing to the wrong file. </p>\n\n<pre><code>FileOutputStream out = new FileOutputStream(new File(Constants.JKS_PRIVATE_FILE_NAME), true);\n</code></pre>\n\n<p>Should be using the <code>getFile2</code> method like this:</p>\n\n<pre><code>FileOutputStream out = new FileOutputStream(getFile2(Constants.JKS_PRIVATE_FILE_NAME));\n</code></pre>\n\n<p>As Palamino pointed out, don't need to include <code>true</code> in the <code>FileOutputStream</code> constructor.</p>\n\n<p>Also the key store should have been using the JKS file password, not the password that is generated by <code>getKeyPassword()</code>.</p>\n\n<p>Changed this: </p>\n\n<pre><code>keyStore.store(out, pass);\n</code></pre>\n\n<p>To use the JKS file password, like this:</p>\n\n<pre><code>keyStore.store(out, Constants.JKS_PRIVATE_FILE_PASSWORD);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16813238,"reputation":525,"user_id":12155745,"display_name":"Jwala Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681366984,"creation_date":1681366984,"answer_id":76002254,"question_id":45420848,"body_markdown":"If you are using Keystore on VM, then you can Run the Keystore as Administrator. Redo all the steps as per your requirement.\r\nAnd then again try saving the file.\r\n\r\nIn my case, the issue was that I was not running the Keystore as Administrator.","title":"KeyStore not saving to file","body":"<p>If you are using Keystore on VM, then you can Run the Keystore as Administrator. Redo all the steps as per your requirement.\nAnd then again try saving the file.</p>\n<p>In my case, the issue was that I was not running the Keystore as Administrator.</p>\n"}],"owner":{"account_id":6128722,"reputation":747,"user_id":4779728,"accept_rate":96,"display_name":"develop1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6722,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":45421513,"answer_count":3,"score":0,"last_activity_date":1681366984,"creation_date":1501517985,"question_id":45420848,"body_markdown":"I am trying to store multiple private keys in a JKS file using the Java KeyStore library. I created a method which writes and reads to the JKS file but the private key isn&#39;t being saved in the file. \r\n\r\nWhen I store something into the KeyStore I can get all the aliases in the keystore and the new key is there. Once the method is closed and the same key is attempted to be pulled it does not find the key.\r\n\r\nMain.java\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        //Create keys\r\n        main m = new main();\r\n\t\tm.getOrSetPrivateKey(&quot;123&quot;, &quot;123&quot;, privateKey, false);\r\n\r\n\t\tPrivateKey p = m.getOrSetPrivateKey(&quot;123&quot;, &quot;123&quot;, null, true);\r\n\r\n\t\tif (p.equals(c.getPriv_key()))\r\n\t\t\tSystem.err.println(&quot;Equal&quot;);\r\n\t\telse\r\n\t\t\tSystem.err.println(&quot;Not equal !!!!!!!!&quot;);\r\n\r\n    }\r\n\r\n\r\n    private synchronized PrivateKey getOrSetPrivateKey(String alias, String id, PrivateKey c, boolean read ) throws InterruptedException, IOException, KeyStoreException, NoSuchAlgorithmException, CertificateException, InvalidKeySpecException, NotSupportedException, UnrecoverableKeyException {\r\n\t\tPrivateKey key = null; \r\n\r\n\t\tInputStream inpusStream = new FileInputStream(getFile2(Constants.JKS_PRIVATE_FILE_NAME));\r\n\t\tKeyStore keyStore = null;\r\n\t\ttry {\r\n\t\t\tkeyStore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n\t\t\tkeyStore.load(inpusStream, Constants.JKS_PRIVATE_FILE_PASSWORD);\r\n\t\t} finally {\r\n\t\t\tif (inpusStream != null)\r\n\t\t\t\tinpusStream.close();\r\n\t\t}\r\n\t\tEnumeration&lt;String&gt; s = keyStore.aliases();\r\n\r\n\t\twhile (s.hasMoreElements())\r\n\t\t\tSystem.err.println(&quot;[ &quot; + s.nextElement() + &quot; ]&quot;);\r\n\r\n\t\t//Generate password for this private key\r\n\t\tchar [] pass = getKeyPassword(c, alias, id);\r\n\r\n\r\n\t\tif (read == true) { //If reading/getting private key from file store\r\n\t\t\tboolean isKeyEntry = keyStore.isKeyEntry(alias);//Check if there is a key with the alias deviceSerialnumber\r\n\t\t\tif (!isKeyEntry) {//No key with this alias exists\r\n\t\t\t\tthrow new KeyStoreException(&quot;No key with alias &quot; + alias + &quot; exists!&quot;);\r\n\t\t\t}\r\n\r\n\t\t\tkey = (PrivateKey) keyStore.getKey(alias, pass);\r\n\r\n\t\t} else { //Writing/ saving key to the file store\r\n\t\t\tkeyStore.setKeyEntry(alias, c , pass, new Certificate[] { createCertificate() });\r\n\t\t\tFileOutputStream out = new FileOutputStream(new File(Constants.JKS_PRIVATE_FILE_NAME), true);\r\n\t\t\ttry { \r\n\t\t\t\tkeyStore.store(out, pass);\r\n\r\n\t\t\t\tSystem.out.println(&quot;Alias exists = &quot; + keyStore.containsAlias(alias));\r\n\t\t\t} finally { \r\n\t\t\t\tif (out != null)\r\n\t\t\t\t\tout.close();\r\n\t\t\t} \r\n\t\t}\r\n\r\n\t\ts = keyStore.aliases();\r\n\r\n\t\twhile (s.hasMoreElements())\r\n\t\t\tSystem.err.println(&quot;( &quot; + s.nextElement() + &quot; )&quot;);\r\n\r\n\t\treturn key;\r\n\t}\r\n\r\n\r\nOutput:\r\n\r\n    [ mykey ]\r\n    ( 123 )\r\n    ( mykey )\r\n    Alias exists = true\r\n    [ mykey ]\r\n    Exception in thread &quot;main&quot; java.security.KeyStoreException: No key with alias 123 exists!\r\n\r\nWhy is the key not being saved to the JKS file file?\r\n\r\n\r\n","title":"KeyStore not saving to file","body":"<p>I am trying to store multiple private keys in a JKS file using the Java KeyStore library. I created a method which writes and reads to the JKS file but the private key isn't being saved in the file. </p>\n\n<p>When I store something into the KeyStore I can get all the aliases in the keystore and the new key is there. Once the method is closed and the same key is attempted to be pulled it does not find the key.</p>\n\n<p>Main.java</p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n    //Create keys\n    main m = new main();\n    m.getOrSetPrivateKey(\"123\", \"123\", privateKey, false);\n\n    PrivateKey p = m.getOrSetPrivateKey(\"123\", \"123\", null, true);\n\n    if (p.equals(c.getPriv_key()))\n        System.err.println(\"Equal\");\n    else\n        System.err.println(\"Not equal !!!!!!!!\");\n\n}\n\n\nprivate synchronized PrivateKey getOrSetPrivateKey(String alias, String id, PrivateKey c, boolean read ) throws InterruptedException, IOException, KeyStoreException, NoSuchAlgorithmException, CertificateException, InvalidKeySpecException, NotSupportedException, UnrecoverableKeyException {\n    PrivateKey key = null; \n\n    InputStream inpusStream = new FileInputStream(getFile2(Constants.JKS_PRIVATE_FILE_NAME));\n    KeyStore keyStore = null;\n    try {\n        keyStore = KeyStore.getInstance(KeyStore.getDefaultType());\n        keyStore.load(inpusStream, Constants.JKS_PRIVATE_FILE_PASSWORD);\n    } finally {\n        if (inpusStream != null)\n            inpusStream.close();\n    }\n    Enumeration&lt;String&gt; s = keyStore.aliases();\n\n    while (s.hasMoreElements())\n        System.err.println(\"[ \" + s.nextElement() + \" ]\");\n\n    //Generate password for this private key\n    char [] pass = getKeyPassword(c, alias, id);\n\n\n    if (read == true) { //If reading/getting private key from file store\n        boolean isKeyEntry = keyStore.isKeyEntry(alias);//Check if there is a key with the alias deviceSerialnumber\n        if (!isKeyEntry) {//No key with this alias exists\n            throw new KeyStoreException(\"No key with alias \" + alias + \" exists!\");\n        }\n\n        key = (PrivateKey) keyStore.getKey(alias, pass);\n\n    } else { //Writing/ saving key to the file store\n        keyStore.setKeyEntry(alias, c , pass, new Certificate[] { createCertificate() });\n        FileOutputStream out = new FileOutputStream(new File(Constants.JKS_PRIVATE_FILE_NAME), true);\n        try { \n            keyStore.store(out, pass);\n\n            System.out.println(\"Alias exists = \" + keyStore.containsAlias(alias));\n        } finally { \n            if (out != null)\n                out.close();\n        } \n    }\n\n    s = keyStore.aliases();\n\n    while (s.hasMoreElements())\n        System.err.println(\"( \" + s.nextElement() + \" )\");\n\n    return key;\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[ mykey ]\n( 123 )\n( mykey )\nAlias exists = true\n[ mykey ]\nException in thread \"main\" java.security.KeyStoreException: No key with alias 123 exists!\n</code></pre>\n\n<p>Why is the key not being saved to the JKS file file?</p>\n"},{"tags":["java","jsp","jstl","jsp-tags","tomcat10"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1628450068,"post_id":68694873,"comment_id":121417646,"body_markdown":"You lack a dependency: `jakarta.servlet.jsp.jstl-api`. To use JSTL in Tomcat 10 you actually need two (and only two) artifacts (cf. [this answer](https://stackoverflow.com/a/4928309/11748454)).","body":"You lack a dependency: <code>jakarta.servlet.jsp.jstl-api</code>. To use JSTL in Tomcat 10 you actually need two (and only two) artifacts (cf. <a href=\"https://stackoverflow.com/a/4928309/11748454\">this answer</a>)."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1628452615,"post_id":68694873,"comment_id":121418251,"body_markdown":"Reading your update, might I remark that the aforementioned [answer by BalusC](https://stackoverflow.com/a/4928309/11748454) doesn&#39;t deal only with the XML namespace. It gives you the exact dependencies you must use in various Tomcat versions and their download links. It&#39;s a long answer, but worth reading.","body":"Reading your update, might I remark that the aforementioned <a href=\"https://stackoverflow.com/a/4928309/11748454\">answer by BalusC</a> doesn&#39;t deal only with the XML namespace. It gives you the exact dependencies you must use in various Tomcat versions and their download links. It&#39;s a long answer, but worth reading."},{"owner":{"account_id":1813722,"reputation":719,"user_id":1649282,"accept_rate":61,"display_name":"Jevison7x"},"score":0,"creation_date":1628453788,"post_id":68694873,"comment_id":121418512,"body_markdown":"Sorry, my bad, it appears I stopped at the part where he talked about the URI problem. However I have solved it in my own way. I will go back and test his solution for Tomcat 10 later.","body":"Sorry, my bad, it appears I stopped at the part where he talked about the URI problem. However I have solved it in my own way. I will go back and test his solution for Tomcat 10 later."},{"owner":{"account_id":188246,"reputation":10916,"user_id":426877,"accept_rate":77,"display_name":"Magnus"},"score":0,"creation_date":1691185851,"post_id":68694873,"comment_id":135463112,"body_markdown":"also check out this answer which worked for me https://stackoverflow.com/questions/75123103/java-lang-noclassdeffounderror-jakarta-servlet-jsp-jstl-core-config-in-tomcat","body":"also check out this answer which worked for me <a href=\"https://stackoverflow.com/questions/75123103/java-lang-noclassdeffounderror-jakarta-servlet-jsp-jstl-core-config-in-tomcat\" title=\"java lang noclassdeffounderror jakarta servlet jsp jstl core config in tomcat\">stackoverflow.com/questions/75123103/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":1813722,"reputation":719,"user_id":1649282,"accept_rate":61,"display_name":"Jevison7x"},"score":0,"creation_date":1628362126,"post_id":68695079,"comment_id":121402142,"body_markdown":"This is what I had before. This doesn&#39;t work for Tomcat 10, it throws an error. From the image you are showing me, you are using Tomcat 8.","body":"This is what I had before. This doesn&#39;t work for Tomcat 10, it throws an error. From the image you are showing me, you are using Tomcat 8."},{"owner":{"account_id":13028926,"reputation":18,"user_id":9415949,"display_name":"chu3la"},"score":0,"creation_date":1628362670,"post_id":68695079,"comment_id":121402261,"body_markdown":"it does not depend on the tomcat version, moreover, Tomcat has never included JSTL add both jars in WEB-INF/lib, I&#39;ve checked the image that you&#39;ve put above, I did not realize where is jstl-api jar file, please check the permission to read them","body":"it does not depend on the tomcat version, moreover, Tomcat has never included JSTL add both jars in WEB-INF/lib, I&#39;ve checked the image that you&#39;ve put above, I did not realize where is jstl-api jar file, please check the permission to read them"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1628450335,"post_id":68695079,"comment_id":121417702,"body_markdown":"@chu3la: JSTL 1.2 does not work with JSP 3.0 (in Tomcat 10), due to the `javax.*` -&gt; `jakarta.*` namespace migration. Therefore the version of JSTL that you need to install **does** depend on the version of Tomcat.","body":"@chu3la: JSTL 1.2 does not work with JSP 3.0 (in Tomcat 10), due to the <code>javax.*</code> -&gt; <code>jakarta.*</code> namespace migration. Therefore the version of JSTL that you need to install <b>does</b> depend on the version of Tomcat."},{"owner":{"account_id":13028926,"reputation":18,"user_id":9415949,"display_name":"chu3la"},"score":0,"creation_date":1628520205,"post_id":68695079,"comment_id":121436401,"body_markdown":"I&#39;ve used the instruction that I&#39;ve given you above and works perfectly, in addition, I checked my JSP version I found  4.0 when I&#39;ve consulted Project Facets","body":"I&#39;ve used the instruction that I&#39;ve given you above and works perfectly, in addition, I checked my JSP version I found  4.0 when I&#39;ve consulted Project Facets"}],"tags":[],"owner":{"account_id":13028926,"reputation":18,"user_id":9415949,"display_name":"chu3la"},"comment_count":4,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1628463388,"creation_date":1628360612,"answer_id":68695079,"question_id":68694873,"body_markdown":"You could add JSTL1.2 Library to your application as shown below, jstl-impl.jar and jstl-api.jar added to the application\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/75Jfi.png\r\n\r\nthe taglib directive that specifies the JSTL core library:\r\n\r\n    &lt;%taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\r\n\r\nthe link to download the files \r\n\r\n   &lt;http://www.java2s.com/Code/Jar/j/Downloadjstlapi12jar.htm&gt;\r\n   &lt;http://www.java2s.com/Code/Jar/j/Downloadjstlimpl12jar.htm&gt;\r\n\r\ndon&#39;t forget to add both jar files to META-INF/lib, it will work fine without all those files that you&#39;ve put in your application","title":"java.lang.NoClassDefFoundError: jakarta/servlet/jsp/jstl/core/LoopTag in Tomcat 10","body":"<p>You could add JSTL1.2 Library to your application as shown below, jstl-impl.jar and jstl-api.jar added to the application</p>\n<p><a href=\"https://i.stack.imgur.com/75Jfi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/75Jfi.png\" alt=\"enter image description here\" /></a></p>\n<p>the taglib directive that specifies the JSTL core library:</p>\n<pre><code>&lt;%taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\n</code></pre>\n<p>the link to download the files</p>\n<p><a href=\"http://www.java2s.com/Code/Jar/j/Downloadjstlapi12jar.htm\" rel=\"nofollow noreferrer\">http://www.java2s.com/Code/Jar/j/Downloadjstlapi12jar.htm</a>\n<a href=\"http://www.java2s.com/Code/Jar/j/Downloadjstlimpl12jar.htm\" rel=\"nofollow noreferrer\">http://www.java2s.com/Code/Jar/j/Downloadjstlimpl12jar.htm</a></p>\n<p>don't forget to add both jar files to META-INF/lib, it will work fine without all those files that you've put in your application</p>\n"},{"comments":[{"owner":{"account_id":552685,"reputation":1834,"user_id":917885,"accept_rate":57,"display_name":"Ashish Augustine"},"score":1,"creation_date":1653210007,"post_id":68704353,"comment_id":127791516,"body_markdown":"this worked for me for my TOmcat10!","body":"this worked for me for my TOmcat10!"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1681385413,"post_id":68704353,"comment_id":134049443,"body_markdown":"Importantingly, also don&#39;t include JSTL 1.x JARs. That was the cause of your original problem.","body":"Importantingly, also don&#39;t include JSTL 1.x JARs. That was the cause of your original problem."}],"tags":[],"owner":{"account_id":1813722,"reputation":719,"user_id":1649282,"accept_rate":61,"display_name":"Jevison7x"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1628453176,"creation_date":1628453176,"answer_id":68704353,"question_id":68694873,"body_markdown":"I found a solution at last!\r\n\r\nI was able to download the required jar files [here][1]\r\n\r\nFor those who may be having the same problems:\r\nPlease Note: When adding the jar files, don&#39;t include the jakarta.servlet-api-5.0.0.jar file.\r\nTomcat 10 already has a similar jar file with the same classes and this caused another headache.\r\nI created a new Library and named it JSTL 2.0\r\n\r\nBelow is a screenshot of the jar files I added to the classpath.\r\n\r\nThis works fine for me!\r\n\r\n[![JSTL Solution][2]][2]\r\n\r\n\r\n  [1]: https://jar-download.com/artifacts/jakarta.servlet.jsp.jstl/jakarta.servlet.jsp.jstl-api/2.0.0\r\n  [2]: https://i.stack.imgur.com/vSS61.png","title":"java.lang.NoClassDefFoundError: jakarta/servlet/jsp/jstl/core/LoopTag in Tomcat 10","body":"<p>I found a solution at last!</p>\n<p>I was able to download the required jar files <a href=\"https://jar-download.com/artifacts/jakarta.servlet.jsp.jstl/jakarta.servlet.jsp.jstl-api/2.0.0\" rel=\"noreferrer\">here</a></p>\n<p>For those who may be having the same problems:\nPlease Note: When adding the jar files, don't include the jakarta.servlet-api-5.0.0.jar file.\nTomcat 10 already has a similar jar file with the same classes and this caused another headache.\nI created a new Library and named it JSTL 2.0</p>\n<p>Below is a screenshot of the jar files I added to the classpath.</p>\n<p>This works fine for me!</p>\n<p><a href=\"https://i.stack.imgur.com/vSS61.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/vSS61.png\" alt=\"JSTL Solution\" /></a></p>\n"},{"tags":[],"owner":{"account_id":7345696,"reputation":61,"user_id":5593456,"display_name":"t&#226;m nguyễn c&#244;ng"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1681366924,"creation_date":1681366924,"answer_id":76002247,"question_id":68694873,"body_markdown":"I managed to find a solution which is to add both these maven dependencies (The Tomcat version I use is 10.1.7):\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.servlet.jsp.jstl&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;jakarta.servlet.jsp.jstl&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.servlet.jsp.jstl-api&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nPreviously, I only tried adding only one of them, only to find out that I had to add both.","title":"java.lang.NoClassDefFoundError: jakarta/servlet/jsp/jstl/core/LoopTag in Tomcat 10","body":"<p>I managed to find a solution which is to add both these maven dependencies (The Tomcat version I use is 10.1.7):</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.servlet.jsp.jstl&lt;/artifactId&gt;\n    &lt;version&gt;3.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.servlet.jsp.jstl&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.servlet.jsp.jstl-api&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Previously, I only tried adding only one of them, only to find out that I had to add both.</p>\n"}],"owner":{"account_id":1813722,"reputation":719,"user_id":1649282,"accept_rate":61,"display_name":"Jevison7x"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9763,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"closed_date":1681385368,"accepted_answer_id":68704353,"answer_count":3,"score":6,"last_activity_date":1681366924,"creation_date":1628359000,"question_id":68694873,"body_markdown":"I just migrated to Tomcat 10. After changing all references of javax.servlet packages to jakarta.servlet I still can&#39;t get my app to run.\r\n\r\nI have downloaded the JSTL 2.0 class libraries from [Here][1] and I added them to the classpath.\r\nI am using NetBeans with Ant.\r\nHere are my class libraries:\r\n\r\n[![Class Libraries][2]][2]\r\n\r\nAnd here is the JSTL jar files I added:\r\n\r\n[![JSTL Jar files][3]][3]\r\n\r\nIt throws the following Exception:\r\n\r\n    Type Exception Report\r\n\r\n    Message java.lang.NoClassDefFoundError: jakarta/servlet/jsp/jstl/core/LoopTag\r\n\r\n    Description The server encountered an unexpected condition that prevented it from fulfilling the request.\r\n\r\n    Exception\r\n\r\n    jakarta.servlet.ServletException: java.lang.NoClassDefFoundError: jakarta/servlet/jsp/jstl/core/LoopTag\r\n\t    org.apache.jasper.servlet.JspServlet.service(JspServlet.java:332)\r\n\t    jakarta.servlet.http.HttpServlet.service(HttpServlet.java:770)\r\n\t    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\t    com.xyneex.post.PostFilter.doFilter(PostFilter.java:163)\r\n\r\n    Root Cause\r\n\r\n    java.lang.NoClassDefFoundError: jakarta/servlet/jsp/jstl/core/LoopTag\r\n\tjava.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\tjava.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1010)\r\n\tjava.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\r\n\torg.apache.catalina.loader.WebappClassLoaderBase.findClassInternal(WebappClassLoaderBase.java:2470)\r\n\torg.apache.catalina.loader.WebappClassLoaderBase.findClass(WebappClassLoaderBase.java:866)\r\n\torg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1370)\r\n\torg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1224)\r\n\torg.apache.jasper.compiler.Parser.parseCustomTag(Parser.java:1232)\r\n\torg.apache.jasper.compiler.Parser.parseElements(Parser.java:1464)\r\n\torg.apache.jasper.compiler.Parser.parse(Parser.java:138)\r\n\torg.apache.jasper.compiler.ParserController.doParse(ParserController.java:244)\r\n\torg.apache.jasper.compiler.ParserController.parse(ParserController.java:105)\r\n\torg.apache.jasper.compiler.Compiler.generateJava(Compiler.java:207)\r\n\torg.apache.jasper.compiler.Compiler.compile(Compiler.java:392)\r\n\torg.apache.jasper.compiler.Compiler.compile(Compiler.java:368)\r\n\torg.apache.jasper.compiler.Compiler.compile(Compiler.java:352)\r\n\torg.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:603)\r\n\torg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:400)\r\n\torg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:379)\r\n\torg.apache.jasper.servlet.JspServlet.service(JspServlet.java:327)\r\n\tjakarta.servlet.http.HttpServlet.service(HttpServlet.java:770)\r\n\torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tcom.xyneex.post.PostFilter.doFilter(PostFilter.java:163)\r\n\r\n    Root Cause\r\n\r\n    java.lang.ClassNotFoundException: jakarta.servlet.jsp.jstl.core.LoopTag\r\n\torg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1401)\r\n\torg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1224)\r\n\tjava.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\tjava.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1010)\r\n\tjava.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\r\n\torg.apache.catalina.loader.WebappClassLoaderBase.findClassInternal(WebappClassLoaderBase.java:2470)\r\n\torg.apache.catalina.loader.WebappClassLoaderBase.findClass(WebappClassLoaderBase.java:866)\r\n\torg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1370)\r\n\torg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1224)\r\n\torg.apache.jasper.compiler.Parser.parseCustomTag(Parser.java:1232)\r\n\torg.apache.jasper.compiler.Parser.parseElements(Parser.java:1464)\r\n\torg.apache.jasper.compiler.Parser.parse(Parser.java:138)\r\n\torg.apache.jasper.compiler.ParserController.doParse(ParserController.java:244)\r\n\torg.apache.jasper.compiler.ParserController.parse(ParserController.java:105)\r\n\torg.apache.jasper.compiler.Compiler.generateJava(Compiler.java:207)\r\n\torg.apache.jasper.compiler.Compiler.compile(Compiler.java:392)\r\n\torg.apache.jasper.compiler.Compiler.compile(Compiler.java:368)\r\n\torg.apache.jasper.compiler.Compiler.compile(Compiler.java:352)\r\n\torg.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:603)\r\n\torg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:400)\r\n\torg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:379)\r\n\torg.apache.jasper.servlet.JspServlet.service(JspServlet.java:327)\r\n\tjakarta.servlet.http.HttpServlet.service(HttpServlet.java:770)\r\n\torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tcom.xyneex.post.PostFilter.doFilter(PostFilter.java:163)\r\n\r\n    Note The full stack trace of the root cause is available in the server logs.\r\n\r\nMy JSP/HTML code:\r\n\r\n    &lt;%@page contentType=&quot;text/html&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\r\n    &lt;%@taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;\r\n    &lt;c:set var=&quot;home&quot; value=&quot;active&quot; scope=&quot;request&quot; /&gt;\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n        &lt;head&gt;\r\n            &lt;title&gt;Xyneex Technologies | Home &lt;/title&gt;\r\n            &lt;jsp:include page=&quot;WEB-INF/fragments/head.jsp&quot; /&gt;\r\n            &lt;style&gt;\r\n         ...\r\n\r\nI have seen similar questions here in StackOverflow but they are talking about Tomcat 7.\r\n\r\nI am using Tomcat 10 with JDK 16.\r\n\r\nPlease what is the solution to this problem?\r\n\r\n**EDIT:**\r\n\r\nBased on suggestion, [This Question and Answer][4] is not the same problem as mine. As the answer addresses JSTL URI and I have checked and confirmed that I am using the correct URI. I strongly believe the problem has to do with incorrect JSTL jar files in my JSTL library which I cannot determine which ones to use.\r\n\r\n**EDIT 2:**\r\n\r\nAfter digging around for hours I was able to find a solution which I have provided in my answer.\r\nThanks for your suggestions.\r\n\r\n**EDIT 3:**\r\n\r\n[This Answer][5] by BalusC seems to address the problem with Tomcat 10. Please make sure when reading the answer, you scroll down to the Tomcat 10 part. I must have missed it the first time because I thought he only talked about the URI.\r\n\r\nThanks to [Piotr P. Karwasz][6] for pointing it out for me.\r\n\r\n\r\n\r\n\r\n  [1]: https://repo1.maven.org/maven2/org/glassfish/web/jakarta.servlet.jsp.jstl/\r\n  [2]: https://i.stack.imgur.com/JE3G0.png\r\n  [3]: https://i.stack.imgur.com/aPI4u.png\r\n  [4]: https://stackoverflow.com/questions/4928271/how-to-install-jstl-the-absolute-uri-http-java-sun-com-jstl-core-cannot-be-r\r\n  [5]: https://stackoverflow.com/questions/4928271/how-to-install-jstl-the-absolute-uri-http-java-sun-com-jstl-core-cannot-be-r/4928309#4928309\r\n  [6]: https://stackoverflow.com/users/11748454/piotr-p-karwasz","title":"java.lang.NoClassDefFoundError: jakarta/servlet/jsp/jstl/core/LoopTag in Tomcat 10","body":"<p>I just migrated to Tomcat 10. After changing all references of javax.servlet packages to jakarta.servlet I still can't get my app to run.</p>\n<p>I have downloaded the JSTL 2.0 class libraries from <a href=\"https://repo1.maven.org/maven2/org/glassfish/web/jakarta.servlet.jsp.jstl/\" rel=\"noreferrer\">Here</a> and I added them to the classpath.\nI am using NetBeans with Ant.\nHere are my class libraries:</p>\n<p><a href=\"https://i.stack.imgur.com/JE3G0.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/JE3G0.png\" alt=\"Class Libraries\" /></a></p>\n<p>And here is the JSTL jar files I added:</p>\n<p><a href=\"https://i.stack.imgur.com/aPI4u.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/aPI4u.png\" alt=\"JSTL Jar files\" /></a></p>\n<p>It throws the following Exception:</p>\n<pre><code>Type Exception Report\n\nMessage java.lang.NoClassDefFoundError: jakarta/servlet/jsp/jstl/core/LoopTag\n\nDescription The server encountered an unexpected condition that prevented it from fulfilling the request.\n\nException\n\njakarta.servlet.ServletException: java.lang.NoClassDefFoundError: jakarta/servlet/jsp/jstl/core/LoopTag\n    org.apache.jasper.servlet.JspServlet.service(JspServlet.java:332)\n    jakarta.servlet.http.HttpServlet.service(HttpServlet.java:770)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    com.xyneex.post.PostFilter.doFilter(PostFilter.java:163)\n\nRoot Cause\n\njava.lang.NoClassDefFoundError: jakarta/servlet/jsp/jstl/core/LoopTag\njava.base/java.lang.ClassLoader.defineClass1(Native Method)\njava.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1010)\njava.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\norg.apache.catalina.loader.WebappClassLoaderBase.findClassInternal(WebappClassLoaderBase.java:2470)\norg.apache.catalina.loader.WebappClassLoaderBase.findClass(WebappClassLoaderBase.java:866)\norg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1370)\norg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1224)\norg.apache.jasper.compiler.Parser.parseCustomTag(Parser.java:1232)\norg.apache.jasper.compiler.Parser.parseElements(Parser.java:1464)\norg.apache.jasper.compiler.Parser.parse(Parser.java:138)\norg.apache.jasper.compiler.ParserController.doParse(ParserController.java:244)\norg.apache.jasper.compiler.ParserController.parse(ParserController.java:105)\norg.apache.jasper.compiler.Compiler.generateJava(Compiler.java:207)\norg.apache.jasper.compiler.Compiler.compile(Compiler.java:392)\norg.apache.jasper.compiler.Compiler.compile(Compiler.java:368)\norg.apache.jasper.compiler.Compiler.compile(Compiler.java:352)\norg.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:603)\norg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:400)\norg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:379)\norg.apache.jasper.servlet.JspServlet.service(JspServlet.java:327)\njakarta.servlet.http.HttpServlet.service(HttpServlet.java:770)\norg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\ncom.xyneex.post.PostFilter.doFilter(PostFilter.java:163)\n\nRoot Cause\n\njava.lang.ClassNotFoundException: jakarta.servlet.jsp.jstl.core.LoopTag\norg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1401)\norg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1224)\njava.base/java.lang.ClassLoader.defineClass1(Native Method)\njava.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1010)\njava.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\norg.apache.catalina.loader.WebappClassLoaderBase.findClassInternal(WebappClassLoaderBase.java:2470)\norg.apache.catalina.loader.WebappClassLoaderBase.findClass(WebappClassLoaderBase.java:866)\norg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1370)\norg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1224)\norg.apache.jasper.compiler.Parser.parseCustomTag(Parser.java:1232)\norg.apache.jasper.compiler.Parser.parseElements(Parser.java:1464)\norg.apache.jasper.compiler.Parser.parse(Parser.java:138)\norg.apache.jasper.compiler.ParserController.doParse(ParserController.java:244)\norg.apache.jasper.compiler.ParserController.parse(ParserController.java:105)\norg.apache.jasper.compiler.Compiler.generateJava(Compiler.java:207)\norg.apache.jasper.compiler.Compiler.compile(Compiler.java:392)\norg.apache.jasper.compiler.Compiler.compile(Compiler.java:368)\norg.apache.jasper.compiler.Compiler.compile(Compiler.java:352)\norg.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:603)\norg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:400)\norg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:379)\norg.apache.jasper.servlet.JspServlet.service(JspServlet.java:327)\njakarta.servlet.http.HttpServlet.service(HttpServlet.java:770)\norg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\ncom.xyneex.post.PostFilter.doFilter(PostFilter.java:163)\n\nNote The full stack trace of the root cause is available in the server logs.\n</code></pre>\n<p>My JSP/HTML code:</p>\n<pre><code>&lt;%@page contentType=&quot;text/html&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;%@taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;\n&lt;c:set var=&quot;home&quot; value=&quot;active&quot; scope=&quot;request&quot; /&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;Xyneex Technologies | Home &lt;/title&gt;\n        &lt;jsp:include page=&quot;WEB-INF/fragments/head.jsp&quot; /&gt;\n        &lt;style&gt;\n     ...\n</code></pre>\n<p>I have seen similar questions here in StackOverflow but they are talking about Tomcat 7.</p>\n<p>I am using Tomcat 10 with JDK 16.</p>\n<p>Please what is the solution to this problem?</p>\n<p><strong>EDIT:</strong></p>\n<p>Based on suggestion, <a href=\"https://stackoverflow.com/questions/4928271/how-to-install-jstl-the-absolute-uri-http-java-sun-com-jstl-core-cannot-be-r\">This Question and Answer</a> is not the same problem as mine. As the answer addresses JSTL URI and I have checked and confirmed that I am using the correct URI. I strongly believe the problem has to do with incorrect JSTL jar files in my JSTL library which I cannot determine which ones to use.</p>\n<p><strong>EDIT 2:</strong></p>\n<p>After digging around for hours I was able to find a solution which I have provided in my answer.\nThanks for your suggestions.</p>\n<p><strong>EDIT 3:</strong></p>\n<p><a href=\"https://stackoverflow.com/questions/4928271/how-to-install-jstl-the-absolute-uri-http-java-sun-com-jstl-core-cannot-be-r/4928309#4928309\">This Answer</a> by BalusC seems to address the problem with Tomcat 10. Please make sure when reading the answer, you scroll down to the Tomcat 10 part. I must have missed it the first time because I thought he only talked about the URI.</p>\n<p>Thanks to <a href=\"https://stackoverflow.com/users/11748454/piotr-p-karwasz\">Piotr P. Karwasz</a> for pointing it out for me.</p>\n"},{"tags":["java","list","oop","design-patterns","decorator"],"comments":[{"owner":{"account_id":134590,"reputation":26825,"user_id":336827,"accept_rate":61,"display_name":"freedev"},"score":0,"creation_date":1492901784,"post_id":43565475,"comment_id":74181861,"body_markdown":"It&#39;s not about the list of discount or taxes you have to subtract or to add at cost. It&#39;s about the behaviours you&#39;re handling with the decorator pattern. And, believe me, it&#39;s harder handle that behaviours with a list instead of with the inheritance.","body":"It&#39;s not about the list of discount or taxes you have to subtract or to add at cost. It&#39;s about the behaviours you&#39;re handling with the decorator pattern. And, believe me, it&#39;s harder handle that behaviours with a list instead of with the inheritance."},{"owner":{"account_id":10475103,"reputation":415,"user_id":7721886,"display_name":"paternostrox"},"score":0,"creation_date":1492902254,"post_id":43565475,"comment_id":74181945,"body_markdown":"Can you give an example using this case? Or maybe another random case? I really cannot imagine a situation in which this occurs.","body":"Can you give an example using this case? Or maybe another random case? I really cannot imagine a situation in which this occurs."},{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":6,"creation_date":1492902349,"post_id":43565475,"comment_id":74181960,"body_markdown":"This seems like a question which is better for [softwareengineering.stackexchange.com](https://softwareengineering.stackexchange.com). Personally I think that is a terrible use of Decorator (Wikipedia has an example like that too, I think) and can absolutely be solved with a list in a much more manageable way. `java.io.InputStream` is an example of Decorator where it works well. However, you can already see there is a user who disagrees with me, which is why this is probably off-topic for SO.","body":"This seems like a question which is better for <a href=\"https://softwareengineering.stackexchange.com\">softwareengineering.stackexchange.com</a>. Personally I think that is a terrible use of Decorator (Wikipedia has an example like that too, I think) and can absolutely be solved with a list in a much more manageable way. <code>java.io.InputStream</code> is an example of Decorator where it works well. However, you can already see there is a user who disagrees with me, which is why this is probably off-topic for SO."},{"owner":{"account_id":2417243,"reputation":11672,"user_id":2111035,"display_name":"Chris K"},"score":10,"creation_date":1492902383,"post_id":43565475,"comment_id":74181968,"body_markdown":"This is a pretty contrived example.  Book exercises often are.  Your instinct is good, which shows that you understood the example.  Using inheritance to model condiments would be an anti pattern for me, but as an easy to get example it works.  In real life I would use a list too.  The decorator pattern is best used when you are enhancing the behaviour of an existing object.  For example composing hash maps together or adding a default value to a hash map.","body":"This is a pretty contrived example.  Book exercises often are.  Your instinct is good, which shows that you understood the example.  Using inheritance to model condiments would be an anti pattern for me, but as an easy to get example it works.  In real life I would use a list too.  The decorator pattern is best used when you are enhancing the behaviour of an existing object.  For example composing hash maps together or adding a default value to a hash map."},{"owner":{"account_id":134590,"reputation":26825,"user_id":336827,"accept_rate":61,"display_name":"freedev"},"score":0,"creation_date":1492902839,"post_id":43565475,"comment_id":74182058,"body_markdown":"@PedroPaternostro I think the example given by @Radiodef, [`java.io.InputStream` class and discendents](http://journals.ecs.soton.ac.uk/java/tutorial/java/io/overview.html), is pretty interesting and more pertinent.","body":"@PedroPaternostro I think the example given by @Radiodef, <a href=\"http://journals.ecs.soton.ac.uk/java/tutorial/java/io/overview.html\" rel=\"nofollow noreferrer\"><code>java.io.InputStream</code> class and discendents</a>, is pretty interesting and more pertinent."},{"owner":{"account_id":10475103,"reputation":415,"user_id":7721886,"display_name":"paternostrox"},"score":0,"creation_date":1492903442,"post_id":43565475,"comment_id":74182155,"body_markdown":"Thank you all so much, @Radiodef I will give a deeper look to this case. Anyone have anything to say about it in advance? Why it is a good case of use, what you gain staying true to the decorator and avoiding other approaches, like lists?","body":"Thank you all so much, @Radiodef I will give a deeper look to this case. Anyone have anything to say about it in advance? Why it is a good case of use, what you gain staying true to the decorator and avoiding other approaches, like lists?"},{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":4,"creation_date":1492903824,"post_id":43565475,"comment_id":74182227,"body_markdown":"InputStream is good because you are wrapping a lower-level source with higher-level abstractions. You start with a source like byte array, URL, file, etc., then say &quot;Forget about that. Now I just want to get objects out of it&quot; and wrap it in an ObjectInputStream. With InputStream you actually want to more or less forget about the object you are decorating. With the beverage example, at some point you will need to e.g. iterate all of the ingredients and put them in a table or something, and then Decorator is just a clunky linked list.","body":"InputStream is good because you are wrapping a lower-level source with higher-level abstractions. You start with a source like byte array, URL, file, etc., then say &quot;Forget about that. Now I just want to get objects out of it&quot; and wrap it in an ObjectInputStream. With InputStream you actually want to more or less forget about the object you are decorating. With the beverage example, at some point you will need to e.g. iterate all of the ingredients and put them in a table or something, and then Decorator is just a clunky linked list."},{"owner":{"account_id":10475103,"reputation":415,"user_id":7721886,"display_name":"paternostrox"},"score":0,"creation_date":1492904253,"post_id":43565475,"comment_id":74182320,"body_markdown":"@ChrisK Thank you very much, I actually thought I was retarded for not understanding this case! :p\n\nI will definitely search for the pattern on harshmaps, do you have any source on it?","body":"@ChrisK Thank you very much, I actually thought I was retarded for not understanding this case! :p  I will definitely search for the pattern on harshmaps, do you have any source on it?"},{"owner":{"account_id":10475103,"reputation":415,"user_id":7721886,"display_name":"paternostrox"},"score":0,"creation_date":1492905040,"post_id":43565475,"comment_id":74182487,"body_markdown":"@Radiodef I appreciate the patience, if you like post your comments as an answer, for it will be more visible to future wanderers. Thanks :)","body":"@Radiodef I appreciate the patience, if you like post your comments as an answer, for it will be more visible to future wanderers. Thanks :)"},{"owner":{"account_id":2417243,"reputation":11672,"user_id":2111035,"display_name":"Chris K"},"score":0,"creation_date":1492971327,"post_id":43565475,"comment_id":74199644,"body_markdown":"@paternostro Raadiodef&#39;s reference to InputStream is spot on, BufferedInput is an excellent example of the decorator pattern in action in a situation that is very good design.  I would go with that.  The following resource may also help you: http://howtodoinjava.com/design-patterns/structural/decorator-design-pattern/","body":"@paternostro Raadiodef&#39;s reference to InputStream is spot on, BufferedInput is an excellent example of the decorator pattern in action in a situation that is very good design.  I would go with that.  The following resource may also help you: <a href=\"http://howtodoinjava.com/design-patterns/structural/decorator-design-pattern/\" rel=\"nofollow noreferrer\">howtodoinjava.com/design-patterns/structural/&hellip;</a>"},{"owner":{"account_id":236561,"reputation":5234,"user_id":504133,"accept_rate":76,"display_name":"nits.kk"},"score":0,"creation_date":1539008310,"post_id":43565475,"comment_id":92335091,"body_markdown":"yes lists fits better than decorator pattern in the example you took, but usually the books try to explain the usuage of a pattern in easy to understand example. Refer my answer below, hope it will be of some help.","body":"yes lists fits better than decorator pattern in the example you took, but usually the books try to explain the usuage of a pattern in easy to understand example. Refer my answer below, hope it will be of some help."}],"answers":[{"comments":[{"owner":{"account_id":2161903,"reputation":30385,"user_id":1915893,"display_name":"Aluan Haddad"},"score":0,"creation_date":1492940707,"post_id":43569432,"comment_id":74188963,"body_markdown":"That last paragraph doesn&#39;t make sense to me. How is _handling data_ not performing a task on it?","body":"That last paragraph doesn&#39;t make sense to me. How is <i>handling data</i> not performing a task on it?"},{"owner":{"account_id":1293644,"reputation":3921,"user_id":1245254,"accept_rate":75,"display_name":"Florian Salihovic"},"score":1,"creation_date":1493023774,"post_id":43569432,"comment_id":74216276,"body_markdown":"I got a little bit more specific.","body":"I got a little bit more specific."}],"tags":[],"owner":{"account_id":1293644,"reputation":3921,"user_id":1245254,"accept_rate":75,"display_name":"Florian Salihovic"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1493023744,"creation_date":1492939715,"answer_id":43569432,"question_id":43565475,"body_markdown":"You should distinguish data from behaviour.\r\n\r\nA decorator is a layer of indirection dealing with a very specific problem. The data (in terms of types, contracts, protocols etc) stays the same, but you get more flexibility regarding the implementation. With a decorator, you can reuse existing functionality and start adding changes - in conjunction with an adapter in place, you can basically slowly start migrating from pone API to a different one and stay compatible.\r\n\r\nLists should only be responsible for providing access to the contained data in a specific way. Performing tasks on the data / processing the data contained by the lists should be done by function / objects / classes with different responsibilities.","title":"Using Lists Instead of Decorator Pattern?","body":"<p>You should distinguish data from behaviour.</p>\n\n<p>A decorator is a layer of indirection dealing with a very specific problem. The data (in terms of types, contracts, protocols etc) stays the same, but you get more flexibility regarding the implementation. With a decorator, you can reuse existing functionality and start adding changes - in conjunction with an adapter in place, you can basically slowly start migrating from pone API to a different one and stay compatible.</p>\n\n<p>Lists should only be responsible for providing access to the contained data in a specific way. Performing tasks on the data / processing the data contained by the lists should be done by function / objects / classes with different responsibilities.</p>\n"},{"tags":[],"owner":{"account_id":7525670,"reputation":12204,"user_id":5715934,"accept_rate":95,"display_name":"Supun Wijerathne"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1493297148,"creation_date":1493296525,"answer_id":43657977,"question_id":43565475,"body_markdown":"What you are telling is a way to calculate the total cost of the beverage. In more general terms you are proposing an alternative way to merge &amp; execute the main behavior of each of the derived objects supposed by the Decorator Pattern, by adding up them into a list. And it is not quite an OO approach too.\r\n\r\nBut the original intent of [Decorator Pattern][1] goes to a much wider perspective other than that. It is ***Adding extended functionalities to an object dynamically***. Which means I have some object `O1` &amp; I want it to convert it into another object `O2` with extended functionality &amp; yet to be those 2 are interchangeable.\r\n\r\nSo it is about how we can manage the ***Object Evolution*** against the ***[Object Lifecycle][2]***. Hope you got the idea. :))\r\n\r\n\r\n  [1]: https://sourcemaking.com/design_patterns/decorator\r\n  [2]: https://en.wikipedia.org/wiki/Object_lifetime","title":"Using Lists Instead of Decorator Pattern?","body":"<p>What you are telling is a way to calculate the total cost of the beverage. In more general terms you are proposing an alternative way to merge &amp; execute the main behavior of each of the derived objects supposed by the Decorator Pattern, by adding up them into a list. And it is not quite an OO approach too.</p>\n\n<p>But the original intent of <a href=\"https://sourcemaking.com/design_patterns/decorator\" rel=\"nofollow noreferrer\">Decorator Pattern</a> goes to a much wider perspective other than that. It is <strong><em>Adding extended functionalities to an object dynamically</em></strong>. Which means I have some object <code>O1</code> &amp; I want it to convert it into another object <code>O2</code> with extended functionality &amp; yet to be those 2 are interchangeable.</p>\n\n<p>So it is about how we can manage the <strong><em>Object Evolution</em></strong> against the <strong><em><a href=\"https://en.wikipedia.org/wiki/Object_lifetime\" rel=\"nofollow noreferrer\">Object Lifecycle</a></em></strong>. Hope you got the idea. :))</p>\n"},{"comments":[{"owner":{"account_id":3841568,"reputation":4593,"user_id":3184475,"accept_rate":80,"display_name":"Erran Morad"},"score":0,"creation_date":1548442630,"post_id":43658739,"comment_id":95556894,"body_markdown":"Could you please explain in detail how the decorator pattern is helpful and is not an overkill in case of Java IO streams ?","body":"Could you please explain in detail how the decorator pattern is helpful and is not an overkill in case of Java IO streams ?"},{"owner":{"account_id":236561,"reputation":5234,"user_id":504133,"accept_rate":76,"display_name":"nits.kk"},"score":0,"creation_date":1549362906,"post_id":43658739,"comment_id":95866331,"body_markdown":"It would be really interesting to know your idea of achieving the same functionality as per the implementation by java existing io package. How do you think a simple stream may be added the feature of buffer amd so on with an alternate approach to Decorator patter.","body":"It would be really interesting to know your idea of achieving the same functionality as per the implementation by java existing io package. How do you think a simple stream may be added the feature of buffer amd so on with an alternate approach to Decorator patter."},{"owner":{"account_id":3841568,"reputation":4593,"user_id":3184475,"accept_rate":80,"display_name":"Erran Morad"},"score":0,"creation_date":1549499071,"post_id":43658739,"comment_id":95928008,"body_markdown":"Look at the Coffee shop example in the question. At many places on this page, including your own comment, it is mentioned that the decorator pattern is an overkill for that coffee shop and alternate solutions exist. So, I want to know if its possible to implement IOStreams in another way like we could do for the coffee shop. I&#39;d also like to know why decorator is the best/correct design for IOStreams.","body":"Look at the Coffee shop example in the question. At many places on this page, including your own comment, it is mentioned that the decorator pattern is an overkill for that coffee shop and alternate solutions exist. So, I want to know if its possible to implement IOStreams in another way like we could do for the coffee shop. I&#39;d also like to know why decorator is the best/correct design for IOStreams."},{"owner":{"account_id":3001135,"reputation":7216,"user_id":3664659,"accept_rate":69,"display_name":"Imad"},"score":0,"creation_date":1569473991,"post_id":43658739,"comment_id":102609538,"body_markdown":"If I need aethod someAlignFeatureToA(), I would add it directly into class A or create a class AHelper, without extending IA and just call someAlignFeatureToA() from class A. Any problem with these approaches? Your approach seems to be supporting inheritance more than Decorator Pattern.","body":"If I need aethod someAlignFeatureToA(), I would add it directly into class A or create a class AHelper, without extending IA and just call someAlignFeatureToA() from class A. Any problem with these approaches? Your approach seems to be supporting inheritance more than Decorator Pattern."},{"owner":{"account_id":236561,"reputation":5234,"user_id":504133,"accept_rate":76,"display_name":"nits.kk"},"score":1,"creation_date":1569514900,"post_id":43658739,"comment_id":102630589,"body_markdown":"@Imad Suppose you had a library in which class A was included, in such a case you would not have been able to add another method. Also modifying exisiting tested code by including another method in an existing class breaks OCP. Now regarding Inheritance, Please re read my answer, I have clearly mentioned not to inherit but to go with the option of composition. Class B compose a reference of class A and B implements same interface as implemented by class A. Class B now can delegate the methods to A by decorating (adding some  extra code if needed).","body":"@Imad Suppose you had a library in which class A was included, in such a case you would not have been able to add another method. Also modifying exisiting tested code by including another method in an existing class breaks OCP. Now regarding Inheritance, Please re read my answer, I have clearly mentioned not to inherit but to go with the option of composition. Class B compose a reference of class A and B implements same interface as implemented by class A. Class B now can delegate the methods to A by decorating (adding some  extra code if needed)."},{"owner":{"account_id":236561,"reputation":5234,"user_id":504133,"accept_rate":76,"display_name":"nits.kk"},"score":0,"creation_date":1569515065,"post_id":43658739,"comment_id":102630673,"body_markdown":"Also you do not want the dependent code to change. So adding a class which does not implement the same interface as done by existing class will force dependent code to import another class or interface. this will break existing dependent code.","body":"Also you do not want the dependent code to change. So adding a class which does not implement the same interface as done by existing class will force dependent code to import another class or interface. this will break existing dependent code."}],"tags":[],"owner":{"account_id":236561,"reputation":5234,"user_id":504133,"accept_rate":76,"display_name":"nits.kk"},"comment_count":6,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1591156059,"creation_date":1493298290,"answer_id":43658739,"question_id":43565475,"body_markdown":"`Decorator` pattern is about decorating ( enhancing ) an object with additional features at runtime.\r\n\r\nSuppose you already have a class, lets call it class `A` which implements an interface `IA`. Now if there is a requirement of adding an additional feature for which we want it to have a method ,`someAlignFeatureToA()` which was not there in `A`. Now you have an option of extending the class `A`. Another approach is `Composition` which should be favoured over `Inheritance`. You can wrap the object of class `A` in another class `B` implwmenting the same `Interface` as of `A` i.e. `IA`. This way for the client code it would be easy to accept the object of class B as it has the same interface as of A. (Assumption is the code is well written which depends on the Abstractions (interface `IA`) and not on concrete classes like class `A`). \r\n\r\nThis way the inheritance chain is not too long and you can add additional features at runtime easily. \r\n\r\n**Now coming to your question** : Yes in the example you took in your question, a List fits better, but I feel its the intention of the author to explain usuage of Decorator pattern with an easy example. \r\nSuppose Coffee is made up of milk, coffee mix and sugar. Coffee mix is further made up of smaller components . Here the solution emerges similar to Composite pattern. \r\n\r\nDecorator pattern is design pattern based on Enhancement of Behavior. Java IO streams uses this where behavior (method implementation) is enhanced by the decorating class (one stream is wrapped with another to enhance the previous one)","title":"Using Lists Instead of Decorator Pattern?","body":"<p><code>Decorator</code> pattern is about decorating ( enhancing ) an object with additional features at runtime.</p>\n\n<p>Suppose you already have a class, lets call it class <code>A</code> which implements an interface <code>IA</code>. Now if there is a requirement of adding an additional feature for which we want it to have a method ,<code>someAlignFeatureToA()</code> which was not there in <code>A</code>. Now you have an option of extending the class <code>A</code>. Another approach is <code>Composition</code> which should be favoured over <code>Inheritance</code>. You can wrap the object of class <code>A</code> in another class <code>B</code> implwmenting the same <code>Interface</code> as of <code>A</code> i.e. <code>IA</code>. This way for the client code it would be easy to accept the object of class B as it has the same interface as of A. (Assumption is the code is well written which depends on the Abstractions (interface <code>IA</code>) and not on concrete classes like class <code>A</code>). </p>\n\n<p>This way the inheritance chain is not too long and you can add additional features at runtime easily. </p>\n\n<p><strong>Now coming to your question</strong> : Yes in the example you took in your question, a List fits better, but I feel its the intention of the author to explain usuage of Decorator pattern with an easy example. \nSuppose Coffee is made up of milk, coffee mix and sugar. Coffee mix is further made up of smaller components . Here the solution emerges similar to Composite pattern. </p>\n\n<p>Decorator pattern is design pattern based on Enhancement of Behavior. Java IO streams uses this where behavior (method implementation) is enhanced by the decorating class (one stream is wrapped with another to enhance the previous one)</p>\n"},{"tags":[],"owner":{"account_id":5501406,"reputation":4041,"user_id":4370629,"accept_rate":67,"display_name":"Spotted"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539012905,"creation_date":1539012905,"answer_id":52705696,"question_id":43565475,"body_markdown":"Disclaimer: the terminology and code snippets I use are taken from [this article][1].\r\n\r\nAs you noticed, there are two possible designs to &quot;decorate&quot; an object. Both approaches can achieve the same functionality, the main difference is the *context of use*.\r\n\r\nVertical decorator\r\n=\r\n\r\n    Numbers numbers = new Sorted(\r\n      new Unique(\r\n        new Odds(\r\n          new Positive(\r\n            new ArrayNumbers(\r\n              new Integer[] {\r\n                -1, 78, 4, -34, 98, 4,\r\n              }\r\n            )\r\n          )\r\n        )\r\n      )\r\n    );\r\n\r\nThis is the most common approach to implement decorators. I almost exclusively implement my decorators in this way because I find it the more &quot;natural&quot; and simple way. It is suited when the number of decorator is not too much (how much is subject to programmer&#39;s interpretation).\r\nIt is also well-suited when some objects need to be extended dynamically: when it is not known at instanciation time which decorators are needed.\r\n\r\nHorizontal decorator\r\n=\r\n\r\n    Numbers numbers = new Modified(\r\n      new ArrayNumbers(\r\n        new Integer[] {\r\n          -1, 78, 4, -34, 98, 4,\r\n        }\r\n      ),\r\n      new Diff[] {\r\n        new Positive(),\r\n        new Odds(),\r\n        new Unique(),\r\n        new Sorted(),\r\n      }\r\n    );\r\n\r\nIn very rare cases (when the number of decorators starts to grow), I make the design choice to &quot;flatten&quot; the decorators in a list-like structure. This has the advantage to simplify the reading of the code but has the disadvantage to lose the flexibility at runtime: one needs to know at object&#39;s creation which decorator to apply (this is especially true in the context of immutability, which I try to foster), so this may be a no-go depending on the application.\r\n\r\nIn the end, it is only a design decision that you have to make between flexibility &amp; readability.\r\n\r\n\r\n  [1]: https://www.yegor256.com/2015/10/01/vertical-horizontal-decorating.html","title":"Using Lists Instead of Decorator Pattern?","body":"<p>Disclaimer: the terminology and code snippets I use are taken from <a href=\"https://www.yegor256.com/2015/10/01/vertical-horizontal-decorating.html\" rel=\"nofollow noreferrer\">this article</a>.</p>\n\n<p>As you noticed, there are two possible designs to \"decorate\" an object. Both approaches can achieve the same functionality, the main difference is the <em>context of use</em>.</p>\n\n<h1>Vertical decorator</h1>\n\n<pre><code>Numbers numbers = new Sorted(\n  new Unique(\n    new Odds(\n      new Positive(\n        new ArrayNumbers(\n          new Integer[] {\n            -1, 78, 4, -34, 98, 4,\n          }\n        )\n      )\n    )\n  )\n);\n</code></pre>\n\n<p>This is the most common approach to implement decorators. I almost exclusively implement my decorators in this way because I find it the more \"natural\" and simple way. It is suited when the number of decorator is not too much (how much is subject to programmer's interpretation).\nIt is also well-suited when some objects need to be extended dynamically: when it is not known at instanciation time which decorators are needed.</p>\n\n<h1>Horizontal decorator</h1>\n\n<pre><code>Numbers numbers = new Modified(\n  new ArrayNumbers(\n    new Integer[] {\n      -1, 78, 4, -34, 98, 4,\n    }\n  ),\n  new Diff[] {\n    new Positive(),\n    new Odds(),\n    new Unique(),\n    new Sorted(),\n  }\n);\n</code></pre>\n\n<p>In very rare cases (when the number of decorators starts to grow), I make the design choice to \"flatten\" the decorators in a list-like structure. This has the advantage to simplify the reading of the code but has the disadvantage to lose the flexibility at runtime: one needs to know at object's creation which decorator to apply (this is especially true in the context of immutability, which I try to foster), so this may be a no-go depending on the application.</p>\n\n<p>In the end, it is only a design decision that you have to make between flexibility &amp; readability.</p>\n"},{"comments":[{"owner":{"account_id":4614611,"reputation":6295,"user_id":3741571,"accept_rate":2,"display_name":"chenzhongpu"},"score":2,"creation_date":1650095023,"post_id":58113117,"comment_id":127039243,"body_markdown":"But as for implementations, I think your `WhySoHungry` app can still be done with a List.","body":"But as for implementations, I think your <code>WhySoHungry</code> app can still be done with a List."}],"tags":[],"owner":{"account_id":3001135,"reputation":7216,"user_id":3664659,"accept_rate":69,"display_name":"Imad"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1569488284,"creation_date":1569488284,"answer_id":58113117,"question_id":43565475,"body_markdown":"I know I am too late but I will try my hands on explaining this.\r\n\r\nI think the example in Head First book is pretty good attempt to explain this pattern though many people get confused as they find easy alternative, i.e. collection for that example.\r\n\r\nI think better example would be food delivery app (WhySoHungry). They have listed multiple offers like \r\n\r\n 1. Birthday offer\r\n 2. Sunday evening offer\r\n 3. 10 years of App launch offer.\r\n 4. Customers&#39; 100th order offer\r\n\r\nand list goes on.\r\n\r\nIf someone is eligible for multiple offers and WhySoHungry wants them to have all offers applied at the same time then calculation part becomes difficult. This is the best place to apply decorator pattern.","title":"Using Lists Instead of Decorator Pattern?","body":"<p>I know I am too late but I will try my hands on explaining this.</p>\n\n<p>I think the example in Head First book is pretty good attempt to explain this pattern though many people get confused as they find easy alternative, i.e. collection for that example.</p>\n\n<p>I think better example would be food delivery app (WhySoHungry). They have listed multiple offers like </p>\n\n<ol>\n<li>Birthday offer</li>\n<li>Sunday evening offer</li>\n<li>10 years of App launch offer.</li>\n<li>Customers' 100th order offer</li>\n</ol>\n\n<p>and list goes on.</p>\n\n<p>If someone is eligible for multiple offers and WhySoHungry wants them to have all offers applied at the same time then calculation part becomes difficult. This is the best place to apply decorator pattern.</p>\n"},{"tags":[],"owner":{"account_id":6118321,"reputation":782,"user_id":4772633,"accept_rate":74,"display_name":"rohanagarwal"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1606069669,"creation_date":1606069669,"answer_id":64957900,"question_id":43565475,"body_markdown":"An attempt at helping the OP understand that decorators are extending the behaviour which is not so evident by the example in head first book.\r\n\r\nQuoting comment by freedev:  \r\n*It&#39;s not about the list of discount or taxes you have to subtract or to add at cost. It&#39;s about the behaviours you&#39;re handling with the decorator pattern. And, believe me, it&#39;s harder to handle those behaviours with a list compared to inheritance.*\r\n\r\nSharing example from a multi-tenant real E-Commerce application having business in 20 countries (= 20 tenants).\r\n\r\nUse Case: Build a Cart (or Basket) object which can be rendered by the UI.\r\n\r\nRequirements:\r\n 1. The cart view needs to be shown on the cart page as well on the order-review page.\r\n 2. The cart can contain some items which are being upgraded/downgraded (you are upgrading your existing broadband plan).  \r\n     - So there can be some additional information we may show. (Your upgraded plan will be activated in next x hours. You will be charged a penalty of 2$. Etc.). \r\n     - Also we may show the old plan which will be upgraded/downgraded. (Shown to the user as a cart item but greyed out).\r\n     - Above is again tenant dependent.\r\n 3. If the tenant allows inventory constraints, then consider stock status of every item in the cart. But this is not required when we are seeing the cart object on the order-review page, as we have already reserved the cart on checkout.\r\n 4. The same cart object also has cart summary inside it (composition), but we don&#39;t need the same on the order review page.\r\n 5. We also have another view constructed using the same cart object - a lightweight cart view shown when user hovers on the basket icon in the header on UI.\r\n\r\nNow this is almost similar to the coffee problem OP described. Too many flavours to handle (tenant specific + page specific behaviour).  \r\nWhat we can do? We can use decorator pattern to decorate our cart with different behaviours as per the requirement.   \r\n\r\nPossible decorators:\r\n1. CartStatusDecorator\r\n2. CartAdditionalInformationDecorator\r\n3. CartExistingItemsDecorator\r\n4. CartSummaryDecorator\r\n\r\nProceed as below:  \r\n1. Construct a basic cart object which has all the minimal required behaviour. For eg, this basic cart should have all cart items with their price, image and quantity.\r\n2. Decide if we need status of the items based on the tenant. If yes, loop in the CartStatusDecorator.\r\n3. Decide if we need to show the &#39;additional information&#39;. If yes, loop in the CartAdditionalInformationDecorator.\r\n4. Decide if we need to show the older plans. If yes, loop in the CartExistingItemsDecorator.\r\n5. Decide if we want to show summary. Call CartSummaryDecorator. \r\n\r\nA top layer can decide based on the tenant and the page which all decorators need to be involved. Imagine doing this with a list of behaviours. It is now evident that list won&#39;t be a nice idea.","title":"Using Lists Instead of Decorator Pattern?","body":"<p>An attempt at helping the OP understand that decorators are extending the behaviour which is not so evident by the example in head first book.</p>\n<p>Quoting comment by freedev:<br />\n<em>It's not about the list of discount or taxes you have to subtract or to add at cost. It's about the behaviours you're handling with the decorator pattern. And, believe me, it's harder to handle those behaviours with a list compared to inheritance.</em></p>\n<p>Sharing example from a multi-tenant real E-Commerce application having business in 20 countries (= 20 tenants).</p>\n<p>Use Case: Build a Cart (or Basket) object which can be rendered by the UI.</p>\n<p>Requirements:</p>\n<ol>\n<li>The cart view needs to be shown on the cart page as well on the order-review page.</li>\n<li>The cart can contain some items which are being upgraded/downgraded (you are upgrading your existing broadband plan).\n<ul>\n<li>So there can be some additional information we may show. (Your upgraded plan will be activated in next x hours. You will be charged a penalty of 2$. Etc.).</li>\n<li>Also we may show the old plan which will be upgraded/downgraded. (Shown to the user as a cart item but greyed out).</li>\n<li>Above is again tenant dependent.</li>\n</ul>\n</li>\n<li>If the tenant allows inventory constraints, then consider stock status of every item in the cart. But this is not required when we are seeing the cart object on the order-review page, as we have already reserved the cart on checkout.</li>\n<li>The same cart object also has cart summary inside it (composition), but we don't need the same on the order review page.</li>\n<li>We also have another view constructed using the same cart object - a lightweight cart view shown when user hovers on the basket icon in the header on UI.</li>\n</ol>\n<p>Now this is almost similar to the coffee problem OP described. Too many flavours to handle (tenant specific + page specific behaviour).<br />\nWhat we can do? We can use decorator pattern to decorate our cart with different behaviours as per the requirement.</p>\n<p>Possible decorators:</p>\n<ol>\n<li>CartStatusDecorator</li>\n<li>CartAdditionalInformationDecorator</li>\n<li>CartExistingItemsDecorator</li>\n<li>CartSummaryDecorator</li>\n</ol>\n<p>Proceed as below:</p>\n<ol>\n<li>Construct a basic cart object which has all the minimal required behaviour. For eg, this basic cart should have all cart items with their price, image and quantity.</li>\n<li>Decide if we need status of the items based on the tenant. If yes, loop in the CartStatusDecorator.</li>\n<li>Decide if we need to show the 'additional information'. If yes, loop in the CartAdditionalInformationDecorator.</li>\n<li>Decide if we need to show the older plans. If yes, loop in the CartExistingItemsDecorator.</li>\n<li>Decide if we want to show summary. Call CartSummaryDecorator.</li>\n</ol>\n<p>A top layer can decide based on the tenant and the page which all decorators need to be involved. Imagine doing this with a list of behaviours. It is now evident that list won't be a nice idea.</p>\n"},{"tags":[],"owner":{"account_id":13677323,"reputation":3369,"user_id":9868445,"display_name":"aderchox"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633866314,"creation_date":1633866314,"answer_id":69514857,"question_id":43565475,"body_markdown":"The way the Head First book has explained it seems to be the common way of teaching the Decorator pattern, but in my opinion, it&#39;s not the best way of introducing it. **The gist of the Decorator pattern is NOT just running a list of methods in sequence before a method of our concrete class.**\r\n\r\n**The answer to your question:** The Decorator pattern is about turning an object into another similar object but with more capabilities. However, if you pass the Decorators as a list and just run a method of them, you will not get any other objects with increased number of capabilities compared to your original object.\r\n\r\nHere&#39;s an example of using the list approach as you have proposed:\r\n[![enter image description here][1]][1]\r\n\r\nFor example, you can use it to compress and encrypt some data before writing it to the cloud:\r\n\r\n```java\r\n    public static void main(String[] args) {\r\n        String data = &quot;Hello World&quot;;\r\n        CloudStream stream = new CloudStream();\r\n        stream.addDecorator(new CompressedStream());\r\n        stream.addDecorator(new EncryptedStream());\r\n        \r\n        stream.write(data);\r\n    }\r\n```\r\n\r\nHowever, this way, you will not have access to neither the compressed data object, nor the encrypted data object.\r\n\r\nIn contrast, here&#39;s how you can &quot;decorate&quot; a FileInputStream object in Java using an ObjectInptuStream object:\r\n\r\n```java\r\nvar oistream = new ObjectInputStream(new FileInputStream());\r\n```\r\n\r\nNow you do have access to the ObjectOutputStream object too, which gives you more [capabilities][2] compared to the FileInputStream object.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6MvuC.png\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/io/ObjectInputStream.html#method_summary","title":"Using Lists Instead of Decorator Pattern?","body":"<p>The way the Head First book has explained it seems to be the common way of teaching the Decorator pattern, but in my opinion, it's not the best way of introducing it. <strong>The gist of the Decorator pattern is NOT just running a list of methods in sequence before a method of our concrete class.</strong></p>\n<p><strong>The answer to your question:</strong> The Decorator pattern is about turning an object into another similar object but with more capabilities. However, if you pass the Decorators as a list and just run a method of them, you will not get any other objects with increased number of capabilities compared to your original object.</p>\n<p>Here's an example of using the list approach as you have proposed:\n<a href=\"https://i.stack.imgur.com/6MvuC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6MvuC.png\" alt=\"enter image description here\" /></a></p>\n<p>For example, you can use it to compress and encrypt some data before writing it to the cloud:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String[] args) {\n        String data = &quot;Hello World&quot;;\n        CloudStream stream = new CloudStream();\n        stream.addDecorator(new CompressedStream());\n        stream.addDecorator(new EncryptedStream());\n        \n        stream.write(data);\n    }\n</code></pre>\n<p>However, this way, you will not have access to neither the compressed data object, nor the encrypted data object.</p>\n<p>In contrast, here's how you can &quot;decorate&quot; a FileInputStream object in Java using an ObjectInptuStream object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var oistream = new ObjectInputStream(new FileInputStream());\n</code></pre>\n<p>Now you do have access to the ObjectOutputStream object too, which gives you more <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/ObjectInputStream.html#method_summary\" rel=\"nofollow noreferrer\">capabilities</a> compared to the FileInputStream object.</p>\n"},{"tags":[],"owner":{"account_id":7268174,"reputation":1,"user_id":5542156,"display_name":"Sameer Kulkarni"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681366872,"creation_date":1681366872,"answer_id":76002238,"question_id":43565475,"body_markdown":"Just extending same answer given by aderchox above,\r\n\r\nFollowing is snippet using list\r\n\r\n    int main()\r\n    {\r\n      string data = &quot;Hello World&quot;;\r\n      CouldStream stream = new CloudStream();\r\n      stream.addDecorator(new CompresseStream());\r\n      stream.addDecorator(new EncryptedStream());    \r\n      stream.write(data);\r\n    }\r\n    \r\n    void CouldStream::write(string data)\r\n    {\r\n      foreach(Decorator dec in _mDecorators)\r\n      {\r\n        if (dec is EncryptedStream)\r\n          dec.setSomethingUniqueFor();\r\n        dec.write(data);\r\n      }\r\n    }\r\nfollowing is snippet using Decorator Pattern\r\n\r\n    int main()\r\n    {\r\n      string data = &quot;Hello World&quot;;\r\n      CouldStream stream = new CloudStream();\r\n      stream = new CompresseStream(stream);\r\n      stream = new EncryptedStream(stream);\r\n      stream.setSomethingUniqueFor();\r\n      stream.write(data);\r\n    }\r\n    \r\n    void EncryptedStream::write(string data)\r\n    {\r\n      doSomethingUniqueFor(data);\r\n      base.write(data);\r\n    }\r\n\r\nhere main advantage of decorator pattern is even if CloudStream class is in external library, you can extend functionality by calling decorator class method in your application (main). (of course assumption here is external library allows to extend CloudStream class to write decorators)  \r\n","title":"Using Lists Instead of Decorator Pattern?","body":"<p>Just extending same answer given by aderchox above,</p>\n<p>Following is snippet using list</p>\n<pre><code>int main()\n{\n  string data = &quot;Hello World&quot;;\n  CouldStream stream = new CloudStream();\n  stream.addDecorator(new CompresseStream());\n  stream.addDecorator(new EncryptedStream());    \n  stream.write(data);\n}\n\nvoid CouldStream::write(string data)\n{\n  foreach(Decorator dec in _mDecorators)\n  {\n    if (dec is EncryptedStream)\n      dec.setSomethingUniqueFor();\n    dec.write(data);\n  }\n}\n</code></pre>\n<p>following is snippet using Decorator Pattern</p>\n<pre><code>int main()\n{\n  string data = &quot;Hello World&quot;;\n  CouldStream stream = new CloudStream();\n  stream = new CompresseStream(stream);\n  stream = new EncryptedStream(stream);\n  stream.setSomethingUniqueFor();\n  stream.write(data);\n}\n\nvoid EncryptedStream::write(string data)\n{\n  doSomethingUniqueFor(data);\n  base.write(data);\n}\n</code></pre>\n<p>here main advantage of decorator pattern is even if CloudStream class is in external library, you can extend functionality by calling decorator class method in your application (main). (of course assumption here is external library allows to extend CloudStream class to write decorators)</p>\n"}],"owner":{"account_id":10475103,"reputation":415,"user_id":7721886,"display_name":"paternostrox"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3915,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":43658739,"answer_count":8,"score":27,"last_activity_date":1681366872,"creation_date":1492901449,"question_id":43565475,"body_markdown":"A Decorator Pattern use case from &quot;Head First: Design Patterns&quot; book made me have this question. I&#39;ll try to write it down:\r\n\r\n&gt; It&#39;s a coffee shop system with some coffees and a lot of condiments\r\n&gt; you can put in them (for an extra cost), you need to be able to order\r\n&gt; and charge for a coffee with any condiments the costumer desires, and\r\n&gt; to avoid having total mayhem (e.g. booleans to keep track of the\r\n&gt; condiments) Decorator Pattern is used. We have an abstract Beverage\r\n&gt; class, each type of coffee as concrete components and each condiment\r\n&gt; as concrete decorators wrapping up a Beverage, like this:\r\n&gt; \r\n&gt; ![Beverage Class Diagram][1]\r\n&gt; \r\n&gt; And so we have the following process returning a coffee cost:\r\n&gt; \r\n&gt; ![Coffee Cost Delegation][2]\r\n\r\n\r\nMy question is: Why not implement this with Lists instead of the Decorator? We could have a list of Condiment in each Beverage and calculate the cost by iterating through the List. To order a coffee we would just have to instantiate it once and add the desired condiments, avoiding declarations like:\r\n\r\n    // Using second image example\r\n    Beverage beverage = new DarkRoast(beverage);\r\n    beverage = new Mocha(beverage);\r\n    beverage = new Whip(beverage);\r\n\r\nIn addition to that we would have more flexibility for operations like giving discount for a coffee not including it&#39;s condiments, once we won&#39;t have decorators wrapping up the coffee. This is a matter that have been long studied, I know I&#39;m missing something or maybe I got something wrong, so if you have any thoughts on this I would love to know and discuss it further.\r\n\r\n  [1]: https://i.stack.imgur.com/DJJ44.png\r\n  [2]: https://i.stack.imgur.com/Mgecl.png\r\n","title":"Using Lists Instead of Decorator Pattern?","body":"<p>A Decorator Pattern use case from \"Head First: Design Patterns\" book made me have this question. I'll try to write it down:</p>\n\n<blockquote>\n  <p>It's a coffee shop system with some coffees and a lot of condiments\n  you can put in them (for an extra cost), you need to be able to order\n  and charge for a coffee with any condiments the costumer desires, and\n  to avoid having total mayhem (e.g. booleans to keep track of the\n  condiments) Decorator Pattern is used. We have an abstract Beverage\n  class, each type of coffee as concrete components and each condiment\n  as concrete decorators wrapping up a Beverage, like this:</p>\n  \n  <p><img src=\"https://i.stack.imgur.com/DJJ44.png\" alt=\"Beverage Class Diagram\"></p>\n  \n  <p>And so we have the following process returning a coffee cost:</p>\n  \n  <p><img src=\"https://i.stack.imgur.com/Mgecl.png\" alt=\"Coffee Cost Delegation\"></p>\n</blockquote>\n\n<p>My question is: Why not implement this with Lists instead of the Decorator? We could have a list of Condiment in each Beverage and calculate the cost by iterating through the List. To order a coffee we would just have to instantiate it once and add the desired condiments, avoiding declarations like:</p>\n\n<pre><code>// Using second image example\nBeverage beverage = new DarkRoast(beverage);\nbeverage = new Mocha(beverage);\nbeverage = new Whip(beverage);\n</code></pre>\n\n<p>In addition to that we would have more flexibility for operations like giving discount for a coffee not including it's condiments, once we won't have decorators wrapping up the coffee. This is a matter that have been long studied, I know I'm missing something or maybe I got something wrong, so if you have any thoughts on this I would love to know and discuss it further.</p>\n"},{"tags":["java","android","android-viewpager"],"owner":{"account_id":12222415,"reputation":41,"user_id":8921147,"display_name":"ALI Zidelkhir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681366754,"creation_date":1561595013,"question_id":56782449,"body_markdown":"I&#39;am setting up a kind of books in android studio witch is reading sort of images, and want to the images in the landscape mode to be scrolling from Up to Down\r\n\r\n    @NonNull\r\n    @Override\r\n    public Object instantiateItem(@NonNull ViewGroup container, int position) {\r\n        ImageView imageView = new ImageView(context);\r\n        Picasso.get()\r\n                .load(imagesURLs[position])\r\n                .fit()\r\n                //.//centerInside()//centerCrop()\r\n                .into(imageView);\r\n        container.addView(imageView);\r\n        click(position, imageView);\r\n        return imageView;\r\n    }\r\n\r\nand that is the XML code\r\n\r\n    &lt;com.duolingo.open.rtlviewpager.RtlViewPager\r\n            android:id=&quot;@+id/view_pager&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:animateLayoutChanges=&quot;true&quot;\r\n            android:keepScreenOn=&quot;true&quot;\r\n            android:layoutDirection=&quot;locale&quot; /&gt;\r\n\r\nso here is the screenshot of what i got as scaling in all edges \r\nthe Size of Image(1600x1094px)\r\n[Take a look at the Image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pXGQK.png","title":"Is there a way to make images scrolling in viewPager of landscape mode?","body":"<p>I'am setting up a kind of books in android studio witch is reading sort of images, and want to the images in the landscape mode to be scrolling from Up to Down</p>\n\n<pre><code>@NonNull\n@Override\npublic Object instantiateItem(@NonNull ViewGroup container, int position) {\n    ImageView imageView = new ImageView(context);\n    Picasso.get()\n            .load(imagesURLs[position])\n            .fit()\n            //.//centerInside()//centerCrop()\n            .into(imageView);\n    container.addView(imageView);\n    click(position, imageView);\n    return imageView;\n}\n</code></pre>\n\n<p>and that is the XML code</p>\n\n<pre><code>&lt;com.duolingo.open.rtlviewpager.RtlViewPager\n        android:id=\"@+id/view_pager\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:layout_weight=\"1\"\n        android:animateLayoutChanges=\"true\"\n        android:keepScreenOn=\"true\"\n        android:layoutDirection=\"locale\" /&gt;\n</code></pre>\n\n<p>so here is the screenshot of what i got as scaling in all edges \nthe Size of Image(1600x1094px)\n<a href=\"https://i.stack.imgur.com/pXGQK.png\" rel=\"nofollow noreferrer\">Take a look at the Image</a></p>\n"},{"tags":["java","android","flutter","firebase"],"comments":[{"owner":{"account_id":10698530,"reputation":592,"user_id":7874746,"display_name":"Abdullah Javed"},"score":0,"creation_date":1681367111,"post_id":76002206,"comment_id":134045352,"body_markdown":"Maybe this one helps https://stackoverflow.com/q/71346505/7874746","body":"Maybe this one helps <a href=\"https://stackoverflow.com/q/71346505/7874746\">stackoverflow.com/q/71346505/7874746</a>"},{"owner":{"account_id":1187948,"reputation":1074,"user_id":1161518,"accept_rate":51,"display_name":"WasimSafdar"},"score":1,"creation_date":1681371534,"post_id":76002206,"comment_id":134046236,"body_markdown":"May be you also need to upgrade gradle Android packages according to current firebase requirements.","body":"May be you also need to upgrade gradle Android packages according to current firebase requirements."},{"owner":{"account_id":22409881,"reputation":1,"user_id":16618814,"display_name":"Rasul Jumaniyazov"},"score":0,"creation_date":1683272094,"post_id":76002206,"comment_id":134344343,"body_markdown":"@AbdullahJaved thanks, now I&#39;m not facing this issue.","body":"@AbdullahJaved thanks, now I&#39;m not facing this issue."}],"owner":{"account_id":22409881,"reputation":1,"user_id":16618814,"display_name":"Rasul Jumaniyazov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681366620,"creation_date":1681366620,"question_id":76002206,"body_markdown":"I have upgraded all packages and it shows this error on some devices. What I am doing wrong? Can anyone explain what is the problem there?\r\n\r\n```\r\njava.lang.AbstractMethodError: abstract method &quot;androidx.appcompat.view.menu.c androidx.appcompat.view.menu.c.D (int)&quot; at p2.e.h(FirebaseinstallationServiceClient java:90) at p2.e.b(FirebaseInstallationServiceClient.java:98)\r\nat\r\ncom.google. firebase.installations.e.f(FirebaseInstallation s.java:31)\r\nat com.google.firebase.installations.e.c(FirebaseInstallation s.java:68)\r\nat m2.d.run(Unknown Source:4)\r\nat b2.f.run(SequentialExecutor java:3) at b2.g.a(SequentialExecutor java:85) at b2.g.run(SequentialExecutor. java:1)\r\nat\r\njava.util.concurrent. ThreadPoolExecutor.run Worker(Threa dPoolExecutor.java:1137) at java.util.concurrent. ThreadPoolExecutor$Worker.run(Thre adPoolExecutor java:637) at com.google.firebase.concurrent.b.a(CustomThreadFacto ryjava:13) at com.google.firebase.concurrent.a.run(Unknown Source:4)\r\nat java.lang. Thread.run(Thread java:1012)\r\n```\r\n\r\n\r\nOld version of app was released 6 months ago, now I am trying to upgrade all packages. But there is something wrong with firebase","title":"Error occured after upgrading Firebase from 11.4.0 to 14.4.0","body":"<p>I have upgraded all packages and it shows this error on some devices. What I am doing wrong? Can anyone explain what is the problem there?</p>\n<pre><code>java.lang.AbstractMethodError: abstract method &quot;androidx.appcompat.view.menu.c androidx.appcompat.view.menu.c.D (int)&quot; at p2.e.h(FirebaseinstallationServiceClient java:90) at p2.e.b(FirebaseInstallationServiceClient.java:98)\nat\ncom.google. firebase.installations.e.f(FirebaseInstallation s.java:31)\nat com.google.firebase.installations.e.c(FirebaseInstallation s.java:68)\nat m2.d.run(Unknown Source:4)\nat b2.f.run(SequentialExecutor java:3) at b2.g.a(SequentialExecutor java:85) at b2.g.run(SequentialExecutor. java:1)\nat\njava.util.concurrent. ThreadPoolExecutor.run Worker(Threa dPoolExecutor.java:1137) at java.util.concurrent. ThreadPoolExecutor$Worker.run(Thre adPoolExecutor java:637) at com.google.firebase.concurrent.b.a(CustomThreadFacto ryjava:13) at com.google.firebase.concurrent.a.run(Unknown Source:4)\nat java.lang. Thread.run(Thread java:1012)\n</code></pre>\n<p>Old version of app was released 6 months ago, now I am trying to upgrade all packages. But there is something wrong with firebase</p>\n"},{"tags":["java","security","single-sign-on","saml-2.0"],"comments":[{"owner":{"account_id":906446,"reputation":47616,"user_id":941240,"display_name":"Wiktor Zychla"},"score":3,"creation_date":1379159098,"post_id":18801299,"comment_id":27726674,"body_markdown":"You should provide more details. What language/platform, what have you tried so far, what elements of the theory you know already. The question is likely to be closed if you don&#39;t put more effort into it.","body":"You should provide more details. What language/platform, what have you tried so far, what elements of the theory you know already. The question is likely to be closed if you don&#39;t put more effort into it."},{"owner":{"account_id":1244024,"reputation":53680,"user_id":1205871,"accept_rate":98,"display_name":"danday74"},"score":1,"creation_date":1493385418,"post_id":18801299,"comment_id":74408463,"body_markdown":"I think this question shows a lot of effort","body":"I think this question shows a lot of effort"}],"answers":[{"comments":[{"owner":{"account_id":3303570,"reputation":431,"user_id":2779075,"display_name":"user2779075"},"score":1,"creation_date":1379304073,"post_id":18810742,"comment_id":27760097,"body_markdown":"Hi,thank you for your response..Can any one provide step by step example of saml with its configuration.","body":"Hi,thank you for your response..Can any one provide step by step example of saml with its configuration."},{"owner":{"account_id":119270,"reputation":5485,"user_id":310852,"accept_rate":59,"display_name":"Stefan Rasmusson"},"score":0,"creation_date":1390487351,"post_id":18810742,"comment_id":32119504,"body_markdown":"To use SAML you use some king of software that uses the SAML protocol. Are you using any software like that?","body":"To use SAML you use some king of software that uses the SAML protocol. Are you using any software like that?"},{"owner":{"account_id":1120840,"reputation":6465,"user_id":1109179,"accept_rate":62,"display_name":"Sohan"},"score":0,"creation_date":1427888843,"post_id":18810742,"comment_id":46957189,"body_markdown":"Even i am looking for similar thing. I want to built my own IDP using openSAML , @Stefan can your book help me in that direction?","body":"Even i am looking for similar thing. I want to built my own IDP using openSAML , @Stefan can your book help me in that direction?"},{"owner":{"account_id":119270,"reputation":5485,"user_id":310852,"accept_rate":59,"display_name":"Stefan Rasmusson"},"score":0,"creation_date":1427928917,"post_id":18810742,"comment_id":46979981,"body_markdown":"The book gives an introduction to the library and shows lots of things that is common for IDP and Sp. But the book focuses more on Sp. I&#39;m sure my book will be of help to you.","body":"The book gives an introduction to the library and shows lots of things that is common for IDP and Sp. But the book focuses more on Sp. I&#39;m sure my book will be of help to you."},{"owner":{"account_id":3745237,"reputation":7388,"user_id":3114032,"accept_rate":100,"display_name":"Aniruddha K.M"},"score":0,"creation_date":1466080915,"post_id":18810742,"comment_id":63176268,"body_markdown":"@StefanRasmusson any example pertaining to android","body":"@StefanRasmusson any example pertaining to android"},{"owner":{"account_id":119270,"reputation":5485,"user_id":310852,"accept_rate":59,"display_name":"Stefan Rasmusson"},"score":0,"creation_date":1466099804,"post_id":18810742,"comment_id":63189447,"body_markdown":"Not specifically, no","body":"Not specifically, no"},{"owner":{"account_id":119270,"reputation":5485,"user_id":310852,"accept_rate":59,"display_name":"Stefan Rasmusson"},"score":0,"creation_date":1467359545,"post_id":18810742,"comment_id":63710010,"body_markdown":"A new edition of the book is out, covering OpenSAML v3 https://gumroad.com/l/a-guide-to-opensaml-v3","body":"A new edition of the book is out, covering OpenSAML v3 <a href=\"https://gumroad.com/l/a-guide-to-opensaml-v3\" rel=\"nofollow noreferrer\">gumroad.com/l/a-guide-to-opensaml-v3</a>"},{"owner":{"account_id":4665571,"reputation":987,"user_id":3778710,"accept_rate":67,"display_name":"Jerry"},"score":0,"creation_date":1476450818,"post_id":18810742,"comment_id":67363948,"body_markdown":"@Stefan Link to your blog is currently broken. I am completely new to this can I get a step by step instruction to implement this using java","body":"@Stefan Link to your blog is currently broken. I am completely new to this can I get a step by step instruction to implement this using java"},{"owner":{"account_id":119270,"reputation":5485,"user_id":310852,"accept_rate":59,"display_name":"Stefan Rasmusson"},"score":0,"creation_date":1476468938,"post_id":18810742,"comment_id":67375191,"body_markdown":"I tried the link and it seems fine, if you still cant reach is try http://blog.samlsecurity.com/. It has much helpful posts. My book provides detailed and coherent instruction on how to build a service provider using OpenSAML","body":"I tried the link and it seems fine, if you still cant reach is try <a href=\"http://blog.samlsecurity.com/\" rel=\"nofollow noreferrer\">blog.samlsecurity.com</a>. It has much helpful posts. My book provides detailed and coherent instruction on how to build a service provider using OpenSAML"},{"owner":{"account_id":193707,"reputation":34691,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"score":0,"creation_date":1540319275,"post_id":18810742,"comment_id":92818843,"body_markdown":"I&#39;m missing in the answer a real world example of how to make an SP-IDP SSO flow, which is, if I understand correctly, what the asker asked for...","body":"I&#39;m missing in the answer a real world example of how to make an SP-IDP SSO flow, which is, if I understand correctly, what the asker asked for..."},{"owner":{"account_id":119270,"reputation":5485,"user_id":310852,"accept_rate":59,"display_name":"Stefan Rasmusson"},"score":0,"creation_date":1542613626,"post_id":18810742,"comment_id":93616576,"body_markdown":"Problem is that most configuration is very dependant on what software you use. However I added a brief decsription of SAML metadata used for configuration and a working example of OpenSAML which I use in my book","body":"Problem is that most configuration is very dependant on what software you use. However I added a brief decsription of SAML metadata used for configuration and a working example of OpenSAML which I use in my book"}],"tags":[],"owner":{"account_id":119270,"reputation":5485,"user_id":310852,"accept_rate":59,"display_name":"Stefan Rasmusson"},"comment_count":11,"down_vote_count":2,"up_vote_count":33,"is_accepted":false,"score":31,"last_activity_date":1629195746,"creation_date":1379236318,"answer_id":18810742,"question_id":18801299,"body_markdown":"Typical SSO with SAML is something called Web SSO Profile. There are many products supporting this on the market for example OpenAM, Shibboleth, OpenSAML and Oracle Identity Federation. The specific configuration is dependant on what product you choose to use. A working example of OpenSAML that I use in my book is availible [here][1].\r\n\r\nOn a SAML level, the SP and IDP exchanges Metadata which contain configuration information on how the SP and IDP want to communicate. \r\n\r\nSSO is then done in four steps:\r\n\r\n 1. SP sees that the user does not have an authenticated session.\r\n 2. The SP redirects the user to IDP with a SAML AutnRequest as an URL parameter.\r\n 3. The IDP authenticates the user and redirects it back to the SP with an artifact in URL parameter.\r\n 4. The SP exchanges the Artifact for an Assertion over SOAP using a ArtifactResolveRequest to the IDP.\r\n\r\nIf you want to code this yourself in Java, you can use OpenSAML. On my [blog][2] I have many examples on how to use it. \r\n\r\nIn my book, [A Guide To OpenSAML][3], I write alot about this\r\n\r\nEDIT [New edition of the book][4] is out, covering OpenSAML v3\r\n\r\n\r\n  [1]: https://github.com/rasmusson/webprofile-ref-project\r\n  [2]: https://blog.samlsecurity.com/categories/opensaml/\r\n  [3]: https://blog.samlsecurity.com/a-guide-to-opensamlv2.html\r\n  [4]: https://blog.samlsecurity.com/a-guide-to-opensamlv3.html","title":"SAML simple example for beginners","body":"<p>Typical SSO with SAML is something called Web SSO Profile. There are many products supporting this on the market for example OpenAM, Shibboleth, OpenSAML and Oracle Identity Federation. The specific configuration is dependant on what product you choose to use. A working example of OpenSAML that I use in my book is availible <a href=\"https://github.com/rasmusson/webprofile-ref-project\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>On a SAML level, the SP and IDP exchanges Metadata which contain configuration information on how the SP and IDP want to communicate.</p>\n<p>SSO is then done in four steps:</p>\n<ol>\n<li>SP sees that the user does not have an authenticated session.</li>\n<li>The SP redirects the user to IDP with a SAML AutnRequest as an URL parameter.</li>\n<li>The IDP authenticates the user and redirects it back to the SP with an artifact in URL parameter.</li>\n<li>The SP exchanges the Artifact for an Assertion over SOAP using a ArtifactResolveRequest to the IDP.</li>\n</ol>\n<p>If you want to code this yourself in Java, you can use OpenSAML. On my <a href=\"https://blog.samlsecurity.com/categories/opensaml/\" rel=\"nofollow noreferrer\">blog</a> I have many examples on how to use it.</p>\n<p>In my book, <a href=\"https://blog.samlsecurity.com/a-guide-to-opensamlv2.html\" rel=\"nofollow noreferrer\">A Guide To OpenSAML</a>, I write alot about this</p>\n<p>EDIT <a href=\"https://blog.samlsecurity.com/a-guide-to-opensamlv3.html\" rel=\"nofollow noreferrer\">New edition of the book</a> is out, covering OpenSAML v3</p>\n"},{"comments":[{"owner":{"account_id":5124885,"reputation":1716,"user_id":4107331,"accept_rate":67,"display_name":"Stephen McCormick"},"score":1,"creation_date":1456774910,"post_id":24783864,"comment_id":59092983,"body_markdown":"On an android device, and they recommend no IOC for performance reasons. Is there another example of SSO on Android outside of Spring?","body":"On an android device, and they recommend no IOC for performance reasons. Is there another example of SSO on Android outside of Spring?"}],"tags":[],"owner":{"account_id":4295147,"reputation":15433,"user_id":3510410,"display_name":"Vladim&#237;r Sch&#228;fer"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1405522118,"creation_date":1405522118,"answer_id":24783864,"question_id":18801299,"body_markdown":"You can simply follow steps in this [manual][1], which will help you create a simple SAML 2.0 federation between a local Service Provider and a public Identity Provider.\r\n\r\nOnce you set this up you can use it to follow messages sent between IDP/SP and also as an example of a SAML component built with Java + OpenSAML + Spring.\r\n\r\nThere are also many other good sources of information on SAML, like the Stefan&#39;s blog mentioned above.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-security-saml/docs/1.0.x/reference/html/chapter-quick-start.html","title":"SAML simple example for beginners","body":"<p>You can simply follow steps in this <a href=\"http://docs.spring.io/spring-security-saml/docs/1.0.x/reference/html/chapter-quick-start.html\" rel=\"noreferrer\">manual</a>, which will help you create a simple SAML 2.0 federation between a local Service Provider and a public Identity Provider.</p>\n\n<p>Once you set this up you can use it to follow messages sent between IDP/SP and also as an example of a SAML component built with Java + OpenSAML + Spring.</p>\n\n<p>There are also many other good sources of information on SAML, like the Stefan's blog mentioned above.</p>\n"},{"tags":[],"owner":{"account_id":14751638,"reputation":84,"user_id":10653568,"display_name":"Golap Hazarika"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681366426,"creation_date":1681366426,"answer_id":76002186,"question_id":18801299,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n**What is Single Sign-On:**\r\n\r\nSingle Sign-On is a standardized concept that allows an end-user to access multiple, related but independent, software applications using a single point of entry. It means that an end-user can log into a system only once and then access multiple applications without logging in again. The authentication process can be merged into a single component, which acts as a gateway for every other application. It basically manages the identity of end-users in an effective and secure way.\r\n\r\nFor more information [Read more][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AnK6Y.jpg\r\n  [2]: https://medium.com/@golapyd/single-sign-on-sso-55f1b58c8d2c","title":"SAML simple example for beginners","body":"<p><a href=\"https://i.stack.imgur.com/AnK6Y.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AnK6Y.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>What is Single Sign-On:</strong></p>\n<p>Single Sign-On is a standardized concept that allows an end-user to access multiple, related but independent, software applications using a single point of entry. It means that an end-user can log into a system only once and then access multiple applications without logging in again. The authentication process can be merged into a single component, which acts as a gateway for every other application. It basically manages the identity of end-users in an effective and secure way.</p>\n<p>For more information <a href=\"https://medium.com/@golapyd/single-sign-on-sso-55f1b58c8d2c\" rel=\"nofollow noreferrer\">Read more</a></p>\n"}],"owner":{"account_id":3303570,"reputation":431,"user_id":2779075,"display_name":"user2779075"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86151,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"answer_count":3,"score":43,"last_activity_date":1681366426,"creation_date":1379158462,"question_id":18801299,"body_markdown":"I am beginner to the SAML v2.0 technology and I get the theory knowledge but I didn&#39;t find any examples on Google. Can anybody provide me with a step by step example for simple &quot;SAML for v2.0&quot;.\r\n\r\n 1. Upto now I&#39;ve gone through the theory part,i.e.., it support **Single sign on** and   \r\n     also I understood about the **Service provider** and **Identity Provider**   .\r\n 2. Presently I am working on **Linux Environment**\r\n 3. I need basic example in step by step manner how the request is moving from **user -&gt; \r\n     Identity Provider-&gt;Service Provider** and how to configure the environment .\r\n 4. Is it possible to execute the example for the SAML v2.0\r\n 5. Is their any chance to execute SAML example in Java language,If it possible you can  \r\n     provide the example on Java also. ","title":"SAML simple example for beginners","body":"<p>I am beginner to the SAML v2.0 technology and I get the theory knowledge but I didn't find any examples on Google. Can anybody provide me with a step by step example for simple \"SAML for v2.0\".</p>\n\n<ol>\n<li>Upto now I've gone through the theory part,i.e.., it support <strong>Single sign on</strong> and<br>\n also I understood about the <strong>Service provider</strong> and <strong>Identity Provider</strong>   .</li>\n<li>Presently I am working on <strong>Linux Environment</strong></li>\n<li>I need basic example in step by step manner how the request is moving from <strong>user -> \n Identity Provider->Service Provider</strong> and how to configure the environment .</li>\n<li>Is it possible to execute the example for the SAML v2.0</li>\n<li>Is their any chance to execute SAML example in Java language,If it possible you can<br>\n provide the example on Java also. </li>\n</ol>\n"},{"tags":["java","java-8","java-11"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1681360254,"post_id":76001612,"comment_id":134044536,"body_markdown":"If a library uses undocumented, internal JDK classes that were removed from later Java versions, the only options are really to update the library to avoid using those classes or stay on a JDK version that supports them.","body":"If a library uses undocumented, internal JDK classes that were removed from later Java versions, the only options are really to update the library to avoid using those classes or stay on a JDK version that supports them."},{"owner":{"account_id":28290839,"reputation":1,"user_id":21630989,"display_name":"JAX WONG"},"score":0,"creation_date":1681391979,"post_id":76001612,"comment_id":134051203,"body_markdown":"All right......","body":"All right......"}],"owner":{"account_id":28290839,"reputation":1,"user_id":21630989,"display_name":"JAX WONG"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":689,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681366260,"creation_date":1681359964,"question_id":76001612,"body_markdown":"I imported a third-party package that used jdk8, but my project used jdk11, and then reported an error: java.lang.NoClassDefFoundError: \r\n\r\n`\r\ncom/sun/xml/internal/messaging/saaj/util/ByteOutputStream \tat com.sm.huichuan.api.sdk.core.ServiceProxy.invoke(ServiceProxy.java:61) at com.sun.proxy.$Proxy3.getAccount(Unknown Source) at com.example.work1.utils.AccountServiceExampleTest.testGetAccount(AccountServiceExampleTest.java:20) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.base/java.lang.reflect.Method.invoke(Method.java:566) at junit.framework.TestCase.runTest(TestCase.java:177) at junit.framework.TestCase.runBare(TestCase.java:142) at junit.framework.TestResult$1.protect(TestResult.java:122) at junit.framework.TestResult.runProtected(TestResult.java:142) at junit.framework.TestResult.run(TestResult.java:125) at junit.framework.TestCase.run(TestCase.java:130) at junit.framework.TestSuite.runTest(TestSuite.java:241) at junit.framework.TestSuite.run(TestSuite.java:236) at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:90) at org.junit.runner.JUnitCore.run(JUnitCore.java:137) at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69) at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38) at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11) at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35) at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232) at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55) Caused by: java.lang.ClassNotFoundException: com.sun.xml.internal.messaging.saaj.util.ByteOutputStream at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581) at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ... 23 more \r\n`\r\n\r\n I found that jdk11 removed some classes, I imported some dependencies, but still reported an error, but I can not find the answer, please help! \r\n\r\n```\r\n&lt;dependency&gt;  \r\n\r\n &lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\r\n\r\n   &lt;artifactId&gt;saaj-impl&lt;/artifactId&gt; \r\n\r\n  &lt;version&gt;3.0.0&lt;/version&gt; \r\n\r\n&lt;/dependency&gt;\r\n```","title":"JDK version mismatch problem，Caused by: java.lang.ClassNotFoundException: com.sun.xml.internal.messaging.saaj.util.ByteOutputStream","body":"<p>I imported a third-party package that used jdk8, but my project used jdk11, and then reported an error: java.lang.NoClassDefFoundError:</p>\n<p><code>com/sun/xml/internal/messaging/saaj/util/ByteOutputStream   at com.sm.huichuan.api.sdk.core.ServiceProxy.invoke(ServiceProxy.java:61) at com.sun.proxy.$Proxy3.getAccount(Unknown Source) at com.example.work1.utils.AccountServiceExampleTest.testGetAccount(AccountServiceExampleTest.java:20) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.base/java.lang.reflect.Method.invoke(Method.java:566) at junit.framework.TestCase.runTest(TestCase.java:177) at junit.framework.TestCase.runBare(TestCase.java:142) at junit.framework.TestResult$1.protect(TestResult.java:122) at junit.framework.TestResult.runProtected(TestResult.java:142) at junit.framework.TestResult.run(TestResult.java:125) at junit.framework.TestCase.run(TestCase.java:130) at junit.framework.TestSuite.runTest(TestSuite.java:241) at junit.framework.TestSuite.run(TestSuite.java:236) at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:90) at org.junit.runner.JUnitCore.run(JUnitCore.java:137) at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69) at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38) at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11) at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35) at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232) at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55) Caused by: java.lang.ClassNotFoundException: com.sun.xml.internal.messaging.saaj.util.ByteOutputStream at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581) at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ... 23 more </code></p>\n<p>I found that jdk11 removed some classes, I imported some dependencies, but still reported an error, but I can not find the answer, please help!</p>\n<pre><code>&lt;dependency&gt;  \n\n &lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\n\n   &lt;artifactId&gt;saaj-impl&lt;/artifactId&gt; \n\n  &lt;version&gt;3.0.0&lt;/version&gt; \n\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","json","jolt"],"answers":[{"comments":[{"owner":{"account_id":27862574,"reputation":19,"user_id":21274759,"display_name":"Aziz R."},"score":0,"creation_date":1681320353,"post_id":75998274,"comment_id":134038780,"body_markdown":"Is there no way of doing this without using a shift? I already have transformations in place after the remove, so adding a shift would be inconvenient. Doing this directly from the remove operation would be ideal.","body":"Is there no way of doing this without using a shift? I already have transformations in place after the remove, so adding a shift would be inconvenient. Doing this directly from the remove operation would be ideal."}],"tags":[],"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681366045,"creation_date":1681320210,"answer_id":75998274,"question_id":75997906,"body_markdown":"You can add a **shift** transformation which filters out by the sub-indexes (**0** and **1**) of the concerned array such that\r\n\r\n```json\r\n{\r\n  &quot;operation&quot;: &quot;shift&quot;,\r\n  &quot;spec&quot;: {\r\n    &quot;LEVEL_0&quot;: {\r\n      &quot;LEVEL_1&quot;: {\r\n        &quot;*&quot;: &quot;&amp;2.&amp;1.&amp;&quot;,\r\n        &quot;LEVEL_2&quot;: {\r\n          &quot;*&quot;: &quot;&amp;3.&amp;2.&amp;1.&amp;&quot;,\r\n          &quot;LEVEL_3B&quot;: {\r\n            &quot;*&quot;: {\r\n              &quot;*&quot;: &quot;&amp;5.&amp;4.&amp;3.&amp;2[&amp;1].&amp;&quot;,\r\n              &quot;LEVEL_4&quot;: {\r\n                &quot;0|1&quot;: {\r\n                  &quot;@&quot;: &quot;&amp;7.&amp;6.&amp;5.&amp;4[&amp;3].&amp;2[&amp;1]&quot;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\nor through use of **remove** transformation which will include a bit hardcoding by adding conditional `&quot;2|3|4|5&quot;: &quot;&quot;`(*the number of the integers may vary depending on the number of the nested objects*) as the else case to the present input spec\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;remove&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;LEVEL_0&quot;: {\r\n        &quot;LEVEL_1&quot;: {\r\n          &quot;RANDOM_FIELD_B&quot;: &quot;&quot;,\r\n          &quot;LEVEL_2&quot;: {\r\n            &quot;RANDOM_FIELD_D&quot;: &quot;&quot;,\r\n            &quot;LEVEL_3B&quot;: {\r\n              &quot;*&quot;: {\r\n                &quot;RANDOM_FIELD_H&quot;: &quot;&quot;,\r\n                &quot;LEVEL_4&quot;: {\r\n                  &quot;2|3|4|5&quot;: &quot;&quot;,\r\n                  &quot;*&quot;: {\r\n                    &quot;FIELD_3&quot;: &quot;&quot;,\r\n                    &quot;FIELD_5&quot;: &quot;&quot;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\nsince `&quot;*&quot;` wildcard cannot be considered as the else case representative as it removes all attributes of the objects ","title":"Is there a way of retaining specific occurences within a nested JSON whilst removing others using JOLT &quot;remove&quot;","body":"<p>You can add a <strong>shift</strong> transformation which filters out by the sub-indexes (<strong>0</strong> and <strong>1</strong>) of the concerned array such that</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;operation&quot;: &quot;shift&quot;,\n  &quot;spec&quot;: {\n    &quot;LEVEL_0&quot;: {\n      &quot;LEVEL_1&quot;: {\n        &quot;*&quot;: &quot;&amp;2.&amp;1.&amp;&quot;,\n        &quot;LEVEL_2&quot;: {\n          &quot;*&quot;: &quot;&amp;3.&amp;2.&amp;1.&amp;&quot;,\n          &quot;LEVEL_3B&quot;: {\n            &quot;*&quot;: {\n              &quot;*&quot;: &quot;&amp;5.&amp;4.&amp;3.&amp;2[&amp;1].&amp;&quot;,\n              &quot;LEVEL_4&quot;: {\n                &quot;0|1&quot;: {\n                  &quot;@&quot;: &quot;&amp;7.&amp;6.&amp;5.&amp;4[&amp;3].&amp;2[&amp;1]&quot;\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>or through use of <strong>remove</strong> transformation which will include a bit hardcoding by adding conditional <code>&quot;2|3|4|5&quot;: &quot;&quot;</code>(<em>the number of the integers may vary depending on the number of the nested objects</em>) as the else case to the present input spec</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;remove&quot;,\n    &quot;spec&quot;: {\n      &quot;LEVEL_0&quot;: {\n        &quot;LEVEL_1&quot;: {\n          &quot;RANDOM_FIELD_B&quot;: &quot;&quot;,\n          &quot;LEVEL_2&quot;: {\n            &quot;RANDOM_FIELD_D&quot;: &quot;&quot;,\n            &quot;LEVEL_3B&quot;: {\n              &quot;*&quot;: {\n                &quot;RANDOM_FIELD_H&quot;: &quot;&quot;,\n                &quot;LEVEL_4&quot;: {\n                  &quot;2|3|4|5&quot;: &quot;&quot;,\n                  &quot;*&quot;: {\n                    &quot;FIELD_3&quot;: &quot;&quot;,\n                    &quot;FIELD_5&quot;: &quot;&quot;\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n]\n</code></pre>\n<p>since <code>&quot;*&quot;</code> wildcard cannot be considered as the else case representative as it removes all attributes of the objects</p>\n"}],"owner":{"account_id":27862574,"reputation":19,"user_id":21274759,"display_name":"Aziz R."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75998274,"answer_count":1,"score":1,"last_activity_date":1681366045,"creation_date":1681317594,"question_id":75997906,"body_markdown":"I have a nested JSON of a similar structure to the following, that I am performing a number of transformations on.\r\n\r\nCurrently, I have this as an input:\r\n```json\r\n{\r\n  &quot;LEVEL_0&quot;: {\r\n    &quot;RANDOM_FIELD_A&quot;: &quot;1234&quot;,\r\n    &quot;LEVEL_1&quot;: {\r\n      &quot;RANDOM_FIELD_B&quot;: null,\r\n      &quot;RANDOM_FIELD_C&quot;: &quot;DEEZ&quot;,\r\n      &quot;LEVEL_2&quot;: {\r\n        &quot;RANDOM_FIELD_D&quot;: &quot;12345&quot;,\r\n        &quot;RANDOM_FIELD_E&quot;: &quot;CHUPAPI&quot;,\r\n        &quot;LEVEL_3A&quot;: {\r\n          &quot;RANDOM_FIELD_F&quot;: 800\r\n        },\r\n        &quot;RANDOM_FIELD_G&quot;: null,\r\n        &quot;LEVEL_3B&quot;: [\r\n          {\r\n            &quot;RANDOM_FIELD_H&quot;: &quot;12345671&quot;,\r\n            &quot;RANDOM_FIELD_I&quot;: &quot;DONUT&quot;,\r\n            &quot;LEVEL_4&quot;: [\r\n              {\r\n                &quot;FIELD_1&quot;: &quot;CRISPY&quot;,\r\n                &quot;FIELD_2&quot;: &quot;CREME&quot;,\r\n                &quot;FIELD_3&quot;: &quot;CHEESE&quot;,\r\n                &quot;FIELD_4&quot;: &quot;CAKE&quot;,\r\n                &quot;FIELD_5&quot;: 123456789,\r\n                &quot;FIELD_6&quot;: &quot;COCONUT&quot;\r\n              },\r\n              {\r\n                &quot;FIELD_1&quot;: &quot;UNCLE&quot;,\r\n                &quot;FIELD_2&quot;: &quot;BENS&quot;,\r\n                &quot;FIELD_3&quot;: &quot;FIRED&quot;,\r\n                &quot;FIELD_4&quot;: &quot;RICE&quot;,\r\n                &quot;FIELD_5&quot;: 987654321,\r\n                &quot;FIELD_6&quot;: &quot;FLAMINGO&quot;\r\n              },\r\n              {\r\n                &quot;FIELD_1&quot;: &quot;IN&quot;,\r\n                &quot;FIELD_2&quot;: &quot;THE&quot;,\r\n                &quot;FIELD_3&quot;: &quot;JUNGLE&quot;,\r\n                &quot;FIELD_4&quot;: &quot;THE&quot;,\r\n                &quot;FIELD_5&quot;: 345453643,\r\n                &quot;FIELD_6&quot;: &quot;MIGHTY&quot;\r\n              },\r\n              {\r\n                &quot;FIELD_1&quot;: &quot;THIS&quot;,\r\n                &quot;FIELD_2&quot;: &quot;IS&quot;,\r\n                &quot;FIELD_3&quot;: &quot;THE&quot;,\r\n                &quot;FIELD_4&quot;: &quot;LAST&quot;,\r\n                &quot;FIELD_5&quot;: 344,\r\n                &quot;FIELD_6&quot;: &quot;ONE&quot;\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nI want this for the output:\r\n\r\n```json\r\n{\r\n  &quot;LEVEL_0&quot;: {\r\n    &quot;RANDOM_FIELD_A&quot;: &quot;1234&quot;,\r\n    &quot;LEVEL_1&quot;: {\r\n      &quot;RANDOM_FIELD_C&quot;: &quot;DEEZ&quot;,\r\n      &quot;LEVEL_2&quot;: {\r\n        &quot;RANDOM_FIELD_E&quot;: &quot;CHUPAPI&quot;,\r\n        &quot;LEVEL_3A&quot;: {\r\n          &quot;RANDOM_FIELD_F&quot;: 800\r\n        },\r\n        &quot;RANDOM_FIELD_G&quot;: null,\r\n        &quot;LEVEL_3B&quot;: [\r\n          {\r\n            &quot;RANDOM_FIELD_I&quot;: &quot;DONUT&quot;,\r\n            &quot;LEVEL_4&quot;: [\r\n              {\r\n                &quot;FIELD_1&quot;: &quot;CRISPY&quot;,\r\n                &quot;FIELD_2&quot;: &quot;CREME&quot;,\r\n                &quot;FIELD_4&quot;: &quot;CAKE&quot;,\r\n                &quot;FIELD_6&quot;: &quot;COCONUT&quot;\r\n              },\r\n              {\r\n                &quot;FIELD_1&quot;: &quot;UNCLE&quot;,\r\n                &quot;FIELD_2&quot;: &quot;BENS&quot;,\r\n                &quot;FIELD_4&quot;: &quot;RICE&quot;,\r\n                &quot;FIELD_6&quot;: &quot;FLAMINGO&quot;\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\nI am using the JOLT library and want to know how to reduce the &quot;LEVEL_4&quot; array to 2 occurences instead of 4, whilst also removing &quot;FIELD_3&quot; AND &quot;FIELD_5&quot;. I want to always retain the first 2 occurences regardless of whether there are 4 or 5 or 6 occurences, as this could be the case from the input.\r\n\r\nI have a remove operation that can remove the required fields, i.e. &quot;FIELD_3&quot; AND &quot;FIELD_4&quot; but it retains all 4 occurences. I need this to be done using a JOLT &#39;remove&#39;.\r\n\r\nWhat I currently have is:\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;remove&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;LEVEL_0&quot;: {\r\n        &quot;LEVEL_1&quot;: {\r\n          &quot;RANDOM_FIELD_B&quot;: &quot;&quot;,\r\n          &quot;LEVEL_2&quot;: {\r\n            &quot;RANDOM_FIELD_D&quot;: &quot;&quot;,\r\n            &quot;LEVEL_3B&quot;: {\r\n              &quot;*&quot;: {\r\n                &quot;RANDOM_FIELD_H&quot;: &quot;&quot;,\r\n                &quot;LEVEL_4&quot;: {\r\n                  &quot;*&quot;: {\r\n                    &quot;FIELD_3&quot;: &quot;&quot;,\r\n                    &quot;FIELD_5&quot;: &quot;&quot;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```","title":"Is there a way of retaining specific occurences within a nested JSON whilst removing others using JOLT &quot;remove&quot;","body":"<p>I have a nested JSON of a similar structure to the following, that I am performing a number of transformations on.</p>\n<p>Currently, I have this as an input:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;LEVEL_0&quot;: {\n    &quot;RANDOM_FIELD_A&quot;: &quot;1234&quot;,\n    &quot;LEVEL_1&quot;: {\n      &quot;RANDOM_FIELD_B&quot;: null,\n      &quot;RANDOM_FIELD_C&quot;: &quot;DEEZ&quot;,\n      &quot;LEVEL_2&quot;: {\n        &quot;RANDOM_FIELD_D&quot;: &quot;12345&quot;,\n        &quot;RANDOM_FIELD_E&quot;: &quot;CHUPAPI&quot;,\n        &quot;LEVEL_3A&quot;: {\n          &quot;RANDOM_FIELD_F&quot;: 800\n        },\n        &quot;RANDOM_FIELD_G&quot;: null,\n        &quot;LEVEL_3B&quot;: [\n          {\n            &quot;RANDOM_FIELD_H&quot;: &quot;12345671&quot;,\n            &quot;RANDOM_FIELD_I&quot;: &quot;DONUT&quot;,\n            &quot;LEVEL_4&quot;: [\n              {\n                &quot;FIELD_1&quot;: &quot;CRISPY&quot;,\n                &quot;FIELD_2&quot;: &quot;CREME&quot;,\n                &quot;FIELD_3&quot;: &quot;CHEESE&quot;,\n                &quot;FIELD_4&quot;: &quot;CAKE&quot;,\n                &quot;FIELD_5&quot;: 123456789,\n                &quot;FIELD_6&quot;: &quot;COCONUT&quot;\n              },\n              {\n                &quot;FIELD_1&quot;: &quot;UNCLE&quot;,\n                &quot;FIELD_2&quot;: &quot;BENS&quot;,\n                &quot;FIELD_3&quot;: &quot;FIRED&quot;,\n                &quot;FIELD_4&quot;: &quot;RICE&quot;,\n                &quot;FIELD_5&quot;: 987654321,\n                &quot;FIELD_6&quot;: &quot;FLAMINGO&quot;\n              },\n              {\n                &quot;FIELD_1&quot;: &quot;IN&quot;,\n                &quot;FIELD_2&quot;: &quot;THE&quot;,\n                &quot;FIELD_3&quot;: &quot;JUNGLE&quot;,\n                &quot;FIELD_4&quot;: &quot;THE&quot;,\n                &quot;FIELD_5&quot;: 345453643,\n                &quot;FIELD_6&quot;: &quot;MIGHTY&quot;\n              },\n              {\n                &quot;FIELD_1&quot;: &quot;THIS&quot;,\n                &quot;FIELD_2&quot;: &quot;IS&quot;,\n                &quot;FIELD_3&quot;: &quot;THE&quot;,\n                &quot;FIELD_4&quot;: &quot;LAST&quot;,\n                &quot;FIELD_5&quot;: 344,\n                &quot;FIELD_6&quot;: &quot;ONE&quot;\n              }\n            ]\n          }\n        ]\n      }\n    }\n  }\n}\n</code></pre>\n<p>I want this for the output:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;LEVEL_0&quot;: {\n    &quot;RANDOM_FIELD_A&quot;: &quot;1234&quot;,\n    &quot;LEVEL_1&quot;: {\n      &quot;RANDOM_FIELD_C&quot;: &quot;DEEZ&quot;,\n      &quot;LEVEL_2&quot;: {\n        &quot;RANDOM_FIELD_E&quot;: &quot;CHUPAPI&quot;,\n        &quot;LEVEL_3A&quot;: {\n          &quot;RANDOM_FIELD_F&quot;: 800\n        },\n        &quot;RANDOM_FIELD_G&quot;: null,\n        &quot;LEVEL_3B&quot;: [\n          {\n            &quot;RANDOM_FIELD_I&quot;: &quot;DONUT&quot;,\n            &quot;LEVEL_4&quot;: [\n              {\n                &quot;FIELD_1&quot;: &quot;CRISPY&quot;,\n                &quot;FIELD_2&quot;: &quot;CREME&quot;,\n                &quot;FIELD_4&quot;: &quot;CAKE&quot;,\n                &quot;FIELD_6&quot;: &quot;COCONUT&quot;\n              },\n              {\n                &quot;FIELD_1&quot;: &quot;UNCLE&quot;,\n                &quot;FIELD_2&quot;: &quot;BENS&quot;,\n                &quot;FIELD_4&quot;: &quot;RICE&quot;,\n                &quot;FIELD_6&quot;: &quot;FLAMINGO&quot;\n              }\n            ]\n          }\n        ]\n      }\n    }\n  }\n}\n</code></pre>\n<p>I am using the JOLT library and want to know how to reduce the &quot;LEVEL_4&quot; array to 2 occurences instead of 4, whilst also removing &quot;FIELD_3&quot; AND &quot;FIELD_5&quot;. I want to always retain the first 2 occurences regardless of whether there are 4 or 5 or 6 occurences, as this could be the case from the input.</p>\n<p>I have a remove operation that can remove the required fields, i.e. &quot;FIELD_3&quot; AND &quot;FIELD_4&quot; but it retains all 4 occurences. I need this to be done using a JOLT 'remove'.</p>\n<p>What I currently have is:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;remove&quot;,\n    &quot;spec&quot;: {\n      &quot;LEVEL_0&quot;: {\n        &quot;LEVEL_1&quot;: {\n          &quot;RANDOM_FIELD_B&quot;: &quot;&quot;,\n          &quot;LEVEL_2&quot;: {\n            &quot;RANDOM_FIELD_D&quot;: &quot;&quot;,\n            &quot;LEVEL_3B&quot;: {\n              &quot;*&quot;: {\n                &quot;RANDOM_FIELD_H&quot;: &quot;&quot;,\n                &quot;LEVEL_4&quot;: {\n                  &quot;*&quot;: {\n                    &quot;FIELD_3&quot;: &quot;&quot;,\n                    &quot;FIELD_5&quot;: &quot;&quot;\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n]\n</code></pre>\n"},{"tags":["java","arrays","json","string","object"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1681460773,"post_id":76001168,"comment_id":134063167,"body_markdown":"You need to fix the problem at the source, by asking the source to provide you JSON. To be clear, this is not &quot;invalid JSON&quot;, it is simply not JSON at all (likely it is a concoction of default `toString()` of collections or something). Alternatively, you need to write your own custom parser, either rewriting it to JSON or directly to objects, neither of which is simple to do (and would require this to be actually be a stable and specific format, which is unlikely), and really too broad for a question on Stack Overflow","body":"You need to fix the problem at the source, by asking the source to provide you JSON. To be clear, this is not &quot;invalid JSON&quot;, it is simply not JSON at all (likely it is a concoction of default <code>toString()</code> of collections or something). Alternatively, you need to write your own custom parser, either rewriting it to JSON or directly to objects, neither of which is simple to do (and would require this to be actually be a stable and specific format, which is unlikely), and really too broad for a question on Stack Overflow"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1681472779,"post_id":76001168,"comment_id":134065846,"body_markdown":"You wrote: _I am getting the below records from a backend system_ Are you getting them as a single string? You also wrote: _I want to convert ... it into a String_ Can you [edit] your question and post the string you wish to get? _I&#39;ve tried replace String function, but it always fails at some point._ Can you post the code that you tried and details of the failure?","body":"You wrote: <i>I am getting the below records from a backend system</i> Are you getting them as a single string? You also wrote: <i>I want to convert ... it into a String</i> Can you <a href=\"https://stackoverflow.com/posts/76001168/edit\">edit</a> your question and post the string you wish to get? <i>I&#39;ve tried replace String function, but it always fails at some point.</i> Can you post the code that you tried and details of the failure?"}],"owner":{"account_id":23099829,"reputation":368,"user_id":17209391,"display_name":"Ruby"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1681352925,"answer_count":0,"score":0,"last_activity_date":1681365499,"creation_date":1681352808,"question_id":76001168,"body_markdown":"I am getting the below records from a backend system and not sure how many such records I might be receiving. As you can see the data I receive is not in a valid json format. \r\n\r\n```\r\n[489078:{cancelled:1, totalQty:2, AcceptedQty:1}, \r\n489079:{cancelled:0, totalQty:1, AcceptedQty:1},\r\n.\r\n.]\r\n```\r\nI want to convert the above payload into a valid a JsonArray of JsonObjects for further processing by converting it into a String first. I&#39;ve tried replace String function, but it always fails at some point. Is there any other approach supported by java for performing this function? ","title":"Converting Invalid Json to Valid Json in Java","body":"<p>I am getting the below records from a backend system and not sure how many such records I might be receiving. As you can see the data I receive is not in a valid json format.</p>\n<pre><code>[489078:{cancelled:1, totalQty:2, AcceptedQty:1}, \n489079:{cancelled:0, totalQty:1, AcceptedQty:1},\n.\n.]\n</code></pre>\n<p>I want to convert the above payload into a valid a JsonArray of JsonObjects for further processing by converting it into a String first. I've tried replace String function, but it always fails at some point. Is there any other approach supported by java for performing this function?</p>\n"},{"tags":["java","bufferedimage","javax.imageio"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1681349006,"post_id":76000918,"comment_id":134043438,"body_markdown":"Decisive are width and height. You could use a black &amp; white color model for reduced memory.","body":"Decisive are width and height. You could use a black &amp; white color model for reduced memory."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1681349584,"post_id":76000918,"comment_id":134043484,"body_markdown":"TiledImage might help to restrict image. However I do not know how to.","body":"TiledImage might help to restrict image. However I do not know how to."},{"owner":{"account_id":3204393,"reputation":778,"user_id":2705702,"display_name":"Keijack"},"score":0,"creation_date":1681352701,"post_id":76000918,"comment_id":134043783,"body_markdown":"I think use Process to call another image tool to handle image, like imagemagick is a better idea.","body":"I think use Process to call another image tool to handle image, like imagemagick is a better idea."}],"answers":[{"tags":[],"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681365432,"creation_date":1681351728,"answer_id":76001105,"question_id":76000918,"body_markdown":"Not completely as an answer, but each Red Green Blue is stored as an int (4 bytes each int) , if there is Alpha channel for each pixel it&#39;s also 4 bytes float.\r\n5000*5000 25,000,000 * 4 100,000,000 100mb\r\nThen there are the class footprint instances for holding onto and operating on it, maybe 50mb. So it maybe another 250mb used to complete the op.\r\nJava imaging is recommended to often call System.gc() to notify clearing garbage after each &quot;operation&quot; on an image e.g. immediately after loading(opening) the image, then each general operation on it.\r\nIt is also extremely important to set up a garbage collector such as the G1 gc on the startup commandline or the env variable properties for startup commands in servers e.g. example only: /bin/setenv.sh \r\nand to set the memory for stack 1mb heap and min max memory on its commandline or alike in the server \r\n\r\n***javax.imageio.ImageReader has getWidth(int IMG index)** , note.  jpeg and tiff carry extra images inside sometimes. I don&#39;t say you need do anything except get the reader associate the image file to obtain the width and height, generally image[0] is always the main image*\r\n\r\nMake a small test class and use ioimage classes, load and read an image and re-obtain the reader class when the data and reader have been set to obtain the info by association in the main object instance , then get width and height, BUT **use the java visual VM in the JDK /bin directory** to monitor memory before and after loading (switch on the visual VM just before running the test loader small commandline class)\r\nOf image[0] in jpeg and tiff formats, I have had good image programs ask, &quot;do you want to store the original image data with the edited version?&quot; that would make image[1] and a thumbnail would be image[2] although a thumb image may be image[1] of which java does not like much above 100 * 100 thumb size *(it fails!)*. Various companies such as Sony or Fuji have their own jpeg multi image specs for these.","title":"Prevent loading a big image into `BufferedImage` when only the size of its compressed version is known","body":"<p>Not completely as an answer, but each Red Green Blue is stored as an int (4 bytes each int) , if there is Alpha channel for each pixel it's also 4 bytes float.\n5000*5000 25,000,000 * 4 100,000,000 100mb\nThen there are the class footprint instances for holding onto and operating on it, maybe 50mb. So it maybe another 250mb used to complete the op.\nJava imaging is recommended to often call System.gc() to notify clearing garbage after each &quot;operation&quot; on an image e.g. immediately after loading(opening) the image, then each general operation on it.\nIt is also extremely important to set up a garbage collector such as the G1 gc on the startup commandline or the env variable properties for startup commands in servers e.g. example only: /bin/setenv.sh\nand to set the memory for stack 1mb heap and min max memory on its commandline or alike in the server</p>\n<p><em><strong>javax.imageio.ImageReader has getWidth(int IMG index)</strong> , note.  jpeg and tiff carry extra images inside sometimes. I don't say you need do anything except get the reader associate the image file to obtain the width and height, generally image[0] is always the main image</em></p>\n<p>Make a small test class and use ioimage classes, load and read an image and re-obtain the reader class when the data and reader have been set to obtain the info by association in the main object instance , then get width and height, BUT <strong>use the java visual VM in the JDK /bin directory</strong> to monitor memory before and after loading (switch on the visual VM just before running the test loader small commandline class)\nOf image[0] in jpeg and tiff formats, I have had good image programs ask, &quot;do you want to store the original image data with the edited version?&quot; that would make image[1] and a thumbnail would be image[2] although a thumb image may be image[1] of which java does not like much above 100 * 100 thumb size <em>(it fails!)</em>. Various companies such as Sony or Fuji have their own jpeg multi image specs for these.</p>\n"},{"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1681360899,"post_id":76001167,"comment_id":134044601,"body_markdown":"Of memory there is no completely easy way but can be achieved with the metadata classes for images, https://docs.oracle.com/javase/8/docs/api/javax/imageio/metadata/IIOMetadata.html","body":"Of memory there is no completely easy way but can be achieved with the metadata classes for images, <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/imageio/metadata/IIOMetadata.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/javax/imageio/metadata/&hellip;</a>"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1681361229,"post_id":76001167,"comment_id":134044630,"body_markdown":"javax.imageio.ImageReader has getWidth(int IMG index) , note.  jpeg and tiff carry mextra images inside sometimes.","body":"javax.imageio.ImageReader has getWidth(int IMG index) , note.  jpeg and tiff carry mextra images inside sometimes."},{"owner":{"account_id":16073236,"reputation":85,"user_id":11601118,"display_name":"M I P A"},"score":0,"creation_date":1681363070,"post_id":76001167,"comment_id":134044784,"body_markdown":"@SamuelMarchant mmm that&#39;s a good point. In my case I think it would suffice to check all of the images (maybe also cancelling if there are too many) with `reader.getNumImages(false)`. But now I wonder how resizing affects these other images: if all of them are loaded into `BufferedImage`, then I would have to make a sum of all the `w * h` and check if the `result &gt; tooMany`","body":"@SamuelMarchant mmm that&#39;s a good point. In my case I think it would suffice to check all of the images (maybe also cancelling if there are too many) with <code>reader.getNumImages(false)</code>. But now I wonder how resizing affects these other images: if all of them are loaded into <code>BufferedImage</code>, then I would have to make a sum of all the <code>w * h</code> and check if the <code>result &gt; tooMany</code>"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":1,"creation_date":1681364547,"post_id":76001167,"comment_id":134044975,"body_markdown":"Just added some more sensible info in the end of the answer post.","body":"Just added some more sensible info in the end of the answer post."}],"tags":[],"owner":{"account_id":16073236,"reputation":85,"user_id":11601118,"display_name":"M I P A"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681354610,"creation_date":1681352781,"answer_id":76001167,"question_id":76000918,"body_markdown":"Ok I figured it out, but it might not work for every set up: what we can do is take the needed information *without loading the entire image*, something I &lt;strike&gt;didn&#39;t know&lt;/strike&gt; forgot it was possible. We gotta start with `ImageIO.createImageInputStream(...)`. As its documentation says, it accepts any `Object` and might return `null` if it can&#39;t generate a stream from it. `ImageIO` was designed with 3rd party plugins in mind, so you should know if it&#39;d be wise to do a null check.\r\n\r\n```\r\n// in my case imgURL is a java.net.URL instance\r\nImageInputStream imgStream = ImageIO.createImageInputStream(imgURL.openStream());\r\n\r\n```\r\nThen we can get an `ImageReader` for that type of image (`ImageIO.getImageReaders(imgStream).next();`), use it for our own image, and ask it to tell us the width and height of our image:\r\n\r\n```java\r\ntry (imgStream) {\r\n    ImageReader reader = ImageIO.getImageReaders(imgStream).next();\r\n    reader.setInput(imgStream);\r\n\r\n    int width = reader.getWidth(0);\r\n    int height = reader.getWidth(0);\r\n\r\n    if (width * height &gt; 3_000_000) {\r\n        System.err.println(&quot;Too big!&quot;);\r\n        return;\r\n    }\r\n}\r\n```\r\nThis is not a perfect solution: there are several things that might fail depending on your plugins for `ImageIO`, but it&#39;s a perfectly *viable* solution for many cases, I think, including mine. I&#39;m just going to assume every plug in implementation I use checks if the reported dimensions in the metadata don&#39;t match the described pixels in the rest of the file...","title":"Prevent loading a big image into `BufferedImage` when only the size of its compressed version is known","body":"<p>Ok I figured it out, but it might not work for every set up: what we can do is take the needed information <em>without loading the entire image</em>, something I <strike>didn't know</strike> forgot it was possible. We gotta start with <code>ImageIO.createImageInputStream(...)</code>. As its documentation says, it accepts any <code>Object</code> and might return <code>null</code> if it can't generate a stream from it. <code>ImageIO</code> was designed with 3rd party plugins in mind, so you should know if it'd be wise to do a null check.</p>\n<pre><code>// in my case imgURL is a java.net.URL instance\nImageInputStream imgStream = ImageIO.createImageInputStream(imgURL.openStream());\n\n</code></pre>\n<p>Then we can get an <code>ImageReader</code> for that type of image (<code>ImageIO.getImageReaders(imgStream).next();</code>), use it for our own image, and ask it to tell us the width and height of our image:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (imgStream) {\n    ImageReader reader = ImageIO.getImageReaders(imgStream).next();\n    reader.setInput(imgStream);\n\n    int width = reader.getWidth(0);\n    int height = reader.getWidth(0);\n\n    if (width * height &gt; 3_000_000) {\n        System.err.println(&quot;Too big!&quot;);\n        return;\n    }\n}\n</code></pre>\n<p>This is not a perfect solution: there are several things that might fail depending on your plugins for <code>ImageIO</code>, but it's a perfectly <em>viable</em> solution for many cases, I think, including mine. I'm just going to assume every plug in implementation I use checks if the reported dimensions in the metadata don't match the described pixels in the rest of the file...</p>\n"}],"owner":{"account_id":16073236,"reputation":85,"user_id":11601118,"display_name":"M I P A"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681365432,"creation_date":1681348252,"question_id":76000918,"body_markdown":"I have a service that receives URLs of already uploaded images: its task is to resize them and save them compressed, loading them like this:\r\n\r\n```java\r\nBufferedImage src = ImageIO.read(imgURL);\r\n```\r\n\r\n\r\nThere might be an issue, though... to compress those images I need to load them into memory first, and I can&#39;t judge how much RAM they&#39;ll take just by looking at their reported sizes: an 80 KB PNG could be 5000px * 5000px, and the same could happen with a 300 KB JPEG! My resources are quite limited, so is there a way I can find out how much I&#39;m gonna need, so I can discard the images that could be too big in memory? A 4.5 MB JPEG image could take nearly 4 GB in memory...\r\n\r\nI kinda wish `ImageIO.read(...)` had an option so I could tell it &quot;if at some point you see it&#39;s gonna take more than X bytes, just throw everything away come back to me.&quot; How can I tackle this issue?\r\n\r\nEdit: I forgot there are some ways to work with streams in this library. I&#39;ll check if it allows me to get the resolution before I download the image into memory.","title":"Prevent loading a big image into `BufferedImage` when only the size of its compressed version is known","body":"<p>I have a service that receives URLs of already uploaded images: its task is to resize them and save them compressed, loading them like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BufferedImage src = ImageIO.read(imgURL);\n</code></pre>\n<p>There might be an issue, though... to compress those images I need to load them into memory first, and I can't judge how much RAM they'll take just by looking at their reported sizes: an 80 KB PNG could be 5000px * 5000px, and the same could happen with a 300 KB JPEG! My resources are quite limited, so is there a way I can find out how much I'm gonna need, so I can discard the images that could be too big in memory? A 4.5 MB JPEG image could take nearly 4 GB in memory...</p>\n<p>I kinda wish <code>ImageIO.read(...)</code> had an option so I could tell it &quot;if at some point you see it's gonna take more than X bytes, just throw everything away come back to me.&quot; How can I tackle this issue?</p>\n<p>Edit: I forgot there are some ways to work with streams in this library. I'll check if it allows me to get the resolution before I download the image into memory.</p>\n"},{"tags":["java","switch-statement","user-input"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1681365669,"post_id":76002053,"comment_id":134045142,"body_markdown":"`String userInput;` is local to the `main` method.  It can not be accessed in `printAnimals`. This code should not compile.","body":"<code>String userInput;</code> is local to the <code>main</code> method.  It can not be accessed in <code>printAnimals</code>. This code should not compile."},{"owner":{"account_id":17127273,"reputation":1,"user_id":12394169,"display_name":"Zackery Spears"},"score":0,"creation_date":1681365836,"post_id":76002053,"comment_id":134045167,"body_markdown":"Then how can I get it too","body":"Then how can I get it too"},{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":1,"creation_date":1681365837,"post_id":76002053,"comment_id":134045168,"body_markdown":"Your `userInput` variable is defined in `main()`, it is not accessible by `printAnimals`. Add parameter to it: `public static void printAnimals(String userInput)`. Also make sure you always call `printAnimals` with `userInput` argument.","body":"Your <code>userInput</code> variable is defined in <code>main()</code>, it is not accessible by <code>printAnimals</code>. Add parameter to it: <code>public static void printAnimals(String userInput)</code>. Also make sure you always call <code>printAnimals</code> with <code>userInput</code> argument."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":2,"creation_date":1681365884,"post_id":76002053,"comment_id":134045170,"body_markdown":"Here are a few hints for you.  *methods* should do one thing only.  The amount of code should fit on your screen.  *writing code* write a little code, compile soon. do not write a whole hunk of code then compile.","body":"Here are a few hints for you.  <i>methods</i> should do one thing only.  The amount of code should fit on your screen.  <i>writing code</i> write a little code, compile soon. do not write a whole hunk of code then compile."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1681365985,"post_id":76002053,"comment_id":134045186,"body_markdown":"you seem to be missing quite some break statements","body":"you seem to be missing quite some break statements"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1681368645,"post_id":76002053,"comment_id":134045648,"body_markdown":"Another observation: the loop checking for the dog already being present should ideally happen right after entering the dog&#39;s name. No need to let the user enter all the data and then tell them it was all in vain. Also, the input check on reservation status (i.e. the condition producing &quot;Re-input reservation status.&quot;) should be in a separate while-loop as you&#39;d want to continue until either &quot;true&quot; or &quot;false&quot; have been entered - doing this in a loop iterating over the dogs in the system doesn&#39;t make any sense.","body":"Another observation: the loop checking for the dog already being present should ideally happen right after entering the dog&#39;s name. No need to let the user enter all the data and then tell them it was all in vain. Also, the input check on reservation status (i.e. the condition producing &quot;Re-input reservation status.&quot;) should be in a separate while-loop as you&#39;d want to continue until either &quot;true&quot; or &quot;false&quot; have been entered - doing this in a loop iterating over the dogs in the system doesn&#39;t make any sense."}],"owner":{"account_id":17127273,"reputation":1,"user_id":12394169,"display_name":"Zackery Spears"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1263,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681365104,"creation_date":1681365104,"question_id":76002053,"body_markdown":"&gt; I&#39;m having trouble getting the userInput to work for case 4 and onwards in the printAnimals() at the very bottom. It like the userInput variable is not being able to be accessed. After the user types 4 it should print the dogList then return back to the menu. But instead I just get errors when passing userInput into printAnimals at case 4 and at the if statement within printAnimals();\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.Scanner;\r\n\r\npublic class Driver {\r\n    private static ArrayList&lt;Dog&gt; dogList = new ArrayList&lt;Dog&gt;();\r\n    //Add a monkey Array list\r\n    private static ArrayList&lt;Monkey&gt; monkeyList = new ArrayList&lt;Monkey&gt;();\r\n    //This is a scanner to get user input\r\n    private static Scanner scanner = new Scanner(System.in);\r\n    \r\n    public static void main(String[] args) {\r\n    \t//Initialize variables \r\n    \tString userInput;\r\n    \t\r\n        initializeDogList();\r\n        initializeMonkeyList();\r\n\r\n       //Do-While loop to access menu\r\n       do{\r\n    \t   //Display the menu\r\n    \t   displayMenu();\r\n    \t   //Get the user input \r\n    \t   userInput = scanner.nextLine();\r\n    \t   //Switch through each option the user can choose\r\n    \t   switch(userInput) {\r\n    \t   \t\tcase &quot;1&quot;:\r\n    \t   \t\t\tintakeNewDog(scanner);\r\n    \t   \t\tcase &quot;2&quot;:\r\n    \t   \t\t\tintakeNewMonkey(scanner);\r\n    \t   \t\tcase &quot;3&quot;:\r\n    \t   \t\t\treserveAnimal(scanner);\r\n    \t   \t\tcase &quot;4&quot;:\r\n    \t   \t\t\tprintAnimals(userInput);\r\n    \t   \t\tcase &quot;5&quot;:\r\n    \t   \t\t\tprintAnimals(userInput);\r\n    \t   \t\tcase &quot;6&quot;:\r\n    \t   \t\t\tprintAnimals();\r\n    \t   \t\tcase &quot;q&quot;:\r\n    \t   \t\t\tbreak;\r\n    \t   \t\tdefault:\r\n    \t   \t\t\tSystem.out.println(&quot;Invalid input, please try again. Enter 1-6 or q to quit.&quot;);\r\n    \t   }\r\n        }while(!userInput.equals(&quot;q&quot;));\r\n\r\n    }\r\n\r\n    // This method prints the menu options\r\n    public static void displayMenu() {\r\n        System.out.println(&quot;\\n\\n&quot;);\r\n        System.out.println(&quot;\\t\\t\\t\\tRescue Animal System Menu&quot;);\r\n        System.out.println(&quot;[1] Intake a new dog&quot;);\r\n        System.out.println(&quot;[2] Intake a new monkey&quot;);\r\n        System.out.println(&quot;[3] Reserve an animal&quot;);\r\n        System.out.println(&quot;[4] Print a list of all dogs&quot;);\r\n        System.out.println(&quot;[5] Print a list of all monkeys&quot;);\r\n        System.out.println(&quot;[6] Print a list of all animals that are not reserved&quot;);\r\n        System.out.println(&quot;[q] Quit application&quot;);\r\n        System.out.println();\r\n        System.out.println(&quot;Enter a menu selection&quot;);\r\n    }\r\n    \r\n\r\n    // Adds dogs to a list for testing\r\n    public static void initializeDogList() {\r\n        Dog dog1 = new Dog(&quot;Spot&quot;, &quot;German Shepherd&quot;, &quot;male&quot;, &quot;1&quot;, &quot;25.6&quot;, &quot;05-12-2019&quot;, &quot;United States&quot;, &quot;intake&quot;, false, &quot;United States&quot;);\r\n        Dog dog2 = new Dog(&quot;Rex&quot;, &quot;Great Dane&quot;, &quot;male&quot;, &quot;3&quot;, &quot;35.2&quot;, &quot;02-03-2020&quot;, &quot;United States&quot;, &quot;Phase I&quot;, false, &quot;United States&quot;);\r\n        Dog dog3 = new Dog(&quot;Bella&quot;, &quot;Chihuahua&quot;, &quot;female&quot;, &quot;4&quot;, &quot;25.6&quot;, &quot;12-12-2019&quot;, &quot;Canada&quot;, &quot;in service&quot;, true, &quot;Canada&quot;);\r\n\r\n        dogList.add(dog1);\r\n        dogList.add(dog2);\r\n        dogList.add(dog3);\r\n    }\r\n\r\n\r\n    // Adds monkeys to a list for testing\r\n    //Optional for testing\r\n    public static void initializeMonkeyList() {\r\n    \tMonkey monkeyOne = new Monkey(&quot;DK&quot;, &quot;3&quot;, &quot;7&quot;, &quot;15&quot;, &quot;Guenon&quot;, &quot;male&quot;, &quot;4&quot;, &quot;15&quot;, &quot;4-1-22&quot;, &quot;Japan&quot;, &quot;intake&quot;, true, &quot;USA&quot;);\r\n    \t//Adds a new monkey to the ArrayList\r\n    \tmonkeyList.add(monkeyOne);\r\n\r\n    }\r\n\r\n\r\n    // Complete the intakeNewDog method\r\n    // The input validation to check that the dog is not already in the list\r\n    // is done for you\r\n    public static void intakeNewDog(Scanner scanner) {\r\n    \t// Add the code to instantiate a new dog and add it to the appropriate list\r\n        System.out.println(&quot;What is the dog&#39;s name?&quot;);\r\n        String name = scanner.nextLine();\r\n       \r\n        String gender;\r\n        do {\r\n        \t  System.out.println(&quot;What is the dog&#39;s gender?&quot;);\r\n              gender = scanner.nextLine().toLowerCase();\r\n        }while (!gender.equals(&quot;male&quot;) &amp;&amp; !gender.equals(&quot;female&quot;)); \r\n        \r\n        \r\n        System.out.println(&quot;What is the dog&#39;s age?&quot;);\r\n        String age = scanner.nextLine();\r\n        \r\n        System.out.println(&quot;What is the dog&#39;s weight?&quot;);\r\n        String weight = scanner.nextLine();\r\n        \r\n        System.out.println(&quot;When was the dog&#39;s acquired?&quot;);\r\n        String acquisitionDate = scanner.nextLine();\r\n        \r\n        System.out.println(&quot;Where was the dog acquired?&quot;);\r\n        String acquisitionCountry = scanner.nextLine();\r\n        \r\n        System.out.println(&quot;What is the dog training status?&quot;);\r\n        String trainingStatus = scanner.nextLine();\r\n        \r\n        \r\n        System.out.println(&quot;In what country is the dog in service?&quot;);\r\n        String inServiceCountry = scanner.nextLine();\r\n        \r\n        System.out.println(&quot;Is this dog reserved? True or False.&quot;);\r\n        String reservedSpot;\r\n        reservedSpot = scanner.nextLine();\r\n        System.out.println(&quot;reservedString: &quot; + reservedSpot);\r\n        boolean reserved;\r\n        for(Dog dog: dogList) {\r\n            if(dog.getName().equalsIgnoreCase(name)) {\r\n                System.out.println(&quot;\\n\\nThis dog is already in our system\\n\\n&quot;);\r\n                return; //returns to menu\r\n            }\r\n            if(!&quot;true&quot;.equals(reservedSpot) &amp;&amp; !&quot;false&quot;.equals(reservedSpot)) {\r\n                System.out.println(&quot;Re-input reservation status.&quot;);\r\n                reservedSpot = scanner.nextLine();\r\n             }\r\n             \r\n        }\r\n        reserved = &quot;true&quot;.equals(reservedSpot.toLowerCase());\r\n        //This creates a new dog from user input \r\n       Dog dog = new Dog(name, gender, age, weight, acquisitionDate, acquisitionCountry,trainingStatus ,inServiceCountry, reserved, inServiceCountry);\r\n        \r\n       //Print out after the dog has been added to the system \r\n       System.out.println(&quot;The dog has successfully been added to our system.&quot;);\r\n        //This adds the dog to the arrayList called dogList\r\n        dogList.add(dog);\r\n      //Returns back to menu\r\n        return;\r\n        \r\n    }\r\n\r\n\r\n        // Completed intakeNewMonkey\r\n\t//Instantiate and add the new monkey to the appropriate list\r\n    //Made sure there could be no repeat of Monkeys\r\n        public static void intakeNewMonkey(Scanner scanner) {\r\n            System.out.println(&quot;What is the monkey&#39;s name&quot;);\r\n            String name = scanner.nextLine();\r\n            for(Monkey monkey: monkeyList) {\r\n            \tif(monkey.getName().equalsIgnoreCase(name)) {\r\n                    System.out.println(&quot;\\n\\nThis monkey is already in our system.\\n\\n&quot;);\r\n                    return; //returns to menu\r\n                }\r\n            }\r\n            \r\n            System.out.println(&quot;What is the monkey&#39;s tail lenght?&quot;);\r\n            String tailLength = scanner.nextLine();\r\n            \r\n            System.out.println(&quot;What is the monkey&#39;s height?&quot;);\r\n            String height = scanner.nextLine();\r\n            \r\n            System.out.println(&quot;What is the monkey&#39;s body Length?&quot;);\r\n            String bodyLength = scanner.nextLine();\r\n            \r\n            //Do while loop to get the monkey species\r\n            String species;\r\n            do {\r\n            \tSystem.out.println(&quot;What is the monkey&#39;s species?&quot;);\r\n            \tSystem.out.println(&quot;Species:Capuchin, Guenon, Macaque, Marmose, Squirrel monkey, Tamarin&quot;);\r\n            \tspecies = scanner.nextLine();\r\n            }while(!&quot;Capuchin&quot;.equals(species) &amp;&amp; !&quot;Guenon&quot;.equals(species) &amp;&amp; !&quot;Macaque&quot;.equals(species) &amp;&amp; !&quot;Marmose&quot;.equals(species) &amp;&amp;\r\n            \t\t!&quot;Squirrel monkey&quot;.equals(species) &amp;&amp; !&quot;Tamarin&quot;.equals(species));\r\n            \r\n            \r\n            System.out.println(&quot;What is the monkey&#39;s gender?&quot;);\r\n            String gender = scanner.nextLine();\r\n            \r\n            System.out.println(&quot;What is the monkey&#39;s age?&quot;);\r\n            String age = scanner.nextLine();\r\n            \r\n            System.out.println(&quot;What is the monkey&#39;s weight?&quot;);\r\n            String weight = scanner.nextLine();\r\n            \r\n            System.out.println(&quot;When was the monkey&#39;s acquired?&quot;);\r\n            String acquisitionDate = scanner.nextLine();\r\n            \r\n            System.out.println(&quot;Where was the monkey acquired?&quot;);\r\n            String acquisitionCountry = scanner.nextLine();\r\n            \r\n            System.out.println(&quot;What is the monkey training status?&quot;);\r\n            String trainingStatus = scanner.nextLine();\r\n            \r\n            String reservedString;\r\n            System.out.println(&quot;Is this monkey reserved? True or False.&quot;);\r\n            \r\n            reservedString = scanner.nextLine();\r\n            \r\n            while (!reservedString.equalsIgnoreCase(&quot;true&quot;) &amp;&amp; !reservedString.equalsIgnoreCase(&quot;false&quot;)) {\r\n            \tSystem.out.println(&quot;Re-input reservation status.&quot;);\r\n            \treservedString = scanner.nextLine();\r\n            }\r\n            boolean reserved = &quot;true&quot;.equals(reservedString.toLowerCase());\r\n     \r\n            \r\n            System.out.println(&quot;In what country is the monkey in service?&quot;);\r\n            String inServiceCountry = scanner.nextLine();\r\n            \r\n            //This creates a new monkey from user input \r\n            Monkey monkey = new Monkey(name, tailLength, height, bodyLength, species,\r\n            \t\tgender ,age, weight, acquisitionDate, acquisitionCountry,trainingStatus ,reserved, inServiceCountry);\r\n            \r\n            //This adds the monkey to the arrayList called monkeyList\r\n            monkeyList.add(monkey);\r\n            //Print out after the monkey has been added to the system \r\n            System.out.println(&quot;The monkey has successfully been added to our system.&quot;);\r\n            return;\r\n        }\r\n\r\n        // Complete reserveAnimal\r\n        // You will need to find the animal by animal type and in service country\r\n        public static void reserveAnimal(Scanner scanner) {\r\n            System.out.println(&quot;Please enter a animal type.&quot;);\r\n            String animalType = scanner.nextLine().toLowerCase();\r\n            \r\n            System.out.println(&quot;Enter service country: &quot;);\r\n            String inServiceCountry = scanner.nextLine();\r\n            \r\n            if(animalType.equalsIgnoreCase(&quot;dog&quot;)) {\r\n            \tfor(Dog dog: dogList) {\r\n            \t\tif(dog.getInServiceLocation().equals(inServiceCountry)) {\r\n            \t\t\t//update the reserved attribute\r\n            \t\t\tdog.setReserved(true);\r\n            \t\t}\r\n            \t}\r\n            \treturn;\r\n            }\r\n            else if(animalType.equalsIgnoreCase(&quot;monkey&quot;)) {\r\n            \tfor(Monkey monkey: monkeyList) {\r\n            \t\tif(monkey.getInServiceLocation().equals(inServiceCountry)) {\r\n            \t\t\t//update the reserved attribute\r\n            \t\t\tmonkey.setReserved(true);\r\n            \t\t}\r\n            \t}\r\n            \treturn;\r\n            }\r\n            else {\r\n            \tSystem.out.println(&quot;No animals of that type and location are available.&quot;);\r\n            \treturn;\r\n            }\r\n            \r\n        }\r\n\r\n        // Complete printAnimals\r\n        // Include the animal name, status, acquisition country and if the animal is reserved.\r\n\t// Remember that this method connects to three different menu items.\r\n        // The printAnimals() method has three different outputs\r\n        // based on the listType parameter\r\n        // dog - prints the list of dogs\r\n        // monkey - prints the list of monkeys\r\n        // available - prints a combined list of all animals that are\r\n        // fully trained (&quot;in service&quot;) but not reserved \r\n\t// Remember that you only have to fully implement ONE of these lists. \r\n\t// The other lists can have a print statement saying &quot;This option needs to be implemented&quot;.\r\n\t// To score &quot;exemplary&quot; you must correctly implement the &quot;available&quot; list.\r\n        public static void printAnimals() {\r\n        \tif(userInput.equals(&quot;4&quot;)) {\r\n        \t\tSystem.out.println(dogList);\r\n        \t\treturn;\r\n        \t\t\r\n        }\r\n        else if (userInput.equals(&quot;5&quot;)) {\r\n        \tSystem.out.println(monkeyList);\r\n    \t\treturn;\r\n        }\r\n     }\r\n}\r\n```\r\n\r\n```\r\n```","title":"It 145 project 2","body":"<blockquote>\n<p>I'm having trouble getting the userInput to work for case 4 and onwards in the printAnimals() at the very bottom. It like the userInput variable is not being able to be accessed. After the user types 4 it should print the dogList then return back to the menu. But instead I just get errors when passing userInput into printAnimals at case 4 and at the if statement within printAnimals();</p>\n</blockquote>\n<pre><code>import java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class Driver {\n    private static ArrayList&lt;Dog&gt; dogList = new ArrayList&lt;Dog&gt;();\n    //Add a monkey Array list\n    private static ArrayList&lt;Monkey&gt; monkeyList = new ArrayList&lt;Monkey&gt;();\n    //This is a scanner to get user input\n    private static Scanner scanner = new Scanner(System.in);\n    \n    public static void main(String[] args) {\n        //Initialize variables \n        String userInput;\n        \n        initializeDogList();\n        initializeMonkeyList();\n\n       //Do-While loop to access menu\n       do{\n           //Display the menu\n           displayMenu();\n           //Get the user input \n           userInput = scanner.nextLine();\n           //Switch through each option the user can choose\n           switch(userInput) {\n                case &quot;1&quot;:\n                    intakeNewDog(scanner);\n                case &quot;2&quot;:\n                    intakeNewMonkey(scanner);\n                case &quot;3&quot;:\n                    reserveAnimal(scanner);\n                case &quot;4&quot;:\n                    printAnimals(userInput);\n                case &quot;5&quot;:\n                    printAnimals(userInput);\n                case &quot;6&quot;:\n                    printAnimals();\n                case &quot;q&quot;:\n                    break;\n                default:\n                    System.out.println(&quot;Invalid input, please try again. Enter 1-6 or q to quit.&quot;);\n           }\n        }while(!userInput.equals(&quot;q&quot;));\n\n    }\n\n    // This method prints the menu options\n    public static void displayMenu() {\n        System.out.println(&quot;\\n\\n&quot;);\n        System.out.println(&quot;\\t\\t\\t\\tRescue Animal System Menu&quot;);\n        System.out.println(&quot;[1] Intake a new dog&quot;);\n        System.out.println(&quot;[2] Intake a new monkey&quot;);\n        System.out.println(&quot;[3] Reserve an animal&quot;);\n        System.out.println(&quot;[4] Print a list of all dogs&quot;);\n        System.out.println(&quot;[5] Print a list of all monkeys&quot;);\n        System.out.println(&quot;[6] Print a list of all animals that are not reserved&quot;);\n        System.out.println(&quot;[q] Quit application&quot;);\n        System.out.println();\n        System.out.println(&quot;Enter a menu selection&quot;);\n    }\n    \n\n    // Adds dogs to a list for testing\n    public static void initializeDogList() {\n        Dog dog1 = new Dog(&quot;Spot&quot;, &quot;German Shepherd&quot;, &quot;male&quot;, &quot;1&quot;, &quot;25.6&quot;, &quot;05-12-2019&quot;, &quot;United States&quot;, &quot;intake&quot;, false, &quot;United States&quot;);\n        Dog dog2 = new Dog(&quot;Rex&quot;, &quot;Great Dane&quot;, &quot;male&quot;, &quot;3&quot;, &quot;35.2&quot;, &quot;02-03-2020&quot;, &quot;United States&quot;, &quot;Phase I&quot;, false, &quot;United States&quot;);\n        Dog dog3 = new Dog(&quot;Bella&quot;, &quot;Chihuahua&quot;, &quot;female&quot;, &quot;4&quot;, &quot;25.6&quot;, &quot;12-12-2019&quot;, &quot;Canada&quot;, &quot;in service&quot;, true, &quot;Canada&quot;);\n\n        dogList.add(dog1);\n        dogList.add(dog2);\n        dogList.add(dog3);\n    }\n\n\n    // Adds monkeys to a list for testing\n    //Optional for testing\n    public static void initializeMonkeyList() {\n        Monkey monkeyOne = new Monkey(&quot;DK&quot;, &quot;3&quot;, &quot;7&quot;, &quot;15&quot;, &quot;Guenon&quot;, &quot;male&quot;, &quot;4&quot;, &quot;15&quot;, &quot;4-1-22&quot;, &quot;Japan&quot;, &quot;intake&quot;, true, &quot;USA&quot;);\n        //Adds a new monkey to the ArrayList\n        monkeyList.add(monkeyOne);\n\n    }\n\n\n    // Complete the intakeNewDog method\n    // The input validation to check that the dog is not already in the list\n    // is done for you\n    public static void intakeNewDog(Scanner scanner) {\n        // Add the code to instantiate a new dog and add it to the appropriate list\n        System.out.println(&quot;What is the dog's name?&quot;);\n        String name = scanner.nextLine();\n       \n        String gender;\n        do {\n              System.out.println(&quot;What is the dog's gender?&quot;);\n              gender = scanner.nextLine().toLowerCase();\n        }while (!gender.equals(&quot;male&quot;) &amp;&amp; !gender.equals(&quot;female&quot;)); \n        \n        \n        System.out.println(&quot;What is the dog's age?&quot;);\n        String age = scanner.nextLine();\n        \n        System.out.println(&quot;What is the dog's weight?&quot;);\n        String weight = scanner.nextLine();\n        \n        System.out.println(&quot;When was the dog's acquired?&quot;);\n        String acquisitionDate = scanner.nextLine();\n        \n        System.out.println(&quot;Where was the dog acquired?&quot;);\n        String acquisitionCountry = scanner.nextLine();\n        \n        System.out.println(&quot;What is the dog training status?&quot;);\n        String trainingStatus = scanner.nextLine();\n        \n        \n        System.out.println(&quot;In what country is the dog in service?&quot;);\n        String inServiceCountry = scanner.nextLine();\n        \n        System.out.println(&quot;Is this dog reserved? True or False.&quot;);\n        String reservedSpot;\n        reservedSpot = scanner.nextLine();\n        System.out.println(&quot;reservedString: &quot; + reservedSpot);\n        boolean reserved;\n        for(Dog dog: dogList) {\n            if(dog.getName().equalsIgnoreCase(name)) {\n                System.out.println(&quot;\\n\\nThis dog is already in our system\\n\\n&quot;);\n                return; //returns to menu\n            }\n            if(!&quot;true&quot;.equals(reservedSpot) &amp;&amp; !&quot;false&quot;.equals(reservedSpot)) {\n                System.out.println(&quot;Re-input reservation status.&quot;);\n                reservedSpot = scanner.nextLine();\n             }\n             \n        }\n        reserved = &quot;true&quot;.equals(reservedSpot.toLowerCase());\n        //This creates a new dog from user input \n       Dog dog = new Dog(name, gender, age, weight, acquisitionDate, acquisitionCountry,trainingStatus ,inServiceCountry, reserved, inServiceCountry);\n        \n       //Print out after the dog has been added to the system \n       System.out.println(&quot;The dog has successfully been added to our system.&quot;);\n        //This adds the dog to the arrayList called dogList\n        dogList.add(dog);\n      //Returns back to menu\n        return;\n        \n    }\n\n\n        // Completed intakeNewMonkey\n    //Instantiate and add the new monkey to the appropriate list\n    //Made sure there could be no repeat of Monkeys\n        public static void intakeNewMonkey(Scanner scanner) {\n            System.out.println(&quot;What is the monkey's name&quot;);\n            String name = scanner.nextLine();\n            for(Monkey monkey: monkeyList) {\n                if(monkey.getName().equalsIgnoreCase(name)) {\n                    System.out.println(&quot;\\n\\nThis monkey is already in our system.\\n\\n&quot;);\n                    return; //returns to menu\n                }\n            }\n            \n            System.out.println(&quot;What is the monkey's tail lenght?&quot;);\n            String tailLength = scanner.nextLine();\n            \n            System.out.println(&quot;What is the monkey's height?&quot;);\n            String height = scanner.nextLine();\n            \n            System.out.println(&quot;What is the monkey's body Length?&quot;);\n            String bodyLength = scanner.nextLine();\n            \n            //Do while loop to get the monkey species\n            String species;\n            do {\n                System.out.println(&quot;What is the monkey's species?&quot;);\n                System.out.println(&quot;Species:Capuchin, Guenon, Macaque, Marmose, Squirrel monkey, Tamarin&quot;);\n                species = scanner.nextLine();\n            }while(!&quot;Capuchin&quot;.equals(species) &amp;&amp; !&quot;Guenon&quot;.equals(species) &amp;&amp; !&quot;Macaque&quot;.equals(species) &amp;&amp; !&quot;Marmose&quot;.equals(species) &amp;&amp;\n                    !&quot;Squirrel monkey&quot;.equals(species) &amp;&amp; !&quot;Tamarin&quot;.equals(species));\n            \n            \n            System.out.println(&quot;What is the monkey's gender?&quot;);\n            String gender = scanner.nextLine();\n            \n            System.out.println(&quot;What is the monkey's age?&quot;);\n            String age = scanner.nextLine();\n            \n            System.out.println(&quot;What is the monkey's weight?&quot;);\n            String weight = scanner.nextLine();\n            \n            System.out.println(&quot;When was the monkey's acquired?&quot;);\n            String acquisitionDate = scanner.nextLine();\n            \n            System.out.println(&quot;Where was the monkey acquired?&quot;);\n            String acquisitionCountry = scanner.nextLine();\n            \n            System.out.println(&quot;What is the monkey training status?&quot;);\n            String trainingStatus = scanner.nextLine();\n            \n            String reservedString;\n            System.out.println(&quot;Is this monkey reserved? True or False.&quot;);\n            \n            reservedString = scanner.nextLine();\n            \n            while (!reservedString.equalsIgnoreCase(&quot;true&quot;) &amp;&amp; !reservedString.equalsIgnoreCase(&quot;false&quot;)) {\n                System.out.println(&quot;Re-input reservation status.&quot;);\n                reservedString = scanner.nextLine();\n            }\n            boolean reserved = &quot;true&quot;.equals(reservedString.toLowerCase());\n     \n            \n            System.out.println(&quot;In what country is the monkey in service?&quot;);\n            String inServiceCountry = scanner.nextLine();\n            \n            //This creates a new monkey from user input \n            Monkey monkey = new Monkey(name, tailLength, height, bodyLength, species,\n                    gender ,age, weight, acquisitionDate, acquisitionCountry,trainingStatus ,reserved, inServiceCountry);\n            \n            //This adds the monkey to the arrayList called monkeyList\n            monkeyList.add(monkey);\n            //Print out after the monkey has been added to the system \n            System.out.println(&quot;The monkey has successfully been added to our system.&quot;);\n            return;\n        }\n\n        // Complete reserveAnimal\n        // You will need to find the animal by animal type and in service country\n        public static void reserveAnimal(Scanner scanner) {\n            System.out.println(&quot;Please enter a animal type.&quot;);\n            String animalType = scanner.nextLine().toLowerCase();\n            \n            System.out.println(&quot;Enter service country: &quot;);\n            String inServiceCountry = scanner.nextLine();\n            \n            if(animalType.equalsIgnoreCase(&quot;dog&quot;)) {\n                for(Dog dog: dogList) {\n                    if(dog.getInServiceLocation().equals(inServiceCountry)) {\n                        //update the reserved attribute\n                        dog.setReserved(true);\n                    }\n                }\n                return;\n            }\n            else if(animalType.equalsIgnoreCase(&quot;monkey&quot;)) {\n                for(Monkey monkey: monkeyList) {\n                    if(monkey.getInServiceLocation().equals(inServiceCountry)) {\n                        //update the reserved attribute\n                        monkey.setReserved(true);\n                    }\n                }\n                return;\n            }\n            else {\n                System.out.println(&quot;No animals of that type and location are available.&quot;);\n                return;\n            }\n            \n        }\n\n        // Complete printAnimals\n        // Include the animal name, status, acquisition country and if the animal is reserved.\n    // Remember that this method connects to three different menu items.\n        // The printAnimals() method has three different outputs\n        // based on the listType parameter\n        // dog - prints the list of dogs\n        // monkey - prints the list of monkeys\n        // available - prints a combined list of all animals that are\n        // fully trained (&quot;in service&quot;) but not reserved \n    // Remember that you only have to fully implement ONE of these lists. \n    // The other lists can have a print statement saying &quot;This option needs to be implemented&quot;.\n    // To score &quot;exemplary&quot; you must correctly implement the &quot;available&quot; list.\n        public static void printAnimals() {\n            if(userInput.equals(&quot;4&quot;)) {\n                System.out.println(dogList);\n                return;\n                \n        }\n        else if (userInput.equals(&quot;5&quot;)) {\n            System.out.println(monkeyList);\n            return;\n        }\n     }\n}\n</code></pre>\n<pre><code></code></pre>\n"},{"tags":["java","spring","jdbc","jdbctemplate"],"answers":[{"comments":[{"owner":{"account_id":3143684,"reputation":687,"user_id":2658627,"accept_rate":33,"display_name":"anonymous"},"score":0,"creation_date":1445452156,"post_id":33266475,"comment_id":54334408,"body_markdown":"I have a lot of cases where I want a null Integer, mainly if I have an optional foreign key, this is done through a nullable Integer type in the database. I was looking at http://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html#getObject-java.lang.String-java.lang.Class-, and it says &quot;Retrieves the value of the designated column in the current row of this ResultSet object and will convert from the SQL type of the column to the requested Java data type, if the conversion is supported. If the conversion is not supported or null is specified for the type, a SQLException is thrown.&quot;...","body":"I have a lot of cases where I want a null Integer, mainly if I have an optional foreign key, this is done through a nullable Integer type in the database. I was looking at <a href=\"http://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html#getObject-java.lang.String-java.lang.Class-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/sql/&hellip;</a>, and it says &quot;Retrieves the value of the designated column in the current row of this ResultSet object and will convert from the SQL type of the column to the requested Java data type, if the conversion is supported. If the conversion is not supported or null is specified for the type, a SQLException is thrown.&quot;..."},{"owner":{"account_id":3143684,"reputation":687,"user_id":2658627,"accept_rate":33,"display_name":"anonymous"},"score":0,"creation_date":1445452197,"post_id":33266475,"comment_id":54334434,"body_markdown":"... I took this to mean it will try a class cast from the JDBC driver result, which should work for a numeric value being cast to an Integer.","body":"... I took this to mean it will try a class cast from the JDBC driver result, which should work for a numeric value being cast to an Integer."},{"owner":{"account_id":3315004,"reputation":1317,"user_id":2787584,"display_name":"aaiezza"},"score":0,"creation_date":1445452410,"post_id":33266475,"comment_id":54334551,"body_markdown":"In that case, I would at least attempt that your first solution. The wasNull() method is there so I would assume that is best practice:\n\nInteger resultingActionId = rs.getInt(&quot;RESULTING_ACTION_ID&quot;);\nif (rs.wasNull) {\n    resultingActionId = null\n}","body":"In that case, I would at least attempt that your first solution. The wasNull() method is there so I would assume that is best practice:  Integer resultingActionId = rs.getInt(&quot;RESULTING_ACTION_ID&quot;); if (rs.wasNull) {     resultingActionId = null }"},{"owner":{"account_id":3315004,"reputation":1317,"user_id":2787584,"display_name":"aaiezza"},"score":0,"creation_date":1445452485,"post_id":33266475,"comment_id":54334601,"body_markdown":"You don&#39;t want that to stay 0 otherwise. Which is how that is handled in the case of the SQL_NULL for an integer type.","body":"You don&#39;t want that to stay 0 otherwise. Which is how that is handled in the case of the SQL_NULL for an integer type."},{"owner":{"account_id":3143684,"reputation":687,"user_id":2658627,"accept_rate":33,"display_name":"anonymous"},"score":1,"creation_date":1445453160,"post_id":33266475,"comment_id":54335013,"body_markdown":"That&#39;s what I had as example 1 of pulling an Integer for comparing different ways of dealing with nulls in my question; to pull the value from `ResultSet.getInt(String columnLabel)` and check `ResultSet.wasNull()` right after. I want to know what the difference between that `Integer awesomeness = (Integer) rs.getObject(&quot;awesomeness&quot;);` and `Integer awesomeness = rs.getObject(&quot;awesomeness&quot;, Integer.class);` is from a best-practices / known-practices / efficiency / executed code standpoint.","body":"That&#39;s what I had as example 1 of pulling an Integer for comparing different ways of dealing with nulls in my question; to pull the value from <code>ResultSet.getInt(String columnLabel)</code> and check <code>ResultSet.wasNull()</code> right after. I want to know what the difference between that <code>Integer awesomeness = (Integer) rs.getObject(&quot;awesomeness&quot;);</code> and <code>Integer awesomeness = rs.getObject(&quot;awesomeness&quot;, Integer.class);</code> is from a best-practices / known-practices / efficiency / executed code standpoint."},{"owner":{"account_id":3315004,"reputation":1317,"user_id":2787584,"display_name":"aaiezza"},"score":0,"creation_date":1446216528,"post_id":33266475,"comment_id":54665436,"body_markdown":"I see now. Forgive me. Best practice would definitely to use neither of those methods for primitive types of course. For any other custom types, you technically want to use the latter `rs.getObject(&quot;column&quot;, ClassName.class)`. Using this method ensures type safety which is always the better alternative to casting. HOWEVER, the caveat is that most implementations of `ResultSet` don&#39;t support this method and allow only the former method therein relying on your SQL connector for a map of SQL types to `java.sql.Structs`. So technically you don&#39;t have a choice.","body":"I see now. Forgive me. Best practice would definitely to use neither of those methods for primitive types of course. For any other custom types, you technically want to use the latter <code>rs.getObject(&quot;column&quot;, ClassName.class)</code>. Using this method ensures type safety which is always the better alternative to casting. HOWEVER, the caveat is that most implementations of <code>ResultSet</code> don&#39;t support this method and allow only the former method therein relying on your SQL connector for a map of SQL types to <code>java.sql.Structs</code>. So technically you don&#39;t have a choice."},{"owner":{"account_id":3315004,"reputation":1317,"user_id":2787584,"display_name":"aaiezza"},"score":0,"creation_date":1446216685,"post_id":33266475,"comment_id":54665529,"body_markdown":"`JdbcRowSetImpl` for instance has this in its method body: `public &lt;T&gt; T getObject( String paramString, Class&lt;T&gt; paramClass ) throws SQLException\n    {\n        throw new SQLFeatureNotSupportedException( &quot;Not supported yet.&quot; );\n    }`","body":"<code>JdbcRowSetImpl</code> for instance has this in its method body: <code>public &lt;T&gt; T getObject( String paramString, Class&lt;T&gt; paramClass ) throws SQLException     {         throw new SQLFeatureNotSupportedException( &quot;Not supported yet.&quot; );     }</code>"}],"tags":[],"owner":{"account_id":3315004,"reputation":1317,"user_id":2787584,"display_name":"aaiezza"},"comment_count":7,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1445452625,"creation_date":1445451502,"answer_id":33266475,"question_id":33266078,"body_markdown":"If you take a look at [java.sql.ResultSet][1], you can see you don&#39;t need to be so explicit. Actually, unless you have a typeMapper for you connection which allows you to use the getObject method, it will not work ([java.sql.ResultSet.getObject][2]).\r\n\r\nI don&#39;t know if it would help you, but I managed to find a RowMapper of my own that worked great for my needs.\r\n\r\n    private class ShabaUserMapper implements RowMapper&lt;ShabaUser&gt;\r\n    {\r\n        @Override\r\n        public ShabaUser mapRow( ResultSet rs, int rowNum ) throws SQLException\r\n        {\r\n            Collection&lt;SimpleGrantedAuthority&gt; roles = new ArrayList&lt;SimpleGrantedAuthority&gt;();\r\n\r\n            String auths = rs.getString( &quot;role&quot; );\r\n\r\n            roles.add( new SimpleGrantedAuthority( auths ) );\r\n\r\n            ShabaUser user = new ShabaUser( rs.getString( &quot;username&quot; ), rs.getString( &quot;password&quot; ),\r\n                    rs.getBoolean( &quot;enabled&quot; ), rs.getString( &quot;first_name&quot; ),\r\n                    rs.getString( &quot;last_name&quot; ), rs.getString( &quot;email&quot; ),\r\n                    rs.getString( &quot;date_joined&quot; ), rs.getString( &quot;last_online&quot; ), true, true, true,\r\n                    roles );\r\n\r\n            // Can be null!\r\n            Integer awesomeness = rs.getInt( &quot;awesomeness&quot; );\r\n            if ( rs.wasNull() )\r\n            {\r\n                awesomeness = null;\r\n            }\r\n\r\n            user.setAwesomeness( awesomeness );\r\n\r\n            return user;\r\n        }\r\n    }\r\n\r\n    private class ShabaUserListExtractor implements ResultSetExtractor&lt;List&lt;ShabaUser&gt;&gt;\r\n    {\r\n        private final ShabaUserMapper rowMapper;\r\n\r\n        private int                   rowsExpected;\r\n\r\n        public ShabaUserListExtractor()\r\n        {\r\n            this( new ShabaUserMapper(), 0 );\r\n        }\r\n\r\n        public ShabaUserListExtractor( ShabaUserMapper rowMapper, int rowsExpected )\r\n        {\r\n            Assert.notNull( rowMapper, &quot;RowMapper is required&quot; );\r\n            this.rowMapper = rowMapper;\r\n            this.rowsExpected = rowsExpected;\r\n        }\r\n\r\n        @Override\r\n        public List&lt;ShabaUser&gt; extractData( ResultSet rs ) throws SQLException\r\n        {\r\n            HashMap&lt;String, ShabaUser&gt; results = ( this.rowsExpected &gt; 0\r\n                                                                        ? new HashMap&lt;String, ShabaUser&gt;(\r\n                                                                                rowsExpected )\r\n                                                                        : new HashMap&lt;String, ShabaUser&gt;() );\r\n            int rowNum = 0;\r\n            while ( rs.next() )\r\n            {\r\n                ShabaUser user = rowMapper.mapRow( rs, rowNum++ );\r\n\r\n                if ( results.containsKey( user.getUsername() ) )\r\n                {\r\n                    ShabaUser inUser = results.get( user.getUsername() );\r\n                    ArrayList&lt;GrantedAuthority&gt; combinedAuthorities = new ArrayList&lt;GrantedAuthority&gt;();\r\n\r\n                    combinedAuthorities.addAll( inUser.getAuthorities() );\r\n                    combinedAuthorities.addAll( user.getAuthorities() );\r\n\r\n                    results.put( user.getUsername(),\r\n                        createUserDetails( user.getUsername(), user, combinedAuthorities ) );\r\n                } else\r\n                {\r\n                    results.put( user.getUsername(), user );\r\n                }\r\n            }\r\n\r\n            return new ArrayList&lt;ShabaUser&gt;( results.values() );\r\n        }\r\n    }\r\n\r\nI realize this is a lot of code, but hopefully you can see what was accomplished here. The actual RowMapper implementation is actually meant to house all the &quot;dirty work&quot; for extracting your object from row information.\r\n\r\nSo long as your database is setup correctly and you make it so NOT NULL is on required columns, you will never run into the problem of pulling out a row that is empty. Though I suppose it wouldn&#39;t hurt to check for a null response from your ResultSet, you&#39;ll still just end up throwing an exception anyways if the column should of had a value.\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html?is-external=true\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html#getObject-int-","title":"Java Spring - RowMapper ResultSet - Integer/null values","body":"<p>If you take a look at <a href=\"http://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html?is-external=true\" rel=\"nofollow\">java.sql.ResultSet</a>, you can see you don't need to be so explicit. Actually, unless you have a typeMapper for you connection which allows you to use the getObject method, it will not work (<a href=\"http://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html#getObject-int-\" rel=\"nofollow\">java.sql.ResultSet.getObject</a>).</p>\n\n<p>I don't know if it would help you, but I managed to find a RowMapper of my own that worked great for my needs.</p>\n\n<pre><code>private class ShabaUserMapper implements RowMapper&lt;ShabaUser&gt;\n{\n    @Override\n    public ShabaUser mapRow( ResultSet rs, int rowNum ) throws SQLException\n    {\n        Collection&lt;SimpleGrantedAuthority&gt; roles = new ArrayList&lt;SimpleGrantedAuthority&gt;();\n\n        String auths = rs.getString( \"role\" );\n\n        roles.add( new SimpleGrantedAuthority( auths ) );\n\n        ShabaUser user = new ShabaUser( rs.getString( \"username\" ), rs.getString( \"password\" ),\n                rs.getBoolean( \"enabled\" ), rs.getString( \"first_name\" ),\n                rs.getString( \"last_name\" ), rs.getString( \"email\" ),\n                rs.getString( \"date_joined\" ), rs.getString( \"last_online\" ), true, true, true,\n                roles );\n\n        // Can be null!\n        Integer awesomeness = rs.getInt( \"awesomeness\" );\n        if ( rs.wasNull() )\n        {\n            awesomeness = null;\n        }\n\n        user.setAwesomeness( awesomeness );\n\n        return user;\n    }\n}\n\nprivate class ShabaUserListExtractor implements ResultSetExtractor&lt;List&lt;ShabaUser&gt;&gt;\n{\n    private final ShabaUserMapper rowMapper;\n\n    private int                   rowsExpected;\n\n    public ShabaUserListExtractor()\n    {\n        this( new ShabaUserMapper(), 0 );\n    }\n\n    public ShabaUserListExtractor( ShabaUserMapper rowMapper, int rowsExpected )\n    {\n        Assert.notNull( rowMapper, \"RowMapper is required\" );\n        this.rowMapper = rowMapper;\n        this.rowsExpected = rowsExpected;\n    }\n\n    @Override\n    public List&lt;ShabaUser&gt; extractData( ResultSet rs ) throws SQLException\n    {\n        HashMap&lt;String, ShabaUser&gt; results = ( this.rowsExpected &gt; 0\n                                                                    ? new HashMap&lt;String, ShabaUser&gt;(\n                                                                            rowsExpected )\n                                                                    : new HashMap&lt;String, ShabaUser&gt;() );\n        int rowNum = 0;\n        while ( rs.next() )\n        {\n            ShabaUser user = rowMapper.mapRow( rs, rowNum++ );\n\n            if ( results.containsKey( user.getUsername() ) )\n            {\n                ShabaUser inUser = results.get( user.getUsername() );\n                ArrayList&lt;GrantedAuthority&gt; combinedAuthorities = new ArrayList&lt;GrantedAuthority&gt;();\n\n                combinedAuthorities.addAll( inUser.getAuthorities() );\n                combinedAuthorities.addAll( user.getAuthorities() );\n\n                results.put( user.getUsername(),\n                    createUserDetails( user.getUsername(), user, combinedAuthorities ) );\n            } else\n            {\n                results.put( user.getUsername(), user );\n            }\n        }\n\n        return new ArrayList&lt;ShabaUser&gt;( results.values() );\n    }\n}\n</code></pre>\n\n<p>I realize this is a lot of code, but hopefully you can see what was accomplished here. The actual RowMapper implementation is actually meant to house all the \"dirty work\" for extracting your object from row information.</p>\n\n<p>So long as your database is setup correctly and you make it so NOT NULL is on required columns, you will never run into the problem of pulling out a row that is empty. Though I suppose it wouldn't hurt to check for a null response from your ResultSet, you'll still just end up throwing an exception anyways if the column should of had a value.</p>\n"},{"tags":[],"owner":{"account_id":475533,"reputation":6984,"user_id":885922,"accept_rate":86,"display_name":"xlm"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681364770,"creation_date":1617079402,"answer_id":66864916,"question_id":33266078,"body_markdown":"### TLDR\r\n* Use `resultSet.getXXX(String columnLabel)` if no `SQL NULL` allowed, or you only care about getting back a primitive (no object, boxed or array types)\r\n* Use `resultSet.getObject(String columnLabel, Class type)` if value could be `SQL NULL` but DO NOT unbox if type is a boxed type e.g. `Integer` as you could get `NullPointerException` since primitives can&#39;t be `null`\r\n* Use `resultSet.getObject(String columnLabel)` with casting if you&#39;re running Java 6\r\n\r\n\r\n### Details:\r\n\r\nIf a column does not allow `SQL NULL`, or your code *strictly* needs or expects a primitive i.e. no object types (this includes boxed types e.g. `Integer`, [primitive arrays which are actually objects][1] e.g. `byte[]`) then use the specific get method:\r\n\r\n```java\r\n// Integer is 0 if value is SQL NULL\r\nint i = resultSet.getInt(column);\r\n\r\n// This is fine but Integer will never be null e.g. Integer.valueOf(0) if SQL NULL\r\n// This may or may not be what you want\r\nInteger j = resultSet.getInt(column);\r\n```\r\n\r\nAs far as I can tell, the reason for this method is convenience as it handles `SQL NULL` gracefully where you *must* have a primitive since [primitives cannot be `null`][2] e.g. return 0 for `int`.\r\n\r\nIf the column does allow `SQL NULL`, or your code expects a object type (including boxed types or arrays) then use `resultSet.getObject` with the type&#39;s class, but DO NOT unbox boxed types when using this method:\r\n\r\n```java\r\n// Integer will be null on SQL NULL but that&#39;s OK for boxed types\r\nInteger i = resultSet.getObject(column, Integer.class);\r\n\r\n// Throws NullPointerException on SQL NULL since primitives can&#39;t be null\r\nint unbox = resultSet.getObject(column, Integer.class);\r\n\r\n// Integer will be 0 since getInt returns 0 on SQL NULL\r\nInteger autobox = resultSet.getInt(column);\r\n```\r\n\r\nThis method is also useful for additional SQL types that are supported but do not have a specific get method i.e. are beyond the minimum specified in JDBC specification [JSR-221][3]:\r\n\r\n```java\r\n// No getUUID method but it&#39;s supported by Postgres so no need for custom mapping\r\nUUID uuid = resultSet.getObject(column, UUID.class);\r\n```\r\n\r\nBut note this method wasn&#39;t added until Java 7, so if you were on Java 6 you would need cast it:\r\n\r\n```java\r\nUUID uuid = (UUID) resultSet.getObject(column);\r\n```\r\n\r\nSo unless you really don&#39;t know or care about the return type, there&#39;s no reason to use this unless you prefer it stylistically, or you need to run on Java 6.\r\n\r\nLastly my strong suggestion is to be judicious when using (or unboxing) boxed types when working with JDBC to avoid unexpected `NullPointerException`. Either avoid `SQL NULL` in your schema e.g. default to 0 if you can, or explicitly check/convert if you can&#39;t be sure.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/12806739/is-an-array-a-primitive-type-or-an-object-or-something-else-entirely\r\n  [2]: https://stackoverflow.com/q/2254435/885922\r\n  [3]: http://jcp.org/en/jsr/detail?id=221","title":"Java Spring - RowMapper ResultSet - Integer/null values","body":"<h3>TLDR</h3>\n<ul>\n<li>Use <code>resultSet.getXXX(String columnLabel)</code> if no <code>SQL NULL</code> allowed, or you only care about getting back a primitive (no object, boxed or array types)</li>\n<li>Use <code>resultSet.getObject(String columnLabel, Class type)</code> if value could be <code>SQL NULL</code> but DO NOT unbox if type is a boxed type e.g. <code>Integer</code> as you could get <code>NullPointerException</code> since primitives can't be <code>null</code></li>\n<li>Use <code>resultSet.getObject(String columnLabel)</code> with casting if you're running Java 6</li>\n</ul>\n<h3>Details:</h3>\n<p>If a column does not allow <code>SQL NULL</code>, or your code <em>strictly</em> needs or expects a primitive i.e. no object types (this includes boxed types e.g. <code>Integer</code>, <a href=\"https://stackoverflow.com/questions/12806739/is-an-array-a-primitive-type-or-an-object-or-something-else-entirely\">primitive arrays which are actually objects</a> e.g. <code>byte[]</code>) then use the specific get method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Integer is 0 if value is SQL NULL\nint i = resultSet.getInt(column);\n\n// This is fine but Integer will never be null e.g. Integer.valueOf(0) if SQL NULL\n// This may or may not be what you want\nInteger j = resultSet.getInt(column);\n</code></pre>\n<p>As far as I can tell, the reason for this method is convenience as it handles <code>SQL NULL</code> gracefully where you <em>must</em> have a primitive since <a href=\"https://stackoverflow.com/q/2254435/885922\">primitives cannot be <code>null</code></a> e.g. return 0 for <code>int</code>.</p>\n<p>If the column does allow <code>SQL NULL</code>, or your code expects a object type (including boxed types or arrays) then use <code>resultSet.getObject</code> with the type's class, but DO NOT unbox boxed types when using this method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Integer will be null on SQL NULL but that's OK for boxed types\nInteger i = resultSet.getObject(column, Integer.class);\n\n// Throws NullPointerException on SQL NULL since primitives can't be null\nint unbox = resultSet.getObject(column, Integer.class);\n\n// Integer will be 0 since getInt returns 0 on SQL NULL\nInteger autobox = resultSet.getInt(column);\n</code></pre>\n<p>This method is also useful for additional SQL types that are supported but do not have a specific get method i.e. are beyond the minimum specified in JDBC specification <a href=\"http://jcp.org/en/jsr/detail?id=221\" rel=\"nofollow noreferrer\">JSR-221</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// No getUUID method but it's supported by Postgres so no need for custom mapping\nUUID uuid = resultSet.getObject(column, UUID.class);\n</code></pre>\n<p>But note this method wasn't added until Java 7, so if you were on Java 6 you would need cast it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>UUID uuid = (UUID) resultSet.getObject(column);\n</code></pre>\n<p>So unless you really don't know or care about the return type, there's no reason to use this unless you prefer it stylistically, or you need to run on Java 6.</p>\n<p>Lastly my strong suggestion is to be judicious when using (or unboxing) boxed types when working with JDBC to avoid unexpected <code>NullPointerException</code>. Either avoid <code>SQL NULL</code> in your schema e.g. default to 0 if you can, or explicitly check/convert if you can't be sure.</p>\n"}],"owner":{"account_id":3143684,"reputation":687,"user_id":2658627,"accept_rate":33,"display_name":"anonymous"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23612,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":2,"score":12,"last_activity_date":1681364770,"creation_date":1445450036,"question_id":33266078,"body_markdown":"I have a Java SE 8 Spring 4.1.6-RELEASE application, where I am implementing the [&lt;code&gt;org.springframework.jdbc.core.RowMapper&amp;lt;T&amp;gt;&lt;/code&gt;][1] interface, and I had some questions about the [&lt;code&gt;java.sql.ResultSet&lt;/code&gt;][2] interface that is passed in its [&lt;code&gt;T mapRow(ResultSet rs, int rowNum)&lt;/code&gt;][3] method.\r\n\r\nWhen I inspect the &lt;code&gt;ResultSet&lt;/code&gt; class, I see a bunch of methods to get column values back:\r\n\r\n&lt;pre&gt;\r\n╔══════════════╦═════════════════════╦════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╗\r\n║ Return Type  ║       Method        ║                                                                   Return (javadoc, se 8)                                                                   ║\r\n╠══════════════╬═════════════════════╬════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╣\r\n║ String       ║ getString           ║ the column value; if the value is SQL NULL, the value returned is null                                                                                     ║\r\n║ boolean      ║ getBoolean          ║ the column value; if the value is SQL NULL, the value returned is false                                                                                    ║\r\n║ byte         ║ getByte             ║ the column value; if the value is SQL NULL, the value returned is 0                                                                                        ║\r\n║ short        ║ getShort            ║ the column value; if the value is SQL NULL, the value returned is 0                                                                                        ║\r\n║ int          ║ getInt              ║ the column value; if the value is SQL NULL, the value returned is 0                                                                                        ║\r\n║ long         ║ getLong             ║ the column value; if the value is SQL NULL, the value returned is 0                                                                                        ║\r\n║ float        ║ getFloat            ║ the column value; if the value is SQL NULL, the value returned is 0                                                                                        ║\r\n║ double       ║ getDouble           ║ the column value; if the value is SQL NULL, the value returned is 0                                                                                        ║\r\n║ BigDecimal   ║ getBigDecimal       ║ the column value; if the value is SQL NULL, the value returned is null                                                                                     ║\r\n║ byte[]       ║ getBytes            ║ the column value; if the value is SQL NULL, the value returned is null                                                                                     ║\r\n║ Date         ║ getDate             ║ the column value; if the value is SQL NULL, the value returned is null                                                                                     ║\r\n║ Time         ║ getTime             ║ the column value; if the value is SQL NULL, the value returned is null                                                                                     ║\r\n║ Timestamp    ║ getTimestamp        ║ the column value; if the value is SQL NULL, the value returned is null                                                                                     ║\r\n║ InputStream  ║ getAsciiStream      ║ a Java input stream that delivers the database column value as a stream of one-byte ASCII characters; if the value is SQL NULL, the value returned is null ║\r\n║ Reader       ║ getCharacterStream  ║ a java.io.Reader object that contains the column value; if the value is SQL NULL, the value returned is null in the Java programming language              ║\r\n║ InputStream  ║ getBinaryStream     ║ a Java input stream that delivers the database column value as a stream of uninterpreted bytes; if the value is SQL NULL, the value returned is null       ║\r\n║ &amp;lt;T&amp;gt; T        ║ getObject           ║ an instance of type holding the column value                                                                                                               ║\r\n╚══════════════╩═════════════════════╩════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╝\r\n&lt;/pre&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\nIs the genernal expectation / practice to call:\r\n\r\n    rs.getObject(&quot;COLUMN_NAME&quot;, Boolean.class);\r\n\r\n    rs.getObject(&quot;COLUMN_NAME&quot;, Byte.class);\r\n\r\n    rs.getObject(&quot;COLUMN_NAME&quot;, Short.class);\r\n\r\n    rs.getObject(&quot;COLUMN_NAME&quot;, Integer.class);\r\n\r\n    rs.getObject(&quot;COLUMN_NAME&quot;, Long.class);\r\n\r\netc., for all of the primitive types? As everything else returns &lt;code&gt;null&lt;/code&gt; for the instance of &lt;code&gt;SQL NULL&lt;/code&gt;.\r\n\r\nIf so, what&#39;s the point of having all the methods for the different types when the typed Object method is there?\r\n\r\nAlso, what are the pros/cons of each approach?\r\n\r\n1. Using &lt;code&gt;getInt(String columnLabel)&lt;/code&gt;:\r\n\r\n    &lt;pre&gt;&lt;code&gt;Integer resultingActionId = rs.getInt(&quot;RESULTING_ACTION_ID&quot;);\r\n    if (rs.wasNull) {\r\n        resultingActionId = null\r\n    }&lt;/pre&gt;&lt;/code&gt;\r\n\r\n2. Using &lt;code&gt;getObject(String columnLabel)&lt;/code&gt; and casting to &lt;code&gt;Integer&lt;/code&gt;:\r\n\r\n    &lt;pre&gt;&lt;code&gt;Integer resultingActionId = (Integer) rs.getObject(&quot;RESULTING_ACTION_ID&quot;);&lt;/pre&gt;&lt;/code&gt;\r\n\r\n3. Using &lt;code&gt;getObject(String columnLabel, Class&lt;T&gt; type)&lt;/code&gt;:\r\n\r\n    &lt;pre&gt;&lt;code&gt;Integer resultingActionId = rs.getObject(&quot;RESULTING_ACTION_ID&quot;, Integer.class);&lt;/pre&gt;&lt;/code&gt;\r\n\r\n\r\nFor instance, I noticed the [&lt;code&gt;org.springframework.jdbc.core.JdbcTemplate&lt;/code&gt;][4] used to have &lt;s&gt;&lt;code&gt;queryForLong&lt;/code&gt;&lt;/s&gt;, &lt;s&gt;&lt;code&gt;queryForInt&lt;/code&gt;&lt;/s&gt;, etc. methods for getting a single value from a single row query and replaced them all in favor of a typed &lt;code&gt;queryForObject&lt;/code&gt; method.\r\n\r\n\r\nThanks!\r\n\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/4.1.6.RELEASE/javadoc-api/org/springframework/jdbc/core/RowMapper.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html\r\n  [3]: http://docs.spring.io/spring/docs/4.1.6.RELEASE/javadoc-api/org/springframework/jdbc/core/RowMapper.html#mapRow-java.sql.ResultSet-int-\r\n  [4]: http://docs.spring.io/spring/docs/4.1.6.RELEASE/javadoc-api/org/springframework/jdbc/core/JdbcTemplate.html","title":"Java Spring - RowMapper ResultSet - Integer/null values","body":"<p>I have a Java SE 8 Spring 4.1.6-RELEASE application, where I am implementing the <a href=\"http://docs.spring.io/spring/docs/4.1.6.RELEASE/javadoc-api/org/springframework/jdbc/core/RowMapper.html\" rel=\"noreferrer\"><code>org.springframework.jdbc.core.RowMapper&lt;T&gt;</code></a> interface, and I had some questions about the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html\" rel=\"noreferrer\"><code>java.sql.ResultSet</code></a> interface that is passed in its <a href=\"http://docs.spring.io/spring/docs/4.1.6.RELEASE/javadoc-api/org/springframework/jdbc/core/RowMapper.html#mapRow-java.sql.ResultSet-int-\" rel=\"noreferrer\"><code>T mapRow(ResultSet rs, int rowNum)</code></a> method.</p>\n\n<p>When I inspect the <code>ResultSet</code> class, I see a bunch of methods to get column values back:</p>\n\n<pre>\n╔══════════════╦═════════════════════╦════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╗\n║ Return Type  ║       Method        ║                                                                   Return (javadoc, se 8)                                                                   ║\n╠══════════════╬═════════════════════╬════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╣\n║ String       ║ getString           ║ the column value; if the value is SQL NULL, the value returned is null                                                                                     ║\n║ boolean      ║ getBoolean          ║ the column value; if the value is SQL NULL, the value returned is false                                                                                    ║\n║ byte         ║ getByte             ║ the column value; if the value is SQL NULL, the value returned is 0                                                                                        ║\n║ short        ║ getShort            ║ the column value; if the value is SQL NULL, the value returned is 0                                                                                        ║\n║ int          ║ getInt              ║ the column value; if the value is SQL NULL, the value returned is 0                                                                                        ║\n║ long         ║ getLong             ║ the column value; if the value is SQL NULL, the value returned is 0                                                                                        ║\n║ float        ║ getFloat            ║ the column value; if the value is SQL NULL, the value returned is 0                                                                                        ║\n║ double       ║ getDouble           ║ the column value; if the value is SQL NULL, the value returned is 0                                                                                        ║\n║ BigDecimal   ║ getBigDecimal       ║ the column value; if the value is SQL NULL, the value returned is null                                                                                     ║\n║ byte[]       ║ getBytes            ║ the column value; if the value is SQL NULL, the value returned is null                                                                                     ║\n║ Date         ║ getDate             ║ the column value; if the value is SQL NULL, the value returned is null                                                                                     ║\n║ Time         ║ getTime             ║ the column value; if the value is SQL NULL, the value returned is null                                                                                     ║\n║ Timestamp    ║ getTimestamp        ║ the column value; if the value is SQL NULL, the value returned is null                                                                                     ║\n║ InputStream  ║ getAsciiStream      ║ a Java input stream that delivers the database column value as a stream of one-byte ASCII characters; if the value is SQL NULL, the value returned is null ║\n║ Reader       ║ getCharacterStream  ║ a java.io.Reader object that contains the column value; if the value is SQL NULL, the value returned is null in the Java programming language              ║\n║ InputStream  ║ getBinaryStream     ║ a Java input stream that delivers the database column value as a stream of uninterpreted bytes; if the value is SQL NULL, the value returned is null       ║\n║ &lt;T&gt; T        ║ getObject           ║ an instance of type holding the column value                                                                                                               ║\n╚══════════════╩═════════════════════╩════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╝\n</pre>\n\n<p>Is the genernal expectation / practice to call:</p>\n\n<pre><code>rs.getObject(\"COLUMN_NAME\", Boolean.class);\n\nrs.getObject(\"COLUMN_NAME\", Byte.class);\n\nrs.getObject(\"COLUMN_NAME\", Short.class);\n\nrs.getObject(\"COLUMN_NAME\", Integer.class);\n\nrs.getObject(\"COLUMN_NAME\", Long.class);\n</code></pre>\n\n<p>etc., for all of the primitive types? As everything else returns <code>null</code> for the instance of <code>SQL NULL</code>.</p>\n\n<p>If so, what's the point of having all the methods for the different types when the typed Object method is there?</p>\n\n<p>Also, what are the pros/cons of each approach?</p>\n\n<ol>\n<li><p>Using <code>getInt(String columnLabel)</code>:</p>\n\n<p><pre><code>Integer resultingActionId = rs.getInt(\"RESULTING_ACTION_ID\");\nif (rs.wasNull) {\n    resultingActionId = null\n}</pre></code></p></li>\n<li><p>Using <code>getObject(String columnLabel)</code> and casting to <code>Integer</code>:</p>\n\n<p><pre><code>Integer resultingActionId = (Integer) rs.getObject(\"RESULTING_ACTION_ID\");</pre></code></p></li>\n<li><p>Using <code>getObject(String columnLabel, Class type)</code>:</p>\n\n<p><pre><code>Integer resultingActionId = rs.getObject(\"RESULTING_ACTION_ID\", Integer.class);</pre></code></p></li>\n</ol>\n\n<p>For instance, I noticed the <a href=\"http://docs.spring.io/spring/docs/4.1.6.RELEASE/javadoc-api/org/springframework/jdbc/core/JdbcTemplate.html\" rel=\"noreferrer\"><code>org.springframework.jdbc.core.JdbcTemplate</code></a> used to have <s><code>queryForLong</code></s>, <s><code>queryForInt</code></s>, etc. methods for getting a single value from a single row query and replaced them all in favor of a typed <code>queryForObject</code> method.</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","testing","selenium","automation","selenium-webdriver"],"comments":[{"owner":{"account_id":1244297,"reputation":4258,"user_id":1206062,"accept_rate":55,"display_name":"Harshavardhan Konakanchi"},"score":0,"creation_date":1368527462,"post_id":12729265,"comment_id":23756791,"body_markdown":"I think 2 tabs are same as 2 windows in most of the cases","body":"I think 2 tabs are same as 2 windows in most of the cases"},{"owner":{"account_id":306604,"reputation":37084,"user_id":617450,"accept_rate":61,"display_name":"Ripon Al Wasim"},"score":0,"creation_date":1589389783,"post_id":12729265,"comment_id":109277516,"body_markdown":"Please see:  https://riponalwasim.blogspot.com/2020/05/switch-to-another-tab-of-same-browser.html","body":"Please see:  <a href=\"https://riponalwasim.blogspot.com/2020/05/switch-to-another-tab-of-same-browser.html\" rel=\"nofollow noreferrer\">riponalwasim.blogspot.com/2020/05/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":1116363,"reputation":1237,"user_id":1105597,"accept_rate":78,"display_name":"Jury"},"score":0,"creation_date":1455448646,"post_id":12730918,"comment_id":58486185,"body_markdown":"Works only on Chrome","body":"Works only on Chrome"}],"tags":[],"owner":{"account_id":1233142,"reputation":5617,"user_id":1197313,"accept_rate":25,"display_name":"Santoshsarma"},"comment_count":1,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1349365409,"creation_date":1349365409,"answer_id":12730918,"question_id":12729265,"body_markdown":"**Work around**\r\n\r\n*Assumption* : By Clicking something on your web page leads to open a new tab.\r\n\r\nUse below logic to switch to second tab.\r\n\r\n    new Actions(driver).sendKeys(driver.findElement(By.tagName(&quot;html&quot;)), Keys.CONTROL).sendKeys(driver.findElement(By.tagName(&quot;html&quot;)),Keys.NUMPAD2).build().perform();\r\n\r\nIn the same manner you can switch back to first tab again.\r\n\r\n    new Actions(driver).sendKeys(driver.findElement(By.tagName(&quot;html&quot;)), Keys.CONTROL).sendKeys(driver.findElement(By.tagName(&quot;html&quot;)),Keys.NUMPAD1).build().perform();\r\n\r\n\r\n\r\n","title":"Switch tabs using Selenium WebDriver with Java","body":"<p><strong>Work around</strong></p>\n\n<p><em>Assumption</em> : By Clicking something on your web page leads to open a new tab.</p>\n\n<p>Use below logic to switch to second tab.</p>\n\n<pre><code>new Actions(driver).sendKeys(driver.findElement(By.tagName(\"html\")), Keys.CONTROL).sendKeys(driver.findElement(By.tagName(\"html\")),Keys.NUMPAD2).build().perform();\n</code></pre>\n\n<p>In the same manner you can switch back to first tab again.</p>\n\n<pre><code>new Actions(driver).sendKeys(driver.findElement(By.tagName(\"html\")), Keys.CONTROL).sendKeys(driver.findElement(By.tagName(\"html\")),Keys.NUMPAD1).build().perform();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":157039,"reputation":27241,"user_id":374693,"accept_rate":79,"display_name":"JimEvans"},"score":4,"creation_date":1367251787,"post_id":16271460,"comment_id":23305574,"body_markdown":"Be very, very careful when indexing into the collection of window handles. There is no guarantee that these handles are presented in any order, and the first window opened may have the last window handle in the list returned by the `getWindowhandles` method (or its equivalent in your language).","body":"Be very, very careful when indexing into the collection of window handles. There is no guarantee that these handles are presented in any order, and the first window opened may have the last window handle in the list returned by the <code>getWindowhandles</code> method (or its equivalent in your language)."}],"tags":[],"owner":{"account_id":432592,"reputation":1336,"user_id":817447,"display_name":"Kee"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1367211629,"creation_date":1367211629,"answer_id":16271460,"question_id":12729265,"body_markdown":"I had a problem recently, the link was opened in a new tab, but selenium focused still on the initial tab.\r\n\r\nI&#39;m using Chromedriver and the only way to focus on a tab was for me to use ``switch_to_window()``.\r\n\r\n\r\nHere&#39;s the Python code:\r\n\r\n    driver.switch_to_window(driver.window_handles[-1])\r\n\r\nSo the tip is to find out the name of the window handle you need, they are stored as list in\r\n\r\n    driver.window_handles","title":"Switch tabs using Selenium WebDriver with Java","body":"<p>I had a problem recently, the link was opened in a new tab, but selenium focused still on the initial tab.</p>\n\n<p>I'm using Chromedriver and the only way to focus on a tab was for me to use <code>switch_to_window()</code>.</p>\n\n<p>Here's the Python code:</p>\n\n<pre><code>driver.switch_to_window(driver.window_handles[-1])\n</code></pre>\n\n<p>So the tip is to find out the name of the window handle you need, they are stored as list in</p>\n\n<pre><code>driver.window_handles\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2525646,"reputation":1822,"user_id":2195092,"accept_rate":50,"display_name":"Lucy"},"score":0,"creation_date":1470040307,"post_id":16541981,"comment_id":64767111,"body_markdown":"I&#39;m using chrome driver and in that when I use the line &quot;driver.switchTo().window(newTab.get(0));&quot; a new window is opened along with a new tab...Any idea why this is happening?","body":"I&#39;m using chrome driver and in that when I use the line &quot;driver.switchTo().window(newTab.get(0));&quot; a new window is opened along with a new tab...Any idea why this is happening?"},{"owner":{"account_id":1493988,"reputation":833,"user_id":1400380,"display_name":"Jordan Silva"},"score":0,"creation_date":1492011320,"post_id":16541981,"comment_id":73810090,"body_markdown":"I haven&#39;t checked it, but I guess it is browser configuration.","body":"I haven&#39;t checked it, but I guess it is browser configuration."}],"tags":[],"owner":{"account_id":1493988,"reputation":833,"user_id":1400380,"display_name":"Jordan Silva"},"comment_count":2,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1590196698,"creation_date":1368530845,"answer_id":16541981,"question_id":12729265,"body_markdown":"This is a simple solution for opening a new tab, changing focus to it, closing the tab and return focus to the old/original tab:\r\n    \r\n\t@Test\r\n\tpublic void testTabs() {\r\n\t\tdriver.get(&quot;https://business.twitter.com/start-advertising&quot;);\r\n\t\tassertStartAdvertising();\r\n\r\n\t\t// considering that there is only one tab opened in that point.\r\n\t\tString oldTab = driver.getWindowHandle();\r\n\t\tdriver.findElement(By.linkText(&quot;Twitter Advertising Blog&quot;)).click();\r\n\t\tArrayList&lt;String&gt; newTab = new ArrayList&lt;String&gt;(driver.getWindowHandles());\r\n\t\tnewTab.remove(oldTab);\r\n\t\t// change focus to new tab\r\n\t\tdriver.switchTo().window(newTab.get(0));\r\n\t\tassertAdvertisingBlog();\r\n\r\n\t\t// Do what you want here, you are in the new tab\r\n\r\n\t\tdriver.close();\r\n\t\t// change focus back to old tab\r\n\t\tdriver.switchTo().window(oldTab);\r\n\t\tassertStartAdvertising();\r\n\r\n\t\t// Do what you want here, you are in the old tab\r\n\t}\r\n    \r\n\tprivate void assertStartAdvertising() {\r\n\t\tassertEquals(&quot;Start Advertising | Twitter for Business&quot;, driver.getTitle());\r\n\t}\r\n\t\r\n    private void assertAdvertisingBlog() {\r\n\t\tassertEquals(&quot;Twitter Advertising&quot;, driver.getTitle());\r\n\t}\r\n","title":"Switch tabs using Selenium WebDriver with Java","body":"<p>This is a simple solution for opening a new tab, changing focus to it, closing the tab and return focus to the old/original tab:</p>\n\n<pre><code>@Test\npublic void testTabs() {\n    driver.get(\"https://business.twitter.com/start-advertising\");\n    assertStartAdvertising();\n\n    // considering that there is only one tab opened in that point.\n    String oldTab = driver.getWindowHandle();\n    driver.findElement(By.linkText(\"Twitter Advertising Blog\")).click();\n    ArrayList&lt;String&gt; newTab = new ArrayList&lt;String&gt;(driver.getWindowHandles());\n    newTab.remove(oldTab);\n    // change focus to new tab\n    driver.switchTo().window(newTab.get(0));\n    assertAdvertisingBlog();\n\n    // Do what you want here, you are in the new tab\n\n    driver.close();\n    // change focus back to old tab\n    driver.switchTo().window(oldTab);\n    assertStartAdvertising();\n\n    // Do what you want here, you are in the old tab\n}\n\nprivate void assertStartAdvertising() {\n    assertEquals(\"Start Advertising | Twitter for Business\", driver.getTitle());\n}\n\nprivate void assertAdvertisingBlog() {\n    assertEquals(\"Twitter Advertising\", driver.getTitle());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3943698,"reputation":11,"user_id":3257155,"display_name":"Prashant"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1391169920,"creation_date":1391168369,"answer_id":21479194,"question_id":12729265,"body_markdown":"Please see below:\r\n\t\t\r\n    WebDriver driver = new FirefoxDriver();\r\n\r\n    driver.manage().window().maximize();\r\n    driver.get(&quot;https://www.irctc.co.in/&quot;);\r\n    String oldTab = driver.getWindowHandle();\r\n\t\t\r\n    //For opening window in New Tab\r\n    String selectLinkOpeninNewTab = Keys.chord(Keys.CONTROL,Keys.RETURN); \r\n    driver.findElement(By.linkText(&quot;Hotels &amp; Lounge&quot;)).sendKeys(selectLinkOpeninNewTab);\r\n\t\t\r\n    // Perform Ctrl + Tab to focus on new Tab window\r\n    new Actions(driver).sendKeys(Keys.chord(Keys.CONTROL, Keys.TAB)).perform();\r\n\r\n    // Switch driver control to focused tab window\r\n    driver.switchTo().window(oldTab);\r\n\t\t\r\n    driver.findElement(By.id(&quot;textfield&quot;)).sendKeys(&quot;bangalore&quot;);\r\n\r\nHope this is helpful!\r\n","title":"Switch tabs using Selenium WebDriver with Java","body":"<p>Please see below:</p>\n\n<pre><code>WebDriver driver = new FirefoxDriver();\n\ndriver.manage().window().maximize();\ndriver.get(\"https://www.irctc.co.in/\");\nString oldTab = driver.getWindowHandle();\n\n//For opening window in New Tab\nString selectLinkOpeninNewTab = Keys.chord(Keys.CONTROL,Keys.RETURN); \ndriver.findElement(By.linkText(\"Hotels &amp; Lounge\")).sendKeys(selectLinkOpeninNewTab);\n\n// Perform Ctrl + Tab to focus on new Tab window\nnew Actions(driver).sendKeys(Keys.chord(Keys.CONTROL, Keys.TAB)).perform();\n\n// Switch driver control to focused tab window\ndriver.switchTo().window(oldTab);\n\ndriver.findElement(By.id(\"textfield\")).sendKeys(\"bangalore\");\n</code></pre>\n\n<p>Hope this is helpful!</p>\n"},{"comments":[{"owner":{"account_id":6241436,"reputation":2512,"user_id":4854931,"accept_rate":33,"display_name":"Alex78191"},"score":2,"creation_date":1499647384,"post_id":22944233,"comment_id":76978786,"body_markdown":"Tabs aren&#39;t windows. I guess it&#39;s not working in Firefox.","body":"Tabs aren&#39;t windows. I guess it&#39;s not working in Firefox."},{"owner":{"account_id":3410182,"reputation":12151,"user_id":2860319,"accept_rate":75,"display_name":"The Gilbert Arenas Dagger"},"score":4,"creation_date":1519817112,"post_id":22944233,"comment_id":85061072,"body_markdown":"This answer assumes order in driver.getWindowHandles().  That method returns a Set and therefore guarantees no order at the contract level. Perhaps your WebDriver implementatation is returning a Set implementation that does guarantee order, but why take the risk?","body":"This answer assumes order in driver.getWindowHandles().  That method returns a Set and therefore guarantees no order at the contract level. Perhaps your WebDriver implementatation is returning a Set implementation that does guarantee order, but why take the risk?"},{"owner":{"account_id":4263134,"reputation":344,"user_id":3486967,"accept_rate":88,"display_name":"SourMonk"},"score":0,"creation_date":1521120728,"post_id":22944233,"comment_id":85603267,"body_markdown":"Using ChromeDriver 2.33, getWindowHandles() does return a LinkedHashSet, so accessing by index works well. Note that you need to use getAt() instead of get()","body":"Using ChromeDriver 2.33, getWindowHandles() does return a LinkedHashSet, so accessing by index works well. Note that you need to use getAt() instead of get()"},{"owner":{"account_id":25293688,"reputation":86,"user_id":19119227,"display_name":"Saran Raj"},"score":0,"creation_date":1660888042,"post_id":22944233,"comment_id":129644171,"body_markdown":"I don&#39;t know why but the above does not work for firefox versions below 80.Any suggestion for switching tabs in versions below 80","body":"I don&#39;t know why but the above does not work for firefox versions below 80.Any suggestion for switching tabs in versions below 80"}],"tags":[],"owner":{"account_id":4297516,"reputation":1332,"user_id":3512167,"display_name":"Sireesha Middela"},"comment_count":4,"down_vote_count":2,"up_vote_count":132,"is_accepted":true,"score":130,"last_activity_date":1681364035,"creation_date":1396978316,"answer_id":22944233,"question_id":12729265,"body_markdown":"        psdbComponent.clickDocumentLink();\r\n    \tArrayList&lt;String&gt; tabs = new ArrayList&lt;String&gt; (driver.getWindowHandles());\r\n    \tdriver.switchTo().window(tabs.get(1));\r\n    \tdriver.close();\r\n    \tdriver.switchTo().window(tabs.get(0));\r\n\r\nThis code perfectly worked for me. Try it out. You always need to switch your driver to new tab, before you want to do something on new tab.","title":"Switch tabs using Selenium WebDriver with Java","body":"<pre><code>    psdbComponent.clickDocumentLink();\n    ArrayList&lt;String&gt; tabs = new ArrayList&lt;String&gt; (driver.getWindowHandles());\n    driver.switchTo().window(tabs.get(1));\n    driver.close();\n    driver.switchTo().window(tabs.get(0));\n</code></pre>\n<p>This code perfectly worked for me. Try it out. You always need to switch your driver to new tab, before you want to do something on new tab.</p>\n"},{"comments":[{"owner":{"account_id":2392655,"reputation":1910,"user_id":2092210,"accept_rate":86,"display_name":"BClaydon"},"score":0,"creation_date":1465842652,"post_id":27173695,"comment_id":63059603,"body_markdown":"YES. This is the first response the indicates there is only a single window handle and that is not the same as a tab. I don&#39;t know how the other solutions even work. How does getWindowHandles get the list of tabs for them? It only gets window handles for me in IE (I know, IE, blech)","body":"YES. This is the first response the indicates there is only a single window handle and that is not the same as a tab. I don&#39;t know how the other solutions even work. How does getWindowHandles get the list of tabs for them? It only gets window handles for me in IE (I know, IE, blech)"}],"tags":[],"owner":{"account_id":5265340,"reputation":545,"user_id":4205522,"display_name":"Sourabh"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1417100769,"creation_date":1417100769,"answer_id":27173695,"question_id":12729265,"body_markdown":"There is a difference how web driver handles different windows and how it handles different tabs.&lt;br /&gt;&lt;br /&gt;\r\n&lt;strong&gt;Case 1:&lt;/strong&gt;&lt;br /&gt;\r\nIn case there are multiple windows, then the following code can help:\r\n\r\n    //Get the current window handle\r\n    String windowHandle = driver.getWindowHandle();\r\n\r\n    //Get the list of window handles\r\n    ArrayList tabs = new ArrayList (driver.getWindowHandles());\r\n    System.out.println(tabs.size());\r\n    //Use the list of window handles to switch between windows\r\n    driver.switchTo().window(tabs.get(0));\r\n\r\n    //Switch back to original window\r\n    driver.switchTo().window(mainWindowHandle);\r\n&lt;br /&gt;\r\n&lt;strong&gt;Case 2:&lt;/strong&gt;&lt;br /&gt;\r\nIn case there are multiple tabs in the same window, then there is only one window handle. Hence switching between window handles keeps the control in the same tab.&lt;br /&gt; In this case using Ctrl + \\t (Ctrl + Tab) to switch between tabs is more useful.&lt;br /&gt;\r\n\r\n    //Open a new tab using Ctrl + t\r\n    driver.findElement(By.cssSelector(&quot;body&quot;)).sendKeys(Keys.CONTROL +&quot;t&quot;);\r\n    //Switch between tabs using Ctrl + \\t\r\n    driver.findElement(By.cssSelector(&quot;body&quot;)).sendKeys(Keys.CONTROL +&quot;\\t&quot;);\r\n\r\nDetailed sample code can be found here:&lt;br /&gt;\r\nhttp://design-interviews.blogspot.com/2014/11/switching-between-tabs-in-same-browser-window.html","title":"Switch tabs using Selenium WebDriver with Java","body":"<p>There is a difference how web driver handles different windows and how it handles different tabs.<br /><br />\n<strong>Case 1:</strong><br />\nIn case there are multiple windows, then the following code can help:</p>\n\n<pre><code>//Get the current window handle\nString windowHandle = driver.getWindowHandle();\n\n//Get the list of window handles\nArrayList tabs = new ArrayList (driver.getWindowHandles());\nSystem.out.println(tabs.size());\n//Use the list of window handles to switch between windows\ndriver.switchTo().window(tabs.get(0));\n\n//Switch back to original window\ndriver.switchTo().window(mainWindowHandle);\n</code></pre>\n\n<p><br />\n<strong>Case 2:</strong><br />\nIn case there are multiple tabs in the same window, then there is only one window handle. Hence switching between window handles keeps the control in the same tab.<br /> In this case using Ctrl + \\t (Ctrl + Tab) to switch between tabs is more useful.<br /></p>\n\n<pre><code>//Open a new tab using Ctrl + t\ndriver.findElement(By.cssSelector(\"body\")).sendKeys(Keys.CONTROL +\"t\");\n//Switch between tabs using Ctrl + \\t\ndriver.findElement(By.cssSelector(\"body\")).sendKeys(Keys.CONTROL +\"\\t\");\n</code></pre>\n\n<p>Detailed sample code can be found here:<br />\n<a href=\"http://design-interviews.blogspot.com/2014/11/switching-between-tabs-in-same-browser-window.html\">http://design-interviews.blogspot.com/2014/11/switching-between-tabs-in-same-browser-window.html</a></p>\n"},{"tags":[],"owner":{"account_id":5998544,"reputation":395,"user_id":4712552,"accept_rate":73,"display_name":"Ravi Ubana"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1428993951,"creation_date":1428992226,"answer_id":29620373,"question_id":12729265,"body_markdown":"It is A very simple process: assume you have two tabs so you need to first close the current tab by using `client.window(callback)` because the switch command &quot;switches to the first available one&quot;. Then you can easily switch tab using `client.switchTab`.","title":"Switch tabs using Selenium WebDriver with Java","body":"<p>It is A very simple process: assume you have two tabs so you need to first close the current tab by using <code>client.window(callback)</code> because the switch command \"switches to the first available one\". Then you can easily switch tab using <code>client.switchTab</code>.</p>\n"},{"tags":[],"owner":{"account_id":4972235,"reputation":89,"user_id":3999615,"accept_rate":70,"display_name":"Vishwak"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1429859501,"creation_date":1429859501,"answer_id":29840955,"question_id":12729265,"body_markdown":"    String selectLinkOpeninNewTab = Keys.chord(Keys.CONTROL, Keys.RETURN);\r\n\t\tWebElement e = driver.findElement(By\r\n\t\t\t\t.xpath(&quot;html/body/header/div/div[1]/nav/a&quot;));\r\n    e.sendKeys(selectLinkOpeninNewTab);//to open the link in a current page in to the browsers new tab\r\n\t\t\r\n\t\te.sendKeys(Keys.CONTROL + &quot;\\t&quot;);//to move focus to next tab in same browser\r\n\t\ttry {\r\n\t\t\tThread.sleep(8000);\r\n\t\t} catch (InterruptedException e1) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te1.printStackTrace();\r\n\t\t}\r\n\t\t//to wait some time in that tab\r\n\t\te.sendKeys(Keys.CONTROL + &quot;\\t&quot;);//to switch the focus to old tab again\r\n\r\nHope it helps to you..","title":"Switch tabs using Selenium WebDriver with Java","body":"<pre><code>String selectLinkOpeninNewTab = Keys.chord(Keys.CONTROL, Keys.RETURN);\n    WebElement e = driver.findElement(By\n            .xpath(\"html/body/header/div/div[1]/nav/a\"));\ne.sendKeys(selectLinkOpeninNewTab);//to open the link in a current page in to the browsers new tab\n\n    e.sendKeys(Keys.CONTROL + \"\\t\");//to move focus to next tab in same browser\n    try {\n        Thread.sleep(8000);\n    } catch (InterruptedException e1) {\n        // TODO Auto-generated catch block\n        e1.printStackTrace();\n    }\n    //to wait some time in that tab\n    e.sendKeys(Keys.CONTROL + \"\\t\");//to switch the focus to old tab again\n</code></pre>\n\n<p>Hope it helps to you..</p>\n"},{"tags":[],"owner":{"account_id":6488848,"reputation":86,"user_id":5023536,"display_name":"Stas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1461685112,"creation_date":1461330599,"answer_id":36794782,"question_id":12729265,"body_markdown":"A brief example of how to switch between tabs in a browser (in case with one window):\r\n\r\n    // open the first tab\r\n    driver.get(&quot;https://www.google.com&quot;);\r\n    Thread.sleep(2000);\r\n\r\n    // open the second tab\r\n    driver.findElement(By.cssSelector(&quot;body&quot;)).sendKeys(Keys.CONTROL + &quot;t&quot;);\r\n    driver.get(&quot;https://www.google.com&quot;);\r\n    Thread.sleep(2000);\r\n    \r\n    // switch to the previous tab\r\n    driver.findElement(By.cssSelector(&quot;body&quot;)).sendKeys(Keys.CONTROL + &quot;&quot; + Keys.SHIFT + &quot;&quot; + Keys.TAB);\r\n    Thread.sleep(2000);\r\n\r\nI write `Thread.sleep(2000)` just to have a timeout to see switching between the tabs.\r\n\r\nYou can use CTRL+TAB for switching to the next tab and CTRL+SHIFT+TAB for switching to the previous tab.","title":"Switch tabs using Selenium WebDriver with Java","body":"<p>A brief example of how to switch between tabs in a browser (in case with one window):</p>\n\n<pre><code>// open the first tab\ndriver.get(\"https://www.google.com\");\nThread.sleep(2000);\n\n// open the second tab\ndriver.findElement(By.cssSelector(\"body\")).sendKeys(Keys.CONTROL + \"t\");\ndriver.get(\"https://www.google.com\");\nThread.sleep(2000);\n\n// switch to the previous tab\ndriver.findElement(By.cssSelector(\"body\")).sendKeys(Keys.CONTROL + \"\" + Keys.SHIFT + \"\" + Keys.TAB);\nThread.sleep(2000);\n</code></pre>\n\n<p>I write <code>Thread.sleep(2000)</code> just to have a timeout to see switching between the tabs.</p>\n\n<p>You can use CTRL+TAB for switching to the next tab and CTRL+SHIFT+TAB for switching to the previous tab.</p>\n"},{"comments":[{"owner":{"account_id":6241436,"reputation":2512,"user_id":4854931,"accept_rate":33,"display_name":"Alex78191"},"score":0,"creation_date":1499647296,"post_id":36921385,"comment_id":76978772,"body_markdown":"Maybe between multiple tabs?","body":"Maybe between multiple tabs?"}],"tags":[],"owner":{"account_id":8241863,"reputation":93,"user_id":6199285,"display_name":"Anand Ramamurthy"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1461865226,"creation_date":1461863853,"answer_id":36921385,"question_id":12729265,"body_markdown":"    driver.findElement(By.cssSelector(&quot;body&quot;)).sendKeys(Keys.CONTROL,Keys.SHIFT,Keys.TAB);\r\n\r\nThis method helps in switching between multiple windows. The restricting problem with this method is that it can only be used so many times until the required window is reached. Hope it helps.","title":"Switch tabs using Selenium WebDriver with Java","body":"<pre><code>driver.findElement(By.cssSelector(\"body\")).sendKeys(Keys.CONTROL,Keys.SHIFT,Keys.TAB);\n</code></pre>\n\n<p>This method helps in switching between multiple windows. The restricting problem with this method is that it can only be used so many times until the required window is reached. Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":8813403,"reputation":23,"user_id":6585691,"display_name":"Charles Woodson"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1472049491,"creation_date":1472049491,"answer_id":39126326,"question_id":12729265,"body_markdown":"With Selenium 2.53.1 using firefox 47.0.1 as the WebDriver in Java: no matter how many tabs I opened, &quot;driver.getWindowHandles()&quot; would only return one handle so it was impossible to switch between tabs.\r\n\r\nOnce I started using Chrome 51.0, I could get all handles.  The following code show how to access multiple drivers and multiple tabs within each driver.\r\n\r\n    // INITIALIZE TWO DRIVERS (THESE REPRESENT SEPARATE CHROME WINDOWS)\r\n    driver1 = new ChromeDriver();\r\n    driver2 = new ChromeDriver();\r\n\r\n    // LOOP TO OPEN AS MANY TABS AS YOU WISH\r\n    for(int i = 0; i &lt; TAB_NUMBER; i++) {\r\n       driver1.findElement(By.cssSelector(&quot;body&quot;)).sendKeys(Keys.CONTROL + &quot;t&quot;);\r\n       // SLEEP FOR SPLIT SECOND TO ALLOW DRIVER TIME TO OPEN TAB\r\n       Thread.sleep(100);\r\n\r\n    // STORE TAB HANDLES IN ARRAY LIST FOR EASY ACCESS\r\n    ArrayList tabs1 = new ArrayList&lt;String&gt; (driver1.getWindowHandles());\r\n\r\n    // REPEAT FOR THE SECOND DRIVER (SECOND CHROME BROWSER WINDOW)\r\n\r\n    // LOOP TO OPEN AS MANY TABS AS YOU WISH\r\n    for(int i = 0; i &lt; TAB_NUMBER; i++) {\r\n       driver2.findElement(By.cssSelector(&quot;body&quot;)).sendKeys(Keys.CONTROL + &quot;t&quot;);\r\n       // SLEEP FOR SPLIT SECOND TO ALLOW DRIVER TIME TO OPEN TAB\r\n       Thread.sleep(100);\r\n\r\n    // STORE TAB HANDLES IN ARRAY LIST FOR EASY ACCESS\r\n    ArrayList tabs2 = new ArrayList&lt;String&gt; (driver1.getWindowHandles());\r\n\r\n    // NOW PERFORM DESIRED TASKS WITH FIRST BROWSER IN ANY TAB\r\n    for(int ii = 0; ii &lt;= TAB_NUMBER; ii++) {\r\n       driver1.switchTo().window(tabs1.get(ii));\r\n       // LOGIC FOR THAT DRIVER&#39;S CURRENT TAB\r\n    }\r\n\r\n    // PERFORM DESIRED TASKS WITH SECOND BROWSER IN ANY TAB\r\n    for(int ii = 0; ii &lt;= TAB_NUMBER; ii++) {\r\n       drvier2.switchTo().window(tabs2.get(ii));\r\n       // LOGIC FOR THAT DRIVER&#39;S CURRENT TAB\r\n    }\r\n\r\nHopefully that gives you a good idea of how to manipulate multiple tabs in multiple browser windows.\r\n\r\n\r\n\r\n","title":"Switch tabs using Selenium WebDriver with Java","body":"<p>With Selenium 2.53.1 using firefox 47.0.1 as the WebDriver in Java: no matter how many tabs I opened, \"driver.getWindowHandles()\" would only return one handle so it was impossible to switch between tabs.</p>\n\n<p>Once I started using Chrome 51.0, I could get all handles.  The following code show how to access multiple drivers and multiple tabs within each driver.</p>\n\n<pre><code>// INITIALIZE TWO DRIVERS (THESE REPRESENT SEPARATE CHROME WINDOWS)\ndriver1 = new ChromeDriver();\ndriver2 = new ChromeDriver();\n\n// LOOP TO OPEN AS MANY TABS AS YOU WISH\nfor(int i = 0; i &lt; TAB_NUMBER; i++) {\n   driver1.findElement(By.cssSelector(\"body\")).sendKeys(Keys.CONTROL + \"t\");\n   // SLEEP FOR SPLIT SECOND TO ALLOW DRIVER TIME TO OPEN TAB\n   Thread.sleep(100);\n\n// STORE TAB HANDLES IN ARRAY LIST FOR EASY ACCESS\nArrayList tabs1 = new ArrayList&lt;String&gt; (driver1.getWindowHandles());\n\n// REPEAT FOR THE SECOND DRIVER (SECOND CHROME BROWSER WINDOW)\n\n// LOOP TO OPEN AS MANY TABS AS YOU WISH\nfor(int i = 0; i &lt; TAB_NUMBER; i++) {\n   driver2.findElement(By.cssSelector(\"body\")).sendKeys(Keys.CONTROL + \"t\");\n   // SLEEP FOR SPLIT SECOND TO ALLOW DRIVER TIME TO OPEN TAB\n   Thread.sleep(100);\n\n// STORE TAB HANDLES IN ARRAY LIST FOR EASY ACCESS\nArrayList tabs2 = new ArrayList&lt;String&gt; (driver1.getWindowHandles());\n\n// NOW PERFORM DESIRED TASKS WITH FIRST BROWSER IN ANY TAB\nfor(int ii = 0; ii &lt;= TAB_NUMBER; ii++) {\n   driver1.switchTo().window(tabs1.get(ii));\n   // LOGIC FOR THAT DRIVER'S CURRENT TAB\n}\n\n// PERFORM DESIRED TASKS WITH SECOND BROWSER IN ANY TAB\nfor(int ii = 0; ii &lt;= TAB_NUMBER; ii++) {\n   drvier2.switchTo().window(tabs2.get(ii));\n   // LOGIC FOR THAT DRIVER'S CURRENT TAB\n}\n</code></pre>\n\n<p>Hopefully that gives you a good idea of how to manipulate multiple tabs in multiple browser windows.</p>\n"},{"tags":[],"owner":{"account_id":9155467,"reputation":11,"user_id":6808540,"display_name":"ramy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1473333976,"creation_date":1473329549,"answer_id":39388204,"question_id":12729265,"body_markdown":"This will work for the MacOS for Firefox and Chrome:\r\n\r\n    // opens the default browser tab with the first webpage\r\n    driver.get(&quot;the url 1&quot;);\r\n    thread.sleep(2000);\r\n\r\n    // opens the second tab\r\n    driver.findElement(By.cssSelector(&quot;Body&quot;)).sendKeys(Keys.COMMAND + &quot;t&quot;);\r\n    driver.get(&quot;the url 2&quot;);\r\n    Thread.sleep(2000);\r\n\r\n    // comes back to the first tab\r\n    driver.findElement(By.cssSelector(&quot;Body&quot;)).sendKeys(Keys.COMMAND, Keys.SHIFT, &quot;{&quot;);\r\n\r\n\r\n","title":"Switch tabs using Selenium WebDriver with Java","body":"<p>This will work for the MacOS for Firefox and Chrome:</p>\n\n<pre><code>// opens the default browser tab with the first webpage\ndriver.get(\"the url 1\");\nthread.sleep(2000);\n\n// opens the second tab\ndriver.findElement(By.cssSelector(\"Body\")).sendKeys(Keys.COMMAND + \"t\");\ndriver.get(\"the url 2\");\nThread.sleep(2000);\n\n// comes back to the first tab\ndriver.findElement(By.cssSelector(\"Body\")).sendKeys(Keys.COMMAND, Keys.SHIFT, \"{\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9471556,"reputation":41,"user_id":7042264,"display_name":"Ed Ram"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1476881730,"creation_date":1476881730,"answer_id":40132018,"question_id":12729265,"body_markdown":"The first thing you need to do is opening a new tab and save it&#39;s handle name. It will be best to do it using javascript and not keys(ctrl+t) since keys aren&#39;t always available on automation servers. example:\r\n\r\n    public static String openNewTab(String url) {\r\n    \texecuteJavaScript(&quot;window.parent = window.open(&#39;parent&#39;);&quot;);\r\n    \tArrayList&lt;String&gt; tabs = new ArrayList&lt;String&gt;(bot.driver.getWindowHandles());\r\n    \tString handleName = tabs.get(1);\r\n    \tbot.driver.switchTo().window(handleName);\r\n    \tSystem.setProperty(&quot;current.window.handle&quot;, handleName);\r\n    \tbot.driver.get(url);\r\n    \treturn handleName;\r\n    }\r\n\r\nThe second thing you need to do is switching between the tabs. Doing it by switch window handles only, will not always work since the tab you&#39;ll work on, won&#39;t always be in focus and Selenium will fail from time to time.\r\nAs I said, it&#39;s a bit problematic to use keys, and javascript doesn&#39;t really support switching tabs, so I used alerts to switch tabs and it worked like a charm:\r\n\t\r\n\r\n    public static void switchTab(int tabNumber, String handleName) {\r\n    \t\tdriver.switchTo().window(handleName);\r\n    \t\tSystem.setProperty(&quot;current.window.handle&quot;, handleName);\r\n    \t\tif (tabNumber==1)\r\n    \t\t\texecuteJavaScript(&quot;alert(\\&quot;alert\\&quot;);&quot;);\r\n    \t\telse\r\n    \t\t\texecuteJavaScript(&quot;parent.alert(\\&quot;alert\\&quot;);&quot;);\r\n    \t\tbot.wait(1000);\r\n    \t\tdriver.switchTo().alert().accept();\r\n    \t}\r\n\r\n\r\n","title":"Switch tabs using Selenium WebDriver with Java","body":"<p>The first thing you need to do is opening a new tab and save it's handle name. It will be best to do it using javascript and not keys(ctrl+t) since keys aren't always available on automation servers. example:</p>\n\n<pre><code>public static String openNewTab(String url) {\n    executeJavaScript(\"window.parent = window.open('parent');\");\n    ArrayList&lt;String&gt; tabs = new ArrayList&lt;String&gt;(bot.driver.getWindowHandles());\n    String handleName = tabs.get(1);\n    bot.driver.switchTo().window(handleName);\n    System.setProperty(\"current.window.handle\", handleName);\n    bot.driver.get(url);\n    return handleName;\n}\n</code></pre>\n\n<p>The second thing you need to do is switching between the tabs. Doing it by switch window handles only, will not always work since the tab you'll work on, won't always be in focus and Selenium will fail from time to time.\nAs I said, it's a bit problematic to use keys, and javascript doesn't really support switching tabs, so I used alerts to switch tabs and it worked like a charm:</p>\n\n<pre><code>public static void switchTab(int tabNumber, String handleName) {\n        driver.switchTo().window(handleName);\n        System.setProperty(\"current.window.handle\", handleName);\n        if (tabNumber==1)\n            executeJavaScript(\"alert(\\\"alert\\\");\");\n        else\n            executeJavaScript(\"parent.alert(\\\"alert\\\");\");\n        bot.wait(1000);\n        driver.switchTo().alert().accept();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9169236,"reputation":786,"user_id":6817487,"display_name":"Ankit Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1502261116,"creation_date":1502260574,"answer_id":45583237,"question_id":12729265,"body_markdown":"To get parent window handles.\t\r\n\r\n    String parentHandle = driverObj.getWindowHandle();\r\n\tpublic String switchTab(String parentHandle){\r\n\t\tString currentHandle =&quot;&quot;;\r\n\t\tSet&lt;String&gt; win  = ts.getDriver().getWindowHandles();\t\r\n\r\n\t\tIterator&lt;String&gt; it =  win.iterator();\r\n\t\tif(win.size() &gt; 1){\r\n\t\t\twhile(it.hasNext()){\r\n\t\t\t\tString handle = it.next();\r\n\t\t\t\tif (!handle.equalsIgnoreCase(parentHandle)){\r\n\t\t\t\t\tts.getDriver().switchTo().window(handle);\r\n\t\t\t\t\tcurrentHandle = handle;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\telse{\r\n\t\t\tSystem.out.println(&quot;Unable to switch&quot;);\r\n\t\t}\r\n\t\treturn currentHandle;\r\n\t}","title":"Switch tabs using Selenium WebDriver with Java","body":"<p>To get parent window handles.   </p>\n\n<pre><code>String parentHandle = driverObj.getWindowHandle();\npublic String switchTab(String parentHandle){\n    String currentHandle =\"\";\n    Set&lt;String&gt; win  = ts.getDriver().getWindowHandles();   \n\n    Iterator&lt;String&gt; it =  win.iterator();\n    if(win.size() &gt; 1){\n        while(it.hasNext()){\n            String handle = it.next();\n            if (!handle.equalsIgnoreCase(parentHandle)){\n                ts.getDriver().switchTo().window(handle);\n                currentHandle = handle;\n            }\n        }\n    }\n    else{\n        System.out.println(\"Unable to switch\");\n    }\n    return currentHandle;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11833250,"reputation":29,"user_id":8659353,"display_name":"Omar Lari"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1507578753,"creation_date":1507573895,"answer_id":46652865,"question_id":12729265,"body_markdown":"Simple Answer which worked for me:\r\n\r\n    for (String handle1 : driver1.getWindowHandles()) {\r\n    \t\tSystem.out.println(handle1); \r\n            driver1.switchTo().window(handle1);    \t\r\n    }","title":"Switch tabs using Selenium WebDriver with Java","body":"<p>Simple Answer which worked for me:</p>\n\n<pre><code>for (String handle1 : driver1.getWindowHandles()) {\n        System.out.println(handle1); \n        driver1.switchTo().window(handle1);     \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3410182,"reputation":12151,"user_id":2860319,"accept_rate":75,"display_name":"The Gilbert Arenas Dagger"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1519816911,"creation_date":1519816911,"answer_id":49028383,"question_id":12729265,"body_markdown":"The flaw with the selected answer is that it unnecessarily assumes order in `webDriver.getWindowHandles()`.  The `getWindowHandles()` method returns a `Set`, which does not guarantee order. \r\n\r\nI used the following code to change tabs, which does not assume any ordering. \r\n\r\n    String currentTabHandle = driver.getWindowHandle();\r\n    String newTabHandle = driver.getWindowHandles()\r\n           .stream()\r\n           .filter(handle -&gt; !handle.equals(currentTabHandle ))\r\n           .findFirst()\r\n           .get();\r\n    driver.switchTo().window(newTabHandle);","title":"Switch tabs using Selenium WebDriver with Java","body":"<p>The flaw with the selected answer is that it unnecessarily assumes order in <code>webDriver.getWindowHandles()</code>.  The <code>getWindowHandles()</code> method returns a <code>Set</code>, which does not guarantee order. </p>\n\n<p>I used the following code to change tabs, which does not assume any ordering. </p>\n\n<pre><code>String currentTabHandle = driver.getWindowHandle();\nString newTabHandle = driver.getWindowHandles()\n       .stream()\n       .filter(handle -&gt; !handle.equals(currentTabHandle ))\n       .findFirst()\n       .get();\ndriver.switchTo().window(newTabHandle);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9468954,"reputation":41,"user_id":7040324,"display_name":"Rahul Rana"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1521107131,"creation_date":1521107131,"answer_id":49296045,"question_id":12729265,"body_markdown":"    protected void switchTabsUsingPartOfUrl(String platform) {\r\n        String currentHandle = null;\r\n        try {\r\n            final Set&lt;String&gt; handles = driver.getWindowHandles();\r\n            if (handles.size() &gt; 1) {\r\n                currentHandle = driver.getWindowHandle();\r\n            }\r\n            if (currentHandle != null) {\r\n                for (final String handle : handles) {\r\n                    driver.switchTo().window(handle);\r\n                    if (currentUrl().contains(platform) &amp;&amp; !currentHandle.equals(handle)) {\r\n                        break;\r\n                    }\r\n                }\r\n            } else {\r\n                for (final String handle : handles) {\r\n                    driver.switchTo().window(handle);\r\n                    if (currentUrl().contains(platform)) {\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Switching tabs failed&quot;);\r\n        }\r\n    }\r\n\r\nCall this method and pass parameter a substring of url of the tab you want to switch to","title":"Switch tabs using Selenium WebDriver with Java","body":"<pre><code>protected void switchTabsUsingPartOfUrl(String platform) {\n    String currentHandle = null;\n    try {\n        final Set&lt;String&gt; handles = driver.getWindowHandles();\n        if (handles.size() &gt; 1) {\n            currentHandle = driver.getWindowHandle();\n        }\n        if (currentHandle != null) {\n            for (final String handle : handles) {\n                driver.switchTo().window(handle);\n                if (currentUrl().contains(platform) &amp;&amp; !currentHandle.equals(handle)) {\n                    break;\n                }\n            }\n        } else {\n            for (final String handle : handles) {\n                driver.switchTo().window(handle);\n                if (currentUrl().contains(platform)) {\n                    break;\n                }\n            }\n        }\n    } catch (Exception e) {\n        System.out.println(\"Switching tabs failed\");\n    }\n}\n</code></pre>\n\n<p>Call this method and pass parameter a substring of url of the tab you want to switch to</p>\n"},{"tags":[],"owner":{"account_id":8934088,"reputation":12520,"user_id":6665568,"accept_rate":80,"display_name":"Natesh bhat"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1528606464,"creation_date":1528606464,"answer_id":50780665,"question_id":12729265,"body_markdown":"Since the `driver.window_handles` is not in order , a better solution is this.\r\n\r\n&gt;first switch to the first tab using the shortcut `Control + X` to switch to the &#39;x&#39; th tab in the browser window .\r\n\r\n    driver.findElement(By.cssSelector(&quot;body&quot;)).sendKeys(Keys.CONTROL + &quot;1&quot;);\r\n    # goes to 1st tab\r\n    \r\n    driver.findElement(By.cssSelector(&quot;body&quot;)).sendKeys(Keys.CONTROL + &quot;4&quot;);\r\n    # goes to 4th tab if its exists or goes to last tab.\r\n    ","title":"Switch tabs using Selenium WebDriver with Java","body":"<p>Since the <code>driver.window_handles</code> is not in order , a better solution is this.</p>\n\n<blockquote>\n  <p>first switch to the first tab using the shortcut <code>Control + X</code> to switch to the 'x' th tab in the browser window .</p>\n</blockquote>\n\n<pre><code>driver.findElement(By.cssSelector(\"body\")).sendKeys(Keys.CONTROL + \"1\");\n# goes to 1st tab\n\ndriver.findElement(By.cssSelector(\"body\")).sendKeys(Keys.CONTROL + \"4\");\n# goes to 4th tab if its exists or goes to last tab.\n</code></pre>\n"},{"comments":[{"owner":{"account_id":436264,"reputation":3362,"user_id":823321,"display_name":"sɐunıɔןɐqɐp"},"score":4,"creation_date":1529912776,"post_id":51018247,"comment_id":89029530,"body_markdown":"Welcome to Stack Overflow! Please don&#39;t just throw your source code here. Be nice and try to give a nice description to your answer, so that others will like it and upvote it. See: [How do I write a good answer?](https://stackoverflow.com/help/how-to-answer)","body":"Welcome to Stack Overflow! Please don&#39;t just throw your source code here. Be nice and try to give a nice description to your answer, so that others will like it and upvote it. See: <a href=\"https://stackoverflow.com/help/how-to-answer\">How do I write a good answer?</a>"}],"tags":[],"owner":{"account_id":12974868,"reputation":11,"user_id":9379215,"display_name":"Aravind HB"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1529911707,"creation_date":1529911707,"answer_id":51018247,"question_id":12729265,"body_markdown":"public class TabBrowserDemo {\r\n\r\n\tpublic static void main(String[] args) throws InterruptedException {\r\n\t\tSystem.out.println(&quot;Main Started&quot;);\r\n\t\tSystem.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;driver//geckodriver.exe&quot;);\r\n\t\tWebDriver driver = new FirefoxDriver();\r\n\t\tdriver.get(&quot;https://www.irctc.co.in/eticketing/userSignUp.jsf&quot;);\r\n\t\tdriver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\r\n\t\t\r\n\t\tdriver.findElement(By.xpath(&quot;//a[text()=&#39;Flights&#39;]&quot;)).click();\r\n\t\twaitForLoad(driver);\r\n\t\tSet&lt;String&gt; ids = driver.getWindowHandles();\r\n\t\tIterator&lt;String&gt; iterator = ids.iterator();\r\n\t\tString parentID = iterator.next();\r\n\t\tSystem.out.println(&quot;Parent WIn id &quot; + parentID);\r\n\t\tString childID = iterator.next();\r\n\t\tSystem.out.println(&quot;child win id &quot; + childID);\r\n\t\t\r\n\t\tdriver.switchTo().window(childID);\r\n\t\tList&lt;WebElement&gt; hyperlinks = driver.findElements(By.xpath(&quot;//a&quot;));\r\n\t\t\r\n\t\tSystem.out.println(&quot;Total links in tabbed browser &quot; + hyperlinks.size());\r\n\t\r\n\t\tThread.sleep(3000);\r\n\t//\tdriver.close();\r\n\t\tdriver.switchTo().window(parentID);\r\n\t\tList&lt;WebElement&gt; hyperlinksOfParent = driver.findElements(By.xpath(&quot;//a&quot;));\r\n\t\t\r\n\t\tSystem.out.println(&quot;Total links &quot; + hyperlinksOfParent.size());\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static void waitForLoad(WebDriver driver) {\r\n        ExpectedCondition&lt;Boolean&gt; pageLoadCondition = new\r\n                ExpectedCondition&lt;Boolean&gt;() {\r\n                    public Boolean apply(WebDriver driver) {\r\n                        return ((JavascriptExecutor)driver).executeScript(&quot;return document.readyState&quot;).equals(&quot;complete&quot;);\r\n                    }\r\n                };\r\n        WebDriverWait wait = new WebDriverWait(driver, 30);\r\n        wait.until(pageLoadCondition);\r\n    }","title":"Switch tabs using Selenium WebDriver with Java","body":"<p>public class TabBrowserDemo {</p>\n\n<pre><code>public static void main(String[] args) throws InterruptedException {\n    System.out.println(\"Main Started\");\n    System.setProperty(\"webdriver.gecko.driver\", \"driver//geckodriver.exe\");\n    WebDriver driver = new FirefoxDriver();\n    driver.get(\"https://www.irctc.co.in/eticketing/userSignUp.jsf\");\n    driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\n\n    driver.findElement(By.xpath(\"//a[text()='Flights']\")).click();\n    waitForLoad(driver);\n    Set&lt;String&gt; ids = driver.getWindowHandles();\n    Iterator&lt;String&gt; iterator = ids.iterator();\n    String parentID = iterator.next();\n    System.out.println(\"Parent WIn id \" + parentID);\n    String childID = iterator.next();\n    System.out.println(\"child win id \" + childID);\n\n    driver.switchTo().window(childID);\n    List&lt;WebElement&gt; hyperlinks = driver.findElements(By.xpath(\"//a\"));\n\n    System.out.println(\"Total links in tabbed browser \" + hyperlinks.size());\n\n    Thread.sleep(3000);\n//  driver.close();\n    driver.switchTo().window(parentID);\n    List&lt;WebElement&gt; hyperlinksOfParent = driver.findElements(By.xpath(\"//a\"));\n\n    System.out.println(\"Total links \" + hyperlinksOfParent.size());\n\n}\n\npublic static void waitForLoad(WebDriver driver) {\n    ExpectedCondition&lt;Boolean&gt; pageLoadCondition = new\n            ExpectedCondition&lt;Boolean&gt;() {\n                public Boolean apply(WebDriver driver) {\n                    return ((JavascriptExecutor)driver).executeScript(\"return document.readyState\").equals(\"complete\");\n                }\n            };\n    WebDriverWait wait = new WebDriverWait(driver, 30);\n    wait.until(pageLoadCondition);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15095197,"reputation":1792,"user_id":10893827,"display_name":"Norayr Sargsyan"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1610436453,"creation_date":1593010911,"answer_id":62558061,"question_id":12729265,"body_markdown":"        public void switchToNextTab() {\r\n            ArrayList&lt;String&gt; tab = new ArrayList&lt;&gt;(driver.getWindowHandles());\r\n            driver.switchTo().window(tab.get(1));\r\n        }\r\n        \r\n        public void closeAndSwitchToNextTab() {\r\n            driver.close();\r\n            ArrayList&lt;String&gt; tab = new ArrayList&lt;&gt;(driver.getWindowHandles());\r\n            driver.switchTo().window(tab.get(1));\r\n        }\r\n    \r\n        public void switchToPreviousTab() {\r\n            ArrayList&lt;String&gt; tab = new ArrayList&lt;&gt;(driver.getWindowHandles());\r\n            driver.switchTo().window(tab.get(0));\r\n        }\r\n    \r\n        public void closeTabAndReturn() {\r\n            driver.close();\r\n            ArrayList&lt;String&gt; tab = new ArrayList&lt;&gt;(driver.getWindowHandles());\r\n            driver.switchTo().window(tab.get(0));\r\n        }\r\n    \r\n        public void switchToPreviousTabAndClose() {\r\n            ArrayList&lt;String&gt; tab = new ArrayList&lt;&gt;(driver.getWindowHandles());\r\n            driver.switchTo().window(tab.get(1));\r\n            driver.close();\r\n        }","title":"Switch tabs using Selenium WebDriver with Java","body":"<pre><code>    public void switchToNextTab() {\n        ArrayList&lt;String&gt; tab = new ArrayList&lt;&gt;(driver.getWindowHandles());\n        driver.switchTo().window(tab.get(1));\n    }\n    \n    public void closeAndSwitchToNextTab() {\n        driver.close();\n        ArrayList&lt;String&gt; tab = new ArrayList&lt;&gt;(driver.getWindowHandles());\n        driver.switchTo().window(tab.get(1));\n    }\n\n    public void switchToPreviousTab() {\n        ArrayList&lt;String&gt; tab = new ArrayList&lt;&gt;(driver.getWindowHandles());\n        driver.switchTo().window(tab.get(0));\n    }\n\n    public void closeTabAndReturn() {\n        driver.close();\n        ArrayList&lt;String&gt; tab = new ArrayList&lt;&gt;(driver.getWindowHandles());\n        driver.switchTo().window(tab.get(0));\n    }\n\n    public void switchToPreviousTabAndClose() {\n        ArrayList&lt;String&gt; tab = new ArrayList&lt;&gt;(driver.getWindowHandles());\n        driver.switchTo().window(tab.get(1));\n        driver.close();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10338129,"reputation":43,"user_id":7625512,"display_name":"SRM"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1594408607,"creation_date":1594408607,"answer_id":62840962,"question_id":12729265,"body_markdown":"    Set&lt;String&gt; tabs = driver.getWindowHandles();\r\n    Iterator&lt;String&gt; it = tabs.iterator();\r\n    tab1 = it.next();\r\n    tab2 = it.next();\r\n    driver.switchTo().window(tab1);\r\n    driver.close();\r\n    driver.switchTo().window(tab2);\r\n\r\nTry this. It should work\r\n","title":"Switch tabs using Selenium WebDriver with Java","body":"<pre><code>Set&lt;String&gt; tabs = driver.getWindowHandles();\nIterator&lt;String&gt; it = tabs.iterator();\ntab1 = it.next();\ntab2 = it.next();\ndriver.switchTo().window(tab1);\ndriver.close();\ndriver.switchTo().window(tab2);\n</code></pre>\n<p>Try this. It should work</p>\n"},{"comments":[{"owner":{"account_id":6440126,"reputation":6358,"user_id":4990392,"display_name":"Dada"},"score":2,"creation_date":1637831184,"post_id":70098368,"comment_id":123932236,"body_markdown":"Could you please add some explanations to your answer, some reference to a documentation, etc, etc?","body":"Could you please add some explanations to your answer, some reference to a documentation, etc, etc?"}],"tags":[],"owner":{"account_id":23442088,"reputation":11,"user_id":17499453,"display_name":"Александр Соколов"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637842826,"creation_date":1637766094,"answer_id":70098368,"question_id":12729265,"body_markdown":"    WebDriver driver = new FirefoxDriver();\r\n    \r\n    driver.switchTo().window(driver.getWindowHandles().toArray()[numPage].toString());\r\n    \r\n    numPage - int (0,1..)\r\n\r\n","title":"Switch tabs using Selenium WebDriver with Java","body":"<pre><code>WebDriver driver = new FirefoxDriver();\n\ndriver.switchTo().window(driver.getWindowHandles().toArray()[numPage].toString());\n\nnumPage - int (0,1..)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1644523617,"post_id":71065918,"comment_id":125636457,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/71065918/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":24214933,"reputation":1,"user_id":18170957,"display_name":"Ashish"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644499505,"creation_date":1644499505,"answer_id":71065918,"question_id":12729265,"body_markdown":"String mainWindow = driver.getWindowHandle();\r\nseleniumHelper.switchToChildWindow();\r\n..\r\n..//your assertion steps\r\n\r\nseleniumHelper.switchToWindow(mainWindow);\r\n\r\n","title":"Switch tabs using Selenium WebDriver with Java","body":"<p>String mainWindow = driver.getWindowHandle();\nseleniumHelper.switchToChildWindow();\n..\n..//your assertion steps</p>\n<p>seleniumHelper.switchToWindow(mainWindow);</p>\n"},{"tags":[],"owner":{"account_id":21083369,"reputation":1,"user_id":15497133,"display_name":"Luis Dias de Oliveira"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645033240,"creation_date":1645029029,"answer_id":71145645,"question_id":12729265,"body_markdown":"with Java I used this for switching the selenium focus to the new tab.\r\n\r\n    //Before the action that redirect to the new tab:\r\n    String windHandleCurrent = driver.getWindowHandle();\r\n    // code that click in a btn/link in order to open a new tab goes here\r\n    // now to make selenium move to the new tab \r\n    ArrayList&lt;String&gt; windows = new ArrayList&lt;String&gt;(driver.getWindowHandles());\r\n\t    for(int i =0;i&lt;windows.size();i++ ) {\r\n\t    \tString aWindow = windows.get(i);\r\n\t    \tif(aWindow != windHandleCurrent) {\r\n\t    \t\tdriver.switchTo().window(aWindow);\r\n\t    \t}\r\n\t    }\r\n    // now you can code your AssertJUnit for the new tab.","title":"Switch tabs using Selenium WebDriver with Java","body":"<p>with Java I used this for switching the selenium focus to the new tab.</p>\n<pre><code>//Before the action that redirect to the new tab:\nString windHandleCurrent = driver.getWindowHandle();\n// code that click in a btn/link in order to open a new tab goes here\n// now to make selenium move to the new tab \nArrayList&lt;String&gt; windows = new ArrayList&lt;String&gt;(driver.getWindowHandles());\n    for(int i =0;i&lt;windows.size();i++ ) {\n        String aWindow = windows.get(i);\n        if(aWindow != windHandleCurrent) {\n            driver.switchTo().window(aWindow);\n        }\n    }\n// now you can code your AssertJUnit for the new tab.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1023865,"reputation":2105,"user_id":1033591,"accept_rate":77,"display_name":"Alston"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654933597,"creation_date":1654933597,"answer_id":72582588,"question_id":12729265,"body_markdown":"Selenium 4 has new features:\r\n\r\n// Opens a new tab and switches to new tab\r\n`driver.switchTo().newWindow(WindowType.TAB);`\r\n\r\n// Opens a new window and switches to new window\r\n`driver.switchTo().newWindow(WindowType.WINDOW);`","title":"Switch tabs using Selenium WebDriver with Java","body":"<p>Selenium 4 has new features:</p>\n<p>// Opens a new tab and switches to new tab\n<code>driver.switchTo().newWindow(WindowType.TAB);</code></p>\n<p>// Opens a new window and switches to new window\n<code>driver.switchTo().newWindow(WindowType.WINDOW);</code></p>\n"},{"tags":[],"owner":{"account_id":16502447,"reputation":1,"user_id":11923422,"display_name":"MANJUNATHA M R"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658604826,"creation_date":1658604826,"answer_id":73093698,"question_id":12729265,"body_markdown":"**driver.getWindowHandles()** is a Set.I converted it to array of objects  by\r\n  \r\n\r\n    Object[] a=driver.getWindowHandles().toArray;\r\n\r\n \r\nSay you want to switch to 2nd tab then (after conversion) use\r\n  \r\n\r\n    driver.switchTo().windows(a[1].toString());\r\n\r\n","title":"Switch tabs using Selenium WebDriver with Java","body":"<p><strong>driver.getWindowHandles()</strong> is a Set.I converted it to array of objects  by</p>\n<pre><code>Object[] a=driver.getWindowHandles().toArray;\n</code></pre>\n<p>Say you want to switch to 2nd tab then (after conversion) use</p>\n<pre><code>driver.switchTo().windows(a[1].toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25173965,"reputation":21,"user_id":19016445,"display_name":"Thư Nguyễn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678222193,"creation_date":1678222193,"answer_id":75667037,"question_id":12729265,"body_markdown":"Solution with Java\r\n\r\n    Set&lt;String&gt; handles = driver.getWindowHandles();\r\n\tIterator&lt;String&gt; it = handles.iterator();\r\n\tString parentTab = it.next();\r\n    String childTab = it.next();\r\n    // switch to the second tab\r\n    driver.switchTo().window(childTab);\r\n    \r\n    // switch to the first tab\r\n    driver.switchTo().window(parentTab);\r\n\r\n","title":"Switch tabs using Selenium WebDriver with Java","body":"<p>Solution with Java</p>\n<pre><code>Set&lt;String&gt; handles = driver.getWindowHandles();\nIterator&lt;String&gt; it = handles.iterator();\nString parentTab = it.next();\nString childTab = it.next();\n// switch to the second tab\ndriver.switchTo().window(childTab);\n\n// switch to the first tab\ndriver.switchTo().window(parentTab);\n</code></pre>\n"}],"owner":{"account_id":1879948,"reputation":1377,"user_id":1700378,"accept_rate":64,"display_name":"Umesh Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":401913,"favorite_count":0,"down_vote_count":0,"up_vote_count":76,"accepted_answer_id":22944233,"answer_count":27,"score":76,"last_activity_date":1681364035,"creation_date":1349360018,"question_id":12729265,"body_markdown":"Using Selenium WebDriver with Java.\r\nI am trying to automate a functionality where I have to open a new tab do some operations there and come back to previous tab (Parent).\r\nI used switch handle but it&#39;s not working.\r\nAnd one strange thing the two tabs are having same window handle due to which I am not able to switch between tabs.\r\n\r\nHowever when I am trying with different Firefox windows it works, but for tab it&#39;s not working.\r\n\r\nHow can I switch tabs?\r\nOr, how can I switch tabs without using window handle as window handle is same of both tabs in my case?\r\n\r\n(I have observed that when you open different tabs in same window, window handle remains same)","title":"Switch tabs using Selenium WebDriver with Java","body":"<p>Using Selenium WebDriver with Java.\nI am trying to automate a functionality where I have to open a new tab do some operations there and come back to previous tab (Parent).\nI used switch handle but it's not working.\nAnd one strange thing the two tabs are having same window handle due to which I am not able to switch between tabs.</p>\n<p>However when I am trying with different Firefox windows it works, but for tab it's not working.</p>\n<p>How can I switch tabs?\nOr, how can I switch tabs without using window handle as window handle is same of both tabs in my case?</p>\n<p>(I have observed that when you open different tabs in same window, window handle remains same)</p>\n"},{"tags":["java","android","android-studio","android-recyclerview","android-tv"],"comments":[{"owner":{"account_id":2987459,"reputation":9583,"user_id":2535875,"accept_rate":50,"display_name":"Md Imran Choudhury"},"score":0,"creation_date":1666589043,"post_id":70677685,"comment_id":130964341,"body_markdown":"Does this answer your question? [Android TV RecyclerView focus interaction](https://stackoverflow.com/questions/39247993/android-tv-recyclerview-focus-interaction)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/39247993/android-tv-recyclerview-focus-interaction\">Android TV RecyclerView focus interaction</a>"}],"answers":[{"tags":[],"owner":{"account_id":23317933,"reputation":1,"user_id":17398279,"display_name":"silentoz op"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681363654,"creation_date":1681363654,"answer_id":76001929,"question_id":70677685,"body_markdown":"Apply this in your focus Listener\r\n\r\n``` \r\nif(hasFocus){\r\n   if(position == movies_posters.size-1){\r\n    holder.item.nextFocusRight = R.id.item\r\n  }\r\n\r\n}\r\n\r\n```\r\n\r\nin the above code item is the recycler view id\r\n","title":"Android Tv RecyclerView focus Jumps","body":"<p>Apply this in your focus Listener</p>\n<pre><code>if(hasFocus){\n   if(position == movies_posters.size-1){\n    holder.item.nextFocusRight = R.id.item\n  }\n\n}\n\n</code></pre>\n<p>in the above code item is the recycler view id</p>\n"}],"owner":{"account_id":23823403,"reputation":43,"user_id":17830797,"display_name":"Vitaliy Martynyuk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":593,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681363654,"creation_date":1641972178,"question_id":70677685,"body_markdown":"I am developing android app for Android Tv. I have a RecyclerView in which there are items that can be iterated over using the remote control (D-pad). When I reach the end of the RecyclerView, the focus (the stroke around the item in the RecyclerView) jumps or flies off the RecyclerView. I want the focus to stop at the end. Thanks in advance\r\n\r\n\r\n\r\n\r\nMy fragment.xml:\r\n\r\n\r\n\r\n\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.TV.TvPopularFragment&quot;&gt;\r\n    \r\n        &lt;ProgressBar\r\n            android:id=&quot;@+id/progressBar&quot;\r\n            style=&quot;?android:attr/progressBarStyle&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_centerInParent=&quot;true&quot;\r\n            android:indeterminateDrawable=&quot;@drawable/progress_circle_style&quot;/&gt;\r\n    \r\n    \r\n        &lt;androidx.recyclerview.widget.RecyclerView\r\n            android:id=&quot;@+id/moviesRecyclerView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:nextFocusDown=&quot;@+id/moviesRecyclerView&quot;\r\n            android:descendantFocusability=&quot;afterDescendants&quot;\r\n            android:layout_height=&quot;match_parent&quot;/&gt;\r\n    \r\n    \r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\n\r\n\r\nMy fragment.java\r\n\r\n\r\n\r\n    package org.vitaliy.moziapp.TV;\r\n    \r\n    public class TvPopularFragment extends Fragment {\r\n    \r\n    \r\n        FragmentTvPopularBinding binding;\r\n    \r\n        static public boolean isPopularOnTop = false;\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            binding = FragmentTvPopularBinding.inflate(inflater, container, false);\r\n            View root = binding.getRoot();\r\n    \r\n    \r\n            RecyclerView moviesRecycerView = binding.moviesRecyclerView;\r\n            ProgressBar progressBar = binding.progressBar;\r\n    \r\n    \r\n            Display display = getActivity().getWindowManager().getDefaultDisplay();\r\n            DisplayMetrics outMetrics = new DisplayMetrics();\r\n            display.getMetrics(outMetrics);\r\n            float density  = getResources().getDisplayMetrics().density;\r\n            float dpWidth  = outMetrics.widthPixels / density;\r\n            int columns = Math.round(dpWidth/133);\r\n            GridLayoutManager mLayoutManager = new GridLayoutManager(getActivity(),columns);\r\n    \r\n    \r\n    \r\n            moviesRecycerView.setLayoutManager(mLayoutManager);\r\n            PopularAdapter popularAdapter = new PopularAdapter(getActivity(),popular_posters,\r\n                    popular_title, popular_id, popular_categories, popular_votes_pos, popular_votes_neg,\r\n                    popular_last_episode);\r\n    \r\n    \r\n    \r\n            new CountDownTimer(10000, 1000) {\r\n    \r\n                public void onTick(long millisUntilFinished) {\r\n    \r\n                    if(AppActivity.isPopularCategoryLoaded) {\r\n    \r\n                        moviesRecycerView.setAdapter(popularAdapter);\r\n                        progressBar.setVisibility(View.GONE);\r\n                        cancel();\r\n    \r\n                    }\r\n    \r\n                }\r\n    \r\n                public void onFinish() {\r\n                }\r\n            }.start();\r\n    \r\n    \r\n    \r\n    \r\n            moviesRecycerView.addOnScrollListener(new RecyclerView.OnScrollListener() {\r\n                @SuppressLint(&quot;NotifyDataSetChanged&quot;)\r\n                @Override\r\n                public void onScrolled(RecyclerView recyclerView, int dx, int dy) {\r\n    \r\n                    int totalItemCount = mLayoutManager.getItemCount();\r\n                    int lastVisible = mLayoutManager.findLastVisibleItemPosition();\r\n    \r\n                    boolean endHasBeenReached = lastVisible + 15 &gt;= totalItemCount;\r\n    \r\n                    isPopularOnTop = dy == 0;\r\n    \r\n                    if (totalItemCount &gt; 0 &amp;&amp; endHasBeenReached) {\r\n    \r\n    \r\n                        if(AppActivity.popularHasNextPage) {\r\n    \r\n    \r\n                            AppActivity.popularPage += 1;\r\n                            AppActivity.loadPopularCategory();\r\n    \r\n    \r\n                            new CountDownTimer(5000, 1000) {\r\n    \r\n                                public void onTick(long millisUntilFinished) {\r\n    \r\n                                    if(AppActivity.isPopularCategoryLoaded) {\r\n    \r\n                                        progressBar.setVisibility(View.GONE);\r\n                                        popularAdapter.notifyDataSetChanged();\r\n    \r\n                                    }\r\n    \r\n                                }\r\n    \r\n                                public void onFinish() {\r\n                                }\r\n                            }.start();\r\n    \r\n                            AppActivity.popularHasNextPage = false;\r\n    \r\n                        }\r\n    \r\n                    }\r\n                }\r\n            });\r\n    \r\n    \r\n            return root;\r\n        }\r\n    }\r\n\r\n\r\nMy adapter.java:\r\n\r\n\r\n    package org.vitaliy.moziapp.PopularFragment;\r\n    \r\n    public class PopularAdapter extends RecyclerView.Adapter&lt;PopularViewHolder&gt; {\r\n    \r\n    \r\n        static public String current_id;\r\n        static public String current_category;\r\n    \r\n    \r\n        ArrayList&lt;String&gt; movies_posters;\r\n        ArrayList&lt;String&gt; movies_title;\r\n        ArrayList&lt;String&gt; movies_id;\r\n        ArrayList&lt;String&gt; movies_categories;\r\n        ArrayList&lt;String&gt; movies_votes_pos;\r\n        ArrayList&lt;String&gt; movies_votes_neg;\r\n        ArrayList&lt;String&gt; movies_last_episode;\r\n    \r\n    \r\n        LayoutInflater inflater;\r\n        Context context;\r\n    \r\n    \r\n        public PopularAdapter(Context context, ArrayList&lt;String&gt; movies_posters,\r\n                              ArrayList&lt;String&gt; movies_title,\r\n                              ArrayList&lt;String&gt; movies_id,\r\n                              ArrayList&lt;String&gt; movies_categories,\r\n                              ArrayList&lt;String&gt; movies_votes_pos,\r\n                              ArrayList&lt;String&gt; movies_votes_neg,\r\n                              ArrayList&lt;String&gt; movies_last_episode){\r\n    \r\n            this.movies_posters = movies_posters;\r\n            this.movies_title = movies_title;\r\n            this.movies_id = movies_id;\r\n            this.movies_categories = movies_categories;\r\n            this.movies_votes_pos = movies_votes_pos;\r\n            this.movies_votes_neg = movies_votes_neg;\r\n            this.movies_last_episode = movies_last_episode;\r\n    \r\n            this.context = context;\r\n            this.inflater = LayoutInflater.from(context);\r\n    \r\n        }\r\n    \r\n    \r\n        @NonNull\r\n        @Override\r\n        public PopularViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n    \r\n            View view = inflater.inflate(R.layout.item_movie, parent, false);\r\n            return new PopularViewHolder(view);\r\n    \r\n        }\r\n    \r\n        @SuppressLint({&quot;SetTextI18n&quot;, &quot;NotifyDataSetChanged&quot;})\r\n        @Override\r\n        public void onBindViewHolder(@NonNull PopularViewHolder holder, @SuppressLint(&quot;RecyclerView&quot;) int position) {\r\n            \r\n    \r\n            if(movies_categories.get(position).equals(&quot;s7&quot;)||\r\n                    movies_categories.get(position).equals(&quot;s93&quot;)) {\r\n    \r\n                holder.movie_last_episode.setVisibility(View.VISIBLE);\r\n                holder.movie_last_episode.setText(movies_last_episode.get(position));\r\n    \r\n            } else {\r\n                holder.movie_last_episode.setVisibility(View.GONE);\r\n            }\r\n    \r\n    \r\n    \r\n            Picasso.with(context).load(movies_posters.get(position))\r\n                    .into(holder.movie_poster, new Callback() {\r\n                        @Override\r\n                        public void onSuccess() {\r\n    \r\n                        }\r\n    \r\n                        @Override\r\n                        public void onError() {\r\n                            holder.movie_icon.setVisibility(View.VISIBLE);\r\n                        }\r\n                    });\r\n    \r\n            holder.movie_title.setText(Html.fromHtml(movies_title.get(position)));\r\n    \r\n            holder.movie_btn.setOnFocusChangeListener(new View.OnFocusChangeListener() {\r\n                @Override\r\n                public void onFocusChange(View view, boolean b) {\r\n    \r\n                    holder.movie_title.setSelected(b);\r\n    \r\n                }\r\n            });\r\n    \r\n            holder.movie_votes_pos.setText(movies_votes_pos.get(position));\r\n            holder.movie_votes_neg.setText(movies_votes_neg.get(position));\r\n    \r\n    \r\n    \r\n            holder.movie_btn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n    \r\n                    current_id = movies_id.get(position);\r\n                    current_category = movies_categories.get(position);\r\n    \r\n                    AppActivity.current_id = current_id;\r\n    \r\n                    MovieVideosFragment.category = current_category;\r\n                    VideosAdapter.category = current_category;\r\n    \r\n    \r\n                    if (current_category.equals(&quot;s7&quot;) || current_category.equals(&quot;s93&quot;))\r\n                        AppActivity.loadSeriesAudio(current_id);\r\n                    else\r\n                        AppActivity.loadMoviesAudio(current_id);\r\n    \r\n                    AppActivity.isMoviesLoaded = false;\r\n                    AppActivity.isSeriesLoaded = false;\r\n    \r\n                    MovieFragment.year = null;\r\n                    MovieFragment.actors = null;\r\n                    MovieFragment.genres = null;\r\n                    MovieFragment.countries = null;\r\n                    MovieFragment.short_story = null;\r\n    \r\n    \r\n                    AppActivity.loadMovieDescription(current_id);\r\n                    AppActivity.loadSimilar(current_id);\r\n    \r\n    \r\n                    MovieFragment.poster = movies_posters.get(position);\r\n                    MovieFragment.title = movies_title.get(position);\r\n    \r\n                    context.startActivity(new Intent(context, MovieTab.class));\r\n    \r\n    \r\n                }\r\n            });\r\n    \r\n    \r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return movies_posters.size();\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"Android Tv RecyclerView focus Jumps","body":"<p>I am developing android app for Android Tv. I have a RecyclerView in which there are items that can be iterated over using the remote control (D-pad). When I reach the end of the RecyclerView, the focus (the stroke around the item in the RecyclerView) jumps or flies off the RecyclerView. I want the focus to stop at the end. Thanks in advance</p>\n<p>My fragment.xml:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.TV.TvPopularFragment&quot;&gt;\n\n    &lt;ProgressBar\n        android:id=&quot;@+id/progressBar&quot;\n        style=&quot;?android:attr/progressBarStyle&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_centerInParent=&quot;true&quot;\n        android:indeterminateDrawable=&quot;@drawable/progress_circle_style&quot;/&gt;\n\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/moviesRecyclerView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:nextFocusDown=&quot;@+id/moviesRecyclerView&quot;\n        android:descendantFocusability=&quot;afterDescendants&quot;\n        android:layout_height=&quot;match_parent&quot;/&gt;\n\n\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>My fragment.java</p>\n<pre><code>package org.vitaliy.moziapp.TV;\n\npublic class TvPopularFragment extends Fragment {\n\n\n    FragmentTvPopularBinding binding;\n\n    static public boolean isPopularOnTop = false;\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        binding = FragmentTvPopularBinding.inflate(inflater, container, false);\n        View root = binding.getRoot();\n\n\n        RecyclerView moviesRecycerView = binding.moviesRecyclerView;\n        ProgressBar progressBar = binding.progressBar;\n\n\n        Display display = getActivity().getWindowManager().getDefaultDisplay();\n        DisplayMetrics outMetrics = new DisplayMetrics();\n        display.getMetrics(outMetrics);\n        float density  = getResources().getDisplayMetrics().density;\n        float dpWidth  = outMetrics.widthPixels / density;\n        int columns = Math.round(dpWidth/133);\n        GridLayoutManager mLayoutManager = new GridLayoutManager(getActivity(),columns);\n\n\n\n        moviesRecycerView.setLayoutManager(mLayoutManager);\n        PopularAdapter popularAdapter = new PopularAdapter(getActivity(),popular_posters,\n                popular_title, popular_id, popular_categories, popular_votes_pos, popular_votes_neg,\n                popular_last_episode);\n\n\n\n        new CountDownTimer(10000, 1000) {\n\n            public void onTick(long millisUntilFinished) {\n\n                if(AppActivity.isPopularCategoryLoaded) {\n\n                    moviesRecycerView.setAdapter(popularAdapter);\n                    progressBar.setVisibility(View.GONE);\n                    cancel();\n\n                }\n\n            }\n\n            public void onFinish() {\n            }\n        }.start();\n\n\n\n\n        moviesRecycerView.addOnScrollListener(new RecyclerView.OnScrollListener() {\n            @SuppressLint(&quot;NotifyDataSetChanged&quot;)\n            @Override\n            public void onScrolled(RecyclerView recyclerView, int dx, int dy) {\n\n                int totalItemCount = mLayoutManager.getItemCount();\n                int lastVisible = mLayoutManager.findLastVisibleItemPosition();\n\n                boolean endHasBeenReached = lastVisible + 15 &gt;= totalItemCount;\n\n                isPopularOnTop = dy == 0;\n\n                if (totalItemCount &gt; 0 &amp;&amp; endHasBeenReached) {\n\n\n                    if(AppActivity.popularHasNextPage) {\n\n\n                        AppActivity.popularPage += 1;\n                        AppActivity.loadPopularCategory();\n\n\n                        new CountDownTimer(5000, 1000) {\n\n                            public void onTick(long millisUntilFinished) {\n\n                                if(AppActivity.isPopularCategoryLoaded) {\n\n                                    progressBar.setVisibility(View.GONE);\n                                    popularAdapter.notifyDataSetChanged();\n\n                                }\n\n                            }\n\n                            public void onFinish() {\n                            }\n                        }.start();\n\n                        AppActivity.popularHasNextPage = false;\n\n                    }\n\n                }\n            }\n        });\n\n\n        return root;\n    }\n}\n</code></pre>\n<p>My adapter.java:</p>\n<pre><code>package org.vitaliy.moziapp.PopularFragment;\n\npublic class PopularAdapter extends RecyclerView.Adapter&lt;PopularViewHolder&gt; {\n\n\n    static public String current_id;\n    static public String current_category;\n\n\n    ArrayList&lt;String&gt; movies_posters;\n    ArrayList&lt;String&gt; movies_title;\n    ArrayList&lt;String&gt; movies_id;\n    ArrayList&lt;String&gt; movies_categories;\n    ArrayList&lt;String&gt; movies_votes_pos;\n    ArrayList&lt;String&gt; movies_votes_neg;\n    ArrayList&lt;String&gt; movies_last_episode;\n\n\n    LayoutInflater inflater;\n    Context context;\n\n\n    public PopularAdapter(Context context, ArrayList&lt;String&gt; movies_posters,\n                          ArrayList&lt;String&gt; movies_title,\n                          ArrayList&lt;String&gt; movies_id,\n                          ArrayList&lt;String&gt; movies_categories,\n                          ArrayList&lt;String&gt; movies_votes_pos,\n                          ArrayList&lt;String&gt; movies_votes_neg,\n                          ArrayList&lt;String&gt; movies_last_episode){\n\n        this.movies_posters = movies_posters;\n        this.movies_title = movies_title;\n        this.movies_id = movies_id;\n        this.movies_categories = movies_categories;\n        this.movies_votes_pos = movies_votes_pos;\n        this.movies_votes_neg = movies_votes_neg;\n        this.movies_last_episode = movies_last_episode;\n\n        this.context = context;\n        this.inflater = LayoutInflater.from(context);\n\n    }\n\n\n    @NonNull\n    @Override\n    public PopularViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n\n        View view = inflater.inflate(R.layout.item_movie, parent, false);\n        return new PopularViewHolder(view);\n\n    }\n\n    @SuppressLint({&quot;SetTextI18n&quot;, &quot;NotifyDataSetChanged&quot;})\n    @Override\n    public void onBindViewHolder(@NonNull PopularViewHolder holder, @SuppressLint(&quot;RecyclerView&quot;) int position) {\n        \n\n        if(movies_categories.get(position).equals(&quot;s7&quot;)||\n                movies_categories.get(position).equals(&quot;s93&quot;)) {\n\n            holder.movie_last_episode.setVisibility(View.VISIBLE);\n            holder.movie_last_episode.setText(movies_last_episode.get(position));\n\n        } else {\n            holder.movie_last_episode.setVisibility(View.GONE);\n        }\n\n\n\n        Picasso.with(context).load(movies_posters.get(position))\n                .into(holder.movie_poster, new Callback() {\n                    @Override\n                    public void onSuccess() {\n\n                    }\n\n                    @Override\n                    public void onError() {\n                        holder.movie_icon.setVisibility(View.VISIBLE);\n                    }\n                });\n\n        holder.movie_title.setText(Html.fromHtml(movies_title.get(position)));\n\n        holder.movie_btn.setOnFocusChangeListener(new View.OnFocusChangeListener() {\n            @Override\n            public void onFocusChange(View view, boolean b) {\n\n                holder.movie_title.setSelected(b);\n\n            }\n        });\n\n        holder.movie_votes_pos.setText(movies_votes_pos.get(position));\n        holder.movie_votes_neg.setText(movies_votes_neg.get(position));\n\n\n\n        holder.movie_btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                current_id = movies_id.get(position);\n                current_category = movies_categories.get(position);\n\n                AppActivity.current_id = current_id;\n\n                MovieVideosFragment.category = current_category;\n                VideosAdapter.category = current_category;\n\n\n                if (current_category.equals(&quot;s7&quot;) || current_category.equals(&quot;s93&quot;))\n                    AppActivity.loadSeriesAudio(current_id);\n                else\n                    AppActivity.loadMoviesAudio(current_id);\n\n                AppActivity.isMoviesLoaded = false;\n                AppActivity.isSeriesLoaded = false;\n\n                MovieFragment.year = null;\n                MovieFragment.actors = null;\n                MovieFragment.genres = null;\n                MovieFragment.countries = null;\n                MovieFragment.short_story = null;\n\n\n                AppActivity.loadMovieDescription(current_id);\n                AppActivity.loadSimilar(current_id);\n\n\n                MovieFragment.poster = movies_posters.get(position);\n                MovieFragment.title = movies_title.get(position);\n\n                context.startActivity(new Intent(context, MovieTab.class));\n\n\n            }\n        });\n\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return movies_posters.size();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":2571786,"reputation":1434,"user_id":2230325,"display_name":"rMonteiro"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681363502,"creation_date":1681363502,"answer_id":76001912,"question_id":76001878,"body_markdown":" 1. Start with `fileCollectTasklet()`.\r\n 2. If `fileCollectTasklet()` fails (`on(&quot;FAILED&quot;)`), run `writerTasklet()` and fail the job regardless of the outcome of `writerTasklet()` (`.on(&quot;*&quot;).fail()`).\r\n 3. If `fileCollectTasklet()` finishes with any other status, run `writerTasklet()` and complete the job regardless of the outcome of `writerTasklet()` (`.on(&quot;*&quot;).end()`).\r\n\r\n\r\n\r\n```\r\npublic Job testJob() {\r\n    return jobBuilderFactory.get(&quot;test_job&quot;)\r\n            .incrementer(new RunIdIncrementer())\r\n            .preventRestart()\r\n            .start(fileCollectTasklet())\r\n                .on(&quot;FAILED&quot;)\r\n                .to(writerTasklet()).on(&quot;*&quot;).fail()\r\n            .from(fileCollectTasklet())\r\n                .on(&quot;*&quot;)\r\n                .to(writerTasklet())\r\n                .on(&quot;*&quot;)\r\n                .end()\r\n            .end();\r\n}\r\n```","title":"spring batch flow control (My step has all completed but job drops fail status)","body":"<ol>\n<li>Start with <code>fileCollectTasklet()</code>.</li>\n<li>If <code>fileCollectTasklet()</code> fails (<code>on(&quot;FAILED&quot;)</code>), run <code>writerTasklet()</code> and fail the job regardless of the outcome of <code>writerTasklet()</code> (<code>.on(&quot;*&quot;).fail()</code>).</li>\n<li>If <code>fileCollectTasklet()</code> finishes with any other status, run <code>writerTasklet()</code> and complete the job regardless of the outcome of <code>writerTasklet()</code> (<code>.on(&quot;*&quot;).end()</code>).</li>\n</ol>\n<pre><code>public Job testJob() {\n    return jobBuilderFactory.get(&quot;test_job&quot;)\n            .incrementer(new RunIdIncrementer())\n            .preventRestart()\n            .start(fileCollectTasklet())\n                .on(&quot;FAILED&quot;)\n                .to(writerTasklet()).on(&quot;*&quot;).fail()\n            .from(fileCollectTasklet())\n                .on(&quot;*&quot;)\n                .to(writerTasklet())\n                .on(&quot;*&quot;)\n                .end()\n            .end();\n}\n</code></pre>\n"}],"owner":{"account_id":28291182,"reputation":21,"user_id":21631286,"display_name":"주행가 종시기"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1681363502,"creation_date":1681363209,"question_id":76001878,"body_markdown":"Hi i&#39;m using spring batch to make some batch product but my logic doesn&#39;t work.\r\nI want to know why!\r\nPlease give some answer\r\n\r\n\r\n\r\nMy logic is like this\r\n\r\n\r\n```java \r\npublic test_job(){\r\n   return jobBuilderFactory.get(&quot;test_job&quot;).incrementer(new RunIdIncrementer()).preventRestart()\r\n          .start(fileCollectTasklet())\r\n             .on(&quot;FAILED&quot;)\r\n             .to(writerTasklet())\r\n             .on(&quot;*&quot;)\r\n             .fail()\r\n          .from(fileCollectTasklet())\r\n             .on(&quot;FAILED&quot;)\r\n             .to(writerTasklet())\r\n             .on(&quot;*&quot;)\r\n             .end()\r\n          .end()\r\n}\r\n```\r\n\r\n\r\nI want to make if fileCollectTasklet() finished with FAILED, then run writerTasklet and make end job with fail status doesn&#39;t matter how writerTasklet end.\r\nAnd if fileCollectTasklet() finished with COMPLETE, then run writerTasklet and make end job with SUCESS status doesn&#39;t matter how writerTasklet end.\r\n\r\nCould you guys help me???? \r\n\r\n","title":"spring batch flow control (My step has all completed but job drops fail status)","body":"<p>Hi i'm using spring batch to make some batch product but my logic doesn't work.\nI want to know why!\nPlease give some answer</p>\n<p>My logic is like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>public test_job(){\n   return jobBuilderFactory.get(&quot;test_job&quot;).incrementer(new RunIdIncrementer()).preventRestart()\n          .start(fileCollectTasklet())\n             .on(&quot;FAILED&quot;)\n             .to(writerTasklet())\n             .on(&quot;*&quot;)\n             .fail()\n          .from(fileCollectTasklet())\n             .on(&quot;FAILED&quot;)\n             .to(writerTasklet())\n             .on(&quot;*&quot;)\n             .end()\n          .end()\n}\n</code></pre>\n<p>I want to make if fileCollectTasklet() finished with FAILED, then run writerTasklet and make end job with fail status doesn't matter how writerTasklet end.\nAnd if fileCollectTasklet() finished with COMPLETE, then run writerTasklet and make end job with SUCESS status doesn't matter how writerTasklet end.</p>\n<p>Could you guys help me????</p>\n"},{"tags":["java","spring-boot","ssl","encryption"],"owner":{"account_id":27808633,"reputation":11,"user_id":21231435,"display_name":"ai-rin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681362215,"creation_date":1677217156,"question_id":75552967,"body_markdown":"I developed a simple Rest API controller as springboot.\r\nThe code is as follows.\r\n\r\n```\r\n@RequestMapping(&quot;/v1&quot;)\r\n@RestController\r\npublic class AgentController {\r\n\r\n  @PostMapping(&quot;/api/list&quot;)\r\n  public ResponseEntity&lt;ApiResponse&gt; getList(@RequestBody ApiRequest requestBody, HttpServletRequest request) {\r\n     \r\n      // some codes\r\n      return response;\r\n  }\r\n}\r\n```\r\nMy question is as follows.\r\nI&#39;m going to destroy the encryption key used in TLS communication, but I don&#39;t know how to access it.\r\nI don&#39;t know if it&#39;s possible within the getList() function of the code or if I need to implement another class with the help of springboot.\r\n\r\nI tried the following.\r\n```\r\nHttpSession session = request.getSession(false);\r\nSystem.out.println(&quot;1&quot;);\r\nif (session != null) {\r\n  System.out.println(&quot;2&quot;);\r\n  SSLSession sslSession = (SSLSession) session.getAttribute(&quot;javax.servlet.request.ssl_session&quot;);\r\n\r\n   // Some codes..\r\n}\r\n```\r\nHowever, the value of the &quot;session&quot; variable was always null.\r\nHow do i Destroy the tls encryption key(session key) where https communication has been completed with springboot 2.7.\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How do i Destroy the tls encryption key(session key) where https communication has been completed with springboot 2.7","body":"<p>I developed a simple Rest API controller as springboot.\nThe code is as follows.</p>\n<pre><code>@RequestMapping(&quot;/v1&quot;)\n@RestController\npublic class AgentController {\n\n  @PostMapping(&quot;/api/list&quot;)\n  public ResponseEntity&lt;ApiResponse&gt; getList(@RequestBody ApiRequest requestBody, HttpServletRequest request) {\n     \n      // some codes\n      return response;\n  }\n}\n</code></pre>\n<p>My question is as follows.\nI'm going to destroy the encryption key used in TLS communication, but I don't know how to access it.\nI don't know if it's possible within the getList() function of the code or if I need to implement another class with the help of springboot.</p>\n<p>I tried the following.</p>\n<pre><code>HttpSession session = request.getSession(false);\nSystem.out.println(&quot;1&quot;);\nif (session != null) {\n  System.out.println(&quot;2&quot;);\n  SSLSession sslSession = (SSLSession) session.getAttribute(&quot;javax.servlet.request.ssl_session&quot;);\n\n   // Some codes..\n}\n</code></pre>\n<p>However, the value of the &quot;session&quot; variable was always null.\nHow do i Destroy the tls encryption key(session key) where https communication has been completed with springboot 2.7.</p>\n"},{"tags":["java","gzip","gzipinputstream"],"comments":[{"owner":{"account_id":15047867,"reputation":2292,"user_id":10860403,"display_name":"ewokx"},"score":2,"creation_date":1681360298,"post_id":76001619,"comment_id":134044540,"body_markdown":"I could be wrong, but isn&#39;t that a base64 encoded string?   Then you&#39;d have to base64 decode it.","body":"I could be wrong, but isn&#39;t that a base64 encoded string?   Then you&#39;d have to base64 decode it."},{"owner":{"account_id":9860685,"reputation":559,"user_id":7303809,"accept_rate":75,"display_name":"SW Williams"},"score":0,"creation_date":1681360882,"post_id":76001619,"comment_id":134044596,"body_markdown":"Sorry bad example, the actual string is very long so I just used the same tool I used to decompress the string to encode &quot;Hello World&quot;, but apparently it also Base64 encodes it. I edited my post to include part of the actual GZIP string","body":"Sorry bad example, the actual string is very long so I just used the same tool I used to decompress the string to encode &quot;Hello World&quot;, but apparently it also Base64 encodes it. I edited my post to include part of the actual GZIP string"},{"owner":{"account_id":9860685,"reputation":559,"user_id":7303809,"accept_rate":75,"display_name":"SW Williams"},"score":0,"creation_date":1681364052,"post_id":76001619,"comment_id":134044903,"body_markdown":"Turns out my original string was indeed base64 encoded. The prefix threw me off. Thanks for the help!","body":"Turns out my original string was indeed base64 encoded. The prefix threw me off. Thanks for the help!"}],"answers":[{"comments":[{"owner":{"account_id":9860685,"reputation":559,"user_id":7303809,"accept_rate":75,"display_name":"SW Williams"},"score":0,"creation_date":1681360895,"post_id":76001648,"comment_id":134044600,"body_markdown":"Sorry I gave a bad example, the actual string is very long so I just used the same tool I used to decompress the string to encode &quot;Hello World&quot;, but apparently it also Base64 encodes it. I edited my post to include part of the actual GZIP string","body":"Sorry I gave a bad example, the actual string is very long so I just used the same tool I used to decompress the string to encode &quot;Hello World&quot;, but apparently it also Base64 encodes it. I edited my post to include part of the actual GZIP string"},{"owner":{"account_id":9860685,"reputation":559,"user_id":7303809,"accept_rate":75,"display_name":"SW Williams"},"score":0,"creation_date":1681362616,"post_id":76001648,"comment_id":134044743,"body_markdown":"Although actually it turns out my original string was indeed Base64 encoded... Thanks for the help","body":"Although actually it turns out my original string was indeed Base64 encoded... Thanks for the help"}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1681360431,"creation_date":1681360431,"answer_id":76001648,"question_id":76001619,"body_markdown":"This:\r\n\r\n&gt; H4sIAAAAAAAACvNIzcnJVwjPL8pJAQBWsRdKCwAAAA==\r\n\r\nIs Base64. Which is an encoding that lets you put bytes in character form, such that the characters survive just about any and all text-only mediums.\r\n\r\nIt is __extremely inefficient__, inflating the size of your data: Every 3 bytes requires 4 characters here (so, at least 4 bytes in transfer).\r\n\r\nWhat you probably have here is data that went through this process:\r\n\r\n* First, GZip this data.\r\n* Second, Base64 the gzipped data.\r\n\r\nWhich is weird - first, efficiently store it, then, send it very inefficiently. It makes sense only if it&#39;s in a medium that can&#39;t handle bytes (such as basic JSON, or HTTP headers), and you might want to think about that medium then.\r\n\r\nAt any rate, to get back to the original data, apply the same steps, in reverse:\r\n\r\n* First, de-base64 that, which gives you a byte array.\r\n* Next, make that the basis for a ByteArrayInputStream and toss it at GZIPInputStream.\r\n\r\nBase64 is [baked into java](https://docs.oracle.com/javase/8/docs/api/java/util/Base64.html).\r\n\r\n```\r\nbyte[] compressedData = Base64.getDecoder().decode(&quot;H4sIAAAAAAAACvNIzcnJVwjPL8pJAQBWsRdKCwAAAA==&quot;));\r\nvar gz = new GZIPInputStream(new ByteArrayInputStream(compressedData));\r\n```\r\n","title":"How to handle a GZIP String from message body API response?","body":"<p>This:</p>\n<blockquote>\n<p>H4sIAAAAAAAACvNIzcnJVwjPL8pJAQBWsRdKCwAAAA==</p>\n</blockquote>\n<p>Is Base64. Which is an encoding that lets you put bytes in character form, such that the characters survive just about any and all text-only mediums.</p>\n<p>It is <strong>extremely inefficient</strong>, inflating the size of your data: Every 3 bytes requires 4 characters here (so, at least 4 bytes in transfer).</p>\n<p>What you probably have here is data that went through this process:</p>\n<ul>\n<li>First, GZip this data.</li>\n<li>Second, Base64 the gzipped data.</li>\n</ul>\n<p>Which is weird - first, efficiently store it, then, send it very inefficiently. It makes sense only if it's in a medium that can't handle bytes (such as basic JSON, or HTTP headers), and you might want to think about that medium then.</p>\n<p>At any rate, to get back to the original data, apply the same steps, in reverse:</p>\n<ul>\n<li>First, de-base64 that, which gives you a byte array.</li>\n<li>Next, make that the basis for a ByteArrayInputStream and toss it at GZIPInputStream.</li>\n</ul>\n<p>Base64 is <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Base64.html\" rel=\"nofollow noreferrer\">baked into java</a>.</p>\n<pre><code>byte[] compressedData = Base64.getDecoder().decode(&quot;H4sIAAAAAAAACvNIzcnJVwjPL8pJAQBWsRdKCwAAAA==&quot;));\nvar gz = new GZIPInputStream(new ByteArrayInputStream(compressedData));\n</code></pre>\n"}],"owner":{"account_id":9860685,"reputation":559,"user_id":7303809,"accept_rate":75,"display_name":"SW Williams"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76001648,"answer_count":1,"score":1,"last_activity_date":1681361277,"creation_date":1681360071,"question_id":76001619,"body_markdown":"I&#39;m working with a system that returns a GZIP **string** (not a binary or stream) in its response. For example, `gzip:H4sIAAAAAAAAALS9665wyXEd9i7zm21U37vnVwwZAREEAZJYgBEjMKq6uiVLNimQlBDRyLtnrX3GD+ACIlEDznyaffbpXV21Vl1W/bdf/vKv/3R/+fWXf/4n17/cX373y/l7/cPfXf+3f/nl1zxWrmW2Vfeev/vlL/p3f/7l1//4f//uF7vvj3+6f/unP/zy63/75T/9p//+CPz97375F/0v//zb3/2q/1X/+sc...` (had to omit the full string as its very long) . I&#39;m able to verify its GZIP compressed since tools such as https://www.multiutil.com/gzip-to-text-decompress/ are returning the expected uncompressed string.\r\n\r\n\r\nHowever I&#39;m stuck trying to find a way to handle this string in Java. \r\n\r\nI&#39;ve tried\r\n\r\n```\r\nfinal GZIPInputStream gzipInput = new GZIPInputStream(new ByteArrayInputStream(compressedString.getBytes()));\r\n```\r\n\r\nbut this line is throwing `java.util.zip.ZipException: Not in GZIP format`.\r\n\r\nI&#39;ve searched around here but the similar posts are regarding when GZIP is in a http response and can be read from the stream. In my case, my GZIP data is already given to me as a string.\r\n\r\nAny pointers would be greatly appreciated, thank you.","title":"How to handle a GZIP String from message body API response?","body":"<p>I'm working with a system that returns a GZIP <strong>string</strong> (not a binary or stream) in its response. For example, <code>gzip:H4sIAAAAAAAAALS9665wyXEd9i7zm21U37vnVwwZAREEAZJYgBEjMKq6uiVLNimQlBDRyLtnrX3GD+ACIlEDznyaffbpXV21Vl1W/bdf/vKv/3R/+fWXf/4n17/cX373y/l7/cPfXf+3f/nl1zxWrmW2Vfeev/vlL/p3f/7l1//4f//uF7vvj3+6f/unP/zy63/75T/9p//+CPz97375F/0v//zb3/2q/1X/+sc...</code> (had to omit the full string as its very long) . I'm able to verify its GZIP compressed since tools such as <a href=\"https://www.multiutil.com/gzip-to-text-decompress/\" rel=\"nofollow noreferrer\">https://www.multiutil.com/gzip-to-text-decompress/</a> are returning the expected uncompressed string.</p>\n<p>However I'm stuck trying to find a way to handle this string in Java.</p>\n<p>I've tried</p>\n<pre><code>final GZIPInputStream gzipInput = new GZIPInputStream(new ByteArrayInputStream(compressedString.getBytes()));\n</code></pre>\n<p>but this line is throwing <code>java.util.zip.ZipException: Not in GZIP format</code>.</p>\n<p>I've searched around here but the similar posts are regarding when GZIP is in a http response and can be read from the stream. In my case, my GZIP data is already given to me as a string.</p>\n<p>Any pointers would be greatly appreciated, thank you.</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa","spring-data"],"owner":{"account_id":15287059,"reputation":113,"user_id":11029787,"display_name":"Saher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681360653,"creation_date":1681360653,"question_id":76001663,"body_markdown":"Here is my scenario.... I have two tables User Table (which has a composite PK of 3 fields), and OrgFunc Table (which has a composite PK of 2 fields).\r\n\r\nI&#39;m trying to configure the @OneToMany relationship in JPA, and I&#39;m not finding a way.\r\n\r\nthe first class\r\n```java\r\n@Table(name=&quot;user&quot;)\r\n@IdClass(UserPk.class)\r\n...\r\npublic class User implements Serializable {\r\n  @Id\r\n  @column(name=&quot;org&quot;)\r\n  private String org;\r\n\r\n  @Id\r\n  @column(name=&quot;user_id&quot;)\r\n  private String userId;\r\n\r\n  @Id\r\n  @column(name=&quot;user_func&quot;)\r\n  private String userFunc\r\n\r\n  @column=(name = &quot;xyz&quot;)\r\n  private String xyz;\r\n\r\n  @OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n  // @MapsId(&quot;OrgFuncPk&quot;)\r\n  @JoinColumns({\r\n        @JoinColumn(name=&quot;org&quot;, referencedColumnName=&quot;org&quot;),\r\n    \t@JoinColumn(name=&quot;user_func&quot;, referencedColumnName=&quot;user_func&quot;)\r\n    })\r\n  private List&lt;CliRole&gt; cliRoles;\r\n}\r\n```\r\n\r\nthe second class\r\n```java\r\n@Table(name=&quot;org_func&quot;)\r\n@IdClass(OrgFuncPk.class)\r\n...\r\npublic class OrgFunc implements Serializable {\r\n  @Id\r\n  @column(name=&quot;org&quot;)\r\n  private String org;\r\n\r\n  @Id\r\n  @column(name=&quot;user_func&quot;)\r\n  private String userFunc\r\n\r\n  @column(name=&quot;abc&quot;)\r\n  private String abc;\r\n}\r\n```\r\n\r\nI&#39;m trying to query the first table with user_id &amp; bring back all the user rows from the two tables combined.\r\n\r\nI&#39;ve tried a lot of variations with no luck, this is the variation the makes most sense to me, but I&#39;m getting the below error at runtime\r\n```\r\nreferencedColumnNames(org, user_func) of OrgFunc referencing User not mapped to a single property\r\n```\r\n\r\nleaving out the `@JoinColumns` and having a `@MapId(&quot;OrgFuncPk&quot;)` instead, does let the application run. but throws an error about `ERROR: relation &quot;user_org_fun&quot; does not exists`.\r\n\r\nnot sure where to go from that point. I think my problem is I&#39;m trying to map a partial composite key from the user to the full composite in the org_func.\r\n\r\nAny Ideas?","title":"JPA relational setup for two classes both with composite keys","body":"<p>Here is my scenario.... I have two tables User Table (which has a composite PK of 3 fields), and OrgFunc Table (which has a composite PK of 2 fields).</p>\n<p>I'm trying to configure the @OneToMany relationship in JPA, and I'm not finding a way.</p>\n<p>the first class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Table(name=&quot;user&quot;)\n@IdClass(UserPk.class)\n...\npublic class User implements Serializable {\n  @Id\n  @column(name=&quot;org&quot;)\n  private String org;\n\n  @Id\n  @column(name=&quot;user_id&quot;)\n  private String userId;\n\n  @Id\n  @column(name=&quot;user_func&quot;)\n  private String userFunc\n\n  @column=(name = &quot;xyz&quot;)\n  private String xyz;\n\n  @OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n  // @MapsId(&quot;OrgFuncPk&quot;)\n  @JoinColumns({\n        @JoinColumn(name=&quot;org&quot;, referencedColumnName=&quot;org&quot;),\n        @JoinColumn(name=&quot;user_func&quot;, referencedColumnName=&quot;user_func&quot;)\n    })\n  private List&lt;CliRole&gt; cliRoles;\n}\n</code></pre>\n<p>the second class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Table(name=&quot;org_func&quot;)\n@IdClass(OrgFuncPk.class)\n...\npublic class OrgFunc implements Serializable {\n  @Id\n  @column(name=&quot;org&quot;)\n  private String org;\n\n  @Id\n  @column(name=&quot;user_func&quot;)\n  private String userFunc\n\n  @column(name=&quot;abc&quot;)\n  private String abc;\n}\n</code></pre>\n<p>I'm trying to query the first table with user_id &amp; bring back all the user rows from the two tables combined.</p>\n<p>I've tried a lot of variations with no luck, this is the variation the makes most sense to me, but I'm getting the below error at runtime</p>\n<pre><code>referencedColumnNames(org, user_func) of OrgFunc referencing User not mapped to a single property\n</code></pre>\n<p>leaving out the <code>@JoinColumns</code> and having a <code>@MapId(&quot;OrgFuncPk&quot;)</code> instead, does let the application run. but throws an error about <code>ERROR: relation &quot;user_org_fun&quot; does not exists</code>.</p>\n<p>not sure where to go from that point. I think my problem is I'm trying to map a partial composite key from the user to the full composite in the org_func.</p>\n<p>Any Ideas?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9720,"page":505,"page_size":100}
