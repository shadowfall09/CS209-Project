{"items":[{"tags":["java","openstreetmap","osmosis"],"answers":[{"tags":[],"owner":{"account_id":17852140,"reputation":11,"user_id":12967667,"display_name":"Jacopo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683196394,"creation_date":1669286317,"answer_id":74559374,"question_id":74380714,"body_markdown":"I found out the answer now: \r\n\r\nHere is an example of how you would get all the shops in a specific bouding box and store them in lists for the nodes, ways, and relations in lists.\r\n\r\nI use kotllin with gradle.\r\n\r\nIn the gradle.kts:\r\n\r\n```\r\ndependencies {\r\n    implementation(&quot;org.openstreetmap.osmosis:osmosis-pbf:0.48.3&quot;)\r\n    implementation(&quot;org.openstreetmap.osmosis:osmosis-areafilter:0.48.3&quot;)\r\n}\r\n```\r\n\r\nThe code:\r\n\r\n```\r\nimport crosby.binary.osmosis.OsmosisReader\r\nimport org.openstreetmap.osmosis.areafilter.v0_6.BoundingBoxFilter\r\nimport org.openstreetmap.osmosis.core.container.v0_6.*\r\nimport org.openstreetmap.osmosis.core.domain.v0_6.*\r\nimport org.openstreetmap.osmosis.core.filter.common.IdTrackerType\r\nimport org.openstreetmap.osmosis.core.task.v0_6.Sink\r\nimport java.io.FileInputStream\r\n\r\nclass CustomProcessor : Sink {\r\n    // Here the results will be stored\r\n    val nodes = mutableListOf&lt;Node&gt;()\r\n    val ways = mutableListOf&lt;Way&gt;()\r\n    val relations = mutableListOf&lt;Relation&gt;()\r\n\r\n    override fun close() {\r\n        // Close all your readers and such\r\n    }\r\n\r\n    override fun initialize(metaData: MutableMap&lt;String, Any&gt;?) {\r\n        // Don&#39;t know when to use this\r\n    }\r\n\r\n    override fun complete() {\r\n        // If you first put data into storages you can process them here after you have all you need\r\n    }\r\n\r\n    override fun process(entityContainer: EntityContainer?) {\r\n        val entity = entityContainer?.entity\r\n\r\n        // Filter for shops\r\n        var foundIt = false\r\n        if (entity != null) {\r\n            for (tag in entity.tags) {\r\n                if (tag.key == &quot;shop&quot;) {\r\n                    foundIt = true\r\n                    break\r\n                }\r\n            }\r\n        }\r\n\r\n        // If the object is a shop\r\n        if (foundIt) {\r\n            if (entity is Node) {\r\n                nodes.add(entity)\r\n            } else if (entity is Way) {\r\n                ways.add(entity)\r\n            } else if (entity is Relation) {\r\n                relations.add(entity)\r\n            } else if (entity is Bound) {\r\n                // We don&#39;t store bounds\r\n            } else {\r\n                // Shouldn&#39;t be possible\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfun main(args: Array&lt;String&gt;) {\r\n    // Set input stream\r\n    val inputStream = FileInputStream(&quot;path/to/my/file.osm.pbf&quot;)\r\n\r\n    // Create the bounding box filter\r\n    val bbFilter = BoundingBoxFilter(\r\n        IdTrackerType.Dynamic, // ID tracker used internally. This is the default.\r\n        11.5256, // Left lon\r\n        11.5004, // Right lon\r\n        48.84543, // Top lat\r\n        48.8015, // Bottom lat\r\n        true, // Remove ways and relation only partly in bounding box?\r\n        false, // Include all nodes of ways only partly in bounding box.\r\n        false, // Include all nodes and ways of relations only partly in bounding box.\r\n        false // Include all relations that reference relation inside bounding box.\r\n    )\r\n\r\n    // Create your processor\r\n    val processor = CustomProcessor()\r\n\r\n    // Define your pipeline\r\n    val reader = OsmosisReader(inputStream)\r\n    bbFilter.setSink(processor)\r\n    reader.setSink(bbFilter)\r\n\r\n    // Run\r\n    reader.run()\r\n\r\n    // Get your data\r\n    val nodes = processor.nodes\r\n    val ways = processor.ways\r\n    val relations = processor.relations\r\n}\r\n\r\n```\r\n\r\nIf you want the geometries of ways and relations you will also need to store the nodes they consist of. These are not tagged with &quot;shop&quot;. Storing them in lists is quite RAM intensive so it is best to use the org.openstreetmap.osmosis.core.store.SimpleObjectStore class.\r\n","title":"Osmosis. Use bounding box filter in java code","body":"<p>I found out the answer now:</p>\n<p>Here is an example of how you would get all the shops in a specific bouding box and store them in lists for the nodes, ways, and relations in lists.</p>\n<p>I use kotllin with gradle.</p>\n<p>In the gradle.kts:</p>\n<pre><code>dependencies {\n    implementation(&quot;org.openstreetmap.osmosis:osmosis-pbf:0.48.3&quot;)\n    implementation(&quot;org.openstreetmap.osmosis:osmosis-areafilter:0.48.3&quot;)\n}\n</code></pre>\n<p>The code:</p>\n<pre><code>import crosby.binary.osmosis.OsmosisReader\nimport org.openstreetmap.osmosis.areafilter.v0_6.BoundingBoxFilter\nimport org.openstreetmap.osmosis.core.container.v0_6.*\nimport org.openstreetmap.osmosis.core.domain.v0_6.*\nimport org.openstreetmap.osmosis.core.filter.common.IdTrackerType\nimport org.openstreetmap.osmosis.core.task.v0_6.Sink\nimport java.io.FileInputStream\n\nclass CustomProcessor : Sink {\n    // Here the results will be stored\n    val nodes = mutableListOf&lt;Node&gt;()\n    val ways = mutableListOf&lt;Way&gt;()\n    val relations = mutableListOf&lt;Relation&gt;()\n\n    override fun close() {\n        // Close all your readers and such\n    }\n\n    override fun initialize(metaData: MutableMap&lt;String, Any&gt;?) {\n        // Don't know when to use this\n    }\n\n    override fun complete() {\n        // If you first put data into storages you can process them here after you have all you need\n    }\n\n    override fun process(entityContainer: EntityContainer?) {\n        val entity = entityContainer?.entity\n\n        // Filter for shops\n        var foundIt = false\n        if (entity != null) {\n            for (tag in entity.tags) {\n                if (tag.key == &quot;shop&quot;) {\n                    foundIt = true\n                    break\n                }\n            }\n        }\n\n        // If the object is a shop\n        if (foundIt) {\n            if (entity is Node) {\n                nodes.add(entity)\n            } else if (entity is Way) {\n                ways.add(entity)\n            } else if (entity is Relation) {\n                relations.add(entity)\n            } else if (entity is Bound) {\n                // We don't store bounds\n            } else {\n                // Shouldn't be possible\n            }\n        }\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    // Set input stream\n    val inputStream = FileInputStream(&quot;path/to/my/file.osm.pbf&quot;)\n\n    // Create the bounding box filter\n    val bbFilter = BoundingBoxFilter(\n        IdTrackerType.Dynamic, // ID tracker used internally. This is the default.\n        11.5256, // Left lon\n        11.5004, // Right lon\n        48.84543, // Top lat\n        48.8015, // Bottom lat\n        true, // Remove ways and relation only partly in bounding box?\n        false, // Include all nodes of ways only partly in bounding box.\n        false, // Include all nodes and ways of relations only partly in bounding box.\n        false // Include all relations that reference relation inside bounding box.\n    )\n\n    // Create your processor\n    val processor = CustomProcessor()\n\n    // Define your pipeline\n    val reader = OsmosisReader(inputStream)\n    bbFilter.setSink(processor)\n    reader.setSink(bbFilter)\n\n    // Run\n    reader.run()\n\n    // Get your data\n    val nodes = processor.nodes\n    val ways = processor.ways\n    val relations = processor.relations\n}\n\n</code></pre>\n<p>If you want the geometries of ways and relations you will also need to store the nodes they consist of. These are not tagged with &quot;shop&quot;. Storing them in lists is quite RAM intensive so it is best to use the org.openstreetmap.osmosis.core.store.SimpleObjectStore class.</p>\n"},{"tags":[],"owner":{"account_id":13001480,"reputation":1,"user_id":9397444,"display_name":"Jesper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683107033,"creation_date":1683107033,"answer_id":76162445,"question_id":74380714,"body_markdown":"I tried using the pipeline which is described in the answer from Jacopo, for me the way the pipeline was constructed made it not filter the given pbf file.\r\n\r\nWhat did work for me is the following piece of code.\r\n\r\n    // Set input stream\r\n    val inputStream = FileInputStream(&quot;path/to/my/file.osm.pbf&quot;)\r\n\r\n    // Create the bounding box filter\r\n    val bbFilter = BoundingBoxFilter(\r\n        IdTrackerType.Dynamic, // ID tracker used internally. This is the default.\r\n        11.5256, // Left lon\r\n        11.5004, // Right lon\r\n        48.84543, // Top lat\r\n        48.8015, // Bottom lat\r\n        true, // Remove ways and relation only partly in bounding box?\r\n        false, // Include all nodes of ways only partly in bounding box.\r\n        false, // Include all nodes and ways of relations only partly in bounding box.\r\n        false // Include all relations that reference relation inside bounding box.\r\n    )\r\n\r\n    // Create your processor\r\n    val processor = CustomProcessor()\r\n\r\n    // Define your pipeline\r\n    val reader = OsmosisReader(inputStream)\r\n    bbFilter.setSink(processor)\r\n    reader.setSink(bbFilter) // This part is important in using the BoundingBoxFilter\r\n\r\n    // Run\r\n    reader.run()\r\n\r\nSome extra information about the way this pipeline works.\r\n\r\nWhen running the OsmosisReader it runs the process method in the given sink, which in this case is the boundingboxfilter, the boundingboxfilter then filters the given data and calls the process method from the given sink, which in this case is the customprocessor, this way only the items which are inside the bounding box will reach the CustomProcessor.\r\n\r\nHopefully this answers helps other people looking for information how to use the boundingboxfilter from osmosis. ","title":"Osmosis. Use bounding box filter in java code","body":"<p>I tried using the pipeline which is described in the answer from Jacopo, for me the way the pipeline was constructed made it not filter the given pbf file.</p>\n<p>What did work for me is the following piece of code.</p>\n<pre><code>// Set input stream\nval inputStream = FileInputStream(&quot;path/to/my/file.osm.pbf&quot;)\n\n// Create the bounding box filter\nval bbFilter = BoundingBoxFilter(\n    IdTrackerType.Dynamic, // ID tracker used internally. This is the default.\n    11.5256, // Left lon\n    11.5004, // Right lon\n    48.84543, // Top lat\n    48.8015, // Bottom lat\n    true, // Remove ways and relation only partly in bounding box?\n    false, // Include all nodes of ways only partly in bounding box.\n    false, // Include all nodes and ways of relations only partly in bounding box.\n    false // Include all relations that reference relation inside bounding box.\n)\n\n// Create your processor\nval processor = CustomProcessor()\n\n// Define your pipeline\nval reader = OsmosisReader(inputStream)\nbbFilter.setSink(processor)\nreader.setSink(bbFilter) // This part is important in using the BoundingBoxFilter\n\n// Run\nreader.run()\n</code></pre>\n<p>Some extra information about the way this pipeline works.</p>\n<p>When running the OsmosisReader it runs the process method in the given sink, which in this case is the boundingboxfilter, the boundingboxfilter then filters the given data and calls the process method from the given sink, which in this case is the customprocessor, this way only the items which are inside the bounding box will reach the CustomProcessor.</p>\n<p>Hopefully this answers helps other people looking for information how to use the boundingboxfilter from osmosis.</p>\n"}],"owner":{"account_id":17852140,"reputation":11,"user_id":12967667,"display_name":"Jacopo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1683196394,"creation_date":1668024006,"question_id":74380714,"body_markdown":"I am importing a osm.pbf file into my java application using Osmosis like this:\r\n\r\n\r\n```\r\ndata class MapObject (\r\n    val lat: Double,\r\n    val lon: Double,\r\n    val id: Long\r\n)\r\n\r\nclass OsmReader : Sink {\r\n    val data = mutableListOf&lt;MapObject&gt;()\r\n\r\n    override fun close() {}\r\n\r\n    override fun complete() {}\r\n\r\n    override fun initialize(metaData: MutableMap&lt;String, Any&gt;?) {}\r\n\r\n    override fun process(entityContainer: EntityContainer?) {\r\n        if (entityContainer is NodeContainer) {\r\n            val node = entityContainer.entity\r\n\r\n            data.add( MapObject(node.latitude, node.longitude, node.id) )\r\n        }\r\n    }\r\n}\r\n\r\nfun readOSM(pathToPBF: String) {\r\n    val inputStream = FileInputStream(pathToPBF)\r\n\r\n    // read from osm pbf file:\r\n    val custom = OsmReader()\r\n    val reader = OsmosisReader(inputStream)\r\n    reader.setSink(custom)\r\n    // initial parsing of the .pbf file:\r\n    reader.run()\r\n    println(&quot;Break&quot;)\r\n}\r\n```\r\n\r\nI would like to only read the nodes in a given bounding box. Then using Osmosis from the command line you can use --bounding-box, but how would you do the same thing in code?\r\n\r\n\r\n\r\n\r\nCurrently I intersect each node with the bounding box using the JTS, however that is rather slow.","title":"Osmosis. Use bounding box filter in java code","body":"<p>I am importing a osm.pbf file into my java application using Osmosis like this:</p>\n<pre><code>data class MapObject (\n    val lat: Double,\n    val lon: Double,\n    val id: Long\n)\n\nclass OsmReader : Sink {\n    val data = mutableListOf&lt;MapObject&gt;()\n\n    override fun close() {}\n\n    override fun complete() {}\n\n    override fun initialize(metaData: MutableMap&lt;String, Any&gt;?) {}\n\n    override fun process(entityContainer: EntityContainer?) {\n        if (entityContainer is NodeContainer) {\n            val node = entityContainer.entity\n\n            data.add( MapObject(node.latitude, node.longitude, node.id) )\n        }\n    }\n}\n\nfun readOSM(pathToPBF: String) {\n    val inputStream = FileInputStream(pathToPBF)\n\n    // read from osm pbf file:\n    val custom = OsmReader()\n    val reader = OsmosisReader(inputStream)\n    reader.setSink(custom)\n    // initial parsing of the .pbf file:\n    reader.run()\n    println(&quot;Break&quot;)\n}\n</code></pre>\n<p>I would like to only read the nodes in a given bounding box. Then using Osmosis from the command line you can use --bounding-box, but how would you do the same thing in code?</p>\n<p>Currently I intersect each node with the bounding box using the JTS, however that is rather slow.</p>\n"},{"tags":["java","java-8","java-time"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1683196512,"post_id":76171776,"comment_id":134330864,"body_markdown":"Truncating to an occurrence of 61 minutes must require some base to measure the 61 minutes from. The docs don’t tell us what that base is. You seem to assume that the base is midnight today in UTC. So maybe it isn’t.","body":"Truncating to an occurrence of 61 minutes must require some base to measure the 61 minutes from. The docs don’t tell us what that base is. You seem to assume that the base is midnight today in UTC. So maybe it isn’t."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1683312122,"post_id":76171776,"comment_id":134353171,"body_markdown":"If in your code I use `Duration.ofDays(100_000)`, I get `1970-01-01T00:00:00Z`. Which is probably the base from which the duration is measured.","body":"If in your code I use <code>Duration.ofDays(100_000)</code>, I get <code>1970-01-01T00:00:00Z</code>. Which is probably the base from which the duration is measured."},{"owner":{"account_id":17096208,"reputation":15,"user_id":12371145,"display_name":"wang junweiiii"},"score":0,"creation_date":1683357695,"post_id":76171776,"comment_id":134357511,"body_markdown":"Also confused, the base to measure Duration looks like Irregular to humans, so how can i control the behavior of `TickClock`","body":"Also confused, the base to measure Duration looks like Irregular to humans, so how can i control the behavior of <code>TickClock</code>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1683359898,"post_id":76171776,"comment_id":134357714,"body_markdown":"First, the documentation is bad and doesn’t properly specify the behaviour. Second, if you want a clock that ticks every, say, 7 or 61 minutes past midnight in some time zone, you can probably code a clock implementation yourself. Be aware that the clock will skip a different amount of minutes over midnight if your duration doesn’t divide evenly into a day, and be aware that the behaviour will depend in time zone. Are you really wanting to work with such a clock?","body":"First, the documentation is bad and doesn’t properly specify the behaviour. Second, if you want a clock that ticks every, say, 7 or 61 minutes past midnight in some time zone, you can probably code a clock implementation yourself. Be aware that the clock will skip a different amount of minutes over midnight if your duration doesn’t divide evenly into a day, and be aware that the behaviour will depend in time zone. Are you really wanting to work with such a clock?"}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683196276,"creation_date":1683195920,"answer_id":76172159,"question_id":76171776,"body_markdown":"This is correct. Given 2023-05-04T01:20:20Z, 2023-05-04T00:40:00Z is indeed the last occurrence of &quot;61 minutes&quot;. Specifically, it is the 459880th occurrence since the epoch. The next occurrence is 2023-05-04T01:41:00Z.\r\n\r\nYou can find this number by finding the number of minutes since the epoch:\r\n\r\n    Instant.parse(&quot;2023-05-04T00:40:00Z&quot;).getEpochSecond() / 60\r\n\r\nThat evaluates to 28052680. Dividing that by 61 is *exactly* 459880.\r\n\r\nSee also: the implementation of [`TickClock`][1] in the openjdk. You can see that it uses `Math.floorMod` to find how much time to substract from the current timestamp (i.e. milliseconds since the epoch). It uses the current timestamp as the dividend.\r\n\r\n\r\n  [1]: https://github.com/bpupadhyaya/openjdk-8/blob/master/jdk/src/share/classes/java/time/Clock.java#L618","title":"Why TickClock out of control when the Duration value more than 60mins","body":"<p>This is correct. Given 2023-05-04T01:20:20Z, 2023-05-04T00:40:00Z is indeed the last occurrence of &quot;61 minutes&quot;. Specifically, it is the 459880th occurrence since the epoch. The next occurrence is 2023-05-04T01:41:00Z.</p>\n<p>You can find this number by finding the number of minutes since the epoch:</p>\n<pre><code>Instant.parse(&quot;2023-05-04T00:40:00Z&quot;).getEpochSecond() / 60\n</code></pre>\n<p>That evaluates to 28052680. Dividing that by 61 is <em>exactly</em> 459880.</p>\n<p>See also: the implementation of <a href=\"https://github.com/bpupadhyaya/openjdk-8/blob/master/jdk/src/share/classes/java/time/Clock.java#L618\" rel=\"nofollow noreferrer\"><code>TickClock</code></a> in the openjdk. You can see that it uses <code>Math.floorMod</code> to find how much time to substract from the current timestamp (i.e. milliseconds since the epoch). It uses the current timestamp as the dividend.</p>\n"}],"owner":{"account_id":17096208,"reputation":15,"user_id":12371145,"display_name":"wang junweiiii"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683196276,"creation_date":1683193556,"question_id":76171776,"body_markdown":"First of all, i tried this:\r\n```java\r\nClock clock = Clock.fixed(Instant.parse(&quot;2023-05-04T01:20:20Z&quot;), ZoneId.systemDefault());\r\nClock tick = Clock.tick(clock, Duration.ofMinutes(3));\r\nSystem.out.println(clock.instant());\r\nSystem.out.println(tick.instant());\r\n```\r\n\r\nWhen the duration is 3min, the nearest occurrence of 20min is 18min, it works fine, and print as below:\r\n```\r\n2023-05-04T01:20:20Z\r\n2023-05-04T01:18:00Z\r\n```\r\n\r\nWhen i modify it to `Duration.ofMinutes(61)` by accident, things changed, it print this:\r\n```\r\n2023-05-04T01:20:20Z\r\n2023-05-04T00:40:00Z\r\n```\r\n\r\nAs API [Class Clock](https://docs.oracle.com/javase/8/docs/api/java/time/Clock.html) says: \r\n&gt; Obtains a clock that returns instants from the specified clock truncated to the nearest occurrence of the specified duration.\r\n\r\n\r\nSo the question is why the result is not `2023-05-04T00:01:00Z` or `2023-05-04T01:01:00Z`? The results are not what it says.","title":"Why TickClock out of control when the Duration value more than 60mins","body":"<p>First of all, i tried this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Clock clock = Clock.fixed(Instant.parse(&quot;2023-05-04T01:20:20Z&quot;), ZoneId.systemDefault());\nClock tick = Clock.tick(clock, Duration.ofMinutes(3));\nSystem.out.println(clock.instant());\nSystem.out.println(tick.instant());\n</code></pre>\n<p>When the duration is 3min, the nearest occurrence of 20min is 18min, it works fine, and print as below:</p>\n<pre><code>2023-05-04T01:20:20Z\n2023-05-04T01:18:00Z\n</code></pre>\n<p>When i modify it to <code>Duration.ofMinutes(61)</code> by accident, things changed, it print this:</p>\n<pre><code>2023-05-04T01:20:20Z\n2023-05-04T00:40:00Z\n</code></pre>\n<p>As API <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Clock.html\" rel=\"nofollow noreferrer\">Class Clock</a> says:</p>\n<blockquote>\n<p>Obtains a clock that returns instants from the specified clock truncated to the nearest occurrence of the specified duration.</p>\n</blockquote>\n<p>So the question is why the result is not <code>2023-05-04T00:01:00Z</code> or <code>2023-05-04T01:01:00Z</code>? The results are not what it says.</p>\n"},{"tags":["java","android-studio","junit4"],"owner":{"account_id":23356086,"reputation":134,"user_id":17429040,"display_name":"ayeshchanaka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683196255,"creation_date":1679560506,"question_id":75820731,"body_markdown":"I am working on unit testing and I have to test a method which is return a &quot;MutableLiveData&lt;Pair&lt;String, Boolean&gt;&gt;&quot; .So make a Pair variable and set value . But when I debug the test case, I notice that Pair varible is null\r\n\r\n    Pair&lt;String,Boolean&gt; pair = new Pair&lt;&gt;(&quot;dsn&quot;,true);\r\n\r\nplease don&#39;t suggest android.support.v4.util.Pair instead of android.util.Pair,it  doesn&#39;t work for me.","title":"how to set value for android.util.Pair variable in android studio java unit testing","body":"<p>I am working on unit testing and I have to test a method which is return a &quot;MutableLiveData&lt;Pair&lt;String, Boolean&gt;&gt;&quot; .So make a Pair variable and set value . But when I debug the test case, I notice that Pair varible is null</p>\n<pre><code>Pair&lt;String,Boolean&gt; pair = new Pair&lt;&gt;(&quot;dsn&quot;,true);\n</code></pre>\n<p>please don't suggest android.support.v4.util.Pair instead of android.util.Pair,it  doesn't work for me.</p>\n"},{"tags":["java","byte-buddy"],"comments":[{"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"score":2,"creation_date":1682899143,"post_id":76132256,"comment_id":134282980,"body_markdown":"What version did you update from?","body":"What version did you update from?"},{"owner":{"account_id":677225,"reputation":6228,"user_id":676877,"display_name":"Brett Okken"},"score":1,"creation_date":1682942198,"post_id":76132256,"comment_id":134287166,"body_markdown":"@RafaelWinterhalter updated from 1.10.14 - updated the question to clarify that.","body":"@RafaelWinterhalter updated from 1.10.14 - updated the question to clarify that."}],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683196082,"creation_date":1683194729,"answer_id":76171970,"question_id":76132256,"body_markdown":"The corresponding code looks checks if the class is already loaded:\r\n\r\n    synchronized (classLoader == null\r\n      ? BOOTSTRAP_LOADER_LOCK\r\n      : classLoader) {\r\n        for (Map.Entry&lt;? extends String, byte[]&gt; entry : types.entrySet()) {\r\n          try {\r\n            result.put(entry.getKey(), Class.forName(entry.getKey(), false, classLoader));\r\n          } catch (ClassNotFoundException ignored) {\r\n            result.put(entry.getKey(), dispatcher.defineClass(classLoader, entry.getKey(), entry.getValue(), protectionDomain));\r\n          }\r\n        }\r\n      }\r\n\r\nThis should prevent the error you are experiencing. Could you check why this happens? The change was made to support GraalVM which struggles with randomized names.\r\n\r\nI could not reproduce this, at least: https://github.com/raphw/byte-buddy/commit/fa4b2ac09db71352c248900a633a4adc0d69124b","title":"What is causing duplicate class definition for java.lang.ClassLoader$ByteBuddyAccessor$V1 with INJECTION strategy?","body":"<p>The corresponding code looks checks if the class is already loaded:</p>\n<pre><code>synchronized (classLoader == null\n  ? BOOTSTRAP_LOADER_LOCK\n  : classLoader) {\n    for (Map.Entry&lt;? extends String, byte[]&gt; entry : types.entrySet()) {\n      try {\n        result.put(entry.getKey(), Class.forName(entry.getKey(), false, classLoader));\n      } catch (ClassNotFoundException ignored) {\n        result.put(entry.getKey(), dispatcher.defineClass(classLoader, entry.getKey(), entry.getValue(), protectionDomain));\n      }\n    }\n  }\n</code></pre>\n<p>This should prevent the error you are experiencing. Could you check why this happens? The change was made to support GraalVM which struggles with randomized names.</p>\n<p>I could not reproduce this, at least: <a href=\"https://github.com/raphw/byte-buddy/commit/fa4b2ac09db71352c248900a633a4adc0d69124b\" rel=\"nofollow noreferrer\">https://github.com/raphw/byte-buddy/commit/fa4b2ac09db71352c248900a633a4adc0d69124b</a></p>\n"}],"owner":{"account_id":677225,"reputation":6228,"user_id":676877,"display_name":"Brett Okken"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76171970,"answer_count":1,"score":3,"last_activity_date":1683196082,"creation_date":1682705806,"question_id":76132256,"body_markdown":"When updating to bytebuddy 1.12.22 (from 1.10.14) we have started occasionally seeing exception indicating that java.lang.ClassLoader$ByteBuddyAccessor$V1 is (already) in module java.base of loader &#39;bootstrap&#39;.\r\nWe have bytebuddy (shaded into one of our jars) included in our wars. We only occasionally see this issue when we have multiple wars running in the same tomcat instance. For tomcat instances with only 1 war or simple single classpath applications, there are never issues.\r\n\r\nWe are calling DynamicType.Unloaded.load with a classloader from class in same war and ClassLoadingStrategy.Default.INJECTION strategy.\r\n\r\nhttps://javadoc.io/static/net.bytebuddy/byte-buddy/1.14.4/net/bytebuddy/dynamic/DynamicType.Unloaded.html#load-S-net.bytebuddy.dynamic.loading.ClassLoadingStrategy-\r\n\r\nThis is failing with message:\r\n\r\n```\r\njava.lang.UnsupportedOperationException: Cannot define class using reflection: java.lang.LinkageError: loader &#39;bootstrap&#39; attempted duplicate class definition for java.lang.ClassLoader$ByteBuddyAccessor$V1. (java.lang.ClassLoader$ByteBuddyAccessor$V1 is in module java.base of loader &#39;bootstrap&#39;)\r\n```\r\n\r\nIt looks like there was a change which moved from generating an accessor class from having a random name to always using &quot;V1&quot;.\r\nhttps://github.com/raphw/byte-buddy/commit/201c6b69480b5b9ee35b5cdc9e35fb1bab2005dc#diff-f2e06c83c21b2a52e4ebf4392e271c68d13cdc2e5fba055773f1ffd81ce18776\r\n\r\n[![github change][1]][1]\r\n\r\nIs this the expected behavior? Is it not allowed to have byte buddy in multiple wars in the same tomcat instance, or at least not allowed if using INJECTION strategy?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hKfFx.png","title":"What is causing duplicate class definition for java.lang.ClassLoader$ByteBuddyAccessor$V1 with INJECTION strategy?","body":"<p>When updating to bytebuddy 1.12.22 (from 1.10.14) we have started occasionally seeing exception indicating that java.lang.ClassLoader$ByteBuddyAccessor$V1 is (already) in module java.base of loader 'bootstrap'.\nWe have bytebuddy (shaded into one of our jars) included in our wars. We only occasionally see this issue when we have multiple wars running in the same tomcat instance. For tomcat instances with only 1 war or simple single classpath applications, there are never issues.</p>\n<p>We are calling DynamicType.Unloaded.load with a classloader from class in same war and ClassLoadingStrategy.Default.INJECTION strategy.</p>\n<p><a href=\"https://javadoc.io/static/net.bytebuddy/byte-buddy/1.14.4/net/bytebuddy/dynamic/DynamicType.Unloaded.html#load-S-net.bytebuddy.dynamic.loading.ClassLoadingStrategy-\" rel=\"nofollow noreferrer\">https://javadoc.io/static/net.bytebuddy/byte-buddy/1.14.4/net/bytebuddy/dynamic/DynamicType.Unloaded.html#load-S-net.bytebuddy.dynamic.loading.ClassLoadingStrategy-</a></p>\n<p>This is failing with message:</p>\n<pre><code>java.lang.UnsupportedOperationException: Cannot define class using reflection: java.lang.LinkageError: loader 'bootstrap' attempted duplicate class definition for java.lang.ClassLoader$ByteBuddyAccessor$V1. (java.lang.ClassLoader$ByteBuddyAccessor$V1 is in module java.base of loader 'bootstrap')\n</code></pre>\n<p>It looks like there was a change which moved from generating an accessor class from having a random name to always using &quot;V1&quot;.\n<a href=\"https://github.com/raphw/byte-buddy/commit/201c6b69480b5b9ee35b5cdc9e35fb1bab2005dc#diff-f2e06c83c21b2a52e4ebf4392e271c68d13cdc2e5fba055773f1ffd81ce18776\" rel=\"nofollow noreferrer\">https://github.com/raphw/byte-buddy/commit/201c6b69480b5b9ee35b5cdc9e35fb1bab2005dc#diff-f2e06c83c21b2a52e4ebf4392e271c68d13cdc2e5fba055773f1ffd81ce18776</a></p>\n<p><a href=\"https://i.stack.imgur.com/hKfFx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hKfFx.png\" alt=\"github change\" /></a></p>\n<p>Is this the expected behavior? Is it not allowed to have byte buddy in multiple wars in the same tomcat instance, or at least not allowed if using INJECTION strategy?</p>\n"},{"tags":["java","gradle","eclipse-wtp","spotless"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1612796113,"post_id":66103499,"comment_id":116871162,"body_markdown":"That&#39;s a path relative to where you locate your workspace--it&#39;ll be *in* the workspace once you create the workspace (although possibly require you go in and change a preference before the file itself will be created).","body":"That&#39;s a path relative to where you locate your workspace--it&#39;ll be <i>in</i> the workspace once you create the workspace (although possibly require you go in and change a preference before the file itself will be created)."},{"owner":{"account_id":136750,"reputation":6224,"user_id":340467,"accept_rate":68,"display_name":"benzen"},"score":0,"creation_date":1612797052,"post_id":66103499,"comment_id":116871664,"body_markdown":"Do you know a guide on the property that could be used there ?","body":"Do you know a guide on the property that could be used there ?"}],"answers":[{"tags":[],"owner":{"account_id":136750,"reputation":6224,"user_id":340467,"accept_rate":68,"display_name":"benzen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1612796873,"creation_date":1612796873,"answer_id":66104184,"question_id":66103499,"body_markdown":"As mentiontioned by @nitind the file is in the workspace.\r\nThe way i found it was to run the following commend.\r\n\r\n`find  ~/ -name &#39;org.eclipse.wst.html.core.prefs&#39;`","title":"spotless elicpse wtp format config file","body":"<p>As mentiontioned by @nitind the file is in the workspace.\nThe way i found it was to run the following commend.</p>\n<p><code>find  ~/ -name 'org.eclipse.wst.html.core.prefs'</code></p>\n"},{"tags":[],"owner":{"account_id":22929,"reputation":1492,"user_id":57033,"accept_rate":80,"display_name":"hello_earth"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683195939,"creation_date":1683195939,"answer_id":76172162,"question_id":66103499,"body_markdown":"Just FYI here&#39;s `spotless-maven-plugin` configuration (as specified in `pom.xml`) and the Eclipse preferences file I ended up using - I am using Netbeans as my development platform. I still haven&#39;t figured out if everything works as it should though. Because it seems that e.g. spotless&#39; own `&lt;indent&gt;` configuration seems to need to be specified apart from `eclipseWtp`, because the latter doesn&#39;t do tab-to-spaces substitution exactly the way I expect it to do it.\r\n```xml\r\n...\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;com.diffplug.spotless&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spotless-maven-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.29.0&lt;/version&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;check&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;phase&gt;validate&lt;/phase&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;formats&gt;\r\n\t\t   &lt;format&gt;\r\n\t\t\t  &lt;includes&gt;\r\n\t\t\t\t &lt;include&gt;**/*.html&lt;/include&gt;\r\n\t\t\t  &lt;/includes&gt;\r\n\t\t\t  &lt;eclipseWtp&gt;\r\n\t\t\t\t &lt;type&gt;HTML&lt;/type&gt;\r\n\t\t\t\t &lt;files&gt;\r\n\t\t\t\t\t&lt;file&gt;${project.basedir}/src/main/resources/org.eclipse.wst.html.core.prefs&lt;/file&gt;\r\n\t\t\t\t &lt;/files&gt;\r\n\t\t\t  &lt;/eclipseWtp&gt;\r\n\t\t\t  &lt;trimTrailingWhitespace/&gt;\r\n\t\t\t  &lt;endWithNewline/&gt;\r\n\t\t\t  &lt;indent&gt;\r\n\t\t\t\t &lt;spaces&gt;true&lt;/spaces&gt;\r\n\t\t\t\t &lt;spacesPerTab&gt;4&lt;/spacesPerTab&gt;\r\n\t\t\t  &lt;/indent&gt;                        \r\n\t\t   &lt;/format&gt;\r\n\t\t&lt;/formats&gt;                   \r\n\t\t&lt;java&gt;\r\n\t\t   &lt;toggleOffOn/&gt;\r\n\t\t   &lt;importOrder/&gt;\r\n\t\t   &lt;removeUnusedImports/&gt;\r\n\t\t\t&lt;indent&gt;\r\n\t\t\t\t&lt;spaces&gt;true&lt;/spaces&gt;\r\n\t\t\t\t&lt;spacesPerTab&gt;4&lt;/spacesPerTab&gt;\r\n\t\t\t&lt;/indent&gt;\r\n\t\t   &lt;trimTrailingWhitespace /&gt;\r\n\t\t   &lt;formatAnnotations/&gt;                        \r\n\t\t   &lt;palantirJavaFormat&gt;&lt;/palantirJavaFormat&gt;\r\n\t\t&lt;/java&gt;                    \r\n\t&lt;/configuration&gt;   \r\n&lt;/plugin&gt;\r\n...\r\n``` \r\n\r\nAnd here&#39;s contents of `org.eclipse.wst.html.core.prefs` file I have placed into aforementioned `${project.basedir}/src/main/resources` folder (I did a rough search on the internet to find core and html specific content):\r\n```\r\nlineWidth=72\r\nclearAllBlankLines=false\r\nindentationChar=space\r\nindentationSize=4\r\nsplitMultiAttrs=false\r\nalignEndBracket=false\r\ncleanupTagNameCase=0\r\ncleanupAttrNameCase=0\r\ninsertRequiredAttrs=false\r\ninsertMissingTags=false\r\nquoteAttrValues=true\r\nformatSource=true\r\nconvertEOLCodes=false\r\ninputCodeset=\r\noutputCodeset=UTF-8\r\nendOfLineCode=\r\ntagNameCase=1\r\nattrNameCase=1\r\ndefaultExtension=html\r\ninlineElements=a,abbr,acronym,b,basefont,big,br,cite,em,font,i,img,input,label,li,q,s,select,small,span,strike,strong,sub,sup,td,th,title,u\r\n\r\nattrDuplicate=2\r\nattrInvalidName=2\r\nattrInvalidValue=2\r\nattrNameMismatch=2\r\nattrNamesToIgnore=\r\nattrUndefName=2\r\nattrUndefValue=2\r\nattrValueEqualsMissing=2\r\nattrValueMismatch=1\r\nattrValueUnclosed=2\r\ncdataInvalidContent=2\r\ncdataUnclosed=1\r\ncommentInvalidContent=2\r\ncommentUnclosed=1\r\ndocDoctypeUnclosed=1\r\ndocDuplicateTag=1\r\ndocInvalidChar=2\r\ndocInvalidContent=2\r\neclipse.preferences.version=1\r\nelemCoexistence=2\r\nelemDuplicate=2\r\nelemEndInvalidCase=1\r\nelemInvalidContent=2\r\nelemInvalidDirective=1\r\nelemInvalidEmptyTag=2\r\nelemInvalidName=1\r\nelemInvalidText=2\r\nelemMissingEnd=2\r\nelemMissingStart=2\r\nelemStartInvalidCase=2\r\nelemUnclosedEndTag=1\r\nelemUnclosedStartTag=1\r\nelemUnknownName=-1\r\nelemUnnecessaryEnd=2\r\nignoreAttrNames=false\r\nignoreElementNames=false\r\npiInvalidContent=2\r\npiUnclosed=1\r\npiUndefined=2\r\nrefInvalidContent=2\r\nresourceNotFound=2\r\n```","title":"spotless elicpse wtp format config file","body":"<p>Just FYI here's <code>spotless-maven-plugin</code> configuration (as specified in <code>pom.xml</code>) and the Eclipse preferences file I ended up using - I am using Netbeans as my development platform. I still haven't figured out if everything works as it should though. Because it seems that e.g. spotless' own <code>&lt;indent&gt;</code> configuration seems to need to be specified apart from <code>eclipseWtp</code>, because the latter doesn't do tab-to-spaces substitution exactly the way I expect it to do it.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>...\n&lt;plugin&gt;\n    &lt;groupId&gt;com.diffplug.spotless&lt;/groupId&gt;\n    &lt;artifactId&gt;spotless-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.29.0&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;check&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;phase&gt;validate&lt;/phase&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n        &lt;formats&gt;\n           &lt;format&gt;\n              &lt;includes&gt;\n                 &lt;include&gt;**/*.html&lt;/include&gt;\n              &lt;/includes&gt;\n              &lt;eclipseWtp&gt;\n                 &lt;type&gt;HTML&lt;/type&gt;\n                 &lt;files&gt;\n                    &lt;file&gt;${project.basedir}/src/main/resources/org.eclipse.wst.html.core.prefs&lt;/file&gt;\n                 &lt;/files&gt;\n              &lt;/eclipseWtp&gt;\n              &lt;trimTrailingWhitespace/&gt;\n              &lt;endWithNewline/&gt;\n              &lt;indent&gt;\n                 &lt;spaces&gt;true&lt;/spaces&gt;\n                 &lt;spacesPerTab&gt;4&lt;/spacesPerTab&gt;\n              &lt;/indent&gt;                        \n           &lt;/format&gt;\n        &lt;/formats&gt;                   \n        &lt;java&gt;\n           &lt;toggleOffOn/&gt;\n           &lt;importOrder/&gt;\n           &lt;removeUnusedImports/&gt;\n            &lt;indent&gt;\n                &lt;spaces&gt;true&lt;/spaces&gt;\n                &lt;spacesPerTab&gt;4&lt;/spacesPerTab&gt;\n            &lt;/indent&gt;\n           &lt;trimTrailingWhitespace /&gt;\n           &lt;formatAnnotations/&gt;                        \n           &lt;palantirJavaFormat&gt;&lt;/palantirJavaFormat&gt;\n        &lt;/java&gt;                    \n    &lt;/configuration&gt;   \n&lt;/plugin&gt;\n...\n</code></pre>\n<p>And here's contents of <code>org.eclipse.wst.html.core.prefs</code> file I have placed into aforementioned <code>${project.basedir}/src/main/resources</code> folder (I did a rough search on the internet to find core and html specific content):</p>\n<pre><code>lineWidth=72\nclearAllBlankLines=false\nindentationChar=space\nindentationSize=4\nsplitMultiAttrs=false\nalignEndBracket=false\ncleanupTagNameCase=0\ncleanupAttrNameCase=0\ninsertRequiredAttrs=false\ninsertMissingTags=false\nquoteAttrValues=true\nformatSource=true\nconvertEOLCodes=false\ninputCodeset=\noutputCodeset=UTF-8\nendOfLineCode=\ntagNameCase=1\nattrNameCase=1\ndefaultExtension=html\ninlineElements=a,abbr,acronym,b,basefont,big,br,cite,em,font,i,img,input,label,li,q,s,select,small,span,strike,strong,sub,sup,td,th,title,u\n\nattrDuplicate=2\nattrInvalidName=2\nattrInvalidValue=2\nattrNameMismatch=2\nattrNamesToIgnore=\nattrUndefName=2\nattrUndefValue=2\nattrValueEqualsMissing=2\nattrValueMismatch=1\nattrValueUnclosed=2\ncdataInvalidContent=2\ncdataUnclosed=1\ncommentInvalidContent=2\ncommentUnclosed=1\ndocDoctypeUnclosed=1\ndocDuplicateTag=1\ndocInvalidChar=2\ndocInvalidContent=2\neclipse.preferences.version=1\nelemCoexistence=2\nelemDuplicate=2\nelemEndInvalidCase=1\nelemInvalidContent=2\nelemInvalidDirective=1\nelemInvalidEmptyTag=2\nelemInvalidName=1\nelemInvalidText=2\nelemMissingEnd=2\nelemMissingStart=2\nelemStartInvalidCase=2\nelemUnclosedEndTag=1\nelemUnclosedStartTag=1\nelemUnknownName=-1\nelemUnnecessaryEnd=2\nignoreAttrNames=false\nignoreElementNames=false\npiInvalidContent=2\npiUnclosed=1\npiUndefined=2\nrefInvalidContent=2\nresourceNotFound=2\n</code></pre>\n"}],"owner":{"account_id":136750,"reputation":6224,"user_id":340467,"accept_rate":68,"display_name":"benzen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":685,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66104184,"answer_count":2,"score":1,"last_activity_date":1683195939,"creation_date":1612794374,"question_id":66103499,"body_markdown":"I&#39;m using spotless to format code in my project.\r\nI&#39;ve decided to use WTP plugin to format html, css and js in this projet.\r\n\r\nThere should be a config to select the way html is formated. eg. with space instead of tab.\r\n\r\nhttps://github.com/diffplug/spotless/tree/main/plugin-gradle#eclipse-web-tools-platform\r\n\r\nThe file path given is .metadata/.plugins/org.eclipse.core.runtime/.settings/org.eclipse.wst.html.core.prefs.\r\n\r\nBut I have no clue where this file is. I tryed to install elicpse and find the given file, with no luck.","title":"spotless elicpse wtp format config file","body":"<p>I'm using spotless to format code in my project.\nI've decided to use WTP plugin to format html, css and js in this projet.</p>\n<p>There should be a config to select the way html is formated. eg. with space instead of tab.</p>\n<p><a href=\"https://github.com/diffplug/spotless/tree/main/plugin-gradle#eclipse-web-tools-platform\" rel=\"nofollow noreferrer\">https://github.com/diffplug/spotless/tree/main/plugin-gradle#eclipse-web-tools-platform</a></p>\n<p>The file path given is .metadata/.plugins/org.eclipse.core.runtime/.settings/org.eclipse.wst.html.core.prefs.</p>\n<p>But I have no clue where this file is. I tryed to install elicpse and find the given file, with no luck.</p>\n"},{"tags":["java","spring-boot","kotlin","mockito","logback"],"answers":[{"tags":[],"owner":{"account_id":21260902,"reputation":984,"user_id":15641685,"display_name":"Huu Phuong Vu"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1666177314,"creation_date":1649658312,"answer_id":71823439,"question_id":71810594,"body_markdown":"This issue was introduced in `logback:1.2.11` by this [commit][1]. It is tracked in this Jira [ticket][2].\r\n\r\n`Logback` was upgraded to 1.2.11 from spring boot 2.6.5, you can refer to this [changelog][3]. So you would have encountered this same error if you upgraded to 2.6.5.\r\n\r\nWhat we can do now is override the version of `logback` to 1.2.10 by adding this line in `build.gradle` file.\r\n\r\n```kotlin\r\next[&quot;logback.version&quot;] = &quot;1.2.10&quot;\r\n```\r\n\r\nIf you&#39;re using Maven `dependencyManagement` section for Spring Boot dependencies instead of the starter parent then you can try this:\r\n\r\n```xml\r\n&lt;!-- ... --&gt;\r\n&lt;dependencyManagement&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;!-- temp. override logback version for https://jira.qos.ch/browse/LOGBACK-1623--&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n      &lt;artifactId&gt;logback-access&lt;/artifactId&gt;\r\n      &lt;version&gt;1.2.10&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n      &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n      &lt;version&gt;1.2.10&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n      &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\r\n      &lt;version&gt;1.2.10&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n      &lt;version&gt;2.7.5&lt;/version&gt;\r\n      &lt;type&gt;pom&lt;/type&gt;\r\n      &lt;scope&gt;import&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencyManagement&gt;\r\n&lt;!-- ... --&gt;\r\n```\r\n\r\n**Update**: Spring Boot 2 latest version (2.7.5) is still using `logback:1.2.11`.\r\n\r\n\r\n  [1]: https://github.com/qos-ch/logback/commit/398aa4bd8f2bc0bb7f1465e8f7aca418c4464c15#diff-91f381102ba772e2944bcc4d01e615b39d0f366a91b9dddd05b29d736cbea9c1\r\n  [2]: https://jira.qos.ch/browse/LOGBACK-1623\r\n  [3]: https://github.com/spring-projects/spring-boot/releases/tag/v2.6.5","title":"Spring Boot 2.6.4 -&gt; 2.6.6 : strange NullPointerException within Logback when logging a mock Exception","body":"<p>This issue was introduced in <code>logback:1.2.11</code> by this <a href=\"https://github.com/qos-ch/logback/commit/398aa4bd8f2bc0bb7f1465e8f7aca418c4464c15#diff-91f381102ba772e2944bcc4d01e615b39d0f366a91b9dddd05b29d736cbea9c1\" rel=\"noreferrer\">commit</a>. It is tracked in this Jira <a href=\"https://jira.qos.ch/browse/LOGBACK-1623\" rel=\"noreferrer\">ticket</a>.</p>\n<p><code>Logback</code> was upgraded to 1.2.11 from spring boot 2.6.5, you can refer to this <a href=\"https://github.com/spring-projects/spring-boot/releases/tag/v2.6.5\" rel=\"noreferrer\">changelog</a>. So you would have encountered this same error if you upgraded to 2.6.5.</p>\n<p>What we can do now is override the version of <code>logback</code> to 1.2.10 by adding this line in <code>build.gradle</code> file.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>ext[&quot;logback.version&quot;] = &quot;1.2.10&quot;\n</code></pre>\n<p>If you're using Maven <code>dependencyManagement</code> section for Spring Boot dependencies instead of the starter parent then you can try this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- ... --&gt;\n&lt;dependencyManagement&gt;\n  &lt;dependencies&gt;\n    &lt;!-- temp. override logback version for https://jira.qos.ch/browse/LOGBACK-1623--&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n      &lt;artifactId&gt;logback-access&lt;/artifactId&gt;\n      &lt;version&gt;1.2.10&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n      &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n      &lt;version&gt;1.2.10&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n      &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\n      &lt;version&gt;1.2.10&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n      &lt;version&gt;2.7.5&lt;/version&gt;\n      &lt;type&gt;pom&lt;/type&gt;\n      &lt;scope&gt;import&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencyManagement&gt;\n&lt;!-- ... --&gt;\n</code></pre>\n<p><strong>Update</strong>: Spring Boot 2 latest version (2.7.5) is still using <code>logback:1.2.11</code>.</p>\n"},{"tags":[],"owner":{"account_id":10666242,"reputation":47,"user_id":7852740,"display_name":"hpu"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1683195851,"creation_date":1683195851,"answer_id":76172149,"question_id":71810594,"body_markdown":"If it is just for tests you can mock the LoggerFactory\r\n\r\n```\r\n        try (MockedStatic&lt;LoggerFactory&gt; loggerFactoryMock = Mockito.mockStatic(LoggerFactory.class)) {\r\n            loggerFactoryMock.when(() -&gt; LoggerFactory.getLogger(any(Class.class))).thenReturn(Mockito.mock(Logger.class));\r\n            // your code\r\n        }\r\n```","title":"Spring Boot 2.6.4 -&gt; 2.6.6 : strange NullPointerException within Logback when logging a mock Exception","body":"<p>If it is just for tests you can mock the LoggerFactory</p>\n<pre><code>        try (MockedStatic&lt;LoggerFactory&gt; loggerFactoryMock = Mockito.mockStatic(LoggerFactory.class)) {\n            loggerFactoryMock.when(() -&gt; LoggerFactory.getLogger(any(Class.class))).thenReturn(Mockito.mock(Logger.class));\n            // your code\n        }\n</code></pre>\n"}],"owner":{"account_id":3683051,"reputation":6733,"user_id":3067542,"accept_rate":85,"display_name":"Vincent F"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3733,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"accepted_answer_id":71823439,"answer_count":2,"score":8,"last_activity_date":1683195851,"creation_date":1649527106,"question_id":71810594,"body_markdown":"while upgrading from Spring Boot 2.6.4 to 2.6.6 , one of my tests (written in Kotlin), fails :\r\n\r\n```java\r\n    @Test\r\n    fun shouldLogProperMessageIfNotAbleToHitAPI() {\r\n\r\n        val configValidator = ConfigValidator(GitHubCrawlerProperties(SourceControlConfig(url = &quot;someIncorrectURL&quot;,organizationName=&quot;someOrg&quot;)),mockRemoteSourceControl)\r\n\r\n        `when`(mockRemoteSourceControl.validateRemoteConfig(&quot;someOrg&quot;)).thenThrow(NoReachableRepositories(&quot;problem !&quot;,mock(Exception::class.java)))\r\n\r\n        val validationErrors=configValidator.getValidationErrors()\r\n\r\n        assertThat(validationErrors).hasSize(1);\r\n\r\n    }\r\n\r\n```\r\n\r\nthe build passes with Spring Boot 2.6.4. It works in Spring Boot 2.6.6 when I run the test individually in my IDE, but fails during the maven build.\r\n\r\nthe stacktrace was not showing by default, but after surrounding the call by a try/catch, I am able to get it, and it points to Logback : \r\n\r\n    java.lang.NullPointerException: null\r\n            at ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:99)\r\n            at ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\r\n            at ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:62)\r\n            at ch.qos.logback.classic.spi.LoggingEvent.&lt;init&gt;(LoggingEvent.java:119)\r\n            at ch.qos.logback.classic.Logger.buildLoggingEventAndAppend(Logger.java:419)\r\n            at ch.qos.logback.classic.Logger.filterAndLog_0_Or3Plus(Logger.java:383)\r\n            at ch.qos.logback.classic.Logger.error(Logger.java:538)\r\n            at com.societegenerale.githubcrawler.ConfigValidator.getValidationErrors(ConfigValidator.kt:48)\r\n\r\nLogback version doesn&#39;t seem to change, I still get v 1.2.11 .\r\n\r\nLooking at Logback source code, in ThrowableProxy :\r\n\r\n```java\r\n\t\tif (GET_SUPPRESSED_METHOD != null) {\r\n\t\t\t// this will only execute on Java 7\r\n\t\t\tThrowable[] throwableSuppressed = extractSupressedThrowables(throwable);\r\n\t\t\t\r\n\t\t\tif (throwableSuppressed.length &gt; 0) {\r\n\t\t\t\tList&lt;ThrowableProxy&gt; suppressedList = new ArrayList&lt;ThrowableProxy&gt;(throwableSuppressed.length);\r\n\t\t\t\tfor (Throwable sup : throwableSuppressed) {\r\n...\r\n```\r\n\r\nnote : I build with Java 11, so the comment saying in Logback source code that `this will only execute on Java 7` , seems wrong.\r\n\r\nIt seems that `throwableSuppressed` is null, and I get the NPE when `throwableSuppressed.size` is called.\r\n\r\n\r\nThe test passes if instead of using a mock in `NoReachableRepositories(&quot;problem !&quot;,mock(Exception::class.java))` , I use `NoReachableRepositories(&quot;problem !&quot;,Exception())`\r\n\r\nI realize it&#39;s probably better to use a real Exception rather than a mock, so my problem is solved in a way (after spending 2 hours on this..). \r\n\r\nHowever, I am curious : what could cause this issue after upgrading to Spring Boot 2.6.6 which should be a a minor change ?","title":"Spring Boot 2.6.4 -&gt; 2.6.6 : strange NullPointerException within Logback when logging a mock Exception","body":"<p>while upgrading from Spring Boot 2.6.4 to 2.6.6 , one of my tests (written in Kotlin), fails :</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    fun shouldLogProperMessageIfNotAbleToHitAPI() {\n\n        val configValidator = ConfigValidator(GitHubCrawlerProperties(SourceControlConfig(url = &quot;someIncorrectURL&quot;,organizationName=&quot;someOrg&quot;)),mockRemoteSourceControl)\n\n        `when`(mockRemoteSourceControl.validateRemoteConfig(&quot;someOrg&quot;)).thenThrow(NoReachableRepositories(&quot;problem !&quot;,mock(Exception::class.java)))\n\n        val validationErrors=configValidator.getValidationErrors()\n\n        assertThat(validationErrors).hasSize(1);\n\n    }\n\n</code></pre>\n<p>the build passes with Spring Boot 2.6.4. It works in Spring Boot 2.6.6 when I run the test individually in my IDE, but fails during the maven build.</p>\n<p>the stacktrace was not showing by default, but after surrounding the call by a try/catch, I am able to get it, and it points to Logback :</p>\n<pre><code>java.lang.NullPointerException: null\n        at ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:99)\n        at ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\n        at ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:62)\n        at ch.qos.logback.classic.spi.LoggingEvent.&lt;init&gt;(LoggingEvent.java:119)\n        at ch.qos.logback.classic.Logger.buildLoggingEventAndAppend(Logger.java:419)\n        at ch.qos.logback.classic.Logger.filterAndLog_0_Or3Plus(Logger.java:383)\n        at ch.qos.logback.classic.Logger.error(Logger.java:538)\n        at com.societegenerale.githubcrawler.ConfigValidator.getValidationErrors(ConfigValidator.kt:48)\n</code></pre>\n<p>Logback version doesn't seem to change, I still get v 1.2.11 .</p>\n<p>Looking at Logback source code, in ThrowableProxy :</p>\n<pre class=\"lang-java prettyprint-override\"><code>        if (GET_SUPPRESSED_METHOD != null) {\n            // this will only execute on Java 7\n            Throwable[] throwableSuppressed = extractSupressedThrowables(throwable);\n            \n            if (throwableSuppressed.length &gt; 0) {\n                List&lt;ThrowableProxy&gt; suppressedList = new ArrayList&lt;ThrowableProxy&gt;(throwableSuppressed.length);\n                for (Throwable sup : throwableSuppressed) {\n...\n</code></pre>\n<p>note : I build with Java 11, so the comment saying in Logback source code that <code>this will only execute on Java 7</code> , seems wrong.</p>\n<p>It seems that <code>throwableSuppressed</code> is null, and I get the NPE when <code>throwableSuppressed.size</code> is called.</p>\n<p>The test passes if instead of using a mock in <code>NoReachableRepositories(&quot;problem !&quot;,mock(Exception::class.java))</code> , I use <code>NoReachableRepositories(&quot;problem !&quot;,Exception())</code></p>\n<p>I realize it's probably better to use a real Exception rather than a mock, so my problem is solved in a way (after spending 2 hours on this..).</p>\n<p>However, I am curious : what could cause this issue after upgrading to Spring Boot 2.6.6 which should be a a minor change ?</p>\n"},{"tags":["java","arraylist","collections"],"comments":[{"owner":{"account_id":121840,"reputation":36551,"user_id":315228,"accept_rate":100,"display_name":"SMA"},"score":0,"creation_date":1420612425,"post_id":27813616,"comment_id":44034297,"body_markdown":"do you mean just swapping n-1 with 1st element?","body":"do you mean just swapping n-1 with 1st element?"},{"owner":{"account_id":4084752,"reputation":355,"user_id":3354299,"accept_rate":54,"display_name":"Sangli"},"score":0,"creation_date":1420612611,"post_id":27813616,"comment_id":44034369,"body_markdown":"I&#39;m sorry I have edited my question. I did not mean to swap n-1 with 1st element, I meant to move n-1 element to the 1st index position so that the element at 1st index will be pushed down to the 2nd index after rotating.","body":"I&#39;m sorry I have edited my question. I did not mean to swap n-1 with 1st element, I meant to move n-1 element to the 1st index position so that the element at 1st index will be pushed down to the 2nd index after rotating."}],"answers":[{"tags":[],"owner":{"account_id":121840,"reputation":36551,"user_id":315228,"accept_rate":100,"display_name":"SMA"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1420613244,"creation_date":1420613244,"answer_id":27813883,"question_id":27813616,"body_markdown":"Two issues:\r\n\r\n- You are trying to get sublist from 3 to 1 which should be vice versa. So you could check min and max and then try to get sublist.\r\n- Your sublist call will bring you element say from index 1 to n-1 i.e. if you pass 3, you will get just two elements i.e. index 1 and 2 and not the third one. See this [javadoc](http://docs.oracle.com/javase/7/docs/api/java/util/List.html#subList(int,%20int)) for details. You could do something like:\r\n\r\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(&quot;Periodic&quot;, &quot;Multiple&quot;, &quot;Single&quot;, &quot;Subsequent&quot;, &quot;Consecutive&quot;));\r\n        int indexOfSubName = 0;\r\n        int indexOfMultipleName = 0;\r\n        for (int i = 0; i &lt; list.size(); i++) {\r\n            String name = list.get(i);\r\n            if (name.equalsIgnoreCase(&quot;Subsequent&quot;)) {\r\n                indexOfSubName = list.indexOf(name);\r\n            }\r\n            if (name.equalsIgnoreCase(&quot;Multiple&quot;)) {\r\n                indexOfMultipleName = list.indexOf(name);\r\n            }\r\n        }\r\n        int min = Math.min(indexOfMultipleName, indexOfSubName);\r\n        int max = Math.max(indexOfMultipleName, indexOfSubName);\r\n        Collections.rotate(list.subList(min, max+1), 1);\r\n        System.out.println(list);\r\n\r\nif you run this, you will get output as what you need:\r\n\r\n    [Periodic, Subsequent, Multiple, Single, Consecutive]","title":"Move element backward in a List using Collections.rotate() in Java","body":"<p>Two issues:</p>\n\n<ul>\n<li>You are trying to get sublist from 3 to 1 which should be vice versa. So you could check min and max and then try to get sublist.</li>\n<li><p>Your sublist call will bring you element say from index 1 to n-1 i.e. if you pass 3, you will get just two elements i.e. index 1 and 2 and not the third one. See this <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/List.html#subList(int,%20int)\" rel=\"nofollow\">javadoc</a> for details. You could do something like:</p>\n\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(\"Periodic\", \"Multiple\", \"Single\", \"Subsequent\", \"Consecutive\"));\nint indexOfSubName = 0;\nint indexOfMultipleName = 0;\nfor (int i = 0; i &lt; list.size(); i++) {\n    String name = list.get(i);\n    if (name.equalsIgnoreCase(\"Subsequent\")) {\n        indexOfSubName = list.indexOf(name);\n    }\n    if (name.equalsIgnoreCase(\"Multiple\")) {\n        indexOfMultipleName = list.indexOf(name);\n    }\n}\nint min = Math.min(indexOfMultipleName, indexOfSubName);\nint max = Math.max(indexOfMultipleName, indexOfSubName);\nCollections.rotate(list.subList(min, max+1), 1);\nSystem.out.println(list);\n</code></pre></li>\n</ul>\n\n<p>if you run this, you will get output as what you need:</p>\n\n<pre><code>[Periodic, Subsequent, Multiple, Single, Consecutive]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5542470,"reputation":176,"user_id":4398479,"display_name":"Brian Whipple"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1420614962,"creation_date":1420614962,"answer_id":27814247,"question_id":27813616,"body_markdown":"Almas is correct but the code can be a bit more concise:\r\n\r\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(&quot;Periodic&quot;, &quot;Multiple&quot;, &quot;Single&quot;, &quot;Subsequent&quot;, &quot;Consecutive&quot;));\r\n        System.out.format(&quot;Before: %s%n&quot;, list);\r\n        int indexOfSubName = list.indexOf(&quot;Subsequent&quot;);\r\n        int indexOfMultipleName = list.indexOf(&quot;Multiple&quot;);\r\n        int min = Math.min(indexOfMultipleName, indexOfSubName);\r\n        int max = Math.max(indexOfMultipleName, indexOfSubName);\r\n        int distance = 1; // Can be 1 or -2\r\n        Collections.rotate(list.subList(min, max + 1), distance);\r\n        System.out.format(&quot;After: %s%n&quot;, list);\r\n\r\nYou can rotate the sublist 1 distance forward or -2 distance backward for the same effect.","title":"Move element backward in a List using Collections.rotate() in Java","body":"<p>Almas is correct but the code can be a bit more concise:</p>\n\n<pre><code>    List&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(\"Periodic\", \"Multiple\", \"Single\", \"Subsequent\", \"Consecutive\"));\n    System.out.format(\"Before: %s%n\", list);\n    int indexOfSubName = list.indexOf(\"Subsequent\");\n    int indexOfMultipleName = list.indexOf(\"Multiple\");\n    int min = Math.min(indexOfMultipleName, indexOfSubName);\n    int max = Math.max(indexOfMultipleName, indexOfSubName);\n    int distance = 1; // Can be 1 or -2\n    Collections.rotate(list.subList(min, max + 1), distance);\n    System.out.format(\"After: %s%n\", list);\n</code></pre>\n\n<p>You can rotate the sublist 1 distance forward or -2 distance backward for the same effect.</p>\n"},{"tags":[],"owner":{"account_id":8698932,"reputation":322,"user_id":6509481,"accept_rate":50,"display_name":"Marco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683195804,"creation_date":1683195804,"answer_id":76172143,"question_id":27813616,"body_markdown":"actually list does it automatically when adding an item to a certain index, no need to use rotate:\r\n\r\n    //                                                                   (.) -----------------&gt; (.)\r\n        List&lt;String&gt; list = new ArrayList&lt;&gt;(Arrays.asList(&quot;Periodic&quot;, &quot;Multiple&quot;, &quot;Single&quot;, &quot;Subsequent&quot;, &quot;Consecutive&quot;));\r\n        list.remove(&quot;Multiple&quot;);\r\n        int newPosition = 3;\r\n        list.add(newPosition, &quot;Multiple&quot;);\r\n        System.out.println(list);\r\n        //                                                   (.) &lt;------------------ (.)\r\n        list = new ArrayList&lt;&gt;(Arrays.asList(&quot;Periodic&quot;, &quot;Multiple&quot;, &quot;Single&quot;, &quot;Subsequent&quot;, &quot;Consecutive&quot;));\r\n        list.remove(&quot;Subsequent&quot;);\r\n        newPosition = 1;\r\n        list.add(newPosition, &quot;Subsequent&quot;);\r\n        System.out.println(list);\r\n\r\n\r\noutput:\r\n\r\n   \r\n\r\n    [Periodic, Single, Subsequent, Multiple, Consecutive]\r\n    [Periodic, Subsequent, Multiple, Single, Consecutive]","title":"Move element backward in a List using Collections.rotate() in Java","body":"<p>actually list does it automatically when adding an item to a certain index, no need to use rotate:</p>\n<pre><code>//                                                                   (.) -----------------&gt; (.)\n    List&lt;String&gt; list = new ArrayList&lt;&gt;(Arrays.asList(&quot;Periodic&quot;, &quot;Multiple&quot;, &quot;Single&quot;, &quot;Subsequent&quot;, &quot;Consecutive&quot;));\n    list.remove(&quot;Multiple&quot;);\n    int newPosition = 3;\n    list.add(newPosition, &quot;Multiple&quot;);\n    System.out.println(list);\n    //                                                   (.) &lt;------------------ (.)\n    list = new ArrayList&lt;&gt;(Arrays.asList(&quot;Periodic&quot;, &quot;Multiple&quot;, &quot;Single&quot;, &quot;Subsequent&quot;, &quot;Consecutive&quot;));\n    list.remove(&quot;Subsequent&quot;);\n    newPosition = 1;\n    list.add(newPosition, &quot;Subsequent&quot;);\n    System.out.println(list);\n</code></pre>\n<p>output:</p>\n<pre><code>[Periodic, Single, Subsequent, Multiple, Consecutive]\n[Periodic, Subsequent, Multiple, Single, Consecutive]\n</code></pre>\n"}],"owner":{"account_id":4084752,"reputation":355,"user_id":3354299,"accept_rate":54,"display_name":"Sangli"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2293,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":27813883,"answer_count":3,"score":1,"last_activity_date":1683195804,"creation_date":1420612003,"question_id":27813616,"body_markdown":"I have an ArrayList as mentioned below (My Code Snippet). \r\n\r\nMy List elements are in this order initially - *(&quot;Periodic&quot;, &quot;Multiple&quot;, &quot;Single&quot;, &quot;Subsequent&quot;, &quot;Consecutive&quot;).*\r\n\r\nAfter applying **Collections.rotate()** on my List elements the modified List should look like - \r\n\r\n*(&quot;Periodic&quot;, &quot;Subsequent&quot;, &quot;Multiple&quot;, &quot;Single&quot;, &quot;Consecutive&quot;)*. \r\n\r\nElement &quot;Subsequent&quot; needs to be moved backward to the 1st index element in the List which is &quot;Multiple&quot;, so that the element at 1st index will be pushed down to the 2nd index after rotating.\r\n\r\nWhen I tried using **Collections.rotate()**, it throws an Exception.\r\n\r\n&gt; **IllegalArgumentException** **&quot;fromIndex &gt; toIndex&quot;**.\r\n\r\nI researched and understood the error, **toIndex** should always be greater than or equal to **fromIndex**, but I could not quite figure out how to modify my code snippet in order to achieve what I need. \r\n\r\nAny suggestions would greatly be appreciated. \r\n\r\nIsn&#39;t it possible to move an element backward in a List using **rotate()** method?\r\n\r\n\r\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(&quot;Periodic&quot;, &quot;Multiple&quot;, &quot;Single&quot;, &quot;Subsequent&quot;, &quot;Consecutive&quot;));\r\n           for (int i = 0; i &lt; list.size(); i++) {\r\n                int indexOfSubName = 0;\r\n                int indexOfMultipleName = 0;\r\n\r\n                String name = list.get(i);\r\n\r\n                if (name.equalsIgnoreCase(&quot;Subsequent&quot;)) {\r\n                    indexOfSubName = list.indexOf(name);\r\n\r\n                }\r\n\r\n                if (name.equalsIgnoreCase(&quot;Multiple&quot;)) {\r\n                    int indexOfMultipleName = list.indexOf(name);\r\n                }\r\n               Collections.rotate(list.subList(indexOfSubName , indexOfMultipleName ), 1);\r\n            }\r\n\r\n     \r\n","title":"Move element backward in a List using Collections.rotate() in Java","body":"<p>I have an ArrayList as mentioned below (My Code Snippet). </p>\n\n<p>My List elements are in this order initially - <em>(\"Periodic\", \"Multiple\", \"Single\", \"Subsequent\", \"Consecutive\").</em></p>\n\n<p>After applying <strong>Collections.rotate()</strong> on my List elements the modified List should look like - </p>\n\n<p><em>(\"Periodic\", \"Subsequent\", \"Multiple\", \"Single\", \"Consecutive\")</em>. </p>\n\n<p>Element \"Subsequent\" needs to be moved backward to the 1st index element in the List which is \"Multiple\", so that the element at 1st index will be pushed down to the 2nd index after rotating.</p>\n\n<p>When I tried using <strong>Collections.rotate()</strong>, it throws an Exception.</p>\n\n<blockquote>\n  <p><strong>IllegalArgumentException</strong> <strong>\"fromIndex > toIndex\"</strong>.</p>\n</blockquote>\n\n<p>I researched and understood the error, <strong>toIndex</strong> should always be greater than or equal to <strong>fromIndex</strong>, but I could not quite figure out how to modify my code snippet in order to achieve what I need. </p>\n\n<p>Any suggestions would greatly be appreciated. </p>\n\n<p>Isn't it possible to move an element backward in a List using <strong>rotate()</strong> method?</p>\n\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(\"Periodic\", \"Multiple\", \"Single\", \"Subsequent\", \"Consecutive\"));\n       for (int i = 0; i &lt; list.size(); i++) {\n            int indexOfSubName = 0;\n            int indexOfMultipleName = 0;\n\n            String name = list.get(i);\n\n            if (name.equalsIgnoreCase(\"Subsequent\")) {\n                indexOfSubName = list.indexOf(name);\n\n            }\n\n            if (name.equalsIgnoreCase(\"Multiple\")) {\n                int indexOfMultipleName = list.indexOf(name);\n            }\n           Collections.rotate(list.subList(indexOfSubName , indexOfMultipleName ), 1);\n        }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":3395988,"reputation":469,"user_id":2849596,"accept_rate":86,"display_name":"Meet K."},"score":0,"creation_date":1592661074,"post_id":62486042,"comment_id":110507399,"body_markdown":"Please add the code you have written and the log generated by your Spring application when you make this request.","body":"Please add the code you have written and the log generated by your Spring application when you make this request."},{"owner":{"account_id":1068173,"reputation":766,"user_id":1068125,"accept_rate":17,"display_name":"jrh"},"score":0,"creation_date":1592664648,"post_id":62486042,"comment_id":110508579,"body_markdown":"@Ferdinand, I guess your server is not running at 8080. Please verify whether the server is running or not.","body":"@Ferdinand, I guess your server is not running at 8080. Please verify whether the server is running or not."},{"owner":{"account_id":17379792,"reputation":513,"user_id":13781222,"display_name":"Ferdinand "},"score":0,"creation_date":1593170450,"post_id":62486042,"comment_id":110692704,"body_markdown":"@jrhamza how do i  verify?","body":"@jrhamza how do i  verify?"},{"owner":{"account_id":17379792,"reputation":513,"user_id":13781222,"display_name":"Ferdinand "},"score":0,"creation_date":1593170501,"post_id":62486042,"comment_id":110692729,"body_markdown":"@MeetK. Github link maybe, cause its a lot of code! https://github.com/ferdinandmwal123/SpringRedditClone","body":"@MeetK. Github link maybe, cause its a lot of code! <a href=\"https://github.com/ferdinandmwal123/SpringRedditClone\" rel=\"nofollow noreferrer\">github.com/ferdinandmwal123/SpringRedditClone</a>"},{"owner":{"account_id":1068173,"reputation":766,"user_id":1068125,"accept_rate":17,"display_name":"jrh"},"score":0,"creation_date":1593187047,"post_id":62486042,"comment_id":110701362,"body_markdown":"@Ferdinand, You can check in application.properties for the server.port. If not specified, please check the console for default port, while starting the application. I can see server port  in the eclipse console, while starting the application from eclipse.","body":"@Ferdinand, You can check in application.properties for the server.port. If not specified, please check the console for default port, while starting the application. I can see server port  in the eclipse console, while starting the application from eclipse."}],"answers":[{"tags":[],"owner":{"account_id":17379792,"reputation":513,"user_id":13781222,"display_name":"Ferdinand "},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1593502376,"creation_date":1593502376,"answer_id":62652407,"question_id":62486042,"body_markdown":"Missing an @Entity annotation in my models and this was causing a failure in the server. Also, I hadn&#39;t properly mapped some variables.Turns out spring annotations are really important :)","title":"Error: connect ECONNREFUSED 127.0.0.1:8080 (Spring Framework)","body":"<p>Missing an @Entity annotation in my models and this was causing a failure in the server. Also, I hadn't properly mapped some variables.Turns out spring annotations are really important :)</p>\n"},{"tags":[],"owner":{"account_id":11911643,"reputation":184,"user_id":8716705,"display_name":"Ahmad Alhaj-Karim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614680134,"creation_date":1614680134,"answer_id":66437381,"question_id":62486042,"body_markdown":"Api Port Number could also cause this problem.  ","title":"Error: connect ECONNREFUSED 127.0.0.1:8080 (Spring Framework)","body":"<p>Api Port Number could also cause this problem.</p>\n"},{"tags":[],"owner":{"account_id":25466696,"reputation":9,"user_id":19265628,"display_name":"treef"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683195700,"creation_date":1683195700,"answer_id":76172120,"question_id":62486042,"body_markdown":"This error could also be caused when your project isn&#39;t running.","title":"Error: connect ECONNREFUSED 127.0.0.1:8080 (Spring Framework)","body":"<p>This error could also be caused when your project isn't running.</p>\n"}],"owner":{"account_id":17379792,"reputation":513,"user_id":13781222,"display_name":"Ferdinand "},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13234,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":62652407,"answer_count":3,"score":1,"last_activity_date":1683195700,"creation_date":1592657470,"question_id":62486042,"body_markdown":"I&#39;m using the spring framework and when I try to register a user with postman I keep getting this error in the console, so I cannot register a user \r\n\r\n```sh\r\nPOST http://localhost:8080/api/auth/signup\r\nError: connect ECONNREFUSED 127.0.0.1:8080\r\nRequest Headers\r\nContent-Type: application/json\r\nUser-Agent: PostmanRuntime/7.25.0\r\nAccept: */*\r\nPostman-Token: c8f92e31-e8f6-40d9-90b0-2bd4faba0552\r\nHost: localhost:8080\r\nAccept-Encoding: gzip, deflate, br\r\nConnection: keep-alive\r\n\r\nRequest Body\r\n{\r\n    &quot;username&quot;:&quot;TestUserX&quot;,\r\n    &quot;email&quot;:&quot;TestUserX@bla.com&quot;,\r\n    &quot;password&quot;:&quot;password1&quot;\r\n}\r\n```\r\n\r\n","title":"Error: connect ECONNREFUSED 127.0.0.1:8080 (Spring Framework)","body":"<p>I'm using the spring framework and when I try to register a user with postman I keep getting this error in the console, so I cannot register a user</p>\n<pre class=\"lang-sh prettyprint-override\"><code>POST http://localhost:8080/api/auth/signup\nError: connect ECONNREFUSED 127.0.0.1:8080\nRequest Headers\nContent-Type: application/json\nUser-Agent: PostmanRuntime/7.25.0\nAccept: */*\nPostman-Token: c8f92e31-e8f6-40d9-90b0-2bd4faba0552\nHost: localhost:8080\nAccept-Encoding: gzip, deflate, br\nConnection: keep-alive\n\nRequest Body\n{\n    &quot;username&quot;:&quot;TestUserX&quot;,\n    &quot;email&quot;:&quot;TestUserX@bla.com&quot;,\n    &quot;password&quot;:&quot;password1&quot;\n}\n</code></pre>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":71001,"reputation":24087,"user_id":205426,"accept_rate":60,"display_name":"Woot4Moo"},"score":0,"creation_date":1312925368,"post_id":7003238,"comment_id":8360977,"body_markdown":"Looks an awful lot like homework, apologies if it is not.","body":"Looks an awful lot like homework, apologies if it is not."}],"answers":[{"tags":[],"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1312927507,"creation_date":1312925322,"answer_id":7003249,"question_id":7003238,"body_markdown":"    public static int[] StringArrToIntArr(String[] s) {\r\n       int[] result = new int[s.length];\r\n       for (int i = 0; i &lt; s.length; i++) {\r\n          result[i] = Integer.parseInt(s[i]);\r\n       }\r\n       return result;\r\n    }\r\n\r\nSimply iterate through the string array and convert each element.\r\n\r\n\r\n*Note:*  If any of your elements fail to parse to an `int` this method will throw an exception.  To keep that from happening each call to `Integer.parseInt()` should be placed in a `try/catch` block.  ","title":"Java convert String[] to int[]","body":"<pre><code>public static int[] StringArrToIntArr(String[] s) {\n   int[] result = new int[s.length];\n   for (int i = 0; i &lt; s.length; i++) {\n      result[i] = Integer.parseInt(s[i]);\n   }\n   return result;\n}\n</code></pre>\n\n<p>Simply iterate through the string array and convert each element.</p>\n\n<p><em>Note:</em>  If any of your elements fail to parse to an <code>int</code> this method will throw an exception.  To keep that from happening each call to <code>Integer.parseInt()</code> should be placed in a <code>try/catch</code> block.  </p>\n"},{"tags":[],"owner":{"account_id":80775,"reputation":80356,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1312925633,"creation_date":1312925633,"answer_id":7003280,"question_id":7003238,"body_markdown":"With [Guava][1]:\r\n\r\n    return Ints.toArray(Collections2.transform(Arrays.asList(s), new Function&lt;String, Integer&gt;() {\r\n        public Integer apply(String input) {\r\n            return Integer.valueOf(input);\r\n        }\r\n    });\r\n\r\nAdmittedly this isn&#39;t the cleanest use ever, but since the `Function` could be elsewhere declared it might still be cleaner.\r\n\r\n\r\n  [1]: http://guava-libraries.googlecode.com/svn/tags/release09/javadoc/index.html","title":"Java convert String[] to int[]","body":"<p>With <a href=\"http://guava-libraries.googlecode.com/svn/tags/release09/javadoc/index.html\" rel=\"nofollow\">Guava</a>:</p>\n\n<pre><code>return Ints.toArray(Collections2.transform(Arrays.asList(s), new Function&lt;String, Integer&gt;() {\n    public Integer apply(String input) {\n        return Integer.valueOf(input);\n    }\n});\n</code></pre>\n\n<p>Admittedly this isn't the cleanest use ever, but since the <code>Function</code> could be elsewhere declared it might still be cleaner.</p>\n"},{"tags":[],"owner":{"account_id":6692881,"reputation":35,"user_id":5161831,"display_name":"Anton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619308683,"creation_date":1438022893,"answer_id":31660939,"question_id":7003238,"body_markdown":"This is a simple way to convert a String to an Int.\r\n\r\n```java\r\n    String str = &quot;15&quot;;\r\n    int i;\r\n    \r\n    i = Integer.parseInt(str);\r\n```\r\n\r\n\r\nHere is an example were you to do some math with an User&#39;s input:\r\n```java\r\n    int i;\r\n    String input;\r\n    i = Integer.parseInt(str);\r\n    input = JOptionPane.showMessageDialog(null, &quot;Give me a number, and I&#39;ll multiply with 2&quot;);\r\n    JOptionPane.showMessageDialog(null, &quot;The number is: &quot; + i * 2);\r\n```\r\nOutput:\r\n\r\nPopup: A dialog with an input box that says: Give me a number, and I&#39;ll multiply it with 2.\r\n\r\nPopup: The number is: inputNumber * 2\r\n\r\n","title":"Java convert String[] to int[]","body":"<p>This is a simple way to convert a String to an Int.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    String str = &quot;15&quot;;\n    int i;\n    \n    i = Integer.parseInt(str);\n</code></pre>\n<p>Here is an example were you to do some math with an User's input:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    int i;\n    String input;\n    i = Integer.parseInt(str);\n    input = JOptionPane.showMessageDialog(null, &quot;Give me a number, and I'll multiply with 2&quot;);\n    JOptionPane.showMessageDialog(null, &quot;The number is: &quot; + i * 2);\n</code></pre>\n<p>Output:</p>\n<p>Popup: A dialog with an input box that says: Give me a number, and I'll multiply it with 2.</p>\n<p>Popup: The number is: inputNumber * 2</p>\n"},{"tags":[],"owner":{"account_id":191619,"reputation":17542,"user_id":432294,"accept_rate":91,"display_name":"Jay Sullivan"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1545383751,"creation_date":1438386425,"answer_id":31756783,"question_id":7003238,"body_markdown":"Now that Java&#39;s finally caught up to functional programming, there&#39;s a better answer:\r\n\r\n    int[] StringArrayToIntArray(String[] stringArray)\r\n    {\r\n        return Stream.of(stringArray).mapToInt(Integer::parseInt).toArray();\r\n    }","title":"Java convert String[] to int[]","body":"<p>Now that Java's finally caught up to functional programming, there's a better answer:</p>\n\n<pre><code>int[] StringArrayToIntArray(String[] stringArray)\n{\n    return Stream.of(stringArray).mapToInt(Integer::parseInt).toArray();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10317284,"reputation":518,"user_id":10130045,"display_name":"Daniel Bentes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661792059,"creation_date":1661792059,"answer_id":73532148,"question_id":7003238,"body_markdown":"convert String[] to Integer[] in java 8:\r\n \r\n\r\n    Integer[] myArray = Stream.of(new String[] { &quot;1&quot;, &quot;2&quot;, &quot;3&quot; })\r\n            .map(Integer::parseInt)\r\n            .toArray(Integer[]::new);","title":"Java convert String[] to int[]","body":"<p>convert String[] to Integer[] in java 8:</p>\n<pre><code>Integer[] myArray = Stream.of(new String[] { &quot;1&quot;, &quot;2&quot;, &quot;3&quot; })\n        .map(Integer::parseInt)\n        .toArray(Integer[]::new);\n</code></pre>\n"}],"owner":{"account_id":191619,"reputation":17542,"user_id":432294,"accept_rate":91,"display_name":"Jay Sullivan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15610,"favorite_count":0,"down_vote_count":2,"up_vote_count":12,"accepted_answer_id":7003249,"answer_count":5,"score":10,"last_activity_date":1683195553,"creation_date":1312925242,"question_id":7003238,"body_markdown":"I have a String[], where each element is convertible to an integer.  What&#39;s the best way I can convert this to an int[]?  \r\n\r\n    int[] StringArrayToIntArray(String[] s)\r\n    {\r\n        ... ? ...\r\n    }","title":"Java convert String[] to int[]","body":"<p>I have a String[], where each element is convertible to an integer.  What's the best way I can convert this to an int[]?  </p>\n\n<pre><code>int[] StringArrayToIntArray(String[] s)\n{\n    ... ? ...\n}\n</code></pre>\n"},{"tags":["java","class","naming-conventions"],"comments":[{"owner":{"account_id":373237,"reputation":25892,"user_id":722760,"display_name":"Jon Newmuis"},"score":2,"creation_date":1343320024,"post_id":11673750,"comment_id":15473988,"body_markdown":"I think most would say it is perfectly fine to have a plural class name.","body":"I think most would say it is perfectly fine to have a plural class name."},{"owner":{"account_id":5670392,"reputation":2796,"user_id":4485195,"display_name":"Lawakush Kurmi"},"score":0,"creation_date":1454653516,"post_id":11673750,"comment_id":58149978,"body_markdown":"I have a query regarding the naming convention , i want to create a been  which will store list of repair job of a product. Then which name will be appropriate like:- ProductJob or ProductJobs, Please suggest.","body":"I have a query regarding the naming convention , i want to create a been  which will store list of repair job of a product. Then which name will be appropriate like:- ProductJob or ProductJobs, Please suggest."},{"owner":{"account_id":193707,"reputation":34681,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"score":0,"creation_date":1458217431,"post_id":11673750,"comment_id":59767478,"body_markdown":"Package names equivalent: http://programmers.stackexchange.com/q/75919/78534","body":"Package names equivalent: <a href=\"http://programmers.stackexchange.com/q/75919/78534\">programmers.stackexchange.com/q/75919/78534</a>"}],"answers":[{"tags":[],"owner":{"account_id":1592427,"reputation":7865,"user_id":1475461,"accept_rate":81,"display_name":"Jon Taylor"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1343320074,"creation_date":1343320074,"answer_id":11673805,"question_id":11673750,"body_markdown":"Yes perfectly acceptable to have plurals, look at `Collections` for example, it is a class which has many static methods which help when dealing with different flavours of collection.","title":"Is it good practice for Java class names to be plural?","body":"<p>Yes perfectly acceptable to have plurals, look at <code>Collections</code> for example, it is a class which has many static methods which help when dealing with different flavours of collection.</p>\n"},{"tags":[],"owner":{"account_id":299251,"reputation":335905,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"down_vote_count":0,"up_vote_count":41,"is_accepted":true,"score":41,"last_activity_date":1343323049,"creation_date":1343320191,"answer_id":11673838,"question_id":11673750,"body_markdown":"[`Arrays`](http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html), [`Collections`](http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html), [`Executors`](http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html), [`Files`](http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html), [`Objects`](http://docs.oracle.com/javase/7/docs/api/java/util/Objects.html), [`Utilities` [!]](http://docs.oracle.com/javase/7/docs/api/javax/swing/text/Utilities.html) - examples from JDK. It *kind of* violates OO design since all these classes are just namespaces holding utility or factory methods of objects in question while the name suggest they actually contain or maintain a collection of such objects. But being reasonable - I find these names readable and completely fine.\r\n\r\nBTW looks like such a naming convention was very popular among Java 7 API designers.","title":"Is it good practice for Java class names to be plural?","body":"<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html\" rel=\"noreferrer\"><code>Arrays</code></a>, <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html\" rel=\"noreferrer\"><code>Collections</code></a>, <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html\" rel=\"noreferrer\"><code>Executors</code></a>, <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html\" rel=\"noreferrer\"><code>Files</code></a>, <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Objects.html\" rel=\"noreferrer\"><code>Objects</code></a>, <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/text/Utilities.html\" rel=\"noreferrer\"><code>Utilities</code> [!]</a> - examples from JDK. It <em>kind of</em> violates OO design since all these classes are just namespaces holding utility or factory methods of objects in question while the name suggest they actually contain or maintain a collection of such objects. But being reasonable - I find these names readable and completely fine.</p>\n\n<p>BTW looks like such a naming convention was very popular among Java 7 API designers.</p>\n"},{"tags":[],"owner":{"account_id":1413944,"reputation":59678,"user_id":1339987,"accept_rate":54,"display_name":"djechlin"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1343320200,"creation_date":1343320200,"answer_id":11673844,"question_id":11673750,"body_markdown":"Only issue I see is that a &quot;utils&quot; is pretty ill-defined.  You want the class to refer to the object, not the collection of methods in the object.  Basically, it&#39;s just not a very object oriented name, and it&#39;s not even about OOP - a &quot;utils&quot; file is pretty poor structured programming often.\r\n\r\n","title":"Is it good practice for Java class names to be plural?","body":"<p>Only issue I see is that a \"utils\" is pretty ill-defined.  You want the class to refer to the object, not the collection of methods in the object.  Basically, it's just not a very object oriented name, and it's not even about OOP - a \"utils\" file is pretty poor structured programming often.</p>\n"},{"tags":[],"owner":{"account_id":1394697,"reputation":14498,"user_id":1324709,"accept_rate":94,"display_name":"Branislav Lazic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1343320229,"creation_date":1343320229,"answer_id":11673853,"question_id":11673750,"body_markdown":"Have a look at jls7 http://docs.oracle.com/javase/specs/jls/se7/jls7.pdf . I found anything wrong about naming classes in plural.","title":"Is it good practice for Java class names to be plural?","body":"<p>Have a look at jls7 <a href=\"http://docs.oracle.com/javase/specs/jls/se7/jls7.pdf\" rel=\"nofollow\">http://docs.oracle.com/javase/specs/jls/se7/jls7.pdf</a> . I found anything wrong about naming classes in plural.</p>\n"}],"owner":{"account_id":334119,"reputation":885,"user_id":660352,"accept_rate":64,"display_name":"Jagdev Singh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33464,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":11673838,"answer_count":4,"score":36,"last_activity_date":1683195167,"creation_date":1343319858,"question_id":11673750,"body_markdown":"Is it good to have Java class name like `ExtractionUtils`? In naming conventions I couldn&#39;t find anything about using plural names for Java classes.\r\nI have seen classes with names like this before.","title":"Is it good practice for Java class names to be plural?","body":"<p>Is it good to have Java class name like <code>ExtractionUtils</code>? In naming conventions I couldn't find anything about using plural names for Java classes.\nI have seen classes with names like this before.</p>\n"},{"tags":["java","spring","spring-boot","authentication","spring-security"],"comments":[{"owner":{"account_id":8900088,"reputation":4307,"user_id":6643803,"accept_rate":81,"display_name":"akuma8"},"score":0,"creation_date":1583508295,"post_id":60565611,"comment_id":107152476,"body_markdown":"Where and how your controller is defined? Did you override the `DispatcherServlet` default config? It seems strange that your controller is not hit after the filters processing.","body":"Where and how your controller is defined? Did you override the <code>DispatcherServlet</code> default config? It seems strange that your controller is not hit after the filters processing."},{"owner":{"account_id":9136131,"reputation":35,"user_id":6795764,"display_name":"Sandwich"},"score":0,"creation_date":1583508429,"post_id":60565611,"comment_id":107152545,"body_markdown":"My controller is defined in a separate class, I&#39;ve verified that it is working without authentication by disabling it and manually going to `/api/example`. So far, it is a very basic one just for testing purposes. It simply writes the URL to the response body. I did not override any configuration for the DispatcherServlet.\n\nThe issue seems to stem from the fact that Spring Security always wants to redirect somewhere, even though I just want it to act like a gateway to the controller.","body":"My controller is defined in a separate class, I&#39;ve verified that it is working without authentication by disabling it and manually going to <code>&#47;api&#47;example</code>. So far, it is a very basic one just for testing purposes. It simply writes the URL to the response body. I did not override any configuration for the DispatcherServlet.  The issue seems to stem from the fact that Spring Security always wants to redirect somewhere, even though I just want it to act like a gateway to the controller."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1583609641,"post_id":60565611,"comment_id":107177874,"body_markdown":"@Sandwich If you don&#39;t want to redirect the request you could always forward the request to your controller. However, you are loosing authorization. All authenticated users with any role are forwarded.","body":"@Sandwich If you don&#39;t want to redirect the request you could always forward the request to your controller. However, you are loosing authorization. All authenticated users with any role are forwarded."},{"owner":{"account_id":9136131,"reputation":35,"user_id":6795764,"display_name":"Sandwich"},"score":0,"creation_date":1583630091,"post_id":60565611,"comment_id":107182003,"body_markdown":"@dur Thanks for the suggestion, I will try that (even though it is a bit of a hack). Thankfully, there are no roles to speak of in this use case. Losing authorisation should not be an issue.","body":"@dur Thanks for the suggestion, I will try that (even though it is a bit of a hack). Thankfully, there are no roles to speak of in this use case. Losing authorisation should not be an issue."}],"owner":{"account_id":9136131,"reputation":35,"user_id":6795764,"display_name":"Sandwich"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":546,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1683194935,"creation_date":1583503248,"question_id":60565611,"body_markdown":"I&#39;m trying to implement the following request flow:\r\n\r\n 1. GET request is sent to `/api/example` with authentication GET parameters\r\n 2. Parameters are parsed in a filter and a generated authentication object is sent for authentication\r\n 3. Provider successfully authenticates the object and returns it to the filter\r\n 4. Filter lets the request through to a controller mapped to `/api/example`\r\n 5. Controller returns the response\r\n\r\nPoints 1 to 3 are already implemented and working, the `successfulAuthentication` method gets called in the filter and there are no issues passing the request to an authentication success handler. I already ran into similar questions (such as [this one][1]) but most of them are outdated, use a lot of XML configuration and most importantly, the answers are not applicable to this use case (usually, some sort of cookie and/or token is expected to be passed both ways between the parties or a controller is not used).\r\n\r\nThe authentication parameters are mandatory and sent with every request, so there is zero need to remember any authentication states outside of the single request scope. The other party sending the GET request also does not need to be informed beyond sending a 401 or returning the expected response.\r\n\r\nUnfortunately, I do not know how to achieve point 4 in the list above. Spring Security authentication success handler attempts to redirect by default which is undesirable as it either causes a infinite redirect loop (in case of redirect to `/api/example`) or invoking an entirely different part of the application (in case of the default `/`).\r\n\r\nHTTP security configuration:\r\n```\r\n@Override\r\nprotected void configure(HttpSecurity http) throws Exception {\r\n\thttp\r\n\t\t.anonymous().disable()\r\n        .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n\t\t.and()\r\n\t\t.csrf().disable();\r\n\r\n\thttp\r\n\t\t.antMatcher(&quot;/api/**&quot;)\r\n\t\t.addFilterBefore(this.apiAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class)\r\n\t\t.authorizeRequests()\r\n\t\t.anyRequest()\r\n\t\t.authenticated();\r\n}\r\n```\r\n\r\nRelevant snippet from the authentication filter (extends `AbstractAuthenticationProcessingFilter`):\r\n```\r\n@Override\r\nprotected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, FilterChain chain,\r\n\t\t\t\t\t\t\t\t\t\tAuthentication authenticationResult) throws IOException, ServletException {\r\n    SecurityContextHolder.getContext().setAuthentication(authenticationResult);\r\n\r\n    if (this.eventPublisher != null) {\r\n\t    eventPublisher.publishEvent(new InteractiveAuthenticationSuccessEvent(authenticationResult, this.getClass()));\r\n    }\r\n\r\n\tthis.getSuccessHandler().onAuthenticationSuccess(request, response, authenticationResult);\r\n}\r\n```\r\n\r\nThere is also a custom `ApiAuthenticationProvider`, but it&#39;s working without any issues. I&#39;d like to avoid any XML configuration and if possible, also redirects and cookies. Also keep in mind that there are multiple mappings to be authenticated with the same configuration (e.g. `/api/example`, `/api/sample`...).\r\n\r\nApproaches I&#39;ve already tried:\r\n\r\n 1. Redirecting to URL obtained from the request (causes an infinite redirect loop)\r\n 2. Leaving the `onAuthenticationSuccess` method of the `ApiAuthenticationSuccessHandler` empty (returns a blank page)\r\n 3. Continuing the filtering in the `successfulAuthentication` method of the filter (eventually causes a NullPointerException to be thrown)\r\n 4. Extending `SimpleUrlAuthenticationSuccessHandler` and using `setUseReferer(true)` in the constructor (redirects to `/`)\r\n 5. Using `setDefaultTargetUrl` in the handler when extending `SimpleUrlAuthenticationSuccessHandler` and passing URL from the request as an argument (causes an infinite redirect loop)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/31842162/how-to-make-spring-security-to-call-the-requested-resource-after-a-successful-au","title":"How do I process the request in a controller after successful stateless authentication in Spring Security 5 &amp; Spring Boot 2?","body":"<p>I'm trying to implement the following request flow:</p>\n<ol>\n<li>GET request is sent to <code>/api/example</code> with authentication GET parameters</li>\n<li>Parameters are parsed in a filter and a generated authentication object is sent for authentication</li>\n<li>Provider successfully authenticates the object and returns it to the filter</li>\n<li>Filter lets the request through to a controller mapped to <code>/api/example</code></li>\n<li>Controller returns the response</li>\n</ol>\n<p>Points 1 to 3 are already implemented and working, the <code>successfulAuthentication</code> method gets called in the filter and there are no issues passing the request to an authentication success handler. I already ran into similar questions (such as <a href=\"https://stackoverflow.com/questions/31842162/how-to-make-spring-security-to-call-the-requested-resource-after-a-successful-au\">this one</a>) but most of them are outdated, use a lot of XML configuration and most importantly, the answers are not applicable to this use case (usually, some sort of cookie and/or token is expected to be passed both ways between the parties or a controller is not used).</p>\n<p>The authentication parameters are mandatory and sent with every request, so there is zero need to remember any authentication states outside of the single request scope. The other party sending the GET request also does not need to be informed beyond sending a 401 or returning the expected response.</p>\n<p>Unfortunately, I do not know how to achieve point 4 in the list above. Spring Security authentication success handler attempts to redirect by default which is undesirable as it either causes a infinite redirect loop (in case of redirect to <code>/api/example</code>) or invoking an entirely different part of the application (in case of the default <code>/</code>).</p>\n<p>HTTP security configuration:</p>\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http\n        .anonymous().disable()\n        .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        .and()\n        .csrf().disable();\n\n    http\n        .antMatcher(&quot;/api/**&quot;)\n        .addFilterBefore(this.apiAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class)\n        .authorizeRequests()\n        .anyRequest()\n        .authenticated();\n}\n</code></pre>\n<p>Relevant snippet from the authentication filter (extends <code>AbstractAuthenticationProcessingFilter</code>):</p>\n<pre><code>@Override\nprotected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, FilterChain chain,\n                                        Authentication authenticationResult) throws IOException, ServletException {\n    SecurityContextHolder.getContext().setAuthentication(authenticationResult);\n\n    if (this.eventPublisher != null) {\n        eventPublisher.publishEvent(new InteractiveAuthenticationSuccessEvent(authenticationResult, this.getClass()));\n    }\n\n    this.getSuccessHandler().onAuthenticationSuccess(request, response, authenticationResult);\n}\n</code></pre>\n<p>There is also a custom <code>ApiAuthenticationProvider</code>, but it's working without any issues. I'd like to avoid any XML configuration and if possible, also redirects and cookies. Also keep in mind that there are multiple mappings to be authenticated with the same configuration (e.g. <code>/api/example</code>, <code>/api/sample</code>...).</p>\n<p>Approaches I've already tried:</p>\n<ol>\n<li>Redirecting to URL obtained from the request (causes an infinite redirect loop)</li>\n<li>Leaving the <code>onAuthenticationSuccess</code> method of the <code>ApiAuthenticationSuccessHandler</code> empty (returns a blank page)</li>\n<li>Continuing the filtering in the <code>successfulAuthentication</code> method of the filter (eventually causes a NullPointerException to be thrown)</li>\n<li>Extending <code>SimpleUrlAuthenticationSuccessHandler</code> and using <code>setUseReferer(true)</code> in the constructor (redirects to <code>/</code>)</li>\n<li>Using <code>setDefaultTargetUrl</code> in the handler when extending <code>SimpleUrlAuthenticationSuccessHandler</code> and passing URL from the request as an argument (causes an infinite redirect loop)</li>\n</ol>\n"},{"tags":["java","file-upload","sftp","quarkus","jsch"],"comments":[{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1683193089,"post_id":76171627,"comment_id":134330077,"body_markdown":"You forgot to add logging for the actual names of the paths used for the transfer, and it looks like you forgot the specify a filename (with extension) for the destination of the transfer.","body":"You forgot to add logging for the actual names of the paths used for the transfer, and it looks like you forgot the specify a filename (with extension) for the destination of the transfer."},{"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":0,"creation_date":1683199746,"post_id":76171627,"comment_id":134331590,"body_markdown":"See [Can&#39;t upload file to SFTP server using JSch - No such file (SftpException)](https://stackoverflow.com/q/69016420/850848).","body":"See <a href=\"https://stackoverflow.com/q/69016420/850848\">Can&#39;t upload file to SFTP server using JSch - No such file (SftpException)</a>."}],"answers":[{"tags":[],"owner":{"account_id":13892273,"reputation":43,"user_id":10029945,"display_name":"Eve"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683194877,"creation_date":1683194877,"answer_id":76171993,"question_id":76171627,"body_markdown":"Lol, I just found out the answer by my own.\r\n\r\nSimply put the file name in dst. Sample:\r\n\r\n    File file = new File(LOCAL_PATH + fileName);\r\n    sftpChannel.put(new FileInputStream(file), file.getName());\r\n\r\nor simply\r\n\r\n    sftpChannel.put(LOCAL_PATH + fileName, &lt;whatever you want to name for your file + extension&gt;);\r\n\r\nI just realize that JSCH automatically calls the SFTP server directory. So in my case. My default SFTP local server is &quot;/SFTPRoot&quot;. So no need to call the SFTPRoot directory and just simply add the filename (or change it to something new. Example: cat.jpg to cutecat.jpg)\r\n\r\nThen If I create a folder inside of the server then put a file inside that folder, the code will be like this:\r\n\r\n    sftpChannel.put(LOCAL_PATH + fileName, sftpConfig.homePath() + &quot;/cutecat.jpg&quot;);\r\n    \r\n\r\nHope it helps.\r\nmy home folder config is like this:\r\n\r\n    sftp.home-path=/Home\r\n\r\n","title":"JSCH: Success uploading file but not in the right extension","body":"<p>Lol, I just found out the answer by my own.</p>\n<p>Simply put the file name in dst. Sample:</p>\n<pre><code>File file = new File(LOCAL_PATH + fileName);\nsftpChannel.put(new FileInputStream(file), file.getName());\n</code></pre>\n<p>or simply</p>\n<pre><code>sftpChannel.put(LOCAL_PATH + fileName, &lt;whatever you want to name for your file + extension&gt;);\n</code></pre>\n<p>I just realize that JSCH automatically calls the SFTP server directory. So in my case. My default SFTP local server is &quot;/SFTPRoot&quot;. So no need to call the SFTPRoot directory and just simply add the filename (or change it to something new. Example: cat.jpg to cutecat.jpg)</p>\n<p>Then If I create a folder inside of the server then put a file inside that folder, the code will be like this:</p>\n<pre><code>sftpChannel.put(LOCAL_PATH + fileName, sftpConfig.homePath() + &quot;/cutecat.jpg&quot;);\n</code></pre>\n<p>Hope it helps.\nmy home folder config is like this:</p>\n<pre><code>sftp.home-path=/Home\n</code></pre>\n"}],"owner":{"account_id":13892273,"reputation":43,"user_id":10029945,"display_name":"Eve"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76171993,"answer_count":1,"score":-1,"last_activity_date":1683194877,"creation_date":1683192501,"question_id":76171627,"body_markdown":"So I uploaded my file to SFTP directory successfully. But here&#39;s the thing. The file uploaded is in &quot;File format&quot; and its name is the same as its directory.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nBut the actual file is in .jpg file. I also tried it on a .txt file but it&#39;s the same.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAlthough, when I manually add &quot;.jpg&quot; or &quot;.txt&quot; on SFTPRoot file, it reads my file and shows the cat picture.\r\n\r\nHere&#39;s my code:\r\n\r\n    private final SFTPConfig sftpConfig;\r\n    private final String KNOWN_HOST = &quot;/Users/xxx/.ssh/known_hosts&quot;;\r\n    private final String LOCAL_PATH = &quot;C:/Users/xxx/Downloads/&quot;;\r\n\r\n    public void setupJsch(int configType, String fileName) throws JSchException, SftpException {\r\n        log.info(&quot;+++++ CONNECTING TO SFTP +++++&quot;);\r\n        JSch jsch = new JSch();\r\n        jsch.setKnownHosts(KNOWN_HOST);\r\n        Session jschSession = jsch.getSession(sftpConfig.username(), sftpConfig.remoteHost(), 22);\r\n        jschSession.setPassword(sftpConfig.password());\r\n        jschSession.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n        jschSession.connect();\r\n\r\n        Channel channel = jschSession.openChannel(&quot;sftp&quot;);\r\n        ChannelSftp sftpChannel = (ChannelSftp) channel;\r\n        sftpChannel.connect(60000);\r\n        log.info(&quot;+++++ ESTABLISHED CONNECTION +++++&quot;);\r\n\r\n        try {\r\n            if (configType == 1) {\r\n                log.info(&quot;+++++ BEGIN SENDING {} TO SFTP&quot;, fileName);\r\n                sendFile(sftpChannel, fileName);\r\n            } else {\r\n                log.info(&quot;+++++ BEGIN DOWNLOADING {} FROM SFTP&quot;, fileName);\r\n                downloadFile(sftpChannel, fileName);\r\n            }\r\n        } catch (SftpException | FileNotFoundException e) {\r\n            log.error(&quot;Error downloading/sending the file: {}&quot;, e.getMessage());\r\n        }\r\n\r\n        sftpChannel.disconnect();\r\n        jschSession.disconnect();\r\n        log.info(&quot;+++++ DISCONNECTED TO SFTP +++++&quot;);\r\n    }\r\n\r\n    public void sendFile(ChannelSftp sftpChannel, String fileName) throws SftpException, FileNotFoundException {\r\n        sftpChannel.put(LOCAL_PATH + fileName, sftpConfig.sftpPath());\r\n    }\r\n\r\n    public void downloadFile(ChannelSftp sftpChannel, String fileName) throws SftpException, FileNotFoundException {\r\n        sftpChannel.get(sftpConfig.sftpPath()+&quot;/&quot;+filename,LOCAL_PATH);\r\n    }\r\n    }\r\n\r\n\r\nAlso, here&#39;s my sftp config:\r\n\r\n    #---- SFTP CONFIGURATIONS\r\n    sftp.remote-host=localhost\r\n    sftp.username=root\r\n    sftp.password=root\r\n    sftp.path=/SFTPRoot\r\n\r\nI also try the File and FileInputStream but it&#39;s giving me **No Such File** That&#39;s why I&#39;m sticking to earlier approach. Below is my code using input stream.\r\n\r\n    //File file = new File(LOCAL_PATH + fileName);\r\n    //log.warn(&quot;File {}: Exist? {} : {}, Path = {} &quot;, file.getName(), file.exists(), file.isFile(), file.getPath());\r\n    //sftpChannel.put(new FileInputStream(file), sftpConfig.sftpPath());\r\n\r\nDid I forget something? Or do something wrong?\r\n\r\n  [1]: https://i.stack.imgur.com/xB1Jc.png\r\n  [2]: https://i.stack.imgur.com/JKHSy.png","title":"JSCH: Success uploading file but not in the right extension","body":"<p>So I uploaded my file to SFTP directory successfully. But here's the thing. The file uploaded is in &quot;File format&quot; and its name is the same as its directory.</p>\n<p><a href=\"https://i.stack.imgur.com/xB1Jc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xB1Jc.png\" alt=\"enter image description here\" /></a></p>\n<p>But the actual file is in .jpg file. I also tried it on a .txt file but it's the same.</p>\n<p><a href=\"https://i.stack.imgur.com/JKHSy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JKHSy.png\" alt=\"enter image description here\" /></a></p>\n<p>Although, when I manually add &quot;.jpg&quot; or &quot;.txt&quot; on SFTPRoot file, it reads my file and shows the cat picture.</p>\n<p>Here's my code:</p>\n<pre><code>private final SFTPConfig sftpConfig;\nprivate final String KNOWN_HOST = &quot;/Users/xxx/.ssh/known_hosts&quot;;\nprivate final String LOCAL_PATH = &quot;C:/Users/xxx/Downloads/&quot;;\n\npublic void setupJsch(int configType, String fileName) throws JSchException, SftpException {\n    log.info(&quot;+++++ CONNECTING TO SFTP +++++&quot;);\n    JSch jsch = new JSch();\n    jsch.setKnownHosts(KNOWN_HOST);\n    Session jschSession = jsch.getSession(sftpConfig.username(), sftpConfig.remoteHost(), 22);\n    jschSession.setPassword(sftpConfig.password());\n    jschSession.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n    jschSession.connect();\n\n    Channel channel = jschSession.openChannel(&quot;sftp&quot;);\n    ChannelSftp sftpChannel = (ChannelSftp) channel;\n    sftpChannel.connect(60000);\n    log.info(&quot;+++++ ESTABLISHED CONNECTION +++++&quot;);\n\n    try {\n        if (configType == 1) {\n            log.info(&quot;+++++ BEGIN SENDING {} TO SFTP&quot;, fileName);\n            sendFile(sftpChannel, fileName);\n        } else {\n            log.info(&quot;+++++ BEGIN DOWNLOADING {} FROM SFTP&quot;, fileName);\n            downloadFile(sftpChannel, fileName);\n        }\n    } catch (SftpException | FileNotFoundException e) {\n        log.error(&quot;Error downloading/sending the file: {}&quot;, e.getMessage());\n    }\n\n    sftpChannel.disconnect();\n    jschSession.disconnect();\n    log.info(&quot;+++++ DISCONNECTED TO SFTP +++++&quot;);\n}\n\npublic void sendFile(ChannelSftp sftpChannel, String fileName) throws SftpException, FileNotFoundException {\n    sftpChannel.put(LOCAL_PATH + fileName, sftpConfig.sftpPath());\n}\n\npublic void downloadFile(ChannelSftp sftpChannel, String fileName) throws SftpException, FileNotFoundException {\n    sftpChannel.get(sftpConfig.sftpPath()+&quot;/&quot;+filename,LOCAL_PATH);\n}\n}\n</code></pre>\n<p>Also, here's my sftp config:</p>\n<pre><code>#---- SFTP CONFIGURATIONS\nsftp.remote-host=localhost\nsftp.username=root\nsftp.password=root\nsftp.path=/SFTPRoot\n</code></pre>\n<p>I also try the File and FileInputStream but it's giving me <strong>No Such File</strong> That's why I'm sticking to earlier approach. Below is my code using input stream.</p>\n<pre><code>//File file = new File(LOCAL_PATH + fileName);\n//log.warn(&quot;File {}: Exist? {} : {}, Path = {} &quot;, file.getName(), file.exists(), file.isFile(), file.getPath());\n//sftpChannel.put(new FileInputStream(file), sftpConfig.sftpPath());\n</code></pre>\n<p>Did I forget something? Or do something wrong?</p>\n"},{"tags":["java","jackson","objectmapper","fasterxml"],"comments":[{"owner":{"account_id":5646909,"reputation":1460,"user_id":4468663,"display_name":"Anand Dwivedi"},"score":0,"creation_date":1680598985,"post_id":75927375,"comment_id":133921375,"body_markdown":"https://stackoverflow.com/questions/23469784/com-fasterxml-jackson-databind-exc-unrecognizedpropertyexception-unrecognized-f","body":"<a href=\"https://stackoverflow.com/questions/23469784/com-fasterxml-jackson-databind-exc-unrecognizedpropertyexception-unrecognized-f\" title=\"com fasterxml jackson databind exc unrecognizedpropertyexception unrecognized f\">stackoverflow.com/questions/23469784/&hellip;</a>"},{"owner":{"account_id":13356967,"reputation":9,"user_id":9640195,"display_name":"Joe"},"score":0,"creation_date":1680599583,"post_id":75927375,"comment_id":133921525,"body_markdown":"Thanks for your reply. I tried the accepted answer, but with that solution we are missing the Child class member &quot;field&quot; in baseResult object.","body":"Thanks for your reply. I tried the accepted answer, but with that solution we are missing the Child class member &quot;field&quot; in baseResult object."},{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1680623832,"post_id":75927375,"comment_id":133927960,"body_markdown":"If you don&#39;t want to add any annotation you can check the presence or not of the &quot;field&quot; property. If you want I can write a possible solution without annotations, but this could be resolved automatically with jackson annotations for polymorphism.","body":"If you don&#39;t want to add any annotation you can check the presence or not of the &quot;field&quot; property. If you want I can write a possible solution without annotations, but this could be resolved automatically with jackson annotations for polymorphism."}],"answers":[{"tags":[],"owner":{"account_id":30898,"reputation":8917,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683194803,"creation_date":1683194803,"answer_id":76171982,"question_id":75927375,"body_markdown":"You need to tell Jackson to use deduction-based inference for determing the appropriate sub-class. Jackson will inspect the fields in the JSON and compare to the fields in the sub-classes.\r\n\r\nIf you don&#39;t want to add annotations to the original classes then you can use mix-ins, e.g.:\r\n\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.DEDUCTION)\r\n    @JsonSubTypes({ @JsonSubTypes.Type(Child.class) })\r\n    public abstract class ParentMixin {}\r\n\r\nand then just register it with your ObjectMapper (the one used for deserialisation):\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    mapper.addMixIn(Parent.class, ParentMixin.class);","title":"com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;field&quot; (class com.mapper.example.Parent)","body":"<p>You need to tell Jackson to use deduction-based inference for determing the appropriate sub-class. Jackson will inspect the fields in the JSON and compare to the fields in the sub-classes.</p>\n<p>If you don't want to add annotations to the original classes then you can use mix-ins, e.g.:</p>\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.DEDUCTION)\n@JsonSubTypes({ @JsonSubTypes.Type(Child.class) })\npublic abstract class ParentMixin {}\n</code></pre>\n<p>and then just register it with your ObjectMapper (the one used for deserialisation):</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.addMixIn(Parent.class, ParentMixin.class);\n</code></pre>\n"}],"owner":{"account_id":13356967,"reputation":9,"user_id":9640195,"display_name":"Joe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":335,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1683194803,"creation_date":1680598520,"question_id":75927375,"body_markdown":"I got a deserialization problem: \r\nTrying to convert class which extends parent class. Please find my class below,\r\n```\r\npublic class Base {\r\n\tParent parent;\r\n\tpublic Parent getParent() {\r\n\t\treturn parent;\r\n\t}\r\n\tpublic void setParent(Parent parent) {\r\n\t\tthis.parent = parent;\r\n\t}\r\n}\r\n-----------------\r\npublic class Parent {\r\n\tString name;\r\n\tString city;\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\tpublic String getCity() {\r\n\t\treturn city;\r\n\t}\r\n\tpublic void setCity(String city) {\r\n\t\tthis.city = city;\r\n\t}\r\n}\r\n-----------------\r\npublic class Child extends Parent {\r\n\tString field;\r\n\tpublic String getField() {\r\n\t\treturn field;\r\n\t}\r\n\tpublic void setField(String field) {\r\n\t\tthis.field = field;\r\n\t}\r\n}\r\n```\r\nMain method:\r\n```\r\npublic class TestDeserial {\r\n\tpublic static void main(String[] args) {\r\n\t\tChild c = new Child();\r\n\t\tc.setName(&quot;test1&quot;);\r\n\t\tc.setCity(&quot;Mumbai&quot;);\r\n\t\tc.setField(&quot;allow&quot;);\r\n\t\tBase b = new Base();\r\n\t\tb.setParent(c);\r\n\t\t// Convert object to json\r\n\t\tFile file = new File(&quot;C:\\\\temp\\\\c.json&quot;);\r\n\t\ttry {\r\n\t\t\tObjectMapper mapper = new ObjectMapper();\r\n\t\t\tmapper.writeValue(file, b);\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\t// Convert json to object\r\n\t\tBase baseResult = null;\r\n\t\ttry (InputStream in = new FileInputStream(&quot;C:\\\\temp\\\\c.json&quot;)) {\r\n\t\t\tObjectMapper objMapper = new ObjectMapper();\r\n\t\t\tbaseResult = objMapper.readValue(in, Base.class);\r\n\t\t} catch (Exception e1) {\r\n\t\t\te1.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nError:\r\ncom.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;field&quot; (class com.mapper.example.Parent), not marked as ignorable (2 known properties: &quot;name&quot;, &quot;city&quot;])\r\n at [Source: (FileInputStream); line: 1, column: 52] (through reference chain: com.mapper.example.Base[&quot;parent&quot;]-&gt;com.mapper.example.Parent[&quot;field&quot;])\r\n\r\nI don&#39;t want to add any annotation in class file. \r\n","title":"com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;field&quot; (class com.mapper.example.Parent)","body":"<p>I got a deserialization problem:\nTrying to convert class which extends parent class. Please find my class below,</p>\n<pre><code>public class Base {\n    Parent parent;\n    public Parent getParent() {\n        return parent;\n    }\n    public void setParent(Parent parent) {\n        this.parent = parent;\n    }\n}\n-----------------\npublic class Parent {\n    String name;\n    String city;\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public String getCity() {\n        return city;\n    }\n    public void setCity(String city) {\n        this.city = city;\n    }\n}\n-----------------\npublic class Child extends Parent {\n    String field;\n    public String getField() {\n        return field;\n    }\n    public void setField(String field) {\n        this.field = field;\n    }\n}\n</code></pre>\n<p>Main method:</p>\n<pre><code>public class TestDeserial {\n    public static void main(String[] args) {\n        Child c = new Child();\n        c.setName(&quot;test1&quot;);\n        c.setCity(&quot;Mumbai&quot;);\n        c.setField(&quot;allow&quot;);\n        Base b = new Base();\n        b.setParent(c);\n        // Convert object to json\n        File file = new File(&quot;C:\\\\temp\\\\c.json&quot;);\n        try {\n            ObjectMapper mapper = new ObjectMapper();\n            mapper.writeValue(file, b);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        \n        // Convert json to object\n        Base baseResult = null;\n        try (InputStream in = new FileInputStream(&quot;C:\\\\temp\\\\c.json&quot;)) {\n            ObjectMapper objMapper = new ObjectMapper();\n            baseResult = objMapper.readValue(in, Base.class);\n        } catch (Exception e1) {\n            e1.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Error:\ncom.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;field&quot; (class com.mapper.example.Parent), not marked as ignorable (2 known properties: &quot;name&quot;, &quot;city&quot;])\nat [Source: (FileInputStream); line: 1, column: 52] (through reference chain: com.mapper.example.Base[&quot;parent&quot;]-&gt;com.mapper.example.Parent[&quot;field&quot;])</p>\n<p>I don't want to add any annotation in class file.</p>\n"},{"tags":["java","android","arraylist","adapter","recycle"],"owner":{"account_id":20588509,"reputation":1,"user_id":15112800,"display_name":"Poseid0n"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683194640,"creation_date":1683194341,"question_id":76171915,"body_markdown":"I have this code block on my `MainActivity`, which I have a recycleview and I am able to reorder a list, when I finish I have a button that finalize and save and return the reordered list in order to check if the items is in the right order\r\n\r\n```\r\n    private void initRecyclerView() {\r\n        RecyclerView recyclerView = findViewById(R.id.recyclerView);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n\r\n        RecyclerViewAdapter adapter = new RecyclerViewAdapter();\r\n        adapter.setDataList(dataModelList,5);\r\n\r\n        ItemTouchHelper.Callback callback = new RecyclerRowMoveCallback(adapter);\r\n        ItemTouchHelper touchHelper = new ItemTouchHelper(callback);\r\n        touchHelper.attachToRecyclerView(recyclerView);\r\n\r\n        recyclerView.setAdapter(adapter);\r\n\r\n\r\n        // Button to finalize the positions\r\n        Button finalizeButton = findViewById(R.id.finalize_button);\r\n        finalizeButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n//\r\n                SharedPreferences preferences = getPreferences(MODE_PRIVATE);\r\n                SharedPreferences.Editor editor = preferences.edit();\r\n\r\n                for (int i = 0; i &lt; dataModelList.size(); i++) {\r\n                    editor.putString(&quot;item_&quot; + i, dataModelList.get(i).getTitle());\r\n                }\r\n                editor.apply();\r\n                isTimerRunning = false;\r\n                // Check if the list is in the right order\r\n                boolean areInOrder = areItemsInOrder(savedList, dataModelList);\r\n                // Display a message\r\n                if (areInOrder) {Do something}\r\n                else{Do something else}\r\n\r\n```\r\nand I have my adapter with all the necessary functions and this \r\n\r\n\r\n```\r\n    public ArrayList&lt;DataModel&gt; getItems() {\r\n        return dataList;\r\n    }\r\n```\r\nin order to return the reordered list.\r\n\r\nBut the reordered list every time is return in same order.\r\n\r\nI include also here the algorithm that check the right order of (reordered)list1 according the order of list2.\r\n\r\n\r\n```\r\npublic boolean areItemsInOrder(ArrayList&lt;String&gt; list1, ArrayList&lt;DataModel&gt; list2) {\r\n        boolean found = true;\r\n        int index = 0;\r\n        for (String item : list1) {\r\n            if (list2.contains(item)) {\r\n                if (list2.indexOf(item) &lt; index) {\r\n                    found = false;\r\n                    break;\r\n                }\r\n                index = list2.indexOf(item);\r\n            } else {\r\n                found = false;\r\n                break;\r\n            }\r\n        }\r\n        return found;\r\n    }\r\n```\r\n\r\n\r\nCould you please help me to find the issue in here?","title":"How to save and return an ArrayList from my recycleview adapter after reorder it in recycleview.widget(xml)","body":"<p>I have this code block on my <code>MainActivity</code>, which I have a recycleview and I am able to reorder a list, when I finish I have a button that finalize and save and return the reordered list in order to check if the items is in the right order</p>\n<pre><code>    private void initRecyclerView() {\n        RecyclerView recyclerView = findViewById(R.id.recyclerView);\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n\n        RecyclerViewAdapter adapter = new RecyclerViewAdapter();\n        adapter.setDataList(dataModelList,5);\n\n        ItemTouchHelper.Callback callback = new RecyclerRowMoveCallback(adapter);\n        ItemTouchHelper touchHelper = new ItemTouchHelper(callback);\n        touchHelper.attachToRecyclerView(recyclerView);\n\n        recyclerView.setAdapter(adapter);\n\n\n        // Button to finalize the positions\n        Button finalizeButton = findViewById(R.id.finalize_button);\n        finalizeButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n//\n                SharedPreferences preferences = getPreferences(MODE_PRIVATE);\n                SharedPreferences.Editor editor = preferences.edit();\n\n                for (int i = 0; i &lt; dataModelList.size(); i++) {\n                    editor.putString(&quot;item_&quot; + i, dataModelList.get(i).getTitle());\n                }\n                editor.apply();\n                isTimerRunning = false;\n                // Check if the list is in the right order\n                boolean areInOrder = areItemsInOrder(savedList, dataModelList);\n                // Display a message\n                if (areInOrder) {Do something}\n                else{Do something else}\n\n</code></pre>\n<p>and I have my adapter with all the necessary functions and this</p>\n<pre><code>    public ArrayList&lt;DataModel&gt; getItems() {\n        return dataList;\n    }\n</code></pre>\n<p>in order to return the reordered list.</p>\n<p>But the reordered list every time is return in same order.</p>\n<p>I include also here the algorithm that check the right order of (reordered)list1 according the order of list2.</p>\n<pre><code>public boolean areItemsInOrder(ArrayList&lt;String&gt; list1, ArrayList&lt;DataModel&gt; list2) {\n        boolean found = true;\n        int index = 0;\n        for (String item : list1) {\n            if (list2.contains(item)) {\n                if (list2.indexOf(item) &lt; index) {\n                    found = false;\n                    break;\n                }\n                index = list2.indexOf(item);\n            } else {\n                found = false;\n                break;\n            }\n        }\n        return found;\n    }\n</code></pre>\n<p>Could you please help me to find the issue in here?</p>\n"},{"tags":["java","eclipse","jvm","jvm-arguments"],"comments":[{"owner":{"account_id":1089021,"reputation":6241,"user_id":1084078,"display_name":"Adam Rofer"},"score":2,"creation_date":1329358062,"post_id":9303889,"comment_id":11736070,"body_markdown":"What version of java do you have? What operating system are you running on?","body":"What version of java do you have? What operating system are you running on?"},{"owner":{"account_id":1252636,"reputation":1041,"user_id":1212731,"display_name":"user1212731"},"score":0,"creation_date":1329420743,"post_id":9303889,"comment_id":11755301,"body_markdown":"This was Win7, and I had 3 different Java versions installed. One of those was the 32-bit JRE that Eclipse was using.","body":"This was Win7, and I had 3 different Java versions installed. One of those was the 32-bit JRE that Eclipse was using."},{"owner":{"account_id":146428,"reputation":9156,"user_id":356887,"accept_rate":78,"display_name":"xdhmoore"},"score":3,"creation_date":1363813853,"post_id":9303889,"comment_id":22007879,"body_markdown":"Don&#39;t forget to mark an answer as correct.","body":"Don&#39;t forget to mark an answer as correct."},{"owner":{"account_id":8517910,"reputation":109,"user_id":6385791,"display_name":"Bhushan"},"score":0,"creation_date":1495393451,"post_id":9303889,"comment_id":75221735,"body_markdown":"Just change setting in gridle.property with your sutaible space","body":"Just change setting in gridle.property with your sutaible space"}],"answers":[{"tags":[],"owner":{"account_id":255591,"reputation":930,"user_id":535742,"display_name":"Laurent"},"down_vote_count":3,"up_vote_count":74,"is_accepted":false,"score":71,"last_activity_date":1329353160,"creation_date":1329353160,"answer_id":9303948,"question_id":9303889,"body_markdown":"Could it be that you&#39;re using a 32-bit jvm on that machine?","title":"“Error occurred during initialization of VM; Could not reserve enough space for object heap” using -Xmx3G","body":"<p>Could it be that you're using a 32-bit jvm on that machine?</p>\n"},{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"down_vote_count":1,"up_vote_count":43,"is_accepted":false,"score":42,"last_activity_date":1329355944,"creation_date":1329355944,"answer_id":9304270,"question_id":9303889,"body_markdown":"This is actually not an Eclipse-specific issue; it&#39;s a general \r\nJava-on-Windows issue. It&#39;s because of how the JVM allocates memory on \r\nWindows; it insists on allocating a contiguous chunk of memory, which \r\noften Windows can&#39;t provide, even if there are enough separate chunks to \r\nsatisfy the allocation request.\r\nThere are utilities that will try to help Windows &quot;defrag&quot; its memory, \r\nwhich would, in theory, help this situation; but I&#39;ve not really tried \r\nthem in earnest so can&#39;t speak to their effectiveness.\r\nOne thing that I&#39;ve heard sometimes that might help is to reboot Windows \r\nand, before starting any other apps, launch the Java app that needs the \r\nbig chunk of memory. If you&#39;re lucky, Windows won&#39;t have fragmented its \r\nmemory space yet and Java will get the contiguous block that is asks for.\r\n\r\nSomewhere out on the interwebs there are more technical explanations and \r\nanalyses of this issue, but I don&#39;t have any references handy.\r\n\r\nI did find this, though, which looks helpful: https://stackoverflow.com/a/497757/639520\r\n\r\n","title":"“Error occurred during initialization of VM; Could not reserve enough space for object heap” using -Xmx3G","body":"<p>This is actually not an Eclipse-specific issue; it's a general \nJava-on-Windows issue. It's because of how the JVM allocates memory on \nWindows; it insists on allocating a contiguous chunk of memory, which \noften Windows can't provide, even if there are enough separate chunks to \nsatisfy the allocation request.\nThere are utilities that will try to help Windows \"defrag\" its memory, \nwhich would, in theory, help this situation; but I've not really tried \nthem in earnest so can't speak to their effectiveness.\nOne thing that I've heard sometimes that might help is to reboot Windows \nand, before starting any other apps, launch the Java app that needs the \nbig chunk of memory. If you're lucky, Windows won't have fragmented its \nmemory space yet and Java will get the contiguous block that is asks for.</p>\n\n<p>Somewhere out on the interwebs there are more technical explanations and \nanalyses of this issue, but I don't have any references handy.</p>\n\n<p>I did find this, though, which looks helpful: <a href=\"https://stackoverflow.com/a/497757/639520\">https://stackoverflow.com/a/497757/639520</a></p>\n"},{"tags":[],"owner":{"account_id":1089021,"reputation":6241,"user_id":1084078,"display_name":"Adam Rofer"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1329358318,"creation_date":1329358318,"answer_id":9304550,"question_id":9303889,"body_markdown":"Make sure that Eclipse is actually running the same JVM you think it&#39;s running. If you use java in your web browser ever, you likely have a 32-bit version floating around too that might be taking precedence if it installed or updated lately.\r\n\r\nTo be absolutely sure, I recommend adding these two lines to your `eclipse.ini` file at the top:\r\n\r\n    -vm \r\n    C:/Java/jdk1.6.0_27/bin\r\n\r\n...where on my machine `C:/Java/jdk1.6.0_27/bin` where the JVM I know is 64-bit is located. Be sure to have the `bin` folder there.\r\n\r\n(As a bonus, on Windows 7, this also allows you to actually &quot;pin the tab&quot; which is why I had to do this for my own usage)","title":"“Error occurred during initialization of VM; Could not reserve enough space for object heap” using -Xmx3G","body":"<p>Make sure that Eclipse is actually running the same JVM you think it's running. If you use java in your web browser ever, you likely have a 32-bit version floating around too that might be taking precedence if it installed or updated lately.</p>\n\n<p>To be absolutely sure, I recommend adding these two lines to your <code>eclipse.ini</code> file at the top:</p>\n\n<pre><code>-vm \nC:/Java/jdk1.6.0_27/bin\n</code></pre>\n\n<p>...where on my machine <code>C:/Java/jdk1.6.0_27/bin</code> where the JVM I know is 64-bit is located. Be sure to have the <code>bin</code> folder there.</p>\n\n<p>(As a bonus, on Windows 7, this also allows you to actually \"pin the tab\" which is why I had to do this for my own usage)</p>\n"},{"tags":[],"owner":{"account_id":954960,"reputation":13272,"user_id":980442,"accept_rate":25,"display_name":"Daniel De Le&#243;n"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1358449272,"creation_date":1340690197,"answer_id":11201475,"question_id":9303889,"body_markdown":"First the JRE of 32bits can&#39;t use more ~1.5Gb of ram. So if you want more, use a 64bits JRE.\r\n\r\nSecond, When a new JVM starts, this sum the -Xmx property of the all JVM that are running, and check if there is enough memory left on the system to run at their own -Xmx, if is not enough then the error occurs.","title":"“Error occurred during initialization of VM; Could not reserve enough space for object heap” using -Xmx3G","body":"<p>First the JRE of 32bits can't use more ~1.5Gb of ram. So if you want more, use a 64bits JRE.</p>\n\n<p>Second, When a new JVM starts, this sum the -Xmx property of the all JVM that are running, and check if there is enough memory left on the system to run at their own -Xmx, if is not enough then the error occurs.</p>\n"},{"tags":[],"owner":{"account_id":1931294,"reputation":53,"user_id":1740626,"display_name":"user1740626"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1350033285,"creation_date":1350033043,"answer_id":12855764,"question_id":9303889,"body_markdown":"This is the issue of Heap size. Edit your `.bat` (Batch file). It might be showing Heap size 1024. Change it to 512 Then it should work.","title":"“Error occurred during initialization of VM; Could not reserve enough space for object heap” using -Xmx3G","body":"<p>This is the issue of Heap size. Edit your <code>.bat</code> (Batch file). It might be showing Heap size 1024. Change it to 512 Then it should work.</p>\n"},{"tags":[],"owner":{"account_id":3769657,"reputation":171,"user_id":3132205,"display_name":"Prathap"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1387881303,"creation_date":1387881303,"answer_id":20759327,"question_id":9303889,"body_markdown":"I was using Liferay with Tomcat server from eclipse IDE.\r\nI was stuck with this same error on click on server start up.\r\nDouble click on server from eclipse. \r\nit open up Server Overview page. Updated memory arguments from -Xmx1024m -XX:MaxPermSize=256m to -Xmx512m -XX:MaxPermSize=256m.\r\nThen it was working for me.","title":"“Error occurred during initialization of VM; Could not reserve enough space for object heap” using -Xmx3G","body":"<p>I was using Liferay with Tomcat server from eclipse IDE.\nI was stuck with this same error on click on server start up.\nDouble click on server from eclipse. \nit open up Server Overview page. Updated memory arguments from -Xmx1024m -XX:MaxPermSize=256m to -Xmx512m -XX:MaxPermSize=256m.\nThen it was working for me.</p>\n"},{"tags":[],"owner":{"account_id":4755650,"reputation":1737,"user_id":3844490,"display_name":"AKs"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1407773368,"creation_date":1407773368,"answer_id":25247692,"question_id":9303889,"body_markdown":"I also had the same problem while using Eclipse which was 32 bit and the JVM used by it was 64 bit.\r\nWhen I routed the Eclipse to 32 bit JVM then it worked","title":"“Error occurred during initialization of VM; Could not reserve enough space for object heap” using -Xmx3G","body":"<p>I also had the same problem while using Eclipse which was 32 bit and the JVM used by it was 64 bit.\nWhen I routed the Eclipse to 32 bit JVM then it worked</p>\n"},{"tags":[],"owner":{"account_id":2396647,"reputation":786,"user_id":2095321,"accept_rate":100,"display_name":"Mateva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1421416842,"creation_date":1421351418,"answer_id":27971822,"question_id":9303889,"body_markdown":"Probably you are trying wrong options anyways.\r\nI got a similar error with supporting error log:\r\n\r\n    Java HotSpot(TM) Client VM warning: ignoring option PermSize=32M; support was removed in 8.0\r\n    Java HotSpot(TM) Client VM warning: ignoring option MaxPermSize=128M; support was removed in 8.0\r\n\r\nIm my case, the software did not support java 8 yet(script was using old JVM arguments) but I had had java 8 by default.","title":"“Error occurred during initialization of VM; Could not reserve enough space for object heap” using -Xmx3G","body":"<p>Probably you are trying wrong options anyways.\nI got a similar error with supporting error log:</p>\n\n<pre><code>Java HotSpot(TM) Client VM warning: ignoring option PermSize=32M; support was removed in 8.0\nJava HotSpot(TM) Client VM warning: ignoring option MaxPermSize=128M; support was removed in 8.0\n</code></pre>\n\n<p>Im my case, the software did not support java 8 yet(script was using old JVM arguments) but I had had java 8 by default.</p>\n"},{"tags":[],"owner":{"account_id":4440614,"reputation":1980,"user_id":3615225,"display_name":"Mohamed Adel"},"down_vote_count":0,"up_vote_count":64,"is_accepted":false,"score":64,"last_activity_date":1467264216,"creation_date":1430960830,"answer_id":30090225,"question_id":9303889,"body_markdown":"Here is how to fix it:\r\n**Go to** `Start-&gt;Control Panel-&gt;System-&gt;Advanced(tab)-&gt;Environment Variables-&gt;System` \r\n\r\n    Variables-&gt;New:\r\n    Variable name: _JAVA_OPTIONS   \r\n    Variable value: -Xmx512M\r\n    \r\n    Variable name: Path  \r\n    Variable value: ;C:\\Program Files\\Java\\jre6\\bin;F:\\JDK\\bin;  \r\n\r\nChange this to your **appropriate path**.","title":"“Error occurred during initialization of VM; Could not reserve enough space for object heap” using -Xmx3G","body":"<p>Here is how to fix it:\n<strong>Go to</strong> <code>Start-&gt;Control Panel-&gt;System-&gt;Advanced(tab)-&gt;Environment Variables-&gt;System</code> </p>\n\n<pre><code>Variables-&gt;New:\nVariable name: _JAVA_OPTIONS   \nVariable value: -Xmx512M\n\nVariable name: Path  \nVariable value: ;C:\\Program Files\\Java\\jre6\\bin;F:\\JDK\\bin;  \n</code></pre>\n\n<p>Change this to your <strong>appropriate path</strong>.</p>\n"},{"tags":[],"owner":{"account_id":4780047,"reputation":33,"user_id":3862091,"accept_rate":60,"display_name":"sooribabu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1451060583,"creation_date":1451060583,"answer_id":34464452,"question_id":9303889,"body_markdown":"One of the reason for this issue is no memory available for Tomcat to start. Try to delete the unwanted running software from windows and restart the eclipse and tomcat.\r\n","title":"“Error occurred during initialization of VM; Could not reserve enough space for object heap” using -Xmx3G","body":"<p>One of the reason for this issue is no memory available for Tomcat to start. Try to delete the unwanted running software from windows and restart the eclipse and tomcat.</p>\n"},{"tags":[],"owner":{"account_id":7921259,"reputation":101,"user_id":5982168,"display_name":"Ms. Sonia"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1574696220,"creation_date":1574693846,"answer_id":59034573,"question_id":9303889,"body_markdown":"Just put `#` symbol in front of `org.gradle.jvmargs=-Xmx1536m` in gradle.properties\r\n```\r\n # org.gradle.jvmargs=-Xmx1536m\r\n```","title":"“Error occurred during initialization of VM; Could not reserve enough space for object heap” using -Xmx3G","body":"<p>Just put <code>#</code> symbol in front of <code>org.gradle.jvmargs=-Xmx1536m</code> in gradle.properties</p>\n\n<pre><code> # org.gradle.jvmargs=-Xmx1536m\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16215361,"reputation":1260,"user_id":11708327,"display_name":"Phake"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598547725,"creation_date":1598547725,"answer_id":63620888,"question_id":9303889,"body_markdown":"I know that i am a bit late, but here my answer comes:\r\n\r\nI just installed the Java online Version from Oracle(not the offline 64-Bit one).\r\n\r\nAfter having added the JAVA_HOME ENV variable, it just worked!\r\n\r\nHope I could help :)","title":"“Error occurred during initialization of VM; Could not reserve enough space for object heap” using -Xmx3G","body":"<p>I know that i am a bit late, but here my answer comes:</p>\n<p>I just installed the Java online Version from Oracle(not the offline 64-Bit one).</p>\n<p>After having added the JAVA_HOME ENV variable, it just worked!</p>\n<p>Hope I could help :)</p>\n"},{"tags":[],"owner":{"display_name":"user13378232"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610034896,"creation_date":1610034896,"answer_id":65615689,"question_id":9303889,"body_markdown":"Solution is simple. No need to go deep into this issue.\r\n\r\n**If you are running on **64bit** machine then follow below steps:**\r\n\r\n- Unistall 32 bit java first (check in C:\\Program Files (x86) for its existence)\r\n- Install the newer version JDK kit 64 bit (includes JRE)\r\n- Set the environment path (To avoid conflict error if you have two different 64bit JRE)\r\n- Check in command prompt by typing javac command.\r\n- Restart / Done\r\n\r\n*You can have two different Java installed but don&#39;t forgot to set path.*","title":"“Error occurred during initialization of VM; Could not reserve enough space for object heap” using -Xmx3G","body":"<p>Solution is simple. No need to go deep into this issue.</p>\n<p><strong>If you are running on <strong>64bit</strong> machine then follow below steps:</strong></p>\n<ul>\n<li>Unistall 32 bit java first (check in C:\\Program Files (x86) for its existence)</li>\n<li>Install the newer version JDK kit 64 bit (includes JRE)</li>\n<li>Set the environment path (To avoid conflict error if you have two different 64bit JRE)</li>\n<li>Check in command prompt by typing javac command.</li>\n<li>Restart / Done</li>\n</ul>\n<p><em>You can have two different Java installed but don't forgot to set path.</em></p>\n"},{"tags":[],"owner":{"account_id":9288362,"reputation":199,"user_id":6897485,"display_name":"vinay j"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628754353,"creation_date":1628754353,"answer_id":68753485,"question_id":9303889,"body_markdown":"Please set **JAVA_OPTS=-Xms256m -Xmx512m** in environment variables, it should solve the issue, it worked for me.","title":"“Error occurred during initialization of VM; Could not reserve enough space for object heap” using -Xmx3G","body":"<p>Please set <strong>JAVA_OPTS=-Xms256m -Xmx512m</strong> in environment variables, it should solve the issue, it worked for me.</p>\n"},{"tags":[],"owner":{"account_id":12483229,"reputation":1532,"user_id":9087250,"display_name":"Teja Goud Kandula"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649383453,"creation_date":1649383453,"answer_id":71790885,"question_id":9303889,"body_markdown":"Find out if you are using a 32bit version or 64bit version of Java. To know that use the command \r\n\r\n```java -version```\r\n\r\n\r\nThe 3rd line of the output should give you if it 32bit or 64bit.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIf it is 32bit uninstall and install a 64bit version.\r\n\r\n  [1]: https://i.stack.imgur.com/hvmiT.png","title":"“Error occurred during initialization of VM; Could not reserve enough space for object heap” using -Xmx3G","body":"<p>Find out if you are using a 32bit version or 64bit version of Java. To know that use the command</p>\n<p><code>java -version</code></p>\n<p>The 3rd line of the output should give you if it 32bit or 64bit.</p>\n<p><a href=\"https://i.stack.imgur.com/hvmiT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hvmiT.png\" alt=\"enter image description here\" /></a></p>\n<p>If it is 32bit uninstall and install a 64bit version.</p>\n"},{"tags":[],"owner":{"account_id":1482499,"reputation":3409,"user_id":1391521,"accept_rate":100,"display_name":"Bibaswann Bandyopadhyay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683194342,"creation_date":1683194342,"answer_id":76171916,"question_id":9303889,"body_markdown":"I know this is a eclipse-related question, but I faced this problem in Android studio. I am posting what I did, in case someone gets this error in Android studio.\r\nFirst of all, I have the following line in gradle.properties\r\n&gt;org.gradle.jvmargs=-Xmx2048m\r\n\r\nIf I remove the line, the problem is solved but this is not the proper way.\r\nWhat you need to do is, set the proper gradle JDK.\r\nGo to **File-&gt;Settings-&gt;Build, Execution, Deployment-&gt;Build Tools-Gradle** and set the Gradle JDK to something like **xx java version &quot;xx.x.xx&quot; C:/Program Files/Android/Android Studio/jbr**\r\n\r\n*Please note: This solution is applicable to Android studio only*","title":"“Error occurred during initialization of VM; Could not reserve enough space for object heap” using -Xmx3G","body":"<p>I know this is a eclipse-related question, but I faced this problem in Android studio. I am posting what I did, in case someone gets this error in Android studio.\nFirst of all, I have the following line in gradle.properties</p>\n<blockquote>\n<p>org.gradle.jvmargs=-Xmx2048m</p>\n</blockquote>\n<p>If I remove the line, the problem is solved but this is not the proper way.\nWhat you need to do is, set the proper gradle JDK.\nGo to <strong>File-&gt;Settings-&gt;Build, Execution, Deployment-&gt;Build Tools-Gradle</strong> and set the Gradle JDK to something like <strong>xx java version &quot;xx.x.xx&quot; C:/Program Files/Android/Android Studio/jbr</strong></p>\n<p><em>Please note: This solution is applicable to Android studio only</em></p>\n"}],"owner":{"account_id":1252636,"reputation":1041,"user_id":1212731,"display_name":"user1212731"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":710359,"favorite_count":0,"down_vote_count":0,"up_vote_count":104,"answer_count":16,"score":104,"last_activity_date":1683194342,"creation_date":1329352659,"question_id":9303889,"body_markdown":"First of all, I have a box with 8gb of ram, so I doubt total memory is the issue.\r\nThis application is running fine on machines with 6gb or less.\r\n\r\nI am trying to reserve 3GB of space using -Xmx3G under &quot;VM Arguments&quot; in Run Configurations in Eclipse.\r\n\r\nEvery time I try to reserve more than 1500mb, I get this error:\r\n“Error occurred during initialization of VM; Could not reserve enough space for object heap” using -Xmx3G\r\n\r\nWhat is going on here?","title":"“Error occurred during initialization of VM; Could not reserve enough space for object heap” using -Xmx3G","body":"<p>First of all, I have a box with 8gb of ram, so I doubt total memory is the issue.\nThis application is running fine on machines with 6gb or less.</p>\n\n<p>I am trying to reserve 3GB of space using -Xmx3G under \"VM Arguments\" in Run Configurations in Eclipse.</p>\n\n<p>Every time I try to reserve more than 1500mb, I get this error:\n“Error occurred during initialization of VM; Could not reserve enough space for object heap” using -Xmx3G</p>\n\n<p>What is going on here?</p>\n"},{"tags":["java","hashmap","runnable"],"answers":[{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1339491637,"creation_date":1339491637,"answer_id":10993417,"question_id":10993403,"body_markdown":"Why not iterate over the [Map.Entry][1] objects ? Each `Entry` will give you the key and value and you don&#39;t have to perform an additional `get()` on the `Map` to get a value.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.4.2/docs/api/java/util/Map.Entry.html","title":"How to replace HashMap Values while iterating over them in Java","body":"<p>Why not iterate over the <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/util/Map.Entry.html\">Map.Entry</a> objects ? Each <code>Entry</code> will give you the key and value and you don't have to perform an additional <code>get()</code> on the <code>Map</code> to get a value.</p>\n"},{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":1,"up_vote_count":143,"is_accepted":true,"score":142,"last_activity_date":1547123534,"creation_date":1339491713,"answer_id":10993440,"question_id":10993403,"body_markdown":"**Using Java 8:**\r\n\r\n    map.replaceAll((k, v) -&gt; v - 20);\r\n\r\n\r\n----------\r\n\r\n\r\n**Using Java 7 or older:**\r\n\r\nYou can iterate over the entries and update the values as follows:\r\n\r\n    for (Map.Entry&lt;Key, Long&gt; entry : playerCooldowns.entrySet()) {\r\n        entry.setValue(entry.getValue() - 20);\r\n    }\r\n\r\n","title":"How to replace HashMap Values while iterating over them in Java","body":"<p><strong>Using Java 8:</strong></p>\n\n<pre><code>map.replaceAll((k, v) -&gt; v - 20);\n</code></pre>\n\n<hr>\n\n<p><strong>Using Java 7 or older:</strong></p>\n\n<p>You can iterate over the entries and update the values as follows:</p>\n\n<pre><code>for (Map.Entry&lt;Key, Long&gt; entry : playerCooldowns.entrySet()) {\n    entry.setValue(entry.getValue() - 20);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":43822,"reputation":3532,"user_id":128285,"accept_rate":64,"display_name":"Jon"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1339492415,"creation_date":1339492079,"answer_id":10993535,"question_id":10993403,"body_markdown":"Well, you can&#39;t do it by iterating over the set of values in the `Map` (as you are doing now), because if you do that then you have no reference to the keys, and if you have no reference to the keys, then you can&#39;t update the entries in the map, because you have no way of finding out which key was associated with the value you just updated. \r\n\r\nWhen working with Maps, you have two options for updates like this, iterate through each `Map.Entry&lt;K,V&gt;` in the `Map`, or you can iterate through the key `Set`. There are methods on `Map` to do both of these things. Personally, I would iterate through each `Map.Entry&lt;K,V&gt;`.\r\n\r\n    for (Map.Entry&lt;String, Long&gt; entry : playerCooldowns.entrySet()) {\r\n        entry.setValue(entry.getValue() - 20);\r\n    }","title":"How to replace HashMap Values while iterating over them in Java","body":"<p>Well, you can't do it by iterating over the set of values in the <code>Map</code> (as you are doing now), because if you do that then you have no reference to the keys, and if you have no reference to the keys, then you can't update the entries in the map, because you have no way of finding out which key was associated with the value you just updated. </p>\n\n<p>When working with Maps, you have two options for updates like this, iterate through each <code>Map.Entry&lt;K,V&gt;</code> in the <code>Map</code>, or you can iterate through the key <code>Set</code>. There are methods on <code>Map</code> to do both of these things. Personally, I would iterate through each <code>Map.Entry&lt;K,V&gt;</code>.</p>\n\n<pre><code>for (Map.Entry&lt;String, Long&gt; entry : playerCooldowns.entrySet()) {\n    entry.setValue(entry.getValue() - 20);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17504779,"reputation":468,"user_id":12694268,"display_name":"Harshad Panmand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683194145,"creation_date":1683194145,"answer_id":76171879,"question_id":10993403,"body_markdown":"If you try to add value to unmodifiable map then you will get `java.lang.UnsupportedOperationException`. If you are using unmodifiable map then you need to do like below.\r\n\r\n    Map&lt;String, Object&gt; modifiableMap = new HashMap&lt;&gt;(unmodifiableMap);\r\n    \r\n    // Update the value of a key in the new map\r\n    modifiableMap.put(&quot;new key1&quot;, &quot;new value&quot;);\r\n\r\n","title":"How to replace HashMap Values while iterating over them in Java","body":"<p>If you try to add value to unmodifiable map then you will get <code>java.lang.UnsupportedOperationException</code>. If you are using unmodifiable map then you need to do like below.</p>\n<pre><code>Map&lt;String, Object&gt; modifiableMap = new HashMap&lt;&gt;(unmodifiableMap);\n\n// Update the value of a key in the new map\nmodifiableMap.put(&quot;new key1&quot;, &quot;new value&quot;);\n</code></pre>\n"}],"owner":{"account_id":1188692,"reputation":1597,"user_id":1162078,"accept_rate":86,"display_name":"Zach Sugano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100228,"favorite_count":0,"down_vote_count":0,"up_vote_count":79,"accepted_answer_id":10993440,"answer_count":4,"score":79,"last_activity_date":1683194145,"creation_date":1339491570,"question_id":10993403,"body_markdown":"I am using a Runnable to automatically subtract 20 from a players cooldown every second, but I have no idea how to replace the value of a value as I iterate through it. How can I have it update the value of each key?\r\n\r\n\tpublic class CoolDownTimer implements Runnable {\r\n\t\t@Override\r\n\t\tpublic void run() {\r\n\t\t\tfor (Long l : playerCooldowns.values()) {\r\n\t\t\t\tl = l - 20;\r\n\t\t\t\tplayerCooldowns.put(Key???, l);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t}","title":"How to replace HashMap Values while iterating over them in Java","body":"<p>I am using a Runnable to automatically subtract 20 from a players cooldown every second, but I have no idea how to replace the value of a value as I iterate through it. How can I have it update the value of each key?</p>\n\n<pre><code>public class CoolDownTimer implements Runnable {\n    @Override\n    public void run() {\n        for (Long l : playerCooldowns.values()) {\n            l = l - 20;\n            playerCooldowns.put(Key???, l);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","display","assertion"],"comments":[{"owner":{"account_id":6837963,"reputation":848,"user_id":5259214,"display_name":"Prakash Boda"},"score":0,"creation_date":1683215063,"post_id":76170507,"comment_id":134335814,"body_markdown":"Please add more context to the question like give code snippet of whole class. It will help others to answer or try it themselves.","body":"Please add more context to the question like give code snippet of whole class. It will help others to answer or try it themselves."}],"answers":[{"tags":[],"owner":{"account_id":28490665,"reputation":66,"user_id":21803364,"display_name":"Tamas Demeny"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683194086,"creation_date":1683194086,"answer_id":76171873,"question_id":76170507,"body_markdown":"Try with an if statement: \r\n\r\n    if (SlotBooking.isDisplayed()){\r\n         SlotBooking.click;\r\n    }\r\n    SlotBookingConfirmation.click;","title":"How to work on IsDisplayed() in Selenium WebDriver","body":"<p>Try with an if statement:</p>\n<pre><code>if (SlotBooking.isDisplayed()){\n     SlotBooking.click;\n}\nSlotBookingConfirmation.click;\n</code></pre>\n"}],"owner":{"account_id":20667034,"reputation":31,"user_id":15173637,"display_name":"abhisekh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683194086,"creation_date":1683184759,"question_id":76170507,"body_markdown":"```\r\n\r\nHere I have Created page factory for both buttons\r\n\t@FindBy (id = &quot;book-seat&quot;)\r\n\tWebElement SlotBooking;\r\n\t\r\n\t@FindBy (id = &quot;proceed-to-purchase&quot;)\r\n\tWebElement SlotBookingConfirmation;\r\n\r\n \r\n```\r\n1. Hi Have two buttons in UI. For the first time Book Slot Button will display and next It will ask for Book SLot Confirmation Button.\r\n2. If i run the same test case again Book Slot button not showing. It is showing Slot Confirmation button\r\n3. Is there any way to validate if element is displayed() select SlotBooking button or else select SlotBookingConfirmation button","title":"How to work on IsDisplayed() in Selenium WebDriver","body":"<pre><code>\nHere I have Created page factory for both buttons\n    @FindBy (id = &quot;book-seat&quot;)\n    WebElement SlotBooking;\n    \n    @FindBy (id = &quot;proceed-to-purchase&quot;)\n    WebElement SlotBookingConfirmation;\n\n \n</code></pre>\n<ol>\n<li>Hi Have two buttons in UI. For the first time Book Slot Button will display and next It will ask for Book SLot Confirmation Button.</li>\n<li>If i run the same test case again Book Slot button not showing. It is showing Slot Confirmation button</li>\n<li>Is there any way to validate if element is displayed() select SlotBooking button or else select SlotBookingConfirmation button</li>\n</ol>\n"},{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":4403883,"reputation":1,"user_id":3588826,"display_name":"user3588826"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1399284538,"creation_date":1399284538,"answer_id":23469897,"question_id":23469784,"body_markdown":"You need to define another class for the information within ResObj {&quot;ClientNum&quot;:&quot;12345&quot;,&quot;ServerNum&quot;:&quot;78945&quot;,&quot;IdNum&quot;:&quot;020252&quot;}. Otherwise jackson cannot determine how to deserialize.\r\n\r\n","title":"com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field","body":"<p>You need to define another class for the information within ResObj {\"ClientNum\":\"12345\",\"ServerNum\":\"78945\",\"IdNum\":\"020252\"}. Otherwise jackson cannot determine how to deserialize.</p>\n"},{"tags":[],"owner":{"account_id":30898,"reputation":8917,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1683194014,"creation_date":1399284653,"answer_id":23469933,"question_id":23469784,"body_markdown":"You need Setter methods to allow Jackson to set the properties, and you need to change the fields in the json to begin with a lower case letter:\r\n\r\n    public class Response {\r\n    \r\n        private Object ResObj;\r\n        private int ResInt;\r\n    \r\n        public Object getResObj() {\r\n            return ResObj;\r\n        }\r\n    \r\n        public void setResObj(Object ResObj) {\r\n            this.ResObj = ResObj;\r\n        }\r\n\r\n        // ...\r\n    }\r\n\r\nand:\r\n\r\n    {&quot;resObj&quot;:{&quot;clientNum&quot;:&quot;12345&quot;,&quot;serverNum&quot;:&quot;78945&quot;,&quot;idNum&quot;:&quot;020252&quot;},&quot;resInt&quot;:0}\r\n\r\nThe reason for the JSON change is that the Jackson bean serialisation will reflect over the class, and when it sees getXyz() and setXyz() methods it will map these to a Json field named &quot;xyz&quot; (and not &quot;Xyz&quot;).\r\n\r\nI think there are several ways to override this behaviour, one is to use the one of the Jackson annotations.\r\n","title":"com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field","body":"<p>You need Setter methods to allow Jackson to set the properties, and you need to change the fields in the json to begin with a lower case letter:</p>\n<pre><code>public class Response {\n\n    private Object ResObj;\n    private int ResInt;\n\n    public Object getResObj() {\n        return ResObj;\n    }\n\n    public void setResObj(Object ResObj) {\n        this.ResObj = ResObj;\n    }\n\n    // ...\n}\n</code></pre>\n<p>and:</p>\n<pre><code>{&quot;resObj&quot;:{&quot;clientNum&quot;:&quot;12345&quot;,&quot;serverNum&quot;:&quot;78945&quot;,&quot;idNum&quot;:&quot;020252&quot;},&quot;resInt&quot;:0}\n</code></pre>\n<p>The reason for the JSON change is that the Jackson bean serialisation will reflect over the class, and when it sees getXyz() and setXyz() methods it will map these to a Json field named &quot;xyz&quot; (and not &quot;Xyz&quot;).</p>\n<p>I think there are several ways to override this behaviour, one is to use the one of the Jackson annotations.</p>\n"},{"tags":[],"owner":{"account_id":216306,"reputation":1549,"user_id":471467,"accept_rate":57,"display_name":"Jay"},"down_vote_count":0,"up_vote_count":90,"is_accepted":true,"score":90,"last_activity_date":1609189143,"creation_date":1413326993,"answer_id":26371693,"question_id":23469784,"body_markdown":"If you don&#39;t want to have a setter in your bean and only use fields and getters, you can use the visibility checker of `ObjectMapper` to allow field visibility.&lt;br&gt;\r\nSomething like following:\r\n```\r\nObjectMapper mapper = new ObjectMapper();\r\nmapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\r\nmapper.setVisibility(VisibilityChecker.Std.defaultInstance().withFieldVisibility(JsonAutoDetect.Visibility.ANY));\r\n```  ","title":"com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field","body":"<p>If you don't want to have a setter in your bean and only use fields and getters, you can use the visibility checker of <code>ObjectMapper</code> to allow field visibility.<br>\nSomething like following:</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\nmapper.setVisibility(VisibilityChecker.Std.defaultInstance().withFieldVisibility(JsonAutoDetect.Visibility.ANY));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1782587,"reputation":1339,"user_id":1624917,"accept_rate":50,"display_name":"Ashish"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1461070544,"creation_date":1461070544,"answer_id":36719103,"question_id":23469784,"body_markdown":"I think you should try this\r\n\r\n    public class Response {\r\n        @JsonProperty\r\n        private Object ResObj;\r\n        @JsonProperty\r\n        private int ResInt;\r\n    \r\n        public Object getResObj() {\r\n            return ResObj;\r\n        }\r\n    \r\n        public int getResInt() {\r\n            return ResInt;\r\n        } \r\n    } \r\n\r\nIt will resolve your issue with UnrecognizedPropertyExceptions","title":"com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field","body":"<p>I think you should try this</p>\n\n<pre><code>public class Response {\n    @JsonProperty\n    private Object ResObj;\n    @JsonProperty\n    private int ResInt;\n\n    public Object getResObj() {\n        return ResObj;\n    }\n\n    public int getResInt() {\n        return ResInt;\n    } \n} \n</code></pre>\n\n<p>It will resolve your issue with UnrecognizedPropertyExceptions</p>\n"},{"tags":[],"owner":{"account_id":10467381,"reputation":1,"user_id":7716392,"display_name":"Bhupesh Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489606988,"creation_date":1489595672,"answer_id":42815663,"question_id":23469784,"body_markdown":"    public class Response {\r\n        public Object ResObj;\r\n        public int ResInt;\r\n\r\n        public Object getResObj() {\r\n            return ResObj;\r\n        }\r\n\r\n        public int getResInt() {\r\n            return ResInt;\r\n        } \r\n    } \r\n\r\n**Use this to resolve the above issue.**","title":"com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field","body":"<pre><code>public class Response {\n    public Object ResObj;\n    public int ResInt;\n\n    public Object getResObj() {\n        return ResObj;\n    }\n\n    public int getResInt() {\n        return ResInt;\n    } \n} \n</code></pre>\n\n<p><strong>Use this to resolve the above issue.</strong></p>\n"},{"tags":[],"owner":{"account_id":15012948,"reputation":926,"user_id":10837620,"display_name":"Atul KS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545974153,"creation_date":1545974153,"answer_id":53953961,"question_id":23469784,"body_markdown":"I have sorted this problem using the Jackson library. Here is my code snippet.\r\n\r\n    **Main Class with JSON String in all lower case:**\r\n\r\n     public class MainClass {\r\n\r\n\tpublic static void main(String[] args) throws JsonParseException, \r\n        JsonMappingException, IOException {\r\n\r\n\t\tString jsonStr = &quot;{\\r\\n&quot; + &quot;\t\\&quot;resObj\\&quot;: {\\r\\n&quot; + &quot;\t\t\\&quot;clientNum\\&quot;: \r\n                   \\&quot;12345\\&quot;,\\r\\n&quot;\r\n\t\t\t\t+ &quot;\t\t\\&quot;serverNum\\&quot;: \\&quot;78945\\&quot;,\\r\\n&quot; + &quot;\t\t\\&quot;idNum\\&quot;: \r\n              \\&quot;020252\\&quot;\\r\\n&quot; + &quot;\t},\\r\\n&quot;\r\n\t\t\t\t+ &quot;\t\\&quot;resInt\\&quot;: 0\\r\\n&quot; + &quot;}&quot;;\r\n\r\n\t\tObjectMapper mapper = new ObjectMapper();\r\n\r\n\t\tMyPojo details = mapper.readValue(jsonStr, MyPojo.class);\r\n\r\n\t\tSystem.out.println(&quot;value of clientNum: &quot; + details.getResObj().getClientNum());\r\n\t\tSystem.out.println(&quot;value of getServerNum: &quot; + \r\n                   details.getResObj().getServerNum());\r\n\t\tSystem.out.println(&quot;value of getIdNum: &quot; + details.getResObj().getIdNum());\r\n\t\tSystem.out.println(&quot;value of getResInt: &quot; + details.getResInt());\r\n\r\n\t} }\r\n\r\n    **MyPojo Class:**\r\n     \r\n     public class MyPojo {\r\n\tprivate ResObj resObj;\r\n\r\n\tprivate String resInt;\r\n\r\n\tpublic ResObj getResObj() {\r\n\t\treturn resObj;\r\n\t}\r\n\r\n\t  public String getResInt() {\r\n\t\t   return resInt; \t} }\r\n\r\n    **ResObj class:**\r\n  \r\n\r\n    public class ResObj {\r\n\tprivate String serverNum;\r\n\r\n\tprivate String idNum;\r\n\r\n\tprivate String clientNum;\r\n\r\n\tpublic String getServerNum() {\r\n\t\treturn serverNum;\r\n\t}\r\n\r\n\tpublic String getIdNum() {\r\n\t\treturn idNum;\r\n\t}\r\n\r\n\tpublic String getClientNum() {\r\n\t\treturn clientNum;\r\n\t} }\r\n\r\n    **RESULT**\r\n\r\n      value of clientNum: 12345\r\n      value of getServerNum: 78945\r\n      value of getIdNum: 020252\r\n      value of getResInt: 0\r\n\r\n    NOTE: I have removed Setters in classes &amp; there is no effect on the result.","title":"com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field","body":"<p>I have sorted this problem using the Jackson library. Here is my code snippet.</p>\n\n<pre><code>**Main Class with JSON String in all lower case:**\n\n public class MainClass {\n\npublic static void main(String[] args) throws JsonParseException, \n    JsonMappingException, IOException {\n\n    String jsonStr = \"{\\r\\n\" + \"    \\\"resObj\\\": {\\r\\n\" + \"      \\\"clientNum\\\": \n               \\\"12345\\\",\\r\\n\"\n            + \"     \\\"serverNum\\\": \\\"78945\\\",\\r\\n\" + \"      \\\"idNum\\\": \n          \\\"020252\\\"\\r\\n\" + \"   },\\r\\n\"\n            + \" \\\"resInt\\\": 0\\r\\n\" + \"}\";\n\n    ObjectMapper mapper = new ObjectMapper();\n\n    MyPojo details = mapper.readValue(jsonStr, MyPojo.class);\n\n    System.out.println(\"value of clientNum: \" + details.getResObj().getClientNum());\n    System.out.println(\"value of getServerNum: \" + \n               details.getResObj().getServerNum());\n    System.out.println(\"value of getIdNum: \" + details.getResObj().getIdNum());\n    System.out.println(\"value of getResInt: \" + details.getResInt());\n\n} }\n\n**MyPojo Class:**\n\n public class MyPojo {\nprivate ResObj resObj;\n\nprivate String resInt;\n\npublic ResObj getResObj() {\n    return resObj;\n}\n\n  public String getResInt() {\n       return resInt;   } }\n\n**ResObj class:**\n\n\npublic class ResObj {\nprivate String serverNum;\n\nprivate String idNum;\n\nprivate String clientNum;\n\npublic String getServerNum() {\n    return serverNum;\n}\n\npublic String getIdNum() {\n    return idNum;\n}\n\npublic String getClientNum() {\n    return clientNum;\n} }\n\n**RESULT**\n\n  value of clientNum: 12345\n  value of getServerNum: 78945\n  value of getIdNum: 020252\n  value of getResInt: 0\n\nNOTE: I have removed Setters in classes &amp; there is no effect on the result.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2868776,"reputation":20877,"user_id":2462531,"accept_rate":40,"display_name":"Shailendra Madda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638984579,"creation_date":1638984579,"answer_id":70279293,"question_id":23469784,"body_markdown":"I tried all the ways mentioned above but in my case, this is the only solution that worked as answered [here][1] Solution 2. Here I have enabled `@EnableWebMvc` in my spring boot application.\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class WebConfig implements WebMvcConfigurer {\r\n        @Autowired\r\n        private ObjectMapper objectMapper;// created elsewhere\r\n        @Override\r\n        public void extendMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\r\n            // this will add a 2nd MappingJackson2HttpMessageConverter \r\n            converters.add(new MappingJackson2HttpMessageConverter(this.objectMapper));\r\n        }\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/a/55958912/2462531","title":"com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field","body":"<p>I tried all the ways mentioned above but in my case, this is the only solution that worked as answered <a href=\"https://stackoverflow.com/a/55958912/2462531\">here</a> Solution 2. Here I have enabled <code>@EnableWebMvc</code> in my spring boot application.</p>\n<pre><code>@Configuration\n@EnableWebMvc\npublic class WebConfig implements WebMvcConfigurer {\n    @Autowired\n    private ObjectMapper objectMapper;// created elsewhere\n    @Override\n    public void extendMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n        // this will add a 2nd MappingJackson2HttpMessageConverter \n        converters.add(new MappingJackson2HttpMessageConverter(this.objectMapper));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2548436,"reputation":1245,"user_id":2212726,"accept_rate":63,"display_name":"user2212726"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131304,"favorite_count":0,"down_vote_count":1,"up_vote_count":36,"accepted_answer_id":26371693,"answer_count":7,"score":35,"last_activity_date":1683194014,"creation_date":1399284193,"question_id":23469784,"body_markdown":"i got a deserialization problem: \r\n\r\nThis is my class:\r\n\r\n    public class Response {\r\n\r\n        private Object ResObj;\r\n        private int ResInt;\r\n\r\n        public Object getResObj() {\r\n            return ResObj;\r\n        }\r\n\r\n        public int getResInt() {\r\n            return ResInt;\r\n        } \r\n    } \r\n\r\nthe JSON i want to deserialize is:\r\n\r\n    {&quot;ResObj&quot;:{&quot;ClientNum&quot;:&quot;12345&quot;,&quot;ServerNum&quot;:&quot;78945&quot;,&quot;IdNum&quot;:&quot;020252&quot;},&quot;ResInt&quot;:0}\r\n\r\nI get this exception:\r\n\r\n    Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;ResObj&quot; , not marked as ignorable (0 known properties: ])\r\n     at [Source: java.io.StringReader@1f758500; line: 1, column: 20] (through reference chain: [&quot;ResObj&quot;])\r\n\r\n\r\nI don&#39;t want to add:\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n\r\nbecause I want to get the ResObj...\r\n\r\nif I add the annotation, it pass but it will set it as null .. which I don&#39;t want.","title":"com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field","body":"<p>i got a deserialization problem: </p>\n\n<p>This is my class:</p>\n\n<pre><code>public class Response {\n\n    private Object ResObj;\n    private int ResInt;\n\n    public Object getResObj() {\n        return ResObj;\n    }\n\n    public int getResInt() {\n        return ResInt;\n    } \n} \n</code></pre>\n\n<p>the JSON i want to deserialize is:</p>\n\n<pre><code>{\"ResObj\":{\"ClientNum\":\"12345\",\"ServerNum\":\"78945\",\"IdNum\":\"020252\"},\"ResInt\":0}\n</code></pre>\n\n<p>I get this exception:</p>\n\n<pre><code>Exception in thread \"main\" com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field \"ResObj\" , not marked as ignorable (0 known properties: ])\n at [Source: java.io.StringReader@1f758500; line: 1, column: 20] (through reference chain: [\"ResObj\"])\n</code></pre>\n\n<p>I don't want to add:</p>\n\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\n</code></pre>\n\n<p>because I want to get the ResObj...</p>\n\n<p>if I add the annotation, it pass but it will set it as null .. which I don't want.</p>\n"},{"tags":["java","postgresql","specifications","hibernate-criteria"],"owner":{"account_id":8011525,"reputation":61,"user_id":6043054,"display_name":"sushil sinha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683193723,"creation_date":1683193723,"question_id":76171807,"body_markdown":"I have one column which is of string array in db.  \r\n`@Type(type = &quot;com.here.tao.ctaas.jpa.entity.CustomStringArrayType&quot;) @Column(columnDefinition = &quot;text[]&quot;) private String[] tags;`\r\nIn database column contains values as {&#39;Tag1&#39;, &#39;Tag2&#39;, &#39;Tag3&#39;}\r\n\r\nI am using Specification and overriding toPredicate() method for findAll() method .\r\n\r\n\\`tags = \\[&quot;tag1&quot;, &quot;tag2&quot;\\];\r\n\r\n    if(tags != null &amp;&amp; !c.getTags().isEmpty()) {\r\n                Expression&lt;String&gt; delimiter = builder.literal(&quot;,&quot;);\r\n                tags.stream().forEach(tag -&gt; {\r\n                    predicates.add(builder.like(\r\n                            builder.function(\r\n                                    &quot;array_to_string&quot;, String.class, root.get(&quot;tags&quot;), delimiter),\r\n                            &quot;%&quot; + tag.toLowerCase() + &quot;%&quot;));\r\n    \r\n                });\r\n    \r\n            }`\r\n\r\nProblem with this is it returns if it find partial values too because of like query.\r\n\r\nBut my expectation is it should search exact word from the given array.\r\n\r\nI tried with Predicate Function of jpa\r\n\r\nProblem with this is it returns if it find partial values too because of like query.\r\n\r\nBut my expectation is it should search exact word from the given array.","title":"Search Value in array of string column posgres java","body":"<p>I have one column which is of string array in db.<br />\n<code>@Type(type = &quot;com.here.tao.ctaas.jpa.entity.CustomStringArrayType&quot;) @Column(columnDefinition = &quot;text[]&quot;) private String[] tags;</code>\nIn database column contains values as {'Tag1', 'Tag2', 'Tag3'}</p>\n<p>I am using Specification and overriding toPredicate() method for findAll() method .</p>\n<p>`tags = [&quot;tag1&quot;, &quot;tag2&quot;];</p>\n<pre><code>if(tags != null &amp;&amp; !c.getTags().isEmpty()) {\n            Expression&lt;String&gt; delimiter = builder.literal(&quot;,&quot;);\n            tags.stream().forEach(tag -&gt; {\n                predicates.add(builder.like(\n                        builder.function(\n                                &quot;array_to_string&quot;, String.class, root.get(&quot;tags&quot;), delimiter),\n                        &quot;%&quot; + tag.toLowerCase() + &quot;%&quot;));\n\n            });\n\n        }`\n</code></pre>\n<p>Problem with this is it returns if it find partial values too because of like query.</p>\n<p>But my expectation is it should search exact word from the given array.</p>\n<p>I tried with Predicate Function of jpa</p>\n<p>Problem with this is it returns if it find partial values too because of like query.</p>\n<p>But my expectation is it should search exact word from the given array.</p>\n"},{"tags":["java","hibernate","dialect","wildfly-11"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1683146046,"post_id":76163862,"comment_id":134323421,"body_markdown":"That is a pretty big jump in WildFly. I&#39;d suggest upgrading WildFly instead of Hibernate.","body":"That is a pretty big jump in WildFly. I&#39;d suggest upgrading WildFly instead of Hibernate."},{"owner":{"account_id":2719435,"reputation":521,"user_id":2346038,"accept_rate":89,"display_name":"WDrgn"},"score":0,"creation_date":1683180730,"post_id":76163862,"comment_id":134327471,"body_markdown":"Well, I&#39;m not in a position to change anything in the application. I just need to update the app to a client from a certain version that have that hibernate to a newer version with hibernate 5.4.27.Final. The point is that on my machine, it is working with wildfly 11. The application being with java 8, I know that newer versions of wildfly need at least java 11.","body":"Well, I&#39;m not in a position to change anything in the application. I just need to update the app to a client from a certain version that have that hibernate to a newer version with hibernate 5.4.27.Final. The point is that on my machine, it is working with wildfly 11. The application being with java 8, I know that newer versions of wildfly need at least java 11."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":1,"creation_date":1683208203,"post_id":76163862,"comment_id":134333926,"body_markdown":"WildFly 26 is Jakarta EE 8 and works on Java 8. WildFly 27+ is Jakarta EE 10 and requires Java 11.","body":"WildFly 26 is Jakarta EE 8 and works on Java 8. WildFly 27+ is Jakarta EE 10 and requires Java 11."}],"answers":[{"tags":[],"owner":{"account_id":2719435,"reputation":521,"user_id":2346038,"accept_rate":89,"display_name":"WDrgn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683192395,"creation_date":1683192395,"answer_id":76171613,"question_id":76163862,"body_markdown":"Enabling more logs found that was something related to the XA of my database. I changed in &lt;bindings&gt; my active datasource to point toward a non-xa datasource and it worked.","title":"app using hibernate 5.4.27.Final is not deploying successful in wildfly-11.0.0.Final","body":"<p>Enabling more logs found that was something related to the XA of my database. I changed in  my active datasource to point toward a non-xa datasource and it worked.</p>\n"}],"owner":{"account_id":2719435,"reputation":521,"user_id":2346038,"accept_rate":89,"display_name":"WDrgn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76171613,"answer_count":1,"score":1,"last_activity_date":1683192395,"creation_date":1683117060,"question_id":76163862,"body_markdown":"I have an app (version 201908) deployed in wildfly-11.0.0.Final that&#39;s using org.hibernate-hibernate-core-3.6.9.Final and java 8 and is successfully deployed. \r\n\r\nWhen I&#39;m trying to deploy this app&#39;s newer version (202211), that&#39;s using org.hibernate-hibernate-core-5.4.27.Final, in the same wildfly-11.0.0.Final, still with java 8, with the same standalone.xml it gets stuck on this last line from here:\r\n\r\n    INFO  com.commons.utilities.persistence.HibernateUtils - Determining Hibernate dialect\r\n    INFO  com.commons.utilities.persistence.HibernateUtils - Using DialectFactory and DB properties to determine dialect\r\n    INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.27.Final\r\n    INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.SQLServer2012Dialect\r\n    INFO  com.commons.utilities.persistence.HibernateUtils - Chosen dialect: org.hibernate.dialect.SQLServer2012Dialect\r\n    INFO  com.commons.utilities.persistence.HibernateUtils - There are mapping resources, examining for SQLSERVER\r\n    INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n    INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.SQLServer2012Dialect\r\n\r\nAnd it&#39;s failing with a timeout:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GS66F.png\r\n\r\nOn my machine, both versions are deploying successfully and logs are looking like this:\r\n\r\n    INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n    INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.SQLServer2012Dialect\r\n    WARN  org.hibernate.id.UUIDHexGenerator - HHH000409: Using org.hibernate.id.UUIDHexGenerator which does not generate IETF RFC 4122 compliant UUID values; consider using org.hibernate.id.UUIDGenerator instead\r\n    INFO  org.hibernate.id.enhanced.TableGenerator - HHH000398: Explicit segment value for id generator [hibernate_unique_key.sequence_name] suggested; using default [default]\r\n    INFO  org.hibernate.id.enhanced.TableGenerator - HHH000398: Explicit segment value for id generator [hibernate_unique_key.sequence_name] suggested; using default [default]\r\n    INFO  org.hibernate.id.enhanced.TableGenerator - HHH000398: Explicit segment value for id generator [hibernate_unique_key.sequence_name] suggested; using default [default]\r\n    INFO  org.hibernate.id.enhanced.TableGenerator - HHH000398: Explicit segment value for id generator [hibernate_unique_key.sequence_name] suggested; using default [default]\r\n    INFO  org.hibernate.id.enhanced.TableGenerator - HHH000398: Explicit segment value for id generator [hibernate_unique_key.sequence_name] suggested; using default [default]\r\n    INFO  com.commons.preferences.spring.PreferenceBasedPropertyOverrideConfigurer - Post-Processing the Bean Factory\r\n    INFO  com.commons.preferences.spring.PreferenceBasedPropertyOverrideConfigurer - Listing the DB-stored configuration overrides\r\n    INFO  org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.springframework.orm.hibernate5.ConfigurableJtaPlatform]\r\n    ........\r\n\r\nI tried to increase the timeout, even the deployment-timeout in standalone.xml, but still not passing this line...\r\nAnyone, any suggestion what I can try to make it work? Thanks!","title":"app using hibernate 5.4.27.Final is not deploying successful in wildfly-11.0.0.Final","body":"<p>I have an app (version 201908) deployed in wildfly-11.0.0.Final that's using org.hibernate-hibernate-core-3.6.9.Final and java 8 and is successfully deployed.</p>\n<p>When I'm trying to deploy this app's newer version (202211), that's using org.hibernate-hibernate-core-5.4.27.Final, in the same wildfly-11.0.0.Final, still with java 8, with the same standalone.xml it gets stuck on this last line from here:</p>\n<pre><code>INFO  com.commons.utilities.persistence.HibernateUtils - Determining Hibernate dialect\nINFO  com.commons.utilities.persistence.HibernateUtils - Using DialectFactory and DB properties to determine dialect\nINFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.27.Final\nINFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.SQLServer2012Dialect\nINFO  com.commons.utilities.persistence.HibernateUtils - Chosen dialect: org.hibernate.dialect.SQLServer2012Dialect\nINFO  com.commons.utilities.persistence.HibernateUtils - There are mapping resources, examining for SQLSERVER\nINFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\nINFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.SQLServer2012Dialect\n</code></pre>\n<p>And it's failing with a timeout:\n<a href=\"https://i.stack.imgur.com/GS66F.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GS66F.png\" alt=\"enter image description here\" /></a></p>\n<p>On my machine, both versions are deploying successfully and logs are looking like this:</p>\n<pre><code>INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\nINFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.SQLServer2012Dialect\nWARN  org.hibernate.id.UUIDHexGenerator - HHH000409: Using org.hibernate.id.UUIDHexGenerator which does not generate IETF RFC 4122 compliant UUID values; consider using org.hibernate.id.UUIDGenerator instead\nINFO  org.hibernate.id.enhanced.TableGenerator - HHH000398: Explicit segment value for id generator [hibernate_unique_key.sequence_name] suggested; using default [default]\nINFO  org.hibernate.id.enhanced.TableGenerator - HHH000398: Explicit segment value for id generator [hibernate_unique_key.sequence_name] suggested; using default [default]\nINFO  org.hibernate.id.enhanced.TableGenerator - HHH000398: Explicit segment value for id generator [hibernate_unique_key.sequence_name] suggested; using default [default]\nINFO  org.hibernate.id.enhanced.TableGenerator - HHH000398: Explicit segment value for id generator [hibernate_unique_key.sequence_name] suggested; using default [default]\nINFO  org.hibernate.id.enhanced.TableGenerator - HHH000398: Explicit segment value for id generator [hibernate_unique_key.sequence_name] suggested; using default [default]\nINFO  com.commons.preferences.spring.PreferenceBasedPropertyOverrideConfigurer - Post-Processing the Bean Factory\nINFO  com.commons.preferences.spring.PreferenceBasedPropertyOverrideConfigurer - Listing the DB-stored configuration overrides\nINFO  org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.springframework.orm.hibernate5.ConfigurableJtaPlatform]\n........\n</code></pre>\n<p>I tried to increase the timeout, even the deployment-timeout in standalone.xml, but still not passing this line...\nAnyone, any suggestion what I can try to make it work? Thanks!</p>\n"},{"tags":["java","docker","google-cloud-platform","google-cloud-build","cloudbuild.yaml"],"answers":[{"tags":[],"owner":{"account_id":4336562,"reputation":1,"user_id":3540918,"display_name":"user3540918"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683187615,"creation_date":1683187586,"answer_id":76170899,"question_id":76162801,"body_markdown":"My project was build successful previously in GCP cloud build with bash script\r\nbut I got similar error yesterday - Fatal error compiling: invalid target release: 11\r\n\r\nMy solution was replace script with example:\r\nhttps://github.com/GoogleCloudPlatform/cloud-build-samples/blob/main/maven-example/cloudbuild.yaml\r\n\r\n      - name: maven:3-eclipse-temurin-17-alpine\r\n    entrypoint: mvn\r\n    args: [&#39;package&#39;,&#39;-Dmaven.test.skip=true&#39;]","title":"error in Cloud Build (GCP) - javac: invalid target release: 11","body":"<p>My project was build successful previously in GCP cloud build with bash script\nbut I got similar error yesterday - Fatal error compiling: invalid target release: 11</p>\n<p>My solution was replace script with example:\n<a href=\"https://github.com/GoogleCloudPlatform/cloud-build-samples/blob/main/maven-example/cloudbuild.yaml\" rel=\"nofollow noreferrer\">https://github.com/GoogleCloudPlatform/cloud-build-samples/blob/main/maven-example/cloudbuild.yaml</a></p>\n<pre><code>  - name: maven:3-eclipse-temurin-17-alpine\nentrypoint: mvn\nargs: ['package','-Dmaven.test.skip=true']\n</code></pre>\n"}],"owner":{"account_id":28490164,"reputation":3,"user_id":21802905,"display_name":"Gunel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683192299,"creation_date":1683109639,"question_id":76162801,"body_markdown":"I have a maven project which runs normally on my local computer, but when I push the code to the cloud repository, it fails in Cloud Build with the error below:\r\n\r\n```\r\n\r\nStep #0: [ERROR] COMPILATION ERROR : \r\nStep #0: [INFO] -------------------------------------------------------------\r\nStep #0: [ERROR] javac: invalid target release: 11\r\nStep #0: Usage: javac &lt;options&gt; &lt;source files&gt;\r\nStep #0: use -help for a list of possible options\r\nStep #0: \r\nStep #0: [INFO] 1 error\r\nStep #0: [INFO] -------------------------------------------------------------\r\nStep #0: [INFO] ------------------------------------------------------------------------\r\nStep #0: [INFO] BUILD FAILURE\r\nStep #0: [INFO] ------------------------------------------------------------------------\r\nStep #0: [INFO] Total time:  18.785 s\r\nStep #0: [INFO] Finished at: 2023-05-03T05:52:33Z\r\nStep #0: [INFO] ------------------------------------------------------------------------\r\nStep #0: [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project job: Compilation failure\r\nStep #0: [ERROR] javac: invalid target release: 11\r\nStep #0: [ERROR] Usage: javac &lt;options&gt; &lt;source files&gt;\r\n```\r\n\r\nHere is my `pom.xml`:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project \r\n    xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.ddd.dd&lt;/groupId&gt;\r\n    &lt;artifactId&gt;job&lt;/artifactId&gt; \r\n    &lt;version&gt;1.0.0-RELEASE&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;name&gt;job&lt;/name&gt;\r\n    &lt;description&gt;project for Spring Boot&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt; \r\n\t    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n\t    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n\t    &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt; \r\n        &lt;!-- spring-boot-starter-web (spring-webmvc + tomcat) --&gt;\r\n        &lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;!-- job-core --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.xuxueli&lt;/groupId&gt;\r\n            &lt;artifactId&gt;xxl-job-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.1-SNAPSHOT&lt;/version&gt;\r\n            &lt;scope&gt;system&lt;/scope&gt;\r\n            &lt;systemPath&gt;${project.basedir}/src/main/resources/lib/ob_core-2.1.0.jar&lt;/systemPath&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- kml --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;dom4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;dom4j&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n            &lt;version&gt;3.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.yaml&lt;/groupId&gt;\r\n            &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\r\n            &lt;version&gt;1.25&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/joda-time/joda-time --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;joda-time&lt;/groupId&gt;\r\n            &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\r\n            &lt;version&gt;2.10.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\t\t\r\n\t\t    &lt;groupId&gt;commons-cli&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;commons-cli&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.5.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;6.2.3.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;hibernate-spatial&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;5.6.10.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;5.6.10.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;tomcat-jdbc&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;10.0.22&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;8.0.29&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n    &lt;artifactId&gt;groovy&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.9&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n\t            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t            &lt;version&gt;2.0.5.RELEASE&lt;/version&gt;\r\n\t            &lt;configuration&gt;\r\n    &lt;includeSystemScope&gt;true&lt;/includeSystemScope&gt;\r\n  &lt;/configuration&gt;\r\n\t             &lt;executions&gt;\r\n\t\t\t      &lt;execution&gt;\r\n\t\t\t        &lt;goals&gt;\r\n\t\t\t          &lt;goal&gt;repackage&lt;/goal&gt;\r\n\t\t\t        &lt;/goals&gt;\r\n\t\t\t        &lt;configuration&gt;\r\n\t\t\t          \r\n\t\t\t          &lt;mainClass&gt;map.job.executor.JobExecutorApplication&lt;/mainClass&gt;\r\n\t\t\t        &lt;/configuration&gt;\r\n\t\t\t      &lt;/execution&gt;\r\n    \t\t\t&lt;/executions&gt;\r\n                 \r\n\t        &lt;/plugin&gt;\r\n        \r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mybatis-generator-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.3.2&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;configurationFile&gt;src/main/resources/mybatis/generator/generatorConfig.xml&lt;/configurationFile&gt;\r\n                    &lt;overwrite&gt;true&lt;/overwrite&gt;\r\n                    &lt;verbose&gt;true&lt;/verbose&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                        &lt;version&gt;8.0.29&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;tk.mybatis&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;mapper-generator&lt;/artifactId&gt;\r\n                        &lt;version&gt;1.0.0&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.10.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${java.version}&lt;/source&gt;\r\n                    &lt;target&gt;${java.version}&lt;/target&gt;\r\n                    &lt;fork&gt;true&lt;/fork&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.20.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;**/*Test.java&lt;/exclude&gt;\r\n                        &lt;exclude&gt;**/Test*.java&lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nIn the project structure (intellij idea) I&#39;ve selected Java 11 (oracle) as SDK, in the modules -\\&gt; dependencies I have done same. In the settings -\\&gt; compiler, I selected java compiler and target bytecode as 11.  Also  $JAVA_HOME is : /usr/lib/jvm/jdk-11. It runs on my local machine, however build fails in Cloud Build with the above error once I push my code.\r\n\r\nHere is the `Dockerfile`:\r\n\r\n```\r\nFROM openjdk:11\r\n\r\nWORKDIR /job\r\nADD ./target/xxxx-1.0.0-RELEASE.jar /job\r\n\r\nEXPOSE 22 9999\r\nENV NAME job\r\n\r\nCMD [&quot;java&quot;,&quot;-jar&quot;, &quot;-Duser.timezone=Australia/Sydney&quot;, &quot;xxxx-1.0.0-RELEASE.jar&quot;] \r\n```\r\n\r\nThis is my `cloudbuild.yaml` file: \r\n\r\n```\r\n steps:\r\n# build the container image\r\n- name: &#39;gcr.io/cloud-builders/mvn&#39;\r\n  args: [&#39;install&#39;, &#39;-Dmaven.test.skip=true&#39;]\r\n# build the container image\r\n- name: &#39;gcr.io/cloud-builders/docker&#39;\r\n  args: [&#39;build&#39;, &#39;-t&#39;, &#39;gcr.io/$PROJECT_ID/xxxx-$_NAMESPACE:$BUILD_ID&#39;, &#39;.&#39;]\r\n  \r\n  \r\n- name: &quot;gcr.io/cloud-builders/gcloud&quot;\r\n  entrypoint: &#39;bash&#39;\r\n  args:\r\n  - &#39;-c&#39;\r\n  - |\r\n    for image_name in $(gcloud container images list); do\r\n      for digest in $(gcloud container images list-tags $image_name --format=json | awk &#39;/digest/{ print $2 }&#39; | sed -e &#39;s/^&quot;//&#39; -e &#39;s/.\\{2\\}$//&#39; | tail -n +6); do\r\n          gcloud container images -q delete $image_name@$digest --force-delete-tags;\r\n      done;\r\n    done;\r\n  \r\n  # push the container image to Container Registry\r\n- name: &#39;gcr.io/cloud-builders/docker&#39;\r\n  args: [&#39;push&#39;, &#39;gcr.io/$PROJECT_ID/xxxx-$_NAMESPACE:$BUILD_ID&#39;]\r\n  # Deploy container image to Cloud Run\r\n\r\n- name: &quot;gcr.io/cloud-builders/gcloud&quot;\r\n  entrypoint: &#39;bash&#39;\r\n  args:\r\n  - &#39;-c&#39;\r\n  - |\r\n    gcloud container clusters get-credentials oni-cluster --zone australia-southeast1-b\r\n    sed -i.bak &#39;s#IMAGE_PLACEHOLDER#gcr.io/$PROJECT_ID/xxxx-$_NAMESPACE:$BUILD_ID#&#39; ./k8s/sync/*.yaml\r\n    sed -i.bak &#39;s#NAMESPACE_PLACEHOLDER#$_NAMESPACE#&#39; ./k8s/sync/*.yaml\r\n    kubectl --namespace=$_NAMESPACE apply -f k8s/sync/\r\n\r\nimages:\r\n- gcr.io/$PROJECT_ID/xxxx-$_NAMESPACE:$BUILD_ID\r\n```","title":"error in Cloud Build (GCP) - javac: invalid target release: 11","body":"<p>I have a maven project which runs normally on my local computer, but when I push the code to the cloud repository, it fails in Cloud Build with the error below:</p>\n<pre><code>\nStep #0: [ERROR] COMPILATION ERROR : \nStep #0: [INFO] -------------------------------------------------------------\nStep #0: [ERROR] javac: invalid target release: 11\nStep #0: Usage: javac &lt;options&gt; &lt;source files&gt;\nStep #0: use -help for a list of possible options\nStep #0: \nStep #0: [INFO] 1 error\nStep #0: [INFO] -------------------------------------------------------------\nStep #0: [INFO] ------------------------------------------------------------------------\nStep #0: [INFO] BUILD FAILURE\nStep #0: [INFO] ------------------------------------------------------------------------\nStep #0: [INFO] Total time:  18.785 s\nStep #0: [INFO] Finished at: 2023-05-03T05:52:33Z\nStep #0: [INFO] ------------------------------------------------------------------------\nStep #0: [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project job: Compilation failure\nStep #0: [ERROR] javac: invalid target release: 11\nStep #0: [ERROR] Usage: javac &lt;options&gt; &lt;source files&gt;\n</code></pre>\n<p>Here is my <code>pom.xml</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project \n    xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.ddd.dd&lt;/groupId&gt;\n    &lt;artifactId&gt;job&lt;/artifactId&gt; \n    &lt;version&gt;1.0.0-RELEASE&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;name&gt;job&lt;/name&gt;\n    &lt;description&gt;project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt; \n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt; \n        &lt;!-- spring-boot-starter-web (spring-webmvc + tomcat) --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- job-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.xuxueli&lt;/groupId&gt;\n            &lt;artifactId&gt;xxl-job-core&lt;/artifactId&gt;\n            &lt;version&gt;2.1.1-SNAPSHOT&lt;/version&gt;\n            &lt;scope&gt;system&lt;/scope&gt;\n            &lt;systemPath&gt;${project.basedir}/src/main/resources/lib/ob_core-2.1.0.jar&lt;/systemPath&gt;\n        &lt;/dependency&gt;\n        &lt;!-- kml --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;dom4j&lt;/groupId&gt;\n            &lt;artifactId&gt;dom4j&lt;/artifactId&gt;\n            &lt;version&gt;1.6.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.yaml&lt;/groupId&gt;\n            &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\n            &lt;version&gt;1.25&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/joda-time/joda-time --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;joda-time&lt;/groupId&gt;\n            &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\n            &lt;version&gt;2.10.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n            &lt;groupId&gt;commons-cli&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-cli&lt;/artifactId&gt;\n            &lt;version&gt;1.5.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;6.2.3.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-spatial&lt;/artifactId&gt;\n            &lt;version&gt;5.6.10.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.6.10.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;10.0.22&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.29&lt;/version&gt;\n        &lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n    &lt;artifactId&gt;groovy&lt;/artifactId&gt;\n    &lt;version&gt;3.0.9&lt;/version&gt;\n&lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.0.5.RELEASE&lt;/version&gt;\n                &lt;configuration&gt;\n    &lt;includeSystemScope&gt;true&lt;/includeSystemScope&gt;\n  &lt;/configuration&gt;\n                 &lt;executions&gt;\n                  &lt;execution&gt;\n                    &lt;goals&gt;\n                      &lt;goal&gt;repackage&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                      \n                      &lt;mainClass&gt;map.job.executor.JobExecutorApplication&lt;/mainClass&gt;\n                    &lt;/configuration&gt;\n                  &lt;/execution&gt;\n                &lt;/executions&gt;\n                 \n            &lt;/plugin&gt;\n        \n            &lt;plugin&gt;\n                &lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt;\n                &lt;artifactId&gt;mybatis-generator-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.3.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;configurationFile&gt;src/main/resources/mybatis/generator/generatorConfig.xml&lt;/configurationFile&gt;\n                    &lt;overwrite&gt;true&lt;/overwrite&gt;\n                    &lt;verbose&gt;true&lt;/verbose&gt;\n                &lt;/configuration&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;mysql&lt;/groupId&gt;\n                        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n                        &lt;version&gt;8.0.29&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;tk.mybatis&lt;/groupId&gt;\n                        &lt;artifactId&gt;mapper-generator&lt;/artifactId&gt;\n                        &lt;version&gt;1.0.0&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.10.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                    &lt;fork&gt;true&lt;/fork&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.20.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;**/*Test.java&lt;/exclude&gt;\n                        &lt;exclude&gt;**/Test*.java&lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>In the project structure (intellij idea) I've selected Java 11 (oracle) as SDK, in the modules -&gt; dependencies I have done same. In the settings -&gt; compiler, I selected java compiler and target bytecode as 11.  Also  $JAVA_HOME is : /usr/lib/jvm/jdk-11. It runs on my local machine, however build fails in Cloud Build with the above error once I push my code.</p>\n<p>Here is the <code>Dockerfile</code>:</p>\n<pre><code>FROM openjdk:11\n\nWORKDIR /job\nADD ./target/xxxx-1.0.0-RELEASE.jar /job\n\nEXPOSE 22 9999\nENV NAME job\n\nCMD [&quot;java&quot;,&quot;-jar&quot;, &quot;-Duser.timezone=Australia/Sydney&quot;, &quot;xxxx-1.0.0-RELEASE.jar&quot;] \n</code></pre>\n<p>This is my <code>cloudbuild.yaml</code> file:</p>\n<pre><code> steps:\n# build the container image\n- name: 'gcr.io/cloud-builders/mvn'\n  args: ['install', '-Dmaven.test.skip=true']\n# build the container image\n- name: 'gcr.io/cloud-builders/docker'\n  args: ['build', '-t', 'gcr.io/$PROJECT_ID/xxxx-$_NAMESPACE:$BUILD_ID', '.']\n  \n  \n- name: &quot;gcr.io/cloud-builders/gcloud&quot;\n  entrypoint: 'bash'\n  args:\n  - '-c'\n  - |\n    for image_name in $(gcloud container images list); do\n      for digest in $(gcloud container images list-tags $image_name --format=json | awk '/digest/{ print $2 }' | sed -e 's/^&quot;//' -e 's/.\\{2\\}$//' | tail -n +6); do\n          gcloud container images -q delete $image_name@$digest --force-delete-tags;\n      done;\n    done;\n  \n  # push the container image to Container Registry\n- name: 'gcr.io/cloud-builders/docker'\n  args: ['push', 'gcr.io/$PROJECT_ID/xxxx-$_NAMESPACE:$BUILD_ID']\n  # Deploy container image to Cloud Run\n\n- name: &quot;gcr.io/cloud-builders/gcloud&quot;\n  entrypoint: 'bash'\n  args:\n  - '-c'\n  - |\n    gcloud container clusters get-credentials oni-cluster --zone australia-southeast1-b\n    sed -i.bak 's#IMAGE_PLACEHOLDER#gcr.io/$PROJECT_ID/xxxx-$_NAMESPACE:$BUILD_ID#' ./k8s/sync/*.yaml\n    sed -i.bak 's#NAMESPACE_PLACEHOLDER#$_NAMESPACE#' ./k8s/sync/*.yaml\n    kubectl --namespace=$_NAMESPACE apply -f k8s/sync/\n\nimages:\n- gcr.io/$PROJECT_ID/xxxx-$_NAMESPACE:$BUILD_ID\n</code></pre>\n"},{"tags":["java","pdf","base64","blob","octet-stream"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1683089656,"post_id":76150019,"comment_id":134311212,"body_markdown":"Please share the `error message` in plain text format","body":"Please share the <code>error message</code> in plain text format"},{"owner":{"account_id":25606831,"reputation":1,"user_id":19380802,"display_name":"Ikechukwu Paul Anene"},"score":0,"creation_date":1683107425,"post_id":76150019,"comment_id":134314579,"body_markdown":"@FarkhodAbdukodirov, this was the message when opening the file: &#39;Adobe Acrobat Reader could not open Car Theft2_0001.pott because it is either not a supported file type or because the file has been damaged (for example, it was sent as an email attachment and wasn&#39;t correctly decoded).&#39;","body":"@FarkhodAbdukodirov, this was the message when opening the file: &#39;Adobe Acrobat Reader could not open Car Theft2_0001.pott because it is either not a supported file type or because the file has been damaged (for example, it was sent as an email attachment and wasn&#39;t correctly decoded).&#39;"}],"answers":[{"tags":[],"owner":{"account_id":25606831,"reputation":1,"user_id":19380802,"display_name":"Ikechukwu Paul Anene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683192130,"creation_date":1683106823,"answer_id":76162419,"question_id":76150019,"body_markdown":"I found that the initial base64 string gotten from the blob data is still an encoded string and that it required a bit extra step to show the original pdf contents:\r\n\r\n\r\n    private static void pdfBlobToDoc(String blobData, String fileName) {\r\n        String path = &quot;src/main/resources/&quot; + fileName;\r\n\r\n        try (FileOutputStream fos = new FileOutputStream(path)) {\r\n            byte[] blobValue = Base64.getDecoder().decode(blobData.replaceAll(&quot;[^A-Za-z0-9+/=]&quot;, &quot;&quot;));\r\n            Blob blob = new SerialBlob(blobValue);\r\n            fos.write(blob.getBytes(1, (int) blob.length()));\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(&quot;Error writing pdf blob to &quot; + fileName + &quot;: &quot; + e.getMessage());\r\n        }\r\n    }\r\n\r\nWith this, I am able to read the pdf documents properly.","title":"Converted byteArray data to PDF not opening","body":"<p>I found that the initial base64 string gotten from the blob data is still an encoded string and that it required a bit extra step to show the original pdf contents:</p>\n<pre><code>private static void pdfBlobToDoc(String blobData, String fileName) {\n    String path = &quot;src/main/resources/&quot; + fileName;\n\n    try (FileOutputStream fos = new FileOutputStream(path)) {\n        byte[] blobValue = Base64.getDecoder().decode(blobData.replaceAll(&quot;[^A-Za-z0-9+/=]&quot;, &quot;&quot;));\n        Blob blob = new SerialBlob(blobValue);\n        fos.write(blob.getBytes(1, (int) blob.length()));\n    } catch (Exception e) {\n        throw new RuntimeException(&quot;Error writing pdf blob to &quot; + fileName + &quot;: &quot; + e.getMessage());\n    }\n}\n</code></pre>\n<p>With this, I am able to read the pdf documents properly.</p>\n"}],"owner":{"account_id":25606831,"reputation":1,"user_id":19380802,"display_name":"Ikechukwu Paul Anene"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1683192130,"creation_date":1682973424,"question_id":76150019,"body_markdown":"I am reading data from a CSV file and saving it to a Map object called &#39;record&#39;. I am trying to convert the blob data from the record object and save the data to its document file. I have tested for image documents and they convert &amp; save fine to files that can be opened. However, the pdf images after saving, do not open and return an error instead.\r\n\r\n\r\n```\r\nprivate static void convertBlobToBase64(Map&lt;String, Object&gt; record) {\r\n        boolean blob = record.keySet().stream().anyMatch(key -&gt; key.contains(&quot;Blob&quot;));\r\n\r\n        if (blob) {\r\n            for (Map.Entry&lt;String, Object&gt; entry : record.entrySet()) {\r\n                if (entry.getKey().contains(&quot;Blob&quot;)) {\r\n                    try {\r\n                        String hexData = (String) entry.getValue();\r\n                        hexData = hexData.substring(1).replaceAll(&quot;[^0-9A-Fa-f]&quot;, &quot;&quot;);\r\n                        if (hexData.length() % 2 != 0) {\r\n                            throw new IllegalArgumentException(&quot;Invalid hex string&quot;);\r\n                        }\r\n                        byte[] hexBinary = DatatypeConverter.parseHexBinary(hexData);\r\n                        String base64String = Base64.getEncoder().encodeToString(hexBinary);\r\n                        blobToDoc(base64String, (String) record.get(&quot;Document_FileName&quot;));\r\n                    } catch (IOException | SQLException e) {\r\n                        throw new RuntimeException(&quot;Error converting blob:  &quot;+ e.getMessage());\r\n                    }\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private static void blobToDoc(String blobData, String fileName) throws SQLException, IOException {\r\n        byte[] blobValue = Base64.getDecoder().decode(blobData);\r\n        Blob blob = new SerialBlob(blobValue);\r\n        String path = &quot;src/main/resources/&quot; + fileName;\r\n        Path outputFile = Paths.get(path);\r\n        try (OutputStream outputStream = Files.newOutputStream(outputFile)) {\r\n            byte[] buffer = new byte[4096];\r\n            int bytesRead = -1;\r\n            InputStream inputStream = blob.getBinaryStream();\r\n            while ((bytesRead = inputStream.read(buffer)) != -1) {\r\n                outputStream.write(buffer, 0, bytesRead);\r\n            }\r\n            inputStream.close();\r\n            outputStream.flush();\r\n        }\r\n    }\r\n```\r\n\r\n\r\n\r\n[This is the error that comes up when opening the saved PDFs:](https://i.stack.imgur.com/jHAMp.jpg)\r\n\r\nPlease, how can I fix this?\r\n\r\n\r\nI took the blob data to an online tool to convert first to base64 and then to pdf. It complained about being unable to convert &#39;application/octet-stream&#39; to &#39;application/pdf&#39;. Is there a way to convert the octet-stream data to readable pdf file?","title":"Converted byteArray data to PDF not opening","body":"<p>I am reading data from a CSV file and saving it to a Map object called 'record'. I am trying to convert the blob data from the record object and save the data to its document file. I have tested for image documents and they convert &amp; save fine to files that can be opened. However, the pdf images after saving, do not open and return an error instead.</p>\n<pre><code>private static void convertBlobToBase64(Map&lt;String, Object&gt; record) {\n        boolean blob = record.keySet().stream().anyMatch(key -&gt; key.contains(&quot;Blob&quot;));\n\n        if (blob) {\n            for (Map.Entry&lt;String, Object&gt; entry : record.entrySet()) {\n                if (entry.getKey().contains(&quot;Blob&quot;)) {\n                    try {\n                        String hexData = (String) entry.getValue();\n                        hexData = hexData.substring(1).replaceAll(&quot;[^0-9A-Fa-f]&quot;, &quot;&quot;);\n                        if (hexData.length() % 2 != 0) {\n                            throw new IllegalArgumentException(&quot;Invalid hex string&quot;);\n                        }\n                        byte[] hexBinary = DatatypeConverter.parseHexBinary(hexData);\n                        String base64String = Base64.getEncoder().encodeToString(hexBinary);\n                        blobToDoc(base64String, (String) record.get(&quot;Document_FileName&quot;));\n                    } catch (IOException | SQLException e) {\n                        throw new RuntimeException(&quot;Error converting blob:  &quot;+ e.getMessage());\n                    }\n                    return;\n                }\n            }\n        }\n    }\n\n    private static void blobToDoc(String blobData, String fileName) throws SQLException, IOException {\n        byte[] blobValue = Base64.getDecoder().decode(blobData);\n        Blob blob = new SerialBlob(blobValue);\n        String path = &quot;src/main/resources/&quot; + fileName;\n        Path outputFile = Paths.get(path);\n        try (OutputStream outputStream = Files.newOutputStream(outputFile)) {\n            byte[] buffer = new byte[4096];\n            int bytesRead = -1;\n            InputStream inputStream = blob.getBinaryStream();\n            while ((bytesRead = inputStream.read(buffer)) != -1) {\n                outputStream.write(buffer, 0, bytesRead);\n            }\n            inputStream.close();\n            outputStream.flush();\n        }\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/jHAMp.jpg\" rel=\"nofollow noreferrer\">This is the error that comes up when opening the saved PDFs:</a></p>\n<p>Please, how can I fix this?</p>\n<p>I took the blob data to an online tool to convert first to base64 and then to pdf. It complained about being unable to convert 'application/octet-stream' to 'application/pdf'. Is there a way to convert the octet-stream data to readable pdf file?</p>\n"},{"tags":["java","spring","multithreading","spring-statemachine"],"comments":[{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":0,"creation_date":1509096349,"post_id":46955741,"comment_id":80890782,"body_markdown":"But if every state machine would use its own scheduler, wouldn&#39;t you end up with the same problem you are trying to solve - too many threads?","body":"But if every state machine would use its own scheduler, wouldn&#39;t you end up with the same problem you are trying to solve - too many threads?"},{"owner":{"account_id":9982522,"reputation":91,"user_id":7384959,"display_name":"Alejandro Raiczyk"},"score":0,"creation_date":1509096850,"post_id":46955741,"comment_id":80891112,"body_markdown":"State machine instances are limited, because they are pooled. If each machine has a task scheduler that has a limited threadPool, then I assume the total # of threads is limited because no one would be creating threads on demand. Am I wrong?","body":"State machine instances are limited, because they are pooled. If each machine has a task scheduler that has a limited threadPool, then I assume the total # of threads is limited because no one would be creating threads on demand. Am I wrong?"}],"answers":[{"tags":[],"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1509025418,"creation_date":1509025418,"answer_id":46956023,"question_id":46955741,"body_markdown":"The [spring docs][1] provide this example configuration:\r\n\r\n    @Configuration\r\n    @EnableStateMachine\r\n    public class Config17\r\n            extends EnumStateMachineConfigurerAdapter&lt;States, Events&gt; {\r\n    \r\n        @Override\r\n        public void configure(StateMachineConfigurationConfigurer&lt;States, Events&gt; config)\r\n                throws Exception {\r\n            config\r\n                .withConfiguration()\r\n                    .autoStartup(true)\r\n                    .beanFactory(new StaticListableBeanFactory())\r\n                    .taskExecutor(new SyncTaskExecutor())\r\n                    .taskScheduler(new ConcurrentTaskScheduler())\r\n                    .listener(new StateMachineListenerAdapter&lt;States, Events&gt;());\r\n        }\r\n    }\r\n\r\nYou just need to replace the `taskScheduler` with a bean that is configured for your needs. For example another instance of [`ConcurrentTaskScheduler`][2] that uses a `scheduledExecutor` with a limited number of threads.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-statemachine/docs/1.2.x/reference/htmlsingle/#statemachine-config-commonsettings\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/concurrent/ConcurrentTaskScheduler.html","title":"How can I limit the threads quantity used by a spring state machine instance?","body":"<p>The <a href=\"https://docs.spring.io/spring-statemachine/docs/1.2.x/reference/htmlsingle/#statemachine-config-commonsettings\" rel=\"nofollow noreferrer\">spring docs</a> provide this example configuration:</p>\n\n<pre><code>@Configuration\n@EnableStateMachine\npublic class Config17\n        extends EnumStateMachineConfigurerAdapter&lt;States, Events&gt; {\n\n    @Override\n    public void configure(StateMachineConfigurationConfigurer&lt;States, Events&gt; config)\n            throws Exception {\n        config\n            .withConfiguration()\n                .autoStartup(true)\n                .beanFactory(new StaticListableBeanFactory())\n                .taskExecutor(new SyncTaskExecutor())\n                .taskScheduler(new ConcurrentTaskScheduler())\n                .listener(new StateMachineListenerAdapter&lt;States, Events&gt;());\n    }\n}\n</code></pre>\n\n<p>You just need to replace the <code>taskScheduler</code> with a bean that is configured for your needs. For example another instance of <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/concurrent/ConcurrentTaskScheduler.html\" rel=\"nofollow noreferrer\"><code>ConcurrentTaskScheduler</code></a> that uses a <code>scheduledExecutor</code> with a limited number of threads.</p>\n"}],"owner":{"account_id":9982522,"reputation":91,"user_id":7384959,"display_name":"Alejandro Raiczyk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1194,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1683192120,"creation_date":1509024681,"question_id":46955741,"body_markdown":"I have an event queue with n message listeners. When a message arrives, one message listener takes it, gets a state machine instance from the corresponding pool, sets the state machine context and starts it. \nThis works perfect but I have an issue with threading. Since state machine instances are limited by its pool size, I thought total threads quantity would have a limit, but I&#39;m wrong:\n\n    org.springframework.amqp.rabbit.listener.exception.ListenerExecutionFailedException: Listener method &#39;consume&#39; threw exception\n    at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:395) ~[spring-rabbit-1.7.4.RELEASE.jar!/:na]\n    at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.onMessage(MessageListenerAdapter.java:298) ~[spring-rabbit-1.7.4.RELEASE.jar!/:na]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:848) ~[spring-rabbit-1.7.4.RELEASE.jar!/:na]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:771) ~[spring-rabbit-1.7.4.RELEASE.jar!/:na]\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$001(SimpleMessageListenerContainer.java:102) [spring-rabbit-1.7.4.RELEASE.jar!/:na]\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$1.invokeListener(SimpleMessageListenerContainer.java:198) ~[spring-rabbit-1.7.4.RELEASE.jar!/:na]\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.invokeListener(SimpleMessageListenerContainer.java:1311) [spring-rabbit-1.7.4.RELEASE.jar!/:na]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:752) ~[spring-rabbit-1.7.4.RELEASE.jar!/:na]\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1254) [spring-rabbit-1.7.4.RELEASE.jar!/:na]\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1224) [spring-rabbit-1.7.4.RELEASE.jar!/:na]\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:102) [spring-rabbit-1.7.4.RELEASE.jar!/:na]\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1470) [spring-rabbit-1.7.4.RELEASE.jar!/:na]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_152]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_152]\n    at java.lang.Thread.run(Thread.java:748) [na:1.8.0_152]\n    Caused by: java.lang.OutOfMemoryError: unable to create new native thread\n    at java.lang.Thread.start0(Native Method) [na:1.8.0_152]\n    at java.lang.Thread.start(Thread.java:717) [na:1.8.0_152]\n    at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:957) [na:1.8.0_152]\n    at java.util.concurrent.ThreadPoolExecutor.ensurePrestart(ThreadPoolExecutor.java:1603) [na:1.8.0_152]\n    at java.util.concurrent.ScheduledThreadPoolExecutor.delayedExecute(ScheduledThreadPoolExecutor.java:334) ~[na:1.8.0_152]\n    at java.util.concurrent.ScheduledThreadPoolExecutor.schedule(ScheduledThreadPoolExecutor.java:533) ~[na:1.8.0_152]\n    at java.util.concurrent.Executors$DelegatedScheduledExecutorService.schedule(Executors.java:729) ~[na:1.8.0_152]\n    at org.springframework.scheduling.concurrent.ConcurrentTaskScheduler.schedule(ConcurrentTaskScheduler.java:182) ~[spring-context-4.3.11.RELEASE.jar!/:4.3.11.RELEASE]\n    at org.springframework.statemachine.state.AbstractState.scheduleAction(AbstractState.java:415) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\n    at org.springframework.statemachine.state.AbstractState.scheduleStateActions(AbstractState.java:377) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\n    at org.springframework.statemachine.state.AbstractState.entry(AbstractState.java:208) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\n    at org.springframework.statemachine.state.ObjectState.entry(ObjectState.java:156) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\n    at org.springframework.statemachine.support.AbstractStateMachine.entryToState(AbstractStateMachine.java:1216) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\n    at org.springframework.statemachine.support.AbstractStateMachine.entryToState(AbstractStateMachine.java:1161) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\n    at org.springframework.statemachine.support.AbstractStateMachine.setCurrentStateInternal(AbstractStateMachine.java:971) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\n    at org.springframework.statemachine.support.AbstractStateMachine.setCurrentState(AbstractStateMachine.java:949) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\n    at org.springframework.statemachine.support.AbstractStateMachine.switchToState(AbstractStateMachine.java:841) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\n    at org.springframework.statemachine.support.AbstractStateMachine.access$400(AbstractStateMachine.java:77) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\n    at org.springframework.statemachine.support.AbstractStateMachine$2.transit(AbstractStateMachine.java:301) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\n    at org.springframework.statemachine.support.DefaultStateMachineExecutor.handleTriggerTrans(DefaultStateMachineExecutor.java:248) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\n    at org.springframework.statemachine.support.DefaultStateMachineExecutor.processTriggerQueue(DefaultStateMachineExecutor.java:395) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\n    at org.springframework.statemachine.support.DefaultStateMachineExecutor.access$100(DefaultStateMachineExecutor.java:61) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\n    at org.springframework.statemachine.support.DefaultStateMachineExecutor$1.run(DefaultStateMachineExecutor.java:281) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\n    at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50) ~[spring-core-4.3.11.RELEASE.jar!/:4.3.11.RELEASE]\n    at org.springframework.statemachine.support.DefaultStateMachineExecutor.scheduleEventQueueProcessing(DefaultStateMachineExecutor.java:300) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\n    at org.springframework.statemachine.support.DefaultStateMachineExecutor.execute(DefaultStateMachineExecutor.java:144) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\n    at org.springframework.statemachine.support.AbstractStateMachine.sendEventInternal(AbstractStateMachine.java:559) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\n    at org.springframework.statemachine.support.AbstractStateMachine.sendEvent(AbstractStateMachine.java:211) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\n    at org.springframework.statemachine.support.AbstractStateMachine.sendEvent(AbstractStateMachine.java:223) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\n    at io.botbit.backend.consumers.EventConsumer.consume(EventConsumer.java:39) ~[classes!/:0.0.1-SNAPSHOT]\n    at sun.reflect.GeneratedMethodAccessor74.invoke(Unknown Source) ~[na:na]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_152]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_152]\n    at org.springframework.util.MethodInvoker.invoke(MethodInvoker.java:269) ~[spring-core-4.3.11.RELEASE.jar!/:4.3.11.RELEASE]\n    at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:387) ~[spring-rabbit-1.7.4.RELEASE.jar!/:na]\n    ... 14 common frames omitted\n\nAnalyzing the stack trace, the cause is:\n\n    Caused by: java.lang.OutOfMemoryError: unable to create new native thread\n\nHow can I limit the threads quantity used by a spring state machine instance?\n\nThanks in advance!\n\n# Update 1\n\nI did what @SpaceTrucker suggests:\n\n\n    @Bean(name = &quot;stateMachineTaskScheduler&quot;)\n    public ConcurrentTaskScheduler stateMachineTaskScheduler() {\n        ScheduledThreadPoolExecutor threadPool = new ScheduledThreadPoolExecutor(10);\n        ConcurrentTaskScheduler taskScheduler = new ConcurrentTaskScheduler(threadPool);\n        return taskScheduler;\n    }\n\nand then\n\n`builder.configureConfiguration().withConfiguration().taskScheduler(stateMachineTaskScheduler());`\n\nNow state machines are using this pool. The problem is that all state machine instances are using the same instance of this pool instead each state machine instance having it&#39;s own taskScheduler instance.\n","title":"How can I limit the threads quantity used by a spring state machine instance?","body":"<p>I have an event queue with n message listeners. When a message arrives, one message listener takes it, gets a state machine instance from the corresponding pool, sets the state machine context and starts it.\nThis works perfect but I have an issue with threading. Since state machine instances are limited by its pool size, I thought total threads quantity would have a limit, but I'm wrong:</p>\n<pre><code>org.springframework.amqp.rabbit.listener.exception.ListenerExecutionFailedException: Listener method 'consume' threw exception\nat org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:395) ~[spring-rabbit-1.7.4.RELEASE.jar!/:na]\nat org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.onMessage(MessageListenerAdapter.java:298) ~[spring-rabbit-1.7.4.RELEASE.jar!/:na]\nat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:848) ~[spring-rabbit-1.7.4.RELEASE.jar!/:na]\nat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:771) ~[spring-rabbit-1.7.4.RELEASE.jar!/:na]\nat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$001(SimpleMessageListenerContainer.java:102) [spring-rabbit-1.7.4.RELEASE.jar!/:na]\nat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$1.invokeListener(SimpleMessageListenerContainer.java:198) ~[spring-rabbit-1.7.4.RELEASE.jar!/:na]\nat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.invokeListener(SimpleMessageListenerContainer.java:1311) [spring-rabbit-1.7.4.RELEASE.jar!/:na]\nat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:752) ~[spring-rabbit-1.7.4.RELEASE.jar!/:na]\nat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1254) [spring-rabbit-1.7.4.RELEASE.jar!/:na]\nat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1224) [spring-rabbit-1.7.4.RELEASE.jar!/:na]\nat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:102) [spring-rabbit-1.7.4.RELEASE.jar!/:na]\nat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1470) [spring-rabbit-1.7.4.RELEASE.jar!/:na]\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_152]\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_152]\nat java.lang.Thread.run(Thread.java:748) [na:1.8.0_152]\nCaused by: java.lang.OutOfMemoryError: unable to create new native thread\nat java.lang.Thread.start0(Native Method) [na:1.8.0_152]\nat java.lang.Thread.start(Thread.java:717) [na:1.8.0_152]\nat java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:957) [na:1.8.0_152]\nat java.util.concurrent.ThreadPoolExecutor.ensurePrestart(ThreadPoolExecutor.java:1603) [na:1.8.0_152]\nat java.util.concurrent.ScheduledThreadPoolExecutor.delayedExecute(ScheduledThreadPoolExecutor.java:334) ~[na:1.8.0_152]\nat java.util.concurrent.ScheduledThreadPoolExecutor.schedule(ScheduledThreadPoolExecutor.java:533) ~[na:1.8.0_152]\nat java.util.concurrent.Executors$DelegatedScheduledExecutorService.schedule(Executors.java:729) ~[na:1.8.0_152]\nat org.springframework.scheduling.concurrent.ConcurrentTaskScheduler.schedule(ConcurrentTaskScheduler.java:182) ~[spring-context-4.3.11.RELEASE.jar!/:4.3.11.RELEASE]\nat org.springframework.statemachine.state.AbstractState.scheduleAction(AbstractState.java:415) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\nat org.springframework.statemachine.state.AbstractState.scheduleStateActions(AbstractState.java:377) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\nat org.springframework.statemachine.state.AbstractState.entry(AbstractState.java:208) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\nat org.springframework.statemachine.state.ObjectState.entry(ObjectState.java:156) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\nat org.springframework.statemachine.support.AbstractStateMachine.entryToState(AbstractStateMachine.java:1216) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\nat org.springframework.statemachine.support.AbstractStateMachine.entryToState(AbstractStateMachine.java:1161) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\nat org.springframework.statemachine.support.AbstractStateMachine.setCurrentStateInternal(AbstractStateMachine.java:971) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\nat org.springframework.statemachine.support.AbstractStateMachine.setCurrentState(AbstractStateMachine.java:949) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\nat org.springframework.statemachine.support.AbstractStateMachine.switchToState(AbstractStateMachine.java:841) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\nat org.springframework.statemachine.support.AbstractStateMachine.access$400(AbstractStateMachine.java:77) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\nat org.springframework.statemachine.support.AbstractStateMachine$2.transit(AbstractStateMachine.java:301) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\nat org.springframework.statemachine.support.DefaultStateMachineExecutor.handleTriggerTrans(DefaultStateMachineExecutor.java:248) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\nat org.springframework.statemachine.support.DefaultStateMachineExecutor.processTriggerQueue(DefaultStateMachineExecutor.java:395) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\nat org.springframework.statemachine.support.DefaultStateMachineExecutor.access$100(DefaultStateMachineExecutor.java:61) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\nat org.springframework.statemachine.support.DefaultStateMachineExecutor$1.run(DefaultStateMachineExecutor.java:281) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\nat org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50) ~[spring-core-4.3.11.RELEASE.jar!/:4.3.11.RELEASE]\nat org.springframework.statemachine.support.DefaultStateMachineExecutor.scheduleEventQueueProcessing(DefaultStateMachineExecutor.java:300) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\nat org.springframework.statemachine.support.DefaultStateMachineExecutor.execute(DefaultStateMachineExecutor.java:144) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\nat org.springframework.statemachine.support.AbstractStateMachine.sendEventInternal(AbstractStateMachine.java:559) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\nat org.springframework.statemachine.support.AbstractStateMachine.sendEvent(AbstractStateMachine.java:211) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\nat org.springframework.statemachine.support.AbstractStateMachine.sendEvent(AbstractStateMachine.java:223) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\nat io.botbit.backend.consumers.EventConsumer.consume(EventConsumer.java:39) ~[classes!/:0.0.1-SNAPSHOT]\nat sun.reflect.GeneratedMethodAccessor74.invoke(Unknown Source) ~[na:na]\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_152]\nat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_152]\nat org.springframework.util.MethodInvoker.invoke(MethodInvoker.java:269) ~[spring-core-4.3.11.RELEASE.jar!/:4.3.11.RELEASE]\nat org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:387) ~[spring-rabbit-1.7.4.RELEASE.jar!/:na]\n... 14 common frames omitted\n</code></pre>\n<p>Analyzing the stack trace, the cause is:</p>\n<pre><code>Caused by: java.lang.OutOfMemoryError: unable to create new native thread\n</code></pre>\n<p>How can I limit the threads quantity used by a spring state machine instance?</p>\n<p>Thanks in advance!</p>\n<h1>Update 1</h1>\n<p>I did what @SpaceTrucker suggests:</p>\n<pre><code>@Bean(name = &quot;stateMachineTaskScheduler&quot;)\npublic ConcurrentTaskScheduler stateMachineTaskScheduler() {\n    ScheduledThreadPoolExecutor threadPool = new ScheduledThreadPoolExecutor(10);\n    ConcurrentTaskScheduler taskScheduler = new ConcurrentTaskScheduler(threadPool);\n    return taskScheduler;\n}\n</code></pre>\n<p>and then</p>\n<p><code>builder.configureConfiguration().withConfiguration().taskScheduler(stateMachineTaskScheduler());</code></p>\n<p>Now state machines are using this pool. The problem is that all state machine instances are using the same instance of this pool instead each state machine instance having it's own taskScheduler instance.</p>\n"},{"tags":["java","intellij-idea","build.gradle","profile"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1683192366,"post_id":76171548,"comment_id":134329912,"body_markdown":"`Compact3` is the biggest of [the compact profiles](https://docs.oracle.com/javase/8/docs/technotes/guides/compactprofiles/compactprofiles.html), but still doesn&#39;t contain everything the &quot;Full SE API&quot; contains. If you want &quot;more than compact3&quot; then just remove any mention of profiles at all. I *think* that compact profiles were a feature that only ever existed **exactly** in Java 8, because in Java 9+ it was replaced with the way more general module system. (Slight correction: the JDK still supports profiles, but *only* when targeting Java 8)","body":"<code>Compact3</code> is the biggest of <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/compactprofiles/compactprofiles.html\" rel=\"nofollow noreferrer\">the compact profiles</a>, but still doesn&#39;t contain everything the &quot;Full SE API&quot; contains. If you want &quot;more than compact3&quot; then just remove any mention of profiles at all. I <i>think</i> that compact profiles were a feature that only ever existed <b>exactly</b> in Java 8, because in Java 9+ it was replaced with the way more general module system. (Slight correction: the JDK still supports profiles, but <i>only</i> when targeting Java 8)"}],"owner":{"account_id":28503186,"reputation":1,"user_id":21814176,"display_name":"CodingNoob"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683191995,"creation_date":1683191995,"question_id":76171548,"body_markdown":"I am trying to perform a gradle build on IntelliJ IDEA but when I try and build it I get an error saying “BufferedImage is not available in profile ‘Compact3’”.\r\n\r\nIs there any way I can change the profile manually so that the build will work? I am very new to Java and am not entirely sure what’s going on, but I thought Compact3 had the most features out of the profiles, so if it’s not available in Compact3, where is it available?\r\n\r\nThanks for any help!\r\n\r\nIt’s taken me long enough to figure out how to get my syntax right, so this seems like an annoyingly minor hurdle to fall down at :(","title":"How do I change from profile Compact 3 in IntelliJ IDEA for Java?","body":"<p>I am trying to perform a gradle build on IntelliJ IDEA but when I try and build it I get an error saying “BufferedImage is not available in profile ‘Compact3’”.</p>\n<p>Is there any way I can change the profile manually so that the build will work? I am very new to Java and am not entirely sure what’s going on, but I thought Compact3 had the most features out of the profiles, so if it’s not available in Compact3, where is it available?</p>\n<p>Thanks for any help!</p>\n<p>It’s taken me long enough to figure out how to get my syntax right, so this seems like an annoyingly minor hurdle to fall down at :(</p>\n"},{"tags":["java","loops","arraylist"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1539134977,"post_id":52731240,"comment_id":92387793,"body_markdown":"What is the code supposed to do? The &quot;problem statement&quot; doesn&#39;t define any behaviour, it only defines what a &quot;binary gap&quot; is. Is the task to find *if* there&#39;s a binary gap? The *quantity* of binary gaps? The *longest* binary gap? The *length* of the longest binary gap? Something else?","body":"What is the code supposed to do? The &quot;problem statement&quot; doesn&#39;t define any behaviour, it only defines what a &quot;binary gap&quot; is. Is the task to find <i>if</i> there&#39;s a binary gap? The <i>quantity</i> of binary gaps? The <i>longest</i> binary gap? The <i>length</i> of the longest binary gap? Something else?"},{"owner":{"account_id":8274479,"reputation":117,"user_id":6221192,"display_name":"AmeeQ"},"score":0,"creation_date":1539136967,"post_id":52731240,"comment_id":92388234,"body_markdown":"@Bohemian I think you didn&#39;t carefully read the statement and run the code.","body":"@Bohemian I think you didn&#39;t carefully read the statement and run the code."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1539185072,"post_id":52731240,"comment_id":92411942,"body_markdown":"The question is unclear. The problem statement says *what* a gap is, but not what to *do* with gaps that are found. The code is irrelevant if you don’t know what it’s supposed to do. And btw there’s probably a 1 line solution.","body":"The question is unclear. The problem statement says <i>what</i> a gap is, but not what to <i>do</i> with gaps that are found. The code is irrelevant if you don’t know what it’s supposed to do. And btw there’s probably a 1 line solution."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1539202638,"post_id":52731240,"comment_id":92420780,"body_markdown":"Where in the problem statement does it say to print anything? In fact, the problem statement doesn’t say to do anything, it only defines *what* a binary gap is, not what to do when you find one.","body":"Where in the problem statement does it say to print anything? In fact, the problem statement doesn’t say to do anything, it only defines <i>what</i> a binary gap is, not what to do when you find one."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1539202733,"post_id":52731240,"comment_id":92420825,"body_markdown":"what should the output be for `529`, which is binary `1000010001`?","body":"what should the output be for <code>529</code>, which is binary <code>1000010001</code>?"},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1539202821,"post_id":52731240,"comment_id":92420865,"body_markdown":"@Bohemian:  I&#39;d imagine that there&#39;s three binary gaps, one of length 2, one of length 4 and one of length 3.  Not sure why you&#39;re asking ***me***, though.  I just made the question more presentable since its original presentation wasn&#39;t all that great.","body":"@Bohemian:  I&#39;d imagine that there&#39;s three binary gaps, one of length 2, one of length 4 and one of length 3.  Not sure why you&#39;re asking <b><i>me</i></b>, though.  I just made the question more presentable since its original presentation wasn&#39;t all that great."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1539202977,"post_id":52731240,"comment_id":92420930,"body_markdown":"@makoto oops - I meant to ask Ameeq","body":"@makoto oops - I meant to ask Ameeq"}],"answers":[{"tags":[],"owner":{"account_id":9599750,"reputation":2970,"user_id":7208029,"display_name":"Chai T. Rex"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1641216165,"creation_date":1539135326,"answer_id":52731414,"question_id":52731240,"body_markdown":"If this is for homework, your problem is here:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n        for (int j = i - 1; j &gt;= 0; j--) {\r\n            if (binaryNum[j] == 0) {\r\n                k = j;\r\n                do {\r\n                    ctr++;\r\n                    k++;\r\n                } while (binaryNum[k] == 0);\r\n                al.add(ctr);\r\n                ctr = 0;\r\n            }\r\n        }\r\n\r\n\r\nNote that:\r\n\r\n* You update `k` as you go along, but you don&#39;t update `j`, so you get 1 through whatever the proper value is (`[1, 2, 3, 4, 5, 1, 2, 3]` instead of `[5, 3]`).\r\n* You don&#39;t need `k` at all.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n        for (int j = i - 1; j &gt;= 0; j--) {\r\n            if (binaryNum[j] == 0) {\r\n                int ctr = 0;\r\n                while (binaryNum[j] == 0) {\r\n                    ctr++;\r\n                    j--;\r\n                }\r\n                al.add(ctr);\r\n            }\r\n        }\r\n\r\nThis is [shown to work here](https://ideone.com/UP2nVz#stdout).\r\n\r\n---\r\n\r\nIf you&#39;re not doing this for homework, and you need performance for a real-world use, use Java&#39;s built-in bitwise methods in [the `Integer` class](https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#method.summary), which use very, very fast CPU instructions on CPUs that have them:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    import java.util.Arrays;\r\n    \r\n    public class Abc {\r\n        public static final int[] gaps(int n) {\r\n    \t    // The number of gaps is the number of one bits minus one.\r\n            final int[] result = new int[Math.max(0, Integer.bitCount(n) - 1)];\r\n            \r\n            // Remove the last one bit and all bits after to get to first gap.\r\n            n &gt;&gt;&gt;= Integer.numberOfTrailingZeros(n) + 1;\r\n            \r\n            for (int i = result.length - 1; i &gt;= 0; i--) {\r\n            \tfinal int gapSize = Integer.numberOfTrailingZeros(n);\r\n                result[i] = gapSize;\r\n                // Remove the last one bit and all bits after to get to next gap.\r\n                n &gt;&gt;&gt;= gapSize + 1;\r\n            }\r\n            \r\n            return result;\r\n        }\r\n        \r\n        // Driver program \r\n        public static void main(final String[] args) {\r\n            final int n = 1041;\r\n            System.out.println(Integer.toBinaryString(n));\r\n            System.out.println(Arrays.toString(gaps(n)));\r\n        }\r\n    }\r\n\r\nThis is [shown to work here](https://ideone.com/6gBB5X#stdout).","title":"Binary Gap Program in Java","body":"<p>If this is for homework, your problem is here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    for (int j = i - 1; j &gt;= 0; j--) {\n        if (binaryNum[j] == 0) {\n            k = j;\n            do {\n                ctr++;\n                k++;\n            } while (binaryNum[k] == 0);\n            al.add(ctr);\n            ctr = 0;\n        }\n    }\n</code></pre>\n<p>Note that:</p>\n<ul>\n<li>You update <code>k</code> as you go along, but you don't update <code>j</code>, so you get 1 through whatever the proper value is (<code>[1, 2, 3, 4, 5, 1, 2, 3]</code> instead of <code>[5, 3]</code>).</li>\n<li>You don't need <code>k</code> at all.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>    for (int j = i - 1; j &gt;= 0; j--) {\n        if (binaryNum[j] == 0) {\n            int ctr = 0;\n            while (binaryNum[j] == 0) {\n                ctr++;\n                j--;\n            }\n            al.add(ctr);\n        }\n    }\n</code></pre>\n<p>This is <a href=\"https://ideone.com/UP2nVz#stdout\" rel=\"nofollow noreferrer\">shown to work here</a>.</p>\n<hr />\n<p>If you're not doing this for homework, and you need performance for a real-world use, use Java's built-in bitwise methods in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#method.summary\" rel=\"nofollow noreferrer\">the <code>Integer</code> class</a>, which use very, very fast CPU instructions on CPUs that have them:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\n\npublic class Abc {\n    public static final int[] gaps(int n) {\n        // The number of gaps is the number of one bits minus one.\n        final int[] result = new int[Math.max(0, Integer.bitCount(n) - 1)];\n        \n        // Remove the last one bit and all bits after to get to first gap.\n        n &gt;&gt;&gt;= Integer.numberOfTrailingZeros(n) + 1;\n        \n        for (int i = result.length - 1; i &gt;= 0; i--) {\n            final int gapSize = Integer.numberOfTrailingZeros(n);\n            result[i] = gapSize;\n            // Remove the last one bit and all bits after to get to next gap.\n            n &gt;&gt;&gt;= gapSize + 1;\n        }\n        \n        return result;\n    }\n    \n    // Driver program \n    public static void main(final String[] args) {\n        final int n = 1041;\n        System.out.println(Integer.toBinaryString(n));\n        System.out.println(Arrays.toString(gaps(n)));\n    }\n}\n</code></pre>\n<p>This is <a href=\"https://ideone.com/6gBB5X#stdout\" rel=\"nofollow noreferrer\">shown to work here</a>.</p>\n"},{"tags":[],"owner":{"account_id":10980857,"reputation":446,"user_id":8067983,"display_name":"John"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1539139395,"creation_date":1539135430,"answer_id":52731426,"question_id":52731240,"body_markdown":" var k should be also decreased, because j decreases, also after iteration has completed you should assign j = k. and you have to check if k is greater or equals to zero `while (k &gt;= 0 &amp;&amp; binaryNum[k] == 0);`, otherwise you get ArrayIndexOutOfBoundsException. also you have to check if k is less than zero to count binary gaps properly `if(k &lt; 0) {j = k;break;}`\r\n\t\r\n\r\n\r\n      for (int j = i - 1; j &gt;= 0; j--) {\r\n            System.out.print(binaryNum[j]);\r\n            if (binaryNum[j] == 0) {\r\n                k = j;\r\n                do {\r\n                    ctr++;\r\n                    k--;\r\n                } while (k &gt;= 0 &amp;&amp; binaryNum[k] == 0);\r\n                if(k &lt; 0) {\r\n                \tj = k;\r\n                \tbreak;\r\n                }\r\n                al.add(ctr);\r\n                ctr = 0;\r\n                j = k;\r\n            }\r\n        }","title":"Binary Gap Program in Java","body":"<p>var k should be also decreased, because j decreases, also after iteration has completed you should assign j = k. and you have to check if k is greater or equals to zero <code>while (k &gt;= 0 &amp;&amp; binaryNum[k] == 0);</code>, otherwise you get ArrayIndexOutOfBoundsException. also you have to check if k is less than zero to count binary gaps properly <code>if(k &lt; 0) {j = k;break;}</code></p>\n\n<pre><code>  for (int j = i - 1; j &gt;= 0; j--) {\n        System.out.print(binaryNum[j]);\n        if (binaryNum[j] == 0) {\n            k = j;\n            do {\n                ctr++;\n                k--;\n            } while (k &gt;= 0 &amp;&amp; binaryNum[k] == 0);\n            if(k &lt; 0) {\n                j = k;\n                break;\n            }\n            al.add(ctr);\n            ctr = 0;\n            j = k;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5731120,"reputation":107,"user_id":4526618,"display_name":"Gilbert Parreno"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1557468308,"creation_date":1557468308,"answer_id":56071623,"question_id":52731240,"body_markdown":"I got perfect 100 with this answer. Hope this will help you.   \r\n\r\n    public int solution(int N) {\r\n            String binary = Integer.toBinaryString(N);\r\n            int count = 0;\r\n            int tmpCount = 0;\r\n            for (int i = 0; i &lt; binary.length(); i++) {\r\n                if (binary.charAt(i) == &#39;0&#39;) {\r\n                    if (i &gt; 0 &amp;&amp; binary.charAt(i - 1) == &#39;1&#39;) {\r\n                        tmpCount++;\r\n                    } else {\r\n                        if (tmpCount &gt; 0) tmpCount++;\r\n                    }\r\n                } else if (binary.charAt(i) == &#39;1&#39;) {\r\n                    if (tmpCount &gt; 0 &amp;&amp; tmpCount &gt; count) {\r\n                        count = tmpCount;\r\n                    }\r\n                    tmpCount = 0;\r\n                }\r\n            }\r\n            return count;\r\n        }","title":"Binary Gap Program in Java","body":"<p>I got perfect 100 with this answer. Hope this will help you.   </p>\n\n<pre><code>public int solution(int N) {\n        String binary = Integer.toBinaryString(N);\n        int count = 0;\n        int tmpCount = 0;\n        for (int i = 0; i &lt; binary.length(); i++) {\n            if (binary.charAt(i) == '0') {\n                if (i &gt; 0 &amp;&amp; binary.charAt(i - 1) == '1') {\n                    tmpCount++;\n                } else {\n                    if (tmpCount &gt; 0) tmpCount++;\n                }\n            } else if (binary.charAt(i) == '1') {\n                if (tmpCount &gt; 0 &amp;&amp; tmpCount &gt; count) {\n                    count = tmpCount;\n                }\n                tmpCount = 0;\n            }\n        }\n        return count;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5751918,"reputation":189,"user_id":4541304,"display_name":"Rathakrishnan Duraimoni"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1566923991,"creation_date":1566923991,"answer_id":57679044,"question_id":52731240,"body_markdown":"\r\n//working 100% with all the test cases\r\n\r\n    public static void main(String ar[]) {\r\n    \t\tInteger val = 10092;\r\n    \t\tString vals = val.toBinaryString(val);\r\n    \t\tint gapVal = findBinaryGap(vals);\r\n    \t\tSystem.out.println(vals);\r\n    \t\tSystem.out.println(&quot;gapVal=&quot; + gapVal);\r\n    \r\n    \t}\r\n    \r\n    public static Integer findBinaryGap(String binVal) {\r\n    \t\tInteger retVal = 0;\r\n    \t\tString splitVal[] = binVal.split(&quot;1&quot;);\r\n    \t\tint endVal = splitVal.length;\r\n    \t\tif (binVal.endsWith(&quot;0&quot;)) {\r\n    \t\t\tendVal = endVal - 1;\r\n    \t\t}\r\n    \t\tfor (int incr = 0; incr &lt; endVal; incr++) {\r\n    \t\t\tif (retVal &lt; splitVal[incr].length()) {\r\n    \t\t\t\tretVal = splitVal[incr].length();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn retVal;\r\n    \t}","title":"Binary Gap Program in Java","body":"<p>//working 100% with all the test cases</p>\n\n<pre><code>public static void main(String ar[]) {\n        Integer val = 10092;\n        String vals = val.toBinaryString(val);\n        int gapVal = findBinaryGap(vals);\n        System.out.println(vals);\n        System.out.println(\"gapVal=\" + gapVal);\n\n    }\n\npublic static Integer findBinaryGap(String binVal) {\n        Integer retVal = 0;\n        String splitVal[] = binVal.split(\"1\");\n        int endVal = splitVal.length;\n        if (binVal.endsWith(\"0\")) {\n            endVal = endVal - 1;\n        }\n        for (int incr = 0; incr &lt; endVal; incr++) {\n            if (retVal &lt; splitVal[incr].length()) {\n                retVal = splitVal[incr].length();\n            }\n        }\n        return retVal;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2801832,"reputation":179,"user_id":2409946,"display_name":"Ramnath"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1567060368,"creation_date":1567057245,"answer_id":57703645,"question_id":52731240,"body_markdown":"Try the below codes,\r\n\r\n```java\r\npublic int solution(int n) {\r\n    String binaryString = Integer.toBinaryString(n);\r\n    int count = 0, bigGap = 0, temptCount = 0;\r\n    for (int i = 0; i &lt; binaryString.length(); i++) {\r\n        char c = binaryString.charAt(i);\r\n        if (c == &#39;0&#39;) {\r\n            temptCount++;\r\n        } else {\r\n            count = temptCount;\r\n\r\n            if (count &gt; bigGap) {\r\n                bigGap = count;\r\n            }\r\n            temptCount = 0;\r\n        }\r\n\r\n    }\r\n    \r\n    return bigGap;\r\n}\r\n```","title":"Binary Gap Program in Java","body":"<p>Try the below codes,</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public int solution(int n) {\n    String binaryString = Integer.toBinaryString(n);\n    int count = 0, bigGap = 0, temptCount = 0;\n    for (int i = 0; i &lt; binaryString.length(); i++) {\n        char c = binaryString.charAt(i);\n        if (c == '0') {\n            temptCount++;\n        } else {\n            count = temptCount;\n\n            if (count &gt; bigGap) {\n                bigGap = count;\n            }\n            temptCount = 0;\n        }\n\n    }\n\n    return bigGap;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15078225,"reputation":39,"user_id":10881634,"display_name":"El Atendedor"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1583826422,"creation_date":1583826422,"answer_id":60613349,"question_id":52731240,"body_markdown":"Try this one, I got 100%\r\n\r\n    public int solution(int N) {\r\n        String binaryNumber = Integer.toBinaryString(N);\r\n\r\n        String[] gaps = binaryNumber.replaceAll(&quot;0+$&quot;, &quot;&quot;).split(&quot;1&quot;);\r\n\r\n\r\n        int maxLength = 0;\r\n        for (String gap: gaps) {\r\n            if (gap.length() &gt; 0 &amp;&amp; gap.length() &gt; maxLength) {\r\n                maxLength = gap.length();\r\n            }\r\n        }\r\n        return maxLength;\r\n    }","title":"Binary Gap Program in Java","body":"<p>Try this one, I got 100%</p>\n\n<pre><code>public int solution(int N) {\n    String binaryNumber = Integer.toBinaryString(N);\n\n    String[] gaps = binaryNumber.replaceAll(\"0+$\", \"\").split(\"1\");\n\n\n    int maxLength = 0;\n    for (String gap: gaps) {\n        if (gap.length() &gt; 0 &amp;&amp; gap.length() &gt; maxLength) {\n            maxLength = gap.length();\n        }\n    }\n    return maxLength;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8382762,"reputation":210,"user_id":6294106,"display_name":"lombocska"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1592222195,"creation_date":1592222195,"answer_id":62387701,"question_id":52731240,"body_markdown":"on codility, my solution for BinaryGap &quot;problem&quot; was\r\n\r\n```\r\npublic int solution(int N) {\r\n        //get binary representation\r\n\t\tString binaryRep = Integer.toBinaryString(N);\r\n        //cut last zeros since they aren&#39;t between &quot;1&quot;\r\n\t\tif (!binaryRep.endsWith(&quot;1&quot;)) {\r\n\t\t\tfinal int i = binaryRep.lastIndexOf(&quot;1&quot;);\r\n\t\t\tbinaryRep = binaryRep.substring(0, i);\r\n\t\t}\r\n\r\n        //count the longest zero string\r\n\t\tString[] binaryBlocks = binaryRep.split(&quot;1&quot;);\r\n\t\tint result = 0;\r\n\t\tfor (String binaryBlock : binaryBlocks) {\r\n\t\t\tint binaryBlockLength = binaryBlock.length();\r\n\t\t\tif (binaryBlockLength &gt; result) {\r\n\t\t\t\tresult = binaryBlockLength;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n    }\r\n```\r\n\r\nHope it helps! :) \r\n","title":"Binary Gap Program in Java","body":"<p>on codility, my solution for BinaryGap \"problem\" was</p>\n\n<pre><code>public int solution(int N) {\n        //get binary representation\n        String binaryRep = Integer.toBinaryString(N);\n        //cut last zeros since they aren't between \"1\"\n        if (!binaryRep.endsWith(\"1\")) {\n            final int i = binaryRep.lastIndexOf(\"1\");\n            binaryRep = binaryRep.substring(0, i);\n        }\n\n        //count the longest zero string\n        String[] binaryBlocks = binaryRep.split(\"1\");\n        int result = 0;\n        for (String binaryBlock : binaryBlocks) {\n            int binaryBlockLength = binaryBlock.length();\n            if (binaryBlockLength &gt; result) {\n                result = binaryBlockLength;\n            }\n        }\n        return result;\n    }\n</code></pre>\n\n<p>Hope it helps! :) </p>\n"},{"tags":[],"owner":{"account_id":16577270,"reputation":413,"user_id":11978765,"display_name":"Marcos Mitozo"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1594512728,"creation_date":1594512728,"answer_id":62855854,"question_id":52731240,"body_markdown":"The solution below gave me 100%:\r\n    \r\n    class Solution {\r\n            public int solution(int N) {\r\n                String value = Integer.toBinaryString(N);\r\n                int counter = 0;\r\n                List&lt;Integer&gt; counters = new ArrayList&lt;&gt;();\r\n                for (int i = 0; i &lt; value.length(); i++) {\r\n                    char current = value.charAt(i);\r\n                    if (current == &#39;0&#39;) {\r\n                        counter += 1;\r\n                    } else {\r\n                        counters.add(counter);\r\n                        counter = 0;\r\n                    }\r\n                }\r\n                return Collections.max(counters);\r\n            }\r\n        }","title":"Binary Gap Program in Java","body":"<p>The solution below gave me 100%:</p>\n<pre><code>class Solution {\n        public int solution(int N) {\n            String value = Integer.toBinaryString(N);\n            int counter = 0;\n            List&lt;Integer&gt; counters = new ArrayList&lt;&gt;();\n            for (int i = 0; i &lt; value.length(); i++) {\n                char current = value.charAt(i);\n                if (current == '0') {\n                    counter += 1;\n                } else {\n                    counters.add(counter);\n                    counter = 0;\n                }\n            }\n            return Collections.max(counters);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2176810,"reputation":1464,"user_id":1927303,"display_name":"Arundev"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1595074982,"creation_date":1595071935,"answer_id":62968038,"question_id":52731240,"body_markdown":"     \r\n    public int solution(int N){\r\n        try {\r\n            return Collections.max(Arrays.asList(Integer.toBinaryString(N)\r\n                    .replaceAll(&quot;0+$&quot;, &quot;&quot;).split(&quot;1&quot;))\r\n                    .stream().mapToInt(String::length).boxed()\r\n                    .collect(Collectors.toList()));\r\n        }catch (NoSuchElementException e){\r\n            return 0;\r\n        }\r\n    }\r\n  -------------------\r\n    &quot;0+$&quot; - replacing all trailing zeros","title":"Binary Gap Program in Java","body":"<pre><code>public int solution(int N){\n    try {\n        return Collections.max(Arrays.asList(Integer.toBinaryString(N)\n                .replaceAll(&quot;0+$&quot;, &quot;&quot;).split(&quot;1&quot;))\n                .stream().mapToInt(String::length).boxed()\n                .collect(Collectors.toList()));\n    }catch (NoSuchElementException e){\n        return 0;\n    }\n}\n</code></pre>\n<hr />\n<pre><code>&quot;0+$&quot; - replacing all trailing zeros\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14402419,"reputation":37,"user_id":10403609,"display_name":"Abdelrahman Ibrahim"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1598913805,"creation_date":1598913805,"answer_id":63679102,"question_id":52731240,"body_markdown":"This solution gave me 100% score, I used indexOf to get the first index of 1, then get the first second index of 1 and calculate the difference between them, this gives me a substring of 0s, save the length of that substring and then calculate the second substring of 0s as we did before and so, at every time you calculate the substring make sure to pick the longest one.\r\n\r\n    class Solution {\r\n        public int solution(int N) {\r\n            String bin = intToBinary(N);\r\n            int firstOne = bin.indexOf(&#39;1&#39;);\r\n            int cnt = 0;\r\n            \r\n            for(int i=firstOne; i&lt;bin.length(); ++i){\r\n                int sec = bin.indexOf(&#39;1&#39;, i);\r\n                cnt = Math.max(sec-firstOne-1, cnt);\r\n                firstOne = sec;\r\n            }\r\n            return cnt;\r\n            \r\n        }\r\n        \r\n        private static String intToBinary(int N){\r\n            String s = &quot;&quot;;\r\n            while(N&gt;0){\r\n                s = ( (N%2) == 0 ? &quot;0&quot; : &quot;1&quot;) + s;\r\n                N = N / 2;\r\n            }\r\n            return s;\r\n        }\r\n    }","title":"Binary Gap Program in Java","body":"<p>This solution gave me 100% score, I used indexOf to get the first index of 1, then get the first second index of 1 and calculate the difference between them, this gives me a substring of 0s, save the length of that substring and then calculate the second substring of 0s as we did before and so, at every time you calculate the substring make sure to pick the longest one.</p>\n<pre><code>class Solution {\n    public int solution(int N) {\n        String bin = intToBinary(N);\n        int firstOne = bin.indexOf('1');\n        int cnt = 0;\n        \n        for(int i=firstOne; i&lt;bin.length(); ++i){\n            int sec = bin.indexOf('1', i);\n            cnt = Math.max(sec-firstOne-1, cnt);\n            firstOne = sec;\n        }\n        return cnt;\n        \n    }\n    \n    private static String intToBinary(int N){\n        String s = &quot;&quot;;\n        while(N&gt;0){\n            s = ( (N%2) == 0 ? &quot;0&quot; : &quot;1&quot;) + s;\n            N = N / 2;\n        }\n        return s;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19682149,"reputation":1,"user_id":14409021,"display_name":"Stanislav Marek"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1602113527,"creation_date":1602091202,"answer_id":64249157,"question_id":52731240,"body_markdown":"This one was easiest to understand IMO\r\n\r\n```\r\nclass Solution {\r\n    public int solution(int N) {\r\n        int gapSize = 0;\r\n        int tempCount = 0;\r\n        String s = Integer.toBinaryString(N);\r\n\r\n/* You can start the loop from index 1, since all binary numbers\r\nexcept 0 start with 1 and 0 is covered by initializing the variables (saves 2 conditions) */\r\n        for(int i = 1; i &lt; s.length(); i++) {\r\n            if(s.charAt(i) == &#39;0&#39;) {\r\n                tempCount++; // count the number of 0\r\n            } else if(s.charAt(i) == &#39;1&#39;) {  // when 1 is found\r\n                if(tempCount &gt; gapSize) {    // and gap is smaller than the now measured one\r\n                    gapSize = tempCount;     // record the so far biggest gap\r\n                }\r\n                tempCount = 0;               // reset the counter when 1 is found\r\n            }\r\n        }\r\n        return gapSize;\r\n     }\r\n} \r\n```","title":"Binary Gap Program in Java","body":"<p>This one was easiest to understand IMO</p>\n<pre><code>class Solution {\n    public int solution(int N) {\n        int gapSize = 0;\n        int tempCount = 0;\n        String s = Integer.toBinaryString(N);\n\n/* You can start the loop from index 1, since all binary numbers\nexcept 0 start with 1 and 0 is covered by initializing the variables (saves 2 conditions) */\n        for(int i = 1; i &lt; s.length(); i++) {\n            if(s.charAt(i) == '0') {\n                tempCount++; // count the number of 0\n            } else if(s.charAt(i) == '1') {  // when 1 is found\n                if(tempCount &gt; gapSize) {    // and gap is smaller than the now measured one\n                    gapSize = tempCount;     // record the so far biggest gap\n                }\n                tempCount = 0;               // reset the counter when 1 is found\n            }\n        }\n        return gapSize;\n     }\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":6707946,"reputation":595,"user_id":5172204,"display_name":"Shoaib Mushtaq"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1611944500,"creation_date":1611944022,"answer_id":65959705,"question_id":52731240,"body_markdown":"By the way , this is respective solution in KOTLIN, If anyone is interested.\r\n&gt;I first converted the Number to Binary String and then convert binary String to a char Array , Then I loop through forEachIndexed\r\n&gt; loop and try to find the indices of 1 and save them in an\r\n&gt; oneIndicesArrayList and also check the newGap , if the newGap is\r\n&gt; greater than maxGap , I assign the newGap value to maxGap otherwise\r\n&gt; maxGap would keep the old value. This works perfect and score was\r\n&gt; 100%.\r\n\r\n    fun solution(N: Int): Int {\r\n            // write your code in Kotlin\r\n            val binaryStr = toBinary(N)\r\n            val charArray = binaryStr.toCharArray()\r\n    \r\n    \r\n        var maxGap = 0\r\n        var oneIndicesArray = arrayListOf&lt;Int&gt;() \r\n        charArray.forEachIndexed { index, element -&gt;\r\n            \r\n            if(element == &#39;1&#39;) {\r\n                if(oneIndicesArray.isNotEmpty()) {\r\n                   val newGap =  (index - oneIndicesArray[oneIndicesArray.size - 1]) - 1\r\n                    if(newGap &gt; maxGap) maxGap = newGap\r\n                }\r\n                oneIndicesArray.add(index)\r\n            }\r\n        }\r\n        return maxGap\r\n    }\r\n    \r\n    fun toBinary(decimalNumber: Int, binaryString: String = &quot;&quot;) : String {\r\n        while (decimalNumber &gt; 0) {\r\n            val temp = &quot;${binaryString}${decimalNumber%2}&quot;\r\n            return toBinary(decimalNumber/2, temp)\r\n        }\r\n        return binaryString.reversed()\r\n    }\r\n\r\n","title":"Binary Gap Program in Java","body":"<p>By the way , this is respective solution in KOTLIN, If anyone is interested.</p>\n<blockquote>\n<p>I first converted the Number to Binary String and then convert binary String to a char Array , Then I loop through forEachIndexed\nloop and try to find the indices of 1 and save them in an\noneIndicesArrayList and also check the newGap , if the newGap is\ngreater than maxGap , I assign the newGap value to maxGap otherwise\nmaxGap would keep the old value. This works perfect and score was\n100%.</p>\n</blockquote>\n<pre><code>fun solution(N: Int): Int {\n        // write your code in Kotlin\n        val binaryStr = toBinary(N)\n        val charArray = binaryStr.toCharArray()\n\n\n    var maxGap = 0\n    var oneIndicesArray = arrayListOf&lt;Int&gt;() \n    charArray.forEachIndexed { index, element -&gt;\n        \n        if(element == '1') {\n            if(oneIndicesArray.isNotEmpty()) {\n               val newGap =  (index - oneIndicesArray[oneIndicesArray.size - 1]) - 1\n                if(newGap &gt; maxGap) maxGap = newGap\n            }\n            oneIndicesArray.add(index)\n        }\n    }\n    return maxGap\n}\n\nfun toBinary(decimalNumber: Int, binaryString: String = &quot;&quot;) : String {\n    while (decimalNumber &gt; 0) {\n        val temp = &quot;${binaryString}${decimalNumber%2}&quot;\n        return toBinary(decimalNumber/2, temp)\n    }\n    return binaryString.reversed()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4579991,"reputation":532,"user_id":3717301,"display_name":"Owais"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1621146693,"creation_date":1621146693,"answer_id":67553735,"question_id":52731240,"body_markdown":"**I got 100% score on this one**\r\n\r\n    fun solution(N: Int): Int {\r\n    // write your code in Kotlin\r\n    var maxNumber= 0\r\n    val binary= Integer.toBinaryString(N)\r\n    val split= binary.split(&quot;1&quot;)\r\n    val loop= if(binary.endsWith(&quot;1&quot;)) split.size else split.size-1\r\n    for (s in 0 until loop){\r\n        maxNumber=Integer.max(maxNumber, split[s].length)\r\n    }\r\n    return maxNumber\r\n}","title":"Binary Gap Program in Java","body":"<p><strong>I got 100% score on this one</strong></p>\n<pre><code>fun solution(N: Int): Int {\n// write your code in Kotlin\nvar maxNumber= 0\nval binary= Integer.toBinaryString(N)\nval split= binary.split(&quot;1&quot;)\nval loop= if(binary.endsWith(&quot;1&quot;)) split.size else split.size-1\nfor (s in 0 until loop){\n    maxNumber=Integer.max(maxNumber, split[s].length)\n}\nreturn maxNumber\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":2422738,"reputation":97,"user_id":2115371,"display_name":"Yitbareck"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1631884728,"creation_date":1631884728,"answer_id":69224135,"question_id":52731240,"body_markdown":"    public static int solution(int N) {\r\n        // write your code in Java SE 8\r\n        int result = 0;\r\n        int prev = 0;\r\n        int diff;\r\n        int length = (int)(Math.ceil(Math.log(N) / Math.log(2)));\r\n        int[] binary=new int[length];\r\n        for(int i = length-1;i &gt; -1;i--,N /= 2) binary[i] = N % 2;\r\n        for(int i = 0;i &lt; length;i++){\r\n            if(binary[i] == 1){\r\n                diff = i - prev;\r\n                result = diff &gt; 1 &amp;&amp; diff &gt; result ? diff - 1 : result;\r\n                prev = i;\r\n            }\r\n        }\r\n        return result;\r\n    }","title":"Binary Gap Program in Java","body":"<pre><code>public static int solution(int N) {\n    // write your code in Java SE 8\n    int result = 0;\n    int prev = 0;\n    int diff;\n    int length = (int)(Math.ceil(Math.log(N) / Math.log(2)));\n    int[] binary=new int[length];\n    for(int i = length-1;i &gt; -1;i--,N /= 2) binary[i] = N % 2;\n    for(int i = 0;i &lt; length;i++){\n        if(binary[i] == 1){\n            diff = i - prev;\n            result = diff &gt; 1 &amp;&amp; diff &gt; result ? diff - 1 : result;\n            prev = i;\n        }\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":310878,"reputation":124,"user_id":4767104,"display_name":"Kathees"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1631993995,"creation_date":1631993995,"answer_id":69237902,"question_id":52731240,"body_markdown":"    public int solution(int N) {\r\n     String binaryNo = Integer.toBinaryString(N);\r\n     int firstIndex = binaryNo.lastIndexOf(&quot;1&quot;);\r\n     int currentGap = 0;\r\n     int biggestGap = 0;\r\n     for (int i = firstIndex; i &gt;= 0; i--) {\r\n      if (getNthDegit(binaryNo, i) == 0) {\r\n       currentGap++;\r\n      } else {\r\n       if (biggestGap &lt; currentGap) {\r\n        biggestGap = currentGap;\r\n       }\r\n       currentGap = 0;\r\n      }\r\n     }\r\n     return biggestGap;\r\n    }\r\n    \r\n    public static int getNthDegit(String number, int position) {\r\n     String numberString = &quot;&quot; + number;\r\n     char c = numberString.charAt(position);\r\n     return Character.getNumericValue(c);\r\n    }","title":"Binary Gap Program in Java","body":"<pre><code>public int solution(int N) {\n String binaryNo = Integer.toBinaryString(N);\n int firstIndex = binaryNo.lastIndexOf(&quot;1&quot;);\n int currentGap = 0;\n int biggestGap = 0;\n for (int i = firstIndex; i &gt;= 0; i--) {\n  if (getNthDegit(binaryNo, i) == 0) {\n   currentGap++;\n  } else {\n   if (biggestGap &lt; currentGap) {\n    biggestGap = currentGap;\n   }\n   currentGap = 0;\n  }\n }\n return biggestGap;\n}\n\npublic static int getNthDegit(String number, int position) {\n String numberString = &quot;&quot; + number;\n char c = numberString.charAt(position);\n return Character.getNumericValue(c);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1484651,"reputation":7,"user_id":1393158,"display_name":"ranaFire"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1635027092,"creation_date":1634984213,"answer_id":69687164,"question_id":52731240,"body_markdown":"Python style solution and it  got 100% score:\r\n\r\n    public static int solution(int N) {      \r\n        List&lt;String&gt;result = Arrays.asList(Integer.toBinaryString(N).replace(&quot;0&quot;,&quot; &quot;).strip().split(&quot;1&quot;)); \r\n        if(!result.isEmpty()){\r\n        \t return Collections.max(result.stream().map(String::length).collect(Collectors.toList()));\r\n        }     \t \r\n         return 0;   \r\n    }\r\n    ","title":"Binary Gap Program in Java","body":"<p>Python style solution and it  got 100% score:</p>\n<pre><code>public static int solution(int N) {      \n    List&lt;String&gt;result = Arrays.asList(Integer.toBinaryString(N).replace(&quot;0&quot;,&quot; &quot;).strip().split(&quot;1&quot;)); \n    if(!result.isEmpty()){\n         return Collections.max(result.stream().map(String::length).collect(Collectors.toList()));\n    }        \n     return 0;   \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2366172,"reputation":99,"user_id":2071814,"display_name":"Suman Mitra"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1639847998,"creation_date":1639847998,"answer_id":70405499,"question_id":52731240,"body_markdown":"All tests passed in Codility.\r\n\r\n    public class BinaryGap {\r\n\r\n      public static void main(String ar[]) {\r\n       Integer val = 328;\r\n\r\n       int gapVal = findBinaryGap(val);\r\n       System.out.println(&quot;gapVal=&quot; + gapVal);\r\n\r\n     }\r\n\r\n     public static Integer findBinaryGap(Integer binVal) {\r\n\r\n      String values = Integer.toBinaryString(binVal);\r\n      String[] splitVal = values.substring(0, values.lastIndexOf(&quot;1&quot;)).split(&quot;1&quot;);\r\n\r\n      if (Arrays.stream(splitVal).noneMatch(v -&gt; v.length() &gt; 0)) {\r\n        return 0;\r\n      }\r\n\r\n       return java.util.Arrays.stream(splitVal).mapToInt(String::length)\r\n                           .max().orElse(0);\r\n     }\r\n\r\n    }\r\n","title":"Binary Gap Program in Java","body":"<p>All tests passed in Codility.</p>\n<pre><code>public class BinaryGap {\n\n  public static void main(String ar[]) {\n   Integer val = 328;\n\n   int gapVal = findBinaryGap(val);\n   System.out.println(&quot;gapVal=&quot; + gapVal);\n\n }\n\n public static Integer findBinaryGap(Integer binVal) {\n\n  String values = Integer.toBinaryString(binVal);\n  String[] splitVal = values.substring(0, values.lastIndexOf(&quot;1&quot;)).split(&quot;1&quot;);\n\n  if (Arrays.stream(splitVal).noneMatch(v -&gt; v.length() &gt; 0)) {\n    return 0;\n  }\n\n   return java.util.Arrays.stream(splitVal).mapToInt(String::length)\n                       .max().orElse(0);\n }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3254726,"reputation":39,"user_id":2744154,"display_name":"John Kelly"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1641165388,"creation_date":1641165388,"answer_id":70560459,"question_id":52731240,"body_markdown":"My solution 100% \r\n\r\n    public class Solution {\r\n    public int solution( int N ){\r\n\r\n        String rep = &quot;&quot;;\r\n        String[] zoros = null;\r\n        int maxi = 0;\r\n\r\n        try{\r\n            if( N &lt; 5 ){ return maxi; } // 5 is the first positive integer that contains a bi-gap\r\n\r\n            rep = Integer.toBinaryString(N);\r\n            zoros = rep.split(&quot;1&quot;);\r\n\r\n            // deal with edges\r\n            if(!rep.startsWith(&quot;1&quot;)){ zoros[0] = &quot;&quot;; }\r\n            if(!rep.endsWith(&quot;1&quot;)){ zoros[zoros.length - 1] = &quot;&quot;;}\r\n            \r\n            //now looper\r\n            for( int i = 0; i &lt; zoros.length ;i++ ){\r\n                if(zoros[i].length() &gt; maxi){\r\n                    maxi = zoros[i].length();\r\n                }\r\n            }\r\n        } \r\n        catch( Exception e ){ \r\n            System.console().writer().println(e.getMessage()); \r\n        }\r\n        System.console().writer().println(&quot;Neo-Maxi Zoomdweebie: &quot; + Integer.toString(maxi));\r\n        return maxi;\r\n    }\r\n    }","title":"Binary Gap Program in Java","body":"<p>My solution 100%</p>\n<pre><code>public class Solution {\npublic int solution( int N ){\n\n    String rep = &quot;&quot;;\n    String[] zoros = null;\n    int maxi = 0;\n\n    try{\n        if( N &lt; 5 ){ return maxi; } // 5 is the first positive integer that contains a bi-gap\n\n        rep = Integer.toBinaryString(N);\n        zoros = rep.split(&quot;1&quot;);\n\n        // deal with edges\n        if(!rep.startsWith(&quot;1&quot;)){ zoros[0] = &quot;&quot;; }\n        if(!rep.endsWith(&quot;1&quot;)){ zoros[zoros.length - 1] = &quot;&quot;;}\n        \n        //now looper\n        for( int i = 0; i &lt; zoros.length ;i++ ){\n            if(zoros[i].length() &gt; maxi){\n                maxi = zoros[i].length();\n            }\n        }\n    } \n    catch( Exception e ){ \n        System.console().writer().println(e.getMessage()); \n    }\n    System.console().writer().println(&quot;Neo-Maxi Zoomdweebie: &quot; + Integer.toString(maxi));\n    return maxi;\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2072373,"reputation":724,"user_id":1846528,"display_name":"M-sAnNan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1644243652,"creation_date":1644243652,"answer_id":71020099,"question_id":52731240,"body_markdown":"another solution that I did and it works totally fine\r\n\r\n    public int solution(int N) {\r\n            String value = Integer.toBinaryString(N);\r\n            String[] a = value.split(&quot;1&quot;);\r\n            if (value.endsWith(&quot;0&quot;)) {\r\n                a = Arrays.copyOf(a, a.length-1);\r\n            }\r\n            OptionalInt finalResult = Arrays.stream(a).filter(h -&gt; h.length() &gt; 0).mapToInt(String::length).max();\r\n    \r\n            return finalResult.isPresent() ? finalResult.getAsInt() :  0;\r\n        }","title":"Binary Gap Program in Java","body":"<p>another solution that I did and it works totally fine</p>\n<pre><code>public int solution(int N) {\n        String value = Integer.toBinaryString(N);\n        String[] a = value.split(&quot;1&quot;);\n        if (value.endsWith(&quot;0&quot;)) {\n            a = Arrays.copyOf(a, a.length-1);\n        }\n        OptionalInt finalResult = Arrays.stream(a).filter(h -&gt; h.length() &gt; 0).mapToInt(String::length).max();\n\n        return finalResult.isPresent() ? finalResult.getAsInt() :  0;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23857656,"reputation":477,"user_id":17860991,"display_name":"Musaib Mushtaq"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1644726718,"creation_date":1644672559,"answer_id":71092283,"question_id":52731240,"body_markdown":"\r\nThe following code gives the 100% solution for the same problem in **javascript**. Also I have added console logs which show the flow and results before returning.\r\nThis problem is to return the maximum binary gap of 0&#39;s from a binary number which we obtain from decimal numbers. \r\nFlow:\r\n* function that converts given decimal into binary equivalent number and store each value of binary into an array. then return the same array.\r\n* function to evaluate the number of gaps of 0&#39;s in the returned array.\r\n* check the maximum gap, if available then return the max number. Else return 0; \r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    // you can write to stdout for debugging purposes, e.g.\r\n    // console.log(&#39;this is a debug message&#39;);\r\n\r\n    function solution(N) {\r\n        // write your code in JavaScript (Node.js 8.9.4)\r\n        const aBi = returnBinary(N);\r\n        var gaps = [];\r\n        var flag = false;\r\n        var counter = null;\r\n        for(var digit in aBi){\r\n            \r\n            let nexdigit= parseInt(digit) + 1; \r\n            if(aBi[digit]===1 &amp;&amp; aBi[nexdigit] === 0 ){\r\n                flag = true;counter=0;\r\n            }\r\n            if(flag === true){\r\n                counter +=1;\r\n              }\r\n            if(aBi[digit]===0 &amp;&amp; aBi[nexdigit] === 1 ){\r\n                counter-=1;\r\n                gaps.push(counter);\r\n                  counter = null;\r\n            }\r\n        }\r\n        let max;\r\n        if(gaps[0]!== undefined){\r\n         max = gaps[0];\r\n        }\r\n        else {\r\n        console.log(0);\r\n             return 0;\r\n             }\r\n    for(var i = 1; i &lt; gaps.length;i++){\r\n     if(max &lt; gaps[i] ){ max = gaps[i] }\r\n    }\r\n    console.log(max);\r\n    return max;\r\n    }\r\n\r\n    function returnBinary(nDeccimal){\r\n var aBinary = [];\r\n    if(nDeccimal &gt; 0){\r\n    // this will return a binary sequence of numbers of given number and will return as a string.\r\n    while(nDeccimal &gt;= 1){\r\n    let remainder = nDeccimal % 2;\r\n    aBinary.unshift(remainder);\r\n    nDeccimal = parseInt(nDeccimal / 2);\r\n    }\r\n    }\r\n    console.log(aBinary.join(&quot;&quot;));\r\n    return aBinary;\r\n    }\r\n    console.log(&quot;#####Test One ######&quot;);\r\n    solution(24);\r\n    console.log(&quot;######Test Two #####&quot;);\r\n    solution(98);\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Binary Gap Program in Java","body":"<p>The following code gives the 100% solution for the same problem in <strong>javascript</strong>. Also I have added console logs which show the flow and results before returning.\nThis problem is to return the maximum binary gap of 0's from a binary number which we obtain from decimal numbers.\nFlow:</p>\n<ul>\n<li>function that converts given decimal into binary equivalent number and store each value of binary into an array. then return the same array.</li>\n<li>function to evaluate the number of gaps of 0's in the returned array.</li>\n<li>check the maximum gap, if available then return the max number. Else return 0;\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// you can write to stdout for debugging purposes, e.g.\n// console.log('this is a debug message');\n\nfunction solution(N) {\n    // write your code in JavaScript (Node.js 8.9.4)\n    const aBi = returnBinary(N);\n    var gaps = [];\n    var flag = false;\n    var counter = null;\n    for(var digit in aBi){\n        \n        let nexdigit= parseInt(digit) + 1; \n        if(aBi[digit]===1 &amp;&amp; aBi[nexdigit] === 0 ){\n            flag = true;counter=0;\n        }\n        if(flag === true){\n            counter +=1;\n          }\n        if(aBi[digit]===0 &amp;&amp; aBi[nexdigit] === 1 ){\n            counter-=1;\n            gaps.push(counter);\n              counter = null;\n        }\n    }\n    let max;\n    if(gaps[0]!== undefined){\n     max = gaps[0];\n    }\n    else {\n    console.log(0);\n         return 0;\n         }\nfor(var i = 1; i &lt; gaps.length;i++){\n if(max &lt; gaps[i] ){ max = gaps[i] }\n}\nconsole.log(max);\nreturn max;\n}\n\nfunction returnBinary(nDeccimal){\n var aBinary = [];\nif(nDeccimal &gt; 0){\n// this will return a binary sequence of numbers of given number and will return as a string.\nwhile(nDeccimal &gt;= 1){\nlet remainder = nDeccimal % 2;\naBinary.unshift(remainder);\nnDeccimal = parseInt(nDeccimal / 2);\n}\n}\nconsole.log(aBinary.join(\"\"));\nreturn aBinary;\n}\nconsole.log(\"#####Test One ######\");\nsolution(24);\nconsole.log(\"######Test Two #####\");\nsolution(98);</code></pre>\r\n</div>\r\n</div>\r\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2345376,"reputation":3008,"user_id":2055782,"accept_rate":58,"display_name":"Mohsin AR"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1650480974,"creation_date":1650480974,"answer_id":71944872,"question_id":52731240,"body_markdown":"Binary Gap in java when you enter `529` binary is `1000010001` and large gap is`4` and for `32` number binary is `100000` no binary gap (`0`)\r\n\r\n    public class BinaryGap {    \r\n        public static void main(String[] args) {\r\n            Scanner scanner = new Scanner(System.in);\r\n            System.out.println(&quot;please enter number&quot;);\r\n            int positiveInt = scanner.nextInt();\r\n            char c[] = Integer.toBinaryString(positiveInt).toCharArray();\r\n            System.out.println(c);\r\n            int count=0;\r\n            int temp = 0;\r\n            for (int i = 0; i &lt; c.length; i++) {\r\n                if(c[i] == &#39;0&#39;) {\r\n                    count++;\r\n                } else if(count &gt; 0 &amp;&amp; count &gt; temp) {\r\n                    temp = count;\r\n                    count =0;\r\n                }\r\n            }\r\n            System.out.println(temp);\r\n        }\r\n       }","title":"Binary Gap Program in Java","body":"<p>Binary Gap in java when you enter <code>529</code> binary is <code>1000010001</code> and large gap is<code>4</code> and for <code>32</code> number binary is <code>100000</code> no binary gap (<code>0</code>)</p>\n<pre><code>public class BinaryGap {    \n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        System.out.println(&quot;please enter number&quot;);\n        int positiveInt = scanner.nextInt();\n        char c[] = Integer.toBinaryString(positiveInt).toCharArray();\n        System.out.println(c);\n        int count=0;\n        int temp = 0;\n        for (int i = 0; i &lt; c.length; i++) {\n            if(c[i] == '0') {\n                count++;\n            } else if(count &gt; 0 &amp;&amp; count &gt; temp) {\n                temp = count;\n                count =0;\n            }\n        }\n        System.out.println(temp);\n    }\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7066006,"reputation":1,"user_id":5409305,"display_name":"Amit Dhawan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1657919012,"creation_date":1657919012,"answer_id":72999576,"question_id":52731240,"body_markdown":"This solution gave me 100% pass\r\n\r\n````\r\n public int solution(int N) {\r\n        if (N == 0) {\r\n            return N;\r\n        }\r\n\r\n        String binaryStr = Integer.toBinaryString(N);\r\n        int length = binaryStr.length();\r\n        int result = 0;\r\n        ArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; length; i++) {\r\n            char c = binaryStr.charAt(i);\r\n            if (binaryStr.charAt(i) == &#39;1&#39;) {\r\n                list.add(i + 1);\r\n\r\n            }\r\n        }\r\n\r\n        for (int i = list.size() - 1; i &gt; 0; i--) {\r\n            result = Math.max(result, (list.get(i) - list.get(i - 1) - 1));\r\n        }\r\n        return result;\r\n    }\r\n\r\n````\r\n","title":"Binary Gap Program in Java","body":"<p>This solution gave me 100% pass</p>\n<pre><code> public int solution(int N) {\n        if (N == 0) {\n            return N;\n        }\n\n        String binaryStr = Integer.toBinaryString(N);\n        int length = binaryStr.length();\n        int result = 0;\n        ArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; length; i++) {\n            char c = binaryStr.charAt(i);\n            if (binaryStr.charAt(i) == '1') {\n                list.add(i + 1);\n\n            }\n        }\n\n        for (int i = list.size() - 1; i &gt; 0; i--) {\n            result = Math.max(result, (list.get(i) - list.get(i - 1) - 1));\n        }\n        return result;\n    }\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16542733,"reputation":1,"user_id":11953083,"display_name":"EricDCS"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1665622666,"creation_date":1665622666,"answer_id":74049407,"question_id":52731240,"body_markdown":"The best solution for me is (and got 100% on Codility)\r\n\r\n   \r\n\r\n    import java.util.*; //that can be changed to the specific import you need\r\n    \r\n    class Solution {\r\n        public int solution(int N) {\r\n            String binary = Integer.toBinaryString(N);\r\n            String[] splitted = binary.substring(0, binary.lastIndexOf(&quot;1&quot;)).split(&quot;1&quot;);\r\n            return Arrays.stream(splitted).mapToInt(String::length).max().orElse(0);\r\n        }\r\n    }","title":"Binary Gap Program in Java","body":"<p>The best solution for me is (and got 100% on Codility)</p>\n<pre><code>import java.util.*; //that can be changed to the specific import you need\n\nclass Solution {\n    public int solution(int N) {\n        String binary = Integer.toBinaryString(N);\n        String[] splitted = binary.substring(0, binary.lastIndexOf(&quot;1&quot;)).split(&quot;1&quot;);\n        return Arrays.stream(splitted).mapToInt(String::length).max().orElse(0);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12282704,"reputation":739,"user_id":8963654,"display_name":"Mohammad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676895654,"creation_date":1676895654,"answer_id":75509212,"question_id":52731240,"body_markdown":"    public static int solution(int N) {\r\n\t\tString x= Integer.toBinaryString(N);\r\n\t\tint max =0, count=0;\r\n\t\tfor(int i=0;i&lt;x.length();i++) {\r\n\t\t\tif(x.charAt(i)==&#39;0&#39;){\r\n\t\t\t\tcount+=1;\r\n\t\t\t}else {\r\n\t\t\t\tif(x.charAt(x.length()-1)==0 &amp;&amp; x.length()-1==i)\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\tif(max&lt;count  ) {\r\n\t\t\t\t\tmax=count;\r\n\t\t\t\t}\r\n\t\t\t\tcount=0;\r\n\t\t\t}\r\n\t\t}\r\n        return max;\r\n    }","title":"Binary Gap Program in Java","body":"<pre><code>public static int solution(int N) {\n    String x= Integer.toBinaryString(N);\n    int max =0, count=0;\n    for(int i=0;i&lt;x.length();i++) {\n        if(x.charAt(i)=='0'){\n            count+=1;\n        }else {\n            if(x.charAt(x.length()-1)==0 &amp;&amp; x.length()-1==i)\n                continue;\n            if(max&lt;count  ) {\n                max=count;\n            }\n            count=0;\n        }\n    }\n    return max;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4990101,"reputation":475,"user_id":4012589,"display_name":"Michel Dambros Figueiredo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683191825,"creation_date":1683191825,"answer_id":76171518,"question_id":52731240,"body_markdown":"You can use arrays and streams for a more elegant solution. I scored 100% with the following solution:\r\n\r\n    import java.util.OptionalInt;\r\n    import java.util.stream.Stream;\r\n    \r\n    class Solution {\r\n        public int solution(int N) {\r\n            String binary = Integer.toBinaryString(N);\r\n            binary = binary.substring(0, binary.lastIndexOf(&quot;1&quot;));\r\n            String[] split = binary.split(&quot;1&quot;);\r\n            if(split.length==0){\r\n                return 0;\r\n            }\r\n            OptionalInt max = Stream.of(split).map(String::length).mapToInt(value -&gt; value).max();\r\n            return max.getAsInt();\r\n        }\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nYbFJ.png","title":"Binary Gap Program in Java","body":"<p>You can use arrays and streams for a more elegant solution. I scored 100% with the following solution:</p>\n<pre><code>import java.util.OptionalInt;\nimport java.util.stream.Stream;\n\nclass Solution {\n    public int solution(int N) {\n        String binary = Integer.toBinaryString(N);\n        binary = binary.substring(0, binary.lastIndexOf(&quot;1&quot;));\n        String[] split = binary.split(&quot;1&quot;);\n        if(split.length==0){\n            return 0;\n        }\n        OptionalInt max = Stream.of(split).map(String::length).mapToInt(value -&gt; value).max();\n        return max.getAsInt();\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/nYbFJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nYbFJ.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":8274479,"reputation":117,"user_id":6221192,"display_name":"AmeeQ"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15898,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":52731414,"answer_count":25,"score":1,"last_activity_date":1683191825,"creation_date":1539133537,"question_id":52731240,"body_markdown":"My problem statement:\r\n\r\n&gt; A binary gap within a positive integer N is any maximal sequence of consecutive zeros that is surrounded by ones at both ends in the binary representation of N. For example, number 9 has binary representation 1001 and contains a binary gap of length 2. The number 529 has binary representation 1000010001 and contains two binary gaps: one of length 4 and one of length 3. The number 20 has binary representation 10100 and contains one binary gap of length 1. The number 15 has binary representation 1111 and has no binary gaps. The number 32 has binary representation 100000 and has no binary gaps.\r\n\r\nMy code:\r\n\r\n    public class Abc {\r\n    \r\n        static void decToBinary(int n) {\r\n    \r\n            int[] binaryNum = new int[1000];\r\n    \r\n            // counter for binary array \r\n            int i = 0;\r\n            while (n &gt; 0) {\r\n                // storing remainder in binary array \r\n                binaryNum[i] = n % 2;\r\n                n = n / 2;\r\n                i++;\r\n            }\r\n            int ctr = 0, k = 0;\r\n            ArrayList&lt;Integer&gt; al = new ArrayList&lt;Integer&gt;();\r\n    \r\n            // printing binary array in reverse order \r\n            for (int j = i - 1; j &gt;= 0; j--) {\r\n                System.out.print(binaryNum[j]);\r\n                if (binaryNum[j] == 0) {\r\n                    k = j;\r\n                    do {\r\n                        ctr++;\r\n                        k++;\r\n                    } while (binaryNum[k] == 0);\r\n                    al.add(ctr);\r\n                    ctr = 0;\r\n                }\r\n            }\r\n    \r\n            for (int ii = 0; ii &lt; al.size(); ii++) {\r\n                System.out.println(al.get(ii));\r\n            }\r\n        }\r\n    \r\n        // driver program \r\n        public static void main(String[] args) {\r\n            int n = 1041;\r\n            decToBinary(n);\r\n        }\r\n    }\r\n\r\n\r\nI am trying to show the output of binary gap that is stored in my ArrayList.  But the output is quite different for a given input of 1041. I  don&#39;t know why it is storing 1,2,3,4; according to my logic it should store only the gap values 5 and 3 in case of input:1041, even though 5 and 3 are also stored in the ArrayList but at some other index.\r\n\r\nI think there is a problem in the do-while loop especially in `al.add(ctr)` but I haven&#39;t figured it out yet. \r\n\r\n","title":"Binary Gap Program in Java","body":"<p>My problem statement:</p>\n\n<blockquote>\n  <p>A binary gap within a positive integer N is any maximal sequence of consecutive zeros that is surrounded by ones at both ends in the binary representation of N. For example, number 9 has binary representation 1001 and contains a binary gap of length 2. The number 529 has binary representation 1000010001 and contains two binary gaps: one of length 4 and one of length 3. The number 20 has binary representation 10100 and contains one binary gap of length 1. The number 15 has binary representation 1111 and has no binary gaps. The number 32 has binary representation 100000 and has no binary gaps.</p>\n</blockquote>\n\n<p>My code:</p>\n\n<pre><code>public class Abc {\n\n    static void decToBinary(int n) {\n\n        int[] binaryNum = new int[1000];\n\n        // counter for binary array \n        int i = 0;\n        while (n &gt; 0) {\n            // storing remainder in binary array \n            binaryNum[i] = n % 2;\n            n = n / 2;\n            i++;\n        }\n        int ctr = 0, k = 0;\n        ArrayList&lt;Integer&gt; al = new ArrayList&lt;Integer&gt;();\n\n        // printing binary array in reverse order \n        for (int j = i - 1; j &gt;= 0; j--) {\n            System.out.print(binaryNum[j]);\n            if (binaryNum[j] == 0) {\n                k = j;\n                do {\n                    ctr++;\n                    k++;\n                } while (binaryNum[k] == 0);\n                al.add(ctr);\n                ctr = 0;\n            }\n        }\n\n        for (int ii = 0; ii &lt; al.size(); ii++) {\n            System.out.println(al.get(ii));\n        }\n    }\n\n    // driver program \n    public static void main(String[] args) {\n        int n = 1041;\n        decToBinary(n);\n    }\n}\n</code></pre>\n\n<p>I am trying to show the output of binary gap that is stored in my ArrayList.  But the output is quite different for a given input of 1041. I  don't know why it is storing 1,2,3,4; according to my logic it should store only the gap values 5 and 3 in case of input:1041, even though 5 and 3 are also stored in the ArrayList but at some other index.</p>\n\n<p>I think there is a problem in the do-while loop especially in <code>al.add(ctr)</code> but I haven't figured it out yet. </p>\n"},{"tags":["java","android","websocket","rtmp"],"owner":{"account_id":21877686,"reputation":21,"user_id":16166494,"display_name":"m3rcy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683191579,"creation_date":1683191579,"question_id":76171484,"body_markdown":"I am streaming via RTMP protocol with Web Socket. I need to record this stream with sound and save as mp4 file locally. Any ideas?\r\n\r\nI&#39;ve tried FFmpegKit library but it fails after executing\r\n\r\nFFmpeg command:\r\n\r\n```\r\nFFmpegKit.executeAsync(&quot;-i&quot; + &quot;rtmp://someurl&quot; + &quot;-c:v copy -c:a copy&quot; + targetFile, session -&gt; {\r\n    com.arthenica.ffmpegkit.SessionState mState = session.getState();\r\n    ReturnCode returnCode = session.getReturnCode();\r\n    \r\n    Log.d(&quot;TAG&quot;, String.format(&quot;FFmpeg process exited with state %s and rc %s.%s&quot;, mState, returnCode, session.getFailStackTrace()));\r\n});\r\n```\r\n\r\nAfter executing the command, I get the following error:\r\n&gt; Server error: RTMP playback is disabled. Operation not permitted.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/aZXCN.png)](https://i.stack.imgur.com/aZXCN.png)","title":"Recording stream via RTMP Android","body":"<p>I am streaming via RTMP protocol with Web Socket. I need to record this stream with sound and save as mp4 file locally. Any ideas?</p>\n<p>I've tried FFmpegKit library but it fails after executing</p>\n<p>FFmpeg command:</p>\n<pre><code>FFmpegKit.executeAsync(&quot;-i&quot; + &quot;rtmp://someurl&quot; + &quot;-c:v copy -c:a copy&quot; + targetFile, session -&gt; {\n    com.arthenica.ffmpegkit.SessionState mState = session.getState();\n    ReturnCode returnCode = session.getReturnCode();\n    \n    Log.d(&quot;TAG&quot;, String.format(&quot;FFmpeg process exited with state %s and rc %s.%s&quot;, mState, returnCode, session.getFailStackTrace()));\n});\n</code></pre>\n<p>After executing the command, I get the following error:</p>\n<blockquote>\n<p>Server error: RTMP playback is disabled. Operation not permitted.</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/aZXCN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aZXCN.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","css","select","styles","vaadin"],"comments":[{"owner":{"account_id":113115,"reputation":2308,"user_id":298103,"accept_rate":91,"display_name":"Rolf"},"score":0,"creation_date":1683181089,"post_id":76169198,"comment_id":134327525,"body_markdown":"Could you describe how you created your application in the first place? 2.2.0 is a very old version of the Select component, and that image you posted looks nothing like the Vaadin Select component.","body":"Could you describe how you created your application in the first place? 2.2.0 is a very old version of the Select component, and that image you posted looks nothing like the Vaadin Select component."},{"owner":{"account_id":1910393,"reputation":432,"user_id":1724358,"accept_rate":70,"display_name":"Headshot"},"score":0,"creation_date":1683183957,"post_id":76169198,"comment_id":134328086,"body_markdown":"Hi, I create new .java file, after that `import` the component `import com.vaadin.flow.component.select.Select;`  , and then i create new object Select like above .","body":"Hi, I create new .java file, after that <code>import</code> the component <code>import com.vaadin.flow.component.select.Select;</code>  , and then i create new object Select like above ."},{"owner":{"account_id":113115,"reputation":2308,"user_id":298103,"accept_rate":91,"display_name":"Rolf"},"score":0,"creation_date":1683185816,"post_id":76169198,"comment_id":134328426,"body_markdown":"Ok so what I meant to ask is: Are you building that app based on the Vaadin Flow framework, and if so, which version of Vaadin?","body":"Ok so what I meant to ask is: Are you building that app based on the Vaadin Flow framework, and if so, which version of Vaadin?"},{"owner":{"account_id":1910393,"reputation":432,"user_id":1724358,"accept_rate":70,"display_name":"Headshot"},"score":0,"creation_date":1683187221,"post_id":76169198,"comment_id":134328725,"body_markdown":"Ok, i use Gradle, and Vaadin version 14, build with eclipse.","body":"Ok, i use Gradle, and Vaadin version 14, build with eclipse."},{"owner":{"account_id":113115,"reputation":2308,"user_id":298103,"accept_rate":91,"display_name":"Rolf"},"score":0,"creation_date":1683196587,"post_id":76169198,"comment_id":134330878,"body_markdown":"Is this an existing application that you&#39;re continuing developing, or did you just start building it? Because if this is a new Vaadin app that you&#39;ve just started working on, I would recommend generating a new project through start.vaadin.com","body":"Is this an existing application that you&#39;re continuing developing, or did you just start building it? Because if this is a new Vaadin app that you&#39;ve just started working on, I would recommend generating a new project through start.vaadin.com"}],"answers":[{"tags":[],"owner":{"account_id":2759852,"reputation":7920,"user_id":2376954,"display_name":"Leif &#197;strand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683179694,"creation_date":1683179694,"answer_id":76169962,"question_id":76169198,"body_markdown":"&gt; SelectVariant cannot be resolved to a variable\r\n\r\nIf you get that message as an error from the compiler, then the first thing to look for is to make sure you have an `import` statement for the `SelectVariant` class in the beginning of you Java file.\r\n\r\n```java\r\nimport com.vaadin.flow.component.select.SelectVariant;\r\n```","title":"How can add style lumo default to component?","body":"<blockquote>\n<p>SelectVariant cannot be resolved to a variable</p>\n</blockquote>\n<p>If you get that message as an error from the compiler, then the first thing to look for is to make sure you have an <code>import</code> statement for the <code>SelectVariant</code> class in the beginning of you Java file.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.vaadin.flow.component.select.SelectVariant;\n</code></pre>\n"}],"owner":{"account_id":1910393,"reputation":432,"user_id":1724358,"accept_rate":70,"display_name":"Headshot"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683191504,"creation_date":1683167370,"question_id":76169198,"body_markdown":"I try use Select component, and try to use Variant style, but  doesn&#39;t apply. I know, vaadin has default style as Lumo, how can I add this style to component. My select is vaadin-select-2.2.0\r\n\r\nThis can not work because SelectVariant cannot be resolved to a variable\r\n\r\n    Select&lt;String&gt; field = new Select&lt;&gt;();\r\n\tfield.setLabel(&quot;Group&quot;);\r\n\tfield.setItems(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;);\r\n    field.addThemeVariants(\r\n        SelectVariant.LUMO_SMALL,\r\n        SelectVariant.LUMO_ALIGN_RIGHT,\r\n        SelectVariant.LUMO_HELPER_ABOVE_FIELD\r\n    );\r\n\r\nAnd i try add class css default to select component , but not change (picture attachment)\r\nhttps://vaadin.com/docs/latest/components/select\r\n\r\n    field.addClassName(&quot;vaadin-select&quot;); \r\n\tfield.getElement().setAttribute(&quot;class&quot;, &quot;vaadin-select&quot;);\r\n\tfield.getElement().setAttribute(&quot;theme&quot;, &quot;vaadin-select&quot;);\r\n\r\nThe result is showing without style css\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSo, how can i do it with style css ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HIyhe.png","title":"How can add style lumo default to component?","body":"<p>I try use Select component, and try to use Variant style, but  doesn't apply. I know, vaadin has default style as Lumo, how can I add this style to component. My select is vaadin-select-2.2.0</p>\n<p>This can not work because SelectVariant cannot be resolved to a variable</p>\n<pre><code>Select&lt;String&gt; field = new Select&lt;&gt;();\nfield.setLabel(&quot;Group&quot;);\nfield.setItems(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;);\nfield.addThemeVariants(\n    SelectVariant.LUMO_SMALL,\n    SelectVariant.LUMO_ALIGN_RIGHT,\n    SelectVariant.LUMO_HELPER_ABOVE_FIELD\n);\n</code></pre>\n<p>And i try add class css default to select component , but not change (picture attachment)\n<a href=\"https://vaadin.com/docs/latest/components/select\" rel=\"nofollow noreferrer\">https://vaadin.com/docs/latest/components/select</a></p>\n<pre><code>field.addClassName(&quot;vaadin-select&quot;); \nfield.getElement().setAttribute(&quot;class&quot;, &quot;vaadin-select&quot;);\nfield.getElement().setAttribute(&quot;theme&quot;, &quot;vaadin-select&quot;);\n</code></pre>\n<p>The result is showing without style css</p>\n<p><a href=\"https://i.stack.imgur.com/HIyhe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HIyhe.png\" alt=\"enter image description here\" /></a></p>\n<p>So, how can i do it with style css ?</p>\n"},{"tags":["java","android-studio","time","java-time","offsetdatetime"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1683195835,"post_id":76171455,"comment_id":134330723,"body_markdown":"My first thought would be to store UTC times in the database and convert to the user’s time zone only when displaying the times. If you don’t want that, you may use `OffsetDateTime.now(ZoneId.systemDefault())`. While the obtained `OffsetDateTime` will not know which time zone it came from, the `now` method will respect the time zone and its anomalies and give you the time at the correct offset for the time of year according to standard time and summer time and other anomalies. For example in my time zone you may get 2023-05-04T12:28+02:00 now and 2023-12-12T23:15+01:00 next winter.","body":"My first thought would be to store UTC times in the database and convert to the user’s time zone only when displaying the times. If you don’t want that, you may use <code>OffsetDateTime.now(ZoneId.systemDefault())</code>. While the obtained <code>OffsetDateTime</code> will not know which time zone it came from, the <code>now</code> method will respect the time zone and its anomalies and give you the time at the correct offset for the time of year according to standard time and summer time and other anomalies. For example in my time zone you may get 2023-05-04T12:28+02:00 now and 2023-12-12T23:15+01:00 next winter."}],"owner":{"account_id":27329849,"reputation":15,"user_id":20842166,"display_name":"steeveKA1"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683191412,"creation_date":1683191412,"question_id":76171455,"body_markdown":"one question. I want to store some time data in room Database. In my application the user can press a Start and Stop Button to save a Start- and a EndTime for doing different tasks. Later he can review all times with a RecyclerView...\r\n\r\nNow, the problem is, that i want to keep special anomalies of the different TimeZones. For Example if Summertime (DST) occurs in the TimeZone of the User, then he should have that correct time if he presses the Button and later review the times. But i read that OffsetDateTime does not store such anomalies. Instead ZonedDateTime would be the right one.\r\nBut if i want to store the times i need to use OffsetDateTime.\r\n\r\nWhat can i do? I guess if i create a ZonedDateTime at the moment the user presses a button, and then i convert it to OffsetDatetime and then back for retrieving Data, the Summertime, or DST, is lost in the converting process?\r\n\r\nAnybody can help, please? Searched everything but couldnt see any anwsers. \r\n\r\nThank you. ","title":"Android Room OffsetDateTime how to safe the Zone Anomalies","body":"<p>one question. I want to store some time data in room Database. In my application the user can press a Start and Stop Button to save a Start- and a EndTime for doing different tasks. Later he can review all times with a RecyclerView...</p>\n<p>Now, the problem is, that i want to keep special anomalies of the different TimeZones. For Example if Summertime (DST) occurs in the TimeZone of the User, then he should have that correct time if he presses the Button and later review the times. But i read that OffsetDateTime does not store such anomalies. Instead ZonedDateTime would be the right one.\nBut if i want to store the times i need to use OffsetDateTime.</p>\n<p>What can i do? I guess if i create a ZonedDateTime at the moment the user presses a button, and then i convert it to OffsetDatetime and then back for retrieving Data, the Summertime, or DST, is lost in the converting process?</p>\n<p>Anybody can help, please? Searched everything but couldnt see any anwsers.</p>\n<p>Thank you.</p>\n"},{"tags":["java","android","nfc","mifare"],"owner":{"account_id":14564750,"reputation":301,"user_id":10519836,"display_name":"Karam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683191406,"creation_date":1683191406,"question_id":76171454,"body_markdown":"I have an App which write SRAM in NTAG using MifareUltralight class in android. \r\n\r\nusing this snippt of code\r\n\r\n```\r\nprotected boolean fastWrite(byte[] payload) throws IOException {\r\n    byte[] command = new byte[3];\r\n    command[0] = FAST_WRITE_COMMAND; // 0x3A\r\n    command[1] = NxpTag.SRAM_STARTING_PAGE;// 0xF0\r\n    command[2] = NxpTag.SRAM_LAST_PAGE; //0xFF\r\n    byte[] commandAndPayload = new byte[command.length + payload.length];\r\n    System.arraycopy(command, 0, commandAndPayload, 0, command.length);\r\n    System.arraycopy(payload, 0, commandAndPayload, command.length, payload.length);\r\n    return sendNxpCommand(commandAndPayload)[0] == ACK;\r\n}\r\n\r\nprivate byte[] sendNxpCommand(byte[] bytes) throws IOException {\r\n    byte[] answer;\r\n    answer = mfu.transceive(bytes);\r\n    if (answer == null) throw new IOException(&quot;null&quot;);\r\n    return answer;\r\n}\r\n```\r\neverything went smoothly until I test it against new Device &quot;Cyrus CM17&quot; which has android 7(SDK 24) and I get always when I use `transceive(data)` to write anything I get `IOException(&quot;Transceive failed&quot;)` .\r\n\r\nSo I changed my code and instead of writing the whole SRAM (64bytes) I tried to write only 4 bytes a once by using this code:\r\n\r\n    private boolean writeSRAM(byte[] byteArray) throws IOException {\r\n        boolean res = true;\r\n        byte[] command = new byte[6];\r\n        command[0] = (byte) 0xA2;\r\n        for (int i = 0; i &lt; 16; i++) {\r\n            command[1] = (byte) (NxpTag.SRAM_STARTING_PAGE + (byte) i);\r\n            System.arraycopy(byteArray, 4 * i, command, 2, 4);\r\n            res &amp;= (mfu.transceive(command)[0] == ACK);\r\n        }\r\n        return res;\r\n    }\r\nit returns the same exception on the CYRUS device and it works for modern devices `Samsung M21 (SDK 32)`\r\n\r\nSo I deceied to take the advantage of `MifareUltralight` and I used `writePage(pageNum, Data)` method \r\n\r\n    private boolean writeSRAMPages(byte[] byteArray) throws IOExcepti\r\n        boolean res = true;\r\n        for (int i = 0; i &lt; 16; i++) {\r\n            mfu.writePage(240 + i, Arrays.copyOfRange(byteArray, 4 * i, 4 * (i + 1))); \r\n        }\r\n        return res;\r\n    }\r\n\r\nand finally it works for old and new devices. the source code of `writePage(pageNum, Data)` use internally `transceive(cmd, false)` while the `transceive(data)` use `transceive(cmd, true)` and the implementation of `transceive(byte[] data, boolean raw)` is:\r\n\r\n    /** Internal transceive */\r\n    byte[] transceive(byte[] data, boolean raw) throws IOException {\r\n        checkConnected();\r\n        try {\r\n            TransceiveResult result = mTag.getTagService().transceive(mTag.getServiceHandle(),\r\n                    data, raw);\r\n            if (result == null) {\r\n                throw new IOException(&quot;transceive failed&quot;);\r\n            } else {\r\n                return result.getResponseOrThrow();\r\n            }\r\n        } catch (RemoteException e) {\r\n            Log.e(TAG, &quot;NFC service dead&quot;, e);\r\n            throw new IOException(&quot;NFC service died&quot;);\r\n        }\r\n    }\r\n\r\nSO when I use `transceive(cmd, true)` on CYRUS with SDK24  it doesn&#39;t work because it can&#39;t handle `raw = true`. in debugging this method `transceive(byte[] data, boolean raw)` I forced `raw = false` and It worked.\r\n\r\nI could still use `writePage(pageNum, Data)` but the app would run slow as I had to send 16 commands instead of 1 each time I need to read the whole SRAM. \r\n\r\nCan anyone explain why some devices on SDK24 can&#39;t handle `transceive(data, true)` ?. ","title":"MifareUltralight.transceive throws a IOException on SDK24","body":"<p>I have an App which write SRAM in NTAG using MifareUltralight class in android.</p>\n<p>using this snippt of code</p>\n<pre><code>protected boolean fastWrite(byte[] payload) throws IOException {\n    byte[] command = new byte[3];\n    command[0] = FAST_WRITE_COMMAND; // 0x3A\n    command[1] = NxpTag.SRAM_STARTING_PAGE;// 0xF0\n    command[2] = NxpTag.SRAM_LAST_PAGE; //0xFF\n    byte[] commandAndPayload = new byte[command.length + payload.length];\n    System.arraycopy(command, 0, commandAndPayload, 0, command.length);\n    System.arraycopy(payload, 0, commandAndPayload, command.length, payload.length);\n    return sendNxpCommand(commandAndPayload)[0] == ACK;\n}\n\nprivate byte[] sendNxpCommand(byte[] bytes) throws IOException {\n    byte[] answer;\n    answer = mfu.transceive(bytes);\n    if (answer == null) throw new IOException(&quot;null&quot;);\n    return answer;\n}\n</code></pre>\n<p>everything went smoothly until I test it against new Device &quot;Cyrus CM17&quot; which has android 7(SDK 24) and I get always when I use <code>transceive(data)</code> to write anything I get <code>IOException(&quot;Transceive failed&quot;)</code> .</p>\n<p>So I changed my code and instead of writing the whole SRAM (64bytes) I tried to write only 4 bytes a once by using this code:</p>\n<pre><code>private boolean writeSRAM(byte[] byteArray) throws IOException {\n    boolean res = true;\n    byte[] command = new byte[6];\n    command[0] = (byte) 0xA2;\n    for (int i = 0; i &lt; 16; i++) {\n        command[1] = (byte) (NxpTag.SRAM_STARTING_PAGE + (byte) i);\n        System.arraycopy(byteArray, 4 * i, command, 2, 4);\n        res &amp;= (mfu.transceive(command)[0] == ACK);\n    }\n    return res;\n}\n</code></pre>\n<p>it returns the same exception on the CYRUS device and it works for modern devices <code>Samsung M21 (SDK 32)</code></p>\n<p>So I deceied to take the advantage of <code>MifareUltralight</code> and I used <code>writePage(pageNum, Data)</code> method</p>\n<pre><code>private boolean writeSRAMPages(byte[] byteArray) throws IOExcepti\n    boolean res = true;\n    for (int i = 0; i &lt; 16; i++) {\n        mfu.writePage(240 + i, Arrays.copyOfRange(byteArray, 4 * i, 4 * (i + 1))); \n    }\n    return res;\n}\n</code></pre>\n<p>and finally it works for old and new devices. the source code of <code>writePage(pageNum, Data)</code> use internally <code>transceive(cmd, false)</code> while the <code>transceive(data)</code> use <code>transceive(cmd, true)</code> and the implementation of <code>transceive(byte[] data, boolean raw)</code> is:</p>\n<pre><code>/** Internal transceive */\nbyte[] transceive(byte[] data, boolean raw) throws IOException {\n    checkConnected();\n    try {\n        TransceiveResult result = mTag.getTagService().transceive(mTag.getServiceHandle(),\n                data, raw);\n        if (result == null) {\n            throw new IOException(&quot;transceive failed&quot;);\n        } else {\n            return result.getResponseOrThrow();\n        }\n    } catch (RemoteException e) {\n        Log.e(TAG, &quot;NFC service dead&quot;, e);\n        throw new IOException(&quot;NFC service died&quot;);\n    }\n}\n</code></pre>\n<p>SO when I use <code>transceive(cmd, true)</code> on CYRUS with SDK24  it doesn't work because it can't handle <code>raw = true</code>. in debugging this method <code>transceive(byte[] data, boolean raw)</code> I forced <code>raw = false</code> and It worked.</p>\n<p>I could still use <code>writePage(pageNum, Data)</code> but the app would run slow as I had to send 16 commands instead of 1 each time I need to read the whole SRAM.</p>\n<p>Can anyone explain why some devices on SDK24 can't handle <code>transceive(data, true)</code> ?.</p>\n"},{"tags":["java","postgresql","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":13867576,"reputation":120,"user_id":10011738,"display_name":"amir rad"},"score":0,"creation_date":1673017688,"post_id":68239143,"comment_id":132409338,"body_markdown":"maybe you use some keywords which reserved by jpa in you entities as fields.","body":"maybe you use some keywords which reserved by jpa in you entities as fields."}],"answers":[{"tags":[],"owner":{"account_id":16453214,"reputation":578,"user_id":11886111,"display_name":"anish sharma"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1625339534,"creation_date":1625339534,"answer_id":68239256,"question_id":68239143,"body_markdown":"\r\n\r\nThere are several possible causes:\r\n\r\n    Your entity classes are in the same or in a sub-package relative one where you have you class with @EnableAutoConfiguration. If not then your spring app does not see them and hence will not create anything in db\r\n\r\n    Your application.properties must be in src/main/resources folder.\r\n\r\ntry adding @ComponentScan(&quot;package which contains entity classes, configurations and services&quot;)\r\n","title":"Spring Boot - JPA Hibernate not creating tables automatically?","body":"<p>There are several possible causes:</p>\n<pre><code>Your entity classes are in the same or in a sub-package relative one where you have you class with @EnableAutoConfiguration. If not then your spring app does not see them and hence will not create anything in db\n\nYour application.properties must be in src/main/resources folder.\n</code></pre>\n<p>try adding @ComponentScan(&quot;package which contains entity classes, configurations and services&quot;)</p>\n"},{"tags":[],"owner":{"account_id":14793162,"reputation":1,"user_id":10683463,"display_name":"Descartes fowo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625352342,"creation_date":1625352342,"answer_id":68240468,"question_id":68239143,"body_markdown":"This is what you have to do:\r\n\r\n1- Add `@Entity` annotation to every class you want to see as table\r\n\r\n2- Add these lines in your application.properties:\r\n```\r\nspring.jpa.generate-ddl=true\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/dbname\r\nspring.datasource.username=postgres\r\nspring.datasource.password=root\r\nspring.datasource.driver-class-name=org.postgresql.Driver\r\nspring.jpa.show-sql=false \r\nspring.jpa.hibernate.ddl-auto=create-drop\r\n```","title":"Spring Boot - JPA Hibernate not creating tables automatically?","body":"<p>This is what you have to do:</p>\n<p>1- Add <code>@Entity</code> annotation to every class you want to see as table</p>\n<p>2- Add these lines in your application.properties:</p>\n<pre><code>spring.jpa.generate-ddl=true\nspring.datasource.url=jdbc:postgresql://localhost:5432/dbname\nspring.datasource.username=postgres\nspring.datasource.password=root\nspring.datasource.driver-class-name=org.postgresql.Driver\nspring.jpa.show-sql=false \nspring.jpa.hibernate.ddl-auto=create-drop\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13867576,"reputation":120,"user_id":10011738,"display_name":"amir rad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625377308,"creation_date":1625377308,"answer_id":68242042,"question_id":68239143,"body_markdown":"Check these annotations:\r\n1- @Table( name:    ), @ Entity  on you class.\r\n2- @Column(name: ), on each field.","title":"Spring Boot - JPA Hibernate not creating tables automatically?","body":"<p>Check these annotations:\n1- @Table( name:    ), @ Entity  on you class.\n2- @Column(name: ), on each field.</p>\n"},{"tags":[],"owner":{"account_id":22187935,"reputation":161,"user_id":16430556,"display_name":"manish"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1626238643,"creation_date":1626238643,"answer_id":68372267,"question_id":68239143,"body_markdown":"u can use `spring.jpa.hibernate.ddl-auto=update` and check u are using @Table(name=&quot;table_name&quot;) top on  entity class.\r\nit may help","title":"Spring Boot - JPA Hibernate not creating tables automatically?","body":"<p>u can use <code>spring.jpa.hibernate.ddl-auto=update</code> and check u are using @Table(name=&quot;table_name&quot;) top on  entity class.\nit may help</p>\n"},{"tags":[],"owner":{"account_id":22188269,"reputation":41,"user_id":16430846,"display_name":"Kaushik Shaw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626248723,"creation_date":1626248393,"answer_id":68373964,"question_id":68239143,"body_markdown":"You can use this in the application.properties file it was work for me.\r\n\r\n```\r\nlogging.level.org.hibernate.SQL=DEBUG\r\nlogging.level.org.hibernate.type=TRACE\r\n\r\n\r\nspring.jpa.show-sql=true\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect\r\nspring.data.jpa.repositories.enabled=true\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/dbname\r\nspring.datasource.username=postgres\r\nspring.datasource.password=password\r\nspring.datasource.driverClassName=org.postgresql.Driver\r\n`````\r\n\r\n And also use this annotation above the entity class.\r\n\r\n```\r\n @Entity\r\n @Table(name=&quot; give the name of the table you want &quot;)\r\n```","title":"Spring Boot - JPA Hibernate not creating tables automatically?","body":"<p>You can use this in the application.properties file it was work for me.</p>\n<pre><code>logging.level.org.hibernate.SQL=DEBUG\nlogging.level.org.hibernate.type=TRACE\n\n\nspring.jpa.show-sql=true\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect\nspring.data.jpa.repositories.enabled=true\nspring.datasource.url=jdbc:postgresql://localhost:5432/dbname\nspring.datasource.username=postgres\nspring.datasource.password=password\nspring.datasource.driverClassName=org.postgresql.Driver\n</code></pre>\n<p>And also use this annotation above the entity class.</p>\n<pre><code> @Entity\n @Table(name=&quot; give the name of the table you want &quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22191049,"reputation":71,"user_id":16433233,"display_name":"S Badal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626407698,"creation_date":1626407698,"answer_id":68403219,"question_id":68239143,"body_markdown":"Check that you have added @Entity annotation to your model classes. Also, make sure that model classes are in the desired package.","title":"Spring Boot - JPA Hibernate not creating tables automatically?","body":"<p>Check that you have added @Entity annotation to your model classes. Also, make sure that model classes are in the desired package.</p>\n"},{"tags":[],"owner":{"account_id":5543478,"reputation":1188,"user_id":4399071,"accept_rate":50,"display_name":"Badr B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668633236,"creation_date":1668633236,"answer_id":74467310,"question_id":68239143,"body_markdown":"My issue was that I created a new model, and one of the fields had a column name that was a reserved SQL keyword (e.g. &quot;start&quot;, &quot;end&quot;, &quot;table&quot;, etc.) The table creation would fail due to a syntax error, but the application still started &quot;successfully&quot; for some reason.","title":"Spring Boot - JPA Hibernate not creating tables automatically?","body":"<p>My issue was that I created a new model, and one of the fields had a column name that was a reserved SQL keyword (e.g. &quot;start&quot;, &quot;end&quot;, &quot;table&quot;, etc.) The table creation would fail due to a syntax error, but the application still started &quot;successfully&quot; for some reason.</p>\n"},{"tags":[],"owner":{"account_id":19529368,"reputation":1,"user_id":14289530,"display_name":"Brandon Hauser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669276897,"creation_date":1669276897,"answer_id":74557424,"question_id":68239143,"body_markdown":"Make sure that your imports are from `javax.persistence` and not `jakarta.persistence`. Took me a while to solve this problem in a project where I was importing `jakarta.persistence.Entity` as well as other annotations.  Once I switched all annotation imports to `javax.persistence` it all worked.","title":"Spring Boot - JPA Hibernate not creating tables automatically?","body":"<p>Make sure that your imports are from <code>javax.persistence</code> and not <code>jakarta.persistence</code>. Took me a while to solve this problem in a project where I was importing <code>jakarta.persistence.Entity</code> as well as other annotations.  Once I switched all annotation imports to <code>javax.persistence</code> it all worked.</p>\n"},{"tags":[],"owner":{"account_id":14824469,"reputation":1085,"user_id":10705803,"display_name":"Muhammad Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683191155,"creation_date":1683191155,"answer_id":76171422,"question_id":68239143,"body_markdown":"i faced this issue so in application.properties, i replace \r\n\r\n    spring.jpa.hibernate.ddl.auto=update\r\n\r\nwith\r\n\r\n    spring.jpa.generate-ddl=true\r\n    spring.jpa.hibernate.ddl-auto=update\r\n\r\nadditionally i added(optional)\r\n\r\n    spring.jpa.defer-datasource-initialization=true\r\n    spring.jpa.database = MYSQL","title":"Spring Boot - JPA Hibernate not creating tables automatically?","body":"<p>i faced this issue so in application.properties, i replace</p>\n<pre><code>spring.jpa.hibernate.ddl.auto=update\n</code></pre>\n<p>with</p>\n<pre><code>spring.jpa.generate-ddl=true\nspring.jpa.hibernate.ddl-auto=update\n</code></pre>\n<p>additionally i added(optional)</p>\n<pre><code>spring.jpa.defer-datasource-initialization=true\nspring.jpa.database = MYSQL\n</code></pre>\n"}],"owner":{"account_id":6558714,"reputation":81,"user_id":5070603,"display_name":"Blay-Z"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11488,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":9,"score":4,"last_activity_date":1683191155,"creation_date":1625338438,"question_id":68239143,"body_markdown":"I have this code in my `application.properties` file:\r\n\r\n```\r\n# Spring DataSource\r\nspring.datasource.driverClassName=org.postgresql.Driver\r\nspring.sql.init.mode=always\r\nspring.sql.init.platform=postgres\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/dbname\r\nspring.datasource.username=postgres\r\nspring.datasource.password=root\r\n\r\n# JPA-Hibernate\r\nspring.jpa.generate-ddl=true\r\nspring.jpa.show-sql=false\r\nspring.jpa.hibernate.ddl-auto=create\r\n\r\n# https://stackoverflow.com/questions/43905119/postgres-error-method-org-postgresql-jdbc-pgconnection-createclob-is-not-imple\r\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\r\n\r\n# Optimization for POSTGRES queries\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQL95Dialect\r\n```\r\n\r\nAs you can see I have the `spring.jpa.hibernate.ddl-auto=create` line added but the tables are still not being created by the JPA. I have to manually create them in order for the project to compile. What is wrong?","title":"Spring Boot - JPA Hibernate not creating tables automatically?","body":"<p>I have this code in my <code>application.properties</code> file:</p>\n<pre><code># Spring DataSource\nspring.datasource.driverClassName=org.postgresql.Driver\nspring.sql.init.mode=always\nspring.sql.init.platform=postgres\nspring.datasource.url=jdbc:postgresql://localhost:5432/dbname\nspring.datasource.username=postgres\nspring.datasource.password=root\n\n# JPA-Hibernate\nspring.jpa.generate-ddl=true\nspring.jpa.show-sql=false\nspring.jpa.hibernate.ddl-auto=create\n\n# https://stackoverflow.com/questions/43905119/postgres-error-method-org-postgresql-jdbc-pgconnection-createclob-is-not-imple\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\n\n# Optimization for POSTGRES queries\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQL95Dialect\n</code></pre>\n<p>As you can see I have the <code>spring.jpa.hibernate.ddl-auto=create</code> line added but the tables are still not being created by the JPA. I have to manually create them in order for the project to compile. What is wrong?</p>\n"},{"tags":["java","rest","spring-boot"],"comments":[{"owner":{"account_id":12088051,"reputation":391,"user_id":8835739,"display_name":"Adi"},"score":0,"creation_date":1509000637,"post_id":46947554,"comment_id":80842288,"body_markdown":"Yes i know but can&#39;t figure out where i went wrong.","body":"Yes i know but can&#39;t figure out where i went wrong."},{"owner":{"account_id":8641099,"reputation":3709,"user_id":6469772,"display_name":"LHCHIN"},"score":0,"creation_date":1509006726,"post_id":46947554,"comment_id":80845961,"body_markdown":"According to your console output, it seems that the method `getAlldu()` didn&#39;t be called. So, did you get any message after invoking `http://localhost:8080/dunames`?","body":"According to your console output, it seems that the method <code>getAlldu()</code> didn&#39;t be called. So, did you get any message after invoking <code>http:&#47;&#47;localhost:8080&#47;dunames</code>?"},{"owner":{"account_id":3622923,"reputation":96,"user_id":3021232,"display_name":"Wabi"},"score":0,"creation_date":1509057609,"post_id":46947554,"comment_id":80877574,"body_markdown":"What does your `web.xml` look like?","body":"What does your <code>web.xml</code> look like?"},{"owner":{"account_id":12088051,"reputation":391,"user_id":8835739,"display_name":"Adi"},"score":0,"creation_date":1509080375,"post_id":46947554,"comment_id":80882836,"body_markdown":"@LHCHIN Yes it is not called. I got the 404 message.","body":"@LHCHIN Yes it is not called. I got the 404 message."},{"owner":{"account_id":12088051,"reputation":391,"user_id":8835739,"display_name":"Adi"},"score":0,"creation_date":1509080456,"post_id":46947554,"comment_id":80882857,"body_markdown":"@Wabi It does not have web.xml . It is spring boot application","body":"@Wabi It does not have web.xml . It is spring boot application"},{"owner":{"account_id":8641099,"reputation":3709,"user_id":6469772,"display_name":"LHCHIN"},"score":0,"creation_date":1509081471,"post_id":46947554,"comment_id":80883214,"body_markdown":"It is weird that I didn&#39;t see any request mapping information in your console output after application startup. Normally, it should print something like `Mapped &quot;{[/dunames]}&quot; onto public xxx.xxx.ducontroller`.","body":"It is weird that I didn&#39;t see any request mapping information in your console output after application startup. Normally, it should print something like <code>Mapped &quot;{[&#47;dunames]}&quot; onto public xxx.xxx.ducontroller</code>."},{"owner":{"account_id":12088051,"reputation":391,"user_id":8835739,"display_name":"Adi"},"score":0,"creation_date":1509085038,"post_id":46947554,"comment_id":80884569,"body_markdown":"@LHCHIN Yes. I have tried many things but don&#39;t know what went wrong","body":"@LHCHIN Yes. I have tried many things but don&#39;t know what went wrong"},{"owner":{"account_id":8641099,"reputation":3709,"user_id":6469772,"display_name":"LHCHIN"},"score":0,"creation_date":1509086009,"post_id":46947554,"comment_id":80884971,"body_markdown":"Another question, why you need to add the dependency of `spring-boot-starter-jersey` into your pom file?","body":"Another question, why you need to add the dependency of <code>spring-boot-starter-jersey</code> into your pom file?"},{"owner":{"account_id":12088051,"reputation":391,"user_id":8835739,"display_name":"Adi"},"score":0,"creation_date":1509086137,"post_id":46947554,"comment_id":80885018,"body_markdown":"@LHCHIN Yes that&#39;s of no use. I removed it.","body":"@LHCHIN Yes that&#39;s of no use. I removed it."},{"owner":{"account_id":8641099,"reputation":3709,"user_id":6469772,"display_name":"LHCHIN"},"score":0,"creation_date":1509088012,"post_id":46947554,"comment_id":80885939,"body_markdown":"I have imported your source into my STS IDE with small modification, and it worked well. I can perform selection and insertion via the services. What I have modified are: (1) \n Use h2 database with configuring property by `spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_ON_EXIT=FALSE` (2) Add `@Component` to `duservice` class.","body":"I have imported your source into my STS IDE with small modification, and it worked well. I can perform selection and insertion via the services. What I have modified are: (1)   Use h2 database with configuring property by <code>spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_ON_EXIT=FA&zwnj;&#8203;LSE</code> (2) Add <code>@Component</code> to <code>duservice</code> class."},{"owner":{"account_id":12088051,"reputation":391,"user_id":8835739,"display_name":"Adi"},"score":0,"creation_date":1509338505,"post_id":46947554,"comment_id":80963043,"body_markdown":"I added @Component to my duservice class but stll not working.","body":"I added @Component to my duservice class but stll not working."}],"answers":[{"tags":[],"owner":{"account_id":12088051,"reputation":391,"user_id":8835739,"display_name":"Adi"},"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1584665538,"creation_date":1509341968,"answer_id":47008719,"question_id":46947554,"body_markdown":"I got the solution. It was due to package visibility. \r\nMain class was not able to find package in which controller class is present. \r\nSo, I added all classes under the same package. You can also place application class one level up.\r\n\r\nGot help from below link:\r\n\r\nhttps://stackoverflow.com/questions/31318107/spring-boot-cannot-access-rest-controller-on-localhost-404\r\n","title":"404-not-found-while-running-spring-boot-rest-api","body":"<p>I got the solution. It was due to package visibility. \nMain class was not able to find package in which controller class is present. \nSo, I added all classes under the same package. You can also place application class one level up.</p>\n\n<p>Got help from below link:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/31318107/spring-boot-cannot-access-rest-controller-on-localhost-404\">Spring Boot: Cannot access REST Controller on localhost (404)</a></p>\n"},{"tags":[],"owner":{"account_id":4138262,"reputation":21,"user_id":3394370,"display_name":"Ratnesh K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651741826,"creation_date":1651741826,"answer_id":72124675,"question_id":46947554,"body_markdown":"There is serval reason associated with error 404, in my case I created a spring boot starter project in eclipse and forget to include spring-boot-starter-web in my project .I solved the issue after adding dependency in  pom.xml\r\n\r\n \r\n\r\n&gt;    &lt;/dependency&gt;\r\n&gt;     \t&lt;dependency&gt; \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; \t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; \t&lt;/dependency&gt;","title":"404-not-found-while-running-spring-boot-rest-api","body":"<p>There is serval reason associated with error 404, in my case I created a spring boot starter project in eclipse and forget to include spring-boot-starter-web in my project .I solved the issue after adding dependency in  pom.xml</p>\n<blockquote>\n   \n              org.springframework.boot         spring-boot-starter-web    \n</blockquote>\n"},{"tags":[],"owner":{"account_id":26116391,"reputation":11,"user_id":19809470,"display_name":"Isam Nagi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670204295,"creation_date":1669931955,"answer_id":74648636,"question_id":46947554,"body_markdown":"A lot of people said file management but I found my issue to be not including a path for my `@GetMapping` \r\n\r\nFor example, instead of `@GetMapping`\r\nI had: `@GetMapping(&quot;/&quot;)`\r\n\r\nThis issue held me back so much and though might not solve yours&#39;s, I&#39;m sure and hoping will help someone.\r\nThanks\r\n","title":"404-not-found-while-running-spring-boot-rest-api","body":"<p>A lot of people said file management but I found my issue to be not including a path for my <code>@GetMapping</code></p>\n<p>For example, instead of <code>@GetMapping</code>\nI had: <code>@GetMapping(&quot;/&quot;)</code></p>\n<p>This issue held me back so much and though might not solve yours's, I'm sure and hoping will help someone.\nThanks</p>\n"}],"owner":{"account_id":12088051,"reputation":391,"user_id":8835739,"display_name":"Adi"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56432,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":47008719,"answer_count":3,"score":9,"last_activity_date":1683191029,"creation_date":1509000527,"question_id":46947554,"body_markdown":"While running springboot restservice application got 404 error.  I am using spring boot, jersey rest. I have tried GET requests *`http://localhost:8080/dunames`* but not able to resolve. Please help.  \r\n\r\n**Model Class:**\r\n\r\n    @Entity\r\n    @Table(name = &quot;du&quot;)\r\n    public class duname {\r\n    \r\n    \t\r\n    \tprivate String duname;\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.AUTO)\r\n    \tprivate int id; \r\n    \tpublic int getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(int id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic duname()\r\n    \t{\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic duname(String duname, int id)\r\n    \t{\r\n    \tthis.duname=duname;\t\r\n    \tthis.id=id;\r\n    \t}\r\n    \t\r\n    \r\n    \tpublic String getDuname() {\r\n    \t\treturn duname;\r\n    \t}\r\n    \r\n    \tpublic void setDuname(String duname) {\r\n    \t\tthis.duname = duname;\r\n    \t}\r\n    }\r\n\r\n\r\n**Service Class:** \r\n\r\n    public class duservice {\r\n    \t\r\n    \t@Autowired\r\n    \tprivate durepo durepository;\r\n    \t\r\n    \tpublic List&lt;duname&gt; getAlldu()\r\n    \t{\r\n    \t\tList&lt;duname&gt; dunames=new ArrayList&lt;duname&gt;();\r\n    \t\tdurepository.findAll()\r\n    \t\t.forEach(dunames::add);\r\n    \t\treturn dunames;\r\n    \t}\r\n    \t\r\n    \tpublic void addDu(duname dunames)\r\n    \t{\r\n    \t\tdurepository.save(dunames);\r\n    \t}\r\n    \t\r\n    \tpublic duname getDu(int id)\r\n    \t{\r\n    \t\treturn durepository.findOne(id);\r\n    \t}\r\n    \t\r\n    \tpublic void deleteDu(int id)\r\n    \t{\r\n    \t\tdurepository.delete(id);\r\n    \t}\r\n    \t\r\n    \tpublic void updateDu(int id, duname dunames)\r\n    \t{\r\n    \t\tdurepository.save(dunames);\r\n    \t}\r\n    }\r\n\r\n\r\n**Controller class:**\r\n\r\n        @RestController\r\n    public class ducontroller {\r\n    \r\n    \t\r\n    \t@Autowired\r\n    \tprivate duservice duService;\r\n    \t\r\n    \tprivate final Logger log=(java.util.logging.Logger) LoggerFactory.getLogger(ducontroller.class);\r\n    \t\r\n    \t\r\n    \t@RequestMapping(&quot;/dunames&quot;)\r\n    \tpublic List&lt;duname&gt; getAlldu()\r\n    \t{\r\n    \t\t  log.info(&quot;Starting&quot;);\r\n    \treturn duService.getAlldu();\r\n        }\r\n    \t\r\n    \t@RequestMapping(&quot;/duname/{id}&quot;)\r\n    \tpublic duname getdu(@PathVariable int id)\r\n    \t{\r\n    \t\treturn duService.getDu(id);\r\n    \t}\r\n    \t\r\n    \t@RequestMapping(method=RequestMethod.POST,value=&quot;/dunames&quot;)\r\n    \tpublic void addDuname(@RequestBody duname dunames)\r\n    \t{\r\n    \t\tduService.addDu(dunames);\r\n    \t}\r\n    \t\r\n\r\n**Repository:** \r\n\r\n    public interface durepo extends CrudRepository&lt;duname,Integer&gt; {\r\n    \r\n    \t\r\n    }\r\n\r\n\r\n**Main Class:**\r\n\r\n   \r\n\r\n     @SpringBootApplication\r\n    public class DuaddApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(DuaddApplication.class, args);\r\n    \t}\r\n    }\r\n\r\n**Pom File:**\r\n\r\n   \r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.du&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;duadd&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;duadd&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.5.8.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t\r\n    \t\t\t&lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.3.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;1.8&lt;/source&gt;\r\n                        &lt;target&gt;1.8&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n    \t\t\t\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n\r\n**Application Properties:**\r\n\r\n   \r\n\r\n    spring.datasource.url=jdbc:postgresql://localhost:2280/todo\r\n    spring.datasource.username=test\r\n    spring.datasource.password=test\r\n    spring.jpa.generate-ddl=true\r\n    server.port=8080 \r\n\r\n\r\n Some console output:\r\n\r\n \r\n\r\n    2017-10-26 11:06:08.952  INFO 4552 --- [           main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)\r\n    2017-10-26 11:06:08.975  INFO 4552 --- [           main] com.soprasteria.du.DuaddApplication      : Started DuaddApplication in 7.096 seconds (JVM running for 7.633)\r\n    2017-10-26 11:06:32.779  INFO 4552 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet &#39;dispatcherServlet&#39;\r\n    2017-10-26 11:06:32.779  INFO 4552 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet &#39;dispatcherServlet&#39;: initialization started\r\n    2017-10-26 11:06:32.800  INFO 4552 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet &#39;dispatcherServlet&#39;: initialization completed in 21 ms\r\n\r\n\r\n","title":"404-not-found-while-running-spring-boot-rest-api","body":"<p>While running springboot restservice application got 404 error.  I am using spring boot, jersey rest. I have tried GET requests <em><code>http://localhost:8080/dunames</code></em> but not able to resolve. Please help.  </p>\n\n<p><strong>Model Class:</strong></p>\n\n<pre><code>@Entity\n@Table(name = \"du\")\npublic class duname {\n\n\n    private String duname;\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int id; \n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public duname()\n    {\n\n    }\n\n    public duname(String duname, int id)\n    {\n    this.duname=duname; \n    this.id=id;\n    }\n\n\n    public String getDuname() {\n        return duname;\n    }\n\n    public void setDuname(String duname) {\n        this.duname = duname;\n    }\n}\n</code></pre>\n\n<p><strong>Service Class:</strong> </p>\n\n<pre><code>public class duservice {\n\n    @Autowired\n    private durepo durepository;\n\n    public List&lt;duname&gt; getAlldu()\n    {\n        List&lt;duname&gt; dunames=new ArrayList&lt;duname&gt;();\n        durepository.findAll()\n        .forEach(dunames::add);\n        return dunames;\n    }\n\n    public void addDu(duname dunames)\n    {\n        durepository.save(dunames);\n    }\n\n    public duname getDu(int id)\n    {\n        return durepository.findOne(id);\n    }\n\n    public void deleteDu(int id)\n    {\n        durepository.delete(id);\n    }\n\n    public void updateDu(int id, duname dunames)\n    {\n        durepository.save(dunames);\n    }\n}\n</code></pre>\n\n<p><strong>Controller class:</strong></p>\n\n<pre><code>    @RestController\npublic class ducontroller {\n\n\n    @Autowired\n    private duservice duService;\n\n    private final Logger log=(java.util.logging.Logger) LoggerFactory.getLogger(ducontroller.class);\n\n\n    @RequestMapping(\"/dunames\")\n    public List&lt;duname&gt; getAlldu()\n    {\n          log.info(\"Starting\");\n    return duService.getAlldu();\n    }\n\n    @RequestMapping(\"/duname/{id}\")\n    public duname getdu(@PathVariable int id)\n    {\n        return duService.getDu(id);\n    }\n\n    @RequestMapping(method=RequestMethod.POST,value=\"/dunames\")\n    public void addDuname(@RequestBody duname dunames)\n    {\n        duService.addDu(dunames);\n    }\n</code></pre>\n\n<p><strong>Repository:</strong> </p>\n\n<pre><code>public interface durepo extends CrudRepository&lt;duname,Integer&gt; {\n\n\n}\n</code></pre>\n\n<p><strong>Main Class:</strong></p>\n\n<pre><code> @SpringBootApplication\npublic class DuaddApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DuaddApplication.class, args);\n    }\n}\n</code></pre>\n\n<p><strong>Pom File:</strong></p>\n\n<pre><code> &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.du&lt;/groupId&gt;\n    &lt;artifactId&gt;duadd&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;duadd&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.5.8.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.3.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n\n<p><strong>Application Properties:</strong></p>\n\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:2280/todo\nspring.datasource.username=test\nspring.datasource.password=test\nspring.jpa.generate-ddl=true\nserver.port=8080 \n</code></pre>\n\n<p>Some console output:</p>\n\n<pre><code>2017-10-26 11:06:08.952  INFO 4552 --- [           main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)\n2017-10-26 11:06:08.975  INFO 4552 --- [           main] com.soprasteria.du.DuaddApplication      : Started DuaddApplication in 7.096 seconds (JVM running for 7.633)\n2017-10-26 11:06:32.779  INFO 4552 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'\n2017-10-26 11:06:32.779  INFO 4552 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started\n2017-10-26 11:06:32.800  INFO 4552 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 21 ms\n</code></pre>\n"},{"tags":["java","serialization","hashmap","deserialization"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1683185014,"post_id":76170442,"comment_id":134328266,"body_markdown":"What does `safelyCastObjectToHashMap` do? And isn&#39;t it an option to replace your custom `Date` class with `LocalDate`?","body":"What does <code>safelyCastObjectToHashMap</code> do? And isn&#39;t it an option to replace your custom <code>Date</code> class with <code>LocalDate</code>?"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1683185532,"post_id":76170442,"comment_id":134328367,"body_markdown":"[mcve] please .. btw: this is unrelated to javafx","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .. btw: this is unrelated to javafx"},{"owner":{"account_id":19551662,"reputation":33,"user_id":14307115,"display_name":"Yoni"},"score":0,"creation_date":1683186153,"post_id":76170442,"comment_id":134328494,"body_markdown":"@RobSpoor it basically just cast an `Object` to a `HashMap&lt;Date, String&gt;` using @SuppressWarnings(&quot;unchecked&quot;), because IntelliJ yelled at me that my code isn&#39;t clean.\n\n\nAnd @kleopatra thank you for helping me describe my problem in a better way ^^","body":"@RobSpoor it basically just cast an <code>Object</code> to a <code>HashMap&lt;Date, String&gt;</code> using @SuppressWarnings(&quot;unchecked&quot;), because IntelliJ yelled at me that my code isn&#39;t clean.   And @kleopatra thank you for helping me describe my problem in a better way ^^"},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1683186549,"post_id":76170442,"comment_id":134328566,"body_markdown":"@Yoni in order for people to help you to find the issue, a [mre] is almost necessary here, since otherwise we cannot tell what goes wrong and where, since we don&#39;t have the full picture. So try to extract only the needed code for the (de-)serialization and your data classes into a seperate runnable project and provide it here.","body":"@Yoni in order for people to help you to find the issue, a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> is almost necessary here, since otherwise we cannot tell what goes wrong and where, since we don&#39;t have the full picture. So try to extract only the needed code for the (de-)serialization and your data classes into a seperate runnable project and provide it here."},{"owner":{"account_id":19551662,"reputation":33,"user_id":14307115,"display_name":"Yoni"},"score":0,"creation_date":1683186857,"post_id":76170442,"comment_id":134328652,"body_markdown":"@maloomeister what&#39;s missing?\nI&#39;ve described the HashMap and File being static, handled using simple `put` and JavaFX&#39;s `FileChooser`, and I provided the serialization and deserialization methods... the rest is unimportant JavaFX code... or is it? Please tell me if you need anything specific that I didn&#39;t provide","body":"@maloomeister what&#39;s missing? I&#39;ve described the HashMap and File being static, handled using simple <code>put</code> and JavaFX&#39;s <code>FileChooser</code>, and I provided the serialization and deserialization methods... the rest is unimportant JavaFX code... or is it? Please tell me if you need anything specific that I didn&#39;t provide"},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1683187048,"post_id":76170442,"comment_id":134328694,"body_markdown":"@Yoni I&#39;m currently not able to simply copy your provided code and simply run it myself. Please take a quick minute to read the information about what a [mre] is and ideally provide one afterwards.","body":"@Yoni I&#39;m currently not able to simply copy your provided code and simply run it myself. Please take a quick minute to read the information about what a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> is and ideally provide one afterwards."},{"owner":{"account_id":19551662,"reputation":33,"user_id":14307115,"display_name":"Yoni"},"score":0,"creation_date":1683187260,"post_id":76170442,"comment_id":134328729,"body_markdown":"@maloomeister I&#39;ve read it (thank you both btw for providing this post), I still don&#39;t understand what specific information is missing. Will it help if I upload it to GitHub so anyone can pull it and reproduce the problem on their machine?","body":"@maloomeister I&#39;ve read it (thank you both btw for providing this post), I still don&#39;t understand what specific information is missing. Will it help if I upload it to GitHub so anyone can pull it and reproduce the problem on their machine?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1683187510,"post_id":76170442,"comment_id":134328779,"body_markdown":"@Yoni there’s a lot missing: field definitions in Date, the class that surrounds loadNotebook and saveNotebook, something that creates the HashMap and calls them. If the problem is with serialization of your Date class, you should be able to reproduce the problem by serializing and deserializing just a Date without needing a HashMap.","body":"@Yoni there’s a lot missing: field definitions in Date, the class that surrounds loadNotebook and saveNotebook, something that creates the HashMap and calls them. If the problem is with serialization of your Date class, you should be able to reproduce the problem by serializing and deserializing just a Date without needing a HashMap."},{"owner":{"account_id":19551662,"reputation":33,"user_id":14307115,"display_name":"Yoni"},"score":0,"creation_date":1683187691,"post_id":76170442,"comment_id":134328824,"body_markdown":"@TimMoore alright thank you, since this is much code I&#39;ll later on upload it to GitHub and post the link in here.","body":"@TimMoore alright thank you, since this is much code I&#39;ll later on upload it to GitHub and post the link in here."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1683188639,"post_id":76170442,"comment_id":134329038,"body_markdown":"@Yoni sorry, no that’s not the right way to use this site. Please read what others are asking for and put the _minimum_ code that _reproduces the problem_ into the question text. This might require making a new test project to strip the code down to the minimum. Yes, that requires some work, but right now you’re essentially asking other people to do that work for you. Often, the process of doing this will help you work out what the problem is on your own.","body":"@Yoni sorry, no that’s not the right way to use this site. Please read what others are asking for and put the <i>minimum</i> code that <i>reproduces the problem</i> into the question text. This might require making a new test project to strip the code down to the minimum. Yes, that requires some work, but right now you’re essentially asking other people to do that work for you. Often, the process of doing this will help you work out what the problem is on your own."},{"owner":{"account_id":19551662,"reputation":33,"user_id":14307115,"display_name":"Yoni"},"score":0,"creation_date":1683190109,"post_id":76170442,"comment_id":134329373,"body_markdown":"@TimMoore I&#39;m sorry, but I don&#39;t understand :(\nI was being told 3 times to read the [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example), but you&#39;re request contradicts this post because in order to reproduce my issue, you need my entire project - including JavaFX&#39;s logic.\n\nNow, after this being said, I can say that I&#39;ve just found the error, and it was indeed related to the way I extracted the `Date` from my `ComboBox`es. But the main topic right now is not the problem, rather than what I&#39;ve learned from it - because I&#39;m not sure was have I learned...","body":"@TimMoore I&#39;m sorry, but I don&#39;t understand :( I was being told 3 times to read the <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, but you&#39;re request contradicts this post because in order to reproduce my issue, you need my entire project - including JavaFX&#39;s logic.  Now, after this being said, I can say that I&#39;ve just found the error, and it was indeed related to the way I extracted the <code>Date</code> from my <code>ComboBox</code>es. But the main topic right now is not the problem, rather than what I&#39;ve learned from it - because I&#39;m not sure was have I learned..."},{"owner":{"account_id":19551662,"reputation":33,"user_id":14307115,"display_name":"Yoni"},"score":0,"creation_date":1683190334,"post_id":76170442,"comment_id":134329428,"body_markdown":"To be more precise, was I supposed to add the JavaFX code as well?\nOr, a more important question, was I supposed to ask you &quot;is my code right&quot; rather than &quot;what&#39;s the problem&quot;?\n\nI want to understand better how to describe my issues in order to be a better StackOverflow user, and that might just be the point - I was actually asking &quot;hey I&#39;m new to Java, is there some serialization step I missed?&quot;, and if the answer was &quot;no&quot; than I&#39;d know to look somewhere else (in the JavaFX code).\n\nSo, what do you think about that? Should have I asked &quot;is this code right&quot;?","body":"To be more precise, was I supposed to add the JavaFX code as well? Or, a more important question, was I supposed to ask you &quot;is my code right&quot; rather than &quot;what&#39;s the problem&quot;?  I want to understand better how to describe my issues in order to be a better StackOverflow user, and that might just be the point - I was actually asking &quot;hey I&#39;m new to Java, is there some serialization step I missed?&quot;, and if the answer was &quot;no&quot; than I&#39;d know to look somewhere else (in the JavaFX code).  So, what do you think about that? Should have I asked &quot;is this code right&quot;?"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1683191318,"post_id":76170442,"comment_id":134329654,"body_markdown":"you suspect that the problem is de/serialization: so you write a [mcve] doing nothing but de/serialize (with a in-memory InputStream  f.i.). Exhibiting the problem? debug and fix - if you can&#39;t, use that example in a question. Not exhibiting the problem? your assumption was wrong. Look elsewhere: suspect the combo? write a [mcve] demonstrating the problem (no de/serialization, just your plain data objects) .. and so on :) The idea is divide-and-conquer, reduce complexity, separate concerns to get to the real reason and enable a solution, by you or others","body":"you suspect that the problem is de/serialization: so you write a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> doing nothing but de/serialize (with a in-memory InputStream  f.i.). Exhibiting the problem? debug and fix - if you can&#39;t, use that example in a question. Not exhibiting the problem? your assumption was wrong. Look elsewhere: suspect the combo? write a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the problem (no de/serialization, just your plain data objects) .. and so on :) The idea is divide-and-conquer, reduce complexity, separate concerns to get to the real reason and enable a solution, by you or others"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1683191401,"post_id":76170442,"comment_id":134329677,"body_markdown":"To your answer &quot;was I supposed to add the JavaFX code as well?&quot;: *we don&#39;t know*. That&#39;s why **you** have to try to strip down your problem to the smallest possible thing that can demonstrate what&#39;s wrong. If removing the JavaFX code makes the problem go away, then you might have to keep at least some of it. If you remove that code and the problem persists (i.e. you can still demonstrate it some other way) then you *don&#39;t* need the JavaFX code. That process is a fundamental skill for honing in on what the exact problem is that you&#39;ll need over and over again, not just for asking SO questions.","body":"To your answer &quot;was I supposed to add the JavaFX code as well?&quot;: <i>we don&#39;t know</i>. That&#39;s why <b>you</b> have to try to strip down your problem to the smallest possible thing that can demonstrate what&#39;s wrong. If removing the JavaFX code makes the problem go away, then you might have to keep at least some of it. If you remove that code and the problem persists (i.e. you can still demonstrate it some other way) then you <i>don&#39;t</i> need the JavaFX code. That process is a fundamental skill for honing in on what the exact problem is that you&#39;ll need over and over again, not just for asking SO questions."},{"owner":{"account_id":19551662,"reputation":33,"user_id":14307115,"display_name":"Yoni"},"score":0,"creation_date":1683194431,"post_id":76170442,"comment_id":134330394,"body_markdown":"Alrighty then, thank you all for helping me with this issue and with describing me problem, I&#39;ll try to do better next time :)","body":"Alrighty then, thank you all for helping me with this issue and with describing me problem, I&#39;ll try to do better next time :)"}],"owner":{"account_id":19551662,"reputation":33,"user_id":14307115,"display_name":"Yoni"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1683190860,"creation_date":1683184126,"question_id":76170442,"body_markdown":"# Edit:\r\nI found the problem, it was related to the way I extracted the `Date` from my JavaFX `ComboBox`es, and to the fact that Java&#39;s `HashMap` stores keys and values *by reference* and not *by value*.\r\nThanks for everyone who help me during the process ^^\r\n\r\n---\r\n\r\n# Overview\r\nI&#39;m writing a simple JavaFX exercise to represent a notebook.\r\nEach note has a date, and is represented by a String, so the notebook is actually a `HashMap&lt;Date, String&gt;`, where the `Date` is my own written hashable and serializable class. The notebook should be written to a file and loaded from a file as needed (I&#39;m using `FileChooser` for this methodology).\r\n\r\n# My problem\r\nThe problem is that I can write a notebook to a file, and immediately read a notebook from the same file, but the **deserialized HashMap is incomplete**, and also some notes are appear in the **wrong date**.\r\n\r\n# My steps to try and solve the problem\r\n1. I know that `HashMap` and `String` implement Serializable, so all left is to make `Date` serializable as well; Below is the class&#39; code (without c&#39;tor and getters / setters):\r\n```java\r\npublic class Date implements Serializable {\r\n//    private static final long serialVersionUID = 1L;\r\n    \r\n    public boolean equals(Object other) {\r\n        if (!(other instanceof Date date))\r\n            return false;\r\n        return day == date.day &amp;&amp; month == date.month &amp;&amp; year == date.year;\r\n    }\r\n    \r\n    public int hashCode() {\r\n        return Objects.hash(day, month, year);\r\n    }\r\n    \r\n    public String toString() {\r\n        return String.format(&quot;%02d/%02d/%04d&quot;, day, month, year);\r\n    }\r\n}\r\n\r\n```\r\n\r\n2. After making sure my `HashMap&lt;Date, String&gt;` is serializable, it&#39;s time to read and write from/to it:\r\n```\r\npublic static void loadNotebook(File file) {\r\n        currentFile = file;\r\n\r\n        try (FileInputStream fis = new FileInputStream(file);\r\n             ObjectInputStream ois = new ObjectInputStream(fis)) {\r\n            Object deserializedObject = ois.readObject();\r\n            if (deserializedObject instanceof HashMap) {\r\n                currentNotebook = safelyCastObjectToHashMap(deserializedObject);\r\n                System.out.println(&quot;Total notes loaded: &quot; + currentNotebook.size());\r\n                return;\r\n            }\r\n        } catch (IOException | ClassNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n\r\n    public static boolean saveNotebook() {\r\n        try (FileOutputStream fos = new FileOutputStream(currentFile);\r\n             ObjectOutputStream oos = new ObjectOutputStream(fos)) {\r\n            oos.writeObject(currentNotebook);\r\n            System.out.println(&quot;Total notes saved: &quot; + currentNotebook.size());\r\n            return true;\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            return false;\r\n        }\r\n    }\r\n```\r\n\r\n&gt; It&#39;s worth mentioning that `currentFile` is a static `File` instance, and `currentNotebook` is a static `HashMap&lt;Date, String&gt;`. I&#39;ve decided to use `static` methodology as for there&#39;s only *one* notebook read and written to at any given time during the run of the application.\r\n\r\n3. As can be seen in the code above, I&#39;ve also logged some *debugging information* to better understand my problem; Every time I load/save a file, I also write how many notes where written from/to the file. In order to debug this issue, I&#39;ve added three notes to the notebook, saved it to a file (called `saveNotebook`), and then immediately read from the same file (used `FileChooser` to choose the same file and called `loadNotebook`. The results where surprising:\r\n```\r\nTotal notes saved: 3\r\nTotal notes loaded: 1\r\n```\r\n\r\n&gt; It&#39;s worth mentioning that adding each note is just calling `currentNotebook.put(key, value)` with the user provided date and string. The *&quot;Total notes saved&quot;* debugging log holds the correct amount of notes in the notebook, so I don&#39;t believe that&#39;s what causing the problem.\r\n\r\n---\r\n\r\n# Summary\r\nSo... any ideas what&#39;s causing the problem? Is there something obvious I missed the whole time?\r\nAny help would be greatly appreciated, both with helping me solve the problem and with helping me describe the problem better if I can :)\r\n\r\nI tried the whole steps above, I expected the `HashMap` to hold the same information after serialized and deserialized, but it had actually less information, and some of it was wrong (values that belonged to the wrong keys).","title":"Java deserialization gone wrong","body":"<h1>Edit:</h1>\n<p>I found the problem, it was related to the way I extracted the <code>Date</code> from my JavaFX <code>ComboBox</code>es, and to the fact that Java's <code>HashMap</code> stores keys and values <em>by reference</em> and not <em>by value</em>.\nThanks for everyone who help me during the process ^^</p>\n<hr />\n<h1>Overview</h1>\n<p>I'm writing a simple JavaFX exercise to represent a notebook.\nEach note has a date, and is represented by a String, so the notebook is actually a <code>HashMap&lt;Date, String&gt;</code>, where the <code>Date</code> is my own written hashable and serializable class. The notebook should be written to a file and loaded from a file as needed (I'm using <code>FileChooser</code> for this methodology).</p>\n<h1>My problem</h1>\n<p>The problem is that I can write a notebook to a file, and immediately read a notebook from the same file, but the <strong>deserialized HashMap is incomplete</strong>, and also some notes are appear in the <strong>wrong date</strong>.</p>\n<h1>My steps to try and solve the problem</h1>\n<ol>\n<li>I know that <code>HashMap</code> and <code>String</code> implement Serializable, so all left is to make <code>Date</code> serializable as well; Below is the class' code (without c'tor and getters / setters):</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public class Date implements Serializable {\n//    private static final long serialVersionUID = 1L;\n    \n    public boolean equals(Object other) {\n        if (!(other instanceof Date date))\n            return false;\n        return day == date.day &amp;&amp; month == date.month &amp;&amp; year == date.year;\n    }\n    \n    public int hashCode() {\n        return Objects.hash(day, month, year);\n    }\n    \n    public String toString() {\n        return String.format(&quot;%02d/%02d/%04d&quot;, day, month, year);\n    }\n}\n\n</code></pre>\n<ol start=\"2\">\n<li>After making sure my <code>HashMap&lt;Date, String&gt;</code> is serializable, it's time to read and write from/to it:</li>\n</ol>\n<pre><code>public static void loadNotebook(File file) {\n        currentFile = file;\n\n        try (FileInputStream fis = new FileInputStream(file);\n             ObjectInputStream ois = new ObjectInputStream(fis)) {\n            Object deserializedObject = ois.readObject();\n            if (deserializedObject instanceof HashMap) {\n                currentNotebook = safelyCastObjectToHashMap(deserializedObject);\n                System.out.println(&quot;Total notes loaded: &quot; + currentNotebook.size());\n                return;\n            }\n        } catch (IOException | ClassNotFoundException e) {\n            e.printStackTrace();\n        }\n    }\n\n\n    public static boolean saveNotebook() {\n        try (FileOutputStream fos = new FileOutputStream(currentFile);\n             ObjectOutputStream oos = new ObjectOutputStream(fos)) {\n            oos.writeObject(currentNotebook);\n            System.out.println(&quot;Total notes saved: &quot; + currentNotebook.size());\n            return true;\n        } catch (IOException e) {\n            e.printStackTrace();\n            return false;\n        }\n    }\n</code></pre>\n<blockquote>\n<p>It's worth mentioning that <code>currentFile</code> is a static <code>File</code> instance, and <code>currentNotebook</code> is a static <code>HashMap&lt;Date, String&gt;</code>. I've decided to use <code>static</code> methodology as for there's only <em>one</em> notebook read and written to at any given time during the run of the application.</p>\n</blockquote>\n<ol start=\"3\">\n<li>As can be seen in the code above, I've also logged some <em>debugging information</em> to better understand my problem; Every time I load/save a file, I also write how many notes where written from/to the file. In order to debug this issue, I've added three notes to the notebook, saved it to a file (called <code>saveNotebook</code>), and then immediately read from the same file (used <code>FileChooser</code> to choose the same file and called <code>loadNotebook</code>. The results where surprising:</li>\n</ol>\n<pre><code>Total notes saved: 3\nTotal notes loaded: 1\n</code></pre>\n<blockquote>\n<p>It's worth mentioning that adding each note is just calling <code>currentNotebook.put(key, value)</code> with the user provided date and string. The <em>&quot;Total notes saved&quot;</em> debugging log holds the correct amount of notes in the notebook, so I don't believe that's what causing the problem.</p>\n</blockquote>\n<hr />\n<h1>Summary</h1>\n<p>So... any ideas what's causing the problem? Is there something obvious I missed the whole time?\nAny help would be greatly appreciated, both with helping me solve the problem and with helping me describe the problem better if I can :)</p>\n<p>I tried the whole steps above, I expected the <code>HashMap</code> to hold the same information after serialized and deserialized, but it had actually less information, and some of it was wrong (values that belonged to the wrong keys).</p>\n"},{"tags":["java","eclipse","compilation","javac"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1486049356,"post_id":939194,"comment_id":71188166,"body_markdown":"[This tutorial](https://docs.oracle.com/javase/tutorial/reflect/member/methodparameterreflection.html) about the compiler option `-parameters` is *at least* applicable to Java 8.","body":"<a href=\"https://docs.oracle.com/javase/tutorial/reflect/member/methodparameterreflection.html\" rel=\"nofollow noreferrer\">This tutorial</a> about the compiler option <code>-parameters</code> is <i>at least</i> applicable to Java 8."},{"owner":{"account_id":21346018,"reputation":91,"user_id":15716074,"display_name":"SRI HARSHA S V S"},"score":0,"creation_date":1684392065,"post_id":939194,"comment_id":134512064,"body_markdown":"Is there a solution for the interfaces?","body":"Is there a solution for the interfaces?"}],"answers":[{"tags":[],"owner":{"account_id":36493,"reputation":11667,"user_id":104117,"accept_rate":89,"display_name":"Valentin Rocher"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1243945054,"creation_date":1243945054,"answer_id":939201,"question_id":939194,"body_markdown":"You don&#39;t specially need the source to make arg names appear in Eclipse...If you specify the Javadoc, Eclipse will display the args.","title":"Preserving parameter/argument names in compiled Java classes","body":"<p>You don't specially need the source to make arg names appear in Eclipse...If you specify the Javadoc, Eclipse will display the args.</p>\n"},{"tags":[],"owner":{"account_id":20562,"reputation":55673,"user_id":49246,"accept_rate":73,"display_name":"starblue"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1243945570,"creation_date":1243945570,"answer_id":939234,"question_id":939194,"body_markdown":"It might help to compile with debug support, which stores all names in the .class file.\r\n\r\nthough I don&#39;t know whether Eclipse takes that into account.","title":"Preserving parameter/argument names in compiled Java classes","body":"<p>It might help to compile with debug support, which stores all names in the .class file.</p>\n\n<p>though I don't know whether Eclipse takes that into account.</p>\n"},{"tags":[],"owner":{"account_id":15903,"reputation":323433,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1243945934,"creation_date":1243945934,"answer_id":939255,"question_id":939194,"body_markdown":"Eclipse will pick up the names of arguments if you include debug information in the class file: `javac -g:vars` should be enough.","title":"Preserving parameter/argument names in compiled Java classes","body":"<p>Eclipse will pick up the names of arguments if you include debug information in the class file: <code>javac -g:vars</code> should be enough.</p>\n"},{"tags":[],"owner":{"account_id":38567,"reputation":131,"user_id":110778,"display_name":"MESLewis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1243945972,"creation_date":1243945972,"answer_id":939256,"question_id":939194,"body_markdown":"You don&#39;t need a separate Javadoc file you can create &#39;inline&#39; javadocs in Eclipse using a special comment with two asterisks(*) after the first slash of a multi-line comment.\r\n\r\nexample code:\r\n\r\n       public class MyClass\r\n    {\r\n     /**\r\n      * documentation of your method\r\n      * \r\n      * @param name    a String describing the name\r\n      * @param options used to describe current option\r\n      * @param query\r\n      * @param comment\r\n      * @return void\r\n      */\r\n        void myMethod(String name, String options, String query, String comment)\r\n        {\r\n            ...\r\n        }\r\n    }\r\n\r\n","title":"Preserving parameter/argument names in compiled Java classes","body":"<p>You don't need a separate Javadoc file you can create 'inline' javadocs in Eclipse using a special comment with two asterisks(*) after the first slash of a multi-line comment.</p>\n\n<p>example code:</p>\n\n<pre><code>   public class MyClass\n{\n /**\n  * documentation of your method\n  * \n  * @param name    a String describing the name\n  * @param options used to describe current option\n  * @param query\n  * @param comment\n  * @return void\n  */\n    void myMethod(String name, String options, String query, String comment)\n    {\n        ...\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15075,"reputation":27761,"user_id":31480,"accept_rate":71,"display_name":"Gareth Davis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1243948538,"creation_date":1243946733,"answer_id":939296,"question_id":939194,"body_markdown":"There is no support in the class file data structure for storing the parameter names to any method, no matter what javac options you use. \r\n\r\nIn order to see the original names in an IDE you have to supply them with either the javadoc or the source.\r\n\r\nIf you have a particular need to get at them at runtime it is possible to add annotations to parameters, but you&#39;ll have to create your own as there isn&#39;t a standard set to use.\r\n\r\nSorry can&#39;t be more helpful\r\n\r\n**EDIT**: \r\nI stand completely corrected...the class file format does clearly have space for named parameters ([JLS 4.7][1])\r\n\r\nWhat I can&#39;t see is how the hell you can get at them using `java.lang.reflect.*`\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/jvms/second_edition/html/ClassFile.doc.html#43817","title":"Preserving parameter/argument names in compiled Java classes","body":"<p>There is no support in the class file data structure for storing the parameter names to any method, no matter what javac options you use. </p>\n\n<p>In order to see the original names in an IDE you have to supply them with either the javadoc or the source.</p>\n\n<p>If you have a particular need to get at them at runtime it is possible to add annotations to parameters, but you'll have to create your own as there isn't a standard set to use.</p>\n\n<p>Sorry can't be more helpful</p>\n\n<p><strong>EDIT</strong>: \nI stand completely corrected...the class file format does clearly have space for named parameters (<a href=\"http://java.sun.com/docs/books/jvms/second_edition/html/ClassFile.doc.html#43817\" rel=\"nofollow noreferrer\">JLS 4.7</a>)</p>\n\n<p>What I can't see is how the hell you can get at them using <code>java.lang.reflect.*</code></p>\n"},{"tags":[],"owner":{"account_id":28874,"reputation":12117,"user_id":2352432,"accept_rate":74,"display_name":"Pool"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1243950300,"creation_date":1243948624,"answer_id":939451,"question_id":939194,"body_markdown":"To preserve names in the class file for debugging purposes try project properties, Java compiler, then &quot;Add variable attributes to generated class files&quot; (See &lt;a href=&quot;http://help.eclipse.org/help33/index.jsp?topic=/org.eclipse.jdt.doc.user/reference/ref-preferences-compiler.htm&quot;&gt;Eclipse Help&lt;/a&gt;).\r\n\r\n\r\nCompiling the following source:\r\n\r\n    public class StackOverflowTest {\r\n        public void test(String foo, String bar) {\r\n            // blah\r\n        }\r\n    }\r\n\r\n\r\nIs decompiled into:\r\n\r\n    // Compiled from StackOverflowTest.java (version 1.5 : 49.0, super bit)\r\n    public class StackOverflowTest {\r\n  \r\n        // Method descriptor #6 ()V\r\n        // Stack: 1, Locals: 1\r\n        public StackOverflowTest();\r\n            0  aload_0 [this]\r\n            1  invokespecial java.lang.Object() [8]\r\n            4  return\r\n            Line numbers:\r\n                [pc: 0, line: 1]\r\n            Local variable table:\r\n                [pc: 0, pc: 5] local: this index: 0 type: StackOverflowTest\r\n  \r\n        // Method descriptor #15 (Ljava/lang/String;Ljava/lang/String;)V\r\n        // Stack: 0, Locals: 3\r\n        public void test(java.lang.String foo, java.lang.String bar);\r\n            0  return\r\n            Line numbers:\r\n                [pc: 0, line: 4]\r\n            Local variable table:\r\n                [pc: 0, pc: 1] local: this index: 0 type: StackOverflowTest\r\n                [pc: 0, pc: 1] local: foo index: 1 type: java.lang.String\r\n                [pc: 0, pc: 1] local: bar index: 2 type: java.lang.String\r\n    }\r\n\r\nSee the parameter names are preserved in the class files.\r\n\r\nI would suggest you look into how your source is being compiled, which version it is compiled for etc.\r\n\r\n**EDIT:**\r\n\r\nAh, I see this is different for interfaces - they don&#39;t seem to have this information available for the debugger which I guess makes sense. I don&#39;t think there&#39;ll be a way round this, if you just want to see the parameter names when you&#39;re editing source you&#39;ll need to go the javadoc route as Nagrom_17 suggests (attach the source).","title":"Preserving parameter/argument names in compiled Java classes","body":"<p>To preserve names in the class file for debugging purposes try project properties, Java compiler, then \"Add variable attributes to generated class files\" (See <a href=\"http://help.eclipse.org/help33/index.jsp?topic=/org.eclipse.jdt.doc.user/reference/ref-preferences-compiler.htm\" rel=\"noreferrer\">Eclipse Help</a>).</p>\n\n<p>Compiling the following source:</p>\n\n<pre><code>public class StackOverflowTest {\n    public void test(String foo, String bar) {\n        // blah\n    }\n}\n</code></pre>\n\n<p>Is decompiled into:</p>\n\n<pre><code>// Compiled from StackOverflowTest.java (version 1.5 : 49.0, super bit)\npublic class StackOverflowTest {\n\n    // Method descriptor #6 ()V\n    // Stack: 1, Locals: 1\n    public StackOverflowTest();\n        0  aload_0 [this]\n        1  invokespecial java.lang.Object() [8]\n        4  return\n        Line numbers:\n            [pc: 0, line: 1]\n        Local variable table:\n            [pc: 0, pc: 5] local: this index: 0 type: StackOverflowTest\n\n    // Method descriptor #15 (Ljava/lang/String;Ljava/lang/String;)V\n    // Stack: 0, Locals: 3\n    public void test(java.lang.String foo, java.lang.String bar);\n        0  return\n        Line numbers:\n            [pc: 0, line: 4]\n        Local variable table:\n            [pc: 0, pc: 1] local: this index: 0 type: StackOverflowTest\n            [pc: 0, pc: 1] local: foo index: 1 type: java.lang.String\n            [pc: 0, pc: 1] local: bar index: 2 type: java.lang.String\n}\n</code></pre>\n\n<p>See the parameter names are preserved in the class files.</p>\n\n<p>I would suggest you look into how your source is being compiled, which version it is compiled for etc.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Ah, I see this is different for interfaces - they don't seem to have this information available for the debugger which I guess makes sense. I don't think there'll be a way round this, if you just want to see the parameter names when you're editing source you'll need to go the javadoc route as Nagrom_17 suggests (attach the source).</p>\n"}],"owner":{"account_id":17713,"reputation":7223,"user_id":39946,"accept_rate":53,"display_name":"Lena Schimmel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19979,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":939451,"answer_count":6,"score":22,"last_activity_date":1683190784,"creation_date":1243944869,"question_id":939194,"body_markdown":"When I compile something like this:\r\n\r\n    public class MyClass\r\n    {\r\n    \tvoid myMethod(String name, String options, String query, String comment)\r\n    \t{\r\n    \t\t...\r\n    \t}\r\n    }\r\n\r\nand compile this to a class file, it seems that argument names are lost. That is, when some other Java code references `MyClass` and wants to call or overwrite `myMethod`, my IDE (currently Eclipse) seems to get this method signature from the class-file:\r\n\r\n    void myMethod(String arg0, String arg1, String arg2, String arg3);\r\n\r\nI know that Eclipse (and possibly other IDEs too) allows me to provide a link to the source or the Javadoc *(as Bishiboosh pointed out)* of `MyClass` and can take advantage of this. But I&#39;m curious if there is some way to tell `javac` to include the names into the class-file, so that users of that class can see the argument names even if they only have the class file.\r\n\r\nSolution for classes\r\n----\r\nWhen I compile a class with `java -g:vars`, the names of parameters are included in the class file. `-g:vars` seems to be equivalent to *Eclipse -&gt; project properties -&gt; Java compiler -&gt; Add variable attributes to generated class files*. \r\n\r\nThis solution was suggested by several authors, but the answer from Nick finally made me believe.\r\n\r\nOn my machine, Eclipse sometimes used this info, sometimes it didn&#39;t, which was probably my fault or a bug in Eclipse, but not a problem with the class files or the compiler. Anyway, now I know that the information is definitely present.\r\n\r\nBut no solution for interfaces\r\n----\r\nWhile this works (kind of) fine for classes, it&#39;s not working for interfaces. \r\n\r\nFor me, the logical reason seems to be, that `-g:vars` only provides the names of local variables, which is what the documentation for javac also states. In the body of a method, it&#39;s parameters are very similar to local variables, thus they are covered by `-g:vars`. interface methods don&#39;t have bodies, so they can&#39;t have local variables.\r\n\r\nMy initial question only asked for classes, because I was not aware that there might be any difference.\r\n\r\nClass file format\r\n----\r\nAs *gid* pointed out, the class file format does not support storage of parameter names. I found a [section in the class file spec][1] that describes a data structure which should hold the parameter names of methods, but this is definitely not used when compiling interfaces.\r\n\r\nWhen compiling a class, I can&#39;t tell if the mentioned data structure is used, or if Eclipse infers the parameter names from the usage of parameters inside the method body. An expert could clarify this, but it&#39;s not that relevant I think.\r\n\r\n  [1]: http://java.sun.com/docs/books/jvms/second_edition/html/ClassFile.doc.html#43817","title":"Preserving parameter/argument names in compiled Java classes","body":"<p>When I compile something like this:</p>\n<pre><code>public class MyClass\n{\n    void myMethod(String name, String options, String query, String comment)\n    {\n        ...\n    }\n}\n</code></pre>\n<p>and compile this to a class file, it seems that argument names are lost. That is, when some other Java code references <code>MyClass</code> and wants to call or overwrite <code>myMethod</code>, my IDE (currently Eclipse) seems to get this method signature from the class-file:</p>\n<pre><code>void myMethod(String arg0, String arg1, String arg2, String arg3);\n</code></pre>\n<p>I know that Eclipse (and possibly other IDEs too) allows me to provide a link to the source or the Javadoc <em>(as Bishiboosh pointed out)</em> of <code>MyClass</code> and can take advantage of this. But I'm curious if there is some way to tell <code>javac</code> to include the names into the class-file, so that users of that class can see the argument names even if they only have the class file.</p>\n<h2>Solution for classes</h2>\n<p>When I compile a class with <code>java -g:vars</code>, the names of parameters are included in the class file. <code>-g:vars</code> seems to be equivalent to <em>Eclipse -&gt; project properties -&gt; Java compiler -&gt; Add variable attributes to generated class files</em>.</p>\n<p>This solution was suggested by several authors, but the answer from Nick finally made me believe.</p>\n<p>On my machine, Eclipse sometimes used this info, sometimes it didn't, which was probably my fault or a bug in Eclipse, but not a problem with the class files or the compiler. Anyway, now I know that the information is definitely present.</p>\n<h2>But no solution for interfaces</h2>\n<p>While this works (kind of) fine for classes, it's not working for interfaces.</p>\n<p>For me, the logical reason seems to be, that <code>-g:vars</code> only provides the names of local variables, which is what the documentation for javac also states. In the body of a method, it's parameters are very similar to local variables, thus they are covered by <code>-g:vars</code>. interface methods don't have bodies, so they can't have local variables.</p>\n<p>My initial question only asked for classes, because I was not aware that there might be any difference.</p>\n<h2>Class file format</h2>\n<p>As <em>gid</em> pointed out, the class file format does not support storage of parameter names. I found a <a href=\"http://java.sun.com/docs/books/jvms/second_edition/html/ClassFile.doc.html#43817\" rel=\"nofollow noreferrer\">section in the class file spec</a> that describes a data structure which should hold the parameter names of methods, but this is definitely not used when compiling interfaces.</p>\n<p>When compiling a class, I can't tell if the mentioned data structure is used, or if Eclipse infers the parameter names from the usage of parameters inside the method body. An expert could clarify this, but it's not that relevant I think.</p>\n"},{"tags":["java","mobile","appium","adb","docker-container"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1665841296,"post_id":74071437,"comment_id":130795522,"body_markdown":"Do you execute `mvn clean test` also inside the container?","body":"Do you execute <code>mvn clean test</code> also inside the container?"},{"owner":{"account_id":19616103,"reputation":271,"user_id":14357543,"display_name":"Rozmaryn"},"score":0,"creation_date":1665847054,"post_id":74071437,"comment_id":130796773,"body_markdown":"Yes, in a container on the local computer.","body":"Yes, in a container on the local computer."}],"answers":[{"tags":[],"owner":{"account_id":19616103,"reputation":271,"user_id":14357543,"display_name":"Rozmaryn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666959821,"creation_date":1666959821,"answer_id":74235366,"question_id":74071437,"body_markdown":"Finally, I was able to do remote tests for one device.\r\nIn the driver code it is necessary to indicate the remote host, port and device.\r\n```\r\n UiAutomator2Options options = new UiAutomator2Options();\r\n [...]\r\n options.setRemoteAdbHost(&quot;10.38.223.243&quot;);\r\n options.setAdbPort(5038);\r\n options.setUdid(udid);\r\n```\r\n\r\nThis resolved the problem described in the question.\r\nHowever, this only works when one smartphone is connected to the remote server.\r\n\r\nWhen I run the same tests on the same phone, but several phones are connected to the remote server, I have the following error:\r\n```\r\n Original error: Error executing adbExec. Original error: &#39;Command \r\n&#39;/opt/android/platform-tools/adb -H 10.38.223.243 -P 5038 -s 8e410c3e forward \r\ntcp\\:8200 tcp\\:6790&#39; exited with code 1&#39;; \r\nCommand output: adb: error: more than one device/emulator\r\n```\r\n```\r\nadb devices\r\nList of devices attached\r\n8e410c3e        device     \r\nR58N12HEW3E     device     \r\nRZCT50M61JX     device  \r\n```\r\n\r\nEhh, so far I have no idea how to solve this.\r\n\r\n","title":"Mobile tests: java + appium container + remote adb server + real mobile devices","body":"<p>Finally, I was able to do remote tests for one device.\nIn the driver code it is necessary to indicate the remote host, port and device.</p>\n<pre><code> UiAutomator2Options options = new UiAutomator2Options();\n [...]\n options.setRemoteAdbHost(&quot;10.38.223.243&quot;);\n options.setAdbPort(5038);\n options.setUdid(udid);\n</code></pre>\n<p>This resolved the problem described in the question.\nHowever, this only works when one smartphone is connected to the remote server.</p>\n<p>When I run the same tests on the same phone, but several phones are connected to the remote server, I have the following error:</p>\n<pre><code> Original error: Error executing adbExec. Original error: 'Command \n'/opt/android/platform-tools/adb -H 10.38.223.243 -P 5038 -s 8e410c3e forward \ntcp\\:8200 tcp\\:6790' exited with code 1'; \nCommand output: adb: error: more than one device/emulator\n</code></pre>\n<pre><code>adb devices\nList of devices attached\n8e410c3e        device     \nR58N12HEW3E     device     \nRZCT50M61JX     device  \n</code></pre>\n<p>Ehh, so far I have no idea how to solve this.</p>\n"},{"tags":[],"owner":{"account_id":28502613,"reputation":1,"user_id":21813665,"display_name":"Jmerconsulting"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1683189601,"creation_date":1683188478,"answer_id":76171029,"question_id":74071437,"body_markdown":"You should use Selenium grid instead.\r\n\r\nhttp://appium.io/docs/en/2.0/guides/grid/","title":"Mobile tests: java + appium container + remote adb server + real mobile devices","body":"<p>You should use Selenium grid instead.</p>\n<p><a href=\"http://appium.io/docs/en/2.0/guides/grid/\" rel=\"nofollow noreferrer\">http://appium.io/docs/en/2.0/guides/grid/</a></p>\n"}],"owner":{"account_id":19616103,"reputation":271,"user_id":14357543,"display_name":"Rozmaryn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":471,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74235366,"answer_count":2,"score":0,"last_activity_date":1683189601,"creation_date":1665760795,"question_id":74071437,"body_markdown":"I am currently developing a testing system for a mobile application. \r\n\r\nI&#39;m ran the appium container on my local computer. I started  the ADB server on a separate computer in the local network. Smartphones via USB are connected to the second computer.\r\n\r\nI run the container on local computer with the command:\r\n```\r\ndocker run -d -p 4723:4723 -e REMOTE_ADB=true -e &quot;ADB_SERVER_SOCKET=tcp:10.38.223.243:5037&quot; --name container-appium-tests ross/appium-tests:v1.0.1\r\n\r\ndocker exec -it container-appium-tests sh\r\n\r\n```\r\nThen, in the container, I run the command\r\n```\r\nadb devices\r\n```\r\nEverything works beautifully and in the container I can see a list of phones connected to the remote computer:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pmy69.png\r\n\r\nThe problems start when I run the tests ``` mvn clean test -Dxml=parallel ```. The error i am getting:\r\n\r\n\r\n```\r\norg.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: An unknown server-side error occurred while processing the command. Original error: Could not find a connected Android device in 20026ms. \r\nHost info: host: &#39;8e41f735a077&#39;, ip: &#39;172.17.0.2&#39;\r\nBuild info: version: &#39;4.5.0&#39;, revision: &#39;fe167b119a&#39;\r\nSystem info: os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;5.10.104-linuxkit&#39;, java.version: &#39;17.0.4&#39;\r\nDriver info: io.appium.java_client.AppiumDriver\r\nCommand: [null, newSession {capabilities=[{appium:newCommandTimeout=60, appium:appWaitForLaunch=true, appium:resetKeyboard=true, appium:appWaitDuration=60000, appium:appWaitActivity=pl.com.rossmann.centauros.dashboard.presentation.main.DashboardActivity, appium:automationName=UIAutomator2, appium:udid=3691688b, appium:autoGrantPermissions=true, appium:unicodeKeyboard=true, appium:ignoreHiddenApiPolicyError=true, appium:suppressKillServer=true, appium:disableWindowAnimation=true, appium:appActivity=.splash.SplashActivityV6, platformName=ANDROID, appium:enableMultiWindows=true, appium:appPackage=pl.com.rossmann.centauros}], desiredCapabilities=Capabilities {appium:appActivity: .splash.SplashActivityV6, appium:appPackage: pl.com.rossmann.centauros, appium:appWaitActivity: pl.com.rossmann.centauros.d..., appium:appWaitDuration: 60000, appium:appWaitForLaunch: true, appium:autoGrantPermissions: true, appium:automationName: UIAutomator2, appium:disableWindowAnimation: true, appium:enableMultiWindows: true, appium:ignoreHiddenApiPolicyError: true, appium:newCommandTimeout: 60, appium:resetKeyboard: true, appium:suppressKillServer: true, appium:udid: 3691688b, appium:unicodeKeyboard: true, platformName: ANDROID}}]\r\nCapabilities {}\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:144)\r\n\tat io.appium.java_client.remote.AppiumProtocolHandshake.createSession(AppiumProtocolHandshake.java:126)\r\n\tat io.appium.java_client.remote.AppiumProtocolHandshake.createSession(AppiumProtocolHandshake.java:102)\r\n\tat io.appium.java_client.remote.AppiumCommandExecutor.createSession(AppiumCommandExecutor.java:155)\r\n\tat io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:189)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:547)\r\n\tat io.appium.java_client.AppiumDriver.startSession(AppiumDriver.java:229)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\r\n\tat io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:80)\r\n\tat io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:92)\r\n\tat configuration.drivers.Drivers.initializeAndroidDriver(Drivers.java:43)\r\n\tat basetest.BaseTest.setUp(BaseTest.java:43)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n... Removed 25 stack frames\r\n```\r\n\r\nMy class that sets the driver configuration:\r\n\r\n```\r\npublic abstract class Drivers {\r\n\r\n    protected AppiumDriver driver;\r\n    protected AppiumDriverLocalService service;\r\n\r\n    protected void initializeAndroidDriver(String udid, int appiumPort) {\r\n\r\n        UiAutomator2Options options = new UiAutomator2Options();\r\n\r\n        options.setAppWaitForLaunch(true);\r\n        options.setNewCommandTimeout(Duration.ofSeconds(60));\r\n        options.setAppWaitDuration(Duration.ofSeconds(60));\r\n        options.setPlatformName(&quot;android&quot;);\r\n        options.setUdid(udid);\r\n        options.setAutoGrantPermissions(true);\r\n        options.setAppPackage(ConfigProperties.getProperty(&quot;app.package&quot;));\r\n        options.setAppWaitActivity(ConfigProperties.getProperty(&quot;app.wait.activity&quot;));\r\n        options.setAppActivity(ConfigProperties.getProperty(&quot;app.activity&quot;));\r\n        options.setCapability(&quot;enableMultiWindows&quot;, true);\r\n        options.setDisableWindowAnimation(true);\r\n        options.setSuppressKillServer(true);\r\n        options.setIgnoreHiddenApiPolicyError(true);\r\n\r\n        options.setCapability(&quot;unicodeKeyboard&quot;, true);\r\n        options.setCapability(&quot;resetKeyboard&quot;, true);\r\n\r\n        try {\r\n            driver = new AppiumDriver(new URL(&quot;http://127.0.0.1:&quot; + appiumPort + &quot;/wd/hub&quot;), options);\r\n        } catch (MalformedURLException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\r\n\r\n    }\r\n\r\n    protected void runAppiumServer() {\r\n        AppiumServiceBuilder builder = new AppiumServiceBuilder()\r\n                .withArgument(() -&gt; &quot;--base-path&quot;, &quot;/wd/hub&quot;)\r\n                .withArgument(() -&gt; &quot;--log-level&quot;, &quot;error:debug&quot;)\r\n                .withIPAddress(&quot;127.0.0.1&quot;)\r\n                .usingAnyFreePort();\r\n        service = AppiumDriverLocalService.buildService(builder);\r\n        service.start();\r\n        Logger.info(&quot;Appium has been started successfully.&quot;);\r\n    }\r\n}\r\n```\r\n\r\nTried with different IP addresses with ports - always similar errors.\r\nI am asking for tips. \r\n\r\nThank you!","title":"Mobile tests: java + appium container + remote adb server + real mobile devices","body":"<p>I am currently developing a testing system for a mobile application.</p>\n<p>I'm ran the appium container on my local computer. I started  the ADB server on a separate computer in the local network. Smartphones via USB are connected to the second computer.</p>\n<p>I run the container on local computer with the command:</p>\n<pre><code>docker run -d -p 4723:4723 -e REMOTE_ADB=true -e &quot;ADB_SERVER_SOCKET=tcp:10.38.223.243:5037&quot; --name container-appium-tests ross/appium-tests:v1.0.1\n\ndocker exec -it container-appium-tests sh\n\n</code></pre>\n<p>Then, in the container, I run the command</p>\n<pre><code>adb devices\n</code></pre>\n<p>Everything works beautifully and in the container I can see a list of phones connected to the remote computer:</p>\n<p><a href=\"https://i.stack.imgur.com/pmy69.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pmy69.png\" alt=\"enter image description here\" /></a></p>\n<p>The problems start when I run the tests <code>mvn clean test -Dxml=parallel</code>. The error i am getting:</p>\n<pre><code>org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: An unknown server-side error occurred while processing the command. Original error: Could not find a connected Android device in 20026ms. \nHost info: host: '8e41f735a077', ip: '172.17.0.2'\nBuild info: version: '4.5.0', revision: 'fe167b119a'\nSystem info: os.name: 'Linux', os.arch: 'amd64', os.version: '5.10.104-linuxkit', java.version: '17.0.4'\nDriver info: io.appium.java_client.AppiumDriver\nCommand: [null, newSession {capabilities=[{appium:newCommandTimeout=60, appium:appWaitForLaunch=true, appium:resetKeyboard=true, appium:appWaitDuration=60000, appium:appWaitActivity=pl.com.rossmann.centauros.dashboard.presentation.main.DashboardActivity, appium:automationName=UIAutomator2, appium:udid=3691688b, appium:autoGrantPermissions=true, appium:unicodeKeyboard=true, appium:ignoreHiddenApiPolicyError=true, appium:suppressKillServer=true, appium:disableWindowAnimation=true, appium:appActivity=.splash.SplashActivityV6, platformName=ANDROID, appium:enableMultiWindows=true, appium:appPackage=pl.com.rossmann.centauros}], desiredCapabilities=Capabilities {appium:appActivity: .splash.SplashActivityV6, appium:appPackage: pl.com.rossmann.centauros, appium:appWaitActivity: pl.com.rossmann.centauros.d..., appium:appWaitDuration: 60000, appium:appWaitForLaunch: true, appium:autoGrantPermissions: true, appium:automationName: UIAutomator2, appium:disableWindowAnimation: true, appium:enableMultiWindows: true, appium:ignoreHiddenApiPolicyError: true, appium:newCommandTimeout: 60, appium:resetKeyboard: true, appium:suppressKillServer: true, appium:udid: 3691688b, appium:unicodeKeyboard: true, platformName: ANDROID}}]\nCapabilities {}\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:144)\n    at io.appium.java_client.remote.AppiumProtocolHandshake.createSession(AppiumProtocolHandshake.java:126)\n    at io.appium.java_client.remote.AppiumProtocolHandshake.createSession(AppiumProtocolHandshake.java:102)\n    at io.appium.java_client.remote.AppiumCommandExecutor.createSession(AppiumCommandExecutor.java:155)\n    at io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:189)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:547)\n    at io.appium.java_client.AppiumDriver.startSession(AppiumDriver.java:229)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\n    at io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:80)\n    at io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:92)\n    at configuration.drivers.Drivers.initializeAndroidDriver(Drivers.java:43)\n    at basetest.BaseTest.setUp(BaseTest.java:43)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n... Removed 25 stack frames\n</code></pre>\n<p>My class that sets the driver configuration:</p>\n<pre><code>public abstract class Drivers {\n\n    protected AppiumDriver driver;\n    protected AppiumDriverLocalService service;\n\n    protected void initializeAndroidDriver(String udid, int appiumPort) {\n\n        UiAutomator2Options options = new UiAutomator2Options();\n\n        options.setAppWaitForLaunch(true);\n        options.setNewCommandTimeout(Duration.ofSeconds(60));\n        options.setAppWaitDuration(Duration.ofSeconds(60));\n        options.setPlatformName(&quot;android&quot;);\n        options.setUdid(udid);\n        options.setAutoGrantPermissions(true);\n        options.setAppPackage(ConfigProperties.getProperty(&quot;app.package&quot;));\n        options.setAppWaitActivity(ConfigProperties.getProperty(&quot;app.wait.activity&quot;));\n        options.setAppActivity(ConfigProperties.getProperty(&quot;app.activity&quot;));\n        options.setCapability(&quot;enableMultiWindows&quot;, true);\n        options.setDisableWindowAnimation(true);\n        options.setSuppressKillServer(true);\n        options.setIgnoreHiddenApiPolicyError(true);\n\n        options.setCapability(&quot;unicodeKeyboard&quot;, true);\n        options.setCapability(&quot;resetKeyboard&quot;, true);\n\n        try {\n            driver = new AppiumDriver(new URL(&quot;http://127.0.0.1:&quot; + appiumPort + &quot;/wd/hub&quot;), options);\n        } catch (MalformedURLException e) {\n            throw new RuntimeException(e);\n        }\n        driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\n\n    }\n\n    protected void runAppiumServer() {\n        AppiumServiceBuilder builder = new AppiumServiceBuilder()\n                .withArgument(() -&gt; &quot;--base-path&quot;, &quot;/wd/hub&quot;)\n                .withArgument(() -&gt; &quot;--log-level&quot;, &quot;error:debug&quot;)\n                .withIPAddress(&quot;127.0.0.1&quot;)\n                .usingAnyFreePort();\n        service = AppiumDriverLocalService.buildService(builder);\n        service.start();\n        Logger.info(&quot;Appium has been started successfully.&quot;);\n    }\n}\n</code></pre>\n<p>Tried with different IP addresses with ports - always similar errors.\nI am asking for tips.</p>\n<p>Thank you!</p>\n"},{"tags":["java","ssl","dns","aws-api-gateway"],"comments":[{"owner":{"account_id":352779,"reputation":1130,"user_id":690041,"display_name":"Denis Weerasiri"},"score":1,"creation_date":1550882831,"post_id":54835253,"comment_id":96448743,"body_markdown":"Based on the error, it looks like the back end return the certificate for the domain name &quot;*.execute-api.us-east-1.amazonaws.com&quot;. Most probably this is due to some issue with the Route53 config (just guessing at the moment). 1. Can you post the verbose output (curl -vvv) of the successful request/response? 2. Also are you using CNAME alias  record or A Alias record to point your custom domain name to the target endpoint config? 3. What is the target endpoint you have configured in the Route53 (does it start with d-..., OR the api endpoint such as abcd123.execute-api.....)?","body":"Based on the error, it looks like the back end return the certificate for the domain name &quot;*.execute-api.us-east-1.amazonaws.com&quot;. Most probably this is due to some issue with the Route53 config (just guessing at the moment). 1. Can you post the verbose output (curl -vvv) of the successful request/response? 2. Also are you using CNAME alias  record or A Alias record to point your custom domain name to the target endpoint config? 3. What is the target endpoint you have configured in the Route53 (does it start with d-..., OR the api endpoint such as abcd123.execute-api.....)?"},{"owner":{"account_id":1845098,"reputation":171667,"user_id":1695906,"display_name":"Michael - sqlbot"},"score":4,"creation_date":1550908446,"post_id":54835253,"comment_id":96452686,"body_markdown":"Another possible cause would be the Java HTTPS code being old enough that it doesn&#39;t properly send server name identification (SNI).  From a command prompt try `true | openssl s_client -connect custom.example.com:443 -showcerts | openssl x509 -text -noout`  If you get the `*.execute-api` certificate, repeat the command exactly the same, but with `-servername custom.example.com` added before `-showcerts`.  Otherwise, repeat with `-noservername` before `-showcerts`.  If you can trigger the cert to change from one to the other like this, you have an issue with SNI rather than DNS.","body":"Another possible cause would be the Java HTTPS code being old enough that it doesn&#39;t properly send server name identification (SNI).  From a command prompt try <code>true | openssl s_client -connect custom.example.com:443 -showcerts | openssl x509 -text -noout</code>  If you get the <code>*.execute-api</code> certificate, repeat the command exactly the same, but with <code>-servername custom.example.com</code> added before <code>-showcerts</code>.  Otherwise, repeat with <code>-noservername</code> before <code>-showcerts</code>.  If you can trigger the cert to change from one to the other like this, you have an issue with SNI rather than DNS."},{"owner":{"account_id":1305314,"reputation":85,"user_id":1254416,"display_name":"feanor114"},"score":0,"creation_date":1551105133,"post_id":54835253,"comment_id":96507316,"body_markdown":"@Michael-sqlbot I think you may be right was able to trigger the cert to change with those commands. I found the java application is currently using java version 1.7.0_201 though. From some quick searches I&#39;ve so far only seen that SNI issue mentioned related to some older versions of java 8 not 7 though. Do you know if that issue was also in java 7? Either way the test you provided seems to indicate the SNI issue.","body":"@Michael-sqlbot I think you may be right was able to trigger the cert to change with those commands. I found the java application is currently using java version 1.7.0_201 though. From some quick searches I&#39;ve so far only seen that SNI issue mentioned related to some older versions of java 8 not 7 though. Do you know if that issue was also in java 7? Either way the test you provided seems to indicate the SNI issue."},{"owner":{"account_id":1845098,"reputation":171667,"user_id":1695906,"display_name":"Michael - sqlbot"},"score":0,"creation_date":1551107438,"post_id":54835253,"comment_id":96508805,"body_markdown":"@feanor114 I&#39;m not sure about Java.  [This](https://stackoverflow.com/a/14884941/1695906) *seems* to indicate that it&#39;s present in 7 and should be enabled by default, which is not exactly what I was hoping to see... but if you actually saw the cert on the custom.example.com endpoint change from custom.example.com back to execute-api based on how you used (or omitted) `-[no]servername`, then that seems like a really compelling indicator that you are getting the wrong cert because SNI is not enabled on the client code, so API Gateway returns a generic default certificate.","body":"@feanor114 I&#39;m not sure about Java.  <a href=\"https://stackoverflow.com/a/14884941/1695906\">This</a> <i>seems</i> to indicate that it&#39;s present in 7 and should be enabled by default, which is not exactly what I was hoping to see... but if you actually saw the cert on the custom.example.com endpoint change from custom.example.com back to execute-api based on how you used (or omitted) <code>-[no]servername</code>, then that seems like a really compelling indicator that you are getting the wrong cert because SNI is not enabled on the client code, so API Gateway returns a generic default certificate."},{"owner":{"account_id":1305314,"reputation":85,"user_id":1254416,"display_name":"feanor114"},"score":0,"creation_date":1551278949,"post_id":54835253,"comment_id":96583231,"body_markdown":"@Michael-sqlbot updating the Java version resolved the issue. Thank you for your help","body":"@Michael-sqlbot updating the Java version resolved the issue. Thank you for your help"}],"answers":[{"tags":[],"owner":{"account_id":2296792,"reputation":315,"user_id":2018043,"display_name":"Romain Spinelli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683189569,"creation_date":1683189569,"answer_id":76171190,"question_id":54835253,"body_markdown":"I was exactly in the same situation, and I changed my Route53 record routing to the API endpoint from **CNAME** to **A** (by following the [AWS documentation][1]), and that solved the issue.\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/routing-to-api-gateway.html","title":"AWS API Gateway custom domain hostname doesn&#39;t match certificate","body":"<p>I was exactly in the same situation, and I changed my Route53 record routing to the API endpoint from <strong>CNAME</strong> to <strong>A</strong> (by following the <a href=\"https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/routing-to-api-gateway.html\" rel=\"nofollow noreferrer\">AWS documentation</a>), and that solved the issue.</p>\n"}],"owner":{"account_id":1305314,"reputation":85,"user_id":1254416,"display_name":"feanor114"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3320,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683189569,"creation_date":1550869899,"question_id":54835253,"body_markdown":"I have an api gateway setup. It has a custom domain name setup on a regional endpoint and is using a certificate in ACM. I am able to make successful requests to the custom name from my local machine and even with curl from the remote machine I&#39;m attempting to use. However, from the java application running on the remote machine I see this\r\n\r\n    ! javax.net.ssl.SSLException: hostname in certificate didn&#39;t match: &lt;my.custom.domain.name.com&gt; != &lt;*.execute-api.us-east-1.amazonaws.com&gt; OR &lt;*.execute-api.us-east-1.amazonaws.com&gt;\r\n\r\n\r\nI have a route53 alias record pointing to the target domain name of the custom domain name endpoint configuration.\r\n\r\nAny idea how to resolve this without just removing host checking from the java application.\r\n","title":"AWS API Gateway custom domain hostname doesn&#39;t match certificate","body":"<p>I have an api gateway setup. It has a custom domain name setup on a regional endpoint and is using a certificate in ACM. I am able to make successful requests to the custom name from my local machine and even with curl from the remote machine I'm attempting to use. However, from the java application running on the remote machine I see this</p>\n\n<pre><code>! javax.net.ssl.SSLException: hostname in certificate didn't match: &lt;my.custom.domain.name.com&gt; != &lt;*.execute-api.us-east-1.amazonaws.com&gt; OR &lt;*.execute-api.us-east-1.amazonaws.com&gt;\n</code></pre>\n\n<p>I have a route53 alias record pointing to the target domain name of the custom domain name endpoint configuration.</p>\n\n<p>Any idea how to resolve this without just removing host checking from the java application.</p>\n"},{"tags":["java","spring","spring-mvc","tomcat"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1683189866,"post_id":76171124,"comment_id":134329319,"body_markdown":"You have a version of ASM on the classpath which does not support Java 18 (class version 62 means Java 18). Spring 5.0 is relatively &quot;old&quot;, and it is likely it simply doesn&#39;t support such a new Java version, you may want to consider upgrading to Spring 5.3.","body":"You have a version of ASM on the classpath which does not support Java 18 (class version 62 means Java 18). Spring 5.0 is relatively &quot;old&quot;, and it is likely it simply doesn&#39;t support such a new Java version, you may want to consider upgrading to Spring 5.3."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1683190258,"post_id":76171124,"comment_id":134329405,"body_markdown":"For Java 18 support, you need at least ASM version 9.2, but upgrading to that version will not necessarily make Spring 5.0 work on Java 18. As an aside, Java 18 went out of support a year ago. I&#39;d suggest sticking to an LTS version like Java 17.","body":"For Java 18 support, you need at least ASM version 9.2, but upgrading to that version will not necessarily make Spring 5.0 work on Java 18. As an aside, Java 18 went out of support a year ago. I&#39;d suggest sticking to an LTS version like Java 17."}],"owner":{"account_id":13044317,"reputation":1,"user_id":14278586,"display_name":"Manoj Spyder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683189181,"creation_date":1683189181,"question_id":76171124,"body_markdown":"I am new to spring and trying to learn Spring MVC, jdk-17, tomcat-9.0.74, spring-5.0.38\r\n\r\n\r\n\r\n\r\njavax.servlet.ServletException: Servlet.init() for servlet [FrontController] threw exception\r\n\torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)\r\n\torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)\r\n\torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n\torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)\r\n\torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)\r\n\torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)\r\n\torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\torg.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\torg.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tjava.base/java.lang.Thread.run(Thread.java:833)\r\n\r\n\r\n\r\n\r\n\r\nRoot Cause\r\n\r\norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [C:\\Users\\dhine\\OneDrive\\Documents\\Eclipse \r\n\r\norg.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn&#39;t supported yet: file [C:\\Users\\dhine\\OneDrive\\Documents\\Eclipse Workspace\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp2\\wtpwebapps\\Spring MVC\\WEB-INF\\classes\\controllers\\First.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 62\r\n\torg.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:60)\r\n\r\n\r\n\r\n\r\n\torg.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:49)\r\n\torg.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103)\r\n\torg.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:123)\r\n\torg.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:429)\r\n\torg.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:315)\r\n\torg.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:276)\r\n\torg.springframework.context.annotation.ComponentScanBeanDefinitionParser.parse(ComponentScanBeanDefinitionParser.java:90)\r\n\torg.springframework.beans.factory.xml.NamespaceHandlerSupport.parse(NamespaceHandlerSupport.java:74)\r\n\torg.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1391)\r\n\torg.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1371)\r\n\torg.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.parseBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:179)\r\n\t\r\n\r\nI have tried downgrading jdk to 8, 17 from 18. But still no use.","title":"ASM class reader failed to parse - due to class file version that isnt supported","body":"<p>I am new to spring and trying to learn Spring MVC, jdk-17, tomcat-9.0.74, spring-5.0.38</p>\n<p>javax.servlet.ServletException: Servlet.init() for servlet [FrontController] threw exception\norg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)\norg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\norg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)\norg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\norg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)\norg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\norg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)\norg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)\norg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\norg.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\norg.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\norg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\njava.base/java.lang.Thread.run(Thread.java:833)</p>\n<p>Root Cause</p>\n<p>org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [C:\\Users\\dhine\\OneDrive\\Documents\\Eclipse</p>\n<p>org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn't supported yet: file [C:\\Users\\dhine\\OneDrive\\Documents\\Eclipse Workspace.metadata.plugins\\org.eclipse.wst.server.core\\tmp2\\wtpwebapps\\Spring MVC\\WEB-INF\\classes\\controllers\\First.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 62\norg.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:60)</p>\n<pre><code>org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:49)\norg.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103)\norg.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:123)\norg.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:429)\norg.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:315)\norg.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:276)\norg.springframework.context.annotation.ComponentScanBeanDefinitionParser.parse(ComponentScanBeanDefinitionParser.java:90)\norg.springframework.beans.factory.xml.NamespaceHandlerSupport.parse(NamespaceHandlerSupport.java:74)\norg.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1391)\norg.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1371)\norg.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.parseBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:179)\n</code></pre>\n<p>I have tried downgrading jdk to 8, 17 from 18. But still no use.</p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1683187886,"post_id":76170898,"comment_id":134328863,"body_markdown":"For `HashMap`, CMEs don&#39;t *have* be thrown. It&#39;s on a &quot;best-effort basis&quot;. As soon as you start iterating and modifying at the same time, the behaviour is undefined.","body":"For <code>HashMap</code>, CMEs don&#39;t <i>have</i> be thrown. It&#39;s on a &quot;best-effort basis&quot;. As soon as you start iterating and modifying at the same time, the behaviour is undefined."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1683188019,"post_id":76170898,"comment_id":134328888,"body_markdown":"See [this answer of mine](https://stackoverflow.com/a/73341695/5133585), the [documentation for `HashMap`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HashMap.html) has a similar paragraph as the one quoted in that asnwer. While you&#39;re at that page, check out the documentation for `values()`, which is also relevant.","body":"See <a href=\"https://stackoverflow.com/a/73341695/5133585\">this answer of mine</a>, the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HashMap.html\" rel=\"nofollow noreferrer\">documentation for <code>HashMap</code></a> has a similar paragraph as the one quoted in that asnwer. While you&#39;re at that page, check out the documentation for <code>values()</code>, which is also relevant."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1683189468,"post_id":76170898,"comment_id":134329225,"body_markdown":"Add more than one value to the map (e.g. `xx.put(3L, &quot;2&quot;);`), and all of them will produce an exception; on the other hand, if you add `xx.put(2L, &quot;2&quot;);` the first and third example will also not produce an exception). This has to do with the mechanism used to detect the modification.","body":"Add more than one value to the map (e.g. <code>xx.put(3L, &quot;2&quot;);</code>), and all of them will produce an exception; on the other hand, if you add <code>xx.put(2L, &quot;2&quot;);</code> the first and third example will also not produce an exception). This has to do with the mechanism used to detect the modification."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1683269994,"post_id":76170898,"comment_id":134343887,"body_markdown":"Usually, `forEach` methods can detect changes more reliably because the operation has a well-defined end (when `forEach` returns), so there can be a final check. In contrast, the for-each loop uses an `Iterator` which has no mechanism to tell the implementation when the iteration is over. The caller may abandon the iterator at any time. • But updating an existing key is not a structural modification at all. And, by the way, calling `forEach` on a `Collection` is not using the `Stream` API.","body":"Usually, <code>forEach</code> methods can detect changes more reliably because the operation has a well-defined end (when <code>forEach</code> returns), so there can be a final check. In contrast, the for-each loop uses an <code>Iterator</code> which has no mechanism to tell the implementation when the iteration is over. The caller may abandon the iterator at any time. • But updating an existing key is not a structural modification at all. And, by the way, calling <code>forEach</code> on a <code>Collection</code> is not using the <code>Stream</code> API."}],"owner":{"account_id":317363,"reputation":1074,"user_id":634012,"display_name":"Fatih Arslan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1683189600,"answer_count":0,"score":0,"last_activity_date":1683189027,"creation_date":1683187581,"question_id":76170898,"body_markdown":"I am trying to understand the below examples and how they behave and they do not really behave as I expect. \r\n\r\nExample 1: \r\n```     \r\nMap&lt;Long, String&gt; xx = new HashMap&lt;&gt;();\r\nxx.put(1L, &quot;1&quot;);\r\n//Does not throw exception even if the map during iteration is changed\r\nfor (String value : xx.values()) {\r\n    xx.put(Long.parseLong(value) +1 , value + 1);\r\n}\r\n```\r\nExample 2: \r\n\r\n```\r\nMap&lt;Long, String&gt; xx = new HashMap&lt;&gt;();\r\nxx.put(1L, &quot;1&quot;);\r\n// same operation in stream api and throws exception\r\nxx.values()\r\n        .forEach(value -&gt; {\r\n            xx.put( Long.parseLong(value) + 1, value + 1);\r\n        });\r\n```\r\nExample 3: \r\n\r\n\r\n```\r\nMap&lt;Long, String&gt; xx = new HashMap&lt;&gt;();\r\nxx.put(1L, &quot;1&quot;);\r\n// stream api this time does not put a new value but updates the former value and does not throw Concurrent Modification exception\r\nxx.values()\r\n        .forEach(value -&gt; {\r\n            xx.put( Long.parseLong(value), value + 1);\r\n        });\r\n```\r\n\r\nI was pretty confused with the behavior here. I expect first one to throw exception because collection is changed during iteration. I would expect second and third example to throw exception. After seeing the first example, I would expect the second example not to throw exception because it is basically the same thing with first one and first one does not throw exception. I would expect third example to throw exception but it does not.  \r\n\r\nCan someone explain what is happening here? ","title":"Concurrent Modification exception in streams vs iteration","body":"<p>I am trying to understand the below examples and how they behave and they do not really behave as I expect.</p>\n<p>Example 1:</p>\n<pre><code>Map&lt;Long, String&gt; xx = new HashMap&lt;&gt;();\nxx.put(1L, &quot;1&quot;);\n//Does not throw exception even if the map during iteration is changed\nfor (String value : xx.values()) {\n    xx.put(Long.parseLong(value) +1 , value + 1);\n}\n</code></pre>\n<p>Example 2:</p>\n<pre><code>Map&lt;Long, String&gt; xx = new HashMap&lt;&gt;();\nxx.put(1L, &quot;1&quot;);\n// same operation in stream api and throws exception\nxx.values()\n        .forEach(value -&gt; {\n            xx.put( Long.parseLong(value) + 1, value + 1);\n        });\n</code></pre>\n<p>Example 3:</p>\n<pre><code>Map&lt;Long, String&gt; xx = new HashMap&lt;&gt;();\nxx.put(1L, &quot;1&quot;);\n// stream api this time does not put a new value but updates the former value and does not throw Concurrent Modification exception\nxx.values()\n        .forEach(value -&gt; {\n            xx.put( Long.parseLong(value), value + 1);\n        });\n</code></pre>\n<p>I was pretty confused with the behavior here. I expect first one to throw exception because collection is changed during iteration. I would expect second and third example to throw exception. After seeing the first example, I would expect the second example not to throw exception because it is basically the same thing with first one and first one does not throw exception. I would expect third example to throw exception but it does not.</p>\n<p>Can someone explain what is happening here?</p>\n"},{"tags":["java","angular","xml","soap","frontend"],"answers":[{"tags":[],"owner":{"account_id":4996271,"reputation":971,"user_id":4108345,"accept_rate":61,"display_name":"Harsh Kanakhara"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683188686,"creation_date":1683188686,"answer_id":76171050,"question_id":76145195,"body_markdown":"Spring-Boot is the best and easy way to create ReST APIs. Create a simple spring-boot project. Define a ReST API endpoint accepting user inputs from the front end.\r\n\r\nAt a high level, you can run your spring-boot app on PORT 6060 and your angular app on PORT 8080. PORT can be anything else for both apps.\r\n\r\nCORS changes:\r\n\r\nIn the spring boot app, you either need to disable CORS or pass angular app-related CORS information to accept any request from the front end.\r\n\r\nIf you want to avoid CORS then go for a spring-mvc based approach in your spring boot app. Create a form in HTML accepting user inputs and passing that info to a ReST API endpoint either by submitting a form or using ajax call.","title":"How to get values from a form in frontend and pass it to JAVA and display back in frontend using Angular","body":"<p>Spring-Boot is the best and easy way to create ReST APIs. Create a simple spring-boot project. Define a ReST API endpoint accepting user inputs from the front end.</p>\n<p>At a high level, you can run your spring-boot app on PORT 6060 and your angular app on PORT 8080. PORT can be anything else for both apps.</p>\n<p>CORS changes:</p>\n<p>In the spring boot app, you either need to disable CORS or pass angular app-related CORS information to accept any request from the front end.</p>\n<p>If you want to avoid CORS then go for a spring-mvc based approach in your spring boot app. Create a form in HTML accepting user inputs and passing that info to a ReST API endpoint either by submitting a form or using ajax call.</p>\n"}],"owner":{"account_id":9121850,"reputation":781,"user_id":6787022,"accept_rate":100,"display_name":"Hanz Cheah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683188686,"creation_date":1682923930,"question_id":76145195,"body_markdown":"This is a payment verification SOAP XML API that I managed to get it working in JAVA. The JAVA code will post XML request to a payment API using XML with SOAPAction headers and Body.  Then it will get a response from the API. \r\n\r\nHowever I wish to create a simple Form in the Frontend using Angular (If this is the right approach) get the values from user input like `CardNum, CardType, CardCVC` and sending the values back to JAVA and the JAVA will then get the XML Response and display back to the Frontend webpage like `Transaction ID, Order Status, Order Reason, Transaction Status Payment`. I am still new in JAVA and Angular. Any pointers is greatly appreciated. \r\n\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.DataOutputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.io.StringReader;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.URL;\r\n    import javax.xml.parsers.DocumentBuilderFactory;\r\n    import org.w3c.dom.Document;\r\n    import org.w3c.dom.Element;\r\n    import org.w3c.dom.NodeList;\r\n    import org.xml.sax.InputSource;\r\n    public class Send_XML_Post_Request_1 {\r\n        public static void main(String[] args) {\r\n            try {\r\n                 String url = &quot;https://onepay-services.uat.aws.emagin.eu/api/soap/payment&quot;;\r\n                 URL obj = new URL(url);\r\n                 HttpURLConnection con = (HttpURLConnection) obj.openConnection();\r\n                 con.setRequestMethod(&quot;POST&quot;);\r\n                 con.setRequestProperty(&quot;Content-Type&quot;,&quot;text/xml&quot;);\r\n                 con.setRequestProperty(&quot;SOAPAction&quot;,&quot;http://www.allianz-assistance.com/emagin/services/PaymentService/1.0/authorize&quot;);\r\n                 String CardType=&quot;VISA&quot;;\r\n                 String CardNum = &quot;4444333322221111&quot;;\r\n                 String CardCVC = &quot;425&quot;;\r\n                 String xml = &quot;&lt;soapenv:Envelope xmlns:soapenv=\\&quot;http://schemas.xmlsoap.org/soap/envelope/\\&quot;&quot;\r\n                            + &quot;  xmlns:ns=\\&quot;http://www.allianz-assistance.com/emagin/services/PaymentService/1.0\\&quot;&gt;&quot;\r\n                        + &quot;&lt;soapenv:Header/&gt;&quot;\r\n                        + &quot;    &lt;soapenv:Body&gt;&quot;\r\n                        + &quot;        &lt;tns:authorize version=\\&quot;1.0\\&quot; xmlns:tns=\\&quot;http://www.allianz-assistance.com/emagin/services/PaymentService/1.0\\&quot; xmlns:emagin=\\&quot;http://www.mondial-assistance.com/ecommerce/schema/\\&quot;&gt;&quot;\r\n                        + &quot;            &lt;tns:globalRequestId&gt;paymentOrder&lt;/tns:globalRequestId&gt;&quot;\r\n                        + &quot;            &lt;tns:authentication&gt;&quot;\r\n                        + &quot;                &lt;tns:userId&gt;AWC_LIFEEUR&lt;/tns:userId&gt;&quot;\r\n                        + &quot;                &lt;tns:password&gt;awclifeeur$2018&lt;/tns:password&gt;&quot;\r\n                        + &quot;            &lt;/tns:authentication&gt;&quot;\r\n                        + &quot;            &lt;tns:accountId&gt;ACCOUNT_AWC_LIFEEUR&lt;/tns:accountId&gt;&quot;\r\n                        + &quot;            &lt;tns:customerInformation&gt;&quot;\r\n                        + &quot;                &lt;tns:partnerCode&gt;ALS&lt;/tns:partnerCode&gt;&quot;\r\n                        + &quot;                &lt;tns:buCode&gt;CH&lt;/tns:buCode&gt;&quot;\r\n                        + &quot;            &lt;/tns:customerInformation&gt;&quot;\r\n                        + &quot;            &lt;tns:paymentInformation&gt;&quot;\r\n                        + &quot;                &lt;tns:paymentHolder&gt;&quot;\r\n                        + &quot;                    &lt;tns:name&gt;Charlie&lt;/tns:name&gt;&quot;\r\n                        + &quot;                    &lt;tns:email&gt;charlie@allianz.com&lt;/tns:email&gt;&quot;\r\n                        + &quot;                    &lt;tns:address&gt;&quot;\r\n                        + &quot;                        &lt;tns:address&gt;11/22 Street1 Road1&lt;/tns:address&gt;&quot;\r\n                        + &quot;                        &lt;tns:city&gt;Penang&lt;/tns:city&gt;&quot;\r\n                        + &quot;                        &lt;tns:country&gt;ID&lt;/tns:country&gt;&quot;\r\n                        + &quot;                    &lt;/tns:address&gt;&quot;\r\n                        + &quot;                &lt;/tns:paymentHolder&gt;&quot;\r\n                        + &quot;                &lt;tns:amount currency=\\&quot;USD\\&quot;&gt;33.33&lt;/tns:amount&gt;&quot;\r\n                        + &quot;                &lt;tns:cardInformation&gt;&quot;\r\n                        + &quot;                    &lt;tns:cardType&gt;&quot; + CardType + &quot;&lt;/tns:cardType&gt;&quot;\r\n                        + &quot;                    &lt;tns:cardNumber&gt;&quot; + CardNum +&quot;&lt;/tns:cardNumber&gt;&quot;\r\n                        + &quot;                    &lt;tns:cvc&gt;&quot; + CardCVC + &quot;&lt;/tns:cvc&gt;&quot;\r\n                        + &quot;                    &lt;tns:expiryDate month=\\&quot;10\\&quot; year=\\&quot;2023\\&quot;/&gt;&quot;\r\n                        + &quot;                &lt;/tns:cardInformation&gt;&quot;\r\n                        + &quot;                &lt;tns:shopperInformation&gt;&quot;\r\n                        + &quot;                    &lt;tns:browser&gt;&quot;\r\n                        + &quot;                        &lt;tns:userAgentHeader&gt;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.102 Safari/537.36&lt;/tns:userAgentHeader&gt;&quot;\r\n                        + &quot;                        &lt;tns:acceptHeader&gt;application/json, text/plain, */*&lt;/tns:acceptHeader&gt;&quot;\r\n                        + &quot;                    &lt;/tns:browser&gt;&quot;\r\n                        + &quot;                    &lt;tns:ipAddress&gt;103.233.174.2&lt;/tns:ipAddress&gt;&quot;\r\n                        + &quot;                    &lt;tns:sessionId&gt;1&lt;/tns:sessionId&gt;&quot;\r\n                        + &quot;                &lt;/tns:shopperInformation&gt;&quot;\r\n                        + &quot;            &lt;/tns:paymentInformation&gt;&quot;\r\n                        + &quot;        &lt;/tns:authorize&gt;&quot;\r\n                        + &quot;    &lt;/soapenv:Body&gt;&quot;\r\n                        + &quot;&lt;/soapenv:Envelope&gt;&quot;;\r\n                  \r\n                  con.setDoOutput(true);\r\n                  DataOutputStream wr = new DataOutputStream(con.getOutputStream());\r\n                  wr.writeBytes(xml);\r\n                  wr.flush();\r\n                  wr.close();\r\n                  String responseStatus = con.getResponseMessage();\r\n                  System.out.println(responseStatus);\r\n                  BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\r\n                  String inputLine;\r\n                  StringBuffer response = new StringBuffer();\r\n                  while ((inputLine = in.readLine()) != null) {\r\n                      response.append(inputLine);\r\n                  }\r\n                  in.close();\r\n                  //System.out.println(&quot;response:&quot; + response.toString());\r\n                  \r\n                  Document doc = DocumentBuilderFactory.newInstance().newDocumentBuilder()\r\n                    .parse(new InputSource(new StringReader(response.toString())));\r\n                  NodeList errNodes = doc.getElementsByTagName(&quot;ns2:paymentStatus&quot;);\r\n                  if (errNodes.getLength() &gt; 0) {\r\n                      Element err = (Element)errNodes.item(0);\r\n                      System.out.println(&quot;Transaction ID -&quot;+err.getElementsByTagName(&quot;ns2:paymentTransactionId&quot;).item(0).getTextContent());\r\n                      System.out.println(&quot;Order Status -&quot;+err.getElementsByTagName(&quot;ns2:orderStatus&quot;).item(0).getTextContent());\r\n                      System.out.println(&quot;Order Reason -&quot;+err.getElementsByTagName(&quot;ns2:orderReason&quot;).item(0).getTextContent());\r\n                      System.out.println(&quot;Transaction Status -&quot;+err.getElementsByTagName(&quot;ns2:paymentTransactionStatus&quot;).item(0).getTextContent());\r\n                  } else {\r\n                      // success\r\n                  }\r\n\r\n              } catch (Exception e) {\r\n                  System.out.println(e);\r\n              }","title":"How to get values from a form in frontend and pass it to JAVA and display back in frontend using Angular","body":"<p>This is a payment verification SOAP XML API that I managed to get it working in JAVA. The JAVA code will post XML request to a payment API using XML with SOAPAction headers and Body.  Then it will get a response from the API.</p>\n<p>However I wish to create a simple Form in the Frontend using Angular (If this is the right approach) get the values from user input like <code>CardNum, CardType, CardCVC</code> and sending the values back to JAVA and the JAVA will then get the XML Response and display back to the Frontend webpage like <code>Transaction ID, Order Status, Order Reason, Transaction Status Payment</code>. I am still new in JAVA and Angular. Any pointers is greatly appreciated.</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.DataOutputStream;\nimport java.io.InputStreamReader;\nimport java.io.StringReader;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport javax.xml.parsers.DocumentBuilderFactory;\nimport org.w3c.dom.Document;\nimport org.w3c.dom.Element;\nimport org.w3c.dom.NodeList;\nimport org.xml.sax.InputSource;\npublic class Send_XML_Post_Request_1 {\n    public static void main(String[] args) {\n        try {\n             String url = &quot;https://onepay-services.uat.aws.emagin.eu/api/soap/payment&quot;;\n             URL obj = new URL(url);\n             HttpURLConnection con = (HttpURLConnection) obj.openConnection();\n             con.setRequestMethod(&quot;POST&quot;);\n             con.setRequestProperty(&quot;Content-Type&quot;,&quot;text/xml&quot;);\n             con.setRequestProperty(&quot;SOAPAction&quot;,&quot;http://www.allianz-assistance.com/emagin/services/PaymentService/1.0/authorize&quot;);\n             String CardType=&quot;VISA&quot;;\n             String CardNum = &quot;4444333322221111&quot;;\n             String CardCVC = &quot;425&quot;;\n             String xml = &quot;&lt;soapenv:Envelope xmlns:soapenv=\\&quot;http://schemas.xmlsoap.org/soap/envelope/\\&quot;&quot;\n                        + &quot;  xmlns:ns=\\&quot;http://www.allianz-assistance.com/emagin/services/PaymentService/1.0\\&quot;&gt;&quot;\n                    + &quot;&lt;soapenv:Header/&gt;&quot;\n                    + &quot;    &lt;soapenv:Body&gt;&quot;\n                    + &quot;        &lt;tns:authorize version=\\&quot;1.0\\&quot; xmlns:tns=\\&quot;http://www.allianz-assistance.com/emagin/services/PaymentService/1.0\\&quot; xmlns:emagin=\\&quot;http://www.mondial-assistance.com/ecommerce/schema/\\&quot;&gt;&quot;\n                    + &quot;            &lt;tns:globalRequestId&gt;paymentOrder&lt;/tns:globalRequestId&gt;&quot;\n                    + &quot;            &lt;tns:authentication&gt;&quot;\n                    + &quot;                &lt;tns:userId&gt;AWC_LIFEEUR&lt;/tns:userId&gt;&quot;\n                    + &quot;                &lt;tns:password&gt;awclifeeur$2018&lt;/tns:password&gt;&quot;\n                    + &quot;            &lt;/tns:authentication&gt;&quot;\n                    + &quot;            &lt;tns:accountId&gt;ACCOUNT_AWC_LIFEEUR&lt;/tns:accountId&gt;&quot;\n                    + &quot;            &lt;tns:customerInformation&gt;&quot;\n                    + &quot;                &lt;tns:partnerCode&gt;ALS&lt;/tns:partnerCode&gt;&quot;\n                    + &quot;                &lt;tns:buCode&gt;CH&lt;/tns:buCode&gt;&quot;\n                    + &quot;            &lt;/tns:customerInformation&gt;&quot;\n                    + &quot;            &lt;tns:paymentInformation&gt;&quot;\n                    + &quot;                &lt;tns:paymentHolder&gt;&quot;\n                    + &quot;                    &lt;tns:name&gt;Charlie&lt;/tns:name&gt;&quot;\n                    + &quot;                    &lt;tns:email&gt;charlie@allianz.com&lt;/tns:email&gt;&quot;\n                    + &quot;                    &lt;tns:address&gt;&quot;\n                    + &quot;                        &lt;tns:address&gt;11/22 Street1 Road1&lt;/tns:address&gt;&quot;\n                    + &quot;                        &lt;tns:city&gt;Penang&lt;/tns:city&gt;&quot;\n                    + &quot;                        &lt;tns:country&gt;ID&lt;/tns:country&gt;&quot;\n                    + &quot;                    &lt;/tns:address&gt;&quot;\n                    + &quot;                &lt;/tns:paymentHolder&gt;&quot;\n                    + &quot;                &lt;tns:amount currency=\\&quot;USD\\&quot;&gt;33.33&lt;/tns:amount&gt;&quot;\n                    + &quot;                &lt;tns:cardInformation&gt;&quot;\n                    + &quot;                    &lt;tns:cardType&gt;&quot; + CardType + &quot;&lt;/tns:cardType&gt;&quot;\n                    + &quot;                    &lt;tns:cardNumber&gt;&quot; + CardNum +&quot;&lt;/tns:cardNumber&gt;&quot;\n                    + &quot;                    &lt;tns:cvc&gt;&quot; + CardCVC + &quot;&lt;/tns:cvc&gt;&quot;\n                    + &quot;                    &lt;tns:expiryDate month=\\&quot;10\\&quot; year=\\&quot;2023\\&quot;/&gt;&quot;\n                    + &quot;                &lt;/tns:cardInformation&gt;&quot;\n                    + &quot;                &lt;tns:shopperInformation&gt;&quot;\n                    + &quot;                    &lt;tns:browser&gt;&quot;\n                    + &quot;                        &lt;tns:userAgentHeader&gt;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.102 Safari/537.36&lt;/tns:userAgentHeader&gt;&quot;\n                    + &quot;                        &lt;tns:acceptHeader&gt;application/json, text/plain, */*&lt;/tns:acceptHeader&gt;&quot;\n                    + &quot;                    &lt;/tns:browser&gt;&quot;\n                    + &quot;                    &lt;tns:ipAddress&gt;103.233.174.2&lt;/tns:ipAddress&gt;&quot;\n                    + &quot;                    &lt;tns:sessionId&gt;1&lt;/tns:sessionId&gt;&quot;\n                    + &quot;                &lt;/tns:shopperInformation&gt;&quot;\n                    + &quot;            &lt;/tns:paymentInformation&gt;&quot;\n                    + &quot;        &lt;/tns:authorize&gt;&quot;\n                    + &quot;    &lt;/soapenv:Body&gt;&quot;\n                    + &quot;&lt;/soapenv:Envelope&gt;&quot;;\n              \n              con.setDoOutput(true);\n              DataOutputStream wr = new DataOutputStream(con.getOutputStream());\n              wr.writeBytes(xml);\n              wr.flush();\n              wr.close();\n              String responseStatus = con.getResponseMessage();\n              System.out.println(responseStatus);\n              BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\n              String inputLine;\n              StringBuffer response = new StringBuffer();\n              while ((inputLine = in.readLine()) != null) {\n                  response.append(inputLine);\n              }\n              in.close();\n              //System.out.println(&quot;response:&quot; + response.toString());\n              \n              Document doc = DocumentBuilderFactory.newInstance().newDocumentBuilder()\n                .parse(new InputSource(new StringReader(response.toString())));\n              NodeList errNodes = doc.getElementsByTagName(&quot;ns2:paymentStatus&quot;);\n              if (errNodes.getLength() &gt; 0) {\n                  Element err = (Element)errNodes.item(0);\n                  System.out.println(&quot;Transaction ID -&quot;+err.getElementsByTagName(&quot;ns2:paymentTransactionId&quot;).item(0).getTextContent());\n                  System.out.println(&quot;Order Status -&quot;+err.getElementsByTagName(&quot;ns2:orderStatus&quot;).item(0).getTextContent());\n                  System.out.println(&quot;Order Reason -&quot;+err.getElementsByTagName(&quot;ns2:orderReason&quot;).item(0).getTextContent());\n                  System.out.println(&quot;Transaction Status -&quot;+err.getElementsByTagName(&quot;ns2:paymentTransactionStatus&quot;).item(0).getTextContent());\n              } else {\n                  // success\n              }\n\n          } catch (Exception e) {\n              System.out.println(e);\n          }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security","springfox"],"comments":[{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1627433108,"post_id":68553077,"comment_id":121153496,"body_markdown":"since you have written a custom filter, you are on your own. Then you have to do all the exclusions by yourself. Spring has had support for Baerer tokens for 3 years now with filters that you can customize. No idea why you would write a custom security solution from scratch which is usually concidered bad practice https://docs.spring.io/spring-security/site/docs/current/reference/html5/#oauth2resourceserver-jwt-architecture i suggest when you are looking around on the internet that you look at the reference first","body":"since you have written a custom filter, you are on your own. Then you have to do all the exclusions by yourself. Spring has had support for Baerer tokens for 3 years now with filters that you can customize. No idea why you would write a custom security solution from scratch which is usually concidered bad practice <a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/html5/#oauth2resourceserver-jwt-architecture\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/site/docs/current/reference/&hellip;</a> i suggest when you are looking around on the internet that you look at the reference first"},{"owner":{"account_id":2969956,"reputation":486,"user_id":2522234,"display_name":"RMSD"},"score":0,"creation_date":1627437454,"post_id":68553077,"comment_id":121154163,"body_markdown":"@Toerktumlare As far as I understand, for what I&#39;m trying to do using an authenticationfilter is a pretty common pattern: https://stackoverflow.com/questions/49731231/authentication-with-custom-token-in-spring-boot and https://stackoverflow.com/questions/42354138/spring-security-token-based-authentication. I see articles using this pattern well into 2020 so it doesn&#39;t seem so crazy to me. Granted, I&#39;m not looking for my bearer token to be in my security context, I want other specific header values (like IAT) in my security context at the controller level; hence the filter.","body":"@Toerktumlare As far as I understand, for what I&#39;m trying to do using an authenticationfilter is a pretty common pattern: <a href=\"https://stackoverflow.com/questions/49731231/authentication-with-custom-token-in-spring-boot\" title=\"authentication with custom token in spring boot\">stackoverflow.com/questions/49731231/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/42354138/spring-security-token-based-authentication\" title=\"spring security token based authentication\">stackoverflow.com/questions/42354138/&hellip;</a>. I see articles using this pattern well into 2020 so it doesn&#39;t seem so crazy to me. Granted, I&#39;m not looking for my bearer token to be in my security context, I want other specific header values (like IAT) in my security context at the controller level; hence the filter."},{"owner":{"account_id":2969956,"reputation":486,"user_id":2522234,"display_name":"RMSD"},"score":0,"creation_date":1627467851,"post_id":68553077,"comment_id":121162522,"body_markdown":"My jwt token auth is being done at a higher level at the api gateway layer, with a completely separate application.","body":"My jwt token auth is being done at a higher level at the api gateway layer, with a completely separate application."}],"answers":[{"tags":[],"owner":{"account_id":7134819,"reputation":5058,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1627479156,"creation_date":1627479156,"answer_id":68561393,"question_id":68553077,"body_markdown":"In your custom `AuthenticationFilter` you can define a `RequestMatcher` and use it before doing your logic, like so: \r\n```java\r\npublic class AuthenticationFilter extends OncePerRequestFilter {\r\n    private final RequestMatcher ignoredPaths = new AntPathRequestMatcher(&quot;/swagger-ui&quot;);\r\n\r\n    @Override\r\n\tprotected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) {\r\n        if (this.ignoredPaths.matches(request)) { \r\n             filterChain.doFilter(request, response);\r\n             return;\r\n        }\r\n\r\n        // do your logic\r\n        filterChain.doFilter(request, response);\r\n    }\r\n}\r\n```","title":"Disabling a filter for only a few paths","body":"<p>In your custom <code>AuthenticationFilter</code> you can define a <code>RequestMatcher</code> and use it before doing your logic, like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AuthenticationFilter extends OncePerRequestFilter {\n    private final RequestMatcher ignoredPaths = new AntPathRequestMatcher(&quot;/swagger-ui&quot;);\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) {\n        if (this.ignoredPaths.matches(request)) { \n             filterChain.doFilter(request, response);\n             return;\n        }\n\n        // do your logic\n        filterChain.doFilter(request, response);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25690087,"reputation":1360,"user_id":19451633,"display_name":"Andrei Titov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656589731,"creation_date":1656589731,"answer_id":72815265,"question_id":68553077,"body_markdown":"You can override ```shouldNotFilter``` method of ```OncePerRequestFilter``` in your custom filter to split your *filter* and *not_filter* logic, e.g. like this:\r\n\r\n```\r\npublic class AuthenticationFilter extends OncePerRequestFilter {\r\n\r\n    private final List&lt;AntPathRequestMatcher&gt; excludedMatchers;\r\n\r\n    public AuthenticationFilter (List&lt;AntPathRequestMatcher&gt; excludedMatchers) {\r\n        this.excludedMatchers = excludedMatchers;\r\n    }\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n\r\n        // your filter logic here\r\n        filterChain.doFilter(request, response);\r\n    }\r\n\r\n    @Override\r\n    protected boolean shouldNotFilter(HttpServletRequest request) throws ServletException {\r\n        return excludedMatchers.stream()\r\n                .anyMatch(matcher -&gt; matcher.matches(request));\r\n    }\r\n}\r\n\r\n```\r\n\r\nBy default this method always returns ```false```, so a filter is applied to any request unless otherwise specified.\r\n\r\nNote, that ```AntPathRequestMatcher```&#39;s constructor also can take http method, allowing to create more specific *not_filter* logic, if you have multiple endpoints with the same path and different request methods, but want to allow a free access only to a specific one.","title":"Disabling a filter for only a few paths","body":"<p>You can override <code>shouldNotFilter</code> method of <code>OncePerRequestFilter</code> in your custom filter to split your <em>filter</em> and <em>not_filter</em> logic, e.g. like this:</p>\n<pre><code>public class AuthenticationFilter extends OncePerRequestFilter {\n\n    private final List&lt;AntPathRequestMatcher&gt; excludedMatchers;\n\n    public AuthenticationFilter (List&lt;AntPathRequestMatcher&gt; excludedMatchers) {\n        this.excludedMatchers = excludedMatchers;\n    }\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n\n        // your filter logic here\n        filterChain.doFilter(request, response);\n    }\n\n    @Override\n    protected boolean shouldNotFilter(HttpServletRequest request) throws ServletException {\n        return excludedMatchers.stream()\n                .anyMatch(matcher -&gt; matcher.matches(request));\n    }\n}\n\n</code></pre>\n<p>By default this method always returns <code>false</code>, so a filter is applied to any request unless otherwise specified.</p>\n<p>Note, that <code>AntPathRequestMatcher</code>'s constructor also can take http method, allowing to create more specific <em>not_filter</em> logic, if you have multiple endpoints with the same path and different request methods, but want to allow a free access only to a specific one.</p>\n"}],"owner":{"account_id":2969956,"reputation":486,"user_id":2522234,"display_name":"RMSD"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6184,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68561393,"answer_count":2,"score":1,"last_activity_date":1683188646,"creation_date":1627432483,"question_id":68553077,"body_markdown":"How do I get a filter to apply to every request off the root path except for ones I want to ignore? Here&#39;s my example:\r\n\r\nI have a Spring Security filter like so:\r\n\r\n```java\r\nprivate static class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\r\n    @Override\r\n    public void configure(HttpSecurity http) throws Exception {\r\n        http\r\n            .csrf().disable()\r\n            .antMatcher(&quot;/**&quot;)\r\n            .addFilterBefore(new AuthenticationFilter(), basicAuthenticationFilter.class);\r\n    }\r\n\r\n    @Override\r\n    public void configure(WebSecurity web) {\r\n        web\r\n           .ignoring()\r\n               .requestMatchers(SecurityServletRequestMatchers.servletIgnoreAuthMatcher());\r\n    }\r\n}\r\n```\r\n\r\nThis filter populates a `CustomApiToken` object which contains all of our header information and puts it in the Spring Security context `SecurityContextHolder.getContext().setAuthentication(token)` for easy access to the token on the requesting controller.\r\n\r\nI&#39;m trying to add Springfox to the project, which means I want to disable the filter for the UI and API docs pages.\r\n\r\nMy original attempt was to add a clause to the method:\r\n\r\n```java\r\n@Override\r\npublic void configure(HttpSecurity http) throws Exception {\r\n    http\r\n        .csrf().disable()\r\n        .antMatcher(&quot;/**&quot;)\r\n        .addFilterBefore(new AuthenticationFilter(), BasicAuthenticationFilter.class);\r\n\r\n    http\r\n        .requestMatcher(SecurityServletRequestMatchers.servletIgnoreAuthMatcher())\r\n        .headers() //.servletIgnoreAuthMatchers has all the swagger urls also\r\n            .defaultsDisabled()\r\n            .disable()\r\n        .authorizeRequests()\r\n            .anyRequest().authenticated();\r\n}\r\n```\r\n\r\nHowever I discovered that this only takes the second clause into account due to Spring Security only accepting the last clause.\r\n\r\nI&#39;ve since tried:\r\n\r\n```java\r\n@Override\r\npublic void configure(HttpSecurity http) throws Exception {\r\n    http\r\n        .csrf().disable()\r\n        .antMatcher(&quot;/**&quot;)\r\n        .addFilterBefore(new AuthenticationFilter(), BasicAuthenticationFilter.class)\r\n        .requestMatcher(SecurityServletRequestMatchers.servletIgnoreAuthMatcher())\r\n        .headers()\r\n            .defaultsDisabled()\r\n            .disable()\r\n        .authorizeRequests()\r\n            .anyRequest().authenticated();\r\n}\r\n```\r\n\r\nBut that left the web filter on the Springfox URL giving me a missing authentication token error.\r\n\r\nI&#39;ve tried looking around here, and on the internet, but none of the examples have given me an acceptable response yet.\r\n","title":"Disabling a filter for only a few paths","body":"<p>How do I get a filter to apply to every request off the root path except for ones I want to ignore? Here's my example:</p>\n<p>I have a Spring Security filter like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Override\n    public void configure(HttpSecurity http) throws Exception {\n        http\n            .csrf().disable()\n            .antMatcher(&quot;/**&quot;)\n            .addFilterBefore(new AuthenticationFilter(), basicAuthenticationFilter.class);\n    }\n\n    @Override\n    public void configure(WebSecurity web) {\n        web\n           .ignoring()\n               .requestMatchers(SecurityServletRequestMatchers.servletIgnoreAuthMatcher());\n    }\n}\n</code></pre>\n<p>This filter populates a <code>CustomApiToken</code> object which contains all of our header information and puts it in the Spring Security context <code>SecurityContextHolder.getContext().setAuthentication(token)</code> for easy access to the token on the requesting controller.</p>\n<p>I'm trying to add Springfox to the project, which means I want to disable the filter for the UI and API docs pages.</p>\n<p>My original attempt was to add a clause to the method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void configure(HttpSecurity http) throws Exception {\n    http\n        .csrf().disable()\n        .antMatcher(&quot;/**&quot;)\n        .addFilterBefore(new AuthenticationFilter(), BasicAuthenticationFilter.class);\n\n    http\n        .requestMatcher(SecurityServletRequestMatchers.servletIgnoreAuthMatcher())\n        .headers() //.servletIgnoreAuthMatchers has all the swagger urls also\n            .defaultsDisabled()\n            .disable()\n        .authorizeRequests()\n            .anyRequest().authenticated();\n}\n</code></pre>\n<p>However I discovered that this only takes the second clause into account due to Spring Security only accepting the last clause.</p>\n<p>I've since tried:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void configure(HttpSecurity http) throws Exception {\n    http\n        .csrf().disable()\n        .antMatcher(&quot;/**&quot;)\n        .addFilterBefore(new AuthenticationFilter(), BasicAuthenticationFilter.class)\n        .requestMatcher(SecurityServletRequestMatchers.servletIgnoreAuthMatcher())\n        .headers()\n            .defaultsDisabled()\n            .disable()\n        .authorizeRequests()\n            .anyRequest().authenticated();\n}\n</code></pre>\n<p>But that left the web filter on the Springfox URL giving me a missing authentication token error.</p>\n<p>I've tried looking around here, and on the internet, but none of the examples have given me an acceptable response yet.</p>\n"},{"tags":["java","jersey"],"comments":[{"owner":{"account_id":4996271,"reputation":971,"user_id":4108345,"accept_rate":61,"display_name":"Harsh Kanakhara"},"score":0,"creation_date":1683189500,"post_id":76171033,"comment_id":134329233,"body_markdown":"pom.xml mentioned here is your parent-pom inherited by your project? if this is the parent pom.xml and please share your project pom.xml too. If there is a single pom then please move AWS dependency to dependencies and remove dependencyManagement and change scope to runtime.","body":"pom.xml mentioned here is your parent-pom inherited by your project? if this is the parent pom.xml and please share your project pom.xml too. If there is a single pom then please move AWS dependency to dependencies and remove dependencyManagement and change scope to runtime."},{"owner":{"account_id":1705601,"reputation":547,"user_id":1564698,"accept_rate":82,"display_name":"Shourya Sharma"},"score":0,"creation_date":1683202842,"post_id":76171033,"comment_id":134332342,"body_markdown":"what do you mean by: &quot;my team was using the older version of jdk 1.8&quot;?","body":"what do you mean by: &quot;my team was using the older version of jdk 1.8&quot;?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1683216646,"post_id":76171033,"comment_id":134336194,"body_markdown":"Rerun that with the `-e` flag.  You need to figure out why the `software.amazon.awssdk:bom:pom:2.5.61` artifact dependency is not being downloaded.","body":"Rerun that with the <code>-e</code> flag.  You need to figure out why the <code>software.amazon.awssdk:bom:pom:2.5.61</code> artifact dependency is not being downloaded."}],"owner":{"account_id":28502441,"reputation":1,"user_id":21813507,"display_name":"Roshan Jogi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683188510,"creation_date":1683188510,"question_id":76171033,"body_markdown":"\r\nI am using jdk 1.8 and facing the issue while cleaning the package using maven. First, I tried with latest version of jdk but it was having some conflicts w.r.t my test case file. Because, I was able to build it when commenting out the testcases and If I uncomment those testcases, then I was facing the same issue. Now, my team was using the older version of jdk 1.8, so now when I am trying with that I am facing the issue for cleaning the package also.\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0\r\n         http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;junit.version&gt;4.12&lt;/junit.version&gt;\r\n        &lt;slf4j.version&gt;1.7.21&lt;/slf4j.version&gt;\r\n        &lt;maven.versions.plugin&gt;2.8.1&lt;/maven.versions.plugin&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;modules&gt;\r\n        &lt;module&gt;XYZ-dal-mysql&lt;/module&gt;\r\n        &lt;module&gt;XYZ-dal&lt;/module&gt;\r\n        &lt;module&gt;XYZ-api&lt;/module&gt;\r\n        &lt;module&gt;XYZ-api-dist&lt;/module&gt;\r\n        &lt;module&gt;XYZ-api-model&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.7.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${java.version}&lt;/source&gt;\r\n                    &lt;target&gt;${java.version}&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.7.9&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;jacoco-initialize&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;jacoco-site&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;report&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;versions-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven.versions.plugin}&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.11&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n                &lt;artifactId&gt;bom&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5.61&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;distributionManagement&gt;\r\n      &lt;repository&gt;\r\n        &lt;id&gt;XYZ-repo&lt;/id&gt;\r\n        &lt;name&gt;XYZ-repo&lt;/name&gt;\r\n        &lt;url&gt;XYZ-URL&lt;/url&gt;\r\n      &lt;/repository&gt;\r\n    &lt;/distributionManagement&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nThe error looks like this :-\r\n(xyz-repo is a private link which needs credentials to download the dependency and I am generating a token so that It can pass the authentication using that token and download)\r\n```\r\nPS C:\\Users\\DELLUSER\\xyz &gt; mvn clean\r\n[INFO] Scanning for projects...\r\nDownloading from XYZ-Repo\r\n[ERROR] [ERROR] Some problems were encountered while processing the POMs:\r\n[ERROR] Non-resolvable import POM: The following artifacts could not be resolved: software.amazon.awssdk:bom:pom:2.5.61 (absent): Could not transfer artifact software.amazon.awssdk:bom\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException\r\n[ERROR] [Help 2] http://cwiki.apache.org/confluence/display/MAVEN/UnresolvableModelException\r\n\r\n```","title":"Facing issue while processing the POMs when I am cleaning and building the project using maven","body":"<p>I am using jdk 1.8 and facing the issue while cleaning the package using maven. First, I tried with latest version of jdk but it was having some conflicts w.r.t my test case file. Because, I was able to build it when commenting out the testcases and If I uncomment those testcases, then I was facing the same issue. Now, my team was using the older version of jdk 1.8, so now when I am trying with that I am facing the issue for cleaning the package also.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0\n         http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;junit.version&gt;4.12&lt;/junit.version&gt;\n        &lt;slf4j.version&gt;1.7.21&lt;/slf4j.version&gt;\n        &lt;maven.versions.plugin&gt;2.8.1&lt;/maven.versions.plugin&gt;\n    &lt;/properties&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;XYZ-dal-mysql&lt;/module&gt;\n        &lt;module&gt;XYZ-dal&lt;/module&gt;\n        &lt;module&gt;XYZ-api&lt;/module&gt;\n        &lt;module&gt;XYZ-api-dist&lt;/module&gt;\n        &lt;module&gt;XYZ-api-model&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.7.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.7.9&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;jacoco-initialize&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;jacoco-site&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;versions-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven.versions.plugin}&lt;/version&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;version&gt;1.2.11&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n                &lt;artifactId&gt;bom&lt;/artifactId&gt;\n                &lt;version&gt;2.5.61&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;distributionManagement&gt;\n      &lt;repository&gt;\n        &lt;id&gt;XYZ-repo&lt;/id&gt;\n        &lt;name&gt;XYZ-repo&lt;/name&gt;\n        &lt;url&gt;XYZ-URL&lt;/url&gt;\n      &lt;/repository&gt;\n    &lt;/distributionManagement&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>The error looks like this :-\n(xyz-repo is a private link which needs credentials to download the dependency and I am generating a token so that It can pass the authentication using that token and download)</p>\n<pre><code>PS C:\\Users\\DELLUSER\\xyz &gt; mvn clean\n[INFO] Scanning for projects...\nDownloading from XYZ-Repo\n[ERROR] [ERROR] Some problems were encountered while processing the POMs:\n[ERROR] Non-resolvable import POM: The following artifacts could not be resolved: software.amazon.awssdk:bom:pom:2.5.61 (absent): Could not transfer artifact software.amazon.awssdk:bom\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException\n[ERROR] [Help 2] http://cwiki.apache.org/confluence/display/MAVEN/UnresolvableModelException\n\n</code></pre>\n"},{"tags":["java","apache-spark"],"comments":[{"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"score":0,"creation_date":1598289882,"post_id":63565589,"comment_id":112404429,"body_markdown":"[`SparkContext`](https://spark.apache.org/docs/latest/api/java/org/apache/spark/SparkContext.html) seems to be available from java api so why cannot you use it?","body":"<a href=\"https://spark.apache.org/docs/latest/api/java/org/apache/spark/SparkContext.html\" rel=\"nofollow noreferrer\"><code>SparkContext</code></a> seems to be available from java api so why cannot you use it?"},{"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"score":1,"creation_date":1598291529,"post_id":63565589,"comment_id":112405231,"body_markdown":"Specifically you can obtain `SparkContext` from `JavaSparkContext` by using static method [`JavaSparkContext::toSparkContext`](https://spark.apache.org/docs/latest/api/java/org/apache/spark/api/java/JavaSparkContext.html#toSparkContext-org.apache.spark.api.java.JavaSparkContext-)","body":"Specifically you can obtain <code>SparkContext</code> from <code>JavaSparkContext</code> by using static method <a href=\"https://spark.apache.org/docs/latest/api/java/org/apache/spark/api/java/JavaSparkContext.html#toSparkContext-org.apache.spark.api.java.JavaSparkContext-\" rel=\"nofollow noreferrer\"><code>JavaSparkContext::toSparkContext</code></a>"},{"owner":{"account_id":6099207,"reputation":6223,"user_id":4758823,"display_name":"Som"},"score":0,"creation_date":1598328655,"post_id":63565589,"comment_id":112415243,"body_markdown":"This SO answer will help you - https://stackoverflow.com/a/47405382/4758823","body":"This SO answer will help you - <a href=\"https://stackoverflow.com/a/47405382/4758823\">stackoverflow.com/a/47405382/4758823</a>"}],"answers":[{"tags":[],"owner":{"account_id":6099207,"reputation":6223,"user_id":4758823,"display_name":"Som"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598331905,"creation_date":1598331905,"answer_id":63572353,"question_id":63565589,"body_markdown":"My answer is mostly based on [this SO Answer][1].\r\nRecently, `getExecutorStorageStatus` has been removed from `SparkContext`(in the newer version of spark). Hence you can&#39;t use `sc. getExecutorStorageStatus`. Instead we can use SparkEnv&#39;s `blockManager.master.getStorageStatus.length - 1` (the minus one is for the driver again). The normal way to get to it, via `env` of `SparkContext`. But it is not accessible outside of the `org.apache.spark` package. Therefore, we use an **`encapsulation violation pattern`** as:\r\n```scala\r\npackage org.apache.spark.util\r\n\r\nimport org.apache.spark.{SparkContext, SparkEnv}\r\n\r\n/**\r\n  * Below objects are not accessible outside of the org.apache.spark.util package.\r\n  * Therefore, we use an encapsulation violation pattern.\r\n  */\r\nobject SparkInternalUtils {\r\n\r\n  def sparkEnv(sc: SparkContext): SparkEnv = sc.env\r\n  def getThreadUtils: ThreadUtils.type = ThreadUtils\r\n\r\n}\r\n```\r\nNow, we can get the instance of `SparkEnv` using `SparkInternalUtils.sparkEnv(sc)`\r\n\r\nDefine RichSparkContext as below-\r\n```scala\r\n\r\nimport org.apache.spark.SparkContext\r\nimport org.apache.spark.util.SparkInternalUtils\r\n\r\nimport scala.language.implicitConversions\r\n\r\n\r\nclass RichSparkContext(val sc: SparkContext) {\r\n\r\n  def executorCount: Int =\r\n    SparkInternalUtils.sparkEnv(sc).blockManager.master.getStorageStatus.length - 1 // one is the driver\r\n\r\n  def coresPerExecutor: Int =\r\n    RichSparkContext.coresPerExecutor(sc)\r\n\r\n  def coreCount: Int =\r\n    executorCount * coresPerExecutor\r\n\r\n  def coreCount(coresPerExecutor: Int): Int =\r\n    executorCount * coresPerExecutor\r\n\r\n}\r\n\r\n\r\nobject RichSparkContext {\r\n\r\n  trait Enrichment {\r\n    implicit def enrichMetadata(sc: SparkContext): RichSparkContext =\r\n      new RichSparkContext(sc)\r\n  }\r\n\r\n  object implicits extends Enrichment\r\n\r\n  private var _coresPerExecutor: Int = 0\r\n\r\n  def coresPerExecutor(sc: SparkContext): Int =\r\n    synchronized {\r\n      if (_coresPerExecutor == 0)\r\n        sc.range(0, 1).map(_ =&gt; java.lang.Runtime.getRuntime.availableProcessors).collect.head\r\n      else _coresPerExecutor\r\n    }\r\n\r\n}\r\n```\r\n**`In scala, get the number of executors &amp; and core count`**\r\n```scala\r\nval sc = ... // SparkContext instance\r\n    import RichSparkContext.implicits._\r\n    val executorCount = sc.executorCount\r\nval coresPerExecutor = sc.coresPerExecutor\r\nval totalCoreCount = sc.coreCount\r\n```\r\n\r\n**`In java, get the number of executors &amp; and core count`**\r\n```java\r\n JavaSparkContext javaSparkContext = new JavaSparkContext(spark.sparkContext());\r\n        RichSparkContext richSparkContext = new RichSparkContext(javaSparkContext.sc());\r\n        System.out.println(richSparkContext.coresPerExecutor());\r\n        System.out.println(richSparkContext.coreCount());\r\n        System.out.println(richSparkContext.executorCount());\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/47405382/4758823","title":"How to get number of executors and number of cores in Java spark","body":"<p>My answer is mostly based on <a href=\"https://stackoverflow.com/a/47405382/4758823\">this SO Answer</a>.\nRecently, <code>getExecutorStorageStatus</code> has been removed from <code>SparkContext</code>(in the newer version of spark). Hence you can't use <code>sc. getExecutorStorageStatus</code>. Instead we can use SparkEnv's <code>blockManager.master.getStorageStatus.length - 1</code> (the minus one is for the driver again). The normal way to get to it, via <code>env</code> of <code>SparkContext</code>. But it is not accessible outside of the <code>org.apache.spark</code> package. Therefore, we use an <strong><code>encapsulation violation pattern</code></strong> as:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>package org.apache.spark.util\n\nimport org.apache.spark.{SparkContext, SparkEnv}\n\n/**\n  * Below objects are not accessible outside of the org.apache.spark.util package.\n  * Therefore, we use an encapsulation violation pattern.\n  */\nobject SparkInternalUtils {\n\n  def sparkEnv(sc: SparkContext): SparkEnv = sc.env\n  def getThreadUtils: ThreadUtils.type = ThreadUtils\n\n}\n</code></pre>\n<p>Now, we can get the instance of <code>SparkEnv</code> using <code>SparkInternalUtils.sparkEnv(sc)</code></p>\n<p>Define RichSparkContext as below-</p>\n<pre class=\"lang-scala prettyprint-override\"><code>\nimport org.apache.spark.SparkContext\nimport org.apache.spark.util.SparkInternalUtils\n\nimport scala.language.implicitConversions\n\n\nclass RichSparkContext(val sc: SparkContext) {\n\n  def executorCount: Int =\n    SparkInternalUtils.sparkEnv(sc).blockManager.master.getStorageStatus.length - 1 // one is the driver\n\n  def coresPerExecutor: Int =\n    RichSparkContext.coresPerExecutor(sc)\n\n  def coreCount: Int =\n    executorCount * coresPerExecutor\n\n  def coreCount(coresPerExecutor: Int): Int =\n    executorCount * coresPerExecutor\n\n}\n\n\nobject RichSparkContext {\n\n  trait Enrichment {\n    implicit def enrichMetadata(sc: SparkContext): RichSparkContext =\n      new RichSparkContext(sc)\n  }\n\n  object implicits extends Enrichment\n\n  private var _coresPerExecutor: Int = 0\n\n  def coresPerExecutor(sc: SparkContext): Int =\n    synchronized {\n      if (_coresPerExecutor == 0)\n        sc.range(0, 1).map(_ =&gt; java.lang.Runtime.getRuntime.availableProcessors).collect.head\n      else _coresPerExecutor\n    }\n\n}\n</code></pre>\n<p><strong><code>In scala, get the number of executors &amp; and core count</code></strong></p>\n<pre class=\"lang-scala prettyprint-override\"><code>val sc = ... // SparkContext instance\n    import RichSparkContext.implicits._\n    val executorCount = sc.executorCount\nval coresPerExecutor = sc.coresPerExecutor\nval totalCoreCount = sc.coreCount\n</code></pre>\n<p><strong><code>In java, get the number of executors &amp; and core count</code></strong></p>\n<pre class=\"lang-java prettyprint-override\"><code> JavaSparkContext javaSparkContext = new JavaSparkContext(spark.sparkContext());\n        RichSparkContext richSparkContext = new RichSparkContext(javaSparkContext.sc());\n        System.out.println(richSparkContext.coresPerExecutor());\n        System.out.println(richSparkContext.coreCount());\n        System.out.println(richSparkContext.executorCount());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28434218,"reputation":1,"user_id":21754524,"display_name":"Xia Gong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683188336,"creation_date":1683188336,"answer_id":76171007,"question_id":63565589,"body_markdown":"Tried above answer and found the executor count can be fetched this way:\r\n\r\n    import org.apache.spark.SparkEnv\r\n    val executorCount = SparkEnv.get.blockManager.master.getStorageStatus.length\r\n","title":"How to get number of executors and number of cores in Java spark","body":"<p>Tried above answer and found the executor count can be fetched this way:</p>\n<pre><code>import org.apache.spark.SparkEnv\nval executorCount = SparkEnv.get.blockManager.master.getStorageStatus.length\n</code></pre>\n"}],"owner":{"account_id":3546793,"reputation":1587,"user_id":2962555,"accept_rate":44,"display_name":"Laodao"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1445,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1683188336,"creation_date":1598288817,"question_id":63565589,"body_markdown":"I am new to Spark and we are coding in Java now. The problem is that we are trying to figure out the number of executors and number of cores. I googled and saw some articles that mentioning that  the way to do that in Spark as below. But didn&#39;t see anything similar in Java (JavaSparkContext doesn&#39;t have `getExecutorMemoryStatus` or `getExecutorStorageStatus`). Can anyone help, please?\r\n\r\n     // for executor numbers\r\n     def currentActiveExecutors(sc: SparkContext): Seq[String] = {\r\n             val allExecutors = sc.getExecutorMemoryStatus.map(_._1)\r\n             val driverHost: String = sc.getConf.get(&quot;spark.driver.host&quot;)\r\n             allExecutors.filter(! _.split(&quot;:&quot;)(0).equals(driverHost)).toList\r\n           }\r\n    \r\n      // for executor core numbers\r\n      int(sc._conf.get(&#39;spark.executor.cores&#39;))","title":"How to get number of executors and number of cores in Java spark","body":"<p>I am new to Spark and we are coding in Java now. The problem is that we are trying to figure out the number of executors and number of cores. I googled and saw some articles that mentioning that  the way to do that in Spark as below. But didn't see anything similar in Java (JavaSparkContext doesn't have <code>getExecutorMemoryStatus</code> or <code>getExecutorStorageStatus</code>). Can anyone help, please?</p>\n<pre><code> // for executor numbers\n def currentActiveExecutors(sc: SparkContext): Seq[String] = {\n         val allExecutors = sc.getExecutorMemoryStatus.map(_._1)\n         val driverHost: String = sc.getConf.get(&quot;spark.driver.host&quot;)\n         allExecutors.filter(! _.split(&quot;:&quot;)(0).equals(driverHost)).toList\n       }\n\n  // for executor core numbers\n  int(sc._conf.get('spark.executor.cores'))\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":7837673,"reputation":467,"user_id":5925075,"display_name":"balazs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683187562,"creation_date":1683187562,"answer_id":76170894,"question_id":76168780,"body_markdown":"Currently your Filter is always executing, even before the non authenticated calls.\r\n\r\nTo solve that you have to add the `shouldNotFilter` method to your filter:\r\n\r\n        @Override\r\n        protected boolean shouldNotFilter(HttpServletRequest request) throws ServletException {\r\n          return request.getRequestURI().startsWith(&quot;/api/v1/login&quot;);\r\n        }\r\n\r\n\r\nExactly the same issue has been discussed in the following video at 1:11:11 timestamp: [Spring Security, demystified by Daniel Garnier Moiroux][1]\r\n\r\n\r\n  [1]: https://youtu.be/iJ2muJniikY?t=4271","title":"make access to &quot;/api/v1/login&quot; without do any filter","body":"<p>Currently your Filter is always executing, even before the non authenticated calls.</p>\n<p>To solve that you have to add the <code>shouldNotFilter</code> method to your filter:</p>\n<pre><code>    @Override\n    protected boolean shouldNotFilter(HttpServletRequest request) throws ServletException {\n      return request.getRequestURI().startsWith(&quot;/api/v1/login&quot;);\n    }\n</code></pre>\n<p>Exactly the same issue has been discussed in the following video at 1:11:11 timestamp: <a href=\"https://youtu.be/iJ2muJniikY?t=4271\" rel=\"nofollow noreferrer\">Spring Security, demystified by Daniel Garnier Moiroux</a></p>\n"}],"owner":{"account_id":28499263,"reputation":1,"user_id":21810686,"display_name":"Hamza BOUSALIH"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1683189927,"answer_count":1,"score":-1,"last_activity_date":1683187562,"creation_date":1683159901,"question_id":76168780,"body_markdown":"i want make access to `/api/v1/login` without do any filter\r\n\r\nthis the WebSecurityConfig  class\r\n\r\n```\r\npackage com.siti.analyseapp.z_security.config.securityConfig;\r\n\r\nimport com.siti.analyseapp.z_security.config.jwt.JwtAuthenticationEntryPoint;\r\nimport com.siti.analyseapp.z_security.config.jwt.JwtRequestFilter;\r\nimport com.siti.analyseapp.z_utils.enums.UserRole;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Qualifier;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.http.HttpMethod;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.ProviderManager;\r\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n\r\nimport java.util.Collections;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true, jsr250Enabled = true)\r\npublic class WebSecurityConfig {\r\n    private static final String SUPER_ADMIN_ROLE = &quot;ROLE_&quot; + UserRole.SUPER_ADMIN;\r\n    private static final String ADMIN_ROLE = &quot;ROLE_&quot; + UserRole.ADMIN;\r\n    private static final String CLIENT_ROLE = &quot;ROLE_&quot; + UserRole.CLIENT;\r\n\r\n    @Autowired private JwtAuthenticationEntryPoint jwtAuthenticationEntryPoint;\r\n    @Autowired @Qualifier(&quot;delegatedOncePerRequestFilter&quot;)\r\n    private JwtRequestFilter jwtRequestFilter;\r\n    @Autowired private UserDetailsService jwtService;\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManagerBean() {\r\n        return new ProviderManager(Collections.singletonList(authenticationProvider()));\r\n    }\r\n\r\n    @Bean\r\n    SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        return http\r\n                .cors().disable()\r\n                .csrf().disable()\r\n                .authorizeHttpRequests(auth -&gt; auth\r\n                        .requestMatchers(&quot;/api/v1/login&quot;).permitAll()\r\n\r\n                        .requestMatchers(HttpMethod.GET,&quot;**/admin/**&quot;).hasAnyAuthority(SUPER_ADMIN_ROLE, ADMIN_ROLE)\r\n                        .requestMatchers(HttpMethod.PUT,&quot;**/admin/**&quot;).hasAnyAuthority(SUPER_ADMIN_ROLE, ADMIN_ROLE)\r\n                        .requestMatchers(HttpMethod.POST,&quot;**/admin/**&quot;).hasAnyAuthority(SUPER_ADMIN_ROLE)\r\n                        .requestMatchers(HttpMethod.DELETE,&quot;**/admin/**&quot;).hasAnyAuthority(SUPER_ADMIN_ROLE)\r\n\r\n                        .requestMatchers(HttpMethod.GET,&quot;**/laboratory/**&quot;).authenticated()\r\n                        .requestMatchers(HttpMethod.PUT,&quot;**/laboratory/**&quot;).hasAnyAuthority(SUPER_ADMIN_ROLE)\r\n                        .requestMatchers(HttpMethod.POST,&quot;**/laboratory/**&quot;).hasAnyAuthority(SUPER_ADMIN_ROLE)\r\n                        .requestMatchers(HttpMethod.DELETE,&quot;**/laboratory/**&quot;).hasAnyAuthority(SUPER_ADMIN_ROLE)\r\n\r\n                        .requestMatchers(HttpMethod.GET,&quot;**/client/**&quot;).authenticated()\r\n                        .requestMatchers(HttpMethod.PUT,&quot;**/client/**&quot;).hasAnyAuthority(ADMIN_ROLE, CLIENT_ROLE)\r\n                        .requestMatchers(HttpMethod.POST,&quot;**/client/**&quot;).hasAnyAuthority(ADMIN_ROLE)\r\n                        .requestMatchers(HttpMethod.DELETE,&quot;**/client/**&quot;).hasAnyAuthority(ADMIN_ROLE)\r\n\r\n                        .requestMatchers(HttpMethod.GET,&quot;**/analyse/**&quot;).authenticated()\r\n                        .requestMatchers(HttpMethod.PUT,&quot;**/analyse/**&quot;).hasAnyAuthority(ADMIN_ROLE)\r\n                        .requestMatchers(HttpMethod.POST,&quot;**/analyse/**&quot;).hasAnyAuthority(ADMIN_ROLE)\r\n                        .requestMatchers(HttpMethod.DELETE,&quot;**/analyse/**&quot;).hasAnyAuthority(ADMIN_ROLE)\r\n\r\n                        .requestMatchers(HttpMethod.OPTIONS).permitAll()\r\n                        .anyRequest().permitAll()\r\n                )\r\n                .exceptionHandling().authenticationEntryPoint(jwtAuthenticationEntryPoint)\r\n                .and()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class)\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider authenticationProvider() {\r\n        DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\r\n        authenticationProvider.setUserDetailsService(jwtService);\r\n        authenticationProvider.setPasswordEncoder(passwordEncoder());\r\n        return authenticationProvider;\r\n    }\r\n}\r\n```\r\n\r\n\r\nand this the filter\r\n\r\n\r\n```\r\npackage com.siti.analyseapp.z_security.config.jwt;\r\n\r\nimport com.siti.analyseapp.exceptions.ApiException;\r\nimport com.siti.analyseapp.z_security.service.JwtService;\r\nimport com.siti.analyseapp.z_utils.securityUtils.JwtUtil;\r\nimport io.jsonwebtoken.ExpiredJwtException;\r\nimport jakarta.servlet.FilterChain;\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.lang.NonNull;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.web.authentication.WebAuthenticationDetailsSource;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.web.filter.OncePerRequestFilter;\r\n\r\nimport java.io.IOException;\r\n\r\nimport static com.siti.analyseapp.z_utils.securityUtils.JwtProperties.HEADER_STRING;\r\nimport static com.siti.analyseapp.z_utils.securityUtils.JwtProperties.TOKEN_PREFIX;\r\n\r\n@Component(&quot;delegatedOncePerRequestFilter&quot;)\r\npublic class JwtRequestFilter extends OncePerRequestFilter {\r\n\r\n    @Autowired private JwtUtil jwtUtil;\r\n    @Autowired private JwtService jwtService;\r\n\r\n    @Override\r\n    protected void doFilterInternal(\r\n            HttpServletRequest request,\r\n            @NonNull HttpServletResponse response,\r\n            @NonNull FilterChain filterChain) throws ServletException, IOException, ApiException {\r\n\r\n        final String header = request.getHeader(HEADER_STRING);\r\n\r\n        String jwtToken = null;\r\n        String username = null;\r\n        if (header == null) {\r\n//            System.out.println(&quot;Authorization header is missing&quot;);\r\n            throw new ApiException(&quot;Authorization header is missing&quot;, HttpStatus.UNAUTHORIZED);\r\n        } else if (!header.startsWith(TOKEN_PREFIX)) {\r\n            throw new ApiException(&quot;Authorization header is not a bearer token&quot;, HttpStatus.UNAUTHORIZED);\r\n        } else {\r\n            jwtToken = header.substring(7);\r\n\r\n            try {\r\n                username = jwtUtil.getUsernameFromToken(jwtToken);\r\n            } catch (IllegalArgumentException e) {\r\n                throw new ApiException(&quot;Unable to get Jwt&quot;, HttpStatus.UNAUTHORIZED);\r\n            } catch (ExpiredJwtException e) {\r\n                throw new ApiException(&quot;Jwt is expired&quot;, HttpStatus.UNAUTHORIZED);\r\n            }\r\n        }\r\n\r\n        if (username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\r\n            UserDetails userDetails = jwtService.loadUserByUsername(username);\r\n\r\n            boolean isValid = jwtUtil.validateToken(jwtToken, userDetails);\r\n            if (isValid) {\r\n                UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(\r\n                        userDetails,\r\n                        null,\r\n                        userDetails.getAuthorities()\r\n                );\r\n                authenticationToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n                SecurityContextHolder.getContext().setAuthentication(authenticationToken);\r\n            }\r\n        }\r\n\r\n        filterChain.doFilter(request,response);\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\nPOST http://localhost:8036/api/v1/login\r\ncontent-type: application/json\r\n\r\n{\r\n  &quot;username&quot;: &quot;admin.super@661&quot;,\r\n  &quot;password&quot;: &quot;0000&quot;\r\n}\r\n```\r\n\r\n\r\nthis the output\r\n\r\n```\r\ncom.siti.analyseapp.exceptions.ApiException: Authorization header is missing\r\n\tat com.siti.analyseapp.z_security.config.jwt.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:44) ~[classes/:na]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8] ...\r\n\r\n```\r\n\r\n","title":"make access to &quot;/api/v1/login&quot; without do any filter","body":"<p>i want make access to <code>/api/v1/login</code> without do any filter</p>\n<p>this the WebSecurityConfig  class</p>\n<pre><code>package com.siti.analyseapp.z_security.config.securityConfig;\n\nimport com.siti.analyseapp.z_security.config.jwt.JwtAuthenticationEntryPoint;\nimport com.siti.analyseapp.z_security.config.jwt.JwtRequestFilter;\nimport com.siti.analyseapp.z_utils.enums.UserRole;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.HttpMethod;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.ProviderManager;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\n\nimport java.util.Collections;\n\n@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true, jsr250Enabled = true)\npublic class WebSecurityConfig {\n    private static final String SUPER_ADMIN_ROLE = &quot;ROLE_&quot; + UserRole.SUPER_ADMIN;\n    private static final String ADMIN_ROLE = &quot;ROLE_&quot; + UserRole.ADMIN;\n    private static final String CLIENT_ROLE = &quot;ROLE_&quot; + UserRole.CLIENT;\n\n    @Autowired private JwtAuthenticationEntryPoint jwtAuthenticationEntryPoint;\n    @Autowired @Qualifier(&quot;delegatedOncePerRequestFilter&quot;)\n    private JwtRequestFilter jwtRequestFilter;\n    @Autowired private UserDetailsService jwtService;\n\n    @Bean\n    public AuthenticationManager authenticationManagerBean() {\n        return new ProviderManager(Collections.singletonList(authenticationProvider()));\n    }\n\n    @Bean\n    SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        return http\n                .cors().disable()\n                .csrf().disable()\n                .authorizeHttpRequests(auth -&gt; auth\n                        .requestMatchers(&quot;/api/v1/login&quot;).permitAll()\n\n                        .requestMatchers(HttpMethod.GET,&quot;**/admin/**&quot;).hasAnyAuthority(SUPER_ADMIN_ROLE, ADMIN_ROLE)\n                        .requestMatchers(HttpMethod.PUT,&quot;**/admin/**&quot;).hasAnyAuthority(SUPER_ADMIN_ROLE, ADMIN_ROLE)\n                        .requestMatchers(HttpMethod.POST,&quot;**/admin/**&quot;).hasAnyAuthority(SUPER_ADMIN_ROLE)\n                        .requestMatchers(HttpMethod.DELETE,&quot;**/admin/**&quot;).hasAnyAuthority(SUPER_ADMIN_ROLE)\n\n                        .requestMatchers(HttpMethod.GET,&quot;**/laboratory/**&quot;).authenticated()\n                        .requestMatchers(HttpMethod.PUT,&quot;**/laboratory/**&quot;).hasAnyAuthority(SUPER_ADMIN_ROLE)\n                        .requestMatchers(HttpMethod.POST,&quot;**/laboratory/**&quot;).hasAnyAuthority(SUPER_ADMIN_ROLE)\n                        .requestMatchers(HttpMethod.DELETE,&quot;**/laboratory/**&quot;).hasAnyAuthority(SUPER_ADMIN_ROLE)\n\n                        .requestMatchers(HttpMethod.GET,&quot;**/client/**&quot;).authenticated()\n                        .requestMatchers(HttpMethod.PUT,&quot;**/client/**&quot;).hasAnyAuthority(ADMIN_ROLE, CLIENT_ROLE)\n                        .requestMatchers(HttpMethod.POST,&quot;**/client/**&quot;).hasAnyAuthority(ADMIN_ROLE)\n                        .requestMatchers(HttpMethod.DELETE,&quot;**/client/**&quot;).hasAnyAuthority(ADMIN_ROLE)\n\n                        .requestMatchers(HttpMethod.GET,&quot;**/analyse/**&quot;).authenticated()\n                        .requestMatchers(HttpMethod.PUT,&quot;**/analyse/**&quot;).hasAnyAuthority(ADMIN_ROLE)\n                        .requestMatchers(HttpMethod.POST,&quot;**/analyse/**&quot;).hasAnyAuthority(ADMIN_ROLE)\n                        .requestMatchers(HttpMethod.DELETE,&quot;**/analyse/**&quot;).hasAnyAuthority(ADMIN_ROLE)\n\n                        .requestMatchers(HttpMethod.OPTIONS).permitAll()\n                        .anyRequest().permitAll()\n                )\n                .exceptionHandling().authenticationEntryPoint(jwtAuthenticationEntryPoint)\n                .and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class)\n                .build();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public DaoAuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\n        authenticationProvider.setUserDetailsService(jwtService);\n        authenticationProvider.setPasswordEncoder(passwordEncoder());\n        return authenticationProvider;\n    }\n}\n</code></pre>\n<p>and this the filter</p>\n<pre><code>package com.siti.analyseapp.z_security.config.jwt;\n\nimport com.siti.analyseapp.exceptions.ApiException;\nimport com.siti.analyseapp.z_security.service.JwtService;\nimport com.siti.analyseapp.z_utils.securityUtils.JwtUtil;\nimport io.jsonwebtoken.ExpiredJwtException;\nimport jakarta.servlet.FilterChain;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.lang.NonNull;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.web.authentication.WebAuthenticationDetailsSource;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.filter.OncePerRequestFilter;\n\nimport java.io.IOException;\n\nimport static com.siti.analyseapp.z_utils.securityUtils.JwtProperties.HEADER_STRING;\nimport static com.siti.analyseapp.z_utils.securityUtils.JwtProperties.TOKEN_PREFIX;\n\n@Component(&quot;delegatedOncePerRequestFilter&quot;)\npublic class JwtRequestFilter extends OncePerRequestFilter {\n\n    @Autowired private JwtUtil jwtUtil;\n    @Autowired private JwtService jwtService;\n\n    @Override\n    protected void doFilterInternal(\n            HttpServletRequest request,\n            @NonNull HttpServletResponse response,\n            @NonNull FilterChain filterChain) throws ServletException, IOException, ApiException {\n\n        final String header = request.getHeader(HEADER_STRING);\n\n        String jwtToken = null;\n        String username = null;\n        if (header == null) {\n//            System.out.println(&quot;Authorization header is missing&quot;);\n            throw new ApiException(&quot;Authorization header is missing&quot;, HttpStatus.UNAUTHORIZED);\n        } else if (!header.startsWith(TOKEN_PREFIX)) {\n            throw new ApiException(&quot;Authorization header is not a bearer token&quot;, HttpStatus.UNAUTHORIZED);\n        } else {\n            jwtToken = header.substring(7);\n\n            try {\n                username = jwtUtil.getUsernameFromToken(jwtToken);\n            } catch (IllegalArgumentException e) {\n                throw new ApiException(&quot;Unable to get Jwt&quot;, HttpStatus.UNAUTHORIZED);\n            } catch (ExpiredJwtException e) {\n                throw new ApiException(&quot;Jwt is expired&quot;, HttpStatus.UNAUTHORIZED);\n            }\n        }\n\n        if (username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\n            UserDetails userDetails = jwtService.loadUserByUsername(username);\n\n            boolean isValid = jwtUtil.validateToken(jwtToken, userDetails);\n            if (isValid) {\n                UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(\n                        userDetails,\n                        null,\n                        userDetails.getAuthorities()\n                );\n                authenticationToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n                SecurityContextHolder.getContext().setAuthentication(authenticationToken);\n            }\n        }\n\n        filterChain.doFilter(request,response);\n    }\n}\n\n</code></pre>\n<pre><code>POST http://localhost:8036/api/v1/login\ncontent-type: application/json\n\n{\n  &quot;username&quot;: &quot;admin.super@661&quot;,\n  &quot;password&quot;: &quot;0000&quot;\n}\n</code></pre>\n<p>this the output</p>\n<pre><code>com.siti.analyseapp.exceptions.ApiException: Authorization header is missing\n    at com.siti.analyseapp.z_security.config.jwt.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:44) ~[classes/:na]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8] ...\n\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5007263,"reputation":761,"user_id":4024558,"accept_rate":43,"display_name":"Tarwirdur Turon"},"score":0,"creation_date":1488380691,"post_id":42535083,"comment_id":72205849,"body_markdown":"You can dump your traffic using `tcpdump` or `wireshark` and analyze difference.","body":"You can dump your traffic using <code>tcpdump</code> or <code>wireshark</code> and analyze difference."},{"owner":{"account_id":4440396,"reputation":315,"user_id":4575509,"accept_rate":43,"display_name":"Hari Ram"},"score":0,"creation_date":1567160693,"post_id":42535083,"comment_id":101890219,"body_markdown":"@qbolt - any solution for this??","body":"@qbolt - any solution for this??"}],"answers":[{"tags":[],"owner":{"account_id":10347632,"reputation":632,"user_id":7632058,"display_name":"Boschi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1488380631,"creation_date":1488380631,"answer_id":42535166,"question_id":42535083,"body_markdown":"As you are receiving a &quot;403: Forbidden&quot; error, it means that your Java code can reach the URL, but it lacks something that is required to access it.\r\n\r\nIn the browser, press F12 (developer/debug mode) and request the URL again. Check the headers and cookies that are being sent. Most likely you will need to add one of these for you to be able to receive the content you need.","title":"403 forbidden for url in java but not in browser","body":"<p>As you are receiving a \"403: Forbidden\" error, it means that your Java code can reach the URL, but it lacks something that is required to access it.</p>\n\n<p>In the browser, press F12 (developer/debug mode) and request the URL again. Check the headers and cookies that are being sent. Most likely you will need to add one of these for you to be able to receive the content you need.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602198800,"creation_date":1602195222,"answer_id":64271362,"question_id":42535083,"body_markdown":"Adding &quot;User-Agent&quot; header fixed it for me:\r\n\r\n    connection.setRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla/5.0&quot;);\r\n","title":"403 forbidden for url in java but not in browser","body":"<p>Adding &quot;User-Agent&quot; header fixed it for me:</p>\n<pre><code>connection.setRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla/5.0&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10478949,"reputation":1,"user_id":7724552,"display_name":"BigTexan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683187524,"creation_date":1682872586,"answer_id":76142367,"question_id":42535083,"body_markdown":"I had to add the following headers to `URLConnection` to get past this. Found them with inspector via a refresh from the network tab.\t\t\t\t\r\n\r\n    conn.addRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:109.0) Gecko/20100101 Firefox/112.0&quot;); \r\n    conn.addRequestProperty(&quot;Accept&quot;, &quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,*/*;q=0.8&quot;);\r\n    conn.addRequestProperty(&quot;Referer&quot;, &quot;http://dig.ccmixter.org/&quot;);","title":"403 forbidden for url in java but not in browser","body":"<p>I had to add the following headers to <code>URLConnection</code> to get past this. Found them with inspector via a refresh from the network tab.</p>\n<pre><code>conn.addRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:109.0) Gecko/20100101 Firefox/112.0&quot;); \nconn.addRequestProperty(&quot;Accept&quot;, &quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,*/*;q=0.8&quot;);\nconn.addRequestProperty(&quot;Referer&quot;, &quot;http://dig.ccmixter.org/&quot;);\n</code></pre>\n"}],"owner":{"account_id":4543550,"reputation":553,"user_id":3690744,"accept_rate":43,"display_name":"qbolt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3621,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1683187524,"creation_date":1488380427,"question_id":42535083,"body_markdown":"I&#39;m behind a corporate firewall, but i can paste the URL in my browser with and without my proxy settings enabled within the browser and can retrieve the data fine. I just can&#39;t within java.\r\n\r\nAny ideas?\r\n\r\n\r\nCode:\r\n\r\n     private static String getURLToString(String strUrl) throws IOException {\r\n\t\t// LOG.debug(&quot;Calling URL: [&quot; + strUrl + &quot;]&quot;);\r\n\t\tString content = &quot;&quot;;\r\n\t\t\r\n\t\tURLConnection connection = new URL(strUrl).openConnection();\r\n\t\tconnection.setRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.11 (KHTML, like Gecko) Chrome/23.0.1271.95 Safari/537.11&quot;);\r\n\t\tconnection.connect();\r\n\t\tBufferedReader br = new BufferedReader(new InputStreamReader(connection.getInputStream(), Charset.forName(&quot;UTF-8&quot;)));\r\n\r\n\t\tString inputLine;\r\n\t\twhile ((inputLine = br.readLine()) != null) {\r\n\t\t\tcontent += inputLine;\r\n\t\t}\r\n\r\n\t\tbr.close();\r\n\r\n\t\treturn content;\r\n\t}\r\n\r\nError:\r\n\r\n    java.io.FileNotFoundException: Response: &#39;403: Forbidden&#39; for url: &#39;&lt;url here&gt;&#39;\r\n        at weblogic.net.http.HttpURLConnection.getInputStream(HttpURLConnection.java:778)\r\n        at weblogic.net.http.SOAPHttpURLConnection.getInputStream(SOAPHttpURLConnection.java:37)\r\n\r\nNote: The &#39;&lt;url here&gt;&#39; portion is for anonymizing.","title":"403 forbidden for url in java but not in browser","body":"<p>I'm behind a corporate firewall, but i can paste the URL in my browser with and without my proxy settings enabled within the browser and can retrieve the data fine. I just can't within java.</p>\n\n<p>Any ideas?</p>\n\n<p>Code:</p>\n\n<pre><code> private static String getURLToString(String strUrl) throws IOException {\n    // LOG.debug(\"Calling URL: [\" + strUrl + \"]\");\n    String content = \"\";\n\n    URLConnection connection = new URL(strUrl).openConnection();\n    connection.setRequestProperty(\"User-Agent\", \"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.11 (KHTML, like Gecko) Chrome/23.0.1271.95 Safari/537.11\");\n    connection.connect();\n    BufferedReader br = new BufferedReader(new InputStreamReader(connection.getInputStream(), Charset.forName(\"UTF-8\")));\n\n    String inputLine;\n    while ((inputLine = br.readLine()) != null) {\n        content += inputLine;\n    }\n\n    br.close();\n\n    return content;\n}\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>java.io.FileNotFoundException: Response: '403: Forbidden' for url: '&lt;url here&gt;'\n    at weblogic.net.http.HttpURLConnection.getInputStream(HttpURLConnection.java:778)\n    at weblogic.net.http.SOAPHttpURLConnection.getInputStream(SOAPHttpURLConnection.java:37)\n</code></pre>\n\n<p>Note: The '' portion is for anonymizing.</p>\n"},{"tags":["java","spring-mvc","redirect","multipartform-data"],"owner":{"account_id":7060641,"reputation":857,"user_id":5406023,"accept_rate":39,"display_name":"Mr. Mak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683187503,"creation_date":1683187503,"question_id":76170886,"body_markdown":"I have an external service address outside my Spring-MVC application where to submit this type of request shown below.\r\n\r\n    \r\n    &lt;form action=&quot;http://external.address.com/show.php&quot; method=&quot;POST&quot;  enctype=&quot;multipart/form-data&quot;&gt;\r\n\t\t&lt;input type=&#39;text&#39; name=&#39;inst_id&#39; value=&#39;102&#39;&gt;\r\n\t\t&lt;input type=&#39;text&#39; name=&#39;student_id&#39; value=&#39;2305014&#39;&gt;\r\n\t\t&lt;button type=&quot;submit&quot;&gt;Post&lt;/button&gt;\r\n\t&lt;/form&gt;\r\n\r\nAnd the link `(http://external.address.com/show.php)` show another view/html page in browser.\r\n\r\nHow can I make this request with form-data and post/redirect it form my spring controller of my native application.\r\n\r\n","title":"Spring Redirect POST to external link with Form Data","body":"<p>I have an external service address outside my Spring-MVC application where to submit this type of request shown below.</p>\n<pre><code>&lt;form action=&quot;http://external.address.com/show.php&quot; method=&quot;POST&quot;  enctype=&quot;multipart/form-data&quot;&gt;\n    &lt;input type='text' name='inst_id' value='102'&gt;\n    &lt;input type='text' name='student_id' value='2305014'&gt;\n    &lt;button type=&quot;submit&quot;&gt;Post&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n<p>And the link <code>(http://external.address.com/show.php)</code> show another view/html page in browser.</p>\n<p>How can I make this request with form-data and post/redirect it form my spring controller of my native application.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":10436649,"reputation":5754,"user_id":7694740,"display_name":"Juan Carlos Mendoza"},"score":5,"creation_date":1509374837,"post_id":47018120,"comment_id":80982641,"body_markdown":"And what have you tried so far?","body":"And what have you tried so far?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1509374858,"post_id":47018120,"comment_id":80982657,"body_markdown":"what are &#39;generators&#39;?","body":"what are &#39;generators&#39;?"},{"owner":{"account_id":415281,"reputation":461,"user_id":789999,"display_name":"Victor"},"score":0,"creation_date":1509374948,"post_id":47018120,"comment_id":80982740,"body_markdown":"If you want to take them randomly then you need to get random numbers to determine positions from where to take them","body":"If you want to take them randomly then you need to get random numbers to determine positions from where to take them"},{"owner":{"account_id":3629749,"reputation":24734,"user_id":3026283,"accept_rate":90,"display_name":"H&#233;ctor"},"score":5,"creation_date":1509374995,"post_id":47018120,"comment_id":80982768,"body_markdown":"1) Take 4 random indices. 2) Create an array with size 4. 3) Copy the 4 numbers to second array 4) Profit","body":"1) Take 4 random indices. 2) Create an array with size 4. 3) Copy the 4 numbers to second array 4) Profit"},{"owner":{"account_id":2264130,"reputation":38897,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1509374996,"post_id":47018120,"comment_id":80982769,"body_markdown":"hi there steve. what have you tried? please show us you made a reasonable attempt to get a random number through your code. And... generator? what are you referring to? Did you mean a constructor? atomic types such as `int` dont have constructors.","body":"hi there steve. what have you tried? please show us you made a reasonable attempt to get a random number through your code. And... generator? what are you referring to? Did you mean a constructor? atomic types such as <code>int</code> dont have constructors."},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1509375207,"post_id":47018120,"comment_id":80982947,"body_markdown":"@vikingsteve with *atomic* i think you refer to `primitives` right?","body":"@vikingsteve with <i>atomic</i> i think you refer to <code>primitives</code> right?"},{"owner":{"account_id":2264130,"reputation":38897,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1509375802,"post_id":47018120,"comment_id":80983372,"body_markdown":"@Lino correct, thx for clarifying","body":"@Lino correct, thx for clarifying"},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1509375911,"post_id":47018120,"comment_id":80983468,"body_markdown":"@vikingsteve okay, thought i missed something about `int` being magically concurrent :)","body":"@vikingsteve okay, thought i missed something about <code>int</code> being magically concurrent :)"},{"owner":{"account_id":2264130,"reputation":38897,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":1,"creation_date":1509395607,"post_id":47018120,"comment_id":80994472,"body_markdown":"@Lino not in this universe at least... ;)","body":"@Lino not in this universe at least... ;)"}],"answers":[{"tags":[],"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509376597,"creation_date":1509376597,"answer_id":47018706,"question_id":47018120,"body_markdown":"Below snippet should do the trick:\r\n\r\n    private static final Random RANDOM = new Random();\r\n\r\n    public int[] getRandom4( int[] input ){\r\n        final int[] output = new int[4];\r\n        for( int i = 0; i &lt; 4; i++ ){\r\n            output[i] = input[RANDOM.nextInt(input.length)];\r\n        }\r\n        return output;\r\n    }\r\n\r\n**Note:** I prefer the `Random` instance to be static, but if you dislike that. Then just move it inside the method","title":"How do you randomly take an element from an array and insert it to another for later use in Java?","body":"<p>Below snippet should do the trick:</p>\n\n<pre><code>private static final Random RANDOM = new Random();\n\npublic int[] getRandom4( int[] input ){\n    final int[] output = new int[4];\n    for( int i = 0; i &lt; 4; i++ ){\n        output[i] = input[RANDOM.nextInt(input.length)];\n    }\n    return output;\n}\n</code></pre>\n\n<p><strong>Note:</strong> I prefer the <code>Random</code> instance to be static, but if you dislike that. Then just move it inside the method</p>\n"},{"tags":[],"owner":{"account_id":5032416,"reputation":2150,"user_id":4042213,"accept_rate":91,"display_name":"Ebraheem Alrabeea"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509382195,"creation_date":1509382195,"answer_id":47020391,"question_id":47018120,"body_markdown":"You can but the elements inside `ArrayList` instead of simple `array`\r\n \r\nand then shuffle the elements using`Collections.shuffle(list)`\r\n\r\nand then take first three or four elements or whatever you wants.","title":"How do you randomly take an element from an array and insert it to another for later use in Java?","body":"<p>You can but the elements inside <code>ArrayList</code> instead of simple <code>array</code></p>\n\n<p>and then shuffle the elements using<code>Collections.shuffle(list)</code></p>\n\n<p>and then take first three or four elements or whatever you wants.</p>\n"},{"tags":[],"owner":{"account_id":23109521,"reputation":16,"user_id":17217653,"display_name":"Victor Fumei Rosenqvist 6CCE15"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683187479,"creation_date":1683187479,"answer_id":76170881,"question_id":47018120,"body_markdown":"To randomly select and move elements from one array to another in Java, you can use the Random class to generate a random index within the range of the original array, and then use that index to access and remove the element from the original array and add it to the new array.\r\n\r\nHere&#39;s an example code snippet that randomly selects four elements from the original array and inserts them into a new array called selected:\r\n\r\n    import java.util.*;\r\n    \r\n    public class Main {\r\n      public static void main(String[] args) {\r\n        int[] original = {1, 2, 3, 4, 5, 6, 7, 8};\r\n        int[] selected = new int[4];\r\n        Random rand = new Random();\r\n    \r\n        for (int i = 0; i &lt; selected.length; i++) {\r\n          int randomIndex = rand.nextInt(original.length);\r\n          selected[i] = original[randomIndex];\r\n          original[randomIndex] = original[original.length - 1];\r\n          original = Arrays.copyOf(original, original.length - 1);\r\n        }\r\n    \r\n        System.out.println(Arrays.toString(selected));\r\n      }\r\n    }\r\n\r\nRegarding your question about generators, you don&#39;t need to use any explicit generator in this code. The Random class takes care of generating the random numbers for us.","title":"How do you randomly take an element from an array and insert it to another for later use in Java?","body":"<p>To randomly select and move elements from one array to another in Java, you can use the Random class to generate a random index within the range of the original array, and then use that index to access and remove the element from the original array and add it to the new array.</p>\n<p>Here's an example code snippet that randomly selects four elements from the original array and inserts them into a new array called selected:</p>\n<pre><code>import java.util.*;\n\npublic class Main {\n  public static void main(String[] args) {\n    int[] original = {1, 2, 3, 4, 5, 6, 7, 8};\n    int[] selected = new int[4];\n    Random rand = new Random();\n\n    for (int i = 0; i &lt; selected.length; i++) {\n      int randomIndex = rand.nextInt(original.length);\n      selected[i] = original[randomIndex];\n      original[randomIndex] = original[original.length - 1];\n      original = Arrays.copyOf(original, original.length - 1);\n    }\n\n    System.out.println(Arrays.toString(selected));\n  }\n}\n</code></pre>\n<p>Regarding your question about generators, you don't need to use any explicit generator in this code. The Random class takes care of generating the random numbers for us.</p>\n"}],"owner":{"account_id":9974587,"reputation":3,"user_id":7379643,"display_name":"Hamad Alsayed"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":7,"up_vote_count":0,"accepted_answer_id":76170881,"answer_count":3,"score":-7,"last_activity_date":1683187479,"creation_date":1509374785,"question_id":47018120,"body_markdown":"For example `int new [] {1, 2, 3, 4, 5, 6, 7, 8}`, I&#39;d like to take 4 of them randomly then insert them to another array for later use.\r\n\r\nDumb question, but does this also need generators? The elements are already there so I don&#39;t see any use for generators here...","title":"How do you randomly take an element from an array and insert it to another for later use in Java?","body":"<p>For example <code>int new [] {1, 2, 3, 4, 5, 6, 7, 8}</code>, I'd like to take 4 of them randomly then insert them to another array for later use.</p>\n\n<p>Dumb question, but does this also need generators? The elements are already there so I don't see any use for generators here...</p>\n"},{"tags":["java","spring-boot","liquibase"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1638875243,"post_id":70258883,"comment_id":124198434,"body_markdown":"When we were need smth. similar we implemented [AbstractChange](https://github.com/liquibase/liquibase/blob/master/liquibase-core/src/main/java/liquibase/change/AbstractChange.java) which was registering other changesets.","body":"When we were need smth. similar we implemented <a href=\"https://github.com/liquibase/liquibase/blob/master/liquibase-core/src/main/java/liquibase/change/AbstractChange.java\" rel=\"nofollow noreferrer\">AbstractChange</a> which was registering other changesets."},{"owner":{"account_id":1524257,"reputation":8407,"user_id":1423083,"accept_rate":78,"display_name":"Mukul Goel"},"score":0,"creation_date":1638875659,"post_id":70258883,"comment_id":124198605,"body_markdown":"@AndreyB.Panfilov I posted an answer. That seems to be the way to go for me.","body":"@AndreyB.Panfilov I posted an answer. That seems to be the way to go for me."}],"answers":[{"tags":[],"owner":{"account_id":1524257,"reputation":8407,"user_id":1423083,"accept_rate":78,"display_name":"Mukul Goel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638875619,"creation_date":1638875619,"answer_id":70259140,"question_id":70258883,"body_markdown":"I brought down the source for `liquibase-core` and found there are helper methods already in there to execute a `changelogsync`. \r\n\r\nBasically the foundation of all CLI and plugins is the java based liquibase-core module so there are public methods to do all the possible tasks. They are simply not exposed to the spring module. \r\n\r\nI tried the below changelogsync method and it seems to do what needs to be done. \r\n\r\n\r\n[![ChangeLogSync methods in Liquibase.java file][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/s9OHo.png","title":"liquibase changelogsync with spring boot","body":"<p>I brought down the source for <code>liquibase-core</code> and found there are helper methods already in there to execute a <code>changelogsync</code>.</p>\n<p>Basically the foundation of all CLI and plugins is the java based liquibase-core module so there are public methods to do all the possible tasks. They are simply not exposed to the spring module.</p>\n<p>I tried the below changelogsync method and it seems to do what needs to be done.</p>\n<p><a href=\"https://i.stack.imgur.com/s9OHo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s9OHo.png\" alt=\"ChangeLogSync methods in Liquibase.java file\" /></a></p>\n"},{"tags":[],"owner":{"account_id":241158,"reputation":9333,"user_id":511804,"accept_rate":56,"display_name":"Alexandr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638877145,"creation_date":1638877145,"answer_id":70259467,"question_id":70258883,"body_markdown":"There are 2 independent issues in your topic.\r\n\r\n1. Sync the existing databases with the new change log file. Liquibase must not try to run those changes on existing database, only on the new one.\r\n2. Trigger liquibase each time (not only once), when the application starts up. Liquibase using `DATABASECHANGELOG` table identifies, what changes have been applied. You do not need to try it run only once. \r\n\r\n\r\nFor the first issue, you have 2 options: \r\n\r\n1.1 Use `changeLogSync` or `changeLogSyncSQL`. It is reasonable only if you have a single client. \r\n\r\n1.2 A better approach, adopt the new change log file (each statement) with `preConditions`, like:\r\n\r\n    &lt;preConditions onFail=&quot;MARK_RAN&quot;&gt;&lt;not&gt;&lt;tableExists tableName=&quot;settings&quot;/&gt;&lt;/not&gt;&lt;/preConditions&gt;\r\n\r\n\r\n2. To trigger liquibase with Spring Boot during application startup, there are 2 articles on the official site: \r\n\r\n[Using Liquibase with Spring Boot][1]\r\n\r\n[Using Liquibase with Spring Boot and Maven][2]\r\n\r\n\r\n\r\n  [1]: https://docs.liquibase.com/tools-integrations/springboot/springboot.html?Highlight=spring\r\n  [2]: https://docs.liquibase.com/tools-integrations/springboot/using-springboot-with-maven.html?Highlight=spring","title":"liquibase changelogsync with spring boot","body":"<p>There are 2 independent issues in your topic.</p>\n<ol>\n<li>Sync the existing databases with the new change log file. Liquibase must not try to run those changes on existing database, only on the new one.</li>\n<li>Trigger liquibase each time (not only once), when the application starts up. Liquibase using <code>DATABASECHANGELOG</code> table identifies, what changes have been applied. You do not need to try it run only once.</li>\n</ol>\n<p>For the first issue, you have 2 options:</p>\n<p>1.1 Use <code>changeLogSync</code> or <code>changeLogSyncSQL</code>. It is reasonable only if you have a single client.</p>\n<p>1.2 A better approach, adopt the new change log file (each statement) with <code>preConditions</code>, like:</p>\n<pre><code>&lt;preConditions onFail=&quot;MARK_RAN&quot;&gt;&lt;not&gt;&lt;tableExists tableName=&quot;settings&quot;/&gt;&lt;/not&gt;&lt;/preConditions&gt;\n</code></pre>\n<ol start=\"2\">\n<li>To trigger liquibase with Spring Boot during application startup, there are 2 articles on the official site:</li>\n</ol>\n<p><a href=\"https://docs.liquibase.com/tools-integrations/springboot/springboot.html?Highlight=spring\" rel=\"nofollow noreferrer\">Using Liquibase with Spring Boot</a></p>\n<p><a href=\"https://docs.liquibase.com/tools-integrations/springboot/using-springboot-with-maven.html?Highlight=spring\" rel=\"nofollow noreferrer\">Using Liquibase with Spring Boot and Maven</a></p>\n"}],"owner":{"account_id":1524257,"reputation":8407,"user_id":1423083,"accept_rate":78,"display_name":"Mukul Goel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1421,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1683186965,"creation_date":1638874507,"question_id":70258883,"body_markdown":"I am migrating an existing database to be managed by liquibase. \r\n\r\nI have the changelog already. \r\nthe application is a spring boot application and I updated the pom with `liquibase-core` and set up the spring liquibase properties.\r\n\r\nI tested this against an empty database and works as expected and liquibase executes the changelog on application startup and maintains the `DATABASECHANGELOG` tables.\r\n\r\n\r\nNow the issue that I am facing is that the database already exist in all other environments and I just want to baseline the changelog against these environments on the first application run with liquibase migration done.\r\n\r\nI am aware that the liquibase `changelogsync` command is what I need and I am aware of the maven plugin that can execute it.\r\n\r\nHowever, the maven plugin is not my first preference as I do not want to bring in another component and was hoping if there is a way to execute a `changelogsync` on application startup like how the `liquibase-core executes the liquibase on app startup` and control that with a spring application property.\r\n\r\nI did a lot of research on this but only found answers using the maven plugin. ","title":"liquibase changelogsync with spring boot","body":"<p>I am migrating an existing database to be managed by liquibase.</p>\n<p>I have the changelog already.\nthe application is a spring boot application and I updated the pom with <code>liquibase-core</code> and set up the spring liquibase properties.</p>\n<p>I tested this against an empty database and works as expected and liquibase executes the changelog on application startup and maintains the <code>DATABASECHANGELOG</code> tables.</p>\n<p>Now the issue that I am facing is that the database already exist in all other environments and I just want to baseline the changelog against these environments on the first application run with liquibase migration done.</p>\n<p>I am aware that the liquibase <code>changelogsync</code> command is what I need and I am aware of the maven plugin that can execute it.</p>\n<p>However, the maven plugin is not my first preference as I do not want to bring in another component and was hoping if there is a way to execute a <code>changelogsync</code> on application startup like how the <code>liquibase-core executes the liquibase on app startup</code> and control that with a spring application property.</p>\n<p>I did a lot of research on this but only found answers using the maven plugin.</p>\n"},{"tags":["java","spring","spring-mvc","spring-annotations","path-variables"],"answers":[{"tags":[],"owner":{"account_id":3750645,"reputation":28034,"user_id":3118209,"accept_rate":93,"display_name":"Arpit Aggarwal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1625986020,"creation_date":1433420653,"answer_id":30643764,"question_id":30641675,"body_markdown":"Can you try with below snippet:\r\n\r\n    @RequestMapping(value = &quot;/child/{nodeId}/{relType}&quot;,method = RequestMethod.GET, produces=MediaType.APPLICATION_JSON)    \r\n    public Iterable&lt;Node&gt; getConnectedNodes(@RequestParam(value=&quot;page&quot;, required=false) int page, @RequestParam(value=&quot;size&quot;, required=false) int size, @PathVariable(&quot;nodeId&quot;) String nodeId, @PathVariable(&quot;relType&quot;) String relType) {\r\n        return nodeService.getConnectedNodes(nodeId, relType,page,size);    \r\n    }\r\n\r\n","title":"@PathVariable and @RequestParam not working together","body":"<p>Can you try with below snippet:</p>\n<pre><code>@RequestMapping(value = &quot;/child/{nodeId}/{relType}&quot;,method = RequestMethod.GET, produces=MediaType.APPLICATION_JSON)    \npublic Iterable&lt;Node&gt; getConnectedNodes(@RequestParam(value=&quot;page&quot;, required=false) int page, @RequestParam(value=&quot;size&quot;, required=false) int size, @PathVariable(&quot;nodeId&quot;) String nodeId, @PathVariable(&quot;relType&quot;) String relType) {\n    return nodeService.getConnectedNodes(nodeId, relType,page,size);    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13376204,"reputation":1,"user_id":9653022,"display_name":"Tshepo Thoo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683186534,"creation_date":1683186486,"answer_id":76170742,"question_id":30641675,"body_markdown":"@Parameter(name = &quot;nodeId&quot;, in = ParameterIn.PATH)\r\n\r\n@Parameter(name = &quot;relType&quot;, in = ParameterIn.PATH)*\r\n\r\n@RequestMapping(value = &quot;/child/{nodeId}/{relType}&quot;,method = RequestMethod.GET, produces=MediaType.APPLICATION_JSON)    \r\npublic Iterable&lt;Node&gt; getConnectedNodes(@RequestParam(&quot;page&quot;)int page, @RequestParam(&quot;size&quot;)int size, @PathVariable(&quot;nodeId&quot;) String nodeId, @PathVariable(&quot;relType&quot;) String relType) {\r\n    return nodeService.getConnectedNodes(nodeId, relType,page,size);   ","title":"@PathVariable and @RequestParam not working together","body":"<p>@Parameter(name = &quot;nodeId&quot;, in = ParameterIn.PATH)</p>\n<p>@Parameter(name = &quot;relType&quot;, in = ParameterIn.PATH)*</p>\n<p>@RequestMapping(value = &quot;/child/{nodeId}/{relType}&quot;,method = RequestMethod.GET, produces=MediaType.APPLICATION_JSON)<br />\npublic Iterable getConnectedNodes(@RequestParam(&quot;page&quot;)int page, @RequestParam(&quot;size&quot;)int size, @PathVariable(&quot;nodeId&quot;) String nodeId, @PathVariable(&quot;relType&quot;) String relType) {\nreturn nodeService.getConnectedNodes(nodeId, relType,page,size);</p>\n"}],"owner":{"account_id":6335906,"reputation":855,"user_id":4919308,"accept_rate":49,"display_name":"mahendra kawde"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5894,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":30643764,"answer_count":2,"score":7,"last_activity_date":1683186534,"creation_date":1433414443,"question_id":30641675,"body_markdown":"I have below code in my controller:\r\n\r\n    @RequestMapping(value = &quot;/child/{nodeId}/{relType}&quot;,method = RequestMethod.GET, produces=MediaType.APPLICATION_JSON)    \r\n    public Iterable&lt;Node&gt; getConnectedNodes(@RequestParam(&quot;page&quot;)int page, @RequestParam(&quot;size&quot;)int size, @PathVariable(&quot;nodeId&quot;) String nodeId, @PathVariable(&quot;relType&quot;) String relType) {\r\n        return nodeService.getConnectedNodes(nodeId, relType,page,size);    \r\n    }\r\n\r\nAnd this is the API URL I am hitting \r\n\r\nhttp://localhost:8080/node/child/e17a64ff-dc2b-49b1-a995-67dba9413d67/Collegues?page=0&amp;size=1\r\n\r\nHere in debug mode I can see values of path variables, i.e. `nodeId` and `relType`, but can not see values of request param `page` and `size` which I am passing through my request in URL above.\r\n\r\nWhat&#39;s wrong with @RequestParam?\r\n","title":"@PathVariable and @RequestParam not working together","body":"<p>I have below code in my controller:</p>\n<pre><code>@RequestMapping(value = &quot;/child/{nodeId}/{relType}&quot;,method = RequestMethod.GET, produces=MediaType.APPLICATION_JSON)    \npublic Iterable&lt;Node&gt; getConnectedNodes(@RequestParam(&quot;page&quot;)int page, @RequestParam(&quot;size&quot;)int size, @PathVariable(&quot;nodeId&quot;) String nodeId, @PathVariable(&quot;relType&quot;) String relType) {\n    return nodeService.getConnectedNodes(nodeId, relType,page,size);    \n}\n</code></pre>\n<p>And this is the API URL I am hitting</p>\n<p>http://localhost:8080/node/child/e17a64ff-dc2b-49b1-a995-67dba9413d67/Collegues?page=0&amp;size=1</p>\n<p>Here in debug mode I can see values of path variables, i.e. <code>nodeId</code> and <code>relType</code>, but can not see values of request param <code>page</code> and <code>size</code> which I am passing through my request in URL above.</p>\n<p>What's wrong with @RequestParam?</p>\n"},{"tags":["java","spring","spring-boot","quartz-scheduler","spring-boot-actuator"],"comments":[{"owner":{"account_id":22562332,"reputation":582,"user_id":16749821,"display_name":"Hans-Christian"},"score":0,"creation_date":1684220122,"post_id":76167975,"comment_id":134481474,"body_markdown":"Try to have a look at how the quartz actuator endpoint is implement and see if you can fetch the same information, see this link for the source code: https://github.com/spring-projects/spring-boot/blob/1c8bd93fe5fd79b4499e313133ebfb2bce3b6bc1/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/quartz/QuartzEndpoint.java#L115","body":"Try to have a look at how the quartz actuator endpoint is implement and see if you can fetch the same information, see this link for the source code: <a href=\"https://github.com/spring-projects/spring-boot/blob/1c8bd93fe5fd79b4499e313133ebfb2bce3b6bc1/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/quartz/QuartzEndpoint.java#L115\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/blob/&hellip;</a>"}],"owner":{"account_id":337076,"reputation":144,"user_id":3816621,"display_name":"user3816621"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683186311,"creation_date":1683147870,"question_id":76167975,"body_markdown":"I would like to implement liveness health indicator which will base on data described here:\r\n\r\n[https://docs.spring.io/spring-boot/docs/2.6.7/actuator-api/htmlsingle/#quartz.trigger-group\r\n](https://docs.spring.io/spring-boot/docs/2.6.7/actuator-api/htmlsingle/#quartz.trigger-group)\r\n\r\nMy goal is to access this data from the same application which expose this endpoint, from code.\r\n\r\nI&#39;m using: Spring Boot 2.6.7\r\n\r\nI tried to retrieve it from `MeterRegistry` but there are no &quot;quartz&quot; related metrics.\r\n\r\nI care most about these 2 metrics:\r\n```\r\n&quot;previousFireTime&quot; : &quot;2020-12-04T03:00:00.000+00:00&quot;,\r\n&quot;nextFireTime&quot;     : &quot;2020-12-07T03:00:00.000+00:00&quot;,\r\n```\r\n\r\nI know that I can get nextFireTime and previousFireTime from `JobExecutionContext` in Job implementation class but in our service this method:\r\n\r\n```\r\n  @Override\r\n  public void execute(JobExecutionContext context) {\r\n  ...\r\n  }\r\n```\r\n\r\nRandomly stop executing and the role of this health indicator will be to detect it.","title":"How to get /actuator/quartz metrics from code?","body":"<p>I would like to implement liveness health indicator which will base on data described here:</p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/2.6.7/actuator-api/htmlsingle/#quartz.trigger-group\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/2.6.7/actuator-api/htmlsingle/#quartz.trigger-group\n</a></p>\n<p>My goal is to access this data from the same application which expose this endpoint, from code.</p>\n<p>I'm using: Spring Boot 2.6.7</p>\n<p>I tried to retrieve it from <code>MeterRegistry</code> but there are no &quot;quartz&quot; related metrics.</p>\n<p>I care most about these 2 metrics:</p>\n<pre><code>&quot;previousFireTime&quot; : &quot;2020-12-04T03:00:00.000+00:00&quot;,\n&quot;nextFireTime&quot;     : &quot;2020-12-07T03:00:00.000+00:00&quot;,\n</code></pre>\n<p>I know that I can get nextFireTime and previousFireTime from <code>JobExecutionContext</code> in Job implementation class but in our service this method:</p>\n<pre><code>  @Override\n  public void execute(JobExecutionContext context) {\n  ...\n  }\n</code></pre>\n<p>Randomly stop executing and the role of this health indicator will be to detect it.</p>\n"},{"tags":["java","apache-spark"],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683186306,"creation_date":1683186306,"question_id":76170715,"body_markdown":"I have this business object:\r\n\r\n```java\r\npublic class Association implements Serializable {\r\n   /** Serial ID.*/\r\n   @Serial\r\n   private static final long serialVersionUID = -7206954677114644630L;\r\n\r\n   /** Num&#233;ro Waldec national unique de l’association. */\r\n   private NumeroWaldec numeroWaldec;\r\n   \r\n   /** Ancien num&#233;ro waldec. */\r\n   private AncienNumeroWaldec ancienNumeroWaldec;\r\n   \r\n   /** Siret de l&#39;association (facultatif). */\r\n   private SIRET siret;\r\n   \r\n   /** Num&#233;ro d&#39;association reconnue d&#39;utilit&#233; publique (RUP) attribu&#233; par le Minist&#232;re. */\r\n   private NumeroRUP numeroRUP;\r\n   [...]\r\n\r\n   /**\r\n    * Construire une association.\r\n    */\r\n   public Association() {\r\n   }\r\n\r\n   /**\r\n    * Construire une association.\r\n    * @param numeroWaldec Num&#233;ro waldec de l&#39;association.\r\n    * @param ancienNumeroWaldec Ancien num&#233;ro waldec de l&#39;association.\r\n    * @param siret SIRET de l&#39;association.\r\n    * @param numeroRUP N&#176; de RUP attribu&#233; par le Minist&#232;re.\r\n    * [...]\r\n    */\r\n   public Association(String numeroWaldec, String ancienNumeroWaldec, String siret, String numeroRUP, String gestion,\r\n         String nature, String groupement, String titre, String titreCourt, String objet, \r\n         String codeObjetSocial1, String codeObjetSocial2, String nomDeclarant, String civiliteDeclarant, String siteWeb, \r\n         String autorisationPublicationWeb, String observation, String positionActivite, Instant majTime, String libelleObjetSocial1, \r\n         String libelleObjetSocial2, String codeCommune, String nomCommune, String codeRegion, String codeDepartement, \r\n         String codeEPCI, String nomEPCI, Integer populationTotale, LocalDate dateCreation, LocalDate dateDerniereDeclaration,\r\n         LocalDate datePublicationJOcreation, LocalDate dateDissolution, Double nombreAnneesExistence, Double nombreAnneesDerniereDeclaration, String adresseSiegeComplement, \r\n         String adresseSiegeNumeroVoie, String adresseSiegeTypeVoie, String adresseSiegeLibelleVoie, String adresseSiegeDistribution, \r\n         String adresseSiegeCodePostal, String adresseGestionComplementAssociation, String adresseGestionComplementGeo, String adresseGestionLibelleVoie, String adresseGestionDistributionFacturation, \r\n         String adresseGestionCodePostal, String adresseGestionAchemine, String adresseGestionPays) {\r\n      this(numeroWaldec != null ? new NumeroWaldec(numeroWaldec) : null, \r\n         ancienNumeroWaldec != null ? new AncienNumeroWaldec(ancienNumeroWaldec) : null, \r\n         siret != null ? new SIRET(siret) : null, \r\n         numeroRUP != null ? new NumeroRUP(numeroRUP) : null, \r\n         gestion,\r\n         \r\n         nature,\r\n         groupement != null ? Arrays.stream(RegroupementAssociation.values()).filter(e -&gt; groupement.equals(e.getCode())).findFirst().get() : null,\r\n         titre, \r\n         titreCourt, \r\n         objet, \r\n         \r\n         codeObjetSocial1, \r\n         codeObjetSocial2,\r\n         \r\n         new Adresse(titreCourt, null, adresseSiegeComplement, adresseSiegeNumeroVoie, adresseSiegeTypeVoie,\r\n               null, adresseSiegeLibelleVoie, adresseSiegeCodePostal, null, adresseSiegeDistribution, \r\n               null, codeCommune, nomCommune, null, null, null),\r\n         \r\n         nomDeclarant,\r\n         \r\n         new Adresse(adresseGestionComplementGeo, adresseGestionAchemine, adresseGestionComplementAssociation, null, null,\r\n               null, adresseGestionLibelleVoie, adresseGestionCodePostal, null, adresseGestionDistributionFacturation, \r\n               null, null, null, null, adresseGestionPays, null),\r\n         \r\n         civiliteDeclarant, \r\n         siteWeb, \r\n         toBoolean(autorisationPublicationWeb), \r\n         observation, \r\n         positionActivite, \r\n         \r\n         majTime, \r\n         libelleObjetSocial1, \r\n         libelleObjetSocial2,\r\n         codeCommune != null ? new CodeCommune(codeCommune) : null, \r\n         nomCommune, \r\n         \r\n         codeRegion != null ? new CodeRegion(codeRegion) : null, \r\n         codeDepartement != null ? new CodeDepartement(codeDepartement) : null, \r\n         codeEPCI != null ? new SIRET(codeEPCI) : null,\r\n         nomEPCI, \r\n         populationTotale,\r\n         \r\n         dateCreation, \r\n         dateDerniereDeclaration, \r\n         datePublicationJOcreation, \r\n         dateDissolution, \r\n         nombreAnneesExistence, \r\n         nombreAnneesDerniereDeclaration);\r\n   }\r\n   \r\n   /**\r\n    * Construire une association.\r\n    * @param numeroWaldec Num&#233;ro waldec de l&#39;association.\r\n    * @param ancienNumeroWaldec Ancien num&#233;ro waldec de l&#39;association.\r\n    * @param siret SIRET de l&#39;association.\r\n    * @param numeroRUP N&#176; de RUP attribu&#233; par le Minist&#232;re.\r\n    * [...]\r\n    */\r\n   public Association(NumeroWaldec numeroWaldec, AncienNumeroWaldec ancienNumeroWaldec, SIRET siret, NumeroRUP numeroRUP, String gestion, \r\n         String nature, RegroupementAssociation groupement, String titre, String titreCourt, String objet, \r\n         String codeObjetSocial1, String codeObjetSocial2, Adresse adresseSiege, String nomDeclarant, Adresse adresseGestion, \r\n         String civiliteDeclarant, String siteWeb, boolean autorisationPublicationWeb, String observation, String positionActivite, \r\n         Instant majTime, String libelleObjetSocial1, String libelleObjetSocial2, CodeCommune codeCommune, String nomCommune, \r\n         CodeRegion codeRegion, CodeDepartement codeDepartement, SIRET codeEPCI, String nomEPCI, Integer populationTotale, \r\n         LocalDate dateCreation, LocalDate dateDerniereDeclaration, LocalDate datePublicationJOcreation, LocalDate dateDissolution, Double nombreAnneesExistence, \r\n         Double nombreAnneesDerniereDeclaration) {\r\n      this.numeroWaldec = numeroWaldec;\r\n      this.ancienNumeroWaldec = ancienNumeroWaldec;\r\n      this.siret = siret;\r\n      this.numeroRUP = numeroRUP;\r\n      [...]\r\n   }\r\n   \r\n   /**\r\n    * Renvoyer le num&#233;ro waldec de l&#39;association.\r\n    * @return Num&#233;ro waldec de l&#39;association.\r\n    */\r\n   public NumeroWaldec getNumeroWaldec() {\r\n      return this.numeroWaldec;\r\n   }\r\n\r\n   /**\r\n    * Fixer le num&#233;ro waldec de l&#39;association.\r\n    * @param numeroWaldec Num&#233;ro waldec de l&#39;association.\r\n    */\r\n   public void setNumeroWaldec(NumeroWaldec numeroWaldec) {\r\n      this.numeroWaldec = numeroWaldec;\r\n   }\r\n\r\n   /**\r\n    * Renvoyer l&#39;ancien num&#233;ro waldec de l&#39;association.\r\n    * @return Ancien num&#233;ro waldec de l&#39;association.\r\n    */\r\n   public AncienNumeroWaldec getAncienNumeroWaldec() {\r\n      return this.ancienNumeroWaldec;\r\n   }\r\n\r\n   /**\r\n    * Fixer l&#39;ancien num&#233;ro waldec de l&#39;association.\r\n    * @param ancienNumeroWaldec Ancien num&#233;ro waldec de l&#39;association.\r\n    */\r\n   public void setAncienNumeroWaldec(AncienNumeroWaldec ancienNumeroWaldec) {\r\n      this.ancienNumeroWaldec = ancienNumeroWaldec;\r\n   }\r\n\r\n   /**\r\n    * Renvoyer le siret de l&#39;association.\r\n    * @return SIRET.\r\n    */\r\n   public SIRET getSiret() {\r\n      return this.siret;\r\n   }\r\n\r\n   /**\r\n    * Fixer le siret de l&#39;association.\r\n    * @param siret SIRET.\r\n    */\r\n   public void setSiret(SIRET siret) {\r\n      this.siret = siret;\r\n   }\r\n\r\n   /**\r\n    * Renvoyer le num&#233;ro d&#39;association reconnue d&#39;utilit&#233; publique (RUP) attribu&#233; par le Minist&#232;re.\r\n    * @return Num&#233;ro d&#39;association reconnue d&#39;utilit&#233; publique (RUP) attribu&#233; par le Minist&#232;re..\r\n    */\r\n   public NumeroRUP getNumeroRUP() {\r\n      return this.numeroRUP;\r\n   }\r\n\r\n   /**\r\n    * Fixer le num&#233;ro d&#39;association reconnue d&#39;utilit&#233; publique (RUP) attribu&#233; par le Minist&#232;re.\r\n    * @param numeroRUP Num&#233;ro d&#39;association reconnue d&#39;utilit&#233; publique (RUP) attribu&#233; par le Minist&#232;re.\r\n    */\r\n   public void setNumeroRUP(NumeroRUP numeroRUP) {\r\n      this.numeroRUP = numeroRUP;\r\n   }\r\n[...]\r\n}\r\n```\r\n\r\nI have a test, extracting a `Dataset&lt;Association&gt;` from a `Dataset&lt;Row&gt;`, that is working well. It has to use an `Encoders.bean(Association.class)` in a step of what it is doing:\r\n\r\n```java\r\n/**\r\n * Lecture d&#39;associations, sous forme d&#39;objets m&#233;tiers.\r\n */\r\n@Test\r\n@DisplayName(&quot;Associations en objets m&#233;tiers&quot;)\r\nvoid associationObjetsMetiers() {\r\n   Dataset&lt;Row&gt; rowAssociations = this.associationsDataset.rowAssociations(this.session, ANNEE_RNA, COG, true, AssociationWaldecTri.RNA_WALDEC, this.verifications)\r\n      .limit(100);\r\n\r\n   List&lt;Association&gt; associations = this.associationsDataset.toObjetsMetiersList(rowAssociations);\r\n   assertNotEquals(0, associations.size(), &quot;Un objet m&#233;tier association au moins aurait du &#234;tre obtenue&quot;);\r\n}\r\n```\r\n\r\nwhere `associationsDataset.toObjetsMetiersList(rowAssociations)` goes through a piece of code:\r\n\r\n```java\r\nrows.map((MapFunction&lt;Row, Association&gt;)this::toObjetMetier, Encoders.bean(Association.class))\r\n```\r\n\r\nwith:\r\n\r\n```java\r\npublic Association toObjetMetier(Row r) {\r\n   return new Association(r.getAs(&quot;numero_waldec&quot;),\r\n      r.getAs(&quot;ancien_numero_waldec&quot;),\r\n      r.getAs(&quot;siret&quot;),\r\n      r.getAs(&quot;numero_rup&quot;),\r\n      [...]\r\n}\r\n```\r\n\r\nBut I have also another simpler test, converting a single `Row` to an `Association`:\r\n\r\n```java\r\n/**\r\n * Lecture d&#39;associations, sous forme d&#39;objets m&#233;tiers.\r\n */\r\n@Test\r\n@DisplayName(&quot;Row en objet m&#233;tier&quot;)\r\nvoid associationObjetMetier() {\r\n   Row rowAssociation = this.associationsDataset.rowAssociations(this.session, ANNEE_RNA, COG, true, AssociationWaldecTri.RNA_WALDEC, this.verifications).first();\r\n\r\n   assertDoesNotThrow(() -&gt; {\r\n      Association association = this.associationsDataset.toObjetMetier(rowAssociation);\r\n      LOGGER.info(&quot;Association lue  par conversion de Row en objet m&#233;tier : {}&quot;, association);\r\n      });\r\n}\r\n```\r\n\r\nand it is working very well too!  \r\n...But it isn&#39;t using any encoder.\r\n\r\n```\r\n2023-05-04 09:22:25.665  INFO 42379 --- [           main] f.e.a.o.s.d.a.AssociationsDatasetIT      : Association lue  par conversion de Row en objet m&#233;tier : fr.ecoemploi.domain.model.territoire.association.Association@3594aadb[adresseGestion=Adresse {nom : null, compl&#233;ment de nom : VILLENEUVE-DE-BERG, compl&#233;ment de voie : null, type de voie : null, num&#233;ro dans la voie : null, r&#233;p&#233;tition dans la voie : null, voie : 238  RUE DU JARDIN PUBLIC, code postal : 07170, commune : null, commentaire : null, code commune: null, bureau distributeur : null, code cedex : null, libell&#233; cedex : null, code pays &#233;tranger : null, nom pays &#233;tranger : FRANCE},adresseSiege=Adresse {nom : UNION REGIONALE DES FOYERS RURAUX R..., compl&#233;ment de nom : null, compl&#233;ment de voie : null, type de voie : RUE, num&#233;ro dans la voie : null, r&#233;p&#233;tition dans la voie : 238, voie : du jardin public, code postal : 07170, commune : Villeneuve-de-Berg, commentaire : null, code commune: null, bureau distributeur : _, code cedex : null, libell&#233; cedex : 07341, code pays &#233;tranger : null, nom pays &#233;tranger : null},ancienNumeroWaldec=0012006868,autorisationPublicationWeb=false,civiliteDeclarant=PM,codeCommune=07341,codeDepartement=07,codeEPCI=240700815,codeObjetSocial1=009035,codeObjetSocial2=023040,codeRegion=84,dateCreation=1986-07-11,dateDerniereDeclaration=2012-06-27,dateDissolution=1901-01-01,datePublicationJOcreation=1986-08-06,gestion=071S,groupement=SIMPLE,libelleObjetSocial1=Foyers ruraux,libelleObjetSocial2=Repr&#233;sentation d&#39;int&#233;r&#234;ts &#233;conomiques sectoriels,majTime=2012-06-27T13:23:30Z,nature=D,nomCommune=Villeneuve-de-Berg,nomDeclarant=&lt;null&gt;,nomEPCI=CC Berg et Coiron,nombreAnneesDerniereDeclaration=10.857534246575343,nombreAnneesExistence=36.83835616438356,numeroRUP=&lt;null&gt;,numeroWaldec=W012003219,objet=susciter et d&#39;encourager la cr&#233;ation de foyers ruraux et associations et de faciliter la constitution et le fonctionnement des f&#233;d&#233;rations d&#233;partementales\r\n la solidarit&#233; entre ses membres\r\n un r&#244;le d&#39;information et de documentation\r\n  procurer &#224; ses membres la documentation et les renseignements de tous ordres dont ils peuvent avoir besoin et de mettre &#224; leur disposition les moyens dont elle b&#233;n&#233;ficie\r\n servir de centre permanent de relations\r\n de r&#233;flexion et de recherche\r\n organiser la formation et le perfectionnement des animateurs professionnels et b&#233;n&#233;voles du mouvement et plus g&#233;n&#233;ralement du milieu rural\r\n participer et contribuer de fa&#231;on active et permanente &#224; toute action favorisant le d&#233;veloppement culturel, &#233;conomique et social du milieu rural\r\n favoriser de d&#233;veloppement en contribuant en particulier &#224; la promotion des produits agricoles, des produits artisanaux et autres\r\n contribuer et s&#39;engager dans toute action d&#39;accueil et de tourisme social et rural,observation=Reprise  =&gt;  date publication cr&#233;ation au JO &#224; v&#233;rifier date ag=0000-00-00,populationTotale=3097,positionActivite=A,siret=&lt;null&gt;,siteWeb=&lt;null&gt;,titre=UNION REGIONALE DES FOYERS RURAUX RH&#212;NE-ALPES  (U.R.F.R.  RH&#212;NE-ALPES),titreCourt=UNION REGIONALE DES FOYERS RURAUX R...,ejecter=false]\r\n```\r\n\r\nSo I conclude that `Encoders.bean(Association.class)` isn&#39;t really necessary to the Spark map function, provided I&#39;m creating myself the wished instance of each target business object with a `new` calling a constructor with all the properties of that business object.\r\n\r\nDo I have a way to remove the `Encoders.bean(Association.class)` in the map function?","title":"Why does the map function, in Java Spark, need an Encoder? It looks sometimes superfluous. Do I have a way asking map function not to use any encoder?","body":"<p>I have this business object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Association implements Serializable {\n   /** Serial ID.*/\n   @Serial\n   private static final long serialVersionUID = -7206954677114644630L;\n\n   /** Numéro Waldec national unique de l’association. */\n   private NumeroWaldec numeroWaldec;\n   \n   /** Ancien numéro waldec. */\n   private AncienNumeroWaldec ancienNumeroWaldec;\n   \n   /** Siret de l'association (facultatif). */\n   private SIRET siret;\n   \n   /** Numéro d'association reconnue d'utilité publique (RUP) attribué par le Ministère. */\n   private NumeroRUP numeroRUP;\n   [...]\n\n   /**\n    * Construire une association.\n    */\n   public Association() {\n   }\n\n   /**\n    * Construire une association.\n    * @param numeroWaldec Numéro waldec de l'association.\n    * @param ancienNumeroWaldec Ancien numéro waldec de l'association.\n    * @param siret SIRET de l'association.\n    * @param numeroRUP N° de RUP attribué par le Ministère.\n    * [...]\n    */\n   public Association(String numeroWaldec, String ancienNumeroWaldec, String siret, String numeroRUP, String gestion,\n         String nature, String groupement, String titre, String titreCourt, String objet, \n         String codeObjetSocial1, String codeObjetSocial2, String nomDeclarant, String civiliteDeclarant, String siteWeb, \n         String autorisationPublicationWeb, String observation, String positionActivite, Instant majTime, String libelleObjetSocial1, \n         String libelleObjetSocial2, String codeCommune, String nomCommune, String codeRegion, String codeDepartement, \n         String codeEPCI, String nomEPCI, Integer populationTotale, LocalDate dateCreation, LocalDate dateDerniereDeclaration,\n         LocalDate datePublicationJOcreation, LocalDate dateDissolution, Double nombreAnneesExistence, Double nombreAnneesDerniereDeclaration, String adresseSiegeComplement, \n         String adresseSiegeNumeroVoie, String adresseSiegeTypeVoie, String adresseSiegeLibelleVoie, String adresseSiegeDistribution, \n         String adresseSiegeCodePostal, String adresseGestionComplementAssociation, String adresseGestionComplementGeo, String adresseGestionLibelleVoie, String adresseGestionDistributionFacturation, \n         String adresseGestionCodePostal, String adresseGestionAchemine, String adresseGestionPays) {\n      this(numeroWaldec != null ? new NumeroWaldec(numeroWaldec) : null, \n         ancienNumeroWaldec != null ? new AncienNumeroWaldec(ancienNumeroWaldec) : null, \n         siret != null ? new SIRET(siret) : null, \n         numeroRUP != null ? new NumeroRUP(numeroRUP) : null, \n         gestion,\n         \n         nature,\n         groupement != null ? Arrays.stream(RegroupementAssociation.values()).filter(e -&gt; groupement.equals(e.getCode())).findFirst().get() : null,\n         titre, \n         titreCourt, \n         objet, \n         \n         codeObjetSocial1, \n         codeObjetSocial2,\n         \n         new Adresse(titreCourt, null, adresseSiegeComplement, adresseSiegeNumeroVoie, adresseSiegeTypeVoie,\n               null, adresseSiegeLibelleVoie, adresseSiegeCodePostal, null, adresseSiegeDistribution, \n               null, codeCommune, nomCommune, null, null, null),\n         \n         nomDeclarant,\n         \n         new Adresse(adresseGestionComplementGeo, adresseGestionAchemine, adresseGestionComplementAssociation, null, null,\n               null, adresseGestionLibelleVoie, adresseGestionCodePostal, null, adresseGestionDistributionFacturation, \n               null, null, null, null, adresseGestionPays, null),\n         \n         civiliteDeclarant, \n         siteWeb, \n         toBoolean(autorisationPublicationWeb), \n         observation, \n         positionActivite, \n         \n         majTime, \n         libelleObjetSocial1, \n         libelleObjetSocial2,\n         codeCommune != null ? new CodeCommune(codeCommune) : null, \n         nomCommune, \n         \n         codeRegion != null ? new CodeRegion(codeRegion) : null, \n         codeDepartement != null ? new CodeDepartement(codeDepartement) : null, \n         codeEPCI != null ? new SIRET(codeEPCI) : null,\n         nomEPCI, \n         populationTotale,\n         \n         dateCreation, \n         dateDerniereDeclaration, \n         datePublicationJOcreation, \n         dateDissolution, \n         nombreAnneesExistence, \n         nombreAnneesDerniereDeclaration);\n   }\n   \n   /**\n    * Construire une association.\n    * @param numeroWaldec Numéro waldec de l'association.\n    * @param ancienNumeroWaldec Ancien numéro waldec de l'association.\n    * @param siret SIRET de l'association.\n    * @param numeroRUP N° de RUP attribué par le Ministère.\n    * [...]\n    */\n   public Association(NumeroWaldec numeroWaldec, AncienNumeroWaldec ancienNumeroWaldec, SIRET siret, NumeroRUP numeroRUP, String gestion, \n         String nature, RegroupementAssociation groupement, String titre, String titreCourt, String objet, \n         String codeObjetSocial1, String codeObjetSocial2, Adresse adresseSiege, String nomDeclarant, Adresse adresseGestion, \n         String civiliteDeclarant, String siteWeb, boolean autorisationPublicationWeb, String observation, String positionActivite, \n         Instant majTime, String libelleObjetSocial1, String libelleObjetSocial2, CodeCommune codeCommune, String nomCommune, \n         CodeRegion codeRegion, CodeDepartement codeDepartement, SIRET codeEPCI, String nomEPCI, Integer populationTotale, \n         LocalDate dateCreation, LocalDate dateDerniereDeclaration, LocalDate datePublicationJOcreation, LocalDate dateDissolution, Double nombreAnneesExistence, \n         Double nombreAnneesDerniereDeclaration) {\n      this.numeroWaldec = numeroWaldec;\n      this.ancienNumeroWaldec = ancienNumeroWaldec;\n      this.siret = siret;\n      this.numeroRUP = numeroRUP;\n      [...]\n   }\n   \n   /**\n    * Renvoyer le numéro waldec de l'association.\n    * @return Numéro waldec de l'association.\n    */\n   public NumeroWaldec getNumeroWaldec() {\n      return this.numeroWaldec;\n   }\n\n   /**\n    * Fixer le numéro waldec de l'association.\n    * @param numeroWaldec Numéro waldec de l'association.\n    */\n   public void setNumeroWaldec(NumeroWaldec numeroWaldec) {\n      this.numeroWaldec = numeroWaldec;\n   }\n\n   /**\n    * Renvoyer l'ancien numéro waldec de l'association.\n    * @return Ancien numéro waldec de l'association.\n    */\n   public AncienNumeroWaldec getAncienNumeroWaldec() {\n      return this.ancienNumeroWaldec;\n   }\n\n   /**\n    * Fixer l'ancien numéro waldec de l'association.\n    * @param ancienNumeroWaldec Ancien numéro waldec de l'association.\n    */\n   public void setAncienNumeroWaldec(AncienNumeroWaldec ancienNumeroWaldec) {\n      this.ancienNumeroWaldec = ancienNumeroWaldec;\n   }\n\n   /**\n    * Renvoyer le siret de l'association.\n    * @return SIRET.\n    */\n   public SIRET getSiret() {\n      return this.siret;\n   }\n\n   /**\n    * Fixer le siret de l'association.\n    * @param siret SIRET.\n    */\n   public void setSiret(SIRET siret) {\n      this.siret = siret;\n   }\n\n   /**\n    * Renvoyer le numéro d'association reconnue d'utilité publique (RUP) attribué par le Ministère.\n    * @return Numéro d'association reconnue d'utilité publique (RUP) attribué par le Ministère..\n    */\n   public NumeroRUP getNumeroRUP() {\n      return this.numeroRUP;\n   }\n\n   /**\n    * Fixer le numéro d'association reconnue d'utilité publique (RUP) attribué par le Ministère.\n    * @param numeroRUP Numéro d'association reconnue d'utilité publique (RUP) attribué par le Ministère.\n    */\n   public void setNumeroRUP(NumeroRUP numeroRUP) {\n      this.numeroRUP = numeroRUP;\n   }\n[...]\n}\n</code></pre>\n<p>I have a test, extracting a <code>Dataset&lt;Association&gt;</code> from a <code>Dataset&lt;Row&gt;</code>, that is working well. It has to use an <code>Encoders.bean(Association.class)</code> in a step of what it is doing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Lecture d'associations, sous forme d'objets métiers.\n */\n@Test\n@DisplayName(&quot;Associations en objets métiers&quot;)\nvoid associationObjetsMetiers() {\n   Dataset&lt;Row&gt; rowAssociations = this.associationsDataset.rowAssociations(this.session, ANNEE_RNA, COG, true, AssociationWaldecTri.RNA_WALDEC, this.verifications)\n      .limit(100);\n\n   List&lt;Association&gt; associations = this.associationsDataset.toObjetsMetiersList(rowAssociations);\n   assertNotEquals(0, associations.size(), &quot;Un objet métier association au moins aurait du être obtenue&quot;);\n}\n</code></pre>\n<p>where <code>associationsDataset.toObjetsMetiersList(rowAssociations)</code> goes through a piece of code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>rows.map((MapFunction&lt;Row, Association&gt;)this::toObjetMetier, Encoders.bean(Association.class))\n</code></pre>\n<p>with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Association toObjetMetier(Row r) {\n   return new Association(r.getAs(&quot;numero_waldec&quot;),\n      r.getAs(&quot;ancien_numero_waldec&quot;),\n      r.getAs(&quot;siret&quot;),\n      r.getAs(&quot;numero_rup&quot;),\n      [...]\n}\n</code></pre>\n<p>But I have also another simpler test, converting a single <code>Row</code> to an <code>Association</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Lecture d'associations, sous forme d'objets métiers.\n */\n@Test\n@DisplayName(&quot;Row en objet métier&quot;)\nvoid associationObjetMetier() {\n   Row rowAssociation = this.associationsDataset.rowAssociations(this.session, ANNEE_RNA, COG, true, AssociationWaldecTri.RNA_WALDEC, this.verifications).first();\n\n   assertDoesNotThrow(() -&gt; {\n      Association association = this.associationsDataset.toObjetMetier(rowAssociation);\n      LOGGER.info(&quot;Association lue  par conversion de Row en objet métier : {}&quot;, association);\n      });\n}\n</code></pre>\n<p>and it is working very well too!<br />\n...But it isn't using any encoder.</p>\n<pre><code>2023-05-04 09:22:25.665  INFO 42379 --- [           main] f.e.a.o.s.d.a.AssociationsDatasetIT      : Association lue  par conversion de Row en objet métier : fr.ecoemploi.domain.model.territoire.association.Association@3594aadb[adresseGestion=Adresse {nom : null, complément de nom : VILLENEUVE-DE-BERG, complément de voie : null, type de voie : null, numéro dans la voie : null, répétition dans la voie : null, voie : 238  RUE DU JARDIN PUBLIC, code postal : 07170, commune : null, commentaire : null, code commune: null, bureau distributeur : null, code cedex : null, libellé cedex : null, code pays étranger : null, nom pays étranger : FRANCE},adresseSiege=Adresse {nom : UNION REGIONALE DES FOYERS RURAUX R..., complément de nom : null, complément de voie : null, type de voie : RUE, numéro dans la voie : null, répétition dans la voie : 238, voie : du jardin public, code postal : 07170, commune : Villeneuve-de-Berg, commentaire : null, code commune: null, bureau distributeur : _, code cedex : null, libellé cedex : 07341, code pays étranger : null, nom pays étranger : null},ancienNumeroWaldec=0012006868,autorisationPublicationWeb=false,civiliteDeclarant=PM,codeCommune=07341,codeDepartement=07,codeEPCI=240700815,codeObjetSocial1=009035,codeObjetSocial2=023040,codeRegion=84,dateCreation=1986-07-11,dateDerniereDeclaration=2012-06-27,dateDissolution=1901-01-01,datePublicationJOcreation=1986-08-06,gestion=071S,groupement=SIMPLE,libelleObjetSocial1=Foyers ruraux,libelleObjetSocial2=Représentation d'intérêts économiques sectoriels,majTime=2012-06-27T13:23:30Z,nature=D,nomCommune=Villeneuve-de-Berg,nomDeclarant=&lt;null&gt;,nomEPCI=CC Berg et Coiron,nombreAnneesDerniereDeclaration=10.857534246575343,nombreAnneesExistence=36.83835616438356,numeroRUP=&lt;null&gt;,numeroWaldec=W012003219,objet=susciter et d'encourager la création de foyers ruraux et associations et de faciliter la constitution et le fonctionnement des fédérations départementales\n la solidarité entre ses membres\n un rôle d'information et de documentation\n  procurer à ses membres la documentation et les renseignements de tous ordres dont ils peuvent avoir besoin et de mettre à leur disposition les moyens dont elle bénéficie\n servir de centre permanent de relations\n de réflexion et de recherche\n organiser la formation et le perfectionnement des animateurs professionnels et bénévoles du mouvement et plus généralement du milieu rural\n participer et contribuer de façon active et permanente à toute action favorisant le développement culturel, économique et social du milieu rural\n favoriser de développement en contribuant en particulier à la promotion des produits agricoles, des produits artisanaux et autres\n contribuer et s'engager dans toute action d'accueil et de tourisme social et rural,observation=Reprise  =&gt;  date publication création au JO à vérifier date ag=0000-00-00,populationTotale=3097,positionActivite=A,siret=&lt;null&gt;,siteWeb=&lt;null&gt;,titre=UNION REGIONALE DES FOYERS RURAUX RHÔNE-ALPES  (U.R.F.R.  RHÔNE-ALPES),titreCourt=UNION REGIONALE DES FOYERS RURAUX R...,ejecter=false]\n</code></pre>\n<p>So I conclude that <code>Encoders.bean(Association.class)</code> isn't really necessary to the Spark map function, provided I'm creating myself the wished instance of each target business object with a <code>new</code> calling a constructor with all the properties of that business object.</p>\n<p>Do I have a way to remove the <code>Encoders.bean(Association.class)</code> in the map function?</p>\n"},{"tags":["java","groovy","formatting","configuration-files"],"answers":[{"tags":[],"owner":{"account_id":4358,"reputation":168410,"user_id":6509,"display_name":"tim_yates"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1319616556,"creation_date":1319616556,"answer_id":7900141,"question_id":7898068,"body_markdown":"Unfortunately, you&#39;ll need to write your own `writeTo` as you say.\r\n\r\nIf you have a config file with structure like:\r\n\r\n    graphs {\r\n      a=[&quot;type&quot;:&quot;std&quot;, &quot;host&quot;:&quot;localhost&quot;, &quot;name&quot;:&quot;cpurawlinux&quot;]\r\n      b=[&quot;type&quot;:&quot;std&quot;, &quot;host&quot;:&quot;localhost&quot;, &quot;name&quot;:&quot;memory&quot;]\r\n    }\r\n\r\nThen writeTo will write it out with structure, but if your config file is just a big old list of things, it will write it out as a big old list\r\n","title":"Pretty print for a groovy ConfigObject?","body":"<p>Unfortunately, you'll need to write your own <code>writeTo</code> as you say.</p>\n\n<p>If you have a config file with structure like:</p>\n\n<pre><code>graphs {\n  a=[\"type\":\"std\", \"host\":\"localhost\", \"name\":\"cpurawlinux\"]\n  b=[\"type\":\"std\", \"host\":\"localhost\", \"name\":\"memory\"]\n}\n</code></pre>\n\n<p>Then writeTo will write it out with structure, but if your config file is just a big old list of things, it will write it out as a big old list</p>\n"},{"tags":[],"owner":{"account_id":1452055,"reputation":504,"user_id":1368685,"display_name":"mike b"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1367873983,"creation_date":1367873245,"answer_id":16407022,"question_id":7898068,"body_markdown":"if it helps anyone, i had the same question and wrote this...not pretty (ha), but works:\r\n\r\n    def prettyPrint(properties, level=1, stringBuilder = new StringBuilder()) {\r\n        return properties.inject(stringBuilder) { sb, name, value -&gt;\r\n            sb.append(&quot;\\n&quot;).append(&quot;\\t&quot; * level).append(name)\r\n            if (!(value instanceof Map) &amp;&amp; !(value instanceof List)) {\r\n                return sb.append(&quot;=&quot;).append(value)\r\n            } else {\r\n                return prettyPrint(properties.getProperty(name), level+1, sb)\r\n            }\r\n        }\r\n    }","title":"Pretty print for a groovy ConfigObject?","body":"<p>if it helps anyone, i had the same question and wrote this...not pretty (ha), but works:</p>\n\n<pre><code>def prettyPrint(properties, level=1, stringBuilder = new StringBuilder()) {\n    return properties.inject(stringBuilder) { sb, name, value -&gt;\n        sb.append(\"\\n\").append(\"\\t\" * level).append(name)\n        if (!(value instanceof Map) &amp;&amp; !(value instanceof List)) {\n            return sb.append(\"=\").append(value)\n        } else {\n            return prettyPrint(properties.getProperty(name), level+1, sb)\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":257549,"reputation":4988,"user_id":539048,"accept_rate":66,"display_name":"GreenGiant"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1461967616,"creation_date":1461967616,"answer_id":36948183,"question_id":7898068,"body_markdown":"Based on mike&#39;s answer above:\r\n\r\n    def prettyPrint\r\n    prettyPrint = {obj, level = 0, sb = new StringBuilder() -&gt;\r\n        def indent = { lev -&gt; sb.append(&quot;  &quot; * lev) }\r\n        if(obj instanceof Map){\r\n            sb.append(&quot;{\\n&quot;)\r\n            obj.each{ name, value -&gt;\r\n                if(name.contains(&#39;.&#39;)) return // skip keys like &quot;a.b.c&quot;, which are redundant\r\n                indent(level+1).append(name)\r\n                (value instanceof Map) ? sb.append(&quot; &quot;) : sb.append(&quot; = &quot;)\r\n                prettyPrint(value, level+1, sb)\r\n                sb.append(&quot;\\n&quot;)\r\n            }\r\n            indent(level).append(&quot;}&quot;)\r\n        }\r\n        else if(obj instanceof List){\r\n            sb.append(&quot;[\\n&quot;)\r\n            obj.each{ value -&gt;\r\n                indent(level+1)\r\n                prettyPrint(value, level+1, sb).append(&quot;,&quot;)\r\n                sb.append(&quot;\\n&quot;)\r\n            }\r\n            indent(level).append(&quot;]&quot;)\r\n        }\r\n        else if(obj instanceof String){\r\n            sb.append(&#39;&quot;&#39;).append(obj).append(&#39;&quot;&#39;)\r\n        }\r\n        else {\r\n            sb.append(obj)\r\n        }\r\n    }\r\n\r\nFor an input like:\r\n\r\n    {\r\n      grails {\r\n        scaffolding {\r\n          templates.domainSuffix = &quot;Instance&quot;\r\n        }\r\n        enable {\r\n          native2ascii = true\r\n          blah = [ 1, 2, 3 ]\r\n        }\r\n        mime.disable.accept.header.userAgents = [ &quot;WebKit&quot;, &quot;Presto&quot;, &quot;Trident&quot; ]\r\n      }\r\n    }\r\n\r\nProduces:\r\n\r\n    {\r\n      grails {\r\n        scaffolding {\r\n          templates {\r\n            domainSuffix = &quot;Instance&quot;\r\n          }\r\n        }\r\n        enable {\r\n          native2ascii = true\r\n          blah = [\r\n            1,\r\n            2,\r\n            3,\r\n          ]\r\n        }\r\n        mime {\r\n          disable {\r\n            accept {\r\n              header {\r\n                userAgents = [\r\n                  &quot;WebKit&quot;,\r\n                  &quot;Presto&quot;,\r\n                  &quot;Trident&quot;,\r\n                ]\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }","title":"Pretty print for a groovy ConfigObject?","body":"<p>Based on mike's answer above:</p>\n\n<pre><code>def prettyPrint\nprettyPrint = {obj, level = 0, sb = new StringBuilder() -&gt;\n    def indent = { lev -&gt; sb.append(\"  \" * lev) }\n    if(obj instanceof Map){\n        sb.append(\"{\\n\")\n        obj.each{ name, value -&gt;\n            if(name.contains('.')) return // skip keys like \"a.b.c\", which are redundant\n            indent(level+1).append(name)\n            (value instanceof Map) ? sb.append(\" \") : sb.append(\" = \")\n            prettyPrint(value, level+1, sb)\n            sb.append(\"\\n\")\n        }\n        indent(level).append(\"}\")\n    }\n    else if(obj instanceof List){\n        sb.append(\"[\\n\")\n        obj.each{ value -&gt;\n            indent(level+1)\n            prettyPrint(value, level+1, sb).append(\",\")\n            sb.append(\"\\n\")\n        }\n        indent(level).append(\"]\")\n    }\n    else if(obj instanceof String){\n        sb.append('\"').append(obj).append('\"')\n    }\n    else {\n        sb.append(obj)\n    }\n}\n</code></pre>\n\n<p>For an input like:</p>\n\n<pre><code>{\n  grails {\n    scaffolding {\n      templates.domainSuffix = \"Instance\"\n    }\n    enable {\n      native2ascii = true\n      blah = [ 1, 2, 3 ]\n    }\n    mime.disable.accept.header.userAgents = [ \"WebKit\", \"Presto\", \"Trident\" ]\n  }\n}\n</code></pre>\n\n<p>Produces:</p>\n\n<pre><code>{\n  grails {\n    scaffolding {\n      templates {\n        domainSuffix = \"Instance\"\n      }\n    }\n    enable {\n      native2ascii = true\n      blah = [\n        1,\n        2,\n        3,\n      ]\n    }\n    mime {\n      disable {\n        accept {\n          header {\n            userAgents = [\n              \"WebKit\",\n              \"Presto\",\n              \"Trident\",\n            ]\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6594034,"reputation":61,"user_id":5094389,"display_name":"Clem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683186163,"creation_date":1683186163,"answer_id":76170690,"question_id":7898068,"body_markdown":"Since GreenGiant answer seems broken when I tried using it, here&#39;s a working version for future reference :\r\n\r\n```Groovy\r\nstatic String prettify(obj, level = 0, StringBuilder sb = new StringBuilder()) {\r\n    def indent = { lev -&gt; sb.append(&quot;  &quot; * lev) }\r\n    if (!obj) return sb\r\n    if(obj instanceof Map&lt;String, ?&gt;){\r\n        sb.append(&quot;{\\n&quot;)\r\n        obj.each{ name, value -&gt;\r\n            if(name.contains(&#39;.&#39;)) return // skip keys like &quot;a.b.c&quot;, which are redundant\r\n            indent(level+1).append(name)\r\n            (value instanceof Map) ? sb.append(&quot; &quot;) : sb.append(&quot; = &quot;)\r\n            prettify(value, level+1, sb)\r\n            sb.append(&quot;\\n&quot;)\r\n        }\r\n        indent(level).append(&quot;}&quot;)\r\n    } else if(obj instanceof List){\r\n        sb.append(&quot;[\\n&quot;)\r\n        obj.each{ value -&gt;\r\n            indent(level+1)\r\n            prettify(value, level+1, sb).append(&quot;,&quot;)\r\n            sb.append(&quot;\\n&quot;)\r\n        }\r\n        indent(level).append(&quot;]&quot;)\r\n    } else if(obj instanceof String){\r\n        sb.append(&#39;&quot;&#39;).append(obj).append(&#39;&quot;&#39;)\r\n    } else {\r\n        sb.append(obj)\r\n    }\r\n}\r\n```","title":"Pretty print for a groovy ConfigObject?","body":"<p>Since GreenGiant answer seems broken when I tried using it, here's a working version for future reference :</p>\n<pre><code>static String prettify(obj, level = 0, StringBuilder sb = new StringBuilder()) {\n    def indent = { lev -&gt; sb.append(&quot;  &quot; * lev) }\n    if (!obj) return sb\n    if(obj instanceof Map&lt;String, ?&gt;){\n        sb.append(&quot;{\\n&quot;)\n        obj.each{ name, value -&gt;\n            if(name.contains('.')) return // skip keys like &quot;a.b.c&quot;, which are redundant\n            indent(level+1).append(name)\n            (value instanceof Map) ? sb.append(&quot; &quot;) : sb.append(&quot; = &quot;)\n            prettify(value, level+1, sb)\n            sb.append(&quot;\\n&quot;)\n        }\n        indent(level).append(&quot;}&quot;)\n    } else if(obj instanceof List){\n        sb.append(&quot;[\\n&quot;)\n        obj.each{ value -&gt;\n            indent(level+1)\n            prettify(value, level+1, sb).append(&quot;,&quot;)\n            sb.append(&quot;\\n&quot;)\n        }\n        indent(level).append(&quot;]&quot;)\n    } else if(obj instanceof String){\n        sb.append('&quot;').append(obj).append('&quot;')\n    } else {\n        sb.append(obj)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":113891,"reputation":6782,"user_id":299754,"accept_rate":75,"display_name":"Jules Oll&#233;on"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5299,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":7900141,"answer_count":4,"score":5,"last_activity_date":1683186163,"creation_date":1319595502,"question_id":7898068,"body_markdown":"I have this groovy program that creates a groovy configuration file, using a ConfigObject. Once the ConfigObject is set up, it is written to a file using:\r\n\r\n    myFile.withWriter {writer -&gt; myConfigObject.writeTo(writer)}\r\n\r\nThis results in each property of the ConfigObject being written on a single line. So for instance a map will be printed as:\r\n\r\n    graphs=[[&quot;type&quot;:&quot;std&quot;, &quot;host&quot;:&quot;localhost&quot;, &quot;name&quot;:&quot;cpurawlinux&quot;], [&quot;type&quot;:&quot;std&quot;, &quot;host&quot;:&quot;localhost&quot;, &quot;name&quot;:&quot;memory&quot;], [&quot;type&quot;:&quot;std&quot;, &quot;host&quot;:&quot;localhost&quot;, &quot;name&quot;:&quot;udp&quot;] ... ]\r\n\r\nwhich is quite unreadable if someone has to take a look at it.\r\nIs there a way to get a more friendly output? Something like that would be great:\r\n\r\n    graphs=[\r\n        [&quot;type&quot;:&quot;std&quot;, &quot;host&quot;:&quot;localhost&quot;, &quot;name&quot;:&quot;cpurawlinux&quot;],\r\n        [&quot;type&quot;:&quot;std&quot;, &quot;host&quot;:&quot;localhost&quot;, &quot;name&quot;:&quot;memory&quot;],\r\n        [&quot;type&quot;:&quot;std&quot;, &quot;host&quot;:&quot;localhost&quot;, &quot;name&quot;:&quot;udp&quot;]\r\n        ...\r\n    ]\r\n\r\nI know I could create my own `writeTo`, but isn&#39;t there already something in Groovy for that?","title":"Pretty print for a groovy ConfigObject?","body":"<p>I have this groovy program that creates a groovy configuration file, using a ConfigObject. Once the ConfigObject is set up, it is written to a file using:</p>\n\n<pre><code>myFile.withWriter {writer -&gt; myConfigObject.writeTo(writer)}\n</code></pre>\n\n<p>This results in each property of the ConfigObject being written on a single line. So for instance a map will be printed as:</p>\n\n<pre><code>graphs=[[\"type\":\"std\", \"host\":\"localhost\", \"name\":\"cpurawlinux\"], [\"type\":\"std\", \"host\":\"localhost\", \"name\":\"memory\"], [\"type\":\"std\", \"host\":\"localhost\", \"name\":\"udp\"] ... ]\n</code></pre>\n\n<p>which is quite unreadable if someone has to take a look at it.\nIs there a way to get a more friendly output? Something like that would be great:</p>\n\n<pre><code>graphs=[\n    [\"type\":\"std\", \"host\":\"localhost\", \"name\":\"cpurawlinux\"],\n    [\"type\":\"std\", \"host\":\"localhost\", \"name\":\"memory\"],\n    [\"type\":\"std\", \"host\":\"localhost\", \"name\":\"udp\"]\n    ...\n]\n</code></pre>\n\n<p>I know I could create my own <code>writeTo</code>, but isn't there already something in Groovy for that?</p>\n"},{"tags":["java","datetime","calendar"],"comments":[{"owner":{"account_id":6379952,"reputation":3111,"user_id":4949750,"display_name":"Amongalen"},"score":4,"creation_date":1581675363,"post_id":60224183,"comment_id":106524194,"body_markdown":"The major problem I can see is that you&#39;re using the outdated `Date` class. You should take a look at Date/Time API added in Java 8 (`LocalDate`, `LocalTime`,`LocalDateTime`), here is an [introduction tutorial](https://www.baeldung.com/java-8-date-time-intro).","body":"The major problem I can see is that you&#39;re using the outdated <code>Date</code> class. You should take a look at Date/Time API added in Java 8 (<code>LocalDate</code>, <code>LocalTime</code>,<code>LocalDateTime</code>), here is an <a href=\"https://www.baeldung.com/java-8-date-time-intro\" rel=\"nofollow noreferrer\">introduction tutorial</a>."},{"owner":{"account_id":16669822,"reputation":379,"user_id":12047586,"display_name":"Imaguest"},"score":1,"creation_date":1581675510,"post_id":60224183,"comment_id":106524275,"body_markdown":"Use `c.add(Calendar.DATE, nDays); ` to increment the date. And why are you always adding `2`? If it&#39;s saturday OK, but if it&#39;s sunday?? And as Amongalen said, `Date` class is outdated.","body":"Use <code>c.add(Calendar.DATE, nDays); </code> to increment the date. And why are you always adding <code>2</code>? If it&#39;s saturday OK, but if it&#39;s sunday?? And as Amongalen said, <code>Date</code> class is outdated."},{"owner":{"account_id":231117,"reputation":8541,"user_id":495157,"accept_rate":40,"display_name":"JGFMK"},"score":0,"creation_date":1581675860,"post_id":60224183,"comment_id":106524449,"body_markdown":"I take it you mean date calculations involving working days only. What about public holidays?","body":"I take it you mean date calculations involving working days only. What about public holidays?"},{"owner":{"account_id":231117,"reputation":8541,"user_id":495157,"accept_rate":40,"display_name":"JGFMK"},"score":0,"creation_date":1581676178,"post_id":60224183,"comment_id":106524622,"body_markdown":"I&#39;ve seen people do this in the past by having a working calendar database table. You have 366 characters one per day. You can pre-generated it to exclude Sat/Sun easily - so those days would say have a zero in them. Working days have 1. Then you omit ad-hoc public holidays. Then you have a seed date, then say 5 working days later.. You count 5 ones into the array. You also have to read 2 records on year end... Or if your date span crosses multiple years, like say 400 days more...","body":"I&#39;ve seen people do this in the past by having a working calendar database table. You have 366 characters one per day. You can pre-generated it to exclude Sat/Sun easily - so those days would say have a zero in them. Working days have 1. Then you omit ad-hoc public holidays. Then you have a seed date, then say 5 working days later.. You count 5 ones into the array. You also have to read 2 records on year end... Or if your date span crosses multiple years, like say 400 days more..."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1581711621,"post_id":60224183,"comment_id":106540968,"body_markdown":"I too recommend you don’t use `Date` and `Calendar`. Those classes are poorly designed and long outdated. Instead use `LocalDate` from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I too recommend you don’t use <code>Date</code> and <code>Calendar</code>. Those classes are poorly designed and long outdated. Instead use <code>LocalDate</code> from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1581711741,"post_id":60224183,"comment_id":106541013,"body_markdown":"Does your observed result differ from the expected? If so, how? *Questions seeking debugging help (&quot;why isn&#39;t this code working?&quot;) must include …a specific problem …* From [What topics can I ask about here?](https://stackoverflow.com/help/on-topic)","body":"Does your observed result differ from the expected? If so, how? <i>Questions seeking debugging help (&quot;why isn&#39;t this code working?&quot;) must include …a specific problem …</i> From <a href=\"https://stackoverflow.com/help/on-topic\">What topics can I ask about here?</a>"},{"owner":{"account_id":16421910,"reputation":21,"user_id":11862902,"display_name":"Shweta Kathalkar"},"score":0,"creation_date":1582177691,"post_id":60224183,"comment_id":106689472,"body_markdown":"Thank You all. But due to some restrictions, I am using date and Calender class.","body":"Thank You all. But due to some restrictions, I am using date and Calender class."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683185581,"creation_date":1683178621,"answer_id":76169871,"question_id":60224183,"body_markdown":"# tl;dr\r\n\r\n    Calendar c =\r\n        GregorianCalendar                                                  // A subclass of `Calendar` legacy class.\r\n        .from(                                                             // Convert from modern to legacy class. \r\n            myLegacyJavaUtilDate                                           // Legacy class representing a moment as seen in UTC.  \r\n            .toInstant()                                                   // Convert this moment as seen in UTC from legacy class to modern class.\r\n            .atZone( ZoneId.of( &quot;Asia/Tokyo&quot; ) )                           // See the same moment through the wall-clock date &amp; time of a particular time zone. Returns an `ZonedDateTime`. \r\n            .toLocalDate()                                                 // Extract a date-only value.\r\n            .with( org.threeten.extra.Temporals.nextWorkingDayOrSame() )   // Move to the next weekday if not already a weekday.\r\n            .atStartOfDay( ZoneId.of( &quot;Asia/Tokyo&quot; ) )                     // Determine the first moment of the day as seen in that zone on that date. Returns an `ZonedDateTime`. \r\n        )\r\n    ;\r\n\r\n# Avoid legacy date-time classes\r\n\r\nAvoid the troubled legacy date-time classes such as both `Date` classes. If necessary to interoperate with old code not yet updated to *java.time* classes, write new logic in *java.time* and at the end convert to legacy objects.\r\n\r\n# `java.time.Instant` is the new `java.util.Date`.\r\n\r\nThe `java.util.Date` class was replaced by `java.time.Instant`. Convert using new methods added to old classes.\r\n\r\n    Instant instant = myJUDate.toInstant() ;\r\n\r\n# Date-only values: `LocalDate`\r\n\r\nYou said:\r\n\r\n```java\r\n  Date today = new Date();\r\n  Calendar cal = Calendar.getInstance();\r\n  cal.setTime(today);\r\n  cal.set(Calendar.HOUR_OF_DAY, 0);\r\n  cal.set(Calendar.MINUTE, 0);\r\n  cal.set(Calendar.SECOND, 0);\r\n  cal.set(Calendar.MILLISECOND, 0);\r\n```\r\n\r\nApparently you want to extract a date-only value from a `java.util.Date` object that contains a date &amp; time-of-day as seen with an offset from UTC of zero hours-minutes-seconds. To extract a date properly, you must specify a time zone by which you want to interpret a date. For any given moment, the date varies around the world by time zone.\r\n\r\n    Instant instant = myJUDate.toInstant() ;    // A moment as seen in UTC.\r\n    ZoneId z = ZoneId.of( &quot;Asia/Tokyo&quot; ); \r\n    ZonedDateTime zdt = instant.atZone( z ) ;   // The same simultaneous moment, but as seen through a particular time zone. The time of day, and even the date, may differ from that of the `Instant` above.\r\n    LocalDate localDate = zdt.toLocalDate() ;   // Extract a date only, discarding the time-of-day and the time zone.\r\n\r\nOr more briefly:\r\n\r\n    LocalDate localDate =\r\n        myJUDate\r\n        .toInstant()\r\n        .atZone( ZoneId.of( &quot;Asia/Tokyo&quot; ) )\r\n        .toLocalDate()\r\n    ;\r\n\r\nUse that kind of code for 3 of your 4 `java.util.Date` inputs. For the current date, today, use this:\r\n\r\n    LocalDate today = LocalDate.now( z ) ;\r\n\r\n# Moving between dates\r\n\r\nYou asked:\r\n\r\n&gt; if that calculated date is falling on weekend (ie. Saturday, Sunday) then we need to increment or add days to it so that the next date will be weekday. \r\n\r\nThis is surprisingly easy in *java.time*. \r\n\r\nThe [`TemporalAdjuster`][1] interface provides for moving from one date to another. The algorithm by which you want to jump between dates is defined in an implementation of that interface. \r\n\r\nThe [`TemporalAdjusters`][2] class provides several useful such implementations. But none of those bundled implementations jumps both Saturday and Sunday. \r\n\r\nThe third-party library [*ThreeTen-Extra*][3] happens to provide an implementation of `TemporalAdjuster` which does just what you want, jump past both Saturday and Sunday. Add that library to your project. Then access the `TemporalAdjuster` object returned by a call to [`org.threeten.extra.Temporals.nextWorkingDayOrSame()`][4]. The “OrSame” means if the date is already a weekday, keep it, no need to move to another date.\r\n\r\n    TemporalAdjuster nextOrSameWeekdayAdjuster = org.threeten.extra.Temporals.nextWorkingDayOrSame() ;\r\n\r\nPut that adjuster to work on each of the dates you care about.\r\n\r\n    LocalDate nextOrSameWeekDayClosestToToday = today.with( nextOrSameWeekdayAdjuster ) ;\r\n\r\nNotice that *java.time* uses immutable objects. Rather than alter (“mutate”) the original, a new object is returned with values based on the original.\r\n\r\n# Obtain a moment from a date-only value\r\n\r\nSo we have some `LocalDate` objects adjusted to avoid weekends. But you asked for `java.util.Date` objects (apparently). \r\n\r\nTo get from a date-only value (`LocalDate`) to a moment, we must apply a time zone by which to determine the first moment of that day in that zone. \r\n\r\nDo not assume a day starts at 00:00. Some dates in some time zones start at another time, such as 01:00. Let *java.time* determine the first moment.\r\n\r\n    ZonedDateTime firstMomentOfNextOrSameWeekDayClosestToToday = nextOrSameWeekDayClosestToToday.atStartOfDay( z ) ;\r\n\r\n# Converting from modern to legacy class\r\n\r\nYou commented:\r\n\r\n&gt;But due to some restrictions, I am using date and Calender class.\r\n\r\nAs mentioned above, you should avoid the legacy date-time classes. They really are that troublesome. \r\n\r\nBut if you must have objects of the legacy classes to interoperate with old code not yet updated to *java.time*, call new conversion methods added to the old classes.\r\n\r\nTo convert, first extract a `java.time.Instant` from our `java.time.ZonedDateTime` object.\r\n\r\n    Instant instant = firstMomentOfNextOrSameWeekDayClosestToToday.toInstant() ;\r\n\r\nThen convert from modern to legacy.\r\n\r\n    java.util.Date d = java.util.Date.from( instant ) ;\r\n\r\nIf instead of a moment as seen in UTC (`java.util.Date`) you want a moment as seen in our particular time zone, convert from [`ZonedDateTime`][5] to [`GregorianCalendar`][6] class which extends from [`Calendar`][7]. \r\n\r\n    Calendar c = GregorianCalendar.from( firstMomentOfNextOrSameWeekDayClosestToToday ) ;\r\n\r\nPutting all this code together:\r\n\r\n    Calendar c =\r\n        GregorianCalendar.from( \r\n            myJUDate\r\n            .toInstant()\r\n            .atZone( ZoneId.of( &quot;Asia/Tokyo&quot; ) )\r\n            .toLocalDate()\r\n            .with( org.threeten.extra.Temporals.nextWorkingDayOrSame() ) \r\n            .atStartOfDay( ZoneId.of( &quot;Asia/Tokyo&quot; ) ) \r\n        )\r\n    ;\r\n\r\n\r\n\r\n\r\n    \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/temporal/TemporalAdjuster.html\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/temporal/TemporalAdjusters.html\r\n  [3]: https://www.threeten.org/threeten-extra/\r\n  [4]: https://www.threeten.org/threeten-extra/apidocs/org.threeten.extra/org/threeten/extra/Temporals.html#nextWorkingDayOrSame()\r\n  [5]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/ZonedDateTime.html\r\n  [6]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/GregorianCalendar.html\r\n  [7]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Calendar.html","title":"How to calculate day from date object and if i is falling under weekend then increment it in java?","body":"<h1>tl;dr</h1>\n<pre><code>Calendar c =\n    GregorianCalendar                                                  // A subclass of `Calendar` legacy class.\n    .from(                                                             // Convert from modern to legacy class. \n        myLegacyJavaUtilDate                                           // Legacy class representing a moment as seen in UTC.  \n        .toInstant()                                                   // Convert this moment as seen in UTC from legacy class to modern class.\n        .atZone( ZoneId.of( &quot;Asia/Tokyo&quot; ) )                           // See the same moment through the wall-clock date &amp; time of a particular time zone. Returns an `ZonedDateTime`. \n        .toLocalDate()                                                 // Extract a date-only value.\n        .with( org.threeten.extra.Temporals.nextWorkingDayOrSame() )   // Move to the next weekday if not already a weekday.\n        .atStartOfDay( ZoneId.of( &quot;Asia/Tokyo&quot; ) )                     // Determine the first moment of the day as seen in that zone on that date. Returns an `ZonedDateTime`. \n    )\n;\n</code></pre>\n<h1>Avoid legacy date-time classes</h1>\n<p>Avoid the troubled legacy date-time classes such as both <code>Date</code> classes. If necessary to interoperate with old code not yet updated to <em>java.time</em> classes, write new logic in <em>java.time</em> and at the end convert to legacy objects.</p>\n<h1><code>java.time.Instant</code> is the new <code>java.util.Date</code>.</h1>\n<p>The <code>java.util.Date</code> class was replaced by <code>java.time.Instant</code>. Convert using new methods added to old classes.</p>\n<pre><code>Instant instant = myJUDate.toInstant() ;\n</code></pre>\n<h1>Date-only values: <code>LocalDate</code></h1>\n<p>You said:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  Date today = new Date();\n  Calendar cal = Calendar.getInstance();\n  cal.setTime(today);\n  cal.set(Calendar.HOUR_OF_DAY, 0);\n  cal.set(Calendar.MINUTE, 0);\n  cal.set(Calendar.SECOND, 0);\n  cal.set(Calendar.MILLISECOND, 0);\n</code></pre>\n<p>Apparently you want to extract a date-only value from a <code>java.util.Date</code> object that contains a date &amp; time-of-day as seen with an offset from UTC of zero hours-minutes-seconds. To extract a date properly, you must specify a time zone by which you want to interpret a date. For any given moment, the date varies around the world by time zone.</p>\n<pre><code>Instant instant = myJUDate.toInstant() ;    // A moment as seen in UTC.\nZoneId z = ZoneId.of( &quot;Asia/Tokyo&quot; ); \nZonedDateTime zdt = instant.atZone( z ) ;   // The same simultaneous moment, but as seen through a particular time zone. The time of day, and even the date, may differ from that of the `Instant` above.\nLocalDate localDate = zdt.toLocalDate() ;   // Extract a date only, discarding the time-of-day and the time zone.\n</code></pre>\n<p>Or more briefly:</p>\n<pre><code>LocalDate localDate =\n    myJUDate\n    .toInstant()\n    .atZone( ZoneId.of( &quot;Asia/Tokyo&quot; ) )\n    .toLocalDate()\n;\n</code></pre>\n<p>Use that kind of code for 3 of your 4 <code>java.util.Date</code> inputs. For the current date, today, use this:</p>\n<pre><code>LocalDate today = LocalDate.now( z ) ;\n</code></pre>\n<h1>Moving between dates</h1>\n<p>You asked:</p>\n<blockquote>\n<p>if that calculated date is falling on weekend (ie. Saturday, Sunday) then we need to increment or add days to it so that the next date will be weekday.</p>\n</blockquote>\n<p>This is surprisingly easy in <em>java.time</em>.</p>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/temporal/TemporalAdjuster.html\" rel=\"nofollow noreferrer\"><code>TemporalAdjuster</code></a> interface provides for moving from one date to another. The algorithm by which you want to jump between dates is defined in an implementation of that interface.</p>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/temporal/TemporalAdjusters.html\" rel=\"nofollow noreferrer\"><code>TemporalAdjusters</code></a> class provides several useful such implementations. But none of those bundled implementations jumps both Saturday and Sunday.</p>\n<p>The third-party library <a href=\"https://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\"><em>ThreeTen-Extra</em></a> happens to provide an implementation of <code>TemporalAdjuster</code> which does just what you want, jump past both Saturday and Sunday. Add that library to your project. Then access the <code>TemporalAdjuster</code> object returned by a call to <a href=\"https://www.threeten.org/threeten-extra/apidocs/org.threeten.extra/org/threeten/extra/Temporals.html#nextWorkingDayOrSame()\" rel=\"nofollow noreferrer\"><code>org.threeten.extra.Temporals.nextWorkingDayOrSame()</code></a>. The “OrSame” means if the date is already a weekday, keep it, no need to move to another date.</p>\n<pre><code>TemporalAdjuster nextOrSameWeekdayAdjuster = org.threeten.extra.Temporals.nextWorkingDayOrSame() ;\n</code></pre>\n<p>Put that adjuster to work on each of the dates you care about.</p>\n<pre><code>LocalDate nextOrSameWeekDayClosestToToday = today.with( nextOrSameWeekdayAdjuster ) ;\n</code></pre>\n<p>Notice that <em>java.time</em> uses immutable objects. Rather than alter (“mutate”) the original, a new object is returned with values based on the original.</p>\n<h1>Obtain a moment from a date-only value</h1>\n<p>So we have some <code>LocalDate</code> objects adjusted to avoid weekends. But you asked for <code>java.util.Date</code> objects (apparently).</p>\n<p>To get from a date-only value (<code>LocalDate</code>) to a moment, we must apply a time zone by which to determine the first moment of that day in that zone.</p>\n<p>Do not assume a day starts at 00:00. Some dates in some time zones start at another time, such as 01:00. Let <em>java.time</em> determine the first moment.</p>\n<pre><code>ZonedDateTime firstMomentOfNextOrSameWeekDayClosestToToday = nextOrSameWeekDayClosestToToday.atStartOfDay( z ) ;\n</code></pre>\n<h1>Converting from modern to legacy class</h1>\n<p>You commented:</p>\n<blockquote>\n<p>But due to some restrictions, I am using date and Calender class.</p>\n</blockquote>\n<p>As mentioned above, you should avoid the legacy date-time classes. They really are that troublesome.</p>\n<p>But if you must have objects of the legacy classes to interoperate with old code not yet updated to <em>java.time</em>, call new conversion methods added to the old classes.</p>\n<p>To convert, first extract a <code>java.time.Instant</code> from our <code>java.time.ZonedDateTime</code> object.</p>\n<pre><code>Instant instant = firstMomentOfNextOrSameWeekDayClosestToToday.toInstant() ;\n</code></pre>\n<p>Then convert from modern to legacy.</p>\n<pre><code>java.util.Date d = java.util.Date.from( instant ) ;\n</code></pre>\n<p>If instead of a moment as seen in UTC (<code>java.util.Date</code>) you want a moment as seen in our particular time zone, convert from <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\"><code>ZonedDateTime</code></a> to <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/GregorianCalendar.html\" rel=\"nofollow noreferrer\"><code>GregorianCalendar</code></a> class which extends from <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>Calendar</code></a>.</p>\n<pre><code>Calendar c = GregorianCalendar.from( firstMomentOfNextOrSameWeekDayClosestToToday ) ;\n</code></pre>\n<p>Putting all this code together:</p>\n<pre><code>Calendar c =\n    GregorianCalendar.from( \n        myJUDate\n        .toInstant()\n        .atZone( ZoneId.of( &quot;Asia/Tokyo&quot; ) )\n        .toLocalDate()\n        .with( org.threeten.extra.Temporals.nextWorkingDayOrSame() ) \n        .atStartOfDay( ZoneId.of( &quot;Asia/Tokyo&quot; ) ) \n    )\n;\n</code></pre>\n"}],"owner":{"account_id":16421910,"reputation":21,"user_id":11862902,"display_name":"Shweta Kathalkar"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1683185581,"creation_date":1581674936,"question_id":60224183,"body_markdown":"I have 4 dates i.e. today(current system date), activity date, quoteFinishFirstFolloupDate, and quoteFinishSecondFollowupDate which I have calculated based on some criteria but if that calculated date is falling on weekend (ie. Saturday, Sunday) then we need to increment or add days to it so that the next date will be weekday. So, how can I calculate days and add it so that it will be a weekday date? I have tried something but for Date object, I am not able to calculate the days.\r\n\r\nHere is my piece of code:\r\n```\r\nif (logs != null &amp;&amp; logs.size() &gt; 0) {\r\n  ActivityLog latestActivityLog = logs.get(0);\r\n  Date activityDate = latestActivityLog.getActivityDate();\r\n\r\n  Date today = new Date();\r\n  Calendar cal = Calendar.getInstance();\r\n  cal.setTime(today);\r\n  cal.set(Calendar.HOUR_OF_DAY, 0);\r\n  cal.set(Calendar.MINUTE, 0);\r\n  cal.set(Calendar.SECOND, 0);\r\n  cal.set(Calendar.MILLISECOND, 0);\r\n\r\n  int dayOfWeek = cal.get(Calendar.DAY_OF_WEEK);\r\n  // check if it is Saturday(day=7) or Sunday(day=1)\r\n  if ((dayOfWeek == 7)) {\r\n    cal.add(Calendar.DAY_OF_WEEK, 2);\r\n    today = cal.getTime();\r\n  }else if ((dayOfWeek == 1)) {\r\n    cal.add(Calendar.DAY_OF_WEEK, 2);\r\n    today = cal.getTime();\r\n  }else {\r\n    today = cal.getTime();\r\n  }\r\n\r\n  // @TODO: @RD to check +1 day logic\r\n  // plus 1 to include the endate=today+26 with time at 1pm\r\n  Date quoteFinishFirstFolloupDate = DateUtils.addDays(activityDate, -1 * getUnboundQuoteFirstFollowupDays());\r\n\r\n\r\n  Date quoteFinishSecondFollowupDate = DateUtils.addDays(quoteFinishFirstFolloupDate, getUnboundQuoteSecondFollowupDays());\r\n\r\n  if (today.compareTo(quoteFinishFirstFolloupDate) == 0 || today.compareTo(quoteFinishSecondFollowupDate) == 0) {\r\n    isValidCCVB_ActivityLog = Boolean.TRUE;\r\n    log.info(&quot;isValidCCVB_ActivityLog:&quot; + isValidCCVB_ActivityLog);\r\n  }\r\n}\r\n```\r\n\r\nCan anyone help me?","title":"How to calculate day from date object and if i is falling under weekend then increment it in java?","body":"<p>I have 4 dates i.e. today(current system date), activity date, quoteFinishFirstFolloupDate, and quoteFinishSecondFollowupDate which I have calculated based on some criteria but if that calculated date is falling on weekend (ie. Saturday, Sunday) then we need to increment or add days to it so that the next date will be weekday. So, how can I calculate days and add it so that it will be a weekday date? I have tried something but for Date object, I am not able to calculate the days.</p>\n\n<p>Here is my piece of code:</p>\n\n<pre><code>if (logs != null &amp;&amp; logs.size() &gt; 0) {\n  ActivityLog latestActivityLog = logs.get(0);\n  Date activityDate = latestActivityLog.getActivityDate();\n\n  Date today = new Date();\n  Calendar cal = Calendar.getInstance();\n  cal.setTime(today);\n  cal.set(Calendar.HOUR_OF_DAY, 0);\n  cal.set(Calendar.MINUTE, 0);\n  cal.set(Calendar.SECOND, 0);\n  cal.set(Calendar.MILLISECOND, 0);\n\n  int dayOfWeek = cal.get(Calendar.DAY_OF_WEEK);\n  // check if it is Saturday(day=7) or Sunday(day=1)\n  if ((dayOfWeek == 7)) {\n    cal.add(Calendar.DAY_OF_WEEK, 2);\n    today = cal.getTime();\n  }else if ((dayOfWeek == 1)) {\n    cal.add(Calendar.DAY_OF_WEEK, 2);\n    today = cal.getTime();\n  }else {\n    today = cal.getTime();\n  }\n\n  // @TODO: @RD to check +1 day logic\n  // plus 1 to include the endate=today+26 with time at 1pm\n  Date quoteFinishFirstFolloupDate = DateUtils.addDays(activityDate, -1 * getUnboundQuoteFirstFollowupDays());\n\n\n  Date quoteFinishSecondFollowupDate = DateUtils.addDays(quoteFinishFirstFolloupDate, getUnboundQuoteSecondFollowupDays());\n\n  if (today.compareTo(quoteFinishFirstFolloupDate) == 0 || today.compareTo(quoteFinishSecondFollowupDate) == 0) {\n    isValidCCVB_ActivityLog = Boolean.TRUE;\n    log.info(\"isValidCCVB_ActivityLog:\" + isValidCCVB_ActivityLog);\n  }\n}\n</code></pre>\n\n<p>Can anyone help me?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"score":0,"creation_date":1683183009,"post_id":76170285,"comment_id":134327920,"body_markdown":"hello and welcome to SO. Please first read some guidelines: https://stackoverflow.com/help/how-to-ask https://stackoverflow.com/help/minimal-reproducible-example. After that please share your code in which you were trying to solve this issue, or any errors you encountered.","body":"hello and welcome to SO. Please first read some guidelines: <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a> <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>. After that please share your code in which you were trying to solve this issue, or any errors you encountered."},{"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"score":0,"creation_date":1683183097,"post_id":76170285,"comment_id":134327947,"body_markdown":"It seems like you are trying to do &quot;unicode normalization&quot;. It is not quite as trivial at is seems: https://towardsdatascience.com/what-on-earth-is-unicode-normalization-56c005c55ad0","body":"It seems like you are trying to do &quot;unicode normalization&quot;. It is not quite as trivial at is seems: <a href=\"https://towardsdatascience.com/what-on-earth-is-unicode-normalization-56c005c55ad0\" rel=\"nofollow noreferrer\">towardsdatascience.com/&hellip;</a>"},{"owner":{"account_id":17743526,"reputation":55,"user_id":12883271,"display_name":"JOJU"},"score":0,"creation_date":1683183139,"post_id":76170285,"comment_id":134327961,"body_markdown":"fascynacja I don&#39;t know the problem, so I can&#39;t reproduce it.","body":"fascynacja I don&#39;t know the problem, so I can&#39;t reproduce it."},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1683184025,"post_id":76170285,"comment_id":134328100,"body_markdown":"@JOJU it seems that you want to replace an apostrophe &quot;&#39;&quot; character with an accent &quot;`&quot;? This would seem wrong to me...","body":"@JOJU it seems that you want to replace an apostrophe &quot;&#39;&quot; character with an accent &quot;`&quot;? This would seem wrong to me..."},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1683184489,"post_id":76170285,"comment_id":134328175,"body_markdown":"See https://www.unicode.org/charts/nameslist/n_02B0.html for the names of these symbols.","body":"See <a href=\"https://www.unicode.org/charts/nameslist/n_02B0.html\" rel=\"nofollow noreferrer\">unicode.org/charts/nameslist/n_02B0.html</a> for the names of these symbols."},{"owner":{"account_id":17743526,"reputation":55,"user_id":12883271,"display_name":"JOJU"},"score":0,"creation_date":1683529703,"post_id":76170285,"comment_id":134374992,"body_markdown":"Changed the encoding method to unicode mb4. Normalization couldn&#39;t solve all my problems. thanks","body":"Changed the encoding method to unicode mb4. Normalization couldn&#39;t solve all my problems. thanks"}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683185197,"creation_date":1683185197,"answer_id":76170563,"question_id":76170285,"body_markdown":"At least for the example you provided, the conversion can be done by normalising the text to the compatibility decomposition form. The weird-looking, non ASCII letters are &quot;mathematical bold&quot; letters, as Unicode calls them. These are *compatibility equivalent* to their ASCII counterparts.\r\n\r\nIn Java, you do normalisation with the [`Normalizer`][1] class.\r\n\r\n```\r\nString normalised = Normalizer.normalize(yourString, Normalizer.Form.NFKD);\r\n```\r\n\r\nLearn more about how normalisation forms [here][2].\r\n\r\nThat said, other characters in your string might also have a compatibility decomposed form. This will change those characters too, which might be undesirable.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/Normalizer.html\r\n  [2]: https://unicode.org/reports/tr15/","title":"How to replace 2-byte English characters with 1-byte English characters?","body":"<p>At least for the example you provided, the conversion can be done by normalising the text to the compatibility decomposition form. The weird-looking, non ASCII letters are &quot;mathematical bold&quot; letters, as Unicode calls them. These are <em>compatibility equivalent</em> to their ASCII counterparts.</p>\n<p>In Java, you do normalisation with the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/Normalizer.html\" rel=\"nofollow noreferrer\"><code>Normalizer</code></a> class.</p>\n<pre><code>String normalised = Normalizer.normalize(yourString, Normalizer.Form.NFKD);\n</code></pre>\n<p>Learn more about how normalisation forms <a href=\"https://unicode.org/reports/tr15/\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>That said, other characters in your string might also have a compatibility decomposed form. This will change those characters too, which might be undesirable.</p>\n"}],"owner":{"account_id":17743526,"reputation":55,"user_id":12883271,"display_name":"JOJU"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76170563,"answer_count":1,"score":1,"last_activity_date":1683185197,"creation_date":1683182784,"question_id":76170285,"body_markdown":"It&#39;s a unicode English character and I&#39;m not sure what to call it exactly.\r\nBelow is the English text source and the desired result.\r\n\r\nsource = &quot;Kep&#119826;&#119853;&#119851;&#119838;&#119838;&#119853; &#119810;&#119834;&#119853;’&#119852; &#119810;&#119845;&#119854;&#119835; Collab&quot;\r\n\r\ni want result = &quot;KepStreet Cat`s Club Collab&quot;","title":"How to replace 2-byte English characters with 1-byte English characters?","body":"<p>It's a unicode English character and I'm not sure what to call it exactly.\nBelow is the English text source and the desired result.</p>\n<p>source = &quot;Kep𝐒𝐭𝐫𝐞𝐞𝐭 𝐂𝐚𝐭’𝐬 𝐂𝐥𝐮𝐛 Collab&quot;</p>\n<p>i want result = &quot;KepStreet Cat`s Club Collab&quot;</p>\n"},{"tags":["java","jsf","primefaces","el"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1683124837,"post_id":76165047,"comment_id":134318924,"body_markdown":"_&quot;this is not what I need in principle&quot;_ Why not?","body":"<i>&quot;this is not what I need in principle&quot;</i> Why not?"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1683124996,"post_id":76165047,"comment_id":134318961,"body_markdown":"Possible duplicate: [Double.toString without the exponential notation for large values](https://stackoverflow.com/questions/25039035/double-tostring-without-the-exponential-notation-for-large-values)","body":"Possible duplicate: <a href=\"https://stackoverflow.com/questions/25039035/double-tostring-without-the-exponential-notation-for-large-values\">Double.toString without the exponential notation for large values</a>"}],"answers":[{"tags":[],"owner":{"account_id":472248,"reputation":19503,"user_id":880619,"accept_rate":100,"display_name":"Jasper de Vries"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683135395,"creation_date":1683135395,"answer_id":76166627,"question_id":76165047,"body_markdown":"You can use `f:convertNumber` only on components containing a number. If your component value is `Some text and #{bean.someNumber}`, it first evaluates the value, and the resulting string (for example `Some text and 1.0E7`) cannot be formatted using `f:convertNumber`.\r\n\r\nIt&#39;s not documented, but you can `p:outputLabel` without the `value` attribute, but use the body instead. So:\r\n\r\n```xhtml\r\n&lt;p:outputLabel for=&quot;...&quot;&gt;Label value&lt;/p:outputLabel&gt;\r\n```\r\n\r\nThis allows you to place the number in its own component and format it:\r\n\r\n```xhtml\r\n&lt;p:outputLabel for=&quot;...&quot;&gt;\r\n  Some text\r\n  &lt;h:outputText value=&quot;#{testView.amount}&quot;&gt;\r\n    &lt;f:convertNumber pattern=&quot;#&quot;/&gt;\r\n  &lt;/h:outputText&gt;\r\n&lt;/p:outputLabel&gt;\r\n```\r\n","title":"How to format a number which is part of the value of p:outputLabel","body":"<p>You can use <code>f:convertNumber</code> only on components containing a number. If your component value is <code>Some text and #{bean.someNumber}</code>, it first evaluates the value, and the resulting string (for example <code>Some text and 1.0E7</code>) cannot be formatted using <code>f:convertNumber</code>.</p>\n<p>It's not documented, but you can <code>p:outputLabel</code> without the <code>value</code> attribute, but use the body instead. So:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;p:outputLabel for=&quot;...&quot;&gt;Label value&lt;/p:outputLabel&gt;\n</code></pre>\n<p>This allows you to place the number in its own component and format it:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;p:outputLabel for=&quot;...&quot;&gt;\n  Some text\n  &lt;h:outputText value=&quot;#{testView.amount}&quot;&gt;\n    &lt;f:convertNumber pattern=&quot;#&quot;/&gt;\n  &lt;/h:outputText&gt;\n&lt;/p:outputLabel&gt;\n</code></pre>\n"}],"owner":{"account_id":20021208,"reputation":13,"user_id":17084265,"display_name":"Владимир Царьков"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76166627,"answer_count":1,"score":1,"last_activity_date":1683183690,"creation_date":1683124334,"question_id":76165047,"body_markdown":"I have this JSF .xhtml code:\r\n```xml\r\n&lt;p:outputLabel value=&quot;#{bundle[&#39;my.bundle.name&#39;]} - #{Myclass.current.amount}&quot;/&gt;\r\n```\r\n`Myclass.current.amount` is a double in Java. There is a problem in conversion. For example, if `Myclass.current.amount` is equal to `10000000`, it&#39;s displayed like `1.0E7`, but I want `10000000`.\r\n\r\nNOTE: I want a solution in JSF, not in Java.\r\n\r\nI tried to use `&lt;f:convertNumber/&gt;` construction, but it didn&#39;t work, and this is not what I need in principle.","title":"How to format a number which is part of the value of p:outputLabel","body":"<p>I have this JSF .xhtml code:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;p:outputLabel value=&quot;#{bundle['my.bundle.name']} - #{Myclass.current.amount}&quot;/&gt;\n</code></pre>\n<p><code>Myclass.current.amount</code> is a double in Java. There is a problem in conversion. For example, if <code>Myclass.current.amount</code> is equal to <code>10000000</code>, it's displayed like <code>1.0E7</code>, but I want <code>10000000</code>.</p>\n<p>NOTE: I want a solution in JSF, not in Java.</p>\n<p>I tried to use <code>&lt;f:convertNumber/&gt;</code> construction, but it didn't work, and this is not what I need in principle.</p>\n"},{"tags":["java","caching","jakarta-ee","hazelcast","jcache"],"owner":{"account_id":20069604,"reputation":11,"user_id":14714654,"display_name":"atos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683183431,"creation_date":1683125598,"question_id":76165282,"body_markdown":"I have a `JavaEE` WebApp using `jCache` abstraction. Given I have an interface like this:\r\n\r\n\r\n```\r\npublic interface Service {\r\n\r\n    default ReturnObject getReturnObject(String userId) {\r\n        return getReturnObject(userId, null);\r\n    }\r\n\r\n    ReturnObject getReturnObject(String userId, String customerId);\r\n\r\n}\r\n```\r\n\r\nAnd its implementation as follows:\r\n```\r\npublic class ServiceImpl {\r\n\r\n    @Override\r\n    @CacheResult(cacheName = CACHE_NAME, cacheKeyGenerator = DefaultObjectsCacheKeyGenerator.class)\r\n    public ReturnObject getReturnObject(@CacheKey String userId, @CacheKey String customerId) {\r\n...\r\n\r\n    }\r\n}\r\n```\r\n\r\nCan I expect the caching functionality to work properly, i.e. when the default method is getting called with one argument, then the caching will kick in with `null` as the second half of the cache key? I&#39;m worried about something similar to what happens in a Spring proxy where in-class method calls are not proxied and hence no caching/transactioning stuff happens.\r\n\r\nAny clues?\r\n","title":"@CacheResult in combination with default interface method call","body":"<p>I have a <code>JavaEE</code> WebApp using <code>jCache</code> abstraction. Given I have an interface like this:</p>\n<pre><code>public interface Service {\n\n    default ReturnObject getReturnObject(String userId) {\n        return getReturnObject(userId, null);\n    }\n\n    ReturnObject getReturnObject(String userId, String customerId);\n\n}\n</code></pre>\n<p>And its implementation as follows:</p>\n<pre><code>public class ServiceImpl {\n\n    @Override\n    @CacheResult(cacheName = CACHE_NAME, cacheKeyGenerator = DefaultObjectsCacheKeyGenerator.class)\n    public ReturnObject getReturnObject(@CacheKey String userId, @CacheKey String customerId) {\n...\n\n    }\n}\n</code></pre>\n<p>Can I expect the caching functionality to work properly, i.e. when the default method is getting called with one argument, then the caching will kick in with <code>null</code> as the second half of the cache key? I'm worried about something similar to what happens in a Spring proxy where in-class method calls are not proxied and hence no caching/transactioning stuff happens.</p>\n<p>Any clues?</p>\n"},{"tags":["java","spring-boot","maven","junit5"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1584403666,"post_id":60714649,"comment_id":107421373,"body_markdown":"How have you named your test class? Do you like to run your tests with JUnit Jupiter or TestNG?","body":"How have you named your test class? Do you like to run your tests with JUnit Jupiter or TestNG?"},{"owner":{"account_id":11675542,"reputation":428,"user_id":8549223,"accept_rate":88,"display_name":"Jamie"},"score":0,"creation_date":1584404056,"post_id":60714649,"comment_id":107421444,"body_markdown":"My tests are named MovieApplicationTests.java and UserMoviesTests.java both are in the src/test/java/movieweb.movies package.  I had been running my tests in IntelliJ using  whatever tool it provides by default. Now that I am trying to get it to run on the command line so I can do CI/CD with Bitbucket, im getting these problems.","body":"My tests are named MovieApplicationTests.java and UserMoviesTests.java both are in the src/test/java/movieweb.movies package.  I had been running my tests in IntelliJ using  whatever tool it provides by default. Now that I am trying to get it to run on the command line so I can do CI/CD with Bitbucket, im getting these problems."},{"owner":{"account_id":11675542,"reputation":428,"user_id":8549223,"accept_rate":88,"display_name":"Jamie"},"score":0,"creation_date":1584407777,"post_id":60714649,"comment_id":107422051,"body_markdown":"I&#39;m using JUnit 5","body":"I&#39;m using JUnit 5"},{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":1,"creation_date":1584423247,"post_id":60714649,"comment_id":107424762,"body_markdown":"As a first step I’d remove the dependency to testng and see what happens. My guess is that you’ve been using testng all the time without being aware of it.","body":"As a first step I’d remove the dependency to testng and see what happens. My guess is that you’ve been using testng all the time without being aware of it."},{"owner":{"account_id":4565343,"reputation":12775,"user_id":3710490,"accept_rate":64,"display_name":"Valijon"},"score":1,"creation_date":1584430488,"post_id":60714649,"comment_id":107426847,"body_markdown":"You need to add JUnit dependency to your `pom.xml` (exclude JUnit provided by Intellij), resolve dependency errors and then it will work","body":"You need to add JUnit dependency to your <code>pom.xml</code> (exclude JUnit provided by Intellij), resolve dependency errors and then it will work"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1584443077,"post_id":60714649,"comment_id":107432021,"body_markdown":"Then remove testng dependency cause you are using TestNG instead of JUnit jupiter cause you don&#39;t have a dependency to it which means your class contains imports from `org.testng.` instead `org.junit.jupiter.api.*` instead...","body":"Then remove testng dependency cause you are using TestNG instead of JUnit jupiter cause you don&#39;t have a dependency to it which means your class contains imports from <code>org.testng.</code> instead <code>org.junit.jupiter.api.*</code> instead..."},{"owner":{"account_id":11675542,"reputation":428,"user_id":8549223,"accept_rate":88,"display_name":"Jamie"},"score":0,"creation_date":1584476787,"post_id":60714649,"comment_id":107447552,"body_markdown":"Yep removing org.testing and replacing it with org.junit.jupiter broke my testing but showed me that the break was in needing to change the  Beforemethod which org.testing uses to BeforeEach which JUnit uses. \n\nReplaced that and ran mvn clean test and it worked.","body":"Yep removing org.testing and replacing it with org.junit.jupiter broke my testing but showed me that the break was in needing to change the  Beforemethod which org.testing uses to BeforeEach which JUnit uses.   Replaced that and ran mvn clean test and it worked."}],"answers":[{"tags":[],"owner":{"account_id":27598952,"reputation":1,"user_id":21064585,"display_name":"maw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683183169,"creation_date":1683118786,"answer_id":76164131,"question_id":60714649,"body_markdown":"In my case I had to set `MAVEN_HOME` in IntelliJ: File-&gt;Settings (or\r\n &lt;kbd&gt;ctrl&lt;/kbd&gt;+&lt;kbd&gt;alt&lt;/kbd&gt;+&lt;kbd&gt;S&lt;/kbd&gt; under windows), then search for maven and set the &quot;Maven home path&quot; to your local maven installation.\r\n\r\nThis prevented the use of TestNG and my tests were executed. Don&#39;t know why TestNG was used before, I had no TestNG dependency in my `pom.xml`.","title":"mvn test returns 0 tests run","body":"<p>In my case I had to set <code>MAVEN_HOME</code> in IntelliJ: File-&gt;Settings (or\n<kbd>ctrl</kbd>+<kbd>alt</kbd>+<kbd>S</kbd> under windows), then search for maven and set the &quot;Maven home path&quot; to your local maven installation.</p>\n<p>This prevented the use of TestNG and my tests were executed. Don't know why TestNG was used before, I had no TestNG dependency in my <code>pom.xml</code>.</p>\n"}],"owner":{"account_id":11675542,"reputation":428,"user_id":8549223,"accept_rate":88,"display_name":"Jamie"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3217,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1683183169,"creation_date":1584402793,"question_id":60714649,"body_markdown":"Trying to run mvn from the IntelliJ terminal and it is not running the tests? Like it runs but returns the following \r\n\r\nWhen I run mvn test from the project directory&#39;s command line I get the following.....\r\n\r\n    [INFO] Running TestSuite\r\n    [INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.308 s - in TestSuite\r\n    [INFO]\r\n    [INFO] Results:\r\n    [INFO]\r\n    [INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\r\n\r\n\r\nI read the following and it said that you should be sure your Maven is at 3.6.0 which mine is at 3.6.1\r\n\r\nhttps://springframework.guru/why-your-junit-5-tests-are-not-running-under-maven/\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nHere is my pom file. \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;movieweb&lt;/groupId&gt;\r\n        &lt;artifactId&gt;movies&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;movies&lt;/name&gt;\r\n        &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n                &lt;artifactId&gt;activation&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n                &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n                &lt;version&gt;6.9.4&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/i5MNp.png\r\n\r\n\r\nAnyone know why this may be happening? I&#39;m stumped. ","title":"mvn test returns 0 tests run","body":"<p>Trying to run mvn from the IntelliJ terminal and it is not running the tests? Like it runs but returns the following </p>\n\n<p>When I run mvn test from the project directory's command line I get the following.....</p>\n\n<pre><code>[INFO] Running TestSuite\n[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.308 s - in TestSuite\n[INFO]\n[INFO] Results:\n[INFO]\n[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\n</code></pre>\n\n<p>I read the following and it said that you should be sure your Maven is at 3.6.0 which mine is at 3.6.1</p>\n\n<p><a href=\"https://springframework.guru/why-your-junit-5-tests-are-not-running-under-maven/\" rel=\"noreferrer\">https://springframework.guru/why-your-junit-5-tests-are-not-running-under-maven/</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/i5MNp.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/i5MNp.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is my pom file. </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;movieweb&lt;/groupId&gt;\n    &lt;artifactId&gt;movies&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;movies&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n            &lt;artifactId&gt;activation&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;6.9.4&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>Anyone know why this may be happening? I'm stumped. </p>\n"},{"tags":["java","spring-boot","gradle","junit","mockito"],"comments":[{"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"score":0,"creation_date":1683108271,"post_id":76162496,"comment_id":134314748,"body_markdown":"the  void addTestRecord() is only creating objects but not saving them in the repository","body":"the  void addTestRecord() is only creating objects but not saving them in the repository"},{"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"score":0,"creation_date":1683109573,"post_id":76162496,"comment_id":134315024,"body_markdown":"Try to add @Transactional on the class level. It might help.","body":"Try to add @Transactional on the class level. It might help."},{"owner":{"account_id":28144527,"reputation":37,"user_id":21507039,"display_name":"Anup Panchal"},"score":0,"creation_date":1683110425,"post_id":76162496,"comment_id":134315203,"body_markdown":"still not working","body":"still not working"},{"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"score":0,"creation_date":1683116178,"post_id":76162496,"comment_id":134316502,"body_markdown":"could you also share the code of the &quot;Domain&quot; class? Also please share bigger part of stacktrace not only the last two lines.","body":"could you also share the code of the &quot;Domain&quot; class? Also please share bigger part of stacktrace not only the last two lines."},{"owner":{"account_id":28144527,"reputation":37,"user_id":21507039,"display_name":"Anup Panchal"},"score":0,"creation_date":1683118329,"post_id":76162496,"comment_id":134317065,"body_markdown":"ohk i share full error","body":"ohk i share full error"},{"owner":{"account_id":28144527,"reputation":37,"user_id":21507039,"display_name":"Anup Panchal"},"score":0,"creation_date":1683119280,"post_id":76162496,"comment_id":134317344,"body_markdown":"when a first test case is executed successfully then hibernate executed select query for finding domain object with id = 1 but why? @fascynacja","body":"when a first test case is executed successfully then hibernate executed select query for finding domain object with id = 1 but why? @fascynacja"},{"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"score":0,"creation_date":1683142183,"post_id":76162496,"comment_id":134322684,"body_markdown":"Maybe you can remove &quot;GeneratedValue&quot;,  or change the strategy to smth else? You can also try to select and print all domain values from dB in order to see what ids they really have.","body":"Maybe you can remove &quot;GeneratedValue&quot;,  or change the strategy to smth else? You can also try to select and print all domain values from dB in order to see what ids they really have."},{"owner":{"account_id":28144527,"reputation":37,"user_id":21507039,"display_name":"Anup Panchal"},"score":0,"creation_date":1683176864,"post_id":76162496,"comment_id":134326944,"body_markdown":"but i am using H2 database for test cases only @fascynacja","body":"but i am using H2 database for test cases only @fascynacja"}],"answers":[{"tags":[],"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683182551,"creation_date":1683182551,"answer_id":76170264,"question_id":76162496,"body_markdown":"The problem here might be that while you are saving entities in the database their &quot;id&quot; is generated by the database. So the id which you assigned  to the *Domain* object: &quot;1&quot;, does not really exist.\r\nYou can try to \r\n\r\na) after saving *Domain* into database reuse the returned entity ( which will have real id assigned)\r\n\r\nb) remove the *Domain* creation in the *createTopic* method, instead always reuse the one which was created before\r\n\r\nc) in your testcases do not recreate those objects again but reuse the ones created in @BeforeEach\r\n\r\n\t@BeforeEach\r\n\tvoid addTestRecord() {\r\n\t\tdomain = domainRepository.save(createDomain());  //a\r\n\t\tSystem.out.println(&quot;Domain id is: &quot; + domain.getId());\r\n\t\ttopic = topicRepository.save(createTopic());\r\n\t\tSystem.out.println(&quot;Topic id is: &quot; + topic.getId());\r\n\t}\r\n\r\n\r\n\tprivate Topic createTopic() {\r\n\t\tTopic topic = new Topic();\r\n\t\ttopic.setId(1);\r\n\t\ttopic.setName(&quot;Java&quot;);\r\n\t\ttopic.setUid(&quot;35f66eaa-2fc7-4170-8470-feb83ddbf6b0&quot;);\r\n\t\ttopic.setDomain(domain); //b\r\n\t\treturn topic;\r\n\t}\r\n\r\n    @Test\r\n\tvoid findAllTopicByDomainId() {\r\n\t\t//domainRepository.save(domain); // c remove those lines\r\n\t\t//topicRepository.save(topic);   // c remove those lines\r\n\t\tfinal var result =\r\n\t\t\ttopicRepository.findAllTopicByDomainId(&quot;1234z637-c6c1-4dc3-9755-9f6ad974d70b&quot;);\r\n\t\tassertEquals(1, result.size());\r\n\t\tassertEquals(&quot;Java&quot;, result.get(0).getName());\r\n\t}","title":"JUnit5 test case on Repository class","body":"<p>The problem here might be that while you are saving entities in the database their &quot;id&quot; is generated by the database. So the id which you assigned  to the <em>Domain</em> object: &quot;1&quot;, does not really exist.\nYou can try to</p>\n<p>a) after saving <em>Domain</em> into database reuse the returned entity ( which will have real id assigned)</p>\n<p>b) remove the <em>Domain</em> creation in the <em>createTopic</em> method, instead always reuse the one which was created before</p>\n<p>c) in your testcases do not recreate those objects again but reuse the ones created in @BeforeEach</p>\n<pre><code>@BeforeEach\nvoid addTestRecord() {\n    domain = domainRepository.save(createDomain());  //a\n    System.out.println(&quot;Domain id is: &quot; + domain.getId());\n    topic = topicRepository.save(createTopic());\n    System.out.println(&quot;Topic id is: &quot; + topic.getId());\n}\n\n\nprivate Topic createTopic() {\n    Topic topic = new Topic();\n    topic.setId(1);\n    topic.setName(&quot;Java&quot;);\n    topic.setUid(&quot;35f66eaa-2fc7-4170-8470-feb83ddbf6b0&quot;);\n    topic.setDomain(domain); //b\n    return topic;\n}\n\n@Test\nvoid findAllTopicByDomainId() {\n    //domainRepository.save(domain); // c remove those lines\n    //topicRepository.save(topic);   // c remove those lines\n    final var result =\n        topicRepository.findAllTopicByDomainId(&quot;1234z637-c6c1-4dc3-9755-9f6ad974d70b&quot;);\n    assertEquals(1, result.size());\n    assertEquals(&quot;Java&quot;, result.get(0).getName());\n}\n</code></pre>\n"}],"owner":{"account_id":28144527,"reputation":37,"user_id":21507039,"display_name":"Anup Panchal"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683182551,"creation_date":1683107439,"question_id":76162496,"body_markdown":"I am writing JUnit test cases for the repository layer.\r\n\r\nI am working on a spring boot gradle project.\r\n\r\nusing the H2 in-memory database for the test cases.\r\n\r\n**This is my Repository layer test cases**\r\n\r\n```\r\n@DataJpaTest\r\n@ExtendWith(MockitoExtension.class)\r\n@ActiveProfiles(Constant.TEST_PROFILE)\r\n@AutoConfigureTestDatabase(replace = Replace.NONE)\r\nclass TopicRepositoryTest {\r\n  @Autowired TopicRepository topicRepository;\r\n  @Autowired DomainRepository domainRepository;\r\n\r\n  private Topic topic;\r\n  private Domain domain;\r\n\r\n  @BeforeEach\r\n  void addTestRecord() {\r\n    domain = createDomain();\r\n    topic = createTopic();\r\n  }\r\n\r\n  private Topic createTopic() {\r\n    Topic topic = new Topic();\r\n    topic.setId(1);\r\n    topic.setName(&quot;Java&quot;);\r\n    topic.setUid(&quot;35f66eaa-2fc7-4170-8470-feb83ddbf6b0&quot;);\r\n    Domain domain = new Domain();\r\n    domain.setId(1);\r\n    domain.setName(&quot;Java&quot;);\r\n    domain.setUid(&quot;1234z637-c6c1-4dc3-9755-9f6ad974d70b&quot;);\r\n    topic.setDomain(domain);\r\n    return topic;\r\n  }\r\n\r\n  private Domain createDomain() {\r\n    Domain domain = new Domain();\r\n    domain.setId(1);\r\n    domain.setName(&quot;Java&quot;);\r\n    domain.setUid(&quot;1234z637-c6c1-4dc3-9755-9f6ad974d70b&quot;);\r\n    return domain;\r\n  }\r\n\r\n  @Test\r\n  void findAllTopicByDomainId() {\r\n    domainRepository.save(domain);\r\n    topicRepository.save(topic);\r\n    final var result =\r\n        topicRepository.findAllTopicByDomainId(&quot;1234z637-c6c1-4dc3-9755-9f6ad974d70b&quot;);\r\n    assertEquals(1, result.size());\r\n    assertEquals(&quot;Java&quot;, result.get(0).getName());\r\n  }\r\n\r\n  @Test\r\n  void deleteByUid() {\r\n    domainRepository.save(domain);\r\n    topicRepository.save(topic);\r\n    assertTrue(topicRepository.findById(topic.getId()).isPresent());\r\n    topicRepository.deleteByUid(topic.getUid());\r\n    assertFalse(topicRepository.findById(topic.getId()).isPresent());\r\n  }\r\n\r\n  @Test\r\n  void getTopicByUid() {\r\n    domainRepository.save(domain);\r\n    topicRepository.save(topic);\r\n    final var result = topicRepository.getTopicByUid(topic.getUid());\r\n    assertEquals(&quot;Java&quot;, result.getName());\r\n  }\r\n}\r\n```\r\n**AND this is my Domain.class**\r\n\r\n```\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\n@Getter\r\n@Setter\r\n@ToString\r\npublic class Domain {\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  private Integer id;\r\n\r\n  private String name;\r\n\r\n  private String uid;\r\n}\r\n\r\n\r\n```\r\n\r\n\r\nwhen I run all test cases manually they execute successfully\r\n\r\nand if I run TopicRepositoryTest.class I am facing this error.\r\n\r\n\r\n```\r\nHibernate: drop table if exists domain cascade \r\nHibernate: drop table if exists topic cascade \r\nHibernate: create table domain (id integer generated by default as identity, name varchar(255), uid varchar(255), primary key (id))\r\nHibernate: create table topic (id integer generated by default as identity, name varchar(255), uid varchar(255), domain_id integer, primary key (id))\r\nHibernate: alter table if exists topic add constraint FKdg7t6kdm25v4v8ekv96mlcm1l foreign key (domain_id) references domain\r\n2023-05-03T18:04:21.764+05:30  INFO 24738 --- [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n2023-05-03T18:04:21.773+05:30  INFO 24738 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-05-03T18:04:22.125+05:30  WARN 24738 --- [    Test worker] ocalVariableTableParameterNameDiscoverer : Using deprecated &#39;-debug&#39; fallback for parameter name resolution. Compile the affected code with &#39;-parameters&#39; instead or avoid its introspection: com.testiqo.exam.engine.repository.TopicRepository\r\n2023-05-03T18:04:22.476+05:30  WARN 24738 --- [    Test worker] ocalVariableTableParameterNameDiscoverer : Using deprecated &#39;-debug&#39; fallback for parameter name resolution. Compile the affected code with &#39;-parameters&#39; instead or avoid its introspection: com.testiqo.exam.engine.repository.DomainRepository\r\n2023-05-03T18:04:22.538+05:30  INFO 24738 --- [    Test worker] c.t.e.e.repository.TopicRepositoryTest   : Started TopicRepositoryTest in 4.103 seconds (process running for 5.541)\r\nHibernate: select d1_0.id,d1_0.name,d1_0.uid from domain d1_0 where d1_0.id=?\r\nHibernate: insert into domain (id, name, uid) values (default, ?, ?)\r\nHibernate: select t1_0.id,d1_0.id,d1_0.name,d1_0.uid,t1_0.name,t1_0.uid from topic t1_0 left join domain d1_0 on d1_0.id=t1_0.domain_id where t1_0.id=?\r\nHibernate: insert into topic (id, domain_id, name, uid) values (default, ?, ?, ?)\r\nHibernate: select t1_0.id,t1_0.domain_id,t1_0.name,t1_0.uid from topic t1_0 where t1_0.uid=?\r\nHibernate: select d1_0.id,d1_0.name,d1_0.uid from domain d1_0 where d1_0.id=?\r\nHibernate: insert into domain (id, name, uid) values (default, ?, ?)\r\nHibernate: select t1_0.id,d1_0.id,d1_0.name,d1_0.uid,t1_0.name,t1_0.uid from topic t1_0 left join domain d1_0 on d1_0.id=t1_0.domain_id where t1_0.id=?\r\nHibernate: select d1_0.id,d1_0.name,d1_0.uid from domain d1_0 where d1_0.id=?\r\n\r\nUnable to find com.testiqo.exam.engine.entity.Domain with id 1\r\norg.springframework.orm.jpa.JpaObjectRetrievalFailureException: Unable to find com.testiqo.exam.engine.entity.Domain with id 1\r\n\tat app//org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:376)\r\n\tat app//org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:234)\r\n\tat app//org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\r\n\tat app//org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n\tat app//org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\r\n\tat app//org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\r\n\tat app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat app//org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:163)\r\n\tat app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat app//org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat app//org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)\r\n\tat app/jdk.proxy3/jdk.proxy3.$Proxy115.save(Unknown Source)\r\n\tat app//com.testiqo.exam.engine.repository.TopicRepositoryTest.setUp(TopicRepositoryTest.java:107)\r\n\tat java.base@17.0.6/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base@17.0.6/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base@17.0.6/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base@17.0.6/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat app//org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n\tat app//org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat app//org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\tat app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:128)\r\n\tat app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptBeforeEachMethod(TimeoutExtension.java:78)\r\n\tat app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\tat app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\tat app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\tat app//org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:520)\r\n\tat app//org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeBeforeEachMethodAdapter$23(ClassBasedTestDescriptor.java:505)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachMethods$3(TestMethodTestDescriptor.java:174)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachMethods(TestMethodTestDescriptor.java:171)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:134)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base@17.0.6/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base@17.0.6/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat app//org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat app//org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat app//org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat app//org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat app//org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)\r\n\tat java.base@17.0.6/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base@17.0.6/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base@17.0.6/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base@17.0.6/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\r\n\tat app//worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat app//worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\nCaused by: jakarta.persistence.EntityNotFoundException: Unable to find com.testiqo.exam.engine.entity.Domain with id 1\r\n\tat app//org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$JpaEntityNotFoundDelegate.handleEntityNotFound(EntityManagerFactoryBuilderImpl.java:182)\r\n\tat app//org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:228)\r\n\tat app//org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:358)\r\n\tat app//org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:110)\r\n\tat app//org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:72)\r\n\tat app//org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:118)\r\n\tat app//org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1244)\r\n\tat app//org.hibernate.internal.SessionImpl.internalLoad(SessionImpl.java:1097)\r\n\tat app//org.hibernate.type.EntityType.resolveIdentifier(EntityType.java:653)\r\n\tat app//org.hibernate.type.EntityType.resolve(EntityType.java:396)\r\n\tat app//org.hibernate.type.EntityType.replace(EntityType.java:314)\r\n\tat app//org.hibernate.type.AbstractType.replace(AbstractType.java:143)\r\n\tat app//org.hibernate.type.TypeHelper.replace(TypeHelper.java:154)\r\n\tat app//org.hibernate.event.internal.DefaultMergeEventListener.copyValues(DefaultMergeEventListener.java:531)\r\n\tat app//org.hibernate.event.internal.DefaultMergeEventListener.entityIsTransient(DefaultMergeEventListener.java:247)\r\n\tat app//org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:356)\r\n\tat app//org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:178)\r\n\tat app//org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:81)\r\n\tat app//org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\r\n\tat app//org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:830)\r\n\tat app//org.hibernate.internal.SessionImpl.merge(SessionImpl.java:816)\r\n\tat java.base@17.0.6/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base@17.0.6/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base@17.0.6/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base@17.0.6/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat app//org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)\r\n\tat app/jdk.proxy3/jdk.proxy3.$Proxy107.merge(Unknown Source)\r\n\tat app//org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:616)\r\n\tat java.base@17.0.6/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base@17.0.6/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base@17.0.6/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base@17.0.6/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat app//org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288)\r\n\tat app//org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\r\n\tat app//org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\r\n\tat app//org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516)\r\n\tat app//org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)\r\n\tat app//org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628)\r\n\tat app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat app//org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168)\r\n\tat app//org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\r\n\tat app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat app//org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77)\r\n\tat app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat app//org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n\tat app//org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\r\n\tat app//org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat app//org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n\t... 96 more\r\n\r\nHibernate: select d1_0.id,d1_0.name,d1_0.uid from domain d1_0 where d1_0.id=?\r\nHibernate: insert into domain (id, name, uid) values (default, ?, ?)\r\nHibernate: select t1_0.id,d1_0.id,d1_0.name,d1_0.uid,t1_0.name,t1_0.uid from topic t1_0 left join domain d1_0 on d1_0.id=t1_0.domain_id where t1_0.id=?\r\nHibernate: select d1_0.id,d1_0.name,d1_0.uid from domain d1_0 where d1_0.id=?\r\n\r\n```\r\n**I dont know how solve this**","title":"JUnit5 test case on Repository class","body":"<p>I am writing JUnit test cases for the repository layer.</p>\n<p>I am working on a spring boot gradle project.</p>\n<p>using the H2 in-memory database for the test cases.</p>\n<p><strong>This is my Repository layer test cases</strong></p>\n<pre><code>@DataJpaTest\n@ExtendWith(MockitoExtension.class)\n@ActiveProfiles(Constant.TEST_PROFILE)\n@AutoConfigureTestDatabase(replace = Replace.NONE)\nclass TopicRepositoryTest {\n  @Autowired TopicRepository topicRepository;\n  @Autowired DomainRepository domainRepository;\n\n  private Topic topic;\n  private Domain domain;\n\n  @BeforeEach\n  void addTestRecord() {\n    domain = createDomain();\n    topic = createTopic();\n  }\n\n  private Topic createTopic() {\n    Topic topic = new Topic();\n    topic.setId(1);\n    topic.setName(&quot;Java&quot;);\n    topic.setUid(&quot;35f66eaa-2fc7-4170-8470-feb83ddbf6b0&quot;);\n    Domain domain = new Domain();\n    domain.setId(1);\n    domain.setName(&quot;Java&quot;);\n    domain.setUid(&quot;1234z637-c6c1-4dc3-9755-9f6ad974d70b&quot;);\n    topic.setDomain(domain);\n    return topic;\n  }\n\n  private Domain createDomain() {\n    Domain domain = new Domain();\n    domain.setId(1);\n    domain.setName(&quot;Java&quot;);\n    domain.setUid(&quot;1234z637-c6c1-4dc3-9755-9f6ad974d70b&quot;);\n    return domain;\n  }\n\n  @Test\n  void findAllTopicByDomainId() {\n    domainRepository.save(domain);\n    topicRepository.save(topic);\n    final var result =\n        topicRepository.findAllTopicByDomainId(&quot;1234z637-c6c1-4dc3-9755-9f6ad974d70b&quot;);\n    assertEquals(1, result.size());\n    assertEquals(&quot;Java&quot;, result.get(0).getName());\n  }\n\n  @Test\n  void deleteByUid() {\n    domainRepository.save(domain);\n    topicRepository.save(topic);\n    assertTrue(topicRepository.findById(topic.getId()).isPresent());\n    topicRepository.deleteByUid(topic.getUid());\n    assertFalse(topicRepository.findById(topic.getId()).isPresent());\n  }\n\n  @Test\n  void getTopicByUid() {\n    domainRepository.save(domain);\n    topicRepository.save(topic);\n    final var result = topicRepository.getTopicByUid(topic.getUid());\n    assertEquals(&quot;Java&quot;, result.getName());\n  }\n}\n</code></pre>\n<p><strong>AND this is my Domain.class</strong></p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Getter\n@Setter\n@ToString\npublic class Domain {\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private Integer id;\n\n  private String name;\n\n  private String uid;\n}\n\n\n</code></pre>\n<p>when I run all test cases manually they execute successfully</p>\n<p>and if I run TopicRepositoryTest.class I am facing this error.</p>\n<pre><code>Hibernate: drop table if exists domain cascade \nHibernate: drop table if exists topic cascade \nHibernate: create table domain (id integer generated by default as identity, name varchar(255), uid varchar(255), primary key (id))\nHibernate: create table topic (id integer generated by default as identity, name varchar(255), uid varchar(255), domain_id integer, primary key (id))\nHibernate: alter table if exists topic add constraint FKdg7t6kdm25v4v8ekv96mlcm1l foreign key (domain_id) references domain\n2023-05-03T18:04:21.764+05:30  INFO 24738 --- [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2023-05-03T18:04:21.773+05:30  INFO 24738 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2023-05-03T18:04:22.125+05:30  WARN 24738 --- [    Test worker] ocalVariableTableParameterNameDiscoverer : Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: com.testiqo.exam.engine.repository.TopicRepository\n2023-05-03T18:04:22.476+05:30  WARN 24738 --- [    Test worker] ocalVariableTableParameterNameDiscoverer : Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: com.testiqo.exam.engine.repository.DomainRepository\n2023-05-03T18:04:22.538+05:30  INFO 24738 --- [    Test worker] c.t.e.e.repository.TopicRepositoryTest   : Started TopicRepositoryTest in 4.103 seconds (process running for 5.541)\nHibernate: select d1_0.id,d1_0.name,d1_0.uid from domain d1_0 where d1_0.id=?\nHibernate: insert into domain (id, name, uid) values (default, ?, ?)\nHibernate: select t1_0.id,d1_0.id,d1_0.name,d1_0.uid,t1_0.name,t1_0.uid from topic t1_0 left join domain d1_0 on d1_0.id=t1_0.domain_id where t1_0.id=?\nHibernate: insert into topic (id, domain_id, name, uid) values (default, ?, ?, ?)\nHibernate: select t1_0.id,t1_0.domain_id,t1_0.name,t1_0.uid from topic t1_0 where t1_0.uid=?\nHibernate: select d1_0.id,d1_0.name,d1_0.uid from domain d1_0 where d1_0.id=?\nHibernate: insert into domain (id, name, uid) values (default, ?, ?)\nHibernate: select t1_0.id,d1_0.id,d1_0.name,d1_0.uid,t1_0.name,t1_0.uid from topic t1_0 left join domain d1_0 on d1_0.id=t1_0.domain_id where t1_0.id=?\nHibernate: select d1_0.id,d1_0.name,d1_0.uid from domain d1_0 where d1_0.id=?\n\nUnable to find com.testiqo.exam.engine.entity.Domain with id 1\norg.springframework.orm.jpa.JpaObjectRetrievalFailureException: Unable to find com.testiqo.exam.engine.entity.Domain with id 1\n    at app//org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:376)\n    at app//org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:234)\n    at app//org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\n    at app//org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n    at app//org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\n    at app//org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n    at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at app//org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:163)\n    at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at app//org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at app//org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)\n    at app/jdk.proxy3/jdk.proxy3.$Proxy115.save(Unknown Source)\n    at app//com.testiqo.exam.engine.repository.TopicRepositoryTest.setUp(TopicRepositoryTest.java:107)\n    at java.base@17.0.6/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base@17.0.6/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base@17.0.6/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base@17.0.6/java.lang.reflect.Method.invoke(Method.java:568)\n    at app//org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n    at app//org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at app//org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:128)\n    at app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptBeforeEachMethod(TimeoutExtension.java:78)\n    at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at app//org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:520)\n    at app//org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeBeforeEachMethodAdapter$23(ClassBasedTestDescriptor.java:505)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachMethods$3(TestMethodTestDescriptor.java:174)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachMethods(TestMethodTestDescriptor.java:171)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:134)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base@17.0.6/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base@17.0.6/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at app//org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at app//org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at app//org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at app//org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at app//org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)\n    at java.base@17.0.6/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base@17.0.6/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base@17.0.6/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base@17.0.6/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n    at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\n    at app//worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at app//worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\nCaused by: jakarta.persistence.EntityNotFoundException: Unable to find com.testiqo.exam.engine.entity.Domain with id 1\n    at app//org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$JpaEntityNotFoundDelegate.handleEntityNotFound(EntityManagerFactoryBuilderImpl.java:182)\n    at app//org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:228)\n    at app//org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:358)\n    at app//org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:110)\n    at app//org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:72)\n    at app//org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:118)\n    at app//org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1244)\n    at app//org.hibernate.internal.SessionImpl.internalLoad(SessionImpl.java:1097)\n    at app//org.hibernate.type.EntityType.resolveIdentifier(EntityType.java:653)\n    at app//org.hibernate.type.EntityType.resolve(EntityType.java:396)\n    at app//org.hibernate.type.EntityType.replace(EntityType.java:314)\n    at app//org.hibernate.type.AbstractType.replace(AbstractType.java:143)\n    at app//org.hibernate.type.TypeHelper.replace(TypeHelper.java:154)\n    at app//org.hibernate.event.internal.DefaultMergeEventListener.copyValues(DefaultMergeEventListener.java:531)\n    at app//org.hibernate.event.internal.DefaultMergeEventListener.entityIsTransient(DefaultMergeEventListener.java:247)\n    at app//org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:356)\n    at app//org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:178)\n    at app//org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:81)\n    at app//org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\n    at app//org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:830)\n    at app//org.hibernate.internal.SessionImpl.merge(SessionImpl.java:816)\n    at java.base@17.0.6/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base@17.0.6/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base@17.0.6/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base@17.0.6/java.lang.reflect.Method.invoke(Method.java:568)\n    at app//org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)\n    at app/jdk.proxy3/jdk.proxy3.$Proxy107.merge(Unknown Source)\n    at app//org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:616)\n    at java.base@17.0.6/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base@17.0.6/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base@17.0.6/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base@17.0.6/java.lang.reflect.Method.invoke(Method.java:568)\n    at app//org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288)\n    at app//org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\n    at app//org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\n    at app//org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516)\n    at app//org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)\n    at app//org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628)\n    at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at app//org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168)\n    at app//org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\n    at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at app//org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77)\n    at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at app//org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n    at app//org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\n    at app//org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at app//org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n    ... 96 more\n\nHibernate: select d1_0.id,d1_0.name,d1_0.uid from domain d1_0 where d1_0.id=?\nHibernate: insert into domain (id, name, uid) values (default, ?, ?)\nHibernate: select t1_0.id,d1_0.id,d1_0.name,d1_0.uid,t1_0.name,t1_0.uid from topic t1_0 left join domain d1_0 on d1_0.id=t1_0.domain_id where t1_0.id=?\nHibernate: select d1_0.id,d1_0.name,d1_0.uid from domain d1_0 where d1_0.id=?\n\n</code></pre>\n<p><strong>I dont know how solve this</strong></p>\n"},{"tags":["java","soap"],"owner":{"account_id":12234871,"reputation":86,"user_id":8929627,"display_name":"Chandrashekhar Dautpure"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683182496,"creation_date":1683182496,"question_id":76170261,"body_markdown":"I am facing a problem while parsing the soap response i am getting back from the server.\r\n\r\nBelow is a sample screenshot of the response from the server :\r\n\r\n[![enter image description here](https://i.stack.imgur.com/3N10Q.png)](https://i.stack.imgur.com/3N10Q.png)\r\n\r\nI am sending a soap request to the server and getting a soap response back. I need to parse each value in the soap response and store it in the database.  Below is the code i am using for sending the soap request\r\n\r\n[![enter image description here](https://i.stack.imgur.com/hkx4W.png)](https://i.stack.imgur.com/hkx4W.png)\r\n\r\nSo basically i have 3 issue\r\n\r\n1. when querytext has value like like brackets or &quot;;&quot; --\\&gt; i get error like &quot;\\[Fatal Error\\] :1:2543: The content of elements must consist of well-formed character data or markup.&quot;\r\n\r\n2. Secondly the querytext html escaped values instead of normal value . I need \\&gt; or \\&lt; and it has \\&gt;\r\n\r\n3. The formating of lines is lost. every text is next to each other . it doesnt look like sql any more\r\n\r\ncan you let me know where i am making mistake","title":"Java Text formating","body":"<p>I am facing a problem while parsing the soap response i am getting back from the server.</p>\n<p>Below is a sample screenshot of the response from the server :</p>\n<p><a href=\"https://i.stack.imgur.com/3N10Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3N10Q.png\" alt=\"enter image description here\" /></a></p>\n<p>I am sending a soap request to the server and getting a soap response back. I need to parse each value in the soap response and store it in the database.  Below is the code i am using for sending the soap request</p>\n<p><a href=\"https://i.stack.imgur.com/hkx4W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hkx4W.png\" alt=\"enter image description here\" /></a></p>\n<p>So basically i have 3 issue</p>\n<ol>\n<li><p>when querytext has value like like brackets or &quot;;&quot; --&gt; i get error like &quot;[Fatal Error] :1:2543: The content of elements must consist of well-formed character data or markup.&quot;</p>\n</li>\n<li><p>Secondly the querytext html escaped values instead of normal value . I need &gt; or &lt; and it has &gt;</p>\n</li>\n<li><p>The formating of lines is lost. every text is next to each other . it doesnt look like sql any more</p>\n</li>\n</ol>\n<p>can you let me know where i am making mistake</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1683182357,"post_id":76170192,"comment_id":134327779,"body_markdown":"Just a guess - I suppose `Levels\\default` is the path to the file? Perhaps there is a `\\n` or other whitespace character appended at the end when you press enter?","body":"Just a guess - I suppose <code>Levels\\default</code> is the path to the file? Perhaps there is a <code>\\n</code> or other whitespace character appended at the end when you press enter?"},{"owner":{"account_id":25154690,"reputation":9,"user_id":21812779,"display_name":"Dodly Game"},"score":0,"creation_date":1683182738,"post_id":76170192,"comment_id":134327852,"body_markdown":"yes, i just added &quot;e.getKeyCode!=KeyEvent.VK_ENTER&quot; to the condition and it worked, thanks","body":"yes, i just added &quot;e.getKeyCode!=KeyEvent.VK_ENTER&quot; to the condition and it worked, thanks"}],"owner":{"account_id":25154690,"reputation":9,"user_id":21812779,"display_name":"Dodly Game"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683182023,"creation_date":1683182023,"question_id":76170192,"body_markdown":"My file is not copied, when I press Enter, it gives an error: Illegal char &lt;\r\n&gt; at index 14: Levels\\default\r\n\r\n\r\n\r\n```\r\nprivate static void copyFile(File source, File dest) {\r\n        try {\r\n            Files.copy(source.toPath(), dest.toPath());\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\n\r\n```\r\ncase KeyEvent.VK_ENTER -&gt; {\r\n    if (new File(panel.level[panel.levelPage].levelPath).exists()) {\r\n       copyFile(new File(panel.level[panel.levelPage].levelPath), new File(panel.path + panel.levelRename));\r\n       try {\r\n          Files.delete(Paths.get(panel.level[panel.levelPage].levelPath));\r\n       } catch (IOException ex) {\r\n          ex.printStackTrace();\r\n       }\r\n   }\r\n}\r\n```\r\n\r\n\r\nI don&#39;t know why, but the same code in MousePressed func works","title":"Why is the file not being copied? (Illegal char &lt; &gt; at index 14: Levels\\default)","body":"<p>My file is not copied, when I press Enter, it gives an error: Illegal char &lt;</p>\n<blockquote>\n<p>at index 14: Levels\\default</p>\n</blockquote>\n<pre><code>private static void copyFile(File source, File dest) {\n        try {\n            Files.copy(source.toPath(), dest.toPath());\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<pre><code>case KeyEvent.VK_ENTER -&gt; {\n    if (new File(panel.level[panel.levelPage].levelPath).exists()) {\n       copyFile(new File(panel.level[panel.levelPage].levelPath), new File(panel.path + panel.levelRename));\n       try {\n          Files.delete(Paths.get(panel.level[panel.levelPage].levelPath));\n       } catch (IOException ex) {\n          ex.printStackTrace();\n       }\n   }\n}\n</code></pre>\n<p>I don't know why, but the same code in MousePressed func works</p>\n"},{"tags":["java","binaryfiles"],"comments":[{"owner":{"account_id":3477991,"reputation":3445,"user_id":2910751,"accept_rate":90,"display_name":"Martin Frank"},"score":0,"creation_date":1683182501,"post_id":76170166,"comment_id":134327800,"body_markdown":"before reading the values of your bytes `itemCount = raf.readInt();`, you have to [reverse the array](https://stackoverflow.com/questions/2137755/how-do-i-reverse-an-int-array-in-java).","body":"before reading the values of your bytes <code>itemCount = raf.readInt();</code>, you have to <a href=\"https://stackoverflow.com/questions/2137755/how-do-i-reverse-an-int-array-in-java\">reverse the array</a>."}],"owner":{"account_id":2692923,"reputation":463,"user_id":2325753,"accept_rate":92,"display_name":"adam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1683184393,"answer_count":0,"score":0,"last_activity_date":1683181713,"creation_date":1683181713,"question_id":76170166,"body_markdown":"I am trying to make a program that reads the PS3 PARAM.SFO file in java. I am having trouble reading the shorts and the ints. I think they are backwards in the PARAM.SFO file. Here&#39;s the code I have.\r\n```java\r\nif(isOpen())\r\n\tclose();\r\n\t\t\r\nfile = new File(path);\r\n\t\t\r\nString mode = &quot;rw&quot;;\r\nif(!file.canWrite())\r\n\tmode = &quot;r&quot;;\r\n\t\t\r\nraf = new RandomAccessFile(path, mode);\r\n\t\t\r\nbyte[] mgc = new byte[4];\r\nraf.read(mgc);\r\nmagic = new String(mgc, StandardCharsets.UTF_8);\r\n\t\t\r\nif(magic.compareTo(&quot;\\0PSF&quot;) != 0)\r\n\tthrow new IOException(&quot;Not a valid param.sfo file&quot;);\r\n\t\t\r\nmajorVersion = raf.readByte();\r\nminorVersion = raf.readByte();\r\nreserved1 = raf.readShort();\r\nkeysOffset = raf.readInt();\r\nvaluesOffset = raf.readInt();\r\n\r\nitemCount = raf.readInt();\r\n\t\t\r\nitems = new ArrayList&lt;ParamSfoEntry&gt;();\r\n\t\t\r\nfor(int i = 0; i &lt; itemCount; i++)\r\n     items.add(new ParamSfoEntry(raf, this, i));\r\n```\r\n\r\nHere is a screenshot of PARAM.SFO\r\n![](https://i.postimg.cc/nh4jZ6vD/Screenshot-2023-05-04-010521.png)\r\n\r\nWhen I try to read `keysOffset` in it comes out to be `-469762048` and its supposed to be `228`. So the program throws a negative offset error.","title":"Problem reading offsets from file in java","body":"<p>I am trying to make a program that reads the PS3 PARAM.SFO file in java. I am having trouble reading the shorts and the ints. I think they are backwards in the PARAM.SFO file. Here's the code I have.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(isOpen())\n    close();\n        \nfile = new File(path);\n        \nString mode = &quot;rw&quot;;\nif(!file.canWrite())\n    mode = &quot;r&quot;;\n        \nraf = new RandomAccessFile(path, mode);\n        \nbyte[] mgc = new byte[4];\nraf.read(mgc);\nmagic = new String(mgc, StandardCharsets.UTF_8);\n        \nif(magic.compareTo(&quot;\\0PSF&quot;) != 0)\n    throw new IOException(&quot;Not a valid param.sfo file&quot;);\n        \nmajorVersion = raf.readByte();\nminorVersion = raf.readByte();\nreserved1 = raf.readShort();\nkeysOffset = raf.readInt();\nvaluesOffset = raf.readInt();\n\nitemCount = raf.readInt();\n        \nitems = new ArrayList&lt;ParamSfoEntry&gt;();\n        \nfor(int i = 0; i &lt; itemCount; i++)\n     items.add(new ParamSfoEntry(raf, this, i));\n</code></pre>\n<p>Here is a screenshot of PARAM.SFO\n<img src=\"https://i.postimg.cc/nh4jZ6vD/Screenshot-2023-05-04-010521.png\" alt=\"\" /></p>\n<p>When I try to read <code>keysOffset</code> in it comes out to be <code>-469762048</code> and its supposed to be <code>228</code>. So the program throws a negative offset error.</p>\n"},{"tags":["java","class","methods","time","localdate"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1683190733,"post_id":76170138,"comment_id":134329517,"body_markdown":"`return dateR.format(DateTimeFormatter.ofPattern(&quot;dd-MM-uuuu&quot;, Locale.ROOT));`. Or for many purposes even better `dateR.format(DateTimeFormatter.ofLocalizedDate(FormatStyle.SHORT))` to get the localized format for the default locale. Under all circumstances extract the formatter into a constant.","body":"<code>return dateR.format(DateTimeFormatter.ofPattern(&quot;dd-MM-uuuu&quot;, Locale.ROOT));</code>. Or for many purposes even better <code>dateR.format(DateTimeFormatter.ofLocalizedDate(FormatStyle.S&zwnj;&#8203;HORT))</code> to get the localized format for the default locale. Under all circumstances extract the formatter into a constant."}],"owner":{"account_id":28501595,"reputation":1,"user_id":21812768,"display_name":"dhiya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1683182977,"answer_count":0,"score":0,"last_activity_date":1683181542,"creation_date":1683181443,"question_id":76170138,"body_markdown":"i used the class localDAte in a method like this :\r\n\r\n    public String dateR(int ageR) {\r\n\t\t    LocalDate dateR= dateN.plusYears(ageR);\r\n\t        return dateR.toString();\r\n\t}\r\n\r\nand it gives me the date in &quot;yyyy-mm-dd&quot; format however i want it in &quot;dd-mm-yyyy&quot; format\r\n\r\n i want the result date in &quot;dd-mm-yyyy&quot; format","title":"how to change date format in java from &quot;yyyy-mm-dd&quot; to &quot;dd-mm-yyyy&quot;","body":"<p>i used the class localDAte in a method like this :</p>\n<pre><code>public String dateR(int ageR) {\n        LocalDate dateR= dateN.plusYears(ageR);\n        return dateR.toString();\n}\n</code></pre>\n<p>and it gives me the date in &quot;yyyy-mm-dd&quot; format however i want it in &quot;dd-mm-yyyy&quot; format</p>\n<p>i want the result date in &quot;dd-mm-yyyy&quot; format</p>\n"},{"tags":["java","selenium-webdriver","properties"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1683178533,"post_id":76169837,"comment_id":134327145,"body_markdown":"It isn’t clear what the question is. I guess the key passed to the method isn’t in the file, but we can’t see either the key or the contents of the file.","body":"It isn’t clear what the question is. I guess the key passed to the method isn’t in the file, but we can’t see either the key or the contents of the file."}],"owner":{"account_id":17623676,"reputation":1,"user_id":12789082,"display_name":"Bhagat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1683178562,"answer_count":0,"score":0,"last_activity_date":1683179031,"creation_date":1683178267,"question_id":76169837,"body_markdown":"i have used Property Reader Method but getting the error - Cannot invoke &quot;Object.toString()&quot; because the return value of `java.util.Properties.get(Object)` is null\r\njava.lang.NullPointerException: Cannot invoke &quot;Object.toString()&quot; because the return value of &quot;java.util.Properties.get(Object)&quot; is null\r\n\tat org.automation.library.PropertyReader.elementLocatorReader(PropertyReader.java:25)\r\n\tat org.webservices.testcase.TC_001_Homepage.startBrowser(TC_001_Homepage.java:26)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n\tat org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\r\n\tat org.testng.internal.invokers.TestInvoker.invokeMethod(TestInvoker.java:677)\r\n\tat org.testng.internal.invokers.TestInvoker.invokeTestMethod(TestInvoker.java:221)\r\n\tat org.testng.internal.invokers.MethodRunner.runInSequence(MethodRunner.java:50)\r\n\tat org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:969)\r\n\tat org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:194)\r\n\tat org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:148)\r\n\tat org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511) \r\n\r\n    public class PropertyReader {\r\n    \r\n    \tpublic static String applicationConfigReader(String key) throws IOException {\r\n    \t\tFile f = new File(&quot;./Configurations/ApplicationCOnfig.properties&quot;);\r\n    \t\tFileReader fr = new FileReader(f);\r\n    \t\tProperties prop = new Properties();\r\n    \t\tprop.load(fr);\r\n    \t\treturn prop.get(key).toString();\r\n    \t}\r\n    \t\r\n    \tpublic static String elementLocatorReader(String key) throws IOException {\r\n    \t\tFile f = new File(&quot;./ElementLocator/Locator.properties&quot;);\r\n    \t\tFileReader fr = new FileReader(f);\r\n    \t\tProperties prop = new Properties();\r\n    \t\tprop.load(fr);\r\n    \t\treturn prop.get(key).toString();\r\n    \t}\r\n    }\r\n\r\n&gt; java.lang.NullPointerException: Cannot invoke &quot;Object.toString()&quot;\r\n&gt; because the return value of &quot;java.util.Properties.get(Object)&quot; is null\r\n\r\n","title":"Property Reader","body":"<p>i have used Property Reader Method but getting the error - Cannot invoke &quot;Object.toString()&quot; because the return value of <code>java.util.Properties.get(Object)</code> is null\njava.lang.NullPointerException: Cannot invoke &quot;Object.toString()&quot; because the return value of &quot;java.util.Properties.get(Object)&quot; is null\nat org.automation.library.PropertyReader.elementLocatorReader(PropertyReader.java:25)\nat org.webservices.testcase.TC_001_Homepage.startBrowser(TC_001_Homepage.java:26)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:564)\nat org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\nat org.testng.internal.invokers.TestInvoker.invokeMethod(TestInvoker.java:677)\nat org.testng.internal.invokers.TestInvoker.invokeTestMethod(TestInvoker.java:221)\nat org.testng.internal.invokers.MethodRunner.runInSequence(MethodRunner.java:50)\nat org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:969)\nat org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:194)\nat org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:148)\nat org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)</p>\n<pre><code>public class PropertyReader {\n\n    public static String applicationConfigReader(String key) throws IOException {\n        File f = new File(&quot;./Configurations/ApplicationCOnfig.properties&quot;);\n        FileReader fr = new FileReader(f);\n        Properties prop = new Properties();\n        prop.load(fr);\n        return prop.get(key).toString();\n    }\n    \n    public static String elementLocatorReader(String key) throws IOException {\n        File f = new File(&quot;./ElementLocator/Locator.properties&quot;);\n        FileReader fr = new FileReader(f);\n        Properties prop = new Properties();\n        prop.load(fr);\n        return prop.get(key).toString();\n    }\n}\n</code></pre>\n<blockquote>\n<p>java.lang.NullPointerException: Cannot invoke &quot;Object.toString()&quot;\nbecause the return value of &quot;java.util.Properties.get(Object)&quot; is null</p>\n</blockquote>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"owner":{"account_id":926701,"reputation":1165,"user_id":957359,"accept_rate":47,"display_name":"jcrshankar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1683178486,"answer_count":0,"score":0,"last_activity_date":1683178097,"creation_date":1683177630,"question_id":76169794,"body_markdown":"Hi have the below two date Column, when the data gets inserted very first time i need to have in Oracle\r\n\r\n    CREA_TS                      UPDT_TS  \r\n    2023-05-03 10:16:46.01653     null\r\n\r\nbut when updating(modify occurs), the column has to get updated automatically using `@UpdateTimestamp` annotation in Spring JPA\r\n\r\n    CREA_TS                      UPDT_TS  \r\n    2023-05-03 10:16:46.01653     2023-06-03 10:16:46.01653\r\n\r\nthe entity:\r\n   \r\n\r\n        @Column(name = &quot;CREA_TS&quot;)\r\n        @CreationTimestamp\r\n        private LocalDateTime createdGmts;\r\n    \r\n        @Column(name = &quot;UPDT_TS&quot;)\r\n        @UpdateTimestamp\r\n        private Timestamp updatedGmts;\r\n\r\n\r\ndoes it worked with (insertable/updateable) or do we have any other best options\r\n\r\n    @Column(name = &quot;CREA_TS&quot;, updatable=false)\r\n    @CreationTimestamp\r\n    private Timestamp createdDate;\r\n    \r\n    @Column(name = &quot;UPDT_TS&quot;, insertable=false)\r\n    @UpdateTimestamp\r\n    private Timestamp modifiedDate;\r\n\r\n","title":"how to skip UpdateTimestamp at the time of initial insertions","body":"<p>Hi have the below two date Column, when the data gets inserted very first time i need to have in Oracle</p>\n<pre><code>CREA_TS                      UPDT_TS  \n2023-05-03 10:16:46.01653     null\n</code></pre>\n<p>but when updating(modify occurs), the column has to get updated automatically using <code>@UpdateTimestamp</code> annotation in Spring JPA</p>\n<pre><code>CREA_TS                      UPDT_TS  \n2023-05-03 10:16:46.01653     2023-06-03 10:16:46.01653\n</code></pre>\n<p>the entity:</p>\n<pre><code>    @Column(name = &quot;CREA_TS&quot;)\n    @CreationTimestamp\n    private LocalDateTime createdGmts;\n\n    @Column(name = &quot;UPDT_TS&quot;)\n    @UpdateTimestamp\n    private Timestamp updatedGmts;\n</code></pre>\n<p>does it worked with (insertable/updateable) or do we have any other best options</p>\n<pre><code>@Column(name = &quot;CREA_TS&quot;, updatable=false)\n@CreationTimestamp\nprivate Timestamp createdDate;\n\n@Column(name = &quot;UPDT_TS&quot;, insertable=false)\n@UpdateTimestamp\nprivate Timestamp modifiedDate;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":36759,"reputation":38034,"user_id":104950,"accept_rate":93,"display_name":"Amir Afghani"},"score":1,"creation_date":1305858823,"post_id":6066860,"comment_id":7024847,"body_markdown":"This code will not compile.  You should fix that first.","body":"This code will not compile.  You should fix that first."},{"owner":{"account_id":140233,"reputation":2538,"user_id":346387,"display_name":"Andrew"},"score":4,"creation_date":1305858941,"post_id":6066860,"comment_id":7024863,"body_markdown":"And why do you need to invoke m1 without super?   This isn&#39;t some bar bet is it?","body":"And why do you need to invoke m1 without super?   This isn&#39;t some bar bet is it?"},{"owner":{"account_id":394284,"reputation":31,"user_id":756643,"display_name":"srikanth104"},"score":0,"creation_date":1305862694,"post_id":6066860,"comment_id":7025268,"body_markdown":"@Andrew Just it&#39;s my requirement not more than that","body":"@Andrew Just it&#39;s my requirement not more than that"},{"owner":{"account_id":1368691,"reputation":1565,"user_id":1304519,"accept_rate":100,"display_name":"Kajal Sinha"},"score":0,"creation_date":1421712548,"post_id":6066860,"comment_id":44456172,"body_markdown":"C# does what Srikanth want and C++ too! Java does not.","body":"C# does what Srikanth want and C++ too! Java does not."}],"answers":[{"tags":[],"owner":{"account_id":343645,"reputation":48152,"user_id":675502,"display_name":"dlev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1305858675,"creation_date":1305858675,"answer_id":6066884,"question_id":6066860,"body_markdown":"You would need to construct an object of type A. You have overridden method m1 in the derived class, and so any calls to m1 on an object that was created as a B will have the B version of m1 invoked. Without using `super`, there&#39;s no way to instruct the compiler to make the non-virtual call to the base-class version.","title":"How to call base class method with derived class Object when that method overridden in derived class?","body":"<p>You would need to construct an object of type A. You have overridden method m1 in the derived class, and so any calls to m1 on an object that was created as a B will have the B version of m1 invoked. Without using <code>super</code>, there's no way to instruct the compiler to make the non-virtual call to the base-class version.</p>\n"},{"tags":[],"owner":{"account_id":224806,"reputation":5444,"user_id":484882,"accept_rate":74,"display_name":"kuriouscoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1305864176,"creation_date":1305864176,"answer_id":6067346,"question_id":6066860,"body_markdown":"In short you cannot do it -- virtual dispatching would delegate the call to the referred.","title":"How to call base class method with derived class Object when that method overridden in derived class?","body":"<p>In short you cannot do it -- virtual dispatching would delegate the call to the referred.</p>\n"},{"tags":[],"owner":{"account_id":363148,"reputation":22154,"user_id":706724,"accept_rate":100,"display_name":"pickypg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1305865946,"creation_date":1305865946,"answer_id":6067489,"question_id":6066860,"body_markdown":"Are you just looking for `super.m1();`? This will invoke the immediate parent&#39;s method.\r\n\r\nHowever, you cannot instantiate an object of type `B` from outside of `B` and use this.\r\n\r\nYou cannot do:\r\n\r\n    B value = new B();\r\n    value.super.m1(); // call A&#39;s implementation\r\n\r\nHowever, you could do this within B:\r\n\r\n    @Override\r\n    public void m1()\r\n    {\r\n        System.out.println(&quot;hi from B&quot;);\r\n        super.m1();\r\n    }\r\n\r\n    public void useAM1()\r\n    {\r\n        super.m1();\r\n    }\r\n\r\nOf course, when you start to provide workarounds to get at functionality from `A`, then it sounds like you are abusing inheritance, or _at least_ should have used an instance of `A` to begin with.\r\n\r\nInterestingly, in C++ you could do this: `value-&gt;A::m1();`. _Fortunately_, there is no equivalent in Java.","title":"How to call base class method with derived class Object when that method overridden in derived class?","body":"<p>Are you just looking for <code>super.m1();</code>? This will invoke the immediate parent's method.</p>\n\n<p>However, you cannot instantiate an object of type <code>B</code> from outside of <code>B</code> and use this.</p>\n\n<p>You cannot do:</p>\n\n<pre><code>B value = new B();\nvalue.super.m1(); // call A's implementation\n</code></pre>\n\n<p>However, you could do this within B:</p>\n\n<pre><code>@Override\npublic void m1()\n{\n    System.out.println(\"hi from B\");\n    super.m1();\n}\n\npublic void useAM1()\n{\n    super.m1();\n}\n</code></pre>\n\n<p>Of course, when you start to provide workarounds to get at functionality from <code>A</code>, then it sounds like you are abusing inheritance, or <em>at least</em> should have used an instance of <code>A</code> to begin with.</p>\n\n<p>Interestingly, in C++ you could do this: <code>value-&gt;A::m1();</code>. <em>Fortunately</em>, there is no equivalent in Java.</p>\n"},{"tags":[],"owner":{"account_id":6170229,"reputation":85,"user_id":4808707,"display_name":"Grant G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683178004,"creation_date":1683177697,"answer_id":76169799,"question_id":6066860,"body_markdown":"I don&#39;t know if this is a new feature to Java introduced some time in the past 12 years since this question was asked, but it&#39;s possible now.\r\n\r\nYou can type cast your B object as the A class, then invoke the overridden method to get the A class&#39;s version.\r\n\r\n```java\r\nb1.m1();       // hi-derived\r\n((A)b1).m1();  // hi-base class\r\n```\r\n\r\nYou could also instantiate the B object as an A object, in which case this is reversed.\r\n\r\n```java\r\nA b1 = new B();\r\nb1.m1();       // hi-base class\r\n((B)b1).m1();  // hi-derived\r\n```\r\nYou can&#39;t go the reverse direction, though, casting the base class as the derived class. It won&#39;t compile.\r\n","title":"How to call base class method with derived class Object when that method overridden in derived class?","body":"<p>I don't know if this is a new feature to Java introduced some time in the past 12 years since this question was asked, but it's possible now.</p>\n<p>You can type cast your B object as the A class, then invoke the overridden method to get the A class's version.</p>\n<pre class=\"lang-java prettyprint-override\"><code>b1.m1();       // hi-derived\n((A)b1).m1();  // hi-base class\n</code></pre>\n<p>You could also instantiate the B object as an A object, in which case this is reversed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>A b1 = new B();\nb1.m1();       // hi-base class\n((B)b1).m1();  // hi-derived\n</code></pre>\n<p>You can't go the reverse direction, though, casting the base class as the derived class. It won't compile.</p>\n"}],"owner":{"account_id":394284,"reputation":31,"user_id":756643,"display_name":"srikanth104"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15410,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1683178004,"creation_date":1305858344,"question_id":6066860,"body_markdown":"    class A \r\n    {\r\n      public void m1()\r\n      {\r\n        System.out.println(&quot;hi-base class&quot;);\r\n      }\r\n    }\r\n    \r\n    class B extends A\r\n    {\r\n      public void  m1()\r\n      {\r\n        System.out.println(&quot;hi-derived &quot;);\r\n      }\r\n      \r\n      public static void main(String args[])\r\n      {\r\n        B b1=new B();\r\n      }\r\n    }\r\n\r\nIn this i want to invoke base class m1 method by using Derived class object without using the super \r\n","title":"How to call base class method with derived class Object when that method overridden in derived class?","body":"<pre><code>class A \n{\n  public void m1()\n  {\n    System.out.println(\"hi-base class\");\n  }\n}\n\nclass B extends A\n{\n  public void  m1()\n  {\n    System.out.println(\"hi-derived \");\n  }\n\n  public static void main(String args[])\n  {\n    B b1=new B();\n  }\n}\n</code></pre>\n\n<p>In this i want to invoke base class m1 method by using Derived class object without using the super </p>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":180181,"reputation":76380,"user_id":413337,"accept_rate":64,"display_name":"Codo"},"score":1,"creation_date":1644488634,"post_id":71063120,"comment_id":125622395,"body_markdown":"The PDF file might be invalid. Have you tried to validate it, e.g. on https://www.pdf-online.com/osa/validate.aspx ?","body":"The PDF file might be invalid. Have you tried to validate it, e.g. on <a href=\"https://www.pdf-online.com/osa/validate.aspx\" rel=\"nofollow noreferrer\">pdf-online.com/osa/validate.aspx</a> ?"},{"owner":{"account_id":13832761,"reputation":97,"user_id":12073556,"display_name":"blinkbink"},"score":0,"creation_date":1644490417,"post_id":71063120,"comment_id":125623087,"body_markdown":"after check Compliance\tpdf1.6\nResult\tDocument validated successfully. the file create with fpdf but containing image","body":"after check Compliance\tpdf1.6 Result\tDocument validated successfully. the file create with fpdf but containing image"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1644492679,"post_id":71063120,"comment_id":125623908,"body_markdown":"There is only PDDocument.load() in 2.0.25 . The file is likely broken, please share it.","body":"There is only PDDocument.load() in 2.0.25 . The file is likely broken, please share it."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1644493233,"post_id":71063120,"comment_id":125624109,"body_markdown":"Considering the stack trace, maybe a dictionary key without a value? Or a follow-up error of a non-name key in a dictionary? Anyways, without the PDF in question this is pure guesswork.","body":"Considering the stack trace, maybe a dictionary key without a value? Or a follow-up error of a non-name key in a dictionary? Anyways, without the PDF in question this is pure guesswork."}],"answers":[{"tags":[],"owner":{"account_id":1786811,"reputation":65,"user_id":1628121,"display_name":"user1628121"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683177491,"creation_date":1683177491,"answer_id":76169789,"question_id":71063120,"body_markdown":"CMS Signature should be Hex value so i have commented. Pls find below. Even i have got same problem solved by commenting below line \r\n\r\n    byte[] cmsSignature = Base64.decodeBase64(signedHash);\r\n    RandomAccessFile raf = new RandomAccessFile(inputFile, &quot;rw&quot;);\r\n    raf.seek(offset);\r\n    raf.write(Hex.getBytes(cmsSignature));\r\n    // raf.write(cmsSignature);\r\n    raf.close();","title":"PDFBox 2.0.25 java.io.IOException: Unknown dir object c=&#39;&gt;&#39; cInt=62 peek=&#39;&gt;&#39; peekInt=62 at offset 26096 (start offset: 26096)","body":"<p>CMS Signature should be Hex value so i have commented. Pls find below. Even i have got same problem solved by commenting below line</p>\n<pre><code>byte[] cmsSignature = Base64.decodeBase64(signedHash);\nRandomAccessFile raf = new RandomAccessFile(inputFile, &quot;rw&quot;);\nraf.seek(offset);\nraf.write(Hex.getBytes(cmsSignature));\n// raf.write(cmsSignature);\nraf.close();\n</code></pre>\n"}],"owner":{"account_id":13832761,"reputation":97,"user_id":12073556,"display_name":"blinkbink"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":885,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683177491,"creation_date":1644487493,"question_id":71063120,"body_markdown":"i&#39;am using PDFBox version 2.0.25 got error\r\n\r\n&gt; java.io.IOException: Unknown dir object c=&#39;&gt;&#39; cInt=62 peek=&#39;&gt;&#39; peekInt=62 at offset 26096 (start offset: 26096)\r\n\r\nline the code of error is\r\n\r\n    PDDocument doc = PDDocument.load(inputFile);\r\n\r\ntryng on open document, some reference try with \r\n\r\n    PDDocument doc = PDDocument.loadNonSeq(inputFile);\r\n\r\nbut PDFBox version 2.0.25 there is no such function &#39;loadNonSeq&#39;\r\n\r\nfull log error\r\n\r\n    java.io.IOException: Unknown dir object c=&#39;&gt;&#39; cInt=62 peek=&#39;&gt;&#39; peekInt=62 at offset 26096 (start offset: 26096)\r\n            at org.apache.pdfbox.pdfparser.BaseParser.parseDirObject(BaseParser.java:913)\r\n            at org.apache.pdfbox.pdfparser.BaseParser.parseCOSDictionaryValue(BaseParser.java:154)\r\n            at org.apache.pdfbox.pdfparser.BaseParser.parseCOSDictionaryNameValuePair(BaseParser.java:288)\r\n            at org.apache.pdfbox.pdfparser.BaseParser.parseCOSDictionary(BaseParser.java:218)\r\n            at org.apache.pdfbox.pdfparser.BaseParser.parseDirObject(BaseParser.java:857)\r\n            at org.apache.pdfbox.pdfparser.COSParser.parseFileObject(COSParser.java:907)\r\n            at org.apache.pdfbox.pdfparser.COSParser.parseObjectDynamically(COSParser.java:876)\r\n            at org.apache.pdfbox.pdfparser.COSParser.parseObjectDynamically(COSParser.java:796)\r\n            at org.apache.pdfbox.pdfparser.COSParser.parseDictObjects(COSParser.java:756)\r\n            at org.apache.pdfbox.pdfparser.PDFParser.initialParse(PDFParser.java:187)\r\n            at org.apache.pdfbox.pdfparser.PDFParser.parse(PDFParser.java:226)\r\n            at org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:1105)\r\n            at org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:1088)\r\n            at org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:1047)\r\n            at org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:995)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\r\nany suggestion ? Thank you","title":"PDFBox 2.0.25 java.io.IOException: Unknown dir object c=&#39;&gt;&#39; cInt=62 peek=&#39;&gt;&#39; peekInt=62 at offset 26096 (start offset: 26096)","body":"<p>i'am using PDFBox version 2.0.25 got error</p>\n<blockquote>\n<p>java.io.IOException: Unknown dir object c='&gt;' cInt=62 peek='&gt;' peekInt=62 at offset 26096 (start offset: 26096)</p>\n</blockquote>\n<p>line the code of error is</p>\n<pre><code>PDDocument doc = PDDocument.load(inputFile);\n</code></pre>\n<p>tryng on open document, some reference try with</p>\n<pre><code>PDDocument doc = PDDocument.loadNonSeq(inputFile);\n</code></pre>\n<p>but PDFBox version 2.0.25 there is no such function 'loadNonSeq'</p>\n<p>full log error</p>\n<pre><code>java.io.IOException: Unknown dir object c='&gt;' cInt=62 peek='&gt;' peekInt=62 at offset 26096 (start offset: 26096)\n        at org.apache.pdfbox.pdfparser.BaseParser.parseDirObject(BaseParser.java:913)\n        at org.apache.pdfbox.pdfparser.BaseParser.parseCOSDictionaryValue(BaseParser.java:154)\n        at org.apache.pdfbox.pdfparser.BaseParser.parseCOSDictionaryNameValuePair(BaseParser.java:288)\n        at org.apache.pdfbox.pdfparser.BaseParser.parseCOSDictionary(BaseParser.java:218)\n        at org.apache.pdfbox.pdfparser.BaseParser.parseDirObject(BaseParser.java:857)\n        at org.apache.pdfbox.pdfparser.COSParser.parseFileObject(COSParser.java:907)\n        at org.apache.pdfbox.pdfparser.COSParser.parseObjectDynamically(COSParser.java:876)\n        at org.apache.pdfbox.pdfparser.COSParser.parseObjectDynamically(COSParser.java:796)\n        at org.apache.pdfbox.pdfparser.COSParser.parseDictObjects(COSParser.java:756)\n        at org.apache.pdfbox.pdfparser.PDFParser.initialParse(PDFParser.java:187)\n        at org.apache.pdfbox.pdfparser.PDFParser.parse(PDFParser.java:226)\n        at org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:1105)\n        at org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:1088)\n        at org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:1047)\n        at org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:995)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n</code></pre>\n<p>any suggestion ? Thank you</p>\n"},{"tags":["java","concurrency","wait","notify"],"answers":[{"tags":[],"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683176778,"creation_date":1683176778,"answer_id":76169738,"question_id":76169661,"body_markdown":"The `notifyAll()` wakes up all threads that are waiting on this object’s monitor. A thread waits on an object’s monitor by calling one of the wait methods. The awakened threads will not be able to proceed until the current thread relinquishes the lock on this object.\r\n\r\nThe `notify()` is used to wake up only one randomly chosen thread that’s waiting for an object, and that thread then begins execution. This randomly chosen thread will give up the lock and go back to the waiting state if it is not the next thread, which can lead to deadlocks. \r\n\r\nUsing `notify()` in your code can cause a thread to miss the signal and return to a waiting state, which can result in a TLE if the waiting thread does not wake up within the timeout period.\r\n\r\n Using `notifyAll()` wakes up all waiting threads, eliminating the possibility of missing signals and potential deadlocks, allowing your code to run normally. \r\n\r\n","title":"1114. Print in Order","body":"<p>The <code>notifyAll()</code> wakes up all threads that are waiting on this object’s monitor. A thread waits on an object’s monitor by calling one of the wait methods. The awakened threads will not be able to proceed until the current thread relinquishes the lock on this object.</p>\n<p>The <code>notify()</code> is used to wake up only one randomly chosen thread that’s waiting for an object, and that thread then begins execution. This randomly chosen thread will give up the lock and go back to the waiting state if it is not the next thread, which can lead to deadlocks.</p>\n<p>Using <code>notify()</code> in your code can cause a thread to miss the signal and return to a waiting state, which can result in a TLE if the waiting thread does not wake up within the timeout period.</p>\n<p>Using <code>notifyAll()</code> wakes up all waiting threads, eliminating the possibility of missing signals and potential deadlocks, allowing your code to run normally.</p>\n"}],"owner":{"account_id":28218936,"reputation":21,"user_id":21569991,"display_name":"xyz xyz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683176778,"creation_date":1683175520,"question_id":76169661,"body_markdown":"I was solving Leetcode problem 1114. I was using wait( ) and notify( ) concept. Using wait() giving time limit exceed but using notifyAll() is giving correct answer.\r\n\r\nWhy using notify() giving TLE and with notifyAll() it is working fine ??\r\n\r\n```\r\nclass Foo {\r\n    private boolean oneDone;\r\n    private boolean twoDone;\r\n    \r\n    public Foo() {\r\n        oneDone = false;\r\n        twoDone = false;\r\n    }\r\n\r\n    public synchronized void first(Runnable printFirst) throws InterruptedException {\r\n        printFirst.run();\r\n        oneDone = true;\r\n        //notify();\r\n        notifyAll();\r\n    }\r\n\r\n    public synchronized void second(Runnable printSecond) throws InterruptedException {\r\n        while (!oneDone) {\r\n            wait();\r\n        }\r\n        printSecond.run();\r\n        twoDone = true;\r\n        //notify();\r\n        notifyAll();\r\n    }\r\n\r\n    public synchronized void third(Runnable printThird) throws InterruptedException {\r\n        while (!twoDone) {\r\n            wait();\r\n        }\r\n        printThird.run();\r\n    }\r\n}\r\n```\r\n\r\nWhy notify() giving TLE but notifyAll() not giving TLE ?","title":"1114. Print in Order","body":"<p>I was solving Leetcode problem 1114. I was using wait( ) and notify( ) concept. Using wait() giving time limit exceed but using notifyAll() is giving correct answer.</p>\n<p>Why using notify() giving TLE and with notifyAll() it is working fine ??</p>\n<pre><code>class Foo {\n    private boolean oneDone;\n    private boolean twoDone;\n    \n    public Foo() {\n        oneDone = false;\n        twoDone = false;\n    }\n\n    public synchronized void first(Runnable printFirst) throws InterruptedException {\n        printFirst.run();\n        oneDone = true;\n        //notify();\n        notifyAll();\n    }\n\n    public synchronized void second(Runnable printSecond) throws InterruptedException {\n        while (!oneDone) {\n            wait();\n        }\n        printSecond.run();\n        twoDone = true;\n        //notify();\n        notifyAll();\n    }\n\n    public synchronized void third(Runnable printThird) throws InterruptedException {\n        while (!twoDone) {\n            wait();\n        }\n        printThird.run();\n    }\n}\n</code></pre>\n<p>Why notify() giving TLE but notifyAll() not giving TLE ?</p>\n"},{"tags":["java","spring","spring-boot","swagger"],"comments":[{"owner":{"account_id":19205353,"reputation":5498,"user_id":14032355,"display_name":"ikhvjs"},"score":0,"creation_date":1682952017,"post_id":76147631,"comment_id":134289114,"body_markdown":"`If I call http://localhost:8080/v3/api-docs through Postman, it&#39;s working`, it probably you didn&#39;t set cors properly because postman doesn&#39;t send a cors request compared to browser.","body":"<code>If I call http:&#47;&#47;localhost:8080&#47;v3&#47;api-docs through Postman, it&#39;s working</code>, it probably you didn&#39;t set cors properly because postman doesn&#39;t send a cors request compared to browser."},{"owner":{"account_id":28175707,"reputation":5,"user_id":21533509,"display_name":"Mohan"},"score":0,"creation_date":1682997625,"post_id":76147631,"comment_id":134295969,"body_markdown":"This url is even working on the browser: http://localhost:8080/v3/api-docs\nThe UI is not working: I tried, localhost:8080/swagger-ui/, /swagger-ui.html, /swagger-ui/index.html","body":"This url is even working on the browser: <a href=\"http://localhost:8080/v3/api-docs\" rel=\"nofollow noreferrer\">localhost:8080/v3/api-docs</a> The UI is not working: I tried, localhost:8080/swagger-ui/, /swagger-ui.html, /swagger-ui/index.html"}],"answers":[{"tags":[],"owner":{"account_id":12219091,"reputation":141,"user_id":8918627,"display_name":"Amit Chaudhary"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683176631,"creation_date":1683176631,"answer_id":76169729,"question_id":76147631,"body_markdown":"`springfox` does not work properly when used with spring-boot version greater than 2.4. I faced the same error and fixed it by using `springdocs` instead of `springfox`.\r\nYou can remove `springfox` dependency from `pom.xml` and use below instead-\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.7.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nYou can remove `@EnableSwagger2` annotation as well.\r\nThe API docs can be accessed on `http://localhost:8080/swagger-ui/index.html`","title":"Problem with integrating Swagger in Spring Boot application - getting 404 error on accessing Swagger UI","body":"<p><code>springfox</code> does not work properly when used with spring-boot version greater than 2.4. I faced the same error and fixed it by using <code>springdocs</code> instead of <code>springfox</code>.\nYou can remove <code>springfox</code> dependency from <code>pom.xml</code> and use below instead-</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n    &lt;version&gt;1.7.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>You can remove <code>@EnableSwagger2</code> annotation as well.\nThe API docs can be accessed on <code>http://localhost:8080/swagger-ui/index.html</code></p>\n"}],"owner":{"account_id":28175707,"reputation":5,"user_id":21533509,"display_name":"Mohan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":489,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76169729,"answer_count":1,"score":0,"last_activity_date":1683176631,"creation_date":1682950493,"question_id":76147631,"body_markdown":"I am trying to integrate Swagger into my Spring Boot application. My spring boot version is 2.4.5. I have included the following dependencies in my pom.xml file:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThis is my Swagger configuration class:\r\n```\r\n@Configuration\r\npublic class SwaggerConfig {\r\n    @Bean\r\n    public Docket api() {\r\n        return new Docket(DocumentationType.SWAGGER_2)\r\n                .select()\r\n                .apis(RequestHandlerSelectors.any())\r\n                .paths(PathSelectors.any())\r\n                .build();\r\n    }\r\n}\r\n```\r\n\r\nI&#39;ve included annotation @EnableSwagger2 on my main class. This is my webSecurityClass:\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(securedEnabled = true, jsr250Enabled = true, prePostEnabled = true)\r\nclass SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    JwtRequestFilter jwtRequestFilter;\r\n\r\n    @Autowired\r\n    private AppConfigProperties appConfigProperties;\r\n\r\n    @Bean\r\n    public AccessDeniedHandler accessDeniedHandler() {\r\n        return new CustomAccessDeniedHandler();\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.cors();\r\n        http.authorizeRequests().antMatchers(&quot;/temp&quot;).permitAll()\r\n                .and().csrf().disable();\r\n\r\n        http.authorizeRequests()\r\n                .antMatchers(&quot;/webjars/**&quot;, &quot;/swagger-ui/**&quot;, &quot;/v3/api-docs&quot;, &quot;/swagger-resources/**&quot;, &quot;/v2/api-docs&quot;, &quot;/v2/**&quot;, &quot;/swagger-ui.html&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and().httpBasic()\r\n                .and().csrf().disable();\r\n\r\n        http.addFilterAfter(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);\r\n        if (SecurityContextHolder.getContext().getAuthentication() == null) {\r\n            System.out.println(&quot;WebSecurityConfig coming here ---------&gt; &quot;);\r\n        }\r\n    }\r\n\r\n    @Bean\r\n    public WebMvcConfigurer corsConfigurer() {\r\n        return new WebMvcConfigurer() {\r\n            @Override\r\n            public void addCorsMappings(CorsRegistry registry) {\r\n                registry.addMapping(&quot;/**&quot;).allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;PATCH&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;)\r\n                        .allowedOrigins(appConfigProperties.getConfigValue(&quot;origin&quot;));\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\n\r\nIf I access the URL http://localhost:8080/swagger-ui.html, I get the response:\r\n\r\n```\r\nWhitelabel Error Page\r\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n\r\nMon May 01 19:10:32 IST 2023\r\nThere was an unexpected error (type=Not Found, status=404).\r\n\r\n```\r\n\r\nIf I access the URL http://localhost:8080/swagger-ui/index.html, I get the following response:\r\n\r\n```\r\nUnable to infer base URL. This is common when using dynamic servlet registration or when the API is behind an API Gateway. The base URL is the root of where all the Swagger resources are served. For example, if the API is available at http://example.org/api/v2/api-docs, then the base URL is http://example.org/api/. Please enter the location manually:\r\n\r\n```\r\n\r\nWhat is wrong with my configuration? I tried many things but it is not working. If I call http://localhost:8080/v3/api-docs through Postman, it&#39;s working. \r\n\r\n","title":"Problem with integrating Swagger in Spring Boot application - getting 404 error on accessing Swagger UI","body":"<p>I am trying to integrate Swagger into my Spring Boot application. My spring boot version is 2.4.5. I have included the following dependencies in my pom.xml file:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n    &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n    &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This is my Swagger configuration class:</p>\n<pre><code>@Configuration\npublic class SwaggerConfig {\n    @Bean\n    public Docket api() {\n        return new Docket(DocumentationType.SWAGGER_2)\n                .select()\n                .apis(RequestHandlerSelectors.any())\n                .paths(PathSelectors.any())\n                .build();\n    }\n}\n</code></pre>\n<p>I've included annotation @EnableSwagger2 on my main class. This is my webSecurityClass:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(securedEnabled = true, jsr250Enabled = true, prePostEnabled = true)\nclass SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    JwtRequestFilter jwtRequestFilter;\n\n    @Autowired\n    private AppConfigProperties appConfigProperties;\n\n    @Bean\n    public AccessDeniedHandler accessDeniedHandler() {\n        return new CustomAccessDeniedHandler();\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.cors();\n        http.authorizeRequests().antMatchers(&quot;/temp&quot;).permitAll()\n                .and().csrf().disable();\n\n        http.authorizeRequests()\n                .antMatchers(&quot;/webjars/**&quot;, &quot;/swagger-ui/**&quot;, &quot;/v3/api-docs&quot;, &quot;/swagger-resources/**&quot;, &quot;/v2/api-docs&quot;, &quot;/v2/**&quot;, &quot;/swagger-ui.html&quot;).permitAll()\n                .anyRequest().authenticated()\n                .and().httpBasic()\n                .and().csrf().disable();\n\n        http.addFilterAfter(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);\n        if (SecurityContextHolder.getContext().getAuthentication() == null) {\n            System.out.println(&quot;WebSecurityConfig coming here ---------&gt; &quot;);\n        }\n    }\n\n    @Bean\n    public WebMvcConfigurer corsConfigurer() {\n        return new WebMvcConfigurer() {\n            @Override\n            public void addCorsMappings(CorsRegistry registry) {\n                registry.addMapping(&quot;/**&quot;).allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;PATCH&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;)\n                        .allowedOrigins(appConfigProperties.getConfigValue(&quot;origin&quot;));\n            }\n        };\n    }\n}\n</code></pre>\n<p>If I access the URL http://localhost:8080/swagger-ui.html, I get the response:</p>\n<pre><code>Whitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\n\nMon May 01 19:10:32 IST 2023\nThere was an unexpected error (type=Not Found, status=404).\n\n</code></pre>\n<p>If I access the URL http://localhost:8080/swagger-ui/index.html, I get the following response:</p>\n<pre><code>Unable to infer base URL. This is common when using dynamic servlet registration or when the API is behind an API Gateway. The base URL is the root of where all the Swagger resources are served. For example, if the API is available at http://example.org/api/v2/api-docs, then the base URL is http://example.org/api/. Please enter the location manually:\n\n</code></pre>\n<p>What is wrong with my configuration? I tried many things but it is not working. If I call http://localhost:8080/v3/api-docs through Postman, it's working.</p>\n"},{"tags":["java","jsf-2","cdi","ejb-3.1","jboss-weld"],"comments":[{"owner":{"account_id":159105,"reputation":5318,"user_id":378185,"display_name":"LightGuard"},"score":0,"creation_date":1376003803,"post_id":18131206,"comment_id":26563141,"body_markdown":"It&#39;s actually too bad you can&#39;t accept more than one answer, because both rdcrng and Flo are correct.","body":"It&#39;s actually too bad you can&#39;t accept more than one answer, because both rdcrng and Flo are correct."},{"owner":{"account_id":1245537,"reputation":2911,"user_id":1207086,"accept_rate":95,"display_name":"SRy"},"score":0,"creation_date":1376010643,"post_id":18131206,"comment_id":26564782,"body_markdown":"@LightGuard... I am about to accept the answer by `rdcrng`. Meanwhile you posted this comment","body":"@LightGuard... I am about to accept the answer by <code>rdcrng</code>. Meanwhile you posted this comment"}],"answers":[{"tags":[],"owner":{"account_id":2436946,"reputation":411,"user_id":2126615,"display_name":"Flo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1375980177,"creation_date":1375979750,"answer_id":18131372,"question_id":18131206,"body_markdown":"It is used in certain limited situations\r\n\r\nhttp://docs.oracle.com/javaee/6/tutorial/doc/gjbnz.html\r\n\r\nSome CDI features like decorators would be declared in this file","title":"what is the purpose of including empty beans.xml in CDI implemenations projects?","body":"<p>It is used in certain limited situations</p>\n\n<p><a href=\"http://docs.oracle.com/javaee/6/tutorial/doc/gjbnz.html\" rel=\"nofollow\">http://docs.oracle.com/javaee/6/tutorial/doc/gjbnz.html</a></p>\n\n<p>Some CDI features like decorators would be declared in this file</p>\n"},{"tags":[],"owner":{"account_id":1996471,"reputation":3425,"user_id":1789351,"accept_rate":100,"display_name":"rdcrng"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1683176373,"creation_date":1375980327,"answer_id":18131570,"question_id":18131206,"body_markdown":"CDI needs to scan all the classes of a bean archive at start-up and fire a bunch of events because almost any class is automatically a managed bean (read more [here][1]), even if it doesn&#39;t have any annotations.\r\n\r\nThis would incur quite a bit of overhead, especially for jar files that are not meant to have any beans. It is therefore beneficial to explicitly indicate which bean archives should be scanned by including the `beans.xml`, even an empty `beans.xml`. \r\n\r\n  [1]: http://docs.jboss.org/weld/reference/1.1.5.Final/en-US/html/beanscdi.html#d0e794","title":"what is the purpose of including empty beans.xml in CDI implemenations projects?","body":"<p>CDI needs to scan all the classes of a bean archive at start-up and fire a bunch of events because almost any class is automatically a managed bean (read more <a href=\"http://docs.jboss.org/weld/reference/1.1.5.Final/en-US/html/beanscdi.html#d0e794\" rel=\"nofollow noreferrer\">here</a>), even if it doesn't have any annotations.</p>\n<p>This would incur quite a bit of overhead, especially for jar files that are not meant to have any beans. It is therefore beneficial to explicitly indicate which bean archives should be scanned by including the <code>beans.xml</code>, even an empty <code>beans.xml</code>.</p>\n"},{"tags":[],"owner":{"account_id":1693760,"reputation":9824,"user_id":1555615,"accept_rate":62,"display_name":"Marinos An"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1613472934,"creation_date":1573653987,"answer_id":58838937,"question_id":18131206,"body_markdown":"### 1\r\nA completely empty `beans.xml` is the same as having a `beans.xml` inside the archive with the following content:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;beans xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/beans_1_1.xsd&quot;\r\n           bean-discovery-mode=&quot;all&quot;&gt;\r\n    &lt;/beans&gt;\r\n\r\nBecause of **bean-discovery-mode=&quot;all&quot;** the archive will be scanned for beans. No need to annotate them.\r\n\r\n### 2\r\nA non-existent `beans.xml` it is the same as having a `beans.xml` inside the archive with the following content:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;beans xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/beans_1_1.xsd&quot;\r\n           bean-discovery-mode=&quot;annotated&quot;&gt;\r\n    \r\n    &lt;/beans&gt;\r\n\r\nBecause of **bean-discovery-mode=&quot;annotated&quot;** the archive will be scanned for beans among classes that are annotated (e.g. `@Dependent` ). All other classes will be ignored, therefore cannot be injected as beans.\r\n\r\n### 3\r\nA third option is to declare **bean-discovery-mode=&quot;none&quot;** in which case the server never scans the archive for beans.\r\n\r\n### 4\r\nNow for the case on which you want to load a class as a bean but you cannot access the archive (e.g. external library) and the class is not annotated, the solution is to use a [Producer methods](https://docs.oracle.com/javaee/7/tutorial/cdi-basic012.htm) (with or without qualifiers).","title":"what is the purpose of including empty beans.xml in CDI implemenations projects?","body":"<h3>1</h3>\n<p>A completely empty <code>beans.xml</code> is the same as having a <code>beans.xml</code> inside the archive with the following content:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;beans xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/beans_1_1.xsd&quot;\n       bean-discovery-mode=&quot;all&quot;&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>Because of <strong>bean-discovery-mode=&quot;all&quot;</strong> the archive will be scanned for beans. No need to annotate them.</p>\n<h3>2</h3>\n<p>A non-existent <code>beans.xml</code> it is the same as having a <code>beans.xml</code> inside the archive with the following content:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;beans xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/beans_1_1.xsd&quot;\n       bean-discovery-mode=&quot;annotated&quot;&gt;\n\n&lt;/beans&gt;\n</code></pre>\n<p>Because of <strong>bean-discovery-mode=&quot;annotated&quot;</strong> the archive will be scanned for beans among classes that are annotated (e.g. <code>@Dependent</code> ). All other classes will be ignored, therefore cannot be injected as beans.</p>\n<h3>3</h3>\n<p>A third option is to declare <strong>bean-discovery-mode=&quot;none&quot;</strong> in which case the server never scans the archive for beans.</p>\n<h3>4</h3>\n<p>Now for the case on which you want to load a class as a bean but you cannot access the archive (e.g. external library) and the class is not annotated, the solution is to use a <a href=\"https://docs.oracle.com/javaee/7/tutorial/cdi-basic012.htm\" rel=\"nofollow noreferrer\">Producer methods</a> (with or without qualifiers).</p>\n"}],"owner":{"account_id":1245537,"reputation":2911,"user_id":1207086,"accept_rate":95,"display_name":"SRy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4118,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":18131570,"answer_count":3,"score":8,"last_activity_date":1683176373,"creation_date":1375979190,"question_id":18131206,"body_markdown":"I am using `weld`,a RI of CDI as dependency injection component in my JSF-EJB-JPA web app. I see in my project we have empty beans.xml in  `META-INF/beans.xml` in `ejb.jar` and `WEB-INF/beans.xml` in my WAR. I don&#39;t get it why we need to keep empty `beans.xml` when there nothing defined in that file?","title":"what is the purpose of including empty beans.xml in CDI implemenations projects?","body":"<p>I am using <code>weld</code>,a RI of CDI as dependency injection component in my JSF-EJB-JPA web app. I see in my project we have empty beans.xml in  <code>META-INF/beans.xml</code> in <code>ejb.jar</code> and <code>WEB-INF/beans.xml</code> in my WAR. I don't get it why we need to keep empty <code>beans.xml</code> when there nothing defined in that file?</p>\n"},{"tags":["java","io","google-cloud-dataflow","apache-beam","apache-beam-io"],"comments":[{"owner":{"account_id":23523457,"reputation":1405,"user_id":17570298,"display_name":"Shipra Sarkar"},"score":0,"creation_date":1672833857,"post_id":74941087,"comment_id":132360893,"body_markdown":"Hi @AleksF, Are you running multi language beam pipelines? Could you specify in which step you&#39;re facing error, expansion service or the pipeline code?","body":"Hi @AleksF, Are you running multi language beam pipelines? Could you specify in which step you&#39;re facing error, expansion service or the pipeline code?"},{"owner":{"account_id":27089398,"reputation":35,"user_id":20637442,"display_name":"AleksF"},"score":0,"creation_date":1672924635,"post_id":74941087,"comment_id":132385412,"body_markdown":"@ShipraSarkar yes, I am. Well, it&#39;s hard to tell. I can start the expansion service without a problem, but when I run the pipeline and it actually expands it, I get the error messages. Does that help?","body":"@ShipraSarkar yes, I am. Well, it&#39;s hard to tell. I can start the expansion service without a problem, but when I run the pipeline and it actually expands it, I get the error messages. Does that help?"},{"owner":{"account_id":96189,"reputation":316,"user_id":1999670,"display_name":"JoRoot"},"score":0,"creation_date":1683176375,"post_id":74941087,"comment_id":134326897,"body_markdown":"@AleksF Did you able to resolve this issue?","body":"@AleksF Did you able to resolve this issue?"}],"answers":[{"tags":[],"owner":{"account_id":7551939,"reputation":86,"user_id":5733005,"display_name":"Yi Hu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673283585,"creation_date":1673283585,"answer_id":75060598,"question_id":74941087,"body_markdown":"The JDBC transform needs a schema-io expansion service: https://mvnrepository.com/artifact/org.apache.beam/beam-sdks-java-extensions-schemaio-expansion-service (not the google-cloud-platform-expansion-service)\r\n\r\n","title":"Expansion service failed to build transform","body":"<p>The JDBC transform needs a schema-io expansion service: <a href=\"https://mvnrepository.com/artifact/org.apache.beam/beam-sdks-java-extensions-schemaio-expansion-service\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.apache.beam/beam-sdks-java-extensions-schemaio-expansion-service</a> (not the google-cloud-platform-expansion-service)</p>\n"}],"owner":{"account_id":27089398,"reputation":35,"user_id":20637442,"display_name":"AleksF"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683176303,"creation_date":1672235542,"question_id":74941087,"body_markdown":"I am trying to read from MySQL database with apache_beam.io.jdbc module (https://beam.apache.org/releases/pydoc/current/apache_beam.io.jdbc.html) ReadFromJdbc().\r\n\r\nWhen I dont specify an expansion service I get the error of `ValueError: Unsupported signal: 2`, which was resolved by creating a custom expansion service, so I did that (https://stackoverflow.com/questions/65780044/readfromkafka-throws-valueerror-unsupported-signal-2).\r\n\r\nI run my expansion service by `java -jar beam-sdks-java-io-google-cloud-platform-expansion-service-2.43.0.jar 8096 --javaClassLookupAllowlistFile=&#39;*&#39;` because the `beam-sdks-java-io-expansion-service-2.43.0.jar` doesn&#39;t have the external transform `beam:transform:org.apache.beam:schemaio_jdbc_write:v1`.\r\n\r\nI have tried to read from a local MySQL instance with PortableRunner (Spark) and from a GCP Cloud SQL instance with DataflowRunner. In both cases I get the same error, just the payload information differs:\r\n\r\n```\r\nRuntimeError: java.lang.RuntimeException: Failed to build transform beam:transform:org.apache.beam:schemaio_jdbc_read:v1 from spec urn: &quot;beam:transform:org.apache.beam:schemaio_jdbc_read:v1&quot;\r\npayload: &quot;\\nD\\n\\016\\n\\blocation\\032\\002\\020\\a\\n\\f\\n\\006config\\032\\002\\020\\t\\022$a19f3f60-6fc8-41db-b221-dcf28077e554\\022\\220\\001\\002\\000\\nmigrations\\201\\001\\v\\002\\260\\006\\025com.mysql.jdbc.Driver#jdbc:mysql://localhost:3306/database\\004user\\021pass*select id, migration from bob1.migrations;\\001&quot;\r\n\r\n        at org.apache.beam.sdk.expansion.service.ExpansionService$ExternalTransformRegistrarLoader$1.getTransform(ExpansionService.java:147)\r\n        at org.apache.beam.sdk.expansion.service.ExpansionService$TransformProvider.apply(ExpansionService.java:396)\r\n        at org.apache.beam.sdk.expansion.service.ExpansionService.expand(ExpansionService.java:516)\r\n        at org.apache.beam.sdk.expansion.service.ExpansionService.expand(ExpansionService.java:596)\r\n        at org.apache.beam.model.expansion.v1.ExpansionServiceGrpc$MethodHandlers.invoke(ExpansionServiceGrpc.java:220)\r\n        at org.apache.beam.vendor.grpc.v1p48p1.io.grpc.stub.ServerCalls$UnaryServerCallHandler$UnaryServerCallListener.onHalfClose(ServerCalls.java:182)\r\n        at org.apache.beam.vendor.grpc.v1p48p1.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.halfClosed(ServerCallImpl.java:354)\r\n        at org.apache.beam.vendor.grpc.v1p48p1.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1HalfClosed.runInContext(ServerImpl.java:866)\r\n        at org.apache.beam.vendor.grpc.v1p48p1.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\r\n        at org.apache.beam.vendor.grpc.v1p48p1.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n        at java.lang.Thread.run(Unknown Source)\r\nCaused by: java.lang.RuntimeException: Unable to infer configuration row from configuration proto and schema.\r\n        at org.apache.beam.sdk.extensions.schemaio.expansion.ExternalSchemaIOTransformRegistrar.translateRow(ExternalSchemaIOTransformRegistrar.java:110)\r\n        at org.apache.beam.sdk.extensions.schemaio.expansion.ExternalSchemaIOTransformRegistrar.access$000(ExternalSchemaIOTransformRegistrar.java:49)\r\n        at org.apache.beam.sdk.extensions.schemaio.expansion.ExternalSchemaIOTransformRegistrar$ReaderBuilder.buildExternal(ExternalSchemaIOTransformRegistrar.java:129)      \r\n        at org.apache.beam.sdk.extensions.schemaio.expansion.ExternalSchemaIOTransformRegistrar$ReaderBuilder.buildExternal(ExternalSchemaIOTransformRegistrar.java:115)      \r\n        at org.apache.beam.sdk.expansion.service.ExpansionService$ExternalTransformRegistrarLoader$1.getTransform(ExpansionService.java:141)\r\n        ... 12 more\r\nCaused by: org.apache.beam.sdk.coders.CoderException: java.io.EOFException\r\n        at org.apache.beam.sdk.coders.BigEndianShortCoder.decode(BigEndianShortCoder.java:56)\r\n        at org.apache.beam.sdk.coders.BigEndianShortCoder.decode(BigEndianShortCoder.java:28)\r\n        at org.apache.beam.sdk.coders.RowCoderGenerator$DecodeInstruction.decodeDelegate(RowCoderGenerator.java:431)\r\n        at org.apache.beam.sdk.coders.Coder$ByteBuddy$lYYhB38b.decode(Unknown Source)\r\n        at org.apache.beam.sdk.coders.Coder$ByteBuddy$lYYhB38b.decode(Unknown Source)\r\n        at org.apache.beam.sdk.schemas.SchemaCoder.decode(SchemaCoder.java:129)\r\n        at org.apache.beam.sdk.extensions.schemaio.expansion.ExternalSchemaIOTransformRegistrar.translateRow(ExternalSchemaIOTransformRegistrar.java:108)\r\n        ... 16 more\r\nCaused by: java.io.EOFException\r\n        at org.apache.beam.sdk.coders.BitConverters.readBigEndianShort(BitConverters.java:55)\r\n        at org.apache.beam.sdk.coders.BigEndianShortCoder.decode(BigEndianShortCoder.java:52)\r\n        ... 22 more\r\n\r\n```\r\n\r\nLogs from expansion service terminal:\r\n\r\n```\r\nDec 28, 2022 3:39:34 PM org.apache.beam.sdk.expansion.service.ExpansionService expand\r\nINFO: Expanding &#39;Read database list&#39; with URN &#39;beam:transform:org.apache.beam:schemaio_jdbc_read:v1&#39;\r\nDec 28, 2022 3:39:35 PM org.apache.beam.sdk.expansion.service.ExpansionService$ExternalTransformRegistrarLoader payloadToConfig\r\nWARNING: Configuration class &#39;org.apache.beam.sdk.extensions.schemaio.expansion.ExternalSchemaIOTransformRegistrar$Configuration&#39; has no schema registered. Attempting to construct with setter approach.\r\nDec 28, 2022 3:39:35 PM org.apache.beam.sdk.expansion.service.ExpansionService$ExternalTransformRegistrarLoader payloadToConfig\r\nWARNING: Configuration class &#39;org.apache.beam.sdk.extensions.schemaio.expansion.ExternalSchemaIOTransformRegistrar$Configuration&#39; has no schema registered. Attempting to construct with setter approach.\r\n```\r\n\r\nPipeline for the local instance:\r\n\r\n```\r\nimport apache_beam as beam\r\nimport apache_beam.io.jdbc as jdbc\r\nimport typing\r\nimport apache_beam.coders as coders\r\n\r\nimport os\r\nfrom apache_beam.options.pipeline_options import PipelineOptions\r\n\r\npipeline_options = {\r\n    &#39;runner&#39;: &#39;PortableRunner&#39;,\r\n    &#39;job_endpoint&#39;: &#39;localhost:8099&#39;,\r\n    &#39;environment_type&#39;:&#39;LOOPBACK&#39;\r\n}\r\n\r\n\r\npipeline_options = PipelineOptions.from_dictionary(pipeline_options)\r\n\r\nExampleRow = typing.NamedTuple(&#39;ExampleRow&#39;,\r\n                               [(&#39;id&#39;, int), (&#39;migration&#39;, bytes)])\r\ncoders.registry.register_coder(ExampleRow, coders.RowCoder)\r\n\r\n\r\nwith beam.Pipeline(options=pipeline_options) as p:\r\n    res = (\r\n        p\r\n        | &quot;Read database list&quot; &gt;&gt; jdbc.ReadFromJdbc(\r\n            table_name=&#39;migrations&#39;,\r\n            driver_class_name=&#39;com.mysql.jdbc.Driver&#39;,\r\n            jdbc_url=&#39;jdbc:mysql://localhost:3306/database&#39;,\r\n            username=&#39;user&#39;,\r\n            password=&#39;pass&#39;,\r\n            query = &quot;select id, migration from database.migrations;&quot;,\r\n            fetch_size=1,\r\n            expansion_service=&quot;localhost:8096&quot;\r\n        )\r\n        | &quot;Print results&quot; &gt;&gt; beam.Map(print)\r\n    )\r\n```\r\n\r\nPipeline for GCP Cloud SQL instance:\r\n\r\n\r\n```\r\nimport apache_beam as beam\r\nimport apache_beam.io.jdbc as jdbc\r\nimport typing\r\nimport apache_beam.coders as coders\r\n\r\nimport os\r\nfrom apache_beam.options.pipeline_options import PipelineOptions\r\n\r\npipeline_options = {\r\n    &#39;project&#39;: &#39;project-name&#39;,\r\n    &#39;runner&#39;: &#39;DataflowRunner&#39;,\r\n    &#39;region&#39;: &#39;europe-central2&#39;,\r\n    &#39;staging_location&#39;:&quot;gs://temp&quot;,\r\n    &#39;temp_location&#39;:&quot;gs://temp&quot;,\r\n    &#39;template_location&#39;:&quot;gs://template/gcsql&quot;\r\n}\r\npipeline_options = PipelineOptions.from_dictionary(pipeline_options)\r\n\r\nserviceAccount = r&#39;C:\\Path\\To\\Service\\Account.json&#39;\r\nos.environ[&#39;GOOGLE_APPLICATION_CREDENTIALS&#39;] = serviceAccount\r\n\r\nExampleRow = typing.NamedTuple(&#39;ExampleRow&#39;,\r\n                               [(&#39;id&#39;, int), (&#39;migration&#39;, str)])\r\ncoders.registry.register_coder(ExampleRow, coders.RowCoder)\r\n\r\n\r\nwith beam.Pipeline(options=pipeline_options) as p:\r\n    res = (\r\n        p\r\n        | &quot;Read database list&quot; &gt;&gt; jdbc.ReadFromJdbc(\r\n            table_name=&#39;migrations&#39;,\r\n            driver_class_name=&#39;com.mysql.jdbc.Driver&#39;,\r\n            jdbc_url=&#39;jdbc:mysql:///&lt;DATABASE_NAME&gt;?cloudSqlInstance=&lt;INSTANCE_CONNECTION_NAME&gt;&amp;socketFactory=com.google.cloud.sql.mysql.SocketFactory&amp;user=&lt;MYSQL_USER_NAME&gt;&amp;password=&lt;MYSQL_USER_PASSWORD&gt;&#39;,\r\n            username=&#39;user&#39;,\r\n            password=&#39;pass&#39;,\r\n            query = &quot;select id, migration from bob1.migrations;&quot;,\r\n            fetch_size=1,\r\n            classpath=[&quot;com.google.cloud.sql:mysql-socket-factory-connector-j-8:1.7.2&quot;],\r\n            expansion_service=&#39;localhost:8096&#39;\r\n        )\r\n        | &quot;Print results&quot; &gt;&gt; beam.io.WriteToText(r&#39;gs://output/gcsql.csv&#39;)\r\n    )\r\n```\r\n","title":"Expansion service failed to build transform","body":"<p>I am trying to read from MySQL database with apache_beam.io.jdbc module (<a href=\"https://beam.apache.org/releases/pydoc/current/apache_beam.io.jdbc.html\" rel=\"nofollow noreferrer\">https://beam.apache.org/releases/pydoc/current/apache_beam.io.jdbc.html</a>) ReadFromJdbc().</p>\n<p>When I dont specify an expansion service I get the error of <code>ValueError: Unsupported signal: 2</code>, which was resolved by creating a custom expansion service, so I did that (<a href=\"https://stackoverflow.com/questions/65780044/readfromkafka-throws-valueerror-unsupported-signal-2\">ReadFromKafka throws ValueError: Unsupported signal: 2</a>).</p>\n<p>I run my expansion service by <code>java -jar beam-sdks-java-io-google-cloud-platform-expansion-service-2.43.0.jar 8096 --javaClassLookupAllowlistFile='*'</code> because the <code>beam-sdks-java-io-expansion-service-2.43.0.jar</code> doesn't have the external transform <code>beam:transform:org.apache.beam:schemaio_jdbc_write:v1</code>.</p>\n<p>I have tried to read from a local MySQL instance with PortableRunner (Spark) and from a GCP Cloud SQL instance with DataflowRunner. In both cases I get the same error, just the payload information differs:</p>\n<pre><code>RuntimeError: java.lang.RuntimeException: Failed to build transform beam:transform:org.apache.beam:schemaio_jdbc_read:v1 from spec urn: &quot;beam:transform:org.apache.beam:schemaio_jdbc_read:v1&quot;\npayload: &quot;\\nD\\n\\016\\n\\blocation\\032\\002\\020\\a\\n\\f\\n\\006config\\032\\002\\020\\t\\022$a19f3f60-6fc8-41db-b221-dcf28077e554\\022\\220\\001\\002\\000\\nmigrations\\201\\001\\v\\002\\260\\006\\025com.mysql.jdbc.Driver#jdbc:mysql://localhost:3306/database\\004user\\021pass*select id, migration from bob1.migrations;\\001&quot;\n\n        at org.apache.beam.sdk.expansion.service.ExpansionService$ExternalTransformRegistrarLoader$1.getTransform(ExpansionService.java:147)\n        at org.apache.beam.sdk.expansion.service.ExpansionService$TransformProvider.apply(ExpansionService.java:396)\n        at org.apache.beam.sdk.expansion.service.ExpansionService.expand(ExpansionService.java:516)\n        at org.apache.beam.sdk.expansion.service.ExpansionService.expand(ExpansionService.java:596)\n        at org.apache.beam.model.expansion.v1.ExpansionServiceGrpc$MethodHandlers.invoke(ExpansionServiceGrpc.java:220)\n        at org.apache.beam.vendor.grpc.v1p48p1.io.grpc.stub.ServerCalls$UnaryServerCallHandler$UnaryServerCallListener.onHalfClose(ServerCalls.java:182)\n        at org.apache.beam.vendor.grpc.v1p48p1.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.halfClosed(ServerCallImpl.java:354)\n        at org.apache.beam.vendor.grpc.v1p48p1.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1HalfClosed.runInContext(ServerImpl.java:866)\n        at org.apache.beam.vendor.grpc.v1p48p1.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\n        at org.apache.beam.vendor.grpc.v1p48p1.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n        at java.lang.Thread.run(Unknown Source)\nCaused by: java.lang.RuntimeException: Unable to infer configuration row from configuration proto and schema.\n        at org.apache.beam.sdk.extensions.schemaio.expansion.ExternalSchemaIOTransformRegistrar.translateRow(ExternalSchemaIOTransformRegistrar.java:110)\n        at org.apache.beam.sdk.extensions.schemaio.expansion.ExternalSchemaIOTransformRegistrar.access$000(ExternalSchemaIOTransformRegistrar.java:49)\n        at org.apache.beam.sdk.extensions.schemaio.expansion.ExternalSchemaIOTransformRegistrar$ReaderBuilder.buildExternal(ExternalSchemaIOTransformRegistrar.java:129)      \n        at org.apache.beam.sdk.extensions.schemaio.expansion.ExternalSchemaIOTransformRegistrar$ReaderBuilder.buildExternal(ExternalSchemaIOTransformRegistrar.java:115)      \n        at org.apache.beam.sdk.expansion.service.ExpansionService$ExternalTransformRegistrarLoader$1.getTransform(ExpansionService.java:141)\n        ... 12 more\nCaused by: org.apache.beam.sdk.coders.CoderException: java.io.EOFException\n        at org.apache.beam.sdk.coders.BigEndianShortCoder.decode(BigEndianShortCoder.java:56)\n        at org.apache.beam.sdk.coders.BigEndianShortCoder.decode(BigEndianShortCoder.java:28)\n        at org.apache.beam.sdk.coders.RowCoderGenerator$DecodeInstruction.decodeDelegate(RowCoderGenerator.java:431)\n        at org.apache.beam.sdk.coders.Coder$ByteBuddy$lYYhB38b.decode(Unknown Source)\n        at org.apache.beam.sdk.coders.Coder$ByteBuddy$lYYhB38b.decode(Unknown Source)\n        at org.apache.beam.sdk.schemas.SchemaCoder.decode(SchemaCoder.java:129)\n        at org.apache.beam.sdk.extensions.schemaio.expansion.ExternalSchemaIOTransformRegistrar.translateRow(ExternalSchemaIOTransformRegistrar.java:108)\n        ... 16 more\nCaused by: java.io.EOFException\n        at org.apache.beam.sdk.coders.BitConverters.readBigEndianShort(BitConverters.java:55)\n        at org.apache.beam.sdk.coders.BigEndianShortCoder.decode(BigEndianShortCoder.java:52)\n        ... 22 more\n\n</code></pre>\n<p>Logs from expansion service terminal:</p>\n<pre><code>Dec 28, 2022 3:39:34 PM org.apache.beam.sdk.expansion.service.ExpansionService expand\nINFO: Expanding 'Read database list' with URN 'beam:transform:org.apache.beam:schemaio_jdbc_read:v1'\nDec 28, 2022 3:39:35 PM org.apache.beam.sdk.expansion.service.ExpansionService$ExternalTransformRegistrarLoader payloadToConfig\nWARNING: Configuration class 'org.apache.beam.sdk.extensions.schemaio.expansion.ExternalSchemaIOTransformRegistrar$Configuration' has no schema registered. Attempting to construct with setter approach.\nDec 28, 2022 3:39:35 PM org.apache.beam.sdk.expansion.service.ExpansionService$ExternalTransformRegistrarLoader payloadToConfig\nWARNING: Configuration class 'org.apache.beam.sdk.extensions.schemaio.expansion.ExternalSchemaIOTransformRegistrar$Configuration' has no schema registered. Attempting to construct with setter approach.\n</code></pre>\n<p>Pipeline for the local instance:</p>\n<pre><code>import apache_beam as beam\nimport apache_beam.io.jdbc as jdbc\nimport typing\nimport apache_beam.coders as coders\n\nimport os\nfrom apache_beam.options.pipeline_options import PipelineOptions\n\npipeline_options = {\n    'runner': 'PortableRunner',\n    'job_endpoint': 'localhost:8099',\n    'environment_type':'LOOPBACK'\n}\n\n\npipeline_options = PipelineOptions.from_dictionary(pipeline_options)\n\nExampleRow = typing.NamedTuple('ExampleRow',\n                               [('id', int), ('migration', bytes)])\ncoders.registry.register_coder(ExampleRow, coders.RowCoder)\n\n\nwith beam.Pipeline(options=pipeline_options) as p:\n    res = (\n        p\n        | &quot;Read database list&quot; &gt;&gt; jdbc.ReadFromJdbc(\n            table_name='migrations',\n            driver_class_name='com.mysql.jdbc.Driver',\n            jdbc_url='jdbc:mysql://localhost:3306/database',\n            username='user',\n            password='pass',\n            query = &quot;select id, migration from database.migrations;&quot;,\n            fetch_size=1,\n            expansion_service=&quot;localhost:8096&quot;\n        )\n        | &quot;Print results&quot; &gt;&gt; beam.Map(print)\n    )\n</code></pre>\n<p>Pipeline for GCP Cloud SQL instance:</p>\n<pre><code>import apache_beam as beam\nimport apache_beam.io.jdbc as jdbc\nimport typing\nimport apache_beam.coders as coders\n\nimport os\nfrom apache_beam.options.pipeline_options import PipelineOptions\n\npipeline_options = {\n    'project': 'project-name',\n    'runner': 'DataflowRunner',\n    'region': 'europe-central2',\n    'staging_location':&quot;gs://temp&quot;,\n    'temp_location':&quot;gs://temp&quot;,\n    'template_location':&quot;gs://template/gcsql&quot;\n}\npipeline_options = PipelineOptions.from_dictionary(pipeline_options)\n\nserviceAccount = r'C:\\Path\\To\\Service\\Account.json'\nos.environ['GOOGLE_APPLICATION_CREDENTIALS'] = serviceAccount\n\nExampleRow = typing.NamedTuple('ExampleRow',\n                               [('id', int), ('migration', str)])\ncoders.registry.register_coder(ExampleRow, coders.RowCoder)\n\n\nwith beam.Pipeline(options=pipeline_options) as p:\n    res = (\n        p\n        | &quot;Read database list&quot; &gt;&gt; jdbc.ReadFromJdbc(\n            table_name='migrations',\n            driver_class_name='com.mysql.jdbc.Driver',\n            jdbc_url='jdbc:mysql:///&lt;DATABASE_NAME&gt;?cloudSqlInstance=&lt;INSTANCE_CONNECTION_NAME&gt;&amp;socketFactory=com.google.cloud.sql.mysql.SocketFactory&amp;user=&lt;MYSQL_USER_NAME&gt;&amp;password=&lt;MYSQL_USER_PASSWORD&gt;',\n            username='user',\n            password='pass',\n            query = &quot;select id, migration from bob1.migrations;&quot;,\n            fetch_size=1,\n            classpath=[&quot;com.google.cloud.sql:mysql-socket-factory-connector-j-8:1.7.2&quot;],\n            expansion_service='localhost:8096'\n        )\n        | &quot;Print results&quot; &gt;&gt; beam.io.WriteToText(r'gs://output/gcsql.csv')\n    )\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":7495697,"reputation":1501,"user_id":5696047,"display_name":"jayesh gurudayalani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683173913,"creation_date":1683173913,"answer_id":76169563,"question_id":76169533,"body_markdown":"To split or to perform any operation on video or image , you can use FFMPEG in android . Not only android but mostly anywhere like even by terminal also\r\n\r\nUsing FFMPEG , you need to hit this command\r\n\r\n```ffmpeg -i source-file.foo -ss 0 -t 600  first-10-min.m4v```\r\n\r\nExplanation :- \r\n\r\n```-i``` :- It is used to mention your input file path which you mention after this . In above example ```source-file.foo``` is your input file path\r\n\r\n```-ss``` :- It is used to seek your current point or you can say you are mentioning starting duration(in seconds) from where it should start . In above example , splitting will start from 0 seconds\r\n\r\n ```-t``` :- It is used to mention total duration of your desired output video . In above example , output file duration will be 600 seconds\r\n\r\n```first-10-min.m4v``` :- In last you need to mention path along with file name and extension where it will stored\r\n\r\n\r\nFor more information , visit this link\r\n\r\nhttps://github.com/arthenica/ffmpeg-kit","title":"How can I split a video into parts in Android Java?","body":"<p>To split or to perform any operation on video or image , you can use FFMPEG in android . Not only android but mostly anywhere like even by terminal also</p>\n<p>Using FFMPEG , you need to hit this command</p>\n<p><code>ffmpeg -i source-file.foo -ss 0 -t 600  first-10-min.m4v</code></p>\n<p>Explanation :-</p>\n<p><code>-i</code> :- It is used to mention your input file path which you mention after this . In above example <code>source-file.foo</code> is your input file path</p>\n<p><code>-ss</code> :- It is used to seek your current point or you can say you are mentioning starting duration(in seconds) from where it should start . In above example , splitting will start from 0 seconds</p>\n<p><code>-t</code> :- It is used to mention total duration of your desired output video . In above example , output file duration will be 600 seconds</p>\n<p><code>first-10-min.m4v</code> :- In last you need to mention path along with file name and extension where it will stored</p>\n<p>For more information , visit this link</p>\n<p><a href=\"https://github.com/arthenica/ffmpeg-kit\" rel=\"nofollow noreferrer\">https://github.com/arthenica/ffmpeg-kit</a></p>\n"}],"owner":{"account_id":8516184,"reputation":272,"user_id":13926345,"display_name":"CODAR747"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683173913,"creation_date":1683173425,"question_id":76169533,"body_markdown":"How can I implement automatic video splitting in my Android app such that when the user selects a video from the gallery, the app automatically splits the video into parts of 5 minutes each, saves them in the app cache, and allows for access to the split parts from the cache?","title":"How can I split a video into parts in Android Java?","body":"<p>How can I implement automatic video splitting in my Android app such that when the user selects a video from the gallery, the app automatically splits the video into parts of 5 minutes each, saves them in the app cache, and allows for access to the split parts from the cache?</p>\n"},{"tags":["java","spring-boot","maven","logback","slf4j"],"owner":{"account_id":16221044,"reputation":331,"user_id":11712575,"display_name":"Jason Chan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1683442386,"answer_count":0,"score":0,"last_activity_date":1683173632,"creation_date":1683159033,"question_id":76168733,"body_markdown":"I am trying to execute this line of code via springboot\r\n\r\n    log.warn(&quot;Exception was - &quot;, ex);\r\n\r\nwith class annotation `@Slf4j` and got this exception. \r\n\r\n    java.lang.NullPointerException\r\n    \tat ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:99)\r\n    \tat ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:62)\r\n    \tat ch.qos.logback.classic.spi.LoggingEvent.&lt;init&gt;(LoggingEvent.java:119)\r\n    \tat ch.qos.logback.classic.Logger.buildLoggingEventAndAppend(Logger.java:419)\r\n    \tat ch.qos.logback.classic.Logger.filterAndLog_0_Or3Plus(Logger.java:383)\r\n    \tat ch.qos.logback.classic.Logger.warn(Logger.java:692)\r\n    \tat com.{Redacted}.logException({Redacted}.java:140)\r\nThis occured when I made some maven dependency upgrades.\r\n\r\nI read through some articles, and added dependencies `logback-classic` and `logback-core`, and these errors disappeared. Problem is this: When I add these dependencies, then other errors from other methods occur like this:\r\n\r\n    a.lang.NoClassDefFoundError: org/slf4j/impl/StaticLoggerBinder\r\n    \r\n    \tat org.springframework.boot.logging.logback.LogbackLoggingSystem.getLoggerContext(LogbackLoggingSystem.java:293)\r\n    \tat org.springframework.boot.logging.logback.LogbackLoggingSystem.beforeInitialize(LogbackLoggingSystem.java:118)\r\n    \tat org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationStartingEvent(LoggingApplicationListener.java:238)\r\n    \tat org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:220)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\r\n    \tat org.springframework.boot.context.event.EventPublishingRunListener.starting(EventPublishingRunListener.java:79)\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.lambda$starting$0(SpringApplicationRunListeners.java:56)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:120)\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.starting(SpringApplicationRunListeners.java:56)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:298)\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)\r\n    \tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\r\n    \tat org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)\r\n    \tat org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)\r\n    \tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)\r\n    \tat org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349)\r\n    \tat org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349)\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n    \tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\r\n    \tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n    \tat java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)\r\n    \tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\r\n    \tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\r\n    \tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\r\n    \tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263)\r\n    \tat java.base/java.util.Optional.orElseGet(Optional.java:369)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask$DefaultDynamicTestExecutor.execute(NodeTestTask.java:226)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask$DefaultDynamicTestExecutor.execute(NodeTestTask.java:204)\r\n    \tat org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.execute(TestTemplateTestDescriptor.java:133)\r\n    \tat org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.lambda$execute$2(TestTemplateTestDescriptor.java:101)\r\n    \tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n    \tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n    \tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\r\n    \tat java.base/java.util.stream.ReferencePipeline$11$1.accept(ReferencePipeline.java:442)\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n    \tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n    \tat java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)\r\n    \tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)\r\n    \tat java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:274)\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n    \tat java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n    \tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n    \tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n    \tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n    \tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\r\n    \tat java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:274)\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n    \tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n    \tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n    \tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n    \tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n    \tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\r\n    \tat java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:274)\r\n    \tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n    \tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n    \tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n    \tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n    \tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\r\n    \tat org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.execute(TestTemplateTestDescriptor.java:101)\r\n    \tat org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.execute(TestTemplateTestDescriptor.java:38)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n    \tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n    \tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n    \tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n    \tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n    \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n\r\n","title":"Slf4J Springboot Logging Problems","body":"<p>I am trying to execute this line of code via springboot</p>\n<pre><code>log.warn(&quot;Exception was - &quot;, ex);\n</code></pre>\n<p>with class annotation <code>@Slf4j</code> and got this exception.</p>\n<pre><code>java.lang.NullPointerException\n    at ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:99)\n    at ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:62)\n    at ch.qos.logback.classic.spi.LoggingEvent.&lt;init&gt;(LoggingEvent.java:119)\n    at ch.qos.logback.classic.Logger.buildLoggingEventAndAppend(Logger.java:419)\n    at ch.qos.logback.classic.Logger.filterAndLog_0_Or3Plus(Logger.java:383)\n    at ch.qos.logback.classic.Logger.warn(Logger.java:692)\n    at com.{Redacted}.logException({Redacted}.java:140)\n</code></pre>\n<p>This occured when I made some maven dependency upgrades.</p>\n<p>I read through some articles, and added dependencies <code>logback-classic</code> and <code>logback-core</code>, and these errors disappeared. Problem is this: When I add these dependencies, then other errors from other methods occur like this:</p>\n<pre><code>a.lang.NoClassDefFoundError: org/slf4j/impl/StaticLoggerBinder\n\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.getLoggerContext(LogbackLoggingSystem.java:293)\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.beforeInitialize(LogbackLoggingSystem.java:118)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationStartingEvent(LoggingApplicationListener.java:238)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:220)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\n    at org.springframework.boot.context.event.EventPublishingRunListener.starting(EventPublishingRunListener.java:79)\n    at org.springframework.boot.SpringApplicationRunListeners.lambda$starting$0(SpringApplicationRunListeners.java:56)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:120)\n    at org.springframework.boot.SpringApplicationRunListeners.starting(SpringApplicationRunListeners.java:56)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:298)\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\n    at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)\n    at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)\n    at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\n    at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349)\n    at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215)\n    at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n    at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)\n    at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348)\n    at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270)\n    at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259)\n    at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263)\n    at java.base/java.util.Optional.orElseGet(Optional.java:369)\n    at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask$DefaultDynamicTestExecutor.execute(NodeTestTask.java:226)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask$DefaultDynamicTestExecutor.execute(NodeTestTask.java:204)\n    at org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.execute(TestTemplateTestDescriptor.java:133)\n    at org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.lambda$execute$2(TestTemplateTestDescriptor.java:101)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\n    at java.base/java.util.stream.ReferencePipeline$11$1.accept(ReferencePipeline.java:442)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n    at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)\n    at java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:274)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n    at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n    at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\n    at java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:274)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n    at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\n    at java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:274)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n    at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\n    at org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.execute(TestTemplateTestDescriptor.java:101)\n    at org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.execute(TestTemplateTestDescriptor.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n</code></pre>\n"},{"tags":["java","sql","performance","jdbc"],"comments":[{"owner":{"account_id":327523,"reputation":1869,"user_id":649952,"accept_rate":73,"display_name":"Wouter"},"score":3,"creation_date":1478534620,"post_id":3784197,"comment_id":68183201,"body_markdown":"WOW! I tested your &quot;collapse multiple inserts into one&quot; while inserting to SQL Server, and I went from 107 rows/second to 3333 rows per second!","body":"WOW! I tested your &quot;collapse multiple inserts into one&quot; while inserting to SQL Server, and I went from 107 rows/second to 3333 rows per second!"},{"owner":{"account_id":5483053,"reputation":406,"user_id":4358787,"display_name":"Gaurav"},"score":2,"creation_date":1534158412,"post_id":3784197,"comment_id":90595521,"body_markdown":"That&#39;s a stunning 31x increase.","body":"That&#39;s a stunning 31x increase."}],"answers":[{"tags":[],"owner":{"account_id":174588,"reputation":3274,"user_id":404051,"accept_rate":92,"display_name":"Burleigh Bear"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1285302792,"creation_date":1285302792,"answer_id":3784208,"question_id":3784197,"body_markdown":"You&#39;ll have to benchmark, obviously, but over JDBC issuing multiple inserts will be much faster if you use a PreparedStatement rather than a Statement.","title":"Efficient way to do batch INSERTS with JDBC","body":"<p>You'll have to benchmark, obviously, but over JDBC issuing multiple inserts will be much faster if you use a PreparedStatement rather than a Statement.</p>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":2,"up_vote_count":12,"is_accepted":false,"score":10,"last_activity_date":1285323055,"creation_date":1285323055,"answer_id":3786039,"question_id":3784197,"body_markdown":"The `Statement` gives you the following option:\r\n\r\n    Statement stmt = con.createStatement();\r\n    \r\n    stmt.addBatch(&quot;INSERT INTO employees VALUES (1000, &#39;Joe Jones&#39;)&quot;);\r\n    stmt.addBatch(&quot;INSERT INTO departments VALUES (260, &#39;Shoe&#39;)&quot;);\r\n    stmt.addBatch(&quot;INSERT INTO emp_dept VALUES (1000, 260)&quot;);\r\n    \r\n    // submit a batch of update commands for execution\r\n    int[] updateCounts = stmt.executeBatch();\r\n\r\n","title":"Efficient way to do batch INSERTS with JDBC","body":"<p>The <code>Statement</code> gives you the following option:</p>\n\n<pre><code>Statement stmt = con.createStatement();\n\nstmt.addBatch(\"INSERT INTO employees VALUES (1000, 'Joe Jones')\");\nstmt.addBatch(\"INSERT INTO departments VALUES (260, 'Shoe')\");\nstmt.addBatch(\"INSERT INTO emp_dept VALUES (1000, 260)\");\n\n// submit a batch of update commands for execution\nint[] updateCounts = stmt.executeBatch();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26965,"reputation":1912,"user_id":70625,"display_name":"Tusc"},"down_vote_count":1,"up_vote_count":177,"is_accepted":false,"score":176,"last_activity_date":1380615125,"creation_date":1285323996,"answer_id":3786127,"question_id":3784197,"body_markdown":"This is a mix of the two previous answers:\r\n\r\n      PreparedStatement ps = c.prepareStatement(&quot;INSERT INTO employees VALUES (?, ?)&quot;);\r\n\r\n      ps.setString(1, &quot;John&quot;);\r\n      ps.setString(2,&quot;Doe&quot;);\r\n      ps.addBatch();\r\n\r\n      ps.clearParameters();\r\n      ps.setString(1, &quot;Dave&quot;);\r\n      ps.setString(2,&quot;Smith&quot;);\r\n      ps.addBatch();\r\n\r\n      ps.clearParameters();\r\n      int[] results = ps.executeBatch();\r\n\r\n\r\n\r\n","title":"Efficient way to do batch INSERTS with JDBC","body":"<p>This is a mix of the two previous answers:</p>\n\n<pre><code>  PreparedStatement ps = c.prepareStatement(\"INSERT INTO employees VALUES (?, ?)\");\n\n  ps.setString(1, \"John\");\n  ps.setString(2,\"Doe\");\n  ps.addBatch();\n\n  ps.clearParameters();\n  ps.setString(1, \"Dave\");\n  ps.setString(2,\"Smith\");\n  ps.addBatch();\n\n  ps.clearParameters();\n  int[] results = ps.executeBatch();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":74390,"reputation":1542,"user_id":213786,"accept_rate":43,"display_name":"Farid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1285324026,"creation_date":1285324026,"answer_id":3786131,"question_id":3784197,"body_markdown":"How about using the INSERT ALL statement ?\r\n\r\n    INSERT ALL\r\n    \r\n    INTO table_name VALUES ()\r\n    \r\n    INTO table_name VALUES ()\r\n    \r\n    ...\r\n    \r\n    SELECT Statement;\r\n\r\nI remember that the last select statement is mandatory in order to make this request succeed. Don&#39;t remember why though.\r\nYou might consider using **PreparedStatement** instead as well. lots of advantages ! \r\n\r\nFarid","title":"Efficient way to do batch INSERTS with JDBC","body":"<p>How about using the INSERT ALL statement ?</p>\n\n<pre><code>INSERT ALL\n\nINTO table_name VALUES ()\n\nINTO table_name VALUES ()\n\n...\n\nSELECT Statement;\n</code></pre>\n\n<p>I remember that the last select statement is mandatory in order to make this request succeed. Don't remember why though.\nYou might consider using <strong>PreparedStatement</strong> instead as well. lots of advantages ! </p>\n\n<p>Farid</p>\n"},{"tags":[],"owner":{"account_id":655229,"reputation":1,"user_id":462864,"display_name":"Mickey"},"down_vote_count":8,"up_vote_count":1,"is_accepted":false,"score":-7,"last_activity_date":1285853536,"creation_date":1285853536,"answer_id":3830986,"question_id":3784197,"body_markdown":"Using PreparedStatements will be MUCH slower than Statements if you have low iterations. To gain a performance benefit from using a PrepareStatement over a statement, you need to be using it in a loop where iterations are at least 50 or higher.","title":"Efficient way to do batch INSERTS with JDBC","body":"<p>Using PreparedStatements will be MUCH slower than Statements if you have low iterations. To gain a performance benefit from using a PrepareStatement over a statement, you need to be using it in a loop where iterations are at least 50 or higher.</p>\n"},{"tags":[],"owner":{"account_id":1565359,"reputation":51,"user_id":1454294,"display_name":"user1454294"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1379496576,"creation_date":1379496576,"answer_id":18868577,"question_id":3784197,"body_markdown":"You can use addBatch and executeBatch for batch insert in java See the Example : [Batch Insert In Java][1]\r\n\r\n\r\n  [1]: http://www.visionsdeveloper.com/blog/page/batch-insert-jsp-java.jsp","title":"Efficient way to do batch INSERTS with JDBC","body":"<p>You can use addBatch and executeBatch for batch insert in java See the Example : <a href=\"http://www.visionsdeveloper.com/blog/page/batch-insert-jsp-java.jsp\" rel=\"nofollow\">Batch Insert In Java</a></p>\n"},{"tags":[],"owner":{"account_id":192003,"reputation":30422,"user_id":432903,"accept_rate":64,"display_name":"prayagupa"},"down_vote_count":0,"up_vote_count":59,"is_accepted":false,"score":59,"last_activity_date":1544989227,"creation_date":1489375217,"answer_id":42756134,"question_id":3784197,"body_markdown":"Though the question asks **inserting efficiently to Oracle using JDBC**, I&#39;m currently playing with DB2 (On IBM mainframe), conceptually inserting would be similar so thought it might be helpful to see my metrics between\r\n \r\n* inserting one record at a time\r\n\r\n* inserting a batch of records (very efficient)\r\n\r\n\r\nHere go the metrics\r\n\r\n**1) Inserting one record at a time**\r\n---------------------------------------\r\n\r\n    public void writeWithCompileQuery(int records) {\r\n        PreparedStatement statement;\r\n\r\n        try {\r\n            Connection connection = getDatabaseConnection();\r\n            connection.setAutoCommit(true);\r\n\r\n            String compiledQuery = &quot;INSERT INTO TESTDB.EMPLOYEE(EMPNO, EMPNM, DEPT, RANK, USERNAME)&quot; +\r\n                    &quot; VALUES&quot; + &quot;(?, ?, ?, ?, ?)&quot;;\r\n            statement = connection.prepareStatement(compiledQuery);\r\n\r\n            long start = System.currentTimeMillis();\r\n\r\n            for(int index = 1; index &lt; records; index++) {\r\n                statement.setInt(1, index);\r\n                statement.setString(2, &quot;emp number-&quot;+index);\r\n                statement.setInt(3, index);\r\n                statement.setInt(4, index);\r\n                statement.setString(5, &quot;username&quot;);\r\n\r\n                long startInternal = System.currentTimeMillis();\r\n                statement.executeUpdate();\r\n                System.out.println(&quot;each transaction time taken = &quot; + (System.currentTimeMillis() - startInternal) + &quot; ms&quot;);\r\n            }\r\n\r\n            long end = System.currentTimeMillis();\r\n            System.out.println(&quot;total time taken = &quot; + (end - start) + &quot; ms&quot;);\r\n            System.out.println(&quot;avg total time taken = &quot; + (end - start)/ records + &quot; ms&quot;);\r\n\r\n            statement.close();\r\n            connection.close();\r\n\r\n        } catch (SQLException ex) {\r\n            System.err.println(&quot;SQLException information&quot;);\r\n            while (ex != null) {\r\n                System.err.println(&quot;Error msg: &quot; + ex.getMessage());\r\n                ex = ex.getNextException();\r\n            }\r\n        }\r\n    }\r\n\r\nThe metrics for 100 transactions :  \r\n\r\n    each transaction time taken = 123 ms\r\n    each transaction time taken = 53 ms\r\n    each transaction time taken = 48 ms\r\n    each transaction time taken = 48 ms\r\n    each transaction time taken = 49 ms\r\n    each transaction time taken = 49 ms\r\n    ...\r\n    ..\r\n    .\r\n    each transaction time taken = 49 ms\r\n    each transaction time taken = 49 ms\r\n    total time taken = 4935 ms\r\n    avg total time taken = 49 ms\r\n    \r\nThe first transaction is taking around `120-150ms` which is for [the query parse](https://stackoverflow.com/a/25454679/432903) and then execution, the subsequent transactions are only taking around `50ms`. (Which is still high, but my database is on a different server(I need to troubleshoot the network))\r\n\r\n\r\n**2) With insertion in a batch (efficient one)** - achieved by `preparedStatement.executeBatch()`\r\n----------------------------------------------------------------\r\n\r\n    public int[] writeInABatchWithCompiledQuery(int records) {\r\n        PreparedStatement preparedStatement;\r\n\r\n        try {\r\n            Connection connection = getDatabaseConnection();\r\n            connection.setAutoCommit(true);\r\n\r\n            String compiledQuery = &quot;INSERT INTO TESTDB.EMPLOYEE(EMPNO, EMPNM, DEPT, RANK, USERNAME)&quot; +\r\n                    &quot; VALUES&quot; + &quot;(?, ?, ?, ?, ?)&quot;;\r\n            preparedStatement = connection.prepareStatement(compiledQuery);\r\n\r\n            for(int index = 1; index &lt;= records; index++) {\r\n                preparedStatement.setInt(1, index);\r\n                preparedStatement.setString(2, &quot;empo number-&quot;+index);\r\n                preparedStatement.setInt(3, index+100);\r\n                preparedStatement.setInt(4, index+200);\r\n                preparedStatement.setString(5, &quot;usernames&quot;);\r\n                preparedStatement.addBatch();\r\n            }\r\n\r\n            long start = System.currentTimeMillis();\r\n            int[] inserted = preparedStatement.executeBatch();\r\n            long end = System.currentTimeMillis();\r\n\r\n            System.out.println(&quot;total time taken to insert the batch = &quot; + (end - start) + &quot; ms&quot;);\r\n            System.out.println(&quot;total time taken = &quot; + (end - start)/records + &quot; s&quot;);\r\n\r\n            preparedStatement.close();\r\n            connection.close();\r\n\r\n            return inserted;\r\n\r\n        } catch (SQLException ex) {\r\n            System.err.println(&quot;SQLException information&quot;);\r\n            while (ex != null) {\r\n                System.err.println(&quot;Error msg: &quot; + ex.getMessage());\r\n                ex = ex.getNextException();\r\n            }\r\n            throw new RuntimeException(&quot;Error&quot;);\r\n        }\r\n    }\r\n\r\nThe metrics for a batch of 100 transactions is \r\n\r\n    total time taken to insert the batch = 127 ms\r\n\r\nand for 1000 transactions\r\n\r\n    total time taken to insert the batch = 341 ms\r\n\r\nSo, making 100 transactions in `~5000ms` (with one trxn at a time) is decreased to `~150ms` (with a batch of 100 records).\r\n\r\nNOTE - Ignore my network which is super slow, but the metrics values would be relative.","title":"Efficient way to do batch INSERTS with JDBC","body":"<p>Though the question asks <strong>inserting efficiently to Oracle using JDBC</strong>, I'm currently playing with DB2 (On IBM mainframe), conceptually inserting would be similar so thought it might be helpful to see my metrics between</p>\n\n<ul>\n<li><p>inserting one record at a time</p></li>\n<li><p>inserting a batch of records (very efficient)</p></li>\n</ul>\n\n<p>Here go the metrics</p>\n\n<h2><strong>1) Inserting one record at a time</strong></h2>\n\n<pre><code>public void writeWithCompileQuery(int records) {\n    PreparedStatement statement;\n\n    try {\n        Connection connection = getDatabaseConnection();\n        connection.setAutoCommit(true);\n\n        String compiledQuery = \"INSERT INTO TESTDB.EMPLOYEE(EMPNO, EMPNM, DEPT, RANK, USERNAME)\" +\n                \" VALUES\" + \"(?, ?, ?, ?, ?)\";\n        statement = connection.prepareStatement(compiledQuery);\n\n        long start = System.currentTimeMillis();\n\n        for(int index = 1; index &lt; records; index++) {\n            statement.setInt(1, index);\n            statement.setString(2, \"emp number-\"+index);\n            statement.setInt(3, index);\n            statement.setInt(4, index);\n            statement.setString(5, \"username\");\n\n            long startInternal = System.currentTimeMillis();\n            statement.executeUpdate();\n            System.out.println(\"each transaction time taken = \" + (System.currentTimeMillis() - startInternal) + \" ms\");\n        }\n\n        long end = System.currentTimeMillis();\n        System.out.println(\"total time taken = \" + (end - start) + \" ms\");\n        System.out.println(\"avg total time taken = \" + (end - start)/ records + \" ms\");\n\n        statement.close();\n        connection.close();\n\n    } catch (SQLException ex) {\n        System.err.println(\"SQLException information\");\n        while (ex != null) {\n            System.err.println(\"Error msg: \" + ex.getMessage());\n            ex = ex.getNextException();\n        }\n    }\n}\n</code></pre>\n\n<p>The metrics for 100 transactions :  </p>\n\n<pre><code>each transaction time taken = 123 ms\neach transaction time taken = 53 ms\neach transaction time taken = 48 ms\neach transaction time taken = 48 ms\neach transaction time taken = 49 ms\neach transaction time taken = 49 ms\n...\n..\n.\neach transaction time taken = 49 ms\neach transaction time taken = 49 ms\ntotal time taken = 4935 ms\navg total time taken = 49 ms\n</code></pre>\n\n<p>The first transaction is taking around <code>120-150ms</code> which is for <a href=\"https://stackoverflow.com/a/25454679/432903\">the query parse</a> and then execution, the subsequent transactions are only taking around <code>50ms</code>. (Which is still high, but my database is on a different server(I need to troubleshoot the network))</p>\n\n<h2><strong>2) With insertion in a batch (efficient one)</strong> - achieved by <code>preparedStatement.executeBatch()</code></h2>\n\n<pre><code>public int[] writeInABatchWithCompiledQuery(int records) {\n    PreparedStatement preparedStatement;\n\n    try {\n        Connection connection = getDatabaseConnection();\n        connection.setAutoCommit(true);\n\n        String compiledQuery = \"INSERT INTO TESTDB.EMPLOYEE(EMPNO, EMPNM, DEPT, RANK, USERNAME)\" +\n                \" VALUES\" + \"(?, ?, ?, ?, ?)\";\n        preparedStatement = connection.prepareStatement(compiledQuery);\n\n        for(int index = 1; index &lt;= records; index++) {\n            preparedStatement.setInt(1, index);\n            preparedStatement.setString(2, \"empo number-\"+index);\n            preparedStatement.setInt(3, index+100);\n            preparedStatement.setInt(4, index+200);\n            preparedStatement.setString(5, \"usernames\");\n            preparedStatement.addBatch();\n        }\n\n        long start = System.currentTimeMillis();\n        int[] inserted = preparedStatement.executeBatch();\n        long end = System.currentTimeMillis();\n\n        System.out.println(\"total time taken to insert the batch = \" + (end - start) + \" ms\");\n        System.out.println(\"total time taken = \" + (end - start)/records + \" s\");\n\n        preparedStatement.close();\n        connection.close();\n\n        return inserted;\n\n    } catch (SQLException ex) {\n        System.err.println(\"SQLException information\");\n        while (ex != null) {\n            System.err.println(\"Error msg: \" + ex.getMessage());\n            ex = ex.getNextException();\n        }\n        throw new RuntimeException(\"Error\");\n    }\n}\n</code></pre>\n\n<p>The metrics for a batch of 100 transactions is </p>\n\n<pre><code>total time taken to insert the batch = 127 ms\n</code></pre>\n\n<p>and for 1000 transactions</p>\n\n<pre><code>total time taken to insert the batch = 341 ms\n</code></pre>\n\n<p>So, making 100 transactions in <code>~5000ms</code> (with one trxn at a time) is decreased to <code>~150ms</code> (with a batch of 100 records).</p>\n\n<p>NOTE - Ignore my network which is super slow, but the metrics values would be relative.</p>\n"},{"tags":[],"owner":{"account_id":3877534,"reputation":51,"user_id":3211098,"display_name":"user3211098"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542198841,"creation_date":1542198841,"answer_id":53300372,"question_id":3784197,"body_markdown":"In my code I have no direct access to the &#39;preparedStatement&#39; so I cannot use batch, I just pass it the query and a list of parameters. The trick however is to create a variable length insert statement, and a LinkedList of parameters. The effect is the same as the top example, with variable parameter input length.See below (error checking omitted).\r\nAssuming &#39;myTable&#39; has 3 updatable fields: f1, f2 and f3\r\n\r\n\r\n    String []args={&quot;A&quot;,&quot;B&quot;,&quot;C&quot;, &quot;X&quot;,&quot;Y&quot;,&quot;Z&quot; }; // etc, input list of triplets\r\n    final String QUERY=&quot;INSERT INTO [myTable] (f1,f2,f3) values &quot;;\r\n    LinkedList params=new LinkedList();\r\n    String comma=&quot;&quot;;\r\n    StringBuilder q=QUERY;\r\n    for(int nl=0; nl&lt; args.length; nl+=3 ) { // args is a list of triplets values\r\n        params.add(args[nl]);\r\n    \tparams.add(args[nl+1]);\r\n    \tparams.add(args[nl+2]);\r\n    \tq.append(comma+&quot;(?,?,?)&quot;);\r\n    \tcomma=&quot;,&quot;;\r\n    }      \r\n    int nr=insertIntoDB(q, params);\r\n\r\nin my DBInterface class I have:\r\n\r\n    int insertIntoDB(String query, LinkedList &lt;String&gt;params) {\r\n    \tpreparedUPDStmt = connectionSQL.prepareStatement(query);\r\n        int n=1;\r\n    \tfor(String x:params) {\r\n    \t\tpreparedUPDStmt.setString(n++, x);\r\n    \t}\r\n    \tint updates=preparedUPDStmt.executeUpdate();\r\n    \treturn updates;\r\n    }\r\n\r\n\r\n","title":"Efficient way to do batch INSERTS with JDBC","body":"<p>In my code I have no direct access to the 'preparedStatement' so I cannot use batch, I just pass it the query and a list of parameters. The trick however is to create a variable length insert statement, and a LinkedList of parameters. The effect is the same as the top example, with variable parameter input length.See below (error checking omitted).\nAssuming 'myTable' has 3 updatable fields: f1, f2 and f3</p>\n\n<pre><code>String []args={\"A\",\"B\",\"C\", \"X\",\"Y\",\"Z\" }; // etc, input list of triplets\nfinal String QUERY=\"INSERT INTO [myTable] (f1,f2,f3) values \";\nLinkedList params=new LinkedList();\nString comma=\"\";\nStringBuilder q=QUERY;\nfor(int nl=0; nl&lt; args.length; nl+=3 ) { // args is a list of triplets values\n    params.add(args[nl]);\n    params.add(args[nl+1]);\n    params.add(args[nl+2]);\n    q.append(comma+\"(?,?,?)\");\n    comma=\",\";\n}      \nint nr=insertIntoDB(q, params);\n</code></pre>\n\n<p>in my DBInterface class I have:</p>\n\n<pre><code>int insertIntoDB(String query, LinkedList &lt;String&gt;params) {\n    preparedUPDStmt = connectionSQL.prepareStatement(query);\n    int n=1;\n    for(String x:params) {\n        preparedUPDStmt.setString(n++, x);\n    }\n    int updates=preparedUPDStmt.executeUpdate();\n    return updates;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3972910,"reputation":1306,"user_id":3276980,"accept_rate":88,"display_name":"Alex Stanovsky"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1553954544,"creation_date":1553954544,"answer_id":55432216,"question_id":3784197,"body_markdown":"You can use this `rewriteBatchedStatements` parameter to make the batch insert even faster.\r\n\r\nyou can read here about the param: https://stackoverflow.com/questions/26307760/mysql-and-jdbc-with-rewritebatchedstatements-true","title":"Efficient way to do batch INSERTS with JDBC","body":"<p>You can use this <code>rewriteBatchedStatements</code> parameter to make the batch insert even faster.</p>\n\n<p>you can read here about the param: <a href=\"https://stackoverflow.com/questions/26307760/mysql-and-jdbc-with-rewritebatchedstatements-true\">MySQL and JDBC with rewriteBatchedStatements=true</a></p>\n"},{"tags":[],"owner":{"account_id":19220039,"reputation":49,"user_id":14044083,"display_name":"TomCV"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1612894824,"creation_date":1612894214,"answer_id":66124648,"question_id":3784197,"body_markdown":"SQLite: The above answers are all correct. For SQLite, it is a little bit different. Nothing really helps, even to put it in a batch is (sometimes) not improving performance. In that case, try to disable auto-commit and commit by hand after you are done (Warning! When multiple connections write at the same time, you can clash with these operations)\r\n\r\n    // connect(), yourList and compiledQuery you have to implement/define beforehand\r\n    try (Connection conn = connect()) {\r\n         conn.setAutoCommit(false);\r\n         preparedStatement pstmt = conn.prepareStatement(compiledQuery);\r\n         for(Object o : yourList){\r\n            pstmt.setString(o.toString());\r\n            pstmt.executeUpdate();\r\n            pstmt.getGeneratedKeys(); //if you need the generated keys\r\n         }\r\n         pstmt.close();\r\n         conn.commit();\r\n\r\n    }\r\n","title":"Efficient way to do batch INSERTS with JDBC","body":"<p>SQLite: The above answers are all correct. For SQLite, it is a little bit different. Nothing really helps, even to put it in a batch is (sometimes) not improving performance. In that case, try to disable auto-commit and commit by hand after you are done (Warning! When multiple connections write at the same time, you can clash with these operations)</p>\n<pre><code>// connect(), yourList and compiledQuery you have to implement/define beforehand\ntry (Connection conn = connect()) {\n     conn.setAutoCommit(false);\n     preparedStatement pstmt = conn.prepareStatement(compiledQuery);\n     for(Object o : yourList){\n        pstmt.setString(o.toString());\n        pstmt.executeUpdate();\n        pstmt.getGeneratedKeys(); //if you need the generated keys\n     }\n     pstmt.close();\n     conn.commit();\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10937847,"reputation":456,"user_id":8038849,"display_name":"Sulaymon Hursanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627312165,"creation_date":1627312165,"answer_id":68532311,"question_id":3784197,"body_markdown":"**if you use jdbcTemplate then:** \r\n\r\n    import org.springframework.jdbc.core.JdbcTemplate;\r\n    import org.springframework.jdbc.core.BatchPreparedStatementSetter;\r\n    \r\n        public int[] batchInsert(List&lt;Book&gt; books) {\r\n    \r\n            return this.jdbcTemplate.batchUpdate(\r\n                &quot;insert into books (name, price) values(?,?)&quot;,\r\n                new BatchPreparedStatementSetter() {\r\n    \r\n                    public void setValues(PreparedStatement ps, int i) throws SQLException {\r\n                        ps.setString(1, books.get(i).getName());\r\n                        ps.setBigDecimal(2, books.get(i).getPrice());\r\n                    }\r\n    \r\n                    public int getBatchSize() {\r\n                        return books.size();\r\n                    }\r\n    \r\n                });\r\n        }\r\n\r\n**or with more advanced configuration**\r\n\r\n\r\n      import org.springframework.jdbc.core.JdbcTemplate;\r\n      import org.springframework.jdbc.core.ParameterizedPreparedStatementSetter;\r\n\r\n        public int[][] batchInsert(List&lt;Book&gt; books, int batchSize) {\r\n    \r\n            int[][] updateCounts = jdbcTemplate.batchUpdate(\r\n                    &quot;insert into books (name, price) values(?,?)&quot;,\r\n                    books,\r\n                    batchSize,\r\n                    new ParameterizedPreparedStatementSetter&lt;Book&gt;() {\r\n                        public void setValues(PreparedStatement ps, Book argument) \r\n                            throws SQLException {\r\n                            ps.setString(1, argument.getName());\r\n                            ps.setBigDecimal(2, argument.getPrice());\r\n                        }\r\n                    });\r\n            return updateCounts;\r\n    \r\n        }\r\n\r\n\r\n**link to [source][1]**\r\n\r\n\r\n  [1]: https://mkyong.com/spring/spring-jdbctemplate-batchupdate-example/","title":"Efficient way to do batch INSERTS with JDBC","body":"<p><strong>if you use jdbcTemplate then:</strong></p>\n<pre><code>import org.springframework.jdbc.core.JdbcTemplate;\nimport org.springframework.jdbc.core.BatchPreparedStatementSetter;\n\n    public int[] batchInsert(List&lt;Book&gt; books) {\n\n        return this.jdbcTemplate.batchUpdate(\n            &quot;insert into books (name, price) values(?,?)&quot;,\n            new BatchPreparedStatementSetter() {\n\n                public void setValues(PreparedStatement ps, int i) throws SQLException {\n                    ps.setString(1, books.get(i).getName());\n                    ps.setBigDecimal(2, books.get(i).getPrice());\n                }\n\n                public int getBatchSize() {\n                    return books.size();\n                }\n\n            });\n    }\n</code></pre>\n<p><strong>or with more advanced configuration</strong></p>\n<pre><code>  import org.springframework.jdbc.core.JdbcTemplate;\n  import org.springframework.jdbc.core.ParameterizedPreparedStatementSetter;\n\n    public int[][] batchInsert(List&lt;Book&gt; books, int batchSize) {\n\n        int[][] updateCounts = jdbcTemplate.batchUpdate(\n                &quot;insert into books (name, price) values(?,?)&quot;,\n                books,\n                batchSize,\n                new ParameterizedPreparedStatementSetter&lt;Book&gt;() {\n                    public void setValues(PreparedStatement ps, Book argument) \n                        throws SQLException {\n                        ps.setString(1, argument.getName());\n                        ps.setBigDecimal(2, argument.getPrice());\n                    }\n                });\n        return updateCounts;\n\n    }\n</code></pre>\n<p><strong>link to <a href=\"https://mkyong.com/spring/spring-jdbctemplate-batchupdate-example/\" rel=\"nofollow noreferrer\">source</a></strong></p>\n"},{"tags":[],"owner":{"account_id":16192032,"reputation":1,"user_id":11690514,"display_name":"Corpse"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683173242,"creation_date":1683172214,"answer_id":76169474,"question_id":3784197,"body_markdown":"The following is a &quot;Old school&quot; variation of the INSERT ALL method.\r\n\r\ninstead of MANY sql statements:\r\n\r\n    insert into MY_TABLE (Field1, FIeld1,....) values (row1.v1,row1.v2...);\r\n    insert into MY_TABLE (Field1, FIeld1,....) values (row2.v1,row2.v2...);\r\n    ...\r\n    (many)\r\n    ...\r\n\r\nconsider using ONE statement...\r\n\r\n    insert into MY_TABLE(Field1, FIeld1,....)\r\n    Select row1.v1,row1.v2..  from dual\r\n    union all\r\n    Select row2.v1,row2.v2..  from dual\r\n    union all\r\n    ...\r\n\r\nTypically I batch every 50 insert statements into one \r\n\r\nAlso don&#39;t forget to turn off auto commit and manually commit after every 500 statements. If I am batching 50 statements in to one, then I commit every 100 statements.\r\n\r\nWhere do the numbers 50, 100 and 500 come from... I pulled them out of the air. \r\nI found you can optimize the numbers for your particular DB and data, but in the long run optimizing the numbers is normally not worth the effort as using the above numbers is a god enough performance increase.\r\n\r\nSorry, I don&#39;t have performance increase value examples at hand.\r\n\r\nobviously there are variations to the above method:\r\n 1.  putting the unions into a WITH clause (Oracle only)\r\n 2.  creating customized data array objects in the DB and setting all the rows as an array into a sql statement using the &quot;select * from TABLE()&quot; function to translate the array into data source for the sql select. (again only works on oracle... and only worth the effort if you bulk load to the same table regularly as you also have to register the oracle type in the jdbc driver.) \r\n\r\nThe downside is you need to &quot;generate&quot; the &quot;UNION&quot; portion depending on how many rows you are importing.\r\neg., if your batch size is 50 and you have 53 records, the first iteration needs an sql with 50 rows &#39;union&#39;ed, and the second iteration with 3 rows &#39;union&#39;ed.\r\n\r\nNote: If using the newer INSERT ALL, people report it fails if trying to do more then 5000 rows at a time. There is also a limitation to the number of columns (1000?)...but why have a table that big?\r\n\r\nAlways try to keep the number of &quot;uncommited&quot; rows to a reasonable amount. (again different db config and hardware determine this) As a rule of thumb keeping less then 5000 tends to be reasonable.\r\nAttempting to have tens millions of uncommitted rows is possible (I have done this) ... but does dramatically consume database resources and hence effect performance.","title":"Efficient way to do batch INSERTS with JDBC","body":"<p>The following is a &quot;Old school&quot; variation of the INSERT ALL method.</p>\n<p>instead of MANY sql statements:</p>\n<pre><code>insert into MY_TABLE (Field1, FIeld1,....) values (row1.v1,row1.v2...);\ninsert into MY_TABLE (Field1, FIeld1,....) values (row2.v1,row2.v2...);\n...\n(many)\n...\n</code></pre>\n<p>consider using ONE statement...</p>\n<pre><code>insert into MY_TABLE(Field1, FIeld1,....)\nSelect row1.v1,row1.v2..  from dual\nunion all\nSelect row2.v1,row2.v2..  from dual\nunion all\n...\n</code></pre>\n<p>Typically I batch every 50 insert statements into one</p>\n<p>Also don't forget to turn off auto commit and manually commit after every 500 statements. If I am batching 50 statements in to one, then I commit every 100 statements.</p>\n<p>Where do the numbers 50, 100 and 500 come from... I pulled them out of the air.\nI found you can optimize the numbers for your particular DB and data, but in the long run optimizing the numbers is normally not worth the effort as using the above numbers is a god enough performance increase.</p>\n<p>Sorry, I don't have performance increase value examples at hand.</p>\n<p>obviously there are variations to the above method:</p>\n<ol>\n<li>putting the unions into a WITH clause (Oracle only)</li>\n<li>creating customized data array objects in the DB and setting all the rows as an array into a sql statement using the &quot;select * from TABLE()&quot; function to translate the array into data source for the sql select. (again only works on oracle... and only worth the effort if you bulk load to the same table regularly as you also have to register the oracle type in the jdbc driver.)</li>\n</ol>\n<p>The downside is you need to &quot;generate&quot; the &quot;UNION&quot; portion depending on how many rows you are importing.\neg., if your batch size is 50 and you have 53 records, the first iteration needs an sql with 50 rows 'union'ed, and the second iteration with 3 rows 'union'ed.</p>\n<p>Note: If using the newer INSERT ALL, people report it fails if trying to do more then 5000 rows at a time. There is also a limitation to the number of columns (1000?)...but why have a table that big?</p>\n<p>Always try to keep the number of &quot;uncommited&quot; rows to a reasonable amount. (again different db config and hardware determine this) As a rule of thumb keeping less then 5000 tends to be reasonable.\nAttempting to have tens millions of uncommitted rows is possible (I have done this) ... but does dramatically consume database resources and hence effect performance.</p>\n"}],"owner":{"account_id":72237,"reputation":1799,"user_id":208659,"accept_rate":62,"display_name":"Aayush Puri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209470,"favorite_count":0,"down_vote_count":0,"up_vote_count":88,"answer_count":12,"score":88,"last_activity_date":1683173242,"creation_date":1285302556,"question_id":3784197,"body_markdown":"In my app I need to do a lot of INSERTS. Its a Java app and I am using plain JDBC to execute the queries. The DB being Oracle. I have enabled batching though, so it saves me network latencies to execute queries. But the queries execute serially as separate INSERTs:\r\n\r\n    insert into some_table (col1, col2) values (val1, val2)\r\n    insert into some_table (col1, col2) values (val3, val4)\r\n    insert into some_table (col1, col2) values (val5, val6)\r\n\r\nI was wondering if the following form of INSERT might be more efficient:\r\n\r\n    insert into some_table (col1, col2) values (val1, val2), (val3, val4), (val5, val6)\r\n\r\ni.e. collapsing multiple INSERTs into one.\r\n\r\nAny other tips for making batch INSERTs faster?\r\n","title":"Efficient way to do batch INSERTS with JDBC","body":"<p>In my app I need to do a lot of INSERTS. Its a Java app and I am using plain JDBC to execute the queries. The DB being Oracle. I have enabled batching though, so it saves me network latencies to execute queries. But the queries execute serially as separate INSERTs:</p>\n\n<pre><code>insert into some_table (col1, col2) values (val1, val2)\ninsert into some_table (col1, col2) values (val3, val4)\ninsert into some_table (col1, col2) values (val5, val6)\n</code></pre>\n\n<p>I was wondering if the following form of INSERT might be more efficient:</p>\n\n<pre><code>insert into some_table (col1, col2) values (val1, val2), (val3, val4), (val5, val6)\n</code></pre>\n\n<p>i.e. collapsing multiple INSERTs into one.</p>\n\n<p>Any other tips for making batch INSERTs faster?</p>\n"},{"tags":["java","grammar"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1683172933,"post_id":76169499,"comment_id":134326584,"body_markdown":"What do you mean by &quot;it doesn&#39;t look so good&quot;? What kind of code &quot;looks good&quot; to you?","body":"What do you mean by &quot;it doesn&#39;t look so good&quot;? What kind of code &quot;looks good&quot; to you?"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1683172945,"post_id":76169499,"comment_id":134326587,"body_markdown":"I&#39;m not sure what you mean, covariant return types are allowed.  Can you elaborate further? https://stackoverflow.com/questions/1882584/what-is-a-covariant-return-type","body":"I&#39;m not sure what you mean, covariant return types are allowed.  Can you elaborate further? <a href=\"https://stackoverflow.com/questions/1882584/what-is-a-covariant-return-type\" title=\"what is a covariant return type\">stackoverflow.com/questions/1882584/&hellip;</a>"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1683173027,"post_id":76169499,"comment_id":134326591,"body_markdown":"Why do you need such a method anyway? This might be an [XY problem](https://xyproblem.info/).","body":"Why do you need such a method anyway? This might be an <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">XY problem</a>."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":2,"creation_date":1683173699,"post_id":76169499,"comment_id":134326655,"body_markdown":"`new SubClass1().returnThis()` seems a really complex way of doing `new SubClass()`.  The result of both of these are the same. Can you provide more details about what the original problem is that you are trying to solve with this?","body":"<code>new SubClass1().returnThis()</code> seems a really complex way of doing <code>new SubClass()</code>.  The result of both of these are the same. Can you provide more details about what the original problem is that you are trying to solve with this?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1683178756,"post_id":76169499,"comment_id":134327186,"body_markdown":"The other way to do this involves generics, so if that isn’t sufficiently beautiful for you, you’re out of luck.","body":"The other way to do this involves generics, so if that isn’t sufficiently beautiful for you, you’re out of luck."},{"owner":{"account_id":22637746,"reputation":1,"user_id":16814341,"display_name":"yesman"},"score":0,"creation_date":1683182919,"post_id":76169499,"comment_id":134327896,"body_markdown":"I have a builder class and many other classes that extend that builder class. I have to override all methods defined in the super builder class to achieve a covariant return because they return the builder instance as a supertype. I want to know if there&#39;s any solution for this so I don&#39;t have to rewrite every method in superclass again.","body":"I have a builder class and many other classes that extend that builder class. I have to override all methods defined in the super builder class to achieve a covariant return because they return the builder instance as a supertype. I want to know if there&#39;s any solution for this so I don&#39;t have to rewrite every method in superclass again."}],"owner":{"account_id":22637746,"reputation":1,"user_id":16814341,"display_name":"yesman"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683172806,"creation_date":1683172806,"question_id":76169499,"body_markdown":"\r\n```\r\n    public class Main {\r\n        public static class SuperClass {\r\n            public SuperClass returnThis () {\r\n                return this;\r\n            }\r\n        }\r\n        \r\n        public static class SubClass1 extends SuperClass {\r\n            @Override\r\n            public SubClass1 returnThis () {\r\n                return this;\r\n            }\r\n        }\r\n        \r\n        public static class SubClass2 extends SuperClass {\r\n            @Override\r\n            public SubClass2 returnThis () {\r\n                return this;\r\n            }\r\n        }\r\n        \r\n        public static void main(String[] args) {\r\n            SubClass1 sub1 = new SubClass1().returnThis();\r\n            SubClass2 sub2 = new SubClass2().returnThis();\r\n        }\r\n    }\r\n```\r\n\r\nAs you can see in the example I need to define returnThis() method to get a subtype instance. Is there any beautiful way to make it so that I don&#39;t have to create returnThis() for every subclass?\r\n\r\n\r\n```\r\n    public class Main {\r\n        public static class SuperClass&lt;T extends SuperClass&lt;?&gt;&gt; {\r\n            public T returnThis () {\r\n                return (T)this;\r\n            }\r\n        }\r\n        \r\n        public static class SubClass1 extends SuperClass&lt;SubClass1&gt; {\r\n        }\r\n        \r\n        public static class SubClass2 extends SuperClass&lt;SubClass2&gt; {\r\n        }\r\n        \r\n        public static void main(String[] args) {\r\n            SubClass1 sub1 = new SubClass1().returnThis();\r\n            SubClass2 sub2 = new SubClass2().returnThis();\r\n        }\r\n    }\r\n```\r\n\r\nI also tried using generic but it doesn&#39;t look so good","title":"Is there a way to implicitly cast as a subtype in the method that returns itself?","body":"<pre><code>    public class Main {\n        public static class SuperClass {\n            public SuperClass returnThis () {\n                return this;\n            }\n        }\n        \n        public static class SubClass1 extends SuperClass {\n            @Override\n            public SubClass1 returnThis () {\n                return this;\n            }\n        }\n        \n        public static class SubClass2 extends SuperClass {\n            @Override\n            public SubClass2 returnThis () {\n                return this;\n            }\n        }\n        \n        public static void main(String[] args) {\n            SubClass1 sub1 = new SubClass1().returnThis();\n            SubClass2 sub2 = new SubClass2().returnThis();\n        }\n    }\n</code></pre>\n<p>As you can see in the example I need to define returnThis() method to get a subtype instance. Is there any beautiful way to make it so that I don't have to create returnThis() for every subclass?</p>\n<pre><code>    public class Main {\n        public static class SuperClass&lt;T extends SuperClass&lt;?&gt;&gt; {\n            public T returnThis () {\n                return (T)this;\n            }\n        }\n        \n        public static class SubClass1 extends SuperClass&lt;SubClass1&gt; {\n        }\n        \n        public static class SubClass2 extends SuperClass&lt;SubClass2&gt; {\n        }\n        \n        public static void main(String[] args) {\n            SubClass1 sub1 = new SubClass1().returnThis();\n            SubClass2 sub2 = new SubClass2().returnThis();\n        }\n    }\n</code></pre>\n<p>I also tried using generic but it doesn't look so good</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":0,"creation_date":1683170879,"post_id":76169380,"comment_id":134326397,"body_markdown":"If you not define name then it will match parameter name as path name. So in your case `caseId` but you have variable `id`. So you have to define name as its different from parameter name `String caseId`.","body":"If you not define name then it will match parameter name as path name. So in your case <code>caseId</code> but you have variable <code>id</code>. So you have to define name as its different from parameter name <code>String caseId</code>."},{"owner":{"account_id":4308682,"reputation":12613,"user_id":3520404,"display_name":"saran3h"},"score":0,"creation_date":1683171302,"post_id":76169380,"comment_id":134326440,"body_markdown":"I tried the same as well and it still doesn&#39;t work. This used to work well earlier.","body":"I tried the same as well and it still doesn&#39;t work. This used to work well earlier."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1683171359,"post_id":76169380,"comment_id":134326445,"body_markdown":"I’m doubtful it ever worked. There’s no way for Spring to know to bind the variable to a different name.","body":"I’m doubtful it ever worked. There’s no way for Spring to know to bind the variable to a different name."},{"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":0,"creation_date":1683171578,"post_id":76169380,"comment_id":134326465,"body_markdown":"Please provide your request mapping for `getCaseAuditRecords`. As @AbhijitSarkar said there is not way spring know that it needs to bind with diffferent name. So if name are different then you must specify as argument in `@PathVariable`","body":"Please provide your request mapping for <code>getCaseAuditRecords</code>. As @AbhijitSarkar said there is not way spring know that it needs to bind with diffferent name. So if name are different then you must specify as argument in <code>@PathVariable</code>"},{"owner":{"account_id":4308682,"reputation":12613,"user_id":3520404,"display_name":"saran3h"},"score":0,"creation_date":1683171620,"post_id":76169380,"comment_id":134326470,"body_markdown":"Double checked. Updated the code and it won&#39;t work when I deploy the code on server.\nUnless I explicitly define the name, it won&#39;t work.","body":"Double checked. Updated the code and it won&#39;t work when I deploy the code on server. Unless I explicitly define the name, it won&#39;t work."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":1,"creation_date":1683174422,"post_id":76169380,"comment_id":134326720,"body_markdown":"I vaguely remember one of the newer Java versions introduced a change that enabled Spring to deduce the annotation name from the variable name. What Java version are you on?","body":"I vaguely remember one of the newer Java versions introduced a change that enabled Spring to deduce the annotation name from the variable name. What Java version are you on?"}],"owner":{"account_id":4308682,"reputation":12613,"user_id":3520404,"display_name":"saran3h"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683171729,"creation_date":1683170438,"question_id":76169380,"body_markdown":"Is any one else facing any issues with implicitly defined @PathVariable parameters?\r\n\r\nBelow code used to work properly but not anymore:\r\n\r\n```\r\n@GetMapping(&quot;/{caseId}/audit&quot;)\r\ngetCaseAuditRecords(@PathVariable String caseId)\r\n```\r\n\r\nI intermittently keep getting this error in some of my applications:\r\n\r\n`{ &quot;errorCode&quot;: &quot;BAD_REQUEST&quot;, &quot;description&quot;: &quot;Name for argument of type [java.lang.String] not specified, and parameter name information not found in class file either.&quot; }`\r\n\r\n\r\nIt seems the server is unable to resolve the implicit path variable and I had to explicitly define the parameter name:\r\n\r\n`getCaseAuditRecords(@PathVariable(&quot;caseId&quot;) String caseId)`\r\n\r\nI have recently upgraded the Spring Boot version (2.1.1 -&gt; 2.7.5) after which this issue has started appearing. Couldn&#39;t find anything in the change logs for this change in behaviour. Their is one blog that talks about the same issue but doesn&#39;t exactly pinpoints the root cause:\r\nhttps://salonegupta.wordpress.com/2014/04/01/spring-annotations-and-javac-debug-mode/#more-5\r\n\r\nAnyone else facing this issue lately?","title":"Why SpringBoot @PathParam and @RequestParam stopped working if the parameter name is not explicitly defined?","body":"<p>Is any one else facing any issues with implicitly defined @PathVariable parameters?</p>\n<p>Below code used to work properly but not anymore:</p>\n<pre><code>@GetMapping(&quot;/{caseId}/audit&quot;)\ngetCaseAuditRecords(@PathVariable String caseId)\n</code></pre>\n<p>I intermittently keep getting this error in some of my applications:</p>\n<p><code>{ &quot;errorCode&quot;: &quot;BAD_REQUEST&quot;, &quot;description&quot;: &quot;Name for argument of type [java.lang.String] not specified, and parameter name information not found in class file either.&quot; }</code></p>\n<p>It seems the server is unable to resolve the implicit path variable and I had to explicitly define the parameter name:</p>\n<p><code>getCaseAuditRecords(@PathVariable(&quot;caseId&quot;) String caseId)</code></p>\n<p>I have recently upgraded the Spring Boot version (2.1.1 -&gt; 2.7.5) after which this issue has started appearing. Couldn't find anything in the change logs for this change in behaviour. Their is one blog that talks about the same issue but doesn't exactly pinpoints the root cause:\n<a href=\"https://salonegupta.wordpress.com/2014/04/01/spring-annotations-and-javac-debug-mode/#more-5\" rel=\"nofollow noreferrer\">https://salonegupta.wordpress.com/2014/04/01/spring-annotations-and-javac-debug-mode/#more-5</a></p>\n<p>Anyone else facing this issue lately?</p>\n"},{"tags":["python","java","encryption","aes"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1683034394,"post_id":76154850,"comment_id":134302273,"body_markdown":"Are you sure it was actually UTF-8? Your Java code uses `getBytes()`, which makes it use the platform default character set, which is not necessarily UTF-8 (at least, not in Java 17 or earlier, especially on Windows). You should always be explicit (e.g. `getBytes(StandardCharsets.UTF_8)`.","body":"Are you sure it was actually UTF-8? Your Java code uses <code>getBytes()</code>, which makes it use the platform default character set, which is not necessarily UTF-8 (at least, not in Java 17 or earlier, especially on Windows). You should always be explicit (e.g. <code>getBytes(StandardCharsets.UTF_8)</code>."},{"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"score":0,"creation_date":1683051765,"post_id":76154850,"comment_id":134306451,"body_markdown":"In Java the cipher is initiated with &quot;AES&quot; only that means ECB mode. Just change the mode in python from CBC to ECB mode and you should be fine.","body":"In Java the cipher is initiated with &quot;AES&quot; only that means ECB mode. Just change the mode in python from CBC to ECB mode and you should be fine."}],"answers":[{"tags":[],"owner":{"account_id":24183670,"reputation":27,"user_id":18143951,"display_name":"Nikita"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683170268,"creation_date":1683170268,"answer_id":76169364,"question_id":76154850,"body_markdown":"Michael Fehr solution\r\n\r\n&gt; In Java the cipher is initiated with &quot;AES&quot; only that means ECB mode. Just change the mode in python from CBC to ECB mode and you should be fine\r\n\r\nWorked perfectly. After changing mode from CBC to ECB all worked well","title":"Ecnrypt in Java - decrypt in python. AES","body":"<p>Michael Fehr solution</p>\n<blockquote>\n<p>In Java the cipher is initiated with &quot;AES&quot; only that means ECB mode. Just change the mode in python from CBC to ECB mode and you should be fine</p>\n</blockquote>\n<p>Worked perfectly. After changing mode from CBC to ECB all worked well</p>\n"}],"owner":{"account_id":24183670,"reputation":27,"user_id":18143951,"display_name":"Nikita"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1683170268,"creation_date":1683030624,"question_id":76154850,"body_markdown":"I&#39;m trying to decrypt some info from Java code\r\n\r\nJava encryption: \r\n```java\r\npublic static String encrypt(String value) {\r\n    Key key = generateKey();\r\n    byte[] encValue = new byte[0];\r\n    Cipher c;\r\n    try {\r\n        c = Cipher.getInstance(&quot;AES&quot;);\r\n        System.out.println(c.getBlockSize());\r\n        c.init(Cipher.ENCRYPT_MODE, key);\r\n        encValue = c.doFinal(value.getBytes());\r\n    } catch (NoSuchAlgorithmException | InvalidKeyException | NoSuchPaddingException | BadPaddingException | IllegalBlockSizeException e) {\r\n        log.error(&quot;Can&#39;t encrypt&quot;, e);\r\n    }\r\n    return Base64.getEncoder().encodeToString(encValue);\r\n}\r\n```\r\n\r\nHere is  the Python decryption code: \r\n\r\n```python\r\ndef decrypt_aes(self, encrypted_str):\r\n    _iv = &quot;\\x00&quot; * AES.block_size\r\n    generator = AES.new(str.encode(self.key), AES.MODE_CBC, self._iv.encode())\r\n    encrypted_str_bytes = base64.b64decode(encrypted_str)\r\n    recovery = generator.decrypt(encrypted_str_bytes)\r\n    return unpad(recovery, block_size=AES.block_size).decode()\r\n```\r\n\r\nWith small encrypted text, all is OK (such as cV6aNGlm3u2sDW+z74y0uA==), but with long encrypted data, it always results in an error like this:\r\n\r\n```none\r\nTraceback (most recent call last):\r\n  File &quot;\\utility\\Crypt.py&quot;, line 25, in &lt;module&gt;\r\n    a = c.decrypt_aes(st)\r\n        ^^^^^^^^^^^^^^^^^\r\n  File &quot;\\utility\\Crypt.py&quot;, line 18, in decrypt_aes\r\n    return unpad(recovery, block_size=AES.block_size).decode()\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nUnicodeDecodeError: &#39;utf-8&#39; codec can&#39;t decode byte 0xdb in position 2: invalid continuation byte\r\n```\r\n\r\nWhat am I doing wrong? \r\n\r\np.s. even if i&#39;m trying to decode like [:16] bytes  of encrypted same error","title":"Ecnrypt in Java - decrypt in python. AES","body":"<p>I'm trying to decrypt some info from Java code</p>\n<p>Java encryption:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String encrypt(String value) {\n    Key key = generateKey();\n    byte[] encValue = new byte[0];\n    Cipher c;\n    try {\n        c = Cipher.getInstance(&quot;AES&quot;);\n        System.out.println(c.getBlockSize());\n        c.init(Cipher.ENCRYPT_MODE, key);\n        encValue = c.doFinal(value.getBytes());\n    } catch (NoSuchAlgorithmException | InvalidKeyException | NoSuchPaddingException | BadPaddingException | IllegalBlockSizeException e) {\n        log.error(&quot;Can't encrypt&quot;, e);\n    }\n    return Base64.getEncoder().encodeToString(encValue);\n}\n</code></pre>\n<p>Here is  the Python decryption code:</p>\n<pre class=\"lang-py prettyprint-override\"><code>def decrypt_aes(self, encrypted_str):\n    _iv = &quot;\\x00&quot; * AES.block_size\n    generator = AES.new(str.encode(self.key), AES.MODE_CBC, self._iv.encode())\n    encrypted_str_bytes = base64.b64decode(encrypted_str)\n    recovery = generator.decrypt(encrypted_str_bytes)\n    return unpad(recovery, block_size=AES.block_size).decode()\n</code></pre>\n<p>With small encrypted text, all is OK (such as cV6aNGlm3u2sDW+z74y0uA==), but with long encrypted data, it always results in an error like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Traceback (most recent call last):\n  File &quot;\\utility\\Crypt.py&quot;, line 25, in &lt;module&gt;\n    a = c.decrypt_aes(st)\n        ^^^^^^^^^^^^^^^^^\n  File &quot;\\utility\\Crypt.py&quot;, line 18, in decrypt_aes\n    return unpad(recovery, block_size=AES.block_size).decode()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nUnicodeDecodeError: 'utf-8' codec can't decode byte 0xdb in position 2: invalid continuation byte\n</code></pre>\n<p>What am I doing wrong?</p>\n<p>p.s. even if i'm trying to decode like [:16] bytes  of encrypted same error</p>\n"},{"tags":["java","redis","spring-data","spring-data-redis"],"answers":[{"tags":[],"owner":{"account_id":351571,"reputation":295,"user_id":688127,"accept_rate":25,"display_name":"funtoos"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1510627668,"creation_date":1510626244,"answer_id":47276698,"question_id":46056087,"body_markdown":"For CacheNames, try\r\n \r\n    @Autowired CacheManager cacheManager     \r\n    cacheManager.getCacheNames().forEach(cacheM-&gt; {System.out.println(cacheM);}); \r\n","title":"Spring Redis issue: GetAllCacheNames from redis cache is not working with RedisCacheManager","body":"<p>For CacheNames, try</p>\n\n<pre><code>@Autowired CacheManager cacheManager     \ncacheManager.getCacheNames().forEach(cacheM-&gt; {System.out.println(cacheM);}); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":14446626,"reputation":2578,"user_id":10435528,"display_name":"devatherock"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683169635,"creation_date":1683169635,"answer_id":76169328,"question_id":46056087,"body_markdown":"`funtoos`&#39;s answer above does show the correct way to display the cache names. For the cache names to be returned by the `CacheManager.getCacheNames()` method, they need to exist. With redis as the cache, just using the `@Cacheable` annotation on a method, like `@Cacheable(&quot;testCache&quot;)`, doesn&#39;t create a cache config named `testCache` till the annotated method is accessed the first time. As that method most probably wouldn&#39;t be accessed till bean initialization is complete, that cache name wouldn&#39;t be returned by the `getCacheNames()` method at initialization time. So, to address the original use case(setting different expiration times for different caches), the simplest way would be to define all the cache names and their corresponding expiration times(and any other config that needs to be customized) using a `RedisCacheManagerBuilderCustomizer` bean. \r\n\r\nUpdated, working version of the config from the question, with a `RedisCacheManagerBuilderCustomizer` bean replacing the `CacheManager` bean along with a logger to log cache names(and some replacements for since deprecated methods), is below:\r\n\r\n```java\r\npackage io.github.devatherock.config;\r\n\r\nimport java.time.Duration;\r\n\r\nimport javax.annotation.PostConstruct;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.autoconfigure.cache.RedisCacheManagerBuilderCustomizer;\r\nimport org.springframework.cache.CacheManager;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.data.redis.cache.RedisCacheConfiguration;\r\nimport org.springframework.data.redis.cache.RedisCacheWriter;\r\nimport org.springframework.data.redis.connection.RedisStandaloneConfiguration;\r\nimport org.springframework.data.redis.connection.jedis.JedisClientConfiguration;\r\nimport org.springframework.data.redis.connection.jedis.JedisConnectionFactory;\r\nimport org.springframework.data.redis.core.RedisTemplate;\r\nimport org.springframework.data.redis.serializer.StringRedisSerializer;\r\n\r\nimport lombok.extern.slf4j.Slf4j;\r\n\r\n@Configuration\r\npublic class RedisConfig {\r\n\r\n\t@Bean\r\n\tpublic JedisConnectionFactory jedisConnectionFactory() {\r\n\t\tRedisStandaloneConfiguration config = new RedisStandaloneConfiguration();\r\n\t\tconfig.setHostName(&quot;localhost&quot;);\r\n\t\tconfig.setPort(6379);\r\n\r\n\t\tJedisClientConfiguration clientConfig = JedisClientConfiguration\r\n\t\t\t\t.builder()\r\n\t\t\t\t.usePooling()\r\n\t\t\t\t.build();\r\n\r\n\t\treturn new JedisConnectionFactory(config, clientConfig);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic RedisTemplate&lt;Object, Object&gt; redisTemplate() {\r\n\t\tRedisTemplate&lt;Object, Object&gt; redisTemplate = new RedisTemplate&lt;Object, Object&gt;();\r\n\t\tredisTemplate.setConnectionFactory(jedisConnectionFactory());\r\n\t\tredisTemplate.setDefaultSerializer(new StringRedisSerializer());\r\n\r\n\t\treturn redisTemplate;\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic RedisCacheManagerBuilderCustomizer redisCacheManagerBuilderCustomizer() {\r\n\t    return (builder) -&gt; builder\r\n\t      .withCacheConfiguration(&quot;testCache&quot;,\r\n\t        RedisCacheConfiguration.defaultCacheConfig().entryTtl(Duration.ofSeconds(5)))\r\n\t      .withCacheConfiguration(&quot;messageCache&quot;,\r\n\t        RedisCacheConfiguration.defaultCacheConfig().entryTtl(Duration.ofMinutes(1000L)))\r\n\t      .cacheWriter(RedisCacheWriter.nonLockingRedisCacheWriter(jedisConnectionFactory()));\r\n\t}\r\n\t\r\n\t@Slf4j\r\n\t@Configuration\r\n\tpublic static class CacheNamesLogger {\r\n\t\t\r\n\t\t@Autowired\r\n\t\tprivate CacheManager cacheManager;\r\n\t\t\r\n\t\t@PostConstruct\r\n\t\tpublic void init() {\r\n\t\t\tcacheManager.getCacheNames().forEach(cacheName -&gt; {\r\n\t\t\t\tLOGGER.info(&quot;Cache: {}&quot;, cacheName);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nDuring app initialization time, the logger does log both the cache names correctly.\r\n\r\n```\r\n21:44:42.661 [main] INFO  i.g.d.c.RedisConfig$CacheNamesLogger - Cache: testCache\r\n21:44:42.662 [main] INFO  i.g.d.c.RedisConfig$CacheNamesLogger - Cache: messageCache\r\n``` \r\n\r\nThe complete application can be found on [github](https://github.com/devatherock/spring-boot-demo/tree/redis).","title":"Spring Redis issue: GetAllCacheNames from redis cache is not working with RedisCacheManager","body":"<p><code>funtoos</code>'s answer above does show the correct way to display the cache names. For the cache names to be returned by the <code>CacheManager.getCacheNames()</code> method, they need to exist. With redis as the cache, just using the <code>@Cacheable</code> annotation on a method, like <code>@Cacheable(&quot;testCache&quot;)</code>, doesn't create a cache config named <code>testCache</code> till the annotated method is accessed the first time. As that method most probably wouldn't be accessed till bean initialization is complete, that cache name wouldn't be returned by the <code>getCacheNames()</code> method at initialization time. So, to address the original use case(setting different expiration times for different caches), the simplest way would be to define all the cache names and their corresponding expiration times(and any other config that needs to be customized) using a <code>RedisCacheManagerBuilderCustomizer</code> bean.</p>\n<p>Updated, working version of the config from the question, with a <code>RedisCacheManagerBuilderCustomizer</code> bean replacing the <code>CacheManager</code> bean along with a logger to log cache names(and some replacements for since deprecated methods), is below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package io.github.devatherock.config;\n\nimport java.time.Duration;\n\nimport javax.annotation.PostConstruct;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.autoconfigure.cache.RedisCacheManagerBuilderCustomizer;\nimport org.springframework.cache.CacheManager;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.redis.cache.RedisCacheConfiguration;\nimport org.springframework.data.redis.cache.RedisCacheWriter;\nimport org.springframework.data.redis.connection.RedisStandaloneConfiguration;\nimport org.springframework.data.redis.connection.jedis.JedisClientConfiguration;\nimport org.springframework.data.redis.connection.jedis.JedisConnectionFactory;\nimport org.springframework.data.redis.core.RedisTemplate;\nimport org.springframework.data.redis.serializer.StringRedisSerializer;\n\nimport lombok.extern.slf4j.Slf4j;\n\n@Configuration\npublic class RedisConfig {\n\n    @Bean\n    public JedisConnectionFactory jedisConnectionFactory() {\n        RedisStandaloneConfiguration config = new RedisStandaloneConfiguration();\n        config.setHostName(&quot;localhost&quot;);\n        config.setPort(6379);\n\n        JedisClientConfiguration clientConfig = JedisClientConfiguration\n                .builder()\n                .usePooling()\n                .build();\n\n        return new JedisConnectionFactory(config, clientConfig);\n    }\n\n    @Bean\n    public RedisTemplate&lt;Object, Object&gt; redisTemplate() {\n        RedisTemplate&lt;Object, Object&gt; redisTemplate = new RedisTemplate&lt;Object, Object&gt;();\n        redisTemplate.setConnectionFactory(jedisConnectionFactory());\n        redisTemplate.setDefaultSerializer(new StringRedisSerializer());\n\n        return redisTemplate;\n    }\n    \n    @Bean\n    public RedisCacheManagerBuilderCustomizer redisCacheManagerBuilderCustomizer() {\n        return (builder) -&gt; builder\n          .withCacheConfiguration(&quot;testCache&quot;,\n            RedisCacheConfiguration.defaultCacheConfig().entryTtl(Duration.ofSeconds(5)))\n          .withCacheConfiguration(&quot;messageCache&quot;,\n            RedisCacheConfiguration.defaultCacheConfig().entryTtl(Duration.ofMinutes(1000L)))\n          .cacheWriter(RedisCacheWriter.nonLockingRedisCacheWriter(jedisConnectionFactory()));\n    }\n    \n    @Slf4j\n    @Configuration\n    public static class CacheNamesLogger {\n        \n        @Autowired\n        private CacheManager cacheManager;\n        \n        @PostConstruct\n        public void init() {\n            cacheManager.getCacheNames().forEach(cacheName -&gt; {\n                LOGGER.info(&quot;Cache: {}&quot;, cacheName);\n            });\n        }\n    }\n}\n</code></pre>\n<p>During app initialization time, the logger does log both the cache names correctly.</p>\n<pre><code>21:44:42.661 [main] INFO  i.g.d.c.RedisConfig$CacheNamesLogger - Cache: testCache\n21:44:42.662 [main] INFO  i.g.d.c.RedisConfig$CacheNamesLogger - Cache: messageCache\n</code></pre>\n<p>The complete application can be found on <a href=\"https://github.com/devatherock/spring-boot-demo/tree/redis\" rel=\"nofollow noreferrer\">github</a>.</p>\n"}],"owner":{"account_id":5576554,"reputation":239,"user_id":4419774,"accept_rate":71,"display_name":"atul tripathi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1067,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76169328,"answer_count":2,"score":0,"last_activity_date":1683169635,"creation_date":1504617724,"question_id":46056087,"body_markdown":"Hi below is my redis cache configuration, and I am trying to get all the cachename stored on redis server using:\r\n \r\n redisCacheManager.getCacheNames() \r\n\r\nbut it doesnot gives me the cacheName present in my redis server. \r\n\r\nI prefix cacheName using Cachable annotation: @Cacheable(&quot;cacheName&quot;)\r\n\r\nI have 2 questions here?\r\n\r\n1) Why I am not able to get the cacheNames which i stored in redis server.\r\n2)How can i dynamically create the prefix cacheName since i don&#39;t want to write seperate method for all of them?\r\n\r\n\r\n    @Bean\r\n    JedisConnectionFactory jedisConnectionFactory() {\r\n        JedisConnectionFactory factory = new JedisConnectionFactory();\r\n        factory.setHostName(redisHost);\r\n        factory.setPort(redisPort);\r\n        factory.setUsePool(true);\r\n        return factory;\r\n    }\r\n\r\n    @Bean\r\n    RedisTemplate&lt;Object, Object&gt; redisTemplate() {\r\n        RedisTemplate&lt;Object, Object&gt; redisTemplate = new RedisTemplate&lt;Object, Object&gt;();\r\n        redisTemplate.setConnectionFactory(jedisConnectionFactory());\r\n        redisTemplate.setDefaultSerializer(new StringRedisSerializer());\r\n       // redisTemplate.setHashValueSerializer(new Jackson2JsonRedisSerializer&lt;&gt;(Object.class));\r\n        return redisTemplate;\r\n    }\r\n\r\n    @Bean\r\n    CacheManager cacheManager() {\r\n        // configuration to set the time to expire in seconds, messageCache is name of method\r\n        Map&lt;String,Long&gt; cacheMap = new HashMap&lt;String, Long&gt;();\r\n        //cacheMap is the name of the map where we put all the method names for which we want time to expire.\r\n        RedisCacheManager redisCacheManager = new RedisCacheManager(redisTemplate());\r\n        redisCacheManager.setUsePrefix(true);\r\n        //redisCacheManager.setExpires(cacheMap);\r\n        return redisCacheManager;\r\n    }","title":"Spring Redis issue: GetAllCacheNames from redis cache is not working with RedisCacheManager","body":"<p>Hi below is my redis cache configuration, and I am trying to get all the cachename stored on redis server using:</p>\n\n<p>redisCacheManager.getCacheNames() </p>\n\n<p>but it doesnot gives me the cacheName present in my redis server. </p>\n\n<p>I prefix cacheName using Cachable annotation: @Cacheable(\"cacheName\")</p>\n\n<p>I have 2 questions here?</p>\n\n<p>1) Why I am not able to get the cacheNames which i stored in redis server.\n2)How can i dynamically create the prefix cacheName since i don't want to write seperate method for all of them?</p>\n\n<pre><code>@Bean\nJedisConnectionFactory jedisConnectionFactory() {\n    JedisConnectionFactory factory = new JedisConnectionFactory();\n    factory.setHostName(redisHost);\n    factory.setPort(redisPort);\n    factory.setUsePool(true);\n    return factory;\n}\n\n@Bean\nRedisTemplate&lt;Object, Object&gt; redisTemplate() {\n    RedisTemplate&lt;Object, Object&gt; redisTemplate = new RedisTemplate&lt;Object, Object&gt;();\n    redisTemplate.setConnectionFactory(jedisConnectionFactory());\n    redisTemplate.setDefaultSerializer(new StringRedisSerializer());\n   // redisTemplate.setHashValueSerializer(new Jackson2JsonRedisSerializer&lt;&gt;(Object.class));\n    return redisTemplate;\n}\n\n@Bean\nCacheManager cacheManager() {\n    // configuration to set the time to expire in seconds, messageCache is name of method\n    Map&lt;String,Long&gt; cacheMap = new HashMap&lt;String, Long&gt;();\n    //cacheMap is the name of the map where we put all the method names for which we want time to expire.\n    RedisCacheManager redisCacheManager = new RedisCacheManager(redisTemplate());\n    redisCacheManager.setUsePrefix(true);\n    //redisCacheManager.setExpires(cacheMap);\n    return redisCacheManager;\n}\n</code></pre>\n"},{"tags":["java","inheritance","abstract-class","multiple-inheritance"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1683085036,"post_id":76160259,"comment_id":134310802,"body_markdown":"[It is not useful to ask why something *isn&#39;t* in the language.](https://meta.stackoverflow.com/questions/293815/is-it-subjective-to-ask-about-why-something-wasnt-implemented-in-the-language). Why not just make both of them interfaces if you want to do this so badly?","body":"<a href=\"https://meta.stackoverflow.com/questions/293815/is-it-subjective-to-ask-about-why-something-wasnt-implemented-in-the-language\">It is not useful to ask why something <i>isn&#39;t</i> in the language.</a>. Why not just make both of them interfaces if you want to do this so badly?"},{"owner":{"account_id":27004123,"reputation":11,"user_id":20564907,"display_name":"Steve54"},"score":0,"creation_date":1683085127,"post_id":76160259,"comment_id":134310815,"body_markdown":"@Sweeper Thanks for clarification . I just want to know is there any other reason behind it !!","body":"@Sweeper Thanks for clarification . I just want to know is there any other reason behind it !!"},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1683085889,"post_id":76160259,"comment_id":134310879,"body_markdown":"A Java Interface has methods that are not implemented - these are _abstract_ methods. In fact, you can define something like this: `public Interface MyInterface { public abstract void doStuff(); }` .  So, you can define the `superclass1` and `superclass2` interfaces, you can extend them in the `superclass3` interface.  In fact, the Interface definition can also be like this: `public abstract Interface MyInterface { ... `. So, you have this feature that an abstract class with all abstract methods can be an interface and and allows multiple inheritance.","body":"A Java Interface has methods that are not implemented - these are <i>abstract</i> methods. In fact, you can define something like this: <code>public Interface MyInterface { public abstract void doStuff(); }</code> .  So, you can define the <code>superclass1</code> and <code>superclass2</code> interfaces, you can extend them in the <code>superclass3</code> interface.  In fact, the Interface definition can also be like this: <code>public abstract Interface MyInterface { ... </code>. So, you have this feature that an abstract class with all abstract methods can be an interface and and allows multiple inheritance."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1683086233,"post_id":76160259,"comment_id":134310904,"body_markdown":"@prasad_ the Java keyword is `interface`, not `Interface`, and while `abstract interface` is legal syntax, and `abstract` can be applied to methods on interfaces, using `abstract` makes no difference. The `abstract` keyword is redundant in these situations.","body":"@prasad_ the Java keyword is <code>interface</code>, not <code>Interface</code>, and while <code>abstract interface</code> is legal syntax, and <code>abstract</code> can be applied to methods on interfaces, using <code>abstract</code> makes no difference. The <code>abstract</code> keyword is redundant in these situations."},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1683086442,"post_id":76160259,"comment_id":134310923,"body_markdown":"@tgdavies _interface, not Interface_ - you are correct about the syntax.","body":"@tgdavies <i>interface, not Interface</i> - you are correct about the syntax."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1683089055,"post_id":76160259,"comment_id":134311148,"body_markdown":"If you search for &quot;[java] multiple inheritance&quot; you can find several questions with great answers like https://stackoverflow.com/questions/2515477/why-is-there-no-multiple-inheritance-in-java-but-implementing-multiple-interfac and https://stackoverflow.com/questions/995255/why-is-multiple-inheritance-not-allowed-in-java-or-c","body":"If you search for &quot;[java] multiple inheritance&quot; you can find several questions with great answers like <a href=\"https://stackoverflow.com/questions/2515477/why-is-there-no-multiple-inheritance-in-java-but-implementing-multiple-interfac\" title=\"why is there no multiple inheritance in java but implementing multiple interfac\">stackoverflow.com/questions/2515477/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/995255/why-is-multiple-inheritance-not-allowed-in-java-or-c\" title=\"why is multiple inheritance not allowed in java or c\">stackoverflow.com/questions/995255/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2067336,"reputation":2848,"user_id":1842599,"display_name":"Andrej Istomin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683092996,"creation_date":1683092996,"answer_id":76160776,"question_id":76160259,"body_markdown":"Well, answering your question &quot;why Java is not allowing it?&quot;: &quot;Java doesn’t support multiple inheritances in classes because it can lead to diamond problem and rather than providing some complex way to solve it, there are better ways through which we can achieve the same result as multiple inheritances.&quot; Read more [here][1]\r\n\r\nYou say, but my class contains only abstract methods, right? But how do you guarantee that it will not change in the future? What if you have 10 purely abstract classes and inherited 100 class out of them with all the combinations and then you decide to add a non-abstract method to one of them? What if your parent class is a library class, you do not even know who and how inherited it. To avoid this complications, Java says: if you need purely abstract class and multiple inheritance, just use interfaces. In the practice I never had a big problems with this limitation. Actually, another way around, I saw examples in C++ where multiple inheritance from classes led to a very complex solutions that are very hard to maintain.\r\n\r\n\r\n  [1]: https://www.digitalocean.com/community/tutorials/multiple-inheritance-in-java","title":"Can we achieve multiple inheritance using abstract classes with only abstract methods?","body":"<p>Well, answering your question &quot;why Java is not allowing it?&quot;: &quot;Java doesn’t support multiple inheritances in classes because it can lead to diamond problem and rather than providing some complex way to solve it, there are better ways through which we can achieve the same result as multiple inheritances.&quot; Read more <a href=\"https://www.digitalocean.com/community/tutorials/multiple-inheritance-in-java\" rel=\"nofollow noreferrer\">here</a></p>\n<p>You say, but my class contains only abstract methods, right? But how do you guarantee that it will not change in the future? What if you have 10 purely abstract classes and inherited 100 class out of them with all the combinations and then you decide to add a non-abstract method to one of them? What if your parent class is a library class, you do not even know who and how inherited it. To avoid this complications, Java says: if you need purely abstract class and multiple inheritance, just use interfaces. In the practice I never had a big problems with this limitation. Actually, another way around, I saw examples in C++ where multiple inheritance from classes led to a very complex solutions that are very hard to maintain.</p>\n"}],"owner":{"account_id":27004123,"reputation":11,"user_id":20564907,"display_name":"Steve54"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1683107289,"accepted_answer_id":76160776,"answer_count":1,"score":0,"last_activity_date":1683168979,"creation_date":1683084783,"question_id":76160259,"body_markdown":"We know that abstract class contains both abstract and non - abstract methods , so what if we have only abstract methods so that we can achieve **multiple inheritance** like interfaces.\r\n\r\nHere is the example:\r\n\r\n```\r\npublic abstract class superclass1 {\r\n \r\n   public abstract void func ( );\r\n\r\n}\r\n\r\npublic abstract class superclass2 {\r\n\r\n    public abstract void func ( );\r\n}\r\n\r\npublic class test extends superclass1 , superclass2 {\r\n\r\n    /* Code goes here */\r\n}\r\n```\r\n\r\nI know above code is not possible but why Java is not allowing it , because we define class body only after extending it just like interfaces and work correctly such that , so there will be no ambiguity and no problem.","title":"Can we achieve multiple inheritance using abstract classes with only abstract methods?","body":"<p>We know that abstract class contains both abstract and non - abstract methods , so what if we have only abstract methods so that we can achieve <strong>multiple inheritance</strong> like interfaces.</p>\n<p>Here is the example:</p>\n<pre><code>public abstract class superclass1 {\n \n   public abstract void func ( );\n\n}\n\npublic abstract class superclass2 {\n\n    public abstract void func ( );\n}\n\npublic class test extends superclass1 , superclass2 {\n\n    /* Code goes here */\n}\n</code></pre>\n<p>I know above code is not possible but why Java is not allowing it , because we define class body only after extending it just like interfaces and work correctly such that , so there will be no ambiguity and no problem.</p>\n"},{"tags":["java","android-studio","gradle","android-gradle-plugin","android-studio-3.0"],"comments":[{"owner":{"account_id":3665219,"reputation":791,"user_id":3053860,"accept_rate":75,"display_name":"Axay Prajapati"},"score":1,"creation_date":1663078379,"post_id":73179429,"comment_id":130151537,"body_markdown":"hey, same issue here. Did you find any solution?","body":"hey, same issue here. Did you find any solution?"}],"answers":[{"tags":[],"owner":{"account_id":10493876,"reputation":27,"user_id":7734800,"display_name":"Sheraz Hussain Turi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667244890,"creation_date":1667244890,"answer_id":74268307,"question_id":73179429,"body_markdown":"I was facing the same issue. I just changed the version of these two lines.\r\nReplace these two lines with yours and sync the project. \r\n\r\n\r\nBuild.gradle (Project)\r\n 1. classpath &#39;com.android.tools.build:gradle:**7.0.4**&#39;\r\n\r\nGradle.wrapper.properties \r\n\r\n 2. distributionUrl=https\\://services.gradle.org/distributions/gradle-**7.5.1**-bin.zip\r\n\r\nI am using:\r\n\r\nAndroid Studio Dolphin | 2021.3.1 Patch 1\r\nBuild #AI-213.7172.25.2113.9123335, built on September 30, 2022\r\n ","title":"Your project may be using a third-party plugin which is not compatible with the other plugins in the project","body":"<p>I was facing the same issue. I just changed the version of these two lines.\nReplace these two lines with yours and sync the project.</p>\n<p>Build.gradle (Project)</p>\n<ol>\n<li>classpath 'com.android.tools.build:gradle:<strong>7.0.4</strong>'</li>\n</ol>\n<p>Gradle.wrapper.properties</p>\n<ol start=\"2\">\n<li>distributionUrl=https://services.gradle.org/distributions/gradle-<strong>7.5.1</strong>-bin.zip</li>\n</ol>\n<p>I am using:</p>\n<p>Android Studio Dolphin | 2021.3.1 Patch 1\nBuild #AI-213.7172.25.2113.9123335, built on September 30, 2022</p>\n"},{"tags":[],"owner":{"account_id":19311658,"reputation":345,"user_id":14117210,"display_name":"Julsapargi Nursam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683168837,"creation_date":1683168837,"answer_id":76169282,"question_id":73179429,"body_markdown":"I experienced the same thing after I tried several things, the result is still the same.\r\n\r\nIt turned out that I had to update the version of the Firebase Performance library.\r\n\r\ncom.google.firebase:perf-plugin:1.3.5 to version 1.4.2","title":"Your project may be using a third-party plugin which is not compatible with the other plugins in the project","body":"<p>I experienced the same thing after I tried several things, the result is still the same.</p>\n<p>It turned out that I had to update the version of the Firebase Performance library.</p>\n<p>com.google.firebase:perf-plugin:1.3.5 to version 1.4.2</p>\n"}],"owner":{"account_id":15417207,"reputation":395,"user_id":11122289,"display_name":"Sarwar Sateer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2558,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1683168837,"creation_date":1659219773,"question_id":73179429,"body_markdown":"The problem might be similar or looks duplicated but it doesn&#39;t. I Tried every possible solution on Stackoverflow and YouTube but I couldn&#39;t solve the issue with my project. I have already released the app to Google Play Store as well. but Now facing this problem.\r\n\r\nError:\r\n\r\n    Your project may be using a third-party plugin that is not compatible with the other \r\n    plugins in the project or the version of Gradle requested by the project\r\n\r\n[![Gradle Error Explaination][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Evama.png\r\n\r\n\r\nThe things I have tried:\r\n\r\n* I removed all the Gradle files and downloaded them again.\r\n\r\n* I compare all the libs and repositories with my other projects which are working with no issue. (but have not solved this project&#39;s problem).\r\n\r\n* I had recently added a module to add Native ads on this app and removed that too. (Not had any positive impact).\r\n\r\n* Several times I restarted the project and rebuilt the project.  (result: nothing) I tried anything I could. the problem still exists.\r\n\r\n","title":"Your project may be using a third-party plugin which is not compatible with the other plugins in the project","body":"<p>The problem might be similar or looks duplicated but it doesn't. I Tried every possible solution on Stackoverflow and YouTube but I couldn't solve the issue with my project. I have already released the app to Google Play Store as well. but Now facing this problem.</p>\n<p>Error:</p>\n<pre><code>Your project may be using a third-party plugin that is not compatible with the other \nplugins in the project or the version of Gradle requested by the project\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Evama.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Evama.png\" alt=\"Gradle Error Explaination\" /></a></p>\n<p>The things I have tried:</p>\n<ul>\n<li><p>I removed all the Gradle files and downloaded them again.</p>\n</li>\n<li><p>I compare all the libs and repositories with my other projects which are working with no issue. (but have not solved this project's problem).</p>\n</li>\n<li><p>I had recently added a module to add Native ads on this app and removed that too. (Not had any positive impact).</p>\n</li>\n<li><p>Several times I restarted the project and rebuilt the project.  (result: nothing) I tried anything I could. the problem still exists.</p>\n</li>\n</ul>\n"},{"tags":["java","spring-security","jackson","objectmapper","spring-authorization-server"],"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1680493256,"post_id":75915309,"comment_id":133902271,"body_markdown":"I am curious: why migrate from Keycloak to spring authorization-server? Doesn&#39;t the first have so many more features?","body":"I am curious: why migrate from Keycloak to spring authorization-server? Doesn&#39;t the first have so many more features?"},{"owner":{"account_id":3507372,"reputation":368,"user_id":2932614,"display_name":"Torsten Krah"},"score":1,"creation_date":1680503082,"post_id":75915309,"comment_id":133903217,"body_markdown":"Smaller footprint, better customizable if you already have a spring stack running, less stuff you may not need -  I do use spring-auth-server too instead of that keycloak one which I just don&#39;t need.","body":"Smaller footprint, better customizable if you already have a spring stack running, less stuff you may not need -  I do use spring-auth-server too instead of that keycloak one which I just don&#39;t need."},{"owner":{"account_id":8900088,"reputation":4307,"user_id":6643803,"accept_rate":81,"display_name":"akuma8"},"score":0,"creation_date":1680555514,"post_id":75915309,"comment_id":133915477,"body_markdown":"@ch4mp Torsten Krah summerized the reasons I am migrating to Spring Authorization Server, I want to customize as I wish my authorization server. Also Keycloak does not provide an opaque token and for some clients I need that kind of tokens.","body":"@ch4mp Torsten Krah summerized the reasons I am migrating to Spring Authorization Server, I want to customize as I wish my authorization server. Also Keycloak does not provide an opaque token and for some clients I need that kind of tokens."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1680560370,"post_id":75915309,"comment_id":133916258,"body_markdown":"You can introspect JWTs if that&#39;s the matter (and Keycloak exposes an introspection endpoint). For the &quot;better customizable&quot;, I&#39;d be curious of what you couldn&#39;t do with Keycloak. &quot;Smaller footprint&quot;, maybe, at the cost of clients and user management UI (and so much configuration burdon)...","body":"You can introspect JWTs if that&#39;s the matter (and Keycloak exposes an introspection endpoint). For the &quot;better customizable&quot;, I&#39;d be curious of what you couldn&#39;t do with Keycloak. &quot;Smaller footprint&quot;, maybe, at the cost of clients and user management UI (and so much configuration burdon)..."},{"owner":{"account_id":8900088,"reputation":4307,"user_id":6643803,"accept_rate":81,"display_name":"akuma8"},"score":0,"creation_date":1680566805,"post_id":75915309,"comment_id":133916918,"body_markdown":"@ch4mp I simply don&#39;t want a JWT format even if I can introspect it, I need another format which we can&#39;t see its claims. Also my apps are deployed in the cloud and with Keycloak I have to provide a dedicated database and have to manage a full application. Migrating to Spring Authorization Server, with one dependency I can reuse one of the database of one application (and so limiting the number of required connexions). I don&#39;t really need the UI provided by Keycloak which prevent us to really understand what happens behind the scene","body":"@ch4mp I simply don&#39;t want a JWT format even if I can introspect it, I need another format which we can&#39;t see its claims. Also my apps are deployed in the cloud and with Keycloak I have to provide a dedicated database and have to manage a full application. Migrating to Spring Authorization Server, with one dependency I can reuse one of the database of one application (and so limiting the number of required connexions). I don&#39;t really need the UI provided by Keycloak which prevent us to really understand what happens behind the scene"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1680567960,"post_id":75915309,"comment_id":133917018,"body_markdown":"Can&#39;t opaque token claims be seen on introspection endpoint? Or is it hidden behind a firewall as well as user endpoint? If the aim is protecting tokens content from the &quot;outside&quot;, why not using the [BFF pattern](https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/bff) where the tokens don&#39;t leave your servers at all? Regarding DB, why couldn&#39;t you use one of your applications DB with Keycloak?","body":"Can&#39;t opaque token claims be seen on introspection endpoint? Or is it hidden behind a firewall as well as user endpoint? If the aim is protecting tokens content from the &quot;outside&quot;, why not using the <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/bff\" rel=\"nofollow noreferrer\">BFF pattern</a> where the tokens don&#39;t leave your servers at all? Regarding DB, why couldn&#39;t you use one of your applications DB with Keycloak?"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1680568156,"post_id":75915309,"comment_id":133917030,"body_markdown":"But I guess, all those are tradeoffs and partly opinions and I thank you for sharing yours. I think the most important grief I have against spring authorization server is it mobilises a lot of Spring security team energy, leaving much less for the security framework...","body":"But I guess, all those are tradeoffs and partly opinions and I thank you for sharing yours. I think the most important grief I have against spring authorization server is it mobilises a lot of Spring security team energy, leaving much less for the security framework..."},{"owner":{"account_id":8900088,"reputation":4307,"user_id":6643803,"accept_rate":81,"display_name":"akuma8"},"score":0,"creation_date":1680626452,"post_id":75915309,"comment_id":133928604,"body_markdown":"@ch4mp I can use the db of one application but that means increasing the number of db connections, what I want is to reduce the number of apps to manage and have fine grained control about users management. I  agree with you about the complexity of Spring Security, sometimes I ask myself what am I doing since it&#39;s not really trivial to understand what&#39;s going above all when we define multiple SecurityFilterChain. \nThank you for the link on BFF pattern","body":"@ch4mp I can use the db of one application but that means increasing the number of db connections, what I want is to reduce the number of apps to manage and have fine grained control about users management. I  agree with you about the complexity of Spring Security, sometimes I ask myself what am I doing since it&#39;s not really trivial to understand what&#39;s going above all when we define multiple SecurityFilterChain.  Thank you for the link on BFF pattern"}],"answers":[{"tags":[],"owner":{"account_id":14999839,"reputation":138,"user_id":10827862,"display_name":"smileis2333"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680511536,"creation_date":1680511536,"answer_id":75917563,"question_id":75915309,"body_markdown":"the &quot;java.util.Collections$UnmodifiableRandomAccessList&quot; type info in the json is not compatible with your \r\nSIMPLE_GRANTED_AUTHORITY_SET type reference, so there is a easy way to prcess.\r\n\r\nuse the type reference that already registed in CoreJackson2Module, and then convert it to the type actually required.\r\n\r\n```\r\n        TypeReference&lt;List&lt;SimpleGrantedAuthority&gt;&gt; listType = new TypeReference&lt;&gt;() {\r\n        };\r\n\r\n        List&lt;SimpleGrantedAuthority&gt; authoritiesList = mapper.convertValue(jsonNode.get(&quot;authorities&quot;), listType);\r\n        Set&lt;? extends SimpleGrantedAuthority&gt; authorities = authoritiesList.stream().collect(Collectors.toSet());\r\n```","title":"Spring authorization Sever custom UserDetails JSON deserialization issue","body":"<p>the &quot;java.util.Collections$UnmodifiableRandomAccessList&quot; type info in the json is not compatible with your\nSIMPLE_GRANTED_AUTHORITY_SET type reference, so there is a easy way to prcess.</p>\n<p>use the type reference that already registed in CoreJackson2Module, and then convert it to the type actually required.</p>\n<pre><code>        TypeReference&lt;List&lt;SimpleGrantedAuthority&gt;&gt; listType = new TypeReference&lt;&gt;() {\n        };\n\n        List&lt;SimpleGrantedAuthority&gt; authoritiesList = mapper.convertValue(jsonNode.get(&quot;authorities&quot;), listType);\n        Set&lt;? extends SimpleGrantedAuthority&gt; authorities = authoritiesList.stream().collect(Collectors.toSet());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8900088,"reputation":4307,"user_id":6643803,"accept_rate":81,"display_name":"akuma8"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680890906,"creation_date":1680566938,"answer_id":75924576,"question_id":75915309,"body_markdown":"I solved my problem by manually extracting the roles from the JSON, it&#39;s not the better way to go but I can go ahead. \r\n\r\n**EDIT** \r\n\r\nA better altenative is to avoid using ImmutableCollection or provide a dedicated mixin.\r\nI changed all codes that created an ImmutableCollection like `...stream().toList()` to `...stream().collect(Collectors.toList())`","title":"Spring authorization Sever custom UserDetails JSON deserialization issue","body":"<p>I solved my problem by manually extracting the roles from the JSON, it's not the better way to go but I can go ahead.</p>\n<p><strong>EDIT</strong></p>\n<p>A better altenative is to avoid using ImmutableCollection or provide a dedicated mixin.\nI changed all codes that created an ImmutableCollection like <code>...stream().toList()</code> to <code>...stream().collect(Collectors.toList())</code></p>\n"},{"tags":[],"owner":{"account_id":22706665,"reputation":1,"user_id":16873265,"display_name":"JohnDG89"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683168669,"creation_date":1683168414,"answer_id":76169255,"question_id":75915309,"body_markdown":"You should use a service implemented &quot;UserDetailsManager&quot; instead of &quot;UserDetails&quot;. \r\nYou need override &quot;loadUserByUsername&quot; method:\r\n\r\n```java\r\n@Override\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n        Optional&lt;SecurityUser&gt; optional = userRepository.findByUsername(username);\r\n        if (!optional.isPresent()) {\r\n            throw new UsernameNotFoundException(&quot;User &#39;&quot; + username + &quot;&#39; not found&quot;);\r\n        }\r\n        SecurityUser user = optional.get();\r\n        Collection&lt;GrantedAuthority&gt; authorities = new HashSet&lt;&gt;();\r\n        user.getAuthorities().forEach(auth -&gt; authorities.add(new SimpleGrantedAuthority(auth.getAuthority())));\r\n\r\n        return new User(user.getUsername(), user.getPassword(), !user.isDisable(), !user.isExpired(),\r\n                !user.isCredentialsExpired(), !user.isLocked(), authorities);\r\n    }\r\n```\r\n\r\nSecurityUser is my custom Entity and User in return is &quot;org.springframework.security.core.userdetails.User&quot;\r\n\r\nHere is some of my custom Entity:\r\n```java\r\n@Entity\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Data\r\n@Builder\r\n@Table(name = &quot;users&quot;)\r\npublic class SecurityUser {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n\r\n    @NonNull\r\n    @Column(unique = true)\r\n    private String username;\r\n\r\n    @NonNull\r\n    private String password;\r\n\r\n    @Singular\r\n    @ManyToMany(cascade = CascadeType.MERGE, fetch = FetchType.EAGER)\r\n    @JoinTable(name = &quot;users_authorities&quot;, joinColumns = @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;authorities_id&quot;, referencedColumnName = &quot;id&quot;))\r\n    private Set&lt;Authority&gt; authorities;\r\n\r\n    @Builder.Default\r\n    private boolean expired = false;\r\n    @Builder.Default\r\n    private boolean locked = false;\r\n    @Builder.Default\r\n    private boolean credentialsExpired = false;\r\n    @Builder.Default\r\n    private boolean disable = false;\r\n}\r\n```","title":"Spring authorization Sever custom UserDetails JSON deserialization issue","body":"<p>You should use a service implemented &quot;UserDetailsManager&quot; instead of &quot;UserDetails&quot;.\nYou need override &quot;loadUserByUsername&quot; method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        Optional&lt;SecurityUser&gt; optional = userRepository.findByUsername(username);\n        if (!optional.isPresent()) {\n            throw new UsernameNotFoundException(&quot;User '&quot; + username + &quot;' not found&quot;);\n        }\n        SecurityUser user = optional.get();\n        Collection&lt;GrantedAuthority&gt; authorities = new HashSet&lt;&gt;();\n        user.getAuthorities().forEach(auth -&gt; authorities.add(new SimpleGrantedAuthority(auth.getAuthority())));\n\n        return new User(user.getUsername(), user.getPassword(), !user.isDisable(), !user.isExpired(),\n                !user.isCredentialsExpired(), !user.isLocked(), authorities);\n    }\n</code></pre>\n<p>SecurityUser is my custom Entity and User in return is &quot;org.springframework.security.core.userdetails.User&quot;</p>\n<p>Here is some of my custom Entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@NoArgsConstructor\n@AllArgsConstructor\n@Data\n@Builder\n@Table(name = &quot;users&quot;)\npublic class SecurityUser {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    @NonNull\n    @Column(unique = true)\n    private String username;\n\n    @NonNull\n    private String password;\n\n    @Singular\n    @ManyToMany(cascade = CascadeType.MERGE, fetch = FetchType.EAGER)\n    @JoinTable(name = &quot;users_authorities&quot;, joinColumns = @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;authorities_id&quot;, referencedColumnName = &quot;id&quot;))\n    private Set&lt;Authority&gt; authorities;\n\n    @Builder.Default\n    private boolean expired = false;\n    @Builder.Default\n    private boolean locked = false;\n    @Builder.Default\n    private boolean credentialsExpired = false;\n    @Builder.Default\n    private boolean disable = false;\n}\n</code></pre>\n"}],"owner":{"account_id":8900088,"reputation":4307,"user_id":6643803,"accept_rate":81,"display_name":"akuma8"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":690,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75924576,"answer_count":3,"score":0,"last_activity_date":1683168669,"creation_date":1680481513,"question_id":75915309,"body_markdown":"I am fighting against JSON deserialization for a while now by trying to migrate from Keycloak to Spring Authorization Server (I am still wonder if it&#39;s a good idea with all those issues). Anyway... \r\n\r\nFirstly trying to get an access token using the code grant type, I had that exception when using a CustomUserDetails \r\n```\r\nCaused by: java.lang.IllegalArgumentException: The class with com.company.user.CustomUserDetails and name of com.company.user.CustomUserDetails is not in the allowlist. If you believe this class is safe to deserialize, please provide an explicit mapping using Jackson annotations or by providing a Mixin. If the serialization is only done by a trusted source, you can also enable default typing. See https://github.com/spring-projects/spring-security/issues/4370 for details\r\n```\r\nI visited the link https://github.com/spring-projects/spring-security/issues/4370 but nothing really helpful. \r\n\r\nBased on the error message I defined this CustomUserDetailsMixin\r\n```\r\n@JsonTypeInfo(use = JsonTypeInfo.Id.CLASS, include = JsonTypeInfo.As.PROPERTY)\r\n@JsonDeserialize(using = CustomUserDetailsSerializer.class)\r\n@JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY, getterVisibility = JsonAutoDetect.Visibility.NONE,\r\n        isGetterVisibility = JsonAutoDetect.Visibility.NONE)\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic abstract class CustomUserDetailsMixin {\r\n}\r\n```\r\n\r\nAnd the `CustomUserDetailsSerializer`:\r\n\r\n```\r\npublic class CustomUserDetailsSerializer extends JsonDeserializer&lt;CustomUserDetails&gt; {\r\n    private static final TypeReference&lt;Set&lt;SimpleGrantedAuthority&gt;&gt; SIMPLE_GRANTED_AUTHORITY_SET = new TypeReference&lt;&gt;() {\r\n    };\r\n\r\n    @Override\r\n    public CustomUserDetails deserialize(JsonParser jp, DeserializationContext ctxt) throws IOException, JsonProcessingException {\r\n        ObjectMapper mapper = (ObjectMapper) jp.getCodec();\r\n        JsonNode jsonNode = mapper.readTree(jp);\r\n\r\n        //there is an issue here :\r\n        Set&lt;? extends GrantedAuthority&gt; authorities = mapper.convertValue(jsonNode.get(&quot;authorities&quot;), SIMPLE_GRANTED_AUTHORITY_SET);\r\n    }\r\n} \r\n```\r\nAnd registered it here:\r\n```\r\n@Configuration(proxyBeanMethods = false)\r\npublic class AuthorizationServerConfiguration {\r\n\r\n    @Bean \r\n    public OAuth2AuthorizationService oAuth2AuthorizationService(JdbcTemplate jdbcTemplate, RegisteredClientRepository registeredClientRepository) {\r\n        JdbcOAuth2AuthorizationService oAuth2AuthorizationService = new JdbcOAuth2AuthorizationService(jdbcTemplate, registeredClientRepository);\r\n        JdbcOAuth2AuthorizationService.OAuth2AuthorizationRowMapper rowMapper = new JdbcOAuth2AuthorizationService.OAuth2AuthorizationRowMapper(registeredClientRepository);\r\n        ClassLoader classLoader = JdbcOAuth2AuthorizationService.class.getClassLoader();\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        objectMapper.registerModules(new CoreJackson2Module());\r\n        objectMapper.registerModules(SecurityJackson2Modules.getModules(classLoader));\r\n        objectMapper.registerModule(new OAuth2AuthorizationServerJackson2Module());\r\n\r\n        //registering the mixin\r\n        objectMapper.addMixIn(CustomUserDetails.class, CustomUserDetailsMixin.class);\r\n\r\n        rowMapper.setObjectMapper(objectMapper);\r\n        oAuth2AuthorizationService.setAuthorizationRowMapper(rowMapper);\r\n        return oAuth2AuthorizationService;\r\n    }\r\n\r\n}\r\n```\r\nBut now I have another error:\r\n\r\n```\r\njava.lang.IllegalArgumentException: Could not resolve type id &#39;java.util.ImmutableCollections$ListN&#39; as a subtype of `java.util.Set&lt;org.springframework.security.core.authority.SimpleGrantedAuthority&gt;`: Not a subtype\r\n at [Source: UNKNOWN; byte offset: #UNKNOWN]\r\n\tat org.springframework.security.oauth2.server.authorization.JdbcOAuth2AuthorizationService$OAuth2AuthorizationRowMapper.parseMap(JdbcOAuth2AuthorizationService.java:467)\r\n```\r\nI took a look at the JSON saved in db by spring security and it looks like this: \r\n```\r\n{\r\n  &quot;@class&quot;: &quot;java.util.Collections$UnmodifiableMap&quot;,\r\n  &quot;java.security.Principal&quot;: {\r\n    &quot;@class&quot;: &quot;org.springframework.security.authentication.UsernamePasswordAuthenticationToken&quot;,\r\n    &quot;authorities&quot;: [\r\n      &quot;java.util.Collections$UnmodifiableRandomAccessList&quot;,\r\n      [\r\n        {\r\n          &quot;@class&quot;: &quot;org.springframework.security.core.authority.SimpleGrantedAuthority&quot;,\r\n          &quot;authority&quot;: &quot;ROLE_USER&quot;\r\n        }\r\n      ]\r\n    ],\r\n   }\r\n  ....\r\n}\r\n```\r\nThe question is how to solve that last error? ","title":"Spring authorization Sever custom UserDetails JSON deserialization issue","body":"<p>I am fighting against JSON deserialization for a while now by trying to migrate from Keycloak to Spring Authorization Server (I am still wonder if it's a good idea with all those issues). Anyway...</p>\n<p>Firstly trying to get an access token using the code grant type, I had that exception when using a CustomUserDetails</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: The class with com.company.user.CustomUserDetails and name of com.company.user.CustomUserDetails is not in the allowlist. If you believe this class is safe to deserialize, please provide an explicit mapping using Jackson annotations or by providing a Mixin. If the serialization is only done by a trusted source, you can also enable default typing. See https://github.com/spring-projects/spring-security/issues/4370 for details\n</code></pre>\n<p>I visited the link <a href=\"https://github.com/spring-projects/spring-security/issues/4370\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-security/issues/4370</a> but nothing really helpful.</p>\n<p>Based on the error message I defined this CustomUserDetailsMixin</p>\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.CLASS, include = JsonTypeInfo.As.PROPERTY)\n@JsonDeserialize(using = CustomUserDetailsSerializer.class)\n@JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY, getterVisibility = JsonAutoDetect.Visibility.NONE,\n        isGetterVisibility = JsonAutoDetect.Visibility.NONE)\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic abstract class CustomUserDetailsMixin {\n}\n</code></pre>\n<p>And the <code>CustomUserDetailsSerializer</code>:</p>\n<pre><code>public class CustomUserDetailsSerializer extends JsonDeserializer&lt;CustomUserDetails&gt; {\n    private static final TypeReference&lt;Set&lt;SimpleGrantedAuthority&gt;&gt; SIMPLE_GRANTED_AUTHORITY_SET = new TypeReference&lt;&gt;() {\n    };\n\n    @Override\n    public CustomUserDetails deserialize(JsonParser jp, DeserializationContext ctxt) throws IOException, JsonProcessingException {\n        ObjectMapper mapper = (ObjectMapper) jp.getCodec();\n        JsonNode jsonNode = mapper.readTree(jp);\n\n        //there is an issue here :\n        Set&lt;? extends GrantedAuthority&gt; authorities = mapper.convertValue(jsonNode.get(&quot;authorities&quot;), SIMPLE_GRANTED_AUTHORITY_SET);\n    }\n} \n</code></pre>\n<p>And registered it here:</p>\n<pre><code>@Configuration(proxyBeanMethods = false)\npublic class AuthorizationServerConfiguration {\n\n    @Bean \n    public OAuth2AuthorizationService oAuth2AuthorizationService(JdbcTemplate jdbcTemplate, RegisteredClientRepository registeredClientRepository) {\n        JdbcOAuth2AuthorizationService oAuth2AuthorizationService = new JdbcOAuth2AuthorizationService(jdbcTemplate, registeredClientRepository);\n        JdbcOAuth2AuthorizationService.OAuth2AuthorizationRowMapper rowMapper = new JdbcOAuth2AuthorizationService.OAuth2AuthorizationRowMapper(registeredClientRepository);\n        ClassLoader classLoader = JdbcOAuth2AuthorizationService.class.getClassLoader();\n        ObjectMapper objectMapper = new ObjectMapper();\n        objectMapper.registerModules(new CoreJackson2Module());\n        objectMapper.registerModules(SecurityJackson2Modules.getModules(classLoader));\n        objectMapper.registerModule(new OAuth2AuthorizationServerJackson2Module());\n\n        //registering the mixin\n        objectMapper.addMixIn(CustomUserDetails.class, CustomUserDetailsMixin.class);\n\n        rowMapper.setObjectMapper(objectMapper);\n        oAuth2AuthorizationService.setAuthorizationRowMapper(rowMapper);\n        return oAuth2AuthorizationService;\n    }\n\n}\n</code></pre>\n<p>But now I have another error:</p>\n<pre><code>java.lang.IllegalArgumentException: Could not resolve type id 'java.util.ImmutableCollections$ListN' as a subtype of `java.util.Set&lt;org.springframework.security.core.authority.SimpleGrantedAuthority&gt;`: Not a subtype\n at [Source: UNKNOWN; byte offset: #UNKNOWN]\n    at org.springframework.security.oauth2.server.authorization.JdbcOAuth2AuthorizationService$OAuth2AuthorizationRowMapper.parseMap(JdbcOAuth2AuthorizationService.java:467)\n</code></pre>\n<p>I took a look at the JSON saved in db by spring security and it looks like this:</p>\n<pre><code>{\n  &quot;@class&quot;: &quot;java.util.Collections$UnmodifiableMap&quot;,\n  &quot;java.security.Principal&quot;: {\n    &quot;@class&quot;: &quot;org.springframework.security.authentication.UsernamePasswordAuthenticationToken&quot;,\n    &quot;authorities&quot;: [\n      &quot;java.util.Collections$UnmodifiableRandomAccessList&quot;,\n      [\n        {\n          &quot;@class&quot;: &quot;org.springframework.security.core.authority.SimpleGrantedAuthority&quot;,\n          &quot;authority&quot;: &quot;ROLE_USER&quot;\n        }\n      ]\n    ],\n   }\n  ....\n}\n</code></pre>\n<p>The question is how to solve that last error?</p>\n"},{"tags":["java","mysql","tomcat","jdbc","timezone"],"comments":[{"owner":{"account_id":1578983,"reputation":22251,"user_id":1464763,"display_name":"David Levesque"},"score":1,"creation_date":1414009496,"post_id":26515700,"comment_id":41662729,"body_markdown":"What does your JDBC URL look like?","body":"What does your JDBC URL look like?"}],"answers":[{"tags":[],"owner":{"account_id":1691486,"reputation":14379,"user_id":1553725,"display_name":"bluecollarcoder"},"down_vote_count":4,"up_vote_count":835,"is_accepted":true,"score":831,"last_activity_date":1563887389,"creation_date":1417623348,"answer_id":27276523,"question_id":26515700,"body_markdown":"Apparently, to get version 5.1.33 of MySQL JDBC driver to work with UTC time zone, one has to specify the `serverTimezone` explicitly in the connection string.\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    jdbc:mysql://localhost/db?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>Apparently, to get version 5.1.33 of MySQL JDBC driver to work with UTC time zone, one has to specify the <code>serverTimezone</code> explicitly in the connection string.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>jdbc:mysql://localhost/db?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4932695,"reputation":805,"user_id":3971900,"display_name":"An&#237;bal"},"down_vote_count":1,"up_vote_count":30,"is_accepted":false,"score":29,"last_activity_date":1475498162,"creation_date":1448366041,"answer_id":33893008,"question_id":26515700,"body_markdown":"This is a bug in mysql-connector-java from version 5.1.33 to 5.1.37.\r\nI&#39;ve reported it here: http://bugs.mysql.com/bug.php?id=79343\r\n\r\n**Edited:\r\nThis has been corrected from mysql-connector-java 5.1.39**\r\n\r\n\r\nIt was a typo in TimeUtil class in loadTimeZoneMappings method that raises a NPE locating /com/mysql/jdbc/TimeZoneMapping.properties file. If you look at the code, the file should be located within TimeUtil class loader, not TimeZone:\r\n\r\n    TimeUtil.class.getResourceAsStream(TIME_ZONE_MAPPINGS_RESOURCE);\r\n\r\nThe parameter **useLegacyDatetimeCode** allows to correct the difference between client and server timezones automatically when using dates. So it helps you precissely not having to specify timezones in each part. Althought using **serverTimeZone** parameter is a workaround, and meanwhile the patch is released, you can try better correcting the code by yourself as I did.\r\n\r\n - If it&#39;s a standalone application, you can try simply to add a\r\n   corrected com/mysql/jdbc/TimeUtil class to your code and be careful\r\n   with jar loading order. This can help:\r\n   https://owenou.com/2010/07/20/patching-with-class-shadowing-and-maven.html\r\n   \r\n - If it&#39;s a web application, the easier solution is to create your own\r\n   mysql-connector-java-5.1.37-patched.jar, substituting the .class directly\r\n   into the original jar.","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>This is a bug in mysql-connector-java from version 5.1.33 to 5.1.37.\nI've reported it here: <a href=\"http://bugs.mysql.com/bug.php?id=79343\" rel=\"noreferrer\">http://bugs.mysql.com/bug.php?id=79343</a></p>\n\n<p><strong>Edited:\nThis has been corrected from mysql-connector-java 5.1.39</strong></p>\n\n<p>It was a typo in TimeUtil class in loadTimeZoneMappings method that raises a NPE locating /com/mysql/jdbc/TimeZoneMapping.properties file. If you look at the code, the file should be located within TimeUtil class loader, not TimeZone:</p>\n\n<pre><code>TimeUtil.class.getResourceAsStream(TIME_ZONE_MAPPINGS_RESOURCE);\n</code></pre>\n\n<p>The parameter <strong>useLegacyDatetimeCode</strong> allows to correct the difference between client and server timezones automatically when using dates. So it helps you precissely not having to specify timezones in each part. Althought using <strong>serverTimeZone</strong> parameter is a workaround, and meanwhile the patch is released, you can try better correcting the code by yourself as I did.</p>\n\n<ul>\n<li><p>If it's a standalone application, you can try simply to add a\ncorrected com/mysql/jdbc/TimeUtil class to your code and be careful\nwith jar loading order. This can help:\n<a href=\"https://owenou.com/2010/07/20/patching-with-class-shadowing-and-maven.html\" rel=\"noreferrer\">https://owenou.com/2010/07/20/patching-with-class-shadowing-and-maven.html</a></p></li>\n<li><p>If it's a web application, the easier solution is to create your own\nmysql-connector-java-5.1.37-patched.jar, substituting the .class directly\ninto the original jar.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7939918,"reputation":933,"user_id":5994373,"display_name":"Gabriel Amazonas Mesquita"},"down_vote_count":4,"up_vote_count":59,"is_accepted":false,"score":55,"last_activity_date":1654740927,"creation_date":1466744978,"answer_id":38005969,"question_id":26515700,"body_markdown":"If you are using Maven, you can just set another MySQL connector version (I had the same error, so I changed from 6.0.2 to 5.1.39) in `pom.xml`:\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;5.1.39&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAs reported in another answers, this issue has been fixed in versions 6.0.3 or above, so you can use the updated version:\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;6.0.3&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nMaven will automatically re-build your project after you save the `pom.xml` file. ","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>If you are using Maven, you can just set another MySQL connector version (I had the same error, so I changed from 6.0.2 to 5.1.39) in <code>pom.xml</code>:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;5.1.39&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>As reported in another answers, this issue has been fixed in versions 6.0.3 or above, so you can use the updated version:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;6.0.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Maven will automatically re-build your project after you save the <code>pom.xml</code> file.</p>\n"},{"tags":[],"owner":{"account_id":4941402,"reputation":2504,"user_id":3977996,"accept_rate":96,"display_name":"Alireza Alallah"},"down_vote_count":1,"up_vote_count":43,"is_accepted":false,"score":42,"last_activity_date":1468976036,"creation_date":1468188736,"answer_id":38296891,"question_id":26515700,"body_markdown":"The connection string should be set like this:\r\n\r\n    jdbc:mysql://localhost/db?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC\r\n\r\nIf you are defining the connection in an `xml` file (such as `persistence.xml`, `standalone-full.xml`, etc..), instead of `&amp;` you should use `&amp;amp;` or use a `CDATA` block.","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>The connection string should be set like this:</p>\n\n<pre><code>jdbc:mysql://localhost/db?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC\n</code></pre>\n\n<p>If you are defining the connection in an <code>xml</code> file (such as <code>persistence.xml</code>, <code>standalone-full.xml</code>, etc..), instead of <code>&amp;</code> you should use <code>&amp;amp;</code> or use a <code>CDATA</code> block.</p>\n"},{"tags":[],"owner":{"account_id":9513877,"reputation":1479,"user_id":7070958,"display_name":"Dmitriy Rud"},"down_vote_count":1,"up_vote_count":148,"is_accepted":false,"score":147,"last_activity_date":1477415662,"creation_date":1477415662,"answer_id":40245885,"question_id":26515700,"body_markdown":"I&#39;ve solved this problem by configuring MySQL. \r\n\r\n`SET GLOBAL time_zone = &#39;+3:00&#39;;`","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>I've solved this problem by configuring MySQL. </p>\n\n<p><code>SET GLOBAL time_zone = '+3:00';</code></p>\n"},{"tags":[],"owner":{"account_id":5826102,"reputation":2248,"user_id":4592448,"accept_rate":100,"display_name":"Fortran"},"down_vote_count":2,"up_vote_count":29,"is_accepted":false,"score":27,"last_activity_date":1498572612,"creation_date":1498217500,"answer_id":44720416,"question_id":26515700,"body_markdown":" 1. I added in mysql config file in section **[mysqld]**\r\n    \r\n        default_time_zone=&#39;+03:00&#39;\r\n 2. And restart mysql server: \r\n    \r\n        sudo service mysql restart\r\n\r\nWhere **+03:00** my UTC time zone.\r\n\r\n\r\nPath to config file on my os ubuntu 16.04:\r\n\r\n    /etc/mysql/mysql.conf.d/mysqld.cnf\r\n\r\n\r\n\r\n**WARNING: IF YOUR TIME ZONE HAVE SUMMER AND WINTER TIME. YOU MUST CHANGE UTC IN CONFIG IF CHANGE TIME. TWICE IN YEAR(USUALLY) OR SET CRONTAB WITH SUDO.**\r\n\r\n*My url jdbc connection:* \r\n\r\n    &quot;jdbc:mysql://localhost/java&quot;\r\n","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<ol>\n<li><p>I added in mysql config file in section <strong>[mysqld]</strong></p>\n\n<pre><code>default_time_zone='+03:00'\n</code></pre></li>\n<li><p>And restart mysql server: </p>\n\n<pre><code>sudo service mysql restart\n</code></pre></li>\n</ol>\n\n<p>Where <strong>+03:00</strong> my UTC time zone.</p>\n\n<p>Path to config file on my os ubuntu 16.04:</p>\n\n<pre><code>/etc/mysql/mysql.conf.d/mysqld.cnf\n</code></pre>\n\n<p><strong>WARNING: IF YOUR TIME ZONE HAVE SUMMER AND WINTER TIME. YOU MUST CHANGE UTC IN CONFIG IF CHANGE TIME. TWICE IN YEAR(USUALLY) OR SET CRONTAB WITH SUDO.</strong></p>\n\n<p><em>My url jdbc connection:</em> </p>\n\n<pre><code>\"jdbc:mysql://localhost/java\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11570675,"reputation":29,"user_id":8477561,"display_name":"Nikunj"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1502965965,"creation_date":1502965965,"answer_id":45732766,"question_id":26515700,"body_markdown":"I solved this issue without any single code change. just goto system time setting and set the time zone. In my case the default time zone was UTC which I changed to my local time zone. After I did restart all services, everything worked for me. ","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>I solved this issue without any single code change. just goto system time setting and set the time zone. In my case the default time zone was UTC which I changed to my local time zone. After I did restart all services, everything worked for me. </p>\n"},{"tags":[],"owner":{"account_id":12319791,"reputation":341,"user_id":8989353,"display_name":"Rafael Costa Cavalcante"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1528238379,"creation_date":1528219018,"answer_id":50705619,"question_id":26515700,"body_markdown":"I solved putting below connection string in the URL\r\n\r\n    jdbc:mysql://localhost:3306/db?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC\r\n\r\n","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>I solved putting below connection string in the URL</p>\n\n<pre><code>jdbc:mysql://localhost:3306/db?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8528130,"reputation":91,"user_id":6392912,"display_name":"GordR"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1530146579,"creation_date":1530146579,"answer_id":51073220,"question_id":26515700,"body_markdown":"I also was having the exact same problem in LibreOffice Base.  So I just specified a non &#39;daylight savings time zone&#39; in the connection string.  \r\n[![**enter image description here**][1]][1]\r\n\r\nI tried **without** the &quot;&amp;serverTimezone=MST&quot; but that failed as well.\r\n\r\nI also tried &quot;&amp;serverTimezone=MDT&quot; and that failed, so for some reason, it doesn&#39;t like daylight savings time!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lakXx.jpg","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>I also was having the exact same problem in LibreOffice Base.  So I just specified a non 'daylight savings time zone' in the connection string.<br>\n<a href=\"https://i.stack.imgur.com/lakXx.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lakXx.jpg\" alt=\"**enter image description here**\"></a></p>\n\n<p>I tried <strong>without</strong> the \"&amp;serverTimezone=MST\" but that failed as well.</p>\n\n<p>I also tried \"&amp;serverTimezone=MDT\" and that failed, so for some reason, it doesn't like daylight savings time!</p>\n"},{"tags":[],"owner":{"account_id":14179886,"reputation":161,"user_id":10243917,"display_name":"felice de simone"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1534618143,"creation_date":1534613103,"answer_id":51911047,"question_id":26515700,"body_markdown":"I have the same problem and i solved it append only &quot;?serverTimezone=UTC&quot; to my string connection.\r\n\r\n############################\r\nsinossi my problem:\r\n\r\njava.sql.SQLException: The server time zone value &#39;CEST&#39; is unrecognized or represents more than one time zone. You must configure either the server or JDBC driver (via the serverTimezone configuration property) to use a more specifc time zone value if you want to utilize time zone support.\r\n\r\n    my dbDriver = com.mysql.jdbc.Driver\r\n    \r\n    my jar = mysql-connector-java-8.0.12.jar\r\n    \r\n    my java = 1.8\r\n    \r\n    my tomcat = Apache Tomcat Version 8.5.32\r\n    \r\n    my MySql server = MySql ver.8.0.12 \r\n\r\n","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>I have the same problem and i solved it append only \"?serverTimezone=UTC\" to my string connection.</p>\n\n#\n\n<p>sinossi my problem:</p>\n\n<p>java.sql.SQLException: The server time zone value 'CEST' is unrecognized or represents more than one time zone. You must configure either the server or JDBC driver (via the serverTimezone configuration property) to use a more specifc time zone value if you want to utilize time zone support.</p>\n\n<pre><code>my dbDriver = com.mysql.jdbc.Driver\n\nmy jar = mysql-connector-java-8.0.12.jar\n\nmy java = 1.8\n\nmy tomcat = Apache Tomcat Version 8.5.32\n\nmy MySql server = MySql ver.8.0.12 \n</code></pre>\n"},{"tags":[],"owner":{"account_id":14711392,"reputation":43,"user_id":10624650,"display_name":"Yerbol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543484812,"creation_date":1543484812,"answer_id":53536058,"question_id":26515700,"body_markdown":"Agree with @bluecollarcoder answer, but it&#39;s better to use ***`TimeZone.getDefault().getID();`*** at the end of the connection string:\r\n\r\n    &quot;jdbc:mysql://localhost/db?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=&quot; + TimeZone.getDefault().getID();  \r\n\r\nIn this case `Timezone` parameter automatically updates depending on the local machine timezone.","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>Agree with @bluecollarcoder answer, but it's better to use <strong><em><code>TimeZone.getDefault().getID();</code></em></strong> at the end of the connection string:</p>\n\n<pre><code>\"jdbc:mysql://localhost/db?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=\" + TimeZone.getDefault().getID();  \n</code></pre>\n\n<p>In this case <code>Timezone</code> parameter automatically updates depending on the local machine timezone.</p>\n"},{"tags":[],"owner":{"account_id":14842054,"reputation":111,"user_id":10718500,"display_name":"RAdrian"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1543611877,"creation_date":1543601100,"answer_id":53562666,"question_id":26515700,"body_markdown":"I&#39;m using *mysql-connector-java-8.0.13* and had the same problem. \r\nI created my database in the command line console and solved this problem by using *@Dimitry Rud&#39;s* solution on the command line:\r\n\r\n    SET GLOBAL time_zone = &#39;-6:00&#39;;\r\n\r\nI didn&#39;t need to restart anything, set the time and immediately run my code in eclipse, it connected with no problems.\r\n \r\nThe bug is supposed to be fixed in an older version, but I think I got this error because after I created the database in the console, I didn&#39;t set this. I&#39;m not using workbench nor another app to manage this rather than the console.","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>I'm using <em>mysql-connector-java-8.0.13</em> and had the same problem. \nI created my database in the command line console and solved this problem by using <em>@Dimitry Rud's</em> solution on the command line:</p>\n\n<pre><code>SET GLOBAL time_zone = '-6:00';\n</code></pre>\n\n<p>I didn't need to restart anything, set the time and immediately run my code in eclipse, it connected with no problems.</p>\n\n<p>The bug is supposed to be fixed in an older version, but I think I got this error because after I created the database in the console, I didn't set this. I'm not using workbench nor another app to manage this rather than the console.</p>\n"},{"tags":[],"owner":{"account_id":8082685,"reputation":1042,"user_id":6091258,"display_name":"epol"},"down_vote_count":0,"up_vote_count":82,"is_accepted":false,"score":82,"last_activity_date":1683167377,"creation_date":1547822359,"answer_id":54256150,"question_id":26515700,"body_markdown":"After reading several posts on this topic, testing different configurations and based on some insights from [this mysql bug thread][1] that&#39;s what I have understood:\r\n\r\n - the server time zone is important in particular to convert dates stored in the database to the time zone of the application server. there are other implications but this is the most noticeable one\r\n - GMT x UTC time zone systems. GMT was conceived in the late 19th century and can be shifted between standard time and summer time. this property could lead to a situation where the database server shifts to summer time and the application doesn&#39;t notice it (perhaps there are other complications but I didn&#39;t research further). UTC does not vary over time (it is always within about 1 second of mean solar time at 0&#176; longitude).\r\n - serverTimeZone definition was introduced in mysql jdbc connectors versions 5.1 ahead. until version 8 it could be ignored with `useLegacyDatetimeCode=true` , which in conjunction with `useJDBCCompliantTimezoneShift=true` would make the application get the database time zone on every connection. In this mode GMT time zones such as &#39;British Summer Time&#39; would be converted to the internal java/JDBC format. New time zones could be defined in a .properties file such as [this one][2]\r\n - Starting with jdbc driver version 8, automatic time matching (`useJDBCCompliantTimezoneShift`) and legacy time format (`useLegacyDatetimeCode`) were removed ([see mysql jdbc connector changelog][3]). therefore setting these 2 parameters has no effect as they are completely ignored (new default is `useLegacyDateTimeCode=false`)\r\n - In this manner setting `serverTimezone` became **mandatory** if any of the time zones (application/database servers) are not in the format &#39;UTC+xx&#39; or &#39;GMT+xx&#39;\r\n - There is no impact of setting server time as UTC (for instance with `jdbc:mysql://localhost:3306/myschema?serverTimezone=UTC`, even if your application / database servers are not in this timezone. The important is for the application connection string + database to be synchronized with the same time zone. In different words, **simply setting serverTimezone=UTC with a different time zone on the database server will shift any dates extracted from the database**\r\n - The MySQL default time zone can be set to UTC+0 with the my.ini or my.cnf files (windows / linux respectively) by adding the line `default-time-zone = &#39;+00:00&#39;` (details in [this StackOverflow post][4])\r\n - Databases configured on AWS (amazon web services) are automatically assigned UTC+0 default time ([see AWS help page here][3])\r\n\r\n\r\n  [1]: https://bugs.mysql.com/bug.php?id=85816\r\n  [2]: https://github.com/meedan/copacabana/blob/master/logstash/mysql-connector-java-5.1.37/src/com/mysql/jdbc/TimeZoneMapping.properties\r\n  [3]: https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-properties-changed.html\r\n  [4]: https://stackoverflow.com/questions/19903610/how-to-set-permanent-default-timezone-in-mysql-server/19904846","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>After reading several posts on this topic, testing different configurations and based on some insights from <a href=\"https://bugs.mysql.com/bug.php?id=85816\" rel=\"nofollow noreferrer\">this mysql bug thread</a> that's what I have understood:</p>\n<ul>\n<li>the server time zone is important in particular to convert dates stored in the database to the time zone of the application server. there are other implications but this is the most noticeable one</li>\n<li>GMT x UTC time zone systems. GMT was conceived in the late 19th century and can be shifted between standard time and summer time. this property could lead to a situation where the database server shifts to summer time and the application doesn't notice it (perhaps there are other complications but I didn't research further). UTC does not vary over time (it is always within about 1 second of mean solar time at 0° longitude).</li>\n<li>serverTimeZone definition was introduced in mysql jdbc connectors versions 5.1 ahead. until version 8 it could be ignored with <code>useLegacyDatetimeCode=true</code> , which in conjunction with <code>useJDBCCompliantTimezoneShift=true</code> would make the application get the database time zone on every connection. In this mode GMT time zones such as 'British Summer Time' would be converted to the internal java/JDBC format. New time zones could be defined in a .properties file such as <a href=\"https://github.com/meedan/copacabana/blob/master/logstash/mysql-connector-java-5.1.37/src/com/mysql/jdbc/TimeZoneMapping.properties\" rel=\"nofollow noreferrer\">this one</a></li>\n<li>Starting with jdbc driver version 8, automatic time matching (<code>useJDBCCompliantTimezoneShift</code>) and legacy time format (<code>useLegacyDatetimeCode</code>) were removed (<a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-properties-changed.html\" rel=\"nofollow noreferrer\">see mysql jdbc connector changelog</a>). therefore setting these 2 parameters has no effect as they are completely ignored (new default is <code>useLegacyDateTimeCode=false</code>)</li>\n<li>In this manner setting <code>serverTimezone</code> became <strong>mandatory</strong> if any of the time zones (application/database servers) are not in the format 'UTC+xx' or 'GMT+xx'</li>\n<li>There is no impact of setting server time as UTC (for instance with <code>jdbc:mysql://localhost:3306/myschema?serverTimezone=UTC</code>, even if your application / database servers are not in this timezone. The important is for the application connection string + database to be synchronized with the same time zone. In different words, <strong>simply setting serverTimezone=UTC with a different time zone on the database server will shift any dates extracted from the database</strong></li>\n<li>The MySQL default time zone can be set to UTC+0 with the my.ini or my.cnf files (windows / linux respectively) by adding the line <code>default-time-zone = '+00:00'</code> (details in <a href=\"https://stackoverflow.com/questions/19903610/how-to-set-permanent-default-timezone-in-mysql-server/19904846\">this StackOverflow post</a>)</li>\n<li>Databases configured on AWS (amazon web services) are automatically assigned UTC+0 default time (<a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-properties-changed.html\" rel=\"nofollow noreferrer\">see AWS help page here</a>)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":15208517,"reputation":151,"user_id":10974101,"display_name":"Ingvar"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1548591295,"creation_date":1548577183,"answer_id":54386284,"question_id":26515700,"body_markdown":"Everything that we need to fix the problem with `serverTimezone`:\r\n\r\n    String url = &quot;jdbc:mysql://localhost:3306/db?serverTimezone=&quot; + TimeZone.getDefault().getID()","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>Everything that we need to fix the problem with <code>serverTimezone</code>:</p>\n\n<pre><code>String url = \"jdbc:mysql://localhost:3306/db?serverTimezone=\" + TimeZone.getDefault().getID()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14538276,"reputation":81,"user_id":10500869,"display_name":"toof06"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1553788111,"creation_date":1553788111,"answer_id":55401802,"question_id":26515700,"body_markdown":"From mysql workbench run the following sql statements:\r\n\r\n 1. SET @@global.time_zone = &#39;+00:00&#39;;\r\n 2. SET @@session.time_zone = &#39;+00:00&#39;;\r\n\r\nwith the following sql statements check if the values were set:\r\n\r\nSELECT @@global.time_zone, @@session.time_zone;","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>From mysql workbench run the following sql statements:</p>\n\n<ol>\n<li>SET @@global.time_zone = '+00:00';</li>\n<li>SET @@session.time_zone = '+00:00';</li>\n</ol>\n\n<p>with the following sql statements check if the values were set:</p>\n\n<p>SELECT @@global.time_zone, @@session.time_zone;</p>\n"},{"tags":[],"owner":{"account_id":3260426,"reputation":11559,"user_id":2746110,"accept_rate":67,"display_name":"Arefe"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1575983198,"creation_date":1555577257,"answer_id":55742365,"question_id":26515700,"body_markdown":"You can use the MySQL connector in the Maven dependency, \r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    &lt;version&gt;8.0.14&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nThen you need the set the right parameters in the `application.properties` file, \r\n\r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/UserReward?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC\r\n    spring.datasource.username=testuser\r\n    spring.datasource.password=testpassword\r\n    # MySQL driver\r\n    spring.datasource.driverClassName=com.mysql.jdbc.Driver\r\n    spring.jpa.database-platform=org.hibernate.dialect.MySQL5Dialect\r\n\r\n","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>You can use the MySQL connector in the Maven dependency, </p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;8.0.14&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Then you need the set the right parameters in the <code>application.properties</code> file, </p>\n\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/UserReward?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC\nspring.datasource.username=testuser\nspring.datasource.password=testpassword\n# MySQL driver\nspring.datasource.driverClassName=com.mysql.jdbc.Driver\nspring.jpa.database-platform=org.hibernate.dialect.MySQL5Dialect\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7919693,"reputation":1311,"user_id":5981077,"display_name":"ColdFire"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1556889973,"creation_date":1556035770,"answer_id":55815322,"question_id":26515700,"body_markdown":"It worked for me just by adding serverTimeZone=UTC on application.properties.  \r\n`spring.datasource.url=jdbc:mysql://localhost/db?serverTimezone=UTC`\r\n","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>It worked for me just by adding serverTimeZone=UTC on application.properties.<br>\n<code>spring.datasource.url=jdbc:mysql://localhost/db?serverTimezone=UTC</code></p>\n"},{"tags":[],"owner":{"account_id":1467879,"reputation":71,"user_id":1380233,"display_name":"Anil Gowda"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1558562003,"creation_date":1557977125,"answer_id":56160360,"question_id":26515700,"body_markdown":"This worked for me.\r\n\r\non DBeaver 6.0 : Go to Connection Settings &gt; Driver Properties &gt; Server Time Zone &gt; Set UTC.\r\n\r\n\r\nAlso, in spring boot config, had to set below property.\r\n\r\njdbc:mysql://localhost:&lt;port&gt;/&lt;db&gt;?serverTimezone=UTC","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>This worked for me.</p>\n\n<p>on DBeaver 6.0 : Go to Connection Settings > Driver Properties > Server Time Zone > Set UTC.</p>\n\n<p>Also, in spring boot config, had to set below property.</p>\n\n<p>jdbc:mysql://localhost:/?serverTimezone=UTC</p>\n"},{"tags":[],"owner":{"account_id":5609802,"reputation":589,"user_id":4442994,"accept_rate":20,"display_name":"Rituraj Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1558441237,"creation_date":1558441237,"answer_id":56238174,"question_id":26515700,"body_markdown":"I am late, But If you are struggling through the following error and using datasource(javax.sql.DataSource): \r\n\r\n    The server time zone value &#39;CEST&#39; is unrecognized or represents more than one time zone.\r\n\r\nSet following line to get rid of the error:\r\n\r\n    MysqlDataSource dataSource = new MysqlDataSource();\r\n    dataSource.setServerTimezone(&quot;UTC&quot;);\r\n\r\n","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>I am late, But If you are struggling through the following error and using datasource(javax.sql.DataSource): </p>\n\n<pre><code>The server time zone value 'CEST' is unrecognized or represents more than one time zone.\n</code></pre>\n\n<p>Set following line to get rid of the error:</p>\n\n<pre><code>MysqlDataSource dataSource = new MysqlDataSource();\ndataSource.setServerTimezone(\"UTC\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1521806,"reputation":11725,"user_id":1421254,"accept_rate":100,"display_name":"Dmitriusan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1558447815,"creation_date":1558447815,"answer_id":56240156,"question_id":26515700,"body_markdown":"In my case, it was a test environment and I had to make an existing application to work without any configuration changes, and if possible without any MySQL config changes.\r\nI was able to fix the issue by following @vinnyjames suggestion and **changing server timezone to UTC**:\r\n\r\n```\r\nln -sf /usr/share/zoneinfo/UTC /etc/localtime\r\nservice mysqld restart\r\n```\r\nDoing that was enough for me to solve the issue.","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>In my case, it was a test environment and I had to make an existing application to work without any configuration changes, and if possible without any MySQL config changes.\nI was able to fix the issue by following @vinnyjames suggestion and <strong>changing server timezone to UTC</strong>:</p>\n\n<pre><code>ln -sf /usr/share/zoneinfo/UTC /etc/localtime\nservice mysqld restart\n</code></pre>\n\n<p>Doing that was enough for me to solve the issue.</p>\n"},{"tags":[],"owner":{"account_id":16061733,"reputation":1,"user_id":11592423,"display_name":"Gerard Indika"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1559561273,"creation_date":1559554867,"answer_id":56424716,"question_id":26515700,"body_markdown":"I also got the same running java JDBC in NetBeans. This is how it fixed\r\n\r\nI use Xampp. In conf button of Apache I opened httpd.conf file and on first line I typed \r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    # Set timezone to Europe/Athens UTC+02:00 \r\n    SetEnv TZ Europe/Athens.\r\n\r\nIn conf button of MySQL I opened my.ini file and on last line I typed\r\n&quot;Europe/Athens&quot;\r\n\r\nStopped and started both Apache and MySQL\r\n\r\nProblem fixed.\r\n\r\n*(Local mechine time zone is different, but no problem.)","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>I also got the same running java JDBC in NetBeans. This is how it fixed</p>\n\n<p>I use Xampp. In conf button of Apache I opened httpd.conf file and on first line I typed </p>\n\n<pre class=\"lang-none prettyprint-override\"><code># Set timezone to Europe/Athens UTC+02:00 \nSetEnv TZ Europe/Athens.\n</code></pre>\n\n<p>In conf button of MySQL I opened my.ini file and on last line I typed\n\"Europe/Athens\"</p>\n\n<p>Stopped and started both Apache and MySQL</p>\n\n<p>Problem fixed.</p>\n\n<p>*(Local mechine time zone is different, but no problem.)</p>\n"},{"tags":[],"owner":{"account_id":13739229,"reputation":41,"user_id":9914792,"display_name":"Berkay Ernalbant"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1561468843,"creation_date":1561468453,"answer_id":56754956,"question_id":26515700,"body_markdown":"I had the same problem when I try to work with spring boot project on windows. \r\n\r\nDatasource url should be:\r\n\r\n```spring.datasource.url=jdbc:mysql://localhost/database?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC```\r\n\r\n","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>I had the same problem when I try to work with spring boot project on windows. </p>\n\n<p>Datasource url should be:</p>\n\n<p><code>spring.datasource.url=jdbc:mysql://localhost/database?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC</code></p>\n"},{"tags":[],"owner":{"account_id":12178017,"reputation":466,"user_id":8890476,"display_name":"Aathil Ahamed"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1562014551,"creation_date":1562010428,"answer_id":56841621,"question_id":26515700,"body_markdown":"The above program will generate that time zone error.\r\n\r\nAfter your database name you have to add this: `?useTimezone=true&amp;serverTimezone=UTC`. Once you have done your code will work fine.\r\n\r\nBest of luck :)","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>The above program will generate that time zone error.</p>\n\n<p>After your database name you have to add this: <code>?useTimezone=true&amp;serverTimezone=UTC</code>. Once you have done your code will work fine.</p>\n\n<p>Best of luck :)</p>\n"},{"tags":[],"owner":{"account_id":2459420,"reputation":15594,"user_id":2704032,"accept_rate":48,"display_name":"Vishrant"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1565919880,"creation_date":1565919880,"answer_id":57518022,"question_id":26515700,"body_markdown":"I executed following on my database side.\r\n\r\n    mysql&gt; SET @@global.time_zone = &#39;+00:00&#39;;\r\n    \r\n    mysql&gt; SET @@session.time_zone = &#39;+00:00&#39;;\r\n    \r\n    mysql&gt; SELECT @@global.time_zone, @@session.time_zone;\r\n    \r\nI am using Server version: 8.0.17 - MySQL Community Server - GPL\r\n\r\nsource: https://community.oracle.com/thread/4144569?start=0&amp;tstart=0","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>I executed following on my database side.</p>\n\n<pre><code>mysql&gt; SET @@global.time_zone = '+00:00';\n\nmysql&gt; SET @@session.time_zone = '+00:00';\n\nmysql&gt; SELECT @@global.time_zone, @@session.time_zone;\n</code></pre>\n\n<p>I am using Server version: 8.0.17 - MySQL Community Server - GPL</p>\n\n<p>source: <a href=\"https://community.oracle.com/thread/4144569?start=0&amp;tstart=0\" rel=\"noreferrer\">https://community.oracle.com/thread/4144569?start=0&amp;tstart=0</a></p>\n"},{"tags":[],"owner":{"account_id":16831335,"reputation":41,"user_id":12694565,"display_name":"saurabh asthana"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1579196068,"creation_date":1579193473,"answer_id":59774392,"question_id":26515700,"body_markdown":"Run below query to mysql DB to resolve the error\r\n\r\n```\r\nMariaDB [xxx&gt; SET @@global.time_zone = &#39;+00:00&#39;;\r\nQuery OK, 0 rows affected (0.062 sec)\r\n\r\nMariaDB [xxx]&gt; SET @@session.time_zone = &#39;+00:00&#39;;\r\nQuery OK, 0 rows affected (0.000 sec)\r\n\r\nMariaDB [xxx]&gt; SELECT @@global.time_zone, @@session.time_zone;\r\n```","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>Run below query to mysql DB to resolve the error</p>\n\n<pre><code>MariaDB [xxx&gt; SET @@global.time_zone = '+00:00';\nQuery OK, 0 rows affected (0.062 sec)\n\nMariaDB [xxx]&gt; SET @@session.time_zone = '+00:00';\nQuery OK, 0 rows affected (0.000 sec)\n\nMariaDB [xxx]&gt; SELECT @@global.time_zone, @@session.time_zone;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14141446,"reputation":326,"user_id":10216101,"display_name":"iifast2"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1581169044,"creation_date":1581169044,"answer_id":60127304,"question_id":26515700,"body_markdown":"i Got error similar to yours but my The server time zone value is  &#39;Afr. centrale Ouest&#39; \r\nso i did these steps : \r\n\r\n\r\nMyError (on IntelliJ IDEA Community Edition): \r\n```\r\n    InvalidConnectionAttributeException: The server time zone value &#39;Afr. centrale Ouest&#39; is unrecognized or represents more than one time zone. You must configure either the server or JDBC driver (via the &#39;serverTimezone&#39; configuration property) to use a more specifc time zone value if you want to u....\r\n```\r\nI faced this issue when I upgraded my mysql server to SQL Server 8.0 (MYSQL80).\r\n\r\nThe simplest solution to this problem is just write the below command in your MYSQL Workbench -\r\n\r\n\r\n      SET GLOBAL time_zone = &#39;+1:00&#39;\r\n\r\n\r\nThe value after the time-zone will be equal to GMT+/- Difference in your timezone. The above example is for North Africa(GMT+1:00) / or for India(GMT+5:30).\r\nIt will solve the issue.\r\n\r\n[Enter the Following code in your Mysql Workbench and execute quesry][1]\r\n\r\n\r\n \r\n[\\[source link for question/problem \\]][2]  \r\n\r\n[\\[source link for answer\\]][3] \r\n\r\n[\\[Solution ScreenShot \\]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qJgH4.png\r\n  [2]: https://stackoverflow.com/questions/26515700/mysql-jdbc-driver-5-1-33-time-zone-issue\r\n  [3]: https://stackoverflow.com/a/54211982/10216101\r\n  [4]: https://i.stack.imgur.com/Dh2Kg.jpg","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>i Got error similar to yours but my The server time zone value is  'Afr. centrale Ouest' \nso i did these steps : </p>\n\n<p>MyError (on IntelliJ IDEA Community Edition): </p>\n\n<pre><code>    InvalidConnectionAttributeException: The server time zone value 'Afr. centrale Ouest' is unrecognized or represents more than one time zone. You must configure either the server or JDBC driver (via the 'serverTimezone' configuration property) to use a more specifc time zone value if you want to u....\n</code></pre>\n\n<p>I faced this issue when I upgraded my mysql server to SQL Server 8.0 (MYSQL80).</p>\n\n<p>The simplest solution to this problem is just write the below command in your MYSQL Workbench -</p>\n\n<pre><code>  SET GLOBAL time_zone = '+1:00'\n</code></pre>\n\n<p>The value after the time-zone will be equal to GMT+/- Difference in your timezone. The above example is for North Africa(GMT+1:00) / or for India(GMT+5:30).\nIt will solve the issue.</p>\n\n<p><a href=\"https://i.stack.imgur.com/qJgH4.png\" rel=\"noreferrer\">Enter the Following code in your Mysql Workbench and execute quesry</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/26515700/mysql-jdbc-driver-5-1-33-time-zone-issue\">[source link for question/problem ]</a>  </p>\n\n<p><a href=\"https://stackoverflow.com/a/54211982/10216101\">[source link for answer]</a> </p>\n\n<p><a href=\"https://i.stack.imgur.com/Dh2Kg.jpg\" rel=\"noreferrer\">[Solution ScreenShot ]</a></p>\n"},{"tags":[],"owner":{"account_id":6379287,"reputation":1756,"user_id":5404469,"display_name":"harun ugur"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1583523544,"creation_date":1583523544,"answer_id":60570557,"question_id":26515700,"body_markdown":"Apparently, to get version 5.1.33 of MySQL JDBC driver to work with UTC time zone, one has to specify the serverTimezone explicitly in the connection string.\r\n\r\n    spring.datasource.url = jdbc:mysql://localhost:3306/quartz_demo?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC\r\n\r\n","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>Apparently, to get version 5.1.33 of MySQL JDBC driver to work with UTC time zone, one has to specify the serverTimezone explicitly in the connection string.</p>\n\n<pre><code>spring.datasource.url = jdbc:mysql://localhost:3306/quartz_demo?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9706671,"reputation":6388,"user_id":7199922,"accept_rate":62,"display_name":"ttt"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1587052154,"creation_date":1587052154,"answer_id":61254474,"question_id":26515700,"body_markdown":"I have added the following line to my `/etc/mysql/my.cnf` file:\r\n\r\n    default_time_zone=&#39;+00:00&#39;\r\n\r\nRestarted the MySQL server:\r\n\r\n    systemctl restart mysql\r\n\r\nAnd it works like a charm.","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>I have added the following line to my <code>/etc/mysql/my.cnf</code> file:</p>\n\n<pre><code>default_time_zone='+00:00'\n</code></pre>\n\n<p>Restarted the MySQL server:</p>\n\n<pre><code>systemctl restart mysql\n</code></pre>\n\n<p>And it works like a charm.</p>\n"},{"tags":[],"owner":{"account_id":17378925,"reputation":11,"user_id":12591594,"display_name":"Mittal "},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1588906979,"creation_date":1588890438,"answer_id":61668814,"question_id":26515700,"body_markdown":"Just modify the connection string with the following code in the application.properties file.\r\n\r\n```\r\n\r\nspring.datasource.url=jdbc:mysql://localhost:3301/Db?\r\n   useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=\r\n   false&amp;serverTimezone=UTC\r\n\r\n```\r\n\r\n","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>Just modify the connection string with the following code in the application.properties file.</p>\n\n<pre><code>\nspring.datasource.url=jdbc:mysql://localhost:3301/Db?\n   useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=\n   false&amp;serverTimezone=UTC\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18383644,"reputation":69,"user_id":13391216,"display_name":"Pratham Sarankar"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1589445936,"creation_date":1589440038,"answer_id":61791286,"question_id":26515700,"body_markdown":"```\r\nConnection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/resultout? useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC&quot;,&quot;root&quot;,&quot;&quot;))\r\n```\r\n\r\nThis is actually the solution to this problem, but don&#39;t just copy and paste it in your program. If you just read the line you will find &#39;resultout&#39;, that&#39;s the name of my database, and you have to write your&#39;s.\r\n\r\nThere are three string components, first one is url, second is username, and third one is password. In above paragraph we cleared, url. The second and third String components as said your username and password you have to change accordingly. \r\n\r\nThanks","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<pre><code>Connection con = DriverManager.getConnection(\"jdbc:mysql://localhost:3306/resultout? useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC\",\"root\",\"\"))\n</code></pre>\n\n<p>This is actually the solution to this problem, but don't just copy and paste it in your program. If you just read the line you will find 'resultout', that's the name of my database, and you have to write your's.</p>\n\n<p>There are three string components, first one is url, second is username, and third one is password. In above paragraph we cleared, url. The second and third String components as said your username and password you have to change accordingly. </p>\n\n<p>Thanks</p>\n"},{"tags":[],"owner":{"account_id":18797658,"reputation":131,"user_id":13708754,"display_name":"Hermann N&#39;ZI"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1592037867,"creation_date":1591999903,"answer_id":62353189,"question_id":26515700,"body_markdown":"There is no impact of setting server time as UTC (for instance with `jdbc:mysql://localhost:3306/myschema?serverTimezone=UTC`, even if your application/database servers are not in this timezone. The important is for the application connection string + database to be synchronized with the same time zone. \r\n\r\nIn other words, simply setting `serverTimezone=UTC` with a different time zone on the database server will shift any dates extracted from the database","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>There is no impact of setting server time as UTC (for instance with <code>jdbc:mysql://localhost:3306/myschema?serverTimezone=UTC</code>, even if your application/database servers are not in this timezone. The important is for the application connection string + database to be synchronized with the same time zone. </p>\n\n<p>In other words, simply setting <code>serverTimezone=UTC</code> with a different time zone on the database server will shift any dates extracted from the database</p>\n"},{"tags":[],"owner":{"account_id":16965919,"reputation":111,"user_id":12271788,"display_name":"chanaka wickramasinghe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597388483,"creation_date":1597388483,"answer_id":63408019,"question_id":26515700,"body_markdown":"I faced the same error and in my case, I change the **Server Port Number** to **3308** where previously it was 3306. This connect my project to the MySQL database. \r\n\r\n[![enter image description here][1]][1]\r\n\r\nHere we have to change the connection code also.\r\n\r\n\r\n    Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n    cn=(java.sql.Connection)DriverManager.getConnection(&quot;jdbc:mysql://localhost:3308/test2?zeroDateTimeBehavior=convertToNull&quot;,&quot;root&quot;,&quot;&quot;);\r\n\r\nChanging the port number in the connection code is also necessary as `localhost:3308` to resolved the error. \r\n\r\nAlso, the admin properties in my case.\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BUu8m.png\r\n  [2]: https://i.stack.imgur.com/L57ko.png","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>I faced the same error and in my case, I change the <strong>Server Port Number</strong> to <strong>3308</strong> where previously it was 3306. This connect my project to the MySQL database.</p>\n<p><a href=\"https://i.stack.imgur.com/BUu8m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BUu8m.png\" alt=\"enter image description here\" /></a></p>\n<p>Here we have to change the connection code also.</p>\n<pre><code>Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\ncn=(java.sql.Connection)DriverManager.getConnection(&quot;jdbc:mysql://localhost:3308/test2?zeroDateTimeBehavior=convertToNull&quot;,&quot;root&quot;,&quot;&quot;);\n</code></pre>\n<p>Changing the port number in the connection code is also necessary as <code>localhost:3308</code> to resolved the error.</p>\n<p>Also, the admin properties in my case.\n<a href=\"https://i.stack.imgur.com/L57ko.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L57ko.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":68659,"reputation":2464,"user_id":200212,"accept_rate":75,"display_name":"alex"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1610224638,"creation_date":1610224638,"answer_id":65647361,"question_id":26515700,"body_markdown":"Setting the time zone by location for a spring boot application inside the `application.properties` file to\r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/db?serverTimezone=Europe/Berlin\r\n\r\nresolved the problem for the `CET` / `CEST` time zone. The `pom.xml` uses the maven artifact\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.22&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>Setting the time zone by location for a spring boot application inside the <code>application.properties</code> file to</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/db?serverTimezone=Europe/Berlin\n</code></pre>\n<p>resolved the problem for the <code>CET</code> / <code>CEST</code> time zone. The <code>pom.xml</code> uses the maven artifact</p>\n<pre><code>    &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;8.0.22&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18404650,"reputation":81,"user_id":13417290,"display_name":"Rossi Alex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620690906,"creation_date":1620690906,"answer_id":67478909,"question_id":26515700,"body_markdown":"The connection string worked for me this\r\n\r\n`jdbc:mysql://localhost/&lt;yourDbName&gt;?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC`\r\n\r\nI am using Gradle my build.gradle file is like this\r\n```\r\ndependencies {\r\n    // https://mvnrepository.com/artifact/mysql/mysql-connector-java\r\n    implementation group: &#39;mysql&#39;, name: &#39;mysql-connector-java&#39;, version: &#39;8.0.17&#39;\r\n    testCompile group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.12&#39;\r\n}\r\n```","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>The connection string worked for me this</p>\n<p><code>jdbc:mysql://localhost/&lt;yourDbName&gt;?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC</code></p>\n<p>I am using Gradle my build.gradle file is like this</p>\n<pre><code>dependencies {\n    // https://mvnrepository.com/artifact/mysql/mysql-connector-java\n    implementation group: 'mysql', name: 'mysql-connector-java', version: '8.0.17'\n    testCompile group: 'junit', name: 'junit', version: '4.12'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8297053,"reputation":727,"user_id":6236959,"display_name":"Shubham Kumar Gupta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642263349,"creation_date":1642263349,"answer_id":70723186,"question_id":26515700,"body_markdown":"my.ini\r\n\r\nAt the end add this line:\r\n\r\n    default-time-zone = &#39;+05:30&#39;\r\n\r\nfrom the terminal run this command\r\n\r\n    &gt;&gt; sudo mysql -e &quot;SET GLOBAL time_zone = ‘+5:30’;&quot; -u root\r\n    &gt;&gt; sudo mysql -e &quot;SELECT @@global.time_zone;&quot; -u root\r\n\r\nIf both of them do not work try using this request from sqoop using terminal\r\n\r\n    &gt;&gt; sqoop list-databases --connect &quot;jdbc:mysql://localhost/employees?serverTimezone=UTC&quot; --username sqoop -P\r\n\r\nOr you can just replace your request URL with this\r\n\r\n    jdbc:mysql://localhost/employees?serverTimezone=UTC\r\n\r\n\r\n   ","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>my.ini</p>\n<p>At the end add this line:</p>\n<pre><code>default-time-zone = '+05:30'\n</code></pre>\n<p>from the terminal run this command</p>\n<pre><code>&gt;&gt; sudo mysql -e &quot;SET GLOBAL time_zone = ‘+5:30’;&quot; -u root\n&gt;&gt; sudo mysql -e &quot;SELECT @@global.time_zone;&quot; -u root\n</code></pre>\n<p>If both of them do not work try using this request from sqoop using terminal</p>\n<pre><code>&gt;&gt; sqoop list-databases --connect &quot;jdbc:mysql://localhost/employees?serverTimezone=UTC&quot; --username sqoop -P\n</code></pre>\n<p>Or you can just replace your request URL with this</p>\n<pre><code>jdbc:mysql://localhost/employees?serverTimezone=UTC\n</code></pre>\n"}],"owner":{"account_id":1691486,"reputation":14379,"user_id":1553725,"display_name":"bluecollarcoder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":744738,"favorite_count":0,"down_vote_count":0,"up_vote_count":469,"accepted_answer_id":27276523,"answer_count":35,"score":469,"last_activity_date":1683167377,"creation_date":1414006655,"question_id":26515700,"body_markdown":"Some background:\r\n\r\nI have a Java 1.6 webapp running on Tomcat 7. The database is MySQL 5.5. Previously, I was using Mysql JDBC driver 5.1.23 to connect to the DB. Everything worked. I recently upgraded to Mysql JDBC driver 5.1.33. After the upgrade, Tomcat would throw this error when starting the app.\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    WARNING: Unexpected exception resolving reference\r\n    java.sql.SQLException: The server timezone value &#39;UTC&#39; is unrecognized or represents\r\n      more than one timezone. You must configure either the server or JDBC driver (via\r\n      the serverTimezone configuration property) to use a more specifc timezone value if\r\n      you want to utilize timezone support.\r\n\r\nWhy is this happening?","title":"MySQL JDBC Driver 5.1.33 - Time Zone Issue","body":"<p>Some background:</p>\n<p>I have a Java 1.6 webapp running on Tomcat 7. The database is MySQL 5.5. Previously, I was using Mysql JDBC driver 5.1.23 to connect to the DB. Everything worked. I recently upgraded to Mysql JDBC driver 5.1.33. After the upgrade, Tomcat would throw this error when starting the app.</p>\n<pre class=\"lang-none prettyprint-override\"><code>WARNING: Unexpected exception resolving reference\njava.sql.SQLException: The server timezone value 'UTC' is unrecognized or represents\n  more than one timezone. You must configure either the server or JDBC driver (via\n  the serverTimezone configuration property) to use a more specifc timezone value if\n  you want to utilize timezone support.\n</code></pre>\n<p>Why is this happening?</p>\n"},{"tags":["java","class","classloader"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1683166830,"post_id":76169153,"comment_id":134326077,"body_markdown":"You already know `-verbose:class`, so how about running `getUser` and see if `Car` gets loaded yourself? Also, why does this matter to you?","body":"You already know <code>-verbose:class</code>, so how about running <code>getUser</code> and see if <code>Car</code> gets loaded yourself? Also, why does this matter to you?"},{"owner":{"account_id":226660,"reputation":1229,"user_id":487832,"accept_rate":27,"display_name":"nzomkxia"},"score":0,"creation_date":1683182197,"post_id":76169153,"comment_id":134327736,"body_markdown":"@Sweeper just curious why  `Car` is loaded in runtime instead of starting time,  Is it a good reason to post this question？","body":"@Sweeper just curious why  <code>Car</code> is loaded in runtime instead of starting time,  Is it a good reason to post this question？"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1683182334,"post_id":76169153,"comment_id":134327773,"body_markdown":"&quot;Why&quot; is an unclear question - it is unclear what kind of answer will satisfy you. Is a quote from the language/JVM specification satisfy you? i.e. &quot;because the spec says so&quot;.","body":"&quot;Why&quot; is an unclear question - it is unclear what kind of answer will satisfy you. Is a quote from the language/JVM specification satisfy you? i.e. &quot;because the spec says so&quot;."},{"owner":{"account_id":226660,"reputation":1229,"user_id":487832,"accept_rate":27,"display_name":"nzomkxia"},"score":0,"creation_date":1683185432,"post_id":76169153,"comment_id":134328345,"body_markdown":"@Sweeper can you show me the quote in specification? thanks","body":"@Sweeper can you show me the quote in specification? thanks"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1683185968,"post_id":76169153,"comment_id":134328454,"body_markdown":"Oops, I got confused class loading with class initialisation, which the spec leaves more room for implementation details. Anyway, see [this answer](https://stackoverflow.com/a/34263422/5133585).","body":"Oops, I got confused class loading with class initialisation, which the spec leaves more room for implementation details. Anyway, see <a href=\"https://stackoverflow.com/a/34263422/5133585\">this answer</a>."}],"owner":{"account_id":226660,"reputation":1229,"user_id":487832,"accept_rate":27,"display_name":"nzomkxia"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683166718,"creation_date":1683166718,"question_id":76169153,"body_markdown":"here is the sample code:\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/v1/user&quot;)\r\npublic class JsonSampleController {\r\n\r\n    @GetMapping\r\n    public User getUser() {\r\n        Vehicle vehicle = new Car();\r\n        return new User(&quot;y&quot;, 4);\r\n    }\r\n}\r\n```\r\nafter the application is started, only ``Vehicle`` is loaded into JVM(result of -verbose:class), does `Car` will be loaded at runtime?","title":"declare a variable with interface type and initialize with concrete type, when will the concrete class will be loaded","body":"<p>here is the sample code:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/v1/user&quot;)\npublic class JsonSampleController {\n\n    @GetMapping\n    public User getUser() {\n        Vehicle vehicle = new Car();\n        return new User(&quot;y&quot;, 4);\n    }\n}\n</code></pre>\n<p>after the application is started, only <code>Vehicle</code> is loaded into JVM(result of -verbose:class), does <code>Car</code> will be loaded at runtime?</p>\n"},{"tags":["java","windows-7","unc"],"answers":[{"tags":[],"owner":{"account_id":2257919,"reputation":31815,"user_id":1988693,"accept_rate":76,"display_name":"drew moore"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1369221345,"creation_date":1369220993,"answer_id":16690227,"question_id":16690037,"body_markdown":"Firstly, &quot;Libraries&quot; is not an actual file-system location. Libraries point to file-system locations. If you right-click on a library in win7 and view its properties, you&#39;ll see the actual file-system location(s) it points to. By default, the Documents library points to \r\n`C:\\Users\\{userName}\\Documents`. In any case, you can access the current user&#39;s home directory by using: \r\n      \r\n    System.getProperty(&quot;user.home&quot;)\r\n\r\nSo, to access the documents folder: \r\n\r\n    File documentsFolder = new File(System.getProperty(&quot;user.home&quot;) + &quot;\\\\Documents&quot;);   \r\n","title":"Writing to Windows 7 library with Java application","body":"<p>Firstly, \"Libraries\" is not an actual file-system location. Libraries point to file-system locations. If you right-click on a library in win7 and view its properties, you'll see the actual file-system location(s) it points to. By default, the Documents library points to \n<code>C:\\Users\\{userName}\\Documents</code>. In any case, you can access the current user's home directory by using: </p>\n\n<pre><code>System.getProperty(\"user.home\")\n</code></pre>\n\n<p>So, to access the documents folder: </p>\n\n<pre><code>File documentsFolder = new File(System.getProperty(\"user.home\") + \"\\\\Documents\");   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683166671,"creation_date":1369222185,"answer_id":16690610,"question_id":16690037,"body_markdown":"You can use JNA :\r\n\r\n    import com.sun.jna.Native;\r\n    import com.sun.jna.platform.win32.Shell32;\r\n    import com.sun.jna.platform.win32.ShlObj;\r\n    import com.sun.jna.platform.win32.WinDef;\r\n    \r\n    ...\r\n    \r\n        char[] pszPath = new char[WinDef.MAX_PATH];\r\n        Shell32.INSTANCE.SHGetFolderPath(null,\r\n          ShlObj.CSIDL_MYDOCUMENTS, null, ShlObj.SHGFP_TYPE_CURRENT,\r\n          pszPath);\r\n        System.out.println(Native.toString(pszPath));\r\n\r\n\r\n\r\n\r\nAs an alternative, you can use a method provided by the JFileChooser class. \r\n\r\n    import javax.swing.JFileChooser;\r\n    javax.swing.filechooser.FileSystemView;\r\n    \r\n    public class GetMyDocuments {\r\n      public static void main(String args[]) {\r\n         JFileChooser fr = new JFileChooser();\r\n         FileSystemView fw = fr.getFileSystemView();\r\n         System.out.println(fw.getDefaultDirectory());\r\n      }\r\n    }\r\n\r\n\r\n  [1]: http://www.rgagnon.com/javadetails/java-get-windows-special-folders-using-jna.html","title":"Writing to Windows 7 library with Java application","body":"<p>You can use JNA :</p>\n<pre><code>import com.sun.jna.Native;\nimport com.sun.jna.platform.win32.Shell32;\nimport com.sun.jna.platform.win32.ShlObj;\nimport com.sun.jna.platform.win32.WinDef;\n\n...\n\n    char[] pszPath = new char[WinDef.MAX_PATH];\n    Shell32.INSTANCE.SHGetFolderPath(null,\n      ShlObj.CSIDL_MYDOCUMENTS, null, ShlObj.SHGFP_TYPE_CURRENT,\n      pszPath);\n    System.out.println(Native.toString(pszPath));\n</code></pre>\n<p>As an alternative, you can use a method provided by the JFileChooser class.</p>\n<pre><code>import javax.swing.JFileChooser;\njavax.swing.filechooser.FileSystemView;\n\npublic class GetMyDocuments {\n  public static void main(String args[]) {\n     JFileChooser fr = new JFileChooser();\n     FileSystemView fw = fr.getFileSystemView();\n     System.out.println(fw.getDefaultDirectory());\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":2348172,"reputation":431,"user_id":2183504,"accept_rate":62,"display_name":"user42179"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":16690227,"answer_count":2,"score":2,"last_activity_date":1683166671,"creation_date":1369220391,"question_id":16690037,"body_markdown":"In the company, we&#39;ve got several global Java applications used by our employees. Some of them allow the users to create reports, which are always saved in their home directory. The home directories are network drives and are assigned the drive letter `U:/` when a user logs himself in on his computer. So, in the applications, the path to the report destination directory is simply a hard coded `U:\\Reports`.\r\n\r\nHowever, we will soon migrate from Windows XP to Windows 7 and use a different structure: The users will get new home directories on other servers, which will be accessible in the Documents Library in the Windows 7 Explorer. There wont be any drive letters anymore. \r\n\r\nSo the new path for the report directory is supposed to be `Libraries\\Documents\\My Documents\\Reports`. But how would I be able to access this path in Java? How can I find the actual, absolute UNC path (if this is even necessary)?\r\n\r\nI can&#39;t just use `\\\\theserver\\users\\username`, since we&#39;ve got multiple servers (one for every continent). I have to use the folder in the Windows 7 Document library.","title":"Writing to Windows 7 library with Java application","body":"<p>In the company, we've got several global Java applications used by our employees. Some of them allow the users to create reports, which are always saved in their home directory. The home directories are network drives and are assigned the drive letter <code>U:/</code> when a user logs himself in on his computer. So, in the applications, the path to the report destination directory is simply a hard coded <code>U:\\Reports</code>.</p>\n\n<p>However, we will soon migrate from Windows XP to Windows 7 and use a different structure: The users will get new home directories on other servers, which will be accessible in the Documents Library in the Windows 7 Explorer. There wont be any drive letters anymore. </p>\n\n<p>So the new path for the report directory is supposed to be <code>Libraries\\Documents\\My Documents\\Reports</code>. But how would I be able to access this path in Java? How can I find the actual, absolute UNC path (if this is even necessary)?</p>\n\n<p>I can't just use <code>\\\\theserver\\users\\username</code>, since we've got multiple servers (one for every continent). I have to use the folder in the Windows 7 Document library.</p>\n"},{"tags":["java","multithreading","performance","oracle"],"comments":[{"owner":{"account_id":36618,"reputation":9065,"user_id":104480,"accept_rate":80,"display_name":"ebo"},"score":0,"creation_date":1291292109,"post_id":4334830,"comment_id":4711843,"body_markdown":"Please include the algorithm and queries your are currently using.","body":"Please include the algorithm and queries your are currently using."}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1291292589,"creation_date":1291292194,"answer_id":4334868,"question_id":4334830,"body_markdown":"You can retrieve the Items, a joined query to obtain the Audit and another to obtain the Comments.\r\n\r\nA way to speed up the query results is to return the select line as a single concatenated string and split the line yourself.  This used to speed up retrieval by a factor of 2-3.  Newer versions of Oracle may be smarter in this regard and have less overhead.\r\n\r\n\r\nHowever the volume of data you have this is likely to take a while to get from Oracle in any case.","title":"how to increase the performance of the java application fetching a large data from oracle database?","body":"<p>You can retrieve the Items, a joined query to obtain the Audit and another to obtain the Comments.</p>\n\n<p>A way to speed up the query results is to return the select line as a single concatenated string and split the line yourself.  This used to speed up retrieval by a factor of 2-3.  Newer versions of Oracle may be smarter in this regard and have less overhead.</p>\n\n<p>However the volume of data you have this is likely to take a while to get from Oracle in any case.</p>\n"},{"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1291292365,"creation_date":1291292365,"answer_id":4334893,"question_id":4334830,"body_markdown":"Read this resource: http://www.w3schools.com/Sql/sql_join.asp and use join.","title":"how to increase the performance of the java application fetching a large data from oracle database?","body":"<p>Read this resource: <a href=\"http://www.w3schools.com/Sql/sql_join.asp\" rel=\"nofollow\">http://www.w3schools.com/Sql/sql_join.asp</a> and use join.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1291292499,"creation_date":1291292499,"answer_id":4334912,"question_id":4334830,"body_markdown":"It is unclear what you are doing, and what your real problem is from the limited information you have provided.\r\n\r\n- If you are doing a million individual (small) queries, you should consider restructuring your application so that it combines them in batches, or does a SELECT over the entire table.\r\n\r\n- If the problem is fetching a million rows in a single query, then consider using a more complicated query, or a stored query, or something to do some data reduction on the database side.","title":"how to increase the performance of the java application fetching a large data from oracle database?","body":"<p>It is unclear what you are doing, and what your real problem is from the limited information you have provided.</p>\n\n<ul>\n<li><p>If you are doing a million individual (small) queries, you should consider restructuring your application so that it combines them in batches, or does a SELECT over the entire table.</p></li>\n<li><p>If the problem is fetching a million rows in a single query, then consider using a more complicated query, or a stored query, or something to do some data reduction on the database side.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":178681,"reputation":2681,"user_id":410826,"accept_rate":44,"display_name":"winkbrace"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1291303560,"creation_date":1291303560,"answer_id":4336591,"question_id":4334830,"body_markdown":"Probably best to combine a UNION with a JOIN to fetch all data the best way.\r\nThe query might look something like this:\r\n\r\n    select itm.itemid\r\n    ,      tmp.what || &#39; &#39; || tmp.entry || &#39; for Item &#39; || tmp.itemid line\r\n    from   items itm\r\n    join\r\n    (\r\n        select itemid\r\n        ,      entry \r\n        ,      &#39;Audit&#39; what\r\n        from   audits\r\n        union all\r\n        select itemid\r\n        ,      entry \r\n        ,      &#39;Comment&#39; what\r\n        from   comments\r\n    ) tmp on itm.itemid = tmp.itemid","title":"how to increase the performance of the java application fetching a large data from oracle database?","body":"<p>Probably best to combine a UNION with a JOIN to fetch all data the best way.\nThe query might look something like this:</p>\n\n<pre><code>select itm.itemid\n,      tmp.what || ' ' || tmp.entry || ' for Item ' || tmp.itemid line\nfrom   items itm\njoin\n(\n    select itemid\n    ,      entry \n    ,      'Audit' what\n    from   audits\n    union all\n    select itemid\n    ,      entry \n    ,      'Comment' what\n    from   comments\n) tmp on itm.itemid = tmp.itemid\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12926,"reputation":35063,"user_id":25714,"display_name":"Gary Myers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1291332727,"creation_date":1291332727,"answer_id":4341108,"question_id":4334830,"body_markdown":"My thought is run three queries (one to return all the items, one for all the comments and one for all the audit entries) each one sorted by item id\r\n\r\n    SELECT * FROM\r\n      (SELECT itemid, 1 type, null seq, item_line line\r\n       from items\r\n       union all\r\n       select itemid, 2, audit_seq, audit_line\r\n       from audit\r\n       union all\r\n       select itemid, 3, comment_seq comment_line \r\n       from comments)\r\n    order by itemid, type, seq\r\n\r\nIt means putting all the logic to build the line entries into the database but it will probably run a lot faster than the java code.\r\n  \r\n\r\n\r\n","title":"how to increase the performance of the java application fetching a large data from oracle database?","body":"<p>My thought is run three queries (one to return all the items, one for all the comments and one for all the audit entries) each one sorted by item id</p>\n\n<pre><code>SELECT * FROM\n  (SELECT itemid, 1 type, null seq, item_line line\n   from items\n   union all\n   select itemid, 2, audit_seq, audit_line\n   from audit\n   union all\n   select itemid, 3, comment_seq comment_line \n   from comments)\norder by itemid, type, seq\n</code></pre>\n\n<p>It means putting all the logic to build the line entries into the database but it will probably run a lot faster than the java code.</p>\n"},{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683166649,"creation_date":1291345385,"answer_id":4342086,"question_id":4334830,"body_markdown":"After you manage your UNION/JOIN as BazzPsychoNut said, it may be helpful to adjust the FetchSize value to greater value if the ResultSet is big. The default value for Oracle is 10.\r\n\r\n    Statement stmt = conn.createStatement();\r\n    stmt.setFetchSize(200);\r\n    ResultSet rset = stmt.executeQuery(sql);\r\n\r\n\r\n\r\n\r\n  [1]: http://www.rgagnon.com/javadetails/java-0659.html","title":"how to increase the performance of the java application fetching a large data from oracle database?","body":"<p>After you manage your UNION/JOIN as BazzPsychoNut said, it may be helpful to adjust the FetchSize value to greater value if the ResultSet is big. The default value for Oracle is 10.</p>\n<pre><code>Statement stmt = conn.createStatement();\nstmt.setFetchSize(200);\nResultSet rset = stmt.executeQuery(sql);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":45742,"reputation":2817,"user_id":134967,"accept_rate":69,"display_name":"jva"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1291369774,"creation_date":1291369154,"answer_id":4344203,"question_id":4334830,"body_markdown":"You can write a stored procedure that would output the file with utl_file package and just call that from java. That way you can just use something like\r\n\r\n    f := utl_file.fopen(&#39;my_dir&#39;,&#39;my_file&#39;,&#39;w&#39;);\r\n    FOR r_items IN (SELECT * FROM items) LOOP\r\n      utl_file.put_line(f,r_items.name);\r\n      \r\n      FOR r_audit IN (SELECT * FROM audit WHERE item_id = r_items.id) LOOP\r\n        utl_file.put_line(f,r_audit.some_field);\r\n      END LOOP;\r\n\r\n      FOR r_comments IN (SELECT * FROM comments WHERE item_id = r_items.id) LOOP\r\n        utl_file.put_line(f,r_comments.some_field);\r\n      END LOOP;\r\n    END LOOP;\r\n","title":"how to increase the performance of the java application fetching a large data from oracle database?","body":"<p>You can write a stored procedure that would output the file with utl_file package and just call that from java. That way you can just use something like</p>\n\n<pre><code>f := utl_file.fopen('my_dir','my_file','w');\nFOR r_items IN (SELECT * FROM items) LOOP\n  utl_file.put_line(f,r_items.name);\n\n  FOR r_audit IN (SELECT * FROM audit WHERE item_id = r_items.id) LOOP\n    utl_file.put_line(f,r_audit.some_field);\n  END LOOP;\n\n  FOR r_comments IN (SELECT * FROM comments WHERE item_id = r_items.id) LOOP\n    utl_file.put_line(f,r_comments.some_field);\n  END LOOP;\nEND LOOP;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":216784,"reputation":12653,"user_id":472226,"accept_rate":73,"display_name":"Ronnis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1291483715,"creation_date":1291483715,"answer_id":4354812,"question_id":4334830,"body_markdown":"If your system (hardware, configuration etc) is sized to handle the amount of data you put in it, the best, fastest and simplest way is to simply join the tables in one query, fetch the rows (see other comments about fetch_size) and then dump it in whatever format you want.\r\n\r\nJudging from the example output format, you need to process the rows in sorted order (item, audit, comments). You would iterate over the rows and keeping track of the last item processed, and whenever the current ITEM_ID is different from the previous you output the item data.\r\n\r\nThe single most important aspect for you to consider when you decide on how to implement this, is whether the join and sort fits in memory or not. If the sort/join spills to disk, you will have to work around that in order to achieve the desired performance. Some examples on how to avoid the disk spill:\r\n\r\nHash partition the tables (or a copy of them) on the ITEM_ID. You may then join the tables partitionwise so that each join fits inside memory.\r\n\r\nOr you could fetch all data from all tables, and in your java code, put the items in a linked list, and the audits/comments in some hash-based structure keyed by item_no. You&#39;d then iterate over the items and query audit/comments by the item_id. This solution avoids a sort operation, and doesn&#39;t need to fit the joined result in memory.\r\n\r\nOr you can implement some do-it-yourself partitioning. For example, query the data 9 times. In the first query you fetch only items with ITEM_ID starting or ending with 1. Second query fetcehs all items starting/ending with 2 etcetera. This solution results in 9 table scans on all tables, which is clearly not very efficient. But if you can avoid the spill to disk, it may actually be faster.","title":"how to increase the performance of the java application fetching a large data from oracle database?","body":"<p>If your system (hardware, configuration etc) is sized to handle the amount of data you put in it, the best, fastest and simplest way is to simply join the tables in one query, fetch the rows (see other comments about fetch_size) and then dump it in whatever format you want.</p>\n\n<p>Judging from the example output format, you need to process the rows in sorted order (item, audit, comments). You would iterate over the rows and keeping track of the last item processed, and whenever the current ITEM_ID is different from the previous you output the item data.</p>\n\n<p>The single most important aspect for you to consider when you decide on how to implement this, is whether the join and sort fits in memory or not. If the sort/join spills to disk, you will have to work around that in order to achieve the desired performance. Some examples on how to avoid the disk spill:</p>\n\n<p>Hash partition the tables (or a copy of them) on the ITEM_ID. You may then join the tables partitionwise so that each join fits inside memory.</p>\n\n<p>Or you could fetch all data from all tables, and in your java code, put the items in a linked list, and the audits/comments in some hash-based structure keyed by item_no. You'd then iterate over the items and query audit/comments by the item_id. This solution avoids a sort operation, and doesn't need to fit the joined result in memory.</p>\n\n<p>Or you can implement some do-it-yourself partitioning. For example, query the data 9 times. In the first query you fetch only items with ITEM_ID starting or ending with 1. Second query fetcehs all items starting/ending with 2 etcetera. This solution results in 9 table scans on all tables, which is clearly not very efficient. But if you can avoid the spill to disk, it may actually be faster.</p>\n"}],"owner":{"account_id":63693,"reputation":617,"user_id":188415,"display_name":"JSixface"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3191,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":4344203,"answer_count":8,"score":1,"last_activity_date":1683166649,"creation_date":1291291916,"question_id":4334830,"body_markdown":"I have 3 database tables - Items, Audits and Comments. I have to fetch a large amount of data from _Items_ table, say 1 million records, and for each item fetched, I have to retrive the data from _Audits_ and _Comments_ and write the report to a delimited file. So the output may look like ,\r\n\r\n    Item entry 1\r\n        Audit entry 1 for Item 1\r\n        Audit entry 2 for Item 1\r\n        Audit entry 3 for Item 1\r\n        Comment entry 1 for Item 1\r\n        Comment entry 2 for Item 1\r\n    Item entry 2 \r\n        Audit entry 1 for Item 2\r\n        .\r\n        .\r\n        .\r\nNow this is taking so much time, because the program is querying the oracle 1 million times for every _item_. I would like to increase the performance thru threads but i&#39;m not familiar with the threads. So could someone help me with the performance increase ?\r\n","title":"how to increase the performance of the java application fetching a large data from oracle database?","body":"<p>I have 3 database tables - Items, Audits and Comments. I have to fetch a large amount of data from <em>Items</em> table, say 1 million records, and for each item fetched, I have to retrive the data from <em>Audits</em> and <em>Comments</em> and write the report to a delimited file. So the output may look like ,</p>\n\n<pre><code>Item entry 1\n    Audit entry 1 for Item 1\n    Audit entry 2 for Item 1\n    Audit entry 3 for Item 1\n    Comment entry 1 for Item 1\n    Comment entry 2 for Item 1\nItem entry 2 \n    Audit entry 1 for Item 2\n    .\n    .\n    .\n</code></pre>\n\n<p>Now this is taking so much time, because the program is querying the oracle 1 million times for every <em>item</em>. I would like to increase the performance thru threads but i'm not familiar with the threads. So could someone help me with the performance increase ?</p>\n"},{"tags":["java","jsp","jboss","recompile"],"answers":[{"tags":[],"owner":{"account_id":35647,"reputation":2298,"user_id":101031,"accept_rate":100,"display_name":"Mr. Will"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1244150299,"creation_date":1244150299,"answer_id":953165,"question_id":952309,"body_markdown":"I don&#39;t know of a setting, but deleting the generated Java class file in the work directory of your JBoss instance will cause the JSP to be recompiled the next time it is called.","title":"How can you force recompilation of jsps in JBoss 4.2?","body":"<p>I don't know of a setting, but deleting the generated Java class file in the work directory of your JBoss instance will cause the JSP to be recompiled the next time it is called.</p>\n"},{"tags":[],"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1244387274,"creation_date":1244387274,"answer_id":962057,"question_id":952309,"body_markdown":"You coudl alter the JBoss startup scripts to explicitly delete the &quot;tmp&quot; and/or &quot;work&quot; directories, where the compiled JSPs are stored. JBoss would then have no choice but to recompile them all. \r\n\r\nNot subtle, but it would do the job.","title":"How can you force recompilation of jsps in JBoss 4.2?","body":"<p>You coudl alter the JBoss startup scripts to explicitly delete the \"tmp\" and/or \"work\" directories, where the compiled JSPs are stored. JBoss would then have no choice but to recompile them all. </p>\n\n<p>Not subtle, but it would do the job.</p>\n"},{"tags":[],"owner":{"account_id":38490,"reputation":8552,"user_id":110478,"accept_rate":63,"display_name":"Pablojim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1244536288,"creation_date":1244536288,"answer_id":968859,"question_id":952309,"body_markdown":"One option for you would be to precompile all of your jsp&#39;s at build time. This would quickly flag any compilation errors.\r\n\r\nYou could also do this in production - speeding up first access but I get the feeling you want this more for a QA step than anything else. If so, you could add the precompile step to the your testing phase in your build tool of choice - and so to your CI environment. This would provide assurance that jsp&#39;s that don&#39;t compile won&#39;t make it out of test. \r\n\r\nSee this for details on running a precompile task:\r\n\r\n[Jboss Jasper configuration][1]\r\n\r\nHope this helps.\r\n\r\n\r\n  [1]: http://www.jboss.org/file-access/default/members/jbossweb/freezone/docs/latest/jasper-howto.html","title":"How can you force recompilation of jsps in JBoss 4.2?","body":"<p>One option for you would be to precompile all of your jsp's at build time. This would quickly flag any compilation errors.</p>\n\n<p>You could also do this in production - speeding up first access but I get the feeling you want this more for a QA step than anything else. If so, you could add the precompile step to the your testing phase in your build tool of choice - and so to your CI environment. This would provide assurance that jsp's that don't compile won't make it out of test. </p>\n\n<p>See this for details on running a precompile task:</p>\n\n<p><a href=\"http://www.jboss.org/file-access/default/members/jbossweb/freezone/docs/latest/jasper-howto.html\" rel=\"nofollow noreferrer\">Jboss Jasper configuration</a></p>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683166572,"creation_date":1244633625,"answer_id":975055,"question_id":952309,"body_markdown":"Some JSP containers (as per section 8.4.2 of the JSP 1.2 specification) support the capability of precompiling a JSP page.\r\n\r\nTo precompile a JSP page, access the page with a query string of ?jsp_precompile\r\n\r\n    http://hostname.com/mywebapp/mypage.jsp?jsp_precompile\r\n\r\nThe JSP page will not be executed. If the container supports precompilation, the JSP page will be compiled if necessary. \r\n\r\n\r\n\r\n\r\n  [1]: http://www.rgagnon.com/javadetails/java-0414.html","title":"How can you force recompilation of jsps in JBoss 4.2?","body":"<p>Some JSP containers (as per section 8.4.2 of the JSP 1.2 specification) support the capability of precompiling a JSP page.</p>\n<p>To precompile a JSP page, access the page with a query string of ?jsp_precompile</p>\n<pre><code>http://hostname.com/mywebapp/mypage.jsp?jsp_precompile\n</code></pre>\n<p>The JSP page will not be executed. If the container supports precompilation, the JSP page will be compiled if necessary.</p>\n"},{"tags":[],"owner":{"account_id":6664,"reputation":85917,"user_id":11296,"display_name":"Bert F"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1300719265,"creation_date":1244770079,"answer_id":984618,"question_id":952309,"body_markdown":"If the JSPs are part of a WAR that is part of an EAR that is being deployed as a jar, then I&#39;m not clear why your JSPs are not being recompiled.  Don&#39;t the JSPs in the war file have newer timestamps than their JBoss-compiled class files from the last deploy?  If not, couldn&#39;t you touch the JSPs as part of building the WAR/EAR before deploying.  [I&#39;m referring to using the Unix &quot;touch&quot; command, not manually touching each JSP file.]\r\n\r\nAlternatively, the DeleteWorkDirOnContextDestroy setting in $JBOSS/server/default/deploy/jboss-web.deployer/META-INF/jboss-service.xml may be what you are looking for.  It is false by default, but setting it to true may be what you need.  I think this should delete the JSPs&#39; class files on redeploy so that they get recreated upon first access of each JSP.\r\n\r\nSee [https://jira.jboss.org/jira/browse/JBAS-3358][1] for more info.\r\n\r\n  [1]: https://jira.jboss.org/jira/browse/JBAS-3358","title":"How can you force recompilation of jsps in JBoss 4.2?","body":"<p>If the JSPs are part of a WAR that is part of an EAR that is being deployed as a jar, then I'm not clear why your JSPs are not being recompiled.  Don't the JSPs in the war file have newer timestamps than their JBoss-compiled class files from the last deploy?  If not, couldn't you touch the JSPs as part of building the WAR/EAR before deploying.  [I'm referring to using the Unix \"touch\" command, not manually touching each JSP file.]</p>\n\n<p>Alternatively, the DeleteWorkDirOnContextDestroy setting in $JBOSS/server/default/deploy/jboss-web.deployer/META-INF/jboss-service.xml may be what you are looking for.  It is false by default, but setting it to true may be what you need.  I think this should delete the JSPs' class files on redeploy so that they get recreated upon first access of each JSP.</p>\n\n<p>See <a href=\"https://jira.jboss.org/jira/browse/JBAS-3358\" rel=\"noreferrer\">https://jira.jboss.org/jira/browse/JBAS-3358</a> for more info.</p>\n"},{"tags":[],"owner":{"account_id":8977,"reputation":18862,"user_id":16404,"accept_rate":95,"display_name":"Mike Pone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1244819275,"creation_date":1244819275,"answer_id":987164,"question_id":952309,"body_markdown":"Pablojim is on the right track.  You just need some more info to get a complete view of what&#39;s going on.  Here&#39;s how I understand it.\r\n\r\n  In prod, you&#39;ve changed a jsp that requires other jsps to be recompiled.  In order for them to be recompiled one of 2 things must happen\r\n  \r\n1.  The compiled version of the jsp needs to be deleted.\r\n2.  The jsp itself needs to be modified (or even if it&#39;s &quot;touched&quot; - modified date is updated)\r\n\r\nIf you still need to verify that all your jsps work, they will all need to be [precompiled using an ant task][1].  this also allows you to deploy the war file with the precompiled jsps in the war file.  This should solve your problem.\r\n\r\nIf your files are not deployed in a war file, but in an exploded format, you should [seriously consider packaging your web app][2] in a war file for deployment.  This makes it a nice package to deploy between environments.\r\n\r\n\r\n  [1]: http://www.jboss.org/community/wiki/PrecompileJSPs\r\n  [2]: http://www.theserverside.com/discussions/thread.tss?thread_id=32903","title":"How can you force recompilation of jsps in JBoss 4.2?","body":"<p>Pablojim is on the right track.  You just need some more info to get a complete view of what's going on.  Here's how I understand it.</p>\n\n<p>In prod, you've changed a jsp that requires other jsps to be recompiled.  In order for them to be recompiled one of 2 things must happen</p>\n\n<ol>\n<li>The compiled version of the jsp needs to be deleted.</li>\n<li>The jsp itself needs to be modified (or even if it's \"touched\" - modified date is updated)</li>\n</ol>\n\n<p>If you still need to verify that all your jsps work, they will all need to be <a href=\"http://www.jboss.org/community/wiki/PrecompileJSPs\" rel=\"nofollow noreferrer\">precompiled using an ant task</a>.  this also allows you to deploy the war file with the precompiled jsps in the war file.  This should solve your problem.</p>\n\n<p>If your files are not deployed in a war file, but in an exploded format, you should <a href=\"http://www.theserverside.com/discussions/thread.tss?thread_id=32903\" rel=\"nofollow noreferrer\">seriously consider packaging your web app</a> in a war file for deployment.  This makes it a nice package to deploy between environments.</p>\n"}],"owner":{"account_id":28947,"reputation":90759,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17049,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":984618,"answer_count":6,"score":7,"last_activity_date":1683166572,"creation_date":1244140387,"question_id":952309,"body_markdown":"I hit on this nasty behavior on JBoss 4.2 in QA, and I want to nip it in the bud before we go into production and find some other corner case.\r\n\r\nA jsp calles a method that had the following signature:\r\n\r\n     public void methodName(String arg)\r\n\r\nThis was changed to:\r\n\r\n     public void methodName(String arg, Object... args)\r\n\r\nA pre-existing JSP called this method via:\r\n\r\n     methodName(&quot;param&quot;);\r\n\r\nOn deployment of the modified code, JBoss did not recompile the JSP and this caused a crash in QA. Adding a silly comment to the jsp fixed the problem (JBoss recognized that the JSP changed and recompiled it).\r\n\r\nIs there a setting on JBoss to force recompilation of JSPs on restart?\r\n\r\nEDIT: To clarify some points in the answer, the setup is that the JSPs are part of a war which is part of an ear. The ear has all classes in it, in a jar.\r\n\r\nRegarding the desire to pre-compile, if the system doesn&#39;t think that the jsp needs compilation, will pre-compile force recompilation? It doesn&#39;t seem so. The error here is not a compliation error, it is a method invocation error because of the &quot;changed&quot; (at the byte code level, not really at the code level) method signature.\r\n\r\nAddendum: Note that we experienced in production recently that even with the accepted answer&#39;s flag set the JSPs did not recompile, even though the JSP did in fact change. Major bug there, but regardless, JBoss was shutdown normally. At this point it is getting to be an old version of JBoss, but if you are still using it, deleting the content of the work and tmp directories is the only way to be sure.\r\n\r\nI&#39;m not changing the accepted answer simply because it really gets to the point of what the question was looking for. JBoss bugs are kind of a separate issue.","title":"How can you force recompilation of jsps in JBoss 4.2?","body":"<p>I hit on this nasty behavior on JBoss 4.2 in QA, and I want to nip it in the bud before we go into production and find some other corner case.</p>\n\n<p>A jsp calles a method that had the following signature:</p>\n\n<pre><code> public void methodName(String arg)\n</code></pre>\n\n<p>This was changed to:</p>\n\n<pre><code> public void methodName(String arg, Object... args)\n</code></pre>\n\n<p>A pre-existing JSP called this method via:</p>\n\n<pre><code> methodName(\"param\");\n</code></pre>\n\n<p>On deployment of the modified code, JBoss did not recompile the JSP and this caused a crash in QA. Adding a silly comment to the jsp fixed the problem (JBoss recognized that the JSP changed and recompiled it).</p>\n\n<p>Is there a setting on JBoss to force recompilation of JSPs on restart?</p>\n\n<p>EDIT: To clarify some points in the answer, the setup is that the JSPs are part of a war which is part of an ear. The ear has all classes in it, in a jar.</p>\n\n<p>Regarding the desire to pre-compile, if the system doesn't think that the jsp needs compilation, will pre-compile force recompilation? It doesn't seem so. The error here is not a compliation error, it is a method invocation error because of the \"changed\" (at the byte code level, not really at the code level) method signature.</p>\n\n<p>Addendum: Note that we experienced in production recently that even with the accepted answer's flag set the JSPs did not recompile, even though the JSP did in fact change. Major bug there, but regardless, JBoss was shutdown normally. At this point it is getting to be an old version of JBoss, but if you are still using it, deleting the content of the work and tmp directories is the only way to be sure.</p>\n\n<p>I'm not changing the accepted answer simply because it really gets to the point of what the question was looking for. JBoss bugs are kind of a separate issue.</p>\n"},{"tags":["java","html","email","viewer"],"comments":[{"owner":{"account_id":1190,"reputation":492175,"user_id":1583,"accept_rate":100,"display_name":"Oded"},"score":0,"creation_date":1281439965,"post_id":3448352,"comment_id":3594434,"body_markdown":"Would .NET components running with mod_mono be OK?","body":"Would .NET components running with mod_mono be OK?"},{"owner":{"account_id":30369,"reputation":30094,"user_id":82804,"accept_rate":72,"display_name":"David Rabinowitz"},"score":0,"creation_date":1281509010,"post_id":3448352,"comment_id":3603332,"body_markdown":"@Oded - what do you have in mind?","body":"@Oded - what do you have in mind?"},{"owner":{"account_id":1190,"reputation":492175,"user_id":1583,"accept_rate":100,"display_name":"Oded"},"score":0,"creation_date":1281511750,"post_id":3448352,"comment_id":3603621,"body_markdown":"There are a number of proprietary .NET libraries/solutions that may be able to run under mono/apache. This is more of a long shot as it will need to be tested. If there is something native, I would go with that.","body":"There are a number of proprietary .NET libraries/solutions that may be able to run under mono/apache. This is more of a long shot as it will need to be tested. If there is something native, I would go with that."},{"owner":{"account_id":1016849,"reputation":9461,"user_id":2026105,"display_name":"ETL"},"score":1,"creation_date":1417537333,"post_id":3448352,"comment_id":42982104,"body_markdown":"Did you ever find anything?","body":"Did you ever find anything?"},{"owner":{"account_id":3128733,"reputation":2388,"user_id":2657549,"accept_rate":0,"display_name":"Cl&#233;ment"},"score":0,"creation_date":1509331592,"post_id":3448352,"comment_id":80961560,"body_markdown":"@DavidRabinowitz So... Did you ever find anything?","body":"@DavidRabinowitz So... Did you ever find anything?"},{"owner":{"account_id":30369,"reputation":30094,"user_id":82804,"accept_rate":72,"display_name":"David Rabinowitz"},"score":0,"creation_date":1509357533,"post_id":3448352,"comment_id":80971094,"body_markdown":"It&#39;s been a long time since i have needed that, but I haven&#39;t find anything. I guess it&#39;s such a corner use case in practice, so there&#39;s no component for that. Also, the web UI is not trends to JS mostly code(Node, Angular, React, etc.), less Java based sites, so I don&#39;t think there will be one.","body":"It&#39;s been a long time since i have needed that, but I haven&#39;t find anything. I guess it&#39;s such a corner use case in practice, so there&#39;s no component for that. Also, the web UI is not trends to JS mostly code(Node, Angular, React, etc.), less Java based sites, so I don&#39;t think there will be one."}],"answers":[{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1683166525,"creation_date":1281440075,"answer_id":3448458,"question_id":3448352,"body_markdown":"Javamail can read EML file.\r\n\r\n    import java.util.*;\r\n    import java.io.*;\r\n    import javax.mail.*;\r\n    import javax.mail.internet.*;\r\n    \r\n    public class ReadEmail {\r\n    \r\n       public static void main(String args[]) throws Exception{\r\n           display(new File(&quot;C:\\\\temp\\\\message.eml&quot;));\r\n    \r\n       }\r\n    \r\n       public static void display(File emlFile) throws Exception{\r\n            Properties props = System.getProperties();\r\n            props.put(&quot;mail.host&quot;, &quot;smtp.dummydomain.com&quot;);\r\n            props.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\r\n    \r\n            Session mailSession = Session.getDefaultInstance(props, null);\r\n            InputStream source = new FileInputStream(emlFile);\r\n            MimeMessage message = new MimeMessage(mailSession, source);\r\n    \r\n    \r\n            System.out.println(&quot;Subject : &quot; + message.getSubject());\r\n            System.out.println(&quot;From : &quot; + message.getFrom()[0]);\r\n            System.out.println(&quot;--------------&quot;);\r\n            System.out.println(&quot;Body : &quot; +  message.getContent());\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n  [1]: http://www.rgagnon.com/javadetails/java-0458.html","title":"Display .eml file in a web appication","body":"<p>Javamail can read EML file.</p>\n<pre><code>import java.util.*;\nimport java.io.*;\nimport javax.mail.*;\nimport javax.mail.internet.*;\n\npublic class ReadEmail {\n\n   public static void main(String args[]) throws Exception{\n       display(new File(&quot;C:\\\\temp\\\\message.eml&quot;));\n\n   }\n\n   public static void display(File emlFile) throws Exception{\n        Properties props = System.getProperties();\n        props.put(&quot;mail.host&quot;, &quot;smtp.dummydomain.com&quot;);\n        props.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\n\n        Session mailSession = Session.getDefaultInstance(props, null);\n        InputStream source = new FileInputStream(emlFile);\n        MimeMessage message = new MimeMessage(mailSession, source);\n\n\n        System.out.println(&quot;Subject : &quot; + message.getSubject());\n        System.out.println(&quot;From : &quot; + message.getFrom()[0]);\n        System.out.println(&quot;--------------&quot;);\n        System.out.println(&quot;Body : &quot; +  message.getContent());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10789355,"reputation":65,"user_id":7937416,"display_name":"sunrelax"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554799943,"creation_date":1554799943,"answer_id":55588726,"question_id":3448352,"body_markdown":"You could convert .eml into javax.mail.Messages mailMessage as:\r\n\r\nhttps://stackoverflow.com/questions/2781739/loading-eml-files-into-javax-mail-messages\r\n\r\nthen you could use this library to convert in MessageBean:\r\n\r\nhttp://javaclue.blogspot.com/2009/09/portable-java-mail-message-bean_02.html\r\n\r\nMessageBean mb = MessageBeanUtil.mimeToBean(mailMessage);\r\n\r\n","title":"Display .eml file in a web appication","body":"<p>You could convert .eml into javax.mail.Messages mailMessage as:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/2781739/loading-eml-files-into-javax-mail-messages\">Loading .eml files into javax.mail.Messages</a></p>\n\n<p>then you could use this library to convert in MessageBean:</p>\n\n<p><a href=\"http://javaclue.blogspot.com/2009/09/portable-java-mail-message-bean_02.html\" rel=\"nofollow noreferrer\">http://javaclue.blogspot.com/2009/09/portable-java-mail-message-bean_02.html</a></p>\n\n<p>MessageBean mb = MessageBeanUtil.mimeToBean(mailMessage);</p>\n"}],"owner":{"account_id":30369,"reputation":30094,"user_id":82804,"accept_rate":72,"display_name":"David Rabinowitz"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5970,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1683166525,"creation_date":1281439283,"question_id":3448352,"body_markdown":"I have a web application where I need to display .eml files (in RFC 822 format) to the users, formatted properly as e-mail - show the HTML to text body properly, show images, attachments and so on. Do you know of a component / library that can do those things? \r\n\r\nI prefer it would be in Java (and to integrate with spring easily :-) ), but any other implementation which runs on Apache is fine as well.","title":"Display .eml file in a web appication","body":"<p>I have a web application where I need to display .eml files (in RFC 822 format) to the users, formatted properly as e-mail - show the HTML to text body properly, show images, attachments and so on. Do you know of a component / library that can do those things? </p>\n\n<p>I prefer it would be in Java (and to integrate with spring easily :-) ), but any other implementation which runs on Apache is fine as well.</p>\n"},{"tags":["java","windows","process","account"],"answers":[{"tags":[],"owner":{"account_id":17260,"reputation":28385,"user_id":38426,"display_name":"BobbyShaftoe"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1229070174,"creation_date":1229070174,"answer_id":362203,"question_id":362198,"body_markdown":"There is a program called &quot;runas.exe.&quot; You could run that process and supply the appropriate arguments for your process and username/password. I think that&#39;s the simplest method.","title":"How can I create a new process with another User Account on Windows?","body":"<p>There is a program called \"runas.exe.\" You could run that process and supply the appropriate arguments for your process and username/password. I think that's the simplest method.</p>\n"},{"tags":[],"owner":{"account_id":19004,"reputation":21826,"user_id":44089,"accept_rate":79,"display_name":"Bananeweizen"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1229072042,"creation_date":1229072042,"answer_id":362245,"question_id":362198,"body_markdown":"You need to write a DLL using the [Java Native Interface (JNI)][1] as you cannot do this with pure Java code.\r\n\r\nThe DLL itself needs to call the **[CreateProcessAsUser][2]** function to create a process in the context of another user. To successfully create that process you need to provide an access token to the function, which was itself created by calling the [LogonUser][3] function (it takes the username and password to authentify that other user).\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Java_Native_Interface\r\n  [2]: http://msdn.microsoft.com/en-us/library/ms682429(VS.85).aspx\r\n  [3]: http://msdn.microsoft.com/en-us/library/aa378184(VS.85).aspx","title":"How can I create a new process with another User Account on Windows?","body":"<p>You need to write a DLL using the <a href=\"http://en.wikipedia.org/wiki/Java_Native_Interface\" rel=\"noreferrer\">Java Native Interface (JNI)</a> as you cannot do this with pure Java code.</p>\n\n<p>The DLL itself needs to call the <strong><a href=\"http://msdn.microsoft.com/en-us/library/ms682429(VS.85).aspx\" rel=\"noreferrer\">CreateProcessAsUser</a></strong> function to create a process in the context of another user. To successfully create that process you need to provide an access token to the function, which was itself created by calling the <a href=\"http://msdn.microsoft.com/en-us/library/aa378184(VS.85).aspx\" rel=\"noreferrer\">LogonUser</a> function (it takes the username and password to authentify that other user).</p>\n"},{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683166456,"creation_date":1229809294,"answer_id":383772,"question_id":362198,"body_markdown":"RUNAS has the &quot;/savecred&quot; switch that let you enter the credential only the first time. One potential problem is that when /SaveCred saves the credentials it saves it for whenever RUNAS invokes that user account. This can be a huge security risk so be careful using it!\r\n\r\n\r\n\r\n\r\n  [1]: http://www.rgagnon.com/javadetails/java-0014.html","title":"How can I create a new process with another User Account on Windows?","body":"<p>RUNAS has the &quot;/savecred&quot; switch that let you enter the credential only the first time. One potential problem is that when /SaveCred saves the credentials it saves it for whenever RUNAS invokes that user account. This can be a huge security risk so be careful using it!</p>\n"},{"tags":[],"owner":{"account_id":11345,"reputation":3564,"user_id":21826,"accept_rate":0,"display_name":"user21826"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1230519501,"creation_date":1229813649,"answer_id":383844,"question_id":362198,"body_markdown":"Depending on your needs the Win32 API &quot;[CreateProcessWithLogonW][1]&quot; is easier to use than the &quot;CreateProcessAsUser / LogonUser&quot; functions.\r\n\r\nFrom MSDN Docs:\r\n\r\n&lt;pre&gt;\r\nThe CreateProcessWithLogonW and CreateProcessWithTokenW functions are\r\nsimilar to the CreateProcessAsUser function, except that the caller \r\ndoes not need to call the LogonUser function to authenticate the user \r\nand get a token\r\n&lt;/pre&gt;\r\n\r\n  [1]: http://msdn.microsoft.com/en-us/library/ms682431(VS.85).aspx","title":"How can I create a new process with another User Account on Windows?","body":"<p>Depending on your needs the Win32 API \"<a href=\"http://msdn.microsoft.com/en-us/library/ms682431(VS.85).aspx\" rel=\"nofollow noreferrer\">CreateProcessWithLogonW</a>\" is easier to use than the \"CreateProcessAsUser / LogonUser\" functions.</p>\n\n<p>From MSDN Docs:</p>\n\n<pre>\nThe CreateProcessWithLogonW and CreateProcessWithTokenW functions are\nsimilar to the CreateProcessAsUser function, except that the caller \ndoes not need to call the LogonUser function to authenticate the user \nand get a token\n</pre>\n"},{"tags":[],"owner":{"account_id":610,"reputation":116913,"user_id":797,"accept_rate":66,"display_name":"Matt Sheppard"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1266815554,"creation_date":1266815554,"answer_id":2308947,"question_id":362198,"body_markdown":"I just ran across an alternative to the runas.exe program called MiniRunAs which will take the password on the command line - http://www.source-code.biz/snippets/c/1.htm\r\n\r\nIf you are able to install it along with your application, that may prove simpler than writing a JNI DLL.","title":"How can I create a new process with another User Account on Windows?","body":"<p>I just ran across an alternative to the runas.exe program called MiniRunAs which will take the password on the command line - <a href=\"http://www.source-code.biz/snippets/c/1.htm\" rel=\"nofollow noreferrer\">http://www.source-code.biz/snippets/c/1.htm</a></p>\n\n<p>If you are able to install it along with your application, that may prove simpler than writing a JNI DLL.</p>\n"}],"owner":{"account_id":7295,"reputation":23914,"user_id":12631,"accept_rate":57,"display_name":"Horcrux7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5953,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":362245,"answer_count":5,"score":11,"last_activity_date":1683166456,"creation_date":1229070008,"question_id":362198,"body_markdown":"Is it possible to create a new process on windows with a different user account? I know there are a context menu &quot;Run as&quot; but I want do it from Java. I have the username and the password.","title":"How can I create a new process with another User Account on Windows?","body":"<p>Is it possible to create a new process on windows with a different user account? I know there are a context menu \"Run as\" but I want do it from Java. I have the username and the password.</p>\n"},{"tags":["java","eclipse","utf-8","gedit"],"comments":[{"owner":{"account_id":117745,"reputation":5429,"user_id":308219,"display_name":"Michael Konietzka"},"score":0,"creation_date":1292686095,"post_id":4478560,"comment_id":4896920,"body_markdown":"How do you exchange the code between the different plattforms? Do you have a repository?","body":"How do you exchange the code between the different plattforms? Do you have a repository?"}],"answers":[{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1292685218,"creation_date":1292685218,"answer_id":4478601,"question_id":4478560,"body_markdown":"Not sure about gedit, but you can certainly configure eclipse to use whatever encoding you like for source code. It&#39;s part of the project properties (and saved in the .settings directory within the project).\r\n\r\n![alt text][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/RvK8e.jpg","title":"Java problems with UTF-8 in different OS","body":"<p>Not sure about gedit, but you can certainly configure eclipse to use whatever encoding you like for source code. It's part of the project properties (and saved in the .settings directory within the project).</p>\n\n<p><img src=\"https://i.stack.imgur.com/RvK8e.jpg\" alt=\"alt text\"></p>\n"},{"tags":[],"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1292685742,"creation_date":1292685427,"answer_id":4478614,"question_id":4478560,"body_markdown":"You could avoid the issue in Strings by using [character escape sequences][1], and using only ASCII encoding for the files. \r\n\r\nFor example, an en dash can be expressed as &quot;\\u2013&quot;.\r\n\r\nYou can quickly search for the Java code for individual characters [here][2].\r\n\r\nAs Sergey notes below, this works best for small numbers of non-ASCII characters. An alternative is to put all the UTF-8 strings in resource files. Eclipse provides a handy wizard for this.\r\n\r\n  [1]: http://java.sun.com/docs/books/jls/third_edition/html/lexical.html#3.10.4\r\n  [2]: http://www.fileformat.info/info/unicode/char/search.htm","title":"Java problems with UTF-8 in different OS","body":"<p>You could avoid the issue in Strings by using <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/lexical.html#3.10.4\" rel=\"nofollow\">character escape sequences</a>, and using only ASCII encoding for the files. </p>\n\n<p>For example, an en dash can be expressed as \"\\u2013\".</p>\n\n<p>You can quickly search for the Java code for individual characters <a href=\"http://www.fileformat.info/info/unicode/char/search.htm\" rel=\"nofollow\">here</a>.</p>\n\n<p>As Sergey notes below, this works best for small numbers of non-ASCII characters. An alternative is to put all the UTF-8 strings in resource files. Eclipse provides a handy wizard for this.</p>\n"},{"tags":[],"owner":{"account_id":258256,"reputation":24473,"user_id":540312,"accept_rate":87,"display_name":"Sergei Tachenov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1292685497,"creation_date":1292685497,"answer_id":4478618,"question_id":4478560,"body_markdown":"Eclipse works fine with UTF-8. See Michael&#39;s answer about configuring it. Maybe for Windows and/or MacOS it is really necessary. Ubuntu uses UTF-8 as the default encoding so I don&#39;t think it&#39;s necessary to configure Eclipse there.\r\n\r\nAs for Gedit, [this picture][1] shows that it is possible to change the encoding when saving a file in Gedit.\r\n\r\nAnyway, you need to make sure that all of you use UTF-8 for your sources. This is the only reasonable way to achieve cross-platform portability of your sources.\r\n\r\n\r\n  [1]: http://img237.imageshack.us/img237/9563/capture1hh5.jpg","title":"Java problems with UTF-8 in different OS","body":"<p>Eclipse works fine with UTF-8. See Michael's answer about configuring it. Maybe for Windows and/or MacOS it is really necessary. Ubuntu uses UTF-8 as the default encoding so I don't think it's necessary to configure Eclipse there.</p>\n\n<p>As for Gedit, <a href=\"http://img237.imageshack.us/img237/9563/capture1hh5.jpg\" rel=\"nofollow\">this picture</a> shows that it is possible to change the encoding when saving a file in Gedit.</p>\n\n<p>Anyway, you need to make sure that all of you use UTF-8 for your sources. This is the only reasonable way to achieve cross-platform portability of your sources.</p>\n"},{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683166436,"creation_date":1292689029,"answer_id":4478866,"question_id":4478560,"body_markdown":"If your UTF8 file contains a BOM (byte order mark) then you will have a problem. It is a known bug , see [here][1] and [here][2]. \r\n\r\nThe BOM is optional with UTF8 and most of the time it is not there because it breaks many tools (like Javadoc, XML parser,...).\r\n\r\n\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug?bug_id=6378911\r\n  [2]: https://bugs.java.com/bugdatabase/view_bug?bug_id=4508058\r\n  [3]: http://www.rgagnon.com/javadetails/java-handle-utf8-file-with-bom.html","title":"Java problems with UTF-8 in different OS","body":"<p>If your UTF8 file contains a BOM (byte order mark) then you will have a problem. It is a known bug , see <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=6378911\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4508058\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>The BOM is optional with UTF8 and most of the time it is not there because it breaks many tools (like Javadoc, XML parser,...).</p>\n"}],"owner":{"account_id":95926,"reputation":1585,"user_id":2718862,"accept_rate":85,"display_name":"dgnin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3288,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":4478601,"answer_count":4,"score":1,"last_activity_date":1683166436,"creation_date":1292684511,"question_id":4478560,"body_markdown":"I&#39;m programing with other people an application to college homework, and sometime we use non-english characters in comments or in Strings displayed in the views. The problem is that everyone of use is using a different OS and sometimes different IDE&#39;s to program.\r\n\r\nConcretely, one is using MacOS, another Windows7, and another and me Ubuntu Linux. Furthermore, all of them use Eclipse and I use gedit. We have no idea if Eclipse or gedit are configurable to work propertly with UTF8 bussiness, at least I don&#39;t found nothing for mine.\r\n\r\nThe fact is that what I write with non-english characters appears in Windows &amp; MacOS virtual machines with strange symbols and vice-versa , and sometimes, what my non-linux friends write provokes compilation warnings like this: `warning: unmappable character for encoding UTF8`.\r\n\r\nDo you have any Idea to solve this? It is not really urgent but it will be a help.\r\n\r\nThank you.\r\n","title":"Java problems with UTF-8 in different OS","body":"<p>I'm programing with other people an application to college homework, and sometime we use non-english characters in comments or in Strings displayed in the views. The problem is that everyone of use is using a different OS and sometimes different IDE's to program.</p>\n\n<p>Concretely, one is using MacOS, another Windows7, and another and me Ubuntu Linux. Furthermore, all of them use Eclipse and I use gedit. We have no idea if Eclipse or gedit are configurable to work propertly with UTF8 bussiness, at least I don't found nothing for mine.</p>\n\n<p>The fact is that what I write with non-english characters appears in Windows &amp; MacOS virtual machines with strange symbols and vice-versa , and sometimes, what my non-linux friends write provokes compilation warnings like this: <code>warning: unmappable character for encoding UTF8</code>.</p>\n\n<p>Do you have any Idea to solve this? It is not really urgent but it will be a help.</p>\n\n<p>Thank you.</p>\n"},{"tags":["java","oracle","jdbc","connection-pooling"],"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1349006104,"post_id":12660724,"comment_id":17081554,"body_markdown":"What exactly do you mean with &quot;not awfully fast&quot;? Which part exactly is slow? Opening a connection to Oracle *can* take some time. Did you check out the manual regarding connection caching? http://docs.oracle.com/cd/B28359_01/java.111/b31224/concache.htm#CDEGABII","body":"What exactly do you mean with &quot;not awfully fast&quot;? Which part exactly is slow? Opening a connection to Oracle <i>can</i> take some time. Did you check out the manual regarding connection caching? <a href=\"http://docs.oracle.com/cd/B28359_01/java.111/b31224/concache.htm#CDEGABII\" rel=\"nofollow noreferrer\">docs.oracle.com/cd/B28359_01/java.111/b31224/&hellip;</a>"},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1349009209,"post_id":12660724,"comment_id":17082130,"body_markdown":"Read the link I posted. It says the &quot;*OracleConnectionCache*&quot; is deprecated, not the section I linked to. Btw: why don&#39;t you use a connection pool like DBCP or C3P0?","body":"Read the link I posted. It says the &quot;<i>OracleConnectionCache</i>&quot; is deprecated, not the section I linked to. Btw: why don&#39;t you use a connection pool like DBCP or C3P0?"}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1349012074,"creation_date":1349003106,"answer_id":12660743,"question_id":12660724,"body_markdown":"You should not use a `ConnectionPoolDataSource` directly. It is intended for use by a connection pool in an application server. It does not provide connection pooling itself. See also https://stackoverflow.com/a/12651163/466862 \r\n\r\nIn other words: You need to use an actual connection pool, like DBCP, c3p0 or BoneCP, or the UCP (Universal Connection Pool).","title":"Oracle Connection Pool Class","body":"<p>You should not use a <code>ConnectionPoolDataSource</code> directly. It is intended for use by a connection pool in an application server. It does not provide connection pooling itself. See also <a href=\"https://stackoverflow.com/a/12651163/466862\">https://stackoverflow.com/a/12651163/466862</a> </p>\n\n<p>In other words: You need to use an actual connection pool, like DBCP, c3p0 or BoneCP, or the UCP (Universal Connection Pool).</p>\n"},{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683166414,"creation_date":1349013165,"answer_id":12661760,"question_id":12660724,"body_markdown":"You need you to use OracleDataSource (not OracleConnectionPoolDataSource) and set setConnectionCachingEnabled(true).\r\n\r\n       \r\n         private  static OracleDataSource ods = null;\r\n         ...\r\n         static {\r\n            System.out.println(&quot;OracleDataSource Initialization&quot;);\r\n            try {\r\n                ods = new OracleDataSource();\r\n                ods.setConnectionCachingEnabled(true);\r\n                ods.setConnectionCacheName(&quot;mycache&quot;);\r\n                ods.setURL(&quot;jdbc:oracle:thin:@//server.local:1521/prod&quot;);\r\n                ods.setUser(&quot;scott&quot;);\r\n                ods.setPassword(&quot;tiger&quot;);\r\n                Properties cacheProps = new Properties();\r\n                cacheProps.setProperty(&quot;MinLimit&quot;, &quot;1&quot;);\r\n                cacheProps.setProperty(&quot;MaxLimit&quot;, &quot;4&quot;);\r\n                cacheProps.setProperty(&quot;InitialLimit&quot;, &quot;1&quot;);\r\n                cacheProps.setProperty(&quot;ConnectionWaitTimeout&quot;, &quot;5&quot;);\r\n                cacheProps.setProperty(&quot;ValidateConnection&quot;, &quot;true&quot;);\r\n                ods.setConnectionCacheProperties(cacheProps);\r\n    \r\n            }\r\n            catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    ...\r\n        public static Connection getConnection()\r\n           throws SQLException {\r\n          return ods.getConnection();\r\n        }\r\n\r\n\r\n\r\n\r\n  [1]: http://www.rgagnon.com/javadetails/java-0545.html","title":"Oracle Connection Pool Class","body":"<p>You need you to use OracleDataSource (not OracleConnectionPoolDataSource) and set setConnectionCachingEnabled(true).</p>\n<pre><code>     private  static OracleDataSource ods = null;\n     ...\n     static {\n        System.out.println(&quot;OracleDataSource Initialization&quot;);\n        try {\n            ods = new OracleDataSource();\n            ods.setConnectionCachingEnabled(true);\n            ods.setConnectionCacheName(&quot;mycache&quot;);\n            ods.setURL(&quot;jdbc:oracle:thin:@//server.local:1521/prod&quot;);\n            ods.setUser(&quot;scott&quot;);\n            ods.setPassword(&quot;tiger&quot;);\n            Properties cacheProps = new Properties();\n            cacheProps.setProperty(&quot;MinLimit&quot;, &quot;1&quot;);\n            cacheProps.setProperty(&quot;MaxLimit&quot;, &quot;4&quot;);\n            cacheProps.setProperty(&quot;InitialLimit&quot;, &quot;1&quot;);\n            cacheProps.setProperty(&quot;ConnectionWaitTimeout&quot;, &quot;5&quot;);\n            cacheProps.setProperty(&quot;ValidateConnection&quot;, &quot;true&quot;);\n            ods.setConnectionCacheProperties(cacheProps);\n\n        }\n        catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n...\n    public static Connection getConnection()\n       throws SQLException {\n      return ods.getConnection();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25805,"reputation":22420,"user_id":66629,"display_name":"Gian Marco"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1480345341,"creation_date":1480345341,"answer_id":40847379,"question_id":12660724,"body_markdown":"`oracle.jdbc.pool.OracleDataSource.setConnectionCachingEnabled` documentation state the following:\r\n\r\n&gt; Deprecated. Use Oracle Universal Connection Pool instead.\r\n\r\nYou can download [Oracle Database UCP][1] and create your `DataSource` as follows:\r\n\r\n    import oracle.jdbc.pool.OracleDataSource;\r\n    import oracle.ucp.jdbc.PoolDataSource;\r\n    import oracle.ucp.jdbc.PoolDataSourceFactory;\r\n    \r\n    PoolDataSource poolDataSource = PoolDataSourceFactory.getPoolDataSource();\r\n    poolDataSource.setConnectionFactoryClassName(OracleDataSource.class.getName());\r\n    poolDataSource.setURL(&quot;jdbc:oracle:thin:@localhost:1521:XE&quot;);\r\n    poolDataSource.setUser(&quot;SYSTEM&quot;);\r\n    poolDataSource.setPassword(&quot;****&quot;);\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/database/enterprise-edition/downloads/ucp-112010-099129.html","title":"Oracle Connection Pool Class","body":"<p><code>oracle.jdbc.pool.OracleDataSource.setConnectionCachingEnabled</code> documentation state the following:</p>\n\n<blockquote>\n  <p>Deprecated. Use Oracle Universal Connection Pool instead.</p>\n</blockquote>\n\n<p>You can download <a href=\"http://www.oracle.com/technetwork/database/enterprise-edition/downloads/ucp-112010-099129.html\" rel=\"nofollow noreferrer\">Oracle Database UCP</a> and create your <code>DataSource</code> as follows:</p>\n\n<pre><code>import oracle.jdbc.pool.OracleDataSource;\nimport oracle.ucp.jdbc.PoolDataSource;\nimport oracle.ucp.jdbc.PoolDataSourceFactory;\n\nPoolDataSource poolDataSource = PoolDataSourceFactory.getPoolDataSource();\npoolDataSource.setConnectionFactoryClassName(OracleDataSource.class.getName());\npoolDataSource.setURL(\"jdbc:oracle:thin:@localhost:1521:XE\");\npoolDataSource.setUser(\"SYSTEM\");\npoolDataSource.setPassword(\"****\");\n</code></pre>\n"}],"owner":{"account_id":458693,"reputation":343,"user_id":858749,"accept_rate":62,"display_name":"gausss"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13219,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":12660743,"answer_count":3,"score":2,"last_activity_date":1683166414,"creation_date":1349002910,"question_id":12660724,"body_markdown":"I want to setup a connection pool for a Oracle DB in a Helper class.\r\n\r\n\r\n    public class DbConnection {\r\n\r\n\t// Data source for the pooled connection\r\n\tprivate static OracleDataSource dataSource;\r\n\r\n\t// Host\r\n\tprivate static final String dbHost = &quot;bla&quot;;\r\n\r\n\t// Port\r\n\tprivate static final String dbPort = &quot;1521&quot;;\r\n\r\n\t// DBname\r\n\tprivate static final String database = &quot;orcl&quot;;\r\n\r\n\t// DBuser\r\n\tprivate static final String dbUser = &quot;bla&quot;;\r\n\r\n\t// DBpassword\r\n\tprivate static final String dbPassword = &quot;bla&quot;;\r\n\r\n\tstatic {\r\n\t\tOracleConnectionPoolDataSource opds;\r\n\t\ttry {\r\n\t\t\topds = new OracleConnectionPoolDataSource();\r\n\t\t\topds.setURL(&quot;jdbc:oracle:thin:@&quot; + dbHost + &quot;:&quot; + dbPort + &quot;:&quot;\r\n\t\t\t\t\t+ database);\r\n\t\t\topds.setUser(dbUser);\r\n\t\t\topds.setPassword(dbPassword);\r\n\t\t\tdataSource = opds;\r\n\t\t} catch (SQLException e1) {\r\n\t\t\tSystem.err.println(&quot;Connection failed!&quot;);\r\n\t\t}\r\n\t\ttry {\r\n\t\t\t// Load driver\r\n\t\t\tClass.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\r\n\r\n\t\t} catch (ClassNotFoundException e) {\r\n\t\t\tSystem.out.println(&quot;Driver not found!&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static Connection getConnection() throws SQLException {\r\n\t\treturn dataSource.getConnection();\r\n\t}\r\n    }\r\n\r\nThis is working but it is not awfully fast so I think I&#39;m missing something to get the pooling working. Any suggestions?\r\n\r\nSo my externel classes just invoke the getConnection() method ...\r\n   \r\n    Connection conn = DbConnection.getConnection();\r\n    ...\r\n    conn.close();\r\n\r\n","title":"Oracle Connection Pool Class","body":"<p>I want to setup a connection pool for a Oracle DB in a Helper class.</p>\n\n<pre><code>public class DbConnection {\n\n// Data source for the pooled connection\nprivate static OracleDataSource dataSource;\n\n// Host\nprivate static final String dbHost = \"bla\";\n\n// Port\nprivate static final String dbPort = \"1521\";\n\n// DBname\nprivate static final String database = \"orcl\";\n\n// DBuser\nprivate static final String dbUser = \"bla\";\n\n// DBpassword\nprivate static final String dbPassword = \"bla\";\n\nstatic {\n    OracleConnectionPoolDataSource opds;\n    try {\n        opds = new OracleConnectionPoolDataSource();\n        opds.setURL(\"jdbc:oracle:thin:@\" + dbHost + \":\" + dbPort + \":\"\n                + database);\n        opds.setUser(dbUser);\n        opds.setPassword(dbPassword);\n        dataSource = opds;\n    } catch (SQLException e1) {\n        System.err.println(\"Connection failed!\");\n    }\n    try {\n        // Load driver\n        Class.forName(\"oracle.jdbc.driver.OracleDriver\");\n\n    } catch (ClassNotFoundException e) {\n        System.out.println(\"Driver not found!\");\n    }\n}\n\npublic static Connection getConnection() throws SQLException {\n    return dataSource.getConnection();\n}\n}\n</code></pre>\n\n<p>This is working but it is not awfully fast so I think I'm missing something to get the pooling working. Any suggestions?</p>\n\n<p>So my externel classes just invoke the getConnection() method ...</p>\n\n<pre><code>Connection conn = DbConnection.getConnection();\n...\nconn.close();\n</code></pre>\n"},{"tags":["java","audio","javasound"],"comments":[{"owner":{"account_id":7052,"reputation":48090,"user_id":12048,"accept_rate":94,"display_name":"finnw"},"score":1,"creation_date":1280791728,"post_id":3392449,"comment_id":3527808,"body_markdown":"Please do not complain about answers being &quot;incomplete&quot;.  You should expect to be pointed to the relevant section of the API **not** to have someone write a framework for you.","body":"Please do not complain about answers being &quot;incomplete&quot;.  You should expect to be pointed to the relevant section of the API <b>not</b> to have someone write a framework for you."},{"owner":{"account_id":101888,"reputation":111,"user_id":273824,"accept_rate":100,"display_name":"S.E. Foulk"},"score":0,"creation_date":1280868572,"post_id":3392449,"comment_id":3537522,"body_markdown":"I didn&#39;t ask for the framework, just a useful answer for someone who doesn&#39;t know much about sound in Java.  The API&#39;s don&#39;t always explain  things well - I went there first!","body":"I didn&#39;t ask for the framework, just a useful answer for someone who doesn&#39;t know much about sound in Java.  The API&#39;s don&#39;t always explain  things well - I went there first!"}],"answers":[{"tags":[],"owner":{"account_id":102448,"reputation":5087,"user_id":275003,"accept_rate":100,"display_name":"Michael Rodrigues"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1280799441,"creation_date":1280799441,"answer_id":3393035,"question_id":3392449,"body_markdown":"I don&#39;t know about the API part, but for the sounds try [www.sounddogs.com][1]\r\n\r\n\r\n  [1]: http://www.sounddogs.com","title":"Java game sounds in applications (as in, NOT applets)","body":"<p>I don't know about the API part, but for the sounds try <a href=\"http://www.sounddogs.com\" rel=\"nofollow noreferrer\">www.sounddogs.com</a></p>\n"},{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683166390,"creation_date":1280802655,"answer_id":3393226,"question_id":3392449,"body_markdown":"Using javax.sound, it&#39;s possible to have simple sound effect.\r\n\r\n\r\n\r\n\r\n  [1]: http://www.rgagnon.com/javadetails/java-0632.html\r\n\r\n\r\n----------\r\n\r\nEDIT: Using a Thread (or not)\r\n\r\n    import javax.sound.sampled.*;\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    \r\n    public class AppWithSound2 extends JFrame implements ActionListener {\r\n      JButton b1;\r\n      JButton b2;\r\n    \r\n      private static final long serialVersionUID = 1L;\r\n    \r\n      public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(new Runnable() {\r\n          public void run() {\r\n            AppWithSound2 app = new AppWithSound2();\r\n            app.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            app.startApp();\r\n          }\r\n        });\r\n      }\r\n    \r\n      public AppWithSound2() {\r\n        initGUI();\r\n      }\r\n    \r\n      private void startApp() {\r\n        setVisible(true);\r\n      }\r\n    \r\n      private void initGUI() {\r\n        setLayout(new FlowLayout());\r\n        setSize(300, 200);\r\n        b1 = new JButton(&quot;Sound with no thread&quot;);\r\n        b2 = new JButton(&quot;Sound with thread&quot;);\r\n        b1.addActionListener(this);\r\n        b2.addActionListener(this);\r\n        add(b1);\r\n        add(b2);\r\n      }\r\n    \r\n      public void actionPerformed(ActionEvent e) {\r\n        if (e.getSource() == b1) {\r\n          LaserSound.laser();\r\n        }\r\n        if (e.getSource() == b2) {\r\n          new LaserSound().start();\r\n        }\r\n      }\r\n    }\r\n    \r\n    class LaserSound extends Thread {\r\n    \r\n      public void run() {\r\n        LaserSound.laser();\r\n      }\r\n    \r\n      public static void laser() {\r\n        int repeat = 10;\r\n        try {\r\n          AudioFormat af = new AudioFormat(8000f, // sampleRate\r\n              8, // sampleSizeInBits\r\n              1, // channels\r\n              true, // signed\r\n              false); // bigEndian\r\n          SourceDataLine sdl;\r\n          sdl = AudioSystem.getSourceDataLine(af);\r\n          sdl.open(af);\r\n          sdl.start();\r\n    \r\n          byte[] buf = new byte[1];\r\n          int step;\r\n    \r\n          for (int j = 0; j &lt; repeat; j++) {\r\n            step = 10;\r\n            for (int i = 0; i &lt; 2000; i++) {\r\n              buf[0] = ((i % step &gt; 0) ? 32 : (byte) 0);\r\n    \r\n              if (i % 250 == 0)\r\n                step += 2;\r\n              sdl.write(buf, 0, 1);\r\n            }\r\n            Thread.sleep(200);\r\n          }\r\n          sdl.drain();\r\n          sdl.stop();\r\n          sdl.close();\r\n        } catch (Exception e) {\r\n          e.printStackTrace();\r\n        }\r\n      }\r\n    }\r\n\r\n","title":"Java game sounds in applications (as in, NOT applets)","body":"<p>Using javax.sound, it's possible to have simple sound effect.</p>\n<hr />\n<p>EDIT: Using a Thread (or not)</p>\n<pre><code>import javax.sound.sampled.*;\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\n\npublic class AppWithSound2 extends JFrame implements ActionListener {\n  JButton b1;\n  JButton b2;\n\n  private static final long serialVersionUID = 1L;\n\n  public static void main(String[] args) {\n    SwingUtilities.invokeLater(new Runnable() {\n      public void run() {\n        AppWithSound2 app = new AppWithSound2();\n        app.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        app.startApp();\n      }\n    });\n  }\n\n  public AppWithSound2() {\n    initGUI();\n  }\n\n  private void startApp() {\n    setVisible(true);\n  }\n\n  private void initGUI() {\n    setLayout(new FlowLayout());\n    setSize(300, 200);\n    b1 = new JButton(&quot;Sound with no thread&quot;);\n    b2 = new JButton(&quot;Sound with thread&quot;);\n    b1.addActionListener(this);\n    b2.addActionListener(this);\n    add(b1);\n    add(b2);\n  }\n\n  public void actionPerformed(ActionEvent e) {\n    if (e.getSource() == b1) {\n      LaserSound.laser();\n    }\n    if (e.getSource() == b2) {\n      new LaserSound().start();\n    }\n  }\n}\n\nclass LaserSound extends Thread {\n\n  public void run() {\n    LaserSound.laser();\n  }\n\n  public static void laser() {\n    int repeat = 10;\n    try {\n      AudioFormat af = new AudioFormat(8000f, // sampleRate\n          8, // sampleSizeInBits\n          1, // channels\n          true, // signed\n          false); // bigEndian\n      SourceDataLine sdl;\n      sdl = AudioSystem.getSourceDataLine(af);\n      sdl.open(af);\n      sdl.start();\n\n      byte[] buf = new byte[1];\n      int step;\n\n      for (int j = 0; j &lt; repeat; j++) {\n        step = 10;\n        for (int i = 0; i &lt; 2000; i++) {\n          buf[0] = ((i % step &gt; 0) ? 32 : (byte) 0);\n\n          if (i % 250 == 0)\n            step += 2;\n          sdl.write(buf, 0, 1);\n        }\n        Thread.sleep(200);\n      }\n      sdl.drain();\n      sdl.stop();\n      sdl.close();\n    } catch (Exception e) {\n      e.printStackTrace();\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":48334,"reputation":19092,"user_id":143585,"accept_rate":67,"display_name":"Denis Tulskiy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1280809674,"creation_date":1280809674,"answer_id":3393580,"question_id":3392449,"body_markdown":"[Clip][1] interface is the easiest way to play small sounds in your app. [Here][2] is an example. If you want to play anything other than wav, use MP3SPI or VorbisSPI from [JavaZOOM][3].\r\n\r\n\r\n  [1]: http://download-llnw.oracle.com/javase/1.5.0/docs/api/javax/sound/sampled/Clip.html\r\n  [2]: http://forums.sun.com/thread.jspa?threadID=5256690\r\n  [3]: http://www.javazoom.net/projects.html","title":"Java game sounds in applications (as in, NOT applets)","body":"<p><a href=\"http://download-llnw.oracle.com/javase/1.5.0/docs/api/javax/sound/sampled/Clip.html\" rel=\"nofollow noreferrer\">Clip</a> interface is the easiest way to play small sounds in your app. <a href=\"http://forums.sun.com/thread.jspa?threadID=5256690\" rel=\"nofollow noreferrer\">Here</a> is an example. If you want to play anything other than wav, use MP3SPI or VorbisSPI from <a href=\"http://www.javazoom.net/projects.html\" rel=\"nofollow noreferrer\">JavaZOOM</a>.</p>\n"},{"tags":[],"owner":{"account_id":101888,"reputation":111,"user_id":273824,"accept_rate":100,"display_name":"S.E. Foulk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1280868365,"creation_date":1280868365,"answer_id":3400643,"question_id":3392449,"body_markdown":"Okay guys - here&#39;s what i came up with while I was waiting.  I thought I had set the Stack Overflow settings to email me when my question was answered, so I thought I received no answers yet.  Thus, I continued on by myself.\r\nHere&#39;s what I found that worked.\r\n\r\n(1) Create the instance by using this:\r\n\r\n\tprivate PlaySounds lasershot = new PlaySounds(&quot;snd/lasershot.wav&quot;);\r\n\tprivate PlaySounds test = new PlaySounds(&quot;snd/cash_register.au&quot;);\r\n\r\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - \r\n\r\n(2) And create the file PlaySounds.java (or whatever you like)\r\nimport java.io.*;\r\nimport javax.media.*;\r\n\r\npublic class PlaySounds\r\n{\r\n\t   private Player player;\r\n\t   private File file;\t\r\n\t\r\n\t   // Create a player for each of the sound files\r\n\t   public PlaySounds(String filename)\r\n\t   {\r\n\t\t   file = new File(filename);\r\n\t\t   createPlayer();\r\n\t   }\r\n\t   \r\n\t   private void createPlayer()\r\n\t   {\r\n\t\t   if ( file == null )\r\n\t\t\t   return;\r\n\r\n\t\t   try \r\n\t\t   {\r\n\t\t\t   // create a new player and add listener\r\n\t\t\t   player = Manager.createPlayer( file.toURI().toURL() );\r\n\t           //player.addController( (Controller) new EventHandler(player, null, null, null) );\r\n\t\t\t  // player.start();  // start player\r\n\t\t   }\r\n\t\t   catch ( Exception e )\r\n\t\t   {\r\n\t       }\r\n\t   }\r\n\t\r\n\t\tpublic void playSound()\r\n\t\t{\r\n\t\t\t// start player\r\n\t\t\tplayer.start();\r\n\t\t\t// Clear player\r\n\t\t\tplayer = null;\t\r\n\t\t\t// Re-create player\r\n\t\t\tcreatePlayer();\r\n\t\t}\r\n\r\n} // End of file PlaySounds.java\r\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - \r\n\r\n(3) To use, insert these where you want the sounds:\r\n\r\n     lasershot.playSound();\r\n     test.playSound();\r\n\r\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - \r\n\r\nThis was the shortest / sweetest I found.  Very easy to use, and plays both .au AND .wav files.\r\n\r\nI do appreciate all your help guys.\r\n\r\n","title":"Java game sounds in applications (as in, NOT applets)","body":"<p>Okay guys - here's what i came up with while I was waiting.  I thought I had set the Stack Overflow settings to email me when my question was answered, so I thought I received no answers yet.  Thus, I continued on by myself.\nHere's what I found that worked.</p>\n\n<p>(1) Create the instance by using this:</p>\n\n<pre><code>private PlaySounds lasershot = new PlaySounds(\"snd/lasershot.wav\");\nprivate PlaySounds test = new PlaySounds(\"snd/cash_register.au\");\n</code></pre>\n\n<hr>\n\n<p>(2) And create the file PlaySounds.java (or whatever you like)\nimport java.io.<em>;\nimport javax.media.</em>;</p>\n\n<p>public class PlaySounds\n{\n       private Player player;\n       private File file;   </p>\n\n<pre><code>   // Create a player for each of the sound files\n   public PlaySounds(String filename)\n   {\n       file = new File(filename);\n       createPlayer();\n   }\n\n   private void createPlayer()\n   {\n       if ( file == null )\n           return;\n\n       try \n       {\n           // create a new player and add listener\n           player = Manager.createPlayer( file.toURI().toURL() );\n           //player.addController( (Controller) new EventHandler(player, null, null, null) );\n          // player.start();  // start player\n       }\n       catch ( Exception e )\n       {\n       }\n   }\n\n    public void playSound()\n    {\n        // start player\n        player.start();\n        // Clear player\n        player = null;  \n        // Re-create player\n        createPlayer();\n    }\n</code></pre>\n\n<p>} // End of file PlaySounds.java</p>\n\n<hr>\n\n<p>(3) To use, insert these where you want the sounds:</p>\n\n<pre><code> lasershot.playSound();\n test.playSound();\n</code></pre>\n\n<hr>\n\n<p>This was the shortest / sweetest I found.  Very easy to use, and plays both .au AND .wav files.</p>\n\n<p>I do appreciate all your help guys.</p>\n"}],"owner":{"account_id":101888,"reputation":111,"user_id":273824,"accept_rate":100,"display_name":"S.E. Foulk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2563,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":3393226,"answer_count":4,"score":0,"last_activity_date":1683166390,"creation_date":1280790025,"question_id":3392449,"body_markdown":"I have two questions - (1) How to play small sound clips, e.g. saucer flying, bullets shooting, things getting hit with bullets, etc.  Very short, but real-time, sounds.  I like the old arcade sounds, so they need not be largess .wav&#39;s.  I want to run these in as little code as possible.  Which leads to my second question...\r\n(2) Does anyone know where to find these sound clips.\r\n\r\nA little note, I&#39;ve seen some of the answers here, and they seem incomplete.  If you have a straight, generic code, that&#39;s great!  I know very little about sounds as I don&#39;t normally get this far in my game writing.\r\n\r\nThanks for any and all information - I do appreciate it!\r\n","title":"Java game sounds in applications (as in, NOT applets)","body":"<p>I have two questions - (1) How to play small sound clips, e.g. saucer flying, bullets shooting, things getting hit with bullets, etc.  Very short, but real-time, sounds.  I like the old arcade sounds, so they need not be largess .wav's.  I want to run these in as little code as possible.  Which leads to my second question...\n(2) Does anyone know where to find these sound clips.</p>\n\n<p>A little note, I've seen some of the answers here, and they seem incomplete.  If you have a straight, generic code, that's great!  I know very little about sounds as I don't normally get this far in my game writing.</p>\n\n<p>Thanks for any and all information - I do appreciate it!</p>\n"},{"tags":["java","ms-office"],"comments":[{"owner":{"account_id":36493,"reputation":11667,"user_id":104117,"accept_rate":89,"display_name":"Valentin Rocher"},"score":0,"creation_date":1267362043,"post_id":2350543,"comment_id":2324428,"body_markdown":"you could have multiple versions, what do you want exactly, know the one associated with .doc for example ?","body":"you could have multiple versions, what do you want exactly, know the one associated with .doc for example ?"},{"owner":{"account_id":80251,"reputation":2389,"user_id":227046,"accept_rate":64,"display_name":"Supereme"},"score":0,"creation_date":1267378045,"post_id":2350543,"comment_id":2325369,"body_markdown":"I want to know the version of MS-Excel so that I can use appropriate API.","body":"I want to know the version of MS-Excel so that I can use appropriate API."}],"answers":[{"tags":[],"owner":{"account_id":27445,"reputation":31727,"user_id":72478,"accept_rate":76,"display_name":"cherouvim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1267347145,"creation_date":1267347145,"answer_id":2350553,"question_id":2350543,"body_markdown":"Is there a specific file in the installation of ms office that distinguishes one version from another? If yes you could read that and detect.\r\n\r\nOther you&#39;d have to do nasty interfacing with the possibly installed (to the o/s) ms office activex controls and query the version number.","title":"Knowing MS-Office version on Your pc using java","body":"<p>Is there a specific file in the installation of ms office that distinguishes one version from another? If yes you could read that and detect.</p>\n\n<p>Other you'd have to do nasty interfacing with the possibly installed (to the o/s) ms office activex controls and query the version number.</p>\n"},{"tags":[],"owner":{"account_id":35487,"reputation":64776,"user_id":100516,"accept_rate":69,"display_name":"Roman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1267349517,"creation_date":1267349517,"answer_id":2350645,"question_id":2350543,"body_markdown":"I can suggest you a bit tricky work around:\r\n\r\nYou can easily get list of installed fonts. Different versions of MS-Office have different unique fonts. You need to google which fonts correspond to which version and it can give you some information (for example, if you can see &#39;Constantia&#39; then it&#39;s office 2007).","title":"Knowing MS-Office version on Your pc using java","body":"<p>I can suggest you a bit tricky work around:</p>\n\n<p>You can easily get list of installed fonts. Different versions of MS-Office have different unique fonts. You need to google which fonts correspond to which version and it can give you some information (for example, if you can see 'Constantia' then it's office 2007).</p>\n"},{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683166370,"creation_date":1377615209,"answer_id":18468871,"question_id":2350543,"body_markdown":"One way is to call the Windows ASSOC and FTYPE commands, capture the output and parse it to determine the Office version installed.\r\n\r\n    C:\\Users\\me&gt;assoc .xls\r\n    .xls=Excel.Sheet.8\r\n    \r\n    C:\\Users\\me&gt;ftype Excel.sheet.8\r\n    Excel.sheet.8=&quot;C:\\Program Files (x86)\\Microsoft Office\\Office12\\EXCEL.EXE&quot; /e\r\n\r\nJava code :\r\n\r\n    import java.io.*;\r\n    public class ShowOfficeInstalled {\r\n        public static void main(String argv[]) {\r\n          try {\r\n            Process p = Runtime.getRuntime().exec\r\n              (new String [] { &quot;cmd.exe&quot;, &quot;/c&quot;, &quot;assoc&quot;, &quot;.xls&quot;});\r\n            BufferedReader input =\r\n              new BufferedReader\r\n                (new InputStreamReader(p.getInputStream()));\r\n            String extensionType = input.readLine();\r\n            input.close();\r\n            // extract type\r\n            if (extensionType == null) {\r\n              System.out.println(&quot;no office installed ?&quot;);\r\n              System.exit(1);\r\n            }\r\n            String fileType[] = extensionType.split(&quot;=&quot;);\r\n    \r\n            p = Runtime.getRuntime().exec\r\n              (new String [] { &quot;cmd.exe&quot;, &quot;/c&quot;, &quot;ftype&quot;, fileType[1]});\r\n            input =\r\n              new BufferedReader\r\n                (new InputStreamReader(p.getInputStream()));\r\n            String fileAssociation = input.readLine();\r\n            // extract path\r\n            String officePath = fileAssociation.split(&quot;=&quot;)[1];\r\n            System.out.println(officePath);\r\n            //\r\n            // output if office is installed :\r\n            //  &quot;C:\\Program Files (x86)\\Microsoft Office\\Office12\\EXCEL.EXE&quot; /e\r\n            // the next step is to parse the pathname but this is left as an exercise :-)\r\n            //\r\n          }\r\n          catch (Exception err) {\r\n            err.printStackTrace();\r\n          }\r\n        }\r\n      }\r\n\r\n\r\n\r\n\r\n  [1]: http://www.rgagnon.com/javadetails/java-detect-installed-office-version.html","title":"Knowing MS-Office version on Your pc using java","body":"<p>One way is to call the Windows ASSOC and FTYPE commands, capture the output and parse it to determine the Office version installed.</p>\n<pre><code>C:\\Users\\me&gt;assoc .xls\n.xls=Excel.Sheet.8\n\nC:\\Users\\me&gt;ftype Excel.sheet.8\nExcel.sheet.8=&quot;C:\\Program Files (x86)\\Microsoft Office\\Office12\\EXCEL.EXE&quot; /e\n</code></pre>\n<p>Java code :</p>\n<pre><code>import java.io.*;\npublic class ShowOfficeInstalled {\n    public static void main(String argv[]) {\n      try {\n        Process p = Runtime.getRuntime().exec\n          (new String [] { &quot;cmd.exe&quot;, &quot;/c&quot;, &quot;assoc&quot;, &quot;.xls&quot;});\n        BufferedReader input =\n          new BufferedReader\n            (new InputStreamReader(p.getInputStream()));\n        String extensionType = input.readLine();\n        input.close();\n        // extract type\n        if (extensionType == null) {\n          System.out.println(&quot;no office installed ?&quot;);\n          System.exit(1);\n        }\n        String fileType[] = extensionType.split(&quot;=&quot;);\n\n        p = Runtime.getRuntime().exec\n          (new String [] { &quot;cmd.exe&quot;, &quot;/c&quot;, &quot;ftype&quot;, fileType[1]});\n        input =\n          new BufferedReader\n            (new InputStreamReader(p.getInputStream()));\n        String fileAssociation = input.readLine();\n        // extract path\n        String officePath = fileAssociation.split(&quot;=&quot;)[1];\n        System.out.println(officePath);\n        //\n        // output if office is installed :\n        //  &quot;C:\\Program Files (x86)\\Microsoft Office\\Office12\\EXCEL.EXE&quot; /e\n        // the next step is to parse the pathname but this is left as an exercise :-)\n        //\n      }\n      catch (Exception err) {\n        err.printStackTrace();\n      }\n    }\n  }\n</code></pre>\n"}],"owner":{"account_id":80251,"reputation":2389,"user_id":227046,"accept_rate":64,"display_name":"Supereme"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":724,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":2350645,"answer_count":3,"score":1,"last_activity_date":1683166370,"creation_date":1267346827,"question_id":2350543,"body_markdown":"Is there any way to know which version of MS-Office I have on my pc using &#39;Java&#39;? ","title":"Knowing MS-Office version on Your pc using java","body":"<p>Is there any way to know which version of MS-Office I have on my pc using 'Java'? </p>\n"},{"tags":["java","oracle","jdbc","sequence"],"comments":[{"owner":{"account_id":318397,"reputation":203598,"user_id":635608,"display_name":"Mat"},"score":0,"creation_date":1306003050,"post_id":6083638,"comment_id":7048623,"body_markdown":"i&#39;m pretty sure you&#39;ll need to execute that statement before trying to get the generated keys.","body":"i&#39;m pretty sure you&#39;ll need to execute that statement before trying to get the generated keys."},{"owner":{"display_name":"user761796"},"score":0,"creation_date":1306003487,"post_id":6083638,"comment_id":7048673,"body_markdown":"Sorry it was mistake, I forgot to write the line in my question here. In my code the statement is already executed and it doesn&#39;t work.","body":"Sorry it was mistake, I forgot to write the line in my question here. In my code the statement is already executed and it doesn&#39;t work."}],"answers":[{"tags":[],"owner":{"account_id":2812,"reputation":13739,"user_id":3973,"accept_rate":67,"display_name":"Binil Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1306004388,"creation_date":1306004388,"answer_id":6083822,"question_id":6083638,"body_markdown":"Is `customer.getID()` a candidate key of the table? If so, you can run a `SELECT` after the `INSERT` to find the value of the generated PK. Alternatively, you can get rid of the trigger, get the next value of the `SEQUENCE` from the DB in Java, and use that as the PK for the `INSERT`. The drawback of this approach is that inserts from other applications will have to do the same too.","title":"How to get the auto incremented PK from Oracle database?","body":"<p>Is <code>customer.getID()</code> a candidate key of the table? If so, you can run a <code>SELECT</code> after the <code>INSERT</code> to find the value of the generated PK. Alternatively, you can get rid of the trigger, get the next value of the <code>SEQUENCE</code> from the DB in Java, and use that as the PK for the <code>INSERT</code>. The drawback of this approach is that inserts from other applications will have to do the same too.</p>\n"},{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683166337,"creation_date":1306010999,"answer_id":6084380,"question_id":6083638,"body_markdown":"You need to specify the possible generated keys that you want to retrieve.\r\n\r\n    PreparedStatement  pstmt = conn.prepareStatement(sql,new String [] {&quot;ID_ORDER&quot;});\r\n\r\nNote that the column name is case-sensitive. Finally a JDBC 3.0 driver and Oracle 10g R2 or better are required.\r\n\r\nYou can check if your current installation supports this mechanism by examining the DatabaseMetaData :\r\n\r\n    DatabaseMetaData metaData =  conn.getMetaData();\r\n    log(&quot;SupportsGetGeneratedKeys?=&quot;+metaData.supportsGetGeneratedKeys());\r\n\r\n\r\n","title":"How to get the auto incremented PK from Oracle database?","body":"<p>You need to specify the possible generated keys that you want to retrieve.</p>\n<pre><code>PreparedStatement  pstmt = conn.prepareStatement(sql,new String [] {&quot;ID_ORDER&quot;});\n</code></pre>\n<p>Note that the column name is case-sensitive. Finally a JDBC 3.0 driver and Oracle 10g R2 or better are required.</p>\n<p>You can check if your current installation supports this mechanism by examining the DatabaseMetaData :</p>\n<pre><code>DatabaseMetaData metaData =  conn.getMetaData();\nlog(&quot;SupportsGetGeneratedKeys?=&quot;+metaData.supportsGetGeneratedKeys());\n</code></pre>\n"}],"owner":{"display_name":"user761796"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1048,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1306068426,"answer_count":2,"score":2,"last_activity_date":1683166337,"creation_date":1306002627,"question_id":6083638,"body_markdown":"&gt; **Possible Duplicate:**  \n&gt; [PLSQL JDBC: How to get last row ID?](https://stackoverflow.com/questions/3552260/plsql-jdbc-how-to-get-last-row-id)  \n\n&lt;!-- End of automatically inserted text --&gt;\n\nI have implemented a trigger and a sequence for auto incrementing PK, I&#39;m using Oracle 10g as database.\r\nNow I want to INSERT something using JAVA, but I need to save the incremented PK in a variable right after the INSERT. I tried this:\r\n\r\n    PreparedStatement pstmt = connection.prepareStatement(&quot;INSERT INTO sometable \r\n                                                           VALUES(?, ?)&quot;, \r\n                                                          Statement.RETURN_GENERATED_KEYS);\r\n    pstmt.setInt(1, 5);\r\n    pstmt.setString(2, &quot;Username&quot;);\r\n    pstmt.executeUpdate();\r\n    ResultSet resultSet = pstmt.getGeneratedKeys();\r\n\r\nBut it doesn&#39;t work.","title":"How to get the auto incremented PK from Oracle database?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"https://stackoverflow.com/questions/3552260/plsql-jdbc-how-to-get-last-row-id\">PLSQL JDBC: How to get last row ID?</a>  </p>\n</blockquote>\n\n\n\n<p>I have implemented a trigger and a sequence for auto incrementing PK, I'm using Oracle 10g as database.\nNow I want to INSERT something using JAVA, but I need to save the incremented PK in a variable right after the INSERT. I tried this:</p>\n\n<pre><code>PreparedStatement pstmt = connection.prepareStatement(\"INSERT INTO sometable \n                                                       VALUES(?, ?)\", \n                                                      Statement.RETURN_GENERATED_KEYS);\npstmt.setInt(1, 5);\npstmt.setString(2, \"Username\");\npstmt.executeUpdate();\nResultSet resultSet = pstmt.getGeneratedKeys();\n</code></pre>\n\n<p>But it doesn't work.</p>\n"},{"tags":["java","python","excel"],"answers":[{"tags":[],"owner":{"account_id":19645,"reputation":3249,"user_id":46204,"display_name":"Abram Simon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1229552484,"creation_date":1229552484,"answer_id":376252,"question_id":376221,"body_markdown":"You might want to look into a third party library called [Aspose.Cells][1].  It is available for Java and .Net and allows very granular control of Excel documents.  The great thing about this library is that it does not use automation (which could be disasterous in a multi-threaded environment like the web).\r\n\r\nI have not personally used Apose.Cells, but I have used Aspose.Words (for .Net) to create mail merged Word documents that contained several thousand records and images, and it worked flawlessly.\r\n\r\n\r\n  [1]: http://www.aspose.com/categories/file-format-components/aspose.cells-for-.net-and-java/default.aspx","title":"Programmatic mail-merge style data injection into existing Excel spreadsheets?","body":"<p>You might want to look into a third party library called <a href=\"http://www.aspose.com/categories/file-format-components/aspose.cells-for-.net-and-java/default.aspx\" rel=\"nofollow noreferrer\">Aspose.Cells</a>.  It is available for Java and .Net and allows very granular control of Excel documents.  The great thing about this library is that it does not use automation (which could be disasterous in a multi-threaded environment like the web).</p>\n\n<p>I have not personally used Apose.Cells, but I have used Aspose.Words (for .Net) to create mail merged Word documents that contained several thousand records and images, and it worked flawlessly.</p>\n"},{"tags":[],"owner":{"account_id":1851,"reputation":90520,"user_id":2548,"display_name":"Fionnuala"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1229555338,"creation_date":1229555338,"answer_id":376396,"question_id":376221,"body_markdown":"WinHttpRequest (&lt;http://msdn.microsoft.com/en-us/library/aa384045(VS.85).aspx&gt;) may suit, you can use the document and so forth. Here is a snippet from the link. \r\n\r\n    Dim HttpReq As Object\r\n    \r\n    &#39; Create the WinHTTPRequest ActiveX Object.&#39;\r\n    Set HttpReq = New WinHttpRequest\r\n    \r\n    &#39; Open an HTTP connection.&#39;\r\n    HttpReq.Open &quot;GET&quot;, &quot;http://microsoft.com&quot;, False\r\n    \r\n    &#39; Send the HTTP Request.&#39;\r\n    HttpReq.Send\r\n      \r\n    &#39; Get all response text.&#39;\r\n    Text1.Text = HttpReq.ResponseText","title":"Programmatic mail-merge style data injection into existing Excel spreadsheets?","body":"<p>WinHttpRequest (<a href=\"http://msdn.microsoft.com/en-us/library/aa384045(VS.85).aspx\" rel=\"nofollow noreferrer\">http://msdn.microsoft.com/en-us/library/aa384045(VS.85).aspx</a>) may suit, you can use the document and so forth. Here is a snippet from the link. </p>\n\n<pre><code>Dim HttpReq As Object\n\n' Create the WinHTTPRequest ActiveX Object.'\nSet HttpReq = New WinHttpRequest\n\n' Open an HTTP connection.'\nHttpReq.Open \"GET\", \"http://microsoft.com\", False\n\n' Send the HTTP Request.'\nHttpReq.Send\n\n' Get all response text.'\nText1.Text = HttpReq.ResponseText\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683166256,"creation_date":1229568723,"answer_id":376772,"question_id":376221,"body_markdown":"jXLS is maybe an option. You define an XLS file as a template and then you merge your data.  \r\n\r\n\r\n[http://jxls.sourceforge.net/][2]\r\n\r\n\r\n  [1]: http://www.rgagnon.com/javadetails/java-0516.html\r\n  [2]: http://jxls.sourceforge.net/","title":"Programmatic mail-merge style data injection into existing Excel spreadsheets?","body":"<p>jXLS is maybe an option. You define an XLS file as a template and then you merge your data.</p>\n<p><a href=\"http://jxls.sourceforge.net/\" rel=\"nofollow noreferrer\">http://jxls.sourceforge.net/</a></p>\n"}],"owner":{"account_id":7495,"reputation":103700,"user_id":13055,"accept_rate":68,"display_name":"Parand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1604,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":376772,"answer_count":3,"score":4,"last_activity_date":1683166256,"creation_date":1229551942,"question_id":376221,"body_markdown":"I&#39;d like to automate data entry into Excel spreadsheets. User data will exist on a web site, and when the user requests it, that data will need to be injected into an Excel spreadsheet. The complication is that the format of the Excel spreadsheet can vary significantly between users - it&#39;ll be user defined.\r\n\r\nI&#39;ve been thinking of this as a templating problem - the excel spreadsheet provides the template, and the task s to inject data into specific user defined cells within that template.\r\n\r\nI&#39;ve looked at xlwt and xlrd for python, as well as jexcelapi and POI-HSSF for Java. They seem like they could work, but given that I simply want to put values into certain cells, they seem like overkill. I&#39;m also worried about re-writing the user&#39;s spreadsheet after processing; seems like an opportunity to introduce errors into the process.\r\n\r\nIs there a way to tell excel to merge the data from one sheet into another? I&#39;m thinking I could produce a simple spreadsheet that has only the data, and somehow get Excel to merge it into the user&#39;s existing spreadsheet.\r\n\r\nMake sense? Better approaches?","title":"Programmatic mail-merge style data injection into existing Excel spreadsheets?","body":"<p>I'd like to automate data entry into Excel spreadsheets. User data will exist on a web site, and when the user requests it, that data will need to be injected into an Excel spreadsheet. The complication is that the format of the Excel spreadsheet can vary significantly between users - it'll be user defined.</p>\n\n<p>I've been thinking of this as a templating problem - the excel spreadsheet provides the template, and the task s to inject data into specific user defined cells within that template.</p>\n\n<p>I've looked at xlwt and xlrd for python, as well as jexcelapi and POI-HSSF for Java. They seem like they could work, but given that I simply want to put values into certain cells, they seem like overkill. I'm also worried about re-writing the user's spreadsheet after processing; seems like an opportunity to introduce errors into the process.</p>\n\n<p>Is there a way to tell excel to merge the data from one sheet into another? I'm thinking I could produce a simple spreadsheet that has only the data, and somehow get Excel to merge it into the user's existing spreadsheet.</p>\n\n<p>Make sense? Better approaches?</p>\n"},{"tags":["java","scripting","vbscript","shortcut"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1281116931,"post_id":3426314,"comment_id":3567296,"body_markdown":"why not just calling shortcut.exe without using VBS?","body":"why not just calling shortcut.exe without using VBS?"}],"answers":[{"tags":[],"owner":{"account_id":72122,"reputation":2758,"user_id":208344,"display_name":"Jes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1281142809,"creation_date":1281142809,"answer_id":3428721,"question_id":3426314,"body_markdown":"See [this similar question.][1] and [this][2].\r\n\r\nAfter a quick google search I found this java library: [http://alumnus.caltech.edu/~jimmc/jshortcut/][3]\r\n\r\n  [1]: https://stackoverflow.com/questions/343776/how-do-you-create-and-read-windows-shortcut-lnk-file-in-java\r\n  [2]: https://stackoverflow.com/questions/309495/windows-shortcut-lnk-parser-in-java\r\n  [3]: http://alumnus.caltech.edu/~jimmc/jshortcut/","title":"Creating shortcut links (.lnk) from Java","body":"<p>See <a href=\"https://stackoverflow.com/questions/343776/how-do-you-create-and-read-windows-shortcut-lnk-file-in-java\">this similar question.</a> and <a href=\"https://stackoverflow.com/questions/309495/windows-shortcut-lnk-parser-in-java\">this</a>.</p>\n\n<p>After a quick google search I found this java library: <a href=\"http://alumnus.caltech.edu/~jimmc/jshortcut/\" rel=\"nofollow noreferrer\">http://alumnus.caltech.edu/~jimmc/jshortcut/</a></p>\n"},{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683166230,"creation_date":1281144132,"answer_id":3428774,"question_id":3426314,"body_markdown":"   \r\n\r\n      /**\r\n       * Create an Internet shortcut\r\n       * @param name     name of the shortcut\r\n       * @param where    location of the shortcut\r\n       * @param target   URL \r\n       * @param icon     URL (ex. http://www.server.com/favicon.ico)\r\n       * @throws IOException\r\n       */\r\n      public static void createInternetShortcut\r\n          (String name, String where, String target, String icon) \r\n        throws IOException\r\n      {\r\n        FileWriter fw = new FileWriter(where);\r\n        fw.write(&quot;[InternetShortcut]\\n&quot;);\r\n        fw.write(&quot;URL=&quot; + target + &quot;\\n&quot;);\r\n        if (!icon.equals(&quot;&quot;))  {\r\n          fw.write(&quot;IconFile=&quot; + icon + &quot;\\n&quot;);  \r\n        }\r\n        fw.flush();\r\n        fw.close();\r\n      }\r\n\r\n\r\n\r\n\r\n  [1]: http://www.rgagnon.com/javadetails/java-0660.html","title":"Creating shortcut links (.lnk) from Java","body":"<pre><code>  /**\n   * Create an Internet shortcut\n   * @param name     name of the shortcut\n   * @param where    location of the shortcut\n   * @param target   URL \n   * @param icon     URL (ex. http://www.server.com/favicon.ico)\n   * @throws IOException\n   */\n  public static void createInternetShortcut\n      (String name, String where, String target, String icon) \n    throws IOException\n  {\n    FileWriter fw = new FileWriter(where);\n    fw.write(&quot;[InternetShortcut]\\n&quot;);\n    fw.write(&quot;URL=&quot; + target + &quot;\\n&quot;);\n    if (!icon.equals(&quot;&quot;))  {\n      fw.write(&quot;IconFile=&quot; + icon + &quot;\\n&quot;);  \n    }\n    fw.flush();\n    fw.close();\n  }\n</code></pre>\n"}],"owner":{"account_id":17109,"reputation":11407,"user_id":37966,"accept_rate":77,"display_name":"cweston"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9923,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":3428774,"answer_count":2,"score":3,"last_activity_date":1683166230,"creation_date":1281116642,"question_id":3426314,"body_markdown":"I am writing an installer (launcher) in Java and require the ability to be able to create a shortcut on the users desktop during the process. \r\n\r\nI am interested in any ideas as the best way to do this. My one option I have considered is using a VB Script on windows and using the native &#39;shortcut.exe&#39; to do it for me, however a third party file utility would be preferred.","title":"Creating shortcut links (.lnk) from Java","body":"<p>I am writing an installer (launcher) in Java and require the ability to be able to create a shortcut on the users desktop during the process. </p>\n\n<p>I am interested in any ideas as the best way to do this. My one option I have considered is using a VB Script on windows and using the native 'shortcut.exe' to do it for me, however a third party file utility would be preferred.</p>\n"},{"tags":["java","http"],"comments":[{"owner":{"account_id":290879,"reputation":758,"user_id":592678,"accept_rate":95,"display_name":"Teknophilia"},"score":1,"creation_date":1296251893,"post_id":4833301,"comment_id":5364143,"body_markdown":"What exactly do you want to do? Do you want to make the file accessible to java apps from other computers?","body":"What exactly do you want to do? Do you want to make the file accessible to java apps from other computers?"},{"owner":{"account_id":237984,"reputation":11801,"user_id":506565,"accept_rate":73,"display_name":"el_pup_le"},"score":0,"creation_date":1296253141,"post_id":4833301,"comment_id":5364355,"body_markdown":"Files will need to be transferred between the client applications. Like P2P but only 1 to 1 file transfers. I will not be able to setup HTTP servers on all the computers using this application!","body":"Files will need to be transferred between the client applications. Like P2P but only 1 to 1 file transfers. I will not be able to setup HTTP servers on all the computers using this application!"}],"answers":[{"tags":[],"owner":{"account_id":59394,"reputation":6071,"user_id":177728,"accept_rate":60,"display_name":"evandrix"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1296252755,"creation_date":1296252755,"answer_id":4833573,"question_id":4833301,"body_markdown":"Create a Java server, be sure to expose it if you&#39;re behind a router/proxy/firewall if you&#39;re accessing it externally from the internet, if not, if you&#39;re in the same subnet then it&#39;s fine ignore this consideration.\r\n\r\nOn the Java server, make it listen to a specific port and handle TCP calls from a custom Java client on this predetermined agreed port to exchange data. Then get the Java server to use a System.IO call or similar to serve out the file as a byte stream to the client.\r\n\r\nThe Java server can preferably be say LAMP or Jetty or any minified Java-based server actually, so you needn&#39;t begin from scratch.\r\n\r\nHope this helps.","title":"Create downloadable file with URL","body":"<p>Create a Java server, be sure to expose it if you're behind a router/proxy/firewall if you're accessing it externally from the internet, if not, if you're in the same subnet then it's fine ignore this consideration.</p>\n\n<p>On the Java server, make it listen to a specific port and handle TCP calls from a custom Java client on this predetermined agreed port to exchange data. Then get the Java server to use a System.IO call or similar to serve out the file as a byte stream to the client.</p>\n\n<p>The Java server can preferably be say LAMP or Jetty or any minified Java-based server actually, so you needn't begin from scratch.</p>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":51914,"reputation":67901,"user_id":155137,"accept_rate":91,"display_name":"Martijn Courteaux"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1298114377,"creation_date":1296252879,"answer_id":4833586,"question_id":4833301,"body_markdown":"You can set up a webserver.\r\n\r\nA Java webserver:\r\n\r\n * [Oracle Networking (Code)][1] and this is the project page: [project page][2]\r\n\r\nOf course, if you are behind a router, you will need to forward port 80 to your computer.\r\n\r\n\r\n  [1]: http://java.sun.com/developer/technicalArticles/Networking/Webserver/WebServer.java\r\n  [2]: http://java.sun.com/developer/technicalArticles/Networking/Webserver/","title":"Create downloadable file with URL","body":"<p>You can set up a webserver.</p>\n\n<p>A Java webserver:</p>\n\n<ul>\n<li><a href=\"http://java.sun.com/developer/technicalArticles/Networking/Webserver/WebServer.java\" rel=\"nofollow\">Oracle Networking (Code)</a> and this is the project page: <a href=\"http://java.sun.com/developer/technicalArticles/Networking/Webserver/\" rel=\"nofollow\">project page</a></li>\n</ul>\n\n<p>Of course, if you are behind a router, you will need to forward port 80 to your computer.</p>\n"},{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683166208,"creation_date":1296253771,"answer_id":4833677,"question_id":4833301,"body_markdown":"Since Java 1.6, there&#39;s a built-in HTTP server included with the JDK. \r\n\r\nThis code is used to setup a simple http server to get a specific PDF (with the request http://localhost:8000/get)\r\n\r\n    import java.io.BufferedInputStream;\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import java.io.OutputStream;\r\n    import java.net.InetSocketAddress;\r\n    \r\n    import com.sun.net.httpserver.HttpExchange;\r\n    import com.sun.net.httpserver.HttpHandler;\r\n    import com.sun.net.httpserver.HttpServer;\r\n    import com.sun.net.httpserver.Headers;\r\n    \r\n    public class SimpleHttpServer {\r\n    \r\n      public static void main(String[] args) throws Exception {\r\n        HttpServer server = HttpServer.create(new InetSocketAddress(8000), 0);\r\n        server.createContext(&quot;/info&quot;, new InfoHandler());\r\n        server.createContext(&quot;/get&quot;, new GetHandler());\r\n        server.setExecutor(null); // creates a default executor\r\n        server.start();\r\n      }\r\n    \r\n      static class InfoHandler implements HttpHandler {\r\n        public void handle(HttpExchange t) throws IOException {\r\n          String response = &quot;Use /get to download a PDF&quot;;\r\n          t.sendResponseHeaders(200, response.length());\r\n          OutputStream os = t.getResponseBody();\r\n          os.write(response.getBytes());\r\n          os.close();\r\n        }\r\n      }\r\n    \r\n      static class GetHandler implements HttpHandler {\r\n        public void handle(HttpExchange t) throws IOException {\r\n    \r\n          // add the required response header for a PDF file\r\n          Headers h = t.getResponseHeaders();\r\n          h.add(&quot;Content-Type&quot;, &quot;application/pdf&quot;);\r\n    \r\n          // a PDF (you provide your own!)\r\n          File file = new File (&quot;c:/temp/doc.pdf&quot;);\r\n          byte [] bytearray  = new byte [(int)file.length()];\r\n          FileInputStream fis = new FileInputStream(file);\r\n          BufferedInputStream bis = new BufferedInputStream(fis);\r\n          bis.read(bytearray, 0, bytearray.length);\r\n    \r\n          // ok, we are ready to send the response.\r\n          t.sendResponseHeaders(200, file.length());\r\n          OutputStream os = t.getResponseBody();\r\n          os.write(bytearray,0,bytearray.length);\r\n          os.close();\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n","title":"Create downloadable file with URL","body":"<p>Since Java 1.6, there's a built-in HTTP server included with the JDK.</p>\n<p>This code is used to setup a simple http server to get a specific PDF (with the request http://localhost:8000/get)</p>\n<pre><code>import java.io.BufferedInputStream;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.io.OutputStream;\nimport java.net.InetSocketAddress;\n\nimport com.sun.net.httpserver.HttpExchange;\nimport com.sun.net.httpserver.HttpHandler;\nimport com.sun.net.httpserver.HttpServer;\nimport com.sun.net.httpserver.Headers;\n\npublic class SimpleHttpServer {\n\n  public static void main(String[] args) throws Exception {\n    HttpServer server = HttpServer.create(new InetSocketAddress(8000), 0);\n    server.createContext(&quot;/info&quot;, new InfoHandler());\n    server.createContext(&quot;/get&quot;, new GetHandler());\n    server.setExecutor(null); // creates a default executor\n    server.start();\n  }\n\n  static class InfoHandler implements HttpHandler {\n    public void handle(HttpExchange t) throws IOException {\n      String response = &quot;Use /get to download a PDF&quot;;\n      t.sendResponseHeaders(200, response.length());\n      OutputStream os = t.getResponseBody();\n      os.write(response.getBytes());\n      os.close();\n    }\n  }\n\n  static class GetHandler implements HttpHandler {\n    public void handle(HttpExchange t) throws IOException {\n\n      // add the required response header for a PDF file\n      Headers h = t.getResponseHeaders();\n      h.add(&quot;Content-Type&quot;, &quot;application/pdf&quot;);\n\n      // a PDF (you provide your own!)\n      File file = new File (&quot;c:/temp/doc.pdf&quot;);\n      byte [] bytearray  = new byte [(int)file.length()];\n      FileInputStream fis = new FileInputStream(file);\n      BufferedInputStream bis = new BufferedInputStream(fis);\n      bis.read(bytearray, 0, bytearray.length);\n\n      // ok, we are ready to send the response.\n      t.sendResponseHeaders(200, file.length());\n      OutputStream os = t.getResponseBody();\n      os.write(bytearray,0,bytearray.length);\n      os.close();\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":280835,"reputation":26318,"user_id":576766,"accept_rate":80,"display_name":"tenshi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1296254236,"creation_date":1296254236,"answer_id":4833727,"question_id":4833301,"body_markdown":"You can use Jetty server. It&#39;s very easy to embed it in your Java SE application. You can find more info here:\r\n\r\nhttp://wiki.eclipse.org/Jetty/Tutorial/Embedding_Jetty\r\n\r\nI think section **Configuring a File Server** would be especially interesting for you:\r\n\r\nhttp://wiki.eclipse.org/Jetty/Tutorial/Embedding_Jetty#Configuring_a_File_Server\r\n\r\nHere is an example that you can find there:\r\n\r\n    public class FileServer\r\n    {\r\n        public static void main(String[] args) throws Exception\r\n        {\r\n            Server server = new Server();\r\n            SelectChannelConnector connector = new SelectChannelConnector();\r\n            connector.setPort(8080);\r\n            server.addConnector(connector);\r\n     \r\n            ResourceHandler resource_handler = new ResourceHandler();\r\n            resource_handler.setDirectoriesListed(true);\r\n            resource_handler.setWelcomeFiles(new String[]{ &quot;index.html&quot; });\r\n     \r\n            resource_handler.setResourceBase(&quot;.&quot;);\r\n     \r\n            HandlerList handlers = new HandlerList();\r\n            handlers.setHandlers(new Handler[] { resource_handler, new DefaultHandler() });\r\n            server.setHandler(handlers);\r\n     \r\n            server.start();\r\n            server.join();\r\n        }\r\n    }\r\n\r\nIf you configure `resourceBase` with path to your folder like this: `resource_handler.setResourceBase(&quot;/path/to/your/folder&quot;)`, then all files in this folder would be available through HTTP.","title":"Create downloadable file with URL","body":"<p>You can use Jetty server. It's very easy to embed it in your Java SE application. You can find more info here:</p>\n\n<p><a href=\"http://wiki.eclipse.org/Jetty/Tutorial/Embedding_Jetty\" rel=\"nofollow\">http://wiki.eclipse.org/Jetty/Tutorial/Embedding_Jetty</a></p>\n\n<p>I think section <strong>Configuring a File Server</strong> would be especially interesting for you:</p>\n\n<p><a href=\"http://wiki.eclipse.org/Jetty/Tutorial/Embedding_Jetty#Configuring_a_File_Server\" rel=\"nofollow\">http://wiki.eclipse.org/Jetty/Tutorial/Embedding_Jetty#Configuring_a_File_Server</a></p>\n\n<p>Here is an example that you can find there:</p>\n\n<pre><code>public class FileServer\n{\n    public static void main(String[] args) throws Exception\n    {\n        Server server = new Server();\n        SelectChannelConnector connector = new SelectChannelConnector();\n        connector.setPort(8080);\n        server.addConnector(connector);\n\n        ResourceHandler resource_handler = new ResourceHandler();\n        resource_handler.setDirectoriesListed(true);\n        resource_handler.setWelcomeFiles(new String[]{ \"index.html\" });\n\n        resource_handler.setResourceBase(\".\");\n\n        HandlerList handlers = new HandlerList();\n        handlers.setHandlers(new Handler[] { resource_handler, new DefaultHandler() });\n        server.setHandler(handlers);\n\n        server.start();\n        server.join();\n    }\n}\n</code></pre>\n\n<p>If you configure <code>resourceBase</code> with path to your folder like this: <code>resource_handler.setResourceBase(\"/path/to/your/folder\")</code>, then all files in this folder would be available through HTTP.</p>\n"}],"owner":{"account_id":237984,"reputation":11801,"user_id":506565,"accept_rate":73,"display_name":"el_pup_le"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3903,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":4833727,"answer_count":4,"score":1,"last_activity_date":1683166208,"creation_date":1296250728,"question_id":4833301,"body_markdown":"How can i make a local file on any computer available as a downloadable file with a URL. The URL would be accessed by a client java application to download the file.","title":"Create downloadable file with URL","body":"<p>How can i make a local file on any computer available as a downloadable file with a URL. The URL would be accessed by a client java application to download the file.</p>\n"},{"tags":["java","performance"],"comments":[{"owner":{"account_id":95258,"reputation":80673,"user_id":259541,"accept_rate":81,"display_name":"froadie"},"score":0,"creation_date":1292319602,"post_id":4437715,"comment_id":4844902,"body_markdown":"Care to explain? I&#39;ve always found println to be quite fast...","body":"Care to explain? I&#39;ve always found println to be quite fast..."},{"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"score":0,"creation_date":1292319654,"post_id":4437715,"comment_id":4844910,"body_markdown":"@DasWood &quot;Seems&quot;? Please present some benchmarks (code + timings).","body":"@DasWood &quot;Seems&quot;? Please present some benchmarks (code + timings)."},{"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":0,"creation_date":1292319767,"post_id":4437715,"comment_id":4844933,"body_markdown":"It tends to be fast on *nix, slow on windows. In other words, it&#39;s the console implementations of those OSes that&#39;s the factor here.","body":"It tends to be fast on *nix, slow on windows. In other words, it&#39;s the console implementations of those OSes that&#39;s the factor here."},{"owner":{"display_name":"user328898"},"score":0,"creation_date":1292319920,"post_id":4437715,"comment_id":4844952,"body_markdown":"Bench the example I paste with printing commented out. Bench again with it not. HUGE difference and it is only running through the number line once, not 9999998 times like the actual sieve.","body":"Bench the example I paste with printing commented out. Bench again with it not. HUGE difference and it is only running through the number line once, not 9999998 times like the actual sieve."},{"owner":{"account_id":10450,"reputation":172558,"user_id":19750,"accept_rate":100,"display_name":"Josh Lee"},"score":0,"creation_date":1292319954,"post_id":4437715,"comment_id":4844959,"body_markdown":"Do you mean `println` vs nothing, or `println` vs `print`? They are very different questions.","body":"Do you mean <code>println</code> vs nothing, or <code>println</code> vs <code>print</code>? They are very different questions."},{"owner":{"display_name":"user328898"},"score":1,"creation_date":1292320287,"post_id":4437715,"comment_id":4845013,"body_markdown":"Instead of println repeatedly, put it all into a string then println it. It&#39;s faster.","body":"Instead of println repeatedly, put it all into a string then println it. It&#39;s faster."}],"answers":[{"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1292322485,"creation_date":1292319658,"answer_id":4437752,"question_id":4437715,"body_markdown":"`println` is not slow, it&#39;s the underlying `PrintStream` that is connected with the console, provided by the hosting operating system.\r\n\r\nYou can check it yourself: compare dumping a large text file to the console with piping the same textfile into another file:\r\n\r\n    cat largeTextFile.txt\r\n    cat largeTextFile.txt &gt; temp.txt\r\n\r\nReading and writing are similiar and proportional to the size of the file (O(n)), the only difference is, that the destination is different (console compared to file). And that&#39;s basically the same with `System.out`.\r\n\r\n---\r\n\r\nThe underlying OS operation (displaying chars on a console window) is slow because\r\n\r\n1. The bytes have to be sent to the console application (should be quite fast)\r\n2. Each char has to be rendered using (usually) a true type font (that&#39;s pretty slow, switching off anti aliasing could improve performance, btw)\r\n3. The displayed area may have to be scrolled in order to append a new line to the visible area (best case: bit block transfer operation, worst case: re-rendering of the complete text area)","title":"Why is System.out.println so slow?","body":"<p><code>println</code> is not slow, it's the underlying <code>PrintStream</code> that is connected with the console, provided by the hosting operating system.</p>\n\n<p>You can check it yourself: compare dumping a large text file to the console with piping the same textfile into another file:</p>\n\n<pre><code>cat largeTextFile.txt\ncat largeTextFile.txt &gt; temp.txt\n</code></pre>\n\n<p>Reading and writing are similiar and proportional to the size of the file (O(n)), the only difference is, that the destination is different (console compared to file). And that's basically the same with <code>System.out</code>.</p>\n\n<hr>\n\n<p>The underlying OS operation (displaying chars on a console window) is slow because</p>\n\n<ol>\n<li>The bytes have to be sent to the console application (should be quite fast)</li>\n<li>Each char has to be rendered using (usually) a true type font (that's pretty slow, switching off anti aliasing could improve performance, btw)</li>\n<li>The displayed area may have to be scrolled in order to append a new line to the visible area (best case: bit block transfer operation, worst case: re-rendering of the complete text area)</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6986,"reputation":61140,"user_id":11926,"accept_rate":96,"display_name":"Alfred"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1292319711,"creation_date":1292319711,"answer_id":4437766,"question_id":4437715,"body_markdown":"I believe this is because of [buffering][1]. A quote from the article:\r\n\r\n&gt; Another aspect of buffering concerns\r\n&gt; text output to a terminal window. By\r\n&gt; default, System.out (a PrintStream) is\r\n&gt; line buffered, meaning that the output\r\n&gt; buffer is flushed when a newline\r\n&gt; character is encountered. This is\r\n&gt; important for interactivity, where\r\n&gt; you&#39;d like to have an input prompt\r\n&gt; displayed before actually entering any\r\n&gt; input.\r\n\r\nA quote explaining buffers from wikipedia:\r\n\r\n&gt; In computer science, a buffer is a\r\n&gt; region of memory used to temporarily\r\n&gt; hold data while it is being moved from\r\n&gt; one place to another. Typically, the\r\n&gt; data is stored in a buffer as it is\r\n&gt; retrieved from an input device (such\r\n&gt; as a Mouse) or just before it is sent\r\n&gt; to an output device (such as Speakers)\r\n\r\n    public void println()\r\n\r\n&gt; Terminate the current line by writing\r\n&gt; the line separator string. The line\r\n&gt; separator string is defined by the\r\n&gt; system property line.separator, and is\r\n&gt; not necessarily a single newline\r\n&gt; character (&#39;\\n&#39;).\r\n\r\nSo the buffer get&#39;s flushed when you do `println` which means new memory has to be allocated etc which makes printing slower. The other methods you specified require lesser flushing of buffers thus are faster.\r\n\r\n  [1]: http://java.sun.com/developer/technicalArticles/Programming/PerfTuning/\r\n\r\n","title":"Why is System.out.println so slow?","body":"<p>I believe this is because of <a href=\"http://java.sun.com/developer/technicalArticles/Programming/PerfTuning/\" rel=\"nofollow\">buffering</a>. A quote from the article:</p>\n\n<blockquote>\n  <p>Another aspect of buffering concerns\n  text output to a terminal window. By\n  default, System.out (a PrintStream) is\n  line buffered, meaning that the output\n  buffer is flushed when a newline\n  character is encountered. This is\n  important for interactivity, where\n  you'd like to have an input prompt\n  displayed before actually entering any\n  input.</p>\n</blockquote>\n\n<p>A quote explaining buffers from wikipedia:</p>\n\n<blockquote>\n  <p>In computer science, a buffer is a\n  region of memory used to temporarily\n  hold data while it is being moved from\n  one place to another. Typically, the\n  data is stored in a buffer as it is\n  retrieved from an input device (such\n  as a Mouse) or just before it is sent\n  to an output device (such as Speakers)</p>\n</blockquote>\n\n<pre><code>public void println()\n</code></pre>\n\n<blockquote>\n  <p>Terminate the current line by writing\n  the line separator string. The line\n  separator string is defined by the\n  system property line.separator, and is\n  not necessarily a single newline\n  character ('\\n').</p>\n</blockquote>\n\n<p>So the buffer get's flushed when you do <code>println</code> which means new memory has to be allocated etc which makes printing slower. The other methods you specified require lesser flushing of buffers thus are faster.</p>\n"},{"tags":[],"owner":{"account_id":177247,"reputation":639,"user_id":408453,"accept_rate":100,"display_name":"JBirch"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1292320291,"creation_date":1292320291,"answer_id":4437844,"question_id":4437715,"body_markdown":"`System.out` is a static `PrintStream` class. `PrintStream` has, among other things, those methods you&#39;re probably quite familiar with, like `print()` and `println()` and such.\r\n\r\nIt&#39;s not unique to Java that input and output operations take a long time. &quot;long.&quot; printing or writing to a `PrintStream` takes a fraction of a second, but over 10 billion instances of this print can add up to quite a lot!\r\n\r\nThis is why your &quot;moving everything to a String&quot; is the fastest. Your huge String is built, but you only print it *once*. Sure, it&#39;s a huge print, but you spend time on actually printing, not on the overhead associated with the `print()` or `println()`.\r\n\r\nAs Dvd Prd has mentioned, Strings are immutable. That means whenever you assign a new String to an old one but reusing references, you actually destroy the reference to the old String and create a reference to the new one. So you can make this whole operation go even faster by using the StringBuilder class, which is mutable. This will decrease the overhead associated with building that string you&#39;ll eventually print.","title":"Why is System.out.println so slow?","body":"<p><code>System.out</code> is a static <code>PrintStream</code> class. <code>PrintStream</code> has, among other things, those methods you're probably quite familiar with, like <code>print()</code> and <code>println()</code> and such.</p>\n\n<p>It's not unique to Java that input and output operations take a long time. \"long.\" printing or writing to a <code>PrintStream</code> takes a fraction of a second, but over 10 billion instances of this print can add up to quite a lot!</p>\n\n<p>This is why your \"moving everything to a String\" is the fastest. Your huge String is built, but you only print it <em>once</em>. Sure, it's a huge print, but you spend time on actually printing, not on the overhead associated with the <code>print()</code> or <code>println()</code>.</p>\n\n<p>As Dvd Prd has mentioned, Strings are immutable. That means whenever you assign a new String to an old one but reusing references, you actually destroy the reference to the old String and create a reference to the new one. So you can make this whole operation go even faster by using the StringBuilder class, which is mutable. This will decrease the overhead associated with building that string you'll eventually print.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674640275,"creation_date":1292323421,"answer_id":4438299,"question_id":4437715,"body_markdown":"The problem you have is that displaying to the screen is very espensive, especially if you have a graphical windows/X-windows environment (rather than a pure text terminal)  Just to render one digit in a font is far more expensive than the calculations you are doing.  When you send data to the screen faster than it can display it, it buffered the data and quickly blocks.  Even writing to a file is significant compare to the calculations, but its 10x - 100x faster than displaying on the screen.\r\n\r\nBTW: math.sqrt() is very expensive, and using a loop is much slower than using modulus i.e. % to determine if a number is a multiple.  BitSet can be 8x more space efficient than boolean[], and faster for operations on multiple bits e.g. counting or searching bits.\r\n\r\nIf I dump the output to a file, it is quick, but writing to the console is slow, and if I write to the console the data which was written to a file it takes about the same amount of time.\r\n\r\n    Took 289 ms to examine 10,000,000 numbers.\r\n    Took 149 ms to toString primes up to 10,000,000.\r\n    Took 306 ms to write to a file primes up to 10,000,000.\r\n    Took 61,082 ms to write to a System.out primes up to 10,000,000.\r\n\r\n    time cat primes.txt\r\n    \r\n    real    1m24.916s\r\n    user    0m3.619s\r\n    sys     0m12.058s\r\n\r\nThe code\r\n\r\n    int upTo = 10*1000*1000;\r\n    long start = System.nanoTime();\r\n    BitSet nonprimes = new BitSet(upTo);\r\n    for (int t = 2; t * t &lt; upTo; t++) {\r\n        if (nonprimes.get(t)) continue;\r\n        for (int i = 2 * t; i &lt;= upTo; i += t)\r\n            nonprimes.set(i);\r\n    }\r\n    PrintWriter report = new PrintWriter(&quot;report.txt&quot;);\r\n    long time = System.nanoTime() - start;\r\n    report.printf(&quot;Took %,d ms to examine %,d numbers.%n&quot;, time / 1000 / 1000, upTo);\r\n\r\n    long start2 = System.nanoTime();\r\n    for (int i = 2; i &lt; upTo; i++) {\r\n        if (!nonprimes.get(i))\r\n            Integer.toString(i);\r\n    }\r\n    long time2 = System.nanoTime() - start2;\r\n    report.printf(&quot;Took %,d ms to toString primes up to %,d.%n&quot;, time2 / 1000 / 1000, upTo);\r\n\r\n    long start3 = System.nanoTime();\r\n    PrintWriter pw = new PrintWriter(new BufferedOutputStream(new FileOutputStream(&quot;primes.txt&quot;), 64*1024));\r\n    for (int i = 2; i &lt; upTo; i++) {\r\n        if (!nonprimes.get(i))\r\n            pw.println(i);\r\n    }\r\n    pw.close();\r\n    long time3 = System.nanoTime() - start3;\r\n    report.printf(&quot;Took %,d ms to write to a file primes up to %,d.%n&quot;, time3 / 1000 / 1000, upTo);\r\n\r\n    long start4 = System.nanoTime();\r\n    for (int i = 2; i &lt; upTo; i++) {\r\n        if (!nonprimes.get(i))\r\n            System.out.println(i);\r\n    }\r\n    long time4 = System.nanoTime() - start4;\r\n    report.printf(&quot;Took %,d ms to write to a System.out primes up to %,d.%n&quot;, time4 / 1000 / 1000, upTo);\r\n    report.close();\r\n\r\n\r\n\r\n\r\n","title":"Why is System.out.println so slow?","body":"<p>The problem you have is that displaying to the screen is very espensive, especially if you have a graphical windows/X-windows environment (rather than a pure text terminal)  Just to render one digit in a font is far more expensive than the calculations you are doing.  When you send data to the screen faster than it can display it, it buffered the data and quickly blocks.  Even writing to a file is significant compare to the calculations, but its 10x - 100x faster than displaying on the screen.</p>\n<p>BTW: math.sqrt() is very expensive, and using a loop is much slower than using modulus i.e. % to determine if a number is a multiple.  BitSet can be 8x more space efficient than boolean[], and faster for operations on multiple bits e.g. counting or searching bits.</p>\n<p>If I dump the output to a file, it is quick, but writing to the console is slow, and if I write to the console the data which was written to a file it takes about the same amount of time.</p>\n<pre><code>Took 289 ms to examine 10,000,000 numbers.\nTook 149 ms to toString primes up to 10,000,000.\nTook 306 ms to write to a file primes up to 10,000,000.\nTook 61,082 ms to write to a System.out primes up to 10,000,000.\n\ntime cat primes.txt\n\nreal    1m24.916s\nuser    0m3.619s\nsys     0m12.058s\n</code></pre>\n<p>The code</p>\n<pre><code>int upTo = 10*1000*1000;\nlong start = System.nanoTime();\nBitSet nonprimes = new BitSet(upTo);\nfor (int t = 2; t * t &lt; upTo; t++) {\n    if (nonprimes.get(t)) continue;\n    for (int i = 2 * t; i &lt;= upTo; i += t)\n        nonprimes.set(i);\n}\nPrintWriter report = new PrintWriter(&quot;report.txt&quot;);\nlong time = System.nanoTime() - start;\nreport.printf(&quot;Took %,d ms to examine %,d numbers.%n&quot;, time / 1000 / 1000, upTo);\n\nlong start2 = System.nanoTime();\nfor (int i = 2; i &lt; upTo; i++) {\n    if (!nonprimes.get(i))\n        Integer.toString(i);\n}\nlong time2 = System.nanoTime() - start2;\nreport.printf(&quot;Took %,d ms to toString primes up to %,d.%n&quot;, time2 / 1000 / 1000, upTo);\n\nlong start3 = System.nanoTime();\nPrintWriter pw = new PrintWriter(new BufferedOutputStream(new FileOutputStream(&quot;primes.txt&quot;), 64*1024));\nfor (int i = 2; i &lt; upTo; i++) {\n    if (!nonprimes.get(i))\n        pw.println(i);\n}\npw.close();\nlong time3 = System.nanoTime() - start3;\nreport.printf(&quot;Took %,d ms to write to a file primes up to %,d.%n&quot;, time3 / 1000 / 1000, upTo);\n\nlong start4 = System.nanoTime();\nfor (int i = 2; i &lt; upTo; i++) {\n    if (!nonprimes.get(i))\n        System.out.println(i);\n}\nlong time4 = System.nanoTime() - start4;\nreport.printf(&quot;Took %,d ms to write to a System.out primes up to %,d.%n&quot;, time4 / 1000 / 1000, upTo);\nreport.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12145,"reputation":40207,"user_id":23771,"accept_rate":60,"display_name":"Mike Dunlavey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1292326358,"creation_date":1292326358,"answer_id":4438668,"question_id":4437715,"body_markdown":"If you&#39;re printing to the console window, not to a file, that will be the killer.\r\n\r\nEvery character has to be painted, and on every line the whole window has to be scrolled.\r\nIf the window is partly overlaid with other windows, it also has to do clipping.\r\n\r\nThat&#39;s going to take far more cycles than what your program is doing.\r\n\r\nUsually that&#39;s not a bad price to pay, since console output is supposed to be for your reading pleasure :)","title":"Why is System.out.println so slow?","body":"<p>If you're printing to the console window, not to a file, that will be the killer.</p>\n\n<p>Every character has to be painted, and on every line the whole window has to be scrolled.\nIf the window is partly overlaid with other windows, it also has to do clipping.</p>\n\n<p>That's going to take far more cycles than what your program is doing.</p>\n\n<p>Usually that's not a bad price to pay, since console output is supposed to be for your reading pleasure :)</p>\n"},{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1683166135,"creation_date":1292327992,"answer_id":4438910,"question_id":4437715,"body_markdown":"\r\n\r\nBy default, System.out.print() is only line-buffered and does a lot work related to Unicode handling. Because of its small buffer size, System.out.println() is not well suited to handle many repetitive outputs in a batch mode. Each line is flushed right away. If your output is mainly ASCII-based then by removing the Unicode-related activities, the overall execution time will be better. \r\n\r\n  [1]: http://www.rgagnon.com/javadetails/java-0603.html","title":"Why is System.out.println so slow?","body":"<p>By default, System.out.print() is only line-buffered and does a lot work related to Unicode handling. Because of its small buffer size, System.out.println() is not well suited to handle many repetitive outputs in a batch mode. Each line is flushed right away. If your output is mainly ASCII-based then by removing the Unicode-related activities, the overall execution time will be better.</p>\n"},{"tags":[],"owner":{"account_id":12264813,"reputation":28,"user_id":8951614,"display_name":"yutanpo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540822483,"creation_date":1540822483,"answer_id":53047402,"question_id":4437715,"body_markdown":"Most of the answers here are right, but they don&#39;t cover the most important point: system calls. This is the operation that induces the more overhead.\r\n\r\nWhen your software needs to access some hardware resource (your screen for example), it needs to ask the OS (or hypervisor) if it can access the hardware. This costs a lot:\r\n\r\nHere are interesting blogs about syscalls, the last one being dedicated to syscall and Java\r\n\r\nhttp://arkanis.de/weblog/2017-01-05-measurements-of-system-call-performance-and-overhead\r\nhttp://www.brendangregg.com/blog/2014-05-11/strace-wow-much-syscall.html\r\nhttps://blog.packagecloud.io/eng/2017/03/14/using-strace-to-understand-java-performance-improvement/\r\n","title":"Why is System.out.println so slow?","body":"<p>Most of the answers here are right, but they don't cover the most important point: system calls. This is the operation that induces the more overhead.</p>\n\n<p>When your software needs to access some hardware resource (your screen for example), it needs to ask the OS (or hypervisor) if it can access the hardware. This costs a lot:</p>\n\n<p>Here are interesting blogs about syscalls, the last one being dedicated to syscall and Java</p>\n\n<p><a href=\"http://arkanis.de/weblog/2017-01-05-measurements-of-system-call-performance-and-overhead\" rel=\"nofollow noreferrer\">http://arkanis.de/weblog/2017-01-05-measurements-of-system-call-performance-and-overhead</a>\n<a href=\"http://www.brendangregg.com/blog/2014-05-11/strace-wow-much-syscall.html\" rel=\"nofollow noreferrer\">http://www.brendangregg.com/blog/2014-05-11/strace-wow-much-syscall.html</a>\n<a href=\"https://blog.packagecloud.io/eng/2017/03/14/using-strace-to-understand-java-performance-improvement/\" rel=\"nofollow noreferrer\">https://blog.packagecloud.io/eng/2017/03/14/using-strace-to-understand-java-performance-improvement/</a></p>\n"}],"owner":{"display_name":"user328898"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19373,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":4437752,"answer_count":7,"score":17,"last_activity_date":1683166135,"creation_date":1292319468,"question_id":4437715,"body_markdown":"Is this something common to all programming languages? Doing multiple print followed by a println seems faster  but moving everything to a string and just printing that seems fastest. Why?\r\n\r\nEDIT: For example, Java can find all the prime numbers up to 1 million in less than a second - but printing then all out each on their own println can take minutes! Up to a 10 billion can hours to print!\r\n\r\nEX: \r\n\r\n    package sieveoferatosthenes;\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            int upTo = 10000000;\r\n            boolean primes[] = new boolean[upTo];\r\n            for( int b = 0; b &lt; upTo; b++ ){\r\n                primes[b] = true;\r\n            }\r\n            primes[0] = false;\r\n            primes[1] = false;\r\n    \r\n            int testing = 1;\r\n    \r\n            while( testing &lt;= Math.sqrt(upTo)){\r\n                testing ++;\r\n                int testingWith = testing;\r\n                if( primes[testing] ){\r\n                    while( testingWith &lt; upTo ){\r\n                        testingWith = testingWith + testing;\r\n                        if ( testingWith &gt;= upTo){\r\n                        }\r\n                        else{\r\n                            primes[testingWith] = false;\r\n                        }\r\n    \r\n                    }\r\n                }\r\n            }\r\n            for( int b = 2; b &lt; upTo; b++){\r\n                if( primes[b] ){\r\n                    System.out.println( b );\r\n                }\r\n            }\r\n        }\r\n    }","title":"Why is System.out.println so slow?","body":"<p>Is this something common to all programming languages? Doing multiple print followed by a println seems faster  but moving everything to a string and just printing that seems fastest. Why?</p>\n\n<p>EDIT: For example, Java can find all the prime numbers up to 1 million in less than a second - but printing then all out each on their own println can take minutes! Up to a 10 billion can hours to print!</p>\n\n<p>EX: </p>\n\n<pre><code>package sieveoferatosthenes;\npublic class Main {\n    public static void main(String[] args) {\n        int upTo = 10000000;\n        boolean primes[] = new boolean[upTo];\n        for( int b = 0; b &lt; upTo; b++ ){\n            primes[b] = true;\n        }\n        primes[0] = false;\n        primes[1] = false;\n\n        int testing = 1;\n\n        while( testing &lt;= Math.sqrt(upTo)){\n            testing ++;\n            int testingWith = testing;\n            if( primes[testing] ){\n                while( testingWith &lt; upTo ){\n                    testingWith = testingWith + testing;\n                    if ( testingWith &gt;= upTo){\n                    }\n                    else{\n                        primes[testingWith] = false;\n                    }\n\n                }\n            }\n        }\n        for( int b = 2; b &lt; upTo; b++){\n            if( primes[b] ){\n                System.out.println( b );\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","scheduled-tasks"],"comments":[{"owner":{"account_id":1999453,"reputation":65,"user_id":4753667,"accept_rate":33,"display_name":"Harsh"},"score":1,"creation_date":1475061209,"post_id":39745154,"comment_id":66788052,"body_markdown":"Google always knock the stackoverflow door before whispering. :)","body":"Google always knock the stackoverflow door before whispering. :)"}],"answers":[{"tags":[],"owner":{"account_id":1112547,"reputation":13664,"user_id":1102741,"accept_rate":82,"display_name":"Oscar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1475059459,"creation_date":1475059459,"answer_id":39745230,"question_id":39745154,"body_markdown":"Windows have already a task scheduler that you can invoke from command line: Schtasks.exe\r\n\r\n\r\nSCHTASKS /parameter [arguments]\r\n\r\nDescription:\r\n    Enables an administrator to create, delete, query, change, run and\r\n    end scheduled tasks on a local or remote system.\r\n\r\nParameter List:\r\n/Create         Creates a new scheduled task.\r\n\r\n/Delete         Deletes the scheduled task(s).\r\n\r\n/Query          Displays all scheduled tasks.\r\n\r\n/Change         Changes the properties of scheduled task.\r\n\r\n/Run            Runs the scheduled task on demand.\r\n\r\n/End            Stops the currently running scheduled task.\r\n\r\n /ShowSid        Shows the security identifier corresponding to a scheduled t\r\nask name.\r\n\r\n /?              Displays this help message.\r\n\r\n","title":"How to create a scheduler task in Window Task Scheduler using Java?","body":"<p>Windows have already a task scheduler that you can invoke from command line: Schtasks.exe</p>\n\n<p>SCHTASKS /parameter [arguments]</p>\n\n<p>Description:\n    Enables an administrator to create, delete, query, change, run and\n    end scheduled tasks on a local or remote system.</p>\n\n<p>Parameter List:\n/Create         Creates a new scheduled task.</p>\n\n<p>/Delete         Deletes the scheduled task(s).</p>\n\n<p>/Query          Displays all scheduled tasks.</p>\n\n<p>/Change         Changes the properties of scheduled task.</p>\n\n<p>/Run            Runs the scheduled task on demand.</p>\n\n<p>/End            Stops the currently running scheduled task.</p>\n\n<p>/ShowSid        Shows the security identifier corresponding to a scheduled t\nask name.</p>\n\n<p>/?              Displays this help message.</p>\n"},{"tags":[],"owner":{"account_id":7125962,"reputation":85,"user_id":5448883,"display_name":"Omal Withanage"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475061011,"creation_date":1475061011,"answer_id":39745776,"question_id":39745154,"body_markdown":"Try this one http://yajsw.sourceforge.net/. Using &quot;YAJSW&quot; (Yet Another Java Service Wrapper) you can register your java service as a windows service.","title":"How to create a scheduler task in Window Task Scheduler using Java?","body":"<p>Try this one <a href=\"http://yajsw.sourceforge.net/\" rel=\"nofollow\">http://yajsw.sourceforge.net/</a>. Using \"YAJSW\" (Yet Another Java Service Wrapper) you can register your java service as a windows service.</p>\n"},{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1683166087,"creation_date":1475062817,"answer_id":39746408,"question_id":39745154,"body_markdown":"Launch the command line utility [schtasks][1].\r\n\r\nTo create the task.\r\n\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class TestWinScheduler {\r\n    \r\n    public static void main(String args[]) throws IOException, InterruptedException {\r\n      // schtasks /create /tn &quot;HowToTask&quot; /tr c:\\temp\\test.cmd /sc once /st 00:00:00 /sd 2022/01/01 /ru username /rp password\r\n    \r\n      List&lt;String&gt; commands = new ArrayList&lt;String&gt;();\r\n    \r\n      commands.add(&quot;schtasks.exe&quot;);\r\n      commands.add(&quot;/CREATE&quot;);\r\n      commands.add(&quot;/TN&quot;);\r\n      commands.add(&quot;\\&quot;HowToTask\\&quot;&quot;);\r\n      commands.add(&quot;/TR&quot;);\r\n      commands.add(&quot;\\&quot;c:/temp/test.cmd\\&quot;&quot;);\r\n      commands.add(&quot;/SC&quot;);\r\n      commands.add(&quot;once&quot;);\r\n      commands.add(&quot;/ST&quot;);\r\n      commands.add(&quot;00:00:00&quot;);\r\n      commands.add(&quot;/SD&quot;);\r\n      commands.add(&quot;2022/10/10&quot;);\r\n      commands.add(&quot;/RU&quot;);\r\n      commands.add(&quot;username&quot;);\r\n      commands.add(&quot;/RP&quot;);\r\n      commands.add(&quot;password&quot;);\r\n    \r\n      ProcessBuilder builder = new ProcessBuilder(commands);\r\n      Process p = builder.start();\r\n      p.waitFor();\r\n      System.out.println(p.exitValue()); // 0 : OK\r\n                                         // 1 : Error\r\n      }\r\n    }\r\n\r\nTo execute a task :\r\n\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class TestWinScheduler {\r\n    \r\n    public static void main(String args[]) throws IOException, InterruptedException {\r\n      // schtasks /run /tn &quot;HowToTask&quot;\r\n    \r\n      List&lt;String&gt; commands = new ArrayList&lt;String&gt;();\r\n    \r\n      commands.add(&quot;schtasks.exe&quot;);\r\n      commands.add(&quot;/RUN&quot;);\r\n      commands.add(&quot;/TN&quot;);\r\n      commands.add(&quot;\\&quot;HowtoTask\\&quot;&quot;);\r\n    \r\n      ProcessBuilder builder = new ProcessBuilder(commands);\r\n      Process p = builder.start();\r\n      p.waitFor();\r\n      System.out.println(p.exitValue()); // 0 : OK\r\n                                         // 1 : Error\r\n      }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n  [1]: http://www.microsoft.com/resources/documentation/windows/xp/all/proddocs/en-us/schtasks.mspx\r\n  [2]: http://www.rgagnon.com/javadetails/java-schedule-or-run-a-windows-task.html","title":"How to create a scheduler task in Window Task Scheduler using Java?","body":"<p>Launch the command line utility <a href=\"http://www.microsoft.com/resources/documentation/windows/xp/all/proddocs/en-us/schtasks.mspx\" rel=\"nofollow noreferrer\">schtasks</a>.</p>\n<p>To create the task.</p>\n<pre><code>import java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class TestWinScheduler {\n\npublic static void main(String args[]) throws IOException, InterruptedException {\n  // schtasks /create /tn &quot;HowToTask&quot; /tr c:\\temp\\test.cmd /sc once /st 00:00:00 /sd 2022/01/01 /ru username /rp password\n\n  List&lt;String&gt; commands = new ArrayList&lt;String&gt;();\n\n  commands.add(&quot;schtasks.exe&quot;);\n  commands.add(&quot;/CREATE&quot;);\n  commands.add(&quot;/TN&quot;);\n  commands.add(&quot;\\&quot;HowToTask\\&quot;&quot;);\n  commands.add(&quot;/TR&quot;);\n  commands.add(&quot;\\&quot;c:/temp/test.cmd\\&quot;&quot;);\n  commands.add(&quot;/SC&quot;);\n  commands.add(&quot;once&quot;);\n  commands.add(&quot;/ST&quot;);\n  commands.add(&quot;00:00:00&quot;);\n  commands.add(&quot;/SD&quot;);\n  commands.add(&quot;2022/10/10&quot;);\n  commands.add(&quot;/RU&quot;);\n  commands.add(&quot;username&quot;);\n  commands.add(&quot;/RP&quot;);\n  commands.add(&quot;password&quot;);\n\n  ProcessBuilder builder = new ProcessBuilder(commands);\n  Process p = builder.start();\n  p.waitFor();\n  System.out.println(p.exitValue()); // 0 : OK\n                                     // 1 : Error\n  }\n}\n</code></pre>\n<p>To execute a task :</p>\n<pre><code>import java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class TestWinScheduler {\n\npublic static void main(String args[]) throws IOException, InterruptedException {\n  // schtasks /run /tn &quot;HowToTask&quot;\n\n  List&lt;String&gt; commands = new ArrayList&lt;String&gt;();\n\n  commands.add(&quot;schtasks.exe&quot;);\n  commands.add(&quot;/RUN&quot;);\n  commands.add(&quot;/TN&quot;);\n  commands.add(&quot;\\&quot;HowtoTask\\&quot;&quot;);\n\n  ProcessBuilder builder = new ProcessBuilder(commands);\n  Process p = builder.start();\n  p.waitFor();\n  System.out.println(p.exitValue()); // 0 : OK\n                                     // 1 : Error\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":1999453,"reputation":65,"user_id":4753667,"accept_rate":33,"display_name":"Harsh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5129,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1683166087,"creation_date":1475059286,"question_id":39745154,"body_markdown":"I want to create a task under Window Task Scheduler using my java code.\r\nOS I am using is win7 64bit.\r\nAfter creating the task I have to edit the scheduled time weekly or biweekly.\r\nIs there any window scheduler API to use in java code or command to use under command prompt?","title":"How to create a scheduler task in Window Task Scheduler using Java?","body":"<p>I want to create a task under Window Task Scheduler using my java code.\nOS I am using is win7 64bit.\nAfter creating the task I have to edit the scheduled time weekly or biweekly.\nIs there any window scheduler API to use in java code or command to use under command prompt?</p>\n"},{"tags":["java","com"],"answers":[{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1683166019,"creation_date":1302820190,"answer_id":5670465,"question_id":5669709,"body_markdown":"Check the ActiveX Bridge.\r\n\r\n&gt; The ActiveX Bridge allow a component\r\n&gt; based on JavaBeans(TM) component\r\n&gt; architecture (&quot;bean&quot;) to be\r\n&gt; effectively packaged as an ActiveX\r\n&gt; control, thereby allowing it to be\r\n&gt; used as a functional component in an\r\n&gt; ActiveX container.\r\n\r\n\r\nThe official documentation : http://download.oracle.com/javase/6/docs/technotes/guides/beans/axbridge/developerguide/index.html\r\n\r\n\r\n\r\n\r\n","title":"Creating COM objects with Java","body":"<p>Check the ActiveX Bridge.</p>\n<blockquote>\n<p>The ActiveX Bridge allow a component\nbased on JavaBeans(TM) component\narchitecture (&quot;bean&quot;) to be\neffectively packaged as an ActiveX\ncontrol, thereby allowing it to be\nused as a functional component in an\nActiveX container.</p>\n</blockquote>\n<p>The official documentation : <a href=\"http://download.oracle.com/javase/6/docs/technotes/guides/beans/axbridge/developerguide/index.html\" rel=\"nofollow noreferrer\">http://download.oracle.com/javase/6/docs/technotes/guides/beans/axbridge/developerguide/index.html</a></p>\n"}],"owner":{"account_id":119214,"reputation":193,"user_id":310765,"display_name":"Matachana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5060,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":5670465,"answer_count":1,"score":3,"last_activity_date":1683166019,"creation_date":1302815268,"question_id":5669709,"body_markdown":"To add support for some new features in a VB3.0 legacy application, I need to create a COM object in Java. I found some tutorials in the Internet, but they all refer to the discontinued javareg.exe tool distributed by Microsoft. I was unable to find a download place nor the MSJVM virtual machine required to run the COM object&#39;s code.\r\n\r\nSo, in nowadays, how can I expose a COM-object written in Java to any other application?","title":"Creating COM objects with Java","body":"<p>To add support for some new features in a VB3.0 legacy application, I need to create a COM object in Java. I found some tutorials in the Internet, but they all refer to the discontinued javareg.exe tool distributed by Microsoft. I was unable to find a download place nor the MSJVM virtual machine required to run the COM object's code.</p>\n\n<p>So, in nowadays, how can I expose a COM-object written in Java to any other application?</p>\n"},{"tags":["java","windows","internationalization","portability","non-ascii-characters"],"comments":[{"owner":{"account_id":1653169,"reputation":9535,"user_id":1523342,"accept_rate":91,"display_name":"mthmulders"},"score":0,"creation_date":1365763681,"post_id":15969345,"comment_id":22761304,"body_markdown":"Are you specifying the right `-encoding` option while compiling your code? See the [javac documentation](http://docs.oracle.com/javase/1.5.0/docs/tooldocs/windows/javac.html) for details.","body":"Are you specifying the right <code>-encoding</code> option while compiling your code? See the <a href=\"http://docs.oracle.com/javase/1.5.0/docs/tooldocs/windows/javac.html\" rel=\"nofollow noreferrer\">javac documentation</a> for details."},{"owner":{"account_id":2043438,"reputation":1859,"user_id":1824094,"accept_rate":20,"display_name":"Nicolas Barbulesco"},"score":0,"creation_date":1365768255,"post_id":15969345,"comment_id":22763949,"body_markdown":"@mthmulders&#160;—&#160;Good idea, but Eclipse does not provide a way to do that. I choose Export…&#160;→&#160;Java&#160;→&#160;Runnable&#160;JAR&#160;file.","body":"@mthmulders — Good idea, but Eclipse does not provide a way to do that. I choose Export… → Java → Runnable JAR file."}],"answers":[{"tags":[],"owner":{"account_id":1167301,"reputation":1833,"user_id":1145281,"display_name":"Alepac"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1365764076,"creation_date":1365763753,"answer_id":15969401,"question_id":15969345,"body_markdown":"Use unicode escaped sequence: `\\u00E8`\r\n\r\n    System.err.println(&quot;Param\\u00E8tre manquant. … &quot;);\r\n\r\n[Here&#39;s][1] an useful Unicode character table.\r\n\r\n\r\n  [1]: http://www.tamasoft.co.jp/en/general-info/unicode.html","title":"From a Java program, portable way to write strings with accents","body":"<p>Use unicode escaped sequence: <code>\\u00E8</code></p>\n\n<pre><code>System.err.println(\"Param\\u00E8tre manquant. … \");\n</code></pre>\n\n<p><a href=\"http://www.tamasoft.co.jp/en/general-info/unicode.html\" rel=\"nofollow\">Here's</a> an useful Unicode character table.</p>\n"},{"tags":[],"owner":{"account_id":2391149,"reputation":6383,"user_id":2090976,"accept_rate":100,"display_name":"fcm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1365763812,"creation_date":1365763812,"answer_id":15969422,"question_id":15969345,"body_markdown":"Try using `\\u&lt;XXXX&gt;` when encoding unicode characters. It won&#39;t look pretty in code, but it will work and be portable.\r\n\r\nFor instance:\r\n\r\n    String specialCharacters= &quot;\\u00E1 \\u00E9 \\u00ED \\u00F3 \\u00FA&quot;;\r\n    System.out.println(specialCharacters); // This will print &#225; &#233; &#237; &#243; &#250;\r\n\r\nCheck Alepac&#39;s answer for a table of unicode characters.","title":"From a Java program, portable way to write strings with accents","body":"<p>Try using <code>\\u&lt;XXXX&gt;</code> when encoding unicode characters. It won't look pretty in code, but it will work and be portable.</p>\n\n<p>For instance:</p>\n\n<pre><code>String specialCharacters= \"\\u00E1 \\u00E9 \\u00ED \\u00F3 \\u00FA\";\nSystem.out.println(specialCharacters); // This will print á é í ó ú\n</code></pre>\n\n<p>Check Alepac's answer for a table of unicode characters.</p>\n"},{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1683165999,"creation_date":1365765609,"answer_id":15970024,"question_id":15969345,"body_markdown":"In Java 1.6 you can use [System.console()][1] instead of System.out.println() to display accentuated characters to console.\r\n\r\n    public class Test2 {\r\n      public static void main(String args[]){\r\n       String s = &quot;caract&#232;res fran&#231;ais :  &#224; &#233; \\u00e9&quot;; // Unicode for &quot;&#233;&quot;\r\n       System.out.println(s);\r\n       System.console().writer().println(s);\r\n      }\r\n    }\r\n\r\nand the output is\r\n\r\n    C:\\temp&gt;java Test\r\n    caract&#254;res fran&#254;ais :  &#211; &#218; &#218;\r\n    caract&#232;res fran&#231;ais :  &#224; &#233; &#233;\r\n\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/io/Console.html\r\n  [2]: http://www.rgagnon.com/javadetails/java-0046.html","title":"From a Java program, portable way to write strings with accents","body":"<p>In Java 1.6 you can use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/io/Console.html\" rel=\"nofollow noreferrer\">System.console()</a> instead of System.out.println() to display accentuated characters to console.</p>\n<pre><code>public class Test2 {\n  public static void main(String args[]){\n   String s = &quot;caractères français :  à é \\u00e9&quot;; // Unicode for &quot;é&quot;\n   System.out.println(s);\n   System.console().writer().println(s);\n  }\n}\n</code></pre>\n<p>and the output is</p>\n<pre><code>C:\\temp&gt;java Test\ncaractþres franþais :  Ó Ú Ú\ncaractères français :  à é é\n</code></pre>\n"}],"owner":{"account_id":2043438,"reputation":1859,"user_id":1824094,"accept_rate":20,"display_name":"Nicolas Barbulesco"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2771,"favorite_count":0,"down_vote_count":2,"up_vote_count":6,"answer_count":3,"score":4,"last_activity_date":1683165999,"creation_date":1365763557,"question_id":15969345,"body_markdown":"Hullo,\r\n\r\nI have a Java program, with command line interface. It is used on Linux and Windows. **The Java code is portable, and I want it to remain portable.**\r\n\r\nMy Java source files are in Unicode — which is good. In them, I have lines like this&#160;:\r\n\r\n    System.err.println(&quot;Param&#232;tre manquant.&#160;…&#160;&quot;);\r\n\r\nI use Eclipse to **package** the program as a JAR archive.\r\n\r\nThen, the program is run by a command like this&#160;:\r\n\r\n`java -jar MyProgram.jar parameters`\r\n\r\nIn the Windows XP command line, this gives&#160;:\r\n\r\n`Param&#222;tre manquant.&#160;…&#160;`\r\n\r\n**Is there a portable way to write strings with accents in the Java program, so that they appear correctly in the Windows command line&#160;?** Or do we just have to live with Windows stupidly replacing accented&#160;E with icelandic thorn&#160;?\r\n\r\nI use Java 6.\r\n","title":"From a Java program, portable way to write strings with accents","body":"<p>Hullo,</p>\n\n<p>I have a Java program, with command line interface. It is used on Linux and Windows. <strong>The Java code is portable, and I want it to remain portable.</strong></p>\n\n<p>My Java source files are in Unicode — which is good. In them, I have lines like this :</p>\n\n<pre><code>System.err.println(\"Paramètre manquant. … \");\n</code></pre>\n\n<p>I use Eclipse to <strong>package</strong> the program as a JAR archive.</p>\n\n<p>Then, the program is run by a command like this :</p>\n\n<p><code>java -jar MyProgram.jar parameters</code></p>\n\n<p>In the Windows XP command line, this gives :</p>\n\n<p><code>ParamÞtre manquant. … </code></p>\n\n<p><strong>Is there a portable way to write strings with accents in the Java program, so that they appear correctly in the Windows command line ?</strong> Or do we just have to live with Windows stupidly replacing accented E with icelandic thorn ?</p>\n\n<p>I use Java 6.</p>\n"},{"tags":["java","unicode","special-characters","diacritics"],"comments":[{"owner":{"account_id":15897,"reputation":49261,"user_id":34065,"accept_rate":100,"display_name":"schnaader"},"score":0,"creation_date":1245263797,"post_id":1008802,"comment_id":817652,"body_markdown":"See this question: http://stackoverflow.com/questions/249087/how-do-i-remove-diacritics-accents-from-a-string-in-net - there should also be some other questions about this topic, but I can&#39;t find them at the moment.","body":"See this question: <a href=\"http://stackoverflow.com/questions/249087/how-do-i-remove-diacritics-accents-from-a-string-in-net\" title=\"how do i remove diacritics accents from a string in net\">stackoverflow.com/questions/249087/&hellip;</a> - there should also be some other questions about this topic, but I can&#39;t find them at the moment."},{"owner":{"account_id":11603,"reputation":21560,"user_id":22437,"accept_rate":88,"display_name":"Dour High Arch"},"score":1,"creation_date":1245267741,"post_id":1008802,"comment_id":818103,"body_markdown":"Should your third example be Ȳ → Y?","body":"Should your third example be Ȳ → Y?"},{"owner":{"account_id":8014,"reputation":56420,"user_id":14148,"accept_rate":79,"display_name":"David Thornley"},"score":2,"creation_date":1245268864,"post_id":1008802,"comment_id":818216,"body_markdown":"Why do you want to do this?  If we knew what your overall goal was, we might be able to be more helpful.","body":"Why do you want to do this?  If we knew what your overall goal was, we might be able to be more helpful."},{"owner":{"account_id":22320,"reputation":43326,"user_id":54929,"accept_rate":79,"display_name":"ahmet alp balkan"},"score":0,"creation_date":1245269083,"post_id":1008802,"comment_id":818236,"body_markdown":"David you know some EMOs use different chars in sentences. Here you an example: ฬ.&#162;. tђє ฬยη∂єг&#162;คקђ Ŧค๓เℓy &lt;-- Solve this :) @schnaader, I think that is what I&#39;m looking for but not in Java.","body":"David you know some EMOs use different chars in sentences. Here you an example: ฬ.&#162;. tђє ฬยη∂єг&#162;คקђ Ŧค๓เℓy &lt;-- Solve this :) @schnaader, I think that is what I&#39;m looking for but not in Java."},{"owner":{"account_id":15131,"reputation":37459,"user_id":31641,"accept_rate":90,"display_name":"dkretz"},"score":0,"creation_date":1245269272,"post_id":1008802,"comment_id":818261,"body_markdown":"This conversation has been done before - see @schnaader above.","body":"This conversation has been done before - see @schnaader above."},{"owner":{"account_id":22320,"reputation":43326,"user_id":54929,"accept_rate":79,"display_name":"ahmet alp balkan"},"score":0,"creation_date":1245269690,"post_id":1008802,"comment_id":818299,"body_markdown":"I said that I&#39;m looking for something in Java.","body":"I said that I&#39;m looking for something in Java."},{"owner":{"account_id":22705,"reputation":80387,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"score":0,"creation_date":1246106202,"post_id":1008802,"comment_id":864302,"body_markdown":"Related (not necessarily duplicate) Java question: &#39;Method to substitute foreign for English characters in Java?&#39;, http://stackoverflow.com/questions/1016955/method-to-substitute-foreign-for-english-characters-in-java","body":"Related (not necessarily duplicate) Java question: &#39;Method to substitute foreign for English characters in Java?&#39;, <a href=\"http://stackoverflow.com/questions/1016955/method-to-substitute-foreign-for-english-characters-in-java\" title=\"method to substitute foreign for english characters in java\">stackoverflow.com/questions/1016955/&hellip;</a>"},{"owner":{"account_id":302564,"reputation":9052,"user_id":611007,"accept_rate":62,"display_name":"n611x007"},"score":0,"creation_date":1433437194,"post_id":1008802,"comment_id":49363098,"body_markdown":"look for `Unihandecode`","body":"look for <code>Unihandecode</code>"},{"owner":{"account_id":60334,"reputation":39652,"user_id":180275,"accept_rate":77,"display_name":"Ren&#233; Nyffenegger"},"score":0,"creation_date":1501160766,"post_id":1008802,"comment_id":77664360,"body_markdown":"http://renenyffenegger.ch/development/Unicode/Find-Unicode-Character-by-Appearance.html","body":"<a href=\"http://renenyffenegger.ch/development/Unicode/Find-Unicode-Character-by-Appearance.html\" rel=\"nofollow noreferrer\">renenyffenegger.ch/development/Unicode/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":11603,"reputation":21560,"user_id":22437,"accept_rate":88,"display_name":"Dour High Arch"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1523384013,"creation_date":1245264571,"answer_id":1008901,"question_id":1008802,"body_markdown":"The problem with &quot;converting&quot; arbitrary Unicode to ASCII is that the meaning of a character is culture-dependent. For example, “&#223;” to a German-speaking person should be converted to &quot;ss&quot; while an English-speaker would probably convert it to “B”.\r\n\r\nAdd to that the fact that Unicode has multiple code points for the same glyphs.\r\n\r\nThe upshot is that the only way to do this is create a massive table with each Unicode character and the ASCII character you want to convert it to. You can take a shortcut by normalizing characters with accents to normalization form KD, but not all characters normalize to ASCII. In addition, Unicode does not define which parts of a glyph are &quot;accents&quot;.\r\n\r\nHere is a tiny excerpt from an app that does this:\r\n\r\n\tswitch (c)\r\n\t{\r\n\t\tcase &#39;A&#39;:\r\n\t\tcase &#39;\\u00C0&#39;:\t//  &#192; LATIN CAPITAL LETTER A WITH GRAVE\r\n\t\tcase &#39;\\u00C1&#39;:\t//  &#193; LATIN CAPITAL LETTER A WITH ACUTE\r\n\t\tcase &#39;\\u00C2&#39;:\t//  &#194; LATIN CAPITAL LETTER A WITH CIRCUMFLEX\r\n\t\t// and so on for about 20 lines...\r\n\t\t\treturn &quot;A&quot;;\r\n\t\t\tbreak;\r\n\r\n\t\tcase &#39;\\u00C6&#39;://  &#198; LATIN CAPITAL LIGATURE AE\r\n\t\t\treturn &quot;AE&quot;;\r\n\t\t\tbreak;\r\n\r\n\t\t// And so on for pages...\r\n\t}","title":"Converting Symbols, Accent Letters to English Alphabet","body":"<p>The problem with \"converting\" arbitrary Unicode to ASCII is that the meaning of a character is culture-dependent. For example, “ß” to a German-speaking person should be converted to \"ss\" while an English-speaker would probably convert it to “B”.</p>\n\n<p>Add to that the fact that Unicode has multiple code points for the same glyphs.</p>\n\n<p>The upshot is that the only way to do this is create a massive table with each Unicode character and the ASCII character you want to convert it to. You can take a shortcut by normalizing characters with accents to normalization form KD, but not all characters normalize to ASCII. In addition, Unicode does not define which parts of a glyph are \"accents\".</p>\n\n<p>Here is a tiny excerpt from an app that does this:</p>\n\n<pre><code>switch (c)\n{\n    case 'A':\n    case '\\u00C0':  //  À LATIN CAPITAL LETTER A WITH GRAVE\n    case '\\u00C1':  //  Á LATIN CAPITAL LETTER A WITH ACUTE\n    case '\\u00C2':  //  Â LATIN CAPITAL LETTER A WITH CIRCUMFLEX\n    // and so on for about 20 lines...\n        return \"A\";\n        break;\n\n    case '\\u00C6'://  Æ LATIN CAPITAL LIGATURE AE\n        return \"AE\";\n        break;\n\n    // And so on for pages...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":33083,"reputation":92212,"user_id":92313,"accept_rate":88,"display_name":"Daniel Vandersluis"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1245266047,"creation_date":1245266047,"answer_id":1009010,"question_id":1008802,"body_markdown":"You could try using `unidecode`, which is available as a [ruby gem][1] and as a [perl module on cpan][2]. Essentially, it works as a huge lookup table, where each unicode code point relates to an ascii character or string.\r\n\r\n\r\n  [1]: http://rubyforge.org/projects/unidecode/\r\n  [2]: http://search.cpan.org/~sburke/Text-Unidecode-0.04/lib/Text/Unidecode.pm","title":"Converting Symbols, Accent Letters to English Alphabet","body":"<p>You could try using <code>unidecode</code>, which is available as a <a href=\"http://rubyforge.org/projects/unidecode/\" rel=\"nofollow noreferrer\">ruby gem</a> and as a <a href=\"http://search.cpan.org/~sburke/Text-Unidecode-0.04/lib/Text/Unidecode.pm\" rel=\"nofollow noreferrer\">perl module on cpan</a>. Essentially, it works as a huge lookup table, where each unicode code point relates to an ascii character or string.</p>\n"},{"tags":[],"owner":{"account_id":3097,"reputation":4238,"user_id":4396,"display_name":"Ian"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1354324316,"creation_date":1245269892,"answer_id":1009319,"question_id":1008802,"body_markdown":"Attempting to &quot;convert them all&quot; is the wrong approach to the problem.  \r\n\r\nFirstly, you need to understand the limitations of what you are trying to do.  As others have pointed out, diacritics are there for a reason: they are essentially unique letters in the alphabet of that language with their own meaning / sound etc.: removing those marks is just the same as replacing random letters in an English word.  This is before you even go onto consider the Cyrillic languages and other script based texts such as Arabic, which simply cannot be &quot;converted&quot; to English.\r\n\r\nIf you *must*, for whatever reason, convert characters, then the only sensible way to approach this it to firstly reduce the scope of the task at hand.  Consider the source of the input - if you are coding an application for &quot;the Western world&quot; (to use as good a phrase as any), it would be unlikely that you would ever need to parse Arabic characters.  Similarly, the Unicode character set contains hundreds of mathematical and pictorial symbols: there is no (easy) way for users to directly enter these, so you can assume they can be ignored.\r\n\r\nBy taking these logical steps you can reduce the number of possible characters to parse to the point where a dictionary based lookup / replace operation is feasible.  It then becomes a small amount of slightly boring work creating the dictionaries, and a trivial task to perform the replacement.  If your language supports native Unicode characters (as Java does) and optimises static structures correctly, such find and replaces tend to be blindingly quick.\r\n\r\nThis comes from experience of having worked on an application that was required to allow end users to search bibliographic data that included diacritic characters.  The lookup arrays (as it was in our case) took perhaps 1 man day to produce, to cover all diacritic marks for all Western European languages.\r\n\r\n\r\n","title":"Converting Symbols, Accent Letters to English Alphabet","body":"<p>Attempting to \"convert them all\" is the wrong approach to the problem.  </p>\n\n<p>Firstly, you need to understand the limitations of what you are trying to do.  As others have pointed out, diacritics are there for a reason: they are essentially unique letters in the alphabet of that language with their own meaning / sound etc.: removing those marks is just the same as replacing random letters in an English word.  This is before you even go onto consider the Cyrillic languages and other script based texts such as Arabic, which simply cannot be \"converted\" to English.</p>\n\n<p>If you <em>must</em>, for whatever reason, convert characters, then the only sensible way to approach this it to firstly reduce the scope of the task at hand.  Consider the source of the input - if you are coding an application for \"the Western world\" (to use as good a phrase as any), it would be unlikely that you would ever need to parse Arabic characters.  Similarly, the Unicode character set contains hundreds of mathematical and pictorial symbols: there is no (easy) way for users to directly enter these, so you can assume they can be ignored.</p>\n\n<p>By taking these logical steps you can reduce the number of possible characters to parse to the point where a dictionary based lookup / replace operation is feasible.  It then becomes a small amount of slightly boring work creating the dictionaries, and a trivial task to perform the replacement.  If your language supports native Unicode characters (as Java does) and optimises static structures correctly, such find and replaces tend to be blindingly quick.</p>\n\n<p>This comes from experience of having worked on an application that was required to allow end users to search bibliographic data that included diacritic characters.  The lookup arrays (as it was in our case) took perhaps 1 man day to produce, to cover all diacritic marks for all Western European languages.</p>\n"},{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1683165974,"creation_date":1245278012,"answer_id":1009847,"question_id":1008802,"body_markdown":"If the need is to convert &quot;&#242;&#233;ış&#246;&#231;-&gt;oeisoc&quot;, you can use this a starting point :\r\n\r\n    public class AsciiUtils {\r\n        private static final String PLAIN_ASCII =\r\n          &quot;AaEeIiOoUu&quot;    // grave\r\n        + &quot;AaEeIiOoUuYy&quot;  // acute\r\n        + &quot;AaEeIiOoUuYy&quot;  // circumflex\r\n        + &quot;AaOoNn&quot;        // tilde\r\n        + &quot;AaEeIiOoUuYy&quot;  // umlaut\r\n        + &quot;Aa&quot;            // ring\r\n        + &quot;Cc&quot;            // cedilla\r\n        + &quot;OoUu&quot;          // double acute\r\n        ;\r\n    \r\n        private static final String UNICODE =\r\n         &quot;\\u00C0\\u00E0\\u00C8\\u00E8\\u00CC\\u00EC\\u00D2\\u00F2\\u00D9\\u00F9&quot;             \r\n        + &quot;\\u00C1\\u00E1\\u00C9\\u00E9\\u00CD\\u00ED\\u00D3\\u00F3\\u00DA\\u00FA\\u00DD\\u00FD&quot; \r\n        + &quot;\\u00C2\\u00E2\\u00CA\\u00EA\\u00CE\\u00EE\\u00D4\\u00F4\\u00DB\\u00FB\\u0176\\u0177&quot; \r\n        + &quot;\\u00C3\\u00E3\\u00D5\\u00F5\\u00D1\\u00F1&quot;\r\n        + &quot;\\u00C4\\u00E4\\u00CB\\u00EB\\u00CF\\u00EF\\u00D6\\u00F6\\u00DC\\u00FC\\u0178\\u00FF&quot; \r\n        + &quot;\\u00C5\\u00E5&quot;                                                             \r\n        + &quot;\\u00C7\\u00E7&quot; \r\n        + &quot;\\u0150\\u0151\\u0170\\u0171&quot; \r\n        ;\r\n    \r\n        // private constructor, can&#39;t be instanciated!\r\n        private AsciiUtils() { }\r\n    \r\n        // remove accentued from a string and replace with ascii equivalent\r\n        public static String convertNonAscii(String s) {\r\n           if (s == null) return null;\r\n           StringBuilder sb = new StringBuilder();\r\n           int n = s.length();\r\n           for (int i = 0; i &lt; n; i++) {\r\n              char c = s.charAt(i);\r\n              int pos = UNICODE.indexOf(c);\r\n              if (pos &gt; -1){\r\n                  sb.append(PLAIN_ASCII.charAt(pos));\r\n              }\r\n              else {\r\n                  sb.append(c);\r\n              }\r\n           }\r\n           return sb.toString();\r\n        }\r\n    \r\n        public static void main(String args[]) {\r\n           String s = \r\n             &quot;The result : &#200;,&#201;,&#202;,&#203;,&#219;,&#217;,&#207;,&#206;,&#192;,&#194;,&#212;,&#232;,&#233;,&#234;,&#235;,&#251;,&#249;,&#239;,&#238;,&#224;,&#226;,&#244;,&#231;&quot;;\r\n           System.out.println(AsciiUtils.convertNonAscii(s));\r\n           // output : \r\n           // The result : E,E,E,E,U,U,I,I,A,A,O,e,e,e,e,u,u,i,i,a,a,o,c\r\n        }\r\n    }\r\n\r\nThe JDK 1.6 provides the java.text.Normalizer class that can be used for this task.\r\n\r\n\r\n\r\n\r\n  [1]: http://www.rgagnon.com/javadetails/java-0456.html","title":"Converting Symbols, Accent Letters to English Alphabet","body":"<p>If the need is to convert &quot;òéışöç-&gt;oeisoc&quot;, you can use this a starting point :</p>\n<pre><code>public class AsciiUtils {\n    private static final String PLAIN_ASCII =\n      &quot;AaEeIiOoUu&quot;    // grave\n    + &quot;AaEeIiOoUuYy&quot;  // acute\n    + &quot;AaEeIiOoUuYy&quot;  // circumflex\n    + &quot;AaOoNn&quot;        // tilde\n    + &quot;AaEeIiOoUuYy&quot;  // umlaut\n    + &quot;Aa&quot;            // ring\n    + &quot;Cc&quot;            // cedilla\n    + &quot;OoUu&quot;          // double acute\n    ;\n\n    private static final String UNICODE =\n     &quot;\\u00C0\\u00E0\\u00C8\\u00E8\\u00CC\\u00EC\\u00D2\\u00F2\\u00D9\\u00F9&quot;             \n    + &quot;\\u00C1\\u00E1\\u00C9\\u00E9\\u00CD\\u00ED\\u00D3\\u00F3\\u00DA\\u00FA\\u00DD\\u00FD&quot; \n    + &quot;\\u00C2\\u00E2\\u00CA\\u00EA\\u00CE\\u00EE\\u00D4\\u00F4\\u00DB\\u00FB\\u0176\\u0177&quot; \n    + &quot;\\u00C3\\u00E3\\u00D5\\u00F5\\u00D1\\u00F1&quot;\n    + &quot;\\u00C4\\u00E4\\u00CB\\u00EB\\u00CF\\u00EF\\u00D6\\u00F6\\u00DC\\u00FC\\u0178\\u00FF&quot; \n    + &quot;\\u00C5\\u00E5&quot;                                                             \n    + &quot;\\u00C7\\u00E7&quot; \n    + &quot;\\u0150\\u0151\\u0170\\u0171&quot; \n    ;\n\n    // private constructor, can't be instanciated!\n    private AsciiUtils() { }\n\n    // remove accentued from a string and replace with ascii equivalent\n    public static String convertNonAscii(String s) {\n       if (s == null) return null;\n       StringBuilder sb = new StringBuilder();\n       int n = s.length();\n       for (int i = 0; i &lt; n; i++) {\n          char c = s.charAt(i);\n          int pos = UNICODE.indexOf(c);\n          if (pos &gt; -1){\n              sb.append(PLAIN_ASCII.charAt(pos));\n          }\n          else {\n              sb.append(c);\n          }\n       }\n       return sb.toString();\n    }\n\n    public static void main(String args[]) {\n       String s = \n         &quot;The result : È,É,Ê,Ë,Û,Ù,Ï,Î,À,Â,Ô,è,é,ê,ë,û,ù,ï,î,à,â,ô,ç&quot;;\n       System.out.println(AsciiUtils.convertNonAscii(s));\n       // output : \n       // The result : E,E,E,E,U,U,I,I,A,A,O,e,e,e,e,u,u,i,i,a,a,o,c\n    }\n}\n</code></pre>\n<p>The JDK 1.6 provides the java.text.Normalizer class that can be used for this task.</p>\n"},{"tags":[],"owner":{"account_id":4844,"reputation":41872,"user_id":7488,"accept_rate":67,"display_name":"JacquesB"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1246105192,"creation_date":1246104297,"answer_id":1052731,"question_id":1008802,"body_markdown":"There is no easy or general way to do what you want because it is just your subjective opinion that these letters look loke the latin letters you want to convert to. They are actually separate letters with their own distinct names and sounds which just happen to superficially look like a latin letter. \r\n\r\nIf you want that conversion, you have to create your own translation table based on what latin letters you think the non-latin letters should be converted to.\r\n\r\n(If you only want to remove diacritial marks, there are some answers in this thread: https://stackoverflow.com/questions/249087/how-do-i-remove-diacritics-accents-from-a-string-in-net However you describe a more general problem)","title":"Converting Symbols, Accent Letters to English Alphabet","body":"<p>There is no easy or general way to do what you want because it is just your subjective opinion that these letters look loke the latin letters you want to convert to. They are actually separate letters with their own distinct names and sounds which just happen to superficially look like a latin letter. </p>\n\n<p>If you want that conversion, you have to create your own translation table based on what latin letters you think the non-latin letters should be converted to.</p>\n\n<p>(If you only want to remove diacritial marks, there are some answers in this thread: <a href=\"https://stackoverflow.com/questions/249087/how-do-i-remove-diacritics-accents-from-a-string-in-net\">How do I remove diacritics (accents) from a string in .NET?</a> However you describe a more general problem)</p>\n"},{"tags":[],"owner":{"account_id":42716,"reputation":3811,"user_id":124533,"accept_rate":88,"display_name":"hashable"},"down_vote_count":2,"up_vote_count":211,"is_accepted":true,"score":209,"last_activity_date":1351769400,"creation_date":1249077963,"answer_id":1215117,"question_id":1008802,"body_markdown":"Reposting my post from [How do I remove diacritics (accents) from a string in .NET?][1]\r\n\r\nThis method works fine in java *(purely for the purpose of removing diacritical marks aka accents)*.\r\n\r\nIt basically converts all accented characters into their deAccented counterparts followed by their combining diacritics. Now you can use a regex to strip off the diacritics.\r\n\r\n    import java.text.Normalizer;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public String deAccent(String str) {\r\n        String nfdNormalizedString = Normalizer.normalize(str, Normalizer.Form.NFD); \r\n        Pattern pattern = Pattern.compile(&quot;\\\\p{InCombiningDiacriticalMarks}+&quot;);\r\n        return pattern.matcher(nfdNormalizedString).replaceAll(&quot;&quot;);\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/249087/how-do-i-remove-diacritics-accents-from-a-string-in-net","title":"Converting Symbols, Accent Letters to English Alphabet","body":"<p>Reposting my post from <a href=\"https://stackoverflow.com/questions/249087/how-do-i-remove-diacritics-accents-from-a-string-in-net\">How do I remove diacritics (accents) from a string in .NET?</a></p>\n\n<p>This method works fine in java <em>(purely for the purpose of removing diacritical marks aka accents)</em>.</p>\n\n<p>It basically converts all accented characters into their deAccented counterparts followed by their combining diacritics. Now you can use a regex to strip off the diacritics.</p>\n\n<pre><code>import java.text.Normalizer;\nimport java.util.regex.Pattern;\n\npublic String deAccent(String str) {\n    String nfdNormalizedString = Normalizer.normalize(str, Normalizer.Form.NFD); \n    Pattern pattern = Pattern.compile(\"\\\\p{InCombiningDiacriticalMarks}+\");\n    return pattern.matcher(nfdNormalizedString).replaceAll(\"\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1252486548,"creation_date":1252486227,"answer_id":1398403,"question_id":1008802,"body_markdown":"Since the encoding that turns &quot;the Family&quot; into &quot;tђє Ŧค๓เℓy&quot; is effectively random and not following any algorithm that can be explained by the information of the Unicode codepoints involved, there&#39;s no general way to solve this algorithmically.\r\n\r\nYou will need to build the mapping of Unicode characters into latin characters which they resemble. You could probably do this with some smart machine learning on the actual glyphs representing the Unicode codepoints. But I think the effort for this would be greater than manually building that mapping. Especially if you have a good amount of examples from which you can build your mapping.\r\n\r\nTo clarify: a few of the substitutions can actually be solved via the Unicode data (as the other answers demonstrate), but some letters simply have no reasonable association with the latin characters which they resemble.\r\n\r\nExamples:\r\n\r\n * &quot;ђ&quot; (U+0452 CYRILLIC SMALL LETTER DJE) is more related to &quot;d&quot; than to &quot;h&quot;, but is used to represent &quot;h&quot;.\r\n * &quot;Ŧ&quot; (U+0166 LATIN CAPITAL LETTER T WITH STROKE) is somewhat related to &quot;T&quot; (as the name suggests) but is used to represent &quot;F&quot;.\r\n * &quot;ค&quot; (U+0E04 THAI CHARACTER KHO KHWAI) is not related to any latin character at all and in your example is used to represent &quot;a&quot;","title":"Converting Symbols, Accent Letters to English Alphabet","body":"<p>Since the encoding that turns \"the Family\" into \"tђє Ŧค๓เℓy\" is effectively random and not following any algorithm that can be explained by the information of the Unicode codepoints involved, there's no general way to solve this algorithmically.</p>\n\n<p>You will need to build the mapping of Unicode characters into latin characters which they resemble. You could probably do this with some smart machine learning on the actual glyphs representing the Unicode codepoints. But I think the effort for this would be greater than manually building that mapping. Especially if you have a good amount of examples from which you can build your mapping.</p>\n\n<p>To clarify: a few of the substitutions can actually be solved via the Unicode data (as the other answers demonstrate), but some letters simply have no reasonable association with the latin characters which they resemble.</p>\n\n<p>Examples:</p>\n\n<ul>\n<li>\"ђ\" (U+0452 CYRILLIC SMALL LETTER DJE) is more related to \"d\" than to \"h\", but is used to represent \"h\".</li>\n<li>\"Ŧ\" (U+0166 LATIN CAPITAL LETTER T WITH STROKE) is somewhat related to \"T\" (as the name suggests) but is used to represent \"F\".</li>\n<li>\"ค\" (U+0E04 THAI CHARACTER KHO KHWAI) is not related to any latin character at all and in your example is used to represent \"a\"</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"down_vote_count":0,"up_vote_count":78,"is_accepted":false,"score":78,"last_activity_date":1424952292,"creation_date":1351949285,"answer_id":13209635,"question_id":1008802,"body_markdown":"It&#39;s a part of [Apache Commons Lang](https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/StringUtils.html#stripAccents%28java.lang.String%29) as of ver. 3.0.\r\n\r\n    org.apache.commons.lang3.StringUtils.stripAccents(&quot;A&#241;&quot;);\r\n\r\nreturns `An`\r\n\r\nAlso see http://www.drillio.com/en/software-development/java/removing-accents-diacritics-in-any-language/","title":"Converting Symbols, Accent Letters to English Alphabet","body":"<p>It's a part of <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/StringUtils.html#stripAccents%28java.lang.String%29\">Apache Commons Lang</a> as of ver. 3.0.</p>\n\n<pre><code>org.apache.commons.lang3.StringUtils.stripAccents(\"Añ\");\n</code></pre>\n\n<p>returns <code>An</code></p>\n\n<p>Also see <a href=\"http://www.drillio.com/en/software-development/java/removing-accents-diacritics-in-any-language/\">http://www.drillio.com/en/software-development/java/removing-accents-diacritics-in-any-language/</a></p>\n"},{"tags":[],"owner":{"account_id":2638662,"reputation":111,"user_id":2282794,"display_name":"Dayanand Gowda"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1416568408,"creation_date":1415600037,"answer_id":26837834,"question_id":1008802,"body_markdown":"The original request has been answered already. \r\n\r\nHowever, I am posting the below answer for those who might be looking for generic transliteration code to transliterate any charset to Latin/English in Java.\r\n\r\nNaive meaning of tranliteration: \r\nTranslated string in it&#39;s final form/target charset sounds like the string in it&#39;s original form.\r\nIf we want to transliterate any charset to Latin(English alphabets), then ICU4(ICU4J library in java ) will do the job.\r\n\r\nHere is the code snippet in java:\r\n\r\n        import com.ibm.icu.text.Transliterator; //ICU4J library import\r\n\r\n        public static String TRANSLITERATE_ID = &quot;NFD; Any-Latin; NFC&quot;;\r\n        public static String NORMALIZE_ID = &quot;NFD; [:Nonspacing Mark:] Remove; NFC&quot;;\r\n\r\n        /**\r\n        * Returns the transliterated string to convert any charset to latin.\r\n        */\r\n        public static String transliterate(String input) {\r\n            Transliterator transliterator = Transliterator.getInstance(TRANSLITERATE_ID + &quot;; &quot; + NORMALIZE_ID);\r\n            String result = transliterator.transliterate(input);\r\n            return result;\r\n        }","title":"Converting Symbols, Accent Letters to English Alphabet","body":"<p>The original request has been answered already. </p>\n\n<p>However, I am posting the below answer for those who might be looking for generic transliteration code to transliterate any charset to Latin/English in Java.</p>\n\n<p>Naive meaning of tranliteration: \nTranslated string in it's final form/target charset sounds like the string in it's original form.\nIf we want to transliterate any charset to Latin(English alphabets), then ICU4(ICU4J library in java ) will do the job.</p>\n\n<p>Here is the code snippet in java:</p>\n\n<pre><code>    import com.ibm.icu.text.Transliterator; //ICU4J library import\n\n    public static String TRANSLITERATE_ID = \"NFD; Any-Latin; NFC\";\n    public static String NORMALIZE_ID = \"NFD; [:Nonspacing Mark:] Remove; NFC\";\n\n    /**\n    * Returns the transliterated string to convert any charset to latin.\n    */\n    public static String transliterate(String input) {\n        Transliterator transliterator = Transliterator.getInstance(TRANSLITERATE_ID + \"; \" + NORMALIZE_ID);\n        String result = transliterator.transliterate(input);\n        return result;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":89134,"reputation":1996,"user_id":246097,"accept_rate":50,"display_name":"Francisco Junior"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1471216122,"creation_date":1471212706,"answer_id":38947064,"question_id":1008802,"body_markdown":"I&#39;m late to the party, but after facing this issue today, I found this answer to be very good:\r\n\r\n    String asciiName = Normalizer.normalize(unicodeName, Normalizer.Form.NFD)\r\n        .replaceAll(&quot;[^\\\\p{ASCII}]&quot;, &quot;&quot;);\r\n\r\n\r\nReference: \r\nhttps://stackoverflow.com/a/16283863","title":"Converting Symbols, Accent Letters to English Alphabet","body":"<p>I'm late to the party, but after facing this issue today, I found this answer to be very good:</p>\n\n<pre><code>String asciiName = Normalizer.normalize(unicodeName, Normalizer.Form.NFD)\n    .replaceAll(\"[^\\\\p{ASCII}]\", \"\");\n</code></pre>\n\n<p>Reference: \n<a href=\"https://stackoverflow.com/a/16283863\">https://stackoverflow.com/a/16283863</a></p>\n"},{"tags":[],"owner":{"account_id":10197972,"reputation":1986,"user_id":7529228,"accept_rate":50,"display_name":"cactuschibre"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1492003415,"creation_date":1492003415,"answer_id":43370834,"question_id":1008802,"body_markdown":"String tested : &#193;&#194;&#195;&#196;&#197;&#198;&#199;&#200;&#201;&#202;&#203;&#204;&#205;&#206;&#207;&#208;&#209;&#210;&#211;&#212;&#213;&#214;&#216;&#217;&#218;&#219;&#220;&#221;&#223;\r\n\r\nTested :\r\n\r\n - Output from [Apache Commons Lang3][1] : AAAAA&#198;CEEEEIIII&#208;NOOOOO&#216;UUUUY&#223;\r\n - Output from [ICU4j][2] : AAAAA&#198;CEEEEIIII&#208;NOOOOO&#216;UUUUY&#223;\r\n - Output from [JUnidecode][3] : AAAAAAECEEEEIIIIDNOOOOOOUUUUUss (problem with &#221; and another [issue][4])\r\n - Output from [Unidecode][5] : AAAAAAECEEEEIIIIDNOOOOOOUUUUYss\r\n\r\n**The last choice is the best.**\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/\r\n  [2]: https://mvnrepository.com/artifact/com.ibm.icu/icu4j\r\n  [3]: https://github.com/gcardone/junidecode\r\n  [4]: https://github.com/gcardone/junidecode/issues/2\r\n  [5]: https://github.com/xuender/unidecode","title":"Converting Symbols, Accent Letters to English Alphabet","body":"<p>String tested : ÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖØÙÚÛÜÝß</p>\n\n<p>Tested :</p>\n\n<ul>\n<li>Output from <a href=\"https://commons.apache.org/proper/commons-lang/\" rel=\"noreferrer\">Apache Commons Lang3</a> : AAAAAÆCEEEEIIIIÐNOOOOOØUUUUYß</li>\n<li>Output from <a href=\"https://mvnrepository.com/artifact/com.ibm.icu/icu4j\" rel=\"noreferrer\">ICU4j</a> : AAAAAÆCEEEEIIIIÐNOOOOOØUUUUYß</li>\n<li>Output from <a href=\"https://github.com/gcardone/junidecode\" rel=\"noreferrer\">JUnidecode</a> : AAAAAAECEEEEIIIIDNOOOOOOUUUUUss (problem with Ý and another <a href=\"https://github.com/gcardone/junidecode/issues/2\" rel=\"noreferrer\">issue</a>)</li>\n<li>Output from <a href=\"https://github.com/xuender/unidecode\" rel=\"noreferrer\">Unidecode</a> : AAAAAAECEEEEIIIIDNOOOOOOUUUUYss</li>\n</ul>\n\n<p><strong>The last choice is the best.</strong></p>\n"},{"tags":[],"owner":{"account_id":1028702,"reputation":968,"user_id":1037439,"display_name":"TomWolk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1498474243,"creation_date":1498474243,"answer_id":44758042,"question_id":1008802,"body_markdown":"Following Class does the trick:\r\n\r\n    org.apache.lucene.analysis.miscellaneous.ASCIIFoldingFilter","title":"Converting Symbols, Accent Letters to English Alphabet","body":"<p>Following Class does the trick:</p>\n\n<pre><code>org.apache.lucene.analysis.miscellaneous.ASCIIFoldingFilter\n</code></pre>\n"}],"owner":{"account_id":22320,"reputation":43326,"user_id":54929,"accept_rate":79,"display_name":"ahmet alp balkan"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145652,"favorite_count":0,"down_vote_count":0,"up_vote_count":142,"accepted_answer_id":1215117,"answer_count":12,"score":142,"last_activity_date":1683165974,"creation_date":1245263484,"question_id":1008802,"body_markdown":"The problem is that, as you know, there are thousands of characters [in the Unicode chart][1] and I want to convert all the similar characters to the letters which are in English alphabet.\r\n\r\nFor instance here are a few conversions:\r\n\r\n    ҥ-&gt;H\r\n    Ѷ-&gt;V\r\n    Ȳ-&gt;Y\r\n    Ǭ-&gt;O\r\n    Ƈ-&gt;C\r\n    tђє Ŧค๓เℓy --&gt; the Family\r\n    ...\r\n\r\nand I saw that there are more than 20 versions of letter A/a. and I don&#39;t know how to classify them. They look like needles in the haystack. \r\n\r\n\r\n\r\nThe complete list of unicode chars is at [http://www.ssec.wisc.edu/~tomw/java/unicode.html][2]  or [http://unicode.org/charts/charindex.html][3] . Just try scrolling down and see the variations of letters. \r\n\r\nHow can I convert all these with Java? Please help me :(\r\n\r\n  [1]: http://www.ssec.wisc.edu/~tomw/java/unicode.html\r\n  [2]: http://www.ssec.wisc.edu/~tomw/java/unicode.html\r\n  [3]: http://unicode.org/charts/charindex.html","title":"Converting Symbols, Accent Letters to English Alphabet","body":"<p>The problem is that, as you know, there are thousands of characters <a href=\"http://www.ssec.wisc.edu/~tomw/java/unicode.html\" rel=\"noreferrer\">in the Unicode chart</a> and I want to convert all the similar characters to the letters which are in English alphabet.</p>\n\n<p>For instance here are a few conversions:</p>\n\n<pre><code>ҥ-&gt;H\nѶ-&gt;V\nȲ-&gt;Y\nǬ-&gt;O\nƇ-&gt;C\ntђє Ŧค๓เℓy --&gt; the Family\n...\n</code></pre>\n\n<p>and I saw that there are more than 20 versions of letter A/a. and I don't know how to classify them. They look like needles in the haystack. </p>\n\n<p>The complete list of unicode chars is at <a href=\"http://www.ssec.wisc.edu/~tomw/java/unicode.html\" rel=\"noreferrer\">http://www.ssec.wisc.edu/~tomw/java/unicode.html</a>  or <a href=\"http://unicode.org/charts/charindex.html\" rel=\"noreferrer\">http://unicode.org/charts/charindex.html</a> . Just try scrolling down and see the variations of letters. </p>\n\n<p>How can I convert all these with Java? Please help me :(</p>\n"},{"tags":["java","html","css","image","jakarta-mail"],"comments":[{"owner":{"account_id":7277,"reputation":113068,"user_id":12579,"accept_rate":92,"display_name":"Diodeus - James MacFarlane"},"score":0,"creation_date":1300211651,"post_id":5315834,"comment_id":5997230,"body_markdown":"Keep in mind that Outlook is very popular and incredibly stupid mail client. I seriously doubt embedded data would ever work for an image. You really do need to host the images on a server.","body":"Keep in mind that Outlook is very popular and incredibly stupid mail client. I seriously doubt embedded data would ever work for an image. You really do need to host the images on a server."},{"owner":{"account_id":292191,"reputation":471,"user_id":594801,"accept_rate":95,"display_name":"B.Z.B"},"score":0,"creation_date":1300211788,"post_id":5315834,"comment_id":5997266,"body_markdown":"hm ok, I&#39;ll try looking around for a solution using temp files too.","body":"hm ok, I&#39;ll try looking around for a solution using temp files too."}],"answers":[{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1683165931,"creation_date":1300229579,"answer_id":5319044,"question_id":5315834,"body_markdown":"You add the image as an attachment and then you make a reference to it with a &quot;cid&quot; prefix.\r\n\r\n    //\r\n    // This HTML mail have to 2 part, the BODY and the embedded image\r\n    //\r\n    MimeMultipart multipart = new MimeMultipart(&quot;related&quot;);\r\n\r\n    // first part  (the html)\r\n    BodyPart messageBodyPart = new MimeBodyPart();\r\n    String htmlText = &quot;&lt;H1&gt;Hello&lt;/H1&gt;&lt;img src=\\&quot;cid:image@foo.com\\&quot;&gt;&quot;;\r\n    messageBodyPart.setContent(htmlText, &quot;text/html&quot;);\r\n\r\n    // add it\r\n    multipart.addBodyPart(messageBodyPart);\r\n    \r\n    // second part (the image)\r\n    messageBodyPart = new MimeBodyPart();\r\n    DataSource fds = new FileDataSource\r\n      (&quot;C:\\\\images\\\\foo.gif&quot;);\r\n    messageBodyPart.setDataHandler(new DataHandler(fds));\r\n    messageBodyPart.setHeader(&quot;Content-ID&quot;,&quot;&lt;image@foo.com&gt;&quot;);\r\n\r\n    // add it\r\n    multipart.addBodyPart(messageBodyPart);\r\n\r\n    // put everything together\r\n    message.setContent(multipart);\r\n","title":"Insert Image Directly into an HTML Template Using Javamail","body":"<p>You add the image as an attachment and then you make a reference to it with a &quot;cid&quot; prefix.</p>\n<pre><code>//\n// This HTML mail have to 2 part, the BODY and the embedded image\n//\nMimeMultipart multipart = new MimeMultipart(&quot;related&quot;);\n\n// first part  (the html)\nBodyPart messageBodyPart = new MimeBodyPart();\nString htmlText = &quot;&lt;H1&gt;Hello&lt;/H1&gt;&lt;img src=\\&quot;cid:image@foo.com\\&quot;&gt;&quot;;\nmessageBodyPart.setContent(htmlText, &quot;text/html&quot;);\n\n// add it\nmultipart.addBodyPart(messageBodyPart);\n\n// second part (the image)\nmessageBodyPart = new MimeBodyPart();\nDataSource fds = new FileDataSource\n  (&quot;C:\\\\images\\\\foo.gif&quot;);\nmessageBodyPart.setDataHandler(new DataHandler(fds));\nmessageBodyPart.setHeader(&quot;Content-ID&quot;,&quot;&lt;image@foo.com&gt;&quot;);\n\n// add it\nmultipart.addBodyPart(messageBodyPart);\n\n// put everything together\nmessage.setContent(multipart);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":40182,"reputation":8647,"user_id":116339,"accept_rate":90,"display_name":"objects"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1349271300,"creation_date":1300230611,"answer_id":5319153,"question_id":5315834,"body_markdown":"Try the following which uses a ByteArrayDataSource to include your image bytes in the mail\r\n\r\n\r\n    // Add html content\r\n    // Specify the cid of the image to include in the email\r\n\r\n    String html = &quot;&lt;html&gt;&lt;body&gt;&lt;b&gt;Test&lt;/b&gt; email &lt;img src=&#39;cid:my-image-id&#39;&gt;&lt;/body&gt;&lt;/html&gt;&quot;;\r\n    Multipart mp = new MimeMultipart();\r\n    MimeBodyPart htmlPart = new MimeBodyPart();\r\n    htmlPart.setContent(html, &quot;text/html&quot;);\r\n    mp.addBodyPart(htmlPart);\r\n\r\n    // add image in another part\r\n\r\n    MimeBodyPart imagePart = new MimeBodyPart();\r\n    DataSource fds = new ByteArrayDataSource(imageBytes, imageType);\r\n    imagePart.setDataHandler(new DataHandler(fds));\r\n\r\n    // assign a cid to the image\r\n    \r\n    imagePart.setHeader(&quot;Content-ID&quot;, &quot;&lt;my-image-id&gt;&quot;); // Make sure you use brackets &lt; &gt;\r\n    mp.addBodyPart(imagePart);\r\n\r\n    message.setContent(mp);\r\n\r\n\r\n\r\nAdapted from example @ http://helpdesk.objects.com.au/java/how-to-embed-images-in-html-mail-using-javamail","title":"Insert Image Directly into an HTML Template Using Javamail","body":"<p>Try the following which uses a ByteArrayDataSource to include your image bytes in the mail</p>\n\n<pre><code>// Add html content\n// Specify the cid of the image to include in the email\n\nString html = \"&lt;html&gt;&lt;body&gt;&lt;b&gt;Test&lt;/b&gt; email &lt;img src='cid:my-image-id'&gt;&lt;/body&gt;&lt;/html&gt;\";\nMultipart mp = new MimeMultipart();\nMimeBodyPart htmlPart = new MimeBodyPart();\nhtmlPart.setContent(html, \"text/html\");\nmp.addBodyPart(htmlPart);\n\n// add image in another part\n\nMimeBodyPart imagePart = new MimeBodyPart();\nDataSource fds = new ByteArrayDataSource(imageBytes, imageType);\nimagePart.setDataHandler(new DataHandler(fds));\n\n// assign a cid to the image\n\nimagePart.setHeader(\"Content-ID\", \"&lt;my-image-id&gt;\"); // Make sure you use brackets &lt; &gt;\nmp.addBodyPart(imagePart);\n\nmessage.setContent(mp);\n</code></pre>\n\n<p>Adapted from example @ <a href=\"http://helpdesk.objects.com.au/java/how-to-embed-images-in-html-mail-using-javamail\" rel=\"nofollow\">http://helpdesk.objects.com.au/java/how-to-embed-images-in-html-mail-using-javamail</a></p>\n"}],"owner":{"account_id":292191,"reputation":471,"user_id":594801,"accept_rate":95,"display_name":"B.Z.B"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11103,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":5319044,"answer_count":2,"score":2,"last_activity_date":1683165931,"creation_date":1300211350,"question_id":5315834,"body_markdown":"Hey all,  I&#39;ve seen a lot of topics on this, but not quite what I am looking for.  \r\n\r\nEssentially when I get to sending my Javamail message I&#39;ll have my image as a byte[] object and I&#39;ll have a string that contains the html template.  What I am looking to do is not store it on the server (didn&#39;t want to try to deal with the upkeep on keeping the image stored on the server, and we&#39;ll have limited space to work with).  I&#39;d like to take the byte[] object that I already have and directly store it within the html template, making sure it&#39;s in the correct image tag.  Is there a way I could do this? Basically I want to stick a message.setContent(&quot;blah&quot;,&quot;image/jpg&quot;); directly into the html template at a specific spot.\r\n\r\nHopefully I&#39;m making sense here...\r\n\r\nAnother Idea I was thinking was add the image as an attachment and just reference the attachment when displaying the html template....if that is possible.","title":"Insert Image Directly into an HTML Template Using Javamail","body":"<p>Hey all,  I've seen a lot of topics on this, but not quite what I am looking for.  </p>\n\n<p>Essentially when I get to sending my Javamail message I'll have my image as a byte[] object and I'll have a string that contains the html template.  What I am looking to do is not store it on the server (didn't want to try to deal with the upkeep on keeping the image stored on the server, and we'll have limited space to work with).  I'd like to take the byte[] object that I already have and directly store it within the html template, making sure it's in the correct image tag.  Is there a way I could do this? Basically I want to stick a message.setContent(\"blah\",\"image/jpg\"); directly into the html template at a specific spot.</p>\n\n<p>Hopefully I'm making sense here...</p>\n\n<p>Another Idea I was thinking was add the image as an attachment and just reference the attachment when displaying the html template....if that is possible.</p>\n"},{"tags":["java","file","aem","aem-6","crx"],"owner":{"account_id":12892506,"reputation":3238,"user_id":9324000,"accept_rate":100,"display_name":"superninja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683165542,"creation_date":1683165225,"question_id":76169060,"body_markdown":"I am trying to create a txt file under `/conf` but got this error:  \r\n\r\n&gt;  Exception occurred: This tree does not exist\r\n\r\nHere is the simplified version of my code - ignoring the file content:\r\n\r\n    Session session = resourceResolver.adaptTo(Session.class);\r\n    Node confNode = session.getNode(&quot;/conf&quot;);\r\n    Node fileNode = confNode.addNode(&quot;helloworld.txt&quot;, &quot;nt:file&quot;);\r\n    session.save();\r\n\r\nAm I missing anything? `/conf` path exists in CRXDE so I am not sure why it says the tree does not exist. I have also make sure the SystemUser.yaml has the write and read permission under /conf","title":"AEM Add File: Exception occurred: This tree does not exist","body":"<p>I am trying to create a txt file under <code>/conf</code> but got this error:</p>\n<blockquote>\n<p>Exception occurred: This tree does not exist</p>\n</blockquote>\n<p>Here is the simplified version of my code - ignoring the file content:</p>\n<pre><code>Session session = resourceResolver.adaptTo(Session.class);\nNode confNode = session.getNode(&quot;/conf&quot;);\nNode fileNode = confNode.addNode(&quot;helloworld.txt&quot;, &quot;nt:file&quot;);\nsession.save();\n</code></pre>\n<p>Am I missing anything? <code>/conf</code> path exists in CRXDE so I am not sure why it says the tree does not exist. I have also make sure the SystemUser.yaml has the write and read permission under /conf</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9535,"page":457,"page_size":100}
