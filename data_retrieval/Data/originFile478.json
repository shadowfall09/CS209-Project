{"items":[{"tags":["java","android","math"],"comments":[{"owner":{"account_id":12627544,"reputation":3386,"user_id":9180439,"accept_rate":80,"display_name":"Ali"},"score":0,"creation_date":1524291778,"post_id":49952965,"comment_id":86922456,"body_markdown":"you want scroll only left or Right or Left Both ?","body":"you want scroll only left or Right or Left Both ?"},{"owner":{"display_name":"user9550968"},"score":0,"creation_date":1524291857,"post_id":49952965,"comment_id":86922479,"body_markdown":"only left because i&#39;ve made a card stack","body":"only left because i&#39;ve made a card stack"},{"owner":{"display_name":"user9550968"},"score":0,"creation_date":1524291891,"post_id":49952965,"comment_id":86922487,"body_markdown":"can you please help me with this","body":"can you please help me with this"},{"owner":{"display_name":"user9025311"},"score":0,"creation_date":1526639757,"post_id":49952965,"comment_id":87833958,"body_markdown":"from github this has a property of reverse have you tried it?","body":"from github this has a property of reverse have you tried it?"},{"owner":{"display_name":"user9550968"},"score":0,"creation_date":1526639842,"post_id":49952965,"comment_id":87834008,"body_markdown":"yes i tried that but it isnt meant for changing scroll direction","body":"yes i tried that but it isnt meant for changing scroll direction"},{"owner":{"display_name":"user9550968"},"score":0,"creation_date":1526639945,"post_id":49952965,"comment_id":87834055,"body_markdown":"I have been trying to figure out this code an i think i have to change this code https://pastebin.com/pH47TE2i but still couldnt get a solution","body":"I have been trying to figure out this code an i think i have to change this code <a href=\"https://pastebin.com/pH47TE2i\" rel=\"nofollow noreferrer\">pastebin.com/pH47TE2i</a> but still couldnt get a solution"},{"owner":{"account_id":4898551,"reputation":1350,"user_id":3947321,"accept_rate":50,"display_name":"Rujul Gandhi"},"score":0,"creation_date":1526644600,"post_id":49952965,"comment_id":87836903,"body_markdown":"@Smith so you want by default scroll at last position. Right ?","body":"@Smith so you want by default scroll at last position. Right ?"},{"owner":{"display_name":"user9550968"},"score":0,"creation_date":1526644643,"post_id":49952965,"comment_id":87836941,"body_markdown":"no i&#39;m trying to have scrolling position on left","body":"no i&#39;m trying to have scrolling position on left"},{"owner":{"display_name":"user9550968"},"score":0,"creation_date":1526644652,"post_id":49952965,"comment_id":87836947,"body_markdown":"https://github.com/thunderpunch/LadderLayoutManager","body":"<a href=\"https://github.com/thunderpunch/LadderLayoutManager\" rel=\"nofollow noreferrer\">github.com/thunderpunch/LadderLayoutManager</a>"},{"owner":{"display_name":"user9550968"},"score":0,"creation_date":1526644690,"post_id":49952965,"comment_id":87836967,"body_markdown":"here on github scrolling is on right side but i&#39;m trying to have horizontal scrolling on left","body":"here on github scrolling is on right side but i&#39;m trying to have horizontal scrolling on left"},{"owner":{"display_name":"user9550968"},"score":0,"creation_date":1526644726,"post_id":49952965,"comment_id":87836987,"body_markdown":"can you please help me out","body":"can you please help me out"},{"owner":{"display_name":"user9025311"},"score":0,"creation_date":1526652690,"post_id":49952965,"comment_id":87842030,"body_markdown":"when you run the app and click the reverse button does it work?","body":"when you run the app and click the reverse button does it work?"},{"owner":{"account_id":4684635,"reputation":4892,"user_id":3792350,"display_name":"sakiM"},"score":0,"creation_date":1526705166,"post_id":49952965,"comment_id":87858667,"body_markdown":"Sorry, I don&#39;t catch `scrolling position to left`. Is there any sketch map described current and what you want?","body":"Sorry, I don&#39;t catch <code>scrolling position to left</code>. Is there any sketch map described current and what you want?"},{"owner":{"account_id":9280261,"reputation":6682,"user_id":6891637,"accept_rate":90,"display_name":"Ajil O."},"score":0,"creation_date":1526705564,"post_id":49952965,"comment_id":87858720,"body_markdown":"@Smith Have you tried `llm.setReverse(true)` in your `MainActivity()` when you set the `LayoutManager`?","body":"@Smith Have you tried <code>llm.setReverse(true)</code> in your <code>MainActivity()</code> when you set the <code>LayoutManager</code>?"},{"owner":{"display_name":"user9550968"},"score":0,"creation_date":1526717682,"post_id":49952965,"comment_id":87861226,"body_markdown":"@Ajil O yes i tried but the probelm is that set reverse only sets the stack to its predefined position","body":"@Ajil O yes i tried but the probelm is that set reverse only sets the stack to its predefined position"},{"owner":{"display_name":"user9550968"},"score":0,"creation_date":1526717751,"post_id":49952965,"comment_id":87861249,"body_markdown":"@sakiM please see this post for reference https://stackoverflow.com/questions/50390243/viewpager-page-scaling-issue-with-page-transformer","body":"@sakiM please see this post for reference <a href=\"https://stackoverflow.com/questions/50390243/viewpager-page-scaling-issue-with-page-transformer\" title=\"viewpager page scaling issue with page transformer\">stackoverflow.com/questions/50390243/&hellip;</a>"},{"owner":{"display_name":"user9550968"},"score":0,"creation_date":1526717842,"post_id":49952965,"comment_id":87861275,"body_markdown":"@Eminem yes button works but it is not abou t button working please see this for reference https://stackoverflow.com/questions/50390243/viewpager-page-scaling-issue-with-page-transformer","body":"@Eminem yes button works but it is not abou t button working please see this for reference <a href=\"https://stackoverflow.com/questions/50390243/viewpager-page-scaling-issue-with-page-transformer\" title=\"viewpager page scaling issue with page transformer\">stackoverflow.com/questions/50390243/&hellip;</a>"},{"owner":{"display_name":"user9025311"},"score":0,"creation_date":1526719547,"post_id":49952965,"comment_id":87861669,"body_markdown":"so you solved the reverse problem, this is a new one","body":"so you solved the reverse problem, this is a new one"},{"owner":{"display_name":"user9550968"},"score":0,"creation_date":1526719644,"post_id":49952965,"comment_id":87861690,"body_markdown":"no i didnt solve the problem both are same just trying a different approach i&#39;m showing you the output i&#39;m trying to get","body":"no i didnt solve the problem both are same just trying a different approach i&#39;m showing you the output i&#39;m trying to get"}],"answers":[{"comments":[{"owner":{"display_name":"user9550968"},"score":0,"creation_date":1524292242,"post_id":49953011,"comment_id":86922582,"body_markdown":"hi this wont work because i have made a custom layout manager which is provoiding horizontal scrolling my problem is i want it to scroll only on the left side","body":"hi this wont work because i have made a custom layout manager which is provoiding horizontal scrolling my problem is i want it to scroll only on the left side"}],"tags":[],"owner":{"display_name":"user4571931"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524313186,"creation_date":1524291976,"answer_id":49953011,"question_id":49952965,"body_markdown":"Use the code below:\r\n\r\n    mRecyclerView.setLayoutManager(new LinearLayoutManager(this, LinearLayoutManager.HORIZONTAL, true));","title":"RecyclerView horizontal scrolling to left","body":"<p>Use the code below:</p>\n\n<pre><code>mRecyclerView.setLayoutManager(new LinearLayoutManager(this, LinearLayoutManager.HORIZONTAL, true));\n</code></pre>\n"},{"comments":[{"owner":{"display_name":"user9550968"},"score":0,"creation_date":1524292436,"post_id":49953048,"comment_id":86922620,"body_markdown":"Hi @Mohammad ali i have made a custom layout manager which is providing me horizontal scrolling the problem is the card on top starts its scrolling from right side i want to change that to left","body":"Hi @Mohammad ali i have made a custom layout manager which is providing me horizontal scrolling the problem is the card on top starts its scrolling from right side i want to change that to left"},{"owner":{"account_id":12627544,"reputation":3386,"user_id":9180439,"accept_rate":80,"display_name":"Ali"},"score":0,"creation_date":1524292477,"post_id":49953048,"comment_id":86922636,"body_markdown":"see in answer second line please use this @Smith","body":"see in answer second line please use this @Smith"},{"owner":{"account_id":12627544,"reputation":3386,"user_id":9180439,"accept_rate":80,"display_name":"Ali"},"score":0,"creation_date":1524292867,"post_id":49953048,"comment_id":86922716,"body_markdown":"ya please @Smith","body":"ya please @Smith"},{"owner":{"display_name":"user9550968"},"score":0,"creation_date":1524293621,"post_id":49953048,"comment_id":86922859,"body_markdown":"Hi @ Mohammad any ideas","body":"Hi @ Mohammad any ideas"},{"owner":{"account_id":12627544,"reputation":3386,"user_id":9180439,"accept_rate":80,"display_name":"Ali"},"score":0,"creation_date":1524293767,"post_id":49953048,"comment_id":86922896,"body_markdown":"i&#39;ll just check your code but i&#39;m confused and Sorry I hve no IDEA @Smith","body":"i&#39;ll just check your code but i&#39;m confused and Sorry I hve no IDEA @Smith"},{"owner":{"display_name":"user9550968"},"score":0,"creation_date":1524293981,"post_id":49953048,"comment_id":86922943,"body_markdown":"Please see this link the image is what i&#39;m trying to achieve https://imgur.com/a/7vLw9Hm @Mohammad","body":"Please see this link the image is what i&#39;m trying to achieve <a href=\"https://imgur.com/a/7vLw9Hm\" rel=\"nofollow noreferrer\">imgur.com/a/7vLw9Hm</a> @Mohammad"},{"owner":{"account_id":12627544,"reputation":3386,"user_id":9180439,"accept_rate":80,"display_name":"Ali"},"score":0,"creation_date":1524294128,"post_id":49953048,"comment_id":86922975,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/169488/discussion-between-mohammad-ali-and-smith).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/169488/discussion-between-mohammad-ali-and-smith\">continue this discussion in chat</a>."}],"tags":[],"owner":{"account_id":12627544,"reputation":3386,"user_id":9180439,"accept_rate":80,"display_name":"Ali"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524292520,"creation_date":1524292253,"answer_id":49953048,"question_id":49952965,"body_markdown":"try below code :\r\n\r\n  \r\n\r\n    mRecyclerView.setLayoutManager(new LinearLayoutManager(this, LinearLayoutManager.HORIZONTAL, true));\r\n    mRecyclerView.setReverseLayout(true);","title":"RecyclerView horizontal scrolling to left","body":"<p>try below code :</p>\n\n<pre><code>mRecyclerView.setLayoutManager(new LinearLayoutManager(this, LinearLayoutManager.HORIZONTAL, true));\nmRecyclerView.setReverseLayout(true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21502906,"reputation":963,"user_id":15856359,"display_name":"Mostafa Onaizan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621991441,"creation_date":1621991441,"answer_id":67697343,"question_id":49952965,"body_markdown":"in xml: \r\nright to left\r\n\r\n    android:layoutDirection=&quot;rtl&quot;\r\nleft to right \r\n\r\n    android:layoutDirection=&quot;ltr&quot;\r\n\r\n\r\n","title":"RecyclerView horizontal scrolling to left","body":"<p>in xml:\nright to left</p>\n<pre><code>android:layoutDirection=&quot;rtl&quot;\n</code></pre>\n<p>left to right</p>\n<pre><code>android:layoutDirection=&quot;ltr&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8016842,"reputation":327,"user_id":6046829,"display_name":"AmirMohamamd"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682417678,"creation_date":1682417678,"answer_id":76100032,"question_id":49952965,"body_markdown":"Set RecyclerView layout layoutDirection LTR:\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/recyclerView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layoutDirection=&quot;ltr&quot; /&gt;\r\n\r\nAnd set      \r\n\r\n    val layoutManager = LinearLayoutManager(this,LinearLayoutManager.HORIZONTAL, true)\r\n\r\n","title":"RecyclerView horizontal scrolling to left","body":"<p>Set RecyclerView layout layoutDirection LTR:</p>\n<pre><code>&lt;androidx.recyclerview.widget.RecyclerView\n    android:id=&quot;@+id/recyclerView&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layoutDirection=&quot;ltr&quot; /&gt;\n</code></pre>\n<p>And set</p>\n<pre><code>val layoutManager = LinearLayoutManager(this,LinearLayoutManager.HORIZONTAL, true)\n</code></pre>\n"}],"owner":{"display_name":"user9550968"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7826,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"answer_count":4,"score":3,"last_activity_date":1682417678,"creation_date":1524291535,"question_id":49952965,"body_markdown":"I&#39;m making an app where I&#39;m using `RecyclerView` with `SnapHelper` class to make a scrollable horizontal card stack. I have implemented that successfully however my problem is that the cards swipe to right direction and I want to swipe the cards on left direction.\r\n\r\nI did some research on Stack Overflow and found [1][1] and [2][2]\r\n\r\nBut I still couldn&#39;t figure out how to set the scrolling position to left instead of right.\r\n\r\nI also found that `FindSnapView` method passes the scroll position and direction maybe I&#39;m wrong but below code might be the solution\r\n\r\n```java\r\n@Override\r\npublic View findSnapView(RecyclerView.LayoutManager layoutManager) {\r\n    if (layoutManager instanceof LadderLayoutManager) {\r\n        int pos = ((LadderLayoutManager) layoutManager)\r\n            .getFixedScrollPosition(mDirection, mDirection != 0 ? 0.8f : 0.5f);\r\n        mDirection = 0;\r\n        if (pos != RecyclerView.NO_POSITION) {\r\n            return layoutManager.findViewByPosition(pos);\r\n        }\r\n    }\r\n    return null;\r\n}\r\n```\r\n\r\nMy main class\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n        LadderLayoutManager llm;\r\n        RecyclerView rcv;\r\n        HSAdapter adapter;\r\n        int scrollToPosition;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            llm = new LadderLayoutManager(1.5f, 0.85f, LadderLayoutManager.HORIZONTAL).\r\n                    setChildDecorateHelper(new LadderLayoutManager\r\n                            .DefaultChildDecorateHelper(getResources().getDimension(R.dimen.item_max_elevation)));\r\n            llm.setChildPeekSize((int) TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP,\r\n                    30, getResources().getDisplayMetrics()));\r\n            llm.setMaxItemLayoutCount(5);\r\n    \r\n            rcv = (RecyclerView) findViewById(R.id.rcv);\r\n            rcv.setLayoutManager(llm);\r\n    \r\n            new LadderSimpleSnapHelper().attachToRecyclerView(rcv);\r\n            adapter = new HSAdapter();\r\n            rcv.setAdapter(adapter);\r\n    \r\n            final SeekBar sb = (SeekBar) findViewById(R.id.sb);\r\n        }\r\n\r\nMy code for custom LayoutManager\r\n\r\n    public class LadderLayoutManager extends RecyclerView.LayoutManager implements RecyclerView.SmoothScroller.ScrollVectorProvider {\r\n        private static final int INVALIDATE_SCROLL_OFFSET = Integer.MAX_VALUE;\r\n        private static final float DEFAULT_CHILD_LAYOUT_OFFSET = 0.2f;\r\n        public static final int UNLIMITED = 0;\r\n        public static final int VERTICAL = 1;\r\n        public static final int HORIZONTAL = 0;\r\n        private boolean mCheckedChildSize;\r\n        private int[] mChildSize;\r\n        private int mChildPeekSize;\r\n        private int mChildPeekSizeInput;\r\n        private boolean mReverse;\r\n        private int mScrollOffset = INVALIDATE_SCROLL_OFFSET;\r\n        private float mItemHeightWidthRatio;\r\n        private float mScale;\r\n        private int mChildCount;\r\n        private float mVanishOffset = 0;\r\n        private Interpolator mInterpolator;\r\n        private int mOrientation;\r\n        private ChildDecorateHelper mDecorateHelper;\r\n        private int mMaxItemLayoutCount;\r\n    \r\n        public LadderLayoutManager(float itemHeightWidthRatio) {\r\n            this(itemHeightWidthRatio, 0.9f, VERTICAL);\r\n        }\r\n    \r\n    \r\n        public LadderLayoutManager(float itemHeightWidthRatio, float scale, int orientation) {\r\n            this.mItemHeightWidthRatio = itemHeightWidthRatio;\r\n            this.mOrientation = orientation;\r\n            this.mScale = scale;\r\n            this.mChildSize = new int[2];\r\n            this.mInterpolator = new DecelerateInterpolator();\r\n        }\r\n    \r\n        @Override\r\n        public RecyclerView.LayoutParams generateDefaultLayoutParams() {\r\n            return new RecyclerView.LayoutParams(mChildSize[0], mChildSize[1]);\r\n        }\r\n    \r\n        public LadderLayoutManager setChildDecorateHelper(ChildDecorateHelper layoutHelper) {\r\n            mDecorateHelper = layoutHelper;\r\n            return this;\r\n        }\r\n    \r\n        public void setMaxItemLayoutCount(int count) {\r\n            mMaxItemLayoutCount = Math.max(2, count);\r\n            if (getChildCount() &gt; 0) {\r\n                requestLayout();\r\n            }\r\n        }\r\n    \r\n    \r\n        public void setVanishOffset(float offset) {\r\n            mVanishOffset = offset;\r\n            if (getChildCount() &gt; 0) {\r\n                requestLayout();\r\n            }\r\n        }\r\n    \r\n    \r\n        public void setChildPeekSize(int childPeekSize) {\r\n            mChildPeekSizeInput = childPeekSize;\r\n            mCheckedChildSize = false;\r\n            if (getChildCount() &gt; 0) {\r\n                requestLayout();\r\n            }\r\n        }\r\n    \r\n    \r\n        public void setItemHeightWidthRatio(float itemHeightWidthRatio) {\r\n            mItemHeightWidthRatio = itemHeightWidthRatio;\r\n            mCheckedChildSize = false;\r\n            if (getChildCount() &gt; 0) {\r\n                requestLayout();\r\n            }\r\n        }\r\n    \r\n    \r\n        public void setReverse(boolean reverse) {\r\n            if (mReverse != reverse) {\r\n                mReverse = reverse;\r\n                if (getChildCount() &gt; 0) {\r\n                    requestLayout();\r\n                }\r\n            }\r\n        }\r\n    \r\n        public boolean isReverse() {\r\n            return mReverse;\r\n        }\r\n    \r\n    \r\n    \r\n        public int getFixedScrollPosition(int direction, float fixValue) {\r\n            if (mCheckedChildSize) {\r\n                if (mScrollOffset % mChildSize[mOrientation] == 0) {\r\n                    return RecyclerView.NO_POSITION;\r\n                }\r\n                float position = mScrollOffset * 1.0f / mChildSize[mOrientation];\r\n                return convert2AdapterPosition((int) (direction &gt; 0 ? position + fixValue : position + (1 - fixValue)) - 1);\r\n            }\r\n            return RecyclerView.NO_POSITION;\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void onMeasure(RecyclerView.Recycler recycler, RecyclerView.State state, int widthSpec, int heightSpec) {\r\n            super.onMeasure(recycler, state, widthSpec, heightSpec);\r\n            mCheckedChildSize = false;\r\n        }\r\n    \r\n        @Override\r\n        public void onLayoutChildren(RecyclerView.Recycler recycler, RecyclerView.State state) {\r\n            if (state.getItemCount() == 0) {\r\n                removeAndRecycleAllViews(recycler);\r\n                return;\r\n            }\r\n            if (!mCheckedChildSize) {\r\n                if (mOrientation == VERTICAL) {\r\n                    mChildSize[0] = getHorizontalSpace();\r\n                    mChildSize[1] = (int) (mItemHeightWidthRatio * mChildSize[0]);\r\n                } else {\r\n                    mChildSize[1] = getVerticalSpace();\r\n                    mChildSize[0] = (int) (mChildSize[1] / mItemHeightWidthRatio);\r\n                }\r\n                mChildPeekSize = mChildPeekSizeInput == 0 ?\r\n                        (int) (mChildSize[mOrientation] * DEFAULT_CHILD_LAYOUT_OFFSET) : mChildPeekSizeInput;\r\n                mCheckedChildSize = true;\r\n            }\r\n            int itemCount = getItemCount();\r\n            if (mReverse) {\r\n                mScrollOffset += (itemCount - mChildCount) * mChildSize[mOrientation];\r\n            }\r\n            mChildCount = itemCount;\r\n            mScrollOffset = makeScrollOffsetWithinRange(mScrollOffset);\r\n            fill(recycler);\r\n        }\r\n    \r\n        public void fill(RecyclerView.Recycler recycler) {\r\n            int bottomItemPosition = (int) Math.floor(mScrollOffset / mChildSize[mOrientation]);//&gt;=1\r\n            int bottomItemVisibleSize = mScrollOffset % mChildSize[mOrientation];\r\n            final float offsetPercent = mInterpolator.getInterpolation(\r\n                    bottomItemVisibleSize * 1.0f / mChildSize[mOrientation]);//[0,1)\r\n            final int space = mOrientation == VERTICAL ? getVerticalSpace() : getHorizontalSpace();\r\n    \r\n            ArrayList&lt;ItemLayoutInfo&gt; layoutInfos = new ArrayList&lt;&gt;();\r\n            for (int i = bottomItemPosition - 1, j = 1, remainSpace = space - mChildSize[mOrientation];\r\n                 i &gt;= 0; i--, j++) {\r\n                double maxOffset = mChildPeekSize * Math.pow(mScale, j);\r\n                int start = (int) (remainSpace - offsetPercent * maxOffset);\r\n                ItemLayoutInfo info = new ItemLayoutInfo(start,\r\n                        (float) (Math.pow(mScale, j - 1) * (1 - offsetPercent * (1 - mScale))),\r\n                        offsetPercent,\r\n                        start * 1.0f / space\r\n                );\r\n                layoutInfos.add(0, info);\r\n    \r\n                if (mMaxItemLayoutCount != UNLIMITED &amp;&amp; j == mMaxItemLayoutCount - 1) {\r\n                    if (offsetPercent != 0) {\r\n                        info.start = remainSpace;\r\n                        info.positionOffsetPercent = 0;\r\n                        info.layoutPercent = remainSpace / space;\r\n                        info.scaleXY = (float) Math.pow(mScale, j - 1);\r\n                    }\r\n                    break;\r\n                }\r\n                remainSpace -= maxOffset;\r\n                if (remainSpace &lt;= 0) {\r\n                    info.start = (int) (remainSpace + maxOffset);\r\n                    info.positionOffsetPercent = 0;\r\n                    info.layoutPercent = info.start / space;\r\n                    info.scaleXY = (float) Math.pow(mScale, j - 1);\r\n                    break;\r\n                }\r\n            }\r\n    \r\n            if (bottomItemPosition &lt; mChildCount) {\r\n                final int start = space - bottomItemVisibleSize;\r\n                layoutInfos.add(new ItemLayoutInfo(start, 1.0f,\r\n                        bottomItemVisibleSize * 1.0f / mChildSize[mOrientation], start * 1.0f / space).\r\n                        setIsBottom());\r\n            } else {\r\n                bottomItemPosition -= 1;\r\n            }\r\n    \r\n            int layoutCount = layoutInfos.size();\r\n    \r\n            final int startPos = bottomItemPosition - (layoutCount - 1);\r\n            final int endPos = bottomItemPosition;\r\n            final int childCount = getChildCount();\r\n            for (int i = childCount - 1; i &gt;= 0; i--) {\r\n                View childView = getChildAt(i);\r\n                int pos = convert2LayoutPosition(getPosition(childView));\r\n                if (pos &gt; endPos || pos &lt; startPos) {\r\n                    removeAndRecycleView(childView, recycler);\r\n                }\r\n            }\r\n            detachAndScrapAttachedViews(recycler);\r\n    \r\n            for (int i = 0; i &lt; layoutCount; i++) {\r\n                fillChild(recycler.getViewForPosition(convert2AdapterPosition(startPos + i)), layoutInfos.get(i));\r\n            }\r\n        }\r\n    \r\n        private void fillChild(View view, ItemLayoutInfo layoutInfo) {\r\n            addView(view);\r\n            measureChildWithExactlySize(view);\r\n            final int scaleFix = (int) (mChildSize[mOrientation] * (1 - layoutInfo.scaleXY) / 2);\r\n            final float gap = (mOrientation == VERTICAL ? getHorizontalSpace() : getVerticalSpace())\r\n                    - mChildSize[(mOrientation + 1) % 2] * layoutInfo.scaleXY;\r\n    \r\n            if (mOrientation == VERTICAL) {\r\n                int left = (int) (getPaddingLeft() + (gap * 0.5 * mVanishOffset));\r\n                layoutDecoratedWithMargins(view, left, layoutInfo.start - scaleFix\r\n                        , left + mChildSize[0], layoutInfo.start + mChildSize[1] - scaleFix);\r\n            } else {\r\n                int top = (int) (getPaddingTop() + (gap * 0.5 * mVanishOffset));\r\n                layoutDecoratedWithMargins(view, layoutInfo.start - scaleFix, top\r\n                        , layoutInfo.start + mChildSize[0] - scaleFix, top + mChildSize[1]);\r\n            }\r\n            ViewCompat.setScaleX(view, layoutInfo.scaleXY);\r\n            ViewCompat.setScaleY(view, layoutInfo.scaleXY);\r\n            if (mDecorateHelper != null) {\r\n                mDecorateHelper.decorateChild(view, layoutInfo.positionOffsetPercent, layoutInfo.layoutPercent, layoutInfo.isBottom);\r\n            }\r\n        }\r\n    \r\n        private void measureChildWithExactlySize(View child) {\r\n            RecyclerView.LayoutParams lp = (RecyclerView.LayoutParams) child.getLayoutParams();\r\n            final int widthSpec = View.MeasureSpec.makeMeasureSpec(\r\n                    mChildSize[0] - lp.leftMargin - lp.rightMargin, View.MeasureSpec.EXACTLY);\r\n            final int heightSpec = View.MeasureSpec.makeMeasureSpec(\r\n                    mChildSize[1] - lp.topMargin - lp.bottomMargin, View.MeasureSpec.EXACTLY);\r\n            child.measure(widthSpec, heightSpec);\r\n        }\r\n    \r\n        private int makeScrollOffsetWithinRange(int scrollOffset) {\r\n            return Math.min(Math.max(mChildSize[mOrientation], scrollOffset), mChildCount * mChildSize[mOrientation]);\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public int scrollVerticallyBy(int dy, RecyclerView.Recycler recycler, RecyclerView.State state) {\r\n            int pendingScrollOffset = mScrollOffset + dy;\r\n            mScrollOffset = makeScrollOffsetWithinRange(pendingScrollOffset);\r\n            fill(recycler);\r\n            return mScrollOffset - pendingScrollOffset + dy;\r\n        }\r\n    \r\n        @Override\r\n        public int scrollHorizontallyBy(int dx, RecyclerView.Recycler recycler, RecyclerView.State state) {\r\n            int pendingScrollOffset = mScrollOffset + dx;\r\n            mScrollOffset = makeScrollOffsetWithinRange(pendingScrollOffset);\r\n            fill(recycler);\r\n            return mScrollOffset - pendingScrollOffset + dx;\r\n        }\r\n    \r\n        @Override\r\n        public void smoothScrollToPosition(RecyclerView recyclerView, RecyclerView.State state, int position) {\r\n            final LinearSmoothScroller linearSmoothScroller = new LinearSmoothScroller(recyclerView.getContext()) {\r\n                @Override\r\n                public int calculateDyToMakeVisible(final View view, final int snapPreference) {\r\n                    if (mOrientation == VERTICAL) {\r\n                        return -calculateDistanceToPosition(getPosition(view));\r\n                    }\r\n                    return 0;\r\n                }\r\n    \r\n                @Override\r\n                public int calculateDxToMakeVisible(final View view, final int snapPreference) {\r\n                    if (mOrientation == HORIZONTAL) {\r\n                        return -calculateDistanceToPosition(getPosition(view));\r\n                    }\r\n                    return 0;\r\n                }\r\n            };\r\n            linearSmoothScroller.setTargetPosition(position);\r\n            startSmoothScroll(linearSmoothScroller);\r\n        }\r\n    \r\n    \r\n        public int calculateDistanceToPosition(int targetPos) {\r\n            int pendingScrollOffset = mChildSize[mOrientation] * (convert2LayoutPosition(targetPos) + 1);\r\n            return pendingScrollOffset - mScrollOffset;\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void scrollToPosition(int position) {\r\n            if (position &gt; 0 &amp;&amp; position &lt; mChildCount) {\r\n                mScrollOffset = mChildSize[mOrientation] * (convert2LayoutPosition(position) + 1);\r\n                requestLayout();\r\n            }\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public boolean canScrollVertically() {\r\n            return mOrientation == VERTICAL;\r\n        }\r\n    \r\n        @Override\r\n        public boolean canScrollHorizontally() {\r\n            return mOrientation == HORIZONTAL;\r\n        }\r\n    \r\n        public int convert2AdapterPosition(int layoutPosition) {\r\n            return mReverse ? mChildCount - 1 - layoutPosition : layoutPosition;\r\n        }\r\n    \r\n        public int convert2LayoutPosition(int adapterPostion) {\r\n            return mReverse ? mChildCount - 1 - adapterPostion : adapterPostion;\r\n        }\r\n    \r\n        public int getVerticalSpace() {\r\n            return getHeight() - getPaddingTop() - getPaddingBottom();\r\n        }\r\n    \r\n        public int getHorizontalSpace() {\r\n            return getWidth() - getPaddingLeft() - getPaddingRight();\r\n        }\r\n    \r\n        @Override\r\n        public PointF computeScrollVectorForPosition(int targetPosition) {\r\n            int pos = convert2LayoutPosition(targetPosition);\r\n            int scrollOffset = (pos + 1) * mChildSize[mOrientation];\r\n            return mOrientation == VERTICAL ? new PointF(0, Math.signum(scrollOffset - mScrollOffset))\r\n                    : new PointF(Math.signum(scrollOffset - mScrollOffset), 0);\r\n        }\r\n    \r\n        private static class ItemLayoutInfo {\r\n            float scaleXY;\r\n            float layoutPercent;\r\n            float positionOffsetPercent;\r\n            int start;\r\n            boolean isBottom;\r\n    \r\n            ItemLayoutInfo(int top, float scale, float positonOffset, float percent) {\r\n                this.start = top;\r\n                this.scaleXY = scale;\r\n                this.positionOffsetPercent = positonOffset;\r\n                this.layoutPercent = percent;\r\n            }\r\n    \r\n            ItemLayoutInfo setIsBottom() {\r\n                isBottom = true;\r\n                return this;\r\n            }\r\n    \r\n        }\r\n    \r\n    \r\n        @Override\r\n        public Parcelable onSaveInstanceState() {\r\n            SavedState savedState = new SavedState();\r\n            savedState.scrollOffset = mScrollOffset;\r\n            savedState.reverse = mReverse;\r\n            savedState.vanishOffset = mVanishOffset;\r\n            savedState.scale = mScale;\r\n            savedState.childLayoutOffsetInput = mChildPeekSizeInput;\r\n            savedState.itemHeightWidthRatio = mItemHeightWidthRatio;\r\n            savedState.orientation = mOrientation;\r\n            return savedState;\r\n        }\r\n    \r\n        @Override\r\n        public void onRestoreInstanceState(Parcelable state) {\r\n            if (state instanceof SavedState) {\r\n                SavedState s = (SavedState) state;\r\n                mScrollOffset = s.scrollOffset;\r\n                mReverse = s.reverse;\r\n                mVanishOffset = s.vanishOffset;\r\n                mScale = s.scale;\r\n                mChildPeekSizeInput = s.childLayoutOffsetInput;\r\n                mItemHeightWidthRatio = s.itemHeightWidthRatio;\r\n                mOrientation = s.orientation;\r\n                requestLayout();\r\n            }\r\n        }\r\n    \r\n        public static class SavedState implements Parcelable {\r\n    \r\n            int scrollOffset, childLayoutOffsetInput, orientation;\r\n            float itemHeightWidthRatio, scale, elevation, vanishOffset;\r\n            boolean reverse;\r\n    \r\n            public SavedState() {\r\n            }\r\n    \r\n            SavedState(LadderLayoutManager.SavedState other) {\r\n                scrollOffset = other.scrollOffset;\r\n                childLayoutOffsetInput = other.childLayoutOffsetInput;\r\n                orientation = other.orientation;\r\n                itemHeightWidthRatio = other.itemHeightWidthRatio;\r\n                scale = other.scale;\r\n                elevation = other.elevation;\r\n                vanishOffset = other.vanishOffset;\r\n                reverse = other.reverse;\r\n            }\r\n    \r\n            SavedState(Parcel in) {\r\n                scrollOffset = in.readInt();\r\n                childLayoutOffsetInput = in.readInt();\r\n                orientation = in.readInt();\r\n                itemHeightWidthRatio = in.readFloat();\r\n                scale = in.readFloat();\r\n                elevation = in.readFloat();\r\n                vanishOffset = in.readFloat();\r\n                reverse = in.readInt() == 1;\r\n            }\r\n    \r\n            @Override\r\n            public void writeToParcel(Parcel dest, int flags) {\r\n                dest.writeInt(scrollOffset);\r\n                dest.writeInt(childLayoutOffsetInput);\r\n                dest.writeInt(orientation);\r\n                dest.writeFloat(itemHeightWidthRatio);\r\n                dest.writeFloat(scale);\r\n                dest.writeFloat(elevation);\r\n                dest.writeFloat(vanishOffset);\r\n                dest.writeInt(reverse ? 1 : 0);\r\n            }\r\n    \r\n            @Override\r\n            public int describeContents() {\r\n                return 0;\r\n            }\r\n    \r\n            public static final Creator&lt;SavedState&gt; CREATOR\r\n                    = new Creator&lt;SavedState&gt;() {\r\n                @Override\r\n                public LadderLayoutManager.SavedState createFromParcel(Parcel in) {\r\n                    return new LadderLayoutManager.SavedState(in);\r\n                }\r\n    \r\n                @Override\r\n                public LadderLayoutManager.SavedState[] newArray(int size) {\r\n                    return new LadderLayoutManager.SavedState[size];\r\n                }\r\n            };\r\n        }\r\n    \r\n    \r\n        public interface ChildDecorateHelper {\r\n    \r\n            void decorateChild(View child, float posOffsetPercent, float layoutPercent, boolean isBottom);\r\n        }\r\n    \r\n        public static class DefaultChildDecorateHelper implements ChildDecorateHelper {\r\n            private float mElevation;\r\n    \r\n            public DefaultChildDecorateHelper(float maxElevation) {\r\n                mElevation = maxElevation;\r\n            }\r\n    \r\n            @Override\r\n            public void decorateChild(View child, float posOffsetPercent, float layoutPercent, boolean isBottom) {\r\n                ViewCompat.setElevation(child, (float) (layoutPercent * mElevation * 0.7 + mElevation * 0.3));\r\n            }\r\n        }\r\n    }\r\n\r\nHere is my code for snaphelper\r\n\r\n    public class LadderSimpleSnapHelper extends SnapHelper {\r\n        private int mDirection;\r\n        //int position = layoutManager.getPosition(centerView);\r\n        @Override\r\n        public int[] calculateDistanceToFinalSnap(\r\n                @NonNull RecyclerView.LayoutManager layoutManager, @NonNull View targetView) {\r\n    \r\n            if (layoutManager instanceof LadderLayoutManager) {\r\n                int[] out = new int[2];\r\n                if (layoutManager.canScrollHorizontally()) {\r\n                    out[0] = ((LadderLayoutManager) layoutManager).calculateDistanceToPosition(\r\n                            layoutManager.getPosition(targetView));\r\n                    out[1] = 0;\r\n                } else {\r\n                    out[0] = 0;\r\n                    out[1] = ((LadderLayoutManager) layoutManager).calculateDistanceToPosition(\r\n                            layoutManager.getPosition(targetView));\r\n                }\r\n                return out;\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public int findTargetSnapPosition(RecyclerView.LayoutManager layoutManager, int velocityX,\r\n                                          int velocityY) {\r\n            if (layoutManager.canScrollHorizontally()) {\r\n    \r\n                    mDirection = velocityX;\r\n                } else {\r\n                    mDirection = velocityY;\r\n                }\r\n            return RecyclerView.NO_POSITION;\r\n        }\r\n    \r\n        @Override\r\n        public View findSnapView(RecyclerView.LayoutManager layoutManager) {\r\n            if (layoutManager instanceof LadderLayoutManager) {\r\n                int pos = ((LadderLayoutManager) layoutManager).getFixedScrollPosition(\r\n                        mDirection, mDirection != 0 ? 0.8f : 0.5f);\r\n                mDirection = 0;\r\n                if (pos != RecyclerView.NO_POSITION) {\r\n                    return layoutManager.findViewByPosition(pos);\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/29134094/recyclerview-horizontal-scroll-snap-in-center\r\n  [2]: https://stackoverflow.com/questions/42878132/snaphelper-item-position","title":"RecyclerView horizontal scrolling to left","body":"<p>I'm making an app where I'm using <code>RecyclerView</code> with <code>SnapHelper</code> class to make a scrollable horizontal card stack. I have implemented that successfully however my problem is that the cards swipe to right direction and I want to swipe the cards on left direction.</p>\n<p>I did some research on Stack Overflow and found <a href=\"https://stackoverflow.com/questions/29134094/recyclerview-horizontal-scroll-snap-in-center\">1</a> and <a href=\"https://stackoverflow.com/questions/42878132/snaphelper-item-position\">2</a></p>\n<p>But I still couldn't figure out how to set the scrolling position to left instead of right.</p>\n<p>I also found that <code>FindSnapView</code> method passes the scroll position and direction maybe I'm wrong but below code might be the solution</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic View findSnapView(RecyclerView.LayoutManager layoutManager) {\n    if (layoutManager instanceof LadderLayoutManager) {\n        int pos = ((LadderLayoutManager) layoutManager)\n            .getFixedScrollPosition(mDirection, mDirection != 0 ? 0.8f : 0.5f);\n        mDirection = 0;\n        if (pos != RecyclerView.NO_POSITION) {\n            return layoutManager.findViewByPosition(pos);\n        }\n    }\n    return null;\n}\n</code></pre>\n<p>My main class</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    LadderLayoutManager llm;\n    RecyclerView rcv;\n    HSAdapter adapter;\n    int scrollToPosition;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        llm = new LadderLayoutManager(1.5f, 0.85f, LadderLayoutManager.HORIZONTAL).\n                setChildDecorateHelper(new LadderLayoutManager\n                        .DefaultChildDecorateHelper(getResources().getDimension(R.dimen.item_max_elevation)));\n        llm.setChildPeekSize((int) TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP,\n                30, getResources().getDisplayMetrics()));\n        llm.setMaxItemLayoutCount(5);\n\n        rcv = (RecyclerView) findViewById(R.id.rcv);\n        rcv.setLayoutManager(llm);\n\n        new LadderSimpleSnapHelper().attachToRecyclerView(rcv);\n        adapter = new HSAdapter();\n        rcv.setAdapter(adapter);\n\n        final SeekBar sb = (SeekBar) findViewById(R.id.sb);\n    }\n</code></pre>\n<p>My code for custom LayoutManager</p>\n<pre><code>public class LadderLayoutManager extends RecyclerView.LayoutManager implements RecyclerView.SmoothScroller.ScrollVectorProvider {\n    private static final int INVALIDATE_SCROLL_OFFSET = Integer.MAX_VALUE;\n    private static final float DEFAULT_CHILD_LAYOUT_OFFSET = 0.2f;\n    public static final int UNLIMITED = 0;\n    public static final int VERTICAL = 1;\n    public static final int HORIZONTAL = 0;\n    private boolean mCheckedChildSize;\n    private int[] mChildSize;\n    private int mChildPeekSize;\n    private int mChildPeekSizeInput;\n    private boolean mReverse;\n    private int mScrollOffset = INVALIDATE_SCROLL_OFFSET;\n    private float mItemHeightWidthRatio;\n    private float mScale;\n    private int mChildCount;\n    private float mVanishOffset = 0;\n    private Interpolator mInterpolator;\n    private int mOrientation;\n    private ChildDecorateHelper mDecorateHelper;\n    private int mMaxItemLayoutCount;\n\n    public LadderLayoutManager(float itemHeightWidthRatio) {\n        this(itemHeightWidthRatio, 0.9f, VERTICAL);\n    }\n\n\n    public LadderLayoutManager(float itemHeightWidthRatio, float scale, int orientation) {\n        this.mItemHeightWidthRatio = itemHeightWidthRatio;\n        this.mOrientation = orientation;\n        this.mScale = scale;\n        this.mChildSize = new int[2];\n        this.mInterpolator = new DecelerateInterpolator();\n    }\n\n    @Override\n    public RecyclerView.LayoutParams generateDefaultLayoutParams() {\n        return new RecyclerView.LayoutParams(mChildSize[0], mChildSize[1]);\n    }\n\n    public LadderLayoutManager setChildDecorateHelper(ChildDecorateHelper layoutHelper) {\n        mDecorateHelper = layoutHelper;\n        return this;\n    }\n\n    public void setMaxItemLayoutCount(int count) {\n        mMaxItemLayoutCount = Math.max(2, count);\n        if (getChildCount() &gt; 0) {\n            requestLayout();\n        }\n    }\n\n\n    public void setVanishOffset(float offset) {\n        mVanishOffset = offset;\n        if (getChildCount() &gt; 0) {\n            requestLayout();\n        }\n    }\n\n\n    public void setChildPeekSize(int childPeekSize) {\n        mChildPeekSizeInput = childPeekSize;\n        mCheckedChildSize = false;\n        if (getChildCount() &gt; 0) {\n            requestLayout();\n        }\n    }\n\n\n    public void setItemHeightWidthRatio(float itemHeightWidthRatio) {\n        mItemHeightWidthRatio = itemHeightWidthRatio;\n        mCheckedChildSize = false;\n        if (getChildCount() &gt; 0) {\n            requestLayout();\n        }\n    }\n\n\n    public void setReverse(boolean reverse) {\n        if (mReverse != reverse) {\n            mReverse = reverse;\n            if (getChildCount() &gt; 0) {\n                requestLayout();\n            }\n        }\n    }\n\n    public boolean isReverse() {\n        return mReverse;\n    }\n\n\n\n    public int getFixedScrollPosition(int direction, float fixValue) {\n        if (mCheckedChildSize) {\n            if (mScrollOffset % mChildSize[mOrientation] == 0) {\n                return RecyclerView.NO_POSITION;\n            }\n            float position = mScrollOffset * 1.0f / mChildSize[mOrientation];\n            return convert2AdapterPosition((int) (direction &gt; 0 ? position + fixValue : position + (1 - fixValue)) - 1);\n        }\n        return RecyclerView.NO_POSITION;\n    }\n\n\n    @Override\n    public void onMeasure(RecyclerView.Recycler recycler, RecyclerView.State state, int widthSpec, int heightSpec) {\n        super.onMeasure(recycler, state, widthSpec, heightSpec);\n        mCheckedChildSize = false;\n    }\n\n    @Override\n    public void onLayoutChildren(RecyclerView.Recycler recycler, RecyclerView.State state) {\n        if (state.getItemCount() == 0) {\n            removeAndRecycleAllViews(recycler);\n            return;\n        }\n        if (!mCheckedChildSize) {\n            if (mOrientation == VERTICAL) {\n                mChildSize[0] = getHorizontalSpace();\n                mChildSize[1] = (int) (mItemHeightWidthRatio * mChildSize[0]);\n            } else {\n                mChildSize[1] = getVerticalSpace();\n                mChildSize[0] = (int) (mChildSize[1] / mItemHeightWidthRatio);\n            }\n            mChildPeekSize = mChildPeekSizeInput == 0 ?\n                    (int) (mChildSize[mOrientation] * DEFAULT_CHILD_LAYOUT_OFFSET) : mChildPeekSizeInput;\n            mCheckedChildSize = true;\n        }\n        int itemCount = getItemCount();\n        if (mReverse) {\n            mScrollOffset += (itemCount - mChildCount) * mChildSize[mOrientation];\n        }\n        mChildCount = itemCount;\n        mScrollOffset = makeScrollOffsetWithinRange(mScrollOffset);\n        fill(recycler);\n    }\n\n    public void fill(RecyclerView.Recycler recycler) {\n        int bottomItemPosition = (int) Math.floor(mScrollOffset / mChildSize[mOrientation]);//&gt;=1\n        int bottomItemVisibleSize = mScrollOffset % mChildSize[mOrientation];\n        final float offsetPercent = mInterpolator.getInterpolation(\n                bottomItemVisibleSize * 1.0f / mChildSize[mOrientation]);//[0,1)\n        final int space = mOrientation == VERTICAL ? getVerticalSpace() : getHorizontalSpace();\n\n        ArrayList&lt;ItemLayoutInfo&gt; layoutInfos = new ArrayList&lt;&gt;();\n        for (int i = bottomItemPosition - 1, j = 1, remainSpace = space - mChildSize[mOrientation];\n             i &gt;= 0; i--, j++) {\n            double maxOffset = mChildPeekSize * Math.pow(mScale, j);\n            int start = (int) (remainSpace - offsetPercent * maxOffset);\n            ItemLayoutInfo info = new ItemLayoutInfo(start,\n                    (float) (Math.pow(mScale, j - 1) * (1 - offsetPercent * (1 - mScale))),\n                    offsetPercent,\n                    start * 1.0f / space\n            );\n            layoutInfos.add(0, info);\n\n            if (mMaxItemLayoutCount != UNLIMITED &amp;&amp; j == mMaxItemLayoutCount - 1) {\n                if (offsetPercent != 0) {\n                    info.start = remainSpace;\n                    info.positionOffsetPercent = 0;\n                    info.layoutPercent = remainSpace / space;\n                    info.scaleXY = (float) Math.pow(mScale, j - 1);\n                }\n                break;\n            }\n            remainSpace -= maxOffset;\n            if (remainSpace &lt;= 0) {\n                info.start = (int) (remainSpace + maxOffset);\n                info.positionOffsetPercent = 0;\n                info.layoutPercent = info.start / space;\n                info.scaleXY = (float) Math.pow(mScale, j - 1);\n                break;\n            }\n        }\n\n        if (bottomItemPosition &lt; mChildCount) {\n            final int start = space - bottomItemVisibleSize;\n            layoutInfos.add(new ItemLayoutInfo(start, 1.0f,\n                    bottomItemVisibleSize * 1.0f / mChildSize[mOrientation], start * 1.0f / space).\n                    setIsBottom());\n        } else {\n            bottomItemPosition -= 1;\n        }\n\n        int layoutCount = layoutInfos.size();\n\n        final int startPos = bottomItemPosition - (layoutCount - 1);\n        final int endPos = bottomItemPosition;\n        final int childCount = getChildCount();\n        for (int i = childCount - 1; i &gt;= 0; i--) {\n            View childView = getChildAt(i);\n            int pos = convert2LayoutPosition(getPosition(childView));\n            if (pos &gt; endPos || pos &lt; startPos) {\n                removeAndRecycleView(childView, recycler);\n            }\n        }\n        detachAndScrapAttachedViews(recycler);\n\n        for (int i = 0; i &lt; layoutCount; i++) {\n            fillChild(recycler.getViewForPosition(convert2AdapterPosition(startPos + i)), layoutInfos.get(i));\n        }\n    }\n\n    private void fillChild(View view, ItemLayoutInfo layoutInfo) {\n        addView(view);\n        measureChildWithExactlySize(view);\n        final int scaleFix = (int) (mChildSize[mOrientation] * (1 - layoutInfo.scaleXY) / 2);\n        final float gap = (mOrientation == VERTICAL ? getHorizontalSpace() : getVerticalSpace())\n                - mChildSize[(mOrientation + 1) % 2] * layoutInfo.scaleXY;\n\n        if (mOrientation == VERTICAL) {\n            int left = (int) (getPaddingLeft() + (gap * 0.5 * mVanishOffset));\n            layoutDecoratedWithMargins(view, left, layoutInfo.start - scaleFix\n                    , left + mChildSize[0], layoutInfo.start + mChildSize[1] - scaleFix);\n        } else {\n            int top = (int) (getPaddingTop() + (gap * 0.5 * mVanishOffset));\n            layoutDecoratedWithMargins(view, layoutInfo.start - scaleFix, top\n                    , layoutInfo.start + mChildSize[0] - scaleFix, top + mChildSize[1]);\n        }\n        ViewCompat.setScaleX(view, layoutInfo.scaleXY);\n        ViewCompat.setScaleY(view, layoutInfo.scaleXY);\n        if (mDecorateHelper != null) {\n            mDecorateHelper.decorateChild(view, layoutInfo.positionOffsetPercent, layoutInfo.layoutPercent, layoutInfo.isBottom);\n        }\n    }\n\n    private void measureChildWithExactlySize(View child) {\n        RecyclerView.LayoutParams lp = (RecyclerView.LayoutParams) child.getLayoutParams();\n        final int widthSpec = View.MeasureSpec.makeMeasureSpec(\n                mChildSize[0] - lp.leftMargin - lp.rightMargin, View.MeasureSpec.EXACTLY);\n        final int heightSpec = View.MeasureSpec.makeMeasureSpec(\n                mChildSize[1] - lp.topMargin - lp.bottomMargin, View.MeasureSpec.EXACTLY);\n        child.measure(widthSpec, heightSpec);\n    }\n\n    private int makeScrollOffsetWithinRange(int scrollOffset) {\n        return Math.min(Math.max(mChildSize[mOrientation], scrollOffset), mChildCount * mChildSize[mOrientation]);\n    }\n\n\n    @Override\n    public int scrollVerticallyBy(int dy, RecyclerView.Recycler recycler, RecyclerView.State state) {\n        int pendingScrollOffset = mScrollOffset + dy;\n        mScrollOffset = makeScrollOffsetWithinRange(pendingScrollOffset);\n        fill(recycler);\n        return mScrollOffset - pendingScrollOffset + dy;\n    }\n\n    @Override\n    public int scrollHorizontallyBy(int dx, RecyclerView.Recycler recycler, RecyclerView.State state) {\n        int pendingScrollOffset = mScrollOffset + dx;\n        mScrollOffset = makeScrollOffsetWithinRange(pendingScrollOffset);\n        fill(recycler);\n        return mScrollOffset - pendingScrollOffset + dx;\n    }\n\n    @Override\n    public void smoothScrollToPosition(RecyclerView recyclerView, RecyclerView.State state, int position) {\n        final LinearSmoothScroller linearSmoothScroller = new LinearSmoothScroller(recyclerView.getContext()) {\n            @Override\n            public int calculateDyToMakeVisible(final View view, final int snapPreference) {\n                if (mOrientation == VERTICAL) {\n                    return -calculateDistanceToPosition(getPosition(view));\n                }\n                return 0;\n            }\n\n            @Override\n            public int calculateDxToMakeVisible(final View view, final int snapPreference) {\n                if (mOrientation == HORIZONTAL) {\n                    return -calculateDistanceToPosition(getPosition(view));\n                }\n                return 0;\n            }\n        };\n        linearSmoothScroller.setTargetPosition(position);\n        startSmoothScroll(linearSmoothScroller);\n    }\n\n\n    public int calculateDistanceToPosition(int targetPos) {\n        int pendingScrollOffset = mChildSize[mOrientation] * (convert2LayoutPosition(targetPos) + 1);\n        return pendingScrollOffset - mScrollOffset;\n    }\n\n\n    @Override\n    public void scrollToPosition(int position) {\n        if (position &gt; 0 &amp;&amp; position &lt; mChildCount) {\n            mScrollOffset = mChildSize[mOrientation] * (convert2LayoutPosition(position) + 1);\n            requestLayout();\n        }\n    }\n\n\n    @Override\n    public boolean canScrollVertically() {\n        return mOrientation == VERTICAL;\n    }\n\n    @Override\n    public boolean canScrollHorizontally() {\n        return mOrientation == HORIZONTAL;\n    }\n\n    public int convert2AdapterPosition(int layoutPosition) {\n        return mReverse ? mChildCount - 1 - layoutPosition : layoutPosition;\n    }\n\n    public int convert2LayoutPosition(int adapterPostion) {\n        return mReverse ? mChildCount - 1 - adapterPostion : adapterPostion;\n    }\n\n    public int getVerticalSpace() {\n        return getHeight() - getPaddingTop() - getPaddingBottom();\n    }\n\n    public int getHorizontalSpace() {\n        return getWidth() - getPaddingLeft() - getPaddingRight();\n    }\n\n    @Override\n    public PointF computeScrollVectorForPosition(int targetPosition) {\n        int pos = convert2LayoutPosition(targetPosition);\n        int scrollOffset = (pos + 1) * mChildSize[mOrientation];\n        return mOrientation == VERTICAL ? new PointF(0, Math.signum(scrollOffset - mScrollOffset))\n                : new PointF(Math.signum(scrollOffset - mScrollOffset), 0);\n    }\n\n    private static class ItemLayoutInfo {\n        float scaleXY;\n        float layoutPercent;\n        float positionOffsetPercent;\n        int start;\n        boolean isBottom;\n\n        ItemLayoutInfo(int top, float scale, float positonOffset, float percent) {\n            this.start = top;\n            this.scaleXY = scale;\n            this.positionOffsetPercent = positonOffset;\n            this.layoutPercent = percent;\n        }\n\n        ItemLayoutInfo setIsBottom() {\n            isBottom = true;\n            return this;\n        }\n\n    }\n\n\n    @Override\n    public Parcelable onSaveInstanceState() {\n        SavedState savedState = new SavedState();\n        savedState.scrollOffset = mScrollOffset;\n        savedState.reverse = mReverse;\n        savedState.vanishOffset = mVanishOffset;\n        savedState.scale = mScale;\n        savedState.childLayoutOffsetInput = mChildPeekSizeInput;\n        savedState.itemHeightWidthRatio = mItemHeightWidthRatio;\n        savedState.orientation = mOrientation;\n        return savedState;\n    }\n\n    @Override\n    public void onRestoreInstanceState(Parcelable state) {\n        if (state instanceof SavedState) {\n            SavedState s = (SavedState) state;\n            mScrollOffset = s.scrollOffset;\n            mReverse = s.reverse;\n            mVanishOffset = s.vanishOffset;\n            mScale = s.scale;\n            mChildPeekSizeInput = s.childLayoutOffsetInput;\n            mItemHeightWidthRatio = s.itemHeightWidthRatio;\n            mOrientation = s.orientation;\n            requestLayout();\n        }\n    }\n\n    public static class SavedState implements Parcelable {\n\n        int scrollOffset, childLayoutOffsetInput, orientation;\n        float itemHeightWidthRatio, scale, elevation, vanishOffset;\n        boolean reverse;\n\n        public SavedState() {\n        }\n\n        SavedState(LadderLayoutManager.SavedState other) {\n            scrollOffset = other.scrollOffset;\n            childLayoutOffsetInput = other.childLayoutOffsetInput;\n            orientation = other.orientation;\n            itemHeightWidthRatio = other.itemHeightWidthRatio;\n            scale = other.scale;\n            elevation = other.elevation;\n            vanishOffset = other.vanishOffset;\n            reverse = other.reverse;\n        }\n\n        SavedState(Parcel in) {\n            scrollOffset = in.readInt();\n            childLayoutOffsetInput = in.readInt();\n            orientation = in.readInt();\n            itemHeightWidthRatio = in.readFloat();\n            scale = in.readFloat();\n            elevation = in.readFloat();\n            vanishOffset = in.readFloat();\n            reverse = in.readInt() == 1;\n        }\n\n        @Override\n        public void writeToParcel(Parcel dest, int flags) {\n            dest.writeInt(scrollOffset);\n            dest.writeInt(childLayoutOffsetInput);\n            dest.writeInt(orientation);\n            dest.writeFloat(itemHeightWidthRatio);\n            dest.writeFloat(scale);\n            dest.writeFloat(elevation);\n            dest.writeFloat(vanishOffset);\n            dest.writeInt(reverse ? 1 : 0);\n        }\n\n        @Override\n        public int describeContents() {\n            return 0;\n        }\n\n        public static final Creator&lt;SavedState&gt; CREATOR\n                = new Creator&lt;SavedState&gt;() {\n            @Override\n            public LadderLayoutManager.SavedState createFromParcel(Parcel in) {\n                return new LadderLayoutManager.SavedState(in);\n            }\n\n            @Override\n            public LadderLayoutManager.SavedState[] newArray(int size) {\n                return new LadderLayoutManager.SavedState[size];\n            }\n        };\n    }\n\n\n    public interface ChildDecorateHelper {\n\n        void decorateChild(View child, float posOffsetPercent, float layoutPercent, boolean isBottom);\n    }\n\n    public static class DefaultChildDecorateHelper implements ChildDecorateHelper {\n        private float mElevation;\n\n        public DefaultChildDecorateHelper(float maxElevation) {\n            mElevation = maxElevation;\n        }\n\n        @Override\n        public void decorateChild(View child, float posOffsetPercent, float layoutPercent, boolean isBottom) {\n            ViewCompat.setElevation(child, (float) (layoutPercent * mElevation * 0.7 + mElevation * 0.3));\n        }\n    }\n}\n</code></pre>\n<p>Here is my code for snaphelper</p>\n<pre><code>public class LadderSimpleSnapHelper extends SnapHelper {\n    private int mDirection;\n    //int position = layoutManager.getPosition(centerView);\n    @Override\n    public int[] calculateDistanceToFinalSnap(\n            @NonNull RecyclerView.LayoutManager layoutManager, @NonNull View targetView) {\n\n        if (layoutManager instanceof LadderLayoutManager) {\n            int[] out = new int[2];\n            if (layoutManager.canScrollHorizontally()) {\n                out[0] = ((LadderLayoutManager) layoutManager).calculateDistanceToPosition(\n                        layoutManager.getPosition(targetView));\n                out[1] = 0;\n            } else {\n                out[0] = 0;\n                out[1] = ((LadderLayoutManager) layoutManager).calculateDistanceToPosition(\n                        layoutManager.getPosition(targetView));\n            }\n            return out;\n        }\n        return null;\n    }\n\n    @Override\n    public int findTargetSnapPosition(RecyclerView.LayoutManager layoutManager, int velocityX,\n                                      int velocityY) {\n        if (layoutManager.canScrollHorizontally()) {\n\n                mDirection = velocityX;\n            } else {\n                mDirection = velocityY;\n            }\n        return RecyclerView.NO_POSITION;\n    }\n\n    @Override\n    public View findSnapView(RecyclerView.LayoutManager layoutManager) {\n        if (layoutManager instanceof LadderLayoutManager) {\n            int pos = ((LadderLayoutManager) layoutManager).getFixedScrollPosition(\n                    mDirection, mDirection != 0 ? 0.8f : 0.5f);\n            mDirection = 0;\n            if (pos != RecyclerView.NO_POSITION) {\n                return layoutManager.findViewByPosition(pos);\n            }\n        }\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":["java","gradle","java-19","project-loom"],"answers":[{"comments":[{"owner":{"account_id":8661996,"reputation":81,"user_id":6483989,"display_name":"Manoj Baishya"},"score":0,"creation_date":1671416569,"post_id":74311121,"comment_id":132088100,"body_markdown":"The link to the working example leads to a missing GitHub page.","body":"The link to the working example leads to a missing GitHub page."},{"owner":{"account_id":7332,"reputation":23983,"user_id":12704,"accept_rate":75,"display_name":"Michael Easter"},"score":0,"creation_date":1677718614,"post_id":74311121,"comment_id":133395524,"body_markdown":"Link is fixed now: apologies for inconvenience.","body":"Link is fixed now: apologies for inconvenience."}],"tags":[],"owner":{"account_id":7332,"reputation":23983,"user_id":12704,"accept_rate":75,"display_name":"Michael Easter"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1673794604,"creation_date":1667524200,"answer_id":74311121,"question_id":74311120,"body_markdown":"Consider this `build.gradle` file:\r\n\r\n```\r\napply plugin: &#39;java&#39;\r\napply plugin: &#39;application&#39;\r\n\r\nmainClassName = &quot;net.codetojoy.Runner&quot;\r\n\r\ncompileJava {\r\n    options.compilerArgs.addAll([&#39;--release&#39;, &#39;19&#39;]) \r\n    options.compilerArgs.addAll([&#39;--enable-preview&#39;])\r\n    options.compilerArgs.addAll([&#39;--add-modules&#39;, &#39;jdk.incubator.concurrent&#39;])\r\n}\r\n\r\napplication {\r\n    applicationDefaultJvmArgs = [&#39;--enable-preview&#39;, \r\n                                 &#39;--add-modules&#39;, &#39;jdk.incubator.concurrent&#39;]\r\n}\r\n```\r\n[Here](https://github.com/codetojoy/easter_eggs_for_gradle/tree/main/egg_JDK19_Preview) is a working example, which uses the Gradle wrapper for 7.6-rc-1, and illustrates structured concurrency.","title":"Java 19 preview, incubator features with Gradle","body":"<p>Consider this <code>build.gradle</code> file:</p>\n<pre><code>apply plugin: 'java'\napply plugin: 'application'\n\nmainClassName = &quot;net.codetojoy.Runner&quot;\n\ncompileJava {\n    options.compilerArgs.addAll(['--release', '19']) \n    options.compilerArgs.addAll(['--enable-preview'])\n    options.compilerArgs.addAll(['--add-modules', 'jdk.incubator.concurrent'])\n}\n\napplication {\n    applicationDefaultJvmArgs = ['--enable-preview', \n                                 '--add-modules', 'jdk.incubator.concurrent']\n}\n</code></pre>\n<p><a href=\"https://github.com/codetojoy/easter_eggs_for_gradle/tree/main/egg_JDK19_Preview\" rel=\"nofollow noreferrer\">Here</a> is a working example, which uses the Gradle wrapper for 7.6-rc-1, and illustrates structured concurrency.</p>\n"}],"owner":{"account_id":7332,"reputation":23983,"user_id":12704,"accept_rate":75,"display_name":"Michael Easter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1146,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1667527800,"answer_count":1,"score":2,"last_activity_date":1682417644,"creation_date":1667524200,"question_id":74311120,"body_markdown":"Java 19 has new features: virtual threads (as preview) and structured concurrency (as incubator). Gradle 7.6 will support Java 19. Given that 7.6-rc-1 is available, how can I try out these new features? I have working Bash scripts like the following:\r\n\r\ncompile:\r\n\r\n```bash\r\njavac --release 19 --enable-preview \\\r\n--add-modules jdk.incubator.concurrent \\\r\n-cp $CLASSPATH \\\r\n[snip]\r\n```\r\n\r\nrun:\r\n\r\n```bash\r\njava --enable-preview \\\r\n-cp $CLASSPATH \\\r\n--add-modules jdk.incubator.concurrent \\\r\nnet.codetojoy.Runner\r\n```\r\n\r\nHow are these flags translated into Gradle?","title":"Java 19 preview, incubator features with Gradle","body":"<p>Java 19 has new features: virtual threads (as preview) and structured concurrency (as incubator). Gradle 7.6 will support Java 19. Given that 7.6-rc-1 is available, how can I try out these new features? I have working Bash scripts like the following:</p>\n<p>compile:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>javac --release 19 --enable-preview \\\n--add-modules jdk.incubator.concurrent \\\n-cp $CLASSPATH \\\n[snip]\n</code></pre>\n<p>run:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java --enable-preview \\\n-cp $CLASSPATH \\\n--add-modules jdk.incubator.concurrent \\\nnet.codetojoy.Runner\n</code></pre>\n<p>How are these flags translated into Gradle?</p>\n"},{"tags":["java","spring-boot","elasticsearch"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1651359093,"post_id":72067448,"comment_id":127347056,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/72067448/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":25152939,"reputation":57,"user_id":18998077,"display_name":"Aditya K"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651312648,"creation_date":1651312648,"answer_id":72067448,"question_id":72067303,"body_markdown":"I tried this and it worked as expected.\r\nIterate using a loop and create a terms query in each iteration and call should(termsQuery) in each iteration. ","title":"Terms query in java spring boot","body":"<p>I tried this and it worked as expected.\nIterate using a loop and create a terms query in each iteration and call should(termsQuery) in each iteration.</p>\n"},{"tags":[],"owner":{"account_id":6347349,"reputation":1,"user_id":4927455,"display_name":"Nirbhay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652188815,"creation_date":1652187491,"answer_id":72186769,"question_id":72067303,"body_markdown":"We can add multiple terms in single should clause by using below code \r\n      \r\n    BoolQueryBuilder query = boolQuery()\r\n                .should(termQuery(&quot;segment_status.nse_status&quot;, new int[]{2,3}).boost(1f))\r\n                .should(termQuery(&quot;segment_status.pml_status&quot;, new int[]{2,3}).boost(1f));\r\n","title":"Terms query in java spring boot","body":"<p>We can add multiple terms in single should clause by using below code</p>\n<pre><code>BoolQueryBuilder query = boolQuery()\n            .should(termQuery(&quot;segment_status.nse_status&quot;, new int[]{2,3}).boost(1f))\n            .should(termQuery(&quot;segment_status.pml_status&quot;, new int[]{2,3}).boost(1f));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23110141,"reputation":1,"user_id":17218198,"display_name":"Akshay Kamble"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682417609,"creation_date":1682149952,"answer_id":76078574,"question_id":72067303,"body_markdown":"```java\r\nSearchSourceBuilder sourceBuilder = new SearchSourceBuilder();\r\nTermsQueryBuilder nseStatusQueryBuilder = QueryBuilders.termsQuery(&quot;segment_status.nse_status&quot;, 2, 3);\r\nTermsQueryBuilder pmlStatusQueryBuilder = QueryBuilders.termsQuery(&quot;segment_status.pml_status&quot;, 2, 3);\r\n\r\nsourceBuilder.query(QueryBuilders.boolQuery().should(nseStatusQueryBuilder).should(pmlStatusQueryBuilder));\r\nelasticsearchTemplate.search(new NativeSearchQueryBuilder().withSource(sourceBuilder).build(), YourDocument.class);\r\n```\r\nHere we created two terms query using `TermsQueryBuilder` and then using `boolQuery` and should method attached those query to should.\r\n\r\n\r\n\r\n \r\n \r\n ","title":"Terms query in java spring boot","body":"<pre class=\"lang-java prettyprint-override\"><code>SearchSourceBuilder sourceBuilder = new SearchSourceBuilder();\nTermsQueryBuilder nseStatusQueryBuilder = QueryBuilders.termsQuery(&quot;segment_status.nse_status&quot;, 2, 3);\nTermsQueryBuilder pmlStatusQueryBuilder = QueryBuilders.termsQuery(&quot;segment_status.pml_status&quot;, 2, 3);\n\nsourceBuilder.query(QueryBuilders.boolQuery().should(nseStatusQueryBuilder).should(pmlStatusQueryBuilder));\nelasticsearchTemplate.search(new NativeSearchQueryBuilder().withSource(sourceBuilder).build(), YourDocument.class);\n</code></pre>\n<p>Here we created two terms query using <code>TermsQueryBuilder</code> and then using <code>boolQuery</code> and should method attached those query to should.</p>\n"}],"owner":{"account_id":25152939,"reputation":57,"user_id":18998077,"display_name":"Aditya K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1682417609,"creation_date":1651311408,"question_id":72067303,"body_markdown":"I&#39;m trying to add terms in the should clause of ES query in java spring boot. I need it to look like this: \r\n```\r\n&quot;should&quot;: [\r\n    {\r\n      &quot;terms&quot;: {\r\n        &quot;segment_status.nse_status&quot;: [\r\n          2,\r\n          3\r\n        ],\r\n        &quot;boost&quot;: 1\r\n      }\r\n    },\r\n    {\r\n      &quot;terms&quot;: {\r\n        &quot;segment_status.pml_status&quot;: [\r\n          2,\r\n          3\r\n        ],\r\n        &quot;boost&quot;: 1\r\n      }\r\n    }\r\n  ]\r\n```\r\nI&#39;m able to add only one terms condition for each should clause, but I need to append multiple terms in the same should clause. My code currently: \r\n```\r\nTermsQueryBuilder termsQuery = termsQuery(SEGMENT_STATUS + DOT + &quot;bse_status&quot;, failedUserStatues);\r\nBoolQueryBuilder includeCriteria = boolQuery();\r\nincludeCriteria.should(termsQuery);\r\nNestedQueryBuilder nestedQueryForCriteria = nestedQuery(SEGMENT_STATUS, includeCriteria, ScoreMode.Avg);\r\nsearchQuery.must(nestedQueryForCriteria);\r\n```\r\n\r\nI&#39;m using spring boot and ES version 6.4","title":"Terms query in java spring boot","body":"<p>I'm trying to add terms in the should clause of ES query in java spring boot. I need it to look like this:</p>\n<pre><code>&quot;should&quot;: [\n    {\n      &quot;terms&quot;: {\n        &quot;segment_status.nse_status&quot;: [\n          2,\n          3\n        ],\n        &quot;boost&quot;: 1\n      }\n    },\n    {\n      &quot;terms&quot;: {\n        &quot;segment_status.pml_status&quot;: [\n          2,\n          3\n        ],\n        &quot;boost&quot;: 1\n      }\n    }\n  ]\n</code></pre>\n<p>I'm able to add only one terms condition for each should clause, but I need to append multiple terms in the same should clause. My code currently:</p>\n<pre><code>TermsQueryBuilder termsQuery = termsQuery(SEGMENT_STATUS + DOT + &quot;bse_status&quot;, failedUserStatues);\nBoolQueryBuilder includeCriteria = boolQuery();\nincludeCriteria.should(termsQuery);\nNestedQueryBuilder nestedQueryForCriteria = nestedQuery(SEGMENT_STATUS, includeCriteria, ScoreMode.Avg);\nsearchQuery.must(nestedQueryForCriteria);\n</code></pre>\n<p>I'm using spring boot and ES version 6.4</p>\n"},{"tags":["java","java-19","structured-concurrency"],"answers":[{"comments":[{"owner":{"account_id":477949,"reputation":5606,"user_id":889742,"accept_rate":28,"display_name":"Gonen I"},"score":0,"creation_date":1668620392,"post_id":74464753,"comment_id":131451852,"body_markdown":"So for example override shutdown() to set a boolean wasShutdown?","body":"So for example override shutdown() to set a boolean wasShutdown?"}],"tags":[],"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668619709,"creation_date":1668619709,"answer_id":74464753,"question_id":74464598,"body_markdown":"SUGGESTION: Encapsulate the functionality you need in a subclass.  \r\n\r\nFrom the Incubator documentation:\r\n\r\n&gt; https://download.java.net/java/early_access/loom/docs/api/jdk.incubator.concurrent/jdk/incubator/concurrent/StructuredTaskScope.html\r\n&gt; \r\n&gt; **Extending StructuredTaskScope**\r\n&gt; \r\n&gt; StructuredTaskScope can be extended, and the handleComplete\r\n&gt; overridden, to implement policies other than those implemented by\r\n&gt; ShutdownOnSuccess and ShutdownOnFailure. The method may be overridden\r\n&gt; to, for example, collect the results of subtasks that complete with a\r\n&gt; result and ignore subtasks that fail. It may collect exceptions when\r\n&gt; subtasks fail. It may invoke the shutdown method to shut down and\r\n&gt; cause join to wakeup when some condition arises.\r\n&gt; \r\n&gt; A subclass will typically define methods to make available results,\r\n&gt; state, or other outcome to code that executes after the join method. A\r\n&gt; subclass that collects results and ignores subtasks that fail may\r\n&gt; define a method that returns a collection of results. A subclass that\r\n&gt; implements a policy to shut down when a subtask fails may define a\r\n&gt; method to retrieve the exception of the first subtask to fail.\r\n\r\n","title":"How can I know if a Java 19 Structured Concurrency StructuredTaskScope is shutdown ( canceled )?","body":"<p>SUGGESTION: Encapsulate the functionality you need in a subclass.</p>\n<p>From the Incubator documentation:</p>\n<blockquote>\n<p><a href=\"https://download.java.net/java/early_access/loom/docs/api/jdk.incubator.concurrent/jdk/incubator/concurrent/StructuredTaskScope.html\" rel=\"nofollow noreferrer\">https://download.java.net/java/early_access/loom/docs/api/jdk.incubator.concurrent/jdk/incubator/concurrent/StructuredTaskScope.html</a></p>\n<p><strong>Extending StructuredTaskScope</strong></p>\n<p>StructuredTaskScope can be extended, and the handleComplete\noverridden, to implement policies other than those implemented by\nShutdownOnSuccess and ShutdownOnFailure. The method may be overridden\nto, for example, collect the results of subtasks that complete with a\nresult and ignore subtasks that fail. It may collect exceptions when\nsubtasks fail. It may invoke the shutdown method to shut down and\ncause join to wakeup when some condition arises.</p>\n<p>A subclass will typically define methods to make available results,\nstate, or other outcome to code that executes after the join method. A\nsubclass that collects results and ignores subtasks that fail may\ndefine a method that returns a collection of results. A subclass that\nimplements a policy to shut down when a subtask fails may define a\nmethod to retrieve the exception of the first subtask to fail.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":477949,"reputation":5606,"user_id":889742,"accept_rate":28,"display_name":"Gonen I"},"score":0,"creation_date":1669217834,"post_id":74547554,"comment_id":131595569,"body_markdown":"Yes, I realized that any of the resultNows would throw an exception.  I think since a scope can be shutdown as a unit there is merit in an imperative interrogation to weather it was canceled before encountering exception logic.","body":"Yes, I realized that any of the resultNows would throw an exception.  I think since a scope can be shutdown as a unit there is merit in an imperative interrogation to weather it was canceled before encountering exception logic."}],"tags":[],"owner":{"account_id":7332,"reputation":23983,"user_id":12704,"accept_rate":75,"display_name":"Michael Easter"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669210064,"creation_date":1669210064,"answer_id":74547554,"question_id":74464598,"body_markdown":"Working code (as an experiment) located [here](https://github.com/codetojoy/easter_eggs_for_java_loom/tree/main/egg_StackOverflow_74464598).\r\n\r\nGiven this:\r\n\r\n```\r\nvar result = &quot;error&quot;;\r\n\r\ntry (var scope = new StructuredTaskScope.ShutdownOnFailure()) {\r\n     var numOrders = scope.fork(() -&gt; taskGetNumItemsFromRequest()); \r\n     var price = scope.fork(() -&gt; taskGetPriceFromDB());\r\n\r\n    if (doShutdown) {\r\n        scope.shutdown();\r\n    }\r\n            \r\n    scope.join();          \r\n    scope.throwIfFailed();\r\n\r\n    result = numOrders.resultNow() + &quot; &quot; + price.resultNow();\r\n} catch (Exception ex) {\r\n    if (ex != null) {\r\n        System.err.println(&quot;caught ex: &quot; + ex.getClass());\r\n        System.err.println(&quot;caught ex message: &quot; + ex.getMessage());\r\n    }\r\n}\r\n```\r\n\r\nthen this line:\r\n\r\n```\r\n    result = numOrders.resultNow() + &quot; &quot; + price.resultNow();\r\n```\r\n\r\nwill throw an Exception if the scope is shutdown. [See the code](https://github.com/openjdk/jdk19/blob/master/src/java.base/share/classes/java/util/concurrent/Future.java) for `Future.resultNow()`.\r\n\r\nIt&#39;s unclear if you want to distinguish between other exception cases, such as *closing* the scope, or an exception thrown by a subtask? If you do want to distinguish, it would help to explain the reason in the question (i.e. the ultimate goal).\r\n\r\nIn general, there should be two paths: the happy-path for `result` and then a path of an exception being thrown (for whatever reason). \r\n","title":"How can I know if a Java 19 Structured Concurrency StructuredTaskScope is shutdown ( canceled )?","body":"<p>Working code (as an experiment) located <a href=\"https://github.com/codetojoy/easter_eggs_for_java_loom/tree/main/egg_StackOverflow_74464598\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Given this:</p>\n<pre><code>var result = &quot;error&quot;;\n\ntry (var scope = new StructuredTaskScope.ShutdownOnFailure()) {\n     var numOrders = scope.fork(() -&gt; taskGetNumItemsFromRequest()); \n     var price = scope.fork(() -&gt; taskGetPriceFromDB());\n\n    if (doShutdown) {\n        scope.shutdown();\n    }\n            \n    scope.join();          \n    scope.throwIfFailed();\n\n    result = numOrders.resultNow() + &quot; &quot; + price.resultNow();\n} catch (Exception ex) {\n    if (ex != null) {\n        System.err.println(&quot;caught ex: &quot; + ex.getClass());\n        System.err.println(&quot;caught ex message: &quot; + ex.getMessage());\n    }\n}\n</code></pre>\n<p>then this line:</p>\n<pre><code>    result = numOrders.resultNow() + &quot; &quot; + price.resultNow();\n</code></pre>\n<p>will throw an Exception if the scope is shutdown. <a href=\"https://github.com/openjdk/jdk19/blob/master/src/java.base/share/classes/java/util/concurrent/Future.java\" rel=\"nofollow noreferrer\">See the code</a> for <code>Future.resultNow()</code>.</p>\n<p>It's unclear if you want to distinguish between other exception cases, such as <em>closing</em> the scope, or an exception thrown by a subtask? If you do want to distinguish, it would help to explain the reason in the question (i.e. the ultimate goal).</p>\n<p>In general, there should be two paths: the happy-path for <code>result</code> and then a path of an exception being thrown (for whatever reason).</p>\n"}],"owner":{"account_id":477949,"reputation":5606,"user_id":889742,"accept_rate":28,"display_name":"Gonen I"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1682417608,"creation_date":1668618928,"question_id":74464598,"body_markdown":"A Java 19 ShutdownOnFailure scope also allows for explicit cancellation of all tasks using the shutdown method. How can I know if the scope has been shutdown? The API includes an isShutdown method, but it is private.\r\n\r\nHere is some (incomplete) code just to illustrate a possible use, where a scope is canceled some time after starting by the owner calling shutdown.\r\n\r\nI guess that after a join() I could issue another scope.fork() and check if if returns a future to a canceled task but that seems weird.  Is that the way to go?\r\n\r\n```java\r\nExecutorService executor = Executors.newCachedThreadPool();\r\ntry (StructuredTaskScope.ShutdownOnFailure scope = new StructuredTaskScope.ShutdownOnFailure()) {\r\n\tFuture&lt;Integer&gt; numOrders = scope.fork(Business::getNumItemsFromRequest);\r\n\tFuture&lt;Double&gt; price = scope.fork(Business::getPriceFromDB);\r\n\t\r\n\tBusiness.sleepFor(500);\r\n\tscope.shutdown(); // cancels all the scope tasks\r\n\t//numOrders.cancel(true); // cancel just one task\r\n\t\r\n\tscope.join(); // wait for all tasks\r\n\ttry {\r\n\t\tscope.throwIfFailed();\r\n\t\t// how would I know if scope was shutdown before all tasks completed?\r\n\t\tSystem.out.println(&quot;Scope Completed Without Errors ( But possibly canceled ) &quot;);\r\n\t\tdouble amount = numOrders.get() * price.get();\r\n```\r\n","title":"How can I know if a Java 19 Structured Concurrency StructuredTaskScope is shutdown ( canceled )?","body":"<p>A Java 19 ShutdownOnFailure scope also allows for explicit cancellation of all tasks using the shutdown method. How can I know if the scope has been shutdown? The API includes an isShutdown method, but it is private.</p>\n<p>Here is some (incomplete) code just to illustrate a possible use, where a scope is canceled some time after starting by the owner calling shutdown.</p>\n<p>I guess that after a join() I could issue another scope.fork() and check if if returns a future to a canceled task but that seems weird.  Is that the way to go?</p>\n<pre class=\"lang-java prettyprint-override\"><code>ExecutorService executor = Executors.newCachedThreadPool();\ntry (StructuredTaskScope.ShutdownOnFailure scope = new StructuredTaskScope.ShutdownOnFailure()) {\n    Future&lt;Integer&gt; numOrders = scope.fork(Business::getNumItemsFromRequest);\n    Future&lt;Double&gt; price = scope.fork(Business::getPriceFromDB);\n    \n    Business.sleepFor(500);\n    scope.shutdown(); // cancels all the scope tasks\n    //numOrders.cancel(true); // cancel just one task\n    \n    scope.join(); // wait for all tasks\n    try {\n        scope.throwIfFailed();\n        // how would I know if scope was shutdown before all tasks completed?\n        System.out.println(&quot;Scope Completed Without Errors ( But possibly canceled ) &quot;);\n        double amount = numOrders.get() * price.get();\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":2,"creation_date":1427658540,"post_id":29333960,"comment_id":46856802,"body_markdown":"This -&gt; `Foo newFoo = existing;` doesn&#39;t create a new instance of `Foo`. Just a new reference to the same instance.","body":"This -&gt; <code>Foo newFoo = existing;</code> doesn&#39;t create a new instance of <code>Foo</code>. Just a new reference to the same instance."},{"owner":{"account_id":1964374,"reputation":543,"user_id":1767688,"accept_rate":75,"display_name":"SpaceCowboy"},"score":0,"creation_date":1427658573,"post_id":29333960,"comment_id":46856810,"body_markdown":"If I was you I&#39;d be looking at the clone() method, seen as you don&#39;t want to manipulate the first object, rather a clone of it..","body":"If I was you I&#39;d be looking at the clone() method, seen as you don&#39;t want to manipulate the first object, rather a clone of it.."}],"answers":[{"comments":[{"owner":{"account_id":6019780,"reputation":63,"user_id":4727300,"display_name":"Temp"},"score":0,"creation_date":1427658639,"post_id":29333984,"comment_id":46856826,"body_markdown":"I need it to be a copy though. It should first print out `existing.getName()` then  change it afterwards.","body":"I need it to be a copy though. It should first print out <code>existing.getName()</code> then  change it afterwards."},{"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"score":0,"creation_date":1427658832,"post_id":29333984,"comment_id":46856898,"body_markdown":"Why using reflection? `new Foo ()` should do it.","body":"Why using reflection? <code>new Foo ()</code> should do it."}],"tags":[],"owner":{"account_id":984212,"reputation":62352,"user_id":1003142,"display_name":"Konstantin Yovkov"},"comment_count":2,"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1682417588,"creation_date":1427658498,"answer_id":29333984,"question_id":29333960,"body_markdown":"You can create a new instance at Runtime with:\r\n\r\n    Foo newFoo = existing.getClass().newInstance();\r\n\r\nNote that the newly created instance **will not be** a copy of the `existing` one.\r\n\r\nHowever, if you *do need* to a have a copy of the `existing` object, you can play a bit with the `Clonable` interface.\r\n\r\nFirst, you have to make the `Foo` class implement the `Cloneable` interface:\r\n\r\n    public class Foo implements Cloneable { ... }\r\n\r\nThen, you need to provide an implementation of the `clone()` method that will return a copy of you object:\r\n\r\n    public Foo clone() {\r\n        return new Foo(this.id, this.name); //for example\r\n    }\r\n\r\nAnd finally, you can invoke the newly introduced `clone()` method like this:\r\n\r\n    Foo newFoo = existing.clone();\r\n\r\nThis will give you a fresh `Foo` object, but with a copied properties from the `existing` one.","title":"create new instance from existing instance","body":"<p>You can create a new instance at Runtime with:</p>\n<pre><code>Foo newFoo = existing.getClass().newInstance();\n</code></pre>\n<p>Note that the newly created instance <strong>will not be</strong> a copy of the <code>existing</code> one.</p>\n<p>However, if you <em>do need</em> to a have a copy of the <code>existing</code> object, you can play a bit with the <code>Clonable</code> interface.</p>\n<p>First, you have to make the <code>Foo</code> class implement the <code>Cloneable</code> interface:</p>\n<pre><code>public class Foo implements Cloneable { ... }\n</code></pre>\n<p>Then, you need to provide an implementation of the <code>clone()</code> method that will return a copy of you object:</p>\n<pre><code>public Foo clone() {\n    return new Foo(this.id, this.name); //for example\n}\n</code></pre>\n<p>And finally, you can invoke the newly introduced <code>clone()</code> method like this:</p>\n<pre><code>Foo newFoo = existing.clone();\n</code></pre>\n<p>This will give you a fresh <code>Foo</code> object, but with a copied properties from the <code>existing</code> one.</p>\n"},{"tags":[],"owner":{"account_id":1911974,"reputation":8959,"user_id":1725558,"display_name":"Anderson Vieira"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1427659097,"creation_date":1427658611,"answer_id":29334008,"question_id":29333960,"body_markdown":"Note that when you do\r\n\r\n    Foo newFoo = existing;\r\n\r\nYou are not creating a new instance. Instead, you are simply pointing the `newFoo` variable to the same object `existing` points to.\r\n\r\nWhat you&#39;re doing is basically this:\r\n\r\n    Foo existing = new Foo(1, &quot;foo&quot;)       &lt;=&gt; existing -&gt; Foo(1, &quot;foo&quot;)\r\n    Foo newFoo = existing                  &lt;=&gt; existing -&gt; Foo(1, &quot;foo&quot;) &lt;- newFoo\r\n    newFoo.setName(&quot;bar&quot;)                  &lt;=&gt; existing -&gt; Foo(1, &quot;bar&quot;) &lt;- newFoo\r\n    System.out.println(existing.getName()) &lt;=&gt; System.out.println(Foo(1, &quot;bar&quot;).getName())\r\n\r\nIf you want to create a new instance you can do:\r\n\r\n    Foo newFoo = new Foo(existing.getId(), existing.getName());","title":"create new instance from existing instance","body":"<p>Note that when you do</p>\n\n<pre><code>Foo newFoo = existing;\n</code></pre>\n\n<p>You are not creating a new instance. Instead, you are simply pointing the <code>newFoo</code> variable to the same object <code>existing</code> points to.</p>\n\n<p>What you're doing is basically this:</p>\n\n<pre><code>Foo existing = new Foo(1, \"foo\")       &lt;=&gt; existing -&gt; Foo(1, \"foo\")\nFoo newFoo = existing                  &lt;=&gt; existing -&gt; Foo(1, \"foo\") &lt;- newFoo\nnewFoo.setName(\"bar\")                  &lt;=&gt; existing -&gt; Foo(1, \"bar\") &lt;- newFoo\nSystem.out.println(existing.getName()) &lt;=&gt; System.out.println(Foo(1, \"bar\").getName())\n</code></pre>\n\n<p>If you want to create a new instance you can do:</p>\n\n<pre><code>Foo newFoo = new Foo(existing.getId(), existing.getName());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4621730,"reputation":1346,"user_id":3746623,"accept_rate":100,"display_name":"Daniel K."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427658667,"creation_date":1427658667,"answer_id":29334022,"question_id":29333960,"body_markdown":"You are creating a new reference, not a new instance. Try something like this...\n\n    Foo newFoo = oldFoo.clone()\n\nThis preserves the original objects&#39; values","title":"create new instance from existing instance","body":"<p>You are creating a new reference, not a new instance. Try something like this...</p>\n\n<pre><code>Foo newFoo = oldFoo.clone()\n</code></pre>\n\n<p>This preserves the original objects' values</p>\n"},{"tags":[],"owner":{"account_id":333028,"reputation":5096,"user_id":658663,"accept_rate":80,"display_name":"beresfordt"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1427658810,"creation_date":1427658810,"answer_id":29334056,"question_id":29333960,"body_markdown":"In the line\r\n\r\n    Foo newFoo = existing;\r\n\r\nYou are not creating a new instance of Foo; you are copying the reference of `existing` into the variable `newFoo` any actions taken on either `existing` or `newFoo` will affect the same underlying object\r\n\r\nThere is a very thorough discussion on how to copy an object in java here: https://stackoverflow.com/questions/869033/how-do-i-copy-an-object-in-java\r\n\r\n","title":"create new instance from existing instance","body":"<p>In the line</p>\n\n<pre><code>Foo newFoo = existing;\n</code></pre>\n\n<p>You are not creating a new instance of Foo; you are copying the reference of <code>existing</code> into the variable <code>newFoo</code> any actions taken on either <code>existing</code> or <code>newFoo</code> will affect the same underlying object</p>\n\n<p>There is a very thorough discussion on how to copy an object in java here: <a href=\"https://stackoverflow.com/questions/869033/how-do-i-copy-an-object-in-java\">How do I copy an object in Java?</a></p>\n"},{"tags":[],"owner":{"account_id":5782474,"reputation":501,"user_id":4562676,"display_name":"tomse"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427659167,"creation_date":1427659167,"answer_id":29334128,"question_id":29333960,"body_markdown":"To create a copy of your `Foo` instance you could inherit from `Cloneable` and implement a `clone()` method as follows:\r\n\r\n    class Foo implements Cloneable {\r\n      @Override\r\n      public Foo clone() {\r\n        try {\r\n          return (Foo)super.clone();\r\n        }\r\n        catch(CloneNotSupportedException e) {\r\n          throw new AssertionError(e);\r\n        }\r\n      }\r\n    }\r\n\r\n(see http://docs.oracle.com/javase/8/docs/api/java/lang/Cloneable.html as well)","title":"create new instance from existing instance","body":"<p>To create a copy of your <code>Foo</code> instance you could inherit from <code>Cloneable</code> and implement a <code>clone()</code> method as follows:</p>\n\n<pre><code>class Foo implements Cloneable {\n  @Override\n  public Foo clone() {\n    try {\n      return (Foo)super.clone();\n    }\n    catch(CloneNotSupportedException e) {\n      throw new AssertionError(e);\n    }\n  }\n}\n</code></pre>\n\n<p>(see <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Cloneable.html\" rel=\"nofollow\">http://docs.oracle.com/javase/8/docs/api/java/lang/Cloneable.html</a> as well)</p>\n"},{"tags":[],"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427659305,"creation_date":1427659305,"answer_id":29334162,"question_id":29333960,"body_markdown":"Create a copy constructor:\n\n    public Foo (Foo another) {\n        this.propertyA = another.propertyA;\n        // etc.\n    }\n\nThen, inside the `for` loop:\n\n    Foo existing = new Foo(1, &quot;foo&quot;);\n\n    for (int i = 0; i &lt; 10; i++) {\n        Foo newFoo = new Foo(existing);\n        // system out etc\n    }\n\nThis is the best way to copy instances of a class.\n","title":"create new instance from existing instance","body":"<p>Create a copy constructor:</p>\n\n<pre><code>public Foo (Foo another) {\n    this.propertyA = another.propertyA;\n    // etc.\n}\n</code></pre>\n\n<p>Then, inside the <code>for</code> loop:</p>\n\n<pre><code>Foo existing = new Foo(1, \"foo\");\n\nfor (int i = 0; i &lt; 10; i++) {\n    Foo newFoo = new Foo(existing);\n    // system out etc\n}\n</code></pre>\n\n<p>This is the best way to copy instances of a class.</p>\n"},{"tags":[],"owner":{"account_id":62111,"reputation":40153,"user_id":184730,"accept_rate":72,"display_name":"fastcodejava"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427660081,"creation_date":1427660081,"answer_id":29334297,"question_id":29333960,"body_markdown":"You are **not** creating a new instance, you are just creating a new variable which points to the same instance.You either have to create a copy constructor or create a new instance with values of the existing instance as shown below :\r\n\r\n    Foo instance = new Foo(existing.getPropertyA(), existing.getPropertyB());","title":"create new instance from existing instance","body":"<p>You are <strong>not</strong> creating a new instance, you are just creating a new variable which points to the same instance.You either have to create a copy constructor or create a new instance with values of the existing instance as shown below :</p>\n\n<pre><code>Foo instance = new Foo(existing.getPropertyA(), existing.getPropertyB());\n</code></pre>\n"}],"owner":{"account_id":6019780,"reputation":63,"user_id":4727300,"display_name":"Temp"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17515,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":29333984,"answer_count":7,"score":6,"last_activity_date":1682417588,"creation_date":1427658399,"question_id":29333960,"body_markdown":"For some reason when I create a new instance of an object from an existing instance and change values in the new instance, it also changes the values in the existing instance. I would prefer if it only changed the state of the values in the new instance though. I&#39;m not sure why this is happening.\r\n\r\n    Foo existing = new Foo(1, &quot;foo&quot;);\r\n    \r\n    for (int i = 0; i &lt; 10; i++) {\r\n       Foo newFoo = existing;\r\n       System.out.println(newFoo.getName()); //Prints &quot;foo&quot; as expected\r\n       newFoo.setName(&quot;bar&quot;);\r\n       System.out.println(existing.getName()); //This prints out &quot;bar&quot;?\r\n    }\r\n\r\nNeither of the objects are static.","title":"create new instance from existing instance","body":"<p>For some reason when I create a new instance of an object from an existing instance and change values in the new instance, it also changes the values in the existing instance. I would prefer if it only changed the state of the values in the new instance though. I'm not sure why this is happening.</p>\n\n<pre><code>Foo existing = new Foo(1, \"foo\");\n\nfor (int i = 0; i &lt; 10; i++) {\n   Foo newFoo = existing;\n   System.out.println(newFoo.getName()); //Prints \"foo\" as expected\n   newFoo.setName(\"bar\");\n   System.out.println(existing.getName()); //This prints out \"bar\"?\n}\n</code></pre>\n\n<p>Neither of the objects are static.</p>\n"},{"tags":["java","logging","java-19"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1669314901,"post_id":74564770,"comment_id":131621539,"body_markdown":"Logging is quite critical. It is non-functional but a huge performance loss when not done carefully. The same holds for System.out and progress bars. Flushing to file, and indeed physical write through to disk are very costly. For rare critical logging you could implement your own handlers, maybe based on level too. And it might help to do `logger.severe(e::getMessage);`.","body":"Logging is quite critical. It is non-functional but a huge performance loss when not done carefully. The same holds for System.out and progress bars. Flushing to file, and indeed physical write through to disk are very costly. For rare critical logging you could implement your own handlers, maybe based on level too. And it might help to do <code>logger.severe(e::getMessage);</code>."},{"owner":{"account_id":2826194,"reputation":10795,"user_id":2428802,"display_name":"jmehrens"},"score":0,"creation_date":1672195991,"post_id":74564770,"comment_id":132239927,"body_markdown":"Which version of the jdk doesn&#39;t show this behavior?","body":"Which version of the jdk doesn&#39;t show this behavior?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1672198991,"post_id":74564770,"comment_id":132240230,"body_markdown":"I can&#39;t reproduce this with Java 11 or Java 17.  (But ... how did you manage to get funky invisible characters into the source code?  Did you copy the code from a word-processed document or something?)","body":"I can&#39;t reproduce this with Java 11 or Java 17.  (But ... how did you manage to get funky invisible characters into the source code?  Did you copy the code from a word-processed document or something?)"}],"answers":[{"tags":[],"owner":{"account_id":2826194,"reputation":10795,"user_id":2428802,"display_name":"jmehrens"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672243078,"creation_date":1672196374,"answer_id":74935861,"question_id":74564770,"body_markdown":"&gt; Why is the logging only written to disk after the program has terminated?\r\n\r\nOn shutdown the FileHandler is closed by the LogManager which issues a [sync to disk][1]. Normal publish of the FileHandler will only issue a flush and not a sync.  I think in your test program you are not filling the native buffers to make it sync to disk.  I would assume you are going to have to exceed 8K of log data before data is written to disk.\r\n\r\nThe other possibility is that the contents are written to disk but the way you are observing the log file can&#39;t see them.  This can happen if you are view this file over a network share from another machine.\r\n\r\n  [1]: https://stackoverflow.com/questions/4072878/i-o-concept-flush-vs-sync","title":"java.util.logging (Java 19) - Why isn&#39;t the logging written to disk immediately?","body":"<blockquote>\n<p>Why is the logging only written to disk after the program has terminated?</p>\n</blockquote>\n<p>On shutdown the FileHandler is closed by the LogManager which issues a <a href=\"https://stackoverflow.com/questions/4072878/i-o-concept-flush-vs-sync\">sync to disk</a>. Normal publish of the FileHandler will only issue a flush and not a sync.  I think in your test program you are not filling the native buffers to make it sync to disk.  I would assume you are going to have to exceed 8K of log data before data is written to disk.</p>\n<p>The other possibility is that the contents are written to disk but the way you are observing the log file can't see them.  This can happen if you are view this file over a network share from another machine.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672198923,"creation_date":1672197688,"answer_id":74935962,"question_id":74564770,"body_markdown":"This is peculiar.\r\n\r\nI have a copy of the Java 19 source code in front of me, and the JUL code for a `FileHandler` calls `flush` after each log record.  And I think I can see where it calls flush on the handler&#39;s `Writer`.\r\n\r\nWhen I run your example, the log file seems to be written to each time an event is logged.  Immediately ... as far as I can tell.\r\n\r\n(I ran the code with Java 11 and Java 17.)\r\n","title":"java.util.logging (Java 19) - Why isn&#39;t the logging written to disk immediately?","body":"<p>This is peculiar.</p>\n<p>I have a copy of the Java 19 source code in front of me, and the JUL code for a <code>FileHandler</code> calls <code>flush</code> after each log record.  And I think I can see where it calls flush on the handler's <code>Writer</code>.</p>\n<p>When I run your example, the log file seems to be written to each time an event is logged.  Immediately ... as far as I can tell.</p>\n<p>(I ran the code with Java 11 and Java 17.)</p>\n"}],"owner":{"account_id":6262928,"reputation":1,"user_id":4869526,"display_name":"Marvin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1682417501,"creation_date":1669313228,"question_id":74564770,"body_markdown":"I have a small java program that uses logging.\r\n\r\n&gt; ```\r\n&gt; import java.util.logging.*;  \r\n&gt; public class Main {     \r\n&gt;     static Logger  logger = Logger.getLogger(Main.class.getName());     \r\n&gt;     static   {         \r\n&gt;          try {             \r\n&gt;             System.setProperty( &quot;java.util.logging.SimpleFormatter.format&quot;, \r\n&gt;                                &quot;[%1$tF %1$tT] [%4$-7s] %5$s %n&quot;);             \r\n&gt;             FileHandler fileHandler = new FileHandler(&quot;java_%u.log&quot;);\r\n&gt;             fileHandler.setFormatter(new SimpleFormatter()); \r\n&gt;             logger.addHandler(fileHandler);  \r\n&gt;            } catch (Exception e) { \r\n&gt;              logger.severe(e.getMessage()); \r\n&gt;           }         \r\n&gt;           logger.info(&quot;Static done&quot;);     \r\n&gt;     }       \r\n&gt;     public static void main(String[] args) {         \r\n&gt;        logger.info(&quot;Main started&quot;);         \r\n&gt;        for(int i=0;i&lt;10;i++){ \r\n&gt;          logger.info(&quot;Sleeping &quot;+ i);             \r\n&gt;          try {                 \r\n&gt;             Thread.sleep(3000); \r\n&gt;          } catch (InterruptedException e) {                 \r\n&gt;             throw new RuntimeException(e);             \r\n&gt;          }        \r\n&gt;        }     \r\n&gt;     }\r\n&gt;  }\r\n&gt; ```\r\n\r\nIt doesn&#39;t matter whether you use it from a development environment (Intellij 2022.2.3)   \r\nor directly as a jar file from the command line.\r\n\r\n\r\nHow logging works is generally clear to me. It&#39;s the Java version (jdk 19) that&#39;s giving me problems? Why is the logging only written to disk after the program has terminated?","title":"java.util.logging (Java 19) - Why isn&#39;t the logging written to disk immediately?","body":"<p>I have a small java program that uses logging.</p>\n<blockquote>\n<pre><code>import java.util.logging.*;  \npublic class Main {     \n    static Logger  logger = Logger.getLogger(Main.class.getName());     \n    static   {         \n         try {             \n            System.setProperty( &quot;java.util.logging.SimpleFormatter.format&quot;, \n                               &quot;[%1$tF %1$tT] [%4$-7s] %5$s %n&quot;);             \n            FileHandler fileHandler = new FileHandler(&quot;java_%u.log&quot;);\n            fileHandler.setFormatter(new SimpleFormatter()); \n            logger.addHandler(fileHandler);  \n           } catch (Exception e) { \n             logger.severe(e.getMessage()); \n          }         \n          logger.info(&quot;Static done&quot;);     \n    }       \n    public static void main(String[] args) {         \n       logger.info(&quot;Main started&quot;);         \n       for(int i=0;i&lt;10;i++){ \n         logger.info(&quot;Sleeping &quot;+ i);             \n         try {                 \n            Thread.sleep(3000); \n         } catch (InterruptedException e) {                 \n            throw new RuntimeException(e);             \n         }        \n       }     \n    }\n }\n</code></pre>\n</blockquote>\n<p>It doesn't matter whether you use it from a development environment (Intellij 2022.2.3)<br />\nor directly as a jar file from the command line.</p>\n<p>How logging works is generally clear to me. It's the Java version (jdk 19) that's giving me problems? Why is the logging only written to disk after the program has terminated?</p>\n"},{"tags":["java","c#","casting","openoffice.org"],"answers":[{"tags":[],"owner":{"account_id":6602823,"reputation":13044,"user_id":5100564,"accept_rate":100,"display_name":"Jim K"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483220985,"creation_date":1483220666,"answer_id":41411910,"question_id":41383380,"body_markdown":"First I tried using C# and encountered the same error you described.\r\n\r\nThen I tried the example using Java and ended up with a null value for XStorable.  So I think your problem is not due to C#, but because for some reason the empty data source is not getting created properly.\r\n\r\nIn https://stackoverflow.com/questions/33522433/create-a-libreoffice-text-based-datasource-and-set-settings-with-java, the poster seems to have had success, so I&#39;m not sure what went wrong when I tried it.\r\n\r\nThis code to print data sources does work for me:  https://wiki.openoffice.org/wiki/Documentation/DevGuide/Database/Data_Sources_in_OpenOffice.org_API.","title":"cast exception while using OpenOffice SDK to create a DataSource","body":"<p>First I tried using C# and encountered the same error you described.</p>\n\n<p>Then I tried the example using Java and ended up with a null value for XStorable.  So I think your problem is not due to C#, but because for some reason the empty data source is not getting created properly.</p>\n\n<p>In <a href=\"https://stackoverflow.com/questions/33522433/create-a-libreoffice-text-based-datasource-and-set-settings-with-java\">Create a libreoffice text-based datasource and set settings with java</a>, the poster seems to have had success, so I'm not sure what went wrong when I tried it.</p>\n\n<p>This code to print data sources does work for me:  <a href=\"https://wiki.openoffice.org/wiki/Documentation/DevGuide/Database/Data_Sources_in_OpenOffice.org_API\" rel=\"nofollow noreferrer\">https://wiki.openoffice.org/wiki/Documentation/DevGuide/Database/Data_Sources_in_OpenOffice.org_API</a>.</p>\n"}],"owner":{"account_id":6926016,"reputation":1072,"user_id":5317085,"accept_rate":59,"display_name":"A.D."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682417466,"creation_date":1483028157,"question_id":41383380,"body_markdown":"I have a C# application that performs mail merges with MS Office (using Interop API).\r\nI am now trying to have it support Open office.\r\nI want to use OpenOffice SDK:\r\nhttp://www.openoffice.org/api/docs/common/ref/com/sun/star/text/MailMerge.html#Command\r\n\r\nDoes not look crystal clear to me right now....\r\n\r\nI somehow managed to get the mail merge code to work.\r\nThe thing is we need to create a &quot;DataSource&quot; before actually performing the MailMerge and I encounter difficulties to do it.\r\n\r\nI can get a sample in Java here:\r\nhttps://wiki.openoffice.org/wiki/Documentation/DevGuide/Database/The_DataSource_Service\r\n\r\nI would need to convert this into C#.\r\n\r\nMy difficulty is that Java uses this object to perform its casts:\r\n\r\n    XStorable store = ( XStorable)UnoRuntime.queryInterface(XStorable.class, xDs);\r\n\r\nThere is nothing equivalent in C#.\r\n\r\nI converted the code this way:\r\n\r\n      public static void CreateDataSource(string dataSourceProvidedFilePath, string dataSourceSavedFilePath)\r\n        {\r\n                    XComponentContext oStrap = uno.util.Bootstrap.bootstrap();\r\n            XMultiServiceFactory _rMSF = (XMultiServiceFactory)oStrap.getServiceManager();\r\n    \r\n             // the XSingleServiceFactory of the database context creates new generic \r\n          // com.sun.star.sdb.DataSources (!)\r\n          // retrieve the database context at the global service manager and get its \r\n          // XSingleServiceFactory interface\r\n          XSingleServiceFactory xFac = (XSingleServiceFactory) _rMSF.createInstance(&quot;com.sun.star.sdb.DatabaseContext&quot;);\r\n              //(XSingleServiceFactory)UnoRuntime.queryInterface(XSingleServiceFactory.class, _rMSF.createInstance(&quot;com.sun.star.sdb.DatabaseContext&quot;));\r\n     \r\n          // instantiate an empty data source at the XSingleServiceFactory \r\n          // interface of the DatabaseContext\r\n          Object xDs = xFac.createInstance();\r\n     \r\n          // register it with the database context\r\n          XNamingService xServ = (XNamingService)xFac;\r\n              //(XNamingService)UnoRuntime.queryInterface(XNamingService.class, xFac);\r\n    \r\n          XStorable store = ( XStorable) xDs;\r\n              //( XStorable)UnoRuntime.queryInterface(XStorable.class, xDs);\r\n    \r\n          XModel model =( XModel) xDs;\r\n              //( XModel)UnoRuntime.queryInterface(XModel.class, xDs);\r\n    \r\n            //on d&#233;termine le fichier ou sera sauvegard&#233;e la data source\r\n          string dataSourcePathURL = Path.Combine(Path.GetDirectoryName(dataSourceProvidedFilePath), dataSourceSavedFilePath + &quot;.odb&quot;).ConvertToOpenOfficeURL();\r\n          store.storeAsURL(/*&quot;file:///c:/test.odb&quot;*/dataSourcePathURL,model.getArgs());\r\n          xServ.registerObject(&quot;NewDataSourceName&quot;, xDs);\r\n     \r\n          // setting the necessary data source properties\r\n          XPropertySet xDsProps = (XPropertySet)xDs;\r\n              //(XPropertySet)UnoRuntime.queryInterface(XPropertySet.class, xDs);\r\n          // Adabas D URL\r\n          xDsProps.setPropertyValue(&quot;URL&quot;, new uno.Any(&quot;sdbc:adabas::MYDB1&quot;));\r\n     \r\n          // force password dialog\r\n          //xDsProps.setPropertyValue(&quot;IsPasswordRequired&quot;, new Boolean(true));\r\n     \r\n          // suggest dsadmin as user name\r\n          xDsProps.setPropertyValue(&quot;User&quot;, new uno.Any(&quot;dsadmin&quot;));\r\n          store.store();\r\n        }\r\n\r\nSome casts worked fine:\r\n\r\n    XNamingService xServ = (XNamingService)xFac;\r\n              //(XNamingService)UnoRuntime.queryInterface(XNamingService.class, xFac);\r\n\r\nBut some other casts throw an exception:\r\n\r\n  XStorable store = ( XStorable) xDs;\r\n      //( XStorable)UnoRuntime.queryInterface(XStorable.class, xDs);\r\n\r\n-&gt;\r\n\r\n    Unable to cast transparent proxy to type &#39;unoidl.com.sun.star.frame.XStorable&#39;.\r\n\r\nIs there a way to have this code correctly converted to C#?\r\n\r\nOtherwise, do you know any other resource showing how to create an Open Office DataSource in Java?\r\n\r\nThx\r\n\r\n\r\n\r\n\r\n","title":"cast exception while using OpenOffice SDK to create a DataSource","body":"<p>I have a C# application that performs mail merges with MS Office (using Interop API).\nI am now trying to have it support Open office.\nI want to use OpenOffice SDK:\n<a href=\"http://www.openoffice.org/api/docs/common/ref/com/sun/star/text/MailMerge.html#Command\" rel=\"nofollow noreferrer\">http://www.openoffice.org/api/docs/common/ref/com/sun/star/text/MailMerge.html#Command</a></p>\n\n<p>Does not look crystal clear to me right now....</p>\n\n<p>I somehow managed to get the mail merge code to work.\nThe thing is we need to create a \"DataSource\" before actually performing the MailMerge and I encounter difficulties to do it.</p>\n\n<p>I can get a sample in Java here:\n<a href=\"https://wiki.openoffice.org/wiki/Documentation/DevGuide/Database/The_DataSource_Service\" rel=\"nofollow noreferrer\">https://wiki.openoffice.org/wiki/Documentation/DevGuide/Database/The_DataSource_Service</a></p>\n\n<p>I would need to convert this into C#.</p>\n\n<p>My difficulty is that Java uses this object to perform its casts:</p>\n\n<pre><code>XStorable store = ( XStorable)UnoRuntime.queryInterface(XStorable.class, xDs);\n</code></pre>\n\n<p>There is nothing equivalent in C#.</p>\n\n<p>I converted the code this way:</p>\n\n<pre><code>  public static void CreateDataSource(string dataSourceProvidedFilePath, string dataSourceSavedFilePath)\n    {\n                XComponentContext oStrap = uno.util.Bootstrap.bootstrap();\n        XMultiServiceFactory _rMSF = (XMultiServiceFactory)oStrap.getServiceManager();\n\n         // the XSingleServiceFactory of the database context creates new generic \n      // com.sun.star.sdb.DataSources (!)\n      // retrieve the database context at the global service manager and get its \n      // XSingleServiceFactory interface\n      XSingleServiceFactory xFac = (XSingleServiceFactory) _rMSF.createInstance(\"com.sun.star.sdb.DatabaseContext\");\n          //(XSingleServiceFactory)UnoRuntime.queryInterface(XSingleServiceFactory.class, _rMSF.createInstance(\"com.sun.star.sdb.DatabaseContext\"));\n\n      // instantiate an empty data source at the XSingleServiceFactory \n      // interface of the DatabaseContext\n      Object xDs = xFac.createInstance();\n\n      // register it with the database context\n      XNamingService xServ = (XNamingService)xFac;\n          //(XNamingService)UnoRuntime.queryInterface(XNamingService.class, xFac);\n\n      XStorable store = ( XStorable) xDs;\n          //( XStorable)UnoRuntime.queryInterface(XStorable.class, xDs);\n\n      XModel model =( XModel) xDs;\n          //( XModel)UnoRuntime.queryInterface(XModel.class, xDs);\n\n        //on détermine le fichier ou sera sauvegardée la data source\n      string dataSourcePathURL = Path.Combine(Path.GetDirectoryName(dataSourceProvidedFilePath), dataSourceSavedFilePath + \".odb\").ConvertToOpenOfficeURL();\n      store.storeAsURL(/*\"file:///c:/test.odb\"*/dataSourcePathURL,model.getArgs());\n      xServ.registerObject(\"NewDataSourceName\", xDs);\n\n      // setting the necessary data source properties\n      XPropertySet xDsProps = (XPropertySet)xDs;\n          //(XPropertySet)UnoRuntime.queryInterface(XPropertySet.class, xDs);\n      // Adabas D URL\n      xDsProps.setPropertyValue(\"URL\", new uno.Any(\"sdbc:adabas::MYDB1\"));\n\n      // force password dialog\n      //xDsProps.setPropertyValue(\"IsPasswordRequired\", new Boolean(true));\n\n      // suggest dsadmin as user name\n      xDsProps.setPropertyValue(\"User\", new uno.Any(\"dsadmin\"));\n      store.store();\n    }\n</code></pre>\n\n<p>Some casts worked fine:</p>\n\n<pre><code>XNamingService xServ = (XNamingService)xFac;\n          //(XNamingService)UnoRuntime.queryInterface(XNamingService.class, xFac);\n</code></pre>\n\n<p>But some other casts throw an exception:</p>\n\n<p>XStorable store = ( XStorable) xDs;\n      //( XStorable)UnoRuntime.queryInterface(XStorable.class, xDs);</p>\n\n<p>-></p>\n\n<pre><code>Unable to cast transparent proxy to type 'unoidl.com.sun.star.frame.XStorable'.\n</code></pre>\n\n<p>Is there a way to have this code correctly converted to C#?</p>\n\n<p>Otherwise, do you know any other resource showing how to create an Open Office DataSource in Java?</p>\n\n<p>Thx</p>\n"},{"tags":["java","performance","garbage-collection","vectorization","java-19"],"comments":[{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1669859324,"post_id":74635065,"comment_id":131741195,"body_markdown":"Every time people write a Java benchmark manually, they end up measuring an [OSR compilation](https://stackoverflow.com/questions/9105505/differences-between-just-in-time-compilation-and-on-stack-replacement). This is misleading, see [1](https://stackoverflow.com/a/54410675/3448419), [2](https://stackoverflow.com/a/33858960/3448419), [3](https://stackoverflow.com/a/42590152/3448419), [4](https://stackoverflow.com/a/46637432/3448419). Just use [JMH](https://github.com/openjdk/jmh). You apparently looked at the assembly of a regular JIT compilation, but that was not what JVM actually ran.","body":"Every time people write a Java benchmark manually, they end up measuring an <a href=\"https://stackoverflow.com/questions/9105505/differences-between-just-in-time-compilation-and-on-stack-replacement\">OSR compilation</a>. This is misleading, see <a href=\"https://stackoverflow.com/a/54410675/3448419\">1</a>, <a href=\"https://stackoverflow.com/a/33858960/3448419\">2</a>, <a href=\"https://stackoverflow.com/a/42590152/3448419\">3</a>, <a href=\"https://stackoverflow.com/a/46637432/3448419\">4</a>. Just use <a href=\"https://github.com/openjdk/jmh\" rel=\"nofollow noreferrer\">JMH</a>. You apparently looked at the assembly of a regular JIT compilation, but that was not what JVM actually ran."},{"owner":{"account_id":8750959,"reputation":83,"user_id":6544240,"display_name":"Francisco O."},"score":0,"creation_date":1669861018,"post_id":74635065,"comment_id":131741408,"body_markdown":"I will work on testing with JMH tomorrow. However, looking at the JIT output I analyzed, I was comparing the _second_ compilation of each of the memset loops, which means they are not compiled in OSR mode, according to your second link (they do not contain a % in the &quot;C2-compiled method&quot; header).","body":"I will work on testing with JMH tomorrow. However, looking at the JIT output I analyzed, I was comparing the <i>second</i> compilation of each of the memset loops, which means they are not compiled in OSR mode, according to your second link (they do not contain a % in the &quot;C2-compiled method&quot; header)."},{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1669861963,"post_id":74635065,"comment_id":131741563,"body_markdown":"That&#39;s what I said. You looked at the output of a normal compilation, but measured OSR one.","body":"That&#39;s what I said. You looked at the output of a normal compilation, but measured OSR one."},{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1669863623,"post_id":74635065,"comment_id":131741781,"body_markdown":"You emphasized that you compared the *second* compilation. But when do you think the *second* compilation is executed, if the method is called only *once*?","body":"You emphasized that you compared the <i>second</i> compilation. But when do you think the <i>second</i> compilation is executed, if the method is called only <i>once</i>?"},{"owner":{"account_id":8750959,"reputation":83,"user_id":6544240,"display_name":"Francisco O."},"score":0,"creation_date":1669875148,"post_id":74635065,"comment_id":131743344,"body_markdown":"Ah, I see what you mean. I misunderstood the OSR stub description. If I run each of them twice before timing them, they both have identical and much lower runtimes, with the allocations correctly elided and all. Thank you!","body":"Ah, I see what you mean. I misunderstood the OSR stub description. If I run each of them twice before timing them, they both have identical and much lower runtimes, with the allocations correctly elided and all. Thank you!"}],"owner":{"account_id":8750959,"reputation":83,"user_id":6544240,"display_name":"Francisco O."},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1682417450,"creation_date":1669848634,"question_id":74635065,"body_markdown":"I am testing manual vectorization in Java with the `jdk.incubator.vector` API (JDK 19), and have come across some unexpected behavior w.r.t. Garbage Collection, exemplified here with a toy `memset` implementation.\r\n\r\nIn the following code, the functions `memsetLoop1` and `memsetLoop2` are functionally identical, with the only difference being whether the `LongVector.broadcast` takes place in or outside of the inner loop. Because the broadcasted value is the same for every iteration of the inner loop, this is a correct &quot;optimization.&quot;\r\n\r\nHowever, my measurements (in the `main` function) indicate `memsetLoop2` takes about 50% longer to complete, on average.\r\n\r\n```java\r\n// Run with `--source=19 --add-opens java.base/jdk.internal.misc=ALL-UNNAMED --enable-preview --enable-native-access=ALL-UNNAMED --add-modules jdk.incubator.vector`\r\npackage main;\r\n\r\nimport java.lang.foreign.*;\r\nimport java.nio.ByteOrder;\r\nimport jdk.incubator.vector.*;\r\n\r\npublic class VectorGCBugDemo {\r\n    // I am aware that the below line of code is generally a Very Bad Idea.\r\n    // It has no bearing on the issue at hand, AFAICT.\r\n    final static MemorySegment ADDRESS_SPACE = MemorySegment.ofAddress(MemoryAddress.NULL, Long.MAX_VALUE, MemorySession.global());\r\n    final static ByteOrder NATIVE_BYTE_ORDER = ByteOrder.nativeOrder();\r\n    final static long SPECIES256_VECTOR_SIZE = LongVector.SPECIES_256.vectorByteSize();\r\n\r\n    // Something that fits in L1 cache, for maximum speed.\r\n    static final long ALLOCATION_BYTES = 512L * SPECIES256_VECTOR_SIZE;\r\n    // Big number to make unexpected GC behavior visible.\r\n    static final long ITERATIONS = 50_000_000L;\r\n\r\n    static void memsetLoop1(final long address, final long bytes, final long iterations) {\r\n        final long start = address;\r\n        final long end = address + bytes;\r\n        for (long outer = 0; outer &lt; iterations; outer++) {\r\n\r\n            // vvvvvvvv INNER LOOP 1 vvvvvvvv\r\n            for (long i = start; i &lt; end; i += SPECIES256_VECTOR_SIZE) {\r\n                LongVector.broadcast(LongVector.SPECIES_256, outer).intoMemorySegment(ADDRESS_SPACE, i, NATIVE_BYTE_ORDER);\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    static void memsetLoop2(final long address, final long bytes, final long iterations) {\r\n        final long start = address;\r\n        final long end = address + bytes;\r\n        for (long outer = 0; outer &lt; iterations; outer++) {\r\n\r\n            // vvvvvvvv INNER LOOP 2 vvvvvvvv\r\n            final LongVector broadcastedValue = LongVector.broadcast(LongVector.SPECIES_256, outer);\r\n            for (long i = start; i &lt; end; i += SPECIES256_VECTOR_SIZE) {\r\n                broadcastedValue.intoMemorySegment(ADDRESS_SPACE, i, NATIVE_BYTE_ORDER);\r\n            }\r\n\r\n        }\r\n    }\r\n    \r\n    public static void main(String... args) {\r\n        // Allocate vector-aligned memory.\r\n        final MemorySegment allocation = MemorySegment.allocateNative(ALLOCATION_BYTES, SPECIES256_VECTOR_SIZE, MemorySession.global());\r\n        final long allocationAddress = allocation.address().toRawLongValue();\r\n\r\n        System.out.print(&quot;Running memsetLoop1... &quot;);\r\n        final long t1 = System.nanoTime();\r\n        memsetLoop1(allocationAddress, ALLOCATION_BYTES, ITERATIONS);\r\n        final long t2 = System.nanoTime();\r\n        System.out.printf(&quot;memset loop took %.2fns on average.\\n&quot;, (double)(t2 - t1) / ITERATIONS);\r\n        \r\n        System.out.print(&quot;Running memsetLoop2... &quot;);\r\n        final long t3 = System.nanoTime();\r\n        memsetLoop2(allocationAddress, ALLOCATION_BYTES, ITERATIONS);\r\n        final long t4 = System.nanoTime();\r\n        System.out.printf(&quot;memset loop took %.2fns on average.\\n&quot;, (double)(t4 - t3) / ITERATIONS);\r\n    }\r\n}\r\n```\r\n\r\nLooking at the x86 code generated by the JIT compiler for each function (via `-XX:+UnlockDiagnosticVMOptions -XX:+PrintAssembly` and the `hsdis` library) doesn&#39;t seem to show any differences between them; the compiler is more than smart enough to move the `vpbroadcastq` instruction out of the loop in `memsetLoop1`, and they both end up looking pretty much the same to my (somewhat inexpert) eye.\r\n\r\nHowever, running it with `-verbose:gc` with default heap sizes reveals significant GC activity during the execution of `memsetLoop2`, while `memsetLoop1` does not have any:\r\n\r\n```\r\n[0.002s][info][gc] Using Serial\r\nWARNING: Using incubator modules: jdk.incubator.vector\r\nRunning memsetLoop1... memset loop took 271.30ns on average.\r\nRunning memsetLoop2... [15.305s][info][gc] GC(0) Pause Young (Allocation Failure) 268M-&gt;1M(968M) 2.190ms\r\n[17.037s][info][gc] GC(1) Pause Young (Allocation Failure) 268M-&gt;1M(968M) 1.836ms\r\n[18.808s][info][gc] GC(2) Pause Young (Allocation Failure) 268M-&gt;1M(968M) 0.862ms\r\n[20.607s][info][gc] GC(3) Pause Young (Allocation Failure) 268M-&gt;1M(968M) 0.856ms\r\n[22.369s][info][gc] GC(4) Pause Young (Allocation Failure) 268M-&gt;1M(968M) 0.955ms\r\n[24.128s][info][gc] GC(5) Pause Young (Allocation Failure) 268M-&gt;1M(968M) 0.750ms\r\n[25.887s][info][gc] GC(6) Pause Young (Allocation Failure) 268M-&gt;1M(968M) 0.928ms\r\n[27.646s][info][gc] GC(7) Pause Young (Allocation Failure) 268M-&gt;1M(968M) 0.755ms\r\n[29.405s][info][gc] GC(8) Pause Young (Allocation Failure) 268M-&gt;1M(968M) 0.750ms\r\n[31.213s][info][gc] GC(9) Pause Young (Allocation Failure) 268M-&gt;1M(968M) 0.858ms\r\n[32.972s][info][gc] GC(10) Pause Young (Allocation Failure) 268M-&gt;1M(968M) 0.752ms\r\nmemset loop took 405.50ns on average.\r\n```\r\n\r\nUsing higher outer loop counts just results in even more GC activity for `memsetLoop2`.\r\n\r\nLowering the heap sizes to their minimum values shows that `memsetLoop1` does initially have some light GC activity, but the allocations generated by direct interpretation of the loop code seem to get optimized out by the JIT, while in `memsetLoop2` this is not the case for whatever reason.\r\n\r\nI am quite puzzled by these facts, as I would expect functions to be optimized essentially identically once the iteration-invariant code is lifted out of the loop. If anyone has any clues as to why this behavior might be occurring, an explanation would be very much appreciated. Thank you!","title":"Why does moving an iteration-invariant vector out of a loop induce unnecessary GC activity?","body":"<p>I am testing manual vectorization in Java with the <code>jdk.incubator.vector</code> API (JDK 19), and have come across some unexpected behavior w.r.t. Garbage Collection, exemplified here with a toy <code>memset</code> implementation.</p>\n<p>In the following code, the functions <code>memsetLoop1</code> and <code>memsetLoop2</code> are functionally identical, with the only difference being whether the <code>LongVector.broadcast</code> takes place in or outside of the inner loop. Because the broadcasted value is the same for every iteration of the inner loop, this is a correct &quot;optimization.&quot;</p>\n<p>However, my measurements (in the <code>main</code> function) indicate <code>memsetLoop2</code> takes about 50% longer to complete, on average.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Run with `--source=19 --add-opens java.base/jdk.internal.misc=ALL-UNNAMED --enable-preview --enable-native-access=ALL-UNNAMED --add-modules jdk.incubator.vector`\npackage main;\n\nimport java.lang.foreign.*;\nimport java.nio.ByteOrder;\nimport jdk.incubator.vector.*;\n\npublic class VectorGCBugDemo {\n    // I am aware that the below line of code is generally a Very Bad Idea.\n    // It has no bearing on the issue at hand, AFAICT.\n    final static MemorySegment ADDRESS_SPACE = MemorySegment.ofAddress(MemoryAddress.NULL, Long.MAX_VALUE, MemorySession.global());\n    final static ByteOrder NATIVE_BYTE_ORDER = ByteOrder.nativeOrder();\n    final static long SPECIES256_VECTOR_SIZE = LongVector.SPECIES_256.vectorByteSize();\n\n    // Something that fits in L1 cache, for maximum speed.\n    static final long ALLOCATION_BYTES = 512L * SPECIES256_VECTOR_SIZE;\n    // Big number to make unexpected GC behavior visible.\n    static final long ITERATIONS = 50_000_000L;\n\n    static void memsetLoop1(final long address, final long bytes, final long iterations) {\n        final long start = address;\n        final long end = address + bytes;\n        for (long outer = 0; outer &lt; iterations; outer++) {\n\n            // vvvvvvvv INNER LOOP 1 vvvvvvvv\n            for (long i = start; i &lt; end; i += SPECIES256_VECTOR_SIZE) {\n                LongVector.broadcast(LongVector.SPECIES_256, outer).intoMemorySegment(ADDRESS_SPACE, i, NATIVE_BYTE_ORDER);\n            }\n\n        }\n    }\n\n    static void memsetLoop2(final long address, final long bytes, final long iterations) {\n        final long start = address;\n        final long end = address + bytes;\n        for (long outer = 0; outer &lt; iterations; outer++) {\n\n            // vvvvvvvv INNER LOOP 2 vvvvvvvv\n            final LongVector broadcastedValue = LongVector.broadcast(LongVector.SPECIES_256, outer);\n            for (long i = start; i &lt; end; i += SPECIES256_VECTOR_SIZE) {\n                broadcastedValue.intoMemorySegment(ADDRESS_SPACE, i, NATIVE_BYTE_ORDER);\n            }\n\n        }\n    }\n    \n    public static void main(String... args) {\n        // Allocate vector-aligned memory.\n        final MemorySegment allocation = MemorySegment.allocateNative(ALLOCATION_BYTES, SPECIES256_VECTOR_SIZE, MemorySession.global());\n        final long allocationAddress = allocation.address().toRawLongValue();\n\n        System.out.print(&quot;Running memsetLoop1... &quot;);\n        final long t1 = System.nanoTime();\n        memsetLoop1(allocationAddress, ALLOCATION_BYTES, ITERATIONS);\n        final long t2 = System.nanoTime();\n        System.out.printf(&quot;memset loop took %.2fns on average.\\n&quot;, (double)(t2 - t1) / ITERATIONS);\n        \n        System.out.print(&quot;Running memsetLoop2... &quot;);\n        final long t3 = System.nanoTime();\n        memsetLoop2(allocationAddress, ALLOCATION_BYTES, ITERATIONS);\n        final long t4 = System.nanoTime();\n        System.out.printf(&quot;memset loop took %.2fns on average.\\n&quot;, (double)(t4 - t3) / ITERATIONS);\n    }\n}\n</code></pre>\n<p>Looking at the x86 code generated by the JIT compiler for each function (via <code>-XX:+UnlockDiagnosticVMOptions -XX:+PrintAssembly</code> and the <code>hsdis</code> library) doesn't seem to show any differences between them; the compiler is more than smart enough to move the <code>vpbroadcastq</code> instruction out of the loop in <code>memsetLoop1</code>, and they both end up looking pretty much the same to my (somewhat inexpert) eye.</p>\n<p>However, running it with <code>-verbose:gc</code> with default heap sizes reveals significant GC activity during the execution of <code>memsetLoop2</code>, while <code>memsetLoop1</code> does not have any:</p>\n<pre><code>[0.002s][info][gc] Using Serial\nWARNING: Using incubator modules: jdk.incubator.vector\nRunning memsetLoop1... memset loop took 271.30ns on average.\nRunning memsetLoop2... [15.305s][info][gc] GC(0) Pause Young (Allocation Failure) 268M-&gt;1M(968M) 2.190ms\n[17.037s][info][gc] GC(1) Pause Young (Allocation Failure) 268M-&gt;1M(968M) 1.836ms\n[18.808s][info][gc] GC(2) Pause Young (Allocation Failure) 268M-&gt;1M(968M) 0.862ms\n[20.607s][info][gc] GC(3) Pause Young (Allocation Failure) 268M-&gt;1M(968M) 0.856ms\n[22.369s][info][gc] GC(4) Pause Young (Allocation Failure) 268M-&gt;1M(968M) 0.955ms\n[24.128s][info][gc] GC(5) Pause Young (Allocation Failure) 268M-&gt;1M(968M) 0.750ms\n[25.887s][info][gc] GC(6) Pause Young (Allocation Failure) 268M-&gt;1M(968M) 0.928ms\n[27.646s][info][gc] GC(7) Pause Young (Allocation Failure) 268M-&gt;1M(968M) 0.755ms\n[29.405s][info][gc] GC(8) Pause Young (Allocation Failure) 268M-&gt;1M(968M) 0.750ms\n[31.213s][info][gc] GC(9) Pause Young (Allocation Failure) 268M-&gt;1M(968M) 0.858ms\n[32.972s][info][gc] GC(10) Pause Young (Allocation Failure) 268M-&gt;1M(968M) 0.752ms\nmemset loop took 405.50ns on average.\n</code></pre>\n<p>Using higher outer loop counts just results in even more GC activity for <code>memsetLoop2</code>.</p>\n<p>Lowering the heap sizes to their minimum values shows that <code>memsetLoop1</code> does initially have some light GC activity, but the allocations generated by direct interpretation of the loop code seem to get optimized out by the JIT, while in <code>memsetLoop2</code> this is not the case for whatever reason.</p>\n<p>I am quite puzzled by these facts, as I would expect functions to be optimized essentially identically once the iteration-invariant code is lifted out of the loop. If anyone has any clues as to why this behavior might be occurring, an explanation would be very much appreciated. Thank you!</p>\n"},{"tags":["java","intellij-idea","java-19"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1670957772,"post_id":74758372,"comment_id":131991961,"body_markdown":"Seems you have Code vision hints enabled in &quot;Settings/Preferences | Editor | Intentions&quot;. They show if there are any class/method usages in other files. There are no in your case.","body":"Seems you have Code vision hints enabled in &quot;Settings/Preferences | Editor | Intentions&quot;. They show if there are any class/method usages in other files. There are no in your case."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671543220,"post_id":74841684,"comment_id":132118114,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/74841684/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":6257712,"reputation":443,"user_id":4865750,"accept_rate":80,"display_name":"iChrome"},"score":0,"creation_date":1678452525,"post_id":74841684,"comment_id":133539862,"body_markdown":"thanks for the pointint out the exact settings, where i can turn it off. \nBut it would be better to explain it in your answer instead of just giving a link to a picture. \nYour picture can become unavailable in the future, so your answer will become useless.","body":"thanks for the pointint out the exact settings, where i can turn it off.  But it would be better to explain it in your answer instead of just giving a link to a picture.  Your picture can become unavailable in the future, so your answer will become useless."}],"tags":[],"owner":{"account_id":27289519,"reputation":11,"user_id":20808165,"display_name":"ourrad-said-dev"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671369796,"creation_date":1671369796,"answer_id":74841684,"question_id":74758372,"body_markdown":"[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CS63m.png\r\n\r\nUncheck usages hint.","title":"no usage found in project files","body":"<p><a href=\"https://i.stack.imgur.com/CS63m.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Uncheck usages hint.</p>\n"},{"tags":[],"owner":{"account_id":7976630,"reputation":11,"user_id":6019596,"display_name":"Emmanuel Eban"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677183205,"creation_date":1677183182,"answer_id":75549865,"question_id":74758372,"body_markdown":"Right click on the no usage \r\nand you’ll see options saying hide click on that ","title":"no usage found in project files","body":"<p>Right click on the no usage\nand you’ll see options saying hide click on that</p>\n"}],"owner":{"display_name":"user20745795"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1666,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1682417411,"creation_date":1670733160,"question_id":74758372,"body_markdown":"I am learning Java last some days in IntelliJ. Yesterday I updated JDK (Java 19.0.1, 2022-10-18) and deleted old IntelliJ and installed new IntelliJ. After I created a project and it shows no usage.\r\n\r\n```\r\nno usage\r\npublic class Main {\r\nno usage\r\n    public static void main(String... args){\r\n        System.out.println(&quot;Hello world!&quot;);\r\n    }[enter image description here](https://i.stack.imgur.com/yizz1.png)\r\n}\r\n```\r\nIf I click on &quot;no usage&quot; then no usage found in project file and after on it then FIND USAGE BOX popup.\r\n\r\nI am beginner. Please help me. What is it and how to resolve?","title":"no usage found in project files","body":"<p>I am learning Java last some days in IntelliJ. Yesterday I updated JDK (Java 19.0.1, 2022-10-18) and deleted old IntelliJ and installed new IntelliJ. After I created a project and it shows no usage.</p>\n<pre><code>no usage\npublic class Main {\nno usage\n    public static void main(String... args){\n        System.out.println(&quot;Hello world!&quot;);\n    }[enter image description here](https://i.stack.imgur.com/yizz1.png)\n}\n</code></pre>\n<p>If I click on &quot;no usage&quot; then no usage found in project file and after on it then FIND USAGE BOX popup.</p>\n<p>I am beginner. Please help me. What is it and how to resolve?</p>\n"},{"tags":["java","gremlin","tinkerpop","amazon-neptune","tinkerpop3"],"comments":[{"owner":{"account_id":7115613,"reputation":14989,"user_id":5442034,"display_name":"Kelvin Lawrence"},"score":0,"creation_date":1682176981,"post_id":76080134,"comment_id":134175855,"body_markdown":"Is the question mainly about how to perform a `repeat...until` type of query? If yes I can provide some examples using the Gremlin `repeat` step. Will the queries always need to explicitly traverse some number of hops like 1,2,3 etc. or will they sometimes need to keep going until they hit a leaf node? The key Gremlin steps for this type of query are `repeat`, `until`, `times` and `loops`.","body":"Is the question mainly about how to perform a <code>repeat...until</code> type of query? If yes I can provide some examples using the Gremlin <code>repeat</code> step. Will the queries always need to explicitly traverse some number of hops like 1,2,3 etc. or will they sometimes need to keep going until they hit a leaf node? The key Gremlin steps for this type of query are <code>repeat</code>, <code>until</code>, <code>times</code> and <code>loops</code>."},{"owner":{"account_id":231613,"reputation":3000,"user_id":495939,"accept_rate":50,"display_name":"popcoder"},"score":0,"creation_date":1682179532,"post_id":76080134,"comment_id":134176157,"body_markdown":"@KelvinLawrence Hi Kevin, thanks for your reply. The queries are for a given number of hops only, no need to go until the leaf is hit. \n\nAlso, the question is also about modelling queries.\nEg: For scenario 1 in the question, the query is between two entities. \nSince entities (edges) are connected via tags (vertices),  the logic in my mind is:\n- find the tags associated with each entities\n- then apply those tags to &#39;from&#39; and &#39;to&#39; properties of the edges accordingly \n- apply required hops\n- get the matching edges and calculate the score\n\nNot sure how to translate this into a query.","body":"@KelvinLawrence Hi Kevin, thanks for your reply. The queries are for a given number of hops only, no need to go until the leaf is hit.   Also, the question is also about modelling queries. Eg: For scenario 1 in the question, the query is between two entities.  Since entities (edges) are connected via tags (vertices),  the logic in my mind is: - find the tags associated with each entities - then apply those tags to &#39;from&#39; and &#39;to&#39; properties of the edges accordingly  - apply required hops - get the matching edges and calculate the score  Not sure how to translate this into a query."},{"owner":{"account_id":7115613,"reputation":14989,"user_id":5442034,"display_name":"Kelvin Lawrence"},"score":0,"creation_date":1682192056,"post_id":76080134,"comment_id":134177727,"body_markdown":"It&#39;s interesting that your data model seems to be somewhat edge centric, with the main properties of interest being on the edges. Is it intended that the fourth edge has the same from and to node? Also is hash intended to be a property or could it instead not be used for the edge label?","body":"It&#39;s interesting that your data model seems to be somewhat edge centric, with the main properties of interest being on the edges. Is it intended that the fourth edge has the same from and to node? Also is hash intended to be a property or could it instead not be used for the edge label?"},{"owner":{"account_id":7115613,"reputation":14989,"user_id":5442034,"display_name":"Kelvin Lawrence"},"score":0,"creation_date":1682194818,"post_id":76080134,"comment_id":134178026,"body_markdown":"I added the steps to create the sample graph below as well as some sample queries. While doing this it feels like the data model you have may make the queries for questions you want to answer harder to write than they would be with some data model changes. For example computing the score between hashes, becomes a lot simpler if those values are stored on vertices. Most `repeat` `until` type queries start and end with a vertex and not an edge.","body":"I added the steps to create the sample graph below as well as some sample queries. While doing this it feels like the data model you have may make the queries for questions you want to answer harder to write than they would be with some data model changes. For example computing the score between hashes, becomes a lot simpler if those values are stored on vertices. Most <code>repeat</code> <code>until</code> type queries start and end with a vertex and not an edge."},{"owner":{"account_id":231613,"reputation":3000,"user_id":495939,"accept_rate":50,"display_name":"popcoder"},"score":0,"creation_date":1682334056,"post_id":76080134,"comment_id":134193299,"body_markdown":"Thanks @KelvinLawrence. Hash could be the edge label but this is the data model we have at the moment from the external party, so unfortunately we are unable to alter it. Same goes with switching hashes (entities) to vertices. Having said that, even if we switch the hashes to vertices, still we would have the same issue for other scenarios right? For example calculating the relationship between tags which would be edges after the switch.","body":"Thanks @KelvinLawrence. Hash could be the edge label but this is the data model we have at the moment from the external party, so unfortunately we are unable to alter it. Same goes with switching hashes (entities) to vertices. Having said that, even if we switch the hashes to vertices, still we would have the same issue for other scenarios right? For example calculating the relationship between tags which would be edges after the switch."}],"answers":[{"comments":[{"owner":{"account_id":231613,"reputation":3000,"user_id":495939,"accept_rate":50,"display_name":"popcoder"},"score":0,"creation_date":1682416424,"post_id":76081660,"comment_id":134208037,"body_markdown":"Hi Kevin, thanks for the detailed answer. I had tried to understand the solution, got a couple of questions on this:\n1. I had provided only some sample data. When I do an outE() count on our db for a tag, it returns be around 4k. I wanted to check whether line 2 and 3 goes through all 4K edges and corresponding inV()s before going to the next level?\n2. The idea is to calculate the total score for all possible paths within the given levels, but I think line 3 would terminate the loop when a match is hit, isnt it? so the other possible paths won&#39;t be considered right?","body":"Hi Kevin, thanks for the detailed answer. I had tried to understand the solution, got a couple of questions on this: 1. I had provided only some sample data. When I do an outE() count on our db for a tag, it returns be around 4k. I wanted to check whether line 2 and 3 goes through all 4K edges and corresponding inV()s before going to the next level? 2. The idea is to calculate the total score for all possible paths within the given levels, but I think line 3 would terminate the loop when a match is hit, isnt it? so the other possible paths won&#39;t be considered right?"},{"owner":{"account_id":231613,"reputation":3000,"user_id":495939,"accept_rate":50,"display_name":"popcoder"},"score":0,"creation_date":1682418532,"post_id":76081660,"comment_id":134208505,"body_markdown":"I had added 5 more edges to the original question to give the graph some data related to my comment above. With these 5 added edges, node 123454 has 3 paths to node 435677 with direct, 1 level and 2 levels. I added two extra edges to 123454 to show that there can be unrelated edges as well. With this dataset, scores between nodes 123454 &amp; 435677 with 0 hops (direct) should be 4, within 1 hop (direct + 1 hop) should be 9.4 (4 + 5.4). Within 2 hops it is  4 + 5.4 + 7.15. \nIf we consider nodes 345678 &amp; 435677, then direct is 0. Within 1 level is 4.75.\nCould you please advice?","body":"I had added 5 more edges to the original question to give the graph some data related to my comment above. With these 5 added edges, node 123454 has 3 paths to node 435677 with direct, 1 level and 2 levels. I added two extra edges to 123454 to show that there can be unrelated edges as well. With this dataset, scores between nodes 123454 &amp; 435677 with 0 hops (direct) should be 4, within 1 hop (direct + 1 hop) should be 9.4 (4 + 5.4). Within 2 hops it is  4 + 5.4 + 7.15.  If we consider nodes 345678 &amp; 435677, then direct is 0. Within 1 level is 4.75. Could you please advice?"},{"owner":{"account_id":7115613,"reputation":14989,"user_id":5442034,"display_name":"Kelvin Lawrence"},"score":1,"creation_date":1682430491,"post_id":76081660,"comment_id":134211818,"body_markdown":"By default this should be a breadth first search so it will explore all nodes/edges at the current depth before moving on to the next one. Did the query in the answer work for your updated dataset? If not it would be useful to update the question using the sample graph shown in the answer as a building block. That makes testing these additional scenarios/questions a lot easier.","body":"By default this should be a breadth first search so it will explore all nodes/edges at the current depth before moving on to the next one. Did the query in the answer work for your updated dataset? If not it would be useful to update the question using the sample graph shown in the answer as a building block. That makes testing these additional scenarios/questions a lot easier."},{"owner":{"account_id":231613,"reputation":3000,"user_id":495939,"accept_rate":50,"display_name":"popcoder"},"score":0,"creation_date":1683634467,"post_id":76081660,"comment_id":134393850,"body_markdown":"Thanks Kevin. Yes, it does BFS first. I had to find all possible paths from a node to another within the given number of hops. So I went with the path().by(id).by(score) query and run it separately for each hops and solved it. Thanks for all the details, it was really helpful :)","body":"Thanks Kevin. Yes, it does BFS first. I had to find all possible paths from a node to another within the given number of hops. So I went with the path().by(id).by(score) query and run it separately for each hops and solved it. Thanks for all the details, it was really helpful :)"}],"tags":[],"owner":{"account_id":7115613,"reputation":14989,"user_id":5442034,"display_name":"Kelvin Lawrence"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682250649,"creation_date":1682193127,"answer_id":76081660,"question_id":76080134,"body_markdown":"The following steps can be used to build a sample graph based on the data provided.\r\n\r\n```java\r\ng.addV(&#39;tag&#39;).property(id,123454).as(&#39;t1&#39;).\r\n  addV(&#39;tag&#39;).property(id,123478).as(&#39;t2&#39;).\r\n  addV(&#39;tag&#39;).property(id,345678).as(&#39;t3&#39;).\r\n  addV(&#39;tag&#39;).property(id,435677).as(&#39;t4&#39;).\r\n  addE(&#39;link&#39;).from(&#39;t1&#39;).to(&#39;t3&#39;).property(id,3455).property(&#39;hash&#39;,&#39;key1&#39;).property(&#39;score&#39;,2.4).\r\n  addE(&#39;link&#39;).from(&#39;t1&#39;).to(&#39;t2&#39;).property(id,3456).property(&#39;hash&#39;,&#39;key2&#39;).property(&#39;score&#39;,3.5).\r\n  addE(&#39;link&#39;).from(&#39;t3&#39;).to(&#39;t4&#39;).property(id,3457).property(&#39;hash&#39;,&#39;key2&#39;).property(&#39;score&#39;,3).\r\n  addE(&#39;link&#39;).from(&#39;t4&#39;).to(&#39;t4&#39;).property(id,3458).property(&#39;hash&#39;,&#39;key3&#39;).property(&#39;score&#39;,1)  \r\n```\r\nWe can confirm the graph looks OK by rendering it using a graph-notebook\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe query below can be used to show us the scores between nodes123454 and 435677. The `repeat` combines `until` with `loops` to check for a specific target, or reaching a given depth. The second `has` is necessary to make sure that we found the node we wanted and did not just hit the maximum depth.\r\n\r\n```java\r\ng.V(123454).\r\n  repeat(outE().inV().simplePath()).\r\n  until(hasId(435677).or().loops().is(2)).\r\n  hasId(435677).\r\n  path().\r\n    by(id).\r\n    by(&#39;score&#39;)\r\n```\r\n\r\nWhen run, using the Gremlin Console, we can see the results\r\n\r\n```java\r\ngremlin&gt; g.V(123454).\r\n......1&gt;   repeat(outE().inV().simplePath()).\r\n......2&gt;   until(hasId(435677).or().loops().is(2)).\r\n......3&gt;   hasId(435677).\r\n......4&gt;   path().\r\n......5&gt;     by(id).\r\n......6&gt;     by(&#39;score&#39;)\r\n\r\n==&gt;[123454,2.4,345678,3,435677]\r\n```\r\n\r\nAll that remains is to extend the query to compute the total score. The `sack` step is useful for this.\r\n\r\n```java\r\ngremlin&gt; g.withSack(0).\r\n......1&gt;   V(123454).\r\n......2&gt;   repeat(outE().sack(sum).by(&#39;score&#39;).inV().simplePath()).\r\n......3&gt;   until(hasId(435677).or().loops().is(2)).\r\n......4&gt;   hasId(435677).\r\n......5&gt;   sack()\r\n\r\n==&gt;5.4\r\n```\r\n\r\nWith these building blocks you should be able to create the queries to answer each of the scenarios.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8PuSF.png","title":"Neptune gremlin java traversing with hops","body":"<p>The following steps can be used to build a sample graph based on the data provided.</p>\n<pre class=\"lang-java prettyprint-override\"><code>g.addV('tag').property(id,123454).as('t1').\n  addV('tag').property(id,123478).as('t2').\n  addV('tag').property(id,345678).as('t3').\n  addV('tag').property(id,435677).as('t4').\n  addE('link').from('t1').to('t3').property(id,3455).property('hash','key1').property('score',2.4).\n  addE('link').from('t1').to('t2').property(id,3456).property('hash','key2').property('score',3.5).\n  addE('link').from('t3').to('t4').property(id,3457).property('hash','key2').property('score',3).\n  addE('link').from('t4').to('t4').property(id,3458).property('hash','key3').property('score',1)  \n</code></pre>\n<p>We can confirm the graph looks OK by rendering it using a graph-notebook</p>\n<p><a href=\"https://i.stack.imgur.com/8PuSF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8PuSF.png\" alt=\"enter image description here\" /></a></p>\n<p>The query below can be used to show us the scores between nodes123454 and 435677. The <code>repeat</code> combines <code>until</code> with <code>loops</code> to check for a specific target, or reaching a given depth. The second <code>has</code> is necessary to make sure that we found the node we wanted and did not just hit the maximum depth.</p>\n<pre class=\"lang-java prettyprint-override\"><code>g.V(123454).\n  repeat(outE().inV().simplePath()).\n  until(hasId(435677).or().loops().is(2)).\n  hasId(435677).\n  path().\n    by(id).\n    by('score')\n</code></pre>\n<p>When run, using the Gremlin Console, we can see the results</p>\n<pre class=\"lang-java prettyprint-override\"><code>gremlin&gt; g.V(123454).\n......1&gt;   repeat(outE().inV().simplePath()).\n......2&gt;   until(hasId(435677).or().loops().is(2)).\n......3&gt;   hasId(435677).\n......4&gt;   path().\n......5&gt;     by(id).\n......6&gt;     by('score')\n\n==&gt;[123454,2.4,345678,3,435677]\n</code></pre>\n<p>All that remains is to extend the query to compute the total score. The <code>sack</code> step is useful for this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>gremlin&gt; g.withSack(0).\n......1&gt;   V(123454).\n......2&gt;   repeat(outE().sack(sum).by('score').inV().simplePath()).\n......3&gt;   until(hasId(435677).or().loops().is(2)).\n......4&gt;   hasId(435677).\n......5&gt;   sack()\n\n==&gt;5.4\n</code></pre>\n<p>With these building blocks you should be able to create the queries to answer each of the scenarios.</p>\n"}],"owner":{"account_id":231613,"reputation":3000,"user_id":495939,"accept_rate":50,"display_name":"popcoder"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76081660,"answer_count":1,"score":1,"last_activity_date":1682417398,"creation_date":1682173439,"question_id":76080134,"body_markdown":"We have a model in neptune db for tag and entity relationship as follows:\r\n\r\nVertices - tags. \r\n````\r\nid\r\n---\r\n123454\r\n123478\r\n345678\r\n435677\r\n890890\r\n727455\r\n345588\r\n....\r\n....\r\n````\r\n\r\n````Edges - entities\r\nid   | from   | to     | hash | score\r\n---------------------------------------------\r\n3455 | 123454 | 345678 | key1 | 2.4\r\n3456 | 123454 | 123478 | key2 | 3.5\r\n3457 | 345678 | 435677 | key2 | 3\r\n3458 | 435677 | 435677 | key3 | 1\r\n3459 | 123454 | 435677 | key4 | 4\r\n3460 | 345678 | 890890 | key5 | 3.25\r\n3461 | 890890 | 435677 | key6 | 1.5\r\n3462 | 123454 | 727455 | key7 | 0.5\r\n3463 | 123454 | 345588 | key8 | 0.75\r\n````\r\n\r\nFrom and to are in and out vertices (ids of tags).\r\nNote that in the edges, &#39;hash&#39; can have duplicate values.\r\n\r\nWe are programming in Java and using tinkerpop gremlin version 3.5 as the client.\r\n\r\nBasically I&#39;m trying to find the aggregated scores for between tags and entities using a max hop provided. \r\n\r\nexample request scenarios:\r\n1) entity-entity:\r\n   total score between entity hashes &#39;key1&#39; and &#39;key2&#39; with max hops 2 \r\n\r\n2) tag-tag:\r\n   total score between tag ids &#39;123454&#39; and &#39;435677&#39; with max hops 1 \r\n\r\n3) tag-entity:\r\n   total score between tag id &#39;123454&#39; and entity hash &#39;key1&#39; with max hops 0 (direct) \r\n\r\nI&#39;m new to neptune/gremline and don&#39;t have a proper idea on how to do this. Have been referring to tinkerpop documentations without much progress. \r\n\r\nan example of a query that I have done for scenario 3 is:\r\n````\r\nList&lt;Map&lt;Object, Object&gt;&gt; = graphTraversalSource.V(tagId).outE().has(&quot;hash&quot;, entityHash).valueMap().toList());\r\n````\r\nAnd then get the scores by iterating the list and sum them.\r\nIt works for direct, but not sure how to continue this for 1 hop or 2 hops.\r\n\r\nAlso, this is for tag-entity only. Haven&#39;t managed to do the tag-tag or entity-entity scoring.\r\n\r\nAny ideas on modelling these queries would be really helpful. \r\nMany thanks!","title":"Neptune gremlin java traversing with hops","body":"<p>We have a model in neptune db for tag and entity relationship as follows:</p>\n<p>Vertices - tags.</p>\n<pre><code>id\n---\n123454\n123478\n345678\n435677\n890890\n727455\n345588\n....\n....\n</code></pre>\n<pre><code>id   | from   | to     | hash | score\n---------------------------------------------\n3455 | 123454 | 345678 | key1 | 2.4\n3456 | 123454 | 123478 | key2 | 3.5\n3457 | 345678 | 435677 | key2 | 3\n3458 | 435677 | 435677 | key3 | 1\n3459 | 123454 | 435677 | key4 | 4\n3460 | 345678 | 890890 | key5 | 3.25\n3461 | 890890 | 435677 | key6 | 1.5\n3462 | 123454 | 727455 | key7 | 0.5\n3463 | 123454 | 345588 | key8 | 0.75\n</code></pre>\n<p>From and to are in and out vertices (ids of tags).\nNote that in the edges, 'hash' can have duplicate values.</p>\n<p>We are programming in Java and using tinkerpop gremlin version 3.5 as the client.</p>\n<p>Basically I'm trying to find the aggregated scores for between tags and entities using a max hop provided.</p>\n<p>example request scenarios:</p>\n<ol>\n<li><p>entity-entity:\ntotal score between entity hashes 'key1' and 'key2' with max hops 2</p>\n</li>\n<li><p>tag-tag:\ntotal score between tag ids '123454' and '435677' with max hops 1</p>\n</li>\n<li><p>tag-entity:\ntotal score between tag id '123454' and entity hash 'key1' with max hops 0 (direct)</p>\n</li>\n</ol>\n<p>I'm new to neptune/gremline and don't have a proper idea on how to do this. Have been referring to tinkerpop documentations without much progress.</p>\n<p>an example of a query that I have done for scenario 3 is:</p>\n<pre><code>List&lt;Map&lt;Object, Object&gt;&gt; = graphTraversalSource.V(tagId).outE().has(&quot;hash&quot;, entityHash).valueMap().toList());\n</code></pre>\n<p>And then get the scores by iterating the list and sum them.\nIt works for direct, but not sure how to continue this for 1 hop or 2 hops.</p>\n<p>Also, this is for tag-entity only. Haven't managed to do the tag-tag or entity-entity scoring.</p>\n<p>Any ideas on modelling these queries would be really helpful.\nMany thanks!</p>\n"},{"tags":["java","hibernate","java-19"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1670939430,"post_id":74785424,"comment_id":131985314,"body_markdown":"I do believe every third Q last month(s) related to HBN/JPA was raised due to incompatibility between JPA2.x and JPA3. Remove everything containing &quot;eclipse&quot; and &quot;jpa&quot; from project dependencies, replace everywhere &quot;javax.persistence&quot; by &quot;jakarta.persistence&quot;","body":"I do believe every third Q last month(s) related to HBN/JPA was raised due to incompatibility between JPA2.x and JPA3. Remove everything containing &quot;eclipse&quot; and &quot;jpa&quot; from project dependencies, replace everywhere &quot;javax.persistence&quot; by &quot;jakarta.persistence&quot;"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1670949413,"post_id":74785424,"comment_id":131989098,"body_markdown":"Please don&#39;t post images of code, errors, logs, or other text; see [ask].","body":"Please don&#39;t post images of code, errors, logs, or other text; see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":22250899,"reputation":1,"user_id":16483830,"display_name":"Santi Miquel"},"score":0,"creation_date":1670966673,"post_id":74785424,"comment_id":131994374,"body_markdown":"Thanks for the advice @Robert . Much more readable than before.","body":"Thanks for the advice @Robert . Much more readable than before."},{"owner":{"account_id":22250899,"reputation":1,"user_id":16483830,"display_name":"Santi Miquel"},"score":0,"creation_date":1670970555,"post_id":74785424,"comment_id":131995290,"body_markdown":"Thanks @AndreyB.Panfilov , I have tried as you say, but it doesn&#39;t work for me at the moment. \n\nI&#39;m starting to think that maybe the xml urls are failing. I will continue to investigate what you say about the incompatibility between JPA2.x and JPA3.","body":"Thanks @AndreyB.Panfilov , I have tried as you say, but it doesn&#39;t work for me at the moment.   I&#39;m starting to think that maybe the xml urls are failing. I will continue to investigate what you say about the incompatibility between JPA2.x and JPA3."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1670977117,"post_id":74785424,"comment_id":131996573,"body_markdown":"in JPA3 eclipse foundation developers renamed package name from &quot;javax.persistence&quot; to &quot;jakarta.persistence&quot; which in turn caused a lot of incompatibilities between old and new libraries, for example yours `HolaMundoHibernate` uses `EntityManagerFactory` from `javax.persistence` while `org.hibernate.jpa.HibernatePersistenceProvider` inherits `jakarta.persistence.spi.PersistenceProvider`","body":"in JPA3 eclipse foundation developers renamed package name from &quot;javax.persistence&quot; to &quot;jakarta.persistence&quot; which in turn caused a lot of incompatibilities between old and new libraries, for example yours <code>HolaMundoHibernate</code> uses <code>EntityManagerFactory</code> from <code>javax.persistence</code> while <code>org.hibernate.jpa.HibernatePersistenceProvider</code> inherits <code>jakarta.persistence.spi.PersistenceProvider</code>"},{"owner":{"account_id":22250899,"reputation":1,"user_id":16483830,"display_name":"Santi Miquel"},"score":0,"creation_date":1671032847,"post_id":74785424,"comment_id":132010873,"body_markdown":"I was able to solve that problem. Thanks for your help. \nI needed to change this in the persistence.xml:\n`&lt;persistence version=&quot;3.0&quot; xmlns=&quot;https://jakarta.ee/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/persistence\n            https://jakarta.ee/xml/ns/persistence/persistence_3_0.xsd&quot;&gt;`\nNow I have another error, the root cannot be resolved.\n`Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: org.hibernate.query.sqm.UnknownEntityException: Could not resolve root entity &#39;persona&#39;`","body":"I was able to solve that problem. Thanks for your help.  I needed to change this in the persistence.xml: <code>&lt;persistence version=&quot;3.0&quot; xmlns=&quot;https:&#47;&#47;jakarta.ee&#47;xml&#47;ns&#47;persistence&quot; xmlns:xsi=&quot;http:&#47;&#47;www.w3.org&#47;2001&#47;XMLSchema-instance&quot; xsi:schemaLocation=&quot;https:&#47;&#47;jakarta.ee&#47;xml&#47;ns&#47;persistence             https:&#47;&#47;jakarta.ee&#47;xml&#47;ns&#47;persistence&#47;persistence_3_0.xsd&quot;&gt;</code> Now I have another error, the root cannot be resolved. <code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: org.hibernate.query.sqm.UnknownEntityException: Could not resolve root entity &#39;persona&#39;</code>"},{"owner":{"account_id":22250899,"reputation":1,"user_id":16483830,"display_name":"Santi Miquel"},"score":0,"creation_date":1671032975,"post_id":74785424,"comment_id":132010921,"body_markdown":"I am still learning. I will investigate until it is solved. ;)","body":"I am still learning. I will investigate until it is solved. ;)"}],"owner":{"account_id":22250899,"reputation":1,"user_id":16483830,"display_name":"Santi Miquel"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682417359,"creation_date":1670937040,"question_id":74785424,"body_markdown":"I&#39;m a programming student and this is my first contact with Hibernate.\r\n\r\nWhen trying to make a program with netbeans 16 and JDK 19, using Hibernate to connect to a SQL database I get the following error.\r\n\r\n```\r\n\r\n    Exception in thread &quot;main&quot; javax.persistence.PersistenceException: No Persistence provider for EntityManager named HibernateEjemplo1\r\n    \tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:61)\r\n    \tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:39)\r\n    \tat test.HolaMundoHibernate.main(HolaMundoHibernate.java:12)\r\n    Command execution failed.\r\n\r\n```\r\n\r\nFollowing an internet tutorial I have done the following:\r\n1. I have created the database called **test** and the table called **persona** with SQL. \r\n\r\n2. I have created a java Maven project, called **HibernateExample1** with Netbeans 16 and JDK 19. \r\n\r\n3. I have modified the **pom.xml** file to add dependencies. I have only added the ones highlighted in blue, the rest have been added by themselves by doing **clean &amp; build** in the project.\r\n\r\n```xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;mx.com.gm&lt;/groupId&gt;\r\n        &lt;artifactId&gt;HibernateEjemplo1&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;maven.compiler.source&gt;19&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;19&lt;/maven.compiler.target&gt;\r\n            &lt;exec.mainClass&gt;HibernateEjemplo1&lt;/exec.mainClass&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n                &lt;version&gt;6.1.6.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                &lt;version&gt;8.0.28&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.13.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n                &lt;version&gt;2.13.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.0.Final&lt;/version&gt;\r\n                &lt;type&gt;jar&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n                &lt;artifactId&gt;org.eclipse.persistence.core&lt;/artifactId&gt;\r\n                &lt;version&gt;2.7.10&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n                &lt;artifactId&gt;org.eclipse.persistence.asm&lt;/artifactId&gt;\r\n                &lt;version&gt;9.2.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n                &lt;artifactId&gt;org.eclipse.persistence.antlr&lt;/artifactId&gt;\r\n                &lt;version&gt;2.7.10&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n                &lt;artifactId&gt;org.eclipse.persistence.jpa&lt;/artifactId&gt;\r\n                &lt;version&gt;2.7.10&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n                &lt;artifactId&gt;org.eclipse.persistence.jpa.jpql&lt;/artifactId&gt;\r\n                &lt;version&gt;2.7.10&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n                &lt;artifactId&gt;org.eclipse.persistence.moxy&lt;/artifactId&gt;\r\n                &lt;version&gt;2.7.10&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jakarta.persistence&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\n```\r\n\r\n4. I have created the **persistence.xml** file\r\n\r\n    ```xml\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;persistence version=&quot;2.2&quot; xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence  http://xmlns.jcp.org/xml/ns/persistence_2_2.xsd&quot;&gt;\r\n      &lt;persistence-unit name=&quot;HibernateEjemplo1&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n        &lt;class&gt;mx.com.gm.domain.Persona&lt;/class&gt;\r\n        &lt;properties&gt;\r\n          &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://localhost:3306/mysql?zeroDateTimeBehavior=CONVERT_TO_NULL&quot;/&gt;\r\n          &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;root&quot;/&gt;\r\n          &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;password&quot;/&gt;\r\n          &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;com.mysql.cj.jdbc.Driver&quot;/&gt;\r\n          &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\r\n          &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MySQLDialect&quot;/&gt;\r\n        &lt;/properties&gt;\r\n      &lt;/persistence-unit&gt;\r\n    &lt;/persistence&gt;\r\n    ```\r\n\r\n5. I have created the file **log4j2.xml**\r\n\r\n    ```xml\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Configuration status=&quot;INFO&quot;&gt;\r\n        &lt;Appenders&gt;\r\n            &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n                &lt;PatternLayout pattern=&quot;%d{HH:mm:ss} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\r\n            &lt;/Console&gt;\r\n        &lt;/Appenders&gt;\r\n        &lt;Loggers&gt;\r\n            &lt;Logger name=&quot;org.hibernate.SQL&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;Console&quot;/&gt;\r\n            &lt;/Logger&gt;\r\n            &lt;Logger name=&quot;org.hibernate.type.descriptor.sql.BasicBinder&quot; level=&quot;trace&quot; additivity=&quot;false&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;Console&quot;/&gt;\r\n            &lt;/Logger&gt;\r\n            &lt;Root level=&quot;info&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;Console&quot;/&gt;\r\n            &lt;/Root&gt;\r\n        &lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;\r\n    ```\r\n\r\n6. I have created the class **Persona.java** which has the same attributes as my SQL table.\r\n\r\n    ```java\r\n    package mx.com.gm.domain;\r\n    \r\n    import java.io.Serializable;\r\n    import javax.persistence.*;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;persona&quot;)\r\n    public class Persona implements Serializable {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        @Column(name = &quot;id_persona&quot;)\r\n        @Id\r\n        private int idPersona;\r\n    \r\n        private String nombre;\r\n    \r\n        private String apellido;\r\n    \r\n        private String email;\r\n    \r\n        private String telefono;\r\n    \r\n        public Persona() {\r\n        }\r\n    \r\n        public int getIdPersona() {\r\n            return idPersona;\r\n        }\r\n    \r\n        public void setIdPersona(int idPersona) {\r\n            this.idPersona = idPersona;\r\n        }\r\n    \r\n        public String getNombre() {\r\n            return nombre;\r\n        }\r\n    \r\n        public void setNombre(String nombre) {\r\n            this.nombre = nombre;\r\n        }\r\n    \r\n        public String getApellido() {\r\n            return apellido;\r\n        }\r\n    \r\n        public void setApellido(String apellido) {\r\n            this.apellido = apellido;\r\n        }\r\n    \r\n        public String getEmail() {\r\n            return email;\r\n        }\r\n    \r\n        public void setEmail(String email) {\r\n            this.email = email;\r\n        }\r\n    \r\n        public String getTelefono() {\r\n            return telefono;\r\n        }\r\n    \r\n        public void setTelefono(String telefono) {\r\n            this.telefono = telefono;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Empleados{&quot; + &quot;idPersona=&quot; + idPersona + &quot;, nombre=&quot; + nombre + &quot;, apellido=&quot; + apellido + \r\n                    &quot;, email=&quot; + email + &quot;, telefono=&quot; + telefono + &#39;}&#39;;\r\n        }\r\n    \r\n    }\r\n        ```\r\n\r\n7. And finally, I have created the class **HolaMundoHibernate.java** to run the program. \r\n\r\n    ```java\r\n    package test;\r\n    \r\n    import java.util.List;\r\n    import javax.persistence.*;\r\n    import mx.com.gm.domain.Persona;\r\n    \r\n    \r\n    public class HolaMundoHibernate {\r\n        public static void main(String[] args) {\r\n            String hql = &quot;SELECT p FROM Persona p&quot;;\r\n            EntityManagerFactory fabrica = Persistence.createEntityManagerFactory(&quot;HibernateEjemplo1&quot;);\r\n            EntityManager entityManager = fabrica.createEntityManager();\r\n    \r\n            Query query = entityManager.createQuery(hql);\r\n            List&lt;Persona&gt; personas = query.getResultList();\r\n            \r\n            for (Persona p : personas) {\r\n                System.out.println(&quot;Persona: &quot; + p);\r\n            } \r\n    \r\n        }\r\n    }\r\n    ```\r\n\r\nWhen I run the program I get the following error:\r\n**No Persistence provider for EntityManager named HibernateEjemplo1**\r\n\r\nThe structure of my project is as follows. \r\n\r\n[Project structure](https://i.stack.imgur.com/QMrWt.png)\r\n\r\nAny help is welcome. \r\nThank you in advance.","title":"Hibernate error: No Persistence provider for EntityManager named HibernateEjemplo1","body":"<p>I'm a programming student and this is my first contact with Hibernate.</p>\n<p>When trying to make a program with netbeans 16 and JDK 19, using Hibernate to connect to a SQL database I get the following error.</p>\n<pre><code>\n    Exception in thread &quot;main&quot; javax.persistence.PersistenceException: No Persistence provider for EntityManager named HibernateEjemplo1\n        at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:61)\n        at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:39)\n        at test.HolaMundoHibernate.main(HolaMundoHibernate.java:12)\n    Command execution failed.\n\n</code></pre>\n<p>Following an internet tutorial I have done the following:</p>\n<ol>\n<li><p>I have created the database called <strong>test</strong> and the table called <strong>persona</strong> with SQL.</p>\n</li>\n<li><p>I have created a java Maven project, called <strong>HibernateExample1</strong> with Netbeans 16 and JDK 19.</p>\n</li>\n<li><p>I have modified the <strong>pom.xml</strong> file to add dependencies. I have only added the ones highlighted in blue, the rest have been added by themselves by doing <strong>clean &amp; build</strong> in the project.</p>\n</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n        &lt;groupId&gt;mx.com.gm&lt;/groupId&gt;\n        &lt;artifactId&gt;HibernateEjemplo1&lt;/artifactId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n        &lt;packaging&gt;jar&lt;/packaging&gt;\n        &lt;properties&gt;\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n            &lt;maven.compiler.source&gt;19&lt;/maven.compiler.source&gt;\n            &lt;maven.compiler.target&gt;19&lt;/maven.compiler.target&gt;\n            &lt;exec.mainClass&gt;HibernateEjemplo1&lt;/exec.mainClass&gt;\n        &lt;/properties&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n                &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n                &lt;version&gt;6.1.6.Final&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n                &lt;version&gt;8.0.28&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n                &lt;version&gt;2.13.0&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n                &lt;version&gt;2.13.0&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n                &lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\n                &lt;version&gt;1.0.0.Final&lt;/version&gt;\n                &lt;type&gt;jar&lt;/type&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n                &lt;artifactId&gt;org.eclipse.persistence.core&lt;/artifactId&gt;\n                &lt;version&gt;2.7.10&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n                &lt;artifactId&gt;org.eclipse.persistence.asm&lt;/artifactId&gt;\n                &lt;version&gt;9.2.0&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n                &lt;artifactId&gt;org.eclipse.persistence.antlr&lt;/artifactId&gt;\n                &lt;version&gt;2.7.10&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n                &lt;artifactId&gt;org.eclipse.persistence.jpa&lt;/artifactId&gt;\n                &lt;version&gt;2.7.10&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n                &lt;artifactId&gt;org.eclipse.persistence.jpa.jpql&lt;/artifactId&gt;\n                &lt;version&gt;2.7.10&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n                &lt;artifactId&gt;org.eclipse.persistence.moxy&lt;/artifactId&gt;\n                &lt;version&gt;2.7.10&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n                &lt;artifactId&gt;jakarta.persistence&lt;/artifactId&gt;\n                &lt;version&gt;2.2.3&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/project&gt;\n\n</code></pre>\n<ol start=\"4\">\n<li><p>I have created the <strong>persistence.xml</strong> file</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persistence version=&quot;2.2&quot; xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence  http://xmlns.jcp.org/xml/ns/persistence_2_2.xsd&quot;&gt;\n  &lt;persistence-unit name=&quot;HibernateEjemplo1&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n    &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n    &lt;class&gt;mx.com.gm.domain.Persona&lt;/class&gt;\n    &lt;properties&gt;\n      &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://localhost:3306/mysql?zeroDateTimeBehavior=CONVERT_TO_NULL&quot;/&gt;\n      &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;root&quot;/&gt;\n      &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;password&quot;/&gt;\n      &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;com.mysql.cj.jdbc.Driver&quot;/&gt;\n      &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\n      &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MySQLDialect&quot;/&gt;\n    &lt;/properties&gt;\n  &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n</li>\n<li><p>I have created the file <strong>log4j2.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;INFO&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%d{HH:mm:ss} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\n        &lt;/Console&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Logger name=&quot;org.hibernate.SQL&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\n        &lt;/Logger&gt;\n        &lt;Logger name=&quot;org.hibernate.type.descriptor.sql.BasicBinder&quot; level=&quot;trace&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\n        &lt;/Logger&gt;\n        &lt;Root level=&quot;info&quot;&gt;\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n</li>\n<li><p>I have created the class <strong>Persona.java</strong> which has the same attributes as my SQL table.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package mx.com.gm.domain;\n\nimport java.io.Serializable;\nimport javax.persistence.*;\n\n@Entity\n@Table(name = &quot;persona&quot;)\npublic class Persona implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Column(name = &quot;id_persona&quot;)\n    @Id\n    private int idPersona;\n\n    private String nombre;\n\n    private String apellido;\n\n    private String email;\n\n    private String telefono;\n\n    public Persona() {\n    }\n\n    public int getIdPersona() {\n        return idPersona;\n    }\n\n    public void setIdPersona(int idPersona) {\n        this.idPersona = idPersona;\n    }\n\n    public String getNombre() {\n        return nombre;\n    }\n\n    public void setNombre(String nombre) {\n        this.nombre = nombre;\n    }\n\n    public String getApellido() {\n        return apellido;\n    }\n\n    public void setApellido(String apellido) {\n        this.apellido = apellido;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getTelefono() {\n        return telefono;\n    }\n\n    public void setTelefono(String telefono) {\n        this.telefono = telefono;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Empleados{&quot; + &quot;idPersona=&quot; + idPersona + &quot;, nombre=&quot; + nombre + &quot;, apellido=&quot; + apellido + \n                &quot;, email=&quot; + email + &quot;, telefono=&quot; + telefono + '}';\n    }\n\n}\n    ```\n\n</code></pre>\n</li>\n<li><p>And finally, I have created the class <strong>HolaMundoHibernate.java</strong> to run the program.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package test;\n\nimport java.util.List;\nimport javax.persistence.*;\nimport mx.com.gm.domain.Persona;\n\n\npublic class HolaMundoHibernate {\n    public static void main(String[] args) {\n        String hql = &quot;SELECT p FROM Persona p&quot;;\n        EntityManagerFactory fabrica = Persistence.createEntityManagerFactory(&quot;HibernateEjemplo1&quot;);\n        EntityManager entityManager = fabrica.createEntityManager();\n\n        Query query = entityManager.createQuery(hql);\n        List&lt;Persona&gt; personas = query.getResultList();\n\n        for (Persona p : personas) {\n            System.out.println(&quot;Persona: &quot; + p);\n        } \n\n    }\n}\n</code></pre>\n</li>\n</ol>\n<p>When I run the program I get the following error:\n<strong>No Persistence provider for EntityManager named HibernateEjemplo1</strong></p>\n<p>The structure of my project is as follows.</p>\n<p><a href=\"https://i.stack.imgur.com/QMrWt.png\" rel=\"nofollow noreferrer\">Project structure</a></p>\n<p>Any help is welcome.\nThank you in advance.</p>\n"},{"tags":["java","email","selenium-webdriver","xpath","ui-automation"],"owner":{"account_id":27261804,"reputation":11,"user_id":20784529,"display_name":"Appas Azlan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682417335,"creation_date":1682415871,"question_id":76099760,"body_markdown":"    &lt;a href=&quot;mailto:support@gmail.co&quot; title=&quot;Contact Support&quot; &gt;\r\n\r\n\r\nThere is an icon which hold the above elements , when clicked on that icon, it will open the email conversation like this \r\n\r\nhttps://mail.google.com/mail/u/0/?fs=1&amp;tf=cm&amp;source=mailto&amp;to=support@gmail.co\r\n\r\nWhen I do click action on that icon there is no response but click action performed , is there any restriction behind this when do automation , other icon after this icons are all working fine \r\n\r\nI tried below and nothing worked \r\n\r\n 1. normal `click()` \r\n 2. `click()` using keyboard\r\n 3. `click()` using Action class \r\n````     \r\npublic LoginPage clickContactSupportLnk()\r\n\t{\r\n\t\t\r\n       WebElement inputField = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;pcs\\&quot;]&quot;));\r\n       Actions actions = new Actions(driver);\r\n\t   actions.moveToElement(inputField).click().build().perform();\r\n\t   waitForGivenTime(5);\r\n\t   wait.until(ExpectedConditions.urlToBe(&quot;https://mail.google.com/mail/u/0/?           fs=1&amp;tf=cm&amp;source=mailto&amp;to=support@gmail.co&quot;));\r\n\t\treturn this;\r\n\r\n\t}\r\n\r\n\r\npublic LoginPage clickContactSupportLnk()\r\n\t{\r\n\t\r\n      WebElement inputField = driver.findElement(By.xpath(&quot;//a[contains(text(),&#39;Sign Up&#39;)]&quot;));\r\n\t  inputField.sendKeys(Keys.TAB);\r\n\t  inputField.sendKeys(Keys.ENTER);\r\n\t  waitForGivenTime(5);\r\n\t  wait.until(ExpectedConditions.urlToBe(&quot;https:URL&quot;));\r\n\t  return this;\r\n\r\n\t}\r\n````\r\n     ","title":"Not able to perform click action with email chat support option","body":"<pre><code>&lt;a href=&quot;mailto:support@gmail.co&quot; title=&quot;Contact Support&quot; &gt;\n</code></pre>\n<p>There is an icon which hold the above elements , when clicked on that icon, it will open the email conversation like this</p>\n<p><a href=\"https://mail.google.com/mail/u/0/?fs=1&amp;tf=cm&amp;source=mailto&amp;to=support@gmail.co\" rel=\"nofollow noreferrer\">https://mail.google.com/mail/u/0/?fs=1&amp;tf=cm&amp;source=mailto&amp;to=support@gmail.co</a></p>\n<p>When I do click action on that icon there is no response but click action performed , is there any restriction behind this when do automation , other icon after this icons are all working fine</p>\n<p>I tried below and nothing worked</p>\n<ol>\n<li>normal <code>click()</code></li>\n<li><code>click()</code> using keyboard</li>\n<li><code>click()</code> using Action class</li>\n</ol>\n<pre><code>public LoginPage clickContactSupportLnk()\n    {\n        \n       WebElement inputField = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;pcs\\&quot;]&quot;));\n       Actions actions = new Actions(driver);\n       actions.moveToElement(inputField).click().build().perform();\n       waitForGivenTime(5);\n       wait.until(ExpectedConditions.urlToBe(&quot;https://mail.google.com/mail/u/0/?           fs=1&amp;tf=cm&amp;source=mailto&amp;to=support@gmail.co&quot;));\n        return this;\n\n    }\n\n\npublic LoginPage clickContactSupportLnk()\n    {\n    \n      WebElement inputField = driver.findElement(By.xpath(&quot;//a[contains(text(),'Sign Up')]&quot;));\n      inputField.sendKeys(Keys.TAB);\n      inputField.sendKeys(Keys.ENTER);\n      waitForGivenTime(5);\n      wait.until(ExpectedConditions.urlToBe(&quot;https:URL&quot;));\n      return this;\n\n    }\n</code></pre>\n"},{"tags":["java","visual-studio-code","gradle","java-19"],"answers":[{"comments":[{"owner":{"account_id":25504648,"reputation":21,"user_id":19297311,"display_name":"Rango"},"score":0,"creation_date":1670941330,"post_id":74785963,"comment_id":131986019,"body_markdown":"Hello thank you for your answer!  I set the `java.configuration.runtime` according to your comment and set the path to `/Library/Java/JavaVirtualMachines/jdk-19.jdk/Contents/Home`. However, unfortunately the errors persisted even after reloading the workspace and restarting VSCode. I also tried you alternative answer and set the two listed java versions to `19` but then I received the following error: `Unsupported class file major version 63`","body":"Hello thank you for your answer!  I set the <code>java.configuration.runtime</code> according to your comment and set the path to <code>&#47;Library&#47;Java&#47;JavaVirtualMachines&#47;jdk-19.jdk&#47;Contents&#47;Home</code>. However, unfortunately the errors persisted even after reloading the workspace and restarting VSCode. I also tried you alternative answer and set the two listed java versions to <code>19</code> but then I received the following error: <code>Unsupported class file major version 63</code>"},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1670942048,"post_id":74785963,"comment_id":131986288,"body_markdown":"@Rango - Set `distributionUrl=https\\://services.gradle.org/distributions/gradle-7.5.1-bin.zip` in gradle-wrapper.properties of your project. Also, make sure the same version is referenced in build.gradle file. Also, the build.gradle file should have jdk version 19 (e.g. `sourceCompatibility = &#39;19&#39;`).","body":"@Rango - Set <code>distributionUrl=https\\:&#47;&#47;services.gradle.org&#47;distributions&#47;g&zwnj;&#8203;radle-7.5.1-bin.zip</code> in gradle-wrapper.properties of your project. Also, make sure the same version is referenced in build.gradle file. Also, the build.gradle file should have jdk version 19 (e.g. <code>sourceCompatibility = &#39;19&#39;</code>)."}],"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670940111,"creation_date":1670939753,"answer_id":74785963,"question_id":74785464,"body_markdown":"Configure the `java.configuration.runtimes` property in your user settings.\r\n\r\nPress ⌘ + ⇧ + P (Command + Shift + P) and select `Preferences: Open User Settings (JSON)` from the list. Insert the following settings between the first `{` and the last `}`.\r\n\r\n    &quot;java.configuration.runtimes&quot;: [\r\n      {\r\n        &quot;name&quot;: &quot;JavaSE-1.8&quot;,\r\n        &quot;path&quot;: &quot;/path/to/jdk-8&quot;,\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;JavaSE-11&quot;,\r\n        &quot;path&quot;: &quot;/path/to/jdk-11&quot;,\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;JavaSE-19&quot;,\r\n        &quot;path&quot;: &quot;/path/to/jdk-19&quot;,\r\n        &quot;default&quot;: true\r\n      },\r\n    ]\r\n\r\nIf you do not have multiple versions of Java in your system, remove all but the last one (i.e. jdk-19). In any case, make sure `&quot;default&quot;: true` is there for jdk-19.\r\n\r\nAlternatively,\r\n--\r\n\r\nPress ⌘ + ⇧ + P and select `Java: Configure Java Runtime` from the list. Edit the value of `Java Version` on the resulting page.","title":"JDK 19 not being recognised in VSCode?","body":"<p>Configure the <code>java.configuration.runtimes</code> property in your user settings.</p>\n<p>Press ⌘ + ⇧ + P (Command + Shift + P) and select <code>Preferences: Open User Settings (JSON)</code> from the list. Insert the following settings between the first <code>{</code> and the last <code>}</code>.</p>\n<pre><code>&quot;java.configuration.runtimes&quot;: [\n  {\n    &quot;name&quot;: &quot;JavaSE-1.8&quot;,\n    &quot;path&quot;: &quot;/path/to/jdk-8&quot;,\n  },\n  {\n    &quot;name&quot;: &quot;JavaSE-11&quot;,\n    &quot;path&quot;: &quot;/path/to/jdk-11&quot;,\n  },\n  {\n    &quot;name&quot;: &quot;JavaSE-19&quot;,\n    &quot;path&quot;: &quot;/path/to/jdk-19&quot;,\n    &quot;default&quot;: true\n  },\n]\n</code></pre>\n<p>If you do not have multiple versions of Java in your system, remove all but the last one (i.e. jdk-19). In any case, make sure <code>&quot;default&quot;: true</code> is there for jdk-19.</p>\n<h2>Alternatively,</h2>\n<p>Press ⌘ + ⇧ + P and select <code>Java: Configure Java Runtime</code> from the list. Edit the value of <code>Java Version</code> on the resulting page.</p>\n"}],"owner":{"account_id":25504648,"reputation":21,"user_id":19297311,"display_name":"Rango"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1445,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1682417317,"creation_date":1670937273,"question_id":74785464,"body_markdown":"I have a grade project (7.6) that is also a LibGDX project and the latest java jdk (19.0.1) installed. I am on Mac OS Monterey btw.  \r\nThe problem is that when opening the gradle project inside VSCode it throws a lot of errors.  \r\nIt is however possible to run the program using the `gradle run` command.  \r\nHere are some examples of the errors that it throws:  \r\n```\r\nMethod references are allowed only at source level 1.8 or above\r\nSyntax error on token &quot;record&quot;, @ expected\r\nSyntax error on token &quot;double&quot;, { expected\r\nSyntax error on tokens, ClassHeader expected instead\r\nSyntax error on tokens, ClassInstanceCreationExpressionName expected instead\r\n```\r\n\r\nHere are the things that I have already tried to fix it:  \r\n1. Set the `JAVA_HOME` variable to `/Library/Java/JavaVirtualMachines/jdk-19.jdk/Contents/Home`\r\n2. Set `java.jdt.ls.java.home` to `/Library/Java/JavaVirtualMachines/jdk-19.jdk/Contents/Home` in the user and workspace section of the VSCode settings\r\n3. Switch the &quot;Language Support for Java(TM) by Red Hat&quot; VSCode extension to the pre-release version\r\n4. Clean and reload the Java Language Server Workspace  \r\n\r\nUnfortunately without any success. At this point I&#39;m clueless as to what else to try because it does work without problems with gradle, it&#39;s just inside VSCode that it shows all these errors.  \r\nThank you very much in advance!","title":"JDK 19 not being recognised in VSCode?","body":"<p>I have a grade project (7.6) that is also a LibGDX project and the latest java jdk (19.0.1) installed. I am on Mac OS Monterey btw.<br />\nThe problem is that when opening the gradle project inside VSCode it throws a lot of errors.<br />\nIt is however possible to run the program using the <code>gradle run</code> command.<br />\nHere are some examples of the errors that it throws:</p>\n<pre><code>Method references are allowed only at source level 1.8 or above\nSyntax error on token &quot;record&quot;, @ expected\nSyntax error on token &quot;double&quot;, { expected\nSyntax error on tokens, ClassHeader expected instead\nSyntax error on tokens, ClassInstanceCreationExpressionName expected instead\n</code></pre>\n<p>Here are the things that I have already tried to fix it:</p>\n<ol>\n<li>Set the <code>JAVA_HOME</code> variable to <code>/Library/Java/JavaVirtualMachines/jdk-19.jdk/Contents/Home</code></li>\n<li>Set <code>java.jdt.ls.java.home</code> to <code>/Library/Java/JavaVirtualMachines/jdk-19.jdk/Contents/Home</code> in the user and workspace section of the VSCode settings</li>\n<li>Switch the &quot;Language Support for Java(TM) by Red Hat&quot; VSCode extension to the pre-release version</li>\n<li>Clean and reload the Java Language Server Workspace</li>\n</ol>\n<p>Unfortunately without any success. At this point I'm clueless as to what else to try because it does work without problems with gradle, it's just inside VSCode that it shows all these errors.<br />\nThank you very much in advance!</p>\n"},{"tags":["java","methods","jtextfield"],"answers":[{"tags":[],"owner":{"account_id":27098859,"reputation":1,"user_id":20645728,"display_name":"Lukas Stieglitz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673427564,"creation_date":1673427564,"answer_id":75080486,"question_id":75080454,"body_markdown":"The problem you&#39;re experiencing is likely due to the fact that the list of files in the &quot;Procesador&quot; directory is only being read once, when the Registrar JFrame is first created. When a new file is added to the directory, the program doesn&#39;t know to refresh the list of files.\r\n\r\nOne way to fix this would be to update the list of files in the directory and repopulate the TextAutoCompleter every time the JFrame is made visible. You can do this by overriding the setVisible() method of the JFrame and updating the list of files and the TextAutoCompleter inside of it. ","title":"Autocomplete does not load data correctly","body":"<p>The problem you're experiencing is likely due to the fact that the list of files in the &quot;Procesador&quot; directory is only being read once, when the Registrar JFrame is first created. When a new file is added to the directory, the program doesn't know to refresh the list of files.</p>\n<p>One way to fix this would be to update the list of files in the directory and repopulate the TextAutoCompleter every time the JFrame is made visible. You can do this by overriding the setVisible() method of the JFrame and updating the list of files and the TextAutoCompleter inside of it.</p>\n"}],"owner":{"account_id":25855512,"reputation":9,"user_id":19590313,"display_name":"DanielLaz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1682417281,"creation_date":1673427381,"question_id":75080454,"body_markdown":"I have a problem with the following code, if filtered data appears to me, but it only filters it when the jframe starts, but not when I add a new one, I have to close the jframe and reopen it so that it just recognizes that data. I put the data in .txt\r\n\r\n```\r\nString barrapro = File.separator;\r\nString ubicacionpro = System.getProperty(&quot;user.dir&quot;)+barra+&quot;Procesador&quot;+barra;\r\n\r\nFile contenedorpro = new File(ubicacionpro);\r\nFile [] procesadorlistado = contenedorpro.listFiles();\r\n\r\npublic TextAutoCompleter AutocompletarProcesador;\r\n\r\npublic Registrar() {\r\n    initComponents();\r\n    setLocationRelativeTo(this);\r\n    AutocompleterReg();\r\n\r\n    public void AutocompleterReg() {\r\n        AutocompletarProcesador = new TextAutoCompleter(TProcesador1);\r\n        for (int i = 0; i &lt; procesadorlistado.length; i++) {\r\n            AutocompletarProcesador.addItem(procesadorlistado[i].getName().replace(&quot;.procesador&quot;, &quot;&quot;));\r\n        }\r\n    }\r\n```\r\n\r\nI saw in some forums that use repaint and but I only want that when one is modified in real time the filtering is updated, it does but it continues showing the data that was already deleted until I close the jframe and reopen it, I also tried to do it with timer but if I do that, it won&#39;t let me select as if it were google search, pressing the down arrow key to select the result I want.\r\n\r\n[video_recording.mp4][1]\r\n\r\n\r\n  [1]: https://files.catbox.moe/tf2cg7.mp4","title":"Autocomplete does not load data correctly","body":"<p>I have a problem with the following code, if filtered data appears to me, but it only filters it when the jframe starts, but not when I add a new one, I have to close the jframe and reopen it so that it just recognizes that data. I put the data in .txt</p>\n<pre><code>String barrapro = File.separator;\nString ubicacionpro = System.getProperty(&quot;user.dir&quot;)+barra+&quot;Procesador&quot;+barra;\n\nFile contenedorpro = new File(ubicacionpro);\nFile [] procesadorlistado = contenedorpro.listFiles();\n\npublic TextAutoCompleter AutocompletarProcesador;\n\npublic Registrar() {\n    initComponents();\n    setLocationRelativeTo(this);\n    AutocompleterReg();\n\n    public void AutocompleterReg() {\n        AutocompletarProcesador = new TextAutoCompleter(TProcesador1);\n        for (int i = 0; i &lt; procesadorlistado.length; i++) {\n            AutocompletarProcesador.addItem(procesadorlistado[i].getName().replace(&quot;.procesador&quot;, &quot;&quot;));\n        }\n    }\n</code></pre>\n<p>I saw in some forums that use repaint and but I only want that when one is modified in real time the filtering is updated, it does but it continues showing the data that was already deleted until I close the jframe and reopen it, I also tried to do it with timer but if I do that, it won't let me select as if it were google search, pressing the down arrow key to select the result I want.</p>\n<p><a href=\"https://files.catbox.moe/tf2cg7.mp4\" rel=\"nofollow noreferrer\">video_recording.mp4</a></p>\n"},{"tags":["java","oop","module","java-module"],"answers":[{"tags":[],"owner":{"account_id":1596247,"reputation":388,"user_id":1478302,"display_name":"Seldon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682417262,"creation_date":1682417262,"answer_id":76099967,"question_id":75697807,"body_markdown":"Since you want to let anyone add new implementations of your APIs, exporting them via unrestricted `exports` is the right choice.\r\n\r\n&gt;  it will be accessible in every other modules, also in unrelated ones.\r\n\r\nThis is only true if the other module `requires` these API modules. Since **app** only `requires` the API, a module reading **app** does not automatically read the modules required by it. This would be different if you used `requires transitive`.\r\n\r\nWith `exports to`, you are limiting the number of modules that can provide implementations of the API to a known list. This would be similar to sealed classes; the API knows and restricts its implementations. There might be use cases for this, for example if you developed a closed system of modules and providing a service within that should be considered an implementation detail. Normally however, you want the service API to be public.","title":"Logical architecture based on modules and SPI","body":"<p>Since you want to let anyone add new implementations of your APIs, exporting them via unrestricted <code>exports</code> is the right choice.</p>\n<blockquote>\n<p>it will be accessible in every other modules, also in unrelated ones.</p>\n</blockquote>\n<p>This is only true if the other module <code>requires</code> these API modules. Since <strong>app</strong> only <code>requires</code> the API, a module reading <strong>app</strong> does not automatically read the modules required by it. This would be different if you used <code>requires transitive</code>.</p>\n<p>With <code>exports to</code>, you are limiting the number of modules that can provide implementations of the API to a known list. This would be similar to sealed classes; the API knows and restricts its implementations. There might be use cases for this, for example if you developed a closed system of modules and providing a service within that should be considered an implementation detail. Normally however, you want the service API to be public.</p>\n"}],"owner":{"account_id":13261429,"reputation":49,"user_id":9575885,"display_name":"SmallDevice"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682417262,"creation_date":1678460871,"question_id":75697807,"body_markdown":"I&#39;m looking for the most proper way to design a modular application with ServiceLoader.\r\n\r\n**--MAIN IDEA--**\r\n\r\n - module ***app.view*** | *exports* `app.view.View` interface that defines UI api\r\n - module ***app.engine*** | *exports* `app.engine.Engine` interface that defines Engine (core functionality) api\r\n - module ***app*** | (entry point) *requires* and *uses* `app.view`, `app.engine` in order to combine them into actual program\r\n\r\nThe app will be open for extension, anyone can add new implementations of `app.engine.Engine` and `app.view.View` interfaces.\r\n\r\n**--CONCERNS--**\r\n\r\nSince `app.view`, `app.engine` will be exported through *exports* keyword, it will be accessible in every other modules, also in unrelated ones. This feels like a design mistake. Is it?\r\n\r\nOn the other hand, if I&#39;d change *exports* to *exports to* I could force it to be accessible only in related modules, but it will not be extension friendly anymore.\r\n\r\nIs my design idea proper for that kind of application? Should I ignore my concerns? If so, why?","title":"Logical architecture based on modules and SPI","body":"<p>I'm looking for the most proper way to design a modular application with ServiceLoader.</p>\n<p><strong>--MAIN IDEA--</strong></p>\n<ul>\n<li>module <em><strong>app.view</strong></em> | <em>exports</em> <code>app.view.View</code> interface that defines UI api</li>\n<li>module <em><strong>app.engine</strong></em> | <em>exports</em> <code>app.engine.Engine</code> interface that defines Engine (core functionality) api</li>\n<li>module <em><strong>app</strong></em> | (entry point) <em>requires</em> and <em>uses</em> <code>app.view</code>, <code>app.engine</code> in order to combine them into actual program</li>\n</ul>\n<p>The app will be open for extension, anyone can add new implementations of <code>app.engine.Engine</code> and <code>app.view.View</code> interfaces.</p>\n<p><strong>--CONCERNS--</strong></p>\n<p>Since <code>app.view</code>, <code>app.engine</code> will be exported through <em>exports</em> keyword, it will be accessible in every other modules, also in unrelated ones. This feels like a design mistake. Is it?</p>\n<p>On the other hand, if I'd change <em>exports</em> to <em>exports to</em> I could force it to be accessible only in related modules, but it will not be extension friendly anymore.</p>\n<p>Is my design idea proper for that kind of application? Should I ignore my concerns? If so, why?</p>\n"},{"tags":["java","windows","javafx","jpackage","java-19"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1675039009,"post_id":75277031,"comment_id":132836589,"body_markdown":"Does it work without the argument`--vm=client`?","body":"Does it work without the argument<code>--vm=client</code>?"},{"owner":{"account_id":371614,"reputation":888,"user_id":720236,"display_name":"Andrea Vacondio"},"score":0,"creation_date":1675077312,"post_id":75277031,"comment_id":132843672,"body_markdown":"Yes it works. The generated runtime has a `server` directory and the application starts","body":"Yes it works. The generated runtime has a <code>server</code> directory and the application starts"},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1675101753,"post_id":75277031,"comment_id":132851955,"body_markdown":"Which jdk-19 are you using? That setting just gives an error message for me: `jlink --vm=client --add-modules java.base --output myruntime`.","body":"Which jdk-19 are you using? That setting just gives an error message for me: <code>jlink --vm=client --add-modules java.base --output myruntime</code>."},{"owner":{"account_id":371614,"reputation":888,"user_id":720236,"display_name":"Andrea Vacondio"},"score":0,"creation_date":1675157123,"post_id":75277031,"comment_id":132863020,"body_markdown":"I&#39;m using Liberica and you are right, using Oracle jdk the `--vm=client` gives an error while without it it seems to default to the `server` value (lib subirectory only contains the server version). With Liberica, leaving the parameter out it generates `server`, `client` and `minimal`.","body":"I&#39;m using Liberica and you are right, using Oracle jdk the <code>--vm=client</code> gives an error while without it it seems to default to the <code>server</code> value (lib subirectory only contains the server version). With Liberica, leaving the parameter out it generates <code>server</code>, <code>client</code> and <code>minimal</code>."}],"answers":[{"comments":[{"owner":{"account_id":371614,"reputation":888,"user_id":720236,"display_name":"Andrea Vacondio"},"score":0,"creation_date":1675157298,"post_id":75289286,"comment_id":132863061,"body_markdown":"Thanks, that&#39;s helpful. Also quoting my comment in reply to @DuncG comment: I&#39;m using Liberica... using Oracle jdk the `--vm=client` gives an error while without it it seems to default to the `server` value (lib subirectory only contains the server version). With Liberica, leaving the parameter out it generates `server`, `client` and `minimal`.","body":"Thanks, that&#39;s helpful. Also quoting my comment in reply to @DuncG comment: I&#39;m using Liberica... using Oracle jdk the <code>--vm=client</code> gives an error while without it it seems to default to the <code>server</code> value (lib subirectory only contains the server version). With Liberica, leaving the parameter out it generates <code>server</code>, <code>client</code> and <code>minimal</code>."}],"tags":[],"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1675107345,"creation_date":1675107345,"answer_id":75289286,"question_id":75277031,"body_markdown":"Don&#39;t use the `jlink` option:\r\n\r\n    --vm=client\r\n\r\nAt least for Oracle JDK, and probably for other JDK distributions as well, the [client VM is no longer part of the distribution][1]: \r\n\r\n&gt; In Oracle Java Runtime Environment (JRE) 8 and earlier, different implementations of the JVM, (the client VM, server VM, and minimal VM), were supported for configurations commonly used as clients, servers, and for embedded systems. As most systems can now take advantage of the server VM, the Oracle Java Runtime Environment (JRE) 9 provides only that VM implementation.\r\n\r\nThe [`jlink`][2] documentation states: \r\n\r\n&gt; Plug-ins not listed in this section aren&#39;t supported and are subject to change.\r\n\r\nThe `vm` plugin isn&#39;t listed in the documentation, so it really should not be used. \r\n\r\n  [1]: https://docs.oracle.com/javase/9/vm/java-virtual-machine-technology-overview.htm#JSJVM-GUID-982B244A-9B01-479A-8651-CB6475019281\r\n  [2]: https://docs.oracle.com/en/java/javase/19/docs/specs/man/jlink.html#jlink-plug-ins","title":"Exe generated with Jpackage loads wrong jvm.dll","body":"<p>Don't use the <code>jlink</code> option:</p>\n<pre><code>--vm=client\n</code></pre>\n<p>At least for Oracle JDK, and probably for other JDK distributions as well, the <a href=\"https://docs.oracle.com/javase/9/vm/java-virtual-machine-technology-overview.htm#JSJVM-GUID-982B244A-9B01-479A-8651-CB6475019281\" rel=\"nofollow noreferrer\">client VM is no longer part of the distribution</a>:</p>\n<blockquote>\n<p>In Oracle Java Runtime Environment (JRE) 8 and earlier, different implementations of the JVM, (the client VM, server VM, and minimal VM), were supported for configurations commonly used as clients, servers, and for embedded systems. As most systems can now take advantage of the server VM, the Oracle Java Runtime Environment (JRE) 9 provides only that VM implementation.</p>\n</blockquote>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/19/docs/specs/man/jlink.html#jlink-plug-ins\" rel=\"nofollow noreferrer\"><code>jlink</code></a> documentation states:</p>\n<blockquote>\n<p>Plug-ins not listed in this section aren't supported and are subject to change.</p>\n</blockquote>\n<p>The <code>vm</code> plugin isn't listed in the documentation, so it really should not be used.</p>\n"}],"owner":{"account_id":371614,"reputation":888,"user_id":720236,"display_name":"Andrea Vacondio"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75289286,"answer_count":1,"score":2,"last_activity_date":1682417247,"creation_date":1675014242,"question_id":75277031,"body_markdown":"I&#39;m trying to generate the Windows bundle of my JavaFX application using JPackage. I&#39;m running on Liberica JDK 19 and my scripts first generate a runtime using JLink with a `--vm=client` argument and then they run jpackage with a `--runtime-image` pointing to the generated image.\r\n\r\nEverything runs fine when I launch the application generated by jpackage using a .bat script, but when I run the the generated .exe I get an error and, looking at the debug information, it seems the .exe is loading the jvm.dll from the `runtime\\bin\\server` instead of the `runtime\\bin\\client` folder:\r\n```none\r\n[TRACE] app.cpp:123: Entering app::launch\r\n[TRACE] AppLauncher.cpp:116: Launcher config file path: &quot;C:\\delete\\pdfsam-5.0.0-SNAPSHOT-windows\\pdfsam\\app\\pdfsam.cfg&quot;\r\n[TRACE] JvmLauncher.cpp:44: Jvm(000001319907E960)::Jvm()\r\n[TRACE] AppLauncher.cpp:76: Property &quot;app.runtime&quot; not found in &quot;Application&quot; section of launcher config file. Using Java runtime from &quot;C:\\delete\\pdfsam-5.0.0-SNAPSHOT-windows\\pdfsam\\runtime&quot; directory\r\n[TRACE] JvmLauncher.cpp:49: Jvm(000001319907E960)::~Jvm()\r\n[TRACE] app.cpp:123: Entering app::launch\r\n[TRACE] AppLauncher.cpp:116: Launcher config file path: &quot;C:\\delete\\pdfsam-5.0.0-SNAPSHOT-windows\\pdfsam\\app\\pdfsam.cfg&quot;\r\n[TRACE] JvmLauncher.cpp:44: Jvm(00000200C91AE310)::Jvm()\r\n[TRACE] AppLauncher.cpp:76: Property &quot;app.runtime&quot; not found in &quot;Application&quot; section of launcher config file. Using Java runtime from &quot;C:\\delete\\pdfsam-5.0.0-SNAPSHOT-windows\\pdfsam\\runtime&quot; directory\r\n[TRACE] WinLauncher.cpp:216: SetDllDirectory to: C:\\delete\\pdfsam-5.0.0-SNAPSHOT-windows\\pdfsam\\runtime\\bin\r\n[TRACE] WinLauncher.cpp:73: Entering `anonymous-namespace&#39;::loadDllWithAddDllDirectory\r\n[TRACE] WinLauncher.cpp:89: AddDllDirectory(C:\\delete\\pdfsam-5.0.0-SNAPSHOT-windows\\pdfsam\\runtime\\bin): OK\r\n[TRACE] WinLauncher.cpp:97: LoadLibraryEx(C:\\delete\\pdfsam-5.0.0-SNAPSHOT-windows\\pdfsam\\runtime\\bin\\jli.dll, LOAD_LIBRARY_SEARCH_DEFAULT_DIRS): 00007FFCCB100000\r\n[TRACE] WinLauncher.cpp:0: Exiting `anonymous-namespace&#39;::loadDllWithAddDllDirectory (entered at WinLauncher.cpp:73)\r\n[TRACE] WinLauncher.cpp:73: Entering `anonymous-namespace&#39;::loadDllWithAddDllDirectory\r\n[TRACE] WinLauncher.cpp:0: Exiting `anonymous-namespace&#39;::loadDllWithAddDllDirectory (entered at WinLauncher.cpp:73)\r\n[TRACE] WinLauncher.cpp:52: Entering `anonymous-namespace&#39;::loadDllWithAlteredPATH\r\n[TRACE] WinLauncher.cpp:62: New value of PATH: SOME PATH HERE;C:\\delete\\pdfsam-5.0.0-SNAPSHOT-windows\\pdfsam\\app;C:\\delete\\pdfsam-5.0.0-SNAPSHOT-windows\\pdfsam\\runtime\\bin\\server\r\n[TRACE] WinLauncher.cpp:0: Exiting `anonymous-namespace&#39;::loadDllWithAlteredPATH (entered at WinLauncher.cpp:52)\r\n[TRACE] JvmLauncher.cpp:49: Jvm(00000200C91AE310)::~Jvm()\r\n[ERROR] app.cpp:179: Exception with message &#39;WinDll.cpp(40) at `anonymous-namespace&#39;::loadLibrary(): LoadLibraryW(C:\\delete\\pdfsam-5.0.0-SNAPSHOT-windows\\pdfsam\\runtime\\bin\\server\\jvm.dll) failed. System error [126](system error 126 (Impossibile trovare il modulo specificato))&#39; caught\r\nLoadLibraryW(C:\\delete\\pdfsam-5.0.0-SNAPSHOT-windows\\pdfsam\\runtime\\bin\\server\\jvm.dll) failed. System error [126](system error 126 (Impossibile trovare il modulo specificato))\r\n[TRACE] app.cpp:0: Exiting app::launch (entered at app.cpp:123)\r\n```\r\n\r\nAny idea what I might be doing wrong? ","title":"Exe generated with Jpackage loads wrong jvm.dll","body":"<p>I'm trying to generate the Windows bundle of my JavaFX application using JPackage. I'm running on Liberica JDK 19 and my scripts first generate a runtime using JLink with a <code>--vm=client</code> argument and then they run jpackage with a <code>--runtime-image</code> pointing to the generated image.</p>\n<p>Everything runs fine when I launch the application generated by jpackage using a .bat script, but when I run the the generated .exe I get an error and, looking at the debug information, it seems the .exe is loading the jvm.dll from the <code>runtime\\bin\\server</code> instead of the <code>runtime\\bin\\client</code> folder:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[TRACE] app.cpp:123: Entering app::launch\n[TRACE] AppLauncher.cpp:116: Launcher config file path: &quot;C:\\delete\\pdfsam-5.0.0-SNAPSHOT-windows\\pdfsam\\app\\pdfsam.cfg&quot;\n[TRACE] JvmLauncher.cpp:44: Jvm(000001319907E960)::Jvm()\n[TRACE] AppLauncher.cpp:76: Property &quot;app.runtime&quot; not found in &quot;Application&quot; section of launcher config file. Using Java runtime from &quot;C:\\delete\\pdfsam-5.0.0-SNAPSHOT-windows\\pdfsam\\runtime&quot; directory\n[TRACE] JvmLauncher.cpp:49: Jvm(000001319907E960)::~Jvm()\n[TRACE] app.cpp:123: Entering app::launch\n[TRACE] AppLauncher.cpp:116: Launcher config file path: &quot;C:\\delete\\pdfsam-5.0.0-SNAPSHOT-windows\\pdfsam\\app\\pdfsam.cfg&quot;\n[TRACE] JvmLauncher.cpp:44: Jvm(00000200C91AE310)::Jvm()\n[TRACE] AppLauncher.cpp:76: Property &quot;app.runtime&quot; not found in &quot;Application&quot; section of launcher config file. Using Java runtime from &quot;C:\\delete\\pdfsam-5.0.0-SNAPSHOT-windows\\pdfsam\\runtime&quot; directory\n[TRACE] WinLauncher.cpp:216: SetDllDirectory to: C:\\delete\\pdfsam-5.0.0-SNAPSHOT-windows\\pdfsam\\runtime\\bin\n[TRACE] WinLauncher.cpp:73: Entering `anonymous-namespace'::loadDllWithAddDllDirectory\n[TRACE] WinLauncher.cpp:89: AddDllDirectory(C:\\delete\\pdfsam-5.0.0-SNAPSHOT-windows\\pdfsam\\runtime\\bin): OK\n[TRACE] WinLauncher.cpp:97: LoadLibraryEx(C:\\delete\\pdfsam-5.0.0-SNAPSHOT-windows\\pdfsam\\runtime\\bin\\jli.dll, LOAD_LIBRARY_SEARCH_DEFAULT_DIRS): 00007FFCCB100000\n[TRACE] WinLauncher.cpp:0: Exiting `anonymous-namespace'::loadDllWithAddDllDirectory (entered at WinLauncher.cpp:73)\n[TRACE] WinLauncher.cpp:73: Entering `anonymous-namespace'::loadDllWithAddDllDirectory\n[TRACE] WinLauncher.cpp:0: Exiting `anonymous-namespace'::loadDllWithAddDllDirectory (entered at WinLauncher.cpp:73)\n[TRACE] WinLauncher.cpp:52: Entering `anonymous-namespace'::loadDllWithAlteredPATH\n[TRACE] WinLauncher.cpp:62: New value of PATH: SOME PATH HERE;C:\\delete\\pdfsam-5.0.0-SNAPSHOT-windows\\pdfsam\\app;C:\\delete\\pdfsam-5.0.0-SNAPSHOT-windows\\pdfsam\\runtime\\bin\\server\n[TRACE] WinLauncher.cpp:0: Exiting `anonymous-namespace'::loadDllWithAlteredPATH (entered at WinLauncher.cpp:52)\n[TRACE] JvmLauncher.cpp:49: Jvm(00000200C91AE310)::~Jvm()\n[ERROR] app.cpp:179: Exception with message 'WinDll.cpp(40) at `anonymous-namespace'::loadLibrary(): LoadLibraryW(C:\\delete\\pdfsam-5.0.0-SNAPSHOT-windows\\pdfsam\\runtime\\bin\\server\\jvm.dll) failed. System error [126](system error 126 (Impossibile trovare il modulo specificato))' caught\nLoadLibraryW(C:\\delete\\pdfsam-5.0.0-SNAPSHOT-windows\\pdfsam\\runtime\\bin\\server\\jvm.dll) failed. System error [126](system error 126 (Impossibile trovare il modulo specificato))\n[TRACE] app.cpp:0: Exiting app::launch (entered at app.cpp:123)\n</code></pre>\n<p>Any idea what I might be doing wrong?</p>\n"},{"tags":["java","class","oop","constructor"],"comments":[{"owner":{"account_id":7990930,"reputation":4132,"user_id":6028807,"display_name":"Miss Chanandler Bong"},"score":2,"creation_date":1682417174,"post_id":76099912,"comment_id":134208239,"body_markdown":"The documentation says `Allocates a Date object and initializes it so that it represents the time at which it was allocated, measured to the nearest millisecond.`. The no-parameter constructor initializes the object with the current date and time.","body":"The documentation says <code>Allocates a Date object and initializes it so that it represents the time at which it was allocated, measured to the nearest millisecond.</code>. The no-parameter constructor initializes the object with the current date and time."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1682418895,"post_id":76099912,"comment_id":134208570,"body_markdown":"I strongly recommend you don’t use the `Date` class. It was always poorly designed and exactly for that reason was replaced by a number of classes in [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html). Use for example `LocalDate today = LocalDate.now(ZoneId.systemDefault());` for today’s date in the default time zone of your JVM (since it is never the same date in all time zones). `now()` is a static method in the `LocalDate` class. Other than that I find that the code is clearer to read and not so mysterious as  `new Date();`.","body":"I strongly recommend you don’t use the <code>Date</code> class. It was always poorly designed and exactly for that reason was replaced by a number of classes in <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>. Use for example <code>LocalDate today = LocalDate.now(ZoneId.systemDefault());</code> for today’s date in the default time zone of your JVM (since it is never the same date in all time zones). <code>now()</code> is a static method in the <code>LocalDate</code> class. Other than that I find that the code is clearer to read and not so mysterious as  <code>new Date();</code>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682419217,"post_id":76099912,"comment_id":134208653,"body_markdown":"Also just to make the outdated `Date` class even more confusing: There are really two &quot;hidden&quot; steps involved in your code printing today’s date. From `new Date()` you didn’t get the date but an object representing *the point in time* when the object was created. You read correctly: A `Date` cannot represent a date! Next when printing it you were implicitly calling its `toString` method. That method then figured out which date and time of day your `Date` object corresponded to in the default time zone of the JVM and printed that. It’s a complication that you should never struggle with, ever.","body":"Also just to make the outdated <code>Date</code> class even more confusing: There are really two &quot;hidden&quot; steps involved in your code printing today’s date. From <code>new Date()</code> you didn’t get the date but an object representing <i>the point in time</i> when the object was created. You read correctly: A <code>Date</code> cannot represent a date! Next when printing it you were implicitly calling its <code>toString</code> method. That method then figured out which date and time of day your <code>Date</code> object corresponded to in the default time zone of the JVM and printed that. It’s a complication that you should never struggle with, ever."}],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682417205,"creation_date":1682417205,"answer_id":76099957,"question_id":76099912,"body_markdown":"The constructor of `java.util.Date` makes it happen.\r\nWhen called without parameters it creates the object with a current date.\r\nHere is an implementation of that constructor:\r\n\r\n```java\r\n ...inside the class Date ...\r\n public Date() {\r\n        this(System.currentTimeMillis());\r\n }\r\n```\r\nAs you see it calls `System.currentTimeMillis()` method which returns the long that represents the current date\r\n\r\n[Here][1] you can find a source code of that class. Also pay attention to the java doc (documentation above the constructor) It clearly states that this is an expected behavior.\r\n\r\n\r\n  [1]: http://www.java2s.com/example/java-src/pkg/java/util/date-69836.html","title":"How to get value from calling constructer?","body":"<p>The constructor of <code>java.util.Date</code> makes it happen.\nWhen called without parameters it creates the object with a current date.\nHere is an implementation of that constructor:</p>\n<pre class=\"lang-java prettyprint-override\"><code> ...inside the class Date ...\n public Date() {\n        this(System.currentTimeMillis());\n }\n</code></pre>\n<p>As you see it calls <code>System.currentTimeMillis()</code> method which returns the long that represents the current date</p>\n<p><a href=\"http://www.java2s.com/example/java-src/pkg/java/util/date-69836.html\" rel=\"nofollow noreferrer\">Here</a> you can find a source code of that class. Also pay attention to the java doc (documentation above the constructor) It clearly states that this is an expected behavior.</p>\n"}],"owner":{"account_id":17981792,"reputation":21,"user_id":20117603,"display_name":"pradeep"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1682417205,"creation_date":1682416903,"question_id":76099912,"body_markdown":"            import java.util.Date;\r\n            \r\n            class ch {\r\n                public static void main(String[] args)\r\n                {\r\n            \r\n                    Date today = new Date();\r\n            \r\n                    System.out.println(today);\r\n            \r\n                }\r\n            \r\n            }\r\n\r\nThe above code give current date as the output.\r\n\r\nBut , How is that possible ?\r\n\r\nI just creating a new object. But , how the variable&#39;s value become the current date ? \r\n\r\nI analyzed the date class but I couldn&#39;t understand.\r\n\r\n","title":"How to get value from calling constructer?","body":"<pre><code>        import java.util.Date;\n        \n        class ch {\n            public static void main(String[] args)\n            {\n        \n                Date today = new Date();\n        \n                System.out.println(today);\n        \n            }\n        \n        }\n</code></pre>\n<p>The above code give current date as the output.</p>\n<p>But , How is that possible ?</p>\n<p>I just creating a new object. But , how the variable's value become the current date ?</p>\n<p>I analyzed the date class but I couldn't understand.</p>\n"},{"tags":["java","maven","intellij-idea","java-19"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1675172639,"post_id":75297492,"comment_id":132868006,"body_markdown":"setting 1.8 for maven-compiler-plugin is simply wrong because you are using Spring Boot 3.X which requires at minimum JDK17... furthermore also manually setting different versions of deps which are already handled via the parent is a bad idea... Furthermore which Maven version do you use?","body":"setting 1.8 for maven-compiler-plugin is simply wrong because you are using Spring Boot 3.X which requires at minimum JDK17... furthermore also manually setting different versions of deps which are already handled via the parent is a bad idea... Furthermore which Maven version do you use?"},{"owner":{"account_id":25548464,"reputation":1,"user_id":19333341,"display_name":"Maxopp"},"score":0,"creation_date":1675174868,"post_id":75297492,"comment_id":132868814,"body_markdown":"i use 3.8.7 maven, and also my maven compile plugin is set on 11, i just tried to do something ,but it did not work","body":"i use 3.8.7 maven, and also my maven compile plugin is set on 11, i just tried to do something ,but it did not work"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1675344393,"post_id":75297492,"comment_id":132911576,"body_markdown":"Of course it does not work, because as I wrote if you use Spring Boot 3.X you have to set to JDK17 (means compile to 17) ... apart from other parts I commented...","body":"Of course it does not work, because as I wrote if you use Spring Boot 3.X you have to set to JDK17 (means compile to 17) ... apart from other parts I commented..."}],"owner":{"account_id":25548464,"reputation":1,"user_id":19333341,"display_name":"Maxopp"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682417193,"creation_date":1675169744,"question_id":75297492,"body_markdown":"I am trying to do `mvn clean install`, but I am getting stuck at this error  This is my `pom.xml`\r\n\r\nI can not run my Spring Boot project. What is the problem?\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.src&lt;/groupId&gt;\r\n    &lt;artifactId&gt;riot&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;riot&lt;/name&gt;\r\n    &lt;description&gt;riot&lt;/description&gt;\r\n\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;19&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n\r\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n\r\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n\r\n            &lt;version&gt;28.1-jre&lt;/version&gt;\r\n\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-session-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n                &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;5.7.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.30&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt; &lt;groupId&gt;com.zaxxer&lt;/groupId&gt; &lt;artifactId&gt;HikariCP&lt;/artifactId&gt; &lt;version&gt;4.0.3&lt;/version&gt; &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.11&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.11&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.11&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;activation&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.12&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\r\n            &lt;version&gt;0.11.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;0.11.5&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\r\n            &lt;version&gt;0.11.2&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.ldap&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-ldap-core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nI can not find this error online anywhere\r\n\r\n[I am getting this error](https://i.stack.imgur.com/egSl4.png)","title":"No implementation for org.apache.maven.shared.filtering.MavenResourcesFiltering was bound","body":"<p>I am trying to do <code>mvn clean install</code>, but I am getting stuck at this error  This is my <code>pom.xml</code></p>\n<p>I can not run my Spring Boot project. What is the problem?</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.src&lt;/groupId&gt;\n    &lt;artifactId&gt;riot&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;riot&lt;/name&gt;\n    &lt;description&gt;riot&lt;/description&gt;\n\n\n    &lt;properties&gt;\n        &lt;java.version&gt;19&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n\n            &lt;version&gt;28.1-jre&lt;/version&gt;\n\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-session-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n                &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;5.7.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.30&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt; &lt;groupId&gt;com.zaxxer&lt;/groupId&gt; &lt;artifactId&gt;HikariCP&lt;/artifactId&gt; &lt;version&gt;4.0.3&lt;/version&gt; &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2.11&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n            &lt;version&gt;2.2.11&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n            &lt;version&gt;2.2.11&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n            &lt;artifactId&gt;activation&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.12&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n            &lt;version&gt;0.11.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;6.0.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\n            &lt;version&gt;0.11.2&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.ldap&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-ldap-core&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;2.5&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I can not find this error online anywhere</p>\n<p><a href=\"https://i.stack.imgur.com/egSl4.png\" rel=\"nofollow noreferrer\">I am getting this error</a></p>\n"},{"tags":["java","spring-boot","unit-testing"],"comments":[{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1681922853,"post_id":76056842,"comment_id":134136387,"body_markdown":"Maybe it is because you are not mocking it correctly: instead of: `when(userService.updateUserBalance(1, userAmountDTO)).thenReturn(userAmountDTO);` try: `when(userService.updateUserBalance(eq(1), eq(userAmountDTO))).thenReturn(userAmountDTO);` Notice that I used `eq()` method from `org.mockito.ArgumentMatchers.eq` if that is the case I will put an answer for you.","body":"Maybe it is because you are not mocking it correctly: instead of: <code>when(userService.updateUserBalance(1, userAmountDTO)).thenReturn(userAmountDTO);</code> try: <code>when(userService.updateUserBalance(eq(1), eq(userAmountDTO))).thenReturn(userAmountDTO);</code> Notice that I used <code>eq()</code> method from <code>org.mockito.ArgumentMatchers.eq</code> if that is the case I will put an answer for you."},{"owner":{"account_id":25822353,"reputation":279,"user_id":19561210,"display_name":"Jessica"},"score":0,"creation_date":1681923098,"post_id":76056842,"comment_id":134136451,"body_markdown":"@JorgeCampos Hey Jorge, I am still receiving the same error and the requestBody is still `{&quot;balance&quot;:3000.0}` after using the `eq()` method. I agree that I am not mocking it properly too but not sure what the issue is.","body":"@JorgeCampos Hey Jorge, I am still receiving the same error and the requestBody is still <code>{&quot;balance&quot;:3000.0}</code> after using the <code>eq()</code> method. I agree that I am not mocking it properly too but not sure what the issue is."},{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1681923743,"post_id":76056842,"comment_id":134136572,"body_markdown":"oook, I think I have an idea what might be the problem. So you are mocking your `userService` expecting it to match the specific instance you created in your test of `userAmountDTO` but that is not the case, since that instance is created by the de-serializer on the request. Is is something like: in your unit test `userAmountDTO` instance id is 1 (because you created it on the test) and in your controller the `userAmountDTO` was created by the de-serializer therefore the instance id will be something else resulting in the mock not returning the expected value. Let me think for a bit...","body":"oook, I think I have an idea what might be the problem. So you are mocking your <code>userService</code> expecting it to match the specific instance you created in your test of <code>userAmountDTO</code> but that is not the case, since that instance is created by the de-serializer on the request. Is is something like: in your unit test <code>userAmountDTO</code> instance id is 1 (because you created it on the test) and in your controller the <code>userAmountDTO</code> was created by the de-serializer therefore the instance id will be something else resulting in the mock not returning the expected value. Let me think for a bit..."},{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1681924332,"post_id":76056842,"comment_id":134136688,"body_markdown":"Another thing, can you debug your controller to see what exactly is it receiving as `userAmountDTO` since you annotated your `balance` as READ_ONLY it is possible that when receiving it there the de-serializer is removing it","body":"Another thing, can you debug your controller to see what exactly is it receiving as <code>userAmountDTO</code> since you annotated your <code>balance</code> as READ_ONLY it is possible that when receiving it there the de-serializer is removing it"},{"owner":{"account_id":25822353,"reputation":279,"user_id":19561210,"display_name":"Jessica"},"score":0,"creation_date":1681999363,"post_id":76056842,"comment_id":134149439,"body_markdown":"@JorgeCampos Hey I did the debugging as you told me to! I added this in my controller `userAmountDTO = userService.updateUserBalance(userId, userAmountDTO); System.out.println(userAmountDTO.getAmount() + userAmountDTO.getBalance());` and it shows that the userAmount is null after calling `userService.updateUserBalance` in my controller. Do you know how I can get this to work? If you managed to help me I will definitely give you an upvote and accept your answer :)","body":"@JorgeCampos Hey I did the debugging as you told me to! I added this in my controller <code>userAmountDTO = userService.updateUserBalance(userId, userAmountDTO); System.out.println(userAmountDTO.getAmount() + userAmountDTO.getBalance());</code> and it shows that the userAmount is null after calling <code>userService.updateUserBalance</code> in my controller. Do you know how I can get this to work? If you managed to help me I will definitely give you an upvote and accept your answer :)"},{"owner":{"account_id":25822353,"reputation":279,"user_id":19561210,"display_name":"Jessica"},"score":0,"creation_date":1681999651,"post_id":76056842,"comment_id":134149503,"body_markdown":"I did another debug print by adding `System.out.println(userAmountDTO.getAmount() + userAmountDTO.getBalance());` before `userAmountDTO = userService.updateUserBalance(userId, userAmountDTO);` in my controller and it shows that balance and amount are 0.0 which shouldn&#39;t be the case since I mocked them to be 3000.0 and 2000.0 respectively.","body":"I did another debug print by adding <code>System.out.println(userAmountDTO.getAmount() + userAmountDTO.getBalance());</code> before <code>userAmountDTO = userService.updateUserBalance(userId, userAmountDTO);</code> in my controller and it shows that balance and amount are 0.0 which shouldn&#39;t be the case since I mocked them to be 3000.0 and 2000.0 respectively."},{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1682006794,"post_id":76056842,"comment_id":134151489,"body_markdown":"Hi there, for the first one I think the problem is related to those annotations, try removing then to see what happens. For the second it is exactly what I mentioned before, the instance you mocked is not the same as the one that ends up in your controller.","body":"Hi there, for the first one I think the problem is related to those annotations, try removing then to see what happens. For the second it is exactly what I mentioned before, the instance you mocked is not the same as the one that ends up in your controller."},{"owner":{"account_id":25822353,"reputation":279,"user_id":19561210,"display_name":"Jessica"},"score":0,"creation_date":1682061440,"post_id":76056842,"comment_id":134159401,"body_markdown":"@JorgeCampos I think the problem lies with the second issue, but I am not sure how to solve it. When I removed the check for JSON response body, it did return me a status of 201 which means it passed but the response body is empty.","body":"@JorgeCampos I think the problem lies with the second issue, but I am not sure how to solve it. When I removed the check for JSON response body, it did return me a status of 201 which means it passed but the response body is empty."}],"answers":[{"tags":[],"owner":{"account_id":25822353,"reputation":279,"user_id":19561210,"display_name":"Jessica"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682416719,"creation_date":1682063582,"answer_id":76071076,"question_id":76056842,"body_markdown":"**UPDATE ON UNIT TESTING POST REQUEST ON RESTCONTROLLER**\r\n\r\nI managed to resolve the mistake and in summary it is because I was passing in an object to the mocked service a different memory address. To put it simply, `when(userService.updateUserBalance(1, userAmountDTO)).thenReturn(userAmountDTO);`, this is an appropriate way to mock the userService.updateUserBalance method. \r\n\r\n**However,** inside the `@Test`, the userAmountDTO memory address could be something like @21835tj3. In my controller, `userAmountDTO = userService.updateUserBalance(userId, userAmountDTO);`, the memory address of userAmountDTO being passed into the `userService.updateUserBalance` method could be different like @21943jf3 which was why it does not match the mocked service arguments in the unit test. Objects with the same fields and values doesn&#39;t mean they share the same reference, thus the mocked method did not return the expected value.\r\n\r\n**To fix this**:\r\n\r\nUse the `ArgumentMatchers.any()` Mockito  to match any object of the `UserAmountDTO` class. So, change the mocked method in the unit test to `when(userService.updateUserBalance(eq(1), ArgumentMatchers.any(UserAmountDTO))).thenReturn(userAmountDTO);`\r\n\r\nThis usually happens with POST requests as we pass in a deserialized JSON object. Also thanks to @JorgeCampos for supporting with the debug process.\r\n","title":"Java - Incorrect output for response JSON in unit test","body":"<p><strong>UPDATE ON UNIT TESTING POST REQUEST ON RESTCONTROLLER</strong></p>\n<p>I managed to resolve the mistake and in summary it is because I was passing in an object to the mocked service a different memory address. To put it simply, <code>when(userService.updateUserBalance(1, userAmountDTO)).thenReturn(userAmountDTO);</code>, this is an appropriate way to mock the userService.updateUserBalance method.</p>\n<p><strong>However,</strong> inside the <code>@Test</code>, the userAmountDTO memory address could be something like @21835tj3. In my controller, <code>userAmountDTO = userService.updateUserBalance(userId, userAmountDTO);</code>, the memory address of userAmountDTO being passed into the <code>userService.updateUserBalance</code> method could be different like @21943jf3 which was why it does not match the mocked service arguments in the unit test. Objects with the same fields and values doesn't mean they share the same reference, thus the mocked method did not return the expected value.</p>\n<p><strong>To fix this</strong>:</p>\n<p>Use the <code>ArgumentMatchers.any()</code> Mockito  to match any object of the <code>UserAmountDTO</code> class. So, change the mocked method in the unit test to <code>when(userService.updateUserBalance(eq(1), ArgumentMatchers.any(UserAmountDTO))).thenReturn(userAmountDTO);</code></p>\n<p>This usually happens with POST requests as we pass in a deserialized JSON object. Also thanks to @JorgeCampos for supporting with the debug process.</p>\n"}],"owner":{"account_id":25822353,"reputation":279,"user_id":19561210,"display_name":"Jessica"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76071076,"answer_count":1,"score":0,"last_activity_date":1682416719,"creation_date":1681921585,"question_id":76056842,"body_markdown":"I am testing my depositUserBalance endpoint controller and this is just a simple test but I am not sure why it is not getting the correct response JSON as compared to the one returned in my REST API.\r\n\r\n```java\r\n// My Controller\r\n@PutMapping(&quot;/api/deposit&quot;)\r\npublic ResponseEntity&lt;UserAmountDTO&gt; depositUserBalance(HttpServletRequest request,\r\n                @RequestBody UserAmountDTO userAmountDTO) {\r\n        Integer userId = (Integer) request.getAttribute(&quot;userId&quot;);\r\n        userAmountDTO = userService.updateUserBalance(userId, userAmountDTO);\r\n        return new ResponseEntity&lt;&gt;(userAmountDTO, HttpStatus.OK);\r\n}\r\n```\r\n\r\n```java\r\n// My UserAmountDTO Data Transfer Object\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\npublic class UserAmountDTO {\r\n    \r\n    @JsonProperty(access = Access.WRITE_ONLY)\r\n    public double amount;\r\n\r\n    @JsonProperty(access = Access.READ_ONLY)\r\n    public double balance;\r\n\r\n}\r\n```\r\n\r\n```java\r\n@Test\r\npublic void Test_DepositUserBalance() throws Exception {\r\n    // Arrange\r\n    UserAmountDTO userAmountDTO = new UserAmountDTO(2000.0, 3000.0);\r\n    HttpServletRequest request = mock(HttpServletRequest.class);\r\n    when(request.getAttribute(&quot;userId&quot;)).thenReturn(1);\r\n    when(userService.updateUserBalance(1, userAmountDTO)).thenReturn(userAmountDTO);\r\n    String requestBody = objectMapper.writeValueAsString(userAmountDTO);\r\n    System.out.println(&quot;requestBody: &quot; + requestBody);\r\n\r\n    // Act\r\n    MvcResult mvcResult = mockMvc.perform(put(DEPOSIT_PATH)\r\n            .contentType(MediaType.APPLICATION_JSON)\r\n            .content(requestBody).with(requestBuilder -&gt; {\r\n                requestBuilder.setAttribute(&quot;userId&quot;, 1);\r\n                return requestBuilder;\r\n            }))\r\n            .andExpect(status().isOk())\r\n            .andReturn();\r\n\r\n    // Assert\r\n    int status = mvcResult.getResponse().getStatus();\r\n    String content = mvcResult.getResponse().getContentAsString();\r\n    String expectedJson = String.format(&quot;{\\&quot;balance\\&quot;:%.1f}&quot;, 3000.0);\r\n    assertEquals(HttpStatus.OK.value(), status);\r\n    assertEquals(expectedJson, content);\r\n}\r\n```\r\n\r\nIn my unit test, the requestBody was returned as balance here `requestBody: {&quot;balance&quot;:3000.0}` when it should be amount because I set the `@JsonProperty(acccess = Access.WRITE_ONLY)` to amount. \r\n\r\nThe error from the test was `org.opentest4j.AssertionFailedError: expected: [{&quot;balance&quot;:3000.0}] but was: []`. Why is it an empty string? When I tried it in the REST API on POSTMAN, it actually returned me this JSON balance amount. Coupled with the fact that I added `@JsonProperty(acccess = Access.READ_ONLY)` to balance.\r\n","title":"Java - Incorrect output for response JSON in unit test","body":"<p>I am testing my depositUserBalance endpoint controller and this is just a simple test but I am not sure why it is not getting the correct response JSON as compared to the one returned in my REST API.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// My Controller\n@PutMapping(&quot;/api/deposit&quot;)\npublic ResponseEntity&lt;UserAmountDTO&gt; depositUserBalance(HttpServletRequest request,\n                @RequestBody UserAmountDTO userAmountDTO) {\n        Integer userId = (Integer) request.getAttribute(&quot;userId&quot;);\n        userAmountDTO = userService.updateUserBalance(userId, userAmountDTO);\n        return new ResponseEntity&lt;&gt;(userAmountDTO, HttpStatus.OK);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// My UserAmountDTO Data Transfer Object\n@Getter\n@Setter\n@AllArgsConstructor\npublic class UserAmountDTO {\n    \n    @JsonProperty(access = Access.WRITE_ONLY)\n    public double amount;\n\n    @JsonProperty(access = Access.READ_ONLY)\n    public double balance;\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void Test_DepositUserBalance() throws Exception {\n    // Arrange\n    UserAmountDTO userAmountDTO = new UserAmountDTO(2000.0, 3000.0);\n    HttpServletRequest request = mock(HttpServletRequest.class);\n    when(request.getAttribute(&quot;userId&quot;)).thenReturn(1);\n    when(userService.updateUserBalance(1, userAmountDTO)).thenReturn(userAmountDTO);\n    String requestBody = objectMapper.writeValueAsString(userAmountDTO);\n    System.out.println(&quot;requestBody: &quot; + requestBody);\n\n    // Act\n    MvcResult mvcResult = mockMvc.perform(put(DEPOSIT_PATH)\n            .contentType(MediaType.APPLICATION_JSON)\n            .content(requestBody).with(requestBuilder -&gt; {\n                requestBuilder.setAttribute(&quot;userId&quot;, 1);\n                return requestBuilder;\n            }))\n            .andExpect(status().isOk())\n            .andReturn();\n\n    // Assert\n    int status = mvcResult.getResponse().getStatus();\n    String content = mvcResult.getResponse().getContentAsString();\n    String expectedJson = String.format(&quot;{\\&quot;balance\\&quot;:%.1f}&quot;, 3000.0);\n    assertEquals(HttpStatus.OK.value(), status);\n    assertEquals(expectedJson, content);\n}\n</code></pre>\n<p>In my unit test, the requestBody was returned as balance here <code>requestBody: {&quot;balance&quot;:3000.0}</code> when it should be amount because I set the <code>@JsonProperty(acccess = Access.WRITE_ONLY)</code> to amount.</p>\n<p>The error from the test was <code>org.opentest4j.AssertionFailedError: expected: [{&quot;balance&quot;:3000.0}] but was: []</code>. Why is it an empty string? When I tried it in the REST API on POSTMAN, it actually returned me this JSON balance amount. Coupled with the fact that I added <code>@JsonProperty(acccess = Access.READ_ONLY)</code> to balance.</p>\n"},{"tags":["java","rest","jakarta-ee","microservices","open-liberty"],"answers":[{"comments":[{"owner":{"account_id":16162948,"reputation":1,"user_id":11668562,"display_name":"SeanBaker"},"score":0,"creation_date":1682416766,"post_id":76099848,"comment_id":134208118,"body_markdown":"Thank you for the good and in-depth answer I will definetly look into the links you provided me with!","body":"Thank you for the good and in-depth answer I will definetly look into the links you provided me with!"},{"owner":{"account_id":16162948,"reputation":1,"user_id":11668562,"display_name":"SeanBaker"},"score":0,"creation_date":1682429630,"post_id":76099848,"comment_id":134211487,"body_markdown":"Hey just wanted to come back and thank you loads for hinting me to the right resources and giving me some tips on what to do, the application is now running as intended, thank you very much!","body":"Hey just wanted to come back and thank you loads for hinting me to the right resources and giving me some tips on what to do, the application is now running as intended, thank you very much!"},{"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"score":0,"creation_date":1682439142,"post_id":76099848,"comment_id":134214466,"body_markdown":"@SeanBaker Great! Good job fixing the issues ;-)","body":"@SeanBaker Great! Good job fixing the issues ;-)"}],"tags":[],"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1682416485,"creation_date":1682416485,"answer_id":76099848,"question_id":76098900,"body_markdown":"A few comments: \r\n\r\n1. I dont see your Application class - you should have class like this, which has rest path - `/inventory` in this case:\r\n\r\n```\r\nimport jakarta.ws.rs.ApplicationPath;\r\nimport jakarta.ws.rs.core.Application;\r\n\r\n@ApplicationPath(&quot;/inventory&quot;)\r\npublic class XYZApplication extends Application {\r\n\r\n}\r\n\r\n```\r\n\r\n2. In your `server.xml` - you have:\r\n\r\n```\r\n    &lt;webApplication location=&quot;${project.name}.war&quot; contextRoot=&quot;${app.context.root}&quot;&gt;\r\n        &lt;classloader apiTypeVisibility=&quot;+third-party&quot; /&gt;\r\n    &lt;/webApplication&gt;\r\n```\r\n\r\nwhich is using variable `${app.context.root}` which is probably not found in your docker environment - I&#39;d suggest to use fixed value there.\r\n\r\n3. If you have `webApplication` in your `server.xml` it should be copied to `app` folder NOT `dropins`. dropins is for apps not defined in server.xml.  \r\nYour dockerfile should have this:\r\n\r\n```\r\nCOPY --chown=1001:0 target/orderservice-microservice.war /config/apps\r\n```\r\n\r\n4. I dont see what `&lt;featues&gt;` you have enabled. Typically for REST app you should have:\r\n\r\n```\r\n    &lt;featureManager&gt;\r\n        &lt;feature&gt;restfulWS-3.0&lt;/feature&gt;\r\n        &lt;feature&gt;jsonb-2.0&lt;/feature&gt;\r\n        &lt;feature&gt;jsonp-2.0&lt;/feature&gt;\r\n        &lt;feature&gt;cdi-3.0&lt;/feature&gt;\r\n    &lt;/featureManager&gt;\r\n```\r\n\r\n5. And after all this is configured correctly your service should be reachable on the following url:\r\n\r\n```\r\nhttp://yourhostname:9080/contextRoot/applicationPath/orders\r\n```\r\n\r\n6. Additional issue is that you have 2 resources on the same path:\r\n\r\n```\r\n@Path(&quot;/orders&quot;)\r\npublic class OrderService{\r\n\r\n@Path(&quot;/orders&quot;)\r\npublic class OrderFacade {\r\n\r\n```\r\nyou cannot have that.\r\nAlso you should not `@Inject` rest service in another rest service.\r\n\r\nIf you are starting with OpenLiberty and microservices, I&#39;d strongly advise you to look at very good guides and tutorials here - https://openliberty.io/guides/  \r\nFor a start for example https://openliberty.io/guides/rest-intro.html","title":"Java Web Application not running correctly on OpenLiberty Server/Docker","body":"<p>A few comments:</p>\n<ol>\n<li>I dont see your Application class - you should have class like this, which has rest path - <code>/inventory</code> in this case:</li>\n</ol>\n<pre><code>import jakarta.ws.rs.ApplicationPath;\nimport jakarta.ws.rs.core.Application;\n\n@ApplicationPath(&quot;/inventory&quot;)\npublic class XYZApplication extends Application {\n\n}\n\n</code></pre>\n<ol start=\"2\">\n<li>In your <code>server.xml</code> - you have:</li>\n</ol>\n<pre><code>    &lt;webApplication location=&quot;${project.name}.war&quot; contextRoot=&quot;${app.context.root}&quot;&gt;\n        &lt;classloader apiTypeVisibility=&quot;+third-party&quot; /&gt;\n    &lt;/webApplication&gt;\n</code></pre>\n<p>which is using variable <code>${app.context.root}</code> which is probably not found in your docker environment - I'd suggest to use fixed value there.</p>\n<ol start=\"3\">\n<li>If you have <code>webApplication</code> in your <code>server.xml</code> it should be copied to <code>app</code> folder NOT <code>dropins</code>. dropins is for apps not defined in server.xml.<br />\nYour dockerfile should have this:</li>\n</ol>\n<pre><code>COPY --chown=1001:0 target/orderservice-microservice.war /config/apps\n</code></pre>\n<ol start=\"4\">\n<li>I dont see what <code>&lt;featues&gt;</code> you have enabled. Typically for REST app you should have:</li>\n</ol>\n<pre><code>    &lt;featureManager&gt;\n        &lt;feature&gt;restfulWS-3.0&lt;/feature&gt;\n        &lt;feature&gt;jsonb-2.0&lt;/feature&gt;\n        &lt;feature&gt;jsonp-2.0&lt;/feature&gt;\n        &lt;feature&gt;cdi-3.0&lt;/feature&gt;\n    &lt;/featureManager&gt;\n</code></pre>\n<ol start=\"5\">\n<li>And after all this is configured correctly your service should be reachable on the following url:</li>\n</ol>\n<pre><code>http://yourhostname:9080/contextRoot/applicationPath/orders\n</code></pre>\n<ol start=\"6\">\n<li>Additional issue is that you have 2 resources on the same path:</li>\n</ol>\n<pre><code>@Path(&quot;/orders&quot;)\npublic class OrderService{\n\n@Path(&quot;/orders&quot;)\npublic class OrderFacade {\n\n</code></pre>\n<p>you cannot have that.\nAlso you should not <code>@Inject</code> rest service in another rest service.</p>\n<p>If you are starting with OpenLiberty and microservices, I'd strongly advise you to look at very good guides and tutorials here - <a href=\"https://openliberty.io/guides/\" rel=\"nofollow noreferrer\">https://openliberty.io/guides/</a><br />\nFor a start for example <a href=\"https://openliberty.io/guides/rest-intro.html\" rel=\"nofollow noreferrer\">https://openliberty.io/guides/rest-intro.html</a></p>\n"}],"owner":{"account_id":16162948,"reputation":1,"user_id":11668562,"display_name":"SeanBaker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682416485,"creation_date":1682409908,"question_id":76098900,"body_markdown":"this is going to be a longer question due to the required information to make it clear. I am currently writing a Microservice Application in Java with each Application running on an OpenLiberty Server and containerized using docker, so far so good. \r\n\r\nThis is the first time for me writing such an application and I am having to learn a lot of things at once which is fine, my Problem is the proper understanding of how to actually get the applications to run correctly on the OpenLiberty Server. \r\n\r\nTo be more precise it seems to me like either the ports I am exposing are not exposing correctly or my Source Code is causing the server to act weirdly. \r\n\r\nI will give you an example of two classes within one of the services which, the source code is the following: \r\n\r\n\r\n```\r\npackage com.coffeeshop.microservice;\r\n\r\nimport com.ecwid.consul.v1.ConsulClient;\r\nimport com.ecwid.consul.v1.agent.model.NewService;\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\n\r\nimport javax.inject.Inject;\r\nimport javax.ws.rs.Consumes;\r\nimport javax.ws.rs.POST;\r\nimport javax.ws.rs.Path;\r\nimport javax.ws.rs.Produces;\r\nimport javax.ws.rs.core.MediaType;\r\nimport javax.ws.rs.core.Response;\r\nimport java.sql.SQLException;\r\nimport java.util.UUID;\r\nimport java.util.logging.Logger;\r\n\r\nimport jakarta.annotation.PostConstruct;\r\n\r\n/**\r\n * A RESTful web service that exposes endpoints related to order creation and management.\r\n */\r\n\r\n@Path(&quot;/orders&quot;)\r\npublic class OrderFacade {\r\n\r\n    @Inject\r\n    private OrderService orderService;\r\n\r\n    /**\r\n     * Creates a new order using the specified order details.\r\n     * @param order the order details.\r\n     * @return a response indicating whether the order was created successfully.\r\n     * @throws JsonProcessingException if there was an error serializing the order to JSON.\r\n     * @throws SQLException if there was an error creating the order in the database.\r\n     */\r\n    @POST\r\n    @Consumes(MediaType.APPLICATION_JSON)\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public Response createOrder(Order order) throws JsonProcessingException, SQLException {\r\n        // Call the createOrder method of the OrderService class\r\n        Response createdOrder = orderService.createOrder(order);\r\n\r\n        // Check if the order was successfully created\r\n        if (createdOrder.getStatus() == Response.Status.CREATED.getStatusCode()) {\r\n            // Forward the order to the product service\r\n            orderService.forwardOrder(&quot;http://localhost:9081/product-service/process-order&quot;, order);\r\n        }\r\n\r\n        return createdOrder;\r\n    }\r\n\r\n}\r\n```\r\n\r\nand class number two: \r\n\r\n\r\n```\r\npackage com.coffeeshop.microservice;\r\n\r\nimport javax.ws.rs.POST;\r\nimport javax.ws.rs.Path;\r\nimport javax.ws.rs.core.Response;\r\n\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport jakarta.ws.rs.client.ClientBuilder;\r\nimport jakarta.ws.rs.core.MediaType;\r\n\r\nimport okhttp3.OkHttpClient;\r\nimport okhttp3.RequestBody;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\nimport javax.ws.rs.Consumes;\r\nimport javax.ws.rs.Produces;\r\n\r\nimport java.io.IOException;\r\nimport java.sql.Connection;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.SQLException;\r\n\r\n/**\r\n * @author Sean B&#228;ker\r\n * @version 1.0\r\n * @since April.2023\r\n * This class represents the Order Service for the CoffeeShop microservice architecture.\r\n * It handles the creation of new orders, as well as forwarding the order to the Product Service\r\n * for further processing.\r\n * The Order Service is implemented as a RESTful web service using JAX-RS and the Jakarta RESTful Web Services API.\r\n */\r\n\r\n\r\n\r\n@Path(&quot;/orders&quot;)\r\npublic class OrderService{\r\n\r\n    String SQL = &quot;INSERT into orders (item) VALUES(?)&quot;;\r\n\r\n    public String connectionPoolUrl;\r\n\r\n    /**\r\n     * Constructor for the OrderService class.\r\n     * @param connectionPoolUrl The URL of the connection pool service.\r\n     */\r\n\r\n    public OrderService(String connectionPoolUrl){\r\n        this.connectionPoolUrl = connectionPoolUrl;\r\n    }\r\n\r\n\r\n    /**\r\n     * This method creates a new order and forwards it to the Product Service for further processing.\r\n     * @param order The Order object representing the new order to be created.\r\n     * @return A JAX-RS Response object indicating the status of the order creation process.\r\n     */\r\n    @POST\r\n    @Consumes(MediaType.APPLICATION_JSON)\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    @Path(&quot;/create-order&quot;)\r\n    public Response createOrder(Order order){\r\n        Connection conn;\r\n        try {\r\n            conn = getConnectionFromPool(&quot;http://localhost:9084/connection-pool/get-connection&quot;);\r\n            PreparedStatement pstmt = conn.prepareStatement(SQL);\r\n            pstmt.setString(1, order.getItem());\r\n            pstmt.executeUpdate();\r\n\r\n            forwardOrder(&quot;http://localhost:9081/product-service/process-order&quot;, order);\r\n\r\n            return Response.status(Response.Status.CREATED).entity(order).build();\r\n\r\n        } catch (SQLException sqlException) {\r\n            //Fluentd LOGGER is to be added here\r\n            sqlException.printStackTrace();\r\n        }\r\n        return Response.status(Response.Status.INTERNAL_SERVER_ERROR).build();\r\n    }\r\n\r\n    /**\r\n     * This method forwards an order to the specified URL using an HTTP POST request.\r\n     * @param url The URL to which the order is to be forwarded.\r\n     * @param order The Order object representing the order to be forwarded.\r\n     */\r\n\r\n    public void forwardOrder(String url, Order order){\r\n\r\n        String json = serializeJson(order);\r\n\r\n        try {\r\n            OkHttpClient ok = new OkHttpClient();\r\n            RequestBody requestBody = RequestBody.create(MediaType.APPLICATION_JSON, okhttp3.MediaType.parse(json));\r\n            okhttp3.Request request = new okhttp3.Request.Builder()\r\n                    .url(url)\r\n                    .post(requestBody)\r\n                    .build();\r\n            try (okhttp3.Response response = ok.newCall(request).execute()){\r\n                if (!response.isSuccessful()) {\r\n                    throw new IOException(&quot;Unexpected code &quot; + response);\r\n                }\r\n            }\r\n\r\n        } catch(IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * This method serializes an Order object into JSON format.\r\n     * @param order The Order object to be serialized.\r\n     * @return A String representation of the Order object in JSON format.\r\n     */\r\n    public String serializeJson(Order order){\r\n\r\n        try {\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            return objectMapper.writeValueAsString(order);\r\n        } catch(JsonProcessingException e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Gets a connection from the connection pool service using a REST API call.\r\n     * @param url the URL of the connection pool service\r\n     * @return a Connection object from the connection pool\r\n     * @throws SQLException if a database access error occurs\r\n     */\r\n    private Connection getConnectionFromPool(String url) throws SQLException{\r\n        jakarta.ws.rs.core.Response response = ClientBuilder.newClient()\r\n                .target(url)\r\n                .path(&quot;get-connection&quot;)\r\n                .request(MediaType.APPLICATION_JSON)\r\n                .get();\r\n        return response.readEntity(Connection.class);\r\n    }\r\n\r\n}\r\n```\r\n\r\nNow what these classes are responsible is a.) the orderfacade is supposed to be the entrypoint for the user to reach `http://localhost:9080/orders` at which he should be able to place an order which is a single item within an JSON in this form: `&#39;{&quot;item&quot;:&quot;Latte&quot;}&#39;`.\r\n\r\nNow when I package my application in dockerfiles which generally look like this: \r\n\r\n\r\n```\r\nFROM icr.io/appcafe/open-liberty:kernel-slim-java8-openj9-ubi\r\nCOPY --chown=1001:0  src/main/liberty/config/server.xml /config/\r\nCOPY --chown=1001:0 target/orderservice-microservice.war /config/dropins/\r\n```\r\n\r\nI can reach `http://localhost:9080` but not the `/orders` endpoint, here I mostly get `ERR_EMPTY_RESPONSE`. For my understanding I have configured the server correctly, the `server.xml` for the OpenLiberty server for the shown service above is: \r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;server description=&quot;${project.name}&quot;&gt;\r\n\r\n    &lt;httpEndpoint id=&quot;defaultHttpEndpoint&quot;\r\n                  host= &quot;*&quot;\r\n                  httpPort=&quot;9080&quot;\r\n                  httpsPort=&quot;9443&quot;/&gt;\r\n\r\n    &lt;webApplication location=&quot;${project.name}.war&quot; contextRoot=&quot;${app.context.root}&quot;&gt;\r\n        &lt;classloader apiTypeVisibility=&quot;+third-party&quot; /&gt;\r\n    &lt;/webApplication&gt;\r\n    &lt;mpMetrics authentication=&quot;false&quot;/&gt;\r\n\r\n    &lt;!-- This is the keystore that will be used by SSL and by JWT. --&gt;\r\n    &lt;keyStore id=&quot;defaultKeyStore&quot; location=&quot;public.jks&quot; type=&quot;JKS&quot; password=&quot;atbash&quot; /&gt;\r\n\r\n\r\n    &lt;!-- The MP JWT configuration that injects the caller&#39;s JWT into a ResourceScoped bean for inspection. --&gt;\r\n    &lt;mpJwt id=&quot;jwtUserConsumer&quot; keyName=&quot;theKeyId&quot; audiences=&quot;targetService&quot; issuer=&quot;${jwt.issuer}&quot;/&gt;\r\n\r\n&lt;/server&gt;\r\n```\r\n\r\nI have already tried exposing different ports, opening the ports on the firewall settings in my windows machine. But nothing seems to be working.","title":"Java Web Application not running correctly on OpenLiberty Server/Docker","body":"<p>this is going to be a longer question due to the required information to make it clear. I am currently writing a Microservice Application in Java with each Application running on an OpenLiberty Server and containerized using docker, so far so good.</p>\n<p>This is the first time for me writing such an application and I am having to learn a lot of things at once which is fine, my Problem is the proper understanding of how to actually get the applications to run correctly on the OpenLiberty Server.</p>\n<p>To be more precise it seems to me like either the ports I am exposing are not exposing correctly or my Source Code is causing the server to act weirdly.</p>\n<p>I will give you an example of two classes within one of the services which, the source code is the following:</p>\n<pre><code>package com.coffeeshop.microservice;\n\nimport com.ecwid.consul.v1.ConsulClient;\nimport com.ecwid.consul.v1.agent.model.NewService;\nimport com.fasterxml.jackson.core.JsonProcessingException;\n\nimport javax.inject.Inject;\nimport javax.ws.rs.Consumes;\nimport javax.ws.rs.POST;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.core.MediaType;\nimport javax.ws.rs.core.Response;\nimport java.sql.SQLException;\nimport java.util.UUID;\nimport java.util.logging.Logger;\n\nimport jakarta.annotation.PostConstruct;\n\n/**\n * A RESTful web service that exposes endpoints related to order creation and management.\n */\n\n@Path(&quot;/orders&quot;)\npublic class OrderFacade {\n\n    @Inject\n    private OrderService orderService;\n\n    /**\n     * Creates a new order using the specified order details.\n     * @param order the order details.\n     * @return a response indicating whether the order was created successfully.\n     * @throws JsonProcessingException if there was an error serializing the order to JSON.\n     * @throws SQLException if there was an error creating the order in the database.\n     */\n    @POST\n    @Consumes(MediaType.APPLICATION_JSON)\n    @Produces(MediaType.APPLICATION_JSON)\n    public Response createOrder(Order order) throws JsonProcessingException, SQLException {\n        // Call the createOrder method of the OrderService class\n        Response createdOrder = orderService.createOrder(order);\n\n        // Check if the order was successfully created\n        if (createdOrder.getStatus() == Response.Status.CREATED.getStatusCode()) {\n            // Forward the order to the product service\n            orderService.forwardOrder(&quot;http://localhost:9081/product-service/process-order&quot;, order);\n        }\n\n        return createdOrder;\n    }\n\n}\n</code></pre>\n<p>and class number two:</p>\n<pre><code>package com.coffeeshop.microservice;\n\nimport javax.ws.rs.POST;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.core.Response;\n\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport jakarta.ws.rs.client.ClientBuilder;\nimport jakarta.ws.rs.core.MediaType;\n\nimport okhttp3.OkHttpClient;\nimport okhttp3.RequestBody;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\nimport javax.ws.rs.Consumes;\nimport javax.ws.rs.Produces;\n\nimport java.io.IOException;\nimport java.sql.Connection;\nimport java.sql.PreparedStatement;\nimport java.sql.SQLException;\n\n/**\n * @author Sean Bäker\n * @version 1.0\n * @since April.2023\n * This class represents the Order Service for the CoffeeShop microservice architecture.\n * It handles the creation of new orders, as well as forwarding the order to the Product Service\n * for further processing.\n * The Order Service is implemented as a RESTful web service using JAX-RS and the Jakarta RESTful Web Services API.\n */\n\n\n\n@Path(&quot;/orders&quot;)\npublic class OrderService{\n\n    String SQL = &quot;INSERT into orders (item) VALUES(?)&quot;;\n\n    public String connectionPoolUrl;\n\n    /**\n     * Constructor for the OrderService class.\n     * @param connectionPoolUrl The URL of the connection pool service.\n     */\n\n    public OrderService(String connectionPoolUrl){\n        this.connectionPoolUrl = connectionPoolUrl;\n    }\n\n\n    /**\n     * This method creates a new order and forwards it to the Product Service for further processing.\n     * @param order The Order object representing the new order to be created.\n     * @return A JAX-RS Response object indicating the status of the order creation process.\n     */\n    @POST\n    @Consumes(MediaType.APPLICATION_JSON)\n    @Produces(MediaType.APPLICATION_JSON)\n    @Path(&quot;/create-order&quot;)\n    public Response createOrder(Order order){\n        Connection conn;\n        try {\n            conn = getConnectionFromPool(&quot;http://localhost:9084/connection-pool/get-connection&quot;);\n            PreparedStatement pstmt = conn.prepareStatement(SQL);\n            pstmt.setString(1, order.getItem());\n            pstmt.executeUpdate();\n\n            forwardOrder(&quot;http://localhost:9081/product-service/process-order&quot;, order);\n\n            return Response.status(Response.Status.CREATED).entity(order).build();\n\n        } catch (SQLException sqlException) {\n            //Fluentd LOGGER is to be added here\n            sqlException.printStackTrace();\n        }\n        return Response.status(Response.Status.INTERNAL_SERVER_ERROR).build();\n    }\n\n    /**\n     * This method forwards an order to the specified URL using an HTTP POST request.\n     * @param url The URL to which the order is to be forwarded.\n     * @param order The Order object representing the order to be forwarded.\n     */\n\n    public void forwardOrder(String url, Order order){\n\n        String json = serializeJson(order);\n\n        try {\n            OkHttpClient ok = new OkHttpClient();\n            RequestBody requestBody = RequestBody.create(MediaType.APPLICATION_JSON, okhttp3.MediaType.parse(json));\n            okhttp3.Request request = new okhttp3.Request.Builder()\n                    .url(url)\n                    .post(requestBody)\n                    .build();\n            try (okhttp3.Response response = ok.newCall(request).execute()){\n                if (!response.isSuccessful()) {\n                    throw new IOException(&quot;Unexpected code &quot; + response);\n                }\n            }\n\n        } catch(IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    /**\n     * This method serializes an Order object into JSON format.\n     * @param order The Order object to be serialized.\n     * @return A String representation of the Order object in JSON format.\n     */\n    public String serializeJson(Order order){\n\n        try {\n            ObjectMapper objectMapper = new ObjectMapper();\n            return objectMapper.writeValueAsString(order);\n        } catch(JsonProcessingException e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n\n    /**\n     * Gets a connection from the connection pool service using a REST API call.\n     * @param url the URL of the connection pool service\n     * @return a Connection object from the connection pool\n     * @throws SQLException if a database access error occurs\n     */\n    private Connection getConnectionFromPool(String url) throws SQLException{\n        jakarta.ws.rs.core.Response response = ClientBuilder.newClient()\n                .target(url)\n                .path(&quot;get-connection&quot;)\n                .request(MediaType.APPLICATION_JSON)\n                .get();\n        return response.readEntity(Connection.class);\n    }\n\n}\n</code></pre>\n<p>Now what these classes are responsible is a.) the orderfacade is supposed to be the entrypoint for the user to reach <code>http://localhost:9080/orders</code> at which he should be able to place an order which is a single item within an JSON in this form: <code>'{&quot;item&quot;:&quot;Latte&quot;}'</code>.</p>\n<p>Now when I package my application in dockerfiles which generally look like this:</p>\n<pre><code>FROM icr.io/appcafe/open-liberty:kernel-slim-java8-openj9-ubi\nCOPY --chown=1001:0  src/main/liberty/config/server.xml /config/\nCOPY --chown=1001:0 target/orderservice-microservice.war /config/dropins/\n</code></pre>\n<p>I can reach <code>http://localhost:9080</code> but not the <code>/orders</code> endpoint, here I mostly get <code>ERR_EMPTY_RESPONSE</code>. For my understanding I have configured the server correctly, the <code>server.xml</code> for the OpenLiberty server for the shown service above is:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;server description=&quot;${project.name}&quot;&gt;\n\n    &lt;httpEndpoint id=&quot;defaultHttpEndpoint&quot;\n                  host= &quot;*&quot;\n                  httpPort=&quot;9080&quot;\n                  httpsPort=&quot;9443&quot;/&gt;\n\n    &lt;webApplication location=&quot;${project.name}.war&quot; contextRoot=&quot;${app.context.root}&quot;&gt;\n        &lt;classloader apiTypeVisibility=&quot;+third-party&quot; /&gt;\n    &lt;/webApplication&gt;\n    &lt;mpMetrics authentication=&quot;false&quot;/&gt;\n\n    &lt;!-- This is the keystore that will be used by SSL and by JWT. --&gt;\n    &lt;keyStore id=&quot;defaultKeyStore&quot; location=&quot;public.jks&quot; type=&quot;JKS&quot; password=&quot;atbash&quot; /&gt;\n\n\n    &lt;!-- The MP JWT configuration that injects the caller's JWT into a ResourceScoped bean for inspection. --&gt;\n    &lt;mpJwt id=&quot;jwtUserConsumer&quot; keyName=&quot;theKeyId&quot; audiences=&quot;targetService&quot; issuer=&quot;${jwt.issuer}&quot;/&gt;\n\n&lt;/server&gt;\n</code></pre>\n<p>I have already tried exposing different ports, opening the ports on the firewall settings in my windows machine. But nothing seems to be working.</p>\n"},{"tags":["java","oop","inheritance","interface","multiple-inheritance"],"answers":[{"comments":[{"owner":{"account_id":1051387,"reputation":14943,"user_id":1055241,"accept_rate":86,"display_name":"gprathour"},"score":0,"creation_date":1324025469,"post_id":8531368,"comment_id":10566516,"body_markdown":"Can you please elaborate benefits of using interfaces ?","body":"Can you please elaborate benefits of using interfaces ?"},{"owner":{"account_id":299251,"reputation":335925,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"score":0,"creation_date":1324026259,"post_id":8531368,"comment_id":10566702,"body_markdown":"@GPSingh: I tried to add few points below `Q3`. Do you have some further questions?","body":"@GPSingh: I tried to add few points below <code>Q3</code>. Do you have some further questions?"},{"owner":{"account_id":308934,"reputation":1172,"user_id":621096,"accept_rate":75,"display_name":"David Gillen"},"score":0,"creation_date":1531687441,"post_id":8531368,"comment_id":89676686,"body_markdown":"The answer to question two - &quot;they are not&quot; used to achieve multiple inheritance, is contradictory to the answer to question three - &quot;interfaces are kind-of multiple inheritance&quot;. This makes it somewhat confusing.","body":"The answer to question two - &quot;they are not&quot; used to achieve multiple inheritance, is contradictory to the answer to question three - &quot;interfaces are kind-of multiple inheritance&quot;. This makes it somewhat confusing."},{"owner":{"account_id":5254406,"reputation":1108,"user_id":4197679,"accept_rate":79,"display_name":"Ashok kumar Ganesan"},"score":0,"creation_date":1578543554,"post_id":8531368,"comment_id":105474891,"body_markdown":"In **Q1:** you said it not used to achieve multiple inheritance but on the **Q2:** If you said kind of multiple inheritance. Could you be more specific and clear?","body":"In <b>Q1:</b> you said it not used to achieve multiple inheritance but on the <b>Q2:</b> If you said kind of multiple inheritance. Could you be more specific and clear?"}],"tags":[],"owner":{"account_id":299251,"reputation":335925,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"comment_count":4,"down_vote_count":1,"up_vote_count":47,"is_accepted":false,"score":46,"last_activity_date":1324026215,"creation_date":1324022514,"answer_id":8531368,"question_id":8531292,"body_markdown":"&gt; Q1. As interfaces are having only abstract methods (no code) so how can we say that if we are implementing any interface then it is inheritance ? We are not using its code.\r\n\r\nWe can&#39;t. Interfaces aren&#39;t used to achieve multiple inheritance. They replace it with safer, although slightly less powerful construct. Note the keyword `implements` rather than `extends`.\r\n\r\n&gt; Q2. If implementing an interface is not inheritance then How interfaces are used to achieve multiple inheritance ?\r\n\r\nThey are not. With interfaces a single class can have several &quot;*views*&quot;, different APIs or capabilities. E.g. A class can be `Runnable` and `Callable` at the same time, while both methods are effectively doing the same thing.\r\n\r\n&gt; Q3. Anyhow what is the benefit of using Interfaces ? They are not having any code. We need to write code again and again in all classes we implement it.\r\n\r\nInterfaces are kind-of multiple inheritance with no problems that the latter introduces (like the [*Diamond problem*](http://en.wikipedia.org/wiki/Diamond_problem)).\r\n\r\nThere are few use-cases for interfaces:\r\n\r\n1. Object effectively has two identities: a `Tank` *is* both a `Vehicle` and a `Weapon`. You can use an instance of `Tank` where either the former or the latter is expected (polymorphism). This is rarely a case in real-life and is actually a valid example where multiple inheritance would be better (or traits).\r\n\r\n2. Simple responsibilities: an instance of `Tank` object in a game is also `Runnable` to let you execute it in a thread and an `ActionListener` to respond to mouse events.\r\n\r\n3. Callback interfaces: if object implements given callback interface, it is being notified about its life-cycle or other events.\r\n\r\n4. Marker interfaces: not adding any methods, but easily accessible via `instanceof` to discover object capabilities or wishes. `Serializable` and `Cloneable` are examples of this.\r\n\r\n\r\n\r\nWhat you are looking for are trait (like in Scala), unfortunately unavailable in Java.","title":"Why to use Interfaces, Multiple Inheritance vs Interfaces, Benefits of Interfaces?","body":"<blockquote>\n  <p>Q1. As interfaces are having only abstract methods (no code) so how can we say that if we are implementing any interface then it is inheritance ? We are not using its code.</p>\n</blockquote>\n\n<p>We can't. Interfaces aren't used to achieve multiple inheritance. They replace it with safer, although slightly less powerful construct. Note the keyword <code>implements</code> rather than <code>extends</code>.</p>\n\n<blockquote>\n  <p>Q2. If implementing an interface is not inheritance then How interfaces are used to achieve multiple inheritance ?</p>\n</blockquote>\n\n<p>They are not. With interfaces a single class can have several \"<em>views</em>\", different APIs or capabilities. E.g. A class can be <code>Runnable</code> and <code>Callable</code> at the same time, while both methods are effectively doing the same thing.</p>\n\n<blockquote>\n  <p>Q3. Anyhow what is the benefit of using Interfaces ? They are not having any code. We need to write code again and again in all classes we implement it.</p>\n</blockquote>\n\n<p>Interfaces are kind-of multiple inheritance with no problems that the latter introduces (like the <a href=\"http://en.wikipedia.org/wiki/Diamond_problem\"><em>Diamond problem</em></a>).</p>\n\n<p>There are few use-cases for interfaces:</p>\n\n<ol>\n<li><p>Object effectively has two identities: a <code>Tank</code> <em>is</em> both a <code>Vehicle</code> and a <code>Weapon</code>. You can use an instance of <code>Tank</code> where either the former or the latter is expected (polymorphism). This is rarely a case in real-life and is actually a valid example where multiple inheritance would be better (or traits).</p></li>\n<li><p>Simple responsibilities: an instance of <code>Tank</code> object in a game is also <code>Runnable</code> to let you execute it in a thread and an <code>ActionListener</code> to respond to mouse events.</p></li>\n<li><p>Callback interfaces: if object implements given callback interface, it is being notified about its life-cycle or other events.</p></li>\n<li><p>Marker interfaces: not adding any methods, but easily accessible via <code>instanceof</code> to discover object capabilities or wishes. <code>Serializable</code> and <code>Cloneable</code> are examples of this.</p></li>\n</ol>\n\n<p>What you are looking for are trait (like in Scala), unfortunately unavailable in Java.</p>\n"},{"tags":[],"owner":{"account_id":1099595,"reputation":398,"user_id":1092327,"display_name":"Ben"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1324023526,"creation_date":1324023070,"answer_id":8531420,"question_id":8531292,"body_markdown":"Inheritance is when one class derives from another class (which can be abstract) or an Interface. The strongest point of object oriented (inheritance) is not reuse of code (there are many ways to do it), but polymorphism.\r\n \r\nPolymorphism is when you have code that uses the interface, which it&#39;s instance object can be of any class derived from that interface. For example I can have such a method:\r\npublic void Pet(IAnimal animal) and this method will get an object which is an instance of Dog or Cat which inherit from IAnimal. or I can have such a code: \r\nIAnimal animal\r\nand then I can call a method of this interface:\r\nanimal.Eat() which Dog or Cat can implement in a different way.\r\n\r\nThe main advantage of interfaces is that you can inherit from some of them, but if you need to inherit from only one you can use an abstract class as well. Here is an article which explains more about the differences between an abstract class and an interface:\r\nhttp://www.codeproject.com/KB/cs/abstractsvsinterfaces.aspx","title":"Why to use Interfaces, Multiple Inheritance vs Interfaces, Benefits of Interfaces?","body":"<p>Inheritance is when one class derives from another class (which can be abstract) or an Interface. The strongest point of object oriented (inheritance) is not reuse of code (there are many ways to do it), but polymorphism.</p>\n\n<p>Polymorphism is when you have code that uses the interface, which it's instance object can be of any class derived from that interface. For example I can have such a method:\npublic void Pet(IAnimal animal) and this method will get an object which is an instance of Dog or Cat which inherit from IAnimal. or I can have such a code: \nIAnimal animal\nand then I can call a method of this interface:\nanimal.Eat() which Dog or Cat can implement in a different way.</p>\n\n<p>The main advantage of interfaces is that you can inherit from some of them, but if you need to inherit from only one you can use an abstract class as well. Here is an article which explains more about the differences between an abstract class and an interface:\n<a href=\"http://www.codeproject.com/KB/cs/abstractsvsinterfaces.aspx\" rel=\"nofollow\">http://www.codeproject.com/KB/cs/abstractsvsinterfaces.aspx</a></p>\n"},{"comments":[{"owner":{"account_id":432071,"reputation":5380,"user_id":816584,"accept_rate":73,"display_name":"Steve Buzonas"},"score":1,"creation_date":1522691812,"post_id":8531493,"comment_id":86239225,"body_markdown":"You start off by clarifying `interface implementation` vs `concrete inheritance` which is a very important distinction. But your latter use of the term `interface` can be confusing in the real world example. Can something be done to improve clarity? E.g. Real world example of what? Interface, Inheritance? The next phrase could lead one to believe that it is an example of an interface, but the example seems like a concrete implementation.","body":"You start off by clarifying <code>interface implementation</code> vs <code>concrete inheritance</code> which is a very important distinction. But your latter use of the term <code>interface</code> can be confusing in the real world example. Can something be done to improve clarity? E.g. Real world example of what? Interface, Inheritance? The next phrase could lead one to believe that it is an example of an interface, but the example seems like a concrete implementation."},{"owner":{"account_id":121293,"reputation":105207,"user_id":314291,"accept_rate":89,"display_name":"StuartLC"},"score":1,"creation_date":1522736001,"post_id":8531493,"comment_id":86253697,"body_markdown":"Thanks Steve - you&#39;re right, my answer was in need of some TLC.","body":"Thanks Steve - you&#39;re right, my answer was in need of some TLC."}],"tags":[],"owner":{"account_id":121293,"reputation":105207,"user_id":314291,"accept_rate":89,"display_name":"StuartLC"},"comment_count":2,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1524238806,"creation_date":1324023616,"answer_id":8531493,"question_id":8531292,"body_markdown":"&gt; Q1. As interfaces are having only abstract methods (no code) so how can we say that if we are implementing any interface then it is inheritance ? We are not using its code.\r\n\r\nUnfortunately, in colloquial usage, the word `inheritance` is still frequently used when a class implements an interface, although `interface implementation` would be a preferable term - IMO, the term `inheritance` should strictly be used with inheritance of a concrete or abstract class. In languages like C++ and C#, the same syntax (i.e. `Subclass : Superclass` and `Class : Interface`) is used for both class inheritance and interface implementation, which may have contributed to the spread of the misuse of the word `inheritance` with interfaces. Java has different syntax for `extend`ing a class as opposed to `implement`ing an interface, which is a good thing.\r\n\r\n&gt; Q2 If implementing an interface is not inheritance then How interfaces are used to achieve multiple inheritance ?\r\n\r\nYou can achieve the &#39;effect&#39; of multiple inheritance through composition - by implementing multiple interfaces on a class, and then providing implementations for all methods, properties and events required of all the interfaces on the class. One common technique of doing this with concrete classes is by doing &#39;has-a&#39; (composition) relationships with classes which implement the external interfaces by &#39;wiring up&#39; the implementation to each of the internal class implementations. (Languages such as C++ do support multiple concrete inheritance directly, but which creates other potential issues like the diamond problem).\r\n\r\n&gt; Q3 Anyhow what is the benefit of using Interfaces ? They are not having any code. We need to write code again and again in all classes we implement it.\r\n\r\nInterfaces allow existing classes (e.g. frameworks) to interact with your new classes without having ever &#39;seen&#39; them before, because of the ability to communicate through a known interface. Think of an interface as a contract. By implementing this interface on a class, you are contractually bound to meet the obligations required of it, and once this contract is implemented, then your class should be able to be used interchangeably with any other code which consumes the interface.\r\n\r\n&gt; Real World Example\r\n\r\nA &#39;real world&#39; example would be the legislation and convention (interface) surrounding an electrical wall socket in a particular country. Each electrical appliance plugged into the socket needs to meet the specifications (contract) that the authorities have defined for the socket, e.g. the positioning of the line, neutral and earth wires, the position and colouring of the on / off switch, and the conformance the  the electrical voltage, frequency and maximum current that will be supplied through the `interface` when it is switched on.\r\n\r\nThe benefit of decoupling the interface (i.e. a standard wall socket) rather than just soldering wires together is that you can plug (and unplug) a fan, a kettle, a double-adapter, or some new appliance to be invented next year into it, even though this appliance didn&#39;t exist when the interface was designed. Why? Because it will *conform* to the requirements of the interface.\r\n\r\n&gt; Why use interfaces?\r\n\r\nInterfaces are great for loose coupling of classes, and are one of the mainstay&#39;s of Uncle Bob&#39;s [SOLID](http://en.wikipedia.org/wiki/SOLID_%28object-oriented_design%29) paradigm, especially the `Dependency Inversion Principle` and `Interface Segregation Principles`.\r\n\r\nSimply put, by ensuring that dependencies between classes are coupled only on interfaces (abstractions), and not on other concrete classes, it allows the dependency to be substituted with any other class implementation which meets the requirements of the interface.\r\n\r\nIn testing, stubs and mocks of dependencies can be used to unit test each class, and the interaction the class has with the dependency can be &#39;spyed&#39; upon.","title":"Why to use Interfaces, Multiple Inheritance vs Interfaces, Benefits of Interfaces?","body":"<blockquote>\n  <p>Q1. As interfaces are having only abstract methods (no code) so how can we say that if we are implementing any interface then it is inheritance ? We are not using its code.</p>\n</blockquote>\n\n<p>Unfortunately, in colloquial usage, the word <code>inheritance</code> is still frequently used when a class implements an interface, although <code>interface implementation</code> would be a preferable term - IMO, the term <code>inheritance</code> should strictly be used with inheritance of a concrete or abstract class. In languages like C++ and C#, the same syntax (i.e. <code>Subclass : Superclass</code> and <code>Class : Interface</code>) is used for both class inheritance and interface implementation, which may have contributed to the spread of the misuse of the word <code>inheritance</code> with interfaces. Java has different syntax for <code>extend</code>ing a class as opposed to <code>implement</code>ing an interface, which is a good thing.</p>\n\n<blockquote>\n  <p>Q2 If implementing an interface is not inheritance then How interfaces are used to achieve multiple inheritance ?</p>\n</blockquote>\n\n<p>You can achieve the 'effect' of multiple inheritance through composition - by implementing multiple interfaces on a class, and then providing implementations for all methods, properties and events required of all the interfaces on the class. One common technique of doing this with concrete classes is by doing 'has-a' (composition) relationships with classes which implement the external interfaces by 'wiring up' the implementation to each of the internal class implementations. (Languages such as C++ do support multiple concrete inheritance directly, but which creates other potential issues like the diamond problem).</p>\n\n<blockquote>\n  <p>Q3 Anyhow what is the benefit of using Interfaces ? They are not having any code. We need to write code again and again in all classes we implement it.</p>\n</blockquote>\n\n<p>Interfaces allow existing classes (e.g. frameworks) to interact with your new classes without having ever 'seen' them before, because of the ability to communicate through a known interface. Think of an interface as a contract. By implementing this interface on a class, you are contractually bound to meet the obligations required of it, and once this contract is implemented, then your class should be able to be used interchangeably with any other code which consumes the interface.</p>\n\n<blockquote>\n  <p>Real World Example</p>\n</blockquote>\n\n<p>A 'real world' example would be the legislation and convention (interface) surrounding an electrical wall socket in a particular country. Each electrical appliance plugged into the socket needs to meet the specifications (contract) that the authorities have defined for the socket, e.g. the positioning of the line, neutral and earth wires, the position and colouring of the on / off switch, and the conformance the  the electrical voltage, frequency and maximum current that will be supplied through the <code>interface</code> when it is switched on.</p>\n\n<p>The benefit of decoupling the interface (i.e. a standard wall socket) rather than just soldering wires together is that you can plug (and unplug) a fan, a kettle, a double-adapter, or some new appliance to be invented next year into it, even though this appliance didn't exist when the interface was designed. Why? Because it will <em>conform</em> to the requirements of the interface.</p>\n\n<blockquote>\n  <p>Why use interfaces?</p>\n</blockquote>\n\n<p>Interfaces are great for loose coupling of classes, and are one of the mainstay's of Uncle Bob's <a href=\"http://en.wikipedia.org/wiki/SOLID_%28object-oriented_design%29\" rel=\"noreferrer\">SOLID</a> paradigm, especially the <code>Dependency Inversion Principle</code> and <code>Interface Segregation Principles</code>.</p>\n\n<p>Simply put, by ensuring that dependencies between classes are coupled only on interfaces (abstractions), and not on other concrete classes, it allows the dependency to be substituted with any other class implementation which meets the requirements of the interface.</p>\n\n<p>In testing, stubs and mocks of dependencies can be used to unit test each class, and the interaction the class has with the dependency can be 'spyed' upon.</p>\n"},{"comments":[{"owner":{"account_id":6627494,"reputation":2666,"user_id":5117236,"accept_rate":84,"display_name":"Impulse The Fox"},"score":10,"creation_date":1496991250,"post_id":8999131,"comment_id":75899141,"body_markdown":"I feel like the structure that you&#39;ve build in your code would be better and more logical with extends-inheritance than with implements-interfacing. I think it&#39;s a rather bad example","body":"I feel like the structure that you&#39;ve build in your code would be better and more logical with extends-inheritance than with implements-interfacing. I think it&#39;s a rather bad example"},{"owner":{"account_id":5506123,"reputation":4004,"user_id":4373927,"accept_rate":94,"display_name":"John R Perry"},"score":1,"creation_date":1497078708,"post_id":8999131,"comment_id":75937010,"body_markdown":"@gprathour I agree, so please provide a better example :)","body":"@gprathour I agree, so please provide a better example :)"},{"owner":{"account_id":4697262,"reputation":3044,"user_id":3801839,"accept_rate":75,"display_name":"rasmus91"},"score":1,"creation_date":1558507508,"post_id":8999131,"comment_id":99119004,"body_markdown":"If you want a more practical example of when you&#39;d use an interface and when not. Think of writing an app that has to save some data. In the beginning you know you&#39;ll want to save the data, and to load it again, but you might be conflicted as to how: Thus you create an IOInterface. You choose first to write the data to a plain file, and create the FileContext which inherits IOInterface. Then you find out saving it in a SQLite database is actually the thing. THen you can write a SQLiteContext which inherits IOInterface. code was added, not removed, its still compatible. Code by addition.","body":"If you want a more practical example of when you&#39;d use an interface and when not. Think of writing an app that has to save some data. In the beginning you know you&#39;ll want to save the data, and to load it again, but you might be conflicted as to how: Thus you create an IOInterface. You choose first to write the data to a plain file, and create the FileContext which inherits IOInterface. Then you find out saving it in a SQLite database is actually the thing. THen you can write a SQLiteContext which inherits IOInterface. code was added, not removed, its still compatible. Code by addition."},{"owner":{"account_id":1606584,"reputation":1229,"user_id":1486574,"accept_rate":89,"display_name":"MobDev"},"score":0,"creation_date":1614644720,"post_id":8999131,"comment_id":117443154,"body_markdown":"A better way would be that animal is the parent class. Monkey and Lion would extend animal. There would be an interface Swing which monkey implements, an interface Roar which Lion would implement.","body":"A better way would be that animal is the parent class. Monkey and Lion would extend animal. There would be an interface Swing which monkey implements, an interface Roar which Lion would implement."},{"owner":{"account_id":1051387,"reputation":14943,"user_id":1055241,"accept_rate":86,"display_name":"gprathour"},"score":0,"creation_date":1614668343,"post_id":8999131,"comment_id":117447965,"body_markdown":"@MobDev here the point was to elaborate that two different classes can have their own different implementation for the same interface&#39;s methods. It is mandatory for the classes to override the methods, but they can have different code for implementation.","body":"@MobDev here the point was to elaborate that two different classes can have their own different implementation for the same interface&#39;s methods. It is mandatory for the classes to override the methods, but they can have different code for implementation."}],"tags":[],"owner":{"account_id":1051387,"reputation":14943,"user_id":1055241,"accept_rate":86,"display_name":"gprathour"},"comment_count":5,"down_vote_count":2,"up_vote_count":35,"is_accepted":true,"score":33,"last_activity_date":1496992244,"creation_date":1327476325,"answer_id":8999131,"question_id":8531292,"body_markdown":"Interfaces are collection of final static fields and abstract methods (Newly Java 8 added support of having static methods in an interface).\r\n\r\nInterfaces are made in situations when we know that some task must be done, but how it should be done can vary. In other words we can say we implement interfaces so that our class starts behaving in a particular way.\r\n\r\nLet me explain with an example, we all know what animals are. Like Lion is an animal, monkey is an animal, elephant is an animal, cow is an animal and so on. Now we know all animals do eat something and sleep. But the way each animal can eat something or sleep may differ. Like Lion eats by hunting other animals where as cow eats grass. But both eat. So we can have some pseudo code like this,\r\n\r\n    interface Animal {\r\n        public void eat();\r\n        public void sleep();   \r\n    }\r\n    \r\n    class Lion implements Animal {\r\n        public void eat() {\r\n            // Lion&#39;s way to eat\r\n        }\r\n        \r\n        public void sleep(){\r\n             // Lion&#39;s way to sleep\r\n        }\r\n    }\r\n    \r\n    class Monkey implements Animal {\r\n        public void eat() {\r\n            // Monkey&#39;s way to eat\r\n        }\r\n        \r\n        public void sleep() {\r\n            // Monkey&#39;s way to sleep\r\n        }\r\n    }\r\n\r\nAs per the pseudo code mentioned above, anything that is capable of eating or sleeping will be called an animal or we can say it is must for all animals to eat and sleep but the way to eat and sleep depends on the animal.\r\n\r\nIn case of interfaces we inherit only the behaviour, not the actual code as in case of classes&#39; inheritance.\r\n\r\n&gt; Q1. As interfaces are having only abstract methods (no code) so how can we say that if we are implementing any interface then it is inheritance ? We are not using its code.\r\n\r\nImplementing interfaces is other kind of inheritance. It is not similar to the inheritance of classes as in that inheritance child class gets the real code to reuse from the base class.\r\n\r\n&gt; Q2. If implementing an interface is not inheritance then How interfaces are used to achieve multiple inheritance ?\r\n\r\nIt is said because one class can implement more than one interfaces. But we need to understand that this inheritance is different than classes&#39; inheritance.\r\n\r\n&gt; Q3. Anyhow what is the benefit of using Interfaces ? They are not having any code. We need to write code again and again in all classes we implement it. \r\n\r\nImplementing an interface puts compulsion on the class that it must override its all abstract methods.\r\n\r\nRead more in my book [here][1] and [here][2]\r\n\r\n[1]:http://www.laxmipublications.com/servlet/lpgetbiblio?bno=B000369&amp;pageName=Keywords\r\n[2]:http://www.amazon.in/Way-Core-Java-Gurparsad-Singh/dp/9386035553/ref=sr_1_1?ie=UTF8&amp;qid=1466577389&amp;sr=8-1&amp;keywords=the+way+to+core+of+java","title":"Why to use Interfaces, Multiple Inheritance vs Interfaces, Benefits of Interfaces?","body":"<p>Interfaces are collection of final static fields and abstract methods (Newly Java 8 added support of having static methods in an interface).</p>\n\n<p>Interfaces are made in situations when we know that some task must be done, but how it should be done can vary. In other words we can say we implement interfaces so that our class starts behaving in a particular way.</p>\n\n<p>Let me explain with an example, we all know what animals are. Like Lion is an animal, monkey is an animal, elephant is an animal, cow is an animal and so on. Now we know all animals do eat something and sleep. But the way each animal can eat something or sleep may differ. Like Lion eats by hunting other animals where as cow eats grass. But both eat. So we can have some pseudo code like this,</p>\n\n<pre><code>interface Animal {\n    public void eat();\n    public void sleep();   \n}\n\nclass Lion implements Animal {\n    public void eat() {\n        // Lion's way to eat\n    }\n\n    public void sleep(){\n         // Lion's way to sleep\n    }\n}\n\nclass Monkey implements Animal {\n    public void eat() {\n        // Monkey's way to eat\n    }\n\n    public void sleep() {\n        // Monkey's way to sleep\n    }\n}\n</code></pre>\n\n<p>As per the pseudo code mentioned above, anything that is capable of eating or sleeping will be called an animal or we can say it is must for all animals to eat and sleep but the way to eat and sleep depends on the animal.</p>\n\n<p>In case of interfaces we inherit only the behaviour, not the actual code as in case of classes' inheritance.</p>\n\n<blockquote>\n  <p>Q1. As interfaces are having only abstract methods (no code) so how can we say that if we are implementing any interface then it is inheritance ? We are not using its code.</p>\n</blockquote>\n\n<p>Implementing interfaces is other kind of inheritance. It is not similar to the inheritance of classes as in that inheritance child class gets the real code to reuse from the base class.</p>\n\n<blockquote>\n  <p>Q2. If implementing an interface is not inheritance then How interfaces are used to achieve multiple inheritance ?</p>\n</blockquote>\n\n<p>It is said because one class can implement more than one interfaces. But we need to understand that this inheritance is different than classes' inheritance.</p>\n\n<blockquote>\n  <p>Q3. Anyhow what is the benefit of using Interfaces ? They are not having any code. We need to write code again and again in all classes we implement it. </p>\n</blockquote>\n\n<p>Implementing an interface puts compulsion on the class that it must override its all abstract methods.</p>\n\n<p>Read more in my book <a href=\"http://www.laxmipublications.com/servlet/lpgetbiblio?bno=B000369&amp;pageName=Keywords\" rel=\"noreferrer\">here</a> and <a href=\"http://www.amazon.in/Way-Core-Java-Gurparsad-Singh/dp/9386035553/ref=sr_1_1?ie=UTF8&amp;qid=1466577389&amp;sr=8-1&amp;keywords=the+way+to+core+of+java\" rel=\"noreferrer\">here</a></p>\n"},{"comments":[{"owner":{"account_id":432071,"reputation":5380,"user_id":816584,"accept_rate":73,"display_name":"Steve Buzonas"},"score":0,"creation_date":1522692115,"post_id":13465647,"comment_id":86239394,"body_markdown":"I believe you may mean `instance variable` instead of `interface variable`","body":"I believe you may mean <code>instance variable</code> instead of <code>interface variable</code>"}],"tags":[],"owner":{"account_id":2060925,"reputation":1337,"user_id":1837472,"accept_rate":85,"display_name":"Data"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1353378215,"creation_date":1353377707,"answer_id":13465647,"question_id":8531292,"body_markdown":"**KISS**\r\n\r\nI have searched for days, nay weeks trying to understand interfaces and seem to read the same generic help; I&#39;m not trying to disparage the contributions, but i think the light-bulb just clicked so I&#39;m chuffed :)) \r\n\r\nI prefer to Keep It Simple Stupid, so will proffer my new found view of interfaces.\r\n\r\nI&#39;m a casual coder but i want to post this code i wrote in VB.NET (the principle is the same for other languages), to help others understand interfaces.\r\n\r\nIf i have it wrong, then please let others know in follow up comments.\r\n\r\n**Explanation**\r\n\r\nThree buttons on a form, clicking each one saves a different class reference to the interface variable (_data). The whole point of different class references into an interface variable, is what i didn&#39;t understand as it seemed redundant, then its power becomes evident with the msgbox, i only need to call the SAME method to perform the task i need, in this case &#39;GetData()&#39;, which uses the method in the class that&#39;s currently held by the interface reference variable (_data).\r\n\r\nSo however i wish to get my data (from a database, the web or a text file), it&#39;s only ever done using the **same method name**; the code behind that implementation...i don&#39;t care about.\r\n\r\nIt&#39;s then easy to change each class code using the interface without any dependency...this is a key goal in OO and encapsulation.\r\n\r\n**When to use**\r\n\r\nCode classes and if you notice the same verb used for methods, like &#39;GetData()&#39;, then it&#39;s a good candidate to implement an interface on that class and use that method name as an abstraction / interface.\r\n\r\nI sincerely hope this helps a fellow noob with this difficult principle.\r\n\r\n    \r\n    Public Class Form1\r\n\r\n    Private _data As IData = Nothing\r\n\r\n    Private Sub Button1_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button1.Click\r\n        _data = New DataText()\r\n        MsgBox(_data.GetData())\r\n    End Sub\r\n\r\n    Private Sub Button2_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button2.Click\r\n        _data = New DataDB()\r\n        MsgBox(_data.GetData())\r\n    End Sub\r\n\r\n    Private Sub Button3_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button3.Click\r\n        _data = New DataWeb()\r\n        MsgBox(_data.GetData())\r\n    End Sub\r\n\r\n    End Class\r\n\r\n    Public Interface IData\r\n    Function GetData() As String\r\n    End Interface\r\n\r\n    Friend Class DataText : Implements IData\r\n\r\n    Friend Function GetData() As String Implements IData.GetData\r\n        Return &quot;DataText&quot;\r\n    End Function\r\n\r\n    End Class\r\n\r\n    Friend Class DataDB : Implements IData\r\n\r\n    Friend Function GetData() As String Implements IData.GetData\r\n        Return &quot;DataDB&quot;\r\n    End Function\r\n\r\n    End Class\r\n\r\n    Friend Class DataWeb : Implements IData\r\n\r\n    Friend Function GetData() As String Implements IData.GetData\r\n        Return &quot;DataWeb&quot;\r\n    End Function\r\n\r\n    End Class","title":"Why to use Interfaces, Multiple Inheritance vs Interfaces, Benefits of Interfaces?","body":"<p><strong>KISS</strong></p>\n\n<p>I have searched for days, nay weeks trying to understand interfaces and seem to read the same generic help; I'm not trying to disparage the contributions, but i think the light-bulb just clicked so I'm chuffed :)) </p>\n\n<p>I prefer to Keep It Simple Stupid, so will proffer my new found view of interfaces.</p>\n\n<p>I'm a casual coder but i want to post this code i wrote in VB.NET (the principle is the same for other languages), to help others understand interfaces.</p>\n\n<p>If i have it wrong, then please let others know in follow up comments.</p>\n\n<p><strong>Explanation</strong></p>\n\n<p>Three buttons on a form, clicking each one saves a different class reference to the interface variable (_data). The whole point of different class references into an interface variable, is what i didn't understand as it seemed redundant, then its power becomes evident with the msgbox, i only need to call the SAME method to perform the task i need, in this case 'GetData()', which uses the method in the class that's currently held by the interface reference variable (_data).</p>\n\n<p>So however i wish to get my data (from a database, the web or a text file), it's only ever done using the <strong>same method name</strong>; the code behind that implementation...i don't care about.</p>\n\n<p>It's then easy to change each class code using the interface without any dependency...this is a key goal in OO and encapsulation.</p>\n\n<p><strong>When to use</strong></p>\n\n<p>Code classes and if you notice the same verb used for methods, like 'GetData()', then it's a good candidate to implement an interface on that class and use that method name as an abstraction / interface.</p>\n\n<p>I sincerely hope this helps a fellow noob with this difficult principle.</p>\n\n<pre><code>Public Class Form1\n\nPrivate _data As IData = Nothing\n\nPrivate Sub Button1_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button1.Click\n    _data = New DataText()\n    MsgBox(_data.GetData())\nEnd Sub\n\nPrivate Sub Button2_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button2.Click\n    _data = New DataDB()\n    MsgBox(_data.GetData())\nEnd Sub\n\nPrivate Sub Button3_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button3.Click\n    _data = New DataWeb()\n    MsgBox(_data.GetData())\nEnd Sub\n\nEnd Class\n\nPublic Interface IData\nFunction GetData() As String\nEnd Interface\n\nFriend Class DataText : Implements IData\n\nFriend Function GetData() As String Implements IData.GetData\n    Return \"DataText\"\nEnd Function\n\nEnd Class\n\nFriend Class DataDB : Implements IData\n\nFriend Function GetData() As String Implements IData.GetData\n    Return \"DataDB\"\nEnd Function\n\nEnd Class\n\nFriend Class DataWeb : Implements IData\n\nFriend Function GetData() As String Implements IData.GetData\n    Return \"DataWeb\"\nEnd Function\n\nEnd Class\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1682416250,"creation_date":1457875765,"answer_id":35970837,"question_id":8531292,"body_markdown":"*This is very old question and java-8 release have added more features &amp; power to interface.*\r\n\r\nAn interface declaration can contain\r\n\r\n  1. method signatures  \r\n  2. default methods \r\n  3. static methods \r\n  4. constant definitions. \r\n\r\n*The only methods that have implementations in interface are **default** and **static** methods.*\r\n\r\n**Uses of interface:**\r\n\r\n1. To define a **contract**\r\n2. To link unrelated classes with has a **capabilities** (e.g. classes implementing Serializable interface may or may not have any relation between them except implementing that interface\r\n3. To provide **interchangeable** implementation e.g. [`Strategy_pattern`][1]\r\n4. **default** methods enable you to add new functionality to the interfaces of your libraries and ensure *binary compatibility* with code written for older versions of those interfaces\r\n5. Organize helper methods in your libraries with **static** methods ( you can keep static methods specific to an interface in the same interface rather than in a separate class)\r\n\r\nHave a look at this related SE question for code example to understanding the concepts better:\r\n\r\nhttps://stackoverflow.com/questions/18777989/how-should-i-have-explained-the-difference-between-an-interface-and-an-abstract/34978606#34978606\r\n\r\nComing back to your queries:\r\n\r\n*Q1. As interfaces are having only abstract methods (no code) so how can we say that if we are implementing any interface then it is inheritance ? We are not using its code.*\r\n\r\n*Q2. If implementing an interface is not inheritance then How interfaces are used to achieve multiple inheritance ?*\r\n\r\n\r\nInterface can contain code for **static** and **default** methods. These default methods provides backward compatibility &amp; static methods provides *helper/utility* functions. \r\n\r\nYou can&#39;t have true multiple inheritance in java and interface is not the way to get it. Interface can contain only constants. So you can&#39;t inherit state but you can implement behaviour.  \r\n\r\nYou can replace *inheritance* with *capability*. *Interface provides multiple capabilities to implementing classes.* \r\n\r\n *Q3. Anyhow what is the benefit of using Interfaces ? They are not having any code. We need to write code again and again in all classes we implement it.*\r\n\r\nRefer to &quot;**uses of interface**&quot; section in my answer. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Strategy_pattern","title":"Why to use Interfaces, Multiple Inheritance vs Interfaces, Benefits of Interfaces?","body":"<p><em>This is very old question and java-8 release have added more features &amp; power to interface.</em></p>\n<p>An interface declaration can contain</p>\n<ol>\n<li>method signatures</li>\n<li>default methods</li>\n<li>static methods</li>\n<li>constant definitions.</li>\n</ol>\n<p><em>The only methods that have implementations in interface are <strong>default</strong> and <strong>static</strong> methods.</em></p>\n<p><strong>Uses of interface:</strong></p>\n<ol>\n<li>To define a <strong>contract</strong></li>\n<li>To link unrelated classes with has a <strong>capabilities</strong> (e.g. classes implementing Serializable interface may or may not have any relation between them except implementing that interface</li>\n<li>To provide <strong>interchangeable</strong> implementation e.g. <a href=\"https://en.wikipedia.org/wiki/Strategy_pattern\" rel=\"nofollow noreferrer\"><code>Strategy_pattern</code></a></li>\n<li><strong>default</strong> methods enable you to add new functionality to the interfaces of your libraries and ensure <em>binary compatibility</em> with code written for older versions of those interfaces</li>\n<li>Organize helper methods in your libraries with <strong>static</strong> methods ( you can keep static methods specific to an interface in the same interface rather than in a separate class)</li>\n</ol>\n<p>Have a look at this related SE question for code example to understanding the concepts better:</p>\n<p><a href=\"https://stackoverflow.com/questions/18777989/how-should-i-have-explained-the-difference-between-an-interface-and-an-abstract/34978606#34978606\">How should I have explained the difference between an Interface and an Abstract class?</a></p>\n<p>Coming back to your queries:</p>\n<p><em>Q1. As interfaces are having only abstract methods (no code) so how can we say that if we are implementing any interface then it is inheritance ? We are not using its code.</em></p>\n<p><em>Q2. If implementing an interface is not inheritance then How interfaces are used to achieve multiple inheritance ?</em></p>\n<p>Interface can contain code for <strong>static</strong> and <strong>default</strong> methods. These default methods provides backward compatibility &amp; static methods provides <em>helper/utility</em> functions.</p>\n<p>You can't have true multiple inheritance in java and interface is not the way to get it. Interface can contain only constants. So you can't inherit state but you can implement behaviour.</p>\n<p>You can replace <em>inheritance</em> with <em>capability</em>. <em>Interface provides multiple capabilities to implementing classes.</em></p>\n<p><em>Q3. Anyhow what is the benefit of using Interfaces ? They are not having any code. We need to write code again and again in all classes we implement it.</em></p>\n<p>Refer to &quot;<strong>uses of interface</strong>&quot; section in my answer.</p>\n"},{"comments":[{"owner":{"account_id":8779557,"reputation":1225,"user_id":6563591,"accept_rate":77,"display_name":"roger"},"score":0,"creation_date":1521845565,"post_id":44467300,"comment_id":85921495,"body_markdown":"Would help if you can go more on the how rather than `Interfaces are not inheritance.`, this way it helps break down the definition where me as a noob is still having trouble to see the different and similar. anywho, thanks you for explanation.","body":"Would help if you can go more on the how rather than <code>Interfaces are not inheritance.</code>, this way it helps break down the definition where me as a noob is still having trouble to see the different and similar. anywho, thanks you for explanation."},{"owner":{"account_id":432071,"reputation":5380,"user_id":816584,"accept_rate":73,"display_name":"Steve Buzonas"},"score":0,"creation_date":1522437754,"post_id":44467300,"comment_id":86168248,"body_markdown":"@Kim.LBy Thanks for the input. Does that clarify better?","body":"@Kim.LBy Thanks for the input. Does that clarify better?"},{"owner":{"account_id":8779557,"reputation":1225,"user_id":6563591,"accept_rate":77,"display_name":"roger"},"score":0,"creation_date":1522474389,"post_id":44467300,"comment_id":86177173,"body_markdown":"yes, it&#39;s clearer now. The edited answer shows which values the concrete classes inherit from their parents&#39; classes and not from the interface.","body":"yes, it&#39;s clearer now. The edited answer shows which values the concrete classes inherit from their parents&#39; classes and not from the interface."}],"tags":[],"owner":{"account_id":432071,"reputation":5380,"user_id":816584,"accept_rate":73,"display_name":"Steve Buzonas"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1522437722,"creation_date":1497045864,"answer_id":44467300,"question_id":8531292,"body_markdown":"# Interfaces\n\nAn interface is a contract defining how to interact with an object. They are useful to express how your internals intend to interact with an object. Following **Dependency Inversion** your public API would have all parameters expressed with interfaces. You don&#39;t care how it does what you need it to do, just that it does exactly what you need it to do.\n\n**Example:** You may simply need a `Vehicle` to transport goods, you don&#39;t care about the particular mode of transport.\n\n# Inheritance\n\nInheritance is an extension of a particular implementation. That implementation may or may not satisfy a particular interface. You should expect an ancestor of a particular implementation only when you care about the how.\n\n**Example:** You may need a `Plane` implementation of a vehicle for fast transport.\n\n# Composition\n\nComposition can be used as an alternative to inheritance. Instead of your class extending a base class, it is created with objects that implement smaller portions of the main class&#39;s responsibility. Composition is used in the `facade pattern` and `decorator pattern`.\n\n**Example:** You may create a `DuckBoat` ([DUKW][1]) class that implements `LandVehicle` and `WaterVehicle` which both implement `Vehicle` composed of `Truck` and `Boat` implementations.\n\n# Answers\n\n&gt; Q1. As interfaces are having only abstract methods (no code) so how can we say that if we are implementing any interface then it is inheritance ? We are not using its code.\n\nInterfaces are not inheritance. Implementing an interface expresses that you intend for your class to operate in the way that is defined by the interface. Inheritance is when you have a common ancestor, and you receive the same behavior (`inherit`) as the ancestor so you do not need to define it.\n\n&gt; Q2. If implementing an interface is not inheritance then How interfaces are used to achieve multiple inheritance ?\n\nInterfaces do not achieve multiple inheritance. They express that a class may be suitable for multiple roles.\n\n&gt; Q3. Anyhow what is the benefit of using Interfaces ? They are not having any code. We need to write code again and again in all classes we implement it.\n\nOne of the major benefits of interfaces is to provide separation of concerns:\n\n - You can write a class that does something with another class without caring how that class is implemented.\n - Any future development can be compatible with your implementation without needing to extend a particular base class.\n\nIn the spirit of `DRY` you can write an implementation that satisfies an interface and change it while still respecting the `open/closed principal` if you leverage composition.\n\n  [1]: https://en.wikipedia.org/wiki/DUKW","title":"Why to use Interfaces, Multiple Inheritance vs Interfaces, Benefits of Interfaces?","body":"<h1>Interfaces</h1>\n<p>An interface is a contract defining how to interact with an object. They are useful to express how your internals intend to interact with an object. Following <strong>Dependency Inversion</strong> your public API would have all parameters expressed with interfaces. You don't care how it does what you need it to do, just that it does exactly what you need it to do.</p>\n<p><strong>Example:</strong> You may simply need a <code>Vehicle</code> to transport goods, you don't care about the particular mode of transport.</p>\n<h1>Inheritance</h1>\n<p>Inheritance is an extension of a particular implementation. That implementation may or may not satisfy a particular interface. You should expect an ancestor of a particular implementation only when you care about the how.</p>\n<p><strong>Example:</strong> You may need a <code>Plane</code> implementation of a vehicle for fast transport.</p>\n<h1>Composition</h1>\n<p>Composition can be used as an alternative to inheritance. Instead of your class extending a base class, it is created with objects that implement smaller portions of the main class's responsibility. Composition is used in the <code>facade pattern</code> and <code>decorator pattern</code>.</p>\n<p><strong>Example:</strong> You may create a <code>DuckBoat</code> (<a href=\"https://en.wikipedia.org/wiki/DUKW\" rel=\"nofollow noreferrer\">DUKW</a>) class that implements <code>LandVehicle</code> and <code>WaterVehicle</code> which both implement <code>Vehicle</code> composed of <code>Truck</code> and <code>Boat</code> implementations.</p>\n<h1>Answers</h1>\n<blockquote>\n<p>Q1. As interfaces are having only abstract methods (no code) so how can we say that if we are implementing any interface then it is inheritance ? We are not using its code.</p>\n</blockquote>\n<p>Interfaces are not inheritance. Implementing an interface expresses that you intend for your class to operate in the way that is defined by the interface. Inheritance is when you have a common ancestor, and you receive the same behavior (<code>inherit</code>) as the ancestor so you do not need to define it.</p>\n<blockquote>\n<p>Q2. If implementing an interface is not inheritance then How interfaces are used to achieve multiple inheritance ?</p>\n</blockquote>\n<p>Interfaces do not achieve multiple inheritance. They express that a class may be suitable for multiple roles.</p>\n<blockquote>\n<p>Q3. Anyhow what is the benefit of using Interfaces ? They are not having any code. We need to write code again and again in all classes we implement it.</p>\n</blockquote>\n<p>One of the major benefits of interfaces is to provide separation of concerns:</p>\n<ul>\n<li>You can write a class that does something with another class without caring how that class is implemented.</li>\n<li>Any future development can be compatible with your implementation without needing to extend a particular base class.</li>\n</ul>\n<p>In the spirit of <code>DRY</code> you can write an implementation that satisfies an interface and change it while still respecting the <code>open/closed principal</code> if you leverage composition.</p>\n"},{"tags":[],"owner":{"account_id":8904523,"reputation":808,"user_id":6646873,"display_name":"Anderson Marques"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522712237,"creation_date":1522712237,"answer_id":49620214,"question_id":8531292,"body_markdown":"**Q1. As interfaces are having only abstract methods (no code) so how can we say that if we are implementing an interface then it is inheritance? We are not using its code.**\r\n\r\nIt is not equal inheritance. It is just similiar. Let me explain:\r\n\r\n    VolvoV3 extends VolvoV2, and VolvoV2 extends    Volvo (Class)\r\n    VolvoV3 extends VolvoV2, and VolvoV2 implements Volvo (Interface)\r\n\r\n    line1: Volvo v = new VolvoV2(); \r\n    line2: Volvo v = new VolvoV3(); \r\n\r\nIf you see only line1 and line2 you can infer that VolvoV2 and VolvoV3 have the same type. You cannot infer if Volvo a superclass or Volvo is an interface.\r\n\r\n\r\n**Q2. If implementing an interface is not inheritance then How interfaces are used to achieve multiple inheritances?**\r\n\r\nNow using interfaces:\r\n\r\n    VolvoXC90 implements XCModel and Volvo (Interface)\r\n    VolvoXC95 implements XCModel and Volvo (Interface)\r\n\r\n    line1: Volvo   a = new VolvoXC90();\r\n    line2: Volvo   a = new VolvoXC95();\r\n    line3: XCModel a = new VolvoXC95();\r\n\r\nIf you see only line1 and line2 you can infer that VolvoXC90 and VolvoXC95 have the same type (Volvo). You cannot infer that Volvo is a superclass or Volvo is an interface.\r\n\r\nIf you see only line2 and line3 you can infer that Volvo95 implements two types, XCModel and Volvo, in Java you know that at least one has to be an interface. If this code was written in C++, for instance, they could be both classes. Therefore, multiple inheritances.\r\n\r\n**Q3. Anyhow, what is the benefit of using Interfaces? They are not having any code. We need to write code again and again in all classes we implement it.**\r\n\r\nImagine a system where you use a VolvoXC90 class in 200 other classes. \r\n\r\n    VolvoXC90 v = new VolvoXC90();\r\n\r\nIf you need to evolve your system to launch VolvoXC95 you have to alter 200 other classes. \r\n\r\nNow, imagine a system where you use a Volvo interface in 10,000,000 classes. \r\n\r\n    // Create VolvoXC90 but now we need to create VolvoXC95\r\n    Volvo v = new VolvoFactory().newCurrentVolvoModel(); \r\n\r\nNow, if you need to evolve your system to create VolvoXC95 models you have to alter only one class, the Factory.\r\n\r\nIt is a common sense question. If your system is composed only of few classes and have few updates use Interfaces everywhere is counterproductive. For big systems, it can save you a lot of pain and avoid risk adopting Interfaces.\r\n\r\n I recommend you read more about S.O.L.I.D principles and read the book Effective Java. It has good lessons from experienced software engineers.","title":"Why to use Interfaces, Multiple Inheritance vs Interfaces, Benefits of Interfaces?","body":"<p><strong>Q1. As interfaces are having only abstract methods (no code) so how can we say that if we are implementing an interface then it is inheritance? We are not using its code.</strong></p>\n\n<p>It is not equal inheritance. It is just similiar. Let me explain:</p>\n\n<pre><code>VolvoV3 extends VolvoV2, and VolvoV2 extends    Volvo (Class)\nVolvoV3 extends VolvoV2, and VolvoV2 implements Volvo (Interface)\n\nline1: Volvo v = new VolvoV2(); \nline2: Volvo v = new VolvoV3(); \n</code></pre>\n\n<p>If you see only line1 and line2 you can infer that VolvoV2 and VolvoV3 have the same type. You cannot infer if Volvo a superclass or Volvo is an interface.</p>\n\n<p><strong>Q2. If implementing an interface is not inheritance then How interfaces are used to achieve multiple inheritances?</strong></p>\n\n<p>Now using interfaces:</p>\n\n<pre><code>VolvoXC90 implements XCModel and Volvo (Interface)\nVolvoXC95 implements XCModel and Volvo (Interface)\n\nline1: Volvo   a = new VolvoXC90();\nline2: Volvo   a = new VolvoXC95();\nline3: XCModel a = new VolvoXC95();\n</code></pre>\n\n<p>If you see only line1 and line2 you can infer that VolvoXC90 and VolvoXC95 have the same type (Volvo). You cannot infer that Volvo is a superclass or Volvo is an interface.</p>\n\n<p>If you see only line2 and line3 you can infer that Volvo95 implements two types, XCModel and Volvo, in Java you know that at least one has to be an interface. If this code was written in C++, for instance, they could be both classes. Therefore, multiple inheritances.</p>\n\n<p><strong>Q3. Anyhow, what is the benefit of using Interfaces? They are not having any code. We need to write code again and again in all classes we implement it.</strong></p>\n\n<p>Imagine a system where you use a VolvoXC90 class in 200 other classes. </p>\n\n<pre><code>VolvoXC90 v = new VolvoXC90();\n</code></pre>\n\n<p>If you need to evolve your system to launch VolvoXC95 you have to alter 200 other classes. </p>\n\n<p>Now, imagine a system where you use a Volvo interface in 10,000,000 classes. </p>\n\n<pre><code>// Create VolvoXC90 but now we need to create VolvoXC95\nVolvo v = new VolvoFactory().newCurrentVolvoModel(); \n</code></pre>\n\n<p>Now, if you need to evolve your system to create VolvoXC95 models you have to alter only one class, the Factory.</p>\n\n<p>It is a common sense question. If your system is composed only of few classes and have few updates use Interfaces everywhere is counterproductive. For big systems, it can save you a lot of pain and avoid risk adopting Interfaces.</p>\n\n<p>I recommend you read more about S.O.L.I.D principles and read the book Effective Java. It has good lessons from experienced software engineers.</p>\n"},{"comments":[{"owner":{"account_id":4555074,"reputation":138,"user_id":3699039,"accept_rate":0,"display_name":"Muhammad_08"},"score":0,"creation_date":1668159642,"post_id":49620333,"comment_id":131343021,"body_markdown":"can you please explain why we need to convert abstract class to interfaces? like as mentioned why we need to convert the abstract classes to interfaces?","body":"can you please explain why we need to convert abstract class to interfaces? like as mentioned why we need to convert the abstract classes to interfaces?"},{"owner":{"account_id":255578,"reputation":4097,"user_id":535724,"accept_rate":60,"display_name":"umlcat"},"score":0,"creation_date":1676926303,"post_id":49620333,"comment_id":133231949,"body_markdown":"@Muhammad_08 : interfaces is a more defined way to express an abstraction / idea than abstract classes, altought both ways work.","body":"@Muhammad_08 : interfaces is a more defined way to express an abstraction / idea than abstract classes, altought both ways work."},{"owner":{"account_id":4555074,"reputation":138,"user_id":3699039,"accept_rate":0,"display_name":"Muhammad_08"},"score":0,"creation_date":1676996681,"post_id":49620333,"comment_id":133247814,"body_markdown":"thank you for the response, what i can deduce from your answer that is its more closer to professionalism and software eng rules to use interfaces instead of abstract classes?","body":"thank you for the response, what i can deduce from your answer that is its more closer to professionalism and software eng rules to use interfaces instead of abstract classes?"},{"owner":{"account_id":255578,"reputation":4097,"user_id":535724,"accept_rate":60,"display_name":"umlcat"},"score":1,"creation_date":1677026185,"post_id":49620333,"comment_id":133255236,"body_markdown":"@Muhammad_08 Is more related to have a easier direct syntax that allows programmers to express an idea, even if there are other ways","body":"@Muhammad_08 Is more related to have a easier direct syntax that allows programmers to express an idea, even if there are other ways"}],"tags":[],"owner":{"account_id":255578,"reputation":4097,"user_id":535724,"accept_rate":60,"display_name":"umlcat"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1553379672,"creation_date":1522713247,"answer_id":49620333,"question_id":8531292,"body_markdown":"Both Methods Work (Interfaces and Multiple Inheritance). \r\n\r\n**Quick Practical Short Answer**\r\n\r\nInterfaces are better when you have several years of experience using Multiple Inheritance that have Super Classes with only method definition, and no code at all.\r\n\r\nA complementary question may be: &quot;How and Why to to migrate code from Abstract Classes to Interfaces&quot;.\r\n\r\nIf you are not using many abstract classes, in your application, or you don&#39;t have many experience with it, you may prefer to skip interfaces.\r\n\r\nDont rush to use interfaces.\r\n\r\n\r\n**Long Boring Answer**\r\n\r\nInterfaces are very similar, or even equivalent to abstract Classes.\r\n\r\nIf your code has many Abstract classes, then its time you start thinking in terms of Interfaces.\r\n\r\nThe following code with abstract classes:\r\n\r\n---\r\nMyStreamsClasses.java\r\n---\r\n\r\n    /* File name : MyStreamsClasses.java */\r\n    import java.lang.*;\r\n    // Any number of import statements\r\n    \r\n    public abstract class InputStream {\r\n      public void ReadObject(Object MyObject);\r\n    }\r\n    \r\n    public abstract class OutputStream {\r\n      public void WriteObject(Object MyObject);\r\n    }\r\n    \r\n    public abstract class InputOutputStream \r\n        imnplements InputStream, OutputStream {\r\n      public void DoSomethingElse();\r\n    }\r\n    \r\n---\r\n\r\nCan be replaced with:\r\n\r\n---\r\nMyStreamsInterfaces.java\r\n---\r\n\r\n    /* File name : MyStreamsInterfaces.java */\r\n    import java.lang.*;\r\n    // Any number of import statements\r\n    \r\n    public interface InputStream {\r\n      public void ReadObject(Object MyObject);\r\n    }\r\n    \r\n    public interface OutputStream {\r\n      public void WriteObject(Object MyObject);\r\n    }\r\n    \r\n    public interface InputOutputStream \r\n        extends InputStream, OutputStream {\r\n      public void DoSomethingElse();\r\n    }\r\n    \r\n---\r\n\r\nCheers.","title":"Why to use Interfaces, Multiple Inheritance vs Interfaces, Benefits of Interfaces?","body":"<p>Both Methods Work (Interfaces and Multiple Inheritance). </p>\n\n<p><strong>Quick Practical Short Answer</strong></p>\n\n<p>Interfaces are better when you have several years of experience using Multiple Inheritance that have Super Classes with only method definition, and no code at all.</p>\n\n<p>A complementary question may be: \"How and Why to to migrate code from Abstract Classes to Interfaces\".</p>\n\n<p>If you are not using many abstract classes, in your application, or you don't have many experience with it, you may prefer to skip interfaces.</p>\n\n<p>Dont rush to use interfaces.</p>\n\n<p><strong>Long Boring Answer</strong></p>\n\n<p>Interfaces are very similar, or even equivalent to abstract Classes.</p>\n\n<p>If your code has many Abstract classes, then its time you start thinking in terms of Interfaces.</p>\n\n<p>The following code with abstract classes:</p>\n\n<hr>\n\n<h2>MyStreamsClasses.java</h2>\n\n<pre><code>/* File name : MyStreamsClasses.java */\nimport java.lang.*;\n// Any number of import statements\n\npublic abstract class InputStream {\n  public void ReadObject(Object MyObject);\n}\n\npublic abstract class OutputStream {\n  public void WriteObject(Object MyObject);\n}\n\npublic abstract class InputOutputStream \n    imnplements InputStream, OutputStream {\n  public void DoSomethingElse();\n}\n</code></pre>\n\n<hr>\n\n<p>Can be replaced with:</p>\n\n<hr>\n\n<h2>MyStreamsInterfaces.java</h2>\n\n<pre><code>/* File name : MyStreamsInterfaces.java */\nimport java.lang.*;\n// Any number of import statements\n\npublic interface InputStream {\n  public void ReadObject(Object MyObject);\n}\n\npublic interface OutputStream {\n  public void WriteObject(Object MyObject);\n}\n\npublic interface InputOutputStream \n    extends InputStream, OutputStream {\n  public void DoSomethingElse();\n}\n</code></pre>\n\n<hr>\n\n<p>Cheers.</p>\n"},{"tags":[],"owner":{"account_id":9313428,"reputation":7970,"user_id":6914441,"display_name":"jferard"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1522970889,"creation_date":1522970889,"answer_id":49683031,"question_id":8531292,"body_markdown":"Old question. I&#39;m suprised that nobody quoted the canonical sources: *Java: an Overview* by James Gosling, *Design Patterns: Elements of Reusable Object-Oriented Software* by the Gang of Four or *Effective Java* by Joshua Bloch (among other sources).\r\n\r\nI will start with a quote:\r\n\r\n&gt; An interface is simply a specification of a set of methods that an object responds to. It does not include any instance variables or implementation. Interfaces can be multiply-inherited (unlike classes) and they can be used in a more flexible way than the usual rigid class\r\ninheritance structure. (Gosling, p.8)\r\n\r\nNow, let&#39;s take your assumptions and questions one by one (I&#39;ll voluntarily ignore the Java 8 features).\r\n\r\n# Assumptions\r\n## Interface is collection of ONLY abstract methods and final fields.\r\n\r\nDid you see the keyword `abstract` in Java interfaces? No. Then you should not consider an interface as a collection of abstract methods. Maybe you are misleaded by the C++ so-called interfaces, which are classes with only pure virtual methods. C++, by design, does not have (and does not need to have) interfaces, because it has mutliple inheritance.\r\n\r\nAs explained by Gosling, you should rather consider an interface as &quot;a set of methods that an object responds to&quot;. I like to see an interface **and the associated documentation** as a service contract. It describes what you can expect from an object that implements that interface. The documentation should specify the pre and post-conditions (e.g. the parameters should be not null, the output is always positive, ...) and the invariants (a method that does not modify the object internal state). This contract is the heart, I think, of OOP.\r\n\r\n## There is no multiple inheritance in Java.\r\n\r\nIndeed.\r\n\r\n&gt; JAVA omits many rarely used, poorly understood, confusing features of C++ that in our experience bring more grief than benefit. This primarily consists of operator overloading (although it does have method overloading), multiple inheritance, and extensive automatic coercions. (Gosling, p.2)\r\n\r\nNothing to add.\r\n\r\n## Interfaces can be used to achieve multiple inheritance in Java.\r\n\r\nNo, simlpy because there is no multiple inheritance in Java. See above.\r\n\r\n## One Strong point of Inheritance is that We can use the code of base class in derived class without writing it again. May be this is the most important thing for inheritance to be there.\r\n\r\nThat&#39;s called &quot;implementation inheritance&quot;. As you wrote, it&#39;s a convenient way to reuse code.\r\n\r\nBut it has an important counterpart:\r\n\r\n&gt; parent classes often define at least part of their subclasses&#39; physical representation. Because inheritance exposes a subclass to details of its parent&#39;s implementation, it&#39;s often said that &quot;inheritance breaks encapsulation&quot; [Sny86]. The implementation of a subclass becomes so bound up with the implementation of its parent class that any change in the parent&#39;s implementation will force the subclass to change. (GOF, 1.6)\r\n\r\n(There is a similar quote in Bloch, item 16.)\r\n\r\nActually, inheritance serves also another purpose:\r\n\r\n&gt; Class inheritance combines interface inheritance and implementation inheritance. Interface inheritance defines a new interface in terms of one\r\nor more existing interfaces. Implementation inheritance defines a new implementation in terms of one or more existing implementations. (GOF, Appendix A)\r\n\r\nBoth use the keyword `extends` in Java. You may have hierarchies of classes and hierarchies of interfaces. The first ones share implementation, the second ones share obligation.\r\n\r\n# Questions\r\n\r\n## Q1. As interfaces are having only abstract methods (no code) so how can we say that if we are implementing any interface then it is inheritance ? We are not using its code.**\r\n\r\nImplementation of an interface is not inheritance. It&#39;s implementation. Thus the keyword `implements`.\r\n\r\n## Q2. If implementing an interface is not inheritance then How interfaces are used to achieve multiple inheritance ?**\r\n\r\nNo multiple inheritance in Java. See above.\r\n\r\n## Q3. Anyhow what is the benefit of using Interfaces ? They are not having any code. We need to write code again and again in all classes we implement it./Then why to make interfaces ?/What are the exact benefits of using interfaces? Is it really Multiple-Inheritance that we achieve using Interfaces?\r\n\r\nThe most important question is: **why would you like to have multiple-inheritance?** I can think of two answers: 1. to give mutliple types to an object; 2. to reuse code.\r\n\r\n### Give mutliple types to an object\r\nIn OOP, one object may have *different types*. For instance in Java, an `ArrayList&lt;E&gt;` has the following types: `Serializable`, `Cloneable`, `Iterable&lt;E&gt;`, `Collection&lt;E&gt;`, `List&lt;E&gt;`, `RandomAccess`, `AbstractList&lt;E&gt;`, `AbstractCollection&lt;E&gt;` and `Object` (I hope I have not forgotten anyone). If an object has different types, various consumers will be able use it without be aware of its specificities. I need an `Iterable&lt;E&gt;` and you give me a `ArrayList&lt;E&gt;`? It&#39;s ok. But if I need now a `List&lt;E&gt;` and you give me a `ArrayList&lt;E&gt;`, it&#39;s ok too. Etc.\r\n\r\nHow do you type an object in OOP? You took the `Runnable` interface as an example, and this example is perfect to illustrate the answer to this question. I quote the official Java doc:\r\n\r\n&gt; In addition, Runnable provides the means for a class to be active while not subclassing Thread.\r\n\r\nHere&#39;s the point: **Inheritance is a convenient way of *typing* objects.** You want to create a thread? Let&#39;s subclass the `Thread` class. You want an object to have different types, let&#39;s use mutliple-inheritance. Argh. It doesn&#39;t exist in Java. (In C++, if you want an object to have different types, multiple-inheritance is the way to go.)\r\n\r\nHow to give mutliple types to an object then? In Java, you can type your object *directly*. That&#39;s what you do when your class `implements` the `Runnable` interface. Why use `Runnable` if your a fan of inheritance? Maybe because your class is already a subclass of another class, let&#39;s say `A`. Now your class has two types: `A` and `Runnable`.\r\n\r\nWith multiple interfaces, you can give multiple types to an object. You just have to create a class that `implements` multiple interfaces. As long as you are compliant with the contracts, it&#39;s ok.\r\n\r\n### Reuse code\r\nThis is a difficult subject; I&#39;ve already quoted the GOF on breaking the encapsulation. Other answer mentionned the diamond problem. You could also think of the Single Responsibility Principle:\r\n\r\n&gt; A class should have only one reason to change. (Robert C. Martin,  Agile Software Development, Principles, Patterns, and Practices)\r\n\r\nHaving a parent class may give a class a reason to change, besides its own responsibilities:\r\n\r\n&gt;The superclass’s implementation may change from release to  release,  and  if  it  does,  the  subclass  may  break,  even  though  its  code  has  not been touched. As a consequence, a subclass must evolve in tandem with its superclass (Bloch, item 16).\r\n\r\nI would add a more prosaic issue: I always have a weird feeling when I try to find the source code of a method in a class and I can&#39;t find it. Then I remember: it must be defined somewhere in the parent class. Or in the grandparent class. Or maybe even higher. A good IDE is a valuable asset in this case, but it remains, in my mind, something magical. Nothing similar with hierarchies of interfaces, since the javadoc is the only thing I need: one keyboard shortcut in the IDE and I get it.\r\n\r\nInheritance howewer has advantages:\r\n\r\n&gt; It is safe to use inheritance within a package, where the subclass and the superclass implementations are under the control of the same programmers. It is also safe to use inheritance when extending classes specifically designed and documented for extension (Item  17: Design and document for inheritance or else prohibit it).  (Bloch, item 16)\r\n\r\nAn example of a class &quot;specifically designed and documented for extension&quot; in Java is `AbstractList`.\r\n\r\nBut Bloch and GOF insist on this: &quot;Favor composition over inheritance&quot;:\r\n\r\n&gt; Delegation is a way of making composition as powerful for reuse as inheritance [Lie86, JZ91]. In delegation, two objects are involved in handling a request: a receiving object delegates operations to its delegate. This is analogous to subclasses deferring requests to parent classes. (GOF p.32)\r\n\r\n**If you use composition, you won&#39;t have to write the same code again and again.** You just create a class that handles the duplications, and you pass an instance of this class to the classes that implements the interface. It&#39;s a very simple way to reuse code. And this helps you to follow the Single Responsibility Principle and make the code more testable.  Rust and Go don&#39;t have inheritance (they don&#39;t have classes either), but I don&#39;t think that the code is more redundant than in other OOP languages.\r\n\r\nFurthermore, if you use composition, you will find yourself naturally using interfaces to give your code the structure and the flexibility it needs (see other answers on use cases of interfaces).\r\n\r\n*Note: you can share code with Java 8 interfaces*\r\n\r\nAnd finally, one last quote:\r\n\r\n&gt; During the memorable Q&amp;A session, someone asked him [James Gosling]: &quot;If you could do Java over again, what would you change?&quot; &quot;I&#39;d leave out classes&quot; (anywhere on the net, don&#39;t know if this is true)\r\n","title":"Why to use Interfaces, Multiple Inheritance vs Interfaces, Benefits of Interfaces?","body":"<p>Old question. I'm suprised that nobody quoted the canonical sources: <em>Java: an Overview</em> by James Gosling, <em>Design Patterns: Elements of Reusable Object-Oriented Software</em> by the Gang of Four or <em>Effective Java</em> by Joshua Bloch (among other sources).</p>\n\n<p>I will start with a quote:</p>\n\n<blockquote>\n  <p>An interface is simply a specification of a set of methods that an object responds to. It does not include any instance variables or implementation. Interfaces can be multiply-inherited (unlike classes) and they can be used in a more flexible way than the usual rigid class\n  inheritance structure. (Gosling, p.8)</p>\n</blockquote>\n\n<p>Now, let's take your assumptions and questions one by one (I'll voluntarily ignore the Java 8 features).</p>\n\n<h1>Assumptions</h1>\n\n<h2>Interface is collection of ONLY abstract methods and final fields.</h2>\n\n<p>Did you see the keyword <code>abstract</code> in Java interfaces? No. Then you should not consider an interface as a collection of abstract methods. Maybe you are misleaded by the C++ so-called interfaces, which are classes with only pure virtual methods. C++, by design, does not have (and does not need to have) interfaces, because it has mutliple inheritance.</p>\n\n<p>As explained by Gosling, you should rather consider an interface as \"a set of methods that an object responds to\". I like to see an interface <strong>and the associated documentation</strong> as a service contract. It describes what you can expect from an object that implements that interface. The documentation should specify the pre and post-conditions (e.g. the parameters should be not null, the output is always positive, ...) and the invariants (a method that does not modify the object internal state). This contract is the heart, I think, of OOP.</p>\n\n<h2>There is no multiple inheritance in Java.</h2>\n\n<p>Indeed.</p>\n\n<blockquote>\n  <p>JAVA omits many rarely used, poorly understood, confusing features of C++ that in our experience bring more grief than benefit. This primarily consists of operator overloading (although it does have method overloading), multiple inheritance, and extensive automatic coercions. (Gosling, p.2)</p>\n</blockquote>\n\n<p>Nothing to add.</p>\n\n<h2>Interfaces can be used to achieve multiple inheritance in Java.</h2>\n\n<p>No, simlpy because there is no multiple inheritance in Java. See above.</p>\n\n<h2>One Strong point of Inheritance is that We can use the code of base class in derived class without writing it again. May be this is the most important thing for inheritance to be there.</h2>\n\n<p>That's called \"implementation inheritance\". As you wrote, it's a convenient way to reuse code.</p>\n\n<p>But it has an important counterpart:</p>\n\n<blockquote>\n  <p>parent classes often define at least part of their subclasses' physical representation. Because inheritance exposes a subclass to details of its parent's implementation, it's often said that \"inheritance breaks encapsulation\" [Sny86]. The implementation of a subclass becomes so bound up with the implementation of its parent class that any change in the parent's implementation will force the subclass to change. (GOF, 1.6)</p>\n</blockquote>\n\n<p>(There is a similar quote in Bloch, item 16.)</p>\n\n<p>Actually, inheritance serves also another purpose:</p>\n\n<blockquote>\n  <p>Class inheritance combines interface inheritance and implementation inheritance. Interface inheritance defines a new interface in terms of one\n  or more existing interfaces. Implementation inheritance defines a new implementation in terms of one or more existing implementations. (GOF, Appendix A)</p>\n</blockquote>\n\n<p>Both use the keyword <code>extends</code> in Java. You may have hierarchies of classes and hierarchies of interfaces. The first ones share implementation, the second ones share obligation.</p>\n\n<h1>Questions</h1>\n\n<h2>Q1. As interfaces are having only abstract methods (no code) so how can we say that if we are implementing any interface then it is inheritance ? We are not using its code.**</h2>\n\n<p>Implementation of an interface is not inheritance. It's implementation. Thus the keyword <code>implements</code>.</p>\n\n<h2>Q2. If implementing an interface is not inheritance then How interfaces are used to achieve multiple inheritance ?**</h2>\n\n<p>No multiple inheritance in Java. See above.</p>\n\n<h2>Q3. Anyhow what is the benefit of using Interfaces ? They are not having any code. We need to write code again and again in all classes we implement it./Then why to make interfaces ?/What are the exact benefits of using interfaces? Is it really Multiple-Inheritance that we achieve using Interfaces?</h2>\n\n<p>The most important question is: <strong>why would you like to have multiple-inheritance?</strong> I can think of two answers: 1. to give mutliple types to an object; 2. to reuse code.</p>\n\n<h3>Give mutliple types to an object</h3>\n\n<p>In OOP, one object may have <em>different types</em>. For instance in Java, an <code>ArrayList&lt;E&gt;</code> has the following types: <code>Serializable</code>, <code>Cloneable</code>, <code>Iterable&lt;E&gt;</code>, <code>Collection&lt;E&gt;</code>, <code>List&lt;E&gt;</code>, <code>RandomAccess</code>, <code>AbstractList&lt;E&gt;</code>, <code>AbstractCollection&lt;E&gt;</code> and <code>Object</code> (I hope I have not forgotten anyone). If an object has different types, various consumers will be able use it without be aware of its specificities. I need an <code>Iterable&lt;E&gt;</code> and you give me a <code>ArrayList&lt;E&gt;</code>? It's ok. But if I need now a <code>List&lt;E&gt;</code> and you give me a <code>ArrayList&lt;E&gt;</code>, it's ok too. Etc.</p>\n\n<p>How do you type an object in OOP? You took the <code>Runnable</code> interface as an example, and this example is perfect to illustrate the answer to this question. I quote the official Java doc:</p>\n\n<blockquote>\n  <p>In addition, Runnable provides the means for a class to be active while not subclassing Thread.</p>\n</blockquote>\n\n<p>Here's the point: <strong>Inheritance is a convenient way of <em>typing</em> objects.</strong> You want to create a thread? Let's subclass the <code>Thread</code> class. You want an object to have different types, let's use mutliple-inheritance. Argh. It doesn't exist in Java. (In C++, if you want an object to have different types, multiple-inheritance is the way to go.)</p>\n\n<p>How to give mutliple types to an object then? In Java, you can type your object <em>directly</em>. That's what you do when your class <code>implements</code> the <code>Runnable</code> interface. Why use <code>Runnable</code> if your a fan of inheritance? Maybe because your class is already a subclass of another class, let's say <code>A</code>. Now your class has two types: <code>A</code> and <code>Runnable</code>.</p>\n\n<p>With multiple interfaces, you can give multiple types to an object. You just have to create a class that <code>implements</code> multiple interfaces. As long as you are compliant with the contracts, it's ok.</p>\n\n<h3>Reuse code</h3>\n\n<p>This is a difficult subject; I've already quoted the GOF on breaking the encapsulation. Other answer mentionned the diamond problem. You could also think of the Single Responsibility Principle:</p>\n\n<blockquote>\n  <p>A class should have only one reason to change. (Robert C. Martin,  Agile Software Development, Principles, Patterns, and Practices)</p>\n</blockquote>\n\n<p>Having a parent class may give a class a reason to change, besides its own responsibilities:</p>\n\n<blockquote>\n  <p>The superclass’s implementation may change from release to  release,  and  if  it  does,  the  subclass  may  break,  even  though  its  code  has  not been touched. As a consequence, a subclass must evolve in tandem with its superclass (Bloch, item 16).</p>\n</blockquote>\n\n<p>I would add a more prosaic issue: I always have a weird feeling when I try to find the source code of a method in a class and I can't find it. Then I remember: it must be defined somewhere in the parent class. Or in the grandparent class. Or maybe even higher. A good IDE is a valuable asset in this case, but it remains, in my mind, something magical. Nothing similar with hierarchies of interfaces, since the javadoc is the only thing I need: one keyboard shortcut in the IDE and I get it.</p>\n\n<p>Inheritance howewer has advantages:</p>\n\n<blockquote>\n  <p>It is safe to use inheritance within a package, where the subclass and the superclass implementations are under the control of the same programmers. It is also safe to use inheritance when extending classes specifically designed and documented for extension (Item  17: Design and document for inheritance or else prohibit it).  (Bloch, item 16)</p>\n</blockquote>\n\n<p>An example of a class \"specifically designed and documented for extension\" in Java is <code>AbstractList</code>.</p>\n\n<p>But Bloch and GOF insist on this: \"Favor composition over inheritance\":</p>\n\n<blockquote>\n  <p>Delegation is a way of making composition as powerful for reuse as inheritance [Lie86, JZ91]. In delegation, two objects are involved in handling a request: a receiving object delegates operations to its delegate. This is analogous to subclasses deferring requests to parent classes. (GOF p.32)</p>\n</blockquote>\n\n<p><strong>If you use composition, you won't have to write the same code again and again.</strong> You just create a class that handles the duplications, and you pass an instance of this class to the classes that implements the interface. It's a very simple way to reuse code. And this helps you to follow the Single Responsibility Principle and make the code more testable.  Rust and Go don't have inheritance (they don't have classes either), but I don't think that the code is more redundant than in other OOP languages.</p>\n\n<p>Furthermore, if you use composition, you will find yourself naturally using interfaces to give your code the structure and the flexibility it needs (see other answers on use cases of interfaces).</p>\n\n<p><em>Note: you can share code with Java 8 interfaces</em></p>\n\n<p>And finally, one last quote:</p>\n\n<blockquote>\n  <p>During the memorable Q&amp;A session, someone asked him [James Gosling]: \"If you could do Java over again, what would you change?\" \"I'd leave out classes\" (anywhere on the net, don't know if this is true)</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4697262,"reputation":3044,"user_id":3801839,"accept_rate":75,"display_name":"rasmus91"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1623742753,"creation_date":1558509801,"answer_id":56251387,"question_id":8531292,"body_markdown":"So. There are a lot of excellent answers here explaining in detail what an interface is. Yet, this is an example of its use, in the way one of my best colleagues ever explained it to me years ago, with what I have learned at university in the last couple of years mixed in.\r\n\r\nAn interface is a kind of &#39;contract&#39;. It exposes some methods, fields and so on, that are available. It does not reveal any of its implementation details, only what it returns, and which parameters it takes. And in here lies the answer to question three, and what I feel is one of the greatest strengths of modern OOP:\r\n\r\n&gt; *&quot;Code by addition, Not by modification&quot;* - Magnus Madsen, AAU\r\n\r\nThat&#39;s what he called it at least, and he may have it from some other place. The sample code below is written in C#, but everything shown can be done just about the same way in Java. \r\n\r\nWhat we see is a class called SampleApp, that has a single field, the IOContext. IOContext is an interface.\r\nSampleApp does not care one wit about how it saves its data, it just needs to do so, in its &quot;doSomething()&quot; method.\r\n\r\nWe can imagine that saving the data may have been more important than HOW it was saved at the beginning of the development process, so the developer chose to simply write the FileContext class. Later on, however, he needed to support JSON for whatever reason. So he wrote the JSONFileContext class, which inherits FileContext. This means that it is effectively an IOContext, which has the functionality of FileContext, save the replacement of FileContexts SaveData and LoadData, it still uses its &#39;write/read&#39; methods.\r\n\r\nImplementing the JSON class has been a small amount of work, comparing to writing the class, and having it just inherit IOContext.\r\n\r\nThe field of SampleApp could have been just of type &#39;FileContext&#39;, but that way, it would have been restricted to ever only using children of that class. By making the interface, we can even do the SQLiteContext implementation, and write to a database, SampleApp will never know or care, and when we have written the SQL lite class, we need only make one change to our code: `new JSONFileContext();` instead becomes `new SQLiteContext();`\r\n\r\nWe still have our old implementations and can switch back to those if the need arises. We have broken nothing, and all the changes to our code are half a line, that can be changed back within the blink of an eye.\r\n\r\nso: Code by addition, NOT by modification.\r\n\r\n    namespace Sample\r\n    {\r\n        class SampleApp\r\n        {\r\n            private IOContext context;\r\n    \r\n            public SampleApp()\r\n            {\r\n                this.context = new JSONFileContext(); //or any of the other implementations\r\n            }\r\n    \r\n            public void doSomething()\r\n            {\r\n                //This app can now use the context, completely agnostic of the actual implementation details.\r\n                object data = context.LoadData();\r\n                //manipulate data\r\n                context.SaveData(data);\r\n            }\r\n        }\r\n    \r\n        interface IOContext\r\n        {\r\n            void SaveData(object data);\r\n            object LoadData();\r\n        }\r\n    \r\n        class FileContext : IOContext\r\n        {\r\n            public object LoadData()\r\n            {\r\n    \r\n                object data = null;\r\n                var fileContents = loadFileContents();\r\n                //Logic to turn fileContents into a data object\r\n                return data;\r\n            }\r\n    \r\n            public void SaveData(object data)\r\n            {\r\n                //logic to create filecontents from &#39;data&#39;\r\n                writeFileContents(string.Empty);\r\n            }\r\n    \r\n            protected void writeFileContents(string fileContents)\r\n            {\r\n                //writes the fileContents to disk\r\n            }\r\n    \r\n            protected string loadFileContents()\r\n            {\r\n                string fileContents = string.Empty;\r\n                //loads the fileContents and returns it as a string\r\n                return fileContents;\r\n            }\r\n        }\r\n    \r\n        class JSONFileContext : FileContext\r\n        {\r\n            public new void SaveData(object data)\r\n            {\r\n                //logic to create filecontents from &#39;data&#39;\r\n                base.writeFileContents(string.Empty);\r\n            }\r\n    \r\n            public new object LoadData()\r\n            {\r\n                object data = null;\r\n                var fileContents = loadFileContents();\r\n                //Logic to turn fileContents into a data object\r\n                return data;\r\n            }\r\n        }\r\n    \r\n        class SQLiteContext : IOContext\r\n        {\r\n            public object LoadData()\r\n            {\r\n                object data = null;\r\n                //logic to read data into the data object\r\n                return data;\r\n            }\r\n    \r\n            public void SaveData(object data)\r\n            {\r\n                //logic to save the data object in the database\r\n            }\r\n        }\r\n    }","title":"Why to use Interfaces, Multiple Inheritance vs Interfaces, Benefits of Interfaces?","body":"<p>So. There are a lot of excellent answers here explaining in detail what an interface is. Yet, this is an example of its use, in the way one of my best colleagues ever explained it to me years ago, with what I have learned at university in the last couple of years mixed in.</p>\n<p>An interface is a kind of 'contract'. It exposes some methods, fields and so on, that are available. It does not reveal any of its implementation details, only what it returns, and which parameters it takes. And in here lies the answer to question three, and what I feel is one of the greatest strengths of modern OOP:</p>\n<blockquote>\n<p><em>&quot;Code by addition, Not by modification&quot;</em> - Magnus Madsen, AAU</p>\n</blockquote>\n<p>That's what he called it at least, and he may have it from some other place. The sample code below is written in C#, but everything shown can be done just about the same way in Java.</p>\n<p>What we see is a class called SampleApp, that has a single field, the IOContext. IOContext is an interface.\nSampleApp does not care one wit about how it saves its data, it just needs to do so, in its &quot;doSomething()&quot; method.</p>\n<p>We can imagine that saving the data may have been more important than HOW it was saved at the beginning of the development process, so the developer chose to simply write the FileContext class. Later on, however, he needed to support JSON for whatever reason. So he wrote the JSONFileContext class, which inherits FileContext. This means that it is effectively an IOContext, which has the functionality of FileContext, save the replacement of FileContexts SaveData and LoadData, it still uses its 'write/read' methods.</p>\n<p>Implementing the JSON class has been a small amount of work, comparing to writing the class, and having it just inherit IOContext.</p>\n<p>The field of SampleApp could have been just of type 'FileContext', but that way, it would have been restricted to ever only using children of that class. By making the interface, we can even do the SQLiteContext implementation, and write to a database, SampleApp will never know or care, and when we have written the SQL lite class, we need only make one change to our code: <code>new JSONFileContext();</code> instead becomes <code>new SQLiteContext();</code></p>\n<p>We still have our old implementations and can switch back to those if the need arises. We have broken nothing, and all the changes to our code are half a line, that can be changed back within the blink of an eye.</p>\n<p>so: Code by addition, NOT by modification.</p>\n<pre><code>namespace Sample\n{\n    class SampleApp\n    {\n        private IOContext context;\n\n        public SampleApp()\n        {\n            this.context = new JSONFileContext(); //or any of the other implementations\n        }\n\n        public void doSomething()\n        {\n            //This app can now use the context, completely agnostic of the actual implementation details.\n            object data = context.LoadData();\n            //manipulate data\n            context.SaveData(data);\n        }\n    }\n\n    interface IOContext\n    {\n        void SaveData(object data);\n        object LoadData();\n    }\n\n    class FileContext : IOContext\n    {\n        public object LoadData()\n        {\n\n            object data = null;\n            var fileContents = loadFileContents();\n            //Logic to turn fileContents into a data object\n            return data;\n        }\n\n        public void SaveData(object data)\n        {\n            //logic to create filecontents from 'data'\n            writeFileContents(string.Empty);\n        }\n\n        protected void writeFileContents(string fileContents)\n        {\n            //writes the fileContents to disk\n        }\n\n        protected string loadFileContents()\n        {\n            string fileContents = string.Empty;\n            //loads the fileContents and returns it as a string\n            return fileContents;\n        }\n    }\n\n    class JSONFileContext : FileContext\n    {\n        public new void SaveData(object data)\n        {\n            //logic to create filecontents from 'data'\n            base.writeFileContents(string.Empty);\n        }\n\n        public new object LoadData()\n        {\n            object data = null;\n            var fileContents = loadFileContents();\n            //Logic to turn fileContents into a data object\n            return data;\n        }\n    }\n\n    class SQLiteContext : IOContext\n    {\n        public object LoadData()\n        {\n            object data = null;\n            //logic to read data into the data object\n            return data;\n        }\n\n        public void SaveData(object data)\n        {\n            //logic to save the data object in the database\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1051387,"reputation":14943,"user_id":1055241,"accept_rate":86,"display_name":"gprathour"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83606,"favorite_count":0,"down_vote_count":0,"up_vote_count":83,"accepted_answer_id":8999131,"answer_count":11,"score":83,"last_activity_date":1682416250,"creation_date":1324021936,"question_id":8531292,"body_markdown":"I still have some confusion about this thing. What I have found till now is \n\n(Similar questions have already been asked here but I was having some other points.)\n\n&gt; 1. Interface is collection of ONLY abstract methods and final fields.\n&gt;\n&gt; 2. There is no multiple inheritance in Java.\n&gt;\n&gt; 3. Interfaces can be used to achieve multiple inheritance in Java.\n&gt;\n&gt; 4. One Strong point of Inheritance is that We can use the code of base class in derived class without writing it again. May be this is the most important thing for inheritance to be there.\n\nNow..\n\n&gt; Q1. As interfaces are having only abstract methods (no code) so how can we say that if we are implementing any interface then it is inheritance ? We are not using its code.\n&gt;\n&gt; Q2. If implementing an interface is not inheritance then How interfaces are used to achieve multiple inheritance ?\n&gt;\n&gt; Q3. Anyhow what is the benefit of using Interfaces ? They are not having any code. We need to write code again and again in all classes we implement it. \n\n**Then why to make interfaces ?**\n\n**NOTE :** I have found one case in which interfaces are helpful. One example of it is like in Runnable interface we have public void run() method in which we define functionality of thread and there is built in coding that this method will be run as a separate thread. So we just need to code what to do in thread, Rest is pre-defined. But this thing also can be achieved using abstract classes and all. \n\n**Then what are the exact benefits of using interfaces? Is it really Multiple-Inheritance that we achieve using Interfaces?**","title":"Why to use Interfaces, Multiple Inheritance vs Interfaces, Benefits of Interfaces?","body":"<p>I still have some confusion about this thing. What I have found till now is</p>\n<p>(Similar questions have already been asked here but I was having some other points.)</p>\n<blockquote>\n<ol>\n<li><p>Interface is collection of ONLY abstract methods and final fields.</p>\n</li>\n<li><p>There is no multiple inheritance in Java.</p>\n</li>\n<li><p>Interfaces can be used to achieve multiple inheritance in Java.</p>\n</li>\n<li><p>One Strong point of Inheritance is that We can use the code of base class in derived class without writing it again. May be this is the most important thing for inheritance to be there.</p>\n</li>\n</ol>\n</blockquote>\n<p>Now..</p>\n<blockquote>\n<p>Q1. As interfaces are having only abstract methods (no code) so how can we say that if we are implementing any interface then it is inheritance ? We are not using its code.</p>\n<p>Q2. If implementing an interface is not inheritance then How interfaces are used to achieve multiple inheritance ?</p>\n<p>Q3. Anyhow what is the benefit of using Interfaces ? They are not having any code. We need to write code again and again in all classes we implement it.</p>\n</blockquote>\n<p><strong>Then why to make interfaces ?</strong></p>\n<p><strong>NOTE :</strong> I have found one case in which interfaces are helpful. One example of it is like in Runnable interface we have public void run() method in which we define functionality of thread and there is built in coding that this method will be run as a separate thread. So we just need to code what to do in thread, Rest is pre-defined. But this thing also can be achieved using abstract classes and all.</p>\n<p><strong>Then what are the exact benefits of using interfaces? Is it really Multiple-Inheritance that we achieve using Interfaces?</strong></p>\n"},{"tags":["java","oop","inheritance","composition"],"comments":[{"owner":{"account_id":76005,"reputation":38195,"user_id":217862,"accept_rate":64,"display_name":"ewernli"},"score":2,"creation_date":1268037133,"post_id":2399544,"comment_id":2379751,"body_markdown":"Other related question: Is there anything composition cannot accomplish that inheritance can? http://stackoverflow.com/questions/2238642/is-there-anything-composition-cannot-accomplish-that-inheritance-can","body":"Other related question: Is there anything composition cannot accomplish that inheritance can? <a href=\"http://stackoverflow.com/questions/2238642/is-there-anything-composition-cannot-accomplish-that-inheritance-can\" title=\"is there anything composition cannot accomplish that inheritance can\">stackoverflow.com/questions/2238642/&hellip;</a>"},{"owner":{"account_id":335069,"reputation":70765,"user_id":661933,"accept_rate":94,"display_name":"nawfal"},"score":1,"creation_date":1380798566,"post_id":2399544,"comment_id":28337913,"body_markdown":"Also see [is-a-vs-has-a-which-one-is-better](http://stackoverflow.com/questions/263355/is-a-vs-has-a-which-one-is-better?lq=1)","body":"Also see <a href=\"http://stackoverflow.com/questions/263355/is-a-vs-has-a-which-one-is-better?lq=1\">is-a-vs-has-a-which-one-is-better</a>"},{"owner":{"account_id":2052151,"reputation":3773,"user_id":1830909,"accept_rate":75,"display_name":"QMaster"},"score":1,"creation_date":1511433620,"post_id":2399544,"comment_id":81861532,"body_markdown":"This article was useful to me and so helped:  https://www.thoughtworks.com/insights/blog/composition-vs-inheritance-how-choose","body":"This article was useful to me and so helped:  <a href=\"https://www.thoughtworks.com/insights/blog/composition-vs-inheritance-how-choose\" rel=\"nofollow noreferrer\">thoughtworks.com/insights/blog/&hellip;</a>"},{"owner":{"account_id":3695377,"reputation":1242,"user_id":3076874,"display_name":"The Mighty Programmer"},"score":0,"creation_date":1583036528,"post_id":2399544,"comment_id":106979393,"body_markdown":"check out https://themightyprogrammer.dev/article/inheritance-composition","body":"check out <a href=\"https://themightyprogrammer.dev/article/inheritance-composition\" rel=\"nofollow noreferrer\">themightyprogrammer.dev/article/inheritance-composition</a>"}],"answers":[{"comments":[{"owner":{"account_id":271602,"reputation":22478,"user_id":562222,"accept_rate":57,"display_name":"qed"},"score":5,"creation_date":1415367472,"post_id":2399554,"comment_id":42178239,"body_markdown":"Interesting. Why not just create a new class java.util.Stack2 that uses composition?","body":"Interesting. Why not just create a new class java.util.Stack2 that uses composition?"},{"owner":{"account_id":3805386,"reputation":6451,"user_id":3469725,"accept_rate":96,"display_name":"Thomas"},"score":7,"creation_date":1422022197,"post_id":2399554,"comment_id":44597037,"body_markdown":"I appreciate this answer; however, I feel as if the answer gets off track and delves more into concerns surrounding the design of the language (and a particular package) than it does answer the asked question regarding composition vs. inheritance. I am a big fan of answering the question on SO, citing resources - not linking to external resources without providing a more in depth summary than a one-line summation.","body":"I appreciate this answer; however, I feel as if the answer gets off track and delves more into concerns surrounding the design of the language (and a particular package) than it does answer the asked question regarding composition vs. inheritance. I am a big fan of answering the question on SO, citing resources - not linking to external resources without providing a more in depth summary than a one-line summation."},{"owner":{"account_id":1448412,"reputation":1018,"user_id":1366145,"accept_rate":50,"display_name":"Sam Ramezanli"},"score":6,"creation_date":1490459412,"post_id":2399554,"comment_id":73125844,"body_markdown":"Bad example, I had to do extra search to understand what Vector and Stack are.","body":"Bad example, I had to do extra search to understand what Vector and Stack are."},{"owner":{"account_id":2052151,"reputation":3773,"user_id":1830909,"accept_rate":75,"display_name":"QMaster"},"score":1,"creation_date":1511433538,"post_id":2399554,"comment_id":81861488,"body_markdown":"Good but your example about java stack is not a good candidate because of this inheritance is a sample of bad decision about choosing inheritance over composition as said in this article: https://www.thoughtworks.com/insights/blog/composition-vs-inheritance-how-choose#eight","body":"Good but your example about java stack is not a good candidate because of this inheritance is a sample of bad decision about choosing inheritance over composition as said in this article: <a href=\"https://www.thoughtworks.com/insights/blog/composition-vs-inheritance-how-choose#eight\" rel=\"nofollow noreferrer\">thoughtworks.com/insights/blog/&hellip;</a>"},{"owner":{"account_id":8312398,"reputation":2283,"user_id":6255817,"display_name":"codingbruh"},"score":0,"creation_date":1681576464,"post_id":2399554,"comment_id":134080322,"body_markdown":"But the GoF design patterns use inheritance a lot. Why is that ? and the code where inheritance is used is more readable and understandable than composition. Everywhere I go I see articles favoring composition over inheritance however, I am yet to see composition is action where it should be actually used.","body":"But the GoF design patterns use inheritance a lot. Why is that ? and the code where inheritance is used is more readable and understandable than composition. Everywhere I go I see articles favoring composition over inheritance however, I am yet to see composition is action where it should be actually used."}],"tags":[],"owner":{"account_id":102991,"reputation":378292,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"comment_count":5,"down_vote_count":2,"up_vote_count":379,"is_accepted":true,"score":377,"last_activity_date":1268029365,"creation_date":1268027830,"answer_id":2399554,"question_id":2399544,"body_markdown":"They are absolutely different. Inheritance is an _&quot;is-a&quot;_ relationship. Composition is a _&quot;has-a&quot;_.\r\n\r\nYou do composition by having an instance of another class `C` as a field of your class, instead of extending `C`. A good example where composition would&#39;ve been a lot better than inheritance is `java.util.Stack`, which currently extends `java.util.Vector`. This is now considered a blunder. A stack _&quot;is-NOT-a&quot;_ vector; you should not be allowed to insert and remove elements arbitrarily. It should&#39;ve been composition instead.\r\n\r\nUnfortunately it&#39;s too late to rectify this design mistake, since changing the inheritance hierarchy now would break compatibility with existing code. *Had `Stack` used composition instead of inheritance, it can always be modified to use another data structure without violating the API*.\r\n\r\nI highly recommend Josh Bloch&#39;s book _Effective Java 2nd Edition_\r\n\r\n* Item 16: Favor composition over inheritance\r\n* Item 17: Design and document for inheritance or else prohibit it\r\n\r\nGood object-oriented design is not about liberally extending existing classes. Your first instinct should be to compose instead.\r\n\r\n---\r\n\r\nSee also:\r\n\r\n * [Composition versus Inheritance: A Comparative Look at Two Fundamental Ways to Relate Classes][1]\r\n\r\n [1]: http://www.artima.com/designtechniques/compoinh.html","title":"Difference between Inheritance and Composition","body":"<p>They are absolutely different. Inheritance is an <em>\"is-a\"</em> relationship. Composition is a <em>\"has-a\"</em>.</p>\n\n<p>You do composition by having an instance of another class <code>C</code> as a field of your class, instead of extending <code>C</code>. A good example where composition would've been a lot better than inheritance is <code>java.util.Stack</code>, which currently extends <code>java.util.Vector</code>. This is now considered a blunder. A stack <em>\"is-NOT-a\"</em> vector; you should not be allowed to insert and remove elements arbitrarily. It should've been composition instead.</p>\n\n<p>Unfortunately it's too late to rectify this design mistake, since changing the inheritance hierarchy now would break compatibility with existing code. <em>Had <code>Stack</code> used composition instead of inheritance, it can always be modified to use another data structure without violating the API</em>.</p>\n\n<p>I highly recommend Josh Bloch's book <em>Effective Java 2nd Edition</em></p>\n\n<ul>\n<li>Item 16: Favor composition over inheritance</li>\n<li>Item 17: Design and document for inheritance or else prohibit it</li>\n</ul>\n\n<p>Good object-oriented design is not about liberally extending existing classes. Your first instinct should be to compose instead.</p>\n\n<hr>\n\n<p>See also:</p>\n\n<ul>\n<li><a href=\"http://www.artima.com/designtechniques/compoinh.html\" rel=\"noreferrer\">Composition versus Inheritance: A Comparative Look at Two Fundamental Ways to Relate Classes</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":97573,"reputation":8836,"user_id":264607,"accept_rate":80,"display_name":"BlackICE"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1268027930,"creation_date":1268027930,"answer_id":2399559,"question_id":2399544,"body_markdown":"as another example, consider a car class, this would be a good use of composition, a car would &quot;have&quot; an engine, a transmission, tires, seats, etc.  It would not extend any of those classes.","title":"Difference between Inheritance and Composition","body":"<p>as another example, consider a car class, this would be a good use of composition, a car would \"have\" an engine, a transmission, tires, seats, etc.  It would not extend any of those classes.</p>\n"},{"comments":[{"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"score":9,"creation_date":1385330568,"post_id":2399574,"comment_id":30087241,"body_markdown":"I&#39;d change &quot;automobile&quot; to &quot;powered vehicle&quot; as in many interpratations cars and automobiles are equivalent.","body":"I&#39;d change &quot;automobile&quot; to &quot;powered vehicle&quot; as in many interpratations cars and automobiles are equivalent."},{"owner":{"account_id":2617541,"reputation":688,"user_id":2266298,"accept_rate":100,"display_name":"nckbrz"},"score":7,"creation_date":1395942370,"post_id":2399574,"comment_id":34578790,"body_markdown":"@hexafraction  I agree that Vehicle would likely be a better choice, but at the same time -codaddict- has illustrated the point just fine for what has been asked.","body":"@hexafraction  I agree that Vehicle would likely be a better choice, but at the same time -codaddict- has illustrated the point just fine for what has been asked."},{"owner":{"account_id":2171854,"reputation":7596,"user_id":1923625,"accept_rate":96,"display_name":"Omar Tariq"},"score":6,"creation_date":1481711521,"post_id":2399574,"comment_id":69483369,"body_markdown":"&quot;an Engine&quot; `:-/`","body":"&quot;an Engine&quot; <code>:-&#47;</code>"},{"owner":{"account_id":6701313,"reputation":7980,"user_id":5167682,"accept_rate":29,"display_name":"roottraveller"},"score":0,"creation_date":1499784924,"post_id":2399574,"comment_id":77050054,"body_markdown":"nicely expained. +1. further reading http://javarevisited.blogspot.in/2015/06/difference-between-inheritance-and-Composition-in-Java-OOP.html","body":"nicely expained. +1. further reading <a href=\"http://javarevisited.blogspot.in/2015/06/difference-between-inheritance-and-Composition-in-Java-OOP.html\" rel=\"nofollow noreferrer\">javarevisited.blogspot.in/2015/06/&hellip;</a>"},{"owner":{"account_id":2349225,"reputation":26836,"user_id":2058547,"accept_rate":60,"display_name":"Ojonugwa Jude Ochalifu"},"score":0,"creation_date":1530441828,"post_id":2399574,"comment_id":89230211,"body_markdown":"@AndreyAkhmetov Automobile can have `type` field of Type `Enum`","body":"@AndreyAkhmetov Automobile can have <code>type</code> field of Type <code>Enum</code>"},{"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"score":0,"creation_date":1530469210,"post_id":2399574,"comment_id":89236560,"body_markdown":"@ojonugwaochalifu I don&#39;t understand how that ties into my statement (which was five years ago so perhaps I have forgotten the context here). I was referring to the descriptiveness of type names rather than any addition of enums (which don&#39;t apply to this answer)","body":"@ojonugwaochalifu I don&#39;t understand how that ties into my statement (which was five years ago so perhaps I have forgotten the context here). I was referring to the descriptiveness of type names rather than any addition of enums (which don&#39;t apply to this answer)"}],"tags":[],"owner":{"account_id":80529,"reputation":448258,"user_id":227665,"accept_rate":33,"display_name":"codaddict"},"comment_count":6,"down_vote_count":1,"up_vote_count":252,"is_accepted":false,"score":251,"last_activity_date":1501452808,"creation_date":1268028129,"answer_id":2399574,"question_id":2399544,"body_markdown":"Composition means `HAS A`&lt;br&gt;\r\nInheritance means `IS A`\r\n\r\n`Example`: Car **has a** Engine and Car **is a** Automobile\r\n\r\nIn programming this is represented as:\r\n\r\n    class Engine {} // The Engine class.\r\n    \r\n    class Automobile {} // Automobile class which is parent to Car class.\r\n    \r\n    class Car extends Automobile { // Car is an Automobile, so Car class extends Automobile class.\r\n      private Engine engine; // Car has an Engine so, Car class has an instance of Engine class as its member.\r\n    }\r\n\r\n","title":"Difference between Inheritance and Composition","body":"<p>Composition means <code>HAS A</code><br>\nInheritance means <code>IS A</code></p>\n\n<p><code>Example</code>: Car <strong>has a</strong> Engine and Car <strong>is a</strong> Automobile</p>\n\n<p>In programming this is represented as:</p>\n\n<pre><code>class Engine {} // The Engine class.\n\nclass Automobile {} // Automobile class which is parent to Car class.\n\nclass Car extends Automobile { // Car is an Automobile, so Car class extends Automobile class.\n  private Engine engine; // Car has an Engine so, Car class has an instance of Engine class as its member.\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5299469,"reputation":153,"user_id":4229629,"display_name":"ThePyroEagle"},"score":0,"creation_date":1450692956,"post_id":2399671,"comment_id":56527731,"body_markdown":"Java conventions state that class and interface names are written in `ThisCase`, not in `camelCase`. Therefore it is best to name your interfaces `IDrivable`, etc. You might not need the &quot;I&quot; if you regroup all your interfaces into a package correctly.","body":"Java conventions state that class and interface names are written in <code>ThisCase</code>, not in <code>camelCase</code>. Therefore it is best to name your interfaces <code>IDrivable</code>, etc. You might not need the &quot;I&quot; if you regroup all your interfaces into a package correctly."}],"tags":[],"owner":{"account_id":102448,"reputation":5087,"user_id":275003,"accept_rate":100,"display_name":"Michael Rodrigues"},"comment_count":1,"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1387492058,"creation_date":1268029955,"answer_id":2399671,"question_id":2399544,"body_markdown":"Composition is just as it sounds - you create an object by plugging in parts.\r\n\r\n**EDIT** the rest of this answer is erroneously based on the following premise.  \r\nThis is accomplished with Interfaces.  \r\nFor example, using the `Car` example above,\r\n\r\n    Car implements iDrivable, iUsesFuel, iProtectsOccupants\r\n    Motorbike implements iDrivable, iUsesFuel, iShortcutThroughTraffic\r\n    House implements iProtectsOccupants\r\n    Generator implements iUsesFuel\r\n\r\n\r\nSo with a few standard theoretical components you can build up your object.   It&#39;s then your job to fill in how a `House` protects its occupants, and how a `Car` protects its occupants.\r\n\r\nInheritance is like the other way around.  You start off with a complete (or semi-complete) object and you replace or Override the various bits you want to change.\r\n\r\nFor example, `MotorVehicle` may come with a `Fuelable` method and `Drive` method.  You may leave the Fuel method as it is because it&#39;s the same to fill up a motorbike and a car, but you may override the `Drive` method because the Motorbike drives very differently to a `Car`.\r\n\r\nWith inheritance, some classes are completely implemented already, and others have methods that you are forced to override.  With Composition nothing&#39;s given to you. (but you can Implement the interfaces by calling methods in other classes if you happen to have something laying around).\r\n  \r\nComposition is seen as more flexible, because if you have a method such as iUsesFuel, you can have a method somewhere else (another class, another project) that just worries about dealing with objects that can be fueled, regardless of whether it&#39;s a car, boat, stove, barbecue, etc.  Interfaces mandate that classes that say they implement that interface actually have the methods that that interface is all about.  For example,  \r\n    \r\n    iFuelable Interface:\r\n       void AddSomeFuel()\r\n       void UseSomeFuel()\r\n       int  percentageFull()\r\n\r\n\r\nthen you can have a method somewhere else\r\n\r\n    private void FillHerUp(iFuelable : objectToFill) {\r\n\r\n       Do while (objectToFill.percentageFull() &lt;= 100)  {\r\n\r\n            objectToFill.AddSomeFuel();\r\n       }\r\n\r\nStrange example, but it&#39;s shows that this method doesn&#39;t care what it&#39;s filling up, because the object implements `iUsesFuel`, it can be filled. End of story.\r\n\r\nIf you used Inheritance instead, you would need different `FillHerUp` methods to deal with `MotorVehicles` and `Barbecues`, unless you had some rather weird  &quot;ObjectThatUsesFuel&quot; base object from which to inherit.\r\n    \r\n","title":"Difference between Inheritance and Composition","body":"<p>Composition is just as it sounds - you create an object by plugging in parts.</p>\n\n<p><strong>EDIT</strong> the rest of this answer is erroneously based on the following premise.<br>\nThis is accomplished with Interfaces.<br>\nFor example, using the <code>Car</code> example above,</p>\n\n<pre><code>Car implements iDrivable, iUsesFuel, iProtectsOccupants\nMotorbike implements iDrivable, iUsesFuel, iShortcutThroughTraffic\nHouse implements iProtectsOccupants\nGenerator implements iUsesFuel\n</code></pre>\n\n<p>So with a few standard theoretical components you can build up your object.   It's then your job to fill in how a <code>House</code> protects its occupants, and how a <code>Car</code> protects its occupants.</p>\n\n<p>Inheritance is like the other way around.  You start off with a complete (or semi-complete) object and you replace or Override the various bits you want to change.</p>\n\n<p>For example, <code>MotorVehicle</code> may come with a <code>Fuelable</code> method and <code>Drive</code> method.  You may leave the Fuel method as it is because it's the same to fill up a motorbike and a car, but you may override the <code>Drive</code> method because the Motorbike drives very differently to a <code>Car</code>.</p>\n\n<p>With inheritance, some classes are completely implemented already, and others have methods that you are forced to override.  With Composition nothing's given to you. (but you can Implement the interfaces by calling methods in other classes if you happen to have something laying around).</p>\n\n<p>Composition is seen as more flexible, because if you have a method such as iUsesFuel, you can have a method somewhere else (another class, another project) that just worries about dealing with objects that can be fueled, regardless of whether it's a car, boat, stove, barbecue, etc.  Interfaces mandate that classes that say they implement that interface actually have the methods that that interface is all about.  For example,  </p>\n\n<pre><code>iFuelable Interface:\n   void AddSomeFuel()\n   void UseSomeFuel()\n   int  percentageFull()\n</code></pre>\n\n<p>then you can have a method somewhere else</p>\n\n<pre><code>private void FillHerUp(iFuelable : objectToFill) {\n\n   Do while (objectToFill.percentageFull() &lt;= 100)  {\n\n        objectToFill.AddSomeFuel();\n   }\n</code></pre>\n\n<p>Strange example, but it's shows that this method doesn't care what it's filling up, because the object implements <code>iUsesFuel</code>, it can be filled. End of story.</p>\n\n<p>If you used Inheritance instead, you would need different <code>FillHerUp</code> methods to deal with <code>MotorVehicles</code> and <code>Barbecues</code>, unless you had some rather weird  \"ObjectThatUsesFuel\" base object from which to inherit.</p>\n"},{"tags":[],"owner":{"account_id":122328,"reputation":566,"user_id":316063,"accept_rate":100,"display_name":"Kris"},"comment_count":0,"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1474905645,"creation_date":1277741139,"answer_id":3134046,"question_id":2399544,"body_markdown":"The answer given by @Michael Rodrigues is not correct (I apologize; I&#39;m not able to comment directly), and could lead to some confusion. \r\n\r\nInterface implementation [is a form of inheritance][1]... when you implement an interface, you&#39;re not only inheriting all the constants, you are committing your object to be of the type specified by the interface; it&#39;s still an &quot;**is-a**&quot; relationship. If a car implements *Fillable*, the car &quot;**is-a**&quot; *Fillable*, and can be used in your code wherever you would use a *Fillable*.\r\n\r\nComposition is fundamentally different from inheritance. *When you use composition, you are (as the other answers note) making a &quot;**has-a**&quot; relationship between two objects, as opposed to the &quot;**is-a**&quot; relationship that you make when you use inheritance*. \r\n\r\nSo, from the car examples in the other questions, if I wanted to say that a car &quot;**has-a**&quot; gas tank, I would use composition, as follows:\r\n\r\n    public class Car {\r\n    \r\n    private GasTank myCarsGasTank;\r\n    \r\n    }\r\n\r\nHopefully that clears up any misunderstanding.\r\n\r\n[1]: http://www.codestyle.org/java/faq-Inheritance.shtml#inheritancetypes","title":"Difference between Inheritance and Composition","body":"<p>The answer given by @Michael Rodrigues is not correct (I apologize; I'm not able to comment directly), and could lead to some confusion. </p>\n\n<p>Interface implementation <a href=\"http://www.codestyle.org/java/faq-Inheritance.shtml#inheritancetypes\" rel=\"noreferrer\">is a form of inheritance</a>... when you implement an interface, you're not only inheriting all the constants, you are committing your object to be of the type specified by the interface; it's still an \"<strong>is-a</strong>\" relationship. If a car implements <em>Fillable</em>, the car \"<strong>is-a</strong>\" <em>Fillable</em>, and can be used in your code wherever you would use a <em>Fillable</em>.</p>\n\n<p>Composition is fundamentally different from inheritance. <em>When you use composition, you are (as the other answers note) making a \"<strong>has-a</strong>\" relationship between two objects, as opposed to the \"<strong>is-a</strong>\" relationship that you make when you use inheritance</em>. </p>\n\n<p>So, from the car examples in the other questions, if I wanted to say that a car \"<strong>has-a</strong>\" gas tank, I would use composition, as follows:</p>\n\n<pre><code>public class Car {\n\nprivate GasTank myCarsGasTank;\n\n}\n</code></pre>\n\n<p>Hopefully that clears up any misunderstanding.</p>\n"},{"comments":[{"owner":{"account_id":1138752,"reputation":1922,"user_id":1123232,"display_name":"Hrishabh Gupta"},"score":0,"creation_date":1622724932,"post_id":3138111,"comment_id":119877810,"body_markdown":"What are the cons of Duck implementing BackwardFlying or BackwardFlyer?","body":"What are the cons of Duck implementing BackwardFlying or BackwardFlyer?"}],"tags":[],"owner":{"account_id":121574,"reputation":11450,"user_id":314763,"accept_rate":77,"display_name":"frictionlesspulley"},"comment_count":1,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1546527714,"creation_date":1277789900,"answer_id":3138111,"question_id":2399544,"body_markdown":"**Inheritance** brings out **IS-A** relation. **Composition** brings out **HAS-A relation**.\r\nStrategy pattern explain that Composition should be used in cases where there are families of algorithms defining a particular behaviour.&lt;br/&gt;Classic example being of a duck class which implements a flying behaviour.\r\n\r\n\r\n    public interface Flyable{\r\n     public void fly();\r\n    }\r\n    \r\n    public class Duck {\r\n     Flyable fly;\r\n    \r\n     public Duck(){\r\n      fly = new BackwardFlying();\r\n     }\r\n    }\r\n\r\nThus we can have multiple classes which implement flying\r\neg:\r\n\r\n    public class BackwardFlying implements Flyable{\r\n      public void fly(){\r\n        Systemout.println(&quot;Flies backward &quot;);\r\n      }\r\n    }\r\n    public class FastFlying implements Flyable{\r\n      public void fly(){\r\n        Systemout.println(&quot;Flies 100 miles/sec&quot;);\r\n      }\r\n    }\r\n\r\n\r\nHad it been for inheritance, we would have two different classes of birds which implement the fly function over and over again. So inheritance and composition are completely different.","title":"Difference between Inheritance and Composition","body":"<p><strong>Inheritance</strong> brings out <strong>IS-A</strong> relation. <strong>Composition</strong> brings out <strong>HAS-A relation</strong>.\nStrategy pattern explain that Composition should be used in cases where there are families of algorithms defining a particular behaviour.<br/>Classic example being of a duck class which implements a flying behaviour.</p>\n\n<pre><code>public interface Flyable{\n public void fly();\n}\n\npublic class Duck {\n Flyable fly;\n\n public Duck(){\n  fly = new BackwardFlying();\n }\n}\n</code></pre>\n\n<p>Thus we can have multiple classes which implement flying\neg:</p>\n\n<pre><code>public class BackwardFlying implements Flyable{\n  public void fly(){\n    Systemout.println(\"Flies backward \");\n  }\n}\npublic class FastFlying implements Flyable{\n  public void fly(){\n    Systemout.println(\"Flies 100 miles/sec\");\n  }\n}\n</code></pre>\n\n<p>Had it been for inheritance, we would have two different classes of birds which implement the fly function over and over again. So inheritance and composition are completely different.</p>\n"},{"tags":[],"owner":{"account_id":1887412,"reputation":29,"user_id":1706356,"display_name":"John Wilson"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1474740759,"creation_date":1355838173,"answer_id":13934328,"question_id":2399544,"body_markdown":"*Inheritance*  between two classes, where one class extends another class establishes &quot;**IS A**&quot; relationship. \r\n\r\n*Composition* on the other end contains an instance of another class in your class establishes  &quot;***Has A***&quot; relationship. *Composition* in java is is useful since it technically facilitates multiple inheritance.","title":"Difference between Inheritance and Composition","body":"<p><em>Inheritance</em>  between two classes, where one class extends another class establishes \"<strong>IS A</strong>\" relationship. </p>\n\n<p><em>Composition</em> on the other end contains an instance of another class in your class establishes  \"<strong><em>Has A</em></strong>\" relationship. <em>Composition</em> in java is is useful since it technically facilitates multiple inheritance.</p>\n"},{"comments":[{"owner":{"account_id":404190,"reputation":3627,"user_id":772374,"accept_rate":89,"display_name":"stuckedunderflow"},"score":7,"creation_date":1541350587,"post_id":17916579,"comment_id":93177818,"body_markdown":"agree but given your solution using composition....we still need do a babysit for example now super class X change the method name from do to doing....then sub class Y will also need to be maintained (needs to be changed as well) this is still tight coupling? And how do we get rid of it?","body":"agree but given your solution using composition....we still need do a babysit for example now super class X change the method name from do to doing....then sub class Y will also need to be maintained (needs to be changed as well) this is still tight coupling? And how do we get rid of it?"},{"owner":{"account_id":1138752,"reputation":1922,"user_id":1123232,"display_name":"Hrishabh Gupta"},"score":1,"creation_date":1622725312,"post_id":17916579,"comment_id":119878001,"body_markdown":"@stuckedoverflow Changing contract either by name or signature is anti-pattern. New extensions are, however, are acceptable. (O in SOLID)","body":"@stuckedoverflow Changing contract either by name or signature is anti-pattern. New extensions are, however, are acceptable. (O in SOLID)"}],"tags":[],"owner":{"account_id":3106289,"reputation":589,"user_id":2628990,"display_name":"Manoj Kumar Saini"},"comment_count":2,"down_vote_count":1,"up_vote_count":59,"is_accepted":false,"score":58,"last_activity_date":1546513079,"creation_date":1375075496,"answer_id":17916579,"question_id":2399544,"body_markdown":"How inheritance can be dangerous ?\r\n \r\nLets take an example\r\n\r\n    public class X{    \r\n       public void do(){    \r\n       }    \r\n    }    \r\n    Public Class Y extends X{\r\n       public void work(){    \r\n           do();    \r\n       }\r\n    }\r\n\r\n1) As clear in above code , Class Y has very strong coupling with class X. If anything changes in superclass X , Y may break dramatically. Suppose In future class X implements a method work with below signature\r\n\r\n    public int work(){\r\n    }\r\n\r\nChange is done in class X but it will make class Y uncompilable. SO this kind of dependency can go up to any level and it can be very dangerous. Every time superclass might not have full visibility to code inside all its subclasses and subclass may be keep noticing what is happening in superclass all the time. So we need to avoid this strong and unnecessary coupling.\r\n\r\n\r\nHow does composition solves this issue?\r\n\r\nLets see by revising the same example\r\n\r\n    public class X{\r\n        public void do(){\r\n        }\r\n    }\r\n\r\n    Public Class Y{\r\n        X x = new X();    \r\n        public void work(){    \r\n            x.do();\r\n        }\r\n    }\r\n\r\nHere we are creating reference of X class in Y class and invoking method of X class by creating an instance of X class.\r\nNow all that strong coupling is gone. Superclass and subclass are highly independent of each other now. Classes can freely make changes which were dangerous in inheritance situation.\r\n\r\n\r\n2) Second very good advantage of composition in that It provides method calling flexibility, for example :\r\n\r\n    class X implements R\r\n    {}\r\n    class Y implements R\r\n    {}\r\n    \r\n    public class Test{    \r\n        R r;    \r\n    }\r\n\r\nIn Test class using r reference I can invoke methods of X class as well as Y class. This flexibility was never there in inheritance\r\n\r\n3) Another great advantage : Unit testing\r\n\r\n    public class X {\r\n        public void do(){\r\n        }\r\n    }\r\n\r\n    Public Class Y {\r\n        X x = new X();    \r\n        public void work(){    \r\n            x.do();    \r\n        }    \r\n    }\r\n\r\nIn above example, if state of x instance is not known, it can easily be mocked up by using some test data and all methods can be easily tested. This was not possible at all in inheritance as you were heavily dependent on superclass to get the state of instance and execute any method.\r\n\r\n4) Another good reason why we should avoid inheritance is that Java does not support multiple inheritance.\r\n\r\nLets take an example to understand this :\r\n\r\n    Public class Transaction {\r\n        Banking b;\r\n        public static void main(String a[])    \r\n        {    \r\n            b = new Deposit();    \r\n            if(b.deposit()){    \r\n                b = new Credit();\r\n                c.credit();    \r\n            }\r\n        }\r\n    }\r\n\r\nGood to know : \r\n\r\n1. composition is easily achieved at runtime while inheritance provides its features at                      compile time \r\n\r\n\r\n2. composition is also know as HAS-A relation and inheritance is also known as IS-A                     relation\r\n\r\n\r\nSo make it a habit of always preferring composition over inheritance for various above reasons. \r\n\r\n","title":"Difference between Inheritance and Composition","body":"<p>How inheritance can be dangerous ?</p>\n\n<p>Lets take an example</p>\n\n<pre><code>public class X{    \n   public void do(){    \n   }    \n}    \nPublic Class Y extends X{\n   public void work(){    \n       do();    \n   }\n}\n</code></pre>\n\n<p>1) As clear in above code , Class Y has very strong coupling with class X. If anything changes in superclass X , Y may break dramatically. Suppose In future class X implements a method work with below signature</p>\n\n<pre><code>public int work(){\n}\n</code></pre>\n\n<p>Change is done in class X but it will make class Y uncompilable. SO this kind of dependency can go up to any level and it can be very dangerous. Every time superclass might not have full visibility to code inside all its subclasses and subclass may be keep noticing what is happening in superclass all the time. So we need to avoid this strong and unnecessary coupling.</p>\n\n<p>How does composition solves this issue?</p>\n\n<p>Lets see by revising the same example</p>\n\n<pre><code>public class X{\n    public void do(){\n    }\n}\n\nPublic Class Y{\n    X x = new X();    \n    public void work(){    \n        x.do();\n    }\n}\n</code></pre>\n\n<p>Here we are creating reference of X class in Y class and invoking method of X class by creating an instance of X class.\nNow all that strong coupling is gone. Superclass and subclass are highly independent of each other now. Classes can freely make changes which were dangerous in inheritance situation.</p>\n\n<p>2) Second very good advantage of composition in that It provides method calling flexibility, for example :</p>\n\n<pre><code>class X implements R\n{}\nclass Y implements R\n{}\n\npublic class Test{    \n    R r;    \n}\n</code></pre>\n\n<p>In Test class using r reference I can invoke methods of X class as well as Y class. This flexibility was never there in inheritance</p>\n\n<p>3) Another great advantage : Unit testing</p>\n\n<pre><code>public class X {\n    public void do(){\n    }\n}\n\nPublic Class Y {\n    X x = new X();    \n    public void work(){    \n        x.do();    \n    }    \n}\n</code></pre>\n\n<p>In above example, if state of x instance is not known, it can easily be mocked up by using some test data and all methods can be easily tested. This was not possible at all in inheritance as you were heavily dependent on superclass to get the state of instance and execute any method.</p>\n\n<p>4) Another good reason why we should avoid inheritance is that Java does not support multiple inheritance.</p>\n\n<p>Lets take an example to understand this :</p>\n\n<pre><code>Public class Transaction {\n    Banking b;\n    public static void main(String a[])    \n    {    \n        b = new Deposit();    \n        if(b.deposit()){    \n            b = new Credit();\n            c.credit();    \n        }\n    }\n}\n</code></pre>\n\n<p>Good to know : </p>\n\n<ol>\n<li><p>composition is easily achieved at runtime while inheritance provides its features at                      compile time </p></li>\n<li><p>composition is also know as HAS-A relation and inheritance is also known as IS-A                     relation</p></li>\n</ol>\n\n<p>So make it a habit of always preferring composition over inheritance for various above reasons. </p>\n"},{"comments":[{"owner":{"account_id":3064268,"reputation":3881,"user_id":2596334,"accept_rate":97,"display_name":"Scott Solmer"},"score":1,"creation_date":1395145025,"post_id":22478748,"comment_id":34194644,"body_markdown":"Link only answers are discouraged because they go stale. Please include at least the most important relevant information from the link in your answer.","body":"Link only answers are discouraged because they go stale. Please include at least the most important relevant information from the link in your answer."}],"tags":[],"owner":{"account_id":4177550,"reputation":11,"user_id":3423616,"display_name":"aunte"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1478537498,"creation_date":1395144013,"answer_id":22478748,"question_id":2399544,"body_markdown":"I think this example explains clearly the differences between **inheritance** and **composition**.\r\n\r\nIn this exmple, the problem is solved using inheritance and composition. The author pays attention to the fact that ; in **inheritance**, a change in superclass might cause problems in derived class, that inherit it.\r\n\r\nThere you can also see the difference in representation when you use a UML for inheritance or composition.\r\n\r\nhttp://www.javaworld.com/article/2076814/core-java/inheritance-versus-composition--which-one-should-you-choose-.html","title":"Difference between Inheritance and Composition","body":"<p>I think this example explains clearly the differences between <strong>inheritance</strong> and <strong>composition</strong>.</p>\n\n<p>In this exmple, the problem is solved using inheritance and composition. The author pays attention to the fact that ; in <strong>inheritance</strong>, a change in superclass might cause problems in derived class, that inherit it.</p>\n\n<p>There you can also see the difference in representation when you use a UML for inheritance or composition.</p>\n\n<p><a href=\"http://www.javaworld.com/article/2076814/core-java/inheritance-versus-composition--which-one-should-you-choose-.html\" rel=\"nofollow noreferrer\">http://www.javaworld.com/article/2076814/core-java/inheritance-versus-composition--which-one-should-you-choose-.html</a></p>\n"},{"tags":[],"owner":{"account_id":2009968,"reputation":10226,"user_id":1798677,"accept_rate":77,"display_name":"Robert"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1420740677,"creation_date":1420740677,"answer_id":27846801,"question_id":2399544,"body_markdown":"Composition is where something is made up of distinct parts and it has a strong relationship with those parts. If the main part dies so do the others, they cannot have a life of their own. A rough example is the human body. Take out the heart and all the other parts die away.\r\n\r\nInheritance is where you just take something that already exists and use it. There is no strong relationship. A person could inherit his fathers estate but he can do without it. \r\n\r\nI don&#39;t know Java so I cannot provide an example but I can provide an explanation of the concepts.","title":"Difference between Inheritance and Composition","body":"<p>Composition is where something is made up of distinct parts and it has a strong relationship with those parts. If the main part dies so do the others, they cannot have a life of their own. A rough example is the human body. Take out the heart and all the other parts die away.</p>\n\n<p>Inheritance is where you just take something that already exists and use it. There is no strong relationship. A person could inherit his fathers estate but he can do without it. </p>\n\n<p>I don't know Java so I cannot provide an example but I can provide an explanation of the concepts.</p>\n"},{"comments":[{"owner":{"account_id":7831234,"reputation":497,"user_id":5921170,"accept_rate":100,"display_name":"Kr&#246;w"},"score":1,"creation_date":1558530059,"post_id":30618098,"comment_id":99131317,"body_markdown":"Why should I &quot;perfer *Composition over Inheritance*&quot;? They are different concepts and are used for different purposes. Frankly, I don&#39;t see how you could even go from one to the other.","body":"Why should I &quot;perfer <i>Composition over Inheritance</i>&quot;? They are different concepts and are used for different purposes. Frankly, I don&#39;t see how you could even go from one to the other."}],"tags":[],"owner":{"account_id":6330343,"reputation":1564,"user_id":4915436,"display_name":"Nitin Pawar"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1433328959,"creation_date":1433328959,"answer_id":30618098,"question_id":2399544,"body_markdown":"Though both Inheritance and Composition provides code reusablility, main difference between Composition and Inheritance in Java is that Composition allows reuse of code without extending it but for Inheritance you must extend the class for any reuse of code or functionality. Another difference which comes from this fact is that by using Composition you can reuse code for even final class which is not extensible but Inheritance cannot reuse code in such cases. Also by using Composition you can reuse code from many classes as they are declared as just a member variable, but with Inheritance you can reuse code form just one class because in Java you can only extend one class, because multiple Inheritance is not supported in Java. You can do this in C++ though because there one class can extend more than one class. BTW, You should always &lt;i&gt;prefer Composition over Inheritance in Java&lt;/i&gt;, its not just me but even **Joshua Bloch** has suggested in his book","title":"Difference between Inheritance and Composition","body":"<p>Though both Inheritance and Composition provides code reusablility, main difference between Composition and Inheritance in Java is that Composition allows reuse of code without extending it but for Inheritance you must extend the class for any reuse of code or functionality. Another difference which comes from this fact is that by using Composition you can reuse code for even final class which is not extensible but Inheritance cannot reuse code in such cases. Also by using Composition you can reuse code from many classes as they are declared as just a member variable, but with Inheritance you can reuse code form just one class because in Java you can only extend one class, because multiple Inheritance is not supported in Java. You can do this in C++ though because there one class can extend more than one class. BTW, You should always <i>prefer Composition over Inheritance in Java</i>, its not just me but even <strong>Joshua Bloch</strong> has suggested in his book</p>\n"},{"comments":[{"owner":{"account_id":437328,"reputation":499,"user_id":824952,"accept_rate":68,"display_name":"bhalkian"},"score":0,"creation_date":1521518961,"post_id":39663781,"comment_id":85753373,"body_markdown":"Does it make sense to implement parts for car class as well . Will it not be good if you use it as composition","body":"Does it make sense to implement parts for car class as well . Will it not be good if you use it as composition"}],"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1682416050,"creation_date":1474642415,"answer_id":39663781,"question_id":2399544,"body_markdown":"*Are Composition and Inheritance the same?*\r\n\r\nThey are not same. \r\n\r\n&gt;[Composition][1] (From wikipedia): It enables a group of objects have to be treated in the same way as a single instance of an object. The intent of a composite is to &quot;compose&quot; objects into tree structures to ***represent part-whole hierarchies***\r\n\r\n&gt;[Inheritance][2] (From oracle documentation) : A class inherits fields and methods from all its superclasses, whether direct or indirect. A subclass can override methods that it inherits, or it can hide fields or methods that it inherits.\r\n\r\n*If I want to implement the composition pattern, how can I do that in Java?*\r\n\r\n***Key Participants:*** ( as per UML diagram shown in Wikipedia link)\r\n\r\n**Component**:\r\n\r\n1. Is the abstraction for all components, including composite ones\r\n2. Declares the interface for objects in the *composition*\r\n\r\n**Leaf**:\r\n\r\n1. Represents leaf objects in the *composition*\r\n2. Implements all *Component* methods\r\n\r\n**Composite**:\r\n\r\n1. Represents a composite Component (component having children)\r\n2. Implements methods to manipulate children\r\n3. Implements all Component methods, generally by delegating them to its children\r\n\r\nCode example to understand **Composite** pattern:\r\n\r\n    import java.util.List;\r\n    import java.util.ArrayList;\r\n    \r\n    interface Part{\r\n    \tpublic double getPrice();\r\n    \tpublic String getName();\r\n    }\r\n    class Engine implements Part{\r\n    \tString name;\r\n    \tdouble price;\r\n    \tpublic Engine(String name,double price){\r\n    \t\tthis.name = name;\r\n    \t\tthis.price = price;\r\n    \t}\r\n    \tpublic double getPrice(){\r\n    \t\treturn price;\r\n    \t}\r\n    \tpublic String getName(){\r\n    \t\treturn name;\r\n    \t}\r\n    }\r\n    class Trunk implements Part{\r\n    \tString name;\r\n    \tdouble price;\r\n    \tpublic Trunk(String name,double price){\r\n    \t\tthis.name = name;\r\n    \t\tthis.price = price;\r\n    \t}\r\n    \tpublic double getPrice(){\r\n    \t\treturn price;\r\n    \t}\r\n    \tpublic String getName(){\r\n    \t\treturn name;\r\n    \t}\r\n    }\r\n    class Body implements Part{\r\n    \tString name;\r\n    \tdouble price;\r\n    \tpublic Body(String name,double price){\r\n    \t\tthis.name = name;\r\n    \t\tthis.price = price;\r\n    \t}\r\n    \tpublic double getPrice(){\r\n    \t\treturn price;\r\n    \t}\r\n    \tpublic String getName(){\r\n    \t\treturn name;\r\n    \t}\r\n    }\r\n    class Car implements Part{\r\n    \tList&lt;Part&gt; parts;\r\n    \tString name;\r\n    \t\r\n    \tpublic Car(String name){\r\n    \t\tthis.name = name;\r\n    \t\tparts = new ArrayList&lt;Part&gt;();\r\n    \t}\r\n    \tpublic void addPart(Part part){\r\n    \t\tparts.add(part);\r\n    \t}\r\n    \tpublic String getName(){\r\n    \t\treturn name;\r\n    \t}\r\n    \tpublic String getPartNames(){\r\n    \t\tStringBuilder sb = new StringBuilder();\r\n    \t\tfor ( Part part: parts){\r\n    \t\t\tsb.append(part.getName()).append(&quot; &quot;);\r\n    \t\t}\r\n    \t\treturn sb.toString();\r\n    \t}\r\n    \tpublic double getPrice(){\r\n    \t\tdouble price = 0;\r\n    \t\tfor ( Part part: parts){\r\n    \t\t\tprice += part.getPrice();\r\n    \t\t}\r\n    \t\treturn price;\r\n    \t}\t\r\n    }\r\n    \r\n    public class CompositeDemo{\r\n    \tpublic static void main(String args[]){\r\n    \t\tPart engine = new Engine(&quot;DiselEngine&quot;,15000);\r\n    \t\tPart trunk = new Trunk(&quot;Trunk&quot;,10000);\r\n    \t\tPart body = new Body(&quot;Body&quot;,12000);\r\n    \r\n    \t\tCar car = new Car(&quot;Innova&quot;);\r\n    \t\tcar.addPart(engine);\r\n    \t\tcar.addPart(trunk);\r\n    \t\tcar.addPart(body);\r\n    \t\t\r\n    \t\tdouble price = car.getPrice();\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Car name:&quot;+car.getName());\r\n    \t\tSystem.out.println(&quot;Car parts:&quot;+car.getPartNames());\r\n    \t\tSystem.out.println(&quot;Car price:&quot;+car.getPrice());\r\n    \t}\r\n    \t\r\n    }\r\n\r\n\r\noutput:\r\n\r\n    Car name:Innova\r\n    Car parts:DiselEngine Trunk Body\r\n    Car price:37000.0\r\n\r\nExplanation:\r\n\r\n1. ***Part*** is a leaf\r\n2. ***Car*** contains many Parts\r\n3. Different ***Parts*** of the car have been added to Car\r\n4. The price of ***Car*** = sum of ( Price of each **Part** )\r\n\r\nRefer to below question for Pros and Cons of Composition and Inheritance.\r\n\r\nhttps://stackoverflow.com/questions/49002/prefer-composition-over-inheritance/39635299#39635299\r\n\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Composite_pattern\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/IandI/summaryinherit.html\r\n  [3]: http://i.stack.imgur.com/DDf8y.png\r\n","title":"Difference between Inheritance and Composition","body":"<p><em>Are Composition and Inheritance the same?</em></p>\n<p>They are not same.</p>\n<blockquote>\n<p><a href=\"https://en.wikipedia.org/wiki/Composite_pattern\" rel=\"nofollow noreferrer\">Composition</a> (From wikipedia): It enables a group of objects have to be treated in the same way as a single instance of an object. The intent of a composite is to &quot;compose&quot; objects into tree structures to <em><strong>represent part-whole hierarchies</strong></em></p>\n</blockquote>\n<blockquote>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/summaryinherit.html\" rel=\"nofollow noreferrer\">Inheritance</a> (From oracle documentation) : A class inherits fields and methods from all its superclasses, whether direct or indirect. A subclass can override methods that it inherits, or it can hide fields or methods that it inherits.</p>\n</blockquote>\n<p><em>If I want to implement the composition pattern, how can I do that in Java?</em></p>\n<p><em><strong>Key Participants:</strong></em> ( as per UML diagram shown in Wikipedia link)</p>\n<p><strong>Component</strong>:</p>\n<ol>\n<li>Is the abstraction for all components, including composite ones</li>\n<li>Declares the interface for objects in the <em>composition</em></li>\n</ol>\n<p><strong>Leaf</strong>:</p>\n<ol>\n<li>Represents leaf objects in the <em>composition</em></li>\n<li>Implements all <em>Component</em> methods</li>\n</ol>\n<p><strong>Composite</strong>:</p>\n<ol>\n<li>Represents a composite Component (component having children)</li>\n<li>Implements methods to manipulate children</li>\n<li>Implements all Component methods, generally by delegating them to its children</li>\n</ol>\n<p>Code example to understand <strong>Composite</strong> pattern:</p>\n<pre><code>import java.util.List;\nimport java.util.ArrayList;\n\ninterface Part{\n    public double getPrice();\n    public String getName();\n}\nclass Engine implements Part{\n    String name;\n    double price;\n    public Engine(String name,double price){\n        this.name = name;\n        this.price = price;\n    }\n    public double getPrice(){\n        return price;\n    }\n    public String getName(){\n        return name;\n    }\n}\nclass Trunk implements Part{\n    String name;\n    double price;\n    public Trunk(String name,double price){\n        this.name = name;\n        this.price = price;\n    }\n    public double getPrice(){\n        return price;\n    }\n    public String getName(){\n        return name;\n    }\n}\nclass Body implements Part{\n    String name;\n    double price;\n    public Body(String name,double price){\n        this.name = name;\n        this.price = price;\n    }\n    public double getPrice(){\n        return price;\n    }\n    public String getName(){\n        return name;\n    }\n}\nclass Car implements Part{\n    List&lt;Part&gt; parts;\n    String name;\n    \n    public Car(String name){\n        this.name = name;\n        parts = new ArrayList&lt;Part&gt;();\n    }\n    public void addPart(Part part){\n        parts.add(part);\n    }\n    public String getName(){\n        return name;\n    }\n    public String getPartNames(){\n        StringBuilder sb = new StringBuilder();\n        for ( Part part: parts){\n            sb.append(part.getName()).append(&quot; &quot;);\n        }\n        return sb.toString();\n    }\n    public double getPrice(){\n        double price = 0;\n        for ( Part part: parts){\n            price += part.getPrice();\n        }\n        return price;\n    }   \n}\n\npublic class CompositeDemo{\n    public static void main(String args[]){\n        Part engine = new Engine(&quot;DiselEngine&quot;,15000);\n        Part trunk = new Trunk(&quot;Trunk&quot;,10000);\n        Part body = new Body(&quot;Body&quot;,12000);\n\n        Car car = new Car(&quot;Innova&quot;);\n        car.addPart(engine);\n        car.addPart(trunk);\n        car.addPart(body);\n        \n        double price = car.getPrice();\n        \n        System.out.println(&quot;Car name:&quot;+car.getName());\n        System.out.println(&quot;Car parts:&quot;+car.getPartNames());\n        System.out.println(&quot;Car price:&quot;+car.getPrice());\n    }\n    \n}\n</code></pre>\n<p>output:</p>\n<pre><code>Car name:Innova\nCar parts:DiselEngine Trunk Body\nCar price:37000.0\n</code></pre>\n<p>Explanation:</p>\n<ol>\n<li><em><strong>Part</strong></em> is a leaf</li>\n<li><em><strong>Car</strong></em> contains many Parts</li>\n<li>Different <em><strong>Parts</strong></em> of the car have been added to Car</li>\n<li>The price of <em><strong>Car</strong></em> = sum of ( Price of each <strong>Part</strong> )</li>\n</ol>\n<p>Refer to below question for Pros and Cons of Composition and Inheritance.</p>\n<p><a href=\"https://stackoverflow.com/questions/49002/prefer-composition-over-inheritance/39635299#39635299\">Prefer composition over inheritance?</a></p>\n"},{"tags":[],"owner":{"account_id":11085725,"reputation":2297,"user_id":8139510,"display_name":"HM Nayem"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497047468,"creation_date":1497047468,"answer_id":44467511,"question_id":2399544,"body_markdown":"Composition means creating an object to a class which has relation with that particular class.\r\nSuppose Student has relation with Accounts;\r\n\r\nAn Inheritance is, this is the previous class with the extended feature. That means this new class is the Old class with some extended feature.\r\nSuppose Student is Student but All Students are Human. So there is a relationship with student and human. This is Inheritance.","title":"Difference between Inheritance and Composition","body":"<p>Composition means creating an object to a class which has relation with that particular class.\nSuppose Student has relation with Accounts;</p>\n\n<p>An Inheritance is, this is the previous class with the extended feature. That means this new class is the Old class with some extended feature.\nSuppose Student is Student but All Students are Human. So there is a relationship with student and human. This is Inheritance.</p>\n"},{"tags":[],"owner":{"account_id":6925725,"reputation":10963,"user_id":5316872,"display_name":"Keshav Gera"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1497270172,"creation_date":1497269835,"answer_id":44499236,"question_id":2399544,"body_markdown":"**In Simple Word  Aggregation means Has A Relationship ..** \r\n\r\n**Composition is a special case of aggregation**. In a more specific manner, a restricted aggregation is called composition. When an object contains the other object, if the contained object cannot exist without the existence of container object, then it is called composition. \r\n**Example: A class contains students. A student cannot exist without a class. There exists composition between class and students.** \r\n\r\n\r\n\r\n**Why Use Aggregation**\r\n\r\nCode Reusability\r\n\r\n**When Use Aggregation**\r\n\r\nCode reuse is also best achieved by aggregation when there is no is a Relation ship\r\n\r\n**Inheritance**\r\n\r\n**Inheritance is a Parent Child Relationship Inheritance Means Is A RelationShip**\r\n\r\nInheritance in java is a mechanism in which one object acquires all the properties and behaviors of parent object.\r\n\r\nUsing inheritance in Java\r\n1 Code Reusability.\r\n2 Add Extra Feature in Child Class as well as Method Overriding (so runtime polymorphism can be achieved).\r\n\r\n\r\n\r\n","title":"Difference between Inheritance and Composition","body":"<p><strong>In Simple Word  Aggregation means Has A Relationship ..</strong> </p>\n\n<p><strong>Composition is a special case of aggregation</strong>. In a more specific manner, a restricted aggregation is called composition. When an object contains the other object, if the contained object cannot exist without the existence of container object, then it is called composition. \n<strong>Example: A class contains students. A student cannot exist without a class. There exists composition between class and students.</strong> </p>\n\n<p><strong>Why Use Aggregation</strong></p>\n\n<p>Code Reusability</p>\n\n<p><strong>When Use Aggregation</strong></p>\n\n<p>Code reuse is also best achieved by aggregation when there is no is a Relation ship</p>\n\n<p><strong>Inheritance</strong></p>\n\n<p><strong>Inheritance is a Parent Child Relationship Inheritance Means Is A RelationShip</strong></p>\n\n<p>Inheritance in java is a mechanism in which one object acquires all the properties and behaviors of parent object.</p>\n\n<p>Using inheritance in Java\n1 Code Reusability.\n2 Add Extra Feature in Child Class as well as Method Overriding (so runtime polymorphism can be achieved).</p>\n"},{"tags":[],"owner":{"account_id":7557506,"reputation":1599,"user_id":5736534,"display_name":"Sheo Dayal Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1503143779,"creation_date":1502176968,"answer_id":45561795,"question_id":2399544,"body_markdown":"**Inheritances Vs Composition.**\r\n\r\nInheritances and composition both are used to re-usability and extension of class behavior. \r\n\r\nInheritances mainly use in a family algorithm programming model such as IS-A relation type means similar kind of object. Example.\r\n\r\n 1. Duster is a Car \r\n 2. Safari is a Car\r\n\r\nThese are belongs to Car family.\r\n\r\nComposition represents HAS-A relationship Type.It shows the ability of an object such as Duster has Five Gears , Safari has four Gears etc. Whenever we need to extend the ability of an existing class then use composition.**Example** we need to add one more gear in Duster object then we have to create one more gear object and compose it to the duster object.\r\n\r\nWe should not make the changes in base class until/unless all the derived classes needed those functionality.For this scenario we should use Composition.Such as\r\n\r\nclass A Derived by Class B\r\n\r\nClass A Derived by Class C\r\n\r\nClass A Derived by Class D.\r\n\r\nWhen we add any functionality in class A then it is available to all sub classes even when Class C and D don&#39;t required those functionality.For this scenario we need to create a separate class for those functionality and compose it to the required class(here is class B). \r\n\r\n\r\n\r\n**Below is the example:**\r\n   \r\n\r\n     \r\n        \r\n    \r\n              // This is a base class\r\n                     public abstract class Car\r\n                        {\r\n                           //Define prototype\r\n                           public abstract void color();\r\n                           public void Gear() {\r\n                               Console.WriteLine(&quot;Car has a four Gear&quot;);\r\n                           }\r\n                        }\r\n                    \r\n                    \r\n               // Here is the use of inheritence\r\n               // This Desire class have four gears.\r\n              //  But we need to add one more gear that is Neutral gear.\r\n         \r\n              public class Desire : Car\r\n                       {\r\n                           Neutral obj = null;\r\n                           public Desire()\r\n                           {\r\n         // Here we are incorporating neutral gear(It is the use of composition). \r\n         // Now this class would have five gear. \r\n        \r\n                               obj = new Neutral();\r\n                               obj.NeutralGear();\r\n                           }\r\n                    \r\n                           public override void color()\r\n                           {\r\n                               Console.WriteLine(&quot;This is a white color car&quot;);\r\n                           }\r\n                      \r\n                       }\r\n                    \r\n                    \r\n                 // This Safari class have four gears and it is not required the neutral\r\n                 //  gear and hence we don&#39;t need to compose here.\r\n            \r\n                       public class Safari :Car{\r\n                           public Safari()\r\n                           { }\r\n                             \r\n                           public override void color()\r\n                           {\r\n                               Console.WriteLine(&quot;This is a red color car&quot;);\r\n                           }\r\n                          \r\n                      \r\n                       }\r\n                    \r\n       // This class represents the neutral gear and it would be used as a composition.\r\n                    \r\n       public class Neutral {\r\n                          public void NeutralGear() {\r\n                               Console.WriteLine(&quot;This is a Neutral Gear&quot;);\r\n                           }\r\n                       }\r\n                    \r\n                    \r\n                    \r\n                \r\n            \r\n             ","title":"Difference between Inheritance and Composition","body":"<p><strong>Inheritances Vs Composition.</strong></p>\n\n<p>Inheritances and composition both are used to re-usability and extension of class behavior. </p>\n\n<p>Inheritances mainly use in a family algorithm programming model such as IS-A relation type means similar kind of object. Example.</p>\n\n<ol>\n<li>Duster is a Car </li>\n<li>Safari is a Car</li>\n</ol>\n\n<p>These are belongs to Car family.</p>\n\n<p>Composition represents HAS-A relationship Type.It shows the ability of an object such as Duster has Five Gears , Safari has four Gears etc. Whenever we need to extend the ability of an existing class then use composition.<strong>Example</strong> we need to add one more gear in Duster object then we have to create one more gear object and compose it to the duster object.</p>\n\n<p>We should not make the changes in base class until/unless all the derived classes needed those functionality.For this scenario we should use Composition.Such as</p>\n\n<p>class A Derived by Class B</p>\n\n<p>Class A Derived by Class C</p>\n\n<p>Class A Derived by Class D.</p>\n\n<p>When we add any functionality in class A then it is available to all sub classes even when Class C and D don't required those functionality.For this scenario we need to create a separate class for those functionality and compose it to the required class(here is class B). </p>\n\n<p><strong>Below is the example:</strong></p>\n\n<pre><code>          // This is a base class\n                 public abstract class Car\n                    {\n                       //Define prototype\n                       public abstract void color();\n                       public void Gear() {\n                           Console.WriteLine(\"Car has a four Gear\");\n                       }\n                    }\n\n\n           // Here is the use of inheritence\n           // This Desire class have four gears.\n          //  But we need to add one more gear that is Neutral gear.\n\n          public class Desire : Car\n                   {\n                       Neutral obj = null;\n                       public Desire()\n                       {\n     // Here we are incorporating neutral gear(It is the use of composition). \n     // Now this class would have five gear. \n\n                           obj = new Neutral();\n                           obj.NeutralGear();\n                       }\n\n                       public override void color()\n                       {\n                           Console.WriteLine(\"This is a white color car\");\n                       }\n\n                   }\n\n\n             // This Safari class have four gears and it is not required the neutral\n             //  gear and hence we don't need to compose here.\n\n                   public class Safari :Car{\n                       public Safari()\n                       { }\n\n                       public override void color()\n                       {\n                           Console.WriteLine(\"This is a red color car\");\n                       }\n\n\n                   }\n\n   // This class represents the neutral gear and it would be used as a composition.\n\n   public class Neutral {\n                      public void NeutralGear() {\n                           Console.WriteLine(\"This is a Neutral Gear\");\n                       }\n                   }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10177931,"reputation":1796,"user_id":7699452,"accept_rate":78,"display_name":"Mathews Sunny"},"score":2,"creation_date":1514137875,"post_id":47962733,"comment_id":82894931,"body_markdown":"Its only comment quality","body":"Its only comment quality"},{"owner":{"account_id":5266362,"reputation":1584,"user_id":4206178,"accept_rate":57,"display_name":"Anjil Dhamala"},"score":0,"creation_date":1518187939,"post_id":47962733,"comment_id":84415571,"body_markdown":"Did you just comment the same thing the accepted answer said 7 years before you?","body":"Did you just comment the same thing the accepted answer said 7 years before you?"}],"tags":[],"owner":{"account_id":12558040,"reputation":54,"user_id":9136944,"display_name":"Ranga Reddy"},"comment_count":2,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1514136886,"creation_date":1514136886,"answer_id":47962733,"question_id":2399544,"body_markdown":"No , Both are  different . Composition follow &quot;HAS-A&quot; relationship and inheritance follow &quot;IS-A&quot; relationship . Best Example for composition was Strategic pattern .\r\n","title":"Difference between Inheritance and Composition","body":"<p>No , Both are  different . Composition follow \"HAS-A\" relationship and inheritance follow \"IS-A\" relationship . Best Example for composition was Strategic pattern .</p>\n"},{"tags":[],"owner":{"account_id":10272083,"reputation":1,"user_id":7634419,"display_name":"Vikas Kapadiya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517995270,"creation_date":1517995270,"answer_id":48660016,"question_id":2399544,"body_markdown":"Inheritence means reusing the complete functionality of a class, Here my class have to use all the methods of the super class and my class will be titely coupled with the super class and code will be duplicated in both the classes in case of inheritence.\r\n\r\nBut we can overcome from all these problem when we use composition to talk with another class . composition is declaring an attribute of another class into my class to which we want to talk. and what functionality we want from that class we can get by using that attribute. ","title":"Difference between Inheritance and Composition","body":"<p>Inheritence means reusing the complete functionality of a class, Here my class have to use all the methods of the super class and my class will be titely coupled with the super class and code will be duplicated in both the classes in case of inheritence.</p>\n\n<p>But we can overcome from all these problem when we use composition to talk with another class . composition is declaring an attribute of another class into my class to which we want to talk. and what functionality we want from that class we can get by using that attribute. </p>\n"}],"owner":{"account_id":85376,"reputation":15716,"user_id":238052,"accept_rate":66,"display_name":"gmhk"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":260341,"favorite_count":0,"down_vote_count":2,"up_vote_count":251,"accepted_answer_id":2399554,"answer_count":17,"score":249,"last_activity_date":1682416050,"creation_date":1268027656,"question_id":2399544,"body_markdown":"Are Composition and Inheritance the same?\r\nIf I want to implement the composition pattern, how can I do that in Java?","title":"Difference between Inheritance and Composition","body":"<p>Are Composition and Inheritance the same?\nIf I want to implement the composition pattern, how can I do that in Java?</p>\n"},{"tags":["java","xml","saxon","xslt-3.0"],"comments":[{"owner":{"account_id":91947,"reputation":161829,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1566569568,"post_id":57627832,"comment_id":101709613,"body_markdown":"You will need to edit your question and show us the XML you want to output.","body":"You will need to edit your question and show us the XML you want to output."},{"owner":{"account_id":91947,"reputation":161829,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1566570345,"post_id":57627832,"comment_id":101710005,"body_markdown":"For a start, if you don&#39;t want to copy nodes from the input I would simply remove the `xsl:template match=&quot;@* | node()&quot;` from the code that you have shown.","body":"For a start, if you don&#39;t want to copy nodes from the input I would simply remove the <code>xsl:template match=&quot;@* | node()&quot;</code> from the code that you have shown."},{"owner":{"account_id":2171295,"reputation":639,"user_id":1923218,"accept_rate":57,"display_name":"Beast"},"score":0,"creation_date":1566573210,"post_id":57627832,"comment_id":101711471,"body_markdown":"[~Martin] Apologies for not adding the expected output. I have added the expected output for the reference","body":"[~Martin] Apologies for not adding the expected output. I have added the expected output for the reference"},{"owner":{"account_id":91947,"reputation":161829,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1566573417,"post_id":57627832,"comment_id":101711569,"body_markdown":"Then I think my answer covers that, you simply have put a template with the identity transformation in your code you should rather omit.","body":"Then I think my answer covers that, you simply have put a template with the identity transformation in your code you should rather omit."},{"owner":{"account_id":4355473,"reputation":17255,"user_id":3554264,"accept_rate":62,"display_name":"Christian Hujer"},"score":0,"creation_date":1566574111,"post_id":57627832,"comment_id":101711908,"body_markdown":"Your expected output is not an XML file, but can be included as a fragment. Are you sure that is what you want?","body":"Your expected output is not an XML file, but can be included as a fragment. Are you sure that is what you want?"},{"owner":{"account_id":2171295,"reputation":639,"user_id":1923218,"accept_rate":57,"display_name":"Beast"},"score":0,"creation_date":1566821424,"post_id":57627832,"comment_id":101764825,"body_markdown":"@Christian I agree with you. But even I dont have complete JSON with me as it is coming from the upstream system. They are still working on the same so I just took whatever I have.Within next one or two days I am hoping to get more details","body":"@Christian I agree with you. But even I dont have complete JSON with me as it is coming from the upstream system. They are still working on the same so I just took whatever I have.Within next one or two days I am hoping to get more details"},{"owner":{"account_id":16118032,"reputation":93,"user_id":11634626,"display_name":"BSL"},"score":1,"creation_date":1624849819,"post_id":57627832,"comment_id":120460327,"body_markdown":"@JineshParikh Thank you for sharing this topic, I&#39;m working on a similar code, could you please share with me  a java code snippet, on how are you passing the jsonText parameter to the XSL stylesheet ? or any code sample that will help on understanding the conversion flow. thank you.","body":"@JineshParikh Thank you for sharing this topic, I&#39;m working on a similar code, could you please share with me  a java code snippet, on how are you passing the jsonText parameter to the XSL stylesheet ? or any code sample that will help on understanding the conversion flow. thank you."}],"answers":[{"comments":[{"owner":{"account_id":2171295,"reputation":639,"user_id":1923218,"accept_rate":57,"display_name":"Beast"},"score":0,"creation_date":1566822417,"post_id":57628452,"comment_id":101765294,"body_markdown":"thanks for the answer. It worked . I have one more simple question. If I take the json-to-xml($jsonText) in a variable in xslt. How can I access the individual elements from that variable which has the whole XML.","body":"thanks for the answer. It worked . I have one more simple question. If I take the json-to-xml($jsonText) in a variable in xslt. How can I access the individual elements from that variable which has the whole XML."},{"owner":{"account_id":91947,"reputation":161829,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1566822841,"post_id":57628452,"comment_id":101765480,"body_markdown":"You are working with XSLT 3 where the selection language to access nodes in general or of course also elements in an XML document (it does not matter whether it is created from JSON) is XPath 3 so you select elements with any XPath 3 expression you need. The format of the XML is described in https://www.w3.org/TR/xslt-30/#json-to-xml-mapping, for your sample JSON you can see it by outputting `&lt;xsl:sequence select=&quot;json-to-xml($jsonText)&quot;/&gt;`.","body":"You are working with XSLT 3 where the selection language to access nodes in general or of course also elements in an XML document (it does not matter whether it is created from JSON) is XPath 3 so you select elements with any XPath 3 expression you need. The format of the XML is described in <a href=\"https://www.w3.org/TR/xslt-30/#json-to-xml-mapping\" rel=\"nofollow noreferrer\">w3.org/TR/xslt-30/#json-to-xml-mapping</a>, for your sample JSON you can see it by outputting <code>&lt;xsl:sequence select=&quot;json-to-xml($jsonText)&quot;&#47;&gt;</code>."},{"owner":{"account_id":91947,"reputation":161829,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1566823043,"post_id":57628452,"comment_id":101765585,"body_markdown":"The elements are in the namespace `http://www.w3.org/2005/xpath-functions` so declare with e.g. `xmlns:fn=&quot;http://www.w3.org/2005/xpath-functions&quot;` and select e.g. `//fn:map[@key = &#39;profileData&#39;]`.","body":"The elements are in the namespace <code>http:&#47;&#47;www.w3.org&#47;2005&#47;xpath-functions</code> so declare with e.g. <code>xmlns:fn=&quot;http:&#47;&#47;www.w3.org&#47;2005&#47;xpath-functions&quot;</code> and select e.g. <code>&#47;&#47;fn:map[@key = &#39;profileData&#39;]</code>."},{"owner":{"account_id":2171295,"reputation":639,"user_id":1923218,"accept_rate":57,"display_name":"Beast"},"score":0,"creation_date":1566824888,"post_id":57628452,"comment_id":101766533,"body_markdown":"Thanks for Help @Martin honnen I have few other questions but let me try to resolve it and if not I will raise it over here","body":"Thanks for Help @Martin honnen I have few other questions but let me try to resolve it and if not I will raise it over here"}],"tags":[],"owner":{"account_id":91947,"reputation":161829,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1566573477,"creation_date":1566571210,"answer_id":57628452,"question_id":57627832,"body_markdown":"If you don&#39;t use the identity template you have used and instead omit it only your template to transform elements with a `key` attribute into elements of the name of the `key` value and any text nodes will create output:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; version=&quot;3.0&quot;\r\n        xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n        exclude-result-prefixes=&quot;#all&quot;&gt;\r\n        \r\n        &lt;xsl:param name=&quot;jsonText&quot; as=&quot;xs:string&quot;&gt;&lt;![CDATA[{\r\n        &quot;analystId&quot;: &quot;Test&quot;,\r\n        &quot;jobId&quot;: &quot;&quot;,\r\n        &quot;profileData&quot;: {\r\n            &quot;allAuthorCoverage&quot;: false,\r\n            &quot;assetClasses&quot;: [\r\n                {\r\n                    &quot;code&quot;: &quot;Test1&quot;\r\n                }\r\n            ]\r\n    \r\n        }   \r\n    }]]&gt;&lt;/xsl:param&gt;\r\n        \r\n        &lt;xsl:output indent=&quot;yes&quot; /&gt; \r\n        &lt;xsl:strip-space elements=&quot;*&quot;/&gt;\r\n        \r\n        &lt;xsl:template name=&quot;xsl:initial-template&quot;&gt;\r\n            &lt;xsl:apply-templates select=&quot;json-to-xml($jsonText)&quot;/&gt; \r\n        &lt;/xsl:template&gt;\r\n        \r\n        &lt;xsl:template match=&quot;*[@key]&quot; &gt;\r\n            &lt;xsl:element name=&quot;{@key}&quot;&gt;\r\n                &lt;xsl:apply-templates/&gt;\r\n            &lt;/xsl:element&gt;\r\n        &lt;/xsl:template&gt;\r\n            \r\n    &lt;/xsl:stylesheet&gt;\r\n\r\n\r\n","title":"JSON to XML Transformation using XSLT 3.0","body":"<p>If you don't use the identity template you have used and instead omit it only your template to transform elements with a <code>key</code> attribute into elements of the name of the <code>key</code> value and any text nodes will create output:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;xsl:stylesheet xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" version=\"3.0\"\n    xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"\n    exclude-result-prefixes=\"#all\"&gt;\n\n    &lt;xsl:param name=\"jsonText\" as=\"xs:string\"&gt;&lt;![CDATA[{\n    \"analystId\": \"Test\",\n    \"jobId\": \"\",\n    \"profileData\": {\n        \"allAuthorCoverage\": false,\n        \"assetClasses\": [\n            {\n                \"code\": \"Test1\"\n            }\n        ]\n\n    }   \n}]]&gt;&lt;/xsl:param&gt;\n\n    &lt;xsl:output indent=\"yes\" /&gt; \n    &lt;xsl:strip-space elements=\"*\"/&gt;\n\n    &lt;xsl:template name=\"xsl:initial-template\"&gt;\n        &lt;xsl:apply-templates select=\"json-to-xml($jsonText)\"/&gt; \n    &lt;/xsl:template&gt;\n\n    &lt;xsl:template match=\"*[@key]\" &gt;\n        &lt;xsl:element name=\"{@key}\"&gt;\n            &lt;xsl:apply-templates/&gt;\n        &lt;/xsl:element&gt;\n    &lt;/xsl:template&gt;\n\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n"}],"owner":{"account_id":2171295,"reputation":639,"user_id":1923218,"accept_rate":57,"display_name":"Beast"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1294,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":57628452,"answer_count":1,"score":0,"last_activity_date":1682415491,"creation_date":1566568565,"question_id":57627832,"body_markdown":"I am using Java 1.8, Saxon-HE version 9.9.1-4 version and xslt3.0 to tranform the JSON to XML.\r\n\r\n**Input JSON**\r\n\r\n    {\r\n        &quot;analystId&quot;: &quot;Test&quot;,\r\n        &quot;jobId&quot;: &quot;&quot;,\r\n        &quot;profileData&quot;: {\r\n            &quot;allAuthorCoverage&quot;: false,\r\n            &quot;assetClasses&quot;: [\r\n                {\r\n                    &quot;code&quot;: &quot;Test1&quot;\r\n                }\r\n            ]\r\n            \r\n        }   \r\n    }\r\n\r\n**XSLT3.0**\r\n\r\n    &lt;xsl:stylesheet version=&quot;3.0&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\r\n      &lt;xsl:output indent=&quot;yes&quot; /&gt; \r\n      &lt;xsl:strip-space elements=&quot;*&quot;/&gt;\r\n      &lt;xsl:param name=&quot;jsonText&quot;/&gt;\r\n    \r\n      &lt;xsl:template match=&quot;@*|node()&quot;&gt; \r\n        &lt;xsl:copy&gt;\r\n          &lt;xsl:apply-templates select=&quot;@*|node()&quot;/&gt;\r\n        &lt;/xsl:copy&gt;\r\n      &lt;/xsl:template&gt; \r\n    \r\n      &lt;xsl:template name=&quot;init&quot;&gt;\r\n        &lt;xsl:apply-templates select=&quot;json-to-xml($jsonText)&quot;/&gt; \r\n      &lt;/xsl:template&gt;\r\n      \r\n     &lt;xsl:template match=&quot;*[@key]&quot; &gt;\r\n      &lt;xsl:element name=&quot;{@key}&quot;&gt;\r\n        &lt;xsl:apply-templates/&gt;\r\n      &lt;/xsl:element&gt;\r\n    &lt;/xsl:template&gt;\r\n    \r\n    &lt;/xsl:stylesheet&gt;\r\n\r\n**Output XML Generated**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;map xmlns=&quot;http://www.w3.org/2005/xpath-functions&quot;&gt;\r\n       &lt;analystId xmlns=&quot;&quot;&gt;Test&lt;/analystId&gt;\r\n       &lt;jobId xmlns=&quot;&quot;/&gt;\r\n       &lt;profileData xmlns=&quot;&quot;&gt;\r\n          &lt;allAuthorCoverage&gt;false&lt;/allAuthorCoverage&gt;\r\n          &lt;assetClasses&gt;\r\n             &lt;map xmlns=&quot;http://www.w3.org/2005/xpath-functions&quot;&gt;\r\n                &lt;code xmlns=&quot;&quot;&gt;Test1&lt;/code&gt;\r\n             &lt;/map&gt;\r\n          &lt;/assetClasses&gt;\r\n       &lt;/profileData&gt;\r\n    &lt;/map&gt;\r\n\r\n**Output XML Expected**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;analystId&gt;Test&lt;/analystId&gt;\r\n    &lt;jobId /&gt;\r\n    &lt;profileData&gt;\r\n    \t&lt;allAuthorCoverage&gt;false&lt;/allAuthorCoverage&gt;\r\n    \t&lt;assetClasses&gt;\r\n    \t\t&lt;code&gt;Test1&lt;/code&gt;\r\n    \t&lt;/assetClasses&gt;\r\n    &lt;/profileData&gt;\r\n\r\n\r\nWe can still see `&lt;map&gt;` element and xmlns attribute in the generated output and my requirement is to remove the same.\r\n\r\nHow can I remove the Map element from the generated output and xmlns attribute as well?\r\n\r\nAlso in case I expand my JSON structure with new attributes these map element and xmlns attribute should not be added back again.\r\n","title":"JSON to XML Transformation using XSLT 3.0","body":"<p>I am using Java 1.8, Saxon-HE version 9.9.1-4 version and xslt3.0 to tranform the JSON to XML.</p>\n<p><strong>Input JSON</strong></p>\n<pre><code>{\n    &quot;analystId&quot;: &quot;Test&quot;,\n    &quot;jobId&quot;: &quot;&quot;,\n    &quot;profileData&quot;: {\n        &quot;allAuthorCoverage&quot;: false,\n        &quot;assetClasses&quot;: [\n            {\n                &quot;code&quot;: &quot;Test1&quot;\n            }\n        ]\n        \n    }   \n}\n</code></pre>\n<p><strong>XSLT3.0</strong></p>\n<pre><code>&lt;xsl:stylesheet version=&quot;3.0&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\n  &lt;xsl:output indent=&quot;yes&quot; /&gt; \n  &lt;xsl:strip-space elements=&quot;*&quot;/&gt;\n  &lt;xsl:param name=&quot;jsonText&quot;/&gt;\n\n  &lt;xsl:template match=&quot;@*|node()&quot;&gt; \n    &lt;xsl:copy&gt;\n      &lt;xsl:apply-templates select=&quot;@*|node()&quot;/&gt;\n    &lt;/xsl:copy&gt;\n  &lt;/xsl:template&gt; \n\n  &lt;xsl:template name=&quot;init&quot;&gt;\n    &lt;xsl:apply-templates select=&quot;json-to-xml($jsonText)&quot;/&gt; \n  &lt;/xsl:template&gt;\n  \n &lt;xsl:template match=&quot;*[@key]&quot; &gt;\n  &lt;xsl:element name=&quot;{@key}&quot;&gt;\n    &lt;xsl:apply-templates/&gt;\n  &lt;/xsl:element&gt;\n&lt;/xsl:template&gt;\n\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p><strong>Output XML Generated</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;map xmlns=&quot;http://www.w3.org/2005/xpath-functions&quot;&gt;\n   &lt;analystId xmlns=&quot;&quot;&gt;Test&lt;/analystId&gt;\n   &lt;jobId xmlns=&quot;&quot;/&gt;\n   &lt;profileData xmlns=&quot;&quot;&gt;\n      &lt;allAuthorCoverage&gt;false&lt;/allAuthorCoverage&gt;\n      &lt;assetClasses&gt;\n         &lt;map xmlns=&quot;http://www.w3.org/2005/xpath-functions&quot;&gt;\n            &lt;code xmlns=&quot;&quot;&gt;Test1&lt;/code&gt;\n         &lt;/map&gt;\n      &lt;/assetClasses&gt;\n   &lt;/profileData&gt;\n&lt;/map&gt;\n</code></pre>\n<p><strong>Output XML Expected</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;analystId&gt;Test&lt;/analystId&gt;\n&lt;jobId /&gt;\n&lt;profileData&gt;\n    &lt;allAuthorCoverage&gt;false&lt;/allAuthorCoverage&gt;\n    &lt;assetClasses&gt;\n        &lt;code&gt;Test1&lt;/code&gt;\n    &lt;/assetClasses&gt;\n&lt;/profileData&gt;\n</code></pre>\n<p>We can still see <code>&lt;map&gt;</code> element and xmlns attribute in the generated output and my requirement is to remove the same.</p>\n<p>How can I remove the Map element from the generated output and xmlns attribute as well?</p>\n<p>Also in case I expand my JSON structure with new attributes these map element and xmlns attribute should not be added back again.</p>\n"},{"tags":["java","objectmapper"],"answers":[{"tags":[],"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650618463,"creation_date":1650618463,"answer_id":71966182,"question_id":71966015,"body_markdown":"You could try to get a Map like this `Map&lt;String, List&lt;String&gt; columns;`\r\n\r\nThe first value (key) is the column name and the second value (value) is a list of all values of this column.\r\n\r\nThen you can just use if statements for selecting a column or not.\r\n\r\nSo:\r\n1. Load all columns and their values\r\n2. Use a loop with if statements.\r\n3. In this loop, you could also integrate a list of Strings, which are the unallowed or allowed column names. ","title":"Convert One Entity to Another Entity in Java","body":"<p>You could try to get a Map like this <code>Map&lt;String, List&lt;String&gt; columns;</code></p>\n<p>The first value (key) is the column name and the second value (value) is a list of all values of this column.</p>\n<p>Then you can just use if statements for selecting a column or not.</p>\n<p>So:</p>\n<ol>\n<li>Load all columns and their values</li>\n<li>Use a loop with if statements.</li>\n<li>In this loop, you could also integrate a list of Strings, which are the unallowed or allowed column names.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":19492409,"reputation":424,"user_id":14260355,"display_name":"BrunoT"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650620517,"creation_date":1650619498,"answer_id":71966409,"question_id":71966015,"body_markdown":"You can use Jackson&#39;s [ObjectMapper][1] library to achieve this. In order for this to work you must have `getters` declared in both `EntityA` and `EntityB` class, as well as a `default (empty)` constructor. \r\n\r\n```java\r\nimport com.fasterxml.jackson.databind.DeserializationFeature;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\nimport java.util.Objects;\r\nimport java.util.Optional;\r\nimport java.util.stream.Collectors;\r\n```\r\n\r\n```java\r\n/**\r\n * Function converts list of objects to another list of objects\r\n * which&#39; type is specified by the clazz attribute. Clazz attribute\r\n * must not be null, or it will throw a NullPointerException.\r\n * \r\n * @param list List of target objects\r\n * @param clazz Class to map list objects to\r\n * @param &lt;T&gt; Target class\r\n * @param &lt;F&gt; From class\r\n * @return F.class List converted to T.class List\r\n */\r\npublic static &lt;T, F&gt; List&lt;T&gt; convertList(List&lt;F&gt; list, Class&lt;T&gt; clazz) {\r\n    Objects.requireNonNull(clazz);\r\n    ObjectMapper mapper = new ObjectMapper();\r\n\r\n    // Important: this must be declared so mapper doesn&#39;t throw \r\n    // an exception for all properties which it can&#39;t map.\r\n    mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n\r\n    return Optional.ofNullable(list)\r\n            .orElse(Collections.emptyList())\r\n            .stream()\r\n            .map(obj -&gt; mapper.convertValue(obj, clazz))\r\n            .collect(Collectors.toList());\r\n}\r\n```\r\n\r\n```java\r\npublic void insertListItems(List&lt;EntityA&gt; entityAList) {\r\n    List&lt;EntityB&gt; entityBList = convertList(entityAList, EntityB.class);\r\n    // Continue with table insert operation\r\n}\r\n```\r\n\r\n  [1]: https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/ObjectMapper.html","title":"Convert One Entity to Another Entity in Java","body":"<p>You can use Jackson's <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/ObjectMapper.html\" rel=\"nofollow noreferrer\">ObjectMapper</a> library to achieve this. In order for this to work you must have <code>getters</code> declared in both <code>EntityA</code> and <code>EntityB</code> class, as well as a <code>default (empty)</code> constructor.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.databind.DeserializationFeature;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.Objects;\nimport java.util.Optional;\nimport java.util.stream.Collectors;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Function converts list of objects to another list of objects\n * which' type is specified by the clazz attribute. Clazz attribute\n * must not be null, or it will throw a NullPointerException.\n * \n * @param list List of target objects\n * @param clazz Class to map list objects to\n * @param &lt;T&gt; Target class\n * @param &lt;F&gt; From class\n * @return F.class List converted to T.class List\n */\npublic static &lt;T, F&gt; List&lt;T&gt; convertList(List&lt;F&gt; list, Class&lt;T&gt; clazz) {\n    Objects.requireNonNull(clazz);\n    ObjectMapper mapper = new ObjectMapper();\n\n    // Important: this must be declared so mapper doesn't throw \n    // an exception for all properties which it can't map.\n    mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n\n    return Optional.ofNullable(list)\n            .orElse(Collections.emptyList())\n            .stream()\n            .map(obj -&gt; mapper.convertValue(obj, clazz))\n            .collect(Collectors.toList());\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public void insertListItems(List&lt;EntityA&gt; entityAList) {\n    List&lt;EntityB&gt; entityBList = convertList(entityAList, EntityB.class);\n    // Continue with table insert operation\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24869452,"reputation":19,"user_id":18744134,"display_name":"yuanfei li"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661968911,"creation_date":1650619990,"answer_id":71966532,"question_id":71966015,"body_markdown":"If the purpose is purely to store data, I feel that it is better to write native SQL without converting.","title":"Convert One Entity to Another Entity in Java","body":"<p>If the purpose is purely to store data, I feel that it is better to write native SQL without converting.</p>\n"},{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1682525064,"post_id":76071750,"comment_id":134231015,"body_markdown":"Your answer only contains code. I recommend that you don&#39;t post only code as answer, but also provide an explanation what your code does and how it solves the problem of the question. Answers with an explanation are usually more helpful and of better quality, and are more likely to attract upvotes.","body":"Your answer only contains code. I recommend that you don&#39;t post only code as answer, but also provide an explanation what your code does and how it solves the problem of the question. Answers with an explanation are usually more helpful and of better quality, and are more likely to attract upvotes."}],"tags":[],"owner":{"account_id":28368649,"reputation":1,"user_id":21697604,"display_name":"Krishna Teja Salimeda"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1682415450,"creation_date":1682068912,"answer_id":76071750,"question_id":71966015,"body_markdown":"````Java\r\nObjectMapper objectMapper = new ObjectMapper();\r\n\r\nObjectTwo objectTwo = objectMapper.readValue(objectMapper.writer().writeValueAsString(objectOne), ObjectTwo.class);\r\n````","title":"Convert One Entity to Another Entity in Java","body":"<pre><code>ObjectMapper objectMapper = new ObjectMapper();\n\nObjectTwo objectTwo = objectMapper.readValue(objectMapper.writer().writeValueAsString(objectOne), ObjectTwo.class);\n</code></pre>\n"}],"owner":{"account_id":7720636,"reputation":1532,"user_id":5846981,"accept_rate":100,"display_name":"Som"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2383,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71966409,"answer_count":4,"score":0,"last_activity_date":1682415450,"creation_date":1650617676,"question_id":71966015,"body_markdown":"I have 2 different Entity Class as below :\r\n\r\n\r\n    @Table(name = &quot;tableA&quot;)\r\n    public class EntityA{\r\n    \r\n        @PartitionKey\r\n        @Column(name = &quot;age&quot;)\r\n        int age;\r\n\r\n        @PartitionKey\r\n        @Column(name = &quot;class&quot;)\r\n        int class;\r\n\r\n        @Column(name = &quot;rollNo&quot;)\r\n        int rollNo;\r\n    \r\n    }\r\n    \r\n    @Table(name = &quot;tableB&quot;)\r\n    public class EntityA{\r\n    \r\n        @PartitionKey\r\n        @Column(name = &quot;class&quot;)\r\n        int class;\r\n\r\n        @Column(name = &quot;rollNo&quot;)\r\n        int rollNo;\r\n\r\n        // one column less \r\n    }\r\n\r\n\r\nNow based on some condition I need to persist the data in both the tables.\r\n\r\nIn my service layer I have a List of EntityA :: `List&lt;EntityA&gt;`  which I am passing to the DAOImpl method where I insert the data as below :\r\n\r\n\r\n    public void insertListItems(List&lt;EntityA&gt; entityAList) {\r\n        // here I need to convert the List&lt;EntityA&gt;  to List&lt;EntityB&gt;\r\n        // before table insert operation.\r\n    }\r\n\r\n\r\nHow I can make that conversion where in the EnitityB I have one column less. I don&#39;t want to write boilerplate code for the conversion as my entity class is big in actual. Instead use some library that helps with the mapping.","title":"Convert One Entity to Another Entity in Java","body":"<p>I have 2 different Entity Class as below :</p>\n<pre><code>@Table(name = &quot;tableA&quot;)\npublic class EntityA{\n\n    @PartitionKey\n    @Column(name = &quot;age&quot;)\n    int age;\n\n    @PartitionKey\n    @Column(name = &quot;class&quot;)\n    int class;\n\n    @Column(name = &quot;rollNo&quot;)\n    int rollNo;\n\n}\n\n@Table(name = &quot;tableB&quot;)\npublic class EntityA{\n\n    @PartitionKey\n    @Column(name = &quot;class&quot;)\n    int class;\n\n    @Column(name = &quot;rollNo&quot;)\n    int rollNo;\n\n    // one column less \n}\n</code></pre>\n<p>Now based on some condition I need to persist the data in both the tables.</p>\n<p>In my service layer I have a List of EntityA :: <code>List&lt;EntityA&gt;</code>  which I am passing to the DAOImpl method where I insert the data as below :</p>\n<pre><code>public void insertListItems(List&lt;EntityA&gt; entityAList) {\n    // here I need to convert the List&lt;EntityA&gt;  to List&lt;EntityB&gt;\n    // before table insert operation.\n}\n</code></pre>\n<p>How I can make that conversion where in the EnitityB I have one column less. I don't want to write boilerplate code for the conversion as my entity class is big in actual. Instead use some library that helps with the mapping.</p>\n"},{"tags":["java","junit","junit5","parameterized-unit-test"],"answers":[{"comments":[{"owner":{"account_id":4185213,"reputation":7640,"user_id":3429133,"accept_rate":73,"display_name":"beatngu13"},"score":0,"creation_date":1568225362,"post_id":57894201,"comment_id":102210578,"body_markdown":"I already thought about something similar. One could also extend the parameter type and overwrite `toString()`, but I was hoping for a nicer solution. Nonetheless, valid solution—thanks!","body":"I already thought about something similar. One could also extend the parameter type and overwrite <code>toString()</code>, but I was hoping for a nicer solution. Nonetheless, valid solution—thanks!"},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":1,"creation_date":1597131637,"post_id":57894201,"comment_id":112026191,"body_markdown":"This is not type safe, since the actual parameter could change leaving the strings mismatched, but seems like the only way for now.","body":"This is not type safe, since the actual parameter could change leaving the strings mismatched, but seems like the only way for now."}],"tags":[],"owner":{"display_name":"user11595728"},"comment_count":2,"down_vote_count":1,"up_vote_count":41,"is_accepted":false,"score":40,"last_activity_date":1610109376,"creation_date":1568223304,"answer_id":57894201,"question_id":57892989,"body_markdown":"To indirectly achieve your goal until this is directly supported by JUnit, one can always add an argument to the test that&#39;s the desired string. The customization then needs to be done in the argument provider method. \r\n\r\n    @ParameterizedTest(name = &quot;{index} {1}&quot;)\r\n    @MethodSource(&quot;argumentProvider&quot;)\r\n\tpublic void testSomething(Object someObject, String niceRepresentation) {\r\n\t\t// Test something\r\n\t}\r\n\t\r\n\tprivate static Stream&lt;Arguments&gt; argumentProvider() {\r\n        return Stream.of(\r\n                Arguments.of(new Object(), &quot;Nice 1&quot;),\r\n                Arguments.of(new Object(), &quot;Nice 2&quot;)\r\n        );\r\n    }\r\n\r\nThe drawback is that the unit test is supplied arguments that are not used in the test&#39;s implementation, which can harm clarity, but then it becomes a trade-off with the verbose name in the test report.","title":"Generating display names for @ParameterizedTest in JUnit 5","body":"<p>To indirectly achieve your goal until this is directly supported by JUnit, one can always add an argument to the test that's the desired string. The customization then needs to be done in the argument provider method.</p>\n<pre><code>@ParameterizedTest(name = &quot;{index} {1}&quot;)\n@MethodSource(&quot;argumentProvider&quot;)\npublic void testSomething(Object someObject, String niceRepresentation) {\n    // Test something\n}\n\nprivate static Stream&lt;Arguments&gt; argumentProvider() {\n    return Stream.of(\n            Arguments.of(new Object(), &quot;Nice 1&quot;),\n            Arguments.of(new Object(), &quot;Nice 2&quot;)\n    );\n}\n</code></pre>\n<p>The drawback is that the unit test is supplied arguments that are not used in the test's implementation, which can harm clarity, but then it becomes a trade-off with the verbose name in the test report.</p>\n"},{"comments":[{"owner":{"account_id":19296,"reputation":17862,"user_id":45112,"accept_rate":71,"display_name":"armandino"},"score":0,"creation_date":1646780929,"post_id":66994980,"comment_id":126208021,"body_markdown":"`Named.of()` is a great way to customise the display name. Much cleaner than adding an additional parameter that will not be used.","body":"<code>Named.of()</code> is a great way to customise the display name. Much cleaner than adding an additional parameter that will not be used."},{"owner":{"account_id":6311425,"reputation":133,"user_id":4902840,"display_name":"Th&#225;nh Ma"},"score":1,"creation_date":1646899082,"post_id":66994980,"comment_id":126238533,"body_markdown":"`(name = &quot;{index}: {0}&quot;)` can be skipped when using `Named`","body":"<code>(name = &quot;{index}: {0}&quot;)</code> can be skipped when using <code>Named</code>"},{"owner":{"account_id":4185213,"reputation":7640,"user_id":3429133,"accept_rate":73,"display_name":"beatngu13"},"score":0,"creation_date":1653152783,"post_id":66994980,"comment_id":127783806,"body_markdown":"@Th&#225;nhMa thank you, updated the answer accordingly. Output is slightly different (e.g. &quot;[1] An important file&quot; instead of &quot;1: An important file&quot;) but no information loss.","body":"@Th&#225;nhMa thank you, updated the answer accordingly. Output is slightly different (e.g. &quot;[1] An important file&quot; instead of &quot;1: An important file&quot;) but no information loss."},{"owner":{"account_id":10368026,"reputation":479,"user_id":7646504,"display_name":"Domadin"},"score":1,"creation_date":1682095695,"post_id":66994980,"comment_id":134167155,"body_markdown":"For multiple inputs, use\n`Stream.of(arguments(named(&quot;cool name&quot;, &quot;first input&quot;), &quot;second input&quot;));`\nand\n`@ParameterizedTest(name = &quot;{0}&quot;)`","body":"For multiple inputs, use <code>Stream.of(arguments(named(&quot;cool name&quot;, &quot;first input&quot;), &quot;second input&quot;));</code> and <code>@ParameterizedTest(name = &quot;{0}&quot;)</code>"},{"owner":{"account_id":7407971,"reputation":2389,"user_id":5636313,"accept_rate":76,"display_name":"Farid"},"score":0,"creation_date":1698321147,"post_id":66994980,"comment_id":136392084,"body_markdown":"@Domadin This is the ugliest API design I have ever seen probably.","body":"@Domadin This is the ugliest API design I have ever seen probably."}],"tags":[],"owner":{"account_id":4185213,"reputation":7640,"user_id":3429133,"accept_rate":73,"display_name":"beatngu13"},"comment_count":5,"down_vote_count":0,"up_vote_count":76,"is_accepted":true,"score":76,"last_activity_date":1653152594,"creation_date":1617834796,"answer_id":66994980,"question_id":57892989,"body_markdown":"As of JUnit 5.8.0, there is a `Named&lt;T&gt;` interface as part of the JUnit Jupiter API with &quot;automatic support for injecting the contained payload [the arguments] into parameterized methods directly&quot; (see [issue #2301](https://github.com/junit-team/junit5/issues/2301)). Example:\r\n\r\n```java\r\n@DisplayName(&quot;A parameterized test with named arguments&quot;)\r\n@ParameterizedTest\r\n@MethodSource(&quot;namedArguments&quot;)\r\nvoid testWithNamedArguments(File file) {}\r\n\r\nstatic Stream&lt;Arguments&gt; namedArguments() {\r\n\treturn Stream.of(\r\n\t\tArguments.of(Named.of(&quot;An important file&quot;, new File(&quot;path1&quot;))),\r\n\t\tArguments.of(Named.of(&quot;Another file&quot;, new File(&quot;path2&quot;)))\r\n\t);\r\n}\r\n```\r\n\r\nIf you prefer static imports, you can also go for the corresponding aliases from `Arguments` and `Named`:\r\n\r\n```java\r\narguments(named(&quot;An important file&quot;, new File(&quot;path1&quot;)))\r\n```\r\n\r\nFor more information, please refer to the [corresponding docs](https://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests-display-names).","title":"Generating display names for @ParameterizedTest in JUnit 5","body":"<p>As of JUnit 5.8.0, there is a <code>Named&lt;T&gt;</code> interface as part of the JUnit Jupiter API with &quot;automatic support for injecting the contained payload [the arguments] into parameterized methods directly&quot; (see <a href=\"https://github.com/junit-team/junit5/issues/2301\" rel=\"noreferrer\">issue #2301</a>). Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@DisplayName(&quot;A parameterized test with named arguments&quot;)\n@ParameterizedTest\n@MethodSource(&quot;namedArguments&quot;)\nvoid testWithNamedArguments(File file) {}\n\nstatic Stream&lt;Arguments&gt; namedArguments() {\n    return Stream.of(\n        Arguments.of(Named.of(&quot;An important file&quot;, new File(&quot;path1&quot;))),\n        Arguments.of(Named.of(&quot;Another file&quot;, new File(&quot;path2&quot;)))\n    );\n}\n</code></pre>\n<p>If you prefer static imports, you can also go for the corresponding aliases from <code>Arguments</code> and <code>Named</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>arguments(named(&quot;An important file&quot;, new File(&quot;path1&quot;)))\n</code></pre>\n<p>For more information, please refer to the <a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests-display-names\" rel=\"noreferrer\">corresponding docs</a>.</p>\n"},{"tags":[],"owner":{"account_id":227489,"reputation":709,"user_id":489191,"display_name":"Corgan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649167148,"creation_date":1649167148,"answer_id":71753115,"question_id":57892989,"body_markdown":"just adding a similar problem with surefire reports. \r\n\r\nWasn&#39;t getting the correct test name in the reports after using `@DisplayName` and `@ParameterizedTest(name = &quot;{0}&quot;)`. \r\n\r\nThis issue solved my problem [#1255][1]\r\n\r\n           &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-M4&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;statelessTestsetReporter\r\n                            implementation=&quot;org.apache.maven.plugin.surefire.extensions.junit5.JUnit5Xml30StatelessReporter&quot;&gt;\r\n                        &lt;disable&gt;false&lt;/disable&gt;\r\n                        &lt;version&gt;3.0&lt;/version&gt;\r\n                        &lt;usePhrasedFileName&gt;false&lt;/usePhrasedFileName&gt;\r\n                        &lt;usePhrasedTestSuiteClassName&gt;true&lt;/usePhrasedTestSuiteClassName&gt;\r\n                        &lt;usePhrasedTestCaseClassName&gt;true&lt;/usePhrasedTestCaseClassName&gt;\r\n                        &lt;usePhrasedTestCaseMethodName&gt;true&lt;/usePhrasedTestCaseMethodName&gt;\r\n                    &lt;/statelessTestsetReporter&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n  [1]: https://github.com/pact-foundation/pact-jvm/issues/1255","title":"Generating display names for @ParameterizedTest in JUnit 5","body":"<p>just adding a similar problem with surefire reports.</p>\n<p>Wasn't getting the correct test name in the reports after using <code>@DisplayName</code> and <code>@ParameterizedTest(name = &quot;{0}&quot;)</code>.</p>\n<p>This issue solved my problem <a href=\"https://github.com/pact-foundation/pact-jvm/issues/1255\" rel=\"nofollow noreferrer\">#1255</a></p>\n<pre><code>       &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0-M4&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;statelessTestsetReporter\n                        implementation=&quot;org.apache.maven.plugin.surefire.extensions.junit5.JUnit5Xml30StatelessReporter&quot;&gt;\n                    &lt;disable&gt;false&lt;/disable&gt;\n                    &lt;version&gt;3.0&lt;/version&gt;\n                    &lt;usePhrasedFileName&gt;false&lt;/usePhrasedFileName&gt;\n                    &lt;usePhrasedTestSuiteClassName&gt;true&lt;/usePhrasedTestSuiteClassName&gt;\n                    &lt;usePhrasedTestCaseClassName&gt;true&lt;/usePhrasedTestCaseClassName&gt;\n                    &lt;usePhrasedTestCaseMethodName&gt;true&lt;/usePhrasedTestCaseMethodName&gt;\n                &lt;/statelessTestsetReporter&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10166574,"reputation":4392,"user_id":7508302,"display_name":"Cililing"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682415381,"creation_date":1682415381,"answer_id":76099680,"question_id":57892989,"body_markdown":"For bigger units (that for example require more parameters, interacts with a few services etc.) I usually use `TestCase` record and override the `toString()` method to get a nicely displayed name.\r\n\r\n```java\r\nclass Test {\r\n    \r\n    private record TestCase(\r\n        String testName,\r\n        // params, expected outputs, validators, etc\r\n    ) {\r\n        @Override\r\n        public String toString() {\r\n            return testName;\r\n        }\r\n    }\r\n\r\n    @ParameterizedTest(name = &quot;{index}. {0}&quot;)\r\n    @MethodSource(&quot;testCases_source&quot;)\r\n    void checkTestCase(TestCase testCase) {\r\n        // test method impl\r\n    }\r\n\r\n    public static Stream&lt;Arguments&gt; testCases_source() {\r\n        return TestCases.testCasesStream(\r\n            new TestCase(\r\n                &quot;should return value and invoke the method&quot;, // testName\r\n                InputDto.of(&quot;v1&quot;), // input \r\n                (service) -&gt; { verify(mockk, times(1)).method() }, // verifier\r\n                true // output       \r\n            )\r\n            new TestCase(\r\n                &quot;should return value and invoke the service twice&quot;,\r\n                // ...\r\n            )\r\n            // other test cases \r\n        )\r\n    }\r\n\r\n    // helper from other class to apply some syntax sugar:\r\n    public Stream&lt;Arguments&gt; testCasesStream(TestCase... testCases) {\r\n        return Arrays.stream(testCases).map(Arguments::of); \r\n    }\r\n}\r\n```\r\n\r\nUnfortunately, Java doesn&#39;t have any creation pattern for record so usually I replace the record with `Java Class + Lombok` (or use Kotlin instead).","title":"Generating display names for @ParameterizedTest in JUnit 5","body":"<p>For bigger units (that for example require more parameters, interacts with a few services etc.) I usually use <code>TestCase</code> record and override the <code>toString()</code> method to get a nicely displayed name.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Test {\n    \n    private record TestCase(\n        String testName,\n        // params, expected outputs, validators, etc\n    ) {\n        @Override\n        public String toString() {\n            return testName;\n        }\n    }\n\n    @ParameterizedTest(name = &quot;{index}. {0}&quot;)\n    @MethodSource(&quot;testCases_source&quot;)\n    void checkTestCase(TestCase testCase) {\n        // test method impl\n    }\n\n    public static Stream&lt;Arguments&gt; testCases_source() {\n        return TestCases.testCasesStream(\n            new TestCase(\n                &quot;should return value and invoke the method&quot;, // testName\n                InputDto.of(&quot;v1&quot;), // input \n                (service) -&gt; { verify(mockk, times(1)).method() }, // verifier\n                true // output       \n            )\n            new TestCase(\n                &quot;should return value and invoke the service twice&quot;,\n                // ...\n            )\n            // other test cases \n        )\n    }\n\n    // helper from other class to apply some syntax sugar:\n    public Stream&lt;Arguments&gt; testCasesStream(TestCase... testCases) {\n        return Arrays.stream(testCases).map(Arguments::of); \n    }\n}\n</code></pre>\n<p>Unfortunately, Java doesn't have any creation pattern for record so usually I replace the record with <code>Java Class + Lombok</code> (or use Kotlin instead).</p>\n"}],"owner":{"account_id":4185213,"reputation":7640,"user_id":3429133,"accept_rate":73,"display_name":"beatngu13"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43277,"favorite_count":0,"down_vote_count":0,"up_vote_count":44,"accepted_answer_id":66994980,"answer_count":4,"score":44,"last_activity_date":1682415381,"creation_date":1568217894,"question_id":57892989,"body_markdown":"I have a bunch of `@ParameterizedTest`s that receive parameters from a `@MethodSource` with quite verbose `toString()` results (e.g. Selenium&#39;s `WebDriver`). These are used per default to compose the corresponding display names. From the [JUnit 5 user guide](https://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests-display-names):\r\n\r\n&gt;By default, the display name of a parameterized test invocation contains the invocation index and the String representation of all arguments for that specific invocation. However, you can customize invocation display names via the `name` attribute of the `@ParameterizedTest` annotation […]\r\n\r\nWhile this allows customizing the display names to a certain degree, it seems like I cannot adapt the string representation of the individual parameters. Unfortunately, specifying a generator via [`@DisplayNameGeneration`](https://junit.org/junit5/docs/current/user-guide/#writing-tests-display-name-generator) can only be applied at the class level and doesn&#39;t affect the display name of the parameterized test invocations.\r\n\r\nIs there a way to use a [`DisplayNameGenerator`](https://junit.org/junit5/docs/current/api/org/junit/jupiter/api/DisplayNameGenerator.Standard.html) for `@ParameterizedTest` or to customize the string representation of the given parameters?","title":"Generating display names for @ParameterizedTest in JUnit 5","body":"<p>I have a bunch of <code>@ParameterizedTest</code>s that receive parameters from a <code>@MethodSource</code> with quite verbose <code>toString()</code> results (e.g. Selenium's <code>WebDriver</code>). These are used per default to compose the corresponding display names. From the <a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests-display-names\" rel=\"noreferrer\">JUnit 5 user guide</a>:</p>\n\n<blockquote>\n  <p>By default, the display name of a parameterized test invocation contains the invocation index and the String representation of all arguments for that specific invocation. However, you can customize invocation display names via the <code>name</code> attribute of the <code>@ParameterizedTest</code> annotation […]</p>\n</blockquote>\n\n<p>While this allows customizing the display names to a certain degree, it seems like I cannot adapt the string representation of the individual parameters. Unfortunately, specifying a generator via <a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-display-name-generator\" rel=\"noreferrer\"><code>@DisplayNameGeneration</code></a> can only be applied at the class level and doesn't affect the display name of the parameterized test invocations.</p>\n\n<p>Is there a way to use a <a href=\"https://junit.org/junit5/docs/current/api/org/junit/jupiter/api/DisplayNameGenerator.Standard.html\" rel=\"noreferrer\"><code>DisplayNameGenerator</code></a> for <code>@ParameterizedTest</code> or to customize the string representation of the given parameters?</p>\n"},{"tags":["java","performance","garbage-collection","vectorization","java-19"],"comments":[{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":1,"creation_date":1675549664,"post_id":75329605,"comment_id":132954278,"body_markdown":"All compilers have limitations, especially JIT compilers that need to be very fast and moderate in resource consumption. Would you really expect C2 compiler to deal with infinitely complex expressions? Probably not. So there must be a limit somewhere, and you empirically found the boundary. Why do you call it &quot;unexpected&quot; then?","body":"All compilers have limitations, especially JIT compilers that need to be very fast and moderate in resource consumption. Would you really expect C2 compiler to deal with infinitely complex expressions? Probably not. So there must be a limit somewhere, and you empirically found the boundary. Why do you call it &quot;unexpected&quot; then?"},{"owner":{"account_id":8750959,"reputation":83,"user_id":6544240,"display_name":"Francisco O."},"score":0,"creation_date":1675710080,"post_id":75329605,"comment_id":132983469,"body_markdown":"Perhaps &quot;unexpected&quot; is not the right word. However, as this limit is arbitrary, I would like to understand how to modify it if necessary for my application. None of the flags I&#39;ve found so far in the C2 compiler have changed the behavior.","body":"Perhaps &quot;unexpected&quot; is not the right word. However, as this limit is arbitrary, I would like to understand how to modify it if necessary for my application. None of the flags I&#39;ve found so far in the C2 compiler have changed the behavior."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1675948048,"post_id":75329605,"comment_id":133039796,"body_markdown":"Did you try to raise `-XX:FreqInlineSize`?","body":"Did you try to raise <code>-XX:FreqInlineSize</code>?"}],"owner":{"account_id":8750959,"reputation":83,"user_id":6544240,"display_name":"Francisco O."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682415301,"creation_date":1675377129,"question_id":75329605,"body_markdown":"I have observed odd GC behavior when testing Java 19 `jkd.incubator.vector` and `java.lang.foreign` APIs. Using JMH to avoid OSR compilation artifacts (please let me know if I&#39;m doing this part wrong), I have the following two nearly-identical benchmarks (in an admittedly contrived example):\r\n\r\n```java\r\npackage org.sample;\r\n\r\nimport org.openjdk.jmh.annotations.*;\r\n\r\nimport java.util.concurrent.TimeUnit;\r\n\r\nimport java.nio.ByteOrder;\r\nimport java.lang.foreign.*;\r\nimport java.lang.foreign.ValueLayout;\r\n\r\nimport jdk.incubator.vector.*;\r\n\r\n@OutputTimeUnit(TimeUnit.NANOSECONDS)\r\n@Warmup(iterations = 5, time = 5, timeUnit = TimeUnit.SECONDS)\r\n@Measurement(iterations = 5, time = 5, timeUnit = TimeUnit.SECONDS)\r\n@Fork(1)\r\n@State(Scope.Benchmark)\r\npublic class MyBenchmark {\r\n    static {\r\n        // If I remove this line, behavior does not occur\r\n        System.setProperty(&quot;jdk.incubator.vector.VECTOR_ACCESS_OOB_CHECK&quot;, &quot;0&quot;);\r\n    }\r\n\r\n    final static long MEM_SIZE = Double.BYTES * 4;  // Size of SPECIES_256 vectors\r\n    final static MemorySegment segment = MemorySegment.ofAddress(MemoryAddress.NULL, Long.MAX_VALUE, MemorySession.global());\r\n    final static ByteOrder byteOrder = ByteOrder.nativeOrder();\r\n    final long a = MemorySegment.allocateNative(MEM_SIZE, MEM_SIZE, MemorySession.global()).address().toRawLongValue();\r\n    final long b = MemorySegment.allocateNative(MEM_SIZE, MEM_SIZE, MemorySession.global()).address().toRawLongValue();\r\n\r\n    @Benchmark\r\n    @BenchmarkMode(Mode.Throughput)\r\n    @OperationsPerInvocation(1)\r\n    public double hasNoGCActivity() {\r\n        ByteVector.fromMemorySegment(ByteVector.SPECIES_256, segment, b, byteOrder)\r\n            .reinterpretAsDoubles().reinterpretAsBytes().reinterpretAsDoubles().reinterpretAsBytes()\r\n            .reinterpretAsDoubles().reinterpretAsBytes().reinterpretAsDoubles().reinterpretAsBytes()\r\n            .reinterpretAsDoubles().reinterpretAsBytes().reinterpretAsDoubles().reinterpretAsBytes()\r\n            .reinterpretAsDoubles().reinterpretAsBytes().reinterpretAsDoubles().reinterpretAsBytes()\r\n            .reinterpretAsDoubles().reinterpretAsBytes().reinterpretAsDoubles().reinterpretAsBytes()\r\n            .reinterpretAsDoubles().reinterpretAsBytes().reinterpretAsDoubles().reinterpretAsBytes()\r\n            .reinterpretAsDoubles().reinterpretAsBytes().reinterpretAsDoubles().reinterpretAsBytes()\r\n            .reinterpretAsDoubles().reinterpretAsBytes().reinterpretAsDoubles().reinterpretAsBytes()\r\n            .reinterpretAsDoubles().reinterpretAsBytes().reinterpretAsDoubles().reinterpretAsBytes()\r\n            .reinterpretAsDoubles().reinterpretAsBytes().reinterpretAsDoubles().reinterpretAsBytes()\r\n            .reinterpretAsDoubles().reinterpretAsBytes().reinterpretAsDoubles()\r\n            .intoMemorySegment(segment, a, byteOrder);\r\n        return MemoryAddress.NULL.get(ValueLayout.JAVA_DOUBLE, a);\r\n    }\r\n\r\n    @Benchmark\r\n    @BenchmarkMode(Mode.Throughput)\r\n    @OperationsPerInvocation(1)\r\n    public double hasSomeGCActivity() {\r\n        ByteVector.fromMemorySegment(ByteVector.SPECIES_256, segment, b, byteOrder)\r\n            .reinterpretAsDoubles().reinterpretAsBytes().reinterpretAsDoubles().reinterpretAsBytes()\r\n            .reinterpretAsDoubles().reinterpretAsBytes().reinterpretAsDoubles().reinterpretAsBytes()\r\n            .reinterpretAsDoubles().reinterpretAsBytes().reinterpretAsDoubles().reinterpretAsBytes()\r\n            .reinterpretAsDoubles().reinterpretAsBytes().reinterpretAsDoubles().reinterpretAsBytes()\r\n            .reinterpretAsDoubles().reinterpretAsBytes().reinterpretAsDoubles().reinterpretAsBytes()\r\n            .reinterpretAsDoubles().reinterpretAsBytes().reinterpretAsDoubles().reinterpretAsBytes()\r\n            .reinterpretAsDoubles().reinterpretAsBytes().reinterpretAsDoubles().reinterpretAsBytes()\r\n            .reinterpretAsDoubles().reinterpretAsBytes().reinterpretAsDoubles().reinterpretAsBytes()\r\n            .reinterpretAsDoubles().reinterpretAsBytes().reinterpretAsDoubles().reinterpretAsBytes()\r\n            .reinterpretAsDoubles().reinterpretAsBytes().reinterpretAsDoubles().reinterpretAsBytes()\r\n            .reinterpretAsDoubles().reinterpretAsBytes().reinterpretAsDoubles().reinterpretAsBytes()\r\n            .intoMemorySegment(segment, a, byteOrder);\r\n        return MemoryAddress.NULL.get(ValueLayout.JAVA_DOUBLE, a);\r\n    }\r\n}\r\n```\r\nwhich requires\r\n```xml\r\n&lt;compilerArgs&gt;\r\n    &lt;arg&gt;--enable-preview&lt;/arg&gt;\r\n    &lt;arg&gt;--add-modules&lt;/arg&gt;\r\n    &lt;arg&gt;jdk.incubator.vector&lt;/arg&gt;\r\n&lt;/compilerArgs&gt;\r\n```\r\nand `&lt;javac.target&gt;19&lt;/javac.target&gt;`\r\nin `pom.xml` and can be run with `java --add-opens java.base/jdk.internal.misc=ALL-UNNAMED --enable-preview --enable-native-access=ALL-UNNAMED --add-modules jdk.incubator.vector -verbose:gc -jar ./target/benchmarks.jar`.\r\n\r\nThe two benchmarks are practically identical, except for the second having one more method call in the chain. Byte reinterpretation should be a no-op at the ASM level, so I would expect these two to execute with identical performance, no matter how many I chain (I alternate between `Byte` and `Double` because the library is smart enough to do nothing if cast to the same type as the vector currently is). They do, in fact, have identical performance under normal circumstances, but if I disable bounds-checking for memory accesses through the `{from, into}MemorySegment` methods with the system property at the top, the second benchmark becomes much slower (one order of magnitude).\r\n\r\nThe output from `-verbose:gc` indicates that there is significant, repeated GC activity occurring in the second method after one or two warmup iterations, which factors into the slowdown. Looking at the generated assembly (not of the OSR compilation), it seems that while in both cases the redundant reinterpretations are optimized out, in the second one there are instructions for setting up a Java `double[]` somewhere in memory, at an address that comes from outside of the native method but is presumably to a new allocation.\r\n\r\nI would like to know if anyone has any ideas on what is going on here... is there some optimization that is inhibited by the extra `invokevirtual` bytecode, which means that some allocations don&#39;t get elided? Thank you.\r\n\r\nEdit: reading the explanation of allocation removal in the C2 compiler [here](https://wiki.openjdk.org/display/HotSpot/EscapeAnalysis), it seems to me that this might be related, perhaps by complicating the analysis past some arbitrary limit. However, I have played around with the optimizer settings in a debug build of JDK19 (e.g. incrementing the allowed time for escape analysis [`-XX:EscapeAnalysisTimeout=60`]) with no change in program behavior. In fact, using `-XX:+PrintEscapeAnalysis` it doesn&#39;t look like the benchmark methods themselves are ever subjected to escape analysis.","title":"Unexpected Garbage Collector activity when disabling vector access bounds checking","body":"<p>I have observed odd GC behavior when testing Java 19 <code>jkd.incubator.vector</code> and <code>java.lang.foreign</code> APIs. Using JMH to avoid OSR compilation artifacts (please let me know if I'm doing this part wrong), I have the following two nearly-identical benchmarks (in an admittedly contrived example):</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.sample;\n\nimport org.openjdk.jmh.annotations.*;\n\nimport java.util.concurrent.TimeUnit;\n\nimport java.nio.ByteOrder;\nimport java.lang.foreign.*;\nimport java.lang.foreign.ValueLayout;\n\nimport jdk.incubator.vector.*;\n\n@OutputTimeUnit(TimeUnit.NANOSECONDS)\n@Warmup(iterations = 5, time = 5, timeUnit = TimeUnit.SECONDS)\n@Measurement(iterations = 5, time = 5, timeUnit = TimeUnit.SECONDS)\n@Fork(1)\n@State(Scope.Benchmark)\npublic class MyBenchmark {\n    static {\n        // If I remove this line, behavior does not occur\n        System.setProperty(&quot;jdk.incubator.vector.VECTOR_ACCESS_OOB_CHECK&quot;, &quot;0&quot;);\n    }\n\n    final static long MEM_SIZE = Double.BYTES * 4;  // Size of SPECIES_256 vectors\n    final static MemorySegment segment = MemorySegment.ofAddress(MemoryAddress.NULL, Long.MAX_VALUE, MemorySession.global());\n    final static ByteOrder byteOrder = ByteOrder.nativeOrder();\n    final long a = MemorySegment.allocateNative(MEM_SIZE, MEM_SIZE, MemorySession.global()).address().toRawLongValue();\n    final long b = MemorySegment.allocateNative(MEM_SIZE, MEM_SIZE, MemorySession.global()).address().toRawLongValue();\n\n    @Benchmark\n    @BenchmarkMode(Mode.Throughput)\n    @OperationsPerInvocation(1)\n    public double hasNoGCActivity() {\n        ByteVector.fromMemorySegment(ByteVector.SPECIES_256, segment, b, byteOrder)\n            .reinterpretAsDoubles().reinterpretAsBytes().reinterpretAsDoubles().reinterpretAsBytes()\n            .reinterpretAsDoubles().reinterpretAsBytes().reinterpretAsDoubles().reinterpretAsBytes()\n            .reinterpretAsDoubles().reinterpretAsBytes().reinterpretAsDoubles().reinterpretAsBytes()\n            .reinterpretAsDoubles().reinterpretAsBytes().reinterpretAsDoubles().reinterpretAsBytes()\n            .reinterpretAsDoubles().reinterpretAsBytes().reinterpretAsDoubles().reinterpretAsBytes()\n            .reinterpretAsDoubles().reinterpretAsBytes().reinterpretAsDoubles().reinterpretAsBytes()\n            .reinterpretAsDoubles().reinterpretAsBytes().reinterpretAsDoubles().reinterpretAsBytes()\n            .reinterpretAsDoubles().reinterpretAsBytes().reinterpretAsDoubles().reinterpretAsBytes()\n            .reinterpretAsDoubles().reinterpretAsBytes().reinterpretAsDoubles().reinterpretAsBytes()\n            .reinterpretAsDoubles().reinterpretAsBytes().reinterpretAsDoubles().reinterpretAsBytes()\n            .reinterpretAsDoubles().reinterpretAsBytes().reinterpretAsDoubles()\n            .intoMemorySegment(segment, a, byteOrder);\n        return MemoryAddress.NULL.get(ValueLayout.JAVA_DOUBLE, a);\n    }\n\n    @Benchmark\n    @BenchmarkMode(Mode.Throughput)\n    @OperationsPerInvocation(1)\n    public double hasSomeGCActivity() {\n        ByteVector.fromMemorySegment(ByteVector.SPECIES_256, segment, b, byteOrder)\n            .reinterpretAsDoubles().reinterpretAsBytes().reinterpretAsDoubles().reinterpretAsBytes()\n            .reinterpretAsDoubles().reinterpretAsBytes().reinterpretAsDoubles().reinterpretAsBytes()\n            .reinterpretAsDoubles().reinterpretAsBytes().reinterpretAsDoubles().reinterpretAsBytes()\n            .reinterpretAsDoubles().reinterpretAsBytes().reinterpretAsDoubles().reinterpretAsBytes()\n            .reinterpretAsDoubles().reinterpretAsBytes().reinterpretAsDoubles().reinterpretAsBytes()\n            .reinterpretAsDoubles().reinterpretAsBytes().reinterpretAsDoubles().reinterpretAsBytes()\n            .reinterpretAsDoubles().reinterpretAsBytes().reinterpretAsDoubles().reinterpretAsBytes()\n            .reinterpretAsDoubles().reinterpretAsBytes().reinterpretAsDoubles().reinterpretAsBytes()\n            .reinterpretAsDoubles().reinterpretAsBytes().reinterpretAsDoubles().reinterpretAsBytes()\n            .reinterpretAsDoubles().reinterpretAsBytes().reinterpretAsDoubles().reinterpretAsBytes()\n            .reinterpretAsDoubles().reinterpretAsBytes().reinterpretAsDoubles().reinterpretAsBytes()\n            .intoMemorySegment(segment, a, byteOrder);\n        return MemoryAddress.NULL.get(ValueLayout.JAVA_DOUBLE, a);\n    }\n}\n</code></pre>\n<p>which requires</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;compilerArgs&gt;\n    &lt;arg&gt;--enable-preview&lt;/arg&gt;\n    &lt;arg&gt;--add-modules&lt;/arg&gt;\n    &lt;arg&gt;jdk.incubator.vector&lt;/arg&gt;\n&lt;/compilerArgs&gt;\n</code></pre>\n<p>and <code>&lt;javac.target&gt;19&lt;/javac.target&gt;</code>\nin <code>pom.xml</code> and can be run with <code>java --add-opens java.base/jdk.internal.misc=ALL-UNNAMED --enable-preview --enable-native-access=ALL-UNNAMED --add-modules jdk.incubator.vector -verbose:gc -jar ./target/benchmarks.jar</code>.</p>\n<p>The two benchmarks are practically identical, except for the second having one more method call in the chain. Byte reinterpretation should be a no-op at the ASM level, so I would expect these two to execute with identical performance, no matter how many I chain (I alternate between <code>Byte</code> and <code>Double</code> because the library is smart enough to do nothing if cast to the same type as the vector currently is). They do, in fact, have identical performance under normal circumstances, but if I disable bounds-checking for memory accesses through the <code>{from, into}MemorySegment</code> methods with the system property at the top, the second benchmark becomes much slower (one order of magnitude).</p>\n<p>The output from <code>-verbose:gc</code> indicates that there is significant, repeated GC activity occurring in the second method after one or two warmup iterations, which factors into the slowdown. Looking at the generated assembly (not of the OSR compilation), it seems that while in both cases the redundant reinterpretations are optimized out, in the second one there are instructions for setting up a Java <code>double[]</code> somewhere in memory, at an address that comes from outside of the native method but is presumably to a new allocation.</p>\n<p>I would like to know if anyone has any ideas on what is going on here... is there some optimization that is inhibited by the extra <code>invokevirtual</code> bytecode, which means that some allocations don't get elided? Thank you.</p>\n<p>Edit: reading the explanation of allocation removal in the C2 compiler <a href=\"https://wiki.openjdk.org/display/HotSpot/EscapeAnalysis\" rel=\"nofollow noreferrer\">here</a>, it seems to me that this might be related, perhaps by complicating the analysis past some arbitrary limit. However, I have played around with the optimizer settings in a debug build of JDK19 (e.g. incrementing the allowed time for escape analysis [<code>-XX:EscapeAnalysisTimeout=60</code>]) with no change in program behavior. In fact, using <code>-XX:+PrintEscapeAnalysis</code> it doesn't look like the benchmark methods themselves are ever subjected to escape analysis.</p>\n"},{"tags":["java","spring-cloud","netflix-eureka","service-discovery"],"comments":[{"owner":{"account_id":28353756,"reputation":21,"user_id":21684828,"display_name":"Luiz Cardoso"},"score":0,"creation_date":1681936915,"post_id":76058646,"comment_id":134139175,"body_markdown":"Another point is that I don&#39;t need the port on which my service is registered, since Elastic Beanstalk requires that the default ports of my applications are 5000.","body":"Another point is that I don&#39;t need the port on which my service is registered, since Elastic Beanstalk requires that the default ports of my applications are 5000."},{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1681941463,"post_id":76058646,"comment_id":134139910,"body_markdown":"spring cloud makes a guess as to what host it should register with. If you don&#39;t want it to guess there are settings (I&#39;m on mobile) you been set. The port comes from server.port by default","body":"spring cloud makes a guess as to what host it should register with. If you don&#39;t want it to guess there are settings (I&#39;m on mobile) you been set. The port comes from server.port by default"}],"owner":{"account_id":28353756,"reputation":21,"user_id":21684828,"display_name":"Luiz Cardoso"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682415277,"creation_date":1681936848,"question_id":76058646,"body_markdown":"I have two services developed with **Spring Boot** deployed on **AWS Elastic Beanstalk**, when I access the url to view the services that are registered on my server using **Eureka Service Discovery**, my service is registered but it does not register with the domain and is registering with the IP address which does not help in service discovery.\r\n\r\nBelow is the status and url of the discovery of the service, which I believe is of no use to me because that way I can&#39;t hit the service to make requests.\r\n\r\n```\r\nENTITY-MANAGEMENT\tn/a (1)\t(1)\tUP (1) - ip-172-31-19-191.sa-east-1.compute.internal:entity-management:5000\r\n```\r\n\r\nI need it to be registered with the domain of my service and not with the IP address as above, below I leave an example of how it should look, presenting the domain of my service because that way I can make requests to that address.\r\n\r\n```\r\nENTITY-MANAGEMENT\tn/a (1)\t(1)\tUP (1) - fullytask-entity-manager.sa-east-1.elasticbeanstalk.com:entity-management:5000\r\n```\r\n\r\n\r\nI hope that an address appears that I can make requests from other applications because that&#39;s what I&#39;m registering my services for using Eureka Service Discovery.\r\n\r\nFor me to know which services are registered I need to go to the AWS console and I don&#39;t want that.\r\n\r\n**Is there any setting for this to change?**","title":"How to change to register in eureka the domain address instead of the ip","body":"<p>I have two services developed with <strong>Spring Boot</strong> deployed on <strong>AWS Elastic Beanstalk</strong>, when I access the url to view the services that are registered on my server using <strong>Eureka Service Discovery</strong>, my service is registered but it does not register with the domain and is registering with the IP address which does not help in service discovery.</p>\n<p>Below is the status and url of the discovery of the service, which I believe is of no use to me because that way I can't hit the service to make requests.</p>\n<pre><code>ENTITY-MANAGEMENT   n/a (1) (1) UP (1) - ip-172-31-19-191.sa-east-1.compute.internal:entity-management:5000\n</code></pre>\n<p>I need it to be registered with the domain of my service and not with the IP address as above, below I leave an example of how it should look, presenting the domain of my service because that way I can make requests to that address.</p>\n<pre><code>ENTITY-MANAGEMENT   n/a (1) (1) UP (1) - fullytask-entity-manager.sa-east-1.elasticbeanstalk.com:entity-management:5000\n</code></pre>\n<p>I hope that an address appears that I can make requests from other applications because that's what I'm registering my services for using Eureka Service Discovery.</p>\n<p>For me to know which services are registered I need to go to the AWS console and I don't want that.</p>\n<p><strong>Is there any setting for this to change?</strong></p>\n"},{"tags":["java","jpa","eclipselink","derby","java-19"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1677668336,"post_id":75601906,"comment_id":133381881,"body_markdown":"Maybe worth getting in touch with the author","body":"Maybe worth getting in touch with the author"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1677681767,"post_id":75601906,"comment_id":133386125,"body_markdown":"Try EclipseLink version &gt; 4.0 where they added Jakarta EE and JDK 11+17 support. You cannot just take a java 8 project and run in it on a JDK 19 as a lot has changed in java.","body":"Try EclipseLink version &gt; 4.0 where they added Jakarta EE and JDK 11+17 support. You cannot just take a java 8 project and run in it on a JDK 19 as a lot has changed in java."},{"owner":{"account_id":476146,"reputation":1754,"user_id":886895,"accept_rate":67,"display_name":"simgineer"},"score":0,"creation_date":1679778973,"post_id":75601906,"comment_id":133782828,"body_markdown":"@Chris would you have any more advice on other libraries I should update? Added some more info in the description.","body":"@Chris would you have any more advice on other libraries I should update? Added some more info in the description."}],"answers":[{"tags":[],"owner":{"account_id":28337510,"reputation":11,"user_id":21671038,"display_name":"mark pp"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681907200,"creation_date":1681907081,"answer_id":76054490,"question_id":75601906,"body_markdown":"I must thank u at the first, because I got the idea from your question. And in my case, I used Guice too. so,I modified Guice persist to adopt to jakarta and use these two dependences blow, then my problem is solved:\r\n \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.datanucleus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jakarta.persistence&lt;/artifactId&gt;\r\n      &lt;version&gt;3.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n      &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\r\n      &lt;version&gt;4.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"EclipseLink and Derby with Java 19","body":"<p>I must thank u at the first, because I got the idea from your question. And in my case, I used Guice too. so,I modified Guice persist to adopt to jakarta and use these two dependences blow, then my problem is solved:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.datanucleus&lt;/groupId&gt;\n  &lt;artifactId&gt;jakarta.persistence&lt;/artifactId&gt;\n  &lt;version&gt;3.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n  &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\n  &lt;version&gt;4.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":476146,"reputation":1754,"user_id":886895,"accept_rate":67,"display_name":"simgineer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":424,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682415259,"creation_date":1677663668,"question_id":75601906,"body_markdown":"This project used to work in Java 8 and NetBeans 8, but after upgrading my project to use Java 19 with NetBeans 16 I now see this error:\r\n\r\n```none\r\nException in thread &quot;AWT-EventQueue-0&quot; Local Exception Stack: \r\nException [EclipseLink-30005] (Eclipse Persistence Services - 2.6.4.v20160829-44060b6): org.eclipse.persistence.exceptions.PersistenceUnitLoadingException\r\nException Description: An exception was thrown while searching for persistence archives with ClassLoader: jdk.internal.loader.ClassLoaders$AppClassLoader@c387f44\r\nInternal Exception: java.lang.NullPointerException: Cannot invoke &quot;org.eclipse.persistence.internal.sessions.AbstractSession.getName()&quot; because &quot;this.session&quot; is null\r\n\tat org.eclipse.persistence.exceptions.PersistenceUnitLoadingException.exceptionSearchingForPersistenceResources(PersistenceUnitLoadingException.java:127)\r\n\tat org.eclipse.persistence.jpa.PersistenceProvider.createEntityManagerFactoryImpl(PersistenceProvider.java:115)\r\n\tat org.eclipse.persistence.jpa.PersistenceProvider.createEntityManagerFactory(PersistenceProvider.java:188)\r\n\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:79)\r\n\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\r\n\tat jdiskmark.EM.getEntityManager(EM.java:22)\r\n\tat jdiskmark.DiskRun.findAll(DiskRun.java:146)\r\n\tat jdiskmark.App.loadSavedRuns(App.java:219)\r\n\tat jdiskmark.App.init(App.java:124)\r\n\tat java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;org.eclipse.persistence.internal.sessions.AbstractSession.getName()&quot; because &quot;this.session&quot; is null\r\n\tat org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.predeploy(EntityManagerSetupImpl.java:2027)\r\n\tat org.eclipse.persistence.internal.jpa.deployment.JPAInitializer.callPredeploy(JPAInitializer.java:100)\r\n\tat org.eclipse.persistence.jpa.PersistenceProvider.createEntityManagerFactoryImpl(PersistenceProvider.java:104)\r\n```\r\n\r\nHere is the throwing line:\r\n```java\r\nEntityManagerFactory emf = Persistence.createEntityManagerFactory(&quot;jDiskMarkPU&quot;);\r\nem = emf.createEntityManager();\r\n```\r\n\r\nMy persistence.xml\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;persistence version=&quot;2.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\r\n  &lt;persistence-unit name=&quot;jDiskMarkPU&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n    &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\r\n    &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\r\n    &lt;properties&gt;\r\n      &lt;property name=&quot;eclipselink.logging.level&quot; value=&quot;FINE&quot;/&gt;\r\n      &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:derby:derbyDB;create=true&quot;/&gt;\r\n      &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.apache.derby.jdbc.EmbeddedDriver&quot;/&gt;\r\n      &lt;property name=&quot;javax.persistence.schema-generation.database.action&quot; value=&quot;create&quot;/&gt;\r\n      &lt;property name=&quot;eclipselink.ddl-generation&quot; value=&quot;create-or-extend-tables&quot;/&gt;\r\n    &lt;/properties&gt;\r\n  &lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n```\r\n\r\njavax.persistence_2.1.1v201509150925.jar\r\n\r\nproject source is here:\r\nhttps://gitlab.com/jamesmarkchan/jDiskMark\r\n\r\nI swapped in v4.0 of eclipselink.jar and that appears to resolve the null pointer thanks to hint from @Chris.\r\n\r\nCurrently seeing \r\n\r\n```none\r\nException in thread &quot;AWT-EventQueue-0&quot; javax.persistence.PersistenceException: No Persistence provider for EntityManager named jDiskMarkPU\r\n\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:85)\r\n\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\r\n\tat jdiskmark.EM.getEntityManager(EM.java:22)\r\n\tat jdiskmark.DiskRun.findAll(DiskRun.java:146)\r\n\tat jdiskmark.App.loadSavedRuns(App.java:219)\r\n\tat jdiskmark.App.init(App.java:124)\r\n\tat java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\r\n```\r\n\r\nI&#39;m not sure if I need to update my META-INF/persistence.xml definition or if the libraries need to be upgraded. In the EclipseLink 4.0.1 [download][1] there are some libraries that I tried linking, but it did not resolve my PU issue.\r\n\r\nThe former libraries I had which I believe I need to replace\r\n\r\n 1. javax.persistence_2.1.1.v201509150925.jar\r\n 2. org.eclipse.persistence.jpa.modelgen_2.6.4.v20160829-44060b6.jar\r\n\r\nThese are the libraries I tried linking in place of them.\r\n\r\n 1. jakarta.annotation-api.jar\r\n 2. jakarta.persistence-api.jar\r\n 3. org.eclipse.persistence.jpa.modelgen.processor.jar\r\n 4. org.eclipse.persistence.jpars.jar\r\n\r\nBut it seems that javax.persistence_2.1.1 is not substituted by the libraries provided by the EclipseLink package so I&#39;m not sure which library I should use to replace it or am I mainly just needing to update my persistence.xml definition?\r\n\r\n  [1]: https://www.eclipse.org/downloads/download.php?file=/rt/eclipselink/releases/4.0.1/eclipselink-4.0.1.v20230222-d91fc33f4c.zip","title":"EclipseLink and Derby with Java 19","body":"<p>This project used to work in Java 8 and NetBeans 8, but after upgrading my project to use Java 19 with NetBeans 16 I now see this error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;AWT-EventQueue-0&quot; Local Exception Stack: \nException [EclipseLink-30005] (Eclipse Persistence Services - 2.6.4.v20160829-44060b6): org.eclipse.persistence.exceptions.PersistenceUnitLoadingException\nException Description: An exception was thrown while searching for persistence archives with ClassLoader: jdk.internal.loader.ClassLoaders$AppClassLoader@c387f44\nInternal Exception: java.lang.NullPointerException: Cannot invoke &quot;org.eclipse.persistence.internal.sessions.AbstractSession.getName()&quot; because &quot;this.session&quot; is null\n    at org.eclipse.persistence.exceptions.PersistenceUnitLoadingException.exceptionSearchingForPersistenceResources(PersistenceUnitLoadingException.java:127)\n    at org.eclipse.persistence.jpa.PersistenceProvider.createEntityManagerFactoryImpl(PersistenceProvider.java:115)\n    at org.eclipse.persistence.jpa.PersistenceProvider.createEntityManagerFactory(PersistenceProvider.java:188)\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:79)\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\n    at jdiskmark.EM.getEntityManager(EM.java:22)\n    at jdiskmark.DiskRun.findAll(DiskRun.java:146)\n    at jdiskmark.App.loadSavedRuns(App.java:219)\n    at jdiskmark.App.init(App.java:124)\n    at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;org.eclipse.persistence.internal.sessions.AbstractSession.getName()&quot; because &quot;this.session&quot; is null\n    at org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.predeploy(EntityManagerSetupImpl.java:2027)\n    at org.eclipse.persistence.internal.jpa.deployment.JPAInitializer.callPredeploy(JPAInitializer.java:100)\n    at org.eclipse.persistence.jpa.PersistenceProvider.createEntityManagerFactoryImpl(PersistenceProvider.java:104)\n</code></pre>\n<p>Here is the throwing line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>EntityManagerFactory emf = Persistence.createEntityManagerFactory(&quot;jDiskMarkPU&quot;);\nem = emf.createEntityManager();\n</code></pre>\n<p>My persistence.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persistence version=&quot;2.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\n  &lt;persistence-unit name=&quot;jDiskMarkPU&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n    &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\n    &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\n    &lt;properties&gt;\n      &lt;property name=&quot;eclipselink.logging.level&quot; value=&quot;FINE&quot;/&gt;\n      &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:derby:derbyDB;create=true&quot;/&gt;\n      &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.apache.derby.jdbc.EmbeddedDriver&quot;/&gt;\n      &lt;property name=&quot;javax.persistence.schema-generation.database.action&quot; value=&quot;create&quot;/&gt;\n      &lt;property name=&quot;eclipselink.ddl-generation&quot; value=&quot;create-or-extend-tables&quot;/&gt;\n    &lt;/properties&gt;\n  &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p>javax.persistence_2.1.1v201509150925.jar</p>\n<p>project source is here:\n<a href=\"https://gitlab.com/jamesmarkchan/jDiskMark\" rel=\"nofollow noreferrer\">https://gitlab.com/jamesmarkchan/jDiskMark</a></p>\n<p>I swapped in v4.0 of eclipselink.jar and that appears to resolve the null pointer thanks to hint from @Chris.</p>\n<p>Currently seeing</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;AWT-EventQueue-0&quot; javax.persistence.PersistenceException: No Persistence provider for EntityManager named jDiskMarkPU\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:85)\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\n    at jdiskmark.EM.getEntityManager(EM.java:22)\n    at jdiskmark.DiskRun.findAll(DiskRun.java:146)\n    at jdiskmark.App.loadSavedRuns(App.java:219)\n    at jdiskmark.App.init(App.java:124)\n    at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\n</code></pre>\n<p>I'm not sure if I need to update my META-INF/persistence.xml definition or if the libraries need to be upgraded. In the EclipseLink 4.0.1 <a href=\"https://www.eclipse.org/downloads/download.php?file=/rt/eclipselink/releases/4.0.1/eclipselink-4.0.1.v20230222-d91fc33f4c.zip\" rel=\"nofollow noreferrer\">download</a> there are some libraries that I tried linking, but it did not resolve my PU issue.</p>\n<p>The former libraries I had which I believe I need to replace</p>\n<ol>\n<li>javax.persistence_2.1.1.v201509150925.jar</li>\n<li>org.eclipse.persistence.jpa.modelgen_2.6.4.v20160829-44060b6.jar</li>\n</ol>\n<p>These are the libraries I tried linking in place of them.</p>\n<ol>\n<li>jakarta.annotation-api.jar</li>\n<li>jakarta.persistence-api.jar</li>\n<li>org.eclipse.persistence.jpa.modelgen.processor.jar</li>\n<li>org.eclipse.persistence.jpars.jar</li>\n</ol>\n<p>But it seems that javax.persistence_2.1.1 is not substituted by the libraries provided by the EclipseLink package so I'm not sure which library I should use to replace it or am I mainly just needing to update my persistence.xml definition?</p>\n"},{"tags":["java","android-studio","android-ide","java-19"],"answers":[{"tags":[],"owner":{"account_id":15211035,"reputation":196,"user_id":10975845,"display_name":"S. B."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678976343,"creation_date":1678976343,"answer_id":75757534,"question_id":75722444,"body_markdown":"For some reason, it started working automatically after a few days. If anyone is facing the same error, you can raise an issue here, you will get help here:\r\n\r\n    https://issuetracker.google.com/issues/273098792","title":"Android Studio is not launching after installation","body":"<p>For some reason, it started working automatically after a few days. If anyone is facing the same error, you can raise an issue here, you will get help here:</p>\n<pre><code>https://issuetracker.google.com/issues/273098792\n</code></pre>\n"}],"owner":{"account_id":15211035,"reputation":196,"user_id":10975845,"display_name":"S. B."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":439,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75757534,"answer_count":1,"score":0,"last_activity_date":1682414986,"creation_date":1678713707,"question_id":75722444,"body_markdown":"I had android studio arctic fox installed earlier but suddenly one day it did stopped launching. It is visible in task manager but the ide is not starting. I did explore all the questions related to it and tried all these methods:\r\n\r\n 1. Installed latest version of JDK (jdk-19)\r\n 2. Installed latest version of JRE (jre1.8.0_361)\r\n 3. Added JAVA_HOME and JDK_HOME in system path variables.\r\n 4. Re-installed the latest version of Android studio (Android Studio Electric Eel 2022.1.1)\r\n\r\nNone of the above solutions are working for me. I even tried to run *studio.bat* from *C:\\Program Files\\Android\\Android Studio\\bin* but I am getting the below error in the console:\r\n\r\n\r\n    2023-03-13 18:48:43,291 [  11466]   WARN - #c.i.d.PerformanceWatcherImpl - UI was frozen for 8276ms, details saved to C:\\Users\\INTEL\\AppData\\Local\\Google\\AndroidStudio2022.1\\log\\threadDumps-freeze-20230313-184839-AI-221.6008.13.2211.9619390-8sec\r\n    2023-03-13 18:48:43,838 [  12013]   WARN - #c.i.u.j.JBCefApp - JCEF runtime library is not a JBR module (Use JBR bundled with the IDE)\r\n    2023-03-13 18:48:46,715 [  14890]   WARN - #c.a.t.i.d.WindowsPerformanceHintsChecker - Error retrieving list of excluded patterns\r\n    java.io.IOException: Error code 2: The system cannot find the file specified.\r\n            at com.android.tools.idea.diagnostics.windows.WindowsDefenderRegistryStatusProvider.readExcludedPaths(WindowsDefenderRegistryStatusProvider.java:63)\r\n            at com.android.tools.idea.diagnostics.windows.WindowsDefenderRegistryStatusProvider.getExcludedPaths(WindowsDefenderRegistryStatusProvider.java:51)\r\n            at com.android.tools.idea.diagnostics.WindowsPerformanceHintsChecker.getExcludedPatterns(WindowsPerformanceHintsChecker.java:243)\r\n            at com.android.tools.idea.diagnostics.WindowsPerformanceHintsChecker.checkWindowsDefender(WindowsPerformanceHintsChecker.java:129)\r\n            at com.android.tools.idea.diagnostics.WindowsPerformanceHintsChecker$1.lambda$projectOpened$0(WindowsPerformanceHintsChecker.java:92)\r\n            at com.intellij.openapi.application.impl.ApplicationImpl$1.run(ApplicationImpl.java:295)\r\n            at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n            at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n            at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n            at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n            at java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1$1.run(Executors.java:668)\r\n            at java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1$1.run(Executors.java:665)\r\n            at java.base/java.security.AccessController.doPrivileged(Native Method)\r\n            at java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1.run(Executors.java:665)\r\n            at java.base/java.lang.Thread.run(Thread.java:829)\r\n    Caused by: com.sun.jna.platform.win32.Win32Exception: The system cannot find the file specified.\r\n            at com.sun.jna.platform.win32.Advapi32Util.registryGetValues(Advapi32Util.java:2268)\r\n            at com.sun.jna.platform.win32.Advapi32Util.registryGetValues(Advapi32Util.java:2247)\r\n            at com.android.tools.idea.diagnostics.windows.WindowsDefenderRegistryStatusProvider.readExcludedPaths(WindowsDefenderRegistryStatusProvider.java:58)\r\n            ... 14 more\r\n    2023-03-13 18:48:54,617 [  22792]   WARN - #c.i.s.ComponentManagerImpl - Do not use constructor injection (requestorClass=com.android.tools.idea.gradle.variant.view.BuildVariantView)\r\n    2023-03-13 18:48:54,954 [  23129]   WARN - #c.i.BundleBase - ignore extra mnemonic in https://kotlinlang.org/lp/mobile/?utm_medium=link&amp;utm_source=product&amp;utm_campaign=ASKMMW&amp;utm_content={0}\r\n    2023-03-13 18:48:54,956 [  23131]   WARN - #c.i.BundleBase - ignore extra mnemonic in https://kotlinlang.org/lp/mobile/?utm_medium=link&amp;utm_source=product&amp;utm_campaign=ASKMMW&amp;utm_content={0}\r\n    2023-03-13 18:48:54,959 [  23134]   WARN - #c.i.BundleBase - ignore extra mnemonic in https://kotlinlang.org/lp/mobile/?utm_medium=link&amp;utm_source=product&amp;utm_campaign=ASKMMW&amp;utm_content={0}\r\n    2023-03-13 18:48:54,959 [  23134]   WARN - #c.i.BundleBase - ignore extra mnemonic in https://kotlinlang.org/lp/mobile/?utm_medium=link&amp;utm_source=product&amp;utm_campaign=ASKMMW&amp;utm_content={0}\r\n    2023-03-13 18:48:55,880 [  24055]   WARN - #c.a.t.i.w.WearPairingManager - Waited 1 seconds (plus 14346000 nanoseconds delay) for TrustedListenableFutureTask@64561ef3[status=PENDING, info=[task=[running=[NOT STARTED YET], com.android.tools.idea.adb.AdbService$$Lambda$1670/0x0000000101449840@69230add]]]\r\n    java.util.concurrent.TimeoutException: Waited 1 seconds (plus 14346000 nanoseconds delay) for TrustedListenableFutureTask@64561ef3[status=PENDING, info=[task=[running=[NOT STARTED YET], com.android.tools.idea.adb.AdbService$$Lambda$1670/0x0000000101449840@69230add]]]\r\n            at com.google.common.util.concurrent.AbstractFuture.get(AbstractFuture.java:527)\r\n            at com.google.common.util.concurrent.FluentFuture$TrustedFuture.get(FluentFuture.java:100)\r\n            at com.android.tools.idea.wearpairing.WearPairingManager.findAdb(WearPairingManager.kt:434)\r\n            at com.android.tools.idea.wearpairing.WearPairingManager.access$findAdb(WearPairingManager.kt:70)\r\n            at com.android.tools.idea.wearpairing.WearPairingManager$connectedDevicesProvider$1.invoke(WearPairingManager.kt:92)\r\n            at com.android.tools.idea.wearpairing.WearPairingManager$connectedDevicesProvider$1.invoke(WearPairingManager.kt:92)\r\n            at com.android.tools.idea.wearpairing.WearPairingManager.getConnectedDevices(WearPairingManager.kt:440)\r\n            at com.android.tools.idea.wearpairing.WearPairingManager.getAvailableDevices(WearPairingManager.kt:382)\r\n            at com.android.tools.idea.wearpairing.WearPairingManager.updateListAndForwardState(WearPairingManager.kt:396)\r\n            at com.android.tools.idea.wearpairing.WearPairingManager.access$updateListAndForwardState(WearPairingManager.kt:70)\r\n            at com.android.tools.idea.wearpairing.WearPairingManager$setDeviceListListener$1.invokeSuspend(WearPairingManager.kt:207)\r\n            at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\r\n            at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\r\n            at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:571)\r\n            at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:750)\r\n            at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:678)\r\n            at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:665)\r\n\r\nPlease help me understand what I am missing and how to resolve this issue.\r\nThanks!","title":"Android Studio is not launching after installation","body":"<p>I had android studio arctic fox installed earlier but suddenly one day it did stopped launching. It is visible in task manager but the ide is not starting. I did explore all the questions related to it and tried all these methods:</p>\n<ol>\n<li>Installed latest version of JDK (jdk-19)</li>\n<li>Installed latest version of JRE (jre1.8.0_361)</li>\n<li>Added JAVA_HOME and JDK_HOME in system path variables.</li>\n<li>Re-installed the latest version of Android studio (Android Studio Electric Eel 2022.1.1)</li>\n</ol>\n<p>None of the above solutions are working for me. I even tried to run <em>studio.bat</em> from <em>C:\\Program Files\\Android\\Android Studio\\bin</em> but I am getting the below error in the console:</p>\n<pre><code>2023-03-13 18:48:43,291 [  11466]   WARN - #c.i.d.PerformanceWatcherImpl - UI was frozen for 8276ms, details saved to C:\\Users\\INTEL\\AppData\\Local\\Google\\AndroidStudio2022.1\\log\\threadDumps-freeze-20230313-184839-AI-221.6008.13.2211.9619390-8sec\n2023-03-13 18:48:43,838 [  12013]   WARN - #c.i.u.j.JBCefApp - JCEF runtime library is not a JBR module (Use JBR bundled with the IDE)\n2023-03-13 18:48:46,715 [  14890]   WARN - #c.a.t.i.d.WindowsPerformanceHintsChecker - Error retrieving list of excluded patterns\njava.io.IOException: Error code 2: The system cannot find the file specified.\n        at com.android.tools.idea.diagnostics.windows.WindowsDefenderRegistryStatusProvider.readExcludedPaths(WindowsDefenderRegistryStatusProvider.java:63)\n        at com.android.tools.idea.diagnostics.windows.WindowsDefenderRegistryStatusProvider.getExcludedPaths(WindowsDefenderRegistryStatusProvider.java:51)\n        at com.android.tools.idea.diagnostics.WindowsPerformanceHintsChecker.getExcludedPatterns(WindowsPerformanceHintsChecker.java:243)\n        at com.android.tools.idea.diagnostics.WindowsPerformanceHintsChecker.checkWindowsDefender(WindowsPerformanceHintsChecker.java:129)\n        at com.android.tools.idea.diagnostics.WindowsPerformanceHintsChecker$1.lambda$projectOpened$0(WindowsPerformanceHintsChecker.java:92)\n        at com.intellij.openapi.application.impl.ApplicationImpl$1.run(ApplicationImpl.java:295)\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n        at java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1$1.run(Executors.java:668)\n        at java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1$1.run(Executors.java:665)\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\n        at java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1.run(Executors.java:665)\n        at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: com.sun.jna.platform.win32.Win32Exception: The system cannot find the file specified.\n        at com.sun.jna.platform.win32.Advapi32Util.registryGetValues(Advapi32Util.java:2268)\n        at com.sun.jna.platform.win32.Advapi32Util.registryGetValues(Advapi32Util.java:2247)\n        at com.android.tools.idea.diagnostics.windows.WindowsDefenderRegistryStatusProvider.readExcludedPaths(WindowsDefenderRegistryStatusProvider.java:58)\n        ... 14 more\n2023-03-13 18:48:54,617 [  22792]   WARN - #c.i.s.ComponentManagerImpl - Do not use constructor injection (requestorClass=com.android.tools.idea.gradle.variant.view.BuildVariantView)\n2023-03-13 18:48:54,954 [  23129]   WARN - #c.i.BundleBase - ignore extra mnemonic in https://kotlinlang.org/lp/mobile/?utm_medium=link&amp;utm_source=product&amp;utm_campaign=ASKMMW&amp;utm_content={0}\n2023-03-13 18:48:54,956 [  23131]   WARN - #c.i.BundleBase - ignore extra mnemonic in https://kotlinlang.org/lp/mobile/?utm_medium=link&amp;utm_source=product&amp;utm_campaign=ASKMMW&amp;utm_content={0}\n2023-03-13 18:48:54,959 [  23134]   WARN - #c.i.BundleBase - ignore extra mnemonic in https://kotlinlang.org/lp/mobile/?utm_medium=link&amp;utm_source=product&amp;utm_campaign=ASKMMW&amp;utm_content={0}\n2023-03-13 18:48:54,959 [  23134]   WARN - #c.i.BundleBase - ignore extra mnemonic in https://kotlinlang.org/lp/mobile/?utm_medium=link&amp;utm_source=product&amp;utm_campaign=ASKMMW&amp;utm_content={0}\n2023-03-13 18:48:55,880 [  24055]   WARN - #c.a.t.i.w.WearPairingManager - Waited 1 seconds (plus 14346000 nanoseconds delay) for TrustedListenableFutureTask@64561ef3[status=PENDING, info=[task=[running=[NOT STARTED YET], com.android.tools.idea.adb.AdbService$$Lambda$1670/0x0000000101449840@69230add]]]\njava.util.concurrent.TimeoutException: Waited 1 seconds (plus 14346000 nanoseconds delay) for TrustedListenableFutureTask@64561ef3[status=PENDING, info=[task=[running=[NOT STARTED YET], com.android.tools.idea.adb.AdbService$$Lambda$1670/0x0000000101449840@69230add]]]\n        at com.google.common.util.concurrent.AbstractFuture.get(AbstractFuture.java:527)\n        at com.google.common.util.concurrent.FluentFuture$TrustedFuture.get(FluentFuture.java:100)\n        at com.android.tools.idea.wearpairing.WearPairingManager.findAdb(WearPairingManager.kt:434)\n        at com.android.tools.idea.wearpairing.WearPairingManager.access$findAdb(WearPairingManager.kt:70)\n        at com.android.tools.idea.wearpairing.WearPairingManager$connectedDevicesProvider$1.invoke(WearPairingManager.kt:92)\n        at com.android.tools.idea.wearpairing.WearPairingManager$connectedDevicesProvider$1.invoke(WearPairingManager.kt:92)\n        at com.android.tools.idea.wearpairing.WearPairingManager.getConnectedDevices(WearPairingManager.kt:440)\n        at com.android.tools.idea.wearpairing.WearPairingManager.getAvailableDevices(WearPairingManager.kt:382)\n        at com.android.tools.idea.wearpairing.WearPairingManager.updateListAndForwardState(WearPairingManager.kt:396)\n        at com.android.tools.idea.wearpairing.WearPairingManager.access$updateListAndForwardState(WearPairingManager.kt:70)\n        at com.android.tools.idea.wearpairing.WearPairingManager$setDeviceListListener$1.invokeSuspend(WearPairingManager.kt:207)\n        at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n        at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\n        at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:571)\n        at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:750)\n        at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:678)\n        at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:665)\n</code></pre>\n<p>Please help me understand what I am missing and how to resolve this issue.\nThanks!</p>\n"},{"tags":["java","javadoc","java-19"],"comments":[{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1680228537,"post_id":75894305,"comment_id":133866706,"body_markdown":"&quot;javadoc is instructed to create documentation for JDK 19&quot; Do you mean javadoc/documentation for the JDK itself? (i.e. the same that you can find online: https://docs.oracle.com/en/java/javase/19/docs/api/index.html)","body":"&quot;javadoc is instructed to create documentation for JDK 19&quot; Do you mean javadoc/documentation for the JDK itself? (i.e. the same that you can find online: <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/index.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/19/docs/api/index.html</a>)"},{"owner":{"account_id":1065843,"reputation":157,"user_id":1101680,"display_name":"TheGeeko61"},"score":0,"creation_date":1680229625,"post_id":75894305,"comment_id":133866812,"body_markdown":"@Jorn, that is exactly what I&#39;m talking about.  The online version is sufficent when I am online.  But I often work on a standalone box where a zip file containing this info is required.","body":"@Jorn, that is exactly what I&#39;m talking about.  The online version is sufficent when I am online.  But I often work on a standalone box where a zip file containing this info is required."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1680230527,"post_id":75894305,"comment_id":133866905,"body_markdown":"You can download the Java SE javadocs for offline use from https://www.oracle.com/java/technologies/downloads/.  Just scroll down and look for the black “Documentation Download” button, right before the ’Release information’ bulleted list.","body":"You can download the Java SE javadocs for offline use from <a href=\"https://www.oracle.com/java/technologies/downloads/\" rel=\"nofollow noreferrer\">oracle.com/java/technologies/downloads</a>.  Just scroll down and look for the black “Documentation Download” button, right before the ’Release information’ bulleted list."},{"owner":{"account_id":1065843,"reputation":157,"user_id":1101680,"display_name":"TheGeeko61"},"score":0,"creation_date":1680273765,"post_id":75894305,"comment_id":133875469,"body_markdown":"@VGR, thank you very much!  I can move on with my project.","body":"@VGR, thank you very much!  I can move on with my project."}],"owner":{"account_id":1065843,"reputation":157,"user_id":1101680,"display_name":"TheGeeko61"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682414954,"creation_date":1680228410,"question_id":75894305,"body_markdown":"I&#39;ve been struggling with this question.  Of all the resources on the web, none give a concrete example of how to do this.  My mind is exhausted after reading the official Javadoc documentation about this where partial examples are given.. just enough to confuse me.  I&#39;m asking for a definitive command line answer where javadoc is instructed to create documentation for Java 19.\r\n\r\nFrom [this site][1], I get the following \r\nexample:\r\n\r\n```none\r\n% javadoc -d \\home\\html -sourcepath \\home\\src -subpackages java -exclude java.net:java.lang\r\n```\r\n\r\nWhen I execute that (after substituting my directories), I get:\r\n```none\r\n? javadoc -d doc -sourcepath 19-src -subpackages java -exclude java.net:java.lang\r\nLoading source files for package java...\r\nerror: No source files for package java\r\n1 error\r\n```\r\n\r\nI have spent considerable time working through these references.  Any help will be greatly appreciated.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/technotes/tools/windows/javadoc.html#runningjavadoc","title":"How can I generate Javadoc for the Java 19 environment?","body":"<p>I've been struggling with this question.  Of all the resources on the web, none give a concrete example of how to do this.  My mind is exhausted after reading the official Javadoc documentation about this where partial examples are given.. just enough to confuse me.  I'm asking for a definitive command line answer where javadoc is instructed to create documentation for Java 19.</p>\n<p>From <a href=\"https://docs.oracle.com/javase/7/docs/technotes/tools/windows/javadoc.html#runningjavadoc\" rel=\"nofollow noreferrer\">this site</a>, I get the following\nexample:</p>\n<pre class=\"lang-none prettyprint-override\"><code>% javadoc -d \\home\\html -sourcepath \\home\\src -subpackages java -exclude java.net:java.lang\n</code></pre>\n<p>When I execute that (after substituting my directories), I get:</p>\n<pre class=\"lang-none prettyprint-override\"><code>? javadoc -d doc -sourcepath 19-src -subpackages java -exclude java.net:java.lang\nLoading source files for package java...\nerror: No source files for package java\n1 error\n</code></pre>\n<p>I have spent considerable time working through these references.  Any help will be greatly appreciated.</p>\n"},{"tags":["java","vaadin","jvx"],"answers":[{"tags":[],"owner":{"account_id":7016963,"reputation":453,"user_id":5377961,"display_name":"rjahn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681801957,"creation_date":1681758670,"answer_id":76038527,"question_id":76038106,"body_markdown":"Try setting:\r\n\r\n    &lt;servlet&gt;\r\n      &lt;servlet-name&gt;VaadinUI&lt;/servlet-name&gt;\r\n      &lt;servlet class&gt;com.sibvisions.rad.ui.vaadin.server.VaadinServlet&lt;/servlet-class&gt;\r\n\r\n      ...\r\n\r\n      &lt;!-- milliseconds --&gt;\r\n      &lt;init-param&gt;\r\n        &lt;param-name&gt;push.pollingInterval&lt;param-name&gt;\r\n        &lt;param-value&gt;14000&lt;/param-name&gt;\r\n      &lt;/init-param&gt;\r\n      &lt;!-- seconds --&gt;\r\n      &lt;init-param&gt;\r\n        &lt;param-name&gt;sessionTimeout&lt;param-name&gt;\r\n        &lt;param-value&gt;180&lt;/param-name&gt;\r\n      &lt;/init-param&gt;\r\n      &lt;!-- seconds --&gt;\r\n      &lt;init-param&gt;\r\n        &lt;param-name&gt;heartbeatInterval&lt;param-name&gt;\r\n        &lt;param-value&gt;50&lt;/param-name&gt;\r\n      &lt;/init-param&gt;\r\n      &lt;init-param&gt;\r\n        &lt;param-name&gt;closeIdleSessions&lt;param-name&gt;\r\n        &lt;param-value&gt;false&lt;/param-name&gt;\r\n      &lt;/init-param&gt;\r\n      &lt;!-- seconds --&gt;\r\n      &lt;init-param&gt;\r\n        &lt;param-name&gt;Application.connection.timeout&lt;param-name&gt;\r\n        &lt;param-value&gt;120&lt;/param-name&gt;\r\n      &lt;/init-param&gt;\r\n    &lt;/servlet&gt;\r\n\r\nThe most important setting is `closeIdleSessions`. If it&#39;s true, sessions without user interaction are closed. The `heartbeatInterval` every 50 seconds configures the keepalive request from the client(browser) to the server and is also the notification that the application is still in use. \r\n\r\nThe `push.pollingInterval` is optional and possibly relevant if you have problems with load balancers, because many load balancer configurations will close the websocket if it&#39;s inactive. This setting sends a request every 14 seconds.\r\n\r\nThe `Application.connection.timeout` is also optional. It&#39;s only for the application because it&#39;s possible that the http-session has a longer timeout than the application. In this case, the application shows the login before the session will time-out.\r\n\r\nThe official [vaadin documentation][1] has more details. The [JVx framework documentation][2] contains additional information about the application connection timeout.\r\n\r\n\r\n  [1]: https://vaadin.com/docs/v8/framework/application/application-environment\r\n  [2]: https://doc.sibvisions.com/applications/timeouts_vaadin","title":"JVx Vaadin UI timeout configuration","body":"<p>Try setting:</p>\n<pre><code>&lt;servlet&gt;\n  &lt;servlet-name&gt;VaadinUI&lt;/servlet-name&gt;\n  &lt;servlet class&gt;com.sibvisions.rad.ui.vaadin.server.VaadinServlet&lt;/servlet-class&gt;\n\n  ...\n\n  &lt;!-- milliseconds --&gt;\n  &lt;init-param&gt;\n    &lt;param-name&gt;push.pollingInterval&lt;param-name&gt;\n    &lt;param-value&gt;14000&lt;/param-name&gt;\n  &lt;/init-param&gt;\n  &lt;!-- seconds --&gt;\n  &lt;init-param&gt;\n    &lt;param-name&gt;sessionTimeout&lt;param-name&gt;\n    &lt;param-value&gt;180&lt;/param-name&gt;\n  &lt;/init-param&gt;\n  &lt;!-- seconds --&gt;\n  &lt;init-param&gt;\n    &lt;param-name&gt;heartbeatInterval&lt;param-name&gt;\n    &lt;param-value&gt;50&lt;/param-name&gt;\n  &lt;/init-param&gt;\n  &lt;init-param&gt;\n    &lt;param-name&gt;closeIdleSessions&lt;param-name&gt;\n    &lt;param-value&gt;false&lt;/param-name&gt;\n  &lt;/init-param&gt;\n  &lt;!-- seconds --&gt;\n  &lt;init-param&gt;\n    &lt;param-name&gt;Application.connection.timeout&lt;param-name&gt;\n    &lt;param-value&gt;120&lt;/param-name&gt;\n  &lt;/init-param&gt;\n&lt;/servlet&gt;\n</code></pre>\n<p>The most important setting is <code>closeIdleSessions</code>. If it's true, sessions without user interaction are closed. The <code>heartbeatInterval</code> every 50 seconds configures the keepalive request from the client(browser) to the server and is also the notification that the application is still in use.</p>\n<p>The <code>push.pollingInterval</code> is optional and possibly relevant if you have problems with load balancers, because many load balancer configurations will close the websocket if it's inactive. This setting sends a request every 14 seconds.</p>\n<p>The <code>Application.connection.timeout</code> is also optional. It's only for the application because it's possible that the http-session has a longer timeout than the application. In this case, the application shows the login before the session will time-out.</p>\n<p>The official <a href=\"https://vaadin.com/docs/v8/framework/application/application-environment\" rel=\"nofollow noreferrer\">vaadin documentation</a> has more details. The <a href=\"https://doc.sibvisions.com/applications/timeouts_vaadin\" rel=\"nofollow noreferrer\">JVx framework documentation</a> contains additional information about the application connection timeout.</p>\n"}],"owner":{"account_id":28167502,"reputation":90,"user_id":21526498,"display_name":"Robosch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76038527,"answer_count":1,"score":1,"last_activity_date":1682414930,"creation_date":1681755384,"question_id":76038106,"body_markdown":"I have a simple web application, created with vaadin UI of [JVx application framework](https://en.wikipedia.org/wiki/JVx_(Framework)). \r\n\r\nI want to configure the session timeout for the application and don&#39;t know where the configuration should be placed.\r\n\r\nThe application should be valid as long as the browser is open. After the browser/tab is closed, the session should time-out.\r\n\r\nI tried to set the session timeout via web.xml:\r\n\r\n```\r\n&lt;session-config&gt;\r\n    &lt;session-timeout&gt;30&lt;/session-timeout&gt;\r\n&lt;/session-config&gt;\r\n```\r\n\r\nbut this is a general timeout after 30 minutes inactivity. My application should not time-out if there&#39;s no user activity. Only if no application is used.","title":"JVx Vaadin UI timeout configuration","body":"<p>I have a simple web application, created with vaadin UI of <a href=\"https://en.wikipedia.org/wiki/JVx_(Framework)\" rel=\"nofollow noreferrer\">JVx application framework</a>.</p>\n<p>I want to configure the session timeout for the application and don't know where the configuration should be placed.</p>\n<p>The application should be valid as long as the browser is open. After the browser/tab is closed, the session should time-out.</p>\n<p>I tried to set the session timeout via web.xml:</p>\n<pre><code>&lt;session-config&gt;\n    &lt;session-timeout&gt;30&lt;/session-timeout&gt;\n&lt;/session-config&gt;\n</code></pre>\n<p>but this is a general timeout after 30 minutes inactivity. My application should not time-out if there's no user activity. Only if no application is used.</p>\n"},{"tags":["java","jvx"],"answers":[{"tags":[],"owner":{"account_id":28167502,"reputation":90,"user_id":21526498,"display_name":"Robosch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682336906,"creation_date":1682336906,"answer_id":76091537,"question_id":76091493,"body_markdown":"There&#39;s an API for that.\r\n\r\nUse the application and call\r\n\r\n    getActiveControllable()\r\n\r\nto get the active screen.\r\n\r\nBut be careful, can be `null`.\r\n\r\nI found a [blog post][1] about the API and above call works for me.\r\n\r\n\r\n  [1]: https://blog.sibvisions.com/2014/03/05/jvx-new-controllercontrollable-old-school-record-navigation/","title":"Get current/active screen of JVx application","body":"<p>There's an API for that.</p>\n<p>Use the application and call</p>\n<pre><code>getActiveControllable()\n</code></pre>\n<p>to get the active screen.</p>\n<p>But be careful, can be <code>null</code>.</p>\n<p>I found a <a href=\"https://blog.sibvisions.com/2014/03/05/jvx-new-controllercontrollable-old-school-record-navigation/\" rel=\"nofollow noreferrer\">blog post</a> about the API and above call works for me.</p>\n"}],"owner":{"account_id":28159708,"reputation":24,"user_id":21519867,"display_name":"we42"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76091537,"answer_count":1,"score":0,"last_activity_date":1682414910,"creation_date":1682336482,"question_id":76091493,"body_markdown":"I have a JVx application with lots of screens (&gt; 150) and want to create an admin screen which takes care of the current/active screen. The admin screen is a modal screen and implemented as popup.\r\n\r\nIs it possible to get the current/active screen for the application?\r\n\r\nI tried to iterate all components and check by class, but this is not technology independent because desktop has frames, web has panels and mobile has a wrapper panel.\r\n\r\nIs there an API for that?","title":"Get current/active screen of JVx application","body":"<p>I have a JVx application with lots of screens (&gt; 150) and want to create an admin screen which takes care of the current/active screen. The admin screen is a modal screen and implemented as popup.</p>\n<p>Is it possible to get the current/active screen for the application?</p>\n<p>I tried to iterate all components and check by class, but this is not technology independent because desktop has frames, web has panels and mobile has a wrapper panel.</p>\n<p>Is there an API for that?</p>\n"},{"tags":["java","jvx"],"answers":[{"tags":[],"owner":{"account_id":7016963,"reputation":453,"user_id":5377961,"display_name":"rjahn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682323284,"creation_date":1682323284,"answer_id":76089771,"question_id":76089680,"body_markdown":"The framework doesn&#39;t offer setEditable(true), but it&#39;s easily possible to set only 3 columns editable, just do:\r\n\r\n    book.getRowDefinition().\r\n         setReadOnly(ArrayUtil.removeAll(book.getRowDefinition().getColumnNames(), \r\n                                         new String[] {&quot;A&quot;, &quot;B&quot;, &quot;C&quot;}));\r\n\r\nAnother solution:\r\n\r\n    book.getRowDefinition().setReadOnly(null);\r\n    book.getRowDefinition().getColumnDefinition(&quot;A&quot;).setReadOnly(false);\r\n    book.getRowDefinition().getColumnDefinition(&quot;B&quot;).setReadOnly(false);\r\n    book.getRowDefinition().getColumnDefinition(&quot;C&quot;).setReadOnly(false); ","title":"JVx DataBook readonly except one (few) columns","body":"<p>The framework doesn't offer setEditable(true), but it's easily possible to set only 3 columns editable, just do:</p>\n<pre><code>book.getRowDefinition().\n     setReadOnly(ArrayUtil.removeAll(book.getRowDefinition().getColumnNames(), \n                                     new String[] {&quot;A&quot;, &quot;B&quot;, &quot;C&quot;}));\n</code></pre>\n<p>Another solution:</p>\n<pre><code>book.getRowDefinition().setReadOnly(null);\nbook.getRowDefinition().getColumnDefinition(&quot;A&quot;).setReadOnly(false);\nbook.getRowDefinition().getColumnDefinition(&quot;B&quot;).setReadOnly(false);\nbook.getRowDefinition().getColumnDefinition(&quot;C&quot;).setReadOnly(false); \n</code></pre>\n"}],"owner":{"account_id":28159708,"reputation":24,"user_id":21519867,"display_name":"we42"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76089771,"answer_count":1,"score":0,"last_activity_date":1682414902,"creation_date":1682322559,"question_id":76089680,"body_markdown":"I have a standard RemoteDataBook in my screen. It has 30 columns and only 3 should be editable. I know that it&#39;s possible to set the UITable to readonly:\r\n\r\n  table.setEditable(false);\r\n\r\nBut how to make 3 columns editable, because all columns are readonly with editable(false).\r\n\r\nI found a code snippet in the documentation:\r\n\r\n`rdbContacts.getRowDefinition().getColumnDefinition(&quot;FILENAME&quot;).setReadOnly(true);`\r\n\r\nbut I have 30 columns... and is there a method like `setEditable(true);`","title":"JVx DataBook readonly except one (few) columns","body":"<p>I have a standard RemoteDataBook in my screen. It has 30 columns and only 3 should be editable. I know that it's possible to set the UITable to readonly:</p>\n<p>table.setEditable(false);</p>\n<p>But how to make 3 columns editable, because all columns are readonly with editable(false).</p>\n<p>I found a code snippet in the documentation:</p>\n<p><code>rdbContacts.getRowDefinition().getColumnDefinition(&quot;FILENAME&quot;).setReadOnly(true);</code></p>\n<p>but I have 30 columns... and is there a method like <code>setEditable(true);</code></p>\n"},{"tags":["java","android","runtime"],"answers":[{"tags":[],"owner":{"account_id":2285417,"reputation":13,"user_id":2009499,"display_name":"Oğuz Gen&#231;er"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1600094665,"creation_date":1600094665,"answer_id":63886622,"question_id":63397007,"body_markdown":"I&#39;ve used the getevent/sendevent code for this purpose. Its very fast and works immediately on the TV device. Just try it. You can find detailed documentations in https://source.android.com","title":"Android: Runtime.getRuntime().exec(String) command is too slow? or I am doing something wrong?","body":"<p>I've used the getevent/sendevent code for this purpose. Its very fast and works immediately on the TV device. Just try it. You can find detailed documentations in <a href=\"https://source.android.com\" rel=\"nofollow noreferrer\">https://source.android.com</a></p>\n"},{"tags":[],"owner":{"account_id":27450501,"reputation":1,"user_id":20942819,"display_name":"NaughtyChild"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682414792,"creation_date":1681981882,"answer_id":76062413,"question_id":63397007,"body_markdown":"Oğuz Gen&#231;er mean this :\r\n```\r\nInstrumentation backExecutor = new Instrumentation();\r\nbackExecutor.sendKeyDownUpSync(KeyEvent.KEYCODE_BACK);\r\n```","title":"Android: Runtime.getRuntime().exec(String) command is too slow? or I am doing something wrong?","body":"<p>Oğuz Gençer mean this :</p>\n<pre><code>Instrumentation backExecutor = new Instrumentation();\nbackExecutor.sendKeyDownUpSync(KeyEvent.KEYCODE_BACK);\n</code></pre>\n"}],"owner":{"account_id":2285417,"reputation":13,"user_id":2009499,"display_name":"Oğuz Gen&#231;er"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":63886622,"answer_count":2,"score":0,"last_activity_date":1682414792,"creation_date":1597327678,"question_id":63397007,"body_markdown":"I am trying to create an app which I use it for remote control an android device(TV). Actually I did it however when I click a button on the controller device(mobile), it takes apprx. 1 sec to do the work in the device(TV) that I want to control. \r\n\r\n When I checked all logs in the code and I see that method spends that much time...\r\n\r\n        String commandStr;\r\n        commandStr = String.format(&quot;%s&quot;,&quot; input keyevent &quot;+keyCode);\r\n\r\n        try {\r\n            process = runTimeExec(commandStr);\r\n            runTimeExec(commandStr);\r\n        } catch (IOException e) {\r\n        }\r\n\r\n And the runTimeExec defined as;\r\n\r\n        public static Process runTimeExec(String commandStr) throws IOException {  \r\n               Runtime.getRuntime().exec(commandString);\r\n\r\n        }\r\n\r\nI just wanna learn if there is any other solution to run command immediately on the TV device itself? Or how can I make faster this code here?\r\n","title":"Android: Runtime.getRuntime().exec(String) command is too slow? or I am doing something wrong?","body":"<p>I am trying to create an app which I use it for remote control an android device(TV). Actually I did it however when I click a button on the controller device(mobile), it takes apprx. 1 sec to do the work in the device(TV) that I want to control.</p>\n<p>When I checked all logs in the code and I see that method spends that much time...</p>\n<pre><code>    String commandStr;\n    commandStr = String.format(&quot;%s&quot;,&quot; input keyevent &quot;+keyCode);\n\n    try {\n        process = runTimeExec(commandStr);\n        runTimeExec(commandStr);\n    } catch (IOException e) {\n    }\n</code></pre>\n<p>And the runTimeExec defined as;</p>\n<pre><code>    public static Process runTimeExec(String commandStr) throws IOException {  \n           Runtime.getRuntime().exec(commandString);\n\n    }\n</code></pre>\n<p>I just wanna learn if there is any other solution to run command immediately on the TV device itself? Or how can I make faster this code here?</p>\n"},{"tags":["java","sockets","server","client"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1682374281,"post_id":76096232,"comment_id":134202387,"body_markdown":"do not Override `start` from `Thread` (e.g. in `ClientHandler`) - you are *taking away* its functionality (of starting a thread)  || also note that `start()` is being called twice (constructor and in `connect()` - both times no additional thread will be started","body":"do not Override <code>start</code> from <code>Thread</code> (e.g. in <code>ClientHandler</code>) - you are <i>taking away</i> its functionality (of starting a thread)  || also note that <code>start()</code> is being called twice (constructor and in <code>connect()</code> - both times no additional thread will be started"},{"owner":{"account_id":28404987,"reputation":11,"user_id":21729171,"display_name":"user21729171"},"score":0,"creation_date":1682375553,"post_id":76096232,"comment_id":134202540,"body_markdown":"I changed the function&#39;s name to connect() so there is no overlap. Do I have to call start() (for thread) and connect (for the method)?","body":"I changed the function&#39;s name to connect() so there is no overlap. Do I have to call start() (for thread) and connect (for the method)?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1682416614,"post_id":76096232,"comment_id":134208085,"body_markdown":"@ArfurNarf He is not choosing a client IP address or port number. Your comment is irrelevant.","body":"@ArfurNarf He is not choosing a client IP address or port number. Your comment is irrelevant."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1682416727,"post_id":76096232,"comment_id":134208106,"body_markdown":"What exactly do you mean by &#39;only one client can communicate&#39;? What happens instead? Where are you handling the case where `readLine()` returns null?","body":"What exactly do you mean by &#39;only one client can communicate&#39;? What happens instead? Where are you handling the case where <code>readLine()</code> returns null?"}],"answers":[{"comments":[{"owner":{"account_id":28404987,"reputation":11,"user_id":21729171,"display_name":"user21729171"},"score":0,"creation_date":1682372405,"post_id":76096270,"comment_id":134202132,"body_markdown":"Can you please elaborate on how to make each client different? Thanks!","body":"Can you please elaborate on how to make each client different? Thanks!"},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1682372468,"post_id":76096270,"comment_id":134202141,"body_markdown":"As I said, each client should have a different address and/or port. Right now all your instances of Client connect from localhost using port 6666, as per your Driver class.","body":"As I said, each client should have a different address and/or port. Right now all your instances of Client connect from localhost using port 6666, as per your Driver class."},{"owner":{"account_id":28404987,"reputation":11,"user_id":21729171,"display_name":"user21729171"},"score":0,"creation_date":1682372771,"post_id":76096270,"comment_id":134202170,"body_markdown":"Hmm. I thought the client and server must share a port. Does this mean two clients cannot connect to a single server?","body":"Hmm. I thought the client and server must share a port. Does this mean two clients cannot connect to a single server?"},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1682373049,"post_id":76096270,"comment_id":134202210,"body_markdown":"No, of course not. But you&#39;ll agree with me that if you connect from the same address using the same port, that&#39;s the same connection, right? Just connect from different addresses if you must keep the port constant (though a server could conceivably listen on more than one port).","body":"No, of course not. But you&#39;ll agree with me that if you connect from the same address using the same port, that&#39;s the same connection, right? Just connect from different addresses if you must keep the port constant (though a server could conceivably listen on more than one port)."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1682416516,"post_id":76096270,"comment_id":134208060,"body_markdown":"He is calling `new Socket(super.getSocketAddress(), super.getSocketPort());`. There is nothing there that specifies a local port, or that violates any other condition stated in this answer.","body":"He is calling <code>new Socket(super.getSocketAddress(), super.getSocketPort());</code>. There is nothing there that specifies a local port, or that violates any other condition stated in this answer."}],"tags":[],"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"comment_count":5,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1682371975,"creation_date":1682371975,"answer_id":76096270,"question_id":76096232,"body_markdown":"Make sure, if you have more than one client, that each client is different (i.e. if you try to connect more than once to a server, from clients with the same address and port, that&#39;s not gonna work).","title":"Why can I not have two clients connected to the server?","body":"<p>Make sure, if you have more than one client, that each client is different (i.e. if you try to connect more than once to a server, from clients with the same address and port, that's not gonna work).</p>\n"}],"owner":{"account_id":28404987,"reputation":11,"user_id":21729171,"display_name":"user21729171"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1682414735,"creation_date":1682371644,"question_id":76096232,"body_markdown":"Client.Java\r\n\r\n```\r\npackage connection;\r\n\r\nimport java.io.*;\r\nimport java.net.*;\r\n\r\npublic class Client extends Connection {\r\n\r\n    private Socket clientSocket;\r\n    private BufferedReader socketInput;\r\n    private PrintWriter socketOutput;\r\n\r\n    private int clientId;\r\n\r\n    public Client(String address, int port) {\r\n        super(address, port);\r\n        clientId = super.getConnectionsTotal();\r\n    }\r\n\r\n    public void connect() {\r\n\r\n        // responsible for opening the socket\r\n        try {\r\n            clientSocket = new Socket(super.getSocketAddress(), super.getSocketPort());\r\n            System.out.println(&quot;Socket connected...&quot;);\r\n\r\n            socketInput = new BufferedReader(new InputStreamReader(clientSocket.getInputStream())); // reading input\r\n            socketOutput = new PrintWriter(clientSocket.getOutputStream(), true); // sending responses\r\n        }\r\n        catch (UnknownHostException u) {\r\n            System.out.println(&quot;IP address not found [&quot; + u + &quot;]&quot;);\r\n            return;\r\n        }\r\n        catch (IOException i) {\r\n            System.out.println(&quot;Unknown error has occured [&quot; + i + &quot;]&quot;);\r\n            return;\r\n        }\r\n    }\r\n\r\n    public String send(String content) {\r\n        try {\r\n            socketOutput.println(clientId);\r\n            socketOutput.println(content);\r\n\r\n            String serverResponse = socketInput.readLine();\r\n\r\n            if (serverResponse.equals(&quot;bye&quot;))\r\n                return null;\r\n\r\n            return serverResponse;\r\n        }\r\n        catch (IOException i) {\r\n            System.out.println(&quot;Unknown error has occured [&quot; + i + &quot;]&quot;);\r\n            return null;\r\n        }\r\n    }\r\n\r\n    public boolean disconnect() {\r\n        // responsible for closing the sockets\r\n        try {\r\n            socketOutput.close();\r\n            socketInput.close();\r\n            clientSocket.close();\r\n\r\n            return true;\r\n        }\r\n        catch (IOException i) {\r\n            System.out.println(&quot;Unknown error has occured [&quot; + i + &quot;]&quot;);\r\n            return false;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nServer.java\r\n\r\n```\r\npackage connection;\r\n\r\nimport java.io.*;\r\nimport java.net.*;\r\n\r\n/*\r\n * THIS FILE IS THE SERVER TO TALK TO THE DB\r\n */\r\n\r\npublic class Server extends Connection {\r\n\r\n    private Socket clientSocket;\r\n    private ServerSocket server;\r\n\r\n    public Server(int socketPort) {\r\n        super(socketPort);\r\n    }\r\n\r\n    public void connect() {\r\n        // opening to the server\r\n        try {\r\n            server = new ServerSocket(super.getSocketPort());\r\n            System.out.println(&quot;Server started...&quot;);\r\n\r\n            while (true) {\r\n                clientSocket = server.accept();\r\n\r\n                System.out.println(&quot;A client has connected...&quot;);\r\n\r\n                ClientHandler client = new ClientHandler(clientSocket);\r\n                client.start();\r\n            }\r\n        }\r\n        catch(IOException i) {\r\n            System.out.println(&quot;Unknown error has occured [&quot; + i + &quot;]&quot;);\r\n            return;\r\n        }\r\n    }\r\n\r\n    public boolean disconnect() {\r\n        // responsible for closing the server\r\n        try {\r\n            server.close();\r\n\r\n            return true;\r\n        }\r\n        catch (IOException i) {\r\n            System.out.println(&quot;Unknown error has occured [&quot; + i + &quot;]&quot;);\r\n            return false;\r\n        }\r\n    }\r\n}\r\n\r\n\r\nclass ClientHandler extends Thread {\r\n\r\n    private Socket clientSocket;\r\n    private BufferedReader socketInput;\r\n    private PrintWriter socketOutput;\r\n\r\n    public ClientHandler(Socket cSocket) {\r\n        clientSocket = cSocket;\r\n        start();\r\n    }\r\n\r\n    public void start() {\r\n        // opening to the server\r\n        try {\r\n            socketInput = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));\r\n            socketOutput = new PrintWriter(clientSocket.getOutputStream(), true);\r\n\r\n            // sending back to client\r\n            while (true) {\r\n                try {\r\n                    int connection = Integer.parseInt(socketInput.readLine());\r\n                    String content = socketInput.readLine();\r\n\r\n                    System.out.println(&quot;client &quot; + connection + &quot;: &quot; + content);\r\n                    \r\n                    if (content.equals(&quot;quit&quot;)) {\r\n                        socketOutput.println(&quot;end&quot;);\r\n                        disconnect();\r\n                        break;\r\n                    }\r\n\r\n                    socketOutput.println(content);\r\n                }\r\n                catch(IOException i) {\r\n                    System.out.println(i);\r\n                }\r\n            }\r\n\r\n        }\r\n        catch(IOException i) {\r\n            System.out.println(&quot;Unknown error has occured [&quot; + i + &quot;]&quot;);\r\n            return;\r\n        }\r\n    }\r\n\r\n    public boolean disconnect() {\r\n        // responsible for closing the server\r\n        try {\r\n            socketOutput.close();\r\n            socketInput.close();\r\n            clientSocket.close();\r\n\r\n            return true;\r\n        }\r\n        catch (IOException i) {\r\n            System.out.println(&quot;Unknown error has occured [&quot; + i + &quot;]&quot;);\r\n            return false;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nConnection.java\r\n\r\n```\r\npackage connection;\r\n\r\npublic class Connection {\r\n    static int connections = 0;\r\n\r\n    private String socketAddress;\r\n    private int socketPort;\r\n\r\n    public Connection(int port) {\r\n        socketPort = port;\r\n    }\r\n    \r\n    public Connection(String address, int port) {\r\n        socketAddress = address;\r\n        socketPort = port;\r\n\r\n        connections++;\r\n    }\r\n\r\n    public int getConnectionsTotal() {\r\n        return connections;\r\n    }\r\n\r\n    public String getSocketAddress() {\r\n        return socketAddress;\r\n    }\r\n\r\n    public int getSocketPort() {\r\n        return socketPort;\r\n    }\r\n}\r\n```\r\n\r\nAnd I was using this to test the code:\r\n\r\nDriver.java\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\nimport connection.Client;\r\nimport connection.Server;\r\n\r\n/*\r\n * THIS FILE IS JUST TO TES THE CLIENT AND SERVER\r\n */\r\n\r\npublic class Driver {\r\n    public static void main(String[] args) {\r\n        Scanner scnr = new Scanner(System.in);\r\n\r\n        String socketAddress = &quot;127.0.0.1&quot;;\r\n        int socketPort = 6666;\r\n\r\n        System.out.println(&quot;*** Welcome to connection driver ***&quot;);\r\n\r\n        System.out.print(&quot;s(erver) / c(lient): &quot;);\r\n        String input = scnr.nextLine();\r\n\r\n        // client\r\n        if (input.equals(&quot;s&quot;)) {\r\n            Server server = new Server(socketPort);\r\n            server.connect();\r\n\r\n            if (server.disconnect())\r\n                System.out.println(&quot;Server closed...&quot;);\r\n            else\r\n                System.out.println(&quot;Served closing error...&quot;); \r\n        }\r\n\r\n        // server\r\n        else if (input.equals(&quot;c&quot;)) {\r\n            String content, serverResponse;\r\n\r\n            Client client = new Client(socketAddress, socketPort);\r\n\r\n            if (client.getConnectionsTotal() &lt;= 2) {\r\n                client.connect();\r\n\r\n                while (true) {\r\n                    System.out.print(&quot;&gt; &quot;);\r\n                    content = scnr.nextLine();\r\n\r\n                    serverResponse = client.send(content);\r\n                    if (serverResponse == null) {\r\n                        System.out.println(&quot;Goodbye...&quot;);\r\n\r\n                        if (client.disconnect())\r\n                            break;\r\n                    }\r\n\r\n                    System.out.println(&quot;server says: &quot; + serverResponse);\r\n\r\n                }\r\n            }\r\n            else\r\n                System.out.println(&quot;Too many connections...&quot;);\r\n        }\r\n\r\n        scnr.close();\r\n    }\r\n}\r\n```\r\n\r\nWhen I run the server and then the client, only one client can communicate with the server. Why won&#39;t the server communicate with the second client until the one first disconnects?","title":"Why can I not have two clients connected to the server?","body":"<p>Client.Java</p>\n<pre><code>package connection;\n\nimport java.io.*;\nimport java.net.*;\n\npublic class Client extends Connection {\n\n    private Socket clientSocket;\n    private BufferedReader socketInput;\n    private PrintWriter socketOutput;\n\n    private int clientId;\n\n    public Client(String address, int port) {\n        super(address, port);\n        clientId = super.getConnectionsTotal();\n    }\n\n    public void connect() {\n\n        // responsible for opening the socket\n        try {\n            clientSocket = new Socket(super.getSocketAddress(), super.getSocketPort());\n            System.out.println(&quot;Socket connected...&quot;);\n\n            socketInput = new BufferedReader(new InputStreamReader(clientSocket.getInputStream())); // reading input\n            socketOutput = new PrintWriter(clientSocket.getOutputStream(), true); // sending responses\n        }\n        catch (UnknownHostException u) {\n            System.out.println(&quot;IP address not found [&quot; + u + &quot;]&quot;);\n            return;\n        }\n        catch (IOException i) {\n            System.out.println(&quot;Unknown error has occured [&quot; + i + &quot;]&quot;);\n            return;\n        }\n    }\n\n    public String send(String content) {\n        try {\n            socketOutput.println(clientId);\n            socketOutput.println(content);\n\n            String serverResponse = socketInput.readLine();\n\n            if (serverResponse.equals(&quot;bye&quot;))\n                return null;\n\n            return serverResponse;\n        }\n        catch (IOException i) {\n            System.out.println(&quot;Unknown error has occured [&quot; + i + &quot;]&quot;);\n            return null;\n        }\n    }\n\n    public boolean disconnect() {\n        // responsible for closing the sockets\n        try {\n            socketOutput.close();\n            socketInput.close();\n            clientSocket.close();\n\n            return true;\n        }\n        catch (IOException i) {\n            System.out.println(&quot;Unknown error has occured [&quot; + i + &quot;]&quot;);\n            return false;\n        }\n    }\n}\n</code></pre>\n<p>Server.java</p>\n<pre><code>package connection;\n\nimport java.io.*;\nimport java.net.*;\n\n/*\n * THIS FILE IS THE SERVER TO TALK TO THE DB\n */\n\npublic class Server extends Connection {\n\n    private Socket clientSocket;\n    private ServerSocket server;\n\n    public Server(int socketPort) {\n        super(socketPort);\n    }\n\n    public void connect() {\n        // opening to the server\n        try {\n            server = new ServerSocket(super.getSocketPort());\n            System.out.println(&quot;Server started...&quot;);\n\n            while (true) {\n                clientSocket = server.accept();\n\n                System.out.println(&quot;A client has connected...&quot;);\n\n                ClientHandler client = new ClientHandler(clientSocket);\n                client.start();\n            }\n        }\n        catch(IOException i) {\n            System.out.println(&quot;Unknown error has occured [&quot; + i + &quot;]&quot;);\n            return;\n        }\n    }\n\n    public boolean disconnect() {\n        // responsible for closing the server\n        try {\n            server.close();\n\n            return true;\n        }\n        catch (IOException i) {\n            System.out.println(&quot;Unknown error has occured [&quot; + i + &quot;]&quot;);\n            return false;\n        }\n    }\n}\n\n\nclass ClientHandler extends Thread {\n\n    private Socket clientSocket;\n    private BufferedReader socketInput;\n    private PrintWriter socketOutput;\n\n    public ClientHandler(Socket cSocket) {\n        clientSocket = cSocket;\n        start();\n    }\n\n    public void start() {\n        // opening to the server\n        try {\n            socketInput = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));\n            socketOutput = new PrintWriter(clientSocket.getOutputStream(), true);\n\n            // sending back to client\n            while (true) {\n                try {\n                    int connection = Integer.parseInt(socketInput.readLine());\n                    String content = socketInput.readLine();\n\n                    System.out.println(&quot;client &quot; + connection + &quot;: &quot; + content);\n                    \n                    if (content.equals(&quot;quit&quot;)) {\n                        socketOutput.println(&quot;end&quot;);\n                        disconnect();\n                        break;\n                    }\n\n                    socketOutput.println(content);\n                }\n                catch(IOException i) {\n                    System.out.println(i);\n                }\n            }\n\n        }\n        catch(IOException i) {\n            System.out.println(&quot;Unknown error has occured [&quot; + i + &quot;]&quot;);\n            return;\n        }\n    }\n\n    public boolean disconnect() {\n        // responsible for closing the server\n        try {\n            socketOutput.close();\n            socketInput.close();\n            clientSocket.close();\n\n            return true;\n        }\n        catch (IOException i) {\n            System.out.println(&quot;Unknown error has occured [&quot; + i + &quot;]&quot;);\n            return false;\n        }\n    }\n}\n</code></pre>\n<p>Connection.java</p>\n<pre><code>package connection;\n\npublic class Connection {\n    static int connections = 0;\n\n    private String socketAddress;\n    private int socketPort;\n\n    public Connection(int port) {\n        socketPort = port;\n    }\n    \n    public Connection(String address, int port) {\n        socketAddress = address;\n        socketPort = port;\n\n        connections++;\n    }\n\n    public int getConnectionsTotal() {\n        return connections;\n    }\n\n    public String getSocketAddress() {\n        return socketAddress;\n    }\n\n    public int getSocketPort() {\n        return socketPort;\n    }\n}\n</code></pre>\n<p>And I was using this to test the code:</p>\n<p>Driver.java</p>\n<pre><code>import java.util.Scanner;\n\nimport connection.Client;\nimport connection.Server;\n\n/*\n * THIS FILE IS JUST TO TES THE CLIENT AND SERVER\n */\n\npublic class Driver {\n    public static void main(String[] args) {\n        Scanner scnr = new Scanner(System.in);\n\n        String socketAddress = &quot;127.0.0.1&quot;;\n        int socketPort = 6666;\n\n        System.out.println(&quot;*** Welcome to connection driver ***&quot;);\n\n        System.out.print(&quot;s(erver) / c(lient): &quot;);\n        String input = scnr.nextLine();\n\n        // client\n        if (input.equals(&quot;s&quot;)) {\n            Server server = new Server(socketPort);\n            server.connect();\n\n            if (server.disconnect())\n                System.out.println(&quot;Server closed...&quot;);\n            else\n                System.out.println(&quot;Served closing error...&quot;); \n        }\n\n        // server\n        else if (input.equals(&quot;c&quot;)) {\n            String content, serverResponse;\n\n            Client client = new Client(socketAddress, socketPort);\n\n            if (client.getConnectionsTotal() &lt;= 2) {\n                client.connect();\n\n                while (true) {\n                    System.out.print(&quot;&gt; &quot;);\n                    content = scnr.nextLine();\n\n                    serverResponse = client.send(content);\n                    if (serverResponse == null) {\n                        System.out.println(&quot;Goodbye...&quot;);\n\n                        if (client.disconnect())\n                            break;\n                    }\n\n                    System.out.println(&quot;server says: &quot; + serverResponse);\n\n                }\n            }\n            else\n                System.out.println(&quot;Too many connections...&quot;);\n        }\n\n        scnr.close();\n    }\n}\n</code></pre>\n<p>When I run the server and then the client, only one client can communicate with the server. Why won't the server communicate with the second client until the one first disconnects?</p>\n"},{"tags":["java","mockito","java-19"],"comments":[{"owner":{"account_id":18256279,"reputation":659,"user_id":13290159,"display_name":"0x150"},"score":0,"creation_date":1682405658,"post_id":76098328,"comment_id":134205564,"body_markdown":"ThreadLocalRandom is a final class in jdk19+, I can imagine the class not being final in lower versions. It&#39;s not possible to bypass this without changing the java standard library, as far as I know.","body":"ThreadLocalRandom is a final class in jdk19+, I can imagine the class not being final in lower versions. It&#39;s not possible to bypass this without changing the java standard library, as far as I know."},{"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"score":0,"creation_date":1682412206,"post_id":76098328,"comment_id":134207022,"body_markdown":"Why are you wanting to mock a library class in the first place?","body":"Why are you wanting to mock a library class in the first place?"},{"owner":{"account_id":28408271,"reputation":45,"user_id":21731993,"display_name":"sKarwasra"},"score":0,"creation_date":1682419008,"post_id":76098328,"comment_id":134208600,"body_markdown":"Library class is already mocked a long time back by some one in some unit tests, i am upgrading the jdk version.","body":"Library class is already mocked a long time back by some one in some unit tests, i am upgrading the jdk version."},{"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"score":0,"creation_date":1682503540,"post_id":76098328,"comment_id":134225256,"body_markdown":"I am afraind there is no simple fix. If you want to still upgrade the Java version you will need to share here the code of you service in which this &quot;random&quot; is being used. We might propose a workaround solution, which will involve change of implementation of the service and the tests code.","body":"I am afraind there is no simple fix. If you want to still upgrade the Java version you will need to share here the code of you service in which this &quot;random&quot; is being used. We might propose a workaround solution, which will involve change of implementation of the service and the tests code."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1682959333,"post_id":76098328,"comment_id":134290638,"body_markdown":"`ThreadLocalRandom` extends the base class `Random`. It should be possible to mock `Random` (and your code shouldn&#39;t care whether it gets a `Random` or a `ThreadLocalRandom` – LSP)","body":"<code>ThreadLocalRandom</code> extends the base class <code>Random</code>. It should be possible to mock <code>Random</code> (and your code shouldn&#39;t care whether it gets a <code>Random</code> or a <code>ThreadLocalRandom</code> – LSP)"},{"owner":{"account_id":28408271,"reputation":45,"user_id":21731993,"display_name":"sKarwasra"},"score":0,"creation_date":1684144388,"post_id":76098328,"comment_id":134468616,"body_markdown":"I did tried to use Random but then i encountered below error.java.lang.reflect.InaccessibleObjectException: Unable to make private java.util.Random(java.lang.Void) accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @2957fcb0\n\tat java.base/java.lang.reflect.AccessibleObject.throwInaccessibleObjectException(AccessibleObject.java:387)","body":"I did tried to use Random but then i encountered below error.java.lang.reflect.InaccessibleObjectException: Unable to make private java.util.Random(java.lang.Void) accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @2957fcb0 \tat java.base/java.lang.reflect.AccessibleObject.throwInaccessib&zwnj;&#8203;leObjectException(Ac&zwnj;&#8203;cessibleObject.java:&zwnj;&#8203;387)"}],"owner":{"account_id":28408271,"reputation":45,"user_id":21731993,"display_name":"sKarwasra"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682413992,"creation_date":1682405550,"question_id":76098328,"body_markdown":"I am getting below error when I am using Java 19. I tried using `--add-opens=java.base/java.util.concurrent=ALL-UNNAMED`, but that also does not help to resolve below issue. How can I mock ThreadLocalRandom when using Java 19? I am not getting any error if I use Java 17 or below version. Below is the code that generates this error.\r\n    \r\n```java\r\nfinal ThreadLocalRandom random = Mockito.mock(ThreadLocalRandom.class);\r\nMockito.when(random.nextInt(Mockito.anyInt())).thenReturn(0);\r\n```\r\n\r\n&gt; [ERROR] Failures: \r\n&gt; [ERROR] Mockito  \r\n&gt; Cannot mock/spy class java.util.concurrent.ThreadLocalRandom\r\nMockito cannot mock/spy following:\r\n&gt;\r\n&gt; final classes\r\n&gt; anonymous classes\r\n&gt; primitive types\r\n\r\nI tried `--add-opens=java.base/java.util.concurrent=ALL-UNNAMED`. I am expecting it should work as it was working in Java 17.","title":"How to mock/spy class java.util.concurrent.ThreadLocalRandom","body":"<p>I am getting below error when I am using Java 19. I tried using <code>--add-opens=java.base/java.util.concurrent=ALL-UNNAMED</code>, but that also does not help to resolve below issue. How can I mock ThreadLocalRandom when using Java 19? I am not getting any error if I use Java 17 or below version. Below is the code that generates this error.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final ThreadLocalRandom random = Mockito.mock(ThreadLocalRandom.class);\nMockito.when(random.nextInt(Mockito.anyInt())).thenReturn(0);\n</code></pre>\n<blockquote>\n<p>[ERROR] Failures:\n[ERROR] Mockito<br />\nCannot mock/spy class java.util.concurrent.ThreadLocalRandom\nMockito cannot mock/spy following:</p>\n<p>final classes\nanonymous classes\nprimitive types</p>\n</blockquote>\n<p>I tried <code>--add-opens=java.base/java.util.concurrent=ALL-UNNAMED</code>. I am expecting it should work as it was working in Java 17.</p>\n"},{"tags":["java","mysql","sql","spring-boot","hibernate"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1681865914,"post_id":76049942,"comment_id":134124920,"body_markdown":"If you run `SELECT users.id, users.username, roles.id, roles.role\nFROM users\n         JOIN roles ON roles.role = &#39;ADMIN&#39; ORDER BY users.id LIMIT 1;` then what results do you get ?","body":"If you run <code>SELECT users.id, users.username, roles.id, roles.role FROM users          JOIN roles ON roles.role = &#39;ADMIN&#39; ORDER BY users.id LIMIT 1;</code> then what results do you get ?"},{"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"score":0,"creation_date":1681867198,"post_id":76049942,"comment_id":134125020,"body_markdown":"@ScaryWombat I don&#39;t _run_ it, I just put the files in the `resources/sql` folder and hope that Hibernate will","body":"@ScaryWombat I don&#39;t <i>run</i> it, I just put the files in the <code>resources&#47;sql</code> folder and hope that Hibernate will"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1681867286,"post_id":76049942,"comment_id":134125030,"body_markdown":"Yeah but that is not what I am asking.  I suspect that your sql is incorrect, hence asking what debugging you have done and what the results are.  Your question is very unclear.  Whata data are you starting with? What parts are failng (all/last part only)?","body":"Yeah but that is not what I am asking.  I suspect that your sql is incorrect, hence asking what debugging you have done and what the results are.  Your question is very unclear.  Whata data are you starting with? What parts are failng (all/last part only)?"},{"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"score":1,"creation_date":1681867920,"post_id":76049942,"comment_id":134125080,"body_markdown":"@ScaryWombat I have no idea how to debug it. The best thing I could do is to test it on _dbfiddle_ and check the logs with the `logging.level.org.springframework.security=DEBUG` property being present (I mentioned it in the question)","body":"@ScaryWombat I have no idea how to debug it. The best thing I could do is to test it on <i>dbfiddle</i> and check the logs with the <code>logging.level.org.springframework.security=DEBUG</code> property being present (I mentioned it in the question)"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":3,"creation_date":1681868069,"post_id":76049942,"comment_id":134125098,"body_markdown":"I can see that you are using mysql workbench. Why can you not run the query? Why can you not answer the questions I am asking?","body":"I can see that you are using mysql workbench. Why can you not run the query? Why can you not answer the questions I am asking?"},{"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"score":2,"creation_date":1681868296,"post_id":76049942,"comment_id":134125129,"body_markdown":"_Your question is very unclear. Whata data are you starting with? What parts are failng (all/last part only)?_ I believe the answers to those questions are above. I&#39;m starting with the data as described in `data.sql` (it&#39;s supposed to create the tables and the rows I have, except for the last `ADMIN` insert which diverts from my data). The failing part is that `data.sql` doesn&#39;t seem to be working (the first user is not made `ADMIN`). I have a suspicion `data.sql` is not taken into account by Hibernate at all for some reason","body":"<i>Your question is very unclear. Whata data are you starting with? What parts are failng (all/last part only)?</i> I believe the answers to those questions are above. I&#39;m starting with the data as described in <code>data.sql</code> (it&#39;s supposed to create the tables and the rows I have, except for the last <code>ADMIN</code> insert which diverts from my data). The failing part is that <code>data.sql</code> doesn&#39;t seem to be working (the first user is not made <code>ADMIN</code>). I have a suspicion <code>data.sql</code> is not taken into account by Hibernate at all for some reason"},{"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"score":2,"creation_date":1681868556,"post_id":76049942,"comment_id":134125154,"body_markdown":"_Why can you not run the query?_ I can, but, again, it&#39;s not about bad SQL (as proven on _dbfiddle_ I mentioned). It&#39;s about Hibernate. It&#39;s true that I can manually make those inserts in Workbench (they work). But it&#39;s not what I want. I want Hibernate to do it","body":"<i>Why can you not run the query?</i> I can, but, again, it&#39;s not about bad SQL (as proven on <i>dbfiddle</i> I mentioned). It&#39;s about Hibernate. It&#39;s true that I can manually make those inserts in Workbench (they work). But it&#39;s not what I want. I want Hibernate to do it"},{"owner":{"account_id":4151902,"reputation":14863,"user_id":3404097,"display_name":"philipxy"},"score":4,"creation_date":1681891446,"post_id":76049942,"comment_id":134128374,"body_markdown":"Please clarify via edits, not comments. Please delete &amp; flag obsolete comments. Please avoid social &amp; meta commentary in posts. (Please don&#39;t talk about what you think you are and/or are not asking, just ask clearly.) Please pu all &amp; only what is relevant to asking in your post &amp; relate to your question. [Why should I not upload images of code/data/errors when asking a question?](https://meta.stackoverflow.com/q/285551/3404097) [mre] [ask] [Help]","body":"Please clarify via edits, not comments. Please delete &amp; flag obsolete comments. Please avoid social &amp; meta commentary in posts. (Please don&#39;t talk about what you think you are and/or are not asking, just ask clearly.) Please pu all &amp; only what is relevant to asking in your post &amp; relate to your question. <a href=\"https://meta.stackoverflow.com/q/285551/3404097\">Why should I not upload images of code/data/errors when asking a question?</a> <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> <a href=\"https://stackoverflow.com/help\">Help center</a>"},{"owner":{"account_id":4151902,"reputation":14863,"user_id":3404097,"display_name":"philipxy"},"score":2,"creation_date":1681891477,"post_id":76049942,"comment_id":134128378,"body_markdown":"Debug questions require a [mre]--cut &amp; paste &amp; runnable code including initialization; desired &amp; actual output (including verbatim error messages); tags &amp; versions; clear specification &amp; explanation. For SQL include DDL &amp; tabular initialization code. For debug that includes the least code you can give that is code that you show is OK extended by code that you show is not OK. [ask] [Help] When you get a result you don&#39;t expect, pause your overall goal, chop to the 1st subexpression with unexpected result &amp; say what you expected &amp; why, justified by documentation. (Debugging fundamental.)","body":"Debug questions require a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>--cut &amp; paste &amp; runnable code including initialization; desired &amp; actual output (including verbatim error messages); tags &amp; versions; clear specification &amp; explanation. For SQL include DDL &amp; tabular initialization code. For debug that includes the least code you can give that is code that you show is OK extended by code that you show is not OK. <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> <a href=\"https://stackoverflow.com/help\">Help center</a> When you get a result you don&#39;t expect, pause your overall goal, chop to the 1st subexpression with unexpected result &amp; say what you expected &amp; why, justified by documentation. (Debugging fundamental.)"},{"owner":{"account_id":12678745,"reputation":4831,"user_id":9213345,"display_name":"Henke"},"score":1,"creation_date":1681909799,"post_id":76049942,"comment_id":134132806,"body_markdown":"@Scary Wombat, in response to\n[If you run …](https://stackoverflow.com/q/76049942#comment134124920_76049942) –\nI tried your suggested query by making a slight change to\n[the setup provided by the asker](https://dbfiddle.uk/K7MZdKFI).\nThe result was a title row of `id | username | id | role`,\nand the query returned exactly one row, containing\n`1 | mickey_m | 2 | ADMIN`.\nThat query is [here](https://dbfiddle.uk/tZNg49SO).\n--\nBut the question is about ***hibernate*** and not about SQL,\nas is clear from \n[this comment](https://stackoverflow.com/q/76049942#comment134125154_76049942).","body":"@Scary Wombat, in response to <a href=\"https://stackoverflow.com/q/76049942#comment134124920_76049942\">If you run …</a> – I tried your suggested query by making a slight change to <a href=\"https://dbfiddle.uk/K7MZdKFI\" rel=\"nofollow noreferrer\">the setup provided by the asker</a>. The result was a title row of <code>id | username | id | role</code>, and the query returned exactly one row, containing <code>1 | mickey_m | 2 | ADMIN</code>. That query is <a href=\"https://dbfiddle.uk/tZNg49SO\" rel=\"nofollow noreferrer\">here</a>. -- But the question is about <b><i>hibernate</i></b> and not about SQL, as is clear from  <a href=\"https://stackoverflow.com/q/76049942#comment134125154_76049942\">this comment</a>."},{"owner":{"account_id":12678745,"reputation":4831,"user_id":9213345,"display_name":"Henke"},"score":3,"creation_date":1681910903,"post_id":76049942,"comment_id":134133140,"body_markdown":"This question is\n[discussed at Meta Stack Overflow](https://meta.stackoverflow.com/q/424255).","body":"This question is <a href=\"https://meta.stackoverflow.com/q/424255\">discussed at Meta Stack Overflow</a>."},{"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"score":0,"creation_date":1681953023,"post_id":76049942,"comment_id":134141169,"body_markdown":"Or wait, it still works. Somehow the keywords `ROW` got removed so I put them back in their place","body":"Or wait, it still works. Somehow the keywords <code>ROW</code> got removed so I put them back in their place"},{"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"score":0,"creation_date":1681963325,"post_id":76049942,"comment_id":134142126,"body_markdown":"Though, I still don&#39;t understand why it didn&#39;t look into the subdirectories. It&#39;s unusual. For example, `@ComponentScan` does scan subdirectories. So I expected the same here","body":"Though, I still don&#39;t understand why it didn&#39;t look into the subdirectories. It&#39;s unusual. For example, <code>@ComponentScan</code> does scan subdirectories. So I expected the same here"}],"answers":[{"tags":[],"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682413398,"creation_date":1682413398,"answer_id":76099370,"question_id":76049942,"body_markdown":"Make sure you specify the directories of your initialization scripts inside your `application.properties` file in case they are not directly in `resources`\r\n```\r\nspring.sql.init.data-locations=classpath:/sql/data.sql\r\nspring.sql.init.schema-locations=classpath:/sql/schema.sql\r\n```","title":"My initialization scripts (schema.sql, data.sql) do not seem to be executed by Hibernate. Why is that?","body":"<p>Make sure you specify the directories of your initialization scripts inside your <code>application.properties</code> file in case they are not directly in <code>resources</code></p>\n<pre><code>spring.sql.init.data-locations=classpath:/sql/data.sql\nspring.sql.init.schema-locations=classpath:/sql/schema.sql\n</code></pre>\n"}],"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":381,"favorite_count":0,"down_vote_count":9,"up_vote_count":3,"accepted_answer_id":76099370,"answer_count":1,"score":-6,"last_activity_date":1682413678,"creation_date":1681864656,"question_id":76049942,"body_markdown":"Here&#39;s what I want *Hibernate* to do:\r\n\r\n- First, to check the existence of the required table.\r\nIf it&#39;s absent, create it according to my `schema.sql` file.\r\nIf it&#39;s present, update it according to the code in the `@Entity`\r\n class.\r\n\r\n- Second, to fill the `users` tables with sample rows if it&#39;s empty,\r\n and ensure the `roles` table has at least one row with `role = &#39;USER&#39;`,\r\n and one row with `role = &#39;ADMIN&#39;`.\r\n\r\n- Also, fill the `@JoinTable` so that every user is a `USER` except\r\n the first user, who should be an `ADMIN`.\r\n\r\nTo do that, I added these properties in my `application.properties`\r\n file (as per [this Baeldung article][2]):\r\n```\r\n# url, username, password\r\n\r\nspring.jpa.defer-datasource-initialization=true\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.sql.init.mode=always\r\n```\r\nand put `schema.sql` and `data.sql` files in my `resources/sql` directory. These are the trimmed versions of my tables:\r\n```sql\r\n-- schema.sql\r\n\r\nCREATE TABLE users\r\n(\r\n    id         INT          NOT NULL AUTO_INCREMENT,\r\n    username   VARCHAR(15)  NOT NULL UNIQUE,\r\n    password   VARCHAR(200) NOT NULL,\r\n    enabled    TINYINT      NOT NULL,\r\n    PRIMARY KEY (id)\r\n);\r\n\r\nCREATE TABLE roles\r\n(\r\n    id   INT         NOT NULL AUTO_INCREMENT,\r\n    role VARCHAR(15) NOT NULL UNIQUE,\r\n    PRIMARY KEY (id)\r\n);\r\n\r\nCREATE TABLE user_role\r\n(\r\n    user_id  INT         NOT NULL,\r\n    role_id  INT         NOT NULL,\r\n    PRIMARY KEY (user_id, role_id),\r\n    FOREIGN KEY (user_id) REFERENCES users (id),\r\n    FOREIGN KEY (role_id) REFERENCES roles (id)\r\n);\r\n```\r\n```sql\r\n-- data.sql\r\n\r\n-- inserting sample rows if empty\r\n\r\nINSERT INTO users(username, password, enabled)\r\nSELECT *\r\nFROM (VALUES ROW (&#39;mickey_m&#39;,\r\n              -- ↓ it&#39;s &quot;mickey&quot; in a bcrypted form\r\n             &#39;$2y$10$i5SJc2KAriHGn7Dz2rRQHuQ3JfBxlzMaPVKP1YdEJCukryDY9NbVC&#39;,\r\n               1),\r\n\r\n              -- and so on\r\n\r\n               ) AS sample_rows\r\n\r\nWHERE NOT EXISTS(SELECT NULL FROM users);\r\n\r\n-- ensuring the required roles exist\r\n\r\nINSERT IGNORE INTO roles(role)\r\nVALUES (&#39;USER&#39;),\r\n       (&#39;ADMIN&#39;);\r\n\r\n-- filling the @JoinTable: all users must be USERs\r\n\r\nINSERT IGNORE INTO user_role\r\nSELECT users.id, roles.id\r\nFROM users\r\n         JOIN roles ON roles.role = &#39;USER&#39;;\r\n\r\n-- filling the @JoinTable: the first user must also be an ADMIN\r\n\r\nINSERT IGNORE INTO user_role\r\nSELECT users.id, roles.id\r\nFROM users\r\n         JOIN roles ON roles.role = &#39;ADMIN&#39; ORDER BY users.id LIMIT 1;\r\n```\r\n\r\nIt doesn&#39;t work – `data.sql` doesn&#39;t have any effect as the first user\r\n in the `users` table is still not an `ADMIN` after the application&#39;s\r\n startup.\r\n\r\n[![The first user is still not ADMIN.][3]][3]\r\n\r\nI skimmed the console for any `INSERT`-related logs – no luck.\r\n\r\nThe SQL [works as expected][4] on *dbfiddle*.\r\nThe only apparent difference is that on *dbfiddle* the tables are\r\n first explicitly created. (I already have them in my database.)\r\nHowever, I expected `data.sql` to be executed regardless of whether\r\n the tables exist.\r\n\r\nDid I miss some pieces of configuration?\r\n\r\n  [1]: https://stackoverflow.com/questions/76025552/can-hibernate-ever-force-any-constraints-on-table-columns\r\n  [2]: https://www.baeldung.com/spring-boot-data-sql-and-schema-sql\r\n  [3]: https://i.stack.imgur.com/bEQHh.png\r\n  [4]: https://dbfiddle.uk/LOFupilp","title":"My initialization scripts (schema.sql, data.sql) do not seem to be executed by Hibernate. Why is that?","body":"<p>Here's what I want <em>Hibernate</em> to do:</p>\n<ul>\n<li><p>First, to check the existence of the required table.\nIf it's absent, create it according to my <code>schema.sql</code> file.\nIf it's present, update it according to the code in the <code>@Entity</code>\nclass.</p>\n</li>\n<li><p>Second, to fill the <code>users</code> tables with sample rows if it's empty,\nand ensure the <code>roles</code> table has at least one row with <code>role = 'USER'</code>,\nand one row with <code>role = 'ADMIN'</code>.</p>\n</li>\n<li><p>Also, fill the <code>@JoinTable</code> so that every user is a <code>USER</code> except\nthe first user, who should be an <code>ADMIN</code>.</p>\n</li>\n</ul>\n<p>To do that, I added these properties in my <code>application.properties</code>\nfile (as per <a href=\"https://www.baeldung.com/spring-boot-data-sql-and-schema-sql\" rel=\"nofollow noreferrer\">this Baeldung article</a>):</p>\n<pre><code># url, username, password\n\nspring.jpa.defer-datasource-initialization=true\nspring.jpa.hibernate.ddl-auto=update\nspring.sql.init.mode=always\n</code></pre>\n<p>and put <code>schema.sql</code> and <code>data.sql</code> files in my <code>resources/sql</code> directory. These are the trimmed versions of my tables:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>-- schema.sql\n\nCREATE TABLE users\n(\n    id         INT          NOT NULL AUTO_INCREMENT,\n    username   VARCHAR(15)  NOT NULL UNIQUE,\n    password   VARCHAR(200) NOT NULL,\n    enabled    TINYINT      NOT NULL,\n    PRIMARY KEY (id)\n);\n\nCREATE TABLE roles\n(\n    id   INT         NOT NULL AUTO_INCREMENT,\n    role VARCHAR(15) NOT NULL UNIQUE,\n    PRIMARY KEY (id)\n);\n\nCREATE TABLE user_role\n(\n    user_id  INT         NOT NULL,\n    role_id  INT         NOT NULL,\n    PRIMARY KEY (user_id, role_id),\n    FOREIGN KEY (user_id) REFERENCES users (id),\n    FOREIGN KEY (role_id) REFERENCES roles (id)\n);\n</code></pre>\n<pre class=\"lang-sql prettyprint-override\"><code>-- data.sql\n\n-- inserting sample rows if empty\n\nINSERT INTO users(username, password, enabled)\nSELECT *\nFROM (VALUES ROW ('mickey_m',\n              -- ↓ it's &quot;mickey&quot; in a bcrypted form\n             '$2y$10$i5SJc2KAriHGn7Dz2rRQHuQ3JfBxlzMaPVKP1YdEJCukryDY9NbVC',\n               1),\n\n              -- and so on\n\n               ) AS sample_rows\n\nWHERE NOT EXISTS(SELECT NULL FROM users);\n\n-- ensuring the required roles exist\n\nINSERT IGNORE INTO roles(role)\nVALUES ('USER'),\n       ('ADMIN');\n\n-- filling the @JoinTable: all users must be USERs\n\nINSERT IGNORE INTO user_role\nSELECT users.id, roles.id\nFROM users\n         JOIN roles ON roles.role = 'USER';\n\n-- filling the @JoinTable: the first user must also be an ADMIN\n\nINSERT IGNORE INTO user_role\nSELECT users.id, roles.id\nFROM users\n         JOIN roles ON roles.role = 'ADMIN' ORDER BY users.id LIMIT 1;\n</code></pre>\n<p>It doesn't work – <code>data.sql</code> doesn't have any effect as the first user\nin the <code>users</code> table is still not an <code>ADMIN</code> after the application's\nstartup.</p>\n<p><a href=\"https://i.stack.imgur.com/bEQHh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bEQHh.png\" alt=\"The first user is still not ADMIN.\" /></a></p>\n<p>I skimmed the console for any <code>INSERT</code>-related logs – no luck.</p>\n<p>The SQL <a href=\"https://dbfiddle.uk/LOFupilp\" rel=\"nofollow noreferrer\">works as expected</a> on <em>dbfiddle</em>.\nThe only apparent difference is that on <em>dbfiddle</em> the tables are\nfirst explicitly created. (I already have them in my database.)\nHowever, I expected <code>data.sql</code> to be executed regardless of whether\nthe tables exist.</p>\n<p>Did I miss some pieces of configuration?</p>\n"},{"tags":["java","android","android-camera2"],"comments":[{"owner":{"account_id":3477457,"reputation":675,"user_id":2910319,"accept_rate":20,"display_name":"kfir"},"score":0,"creation_date":1683643764,"post_id":76099365,"comment_id":134396208,"body_markdown":"I think you are missing the high speed session concept. for example use &quot;CameraConstrainedHighSpeedCaptureSession&quot; and not &quot;createCaptureSession&quot;. as explained here https://github.com/android/camera-samples/blob/main/Camera2SlowMotion/app/src/main/java/com/example/android/camera2/slowmo/fragments/CameraFragment.kt   take into consideration -&gt; most Samsung devices do not support more then 30 FPS. you can check by your self on &quot;Samsung developer lab&quot;","body":"I think you are missing the high speed session concept. for example use &quot;CameraConstrainedHighSpeedCaptureSession&quot; and not &quot;createCaptureSession&quot;. as explained here <a href=\"https://github.com/android/camera-samples/blob/main/Camera2SlowMotion/app/src/main/java/com/example/android/camera2/slowmo/fragments/CameraFragment.kt\" rel=\"nofollow noreferrer\">github.com/android/camera-samples/blob/main/Camera2SlowMotio&zwnj;&#8203;n/&hellip;</a>   take into consideration -&gt; most Samsung devices do not support more then 30 FPS. you can check by your self on &quot;Samsung developer lab&quot;"}],"owner":{"account_id":28395058,"reputation":1,"user_id":21720249,"display_name":"J S"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682413365,"creation_date":1682413365,"question_id":76099365,"body_markdown":"```\r\nprivate void setupCamera(int width, int height) {\r\n        CameraManager cameraManager = (CameraManager) getContext().getSystemService(Context.CAMERA_SERVICE);\r\n\r\n        try {\r\n            for (String cameraId : cameraManager.getCameraIdList()) {\r\n                CameraCharacteristics cameraCharacteristics = cameraManager.getCameraCharacteristics(cameraId);\r\n                if (cameraCharacteristics.get(CameraCharacteristics.LENS_FACING) == CameraCharacteristics.LENS_FACING_FRONT) {\r\n                    continue;\r\n                }\r\n\r\n                int[] capabilities = cameraCharacteristics.get(CameraCharacteristics.REQUEST_AVAILABLE_CAPABILITIES);\r\n                List&lt;Integer&gt; list = Arrays.stream(capabilities).boxed().collect(Collectors.toList());\r\n                if (!list.contains(CameraCharacteristics.REQUEST_AVAILABLE_CAPABILITIES_CONSTRAINED_HIGH_SPEED_VIDEO)) {\r\n                    continue;\r\n                }\r\n\r\n                // choose optimal size\r\n                StreamConfigurationMap streamConfigurationMap = cameraCharacteristics.get(CameraCharacteristics.SCALER_STREAM_CONFIGURATION_MAP);\r\n                previewSize = streamConfigurationMap.getOutputSizes(SurfaceTexture.class)[0];\r\n                for(Size option : streamConfigurationMap.getOutputSizes(SurfaceTexture.class)) {\r\n                    int areaCurrent = Math.abs((previewSize.getWidth() * previewSize.getHeight()) - (MAX_PREVIEW_WIDTH * MAX_PREVIEW_HEIGHT));\r\n                    int areaNext = Math.abs((option.getWidth() * option.getHeight()) - (MAX_PREVIEW_WIDTH * MAX_PREVIEW_HEIGHT));\r\n\r\n                    if (areaCurrent &gt; areaNext) {\r\n                        previewSize = option;\r\n                    }\r\n                }\r\n\r\n                maxFps = streamConfigurationMap.getHighSpeedVideoFpsRanges()[0];\r\n                for (Range&lt;Integer&gt; option : streamConfigurationMap.getHighSpeedVideoFpsRanges()) {\r\n                   int areaCurrent = Math.abs((maxFps.getLower() * maxFps.getUpper()) - (MAX_VIDEO_LOWER_FPS * MAX_VIDEO_UPPER_FPS));\r\n                   int areaNext = Math.abs((option.getLower() * option.getUpper()) - (MAX_VIDEO_LOWER_FPS * MAX_VIDEO_UPPER_FPS));\r\n\r\n                   if(areaCurrent &gt; areaNext) {\r\n                       maxFps = option;\r\n                   }\r\n                }\r\n\r\n                videoSize = streamConfigurationMap.getHighSpeedVideoSizesFor(maxFps)[0];\r\n                for(Size option : streamConfigurationMap.getOutputSizes(MediaRecorder.class)) {\r\n                    int areaCurrent = Math.abs((videoSize.getWidth() * videoSize.getHeight()) - (MAX_VIDEO_WIDTH * MAX_VIDEO_HEIGHT));\r\n                    int areaNext = Math.abs((option.getWidth() * option.getHeight()) - (MAX_VIDEO_WIDTH * MAX_VIDEO_HEIGHT));\r\n\r\n                    if (areaCurrent &gt; areaNext) {\r\n                        videoSize = option;\r\n                    }\r\n                }\r\n\r\n                int orientation = getResources().getConfiguration().orientation;\r\n                if (orientation == Configuration.ORIENTATION_LANDSCAPE) {\r\n                    textureView.setAspectRatio(previewSize.getWidth(), previewSize.getHeight());\r\n                } else {\r\n                    textureView.setAspectRatio(previewSize.getHeight(), previewSize.getWidth());\r\n                }\r\n\r\n                this.cameraId = cameraId;\r\n                return;\r\n            }\r\n        } catch (CameraAccessException e) {\r\n            Log.e(&quot;CameraAccessException&quot;,e.toString());\r\n        }\r\n    }\r\n```\r\n\r\n```\r\nprivate void startPreview() {\r\n        try {\r\n            if(highSpeedCaptureSession != null) {\r\n                highSpeedCaptureSession.abortCaptures();\r\n                highSpeedCaptureSession.close();\r\n                highSpeedCaptureSession = null;\r\n            }\r\n\r\n            SurfaceTexture surfaceTexture = textureView.getSurfaceTexture();\r\n            surfaceTexture.setDefaultBufferSize(previewSize.getWidth(), previewSize.getHeight());\r\n            Surface previewSurface = new Surface(surfaceTexture);\r\n\r\n            CaptureRequest.Builder captureRequestBuilder = camera.createCaptureRequest(CameraDevice.TEMPLATE_PREVIEW);\r\n            captureRequestBuilder.set(CaptureRequest.CONTROL_AE_TARGET_FPS_RANGE, maxFps);\r\n            captureRequestBuilder.set(CaptureRequest.CONTROL_MODE, CameraMetadata.CONTROL_MODE_AUTO);\r\n            captureRequestBuilder.set(CaptureRequest.CONTROL_AE_MODE, CameraMetadata.CONTROL_AE_MODE_ON);\r\n            captureRequestBuilder.set(CaptureRequest.CONTROL_AE_LOCK, true);\r\n            captureRequestBuilder.set(CaptureRequest.CONTROL_AE_EXPOSURE_COMPENSATION, 0);\r\n            captureRequestBuilder.set(CaptureRequest.CONTROL_AF_MODE, CameraMetadata.CONTROL_AF_MODE_CONTINUOUS_VIDEO);\r\n            captureRequestBuilder.set(CaptureRequest.CONTROL_AWB_MODE, CameraMetadata.CONTROL_AWB_MODE_AUTO);\r\n            captureRequestBuilder.addTarget(previewSurface);\r\n\r\n            camera.createCaptureSession(Arrays.asList(previewSurface),\r\n                    new CameraCaptureSession.StateCallback() {\r\n                        @Override\r\n                        public void onConfigured(@NonNull CameraCaptureSession cameraCaptureSession) {\r\n                            if(camera == null) {\r\n                                return;\r\n                            }\r\n                            try {\r\n                                previewSession = cameraCaptureSession;\r\n                                cameraCaptureSession.setRepeatingRequest(captureRequestBuilder.build(), null, backgroundHandler);\r\n                            } catch (CameraAccessException e) {\r\n                                Log.e(&quot;CameraAccessException&quot;,e.toString());\r\n                            }\r\n                        }\r\n\r\n                        @Override\r\n                        public void onConfigureFailed(@NonNull CameraCaptureSession cameraCaptureSession) {\r\n                            Toast.makeText(getContext(), &quot;Unable to setup camera preview&quot;, Toast.LENGTH_SHORT);\r\n                        }\r\n                    }, null);\r\n        } catch (CameraAccessException e) {\r\n            Log.e(&quot;CameraAccessException&quot;,e.toString());\r\n        }\r\n    }\r\n```\r\n\r\n```\r\n    private void setupMediaRecorder() throws IOException {\r\n        mediaRecorder.setVideoSource(MediaRecorder.VideoSource.SURFACE);\r\n        mediaRecorder.setOutputFormat(MediaRecorder.OutputFormat.MPEG_4);\r\n        mediaRecorder.setOutputFile(videoFileName);\r\n        mediaRecorder.setVideoEncodingBitRate(100000);\r\n        mediaRecorder.setVideoFrameRate(240);\r\n        mediaRecorder.setVideoSize(videoSize.getWidth(), videoSize.getHeight());\r\n        mediaRecorder.setVideoEncoder(MediaRecorder.VideoEncoder.H264);\r\n        mediaRecorder.setOrientationHint(90);\r\n        mediaRecorder.setCaptureRate(240);\r\n        mediaRecorder.prepare();\r\n    }\r\n```\r\n\r\nWhen I set captureRequestBuilder.set(CaptureRequest.CONTROL_AE_TARGET_FPS_RANGE, maxFps) in the camera2 api and run cameraCaptureSession.setRepeatingRequest, the camera turns on in about 5 seconds.\r\n\r\nAnd if you record a video at 240fps, it will be recorded in frames below 240fps, just like 100fps.\r\n\r\nThe maxFps is 240, and I see that the camera supports 240Fps.\r\nThe camera size is 1920\\*1080. The camera size also supports 240 fps.\r\n\r\nWhat if you want the camera to turn on right away?\r\nHelp me!!","title":"When I set captureRequestBuilder.set(CaptureRequest.CONTROL_AE_TARGET_FPS_RANGE, maxFps) in the camera2 api , the camera turns on late","body":"<pre><code>private void setupCamera(int width, int height) {\n        CameraManager cameraManager = (CameraManager) getContext().getSystemService(Context.CAMERA_SERVICE);\n\n        try {\n            for (String cameraId : cameraManager.getCameraIdList()) {\n                CameraCharacteristics cameraCharacteristics = cameraManager.getCameraCharacteristics(cameraId);\n                if (cameraCharacteristics.get(CameraCharacteristics.LENS_FACING) == CameraCharacteristics.LENS_FACING_FRONT) {\n                    continue;\n                }\n\n                int[] capabilities = cameraCharacteristics.get(CameraCharacteristics.REQUEST_AVAILABLE_CAPABILITIES);\n                List&lt;Integer&gt; list = Arrays.stream(capabilities).boxed().collect(Collectors.toList());\n                if (!list.contains(CameraCharacteristics.REQUEST_AVAILABLE_CAPABILITIES_CONSTRAINED_HIGH_SPEED_VIDEO)) {\n                    continue;\n                }\n\n                // choose optimal size\n                StreamConfigurationMap streamConfigurationMap = cameraCharacteristics.get(CameraCharacteristics.SCALER_STREAM_CONFIGURATION_MAP);\n                previewSize = streamConfigurationMap.getOutputSizes(SurfaceTexture.class)[0];\n                for(Size option : streamConfigurationMap.getOutputSizes(SurfaceTexture.class)) {\n                    int areaCurrent = Math.abs((previewSize.getWidth() * previewSize.getHeight()) - (MAX_PREVIEW_WIDTH * MAX_PREVIEW_HEIGHT));\n                    int areaNext = Math.abs((option.getWidth() * option.getHeight()) - (MAX_PREVIEW_WIDTH * MAX_PREVIEW_HEIGHT));\n\n                    if (areaCurrent &gt; areaNext) {\n                        previewSize = option;\n                    }\n                }\n\n                maxFps = streamConfigurationMap.getHighSpeedVideoFpsRanges()[0];\n                for (Range&lt;Integer&gt; option : streamConfigurationMap.getHighSpeedVideoFpsRanges()) {\n                   int areaCurrent = Math.abs((maxFps.getLower() * maxFps.getUpper()) - (MAX_VIDEO_LOWER_FPS * MAX_VIDEO_UPPER_FPS));\n                   int areaNext = Math.abs((option.getLower() * option.getUpper()) - (MAX_VIDEO_LOWER_FPS * MAX_VIDEO_UPPER_FPS));\n\n                   if(areaCurrent &gt; areaNext) {\n                       maxFps = option;\n                   }\n                }\n\n                videoSize = streamConfigurationMap.getHighSpeedVideoSizesFor(maxFps)[0];\n                for(Size option : streamConfigurationMap.getOutputSizes(MediaRecorder.class)) {\n                    int areaCurrent = Math.abs((videoSize.getWidth() * videoSize.getHeight()) - (MAX_VIDEO_WIDTH * MAX_VIDEO_HEIGHT));\n                    int areaNext = Math.abs((option.getWidth() * option.getHeight()) - (MAX_VIDEO_WIDTH * MAX_VIDEO_HEIGHT));\n\n                    if (areaCurrent &gt; areaNext) {\n                        videoSize = option;\n                    }\n                }\n\n                int orientation = getResources().getConfiguration().orientation;\n                if (orientation == Configuration.ORIENTATION_LANDSCAPE) {\n                    textureView.setAspectRatio(previewSize.getWidth(), previewSize.getHeight());\n                } else {\n                    textureView.setAspectRatio(previewSize.getHeight(), previewSize.getWidth());\n                }\n\n                this.cameraId = cameraId;\n                return;\n            }\n        } catch (CameraAccessException e) {\n            Log.e(&quot;CameraAccessException&quot;,e.toString());\n        }\n    }\n</code></pre>\n<pre><code>private void startPreview() {\n        try {\n            if(highSpeedCaptureSession != null) {\n                highSpeedCaptureSession.abortCaptures();\n                highSpeedCaptureSession.close();\n                highSpeedCaptureSession = null;\n            }\n\n            SurfaceTexture surfaceTexture = textureView.getSurfaceTexture();\n            surfaceTexture.setDefaultBufferSize(previewSize.getWidth(), previewSize.getHeight());\n            Surface previewSurface = new Surface(surfaceTexture);\n\n            CaptureRequest.Builder captureRequestBuilder = camera.createCaptureRequest(CameraDevice.TEMPLATE_PREVIEW);\n            captureRequestBuilder.set(CaptureRequest.CONTROL_AE_TARGET_FPS_RANGE, maxFps);\n            captureRequestBuilder.set(CaptureRequest.CONTROL_MODE, CameraMetadata.CONTROL_MODE_AUTO);\n            captureRequestBuilder.set(CaptureRequest.CONTROL_AE_MODE, CameraMetadata.CONTROL_AE_MODE_ON);\n            captureRequestBuilder.set(CaptureRequest.CONTROL_AE_LOCK, true);\n            captureRequestBuilder.set(CaptureRequest.CONTROL_AE_EXPOSURE_COMPENSATION, 0);\n            captureRequestBuilder.set(CaptureRequest.CONTROL_AF_MODE, CameraMetadata.CONTROL_AF_MODE_CONTINUOUS_VIDEO);\n            captureRequestBuilder.set(CaptureRequest.CONTROL_AWB_MODE, CameraMetadata.CONTROL_AWB_MODE_AUTO);\n            captureRequestBuilder.addTarget(previewSurface);\n\n            camera.createCaptureSession(Arrays.asList(previewSurface),\n                    new CameraCaptureSession.StateCallback() {\n                        @Override\n                        public void onConfigured(@NonNull CameraCaptureSession cameraCaptureSession) {\n                            if(camera == null) {\n                                return;\n                            }\n                            try {\n                                previewSession = cameraCaptureSession;\n                                cameraCaptureSession.setRepeatingRequest(captureRequestBuilder.build(), null, backgroundHandler);\n                            } catch (CameraAccessException e) {\n                                Log.e(&quot;CameraAccessException&quot;,e.toString());\n                            }\n                        }\n\n                        @Override\n                        public void onConfigureFailed(@NonNull CameraCaptureSession cameraCaptureSession) {\n                            Toast.makeText(getContext(), &quot;Unable to setup camera preview&quot;, Toast.LENGTH_SHORT);\n                        }\n                    }, null);\n        } catch (CameraAccessException e) {\n            Log.e(&quot;CameraAccessException&quot;,e.toString());\n        }\n    }\n</code></pre>\n<pre><code>    private void setupMediaRecorder() throws IOException {\n        mediaRecorder.setVideoSource(MediaRecorder.VideoSource.SURFACE);\n        mediaRecorder.setOutputFormat(MediaRecorder.OutputFormat.MPEG_4);\n        mediaRecorder.setOutputFile(videoFileName);\n        mediaRecorder.setVideoEncodingBitRate(100000);\n        mediaRecorder.setVideoFrameRate(240);\n        mediaRecorder.setVideoSize(videoSize.getWidth(), videoSize.getHeight());\n        mediaRecorder.setVideoEncoder(MediaRecorder.VideoEncoder.H264);\n        mediaRecorder.setOrientationHint(90);\n        mediaRecorder.setCaptureRate(240);\n        mediaRecorder.prepare();\n    }\n</code></pre>\n<p>When I set captureRequestBuilder.set(CaptureRequest.CONTROL_AE_TARGET_FPS_RANGE, maxFps) in the camera2 api and run cameraCaptureSession.setRepeatingRequest, the camera turns on in about 5 seconds.</p>\n<p>And if you record a video at 240fps, it will be recorded in frames below 240fps, just like 100fps.</p>\n<p>The maxFps is 240, and I see that the camera supports 240Fps.\nThe camera size is 1920*1080. The camera size also supports 240 fps.</p>\n<p>What if you want the camera to turn on right away?\nHelp me!!</p>\n"},{"tags":["java","android","kotlin","android-9.0-pie","android-network-security-config"],"answers":[{"comments":[{"owner":{"account_id":5717473,"reputation":503,"user_id":4517149,"accept_rate":26,"display_name":"Wyatt"},"score":3,"creation_date":1553806078,"post_id":51902630,"comment_id":97533757,"body_markdown":"@Xenolion After I made these changes (with a React Native application) it no longer builds. &quot;Manifest merger not successful&quot;. &quot;Attribute application@networkSecurityConfig value=(@xml/react_native_config) from AndroidManifest.xml:7:7-67 is also present at AndroidManifest.xml:7:7-67 value=(@xml/network_security_config). Any  ideas?","body":"@Xenolion After I made these changes (with a React Native application) it no longer builds. &quot;Manifest merger not successful&quot;. &quot;Attribute application@networkSecurityConfig value=(@xml/react_native_config) from AndroidManifest.xml:7:7-67 is also present at AndroidManifest.xml:7:7-67 value=(@xml/network_security_config). Any  ideas?"},{"owner":{"account_id":4297575,"reputation":323,"user_id":3512209,"accept_rate":100,"display_name":"Dante Cervantes"},"score":0,"creation_date":1556062015,"post_id":51902630,"comment_id":98307580,"body_markdown":"@Wyatt im having same issue as you, did you find any solution?","body":"@Wyatt im having same issue as you, did you find any solution?"},{"owner":{"account_id":8306874,"reputation":4849,"user_id":6243553,"accept_rate":67,"display_name":"HarshitMadhav"},"score":1,"creation_date":1556169147,"post_id":51902630,"comment_id":98347152,"body_markdown":"@DanteCervantes check out my answer above.","body":"@DanteCervantes check out my answer above."},{"owner":{"account_id":2573026,"reputation":807,"user_id":2231299,"accept_rate":45,"display_name":"Myoch"},"score":0,"creation_date":1558888236,"post_id":51902630,"comment_id":99239886,"body_markdown":"is the app down listed in the PlayStore if we use the &quot;android:usesCleartextTraffic=&quot;true&quot;. I know that for the Google Search Engine, it can affect your rank if your website does not provide https access.","body":"is the app down listed in the PlayStore if we use the &quot;android:usesCleartextTraffic=&quot;true&quot;. I know that for the Google Search Engine, it can affect your rank if your website does not provide https access."},{"owner":{"account_id":4765923,"reputation":6843,"user_id":3899126,"accept_rate":58,"display_name":"CraZyDroiD"},"score":13,"creation_date":1562297819,"post_id":51902630,"comment_id":100338283,"body_markdown":"Where can i find the xml folder in react native project","body":"Where can i find the xml folder in react native project"},{"owner":{"account_id":1671696,"reputation":3017,"user_id":1538042,"accept_rate":50,"display_name":"Mihir Bhatt"},"score":2,"creation_date":1562402454,"post_id":51902630,"comment_id":100368450,"body_markdown":"Waste plenty of time figuring out this is actually HTTP issue. normally it shows ERROR on HTTP RESPONSE","body":"Waste plenty of time figuring out this is actually HTTP issue. normally it shows ERROR on HTTP RESPONSE"},{"owner":{"account_id":8964121,"reputation":12195,"user_id":6740698,"display_name":"Xenolion"},"score":0,"creation_date":1562406447,"post_id":51902630,"comment_id":100369163,"body_markdown":"Just add the first statement `android:usesCleartextTraffic=&quot;true&quot;` in your Android Manifest for React Native. @CraZyDroiD","body":"Just add the first statement <code>android:usesCleartextTraffic=&quot;true&quot;</code> in your Android Manifest for React Native. @CraZyDroiD"},{"owner":{"account_id":10974853,"reputation":292,"user_id":8063842,"display_name":"S.Ambika"},"score":0,"creation_date":1611900251,"post_id":51902630,"comment_id":116603602,"body_markdown":"This is not working in case of opening third party link inside webview. Please help","body":"This is not working in case of opening third party link inside webview. Please help"},{"owner":{"account_id":12225263,"reputation":163,"user_id":11289830,"display_name":"babbin tandukar"},"score":0,"creation_date":1633362005,"post_id":51902630,"comment_id":122733663,"body_markdown":"It doest work on api below 23 , not working on lollipop or below device","body":"It doest work on api below 23 , not working on lollipop or below device"},{"owner":{"account_id":2669774,"reputation":3836,"user_id":2307418,"accept_rate":60,"display_name":"Ahmed Lotfy"},"score":1,"creation_date":1676893504,"post_id":51902630,"comment_id":133222877,"body_markdown":"AndroidManifest and network_security_config files are located in React native at \n`android/app/src/main/AndroidManifest.xml`\n`android/app/src/main/res/xml/network_security_config.xml`","body":"AndroidManifest and network_security_config files are located in React native at  <code>android&#47;app&#47;src&#47;main&#47;AndroidManifest.xml</code> <code>android&#47;app&#47;src&#47;main&#47;res&#47;xml&#47;network_security_config.xml</code>"}],"tags":[],"owner":{"account_id":8964121,"reputation":12195,"user_id":6740698,"display_name":"Xenolion"},"comment_count":10,"down_vote_count":0,"up_vote_count":417,"is_accepted":true,"score":417,"last_activity_date":1583471142,"creation_date":1534538687,"answer_id":51902630,"question_id":51902629,"body_markdown":"The easy way to implement this is to use this attribute to your `AndroidManifest.xml` where you allow all `http` for all requests:\r\n\r\n    &lt;application android:usesCleartextTraffic=&quot;true&quot;&gt;\r\n    &lt;/application&gt;\r\n\r\nBut in case you want some **more configurations** for different links for instance, allowing `http` for some domains but not other domains you must provide `res/xml/networkSecurityConfig.xml` file.\r\n\r\nTo do this in Android 9 Pie you will have to set a `networkSecurityConfig` in your Manifest `application` tag like this:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest ... &gt;\r\n        &lt;application android:networkSecurityConfig=&quot;@xml/network_security_config&quot;&gt;\r\n        \r\n\r\n\r\n\r\n        &lt;/application&gt;\r\n    &lt;/manifest&gt;\r\nThen in your `xml` folder you now have to create a file named `network_security_config` just like the way you have named it in the Manifest and from there the content of your file should be like this to enable all requests without encryptions:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;network-security-config&gt;\r\n        &lt;base-config cleartextTrafficPermitted=&quot;true&quot;&gt;\r\n            &lt;trust-anchors&gt;\r\n                &lt;certificates src=&quot;system&quot; /&gt;\r\n            &lt;/trust-anchors&gt;\r\n        &lt;/base-config&gt;\r\n    &lt;/network-security-config&gt;\r\nFrom there you are good to go. Now your app will make requests for all types of connections. For additional information on this topic [read here][1].\r\n\r\n\r\n  [1]: https://developer.android.com/training/articles/security-config","title":"How to allow all Network connection types HTTP and HTTPS in Android (9) Pie?","body":"<p>The easy way to implement this is to use this attribute to your <code>AndroidManifest.xml</code> where you allow all <code>http</code> for all requests:</p>\n\n<pre><code>&lt;application android:usesCleartextTraffic=\"true\"&gt;\n&lt;/application&gt;\n</code></pre>\n\n<p>But in case you want some <strong>more configurations</strong> for different links for instance, allowing <code>http</code> for some domains but not other domains you must provide <code>res/xml/networkSecurityConfig.xml</code> file.</p>\n\n<p>To do this in Android 9 Pie you will have to set a <code>networkSecurityConfig</code> in your Manifest <code>application</code> tag like this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest ... &gt;\n    &lt;application android:networkSecurityConfig=\"@xml/network_security_config\"&gt;\n\n\n\n\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n\n<p>Then in your <code>xml</code> folder you now have to create a file named <code>network_security_config</code> just like the way you have named it in the Manifest and from there the content of your file should be like this to enable all requests without encryptions:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;network-security-config&gt;\n    &lt;base-config cleartextTrafficPermitted=\"true\"&gt;\n        &lt;trust-anchors&gt;\n            &lt;certificates src=\"system\" /&gt;\n        &lt;/trust-anchors&gt;\n    &lt;/base-config&gt;\n&lt;/network-security-config&gt;\n</code></pre>\n\n<p>From there you are good to go. Now your app will make requests for all types of connections. For additional information on this topic <a href=\"https://developer.android.com/training/articles/security-config\" rel=\"noreferrer\">read here</a>.</p>\n"},{"comments":[{"owner":{"account_id":5875574,"reputation":570,"user_id":4626485,"accept_rate":90,"display_name":"Amir Heshmati"},"score":0,"creation_date":1605893016,"post_id":55827042,"comment_id":114801386,"body_markdown":"It throws exception on flutter ```E/flutter (19798): [ERROR:flutter/shell/common/shell.cc(209)] Dart Unhandled Exception: Invalid argument (domain): Invalid domain name: &quot;localhost&quot;, stack trace: #0      new _DomainNetworkPolicy (dart:io/network_policy.dart:85:7)```","body":"It throws exception on flutter <code>E&#47;flutter (19798): [ERROR:flutter&#47;shell&#47;common&#47;shell.cc(209)] Dart Unhandled Exception: Invalid argument (domain): Invalid domain name: &quot;localhost&quot;, stack trace: #0      new _DomainNetworkPolicy (dart:io&#47;network_policy.dart:85:7)</code>"},{"owner":{"account_id":4081840,"reputation":166,"user_id":3727909,"display_name":"Mehdi Nourollah"},"score":1,"creation_date":1610013153,"post_id":55827042,"comment_id":116000699,"body_markdown":"It&#39;s working for me now Thanks ...BTW I&#39;m using React Natice","body":"It&#39;s working for me now Thanks ...BTW I&#39;m using React Natice"},{"owner":{"account_id":13043636,"reputation":211,"user_id":9426185,"display_name":"Scott Plunkett"},"score":0,"creation_date":1628823231,"post_id":55827042,"comment_id":121529350,"body_markdown":"This worked for me w/ React Native 60.6, Android 10, Gradle 3.4.3... if running in emulator and you still have issues with connecting to packaging server, try `adb reverse tcp:8081 tcp:8081` in your terminal (assuming 8081 is the port metro bundler is running on)","body":"This worked for me w/ React Native 60.6, Android 10, Gradle 3.4.3... if running in emulator and you still have issues with connecting to packaging server, try <code>adb reverse tcp:8081 tcp:8081</code> in your terminal (assuming 8081 is the port metro bundler is running on)"}],"tags":[],"owner":{"account_id":12850900,"reputation":141,"user_id":9295847,"display_name":"Kaviyarasu Duraisamy"},"comment_count":3,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1556104592,"creation_date":1556098954,"answer_id":55827042,"question_id":51902629,"body_markdown":"For `React Native` applications while running in debug add the `xml block` mentioned by @Xenolion to `react_native_config.xml` located in `&lt;project&gt;/android/app/src/debug/res/xml`\r\n\r\nSimilar to the following snippet:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;network-security-config&gt;\r\n        &lt;domain-config cleartextTrafficPermitted=&quot;true&quot;&gt;\r\n            &lt;domain includeSubdomains=&quot;false&quot;&gt;localhost&lt;/domain&gt;\r\n            &lt;domain includeSubdomains=&quot;false&quot;&gt;10.0.2.2&lt;/domain&gt;\r\n            &lt;domain includeSubdomains=&quot;false&quot;&gt;10.0.3.2&lt;/domain&gt;\r\n        &lt;/domain-config&gt;\r\n        &lt;base-config cleartextTrafficPermitted=&quot;true&quot;&gt;\r\n            &lt;trust-anchors&gt;\r\n                &lt;certificates src=&quot;system&quot; /&gt;\r\n            &lt;/trust-anchors&gt;\r\n        &lt;/base-config&gt;\r\n    &lt;/network-security-config&gt;","title":"How to allow all Network connection types HTTP and HTTPS in Android (9) Pie?","body":"<p>For <code>React Native</code> applications while running in debug add the <code>xml block</code> mentioned by @Xenolion to <code>react_native_config.xml</code> located in <code>&lt;project&gt;/android/app/src/debug/res/xml</code></p>\n\n<p>Similar to the following snippet:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;network-security-config&gt;\n    &lt;domain-config cleartextTrafficPermitted=\"true\"&gt;\n        &lt;domain includeSubdomains=\"false\"&gt;localhost&lt;/domain&gt;\n        &lt;domain includeSubdomains=\"false\"&gt;10.0.2.2&lt;/domain&gt;\n        &lt;domain includeSubdomains=\"false\"&gt;10.0.3.2&lt;/domain&gt;\n    &lt;/domain-config&gt;\n    &lt;base-config cleartextTrafficPermitted=\"true\"&gt;\n        &lt;trust-anchors&gt;\n            &lt;certificates src=\"system\" /&gt;\n        &lt;/trust-anchors&gt;\n    &lt;/base-config&gt;\n&lt;/network-security-config&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7397190,"reputation":1034,"user_id":5628693,"display_name":"Venkatesh"},"score":2,"creation_date":1556166954,"post_id":55834683,"comment_id":98346614,"body_markdown":"Wow thanks its working fine in my app ,before its showing i/o failure issue now solved","body":"Wow thanks its working fine in my app ,before its showing i/o failure issue now solved"},{"owner":{"account_id":7293038,"reputation":604,"user_id":5558829,"display_name":"Ziyo"},"score":11,"creation_date":1558024296,"post_id":55834683,"comment_id":98972435,"body_markdown":"if you get `tools:ignore` error, make sure to add `xmlns:tools=&quot;http://schemas.android.com/tools&quot;` inside your `application`. Like so `&lt;application xmlns:tools=&quot;http://schemas.android.com/tools&quot; ...`","body":"if you get <code>tools:ignore</code> error, make sure to add <code>xmlns:tools=&quot;http:&#47;&#47;schemas.android.com&#47;tools&quot;</code> inside your <code>application</code>. Like so <code>&lt;application xmlns:tools=&quot;http:&#47;&#47;schemas.android.com&#47;tools&quot; ...</code>"},{"owner":{"account_id":4142854,"reputation":1774,"user_id":3397521,"accept_rate":79,"display_name":"Abdul Sadik Yalcin"},"score":2,"creation_date":1582805480,"post_id":55834683,"comment_id":106908228,"body_markdown":"I know this is an android question but might help for react-native developers, the ios solution is to add `NSAppTransportSecurity` to info.plist. https://stackoverflow.com/questions/38418998/react-native-fetch-network-request-failed","body":"I know this is an android question but might help for react-native developers, the ios solution is to add <code>NSAppTransportSecurity</code> to info.plist. <a href=\"https://stackoverflow.com/questions/38418998/react-native-fetch-network-request-failed\" title=\"react native fetch network request failed\">stackoverflow.com/questions/38418998/&hellip;</a>"},{"owner":{"account_id":1597837,"reputation":4000,"user_id":1479511,"accept_rate":57,"display_name":"Narendra Singh"},"score":0,"creation_date":1601465738,"post_id":55834683,"comment_id":113415510,"body_markdown":"@HarshitAgrawal I am still unable to download pdf file (having http url) in React Native App. Though, `https url` are working fine. I have tried adding `android:usesCleartextTraffic=&quot;true&quot;` and `uses-library` part, but still no luck :(","body":"@HarshitAgrawal I am still unable to download pdf file (having http url) in React Native App. Though, <code>https url</code> are working fine. I have tried adding <code>android:usesCleartextTraffic=&quot;true&quot;</code> and <code>uses-library</code> part, but still no luck :("},{"owner":{"account_id":8306874,"reputation":4849,"user_id":6243553,"accept_rate":67,"display_name":"HarshitMadhav"},"score":0,"creation_date":1602155063,"post_id":55834683,"comment_id":113633784,"body_markdown":"@NarendraSingh try to check whether the pdf url is valid or not and also use react-native-fs to access the file system of app to download the pdf.","body":"@NarendraSingh try to check whether the pdf url is valid or not and also use react-native-fs to access the file system of app to download the pdf."},{"owner":{"account_id":1597837,"reputation":4000,"user_id":1479511,"accept_rate":57,"display_name":"Narendra Singh"},"score":0,"creation_date":1602504393,"post_id":55834683,"comment_id":113732504,"body_markdown":"@HarshitAgrawal Yes, pdf url is valid, I tried with various urls to ensure that. Also, I tried a few other methods and libs including `Linking` and `react-native-file-download`, but none of them worked for https url.","body":"@HarshitAgrawal Yes, pdf url is valid, I tried with various urls to ensure that. Also, I tried a few other methods and libs including <code>Linking</code> and <code>react-native-file-download</code>, but none of them worked for https url."},{"owner":{"account_id":8306874,"reputation":4849,"user_id":6243553,"accept_rate":67,"display_name":"HarshitMadhav"},"score":0,"creation_date":1602576096,"post_id":55834683,"comment_id":113756422,"body_markdown":"@NarendraSingh which version are you using of react native?","body":"@NarendraSingh which version are you using of react native?"},{"owner":{"account_id":8306874,"reputation":4849,"user_id":6243553,"accept_rate":67,"display_name":"HarshitMadhav"},"score":0,"creation_date":1602646863,"post_id":55834683,"comment_id":113783591,"body_markdown":"@NarendraSingh check whether it is related to Flipper issue in react native.","body":"@NarendraSingh check whether it is related to Flipper issue in react native."}],"tags":[],"owner":{"account_id":8306874,"reputation":4849,"user_id":6243553,"accept_rate":67,"display_name":"HarshitMadhav"},"comment_count":8,"down_vote_count":3,"up_vote_count":58,"is_accepted":false,"score":55,"last_activity_date":1582805205,"creation_date":1556123282,"answer_id":55834683,"question_id":51902629,"body_markdown":"The **FULLY WORKING SOLUTION** for both **`Android`** or **`React-native`** users facing this issue just add this \r\n`android:usesCleartextTraffic=&quot;true&quot;`\r\n in **AndroidManifest.xml** file like this:\r\n\r\n    android:usesCleartextTraffic=&quot;true&quot;\r\n    tools:ignore=&quot;GoogleAppIndexingWarning&quot;&gt;\r\n    &lt;uses-library\r\n        android:name=&quot;org.apache.http.legacy&quot;\r\n        android:required=&quot;false&quot; /&gt;\r\n\r\nin between `&lt;application&gt;`.. `&lt;/application&gt;` tag like this:\r\n\r\n    &lt;application\r\n          android:name=&quot;.MainApplication&quot;\r\n          android:label=&quot;@string/app_name&quot;\r\n          android:icon=&quot;@mipmap/ic_launcher&quot;\r\n          android:allowBackup=&quot;false&quot;\r\n          android:theme=&quot;@style/AppTheme&quot;\r\n            android:usesCleartextTraffic=&quot;true&quot;\r\n            tools:ignore=&quot;GoogleAppIndexingWarning&quot;&gt;\r\n            &lt;uses-library\r\n                android:name=&quot;org.apache.http.legacy&quot;\r\n                android:required=&quot;false&quot; /&gt;\r\n          &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:label=&quot;@string/app_name&quot;/&gt;\r\n     &lt;/application&gt;\r\n\r\n","title":"How to allow all Network connection types HTTP and HTTPS in Android (9) Pie?","body":"<p>The <strong>FULLY WORKING SOLUTION</strong> for both <strong><code>Android</code></strong> or <strong><code>React-native</code></strong> users facing this issue just add this \n<code>android:usesCleartextTraffic=\"true\"</code>\n in <strong>AndroidManifest.xml</strong> file like this:</p>\n\n<pre><code>android:usesCleartextTraffic=\"true\"\ntools:ignore=\"GoogleAppIndexingWarning\"&gt;\n&lt;uses-library\n    android:name=\"org.apache.http.legacy\"\n    android:required=\"false\" /&gt;\n</code></pre>\n\n<p>in between <code>&lt;application&gt;</code>.. <code>&lt;/application&gt;</code> tag like this:</p>\n\n<pre><code>&lt;application\n      android:name=\".MainApplication\"\n      android:label=\"@string/app_name\"\n      android:icon=\"@mipmap/ic_launcher\"\n      android:allowBackup=\"false\"\n      android:theme=\"@style/AppTheme\"\n        android:usesCleartextTraffic=\"true\"\n        tools:ignore=\"GoogleAppIndexingWarning\"&gt;\n        &lt;uses-library\n            android:name=\"org.apache.http.legacy\"\n            android:required=\"false\" /&gt;\n      &lt;activity\n        android:name=\".MainActivity\"\n        android:label=\"@string/app_name\"/&gt;\n &lt;/application&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15373734,"reputation":1,"user_id":11091094,"display_name":"user11091094"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557153527,"creation_date":1557151619,"answer_id":56006858,"question_id":51902629,"body_markdown":"You may check if you are sending clearText through HTTP\r\nFix : https://medium.com/@son.rommer/fix-cleartext-traffic-error-in-android-9-pie-2f4e9e2235e6\r\n &lt;br /&gt; OR &lt;br /&gt;\r\nIn the Case of  Apache HTTP client deprecation  (From Google ) :\r\nWith Android 6.0, we removed support for the Apache HTTP client. Beginning with Android 9, that library is removed from the bootclasspath and is not available to apps by default.\r\nTo continue using the Apache HTTP client, apps that target Android 9 and above can add the following to their AndroidManifest.xml:\r\n\r\n&lt;uses-library android:name=&quot;org.apache.http.legacy&quot; android:required=&quot;false&quot;/&gt;\r\n\r\nSource \r\nhttps://developer.android.com/about/versions/pie/android-9.0-changes-28","title":"How to allow all Network connection types HTTP and HTTPS in Android (9) Pie?","body":"<p>You may check if you are sending clearText through HTTP\nFix : <a href=\"https://medium.com/@son.rommer/fix-cleartext-traffic-error-in-android-9-pie-2f4e9e2235e6\" rel=\"nofollow noreferrer\">https://medium.com/@son.rommer/fix-cleartext-traffic-error-in-android-9-pie-2f4e9e2235e6</a>\n <br /> OR <br />\nIn the Case of  Apache HTTP client deprecation  (From Google ) :\nWith Android 6.0, we removed support for the Apache HTTP client. Beginning with Android 9, that library is removed from the bootclasspath and is not available to apps by default.\nTo continue using the Apache HTTP client, apps that target Android 9 and above can add the following to their AndroidManifest.xml:</p>\n\n<p></p>\n\n<p>Source \n<a href=\"https://developer.android.com/about/versions/pie/android-9.0-changes-28\" rel=\"nofollow noreferrer\">https://developer.android.com/about/versions/pie/android-9.0-changes-28</a></p>\n"},{"tags":[],"owner":{"account_id":8644462,"reputation":1764,"user_id":6472077,"accept_rate":25,"display_name":"Asif Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1558525666,"creation_date":1558432835,"answer_id":56235810,"question_id":51902629,"body_markdown":"Just set `usesCleartextTraffic` flag in the application tag of `AndroidManifest.xml` file.\r\nNo need to create config file for Android.\r\n\r\n\r\n     &lt;application\r\n       android:usesCleartextTraffic=&quot;true&quot;\r\n       .\r\n       .\r\n       .&gt;","title":"How to allow all Network connection types HTTP and HTTPS in Android (9) Pie?","body":"<p>Just set <code>usesCleartextTraffic</code> flag in the application tag of <code>AndroidManifest.xml</code> file.\nNo need to create config file for Android.</p>\n\n<pre><code> &lt;application\n   android:usesCleartextTraffic=\"true\"\n   .\n   .\n   .&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3015778,"reputation":480,"user_id":2689806,"display_name":"Raj Kanchan"},"score":1,"creation_date":1621015014,"post_id":56255702,"comment_id":119376816,"body_markdown":"I had the same issue on 14th May 2021, with the help of @Mehul Solanki. The problem got fixed.","body":"I had the same issue on 14th May 2021, with the help of @Mehul Solanki. The problem got fixed."}],"tags":[],"owner":{"account_id":11136625,"reputation":1097,"user_id":8174825,"display_name":"Mehul Solanki"},"comment_count":1,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1558524041,"creation_date":1558524041,"answer_id":56255702,"question_id":51902629,"body_markdown":"A simple way is set `android:usesCleartextTraffic=&quot;true&quot;` on you `AndroidManifest.xml` \r\n\r\n    android:usesCleartextTraffic=&quot;true&quot;\r\n\r\nYour `AndroidManifest.xml` look like \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest package=&quot;com.dww.drmanar&quot;&gt;\r\n       &lt;application\r\n           android:icon=&quot;@mipmap/ic_launcher&quot;\r\n           android:label=&quot;@string/app_name&quot;\r\n           android:usesCleartextTraffic=&quot;true&quot;\r\n           android:theme=&quot;@style/AppTheme&quot;\r\n           tools:targetApi=&quot;m&quot;&gt;\r\n           &lt;activity\r\n                android:name=&quot;.activity.SplashActivity&quot;\r\n                android:theme=&quot;@style/FullscreenTheme&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n           &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    &lt;/manifest&gt;\r\n\r\nI hope this will help you.","title":"How to allow all Network connection types HTTP and HTTPS in Android (9) Pie?","body":"<p>A simple way is set <code>android:usesCleartextTraffic=\"true\"</code> on you <code>AndroidManifest.xml</code> </p>\n\n<pre><code>android:usesCleartextTraffic=\"true\"\n</code></pre>\n\n<p>Your <code>AndroidManifest.xml</code> look like </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest package=\"com.dww.drmanar\"&gt;\n   &lt;application\n       android:icon=\"@mipmap/ic_launcher\"\n       android:label=\"@string/app_name\"\n       android:usesCleartextTraffic=\"true\"\n       android:theme=\"@style/AppTheme\"\n       tools:targetApi=\"m\"&gt;\n       &lt;activity\n            android:name=\".activity.SplashActivity\"\n            android:theme=\"@style/FullscreenTheme\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n       &lt;/activity&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n\n<p>I hope this will help you.</p>\n"},{"comments":[{"owner":{"account_id":10196670,"reputation":478,"user_id":7528285,"display_name":"diAz"},"score":1,"creation_date":1664466665,"post_id":58471337,"comment_id":130483728,"body_markdown":"Yes easy, but this is the least safe solution.","body":"Yes easy, but this is the least safe solution."}],"tags":[],"owner":{"account_id":2934584,"reputation":9741,"user_id":2513873,"accept_rate":100,"display_name":"Arshid KV"},"comment_count":1,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1571561130,"creation_date":1571561130,"answer_id":58471337,"question_id":51902629,"body_markdown":"**Easy Way**\r\n\r\nAdd `usesCleartextTraffic` to **AndroidManifest.xml** \r\n\r\n    &lt;application\r\n    ...\r\n    android:usesCleartextTraffic=&quot;true&quot;\r\n    ...&gt;\r\n\r\nIndicates whether the app intends to use cleartext network traffic, such as cleartext HTTP. The default value for apps that target API **level 27** or lower is &quot;true&quot;. Apps that target API **level 28** or higher default to &quot;false&quot;.","title":"How to allow all Network connection types HTTP and HTTPS in Android (9) Pie?","body":"<p><strong>Easy Way</strong></p>\n\n<p>Add <code>usesCleartextTraffic</code> to <strong>AndroidManifest.xml</strong> </p>\n\n<pre><code>&lt;application\n...\nandroid:usesCleartextTraffic=\"true\"\n...&gt;\n</code></pre>\n\n<p>Indicates whether the app intends to use cleartext network traffic, such as cleartext HTTP. The default value for apps that target API <strong>level 27</strong> or lower is \"true\". Apps that target API <strong>level 28</strong> or higher default to \"false\".</p>\n"},{"comments":[{"owner":{"account_id":10342476,"reputation":1935,"user_id":7628381,"accept_rate":14,"display_name":"pratik jaiswal"},"score":0,"creation_date":1575374929,"post_id":58820940,"comment_id":104537687,"body_markdown":"can you please answer this https://stackoverflow.com/questions/59116787/failed-to-load-resource-neterr-cleartext-not-permitted","body":"can you please answer this <a href=\"https://stackoverflow.com/questions/59116787/failed-to-load-resource-neterr-cleartext-not-permitted\" title=\"failed to load resource neterr cleartext not permitted\">stackoverflow.com/questions/59116787/&hellip;</a>"}],"tags":[],"owner":{"account_id":12405324,"reputation":700,"user_id":9040561,"display_name":"Sandy Veliz"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1573569773,"creation_date":1573569773,"answer_id":58820940,"question_id":51902629,"body_markdown":"i got the same problem and i notice that my security config has diferent TAGS like the @Xenolion answer says\r\n\r\n    &lt;network-security-config&gt;\r\n        &lt;domain-config cleartextTrafficPermitted=&quot;true&quot;&gt;\r\n            &lt;domain includeSubdomains=&quot;true&quot;&gt;localhost&lt;/domain&gt;\r\n        &lt;/domain-config&gt;\r\n    &lt;/network-security-config&gt;\r\n\r\nso i change the TAGS &quot;domain-config&quot; for &quot;base-config&quot; and works, like this:\r\n\r\n    &lt;network-security-config&gt;\r\n        &lt;base-config cleartextTrafficPermitted=&quot;true&quot;&gt;\r\n            &lt;domain includeSubdomains=&quot;true&quot;&gt;localhost&lt;/domain&gt;\r\n        &lt;/base-config&gt;\r\n    &lt;/network-security-config&gt;","title":"How to allow all Network connection types HTTP and HTTPS in Android (9) Pie?","body":"<p>i got the same problem and i notice that my security config has diferent TAGS like the @Xenolion answer says</p>\n\n<pre><code>&lt;network-security-config&gt;\n    &lt;domain-config cleartextTrafficPermitted=\"true\"&gt;\n        &lt;domain includeSubdomains=\"true\"&gt;localhost&lt;/domain&gt;\n    &lt;/domain-config&gt;\n&lt;/network-security-config&gt;\n</code></pre>\n\n<p>so i change the TAGS \"domain-config\" for \"base-config\" and works, like this:</p>\n\n<pre><code>&lt;network-security-config&gt;\n    &lt;base-config cleartextTrafficPermitted=\"true\"&gt;\n        &lt;domain includeSubdomains=\"true\"&gt;localhost&lt;/domain&gt;\n    &lt;/base-config&gt;\n&lt;/network-security-config&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18321921,"reputation":1557,"user_id":13342499,"display_name":"Vishal Pawar"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1620223014,"creation_date":1620222343,"answer_id":67402569,"question_id":51902629,"body_markdown":"This worked for me,\r\n\r\nadd this xml file to:\r\n**andriod/app/src/main/res/xml/network_security_config.xml**\r\n\r\n**network_security_config.xml**\r\n```\r\nxml/network_security_config.xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;network-security-config&gt;\r\n    &lt;base-config cleartextTrafficPermitted=&quot;true&quot;&gt;\r\n        &lt;trust-anchors&gt;\r\n            &lt;certificates src=&quot;system&quot; /&gt;\r\n        &lt;/trust-anchors&gt;\r\n    &lt;/base-config&gt;\r\n    &lt;domain-config cleartextTrafficPermitted=&quot;true&quot;&gt;\r\n        &lt;domain includeSubdomains=&quot;true&quot;&gt;your_domain1&lt;/domain&gt;\r\n    &lt;/domain-config&gt;\r\n    &lt;domain-config cleartextTrafficPermitted=&quot;true&quot;&gt;\r\n        &lt;domain includeSubdomains=&quot;true&quot;&gt;your_domain2&lt;/domain&gt;\r\n    &lt;/domain-config&gt;\r\n&lt;/network-security-config&gt;\r\n```\r\n\r\nthen add this code to **AndroidMenifest.xml**\r\n```\r\n&lt;application\r\n\t...\r\n      android:usesCleartextTraffic=&quot;true&quot;\r\n      android:networkSecurityConfig=&quot;@xml/network_security_config&quot;\r\n    ...\r\n      &gt;\r\n      &lt;!-- for http support--&gt;\r\n      &lt;uses-library android:name=&quot;org.apache.http.legacy&quot; android:required=&quot;false&quot;/&gt;\r\n      ...\r\n&lt;/application&gt;\r\n        \r\n```","title":"How to allow all Network connection types HTTP and HTTPS in Android (9) Pie?","body":"<p>This worked for me,</p>\n<p>add this xml file to:\n<strong>andriod/app/src/main/res/xml/network_security_config.xml</strong></p>\n<p><strong>network_security_config.xml</strong></p>\n<pre><code>xml/network_security_config.xml\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;network-security-config&gt;\n    &lt;base-config cleartextTrafficPermitted=&quot;true&quot;&gt;\n        &lt;trust-anchors&gt;\n            &lt;certificates src=&quot;system&quot; /&gt;\n        &lt;/trust-anchors&gt;\n    &lt;/base-config&gt;\n    &lt;domain-config cleartextTrafficPermitted=&quot;true&quot;&gt;\n        &lt;domain includeSubdomains=&quot;true&quot;&gt;your_domain1&lt;/domain&gt;\n    &lt;/domain-config&gt;\n    &lt;domain-config cleartextTrafficPermitted=&quot;true&quot;&gt;\n        &lt;domain includeSubdomains=&quot;true&quot;&gt;your_domain2&lt;/domain&gt;\n    &lt;/domain-config&gt;\n&lt;/network-security-config&gt;\n</code></pre>\n<p>then add this code to <strong>AndroidMenifest.xml</strong></p>\n<pre><code>&lt;application\n    ...\n      android:usesCleartextTraffic=&quot;true&quot;\n      android:networkSecurityConfig=&quot;@xml/network_security_config&quot;\n    ...\n      &gt;\n      &lt;!-- for http support--&gt;\n      &lt;uses-library android:name=&quot;org.apache.http.legacy&quot; android:required=&quot;false&quot;/&gt;\n      ...\n&lt;/application&gt;\n        \n</code></pre>\n"},{"tags":[],"owner":{"account_id":8871799,"reputation":89,"user_id":6625307,"display_name":"Vikrant Singh Rawat"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1682413356,"creation_date":1682351078,"answer_id":76093707,"question_id":51902629,"body_markdown":"Add usesCleartextTraffic to AndroidManifest.xml\r\n\r\ne.g.\r\n\r\n    &lt;application\r\n    ...\r\n    android:usesCleartextTraffic=&quot;true&quot;\r\n    ...&gt;\r\n\r\nin \r\n\r\n  \r\n\r\n    &lt;application\r\n        android: allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;AndroidLearning&quot;\r\n        android: supportsRtl=&quot;true&quot;\r\n        android:UsesCleartextTraffic=&quot;true&quot; &lt;-----\r\n        android: theme=&quot;@style/Theme.AndroidLearning&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n        android:name=&quot; MainActivity&quot;\r\n        android:exported=&quot;true&quot;&gt;\r\n        &lt;intent-filter&gt;\r\n        &lt;action android:name=&quot;android. intent.action.MAIN&quot; /&gt;\r\n        ‹catedorv android:name=&quot;android.intent.catedorv.LAUNCHFR&quot; /&gt;","title":"How to allow all Network connection types HTTP and HTTPS in Android (9) Pie?","body":"<p>Add usesCleartextTraffic to AndroidManifest.xml</p>\n<p>e.g.</p>\n<pre><code>&lt;application\n...\nandroid:usesCleartextTraffic=&quot;true&quot;\n...&gt;\n</code></pre>\n<p>in</p>\n<pre><code>&lt;application\n    android: allowBackup=&quot;true&quot;\n    android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n    android:fullBackupContent=&quot;@xml/backup_rules&quot;\n    android:icon=&quot;@mipmap/ic_launcher&quot;\n    android:label=&quot;AndroidLearning&quot;\n    android: supportsRtl=&quot;true&quot;\n    android:UsesCleartextTraffic=&quot;true&quot; &lt;-----\n    android: theme=&quot;@style/Theme.AndroidLearning&quot;\n    tools:targetApi=&quot;31&quot;&gt;\n    &lt;activity\n    android:name=&quot; MainActivity&quot;\n    android:exported=&quot;true&quot;&gt;\n    &lt;intent-filter&gt;\n    &lt;action android:name=&quot;android. intent.action.MAIN&quot; /&gt;\n    ‹catedorv android:name=&quot;android.intent.catedorv.LAUNCHFR&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":8964121,"reputation":12195,"user_id":6740698,"display_name":"Xenolion"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":231679,"favorite_count":0,"down_vote_count":0,"up_vote_count":218,"accepted_answer_id":51902630,"answer_count":10,"score":218,"last_activity_date":1682413356,"creation_date":1534538687,"question_id":51902629,"body_markdown":"From Android 9 Pie now, requests without encryption will never work. And by default, the System will expect you to use TLS by default.[You can read this feature here][1] So if you only make requests via HTTPS you are safe. But what about apps that make requests through different sites, for instance, browser-like apps.\r\n\r\nHow can I enable requests to all types of connections HTTP and HTTPS in Android 9 Pie?\r\n\r\n\r\n  [1]: https://android-developers.googleblog.com/2018/08/introducing-android-9-pie.html","title":"How to allow all Network connection types HTTP and HTTPS in Android (9) Pie?","body":"<p>From Android 9 Pie now, requests without encryption will never work. And by default, the System will expect you to use TLS by default.<a href=\"https://android-developers.googleblog.com/2018/08/introducing-android-9-pie.html\" rel=\"noreferrer\">You can read this feature here</a> So if you only make requests via HTTPS you are safe. But what about apps that make requests through different sites, for instance, browser-like apps.</p>\n\n<p>How can I enable requests to all types of connections HTTP and HTTPS in Android 9 Pie?</p>\n"},{"tags":["java","android","exception","android-recyclerview","runtime-error"],"comments":[{"owner":{"account_id":5849714,"reputation":92,"user_id":5362509,"display_name":"Lakshmi"},"score":0,"creation_date":1682360965,"post_id":76094678,"comment_id":134199901,"body_markdown":"Everything looks alright. Try uninstalling the app and installing it again after u have made the change.LayoutInflater.from(context).inflate(R.layout.item,parent);\n\nto View v = LayoutInflater.from(context).inflate(R.layout.item,parent,false);","body":"Everything looks alright. Try uninstalling the app and installing it again after u have made the change.LayoutInflater.from(context).inflate(R.layout.item,pa&zwnj;&#8203;rent);  to View v = LayoutInflater.from(context).inflate(R.layout.item,parent,fa&zwnj;&#8203;lse);"}],"answers":[{"tags":[],"owner":{"account_id":10426166,"reputation":267,"user_id":7687372,"display_name":"MexiCano"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1682368137,"creation_date":1682368137,"answer_id":76095855,"question_id":76094678,"body_markdown":"\r\n\r\nDeclare:\r\n    lateinit var  context: Context\r\n\r\n\r\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\r\n            val layoutInflater = LayoutInflater.from(parent.context)\r\n            return ViewHolder(layoutInflater.inflate(R.layout.item, parent, false))\r\n        }\r\n\r\n\r\nIts Work for me!\r\n \r\n","title":"ViewHolder views must not be attached when created. Inflator error","body":"<p>Declare:\nlateinit var  context: Context</p>\n<pre><code>override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n        val layoutInflater = LayoutInflater.from(parent.context)\n        return ViewHolder(layoutInflater.inflate(R.layout.item, parent, false))\n    }\n</code></pre>\n<p>Its Work for me!</p>\n"},{"tags":[],"owner":{"account_id":15361500,"reputation":281,"user_id":11082213,"display_name":"Nrohpos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682413330,"creation_date":1682413330,"answer_id":76099352,"question_id":76094678,"body_markdown":"You may not set the context for your adapter that case you the error:\r\n\r\n&gt;  LayoutInflater.from(context).......\r\n\r\n**For Activity**\r\n\r\n     MyAdapter myAdapter = new MyAdapter(userList, this); \r\n\r\n\r\n**For Fragment**\r\n\r\n        MyAdapter myAdapter = new MyAdapter(userList, requireContext()); \r\n\r\nBut that&#39;s not the best practice\r\n\r\nHere with **simple** and **shorter**\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n           return new MyViewHolder(LayoutInflater.from(parent.getContext()).inflate(R.layout.item, parent, false));\r\n    }\r\n\r\n","title":"ViewHolder views must not be attached when created. Inflator error","body":"<p>You may not set the context for your adapter that case you the error:</p>\n<blockquote>\n<p>LayoutInflater.from(context).......</p>\n</blockquote>\n<p><strong>For Activity</strong></p>\n<pre><code> MyAdapter myAdapter = new MyAdapter(userList, this); \n</code></pre>\n<p><strong>For Fragment</strong></p>\n<pre><code>    MyAdapter myAdapter = new MyAdapter(userList, requireContext()); \n</code></pre>\n<p>But that's not the best practice</p>\n<p>Here with <strong>simple</strong> and <strong>shorter</strong></p>\n<pre><code>@NonNull\n@Override\npublic MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n       return new MyViewHolder(LayoutInflater.from(parent.getContext()).inflate(R.layout.item, parent, false));\n}\n</code></pre>\n"}],"owner":{"account_id":28403227,"reputation":1,"user_id":21727717,"display_name":"Samarth Adat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1682413330,"creation_date":1682358240,"question_id":76094678,"body_markdown":"This is my code of RecyclerView for Booking History and Im getting &quot;java.lang.IllegalStateException: ViewHolder views must not be attached when created. Ensure that you are not passing &#39;true&#39; to the attachToRoot parameter of LayoutInflater.inflate(..., boolean attachToRoot)&quot; exception.\r\n```\r\npackage com.example.bookinghistory;\r\n\r\nimport android.content.Context;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.MyViewHolder&gt; {\r\n\r\n    Context context;\r\n    ArrayList&lt;User&gt; list;\r\n\r\n    public MyAdapter(Context context, ArrayList&lt;User&gt; list) {\r\n        this.context = context;\r\n        this.list = list;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View v = LayoutInflater.from(context).inflate(R.layout.item,parent,false);\r\n        return new MyViewHolder(v);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n        User user = list.get(position);\r\n        holder.Name.setText(user.getName());\r\n        holder.Surname.setText(user.getSurname());\r\n        holder.Date.setText(user.getDate());\r\n        holder.Contact.setText(user.getContact());\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return list.size();\r\n    }\r\n\r\n    public static class MyViewHolder extends RecyclerView.ViewHolder{\r\n\r\n        TextView Name, Surname, Date, Contact;\r\n\r\n        public MyViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            Name = itemView.findViewById(R.id.tvname);\r\n            Surname = itemView.findViewById(R.id.tvsurname);\r\n            Date = itemView.findViewById(R.id.tvdate);\r\n            Contact = itemView.findViewById(R.id.tvcontact);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nChanged\r\nView v = LayoutInflater.from(context).inflate(R.layout.item,parent);\r\n\r\nto\r\nView v = LayoutInflater.from(context).inflate(R.layout.item,parent,false);\r\n\r\nBut still it didnt work.","title":"ViewHolder views must not be attached when created. Inflator error","body":"<p>This is my code of RecyclerView for Booking History and Im getting &quot;java.lang.IllegalStateException: ViewHolder views must not be attached when created. Ensure that you are not passing 'true' to the attachToRoot parameter of LayoutInflater.inflate(..., boolean attachToRoot)&quot; exception.</p>\n<pre><code>package com.example.bookinghistory;\n\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\n\npublic class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.MyViewHolder&gt; {\n\n    Context context;\n    ArrayList&lt;User&gt; list;\n\n    public MyAdapter(Context context, ArrayList&lt;User&gt; list) {\n        this.context = context;\n        this.list = list;\n    }\n\n    @NonNull\n    @Override\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View v = LayoutInflater.from(context).inflate(R.layout.item,parent,false);\n        return new MyViewHolder(v);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\n        User user = list.get(position);\n        holder.Name.setText(user.getName());\n        holder.Surname.setText(user.getSurname());\n        holder.Date.setText(user.getDate());\n        holder.Contact.setText(user.getContact());\n    }\n\n    @Override\n    public int getItemCount() {\n        return list.size();\n    }\n\n    public static class MyViewHolder extends RecyclerView.ViewHolder{\n\n        TextView Name, Surname, Date, Contact;\n\n        public MyViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            Name = itemView.findViewById(R.id.tvname);\n            Surname = itemView.findViewById(R.id.tvsurname);\n            Date = itemView.findViewById(R.id.tvdate);\n            Contact = itemView.findViewById(R.id.tvcontact);\n        }\n    }\n}\n\n</code></pre>\n<p>Changed\nView v = LayoutInflater.from(context).inflate(R.layout.item,parent);</p>\n<p>to\nView v = LayoutInflater.from(context).inflate(R.layout.item,parent,false);</p>\n<p>But still it didnt work.</p>\n"},{"tags":["java","testcontainers"],"owner":{"account_id":3717953,"reputation":253,"user_id":3093641,"accept_rate":25,"display_name":"javanoob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682413301,"creation_date":1682411066,"question_id":76099055,"body_markdown":"I am using Testcontainers on a private registry and whenever it has problems with permissions or can&#39;t find an image it is retrying very aggressively and thereby the used useraccount always gets disabled.\r\n\r\nIn the [documentation][1] I only found the following: \r\n\r\n&gt; Customizing image pull behaviour\\\r\n&gt; pull.pause.timeout = 30 By default Testcontainers will abort the pull of an image if the pull appears stalled (no data transferred) for longer than this duration (in seconds).\r\n\r\nIs there a way to prevent these aggressive retries whenever it doesn&#39;t find an image or can&#39;t authenticate?\r\n\r\n\r\n  [1]: https://www.testcontainers.org/features/configuration/#customizing-image-pull-behaviour","title":"Testcontainers image pull behaviour is too aggressive in private registries","body":"<p>I am using Testcontainers on a private registry and whenever it has problems with permissions or can't find an image it is retrying very aggressively and thereby the used useraccount always gets disabled.</p>\n<p>In the <a href=\"https://www.testcontainers.org/features/configuration/#customizing-image-pull-behaviour\" rel=\"nofollow noreferrer\">documentation</a> I only found the following:</p>\n<blockquote>\n<p>Customizing image pull behaviour<br />\npull.pause.timeout = 30 By default Testcontainers will abort the pull of an image if the pull appears stalled (no data transferred) for longer than this duration (in seconds).</p>\n</blockquote>\n<p>Is there a way to prevent these aggressive retries whenever it doesn't find an image or can't authenticate?</p>\n"},{"tags":["java","go","nginx","hbase","apache-phoenix"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1682432869,"post_id":76097349,"comment_id":134212595,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":1453052,"reputation":6792,"user_id":1369400,"display_name":"Zeke Lu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682413167,"creation_date":1682413167,"answer_id":76099332,"question_id":76097349,"body_markdown":"I guess the reason is that the Avatica Go client does not support cookies. We can provide our own `baseClient` that supports cookies to the connector. See the demo below:\r\n\r\n**Note**: I don&#39;t have the environment to test the implementation. Please let me know if it does not work and I will look into it. Thank you!\r\n\r\n```go\r\npackage main\r\n\r\nimport (\r\n\t&quot;context&quot;\r\n\t&quot;database/sql&quot;\r\n\t&quot;database/sql/driver&quot;\r\n\t&quot;fmt&quot;\r\n\t&quot;net&quot;\r\n\t&quot;net/http&quot;\r\n\t&quot;net/http/cookiejar&quot;\r\n\t&quot;runtime&quot;\r\n\t&quot;time&quot;\r\n\r\n\tavatica &quot;github.com/apache/calcite-avatica-go/v5&quot;\r\n\t&quot;golang.org/x/net/publicsuffix&quot;\r\n)\r\n\r\nfunc init() {\r\n\tsql.Register(&quot;sticky-avatica&quot;, &amp;StickyDriver{})\r\n}\r\n\r\ntype StickyDriver struct{}\r\n\r\nfunc (d *StickyDriver) Open(dsn string) (driver.Conn, error) {\r\n\tjar, err := cookiejar.New(&amp;cookiejar.Options{PublicSuffixList: publicsuffix.List})\r\n\tif err != nil {\r\n\t\treturn nil, err\r\n\t}\r\n\r\n\t// Create our own baseClient that supports cookies.\r\n\tbaseClient := &amp;http.Client{\r\n\t\tTransport: &amp;http.Transport{\r\n\t\t\tProxy: http.ProxyFromEnvironment,\r\n\t\t\tDialContext: (&amp;net.Dialer{\r\n\t\t\t\tTimeout:   30 * time.Second,\r\n\t\t\t\tKeepAlive: 30 * time.Second,\r\n\t\t\t}).DialContext,\r\n\t\t\tMaxIdleConns:          100,\r\n\t\t\tIdleConnTimeout:       90 * time.Second,\r\n\t\t\tTLSHandshakeTimeout:   10 * time.Second,\r\n\t\t\tExpectContinueTimeout: 1 * time.Second,\r\n\t\t\tMaxIdleConnsPerHost:   runtime.GOMAXPROCS(0) + 1,\r\n\t\t},\r\n\t\tJar: jar,\r\n\t}\r\n\r\n\t// Since we create our own baseClient, the auth method provided in the DSN\r\n\t// string is not applied. If this is needed, set it manually. See:\r\n\t// https://github.com/apache/calcite-avatica-go/blob/ed4c274f52a98593e6c99de0d7a88802d4a92cb6/http_client.go#L72-L85\r\n\r\n\tconnector := avatica.NewConnector(dsn).(*avatica.Connector)\r\n\r\n\t// Provide our own baseClient to the connector.\r\n\tconnector.Client = baseClient\r\n\r\n\treturn connector.Connect(context.TODO())\r\n}\r\n\r\nfunc main() {\r\n\tdb, err := sql.Open(&quot;sticky-avatica&quot;, &quot;http://192.168.3.236:8766&quot;)\r\n\tif err != nil {\r\n\t\tpanic(err)\r\n\t}\r\n\trows, err := db.Query(&quot;SELECT COUNT(*) FROM test.test1&quot;)\r\n\tif err != nil {\r\n\t\tpanic(err)\r\n\t}\r\n\tdefer rows.Close()\r\n\r\n\tfmt.Printf(&quot;%v\\n&quot;, rows)\r\n}\r\n```","title":"avatica-go client read Phoenix Query Server:[driver: bad connection]","body":"<p>I guess the reason is that the Avatica Go client does not support cookies. We can provide our own <code>baseClient</code> that supports cookies to the connector. See the demo below:</p>\n<p><strong>Note</strong>: I don't have the environment to test the implementation. Please let me know if it does not work and I will look into it. Thank you!</p>\n<pre class=\"lang-golang prettyprint-override\"><code>package main\n\nimport (\n    &quot;context&quot;\n    &quot;database/sql&quot;\n    &quot;database/sql/driver&quot;\n    &quot;fmt&quot;\n    &quot;net&quot;\n    &quot;net/http&quot;\n    &quot;net/http/cookiejar&quot;\n    &quot;runtime&quot;\n    &quot;time&quot;\n\n    avatica &quot;github.com/apache/calcite-avatica-go/v5&quot;\n    &quot;golang.org/x/net/publicsuffix&quot;\n)\n\nfunc init() {\n    sql.Register(&quot;sticky-avatica&quot;, &amp;StickyDriver{})\n}\n\ntype StickyDriver struct{}\n\nfunc (d *StickyDriver) Open(dsn string) (driver.Conn, error) {\n    jar, err := cookiejar.New(&amp;cookiejar.Options{PublicSuffixList: publicsuffix.List})\n    if err != nil {\n        return nil, err\n    }\n\n    // Create our own baseClient that supports cookies.\n    baseClient := &amp;http.Client{\n        Transport: &amp;http.Transport{\n            Proxy: http.ProxyFromEnvironment,\n            DialContext: (&amp;net.Dialer{\n                Timeout:   30 * time.Second,\n                KeepAlive: 30 * time.Second,\n            }).DialContext,\n            MaxIdleConns:          100,\n            IdleConnTimeout:       90 * time.Second,\n            TLSHandshakeTimeout:   10 * time.Second,\n            ExpectContinueTimeout: 1 * time.Second,\n            MaxIdleConnsPerHost:   runtime.GOMAXPROCS(0) + 1,\n        },\n        Jar: jar,\n    }\n\n    // Since we create our own baseClient, the auth method provided in the DSN\n    // string is not applied. If this is needed, set it manually. See:\n    // https://github.com/apache/calcite-avatica-go/blob/ed4c274f52a98593e6c99de0d7a88802d4a92cb6/http_client.go#L72-L85\n\n    connector := avatica.NewConnector(dsn).(*avatica.Connector)\n\n    // Provide our own baseClient to the connector.\n    connector.Client = baseClient\n\n    return connector.Connect(context.TODO())\n}\n\nfunc main() {\n    db, err := sql.Open(&quot;sticky-avatica&quot;, &quot;http://192.168.3.236:8766&quot;)\n    if err != nil {\n        panic(err)\n    }\n    rows, err := db.Query(&quot;SELECT COUNT(*) FROM test.test1&quot;)\n    if err != nil {\n        panic(err)\n    }\n    defer rows.Close()\n\n    fmt.Printf(&quot;%v\\n&quot;, rows)\n}\n</code></pre>\n"}],"owner":{"account_id":28406619,"reputation":11,"user_id":21730562,"display_name":"kaber"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1682413167,"creation_date":1682391050,"question_id":76097349,"body_markdown":"Hbase 2.0.0v\r\nPhoenix 5.0.0v\r\nAvatica-go-client 5.2.0v\r\nNginx 1.8.1 with sticky module\r\n\r\n3 Regionserver,3 Query Server , Nginx configed stick load balance for 3Query server\r\n\r\nnginx conf\r\nnginx in 192.168.3.236\r\n```\r\nupstream phoenix_balance {\r\n        sticky expires=1m;\r\n        server 192.168.3.190:8765;\r\n        server 192.168.3.236:8765;\r\n        server 192.168.3.165:8765;\r\n    }\r\n\r\nserver {\r\n\r\n        listen 8766;\r\n        server_name localhost;\r\n        location / {\r\n                proxy_pass http://phoenix_balance/;\r\n        }\r\n    }\r\n\r\n```\r\nwhen i use Java to Read PQS its ok(connect one PQS, connect load balance url),\r\n\r\n```\r\nClass.forName(&quot;org.apache.phoenix.queryserver.client.Driver&quot;);\r\nString url = &quot;jdbc:phoenix:thin:url=http://192.168.3.236:8766;serialization=PROTOBUF&quot;;\r\nconn = DriverManager.getConnection(url, prop);\r\n```\r\ni use `go` to connect one PQS its ok,connect to load balance url its failed,\r\ncode from [avatica-go-client-reference](https://calcite.apache.org/avatica/docs/go_client_reference.html)\r\n\r\n```\r\ndb, err := sql.Open(&quot;avatica&quot;, &quot;http://192.168.3.236:8765&quot;) //ok\r\ndb, err := sql.Open(&quot;avatica&quot;, &quot;http://192.168.3.236:8766&quot;) // faield ,driver:bad connection\r\nrows, err := db.Query(&quot;SELECT COUNT(*) FROM test.test1&quot;)\r\n```\r\n\r\nIs there a problem with my nginx configuration?\r\n\r\n\r\n\r\nI really hope someone can answer this question for me","title":"avatica-go client read Phoenix Query Server:[driver: bad connection]","body":"<p>Hbase 2.0.0v\nPhoenix 5.0.0v\nAvatica-go-client 5.2.0v\nNginx 1.8.1 with sticky module</p>\n<p>3 Regionserver,3 Query Server , Nginx configed stick load balance for 3Query server</p>\n<p>nginx conf\nnginx in 192.168.3.236</p>\n<pre><code>upstream phoenix_balance {\n        sticky expires=1m;\n        server 192.168.3.190:8765;\n        server 192.168.3.236:8765;\n        server 192.168.3.165:8765;\n    }\n\nserver {\n\n        listen 8766;\n        server_name localhost;\n        location / {\n                proxy_pass http://phoenix_balance/;\n        }\n    }\n\n</code></pre>\n<p>when i use Java to Read PQS its ok(connect one PQS, connect load balance url),</p>\n<pre><code>Class.forName(&quot;org.apache.phoenix.queryserver.client.Driver&quot;);\nString url = &quot;jdbc:phoenix:thin:url=http://192.168.3.236:8766;serialization=PROTOBUF&quot;;\nconn = DriverManager.getConnection(url, prop);\n</code></pre>\n<p>i use <code>go</code> to connect one PQS its ok,connect to load balance url its failed,\ncode from <a href=\"https://calcite.apache.org/avatica/docs/go_client_reference.html\" rel=\"nofollow noreferrer\">avatica-go-client-reference</a></p>\n<pre><code>db, err := sql.Open(&quot;avatica&quot;, &quot;http://192.168.3.236:8765&quot;) //ok\ndb, err := sql.Open(&quot;avatica&quot;, &quot;http://192.168.3.236:8766&quot;) // faield ,driver:bad connection\nrows, err := db.Query(&quot;SELECT COUNT(*) FROM test.test1&quot;)\n</code></pre>\n<p>Is there a problem with my nginx configuration?</p>\n<p>I really hope someone can answer this question for me</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jackson"],"owner":{"account_id":12174925,"reputation":314,"user_id":8888293,"display_name":"Nate"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682413099,"creation_date":1682411276,"question_id":76099088,"body_markdown":"I have an entity called &quot;Group&quot; that has a one-to-one relationship with a different entity called &quot;Server&quot;\r\n\r\n```\r\n@Data\r\n@Entity\r\n@Table(name=&quot;groups&quot;)\r\npublic class Group {\r\n    @Id\r\n    @Column(name=&quot;group_id&quot;)\r\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    private Integer groupId;\r\n\r\n    @Column(name=&quot;group_name&quot;)\r\n    private String groupName;\r\n    \r\n    @OneToOne(cascade=CascadeType.ALL)\r\n    @JoinColumn(name=&quot;server_id&quot;, referencedColumnName=&quot;discord_id&quot;)\r\n    private Server serverId;\r\n\r\n... (Code shortened)...\r\n```\r\n\r\n\r\n```\r\n@Data\r\n@Entity\r\n@Table(name=&quot;servers&quot;)\r\npublic class Server {\r\n    @Id\r\n    @Column(name=&quot;discord_id&quot;)\r\n    private long discordId;\r\n\r\n... (Code shortened)...\r\n```\r\n\r\nWhenever I make a POST request to my group controller to make a new Group where the RequestBody contains the actual Group and a valid foreign key, I keep getting this error:\r\n\r\n&gt; JSON parse error: Cannot construct instance of &#39;...Server&#39; (although\r\n&gt; at least one Creator exists): no long/Long-argument\r\n&gt; constructor/factory method to deserialize from Number value\r\n&gt; (984309670376267837)\r\n\r\nThe controller looks like this:\r\n\r\n```\r\n@PostMapping(&quot;/groups&quot;)\r\npublic Group generateNewGroup(@RequestBody Group group) {\r\n    group.setGroupId(0);\r\n\r\n    Group dbGroup = this.groupService.generateNewGroup(group);\r\n\r\n    return dbGroup;\r\n}\r\n```\r\n\r\nHow I can elegantly deserialize this JSON request body and link it to a Server entity that already exists in the Database through its foreign key?","title":"Deserialize JSON request body to existing database item with foreign key","body":"<p>I have an entity called &quot;Group&quot; that has a one-to-one relationship with a different entity called &quot;Server&quot;</p>\n<pre><code>@Data\n@Entity\n@Table(name=&quot;groups&quot;)\npublic class Group {\n    @Id\n    @Column(name=&quot;group_id&quot;)\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private Integer groupId;\n\n    @Column(name=&quot;group_name&quot;)\n    private String groupName;\n    \n    @OneToOne(cascade=CascadeType.ALL)\n    @JoinColumn(name=&quot;server_id&quot;, referencedColumnName=&quot;discord_id&quot;)\n    private Server serverId;\n\n... (Code shortened)...\n</code></pre>\n<pre><code>@Data\n@Entity\n@Table(name=&quot;servers&quot;)\npublic class Server {\n    @Id\n    @Column(name=&quot;discord_id&quot;)\n    private long discordId;\n\n... (Code shortened)...\n</code></pre>\n<p>Whenever I make a POST request to my group controller to make a new Group where the RequestBody contains the actual Group and a valid foreign key, I keep getting this error:</p>\n<blockquote>\n<p>JSON parse error: Cannot construct instance of '...Server' (although\nat least one Creator exists): no long/Long-argument\nconstructor/factory method to deserialize from Number value\n(984309670376267837)</p>\n</blockquote>\n<p>The controller looks like this:</p>\n<pre><code>@PostMapping(&quot;/groups&quot;)\npublic Group generateNewGroup(@RequestBody Group group) {\n    group.setGroupId(0);\n\n    Group dbGroup = this.groupService.generateNewGroup(group);\n\n    return dbGroup;\n}\n</code></pre>\n<p>How I can elegantly deserialize this JSON request body and link it to a Server entity that already exists in the Database through its foreign key?</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":1,"creation_date":1682409424,"post_id":76098682,"comment_id":134206361,"body_markdown":"It&#39;s quite unclear. What is the expected output? Do you really want to create a LinkedHashMap or just to sort that list by multiple criteria? Currently you are not sorting anything just group by position and age.","body":"It&#39;s quite unclear. What is the expected output? Do you really want to create a LinkedHashMap or just to sort that list by multiple criteria? Currently you are not sorting anything just group by position and age."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1682409705,"post_id":76098682,"comment_id":134206435,"body_markdown":"You could use `workers.stream().sorted(Comparator.comparing(Worker::position).thenComparingInt(Worker::age)).toList()`.","body":"You could use <code>workers.stream().sorted(Comparator.comparing(Worker::positio&zwnj;&#8203;n).thenComparingInt(&zwnj;&#8203;Worker::age)).toList&zwnj;&#8203;()</code>."},{"owner":{"account_id":28092974,"reputation":21,"user_id":21462180,"display_name":"Kto Tam"},"score":0,"creation_date":1682409756,"post_id":76098682,"comment_id":134206445,"body_markdown":"I&#39;m confused myself. I thought that grouping by age would be sorting. I wanted to get the result so that the linkedhashmap would be grouped by profession and sorted by age","body":"I&#39;m confused myself. I thought that grouping by age would be sorting. I wanted to get the result so that the linkedhashmap would be grouped by profession and sorted by age"},{"owner":{"account_id":13995207,"reputation":494,"user_id":10108192,"display_name":"Yang Hanlin"},"score":1,"creation_date":1682409812,"post_id":76098682,"comment_id":134206456,"body_markdown":"If you just want to replace the default `HashMap` with `LinkedHashMap`, you can use the 3-arg version of `Collectors::groupingBy`: `workers.stream() .collect(Collectors.groupingBy(worker::position, LinkedHashMap::new, Collectors.groupingBy(worker::age, LinkedHashMap::new, Collectors.toList())))`. But it will not give you a map where keys are sorted.","body":"If you just want to replace the default <code>HashMap</code> with <code>LinkedHashMap</code>, you can use the 3-arg version of <code>Collectors::groupingBy</code>: <code>workers.stream() .collect(Collectors.groupingBy(worker::position, LinkedHashMap::new, Collectors.groupingBy(worker::age, LinkedHashMap::new, Collectors.toList())))</code>. But it will not give you a map where keys are sorted."},{"owner":{"account_id":28092974,"reputation":21,"user_id":21462180,"display_name":"Kto Tam"},"score":0,"creation_date":1682409942,"post_id":76098682,"comment_id":134206479,"body_markdown":"@MC Emperor i need result put in linkedHashMap&lt;String, Map&lt;Integer, List&lt;Worker&gt;&gt;&gt;","body":"@MC Emperor i need result put in linkedHashMap&lt;String, Map&lt;Integer, List&lt;Worker&gt;&gt;&gt;"},{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1682410367,"post_id":76098682,"comment_id":134206589,"body_markdown":"@KtoTam based on your comment please update the question with the desired output","body":"@KtoTam based on your comment please update the question with the desired output"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1682417026,"post_id":76098682,"comment_id":134208189,"body_markdown":"Grouping is not the same as sorting. Grouping is putting all items in specific buckets based on some property of each item. This has little to do with sorting, which is the *order* in which the items are observed.","body":"Grouping is not the same as sorting. Grouping is putting all items in specific buckets based on some property of each item. This has little to do with sorting, which is the <i>order</i> in which the items are observed."}],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682410987,"creation_date":1682410987,"answer_id":76099042,"question_id":76098682,"body_markdown":"If I understood correctly from the comments, you need the list to be \r\n\r\n - grouped by profession, \r\n - sorted by age\r\n - collected into a LinkedHashMap \r\n\r\nIf this is the case, you can try something like this: \r\n\r\n    Map&lt;String, List&lt;Worker&gt;&gt; groupedByProfession = workers.stream()\r\n            .sorted(Comparator.comparingInt(Worker::getAge))\r\n            .collect(Collectors.groupingBy(\r\n                Worker::getPosition, \r\n                LinkedHashMap::new, \r\n                Collectors.toList()\r\n             ));","title":"how to get a LinkedHashMap from the list using stream api","body":"<p>If I understood correctly from the comments, you need the list to be</p>\n<ul>\n<li>grouped by profession,</li>\n<li>sorted by age</li>\n<li>collected into a LinkedHashMap</li>\n</ul>\n<p>If this is the case, you can try something like this:</p>\n<pre><code>Map&lt;String, List&lt;Worker&gt;&gt; groupedByProfession = workers.stream()\n        .sorted(Comparator.comparingInt(Worker::getAge))\n        .collect(Collectors.groupingBy(\n            Worker::getPosition, \n            LinkedHashMap::new, \n            Collectors.toList()\n         ));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9978708,"reputation":267,"user_id":7382342,"display_name":"Hardik Uchdadiya"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682413084,"creation_date":1682412209,"answer_id":76099200,"question_id":76098682,"body_markdown":"You need to do something like this\r\n\r\n```\r\nMap&lt;String, Map&lt;Integer, List&lt;Worker&gt;&gt;&gt; collect = workers.stream()\r\n        .collect(Collectors.groupingBy(Worker::getPosition, \r\n                Collectors.groupingBy(Worker::getAge, TreeMap::new, Collectors.toList())));\r\n```\r\n","title":"how to get a LinkedHashMap from the list using stream api","body":"<p>You need to do something like this</p>\n<pre><code>Map&lt;String, Map&lt;Integer, List&lt;Worker&gt;&gt;&gt; collect = workers.stream()\n        .collect(Collectors.groupingBy(Worker::getPosition, \n                Collectors.groupingBy(Worker::getAge, TreeMap::new, Collectors.toList())));\n</code></pre>\n"}],"owner":{"account_id":28092974,"reputation":21,"user_id":21462180,"display_name":"Kto Tam"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1682413084,"creation_date":1682408224,"question_id":76098682,"body_markdown":"I need to grouped the list by position and sorted by age and into a `LinkedHashMap`.\r\n\r\nIf I put it into a `HashMap`, the result will not be sorted. I can&#39;t figure out how to create `LinkedHashMap&lt;String, Map&lt;Integer, List&lt;Worker&gt;&gt;&gt;`.\r\n I wanted to get the result so that the linkedhashmap would be grouped by profession and sorted by age\r\n\r\n```java\r\nclass Worker {\r\n\r\n    String name;\r\n    int age;\r\n    int salary;\r\n    String position;\r\n\r\n    public Worker(String name, int age, int salary, String position) {\r\n        this.name = name;\r\n        this.age = age;\r\n        this.salary = salary;\r\n        this.position = position;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        List&lt;Worker&gt; workers = new ArrayList&lt;&gt;(List.of(\r\n                new Worker(&quot;Ann&quot;, 50, 15000, &quot;doctor&quot;),\r\n                new Worker(&quot;Kate&quot;, 15, 1500, &quot;doctor&quot;),\r\n                new Worker(&quot;Mike&quot;, 23, 12333, &quot;nurse&quot;),\r\n                new Worker(&quot;Mike&quot;, 63, 12333, &quot;nurse&quot;)));\r\n\r\n        Map&lt;String, Map&lt;Integer, List&lt;Worker&gt;&gt;&gt; collect = workers.stream()\r\n                .collect(Collectors.groupingBy(Worker::position,\r\n                        Collectors.groupingBy(Worker::age)));\r\n    }\r\n}\r\n```\r\n","title":"how to get a LinkedHashMap from the list using stream api","body":"<p>I need to grouped the list by position and sorted by age and into a <code>LinkedHashMap</code>.</p>\n<p>If I put it into a <code>HashMap</code>, the result will not be sorted. I can't figure out how to create <code>LinkedHashMap&lt;String, Map&lt;Integer, List&lt;Worker&gt;&gt;&gt;</code>.\nI wanted to get the result so that the linkedhashmap would be grouped by profession and sorted by age</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Worker {\n\n    String name;\n    int age;\n    int salary;\n    String position;\n\n    public Worker(String name, int age, int salary, String position) {\n        this.name = name;\n        this.age = age;\n        this.salary = salary;\n        this.position = position;\n    }\n\n    public static void main(String[] args) {\n\n        List&lt;Worker&gt; workers = new ArrayList&lt;&gt;(List.of(\n                new Worker(&quot;Ann&quot;, 50, 15000, &quot;doctor&quot;),\n                new Worker(&quot;Kate&quot;, 15, 1500, &quot;doctor&quot;),\n                new Worker(&quot;Mike&quot;, 23, 12333, &quot;nurse&quot;),\n                new Worker(&quot;Mike&quot;, 63, 12333, &quot;nurse&quot;)));\n\n        Map&lt;String, Map&lt;Integer, List&lt;Worker&gt;&gt;&gt; collect = workers.stream()\n                .collect(Collectors.groupingBy(Worker::position,\n                        Collectors.groupingBy(Worker::age)));\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","dependency-injection"],"comments":[{"owner":{"account_id":6634565,"reputation":617,"user_id":5122077,"accept_rate":56,"display_name":"JavaLearner1"},"score":0,"creation_date":1682413244,"post_id":76098665,"comment_id":134207269,"body_markdown":"can you try with @Qualifier annotation?","body":"can you try with @Qualifier annotation?"}],"answers":[{"tags":[],"owner":{"account_id":9978708,"reputation":267,"user_id":7382342,"display_name":"Hardik Uchdadiya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682413011,"creation_date":1682413011,"answer_id":76099312,"question_id":76098665,"body_markdown":"If you want to run all the services, then you need to inject collection of services, try something like this\r\n\r\n```\r\nCollection&lt;ApiService&lt;?&gt;&gt; apiServices;\r\n```\r\nand then loop through the collection of apiService method for each apiService in the collection to get your snaps","title":"How to inject correct implementation of interface depends on specific bean?","body":"<p>If you want to run all the services, then you need to inject collection of services, try something like this</p>\n<pre><code>Collection&lt;ApiService&lt;?&gt;&gt; apiServices;\n</code></pre>\n<p>and then loop through the collection of apiService method for each apiService in the collection to get your snaps</p>\n"}],"owner":{"account_id":25902085,"reputation":35,"user_id":19627792,"display_name":"VegetaSan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682413011,"creation_date":1682408108,"question_id":76098665,"body_markdown":"I&#39;m struggling with creation of architecture that will support various implementation of this interface:\r\n\r\n        public interface ApiService&lt;T extends BasicDevice&gt; {\r\n    \r\n        byte[] getDeviceSnap(T basicDevice);\r\n    }\r\n\r\nGeneric of this interface should always extend BasicDevice:\r\n\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\r\n    public abstract class BasicDevice {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        @Column(name = &quot;ID&quot;, nullable = false)\r\n        private Integer id;\r\n    \r\n        @Column(name = &quot;DEVICE_ID&quot;)\r\n        private String deviceId;\r\n    \r\n        @Column(name = &quot;VEHICLE_ID&quot;)\r\n        private int vehicleId;\r\n    \r\n    }\r\nThe ApiService can have multiple implementation, two for example:\r\n\r\n    @Service\r\n    public class ImouService implements ApiService&lt;ImouDevice&gt; {\r\n   \r\n    \r\n        @Override\r\n        public byte[] getDeviceSnap(ImouDevice imouDevice) {\r\n            //some implementation\r\n            return new byte[0];\r\n        }\r\nAnd second:\r\n\r\n    @Service\r\n    public class DahuaService implements ApiService&lt;DahuaDevice&gt; {\r\n    \r\n        @Override\r\n        public byte[] getDeviceSnap(DahuaDevice device) {\r\n             //some implementation\r\n            return new byte[0];\r\n        }\r\n    }\r\nThis two implementation have their own generics that are extending from BasicDevice but with their uniq fields, like this:\r\n\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @ToString\r\n    public class DahuaDevice extends BasicDevice {\r\n    \r\n        @Column(name = &quot;HOST_NAME&quot;)\r\n        private String hostname;\r\n    \r\n    }\r\nAnd the problem itself, in code below I retrieving from DB list of beans that extending from BasicDevice, like ImouDevice and DahuaDevice, then I trying to call method for each bean from list, but for that I need injection of apiService with its correct implementation, meaning imouService for ImouDevice, dahuaService for DahuaDevice, etc.But it doesn&#39;t know which implementation to use and throws exception - Parameter 2 of constructor in ScheduleTask required a single bean, but 2 were found - dahuaService,imouService\r\n\r\n    public class ScheduleTask {\r\n    \r\n        private static final Logger log = LogManager.getLogger(ScheduleTask.class);\r\n        private final DeviceVehicleRepository deviceVehicleRepository;\r\n        private final UrlDeviceBeanRepository urlDeviceBeanRepository;\r\n        private final ApiService apiService;\r\n        private final S3Service service;\r\n        private final CacheManager cacheManager;\r\n    \r\n        public ScheduleTask(DeviceVehicleRepository deviceVehicleRepository, UrlDeviceBeanRepository urlDeviceBeanRepository,\r\n                             ApiService apiService, S3Service service, CacheManager cacheManager) {\r\n            this.deviceVehicleRepository = deviceVehicleRepository;\r\n            this.urlDeviceBeanRepository = urlDeviceBeanRepository;\r\n            this.apiService = apiService;\r\n            this.service = service;\r\n            this.cacheManager = cacheManager;\r\n        }\r\n    \r\n        @Scheduled(cron = &quot;0 0/1 * * * ?&quot;)//every minute\r\n        public void getSnaps() {\r\n            Long timestamp = Instant.now().getEpochSecond();\r\n            log.info(&quot;Started scheduled task to get snapshots&quot;);\r\n            List&lt;BasicDevice&gt; allVehiclesWithDevices = (List&lt;BasicDevice&gt;) deviceVehicleRepository.findAll();\r\n            allVehiclesWithDevices.parallelStream().forEach(basicDevice -&gt;\r\n            {\r\n                byte[] contentBytes = apiService.getDeviceSnap(basicDevice);//here it doesn&#39;t which implementation to use\r\n                if (contentBytes.length &gt; 0) {\r\n                    urlDeviceBeanRepository.save(new UrlDeviceBean(contentBytes,\r\n                            basicDevice.getVehicleId(), timestamp));\r\n                }\r\n            });\r\n        }\r\nHow to always inject correct implementation depends on bean type?","title":"How to inject correct implementation of interface depends on specific bean?","body":"<p>I'm struggling with creation of architecture that will support various implementation of this interface:</p>\n<pre><code>    public interface ApiService&lt;T extends BasicDevice&gt; {\n\n    byte[] getDeviceSnap(T basicDevice);\n}\n</code></pre>\n<p>Generic of this interface should always extend BasicDevice:</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@ToString\n@NoArgsConstructor\n@AllArgsConstructor\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\npublic abstract class BasicDevice {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;ID&quot;, nullable = false)\n    private Integer id;\n\n    @Column(name = &quot;DEVICE_ID&quot;)\n    private String deviceId;\n\n    @Column(name = &quot;VEHICLE_ID&quot;)\n    private int vehicleId;\n\n}\n</code></pre>\n<p>The ApiService can have multiple implementation, two for example:</p>\n<pre><code>@Service\npublic class ImouService implements ApiService&lt;ImouDevice&gt; {\n\n\n    @Override\n    public byte[] getDeviceSnap(ImouDevice imouDevice) {\n        //some implementation\n        return new byte[0];\n    }\n</code></pre>\n<p>And second:</p>\n<pre><code>@Service\npublic class DahuaService implements ApiService&lt;DahuaDevice&gt; {\n\n    @Override\n    public byte[] getDeviceSnap(DahuaDevice device) {\n         //some implementation\n        return new byte[0];\n    }\n}\n</code></pre>\n<p>This two implementation have their own generics that are extending from BasicDevice but with their uniq fields, like this:</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@ToString\npublic class DahuaDevice extends BasicDevice {\n\n    @Column(name = &quot;HOST_NAME&quot;)\n    private String hostname;\n\n}\n</code></pre>\n<p>And the problem itself, in code below I retrieving from DB list of beans that extending from BasicDevice, like ImouDevice and DahuaDevice, then I trying to call method for each bean from list, but for that I need injection of apiService with its correct implementation, meaning imouService for ImouDevice, dahuaService for DahuaDevice, etc.But it doesn't know which implementation to use and throws exception - Parameter 2 of constructor in ScheduleTask required a single bean, but 2 were found - dahuaService,imouService</p>\n<pre><code>public class ScheduleTask {\n\n    private static final Logger log = LogManager.getLogger(ScheduleTask.class);\n    private final DeviceVehicleRepository deviceVehicleRepository;\n    private final UrlDeviceBeanRepository urlDeviceBeanRepository;\n    private final ApiService apiService;\n    private final S3Service service;\n    private final CacheManager cacheManager;\n\n    public ScheduleTask(DeviceVehicleRepository deviceVehicleRepository, UrlDeviceBeanRepository urlDeviceBeanRepository,\n                         ApiService apiService, S3Service service, CacheManager cacheManager) {\n        this.deviceVehicleRepository = deviceVehicleRepository;\n        this.urlDeviceBeanRepository = urlDeviceBeanRepository;\n        this.apiService = apiService;\n        this.service = service;\n        this.cacheManager = cacheManager;\n    }\n\n    @Scheduled(cron = &quot;0 0/1 * * * ?&quot;)//every minute\n    public void getSnaps() {\n        Long timestamp = Instant.now().getEpochSecond();\n        log.info(&quot;Started scheduled task to get snapshots&quot;);\n        List&lt;BasicDevice&gt; allVehiclesWithDevices = (List&lt;BasicDevice&gt;) deviceVehicleRepository.findAll();\n        allVehiclesWithDevices.parallelStream().forEach(basicDevice -&gt;\n        {\n            byte[] contentBytes = apiService.getDeviceSnap(basicDevice);//here it doesn't which implementation to use\n            if (contentBytes.length &gt; 0) {\n                urlDeviceBeanRepository.save(new UrlDeviceBean(contentBytes,\n                        basicDevice.getVehicleId(), timestamp));\n            }\n        });\n    }\n</code></pre>\n<p>How to always inject correct implementation depends on bean type?</p>\n"},{"tags":["java","pdf","pdfbox"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1682420670,"post_id":76099263,"comment_id":134208959,"body_markdown":"Do you really want all images in the resources of the page? Or do you want all images actually used on the page?","body":"Do you really want all images in the resources of the page? Or do you want all images actually used on the page?"},{"owner":{"account_id":10982715,"reputation":11,"user_id":8069334,"display_name":"Giovanni De Maio Langella"},"score":0,"creation_date":1682421411,"post_id":76099263,"comment_id":134209140,"body_markdown":"i want all the images used on that specific PDF page.","body":"i want all the images used on that specific PDF page."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":2,"creation_date":1682424522,"post_id":76099263,"comment_id":134209915,"body_markdown":"*&quot;all the images used on that specific PDF page&quot;* - The PDFBox example `PrintImageLocations` should show how to retrieve them.","body":"<i>&quot;all the images used on that specific PDF page&quot;</i> - The PDFBox example <code>PrintImageLocations</code> should show how to retrieve them."}],"owner":{"account_id":10982715,"reputation":11,"user_id":8069334,"display_name":"Giovanni De Maio Langella"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682412891,"creation_date":1682412685,"question_id":76099263,"body_markdown":"I am a little bit stuck with my code. I have to extract all the images from a PDF page for comparison. I retrieve the current page, and then I get the resources, then I don&#39;t know how to retrieve all the images on that page.\r\n\r\n```\r\nPDPage page = (PDPage)this.document.getDocumentCatalog().getPages().get(i);\r\nPDResources resources = page.getResources();\r\n```\r\nI have seen that PDFBox has changed slightly in the last versions, and now I am confused.\r\n\t\t\t\r\n","title":"How to get all the images in a PDPage?","body":"<p>I am a little bit stuck with my code. I have to extract all the images from a PDF page for comparison. I retrieve the current page, and then I get the resources, then I don't know how to retrieve all the images on that page.</p>\n<pre><code>PDPage page = (PDPage)this.document.getDocumentCatalog().getPages().get(i);\nPDResources resources = page.getResources();\n</code></pre>\n<p>I have seen that PDFBox has changed slightly in the last versions, and now I am confused.</p>\n"},{"tags":["java","sql","jtable","jlabel","jcheckbox"],"comments":[{"owner":{"account_id":6740011,"reputation":46648,"user_id":5193536,"display_name":"nbk"},"score":1,"creation_date":1682407848,"post_id":76098603,"comment_id":134205994,"body_markdown":"please read https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-on-so-when-asking-a-question and https://stackoverflow.com/help/minimal-reproducible-example and edit your question","body":"please read <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-on-so-when-asking-a-question\" title=\"why not upload images of code on so when asking a question\">meta.stackoverflow.com/questions/285551/&hellip;</a> and <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a> and edit your question"}],"owner":{"account_id":26658970,"reputation":1,"user_id":20272087,"display_name":"Aravind S"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682412748,"creation_date":1682407736,"question_id":76098603,"body_markdown":"i have try to display the lower value of item qty in jlabel after checkbox selected in jtable which is already populated by sql query and by clicking the jbutton these value will display in jlabel.\r\n\r\ni have try to list the selected item for display the lower item qty in jlabel .\r\n\r\n```\r\nprivate void ButtonbtActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n        try {\r\n            PreparedStatement ps = DataBase.mycon().prepareStatement(&quot;select (sum(`Item Available Qty`)/Qty) as available,&quot;\r\n                    + &quot;`Check` from a where `Part No` is not null and `Check` !=&#39;1&#39;&quot; \r\n                    +&quot;group by `Part No` order by (sum(`Item Available Qty`)/Qty) limit 1&quot;);\r\n            ResultSet rs = ps.executeQuery();\r\n            while (rs.next()) {\r\n                String product = rs.getString(&quot;available&quot;);\r\n                BOMProductsL.setText(product);\r\n            }\r\n            ps.close();\r\n            DataBase.mycon().close();\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n            JOptionPane.showMessageDialog(null, &quot;Product loading error&quot;);\r\n        }\r\n    } \r\n```\r\nExpected Output by clicking in button\r\n\r\n[Expected output](https://i.stack.imgur.com/CCkFf.jpg)\r\n\r\nOutput i get by clicking in button\r\n\r\n[output i get](https://i.stack.imgur.com/hDhYH.jpg)","title":"how to use check box in jtable with the help of sql query to display values in jlabel after button is clicked","body":"<p>i have try to display the lower value of item qty in jlabel after checkbox selected in jtable which is already populated by sql query and by clicking the jbutton these value will display in jlabel.</p>\n<p>i have try to list the selected item for display the lower item qty in jlabel .</p>\n<pre><code>private void ButtonbtActionPerformed(java.awt.event.ActionEvent evt) {                                         \n        try {\n            PreparedStatement ps = DataBase.mycon().prepareStatement(&quot;select (sum(`Item Available Qty`)/Qty) as available,&quot;\n                    + &quot;`Check` from a where `Part No` is not null and `Check` !='1'&quot; \n                    +&quot;group by `Part No` order by (sum(`Item Available Qty`)/Qty) limit 1&quot;);\n            ResultSet rs = ps.executeQuery();\n            while (rs.next()) {\n                String product = rs.getString(&quot;available&quot;);\n                BOMProductsL.setText(product);\n            }\n            ps.close();\n            DataBase.mycon().close();\n        } catch (SQLException e) {\n            e.printStackTrace();\n            JOptionPane.showMessageDialog(null, &quot;Product loading error&quot;);\n        }\n    } \n</code></pre>\n<p>Expected Output by clicking in button</p>\n<p><a href=\"https://i.stack.imgur.com/CCkFf.jpg\" rel=\"nofollow noreferrer\">Expected output</a></p>\n<p>Output i get by clicking in button</p>\n<p><a href=\"https://i.stack.imgur.com/hDhYH.jpg\" rel=\"nofollow noreferrer\">output i get</a></p>\n"},{"tags":["java","postgresql","jvm-crash"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1682056030,"post_id":76069719,"comment_id":134158533,"body_markdown":"https://stackoverflow.com/questions/5539923/agent-error-invalid-event-type-when-testing-an-eclipse-plugin *might* help.","body":"<a href=\"https://stackoverflow.com/questions/5539923/agent-error-invalid-event-type-when-testing-an-eclipse-plugin\" title=\"agent error invalid event type when testing an eclipse plugin\">stackoverflow.com/questions/5539923/&hellip;</a> <i>might</i> help."},{"owner":{"account_id":8128600,"reputation":61,"user_id":6122625,"display_name":"mello_yello"},"score":0,"creation_date":1682081471,"post_id":76069719,"comment_id":134163740,"body_markdown":"omg...i&#39;ve read that exact question no less than 15 times _*wishing*_ my solution could be so easy but knowing it couldn&#39;t be...we&#39;d never call thread.stop in a webapp and they had an eclipse plugin.\n\nbut since you took the time to link it, I figured I should double check....yep...that was exactly the problem.  They tried postgres 20 yrs ago and the drivers didn&#39;t support timeouts...so there was a thread monitoring the timing and after it was done it called .stop()\n\nproblem solved!  thanks so much for poking me to validate one more time!","body":"omg...i&#39;ve read that exact question no less than 15 times <i>*wishing*</i> my solution could be so easy but knowing it couldn&#39;t be...we&#39;d never call thread.stop in a webapp and they had an eclipse plugin.  but since you took the time to link it, I figured I should double check....yep...that was exactly the problem.  They tried postgres 20 yrs ago and the drivers didn&#39;t support timeouts...so there was a thread monitoring the timing and after it was done it called .stop()  problem solved!  thanks so much for poking me to validate one more time!"}],"answers":[{"tags":[],"owner":{"account_id":8128600,"reputation":61,"user_id":6122625,"display_name":"mello_yello"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682412022,"creation_date":1682081686,"answer_id":76073371,"question_id":76069719,"body_markdown":"Do not use `Thread.stop()` and sometimes you need to really validate your assumptions of what is possible in your complicated code base.","title":"How to troubleshoot Java JDWP fatal errors","body":"<p>Do not use <code>Thread.stop()</code> and sometimes you need to really validate your assumptions of what is possible in your complicated code base.</p>\n"}],"owner":{"account_id":8128600,"reputation":61,"user_id":6122625,"display_name":"mello_yello"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682412022,"creation_date":1682048294,"question_id":76069719,"body_markdown":"I have a large legacy webapp that runs on java11/oracle/tomcat 9.  We&#39;re exploring the feasibility of transitioning to postgres.  I&#39;m running locally on my laptop (windows 11 enterprise), intellij+tomcat, postgres on docker.  When using intellij to start tomcat WITHOUT connecting the debugger there&#39;s no problems.  If I start tomcat with the debugger to investigate something, the tomcat jvm intermittently dies (always dies...just dies at different steps each time within 3-5 min of using the app). Basically all I have is knowing it doesn&#39;t happen with oracle and this fatal dump:\r\n\r\n(this line from redhat 11, other jdk11 versions had &#39;.../eventHelper.c:883&#39;):\r\n\r\nFATAL ERROR in native method: JDWP ExceptionOccurred, jvmtiError=AGENT_ERROR_INVALID_EVENT_TYPE(204)\r\nJDWP exit error AGENT_ERROR_INVALID_EVENT_TYPE(204): ExceptionOccurred [c:\\cygwin64\\tmp\\ojdkbuild\\lookaside\\java-11-openjdk\\src\\jdk.jdwp.agent\\share\\native\\libjdwp\\eventHelper.c:883]\r\n\r\nVM args for debugger:\r\n-agentlib:jdwp=transport=dt_socket,address=127.0.0.1:58021,suspend=y,server=n -Dspring.profiles.active=local -Xms2048m -Xmx8128m -XX:ReservedCodeCacheSize=2048m\r\n\r\nI&#39;ve tried different vendors for open jdk (redhat, amazon, etc), different postgres drivers versions (currently using 42.5.2), different versions of jdk11, different versions of intellij (2022 versions up to 2023.1)...all have it happen.  I dont see any kind of hs_err_&lt;pid&gt;.log\r\n\r\nAny suggestions on where to look or something that would help me get more info?","title":"How to troubleshoot Java JDWP fatal errors","body":"<p>I have a large legacy webapp that runs on java11/oracle/tomcat 9.  We're exploring the feasibility of transitioning to postgres.  I'm running locally on my laptop (windows 11 enterprise), intellij+tomcat, postgres on docker.  When using intellij to start tomcat WITHOUT connecting the debugger there's no problems.  If I start tomcat with the debugger to investigate something, the tomcat jvm intermittently dies (always dies...just dies at different steps each time within 3-5 min of using the app). Basically all I have is knowing it doesn't happen with oracle and this fatal dump:</p>\n<p>(this line from redhat 11, other jdk11 versions had '.../eventHelper.c:883'):</p>\n<p>FATAL ERROR in native method: JDWP ExceptionOccurred, jvmtiError=AGENT_ERROR_INVALID_EVENT_TYPE(204)\nJDWP exit error AGENT_ERROR_INVALID_EVENT_TYPE(204): ExceptionOccurred [c:\\cygwin64\\tmp\\ojdkbuild\\lookaside\\java-11-openjdk\\src\\jdk.jdwp.agent\\share\\native\\libjdwp\\eventHelper.c:883]</p>\n<p>VM args for debugger:\n-agentlib:jdwp=transport=dt_socket,address=127.0.0.1:58021,suspend=y,server=n -Dspring.profiles.active=local -Xms2048m -Xmx8128m -XX:ReservedCodeCacheSize=2048m</p>\n<p>I've tried different vendors for open jdk (redhat, amazon, etc), different postgres drivers versions (currently using 42.5.2), different versions of jdk11, different versions of intellij (2022 versions up to 2023.1)...all have it happen.  I dont see any kind of hs_err_.log</p>\n<p>Any suggestions on where to look or something that would help me get more info?</p>\n"},{"tags":["java","amazon-dynamodb"],"comments":[{"owner":{"account_id":10749774,"reputation":14484,"user_id":7909676,"display_name":"Leeroy Hannigan"},"score":0,"creation_date":1682412974,"post_id":76099146,"comment_id":134207197,"body_markdown":"Are you trying this against DynamoDB Local?","body":"Are you trying this against DynamoDB Local?"},{"owner":{"account_id":1212720,"reputation":87,"user_id":1180969,"accept_rate":20,"display_name":"user1180969"},"score":0,"creation_date":1682441536,"post_id":76099146,"comment_id":134215123,"body_markdown":"Yes, it&#39;s dynamodb local","body":"Yes, it&#39;s dynamodb local"},{"owner":{"account_id":10749774,"reputation":14484,"user_id":7909676,"display_name":"Leeroy Hannigan"},"score":0,"creation_date":1682444390,"post_id":76099146,"comment_id":134215756,"body_markdown":"Curious if you tried the same request against the original DynamoDB?","body":"Curious if you tried the same request against the original DynamoDB?"}],"owner":{"account_id":1212720,"reputation":87,"user_id":1180969,"accept_rate":20,"display_name":"user1180969"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682411818,"creation_date":1682411818,"question_id":76099146,"body_markdown":"What could be wrong with below code? Error thrown when executing `dynamoDbClient.executeStatement(request)`\r\n\r\nTried several ways to find the issue :(\r\n\r\nError: software.amazon.awssdk.services.dynamodb.model.DynamoDbException: An unknown operation was requested. (Service: DynamoDb, Status Code: 400, Request ID: c20c2e4e-a2b9-4d9e-9405-c9f3a2505900)\r\n\r\n\r\n&gt;     String sqlStatement = &quot;SELECT * FROM policies WHERE pk=?&quot;;\r\n&gt;     List&lt;AttributeValue&gt; parameters = new ArrayList&lt;&gt;();\r\n&gt;     AttributeValue att1 = AttributeValue.builder()\r\n&gt;                     .s(policyIds.stream().findFirst().get())\r\n&gt;                     .build();\r\n&gt;     parameters.add(att1);\r\n&gt;     ExecuteStatementRequest request = ExecuteStatementRequest.builder().statement(sqlStatement).parameters(att1).build();\r\n&gt;     ExecuteStatementResponse response = dynamoDbClient.executeStatement(request);\r\n\r\nReference: https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/example_dynamodb_BatchExecuteStatement_section.html\r\n        \r\n","title":"Dynamodbclient unknown exception","body":"<p>What could be wrong with below code? Error thrown when executing <code>dynamoDbClient.executeStatement(request)</code></p>\n<p>Tried several ways to find the issue :(</p>\n<p>Error: software.amazon.awssdk.services.dynamodb.model.DynamoDbException: An unknown operation was requested. (Service: DynamoDb, Status Code: 400, Request ID: c20c2e4e-a2b9-4d9e-9405-c9f3a2505900)</p>\n<blockquote>\n<pre><code>String sqlStatement = &quot;SELECT * FROM policies WHERE pk=?&quot;;\nList&lt;AttributeValue&gt; parameters = new ArrayList&lt;&gt;();\nAttributeValue att1 = AttributeValue.builder()\n                .s(policyIds.stream().findFirst().get())\n                .build();\nparameters.add(att1);\nExecuteStatementRequest request = ExecuteStatementRequest.builder().statement(sqlStatement).parameters(att1).build();\nExecuteStatementResponse response = dynamoDbClient.executeStatement(request);\n</code></pre>\n</blockquote>\n<p>Reference: <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/example_dynamodb_BatchExecuteStatement_section.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/example_dynamodb_BatchExecuteStatement_section.html</a></p>\n"},{"tags":["java","maven","cucumber","junit5","allure"],"answers":[{"tags":[],"owner":{"account_id":28230808,"reputation":23,"user_id":21580069,"display_name":"Corentin CANIN"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682411633,"creation_date":1682411633,"answer_id":76099126,"question_id":76073748,"body_markdown":"Worked around this problem by creating two maven profiles, each only launching either API or UI tests by excluding the others. Also moved allure-junit5 dependency to the API profile so it wouldn&#39;t try to generate results for UI tests.\r\n\r\nThen I just run the profiles one after the other like this :\r\n\r\n    mvn clean\r\n    mvn package -Papi-tests\r\n    mvn package -Pui-tests\r\n\r\nBoth profiles generate allure results in the same folder so when I generate the reports all results are used and I get a pretty report for both UI and API with no duplicate. Here is the result : \r\n\r\n[![enter image description here][1]][1]\r\n\r\nand here is the resulting pom.xml :\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;project&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;maven.compiler.plugin.version&gt;3.11.0&lt;/maven.compiler.plugin.version&gt;\r\n\r\n        &lt;allure-junit5.version&gt;2.21.0&lt;/allure-junit5.version&gt;\r\n        &lt;allure-cucumber7-jvm.version&gt;2.21.0&lt;/allure-cucumber7-jvm.version&gt;\r\n        &lt;assertj-core.version&gt;3.24.2&lt;/assertj-core.version&gt;\r\n        &lt;maven.surefire.plugin.version&gt;3.0.0&lt;/maven.surefire.plugin.version&gt;\r\n        &lt;log4j.version&gt;2.20.0&lt;/log4j.version&gt;\r\n        &lt;slf4j.version&gt;2.0.7&lt;/slf4j.version&gt;\r\n\r\n        &lt;rest-assured.version&gt;5.3.0&lt;/rest-assured.version&gt;\r\n        &lt;slf4j-log4j12.version&gt;2.0.7&lt;/slf4j-log4j12.version&gt;\r\n        &lt;aspectj.version&gt;1.9.19&lt;/aspectj.version&gt;\r\n        &lt;jackson.version&gt;2.14.2&lt;/jackson.version&gt;\r\n        &lt;lombok.version&gt;1.18.26&lt;/lombok.version&gt;\r\n\r\n        &lt;selenium.version&gt;4.8.3&lt;/selenium.version&gt;\r\n        &lt;webdrivermanager.version&gt;5.3.2&lt;/webdrivermanager.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cucumber-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;7.11.2&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;5.9.2&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- Rest Assured dependency | For API Testing --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n            &lt;version&gt;${rest-assured.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--Junit\r\n        Dependencies | For Test execution--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-platform-suite&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--Cucumber\r\n        Dependencies | For Test execution--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-picocontainer&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-junit-platform-engine&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!--WebDriver\r\n        Dependency | For UI testing--&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n            &lt;version&gt;${webdrivermanager.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;${selenium.version}&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--Allure\r\n        Dependency | For Reporting--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;allure-cucumber7-jvm&lt;/artifactId&gt;\r\n            &lt;version&gt;${allure-cucumber7-jvm.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;allure-rest-assured&lt;/artifactId&gt;\r\n            &lt;version&gt;${allure-junit5.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${assertj-core.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--Log4J\r\n        Dependency | For Logging--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${log4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;ui-tests&lt;/id&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;!-- display active profile in compile phase --&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-help-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;3.4.0&lt;/version&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;show-profiles&lt;/id&gt;\r\n                                &lt;phase&gt;compile&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;active-profiles&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;${maven.surefire.plugin.version}&lt;/version&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;excludes&gt;\r\n                                &lt;exclude&gt;**/payment/zppapi/*.java&lt;/exclude&gt;\r\n                            &lt;/excludes&gt;\r\n                            &lt;systemProperties&gt;\r\n                                &lt;property&gt;\r\n                                    &lt;name&gt;allure.results.directory&lt;/name&gt;\r\n                                    &lt;value&gt;target/allure-results&lt;/value&gt;\r\n                                &lt;/property&gt;\r\n                            &lt;/systemProperties&gt;\r\n                            &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\r\n                            &lt;argLine&gt;\r\n                                -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;\r\n                                -Dcucumber.options=&quot;--plugin\r\n                                io.qameta.allure.cucumber7jvm.AllureCucumber7Jvm&quot;\r\n                            &lt;/argLine&gt;\r\n                        &lt;/configuration&gt;\r\n                        &lt;dependencies&gt;\r\n                            &lt;dependency&gt;\r\n                                &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n                                &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n                            &lt;/dependency&gt;\r\n                        &lt;/dependencies&gt;\r\n                    &lt;/plugin&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;allure-maven&lt;/artifactId&gt;\r\n                        &lt;version&gt;2.21.0&lt;/version&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;reportVersion&gt;2.21.0&lt;/reportVersion&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;api-tests&lt;/id&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;allure-junit5&lt;/artifactId&gt;\r\n                    &lt;version&gt;${allure-junit5.version}&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;!-- display active profile in compile phase --&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-help-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;3.4.0&lt;/version&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;show-profiles&lt;/id&gt;\r\n                                &lt;phase&gt;compile&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;active-profiles&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;${maven.surefire.plugin.version}&lt;/version&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;excludes&gt;\r\n                                &lt;exclude&gt;**/RunCucumberTest.java&lt;/exclude&gt;\r\n                            &lt;/excludes&gt;\r\n                            &lt;systemProperties&gt;\r\n                                &lt;property&gt;\r\n                                    &lt;name&gt;allure.results.directory&lt;/name&gt;\r\n                                    &lt;value&gt;target/allure-results&lt;/value&gt;\r\n                                &lt;/property&gt;\r\n                            &lt;/systemProperties&gt;\r\n                            &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\r\n                            &lt;argLine&gt;\r\n                                -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;\r\n                            &lt;/argLine&gt;\r\n                        &lt;/configuration&gt;\r\n                        &lt;dependencies&gt;\r\n                            &lt;dependency&gt;\r\n                                &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n                                &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n                            &lt;/dependency&gt;\r\n                        &lt;/dependencies&gt;\r\n                    &lt;/plugin&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;allure-maven&lt;/artifactId&gt;\r\n                        &lt;version&gt;2.21.0&lt;/version&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;reportVersion&gt;2.21.0&lt;/reportVersion&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nPlease note that I am very new to maven so my pom.xml can probably be improved.\r\n\r\n  [1]: https://i.stack.imgur.com/qxZkd.png","title":"How to prevent allure-junit5 from generating reports for Cucumber7 tests?","body":"<p>Worked around this problem by creating two maven profiles, each only launching either API or UI tests by excluding the others. Also moved allure-junit5 dependency to the API profile so it wouldn't try to generate results for UI tests.</p>\n<p>Then I just run the profiles one after the other like this :</p>\n<pre><code>mvn clean\nmvn package -Papi-tests\nmvn package -Pui-tests\n</code></pre>\n<p>Both profiles generate allure results in the same folder so when I generate the reports all results are used and I get a pretty report for both UI and API with no duplicate. Here is the result :</p>\n<p><a href=\"https://i.stack.imgur.com/qxZkd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qxZkd.png\" alt=\"enter image description here\" /></a></p>\n<p>and here is the resulting pom.xml :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;project&lt;/artifactId&gt;\n    &lt;version&gt;2.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.plugin.version&gt;3.11.0&lt;/maven.compiler.plugin.version&gt;\n\n        &lt;allure-junit5.version&gt;2.21.0&lt;/allure-junit5.version&gt;\n        &lt;allure-cucumber7-jvm.version&gt;2.21.0&lt;/allure-cucumber7-jvm.version&gt;\n        &lt;assertj-core.version&gt;3.24.2&lt;/assertj-core.version&gt;\n        &lt;maven.surefire.plugin.version&gt;3.0.0&lt;/maven.surefire.plugin.version&gt;\n        &lt;log4j.version&gt;2.20.0&lt;/log4j.version&gt;\n        &lt;slf4j.version&gt;2.0.7&lt;/slf4j.version&gt;\n\n        &lt;rest-assured.version&gt;5.3.0&lt;/rest-assured.version&gt;\n        &lt;slf4j-log4j12.version&gt;2.0.7&lt;/slf4j-log4j12.version&gt;\n        &lt;aspectj.version&gt;1.9.19&lt;/aspectj.version&gt;\n        &lt;jackson.version&gt;2.14.2&lt;/jackson.version&gt;\n        &lt;lombok.version&gt;1.18.26&lt;/lombok.version&gt;\n\n        &lt;selenium.version&gt;4.8.3&lt;/selenium.version&gt;\n        &lt;webdrivermanager.version&gt;5.3.2&lt;/webdrivermanager.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n                &lt;artifactId&gt;cucumber-bom&lt;/artifactId&gt;\n                &lt;version&gt;7.11.2&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.junit&lt;/groupId&gt;\n                &lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\n                &lt;version&gt;5.9.2&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- Rest Assured dependency | For API Testing --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n            &lt;version&gt;${rest-assured.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--Junit\n        Dependencies | For Test execution--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-platform-suite&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!--Cucumber\n        Dependencies | For Test execution--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-picocontainer&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-junit-platform-engine&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--WebDriver\n        Dependency | For UI testing--&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n            &lt;version&gt;${webdrivermanager.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;${selenium.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;!--Allure\n        Dependency | For Reporting--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n            &lt;artifactId&gt;allure-cucumber7-jvm&lt;/artifactId&gt;\n            &lt;version&gt;${allure-cucumber7-jvm.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n            &lt;artifactId&gt;allure-rest-assured&lt;/artifactId&gt;\n            &lt;version&gt;${allure-junit5.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n            &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n            &lt;version&gt;${assertj-core.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--Log4J\n        Dependency | For Logging--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;${log4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;ui-tests&lt;/id&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;!-- display active profile in compile phase --&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-help-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;3.4.0&lt;/version&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;show-profiles&lt;/id&gt;\n                                &lt;phase&gt;compile&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;active-profiles&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;${maven.surefire.plugin.version}&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;excludes&gt;\n                                &lt;exclude&gt;**/payment/zppapi/*.java&lt;/exclude&gt;\n                            &lt;/excludes&gt;\n                            &lt;systemProperties&gt;\n                                &lt;property&gt;\n                                    &lt;name&gt;allure.results.directory&lt;/name&gt;\n                                    &lt;value&gt;target/allure-results&lt;/value&gt;\n                                &lt;/property&gt;\n                            &lt;/systemProperties&gt;\n                            &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\n                            &lt;argLine&gt;\n                                -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;\n                                -Dcucumber.options=&quot;--plugin\n                                io.qameta.allure.cucumber7jvm.AllureCucumber7Jvm&quot;\n                            &lt;/argLine&gt;\n                        &lt;/configuration&gt;\n                        &lt;dependencies&gt;\n                            &lt;dependency&gt;\n                                &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                                &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n                                &lt;version&gt;${aspectj.version}&lt;/version&gt;\n                            &lt;/dependency&gt;\n                        &lt;/dependencies&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n                        &lt;artifactId&gt;allure-maven&lt;/artifactId&gt;\n                        &lt;version&gt;2.21.0&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;reportVersion&gt;2.21.0&lt;/reportVersion&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;api-tests&lt;/id&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n                    &lt;artifactId&gt;allure-junit5&lt;/artifactId&gt;\n                    &lt;version&gt;${allure-junit5.version}&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;!-- display active profile in compile phase --&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-help-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;3.4.0&lt;/version&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;show-profiles&lt;/id&gt;\n                                &lt;phase&gt;compile&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;active-profiles&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;${maven.surefire.plugin.version}&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;excludes&gt;\n                                &lt;exclude&gt;**/RunCucumberTest.java&lt;/exclude&gt;\n                            &lt;/excludes&gt;\n                            &lt;systemProperties&gt;\n                                &lt;property&gt;\n                                    &lt;name&gt;allure.results.directory&lt;/name&gt;\n                                    &lt;value&gt;target/allure-results&lt;/value&gt;\n                                &lt;/property&gt;\n                            &lt;/systemProperties&gt;\n                            &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\n                            &lt;argLine&gt;\n                                -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;\n                            &lt;/argLine&gt;\n                        &lt;/configuration&gt;\n                        &lt;dependencies&gt;\n                            &lt;dependency&gt;\n                                &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                                &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n                                &lt;version&gt;${aspectj.version}&lt;/version&gt;\n                            &lt;/dependency&gt;\n                        &lt;/dependencies&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n                        &lt;artifactId&gt;allure-maven&lt;/artifactId&gt;\n                        &lt;version&gt;2.21.0&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;reportVersion&gt;2.21.0&lt;/reportVersion&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Please note that I am very new to maven so my pom.xml can probably be improved.</p>\n"}],"owner":{"account_id":28230808,"reputation":23,"user_id":21580069,"display_name":"Corentin CANIN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":446,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76099126,"answer_count":1,"score":1,"last_activity_date":1682411633,"creation_date":1682084464,"question_id":76073748,"body_markdown":"I have a project with UI tests in Cucumber7 running with JUnit5 and API tests in plain JUnit.\r\n\r\nSo I need the dependencies `allure-junit5` and `allure-cucumber7-jvm` in order to generate reports for plain JUnit tests and for Cucumber tests. But because the Cucumber tests run with JUnit, their reports are generated by both dependencies and I can get rid of neither because they are essential to generating reports for half of the tests.\r\n\r\nIs there a way to prevent `allure-junit5` from generating reports for Cucumber tests? Or maybe a way to merge duplicates?\r\n\r\nHere is my pom.xml :\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;project&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;maven.compiler.plugin.version&gt;3.11.0&lt;/maven.compiler.plugin.version&gt;\r\n\r\n        &lt;allure-junit5.version&gt;2.21.0&lt;/allure-junit5.version&gt;\r\n        &lt;allure-cucumber7-jvm.version&gt;2.21.0&lt;/allure-cucumber7-jvm.version&gt;\r\n        &lt;assertj-core.version&gt;3.24.2&lt;/assertj-core.version&gt;\r\n        &lt;maven.surefire.plugin.version&gt;3.0.0&lt;/maven.surefire.plugin.version&gt;\r\n        &lt;log4j.version&gt;2.20.0&lt;/log4j.version&gt;\r\n        &lt;slf4j.version&gt;2.0.7&lt;/slf4j.version&gt;\r\n\r\n        &lt;rest-assured.version&gt;5.3.0&lt;/rest-assured.version&gt;\r\n        &lt;slf4j-log4j12.version&gt;2.0.7&lt;/slf4j-log4j12.version&gt;\r\n        &lt;aspectj.version&gt;1.9.19&lt;/aspectj.version&gt;\r\n        &lt;jackson.version&gt;2.14.2&lt;/jackson.version&gt;\r\n        &lt;lombok.version&gt;1.18.26&lt;/lombok.version&gt;\r\n\r\n        &lt;selenium.version&gt;4.8.3&lt;/selenium.version&gt;\r\n        &lt;webdrivermanager.version&gt;5.3.2&lt;/webdrivermanager.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cucumber-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;7.11.2&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;5.9.2&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- Rest Assured dependency | For API Testing --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n            &lt;version&gt;${rest-assured.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--Junit\r\n        Dependencies | For Test execution--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-platform-suite&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--Cucumber\r\n        Dependencies | For Test execution--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-picocontainer&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-junit-platform-engine&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!--WebDriver\r\n        Dependency | For UI testing--&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n            &lt;version&gt;${webdrivermanager.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;${selenium.version}&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--Allure\r\n        Dependency | For Reporting--&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;allure-cucumber7-jvm&lt;/artifactId&gt;\r\n            &lt;version&gt;${allure-cucumber7-jvm.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;allure-junit5&lt;/artifactId&gt;\r\n            &lt;version&gt;${allure-junit5.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;allure-rest-assured&lt;/artifactId&gt;\r\n            &lt;version&gt;${allure-junit5.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${assertj-core.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--Log4J\r\n        Dependency | For Logging--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${log4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven.surefire.plugin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;systemProperties&gt;\r\n                        &lt;property&gt;\r\n                           &lt;name&gt;allure.results.directory&lt;/name&gt;\r\n                           &lt;value&gt;target/allure-results&lt;/value&gt;\r\n                         &lt;/property&gt;\r\n                     &lt;/systemProperties&gt;\r\n                    &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\r\n                    &lt;argLine&gt;\r\n                        -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot; -Dcucumber.options=&quot;--plugin io.qameta.allure.cucumber5jvm.AllureCucumber5Jvm&quot;\r\n                        -Dcucumber.options=&quot;--plugin io.qameta.allure.cucumber7jvm.AllureCucumber7Jvm&quot;\r\n                    &lt;/argLine&gt;\r\n                    &lt;systemPropertyVariables&gt;\r\n                        &lt;property&gt;\r\n                            &lt;name&gt;junit.jupiter.extensions.autodetection.enabled&lt;/name&gt;\r\n                            &lt;value&gt;true&lt;/value&gt;\r\n                        &lt;/property&gt;\r\n                    &lt;/systemPropertyVariables&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n                        &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n                &lt;artifactId&gt;allure-maven&lt;/artifactId&gt;\r\n                &lt;version&gt;2.21.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;reportVersion&gt;2.21.0&lt;/reportVersion&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n\r\n&lt;/project&gt;\r\n```\r\nMy RunCucumberTest class :\r\n```\r\npackage com.example.ui.web;\r\n\r\nimport org.junit.platform.suite.api.ConfigurationParameter;\r\nimport org.junit.platform.suite.api.IncludeEngines;\r\nimport org.junit.platform.suite.api.SelectClasspathResource;\r\nimport org.junit.platform.suite.api.Suite;\r\n\r\nimport static io.cucumber.junit.platform.engine.Constants.PLUGIN_PROPERTY_NAME;\r\nimport static io.cucumber.junit.platform.engine.Constants.GLUE_PROPERTY_NAME;\r\nimport static io.cucumber.junit.platform.engine.Constants.PLUGIN_PUBLISH_QUIET_PROPERTY_NAME;\r\n\r\n@Suite\r\n@IncludeEngines(&quot;cucumber&quot;)\r\n@SelectClasspathResource(&quot;com/example/ui/web&quot;)\r\n@ConfigurationParameter(key = PLUGIN_PROPERTY_NAME, value = &quot;pretty,io.qameta.allure.cucumber7jvm.AllureCucumber7Jvm&quot;)\r\n@ConfigurationParameter(key = GLUE_PROPERTY_NAME, value = &quot;com.example&quot;)\r\n@ConfigurationParameter(key = PLUGIN_PUBLISH_QUIET_PROPERTY_NAME, value = &quot;true&quot;)\r\npublic class RunCucumberTest {\r\n}\r\n\r\n```\r\nAnd this is what my current reports look like :\r\n\r\n[Allure report](https://i.stack.imgur.com/2dEgg.png)\r\n\r\nThe duplicates are underlined. The bottom ones are generated by `allure-junit5` and are less complete.","title":"How to prevent allure-junit5 from generating reports for Cucumber7 tests?","body":"<p>I have a project with UI tests in Cucumber7 running with JUnit5 and API tests in plain JUnit.</p>\n<p>So I need the dependencies <code>allure-junit5</code> and <code>allure-cucumber7-jvm</code> in order to generate reports for plain JUnit tests and for Cucumber tests. But because the Cucumber tests run with JUnit, their reports are generated by both dependencies and I can get rid of neither because they are essential to generating reports for half of the tests.</p>\n<p>Is there a way to prevent <code>allure-junit5</code> from generating reports for Cucumber tests? Or maybe a way to merge duplicates?</p>\n<p>Here is my pom.xml :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;project&lt;/artifactId&gt;\n    &lt;version&gt;2.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.plugin.version&gt;3.11.0&lt;/maven.compiler.plugin.version&gt;\n\n        &lt;allure-junit5.version&gt;2.21.0&lt;/allure-junit5.version&gt;\n        &lt;allure-cucumber7-jvm.version&gt;2.21.0&lt;/allure-cucumber7-jvm.version&gt;\n        &lt;assertj-core.version&gt;3.24.2&lt;/assertj-core.version&gt;\n        &lt;maven.surefire.plugin.version&gt;3.0.0&lt;/maven.surefire.plugin.version&gt;\n        &lt;log4j.version&gt;2.20.0&lt;/log4j.version&gt;\n        &lt;slf4j.version&gt;2.0.7&lt;/slf4j.version&gt;\n\n        &lt;rest-assured.version&gt;5.3.0&lt;/rest-assured.version&gt;\n        &lt;slf4j-log4j12.version&gt;2.0.7&lt;/slf4j-log4j12.version&gt;\n        &lt;aspectj.version&gt;1.9.19&lt;/aspectj.version&gt;\n        &lt;jackson.version&gt;2.14.2&lt;/jackson.version&gt;\n        &lt;lombok.version&gt;1.18.26&lt;/lombok.version&gt;\n\n        &lt;selenium.version&gt;4.8.3&lt;/selenium.version&gt;\n        &lt;webdrivermanager.version&gt;5.3.2&lt;/webdrivermanager.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n                &lt;artifactId&gt;cucumber-bom&lt;/artifactId&gt;\n                &lt;version&gt;7.11.2&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.junit&lt;/groupId&gt;\n                &lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\n                &lt;version&gt;5.9.2&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- Rest Assured dependency | For API Testing --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n            &lt;version&gt;${rest-assured.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--Junit\n        Dependencies | For Test execution--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-platform-suite&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!--Cucumber\n        Dependencies | For Test execution--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-picocontainer&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-junit-platform-engine&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--WebDriver\n        Dependency | For UI testing--&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n            &lt;version&gt;${webdrivermanager.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;${selenium.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;!--Allure\n        Dependency | For Reporting--&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n            &lt;artifactId&gt;allure-cucumber7-jvm&lt;/artifactId&gt;\n            &lt;version&gt;${allure-cucumber7-jvm.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n            &lt;artifactId&gt;allure-junit5&lt;/artifactId&gt;\n            &lt;version&gt;${allure-junit5.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n            &lt;artifactId&gt;allure-rest-assured&lt;/artifactId&gt;\n            &lt;version&gt;${allure-junit5.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n            &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n            &lt;version&gt;${assertj-core.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--Log4J\n        Dependency | For Logging--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;${log4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven.surefire.plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;systemProperties&gt;\n                        &lt;property&gt;\n                           &lt;name&gt;allure.results.directory&lt;/name&gt;\n                           &lt;value&gt;target/allure-results&lt;/value&gt;\n                         &lt;/property&gt;\n                     &lt;/systemProperties&gt;\n                    &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\n                    &lt;argLine&gt;\n                        -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot; -Dcucumber.options=&quot;--plugin io.qameta.allure.cucumber5jvm.AllureCucumber5Jvm&quot;\n                        -Dcucumber.options=&quot;--plugin io.qameta.allure.cucumber7jvm.AllureCucumber7Jvm&quot;\n                    &lt;/argLine&gt;\n                    &lt;systemPropertyVariables&gt;\n                        &lt;property&gt;\n                            &lt;name&gt;junit.jupiter.extensions.autodetection.enabled&lt;/name&gt;\n                            &lt;value&gt;true&lt;/value&gt;\n                        &lt;/property&gt;\n                    &lt;/systemPropertyVariables&gt;\n                &lt;/configuration&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n                        &lt;version&gt;${aspectj.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n                &lt;artifactId&gt;allure-maven&lt;/artifactId&gt;\n                &lt;version&gt;2.21.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;reportVersion&gt;2.21.0&lt;/reportVersion&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n<p>My RunCucumberTest class :</p>\n<pre><code>package com.example.ui.web;\n\nimport org.junit.platform.suite.api.ConfigurationParameter;\nimport org.junit.platform.suite.api.IncludeEngines;\nimport org.junit.platform.suite.api.SelectClasspathResource;\nimport org.junit.platform.suite.api.Suite;\n\nimport static io.cucumber.junit.platform.engine.Constants.PLUGIN_PROPERTY_NAME;\nimport static io.cucumber.junit.platform.engine.Constants.GLUE_PROPERTY_NAME;\nimport static io.cucumber.junit.platform.engine.Constants.PLUGIN_PUBLISH_QUIET_PROPERTY_NAME;\n\n@Suite\n@IncludeEngines(&quot;cucumber&quot;)\n@SelectClasspathResource(&quot;com/example/ui/web&quot;)\n@ConfigurationParameter(key = PLUGIN_PROPERTY_NAME, value = &quot;pretty,io.qameta.allure.cucumber7jvm.AllureCucumber7Jvm&quot;)\n@ConfigurationParameter(key = GLUE_PROPERTY_NAME, value = &quot;com.example&quot;)\n@ConfigurationParameter(key = PLUGIN_PUBLISH_QUIET_PROPERTY_NAME, value = &quot;true&quot;)\npublic class RunCucumberTest {\n}\n\n</code></pre>\n<p>And this is what my current reports look like :</p>\n<p><a href=\"https://i.stack.imgur.com/2dEgg.png\" rel=\"nofollow noreferrer\">Allure report</a></p>\n<p>The duplicates are underlined. The bottom ones are generated by <code>allure-junit5</code> and are less complete.</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":3803841,"reputation":1575,"user_id":3156757,"display_name":"Yuriy Gyerts"},"score":0,"creation_date":1682408269,"post_id":76098629,"comment_id":134206097,"body_markdown":"Please add several examples like, input line -&gt; expected result","body":"Please add several examples like, input line -&gt; expected result"},{"owner":{"account_id":9729662,"reputation":75,"user_id":7215182,"display_name":"J. Doe"},"score":0,"creation_date":1682408279,"post_id":76098629,"comment_id":134206102,"body_markdown":"This is how resulting string looks like after using simple `replace`\nLorem ipsum dolor sit amet, consectetur adipiscing elit. /nSuspendisse eleifend fringilla ante, eleifend facilisis ne/nque egestas id. Sed ac placerat est, at elementum felis. Donec in /nquam et dolor dictum dignissim ut a quam. Vestibulum id sapien lacus. Donec gr/navida fermentum leo nec pharetra. Suspendisse vitae tempus nulla, et dignissim sem. Vivamus i/npsum massa, aliquet sed finibus in, ullamcorper vel ipsum. Integer porttitor justo id ligula/n pulvinar consequat. D/nonec nunc arcu, feugiat at hendrerit interdum,","body":"This is how resulting string looks like after using simple <code>replace</code> Lorem ipsum dolor sit amet, consectetur adipiscing elit. /nSuspendisse eleifend fringilla ante, eleifend facilisis ne/nque egestas id. Sed ac placerat est, at elementum felis. Donec in /nquam et dolor dictum dignissim ut a quam. Vestibulum id sapien lacus. Donec gr/navida fermentum leo nec pharetra. Suspendisse vitae tempus nulla, et dignissim sem. Vivamus i/npsum massa, aliquet sed finibus in, ullamcorper vel ipsum. Integer porttitor justo id ligula/n pulvinar consequat. D/nonec nunc arcu, feugiat at hendrerit interdum,"},{"owner":{"account_id":9729662,"reputation":75,"user_id":7215182,"display_name":"J. Doe"},"score":0,"creation_date":1682408350,"post_id":76098629,"comment_id":134206121,"body_markdown":"Desired output:\nLorem ipsum dolor sit amet\n\n, consectetur adipiscing elit. Proin et metus eget massa facilisis\n ultricies sit amet sit amet mi. Donec in hendrerit \n\njusto. Ut ut enim vehicu\nla metus ullamcorper lacinia sit amet fe\n\nugiat sem. Vivamus t\nempor eros consequat felis tempus tincidunt. Nullam h\n\nendrerit orci dictum dolor volutpat, in maximus lorem imperdiet. Aliquam tristique nunc nec tellus pretium luctus. Nulla suscipit non magna ac bibendum. D","body":"Desired output: Lorem ipsum dolor sit amet  , consectetur adipiscing elit. Proin et metus eget massa facilisis  ultricies sit amet sit amet mi. Donec in hendrerit   justo. Ut ut enim vehicu la metus ullamcorper lacinia sit amet fe  ugiat sem. Vivamus t empor eros consequat felis tempus tincidunt. Nullam h  endrerit orci dictum dolor volutpat, in maximus lorem imperdiet. Aliquam tristique nunc nec tellus pretium luctus. Nulla suscipit non magna ac bibendum. D"},{"owner":{"account_id":9729662,"reputation":75,"user_id":7215182,"display_name":"J. Doe"},"score":0,"creation_date":1682408427,"post_id":76098629,"comment_id":134206143,"body_markdown":"Well it doesnt show new lines in this comment section here but I need a text that doesn&#39;t have backslash symbols but still has all special symbols like \\n \\r etc. So normal  text but all visible backslashes are replaced with forward slashes","body":"Well it doesnt show new lines in this comment section here but I need a text that doesn&#39;t have backslash symbols but still has all special symbols like \\n \\r etc. So normal  text but all visible backslashes are replaced with forward slashes"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1682409160,"post_id":76098629,"comment_id":134206301,"body_markdown":"Here is an example https://ideone.com/HJEYPt where the &quot;\\n&quot; is not changed. Can you edit your question to include the actual code that produces the errors?","body":"Here is an example <a href=\"https://ideone.com/HJEYPt\" rel=\"nofollow noreferrer\">ideone.com/HJEYPt</a> where the &quot;\\n&quot; is not changed. Can you edit your question to include the actual code that produces the errors?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1682409304,"post_id":76098629,"comment_id":134206338,"body_markdown":"Take a look here. https://stackoverflow.com/help/minimal-reproducible-example","body":"Take a look here. <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"},{"owner":{"account_id":9729662,"reputation":75,"user_id":7215182,"display_name":"J. Doe"},"score":0,"creation_date":1682409649,"post_id":76098629,"comment_id":134206424,"body_markdown":"@matt I look here https://ideone.com/HJEYPt and this is exactly my code. `replace(&quot;\\\\&quot;, &quot;/&quot;)` results in broken new line characters","body":"@matt I look here <a href=\"https://ideone.com/HJEYPt\" rel=\"nofollow noreferrer\">ideone.com/HJEYPt</a> and this is exactly my code. <code>replace(&quot;\\\\&quot;, &quot;&#47;&quot;)</code> results in broken new line characters"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1682409720,"post_id":76098629,"comment_id":134206438,"body_markdown":"Why? What are these backslashes and where do they come from?","body":"Why? What are these backslashes and where do they come from?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1682409981,"post_id":76098629,"comment_id":134206486,"body_markdown":"@J.Doe In the example I pasted, it works fine. The `\\n` does not get broken into two characters with the first one being replaced. It absolutely does not be come &quot;/n&quot; if I use `replace(&quot;\\\\&quot;, &quot;/&quot;);` You need to create a complete compilable example because the behavior you&#39;re witnessing doesn&#39;t happen, so it is probably something else.","body":"@J.Doe In the example I pasted, it works fine. The <code>\\n</code> does not get broken into two characters with the first one being replaced. It absolutely does not be come &quot;/n&quot; if I use <code>replace(&quot;\\\\&quot;, &quot;&#47;&quot;);</code> You need to create a complete compilable example because the behavior you&#39;re witnessing doesn&#39;t happen, so it is probably something else."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1682410156,"post_id":76098629,"comment_id":134206524,"body_markdown":"What it sounds like is you have `String s = &quot;broken\\\\nlines&quot;;`. Then it *is not a newline character* but two characters &quot;\\&quot; and &quot;n&quot;. You could `string.replace(&quot;\\\\n&quot;, &quot;\\n&quot;);` and get new lines instead of having two characters that *look like* a newline character. How are you getting the string?","body":"What it sounds like is you have <code>String s = &quot;broken\\\\nlines&quot;;</code>. Then it <i>is not a newline character</i> but two characters &quot;\\&quot; and &quot;n&quot;. You could <code>string.replace(&quot;\\\\n&quot;, &quot;\\n&quot;);</code> and get new lines instead of having two characters that <i>look like</i> a newline character. How are you getting the string?"},{"owner":{"account_id":9729662,"reputation":75,"user_id":7215182,"display_name":"J. Doe"},"score":0,"creation_date":1682410493,"post_id":76098629,"comment_id":134206619,"body_markdown":"@matt string comes from a web form (JavaScript). Also I updated my question with an actual code piece from my app","body":"@matt string comes from a web form (JavaScript). Also I updated my question with an actual code piece from my app"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1682411379,"post_id":76098629,"comment_id":134206826,"body_markdown":"You can check out this quesiton. https://stackoverflow.com/questions/3537706/how-to-unescape-a-java-string-literal-in-java Which version of java are you using?","body":"You can check out this quesiton. <a href=\"https://stackoverflow.com/questions/3537706/how-to-unescape-a-java-string-literal-in-java\" title=\"how to unescape a java string literal in java\">stackoverflow.com/questions/3537706/&hellip;</a> Which version of java are you using?"},{"owner":{"account_id":9729662,"reputation":75,"user_id":7215182,"display_name":"J. Doe"},"score":0,"creation_date":1682411708,"post_id":76098629,"comment_id":134206904,"body_markdown":"@matt Unfortunately I&#39;m not allowed to modify the core of this app. Existing JSON structure has to stay. Updated question with example/desired string. Java version is 17. Javax Servlet version is 2.4","body":"@matt Unfortunately I&#39;m not allowed to modify the core of this app. Existing JSON structure has to stay. Updated question with example/desired string. Java version is 17. Javax Servlet version is 2.4"},{"owner":{"account_id":9729662,"reputation":75,"user_id":7215182,"display_name":"J. Doe"},"score":0,"creation_date":1682412000,"post_id":76098629,"comment_id":134206965,"body_markdown":"@matt Actual string data comes from a web request. Declaration is `        paramMap = req.getParameterMap();\n        for (Map.Entry&lt;String, String[]&gt; item : paramMap.entrySet()) {\n            for (int i = 0; i &lt; item.getValue().length; i++) {\n                String logString;\n                logString = &quot;[&quot; + item.getKey() + &quot;:&quot; + item.getValue()[i] + &quot;](&quot; + i + &quot;)&quot;;\n                log.info(logString);\n            }\n        }`\nMaybe I can replace backslash here?","body":"@matt Actual string data comes from a web request. Declaration is `        paramMap = req.getParameterMap();         for (Map.Entry&lt;String, String[]&gt; item : paramMap.entrySet()) {             for (int i = 0; i &lt; item.getValue().length; i++) {                 String logString;                 logString = &quot;[&quot; + item.getKey() + &quot;:&quot; + item.getValue()[i] + &quot;](&quot; + i + &quot;)&quot;;                 log.info(logString);             }         }` Maybe I can replace backslash here?"},{"owner":{"account_id":9729662,"reputation":75,"user_id":7215182,"display_name":"J. Doe"},"score":0,"creation_date":1682412371,"post_id":76098629,"comment_id":134207062,"body_markdown":"@matt Are you sure about `translateEscapes`? Doesn&#39;t work for me: `Cannot resolve method &#39;translateEscapes&#39; in &#39;String&#39;`","body":"@matt Are you sure about <code>translateEscapes</code>? Doesn&#39;t work for me: <code>Cannot resolve method &#39;translateEscapes&#39; in &#39;String&#39;</code>"},{"owner":{"account_id":9729662,"reputation":75,"user_id":7215182,"display_name":"J. Doe"},"score":0,"creation_date":1682413348,"post_id":76098629,"comment_id":134207295,"body_markdown":"not really sure I understand this right. I need to call `translateEscapes()` on my string variable is this correct? like `someString.translateEscapes()`. Or is it like `var newString = String.translateEscapes(oldString)` ?","body":"not really sure I understand this right. I need to call <code>translateEscapes()</code> on my string variable is this correct? like <code>someString.translateEscapes()</code>. Or is it like <code>var newString = String.translateEscapes(oldString)</code> ?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1682413528,"post_id":76098629,"comment_id":134207332,"body_markdown":"The latter, String is immutable. When you call methods that change the String it returns a new one.","body":"The latter, String is immutable. When you call methods that change the String it returns a new one."},{"owner":{"account_id":9729662,"reputation":75,"user_id":7215182,"display_name":"J. Doe"},"score":0,"creation_date":1682414248,"post_id":76098629,"comment_id":134207515,"body_markdown":"@matt It didn&#39;t work : `[ERROR]   symbol:   method translateEscapes()\n[ERROR]   location: class java.lang.String`","body":"@matt It didn&#39;t work : <code>[ERROR]   symbol:   method translateEscapes() [ERROR]   location: class java.lang.String</code>"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1682414347,"post_id":76098629,"comment_id":134207537,"body_markdown":"Sounds like you&#39;re not using jdk 17 to run your servlet.","body":"Sounds like you&#39;re not using jdk 17 to run your servlet."},{"owner":{"account_id":9729662,"reputation":75,"user_id":7215182,"display_name":"J. Doe"},"score":0,"creation_date":1682414632,"post_id":76098629,"comment_id":134207611,"body_markdown":"@matt how do I know which version am I using? I didn&#39;t design this app. Also is there a solution to my problem if it really isn&#39;t jdk 17?","body":"@matt how do I know which version am I using? I didn&#39;t design this app. Also is there a solution to my problem if it really isn&#39;t jdk 17?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1682415113,"post_id":76098629,"comment_id":134207720,"body_markdown":"I meantioned above, replace the escaped characters with their actual characters. ie. `s = s.replace(&quot;\\\\n&quot;, &quot;\\n&quot;);` do that first","body":"I meantioned above, replace the escaped characters with their actual characters. ie. <code>s = s.replace(&quot;\\\\n&quot;, &quot;\\n&quot;);</code> do that first"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1682725942,"post_id":76098629,"comment_id":134266139,"body_markdown":"You may want to create a few objects or records allowing you to build the structure you need, and then simply just serialize it to JSON.  Your current approach is brittle and hard to maintain and debug.","body":"You may want to create a few objects or records allowing you to build the structure you need, and then simply just serialize it to JSON.  Your current approach is brittle and hard to maintain and debug."}],"answers":[{"comments":[{"owner":{"account_id":9729662,"reputation":75,"user_id":7215182,"display_name":"J. Doe"},"score":0,"creation_date":1682497374,"post_id":76098754,"comment_id":134223765,"body_markdown":"Thank you!!! This worked for me. Shouldve tried this solution first","body":"Thank you!!! This worked for me. Shouldve tried this solution first"}],"tags":[],"owner":{"account_id":22384219,"reputation":108,"user_id":16597286,"display_name":"Windir"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682408866,"creation_date":1682408866,"answer_id":76098754,"question_id":76098629,"body_markdown":"    somestring.replaceAll(&quot;\\\\\\\\(?!n)&quot;, &quot;/&quot;);","title":"How to replace backslash but not backslash + n (\\n) in Java?","body":"<pre><code>somestring.replaceAll(&quot;\\\\\\\\(?!n)&quot;, &quot;/&quot;);\n</code></pre>\n"}],"owner":{"account_id":9729662,"reputation":75,"user_id":7215182,"display_name":"J. Doe"},"comment_count":22,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1682409531,"accepted_answer_id":76098754,"answer_count":1,"score":-2,"last_activity_date":1682411563,"creation_date":1682407881,"question_id":76098629,"body_markdown":"Hello I need help replacing &quot;\\\\&quot; character with &quot;/&quot; character in Java.\r\nThis is my code:\r\n\r\n            json = &quot;{\\&quot;fields\\&quot;: {&quot; +\r\n                    &quot;                    \\&quot;project\\&quot;:&quot; +\r\n                    &quot;                            {&quot; +\r\n                    &quot;                                    \\&quot;key\\&quot;: \\&quot;key\\&quot;&quot; +\r\n                    &quot;                            },&quot; +\r\n                    &quot;                    \\&quot;summary\\&quot;: \\&quot;&quot; + paramMap.get(&quot;summary&quot;)[0] + &quot;\\&quot;,&quot; +\r\n                    &quot;                    \\&quot;description\\&quot;: \\&quot;&quot; + paramMap.get(&quot;description&quot;)[0].replaceAll(&quot;[\\r]{1}&quot;, &quot;&quot;).replaceAll(&quot;\\n&quot;,&quot;\\\\\\\\n&quot;).replace(&#39;\\\\&#39;, &#39;/&#39;)+ &quot;\\&quot;,&quot; +\r\n                    &quot;                   \\&quot;reporter\\&quot;: {&quot; +\r\n                    &quot;                           \\&quot;name\\&quot;: \\&quot;&quot; + reporter.getName() + &quot;\\&quot;&quot; +\r\n                    &quot;        },&quot;+\r\n                    &quot;                    \\&quot;issuetype\\&quot;: {&quot; +\r\n                    &quot;                            \\&quot;id\\&quot;: \\&quot;000000\\&quot;&quot; +\r\n                    &quot;                    },&quot; +\r\n                    something.toString() +\r\n                    somethingelse.toString() +\r\n            &quot;   }&quot; +\r\n                    &quot;}&quot;;\r\n\r\nThis is a mess and I need this JSON not to have backslashes in my text (description). so I added `replace(&#39;\\\\&#39;, &#39;/&#39;)` there\r\n\r\nUnfortunately this turns all new line symbols (&quot;\\\\n&quot;) into &quot;/n&quot;.\r\nI need to avoid this and also keep the original code\r\nIs there a better way to replace &quot;\\&quot; in Java OR to exclude &quot;\\n&quot; from replacement?\r\nThanks\r\n\r\n**Example stirng**:\r\n\r\nLorem ip\\sum dolor sit amet , \r\n\r\nconsectetur adipiscing elit. Proin et metus eget massa facilisis ultricies sit amet sit amet mi. Donec in hendrerit justo. Ut ut \r\n\r\nenim vehicu la metus ullamcorper lacinia sit amet fe ugiat sem. Vivamus t empor eros consequat felis tempus tincidunt. Nullam h endrerit orci dictum dolor volutpat, in maximus lorem imperdiet. Aliquam\r\n\r\n tristique nunc nec tellus pretium luctus. Nulla suscipit non magna ac bibendum. \r\n\r\n\r\n\r\n\r\n**Desired output**:\r\n\r\nLorem ip/sum dolor sit amet , \r\n\r\nconsectetur adipiscing elit. Proin et metus eget massa facilisis ultricies sit amet sit amet mi. Donec in hendrerit justo. Ut ut \r\n\r\nenim vehicu la metus ullamcorper lacinia sit amet fe ugiat sem. Vivamus t empor eros consequat felis tempus tincidunt. Nullam h endrerit orci dictum dolor volutpat, in maximus lorem imperdiet. Aliquam\r\n\r\n tristique nunc nec tellus pretium luctus. Nulla suscipit non magna ac bibendum.\r\n\r\n\r\n\r\n**Actual output**:\r\n\r\nLorem ip/sum dolor sit amet , /nconsectetur adipiscing elit. Proin et metus eget massa facilisis ultricies sit amet sit amet mi. Donec in hendrerit justo. Ut ut /nenim vehicu la metus ullamcorper lacinia sit amet fe ugiat sem. Vivamus t empor eros consequat felis tempus tincidunt. Nullam h endrerit orci dictum dolor volutpat, in maximus lorem imperdiet. Aliquam /ntristique nunc nec tellus pretium luctus. Nulla suscipit non magna ac bibendum.","title":"How to replace backslash but not backslash + n (\\n) in Java?","body":"<p>Hello I need help replacing &quot;\\&quot; character with &quot;/&quot; character in Java.\nThis is my code:</p>\n<pre><code>        json = &quot;{\\&quot;fields\\&quot;: {&quot; +\n                &quot;                    \\&quot;project\\&quot;:&quot; +\n                &quot;                            {&quot; +\n                &quot;                                    \\&quot;key\\&quot;: \\&quot;key\\&quot;&quot; +\n                &quot;                            },&quot; +\n                &quot;                    \\&quot;summary\\&quot;: \\&quot;&quot; + paramMap.get(&quot;summary&quot;)[0] + &quot;\\&quot;,&quot; +\n                &quot;                    \\&quot;description\\&quot;: \\&quot;&quot; + paramMap.get(&quot;description&quot;)[0].replaceAll(&quot;[\\r]{1}&quot;, &quot;&quot;).replaceAll(&quot;\\n&quot;,&quot;\\\\\\\\n&quot;).replace('\\\\', '/')+ &quot;\\&quot;,&quot; +\n                &quot;                   \\&quot;reporter\\&quot;: {&quot; +\n                &quot;                           \\&quot;name\\&quot;: \\&quot;&quot; + reporter.getName() + &quot;\\&quot;&quot; +\n                &quot;        },&quot;+\n                &quot;                    \\&quot;issuetype\\&quot;: {&quot; +\n                &quot;                            \\&quot;id\\&quot;: \\&quot;000000\\&quot;&quot; +\n                &quot;                    },&quot; +\n                something.toString() +\n                somethingelse.toString() +\n        &quot;   }&quot; +\n                &quot;}&quot;;\n</code></pre>\n<p>This is a mess and I need this JSON not to have backslashes in my text (description). so I added <code>replace('\\\\', '/')</code> there</p>\n<p>Unfortunately this turns all new line symbols (&quot;\\n&quot;) into &quot;/n&quot;.\nI need to avoid this and also keep the original code\nIs there a better way to replace &quot;&quot; in Java OR to exclude &quot;\\n&quot; from replacement?\nThanks</p>\n<p><strong>Example stirng</strong>:</p>\n<p>Lorem ip\\sum dolor sit amet ,</p>\n<p>consectetur adipiscing elit. Proin et metus eget massa facilisis ultricies sit amet sit amet mi. Donec in hendrerit justo. Ut ut</p>\n<p>enim vehicu la metus ullamcorper lacinia sit amet fe ugiat sem. Vivamus t empor eros consequat felis tempus tincidunt. Nullam h endrerit orci dictum dolor volutpat, in maximus lorem imperdiet. Aliquam</p>\n<p>tristique nunc nec tellus pretium luctus. Nulla suscipit non magna ac bibendum.</p>\n<p><strong>Desired output</strong>:</p>\n<p>Lorem ip/sum dolor sit amet ,</p>\n<p>consectetur adipiscing elit. Proin et metus eget massa facilisis ultricies sit amet sit amet mi. Donec in hendrerit justo. Ut ut</p>\n<p>enim vehicu la metus ullamcorper lacinia sit amet fe ugiat sem. Vivamus t empor eros consequat felis tempus tincidunt. Nullam h endrerit orci dictum dolor volutpat, in maximus lorem imperdiet. Aliquam</p>\n<p>tristique nunc nec tellus pretium luctus. Nulla suscipit non magna ac bibendum.</p>\n<p><strong>Actual output</strong>:</p>\n<p>Lorem ip/sum dolor sit amet , /nconsectetur adipiscing elit. Proin et metus eget massa facilisis ultricies sit amet sit amet mi. Donec in hendrerit justo. Ut ut /nenim vehicu la metus ullamcorper lacinia sit amet fe ugiat sem. Vivamus t empor eros consequat felis tempus tincidunt. Nullam h endrerit orci dictum dolor volutpat, in maximus lorem imperdiet. Aliquam /ntristique nunc nec tellus pretium luctus. Nulla suscipit non magna ac bibendum.</p>\n"},{"tags":["java","spring-boot","containers","testcontainers","testcontainers-junit5"],"answers":[{"tags":[],"owner":{"account_id":14182472,"reputation":198,"user_id":10245558,"display_name":"Roland"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682410193,"creation_date":1682410193,"answer_id":76098941,"question_id":76093643,"body_markdown":"It&#39;s possible that the issue is related to the Docker image hello-world. This image is a very basic image used for testing whether Docker is properly installed and running on a system. It does not have a command that can be run within a container, so it is possible that the failure is occurring because the container cannot start up successfully.\r\n\r\ntry for example:\r\n\r\n\r\n` private final static DockerImageName postgres= DockerImageName.parse(&quot;postgres:latest&quot;)`;\r\n\r\nalso do add `@TestContainers` on the test level (for a better practice)\r\n","title":"Testcontainer ContainerLaunchException: Container startup failed","body":"<p>It's possible that the issue is related to the Docker image hello-world. This image is a very basic image used for testing whether Docker is properly installed and running on a system. It does not have a command that can be run within a container, so it is possible that the failure is occurring because the container cannot start up successfully.</p>\n<p>try for example:</p>\n<p><code> private final static DockerImageName postgres= DockerImageName.parse(&quot;postgres:latest&quot;)</code>;</p>\n<p>also do add <code>@TestContainers</code> on the test level (for a better practice)</p>\n"}],"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4577,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76098941,"answer_count":1,"score":1,"last_activity_date":1682410193,"creation_date":1682350694,"question_id":76093643,"body_markdown":"```\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.testcontainers.containers.GenericContainer;\r\nimport org.testcontainers.junit.jupiter.Container;\r\nimport org.testcontainers.utility.DockerImageName;\r\n\r\n@Slf4j\r\npublic class HelloTest\r\n{\r\n   private final static DockerImageName helloWorld = DockerImageName.parse(&quot;hello-world:latest&quot;);\r\n\r\n   @Container\r\n   private static GenericContainer container = new GenericContainer(helloWorld);\r\n\r\n   @Test\r\n   void test()\r\n   {\r\n      log.warn(&quot;Hello ....&quot;);\r\n\r\n      container.start();\r\n   }\r\n}\r\n```\r\n\r\nMy dependencies:\r\n```\r\ntestImplementation &quot;org.springframework.boot:spring-boot-starter-test:2.6.6&quot;\r\ntestImplementation &quot;org.testcontainers:testcontainers:1.17.6&quot;\r\n```\r\n\r\nMy error:\r\n\r\n```\r\nContainer startup failed\r\norg.testcontainers.containers.ContainerLaunchException: Container startup failed\r\n\tat app//org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:349)\r\n\tat app//org.testcontainers.containers.GenericContainer.start(GenericContainer.java:322)\r\n\tat app//de.sick.agency.ordermanagementservice.application.HelloTest.test(HelloTest.java:23)\r\n\tat java.base@17.0.2/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base@17.0.2/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base@17.0.2/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base@17.0.2/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat app//org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n\tat app//org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat app//org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\tat app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\r\n\tat app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\r\n\tat app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\tat app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\tat app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base@17.0.2/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base@17.0.2/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat app//org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat app//org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\r\n\tat java.base@17.0.2/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base@17.0.2/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base@17.0.2/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base@17.0.2/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\r\n\tat app//worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat app//worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\nCaused by: org.rnorth.ducttape.RetryCountExceededException: Retry limit hit with exception\r\n\tat app//org.rnorth.ducttape.unreliables.Unreliables.retryUntilSuccess(Unreliables.java:88)\r\n\tat app//org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:334)\r\n\t... 85 more\r\nCaused by: org.testcontainers.containers.ContainerLaunchException: Could not create/start container\r\n\tat app//org.testcontainers.containers.GenericContainer.tryStart(GenericContainer.java:542)\r\n\tat app//org.testcontainers.containers.GenericContainer.lambda$doStart$0(GenericContainer.java:344)\r\n\tat app//org.rnorth.ducttape.unreliables.Unreliables.retryUntilSuccess(Unreliables.java:81)\r\n\t... 86 more\r\nCaused by: org.rnorth.ducttape.TimeoutException: Timeout waiting for result with exception\r\n\tat app//org.rnorth.ducttape.unreliables.Unreliables.retryUntilSuccess(Unreliables.java:54)\r\n\tat app//org.rnorth.ducttape.unreliables.Unreliables.retryUntilTrue(Unreliables.java:100)\r\n\tat app//org.testcontainers.containers.startupcheck.StartupCheckStrategy.waitUntilStartupSuccessful(StartupCheckStrategy.java:43)\r\n\tat app//org.testcontainers.containers.startupcheck.StartupCheckStrategy.waitUntilStartupSuccessful(StartupCheckStrategy.java:38)\r\n\tat app//org.testcontainers.containers.startupcheck.IsRunningStartupCheckStrategy.waitUntilStartupSuccessful(IsRunningStartupCheckStrategy.java:21)\r\n\tat app//org.testcontainers.containers.GenericContainer.tryStart(GenericContainer.java:477)\r\n\t... 88 more\r\nCaused by: java.lang.RuntimeException: Not ready yet\r\n\tat org.rnorth.ducttape.unreliables.Unreliables.lambda$retryUntilTrue$1(Unreliables.java:102)\r\n\tat org.rnorth.ducttape.unreliables.Unreliables.lambda$retryUntilSuccess$0(Unreliables.java:43)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\n\r\n```","title":"Testcontainer ContainerLaunchException: Container startup failed","body":"<pre><code>import lombok.extern.slf4j.Slf4j;\nimport org.junit.jupiter.api.Test;\nimport org.testcontainers.containers.GenericContainer;\nimport org.testcontainers.junit.jupiter.Container;\nimport org.testcontainers.utility.DockerImageName;\n\n@Slf4j\npublic class HelloTest\n{\n   private final static DockerImageName helloWorld = DockerImageName.parse(&quot;hello-world:latest&quot;);\n\n   @Container\n   private static GenericContainer container = new GenericContainer(helloWorld);\n\n   @Test\n   void test()\n   {\n      log.warn(&quot;Hello ....&quot;);\n\n      container.start();\n   }\n}\n</code></pre>\n<p>My dependencies:</p>\n<pre><code>testImplementation &quot;org.springframework.boot:spring-boot-starter-test:2.6.6&quot;\ntestImplementation &quot;org.testcontainers:testcontainers:1.17.6&quot;\n</code></pre>\n<p>My error:</p>\n<pre><code>Container startup failed\norg.testcontainers.containers.ContainerLaunchException: Container startup failed\n    at app//org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:349)\n    at app//org.testcontainers.containers.GenericContainer.start(GenericContainer.java:322)\n    at app//de.sick.agency.ordermanagementservice.application.HelloTest.test(HelloTest.java:23)\n    at java.base@17.0.2/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base@17.0.2/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base@17.0.2/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base@17.0.2/java.lang.reflect.Method.invoke(Method.java:568)\n    at app//org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n    at app//org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at app//org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\n    at app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\n    at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base@17.0.2/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base@17.0.2/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at app//org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at app//org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\n    at java.base@17.0.2/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base@17.0.2/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base@17.0.2/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base@17.0.2/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n    at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\n    at app//worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at app//worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\nCaused by: org.rnorth.ducttape.RetryCountExceededException: Retry limit hit with exception\n    at app//org.rnorth.ducttape.unreliables.Unreliables.retryUntilSuccess(Unreliables.java:88)\n    at app//org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:334)\n    ... 85 more\nCaused by: org.testcontainers.containers.ContainerLaunchException: Could not create/start container\n    at app//org.testcontainers.containers.GenericContainer.tryStart(GenericContainer.java:542)\n    at app//org.testcontainers.containers.GenericContainer.lambda$doStart$0(GenericContainer.java:344)\n    at app//org.rnorth.ducttape.unreliables.Unreliables.retryUntilSuccess(Unreliables.java:81)\n    ... 86 more\nCaused by: org.rnorth.ducttape.TimeoutException: Timeout waiting for result with exception\n    at app//org.rnorth.ducttape.unreliables.Unreliables.retryUntilSuccess(Unreliables.java:54)\n    at app//org.rnorth.ducttape.unreliables.Unreliables.retryUntilTrue(Unreliables.java:100)\n    at app//org.testcontainers.containers.startupcheck.StartupCheckStrategy.waitUntilStartupSuccessful(StartupCheckStrategy.java:43)\n    at app//org.testcontainers.containers.startupcheck.StartupCheckStrategy.waitUntilStartupSuccessful(StartupCheckStrategy.java:38)\n    at app//org.testcontainers.containers.startupcheck.IsRunningStartupCheckStrategy.waitUntilStartupSuccessful(IsRunningStartupCheckStrategy.java:21)\n    at app//org.testcontainers.containers.GenericContainer.tryStart(GenericContainer.java:477)\n    ... 88 more\nCaused by: java.lang.RuntimeException: Not ready yet\n    at org.rnorth.ducttape.unreliables.Unreliables.lambda$retryUntilTrue$1(Unreliables.java:102)\n    at org.rnorth.ducttape.unreliables.Unreliables.lambda$retryUntilSuccess$0(Unreliables.java:43)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n\n\n</code></pre>\n"},{"tags":["java","sql","spring","jpa","jpql"],"answers":[{"tags":[],"owner":{"account_id":9411646,"reputation":67,"user_id":6997851,"display_name":"Creed21"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682409966,"creation_date":1682409966,"answer_id":76098905,"question_id":75254362,"body_markdown":"You are getting ERROR: more than one row returned by a subquery used as an expression\r\nbecause as you said there are many rows with the same messageUUID, thus when you use &quot;=&quot; sign query expects exactly 1 value to be returned, and in your case there are 2,3,... values for one entity -&gt; more than row returned (which messageUUID do you really want against given metaPropeties ?)\r\n\r\nTry something like this:\r\n\r\n    @Query(&quot;select event.id from EventLogDb event where event.metaProperties IN :messageUUID and event.metaProperties in :message&quot;)\r\n\r\n***NOTE*** - IN operator should not be used if you have NULL values\r\n\r\nOr check (restructure) DB model\r\n\r\n\r\nMaybe this can help: https://stackoverflow.com/questions/28171474/solution-to-subquery-returns-more-than-1-row-error\r\n  ","title":"How to write spring JPA Query from map(key, value) when there is a duplicated value","body":"<p>You are getting ERROR: more than one row returned by a subquery used as an expression\nbecause as you said there are many rows with the same messageUUID, thus when you use &quot;=&quot; sign query expects exactly 1 value to be returned, and in your case there are 2,3,... values for one entity -&gt; more than row returned (which messageUUID do you really want against given metaPropeties ?)</p>\n<p>Try something like this:</p>\n<pre><code>@Query(&quot;select event.id from EventLogDb event where event.metaProperties IN :messageUUID and event.metaProperties in :message&quot;)\n</code></pre>\n<p><em><strong>NOTE</strong></em> - IN operator should not be used if you have NULL values</p>\n<p>Or check (restructure) DB model</p>\n<p>Maybe this can help: <a href=\"https://stackoverflow.com/questions/28171474/solution-to-subquery-returns-more-than-1-row-error\">Solution to &quot;subquery returns more than 1 row&quot; error</a></p>\n"}],"owner":{"account_id":19742037,"reputation":612,"user_id":14455278,"display_name":"FilipA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682409966,"creation_date":1674796977,"question_id":75254362,"body_markdown":"I want to get event id&#39;s for events with property `messageUUID` equal to passed value from function.\r\n`metaProperties` is a hashmap with keys: \r\n\r\n    &quot;messageId&quot;\r\n    &quot;messageType&quot;\r\n    &quot;messageUUID&quot;\r\n\r\nand many events will have the same `messageId` as `messageUUID` values, and when I try to Query for events where key is `messageUUID` and value of it is equal to the one I&#39;m searching for - it gives error\r\n\r\n      @Query(&quot;select event.id from EventLogDb event where (key(event.metaProperties) = &#39;messageUUID&#39; and :message in VALUE(event.metaProperties))&quot;)\r\n      Slice&lt;EventLogDb&gt; findAllByMessage(\r\n              String message, Pageable pageable);\r\n\r\n    ERROR: more than one row returned by a subquery used as an expression\r\n\r\n\r\nSo as far as I understand - it&#39;s because `:message in VALUE(event.metaProperties)` gives two results - for keys called `messageId` and `messageUUID`, as they have the same values.\r\n\r\nHow should I correct this Query to get it working properly?","title":"How to write spring JPA Query from map(key, value) when there is a duplicated value","body":"<p>I want to get event id's for events with property <code>messageUUID</code> equal to passed value from function.\n<code>metaProperties</code> is a hashmap with keys:</p>\n<pre><code>&quot;messageId&quot;\n&quot;messageType&quot;\n&quot;messageUUID&quot;\n</code></pre>\n<p>and many events will have the same <code>messageId</code> as <code>messageUUID</code> values, and when I try to Query for events where key is <code>messageUUID</code> and value of it is equal to the one I'm searching for - it gives error</p>\n<pre><code>  @Query(&quot;select event.id from EventLogDb event where (key(event.metaProperties) = 'messageUUID' and :message in VALUE(event.metaProperties))&quot;)\n  Slice&lt;EventLogDb&gt; findAllByMessage(\n          String message, Pageable pageable);\n\nERROR: more than one row returned by a subquery used as an expression\n</code></pre>\n<p>So as far as I understand - it's because <code>:message in VALUE(event.metaProperties)</code> gives two results - for keys called <code>messageId</code> and <code>messageUUID</code>, as they have the same values.</p>\n<p>How should I correct this Query to get it working properly?</p>\n"},{"tags":["java","bash","ubuntu","path"],"comments":[{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1682425711,"post_id":76098356,"comment_id":134210248,"body_markdown":"Why do you think you will gain from having multiple JDKs in your path?  The *best* case is that the one appearing earliest is always used, but if that one happened to be missing some tools then you might effectively have a mixture of tools from different JDKs.  You can have multiple JDKs, but they should not all be in your path.","body":"Why do you think you will gain from having multiple JDKs in your path?  The <i>best</i> case is that the one appearing earliest is always used, but if that one happened to be missing some tools then you might effectively have a mixture of tools from different JDKs.  You can have multiple JDKs, but they should not all be in your path."},{"owner":{"account_id":22249835,"reputation":1973,"user_id":16482938,"display_name":"j_b"},"score":0,"creation_date":1682431184,"post_id":76098356,"comment_id":134212052,"body_markdown":"You might have a look at [asdf](https://asdf-vm.com) or [sdkman](https://sdkman.io) for managing multiple java versions.","body":"You might have a look at <a href=\"https://asdf-vm.com\" rel=\"nofollow noreferrer\">asdf</a> or <a href=\"https://sdkman.io\" rel=\"nofollow noreferrer\">sdkman</a> for managing multiple java versions."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1682467124,"post_id":76098356,"comment_id":134219700,"body_markdown":"Maven does not require JDK 11. Java 8 should work.","body":"Maven does not require JDK 11. Java 8 should work."},{"owner":{"account_id":19978615,"reputation":101,"user_id":14642313,"display_name":"rebel_codeaz"},"score":0,"creation_date":1685963831,"post_id":76098356,"comment_id":134729479,"body_markdown":"@JohnBollinger I don&#39;t intend to have multiple jdks in same path but I should be able to switch between java versions. Since I am not able to access the alternatives option which comes when we install by sudo apt-get","body":"@JohnBollinger I don&#39;t intend to have multiple jdks in same path but I should be able to switch between java versions. Since I am not able to access the alternatives option which comes when we install by sudo apt-get"},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1685967642,"post_id":76098356,"comment_id":134730340,"body_markdown":"@rebel_codeaz, clearly, you already know how to set up your shell configuration to configure a JDK.  I don&#39;t see what prevents you from changing that to support a different JDK, or changing it back when you want the first.  Thus, if having two configured at the same time is not your objective, then I don&#39;t understand what you are asking.","body":"@rebel_codeaz, clearly, you already know how to set up your shell configuration to configure a JDK.  I don&#39;t see what prevents you from changing that to support a different JDK, or changing it back when you want the first.  Thus, if having two configured at the same time is not your objective, then I don&#39;t understand what you are asking."},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1685967691,"post_id":76098356,"comment_id":134730353,"body_markdown":"However, @rebel_codeaz, the alternatives system can be used with software from any source.  You seem to be used to software installed from DEBs doing the setup for you (which indeed can be an advantage of installing from packages) but you can use the alternatives CLI to do the same yourself.  Consult [the manual](https://linux.die.net/man/8/alternatives).","body":"However, @rebel_codeaz, the alternatives system can be used with software from any source.  You seem to be used to software installed from DEBs doing the setup for you (which indeed can be an advantage of installing from packages) but you can use the alternatives CLI to do the same yourself.  Consult <a href=\"https://linux.die.net/man/8/alternatives\" rel=\"nofollow noreferrer\">the manual</a>."}],"owner":{"account_id":19978615,"reputation":101,"user_id":14642313,"display_name":"rebel_codeaz"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682409643,"creation_date":1682405732,"question_id":76098356,"body_markdown":"I am installing java 8 and java 11 on my linux machine which has ubuntu 20.04 installed.\r\nSince the command `sudo apt install openjdk-11-jdk` gives the following error: \r\n\r\n&gt;  403  Forbidden [IP: 91.189.91.38 80]\r\nGet:11 http://archive.ubuntu.com/ubuntu jammy/universe amd64 libcommons-io-java all 2.11.0-2 [297 kB]\r\nGet:24 http://archive.ubuntu.com/ubuntu jammy/universe amd64 libmaven-resolver-java all 1.4.2-3build1 [555 kB]\r\nFetched 9,419 kB in 42s (226 kB/s)                                             \r\nE: Failed to fetch http://archive.ubuntu.com/ubuntu/pool/main/o/openjdk-lts/openjdk-11-jre-headless_11.0.18%2b10-0ubuntu1%7e22.04_amd64.deb  403  Forbidden [IP: 91.189.91.38 80]\r\nE: Unable to fetch some archives, maybe run apt-get update or try with --fix-missing?\r\n\r\nSo, I installed it by downloading the JDK package from Oracle and then manually creating /usr/java and setting path manually.\r\n\r\nThis was okay when I had one java version. Now, if I install another how do I add it with the path in .bashrc file?\r\nMy .bashrc file looks like this: \r\n```\r\nJAVA_HOME=/java/jdk1.8.0_351/\r\nexport PATH=&quot;$PATH:/usr/java/jdk1.8.0_351/bin&quot;\r\n```\r\nI was trying to install maven that required installing jdk 11.\r\nPlease tell me how to do it.","title":"Add multiple jdks in path of .bashrc file on ubuntu","body":"<p>I am installing java 8 and java 11 on my linux machine which has ubuntu 20.04 installed.\nSince the command <code>sudo apt install openjdk-11-jdk</code> gives the following error:</p>\n<blockquote>\n<p>403  Forbidden [IP: 91.189.91.38 80]\nGet:11 <a href=\"http://archive.ubuntu.com/ubuntu\" rel=\"nofollow noreferrer\">http://archive.ubuntu.com/ubuntu</a> jammy/universe amd64 libcommons-io-java all 2.11.0-2 [297 kB]\nGet:24 <a href=\"http://archive.ubuntu.com/ubuntu\" rel=\"nofollow noreferrer\">http://archive.ubuntu.com/ubuntu</a> jammy/universe amd64 libmaven-resolver-java all 1.4.2-3build1 [555 kB]\nFetched 9,419 kB in 42s (226 kB/s)<br />\nE: Failed to fetch <a href=\"http://archive.ubuntu.com/ubuntu/pool/main/o/openjdk-lts/openjdk-11-jre-headless_11.0.18%2b10-0ubuntu1%7e22.04_amd64.deb\" rel=\"nofollow noreferrer\">http://archive.ubuntu.com/ubuntu/pool/main/o/openjdk-lts/openjdk-11-jre-headless_11.0.18%2b10-0ubuntu1%7e22.04_amd64.deb</a>  403  Forbidden [IP: 91.189.91.38 80]\nE: Unable to fetch some archives, maybe run apt-get update or try with --fix-missing?</p>\n</blockquote>\n<p>So, I installed it by downloading the JDK package from Oracle and then manually creating /usr/java and setting path manually.</p>\n<p>This was okay when I had one java version. Now, if I install another how do I add it with the path in .bashrc file?\nMy .bashrc file looks like this:</p>\n<pre><code>JAVA_HOME=/java/jdk1.8.0_351/\nexport PATH=&quot;$PATH:/usr/java/jdk1.8.0_351/bin&quot;\n</code></pre>\n<p>I was trying to install maven that required installing jdk 11.\nPlease tell me how to do it.</p>\n"},{"tags":["java","android","google-nearby","google-nearby-connections"],"owner":{"account_id":20350103,"reputation":1,"user_id":14926962,"display_name":"Krishalika Rathnayake"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682409630,"creation_date":1682409630,"question_id":76098863,"body_markdown":"&quot;I am developing an Android app in Java and I need to implement a feature where the app checks if the Nearby Share option on the user&#39;s device is turned on. When the user clicks a button, a toast message should appear indicating whether Nearby Share is enabled or not. How can I implement this functionality?&quot;\r\n\r\n\r\nI tried below code segment\r\n\r\n    private boolean isNearbyShareEnabled() {\r\n        ContentResolver contentResolver = getContext().getContentResolver();\r\n        int value = Settings.Secure.getInt(contentResolver, &quot;nearby_sharing_state&quot;, -1);\r\n        return value == 2;\r\n    }\r\nUsed this code segment inside my Adapter class","title":"How to check if Nearby Share is enabled on an Android device in Java","body":"<p>&quot;I am developing an Android app in Java and I need to implement a feature where the app checks if the Nearby Share option on the user's device is turned on. When the user clicks a button, a toast message should appear indicating whether Nearby Share is enabled or not. How can I implement this functionality?&quot;</p>\n<p>I tried below code segment</p>\n<pre><code>private boolean isNearbyShareEnabled() {\n    ContentResolver contentResolver = getContext().getContentResolver();\n    int value = Settings.Secure.getInt(contentResolver, &quot;nearby_sharing_state&quot;, -1);\n    return value == 2;\n}\n</code></pre>\n<p>Used this code segment inside my Adapter class</p>\n"},{"tags":["java","console"],"comments":[{"owner":{"account_id":35012,"reputation":32108,"user_id":99024,"accept_rate":47,"display_name":"Vanuan"},"score":1,"creation_date":1296677263,"post_id":2979383,"comment_id":5426129,"body_markdown":"http://stackoverflow.com/questions/606086/how-do-you-clear-the-java-console","body":"<a href=\"http://stackoverflow.com/questions/606086/how-do-you-clear-the-java-console\" title=\"how do you clear the java console\">stackoverflow.com/questions/606086/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":204938,"reputation":31067,"user_id":453435,"accept_rate":83,"display_name":"Ky -"},"score":16,"creation_date":1414008107,"post_id":13542582,"comment_id":41661944,"body_markdown":"A faster way to accomplish this is printing a single string of 50 `\\r\\n` with a single `println`, since there&#39;s a noticeable delay between `println` calls.","body":"A faster way to accomplish this is printing a single string of 50 <code>\\r\\n</code> with a single <code>println</code>, since there&#39;s a noticeable delay between <code>println</code> calls."},{"owner":{"account_id":76113,"reputation":2618,"user_id":218125,"accept_rate":92,"display_name":"Cypher"},"score":10,"creation_date":1446065261,"post_id":13542582,"comment_id":54593844,"body_markdown":"How do you know how many lines the console is configured to display? Might work in most cases, but not all.","body":"How do you know how many lines the console is configured to display? Might work in most cases, but not all."},{"owner":{"account_id":2007701,"reputation":1209,"user_id":2133216,"accept_rate":75,"display_name":"ndm13"},"score":5,"creation_date":1468288220,"post_id":13542582,"comment_id":64053459,"body_markdown":"The biggest difference between this and a proper `clear` is that in the latter, the new output will be at the top of the screen and not the bottom.","body":"The biggest difference between this and a proper <code>clear</code> is that in the latter, the new output will be at the top of the screen and not the bottom."},{"owner":{"account_id":5823723,"reputation":156,"user_id":4590874,"accept_rate":75,"display_name":"adeen-s"},"score":0,"creation_date":1488127562,"post_id":13542582,"comment_id":72082947,"body_markdown":"I have to use 70 iterations to clear the screen completely.","body":"I have to use 70 iterations to clear the screen completely."},{"owner":{"account_id":4526333,"reputation":1103,"user_id":3678023,"accept_rate":86,"display_name":"Aaron Esau"},"score":8,"creation_date":1514593685,"post_id":13542582,"comment_id":83029800,"body_markdown":"`System.out.println(new String(new char[50]).replace(&quot;\\0&quot;, &quot;\\r\\n&quot;));` will do the job faster and better.","body":"<code>System.out.println(new String(new char[50]).replace(&quot;\\0&quot;, &quot;\\r\\n&quot;));</code> will do the job faster and better."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1573666240,"post_id":13542582,"comment_id":103959036,"body_markdown":"@AaronEsau starting with JDK&#160;11, you can use `System.out.println(System.lineSeparator().repeat(50));`","body":"@AaronEsau starting with JDK 11, you can use <code>System.out.println(System.lineSeparator().repeat(50));</code>"}],"tags":[],"owner":{"account_id":1227750,"reputation":899,"user_id":1192999,"display_name":"blackl&#248;tus"},"comment_count":6,"down_vote_count":12,"up_vote_count":32,"is_accepted":false,"score":20,"last_activity_date":1353770616,"creation_date":1353770616,"answer_id":13542582,"question_id":2979383,"body_markdown":"A way to get this can be print multiple end of lines (&quot;\\n&quot;) and simulate the clear screen. At the end clear, at most in the unix shell, not removes the previous content, only moves it up and if you make scroll down can see the previous content.\r\n\r\nHere is a sample code:\r\n\r\n    for (int i = 0; i &lt; 50; ++i) System.out.println();","title":"How to clear the console using Java?","body":"<p>A way to get this can be print multiple end of lines (\"\\n\") and simulate the clear screen. At the end clear, at most in the unix shell, not removes the previous content, only moves it up and if you make scroll down can see the previous content.</p>\n\n<p>Here is a sample code:</p>\n\n<pre><code>for (int i = 0; i &lt; 50; ++i) System.out.println();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":248187,"reputation":22658,"user_id":523391,"display_name":"prunge"},"comment_count":0,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1680179815,"creation_date":1358560257,"answer_id":14410352,"question_id":2979383,"body_markdown":"If you want a more system independent way of doing this, you can use the [JLine][1] library and [`ConsoleReader.clearScreen()`][2].  Prudent checking of whether [JLine and ANSI is supported][3] in the current environment is probably worth doing too.\r\n\r\nSomething like the following code worked for me:\r\n\r\n    import jline.console.ConsoleReader;\r\n    \r\n    public class JLineTest\r\n    {\r\n        public static void main(String... args)\r\n        throws Exception\r\n        {\r\n            ConsoleReader r = new ConsoleReader();\r\n            \r\n            while (true)\r\n            {\r\n                r.println(&quot;Good morning&quot;);\r\n                r.flush();\r\n                \r\n                String input = r.readLine(&quot;prompt&gt;&quot;);\r\n                \r\n                if (&quot;clear&quot;.equals(input))\r\n                    r.clearScreen();\r\n                else if (&quot;exit&quot;.equals(input))\r\n                    return;\r\n                else\r\n                    System.out.println(&quot;You typed &#39;&quot; + input + &quot;&#39;.&quot;);\r\n                \r\n            }\r\n        }\r\n    }\r\n\r\nWhen running this, if you type &#39;clear&#39; at the prompt it will clear the screen.  Make sure you run it from a proper terminal/console and not in Eclipse.\r\n\r\n\r\n  [1]: https://github.com/jline/jline2\r\n  [2]: http://jline.sourceforge.net/javadoc/jline/ConsoleReader.html#clearScreen%28%29\r\n  [3]: http://jline.sourceforge.net/javadoc/jline/Terminal.html#isANSISupported%28%29","title":"How to clear the console using Java?","body":"<p>If you want a more system independent way of doing this, you can use the <a href=\"https://github.com/jline/jline2\" rel=\"nofollow noreferrer\">JLine</a> library and <a href=\"http://jline.sourceforge.net/javadoc/jline/ConsoleReader.html#clearScreen%28%29\" rel=\"nofollow noreferrer\"><code>ConsoleReader.clearScreen()</code></a>.  Prudent checking of whether <a href=\"http://jline.sourceforge.net/javadoc/jline/Terminal.html#isANSISupported%28%29\" rel=\"nofollow noreferrer\">JLine and ANSI is supported</a> in the current environment is probably worth doing too.</p>\n<p>Something like the following code worked for me:</p>\n<pre><code>import jline.console.ConsoleReader;\n\npublic class JLineTest\n{\n    public static void main(String... args)\n    throws Exception\n    {\n        ConsoleReader r = new ConsoleReader();\n        \n        while (true)\n        {\n            r.println(&quot;Good morning&quot;);\n            r.flush();\n            \n            String input = r.readLine(&quot;prompt&gt;&quot;);\n            \n            if (&quot;clear&quot;.equals(input))\n                r.clearScreen();\n            else if (&quot;exit&quot;.equals(input))\n                return;\n            else\n                System.out.println(&quot;You typed '&quot; + input + &quot;'.&quot;);\n            \n        }\n    }\n}\n</code></pre>\n<p>When running this, if you type 'clear' at the prompt it will clear the screen.  Make sure you run it from a proper terminal/console and not in Eclipse.</p>\n"},{"comments":[{"owner":{"account_id":204938,"reputation":31067,"user_id":453435,"accept_rate":83,"display_name":"Ky -"},"score":11,"creation_date":1413923412,"post_id":17015039,"comment_id":41624598,"body_markdown":"On Windows 8.1: `java.io.IOException: Cannot run program &quot;cls&quot;: CreateProcess error=2, The system cannot find the file specified`","body":"On Windows 8.1: <code>java.io.IOException: Cannot run program &quot;cls&quot;: CreateProcess error=2, The system cannot find the file specified</code>"},{"owner":{"account_id":2877675,"reputation":783,"user_id":2469257,"display_name":"Dyndrilliac"},"score":1,"creation_date":1413930842,"post_id":17015039,"comment_id":41627858,"body_markdown":"@BenLeggiero That error occurs if for some reason the cls command isn&#39;t found by the JVM within some directory from the PATH environment variable. All this code does is call the Windows or Unix system command based on the default system configuration to clear the command prompt or terminal window respectively. It should be exactly the same as opening a terminal window and typing &quot;cls&quot; followed by the Enter key.","body":"@BenLeggiero That error occurs if for some reason the cls command isn&#39;t found by the JVM within some directory from the PATH environment variable. All this code does is call the Windows or Unix system command based on the default system configuration to clear the command prompt or terminal window respectively. It should be exactly the same as opening a terminal window and typing &quot;cls&quot; followed by the Enter key."},{"owner":{"account_id":204938,"reputation":31067,"user_id":453435,"accept_rate":83,"display_name":"Ky -"},"score":0,"creation_date":1414008037,"post_id":17015039,"comment_id":41661908,"body_markdown":"I know all this, but I figured it&#39;s worth noting that it can still fail. I don&#39;t know _why_ it failed, but it obviously can.","body":"I know all this, but I figured it&#39;s worth noting that it can still fail. I don&#39;t know <i>why</i> it failed, but it obviously can."},{"owner":{"account_id":1532888,"reputation":1092,"user_id":1429640,"accept_rate":71,"display_name":"brainmurphy1"},"score":0,"creation_date":1415146933,"post_id":17015039,"comment_id":42080097,"body_markdown":"were you testing it in the console of an IDE?","body":"were you testing it in the console of an IDE?"},{"owner":{"account_id":1432080,"reputation":980,"user_id":1354282,"accept_rate":100,"display_name":"danielcooperxyz"},"score":0,"creation_date":1417606921,"post_id":17015039,"comment_id":43011584,"body_markdown":"For me testing it in an IDE it does not work and throws an exception. It also does not work when running it outside of the IDE from the command line on Windows 8.1 and Java 8.","body":"For me testing it in an IDE it does not work and throws an exception. It also does not work when running it outside of the IDE from the command line on Windows 8.1 and Java 8."},{"owner":{"display_name":"user330315"},"score":28,"creation_date":1427376923,"post_id":17015039,"comment_id":46757550,"body_markdown":"There is no `cls` executable in Windows. It is an **internal** command of `cmd.exe`.","body":"There is no <code>cls</code> executable in Windows. It is an <b>internal</b> command of <code>cmd.exe</code>."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":8,"creation_date":1445986503,"post_id":17015039,"comment_id":54553709,"body_markdown":"As said by others, [doesn’t work at all](http://stackoverflow.com/a/33379766/2711488), not only because Windows has no cls executable, but also because the output of subprocesses gets redirected.","body":"As said by others, <a href=\"http://stackoverflow.com/a/33379766/2711488\">doesn’t work at all</a>, not only because Windows has no cls executable, but also because the output of subprocesses gets redirected."},{"owner":{"account_id":6887735,"reputation":21370,"user_id":5292302,"accept_rate":100,"display_name":"Petter Friberg"},"score":2,"creation_date":1446064543,"post_id":17015039,"comment_id":54593453,"body_markdown":"This answer is also  a topic on meta see: http://meta.stackoverflow.com/questions/308950/what-to-do-if-voting-based-qa-does-not-work-at-all","body":"This answer is also  a topic on meta see: <a href=\"http://meta.stackoverflow.com/questions/308950/what-to-do-if-voting-based-qa-does-not-work-at-all\" title=\"what to do if voting based qa does not work at all\">meta.stackoverflow.com/questions/308950/&hellip;</a>"}],"tags":[],"owner":{"account_id":2877675,"reputation":783,"user_id":2469257,"display_name":"Dyndrilliac"},"comment_count":8,"down_vote_count":45,"up_vote_count":70,"is_accepted":false,"score":25,"last_activity_date":1652016970,"creation_date":1370819097,"answer_id":17015039,"question_id":2979383,"body_markdown":"This is how I would handle it. This method will work for the Windows OS case and the Linux/Unix OS case (which means it also works for Mac OS X).\r\n\r\n\tpublic final static void clearConsole()\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\tfinal String os = System.getProperty(&quot;os.name&quot;);\r\n\t\t\t\r\n\t\t\tif (os.contains(&quot;Windows&quot;))\r\n\t\t\t{\r\n\t\t\t\tRuntime.getRuntime().exec(&quot;cls&quot;);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tRuntime.getRuntime().exec(&quot;clear&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (final Exception e)\r\n\t\t{\r\n\t\t\t//  Handle any exceptions.\r\n\t\t}\r\n\t}\r\n\r\n⚠️ Note that this method generally **will not** clear the console if you are running inside an IDE.","title":"How to clear the console using Java?","body":"<p>This is how I would handle it. This method will work for the Windows OS case and the Linux/Unix OS case (which means it also works for Mac OS X).</p>\n<pre><code>public final static void clearConsole()\n{\n    try\n    {\n        final String os = System.getProperty(&quot;os.name&quot;);\n        \n        if (os.contains(&quot;Windows&quot;))\n        {\n            Runtime.getRuntime().exec(&quot;cls&quot;);\n        }\n        else\n        {\n            Runtime.getRuntime().exec(&quot;clear&quot;);\n        }\n    }\n    catch (final Exception e)\n    {\n        //  Handle any exceptions.\n    }\n}\n</code></pre>\n<p>⚠️ Note that this method generally <strong>will not</strong> clear the console if you are running inside an IDE.</p>\n"},{"comments":[{"owner":{"account_id":5410912,"reputation":360,"user_id":4307732,"accept_rate":66,"display_name":"DevilInDisguise"},"score":0,"creation_date":1454695957,"post_id":24222551,"comment_id":58176042,"body_markdown":"if you could set the buffer index location to start this would be the sole easiest approach","body":"if you could set the buffer index location to start this would be the sole easiest approach"},{"owner":{"account_id":13627665,"reputation":231,"user_id":9830530,"display_name":"TrevorLee"},"score":1,"creation_date":1567517200,"post_id":24222551,"comment_id":101980483,"body_markdown":"If the process was to get interrupted, I imagine you&#39;d see lag with some print.out being removed before others.","body":"If the process was to get interrupted, I imagine you&#39;d see lag with some print.out being removed before others."}],"tags":[],"owner":{"account_id":4486178,"reputation":113,"user_id":3648739,"display_name":"user3648739"},"comment_count":2,"down_vote_count":4,"up_vote_count":12,"is_accepted":false,"score":8,"last_activity_date":1680179803,"creation_date":1402767359,"answer_id":24222551,"question_id":2979383,"body_markdown":"`Runtime.getRuntime().exec(cls)` did NOT work on Windows XP. This did -\r\n\r\n    for(int clear = 0; clear &lt; 1000; clear++)\r\n    {\r\n         System.out.println(&quot;\\b&quot;) ;\r\n    }\r\n\r\nHope this is useful","title":"How to clear the console using Java?","body":"<p><code>Runtime.getRuntime().exec(cls)</code> did NOT work on Windows XP. This did -</p>\n<pre><code>for(int clear = 0; clear &lt; 1000; clear++)\n{\n     System.out.println(&quot;\\b&quot;) ;\n}\n</code></pre>\n<p>Hope this is useful</p>\n"},{"comments":[{"owner":{"account_id":2169264,"reputation":97,"user_id":1921692,"accept_rate":75,"display_name":"Denny"},"score":0,"creation_date":1430404570,"post_id":26125995,"comment_id":48060852,"body_markdown":"That&#39;s work to me. I have a real project using JNI to clear the screen in JAVA.","body":"That&#39;s work to me. I have a real project using JNI to clear the screen in JAVA."},{"owner":{"account_id":10747722,"reputation":552,"user_id":9087223,"display_name":"Ambrus T&#243;th"},"score":3,"creation_date":1594203842,"post_id":26125995,"comment_id":111042176,"body_markdown":"In Hungary, we say &quot;He strikes the fly with a mace.&quot;","body":"In Hungary, we say &quot;He strikes the fly with a mace.&quot;"}],"tags":[],"owner":{"account_id":2169264,"reputation":97,"user_id":1921692,"accept_rate":75,"display_name":"Denny"},"comment_count":2,"down_vote_count":6,"up_vote_count":4,"is_accepted":false,"score":-2,"last_activity_date":1412095622,"creation_date":1412095622,"answer_id":26125995,"question_id":2979383,"body_markdown":"\r\nYou need to use JNI. \r\n\r\nFirst of all use create a .dll using visual studio, that call system(&quot;cls&quot;). \r\nAfter that use JNI to use this DDL. \r\n\r\nI found this article that is nice: \r\n\r\nhttp://www.planet-source-code.com/vb/scripts/ShowCode.asp?txtCodeId=5170&amp;lngWId=2","title":"How to clear the console using Java?","body":"<p>You need to use JNI. </p>\n\n<p>First of all use create a .dll using visual studio, that call system(\"cls\"). \nAfter that use JNI to use this DDL. </p>\n\n<p>I found this article that is nice: </p>\n\n<p><a href=\"http://www.planet-source-code.com/vb/scripts/ShowCode.asp?txtCodeId=5170&amp;lngWId=2\" rel=\"nofollow\">http://www.planet-source-code.com/vb/scripts/ShowCode.asp?txtCodeId=5170&amp;lngWId=2</a></p>\n"},{"comments":[{"owner":{"account_id":3261342,"reputation":1970,"user_id":2746879,"accept_rate":77,"display_name":"Sarz"},"score":4,"creation_date":1422614906,"post_id":27873070,"comment_id":44830188,"body_markdown":"Its just a hint, maybe someone want to clear the screen, Actually","body":"Its just a hint, maybe someone want to clear the screen, Actually"},{"owner":{"account_id":40654,"reputation":3802,"user_id":117814,"accept_rate":91,"display_name":"Gyom"},"score":0,"creation_date":1423228060,"post_id":27873070,"comment_id":45073949,"body_markdown":"@Sarz: and actually &quot;clearing the screen&quot; doesn&#39;t make proper sense by itself, either","body":"@Sarz: and actually &quot;clearing the screen&quot; doesn&#39;t make proper sense by itself, either"}],"tags":[],"owner":{"account_id":5599902,"reputation":113,"user_id":4436471,"display_name":"Epic"},"comment_count":2,"down_vote_count":5,"up_vote_count":5,"is_accepted":false,"score":0,"last_activity_date":1420866594,"creation_date":1420866594,"answer_id":27873070,"question_id":2979383,"body_markdown":"You can use an emulation of `cls` with \r\n    `for (int i = 0; i &lt; 50; ++i) System.out.println();`","title":"How to clear the console using Java?","body":"<p>You can use an emulation of <code>cls</code> with \n    <code>for (int i = 0; i &lt; 50; ++i) System.out.println();</code></p>\n"},{"comments":[{"owner":{"account_id":2845152,"reputation":173,"user_id":2443769,"display_name":"cossacksman"},"score":3,"creation_date":1446510251,"post_id":32295974,"comment_id":54763616,"body_markdown":"Care to add to this at all? What is this string and do you need to flush if autoflush is enabled?","body":"Care to add to this at all? What is this string and do you need to flush if autoflush is enabled?"},{"owner":{"account_id":2054694,"reputation":199,"user_id":1832798,"accept_rate":100,"display_name":"jdurston"},"score":9,"creation_date":1447358488,"post_id":32295974,"comment_id":55133569,"body_markdown":"They are [ANSI escape codes](https://en.wikipedia.org/wiki/ANSI_escape_code). Specifically [clear screen, followed by home](https://paulschou.com/tools/ansi/java-0047.html). But why is &#39;home&#39; necessary?","body":"They are <a href=\"https://en.wikipedia.org/wiki/ANSI_escape_code\" rel=\"nofollow noreferrer\">ANSI escape codes</a>. Specifically <a href=\"https://paulschou.com/tools/ansi/java-0047.html\" rel=\"nofollow noreferrer\">clear screen, followed by home</a>. But why is &#39;home&#39; necessary?"},{"owner":{"display_name":"user3714134"},"score":2,"creation_date":1474457710,"post_id":32295974,"comment_id":66537483,"body_markdown":"@jdurston omitting home will not reset the cursor back to the top of the window.","body":"@jdurston omitting home will not reset the cursor back to the top of the window."},{"owner":{"account_id":215487,"reputation":1718,"user_id":470160,"accept_rate":82,"display_name":"Anh Tuan"},"score":2,"creation_date":1478510104,"post_id":32295974,"comment_id":68167837,"body_markdown":"Doesn&#39;t work in Eclipse, but work in Linux terminal. One vote for you","body":"Doesn&#39;t work in Eclipse, but work in Linux terminal. One vote for you"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":15,"creation_date":1505690181,"post_id":32295974,"comment_id":79501906,"body_markdown":"This only works if the terminal emulator in which Java runs, supports ANSI escape codes.    Windows NT/XP/7/8/10 CMD doesn&#39;t","body":"This only works if the terminal emulator in which Java runs, supports ANSI escape codes.    Windows NT/XP/7/8/10 CMD doesn&#39;t"},{"owner":{"account_id":71068,"reputation":33480,"user_id":205580,"display_name":"Eryk Sun"},"score":0,"creation_date":1547666864,"post_id":32295974,"comment_id":95273871,"body_markdown":"@Thorbj&#248;rnRavnAndersen, you mean the Windows console. CMD is a shell, not a console or terminal.","body":"@Thorbj&#248;rnRavnAndersen, you mean the Windows console. CMD is a shell, not a console or terminal."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1547725263,"post_id":32295974,"comment_id":95294906,"body_markdown":"@eryksun The thing that comes up when you ask Windows to invoke &quot;CMD&quot;. If it can be invoked in a way that supports ANSI codes on all Windows machines, I&#39;d love to hear about it.","body":"@eryksun The thing that comes up when you ask Windows to invoke &quot;CMD&quot;. If it can be invoked in a way that supports ANSI codes on all Windows machines, I&#39;d love to hear about it."},{"owner":{"account_id":71068,"reputation":33480,"user_id":205580,"display_name":"Eryk Sun"},"score":0,"creation_date":1547726261,"post_id":32295974,"comment_id":95295411,"body_markdown":"@Thorbj&#248;rnRavnAndersen, CMD is a shell that uses a console, just like the bash shell in Linux uses a terminal. The difference with Windows is that executables can be flagged as console applications in the PE image header, in which case the process initialization code in kernelbase.dll will automatically attach to or allocate a console, depending on whether the parent has a console and whether the process creation flags override the default behavior by forcing no console (detached) or a new console. So people run CMD and see a console pop up, and then *mistakenly* think that CMD is the console.","body":"@Thorbj&#248;rnRavnAndersen, CMD is a shell that uses a console, just like the bash shell in Linux uses a terminal. The difference with Windows is that executables can be flagged as console applications in the PE image header, in which case the process initialization code in kernelbase.dll will automatically attach to or allocate a console, depending on whether the parent has a console and whether the process creation flags override the default behavior by forcing no console (detached) or a new console. So people run CMD and see a console pop up, and then <i>mistakenly</i> think that CMD is the console."},{"owner":{"account_id":71068,"reputation":33480,"user_id":205580,"display_name":"Eryk Sun"},"score":0,"creation_date":1547726487,"post_id":32295974,"comment_id":95295548,"body_markdown":"@Thorbj&#248;rnRavnAndersen, as to virtual terminal support (i.e. VT escape codes), this was added to the console in Windows 10. In previous versions getting VT support requires an alternative console that hacks/hooks the console API, such as ConEmu or ANSICON.","body":"@Thorbj&#248;rnRavnAndersen, as to virtual terminal support (i.e. VT escape codes), this was added to the console in Windows 10. In previous versions getting VT support requires an alternative console that hacks/hooks the console API, such as ConEmu or ANSICON."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1547726864,"post_id":32295974,"comment_id":95295752,"body_markdown":"@eryksun You may want to write that up in a full answer somewhere.  Glad to hear it was added in Windows 10 - only been missing since NT 4.0 or something like that.","body":"@eryksun You may want to write that up in a full answer somewhere.  Glad to hear it was added in Windows 10 - only been missing since NT 4.0 or something like that."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1573666078,"post_id":32295974,"comment_id":103958954,"body_markdown":"@ErykSun Windows&#160;10 now supports ANSI codes, but enables them only for executables with a flag, for compatibility reasons. Since `java.exe` doesn’t have that flag, simple `System.out.print` statements still get no ANSI support. However, if you launch an executable or command that has that flag, e.g. a simple `echo` command, it works.","body":"@ErykSun Windows 10 now supports ANSI codes, but enables them only for executables with a flag, for compatibility reasons. Since <code>java.exe</code> doesn’t have that flag, simple <code>System.out.print</code> statements still get no ANSI support. However, if you launch an executable or command that has that flag, e.g. a simple <code>echo</code> command, it works."},{"owner":{"account_id":71068,"reputation":33480,"user_id":205580,"display_name":"Eryk Sun"},"score":0,"creation_date":1573696605,"post_id":32295974,"comment_id":103969903,"body_markdown":"@Holger, if virtual terminal support isn&#39;t enabled, it&#39;s a simple matter to enable it via `GetConsoleMode` (get the current mode of the screen buffer) and `SetConsoleMode` to add the `ENABLE_VIRTUAL_TERMINAL_PROCESSING` flag. From Java there&#39;s the added complexity of JNI to call the latter functions. A user can also enable this setting globally in the console default settings in &quot;HKCU\\Console&quot;. Set a DWORD value of 1 as the &quot;VirtualTerminalLevel&quot;.","body":"@Holger, if virtual terminal support isn&#39;t enabled, it&#39;s a simple matter to enable it via <code>GetConsoleMode</code> (get the current mode of the screen buffer) and <code>SetConsoleMode</code> to add the <code>ENABLE_VIRTUAL_TERMINAL_PROCESSING</code> flag. From Java there&#39;s the added complexity of JNI to call the latter functions. A user can also enable this setting globally in the console default settings in &quot;HKCU\\Console&quot;. Set a DWORD value of 1 as the &quot;VirtualTerminalLevel&quot;."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1573720508,"post_id":32295974,"comment_id":103977127,"body_markdown":"@ErykSun which brings us back to square one, the absence of a simple Java solution.","body":"@ErykSun which brings us back to square one, the absence of a simple Java solution."},{"owner":{"account_id":8940363,"reputation":718,"user_id":10626396,"display_name":"Matt"},"score":0,"creation_date":1580742348,"post_id":32295974,"comment_id":106187434,"body_markdown":"I could not get the &quot;clear&quot; command to work via Java in the Vs code terminal on Linux, but this worked for me. Thanks!","body":"I could not get the &quot;clear&quot; command to work via Java in the Vs code terminal on Linux, but this worked for me. Thanks!"},{"owner":{"account_id":184634,"reputation":455,"user_id":2100509,"display_name":"Ricardo Maroquio"},"score":0,"creation_date":1602871711,"post_id":32295974,"comment_id":113867106,"body_markdown":"Worked at Windows 10 using Visual Studio Code as IDE.","body":"Worked at Windows 10 using Visual Studio Code as IDE."}],"tags":[],"owner":{"account_id":6871153,"reputation":1591,"user_id":5281441,"display_name":"satish"},"comment_count":15,"down_vote_count":1,"up_vote_count":132,"is_accepted":false,"score":131,"last_activity_date":1652017137,"creation_date":1440933565,"answer_id":32295974,"question_id":2979383,"body_markdown":"You can use following code to clear command line console:\r\n\r\n    public static void clearScreen() {  \r\n        System.out.print(&quot;\\033[H\\033[2J&quot;);  \r\n        System.out.flush();  \r\n    }  \r\n\r\nCaveats:\r\n\r\n- This **will** work on terminals that support ANSI escape codes\r\n- It will **not** work on Windows&#39; CMD\r\n- It will **not** work in the IDE&#39;s terminal\r\n\r\nFor further reading [visit this][1]\r\n\r\n\r\n  [1]: http://techno-terminal.blogspot.in/2014/12/clear-command-line-console-and-bold.html","title":"How to clear the console using Java?","body":"<p>You can use following code to clear command line console:</p>\n<pre><code>public static void clearScreen() {  \n    System.out.print(&quot;\\033[H\\033[2J&quot;);  \n    System.out.flush();  \n}  \n</code></pre>\n<p>Caveats:</p>\n<ul>\n<li>This <strong>will</strong> work on terminals that support ANSI escape codes</li>\n<li>It will <strong>not</strong> work on Windows' CMD</li>\n<li>It will <strong>not</strong> work in the IDE's terminal</li>\n</ul>\n<p>For further reading <a href=\"http://techno-terminal.blogspot.in/2014/12/clear-command-line-console-and-bold.html\" rel=\"noreferrer\">visit this</a></p>\n"},{"comments":[{"owner":{"account_id":3541207,"reputation":556,"user_id":2958277,"accept_rate":76,"display_name":"Alist3r"},"score":1,"creation_date":1458656589,"post_id":33379766,"comment_id":59951237,"body_markdown":"Why this not work for me? I running the program on windows CMD but the  screen its not cleared","body":"Why this not work for me? I running the program on windows CMD but the  screen its not cleared"}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":1,"down_vote_count":2,"up_vote_count":131,"is_accepted":false,"score":129,"last_activity_date":1457845404,"creation_date":1445985631,"answer_id":33379766,"question_id":2979383,"body_markdown":"Since there are several answers here showing non-working code for Windows, here is a clarification:\r\n\r\n    Runtime.getRuntime().exec(&quot;cls&quot;);\r\n\r\nThis command does *not* work, for two reasons:\r\n\r\n 1. There is no executable named `cls.exe` or `cls.com` in a standard Windows installation that could be invoked via `Runtime.exec`, as the well-known command `cls` is builtin to Windows’ command line interpreter.\r\n\r\n 2. When launching a new process via `Runtime.exec`, the standard output gets redirected to a pipe which the initiating Java process can read. But when the output of the `cls` command gets redirected, it doesn’t clear the console.\r\n\r\nTo solve this problem, we have to invoke the command line interpreter (`cmd`) and tell it to execute a command (`/c cls`) which allows invoking builtin commands. Further we have to directly connect its output channel to the Java process’ output channel, which works starting with Java&#160;7, using `inheritIO()`:\r\n\r\n    import java.io.IOException;\r\n    \r\n    public class CLS {\r\n        public static void main(String... arg) throws IOException, InterruptedException {\r\n            new ProcessBuilder(&quot;cmd&quot;, &quot;/c&quot;, &quot;cls&quot;).inheritIO().start().waitFor();\r\n        }\r\n    }\r\nNow when the Java process is connected to a console, i.e. has been started from a command line without output redirection, it will clear the console.\r\n\r\n","title":"How to clear the console using Java?","body":"<p>Since there are several answers here showing non-working code for Windows, here is a clarification:</p>\n\n<pre><code>Runtime.getRuntime().exec(\"cls\");\n</code></pre>\n\n<p>This command does <em>not</em> work, for two reasons:</p>\n\n<ol>\n<li><p>There is no executable named <code>cls.exe</code> or <code>cls.com</code> in a standard Windows installation that could be invoked via <code>Runtime.exec</code>, as the well-known command <code>cls</code> is builtin to Windows’ command line interpreter.</p></li>\n<li><p>When launching a new process via <code>Runtime.exec</code>, the standard output gets redirected to a pipe which the initiating Java process can read. But when the output of the <code>cls</code> command gets redirected, it doesn’t clear the console.</p></li>\n</ol>\n\n<p>To solve this problem, we have to invoke the command line interpreter (<code>cmd</code>) and tell it to execute a command (<code>/c cls</code>) which allows invoking builtin commands. Further we have to directly connect its output channel to the Java process’ output channel, which works starting with Java 7, using <code>inheritIO()</code>:</p>\n\n<pre><code>import java.io.IOException;\n\npublic class CLS {\n    public static void main(String... arg) throws IOException, InterruptedException {\n        new ProcessBuilder(\"cmd\", \"/c\", \"cls\").inheritIO().start().waitFor();\n    }\n}\n</code></pre>\n\n<p>Now when the Java process is connected to a console, i.e. has been started from a command line without output redirection, it will clear the console.</p>\n"},{"tags":[],"owner":{"account_id":7380481,"reputation":85,"user_id":5617363,"accept_rate":100,"display_name":"Abhigyan Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1507718755,"creation_date":1459578366,"answer_id":36369966,"question_id":2979383,"body_markdown":"This will work if you are doing this in Bluej or any other similar software.\r\n\r\n    System.out.print(&#39;\\u000C&#39;);","title":"How to clear the console using Java?","body":"<p>This will work if you are doing this in Bluej or any other similar software.</p>\n\n<pre><code>System.out.print('\\u000C');\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6502783,"reputation":3432,"user_id":5032898,"accept_rate":50,"display_name":"Abhishek Kashyap"},"comment_count":0,"down_vote_count":2,"up_vote_count":19,"is_accepted":false,"score":17,"last_activity_date":1514695535,"creation_date":1468472685,"answer_id":38365871,"question_id":2979383,"body_markdown":"Create a method in your class like this: [as [@Holger][1] said [here][2].]\r\n\r\n    public static void clrscr(){\r\n        //Clears Screen in java\r\n        try {\r\n            if (System.getProperty(&quot;os.name&quot;).contains(&quot;Windows&quot;))\r\n                new ProcessBuilder(&quot;cmd&quot;, &quot;/c&quot;, &quot;cls&quot;).inheritIO().start().waitFor();\r\n            else\r\n                Runtime.getRuntime().exec(&quot;clear&quot;);\r\n        } catch (IOException | InterruptedException ex) {}\r\n    }\r\n\r\nThis works for windows at least, I have not checked for Linux so far. If anyone checks it for Linux please let me know if it works (or not).\r\n\r\nAs an alternate method is to write this code in `clrscr()`:\r\n\r\n    for(int i = 0; i &lt; 80*300; i++) // Default Height of cmd is 300 and Default width is 80\r\n        System.out.print(&quot;\\b&quot;); // Prints a backspace\r\nI will not recommend you to use this method.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/2711488/holger\r\n  [2]: https://stackoverflow.com/questions/2979383/java-clear-the-console/33379766#33379766","title":"How to clear the console using Java?","body":"<p>Create a method in your class like this: [as <a href=\"https://stackoverflow.com/users/2711488/holger\">@Holger</a> said <a href=\"https://stackoverflow.com/questions/2979383/java-clear-the-console/33379766#33379766\">here</a>.]</p>\n\n<pre><code>public static void clrscr(){\n    //Clears Screen in java\n    try {\n        if (System.getProperty(\"os.name\").contains(\"Windows\"))\n            new ProcessBuilder(\"cmd\", \"/c\", \"cls\").inheritIO().start().waitFor();\n        else\n            Runtime.getRuntime().exec(\"clear\");\n    } catch (IOException | InterruptedException ex) {}\n}\n</code></pre>\n\n<p>This works for windows at least, I have not checked for Linux so far. If anyone checks it for Linux please let me know if it works (or not).</p>\n\n<p>As an alternate method is to write this code in <code>clrscr()</code>:</p>\n\n<pre><code>for(int i = 0; i &lt; 80*300; i++) // Default Height of cmd is 300 and Default width is 80\n    System.out.print(\"\\b\"); // Prints a backspace\n</code></pre>\n\n<p>I will not recommend you to use this method.</p>\n"},{"comments":[{"owner":{"account_id":8056033,"reputation":2316,"user_id":6073148,"accept_rate":75,"display_name":"Zahid Khan"},"score":1,"creation_date":1599980287,"post_id":40041221,"comment_id":112939523,"body_markdown":"It should be on the top! Worked on Linux console.","body":"It should be on the top! Worked on Linux console."},{"owner":{"account_id":9176835,"reputation":2097,"user_id":6822178,"display_name":"Max Pierini"},"score":0,"creation_date":1638466847,"post_id":40041221,"comment_id":124102256,"body_markdown":"Thank you! Worked on Linux, Android and Mac OS X.","body":"Thank you! Worked on Linux, Android and Mac OS X."},{"owner":{"account_id":16920491,"reputation":337,"user_id":12237426,"display_name":"discape"},"score":0,"creation_date":1675059924,"post_id":40041221,"comment_id":132839119,"body_markdown":"Worked on windows too!","body":"Worked on windows too!"},{"owner":{"account_id":15902950,"reputation":2107,"user_id":11474874,"display_name":"The Big Kahuna"},"score":0,"creation_date":1682092429,"post_id":40041221,"comment_id":134166370,"body_markdown":"This worked for me in windows using vscode terminal, but DID NOT work when exported as a .jar","body":"This worked for me in windows using vscode terminal, but DID NOT work when exported as a .jar"}],"tags":[],"owner":{"account_id":4844563,"reputation":603,"user_id":3908580,"accept_rate":28,"display_name":"Bhuvanesh Waran"},"comment_count":4,"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1476442109,"creation_date":1476441769,"answer_id":40041221,"question_id":2979383,"body_markdown":"Try the following :\r\n\r\n    System.out.print(&quot;\\033\\143&quot;);\r\n\r\nThis will work fine in Linux environment","title":"How to clear the console using Java?","body":"<p>Try the following :</p>\n\n<pre><code>System.out.print(\"\\033\\143\");\n</code></pre>\n\n<p>This will work fine in Linux environment</p>\n"},{"comments":[{"owner":{"account_id":938093,"reputation":2857,"user_id":966656,"accept_rate":82,"display_name":"Andrew S"},"score":1,"creation_date":1616626130,"post_id":62876778,"comment_id":118065542,"body_markdown":"That is good,but you do no state how these can be used to bring about the clearing of the Eclipse console.","body":"That is good,but you do no state how these can be used to bring about the clearing of the Eclipse console."},{"owner":{"account_id":5397431,"reputation":5255,"user_id":4298200,"accept_rate":62,"display_name":"Neuron"},"score":0,"creation_date":1680179914,"post_id":62876778,"comment_id":133856403,"body_markdown":"The question was not about how to get the eclipse console to work","body":"The question was not about how to get the eclipse console to work"}],"tags":[],"owner":{"account_id":16925760,"reputation":1326,"user_id":12241397,"display_name":"Gr&#233;gori Fernandes de Lima"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1594646525,"creation_date":1594646525,"answer_id":62876778,"question_id":2979383,"body_markdown":"You need to use control characters as backslash (\\b) and carriage return (\\r). It come disabled by default, but the Console view can interpret these controls. \r\n\r\n **Windows&gt;Preferences** and **Run/Debug &gt; Console** and select **Interpret ASCII control characteres** to enabled it\r\n\r\n[![Console preferences in Eclipse][2]][2]\r\n\r\n\r\nAfter these configurations, you can manage your console with control characters like:\r\n\r\n\\t - tab.\r\n\r\n\\b - backspace (a step backward in the text or deletion of a single character).\r\n\r\n\\n - new line.\r\n\r\n\\r - carriage return. ()\r\n\r\n\\f - form feed.\r\n\r\n[![eclipse console clear animation][1]][1]\r\n\r\nMore information at: https://www.eclipse.org/eclipse/news/4.14/platform.php\r\n\r\n  [2]: https://i.stack.imgur.com/Rzfxi.png\r\n  [1]: https://i.stack.imgur.com/o5Lzr.gif","title":"How to clear the console using Java?","body":"<p>You need to use control characters as backslash (\\b) and carriage return (\\r). It come disabled by default, but the Console view can interpret these controls.</p>\n<p><strong>Windows&gt;Preferences</strong> and <strong>Run/Debug &gt; Console</strong> and select <strong>Interpret ASCII control characteres</strong> to enabled it</p>\n<p><a href=\"https://i.stack.imgur.com/Rzfxi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Rzfxi.png\" alt=\"Console preferences in Eclipse\" /></a></p>\n<p>After these configurations, you can manage your console with control characters like:</p>\n<p>\\t - tab.</p>\n<p>\\b - backspace (a step backward in the text or deletion of a single character).</p>\n<p>\\n - new line.</p>\n<p>\\r - carriage return. ()</p>\n<p>\\f - form feed.</p>\n<p><a href=\"https://i.stack.imgur.com/o5Lzr.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/o5Lzr.gif\" alt=\"eclipse console clear animation\" /></a></p>\n<p>More information at: <a href=\"https://www.eclipse.org/eclipse/news/4.14/platform.php\" rel=\"nofollow noreferrer\">https://www.eclipse.org/eclipse/news/4.14/platform.php</a></p>\n"},{"tags":[],"owner":{"account_id":14352030,"reputation":710,"user_id":10367178,"display_name":"Md Adilur Rashid"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1607018018,"creation_date":1598549338,"answer_id":63621310,"question_id":2979383,"body_markdown":"Try this: only works on console, not in NetBeans integrated console.\r\n```\r\npublic static void cls(){\r\n    try {\r\n\r\n     if (System.getProperty(&quot;os.name&quot;).contains(&quot;Windows&quot;))\r\n         new ProcessBuilder(&quot;cmd&quot;, &quot;/c&quot;, \r\n                  &quot;cls&quot;).inheritIO().start().waitFor();\r\n     else\r\n         Runtime.getRuntime().exec(&quot;clear&quot;);\r\n    } catch (IOException | InterruptedException ex) {}\r\n}\r\n```\r\n","title":"How to clear the console using Java?","body":"<p>Try this: only works on console, not in NetBeans integrated console.</p>\n<pre><code>public static void cls(){\n    try {\n\n     if (System.getProperty(&quot;os.name&quot;).contains(&quot;Windows&quot;))\n         new ProcessBuilder(&quot;cmd&quot;, &quot;/c&quot;, \n                  &quot;cls&quot;).inheritIO().start().waitFor();\n     else\n         Runtime.getRuntime().exec(&quot;clear&quot;);\n    } catch (IOException | InterruptedException ex) {}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11065212,"reputation":825,"user_id":8125224,"display_name":"Muhammed G&#252;l"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1600907892,"creation_date":1600907892,"answer_id":64038023,"question_id":2979383,"body_markdown":"By combining all the given answers, this method should work on all environments:\r\n\r\n    public static void clearConsole() {\r\n        try {\r\n            if (System.getProperty(&quot;os.name&quot;).contains(&quot;Windows&quot;)) {\r\n                new ProcessBuilder(&quot;cmd&quot;, &quot;/c&quot;, &quot;cls&quot;).inheritIO().start().waitFor();\r\n            }\r\n            else {\r\n                System.out.print(&quot;\\033\\143&quot;);\r\n            }\r\n        } catch (IOException | InterruptedException ex) {}\r\n    }","title":"How to clear the console using Java?","body":"<p>By combining all the given answers, this method should work on all environments:</p>\n<pre><code>public static void clearConsole() {\n    try {\n        if (System.getProperty(&quot;os.name&quot;).contains(&quot;Windows&quot;)) {\n            new ProcessBuilder(&quot;cmd&quot;, &quot;/c&quot;, &quot;cls&quot;).inheritIO().start().waitFor();\n        }\n        else {\n            System.out.print(&quot;\\033\\143&quot;);\n        }\n    } catch (IOException | InterruptedException ex) {}\n}\n</code></pre>\n"}],"owner":{"account_id":113464,"reputation":1983,"user_id":298812,"accept_rate":57,"display_name":"sadia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":859956,"favorite_count":0,"down_vote_count":2,"up_vote_count":183,"answer_count":14,"score":181,"last_activity_date":1682409470,"creation_date":1275718475,"question_id":2979383,"body_markdown":"Can any body please tell me what code is used for clear the screen in Java?\r\n\r\nFor example, in C++:\r\n\r\n    system(&quot;CLS&quot;);\r\n\r\nWhat code is used in Java to clear the screen?\r\n","title":"How to clear the console using Java?","body":"<p>Can any body please tell me what code is used for clear the screen in Java?</p>\n<p>For example, in C++:</p>\n<pre><code>system(&quot;CLS&quot;);\n</code></pre>\n<p>What code is used in Java to clear the screen?</p>\n"},{"tags":["java","lambda","method-reference"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1682407257,"post_id":76098398,"comment_id":134205868,"body_markdown":"https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html#apply-T-","body":"<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html#apply-T-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/function/&hellip;</a>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1682407808,"post_id":76098398,"comment_id":134205985,"body_markdown":"`Function.apply()` is non-`static` 1-parameter method, so it needs an instance to run; but `Function::apply` is not providing such instance, so needs an additional argument when called, meaning it is equivalent to a 2-parameter function (first argument will be `this`) || `BiFunction&lt;T, U, R&gt; function = Function::apply` ~= `(T t, U u) -&gt; t.apply(u)` returning type `R` ( if I am correct, in this specific case: `(Consumer&lt;String&gt; t, String u) -&gt; t.apply(s)` )","body":"<code>Function.apply()</code> is non-<code>static</code> 1-parameter method, so it needs an instance to run; but <code>Function::apply</code> is not providing such instance, so needs an additional argument when called, meaning it is equivalent to a 2-parameter function (first argument will be <code>this</code>) || <code>BiFunction&lt;T, U, R&gt; function = Function::apply</code> ~= <code>(T t, U u) -&gt; t.apply(u)</code> returning type <code>R</code> ( if I am correct, in this specific case: <code>(Consumer&lt;String&gt; t, String u) -&gt; t.apply(s)</code> )"}],"answers":[{"tags":[],"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682407849,"creation_date":1682407849,"answer_id":76098623,"question_id":76098398,"body_markdown":"`Function::apply` is a method reference that refers to the apply method of the Function interface in the line `Seq s1 = seq.zip(split, Function::apply)`. It serves as the second argument to the zip method, which requires a `BiFunction` functional interface and anticipates one that accepts two arguments of types `T` and `U` and returns a result of type `R`.\r\n\r\nIn this instance, `T` is an `UnaryOperator&lt;String&gt;` (from `Seq&lt;UnaryOperator&lt;String&gt;&gt; seq)`, `U` is a String (from `List&lt;String&gt; split`), and `R` is a String when the zip method is executed. Because `String::apply` has the same signature as the apply method of the Function interface, which accepts a single argument of type String and returns a String, it is used as a reference to the `Function::apply` method.\r\n\r\nThe seq sequence of functions will be applied to each element of the split list by the zip method as iterates over the split list&#39;s elements. The apply method of the Function interface will be used to apply each `UnaryOperator&lt;String&gt;` in seq to the corresponding String element in the split.","title":"Function::apply when BiFunction&lt;T, U, R&gt; is required","body":"<p><code>Function::apply</code> is a method reference that refers to the apply method of the Function interface in the line <code>Seq s1 = seq.zip(split, Function::apply)</code>. It serves as the second argument to the zip method, which requires a <code>BiFunction</code> functional interface and anticipates one that accepts two arguments of types <code>T</code> and <code>U</code> and returns a result of type <code>R</code>.</p>\n<p>In this instance, <code>T</code> is an <code>UnaryOperator&lt;String&gt;</code> (from <code>Seq&lt;UnaryOperator&lt;String&gt;&gt; seq)</code>, <code>U</code> is a String (from <code>List&lt;String&gt; split</code>), and <code>R</code> is a String when the zip method is executed. Because <code>String::apply</code> has the same signature as the apply method of the Function interface, which accepts a single argument of type String and returns a String, it is used as a reference to the <code>Function::apply</code> method.</p>\n<p>The seq sequence of functions will be applied to each element of the split list by the zip method as iterates over the split list's elements. The apply method of the Function interface will be used to apply each <code>UnaryOperator&lt;String&gt;</code> in seq to the corresponding String element in the split.</p>\n"},{"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1682524664,"post_id":76098657,"comment_id":134230912,"body_markdown":"BTW the `length` method could have been declared `public int length(String this)` (only works inside the `String` class) - `this` acts as the first parameter of a non-static method (( reason for this: allow annotations on `this` ))","body":"BTW the <code>length</code> method could have been declared <code>public int length(String this)</code> (only works inside the <code>String</code> class) - <code>this</code> acts as the first parameter of a non-static method (( reason for this: allow annotations on <code>this</code> ))"}],"tags":[],"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1682408849,"creation_date":1682408045,"answer_id":76098657,"question_id":76098398,"body_markdown":"## Non-static method reference ##\r\n\r\nThis is indeed an interesting one, as it uses one of the _special rules_ that method references allow for.\r\n\r\nQuick example, suppose you demand a `Function&lt;String, Integer&gt;`, then one could write `String::length`, eventhough this method has a different signature. The requested signature is:\r\n\r\n```java\r\nInteger apply(String x) { ... }\r\n```\r\n\r\nbut we supplied a method that only has `int length()`, so no `String` argument at all. However, that method is non-static and operates on instances of `String`. So Java can assume you meant to call that method on that instance, and by that deduce the first parameter to the method. I.e. `s -&gt; s.length()`.\r\n\r\n\r\n----------\r\n## Generic details ##\r\n\r\nThe same is happening in your setup. First of all, you have to understand what the generics for your requested `BiFunction&lt;T, U, R&gt;` resolve to. They are:\r\n\r\n* `T`: `UnaryOperator&lt;String&gt;`\r\n* `U`: `String`\r\n* `R`: `Consumer&lt;T&gt;`, so `Consumer&lt;UnaryOperator&lt;String&gt;&gt;`\r\n\r\nQuite complex, but okay.\r\n\r\n## Actual signature ##\r\n\r\nNow, the requested signature is:\r\n\r\n```java\r\nConsumer&lt;UnaryOperator&lt;String&gt;&gt; apply(UnaryOperator&lt;String&gt; t, String u)\r\n```\r\nWhen you give your method reference `Function::apply`, whose signature is:\r\n\r\n```java\r\nR apply(T t)\r\n```\r\n\r\nso, in this case:\r\n\r\n```java\r\nConsumer&lt;UnaryOperator&lt;String&gt;&gt; apply(String u)\r\n```\r\n\r\nThen, the first argument from the required signature (`UnaryOperator&lt;String&gt; t`) is again deducted from the fact that `Function::apply` is a non-static method that operates on the `Function` instance, which happens to be compatible with `UnaryOperator&lt;String&gt;`, since `UnaryOperator extends Function`.\r\n\r\n## Implementation ##\r\n\r\nSo `Function::apply` essentially is the same as implementing your `BiFunction` as:\r\n\r\n```java\r\nConsumer&lt;UnaryOperator&lt;String&gt;&gt; apply(UnaryOperator&lt;String&gt; t, String u) {\r\n  return t.apply(u);\r\n}\r\n```\r\nTaking the function from the first argument and applying it to the second, returning the result.","title":"Function::apply when BiFunction&lt;T, U, R&gt; is required","body":"<h2>Non-static method reference</h2>\n<p>This is indeed an interesting one, as it uses one of the <em>special rules</em> that method references allow for.</p>\n<p>Quick example, suppose you demand a <code>Function&lt;String, Integer&gt;</code>, then one could write <code>String::length</code>, eventhough this method has a different signature. The requested signature is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Integer apply(String x) { ... }\n</code></pre>\n<p>but we supplied a method that only has <code>int length()</code>, so no <code>String</code> argument at all. However, that method is non-static and operates on instances of <code>String</code>. So Java can assume you meant to call that method on that instance, and by that deduce the first parameter to the method. I.e. <code>s -&gt; s.length()</code>.</p>\n<hr />\n<h2>Generic details</h2>\n<p>The same is happening in your setup. First of all, you have to understand what the generics for your requested <code>BiFunction&lt;T, U, R&gt;</code> resolve to. They are:</p>\n<ul>\n<li><code>T</code>: <code>UnaryOperator&lt;String&gt;</code></li>\n<li><code>U</code>: <code>String</code></li>\n<li><code>R</code>: <code>Consumer&lt;T&gt;</code>, so <code>Consumer&lt;UnaryOperator&lt;String&gt;&gt;</code></li>\n</ul>\n<p>Quite complex, but okay.</p>\n<h2>Actual signature</h2>\n<p>Now, the requested signature is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Consumer&lt;UnaryOperator&lt;String&gt;&gt; apply(UnaryOperator&lt;String&gt; t, String u)\n</code></pre>\n<p>When you give your method reference <code>Function::apply</code>, whose signature is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>R apply(T t)\n</code></pre>\n<p>so, in this case:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Consumer&lt;UnaryOperator&lt;String&gt;&gt; apply(String u)\n</code></pre>\n<p>Then, the first argument from the required signature (<code>UnaryOperator&lt;String&gt; t</code>) is again deducted from the fact that <code>Function::apply</code> is a non-static method that operates on the <code>Function</code> instance, which happens to be compatible with <code>UnaryOperator&lt;String&gt;</code>, since <code>UnaryOperator extends Function</code>.</p>\n<h2>Implementation</h2>\n<p>So <code>Function::apply</code> essentially is the same as implementing your <code>BiFunction</code> as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Consumer&lt;UnaryOperator&lt;String&gt;&gt; apply(UnaryOperator&lt;String&gt; t, String u) {\n  return t.apply(u);\n}\n</code></pre>\n<p>Taking the function from the first argument and applying it to the second, returning the result.</p>\n"}],"owner":{"account_id":21185494,"reputation":33,"user_id":15578940,"display_name":"Osiris"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76098657,"answer_count":2,"score":3,"last_activity_date":1682408893,"creation_date":1682406035,"question_id":76098398,"body_markdown":"I am confused about the following line:\r\n\r\n```java\r\nSeq&lt;String&gt; s1 = seq.zip(split, Function::apply);\r\n```\r\n\r\nIn this snippet:\r\n\r\n```\r\nstatic String underscoreToCamel(String str) {\r\n        UnaryOperator&lt;String&gt; capitalize = s -&gt; s.substring(0, 1).toUpperCase() + s.substring(1).toLowerCase();\r\n        \r\n        Seq&lt;UnaryOperator&lt;String&gt;&gt; seq = c -&gt; {\r\n            c.accept(String::toLowerCase);\r\n            while (true) {\r\n                c.accept(capitalize);\r\n            }\r\n        };\r\n        List&lt;String&gt; split = Arrays.asList(str.split(&quot;_&quot;));\r\n        Seq&lt;String&gt; s1 = seq.zip(split, Function::apply);\r\n        String a = s1.join(&quot;&quot;);\r\n        return a;\r\n    }\r\n\r\npublic interface Seq&lt;T&gt; {\r\n        void consume(Consumer&lt;T&gt; consumer);\r\n\r\n        static &lt;T&gt; Seq&lt;T&gt; unit(T t) {\r\n            return consumer -&gt; consumer.accept(t);\r\n        }\r\n\r\n        default &lt;E&gt; Seq&lt;E&gt; map(Function&lt;T, E&gt; function) {\r\n            return consumer -&gt; consume(t -&gt; consumer.accept(function.apply(t)));\r\n        }\r\n\r\n        default &lt;E&gt; Seq&lt;E&gt; flatMap(Function&lt;T, Seq&lt;E&gt;&gt; function) {\r\n            return consumer -&gt; consume(t -&gt; function.apply(t).consume(consumer));\r\n        }\r\n\r\n\r\n        default String join(String sep) {\r\n            StringJoiner joiner = new StringJoiner(sep);\r\n            consume(t -&gt; joiner.add(t.toString()));\r\n            return joiner.toString();\r\n        }\r\n\r\n        static &lt;T&gt; T stop() {\r\n            throw StopException.INSTANCE;\r\n        }\r\n\r\n        default void consumeTillStop(Consumer&lt;T&gt; consumer) {\r\n            try {\r\n                consume(consumer);\r\n            } catch (StopException ignore) {}\r\n        }\r\n\r\n        default &lt;U, R&gt; Seq&lt;R&gt; zip(Iterable&lt;U&gt; iterable, BiFunction&lt;T, U, R&gt; function) {\r\n            return c -&gt; {\r\n                Iterator&lt;U&gt; iterator = iterable.iterator();\r\n                consumeTillStop(t -&gt; {\r\n                    if (iterator.hasNext()) {\r\n                        c.accept(function.apply(t, iterator.next()));\r\n                    } else {\r\n                        stop();\r\n                    }\r\n                });\r\n            };\r\n        }\r\n\r\n    }\r\n\r\n```\r\n\r\nI do understand that `Function::apply` is a **method reference** and that the method wants a `BiFunction&lt;T, U, R&gt;`. But I do not get how this is compatible.\r\n\r\nWhat exactly does it resolve to? Why can I supply `Function::apply` in this case?","title":"Function::apply when BiFunction&lt;T, U, R&gt; is required","body":"<p>I am confused about the following line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Seq&lt;String&gt; s1 = seq.zip(split, Function::apply);\n</code></pre>\n<p>In this snippet:</p>\n<pre><code>static String underscoreToCamel(String str) {\n        UnaryOperator&lt;String&gt; capitalize = s -&gt; s.substring(0, 1).toUpperCase() + s.substring(1).toLowerCase();\n        \n        Seq&lt;UnaryOperator&lt;String&gt;&gt; seq = c -&gt; {\n            c.accept(String::toLowerCase);\n            while (true) {\n                c.accept(capitalize);\n            }\n        };\n        List&lt;String&gt; split = Arrays.asList(str.split(&quot;_&quot;));\n        Seq&lt;String&gt; s1 = seq.zip(split, Function::apply);\n        String a = s1.join(&quot;&quot;);\n        return a;\n    }\n\npublic interface Seq&lt;T&gt; {\n        void consume(Consumer&lt;T&gt; consumer);\n\n        static &lt;T&gt; Seq&lt;T&gt; unit(T t) {\n            return consumer -&gt; consumer.accept(t);\n        }\n\n        default &lt;E&gt; Seq&lt;E&gt; map(Function&lt;T, E&gt; function) {\n            return consumer -&gt; consume(t -&gt; consumer.accept(function.apply(t)));\n        }\n\n        default &lt;E&gt; Seq&lt;E&gt; flatMap(Function&lt;T, Seq&lt;E&gt;&gt; function) {\n            return consumer -&gt; consume(t -&gt; function.apply(t).consume(consumer));\n        }\n\n\n        default String join(String sep) {\n            StringJoiner joiner = new StringJoiner(sep);\n            consume(t -&gt; joiner.add(t.toString()));\n            return joiner.toString();\n        }\n\n        static &lt;T&gt; T stop() {\n            throw StopException.INSTANCE;\n        }\n\n        default void consumeTillStop(Consumer&lt;T&gt; consumer) {\n            try {\n                consume(consumer);\n            } catch (StopException ignore) {}\n        }\n\n        default &lt;U, R&gt; Seq&lt;R&gt; zip(Iterable&lt;U&gt; iterable, BiFunction&lt;T, U, R&gt; function) {\n            return c -&gt; {\n                Iterator&lt;U&gt; iterator = iterable.iterator();\n                consumeTillStop(t -&gt; {\n                    if (iterator.hasNext()) {\n                        c.accept(function.apply(t, iterator.next()));\n                    } else {\n                        stop();\n                    }\n                });\n            };\n        }\n\n    }\n\n</code></pre>\n<p>I do understand that <code>Function::apply</code> is a <strong>method reference</strong> and that the method wants a <code>BiFunction&lt;T, U, R&gt;</code>. But I do not get how this is compatible.</p>\n<p>What exactly does it resolve to? Why can I supply <code>Function::apply</code> in this case?</p>\n"},{"tags":["java","mysql","hibernate"],"answers":[{"comments":[{"owner":{"account_id":3101748,"reputation":4719,"user_id":2625691,"accept_rate":35,"display_name":"idmitriev"},"score":0,"creation_date":1423117045,"post_id":28333812,"comment_id":45020483,"body_markdown":"OK. I have set 8m of heap size specially because I want to check ScrollaleResultset and does it really may handle huge data. I didnt get explanation why OutOfMemory is occured. Am I right that ScrollableResult store some data??","body":"OK. I have set 8m of heap size specially because I want to check ScrollaleResultset and does it really may handle huge data. I didnt get explanation why OutOfMemory is occured. Am I right that ScrollableResult store some data??"},{"owner":{"account_id":46080,"reputation":4169,"user_id":136054,"accept_rate":67,"display_name":"nayakam"},"score":0,"creation_date":1423458073,"post_id":28333812,"comment_id":45141230,"body_markdown":"You could generate memory dump with &quot;-XX:+HeapDumpOnOutOfMemoryError&quot; jvm option and analysis memory dump  https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/memleaks.html","body":"You could generate memory dump with &quot;-XX:+HeapDumpOnOutOfMemoryError&quot; jvm option and analysis memory dump  <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/memleaks.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":3101748,"reputation":4719,"user_id":2625691,"accept_rate":35,"display_name":"idmitriev"},"score":0,"creation_date":1423487401,"post_id":28333812,"comment_id":45154524,"body_markdown":"I have done it, and I got this - https://stackoverflow.com/questions/28388025/hibernate-scrollableresultset-unexpected-outofmemoryerror","body":"I have done it, and I got this - <a href=\"https://stackoverflow.com/questions/28388025/hibernate-scrollableresultset-unexpected-outofmemoryerror\" title=\"hibernate scrollableresultset unexpected outofmemoryerror\">stackoverflow.com/questions/28388025/&hellip;</a>"}],"tags":[],"owner":{"account_id":46080,"reputation":4169,"user_id":136054,"accept_rate":67,"display_name":"nayakam"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1423099067,"creation_date":1423094013,"answer_id":28333812,"question_id":28333168,"body_markdown":"When memory usage exceeds beyond Xmx configuration.  JVM may try to collect garbage to free up enough memory and garbage collector is taking an excessive amount of time.we get out of memory exception &quot;`java.lang.OutOfMemoryError: GC overhead limit exceeded.`&quot;.You have to increase the (Xmx) maximum amount of JVM memory or just remove the JVM flag to use default allocation. (Assumed you have enough physical memory)\r\n\r\n[Java HotSpot VM Options][1]\r\n\r\n[Troubleshooting Memory Leaks][2]\r\n\r\n\r\n\r\n\r\n    C:\\&gt;java -X\r\n       \r\n        -Xms&lt;size&gt;        set initial Java heap size\r\n        -Xmx&lt;size&gt;        set maximum Java heap size\r\n      \r\n    The -X options are non-standard and subject to change without notice.\r\n\r\n\r\nAs this is small set of data (7500) mysql JDBC driver should be able to handle this. Note that last batch of records will not be cleared from session. Even though from http://dev.mysql.com/doc/connector-j/en/connector-j-reference-implementation-notes.html in ResultSet Section :\r\n   \r\n\r\n&gt;    By default, ResultSets are completely retrieved and stored in\r\n&gt; memory.In most cases this is the most efficient way to operate and,\r\n&gt; due to the design of the MySQL network protocol, is easier to\r\n&gt; implement. If you are working with ResultSets that have a large number\r\n&gt; of rows or large values and cannot allocate heap space in your JVM for\r\n&gt; the memory required, you can tell the driver to stream the results\r\n&gt; back one row at a time.\r\n\r\nYou have to check hibernate and JDBC drive versions.\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/memleaks.html","title":"Hibernate ScrollableResults OutOfMemory","body":"<p>When memory usage exceeds beyond Xmx configuration.  JVM may try to collect garbage to free up enough memory and garbage collector is taking an excessive amount of time.we get out of memory exception \"<code>java.lang.OutOfMemoryError: GC overhead limit exceeded.</code>\".You have to increase the (Xmx) maximum amount of JVM memory or just remove the JVM flag to use default allocation. (Assumed you have enough physical memory)</p>\n\n<p><a href=\"http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html\" rel=\"nofollow\">Java HotSpot VM Options</a></p>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/memleaks.html\" rel=\"nofollow\">Troubleshooting Memory Leaks</a></p>\n\n<pre><code>C:\\&gt;java -X\n\n    -Xms&lt;size&gt;        set initial Java heap size\n    -Xmx&lt;size&gt;        set maximum Java heap size\n\nThe -X options are non-standard and subject to change without notice.\n</code></pre>\n\n<p>As this is small set of data (7500) mysql JDBC driver should be able to handle this. Note that last batch of records will not be cleared from session. Even though from <a href=\"http://dev.mysql.com/doc/connector-j/en/connector-j-reference-implementation-notes.html\" rel=\"nofollow\">http://dev.mysql.com/doc/connector-j/en/connector-j-reference-implementation-notes.html</a> in ResultSet Section :</p>\n\n<blockquote>\n  <p>By default, ResultSets are completely retrieved and stored in\n  memory.In most cases this is the most efficient way to operate and,\n  due to the design of the MySQL network protocol, is easier to\n  implement. If you are working with ResultSets that have a large number\n  of rows or large values and cannot allocate heap space in your JVM for\n  the memory required, you can tell the driver to stream the results\n  back one row at a time.</p>\n</blockquote>\n\n<p>You have to check hibernate and JDBC drive versions.</p>\n"},{"tags":[],"owner":{"account_id":11195840,"reputation":1,"user_id":8214494,"display_name":"Bhavesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682408560,"creation_date":1682408560,"answer_id":76098720,"question_id":28333168,"body_markdown":"Hope this helps somebody.\r\n\r\nWhat helped me:\r\n\r\n```\r\nScrollableResults&lt;T&gt; results = session.createQuery(criteriaQuery).setFetchSize(100).setCacheMode(CacheMode.IGNORE).scroll(ScrollMode.FORWARD_ONLY);\r\n\r\n```","title":"Hibernate ScrollableResults OutOfMemory","body":"<p>Hope this helps somebody.</p>\n<p>What helped me:</p>\n<pre><code>ScrollableResults&lt;T&gt; results = session.createQuery(criteriaQuery).setFetchSize(100).setCacheMode(CacheMode.IGNORE).scroll(ScrollMode.FORWARD_ONLY);\n\n</code></pre>\n"}],"owner":{"account_id":3101748,"reputation":4719,"user_id":2625691,"accept_rate":35,"display_name":"idmitriev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1606,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1682408560,"creation_date":1423090594,"question_id":28333168,"body_markdown":"I have 7500 rows in Table User in MySQL db,VM option : -Xmx8m and some code below :\r\n\r\n    Query query = session.createQuery(&quot;select u from User u&quot;);\r\n            ScrollableResults resultSet = query.setFetchSize(Integer.MIN_VALUE).setReadOnly(true).scroll(ScrollMode.FORWARD_ONLY);\r\n    \r\n            int i = 0;\r\n            while (resultSet.next()) {\r\n                User o = (User) resultSet.get(0);   \r\n                System.out.println(o.getId());    \r\n                i++;\r\n                if (i % 50 == 0) {\r\n                    session.clear();\r\n                }\r\n            }\r\n            resultSet.close();\r\n\r\nBut unfortunately I have this output in my console :\r\n...\r\n5745\r\nException in thread &quot;main&quot; java.lang.OutOfMemoryError: GC overhead limit exceeded.\r\n\r\nBut I do not understand why?? Integer.MIN_VALUE - serves as a signal to the driver to stream result sets row-by-row. Maybe I have a problem cause ScrollableResults stored in memory and 8m of heap is not enough ??\r\n","title":"Hibernate ScrollableResults OutOfMemory","body":"<p>I have 7500 rows in Table User in MySQL db,VM option : -Xmx8m and some code below :</p>\n\n<pre><code>Query query = session.createQuery(\"select u from User u\");\n        ScrollableResults resultSet = query.setFetchSize(Integer.MIN_VALUE).setReadOnly(true).scroll(ScrollMode.FORWARD_ONLY);\n\n        int i = 0;\n        while (resultSet.next()) {\n            User o = (User) resultSet.get(0);   \n            System.out.println(o.getId());    \n            i++;\n            if (i % 50 == 0) {\n                session.clear();\n            }\n        }\n        resultSet.close();\n</code></pre>\n\n<p>But unfortunately I have this output in my console :\n...\n5745\nException in thread \"main\" java.lang.OutOfMemoryError: GC overhead limit exceeded.</p>\n\n<p>But I do not understand why?? Integer.MIN_VALUE - serves as a signal to the driver to stream result sets row-by-row. Maybe I have a problem cause ScrollableResults stored in memory and 8m of heap is not enough ??</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":2,"creation_date":1682382731,"post_id":76096921,"comment_id":134203273,"body_markdown":"Well, what did you try?   This isn&#39;t a code-writing service.","body":"Well, what did you try?   This isn&#39;t a code-writing service."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1682386070,"post_id":76096921,"comment_id":134203586,"body_markdown":"Please don&#39;t use salutations or thanks in questions.","body":"Please don&#39;t use salutations or thanks in questions."},{"owner":{"account_id":3764278,"reputation":1175,"user_id":3128213,"display_name":"George Lords of Castle"},"score":0,"creation_date":1682386288,"post_id":76096921,"comment_id":134203601,"body_markdown":"@aled I have just removed!","body":"@aled I have just removed!"}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1682408357,"creation_date":1682408357,"answer_id":76098698,"question_id":76096921,"body_markdown":"The fact that you ask the question shows that you have shown little effort in reading the documentation. If you would you would have noticed the [`initialize`][1] method. This method is invoked **before** the call to `isValid` and receives the current annotation. With this you thus can configure the validator for that specific annotation. \r\n\r\n```java\r\npublic class IntegerValueAmongValidator implements ConstraintValidator&lt;IntegerValueAmong, Integer&gt; {\r\n\r\n  private List&lt;Integer&gt; allowedValues = Collections.emptyList();\r\n\r\n  @Overide\r\n  public void initialize(IntegerValueAmong annot) {\r\n    allowedValues =  IntStream.of(annot.value()).boxed().collect(Collectors.toList());\r\n  }\r\n\r\n  @Override\r\n  public boolean isValid(Integer integer, ConstraintValidatorContext constraintValidatorContext) {\r\n    return integer != null &amp;&amp; allowedValues.contains(integer);\r\n  }\r\n}\r\n```\r\n\r\n[1]: https://docs.oracle.com/javaee/7/api/javax/validation/ConstraintValidator.html#initialize-A-","title":"How to create in Java a validator to check that an integer is among a list of specific supplied values","body":"<p>The fact that you ask the question shows that you have shown little effort in reading the documentation. If you would you would have noticed the <a href=\"https://docs.oracle.com/javaee/7/api/javax/validation/ConstraintValidator.html#initialize-A-\" rel=\"nofollow noreferrer\"><code>initialize</code></a> method. This method is invoked <strong>before</strong> the call to <code>isValid</code> and receives the current annotation. With this you thus can configure the validator for that specific annotation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class IntegerValueAmongValidator implements ConstraintValidator&lt;IntegerValueAmong, Integer&gt; {\n\n  private List&lt;Integer&gt; allowedValues = Collections.emptyList();\n\n  @Overide\n  public void initialize(IntegerValueAmong annot) {\n    allowedValues =  IntStream.of(annot.value()).boxed().collect(Collectors.toList());\n  }\n\n  @Override\n  public boolean isValid(Integer integer, ConstraintValidatorContext constraintValidatorContext) {\n    return integer != null &amp;&amp; allowedValues.contains(integer);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":3764278,"reputation":1175,"user_id":3128213,"display_name":"George Lords of Castle"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76098698,"answer_count":1,"score":2,"last_activity_date":1682408357,"creation_date":1682382156,"question_id":76096921,"body_markdown":"I need to use javax.valitation to create a validator for an integer field.\r\nThat integer field has to be a value among a provided list of values (i.e. 5, 10 or 15) to pass the validation.\r\n\r\nIn particular, my field is:\r\n\r\n    @IntegerValueAmong({5, 10, 15})\r\n    private Integer myNumber;\r\n\r\nThe IntegerValueAmong annotation is defined as:\r\n\r\n    @Target({ElementType.METHOD, ElementType.FIELD, ElementType.ANNOTATION_TYPE, ElementType.CONSTRUCTOR, ElementType.PARAMETER})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Documented\r\n    @Constraint(validatedBy = IntegerValueAmongValidator.class)\r\n    public @interface IntegerValueAmong {\r\n      String message() default &quot;Value must an integer value among&quot;;\r\n      Class&lt;?&gt;[] groups() default {};\r\n      Class&lt;? extends Payload&gt;[] payload() default {};\r\n      int[] value() default {};\r\n    }\r\n\r\nAnd the IntegerValueAmongValidator I have tried to do is:\r\n\r\n    public class IntegerValueAmongValidator implements ConstraintValidator&lt;IntegerValueAmong, Integer&gt; {\r\n      @Override\r\n      public boolean isValid(Integer integer, ConstraintValidatorContext constraintValidatorContext) {\r\n          return integer == 5 || integer == 10 || integer == 15;\r\n      }\r\n    }\r\n\r\nBut I don&#39;t want to have 5, 10 and 15 as hardcoded values and I would like to access to the array passed to the IntegerValueAmong annotation put on the field.\r\n\r\n","title":"How to create in Java a validator to check that an integer is among a list of specific supplied values","body":"<p>I need to use javax.valitation to create a validator for an integer field.\nThat integer field has to be a value among a provided list of values (i.e. 5, 10 or 15) to pass the validation.</p>\n<p>In particular, my field is:</p>\n<pre><code>@IntegerValueAmong({5, 10, 15})\nprivate Integer myNumber;\n</code></pre>\n<p>The IntegerValueAmong annotation is defined as:</p>\n<pre><code>@Target({ElementType.METHOD, ElementType.FIELD, ElementType.ANNOTATION_TYPE, ElementType.CONSTRUCTOR, ElementType.PARAMETER})\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@Constraint(validatedBy = IntegerValueAmongValidator.class)\npublic @interface IntegerValueAmong {\n  String message() default &quot;Value must an integer value among&quot;;\n  Class&lt;?&gt;[] groups() default {};\n  Class&lt;? extends Payload&gt;[] payload() default {};\n  int[] value() default {};\n}\n</code></pre>\n<p>And the IntegerValueAmongValidator I have tried to do is:</p>\n<pre><code>public class IntegerValueAmongValidator implements ConstraintValidator&lt;IntegerValueAmong, Integer&gt; {\n  @Override\n  public boolean isValid(Integer integer, ConstraintValidatorContext constraintValidatorContext) {\n      return integer == 5 || integer == 10 || integer == 15;\n  }\n}\n</code></pre>\n<p>But I don't want to have 5, 10 and 15 as hardcoded values and I would like to access to the array passed to the IntegerValueAmong annotation put on the field.</p>\n"},{"tags":["java","data-structures","binary-tree"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1682409963,"post_id":76098564,"comment_id":134206483,"body_markdown":"NB You don&#39;t need both `BinaryTree` and a separate `TreeNode` class. A binary tree node is already a binary tree, by definition.","body":"NB You don&#39;t need both <code>BinaryTree</code> and a separate <code>TreeNode</code> class. A binary tree node is already a binary tree, by definition."}],"answers":[{"comments":[{"owner":{"account_id":5556344,"reputation":417,"user_id":4407572,"accept_rate":89,"display_name":"Sandeep Roy"},"score":0,"creation_date":1682408108,"post_id":76098643,"comment_id":134206059,"body_markdown":"I corrected the mistake as you told now it shows the correct traversal order. Thank you.","body":"I corrected the mistake as you told now it shows the correct traversal order. Thank you."},{"owner":{"account_id":329814,"reputation":11000,"user_id":653539,"accept_rate":50,"display_name":"Tom&#225;š Z&#225;lusk&#253;"},"score":0,"creation_date":1682408246,"post_id":76098643,"comment_id":134206092,"body_markdown":"@SandeepRoy I edited answer with unrelated advices. Feel free to accept answer if it helped you.","body":"@SandeepRoy I edited answer with unrelated advices. Feel free to accept answer if it helped you."},{"owner":{"account_id":5556344,"reputation":417,"user_id":4407572,"accept_rate":89,"display_name":"Sandeep Roy"},"score":0,"creation_date":1682414097,"post_id":76098643,"comment_id":134207474,"body_markdown":"Tomas, can you guide me a little more about how to pass children as constructors, seems more easier.","body":"Tomas, can you guide me a little more about how to pass children as constructors, seems more easier."},{"owner":{"account_id":329814,"reputation":11000,"user_id":653539,"accept_rate":50,"display_name":"Tom&#225;š Z&#225;lusk&#253;"},"score":1,"creation_date":1682417528,"post_id":76098643,"comment_id":134208301,"body_markdown":"Just create another constructor: `public TreeNode(int value, TreeNode left, TreeNode right) {this.value = value; this.left = left; this.right = right;}`. Then the expression for leaf node is `new TreeNode(6)` (your constructor), for nonleaf node `new TreeNode(5, null, new TreeNode(6))` and so on. You actually don&#39;t need the `BinaryTree` class unless you want some tree-scope operation (`printTree` can be `TreeNode` method as well).","body":"Just create another constructor: <code>public TreeNode(int value, TreeNode left, TreeNode right) {this.value = value; this.left = left; this.right = right;}</code>. Then the expression for leaf node is <code>new TreeNode(6)</code> (your constructor), for nonleaf node <code>new TreeNode(5, null, new TreeNode(6))</code> and so on. You actually don&#39;t need the <code>BinaryTree</code> class unless you want some tree-scope operation (<code>printTree</code> can be <code>TreeNode</code> method as well)."}],"tags":[],"owner":{"account_id":329814,"reputation":11000,"user_id":653539,"accept_rate":50,"display_name":"Tom&#225;š Z&#225;lusk&#253;"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682408167,"creation_date":1682407919,"answer_id":76098643,"question_id":76098564,"body_markdown":"Your declaration of tree does not match your picture, I guess you wanted to type \r\n\r\n```java\r\nTreeNode level_2_right = binaryTree.createRightChild(level_1_left, 5);\r\n```\r\n\r\nOtherwise the program seems correct (except that small improvements are possible - unnecessary constructor or assignments etc... it&#39;s usually good practice to declare `TreeNode` as immutable with children passed in constructor, which better visualizes tree structure using `new TreeNode(1,new TreeNode(2,new TreeNode(4)...),new TreeNode(3))`, ideally with proper indentation).","title":"Pre-Order Traversal in Binary Tree not able to understand","body":"<p>Your declaration of tree does not match your picture, I guess you wanted to type</p>\n<pre class=\"lang-java prettyprint-override\"><code>TreeNode level_2_right = binaryTree.createRightChild(level_1_left, 5);\n</code></pre>\n<p>Otherwise the program seems correct (except that small improvements are possible - unnecessary constructor or assignments etc... it's usually good practice to declare <code>TreeNode</code> as immutable with children passed in constructor, which better visualizes tree structure using <code>new TreeNode(1,new TreeNode(2,new TreeNode(4)...),new TreeNode(3))</code>, ideally with proper indentation).</p>\n"}],"owner":{"account_id":5556344,"reputation":417,"user_id":4407572,"accept_rate":89,"display_name":"Sandeep Roy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76098643,"answer_count":1,"score":0,"last_activity_date":1682408167,"creation_date":1682407438,"question_id":76098564,"body_markdown":"So, I&#39;m trying to create binary tree using static data.\r\n\r\nlike below -\r\n\r\n```\r\n        (1)\r\n        / \\\r\n       /   \\\r\n     (2)   (3)\r\n     / \\\r\n    /   \\\r\n  (4)   (5)\r\n          \\\r\n           \\\r\n           (6)\r\n``` \r\n\r\nHere is the TreeNode.java\r\n\r\n```\r\npackage sandeep.topics.binaryTree;\r\n\r\npublic class TreeNode {\r\n\tint value;\r\n\tTreeNode left, right;\r\n\t\r\n\tpublic TreeNode(int value) {\r\n\t\tthis.value = value;\r\n\t\tleft = null;\r\n\t\tright = null;\r\n\t}\r\n}\r\n\r\n```\r\n\r\n&amp; the BinaryTree.java\r\n\r\n```\r\n\r\npackage sandeep.topics.binaryTrees;\r\n\r\npublic class BinaryTree {\r\n\tstatic TreeNode root;\r\n\tpublic BinaryTree() {\r\n\t\t\r\n\t}\r\n\tpublic BinaryTree(int value) {\r\n\t\troot = new TreeNode(value);\r\n\t}\r\n\tpublic static void main(String[] args) {\r\n\t\tBinaryTree binaryTree = new BinaryTree();\r\n\t\t// level 0\r\n\t\tbinaryTree.root = new TreeNode(1);\r\n\t\t\r\n\t\t// level 1\r\n\t    TreeNode level_1_left = binaryTree.createLeftChild(root, 2);\r\n\t    TreeNode level_1_right = binaryTree.createRightChild(root, 3);\r\n\t\t\r\n\t\t// level 2\r\n\t    TreeNode level_2_left = binaryTree.createLeftChild(level_1_left, 4);\r\n\t    TreeNode level_2_right = binaryTree.createRightChild(level_1_right, 5);\r\n\t    \r\n\t    // level 3\r\n\t    TreeNode level_3_right =  binaryTree.createRightChild(level_2_right, 6);\r\n\t\t\r\n\t\t\r\n\t\tprintTree(root, &quot;root&quot;, 1);\r\n\t}\r\n\tprivate static TreeNode createLeftChild(TreeNode root, int value) {\r\n\t\troot.left = new TreeNode(value);\r\n\t\treturn root.left;\r\n\t}\r\n\t\r\n\tprivate static TreeNode createRightChild(TreeNode root, int value) {\r\n\t\troot.right = new TreeNode(value);\r\n\t\treturn root.right;\r\n\t}\r\n\tprivate static void printTree(TreeNode root, String type, int level) {\r\n\t\tif(root == null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tSystem.out.println(root.value + &quot; : &quot; + type + &quot; : &quot; + level);\r\n\t\tprintTree(root.left, &quot;left&quot;, level+1);\r\n\t\tprintTree(root.right, &quot;right&quot;, level+1);\r\n\t}\r\n}\r\n\r\n```\r\n\r\nVery simple code that can create root, children as per level and print them. \r\n\r\nOutput shown as - \r\n\r\n```\r\n(Columns; 1st- node value, 2nd - node type &amp; 3rd - level)\r\n\r\n\r\n1 : root : 1\r\n2 : left : 2\r\n4 : left : 3\r\n3 : right : 2\r\n5 : right : 3\r\n6 : right : 4\r\n```\r\nShows - 1 2 4 3 5 6.\r\n\r\nBut I think, the correct pre-order traversal should be 1 2 4 5 6 3.\r\n\r\nNot sure, what am i doing wrong though! ","title":"Pre-Order Traversal in Binary Tree not able to understand","body":"<p>So, I'm trying to create binary tree using static data.</p>\n<p>like below -</p>\n<pre><code>        (1)\n        / \\\n       /   \\\n     (2)   (3)\n     / \\\n    /   \\\n  (4)   (5)\n          \\\n           \\\n           (6)\n</code></pre>\n<p>Here is the TreeNode.java</p>\n<pre><code>package sandeep.topics.binaryTree;\n\npublic class TreeNode {\n    int value;\n    TreeNode left, right;\n    \n    public TreeNode(int value) {\n        this.value = value;\n        left = null;\n        right = null;\n    }\n}\n\n</code></pre>\n<p>&amp; the BinaryTree.java</p>\n<pre><code>\npackage sandeep.topics.binaryTrees;\n\npublic class BinaryTree {\n    static TreeNode root;\n    public BinaryTree() {\n        \n    }\n    public BinaryTree(int value) {\n        root = new TreeNode(value);\n    }\n    public static void main(String[] args) {\n        BinaryTree binaryTree = new BinaryTree();\n        // level 0\n        binaryTree.root = new TreeNode(1);\n        \n        // level 1\n        TreeNode level_1_left = binaryTree.createLeftChild(root, 2);\n        TreeNode level_1_right = binaryTree.createRightChild(root, 3);\n        \n        // level 2\n        TreeNode level_2_left = binaryTree.createLeftChild(level_1_left, 4);\n        TreeNode level_2_right = binaryTree.createRightChild(level_1_right, 5);\n        \n        // level 3\n        TreeNode level_3_right =  binaryTree.createRightChild(level_2_right, 6);\n        \n        \n        printTree(root, &quot;root&quot;, 1);\n    }\n    private static TreeNode createLeftChild(TreeNode root, int value) {\n        root.left = new TreeNode(value);\n        return root.left;\n    }\n    \n    private static TreeNode createRightChild(TreeNode root, int value) {\n        root.right = new TreeNode(value);\n        return root.right;\n    }\n    private static void printTree(TreeNode root, String type, int level) {\n        if(root == null) {\n            return;\n        }\n        System.out.println(root.value + &quot; : &quot; + type + &quot; : &quot; + level);\n        printTree(root.left, &quot;left&quot;, level+1);\n        printTree(root.right, &quot;right&quot;, level+1);\n    }\n}\n\n</code></pre>\n<p>Very simple code that can create root, children as per level and print them.</p>\n<p>Output shown as -</p>\n<pre><code>(Columns; 1st- node value, 2nd - node type &amp; 3rd - level)\n\n\n1 : root : 1\n2 : left : 2\n4 : left : 3\n3 : right : 2\n5 : right : 3\n6 : right : 4\n</code></pre>\n<p>Shows - 1 2 4 3 5 6.</p>\n<p>But I think, the correct pre-order traversal should be 1 2 4 5 6 3.</p>\n<p>Not sure, what am i doing wrong though!</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","webdriverwait","javascriptexecutor"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":1,"creation_date":1682405187,"post_id":76098140,"comment_id":134205477,"body_markdown":"Click the `label` instead of the `div` or `input` .","body":"Click the <code>label</code> instead of the <code>div</code> or <code>input</code> ."},{"owner":{"account_id":27122938,"reputation":23,"user_id":20666408,"display_name":"Rohit Mathur"},"score":0,"creation_date":1682405324,"post_id":76098140,"comment_id":134205501,"body_markdown":"tried with label as well but still not worked. for lable I user driver.findElement(By.xpath(&quot;//label[@for=newsletter&#39;].click();","body":"tried with label as well but still not worked. for lable I user driver.findElement(By.xpath(&quot;//label[@for=newsletter&#39;].click&zwnj;&#8203;();"},{"owner":{"account_id":27122938,"reputation":23,"user_id":20666408,"display_name":"Rohit Mathur"},"score":0,"creation_date":1682406539,"post_id":76098140,"comment_id":134205727,"body_markdown":"I have added error message as well.","body":"I have added error message as well."},{"owner":{"account_id":27122938,"reputation":23,"user_id":20666408,"display_name":"Rohit Mathur"},"score":0,"creation_date":1682407419,"post_id":76098140,"comment_id":134205897,"body_markdown":"This one is solved. Tried with jsexecutor scroll down and it is solved. Thank you for looking into it. :)","body":"This one is solved. Tried with jsexecutor scroll down and it is solved. Thank you for looking into it. :)"},{"owner":{"account_id":16840055,"reputation":300,"user_id":12175652,"display_name":"Rolandas Ulevicius"},"score":0,"creation_date":1682411307,"post_id":76098140,"comment_id":134206810,"body_markdown":"its in an iframe. next time post more of the HTML not just the element.","body":"its in an iframe. next time post more of the HTML not just the element."}],"answers":[{"tags":[],"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682407815,"creation_date":1682407815,"answer_id":76098617,"question_id":76098140,"body_markdown":"It&#39;s very wierd that the `label` can not be located.\r\n\r\nI&#39;ve managed to make the click while iterating all labels.\r\n\r\n**Code example:**\r\n\r\n    package tests;\r\n    \r\n    import java.time.LocalDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.List;\r\n    \r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    \r\n    import selenium.ChromeDriverSetup;\r\n    \r\n    public class AutomationexerciseRegister extends ChromeDriverSetup {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tWebDriver driver = startChromeDriver();\r\n    \t\tdriver.get(&quot;http://automationexercise.com&quot;);\r\n            driver.findElement(By.xpath(&quot;//div[@class=&#39;shop-menu pull-right&#39;]/ul/li[4]/a&quot;)).click();\r\n            \r\n            String userName = &quot;testuser_&quot; + timestampOfPattern(&quot;yyyyMMdd_HHmmss&quot;);\r\n            String email = userName + &quot;@mailinator.com&quot;;\r\n            WebElement inputName = driver.findElement(By.name(&quot;name&quot;));\r\n            inputName.click();\r\n            inputName.sendKeys(userName);\r\n            \r\n            \r\n            WebElement inputEmail = driver.findElements(By.name(&quot;email&quot;)).get(1);\r\n            inputEmail.click();\r\n            inputEmail.sendKeys(email);\r\n            driver.findElement(By.xpath(&quot;//form[@action=&#39;/signup&#39;]/button&quot;)).click();\r\n            \r\n            \r\n            List&lt;WebElement&gt; labels = driver.findElements(By.tagName(&quot;label&quot;));\r\n            clickLabelFor(labels, &quot;newsletter&quot;);\r\n            clickLabelFor(labels, &quot;optin&quot;);\r\n           \r\n            driver.quit(); // breakpoint here to see the checkboxes\r\n    \r\n    \t}\r\n    \t\r\n    \tpublic static String timestampOfPattern(String pattern) {\r\n    \t\tLocalDateTime now = LocalDateTime.now();\r\n    \t\tDateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(pattern);\r\n    \t\treturn now.format(dateTimeFormatter);\r\n    \t}\r\n    \t\r\n    \tpublic static void clickLabelFor(List&lt;WebElement&gt; labels, String attrFor) {\r\n            for (WebElement label: labels) {\r\n            \tString forValue = label.getAttribute(&quot;for&quot;);\r\n            \tif (forValue != null) {\r\n                \tif (forValue.equals(attrFor)) {\r\n                \t\tlabel.click();\r\n                \t\tbreak;\r\n                \t}\r\n            \t}\r\n            }\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Checkbox is not selected in selenium java. Tried everything but nothing worked","body":"<p>It's very wierd that the <code>label</code> can not be located.</p>\n<p>I've managed to make the click while iterating all labels.</p>\n<p><strong>Code example:</strong></p>\n<pre><code>package tests;\n\nimport java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.List;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\n\nimport selenium.ChromeDriverSetup;\n\npublic class AutomationexerciseRegister extends ChromeDriverSetup {\n\n    public static void main(String[] args) {\n        \n        WebDriver driver = startChromeDriver();\n        driver.get(&quot;http://automationexercise.com&quot;);\n        driver.findElement(By.xpath(&quot;//div[@class='shop-menu pull-right']/ul/li[4]/a&quot;)).click();\n        \n        String userName = &quot;testuser_&quot; + timestampOfPattern(&quot;yyyyMMdd_HHmmss&quot;);\n        String email = userName + &quot;@mailinator.com&quot;;\n        WebElement inputName = driver.findElement(By.name(&quot;name&quot;));\n        inputName.click();\n        inputName.sendKeys(userName);\n        \n        \n        WebElement inputEmail = driver.findElements(By.name(&quot;email&quot;)).get(1);\n        inputEmail.click();\n        inputEmail.sendKeys(email);\n        driver.findElement(By.xpath(&quot;//form[@action='/signup']/button&quot;)).click();\n        \n        \n        List&lt;WebElement&gt; labels = driver.findElements(By.tagName(&quot;label&quot;));\n        clickLabelFor(labels, &quot;newsletter&quot;);\n        clickLabelFor(labels, &quot;optin&quot;);\n       \n        driver.quit(); // breakpoint here to see the checkboxes\n\n    }\n    \n    public static String timestampOfPattern(String pattern) {\n        LocalDateTime now = LocalDateTime.now();\n        DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(pattern);\n        return now.format(dateTimeFormatter);\n    }\n    \n    public static void clickLabelFor(List&lt;WebElement&gt; labels, String attrFor) {\n        for (WebElement label: labels) {\n            String forValue = label.getAttribute(&quot;for&quot;);\n            if (forValue != null) {\n                if (forValue.equals(attrFor)) {\n                    label.click();\n                    break;\n                }\n            }\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":27122938,"reputation":23,"user_id":20666408,"display_name":"Rohit Mathur"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682407815,"creation_date":1682403760,"question_id":76098140,"body_markdown":"I&#39;m trying to fill in registration page for this the user will first be on the sign up page where they have to enter name and email address and then click on Signup button. This will navigate to the registration page where user will have to enter all the details. On registration page the checkboxes are not clickable.\r\nKindly help me with this.\r\nThis is POM class   \r\n      \r\n    \r\n    public class RegisterNewUserPom {\r\n    \t\r\n    \tprivate WebDriver driver;\r\n    \tprivate By newName= By.name(&quot;name&quot;);\r\n    \tprivate By newEmail= By.xpath(&quot;//form[@action=&#39;/signup&#39;]/input[3]&quot;);\r\n    \tprivate By signup=By.xpath(&quot;//form[@action=&#39;/signup&#39;]/button&quot;);\r\n    \tprivate By title=By.id(&quot;id_gender1&quot;);\r\n    \tprivate By password=By.id(&quot;password&quot;);\r\n    \tprivate By days=By.id(&quot;days&quot;);\r\n    \tprivate By month=By.id(&quot;months&quot;);\r\n    \tprivate By year=By.id(&quot;years&quot;);\r\n    \tprivate By newsLetter=By.id(&quot;newsletter&quot;);\r\n    \tprivate By optional=By.xpath(&quot;optin&quot;);\r\n    \tprivate By firstName=By.id(&quot;first_name&quot;);\r\n    \tprivate By lastName=By.id(&quot;last_name&quot;);\r\n    \tprivate By company=By.id(&quot;company&quot;);\r\n    \tprivate By address1=By.id(&quot;address1&quot;);\r\n    \tprivate By address2= By.id(&quot;address2&quot;);\r\n    \tprivate By country=By.id(&quot;country&quot;);\r\n    \tprivate By state=By.id(&quot;state&quot;);\r\n    \tprivate By city= By.id(&quot;city&quot;);\r\n    \tprivate By zipcode= By.id(&quot;zipcode&quot;);\r\n    \tprivate By mobileNumber=By.id(&quot;mobile_number&quot;);\r\n    \r\n    \t\r\n    \tpublic RegisterNewUserPom(WebDriver driver) {\r\n    \t\tthis.driver=driver;\r\n    \t}\r\n    \t\r\n    \tpublic void EnterNewName(String name) {\r\n    \t\tdriver.findElement(newName).sendKeys(name);\r\n    \t}\r\n    \tpublic void EnterNewEmail(String email) {\r\n    \t\tdriver.findElement(newEmail).sendKeys(email);\r\n    \t\t\r\n    \t}\r\n    \tpublic void ClickSignUpButton() {\r\n    \t\tActions actions=new Actions(driver);\r\n    \t\tactions.moveToElement(driver.findElement(signup)).click().build().perform();\r\n    \t}\r\n    \t\r\n    \tpublic void SelectTitle() {\r\n    \t\tdriver.findElement(title).click();\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic void EnterPassword(String passWord) {\r\n    \t\tdriver.findElement(password).sendKeys(passWord);\r\n    \t}\r\n    \tpublic void SelectDay() {\r\n    \t\tWebElement day=driver.findElement(days);\r\n    \t\tSelect select=new Select(day);\r\n    \t\tselect.selectByValue(&quot;2&quot;);\r\n    \t}\r\n    \tpublic void SelectMonth() {\r\n    \t\tWebElement months=driver.findElement(month);\r\n    \t\tSelect select=new Select(months);\r\n    \t\tselect.selectByVisibleText(&quot;June&quot;);\r\n    \t}\r\n    \tpublic void SelectYear() {\r\n    \t\tWebElement years=driver.findElement(year);\r\n    \t\tSelect select=new Select(years);\r\n    \t\tselect.selectByValue(&quot;1992&quot;);\r\n    \t}\r\n    \t\r\n    \tpublic void SelectCheckbox() {\r\n    \t\tdriver.findElement(newsLetter).click();\r\n    \t\tdriver.findElement(optional).click();\r\n    \t}\r\n    \t\r\n    \tpublic void EnterAddress(String add1, String add2) {\r\n    \t\tdriver.findElement(address1).sendKeys(add1);\r\n    \t\tdriver.findElement(address2).sendKeys(add2);\r\n    \t\t\r\n    \t}\r\n    \tpublic void SelectCountry() {\r\n    \t\tWebElement countries=driver.findElement(country);\r\n    \t\tSelect select=new Select(countries);\r\n    \t\tselect.selectByValue(&quot;India&quot;);\r\n    \t}\r\n    \tpublic void EnterFirstName(String fname) {\r\n    \t\tdriver.findElement(firstName).sendKeys(fname);\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic void EnterLastName(String lname) {\r\n    \t\tdriver.findElement(lastName).sendKeys(lname);\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic void EnterCompanyName(String cname) {\r\n    \t\tdriver.findElement(company).sendKeys(cname);\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic void EnterCity(String cityName) {\r\n    \t\tdriver.findElement(city).sendKeys(cityName);\r\n    \t}\r\n    \tpublic void EnterState(String stateName) {\r\n    \t\tdriver.findElement(state).sendKeys(stateName);\r\n    \t}\r\n    \t\r\n    \tpublic void EnterZipCode(int zip) {\r\n    \t\tString zipString= Integer.toString(zip);\r\n    \t\tdriver.findElement(zipcode).sendKeys(zipString);\r\n    \t}\r\n    \t\r\n    \tpublic void EnterMobileNumber(int mnumber) {\r\n    \t\tString mobile= Integer.toString(mnumber);\r\n    \t\tdriver.findElement(mobileNumber).sendKeys(mobile);\r\n    \t}\r\n    \tpublic void RegisterUser(String name, String email) {\r\n    \t\tEnterNewName(name);\r\n    \t\tEnterNewEmail(email);\r\n    \t\tClickSignUpButton();\t\t\r\n    \t}\r\n    \tpublic void EnterUserDetail(String pass, String fname, String lname,\r\n    \t\t\tString companyName, String address1, String address2,\r\n    \t\t\tString state, String city, int zipcode, int  mobile) {\r\n    \t\tSelectTitle();\r\n    \t\tEnterPassword(pass);\r\n    \t\tSelectDay();\r\n    \t\tSelectMonth();\r\n    \t\tSelectYear();\r\n    \t\tSelectCheckbox();\r\n    \t\tEnterFirstName(fname);\r\n    \t\tEnterLastName(lname);\r\n    \t\tEnterCompanyName(companyName);\r\n    \t\tEnterAddress(address1, address2);\r\n    \t\tSelectCountry();\r\n    \t\tEnterState(state);\r\n    \t\tEnterCity(city);\r\n    \t\tEnterZipCode(zipcode);\r\n    \t\tEnterMobileNumber(mobile);\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    }\r\nThis is Test class\r\n\r\n    public class RegisterTest {\r\n    \tWebDriver driver;\r\n    \tLoginPOM loginPom;\r\n    \tRegisterNewUserPom registernewuser;\r\n    \tRandom randomGenerator = new Random();  \r\n    \tint randomInt = randomGenerator.nextInt(1000);  \r\n    \t\r\n    \t@BeforeMethod\r\n    \tpublic void setup() {\r\n    \t\tdriver= new ChromeDriver();\r\n    \t\tdriver.get(&quot;http://automationexercise.com&quot;);\r\n    \t\tdriver.findElement(By.xpath(&quot;//div[@class=&#39;shop-menu pull-right&#39;]/ul/li[4]/a&quot;)).click();\r\n    \t\tregisternewuser= new RegisterNewUserPom(driver);\t\t\r\n    \t}\r\n    \t@Test\r\n    \tpublic void RegisterNewUser() {\r\n    \t\tString randomEmail=&quot;username&quot;+ randomInt +&quot;@testpractice.com&quot;;\r\n    \t\tregisternewuser.RegisterUser(&quot;Rohit&quot;, randomEmail);\r\n    \t}\r\n    \t\r\n    \t@AfterTest\r\n    \tpublic void EnterDetailsInForm() {\r\n    \t\tString password=&quot;Test@123&quot;;\r\n    \t\tString fname=&quot;Rohit&quot;;\r\n    \t\tString lname= &quot;Tester&quot;;\r\n    \t\tString company=&quot;test company&quot;;\r\n    \t\tString add1=&quot;hello&quot;;\r\n    \t\tString add2=&quot;hello2222&quot;;\r\n    \t\tString state=&quot;myState&quot;;\r\n    \t\tString city=&quot;dream city&quot;;\r\n    \t\tint zipcode=1234;\r\n    \t\tint mnumber=1234567890;\r\n    \t\tregisternewuser.EnterUserDetail(password, fname, lname, company, add1, add2, state, city, zipcode, mnumber);\r\n    \t}\r\n    }\r\n\r\nThis is HTML code for checkboxes\r\n\r\n    &lt;div class=&quot;checker&quot; id=&quot;uniform-newsletter&quot;&gt;&lt;span class=&quot;&quot;&gt;&lt;input type=&quot;checkbox&quot; name=&quot;newsletter&quot; id=&quot;newsletter&quot; value=&quot;1&quot;&gt;&lt;/span&gt;&lt;/div&gt;\r\n\r\n    &lt;label for=&quot;newsletter&quot;&gt;Sign up for our newsletter!&lt;/label&gt;\r\n\r\n&lt;/div&gt;\r\n\r\n&lt;div class=&quot;checkbox&quot;&gt;\r\n\r\n    &lt;div class=&quot;checker&quot; id=&quot;uniform-optin&quot;&gt;&lt;span&gt;&lt;input type=&quot;checkbox&quot; name=&quot;optin&quot; id=&quot;optin&quot; value=&quot;1&quot;&gt;&lt;/span&gt;&lt;/div&gt;\r\n\r\n    &lt;label for=&quot;optin&quot;&gt;Receive special offers from our partners!&lt;/label&gt;\r\n\r\n&lt;/div&gt;\r\n\r\nThis is the code which I&#39;m trying to run but everytime I run this code then on the register page the checkbox are not clickable and I get error for element click intercepted. I tried with all the possible method like js executor, actions, webdriver wait but nothing works. Please let me know how to click the checkbox\r\n\r\nI have tried with webdriver wait on the checkbox till element to be clickable, tried with jsexecutor as well and actions as well but nothing worked. And I don&#39;t know why it is not clickable even though id id is given.\r\n\r\nError message when tried all the possible ways:\r\n\r\n    org.openqa.selenium.ElementClickInterceptedException: element click intercepted: Element &lt;label for=&quot;newsletter&quot;&gt;...&lt;/label&gt; is not clickable at point (222, 658). Other element would receive the click: &lt;iframe id=&quot;aswift_6&quot; name=&quot;aswift_6&quot; style=&quot;width: 1005px !important; height: 124px !important; display: block; margin: 0px auto;&quot; sandbox=&quot;allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation&quot; width=&quot;1005&quot; height=&quot;124&quot; frameborder=&quot;0&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; vspace=&quot;0&quot; hspace=&quot;0&quot; allowtransparency=&quot;true&quot; scrolling=&quot;no&quot; src=&quot;https://googleads.g.doubleclick.net/pagead/html/r20230420/r20110914/zrt_lookup.html?fsb=1#RS-1-&amp;amp;adk=1812271801&amp;amp;client=ca-pub-1677597403311019&amp;amp;fa=1&amp;amp;ifi=7&amp;amp;uci=a!7&amp;amp;btvi=4&amp;amp;xpc=5L11JsaZOU&amp;amp;p=https%3A//automationexercise.com&quot; data-google-container-id=&quot;a!7&quot; data-google-query-id=&quot;CPiC_bC8xP4CFVVkYAodURkGgw&quot; data-load-complete=&quot;true&quot;&gt;&lt;/iframe&gt;\r\n","title":"Checkbox is not selected in selenium java. Tried everything but nothing worked","body":"<p>I'm trying to fill in registration page for this the user will first be on the sign up page where they have to enter name and email address and then click on Signup button. This will navigate to the registration page where user will have to enter all the details. On registration page the checkboxes are not clickable.\nKindly help me with this.\nThis is POM class</p>\n<pre><code>public class RegisterNewUserPom {\n    \n    private WebDriver driver;\n    private By newName= By.name(&quot;name&quot;);\n    private By newEmail= By.xpath(&quot;//form[@action='/signup']/input[3]&quot;);\n    private By signup=By.xpath(&quot;//form[@action='/signup']/button&quot;);\n    private By title=By.id(&quot;id_gender1&quot;);\n    private By password=By.id(&quot;password&quot;);\n    private By days=By.id(&quot;days&quot;);\n    private By month=By.id(&quot;months&quot;);\n    private By year=By.id(&quot;years&quot;);\n    private By newsLetter=By.id(&quot;newsletter&quot;);\n    private By optional=By.xpath(&quot;optin&quot;);\n    private By firstName=By.id(&quot;first_name&quot;);\n    private By lastName=By.id(&quot;last_name&quot;);\n    private By company=By.id(&quot;company&quot;);\n    private By address1=By.id(&quot;address1&quot;);\n    private By address2= By.id(&quot;address2&quot;);\n    private By country=By.id(&quot;country&quot;);\n    private By state=By.id(&quot;state&quot;);\n    private By city= By.id(&quot;city&quot;);\n    private By zipcode= By.id(&quot;zipcode&quot;);\n    private By mobileNumber=By.id(&quot;mobile_number&quot;);\n\n    \n    public RegisterNewUserPom(WebDriver driver) {\n        this.driver=driver;\n    }\n    \n    public void EnterNewName(String name) {\n        driver.findElement(newName).sendKeys(name);\n    }\n    public void EnterNewEmail(String email) {\n        driver.findElement(newEmail).sendKeys(email);\n        \n    }\n    public void ClickSignUpButton() {\n        Actions actions=new Actions(driver);\n        actions.moveToElement(driver.findElement(signup)).click().build().perform();\n    }\n    \n    public void SelectTitle() {\n        driver.findElement(title).click();\n        \n    }\n    \n    public void EnterPassword(String passWord) {\n        driver.findElement(password).sendKeys(passWord);\n    }\n    public void SelectDay() {\n        WebElement day=driver.findElement(days);\n        Select select=new Select(day);\n        select.selectByValue(&quot;2&quot;);\n    }\n    public void SelectMonth() {\n        WebElement months=driver.findElement(month);\n        Select select=new Select(months);\n        select.selectByVisibleText(&quot;June&quot;);\n    }\n    public void SelectYear() {\n        WebElement years=driver.findElement(year);\n        Select select=new Select(years);\n        select.selectByValue(&quot;1992&quot;);\n    }\n    \n    public void SelectCheckbox() {\n        driver.findElement(newsLetter).click();\n        driver.findElement(optional).click();\n    }\n    \n    public void EnterAddress(String add1, String add2) {\n        driver.findElement(address1).sendKeys(add1);\n        driver.findElement(address2).sendKeys(add2);\n        \n    }\n    public void SelectCountry() {\n        WebElement countries=driver.findElement(country);\n        Select select=new Select(countries);\n        select.selectByValue(&quot;India&quot;);\n    }\n    public void EnterFirstName(String fname) {\n        driver.findElement(firstName).sendKeys(fname);\n        \n    }\n    \n    public void EnterLastName(String lname) {\n        driver.findElement(lastName).sendKeys(lname);\n        \n    }\n    \n    public void EnterCompanyName(String cname) {\n        driver.findElement(company).sendKeys(cname);\n        \n    }\n    \n    public void EnterCity(String cityName) {\n        driver.findElement(city).sendKeys(cityName);\n    }\n    public void EnterState(String stateName) {\n        driver.findElement(state).sendKeys(stateName);\n    }\n    \n    public void EnterZipCode(int zip) {\n        String zipString= Integer.toString(zip);\n        driver.findElement(zipcode).sendKeys(zipString);\n    }\n    \n    public void EnterMobileNumber(int mnumber) {\n        String mobile= Integer.toString(mnumber);\n        driver.findElement(mobileNumber).sendKeys(mobile);\n    }\n    public void RegisterUser(String name, String email) {\n        EnterNewName(name);\n        EnterNewEmail(email);\n        ClickSignUpButton();        \n    }\n    public void EnterUserDetail(String pass, String fname, String lname,\n            String companyName, String address1, String address2,\n            String state, String city, int zipcode, int  mobile) {\n        SelectTitle();\n        EnterPassword(pass);\n        SelectDay();\n        SelectMonth();\n        SelectYear();\n        SelectCheckbox();\n        EnterFirstName(fname);\n        EnterLastName(lname);\n        EnterCompanyName(companyName);\n        EnterAddress(address1, address2);\n        SelectCountry();\n        EnterState(state);\n        EnterCity(city);\n        EnterZipCode(zipcode);\n        EnterMobileNumber(mobile);\n        \n        \n        \n    }\n}\n</code></pre>\n<p>This is Test class</p>\n<pre><code>public class RegisterTest {\n    WebDriver driver;\n    LoginPOM loginPom;\n    RegisterNewUserPom registernewuser;\n    Random randomGenerator = new Random();  \n    int randomInt = randomGenerator.nextInt(1000);  \n    \n    @BeforeMethod\n    public void setup() {\n        driver= new ChromeDriver();\n        driver.get(&quot;http://automationexercise.com&quot;);\n        driver.findElement(By.xpath(&quot;//div[@class='shop-menu pull-right']/ul/li[4]/a&quot;)).click();\n        registernewuser= new RegisterNewUserPom(driver);        \n    }\n    @Test\n    public void RegisterNewUser() {\n        String randomEmail=&quot;username&quot;+ randomInt +&quot;@testpractice.com&quot;;\n        registernewuser.RegisterUser(&quot;Rohit&quot;, randomEmail);\n    }\n    \n    @AfterTest\n    public void EnterDetailsInForm() {\n        String password=&quot;Test@123&quot;;\n        String fname=&quot;Rohit&quot;;\n        String lname= &quot;Tester&quot;;\n        String company=&quot;test company&quot;;\n        String add1=&quot;hello&quot;;\n        String add2=&quot;hello2222&quot;;\n        String state=&quot;myState&quot;;\n        String city=&quot;dream city&quot;;\n        int zipcode=1234;\n        int mnumber=1234567890;\n        registernewuser.EnterUserDetail(password, fname, lname, company, add1, add2, state, city, zipcode, mnumber);\n    }\n}\n</code></pre>\n<p>This is HTML code for checkboxes</p>\n<pre><code>&lt;div class=&quot;checker&quot; id=&quot;uniform-newsletter&quot;&gt;&lt;span class=&quot;&quot;&gt;&lt;input type=&quot;checkbox&quot; name=&quot;newsletter&quot; id=&quot;newsletter&quot; value=&quot;1&quot;&gt;&lt;/span&gt;&lt;/div&gt;\n\n&lt;label for=&quot;newsletter&quot;&gt;Sign up for our newsletter!&lt;/label&gt;\n</code></pre>\n\n\n<pre><code>&lt;div class=&quot;checker&quot; id=&quot;uniform-optin&quot;&gt;&lt;span&gt;&lt;input type=&quot;checkbox&quot; name=&quot;optin&quot; id=&quot;optin&quot; value=&quot;1&quot;&gt;&lt;/span&gt;&lt;/div&gt;\n\n&lt;label for=&quot;optin&quot;&gt;Receive special offers from our partners!&lt;/label&gt;\n</code></pre>\n\n<p>This is the code which I'm trying to run but everytime I run this code then on the register page the checkbox are not clickable and I get error for element click intercepted. I tried with all the possible method like js executor, actions, webdriver wait but nothing works. Please let me know how to click the checkbox</p>\n<p>I have tried with webdriver wait on the checkbox till element to be clickable, tried with jsexecutor as well and actions as well but nothing worked. And I don't know why it is not clickable even though id id is given.</p>\n<p>Error message when tried all the possible ways:</p>\n<pre><code>org.openqa.selenium.ElementClickInterceptedException: element click intercepted: Element &lt;label for=&quot;newsletter&quot;&gt;...&lt;/label&gt; is not clickable at point (222, 658). Other element would receive the click: &lt;iframe id=&quot;aswift_6&quot; name=&quot;aswift_6&quot; style=&quot;width: 1005px !important; height: 124px !important; display: block; margin: 0px auto;&quot; sandbox=&quot;allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation&quot; width=&quot;1005&quot; height=&quot;124&quot; frameborder=&quot;0&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; vspace=&quot;0&quot; hspace=&quot;0&quot; allowtransparency=&quot;true&quot; scrolling=&quot;no&quot; src=&quot;https://googleads.g.doubleclick.net/pagead/html/r20230420/r20110914/zrt_lookup.html?fsb=1#RS-1-&amp;amp;adk=1812271801&amp;amp;client=ca-pub-1677597403311019&amp;amp;fa=1&amp;amp;ifi=7&amp;amp;uci=a!7&amp;amp;btvi=4&amp;amp;xpc=5L11JsaZOU&amp;amp;p=https%3A//automationexercise.com&quot; data-google-container-id=&quot;a!7&quot; data-google-query-id=&quot;CPiC_bC8xP4CFVVkYAodURkGgw&quot; data-load-complete=&quot;true&quot;&gt;&lt;/iframe&gt;\n</code></pre>\n"},{"tags":["java","spring-webflux","reactive-programming","project-reactor","reactive"],"owner":{"account_id":9160569,"reputation":61,"user_id":6812019,"display_name":"Jayesslee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682407646,"creation_date":1682393984,"question_id":76097505,"body_markdown":"The 2 overloads of this methods:\r\n[![enter image description here][1]][1]\r\n\r\n    public final &lt;U&gt; Flux&lt;T&gt; sampleTimeout(Function&lt;? super T,? extends Publisher&lt;U&gt;&gt; throttlerFactory)\r\n\r\nand\r\n\r\n    public final &lt;U&gt; Flux&lt;T&gt; sampleTimeout(Function&lt;? super T,? extends Publisher&lt;U&gt;&gt; throttlerFactory,\r\n                                           int maxConcurrency)\r\n\r\n[https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html][3]\r\n\r\nAny one can help me to understand these 2 methods? I have understood sample with Duration, but I don&#39;t quite understand sampleTimeout().\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/V8V4R.png\r\n  [2]: https://i.stack.imgur.com/XgYWm.png\r\n  [3]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html","title":"What is the difference between Flux.sample(with Duration) and Flux.sampleTimeout()?","body":"<p>The 2 overloads of this methods:\n<a href=\"https://i.stack.imgur.com/V8V4R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V8V4R.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>public final &lt;U&gt; Flux&lt;T&gt; sampleTimeout(Function&lt;? super T,? extends Publisher&lt;U&gt;&gt; throttlerFactory)\n</code></pre>\n<p>and</p>\n<pre><code>public final &lt;U&gt; Flux&lt;T&gt; sampleTimeout(Function&lt;? super T,? extends Publisher&lt;U&gt;&gt; throttlerFactory,\n                                       int maxConcurrency)\n</code></pre>\n<p><a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html\" rel=\"nofollow noreferrer\">https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html</a></p>\n<p>Any one can help me to understand these 2 methods? I have understood sample with Duration, but I don't quite understand sampleTimeout().</p>\n"},{"tags":["java","android-webview"],"answers":[{"tags":[],"owner":{"account_id":26036898,"reputation":11,"user_id":19742242,"display_name":"Jeyson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681740895,"creation_date":1681740895,"answer_id":76036116,"question_id":76035813,"body_markdown":"Are you sure you enabled JavaScript?\r\n\r\n    getSettings().setJavaScriptEnabled(true);\r\n\r\nAlso try visiting &lt;a href=&quot;https://www.digitalocean.com/community/tutorials/android-webview-example-tutorial&quot;&gt;this site&lt;/a&gt;. They have some useful information on Android WebView.\r\n","title":"How to get a javascript function&#39;s return value from android webview to application - Java","body":"<p>Are you sure you enabled JavaScript?</p>\n<pre><code>getSettings().setJavaScriptEnabled(true);\n</code></pre>\n<p>Also try visiting <a href=\"https://www.digitalocean.com/community/tutorials/android-webview-example-tutorial\" rel=\"nofollow noreferrer\">this site</a>. They have some useful information on Android WebView.</p>\n"},{"comments":[{"owner":{"account_id":26845241,"reputation":512,"user_id":21598034,"display_name":"ADasGH"},"score":0,"creation_date":1682077459,"post_id":76048239,"comment_id":134162801,"body_markdown":"Sorry for the late response; I was offline for last two days. Actually I have an input field where the user can enter the name of a file generated as base64(data:)(which was actually a blob but I converted it). I am afraid that this method will only return the value which was there when the page loaded. On firefox and chrome the downloaded file have the name user entered (I used a.download=document.getElementById.value for that) but on webview while downloading(by setting Download listener) the file I had to process the URL to a working URI. I will update my question with these info.","body":"Sorry for the late response; I was offline for last two days. Actually I have an input field where the user can enter the name of a file generated as base64(data:)(which was actually a blob but I converted it). I am afraid that this method will only return the value which was there when the page loaded. On firefox and chrome the downloaded file have the name user entered (I used a.download=document.getElementById.value for that) but on webview while downloading(by setting Download listener) the file I had to process the URL to a working URI. I will update my question with these info."}],"tags":[],"owner":{"account_id":3801000,"reputation":624,"user_id":3154666,"accept_rate":75,"display_name":"Introspective"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681878483,"creation_date":1681844812,"answer_id":76048239,"question_id":76035813,"body_markdown":"The prototype of WebView&#39;s [loadUrl()][1] is:\r\n\r\n```\r\npublic void loadUrl(String url)\r\n```\r\n\r\nAs such, `loadUrl()` will never return anything, certainly not the filename as you expect.\r\n\r\nInstead, you can use the `evaluateJavascript()` method of the WebView:\r\n\r\n - Create a JavaScript interface in your Java application by extending the WebViewClient class and overriding its `onPageFinished()` method. In there, inject JavaScript into the WebView and get its return value:\r\n\r\n```\r\nwebView.setWebViewClient(new WebViewClient() {\r\n    @Override\r\n    public void onPageFinished(WebView view, String url) {\r\n        webView.evaluateJavascript(&quot;yourJavaScriptFunction()&quot;, new ValueCallback&lt;String&gt;() {\r\n            @Override\r\n            public void onReceiveValue(String value) {\r\n                // value is the return value of your JavaScript function\r\n            }\r\n        });\r\n    }\r\n});\r\n```\r\n\r\n - In your JavaScript function, make sure to return a value:\r\n```\r\nfunction yourJavaScriptFunction() {\r\n    return &quot;hello world&quot;;\r\n}\r\n```\r\n - Once the WebView has finished loading the page, the `onReceiveValue()` method of the `ValueCallback` interface will be called, and you can get the return value of your JavaScript function from the value parameter.\r\n\r\n**Note**: `evaluateJavascript()` is only available on Android 4.4 (API level 19) and above. If you&#39;re targeting an earlier version of Android, you&#39;ll need to use the `loadUrl()` method to execute your JavaScript and get its return value.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/webkit/WebView#loadUrl(java.lang.String)","title":"How to get a javascript function&#39;s return value from android webview to application - Java","body":"<p>The prototype of WebView's <a href=\"https://developer.android.com/reference/android/webkit/WebView#loadUrl(java.lang.String)\" rel=\"nofollow noreferrer\">loadUrl()</a> is:</p>\n<pre><code>public void loadUrl(String url)\n</code></pre>\n<p>As such, <code>loadUrl()</code> will never return anything, certainly not the filename as you expect.</p>\n<p>Instead, you can use the <code>evaluateJavascript()</code> method of the WebView:</p>\n<ul>\n<li>Create a JavaScript interface in your Java application by extending the WebViewClient class and overriding its <code>onPageFinished()</code> method. In there, inject JavaScript into the WebView and get its return value:</li>\n</ul>\n<pre><code>webView.setWebViewClient(new WebViewClient() {\n    @Override\n    public void onPageFinished(WebView view, String url) {\n        webView.evaluateJavascript(&quot;yourJavaScriptFunction()&quot;, new ValueCallback&lt;String&gt;() {\n            @Override\n            public void onReceiveValue(String value) {\n                // value is the return value of your JavaScript function\n            }\n        });\n    }\n});\n</code></pre>\n<ul>\n<li>In your JavaScript function, make sure to return a value:</li>\n</ul>\n<pre><code>function yourJavaScriptFunction() {\n    return &quot;hello world&quot;;\n}\n</code></pre>\n<ul>\n<li>Once the WebView has finished loading the page, the <code>onReceiveValue()</code> method of the <code>ValueCallback</code> interface will be called, and you can get the return value of your JavaScript function from the value parameter.</li>\n</ul>\n<p><strong>Note</strong>: <code>evaluateJavascript()</code> is only available on Android 4.4 (API level 19) and above. If you're targeting an earlier version of Android, you'll need to use the <code>loadUrl()</code> method to execute your JavaScript and get its return value.</p>\n"},{"tags":[],"owner":{"account_id":26845241,"reputation":512,"user_id":21598034,"display_name":"ADasGH"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682407590,"creation_date":1682366391,"answer_id":76095649,"question_id":76035813,"body_markdown":"So this is what worked for me after experimenting with the answer by @Introspective; I am posting here because any future visitors may find it helpful.\r\nInstead of `onPageFinished()`, I put `evaluateJavascript()` inside download listener. A JsonReader was required as the result is a JSON value.\r\n```\r\nMyWebView.setDownloadListener((url, userAgent, contentDisposition, mimeType, contentLength) -&gt; {\r\n    if (url.startsWith(&quot;data:&quot;)) {\r\n       MyWebView.evaluateJavascript(&quot;returnfileName()&quot;, string -&gt; {\r\n           JsonReader jsonReader = new JsonReader(new StringReader(string));\r\n           jsonReader.setLenient(true);//this is needed because I am returning  a single value\r\n    if(jsonReader.peek() != JsonToken.NULL) {\r\n           String fileName = jsonReader.nextString();\r\n           //Now I can use the String fileName as I wish.\r\n           //Rest of the code\r\n   }\r\n}\r\n```\r\nJavascript function returnFileName()\r\n```\r\nfunction returnfileName(){\r\n  var fileName;\r\n  if (document.getElementById(&quot;id of input field&quot;).value===&quot;&quot;){ \r\n  fileName = &quot;Default file name in case user didn&#39;t enter any filename&quot;;\r\n  }\r\n  else{\r\n  fileName = document.getElementById(&quot;id of input field&quot;).value;}\r\n  }\r\n  return fileName;\r\n}\r\n```\r\nSince `evaluateJavascript()` is a void, I had to put rest of the code to download the file inside the `evaluateJavascript()` itself, because otherwise String fileName will not be accessible for them (void doesn&#39;t have a return value).","title":"How to get a javascript function&#39;s return value from android webview to application - Java","body":"<p>So this is what worked for me after experimenting with the answer by @Introspective; I am posting here because any future visitors may find it helpful.\nInstead of <code>onPageFinished()</code>, I put <code>evaluateJavascript()</code> inside download listener. A JsonReader was required as the result is a JSON value.</p>\n<pre><code>MyWebView.setDownloadListener((url, userAgent, contentDisposition, mimeType, contentLength) -&gt; {\n    if (url.startsWith(&quot;data:&quot;)) {\n       MyWebView.evaluateJavascript(&quot;returnfileName()&quot;, string -&gt; {\n           JsonReader jsonReader = new JsonReader(new StringReader(string));\n           jsonReader.setLenient(true);//this is needed because I am returning  a single value\n    if(jsonReader.peek() != JsonToken.NULL) {\n           String fileName = jsonReader.nextString();\n           //Now I can use the String fileName as I wish.\n           //Rest of the code\n   }\n}\n</code></pre>\n<p>Javascript function returnFileName()</p>\n<pre><code>function returnfileName(){\n  var fileName;\n  if (document.getElementById(&quot;id of input field&quot;).value===&quot;&quot;){ \n  fileName = &quot;Default file name in case user didn't enter any filename&quot;;\n  }\n  else{\n  fileName = document.getElementById(&quot;id of input field&quot;).value;}\n  }\n  return fileName;\n}\n</code></pre>\n<p>Since <code>evaluateJavascript()</code> is a void, I had to put rest of the code to download the file inside the <code>evaluateJavascript()</code> itself, because otherwise String fileName will not be accessible for them (void doesn't have a return value).</p>\n"}],"owner":{"account_id":26845241,"reputation":512,"user_id":21598034,"display_name":"ADasGH"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":525,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76095649,"answer_count":3,"score":1,"last_activity_date":1682407590,"creation_date":1681738955,"question_id":76035813,"body_markdown":"I want to get the return value of a javascript function inside Android webview to be made accessible to the android application and get it converted to a string.\r\n\r\nSo I put this code:\r\n\r\n```\r\nString fileName = MyWebView.loadUrl(&quot;javascript:android.onData(returnFileName())&quot;);\r\n```\r\n\r\nBut then it shows this error: Incompatible types. Found: &#39;void&#39;, required: &#39;java.lang.String&#39;.\r\n\r\nHow to fix this?\r\n\r\nEdit:\r\nActually I have an input field where the user can enter the name of a file generated as base64(data:)(which was actually a blob but I converted it). On Firefox and Chrome the downloaded file have the name user entered (I used a.download=document.getElementById.value for that) but on webview while downloading(by setting Download listener) the file I had to process the (data:) to a working URI. Now I would like to add the name entered by User to the downloaded file. For that I need to get the value of input field inside webview to Android application.\r\n\r\nThanks in advance.","title":"How to get a javascript function&#39;s return value from android webview to application - Java","body":"<p>I want to get the return value of a javascript function inside Android webview to be made accessible to the android application and get it converted to a string.</p>\n<p>So I put this code:</p>\n<pre><code>String fileName = MyWebView.loadUrl(&quot;javascript:android.onData(returnFileName())&quot;);\n</code></pre>\n<p>But then it shows this error: Incompatible types. Found: 'void', required: 'java.lang.String'.</p>\n<p>How to fix this?</p>\n<p>Edit:\nActually I have an input field where the user can enter the name of a file generated as base64(data:)(which was actually a blob but I converted it). On Firefox and Chrome the downloaded file have the name user entered (I used a.download=document.getElementById.value for that) but on webview while downloading(by setting Download listener) the file I had to process the (data:) to a working URI. Now I would like to add the name entered by User to the downloaded file. For that I need to get the value of input field inside webview to Android application.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":0,"creation_date":1682294664,"post_id":76087734,"comment_id":134188063,"body_markdown":"See if [this question](https://stackoverflow.com/questions/6147884/onactivityresult-is-not-being-called-in-fragment) helps. Also you should use the [results api](https://developer.android.com/training/basics/intents/result) instead.","body":"See if <a href=\"https://stackoverflow.com/questions/6147884/onactivityresult-is-not-being-called-in-fragment\">this question</a> helps. Also you should use the <a href=\"https://developer.android.com/training/basics/intents/result\" rel=\"nofollow noreferrer\">results api</a> instead."},{"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"score":0,"creation_date":1682295186,"post_id":76087734,"comment_id":134188101,"body_markdown":"The answer to the post dominicoder suggested is outdated. startActivityForResult is deprecated. Instead you should be registerforactivityresult. https://stackoverflow.com/questions/6147884/onactivityresult-is-not-being-called-in-fragment","body":"The answer to the post dominicoder suggested is outdated. startActivityForResult is deprecated. Instead you should be registerforactivityresult. <a href=\"https://stackoverflow.com/questions/6147884/onactivityresult-is-not-being-called-in-fragment\" title=\"onactivityresult is not being called in fragment\">stackoverflow.com/questions/6147884/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5849714,"reputation":92,"user_id":5362509,"display_name":"Lakshmi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682407288,"creation_date":1682407288,"answer_id":76098545,"question_id":76087734,"body_markdown":"This will work. Make changes according to this.\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    ActivityResultLauncher&lt;Intent&gt; launcher;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        Button btn = findViewById(R.id.button);\r\n        btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\r\n                intent.setType(&quot;*/*&quot;);\r\n                launcher.launch(intent);\r\n            }\r\n        });\r\n\r\n        launcher = registerForActivityResult(\r\n                        new ActivityResultContracts.StartActivityForResult(),\r\n                        new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n                            @Override\r\n                            public void onActivityResult(ActivityResult result) {\r\n                                if(result.getResultCode() == Activity.RESULT_OK) {\r\n                                        Intent data = result.getData();\r\n                                        Uri uri = data.getData();\r\n                                        String path = uri.getPath();\r\n                                        Log.d(&quot;file&quot;, path);\r\n                                }\r\n                            }\r\n                        }\r\n        );\r\n   }\r\n}\r\n\r\nBasically, I have used ActivityResultLauncher and registerForActivityResult() instead if the deprecated startActivityForResult(). And it works fine and I get the path of the file that I choose from the device.","title":"onActivityResult does not return file path in a fragment class","body":"<p>This will work. Make changes according to this.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\nActivityResultLauncher&lt;Intent&gt; launcher;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    Button btn = findViewById(R.id.button);\n    btn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\n            intent.setType(&quot;*/*&quot;);\n            launcher.launch(intent);\n        }\n    });\n\n    launcher = registerForActivityResult(\n                    new ActivityResultContracts.StartActivityForResult(),\n                    new ActivityResultCallback&lt;ActivityResult&gt;() {\n                        @Override\n                        public void onActivityResult(ActivityResult result) {\n                            if(result.getResultCode() == Activity.RESULT_OK) {\n                                    Intent data = result.getData();\n                                    Uri uri = data.getData();\n                                    String path = uri.getPath();\n                                    Log.d(&quot;file&quot;, path);\n                            }\n                        }\n                    }\n    );\n</code></pre>\n<p>}\n}</p>\n<p>Basically, I have used ActivityResultLauncher and registerForActivityResult() instead if the deprecated startActivityForResult(). And it works fine and I get the path of the file that I choose from the device.</p>\n"}],"owner":{"account_id":25797107,"reputation":11,"user_id":19540102,"display_name":"user19540102"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1682407288,"creation_date":1682292284,"question_id":76087734,"body_markdown":"I am trying to get a file that I selected from my android device, I start the intent where I can select my files when a specific button is clicked in my popup window (the pasirinktiFaila button), then I try to look what was selected through Log.d(), but it shows me no results. \r\n\r\nHere is my fragment class called KorepetitoriuiPatvirtintiMokiniai, it has the onActivityResult method.\r\n\r\n    public class KorepetitoriuiPatvirtintiMokiniai extends Fragment {\r\n    \r\n        private RecyclerView recyclerView;\r\n        private ArrayList&lt;KorepetitoriuiPatvirtintasMokinysKortele&gt; arrayList;\r\n        private KorepetitoriuiPatvirtintiMokiniaiCardAdapter adapter;\r\n        private TextView emptyRecycler;\r\n    \r\n        public KorepetitoriuiPatvirtintiMokiniai() {\r\n            // Required empty public constructor\r\n        }\r\n    \r\n        public static KorepetitoriuiPatvirtintiMokiniai newInstance() {\r\n            KorepetitoriuiPatvirtintiMokiniai fragment = new KorepetitoriuiPatvirtintiMokiniai();\r\n            Bundle args = new Bundle();\r\n            fragment.setArguments(args);\r\n            return fragment;\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n        }\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            View view = inflater.inflate(R.layout.fragment_korepetitoriui_patvirtinti_mokiniai, container, false);\r\n    \r\n            recyclerView = view.findViewById(R.id.recyclerKorepetitoriuiPatvirtintiMokiniai);\r\n            recyclerView.setHasFixedSize(true);\r\n            recyclerView.setLayoutManager(new LinearLayoutManager(this.getContext()));\r\n            emptyRecycler = view.findViewById(R.id.neraMokiniuKorepetitoriui);\r\n    \r\n            arrayList = new ArrayList&lt;KorepetitoriuiPatvirtintasMokinysKortele&gt;();\r\n    \r\n            GautiPatvirtintusMokiniusTask task = new GautiPatvirtintusMokiniusTask(prisijungti.currentKorepetitorius.getId());\r\n            task.execute();\r\n    \r\n            return view;\r\n        }\r\n    \r\n        @Override\r\n        public void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n            if(requestCode == 1 &amp;&amp; resultCode == Activity.RESULT_OK) {\r\n                Uri uri = data.getData();\r\n                String path = uri.getPath();\r\n                Log.d(&quot;file&quot;, path);\r\n            }\r\n        }\r\n    \r\n        public class GautiPatvirtintusMokiniusTask extends AsyncTask&lt;Void, Void, Void&gt; {\r\n            private int korepetitoriausId;\r\n    \r\n            public GautiPatvirtintusMokiniusTask(int korepetitoriausId) {\r\n                this.korepetitoriausId = korepetitoriausId;\r\n            }\r\n    \r\n            @Override\r\n            protected Void doInBackground(Void... voids) {\r\n                try {\r\n                    URL url = new URL(&quot;http://192.168.0.104/PHPscriptai/gautiKorepetitoriuiPatvirtintusMokinius.php?korepetitoriaus_id=&quot; + korepetitoriausId);\r\n                    HttpURLConnection conn = (HttpURLConnection) url.openConnection();\r\n                    conn.setRequestMethod(&quot;GET&quot;);\r\n                    conn.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n    \r\n                    BufferedReader br = new BufferedReader(new InputStreamReader((conn.getInputStream())));\r\n                    StringBuilder sb = new StringBuilder();\r\n                    String output;\r\n                    while ((output = br.readLine()) != null) {\r\n                        sb.append(output);\r\n                    }\r\n                    conn.disconnect();\r\n    \r\n                    String jsonString = sb.toString();\r\n                    JSONArray jsonArray = new JSONArray(jsonString);\r\n                    for (int i = 0; i &lt; jsonArray.length(); i++) {\r\n                        JSONObject obj = jsonArray.getJSONObject(i);\r\n                        String vardasMokinio = obj.getString(&quot;pilnas_mokinio_vardas&quot;);\r\n                        int mokinioId = obj.getInt(&quot;mokinio_id&quot;);\r\n    \r\n                        arrayList.add(new KorepetitoriuiPatvirtintasMokinysKortele(vardasMokinio, mokinioId));\r\n                    }\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n                return null;\r\n            }\r\n    \r\n            @Override\r\n            protected void onPostExecute(Void result) {\r\n                if (arrayList.isEmpty()) {\r\n                    emptyRecycler.setVisibility(View.VISIBLE);\r\n                    recyclerView.setVisibility(View.GONE);\r\n                } else {\r\n                    emptyRecycler.setVisibility(View.GONE);\r\n                    recyclerView.setVisibility(View.VISIBLE);\r\n                    adapter = new KorepetitoriuiPatvirtintiMokiniaiCardAdapter(arrayList, getContext());\r\n                    recyclerView.setAdapter(adapter);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nMy adapter class:\r\n\r\n    public class KorepetitoriuiPatvirtintiMokiniaiCardAdapter extends RecyclerView.Adapter&lt;KorepetitoriuiPatvirtintiMokiniaiCardHolder&gt; {\r\n    \r\n        private ArrayList&lt;KorepetitoriuiPatvirtintasMokinysKortele&gt; list;\r\n        private Context context;\r\n        private Dialog popup;\r\n    \r\n        public KorepetitoriuiPatvirtintiMokiniaiCardAdapter(ArrayList&lt;KorepetitoriuiPatvirtintasMokinysKortele&gt; list, Context context) {\r\n            this.list = list;\r\n            this.context = context;\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public KorepetitoriuiPatvirtintiMokiniaiCardHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.korepetitoriaus_mokinys_item, parent, false);\r\n    \r\n            return new KorepetitoriuiPatvirtintiMokiniaiCardHolder(view);\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(@NonNull KorepetitoriuiPatvirtintiMokiniaiCardHolder holder, int position) {\r\n            KorepetitoriuiPatvirtintasMokinysKortele sarasas = list.get(position);\r\n            popup = new Dialog(context);\r\n    \r\n            KorepetitoriuiPatvirtintiMokiniaiCardHolder.mokinioVardas.setText(sarasas.getVardasMokinio());\r\n    \r\n            KorepetitoriuiPatvirtintiMokiniaiCardHolder.parasyti.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    Intent intent = new Intent(context, susirasyti.class);\r\n                    intent.putExtra(&quot;dabartinis_id&quot;, prisijungti.currentKorepetitorius.getId());\r\n                    intent.putExtra(&quot;gavejas_id&quot;, sarasas.getMokinioId());\r\n                    context.startActivity(intent);\r\n                }\r\n            });\r\n    \r\n            KorepetitoriuiPatvirtintiMokiniaiCardHolder.pridetiMedziaga.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    View popupView = LayoutInflater.from(context).inflate(R.layout.popup_pasirinkti_faila, null);\r\n    \r\n                    Button pasirinktiFaila = popupView.findViewById(R.id.pasirinktiFailaButton);\r\n                    Button uzdaryti = popupView.findViewById(R.id.uzdarytiIkeltiLanga);\r\n                    EditText pavadinimas = popupView.findViewById(R.id.pavadinimasPopup);\r\n                    Button ikeltiFaila = popupView.findViewById(R.id.ikeltiFaila);\r\n    \r\n                    pasirinktiFaila.setOnClickListener(new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View view) {\r\n                            Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\r\n                            intent.setType(&quot;*/*&quot;);\r\n                            ((Activity) context).startActivityForResult(intent, 1);\r\n                        }\r\n                    });\r\n    \r\n                    ikeltiFaila.setOnClickListener(new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View view) {\r\n                            // TODO\r\n                            // upload the file\r\n                        }\r\n                    });\r\n    \r\n                    uzdaryti.setOnClickListener(new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View view) {\r\n                            popup.dismiss();\r\n                        }\r\n                    });\r\n    \r\n                    popup = new Dialog(context);\r\n                    popup.setContentView(popupView);\r\n                    popup.show();\r\n                }\r\n            });\r\n        }\r\n        \r\n        @Override\r\n        public int getItemCount() {\r\n            return list.size();\r\n        }\r\n    }\r\n\r\nMy card holder class:\r\n\r\n    public class KorepetitoriuiPatvirtintiMokiniaiCardHolder extends RecyclerView.ViewHolder{\r\n        \r\n            public static TextView mokinioVardas;\r\n            public static Button parasyti, pridetiMedziaga;\r\n        \r\n            public KorepetitoriuiPatvirtintiMokiniaiCardHolder(@NonNull View itemView) {\r\n                super(itemView);\r\n        \r\n                mokinioVardas = itemView.findViewById(R.id.vardasKorteleMokinioPatvirtintas);\r\n                parasyti = itemView.findViewById(R.id.korepetitoriusParasyti);\r\n                pridetiMedziaga = itemView.findViewById(R.id.korepetitoriusPridetiMedziaga);\r\n            }\r\n        }\r\n\r\nAm I doing something wrong?\r\n\r\n\r\nTried to get a file from my android device through a button click in my android app, and check if the selected file was actually selected by logging, got no results.","title":"onActivityResult does not return file path in a fragment class","body":"<p>I am trying to get a file that I selected from my android device, I start the intent where I can select my files when a specific button is clicked in my popup window (the pasirinktiFaila button), then I try to look what was selected through Log.d(), but it shows me no results.</p>\n<p>Here is my fragment class called KorepetitoriuiPatvirtintiMokiniai, it has the onActivityResult method.</p>\n<pre><code>public class KorepetitoriuiPatvirtintiMokiniai extends Fragment {\n\n    private RecyclerView recyclerView;\n    private ArrayList&lt;KorepetitoriuiPatvirtintasMokinysKortele&gt; arrayList;\n    private KorepetitoriuiPatvirtintiMokiniaiCardAdapter adapter;\n    private TextView emptyRecycler;\n\n    public KorepetitoriuiPatvirtintiMokiniai() {\n        // Required empty public constructor\n    }\n\n    public static KorepetitoriuiPatvirtintiMokiniai newInstance() {\n        KorepetitoriuiPatvirtintiMokiniai fragment = new KorepetitoriuiPatvirtintiMokiniai();\n        Bundle args = new Bundle();\n        fragment.setArguments(args);\n        return fragment;\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.fragment_korepetitoriui_patvirtinti_mokiniai, container, false);\n\n        recyclerView = view.findViewById(R.id.recyclerKorepetitoriuiPatvirtintiMokiniai);\n        recyclerView.setHasFixedSize(true);\n        recyclerView.setLayoutManager(new LinearLayoutManager(this.getContext()));\n        emptyRecycler = view.findViewById(R.id.neraMokiniuKorepetitoriui);\n\n        arrayList = new ArrayList&lt;KorepetitoriuiPatvirtintasMokinysKortele&gt;();\n\n        GautiPatvirtintusMokiniusTask task = new GautiPatvirtintusMokiniusTask(prisijungti.currentKorepetitorius.getId());\n        task.execute();\n\n        return view;\n    }\n\n    @Override\n    public void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if(requestCode == 1 &amp;&amp; resultCode == Activity.RESULT_OK) {\n            Uri uri = data.getData();\n            String path = uri.getPath();\n            Log.d(&quot;file&quot;, path);\n        }\n    }\n\n    public class GautiPatvirtintusMokiniusTask extends AsyncTask&lt;Void, Void, Void&gt; {\n        private int korepetitoriausId;\n\n        public GautiPatvirtintusMokiniusTask(int korepetitoriausId) {\n            this.korepetitoriausId = korepetitoriausId;\n        }\n\n        @Override\n        protected Void doInBackground(Void... voids) {\n            try {\n                URL url = new URL(&quot;http://192.168.0.104/PHPscriptai/gautiKorepetitoriuiPatvirtintusMokinius.php?korepetitoriaus_id=&quot; + korepetitoriausId);\n                HttpURLConnection conn = (HttpURLConnection) url.openConnection();\n                conn.setRequestMethod(&quot;GET&quot;);\n                conn.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\n\n                BufferedReader br = new BufferedReader(new InputStreamReader((conn.getInputStream())));\n                StringBuilder sb = new StringBuilder();\n                String output;\n                while ((output = br.readLine()) != null) {\n                    sb.append(output);\n                }\n                conn.disconnect();\n\n                String jsonString = sb.toString();\n                JSONArray jsonArray = new JSONArray(jsonString);\n                for (int i = 0; i &lt; jsonArray.length(); i++) {\n                    JSONObject obj = jsonArray.getJSONObject(i);\n                    String vardasMokinio = obj.getString(&quot;pilnas_mokinio_vardas&quot;);\n                    int mokinioId = obj.getInt(&quot;mokinio_id&quot;);\n\n                    arrayList.add(new KorepetitoriuiPatvirtintasMokinysKortele(vardasMokinio, mokinioId));\n                }\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n            return null;\n        }\n\n        @Override\n        protected void onPostExecute(Void result) {\n            if (arrayList.isEmpty()) {\n                emptyRecycler.setVisibility(View.VISIBLE);\n                recyclerView.setVisibility(View.GONE);\n            } else {\n                emptyRecycler.setVisibility(View.GONE);\n                recyclerView.setVisibility(View.VISIBLE);\n                adapter = new KorepetitoriuiPatvirtintiMokiniaiCardAdapter(arrayList, getContext());\n                recyclerView.setAdapter(adapter);\n            }\n        }\n    }\n}\n</code></pre>\n<p>My adapter class:</p>\n<pre><code>public class KorepetitoriuiPatvirtintiMokiniaiCardAdapter extends RecyclerView.Adapter&lt;KorepetitoriuiPatvirtintiMokiniaiCardHolder&gt; {\n\n    private ArrayList&lt;KorepetitoriuiPatvirtintasMokinysKortele&gt; list;\n    private Context context;\n    private Dialog popup;\n\n    public KorepetitoriuiPatvirtintiMokiniaiCardAdapter(ArrayList&lt;KorepetitoriuiPatvirtintasMokinysKortele&gt; list, Context context) {\n        this.list = list;\n        this.context = context;\n    }\n\n    @NonNull\n    @Override\n    public KorepetitoriuiPatvirtintiMokiniaiCardHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.korepetitoriaus_mokinys_item, parent, false);\n\n        return new KorepetitoriuiPatvirtintiMokiniaiCardHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull KorepetitoriuiPatvirtintiMokiniaiCardHolder holder, int position) {\n        KorepetitoriuiPatvirtintasMokinysKortele sarasas = list.get(position);\n        popup = new Dialog(context);\n\n        KorepetitoriuiPatvirtintiMokiniaiCardHolder.mokinioVardas.setText(sarasas.getVardasMokinio());\n\n        KorepetitoriuiPatvirtintiMokiniaiCardHolder.parasyti.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(context, susirasyti.class);\n                intent.putExtra(&quot;dabartinis_id&quot;, prisijungti.currentKorepetitorius.getId());\n                intent.putExtra(&quot;gavejas_id&quot;, sarasas.getMokinioId());\n                context.startActivity(intent);\n            }\n        });\n\n        KorepetitoriuiPatvirtintiMokiniaiCardHolder.pridetiMedziaga.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                View popupView = LayoutInflater.from(context).inflate(R.layout.popup_pasirinkti_faila, null);\n\n                Button pasirinktiFaila = popupView.findViewById(R.id.pasirinktiFailaButton);\n                Button uzdaryti = popupView.findViewById(R.id.uzdarytiIkeltiLanga);\n                EditText pavadinimas = popupView.findViewById(R.id.pavadinimasPopup);\n                Button ikeltiFaila = popupView.findViewById(R.id.ikeltiFaila);\n\n                pasirinktiFaila.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View view) {\n                        Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\n                        intent.setType(&quot;*/*&quot;);\n                        ((Activity) context).startActivityForResult(intent, 1);\n                    }\n                });\n\n                ikeltiFaila.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View view) {\n                        // TODO\n                        // upload the file\n                    }\n                });\n\n                uzdaryti.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View view) {\n                        popup.dismiss();\n                    }\n                });\n\n                popup = new Dialog(context);\n                popup.setContentView(popupView);\n                popup.show();\n            }\n        });\n    }\n    \n    @Override\n    public int getItemCount() {\n        return list.size();\n    }\n}\n</code></pre>\n<p>My card holder class:</p>\n<pre><code>public class KorepetitoriuiPatvirtintiMokiniaiCardHolder extends RecyclerView.ViewHolder{\n    \n        public static TextView mokinioVardas;\n        public static Button parasyti, pridetiMedziaga;\n    \n        public KorepetitoriuiPatvirtintiMokiniaiCardHolder(@NonNull View itemView) {\n            super(itemView);\n    \n            mokinioVardas = itemView.findViewById(R.id.vardasKorteleMokinioPatvirtintas);\n            parasyti = itemView.findViewById(R.id.korepetitoriusParasyti);\n            pridetiMedziaga = itemView.findViewById(R.id.korepetitoriusPridetiMedziaga);\n        }\n    }\n</code></pre>\n<p>Am I doing something wrong?</p>\n<p>Tried to get a file from my android device through a button click in my android app, and check if the selected file was actually selected by logging, got no results.</p>\n"},{"tags":["java","amazon-web-services","google-cloud-platform","hsm","jca"],"comments":[{"owner":{"account_id":1497894,"reputation":1018,"user_id":1403418,"display_name":"Dan"},"score":0,"creation_date":1542730785,"post_id":53394842,"comment_id":93669712,"body_markdown":"Looking at the sample code - it uses BC for verification and a proprietary client for getting the keys and signing.  Doesn&#39;t seem to use JCA but uses a web API - KMS.   You could wrap it up in your own JCA extension :)  https://cloud.google.com/kms/docs/reference/libraries#client-libraries-usage-java","body":"Looking at the sample code - it uses BC for verification and a proprietary client for getting the keys and signing.  Doesn&#39;t seem to use JCA but uses a web API - KMS.   You could wrap it up in your own JCA extension :)  <a href=\"https://cloud.google.com/kms/docs/reference/libraries#client-libraries-usage-java\" rel=\"nofollow noreferrer\">cloud.google.com/kms/docs/reference/&hellip;</a>"},{"owner":{"account_id":4713284,"reputation":145,"user_id":3813183,"display_name":"Suchak Jani"},"score":0,"creation_date":1542789434,"post_id":53394842,"comment_id":93690848,"body_markdown":"Dan, Thanks for looking into it. Cool, so will use AWS or wrap in my own JCA as suggested. I guess i should be grateful for having HSM&#39;s in the cloud, would save so much lead time for performing early application behaviour tests. Was wondering if anyone who works for Google could comment. JCA being a standard, would it on the Google Cloud&#39;s current or future Roadmap somewhere ? Again Dan, thank you!","body":"Dan, Thanks for looking into it. Cool, so will use AWS or wrap in my own JCA as suggested. I guess i should be grateful for having HSM&#39;s in the cloud, would save so much lead time for performing early application behaviour tests. Was wondering if anyone who works for Google could comment. JCA being a standard, would it on the Google Cloud&#39;s current or future Roadmap somewhere ? Again Dan, thank you!"}],"answers":[{"tags":[],"owner":{"account_id":1746243,"reputation":788,"user_id":1596398,"accept_rate":58,"display_name":"Hmmmmm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557387896,"creation_date":1557387896,"answer_id":56054525,"question_id":53394842,"body_markdown":"I am not sure what the exact question is but it looks like you want to write code that signs data using a private key from an HSM and have that work on AWS and Google Cloud. The steps to do that are:\r\n\r\n 1. Load the provider\r\n 2. Open the keystore\r\n 3. Retrieve the private key\r\n 4. Initialize a signing object with the private key (and update it with the data to sign)\r\n 5. Sign\r\n\r\nStep 1 can be done programmatically (via *Security.addProvider*, as you have written in your question) or statically in the java.security file. If you want your code to be agnostic to the cloud platform it is running on, you may want to consider doing this statically (although it is also possible to do it programmatically and keep things platform agnostic).\r\n\r\nThe rest of the steps just require pretty standard JCE code. Below is an example:\r\n\r\n    KeyStore keyStore = KeyStore.getInstance(&quot;type&quot;, &quot;provider name&quot;);\r\n    PrivateKey privKey = (PrivateKey) keyStore.getKey(&quot;alias&quot;, null);\r\n    Signature sig = Signature.getInstance(&quot;transformation&quot;, &quot;provider name&quot;);\r\n    sig.initSign(privKey);\r\n    sig.update(dataToSign);\r\n    byte[] signature = sig.sign();\r\n\r\nYou may want to read the provider name and keystore type from a (secured) configuration file, so those aren&#39;t hard-coded. After you get that working you&#39;ll want to look at how often you go to the keystore to retrieve key objects and possibly consider caching them because keystore retrievals *can* be expensive, depending on the HSM and provider library being used. That is going a bit beyond the scope of this question, or at least what I am interpreting the question to be, so I will stop there. Hope that helps.\r\n","title":"Google Cloud HSM as a provider for encryption","body":"<p>I am not sure what the exact question is but it looks like you want to write code that signs data using a private key from an HSM and have that work on AWS and Google Cloud. The steps to do that are:</p>\n\n<ol>\n<li>Load the provider</li>\n<li>Open the keystore</li>\n<li>Retrieve the private key</li>\n<li>Initialize a signing object with the private key (and update it with the data to sign)</li>\n<li>Sign</li>\n</ol>\n\n<p>Step 1 can be done programmatically (via <em>Security.addProvider</em>, as you have written in your question) or statically in the java.security file. If you want your code to be agnostic to the cloud platform it is running on, you may want to consider doing this statically (although it is also possible to do it programmatically and keep things platform agnostic).</p>\n\n<p>The rest of the steps just require pretty standard JCE code. Below is an example:</p>\n\n<pre><code>KeyStore keyStore = KeyStore.getInstance(\"type\", \"provider name\");\nPrivateKey privKey = (PrivateKey) keyStore.getKey(\"alias\", null);\nSignature sig = Signature.getInstance(\"transformation\", \"provider name\");\nsig.initSign(privKey);\nsig.update(dataToSign);\nbyte[] signature = sig.sign();\n</code></pre>\n\n<p>You may want to read the provider name and keystore type from a (secured) configuration file, so those aren't hard-coded. After you get that working you'll want to look at how often you go to the keystore to retrieve key objects and possibly consider caching them because keystore retrievals <em>can</em> be expensive, depending on the HSM and provider library being used. That is going a bit beyond the scope of this question, or at least what I am interpreting the question to be, so I will stop there. Hope that helps.</p>\n"},{"tags":[],"owner":{"account_id":249565,"reputation":9766,"user_id":525725,"accept_rate":67,"display_name":"Emmanuel Bourg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682407274,"creation_date":1682407274,"answer_id":76098542,"question_id":53394842,"body_markdown":"I&#39;ve implemented a JCA provider for Google Cloud HSM (as well as Azure Key Vault and AWS KMS) as part of the [Jsign][1] project. It performs direct API calls and doesn&#39;t rely on the gcloud CLI or the Google Cloud SDK. Usage looks like this:\r\n\r\n\tString keyring = &quot;projects/first-rain-123/locations/global/keyRings/mykeyring&quot;;\r\n\tSigningService service = new GoogleCloudSigningService(keyring, token, null);\r\n\tProvider provider = new SigningServiceJcaProvider(service);\r\n\t\r\n\tKeyStore keystore = KeyStore.getInstance(&quot;GOOGLECLOUD&quot;, provider);\r\n\tkeystore.load(null, &quot;&quot;.toCharArray());\r\n\t\r\n\tPrivateKey key = (PrivateKey) keystore.getKey(alias, null);\r\n\t\r\n\tSignature sig = Signature.getInstance(&quot;SHA256withRSA&quot;, provider);\r\n\tsig.initSign(key);\r\n\tsig.update(data);\r\n\tbyte[] signature = sig.sign();\r\n\r\n  [1]: https://ebourg.github.io/jsign/","title":"Google Cloud HSM as a provider for encryption","body":"<p>I've implemented a JCA provider for Google Cloud HSM (as well as Azure Key Vault and AWS KMS) as part of the <a href=\"https://ebourg.github.io/jsign/\" rel=\"nofollow noreferrer\">Jsign</a> project. It performs direct API calls and doesn't rely on the gcloud CLI or the Google Cloud SDK. Usage looks like this:</p>\n<pre><code>String keyring = &quot;projects/first-rain-123/locations/global/keyRings/mykeyring&quot;;\nSigningService service = new GoogleCloudSigningService(keyring, token, null);\nProvider provider = new SigningServiceJcaProvider(service);\n\nKeyStore keystore = KeyStore.getInstance(&quot;GOOGLECLOUD&quot;, provider);\nkeystore.load(null, &quot;&quot;.toCharArray());\n\nPrivateKey key = (PrivateKey) keystore.getKey(alias, null);\n\nSignature sig = Signature.getInstance(&quot;SHA256withRSA&quot;, provider);\nsig.initSign(key);\nsig.update(data);\nbyte[] signature = sig.sign();\n</code></pre>\n"}],"owner":{"account_id":4713284,"reputation":145,"user_id":3813183,"display_name":"Suchak Jani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1177,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1682407274,"creation_date":1542722883,"question_id":53394842,"body_markdown":"AWS seems to allow us to have the AWS Cloud HSM as a provider, See [here][1] and [here][2]\r\n\r\n    Security.addProvider(new com.cavium.provider.CaviumProvider())\r\n\r\nIn the samples from GKE however we seem to only have bouncy castle as a provider. See [here][3]\r\n\r\n    Security.addProvider(new BouncyCastleProvider());\r\n\r\nMaybe i am missing something fundamental.\r\n\r\nWould like to do a initsign as below JCA API\r\n\r\nhttps://docs.oracle.com/javase/10/docs/api/java/security/Signature.html#initSign(java.security.PrivateKey)\r\n\r\n  [1]: https://github.com/aws-samples/aws-cloudhsm-jce-examples/blob/master/src/main/java/com/amazonaws/cloudhsm/examples/AESGCMEncryptDecryptRunner.java\r\n  [2]: https://github.com/awsdocs/aws-cloudhsm-user-guide/blob/master/doc_source/use-cavium-provider.md\r\n  [3]: https://github.com/GoogleCloudPlatform/java-docs-samples/blob/master/kms/src/main/java/com/example/Asymmetric.java","title":"Google Cloud HSM as a provider for encryption","body":"<p>AWS seems to allow us to have the AWS Cloud HSM as a provider, See <a href=\"https://github.com/aws-samples/aws-cloudhsm-jce-examples/blob/master/src/main/java/com/amazonaws/cloudhsm/examples/AESGCMEncryptDecryptRunner.java\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://github.com/awsdocs/aws-cloudhsm-user-guide/blob/master/doc_source/use-cavium-provider.md\" rel=\"nofollow noreferrer\">here</a></p>\n\n<pre><code>Security.addProvider(new com.cavium.provider.CaviumProvider())\n</code></pre>\n\n<p>In the samples from GKE however we seem to only have bouncy castle as a provider. See <a href=\"https://github.com/GoogleCloudPlatform/java-docs-samples/blob/master/kms/src/main/java/com/example/Asymmetric.java\" rel=\"nofollow noreferrer\">here</a></p>\n\n<pre><code>Security.addProvider(new BouncyCastleProvider());\n</code></pre>\n\n<p>Maybe i am missing something fundamental.</p>\n\n<p>Would like to do a initsign as below JCA API</p>\n\n<p><a href=\"https://docs.oracle.com/javase/10/docs/api/java/security/Signature.html#initSign(java.security.PrivateKey)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/10/docs/api/java/security/Signature.html#initSign(java.security.PrivateKey)</a></p>\n"},{"tags":["java","spring-boot","vaadin"],"comments":[{"owner":{"account_id":295383,"reputation":4686,"user_id":599765,"accept_rate":22,"display_name":"Andr&#233; Schild"},"score":0,"creation_date":1682403566,"post_id":76097992,"comment_id":134205248,"body_markdown":"You need to enable server push, so the server can send updates to the ui, even when no usr interaction is done","body":"You need to enable server push, so the server can send updates to the ui, even when no usr interaction is done"},{"owner":{"account_id":2759852,"reputation":7920,"user_id":2376954,"display_name":"Leif &#197;strand"},"score":0,"creation_date":1682408700,"post_id":76097992,"comment_id":134206206,"body_markdown":"Unrelated remark: There&#39;s probably no need to do `refreshAll` after `setItems` since the component is already refreshing all items based on the first call. Reloading the page after all of that is also redundant, but I assume that&#39;s just a relic of you debugging attempts.","body":"Unrelated remark: There&#39;s probably no need to do <code>refreshAll</code> after <code>setItems</code> since the component is already refreshing all items based on the first call. Reloading the page after all of that is also redundant, but I assume that&#39;s just a relic of you debugging attempts."},{"owner":{"account_id":20213995,"reputation":15,"user_id":14825393,"display_name":"Алексей Шерстобитов"},"score":0,"creation_date":1682409382,"post_id":76097992,"comment_id":134206353,"body_markdown":"Thanks, Andre! @Push annotation helped!","body":"Thanks, Andre! @Push annotation helped!"}],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1682406948,"creation_date":1682406948,"answer_id":76098500,"question_id":76097992,"body_markdown":"You must enable push: \r\n\r\n    @Push\r\n    public class Application implements AppShellConfigurator {\r\n      ...\r\n    }\r\n\r\nRead more about push here: https://vaadin.com/docs/latest/advanced/server-push","title":"update a grid form another thread vaadin","body":"<p>You must enable push:</p>\n<pre><code>@Push\npublic class Application implements AppShellConfigurator {\n  ...\n}\n</code></pre>\n<p>Read more about push here: <a href=\"https://vaadin.com/docs/latest/advanced/server-push\" rel=\"nofollow noreferrer\">https://vaadin.com/docs/latest/advanced/server-push</a></p>\n"}],"owner":{"account_id":20213995,"reputation":15,"user_id":14825393,"display_name":"Алексей Шерстобитов"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76098500,"answer_count":1,"score":0,"last_activity_date":1682406948,"creation_date":1682402312,"question_id":76097992,"body_markdown":"I try to update the grid vaadin from another thread but a new data have shown only when I ping some component on UI.\r\n\r\n   \r\n\r\nI want to display data in the grid when a thread get a result from bd\r\n\r\n\r\n```\r\n  CURRENT = UI.getCurrent();\r\n        taskSlaService.getFilterAsync(pointId, dictValueIds)\r\n                .thenAcceptAsync(entities -&gt; {\r\n\r\n                    log.info(&quot;entities {}&quot;, entities);\r\n\r\n                    if (entities.isEmpty()) {\r\n                        log.info(&quot;entities is empty =====&gt; {}&quot;, entities);\r\n                    }\r\n\r\n                    if (CURRENT != null) {\r\n                        CURRENT.access(() -&gt; {\r\n                            log.info(&quot;========&gt; UI isn&#39;t null&quot;);\r\n                            grid.setItems(entities);\r\n                            grid.getDataProvider().refreshAll();\r\n                            log.info(&quot;entities in UI.getCurrent().access =====&gt; {}&quot;, entities);\r\n                            log.info(Thread.currentThread().getName());\r\n                            CURRENT.getPage().reload();\r\n                        });\r\n```\r\n","title":"update a grid form another thread vaadin","body":"<p>I try to update the grid vaadin from another thread but a new data have shown only when I ping some component on UI.</p>\n<p>I want to display data in the grid when a thread get a result from bd</p>\n<pre><code>  CURRENT = UI.getCurrent();\n        taskSlaService.getFilterAsync(pointId, dictValueIds)\n                .thenAcceptAsync(entities -&gt; {\n\n                    log.info(&quot;entities {}&quot;, entities);\n\n                    if (entities.isEmpty()) {\n                        log.info(&quot;entities is empty =====&gt; {}&quot;, entities);\n                    }\n\n                    if (CURRENT != null) {\n                        CURRENT.access(() -&gt; {\n                            log.info(&quot;========&gt; UI isn't null&quot;);\n                            grid.setItems(entities);\n                            grid.getDataProvider().refreshAll();\n                            log.info(&quot;entities in UI.getCurrent().access =====&gt; {}&quot;, entities);\n                            log.info(Thread.currentThread().getName());\n                            CURRENT.getPage().reload();\n                        });\n</code></pre>\n"},{"tags":["java","postgresql","composite-types"],"answers":[{"comments":[{"owner":{"account_id":147146,"reputation":2754,"user_id":358070,"accept_rate":62,"display_name":"peteisace"},"score":1,"creation_date":1682412793,"post_id":76098499,"comment_id":134207144,"body_markdown":"did think that - i tried the lazy way which was to set CLIENT_ENCODING to SQL_ASCII, but that raised a bunch of errors. what i do not understand is why DBeaver client doesn&#39;t have the same problem - no issue to INSERT ... VALUES(ROW(1, 1, &#39;hi&#39;, 0, &#39;A&#39;)::my_type) with DBeaver, despite the encoding being set to UTF-8 (client and db). i&#39;ll try it out tho.","body":"did think that - i tried the lazy way which was to set CLIENT_ENCODING to SQL_ASCII, but that raised a bunch of errors. what i do not understand is why DBeaver client doesn&#39;t have the same problem - no issue to INSERT ... VALUES(ROW(1, 1, &#39;hi&#39;, 0, &#39;A&#39;)::my_type) with DBeaver, despite the encoding being set to UTF-8 (client and db). i&#39;ll try it out tho."},{"owner":{"account_id":147146,"reputation":2754,"user_id":358070,"accept_rate":62,"display_name":"peteisace"},"score":0,"creation_date":1682412876,"post_id":76098499,"comment_id":134207171,"body_markdown":"getSomeChar() will always be in ASCII range - either lowercase or uppercase: [A-Z|a-z]","body":"getSomeChar() will always be in ASCII range - either lowercase or uppercase: [A-Z|a-z]"},{"owner":{"account_id":147146,"reputation":2754,"user_id":358070,"accept_rate":62,"display_name":"peteisace"},"score":1,"creation_date":1682474047,"post_id":76098499,"comment_id":134220433,"body_markdown":"char(3) it is :/","body":"char(3) it is :/"}],"tags":[],"owner":{"account_id":7501749,"reputation":1523,"user_id":5699807,"accept_rate":100,"display_name":"Priyank"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682406939,"creation_date":1682406939,"answer_id":76098499,"question_id":76098362,"body_markdown":"The answer depends on which encoding you are using for your characters (and which characters `getSomeChar` can return). From this [doc][1] , some encodings, like utf-8, expect to have upto char(4) allocated to store a single character. Changing to `CHAR(4)` should cover all possible encodings:\r\n \r\n\r\n    CREATE TYPE my_type AS (\r\n    my_id INT4\r\n    , my_other_id INT4\r\n    , some_varchar VARCHAR(32)\r\n    , is_true BOOL\r\n    , some_char CHAR(4)\r\n)\r\n\r\n  [1]: https://www.postgresql.org/docs/current/multibyte.html","title":"Unable to insert composite type via Java client to postgresql database: &quot;value too long for type character(1)&quot;","body":"<p>The answer depends on which encoding you are using for your characters (and which characters <code>getSomeChar</code> can return). From this <a href=\"https://www.postgresql.org/docs/current/multibyte.html\" rel=\"nofollow noreferrer\">doc</a> , some encodings, like utf-8, expect to have upto char(4) allocated to store a single character. Changing to <code>CHAR(4)</code> should cover all possible encodings:</p>\n<pre><code>CREATE TYPE my_type AS (\nmy_id INT4\n, my_other_id INT4\n, some_varchar VARCHAR(32)\n, is_true BOOL\n, some_char CHAR(4)\n</code></pre>\n<p>)</p>\n"}],"owner":{"account_id":147146,"reputation":2754,"user_id":358070,"accept_rate":62,"display_name":"peteisace"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76098499,"answer_count":1,"score":1,"last_activity_date":1682406939,"creation_date":1682405765,"question_id":76098362,"body_markdown":"None of the existing answers seem to help the specific problem, which is - i have a table with a column of a composite type:\r\n\r\n```\r\nCREATE TYPE my_type AS (\r\n    my_id INT4\r\n    , my_other_id INT4\r\n    , some_varchar VARCHAR(32)\r\n    , is_true BOOL\r\n    , some_char CHAR(1)\r\n)\r\n```\r\nwhich is used in the table:\r\n\r\n```\r\nCREATE TABLE the_table\r\n(\r\n    id UUID\r\n    , url VARCHAR(32)\r\n    , name VARCHAR(32)\r\n    , my_types _my_type NULL\r\n)\r\n```\r\n\r\nAnd through java:\r\n\r\n```\r\nfinal String SQL = &quot;&quot;&quot;\r\nINSERT INTO the_table(\r\n    id\r\n    , url\r\n    , name\r\n    , my_types\r\n)\r\nVALUES (\r\n    ?\r\n    , ?\r\n    , ?\r\n    , ?\r\n)\r\n&quot;&quot;&quot;\r\n\r\n// some stuff - like get connection\r\nvar statement = c.prepareStatement(SQL);\r\nstatement.setObject(1, model.getId());\r\nstatement.setObject(2, model.getUrl());\r\nstatement.setObject(3, model.getName());\r\nstatement.setObject(4, c.createArrayOf(&quot;my_type&quot;, model.getMyTypes());\r\n\r\n// where the implementation of MyType::toString() is:\r\n@Override\r\npublic String toString() {\r\n    return String.format(&quot;(%d, %d, &#39;%s&#39;, %b, &#39;%c&#39;),\r\n        this.getId(), \r\n        this.getOtherId(),\r\n        this.getName(),\r\n        this.getIsTrue(),\r\n        this.getSomeChar());\r\n```\r\n\r\nPROBLEM: I cannot avoid getting the error: &quot;Value too long for type character(1)&quot; - even though getSomeChar() is definitely a single character. The only way I can get it to run without erroring is to do change the toString() to: \r\n```\r\nreturn String.format(&quot;(%d, %d, &#39;%s&#39;, %b, \\&quot;\\&quot;)\r\n```\r\nwhich of course doesn&#39;t do what i want it to do (the char is null), but it does prove it is at least possible to persist this composite type in this manner. i don&#39;t know what i am doing wrong, or why it despises my attempt to push a single character. \r\n    ","title":"Unable to insert composite type via Java client to postgresql database: &quot;value too long for type character(1)&quot;","body":"<p>None of the existing answers seem to help the specific problem, which is - i have a table with a column of a composite type:</p>\n<pre><code>CREATE TYPE my_type AS (\n    my_id INT4\n    , my_other_id INT4\n    , some_varchar VARCHAR(32)\n    , is_true BOOL\n    , some_char CHAR(1)\n)\n</code></pre>\n<p>which is used in the table:</p>\n<pre><code>CREATE TABLE the_table\n(\n    id UUID\n    , url VARCHAR(32)\n    , name VARCHAR(32)\n    , my_types _my_type NULL\n)\n</code></pre>\n<p>And through java:</p>\n<pre><code>final String SQL = &quot;&quot;&quot;\nINSERT INTO the_table(\n    id\n    , url\n    , name\n    , my_types\n)\nVALUES (\n    ?\n    , ?\n    , ?\n    , ?\n)\n&quot;&quot;&quot;\n\n// some stuff - like get connection\nvar statement = c.prepareStatement(SQL);\nstatement.setObject(1, model.getId());\nstatement.setObject(2, model.getUrl());\nstatement.setObject(3, model.getName());\nstatement.setObject(4, c.createArrayOf(&quot;my_type&quot;, model.getMyTypes());\n\n// where the implementation of MyType::toString() is:\n@Override\npublic String toString() {\n    return String.format(&quot;(%d, %d, '%s', %b, '%c'),\n        this.getId(), \n        this.getOtherId(),\n        this.getName(),\n        this.getIsTrue(),\n        this.getSomeChar());\n</code></pre>\n<p>PROBLEM: I cannot avoid getting the error: &quot;Value too long for type character(1)&quot; - even though getSomeChar() is definitely a single character. The only way I can get it to run without erroring is to do change the toString() to:</p>\n<pre><code>return String.format(&quot;(%d, %d, '%s', %b, \\&quot;\\&quot;)\n</code></pre>\n<p>which of course doesn't do what i want it to do (the char is null), but it does prove it is at least possible to persist this composite type in this manner. i don't know what i am doing wrong, or why it despises my attempt to push a single character.</p>\n"},{"tags":["java","classloader"],"comments":[{"owner":{"account_id":125342,"reputation":4097,"user_id":321061,"accept_rate":67,"display_name":"Justin"},"score":0,"creation_date":1274337801,"post_id":2871502,"comment_id":2917203,"body_markdown":"Your question&#39;s title is completely different to what you ask in the body of the question.","body":"Your question&#39;s title is completely different to what you ask in the body of the question."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1274422754,"post_id":2871502,"comment_id":2926514,"body_markdown":"Each ClassLoader can have its own copy of a class, each static block is executed once per class and so you can have it executed once per classloader which loads it.","body":"Each ClassLoader can have its own copy of a class, each static block is executed once per class and so you can have it executed once per classloader which loads it."}],"answers":[{"comments":[{"owner":{"account_id":137070,"reputation":1521,"user_id":341020,"display_name":"pdbartlett"},"score":0,"creation_date":1274353212,"post_id":2871506,"comment_id":2918683,"body_markdown":"Useful quoted passages, but not sure which point the first comment re: source files is addressing.","body":"Useful quoted passages, but not sure which point the first comment re: source files is addressing."},{"owner":{"account_id":102991,"reputation":378292,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"score":0,"creation_date":1274354679,"post_id":2871506,"comment_id":2918842,"body_markdown":"@pdbartlett: the original revision of the question mentions that class loaders loads **source files**. I&#39;ll remove this from my answer since it&#39;s edited out from the question.","body":"@pdbartlett: the original revision of the question mentions that class loaders loads <b>source files</b>. I&#39;ll remove this from my answer since it&#39;s edited out from the question."},{"owner":{"account_id":129315,"reputation":625,"user_id":327813,"accept_rate":56,"display_name":"learner"},"score":0,"creation_date":1274358337,"post_id":2871506,"comment_id":2919334,"body_markdown":"Thanks very much for your answer. I read the article http://java.sun.com/docs/books/jls/unloading-rationale.html (Gustafc provided in the above answer) it has same information. As per this article classes can reload when class loader (other than Boot Strap) is not reachable, but how to create a reliable Global variable. As there are chances that static variables may reset. Source file was a typo mistake thanks for correcting me.","body":"Thanks very much for your answer. I read the article <a href=\"http://java.sun.com/docs/books/jls/unloading-rationale.html\" rel=\"nofollow noreferrer\">java.sun.com/docs/books/jls/unloading-rationale.html</a> (Gustafc provided in the above answer) it has same information. As per this article classes can reload when class loader (other than Boot Strap) is not reachable, but how to create a reliable Global variable. As there are chances that static variables may reset. Source file was a typo mistake thanks for correcting me."}],"tags":[],"owner":{"account_id":102991,"reputation":378292,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1274354692,"creation_date":1274337673,"answer_id":2871506,"question_id":2871502,"body_markdown":"The Java Language Specification speaks of the mechanism of loading, unloading, and reloading of classes in great details.\n\n### [JLS 12.2 Loading of Classes and Interfaces](http://java.sun.com/docs/books/jls/third_edition/html/execution.html#12.2.)\n\n&gt; _Loading_ refers to the process of finding the _binary_ form of a `class` or `interface` type with a particular name, perhaps by computing it on the fly, but more typically by retrieving a binary representation previously computed from source code by a compiler, and constructing, from that binary form, a `Class` object to represent the class or interface.\n&gt;\n&gt; The precise semantics of loading are given in chapter 5 of The Java Virtual Machine Specification (whenever we refer to the Java virtual machine specification in this book, we mean the second edition, as amended by JSR 924). Here we present an overview of the process from the viewpoint of the Java programming language.\n&gt;\n&gt; The binary format of a class or interface is normally the class file format described in The Java Virtual Machine Specification cited above, but other formats are possible, provided they meet the requirements specified in &#167;13.1. The method `defineClass` of `class ClassLoader` may be used to construct `Class` objects from binary representations in the class file format.\n\nUnder certain circumstances, it is possible to unload classes and interfaces, which may cause an unpreventable reload.\n\n### [12.7 Unloading of Classes and Interfaces](http://java.sun.com/docs/books/jls/third_edition/html/execution.html#12.7)\n\n&gt; An implementation of the Java programming language may unload classes. A class or interface may be unloaded if and only if its defining class loader may be reclaimed by the garbage collector as discussed in &#167;12.6. Classes and interfaces loaded by the bootstrap loader may not be unloaded.\n&gt;\n&gt; Class unloading is an optimization that helps reduce memory use. **Obviously, the semantics of a program should not depend on whether and how a system chooses to implement an optimization such as class unloading.** To do otherwise would compromise the portability of programs. Consequently, whether a class or interface has been unloaded or not should be transparent to a program.\n&gt;\n&gt; However, if a class or interface C was unloaded while its defining loader was potentially reachable, then C might be reloaded. One could never ensure that this would not happen.\n\nIn fact, it went to address your specific concerns:\n\n&gt; Reloading may not be transparent if, for example, the class has:\n&gt;\n&gt; * Static variables (whose state would be lost).\n&gt; * **Static initializers (which may have side effects).**\n&gt; * Native methods (which may retain static state). \n&gt;\n&gt; Furthermore the hash value of the Class object is dependent on its identity. Therefore it is, in general, impossible to reload a class or interface in a completely transparent manner.\n&gt;\n&gt; Since we can never guarantee that unloading a class or interface whose loader is potentially reachable will not cause reloading, and reloading is never transparent, but unloading must be transparent, it follows that one must not unload a class or interface while its loader is potentially reachable. A similar line of reasoning can be used to deduce that classes and interfaces loaded by the bootstrap loader can never be unloaded.\n&gt;\n&gt; One must also argue why it is safe to unload a class C if its defining class loader can be reclaimed. If the defining loader can be reclaimed, then there can never be any live references to it (this includes references that are not live, but might be resurrected by finalizers). This, in turn, can only be true if there are can never be any live references to any of the classes defined by that loader, including C, either from their instances or from code.\n&gt;\n&gt; Class unloading is an optimization that is only significant for applications that load large numbers of classes and that stop using most of those classes after some time. A prime example of such an application is a web browser, but there are others. A characteristic of such applications is that they manage classes through explicit use of class loaders. As a result, the policy outlined above works well for them.\n&gt;\n&gt; Strictly speaking, it is not essential that the issue of class unloading be discussed by this specification, as class unloading is merely an optimization. However, the issue is very subtle, and so it is mentioned here by way of clarification. ","title":"Is there any way static block is executed more than once? if so then how?","body":"<p>The Java Language Specification speaks of the mechanism of loading, unloading, and reloading of classes in great details.</p>\n<h3><a href=\"http://java.sun.com/docs/books/jls/third_edition/html/execution.html#12.2.\" rel=\"nofollow noreferrer\">JLS 12.2 Loading of Classes and Interfaces</a></h3>\n<blockquote>\n<p><em>Loading</em> refers to the process of finding the <em>binary</em> form of a <code>class</code> or <code>interface</code> type with a particular name, perhaps by computing it on the fly, but more typically by retrieving a binary representation previously computed from source code by a compiler, and constructing, from that binary form, a <code>Class</code> object to represent the class or interface.</p>\n<p>The precise semantics of loading are given in chapter 5 of The Java Virtual Machine Specification (whenever we refer to the Java virtual machine specification in this book, we mean the second edition, as amended by JSR 924). Here we present an overview of the process from the viewpoint of the Java programming language.</p>\n<p>The binary format of a class or interface is normally the class file format described in The Java Virtual Machine Specification cited above, but other formats are possible, provided they meet the requirements specified in §13.1. The method <code>defineClass</code> of <code>class ClassLoader</code> may be used to construct <code>Class</code> objects from binary representations in the class file format.</p>\n</blockquote>\n<p>Under certain circumstances, it is possible to unload classes and interfaces, which may cause an unpreventable reload.</p>\n<h3><a href=\"http://java.sun.com/docs/books/jls/third_edition/html/execution.html#12.7\" rel=\"nofollow noreferrer\">12.7 Unloading of Classes and Interfaces</a></h3>\n<blockquote>\n<p>An implementation of the Java programming language may unload classes. A class or interface may be unloaded if and only if its defining class loader may be reclaimed by the garbage collector as discussed in §12.6. Classes and interfaces loaded by the bootstrap loader may not be unloaded.</p>\n<p>Class unloading is an optimization that helps reduce memory use. <strong>Obviously, the semantics of a program should not depend on whether and how a system chooses to implement an optimization such as class unloading.</strong> To do otherwise would compromise the portability of programs. Consequently, whether a class or interface has been unloaded or not should be transparent to a program.</p>\n<p>However, if a class or interface C was unloaded while its defining loader was potentially reachable, then C might be reloaded. One could never ensure that this would not happen.</p>\n</blockquote>\n<p>In fact, it went to address your specific concerns:</p>\n<blockquote>\n<p>Reloading may not be transparent if, for example, the class has:</p>\n<ul>\n<li>Static variables (whose state would be lost).</li>\n<li><strong>Static initializers (which may have side effects).</strong></li>\n<li>Native methods (which may retain static state).</li>\n</ul>\n<p>Furthermore the hash value of the Class object is dependent on its identity. Therefore it is, in general, impossible to reload a class or interface in a completely transparent manner.</p>\n<p>Since we can never guarantee that unloading a class or interface whose loader is potentially reachable will not cause reloading, and reloading is never transparent, but unloading must be transparent, it follows that one must not unload a class or interface while its loader is potentially reachable. A similar line of reasoning can be used to deduce that classes and interfaces loaded by the bootstrap loader can never be unloaded.</p>\n<p>One must also argue why it is safe to unload a class C if its defining class loader can be reclaimed. If the defining loader can be reclaimed, then there can never be any live references to it (this includes references that are not live, but might be resurrected by finalizers). This, in turn, can only be true if there are can never be any live references to any of the classes defined by that loader, including C, either from their instances or from code.</p>\n<p>Class unloading is an optimization that is only significant for applications that load large numbers of classes and that stop using most of those classes after some time. A prime example of such an application is a web browser, but there are others. A characteristic of such applications is that they manage classes through explicit use of class loaders. As a result, the policy outlined above works well for them.</p>\n<p>Strictly speaking, it is not essential that the issue of class unloading be discussed by this specification, as class unloading is merely an optimization. However, the issue is very subtle, and so it is mentioned here by way of clarification.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1274337755,"creation_date":1274337755,"answer_id":2871518,"question_id":2871502,"body_markdown":"To my knowledge the JVM will never *reload* a class per se; once a class is loaded it stays loaded forever.  Class definitions are held in the &quot;PermGen&quot; memory pool for this reason.\r\n\r\nHowever, it is possible for your class&#39; bytecode to be loaded by multiple classloaders, and each time this happens the static block will be executed again as this is a new class.  Each class is only visible within the scope of its own classloader, whereas typically any classloader can see your bytecode if it&#39;s on the classpath, so this is a possible (if undesirable) situation.","title":"Is there any way static block is executed more than once? if so then how?","body":"<p>To my knowledge the JVM will never <em>reload</em> a class per se; once a class is loaded it stays loaded forever.  Class definitions are held in the \"PermGen\" memory pool for this reason.</p>\n\n<p>However, it is possible for your class' bytecode to be loaded by multiple classloaders, and each time this happens the static block will be executed again as this is a new class.  Each class is only visible within the scope of its own classloader, whereas typically any classloader can see your bytecode if it's on the classpath, so this is a possible (if undesirable) situation.</p>\n"},{"comments":[{"owner":{"account_id":129315,"reputation":625,"user_id":327813,"accept_rate":56,"display_name":"learner"},"score":0,"creation_date":1274340170,"post_id":2871520,"comment_id":2917421,"body_markdown":"yeah, but we can create only one instance per class loader, Isn&#39;t it?","body":"yeah, but we can create only one instance per class loader, Isn&#39;t it?"}],"tags":[],"owner":{"account_id":57077,"reputation":39235,"user_id":170974,"accept_rate":70,"display_name":"tangens"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1274337780,"creation_date":1274337780,"answer_id":2871520,"question_id":2871502,"body_markdown":"I you explicitly use a new [`ClassLoader`][1] to load the class again, the static block for this class will be executed again.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/ClassLoader.html","title":"Is there any way static block is executed more than once? if so then how?","body":"<p>I you explicitly use a new <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/ClassLoader.html\" rel=\"nofollow noreferrer\"><code>ClassLoader</code></a> to load the class again, the static block for this class will be executed again.</p>\n"},{"comments":[{"owner":{"account_id":2386817,"reputation":15505,"user_id":2087628,"accept_rate":42,"display_name":"JaskeyLam"},"score":0,"creation_date":1477884236,"post_id":2871547,"comment_id":67927460,"body_markdown":"link has been redirected","body":"link has been redirected"}],"tags":[],"owner":{"account_id":23503,"reputation":28545,"user_id":58956,"accept_rate":91,"display_name":"gustafc"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1682406818,"creation_date":1274338087,"answer_id":2871547,"question_id":2871502,"body_markdown":"Classes can be unloaded if the `ClassLoader` loading them becomes unreachable: https://docs.oracle.com/javase/specs/jls/se17/html/jls-12.html#jls-12.7\r\n\r\n&gt; A class or interface may be unloaded if and only if its defining class loader may be reclaimed by the garbage collector as discussed in &#167;12.6. \r\n\r\nThen, if the class needs using again, it will obviously be loaded again. And in fact, several classloaders can load the same class separately, in parallell.","title":"Is there any way static block is executed more than once? if so then how?","body":"<p>Classes can be unloaded if the <code>ClassLoader</code> loading them becomes unreachable: <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-12.html#jls-12.7\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jls/se17/html/jls-12.html#jls-12.7</a></p>\n<blockquote>\n<p>A class or interface may be unloaded if and only if its defining class loader may be reclaimed by the garbage collector as discussed in §12.6.</p>\n</blockquote>\n<p>Then, if the class needs using again, it will obviously be loaded again. And in fact, several classloaders can load the same class separately, in parallell.</p>\n"},{"comments":[{"owner":{"account_id":1123316,"reputation":6969,"user_id":1111130,"accept_rate":65,"display_name":"Sunny Gupta"},"score":3,"creation_date":1337612904,"post_id":2873021,"comment_id":13871522,"body_markdown":"Compiler will club these two static blocks into one.","body":"Compiler will club these two static blocks into one."}],"tags":[],"owner":{"account_id":139984,"reputation":31,"user_id":345960,"display_name":"prabhudev mathapati"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1276018637,"creation_date":1274352947,"answer_id":2873021,"question_id":2871502,"body_markdown":"Static block is executed ONE AND ONLY ONCE per classloader when the class is gets loaded.\r\nThe sequence of static block execution as per its occurance, see the sample code below and its output.\r\nStatic code is at class level and not at instance level per ClassLoader instantiating this class.\r\nNote: For brevity, I had not invoked method and its output here.\r\n\r\npublic class StaticTest {\r\n\r\n    \r\n     // 1st Static block invoked first.\r\n    static{\r\n        System.out.println(&quot;hello...1&quot;);\r\n    }\r\n\r\n    // 2nd Static block, invoked after 1st static block above.\r\n    static{\r\n        System.out.println(&quot;hello...2&quot;);\r\n    }\r\n\r\n\r\n    public static void Staticmeth() {\r\n         System.out.println(&quot;hello...3&quot;);\r\n    }\r\n    \r\n    public static void main(String ag[]){\r\n        \r\n    }\r\n}\r\n\r\noutput of program:-\r\n\r\nhello...1\r\n\r\nhello...2\r\n\r\n","title":"Is there any way static block is executed more than once? if so then how?","body":"<p>Static block is executed ONE AND ONLY ONCE per classloader when the class is gets loaded.\nThe sequence of static block execution as per its occurance, see the sample code below and its output.\nStatic code is at class level and not at instance level per ClassLoader instantiating this class.\nNote: For brevity, I had not invoked method and its output here.</p>\n\n<p>public class StaticTest {</p>\n\n<pre><code> // 1st Static block invoked first.\nstatic{\n    System.out.println(\"hello...1\");\n}\n\n// 2nd Static block, invoked after 1st static block above.\nstatic{\n    System.out.println(\"hello...2\");\n}\n\n\npublic static void Staticmeth() {\n     System.out.println(\"hello...3\");\n}\n\npublic static void main(String ag[]){\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>output of program:-</p>\n\n<p>hello...1</p>\n\n<p>hello...2</p>\n"},{"tags":[],"owner":{"account_id":48020,"reputation":33723,"user_id":142446,"display_name":"Brett Kail"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1274422071,"creation_date":1274422071,"answer_id":2879893,"question_id":2871502,"body_markdown":"Andrzej Doyle answered your specific question.  However:\r\n\r\n&gt; My Understanding Static block is\r\n&gt; executed during class loading\r\n\r\nTo be clear, *loading* and *initialization* are distinct phases; a class can be loaded without being initialized.  The [Java Virtual Machine Specification][1] specifies the three conditions that will cause a class to be initialized: an instance is created, a static method is invoked, or a non-constant static field is used or assigned.\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/jvms/second_edition/html/Concepts.doc.html#19075","title":"Is there any way static block is executed more than once? if so then how?","body":"<p>Andrzej Doyle answered your specific question.  However:</p>\n\n<blockquote>\n  <p>My Understanding Static block is\n  executed during class loading</p>\n</blockquote>\n\n<p>To be clear, <em>loading</em> and <em>initialization</em> are distinct phases; a class can be loaded without being initialized.  The <a href=\"http://java.sun.com/docs/books/jvms/second_edition/html/Concepts.doc.html#19075\" rel=\"nofollow noreferrer\">Java Virtual Machine Specification</a> specifies the three conditions that will cause a class to be initialized: an instance is created, a static method is invoked, or a non-constant static field is used or assigned.</p>\n"}],"owner":{"account_id":129315,"reputation":625,"user_id":327813,"accept_rate":56,"display_name":"learner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7049,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":6,"score":8,"last_activity_date":1682406818,"creation_date":1274337550,"question_id":2871502,"body_markdown":"My Understanding\r\nStatic block is executed during class loading, If a class is already loaded then there is no way to load the class other than class reloading\r\n\r\nDoubt/Question\r\n1) Is there any time JVM reloads the class? \r\n\r\nMy Understanding\r\nIn Class Loading JVM loads bytecode of the Java file, so it can not keep all thousands classes bytecode in memory, so it might be discarding the rarely used code and reloading it again when it is necessary and during reload JVM is not initializing static variables and blocks again(may be using some tracking mechanism)\r\n\r\nDoubt/Question  \r\n2) If my above understanding is incorrect then please correct me\r\n\r\n","title":"Is there any way static block is executed more than once? if so then how?","body":"<p>My Understanding\nStatic block is executed during class loading, If a class is already loaded then there is no way to load the class other than class reloading</p>\n\n<p>Doubt/Question\n1) Is there any time JVM reloads the class? </p>\n\n<p>My Understanding\nIn Class Loading JVM loads bytecode of the Java file, so it can not keep all thousands classes bytecode in memory, so it might be discarding the rarely used code and reloading it again when it is necessary and during reload JVM is not initializing static variables and blocks again(may be using some tracking mechanism)</p>\n\n<p>Doubt/Question<br>\n2) If my above understanding is incorrect then please correct me</p>\n"},{"tags":["java","spring","spring-boot","spring-restdocs"],"comments":[{"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"score":0,"creation_date":1649775157,"post_id":71844508,"comment_id":126958504,"body_markdown":"I think you want to generate java docs like these\nhttps://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/context/properties/ConfigurationProperties.html\n\nplz correct me if wrong","body":"I think you want to generate java docs like these <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/context/properties/ConfigurationProperties.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/api/org/springframew&zwnj;&#8203;ork/&hellip;</a>  plz correct me if wrong"},{"owner":{"account_id":6155088,"reputation":226,"user_id":4798347,"display_name":"Zephyr"},"score":0,"creation_date":1649775301,"post_id":71844508,"comment_id":126958574,"body_markdown":"I think they&#39;re more looking for documentation like this: https://docs.spring.io/spring-boot/docs/2.6.6/reference/html/application-properties.html#appendix.application-properties","body":"I think they&#39;re more looking for documentation like this: <a href=\"https://docs.spring.io/spring-boot/docs/2.6.6/reference/html/application-properties.html#appendix.application-properties\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/2.6.6/reference/html/&hellip;</a>"},{"owner":{"account_id":5156292,"reputation":341,"user_id":4129450,"accept_rate":0,"display_name":"Luca"},"score":0,"creation_date":1649778005,"post_id":71844508,"comment_id":126959711,"body_markdown":"Yes, I was thinking to something more like to what say Zephyr","body":"Yes, I was thinking to something more like to what say Zephyr"}],"answers":[{"tags":[],"owner":{"account_id":24762987,"reputation":60,"user_id":18647144,"display_name":"James S"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649775281,"creation_date":1649775281,"answer_id":71844876,"question_id":71844508,"body_markdown":"The Spring Boot Actuator will show your properties but the default output is JSON. You should be able to add custom code to produce the output you want.","title":"Spring boot document configuration properties","body":"<p>The Spring Boot Actuator will show your properties but the default output is JSON. You should be able to add custom code to produce the output you want.</p>\n"},{"tags":[],"owner":{"account_id":11950526,"reputation":53,"user_id":8744317,"display_name":"N&#225;ndor Holozsny&#225;k"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682406633,"creation_date":1682406633,"answer_id":76098461,"question_id":71844508,"body_markdown":"A few months ago this project was created and this is what you are looking forward, it can generate AsciiDoc, Markdown, HTML or XML documentation from your spring-configuration-metadata.json that is being built by the `spring-boot-configuration-processor dependency.\r\n\r\nGive it a try, it has Maven and Gradle plugin as well, feel free to open issues if you encounter some bugs :)\r\n\r\nhttps://github.com/rodnansol/spring-configuration-property-documenter","title":"Spring boot document configuration properties","body":"<p>A few months ago this project was created and this is what you are looking forward, it can generate AsciiDoc, Markdown, HTML or XML documentation from your spring-configuration-metadata.json that is being built by the `spring-boot-configuration-processor dependency.</p>\n<p>Give it a try, it has Maven and Gradle plugin as well, feel free to open issues if you encounter some bugs :)</p>\n<p><a href=\"https://github.com/rodnansol/spring-configuration-property-documenter\" rel=\"nofollow noreferrer\">https://github.com/rodnansol/spring-configuration-property-documenter</a></p>\n"}],"owner":{"account_id":5156292,"reputation":341,"user_id":4129450,"accept_rate":0,"display_name":"Luca"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":438,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1682406633,"creation_date":1649773837,"question_id":71844508,"body_markdown":"I&#39;m trying to automatically document my configuration properties in order to create a html like the one on spring boot appendix for it&#39;s configuration.\r\nI see that I can enable configuration metadata here\r\nhttps://docs.spring.io/spring-boot/docs/2.6.6/reference/html/configuration-metadata.html\r\nbut what i want is to create a html page like we can do with spring rest docs for the api. \r\nIs there a way to achieve this using spring or have I to do it manually (maybe starting from the metadata)?","title":"Spring boot document configuration properties","body":"<p>I'm trying to automatically document my configuration properties in order to create a html like the one on spring boot appendix for it's configuration.\nI see that I can enable configuration metadata here\n<a href=\"https://docs.spring.io/spring-boot/docs/2.6.6/reference/html/configuration-metadata.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/2.6.6/reference/html/configuration-metadata.html</a>\nbut what i want is to create a html page like we can do with spring rest docs for the api.\nIs there a way to achieve this using spring or have I to do it manually (maybe starting from the metadata)?</p>\n"},{"tags":["java","change-password","sap-basis","bapi","jco"],"comments":[{"owner":{"account_id":1838761,"reputation":5041,"user_id":1779281,"accept_rate":87,"display_name":"Eduardo Copat"},"score":0,"creation_date":1395429467,"post_id":22530044,"comment_id":34350791,"body_markdown":"possible duplicate of [how to reset password in SAP using BAPI\\_USER\\_CHANGE?](http://stackoverflow.com/questions/22532803/how-to-reset-password-in-sap-using-bapi-user-change)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/22532803/how-to-reset-password-in-sap-using-bapi-user-change\">how to reset password in SAP using BAPI_USER_CHANGE?</a>"},{"owner":{"account_id":323466,"reputation":14771,"user_id":643500,"display_name":"Sully"},"score":0,"creation_date":1395650497,"post_id":22530044,"comment_id":34416900,"body_markdown":"You have asked the same question twice.  Please, delete the other question.","body":"You have asked the same question twice.  Please, delete the other question."}],"answers":[{"tags":[],"owner":{"account_id":1315737,"reputation":916,"user_id":1262667,"accept_rate":94,"display_name":"WiredCoder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1395313024,"creation_date":1395313024,"answer_id":22530782,"question_id":22530044,"body_markdown":"Try using BAPIPWD or PASSWORD-BAPIPWD instead of PASSWORD, and just in case make sure the password is all caps","title":"how to reset password in SAP system using BAPI?","body":"<p>Try using BAPIPWD or PASSWORD-BAPIPWD instead of PASSWORD, and just in case make sure the password is all caps</p>\n"},{"tags":[],"owner":{"account_id":76469,"reputation":18423,"user_id":218890,"accept_rate":64,"display_name":"vwegert"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1395314549,"creation_date":1395314549,"answer_id":22531424,"question_id":22530044,"body_markdown":"The parameter `PASSWORD` is typed as `BAPIPWD` which is a structure what in turn contains only a single field named `BAPIPWD`. Therefore, you need to access the structure approximately like this:\r\n\r\n    JCO.Structure sPassword = userChangeInput.getStructure(&quot;PASSWORD&quot;);\r\n    sPassword.setValue(newPassword, &quot;BAPIPWD&quot;);","title":"how to reset password in SAP system using BAPI?","body":"<p>The parameter <code>PASSWORD</code> is typed as <code>BAPIPWD</code> which is a structure what in turn contains only a single field named <code>BAPIPWD</code>. Therefore, you need to access the structure approximately like this:</p>\n\n<pre><code>JCO.Structure sPassword = userChangeInput.getStructure(\"PASSWORD\");\nsPassword.setValue(newPassword, \"BAPIPWD\");\n</code></pre>\n"}],"owner":{"account_id":3188752,"reputation":79,"user_id":2693636,"display_name":"MNW"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3512,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1682406258,"creation_date":1395311300,"question_id":22530044,"body_markdown":"I am trying to reset password for SAP system using BAPI but I am getting error\r\n&gt; password is not type of field input\r\n\r\nI am posting my code below.\r\n\r\n`getRandomString()` is a user-defined function.  I have copied this code from Internet and I am unaware about this.\r\n\r\n`String newPassword = getRandomString();` here it is giving error because `getRandomString()` is a user-defined function and I am unaware about this. \r\n\r\nIs there any role of this while resetting password or can I directly use `String newpassword=&quot; &quot;;`?\r\n\r\n    String newPassword = getRandomString();\r\n    \r\n    try{\r\n          JCO.Function bapiUserChange = repository.getFunctionTemplate(&quot;BAPI_USER_CHANGE&quot;).getFunction();\r\n          if(bapiUserChange != null){\r\n               JCO.ParameterList userChangeInput = bapiUserChange.getImportParameterList();\r\n               \r\n               JCO.Structure sPassword = userChangeInput.getStructure(&quot;PASSWORD&quot;);\r\n               \r\n               //sPassword.setValue(newPassword, ????) //what do I assign it to?\r\n               \r\n               userChangeInput.setValue(userId, &quot;USERNAME&quot;);\r\n               userChangeInput.setValue(newPassword, &quot;PASSWORD&quot;);  // this gives an error\r\n               userChangeInput.setValue(&quot;X&quot;,&quot;PASSWORDX&quot;); //I know &quot;X&quot; is true, this will give an error too I believe\r\n               \r\n               mConnection.execute(bapiUserChange);\r\n               \r\n               //send E-mail\r\n               boolean emailSent = sendEmail(userId, newPassword, &quot;XXX200&quot;);\r\n               msgMgr.reportSuccess(&quot;Password Reset Done&quot;);     \r\n               \r\n               if(mConnection != null){\r\n                    mConnection.disconnect();\r\n               }\r\n                         \r\n          }\r\n    }catch(Exception e){\r\n         msgMgr.reportException(&quot;Could not change password &quot; + e.getMessage(),true);\r\n    }\r\n\r\n---\r\n","title":"how to reset password in SAP system using BAPI?","body":"<p>I am trying to reset password for SAP system using BAPI but I am getting error</p>\n<blockquote>\n<p>password is not type of field input</p>\n</blockquote>\n<p>I am posting my code below.</p>\n<p><code>getRandomString()</code> is a user-defined function.  I have copied this code from Internet and I am unaware about this.</p>\n<p><code>String newPassword = getRandomString();</code> here it is giving error because <code>getRandomString()</code> is a user-defined function and I am unaware about this.</p>\n<p>Is there any role of this while resetting password or can I directly use <code>String newpassword=&quot; &quot;;</code>?</p>\n<pre><code>String newPassword = getRandomString();\n\ntry{\n      JCO.Function bapiUserChange = repository.getFunctionTemplate(&quot;BAPI_USER_CHANGE&quot;).getFunction();\n      if(bapiUserChange != null){\n           JCO.ParameterList userChangeInput = bapiUserChange.getImportParameterList();\n           \n           JCO.Structure sPassword = userChangeInput.getStructure(&quot;PASSWORD&quot;);\n           \n           //sPassword.setValue(newPassword, ????) //what do I assign it to?\n           \n           userChangeInput.setValue(userId, &quot;USERNAME&quot;);\n           userChangeInput.setValue(newPassword, &quot;PASSWORD&quot;);  // this gives an error\n           userChangeInput.setValue(&quot;X&quot;,&quot;PASSWORDX&quot;); //I know &quot;X&quot; is true, this will give an error too I believe\n           \n           mConnection.execute(bapiUserChange);\n           \n           //send E-mail\n           boolean emailSent = sendEmail(userId, newPassword, &quot;XXX200&quot;);\n           msgMgr.reportSuccess(&quot;Password Reset Done&quot;);     \n           \n           if(mConnection != null){\n                mConnection.disconnect();\n           }\n                     \n      }\n}catch(Exception e){\n     msgMgr.reportException(&quot;Could not change password &quot; + e.getMessage(),true);\n}\n</code></pre>\n<hr />\n"},{"tags":["java","prometheus","open-telemetry","otlp-grpc","otel"],"comments":[{"owner":{"account_id":3053597,"reputation":580,"user_id":2587704,"accept_rate":50,"display_name":"JackB"},"score":0,"creation_date":1682536164,"post_id":76098185,"comment_id":134233416,"body_markdown":"It sounds like you&#39;re using the otel java agent, but also maybe adding your own custom instrumentation. How are you configuring the SDK? You should use the env vars / system properties [documented here](https://github.com/open-telemetry/opentelemetry-java/tree/main/sdk-extensions/autoconfigure). Minimally, you&#39;ll want to configure `OTEL_SERVICE_NAME` and set `OTEL_EXPORTER_OTLP_ENDPOINT` to collector&#39;s OTLP endpoint. You&#39;ll also want to ensure that your custom instrumentation uses the same `OpenTelemetry` instance as the otel agent by calling `GlobalOpenTelemetry.get()`.","body":"It sounds like you&#39;re using the otel java agent, but also maybe adding your own custom instrumentation. How are you configuring the SDK? You should use the env vars / system properties <a href=\"https://github.com/open-telemetry/opentelemetry-java/tree/main/sdk-extensions/autoconfigure\" rel=\"nofollow noreferrer\">documented here</a>. Minimally, you&#39;ll want to configure <code>OTEL_SERVICE_NAME</code> and set <code>OTEL_EXPORTER_OTLP_ENDPOINT</code> to collector&#39;s OTLP endpoint. You&#39;ll also want to ensure that your custom instrumentation uses the same <code>OpenTelemetry</code> instance as the otel agent by calling <code>GlobalOpenTelemetry.get()</code>."}],"owner":{"account_id":28401522,"reputation":1,"user_id":21726275,"display_name":"Tanya Itoria"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":367,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682406157,"creation_date":1682404306,"question_id":76098185,"body_markdown":"I am using opentelemetry to send metrics to prometheus and I am using **otlp** exporter. But I am facing 2 issues there.\r\n\r\n1. Service name is coming as unknown_serive:java . \r\n\r\n2. jvm/auto-instrumented metrics are not coming.\r\n\r\nIf anyone can help here, it would be great. Thanks!\r\n\r\nFor fixing the service-name issue, I tried 3 solutions,\r\n1. I set **OTEL_SERVICE_NAME** variable in config map.\r\n2. I tried passing **-Dotel.service.name** but this is also not working.\r\n3. I tried passing **service.name** value in **OTEL_RESOURCE_ATTRIBUTES**, but that too doesn&#39;t work.\r\n\r\n\r\nFor jvm metrics, i set **-Dotel.javaagent.enabled=true**, but metrics still not coming.\r\n\r\n\r\nMy **otel-config.yaml** file is\r\n\r\n```\r\nexporters:\r\n    otlp:\r\n\t\tendpoint: some-endpoint\r\n        tls:\r\n        \tinsecure: true\r\n    prometheusremotewrite:\r\n        endpoint: some-endpoint\r\n        resource_to_telemetry_conversion:\r\n          \tenabled: true\r\n```","title":"JVM metrics and Service Name Issues with opentelemetry","body":"<p>I am using opentelemetry to send metrics to prometheus and I am using <strong>otlp</strong> exporter. But I am facing 2 issues there.</p>\n<ol>\n<li><p>Service name is coming as unknown_serive:java .</p>\n</li>\n<li><p>jvm/auto-instrumented metrics are not coming.</p>\n</li>\n</ol>\n<p>If anyone can help here, it would be great. Thanks!</p>\n<p>For fixing the service-name issue, I tried 3 solutions,</p>\n<ol>\n<li>I set <strong>OTEL_SERVICE_NAME</strong> variable in config map.</li>\n<li>I tried passing <strong>-Dotel.service.name</strong> but this is also not working.</li>\n<li>I tried passing <strong>service.name</strong> value in <strong>OTEL_RESOURCE_ATTRIBUTES</strong>, but that too doesn't work.</li>\n</ol>\n<p>For jvm metrics, i set <strong>-Dotel.javaagent.enabled=true</strong>, but metrics still not coming.</p>\n<p>My <strong>otel-config.yaml</strong> file is</p>\n<pre><code>exporters:\n    otlp:\n        endpoint: some-endpoint\n        tls:\n            insecure: true\n    prometheusremotewrite:\n        endpoint: some-endpoint\n        resource_to_telemetry_conversion:\n            enabled: true\n</code></pre>\n"},{"tags":["java","multithreading","stream","resttemplate","parallelstream"],"owner":{"account_id":11074628,"reputation":97,"user_id":8131752,"display_name":"b-user"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682405247,"creation_date":1682405247,"question_id":76098290,"body_markdown":"I am trying to build a list of responses from a list of entities (DB).\r\n\r\nTo construct my list of responses, I am using parallelStream and in the mapper, I am trying to call another microservice but the problem is that only one result is injected into my response instead of each item response in the list.\r\n\r\nUse case\r\n\r\n    companyPartnerships.parallelStream()\r\n                .map(partnershipItemMapper::toPartnershipItemResponse)\r\n                .collect(Collectors.toList());\r\n\r\nMapper\r\n\r\n    @Mapping(target = &quot;balance&quot;, source = &quot;.&quot;, qualifiedByName = &quot;injectBalanceToPartnershipItemResponse&quot;)\r\n    public abstract PartnershipItemResponse toPartnershipItemResponse(Partnership partnership);\r\n\r\n    @Named(&quot;injectBalanceToPartnershipItemResponse&quot;)\r\n    protected Long injectBalanceToPartnershipItemResponse(Partnership partnership) {\r\n        return partnershipMetricsProxy.getPartnershipMetricsFor(partnership.getId())\r\n            .map(PartnershipMetrics::getBalance)\r\n            .orElse(null);\r\n    }\r\n\r\nExample of response\r\n\r\n        {\r\n            &quot;id&quot;: 473,\r\n            &quot;balance&quot;: null\r\n        },\r\n        {\r\n            &quot;id&quot;: 617,\r\n            &quot;balance&quot;: 26122\r\n        },\r\n        {\r\n            &quot;id&quot;: 517,\r\n            &quot;balance&quot;: null\r\n        }","title":"ParallelStream and multiple calls in the mapper","body":"<p>I am trying to build a list of responses from a list of entities (DB).</p>\n<p>To construct my list of responses, I am using parallelStream and in the mapper, I am trying to call another microservice but the problem is that only one result is injected into my response instead of each item response in the list.</p>\n<p>Use case</p>\n<pre><code>companyPartnerships.parallelStream()\n            .map(partnershipItemMapper::toPartnershipItemResponse)\n            .collect(Collectors.toList());\n</code></pre>\n<p>Mapper</p>\n<pre><code>@Mapping(target = &quot;balance&quot;, source = &quot;.&quot;, qualifiedByName = &quot;injectBalanceToPartnershipItemResponse&quot;)\npublic abstract PartnershipItemResponse toPartnershipItemResponse(Partnership partnership);\n\n@Named(&quot;injectBalanceToPartnershipItemResponse&quot;)\nprotected Long injectBalanceToPartnershipItemResponse(Partnership partnership) {\n    return partnershipMetricsProxy.getPartnershipMetricsFor(partnership.getId())\n        .map(PartnershipMetrics::getBalance)\n        .orElse(null);\n}\n</code></pre>\n<p>Example of response</p>\n<pre><code>    {\n        &quot;id&quot;: 473,\n        &quot;balance&quot;: null\n    },\n    {\n        &quot;id&quot;: 617,\n        &quot;balance&quot;: 26122\n    },\n    {\n        &quot;id&quot;: 517,\n        &quot;balance&quot;: null\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","rest","spring-boot-starter"],"answers":[{"tags":[],"owner":{"account_id":14226667,"reputation":523,"user_id":10277150,"display_name":"gurkan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682404515,"creation_date":1682404108,"answer_id":76098159,"question_id":76098035,"body_markdown":"This will work:\r\n\r\n    @RestController\r\n    @RequestMapping\r\n    public class MyController {\r\n    \r\n      @GetMapping(&quot;/{employee-id}&quot;)\r\n      public ResponseEntity getEmployeeDetails(@PathVariable(name = &quot;employee-id&quot;) int empId,\r\n          @RequestBody(required = false) Object requestBody) {\r\n        if (requestBody != null) {\r\n          throw new RuntimeException(&quot;Request body is not empty&quot;);\r\n        }\r\n        return ResponseEntity.ok(empId);\r\n      }\r\n    \r\n    }\r\n\r\nex:\r\n\r\n    curl --location --request GET &#39;http://localhost:8080/2&#39; \\\r\n    --header &#39;Content-Type: application/json&#39; \\\r\n    --data-raw &#39;{\r\n        &quot;name&quot;: &quot;grkn&quot;\r\n    }&#39;\r\n\r\n\r\n    {\r\n        &quot;timestamp&quot;: &quot;2023-04-25T06:35:02.132+00:00&quot;,\r\n        &quot;status&quot;: 500,\r\n        &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n        &quot;path&quot;: &quot;/2&quot;\r\n    }\r\n\r\n    2023-04-25T09:35:02.125+03:00 ERROR 23340 --- [nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.RuntimeException: Request body is not empty] with root cause\r\n    \r\n    java.lang.RuntimeException: Request body is not empty\r\n    \tat com.example.testspringboot.HelloController.getEmployeeDetails(HelloController.java:18) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    .......","title":"how to block API from accepting the unknow request body when it is not needed","body":"<p>This will work:</p>\n<pre><code>@RestController\n@RequestMapping\npublic class MyController {\n\n  @GetMapping(&quot;/{employee-id}&quot;)\n  public ResponseEntity getEmployeeDetails(@PathVariable(name = &quot;employee-id&quot;) int empId,\n      @RequestBody(required = false) Object requestBody) {\n    if (requestBody != null) {\n      throw new RuntimeException(&quot;Request body is not empty&quot;);\n    }\n    return ResponseEntity.ok(empId);\n  }\n\n}\n</code></pre>\n<p>ex:</p>\n<pre><code>curl --location --request GET 'http://localhost:8080/2' \\\n--header 'Content-Type: application/json' \\\n--data-raw '{\n    &quot;name&quot;: &quot;grkn&quot;\n}'\n\n\n{\n    &quot;timestamp&quot;: &quot;2023-04-25T06:35:02.132+00:00&quot;,\n    &quot;status&quot;: 500,\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\n    &quot;path&quot;: &quot;/2&quot;\n}\n\n2023-04-25T09:35:02.125+03:00 ERROR 23340 --- [nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.RuntimeException: Request body is not empty] with root cause\n\njava.lang.RuntimeException: Request body is not empty\n    at com.example.testspringboot.HelloController.getEmployeeDetails(HelloController.java:18) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n.......\n</code></pre>\n"}],"owner":{"account_id":14726577,"reputation":43,"user_id":10635302,"display_name":"Vedha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76098159,"answer_count":1,"score":0,"last_activity_date":1682404515,"creation_date":1682402700,"question_id":76098035,"body_markdown":"I have an API which returns the details of the employee based on the employee ID that is sent as a path parameter. \r\n\r\nhttp://localhost:8080/emplyee/155 \r\n\r\nin the above url 155 is the employee ID and the API would return the details the employee whose ID is 155. \r\n\r\nBelow is from my controller file. \r\n\r\n```\r\n@GET\r\n@produces({MediaType.APPLICATION_JSON})\r\n@path(&quot;/{employee-id})\r\npublic Response getEmployeeDetails(@pathparam(employee-id) int empId);\r\n```\r\n\r\nThe problem is this API is fetching the employee details even though any request body is sent along with the pathparam. So, how to block or send 400 bad request when an unnecessary request body is sent for this API as it is not needed and will not be used in the API logic? \r\n\r\nbelow is the example for which I want the API to respond 400 error.\r\n\r\n```\r\nURI - http://localhost:8080/emplyee/155\r\n\r\nRequest - {&quot;name&quot;:&quot;hello&quot;,&quot;position&quot;:&quot;tech&quot;}\r\n\r\nRespone - 200 OK and employee details of ID 155\r\n```\r\n","title":"how to block API from accepting the unknow request body when it is not needed","body":"<p>I have an API which returns the details of the employee based on the employee ID that is sent as a path parameter.</p>\n<p>http://localhost:8080/emplyee/155</p>\n<p>in the above url 155 is the employee ID and the API would return the details the employee whose ID is 155.</p>\n<p>Below is from my controller file.</p>\n<pre><code>@GET\n@produces({MediaType.APPLICATION_JSON})\n@path(&quot;/{employee-id})\npublic Response getEmployeeDetails(@pathparam(employee-id) int empId);\n</code></pre>\n<p>The problem is this API is fetching the employee details even though any request body is sent along with the pathparam. So, how to block or send 400 bad request when an unnecessary request body is sent for this API as it is not needed and will not be used in the API logic?</p>\n<p>below is the example for which I want the API to respond 400 error.</p>\n<pre><code>URI - http://localhost:8080/emplyee/155\n\nRequest - {&quot;name&quot;:&quot;hello&quot;,&quot;position&quot;:&quot;tech&quot;}\n\nRespone - 200 OK and employee details of ID 155\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1682350652,"post_id":76093621,"comment_id":134197514,"body_markdown":"just pass it as a lambda?","body":"just pass it as a lambda?"}],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682404280,"creation_date":1682360000,"answer_id":76094892,"question_id":76093621,"body_markdown":"Firstly, if you have a builder that keeps using the same parameters, you should consider creating a constructor there. This will allow you to do something like this:\r\n\r\n    results = new PartResultDto(s.getIdentifier(), results)\r\n\r\nThen, I would avoid code blocks inside the stream pipeline, so, in your example, I would break the map into 2 different map methods: firstly to call `retrieveSimilarParts`, and, after that, to create the dto (this will allow you to move the filter between the two, resulting a a much more clear code - imo):\r\n\r\n    search.stream()\r\n    \t.map(s -&gt; retrieveSimilarParts(similarParts, s.getVdi4081())\r\n    \t.filter(results -&gt; !CollectionUtils.isNullOrEmpty(results))\r\n    \t.map(results -&gt; new PartResultDto(s.getIdentifier(), results))\r\n    \t.collect(Collectors.toList());\r\n\r\nLastly, you can replace the filter with a method reference, the not predicate for the filter, and perhaps the `.toList` instead of the collector\r\n\r\n    search.stream()\r\n    \t.map(s -&gt; retrieveSimilarParts(similarParts, s.getVdi4081())\r\n    \t.filter(not(CollectionUtils::isNullOrEmpty))\r\n    \t.map(results -&gt; new PartResultDto(s.getIdentifier(), results))\r\n    \t.toList();:\r\n\r\n\r\n\r\n","title":"Sugestion about clean code with builder java","body":"<p>Firstly, if you have a builder that keeps using the same parameters, you should consider creating a constructor there. This will allow you to do something like this:</p>\n<pre><code>results = new PartResultDto(s.getIdentifier(), results)\n</code></pre>\n<p>Then, I would avoid code blocks inside the stream pipeline, so, in your example, I would break the map into 2 different map methods: firstly to call <code>retrieveSimilarParts</code>, and, after that, to create the dto (this will allow you to move the filter between the two, resulting a a much more clear code - imo):</p>\n<pre><code>search.stream()\n    .map(s -&gt; retrieveSimilarParts(similarParts, s.getVdi4081())\n    .filter(results -&gt; !CollectionUtils.isNullOrEmpty(results))\n    .map(results -&gt; new PartResultDto(s.getIdentifier(), results))\n    .collect(Collectors.toList());\n</code></pre>\n<p>Lastly, you can replace the filter with a method reference, the not predicate for the filter, and perhaps the <code>.toList</code> instead of the collector</p>\n<pre><code>search.stream()\n    .map(s -&gt; retrieveSimilarParts(similarParts, s.getVdi4081())\n    .filter(not(CollectionUtils::isNullOrEmpty))\n    .map(results -&gt; new PartResultDto(s.getIdentifier(), results))\n    .toList();:\n</code></pre>\n"}],"owner":{"account_id":22960907,"reputation":43,"user_id":17090789,"display_name":"Thomas124124"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76094892,"answer_count":1,"score":0,"last_activity_date":1682404280,"creation_date":1682350504,"question_id":76093621,"body_markdown":"I&#39;ve got two similar parts of code and they only invoke different method of builder:\r\n\r\n``` \r\nreturn search.stream().map(s -&gt; {\r\n            List&lt;PartDto&gt; results = retrieveSimilarParts(extendedSimilarParts, s.getVdi4081());\r\n\r\n            return CollectionUtils.isNullOrEmpty(results) ? null : PartResultDto.builder()\r\n                    .identifier(s.getIdentifier())\r\n                    .extendedSimilarParts(results).build();\r\n        }).filter(Objects::nonNull).collect(Collectors.toList());\r\n\r\n```\r\n\r\n```\r\nreturn search.stream().map(s -&gt; {\r\n                List&lt;PartDto&gt; results = retrieveSimilarParts(similarParts, s.getVdi4081());\r\n\r\n                return CollectionUtils.isNullOrEmpty(results) ? null : PartResultDto.builder()\r\n                        .identifier(s.getIdentifier())\r\n                        .similarParts(results).build();\r\n            }).filter(Objects::nonNull).collect(Collectors.toList());\r\n```\r\n\r\nThe only difference is invoking: \r\nextendedSimilarParts\r\nsimilarParts\r\nHow could I extract clean method? \r\n\r\n","title":"Sugestion about clean code with builder java","body":"<p>I've got two similar parts of code and they only invoke different method of builder:</p>\n<pre><code>return search.stream().map(s -&gt; {\n            List&lt;PartDto&gt; results = retrieveSimilarParts(extendedSimilarParts, s.getVdi4081());\n\n            return CollectionUtils.isNullOrEmpty(results) ? null : PartResultDto.builder()\n                    .identifier(s.getIdentifier())\n                    .extendedSimilarParts(results).build();\n        }).filter(Objects::nonNull).collect(Collectors.toList());\n\n</code></pre>\n<pre><code>return search.stream().map(s -&gt; {\n                List&lt;PartDto&gt; results = retrieveSimilarParts(similarParts, s.getVdi4081());\n\n                return CollectionUtils.isNullOrEmpty(results) ? null : PartResultDto.builder()\n                        .identifier(s.getIdentifier())\n                        .similarParts(results).build();\n            }).filter(Objects::nonNull).collect(Collectors.toList());\n</code></pre>\n<p>The only difference is invoking:\nextendedSimilarParts\nsimilarParts\nHow could I extract clean method?</p>\n"},{"tags":["java","email","dns","jakarta-mail"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1301473016,"post_id":5483706,"comment_id":6219251,"body_markdown":"Which version of javamail are you using?","body":"Which version of javamail are you using?"},{"owner":{"account_id":301489,"reputation":54254,"user_id":609251,"accept_rate":82,"display_name":"aroth"},"score":1,"creation_date":1301473136,"post_id":5483706,"comment_id":6219271,"body_markdown":"Maybe this is a stupid idea, but what happens if you URLEncode the domain name?","body":"Maybe this is a stupid idea, but what happens if you URLEncode the domain name?"},{"owner":{"account_id":301489,"reputation":54254,"user_id":609251,"accept_rate":82,"display_name":"aroth"},"score":0,"creation_date":1301473216,"post_id":5483706,"comment_id":6219289,"body_markdown":"Or failing that, maybe subclass `InternetAddress` and override the constructor and the `validate()` function to do what you want?","body":"Or failing that, maybe subclass <code>InternetAddress</code> and override the constructor and the <code>validate()</code> function to do what you want?"}],"answers":[{"comments":[{"owner":{"account_id":348683,"reputation":133,"user_id":683516,"display_name":"Allan"},"score":2,"creation_date":1301485425,"post_id":5483915,"comment_id":6222053,"body_markdown":"Thanks. I&#39;m using the java.net.IDN.toASCII() to do this.","body":"Thanks. I&#39;m using the java.net.IDN.toASCII() to do this."},{"owner":{"account_id":348683,"reputation":133,"user_id":683516,"display_name":"Allan"},"score":0,"creation_date":1301486675,"post_id":5483915,"comment_id":6222337,"body_markdown":"Should the rules be applied to the domain part only or to the entire email address?","body":"Should the rules be applied to the domain part only or to the entire email address?"},{"owner":{"account_id":15903,"reputation":323443,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":0,"creation_date":1301572065,"post_id":5483915,"comment_id":6240389,"body_markdown":"Interesting question; the RFC says &quot;the part to the right of the `@`&quot; but I can&#39;t see if that means that you&#39;re not allowed to use unicode in the name part or that this would be ignored. My gut feeling says: Only ASCII in email addresses, so you should probably encode both. Maybe this helps but it&#39;s still a draft: http://tools.ietf.org/html/draft-teint-xidna-email-00","body":"Interesting question; the RFC says &quot;the part to the right of the <code>@</code>&quot; but I can&#39;t see if that means that you&#39;re not allowed to use unicode in the name part or that this would be ignored. My gut feeling says: Only ASCII in email addresses, so you should probably encode both. Maybe this helps but it&#39;s still a draft: <a href=\"http://tools.ietf.org/html/draft-teint-xidna-email-00\" rel=\"nofollow noreferrer\">tools.ietf.org/html/draft-teint-xidna-email-00</a>"}],"tags":[],"owner":{"account_id":15903,"reputation":323443,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1301474090,"creation_date":1301474090,"answer_id":5483915,"question_id":5483706,"body_markdown":"Java Mail doesn&#39;t support i18n domain names, so you must use the standard rules to escape them using [the IDNA rules][1].\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Internationalized_domain_name","title":"JavaMail: &quot;Domain contains control or whitespace in string&quot; errormessage because of domain with Danish characters","body":"<p>Java Mail doesn't support i18n domain names, so you must use the standard rules to escape them using <a href=\"http://en.wikipedia.org/wiki/Internationalized_domain_name\" rel=\"nofollow\">the IDNA rules</a>.</p>\n"},{"tags":[],"owner":{"account_id":1327968,"reputation":61,"user_id":1272408,"display_name":"felix"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1333913593,"creation_date":1333913593,"answer_id":10065795,"question_id":5483706,"body_markdown":"Currently mail servers generally don&#39;t accept non-ASCII characters in the local part, only the domain part (following the &#39;@&#39; sign) is supported with IDN.\r\n\r\nTo encode only the domain part with the java.net.IDN class, i use the following Util.\r\n\r\n(Code not tested in production, but it should work)\r\n\r\n    import java.net.IDN;\r\n    \r\n    \r\n    public class IDNMailHelper {\r\n    \r\n        public static String toIdnAddress(String mail) {\r\n            if (mail == null) {\r\n                return null;\r\n            }\r\n            int idx = mail.indexOf(&#39;@&#39;);\r\n            if (idx &lt; 0) {\r\n                return mail;\r\n            }\r\n            return localPart(mail, idx) + &quot;@&quot; + IDN.toASCII(domain(mail, idx));\r\n        }\r\n    \r\n        private static String localPart(String mail, int idx) {\r\n            return mail.substring(0, idx);\r\n        }\r\n    \r\n        private static String domain(String mail, int idx) {\r\n            return mail.substring(idx + 1);\r\n        }\r\n    \r\n    }\r\n","title":"JavaMail: &quot;Domain contains control or whitespace in string&quot; errormessage because of domain with Danish characters","body":"<p>Currently mail servers generally don't accept non-ASCII characters in the local part, only the domain part (following the '@' sign) is supported with IDN.</p>\n\n<p>To encode only the domain part with the java.net.IDN class, i use the following Util.</p>\n\n<p>(Code not tested in production, but it should work)</p>\n\n<pre><code>import java.net.IDN;\n\n\npublic class IDNMailHelper {\n\n    public static String toIdnAddress(String mail) {\n        if (mail == null) {\n            return null;\n        }\n        int idx = mail.indexOf('@');\n        if (idx &lt; 0) {\n            return mail;\n        }\n        return localPart(mail, idx) + \"@\" + IDN.toASCII(domain(mail, idx));\n    }\n\n    private static String localPart(String mail, int idx) {\n        return mail.substring(0, idx);\n    }\n\n    private static String domain(String mail, int idx) {\n        return mail.substring(idx + 1);\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1059620,"reputation":987,"user_id":1061519,"accept_rate":83,"display_name":"Georg"},"score":0,"creation_date":1372062686,"post_id":10066006,"comment_id":25036058,"body_markdown":"Which JDK? Here only the first runs. And of course the contract of `toString()` to only return ASCII isn&#39;t honored.","body":"Which JDK? Here only the first runs. And of course the contract of <code>toString()</code> to only return ASCII isn&#39;t honored."}],"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1333915107,"creation_date":1333915107,"answer_id":10066006,"question_id":5483706,"body_markdown":"I did run it with Java 7, javax.mail 1.4 (from Maven repository).\r\nAnd there *it worked*.\r\n\r\nThe java source encoding was UTF-8. The operating system was Linux.\r\nOr the cause might be that you are using a jee jar. \r\n\r\n    -------------------------------------------------------\r\n     T E S T S\r\n    -------------------------------------------------------\r\n    Running jeggen.test2.AppTest\r\n    test@test&#230;xample12345123.com\r\n    test@test&#230;xample12345123.com\r\n    test@test&#230;xample12345123.com\r\n    Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.039 sec\r\n\r\n    Results :\r\n\r\n    Tests run: 4, Failures: 0, Errors: 0, Skipped: 0\r\n","title":"JavaMail: &quot;Domain contains control or whitespace in string&quot; errormessage because of domain with Danish characters","body":"<p>I did run it with Java 7, javax.mail 1.4 (from Maven repository).\nAnd there <em>it worked</em>.</p>\n\n<p>The java source encoding was UTF-8. The operating system was Linux.\nOr the cause might be that you are using a jee jar. </p>\n\n<pre><code>-------------------------------------------------------\n T E S T S\n-------------------------------------------------------\nRunning jeggen.test2.AppTest\ntest@testæxample12345123.com\ntest@testæxample12345123.com\ntest@testæxample12345123.com\nTests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.039 sec\n\nResults :\n\nTests run: 4, Failures: 0, Errors: 0, Skipped: 0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":321204,"reputation":19987,"user_id":639891,"accept_rate":91,"display_name":"Dungeon Hunter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488882398,"creation_date":1488882398,"answer_id":42645751,"question_id":5483706,"body_markdown":"Java Mail 1.6 supports Internationalized Email Addresses. \r\n\r\nhttps://java.net/projects/javamail/forums/forum/topics/81613-Does-JavaMail-support-Internationalized-Domain-Names-IDN- \r\n\r\n\r\nIt&#39;s still in development you can try out with the snapshot release. Also add the JVM argument \r\n\r\n    -Dmail.mime.allowutf8=true ","title":"JavaMail: &quot;Domain contains control or whitespace in string&quot; errormessage because of domain with Danish characters","body":"<p>Java Mail 1.6 supports Internationalized Email Addresses. </p>\n\n<p><a href=\"https://java.net/projects/javamail/forums/forum/topics/81613-Does-JavaMail-support-Internationalized-Domain-Names-IDN-\" rel=\"nofollow noreferrer\">https://java.net/projects/javamail/forums/forum/topics/81613-Does-JavaMail-support-Internationalized-Domain-Names-IDN-</a> </p>\n\n<p>It's still in development you can try out with the snapshot release. Also add the JVM argument </p>\n\n<pre><code>-Dmail.mime.allowutf8=true \n</code></pre>\n"},{"tags":[],"owner":{"account_id":14403953,"reputation":1,"user_id":10404657,"display_name":"Harish Ladi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682404023,"creation_date":1682059474,"answer_id":76070560,"question_id":5483706,"body_markdown":"In My case, I missed the Comma separator in between the mails list. \r\n\r\n    message.addRecipients(Message.RecipientType.CC,\r\n    \t\t\t\t\tInternetAddress.parse(emailConfigs.getProperty(ReportConstants.CC_MAIL_IDS)));\r\n\r\n**In the properties file:** \r\ncc: mail1@domine.com, mail2@domine.com mail3@domine.com\r\n\r\nIf you observe in between mail2 and mail3 I missed the comma separator. I just added that and it is resolved. More of this issue will come when we miss some standard format.\r\n","title":"JavaMail: &quot;Domain contains control or whitespace in string&quot; errormessage because of domain with Danish characters","body":"<p>In My case, I missed the Comma separator in between the mails list.</p>\n<pre><code>message.addRecipients(Message.RecipientType.CC,\n                    InternetAddress.parse(emailConfigs.getProperty(ReportConstants.CC_MAIL_IDS)));\n</code></pre>\n<p><strong>In the properties file:</strong>\ncc: mail1@domine.com, mail2@domine.com mail3@domine.com</p>\n<p>If you observe in between mail2 and mail3 I missed the comma separator. I just added that and it is resolved. More of this issue will come when we miss some standard format.</p>\n"}],"owner":{"account_id":348683,"reputation":133,"user_id":683516,"display_name":"Allan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26211,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":5483915,"answer_count":5,"score":13,"last_activity_date":1682404023,"creation_date":1301472905,"question_id":5483706,"body_markdown":"Domains with special danish characters such as &#230; &#248; &#229; are now allowed, but I can&#39;t force java mail to accept this.\r\n\r\n    \t@Test()\r\n\tpublic void testMailAddressWithDanishCharacters1() throws AddressException, UnsupportedEncodingException {\r\n\t\tInternetAddress cAddress = new InternetAddress( &quot;test@test&#230;xample12345123.com&quot;, null, &quot;utf-8&quot; );\r\n\t\tSystem.out.println( cAddress.toString() );\r\n\t\tcAddress.validate();\r\n\t}\r\n\t\r\n\t@Test()\r\n\tpublic void testMailAddressWithDanishCharacters2() throws AddressException, UnsupportedEncodingException {\r\n\t\tInternetAddress cAddress = new InternetAddress( &quot;test@test&#230;xample12345123.com&quot;, false );\r\n\t\tSystem.out.println( cAddress.toString() );\r\n\t\tcAddress.validate();\r\n\t}\r\n\r\n\t@Test()\r\n\tpublic void testMailAddressWithDanishCharacters3() throws AddressException, UnsupportedEncodingException {\r\n\t\tInternetAddress cAddress = new InternetAddress( &quot;test@test&#230;xample12345123.com&quot;, true );\r\n\t\tSystem.out.println( cAddress.toString() );\r\n\t\tcAddress.validate();\r\n\t}\r\n\r\nAll of the tests fail in either the constructor of InternetAddress or in the validate() method. How can I handle these special danish characters in the domain. I bet that other countries have the same issue with their domains vs emails in javamail InternetAddress.","title":"JavaMail: &quot;Domain contains control or whitespace in string&quot; errormessage because of domain with Danish characters","body":"<p>Domains with special danish characters such as æ ø å are now allowed, but I can't force java mail to accept this.</p>\n\n<pre><code>    @Test()\npublic void testMailAddressWithDanishCharacters1() throws AddressException, UnsupportedEncodingException {\n    InternetAddress cAddress = new InternetAddress( \"test@testæxample12345123.com\", null, \"utf-8\" );\n    System.out.println( cAddress.toString() );\n    cAddress.validate();\n}\n\n@Test()\npublic void testMailAddressWithDanishCharacters2() throws AddressException, UnsupportedEncodingException {\n    InternetAddress cAddress = new InternetAddress( \"test@testæxample12345123.com\", false );\n    System.out.println( cAddress.toString() );\n    cAddress.validate();\n}\n\n@Test()\npublic void testMailAddressWithDanishCharacters3() throws AddressException, UnsupportedEncodingException {\n    InternetAddress cAddress = new InternetAddress( \"test@testæxample12345123.com\", true );\n    System.out.println( cAddress.toString() );\n    cAddress.validate();\n}\n</code></pre>\n\n<p>All of the tests fail in either the constructor of InternetAddress or in the validate() method. How can I handle these special danish characters in the domain. I bet that other countries have the same issue with their domains vs emails in javamail InternetAddress.</p>\n"},{"tags":["java","netbeans"],"answers":[{"tags":[],"owner":{"account_id":468855,"reputation":5925,"user_id":875083,"display_name":"Joachim Rohde"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682403866,"creation_date":1682403866,"answer_id":76098146,"question_id":76096174,"body_markdown":"From the [NetBeans wiki][1]:\r\n\r\nInside the ModuleInstaller class for the GUI module:\r\n\r\n    @Override\r\n    public void restored() {\r\n      // some other code may go here...\r\n       WindowManager.getDefault().invokeWhenUIReady(new Runnable() {\r\n         @Override\r\n         public void run() {\r\n          JFrame mainFrame = (JFrame) WindowManager.getDefault().getMainWindow();\r\n          mainFrame.setTitle(&quot;Modified main title&quot;);\r\n         });\r\n       }\r\n      // some other code may go here...\r\n    }\r\n\r\n  [1]: https://netbeans.apache.org/wiki/DevFaqMainTitle.html","title":"How do I set the Title of my application in the Top Toolbar in Nebeans","body":"<p>From the <a href=\"https://netbeans.apache.org/wiki/DevFaqMainTitle.html\" rel=\"nofollow noreferrer\">NetBeans wiki</a>:</p>\n<p>Inside the ModuleInstaller class for the GUI module:</p>\n<pre><code>@Override\npublic void restored() {\n  // some other code may go here...\n   WindowManager.getDefault().invokeWhenUIReady(new Runnable() {\n     @Override\n     public void run() {\n      JFrame mainFrame = (JFrame) WindowManager.getDefault().getMainWindow();\n      mainFrame.setTitle(&quot;Modified main title&quot;);\n     });\n   }\n  // some other code may go here...\n}\n</code></pre>\n"}],"owner":{"account_id":7577131,"reputation":127,"user_id":5749128,"display_name":"AlexHomeBrew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682403866,"creation_date":1682371154,"question_id":76096174,"body_markdown":"I have an application in Java created by Netbeans that has a title above the toolbar of:\r\n\r\nMyApp 14-cf42d87113e1a2dblahblah\r\n\r\nThis is not useful to my users. I would like to include a revision number in the title, as that would be more useful than a GUID from Mercurial. That revision number would be under my control.\r\n\r\nModifying the various Bundle.properties files (see below) has no apparent effect.\r\n```\r\n$ grep -r &quot;MyApp {0}&quot; .\r\n./MyApp/branding/src/main/nbm-branding/core/core.jar/org/netbeans/core/startup/Bundle.properties:currentVersion=MyApp {0}\r\n./MyApp/branding/src/main/nbm-branding/modules/org-netbeans-core-windows.jar/org/netbeans/core/windows/view/ui/Bundle.properties:CTL_MainWindow_Title=MyApp {0}\r\n./MyApp/branding/src/main/nbm-branding/modules/org-netbeans-core-windows.jar/org/netbeans/core/windows/view/ui/Bundle.properties:CTL_MainWindow_Title_No_Project=MyApp {0}\r\n```\r\n\r\nThe {0} implies that somewhere the first parameter in the call is used but I can&#39;t figure out what is calling what.\r\n\r\nI am using Netbeans IDE 15 and Java 15.\r\n\r\nI have wandered through Netbeans properties and configuration without finding the key to changing it. Internet searches have not come up with anything that works either. I also haven&#39;t found anything that helps in the Netbeans documents.\r\n\r\n\r\n","title":"How do I set the Title of my application in the Top Toolbar in Nebeans","body":"<p>I have an application in Java created by Netbeans that has a title above the toolbar of:</p>\n<p>MyApp 14-cf42d87113e1a2dblahblah</p>\n<p>This is not useful to my users. I would like to include a revision number in the title, as that would be more useful than a GUID from Mercurial. That revision number would be under my control.</p>\n<p>Modifying the various Bundle.properties files (see below) has no apparent effect.</p>\n<pre><code>$ grep -r &quot;MyApp {0}&quot; .\n./MyApp/branding/src/main/nbm-branding/core/core.jar/org/netbeans/core/startup/Bundle.properties:currentVersion=MyApp {0}\n./MyApp/branding/src/main/nbm-branding/modules/org-netbeans-core-windows.jar/org/netbeans/core/windows/view/ui/Bundle.properties:CTL_MainWindow_Title=MyApp {0}\n./MyApp/branding/src/main/nbm-branding/modules/org-netbeans-core-windows.jar/org/netbeans/core/windows/view/ui/Bundle.properties:CTL_MainWindow_Title_No_Project=MyApp {0}\n</code></pre>\n<p>The {0} implies that somewhere the first parameter in the call is used but I can't figure out what is calling what.</p>\n<p>I am using Netbeans IDE 15 and Java 15.</p>\n<p>I have wandered through Netbeans properties and configuration without finding the key to changing it. Internet searches have not come up with anything that works either. I also haven't found anything that helps in the Netbeans documents.</p>\n"},{"tags":["java","spring","spring-boot","testing"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1682316879,"post_id":76086887,"comment_id":134189971,"body_markdown":"Either load the full context using `@SpringBootTest` (and you base test tries to much) or provide a specific `@TestConfiguration` to supply what you need.","body":"Either load the full context using <code>@SpringBootTest</code> (and you base test tries to much) or provide a specific <code>@TestConfiguration</code> to supply what you need."},{"owner":{"account_id":437987,"reputation":3973,"user_id":825968,"accept_rate":77,"display_name":"AndrasCsanyi"},"score":0,"creation_date":1682362531,"post_id":76086887,"comment_id":134200190,"body_markdown":"@M.Deinum thanks! You saved my 4ss! If you write an answer I&#39;ll accept it.","body":"@M.Deinum thanks! You saved my 4ss! If you write an answer I&#39;ll accept it."}],"answers":[{"comments":[{"owner":{"account_id":437987,"reputation":3973,"user_id":825968,"accept_rate":77,"display_name":"AndrasCsanyi"},"score":0,"creation_date":1682415993,"post_id":76098132,"comment_id":134207925,"body_markdown":"Indeed this was the problem. A `@SpringBootTest` with a `@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)` solved the problem. I overcomplicated the whole. Thanks for the help.","body":"Indeed this was the problem. A <code>@SpringBootTest</code> with a <code>@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)</code> solved the problem. I overcomplicated the whole. Thanks for the help."}],"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682403680,"creation_date":1682403680,"answer_id":76098132,"question_id":76086887,"body_markdown":"You are trying to outsmart Spring Boot and its loading mechanisms. Don&#39;t do that as you should be working with the framework. \r\n\r\nYou have 2 options here. \r\n\r\n1. Use a single `@SpringBootTest` and load the full context (maybe with some mocked services, or in-memory database implementations). \r\n2. Use a dedicated and specific `@TestConfiguration` to load exactly what you need. \r\n\r\nI strongly suggest option 1. as option 2 will get quite tedious and will probably lead to longer test times (as there is no reuse of a previously loaded context).","title":"How to inject @Repository and multiple @Services into Spring testing context?","body":"<p>You are trying to outsmart Spring Boot and its loading mechanisms. Don't do that as you should be working with the framework.</p>\n<p>You have 2 options here.</p>\n<ol>\n<li>Use a single <code>@SpringBootTest</code> and load the full context (maybe with some mocked services, or in-memory database implementations).</li>\n<li>Use a dedicated and specific <code>@TestConfiguration</code> to load exactly what you need.</li>\n</ol>\n<p>I strongly suggest option 1. as option 2 will get quite tedious and will probably lead to longer test times (as there is no reuse of a previously loaded context).</p>\n"}],"owner":{"account_id":437987,"reputation":3973,"user_id":825968,"accept_rate":77,"display_name":"AndrasCsanyi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76098132,"answer_count":1,"score":0,"last_activity_date":1682403680,"creation_date":1682278783,"question_id":76086887,"body_markdown":"I&#39;m working on a REST endpoint using Spring and I&#39;d like to test the business logic separately in a way when it includes the mapper, repository and validation logics. They are not mocked. It is a fat integration test (if this definition exists) or a system test but the REST part is not included.\r\n\r\nWhy not mocking? I don&#39;t like them, they don&#39;t really provide any value since I define their behavior and that definition does not reflect on the code I want to test. It can be as buggy as the code I wrote. :) For me the value is when I can test the whole stack or big portion of the stack in build time, and fast. I rather manipulate the inputs to trigger behaviors and leave the mocks for behaviors cannot be triggered by inputs (do thsey make any sense?).\r\n\r\nThe problem I face is how to wire these together in a test? All the examples and articles I have found so far are 1, `@DataJpaTest` which focuses only the repository, 2, Controller or system tests with mocked underlying logic.\r\n\r\nWhat I need is the ability to test my small libraries in a the combination (either have them mocked, not mocked or some of them mocked and some of them not) I see valuable.\r\n\r\nBased on the articles I read so far the problem is that during testing Spring loads just a slice of the context and I need to load what I need to be there. I haven&#39;t found that how can I load into the test context what I need.\r\n\r\n\r\n```java\r\npublic class IAMBusinessLogicImplementation implements IAMBusinessLogicInterface {\r\n\r\n    private final UserRepositoryInterface _userRepository;\r\n    private final UserMapperInterface _userMappers;\r\n    private final IAMValidatorInterface _validator;\r\n\r\n    public IAMBusinessLogicImplementation(\r\n        @NonNull UserRepositoryInterface _userRepository,\r\n        @NonNull UserMapperInterface _userMappers,\r\n        @NonNull IAMValidatorInterface _validator) {\r\n        this._userRepository = _userRepository;\r\n        this._userMappers = _userMappers;\r\n        this._validator = _validator;\r\n    }\r\n\r\n    public UserDto createUser(@NonNull UserDto userDto) {\r\n        // stuff\r\n    }\r\n}\r\n\r\npublic class IAMValidatorImplementation implements IAMValidatorInterface { }\r\n\r\npublic class UserMapperImplementation implements UserMapperInterface { }\r\n\r\npublic interface UserRepositoryInterface extends CrudRepository&lt;User, Long&gt; { }\r\n```\r\n\r\nTest:\r\n```java\r\n@SpringBootTest(classes = {IAMBusinessLogicImplementation.class})\r\n@EnableJpaRepositories(basePackages = &quot;com.encyclopediagalactica.iam.tests.repository&quot;)\r\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\r\n@AutoConfigureDataJpa\r\n@EntityScan(&quot;com.encyclopediagalactica.iam.entities&quot;)\r\n@ComponentScan()\r\npublic class IAMBusinessLogicTestsBase {\r\n\r\n    @Autowired\r\n    public IAMBusinessLogicInterface _sut;\r\n\r\n    @Test\r\n    public void createUser() {\r\n        // Arrange\r\n        UserDto userDto = UserDto.builder()\r\n            .firstName(&quot;asd&quot;)\r\n            .lastName(&quot;dsa&quot;)\r\n            .build();\r\n\r\n        // Act\r\n        UserDto result = _sut.createUser(userDto);\r\n\r\n        // Assert\r\n        assertThat(result).isNotNull();\r\n    }\r\n\r\n}\r\n```\r\n\r\nResult:\r\n\r\n&gt; 2023-04-23T21:28:24.598+02:00  INFO 37577 --- [           main]\r\n&gt; c.e.i.t.b.IAMBusinessLogicTestsBase      : Starting\r\n&gt; IAMBusinessLogicTestsBase using Java 17.0.7 with PID 37577 (started by\r\n&gt; andrascsanyi in\r\n&gt; /Users/andrascsanyi/DEV/github.com/EncyclopediaGalactica/IAM/IAM)\r\n&gt; 2023-04-23T21:28:24.601+02:00  INFO 37577 --- [           main]\r\n&gt; c.e.i.t.b.IAMBusinessLogicTestsBase      : No active profile set,\r\n&gt; falling back to 1 default profile: &quot;default&quot;\r\n&gt; 2023-04-23T21:28:24.739+02:00  INFO 37577 --- [           main]\r\n&gt; .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data\r\n&gt; JPA repositories in DEFAULT mode. 2023-04-23T21:28:24.759+02:00  INFO\r\n&gt; 37577 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate :\r\n&gt; Finished Spring Data repository scanning in 8 ms. Found 0 JPA\r\n&gt; repository interfaces. 2023-04-23T21:28:24.899+02:00  INFO 37577 --- [\r\n&gt; main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing\r\n&gt; PersistenceUnitInfo [name: default] 2023-04-23T21:28:24.919+02:00 \r\n&gt; INFO 37577 --- [           main] org.hibernate.Version                \r\n&gt; : HHH000412: Hibernate ORM core version 6.1.7.Final\r\n&gt; 2023-04-23T21:28:25.049+02:00  INFO 37577 --- [           main]\r\n&gt; com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n&gt; 2023-04-23T21:28:25.137+02:00  INFO 37577 --- [           main]\r\n&gt; com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added\r\n&gt; connection conn0: url=jdbc:h2:mem:testing user=SA\r\n&gt; 2023-04-23T21:28:25.138+02:00  INFO 37577 --- [           main]\r\n&gt; com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start\r\n&gt; completed. 2023-04-23T21:28:25.147+02:00  INFO 37577 --- [          \r\n&gt; main] SQL dialect                              : HHH000400: Using\r\n&gt; dialect: org.hibernate.dialect.H2Dialect 2023-04-23T21:28:25.489+02:00\r\n&gt; INFO 37577 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator   \r\n&gt; : HHH000490: Using JtaPlatform implementation:\r\n&gt; [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n&gt; 2023-04-23T21:28:25.492+02:00  INFO 37577 --- [           main]\r\n&gt; j.LocalContainerEntityManagerFactoryBean : Initialized JPA\r\n&gt; EntityManagerFactory for persistence unit &#39;default&#39;\r\n&gt; 2023-04-23T21:28:25.495+02:00  WARN 37577 --- [           main]\r\n&gt; o.s.w.c.s.GenericWebApplicationContext   : Exception encountered\r\n&gt; during context initialization - cancelling refresh attempt:\r\n&gt; org.springframework.beans.factory.UnsatisfiedDependencyException:\r\n&gt; Error creating bean with name &#39;IAMBusinessLogicImplementation&#39;:\r\n&gt; Unsatisfied dependency expressed through constructor parameter 0: No\r\n&gt; qualifying bean of type\r\n&gt; &#39;com.encyclopediagalactica.iam.repositories.UserRepositoryInterface&#39;\r\n&gt; available: expected at least 1 bean which qualifies as autowire\r\n&gt; candidate. Dependency annotations: {} 2023-04-23T21:28:25.495+02:00 \r\n&gt; INFO 37577 --- [           main]\r\n&gt; j.LocalContainerEntityManagerFactoryBean : Closing JPA\r\n&gt; EntityManagerFactory for persistence unit &#39;default&#39;\r\n&gt; 2023-04-23T21:28:25.495+02:00  INFO 37577 --- [           main]\r\n&gt; .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed\r\n&gt; evictData of schema as part of SessionFactory shut-down&#39;\r\n&gt; 2023-04-23T21:28:25.497+02:00  INFO 37577 --- [           main]\r\n&gt; com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown\r\n&gt; initiated... 2023-04-23T21:28:25.498+02:00  INFO 37577 --- [          \r\n&gt; main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 -\r\n&gt; Shutdown completed. 2023-04-23T21:28:25.500+02:00  INFO 37577 --- [   \r\n&gt; main] .s.b.a.l.ConditionEvaluationReportLogger : \r\n&gt; \r\n&gt; Error starting ApplicationContext. To display the condition evaluation\r\n&gt; report re-run your application with &#39;debug&#39; enabled.\r\n&gt; 2023-04-23T21:28:25.508+02:00 ERROR 37577 --- [           main]\r\n&gt; o.s.b.d.LoggingFailureAnalysisReporter   :","title":"How to inject @Repository and multiple @Services into Spring testing context?","body":"<p>I'm working on a REST endpoint using Spring and I'd like to test the business logic separately in a way when it includes the mapper, repository and validation logics. They are not mocked. It is a fat integration test (if this definition exists) or a system test but the REST part is not included.</p>\n<p>Why not mocking? I don't like them, they don't really provide any value since I define their behavior and that definition does not reflect on the code I want to test. It can be as buggy as the code I wrote. :) For me the value is when I can test the whole stack or big portion of the stack in build time, and fast. I rather manipulate the inputs to trigger behaviors and leave the mocks for behaviors cannot be triggered by inputs (do thsey make any sense?).</p>\n<p>The problem I face is how to wire these together in a test? All the examples and articles I have found so far are 1, <code>@DataJpaTest</code> which focuses only the repository, 2, Controller or system tests with mocked underlying logic.</p>\n<p>What I need is the ability to test my small libraries in a the combination (either have them mocked, not mocked or some of them mocked and some of them not) I see valuable.</p>\n<p>Based on the articles I read so far the problem is that during testing Spring loads just a slice of the context and I need to load what I need to be there. I haven't found that how can I load into the test context what I need.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class IAMBusinessLogicImplementation implements IAMBusinessLogicInterface {\n\n    private final UserRepositoryInterface _userRepository;\n    private final UserMapperInterface _userMappers;\n    private final IAMValidatorInterface _validator;\n\n    public IAMBusinessLogicImplementation(\n        @NonNull UserRepositoryInterface _userRepository,\n        @NonNull UserMapperInterface _userMappers,\n        @NonNull IAMValidatorInterface _validator) {\n        this._userRepository = _userRepository;\n        this._userMappers = _userMappers;\n        this._validator = _validator;\n    }\n\n    public UserDto createUser(@NonNull UserDto userDto) {\n        // stuff\n    }\n}\n\npublic class IAMValidatorImplementation implements IAMValidatorInterface { }\n\npublic class UserMapperImplementation implements UserMapperInterface { }\n\npublic interface UserRepositoryInterface extends CrudRepository&lt;User, Long&gt; { }\n</code></pre>\n<p>Test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(classes = {IAMBusinessLogicImplementation.class})\n@EnableJpaRepositories(basePackages = &quot;com.encyclopediagalactica.iam.tests.repository&quot;)\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\n@AutoConfigureDataJpa\n@EntityScan(&quot;com.encyclopediagalactica.iam.entities&quot;)\n@ComponentScan()\npublic class IAMBusinessLogicTestsBase {\n\n    @Autowired\n    public IAMBusinessLogicInterface _sut;\n\n    @Test\n    public void createUser() {\n        // Arrange\n        UserDto userDto = UserDto.builder()\n            .firstName(&quot;asd&quot;)\n            .lastName(&quot;dsa&quot;)\n            .build();\n\n        // Act\n        UserDto result = _sut.createUser(userDto);\n\n        // Assert\n        assertThat(result).isNotNull();\n    }\n\n}\n</code></pre>\n<p>Result:</p>\n<blockquote>\n<p>2023-04-23T21:28:24.598+02:00  INFO 37577 --- [           main]\nc.e.i.t.b.IAMBusinessLogicTestsBase      : Starting\nIAMBusinessLogicTestsBase using Java 17.0.7 with PID 37577 (started by\nandrascsanyi in\n/Users/andrascsanyi/DEV/github.com/EncyclopediaGalactica/IAM/IAM)\n2023-04-23T21:28:24.601+02:00  INFO 37577 --- [           main]\nc.e.i.t.b.IAMBusinessLogicTestsBase      : No active profile set,\nfalling back to 1 default profile: &quot;default&quot;\n2023-04-23T21:28:24.739+02:00  INFO 37577 --- [           main]\n.s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data\nJPA repositories in DEFAULT mode. 2023-04-23T21:28:24.759+02:00  INFO\n37577 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate :\nFinished Spring Data repository scanning in 8 ms. Found 0 JPA\nrepository interfaces. 2023-04-23T21:28:24.899+02:00  INFO 37577 --- [\nmain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing\nPersistenceUnitInfo [name: default] 2023-04-23T21:28:24.919+02:00\nINFO 37577 --- [           main] org.hibernate.Version<br />\n: HHH000412: Hibernate ORM core version 6.1.7.Final\n2023-04-23T21:28:25.049+02:00  INFO 37577 --- [           main]\ncom.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-04-23T21:28:25.137+02:00  INFO 37577 --- [           main]\ncom.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added\nconnection conn0: url=jdbc:h2:mem:testing user=SA\n2023-04-23T21:28:25.138+02:00  INFO 37577 --- [           main]\ncom.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start\ncompleted. 2023-04-23T21:28:25.147+02:00  INFO 37577 --- [<br />\nmain] SQL dialect                              : HHH000400: Using\ndialect: org.hibernate.dialect.H2Dialect 2023-04-23T21:28:25.489+02:00\nINFO 37577 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator<br />\n: HHH000490: Using JtaPlatform implementation:\n[org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2023-04-23T21:28:25.492+02:00  INFO 37577 --- [           main]\nj.LocalContainerEntityManagerFactoryBean : Initialized JPA\nEntityManagerFactory for persistence unit 'default'\n2023-04-23T21:28:25.495+02:00  WARN 37577 --- [           main]\no.s.w.c.s.GenericWebApplicationContext   : Exception encountered\nduring context initialization - cancelling refresh attempt:\norg.springframework.beans.factory.UnsatisfiedDependencyException:\nError creating bean with name 'IAMBusinessLogicImplementation':\nUnsatisfied dependency expressed through constructor parameter 0: No\nqualifying bean of type\n'com.encyclopediagalactica.iam.repositories.UserRepositoryInterface'\navailable: expected at least 1 bean which qualifies as autowire\ncandidate. Dependency annotations: {} 2023-04-23T21:28:25.495+02:00\nINFO 37577 --- [           main]\nj.LocalContainerEntityManagerFactoryBean : Closing JPA\nEntityManagerFactory for persistence unit 'default'\n2023-04-23T21:28:25.495+02:00  INFO 37577 --- [           main]\n.SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed\nevictData of schema as part of SessionFactory shut-down'\n2023-04-23T21:28:25.497+02:00  INFO 37577 --- [           main]\ncom.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown\ninitiated... 2023-04-23T21:28:25.498+02:00  INFO 37577 --- [<br />\nmain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 -\nShutdown completed. 2023-04-23T21:28:25.500+02:00  INFO 37577 --- [<br />\nmain] .s.b.a.l.ConditionEvaluationReportLogger :</p>\n<p>Error starting ApplicationContext. To display the condition evaluation\nreport re-run your application with 'debug' enabled.\n2023-04-23T21:28:25.508+02:00 ERROR 37577 --- [           main]\no.s.b.d.LoggingFailureAnalysisReporter   :</p>\n</blockquote>\n"},{"tags":["java","spring","apache-kafka"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1682345746,"post_id":76092781,"comment_id":134196110,"body_markdown":"Use `${SOME_KAFKA_GROUPID}` in your `groupId` attribute.","body":"Use <code>${SOME_KAFKA_GROUPID}</code> in your <code>groupId</code> attribute."},{"owner":{"account_id":27793189,"reputation":11,"user_id":21219271,"display_name":"IgorPiven"},"score":0,"creation_date":1682346087,"post_id":76092781,"comment_id":134196219,"body_markdown":"Doesn&#39;t work unfortunately. I suppose it is applicable if I get the values from application.properties file.","body":"Doesn&#39;t work unfortunately. I suppose it is applicable if I get the values from application.properties file."},{"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1682346293,"post_id":76092781,"comment_id":134196276,"body_markdown":"is this spring or spring boot application @IgorPiven?","body":"is this spring or spring boot application @IgorPiven?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1682402790,"post_id":76092781,"comment_id":134205134,"body_markdown":"Then make `Dotenv` part of the propertysources, using an `EnvironmentPostProcessor`, and wrap the result in a `PropertySource`. Then it will work as the property is part of the normal flow.","body":"Then make <code>Dotenv</code> part of the propertysources, using an <code>EnvironmentPostProcessor</code>, and wrap the result in a <code>PropertySource</code>. Then it will work as the property is part of the normal flow."}],"answers":[{"tags":[],"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682346116,"creation_date":1682346116,"answer_id":76092914,"question_id":76092781,"body_markdown":"In Spring boot you can read system environment properties or spring environment properties using [@Value][1] annotation\r\n\r\n**Spring @Value - Spring Environment Property**\r\n\r\n    @Value(&quot;${APP_NAME_NOT_FOUND}&quot;)\r\n    private String defaultAppName;\r\n\r\nIf the key is not found in the spring environment properties, then the property value will be `${APP_NAME_NOT_FOUND}`. We can assign a default value that will get assigned if the key is missing from spring environment properties.\r\n\r\n    @Value(&quot;${APP_NAME_NOT_FOUND:Default}&quot;)\r\n    private String defaultAppName;\r\n\r\n**Spring @Value - System Environment**\r\n\r\nWhen Spring environment is populated, it reads all the system environment variables and stores it as properties. So we can assign system variables too using @Value annotation.\r\n\r\n    @Value(&quot;${java.home}&quot;)\r\n    private String javaHome;\r\n\t\r\n    @Value(&quot;${HOME}&quot;)\r\n    private String homeDir;\r\n\r\n**Spring @Value - SpEL**\r\n\r\nWe can also use Spring Expression Language with @Value annotation. So we can read java home system property using SpEL too.\r\n\r\n    @Value(&quot;#{systemProperties[&#39;java.home&#39;]}&quot;)\r\n    private String javaHome;\r\n\r\n  [1]: https://www.digitalocean.com/community/tutorials/spring-value-annotation#spring-value-spring-environment-property","title":"How to use environment values for group-id in spring KafkaListener annotation","body":"<p>In Spring boot you can read system environment properties or spring environment properties using <a href=\"https://www.digitalocean.com/community/tutorials/spring-value-annotation#spring-value-spring-environment-property\" rel=\"nofollow noreferrer\">@Value</a> annotation</p>\n<p><strong>Spring @Value - Spring Environment Property</strong></p>\n<pre><code>@Value(&quot;${APP_NAME_NOT_FOUND}&quot;)\nprivate String defaultAppName;\n</code></pre>\n<p>If the key is not found in the spring environment properties, then the property value will be <code>${APP_NAME_NOT_FOUND}</code>. We can assign a default value that will get assigned if the key is missing from spring environment properties.</p>\n<pre><code>@Value(&quot;${APP_NAME_NOT_FOUND:Default}&quot;)\nprivate String defaultAppName;\n</code></pre>\n<p><strong>Spring @Value - System Environment</strong></p>\n<p>When Spring environment is populated, it reads all the system environment variables and stores it as properties. So we can assign system variables too using @Value annotation.</p>\n<pre><code>@Value(&quot;${java.home}&quot;)\nprivate String javaHome;\n\n@Value(&quot;${HOME}&quot;)\nprivate String homeDir;\n</code></pre>\n<p><strong>Spring @Value - SpEL</strong></p>\n<p>We can also use Spring Expression Language with @Value annotation. So we can read java home system property using SpEL too.</p>\n<pre><code>@Value(&quot;#{systemProperties['java.home']}&quot;)\nprivate String javaHome;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682403509,"creation_date":1682403509,"answer_id":76098114,"question_id":76092781,"body_markdown":"You can write an `EnvironmentPostProcessor` which used `Dotenv` to load the properties and then wrap that in a `PropertySource`. That way you will be able to use regular Spring mechanism to replace the values. \r\n\r\n```java\r\npublic DotenvEnvironmentProcessor implements EnvironmentPostProcessor {\r\n\r\n@Override\r\n    public void postProcessEnvironment(ConfigurableEnvironment environment, \r\n      SpringApplication application) {\r\n\r\n      Dotenv dotenv = Dotenv.load();\r\n      Properties envProps = new Properties();\r\n      for (DotenvEntry entry : dotenv.entries()) {\r\n        envProps.setProperty(entry.getKey(), entry.getValue());\r\n      }\r\n      environment.getPropertySources()\r\n          .addAfter(SYSTEM_ENVIRONMENT_PROPERTY_SOURCE_NAME, new PropertiesPropertySource(&quot;dotenv&quot;, envProps);\r\n    }\r\n}\r\n```\r\n\r\nThis will register the `Dotenv` loaded properties into the `Environment` used by Spring to replace the values. \r\n\r\n**NOTE:** You could also write a dedicated `PropertySource` implementation that wraps the `Dotenv` and use that instead. You can do this by extending the `EnumerablePropertySource` and implement it. \r\n\r\nNow you can reference the properties as you usually would do with Spring. \r\n\r\n```java\r\n@KafkaListener(topics = &quot;some_topic&quot;, groupId = &quot;${SOME_KAFKA_GROUPID}&quot;, containerFactory = &quot;some_container_name&quot;)\r\n```\r\n\r\nThis should probably also simplify other code you are using which references `Dotenv` as you can remove it and use normal Spring mechanisms (and you could even move the properties to your `application.properties` or yaml or in profile specific ones). ","title":"How to use environment values for group-id in spring KafkaListener annotation","body":"<p>You can write an <code>EnvironmentPostProcessor</code> which used <code>Dotenv</code> to load the properties and then wrap that in a <code>PropertySource</code>. That way you will be able to use regular Spring mechanism to replace the values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public DotenvEnvironmentProcessor implements EnvironmentPostProcessor {\n\n@Override\n    public void postProcessEnvironment(ConfigurableEnvironment environment, \n      SpringApplication application) {\n\n      Dotenv dotenv = Dotenv.load();\n      Properties envProps = new Properties();\n      for (DotenvEntry entry : dotenv.entries()) {\n        envProps.setProperty(entry.getKey(), entry.getValue());\n      }\n      environment.getPropertySources()\n          .addAfter(SYSTEM_ENVIRONMENT_PROPERTY_SOURCE_NAME, new PropertiesPropertySource(&quot;dotenv&quot;, envProps);\n    }\n}\n</code></pre>\n<p>This will register the <code>Dotenv</code> loaded properties into the <code>Environment</code> used by Spring to replace the values.</p>\n<p><strong>NOTE:</strong> You could also write a dedicated <code>PropertySource</code> implementation that wraps the <code>Dotenv</code> and use that instead. You can do this by extending the <code>EnumerablePropertySource</code> and implement it.</p>\n<p>Now you can reference the properties as you usually would do with Spring.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@KafkaListener(topics = &quot;some_topic&quot;, groupId = &quot;${SOME_KAFKA_GROUPID}&quot;, containerFactory = &quot;some_container_name&quot;)\n</code></pre>\n<p>This should probably also simplify other code you are using which references <code>Dotenv</code> as you can remove it and use normal Spring mechanisms (and you could even move the properties to your <code>application.properties</code> or yaml or in profile specific ones).</p>\n"}],"owner":{"account_id":27793189,"reputation":11,"user_id":21219271,"display_name":"IgorPiven"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":689,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1682403509,"creation_date":1682345275,"question_id":76092781,"body_markdown":"I get the values from the .env file and try to put the value Group-id in @KafkaListener:\r\n```\r\nDotenv dotenv = Dotenv.load();\r\nfinal String KAFKA_GROUP_ID = dotenv.get(&quot;SOME_KAFKA_GROUPID&quot;);\r\n\r\n@KafkaListener(topics = &quot;some_topic&quot;, groupId = KAFKA_GROUP_ID, containerFactory = &quot;some_container_name&quot;)\r\n```\r\n\r\nIDEA says KAFKA_GROUP_ID must be constant. I have tried all modifications for KAFKA_GROUP_ID but have been unsuccessful.\r\n\r\nHow shall I proceed to get KAFKA_GROUP_ID constant?","title":"How to use environment values for group-id in spring KafkaListener annotation","body":"<p>I get the values from the .env file and try to put the value Group-id in @KafkaListener:</p>\n<pre><code>Dotenv dotenv = Dotenv.load();\nfinal String KAFKA_GROUP_ID = dotenv.get(&quot;SOME_KAFKA_GROUPID&quot;);\n\n@KafkaListener(topics = &quot;some_topic&quot;, groupId = KAFKA_GROUP_ID, containerFactory = &quot;some_container_name&quot;)\n</code></pre>\n<p>IDEA says KAFKA_GROUP_ID must be constant. I have tried all modifications for KAFKA_GROUP_ID but have been unsuccessful.</p>\n<p>How shall I proceed to get KAFKA_GROUP_ID constant?</p>\n"},{"tags":["java","rest","jpa","design-patterns"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1682357686,"post_id":76094563,"comment_id":134199167,"body_markdown":"Single endpoint using https://www.baeldung.com/hibernate-criteria-queries to eliminate combinatorial explosion induce cyclometric complexity.","body":"Single endpoint using <a href=\"https://www.baeldung.com/hibernate-criteria-queries\" rel=\"nofollow noreferrer\">baeldung.com/hibernate-criteria-queries</a> to eliminate combinatorial explosion induce cyclometric complexity."}],"answers":[{"comments":[{"owner":{"account_id":12579153,"reputation":25,"user_id":9150507,"display_name":"user9150507"},"score":0,"creation_date":1682365657,"post_id":76095410,"comment_id":134200822,"body_markdown":"Hi @amb1dex, the above json can be create from the UI application or directly passed into postman, but can that also be mapped to swagger-ui somehow? I had hard time finding answer to that when I came across one similar implementation.","body":"Hi @amb1dex, the above json can be create from the UI application or directly passed into postman, but can that also be mapped to swagger-ui somehow? I had hard time finding answer to that when I came across one similar implementation."},{"owner":{"account_id":13854821,"reputation":34,"user_id":10001914,"display_name":"amb1dex"},"score":0,"creation_date":1682368893,"post_id":76095410,"comment_id":134201461,"body_markdown":"Hi. json I provided is more like sample to begin with. Of course, you could pass it into Postman or write Java POJO to represent it and use Jackson or Gson for serialization. If you prefer Swagger form, it also could easily build in it [pastebin](https://pastebin.com/K5y8nTdT)","body":"Hi. json I provided is more like sample to begin with. Of course, you could pass it into Postman or write Java POJO to represent it and use Jackson or Gson for serialization. If you prefer Swagger form, it also could easily build in it <a href=\"https://pastebin.com/K5y8nTdT\" rel=\"nofollow noreferrer\">pastebin</a>"}],"tags":[],"owner":{"account_id":13854821,"reputation":34,"user_id":10001914,"display_name":"amb1dex"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682364337,"creation_date":1682364337,"answer_id":76095410,"question_id":76094563,"body_markdown":"I think you should implement single endpoint with dynamic filtering and sorting. E.g. your endpoint should consume something like this:\r\n```json\r\n{\r\n  &quot;filters&quot;: [\r\n    {\r\n      &quot;operation&quot;: &quot;eq&quot;,\r\n      &quot;field:&quot;: &quot;EmployeeId&quot;,\r\n      &quot;value&quot;: &quot;123&quot;,\r\n      &quot;valueType&quot;: &quot;long&quot;\r\n    },\r\n    {\r\n      &quot;operation&quot;: &quot;like&quot;,\r\n      &quot;field:&quot;: &quot;CurrentTitle&quot;,\r\n      &quot;value&quot;: &quot;title&quot;,\r\n      &quot;valueType&quot;: &quot;string&quot;\r\n    }\r\n  ],\r\n  &quot;sorts&quot;: [\r\n    {\r\n      &quot;field&quot;: &quot;EmployeeId&quot;,\r\n      &quot;direction&quot;: &quot;asc&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\nYou predefine set of possible operations (eq, gt, like, between etc.) and map it to JPA Criteria API. That should keep filter queries relative simply and adaptive for DB schema changes. Furthermore, you could join filters into groups to introduce more complex filtering logic.","title":"Rest Api Design for handing multiple optional parameters in one endpoint or as less endpoints as possible","body":"<p>I think you should implement single endpoint with dynamic filtering and sorting. E.g. your endpoint should consume something like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;filters&quot;: [\n    {\n      &quot;operation&quot;: &quot;eq&quot;,\n      &quot;field:&quot;: &quot;EmployeeId&quot;,\n      &quot;value&quot;: &quot;123&quot;,\n      &quot;valueType&quot;: &quot;long&quot;\n    },\n    {\n      &quot;operation&quot;: &quot;like&quot;,\n      &quot;field:&quot;: &quot;CurrentTitle&quot;,\n      &quot;value&quot;: &quot;title&quot;,\n      &quot;valueType&quot;: &quot;string&quot;\n    }\n  ],\n  &quot;sorts&quot;: [\n    {\n      &quot;field&quot;: &quot;EmployeeId&quot;,\n      &quot;direction&quot;: &quot;asc&quot;\n    }\n  ]\n}\n</code></pre>\n<p>You predefine set of possible operations (eq, gt, like, between etc.) and map it to JPA Criteria API. That should keep filter queries relative simply and adaptive for DB schema changes. Furthermore, you could join filters into groups to introduce more complex filtering logic.</p>\n"}],"owner":{"account_id":12579153,"reputation":25,"user_id":9150507,"display_name":"user9150507"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":555,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76095410,"answer_count":1,"score":0,"last_activity_date":1682403291,"creation_date":1682357398,"question_id":76094563,"body_markdown":"We want to design Rest Api with the endpoint which can handle multiple optional parameters and based on the parameter passed, do a search in the Database using JPA and fetch back the results. For Instance, let&#39;s say we have an Employee table in the database which has columns \r\n```\r\nEmployeeId, JoiningDate, Salary, CurrentTitle, TimeInCurrentTitle and may be few more columns. \r\n```\r\nFor some columns as well, there could be multiple ways to search e.g. \r\n\r\n```Fetch all employees with JoiningDate as 2022-05-04``` \r\n\r\n```or fetch all employees who joined after 2022-05-04``` \r\n\r\nSame with salary,\r\n\r\n```get all employees having Salary as $80000```\r\n \r\n```or get all employees having salary greater than $80000```\r\n\r\nOne Approach is to design single endpoint for each column. In the DAO layer, we are trying to use JPA to get the results from the database\r\n```\r\nEmployeeId -&gt; findByEmployeeId will get the result for that id from database\r\nJoiningDate -&gt; findByJoiningDate will get all the empolyees who joined on that date\r\nAfterJoiningDate -&gt; findByJoiningDateGreaterThan will get all the employees who joined after given date\r\nBetweenJoiningDate -&gt; findByJoiningDateBetween will get all the employess who joined between given date A and given date B\r\n```\r\n\r\nWe have around 10 or so columns using which a user can search and in some columns as well, there could be multiple options to search as I described above with Date and number column. We would also want to add pagination and sorting capability while retrieving the results.\r\n\r\nIf we design resource in rest Api as Employee, we can accept the input as\r\n```\r\nhttp://context-root.com/v1/employee?id=123\r\nhttp://context-root.com/v1/employee?id=123&amp;joiningDate=2022-05-04\r\n```\r\nand so on, but unable to think how can we simplify it from business logic layer, where we need to call appropriate back end method as per the inputs received without writing too many if else conditions which would certainly increase the cyclomatic complexity and also makes the code difficult to read.\r\n\r\nWe don&#39;t want to create too many endpoints to simplify it, so trying to understand if there&#39;s a better way for such approach so we could minimize the number of endpoints we need to expose and still get the desired outcome and keep the code readable as well. \r\n\r\nPls advise.","title":"Rest Api Design for handing multiple optional parameters in one endpoint or as less endpoints as possible","body":"<p>We want to design Rest Api with the endpoint which can handle multiple optional parameters and based on the parameter passed, do a search in the Database using JPA and fetch back the results. For Instance, let's say we have an Employee table in the database which has columns</p>\n<pre><code>EmployeeId, JoiningDate, Salary, CurrentTitle, TimeInCurrentTitle and may be few more columns. \n</code></pre>\n<p>For some columns as well, there could be multiple ways to search e.g.</p>\n<p><code>Fetch all employees with JoiningDate as 2022-05-04</code></p>\n<p><code>or fetch all employees who joined after 2022-05-04</code></p>\n<p>Same with salary,</p>\n<p><code>get all employees having Salary as $80000</code></p>\n<p><code>or get all employees having salary greater than $80000</code></p>\n<p>One Approach is to design single endpoint for each column. In the DAO layer, we are trying to use JPA to get the results from the database</p>\n<pre><code>EmployeeId -&gt; findByEmployeeId will get the result for that id from database\nJoiningDate -&gt; findByJoiningDate will get all the empolyees who joined on that date\nAfterJoiningDate -&gt; findByJoiningDateGreaterThan will get all the employees who joined after given date\nBetweenJoiningDate -&gt; findByJoiningDateBetween will get all the employess who joined between given date A and given date B\n</code></pre>\n<p>We have around 10 or so columns using which a user can search and in some columns as well, there could be multiple options to search as I described above with Date and number column. We would also want to add pagination and sorting capability while retrieving the results.</p>\n<p>If we design resource in rest Api as Employee, we can accept the input as</p>\n<pre><code>http://context-root.com/v1/employee?id=123\nhttp://context-root.com/v1/employee?id=123&amp;joiningDate=2022-05-04\n</code></pre>\n<p>and so on, but unable to think how can we simplify it from business logic layer, where we need to call appropriate back end method as per the inputs received without writing too many if else conditions which would certainly increase the cyclomatic complexity and also makes the code difficult to read.</p>\n<p>We don't want to create too many endpoints to simplify it, so trying to understand if there's a better way for such approach so we could minimize the number of endpoints we need to expose and still get the desired outcome and keep the code readable as well.</p>\n<p>Pls advise.</p>\n"},{"tags":["java","aop","pointcut","spring-aspects"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1682326333,"post_id":76089840,"comment_id":134191668,"body_markdown":"I doubt it is the exception. One thing is that your around advice is a bit strange, I would expect the proceed to be executed in a `try/finally` block so that you always record metrics. Also Spring by default uses proxy based AOP so if you are internally calling this method this won&#39;t pass through the proxy but directly invoke the method on the target object.","body":"I doubt it is the exception. One thing is that your around advice is a bit strange, I would expect the proceed to be executed in a <code>try&#47;finally</code> block so that you always record metrics. Also Spring by default uses proxy based AOP so if you are internally calling this method this won&#39;t pass through the proxy but directly invoke the method on the target object."},{"owner":{"account_id":5137581,"reputation":300,"user_id":4115835,"accept_rate":15,"display_name":"Loren"},"score":0,"creation_date":1682336975,"post_id":76089840,"comment_id":134194003,"body_markdown":"@M.Deinum If something is failing in proceed.. then also atleast it should atleast enter the method.. in debug mode I tested that this around  is not being invoked only for this method","body":"@M.Deinum If something is failing in proceed.. then also atleast it should atleast enter the method.. in debug mode I tested that this around  is not being invoked only for this method"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1682337106,"post_id":76089840,"comment_id":134194032,"body_markdown":"As mentioned (if you read the whole comment) it won&#39;t work for internal method invocations and I suspect you are calling this method internally.","body":"As mentioned (if you read the whole comment) it won&#39;t work for internal method invocations and I suspect you are calling this method internally."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682403218,"creation_date":1682403218,"answer_id":76098088,"question_id":76089840,"body_markdown":"Like _M.Deinum_ said (credit to him for that), your aspect is simply implemented incorrectly. The logging code is simply never reached in case of an exception while proceeding to the original method. Try this (untested, just copied from your sample code and edited):\r\n\r\n```java\r\n@Pointcut(&quot;execution(* com.customer.service.ExecuteCustomerService.initiateExecuteCustomer(..))&quot;)\r\nprivate void logExecuteCustomer() {}\r\n\r\n@Around(&quot;logExecuteCustomer()&quot;)\r\npublic Object TimerMonitoring(ProceedingJoinPoint proceedingJoinPoint) throws Throwable {\r\n  MethodSignature methodSignature = (MethodSignature) proceedingJoinPoint.getSignature();\r\n  long startTime = System.currentTimeMillis();\r\n  try {\r\n    return proceedingJoinPoint.proceed();\r\n  }\r\n  finally {\r\n    try {\r\n      String desc = methodSignature.getDeclaringType().getSimpleName() + &quot;.&quot; + methodSignature.getName();\r\n      metricsService.metricsTimer(desc, System.currentTimeMillis() - startTime);\r\n    } catch (Exception exception) {\r\n      log.error(&quot;Error while processing metrics &quot;, exception);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nOr you just avoid bits and pieces from the method signature and simply log the whole joinpoint, keeping the code simple:\r\n\r\n```java\r\n@Around(&quot;logExecuteCustomer()&quot;)\r\npublic Object TimerMonitoring(ProceedingJoinPoint proceedingJoinPoint) throws Throwable {\r\n  long startTime = System.currentTimeMillis();\r\n  try {\r\n    return proceedingJoinPoint.proceed();\r\n  }\r\n  finally {\r\n    try {\r\n      metricsService.metricsTimer(proceedingJoinPoint.toString(), System.currentTimeMillis() - startTime);\r\n    } catch (Exception exception) {\r\n      log.error(&quot;Error while processing metrics &quot;, exception);\r\n    }\r\n  }\r\n}\r\n```\r\n","title":"Pointcut not working for method which throws Exception","body":"<p>Like <em>M.Deinum</em> said (credit to him for that), your aspect is simply implemented incorrectly. The logging code is simply never reached in case of an exception while proceeding to the original method. Try this (untested, just copied from your sample code and edited):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Pointcut(&quot;execution(* com.customer.service.ExecuteCustomerService.initiateExecuteCustomer(..))&quot;)\nprivate void logExecuteCustomer() {}\n\n@Around(&quot;logExecuteCustomer()&quot;)\npublic Object TimerMonitoring(ProceedingJoinPoint proceedingJoinPoint) throws Throwable {\n  MethodSignature methodSignature = (MethodSignature) proceedingJoinPoint.getSignature();\n  long startTime = System.currentTimeMillis();\n  try {\n    return proceedingJoinPoint.proceed();\n  }\n  finally {\n    try {\n      String desc = methodSignature.getDeclaringType().getSimpleName() + &quot;.&quot; + methodSignature.getName();\n      metricsService.metricsTimer(desc, System.currentTimeMillis() - startTime);\n    } catch (Exception exception) {\n      log.error(&quot;Error while processing metrics &quot;, exception);\n    }\n  }\n}\n</code></pre>\n<p>Or you just avoid bits and pieces from the method signature and simply log the whole joinpoint, keeping the code simple:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Around(&quot;logExecuteCustomer()&quot;)\npublic Object TimerMonitoring(ProceedingJoinPoint proceedingJoinPoint) throws Throwable {\n  long startTime = System.currentTimeMillis();\n  try {\n    return proceedingJoinPoint.proceed();\n  }\n  finally {\n    try {\n      metricsService.metricsTimer(proceedingJoinPoint.toString(), System.currentTimeMillis() - startTime);\n    } catch (Exception exception) {\n      log.error(&quot;Error while processing metrics &quot;, exception);\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":5137581,"reputation":300,"user_id":4115835,"accept_rate":15,"display_name":"Loren"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682403218,"creation_date":1682323693,"question_id":76089840,"body_markdown":"I am trying to add Pointcut on execution of a method to total time taken by method to execute. But my pointcut is not getting called. Similar method which does not throws any exception , pointcut for that method is being called.I am not able to findout the exact root cause or issue with my pointcut expression. \r\n\r\n    @Pointcut(\r\n      value =\r\n          &quot;execution(* com.customer.service.ExecuteCustomerService.initiateExecuteCustomer(..))&quot;)\r\n    private void logExecuteCustomer() {}\r\n\r\n     @Around(\r\n      value =&quot;logExecuteCustomer()&quot;)\r\n    public Object TimerMonitoring(ProceedingJoinPoint proceedingJoinPoint) throws Throwable {\r\n    MethodSignature methodSignature = (MethodSignature) proceedingJoinPoint.getSignature();\r\n\r\n    // calculate method execution time\r\n    long startTime = System.currentTimeMillis();\r\n    Object result = proceedingJoinPoint.proceed();\r\n    long endTime = System.currentTimeMillis();\r\n\r\n    try {\r\n      String desc =\r\n          methodSignature.getDeclaringType().getSimpleName() + &quot;.&quot; + methodSignature.getName();\r\n\r\n      metricsService.metricsTimer(desc, (endTime - startTime));\r\n    } catch (Exception exception) {\r\n      log.error(&quot;Error while processing metrics &quot;, exception);\r\n    }\r\n    return result;\r\n    }\r\n\r\nMethod\r\n\r\n    public void initiateExecuteCustomer(\r\n      ChargeTransaction chargeTransactionFromKafka, boolean ignoreCollectionDate)\r\n      throws CustomerException {\r\n    String key = LOGGER_KEY + chargeTransactionFromKafka.getOrderNo();\r\n    long serviceStartTime = System.currentTimeMillis();\r\n    // some java code\r\n    }\r\n\r\n","title":"Pointcut not working for method which throws Exception","body":"<p>I am trying to add Pointcut on execution of a method to total time taken by method to execute. But my pointcut is not getting called. Similar method which does not throws any exception , pointcut for that method is being called.I am not able to findout the exact root cause or issue with my pointcut expression.</p>\n<pre><code>@Pointcut(\n  value =\n      &quot;execution(* com.customer.service.ExecuteCustomerService.initiateExecuteCustomer(..))&quot;)\nprivate void logExecuteCustomer() {}\n\n @Around(\n  value =&quot;logExecuteCustomer()&quot;)\npublic Object TimerMonitoring(ProceedingJoinPoint proceedingJoinPoint) throws Throwable {\nMethodSignature methodSignature = (MethodSignature) proceedingJoinPoint.getSignature();\n\n// calculate method execution time\nlong startTime = System.currentTimeMillis();\nObject result = proceedingJoinPoint.proceed();\nlong endTime = System.currentTimeMillis();\n\ntry {\n  String desc =\n      methodSignature.getDeclaringType().getSimpleName() + &quot;.&quot; + methodSignature.getName();\n\n  metricsService.metricsTimer(desc, (endTime - startTime));\n} catch (Exception exception) {\n  log.error(&quot;Error while processing metrics &quot;, exception);\n}\nreturn result;\n}\n</code></pre>\n<p>Method</p>\n<pre><code>public void initiateExecuteCustomer(\n  ChargeTransaction chargeTransactionFromKafka, boolean ignoreCollectionDate)\n  throws CustomerException {\nString key = LOGGER_KEY + chargeTransactionFromKafka.getOrderNo();\nlong serviceStartTime = System.currentTimeMillis();\n// some java code\n}\n</code></pre>\n"},{"tags":["java","xml","bean-io"],"answers":[{"tags":[],"owner":{"account_id":28407887,"reputation":1,"user_id":21731642,"display_name":"wideworld"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682402735,"creation_date":1682402735,"answer_id":76098043,"question_id":74324303,"body_markdown":"Quite late, but maybe helpful:\r\n\r\nWhat about creating your own RecordParserFactory and dealing there with your individual deviations? Some of them maybe expected, others are maybe real errors which you need to throw?\r\n\r\nAdd your own ParserFactory to streamBuilder \r\n\r\n    StreamBuilder sb = new StreamBuilder(...).parser(myRecordParserInstance)...\r\n\r\n","title":"How to create beanio that can handle multiple different lengths for one type of record?","body":"<p>Quite late, but maybe helpful:</p>\n<p>What about creating your own RecordParserFactory and dealing there with your individual deviations? Some of them maybe expected, others are maybe real errors which you need to throw?</p>\n<p>Add your own ParserFactory to streamBuilder</p>\n<pre><code>StreamBuilder sb = new StreamBuilder(...).parser(myRecordParserInstance)...\n</code></pre>\n"}],"owner":{"account_id":12002339,"reputation":83,"user_id":8781761,"display_name":"Cris Manrique"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682402735,"creation_date":1667609804,"question_id":74324303,"body_markdown":"I created a beanio for a file. The issue is the file can be varying lengths which throws an error when a certain field is expected to occur or have a certain length. I was able to get past the issue where the beanio was expecting a certain field that never occured by just setting the minOccurs to 0. The issue i have now is if any field is partially filled out, it&#39;ll throw a error saying it expected the field to be of the length set. Here&#39;s my beanio stream setup\r\n\r\n```    &lt;stream name=&quot;Loader&quot; format=&quot;fixedlength&quot; ignoreUnidentifiedRecords=&quot;true&quot;&gt;\r\n         &lt;record name=&quot;Record&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;\r\n                class=&quot;com.common.vo.Record&quot;&gt;\r\n            &lt;field name=&quot;record_type&quot; length=&quot;3&quot; default=&quot;REC&quot; literal=&quot;REC&quot; rid=&quot;true&quot;/&gt;\r\n            &lt;field name=&quot;idNumber&quot; length=&quot;19&quot; trim=&quot;true&quot; /&gt;\r\n            &lt;field name=&quot;centerCode&quot; length=&quot;20&quot; /&gt;\r\n        &lt;/record&gt;\r\n      &lt;/stream&gt;\r\n```\r\n\r\nI tried setting the ```minLength``` to 0, but it still throws the same error that it expects the length to be 20. I tried removing the length field and using the min and max length fields instead but with this format, it expects that length field and throws an error. Any ideas? I would like to avoid creating multiple different streams if possible\r\n\r\n","title":"How to create beanio that can handle multiple different lengths for one type of record?","body":"<p>I created a beanio for a file. The issue is the file can be varying lengths which throws an error when a certain field is expected to occur or have a certain length. I was able to get past the issue where the beanio was expecting a certain field that never occured by just setting the minOccurs to 0. The issue i have now is if any field is partially filled out, it'll throw a error saying it expected the field to be of the length set. Here's my beanio stream setup</p>\n<pre><code>         &lt;record name=&quot;Record&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;\n                class=&quot;com.common.vo.Record&quot;&gt;\n            &lt;field name=&quot;record_type&quot; length=&quot;3&quot; default=&quot;REC&quot; literal=&quot;REC&quot; rid=&quot;true&quot;/&gt;\n            &lt;field name=&quot;idNumber&quot; length=&quot;19&quot; trim=&quot;true&quot; /&gt;\n            &lt;field name=&quot;centerCode&quot; length=&quot;20&quot; /&gt;\n        &lt;/record&gt;\n      &lt;/stream&gt;\n</code></pre>\n<p>I tried setting the <code>minLength</code> to 0, but it still throws the same error that it expects the length to be 20. I tried removing the length field and using the min and max length fields instead but with this format, it expects that length field and throws an error. Any ideas? I would like to avoid creating multiple different streams if possible</p>\n"},{"tags":["java","json","loops"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1682344979,"post_id":76092702,"comment_id":134195938,"body_markdown":"need a [mcve] please.","body":"need a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please."},{"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"score":1,"creation_date":1682345487,"post_id":76092702,"comment_id":134196052,"body_markdown":"Java for each is your friend https://www.programiz.com/java-programming/enhanced-for-loop\nIt looks like you need to loop through each `section` and in each `section` you need to loop through each `content`.  Hence, to traverse your nested structure, you need nested loops.","body":"Java for each is your friend <a href=\"https://www.programiz.com/java-programming/enhanced-for-loop\" rel=\"nofollow noreferrer\">programiz.com/java-programming/enhanced-for-loop</a> It looks like you need to loop through each <code>section</code> and in each <code>section</code> you need to loop through each <code>content</code>.  Hence, to traverse your nested structure, you need nested loops."}],"answers":[{"tags":[],"owner":{"account_id":10311488,"reputation":173,"user_id":7607172,"display_name":"Keegan Fisher"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682401631,"creation_date":1682401211,"answer_id":76097907,"question_id":76092702,"body_markdown":"The problem with your code is that in your for-loops, you are using the same index i for both section and content (i.e. `content.getContent().getSections().get(i).getContent().get(i).getAccountId()`).  \r\n\r\nThis means that for each section 1, you will only grab the first content object, for section 2 you will only grab the 2nd content object, and for section 3 you will only grab the 3rd content object.\r\n\r\nYou could also build the String directly, instead of building a list and then joining the entries.\r\n\r\nYou could try something like this:\r\n```\r\npublic void getSections() {\r\n    disposables.add(repository.getContent()\r\n            .subscribeOn(Schedulers.io())\r\n            .observeOn(AndroidSchedulers.mainThread())\r\n            .subscribeWith(new DisposableObserver&lt;Content&gt;() {\r\n                @Override\r\n                public void onNext(@NonNull Content content) {\r\n\r\n                    StringBuffer sb = new StringBuffer();\r\n\r\n                    for(int i = 0; i &lt; content.getSections().size(); i++) {\r\n                         for(int j = 0; j &lt; content.getSections().get(i).getContent().size(); j++) {\r\n                              if(sb.length() == 0) {\r\n                                   sb.append(content.getSections().get(i).getContent().get(j).getAccountId() + &quot;:&quot; + content.getSections().get(i).getContent().get(j).getId());\r\n                              } else {\r\n                                   sb.append(&quot;,&quot; + content.getSections().get(i).getContent().get(j).getAccountId() + &quot;:&quot; + content.getSections().get(i).getContent().get(j).getId());\r\n                              }\r\n                         }\r\n                    }\r\n                    getMoreContent(sb.toString());\r\n                }\r\n\r\n                @Override\r\n                public void onError(@NonNull Throwable e) {\r\n\r\n                }\r\n\r\n                @Override\r\n                public void onComplete() {\r\n\r\n                }\r\n            }));\r\n}\r\n```","title":"Java loop through nested JSON object","body":"<p>The problem with your code is that in your for-loops, you are using the same index i for both section and content (i.e. <code>content.getContent().getSections().get(i).getContent().get(i).getAccountId()</code>).</p>\n<p>This means that for each section 1, you will only grab the first content object, for section 2 you will only grab the 2nd content object, and for section 3 you will only grab the 3rd content object.</p>\n<p>You could also build the String directly, instead of building a list and then joining the entries.</p>\n<p>You could try something like this:</p>\n<pre><code>public void getSections() {\n    disposables.add(repository.getContent()\n            .subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribeWith(new DisposableObserver&lt;Content&gt;() {\n                @Override\n                public void onNext(@NonNull Content content) {\n\n                    StringBuffer sb = new StringBuffer();\n\n                    for(int i = 0; i &lt; content.getSections().size(); i++) {\n                         for(int j = 0; j &lt; content.getSections().get(i).getContent().size(); j++) {\n                              if(sb.length() == 0) {\n                                   sb.append(content.getSections().get(i).getContent().get(j).getAccountId() + &quot;:&quot; + content.getSections().get(i).getContent().get(j).getId());\n                              } else {\n                                   sb.append(&quot;,&quot; + content.getSections().get(i).getContent().get(j).getAccountId() + &quot;:&quot; + content.getSections().get(i).getContent().get(j).getId());\n                              }\n                         }\n                    }\n                    getMoreContent(sb.toString());\n                }\n\n                @Override\n                public void onError(@NonNull Throwable e) {\n\n                }\n\n                @Override\n                public void onComplete() {\n\n                }\n            }));\n}\n</code></pre>\n"}],"owner":{"account_id":14450096,"reputation":45,"user_id":10437913,"display_name":"KoolKeith"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682401631,"creation_date":1682344691,"question_id":76092702,"body_markdown":"I have a JSON object that I need to loop through to get all of the account_id&#39;s and id&#39;s if they exist together in the same child object and add them to one array list. \r\n```json\r\n{\r\n    &quot;content&quot;: {\r\n        &quot;sections&quot;: [\r\n            {\r\n                &quot;type&quot;: &quot;one&quot;,\r\n                &quot;content&quot;: [\r\n                    {\r\n                        &quot;id&quot;: &quot;3412434&quot;\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                &quot;type&quot;: &quot;two&quot;,\r\n                &quot;title&quot;: &quot;Second Section&quot;,\r\n                &quot;content&quot;: [\r\n                    {\r\n                        &quot;id&quot;: &quot;7654&quot;\r\n                    },\r\n                    {\r\n                        &quot;account_id&quot;: &quot;1234&quot;,\r\n                        &quot;id&quot;: &quot;123456&quot;\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                &quot;type&quot;: &quot;three&quot;,\r\n                &quot;title&quot;: &quot;Third Section&quot;,\r\n                &quot;content&quot;: [\r\n                    {\r\n                        &quot;account_id&quot;: &quot;5678&quot;,\r\n                        &quot;id&quot;: &quot;654321&quot;\r\n                    },\r\n                    {\r\n                        &quot;account_id&quot;: &quot;5465763&quot;,\r\n                        &quot;id&quot;: &quot;0864352342434&quot;\r\n                    },\r\n                    {\r\n                        &quot;account_id&quot;: &quot;856864745&quot;,\r\n                        &quot;id&quot;: &quot;97867562542&quot;\r\n                    },\r\n                    {\r\n                        &quot;account_id&quot;: &quot;43214545&quot;,\r\n                        &quot;id&quot;: &quot;86474653634&quot;\r\n                    }\r\n                ]\r\n            }\r\n        ]\r\n    }\r\n}\r\n```\r\n\r\nThis JSON object is dynamic, so I wanted to loop through the entire sections array list to see if the account_id, id combo exist, but I&#39;m having trouble drilling down through the nesting. This is what I am currently doing. This is my RxJava method. I know it&#39;s incorrect and is only grabbing the first account_id, id combo for each section object:\r\n\r\n```java\r\npublic void getSections() {\r\n    disposables.add(repository.getContent()\r\n            .subscribeOn(Schedulers.io())\r\n            .observeOn(AndroidSchedulers.mainThread())\r\n            .subscribeWith(new DisposableObserver&lt;Content&gt;() {\r\n                @Override\r\n                public void onNext(@NonNull Content content) {\r\n\r\n                    List&lt;String&gt; idList = new ArrayList&lt;&gt;();\r\n                    List&lt;String&gt; idStringList = new ArrayList&lt;&gt;();\r\n\r\n                    for(int i = 0; i &lt; content.getContent().getSections().size(); i++){\r\n                        if(content.getContent().getSections().get(i).getType().equals(&quot;two&quot;)){\r\n                            idList.add(content.getContent().getSections().get(i).getContent().get(i).getAccountId() + &quot;:&quot; + content.getContent().getSections().get(i).getContent().get(i).getId());\r\n                        }\r\n                    }\r\n                    for(int i = 0; i &lt; content.getContent().getSections().size(); i++){\r\n                        if(content.getContent().getSections().get(i).getType().equals(&quot;three&quot;)){\r\n                            idList.add(content.getContent().getSections().get(i).getContent().get(i).getAccountId() + &quot;:&quot; + content.getContent().getSections().get(i).getContent().get(i).getId());\r\n                        }\r\n                    }\r\n\r\n                    sectionsIdsString = String.join(&quot;,&quot;, idList);\r\n                    getMoreContent(sectionsIdsString);\r\n\r\n                }\r\n\r\n                @Override\r\n                public void onError(@NonNull Throwable e) {\r\n\r\n                }\r\n\r\n                @Override\r\n                public void onComplete() {\r\n\r\n                }\r\n            }));\r\n}\r\n```\r\n\r\nHow can I loop through this object to get all of the account_id&#39;s, id&#39;s?","title":"Java loop through nested JSON object","body":"<p>I have a JSON object that I need to loop through to get all of the account_id's and id's if they exist together in the same child object and add them to one array list.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;content&quot;: {\n        &quot;sections&quot;: [\n            {\n                &quot;type&quot;: &quot;one&quot;,\n                &quot;content&quot;: [\n                    {\n                        &quot;id&quot;: &quot;3412434&quot;\n                    }\n                ]\n            },\n            {\n                &quot;type&quot;: &quot;two&quot;,\n                &quot;title&quot;: &quot;Second Section&quot;,\n                &quot;content&quot;: [\n                    {\n                        &quot;id&quot;: &quot;7654&quot;\n                    },\n                    {\n                        &quot;account_id&quot;: &quot;1234&quot;,\n                        &quot;id&quot;: &quot;123456&quot;\n                    }\n                ]\n            },\n            {\n                &quot;type&quot;: &quot;three&quot;,\n                &quot;title&quot;: &quot;Third Section&quot;,\n                &quot;content&quot;: [\n                    {\n                        &quot;account_id&quot;: &quot;5678&quot;,\n                        &quot;id&quot;: &quot;654321&quot;\n                    },\n                    {\n                        &quot;account_id&quot;: &quot;5465763&quot;,\n                        &quot;id&quot;: &quot;0864352342434&quot;\n                    },\n                    {\n                        &quot;account_id&quot;: &quot;856864745&quot;,\n                        &quot;id&quot;: &quot;97867562542&quot;\n                    },\n                    {\n                        &quot;account_id&quot;: &quot;43214545&quot;,\n                        &quot;id&quot;: &quot;86474653634&quot;\n                    }\n                ]\n            }\n        ]\n    }\n}\n</code></pre>\n<p>This JSON object is dynamic, so I wanted to loop through the entire sections array list to see if the account_id, id combo exist, but I'm having trouble drilling down through the nesting. This is what I am currently doing. This is my RxJava method. I know it's incorrect and is only grabbing the first account_id, id combo for each section object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void getSections() {\n    disposables.add(repository.getContent()\n            .subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribeWith(new DisposableObserver&lt;Content&gt;() {\n                @Override\n                public void onNext(@NonNull Content content) {\n\n                    List&lt;String&gt; idList = new ArrayList&lt;&gt;();\n                    List&lt;String&gt; idStringList = new ArrayList&lt;&gt;();\n\n                    for(int i = 0; i &lt; content.getContent().getSections().size(); i++){\n                        if(content.getContent().getSections().get(i).getType().equals(&quot;two&quot;)){\n                            idList.add(content.getContent().getSections().get(i).getContent().get(i).getAccountId() + &quot;:&quot; + content.getContent().getSections().get(i).getContent().get(i).getId());\n                        }\n                    }\n                    for(int i = 0; i &lt; content.getContent().getSections().size(); i++){\n                        if(content.getContent().getSections().get(i).getType().equals(&quot;three&quot;)){\n                            idList.add(content.getContent().getSections().get(i).getContent().get(i).getAccountId() + &quot;:&quot; + content.getContent().getSections().get(i).getContent().get(i).getId());\n                        }\n                    }\n\n                    sectionsIdsString = String.join(&quot;,&quot;, idList);\n                    getMoreContent(sectionsIdsString);\n\n                }\n\n                @Override\n                public void onError(@NonNull Throwable e) {\n\n                }\n\n                @Override\n                public void onComplete() {\n\n                }\n            }));\n}\n</code></pre>\n<p>How can I loop through this object to get all of the account_id's, id's?</p>\n"},{"tags":["java","excel","image","maven","aspose-cells"],"owner":{"account_id":27770619,"reputation":1,"user_id":21200948,"display_name":"Sharvari Mittal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682400633,"creation_date":1682400633,"question_id":76097878,"body_markdown":"I want to convert a few cells (which have made to appear as a chart but are not a chart) to an image using Maven in Java. I have written the below code - \r\n```\r\npublic void celltoImage(String sheetname, int firstrow, int firstcol, int totalrow, int totalcol) throws Exception\r\n    {\r\n    \tWorkbook wb = new Workbook (File1).\r\n        Worksheet sheet = wb.getWorksheets(). get(sheetname).\r\n        //Cells cell = sheet.getCells();\r\n        Range range = sheet.getCells().createRange(firstrow,firstcol,totalrow,totalcol);\r\n        ImageOrPrintOptions options = new ImageOrPrintOptions();\r\n        options.setPrintingPage(PrintingPageType.IGNORE_BLANK);\r\n        options.setImageFormat(ImageFormat.getJpeg());\r\n        SheetRender sheetRender = new SheetRender(range.getWorksheet(), options);\r\n        String imgName=INPATH+sheetname+ &quot;.jpeg&quot;;\r\n        OutputStream outputStream = new FileOutputStream(imgName).\r\n        sheetRender.toImage(0, outputStream).\r\n    }\r\n```\r\n\r\n\r\nWhen I am running this, code with the statement - `celltoImage(&quot;Sheetname&quot;,8,4,3,8) `I am getting an image starting from 1st cell of the worksheet instead of the cell specified, I5.\r\nWhat am I doing wrong?","title":"Convert a bunch of cells to an image in Java using aspose.cells","body":"<p>I want to convert a few cells (which have made to appear as a chart but are not a chart) to an image using Maven in Java. I have written the below code -</p>\n<pre><code>public void celltoImage(String sheetname, int firstrow, int firstcol, int totalrow, int totalcol) throws Exception\n    {\n        Workbook wb = new Workbook (File1).\n        Worksheet sheet = wb.getWorksheets(). get(sheetname).\n        //Cells cell = sheet.getCells();\n        Range range = sheet.getCells().createRange(firstrow,firstcol,totalrow,totalcol);\n        ImageOrPrintOptions options = new ImageOrPrintOptions();\n        options.setPrintingPage(PrintingPageType.IGNORE_BLANK);\n        options.setImageFormat(ImageFormat.getJpeg());\n        SheetRender sheetRender = new SheetRender(range.getWorksheet(), options);\n        String imgName=INPATH+sheetname+ &quot;.jpeg&quot;;\n        OutputStream outputStream = new FileOutputStream(imgName).\n        sheetRender.toImage(0, outputStream).\n    }\n</code></pre>\n<p>When I am running this, code with the statement - <code>celltoImage(&quot;Sheetname&quot;,8,4,3,8) </code>I am getting an image starting from 1st cell of the worksheet instead of the cell specified, I5.\nWhat am I doing wrong?</p>\n"},{"tags":["java","spring-boot","spring-restcontroller","exceptionhandler","controller-advice"],"comments":[{"owner":{"account_id":2203408,"reputation":5012,"user_id":1947216,"display_name":"mentallurg"},"score":0,"creation_date":1567549247,"post_id":57779303,"comment_id":101993530,"body_markdown":"Show us the code of your MyRestController.","body":"Show us the code of your MyRestController."},{"owner":{"account_id":1687901,"reputation":1513,"user_id":1550811,"accept_rate":86,"display_name":"Learner"},"score":0,"creation_date":1567603198,"post_id":57779303,"comment_id":102011850,"body_markdown":"@mentallurg I have added the Controller code in the question, pls take a look.","body":"@mentallurg I have added the Controller code in the question, pls take a look."},{"owner":{"account_id":7778530,"reputation":3138,"user_id":9860374,"display_name":"Matheus"},"score":0,"creation_date":1567706807,"post_id":57779303,"comment_id":102053123,"body_markdown":"&#39;Instead I am getting Unexpected &#39;e&#39; as the&#39; - do this appear in the console in a stack trace? If so, please, paste that stack trace in the question as well","body":"&#39;Instead I am getting Unexpected &#39;e&#39; as the&#39; - do this appear in the console in a stack trace? If so, please, paste that stack trace in the question as well"},{"owner":{"account_id":1687901,"reputation":1513,"user_id":1550811,"accept_rate":86,"display_name":"Learner"},"score":0,"creation_date":1567713892,"post_id":57779303,"comment_id":102055960,"body_markdown":"I get `Unexpected &#39;e&#39;` in the response body with HTTP code 400. There is no exception trace in the Console","body":"I get <code>Unexpected &#39;e&#39;</code> in the response body with HTTP code 400. There is no exception trace in the Console"},{"owner":{"account_id":2078462,"reputation":10342,"user_id":2986984,"accept_rate":80,"display_name":"tkruse"},"score":0,"creation_date":1567816326,"post_id":57779303,"comment_id":102089517,"body_markdown":"So what would you expect instead? Seems like your error handler is working fine. &quot;Unexpected &#39;e&#39; &quot; is the exception message coming from your service, it is returned with http400 instead of http500 for unhandled exceptions.","body":"So what would you expect instead? Seems like your error handler is working fine. &quot;Unexpected &#39;e&#39; &quot; is the exception message coming from your service, it is returned with http400 instead of http500 for unhandled exceptions."},{"owner":{"account_id":2078462,"reputation":10342,"user_id":2986984,"accept_rate":80,"display_name":"tkruse"},"score":0,"creation_date":1567909339,"post_id":57779303,"comment_id":102105546,"body_markdown":"If you don&#39;t see an error log, maybe your logging configuration is wrong.","body":"If you don&#39;t see an error log, maybe your logging configuration is wrong."},{"owner":{"account_id":2078462,"reputation":10342,"user_id":2986984,"accept_rate":80,"display_name":"tkruse"},"score":0,"creation_date":1567909487,"post_id":57779303,"comment_id":102105569,"body_markdown":"also you should show the URL you use when you get the error, and possibly the parts of your main application config where you include both the controller and the ControllerAdvice","body":"also you should show the URL you use when you get the error, and possibly the parts of your main application config where you include both the controller and the ControllerAdvice"},{"owner":{"account_id":93208,"reputation":6939,"user_id":255139,"accept_rate":44,"display_name":"Kalpesh Soni"},"score":0,"creation_date":1568053840,"post_id":57779303,"comment_id":102145037,"body_markdown":"what exception is code throwing and what does the stacktrace look like?","body":"what exception is code throwing and what does the stacktrace look like?"},{"owner":{"account_id":1687901,"reputation":1513,"user_id":1550811,"accept_rate":86,"display_name":"Learner"},"score":0,"creation_date":1568054499,"post_id":57779303,"comment_id":102145312,"body_markdown":"@KalpeshSoni I get Unexpected &#39;e&#39; in the response body with HTTP code 400. There is no exception trace in the Console.","body":"@KalpeshSoni I get Unexpected &#39;e&#39; in the response body with HTTP code 400. There is no exception trace in the Console."}],"answers":[{"comments":[{"owner":{"account_id":1687901,"reputation":1513,"user_id":1550811,"accept_rate":86,"display_name":"Learner"},"score":0,"creation_date":1568054514,"post_id":57859464,"comment_id":102145319,"body_markdown":"I don&#39;t have that anywhere.","body":"I don&#39;t have that anywhere."}],"tags":[],"owner":{"account_id":93208,"reputation":6939,"user_id":255139,"accept_rate":44,"display_name":"Kalpesh Soni"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1568053940,"creation_date":1568053940,"answer_id":57859464,"question_id":57779303,"body_markdown":"Make sure you have no other spring components that extend\r\n\r\n\r\n    AbstractErrorController","title":"@ControllerAdvice and @ExceptionHandler not getting triggered for my RestController","body":"<p>Make sure you have no other spring components that extend</p>\n\n<pre><code>AbstractErrorController\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6456834,"reputation":747,"user_id":5001937,"display_name":"Suraj"},"score":0,"creation_date":1568056168,"post_id":57859661,"comment_id":102145994,"body_markdown":"Here&#39;s a demo project of Global Error Handler in Spring Boot https://github.com/s2agrahari/global-excpetion-handler-spring-boot","body":"Here&#39;s a demo project of Global Error Handler in Spring Boot <a href=\"https://github.com/s2agrahari/global-excpetion-handler-spring-boot\" rel=\"nofollow noreferrer\">github.com/s2agrahari/global-excpetion-handler-spring-boot</a>"},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1568056607,"post_id":57859661,"comment_id":102146164,"body_markdown":"Don&#39;t think it needs to extend `ResponseEntityExceptionHandler` . I have use many `@ControllerAdvice` without extending `ResponseEntityExceptionHandler` in many projects and work very well..","body":"Don&#39;t think it needs to extend <code>ResponseEntityExceptionHandler</code> . I have use many <code>@ControllerAdvice</code> without extending <code>ResponseEntityExceptionHandler</code> in many projects and work very well.."},{"owner":{"account_id":6456834,"reputation":747,"user_id":5001937,"display_name":"Suraj"},"score":0,"creation_date":1568057108,"post_id":57859661,"comment_id":102146375,"body_markdown":"Thanks @KenChan for reporting. Updated the answer","body":"Thanks @KenChan for reporting. Updated the answer"}],"tags":[],"owner":{"account_id":6456834,"reputation":747,"user_id":5001937,"display_name":"Suraj"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568057024,"creation_date":1568054864,"answer_id":57859661,"question_id":57779303,"body_markdown":"Below controller advice should solve the problem. \r\n\r\n    @ControllerAdvice\r\n    public class RestExceptionHandler extends ResponseEntityExceptionHandler {\r\n\r\n     @ExceptionHandler(value = {InvalidDataException.class})\r\n     protected ResponseEntity&lt;Object&gt; handleInvalidDataException(\r\n      RuntimeException ex, WebRequest request) {\r\n        return new ResponseEntity&lt;&gt;(getExceptionResponse(&quot;Failed with Invalid data&quot; + ex.getMessage(), HttpStatus.BAD_REQUEST.value()), HttpStatus.BAD_REQUEST);\r\n    }","title":"@ControllerAdvice and @ExceptionHandler not getting triggered for my RestController","body":"<p>Below controller advice should solve the problem. </p>\n\n<pre><code>@ControllerAdvice\npublic class RestExceptionHandler extends ResponseEntityExceptionHandler {\n\n @ExceptionHandler(value = {InvalidDataException.class})\n protected ResponseEntity&lt;Object&gt; handleInvalidDataException(\n  RuntimeException ex, WebRequest request) {\n    return new ResponseEntity&lt;&gt;(getExceptionResponse(\"Failed with Invalid data\" + ex.getMessage(), HttpStatus.BAD_REQUEST.value()), HttpStatus.BAD_REQUEST);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1687901,"reputation":1513,"user_id":1550811,"accept_rate":86,"display_name":"Learner"},"score":0,"creation_date":1568066732,"post_id":57859900,"comment_id":102149576,"body_markdown":"Sure will try and let you know.","body":"Sure will try and let you know."},{"owner":{"account_id":1687901,"reputation":1513,"user_id":1550811,"accept_rate":86,"display_name":"Learner"},"score":0,"creation_date":1568386845,"post_id":57859900,"comment_id":102269593,"body_markdown":"Hi @Ken, Thanks for your answer. As we are using an in-house framework I believe that is interfering with the error handling, and I see that following class from the framework gets called\n`class GlobalExceptionHandler extends ExceptionHandlerExceptionResolver implements HandlerExceptionResolver, Ordered, InitializingBean {}`  and following method from that class gets called:\n`@Override\n    protected ServletInvocableHandlerMethod getExceptionHandlerMethod(HandlerMethod handlerMethod, Exception exception) {..}`","body":"Hi @Ken, Thanks for your answer. As we are using an in-house framework I believe that is interfering with the error handling, and I see that following class from the framework gets called <code>class GlobalExceptionHandler extends ExceptionHandlerExceptionResolver implements HandlerExceptionResolver, Ordered, InitializingBean {}</code>  and following method from that class gets called: <code>@Override     protected ServletInvocableHandlerMethod getExceptionHandlerMethod(HandlerMethod handlerMethod, Exception exception) {..}</code>"},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1568389919,"post_id":57859900,"comment_id":102271167,"body_markdown":"Yes , I guess most probably it is interfering , for example your customised `GlobalExceptionHandler` may be configured to have higher priority to resolve he exception than the built-in one and it somehow cannot handle `@ControllerAdvice`....","body":"Yes , I guess most probably it is interfering , for example your customised <code>GlobalExceptionHandler</code> may be configured to have higher priority to resolve he exception than the built-in one and it somehow cannot handle <code>@ControllerAdvice</code>...."},{"owner":{"account_id":1687901,"reputation":1513,"user_id":1550811,"accept_rate":86,"display_name":"Learner"},"score":0,"creation_date":1568391869,"post_id":57859900,"comment_id":102272034,"body_markdown":"I did give `@Order(Ordered.HIGHEST_PRECEDENCE)` on my RestExceptionHandler  but even then it does not get called. How to have it call my handler?","body":"I did give <code>@Order(Ordered.HIGHEST_PRECEDENCE)</code> on my RestExceptionHandler  but even then it does not get called. How to have it call my handler?"},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1568394606,"post_id":57859900,"comment_id":102273133,"body_markdown":"Your customised GlobalExceptionHandler are overriding `getExceptionHandlerMethod()` which contain the logic of how to call the `@ControllerAdvice` bean. I am guessing are you override the logic about getting `@ControllerAdvice` ? As you do not show more codes about how to configure the exception handlers and what the `GlobalExceptionHandler` looks like , I can only guess ...","body":"Your customised GlobalExceptionHandler are overriding <code>getExceptionHandlerMethod()</code> which contain the logic of how to call the <code>@ControllerAdvice</code> bean. I am guessing are you override the logic about getting <code>@ControllerAdvice</code> ? As you do not show more codes about how to configure the exception handlers and what the <code>GlobalExceptionHandler</code> looks like , I can only guess ..."},{"owner":{"account_id":1687901,"reputation":1513,"user_id":1550811,"accept_rate":86,"display_name":"Learner"},"score":0,"creation_date":1568397144,"post_id":57859900,"comment_id":102274090,"body_markdown":"I added the code snippet from my `GlobalExceptionHandler` in the question above, please let me know if more details are needed.","body":"I added the code snippet from my <code>GlobalExceptionHandler</code> in the question above, please let me know if more details are needed."},{"owner":{"account_id":1687901,"reputation":1513,"user_id":1550811,"accept_rate":86,"display_name":"Learner"},"score":0,"creation_date":1568748878,"post_id":57859900,"comment_id":102371050,"body_markdown":"Did you get a chance to look at my above comment?","body":"Did you get a chance to look at my above comment?"},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1568750218,"post_id":57859900,"comment_id":102371639,"body_markdown":"Not sure why you override `getExceptionHandlerMethod()` in `GlobalExceptionHandler` as you are override the logic to call @ControllerAdvice bean. Can you remove them to see if your  @ControllerAdvice get called ?","body":"Not sure why you override <code>getExceptionHandlerMethod()</code> in <code>GlobalExceptionHandler</code> as you are override the logic to call @ControllerAdvice bean. Can you remove them to see if your  @ControllerAdvice get called ?"},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1568750494,"post_id":57859900,"comment_id":102371743,"body_markdown":"Or change the  `return null` to `return super.getExceptionHandlerMethod( handlerMethod,  exception) `","body":"Or change the  <code>return null</code> to <code>return super.getExceptionHandlerMethod( handlerMethod,  exception) </code>"}],"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":9,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1568056457,"creation_date":1568056156,"answer_id":57859900,"question_id":57779303,"body_markdown":"It should work. Some possible causes that make it fails may be :\r\n\r\n 1. The `RestExceptionHandler` is not declared as a spring bean yet ?  `@SpringBootApplication` by default will only scan the spring beans to register under its package and all of its sub-packages. \r\n\r\n 2. The controller is actually not throwing `InvalidDataException` but other exception ?\r\n\r\nAnyway I suggest you to make the following changes to check if `RestExceptionHandler` is get called .\r\n\r\nIn your spring boot main application class , explicitly register `RestExceptionHandler` as a spring bean using `@Import`\r\n\r\n``` lang-java\r\n@SpringBootApplication\r\n@Import(RestExceptionHandler.class)\r\npublic class Application {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(Application.class, args);\r\n\t}\r\n}\r\n```\r\n\r\nAlso in the `RestExceptionHandler` , also include a method to catch the most generic Exception :\r\n\r\n``` lang-java\r\n@ControllerAdvice\r\npublic class RestExceptionHandler {\r\n\t\r\n\t@ExceptionHandler(Exception.class)\r\n    @ResponseStatus(value = HttpStatus.BAD_REQUEST)\r\n\tpublic ErrorResponse handleGenericException(final Exception ex ,final WebRequest request) {\r\n    \tSystem.out.println(&quot;handleGenericException ....&quot;);\r\n        return getExceptionResponse(&quot;Failed with Invalid data&quot; + ex.getMessage(), HttpStatus.BAD_REQUEST.value());\r\n\t}\r\n}\r\n```\r\nPlease let me know if the `RestExceptionHandler ` will get called after making these changes.","title":"@ControllerAdvice and @ExceptionHandler not getting triggered for my RestController","body":"<p>It should work. Some possible causes that make it fails may be :</p>\n\n<ol>\n<li><p>The <code>RestExceptionHandler</code> is not declared as a spring bean yet ?  <code>@SpringBootApplication</code> by default will only scan the spring beans to register under its package and all of its sub-packages. </p></li>\n<li><p>The controller is actually not throwing <code>InvalidDataException</code> but other exception ?</p></li>\n</ol>\n\n<p>Anyway I suggest you to make the following changes to check if <code>RestExceptionHandler</code> is get called .</p>\n\n<p>In your spring boot main application class , explicitly register <code>RestExceptionHandler</code> as a spring bean using <code>@Import</code></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@Import(RestExceptionHandler.class)\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n\n<p>Also in the <code>RestExceptionHandler</code> , also include a method to catch the most generic Exception :</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@ControllerAdvice\npublic class RestExceptionHandler {\n\n    @ExceptionHandler(Exception.class)\n    @ResponseStatus(value = HttpStatus.BAD_REQUEST)\n    public ErrorResponse handleGenericException(final Exception ex ,final WebRequest request) {\n        System.out.println(\"handleGenericException ....\");\n        return getExceptionResponse(\"Failed with Invalid data\" + ex.getMessage(), HttpStatus.BAD_REQUEST.value());\n    }\n}\n</code></pre>\n\n<p>Please let me know if the <code>RestExceptionHandler</code> will get called after making these changes.</p>\n"},{"tags":[],"owner":{"account_id":17659919,"reputation":608,"user_id":12818585,"display_name":"Andrea Ciccotta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629292915,"creation_date":1629292915,"answer_id":68833260,"question_id":57779303,"body_markdown":"replace `@ControllerAdvice` with `@RestControllerAdvice`","title":"@ControllerAdvice and @ExceptionHandler not getting triggered for my RestController","body":"<p>replace <code>@ControllerAdvice</code> with <code>@RestControllerAdvice</code></p>\n"},{"tags":[],"owner":{"account_id":23730809,"reputation":11,"user_id":17750090,"display_name":"prabhat suyal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682399297,"creation_date":1682399297,"answer_id":76097783,"question_id":57779303,"body_markdown":"below code was enough for me to make the Adviser class workable in the Controller class\r\n\r\n    @SpringBootApplication\r\n    @Import(RestExceptionHandler.class)\r\n    public class Application {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n    }","title":"@ControllerAdvice and @ExceptionHandler not getting triggered for my RestController","body":"<p>below code was enough for me to make the Adviser class workable in the Controller class</p>\n<pre><code>@SpringBootApplication\n@Import(RestExceptionHandler.class)\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1687901,"reputation":1513,"user_id":1550811,"accept_rate":86,"display_name":"Learner"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21168,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":57859900,"answer_count":5,"score":9,"last_activity_date":1682399297,"creation_date":1567548633,"question_id":57779303,"body_markdown":"In order to have unified exception handling throughout the application I am using [Error Handling for REST with Spring][1] solution#3 which uses `@ControllerAdvice` along with `@ExceptionHandler`.\r\n\r\nSpring version: 4.3.22.RELEASE\r\n\r\nSpring Boot version: 1.5.19.RELEASE\r\n\r\nThis is a Spring boot application and following is my package structure.\r\n\r\n    src/main/java\r\n      com.test.app.controller\r\n         MyRestController.java       -- This is my Rest controller\r\n      com.test.app.handler\r\n         RestExceptionHandler.java   -- This is my ControllerAdvice class\r\n        \r\nFollowing is my ControllerAdvice code and one of the Controller throws `InvalidDataException` but still the corresponding `@ExceptionHandler` is not called. Instead I am getting `Unexpected &#39;e&#39;` as the response body with *http 400*.\r\n\r\n\r\n    @ControllerAdvice\r\n    public class RestExceptionHandler {\r\n    \r\n        @ExceptionHandler(InvalidDataException.class)\r\n        @ResponseStatus(value = HttpStatus.BAD_REQUEST)\r\n        public @ResponseBody ErrorResponse handleValidationError(final InvalidDataException ex,\r\n                                                                 final WebRequest request) {\r\n            log.error(&quot;InvalidDataException message:{} &quot;, ex.getMessage());\r\n            return getExceptionResponse(&quot;Failed with Invalid data&quot; + ex.getMessage(), HttpStatus.BAD_REQUEST.value());\r\n        }\r\n    \r\n    \r\n        private ErrorResponse getExceptionResponse(final String message, final Integer errorCode) {\r\n            final ErrorResponse exceptionResponse = new ErrorResponse();\r\n            exceptionResponse.setErrorCode(errorCode.toString());\r\n            exceptionResponse.setErrorDescription(message);\r\n            log.error(&quot;message:{}&quot;, exceptionResponse);\r\n            return exceptionResponse;\r\n        }\r\n    }\r\n\r\nI looked at other post on SO as well as other forums where they mentioned to use `@EnableWebMvc` and `@ComponentScan` etc. but nothing helped. Could someone please help me understand what am I missing?\r\n\r\nFollowing is my `Controller` and corresponding interface.\r\n\r\n    @RestController\r\n    public class MyRestController implements MyApi {\r\n    \r\n        @Override\r\n        public ResponseEntity&lt;List&lt;MyResponse&gt;&gt; myGet(@RequestHeader(value = &quot;a&quot;) String a,\r\n                                                                   @RequestHeader(value = &quot;b&quot;) String b,\r\n                                                                   @RequestHeader(value = &quot;c&quot;) String c,\r\n                                                                   @RequestHeader(value = &quot;d&quot;) String d,\r\n                                                                   @RequestHeader(value = &quot;e&quot;) String e,\r\n                                                                   @RequestHeader(value = &quot;f&quot;) String f,\r\n                                                                   @RequestHeader(value = &quot;g&quot;) String g) {\r\n    \r\n          List&lt;MyResponse&gt; responses = service.getData(c, d, e, f); // This throws exception\r\n          return new ResponseEntity&lt;&gt;(responses, HttpStatus.OK);\r\n        }\r\n    }\r\n\r\n\r\n    @Validated\r\n    @Api(value = &quot;My&quot;, description = &quot;the My API&quot;)\r\n    //This is generated interface through swagger codegen\r\n    public interface MyApi {\r\n    \r\n        @ApiOperation(value = &quot;&quot;, nickname = &quot;myGet&quot;, notes = &quot;&quot;, response = MyResponse.class, responseContainer = &quot;List&quot;)\r\n        @ApiResponses(value = {\r\n            @ApiResponse(code = 200, message = &quot;normal response&quot;, response = MyResponse.class, responseContainer = &quot;List&quot;),\r\n            @ApiResponse(code = 400, message = &quot;Request is invalid&quot;, response = ErrorResponse.class),\r\n            @ApiResponse(code = 401, message = &quot;&quot;, response = ErrorResponse.class),\r\n            @ApiResponse(code = 404, message = &quot;&quot;, response = ErrorResponse.class),\r\n            @ApiResponse(code = 405, message = &quot;&quot;, response = ErrorResponse.class),\r\n            @ApiResponse(code = 409, message = &quot;&quot;, response = ErrorResponse.class),\r\n            @ApiResponse(code = 500, message = &quot;Internal Server Error&quot;, response = ErrorResponse.class),\r\n            @ApiResponse(code = 503, message = &quot;Service Unavailable&quot;, response = ErrorResponse.class) })\r\n        @RequestMapping(value = &quot;/v1/test&quot;,\r\n            produces = { &quot;application/json&quot; }, \r\n            method = RequestMethod.GET)\r\n        default ResponseEntity&lt;List&lt;MyResponse&gt;&gt; myGet(@ApiParam(value = &quot;a&quot; ,required=true) @RequestHeader(value=&quot;a&quot;, required=true) String a,\r\n                                                       @ApiParam(value = &quot;b&quot; ,required=true) @RequestHeader(value=&quot;b&quot;, required=true) String b,\r\n                                                       @ApiParam(value = &quot;c&quot; ,required=true) @RequestHeader(value=&quot;c&quot;, required=true) String c,\r\n                                                       @ApiParam(value = &quot;d&quot; ,required=true) @RequestHeader(value=&quot;d&quot;, required=true) String d,\r\n                                                       @ApiParam(value = &quot;e&quot; ,required=true) @RequestHeader(value=&quot;e&quot;, required=true) String e,\r\n                                                       @ApiParam(value = &quot;f&quot; ,required=true) @RequestHeader(value=&quot;f&quot;, required=true) String f,\r\n                                                       @ApiParam(value = &quot;g&quot; ,required=true) @RequestHeader(value=&quot;g&quot;, required=true) String g) {\r\n            getRequest().ifPresent(request -&gt; {\r\n                for (MediaType mediaType: MediaType.parseMediaTypes(request.getHeader(&quot;Accept&quot;))) {\r\n                    if (mediaType.isCompatibleWith(MediaType.valueOf(&quot;application/json&quot;))) {\r\n                        ApiUtil.setExampleResponse(request, &quot;application/json&quot;, &quot;{  \\&quot;aNum\\&quot; : 0,  \\&quot;cNum\\&quot; : \\&quot;cNum\\&quot;}&quot;);\r\n                        break;\r\n                    }\r\n                }\r\n            });\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.NOT_IMPLEMENTED);\r\n        }\r\n    }\r\n\r\n\r\nFollowing is the code snippet from my `GlobalExceptionHandler`\r\n\r\n    class GlobalExceptionHandler extends ExceptionHandlerExceptionResolver implements HandlerExceptionResolver, Ordered, InitializingBean {\r\n        ...\r\n        @Override\r\n        protected ServletInvocableHandlerMethod getExceptionHandlerMethod(HandlerMethod handlerMethod, Exception exception) {\r\n            if (exception instanceof com.myframework.SystemException) {\r\n                return new ServletInvocableHandlerMethod(this, exceptionMethods.get(com.myframework.SystemException.class.getName()));\r\n            } else if (exception instanceof GenericApplicationException) {\r\n                return new ServletInvocableHandlerMethod(this, exceptionMethods.get(com.myframework.GenericApplicationException.class.getName()));\r\n            } else {\r\n                return null;\r\n            }\r\n        }\r\n        ....\r\n    }\r\n\r\n  [1]: https://www.baeldung.com/exception-handling-for-rest-with-spring\r\n","title":"@ControllerAdvice and @ExceptionHandler not getting triggered for my RestController","body":"<p>In order to have unified exception handling throughout the application I am using <a href=\"https://www.baeldung.com/exception-handling-for-rest-with-spring\" rel=\"nofollow noreferrer\">Error Handling for REST with Spring</a> solution#3 which uses <code>@ControllerAdvice</code> along with <code>@ExceptionHandler</code>.</p>\n\n<p>Spring version: 4.3.22.RELEASE</p>\n\n<p>Spring Boot version: 1.5.19.RELEASE</p>\n\n<p>This is a Spring boot application and following is my package structure.</p>\n\n<pre><code>src/main/java\n  com.test.app.controller\n     MyRestController.java       -- This is my Rest controller\n  com.test.app.handler\n     RestExceptionHandler.java   -- This is my ControllerAdvice class\n</code></pre>\n\n<p>Following is my ControllerAdvice code and one of the Controller throws <code>InvalidDataException</code> but still the corresponding <code>@ExceptionHandler</code> is not called. Instead I am getting <code>Unexpected 'e'</code> as the response body with <em>http 400</em>.</p>\n\n<pre><code>@ControllerAdvice\npublic class RestExceptionHandler {\n\n    @ExceptionHandler(InvalidDataException.class)\n    @ResponseStatus(value = HttpStatus.BAD_REQUEST)\n    public @ResponseBody ErrorResponse handleValidationError(final InvalidDataException ex,\n                                                             final WebRequest request) {\n        log.error(\"InvalidDataException message:{} \", ex.getMessage());\n        return getExceptionResponse(\"Failed with Invalid data\" + ex.getMessage(), HttpStatus.BAD_REQUEST.value());\n    }\n\n\n    private ErrorResponse getExceptionResponse(final String message, final Integer errorCode) {\n        final ErrorResponse exceptionResponse = new ErrorResponse();\n        exceptionResponse.setErrorCode(errorCode.toString());\n        exceptionResponse.setErrorDescription(message);\n        log.error(\"message:{}\", exceptionResponse);\n        return exceptionResponse;\n    }\n}\n</code></pre>\n\n<p>I looked at other post on SO as well as other forums where they mentioned to use <code>@EnableWebMvc</code> and <code>@ComponentScan</code> etc. but nothing helped. Could someone please help me understand what am I missing?</p>\n\n<p>Following is my <code>Controller</code> and corresponding interface.</p>\n\n<pre><code>@RestController\npublic class MyRestController implements MyApi {\n\n    @Override\n    public ResponseEntity&lt;List&lt;MyResponse&gt;&gt; myGet(@RequestHeader(value = \"a\") String a,\n                                                               @RequestHeader(value = \"b\") String b,\n                                                               @RequestHeader(value = \"c\") String c,\n                                                               @RequestHeader(value = \"d\") String d,\n                                                               @RequestHeader(value = \"e\") String e,\n                                                               @RequestHeader(value = \"f\") String f,\n                                                               @RequestHeader(value = \"g\") String g) {\n\n      List&lt;MyResponse&gt; responses = service.getData(c, d, e, f); // This throws exception\n      return new ResponseEntity&lt;&gt;(responses, HttpStatus.OK);\n    }\n}\n\n\n@Validated\n@Api(value = \"My\", description = \"the My API\")\n//This is generated interface through swagger codegen\npublic interface MyApi {\n\n    @ApiOperation(value = \"\", nickname = \"myGet\", notes = \"\", response = MyResponse.class, responseContainer = \"List\")\n    @ApiResponses(value = {\n        @ApiResponse(code = 200, message = \"normal response\", response = MyResponse.class, responseContainer = \"List\"),\n        @ApiResponse(code = 400, message = \"Request is invalid\", response = ErrorResponse.class),\n        @ApiResponse(code = 401, message = \"\", response = ErrorResponse.class),\n        @ApiResponse(code = 404, message = \"\", response = ErrorResponse.class),\n        @ApiResponse(code = 405, message = \"\", response = ErrorResponse.class),\n        @ApiResponse(code = 409, message = \"\", response = ErrorResponse.class),\n        @ApiResponse(code = 500, message = \"Internal Server Error\", response = ErrorResponse.class),\n        @ApiResponse(code = 503, message = \"Service Unavailable\", response = ErrorResponse.class) })\n    @RequestMapping(value = \"/v1/test\",\n        produces = { \"application/json\" }, \n        method = RequestMethod.GET)\n    default ResponseEntity&lt;List&lt;MyResponse&gt;&gt; myGet(@ApiParam(value = \"a\" ,required=true) @RequestHeader(value=\"a\", required=true) String a,\n                                                   @ApiParam(value = \"b\" ,required=true) @RequestHeader(value=\"b\", required=true) String b,\n                                                   @ApiParam(value = \"c\" ,required=true) @RequestHeader(value=\"c\", required=true) String c,\n                                                   @ApiParam(value = \"d\" ,required=true) @RequestHeader(value=\"d\", required=true) String d,\n                                                   @ApiParam(value = \"e\" ,required=true) @RequestHeader(value=\"e\", required=true) String e,\n                                                   @ApiParam(value = \"f\" ,required=true) @RequestHeader(value=\"f\", required=true) String f,\n                                                   @ApiParam(value = \"g\" ,required=true) @RequestHeader(value=\"g\", required=true) String g) {\n        getRequest().ifPresent(request -&gt; {\n            for (MediaType mediaType: MediaType.parseMediaTypes(request.getHeader(\"Accept\"))) {\n                if (mediaType.isCompatibleWith(MediaType.valueOf(\"application/json\"))) {\n                    ApiUtil.setExampleResponse(request, \"application/json\", \"{  \\\"aNum\\\" : 0,  \\\"cNum\\\" : \\\"cNum\\\"}\");\n                    break;\n                }\n            }\n        });\n        return new ResponseEntity&lt;&gt;(HttpStatus.NOT_IMPLEMENTED);\n    }\n}\n</code></pre>\n\n<p>Following is the code snippet from my <code>GlobalExceptionHandler</code></p>\n\n<pre><code>class GlobalExceptionHandler extends ExceptionHandlerExceptionResolver implements HandlerExceptionResolver, Ordered, InitializingBean {\n    ...\n    @Override\n    protected ServletInvocableHandlerMethod getExceptionHandlerMethod(HandlerMethod handlerMethod, Exception exception) {\n        if (exception instanceof com.myframework.SystemException) {\n            return new ServletInvocableHandlerMethod(this, exceptionMethods.get(com.myframework.SystemException.class.getName()));\n        } else if (exception instanceof GenericApplicationException) {\n            return new ServletInvocableHandlerMethod(this, exceptionMethods.get(com.myframework.GenericApplicationException.class.getName()));\n        } else {\n            return null;\n        }\n    }\n    ....\n}\n</code></pre>\n"},{"tags":["java","android","android-viewpager"],"owner":{"account_id":28407462,"reputation":1,"user_id":21731281,"display_name":"Danny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682399255,"creation_date":1682399255,"question_id":76097777,"body_markdown":"I&#39;m currently making a java project for android and I have a ViewPager2 class, Inside one of it&#39;s fragments. I use the SortableTableView Library to make a sortable table. The dataclicked function worked just fine but the TableHeaderClickListener won&#39;t work. When clicked, it looks like the whole header was clicked and not the column. So the TableHeaderClickListener function didn&#39;t get called. \r\n\r\nBut when I changed ViewPager2 Into the old ViewPager it works completely fine, is there something I&#39;m missing in ViewPager2? ","title":"SortableTableView Header Cannot Be Clicked inside of ViewPager2&#39;s Fragment","body":"<p>I'm currently making a java project for android and I have a ViewPager2 class, Inside one of it's fragments. I use the SortableTableView Library to make a sortable table. The dataclicked function worked just fine but the TableHeaderClickListener won't work. When clicked, it looks like the whole header was clicked and not the column. So the TableHeaderClickListener function didn't get called.</p>\n<p>But when I changed ViewPager2 Into the old ViewPager it works completely fine, is there something I'm missing in ViewPager2?</p>\n"},{"tags":["java","json","web-services","cxf","jax-rs"],"comments":[{"owner":{"account_id":3142522,"reputation":1154,"user_id":2657714,"display_name":"user2657714"},"score":4,"creation_date":1375810685,"post_id":18086621,"comment_id":26473135,"body_markdown":"We had to change it to:\n`String output = response.readEntity(String.class);`\nTo make it work. Thanks a lot!","body":"We had to change it to: <code>String output = response.readEntity(String.class);</code> To make it work. Thanks a lot!"}],"answers":[{"comments":[{"owner":{"account_id":8578,"reputation":5445,"user_id":15527,"display_name":"Martin Spamer"},"score":50,"creation_date":1403103868,"post_id":18086656,"comment_id":37531701,"body_markdown":"This will only work with Jax 1.x, from Jersey: 2.x onward which the OP is using (We can tell from his use of ClientBuilder.newClient();).  The response is `response.readEntity(String.class);`","body":"This will only work with Jax 1.x, from Jersey: 2.x onward which the OP is using (We can tell from his use of ClientBuilder.newClient();).  The response is <code>response.readEntity(String.class);</code>"},{"owner":{"account_id":537173,"reputation":2954,"user_id":905817,"accept_rate":64,"display_name":"col.panic"},"score":3,"creation_date":1425031494,"post_id":18086656,"comment_id":45804074,"body_markdown":"This does not work for jaxrs-ri-2.16, here you get ```org.glassfish.jersey.client.HttpUrlConnector$2@1255b1d1``` as output.","body":"This does not work for jaxrs-ri-2.16, here you get <code>org.glassfish.jersey.client.HttpUrlConnector$2@1255b1d1</code> as output."},{"owner":{"account_id":6811591,"reputation":1489,"user_id":5241549,"accept_rate":43,"display_name":"spectre007"},"score":0,"creation_date":1463894264,"post_id":18086656,"comment_id":62253640,"body_markdown":"thanks, I got stuck into this for long time as I was using getEntity() to read response message body. getEntity() works only with Jersey 1.x and Jersey 2.0 has support for response.readEntity() to get response message body.","body":"thanks, I got stuck into this for long time as I was using getEntity() to read response message body. getEntity() works only with Jersey 1.x and Jersey 2.0 has support for response.readEntity() to get response message body."},{"owner":{"account_id":487921,"reputation":1196,"user_id":1360042,"display_name":"dvlcube"},"score":0,"creation_date":1583210802,"post_id":18086656,"comment_id":107029640,"body_markdown":"Note that if you get a `com.owlike.genson.stream.JsonStreamException: Readen value can not be converted to String`, you&#39;ll need to read the response stream manually to get the JSON String. That happened for me with Jersey 1.19.","body":"Note that if you get a <code>com.owlike.genson.stream.JsonStreamException: Readen value can not be converted to String</code>, you&#39;ll need to read the response stream manually to get the JSON String. That happened for me with Jersey 1.19."}],"tags":[],"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"comment_count":4,"down_vote_count":4,"up_vote_count":220,"is_accepted":true,"score":216,"last_activity_date":1589360445,"creation_date":1375810006,"answer_id":18086656,"question_id":18086621,"body_markdown":"\r\nTry this:\r\n\r\n\tString output = response.getEntity(String.class);\r\n\r\n**EDIT**\r\n\r\nThanks to [@Martin Spamer][1] to mention that it will work for Jersey 1.x jars only. For Jersey 2.x use \r\n\r\n    String output = response.readEntity(String.class);\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/15527/martin-spamer","title":"Read response body in JAX-RS client from a post request","body":"<p>Try this:</p>\n\n<pre><code>String output = response.getEntity(String.class);\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>Thanks to <a href=\"https://stackoverflow.com/users/15527/martin-spamer\">@Martin Spamer</a> to mention that it will work for Jersey 1.x jars only. For Jersey 2.x use </p>\n\n<pre><code>String output = response.readEntity(String.class);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":189379,"reputation":3490,"user_id":428685,"display_name":"Alfishe"},"score":15,"creation_date":1431563612,"post_id":28762475,"comment_id":48558564,"body_markdown":"Jersey developers drive me crazy. Every version methods naming and/or the whole workflow changes drastically. It&#39;s like playing Miner game. Find all mines from scratch.","body":"Jersey developers drive me crazy. Every version methods naming and/or the whole workflow changes drastically. It&#39;s like playing Miner game. Find all mines from scratch."},{"owner":{"account_id":1429890,"reputation":6439,"user_id":1352530,"accept_rate":75,"display_name":"Whimusical"},"score":2,"creation_date":1460483742,"post_id":28762475,"comment_id":60760338,"body_markdown":"Don&#39;t you like Agility? :)","body":"Don&#39;t you like Agility? :)"},{"owner":{"account_id":8888951,"reputation":1377,"user_id":6636290,"accept_rate":85,"display_name":"Hristo Vrigazov"},"score":9,"creation_date":1526303001,"post_id":28762475,"comment_id":87678038,"body_markdown":"@Whimusical I think he likes backward compatibility :)","body":"@Whimusical I think he likes backward compatibility :)"}],"tags":[],"owner":{"account_id":537173,"reputation":2954,"user_id":905817,"accept_rate":64,"display_name":"col.panic"},"comment_count":3,"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1425031798,"creation_date":1425031798,"answer_id":28762475,"question_id":18086621,"body_markdown":"I just found a solution for jaxrs-ri-2.16 - simply use\r\n\r\n```String output = response.readEntity(String.class)\r\n```\r\n\r\nthis delivers the content as expected.\r\n","title":"Read response body in JAX-RS client from a post request","body":"<p>I just found a solution for jaxrs-ri-2.16 - simply use</p>\n\n<p><code>String output = response.readEntity(String.class)\n</code></p>\n\n<p>this delivers the content as expected.</p>\n"},{"comments":[{"owner":{"account_id":53155,"reputation":7742,"user_id":158876,"accept_rate":93,"display_name":"Ben"},"score":3,"creation_date":1471371246,"post_id":38797942,"comment_id":65316339,"body_markdown":"getEntity won&#39;t automatically read any backing InputStream, so be careful.","body":"getEntity won&#39;t automatically read any backing InputStream, so be careful."},{"owner":{"account_id":221010,"reputation":71,"user_id":478752,"display_name":"HirenP"},"score":1,"creation_date":1673365223,"post_id":38797942,"comment_id":132479526,"body_markdown":"this solves it when Respose is hand-created in unit tests","body":"this solves it when Respose is hand-created in unit tests"}],"tags":[],"owner":{"account_id":6236403,"reputation":10241,"user_id":4851565,"accept_rate":84,"display_name":"entpnerd"},"comment_count":2,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1470432171,"creation_date":1470432171,"answer_id":38797942,"question_id":18086621,"body_markdown":"For my use case, none of the previous answers worked because I was writing a server-side unit test which was failing due the following error message as described in the [Unable to Mock Glassfish Jersey Client Response Object][1] question:\r\n\r\n    java.lang.IllegalStateException: Method not supported on an outbound message.\r\n\tat org.glassfish.jersey.message.internal.OutboundJaxrsResponse.readEntity(OutboundJaxrsResponse.java:145)\r\n\tat ...\r\n\r\nThis exception occurred on the following line of code:\r\n\r\n    String actJsonBody = actResponse.readEntity(String.class);\r\n\r\nThe fix was to turn the problem line of code into:\r\n\r\n    String actJsonBody = (String) actResponse.getEntity();\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/19557672/unable-to-mock-glassfish-jersey-client-response-object","title":"Read response body in JAX-RS client from a post request","body":"<p>For my use case, none of the previous answers worked because I was writing a server-side unit test which was failing due the following error message as described in the <a href=\"https://stackoverflow.com/questions/19557672/unable-to-mock-glassfish-jersey-client-response-object\">Unable to Mock Glassfish Jersey Client Response Object</a> question:</p>\n\n<pre><code>java.lang.IllegalStateException: Method not supported on an outbound message.\nat org.glassfish.jersey.message.internal.OutboundJaxrsResponse.readEntity(OutboundJaxrsResponse.java:145)\nat ...\n</code></pre>\n\n<p>This exception occurred on the following line of code:</p>\n\n<pre><code>String actJsonBody = actResponse.readEntity(String.class);\n</code></pre>\n\n<p>The fix was to turn the problem line of code into:</p>\n\n<pre><code>String actJsonBody = (String) actResponse.getEntity();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":284086,"reputation":793,"user_id":581966,"accept_rate":75,"display_name":"John Calcote"},"score":3,"creation_date":1556943978,"post_id":46851550,"comment_id":98608726,"body_markdown":"Thank you! You&#39;re probably the first person to actually understand the OP&#39;s question. For all you other first-responders out there: no one cares how smart you are. They want to fix their problem. They&#39;re not interested in why jersey doesn&#39;t let you call readResponse in a unit test.","body":"Thank you! You&#39;re probably the first person to actually understand the OP&#39;s question. For all you other first-responders out there: no one cares how smart you are. They want to fix their problem. They&#39;re not interested in why jersey doesn&#39;t let you call readResponse in a unit test."}],"tags":[],"owner":{"account_id":2691138,"reputation":105,"user_id":2324477,"display_name":"Cheefachi"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1508510452,"creation_date":1508510452,"answer_id":46851550,"question_id":18086621,"body_markdown":"I also had the same issue, trying to run a unit test calling code that uses ``readEntity``. Can&#39;t use ``getEntity`` in production code because that just returns a ``ByteInputStream`` and not the content of the body and there is no way I am adding production code that is hit only in unit tests. \r\n\r\nMy solution was to create a response and then use a Mockito spy to mock out the ``readEntity`` method:\r\n\r\n    Response error = Response.serverError().build();\r\n    Response mockResponse = spy(error);\r\n    doReturn(&quot;{jsonbody}&quot;).when(mockResponse).readEntity(String.class);\r\n\r\nNote that you can&#39;t use the ``when(mockResponse.readEntity(String.class)`` option because that throws the same ``IllegalStateException``.\r\n\r\nHope this helps!","title":"Read response body in JAX-RS client from a post request","body":"<p>I also had the same issue, trying to run a unit test calling code that uses <code>readEntity</code>. Can't use <code>getEntity</code> in production code because that just returns a <code>ByteInputStream</code> and not the content of the body and there is no way I am adding production code that is hit only in unit tests. </p>\n\n<p>My solution was to create a response and then use a Mockito spy to mock out the <code>readEntity</code> method:</p>\n\n<pre><code>Response error = Response.serverError().build();\nResponse mockResponse = spy(error);\ndoReturn(\"{jsonbody}\").when(mockResponse).readEntity(String.class);\n</code></pre>\n\n<p>Note that you can't use the <code>when(mockResponse.readEntity(String.class)</code> option because that throws the same <code>IllegalStateException</code>.</p>\n\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":15651213,"reputation":1,"user_id":11292555,"display_name":"MonkeySoft Colombia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554130100,"creation_date":1554130100,"answer_id":55457901,"question_id":18086621,"body_markdown":"Acording with the documentation, the method getEntity in Jax rs 2.0 return a InputStream.\r\nIf you need to convert to InputStream to String with JSON format, you need to cast the two formats.\r\nFor example in my case, I implemented the next method:\r\n\r\n        private String processResponse(Response response) {\r\n    \tif (response.getEntity() != null) {\r\n    \t\ttry {\r\n    \t\t\tInputStream salida = (InputStream) response.getEntity();\r\n    \t\t\tStringWriter writer = new StringWriter();\r\n    \t\t\tIOUtils.copy(salida, writer, &quot;UTF-8&quot;);\r\n    \t\t\treturn writer.toString();\r\n    \t\t} catch (IOException ex) {\r\n    \t\t\tLOG.log(Level.SEVERE, null, ex);\r\n    \t\t}\r\n    \t}\r\n    \treturn null;\r\n    }\r\n\r\nwhy I implemented this method.\r\nBecause a read in differets blogs that many developers they have the same problem whit the version in jaxrs using the next methods\r\n\r\n    String output = response.readEntity(String.class)\r\nand\r\n\r\n    String output = response.getEntity(String.class)\r\n\r\nThe first works using jersey-client from  com.sun.jersey library and the second found using the jersey-client from org.glassfish.jersey.core.\r\n\r\nThis is the error that was being presented to me: \r\norg.glassfish.jersey.client.internal.HttpUrlConnector$2 cannot be cast to java.lang.String\r\n\r\nI use the following maven dependency:\r\n\r\n    &lt;dependency&gt;\r\n\t&lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.28&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\nWhat I do not know is why the readEntity method does not work.I hope you can use the solution.\r\n\r\nCarlos Cepeda\r\n\r\n","title":"Read response body in JAX-RS client from a post request","body":"<p>Acording with the documentation, the method getEntity in Jax rs 2.0 return a InputStream.\nIf you need to convert to InputStream to String with JSON format, you need to cast the two formats.\nFor example in my case, I implemented the next method:</p>\n\n<pre><code>    private String processResponse(Response response) {\n    if (response.getEntity() != null) {\n        try {\n            InputStream salida = (InputStream) response.getEntity();\n            StringWriter writer = new StringWriter();\n            IOUtils.copy(salida, writer, \"UTF-8\");\n            return writer.toString();\n        } catch (IOException ex) {\n            LOG.log(Level.SEVERE, null, ex);\n        }\n    }\n    return null;\n}\n</code></pre>\n\n<p>why I implemented this method.\nBecause a read in differets blogs that many developers they have the same problem whit the version in jaxrs using the next methods</p>\n\n<pre><code>String output = response.readEntity(String.class)\n</code></pre>\n\n<p>and</p>\n\n<pre><code>String output = response.getEntity(String.class)\n</code></pre>\n\n<p>The first works using jersey-client from  com.sun.jersey library and the second found using the jersey-client from org.glassfish.jersey.core.</p>\n\n<p>This is the error that was being presented to me: \norg.glassfish.jersey.client.internal.HttpUrlConnector$2 cannot be cast to java.lang.String</p>\n\n<p>I use the following maven dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n&lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n&lt;version&gt;2.28&lt;/version&gt;\n</code></pre>\n\n<p></p>\n\n<p>What I do not know is why the readEntity method does not work.I hope you can use the solution.</p>\n\n<p>Carlos Cepeda</p>\n"},{"tags":[],"owner":{"account_id":15651213,"reputation":1,"user_id":11292555,"display_name":"MonkeySoft Colombia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554139881,"creation_date":1554139881,"answer_id":55460630,"question_id":18086621,"body_markdown":"Realizing the revision of the code I found the cause of why the reading method did not work for me. The problem was that one of the dependencies that my project used jersey 1.x.\r\nUpdate the version, adjust the client and it works.\r\n\r\nI use the following maven dependency:\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n    &lt;version&gt;2.28&lt;/version&gt;\r\n\r\nRegards\r\n\r\nCarlos Cepeda","title":"Read response body in JAX-RS client from a post request","body":"<p>Realizing the revision of the code I found the cause of why the reading method did not work for me. The problem was that one of the dependencies that my project used jersey 1.x.\nUpdate the version, adjust the client and it works.</p>\n\n<p>I use the following maven dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n&lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n&lt;version&gt;2.28&lt;/version&gt;\n</code></pre>\n\n<p>Regards</p>\n\n<p>Carlos Cepeda</p>\n"},{"tags":[],"owner":{"account_id":180298,"reputation":8192,"user_id":413529,"display_name":"James Roland"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682399098,"creation_date":1682399098,"answer_id":76097770,"question_id":18086621,"body_markdown":"### Kotlin\r\nThe same version of the answer using Kotlin\r\n\r\n~~~\r\n(response.entity as InputStream).bufferedReader().use { it.readText() }\r\n~~~","title":"Read response body in JAX-RS client from a post request","body":"<h3>Kotlin</h3>\n<p>The same version of the answer using Kotlin</p>\n<pre><code>(response.entity as InputStream).bufferedReader().use { it.readText() }\n</code></pre>\n"}],"owner":{"account_id":3142522,"reputation":1154,"user_id":2657714,"display_name":"user2657714"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189561,"favorite_count":0,"down_vote_count":1,"up_vote_count":100,"accepted_answer_id":18086656,"answer_count":7,"score":99,"last_activity_date":1682399098,"creation_date":1375809880,"question_id":18086621,"body_markdown":"Having some sort of proxy between a mobile app and a web-service, we are puzzled by the response when issuing a post request. We receive response with status 200: OK. But we can not find/extract the JSON response body.\r\n\r\n    \tClient client = ClientBuilder.newClient();\r\n\t\tWebTarget webTarget = client.target(WEBSERVICE_BASE_LOCATION + &quot;mobileDevices?operatorCode=KPNSCP&quot;);\r\n\t\tString jsonString = &quot;{\\&quot;osVersion\\&quot;:\\&quot;4.1\\&quot;,\\&quot;apiLevel\\&quot;:16,\\&quot;devicePlatform\\&quot;:\\&quot;ANDROID\\&quot;}&quot;;\r\n\t\tBuilder builder = webTarget.request();\r\n\t\tResponse response = builder.post(Entity.json(jsonString));\r\n\r\nWe are using JAX-RS. \r\nCan someone please provide some hints to extract the JSON body (`String`) from the server response?","title":"Read response body in JAX-RS client from a post request","body":"<p>Having some sort of proxy between a mobile app and a web-service, we are puzzled by the response when issuing a post request. We receive response with status 200: OK. But we can not find/extract the JSON response body.</p>\n\n<pre><code>    Client client = ClientBuilder.newClient();\n    WebTarget webTarget = client.target(WEBSERVICE_BASE_LOCATION + \"mobileDevices?operatorCode=KPNSCP\");\n    String jsonString = \"{\\\"osVersion\\\":\\\"4.1\\\",\\\"apiLevel\\\":16,\\\"devicePlatform\\\":\\\"ANDROID\\\"}\";\n    Builder builder = webTarget.request();\n    Response response = builder.post(Entity.json(jsonString));\n</code></pre>\n\n<p>We are using JAX-RS. \nCan someone please provide some hints to extract the JSON body (<code>String</code>) from the server response?</p>\n"},{"tags":["java","polymorphism"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1682280473,"post_id":76087013,"comment_id":134186613,"body_markdown":"Add `void browseInternet();` to `Phone`. Because you **can** *browse internet* on both types of phone. If you&#39;re concerned about non-Internet phones then add another intermediate interface called `SmartPhone` that has `void browseInternet()`.","body":"Add <code>void browseInternet();</code> to <code>Phone</code>. Because you <b>can</b> <i>browse internet</i> on both types of phone. If you&#39;re concerned about non-Internet phones then add another intermediate interface called <code>SmartPhone</code> that has <code>void browseInternet()</code>."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1682281275,"post_id":76087013,"comment_id":134186699,"body_markdown":"Side note while I&#39;m reading: get rid of the `String name` in the `interface`, use something like `String getName();` instead (which can then be overridden by subclasses appropriately).","body":"Side note while I&#39;m reading: get rid of the <code>String name</code> in the <code>interface</code>, use something like <code>String getName();</code> instead (which can then be overridden by subclasses appropriately)."},{"owner":{"account_id":6834560,"reputation":61,"user_id":5257084,"display_name":"Sam Rae"},"score":0,"creation_date":1682281352,"post_id":76087013,"comment_id":134186709,"body_markdown":"Thanks for the suggestion @ElliotFrisch. I should have made it clearer that I want to model that difference. An instance of Nokia should not have &#39;browseInternet&quot; but Samsung should. So the requirement is that getPhone should be able to return objects of different types, all of which extend Phone, but I want some of them to have their own specific properties/methods","body":"Thanks for the suggestion @ElliotFrisch. I should have made it clearer that I want to model that difference. An instance of Nokia should not have &#39;browseInternet&quot; but Samsung should. So the requirement is that getPhone should be able to return objects of different types, all of which extend Phone, but I want some of them to have their own specific properties/methods"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":2,"creation_date":1682281509,"post_id":76087013,"comment_id":134186723,"body_markdown":"As far as a suggestion for making this compiler-aware, you could have a `&lt;T extends Phone&gt; T getPhone(Class&lt;T&gt; clazz) {...}`, allowing you to use it as `Samsung phone = shop.getPhone(Samsung.class);` (and perhaps `#getNewPhone` is a better name). From there you can use any number of construction rules/patterns to determine the internal logic","body":"As far as a suggestion for making this compiler-aware, you could have a <code>&lt;T extends Phone&gt; T getPhone(Class&lt;T&gt; clazz) {...}</code>, allowing you to use it as <code>Samsung phone = shop.getPhone(Samsung.class);</code> (and perhaps <code>#getNewPhone</code> is a better name). From there you can use any number of construction rules/patterns to determine the internal logic"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1682297355,"post_id":76087013,"comment_id":134188273,"body_markdown":"Why use a `String` at all? What *type* should the method return if it was called with a string not known at compile time? How would `getPhone(new Random().nextBoolean() ? &quot;Nokia&quot; : &quot;Samsung&quot;)` work? That cannot be assigned to either `Nokia` or `Samsung`. How about taking a `Class` instead?","body":"Why use a <code>String</code> at all? What <i>type</i> should the method return if it was called with a string not known at compile time? How would <code>getPhone(new Random().nextBoolean() ? &quot;Nokia&quot; : &quot;Samsung&quot;)</code> work? That cannot be assigned to either <code>Nokia</code> or <code>Samsung</code>. How about taking a <code>Class</code> instead?"}],"answers":[{"tags":[],"owner":{"account_id":6440378,"reputation":184,"user_id":4990575,"display_name":"Kurojin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682284992,"creation_date":1682284992,"answer_id":76087335,"question_id":76087013,"body_markdown":"You have defined Phone as something that cannot browse the internet, hence, when you manipulate your objects as Phones, you cannot browse the internet.\r\n\r\nPolymorphism will allow you to manipulate Samsung and Nokia objects as Phones for the sake of abstraction, if you want to use their behaviors as concrete implementation, you have to explicitly do so (Java is a strongly typed language).\r\n\r\nNow if you want to avoid casts because of reliability (rightfully), another way is to test that a Phone is in fact a Samsung phone before calling a Samsung behavior : \r\n\r\n    if (samsung instanceof Samsung concreteSamsungPhone) {\r\n            concreteSamsungPhone.browseInternet();\r\n        }\r\n\r\nthis test will automatically use pattern matching to map your Phone to the concrete implementation of a Samsung if it is actually a Samsung (this feature is only available in recent versions of java though).\r\n\r\nbtw you are intuitively using a Factory Pattern :)","title":"Polymorphism: How to make the compiler aware of the returned implementation of method which return type is an interface?","body":"<p>You have defined Phone as something that cannot browse the internet, hence, when you manipulate your objects as Phones, you cannot browse the internet.</p>\n<p>Polymorphism will allow you to manipulate Samsung and Nokia objects as Phones for the sake of abstraction, if you want to use their behaviors as concrete implementation, you have to explicitly do so (Java is a strongly typed language).</p>\n<p>Now if you want to avoid casts because of reliability (rightfully), another way is to test that a Phone is in fact a Samsung phone before calling a Samsung behavior :</p>\n<pre><code>if (samsung instanceof Samsung concreteSamsungPhone) {\n        concreteSamsungPhone.browseInternet();\n    }\n</code></pre>\n<p>this test will automatically use pattern matching to map your Phone to the concrete implementation of a Samsung if it is actually a Samsung (this feature is only available in recent versions of java though).</p>\n<p>btw you are intuitively using a Factory Pattern :)</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682287822,"creation_date":1682287434,"answer_id":76087484,"question_id":76087013,"body_markdown":"If you need a single abstract type, create an interface with `browseInternet` that extends `Phone`:\r\n\r\n    interface InternetPhone extends Phone {\r\n        void browseInternet();\r\n    }\r\n\r\nThat the Samsung would implement and check the type at the usage point:\r\n\r\n    if (phone instanceof InternetPhone browser) {\r\n        browser.browseInternet();\r\n    }\r\n\r\n---\r\n\r\nIf you can separate the abstractions, which is cleaner, don&#39;t extend `Phone`:\r\n\r\n    interface Browser {\r\n        void browseInternet();\r\n    }\r\n\r\nAnd have Samsung extend both:\r\n\r\n    class Samsung implements Phone, Browser {\r\n\r\nThe usage code would be the same.\r\n\r\n---\r\n\r\nAn aside: If you want `getName()` to return the name of the class (like all of your examples do), you can implement that in the interface definition using the `default` keyword:\r\n\r\n```\r\npublic interface Phone {\r\n    default String getName() {\r\n        return getClass().getSimpleName();\r\n    }\r\n    void call();\r\n}\r\n```\r\n\r\n","title":"Polymorphism: How to make the compiler aware of the returned implementation of method which return type is an interface?","body":"<p>If you need a single abstract type, create an interface with <code>browseInternet</code> that extends <code>Phone</code>:</p>\n<pre><code>interface InternetPhone extends Phone {\n    void browseInternet();\n}\n</code></pre>\n<p>That the Samsung would implement and check the type at the usage point:</p>\n<pre><code>if (phone instanceof InternetPhone browser) {\n    browser.browseInternet();\n}\n</code></pre>\n<hr />\n<p>If you can separate the abstractions, which is cleaner, don't extend <code>Phone</code>:</p>\n<pre><code>interface Browser {\n    void browseInternet();\n}\n</code></pre>\n<p>And have Samsung extend both:</p>\n<pre><code>class Samsung implements Phone, Browser {\n</code></pre>\n<p>The usage code would be the same.</p>\n<hr />\n<p>An aside: If you want <code>getName()</code> to return the name of the class (like all of your examples do), you can implement that in the interface definition using the <code>default</code> keyword:</p>\n<pre><code>public interface Phone {\n    default String getName() {\n        return getClass().getSimpleName();\n    }\n    void call();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1682291465,"post_id":76087604,"comment_id":134187793,"body_markdown":"That `PhoneShop#getDevice` is pretty evil, since it allows you to do this: `Nokia phone = shop.getDevice(PhoneManufacturer.SAMSUNG);` with no compile error. I think your advice on design is meritable, just take that all the way and remove the need for generics.","body":"That <code>PhoneShop#getDevice</code> is pretty evil, since it allows you to do this: <code>Nokia phone = shop.getDevice(PhoneManufacturer.SAMSUNG);</code> with no compile error. I think your advice on design is meritable, just take that all the way and remove the need for generics."},{"owner":{"account_id":23766356,"reputation":51,"user_id":17781072,"display_name":"Alexandre Rocha"},"score":0,"creation_date":1682293820,"post_id":76087604,"comment_id":134187996,"body_markdown":"Thank you for the correction, Rogue. I missed that. The answer was edited following your advice.","body":"Thank you for the correction, Rogue. I missed that. The answer was edited following your advice."}],"tags":[],"owner":{"account_id":23766356,"reputation":51,"user_id":17781072,"display_name":"Alexandre Rocha"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682299420,"creation_date":1682289435,"answer_id":76087604,"question_id":76087013,"body_markdown":"P.S.: Before continue reading this answer, consider reading [this comment from Rogue][1] to see if his approach doesn&#39;t meet your needs.\r\n\r\n----\r\n\r\nIf I was able to understand your situation, you want to leverage Java’s polymorphism. However, I don’t understand why you have created classes for each phone manufacturer, since your hole point is that you have two different types of phone, and what differentiates them is the name of each model/manufacturer.\r\n\r\nOf course, your real situation may be different, and you may have missed something when building your example. Because of this, I’ll propose you two different approaches, among several you can take advantage of, both leveraging inheritance and polymorphism.\r\n\r\n### Approach 1:\r\n\r\nInstead of create a different class for each different manufacturer, since all that matters is the phone type, why doesn’t you create two classes: `Phone` and `Smartphone`, where phones can only make calls and smartphones can either make calls and browse internet? In this design, `Smartphone` inherit from `Phone`, since a `Smartphone` **IS A** `Phone`:\r\n\r\n```java\r\npublic class Phone {\r\n    private String name;\r\n\r\n    protected Phone(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public void call() {\r\n        System.out.println(&quot;Calling from my &quot; + getName());\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npublic class Smartphone extends Phone {\r\n\r\n    public Smartphone(String name) {\r\n        super(name);\r\n    }\r\n\r\n    public void browsingInternet() {\r\n        System.out.println(&quot;Browsing internet with my &quot; + getName());\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npublic class PhoneShop {\r\n\r\n    public PhoneShop() {\r\n    }\r\n\r\n    public Phone getPhone(String phoneName) {\r\n        return new Phone(phoneName);\r\n    }\r\n\r\n    public Smartphone getSmartphone(String smartphoneName) {\r\n        return new Smartphone(smartphoneName);\r\n    }\r\n}\r\n```\r\n\r\n### Approach 2:\r\n\r\nIf the phone manufacturers or models matter, then the phone types, i.e., whether they’re simple phones or smartphones, can be abstract classes that will be inherited by the phone models. To simplify, I’ll assume that “Nokia” and “Samsung”, although manufacturers, are like phone models.\r\n\r\n```java\r\npublic abstract class Phone {\r\n    private String name;\r\n\r\n    protected Phone(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public void call() {\r\n        System.out.println(&quot;Calling from my &quot; + getName());\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npublic abstract class Smartphone extends Phone {\r\n\r\n    protected SmartPhone(String name) {\r\n        super(name);\r\n    }\r\n\r\n    public void browsingInternet() {\r\n        System.out.println(&quot;Browsing internet with my &quot; + super.getName());\r\n    }\r\n}\r\n```\r\n\r\nNote that `Smartphone` inherits the functionalities of `Phone`, which is the one and only `call()` method in this situation. This way, your phones model or manufacturer classes will be very simple and your code easy to maintain:\r\n\r\n```java\r\npublic class Samsung extends Smartphone {\r\n\r\n    public Samsung(String name) {\r\n        super(name);\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npublic class Nokia extends Phone {\r\n\r\n    public Nokia(String name) {\r\n        super(name);\r\n    }\r\n}\r\n```\r\n\r\nIn this situation, you may want to reduce the possibility of mistakes by wrongly typing the manufacturer’s name. You can do it by creating a very simple `Enum` class, that would be used as argument for your factory methods.\r\n\r\n```java\r\npublic enum PhoneManufacturer {\r\n    SAMSUNG,\r\n    NOKIA\r\n}\r\n```\r\n\r\n```java\r\npublic class PhoneShop {\r\n\r\n    public PhoneShop() {\r\n    }\r\n\r\n    // Factory method\r\n    public Phone getDevice(PhoneManufacturer manufacturer) {\r\n        switch (manufacturer) {\r\n            case NOKIA -&gt; {\r\n                return new Nokia(manufacturer.name().charAt(0) + manufacturer.name().substring(1).toLowerCase());\r\n            }\r\n            case SAMSUNG -&gt; {\r\n                return new Samsung(manufacturer.name().charAt(0) + manufacturer.name().substring(1).toLowerCase());\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nThen, whenever you want a `Phone` or `Smartphone`, you can simply do the following:\r\n\r\n```java\r\nPhoneShop phoneShop = new PhoneShop();\r\n\r\nPhone nokia = phoneShop.getDevice(PhoneManufacturer.NOKIA);\r\nSmartphone samsung = (Smartphone) phoneShop.getDevice(PhoneManufacturer.SAMSUNG);\r\n```\r\n\r\nNote that if you want to call `Smartphone` specific methods, such as `browsingInternet()`, you&#39;ll need to cast the object returned from the `PhoneShop#getDevice`, otherwise, it&#39;ll be just an ordinary `Phone`.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/76087013/how-to-call-a-function-that-has-an-interface-as-its-return-type-so-that-the-com/76087604#comment134186723_76087013","title":"Polymorphism: How to make the compiler aware of the returned implementation of method which return type is an interface?","body":"<p>P.S.: Before continue reading this answer, consider reading <a href=\"https://stackoverflow.com/questions/76087013/how-to-call-a-function-that-has-an-interface-as-its-return-type-so-that-the-com/76087604#comment134186723_76087013\">this comment from Rogue</a> to see if his approach doesn't meet your needs.</p>\n<hr />\n<p>If I was able to understand your situation, you want to leverage Java’s polymorphism. However, I don’t understand why you have created classes for each phone manufacturer, since your hole point is that you have two different types of phone, and what differentiates them is the name of each model/manufacturer.</p>\n<p>Of course, your real situation may be different, and you may have missed something when building your example. Because of this, I’ll propose you two different approaches, among several you can take advantage of, both leveraging inheritance and polymorphism.</p>\n<h3>Approach 1:</h3>\n<p>Instead of create a different class for each different manufacturer, since all that matters is the phone type, why doesn’t you create two classes: <code>Phone</code> and <code>Smartphone</code>, where phones can only make calls and smartphones can either make calls and browse internet? In this design, <code>Smartphone</code> inherit from <code>Phone</code>, since a <code>Smartphone</code> <strong>IS A</strong> <code>Phone</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Phone {\n    private String name;\n\n    protected Phone(String name) {\n        this.name = name;\n    }\n\n    public void call() {\n        System.out.println(&quot;Calling from my &quot; + getName());\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Smartphone extends Phone {\n\n    public Smartphone(String name) {\n        super(name);\n    }\n\n    public void browsingInternet() {\n        System.out.println(&quot;Browsing internet with my &quot; + getName());\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class PhoneShop {\n\n    public PhoneShop() {\n    }\n\n    public Phone getPhone(String phoneName) {\n        return new Phone(phoneName);\n    }\n\n    public Smartphone getSmartphone(String smartphoneName) {\n        return new Smartphone(smartphoneName);\n    }\n}\n</code></pre>\n<h3>Approach 2:</h3>\n<p>If the phone manufacturers or models matter, then the phone types, i.e., whether they’re simple phones or smartphones, can be abstract classes that will be inherited by the phone models. To simplify, I’ll assume that “Nokia” and “Samsung”, although manufacturers, are like phone models.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class Phone {\n    private String name;\n\n    protected Phone(String name) {\n        this.name = name;\n    }\n\n    public void call() {\n        System.out.println(&quot;Calling from my &quot; + getName());\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class Smartphone extends Phone {\n\n    protected SmartPhone(String name) {\n        super(name);\n    }\n\n    public void browsingInternet() {\n        System.out.println(&quot;Browsing internet with my &quot; + super.getName());\n    }\n}\n</code></pre>\n<p>Note that <code>Smartphone</code> inherits the functionalities of <code>Phone</code>, which is the one and only <code>call()</code> method in this situation. This way, your phones model or manufacturer classes will be very simple and your code easy to maintain:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Samsung extends Smartphone {\n\n    public Samsung(String name) {\n        super(name);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Nokia extends Phone {\n\n    public Nokia(String name) {\n        super(name);\n    }\n}\n</code></pre>\n<p>In this situation, you may want to reduce the possibility of mistakes by wrongly typing the manufacturer’s name. You can do it by creating a very simple <code>Enum</code> class, that would be used as argument for your factory methods.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum PhoneManufacturer {\n    SAMSUNG,\n    NOKIA\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class PhoneShop {\n\n    public PhoneShop() {\n    }\n\n    // Factory method\n    public Phone getDevice(PhoneManufacturer manufacturer) {\n        switch (manufacturer) {\n            case NOKIA -&gt; {\n                return new Nokia(manufacturer.name().charAt(0) + manufacturer.name().substring(1).toLowerCase());\n            }\n            case SAMSUNG -&gt; {\n                return new Samsung(manufacturer.name().charAt(0) + manufacturer.name().substring(1).toLowerCase());\n            }\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>Then, whenever you want a <code>Phone</code> or <code>Smartphone</code>, you can simply do the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PhoneShop phoneShop = new PhoneShop();\n\nPhone nokia = phoneShop.getDevice(PhoneManufacturer.NOKIA);\nSmartphone samsung = (Smartphone) phoneShop.getDevice(PhoneManufacturer.SAMSUNG);\n</code></pre>\n<p>Note that if you want to call <code>Smartphone</code> specific methods, such as <code>browsingInternet()</code>, you'll need to cast the object returned from the <code>PhoneShop#getDevice</code>, otherwise, it'll be just an ordinary <code>Phone</code>.</p>\n"}],"owner":{"account_id":6834560,"reputation":61,"user_id":5257084,"display_name":"Sam Rae"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1682398807,"creation_date":1682280335,"question_id":76087013,"body_markdown":"Say I have a class `PhoneShop` that has a `getPhone` method that needs to be backwards compatible (we have to keep the arguments that we pass the same - this is a simplified version of a code test I&#39;ve been given although I&#39;ve changed the names of everything and I&#39;ve been told that the API of the PhoneShop class should stay the same)\r\n\r\nSo far we only have one phone type, `Nokia`, and we can get it like this:\r\n\r\n```\r\nPhoneShop shop = new PhoneShop();\r\nPhone nokia = shop.getPhone(&quot;Nokia&quot;);\r\nnokia.call();\r\n```\r\n\r\nI want to change the `Phone` class to be an interface to allow multiple classes to implement it\r\n\r\n```\r\npublic interface Phone {\r\n    String getName();\r\n    void call();\r\n}\r\n```\r\n\r\nPhoneShop getPhone\r\n```\r\npublic class PhoneShop {\r\n    public Phone getPhone(String name) {\r\n        return new Nokia();\r\n    }\r\n}\r\n\r\n```\r\n\r\nNokia\r\n```\r\npublic class Nokia implements Phone {\r\n\r\n    public String getName() {\r\n        return &quot;Nokia&quot;;\r\n    }\r\n    public void call() {\r\n        System.out.println(&quot;Calling from my &quot; + getName());\r\n    }\r\n}\r\n```\r\n\r\nSo far the string argument is being passed but it isn&#39;t used by the business logic but now we have a new Phone type, Samsung:\r\n\r\n```\r\npublic class Samsung implements Phone {\r\n    public String getName() {\r\n        return &quot;Samsung&quot;;\r\n    }\r\n    public void call() {\r\n        System.out.println(&quot;Calling from my &quot; + getName());\r\n    }\r\n\r\n    public void browseInternet() {\r\n        System.out.println(&quot;Browsing internet with my &quot; + getName());\r\n    }\r\n}\r\n\r\n```\r\n\r\nand now I want to also be able to call getPhone like this\r\n```\r\n  Phone samsung = shop.getPhone(&quot;Samsung&quot;);\r\n  samsung.call();\r\n  samsung.browseInternet();\r\n```\r\n\r\n```\r\npublic Phone getPhone(String name) {\r\n   return switch (name) {\r\n       case &quot;Samsung&quot; -&gt; new Samsung();\r\n       default -&gt; new Nokia();\r\n    };\r\n}\r\n```\r\n\r\nThis code won&#39;t compile because `browseInternet` is not defined on the `Phone` interface.\r\n\r\nHow can I let the compiler know that when I call `getPhone` with the string &quot;Samsung&quot; I actually have an instance of Samsung?\r\n\r\nWith only two phone types I could overload the method, so that eg. when it&#39;s called with no arguments, it returns an instance of `Samsung` but as I add more phone types  I won&#39;t have that option. Also that&#39;s not a great API - it&#39;s not obvious to the caller.\r\n\r\nThe only way I can get it to compile so far is to cast the return type like this\r\n\r\n```\r\nSamsung samsung = (Samsung) shop.getPhone(&quot;Samsung&quot;);\r\n```\r\n\r\nI don&#39;t really like that because it&#39;s open to developer error (I could mistakenly cast it to Nokia for example, and then I&#39;d get a runtime error.\r\n\r\nI&#39;d like to be able to tell the compiler, &quot;if I call this method with this particular string then it has this return type&quot;, but I don&#39;t think you can do that(?). In which case is there a pattern (factory pattern, generics ?) that I can use? (I am a newbie to Java and OOP in general - much more familiar with JavaScript and TypeScript).\r\n","title":"Polymorphism: How to make the compiler aware of the returned implementation of method which return type is an interface?","body":"<p>Say I have a class <code>PhoneShop</code> that has a <code>getPhone</code> method that needs to be backwards compatible (we have to keep the arguments that we pass the same - this is a simplified version of a code test I've been given although I've changed the names of everything and I've been told that the API of the PhoneShop class should stay the same)</p>\n<p>So far we only have one phone type, <code>Nokia</code>, and we can get it like this:</p>\n<pre><code>PhoneShop shop = new PhoneShop();\nPhone nokia = shop.getPhone(&quot;Nokia&quot;);\nnokia.call();\n</code></pre>\n<p>I want to change the <code>Phone</code> class to be an interface to allow multiple classes to implement it</p>\n<pre><code>public interface Phone {\n    String getName();\n    void call();\n}\n</code></pre>\n<p>PhoneShop getPhone</p>\n<pre><code>public class PhoneShop {\n    public Phone getPhone(String name) {\n        return new Nokia();\n    }\n}\n\n</code></pre>\n<p>Nokia</p>\n<pre><code>public class Nokia implements Phone {\n\n    public String getName() {\n        return &quot;Nokia&quot;;\n    }\n    public void call() {\n        System.out.println(&quot;Calling from my &quot; + getName());\n    }\n}\n</code></pre>\n<p>So far the string argument is being passed but it isn't used by the business logic but now we have a new Phone type, Samsung:</p>\n<pre><code>public class Samsung implements Phone {\n    public String getName() {\n        return &quot;Samsung&quot;;\n    }\n    public void call() {\n        System.out.println(&quot;Calling from my &quot; + getName());\n    }\n\n    public void browseInternet() {\n        System.out.println(&quot;Browsing internet with my &quot; + getName());\n    }\n}\n\n</code></pre>\n<p>and now I want to also be able to call getPhone like this</p>\n<pre><code>  Phone samsung = shop.getPhone(&quot;Samsung&quot;);\n  samsung.call();\n  samsung.browseInternet();\n</code></pre>\n<pre><code>public Phone getPhone(String name) {\n   return switch (name) {\n       case &quot;Samsung&quot; -&gt; new Samsung();\n       default -&gt; new Nokia();\n    };\n}\n</code></pre>\n<p>This code won't compile because <code>browseInternet</code> is not defined on the <code>Phone</code> interface.</p>\n<p>How can I let the compiler know that when I call <code>getPhone</code> with the string &quot;Samsung&quot; I actually have an instance of Samsung?</p>\n<p>With only two phone types I could overload the method, so that eg. when it's called with no arguments, it returns an instance of <code>Samsung</code> but as I add more phone types  I won't have that option. Also that's not a great API - it's not obvious to the caller.</p>\n<p>The only way I can get it to compile so far is to cast the return type like this</p>\n<pre><code>Samsung samsung = (Samsung) shop.getPhone(&quot;Samsung&quot;);\n</code></pre>\n<p>I don't really like that because it's open to developer error (I could mistakenly cast it to Nokia for example, and then I'd get a runtime error.</p>\n<p>I'd like to be able to tell the compiler, &quot;if I call this method with this particular string then it has this return type&quot;, but I don't think you can do that(?). In which case is there a pattern (factory pattern, generics ?) that I can use? (I am a newbie to Java and OOP in general - much more familiar with JavaScript and TypeScript).</p>\n"},{"tags":["java",".net","jaxb","jersey"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1682324085,"post_id":76089688,"comment_id":134191212,"body_markdown":"Instead of using Boolean  isValue; use Boolean  value and ordinary getValue, setValue. It might be naming conventions. Also, for diagnosis make value public and remove the get/set.","body":"Instead of using Boolean  isValue; use Boolean  value and ordinary getValue, setValue. It might be naming conventions. Also, for diagnosis make value public and remove the get/set."},{"owner":{"account_id":19686832,"reputation":1,"user_id":14412613,"display_name":"Hooman Yarahmadi"},"score":0,"creation_date":1682325914,"post_id":76089688,"comment_id":134191592,"body_markdown":"@JohnWilliams did what you said but still have problem","body":"@JohnWilliams did what you said but still have problem"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1682326042,"post_id":76089688,"comment_id":134191617,"body_markdown":"Then we need much more code. Enough code and example xml to simulate and fix.","body":"Then we need much more code. Enough code and example xml to simulate and fix."},{"owner":{"account_id":19686832,"reputation":1,"user_id":14412613,"display_name":"Hooman Yarahmadi"},"score":0,"creation_date":1682326418,"post_id":76089688,"comment_id":134191684,"body_markdown":"@JohnWilliams i just edit the question with full code that i used. Thanks in advance","body":"@JohnWilliams i just edit the question with full code that i used. Thanks in advance"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1682353818,"post_id":76089688,"comment_id":134198260,"body_markdown":"You need to use `setValue()` as the name of the setter function. The lookup from JSON property is done using the name of the setter for deserialization and the name of the getter for the serialization.","body":"You need to use <code>setValue()</code> as the name of the setter function. The lookup from JSON property is done using the name of the setter for deserialization and the name of the getter for the serialization."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1682354054,"post_id":76089688,"comment_id":134198314,"body_markdown":"In java the default value for a boolean is false. I suspect that a field with a matching name is not being returned so it is never set. We need to establish whether the value is being returned by the API. Change .post(ClientResponse.class, getBoolTest) to .post(String.class, getBoolTest) and GetBoolTestResponse getBoolTestResponse to String getBoolTestResponse and see what raw value prints out. I suspect that the boolean field is misnamed.","body":"In java the default value for a boolean is false. I suspect that a field with a matching name is not being returned so it is never set. We need to establish whether the value is being returned by the API. Change .post(ClientResponse.class, getBoolTest) to .post(String.class, getBoolTest) and GetBoolTestResponse getBoolTestResponse to String getBoolTestResponse and see what raw value prints out. I suspect that the boolean field is misnamed."}],"owner":{"account_id":19686832,"reputation":1,"user_id":14412613,"display_name":"Hooman Yarahmadi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682398703,"creation_date":1682322602,"question_id":76089688,"body_markdown":"I have a client-side which is implemented with Jersey and JAXB, I want to send a pojo class to .Net API Server side (Rest web service). when I set a boolean property to true and send it to the server, the boolean is turned to false.\r\n\r\nThe code below is used in client-side to call an API on .Net server side\r\n\r\n```\r\n    public String boolTest() {\r\n\r\n        try {\r\n\r\n\r\n          GetBoolTest getBoolTest = new GetBoolTest(true);\r\n\r\n\r\n            ClientConfig config = new DefaultClientConfig();\r\n            Client client = Client.create(config);\r\n            client.addFilter(new LoggingFilter(System.out));\r\n            WebResource service = client.resource(getBaseURI());\r\n            ClientResponse response = null;\r\n\r\n\r\n            response = service.path(&quot;Test&quot;)\r\n                    .header(&quot;Content-Type&quot;, &quot;application/json; charset=UTF-8-&quot;)\r\n                    .type(MediaType.APPLICATION_JSON_TYPE)\r\n                    .accept(MediaType.APPLICATION_JSON_TYPE)\r\n                    .post(ClientResponse.class, getBoolTest);\r\n\r\n            GetBoolTestResponse getBoolTestResponse = null;\r\n\r\n\r\n\r\n            if (response.getStatus() == 200) {\r\n                getBoolTestResponse = response.getEntity(GetBoolTestResponse.class);\r\n                System.out.println(getBoolTestResponse.toString());\r\n\r\n            }else{\r\n                switch (response.getStatus()) {\r\n                    case 400:\r\n                        throw new Exception(&quot;BadRequestException:: malFormed message : &quot; + response.getStatus());\r\n                    case 401:\r\n                        throw new Exception(&quot;NotAuthorizedException:: Authorized failure : &quot; + response.getStatus());\r\n                    case 403:\r\n                        throw new Exception(&quot;forbiddenException:: not permitted to access : &quot; + response.getStatus());\r\n                    case 404:\r\n                        throw new Exception(&quot;NotFoundException:: could not find resource : &quot; + response.getStatus());\r\n                    case 405:\r\n                        throw new Exception(&quot;NotAllowedException:: HTTP method not supported : &quot; + response.getStatus());\r\n                    case 406:\r\n                        throw new Exception(&quot;NotAcceptableException:: client media type not supported : &quot; + response.getStatus());\r\n                    case 415:\r\n                        throw new Exception(&quot;NotSupportedException::  client posted media not supported : &quot; + response.getStatus());\r\n                    case 500:\r\n                        throw new Exception(&quot;InternalServerErrorException:: General Server Error : &quot; + response.getStatus());\r\n                    case 503:\r\n                        throw new Exception(&quot;ServiceUnAvailableException:: server is temporarily unavailable or busy : &quot; + response.getStatus());\r\n                    default:\r\n                        throw new RuntimeException(&quot;Failed : HTTP error code : &quot; + response.getStatus());\r\n                }\r\n            }\r\n\r\n\r\n            return String.valueOf(getBoolTestResponse);\r\n\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return &quot;1800&quot;;\r\n        }\r\n    }\r\n```\r\n\r\nPojo Class:\r\n\r\n```\r\n@XmlRootElement\r\npublic class GetBoolTest {\r\n\r\n    protected Boolean  isValue;\r\n\r\n\r\n    public GetBoolTest() {\r\n    }\r\n\r\n    public GetBoolTest(Boolean isValue) {\r\n        this.isValue = isValue;\r\n    }\r\n\r\n    public Boolean getIsValue() {\r\n        return isValue;\r\n    }\r\n\r\n    @XmlElement\r\n    public void setIsValue(Boolean isValue) {\r\n        this.isValue = isValue;\r\n    }\r\n}\r\n```\r\n\r\nResponse Class:\r\n\r\n```\r\n@XmlRootElement\r\npublic class GetBoolTestResponse {\r\n\r\n\r\n\r\n    protected boolean isValue;\r\n\r\n\r\n\r\n    public boolean getIsValue() {\r\n        return isValue;\r\n    }\r\n\r\n    public void setIsValue(boolean value) {\r\n        this.isValue = value;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;GetBoolTestResponse{&quot; +\r\n                &quot;getIsValue=&quot; + isValue +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\nHere is the log output:\r\n```\r\n1 * Client out-bound request\r\n1 &gt; POST http://**.**.***.***:***/api/Test/Test\r\n1 &gt; Content-Type: application/json\r\n1 &gt; Accept: application/json\r\n{&quot;value&quot;:&quot;true&quot;}\r\n1 * Client in-bound response\r\n1 &lt; 200\r\n1 &lt; Transfer-Encoding: chunked\r\n1 &lt; Server: Microsoft-IIS/10.0\r\n1 &lt; Date: Mon, 24 Apr 2023 08:03:49 GMT\r\n1 &lt; X-Powered-By: ASP.NET\r\n1 &lt; Content-Type: application/json; charset=utf-8\r\n1 &lt; \r\n{&quot;value&quot;:false,&quot;formatters&quot;:[],&quot;contentTypes&quot;:[],&quot;declaredType&quot;:null,&quot;statusCode&quot;:200}\r\nGetBoolTestResponse{value=false}\r\n```\r\n\r\nI tried many ways, there is no problem testing with post man! also tried with many versions jersey 1.x and 2.x but still have this issue.","title":"true boolean property turn into false when recived in the server side","body":"<p>I have a client-side which is implemented with Jersey and JAXB, I want to send a pojo class to .Net API Server side (Rest web service). when I set a boolean property to true and send it to the server, the boolean is turned to false.</p>\n<p>The code below is used in client-side to call an API on .Net server side</p>\n<pre><code>    public String boolTest() {\n\n        try {\n\n\n          GetBoolTest getBoolTest = new GetBoolTest(true);\n\n\n            ClientConfig config = new DefaultClientConfig();\n            Client client = Client.create(config);\n            client.addFilter(new LoggingFilter(System.out));\n            WebResource service = client.resource(getBaseURI());\n            ClientResponse response = null;\n\n\n            response = service.path(&quot;Test&quot;)\n                    .header(&quot;Content-Type&quot;, &quot;application/json; charset=UTF-8-&quot;)\n                    .type(MediaType.APPLICATION_JSON_TYPE)\n                    .accept(MediaType.APPLICATION_JSON_TYPE)\n                    .post(ClientResponse.class, getBoolTest);\n\n            GetBoolTestResponse getBoolTestResponse = null;\n\n\n\n            if (response.getStatus() == 200) {\n                getBoolTestResponse = response.getEntity(GetBoolTestResponse.class);\n                System.out.println(getBoolTestResponse.toString());\n\n            }else{\n                switch (response.getStatus()) {\n                    case 400:\n                        throw new Exception(&quot;BadRequestException:: malFormed message : &quot; + response.getStatus());\n                    case 401:\n                        throw new Exception(&quot;NotAuthorizedException:: Authorized failure : &quot; + response.getStatus());\n                    case 403:\n                        throw new Exception(&quot;forbiddenException:: not permitted to access : &quot; + response.getStatus());\n                    case 404:\n                        throw new Exception(&quot;NotFoundException:: could not find resource : &quot; + response.getStatus());\n                    case 405:\n                        throw new Exception(&quot;NotAllowedException:: HTTP method not supported : &quot; + response.getStatus());\n                    case 406:\n                        throw new Exception(&quot;NotAcceptableException:: client media type not supported : &quot; + response.getStatus());\n                    case 415:\n                        throw new Exception(&quot;NotSupportedException::  client posted media not supported : &quot; + response.getStatus());\n                    case 500:\n                        throw new Exception(&quot;InternalServerErrorException:: General Server Error : &quot; + response.getStatus());\n                    case 503:\n                        throw new Exception(&quot;ServiceUnAvailableException:: server is temporarily unavailable or busy : &quot; + response.getStatus());\n                    default:\n                        throw new RuntimeException(&quot;Failed : HTTP error code : &quot; + response.getStatus());\n                }\n            }\n\n\n            return String.valueOf(getBoolTestResponse);\n\n\n        } catch (Exception e) {\n            e.printStackTrace();\n            return &quot;1800&quot;;\n        }\n    }\n</code></pre>\n<p>Pojo Class:</p>\n<pre><code>@XmlRootElement\npublic class GetBoolTest {\n\n    protected Boolean  isValue;\n\n\n    public GetBoolTest() {\n    }\n\n    public GetBoolTest(Boolean isValue) {\n        this.isValue = isValue;\n    }\n\n    public Boolean getIsValue() {\n        return isValue;\n    }\n\n    @XmlElement\n    public void setIsValue(Boolean isValue) {\n        this.isValue = isValue;\n    }\n}\n</code></pre>\n<p>Response Class:</p>\n<pre><code>@XmlRootElement\npublic class GetBoolTestResponse {\n\n\n\n    protected boolean isValue;\n\n\n\n    public boolean getIsValue() {\n        return isValue;\n    }\n\n    public void setIsValue(boolean value) {\n        this.isValue = value;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;GetBoolTestResponse{&quot; +\n                &quot;getIsValue=&quot; + isValue +\n                '}';\n    }\n}\n</code></pre>\n<p>Here is the log output:</p>\n<pre><code>1 * Client out-bound request\n1 &gt; POST http://**.**.***.***:***/api/Test/Test\n1 &gt; Content-Type: application/json\n1 &gt; Accept: application/json\n{&quot;value&quot;:&quot;true&quot;}\n1 * Client in-bound response\n1 &lt; 200\n1 &lt; Transfer-Encoding: chunked\n1 &lt; Server: Microsoft-IIS/10.0\n1 &lt; Date: Mon, 24 Apr 2023 08:03:49 GMT\n1 &lt; X-Powered-By: ASP.NET\n1 &lt; Content-Type: application/json; charset=utf-8\n1 &lt; \n{&quot;value&quot;:false,&quot;formatters&quot;:[],&quot;contentTypes&quot;:[],&quot;declaredType&quot;:null,&quot;statusCode&quot;:200}\nGetBoolTestResponse{value=false}\n</code></pre>\n<p>I tried many ways, there is no problem testing with post man! also tried with many versions jersey 1.x and 2.x but still have this issue.</p>\n"},{"tags":["java","reactive-programming","project-reactor","flux"],"owner":{"account_id":28281761,"reputation":1,"user_id":21623309,"display_name":"Aditya k"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682397532,"creation_date":1681279729,"question_id":75992383,"body_markdown":"I&#39;m using **RxJava 2** for reactive programming through micronaut framework. I&#39;m trying to understand an issue with the following code: \r\n\r\n```\r\nfun getItemDetails(\r\n    itemRequest: RequestTo\r\n): Mono&lt;List&lt;ResponseTo&gt;&gt; {\r\n    return itemRequest.itemIdList.toFlux()\r\n        .flatMap { findItemStatus(it) }\r\n        .flatMap { response -&gt;\r\n            Mono.justOrEmpty(ResponseTo(response))\r\n                .onErrorResume {\r\n                    logger.error(&quot;Error occurred while mapping entity to response: $response&quot;, it)\r\n                    Mono.empty()\r\n                }\r\n        }\r\n        .collectList()\r\n} \r\n```\r\n\r\nRequestTo: consists of a list of String. \r\nThe idea is to iterate over this list, get the details for each item from the DB(processed through  `findItemStatus()` function call which returns the DB Entity) and Map it to a response object. \r\n\r\nI wanted to work such that, if any entity returned by the `findItemStatus() flatMap` operation causes an exception while mapping it to the `ResponseTo`, I want that item to be skipped in the final list but continue processing the remaining items in the flux. I don&#39;t want to keep the `onErrorResume` block outside the second flatMap cause that would close the stream if any intermediate entity in the flux causes an Error while mapping and the remaining items in the flux won&#39;t be mapped. \r\n\r\nI&#39;m not sure what the issue is with my code but when there is an exception thrown in `Mono.justOrEmpty(ResponseTo(response))`, it is not being caught in onErrorResume.\r\n\r\n\r\n\r\nI&#39;m putting the test case here: \r\n\r\n```\r\ndef &quot;test getItemDetails() when there is an error mapping DB response to Response TO for any item&quot;() {\r\n\r\n        def itemEntity1 = new DiscontinuedItemsEntity(&quot;52782904&quot;, null, null, UUID.randomUUID())\r\n        def itemEntity2 = new DiscontinuedItemsEntity(&quot;52778904&quot;, null, null, UUID.randomUUID())\r\n        def requestBody = new DiscontinuedItemsTcinRequest([&quot;52782904&quot;, &quot;52782904&quot;])\r\n\r\n        when:\r\n        def response = itemsStatusService.getItemDetails(requestBody).block()\r\n        def responseList = response.itemsList\r\n\r\n        then:\r\n        1 * discontinuedItemsRepository.findDiscontinuedItems(*_) &gt;&gt; Mono.just(itemEntity1)\r\n        1 * discontinuedItemsRepository.findDiscontinuedItems(*_) &gt;&gt; Mono.just(itemEntity2)\r\n\r\n        responseList.size() == 1\r\n        responseList.get(0).itemId == itemEntity1.itemId\r\n    }\r\n```\r\n\r\nI need this test case to pass but instead an exception is thrown and not handled since it&#39;s not being caught in onErrorResume","title":"Error returned from Mono not being caught in onErrorResume","body":"<p>I'm using <strong>RxJava 2</strong> for reactive programming through micronaut framework. I'm trying to understand an issue with the following code:</p>\n<pre><code>fun getItemDetails(\n    itemRequest: RequestTo\n): Mono&lt;List&lt;ResponseTo&gt;&gt; {\n    return itemRequest.itemIdList.toFlux()\n        .flatMap { findItemStatus(it) }\n        .flatMap { response -&gt;\n            Mono.justOrEmpty(ResponseTo(response))\n                .onErrorResume {\n                    logger.error(&quot;Error occurred while mapping entity to response: $response&quot;, it)\n                    Mono.empty()\n                }\n        }\n        .collectList()\n} \n</code></pre>\n<p>RequestTo: consists of a list of String.\nThe idea is to iterate over this list, get the details for each item from the DB(processed through  <code>findItemStatus()</code> function call which returns the DB Entity) and Map it to a response object.</p>\n<p>I wanted to work such that, if any entity returned by the <code>findItemStatus() flatMap</code> operation causes an exception while mapping it to the <code>ResponseTo</code>, I want that item to be skipped in the final list but continue processing the remaining items in the flux. I don't want to keep the <code>onErrorResume</code> block outside the second flatMap cause that would close the stream if any intermediate entity in the flux causes an Error while mapping and the remaining items in the flux won't be mapped.</p>\n<p>I'm not sure what the issue is with my code but when there is an exception thrown in <code>Mono.justOrEmpty(ResponseTo(response))</code>, it is not being caught in onErrorResume.</p>\n<p>I'm putting the test case here:</p>\n<pre><code>def &quot;test getItemDetails() when there is an error mapping DB response to Response TO for any item&quot;() {\n\n        def itemEntity1 = new DiscontinuedItemsEntity(&quot;52782904&quot;, null, null, UUID.randomUUID())\n        def itemEntity2 = new DiscontinuedItemsEntity(&quot;52778904&quot;, null, null, UUID.randomUUID())\n        def requestBody = new DiscontinuedItemsTcinRequest([&quot;52782904&quot;, &quot;52782904&quot;])\n\n        when:\n        def response = itemsStatusService.getItemDetails(requestBody).block()\n        def responseList = response.itemsList\n\n        then:\n        1 * discontinuedItemsRepository.findDiscontinuedItems(*_) &gt;&gt; Mono.just(itemEntity1)\n        1 * discontinuedItemsRepository.findDiscontinuedItems(*_) &gt;&gt; Mono.just(itemEntity2)\n\n        responseList.size() == 1\n        responseList.get(0).itemId == itemEntity1.itemId\n    }\n</code></pre>\n<p>I need this test case to pass but instead an exception is thrown and not handled since it's not being caught in onErrorResume</p>\n"},{"tags":["java","sql","jdbc","netbeans","jframe"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682396877,"creation_date":1682396877,"answer_id":76097646,"question_id":76097631,"body_markdown":"You never call `config()` anywhere. That would initialize `con`, so, without having called it, that is still `null`, and thus, `NullPointerException`.\r\n\r\nSeparately, catching an exception and just printing something is a really bad idea. If you can&#39;t handle them (and &#39;print something&#39; isn&#39;t handling them).\r\n\r\nIf the checked nature is a problem, rewrap them. Go into your IDE settings right now and fix the template - it needs to be:\r\n\r\n```\r\ntry {\r\n .. code ..\r\n} catch (CheckedException e) {\r\n  throw new RuntimeException(&quot;unhandled&quot;, e);\r\n}\r\n```\r\n\r\n_NOT_ `e.printStackTrace()` or `System.err.println(e)` or any other such &#39;print it and continue&#39; craziness.\r\n","title":"JDBC can&#39;t establish connection with SQL, nullPointerException error","body":"<p>You never call <code>config()</code> anywhere. That would initialize <code>con</code>, so, without having called it, that is still <code>null</code>, and thus, <code>NullPointerException</code>.</p>\n<p>Separately, catching an exception and just printing something is a really bad idea. If you can't handle them (and 'print something' isn't handling them).</p>\n<p>If the checked nature is a problem, rewrap them. Go into your IDE settings right now and fix the template - it needs to be:</p>\n<pre><code>try {\n .. code ..\n} catch (CheckedException e) {\n  throw new RuntimeException(&quot;unhandled&quot;, e);\n}\n</code></pre>\n<p><em>NOT</em> <code>e.printStackTrace()</code> or <code>System.err.println(e)</code> or any other such 'print it and continue' craziness.</p>\n"}],"owner":{"account_id":26855698,"reputation":1,"user_id":20440043,"display_name":"Blackjack Colver Voltaire"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1682398241,"answer_count":1,"score":0,"last_activity_date":1682396877,"creation_date":1682396647,"question_id":76097631,"body_markdown":"Cannot establish connection with SQL, when run it gives nullpointerexception error\r\n\r\nthe table should display the data, but instead it shows nothing since jdbc doesn&#39;t connect to SQL\r\n\r\nhere&#39;s the class to connect it to SQL\r\n\r\n```\r\nimport com.mysql.jdbc.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.SQLDataException;\r\nimport java.sql.SQLException;\r\nimport java.sql.Statement;\r\n\r\npublic class Koneksi {\r\n\r\n    private static Connection MySQLConfig;\r\n    static Connection con;\r\n    static Statement stm;\r\n\r\n    private static Connection config() throws SQLDataException, SQLException {\r\n        try {\r\n            String url = &quot;jdbc:mysql://localhost:3306/latihandatabase?zeroDateTimeBehavior=convertToNull [root on Default schema]&quot;;\r\n            String user = &quot;root&quot;;\r\n            String pass = &quot;&quot;;\r\n            DriverManager.registerDriver(new com.mysql.jdbc.Driver());\r\n            MySQLConfig = (Connection) DriverManager.getConnection(url, user, pass);\r\n            System.out.println(&quot;Koneksi Berhasil: &quot;);\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;koneksi gagal&quot; + e.getMessage());\r\n        }\r\n        return MySQLConfig;\r\n    }\r\n}\r\n```\r\n\r\nand here&#39;s the JFrame class\r\n\r\n```\r\n\r\nimport java.sql.SQLException;\r\nimport javax.swing.table.DefaultTableModel;\r\n\r\npublic class form_buku extends javax.swing.JFrame {\r\n\r\n    public form_buku() {\r\n        initComponents();\r\n        kosongkanForm();\r\n        TampilData();\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \r\n    private void initComponents() {\r\n\r\n        jScrollPane1 = new javax.swing.JScrollPane();\r\n        jTable1 = new javax.swing.JTable();\r\n        jScrollPane2 = new javax.swing.JScrollPane();\r\n        jTable2 = new javax.swing.JTable();\r\n        jButton1 = new javax.swing.JButton();\r\n        jTextField1 = new javax.swing.JTextField();\r\n        jTextField2 = new javax.swing.JTextField();\r\n        jTextField3 = new javax.swing.JTextField();\r\n        jTextField4 = new javax.swing.JTextField();\r\n        jTextField5 = new javax.swing.JTextField();\r\n        jLabel1 = new javax.swing.JLabel();\r\n        jButton2 = new javax.swing.JButton();\r\n        jButton3 = new javax.swing.JButton();\r\n        jButton5 = new javax.swing.JButton();\r\n        jButton6 = new javax.swing.JButton();\r\n        jButton7 = new javax.swing.JButton();\r\n        jLabel2 = new javax.swing.JLabel();\r\n        jLabel3 = new javax.swing.JLabel();\r\n        jLabel4 = new javax.swing.JLabel();\r\n        jLabel5 = new javax.swing.JLabel();\r\n        jLabel6 = new javax.swing.JLabel();\r\n        jScrollPane3 = new javax.swing.JScrollPane();\r\n        jTable3 = new javax.swing.JTable();\r\n\r\n        jTable1.setModel(new javax.swing.table.DefaultTableModel(\r\n            new Object [][] {\r\n                {null, null, null, null},\r\n                {null, null, null, null},\r\n                {null, null, null, null},\r\n                {null, null, null, null}\r\n            },\r\n            new String [] {\r\n                &quot;Title 1&quot;, &quot;Title 2&quot;, &quot;Title 3&quot;, &quot;Title 4&quot;\r\n            }\r\n        ));\r\n        jScrollPane1.setViewportView(jTable1);\r\n\r\n        jTable2.setModel(new javax.swing.table.DefaultTableModel(\r\n            new Object [][] {\r\n                {null, null, null, null},\r\n                {null, null, null, null},\r\n                {null, null, null, null},\r\n                {null, null, null, null}\r\n            },\r\n            new String [] {\r\n                &quot;Title 1&quot;, &quot;Title 2&quot;, &quot;Title 3&quot;, &quot;Title 4&quot;\r\n            }\r\n        ));\r\n        jScrollPane2.setViewportView(jTable2);\r\n\r\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\r\n\r\n        jButton1.setText(&quot;Batal&quot;);\r\n\r\n        jTextField1.setText(&quot;jTextField1&quot;);\r\n\r\n        jTextField2.setText(&quot;jTextField2&quot;);\r\n\r\n        jTextField3.setText(&quot;jTextField3&quot;);\r\n\r\n        jTextField4.setText(&quot;jTextField4&quot;);\r\n\r\n        jTextField5.setText(&quot;jTextField5&quot;);\r\n\r\n        jLabel1.setFont(new java.awt.Font(&quot;Tahoma&quot;, 0, 24)); // NOI18N\r\n        jLabel1.setText(&quot;Form buku&quot;);\r\n\r\n        jButton2.setText(&quot;Tambah Data&quot;);\r\n        jButton2.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                jButton2ActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        jButton3.setText(&quot;Edit&quot;);\r\n        jButton3.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                jButton3ActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        jButton5.setText(&quot;Hapus&quot;);\r\n\r\n        jButton6.setText(&quot;Simpan&quot;);\r\n        jButton6.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                jButton6ActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        jButton7.setText(&quot;Keluar&quot;);\r\n\r\n        jLabel2.setText(&quot;ID Buku&quot;);\r\n\r\n        jLabel3.setText(&quot;Judul Buku&quot;);\r\n\r\n        jLabel4.setText(&quot;Pengarang&quot;);\r\n\r\n        jLabel5.setText(&quot;Harga&quot;);\r\n\r\n        jLabel6.setText(&quot;Stock&quot;);\r\n\r\n        jTable3.setModel(new javax.swing.table.DefaultTableModel(\r\n            new Object [][] {\r\n                {null, null, null, null, null},\r\n                {null, null, null, null, null},\r\n                {null, null, null, null, null},\r\n                {null, null, null, null, null}\r\n            },\r\n            new String [] {\r\n                &quot;Title 1&quot;, &quot;Title 2&quot;, &quot;Title 3&quot;, &quot;Title 4&quot;, &quot;Title 5&quot;\r\n            }\r\n        ));\r\n        jScrollPane3.setViewportView(jTable3);\r\n\r\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\r\n        getContentPane().setLayout(layout);\r\n        layout.setHorizontalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(layout.createSequentialGroup()\r\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                    .addGroup(layout.createSequentialGroup()\r\n                        .addGap(32, 32, 32)\r\n                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                            .addGroup(layout.createSequentialGroup()\r\n                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                                    .addComponent(jLabel2)\r\n                                    .addComponent(jLabel3)\r\n                                    .addComponent(jLabel4)\r\n                                    .addComponent(jLabel5)\r\n                                    .addComponent(jLabel6))\r\n                                .addGap(22, 22, 22)\r\n                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)\r\n                                    .addComponent(jTextField5, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 110, Short.MAX_VALUE)\r\n                                    .addComponent(jTextField4, javax.swing.GroupLayout.Alignment.TRAILING)\r\n                                    .addComponent(jTextField3, javax.swing.GroupLayout.Alignment.TRAILING)\r\n                                    .addComponent(jTextField2, javax.swing.GroupLayout.Alignment.TRAILING)\r\n                                    .addComponent(jTextField1, javax.swing.GroupLayout.Alignment.TRAILING)))\r\n                            .addGroup(layout.createSequentialGroup()\r\n                                .addGap(10, 10, 10)\r\n                                .addComponent(jScrollPane3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))))\r\n                    .addGroup(layout.createSequentialGroup()\r\n                        .addGap(18, 18, 18)\r\n                        .addComponent(jButton2)\r\n                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                            .addGroup(layout.createSequentialGroup()\r\n                                .addGap(107, 107, 107)\r\n                                .addComponent(jLabel1))\r\n                            .addGroup(layout.createSequentialGroup()\r\n                                .addGap(18, 18, 18)\r\n                                .addComponent(jButton3)\r\n                                .addGap(24, 24, 24)\r\n                                .addComponent(jButton5)\r\n                                .addGap(18, 18, 18)\r\n                                .addComponent(jButton6)\r\n                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)\r\n                                .addComponent(jButton1)\r\n                                .addGap(13, 13, 13)\r\n                                .addComponent(jButton7)))))\r\n                .addContainerGap(24, Short.MAX_VALUE))\r\n        );\r\n        layout.setVerticalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(layout.createSequentialGroup()\r\n                .addContainerGap()\r\n                .addComponent(jLabel1)\r\n                .addGap(24, 24, 24)\r\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\r\n                    .addComponent(jTextField1, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                    .addComponent(jLabel2))\r\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\r\n                    .addComponent(jTextField2, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                    .addComponent(jLabel3))\r\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\r\n                    .addComponent(jTextField3, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                    .addComponent(jLabel4))\r\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\r\n                    .addComponent(jTextField4, javax.swing.GroupLayout.PREFERRED_SIZE, 31, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                    .addComponent(jLabel5))\r\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\r\n                    .addComponent(jTextField5, javax.swing.GroupLayout.PREFERRED_SIZE, 31, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                    .addComponent(jLabel6))\r\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)\r\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\r\n                    .addComponent(jButton2)\r\n                    .addComponent(jButton3)\r\n                    .addComponent(jButton5)\r\n                    .addComponent(jButton6)\r\n                    .addComponent(jButton1)\r\n                    .addComponent(jButton7))\r\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                .addComponent(jScrollPane3, javax.swing.GroupLayout.PREFERRED_SIZE, 99, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                .addContainerGap())\r\n        );\r\n\r\n        pack();\r\n    }// &lt;/editor-fold&gt;                        \r\n\r\n    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n        // TODO add your handling code here:\r\n        kosongkanForm();\r\n    }                                        \r\n\r\n    private void jButton3ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n        // TODO add your handling code here:\r\n    }                                        \r\n\r\n    private void jButton6ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n        // TODO add your handling code here:\r\n\r\n    }                                        \r\n\r\n    public void kosongkanForm() {\r\n        jTextField1.setText(null);\r\n        jTextField2.setText(null);\r\n        jTextField3.setText(null);\r\n        jTextField4.setText(null);\r\n        jTextField5.setText(null);\r\n    }\r\n\r\nprivate void TampilData(){\r\n    DefaultTableModel model = new DefaultTableModel();\r\n    model.addColumn(&quot;ID&quot;);\r\n    model.addColumn(&quot;Judul&quot;);\r\n    model.addColumn(&quot;Pengarang&quot;);\r\n    model.addColumn(&quot;Harga&quot;);\r\n    model.addColumn(&quot;Stock&quot;);\r\n\r\n    try{\r\n\r\n        String sql = &quot;SELECT * from BUKU&quot;;\r\n        Koneksi.stm=Koneksi.con.createStatement();\r\n        java.sql.ResultSet res=Koneksi.stm.executeQuery(sql);\r\n\r\n        while(res.next()){\r\n            model.addRow(new Object[]{\r\n            res.getString(1),\r\n            res.getString(2),\r\n            res.getString(3),\r\n            res.getString(4),\r\n            res.getString(5)});\r\n        }\r\n        jTable3.setModel(model);\r\n    }\r\n    catch(SQLException e){\r\n        System.out.println(&quot;Error&quot;+e.getMessage());\r\n\r\n    }\r\n}\r\n\r\n    public static void main(String args[]) {\r\n        /* Set the Nimbus look and feel */\r\n        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\r\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\r\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \r\n         */\r\n        try {\r\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\r\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\r\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\r\n                    break;\r\n                }\r\n            }\r\n        } catch (ClassNotFoundException ex) {\r\n            java.util.logging.Logger.getLogger(form_buku.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (InstantiationException ex) {\r\n            java.util.logging.Logger.getLogger(form_buku.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (IllegalAccessException ex) {\r\n            java.util.logging.Logger.getLogger(form_buku.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\r\n            java.util.logging.Logger.getLogger(form_buku.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        }\r\n        //&lt;/editor-fold&gt;\r\n\r\n        /* Create and display the form */\r\n        java.awt.EventQueue.invokeLater(new Runnable() {\r\n            public void run() {\r\n                new form_buku().setVisible(true);\r\n            }\r\n        });\r\n    }\r\n\r\n    // Variables declaration - do not modify                     \r\n    private javax.swing.JButton jButton1;\r\n    private javax.swing.JButton jButton2;\r\n    private javax.swing.JButton jButton3;\r\n    private javax.swing.JButton jButton5;\r\n    private javax.swing.JButton jButton6;\r\n    private javax.swing.JButton jButton7;\r\n    private javax.swing.JLabel jLabel1;\r\n    private javax.swing.JLabel jLabel2;\r\n    private javax.swing.JLabel jLabel3;\r\n    private javax.swing.JLabel jLabel4;\r\n    private javax.swing.JLabel jLabel5;\r\n    private javax.swing.JLabel jLabel6;\r\n    private javax.swing.JScrollPane jScrollPane1;\r\n    private javax.swing.JScrollPane jScrollPane2;\r\n    private javax.swing.JScrollPane jScrollPane3;\r\n    private javax.swing.JTable jTable1;\r\n    private javax.swing.JTable jTable2;\r\n    private javax.swing.JTable jTable3;\r\n    private javax.swing.JTextField jTextField1;\r\n    private javax.swing.JTextField jTextField2;\r\n    private javax.swing.JTextField jTextField3;\r\n    private javax.swing.JTextField jTextField4;\r\n    private javax.swing.JTextField jTextField5;\r\n    // End of variables declaration                   \r\n}\r\n\r\n```\r\n\r\nwhen it was run it gives out this error\r\n\r\n```\r\nrun:\r\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException\r\n\tat form_buku.TampilData(form_buku.java:252)\r\n\tat form_buku.&lt;init&gt;(form_buku.java:10)\r\n\tat form_buku$4.run(form_buku.java:298)\r\n\tat java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:311)\r\n\tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:758)\r\n\tat java.awt.EventQueue.access$500(EventQueue.java:97)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:709)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:703)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\r\n\tat java.awt.EventQueue.dispatchEvent(EventQueue.java:728)\r\n\tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:205)\r\n\tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\r\n\tat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\r\n\tat java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\r\n\r\n```\r\n\r\ni&#39;m kinda new to this so I can&#39;t determine why it doesn&#39;t connect with SQL\r\n","title":"JDBC can&#39;t establish connection with SQL, nullPointerException error","body":"<p>Cannot establish connection with SQL, when run it gives nullpointerexception error</p>\n<p>the table should display the data, but instead it shows nothing since jdbc doesn't connect to SQL</p>\n<p>here's the class to connect it to SQL</p>\n<pre><code>import com.mysql.jdbc.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLDataException;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\npublic class Koneksi {\n\n    private static Connection MySQLConfig;\n    static Connection con;\n    static Statement stm;\n\n    private static Connection config() throws SQLDataException, SQLException {\n        try {\n            String url = &quot;jdbc:mysql://localhost:3306/latihandatabase?zeroDateTimeBehavior=convertToNull [root on Default schema]&quot;;\n            String user = &quot;root&quot;;\n            String pass = &quot;&quot;;\n            DriverManager.registerDriver(new com.mysql.jdbc.Driver());\n            MySQLConfig = (Connection) DriverManager.getConnection(url, user, pass);\n            System.out.println(&quot;Koneksi Berhasil: &quot;);\n        } catch (Exception e) {\n            System.out.println(&quot;koneksi gagal&quot; + e.getMessage());\n        }\n        return MySQLConfig;\n    }\n}\n</code></pre>\n<p>and here's the JFrame class</p>\n<pre><code>\nimport java.sql.SQLException;\nimport javax.swing.table.DefaultTableModel;\n\npublic class form_buku extends javax.swing.JFrame {\n\n    public form_buku() {\n        initComponents();\n        kosongkanForm();\n        TampilData();\n    }\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \n    private void initComponents() {\n\n        jScrollPane1 = new javax.swing.JScrollPane();\n        jTable1 = new javax.swing.JTable();\n        jScrollPane2 = new javax.swing.JScrollPane();\n        jTable2 = new javax.swing.JTable();\n        jButton1 = new javax.swing.JButton();\n        jTextField1 = new javax.swing.JTextField();\n        jTextField2 = new javax.swing.JTextField();\n        jTextField3 = new javax.swing.JTextField();\n        jTextField4 = new javax.swing.JTextField();\n        jTextField5 = new javax.swing.JTextField();\n        jLabel1 = new javax.swing.JLabel();\n        jButton2 = new javax.swing.JButton();\n        jButton3 = new javax.swing.JButton();\n        jButton5 = new javax.swing.JButton();\n        jButton6 = new javax.swing.JButton();\n        jButton7 = new javax.swing.JButton();\n        jLabel2 = new javax.swing.JLabel();\n        jLabel3 = new javax.swing.JLabel();\n        jLabel4 = new javax.swing.JLabel();\n        jLabel5 = new javax.swing.JLabel();\n        jLabel6 = new javax.swing.JLabel();\n        jScrollPane3 = new javax.swing.JScrollPane();\n        jTable3 = new javax.swing.JTable();\n\n        jTable1.setModel(new javax.swing.table.DefaultTableModel(\n            new Object [][] {\n                {null, null, null, null},\n                {null, null, null, null},\n                {null, null, null, null},\n                {null, null, null, null}\n            },\n            new String [] {\n                &quot;Title 1&quot;, &quot;Title 2&quot;, &quot;Title 3&quot;, &quot;Title 4&quot;\n            }\n        ));\n        jScrollPane1.setViewportView(jTable1);\n\n        jTable2.setModel(new javax.swing.table.DefaultTableModel(\n            new Object [][] {\n                {null, null, null, null},\n                {null, null, null, null},\n                {null, null, null, null},\n                {null, null, null, null}\n            },\n            new String [] {\n                &quot;Title 1&quot;, &quot;Title 2&quot;, &quot;Title 3&quot;, &quot;Title 4&quot;\n            }\n        ));\n        jScrollPane2.setViewportView(jTable2);\n\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n\n        jButton1.setText(&quot;Batal&quot;);\n\n        jTextField1.setText(&quot;jTextField1&quot;);\n\n        jTextField2.setText(&quot;jTextField2&quot;);\n\n        jTextField3.setText(&quot;jTextField3&quot;);\n\n        jTextField4.setText(&quot;jTextField4&quot;);\n\n        jTextField5.setText(&quot;jTextField5&quot;);\n\n        jLabel1.setFont(new java.awt.Font(&quot;Tahoma&quot;, 0, 24)); // NOI18N\n        jLabel1.setText(&quot;Form buku&quot;);\n\n        jButton2.setText(&quot;Tambah Data&quot;);\n        jButton2.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jButton2ActionPerformed(evt);\n            }\n        });\n\n        jButton3.setText(&quot;Edit&quot;);\n        jButton3.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jButton3ActionPerformed(evt);\n            }\n        });\n\n        jButton5.setText(&quot;Hapus&quot;);\n\n        jButton6.setText(&quot;Simpan&quot;);\n        jButton6.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jButton6ActionPerformed(evt);\n            }\n        });\n\n        jButton7.setText(&quot;Keluar&quot;);\n\n        jLabel2.setText(&quot;ID Buku&quot;);\n\n        jLabel3.setText(&quot;Judul Buku&quot;);\n\n        jLabel4.setText(&quot;Pengarang&quot;);\n\n        jLabel5.setText(&quot;Harga&quot;);\n\n        jLabel6.setText(&quot;Stock&quot;);\n\n        jTable3.setModel(new javax.swing.table.DefaultTableModel(\n            new Object [][] {\n                {null, null, null, null, null},\n                {null, null, null, null, null},\n                {null, null, null, null, null},\n                {null, null, null, null, null}\n            },\n            new String [] {\n                &quot;Title 1&quot;, &quot;Title 2&quot;, &quot;Title 3&quot;, &quot;Title 4&quot;, &quot;Title 5&quot;\n            }\n        ));\n        jScrollPane3.setViewportView(jTable3);\n\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\n        getContentPane().setLayout(layout);\n        layout.setHorizontalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                    .addGroup(layout.createSequentialGroup()\n                        .addGap(32, 32, 32)\n                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                            .addGroup(layout.createSequentialGroup()\n                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                                    .addComponent(jLabel2)\n                                    .addComponent(jLabel3)\n                                    .addComponent(jLabel4)\n                                    .addComponent(jLabel5)\n                                    .addComponent(jLabel6))\n                                .addGap(22, 22, 22)\n                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)\n                                    .addComponent(jTextField5, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 110, Short.MAX_VALUE)\n                                    .addComponent(jTextField4, javax.swing.GroupLayout.Alignment.TRAILING)\n                                    .addComponent(jTextField3, javax.swing.GroupLayout.Alignment.TRAILING)\n                                    .addComponent(jTextField2, javax.swing.GroupLayout.Alignment.TRAILING)\n                                    .addComponent(jTextField1, javax.swing.GroupLayout.Alignment.TRAILING)))\n                            .addGroup(layout.createSequentialGroup()\n                                .addGap(10, 10, 10)\n                                .addComponent(jScrollPane3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))))\n                    .addGroup(layout.createSequentialGroup()\n                        .addGap(18, 18, 18)\n                        .addComponent(jButton2)\n                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                            .addGroup(layout.createSequentialGroup()\n                                .addGap(107, 107, 107)\n                                .addComponent(jLabel1))\n                            .addGroup(layout.createSequentialGroup()\n                                .addGap(18, 18, 18)\n                                .addComponent(jButton3)\n                                .addGap(24, 24, 24)\n                                .addComponent(jButton5)\n                                .addGap(18, 18, 18)\n                                .addComponent(jButton6)\n                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)\n                                .addComponent(jButton1)\n                                .addGap(13, 13, 13)\n                                .addComponent(jButton7)))))\n                .addContainerGap(24, Short.MAX_VALUE))\n        );\n        layout.setVerticalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addContainerGap()\n                .addComponent(jLabel1)\n                .addGap(24, 24, 24)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                    .addComponent(jTextField1, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)\n                    .addComponent(jLabel2))\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                    .addComponent(jTextField2, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)\n                    .addComponent(jLabel3))\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                    .addComponent(jTextField3, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)\n                    .addComponent(jLabel4))\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                    .addComponent(jTextField4, javax.swing.GroupLayout.PREFERRED_SIZE, 31, javax.swing.GroupLayout.PREFERRED_SIZE)\n                    .addComponent(jLabel5))\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                    .addComponent(jTextField5, javax.swing.GroupLayout.PREFERRED_SIZE, 31, javax.swing.GroupLayout.PREFERRED_SIZE)\n                    .addComponent(jLabel6))\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                    .addComponent(jButton2)\n                    .addComponent(jButton3)\n                    .addComponent(jButton5)\n                    .addComponent(jButton6)\n                    .addComponent(jButton1)\n                    .addComponent(jButton7))\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                .addComponent(jScrollPane3, javax.swing.GroupLayout.PREFERRED_SIZE, 99, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addContainerGap())\n        );\n\n        pack();\n    }// &lt;/editor-fold&gt;                        \n\n    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n        // TODO add your handling code here:\n        kosongkanForm();\n    }                                        \n\n    private void jButton3ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n        // TODO add your handling code here:\n    }                                        \n\n    private void jButton6ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n        // TODO add your handling code here:\n\n    }                                        \n\n    public void kosongkanForm() {\n        jTextField1.setText(null);\n        jTextField2.setText(null);\n        jTextField3.setText(null);\n        jTextField4.setText(null);\n        jTextField5.setText(null);\n    }\n\nprivate void TampilData(){\n    DefaultTableModel model = new DefaultTableModel();\n    model.addColumn(&quot;ID&quot;);\n    model.addColumn(&quot;Judul&quot;);\n    model.addColumn(&quot;Pengarang&quot;);\n    model.addColumn(&quot;Harga&quot;);\n    model.addColumn(&quot;Stock&quot;);\n\n    try{\n\n        String sql = &quot;SELECT * from BUKU&quot;;\n        Koneksi.stm=Koneksi.con.createStatement();\n        java.sql.ResultSet res=Koneksi.stm.executeQuery(sql);\n\n        while(res.next()){\n            model.addRow(new Object[]{\n            res.getString(1),\n            res.getString(2),\n            res.getString(3),\n            res.getString(4),\n            res.getString(5)});\n        }\n        jTable3.setModel(model);\n    }\n    catch(SQLException e){\n        System.out.println(&quot;Error&quot;+e.getMessage());\n\n    }\n}\n\n    public static void main(String args[]) {\n        /* Set the Nimbus look and feel */\n        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \n         */\n        try {\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\n                    break;\n                }\n            }\n        } catch (ClassNotFoundException ex) {\n            java.util.logging.Logger.getLogger(form_buku.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (InstantiationException ex) {\n            java.util.logging.Logger.getLogger(form_buku.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (IllegalAccessException ex) {\n            java.util.logging.Logger.getLogger(form_buku.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\n            java.util.logging.Logger.getLogger(form_buku.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        }\n        //&lt;/editor-fold&gt;\n\n        /* Create and display the form */\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new form_buku().setVisible(true);\n            }\n        });\n    }\n\n    // Variables declaration - do not modify                     \n    private javax.swing.JButton jButton1;\n    private javax.swing.JButton jButton2;\n    private javax.swing.JButton jButton3;\n    private javax.swing.JButton jButton5;\n    private javax.swing.JButton jButton6;\n    private javax.swing.JButton jButton7;\n    private javax.swing.JLabel jLabel1;\n    private javax.swing.JLabel jLabel2;\n    private javax.swing.JLabel jLabel3;\n    private javax.swing.JLabel jLabel4;\n    private javax.swing.JLabel jLabel5;\n    private javax.swing.JLabel jLabel6;\n    private javax.swing.JScrollPane jScrollPane1;\n    private javax.swing.JScrollPane jScrollPane2;\n    private javax.swing.JScrollPane jScrollPane3;\n    private javax.swing.JTable jTable1;\n    private javax.swing.JTable jTable2;\n    private javax.swing.JTable jTable3;\n    private javax.swing.JTextField jTextField1;\n    private javax.swing.JTextField jTextField2;\n    private javax.swing.JTextField jTextField3;\n    private javax.swing.JTextField jTextField4;\n    private javax.swing.JTextField jTextField5;\n    // End of variables declaration                   \n}\n\n</code></pre>\n<p>when it was run it gives out this error</p>\n<pre><code>run:\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException\n    at form_buku.TampilData(form_buku.java:252)\n    at form_buku.&lt;init&gt;(form_buku.java:10)\n    at form_buku$4.run(form_buku.java:298)\n    at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:311)\n    at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:758)\n    at java.awt.EventQueue.access$500(EventQueue.java:97)\n    at java.awt.EventQueue$3.run(EventQueue.java:709)\n    at java.awt.EventQueue$3.run(EventQueue.java:703)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\n    at java.awt.EventQueue.dispatchEvent(EventQueue.java:728)\n    at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:205)\n    at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\n    at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\n    at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\n\n</code></pre>\n<p>i'm kinda new to this so I can't determine why it doesn't connect with SQL</p>\n"},{"tags":["java","json","csv","serialization"],"answers":[{"tags":[],"owner":{"account_id":28362251,"reputation":36,"user_id":21692077,"display_name":"Durfen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682340383,"creation_date":1682340383,"answer_id":76092050,"question_id":76091939,"body_markdown":"Why don&#39;t just use a Map&lt;String, Object&gt; and wrap that into a POJO?\r\n\r\nYou can also use Jackson Substypes but you need the definitions beforehand\r\nhttps://www.baeldung.com/jackson-annotations\r\n","title":"How to convert flat values to a JSON with dynamically changing schema?","body":"<p>Why don't just use a Map&lt;String, Object&gt; and wrap that into a POJO?</p>\n<p>You can also use Jackson Substypes but you need the definitions beforehand\n<a href=\"https://www.baeldung.com/jackson-annotations\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jackson-annotations</a></p>\n"}],"owner":{"account_id":298566,"reputation":537,"user_id":604656,"accept_rate":47,"display_name":"ashish.g"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682396534,"creation_date":1682339682,"question_id":76091939,"body_markdown":"I have a list of values e.g. in a CSV; and a JSON schema **which can change at runtime**. I want to create a JSON out of the schema and fill appropriate values from the CSV.\r\n\r\nHere is an example of what I would like to achieve:\r\n\r\nHere is a CSV:\r\n\r\n&lt;blockquote&gt;\r\nproductId, price, inStock&lt;br/&gt;\r\n12345, 200, true&lt;br/&gt;\r\n45678, 299, true\r\n&lt;/blockquote&gt;\r\n\r\nI need to convert each line to a JSON like following, for example. There can be nested objects. The schema can change and i would need to provide relevant mapping.\r\n\r\n```\r\n{\r\n  &quot;product&quot;:{\r\n    &quot;id&quot;: &quot;1234&quot;,\r\n    &quot;price&quot; : 200,\r\n    &quot;stockAvailable&quot; : &quot;yes&quot;\r\n  }\r\n}\r\n```\r\n\r\nI thought of some ways of achieving it. I wanted to check if there is any better way available via some library. If not, is there any downside to any of the following methods?\r\n\r\n\r\n&lt;hr/&gt;\r\n\r\n**1.** \r\nCreate a JSON from the schema with a the default value as the mapped column number of the CSV inside curly brackets. Like, in the above example, the JSON like following. The values can be supplied using a String formatter.\r\n```\r\n{\r\n  &quot;product&quot;:{\r\n    &quot;id&quot;: {0},\r\n    &quot;price&quot; : {1},\r\n    &quot;stockAvailable&quot; : {2}\r\n  }\r\n}\r\n```\r\n\r\n&lt;hr/&gt;\r\n\r\n**2.**\r\nCreate a dynamic set of JSON data-binding classes. Fill the values (using Jackson or something like that) and convert to JSON.\r\n```\r\n@JsonPropertyOrder({ &quot;id&quot;, &quot;price&quot;, &quot;stock&quot;})\r\npublic class Product {\r\n\r\n\tpublic String id;\r\n\tpublic Double price;\r\n\tpublic Boolean stock;\r\n\r\n}\r\n```","title":"How to convert flat values to a JSON with dynamically changing schema?","body":"<p>I have a list of values e.g. in a CSV; and a JSON schema <strong>which can change at runtime</strong>. I want to create a JSON out of the schema and fill appropriate values from the CSV.</p>\n<p>Here is an example of what I would like to achieve:</p>\n<p>Here is a CSV:</p>\n<blockquote>\nproductId, price, inStock<br/>\n12345, 200, true<br/>\n45678, 299, true\n</blockquote>\n<p>I need to convert each line to a JSON like following, for example. There can be nested objects. The schema can change and i would need to provide relevant mapping.</p>\n<pre><code>{\n  &quot;product&quot;:{\n    &quot;id&quot;: &quot;1234&quot;,\n    &quot;price&quot; : 200,\n    &quot;stockAvailable&quot; : &quot;yes&quot;\n  }\n}\n</code></pre>\n<p>I thought of some ways of achieving it. I wanted to check if there is any better way available via some library. If not, is there any downside to any of the following methods?</p>\n<hr/>\n<p><strong>1.</strong>\nCreate a JSON from the schema with a the default value as the mapped column number of the CSV inside curly brackets. Like, in the above example, the JSON like following. The values can be supplied using a String formatter.</p>\n<pre><code>{\n  &quot;product&quot;:{\n    &quot;id&quot;: {0},\n    &quot;price&quot; : {1},\n    &quot;stockAvailable&quot; : {2}\n  }\n}\n</code></pre>\n<hr/>\n<p><strong>2.</strong>\nCreate a dynamic set of JSON data-binding classes. Fill the values (using Jackson or something like that) and convert to JSON.</p>\n<pre><code>@JsonPropertyOrder({ &quot;id&quot;, &quot;price&quot;, &quot;stock&quot;})\npublic class Product {\n\n    public String id;\n    public Double price;\n    public Boolean stock;\n\n}\n</code></pre>\n"},{"tags":["java","flux"],"owner":{"account_id":22418218,"reputation":1,"user_id":16625949,"display_name":"Laurens van Nieuwenhuize"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682394921,"creation_date":1682006970,"question_id":76066196,"body_markdown":"I&#39;m learning java flux, and i came to this problem. \r\n\r\nWhat i want is:\r\nIf the object alrdy exists with the right status, i want to update it further in the code. If the object doesnt exists or has the wrong status i will make a new object.\r\n\r\nI tried this by comparing two objects which could contain the same status, but one is 1 mono and the other is not. I have succeeded in my unit test fixing this using block. But when building the integration test the block make the compiler skip the rest of my code in this class when it reaches the block. And when I dont use the block i never get my value the same as the Object in our library, because they are diffent objects. From what i understand i should use as little .block as possible, so i prefer not to use it in this class but a class higher in the application.\r\n\r\n    @Override\r\n    public Mono&lt;Id&gt; handle(GetOrCreateObjectCommand command) {\r\n        var id = command.getId();\r\n\r\n        Mono&lt;Object&gt; object = objectCommandPort.getIdAndStatus(id);\r\n        ObjectStatus objectStatus = object.map(object::getStatus).block();\r\n\r\n        if (monoStatus.equals(ObjectStatus.STARTED)) {\r\n            return object.map(Object::getObjectId);\r\n        } else {\r\n            return objectCommandPort\r\n                    .createObject(id)\r\n                    .onErrorResume(e -&gt; Mono.error(\r\n                            new testException(\r\n                                    ERROR.message(e.getMessage()))));\r\n        }}\r\n\r\nSo at the IF the status of the different objects will be checked on status. If its the same then get the Id. If not then make a new object. Also when the object doesnt exists, we want to create a new one.","title":"Comparing attribute of a Mono versus An attribute of an object thats not a Mono (for an if (exists) else situation)","body":"<p>I'm learning java flux, and i came to this problem.</p>\n<p>What i want is:\nIf the object alrdy exists with the right status, i want to update it further in the code. If the object doesnt exists or has the wrong status i will make a new object.</p>\n<p>I tried this by comparing two objects which could contain the same status, but one is 1 mono and the other is not. I have succeeded in my unit test fixing this using block. But when building the integration test the block make the compiler skip the rest of my code in this class when it reaches the block. And when I dont use the block i never get my value the same as the Object in our library, because they are diffent objects. From what i understand i should use as little .block as possible, so i prefer not to use it in this class but a class higher in the application.</p>\n<pre><code>@Override\npublic Mono&lt;Id&gt; handle(GetOrCreateObjectCommand command) {\n    var id = command.getId();\n\n    Mono&lt;Object&gt; object = objectCommandPort.getIdAndStatus(id);\n    ObjectStatus objectStatus = object.map(object::getStatus).block();\n\n    if (monoStatus.equals(ObjectStatus.STARTED)) {\n        return object.map(Object::getObjectId);\n    } else {\n        return objectCommandPort\n                .createObject(id)\n                .onErrorResume(e -&gt; Mono.error(\n                        new testException(\n                                ERROR.message(e.getMessage()))));\n    }}\n</code></pre>\n<p>So at the IF the status of the different objects will be checked on status. If its the same then get the Id. If not then make a new object. Also when the object doesnt exists, we want to create a new one.</p>\n"},{"tags":["java","spring-mvc"],"owner":{"account_id":22980869,"reputation":33,"user_id":17107814,"display_name":"do hai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682394766,"creation_date":1682394766,"question_id":76097542,"body_markdown":"I am running my first javaSpring MVC but when i run it i get the error: &quot;The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.&quot;\r\nthis is my pom.xml:\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;com.dothanh&lt;/groupId&gt;\r\n  &lt;artifactId&gt;shophai&lt;/artifactId&gt;\r\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  &lt;packaging&gt;war&lt;/packaging&gt;\r\n  &lt;dependencies&gt;\r\n\t  &lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;junit&lt;/groupId&gt;\r\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    &lt;version&gt;4.13.2&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n    &lt;version&gt;5.3.20&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n    &lt;version&gt;4.0.1&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\n  &lt;/dependencies&gt;\r\n  &lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.3.1&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t\t&lt;finalName&gt;project name&lt;/finalName&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nthis is my web.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;3.0&quot;&gt;\r\n\t&lt;display-name&gt;shopOneline&lt;/display-name&gt;\r\n\t&lt;!-- The front controller of this Spring Web application, responsible for handling all application requests --&gt;\r\n\t&lt;servlet&gt;\r\n\t\t&lt;servlet-name&gt;springDispatcherServlet&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;/WEB-INF/shophai-servlet.xml&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n\t&lt;/servlet&gt;\r\n\r\n\t&lt;!-- Map all requests to the DispatcherServlet for handling --&gt;\r\n\t&lt;servlet-mapping&gt;\r\n\t\t&lt;servlet-name&gt;springDispatcherServlet&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt;\r\n&lt;/web-app&gt;\r\n```\r\n\r\nthis is my servlet.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txmlns:cache=&quot;http://www.springframework.org/schema/cache&quot;\r\n\txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n\txmlns:jee=&quot;http://www.springframework.org/schema/jee&quot;\r\n\txmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n\txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n\t\thttp://www.springframework.org/schema/cache http://www.springframework.org/schema/cache/spring-cache-4.3.xsd\r\n\t\thttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.3.xsd\r\n\t\thttp://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee-4.3.xsd\r\n\t\thttp://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.3.xsd&quot;&gt;\r\n\r\n\r\n         &lt;context:component-scan base-package=&quot;com.dothanh.Controller&quot;&gt;&lt;/context:component-scan&gt;\r\n\r\n&lt;/beans&gt;\r\n```\r\nthis is my controller:\r\n```\r\n\r\npackage com.dothanh.Controller;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.ResponseBody;\r\n\r\n@Controller\r\npublic class HomeController {\r\n\t\r\n\t@RequestMapping(&quot;/&quot;)\r\n\t@ResponseBody\r\n\tpublic String trangchu() {\r\n\t\t\r\n\t\treturn &quot;&quot;;\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\nthis is the error when i run up:\r\n[![this is the error when i run up:](https://i.stack.imgur.com/MCcbs.png)](https://i.stack.imgur.com/MCcbs.png)\r\n","title":"The origin server did not find a current representation","body":"<p>I am running my first javaSpring MVC but when i run it i get the error: &quot;The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.&quot;\nthis is my pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.dothanh&lt;/groupId&gt;\n  &lt;artifactId&gt;shophai&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;dependencies&gt;\n      &lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;junit&lt;/groupId&gt;\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\n    &lt;version&gt;4.13.2&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n    &lt;version&gt;5.3.20&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;4.0.1&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.1&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        &lt;finalName&gt;project name&lt;/finalName&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>this is my web.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;3.0&quot;&gt;\n    &lt;display-name&gt;shopOneline&lt;/display-name&gt;\n    &lt;!-- The front controller of this Spring Web application, responsible for handling all application requests --&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;springDispatcherServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;/WEB-INF/shophai-servlet.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n\n    &lt;!-- Map all requests to the DispatcherServlet for handling --&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;springDispatcherServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>this is my servlet.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns:cache=&quot;http://www.springframework.org/schema/cache&quot;\n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n    xmlns:jee=&quot;http://www.springframework.org/schema/jee&quot;\n    xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/cache http://www.springframework.org/schema/cache/spring-cache-4.3.xsd\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.3.xsd\n        http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee-4.3.xsd\n        http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.3.xsd&quot;&gt;\n\n\n         &lt;context:component-scan base-package=&quot;com.dothanh.Controller&quot;&gt;&lt;/context:component-scan&gt;\n\n&lt;/beans&gt;\n</code></pre>\n<p>this is my controller:</p>\n<pre><code>\npackage com.dothanh.Controller;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.ResponseBody;\n\n@Controller\npublic class HomeController {\n    \n    @RequestMapping(&quot;/&quot;)\n    @ResponseBody\n    public String trangchu() {\n        \n        return &quot;&quot;;\n    }\n\n}\n</code></pre>\n<p>this is the error when i run up:\n<a href=\"https://i.stack.imgur.com/MCcbs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MCcbs.png\" alt=\"this is the error when i run up:\" /></a></p>\n"},{"tags":["java","bouncycastle","gpg-signature"],"owner":{"account_id":14392416,"reputation":113,"user_id":10396675,"display_name":"Geeky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682393919,"creation_date":1682393919,"question_id":76097501,"body_markdown":"I am currently using bouncy-gpg --&gt; v2.3.0,\r\nbcpg-jdk15on --&gt; v1.59 and bcprov-jdk15on --&gt; v1.65 maven dependencies. The decryption works perfectly fine with the encrypted input file. But on bumping version of bcpg-jdk15on to 1.65, it starts throwing exception, i.e., invalid armor. \r\nI am unable to figure out what is causing the compatibility issue.\r\n\r\nAny help would be greatly appreciated.","title":"Bouncy Castle : invalid armor IOException","body":"<p>I am currently using bouncy-gpg --&gt; v2.3.0,\nbcpg-jdk15on --&gt; v1.59 and bcprov-jdk15on --&gt; v1.65 maven dependencies. The decryption works perfectly fine with the encrypted input file. But on bumping version of bcpg-jdk15on to 1.65, it starts throwing exception, i.e., invalid armor.\nI am unable to figure out what is causing the compatibility issue.</p>\n<p>Any help would be greatly appreciated.</p>\n"},{"tags":["java","gradle","build.gradle","gradle-plugin"],"comments":[{"owner":{"account_id":429820,"reputation":3270,"user_id":812919,"display_name":"olfek"},"score":1,"creation_date":1681993709,"post_id":76063958,"comment_id":134147845,"body_markdown":"use a Java HTTP library, you can import it in your Gradle script","body":"use a Java HTTP library, you can import it in your Gradle script"},{"owner":{"account_id":1857554,"reputation":20310,"user_id":1682820,"accept_rate":70,"display_name":"injecteer"},"score":2,"creation_date":1681995381,"post_id":76063958,"comment_id":134148318,"body_markdown":"I used https://github.com/michel-kraemer/gradle-download-task","body":"I used <a href=\"https://github.com/michel-kraemer/gradle-download-task\" rel=\"nofollow noreferrer\">github.com/michel-kraemer/gradle-download-task</a>"},{"owner":{"account_id":1835033,"reputation":5468,"user_id":1665592,"accept_rate":77,"display_name":"Swapnil Kotwal"},"score":0,"creation_date":1681996981,"post_id":76063958,"comment_id":134148783,"body_markdown":"would you able to help me with answer to implement it using AWS_ACCESS_KEY/SECRETE_KEY for S3 authentication? TIA","body":"would you able to help me with answer to implement it using AWS_ACCESS_KEY/SECRETE_KEY for S3 authentication? TIA"}],"answers":[{"tags":[],"owner":{"account_id":1835033,"reputation":5468,"user_id":1665592,"accept_rate":77,"display_name":"Swapnil Kotwal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682393553,"creation_date":1682393553,"answer_id":76097480,"question_id":76063958,"body_markdown":"Okay, I got it using traditional S3 maven repo plugin download.\r\n\r\nI&#39;ve added zip into my gradle classpath as\r\n\r\n```\r\ntestLibs(&quot;com.myproject:myproject-test-lib:$TEST_LIB_VERSION&quot;)\r\n```\r\n\r\nAnd from classpath extracted the cached zip to project dir as\r\n\r\n    /**\r\n     * Extract the &#39;test-libs&#39; from classpath to project directory.\r\n     */\r\n    task unzipTestLibs(type: Copy) {\r\n        from zipTree(configurations.testLibs.find { it.name.contains(&#39;myproject-test-lib&#39;) })\r\n            .matching { include &#39;**/*.jar&#39; }\r\n        into &quot;$projectDir/libs/test-lib&quot;\r\n    }\r\n\r\n\r\nfinally, called this task on \r\n\r\n    compileJava.dependsOn(unzipTestLibs)","title":"Gradle, How to download .zip file from S3","body":"<p>Okay, I got it using traditional S3 maven repo plugin download.</p>\n<p>I've added zip into my gradle classpath as</p>\n<pre><code>testLibs(&quot;com.myproject:myproject-test-lib:$TEST_LIB_VERSION&quot;)\n</code></pre>\n<p>And from classpath extracted the cached zip to project dir as</p>\n<pre><code>/**\n * Extract the 'test-libs' from classpath to project directory.\n */\ntask unzipTestLibs(type: Copy) {\n    from zipTree(configurations.testLibs.find { it.name.contains('myproject-test-lib') })\n        .matching { include '**/*.jar' }\n    into &quot;$projectDir/libs/test-lib&quot;\n}\n</code></pre>\n<p>finally, called this task on</p>\n<pre><code>compileJava.dependsOn(unzipTestLibs)\n</code></pre>\n"}],"owner":{"account_id":1835033,"reputation":5468,"user_id":1665592,"accept_rate":77,"display_name":"Swapnil Kotwal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76097480,"answer_count":1,"score":1,"last_activity_date":1682393553,"creation_date":1681993053,"question_id":76063958,"body_markdown":"I&#39;m planing to write a custom task as below in gradle to download .zip from the S3 \r\n\r\n    task downloadZipFromS3(type: com.amazonaws.gradle.s3.Download) {\r\n      bucket = &quot;${s3.bucket}&quot;\r\n      key = &quot;${s3.key}&quot;\r\n      file = file(&quot;your-local-file.zip&quot;)\r\n    }\r\n\r\nBut not getting any concrete gradle plugin to download the zip. If there is any &quot;standard&quot; plugin or any other way to download .zip files from S3 and save in my project dir?\r\n","title":"Gradle, How to download .zip file from S3","body":"<p>I'm planing to write a custom task as below in gradle to download .zip from the S3</p>\n<pre><code>task downloadZipFromS3(type: com.amazonaws.gradle.s3.Download) {\n  bucket = &quot;${s3.bucket}&quot;\n  key = &quot;${s3.key}&quot;\n  file = file(&quot;your-local-file.zip&quot;)\n}\n</code></pre>\n<p>But not getting any concrete gradle plugin to download the zip. If there is any &quot;standard&quot; plugin or any other way to download .zip files from S3 and save in my project dir?</p>\n"},{"tags":["java","java-8","singleton"],"comments":[{"owner":{"account_id":1677301,"reputation":2224,"user_id":1542523,"accept_rate":66,"display_name":"flower"},"score":0,"creation_date":1682391379,"post_id":76097297,"comment_id":134204080,"body_markdown":"@Elliott Frisch,In idea,it can output the result with some warns.","body":"@Elliott Frisch,In idea,it can output the result with some warns."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1682391859,"post_id":76097297,"comment_id":134204125,"body_markdown":"_What_ code do you put in position 2?","body":"<i>What</i> code do you put in position 2?"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1682392018,"post_id":76097297,"comment_id":134204135,"body_markdown":"@LouisWasserman I was able to reproduce with posted code in eclipse. `0` and `1` is the output. Pretty obvious bug. Position 2 is just `private static   int y;`","body":"@LouisWasserman I was able to reproduce with posted code in eclipse. <code>0</code> and <code>1</code> is the output. Pretty obvious bug. Position 2 is just <code>private static   int y;</code>"},{"owner":{"account_id":1677301,"reputation":2224,"user_id":1542523,"accept_rate":66,"display_name":"flower"},"score":0,"creation_date":1682392133,"post_id":76097297,"comment_id":134204139,"body_markdown":"@LouisWasserman,private static Singleton instance = new Singleton();","body":"@LouisWasserman,private static Singleton instance = new Singleton();"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1682393019,"post_id":76097297,"comment_id":134204204,"body_markdown":"@ElliottFrisch The behaviour as described in this question is __correct__; if ecj indeed produces a class file that results in 0/1, but javac makes 1/1 out of this, then javac is at fault, not eclipse. See my answer for the odd combination of JLS rules that result in the correct answer being, weirdly, 0/1 here. So, __no__, not &#39;pretty obviously bug&#39;. (Anecdotally, in about 15 cases ecj and javac disagreed in my long java career, ecj was correct in 14 of them. I advise to all: If ecj and javac differ, ecj is almost always correct).","body":"@ElliottFrisch The behaviour as described in this question is <b>correct</b>; if ecj indeed produces a class file that results in 0/1, but javac makes 1/1 out of this, then javac is at fault, not eclipse. See my answer for the odd combination of JLS rules that result in the correct answer being, weirdly, 0/1 here. So, <b>no</b>, not &#39;pretty obviously bug&#39;. (Anecdotally, in about 15 cases ecj and javac disagreed in my long java career, ecj was correct in 14 of them. I advise to all: If ecj and javac differ, ecj is almost always correct)."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1682394124,"post_id":76097297,"comment_id":134204283,"body_markdown":"@rzwitserloot &quot;Don&#39;t write this kind of code&quot;. Is the best answer possible here.","body":"@rzwitserloot &quot;Don&#39;t write this kind of code&quot;. Is the best answer possible here."}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1682404827,"post_id":76097452,"comment_id":134205422,"body_markdown":"Of course, you can also fix this by removing the redundant `= 0` initializer. Or even go a step further and use `= 1` initializers in the first place, instead of incrementing in a constructor/initializer.","body":"Of course, you can also fix this by removing the redundant <code>= 0</code> initializer. Or even go a step further and use <code>= 1</code> initializers in the first place, instead of incrementing in a constructor/initializer."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1682392928,"creation_date":1682392928,"answer_id":76097452,"question_id":76097297,"body_markdown":"Don&#39;t write this kind of code. It&#39;s, as you figured out, extremely confusing. It _is_, however, according to spec. Weird as it is. Let&#39;s go through the considerable steps to explain this. It&#39;s individual nuggets of detail about intricate and usually irrelevant details which combine to explain this behaviour.\r\n\r\n## The difference between CTCs and initializers\r\n\r\nImagine this code:\r\n\r\n```\r\npublic class Foo {\r\n  private static final long MARK = System.currentTimeMillis();\r\n}\r\n```\r\n\r\nObviously, the value of `MARK` cannot be determined at compile time - that is interpreted as &#39;the timestamp, as it was when that field is initialized&#39;, which boils down to &#39;when this class is loaded&#39;. That means the first time any code anywhere so much as references `Foo`, some code has to be executed. During this execution, context has to exist - such code could in theory refer to `MARK`.\r\n\r\nThus, `MARK` __starts off__ at `0`, and this code is compiled as:\r\n\r\n```\r\npublic class Foo {\r\n  private static final long MARK;\r\n\r\n  static {\r\n    // Until MARK is set, MARK is 0.\r\n    MARK = System.currentTimeMillis();\r\n  }\r\n}\r\n```\r\n\r\nThat is legal java code (try it; compile it) - that is a static initializer. Run `javap -c -v Foo` to see this stuff.\r\n\r\nThis:\r\n\r\n```\r\npublic class Foo {\r\n  private static final int FOO = 5;\r\n}\r\n```\r\n\r\nis _very_ different. If you run `javap -c -v Foo` on this you&#39;ll notice there is no static initializer at all. Instead, 5 is a so-called CTC: A Compile-Time-Constant. The compiler itself resolves it, and places this value directly into the class file. In the first case, `MARK` poofed into existence containing 0, and then during initialization its value is set. But, `FOO` poofs into existence having value 5 __immediately__.\r\n\r\nDue solely down to how CTCs are defined, in your code, `x` and `y` __are not__ eligible; specifically `x` _does not_ have a constant value, that&#39;s because to be eligible, the field has to be `static` __and__ `final`. Obviously, neither is `singleton`. Thus, your code is identical to:\r\n\r\n```\r\n private static Singleton instance;\r\n//①\r\nprivate static int x;\r\n\r\nprivate static   int y;\r\n//②\r\n\r\nstatic {\r\n  instance = new Singleton();\r\n  x = 0;\r\n}\r\n\r\nprivate Singleton()\r\n{\r\n    System.out.println(&quot;Starting add&quot;);\r\n    x++;\r\n    y++;\r\n}\r\n\r\npublic static Singleton getInstance()\r\n{\r\n    return instance;\r\n}\r\n\r\n// ....\r\n}\r\n```\r\n\r\nNow it should be obvious why you get 0/1 and not the expected 1/1. First, the constructor runs, with `x` and `y` both being zero. The constructor sets them to 1/1. Then afterwards, x is set to 0.\r\n\r\n## But.. forget all that\r\n\r\nThe real problem is, this code is silly. You don&#39;t make singletons AND static fields, that makes no sense at all. Constructors __should not__ function as the initializer of `static` context. Constructors are fundamentally related to instances. This code should thus never be written, it&#39;s at odds with itself, and you need to know the JLS front-to-back just to understand what is even happening.\r\n\r\nThe general approach to singletons is to have all non-static content, _except_ the field containing the singleton and its accessor:\r\n\r\n```\r\nclass Foo {\r\n  private static final Foo INSTANCE = new Foo();\r\n  private int x = 0;\r\n  private int y;\r\n\r\n  private Foo() {\r\n    x++;\r\n    y++;\r\n  }\r\n\r\n  public static Foo getInstance() { return INSTANCE; }\r\n}\r\n```\r\n\r\nThe above works fine.\r\n\r\nAlternatively if you have static things that need initialization, write an actual static initializer. If you have this, a singleton generally doesn&#39;t make sense - just make everything static, at which point a singleton would be pointless:\r\n\r\n```\r\npublic class Foo {\r\n  private static int x = 0;\r\n  private static int y = 0;\r\n\r\n  static {\r\n    x++;\r\n    y++;\r\n  }\r\n}\r\n```\r\n\r\nworks fine too (x and y are 1 and 1 in both of these 2 snippets).\r\n","title":"Why do x and y output different values in singleton pattern in Java?","body":"<p>Don't write this kind of code. It's, as you figured out, extremely confusing. It <em>is</em>, however, according to spec. Weird as it is. Let's go through the considerable steps to explain this. It's individual nuggets of detail about intricate and usually irrelevant details which combine to explain this behaviour.</p>\n<h2>The difference between CTCs and initializers</h2>\n<p>Imagine this code:</p>\n<pre><code>public class Foo {\n  private static final long MARK = System.currentTimeMillis();\n}\n</code></pre>\n<p>Obviously, the value of <code>MARK</code> cannot be determined at compile time - that is interpreted as 'the timestamp, as it was when that field is initialized', which boils down to 'when this class is loaded'. That means the first time any code anywhere so much as references <code>Foo</code>, some code has to be executed. During this execution, context has to exist - such code could in theory refer to <code>MARK</code>.</p>\n<p>Thus, <code>MARK</code> <strong>starts off</strong> at <code>0</code>, and this code is compiled as:</p>\n<pre><code>public class Foo {\n  private static final long MARK;\n\n  static {\n    // Until MARK is set, MARK is 0.\n    MARK = System.currentTimeMillis();\n  }\n}\n</code></pre>\n<p>That is legal java code (try it; compile it) - that is a static initializer. Run <code>javap -c -v Foo</code> to see this stuff.</p>\n<p>This:</p>\n<pre><code>public class Foo {\n  private static final int FOO = 5;\n}\n</code></pre>\n<p>is <em>very</em> different. If you run <code>javap -c -v Foo</code> on this you'll notice there is no static initializer at all. Instead, 5 is a so-called CTC: A Compile-Time-Constant. The compiler itself resolves it, and places this value directly into the class file. In the first case, <code>MARK</code> poofed into existence containing 0, and then during initialization its value is set. But, <code>FOO</code> poofs into existence having value 5 <strong>immediately</strong>.</p>\n<p>Due solely down to how CTCs are defined, in your code, <code>x</code> and <code>y</code> <strong>are not</strong> eligible; specifically <code>x</code> <em>does not</em> have a constant value, that's because to be eligible, the field has to be <code>static</code> <strong>and</strong> <code>final</code>. Obviously, neither is <code>singleton</code>. Thus, your code is identical to:</p>\n<pre><code> private static Singleton instance;\n//①\nprivate static int x;\n\nprivate static   int y;\n//②\n\nstatic {\n  instance = new Singleton();\n  x = 0;\n}\n\nprivate Singleton()\n{\n    System.out.println(&quot;Starting add&quot;);\n    x++;\n    y++;\n}\n\npublic static Singleton getInstance()\n{\n    return instance;\n}\n\n// ....\n}\n</code></pre>\n<p>Now it should be obvious why you get 0/1 and not the expected 1/1. First, the constructor runs, with <code>x</code> and <code>y</code> both being zero. The constructor sets them to 1/1. Then afterwards, x is set to 0.</p>\n<h2>But.. forget all that</h2>\n<p>The real problem is, this code is silly. You don't make singletons AND static fields, that makes no sense at all. Constructors <strong>should not</strong> function as the initializer of <code>static</code> context. Constructors are fundamentally related to instances. This code should thus never be written, it's at odds with itself, and you need to know the JLS front-to-back just to understand what is even happening.</p>\n<p>The general approach to singletons is to have all non-static content, <em>except</em> the field containing the singleton and its accessor:</p>\n<pre><code>class Foo {\n  private static final Foo INSTANCE = new Foo();\n  private int x = 0;\n  private int y;\n\n  private Foo() {\n    x++;\n    y++;\n  }\n\n  public static Foo getInstance() { return INSTANCE; }\n}\n</code></pre>\n<p>The above works fine.</p>\n<p>Alternatively if you have static things that need initialization, write an actual static initializer. If you have this, a singleton generally doesn't make sense - just make everything static, at which point a singleton would be pointless:</p>\n<pre><code>public class Foo {\n  private static int x = 0;\n  private static int y = 0;\n\n  static {\n    x++;\n    y++;\n  }\n}\n</code></pre>\n<p>works fine too (x and y are 1 and 1 in both of these 2 snippets).</p>\n"}],"owner":{"account_id":1677301,"reputation":2224,"user_id":1542523,"accept_rate":66,"display_name":"flower"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76097452,"answer_count":1,"score":1,"last_activity_date":1682392928,"creation_date":1682390143,"question_id":76097297,"body_markdown":"In the following code, why are x and y outputting 0 and 1 respectively? Why is it that when I put this code：`private static Singleton instance = new Singleton();` in position ② from position ①, the output is 1, 1?\r\n\r\n       private static Singleton instance = new Singleton();\r\n    //①\r\n    private static int x = 0;\r\n\r\n    private static   int y;\r\n    //②\r\n    private Singleton()\r\n    {\r\n        System.out.println(&quot;Starting add&quot;);\r\n        x++;\r\n        y++;\r\n    }\r\n\r\n    public static Singleton getInstance()\r\n    {\r\n        return instance;\r\n    }\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        System.out.println(&quot;Starting Singleton&quot;);\r\n        Singleton singleton = Singleton.getInstance();\r\n        //Singleton singleton = new Singleton();\r\n        System.out.println(singleton.x);\r\n        System.out.println(singleton.y);\r\n    }","title":"Why do x and y output different values in singleton pattern in Java?","body":"<p>In the following code, why are x and y outputting 0 and 1 respectively? Why is it that when I put this code：<code>private static Singleton instance = new Singleton();</code> in position ② from position ①, the output is 1, 1?</p>\n<pre><code>   private static Singleton instance = new Singleton();\n//①\nprivate static int x = 0;\n\nprivate static   int y;\n//②\nprivate Singleton()\n{\n    System.out.println(&quot;Starting add&quot;);\n    x++;\n    y++;\n}\n\npublic static Singleton getInstance()\n{\n    return instance;\n}\n\npublic static void main(String[] args)\n{\n    System.out.println(&quot;Starting Singleton&quot;);\n    Singleton singleton = Singleton.getInstance();\n    //Singleton singleton = new Singleton();\n    System.out.println(singleton.x);\n    System.out.println(singleton.y);\n}\n</code></pre>\n"},{"tags":["java","flutter","appium-android","appium-java"],"owner":{"account_id":4667724,"reputation":629,"user_id":3780373,"display_name":"PraNuta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682392248,"creation_date":1682392248,"question_id":76097415,"body_markdown":"I am trying to test a Flutter application with Appium 2.0.0.beta 57, using Java 15. I created a web element like here\r\n\r\n    @AndroidFindBy(className = “android.widget.Button”)\r\n    // @iOSXCUITFindBy(iOSNsPredicate = “type == “XCUIElementTypeTextField””)\r\n    private WebElement **scanQRCodeBtn**;\r\n\r\nThe Appium Inspector is showing the following attributes\r\n\r\n    class—&gt;android.widget.Button\r\n    content-desc–&gt;scan qr code\r\n\r\nThe Java code is given below\r\n\r\n    String txt = getContentDesc(scanQRCodeBtn);\r\n    System.out.println(“scanQRCodeBtn=”+txt);\r\n\r\nThe last print out to the console is printing\r\n\r\n**scanQRCodeBtn=null**\r\n\r\nWhat is the important thing, I might be missing here?\r\n\r\nThanks for your help in advance","title":"Appium with Flutter app, a web element content description is shown null even though the element attributes show some string value","body":"<p>I am trying to test a Flutter application with Appium 2.0.0.beta 57, using Java 15. I created a web element like here</p>\n<pre><code>@AndroidFindBy(className = “android.widget.Button”)\n// @iOSXCUITFindBy(iOSNsPredicate = “type == “XCUIElementTypeTextField””)\nprivate WebElement **scanQRCodeBtn**;\n</code></pre>\n<p>The Appium Inspector is showing the following attributes</p>\n<pre><code>class—&gt;android.widget.Button\ncontent-desc–&gt;scan qr code\n</code></pre>\n<p>The Java code is given below</p>\n<pre><code>String txt = getContentDesc(scanQRCodeBtn);\nSystem.out.println(“scanQRCodeBtn=”+txt);\n</code></pre>\n<p>The last print out to the console is printing</p>\n<p><strong>scanQRCodeBtn=null</strong></p>\n<p>What is the important thing, I might be missing here?</p>\n<p>Thanks for your help in advance</p>\n"},{"tags":["java","gradle","compilation","javac","annotation-processing"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1676917013,"post_id":75507897,"comment_id":133229705,"body_markdown":"All those `--add-exports` compiler args you have only apply to the annotation processor project (when compiling it). Those compiler args aren&#39;t automatically included in any project that depends on your annotation processor. Though why are you trying to implement `TreeTranslator`, which is from a non-exported package? Why not implement [`TreeVisitor`](https://docs.oracle.com/en/java/javase/19/docs/api/jdk.compiler/com/sun/source/tree/TreeVisitor.html) or extend an implementation, e.g., `SimpleTreeVisitor`, `TreePathScanner`, or `TreeScanner`?","body":"All those <code>--add-exports</code> compiler args you have only apply to the annotation processor project (when compiling it). Those compiler args aren&#39;t automatically included in any project that depends on your annotation processor. Though why are you trying to implement <code>TreeTranslator</code>, which is from a non-exported package? Why not implement <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/jdk.compiler/com/sun/source/tree/TreeVisitor.html\" rel=\"nofollow noreferrer\"><code>TreeVisitor</code></a> or extend an implementation, e.g., <code>SimpleTreeVisitor</code>, <code>TreePathScanner</code>, or <code>TreeScanner</code>?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1676917282,"post_id":75507897,"comment_id":133229785,"body_markdown":"Or, if you don&#39;t need to go that &quot;low level&quot;, why not implement/extend something from the `java.compiler` module (instead of `jdk.compiler`)?","body":"Or, if you don&#39;t need to go that &quot;low level&quot;, why not implement/extend something from the <code>java.compiler</code> module (instead of <code>jdk.compiler</code>)?"},{"owner":{"account_id":16379082,"reputation":355,"user_id":11830541,"display_name":"Serhii Kachan"},"score":0,"creation_date":1677076038,"post_id":75507897,"comment_id":133265957,"body_markdown":"@Slaw, thank you for the response. I actually looked into that, but it is exactly about &quot;visiting&quot;, but I need to modify the code, like adding/changing pieces to source code, like lombok does.","body":"@Slaw, thank you for the response. I actually looked into that, but it is exactly about &quot;visiting&quot;, but I need to modify the code, like adding/changing pieces to source code, like lombok does."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1677083255,"post_id":75507897,"comment_id":133268519,"body_markdown":"Then I _think_ you need to add those `--add-exports` in the project that consumes your annotation processor as well.","body":"Then I <i>think</i> you need to add those <code>--add-exports</code> in the project that consumes your annotation processor as well."},{"owner":{"account_id":16379082,"reputation":355,"user_id":11830541,"display_name":"Serhii Kachan"},"score":0,"creation_date":1677084161,"post_id":75507897,"comment_id":133268855,"body_markdown":"I&#39;ve found the reason. It works well exactly with same setup I provided but using Java 11","body":"I&#39;ve found the reason. It works well exactly with same setup I provided but using Java 11"},{"owner":{"account_id":16379082,"reputation":355,"user_id":11830541,"display_name":"Serhii Kachan"},"score":0,"creation_date":1677084562,"post_id":75507897,"comment_id":133268991,"body_markdown":"my annotation processor project is compiled in Java 11, and looks like consumer project works with it when its Java version it 15 or lower... interesting:\nwarning: Supported source version &#39;RELEASE_11&#39; from annotation processor &#39;org.gradle.api.internal.tasks.compile.processing.TimeTrackingProcessor&#39; less than -source &#39;15&#39;\n1 warning","body":"my annotation processor project is compiled in Java 11, and looks like consumer project works with it when its Java version it 15 or lower... interesting: warning: Supported source version &#39;RELEASE_11&#39; from annotation processor &#39;org.gradle.api.internal.tasks.compile.processing.TimeTracki&zwnj;&#8203;ngProcessor&#39; less than -source &#39;15&#39; 1 warning"},{"owner":{"account_id":16379082,"reputation":355,"user_id":11830541,"display_name":"Serhii Kachan"},"score":0,"creation_date":1677084856,"post_id":75507897,"comment_id":133269086,"body_markdown":"I am just wondering... lombok is definitely compiled not in java 17. However I have a lot of projects on Java 17 and lombok is added there and it works fine. Any ideas how to make it compatible?","body":"I am just wondering... lombok is definitely compiled not in java 17. However I have a lot of projects on Java 17 and lombok is added there and it works fine. Any ideas how to make it compatible?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1677106138,"post_id":75507897,"comment_id":133274740,"body_markdown":"When JPMS was introduced in Java 9, it added stronger encapsulation. But some already-existing code relied on accessing internals of the standard library. So, they relaxed the encapsulation for the standard library so code that was accessible in Java 8 was still accessible in Java 9. You could control this with the `--illegal-access` option, which had a default value of `permit`. But this was always a temporary measure to give libraries time to update. In Java 16, the default value of `--illegal-access` became `deny`. And in Java 17, `--illegal-access` no longer does anything (always `deny`).","body":"When JPMS was introduced in Java 9, it added stronger encapsulation. But some already-existing code relied on accessing internals of the standard library. So, they relaxed the encapsulation for the standard library so code that was accessible in Java 8 was still accessible in Java 9. You could control this with the <code>--illegal-access</code> option, which had a default value of <code>permit</code>. But this was always a temporary measure to give libraries time to update. In Java 16, the default value of <code>--illegal-access</code> became <code>deny</code>. And in Java 17, <code>--illegal-access</code> no longer does anything (always <code>deny</code>)."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1677106235,"post_id":75507897,"comment_id":133274755,"body_markdown":"Assuming Lombok/Gradle is not doing some strange stuff, my best guess as to why Lombok still works on Java 16+ is that it uses `--add-exports` and/or `--add-opens` when compiling your project.","body":"Assuming Lombok/Gradle is not doing some strange stuff, my best guess as to why Lombok still works on Java 16+ is that it uses <code>--add-exports</code> and/or <code>--add-opens</code> when compiling your project."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1677107855,"post_id":75507897,"comment_id":133275076,"body_markdown":"Okay, so for Lombok, it looks like they use `Unsafe` to essentially add the `--add-opens` at run-time. Not sure if that&#39;s viable for you, but you can see what they do [here](https://github.com/projectlombok/lombok/blob/e5c324c615c1e304b2a9a64bc7f8608a67b0a74e/src/core/lombok/javac/apt/LombokProcessor.java#L483). Another option for you might be to create your own Gradle plugin that both adds your annotation process and configures the compiler arguments.","body":"Okay, so for Lombok, it looks like they use <code>Unsafe</code> to essentially add the <code>--add-opens</code> at run-time. Not sure if that&#39;s viable for you, but you can see what they do <a href=\"https://github.com/projectlombok/lombok/blob/e5c324c615c1e304b2a9a64bc7f8608a67b0a74e/src/core/lombok/javac/apt/LombokProcessor.java#L483\" rel=\"nofollow noreferrer\">here</a>. Another option for you might be to create your own Gradle plugin that both adds your annotation process and configures the compiler arguments."},{"owner":{"account_id":16379082,"reputation":355,"user_id":11830541,"display_name":"Serhii Kachan"},"score":0,"creation_date":1677142528,"post_id":75507897,"comment_id":133280418,"body_markdown":"well yeah, that makes sense! Thank you Slaw, I will try to make my projects compatible!","body":"well yeah, that makes sense! Thank you Slaw, I will try to make my projects compatible!"}],"answers":[{"tags":[],"owner":{"account_id":21547066,"reputation":1,"user_id":16100708,"display_name":"Crow"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682392179,"creation_date":1682392179,"answer_id":76097408,"question_id":75507897,"body_markdown":"you can add this code to your gradle.properties\r\n\r\n    org.gradle.jvmargs=-Xmx2048m -Dfile.encoding=UTF-8 \\\r\n     --add-exports=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED \\\r\n     --add-exports=jdk.compiler/com.sun.tools.javac.processing=ALL-UNNAMED \\\r\n     --add-exports=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED \\\r\n     --add-exports=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED \\\r\n     --add-exports=jdk.compiler/com.sun.tools.javac.api=ALL-UNNAMED\r\n\r\n","title":"Gradle Annotation Processor dependency","body":"<p>you can add this code to your gradle.properties</p>\n<pre><code>org.gradle.jvmargs=-Xmx2048m -Dfile.encoding=UTF-8 \\\n --add-exports=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED \\\n --add-exports=jdk.compiler/com.sun.tools.javac.processing=ALL-UNNAMED \\\n --add-exports=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED \\\n --add-exports=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED \\\n --add-exports=jdk.compiler/com.sun.tools.javac.api=ALL-UNNAMED\n</code></pre>\n"}],"owner":{"account_id":16379082,"reputation":355,"user_id":11830541,"display_name":"Serhii Kachan"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":813,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682392179,"creation_date":1676887919,"question_id":75507897,"body_markdown":"General idea:\r\nI want to build a simple annotation processor on Gradle and Java 17 (Gradle 7.5, Java 17.0.6). And use it in another project with the same setup.\r\n\r\nhere is my code:\r\n\r\nannotation-processor project **build.gradle**:\r\n\r\n```groovy\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;maven-publish&#39;\r\n}\r\n\r\ngroup &#39;org.simple.processor&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\nrepositories {\r\n    mavenLocal()\r\n}\r\n\r\npublishing {\r\n    publications {\r\n        maven(MavenPublication) {\r\n\r\n        }\r\n    }\r\n    repositories {\r\n        mavenLocal()\r\n    }\r\n}\r\n\r\ncompileJava {\r\n    options.annotationProcessorPath = configurations.annotationProcessor\r\n}\r\n\r\nsourceCompatibility = JavaVersion.VERSION_17\r\ntargetCompatibility = JavaVersion.VERSION_17\r\n\r\ntasks.withType(JavaCompile) {\r\n    options.compilerArgs += [&quot;--add-exports=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED&quot;]\r\n    options.compilerArgs += [&quot;--add-exports=jdk.compiler/com.sun.tools.javac.processing=ALL-UNNAMED&quot;]\r\n    options.compilerArgs += [&quot;--add-exports=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED&quot;]\r\n    options.compilerArgs += [&quot;--add-exports=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED&quot;]\r\n}\r\n```\r\nannotation-processor project LocalVariableTranslator.class:\r\n\r\n```java\r\npublic class LocalVariableTranslator extends TreeTranslator {\r\n    @Override\r\n    public void visitClassDef(JCTree.JCClassDecl tree) {\r\n        // simply log something\r\n    }\r\n}\r\n```\r\n\r\nannotation-processor-demo project **build.gradle**:\r\n\r\n```groovy\r\nplugins {\r\n    id &#39;java&#39;\r\n}\r\n\r\ngroup &#39;org.simple.processor&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\nsourceCompatibility = JavaVersion.VERSION_17\r\ntargetCompatibility = JavaVersion.VERSION_17\r\n\r\nrepositories {\r\n    mavenCentral()\r\n    mavenLocal()\r\n}\r\n\r\ndependencies {\r\n    annotationProcessor &#39;org.simple.processor:simple-processor:1.0-SNAPSHOT&#39;\r\n    implementation &#39;org.simple.processor:simple-processor:1.0-SNAPSHOT&#39;\r\n}\r\n```\r\n\r\nmy processor code somehow depends on internal Java API which is &#39;com.sun.tools.javac&#39; package and this causes an issue for me when I try to build a demo project:\r\n\r\n&gt; Execution failed for task &#39;:compileJava&#39;.\r\n&gt; superclass access check failed: class org.simple.processor.LocalVariableTranslator (in unnamed module @0x6073770b) cannot access class com.sun.tools.javac.tree.TreeTranslat\r\nor (in module jdk.compiler) because module jdk.compiler does not export com.sun.tools.javac.tree to unnamed module @0x6073770b\r\n","title":"Gradle Annotation Processor dependency","body":"<p>General idea:\nI want to build a simple annotation processor on Gradle and Java 17 (Gradle 7.5, Java 17.0.6). And use it in another project with the same setup.</p>\n<p>here is my code:</p>\n<p>annotation-processor project <strong>build.gradle</strong>:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'maven-publish'\n}\n\ngroup 'org.simple.processor'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n    mavenLocal()\n}\n\npublishing {\n    publications {\n        maven(MavenPublication) {\n\n        }\n    }\n    repositories {\n        mavenLocal()\n    }\n}\n\ncompileJava {\n    options.annotationProcessorPath = configurations.annotationProcessor\n}\n\nsourceCompatibility = JavaVersion.VERSION_17\ntargetCompatibility = JavaVersion.VERSION_17\n\ntasks.withType(JavaCompile) {\n    options.compilerArgs += [&quot;--add-exports=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED&quot;]\n    options.compilerArgs += [&quot;--add-exports=jdk.compiler/com.sun.tools.javac.processing=ALL-UNNAMED&quot;]\n    options.compilerArgs += [&quot;--add-exports=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED&quot;]\n    options.compilerArgs += [&quot;--add-exports=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED&quot;]\n}\n</code></pre>\n<p>annotation-processor project LocalVariableTranslator.class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class LocalVariableTranslator extends TreeTranslator {\n    @Override\n    public void visitClassDef(JCTree.JCClassDecl tree) {\n        // simply log something\n    }\n}\n</code></pre>\n<p>annotation-processor-demo project <strong>build.gradle</strong>:</p>\n<pre><code>plugins {\n    id 'java'\n}\n\ngroup 'org.simple.processor'\nversion '1.0-SNAPSHOT'\n\nsourceCompatibility = JavaVersion.VERSION_17\ntargetCompatibility = JavaVersion.VERSION_17\n\nrepositories {\n    mavenCentral()\n    mavenLocal()\n}\n\ndependencies {\n    annotationProcessor 'org.simple.processor:simple-processor:1.0-SNAPSHOT'\n    implementation 'org.simple.processor:simple-processor:1.0-SNAPSHOT'\n}\n</code></pre>\n<p>my processor code somehow depends on internal Java API which is 'com.sun.tools.javac' package and this causes an issue for me when I try to build a demo project:</p>\n<blockquote>\n<p>Execution failed for task ':compileJava'.\nsuperclass access check failed: class org.simple.processor.LocalVariableTranslator (in unnamed module @0x6073770b) cannot access class com.sun.tools.javac.tree.TreeTranslat\nor (in module jdk.compiler) because module jdk.compiler does not export com.sun.tools.javac.tree to unnamed module @0x6073770b</p>\n</blockquote>\n"},{"tags":["java","android","gradle"],"answers":[{"comments":[{"owner":{"account_id":125964,"reputation":6235,"user_id":322111,"accept_rate":60,"display_name":"Sam"},"score":0,"creation_date":1645063872,"post_id":70023220,"comment_id":125773735,"body_markdown":"thanks for sharing this, got the same issue and deleting ~/.gradle works for me this solution valid in 02/2022","body":"thanks for sharing this, got the same issue and deleting ~/.gradle works for me this solution valid in 02/2022"},{"owner":{"account_id":10850798,"reputation":917,"user_id":7978635,"display_name":"Matin Zadeh Dolatabad"},"score":0,"creation_date":1659987191,"post_id":70023220,"comment_id":129421657,"body_markdown":"This was really helpful! I was always going for `~/.gradle/caches` folder. Then it would complain :/","body":"This was really helpful! I was always going for <code>~&#47;.gradle&#47;caches</code> folder. Then it would complain :/"},{"owner":{"account_id":2206457,"reputation":13823,"user_id":1949554,"accept_rate":74,"display_name":"frankelot"},"score":9,"creation_date":1660652690,"post_id":70023220,"comment_id":129578007,"body_markdown":"man, gradle sucks... Thank you!","body":"man, gradle sucks... Thank you!"},{"owner":{"account_id":1087816,"reputation":1235,"user_id":1083128,"display_name":"Mia"},"score":0,"creation_date":1669701336,"post_id":70023220,"comment_id":131696283,"body_markdown":"rm -rf ~/.gradle/caches doesn&#39;t help but rm -rf ~/.gradle does","body":"rm -rf ~/.gradle/caches doesn&#39;t help but rm -rf ~/.gradle does"},{"owner":{"account_id":2377878,"reputation":3152,"user_id":2080707,"accept_rate":76,"display_name":"velop"},"score":3,"creation_date":1685118818,"post_id":70023220,"comment_id":134621888,"body_markdown":"I would first check the below answers. They are less invasive. And make sure that you save your ~/.gradle/gradle.properties if you have","body":"I would first check the below answers. They are less invasive. And make sure that you save your ~/.gradle/gradle.properties if you have"}],"tags":[],"owner":{"account_id":13556047,"reputation":7480,"user_id":9779471,"display_name":"Quinn"},"comment_count":5,"down_vote_count":3,"up_vote_count":94,"is_accepted":true,"score":91,"last_activity_date":1637252032,"creation_date":1637252032,"answer_id":70023220,"question_id":70010356,"body_markdown":"Okay so I finally managed to get it to work... \r\n\r\nHad to run `rm -rf ~/.gradle` instead of just `rm -rf ~/.gradle/caches` which I guess forced it to reinstall all the gradle things and then the build worked","title":"Android Gradle build fails from cached files","body":"<p>Okay so I finally managed to get it to work...</p>\n<p>Had to run <code>rm -rf ~/.gradle</code> instead of just <code>rm -rf ~/.gradle/caches</code> which I guess forced it to reinstall all the gradle things and then the build worked</p>\n"},{"comments":[{"owner":{"account_id":6000466,"reputation":1813,"user_id":4713905,"accept_rate":73,"display_name":"reutsey"},"score":1,"creation_date":1677003848,"post_id":71838465,"comment_id":133249982,"body_markdown":"this didn&#39;t work for me","body":"this didn&#39;t work for me"},{"owner":{"account_id":71611,"reputation":26366,"user_id":6998684,"display_name":"IgorGanapolsky"},"score":4,"creation_date":1689196953,"post_id":71838465,"comment_id":135181046,"body_markdown":"&gt; Task &#39;cleanBuildCache&#39; not found in root project","body":"&gt; Task &#39;cleanBuildCache&#39; not found in root project"},{"owner":{"account_id":137113,"reputation":11637,"user_id":341091,"accept_rate":75,"display_name":"Martin"},"score":0,"creation_date":1699287094,"post_id":71838465,"comment_id":136509615,"body_markdown":"_„The Android Gradle plugin&#39;s build cache has been deprecated. It will be removed in version 7.0 of the Android Gradle plugin.“_ — not really a solution.","body":"<i>„The Android Gradle plugin&#39;s build cache has been deprecated. It will be removed in version 7.0 of the Android Gradle plugin.“</i> — not really a solution."}],"tags":[],"owner":{"account_id":246063,"reputation":17561,"user_id":2267723,"accept_rate":59,"display_name":"Maher Abuthraa"},"comment_count":3,"down_vote_count":3,"up_vote_count":7,"is_accepted":false,"score":4,"last_activity_date":1682390958,"creation_date":1649747360,"answer_id":71838465,"question_id":70010356,"body_markdown":"Better to use: \r\n\r\nmacOS, Linux, or WSL:\r\n\r\n    ./gradlew cleanBuildCache\r\nWindows:\r\n\r\n    gradlew cleanBuildCache","title":"Android Gradle build fails from cached files","body":"<p>Better to use:</p>\n<p>macOS, Linux, or WSL:</p>\n<pre><code>./gradlew cleanBuildCache\n</code></pre>\n<p>Windows:</p>\n<pre><code>gradlew cleanBuildCache\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10872506,"reputation":434,"user_id":7993940,"display_name":"Fre Timmerman"},"score":1,"creation_date":1665128987,"post_id":73558109,"comment_id":130631486,"body_markdown":"would you mind explaining how to kill the gradle daemon please?","body":"would you mind explaining how to kill the gradle daemon please?"},{"owner":{"account_id":4760928,"reputation":2129,"user_id":3848334,"accept_rate":76,"display_name":"David"},"score":0,"creation_date":1668343961,"post_id":73558109,"comment_id":131377354,"body_markdown":"how? ./gradlew --stop","body":"how? ./gradlew --stop"}],"tags":[],"owner":{"account_id":6657973,"reputation":2635,"user_id":5137879,"accept_rate":20,"display_name":"SpaceBison"},"comment_count":2,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1665154372,"creation_date":1661958870,"answer_id":73558109,"question_id":70010356,"body_markdown":"There&#39;s no need to delete the whole `~/.gradle` directory. Killing the Gradle daemon before clearing `~/.gradle/caches` worked for me.\r\n\r\nYou can kill the Gradle daemon using `./gradlew --stop`.","title":"Android Gradle build fails from cached files","body":"<p>There's no need to delete the whole <code>~/.gradle</code> directory. Killing the Gradle daemon before clearing <code>~/.gradle/caches</code> worked for me.</p>\n<p>You can kill the Gradle daemon using <code>./gradlew --stop</code>.</p>\n"}],"owner":{"account_id":13556047,"reputation":7480,"user_id":9779471,"display_name":"Quinn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28396,"favorite_count":0,"down_vote_count":0,"up_vote_count":57,"accepted_answer_id":70023220,"answer_count":3,"score":57,"last_activity_date":1682390958,"creation_date":1637176942,"question_id":70010356,"body_markdown":"I am trying to build one of my android libraries and everytime I get the following:\r\n\r\n```\r\n&gt; Task :app:mergeDebugResources FAILED\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:app:mergeDebugResources&#39;.\r\n&gt; Multiple build operations failed.\r\n      java.nio.file.NoSuchFileException: /Users/user/.gradle/caches/transforms-3/0d92c5dbe3682b4fd3af323bb8f4fc81/results.bin\r\n      java.nio.file.NoSuchFileException: /Users/user/.gradle/caches/transforms-3/c9e81cc37c2c0c47883b955549c67149/results.bin\r\n      java.nio.file.NoSuchFileException: /Users/user/.gradle/caches/transforms-3/a60e256c2ccb687ca2c3dc1173bab875/results.bin\r\n      java.nio.file.NoSuchFileException: /Users/user/.gradle/caches/transforms-3/a31caec1a4d16ac05a41b0f552f96191/results.bin\r\n      java.nio.file.NoSuchFileException: /Users/user/.gradle/caches/transforms-3/9d3aed6b3e5d40e0d4373af6f3e198dc/results.bin\r\n      java.nio.file.NoSuchFileException: /Users/user/.gradle/caches/transforms-3/f9c01a9d9c0a59b69c3974ffcd3c9cee/results.bin\r\n      java.nio.file.NoSuchFileException: /Users/user/.gradle/caches/transforms-3/4d9724e0450bfaa483db25a04db0eb48/results.bin\r\n      java.nio.file.NoSuchFileException: /Users/user/.gradle/caches/transforms-3/a79286d8497b8365dabe35ac25780fe4/results.bin\r\n      java.nio.file.NoSuchFileException: /Users/user/.gradle/caches/transforms-3/2896cf3b957b3724a2dcfcee68be211f/results.bin\r\n      java.nio.file.NoSuchFileException: /Users/user/.gradle/caches/transforms-3/2896cf3b957b3724a2dcfcee68be211f/results.bin\r\n```\r\n\r\nwith about 200 more lines of the same\r\n\r\nI&#39;ve tried `Invalidate Cache and Restart` from android studio and I&#39;ve tried `rm -rf ~/.gradle/caches` but I continue getting the same error. I am able to build the exact same library on my other computers - I just can&#39;t get it to work on one machine in particular. Is there any other thing I might be missing that could cause this?","title":"Android Gradle build fails from cached files","body":"<p>I am trying to build one of my android libraries and everytime I get the following:</p>\n<pre><code>&gt; Task :app:mergeDebugResources FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:mergeDebugResources'.\n&gt; Multiple build operations failed.\n      java.nio.file.NoSuchFileException: /Users/user/.gradle/caches/transforms-3/0d92c5dbe3682b4fd3af323bb8f4fc81/results.bin\n      java.nio.file.NoSuchFileException: /Users/user/.gradle/caches/transforms-3/c9e81cc37c2c0c47883b955549c67149/results.bin\n      java.nio.file.NoSuchFileException: /Users/user/.gradle/caches/transforms-3/a60e256c2ccb687ca2c3dc1173bab875/results.bin\n      java.nio.file.NoSuchFileException: /Users/user/.gradle/caches/transforms-3/a31caec1a4d16ac05a41b0f552f96191/results.bin\n      java.nio.file.NoSuchFileException: /Users/user/.gradle/caches/transforms-3/9d3aed6b3e5d40e0d4373af6f3e198dc/results.bin\n      java.nio.file.NoSuchFileException: /Users/user/.gradle/caches/transforms-3/f9c01a9d9c0a59b69c3974ffcd3c9cee/results.bin\n      java.nio.file.NoSuchFileException: /Users/user/.gradle/caches/transforms-3/4d9724e0450bfaa483db25a04db0eb48/results.bin\n      java.nio.file.NoSuchFileException: /Users/user/.gradle/caches/transforms-3/a79286d8497b8365dabe35ac25780fe4/results.bin\n      java.nio.file.NoSuchFileException: /Users/user/.gradle/caches/transforms-3/2896cf3b957b3724a2dcfcee68be211f/results.bin\n      java.nio.file.NoSuchFileException: /Users/user/.gradle/caches/transforms-3/2896cf3b957b3724a2dcfcee68be211f/results.bin\n</code></pre>\n<p>with about 200 more lines of the same</p>\n<p>I've tried <code>Invalidate Cache and Restart</code> from android studio and I've tried <code>rm -rf ~/.gradle/caches</code> but I continue getting the same error. I am able to build the exact same library on my other computers - I just can't get it to work on one machine in particular. Is there any other thing I might be missing that could cause this?</p>\n"},{"tags":["java","android","android-sqlite","android-contentprovider","android-contentresolver"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1682039764,"post_id":76069107,"comment_id":134156992,"body_markdown":"*it is throwing an error couldn&#39;t open database.* - please share the stacktrace","body":"<i>it is throwing an error couldn&#39;t open database.</i> - please share the stacktrace"},{"owner":{"account_id":279638,"reputation":3996,"user_id":574911,"accept_rate":100,"display_name":"NoAIUser"},"score":0,"creation_date":1682042752,"post_id":76069107,"comment_id":134157299,"body_markdown":"edited the question to add stacktrace. \n`Directory /data/data/com.example.xxxxx/databases doesn&#39;t exist`\nActually Directory exists, looks like permission issue, not sure what permission that is.","body":"edited the question to add stacktrace.  <code>Directory &#47;data&#47;data&#47;com.example.xxxxx&#47;databases doesn&#39;t exist</code> Actually Directory exists, looks like permission issue, not sure what permission that is."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1682044147,"post_id":76069107,"comment_id":134157415,"body_markdown":"`chmod 777 /data/data/com.example.xxxxx/databases/*` ?","body":"<code>chmod 777 &#47;data&#47;data&#47;com.example.xxxxx&#47;databases&#47;*</code> ?"},{"owner":{"account_id":279638,"reputation":3996,"user_id":574911,"accept_rate":100,"display_name":"NoAIUser"},"score":0,"creation_date":1682044856,"post_id":76069107,"comment_id":134157464,"body_markdown":"Why would there be a permission issue when reading through contentresolver? Why we need to do this manual step to give permission to the db folder?","body":"Why would there be a permission issue when reading through contentresolver? Why we need to do this manual step to give permission to the db folder?"}],"answers":[{"tags":[],"owner":{"account_id":279638,"reputation":3996,"user_id":574911,"accept_rate":100,"display_name":"NoAIUser"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682389716,"creation_date":1682389716,"answer_id":76097277,"question_id":76069107,"body_markdown":"I had the issue with manifest tag sharedId, removing which resolved the issue. Also here&#39;s how the application looks like after the problem is solved. Hopefully this helps.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hD19H.png","title":"Accessing SQLite DB in multiuser app in Android","body":"<p>I had the issue with manifest tag sharedId, removing which resolved the issue. Also here's how the application looks like after the problem is solved. Hopefully this helps.</p>\n<p><a href=\"https://i.stack.imgur.com/hD19H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hD19H.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":279638,"reputation":3996,"user_id":574911,"accept_rate":100,"display_name":"NoAIUser"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76097277,"answer_count":1,"score":2,"last_activity_date":1682389716,"creation_date":1682037169,"question_id":76069107,"body_markdown":"I&#39;ve a requirement to access database created by a system user from other service via a foreground user. Both services are part of the same application.\r\n\r\nCreated a system service, which creates a database and exposes it via ContentProvider. In another application, foreground user tries to access it via ContentResolver. \r\n\r\nAdded permissions \r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERACT_ACROSS_USERS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERACT_ACROSS_USERS_FULL&quot; /&gt;\r\n\r\nmanifest declarations\r\n\r\n    &lt;service\r\n    android:name=&quot;.EXDBService&quot;\r\n    android:enabled=&quot;true&quot;\r\n    android:singleUser=&quot;true&quot;\r\n    android:exported=&quot;true&quot; /&gt;\r\n    \r\n    &lt;service\r\n    android:name=&quot;.EXService&quot;\r\n    android:enabled=&quot;true&quot;\r\n    android:exported=&quot;true&quot;\r\n    android:permission=&quot;com.example.EX_SERVICE&quot; /&gt;\r\n    &lt;provider\r\n    android:name=&quot;.EXDBMananger&quot;\r\n    android:authorities=&quot;com.example.provider&quot;\r\n    android:exported=&quot;true&quot;\r\n    android:readPermission=&quot;com.example.provider.READ_DATABASE&quot;\r\n    android:writePermission=&quot;com.example.provider.WRITE_DATABASE&quot; /&gt;\r\n\r\nBut when making the request like insert/update with Contentresolver, it is throwing an error couldn&#39;t open database. \r\n\r\n       \r\n\r\n    ContentResolver resolver = getContentResolver();\r\n    Uri uri = DbContract.BASE_CONTENT_URI;\r\n    // initiate contentValues with valid data\r\n    Cursor cursor = resolver.insert(uri, contentValues);\r\n\r\nWish I could share more code here, but any guesses for what this could cause this issue? \r\n\r\nI saw the user id 11 trying to access database on other application which is running on user 0. Does this cause any permission issue?\r\n\r\n\r\n\r\n\r\n    2023-04-20 21:01:48.745 8530-8530/com.example.xxxxx E/SQLiteDatabase: Failed to open database &#39;/data/data/com.example.xxxxx/databases/My.DB&#39;.\r\n        android.database.sqlite.SQLiteCantOpenDatabaseException: Cannot open database &#39;/data/data/com.example.xxxxx/databases/MY.DB&#39;: Directory /data/data/com.example.xxxxx/databases doesn&#39;t exist\r\n            at android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:254)\r\n            at android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:205)\r\n            at android.database.sqlite.SQLiteConnectionPool.openConnectionLocked(SQLiteConnectionPool.java:505)\r\n            at android.database.sqlite.SQLiteConnectionPool.open(SQLiteConnectionPool.java:206)\r\n            at android.database.sqlite.SQLiteConnectionPool.open(SQLiteConnectionPool.java:198)\r\n            at android.database.sqlite.SQLiteDatabase.openInner(SQLiteDatabase.java:919)\r\n            at android.database.sqlite.SQLiteDatabase.open(SQLiteDatabase.java:899)\r\n            at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:763)\r\n            at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:752)\r\n            at android.database.sqlite.SQLiteOpenHelper.getDatabaseLocked(SQLiteOpenHelper.java:383)\r\n            at android.database.sqlite.SQLiteOpenHelper.getReadableDatabase(SQLiteOpenHelper.java:340)\r\n\r\n","title":"Accessing SQLite DB in multiuser app in Android","body":"<p>I've a requirement to access database created by a system user from other service via a foreground user. Both services are part of the same application.</p>\n<p>Created a system service, which creates a database and exposes it via ContentProvider. In another application, foreground user tries to access it via ContentResolver.</p>\n<p>Added permissions</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.INTERACT_ACROSS_USERS&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.INTERACT_ACROSS_USERS_FULL&quot; /&gt;\n</code></pre>\n<p>manifest declarations</p>\n<pre><code>&lt;service\nandroid:name=&quot;.EXDBService&quot;\nandroid:enabled=&quot;true&quot;\nandroid:singleUser=&quot;true&quot;\nandroid:exported=&quot;true&quot; /&gt;\n\n&lt;service\nandroid:name=&quot;.EXService&quot;\nandroid:enabled=&quot;true&quot;\nandroid:exported=&quot;true&quot;\nandroid:permission=&quot;com.example.EX_SERVICE&quot; /&gt;\n&lt;provider\nandroid:name=&quot;.EXDBMananger&quot;\nandroid:authorities=&quot;com.example.provider&quot;\nandroid:exported=&quot;true&quot;\nandroid:readPermission=&quot;com.example.provider.READ_DATABASE&quot;\nandroid:writePermission=&quot;com.example.provider.WRITE_DATABASE&quot; /&gt;\n</code></pre>\n<p>But when making the request like insert/update with Contentresolver, it is throwing an error couldn't open database.</p>\n<pre><code>ContentResolver resolver = getContentResolver();\nUri uri = DbContract.BASE_CONTENT_URI;\n// initiate contentValues with valid data\nCursor cursor = resolver.insert(uri, contentValues);\n</code></pre>\n<p>Wish I could share more code here, but any guesses for what this could cause this issue?</p>\n<p>I saw the user id 11 trying to access database on other application which is running on user 0. Does this cause any permission issue?</p>\n<pre><code>2023-04-20 21:01:48.745 8530-8530/com.example.xxxxx E/SQLiteDatabase: Failed to open database '/data/data/com.example.xxxxx/databases/My.DB'.\n    android.database.sqlite.SQLiteCantOpenDatabaseException: Cannot open database '/data/data/com.example.xxxxx/databases/MY.DB': Directory /data/data/com.example.xxxxx/databases doesn't exist\n        at android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:254)\n        at android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:205)\n        at android.database.sqlite.SQLiteConnectionPool.openConnectionLocked(SQLiteConnectionPool.java:505)\n        at android.database.sqlite.SQLiteConnectionPool.open(SQLiteConnectionPool.java:206)\n        at android.database.sqlite.SQLiteConnectionPool.open(SQLiteConnectionPool.java:198)\n        at android.database.sqlite.SQLiteDatabase.openInner(SQLiteDatabase.java:919)\n        at android.database.sqlite.SQLiteDatabase.open(SQLiteDatabase.java:899)\n        at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:763)\n        at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:752)\n        at android.database.sqlite.SQLiteOpenHelper.getDatabaseLocked(SQLiteOpenHelper.java:383)\n        at android.database.sqlite.SQLiteOpenHelper.getReadableDatabase(SQLiteOpenHelper.java:340)\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9747,"page":478,"page_size":100}
